<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2961072-A1" country="EP" doc-number="2961072" kind="A1" date="20151230" family-id="51468839" file-reference-id="310470" date-produced="20180824" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="160451260" ucid="EP-2961072-A1"><document-id><country>EP</country><doc-number>2961072</doc-number><kind>A1</kind><date>20151230</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-15173610-A" is-representative="YES"><document-id mxw-id="PAPP193865488" load-source="patent-office" format="original"><country>EP</country><doc-number>15173610.5</doc-number><date>20150624</date><lang>ZH</lang></document-id><document-id mxw-id="PAPP193865489" load-source="docdb" format="epo"><country>EP</country><doc-number>15173610</doc-number><kind>A</kind><date>20150624</date><lang>ZH</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC162031505" ucid="CN-201410290954-A" load-source="docdb"><document-id format="epo"><country>CN</country><doc-number>201410290954</doc-number><kind>A</kind><date>20140625</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-1988524712" load-source="docdb">H03M   1/10        20060101AFI20151119BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1988526752" load-source="docdb">H03M   1/12        20060101ALN20151119BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1959453598" load-source="docdb" scheme="CPC">H03M   1/1033      20130101 LI20160318BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1959453599" load-source="docdb" scheme="CPC">H03M   1/1061      20130101 LA20160318BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1959453600" load-source="docdb" scheme="CPC">H03M   1/0836      20130101 LA20160318BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1959453601" load-source="docdb" scheme="CPC">H03M   1/0626      20130101 LA20160318BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1959453602" load-source="docdb" scheme="CPC">H03M   1/0624      20130101 LA20160318BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1984697932" load-source="docdb" scheme="CPC">H03M   1/1215      20130101 LI20160106BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1984701368" load-source="docdb" scheme="CPC">H03M   1/0631      20130101 FI20151231BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT165545246" lang="DE" load-source="patent-office">MEHRKANALIGER ZEITVERSCHACHTELTER ANALOG-DIGITAL-WANDLER</invention-title><invention-title mxw-id="PT165545247" lang="EN" load-source="patent-office">MULTI-CHANNEL TIME-INTERLEAVED ANALOG-TO-DIGITAL CONVERTER</invention-title><invention-title mxw-id="PT165545248" lang="FR" load-source="patent-office">CONVERTISSEUR ANALOGIQUE-NUMERIQUE A ENTRELACEMENT TEMPOREL MULTI-CANAL</invention-title><citations><patent-citations><patcit mxw-id="PCIT335745026" load-source="docdb" ucid="US-20110001644-A1"><document-id format="epo"><country>US</country><doc-number>20110001644</doc-number><kind>A1</kind><date>20110106</date></document-id><sources><source name="SEA" category="A" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT335740986" load-source="docdb" ucid="US-20110063149-A1"><document-id format="epo"><country>US</country><doc-number>20110063149</doc-number><kind>A1</kind><date>20110317</date></document-id><sources><source name="SEA" category="Y" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT371137717" load-source="docdb" ucid="US-20120075129-A1"><document-id format="epo"><country>US</country><doc-number>20120075129</doc-number><kind>A1</kind><date>20120329</date></document-id><sources><source name="SEA" category="XYI" created-by-npl="N"/></sources></patcit></patent-citations><non-patent-citations><nplcit><text>None</text><sources><source mxw-id="PNPL67567692" load-source="docdb" name="APP"/></sources></nplcit></non-patent-citations></citations></technical-data><parties><applicants><applicant mxw-id="PPAR1103325837" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>HUAWEI TECH CO LTD</last-name><address><country>CN</country></address></addressbook></applicant><applicant mxw-id="PPAR1103331825" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>HUAWEI TECHNOLOGIES CO., LTD.</last-name></addressbook></applicant><applicant mxw-id="PPAR1101646459" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Huawei Technologies Co., Ltd.</last-name><iid>100970540</iid><address><street>Huawei Administration Building Bantian</street><city>LONGGANG DISTRICT SHENZHEN, GUANGDONG 518129</city><country>CN</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR1103328057" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>QIU BINGSEN</last-name><address><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR1103337070" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>QIU, Bingsen</last-name></addressbook></inventor><inventor mxw-id="PPAR1101654087" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>QIU, Bingsen</last-name><address><street>Huawei Administration Building, Bantian, Longgang District</street><city>518129 Shenzhen</city><country>CN</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR1101641096" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Thun, Clemens</last-name><suffix>et al</suffix><iid>101429838</iid><address><street>Mitscherlich PartmbB Patent- und Rechtsanwälte Sonnenstrasse 33</street><city>80331 München</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><designated-states><ep-contracting-states><country mxw-id="DS660684993" load-source="docdb">AL</country><country mxw-id="DS660682608" load-source="docdb">AT</country><country mxw-id="DS660685007" load-source="docdb">BE</country><country mxw-id="DS660607693" load-source="docdb">BG</country><country mxw-id="DS660782431" load-source="docdb">CH</country><country mxw-id="DS660682018" load-source="docdb">CY</country><country mxw-id="DS660682609" load-source="docdb">CZ</country><country mxw-id="DS660607316" load-source="docdb">DE</country><country mxw-id="DS660682031" load-source="docdb">DK</country><country mxw-id="DS660682032" load-source="docdb">EE</country><country mxw-id="DS660604618" load-source="docdb">ES</country><country mxw-id="DS660607694" load-source="docdb">FI</country><country mxw-id="DS660607703" load-source="docdb">FR</country><country mxw-id="DS660685008" load-source="docdb">GB</country><country mxw-id="DS660682033" load-source="docdb">GR</country><country mxw-id="DS660685009" load-source="docdb">HR</country><country mxw-id="DS660682610" load-source="docdb">HU</country><country mxw-id="DS660782432" load-source="docdb">IE</country><country mxw-id="DS660685010" load-source="docdb">IS</country><country mxw-id="DS660607704" load-source="docdb">IT</country><country mxw-id="DS660682034" load-source="docdb">LI</country><country mxw-id="DS660607317" load-source="docdb">LT</country><country mxw-id="DS660682615" load-source="docdb">LU</country><country mxw-id="DS660607318" load-source="docdb">LV</country><country mxw-id="DS660607323" load-source="docdb">MC</country><country mxw-id="DS660682155" load-source="docdb">MK</country><country mxw-id="DS660682156" load-source="docdb">MT</country><country mxw-id="DS660685019" load-source="docdb">NL</country><country mxw-id="DS660607705" load-source="docdb">NO</country><country mxw-id="DS660685020" load-source="docdb">PL</country><country mxw-id="DS660782433" load-source="docdb">PT</country><country mxw-id="DS660685021" load-source="docdb">RO</country><country mxw-id="DS660782434" load-source="docdb">RS</country><country mxw-id="DS660685022" load-source="docdb">SE</country><country mxw-id="DS660782435" load-source="docdb">SI</country><country mxw-id="DS660607325" load-source="docdb">SK</country><country mxw-id="DS660607326" load-source="docdb">SM</country><country mxw-id="DS660682059" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA166479630" lang="EN" load-source="patent-office"><p id="pa01" num="0001">The present invention provides a multi-channel time-interleaved analog-to-digital converter, where the multi-channel time-interleaved analog-to-digital converter includes: a clock generation circuit, configured to generate a work clock of the analog-to-digital converter; a channel ADC group, including M ADC channels, arranged to be in a time-interleaved architecture, and configured to convert, under the control of the clock generation circuit and in a time division multiplexing manner, one high-speed analog input signal into M low-speed digital output signals, where M is an integer not less than 2; a channel mismatch detection circuit, configured to detect in real time timing skew errors of output signals of the M ADC channels, to obtain a timing skew parameter of each ADC channel relative to a reference ADC channel; a signal compensation and reconstruction circuit, configured to perform, according to the timing skew parameters detected by the channel mismatch detection circuit, compensation and reconstruction on the digital output signals output by the channel ADC group; and a signal combining circuit, configured to combine the M low-speed output signals that are of the channels and generated after the compensation by the signal compensation and reconstruction circuit, to obtain one final high-speed digital output signal.
<img id="iaf01" file="imgaf001.tif" wi="113" he="77" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA166759442" lang="EN" source="EPO" load-source="docdb"><p>The present invention provides a multi-channel time-interleaved analog-to-digital converter, where the multi-channel time-interleaved analog-to-digital converter includes: a clock generation circuit, configured to generate a work clock of the analog-to-digital converter; a channel ADC group, including M ADC channels, arranged to be in a time-interleaved architecture, and configured to convert, under the control of the clock generation circuit and in a time division multiplexing manner, one high-speed analog input signal into M low-speed digital output signals, where M is an integer not less than 2; a channel mismatch detection circuit, configured to detect in real time timing skew errors of output signals of the M ADC channels, to obtain a timing skew parameter of each ADC channel relative to a reference ADC channel; a signal compensation and reconstruction circuit, configured to perform, according to the timing skew parameters detected by the channel mismatch detection circuit, compensation and reconstruction on the digital output signals output by the channel ADC group; and a signal combining circuit, configured to combine the M low-speed output signals that are of the channels and generated after the compensation by the signal compensation and reconstruction circuit, to obtain one final high-speed digital output signal.</p></abstract><description mxw-id="PDES98404331" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001"><b>TECHNICAL FIELD</b></heading><p id="p0001" num="0001">The present invention relates to the field of electronics, and in particular, to a multi-channel time-interleaved analog-to-digital converter.</p><heading id="h0002"><b>BACKGROUND</b></heading><p id="p0002" num="0002">A multi-channel time-interleaved analog-to-digital converter (Multi-channel Time-interleaved Analog-to-Digital Converter) is a high-speed ADC architecture that connects multiple analog-to-digital converters (Analog-to-Digital Converter, ADC) in parallel, and makes, by using staggered clock, the converters alternatively work in a time division multiplexing manner, and can combine low-speed signals, which are output by ADCs that keep working at a low frequency, into a high-speed signal. In an ideal case, when circuit parameters of ADCs of various channels are identical, a sampling rate of a Time-interleaved ADC increases in direct proportion to a quantity of interleaved parallel ADC channels. In fact, it is very difficult to achieve exact matching of sampling time for ADCs of different channels, thereby generating a timing skew error (timing skew error). Without correction, dynamic performance of a Time-interleaved ADC will be severely affected. Therefore, timing skew errors of the ADCs of the channels need to be detected, and after the detection, a foreground correction technology or a background correction technology is used for correction to compensate for the timing skew errors.</p><heading id="h0003"><b>SUMMARY</b></heading><p id="p0003" num="0003">An objective of the present invention is to provide a multi-channel time-interleaved analog-to-digital converter, which can make multiple low-speed ADCs equivalent to one high-speed ADC.</p><p id="p0004" num="0004">To achieve the foregoing objective, the present invention provides an analog-to-digital converter, where the analog-to-digital converter includes:
<ul><li>a clock generation circuit, configured to generate a work clock of the analog-to-digital converter;<!-- EPO <DP n="2"> --></li><li>a channel ADC group, including M ADC channels, arranged to be in a time-interleaved architecture, and configured to convert, under the control of the clock generation circuit and in a time division multiplexing manner, one high-speed analog input signal into M low-speed digital output signals, where M is an integer not less than 2;</li><li>a channel mismatch detection circuit, configured to detect in real time timing skew errors of output signals of the M ADC channels, to obtain a timing skew parameter of each ADC channel relative to a reference ADC channel;</li><li>a signal compensation and reconstruction circuit, configured to perform, according to the timing skew parameters detected by the channel mismatch detection circuit, compensation and reconstruction on the digital output signals output by the channel ADC group; and</li><li>a signal combining circuit, configured to combine the M low-speed output signals that are of the channels and generated after the compensation by the signal compensation and reconstruction circuit, to obtain one final high-speed digital output signal.</li></ul></p><p id="p0005" num="0005">According to the analog-to-digital converter in the embodiment of the present invention, the channel mismatch detection circuit further includes:
<ul><li>a notch filter, configured to perform notch filtering on the output signals of the M ADC channels;</li><li>a mismatch error discriminator, configured to perform mismatch error discrimination according to an output result of the notch filter;</li><li>an alpha filter, configured to perform smooth filtering on a timing skew parameter generated by the mismatch error discriminator; and</li><li>a mismatch error adaptive iterative circuit, configured to optimize an adaptive error value obtained through the smooth filtering, to obtain a timing skew error steady state value.</li></ul></p><p id="p0006" num="0006">According to the analog-to-digital converter in the embodiment of the present invention, the notch filter includes:
<ul><li>a first shift register, configured to shift an input signal to the right by 6 bits;</li><li>a first delay circuit, configured to delay the input signal by one clock;</li><li>a second shift register, configured to shift an output signal of the first delay circuit to the right by 6 bits;</li><li>a first subtracter, configured to subtract an output of the first shift register from the input<!-- EPO <DP n="3"> --> signal;</li><li>a second subtracter, configured to subtract an output of the second shift register from an output of the first delay circuit;</li><li>a first adder, configured to subtract an output of the second subtracter from an output of the first subtracter;</li><li>a second delay circuit, configured to delay an output signal of the first adder by one beat;</li><li>a third shift register, configured to shift an output signal of the second delay circuit to the right by 6 bits;</li><li>a third subtracter, configured to subtract an output of the third shift register from an output of the second delay circuit; and</li><li>a third delay circuit, configured to delay an output of the third subtracter by one beat, and use a delayed output as a final output signal of the notch filter.</li></ul></p><p id="p0007" num="0007">According to the analog-to-digital converter in the embodiment of the present invention, the mismatch error discriminator includes:
<ul><li>a fourth subtracter, configured to subtract <maths id="math0001" num=""><math display="inline"><mrow><msubsup><mrow><mover><mi>x</mi><mrow><mo>˜</mo></mrow></mover></mrow><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow><mi>ʹ</mi></msubsup><mfenced><mi>n</mi></mfenced></mrow></math><img id="ib0001" file="imgb0001.tif" wi="13" he="7" img-content="math" img-format="tif" inline="yes"/></maths> from a signal <maths id="math0002" num=""><math display="inline"><mrow><msubsup><mrow><mover><mi>x</mi><mrow><mo>˜</mo></mrow></mover></mrow><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow><mi>ʹ</mi></msubsup><mfenced><mi>n</mi></mfenced></mrow></math><img id="ib0002" file="imgb0002.tif" wi="14" he="8" img-content="math" img-format="tif" inline="yes"/></maths> output by the notch filter; and</li><li>a first multiplier, configured to multiply an output of the fourth subtracter by a signal <maths id="math0003" num=""><math display="inline"><mrow><msubsup><mrow><mover><mi>x</mi><mrow><mo>‾</mo></mrow></mover></mrow><mi>i</mi><mi>ʹ</mi></msubsup><mfenced><mi>n</mi></mfenced></mrow></math><img id="ib0003" file="imgb0003.tif" wi="12" he="7" img-content="math" img-format="tif" inline="yes"/></maths> output by the notch filter.</li></ul></p><p id="p0008" num="0008">According to the analog-to-digital converter in the embodiment of the present invention, the alpha filter includes:
<ul><li>a fifth subtracter, configured to subtract <maths id="math0004" num=""><math display="inline"><mrow><msubsup><mi>δ</mi><mi>i</mi><mi>ʹ</mi></msubsup><mo>⁢</mo><mfenced separators=""><mi>n</mi><mo>-</mo><mn>1</mn></mfenced></mrow></math><img id="ib0004" file="imgb0004.tif" wi="17" he="7" img-content="math" img-format="tif" inline="yes"/></maths> from an output signal <maths id="math0005" num=""><math display="inline"><mrow><msubsup><mrow><mover><mi>δ</mi><mrow><mo>˜</mo></mrow></mover></mrow><mi>i</mi><mi>ʹ</mi></msubsup><mfenced><mi>n</mi></mfenced></mrow></math><img id="ib0005" file="imgb0005.tif" wi="12" he="9" img-content="math" img-format="tif" inline="yes"/></maths> of the mismatch error discriminator;</li><li>a second multiplier, configured to multiply an output result of the fifth subtracter by an α factor;</li><li>a second adder, configured to add an output of the multiplier and <maths id="math0006" num=""><math display="inline"><mrow><msubsup><mi>δ</mi><mi>i</mi><mi>ʹ</mi></msubsup><mo>⁢</mo><mfenced separators=""><mi>n</mi><mo>-</mo><mn>1</mn></mfenced><mo>;</mo></mrow></math><img id="ib0006" file="imgb0006.tif" wi="18" he="9" img-content="math" img-format="tif" inline="yes"/></maths> and</li><li>a fourth delay circuit, configured to delay an output of the second adder by one beat.</li></ul></p><p id="p0009" num="0009">According to the analog-to-digital converter in the embodiment of the present invention, the adaptive iterative circuit includes:
<ul><li>a first operation circuit, configured to take a maximum value of a mismatch error value <maths id="math0007" num=""><math display="inline"><mrow><msubsup><mi>δ</mi><mi>i</mi><mi>ʹ</mi></msubsup></mrow></math><img id="ib0007" file="imgb0007.tif" wi="5" he="6" img-content="math" img-format="tif" inline="yes"/></maths> of each channel output by the alpha filter;</li><li>a second operation circuit, configured to take the reciprocal of an output result of the first operation circuit;</li><li>a fifth delay circuit, configured to delay an output result of the second operation circuit<!-- EPO <DP n="4"> --> by one beat;</li><li>a third multiplier, configured to multiply an output of the fifth delay circuit by an output signal <maths id="math0008" num=""><math display="inline"><mrow><msubsup><mi>δ</mi><mi>i</mi><mi>ʹ</mi></msubsup><mfenced><mi>n</mi></mfenced></mrow></math><img id="ib0008" file="imgb0008.tif" wi="12" he="7" img-content="math" img-format="tif" inline="yes"/></maths> of the alpha filter;</li><li>a sixth delay circuit, configured to delay an output result of the third multiplier by one beat;</li><li>a fourth multiplier, configured to multiply an output result of the sixth delay circuit by a constant µ;</li><li>a third adder, configured to add an output of the fourth multiplier to an output at a previous moment of the adaptive iterative circuit; and</li><li>a seventh delay circuit, configured to delay an output result of the third adder by one beat, and use a delayed output result as a final timing skew error steady state value <i>δ<sub>i</sub></i>(<i>n</i>).</li></ul></p><p id="p0010" num="0010">According to the analog-to-digital converter in the embodiment of the present invention, the analog-to-digital converter further includes an energy detector, where the energy detector performs an absolute value operation on an output value of the reference channel, then subtracts a set threshold after performing filtering by using the alpha filter, and transmits, as a final output to the mismatch error discriminator, a symbol of an operation result obtained after the set threshold has been subtracted, where when a high level is output, the mismatch error discriminator works normally, and when a low level is output, a current parameter is blocked, and a previous discrimination value is used.</p><p id="p0011" num="0011">According to the analog-to-digital converter in the embodiment of the present invention, the analog-to-digital converter further includes a timing control circuit, to control a work process of the analog-to-digital converter.</p><p id="p0012" num="0012">The embodiment of the present invention provides an analog-to-digital converter, where there is no special requirement for a spectrum of an input signal, a sampling frequency of an ADC of each channel does not need to individually meet the Nyquist criterion; instead, in a case in which an equivalent sampling frequency output by a combination in a time-interleaved ADC meets the Nyquist criterion, a timing skew error of a channel can be accurately calculated, and correction and compensation are performed on a signal generated by an ADC of each channel, to output a correct signal.</p><heading id="h0004"><b>BRIEF DESCRIPTION OF DRAWINGS</b></heading><p id="p0013" num="0013"><ul><li><figref idrefs="f0001">FIG. 1</figref> is a principle block diagram of an M-channel time-interleaved analog-to-digital converter according to an embodiment of the present invention;<!-- EPO <DP n="5"> --></li><li><figref idrefs="f0001">FIG. 2</figref> is a clock timing diagram generated by an ADC of each channel and a combined output clock timing diagram according to an embodiment of the present invention;</li><li><figref idrefs="f0002">FIG. 3</figref> is a structural diagram of a channel mismatch parameter detection circuit according to an embodiment of the present invention;</li><li><figref idrefs="f0002">FIG. 4</figref> is a principle diagram of a notch filter in a channel mismatch parameter detection circuit according to an embodiment of the present invention;</li><li><figref idrefs="f0002">FIG. 5</figref> is a principle diagram of a mismatch error discriminator of 0 to (M-2) channels in a channel mismatch parameter detection circuit according to an embodiment of the present invention;</li><li><figref idrefs="f0003">FIG. 6</figref> is a principle diagram of a mismatch error discriminator of an ADC of the (M-1)th channel in a channel mismatch parameter detection circuit according to an embodiment of the present invention;</li><li><figref idrefs="f0003">FIG. 7</figref> is a principle diagram of an implementation manner of an alpha filter in a channel mismatch parameter detection circuit according to an embodiment of the present invention;</li><li><figref idrefs="f0003">FIG. 8</figref> is a principle diagram of a mismatch error adaptive iterative circuit in a channel mismatch parameter detection circuit according to an embodiment of the present invention;</li><li><figref idrefs="f0004">FIG. 9</figref> is a principle diagram of an energy detector according to an embodiment of the present invention;</li><li><figref idrefs="f0004">FIG. 10</figref> is a schematic principle diagram of a timing control logic circuit according to an embodiment of the present invention;</li><li><figref idrefs="f0005">FIG. 11</figref> is a schematic block diagram of another embodiment of an analog-to-digital converter according to an embodiment of the present invention; and</li><li><figref idrefs="f0006">FIG. 12</figref> is a performance index comparison diagram of an analog-to-digital converter according to an embodiment of the present invention.</li></ul></p><heading id="h0005"><b>DESCRIPTION OF EMBODIMENTS</b></heading><p id="p0014" num="0014">The technical solutions of the present invention are further described below in detail with reference to the accompanying drawings and embodiments.</p><p id="p0015" num="0015">As shown in <figref idrefs="f0001">FIG. 1</figref>, an embodiment of the present invention provides an analog-to-digital converter, where the analog-to-digital converter is a multi-channel time-interleaved analog-to-digital converter. It can be seen from <figref idrefs="f0001">FIG. 1</figref> that the analog-to-digital converter includes an M-channel ADC group, a clock generation circuit, a channel mismatch parameter detection circuit, a signal compensation and reconstruction circuit, and a signal combining circuit.</p><p id="p0016" num="0016">The clock generation circuit is configured to generate a work clock of the analog-to-digital converter. The M-channel ADC group includes ADCs of M channels, where M is a<!-- EPO <DP n="6"> --> natural number not less than 2. These ADCs are arranged to be in a time-interleaved architecture, and under the control of the clock generation circuit, these ADCs alternatively work in a time division multiplexing manner by using a staggered clock, to convert an analog input signal into a digital output signal, where sampling clocks of ADCs of adjacent subchannels in M ADC channels have a phase difference of 2<i>π</i>/<i>M</i></p><p id="p0017" num="0017">The channel mismatch detection circuit is configured to perform real-time detection on timing skew errors of output signals of the M ADC channels, to obtain a timing skew parameter of each ADC channel relative to a reference ADC channel.</p><p id="p0018" num="0018">The signal compensation and reconstruction circuit is configured to perform, according to a detection result of the channel mismatch detection circuit, compensation and reconstruction on output signals of the M channels, where the output signals obtained after compensation and reconstruction are sent to the signal combining circuit; and configured to combine the M low-speed output signals that are of the channels and generated after the compensation by the signal compensation and reconstruction circuit, to obtain one final high-speed digital output signal.</p><p id="p0019" num="0019">The one final high-speed digital output signal of a design sampling frequency is obtained through combination in the signal combining circuit, and is used as a final output signal of the analog-to-digital converter. The signal compensation and reconstruction circuit may be implemented in a digital manner, or may be implemented in an analog circuit manner.</p><p id="p0020" num="0020">In this embodiment of the present invention, as shown in <figref idrefs="f0001">FIG. 2</figref>, it is assumed that the clock generation circuit generates M clocks <i>clk</i>(<i>f<sub>s</sub></i>/<i>M,ϕ</i>=0), <i>clk</i>(<i>f<sub>s</sub></i>/<i>M,ϕ</i>=2<i>π</i>/<i>M</i>), ..., <i>clk</i>(<i>f<sub>s</sub></i>/<i>M, ϕ</i> = (<i>M-</i>1)2π/<i>M</i>) with a frequency of <i>f<sub>s</sub></i>/<i>M</i> and a phase difference of 2<i>π</i>/<i>M,</i> and the M clocks are used as sampling clocks for an ADC<sub>0</sub>, ADC<sub>1</sub>, ..., and ADC<sub>M-1</sub> in the M-channel ADC group. In this way, sampling time is staggered for the ADCs of the M channels, and the ADCs of the M channels convert, in a time division multiplexing and alternate work manner, an analog input signal into a digital output signal with an equivalent sampling frequency of <i>f<sub>s</sub>.</i></p><p id="p0021" num="0021">In <figref idrefs="f0001">FIG. 2</figref>, for ease of description, sampling clocks of ADCs of subchannels are described as a pulse form. In fact, the sampling clocks of the ADCs of these subchannels are rectangular waves with a frequency of <i>f<sub>s</sub></i>/<i>M.</i> In an ideal case, when circuit parameters of the ADCs of the M channels are all the same, a sampling rate of a time-interleaved ADC increases to M times, that is, increasing from <i>f<sub>s</sub></i>/<i>M</i> to <i>f<sub>s</sub></i>. However, due to process deviations, it is very difficult to achieve exact matching of sampling time for ADCs of the M channels. In other words, a phase difference between two adjacent ADCs is constantly kept at 2<i>π</i>/<i>M</i>, thereby generating a timing skew error<!-- EPO <DP n="7"> --> (timing skew error). In addition, the timing skew error may further change with temperature drift or a change of supply voltage or another environmental condition. If the timing skew error is not corrected, dynamic performance of a time-interleaved ADC is severely affected.</p><p id="p0022" num="0022">In an embodiment, it is first assumed that ADC0 is a reference channel, and a sampling clock <i>clk</i>(<i>f<sub>s</sub></i>/2<i>, ϕ</i> = 0) of ADC0 has a precise zero phase. Therefore, an actual value <i>ΔT<sub>i</sub></i> by which a sampling clock <i>clk</i>(<i>f<sub>s</sub></i>/<i>M, ϕ</i> = <i>2iπ</i>/<i>M</i>) of ADC<sub>i</sub> (<i>i</i> = 1,2,···, <i>M</i> -1) of a channel deviates from an ideal phase 2<i>iπ</i>/<i>M</i> is a timing skew error. For convenience, measurement is performed by using a "normalized timing skew error", which is defined as <maths id="math0009" num=""><math display="block"><mrow><msub><mi>δ</mi><mi>i</mi></msub><mfenced><mi>n</mi></mfenced><mo>=</mo><mfrac><mrow><mi mathvariant="normal">Δ</mi><mo>⁢</mo><msub><mi>T</mi><mi>i</mi></msub></mrow><mrow><msub><mi>T</mi><mi>S</mi></msub></mrow></mfrac></mrow></math><img id="ib0009" file="imgb0009.tif" wi="28" he="16" img-content="math" img-format="tif"/></maths><br/>
where <maths id="math0010" num=""><math display="inline"><mrow><msub><mi>T</mi><mi>S</mi></msub><mo>=</mo><mfrac><mn>1</mn><mrow><msub><mi>f</mi><mi>S</mi></msub></mrow></mfrac></mrow></math><img id="ib0010" file="imgb0010.tif" wi="17" he="12" img-content="math" img-format="tif" inline="yes"/></maths> is an equivalent sampling clock cycle of a time-interleaved ADC; and <i>n</i> is time, and introduction of <i>n</i> indicates that the timing skew error has a time varying characteristic.</p><p id="p0023" num="0023">With reference to the structural block diagram of the analog-to-digital converter shown in <figref idrefs="f0001">FIG. 1</figref>, a role of a channel mismatch parameter detection circuit in this embodiment of the present invention is to detect a timing skew error <i>δ<sub>i</sub></i>(<i>n</i>) (<i>i</i> = 1,2,···,<i>M</i> -1) between ADCs of channels. The signal compensation and reconstruction circuit performs, according to the error parameter value detected by the channel mismatch parameter detection circuit, compensation and reconstruction processing on the signals output by the channel ADC group; and the signals output by the signal compensation and reconstruction circuit are sent to the signal combining circuit, and are combined to obtain a high-speed signal with an equivalent sampling frequency of <i>f<sub>s</sub></i>, which is used as an output of an entire system.</p><p id="p0024" num="0024">Optionally, to ensure that the channel mismatch parameter detection circuit can still work normally in a case in which an input signal is suddenly interrupted, an energy detector (Energy Detector) may further be set. Similarly, to control a work process of the entire system, a timing control circuit (Control Logic) may be set. The energy detector and the timing control circuit may both be seen as auxiliary units of the channel mismatch parameter detection circuit.</p><p id="p0025" num="0025">Further, as shown in <figref idrefs="f0002">FIG. 3, FIG. 3</figref> is a principle block diagram of a channel mismatch parameter detection circuit in this embodiment of the present invention. The circuit is configured to detect a timing skew error, or referred to as n channel mismatch error (channel Mismatch), of an ADC<i><sub>i</sub></i> (<i>i</i> = 1,2,···,<i>M</i> -1) of a subchannel, where ADC0 of a subchannel is a reference channel. The<!-- EPO <DP n="8"> --> channel mismatch parameter detection circuit includes a notch filter (notch filter), a mismatch error discriminator, an alpha (alpha) filter, and a mismatch error adaptive iterative circuit. For the channel mismatch parameter detection circuit, input data comes from the signal compensation and reconstruction circuit, and an output is fed back to the signal compensation and reconstruction circuit to form a closed loop.</p><p id="p0026" num="0026">For an M-channel time-interleaved ADC, to detect the timing skew error of the subchannel ADC<i><sub>i</sub></i> (<i>i</i> = 1,2,···<i>,M-</i>1), output signals <i>x</i><sub><i>i-</i>1</sub>(<i>n</i>) <i>x<sub>i</sub></i>(<i>n</i>), and <i>x</i><sub><i>i</i>+1</sub>(<i>n</i>) of ADC<sub>i-1</sub>, ADC<sub>i</sub>, and ADC<sub>i+1</sub> are first sent to the notch filter, where <i>x<sub>M</sub></i>(<i>n</i>) =<i>x</i><sub>0</sub>(<i>n</i>+1). A function of the notch filter is to filter out an input signal with a frequency of <maths id="math0011" num=""><math display="inline"><mrow><mfrac><mrow><msub><mi mathvariant="italic">kf</mi><mi>S</mi></msub></mrow><mrow><mn>2</mn><mo>⁢</mo><mi>M</mi></mrow></mfrac><mo>,</mo></mrow></math><img id="ib0011" file="imgb0011.tif" wi="12" he="13" img-content="math" img-format="tif" inline="yes"/></maths> where <i>k</i> =1,2,···,<i>M</i>-1<i>,</i> and <i>f<sub>s</sub></i> is an equivalent sampling frequency of the M-channel time-interleaved ADC. Theoretically, it can be proved that, for the M-channel time-interleaved ADC, a <maths id="math0012" num=""><math display="inline"><mrow><mfrac><mrow><msub><mi mathvariant="italic">kf</mi><mi>S</mi></msub></mrow><mrow><mn>2</mn><mo>⁢</mo><mi>M</mi></mrow></mfrac></mrow></math><img id="ib0012" file="imgb0012.tif" wi="9" he="13" img-content="math" img-format="tif" inline="yes"/></maths> frequency component of the input signal plays a misleading role on detection of a channel mismatch error, and must be controlled.</p><p id="p0027" num="0027">In this embodiment of the present invention, a transfer function of the notch filter is: <maths id="math0013" num=""><math display="block"><mrow><mi>H</mi><mfenced><mi>z</mi></mfenced><mo>=</mo><mfrac><mrow><mn>0.984375</mn><mo>⁢</mo><mfenced separators=""><mn>1</mn><mo>+</mo><msup><mi>Z</mi><mrow><mo>-</mo><mn>1</mn></mrow></msup></mfenced></mrow><mrow><mn>1</mn><mo>+</mo><mn>0.984375</mn><mo>⁢</mo><msup><mi>Z</mi><mrow><mo>-</mo><mn>1</mn></mrow></msup></mrow></mfrac></mrow></math><img id="ib0013" file="imgb0013.tif" wi="46" he="13" img-content="math" img-format="tif"/></maths><br/>
where, Z<sup>-1</sup> indicates a delay by one beat (clock cycle), and the foregoing formula may further be represented as follows by using a difference equation: <maths id="math0014" num=""><math display="block"><mrow><mtable><mtr><mtd><msubsup><mrow><mover><mi>x</mi><mrow><mo>˜</mo></mrow></mover></mrow><mi>i</mi><mi>ʹ</mi></msubsup><mfenced><mi>n</mi></mfenced></mtd><mtd columnalign="left"><mo>=</mo><mo>-</mo><mn>0.96875</mn><mo>⁢</mo><msubsup><mrow><mover><mi>x</mi><mrow><mo>˜</mo></mrow></mover></mrow><mi>i</mi><mi>ʹ</mi></msubsup><mo>⁢</mo><mfenced separators=""><mi>n</mi><mo>-</mo><mn>1</mn></mfenced><mo>+</mo><mn>0.98475</mn><mo>⁢</mo><msub><mrow><mover><mi>x</mi><mrow><mo>˜</mo></mrow></mover></mrow><mi>i</mi></msub><mfenced><mi>n</mi></mfenced><mo>+</mo><mn>0.984375</mn><mo>⁢</mo><msub><mrow><mover><mi>x</mi><mrow><mo>˜</mo></mrow></mover></mrow><mi>i</mi></msub><mo>⁢</mo><mfenced separators=""><mi>n</mi><mo>-</mo><mn>1</mn></mfenced></mtd></mtr><mtr><mtd><mspace width="1em"/></mtd><mtd columnalign="left"><mo>=</mo><mfenced open="[" close="]" separators=""><msup><mn>2</mn><mrow><mo>-</mo><mn>5</mn></mrow></msup><mo>⁢</mo><msubsup><mrow><mover><mi>x</mi><mrow><mo>˜</mo></mrow></mover></mrow><mi>i</mi><mi>ʹ</mi></msubsup><mo>⁢</mo><mfenced separators=""><mi>n</mi><mo>-</mo><mn>1</mn></mfenced><mo>-</mo><msubsup><mrow><mover><mi>x</mi><mrow><mo>˜</mo></mrow></mover></mrow><mi>i</mi><mi>ʹ</mi></msubsup><mo>⁢</mo><mfenced separators=""><mi>n</mi><mo>-</mo><mn>1</mn></mfenced></mfenced><mo>+</mo><mfenced open="[" close="]" separators=""><msub><mrow><mover><mi>x</mi><mrow><mo>˜</mo></mrow></mover></mrow><mi>i</mi></msub><mfenced><mi>n</mi></mfenced><mo>-</mo><msup><mn>2</mn><mrow><mo>-</mo><mn>6</mn></mrow></msup><mo>⁢</mo><msub><mrow><mover><mi>x</mi><mrow><mo>˜</mo></mrow></mover></mrow><mi>i</mi></msub><mfenced><mi>n</mi></mfenced></mfenced><mo>+</mo><mfenced open="[" close="]" separators=""><msub><mrow><mover><mi>x</mi><mrow><mo>˜</mo></mrow></mover></mrow><mi>i</mi></msub><mo>⁢</mo><mfenced separators=""><mi>n</mi><mo>-</mo><mn>1</mn></mfenced><mo>-</mo><msup><mn>2</mn><mrow><mo>-</mo><mn>6</mn></mrow></msup><mo>⁢</mo><msub><mrow><mover><mi>x</mi><mrow><mo>˜</mo></mrow></mover></mrow><mi>i</mi></msub><mo>⁢</mo><mfenced separators=""><mi>n</mi><mo>-</mo><mn>1</mn></mfenced></mfenced></mtd></mtr></mtable></mrow></math><img id="ib0014" file="imgb0014.tif" wi="137" he="16" img-content="math" img-format="tif"/></maths><br/>
where, a specific VLSI circuit implementation of the <i>i</i><sup>th</sup> channel notch filter is shown in <figref idrefs="f0002">FIG. 4</figref>. It can be seen that, an implementation of the notch filter in the present invention includes a shift register that performs an operation of shifting an input signal to the right, a delay circuit that delays a signal by one clock, and several adders. In this embodiment, only addition and shifting are required, a multiplier is not required, and therefore hardware costs are low.</p><p id="p0028" num="0028">Outputs <maths id="math0015" num=""><math display="inline"><mrow><msubsup><mrow><mover><mi>x</mi><mrow><mo>˜</mo></mrow></mover></mrow><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow><mi>ʹ</mi></msubsup><mfenced><mi>n</mi></mfenced><mo>,</mo></mrow></math><img id="ib0015" file="imgb0015.tif" wi="15" he="9" img-content="math" img-format="tif" inline="yes"/></maths> <maths id="math0016" num=""><math display="inline"><mrow><msubsup><mrow><mover><mi>x</mi><mrow><mo>˜</mo></mrow></mover></mrow><mi>i</mi><mi>ʹ</mi></msubsup><mfenced><mi>n</mi></mfenced><mo>,</mo></mrow></math><img id="ib0016" file="imgb0016.tif" wi="12" he="9" img-content="math" img-format="tif" inline="yes"/></maths> and <maths id="math0017" num=""><math display="inline"><mrow><msubsup><mrow><mover><mi>x</mi><mrow><mo>˜</mo></mrow></mover></mrow><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow><mi>ʹ</mi></msubsup><mfenced><mi>n</mi></mfenced></mrow></math><img id="ib0017" file="imgb0017.tif" wi="14" he="8" img-content="math" img-format="tif" inline="yes"/></maths> of the notch filter are directly sent to the mismatch error discriminator for performing specific work of detecting a channel mismatch error.</p><p id="p0029" num="0029">In the M-channel time-interleaved ADC, a transient estimate <i>δ̃<sub>i</sub></i>(<i>n</i>) of a normalized timing skew error of the <i>i</i><sup>th</sup>(<i>i</i> = 1,2<i>,</i>···<i>,M-</i>2) channel may be measured by using the following formula: <maths id="math0018" num=""><math display="inline"><mrow><msubsup><mrow><mover><mi>δ</mi><mrow><mo>˜</mo></mrow></mover></mrow><mi>i</mi><mi>ʹ</mi></msubsup><mfenced><mi>n</mi></mfenced><mo>=</mo><msubsup><mrow><mover><mi>x</mi><mrow><mo>‾</mo></mrow></mover></mrow><mi>i</mi><mi>ʹ</mi></msubsup><mfenced><mi>n</mi></mfenced><mo>⋅</mo><mfenced open="[" close="]" separators=""><msubsup><mrow><mover><mi>x</mi><mrow><mo>˜</mo></mrow></mover></mrow><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow><mi>ʹ</mi></msubsup><mfenced><mi>n</mi></mfenced><mo>-</mo><msubsup><mrow><mover><mi>x</mi><mrow><mo>˜</mo></mrow></mover></mrow><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow><mi>ʹ</mi></msubsup><mfenced><mi>n</mi></mfenced></mfenced><mo>,</mo></mrow></math><img id="ib0018" file="imgb0018.tif" wi="55" he="10" img-content="math" img-format="tif" inline="yes"/></maths> where reference may be made to <figref idrefs="f0002">FIG. 5</figref> for a specific<!-- EPO <DP n="9"> --> implementation circuit of the formula, which mainly is formed by an adder, a multiplier, a data selector, and a delay circuit.</p><p id="p0030" num="0030">An calculation formula for a transient estimate <i>δ̃</i><sub>M-1</sub>(<i>n</i>) of a normalized timing skew error of the (M-1)<sup>th</sup> channel is represented as <maths id="math0019" num=""><math display="block"><mrow><msub><mrow><mover><mi>δ</mi><mrow><mo>˜</mo></mrow></mover></mrow><mrow><mi>M</mi><mo>-</mo><mn>1</mn></mrow></msub><mfenced><mi>n</mi></mfenced><mo>=</mo><msubsup><mrow><mover><mi>x</mi><mrow><mo>˜</mo></mrow></mover></mrow><mrow><mi>M</mi><mo>-</mo><mn>1</mn></mrow><mi>ʹ</mi></msubsup><mo>⁢</mo><mfenced separators=""><mi>n</mi><mo>-</mo><mn>1</mn></mfenced><mo>⋅</mo><mfenced open="[" close="]" separators=""><msubsup><mrow><mover><mi>x</mi><mrow><mo>˜</mo></mrow></mover></mrow><mn>0</mn><mi>ʹ</mi></msubsup><mfenced><mi>n</mi></mfenced><mo>-</mo><msubsup><mrow><mover><mi>x</mi><mrow><mo>˜</mo></mrow></mover></mrow><mrow><mi>M</mi><mo>-</mo><mn>2</mn></mrow><mi>ʹ</mi></msubsup><mo>⁢</mo><mfenced separators=""><mi>n</mi><mo>-</mo><mn>1</mn></mfenced></mfenced></mrow></math><img id="ib0019" file="imgb0019.tif" wi="72" he="8" img-content="math" img-format="tif"/></maths><br/>
where a specific circuit implementation of the formula is shown in <figref idrefs="f0003">FIG. 6</figref>, and mainly is formed by an adder, a multiplier, a data selector, and a delay circuit.</p><p id="p0031" num="0031">In <figref idrefs="f0002">FIG. 5</figref> and <figref idrefs="f0003">FIG. 6</figref>, an energy_detected signal is a control signal output by the energy detector (Energy Detector). A role of the energy detector is to ensure that a channel mismatch parameter detection apparatus can still work normally in a case in which an input signal is suddenly interrupted, and a specific implementation circuit of the energy detector is described below.</p><p id="p0032" num="0032">A transient estimate <i>δ̃<sub>i</sub></i>(<i>n</i>), which is obtained by the mismatch error discriminator, of a normalized timing skew error of the <i>i</i><sup>th</sup> (<i>i</i> = 1,2,···,<i>M</i>-1) channel is marked as <maths id="math0020" num=""><math display="inline"><mrow><msubsup><mrow><mover><mi>δ</mi><mrow><mo>˜</mo></mrow></mover></mrow><mi>i</mi><mi>ʹ</mi></msubsup><mfenced><mi>n</mi></mfenced></mrow></math><img id="ib0020" file="imgb0020.tif" wi="11" he="8" img-content="math" img-format="tif" inline="yes"/></maths> after being controlled by the energy detector, and then is sent to the alpha filter for smooth filtering, to become <maths id="math0021" num=""><math display="inline"><mrow><msubsup><mi>δ</mi><mi>i</mi><mi>ʹ</mi></msubsup><mfenced><mi>n</mi></mfenced><mn>.</mn></mrow></math><img id="ib0021" file="imgb0021.tif" wi="12" he="9" img-content="math" img-format="tif" inline="yes"/></maths> The alpha filter in the present invention may be described by using a mathematical formula as <maths id="math0022" num=""><math display="block"><mrow><msubsup><mi>δ</mi><mi>i</mi><mi>ʹ</mi></msubsup><mfenced><mi>n</mi></mfenced><mo>=</mo><msubsup><mi>δ</mi><mi>i</mi><mi>ʹ</mi></msubsup><mo>⁢</mo><mfenced separators=""><mi>n</mi><mo>-</mo><mn>1</mn></mfenced><mo>+</mo><mi>α</mi><mo>⋅</mo><mfenced open="[" close="]" separators=""><msubsup><mrow><mover><mi>δ</mi><mrow><mo>˜</mo></mrow></mover></mrow><mi>i</mi><mi>ʹ</mi></msubsup><mfenced><mi>n</mi></mfenced><mo>-</mo><msubsup><mi>δ</mi><mi>i</mi><mi>ʹ</mi></msubsup><mo>⁢</mo><mfenced separators=""><mi>n</mi><mo>-</mo><mn>1</mn></mfenced></mfenced></mrow></math><img id="ib0022" file="imgb0022.tif" wi="67" he="9" img-content="math" img-format="tif"/></maths> where, an appropriate value is used as a parameter value <i>α</i> as required. A specific circuit implementation is shown in <figref idrefs="f0003">FIG. 7</figref>, and the circuit includes an adder, a multiplier, and one delay circuit.</p><p id="p0033" num="0033">The mismatch error value <maths id="math0023" num=""><math display="inline"><mrow><msubsup><mi>δ</mi><mi>i</mi><mi>ʹ</mi></msubsup><mfenced><mi>n</mi></mfenced></mrow></math><img id="ib0023" file="imgb0023.tif" wi="12" he="8" img-content="math" img-format="tif" inline="yes"/></maths> on which the alpha filter has performed smoothing is sent to the adaptive iterative circuit for update and optimization and is turned into a steady state value <i>δ<sub>i</sub></i>(<i>n</i>)<i>.</i> A normalized LMS algorithm is used in the adaptive iterative circuit in the present invention, and the adaptive iterative circuit may be described by using a mathematical formula as follows: <maths id="math0024" num=""><math display="block"><mrow><msub><mi>δ</mi><mi>i</mi></msub><mo>⁢</mo><mfenced separators=""><mi>n</mi><mo>+</mo><mn>1</mn></mfenced><mo>=</mo><mrow><msub><mi>δ</mi><mi>i</mi></msub><mfenced><mi>n</mi></mfenced><mo>+</mo><mi>μ</mi><mo>⋅</mo><mfrac><mrow><msubsup><mi>δ</mi><mi>i</mi><mi>ʹ</mi></msubsup><mfenced><mi>n</mi></mfenced></mrow><mrow><mi>max</mi><mfenced open="{" close="}"><msubsup><mi>δ</mi><mi>i</mi><mi>ʹ</mi></msubsup></mfenced></mrow></mfrac></mrow></mrow></math><img id="ib0024" file="imgb0024.tif" wi="53" he="14" img-content="math" img-format="tif"/></maths></p><p id="p0034" num="0034">The adaptive iterative circuit may be implemented by using the circuit shown in <figref idrefs="f0003">FIG. 8</figref>. An appropriate value is used as a parameter value <i>µ</i> as required. max <maths id="math0025" num=""><math display="inline"><mrow><mfenced open="{" close="}"><msubsup><mi>δ</mi><mi>i</mi><mi>ʹ</mi></msubsup></mfenced></mrow></math><img id="ib0025" file="imgb0025.tif" wi="8" he="7" img-content="math" img-format="tif" inline="yes"/></maths> indicates an operation of taking the maximum value of the mismatch error <maths id="math0026" num=""><math display="inline"><mrow><msubsup><mi>δ</mi><mi>i</mi><mi>ʹ</mi></msubsup><mfenced><mi>n</mi></mfenced><mn>.</mn></mrow></math><img id="ib0026" file="imgb0026.tif" wi="12" he="9" img-content="math" img-format="tif" inline="yes"/></maths></p><p id="p0035" num="0035">Finally, the timing skew error steady state value <i>δ<sub>i</sub></i>(<i>n</i>),<i>i=</i>1,2<i>,···,M</i>-1 obtained by the<!-- EPO <DP n="10"> --> channel mismatch parameter detection circuit is fed back to the signal compensation and reconstruction circuit for performing an actual correction on data of an ADC of a channel, and then is combined by the signal combining circuit to obtain a high-speed signal <i>x̃</i>(<i>n</i>) with an equivalent sampling frequency of <i>f<sub>s</sub></i>, which is used as an output of the entire M-channel time-interleaved ADC.</p><p id="p0036" num="0036">With reference to the foregoing embodiment, in some communications systems, a case in which signal transmission is suddenly interrupted occurs sometimes. For example, in the IEEE 802.3az Energy Efficient Ethernet, when the system enters an energy saving mode, only LPI signals with an interval of 24 <i>us</i> are transmitted on a cable. In this case, a channel mismatch error detection circuit performs misjudgment without obtaining enough signal excitation. To avoid such a case from occurring, an energy detector is introduced into the present invention, and an implementation principle of the energy detector is shown in <figref idrefs="f0004">FIG. 9</figref>. An appropriate value is used as a parameter value Ω as required.</p><p id="p0037" num="0037">The energy detector directly performs an operation of taking an absolute value of output data of the channel ADC0, subsequently performs smooth filtering by using one alpha filter, and then subtracts one specific threshold, where a sign bit of an operation result is used as a final output, which is then sent to the mismatch error discriminator in <figref idrefs="f0003">FIG. 6</figref>. When the energy detector outputs a high level, the mismatch error discriminator works normally; when the energy detector outputs a low level, a current parameter is blocked and a previous discrimination value is used. In this way, the channel mismatch error detection circuit in the present invention can still run normally in a case in which an input signal is suddenly interrupted.</p><p id="p0038" num="0038">To enable the channel mismatch parameter detection circuit to work more efficiently, a timing control circuit is introduced into the present invention, and a principle of the timing control circuit is shown in <figref idrefs="f0004">FIG. 10</figref>. For the M-channel time-interleaved ADC, the timing control circuit first controls the channel mismatch error detection circuit to iteratively converge, in a sequence of channels i=1, 2, ..., M-2, mismatch parameters of the channels in turn, and finally iteratively converge a mismatch parameter of the (M-1)<sup>th</sup> channel. After all mismatch parameters are converged, the timing control circuit controls mismatch parameter detection circuits of all channels to work in parallel, to allow mismatch error parameters of all channels to be iteratively updated and optimized, so as to trace a time varying feature of the timing skew error in real time.</p><p id="p0039" num="0039">By using a procedure in <figref idrefs="f0004">FIG. 10</figref> of this patent, a person skilled in the art inserts necessary control logic into the channel mismatch parameter detection circuit very easily.</p><p id="p0040" num="0040">For the analog-to-digital converter provided in the embodiment of the present invention, there is no special requirement for a spectrum of an input signal, only an equivalent sampling<!-- EPO <DP n="11"> --> frequency in the time-interleaved ADC needs to meet the Nyquist criterion, and a sampling frequency of an ADC of each channel does not need to individually meet the Nyquist criterion.</p><p id="p0041" num="0041">In addition, as shown in <figref idrefs="f0001">FIG. 2</figref>, for the M-channel time-interleaved ADC with an equivalent sampling frequency of <i>f<sub>s</sub></i>, all operation circuit units in the present invention work in a low-speed environment whose clock frequency is <i>f<sub>s</sub></i>/<i>M</i>, and have advantages such as easy implementation and low power consumption.</p><p id="p0042" num="0042">After mismatch parameters are detected by using the channel mismatch parameter detection circuit provided in the foregoing embodiment, the mismatch parameters are fed back to the signal compensation and reconstruction circuit, to perform compensation and reconstruction on an ADC output signal of each channel. The signal compensation and reconstruction circuit not only may be implemented by using a digital circuit, but also may be implemented by using an analog circuit. If the signal compensation and reconstruction circuit performs compensation and reconstruction in a digital domain, a pure digital background correction technology of the multi-channel time-interleaved ADC is formed in this way. In the digital domain, the signal compensation and reconstruction circuit may be implemented by using one digital filter group, or a same function may also be accomplished by using a group of digital interpolation circuits.</p><p id="p0043" num="0043">The pure digital background correction technology can scale down (scaling-down) according to a semiconductor process size, has advantages of desirable flexibility and a high level of integration, and has an attractive prospect for development.</p><p id="p0044" num="0044">Optionally, in the multi-channel time-interleaved ADC, the signal compensation and reconstruction circuit may also be implemented by using an analog circuit. An implementation case of the present invention in which a "signal compensation and reconstruction" function is implemented on the basis of the analog circuit, that is, a so-called digital-analog hybrid background correction technology, is shown in <figref idrefs="f0005">FIG. 11</figref>.</p><p id="p0045" num="0045">In the digital-analog hybrid background correction technology, a function of the signal compensation and reconstruction circuit may be implemented by using a programmable delay circuit. The programmable delay circuit converts, by using a DAC (analog-to-digital converter), a mismatch error parameter value output by the channel mismatch parameter detection circuit into an analog electrical quantity, and furthermore transforms the analog electrical quantity into a delay unit, to fine-tune phases of clocks generated by the "clock generation circuit", and finally offset timing skew errors of sampling clocks of ADCs of various channels.</p><p id="p0046" num="0046">By using the channel timing skew error detection circuit proposed in the present invention, dynamic performance of the time-interleaved ADC can be improved very effectively. In <figref idrefs="f0006">FIG. 12</figref>, an effect of performance simulation of a four-channel time-interleaved ADC (whose resolution is 14<!-- EPO <DP n="12"> --> bits) to which the method of the present invention is applied is given. The system equivalent sampling frequency <i>f<sub>s</sub></i> = 500<i>MHz</i> (the sampling cycle <i>T<sub>s</sub></i> = <i>2ns</i>), and normalized timing skew errors of ADC1, ADC2, and ADC3 of the channels are 0.015625, 0.009375, and -0.0125, respectively. In addition, an input signal for test is a sine wave with a frequency of <i>f<sub>i</sub></i> = 20<i>MHz.</i> Theoretically, it can be proven that, when a frequency of an input signal is <i>f<sub>i</sub></i> = 20<i>MHz</i> and an equivalent sampling frequency is <i>f<sub>s</sub></i> = 500<i>MHz</i> timing skew errors generate 3 distorted spectrums on an output signal spectrum of the four-channel time-interleaved ADC, which are separately located at 105 MHz, 145 MHz, and 230 MHz, as shown in an upper half of <figref idrefs="f0006">FIG. 12</figref>.</p><p id="p0047" num="0047">As may be seen from <figref idrefs="f0006">FIG. 12</figref>, when a timing skew error correction is not performed by applying the present invention, an SFDR (Spurious Free Dynamic Range, spurious free dynamic range) of the time-interleaved ADC is only 55 dB (the upper half of <figref idrefs="f0006">FIG. 12</figref>). However, after the timing skew error correction is performed by using this embodiment of the present invention, the SFDR of the time-interleaved ADC is increased to 95 dB (a lower half of <figref idrefs="f0006">FIG. 12</figref>).</p><p id="p0048" num="0048">For the analog-to-digital converter provided in the embodiments of the present invention, there is no special requirement for a spectrum of an input signal, a sampling frequency of an ADC of each channel does not need to individually meet the Nyquist criterion, and instead in a case in which an equivalent sampling frequency output by a combination in a time-interleaved ADC meets the Nyquist criterion, a timing skew error of a channel can be accurately calculated, and correction and compensation are performed on a signal generated by an ADC of each channel, to output a correct signal.</p><p id="p0049" num="0049">In the foregoing specific implementation manners, the objective, technical solutions, and benefits of the present invention are further described in detail. It should be understood that the foregoing descriptions are merely specific implementation manners of the present invention, but are not intended to limit the protection scope of the present invention. Any modification, equivalent replacement, or improvement made without departing from the principle of the present invention should fall within the protection scope of the present invention.</p></description><claims mxw-id="PCLM90459263" lang="EN" load-source="patent-office"><!-- EPO <DP n="13"> --><claim id="c-en-0001" num="0001"><claim-text>A multi-channel time-interleaved analog-to-digital converter, comprising:
<claim-text>a clock generation circuit, configured to generate a work clock of the analog-to-digital converter;</claim-text>
<claim-text>a channel ADC group, comprising M ADC channels, arranged to be in a time-interleaved architecture, and configured to convert, under the control of the clock generation circuit and in a time division multiplexing manner, one high-speed analog input signal into M low-speed digital output signals, wherein M is an integer not less than 2, wherein sampling clocks of ADCs of adjacent subchannels in the M ADC channels have a phase difference of 2π/<i>M</i>;</claim-text>
<claim-text>a channel mismatch detection circuit, configured to detect in real time timing skew errors of output signals of the M ADC channels, to obtain a timing skew parameter of each ADC channel relative to a reference ADC channel;</claim-text>
<claim-text>a signal compensation and reconstruction circuit, configured to perform, according to the timing skew parameters detected by the channel mismatch detection circuit, compensation and reconstruction on the digital output signals output by the channel ADC group; and</claim-text>
<claim-text>a signal combining circuit, configured to combine the M low-speed output signals that are of the channels and generated after the compensation by the signal compensation and reconstruction circuit, to obtain one final high-speed digital output signal.</claim-text></claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>The analog-to-digital converter according to claim 1, wherein the channel mismatch detection circuit further comprises:
<claim-text>a notch filter, configured to perform notch filtering on the output signals of the M ADC channels;</claim-text>
<claim-text>a mismatch error discriminator, configured to perform mismatch error discrimination according to an output result of the notch filter;</claim-text>
<claim-text>an alpha filter, configured to perform smooth filtering on a timing skew parameter generated by the mismatch error discriminator; and</claim-text>
<claim-text>a mismatch error adaptive iterative circuit, configured to optimize an adaptive error value obtained through the smooth filtering, to obtain a timing skew error steady state value.</claim-text></claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>The analog-to-digital converter according to claim 2, wherein the notch filter comprises:
<claim-text>a first shift register, configured to shift an input signal to the right by 6 bits;<!-- EPO <DP n="14"> --></claim-text>
<claim-text>a first delay circuit, configured to delay the input signal by one clock;</claim-text>
<claim-text>a second shift register, configured to shift an output signal of the first delay circuit to the right by 6 bits;</claim-text>
<claim-text>a first subtracter, configured to subtract an output of the first shift register from the input signal;</claim-text>
<claim-text>a second subtracter, configured to subtract an output of the second shift register from an output of the first delay circuit;</claim-text>
<claim-text>a first adder, configured to subtract an output of the second subtracter from an output of the first subtracter;</claim-text>
<claim-text>a second delay circuit, configured to delay an output signal of the first adder by one beat;</claim-text>
<claim-text>a third shift register, configured to shift an output signal of the second delay circuit to the right by 6 bits;</claim-text>
<claim-text>a third subtracter, configured to subtract an output of the third shift register from an output of the second delay circuit; and</claim-text>
<claim-text>a third delay circuit, configured to delay an output of the third subtracter by one beat, and use a delayed output as a final output signal of the notch filter.</claim-text></claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>The analog-to-digital converter according to claim 2, wherein the mismatch error discriminator comprises:
<claim-text>a fourth subtracter, configured to subtract <maths id="math0027" num=""><math display="inline"><mrow><msubsup><mrow><mover><mi>x</mi><mrow><mo>˜</mo></mrow></mover></mrow><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow><mi>ʹ</mi></msubsup><mfenced><mi>n</mi></mfenced></mrow></math><img id="ib0027" file="imgb0027.tif" wi="14" he="7" img-content="math" img-format="tif" inline="yes"/></maths> from a signal <maths id="math0028" num=""><math display="inline"><mrow><msubsup><mrow><mover><mi>x</mi><mrow><mo>˜</mo></mrow></mover></mrow><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow><mi>ʹ</mi></msubsup><mfenced><mi>n</mi></mfenced></mrow></math><img id="ib0028" file="imgb0028.tif" wi="14" he="7" img-content="math" img-format="tif" inline="yes"/></maths> output by the notch filter; and</claim-text>
<claim-text>a first multiplier, configured to multiply an output of the fourth subtracter by a signal <maths id="math0029" num=""><math display="inline"><mrow><msubsup><mrow><mover><mi>x</mi><mrow><mo>‾</mo></mrow></mover></mrow><mi>i</mi><mi>ʹ</mi></msubsup><mfenced><mi>n</mi></mfenced></mrow></math><img id="ib0029" file="imgb0029.tif" wi="12" he="7" img-content="math" img-format="tif" inline="yes"/></maths> output by the notch filter.</claim-text></claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>The analog-to-digital converter according to claim 2, wherein the alpha filter comprises:
<claim-text>a fifth subtracter, configured to subtract <maths id="math0030" num=""><math display="inline"><mrow><msubsup><mi>δ</mi><mi>i</mi><mi>ʹ</mi></msubsup><mo>⁢</mo><mfenced separators=""><mi>n</mi><mo>-</mo><mn>1</mn></mfenced></mrow></math><img id="ib0030" file="imgb0030.tif" wi="17" he="7" img-content="math" img-format="tif" inline="yes"/></maths> from an output signal <maths id="math0031" num=""><math display="inline"><mrow><msubsup><mrow><mover><mi>δ</mi><mrow><mo>˜</mo></mrow></mover></mrow><mi>i</mi><mi>ʹ</mi></msubsup><mfenced><mi>n</mi></mfenced></mrow></math><img id="ib0031" file="imgb0031.tif" wi="12" he="8" img-content="math" img-format="tif" inline="yes"/></maths> of the mismatch error discriminator;</claim-text>
<claim-text>a second multiplier, configured to multiply an output result of the fifth subtracter by an α factor;</claim-text>
<claim-text>a second adder, configured to add an output of the multiplier and <maths id="math0032" num=""><math display="inline"><mrow><msubsup><mi>δ</mi><mi>i</mi><mi>ʹ</mi></msubsup><mo>⁢</mo><mfenced separators=""><mi>n</mi><mo>-</mo><mn>1</mn></mfenced><mo>;</mo></mrow></math><img id="ib0032" file="imgb0032.tif" wi="18" he="10" img-content="math" img-format="tif" inline="yes"/></maths> and</claim-text>
<claim-text>a fourth delay circuit, configured to delay an output of the second adder by one beat.</claim-text></claim-text></claim><claim id="c-en-0006" num="0006"><claim-text>The analog-to-digital converter according to claim 2, wherein the adaptive iterative circuit comprises:
<claim-text>a first operation circuit, configured to take a maximum value of a mismatch error value <maths id="math0033" num=""><math display="inline"><mrow><msubsup><mi>δ</mi><mi>i</mi><mi>ʹ</mi></msubsup></mrow></math><img id="ib0033" file="imgb0033.tif" wi="5" he="7" img-content="math" img-format="tif" inline="yes"/></maths> of each channel output by the alpha filter;<!-- EPO <DP n="15"> --></claim-text>
<claim-text>a second operation circuit, configured to take the reciprocal of an output result of the first operation circuit;</claim-text>
<claim-text>a fifth delay circuit, configured to delay an output result of the second operation circuit by one beat;</claim-text>
<claim-text>a third multiplier, configured to multiply an output of the fifth delay circuit by an output signal <maths id="math0034" num=""><math display="inline"><mrow><msubsup><mi>δ</mi><mi>i</mi><mi>ʹ</mi></msubsup><mfenced><mi>n</mi></mfenced></mrow></math><img id="ib0034" file="imgb0034.tif" wi="12" he="8" img-content="math" img-format="tif" inline="yes"/></maths> of the alpha filter;</claim-text>
<claim-text>a sixth delay circuit, configured to delay an output result of the third multiplier by one beat;</claim-text>
<claim-text>a fourth multiplier, configured to multiply an output result of the sixth delay circuit by a constant µ;</claim-text>
<claim-text>a third adder, configured to add an output of the fourth multiplier to an output at a previous moment of the adaptive iterative circuit; and</claim-text>
<claim-text>a seventh delay circuit, configured to delay an output result of the third adder by one beat, and use a delayed output result as a final timing skew error steady state value <i>δ<sub>i</sub></i>(<i>n</i>).</claim-text></claim-text></claim><claim id="c-en-0007" num="0007"><claim-text>The analog-to-digital converter according to claim 2, further comprising an energy detector, wherein the energy detector performs an absolute value operation on an output value of the reference channel, then subtracts a set threshold after performing filtering by using the alpha filter, and transmits, as a final output to the mismatch error discriminator, a symbol of an operation result obtained after the set threshold has been subtracted, wherein when a high level is output, the mismatch error discriminator works normally, and when a low level is output, a current parameter is blocked, and a previous discrimination value is used.</claim-text></claim><claim id="c-en-0008" num="0008"><claim-text>The analog-to-digital converter according to claim 2, further comprising a timing control circuit, to control a work process of the analog-to-digital converter.</claim-text></claim></claims><drawings mxw-id="PDW20421997" load-source="patent-office"><!-- EPO <DP n="16"> --><figure id="f0001" num="1,2"><img id="if0001" file="imgf0001.tif" wi="165" he="186" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="17"> --><figure id="f0002" num="3,4,5"><img id="if0002" file="imgf0002.tif" wi="165" he="202" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="18"> --><figure id="f0003" num="6,7,8"><img id="if0003" file="imgf0003.tif" wi="165" he="181" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="19"> --><figure id="f0004" num="9,10"><img id="if0004" file="imgf0004.tif" wi="165" he="220" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="20"> --><figure id="f0005" num="11"><img id="if0005" file="imgf0005.tif" wi="165" he="119" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="21"> --><figure id="f0006" num="12"><img id="if0006" file="imgf0006.tif" wi="165" he="140" img-content="drawing" img-format="tif"/></figure></drawings><search-report-data><doc-page id="srep0001" file="srep0001.tif" wi="159" he="233" type="tif"/><doc-page id="srep0002" file="srep0002.tif" wi="159" he="233" type="tif"/></search-report-data><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
