<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2961090-A1" country="EP" doc-number="2961090" kind="A1" date="20151230" family-id="51390846" file-reference-id="312929" date-produced="20180824" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="160451242" ucid="EP-2961090-A1"><document-id><country>EP</country><doc-number>2961090</doc-number><kind>A1</kind><date>20151230</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-13875934-A" is-representative="YES"><document-id mxw-id="PAPP193865452" load-source="docdb" format="epo"><country>EP</country><doc-number>13875934</doc-number><kind>A</kind><date>20131118</date><lang>JA</lang></document-id><document-id mxw-id="PAPP193865453" load-source="patent-office" format="original"><country>EP</country><doc-number>13875934.5</doc-number><date>20131118</date><lang>JA</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC162033708" ucid="JP-2013031093-A" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>2013031093</doc-number><kind>A</kind><date>20130220</date></document-id></priority-claim><priority-claim mxw-id="PPC162034732" ucid="JP-2013081056-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>2013081056</doc-number><kind>W</kind><date>20131118</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-1892463462" load-source="docdb">H04L   1/20        20060101ALI20160916BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1892464083" load-source="docdb">H04L  25/03        20060101ALI20160916BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1892468235" load-source="docdb">H04J  11/00        20060101AFI20160916BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1635352578" load-source="docdb" scheme="CPC">H04L   1/0026      20130101 LI20180528BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1635352579" load-source="docdb" scheme="CPC">H04L   1/0003      20130101 LI20180528BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1848612565" load-source="docdb" scheme="CPC">H04B  17/336       20130101 LI20170207BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987766799" load-source="docdb" scheme="CPC">H04L  27/2647      20130101 LI20151212BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987767864" load-source="docdb" scheme="CPC">H04L  27/2626      20130101 LI20151212BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987768125" load-source="docdb" scheme="CPC">H04L   1/206       20130101 FI20151212BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987768144" load-source="docdb" scheme="CPC">H04L2025/03414     20130101 LA20151212BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987775263" load-source="docdb" scheme="CPC">H04L  25/03159     20130101 LI20151212BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT165545192" lang="DE" load-source="patent-office">VORRICHTUNG ZUR MESSUNG DER QUALITÄT EINER KOMMUNIKATIONSLEITUNG SOWIE SENDER UND EMPFÄNGER</invention-title><invention-title mxw-id="PT165545193" lang="EN" load-source="patent-office">COMMUNICATION LINE QUALITY ESTIMATION APPARATUS, TRANSMITTER AND RECEIVER</invention-title><invention-title mxw-id="PT165545194" lang="FR" load-source="patent-office">APPAREIL D'ESTIMATION DE QUALITÉ DE LIGNE DE COMMUNICATION, ÉMETTEUR ET RÉCEPTEUR</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR1103316480" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>MITSUBISHI ELECTRIC CORP</last-name><address><country>JP</country></address></addressbook></applicant><applicant mxw-id="PPAR1103325094" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>MITSUBISHI ELECTRIC CORPORATION</last-name></addressbook></applicant><applicant mxw-id="PPAR1101653746" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Mitsubishi Electric Corporation</last-name><iid>101323123</iid><address><street>7-3 Marunouchi 2-chome Chiyoda-ku</street><city>Tokyo 100-8310</city><country>JP</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR1103312464" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>HIGASHINAKA MASATSUGU</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR1103331227" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>HIGASHINAKA, MASATSUGU</last-name></addressbook></inventor><inventor mxw-id="PPAR1101645644" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>HIGASHINAKA, MASATSUGU</last-name><address><street>c/o Mitsubishi Electric Corporation 7-3 Marunouchi 2-chome Chiyoda-ku</street><city>Tokyo 100-8310</city><country>JP</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR1101643628" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Pfenning, Meinig &amp; Partner GbR</last-name><iid>100060642</iid><address><street>Patent- und Rechtsanwälte Theresienhöhe 11a</street><city>80339 München</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="JP-2013081056-W"><document-id><country>JP</country><doc-number>2013081056</doc-number><kind>W</kind><date>20131118</date><lang>JA</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2014129031-A1"><document-id><country>WO</country><doc-number>2014129031</doc-number><kind>A1</kind><date>20140828</date><lang>JA</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS660684484" load-source="docdb">AL</country><country mxw-id="DS660607222" load-source="docdb">AT</country><country mxw-id="DS660684486" load-source="docdb">BE</country><country mxw-id="DS660682399" load-source="docdb">BG</country><country mxw-id="DS660782348" load-source="docdb">CH</country><country mxw-id="DS660681822" load-source="docdb">CY</country><country mxw-id="DS660607223" load-source="docdb">CZ</country><country mxw-id="DS660684491" load-source="docdb">DE</country><country mxw-id="DS660681827" load-source="docdb">DK</country><country mxw-id="DS660681828" load-source="docdb">EE</country><country mxw-id="DS660604317" load-source="docdb">ES</country><country mxw-id="DS660682400" load-source="docdb">FI</country><country mxw-id="DS660682401" load-source="docdb">FR</country><country mxw-id="DS660684492" load-source="docdb">GB</country><country mxw-id="DS660681829" load-source="docdb">GR</country><country mxw-id="DS660684493" load-source="docdb">HR</country><country mxw-id="DS660607224" load-source="docdb">HU</country><country mxw-id="DS660782349" load-source="docdb">IE</country><country mxw-id="DS660681830" load-source="docdb">IS</country><country mxw-id="DS660682402" load-source="docdb">IT</country><country mxw-id="DS660681835" load-source="docdb">LI</country><country mxw-id="DS660681917" load-source="docdb">LT</country><country mxw-id="DS660607022" load-source="docdb">LU</country><country mxw-id="DS660681918" load-source="docdb">LV</country><country mxw-id="DS660681923" load-source="docdb">MC</country><country mxw-id="DS660607027" load-source="docdb">MK</country><country mxw-id="DS660607028" load-source="docdb">MT</country><country mxw-id="DS660684494" load-source="docdb">NL</country><country mxw-id="DS660682415" load-source="docdb">NO</country><country mxw-id="DS660681925" load-source="docdb">PL</country><country mxw-id="DS660782350" load-source="docdb">PT</country><country mxw-id="DS660684499" load-source="docdb">RO</country><country mxw-id="DS660782351" load-source="docdb">RS</country><country mxw-id="DS660681926" load-source="docdb">SE</country><country mxw-id="DS660604318" load-source="docdb">SI</country><country mxw-id="DS660682416" load-source="docdb">SK</country><country mxw-id="DS660681931" load-source="docdb">SM</country><country mxw-id="DS660681836" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA166479612" lang="EN" load-source="patent-office"><p id="pa01" num="0001">A communication-line-quality estimating apparatus capable of accurately carrying out communication line quality estimation by using simple processing is provided. Provided is a communication-line-quality estimating apparatus of which a receiver receives from a transmitter a signal including known signals whose phase relation is known between the transmitter and the receiver. The communication-line-quality estimating apparatus includes a pilot adding unit 40 that cumulatively adds up and averages a power value of a noise component calculated by addition or subtraction in a specified combination of the known signals, a first power calculating unit 41, a first averaging processing unit 42, a second power calculating unit 43 that cumulatively adds up and averages a power value of the known signals, a second averaging processing unit 44, and a power-ratio calculating unit 45 that estimates communication line quality using a noise signal power value input from the first averaging processing unit 42 and a reception signal power value input from the second averaging processing unit 44.<img id="iaf01" file="imgaf001.tif" wi="127" he="79" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA166759424" lang="EN" source="EPO" load-source="docdb"><p>A communication-line-quality estimating apparatus capable of accurately carrying out communication line quality estimation by using simple processing is provided. Provided is a communication-line-quality estimating apparatus of which a receiver receives from a transmitter a signal including known signals whose phase relation is known between the transmitter and the receiver. The communication-line-quality estimating apparatus includes a pilot adding unit 40 that cumulatively adds up and averages a power value of a noise component calculated by addition or subtraction in a specified combination of the known signals, a first power calculating unit 41, a first averaging processing unit 42, a second power calculating unit 43 that cumulatively adds up and averages a power value of the known signals, a second averaging processing unit 44, and a power-ratio calculating unit 45 that estimates communication line quality using a noise signal power value input from the first averaging processing unit 42 and a reception signal power value input from the second averaging processing unit 44.</p></abstract><description mxw-id="PDES98404313" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001">Field</heading><p id="p0001" num="0001">The present invention relates to a communication-line-quality estimating apparatus that estimates communication line quality in digital radio communication.</p><heading id="h0002">Background</heading><p id="p0002" num="0002">For use in transmission power control, control of a transmission mode such as adaptive modulation, and demodulation processing in a receiver, a digital radio communication apparatus typically includes a means for measuring communication line quality such as the SNR (Signal to Noise power Ratio).</p><p id="p0003" num="0003">As a conventional communication-line-quality estimating technology, for example, a technology regarding OFDM (Orthogonal Frequency Division Multiplexing) is disclosed in Patent Literature 1 described below. Patent Literature 1 describes that known signals are mapped onto subcarriers and an OFDM receiver receives the known signals transmitted between a transmitter and the receiver. Then in the receiver, after modulation components of the known signals are removed, the value of the difference in power between adjacent known signals is established as a noise power estimation value. Subsequently, the estimated noise power estimation value is subtracted from the total reception signal power so as to obtain a desired signal power estimation value. Finally, the ratio of the desired signal power estimation value and the noise power estimation value is calculated to establish the estimated<!-- EPO <DP n="2"> --> SNR.</p><heading id="h0003">Citation List</heading><heading id="h0004">Patent Literature</heading><p id="p0004" num="0004">Patent Literature 1: <patcit id="pcit0001" dnum="JP4129004B"><text>Japanese Patent No. 4129004</text></patcit></p><heading id="h0005">Summary</heading><heading id="h0006">Technical Problem</heading><p id="p0005" num="0005">However, with the conventional technology mentioned above, it is necessary to remove the modulation components of the known signals in the receiver. Therefore, there is a problem in that the amount of processing related to estimating the communication line quality increases. The desired signal power estimation value is calculated according to the difference between the total reception signal power and the noise power estimation value. Therefore, there is also a problem in that it is difficult to always obtain the communication line quality estimation with high accuracy regardless of the communication environment.</p><p id="p0006" num="0006">The present invention has been devised in view of the above and it is an objective of the present invention to obtain a communication-line-quality estimating apparatus capable of using simple processing to accurately estimate communication line quality.</p><heading id="h0007">Solution to Problem</heading><p id="p0007" num="0007">In order to solve the problem above and achieve the objective, the present invention relates to a communication-line-quality estimating apparatus of a receiver that receives, from a transmitter, a signal including known signals whose phase relation is known between the transmitter and the receiver. The<!-- EPO <DP n="3"> --> communication-line-quality estimating apparatus includes: a first power-value calculating unit that cumulatively adds up and averages a power value of a noise component calculated from a specified combination of the known signals; a second power-value calculating unit that cumulatively adds up and averages a power value of the known signals; and a power-ratio calculating unit that estimates communication line quality using a noise signal power value input from the first power-value calculating unit and a reception signal power value input from the second power-value calculating unit.</p><heading id="h0008">Advantageous Effects of Invention</heading><p id="p0008" num="0008">The communication-line-quality estimating apparatus according to the present invention attains an effect whereby it is possible to use simple processing to accurately estimate communication line quality.</p><heading id="h0009">Brief Description of Drawings</heading><p id="p0009" num="0009"><ul><li><figref idrefs="f0001">FIG. 1</figref> is a diagram illustrating a configuration example of a transmitter in a first embodiment.</li><li><figref idrefs="f0002">FIG. 2</figref> is a diagram illustrating a configuration example of a receiver in the first embodiment.</li><li><figref idrefs="f0002">FIG. 3</figref> is a diagram illustrating a frame format of a transmission frame in the first embodiment.</li><li><figref idrefs="f0003">FIG. 4</figref> is a diagram illustrating a configuration example of a communication-line-quality estimating unit in the first embodiment.</li><li><figref idrefs="f0003">FIG. 5</figref> is a diagram illustrating a frame format of a transmission frame in a second embodiment.</li><li><figref idrefs="f0004">FIG. 6</figref> is a diagram illustrating a configuration example of a communication-line-quality estimating unit in the second embodiment.<!-- EPO <DP n="4"> --></li><li><figref idrefs="f0005">FIG. 7</figref> is a diagram illustrating an example of a configuration of a receiver in a third embodiment.</li><li><figref idrefs="f0006">FIG. 8</figref> is a diagram illustrating an example of a configuration of a communication-line-quality estimating unit in the third embodiment.</li><li><figref idrefs="f0007">FIG. 9</figref> is a diagram illustrating a frame configuration and a transmission method of a signal in a fourth embodiment.</li><li><figref idrefs="f0007">FIG. 10</figref> is a diagram illustrating a configuration example of a receiver in the fourth embodiment.</li><li><figref idrefs="f0008">FIG. 11</figref> is a diagram illustrating a configuration example of a communication-line-quality estimating unit in the fourth embodiment.</li><li><figref idrefs="f0009">FIG. 12</figref> is a diagram illustrating a symbol in a time domain when a subcarrier number 1 is used.</li><li><figref idrefs="f0009">FIG. 13</figref> is a diagram illustrating the symbol in the time domain when a subcarrier number 3 is used.</li><li><figref idrefs="f0010">FIG. 14</figref> is a diagram illustrating the symbol in the time domain when a subcarrier number 5 is used.</li><li><figref idrefs="f0010">FIG. 15</figref> is a diagram illustrating the symbols in the time domain when a subcarrier number 7 is used.</li><li><figref idrefs="f0011">FIG. 16</figref> is a diagram illustrating a configuration example of a data demodulating unit in a fifth embodiment.</li><li><figref idrefs="f0011">FIG. 17</figref> is a diagram illustrating a configuration example of a second communication-line-quality estimating unit in the fifth embodiment.</li></ul></p><heading id="h0010">Description of Embodiments</heading><p id="p0010" num="0010">Exemplary embodiments of the present invention are explained in detail below with reference to the drawings. Note that the present invention is not limited to the embodiments.</p><heading id="h0011">First Embodiment</heading><!-- EPO <DP n="5"> --><p id="p0011" num="0011">Orthogonal Frequency Division Multiplexing transmission is explained with an example below. <figref idrefs="f0001">FIG. 1</figref> is a diagram illustrating an example of a configuration of a transmitter in this embodiment. The transmitter includes a data modulating unit 10, a known-signal generating unit 11, a frequency mapping unit 12, an IDFT (Inverse Discrete Fourier Transform) unit 13, a CP (Cyclic Prefix) adding unit 14, a frame generating unit 15, a D/A-conversion processing unit 16, a high-frequency processing unit 17, and a transmission antenna 18.</p><p id="p0012" num="0012">The overall operation of the transmitter is explained with reference to <figref idrefs="f0001">FIG. 1</figref>. The transmitter performs, by using the data modulating unit 10, modulation processing to an information bit desired to be transmitted. Any system can be used for the modulation processing. For example, BPSK (Binary Phase Shift Keying) can be used. The known-signal generating unit 11 generates known signals to be used for communication line quality estimation. The frequency mapping unit 12 performs processing in order to allocate data signals input from the data modulating unit 10 and the known signals input from the known-signal generating unit 11 to predetermined subcarriers. The IDFT unit 13 applies IDFT to the signals subjected to the subcarrier allocation by the frequency mapping unit 12 and converts the signals into a signal in a time domain. The CP adding unit 14 performs processing for copying a predetermined number of samples at the end of the signal in the time domain generated by the IDFT unit 13 and adding the predetermined number of copies to the top of the time domain signal. According to a series of processes performed by units up to the CP adding unit 14, an OFDM symbol is generated. The frame generating unit 15 groups, according to a predetermined format, a plurality of OFDM<!-- EPO <DP n="6"> --> symbols into units called frames. The D/A-conversion processing unit 16 performs processing for converting a digital signal into an analog signal. The high-frequency processing unit 17 carries out predetermined high-frequency signal processing such as up-convert on the analog signal that is converted by the D/A-conversion processing unit 16. Thereafter, the analog signal subjected to the high-frequency signal processing is transmitted from the transmission antenna 18.</p><p id="p0013" num="0013"><figref idrefs="f0002">FIG. 2</figref> is a diagram illustrating a configuration example of a receiver in this embodiment. The receiver includes a reception antenna 20, a high-frequency processing unit 21, an A/D-conversion processing unit 22, a CP removing unit 23, a DFT (Discrete Fourier Transform) unit 24, a data demodulating unit 25, and a communication-line-quality estimating unit 26.</p><p id="p0014" num="0014">The overall operation of the receiver is explained with reference to <figref idrefs="f0002">FIG. 2</figref>. After predetermined high-frequency signal processing such as a down-convert is carried out on a high-frequency radio signal received by the reception antenna 20 in the high-frequency processing unit 21, the A/D-conversion processing unit 22 converts the high-frequency radio signal into a digital signal. The CP removing unit 23 removes the CP added to the top position of an OFDM symbol. The DFT unit 24 applies DFT to the OFDM symbol from which the CP is removed and converts the OFDM symbol into a reception signal in a frequency domain. The communication-line-quality estimating unit 26 estimates an SNR from the reception signal in the frequency domain. The data demodulating unit 25 demodulates transmission data by using the reception signal in the frequency domain and the SNR estimated by the communication-line-quality estimating unit 26.<!-- EPO <DP n="7"> --></p><p id="p0015" num="0015">Communication line quality estimation, which is a characteristic part of this embodiment, is explained in detail below. <figref idrefs="f0002">FIG. 3</figref> is a diagram illustrating a frame format of a transmission frame in this embodiment generated by the frame generating unit 15. In <figref idrefs="f0002">FIG. 3</figref>, signals for two frames are shown. A frame 30 corresponds to a first frame. A frame 31 corresponds to a second frame. One frame is configured from four subcarriers in a frequency axis direction and seven OFDM symbols in a time axis direction. Concerning the signals in the frames, x0 to x3 and y0 to y3 respectively indicate the known signals generated by the known-signal generating unit 11. Any signal can be used as a known signal as long as the signal satisfies a relation of x0=-y0, x1=-y1, x2=-y2, and x3=-y3. Signals indicated by "d" in the frames are the transmission data generated by the data modulating unit 10.</p><p id="p0016" num="0016"><figref idrefs="f0003">FIG. 4</figref> is a diagram illustrating a configuration example of the communication-line-quality estimating unit 26 in this embodiment in the receiver. The communication-line-quality estimating unit 26 includes a pilot adding unit 40, a first power calculating unit 41, a first averaging processing unit 42, a second power calculating unit 43, a second averaging processing unit 44, and a power-ratio calculating unit 45. The reception signal in the frequency domain, which is the output of the DFT unit 24, is input to the pilot adding unit 40 and the second power calculating unit 43. Note that the pilot adding unit 40, the first power calculating unit 41, and the first averaging processing unit 42 are configured as a first power-value calculating unit. The second power calculating unit 43 and the second averaging processing unit 44 are configured as a second power-value calculating unit.</p><p id="p0017" num="0017">The operation of the communication-line-quality<!-- EPO <DP n="8"> --> estimating unit 26 is explained using, as an example, transmission and reception of the signals of the frame format illustrated in <figref idrefs="f0002">FIG. 3</figref>. Note that, for convenience of explanation, OFDM symbols onto which x0 to x3 and y0 to y3 are mapped are respectively referred to as a leading pilot OFDM symbol and a second pilot OFDM symbol. The communication-line-quality estimating unit 26 in this embodiment operates only with the pilot OFDM symbols and does not operate with OFDM symbols onto which transmission data is mapped.</p><p id="p0018" num="0018">Upon receiving the reception signal in the frequency domain, the pilot adding unit 40 performs processing for, when the leading pilot OFDM symbol is received, directly accumulating the signal; and when the second pilot OFDM symbol is received, it performs processing for adding, for each subcarrier, the second pilot OFDM symbol to the accumulated leading pilot OFDM symbol. As explained above, the known signals transmitted in the pilot OFDM symbols are related thus x0=-y0, x1=-y1, x2=-y2, and x3=-y3. Therefore, known signal components are cancelled by the processing of the pilot adding unit 40. As a result, only noise components other than a desired signal remain. The pilot adding unit 40 outputs a processing result to the first power calculating unit 41.</p><p id="p0019" num="0019">After calculating, for each subcarrier, a power value of a signal input from the pilot adding unit 40, the first power calculating unit 41 cumulatively adds up power values for one OFDM symbol. The first power calculating unit 41 outputs the calculated power value to the first averaging processing unit 42.</p><p id="p0020" num="0020">The first averaging processing unit 42 averages, over a plurality of frames, the power value input from the first power calculating unit 41. The averaging method used<!-- EPO <DP n="9"> --> is not limited to any particular method. There is, for example, a method of calculating an arithmetic mean that uses a predetermined number of averaging frames. The first averaging processing unit 42 outputs the averaged power value to the power-ratio calculating unit 45.</p><p id="p0021" num="0021">The second power calculating unit 43 calculates a power value for each pilot OFDM symbol with respect to the reception signal in the frequency domain. The second power calculating unit 43 outputs the calculated power value to the second averaging processing unit 44.</p><p id="p0022" num="0022">The second averaging processing unit 44 carries out, over a plurality of OFDM symbols and a plurality of frames, averaging processing on the power value of the pilot OFDM symbol input from the second power calculating unit 43. As in the first averaging processing unit 42, any method can be applied as the averaging method. The second averaging processing unit 44 outputs the averaged power value of the pilot OFDM symbol to the power-ratio calculating unit 45.</p><p id="p0023" num="0023">The power-ratio calculating unit 45 calculates, as indicated by Expression (1) described below, a ratio (hereinafter represented as z) of the power value of the noise signal (hereinafter represented as α) input from the first averaging processing unit 42 to the power value of the reception signal (hereinafter represented as β) input from the second averaging processing unit 44.<maths id="math0001" num="(1)"><math display="block"><mrow><mi mathvariant="normal">z</mi><mo>=</mo><mfenced separators=""><mi mathvariant="normal">β</mi><mo>-</mo><mi mathvariant="normal">α</mi><mo>×</mo><mn mathvariant="normal">0.5</mn></mfenced><mo>/</mo><mfenced separators=""><mi mathvariant="normal">α</mi><mo>×</mo><mn mathvariant="normal">0.5</mn></mfenced></mrow></math><img id="ib0001" file="imgb0001.tif" wi="91" he="5" img-content="math" img-format="tif"/></maths></p><p id="p0024" num="0024">In the expression, the coefficient 0.5 multiplied by α is introduced to cancel out noise components because the noise components are doubled by the processing that adds up the pilot OFDM symbols in the pilot adding unit 40. The SNR is calculated using Expression (1). The power-ratio<!-- EPO <DP n="10"> --> calculating unit 45 outputs the calculated SNR to the data demodulating unit 25. The SNR is used for predetermined demodulation processing in the data demodulating unit 25.</p><p id="p0025" num="0025">In this embodiment, the transmitter includes a transmitting unit that transmits a signal including known signals to the receiver when the receiver, which receives the known signals whose phase relation is known between the transmitter and the receiver, estimates communication line quality using power values of noise components calculated by addition or subtraction of a combination of the known signals. The communication-line-quality estimating unit 26, which is a communication-line-quality estimating device of the receiver that receives the signal from the transmitter, cumulatively adds up and averages power values of noise components calculated from a specified combination of known signals; cumulatively adds up and averages power values of the known signals; and estimates communication line quality using the averaged two power values. At this point, in the receiver, it is unnecessary to perform a process of multiplying a reception signal with an inverse modulation component of a known pilot signal in order to remove a pilot component.</p><p id="p0026" num="0026">As explained above, in this embodiment, the transmitter is configured to generate the pilot OFDM symbol using the known signals whose phase relation is an anti-phase such as x0=-y0, x1=-y1, x2=-y2, and x3=-y3. The receiver is configured to add up the anti-phase known signals to remove known signal components and carry out noise power estimation. Consequently, it is possible to realize communication line quality estimation with simple processing without performing processing for removing modulation components of the known signals in the receiver.<!-- EPO <DP n="11"> --></p><p id="p0027" num="0027">Note that, in this embodiment, the anti-phase signals are used as the known signals configuring the pilot OFDM symbol. However, the known signals are not limited to the anti-phase signals as long as the phase relation is known. For example, the same effects can be realized if the subtraction of the pilot OFDM symbols is performed in the pilot adding unit 40.</p><p id="p0028" num="0028">In this embodiment, each of x0 to x3 and y0 to y3 is allocated to one pilot OFDM symbol. However, this combination can be any configuration. For example, x0, y0, x1, and y1 can be allocated to the leading pilot OFDM symbol and x2, y2, x3, and y3 can be allocated to the second pilot OFDM symbol. In this case, when the leading pilot OFDM symbol is processed, the pilot adding unit 40 executes addition processing in a subcarrier direction in the leading pilot OFDM symbol such that x0+y0 and x1+y1 are calculated. Similarly, at the time when the second pilot OFDM symbol is processed, the pilot adding unit 40 executes the addition processing in the subcarrier direction such that x2+y2 and x3+y3 are calculated. With such a configuration, it is possible to obtain an effect that a processing delay due to signal accumulation, which occurs when the leading pilot OFDM symbol is processed, does not occur. Further, an arrangement pattern of signals whose phase relation is known does not always need to be allocated to adjacent subcarriers and adjacent OFDM symbols and can be set in any place. In this case, the pilot adding unit 40 only has to appropriately select signals whose phase relation is known and perform the addition processing.</p><p id="p0029" num="0029">In this embodiment, a frame configuration is adopted such that a pilot OFDM symbol, in which one OFDM symbol is configured only from known signals, and an OFDM<!-- EPO <DP n="12"> --> symbol, which is configured only from transmission data, are time-multiplexed. However, a configuration can be adopted in which the known signals and the transmission data are allocated to different subcarriers of the same OFDM symbol. In this case, the communication-line-quality estimating unit 26 executes its processing only on subcarriers onto which the known signals are mapped. When such a configuration is used, the pilot OFDM symbols are not intermittently inserted as illustrated in <figref idrefs="f0002">FIG. 3</figref>, but the known signals can be temporally continuously inserted. Therefore, it is possible to obtain an effect whereby it is easy to follow the fluctuations in the communication environment.</p><p id="p0030" num="0030">In this embodiment, the pilot adding unit 40 is configured to perform an addition for each subcarrier between the leading pilot OFDM symbol and the second pilot OFDM symbol in the same frame. However, the present invention is not limited to this. For example, the pilot adding unit 40 can be configured to perform addition between a second pilot OFDM symbol of a leading frame and a leading pilot OFDM symbol of a second frame. In this case, because the number of symbols for calculating noise signal power increases, it is possible to accurately estimate communication line quality.</p><p id="p0031" num="0031">In this embodiment, the SNR with respect to the total bandwidth occupied by the OFDM symbols is calculated as the communication line quality. However, the SNR per subcarrier, for example, can also be calculated. In this case, α and β used in Expression (1) only have to be changed from the power values per one OFDM symbol to power values per subcarrier.</p><p id="p0032" num="0032">In this embodiment, the communication-line-quality estimating unit 26 is configured to perform the<!-- EPO <DP n="13"> --> communication line quality estimation by using the reception signal in the frequency domain input from the DFT unit 24. However, the communication-line-quality estimating unit 26 is not limited to this configuration. For example, the communication-line-quality estimating unit 26 can be configured to use time domain signals before processing using a DFT is performed. In this case, the known signals only have to be designed such that portions in which signals to be added up by the pilot adding unit 40 are in anti-phase to each other are included in the time domain signals. The communication-line-quality estimating unit 26 can be configured to execute the processing of the second power calculating unit 43 by using the time domain signals and execute the processing done by the pilot adding unit 40 and the first power calculating unit 41 by using the frequency domain signals. The communication-line-quality estimating unit 26 can also be configured such that its configuration is the opposite of the above.</p><p id="p0033" num="0033">In this embodiment, in order to estimate the desired signal power, the estimated noise power value is subtracted from the total power value of the pilot OFDM symbol. However, the estimated noise power value can be subtracted from the total power value of the OFDM symbols onto which the transmission data is mapped. In this case, when a transmission power ratio of the pilot OFDM symbols and the OFDM symbols onto which the transmission data is mapped are known in advance, the communication-line-quality estimating unit 26 only has to perform the averaging operation by taking the power ratio into account. With such a configuration, it is possible to estimate the desired signal power by also using the OFDM symbols onto which the transmission data is mapped, and therefore an improvement can be expected in the estimation accuracy of<!-- EPO <DP n="14"> --> communication line quality.</p><heading id="h0012">Second Embodiment</heading><p id="p0034" num="0034">A plurality of OFDM symbols is arranged in one frame to determine whether it is necessary to carry out communication line quality estimation as appropriate. Differences from the first embodiment are explained.</p><p id="p0035" num="0035"><figref idrefs="f0003">FIG. 5</figref> is a diagram illustrating a frame format of a transmission frame in this embodiment generated by the frame generating unit 15. In <figref idrefs="f0003">FIG. 5</figref>, a frame 50 indicates one frame in this embodiment. In this embodiment, a leading OFDM symbol, a second OFDM symbol, a sixth OFDM symbol, and a tenth OFDM symbol in the frame are pilot OFDM symbols. The other part of the frame is configured from transmission data. Known signals are generated by the known-signal generating unit 11 such that a relation holds in which x00=-y00=x10=-y10, x01=-y01=x11=-y11, x02=-y02=x12=-y12, and x03=-y03=x13=-y13. An OFDM symbol to which x00 to x03 are allocated is referred to as a leading pilot OFDM symbol; an OFDM symbol to which y00 to y03 are allocated is referred to as a second pilot OFDM symbol; an OFDM symbol to which x10 to x13 are allocated is referred to as a third pilot OFDM symbol; and an OFDM symbol to which y10 to y13 are allocated is referred to as a fourth pilot OFDM symbol, respectively.</p><p id="p0036" num="0036"><figref idrefs="f0004">FIG. 6</figref> is a diagram illustrating a configuration example of the communication-line-quality estimating unit 26 in this embodiment in a receiver. Note that, in <figref idrefs="f0004">FIG. 6</figref>, components having functions that are the same as the functions of the components illustrated in <figref idrefs="f0003">FIG. 4</figref> are denoted by the same reference numerals and an explanation of these components is omitted. The communication-line-quality estimating unit 26 includes the pilot adding unit 40, the first power calculating unit 41, the first<!-- EPO <DP n="15"> --> averaging processing unit 42, the second power calculating unit 43, the second averaging processing unit 44, the power-ratio calculating unit 45, a control unit 60, and a threshold determining unit 61. A reception signal in a frequency domain, which is an output of the DFT unit 24, is input to the pilot adding unit 40 and the second power calculating unit 43 via the control unit 60.</p><p id="p0037" num="0037">The control unit 60 and the threshold determining unit 61 carry out processing for comparing an estimated SNR value with a predetermined condition so as to determine whether communication line quality estimation is carried out. The following explanation focuses on the operations of the control unit 60 and the threshold determining unit 61.</p><p id="p0038" num="0038">When the leading pilot OFDM symbol and the second pilot OFDM symbol are processed, the control unit 60 directly outputs the input reception signal in the frequency domain to the pilot adding unit 40 and the second power calculating unit 43 and then it performs the communication line quality estimation using the method explained in the first embodiment. The power-ratio calculating unit 45 outputs a calculated SNR to the data demodulating unit 25 and the threshold determining unit 61.</p><p id="p0039" num="0039">The threshold determining unit 61 compares the input SNR with a determination threshold in order to determine whether the communication line quality estimation is to be ended or continued. When the SNR is larger than the determination threshold, the threshold determining unit 61 determines that communication line quality is satisfactory and outputs a signal notifying the control unit 60 of the ending of the communication line quality estimation. When the SNR is smaller than the determination threshold, the threshold determining unit 61 determines<!-- EPO <DP n="16"> --> that the communication line quality is poor and outputs a signal notifying the control unit 60 of the continuation of the communication line quality estimation.</p><p id="p0040" num="0040">When the third pilot OFDM symbol is being processed, and when the control unit 60 receives the signal notifying the threshold determining unit 61 of the ending of the communication line quality estimation, the control unit 60 does not output the reception signal in the frequency domain to the pilot adding unit 40 and the second power calculating unit 43, but it does control the communication-line-quality estimating unit such that it does not perform SNR estimation. In contrast, when the control unit 60 receives the signal notifying it of the continuation of the communication line quality estimation from the threshold determining unit 61, the control unit 60 outputs the reception signal in the frequency domain to the pilot adding unit 40 and the second power calculating unit 43 and it carries out the communication line quality estimation. At this point, the pilot adding unit 40 adds up the second pilot OFDM symbol and the third pilot OFDM symbol and continues the processing.</p><p id="p0041" num="0041">In this way, when the pilot adding unit 40 calculates power values of noise components using a first combination of the pilot OFDM symbols whose phase relation is known (the leading pilot OFDM symbol and the second pilot OFDM symbol), and when the threshold determining unit 61 determines whether to end or continue the communication line quality estimation, the control unit 60 controls the output of the pilot OFDM symbols whose phase relation is known of second and subsequent combinations (the third and subsequent pilot OFDM symbols).</p><p id="p0042" num="0042">As explained above, in this embodiment, on the basis of the communication line quality estimated using the<!-- EPO <DP n="17"> --> leading pilot OFDM symbol and the second pilot OFDM symbol, it is determined whether the communication line quality estimation is carried out on the following pilot OFDM symbols in the frame. This is because, under a condition in which the communication line quality is satisfactory, it can be expected that the communication line quality is estimated at high accuracy even if the number of pilot OFDM symbols used for the communication line quality estimation is relatively small, and, under conditions in which the communication line quality is poor, a large number of pilot OFDM symbols are considered to be necessary to improve the communication line quality estimation accuracy. Consequently, it is possible to control, according to actual communication line quality, the number of pilot OFDM symbols used for the communication line quality estimation. As a result, it is possible to expect a processing amount reduction effect of the receiver while suppressing deterioration in estimation accuracy.</p><p id="p0043" num="0043">Note that, in this embodiment, the threshold determining unit 61 is configured to establish the determination threshold with respect to the SNR. However, a parameter for determining the operation of the threshold determining unit 61 is not limited to this. For example, the threshold determining unit 61 can be configured to also take into account a residual frequency offset amount remaining in the reception signal in the frequency domain, and, when the frequency offset is large and the SNR is high, not use the third and fourth pilot OFDM symbols. In the frame configuration illustrated in <figref idrefs="f0003">FIG. 5</figref>, because an interval among the second to fourth pilot OFDM symbols is wide, in a situation in which frequency offset is present, known signal components cannot be completely removed by processing performed by the pilot adding unit 40 and it is<!-- EPO <DP n="18"> --> likely that the estimation accuracy deteriorates. This effect appears more conspicuously as the communication line quality becomes more satisfactory. Therefore, it is possible to avoid the communication line quality estimation accuracy deterioration by configuring the threshold determining unit 61 to switch the operation by taking into account the SNR and the frequency offset.</p><p id="p0044" num="0044">In this embodiment, the frame configuration illustrated in <figref idrefs="f0003">FIG. 5</figref> is applied. However, just like in the first embodiment, the frame configuration is not limited. For example, a larger number of pilot OFDM symbols can be arranged at the frame top and the pilot OFDM symbols can be arranged at a wider interval on the inside of the frame.</p><heading id="h0013">Third Embodiment</heading><p id="p0045" num="0045">In this embodiment, communication line quality is estimated using a transmission line estimation result. Differences from the first embodiment are explained.</p><p id="p0046" num="0046"><figref idrefs="f0005">FIG. 7</figref> is a diagram illustrating a configuration example of a receiver in this embodiment. Note that, in <figref idrefs="f0005">FIG. 7</figref>, components having functions that are the same as the functions of the components illustrated in <figref idrefs="f0002">FIG. 2</figref> are denoted by the same reference numeral and explanations of these components are omitted. The receiver includes the reception antenna 20, the high-frequency processing unit 21, the A/D-conversion processing unit 22, the CP removing unit 23, the DFT unit 24, the data demodulating unit 25, a transmission-line estimating unit 70, and a communication-line-quality estimating unit 71. A reception signal in a frequency domain that is a processing result of the DFT unit 24 is input to the data demodulating unit 25, the transmission-line estimating unit 70, and the communication-line-quality estimating unit 71.<!-- EPO <DP n="19"> --></p><p id="p0047" num="0047">The transmission-line estimating unit 70 estimates a response of a radio transmission line between a transmitter and the receiver necessary for demodulation processing in the data demodulating unit 25. As an estimation method for a radio transmission line response applied by the transmission-line estimating unit 70, for example, a method is widely known of comparing a known signal received for each subcarrier in a pilot OFDM symbol to a replica of the known signal retained in advance in the receiver to estimate waveform distortion received in the radio transmission line. Such a general method is applicable to the embodiment. In the following explanation, it is assumed that a frequency transfer function for each subcarrier is estimated as the transmission line estimation result in the transmission-line estimating unit 70. The transmission-line estimating unit 70 outputs the transmission line estimation result to the data demodulating unit 25 and the communication-line-quality estimating unit 71. The transmission line estimation result is used for data demodulation processing in the data demodulating unit 25 and used for communication line quality estimation in the communication-line-quality estimating unit 71.</p><p id="p0048" num="0048"><figref idrefs="f0006">FIG. 8</figref> is a diagram illustrating a configuration example of the communication-line-quality estimating unit 71 in this embodiment in the receiver. Note that, in <figref idrefs="f0006">FIG. 8</figref>, components having functions that are the same as the functions of the components illustrated in <figref idrefs="f0003">FIG. 4</figref> are denoted by the same reference numerals and explanations of these components are omitted. The communication-line-quality estimating unit 71 includes the pilot adding unit 40, the first power calculating unit 41, the first averaging processing unit 42, the second power calculating<!-- EPO <DP n="20"> --> unit 43, the second averaging processing unit 44, the (first) power-ratio calculating unit 45, a third power calculating unit 80, a third averaging processing unit 81, a second power-ratio calculating unit 82, and a communication-line-quality-estimation-result output unit 83. The transmission line estimation result, which is an output of the transmission-line estimating unit 70, is input to the third power calculating unit 80. The reception signal in the frequency domain, which is an output of the DFT unit 24, is input to the pilot adding unit 40 and the second power calculating unit 43. Note that the third power calculating unit 80 and the third averaging processing unit 81 are configured as a third power-value calculating unit.</p><p id="p0049" num="0049">The third power calculating unit 80 calculates a power value for each subcarrier with respect to an input frequency transfer function for each subcarrier and, after cumulatively adding up power values for one OFDM symbol, it outputs the calculated power value to the third averaging processing unit 81.</p><p id="p0050" num="0050">The third averaging processing unit 81 averages the input power value. Any method such as an arithmetic mean can be used as an averaging method. An averaged result is output to the second power-ratio calculating unit 82.</p><p id="p0051" num="0051">Further, the units from the pilot adding unit 40 to the (first) power-ratio calculating unit 45 execute processing the same as the processing in the first embodiment and calculate an SNR. The first averaging processing unit 42 outputs a processing result to the second power-ratio calculating unit 82 in addition to the (first) power-ratio calculating unit 45. The (first) power-ratio calculating unit 45 outputs the processing result to the communication-line-quality-estimation-result<!-- EPO <DP n="21"> --> output unit 83.</p><p id="p0052" num="0052">The second power-ratio calculating unit 82 calculates, as indicated by Expression (2) described below, a ratio (hereinafter represented as y) of a power value (hereinafter represented as γ) of the transmission line estimation result that is input from the third averaging processing unit 81 to a power value α of a noise signal that is input from the first averaging processing unit 42.<maths id="math0002" num="(2)"><math display="block"><mrow><mi mathvariant="normal">y</mi><mo>=</mo><mi mathvariant="normal">γ</mi><mo>/</mo><mfenced separators=""><mi mathvariant="normal">α</mi><mo>×</mo><mn mathvariant="normal">0.5</mn></mfenced></mrow></math><img id="ib0002" file="imgb0002.tif" wi="78" he="5" img-content="math" img-format="tif"/></maths></p><p id="p0053" num="0053">The second power-ratio calculating unit 82 outputs the calculated power ratio y to the communication-line-quality-estimation-result output unit 83.</p><p id="p0054" num="0054">The communication-line-quality-estimation-result output unit 83 compares the power ratio y input from the second power-ratio calculating unit 82 with a predetermined selection threshold. When the power ratio y is smaller than the selection threshold, the communication-line-quality-estimation-result output unit 83 outputs the power ratio y. When the power ratio y is larger than the selection threshold, the communication-line-quality-estimation-result output unit 83 outputs the power ratio z that is input from the (first) power-ratio calculating unit 45. That is, the communication-line-quality-estimation-result output unit 83 controls, according to a calculation result of the power value y, the communication line quality estimation value that is output from the communication-line-quality estimating unit 71 and that is switched according to the power ratio y and the power ratio z.</p><p id="p0055" num="0055">The communication-line-quality estimating unit 71 outputs the communication line quality estimation value to the data demodulating unit 25. The communication line quality estimation value output from the communication-line-quality<!-- EPO <DP n="22"> --> estimating unit 71 is used for data demodulation processing in the data demodulating unit 25.</p><p id="p0056" num="0056">As explained above, in this embodiment, compared with the first embodiment already explained, the communication-line-quality estimating unit is configured to be capable of calculating the power ratio y using the power value of the transmission line estimation result estimated by the transmission-line estimating unit 70. Further, the communication-line-quality estimating unit is configured to be capable of switching the power ratio y and the power ratio z as the output of the communication-line-quality estimating unit according to the result of the comparison of the power ratio y and the predetermined selection threshold. In general, in a communication environment in which the SNR is extremely low, by using the power-ratio calculating method of Expression (1) expressed in the first embodiment, the SNR sometimes cannot be calculated to a satisfactory accuracy. By using the configuration of this embodiment, the SNR can be calculated using two different criteria. Therefore, it is possible to provide a satisfactory communication-line-quality estimating means with respect to a wide range of SNRs regardless of the actual communication environment.</p><p id="p0057" num="0057">In this embodiment, the communication-line-quality-estimation-result output unit 83 is configured to compare the power ratio y with the selection threshold. However, the communication-line-quality-estimation-result output unit 83 can be configured to compare the power ratio z with the selection threshold. The configuration illustrated in the second embodiment and the configuration illustrated in the third embodiment can be combined.</p><p id="p0058" num="0058">The communication-line-quality-estimation-result output unit 83 can be further configured to multiply the<!-- EPO <DP n="23"> --> power ratio y and the power ratio z respectively calculated by the power-ratio calculating unit 45 and the second power-ratio calculating unit 82 with a correction coefficient. With such a configuration, for example, when a fixed error occurs in the power value of the transmission line estimation result estimated by the transmission-line estimating unit 70, it is possible to remove an error amount from the communication line quality estimation result and maintain satisfactory estimation accuracy.</p><p id="p0059" num="0059">In this embodiment, the communication-line-quality-estimation-result output unit 83 is configured to switch the power ratio y and the power ratio z according to conditions. However, for example, the power ratio y and the power ratio z can be weighted and combined according to a result of the threshold determination so as to use it as the communication line quality estimation result. Further, a plurality of selection thresholds can be prepared to provide conditional branches such as an output of the power ratio y, a weighted combination of the power ratio y and the power ratio z to be output, and an output of the power ratio z.</p><p id="p0060" num="0060">The communication-line-quality-estimation-result output unit 83 can use any method as a weighted combination method. For example, simple averaging such as (y+z)/2 can be used. By adopting the weighted combination, it is possible to realize highly accurate communication line quality estimation with the use of the estimation results of both the power ratio y and the power ratio z. Further, it can be configured such that the communication line quality estimation uses only the power ratio y without calculating the power ratio z. With such a configuration, when communication is performed only in an extremely low SNR environment in which sufficient estimation accuracy<!-- EPO <DP n="24"> --> cannot be ensured at the power ratio z, it is possible to expect an effect whereby satisfactory estimation accuracy can be realized with a simple configuration.</p><p id="p0061" num="0061">The details of the present invention are illustrated above. However, the scope of the present invention is not limited to the embodiments explained above. All conceivable configurations are included in the scope.</p><heading id="h0014">Fourth Embodiment</heading><p id="p0062" num="0062">In this embodiment, a transmitter transmits a signal in which, with regard to a symbol in a time domain, a sample in a predetermined sample position in the symbol holds a fixed phase for each symbol. A receiver calculates a difference in the sample between the symbols in order to carry out noise power estimation. Differences from the first embodiment are explained below.</p><p id="p0063" num="0063"><figref idrefs="f0007">FIG. 9</figref> is a diagram illustrating a frame configuration and a transmission method of a signal in this embodiment. A frame format of a transmission frame transmitted from the transmitter is illustrated in <figref idrefs="f0007">FIG. 9</figref>, and signals for one frame are shown. The transmission frame is configured from pilot symbols 90 in a two-symbol arrangement and data symbols 91 in a four-symbol arrangement. In <figref idrefs="f0007">FIG. 9</figref>, each symbol includes eight subcarriers.</p><p id="p0064" num="0064">In this embodiment, a plurality of transmittable subcarriers is established from all the subcarriers. These subcarriers are defined as a subcarrier set. In <figref idrefs="f0007">FIG. 9</figref>, the subcarriers indicated by hatching (first, third, fifth, and seventh subcarriers) are the subcarrier set. The subcarriers configuring the subcarrier set are selected so as to be arranged at equal intervals to each other.</p><p id="p0065" num="0065">The transmitter selects, in a pilot symbol, a subcarrier selected in advance from the subcarrier set and<!-- EPO <DP n="25"> --> transmits the subcarrier; and then it selects a subcarrier out of the subcarrier set in a data symbol according to an information bit and transmits the subcarrier. In <figref idrefs="f0007">FIG. 9</figref>, the subcarrier selected in each symbol is represented by "1". Note that the same subcarrier is selected for the pilot symbols of two symbols.</p><p id="p0066" num="0066"><figref idrefs="f0007">FIG. 10</figref> is a diagram illustrating a configuration example of the receiver in this embodiment. The receiver includes the reception antenna 20, the high-frequency processing unit 21, the A/D-conversion processing unit 22, the CP removing unit 23, the DFT unit 24, the data demodulating unit 25, and a communication-line-quality estimating unit 100. In this embodiment, the communication-line-quality estimating unit 100 performs processing of communication line quality estimation using the symbol in the time domain input from the CP removing unit 23 and outputs a processing result to the data demodulating unit 25.</p><p id="p0067" num="0067">The operation of the communication-line-quality estimating unit 100 is explained here. <figref idrefs="f0008">FIG. 11</figref> is a diagram illustrating a configuration example of the communication-line-quality estimating unit 100 in this embodiment. The communication-line-quality estimating unit 100 includes the first power calculating unit 41, the first averaging processing unit 42, the second power calculating unit 43, the second averaging processing unit 44, the power-ratio calculating unit 45, selectors 110 and 111, a pilot subtracting unit 112, a sample subtracting unit 113, and a sample-power calculating unit 114. Note that the selector 110, the pilot subtracting unit 112, the first power calculating unit 41, the sample subtracting unit 113, the sample-power calculating unit 114, the selector 111 and the first averaging processing unit 42 are configured as a<!-- EPO <DP n="26"> --> first power-value calculating unit. The second power-calculating unit 43 and the second averaging processing unit 44 are configured as a second power-value calculating unit.</p><p id="p0068" num="0068">The selector 110 performs a process to switch a signal route through which the symbol in the time domain received from the CP removing unit 23 is output. Specifically, the selector 110 outputs the symbol in the time domain to the pilot subtracting unit 112 when the pilot symbol is processed, and it outputs the symbol in the time domain to the sample subtracting unit 113 when the data symbol is processed.</p><p id="p0069" num="0069">The pilot subtracting unit 112 performs a process to directly accumulate a signal when a leading pilot symbol is processed and of subtracting when a second pilot symbol is processed; and it then performs a process of subtracting the second pilot symbol from the accumulated leading pilot symbol between the same sample times. The pilot subtracting unit 112 outputs a calculation result of the subtraction to the first power calculating unit 41.</p><p id="p0070" num="0070">After calculating a power value for each sample with respect to the subtraction result for each sample input from the pilot subtracting unit 112, the first power calculating unit 41 cumulatively adds the power values for one symbol and outputs the calculated power value to the selector 111.</p><p id="p0071" num="0071">The sample subtracting unit 113 extracts only a specific sample in the symbol determined by the subcarrier set. Details of an extracting method of a sample are explained below. In this embodiment, first, third, fifth, and seventh subcarriers are defined as the subcarrier set selected out of the eight subcarriers. In each symbol, a signal component is present only in one subcarrier.<!-- EPO <DP n="27"> --> Therefore, a time domain waveform is a sine wave, the frequency of which is determined by the number of subcarriers in use. This state is illustrated in <figref idrefs="f0009 f0010">FIG. 12 to FIG. 15</figref>. <figref idrefs="f0009">FIG. 12</figref> is a diagram illustrating a symbol in the time domain when a subcarrier number 1 is used. <figref idrefs="f0009">FIG. 13</figref> is a diagram illustrating the symbol in the time domain when a subcarrier number 3 is used. <figref idrefs="f0010">FIG. 14</figref> is a diagram illustrating the symbol in the time domain when a subcarrier number 5 is used. <figref idrefs="f0010">FIG. 15</figref> is a diagram illustrating the symbols in the time domain when a subcarrier number 7 is used. In <figref idrefs="f0009 f0010">FIGS. 12 to 15</figref>, the abscissa indicates a sample number in the symbol. It is seen from <figref idrefs="f0009 f0010">FIGS. 12 to 15</figref> that a zero-th sample and a fourth sample take the same phase irrespective of the selected subcarrier number. In this way, the sample subtracting unit 113 extracts only samples (the zero-th sample and the fourth sample), which take a common phase irrespective of the subcarrier number.</p><p id="p0072" num="0072">After performing the extraction of the samples that hold the common phase irrespective of the subcarrier number explained above, the sample subtracting unit 113 directly accumulates a signal when an initial data symbol in the frame is processed. When a second data symbol is processed, the sample subtracting unit 113 extracts a sample in the same sample position as the initial data symbol; calculates a difference in the same sample position between the sample and the sample extracted from the accumulated initial data symbol; and outputs the result of the calculation to the sample-power calculating unit 114. As explained above, only the samples that hold the same phase between the symbols are extracted and the difference calculation then performed. Therefore, only noise components remain in a differential result. When<!-- EPO <DP n="28"> --> processing the second and subsequent data symbols, the sample subtracting unit 113 accumulates extracted samples such that the difference calculation can be continuously performed when the next data symbol is processed.</p><p id="p0073" num="0073">After calculating a power value for each sample with respect to a signal input from the sample subtracting unit 113, the sample-power calculating unit 114 calculates a sum for the symbol. The sample subtracting unit 113 extracts only the samples that satisfy the condition explained above. Therefore, the calculation of the sum of power values in the sample-power calculating unit 114 is also processing for adding up power values for the number of extracted samples. Finally, the sample-power calculating unit 114 performs a correction such that the result of the calculation of the sum of power values is a value equivalent to power values of all the samples. Specifically, the sample-power calculating unit 114 performs processing for, after multiplying the result of the calculation of the sum of power values by the number of all the samples in the symbol, dividing the multiplied number by the number of extracted samples.</p><p id="p0074" num="0074">The selector 111 is configured to be capable of receiving signals from the first power calculating unit 41 and the sample-power calculating unit 114. The selector 111 switches a signal route to output an input from the first power calculating unit 41 to the first averaging processing unit 42 when the pilot symbol is processed; and then it outputs the input from the sample-power calculating unit 114 to the first averaging processing unit 42 when the data symbol is processed.</p><p id="p0075" num="0075">After averaging the signal input from the selector 111 between the symbols, the first averaging processing unit 42 outputs the signal to the power-ratio<!-- EPO <DP n="29"> --> calculating unit 45.</p><p id="p0076" num="0076">The second power calculating unit 43 and the second averaging processing unit 44 perform processing equivalent to the processing in the first embodiment (see <figref idrefs="f0003">FIG. 4</figref>). Note that an input to the second power calculating unit 43 is a symbol in the time domain unlike the first embodiment. However, the second power calculating unit 43 can perform the same calculation by, after calculating a power value for each sample, calculating a sum for one symbol. Further, in this embodiment, unlike the first embodiment, a data symbol is also input to the second power calculating unit 43. However, there is no particular difference in processing content between the pilot symbol and the data symbol. The second averaging processing unit 44 outputs an averaged power value per one symbol to the power-ratio calculating unit 45.</p><p id="p0077" num="0077">The power-ratio calculating unit 45 performs processing that is the same as the processing in the first embodiment to calculate an SNR and outputs the SNR to the data demodulating unit 25.</p><p id="p0078" num="0078">As explained above, in this embodiment, the subcarriers that can be used for the signal transmission are defined as the subcarrier set. The transmitter is configured to transmit a signal using one subcarrier out of the subcarrier set such that samples that take the same phase between different symbols appear. Further, in the receiver, the communication-line-quality estimating unit 100 is configured to extract samples that take the same phase and perform the difference calculation between the extracted samples to estimate noise components. Consequently, it is possible to obtain an effect whereby the communication line quality estimation can be carried<!-- EPO <DP n="30"> --> out in a data symbol section in addition to the known pilot symbol section and the communication line quality estimation accuracy is improved.</p><p id="p0079" num="0079">Note that, in this embodiment, the subcarrier set is defined to transmit a signal in which samples that take the same phase between symbols appear. In each sample, one subcarrier is selected out of the subcarrier set and transmitted. However, not only this, but any transmission method can be applied as long as the same phase appears in the same sample position between transmission symbols.</p><p id="p0080" num="0080">In this embodiment, the same phase appears in the same sample position between the transmission symbols. However, the samples do not always need to take the same phase. A signal in which a known fixed phase difference appears between the transmission symbols can be transmitted. In this case, the communication-line-quality estimating unit 100 multiplies one sample by a phase rotation that can cancel out the fixed phase difference and then subtracts the sample from the other sample rather than calculating a difference for the samples between the transmission symbols. Consequently, it is possible to obtain the communication line quality estimation. The same effect can be obtained by multiplying one sample by a phase rotation that changes phases of the samples to opposite phases and then adding up the samples.</p><p id="p0081" num="0081">In this embodiment, the signal is transmitted in the same subcarrier in the pilot symbols. However, the subcarriers for transmission can be changed among the pilot symbols. In that case, the communication-line-quality estimating unit 100 only has to be configured to always estimate noise power using the sample subtracting unit 113 and the sample-power calculating unit 114, irrespective of symbol timing. The change of the subcarriers between the<!-- EPO <DP n="31"> --> pilot symbols is considered to be effective as, for example, a frequency selectivity fading measure and can be applied to such a system. The number of pilot symbols is not limited to two and can be any number equal to or larger than two. In this case, it is desirable that the pilot subtracting unit 112 is configured to be capable of accumulating, in processing the second and subsequent pilot symbols, signals as in the case of the first pilot symbol and performing the difference calculation between the pilot symbols and the next pilot symbols, in addition to the subtraction processing between the pilot symbols.</p><p id="p0082" num="0082">In this embodiment, the same subcarrier set is defined by taking into consideration both the pilot symbol and the data symbol. However, the subcarrier set can be defined using different subcarriers in the pilot symbol and the data symbol; or the pilot symbol can use all the subcarriers as in the first to third embodiments, and the subcarrier set can be defined only for the data symbol as in this embodiment. With such a configuration, it is possible to increase resistance to the frequency selectivity fading or the like and realize communication quality improvement.</p><p id="p0083" num="0083">Further, in this embodiment, the sample-power calculating unit 114 performs the processing of converting the power value of the extracted sample into the power value of all the samples. However, the sample-power calculating unit 114 can be configured to perform averaging of the power value of the extracted sample, and the power-ratio calculating unit 45 can be configured to finally convert the power value of the extracted sample into the power value of all the samples and then calculate the SNR. In this case, correction is performed only once for a power estimation value for which the averaging is completed.<!-- EPO <DP n="32"> --> Therefore, it is possible to obtain an accurate communication line quality estimation result with variation of an estimation value reduced.</p><heading id="h0015">Fifth Embodiment</heading><p id="p0084" num="0084">In this embodiment, communication line quality estimation is carried out using a signal obtained by removing waveform distortion from a reception signal. Parts that are different from the third and fourth embodiments are explained.</p><p id="p0085" num="0085">The frame format in this embodiment is the frame format illustrated in <figref idrefs="f0007">FIG. 9</figref> and is used as in the fourth embodiment. The overall configuration of a receiver is the same as the overall configuration illustrated in <figref idrefs="f0005">FIG. 7</figref> in the third embodiment. However, the receiver includes a second communication-line-quality estimating unit on the inside of the data demodulating unit 25. <figref idrefs="f0011">FIG. 16</figref> is a diagram illustrating a configuration example of the data demodulating unit 25 in this embodiment. In this embodiment, the data demodulating unit 25 includes an equalization processing unit 160, an equalization-coefficient calculating unit 161, a symbol determining unit 162, and a second communication-line-quality estimating unit 163.</p><p id="p0086" num="0086">The operation of the data demodulating unit 25 in this embodiment is explained here. In the data demodulating unit 25 illustrated in <figref idrefs="f0011">FIG. 16</figref>, a reception signal in a frequency domain is input to the equalization processing unit 160 from the DFT unit 24 illustrated in <figref idrefs="f0005">FIG. 7</figref>. A transmission line estimation result is input to the equalization-coefficient calculating unit 161 from the transmission-line estimating unit 70. A communication line quality estimation value is input to the equalization-coefficient calculating unit 161 from the communication-line-quality<!-- EPO <DP n="33"> --> estimating unit 71. A communication line quality estimation value is input to the second communication-line-quality estimating unit 163 from the communication-line-quality estimating unit 71.</p><p id="p0087" num="0087">When a data symbol is processed, the equalization processing unit 160 multiplies the reception signal in the frequency domain by an equalization coefficient input from the equalization-coefficient calculating unit 161 for each subcarrier and compensates for signal distortion. The equalization processing unit 160 outputs the data symbol with the signal distortion compensated, which is a processing result, to the symbol determining unit 162 and the second communication-line-quality estimating unit 163.</p><p id="p0088" num="0088">The symbol determining unit 162 performs, using the data symbol with the signal distortion compensated input from the equalization processing unit 160, determination of an information signal transmitted by the transmitter.</p><p id="p0089" num="0089">When a pilot symbol is processed, the equalization-coefficient calculating unit 161 calculates, using the transmission line estimation result input from the transmission-line estimating unit 70 and the communication line quality estimation value input from the communication-line-quality estimating unit 71, for each subcarrier, an equalization coefficient for compensating for signal distortion received by the reception signal. Any method can be used as a calculation method of the equalization coefficient. For example, an algorithm based on an MMSE (Minimum Mean Square Error) standard is widely used by those skilled in the art. Note that the equalization-coefficient calculating unit 161 is configured to receive the communication line quality estimation value from the second communication-line-quality estimating unit<!-- EPO <DP n="34"> --> 163 as well. However, when the pilot symbol is processed, the equalization-coefficient calculating unit 161 does not use the communication line quality estimation value. When the data symbol is processed, the equalization-coefficient calculating unit 161 calculates an equalization coefficient for each subcarrier using the transmission line estimation result that is input from the transmission-line estimating unit 70 and the communication line quality estimation value that is estimated by the second communication-line-quality estimating unit 163 according to processing explained below; and the equalization-coefficient calculating unit 161 then outputs the equalization coefficients to the equalization processing unit 160.</p><p id="p0090" num="0090"><figref idrefs="f0011">FIG. 17</figref> is a diagram illustrating a configuration example of the second communication-line-quality estimating unit 163 in this embodiment. The second communication-line-quality estimating unit 163 includes the second power calculating unit 43, the second averaging processing unit 44, the power-ratio calculating unit 45, the sample subtracting unit 113, the sample-power calculating unit 114, a fourth averaging processing unit 170, and an IDFT unit 171. In the second communication-line-quality estimating unit 163, the selector 110, the pilot subtracting unit 112, the first power calculating unit 41, and the selector 111 are removed from the communication-line-quality estimating unit 100 in the fourth embodiment illustrated in <figref idrefs="f0008">FIG. 11</figref>. The second communication-line-quality estimating unit 163 includes the fourth averaging processing unit 170, the first averaging processing unit 42 being replaced, and it further includes the IDFT unit 171. Note that the sample subtracting unit 113, the sample-power calculating unit 114, and the fourth averaging processing unit 170 are configured as a first power-value calculating unit. The second power<!-- EPO <DP n="35"> --> calculating unit 43 and the second averaging processing unit 44 are configured as a second power-value calculating unit.</p><p id="p0091" num="0091">The IDFT unit 171 is a converting unit that applies an inverse discrete Fourier transform to the data symbol with the signal distortion compensated that is transferred from the equalization processing unit 160, and it converts the data symbol into a time domain signal.</p><p id="p0092" num="0092">As in the fourth embodiment, the sample subtracting unit 113 extracts, from the time domain signal transferred from the IDFT unit 171, only a specific sample in a symbol determined from a subcarrier set. The sample subtracting unit 113 directly accumulates a signal when the initial data symbol in a frame is processed; extracts a sample in the same sample position as the initial data symbol when the second and subsequent data symbols are processed; calculates the difference in the sample positions between the sample and the sample extracted from the initial data symbol; and outputs the difference to the sample-power calculating unit 114. The sample subtracting unit 113 accumulates the extracted samples such that the differential calculation can be continuously performed when the next data symbol is processed.</p><p id="p0093" num="0093">The sample-power calculating unit 114 calculates a power value according to the processing that is the same as the processing in the fourth embodiment, and it outputs the power value to the fourth averaging processing unit 170.</p><p id="p0094" num="0094">The fourth averaging processing unit 170 performs a process to average the power value input from the sample-power calculating unit 114 using, as an initial value, the communication line quality estimation value input from the communication-line-quality estimating unit 71. For example, the averaging processing performed by using an IIR<!-- EPO <DP n="36"> --> (Infinite Impulse Response) filter can be applied to this averaging processing. The fourth averaging processing unit 170 outputs an averaging result to the power-ratio calculating unit 45.</p><p id="p0095" num="0095">The second power calculating unit 43, the second averaging processing unit 44, and the power-ratio calculating unit 45 perform processing that is the same as the processing explained above. Finally the power-ratio calculating unit 45 outputs the communication line quality estimation result to the equalization-coefficient calculating unit 161.</p><p id="p0096" num="0096">As explained above, in this embodiment as in the fourth embodiment, the subcarriers that can be used for the signal transmission are defined as the subcarrier set. The communication line quality estimation can be configured to carry out in a data symbol section as well. In addition, the communication line quality estimation performed using the data symbol can be performed using the signal that has been compensated for the signal distortion included in the reception signal. Consequently, it is possible to obtain an effect that, even in an environment in which signal distortion is present, an accurate communication line quality estimation value is obtained and communication quality is improved. Because an update of the communication line quality estimation value can be performed in a data symbol section, the ability to follow on from fluctuation in the communication line quality is improved, and thus it is possible to maintain satisfactory communication regardless of the environment.</p><p id="p0097" num="0097">Note that, in this embodiment, the processing result in the second communication-line-quality estimating unit 163 is output only to the equalization-coefficient calculating unit 161. However, the present invention is<!-- EPO <DP n="37"> --> not limited to this. For example, although not clearly indicated in this embodiment, it is known that, when error correction coding is applied, decoding performance is improved by performing a soft decision in a demodulating unit. The estimated communication line quality estimation value can be used for the calculation of the soft decision. To use the estimated communication line quality estimation value in the control of adaptive modulation or the like, the estimated communication line quality estimation value can be output to a circuit that controls modulation and demodulation.</p><heading id="h0016">Industrial Applicability</heading><p id="p0098" num="0098">As explained above, the communication line quality estimating apparatus according to the present invention is useful for radio communication and, in particular, suitable for digital radio communication.</p><heading id="h0017">Reference Signs List</heading><p id="p0099" num="0099"><dl id="dl0001" compact="compact"><dt>10</dt><dd>Data modulating unit</dd><dt>11</dt><dd>Known-signal generating unit</dd><dt>12</dt><dd>Frequency mapping unit</dd><dt>13, 171</dt><dd>IDFT units</dd><dt>14</dt><dd>CP adding unit</dd><dt>15</dt><dd>Frame generating unit</dd><dt>16</dt><dd>D/A-conversion processing unit</dd><dt>17</dt><dd>High-frequency processing unit</dd><dt>18</dt><dd>Transmission antenna</dd><dt>20</dt><dd>Reception antenna</dd><dt>21</dt><dd>High-frequency processing unit</dd><dt>22</dt><dd>A/D-conversion processing unit</dd><dt>23</dt><dd>CP removing unit</dd><dt>24</dt><dd>DFT unit<!-- EPO <DP n="38"> --></dd><dt>25</dt><dd>Data demodulating unit</dd><dt>26,</dt><dd>100 Communication-line-quality estimating units</dd><dt>40</dt><dd>Pilot adding unit</dd><dt>41</dt><dd>First power calculating unit</dd><dt>42</dt><dd>First averaging processing unit</dd><dt>43</dt><dd>Second power calculating unit</dd><dt>44</dt><dd>Second averaging processing unit</dd><dt>45</dt><dd>(First) Power-ratio calculating unit</dd><dt>60</dt><dd>Control unit</dd><dt>61</dt><dd>Threshold determining unit</dd><dt>70</dt><dd>Transmission-line estimating unit</dd><dt>71</dt><dd>Communication-line-quality estimating unit</dd><dt>80</dt><dd>Third power calculating unit</dd><dt>81</dt><dd>Third averaging processing unit</dd><dt>82</dt><dd>Second power-ratio calculating unit</dd><dt>83</dt><dd>Communication-line-quality-estimation-result output unit</dd><dt>110, 111</dt><dd>Selectors</dd><dt>112</dt><dd>Pilot subtracting unit</dd><dt>113</dt><dd>Sample subtracting unit</dd><dt>114</dt><dd>Sample-power calculating unit</dd><dt>160</dt><dd>Equalization processing unit</dd><dt>161</dt><dd>Equalization-coefficient calculating unit</dd><dt>162</dt><dd>Symbol determining unit</dd><dt>163</dt><dd>Second communication-line-quality estimating unit</dd><dt>170</dt><dd>Fourth averaging processing unit</dd></dl></p></description><claims mxw-id="PCLM90459244" lang="EN" load-source="patent-office"><!-- EPO <DP n="39"> --><claim id="c-en-0001" num="0001"><claim-text>A communication-line-quality estimating apparatus of a receiver that receives, from a transmitter, a signal including known signals whose phase relation is known between the transmitter and the receiver, the communication-line-quality estimating apparatus comprising:
<claim-text>a first power-value calculating unit that cumulatively adds up and averages a power value of a noise component calculated from a specified combination of the known signals;</claim-text>
<claim-text>a second power-value calculating unit that cumulatively adds up and averages a power value of the known signals; and</claim-text>
<claim-text>a power-ratio calculating unit that estimates communication line quality using a noise signal power value input from the first power-value calculating unit and a reception signal power value input from the second power-value calculating unit.</claim-text></claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>The communication-line-quality estimating apparatus according to claim 1, wherein<br/>
the power-ratio calculating unit<br/>
subtracts the noise signal power value from the reception signal power value so as to calculate a desired signal power value and<br/>
estimates the communication line quality from a ratio of the desired signal power value to the noise signal power value.</claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>The communication-line-quality estimating apparatus according to claim 1, wherein,<br/>
when the combination of the known signals is the other known signal in anti-phase with one known signal, the first<!-- EPO <DP n="40"> --> power-value calculating unit adds up the known signals in the combination of the known signals so as to calculate the power value of the noise component.</claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>The communication-line-quality estimating apparatus according to claim 1, wherein,<br/>
when the combination of the known signals is one known signal and the other known signal that are the same, the first power-value calculating unit subtracts the known signals in the combination of the known signals so as to calculate the power value of the noise component.</claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>The communication-line-quality estimating apparatus according to claim 1, wherein,<br/>
when the first power-value calculating unit calculates the power value of the noise component using a first combination of the known signals, the communication-line-quality estimating apparatus further comprises:
<claim-text>a threshold determining unit that compares a communication line quality estimation result of the power-ratio calculating unit with a determination threshold and then determines whether to end or continue an operation of the communication line quality estimation; and</claim-text>
<claim-text>a control unit that controls, on the basis of the determination of the threshold determining unit, whether the known signals of second and subsequent combinations are to be output to the first power-value calculating unit and the second power-value calculating unit.</claim-text></claim-text></claim><claim id="c-en-0006" num="0006"><claim-text>The communication-line-quality estimating apparatus according to claim 1, wherein,<br/>
when the power-ratio calculating unit is a first power-ratio calculating unit, the communication-line-quality<!-- EPO <DP n="41"> --> estimating apparatus further comprises:
<claim-text>a transmission-line estimating unit that estimates a response of a radio transmission line between the transmitter and the receiver necessary for data demodulation processing;</claim-text>
<claim-text>a third power-value calculating unit that cumulatively adds and averages a power value of a transmission line estimation result input from the transmission-line estimating unit;</claim-text>
<claim-text>a second power-ratio calculating unit that calculates a ratio of a reception signal power value input from the first power-value calculating unit to a transmission line estimation result power value input from the third power-value estimating unit; and</claim-text>
<claim-text>a communication-line-quality-estimation-result output unit that receives, as an input, an output value from the first power-ratio calculating unit and an output value from the second power-ratio calculating unit; estimates the communication line quality; and outputs a communication line quality estimation result.</claim-text></claim-text></claim><claim id="c-en-0007" num="0007"><claim-text>The communication-line-quality estimating apparatus according to claim 6, wherein<br/>
the communication-line-quality-estimation-result output unit<br/>
compares either the output values from the first power-ratio calculating unit or the output value from the second power-ratio calculating unit with a selection threshold; and<br/>
outputs one of the output values as the communication line quality estimation result on the basis of the comparison result.<!-- EPO <DP n="42"> --></claim-text></claim><claim id="c-en-0008" num="0008"><claim-text>The communication-line-quality estimating apparatus according to claim 6, wherein<br/>
the communication-line-quality-estimation-result output unit outputs, as the communication line quality estimation result, a value obtained by combining the output value from the first power-ratio calculating unit and the output value from the second power-ratio calculating unit.</claim-text></claim><claim id="c-en-0009" num="0009"><claim-text>A transmitter comprising a transmitting unit that transmits a signal including known signals to a receiver when the receiver, which receives the known signals whose phase relation is known between the transmitter and the receiver, estimates communication line quality using a power value of a noise component calculated by addition or subtraction of a specified combination of the known signals.</claim-text></claim><claim id="c-en-0010" num="0010"><claim-text>The transmitter according to claim 9, wherein,<br/>
the combination of the known signals is the other known signal that is in anti-phase with one known signal.</claim-text></claim><claim id="c-en-0011" num="0011"><claim-text>The transmitter according to claim 9, wherein,<br/>
the combination of the known signals is one known signal and the other known signal that are the same.</claim-text></claim><claim id="c-en-0012" num="0012"><claim-text>A communication-line-quality estimating apparatus of a receiver that receives a signal from a transmitter including samples whose phase relation between symbols is known between the transmitter and the receiver, the communication-line-quality estimating apparatus comprising:
<claim-text>a first power-value calculating unit that averages a power value of a noise component calculated by using samples between different symbols;</claim-text>
<claim-text>a second power-value calculating unit that<!-- EPO <DP n="43"> --> cumulatively adds up and averages a power value of the signal; and</claim-text>
<claim-text>a power-ratio calculating unit that estimates communication line quality by using a noise signal power value input from the first power-value calculating unit and a reception signal power value input from the second power-value calculating unit.</claim-text></claim-text></claim><claim id="c-en-0013" num="0013"><claim-text>The communication-line-quality estimating apparatus according to claim 12, wherein,<br/>
when the known phase relation is in phase, the first power-value calculating unit subtracts the samples between the different symbols so as to calculate the noise component.</claim-text></claim><claim id="c-en-0014" num="0014"><claim-text>The communication-line-quality estimating apparatus according to claim 12, wherein,<br/>
when the known phase relation is anti-phase, the first power-value calculating unit adds up the samples between the different symbols so as to calculate the noise component.</claim-text></claim><claim id="c-en-0015" num="0015"><claim-text>The communication-line-quality estimating apparatus according to claim 12, wherein,<br/>
when samples are not in a relation of being in phase nor anti-phase between two symbols, the first power-value calculating unit<br/>
corrects a value of one sample so as to be in phase with the other sample and subtracts the value, or<br/>
corrects the value of one sample so as to be anti-phase with the other sample and adds the value so as to calculate the noise component.<!-- EPO <DP n="44"> --></claim-text></claim><claim id="c-en-0016" num="0016"><claim-text>A receiver that receives a signal from a transmitter including samples whose phase relation between symbols is known between the transmitter and the receiver, the receiver comprising:
<claim-text>an equalization processing unit that multiplies a signal in a frequency domain with an equalization coefficient to compensate for signal distortion;</claim-text>
<claim-text>a communication-line-quality estimating unit that<br/>
receives<br/>
an input of a first communication line quality estimation result estimated on the basis of the signal in the frequency domain and a transmission line estimation result and<br/>
the signal subjected to the signal distortion compensation and<br/>
performs quality estimation of a communication line of the signal subjected to the signal distortion compensation; and</claim-text>
<claim-text>an equalization-coefficient calculating unit that<br/>
receives an input of a second communication line quality estimation result in the communication-line-quality estimating unit, the first communication line quality estimation result, and the transmission line estimation result, and<br/>
calculates the equalization coefficient, wherein</claim-text>
<claim-text>the communication-line-quality estimating unit includes:
<claim-text>a converting unit that converts the signal in the frequency domain, which is the signal subjected to the signal distortion compensation, into a signal in a time domain;</claim-text>
<claim-text>a first power-value calculating unit that calculates and averages, for the signal in the time domain,<!-- EPO <DP n="45"> --> a power value of a noise component by using the first communication line quality estimation result as an initial value;</claim-text>
<claim-text>a second power-value calculating unit that cumulatively adds up and averages a power value of the signal in the time domain; and</claim-text>
<claim-text>a power-ratio calculating unit that</claim-text>
<claim-text>estimates communication line quality by using a noise signal power value input from the first power-value calculating unit and a reception signal power value input from the second power-value calculating unit and</claim-text>
<claim-text>outputs the second communication line quality estimation result.</claim-text></claim-text></claim-text></claim><claim id="c-en-0017" num="0017"><claim-text>A transmitter comprising a transmitting unit that transmits a signal, including samples whose phase relation between symbols is known between the transmitter and a receiver, to the receiver when the receiver, which receives the signal, estimates communication line quality using a power value of a noise component calculated from a plurality of samples.</claim-text></claim><claim id="c-en-0018" num="0018"><claim-text>The transmitter according to claim 17, wherein<br/>
the transmitting unit establishes subcarriers transmittable of the signal, selects one subcarrier out of the subcarriers, and transmits the subcarrier.</claim-text></claim><claim id="c-en-0019" num="0019"><claim-text>The transmitter according to claim 18, wherein<br/>
the transmitting unit establishes the subcarriers transmittable of the signal at an equal interval on a frequency.</claim-text></claim></claims><drawings mxw-id="PDW20421979" load-source="patent-office"><!-- EPO <DP n="46"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="120" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="47"> --><figure id="f0002" num="2,3"><img id="if0002" file="imgf0002.tif" wi="165" he="191" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="48"> --><figure id="f0003" num="4,5"><img id="if0003" file="imgf0003.tif" wi="165" he="198" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="49"> --><figure id="f0004" num="6"><img id="if0004" file="imgf0004.tif" wi="165" he="151" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="50"> --><figure id="f0005" num="7"><img id="if0005" file="imgf0005.tif" wi="165" he="131" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="51"> --><figure id="f0006" num="8"><img id="if0006" file="imgf0006.tif" wi="154" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="52"> --><figure id="f0007" num="9,10"><img id="if0007" file="imgf0007.tif" wi="165" he="207" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="53"> --><figure id="f0008" num="11"><img id="if0008" file="imgf0008.tif" wi="151" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="54"> --><figure id="f0009" num="12,13"><img id="if0009" file="imgf0009.tif" wi="165" he="205" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="55"> --><figure id="f0010" num="14,15"><img id="if0010" file="imgf0010.tif" wi="165" he="202" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="56"> --><figure id="f0011" num="16,17"><img id="if0011" file="imgf0011.tif" wi="165" he="206" img-content="drawing" img-format="tif"/></figure></drawings><search-report-data><doc-page id="srep0001" file="srep0001.tif" wi="165" he="231" type="tif"/><doc-page id="srep0002" file="srep0002.tif" wi="165" he="231" type="tif"/></search-report-data><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
