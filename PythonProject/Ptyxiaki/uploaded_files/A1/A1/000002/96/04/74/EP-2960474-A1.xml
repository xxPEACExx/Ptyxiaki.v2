<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2960474-A1" country="EP" doc-number="2960474" kind="A1" date="20151230" family-id="51391111" file-reference-id="266399" date-produced="20180826" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="160451694" ucid="EP-2960474-A1"><document-id><country>EP</country><doc-number>2960474</doc-number><kind>A1</kind><date>20151230</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-14754697-A" is-representative="YES"><document-id mxw-id="PAPP193866356" load-source="docdb" format="epo"><country>EP</country><doc-number>14754697</doc-number><kind>A</kind><date>20140207</date><lang>JA</lang></document-id><document-id mxw-id="PAPP193866357" load-source="patent-office" format="original"><country>EP</country><doc-number>14754697.2</doc-number><date>20140207</date><lang>JA</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC162032348" ucid="JP-2013030544-A" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>2013030544</doc-number><kind>A</kind><date>20130220</date></document-id></priority-claim><priority-claim mxw-id="PPC162032640" ucid="JP-2014052821-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>2014052821</doc-number><kind>W</kind><date>20140207</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-1877534878" load-source="ipcr">F02D  45/00        20060101ALI20161108BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1877534879" load-source="ipcr">F02D  41/34        20060101ALI20161108BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1877534880" load-source="ipcr">F02D  41/20        20060101AFI20161108BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1877534881" load-source="ipcr">F02D  41/02        20060101ALI20161108BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1877534882" load-source="ipcr">F02D  41/22        20060101ALI20161108BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1883385732" load-source="docdb" scheme="CPC">F02D2041/2003      20130101 LA20161104BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1984701887" load-source="docdb" scheme="CPC">F02D  41/30        20130101 LI20160107BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1984702245" load-source="docdb" scheme="CPC">F02M  51/06        20130101 LI20160107BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1984703414" load-source="docdb" scheme="CPC">F02D  41/20        20130101 FI20160108BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987764644" load-source="docdb" scheme="CPC">F02D  41/26        20130101 LI20150107BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987768987" load-source="docdb" scheme="CPC">F02D  41/221       20130101 LI20150107BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987778263" load-source="docdb" scheme="CPC">F02D  41/402       20130101 LA20150107BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987790081" load-source="docdb" scheme="CPC">F02D2041/2051      20130101 LA20150107BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT165546548" lang="DE" load-source="patent-office">STEUERUNGSVORRICHTUNG FÜR EINEN VERBRENNUNGSMOTOR</invention-title><invention-title mxw-id="PT165546549" lang="EN" load-source="patent-office">CONTROL DEVICE FOR INTERNAL COMBUSTION ENGINE</invention-title><invention-title mxw-id="PT165546550" lang="FR" load-source="patent-office">DISPOSITIF DE COMMANDE POUR MOTEUR À COMBUSTION INTERNE</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR1103310902" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>HITACHI AUTOMOTIVE SYSTEMS LTD</last-name><address><country>JP</country></address></addressbook></applicant><applicant mxw-id="PPAR1103336035" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>HITACHI AUTOMOTIVE SYSTEMS, LTD.</last-name></addressbook></applicant><applicant mxw-id="PPAR1101650749" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Hitachi Automotive Systems, Ltd.</last-name><iid>101246431</iid><address><street>2520 Takaba</street><city>Hitachinaka-shi, Ibaraki 312-8503</city><country>JP</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR1103326931" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>FUJII YOSHIHISA</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR1103312745" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>FUJII, YOSHIHISA</last-name></addressbook></inventor><inventor mxw-id="PPAR1101648529" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>FUJII, YOSHIHISA</last-name><address><street>c/o HITACHI AUTOMOTIVE SYSTEMS, Ltd. 2520 Takaba</street><city>Hitachinaka-shi Ibaraki 312-8503</city><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR1103323932" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>FUKUDA TAKAO</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR1103335717" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>FUKUDA, TAKAO</last-name></addressbook></inventor><inventor mxw-id="PPAR1101651904" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>FUKUDA, TAKAO</last-name><address><street>c/o HITACHI AUTOMOTIVE SYSTEMS, Ltd. 2520 Takaba</street><city>Hitachinaka-shi Ibaraki 312-8503</city><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR1103329128" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>TOYOHARA MASAHIRO</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR1103341944" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>TOYOHARA, MASAHIRO</last-name></addressbook></inventor><inventor mxw-id="PPAR1101652801" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>TOYOHARA, MASAHIRO</last-name><address><street>c/o HITACHI AUTOMOTIVE SYSTEMS, Ltd. 2520 Takaba</street><city>Hitachinaka-shi Ibaraki 312-8503</city><country>JP</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR1101650766" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>MERH-IP Matias Erny Reichl Hoffmann</last-name><iid>101060911</iid><address><street>Paul-Heyse-Strasse 29</street><city>80336 München</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="JP-2014052821-W"><document-id><country>JP</country><doc-number>2014052821</doc-number><kind>W</kind><date>20140207</date><lang>JA</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2014129315-A1"><document-id><country>WO</country><doc-number>2014129315</doc-number><kind>A1</kind><date>20140828</date><lang>JA</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS660609622" load-source="docdb">AL</country><country mxw-id="DS660690859" load-source="docdb">AT</country><country mxw-id="DS660609628" load-source="docdb">BE</country><country mxw-id="DS660613691" load-source="docdb">BG</country><country mxw-id="DS660689274" load-source="docdb">CH</country><country mxw-id="DS660784587" load-source="docdb">CY</country><country mxw-id="DS660690860" load-source="docdb">CZ</country><country mxw-id="DS660609629" load-source="docdb">DE</country><country mxw-id="DS660784588" load-source="docdb">DK</country><country mxw-id="DS660784589" load-source="docdb">EE</country><country mxw-id="DS660697934" load-source="docdb">ES</country><country mxw-id="DS660613692" load-source="docdb">FI</country><country mxw-id="DS660613693" load-source="docdb">FR</country><country mxw-id="DS660609630" load-source="docdb">GB</country><country mxw-id="DS660784590" load-source="docdb">GR</country><country mxw-id="DS660609635" load-source="docdb">HR</country><country mxw-id="DS660690861" load-source="docdb">HU</country><country mxw-id="DS660689279" load-source="docdb">IE</country><country mxw-id="DS660609636" load-source="docdb">IS</country><country mxw-id="DS660613694" load-source="docdb">IT</country><country mxw-id="DS660784591" load-source="docdb">LI</country><country mxw-id="DS660613335" load-source="docdb">LT</country><country mxw-id="DS660690862" load-source="docdb">LU</country><country mxw-id="DS660613336" load-source="docdb">LV</country><country mxw-id="DS660613337" load-source="docdb">MC</country><country mxw-id="DS660691503" load-source="docdb">MK</country><country mxw-id="DS660691504" load-source="docdb">MT</country><country mxw-id="DS660609637" load-source="docdb">NL</country><country mxw-id="DS660613703" load-source="docdb">NO</country><country mxw-id="DS660613347" load-source="docdb">PL</country><country mxw-id="DS660689280" load-source="docdb">PT</country><country mxw-id="DS660609638" load-source="docdb">RO</country><country mxw-id="DS660689281" load-source="docdb">RS</country><country mxw-id="DS660613348" load-source="docdb">SE</country><country mxw-id="DS660689282" load-source="docdb">SI</country><country mxw-id="DS660613704" load-source="docdb">SK</country><country mxw-id="DS660613349" load-source="docdb">SM</country><country mxw-id="DS660784592" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA166480064" lang="EN" load-source="patent-office"><p id="pa01" num="0001">A control device is provided which prevents a temperature increase within an ECU by suppressing heat generation in the ECU without using a new cooling device such as a blow fan.</p><p id="pa02" num="0002">In step 202 (S202), an open valve voltage target value is calculated (block 505). An open valve voltage is a voltage applied to a fuel injection valve when opening the fuel injection valve. As the number of times of the multi-stage injections increases, an opportunity to boost the open valve voltage increases, heat is generated in the open valve voltage boosting section, a temperature within the ECU excessively increases, and there is a concern that an electronic component within the ECU malfunctions or fails. Thus, a temperature sensor is provided on an inside of the ECU and if an ECU temperature 500 is high, it is determined that heat is generated in the open valve voltage generating section and the open valve voltage target value is reduced.<img id="iaf01" file="imgaf001.tif" wi="69" he="97" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA166759876" lang="EN" source="EPO" load-source="docdb"><p>A control device is provided which prevents a temperature increase within an ECU by suppressing heat generation in the ECU without using a new cooling device such as a blow fan.  In step 202 (S202), an open valve voltage target value is calculated (block 505). An open valve voltage is a voltage applied to a fuel injection valve when opening the fuel injection valve. As the number of times of the multi-stage injections increases, an opportunity to boost the open valve voltage increases, heat is generated in the open valve voltage boosting section, a temperature within the ECU excessively increases, and there is a concern that an electronic component within the ECU malfunctions or fails. Thus, a temperature sensor is provided on an inside of the ECU and if an ECU temperature 500 is high, it is determined that heat is generated in the open valve voltage generating section and the open valve voltage target value is reduced.</p></abstract><description mxw-id="PDES98404765" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001">Technical Field</heading><p id="p0001" num="0001">The present invention relates to a control device of an internal combustion engine for controlling a fuel injection valve that directly injects fuel into a combustion chamber.</p><heading id="h0002">Background Art</heading><p id="p0002" num="0002">In recent years, due to national pollution regulations, emission regulations and fuel consumption regulations of automobiles have become strict. Particularly, in a cylinder injection type internal combustion engine, there are advantages of high output and low fuel consumption with respect to an intake port injection type internal combustion engine. However, fuel having a large particle size is likely to adhere and remain on the crown of a piston or the wall surface of a cylinder bore, or a non-uniform portion of a mixed condition of fuel and air is likely to occur. Thus, hydro-carbon (HC) or a fine particulate matter is likely to be exhausted and it causes exhaust performance to be deteriorated.</p><p id="p0003" num="0003"><!-- EPO <DP n="2"> --> As exhaust performance improvement of such a cylinder injection type internal combustion engine, a multi-stage injection control for performing a plurality of times of fuel injections in one cycle of the internal combustion engine is disclosed in PTL 1. According to this control, it is possible to reduce the adhesion amount of fuel within the combustion chamber, to increase uniformity of mixture, and to expect improvement of exhaust performance.</p><p id="p0004" num="0004">On the other hand, the multi-stage injection has a problem that the heat generation in a control device (ECU) is increased. In the cylinder injection type internal combustion engine, in order to open the fuel injection valve against a high fuel pressure, it has been known that a battery voltage is boosted and the boosted voltage (open valve voltage) is used. However, open valve voltage generation means is accompanied by heat generation when boosting. If an opportunity of fuel injection increases in the multi-stage injection, an opportunity of boosting also increases and then heat further generates. As a result, a temperature within the ECU which incorporates the open valve voltage generation means excessively increases and the electronic component within the ECU is likely to malfunction or fail.</p><p id="p0005" num="0005">Thus, a technique for cooling the electronic control<!-- EPO <DP n="3"> --> device by a blowing fan if the temperature within the ECU excessively increases is disclosed in PTL 2.</p><heading id="h0003">Citation List</heading><heading id="h0004">Patent Literature</heading><p id="p0006" num="0006"><ul><li>PTL 1: <patcit id="pcit0001" dnum="JP2011132898A"><text>JP-A-2011-132898</text></patcit></li><li>PTL 2: <patcit id="pcit0002" dnum="JP4319710B"><text>Japanese Patent No. 4319710</text></patcit></li></ul></p><heading id="h0005">Summary of Invention</heading><heading id="h0006">Technical Problem</heading><p id="p0007" num="0007">In the technique described in PTL 2, it is necessary to newly add a blowing fan and manufacturing costs are increased. The present invention has been made in view of such a problem and an object of the invention is to provide a control device for preventing a temperature increase within the ECU without using a new cooling device such as a blowing fan by suppressing heat generation in an ECU.</p><heading id="h0007">Solution to Problem</heading><p id="p0008" num="0008">To solve the above problem, a control device of the invention includes a boosting circuit that generates a boosted voltage by boosting a battery voltage; a driving circuit that drives a fuel injection valve by applying the battery voltage and the boosted voltage to a coil; and a boosted voltage adjusting section that adjusts a target boosted voltage of the<!-- EPO <DP n="4"> --> boosting circuit based on the driving state of a vehicle. Advantageous Effects of Invention</p><p id="p0009" num="0009">According to the invention, heat generation in an ECU is suppressed by adjusting a target value of an open valve voltage by a measured value or an estimated value of a temperature of the control device and it is possible to prevent a temperature increase of the control device without using a new cooling device such as a blowing fan.</p><heading id="h0008">Brief Description of Drawings</heading><p id="p0010" num="0010"><ul><li>[<figref idrefs="f0001">Fig. 1] Fig. 1</figref> is a system configuration view of an internal combustion engine.</li><li>[<figref idrefs="f0002">Fig. 2] Fig. 2</figref> is a circuit configuration diagram of a fuel injection device.</li><li>[<figref idrefs="f0003">Fig. 3] Fig. 3</figref> is a diagram illustrating a flowchart of fuel injection control.</li><li>[<figref idrefs="f0004">Fig. 4] Fig. 4</figref> is a block diagram of the fuel injection control.</li><li>[<figref idrefs="f0005">Fig. 5] Fig. 5</figref> is a diagram illustrating correction of a fuel injection valve energizing time.</li></ul></p><heading id="h0009">Description of Embodiments</heading><p id="p0011" num="0011">Hereinafter, an embodiment of the invention will be described with reference to the drawings.<!-- EPO <DP n="5"> --></p><heading id="h0010">First Embodiment</heading><p id="p0012" num="0012"><figref idrefs="f0001">Fig. 1</figref> is a system configuration view of an internal combustion engine of the invention. This view illustrates a cross-sectional view of an internal combustion engine 11.</p><p id="p0013" num="0013">An intake amount of intake air is adjusted by a throttle valve 2. The intake amount of the intake air is measured by an air flow meter 1 and a signal thereof is transmitted to an ECU (engine control unit) 7.</p><p id="p0014" num="0014">Thereafter, the intake air passes through an intake valve 17, enters a combustion chamber 12 of the internal combustion engine, and forms mixed gas together with fuel injected from a fuel injection valve 3. Opening and closing of the fuel injection valve 3 is controlled by a signal from the ECU 7.</p><p id="p0015" num="0015">The mixed gas of fuel and the intake air formed within the combustion chamber 12 is ignited by a spark ignition device 9. Ignition of the spark ignition device 9 is controlled by a signal from the ECU 7. The ignited mixed gas is combusted and pushes down a piston 13 by expanding. An output shaft (crankshaft) is connected to the piston 13, is rotated by the piston 13 that is being pushed down, and outputs energy.</p><p id="p0016" num="0016"><!-- EPO <DP n="6"> --> Furthermore, the crankshaft includes a crank angle signal plate 5 and a crank angle sensor 6 for detecting a rotational angular speed (engine speed) and an angular position of the crankshaft, and a signal from the crank angle sensor 6 is transmitted to the ECU 7.</p><p id="p0017" num="0017">Additionally, this system includes the following sensors and all transmit signals to the ECU 7. A fuel pressure sensor 4 is a sensor for measuring the pressure within a fuel supply passage 14 to the fuel injection valve 3. A water temperature sensor 8 is mounted on a cooling water passage of the internal combustion engine 11 and is a sensor for measuring a cooling water temperature of the engine. An ECU temperature sensor 19 is mounted on an inside of the ECU 7 and is a sensor for measuring a temperature of the inside of the ECU. An intake air temperature sensor 20 is a sensor for measuring an intake air temperature (outside air temperature).</p><p id="p0018" num="0018">Next, <figref idrefs="f0002">Fig. 2</figref> illustrates a circuit configuration diagram of the fuel injection device.</p><p id="p0019" num="0019">There are the fuel injection valve 3 for injecting fuel into the combustion chamber of the internal combustion engine and the ECU 7 for driving and controlling the fuel injection valve 3. The ECU 7 receives power supply from a battery 52.<!-- EPO <DP n="7"> --></p><p id="p0020" num="0020">A CPU 104, a fuel injection valve driving section 115, and an open valve voltage generating section 116 are provided on the inside of the ECU 7. The CPU 104 controls the entirety of the internal combustion engine including fuel injection control. The fuel injection valve driving section 115 applies an open valve voltage generated in the open valve voltage generating section 116 or a battery voltage 52 to the fuel injection valve 3, and injects fuel.</p><p id="p0021" num="0021">The open valve voltage is a voltage for opening the fuel injection valve 3. The open valve voltage requires a voltage higher than the battery voltage to open a valve body against a high fuel pressure. Thus, the open valve voltage generating section 116 is required.</p><p id="p0022" num="0022">Next, the open valve voltage generating section 116 will be described. The open valve voltage generating section 116 includes three of an open valve voltage target-value adjusting section 114, an open valve voltage detecting section (comparator) 109, and an open valve voltage boosting section 54. An open valve voltage target value calculated by the CPU 104 is transmitted to an open valve voltage selecting-switch driving driver 108 of the open valve voltage target-value adjusting section 114. The open valve voltage target value<!-- EPO <DP n="8"> --> output from the CPU 104 is set as a threshold for determining the presence or absence of the boosting operation of the open valve voltage boosting section 54 by the open valve voltage target-value adjusting section 114.</p><p id="p0023" num="0023">Next, the open valve voltage detecting section (comparator) 109 will be described. The open valve voltage target value and an open valve voltage actual value are compared by the open valve voltage detecting section (comparator) 109. If the open valve voltage actual value is less than the open valve voltage target value, the open valve voltage boosting section 54 boosts the open valve voltage and allows the open valve voltage actual value to be close to the open valve voltage target value. If the open valve voltage measured value is greater than the open valve voltage target value, boosting is not performed by the open valve voltage boosting section 54 and nothing is performed until the open valve voltage measured value is less than the open valve voltage target value by fuel injection of the fuel injection valve 3. Furthermore, here, a case where the open valve voltage target value is one is illustrated but the invention is not limited to the embodiment.</p><p id="p0024" num="0024">Next, an internal configuration of the open valve voltage target-value adjusting section 114 will be described. Here, as an example, a boosted voltage target value can be selected<!-- EPO <DP n="9"> --> from three values of 40 V, 60 V, and 80 V. If the boosted voltage target value of 40 V is selected by the CPU 104, an Sw5 (switching element for the boosted voltage of 40 V) is turned ON, and an Sw6 (switching element for the boosted voltage of 60 V) and an Sw7 (switching element for the boosted voltage of 80 V) are turned OFF via the open valve voltage selecting-switch driving driver 108. In this case, the ratio of a resistor 110 for the boosted voltage of 40 V to a voltage dividing resistor 113 is set in advance to be 16:1. The voltage on an upstream side of the voltage dividing resistor 113 is just 2.5 V when the boosted voltage is 40 V. Similarly, a ratio of a resistor 111 for the boosted voltage of 60 V to the voltage dividing resistor 113 is set in advance to be 24:1 and a ratio of a resistor 112 for the boosted voltage of 80 V to the voltage dividing resistor 113 is set in advance to be 32:1. Moreover, in the embodiment, the open valve voltage of a high voltage capacitor 100 is not directly input into the open valve voltage detecting section (comparator) 109, but the divided voltage value is input as the open valve voltage actual value so as to satisfy the input rating of the open valve voltage detecting section (comparator) 109, but the invention is not limited to the embodiment.</p><p id="p0025" num="0025">The divided voltage value is compared to a reference voltage of 2.5 V by the open valve voltage detecting section 109 and a compared result is transmitted to the open valve<!-- EPO <DP n="10"> --> voltage boosting section 54. The open valve voltage boosting section 54 performs starting or stopping of the boosting operation of the open valve voltage based on the compared result.</p><p id="p0026" num="0026">Moreover, means for varying a voltage dividing ratio of the boosted voltage is not limited to the switching of a plurality of voltage dividing resistors and, for example, the voltage dividing ratio may be varied by varying a resistance value of a variable resistor. Furthermore, the open valve voltage target value may be adjusted by fixing the voltage dividing ratio and varying the reference voltage for comparing to the divided voltage.</p><p id="p0027" num="0027">Next, an internal configuration of the open valve voltage boosting section 54 will be described. The high voltage capacitor 100, a boosted voltage element 101, and an Sw4 (switching element for the boosted voltage) are included on the inside of the open valve voltage boosting section 54. If power supply enters boosted voltage control means 102 and the open valve voltage detecting section 109 detects that the open valve voltage is insufficient with respect to the target value, the Sw4 repeats turning ON/OFF at a high speed and the voltage is boosted to a predetermined voltage.</p><p id="p0028" num="0028"><!-- EPO <DP n="11"> --> Thus, for example, a configuration is provided such that if the voltage by fuel injection is lower than the target value, the open valve voltage is sequentially boosted and supplemented.</p><p id="p0029" num="0029">More specifically, the target value may include an upper limit target value and a lower limit target value such that the open valve voltage is adjusted in a predetermined range. Thus, if the open valve voltage reaches the upper limit target value, the boosting operation by the open valve voltage boosting section 54 is stopped and if the open valve voltage drops to the lower limit target value, the boosting operation by the open valve voltage boosting section 54 can be started. Thus, the open valve voltage can be adjusted so as to be within a predetermined range.</p><p id="p0030" num="0030">In this case, as the target value that is adjusted by the open valve voltage target-value adjusting section 114, if at least one of the upper limit target value and the lower limit target value is adjusted, it is possible to adjust the open valve voltage that is actually generated. However, it is preferable that a variation width of the open valve voltage can be further reduced by adjusting both target values. In addition, the above description is an example of the target value and the invention is not limited to the aspect described<!-- EPO <DP n="12"> --> above. As another example, the open valve voltage boosting section 54 in which a boosted voltage stop condition is that the open valve voltage reaches the upper limit target value and a boosted voltage start condition is set in synchronization with fuel injection start timing, is usable. Also in this case, since the upper limit target value is adjusted by the open valve voltage target-value adjusting section 114, it is possible to obtain the same advantageous effects.</p><p id="p0031" num="0031">Next, the embodiment will be described with reference to the flowchart of fuel injection of <figref idrefs="f0003">Fig. 3</figref> and a control block diagram of <figref idrefs="f0004">Fig. 4</figref>. The flowchart of <figref idrefs="f0003">Fig. 3</figref> illustrates fuel injection of one cylinder in one cycle of the internal combustion engine.</p><p id="p0032" num="0032">In step 200 (S200), a fuel injection amount is calculated (block 506). The fuel injection amount is calculated based on an intake air amount 502, an engine speed 503, and a water temperature 504.</p><p id="p0033" num="0033">In step 201 (S201), the number of times of the multi-stage injections is calculated (block 507). The number of times of the multi-stage injections is calculated based on the intake air amount 502, the engine speed 503, and the water temperature 504. The number of times of the multi-stage injections<!-- EPO <DP n="13"> --> indicates the number of times fuel is injected by being divided in each cylinder per one cycle. In a driving region on a low rotation and low load side, since the flowing of mixed gas within the combustion chamber of the internal combustion engine is low, the number of times of the multi-stage injections is increased. Furthermore, combustion stability is ensured by increasing the number of times of the multi-stage injections to promote early activation of a catalyst when the water temperature is low.</p><p id="p0034" num="0034">In step 202 (S202), the open valve voltage target value is calculated (block 505). The open valve voltage is a voltage applied to the fuel injection valve when opening the fuel injection valve. As the number of times of the multi-stage injections increases, an opportunity to boost the open valve voltage increases, heat is generated in the open valve voltage boosting section, the temperature within the ECU is excessively increases, and there is a concern that the electronic component within the ECU malfunctions or fails. Thus, a temperature sensor is provided on the inside of the ECU and if an ECU temperature 500 is high, it is determined that heat is generated in the open valve voltage generating section and the open valve voltage target value is reduced.</p><p id="p0035" num="0035">Otherwise, even if the ECU temperature sensor is not<!-- EPO <DP n="14"> --> present, it is possible to estimate the ECU temperature. For example, if the ECU is provided within an engine room, it is possible to estimate the temperature of the periphery of the ECU by an outside air temperature 511, a vehicle speed 510, and the water temperature 504. When considering the number of times of the multi-stage injections per unit time obtained from a number of times of the multi-stage injections 507, it is possible to estimate the ECU temperature more accurately. Moreover, the open valve voltage target value may be controlled on the condition that an estimated value or a measured value of the ECU temperature increases to a predetermined value or more, but the invention is not limited to the embodiment. For example, the open valve voltage target value may be controlled on the condition when it is predicted the ECU temperature increases. Thus, the open valve voltage target value is controlled by an actual ECU temperature or an estimated ECU temperature.</p><p id="p0036" num="0036">On the other hand, if the fuel pressure 501 is high, when the open valve voltage is low, the fuel injection valve is unlikely to be opened and an adverse effect that deterioration of the exhaust and fuel consumption performance also occurs. Thus, it is easy to open the valve and deterioration of exhaust and the fuel consumption performance is prevented by increasing the target value of the open valve voltage according to an<!-- EPO <DP n="15"> --> increase in the fuel pressure.</p><p id="p0037" num="0037">In step 203 (S203), the open valve voltage target value in (S202) is compared to the previous value and it is determined whether or not a change is present.</p><p id="p0038" num="0038">In step 204 (S204), if a change is present in the open valve voltage target value in (S204), the open valve voltage target value is adjusted (block 114).</p><p id="p0039" num="0039">In step 205 (S205), a fuel injection valve energizing time 508 is calculated. The fuel injection valve energizing time 508 is calculated based on a fuel injection amount 506, the fuel pressure 501, the number of times of the multi-stage injections 507, and the open valve voltage (block 508). The invention is characterized by correcting the fuel injection valve energizing time by a height of the open valve voltage.</p><p id="p0040" num="0040">More specifically, correction of the fuel injection valve energizing time will be described with reference to <figref idrefs="f0005">Fig. 5. Fig. 5</figref> illustrates a case where the fuel injection valve is energized. After energizing is turned ON, the fuel injection valve applies the open valve voltage and the valve is opened. Thereafter, the battery voltage is applied and the open state of valve is maintained. After an application pulse<!-- EPO <DP n="16"> --> is turned OFF, the fuel injection valve is closed by a spring force of the fuel injection valve and the fuel pressure.</p><p id="p0041" num="0041">Here, when viewing a valve body position of the fuel injection valve, in a case where the open valve voltage is small (broken line portion), the valve body of the fuel injection valve is slowly opened with respect to a case where the open valve voltage is large (solid line portion). Thus, the fuel injection amount is reduced as much as an area (300 in the view) of a hatched portion. Thus, when injecting the same fuel amount irrespective of the open valve voltage, the area (300 in the view) of the hatched portion and an area (301 in the view) of the dotted line portion are equal to each other by correcting an application pulse time from point 302 to point 303 in the view and thereby the fuel injection amounts are equal to each other. Thus, the fuel injection amount is corrected by correcting an energizing time of the fuel injection valve.</p><p id="p0042" num="0042">Furthermore, if the number of times of the multi-stage injections is three, three fuel injection valve energizing times 508 are calculated.</p><p id="p0043" num="0043">In step 206 (S206), a fuel injection start timing 509 is calculated (block 509). The fuel injection start timing 509 is calculated based on the intake air amount 502, the engine<!-- EPO <DP n="17"> --> speed 503, the water temperature 504, and the number of times of the multi-stage injections 507. Here, if the number of times of the multi-stage injections is three, three types of fuel injection start timing 509 are calculated.</p><p id="p0044" num="0044">Step 207 (S207) indicates the start of a process for repeatedly injecting fuel up to the number of times of the multi-stage injections. Here, when fuel injection is performed by the number of times of the multi-stage injections and is completed, the process is completed.</p><p id="p0045" num="0045">In step 208 (S208), self-diagnosis (block 512) of the open valve voltage is performed. The diagnosis is performed by Expression 1.</p><heading id="h0011">[Expression 1]</heading><heading id="h0012">|Target open valve voltage target value-the open valve voltage actual value|&gt;the predetermined value</heading><p id="p0046" num="0046">That is, if an absolute value of a difference between the open valve voltage target value calculated by the open valve voltage target-value calculating section (block 505) and the open valve voltage actual value is greater than a predetermined value, the self-diagnosis is is performed abnormally.</p><p id="p0047" num="0047">In step 209 (S209), it is examined whether or not it is<!-- EPO <DP n="18"> --> the fuel injection start timing. If it is YES, it is determined to be fuel injection.</p><p id="p0048" num="0048">In step 210 (S210), it is examined whether or not the open valve voltage is less than the open valve voltage target value and the self-diagnosis is performed normally. Here, if it is YES, in step 211 (S211), the voltage is boosted in an open valve voltage boosting section (block 54). If it is NO, the process returns to before step 209 (S209).</p><p id="p0049" num="0049">In step 212 (S212), it is determined whether diagnosis of (S208) is normal or abnormal. If it is normal, in fuel injection, step 213 (S213) and step 214 (S214) are performed by a fuel injection valve driving driver (block 107). That is, the open valve voltage and the battery voltage are applied to the fuel injection valve, and fuel injection is performed. On the other hand, in (S212), if it is determined that the self-diagnosis is abnormal, step 213 (S213) is not performed and only step 214 (S214) is performed. That is, the open valve voltage is not applied and only the battery voltage is applied. This is performed to prevent failure of the fuel injection valve due to failure of the open valve voltage boosting section (block 54). Furthermore, if only the battery voltage is applied, since an opening valve time is extremely extended, control is performed to also extend the fuel injection valve energizing<!-- EPO <DP n="19"> --> time.</p><p id="p0050" num="0050">In step 215 (S215), the process proceeds to beginning (S207) of a repeating process. According to the invention as described above, even if heat generation in the control device increases, it is possible to suppress heat generation in the control device without requiring a device such as the cooling fan. Then, if multi-stage injection control is performed, even if an opportunity to boost the voltage of the battery voltage increases and then heat generation amount in the control device increases, it is possible to suppress heat generation while maintaining the number of times of the injections by reducing the target open valve voltage of the fuel injection valve. Thus, even if heat generation in the control device occurs, since it is possible to maintain the number of times of the multi-stage injections, exhaust performance is improved.</p><p id="p0051" num="0051">In addition, according to the invention, the temperature of the control device is detected or is estimated by the outside air temperature, the vehicle speed, the cooling water temperature, and the number of times of the fuel injections per unit time. If the estimated temperature is high, it is determined that heat generation in the open valve voltage generating means increases, an opportunity to generate a high<!-- EPO <DP n="20"> --> voltage of the open valve voltage generating means is reduced and it is possible to suppress heat generation by reducing the target value of the open valve voltage.</p><p id="p0052" num="0052">Furthermore, according to the invention, if the fuel pressure is high and the open valve voltage is low, since the fuel injection valve is unlikely to be opened and the emission performance and the fuel consumption performance deteriorate, the valve is likely to be opened and deterioration of the emission performance and the fuel consumption performance is prevented by increasing the target value of the valve open voltage.</p><p id="p0053" num="0053">Furthermore, according to the invention, it is possible to compensate an error of the fuel injection amount generated by adjustment of the open valve voltage by correction. That is, if the open valve voltage is low, since it takes time by opening of the fuel injection valve compared to a case where the open valve voltage is high, it is possible to correct a pulse width to be long.</p><p id="p0054" num="0054">Furthermore, according to the invention, abnormality of the open valve voltage generating means or the open valve voltage detecting means is detected from the difference therebetween. If the open valve voltage generating means<!-- EPO <DP n="21"> --> fails, since there is a concern that the fuel injection valve also fails, it is possible to prevent failure of fuel injection valve in advance by detecting abnormality and performing fail-safe.</p><heading id="h0013">Reference Signs List</heading><p id="p0055" num="0055">3 ··· fuel injection valve, 7 ··· ECU (engine control unit), 52 ··· battery, 54 ··· open valve voltage boosting section, 55 ··· ignition switch, 100 ··· high voltage capacitor, 101 ··· boosted voltage element (inductance element), 102 ··· boosted voltage control means, 103 ··· charging diode, 104 ··· CPU (central processing unit), 105 ··· current detecting resistor, 106 ··· boosted voltage detecting section, 107 ··· fuel injection valve driving driver, 108 ··· open valve voltage selecting-switch driving driver, 109 ··· open valve voltage detecting section (comparator), 110 ··· resistor for boosted voltage of 40 V, 111 ··· resistor for boosted voltage of 60 V, 112 ··· resistor for boosted voltage of 80 V, 113 ··· voltage dividing resistor, 114 ··· open valve voltage target-value adjusting section, 115 ... fuel injection valve driving section, 116 ··· open valve voltage generating section</p></description><claims mxw-id="PCLM90459710" lang="EN" load-source="patent-office"><!-- EPO <DP n="22"> --><claim id="c-en-0001" num="0001"><claim-text>A control device of a cylinder injection type internal combustion engine comprising:
<claim-text>a boosting circuit that generates a boosted voltage by boosting a battery voltage;</claim-text>
<claim-text>a driving circuit that drives a fuel injection valve by applying the battery voltage and the boosted voltage to a coil; and</claim-text>
<claim-text>a boosted voltage adjusting section that adjusts a target boosted voltage of the boosting circuit based on a driving state of a vehicle.</claim-text></claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>The control device of a cylinder injection type internal combustion engine according to claim 1, further comprising:
<claim-text>temperature obtaining unit that measures or estimates a temperature of the control device,</claim-text>
<claim-text>wherein the boosted voltage adjusting section adjusts the target boosted voltage of the boosting circuit based on the temperature that is measured or estimated by the temperature obtaining unit.</claim-text></claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>The control device of a cylinder injection type internal combustion engine according to claim 1,<br/>
<!-- EPO <DP n="23"> -->wherein the driving circuit drives the fuel injection valve so as to perform a plurality of times of split injections of fuel during one stoke of the cylinder injection type internal combustion engine and the boosted voltage adjusting section adjusts the target boosted voltage of the boosting circuit based on the number of times of the split injections.</claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>The control device of a cylinder injection type internal combustion engine according to claim 1, further comprising:
<claim-text>fuel pressure detecting unit that detects a fuel pressure being supplied to the fuel injection valve,</claim-text>
<claim-text>wherein the target boosted voltage of the boosting circuit is adjusted based on a detection result of the fuel pressure detecting unit.</claim-text></claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>The control device of a cylinder injection type internal combustion engine according to claim 3, further comprising:
<claim-text>a detecting unit that detects an outside air temperature, a vehicle speed, and a coolant temperature of the cylinder injection type internal combustion engine,</claim-text>
<claim-text>wherein the boosted voltage adjusting section adjusts the target boosted voltage of the boosting circuit using at least one of the outside air temperature, the vehicle speed, and the coolant temperature.</claim-text></claim-text></claim><claim id="c-en-0006" num="0006"><claim-text><!-- EPO <DP n="24"> --> The control device of a cylinder injection type internal combustion engine according to claim 1,<br/>
wherein the boosted voltage adjusting section includes a voltage dividing resistor for dividing the boosted voltage, a voltage dividing ratio switching circuit that switches the voltage dividing ratio by the voltage dividing resistor, and a comparison circuit that compares the boosted voltage that is divided and a reference voltage that is set in advance, and<br/>
wherein the boosting circuit performs a boosting operation based on a comparison result of the comparison circuit.</claim-text></claim><claim id="c-en-0007" num="0007"><claim-text>The control device of a cylinder injection type internal combustion engine according to claim 6,<br/>
wherein the voltage dividing ratio switching circuit switches the voltage dividing ratio by switching a plurality of voltage dividing resistors or by varying a resistance value of the voltage dividing resistor.</claim-text></claim><claim id="c-en-0008" num="0008"><claim-text>The control device of a cylinder injection type internal combustion engine according to claim 1,<br/>
wherein the boosted voltage adjusting section includes a comparison circuit that compares the boosted voltage and a reference voltage that is set in advance, and reference voltage varying unit that varies the reference voltage, and<br/>
<!-- EPO <DP n="25"> -->wherein the boosting circuit performs a boosting operation based on a comparison result of the comparison circuit.</claim-text></claim><claim id="c-en-0009" num="0009"><claim-text>The control device of a cylinder injection type internal combustion engine according to claim 1,<br/>
wherein a current waveform energizing the fuel injection valve is variable based on the target boosted voltage.</claim-text></claim><claim id="c-en-0010" num="0010"><claim-text>The control device of a cylinder injection type internal combustion engine according to claim 1,<br/>
wherein an abnormality determination unit is provided which determines that one of the boosting circuit and the unit for detecting the boosted voltage is abnormal if an absolute value of a difference between the target boosted voltage and the boosted voltage exceeds a predetermined value.</claim-text></claim><claim id="c-en-0011" num="0011"><claim-text>The control device of a cylinder injection type internal combustion engine according to claim 9,<br/>
wherein if the abnormality determination unit determines the abnormality, stopping of the boosting circuit or driving only of the battery voltage to the fuel injection valve is performed.</claim-text></claim><claim id="c-en-0012" num="0012"><claim-text>The control device of a cylinder injection type internal<!-- EPO <DP n="26"> --> combustion engine according to claim 1,<br/>
wherein the target boosted voltage includes an upper limit target value for determining boosting stop of the boosting circuit and a lower limit target value for determining boosting start of the boosting circuit, and<br/>
wherein the boosted voltage adjusting section adjusts at least one of the upper limit target value and the lower limit target value.</claim-text></claim></claims><drawings mxw-id="PDW20422427" load-source="patent-office"><!-- EPO <DP n="27"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="160" he="171" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="28"> --><figure id="f0002" num="2"><img id="if0002" file="imgf0002.tif" wi="165" he="167" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="29"> --><figure id="f0003" num="3"><img id="if0003" file="imgf0003.tif" wi="165" he="224" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="30"> --><figure id="f0004" num="4"><img id="if0004" file="imgf0004.tif" wi="165" he="155" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="31"> --><figure id="f0005" num="5"><img id="if0005" file="imgf0005.tif" wi="165" he="133" img-content="drawing" img-format="tif"/></figure></drawings><search-report-data><doc-page id="srep0001" file="srep0001.tif" wi="165" he="231" type="tif"/><doc-page id="srep0002" file="srep0002.tif" wi="165" he="231" type="tif"/></search-report-data><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
