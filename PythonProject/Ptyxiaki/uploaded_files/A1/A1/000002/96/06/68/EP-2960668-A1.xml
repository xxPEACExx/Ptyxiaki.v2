<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2960668-A1" country="EP" doc-number="2960668" kind="A1" date="20151230" family-id="51390951" file-reference-id="315106" date-produced="20180824" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="160451619" ucid="EP-2960668-A1"><document-id><country>EP</country><doc-number>2960668</doc-number><kind>A1</kind><date>20151230</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-14753850-A" is-representative="YES"><document-id mxw-id="PAPP193866206" load-source="patent-office" format="original"><country>EP</country><doc-number>14753850.8</doc-number><date>20140213</date><lang>JA</lang></document-id><document-id mxw-id="PAPP193866207" load-source="docdb" format="epo"><country>EP</country><doc-number>14753850</doc-number><kind>A</kind><date>20140213</date><lang>JA</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC162034499" ucid="JP-2013035177-A" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>2013035177</doc-number><kind>A</kind><date>20130225</date></document-id></priority-claim><priority-claim mxw-id="PPC162028999" ucid="JP-2014000743-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>2014000743</doc-number><kind>W</kind><date>20140213</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-1857145950" load-source="ipcr">G01R  33/10        20060101AFI20170110BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1857145951" load-source="ipcr">G01R  29/14        20060101ALI20170110BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1981015159" load-source="docdb" scheme="CPC">G01R  33/10        20130101 FI20160122BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT165546323" lang="DE" load-source="patent-office">VERTEILUNGSANALYSEVORRICHTUNG UND VERTEILUNGSANALYSEVERFAHREN</invention-title><invention-title mxw-id="PT165546324" lang="EN" load-source="patent-office">DISTRIBUTION ANALYZING DEVICE AND DISTRIBUTION ANALYZING METHOD</invention-title><invention-title mxw-id="PT165546325" lang="FR" load-source="patent-office">DISPOSITIF ET PROCÉDÉ D'ANALYSE DE DISTRIBUTION</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR1103344980" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>NAT UNIV CORP UNIV KOBE</last-name><address><country>JP</country></address></addressbook></applicant><applicant mxw-id="PPAR1103304640" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>NATIONAL UNIVERSITY CORPORATION KOBE UNIVERSITY</last-name></addressbook></applicant><applicant mxw-id="PPAR1101647070" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>National University Corporation Kobe University</last-name><iid>101159445</iid><address><street>1-1 Rokkodai-cho Nada-ku</street><city>Kobe-shi, Hyogo 657-8501</city><country>JP</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR1103339442" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>KIMURA KENJIRO</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR1103329585" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>KIMURA, KENJIRO</last-name></addressbook></inventor><inventor mxw-id="PPAR1101646400" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>KIMURA, KENJIRO</last-name><address><street>c/o National University Corporation KOBE University 1-1 Rokkodai-cho Nada-ku</street><city>Kobe-shi, Hyogo 657-8501</city><country>JP</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR1101648829" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Vigand, Philippe</last-name><suffix>et al</suffix><iid>101349517</iid><address><street>Novagraaf International SA 3 chemin de l'Echo</street><city>1213 Onex Geneva</city><country>CH</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="JP-2014000743-W"><document-id><country>JP</country><doc-number>2014000743</doc-number><kind>W</kind><date>20140213</date><lang>JA</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2014129151-A1"><document-id><country>WO</country><doc-number>2014129151</doc-number><kind>A1</kind><date>20140828</date><lang>JA</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS660612706" load-source="docdb">AL</country><country mxw-id="DS660608686" load-source="docdb">AT</country><country mxw-id="DS660612712" load-source="docdb">BE</country><country mxw-id="DS660696488" load-source="docdb">BG</country><country mxw-id="DS660688377" load-source="docdb">CH</country><country mxw-id="DS660784204" load-source="docdb">CY</country><country mxw-id="DS660608695" load-source="docdb">CZ</country><country mxw-id="DS660612713" load-source="docdb">DE</country><country mxw-id="DS660784205" load-source="docdb">DK</country><country mxw-id="DS660784206" load-source="docdb">EE</country><country mxw-id="DS660688957" load-source="docdb">ES</country><country mxw-id="DS660696489" load-source="docdb">FI</country><country mxw-id="DS660696490" load-source="docdb">FR</country><country mxw-id="DS660612714" load-source="docdb">GB</country><country mxw-id="DS660784207" load-source="docdb">GR</country><country mxw-id="DS660612719" load-source="docdb">HR</country><country mxw-id="DS660608696" load-source="docdb">HU</country><country mxw-id="DS660688378" load-source="docdb">IE</country><country mxw-id="DS660612720" load-source="docdb">IS</country><country mxw-id="DS660696499" load-source="docdb">IT</country><country mxw-id="DS660784208" load-source="docdb">LI</country><country mxw-id="DS660612371" load-source="docdb">LT</country><country mxw-id="DS660608697" load-source="docdb">LU</country><country mxw-id="DS660612372" load-source="docdb">LV</country><country mxw-id="DS660612373" load-source="docdb">MC</country><country mxw-id="DS660689982" load-source="docdb">MK</country><country mxw-id="DS660689987" load-source="docdb">MT</country><country mxw-id="DS660688958" load-source="docdb">NL</country><country mxw-id="DS660696500" load-source="docdb">NO</country><country mxw-id="DS660689988" load-source="docdb">PL</country><country mxw-id="DS660688383" load-source="docdb">PT</country><country mxw-id="DS660688963" load-source="docdb">RO</country><country mxw-id="DS660688384" load-source="docdb">RS</country><country mxw-id="DS660688964" load-source="docdb">SE</country><country mxw-id="DS660688385" load-source="docdb">SI</country><country mxw-id="DS660696501" load-source="docdb">SK</country><country mxw-id="DS660689989" load-source="docdb">SM</country><country mxw-id="DS660784209" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA166479989" lang="EN" load-source="patent-office"><p id="pa01" num="0001">A distribution analyzing device (20) includes: an obtaining unit (21) which obtains measurement data of a field measured, through a sensor sensing area, independently at each of rotation angles and at each of grid coordinate positions of the sensor sensing area; and a calculation unit (22) which calculates a distribution of the field from the measurement data, using an arithmetic expression obtained by deriving a target harmonic function, which indicates the distribution of the field, using a condition that a convolution of the target harmonic function and a shape function, which indicates a shape of a cross section of the finite sensor sensing area along a plane parallel to the measurement plane, is equal to a provisional harmonic function derived by solving the Laplace equation using the measurement data and a size of the sensor sensing area in a direction perpendicular to the measurement plane.<img id="iaf01" file="imgaf001.tif" wi="123" he="85" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA166759801" lang="EN" source="EPO" load-source="docdb"><p>A distribution analyzing device (20) includes: an obtaining unit (21) which obtains measurement data of a field measured, through a sensor sensing area, independently at each of rotation angles and at each of grid coordinate positions of the sensor sensing area; and a calculation unit (22) which calculates a distribution of the field from the measurement data, using an arithmetic expression obtained by deriving a target harmonic function, which indicates the distribution of the field, using a condition that a convolution of the target harmonic function and a shape function, which indicates a shape of a cross section of the finite sensor sensing area along a plane parallel to the measurement plane, is equal to a provisional harmonic function derived by solving the Laplace equation using the measurement data and a size of the sensor sensing area in a direction perpendicular to the measurement plane.</p></abstract><description mxw-id="PDES98404690" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001">[Technical Field]</heading><p id="p0001" num="0001">The present invention relates to a distribution analyzing device and a distribution analyzing method for analyzing a field having a property satisfying the Laplace equation.</p><heading id="h0002">[Background Art]</heading><p id="p0002" num="0002">Conventionally, a spatial distribution of a magnetic field (hereafter, also referred to as a "magnetic field distribution") is utilized in various applications such as locating an abnormal electric current path in an electronic component and examining a disease part of a human body. A superconducting quantum interference device and a magnetoresistive sensor, for instance, are used as magnetic field sensors to measure such a magnetic field distribution. The superconducting quantum interference device is also referred to as a "SQUID element".</p><p id="p0003" num="0003">Magnetic force microscopy (MFM) may also be used to obtain a magnetic field distribution. A magnetic field sensor which includes a sharpened silicon tip coated with a magnetic thin film is used for a MFM probe. Such a probe is also referred to as a "magnetic probe". Patent Literature (PTL) 1 proposes a structure in which a carbon nanotube magnetic probe is used as a MFM probe. PTL 2 describes a method for measuring a three-dimensional distribution of, for instance, a magnetic field and an electric field in a three-dimensional space.</p><p id="p0004" num="0004">In the method described in PTL 2, the Laplace equation which is a fundamental equation of a static magnetic field is exactly solved using, as a boundary condition, a two-dimensional magnetic field distribution and a two-dimensional distribution of the gradient of the<!-- EPO <DP n="2"> --> magnetic field obtained at a specific measurement plane, thus obtaining a three-dimensional magnetic field distribution in a space around the measurement plane. The gradient of the magnetic field mentioned here means a gradient of a magnetic field in a direction normal to the measurement plane. The space around the measurement plane includes both a three-dimensional space above the measurement plane and a three-dimensional space below the measurement plane.</p><p id="p0005" num="0005">With the method described in PTL 2, a structure of a source of a magnetic field (magnetic field source) can be imaged using measurement data of a magnetic field distribution obtained in an area away from the magnetic field source. The image showing the structure of the magnetic field source can be utilized for medical diagnosis and electronic component failure analysis, for example.</p><p id="p0006" num="0006">When a magnetic field source in the space below a measurement plane is measured, an electronic circuit and a mechanical component for processing signals from a magnetic field sensor are typically present in the space above the measurement plane. These are not objects to be measured, but are the magnetic field sources. The method described in PTL 2 allows the distribution of a field to be precisely analyzed even when magnetic field sources are included in both of the spaces above and below the measurement plane.</p><p id="p0007" num="0007">The spatial resolution in the measurement of a magnetic field distribution depends on the size of a coil used in a SQUID element or the size of a magnetoresistive sensor. Miniaturizing such a magnetic field sensor allows the magnetic field distribution to be imaged with a higher spatial resolution. There is, however, actually a limit to the miniaturization of the magnetic field sensor. For example, it is hard to manufacture a magnetic field sensor of 100 nm or less in size. Besides, a miniaturized magnetic field sensor outputs a small electric signal from a sensor sensing area thereof,<!-- EPO <DP n="3"> --> and suffers a low signal to noise ratio (S/N).</p><p id="p0008" num="0008">To address this, a method of rotating a magnetic field sensor is used as described in PTLs 3, 4, and 5. For example, when an X direction and a Y direction are perpendicular to each other, if a magnetic field sensor has a size that is greater in the X direction and smaller in the Y direction, the resolution of a magnetic field distribution is lower in the X direction and higher in the Y direction. Consequently, the rotation of the magnetic field sensor increases the resolution of a magnetic field distribution in more directions.</p><heading id="h0003">[Citation List]</heading><heading id="h0004">[Patent Literature]</heading><p id="p0009" num="0009"><ul><li>[PTL 1] <patcit id="pcit0001" dnum="JP2006501484W"><text>Japanese translation of PCT International Application Publication No. 2006-501484</text></patcit></li><li>[PTL 6] <patcit id="pcit0002" dnum="WO2008123432A"><text>WO 2008/123432</text></patcit></li><li>[PTL 3] <patcit id="pcit0003" dnum="JP2007271465A"><text>Japanese Unexamined Patent Application Publication No. 2007-271465</text></patcit></li><li>[PTL 4] <patcit id="pcit0004" dnum="WO2011108543A"><text>WO 2011/108543</text></patcit></li><li>[PTL 5] <patcit id="pcit0005" dnum="WO2012153496A"><text>WO 2012/153496</text></patcit></li></ul></p><heading id="h0005">[Summary of Invention]</heading><heading id="h0006">[Technical Problem]</heading><p id="p0010" num="0010">However, a measurement area where a magnetic field is measured has various sizes. With the method in which a magnetic field sensor is rotated, a distribution of a magnetic field is analyzed, assuming that the long side of the magnetic field sensor is greater in size than a magnetic field source. Accordingly, the magnetic field sensor preferably has a sufficiently large size. On the contrary, measuring a magnetic field from a small magnetic field source with an excessively large magnetic field sensor is inefficient from the viewpoint of signal processing.</p><p id="p0011" num="0011">Accordingly, a method is employed with which a magnetic field is measured repeatedly with a small magnetic field sensor while the<!-- EPO <DP n="4"> --> position of the magnetic field sensor is kept changing, thus obtaining data equivalent to that obtained when the magnetic field is measured with a large magnetic field sensor. This allows even a small magnetic field sensor to measure magnetic fields from magnetic field sources of various sizes. It takes a long time to obtain, using a small magnetic field sensor, data equivalent to that obtained by measuring a magnetic field with a large magnetic field sensor.</p><p id="p0012" num="0012">In view of this, an object of the present invention is to provide a distribution analyzing device and a distribution analyzing method for analyzing a distribution of a field at high speed.</p><heading id="h0007">[Solution to Problem]</heading><p id="p0013" num="0013">In order to address the above problem, a distribution analyzing device according to the present invention is a distribution analyzing device for analyzing a distribution of a field having a property satisfying a Laplace equation, the distribution analyzing device including: an obtaining unit configured to obtain measurement data of the field measured, through a sensor sensing area, independently at each of rotation angles of the sensor sensing area and at each of grid coordinate positions of the sensor sensing area on a measurement plane where the field is measured, the sensor sensing area being (i) a finite area which relatively rotates about an axis perpendicular to the measurement plane, (ii) an area which relatively moves such that a predetermined position in the area is brought to each of the grid coordinate positions in a state where the area has relatively rotated, and (iii) an area in which the field is sensed as an aggregate; and a calculation unit configured to calculate the distribution of the field from the measurement data of the field, using an arithmetic expression obtained by deriving a target harmonic function, which indicates the distribution of the field, using a condition that a convolution of the target harmonic function and a shape function, which indicates a shape of a cross section of the finite sensor sensing area along a plane parallel to the measurement plane, is equal to a provisional harmonic function<!-- EPO <DP n="5"> --> derived by solving the Laplace equation using the measurement data of the field and a size of the sensor sensing area in a direction perpendicular to the measurement plane.</p><p id="p0014" num="0014">Accordingly, error (noise) according to the shape of the sensor sensing area is eliminated from the measurement data of the field measured at each rotation angle and at each coordinate position. Accordingly, the distribution analyzing device can appropriately analyze the distribution using both the rotation angle and the coordinate position of the sensor sensing area. In other words, the distribution can be analyzed at high speed, using both the rotation angle and the coordinate position, even if the sensor sensing area is small.</p><p id="p0015" num="0015">The field may be a magnetic field or an electric field, the obtaining unit may be configured to obtain the measurement data of the field, and the calculation unit may be configured to calculate the distribution of the field from the measurement data of the field.</p><p id="p0016" num="0016">Accordingly, the distribution analyzing device can analyze a spatial distribution of, for instance, a magnetic field with high accuracy. The analyzed spatial distribution can be utilized for various types of application, such as electronic component failure analysis, medical diagnosis, and concrete rebar corrosion inspection.</p><p id="p0017" num="0017">The arithmetic expression used by the calculation unit to calculate the distribution of the field from the measurement data of the field may include multiplication of the shape function and the provisional harmonic function each subjected to Fourier transform.</p><p id="p0018" num="0018">Accordingly, information on the shape of the sensor sensing area is appropriately reflected in the calculation of the distribution of the field. Consequently, error according to the shape of the sensor sensing area is eliminated appropriately.</p><p id="p0019" num="0019"><!-- EPO <DP n="6"> --> The arithmetic expression used by the calculation unit to calculate the distribution of the field from the measurement data of the field may include integration of, over the rotation angles, an expression including multiplication of the shape function and the provisional harmonic function each subjected to a Fourier transform.</p><p id="p0020" num="0020">Accordingly, information obtained at each rotation angle is appropriately reflected in the calculation of the distribution of the field. This allows calculation of the distribution with high precision.</p><p id="p0021" num="0021">The arithmetic expression used by the calculation unit to calculate the distribution of the field from the measurement data of the field may include division of an expression obtained by integrating, over the rotation angles, an expression including multiplication of the shape function and the provisional harmonic function, by an expression obtained by integrating, over the rotation angles, an expression including a square of an absolute value of the shape function, the shape function and the provisional harmonic function each having been subjected to a Fourier transform.</p><p id="p0022" num="0022">Accordingly, information on the shape of the sensor sensing area and information obtained at each rotation angle are reflected in the calculation of the distribution of the field at appropriate proportion. This allows calculation of more appropriate distribution.</p><p id="p0023" num="0023">The obtaining unit may obtain the measurement data which is obtained through the sensor sensing area, which is caused to relatively rotate by the field rotating about the axis perpendicular to the measurement plane, and which moves to each of the grid coordinate positions that are stationary on the measurement plane.</p><p id="p0024" num="0024">In this manner, for example, the distribution analyzing device can obtain measurement data from a measurement device which includes a sensor sensing area which moves in a parallel manner, and a rotary sample stage which rotates, having thereon an inspection<!-- EPO <DP n="7"> --> object.</p><p id="p0025" num="0025">When (x, y, z) denotes a rotating coordinate system which rotates, (X, Y, Z) denotes a stationary coordinate system which does not rotate, θ denotes one of the rotation angles, k<sub>x</sub> denotes a wavenumber of the rotating coordinate system in an x direction, ky denotes a wavenumber of the rotating coordinate system in a y direction, ξ denotes a wavenumber of the stationary coordinate system in an X direction, n denotes a wavenumber of the stationary coordinate system in a Y direction,<maths id="math0001" num="[Math. 1]"><math display="block"><mrow><mover><mi>f</mi><mrow><mo> ∼</mo></mrow></mover><mfenced separators=","><mi>ξ</mi><mi>η</mi></mfenced></mrow></math><img id="ib0001" file="imgb0001.tif" wi="23" he="17" img-content="math" img-format="tif"/></maths> denotes the shape function, and <maths id="math0002" num="[Math. 2]"><math display="block"><mrow><msub><mrow><mover><mi>φ</mi><mrow><mo> ∼</mo></mrow></mover></mrow><mi>θ</mi></msub><mfenced separators=",,"><mi>ξ</mi><mi>η</mi><mi>z</mi></mfenced></mrow></math><img id="ib0002" file="imgb0002.tif" wi="26" he="17" img-content="math" img-format="tif"/></maths> denotes the provisional harmonic function, the shape function and the provisional harmonic function each having been subjected to a two-dimensional Fourier transform, the arithmetic expression used by the calculation unit to calculate the distribution of the field from the measurement data of the field may be <maths id="math0003" num="[Math. 3]"><math display="block"><mrow><mfrac><mrow><mo>∫</mo><mover><mi>f</mi><mrow><mo> ∼</mo></mrow></mover><mo>⁢</mo><mfenced separators=""><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi><mo>-</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>,</mo><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>+</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi></mfenced><mo>⁢</mo><msub><mrow><mover><mi>φ</mi><mrow><mo> ∼</mo></mrow></mover></mrow><mi>θ</mi></msub><mo>⁢</mo><mfenced separators=""><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi><mo>-</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>,</mo><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>+</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi><mo>,</mo><mi>z</mi></mfenced><mo>⁢</mo><mi mathvariant="italic">dθ</mi></mrow><mrow><mo>∫</mo><msup><mfenced open="|" close="|" separators=""><mover><mi>f</mi><mrow><mo> ∼</mo></mrow></mover><mo>⁢</mo><mfenced separators=""><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi><mo>-</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>,</mo><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>+</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi></mfenced></mfenced><mn>2</mn></msup><mo>⁢</mo><mi mathvariant="italic">dθ</mi></mrow></mfrac><mn>.</mn></mrow></math><img id="ib0003" file="imgb0003.tif" wi="160" he="32" img-content="math" img-format="tif"/></maths></p><p id="p0026" num="0026">Accordingly, the distribution analyzing device can eliminate error according to the shape of the sensor sensing area and calculate the distribution of the field.</p><p id="p0027" num="0027">When (x, y, z) denotes a rotating coordinate system which rotates, (X, Y, Z) denotes a stationary coordinate system which does<!-- EPO <DP n="8"> --> not rotate, θ denotes one of the rotation angles, k<sub>x</sub> denotes a wavenumber of the rotating coordinate system in an x direction, ky denotes a wavenumber of the rotating coordinate system in a y direction, ξ denotes a wavenumber of the stationary coordinate system in an X direction, n denotes a wavenumber of the stationary coordinate system in a Y direction, <maths id="math0004" num="[Math. 4]"><math display="block"><mrow><mover><mi>f</mi><mrow><mo> ∼</mo></mrow></mover><mfenced separators=","><mi>ξ</mi><mi>η</mi></mfenced></mrow></math><img id="ib0004" file="imgb0004.tif" wi="23" he="18" img-content="math" img-format="tif"/></maths> denotes the shape function, and <maths id="math0005" num="[Math. 5]"><math display="block"><mrow><msub><mrow><mover><mi>φ</mi><mrow><mo> ∼</mo></mrow></mover></mrow><mi>θ</mi></msub><mfenced separators=",,"><mi>ξ</mi><mi>η</mi><mi>z</mi></mfenced></mrow></math><img id="ib0005" file="imgb0005.tif" wi="30" he="18" img-content="math" img-format="tif"/></maths> denotes the provisional harmonic function, the shape function and the provisional harmonic function each having been subjected to a two-dimensional Fourier transform, the arithmetic expression used by the calculation unit to calculate the distribution of the field from the measurement data of the field may be <maths id="math0006" num="[Math. 6]"><math display="block"><mrow><mfrac><mrow><mo>-</mo><mo>∫</mo><mover><mi>f</mi><mrow><mo> ∼</mo></mrow></mover><mo>⁢</mo><mfenced separators=""><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi><mo>-</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>,</mo><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>+</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi></mfenced><mo>⁢</mo><msub><mrow><mover><mi>φ</mi><mrow><mo> ∼</mo></mrow></mover></mrow><mi>θ</mi></msub><mo>⁢</mo><mfenced separators=""><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi><mo>-</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>,</mo><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>+</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi><mo>,</mo><mi>z</mi></mfenced><mo>⁢</mo><mi>sin</mi><mi mathvariant="italic">θdθ</mi></mrow><mrow><mo>∫</mo><msup><mfenced open="|" close="|" separators=""><mover><mi>f</mi><mrow><mo> ∼</mo></mrow></mover><mo>⁢</mo><mfenced separators=""><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi><mo>-</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>,</mo><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>+</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi></mfenced></mfenced><mn>2</mn></msup><mo>⁢</mo><msup><mi>sin</mi><mn>2</mn></msup><mo>⁢</mo><mi mathvariant="italic">θdθ</mi></mrow></mfrac></mrow></math><img id="ib0006" file="imgb0006.tif" wi="155" he="26" img-content="math" img-format="tif"/></maths><br/>
which is for calculating a component of the field in the x direction.</p><p id="p0028" num="0028">Accordingly, the distribution analyzing device can eliminate error according to the shape of the sensor sensing area, and calculate a distribution of components of the field in the x direction.</p><p id="p0029" num="0029">When (x, y, z) denotes a rotating coordinate system which rotates, (X, Y, Z) denotes a stationary coordinate system which does not rotate, θ denotes one of the rotation angles, k<sub>x</sub> denotes a wavenumber of the rotating coordinate system in an x direction, ky denotes a wavenumber of the rotating coordinate system in a y direction, ξ denotes a wavenumber of the stationary coordinate system in an X direction, n denotes a wavenumber of the stationary<!-- EPO <DP n="9"> --> coordinate system in a Y direction, <maths id="math0007" num="[Math. 7]"><math display="block"><mrow><mover><mi>f</mi><mrow><mo> ∼</mo></mrow></mover><mfenced separators=","><mi>ξ</mi><mi>η</mi></mfenced></mrow></math><img id="ib0007" file="imgb0007.tif" wi="23" he="17" img-content="math" img-format="tif"/></maths> denotes the shape function, and <maths id="math0008" num="[Math. 8]"><math display="block"><mrow><msub><mrow><mover><mi>φ</mi><mrow><mo> ∼</mo></mrow></mover></mrow><mi>θ</mi></msub><mfenced separators=",,"><mi>ξ</mi><mi>η</mi><mi>z</mi></mfenced></mrow></math><img id="ib0008" file="imgb0008.tif" wi="30" he="18" img-content="math" img-format="tif"/></maths> denotes the provisional harmonic function, the shape function and the provisional harmonic function each having been subjected to a two-dimensional Fourier transform, the arithmetic expression used by the calculation unit to calculate the distribution of the field from the measurement data of the field may be <maths id="math0009" num="[Math. 9]"><math display="block"><mrow><mfrac><mrow><mo>∫</mo><mover><mi>f</mi><mrow><mo> ∼</mo></mrow></mover><mo>⁢</mo><mfenced separators=""><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi><mo>-</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>,</mo><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>+</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi></mfenced><mo>⁢</mo><msub><mrow><mover><mi>φ</mi><mrow><mo> ∼</mo></mrow></mover></mrow><mi>θ</mi></msub><mo>⁢</mo><mfenced separators=""><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi><mo>-</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>,</mo><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>+</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi><mo>,</mo><mi>z</mi></mfenced><mo>⁢</mo><mi mathvariant="italic">cosθdθ</mi></mrow><mrow><mo>∫</mo><msup><mfenced open="|" close="|" separators=""><mover><mi>f</mi><mrow><mo> ∼</mo></mrow></mover><mo>⁢</mo><mfenced separators=""><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi><mo>-</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>,</mo><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>+</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi></mfenced></mfenced><mn>2</mn></msup><mo>⁢</mo><msup><mi>cos</mi><mn>2</mn></msup><mo>⁢</mo><mi mathvariant="italic">θdθ</mi></mrow></mfrac></mrow></math><img id="ib0009" file="imgb0009.tif" wi="159" he="26" img-content="math" img-format="tif"/></maths><br/>
which is for calculating a component of the field in the y direction.</p><p id="p0030" num="0030">Accordingly, the distribution analyzing device can eliminate error according to the shape of the sensor sensing area, and calculate a distribution of components of the field in the y direction.</p><p id="p0031" num="0031">The distribution analyzing device may further include a measurement unit which includes the sensor sensing area, wherein the measurement unit may be configured to measure the field, through the sensor sensing area, independently at each of the rotation angles of the sensor sensing area and at each of the grid coordinate positions of the sensor sensing area, and the obtaining unit may be configured to obtain the measurement data of the field measured by the measurement unit.</p><p id="p0032" num="0032">Accordingly, the distribution analyzing device can directly measure the field without relying on another device. Thus, the distribution analyzing device can calculate the distribution of the<!-- EPO <DP n="10"> --> field, based on the measurement data of the field measured.</p><p id="p0033" num="0033">The distribution analyzing device may further include an image processing unit configured to generate an image which shows the distribution, using the distribution calculated by the calculation unit.</p><p id="p0034" num="0034">Accordingly, the distribution analyzing device can generate an image having no error according to the shape of the sensor sensing area, since the error has been eliminated.</p><p id="p0035" num="0035">The obtaining unit may obtain the measurement data of the field measured through the sensor sensing area which relatively moves such that a central position of the sensor sensing area is brought to each of the grid coordinate positions in the state where the sensor sensing area has relatively rotated, and the calculation unit may calculate the distribution of the field from the measurement data of the field, using the arithmetic expression obtained by deriving the target harmonic function which satisfies that a convolution of the target harmonic function and the shape function is equal to the provisional harmonic function, the shape function being defined using the central position of the sensor sensing area as a reference point.</p><p id="p0036" num="0036">This makes the shape function less complicated. Accordingly, the distribution analyzing device can inhibit an increase in the amount of calculation.</p><p id="p0037" num="0037">The calculation unit may be configured to calculate the distribution of the field from the measurement data of the field, using the arithmetic expression obtained by deriving the target harmonic function using the condition that the convolution of the target harmonic function and the shape function is equal to the provisional harmonic function obtained by solving the Laplace equation using a boundary condition that an integral of a solution of the Laplace<!-- EPO <DP n="11"> --> equation over an interval corresponding to the size of the sensor sensing area in the direction perpendicular to the measurement plane matches the measurement data of the field.</p><p id="p0038" num="0038">Accordingly, an appropriate provisional harmonic function is obtained based on the Laplace equation, measurement data, and the size of the sensor sensing area in the direction perpendicular to the measurement plane.</p><p id="p0039" num="0039">A distribution analyzing method according to the present invention may be a distribution analyzing method for analyzing a distribution of a field having a property satisfying a Laplace equation, the distribution analyzing method including: obtaining measurement data of the field measured, through a sensor sensing area, independently at each of rotation angles of the sensor sensing area and at each of grid coordinate positions of the sensor sensing area on a measurement plane where the field is measured, the sensor sensing area being (i) a finite area which relatively rotates about an axis perpendicular to the measurement plane, (ii) an area which relatively moves such that a predetermined position in the area is brought to each of the grid coordinate positions in a state where the area has relatively rotated, and (iii) an area in which the field is sensed as an aggregate; and calculating the distribution of the field from the measurement data of the field, using an arithmetic expression obtained by deriving a target harmonic function, which indicates the distribution of the field, using a condition that a convolution of the target harmonic function and a shape function, which indicates a shape of a cross section of the finite sensor sensing area along a plane parallel to the measurement plane, is equal to a provisional harmonic function derived by solving the Laplace equation using the measurement data of the field and a size of the sensor sensing area in a direction perpendicular to the measurement plane.</p><p id="p0040" num="0040">This achieves the distribution analyzing device according to<!-- EPO <DP n="12"> --> the present invention as a distribution analyzing method for analyzing a distribution of a field.</p><heading id="h0008">[Advantageous Effects of Invention]</heading><p id="p0041" num="0041">According to the present invention, a magnetic field distribution and an electric field distribution are analyzed at high speed even if a sensor sensing area is small.</p><heading id="h0009">[Brief Description of Drawings]</heading><p id="p0042" num="0042"><ul><li>[<figref idrefs="f0001">FIG. 1] FIG. 1</figref> is a schematic diagram of a distribution analyzing system according to Embodiment 1.</li><li>[<figref idrefs="f0002">FIG. 2] FIG. 2</figref> is a configuration diagram of a distribution analyzing device according to Embodiment 1.</li><li>[<figref idrefs="f0002">FIG. 3] FIG. 3</figref> is a flowchart illustrating operation of the distribution analyzing device according to Embodiment 1.</li><li>[<figref idrefs="f0003">FIG. 4] FIG. 4</figref> is a perspective view illustrating a state where a large sensor sensing area is used.</li><li>[<figref idrefs="f0003">FIG. 5] FIG. 5</figref> is a top view illustrating the state where the large sensor sensing area is used.</li><li>[<figref idrefs="f0003">FIG. 6] FIG. 6</figref> is a side view illustrating the state where the large sensor sensing area is used.</li><li>[<figref idrefs="f0004">FIG. 7] FIG. 7</figref> is a perspective view illustrating a state where a small sensor sensing area is used.</li><li>[<figref idrefs="f0004">FIG. 8] FIG. 8</figref> is a top view illustrating the state where the small sensor sensing area is used.</li><li>[<figref idrefs="f0004">FIG. 9] FIG. 9</figref> is a side view illustrating the state where the small sensor sensing area is used.</li><li>[<figref idrefs="f0005">FIG. 10] FIG. 10</figref> illustrates movement of a sensor sensing area according to Embodiment 1.</li><li>[<figref idrefs="f0005">FIG. 11] FIG. 11</figref> is a top view illustrating the movement of the sensor sensing area according to Embodiment 1.</li><li>[<figref idrefs="f0006">FIG. 12] FIG. 12</figref> illustrates a shape function according to Embodiment 1.</li><li>[<figref idrefs="f0006">FIG. 13] FIG. 13</figref> is a configuration diagram of a distribution analyzing device according to Embodiment 2.<!-- EPO <DP n="13"> --></li><li>[<figref idrefs="f0007">FIG. 14] FIG. 14</figref> is a flowchart illustrating operation of the distribution analyzing device according to Embodiment 2.</li></ul></p><heading id="h0010">[Description of Embodiments]</heading><p id="p0043" num="0043">The following describes an embodiment according to the present invention, with reference to the drawings. It should be noted that constituent elements to which the same numeral is assigned show the same constituent element or the same type of constituent elements, throughout the drawings.</p><p id="p0044" num="0044">The embodiments described below show preferred specific examples of the present invention. The numerical values, shapes, materials, constituent elements, the arrangement and connection of the constituent elements, steps, the processing order of the steps, and the like described in the following embodiments are mere examples, and thus are not intended to limit the scope of the claims. Thus, among the constituent elements in the following embodiments, constituent elements not recited in any of the independent claims defining the most generic part of the inventive concept of the present invention are described as arbitrary constituent elements included in more desirable embodiments.</p><heading id="h0011">[Embodiment 1]</heading><p id="p0045" num="0045"><figref idrefs="f0001">FIG. 1</figref> is a schematic diagram of a distribution analyzing system according to Embodiment 1. A distribution analyzing system 10 illustrated in <figref idrefs="f0001">FIG. 1</figref> includes a distribution analyzing device 20, a measurement device 30, and a display device 40. The measurement device 30 measures a field to be analyzed. The distribution analyzing device 20 analyzes a distribution of the measured field. The display device 40 displays an image showing the analyzed distribution. The distribution analyzing device 20 and the display device 40 may constitute a computer system, as illustrated in <figref idrefs="f0001">FIG. 1</figref>.</p><p id="p0046" num="0046">Here, a field to be analyzed has a property satisfying the<!-- EPO <DP n="14"> --> Laplace equation. The Laplace equation is represented by one of the equations shown in Expression 1.</p><p id="p0047" num="0047">[Math. 10] <maths id="math0010" num="Expression 1"><math display="block"><mrow><mtable columnalign="right"><mtr><mtd><mrow><mfrac><mrow><msup><mrow><mo>∂</mo></mrow><mn>2</mn></msup></mrow><mrow><mo>∂</mo><msup><mi>x</mi><mn>2</mn></msup></mrow></mfrac><mo>⁢</mo><mi>F</mi><mfenced separators=",,"><mi>x</mi><mi>y</mi><mi>z</mi></mfenced><mo>+</mo><mfrac><mrow><msup><mrow><mo>∂</mo></mrow><mn>2</mn></msup></mrow><mrow><mo>∂</mo><msup><mi>y</mi><mn>2</mn></msup></mrow></mfrac><mo>⁢</mo><mi>F</mi><mfenced separators=",,"><mi>x</mi><mi>y</mi><mi>z</mi></mfenced><mo>+</mo><mfrac><mrow><msup><mrow><mo>∂</mo></mrow><mn>2</mn></msup></mrow><mrow><mo>∂</mo><msup><mi>z</mi><mn>2</mn></msup></mrow></mfrac><mo>⁢</mo><mi>F</mi><mfenced separators=",,"><mi>x</mi><mi>y</mi><mi>z</mi></mfenced><mo>=</mo><mn>0</mn></mrow></mtd></mtr><mtr><mtd><mrow><msup><mrow><mo>∇</mo></mrow><mn>2</mn></msup><mo>⁢</mo><mi>F</mi></mrow><mfenced separators=",,"><mi>x</mi><mi>y</mi><mi>z</mi></mfenced><mo>=</mo><mn>0</mn></mtd></mtr><mtr><mtd><mrow><mo>∇</mo><mi>F</mi><mfenced separators=",,"><mi>x</mi><mi>y</mi><mi>z</mi></mfenced><mo>=</mo><mn>0</mn></mrow></mtd></mtr></mtable></mrow></math><img id="ib0010" file="imgb0010.tif" wi="156" he="35" img-content="math" img-format="tif"/></maths></p><p id="p0048" num="0048">In Expression 1, F(x, y, z) is a function satisfying the Laplace equation, and is also referred to as a "harmonic function". Moreover, Δ in Expression 1 is referred to as "Laplacian".</p><p id="p0049" num="0049">The field having a property satisfying the Laplace equation is a magnetic field in a location where there is no electric current or spontaneous magnetization, or is an electric field in a location where there is no electric charge, for instance. The distribution analyzing device 20 analyzes a distribution of such a field. Although the present embodiment and the subsequent embodiments are described on the assumption that a field is a magnetic field, the field may not be a magnetic field so long as the field has a property satisfying the Laplace equation as mentioned above.</p><p id="p0050" num="0050">The measurement device 30 illustrated in <figref idrefs="f0001">FIG. 1</figref> is a sensor device which measures a field to be analyzed. Specifically, the measurement device 30 measures a magnetic field around an inspection object 50. The measurement device 30 includes a sensor sensing area 31 which is a probe. The sensor sensing area 31 is an area for sensing a field. It should be noted that a sensor means the entire measurement device 30 and also means a part of the measurement device 30 such as the sensor sensing area 31.</p><p id="p0051" num="0051">In the example illustrated in <figref idrefs="f0001">FIG. 1</figref>, the sensor sensing area 31 includes a tunneling magnetoresistive (TMR) element composed<!-- EPO <DP n="15"> --> of three thin films, namely a soft layer 36, a tunneling layer 37, and a pinned layer (fixed magnetic layer) 38. The soft layer 36 includes a magnetic material whose magnetization direction varies according to the direction of the applied magnetic field. The pinned layer 38 includes a magnetic material whose magnetization direction does not vary. The tunneling layer 37 is an insulating film.</p><p id="p0052" num="0052">The electric resistance differs between when the soft layer 36 and the pinned layer 38 have the same magnetization direction and when the soft layer 36 and the pinned layer 38 have different magnetization directions. Such changes in electric resistance are utilized to measure the magnetic field.</p><p id="p0053" num="0053">The measurement device 30 measures the magnetic field in the sensor sensing area 31, using the above property. It should be noted that an element other than the TMR element, such as a SQUID element or a giant magnetoresistive (GMR) element, may be used. The measurement device 30 can measure the magnetic field at the sensor sensing area 31, even when such another element is used.</p><p id="p0054" num="0054">The measurement device 30 has a mechanism for moving the sensor sensing area 31. In addition, the measurement device 30 also has a mechanism for rotating a rotary sample stage 35 on which the inspection object 50 is placed. In other words, the measurement device 30 can rotate a field. Accordingly, the measurement device 30 can relatively move and rotate the sensor sensing area 31, with respect to the field.</p><p id="p0055" num="0055">Utilizing the above mechanism, the measurement device 30 moves, at each rotation angle, the sensor sensing area 31 to each of grid coordinate positions on a measurement plane perpendicular to a rotation axis, and measures a magnetic field through the sensor sensing area 31 at the rotation angle. Accordingly, the measurement device 30 can measure a field independently at each rotation angle and at each coordinate position. In addition, the<!-- EPO <DP n="16"> --> measurement device 30 measures a perpendicular change (gradient) in the field with respect to the measurement plane, and thus also measures a magnetic field at another measurement plane in a similar manner.</p><p id="p0056" num="0056">It should be noted that the structure of the measurement device 30 is not limited to the above example. The measurement device 30 may have a mechanism for moving the rotary sample stage 35 in a parallel manner. In this case, in a state where the sensor sensing area 31 is stationary, the measurement device 30 rotates the rotary sample stage 35, and furthermore moves the rotary sample stage 35 in a parallel manner, thus relatively moving the sensor sensing area 31 with respect to a field.</p><p id="p0057" num="0057">In addition, the measurement device 30 may have a mechanism for rotating the sensor sensing area 31. Accordingly, the measurement device 30 can relatively rotates the sensor sensing area 31 with respect to a field, without rotating the rotary sample stage 35.</p><p id="p0058" num="0058"><figref idrefs="f0002">FIG. 2</figref> is a configuration diagram of the distribution analyzing device 20 illustrated in <figref idrefs="f0001">FIG. 1</figref>. As illustrated in <figref idrefs="f0002">FIG. 2</figref>, the distribution analyzing device 20 includes an obtaining unit 21 and a calculation unit 22.</p><p id="p0059" num="0059">The obtaining unit 21 obtains measurement data of a field measured by the measurement device 30. The obtaining unit 21 may obtain measurement data through a communication cable or a recording medium.</p><p id="p0060" num="0060">The calculation unit 22 calculates a distribution of the field, from the measurement data obtained by the obtaining unit 21 using a predetermined arithmetic expression. A predetermined arithmetic expression can be obtained by deriving a target harmonic function (to be analyzed) which indicates a distribution of a field,<!-- EPO <DP n="17"> --> based on a law that a convolution of the target harmonic function and a shape function indicating the shape of the sensor sensing area 31 is equal to a provisional harmonic function obtained from the measurement data by solving the Laplace equation.</p><p id="p0061" num="0061">The measurement data includes error against the target harmonic function according to the shape of the sensor sensing area 31 (vagueness, noise). Thus, the provisional harmonic function obtained from measurement data also includes error. This provisional harmonic function corresponds to a convolution of the target harmonic function indicating an original distribution of a field and a shape function. Using an arithmetic expression obtained by deriving such a target harmonic function satisfying this relationship, the calculation unit 22 eliminates the error included in the provisional harmonic function, thus calculating a more accurate distribution.</p><p id="p0062" num="0062">In addition, the calculation unit 22 can use measurement data obtained at each rotation angle and at each coordinate position, to calculate a distribution of a field, by using an arithmetic expression based on the shape function. Accordingly, the calculation unit 22 can calculate the distribution of the field at higher speed than when the calculation unit 22 uses measurement data obtained at each rotation angle and at each radial coordinate.</p><p id="p0063" num="0063">These constituent elements included in the distribution analyzing device 20 are achieved by, for example, electronic circuits such as integrated circuits. These constituent elements may form one circuit as a whole or may be different circuits. In addition, these constituent elements may be each a widely used circuit or a dedicated circuit.</p><p id="p0064" num="0064">Alternatively, these constituent elements may be achieved by a program. In this case, a computer (more specifically, a processor of the computer) reads and executes a program stored in a recording medium, thus achieving functionality of these constituent elements.<!-- EPO <DP n="18"> --></p><p id="p0065" num="0065"><figref idrefs="f0002">FIG. 3</figref> is a flowchart illustrating the operation of the distribution analyzing device 20 illustrated in <figref idrefs="f0002">FIG. 2</figref>. First, the obtaining unit 21 obtains measurement data of a field measured at each rotation angle and at each coordinate position (S11). Next, the calculation unit 22 calculates, using an arithmetic expression based on a shape function, a distribution of a field from the measurement data of the field measured at each rotation angle and at each coordinate position (S12). In this manner, the distribution analyzing device 20 can calculate an accurate distribution at high speed.</p><p id="p0066" num="0066">The following describes in detail advantageous effects achieved by the above-described distribution analyzing system 10, with reference to <figref idrefs="f0003 f0004">FIGS. 4 to 9</figref>.</p><p id="p0067" num="0067"><figref idrefs="f0003">FIG. 4</figref> is a perspective view illustrating a state where a large sensor sensing area is used. A sensor sensing area 32 illustrated in <figref idrefs="f0003">FIG. 4</figref> is unidirectionally long. The sensor sensing area 32 moves in a direction perpendicular to the longitudinal direction of the sensor sensing area 32 in a state where the rotary sample stage 35 has rotated to the predetermined angle, thus passing over the inspection object 50.</p><p id="p0068" num="0068">A typical distribution analyzing system A (not illustrated) measures a field at each of plural positions through which the sensor sensing area 32 passes. At that time, the distribution analyzing system A measures a field sensed by the entire sensor sensing area 32 (a field sensed by the entire sensor sensing area 32 as an aggregate).</p><p id="p0069" num="0069">The above measurement allows the distribution analyzing system A to obtain, with high resolution, a change in the field in the direction in which the sensor sensing area 32 advances. However, the distribution analyzing system A can hardly obtain a change in the<!-- EPO <DP n="19"> --> field in a direction perpendicular to the direction in which the sensor sensing area 32 advances. The distribution analyzing system A rotates the rotary sample stage 35, and measures the field in another direction.</p><p id="p0070" num="0070">Specifically, the sensor sensing area 32 passes over the inspection object 50 in a state where the rotary sample stage 35 has rotated to another angle. The distribution analyzing system A measures the field at each of plural positions through which the sensor sensing area 32 passes, in the same manner as the measurement at the previous angle.</p><p id="p0071" num="0071">The distribution analyzing system A repeats the above procedure. Specifically, the distribution analyzing system A rotates the rotary sample stage 35 to plural angles, and moves the sensor sensing area 32. Then, the distribution analyzing system A measures a field at each of the plural positions through which the sensor sensing area 32 passes. In this manner, the distribution analyzing system A can obtain a change in the field with high resolution, in each of plural directions corresponding to the plural angles.</p><p id="p0072" num="0072"><figref idrefs="f0003">FIG. 5</figref> is a top view illustrating a state where the sensor sensing area 32 illustrated in <figref idrefs="f0003">FIG. 4</figref> is used. As described above, the sensor sensing area 32 moves in a direction perpendicular to the longitudinal direction of the sensor sensing area 32, each time the rotary sample stage 35 has rotated to one of plural angles.</p><p id="p0073" num="0073"><figref idrefs="f0003">FIG. 6</figref> is a side view illustrating the state where the sensor sensing area 32 illustrated in <figref idrefs="f0003">FIG. 4</figref> is used. The sensor sensing area 32 moves along a measurement plane 51 above the inspection object 50 placed on the rotary sample stage 35. This allows measurement of a field along the measurement plane 51. Further, the distribution analyzing system A measures a perpendicular change (gradient) in the field with respect to the measurement plane<!-- EPO <DP n="20"> --> 51, and thus also measures the field at another measurement plane 52 parallel to the measurement plane 51.</p><p id="p0074" num="0074">The distribution analyzing system A can obtain, with high resolution, a change in the field from measurement data of the field measured following the above procedure. The above procedure, however, does not allow the distribution analyzing system A to obtain sufficient information from the sensor sensing area 32 if the inspection object 50 is larger than the sensor sensing area 32, and thus the distribution analyzing system A cannot appropriately analyze the distribution of the field.</p><p id="p0075" num="0075">On the other hand, if the inspection object 50 is much smaller than the sensor sensing area 32, wasteful signal processing increases, and thus the distribution analyzing system A cannot efficiently analyze the distribution. Furthermore, the size of the sensor sensing area 32 is limited due to manufacturing limitations. In view of this, a method of obtaining data may be adopted which is achieved by repeatedly measuring a field using a small sensor sensing area while changing the position thereof, thus obtaining data equivalent to that obtained when the field is measured using a large sensor sensing area.</p><p id="p0076" num="0076"><figref idrefs="f0004">FIG. 7</figref> is a perspective view illustrating a state where a small sensor sensing area is used. A sensor sensing area 33 illustrated in <figref idrefs="f0004">FIG. 7</figref> is shorter than the sensor sensing area 32 illustrated in <figref idrefs="f0003">FIG. 4</figref>. The sensor sensing area 33 passes over the inspection object 50 by moving in a state where the rotary sample stage 35 has rotated to a predetermined angle, as with the sensor sensing area 32 illustrated in <figref idrefs="f0003">FIG. 4</figref>.</p><p id="p0077" num="0077">The sensor sensing area 33 shifts a starting position for movement, and moves in the same direction. The typical distribution analyzing system A aggregates data of a field sensed by the sensor sensing area 33 at plural positions included in an area<!-- EPO <DP n="21"> --> corresponding to the sensor sensing area 32. In this manner, the distribution analyzing system A can obtain, from the sensor sensing area 33, measurement data equivalent to measurement data obtained through the sensor sensing area 32.</p><p id="p0078" num="0078">The distribution analyzing system A calculates a distribution of the field using a calculation formula the same as the formula for when the sensor sensing area 32 is used. In this manner, the distribution analyzing system A can obtain, with high resolution, a change in the field in each of plural directions, as with the case where the sensor sensing area 32 is used.</p><p id="p0079" num="0079"><figref idrefs="f0004">FIG. 8</figref> is a top view illustrating a state where the sensor sensing area 33 illustrated in <figref idrefs="f0004">FIG. 7</figref> is used. As described above, the sensor sensing area 33 moves in a direction perpendicular to the surface of the sensor sensing area 33 each time the rotary sample stage 35 has rotated to one of plural angels. Then, the sensor sensing area 33 shifts the starting position for movement, and moves in the same direction.</p><p id="p0080" num="0080"><figref idrefs="f0004">FIG. 9</figref> is a side view illustrating a state where the sensor sensing area 33 illustrated with <figref idrefs="f0004">FIG. 7</figref> is used. The sensor sensing area 33 moves along the measurement plane 51 as with the sensor sensing area 32 illustrated in <figref idrefs="f0003">FIG. 6</figref>. The distribution analyzing system A also measures the field at the measurement plane 52 in order to measure a perpendicular change in the field with respect to the measurement plane 51.</p><p id="p0081" num="0081">The distribution analyzing system A can obtain, with high resolution, a change in the field from measurement data of the field measured following the above procedure. Further, the distribution analyzing system A can appropriately analyze a distribution of the field even if the inspection object 50 is larger than the sensor sensing area 33.</p><p id="p0082" num="0082"><!-- EPO <DP n="22"> --> On the other hand, the sensor sensing area 33 repeatedly moves, and obtains data which the sensor sensing area 32 obtains by moving one time. Accordingly, the sensor sensing area 33 takes long time to obtain data. For example, the size of the sensor sensing area 33 is 1/10 of the size of the sensor sensing area 32, as illustrated in <figref idrefs="f0004">FIG. 7</figref>. Thus, data obtained by the sensor sensing area 32 through one movement is obtained by the sensor sensing area 33 through ten movements.</p><p id="p0083" num="0083">In other words, if the sensor sensing area 33 is used, it takes 10 times as much time to obtain data as when the sensor sensing area 32 is used. Suppose that the size of the sensor sensing area 33 is 1/100 of the size of the sensor sensing area 32, the sensor sensing area 33 takes 100 times as much time as the sensor sensing area 32. This means that the sensor sensing area 33 takes 1000 seconds to obtain data which the sensor sensing area 32 obtains in 10 seconds.</p><p id="p0084" num="0084">In view of this, the distribution analyzing system 10 according to the present embodiment moves the sensor sensing area as illustrated in <figref idrefs="f0004">FIGS. 7 to 9</figref>, and analyzes a distribution of a field following a procedure different from that used by the typical distribution analyzing system A. In particular, the distribution analyzing system 10 appropriately analyzes a distribution with a small sensor sensing area, taking as much time as when a large sensor sensing area is used. The following describes a procedure in detail with reference to <figref idrefs="f0005 f0006">FIGS. 10 to 12</figref>.</p><p id="p0085" num="0085"><figref idrefs="f0005">FIG. 10</figref> illustrates movement of the sensor sensing area of the distribution analyzing system 10 illustrated in <figref idrefs="f0001">FIG. 1</figref>. A sensor sensing area 34 illustrated in <figref idrefs="f0005">FIG. 10</figref> corresponds to the sensor sensing area 31 of the distribution analyzing system 10 illustrated in <figref idrefs="f0001">FIG. 1</figref>. Specifically, the measurement device 30 of the distribution analyzing system 10 has the sensor sensing area 34 as the sensor sensing area 31 illustrated in <figref idrefs="f0001">FIG. 1</figref>. The size of the sensor sensing area 34 in the Z axis direction is Δz, and an area parallel to the XY<!-- EPO <DP n="23"> --> plane of the sensor sensing area 34 is represented by D<sub>TMR</sub>.</p><p id="p0086" num="0086">In <figref idrefs="f0005">FIG. 10</figref>, an X-axis, a Y-axis, and a Z-axis indicate coordinate axes of a stationary coordinate system, and (X, Y, Z) indicates coordinates (value) of the stationary coordinate system. An x-axis, a y-axis, and a z-axis indicate coordinate axes of a rotating coordinate system, and (x, y, z) indicates coordinates (value) of the rotating coordinate system. The rotation axis of the rotating coordinate system is the Z-axis. The Z-axis of the stationary coordinate system is the same as the z-axis of the rotating coordinate system, and the relationship Z = z holds. A measurement plane is an XY plane at Z = 0.</p><p id="p0087" num="0087">In <figref idrefs="f0005">FIG. 10</figref>, the rotation angle of the rotary sample stage 35 is -θ. Specifically, the rotating coordinate system rotates to an angle of -θ with respect to the stationary coordinate system. On the contrary, the stationary coordinate system can be expressed as rotating to an angle of θ with respect to the rotating coordinate system.</p><p id="p0088" num="0088"><figref idrefs="f0005">FIG. 11</figref> is a top view illustrating movement of the sensor sensing area 34 illustrated in <figref idrefs="f0005">FIG. 10</figref>. The sensor sensing area 34 moves such that a predetermined position in the sensor sensing area 34 is brought to each of grid coordinate positions 55 on a measurement plane. Here, the predetermined position in the sensor sensing area 34 is a center position of the sensor sensing area 34, but may be at an edge position of the sensor sensing area 34. Furthermore, although <figref idrefs="f0005">FIG. 11</figref> illustrates the coordinate positions 55 forming a square lattice, the coordinate positions 55 may form another type of lattice.</p><p id="p0089" num="0089"><figref idrefs="f0006">FIG. 12</figref> illustrates a shape function of the sensor sensing area 34 illustrated in <figref idrefs="f0005">FIG. 10</figref>. Specifically, the shape function indicates the shape of a cross section of the finite sensor sensing area 34 along a plane parallel to the measurement plane. In other words, the<!-- EPO <DP n="24"> --> shape function indicates the shape of a finite crossing area where the sensor sensing area 34 and a plane parallel to the measurement plane cross. For example, as illustrated in <figref idrefs="f0006">FIG. 12</figref>, a shape function f (X, Y) is represented by Expression 2.</p><p id="p0090" num="0090">[Math. 11] <maths id="math0011" num="Expression 2"><math display="block"><mrow><mtable columnalign="right"><mtr><mtd><mi>f</mi><mfenced separators=","><mi>X</mi><mi>Y</mi></mfenced><mo>=</mo><mn>1</mn></mtd><mtd><mfenced separators=","><mi>X</mi><mi>Y</mi></mfenced><mo>∈</mo><msub><mi>D</mi><mi mathvariant="italic">TMR</mi></msub></mtd></mtr><mtr><mtd><mo>=</mo><mn>0</mn></mtd><mtd><mfenced separators=","><mi>X</mi><mi>Y</mi></mfenced><mo>∉</mo><msub><mi>D</mi><mi mathvariant="italic">TMR</mi></msub></mtd></mtr></mtable></mrow></math><img id="ib0011" file="imgb0011.tif" wi="107" he="18" img-content="math" img-format="tif"/></maths></p><p id="p0091" num="0091">As shown by Expression 2, if coordinates (X, Y) are included in D<sub>TMR</sub>, the shape function f(X, Y) is 1. If the coordinates (X, Y) are not included in D<sub>TMR</sub>, the shape function f(X, Y) is 0.</p><p id="p0092" num="0092"><figref idrefs="f0006">FIG. 12</figref> further illustrates a two-dimensional Fourier transform image obtained by performing a Fourier transform, on the shape function f(X, Y), in the X and Y directions. Here, ξ denotes a wavenumber in the X direction, and n denotes a wavenumber in the Y direction.</p><p id="p0093" num="0093">If a two-dimensional Fourier transform is performed on the shape function f(X, Y) indicating a shape that is large in the Y direction and small in the X direction as illustrated in <figref idrefs="f0006">FIG. 12</figref>, a Fourier transform image is obtained which has a wavenumber domain large in the X direction and a wavenumber domain small in the Y direction. Such a Fourier transform image shows that the resolution in the Y direction is low, whereas the resolution in the X direction is high.</p><p id="p0094" num="0094">In the environment illustrated in <figref idrefs="f0005 f0006">FIGS. 10 to 12</figref>, a magnetic field H is defined by Expression 3, using a component H<sub>x</sub> of the magnetic field in the x direction, a component Hy of the magnetic field in the y direction, and a component H<sub>z</sub> of the magnetic field in the z direction.</p><p id="p0095" num="0095"><!-- EPO <DP n="25"> --> [Math. 12] <maths id="math0012" num="Expression 3"><math display="block"><mrow><mi>H</mi><mo>=</mo><mfenced separators=",,"><msub><mi>H</mi><mi>x</mi></msub><msub><mi>H</mi><mi>y</mi></msub><msub><mi>H</mi><mi>z</mi></msub></mfenced></mrow></math><img id="ib0012" file="imgb0012.tif" wi="86" he="11" img-content="math" img-format="tif"/></maths></p><p id="p0096" num="0096">Here, a focus is given on a component H<sub>z</sub> of the magnetic field in the z direction, to avoid making the description complicated. The Z component H<sub>z</sub> of the magnetic field vector can be replaced as indicated by Expression 4, using ρ<sub>0</sub> which indicates a magnetic field in the rotating coordinate system and coordinates (x, y, z) in the rotating coordinate system. It should be noted that the magnetic field ρ<sub>0</sub> may be referred to as a target harmonic function.</p><p id="p0097" num="0097">[Math. 13] <maths id="math0013" num="Expression 4"><math display="block"><mrow><msub><mi>ρ</mi><mn>0</mn></msub><mfenced separators=",,"><mi>x</mi><mi>y</mi><mi>z</mi></mfenced><mo>=</mo><msub><mi>H</mi><mi>z</mi></msub><mfenced separators=",,"><mi>x</mi><mi>y</mi><mi>z</mi></mfenced></mrow></math><img id="ib0013" file="imgb0013.tif" wi="94" he="9" img-content="math" img-format="tif"/></maths></p><p id="p0098" num="0098">Expression 5 represents coordinate transformation when the rotating coordinate system rotates to an angle of -θ, using coordinates (x, y, z) of the rotating coordinate system and coordinates (X, Y, Z) of the stationary coordinate system.</p><p id="p0099" num="0099">[Math. 14] <maths id="math0014" num="Expression 5"><math display="block"><mrow><mtable columnalign="left"><mtr><mtd><mi>X</mi><mo>=</mo><mi>x</mi><mo>⁢</mo><mi>cos</mi><mi>θ</mi><mo>-</mo><mi>y</mi><mo>⁢</mo><mi>sin</mi><mi>θ</mi></mtd></mtr><mtr><mtd><mi>Y</mi><mo>=</mo><mi>x</mi><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>+</mo><mi>y</mi><mo>⁢</mo><mi>cos</mi><mi>θ</mi></mtd></mtr><mtr><mtd><mi>x</mi><mo>=</mo><mi>X</mi><mo>⁢</mo><mi>cos</mi><mi>θ</mi><mo>+</mo><mi>Y</mi><mo>⁢</mo><mi>sin</mi><mi>θ</mi></mtd></mtr><mtr><mtd><mi>y</mi><mo>=</mo><mo>-</mo><mi>X</mi><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>+</mo><mi>Y</mi><mo>⁢</mo><mi>cos</mi><mi>θ</mi></mtd></mtr></mtable></mrow></math><img id="ib0014" file="imgb0014.tif" wi="101" he="35" img-content="math" img-format="tif"/></maths></p><p id="p0100" num="0100">The transformation from the coordinates (X, Y, Z) of the stationary coordinate system to the coordinates (x, y, z) of the rotating coordinate system when the rotation angle is θ is based on Expression 5. Accordingly, the transformation from ρ<sub>θ</sub> indicating the magnetic field of the stationary coordinate system to ρ<sub>0</sub> indicating a magnetic field of the rotating coordinate system when the rotation angle is θ is represented as shown by Expression 6.<!-- EPO <DP n="26"> --></p><p id="p0101" num="0101">[Math. 15] <maths id="math0015" num="Expression 6"><math display="block"><mrow><mtable columnalign="left"><mtr><mtd><msub><mi>ρ</mi><mi>θ</mi></msub><mfenced separators=",,"><mi>X</mi><mi>Y</mi><mi>Z</mi></mfenced></mtd><mtd><mo>=</mo><msub><mi>ρ</mi><mn>0</mn></msub><mfenced separators=",,"><mi>x</mi><mi>y</mi><mi>z</mi></mfenced></mtd></mtr><mtr><mtd><mspace width="1em"/></mtd><mtd><mo>=</mo><msub><mi>ρ</mi><mn>0</mn></msub><mo>⁢</mo><mfenced separators=""><mi>X</mi><mo>⁢</mo><mi>cos</mi><mi>θ</mi><mo>+</mo><mi>Y</mi><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>,</mo><mo>-</mo><mi>X</mi><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>+</mo><mi>Y</mi><mo>⁢</mo><mi>cos</mi><mi>θ</mi><mo>,</mo><mi>Z</mi></mfenced></mtd></mtr></mtable></mrow></math><img id="ib0015" file="imgb0015.tif" wi="160" he="17" img-content="math" img-format="tif"/></maths></p><p id="p0102" num="0102">Expression 7 represents a function φ<sub>θ</sub> obtained by the convolution of a magnetic field ρ<sub>θ</sub> and the shape function f of the sensor sensing area 34 illustrated in <figref idrefs="f0006">FIG. 12</figref>.</p><p id="p0103" num="0103">[Math. 16] <maths id="math0016" num="Expression 7"><math display="block"><mrow><msub><mi>φ</mi><mi>θ</mi></msub><mfenced separators=",,"><mi>X</mi><mi>Y</mi><mi>Z</mi></mfenced><mo>=</mo><munder><mrow><mo>∫</mo><mo>∫</mo></mrow><mi>G</mi></munder><mo>⁢</mo><mi>f</mi><mfenced separators=","><mi>u</mi><mi>v</mi></mfenced><mo>⁢</mo><msub><mi>ρ</mi><mi>θ</mi></msub><mo>⁢</mo><mfenced separators=""><mi>X</mi><mo>+</mo><mi>u</mi><mo>,</mo><mi>Y</mi><mo>+</mo><mi>v</mi><mo>,</mo><mi>Z</mi></mfenced><mo>⁢</mo><mi mathvariant="italic">dudv</mi></mrow></math><img id="ib0016" file="imgb0016.tif" wi="160" he="16" img-content="math" img-format="tif"/></maths></p><p id="p0104" num="0104">In Expression 7, G denotes an XY plane. The function φ<sub>θ</sub> corresponds to a magnetic field sensed by the area D<sub>TMR</sub> which is a cross section of the sensor sensing area 34 at the measurement plane. Here, the function φ<sub>θ</sub> may be referred to as a provisional harmonic function. A magnetic field φ<sub>θ</sub> sensed by the sensor sensing area 34 is obtained by integrating the function φ<sub>θ</sub>, using Δz as an integration interval. In other words, the magnetic field φ<sub>θ</sub> sensed by the sensor sensing area 34 is represented by Expression 8.</p><p id="p0105" num="0105">[Math. 17] <maths id="math0017" num="Expression 8"><math display="block"><mrow><mtable columnalign="left"><mtr><mtd><msub><mi>φ</mi><mi>θ</mi></msub><mfenced separators=",,"><mi>X</mi><mi>Y</mi><mi>Z</mi></mfenced></mtd><mtd><mo>=</mo><munderover><mrow><mo>∫</mo></mrow><mrow><mo>-</mo><mi mathvariant="normal">Δ</mi><mo>⁢</mo><mi>z</mi><mo>/</mo><mn>2</mn><mo>+</mo><mi>z</mi></mrow><mrow><mi mathvariant="normal">Δ</mi><mo>⁢</mo><mi>z</mi><mo>/</mo><mn>2</mn><mo>+</mo><mi>z</mi></mrow></munderover><msub><mi>φ</mi><mi>θ</mi></msub><mfenced separators=",,"><mi>X</mi><mi>Y</mi><mi>w</mi></mfenced><mo>⁢</mo><mi mathvariant="italic">dw</mi></mtd></mtr><mtr><mtd><mspace width="1em"/></mtd><mtd><mo>=</mo><munderover><mrow><mo>∫</mo></mrow><mrow><mo>-</mo><mi mathvariant="normal">Δ</mi><mo>⁢</mo><mi>z</mi><mo>/</mo><mn>2</mn><mo>+</mo><mi>z</mi></mrow><mrow><mi mathvariant="normal">Δ</mi><mo>⁢</mo><mi>z</mi><mo>/</mo><mn>2</mn><mo>+</mo><mi>z</mi></mrow></munderover><mfenced open="{" close="}" separators=""><munder><mrow><mo>∫</mo><mo>∫</mo></mrow><mi>G</mi></munder><mo>⁢</mo><mi>f</mi><mfenced separators=","><mi>u</mi><mi>v</mi></mfenced><mo>⁢</mo><msub><mi>ρ</mi><mi>θ</mi></msub><mo>⁢</mo><mfenced separators=""><mi>X</mi><mo>+</mo><mi>u</mi><mo>,</mo><mi>Y</mi><mo>+</mo><mi>v</mi><mo>,</mo><mi>w</mi></mfenced><mo>⁢</mo><mi mathvariant="italic">dudv</mi></mfenced><mo>⁢</mo><mi mathvariant="italic">dw</mi></mtd></mtr></mtable></mrow></math><img id="ib0017" file="imgb0017.tif" wi="159" he="38" img-content="math" img-format="tif"/></maths></p><p id="p0106" num="0106">For example, the distribution analyzing system 10 measures a magnetic field at plural coordinate positions on the measurement plane, thus obtaining the magnetic field φ<sub>θ</sub>(X, Y, 0). Furthermore,<!-- EPO <DP n="27"> --> the distribution analyzing system 10 measures the magnetic field at another measurement plane, thus obtaining a magnetic field gradient ∇<sub>z</sub>Φ<sub>θ</sub>(X, Y, 0) of the measurement plane in the normal line direction.</p><p id="p0107" num="0107">The function φ<sub>θ</sub> is an integral of multiplication of the magnetic field ρ<sub>θ</sub> satisfying the Laplace equation and the shape function f, and thus the function φ<sub>θ</sub> satisfies the Laplace equation. Accordingly, the function φ<sub>θ</sub> satisfies Expression 9.</p><p id="p0108" num="0108">[Math. 18] <maths id="math0018" num="Expression 9"><math display="block"><mrow><mi mathvariant="normal">Δ</mi><mrow><msub><mi>φ</mi><mi>θ</mi></msub><mfenced separators=",,"><mi>X</mi><mi>Y</mi><mi>Z</mi></mfenced></mrow><mo>=</mo><mn>0</mn></mrow></math><img id="ib0018" file="imgb0018.tif" wi="87" he="10" img-content="math" img-format="tif"/></maths></p><p id="p0109" num="0109">Expression 10 is obtained by performing a Fourier transform in the X and Y directions on Expression 9 above.</p><p id="p0110" num="0110">[Math. 19] <maths id="math0019" num="Expression 10"><math display="block"><mrow><msub><mrow><mover><mi>φ</mi><mrow><mo> ∼</mo></mrow></mover></mrow><mi>θ</mi></msub><mfenced separators=",,"><mi>ξ</mi><mi>η</mi><mi>Z</mi></mfenced><mo>=</mo><mo>∫</mo><mo>∫</mo><msup><mi>e</mi><mrow><mi mathvariant="italic">iξX</mi><mo>+</mo><mi mathvariant="italic">iηY</mi></mrow></msup><mo>⁢</mo><msub><mi>φ</mi><mi>θ</mi></msub><mfenced separators=",,"><mi>X</mi><mi>Y</mi><mi>Z</mi></mfenced><mo>⁢</mo><mi mathvariant="italic">dXdY</mi></mrow></math><img id="ib0019" file="imgb0019.tif" wi="139" he="11" img-content="math" img-format="tif"/></maths></p><p id="p0111" num="0111">ξ denotes the wavenumber in the X direction as described above. η denotes the wavenumber in the Y direction. Expression 11 is obtained by transforming Expression 10.</p><p id="p0112" num="0112">[Math. 20] <maths id="math0020" num="Expression 11"><math display="block"><mrow><mfenced><mrow><mfrac><mrow><msup><mrow><mo>ⅆ</mo></mrow><mn>2</mn></msup></mrow><mrow><mo>ⅆ</mo><msup><mi>Z</mi><mn>2</mn></msup></mrow></mfrac><mo>-</mo><msup><mi>ξ</mi><mn>2</mn></msup><mo>-</mo><msup><mi>η</mi><mn>2</mn></msup></mrow></mfenced><mo>⁢</mo><msub><mrow><mover><mi>φ</mi><mrow><mo> ∼</mo></mrow></mover></mrow><mi>θ</mi></msub><mfenced separators=",,"><mi>ξ</mi><mi>η</mi><mi>Z</mi></mfenced><mo>=</mo><mn>0</mn></mrow></math><img id="ib0020" file="imgb0020.tif" wi="119" he="19" img-content="math" img-format="tif"/></maths></p><p id="p0113" num="0113">Expression 11 is a two-dimensional differential equation, and thus a general solution of Expression 11 is represented by Expression 12, using an unknown function a(ξ, η) and an unknown function b(ξ, η).</p><p id="p0114" num="0114"><!-- EPO <DP n="28"> --> [Math. 21] <maths id="math0021" num="Expression 12"><math display="block"><mrow><msub><mrow><mover><mi>φ</mi><mrow><mo> ∼</mo></mrow></mover></mrow><mi>θ</mi></msub><mfenced separators=",,"><mi>ξ</mi><mi>η</mi><mi>Z</mi></mfenced><mo>=</mo><mi>a</mi><mfenced separators=","><mi>ξ</mi><mi>η</mi></mfenced><mo>⁢</mo><msup><mi>e</mi><mrow><mo>-</mo><mi>Z</mi><mo>⁢</mo><msqrt><mrow><msup><mi>ξ</mi><mn>2</mn></msup><mo>+</mo><msup><mi>η</mi><mn>2</mn></msup></mrow></msqrt></mrow></msup><mo>+</mo><mi>b</mi><mfenced separators=","><mi>ξ</mi><mi>η</mi></mfenced><mo>⁢</mo><msup><mi>e</mi><mrow><mi>Z</mi><mo>⁢</mo><msqrt><mrow><msup><mi>ξ</mi><mn>2</mn></msup><mo>+</mo><msup><mi>η</mi><mn>2</mn></msup></mrow></msqrt></mrow></msup></mrow></math><img id="ib0021" file="imgb0021.tif" wi="151" he="12" img-content="math" img-format="tif"/></maths></p><p id="p0115" num="0115">Expression 13 is obtained by performing a Fourier transform in the X and Y directions on the magnetic field Φ<sub>θ</sub> sensed by the sensor sensing area 34.</p><p id="p0116" num="0116">[Math. 22] <maths id="math0022" num="Expression 13"><math display="block"><mrow><mtable columnalign="left"><mtr><mtd><msub><mrow><mover><mi mathvariant="normal">Φ</mi><mrow><mo> ∼</mo></mrow></mover></mrow><mi>θ</mi></msub><mfenced separators=",,"><mi>ξ</mi><mi>η</mi><mi>Z</mi></mfenced></mtd><mtd><mo>=</mo><munderover><mrow><mo>∫</mo></mrow><mrow><mo>-</mo><mi mathvariant="normal">Δ</mi><mo>⁢</mo><mi>z</mi><mo>/</mo><mn>2</mn><mo>+</mo><mi>Z</mi></mrow><mrow><mi mathvariant="normal">Δ</mi><mo>⁢</mo><mi>z</mi><mo>/</mo><mn>2</mn><mo>+</mo><mi>Z</mi></mrow></munderover><msub><mrow><mover><mi>φ</mi><mrow><mo> ∼</mo></mrow></mover></mrow><mi>θ</mi></msub><mfenced separators=",,"><mi>ξ</mi><mi>η</mi><mi>w</mi></mfenced><mo>⁢</mo><mi mathvariant="italic">dw</mi></mtd></mtr><mtr><mtd><mspace width="1em"/></mtd><mtd><mo>=</mo><mfrac><mrow><mn>2</mn><mo>⁢</mo><mi>sinh</mi><mfenced><mfrac><mrow><mi mathvariant="normal">Δ</mi><mo>⁢</mo><mi>z</mi><mo>⁢</mo><msqrt><mrow><msup><mi>ξ</mi><mn>2</mn></msup><mo>+</mo><msup><mi>η</mi><mn>2</mn></msup></mrow></msqrt></mrow><mn>2</mn></mfrac></mfenced></mrow><mrow><msqrt><mrow><msup><mi>ξ</mi><mn>2</mn></msup><mo>+</mo><msup><mi>η</mi><mn>2</mn></msup></mrow></msqrt></mrow></mfrac><mo>⁢</mo><mfenced separators=""><mi>a</mi><mfenced separators=","><mi>ξ</mi><mi>η</mi></mfenced><mo>⁢</mo><msup><mi>e</mi><mrow><mo>-</mo><mi>Z</mi><mo>⁢</mo><msqrt><mrow><msup><mi>ξ</mi><mn>2</mn></msup><mo>+</mo><msup><mi>η</mi><mn>2</mn></msup></mrow></msqrt></mrow></msup><mo>+</mo><mi>b</mi><mfenced separators=","><mi>ξ</mi><mi>η</mi></mfenced><mo>⁢</mo><msup><mi>e</mi><mrow><mi>Z</mi><mo>⁢</mo><msqrt><mrow><msup><mi>ξ</mi><mn>2</mn></msup><mo>+</mo><msup><mi>η</mi><mn>2</mn></msup></mrow></msqrt></mrow></msup></mfenced></mtd></mtr></mtable></mrow></math><img id="ib0022" file="imgb0022.tif" wi="159" he="41" img-content="math" img-format="tif"/></maths></p><p id="p0117" num="0117">Accordingly, if functions obtained by performing a Fourier transform in the X and Y directions on the magnetic field Φ<sub>θ</sub> and the differentiation thereof in the Z direction are represented by the following Math. 23, respectively, the function a(ξ, η) and the function b(ξ, η) are obtained as shown by Expression 14. <maths id="math0023" num="[Math. 23]"><math display="block"><mrow><msub><mrow><mover><mi mathvariant="normal">Φ</mi><mrow><mo> ∼</mo></mrow></mover></mrow><mi>θ</mi></msub><mfenced separators=",,"><mi>ξ</mi><mi>η</mi><mi>Z</mi></mfenced><mo>,</mo><mrow><msub><mrow><mo>∇</mo></mrow><mi>z</mi></msub><mo>⁢</mo><msub><mrow><mover><mi mathvariant="normal">Φ</mi><mrow><mo> ∼</mo></mrow></mover></mrow><mi>θ</mi></msub><mfenced separators=",,"><mi>ξ</mi><mi>η</mi><mi>Z</mi></mfenced></mrow></mrow></math><img id="ib0023" file="imgb0023.tif" wi="87" he="19" img-content="math" img-format="tif"/></maths></p><p id="p0118" num="0118">[Math. 24] <maths id="math0024" num="Expression 14"><math display="block"><mrow><mtable columnalign="left"><mtr><mtd><mi>a</mi><mfenced separators=","><mi>ξ</mi><mi>η</mi></mfenced><mo>=</mo><mfrac><mrow><msqrt><mrow><msup><mi>ξ</mi><mn>2</mn></msup><mo>+</mo><msup><mi>η</mi><mn>2</mn></msup></mrow></msqrt><mo>⁢</mo><msub><mrow><mover><mi mathvariant="normal">Φ</mi><mrow><mo> ∼</mo></mrow></mover></mrow><mi>θ</mi></msub><mfenced separators=",,"><mi>ξ</mi><mi>η</mi><mn mathvariant="italic">0</mn></mfenced><mo>-</mo><mrow><msub><mrow><mo>∇</mo></mrow><mi>z</mi></msub><mo>⁢</mo><msub><mrow><mover><mi mathvariant="normal">Φ</mi><mrow><mo> ∼</mo></mrow></mover></mrow><mi>θ</mi></msub><mfenced separators=",,"><mi>ξ</mi><mi>η</mi><mn mathvariant="italic">0</mn></mfenced></mrow></mrow><mrow><mn>4</mn><mo>⁢</mo><mi>sinh</mi><mfenced separators=""><mi mathvariant="normal">Δ</mi><mo>⁢</mo><mi>z</mi><mo>⁢</mo><msqrt><mrow><msup><mi>ξ</mi><mn>2</mn></msup><mo>+</mo><msup><mi>η</mi><mn>2</mn></msup></mrow></msqrt><mo>/</mo><mn>2</mn></mfenced></mrow></mfrac></mtd></mtr><mtr><mtd><mi>b</mi><mfenced separators=","><mi>ξ</mi><mi>η</mi></mfenced><mo>=</mo><mfrac><mrow><msqrt><mrow><msup><mi>ξ</mi><mn>2</mn></msup><mo>+</mo><msup><mi>η</mi><mn>2</mn></msup></mrow></msqrt><mo>⁢</mo><msub><mrow><mover><mi mathvariant="normal">Φ</mi><mrow><mo> ∼</mo></mrow></mover></mrow><mi>θ</mi></msub><mfenced separators=",,"><mi>ξ</mi><mi>η</mi><mn mathvariant="italic">0</mn></mfenced><mo>+</mo><mrow><msub><mrow><mo>∇</mo></mrow><mi>z</mi></msub><mo>⁢</mo><msub><mrow><mover><mi mathvariant="normal">Φ</mi><mrow><mo> ∼</mo></mrow></mover></mrow><mi>θ</mi></msub><mfenced separators=",,"><mi>ξ</mi><mi>η</mi><mn mathvariant="italic">0</mn></mfenced></mrow></mrow><mrow><mn>4</mn><mo>⁢</mo><mi>sinh</mi><mfenced separators=""><mi mathvariant="normal">Δ</mi><mo>⁢</mo><mi>z</mi><mo>⁢</mo><msqrt><mrow><msup><mi>ξ</mi><mn>2</mn></msup><mo>+</mo><msup><mi>η</mi><mn>2</mn></msup></mrow></msqrt><mo>/</mo><mn>2</mn></mfenced></mrow></mfrac></mtd></mtr></mtable></mrow></math><img id="ib0024" file="imgb0024.tif" wi="149" he="53" img-content="math" img-format="tif"/></maths></p><p id="p0119" num="0119">Thus, Expression 15 is obtained by substituting the function<!-- EPO <DP n="29"> --> a(ξ, η) and the function b(ξ, η) in Expression 14 for the function a(ξ, η) and the function b(ξ, n) in Expression 12.</p><p id="p0120" num="0120">[Math. 25] <maths id="math0025" num="Expression 15"><math display="block"><mrow><msub><mrow><mover><mi>φ</mi><mrow><mo> ∼</mo></mrow></mover></mrow><mi>θ</mi></msub><mfenced separators=",,"><mi>ξ</mi><mi>η</mi><mi>Z</mi></mfenced><mo>=</mo><mfrac><mrow><msqrt><mrow><msup><mi>ξ</mi><mn>2</mn></msup><mo>+</mo><msup><mi>η</mi><mn>2</mn></msup></mrow></msqrt><mo>⁢</mo><msub><mrow><mover><mi mathvariant="normal">Φ</mi><mrow><mo> ∼</mo></mrow></mover></mrow><mi>θ</mi></msub><mfenced separators=",,"><mi>ξ</mi><mi>η</mi><mn mathvariant="italic">0</mn></mfenced><mo>⁢</mo><mi>cosh</mi><mfenced separators=""><mi>z</mi><mo>⁢</mo><msqrt><mrow><msup><mi>ξ</mi><mn>2</mn></msup><mo>+</mo><msup><mi>η</mi><mn>2</mn></msup></mrow></msqrt></mfenced><mo>+</mo><mrow><msub><mrow><mo>∇</mo></mrow><mi>z</mi></msub><mo>⁢</mo><msub><mrow><mover><mi mathvariant="normal">Φ</mi><mrow><mo> ∼</mo></mrow></mover></mrow><mi>θ</mi></msub><mfenced separators=",,"><mi>ξ</mi><mi>η</mi><mn mathvariant="italic">0</mn></mfenced></mrow><mi>sinh</mi><mfenced separators=""><mi>z</mi><mo>⁢</mo><msqrt><mrow><msup><mi>ξ</mi><mn>2</mn></msup><mo>+</mo><msup><mi>η</mi><mn>2</mn></msup></mrow></msqrt></mfenced></mrow><mrow><mn>2</mn><mo>⁢</mo><mi>sinh</mi><mfenced separators=""><mi mathvariant="normal">Δ</mi><mo>⁢</mo><mi>z</mi><mo>⁢</mo><msqrt><mrow><msup><mi>ξ</mi><mn>2</mn></msup><mo>+</mo><msup><mi>η</mi><mn>2</mn></msup></mrow></msqrt><mo>/</mo><mn>2</mn></mfenced></mrow></mfrac></mrow></math><img id="ib0025" file="imgb0025.tif" wi="158" he="29" img-content="math" img-format="tif"/></maths></p><p id="p0121" num="0121">In other words, the function φ<sub>θ</sub> is obtained by solving the Laplace equation using a boundary condition that an integral of a solution of the Laplace equation over an interval corresponding to the size Δz of the sensor sensing area 34 matches measurement data.</p><p id="p0122" num="0122">On the other hand, a two-dimensional Fourier transform in the X and Y directions is performed on both sides of Expression 7, thus obtaining Expression 16. It should be noted that in Expression 16, ρ<sub>θ</sub> is transformed into ρ<sub>0</sub>, based on Expression 6.</p><p id="p0123" num="0123">[Math. 26] <maths id="math0026" num="Expression 16"><math display="block"><mrow><mtable columnalign="left"><mtr><mtd><msub><mrow><mover><mi>φ</mi><mrow><mo> ∼</mo></mrow></mover></mrow><mi>θ</mi></msub><mfenced separators=",,"><mi>ξ</mi><mi>η</mi><mi>Z</mi></mfenced></mtd><mtd><mo>=</mo><mo>∫</mo><mo>∫</mo><msup><mi>e</mi><mrow><mi mathvariant="italic">iξX</mi><mo>+</mo><mi mathvariant="italic">iηY</mi></mrow></msup><mfenced open="{" close="}" separators=""><munder><mrow><mo>∫</mo><mo>∫</mo></mrow><mi>G</mi></munder><mo>⁢</mo><mi>f</mi><mfenced separators=","><mi>u</mi><mi>v</mi></mfenced><mo>⁢</mo><msub><mi>ρ</mi><mi>θ</mi></msub><mo>⁢</mo><mfenced separators=""><mi>X</mi><mo>+</mo><mi>u</mi><mo>,</mo><mi>Y</mi><mo>+</mo><mi>v</mi><mo>,</mo><mi>w</mi></mfenced><mo>⁢</mo><mi mathvariant="italic">dudv</mi></mfenced><mo>⁢</mo><mi mathvariant="italic">dXdY</mi></mtd></mtr><mtr><mtd><mspace width="1em"/></mtd><mtd><mo>=</mo><mover><mi>f</mi><mrow><mo> ∼</mo></mrow></mover><mo>⁢</mo><msup><mfenced separators=","><mi>ξ</mi><mi>η</mi></mfenced><mrow><mo>*</mo></mrow></msup><mo>∫</mo><mo>∫</mo><msup><mi>e</mi><mrow><mi mathvariant="italic">iξX</mi><mo>+</mo><mi mathvariant="italic">iηY</mi></mrow></msup><mo>⁢</mo><msub><mi>ρ</mi><mn>0</mn></msub><mo>⁢</mo><mfenced separators=""><mi>X</mi><mo>⁢</mo><mi>cos</mi><mi>θ</mi><mo>+</mo><mi>Y</mi><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>,</mo><mo>-</mo><mi>X</mi><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>+</mo><mi>Y</mi><mo>⁢</mo><mi>cos</mi><mi>θ</mi><mo>,</mo><mi>Z</mi></mfenced><mo>⁢</mo><mi mathvariant="italic">dXdY</mi></mtd></mtr></mtable></mrow></math><img id="ib0026" file="imgb0026.tif" wi="156" he="38" img-content="math" img-format="tif"/></maths></p><p id="p0124" num="0124">Here, * denotes a complex conjugate. Expression 16 above is represented as shown by Expression 17, based on Expression 5.</p><p id="p0125" num="0125">[Math. 27] <maths id="math0027" num="Expression 17"><math display="block"><mrow><mtable columnalign="left"><mtr><mtd><msub><mrow><mover><mi>φ</mi><mrow><mo> ∼</mo></mrow></mover></mrow><mi>θ</mi></msub><mfenced separators=",,"><mi>ξ</mi><mi>η</mi><mi>Z</mi></mfenced></mtd><mtd><mo>=</mo><mover><mi>f</mi><mrow><mo> ∼</mo></mrow></mover><mo>⁢</mo><msup><mfenced separators=","><mi>ξ</mi><mi>η</mi></mfenced><mrow><mo>*</mo></mrow></msup><mo>∫</mo><mo>∫</mo><msup><mi>e</mi><mrow><mi mathvariant="italic">iξ</mi><mo>⁢</mo><mfenced separators=""><mi mathvariant="italic">X</mi><mo>⁢</mo><mi>cos</mi><mi>θ</mi><mo>-</mo><mi>Y</mi><mo>⁢</mo><mi>sin</mi><mi>θ</mi></mfenced><mo>+</mo><mi mathvariant="italic">iη</mi><mo>⁢</mo><mfenced separators=""><mi mathvariant="italic">X</mi><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>+</mo><mi>Y</mi><mo>⁢</mo><mi>cos</mi><mi>θ</mi></mfenced></mrow></msup><mo>⁢</mo><msub><mi>ρ</mi><mn>0</mn></msub><mfenced separators=",,"><mi>X</mi><mi>Y</mi><mi>Z</mi></mfenced><mo>⁢</mo><mi mathvariant="italic">dXdY</mi></mtd></mtr><mtr><mtd><mspace width="1em"/></mtd><mtd><mo>=</mo><mover><mi>f</mi><mrow><mo> ∼</mo></mrow></mover><mo>⁢</mo><msup><mfenced separators=","><mi>ξ</mi><mi>η</mi></mfenced><mrow><mo>*</mo></mrow></msup><mo>⁢</mo><msub><mrow><mover><mi>ρ</mi><mrow><mo> ∼</mo></mrow></mover></mrow><mn>0</mn></msub><mo>⁢</mo><mfenced separators=""><mi>ξ</mi><mo>⁢</mo><mi>cos</mi><mi>θ</mi><mo>+</mo><mi>η</mi><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>,</mo><mo>-</mo><mi>ξ</mi><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>+</mo><mi>η</mi><mo>⁢</mo><mi>cos</mi><mi>θ</mi><mo>,</mo><mi>Z</mi></mfenced></mtd></mtr></mtable></mrow></math><img id="ib0027" file="imgb0027.tif" wi="158" he="21" img-content="math" img-format="tif"/></maths><!-- EPO <DP n="30"> --></p><p id="p0126" num="0126">Furthermore, the relationship among a wavenumber k<sub>x</sub> of the rotating coordinate system in the x direction, a wavenumber ky of the rotating coordinate system in the y direction, a wavenumber ξ of the stationary coordinate system in the X direction, and a wavenumber η of the stationary coordinate system in the Y direction satisfies Expression 18.</p><p id="p0127" num="0127">[Math. 28] <maths id="math0028" num="Expression 18"><math display="block"><mrow><mtable columnalign="left"><mtr><mtd><msub><mi>k</mi><mi>x</mi></msub><mo>=</mo><mi>ξ</mi><mo>⁢</mo><mi>cos</mi><mi>θ</mi><mo>+</mo><mi>η</mi><mo>⁢</mo><mi>sin</mi><mi>θ</mi></mtd></mtr><mtr><mtd><msub><mi>k</mi><mi>y</mi></msub><mo>=</mo><mo>-</mo><mi>ξ</mi><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>+</mo><mi>η</mi><mo>⁢</mo><mi>cos</mi><mi>θ</mi></mtd></mtr></mtable></mrow></math><img id="ib0028" file="imgb0028.tif" wi="91" he="17" img-content="math" img-format="tif"/></maths></p><p id="p0128" num="0128">Accordingly, Expression 17 is replaced as shown by Expression 19, using the wavenumber k<sub>x</sub> of the rotating coordinate system in the x direction and the wavenumber ky of the rotating coordinate system in the y direction.</p><p id="p0129" num="0129">[Math. 29] <maths id="math0029" num="Expression 19"><math display="block"><mrow><msub><mrow><mover><mi>φ</mi><mrow><mo> ∼</mo></mrow></mover></mrow><mi>θ</mi></msub><mo>⁢</mo><mfenced separators=""><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi><mo>-</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>,</mo><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>+</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi><mo>,</mo><mi>z</mi></mfenced><mo>=</mo><mover><mi>f</mi><mrow><mo> ∼</mo></mrow></mover><mrow><msup><mfenced separators=""><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi><mo>-</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>,</mo><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>+</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi></mfenced><mrow><mo>*</mo></mrow></msup></mrow><msub><mrow><mover><mi>ρ</mi><mrow><mo> ∼</mo></mrow></mover></mrow><mn>0</mn></msub><mfenced separators=",,"><msub><mi>k</mi><mi>x</mi></msub><msub><mi>k</mi><mi>y</mi></msub><mi>z</mi></mfenced></mrow></math><img id="ib0029" file="imgb0029.tif" wi="159" he="22" img-content="math" img-format="tif"/></maths></p><p id="p0130" num="0130">Both sides of Expression 19 are multiplied by <maths id="math0030" num="[Math. 30]"><math display="block"><mrow><mover><mi>f</mi><mrow><mo> ∼</mo></mrow></mover><mo>⁢</mo><mfenced separators=""><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi><mo>-</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>,</mo><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>+</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi></mfenced></mrow></math><img id="ib0030" file="imgb0030.tif" wi="78" he="17" img-content="math" img-format="tif"/></maths><br/>
and integrated over θ, thus obtaining a Fourier transform image of the magnetic field ρ<sub>0</sub> as shown by Expression 20.</p><p id="p0131" num="0131">[Math. 31]<!-- EPO <DP n="31"> --> <maths id="math0031" num="Expression 20"><math display="block"><mrow><msub><mrow><mover><mi>ρ</mi><mrow><mo> ∼</mo></mrow></mover></mrow><mn>0</mn></msub><mfenced separators=",,"><msub><mi>k</mi><mi>x</mi></msub><msub><mi>k</mi><mi>y</mi></msub><mi>z</mi></mfenced><mo>=</mo><mfrac><mrow><mo>∫</mo><mover><mi>f</mi><mrow><mo> ∼</mo></mrow></mover><mo>⁢</mo><mfenced separators=""><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi><mo>-</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>,</mo><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>+</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi></mfenced><mo>⁢</mo><msub><mrow><mover><mi>φ</mi><mrow><mo> ∼</mo></mrow></mover></mrow><mi>θ</mi></msub><mo>⁢</mo><mfenced separators=""><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi><mo>-</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>,</mo><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>+</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi><mo>,</mo><mi>z</mi></mfenced><mo>⁢</mo><mi mathvariant="italic">dθ</mi></mrow><mrow><mo>∫</mo><msup><mfenced open="|" close="|" separators=""><mover><mi>f</mi><mrow><mo> ∼</mo></mrow></mover><mo>⁢</mo><mfenced separators=""><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi><mo>-</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>,</mo><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>+</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi></mfenced></mfenced><mn>2</mn></msup><mo>⁢</mo><mi mathvariant="italic">dθ</mi></mrow></mfrac></mrow></math><img id="ib0031" file="imgb0031.tif" wi="160" he="32" img-content="math" img-format="tif"/></maths></p><p id="p0132" num="0132">The denominator of Expression 20 is obtained by integrating, over θ, the square of the absolute value of the shape function f on which a two-dimensional Fourier transform is performed. The denominator of Expression 20 is a non-zero value even in the case of a high frequency having a wavelength of about 20 to 50 nm in a typical normal TMR sensor.</p><p id="p0133" num="0133">Expression 20 includes multiplication of a Fourier transform image of the shape function f and a Fourier transform image of the function φ<sub>θ</sub>. In other words, a distribution of a magnetic field is calculated based on a resolution corresponding to the shape of the sensor sensing area 34, by multiplying the Fourier transform image of the function φ<sub>θ</sub> by the Fourier transform image of the shape function f. Accordingly, the error according to the shape of the sensor sensing area 34 is eliminated.</p><p id="p0134" num="0134">Expression 20 includes integrating, over a rotation angle θ, multiplication of the Fourier transform image of the shape function f and the Fourier transform image of the function φ<sub>θ</sub>. Accordingly, measurement data obtained at each rotation angle is reflected in the calculation of the distribution.</p><p id="p0135" num="0135">For example, the calculation unit 22 of the distribution analyzing device 20 calculates a distribution of a magnetic field using Expression 20. Expression 20 includes information on a rotation angle. Furthermore, a Fourier transform image of φ<sub>θ</sub> included in Expression 20 is derived from measurement data of a field measured at each of grid coordinate positions. In other words, the Fourier transform image of φ<sub>θ</sub> includes information on a coordinate position.<!-- EPO <DP n="32"> --> The calculation unit 22 appropriately uses information on a rotation angle and information on a coordinate position using Expression 20, without wastefully using such information pieces.</p><p id="p0136" num="0136">Accordingly, even if a small number of measurements are made, or in other words, if a small number of rotations is made (the number of plural rotation angles is few), or even if there are few coordinate positions at which measurement is performed, the distribution analyzing device 20 can calculate an appropriate distribution from measurement data. Accordingly, the distribution analyzing device 20 can analyze a distribution of a magnetic field at high speed.</p><p id="p0137" num="0137">Lastly, Expression 21 indicating the magnetic field ρ<sub>0</sub> is obtained by performing a two-dimensional inverse Fourier transform on Expression 20.</p><p id="p0138" num="0138">[Math. 32] <maths id="math0032" num="Expression 21"><math display="block"><mrow><msub><mi>H</mi><mi>z</mi></msub><mfenced separators=",,"><mi>x</mi><mi>y</mi><mi>z</mi></mfenced><mo>=</mo><msub><mi>ρ</mi><mn>0</mn></msub><mfenced separators=",,"><mi>x</mi><mi>y</mi><mi>z</mi></mfenced><mo>=</mo><mfrac><mn>1</mn><mrow><msup><mrow><mfenced separators=""><mn>2</mn><mo>⁢</mo><mi>π</mi></mfenced></mrow><mn>2</mn></msup></mrow></mfrac><mo>∫</mo><mo>∫</mo><msup><mi>e</mi><mrow><mo>-</mo><mi mathvariant="italic">ix</mi><mo>⁢</mo><msub><mi>k</mi><mi>x</mi></msub><mo>-</mo><msub><mi mathvariant="italic">iyk</mi><mi>y</mi></msub></mrow></msup><mo>⁢</mo><msub><mrow><mover><mi>ρ</mi><mrow><mo> ∼</mo></mrow></mover></mrow><mn>0</mn></msub><mfenced separators=",,"><msub><mi>k</mi><mi>x</mi></msub><msub><mi>k</mi><mi>y</mi></msub><mi>z</mi></mfenced><mo>⁢</mo><msub><mi mathvariant="italic">dk</mi><mi mathvariant="italic">x</mi></msub><mo>⁢</mo><msub><mi mathvariant="italic">dk</mi><mi mathvariant="italic">y</mi></msub></mrow></math><img id="ib0032" file="imgb0032.tif" wi="161" he="14" img-content="math" img-format="tif"/></maths></p><p id="p0139" num="0139">For example, if the inspection object 50 is placed along z = z<sub>0</sub>, the calculation unit 22 of the distribution analyzing device 20 substitutes z<sub>0</sub> for z in Expression 21, thus calculating a distribution of a magnetic field at the cross section of the inspection object 50.</p><p id="p0140" num="0140">It should be noted that a two-dimensional Fourier transform image of the magnetic field ρ<sub>x</sub> corresponding to the x component H<sub>x</sub> of the magnetic field H is obtained by the same as the above. Expression 22 indicates a two-dimensional Fourier transform image of the magnetic field ρ<sub>x</sub>.</p><p id="p0141" num="0141">[Math. 33]<!-- EPO <DP n="33"> --> <maths id="math0033" num="Expression 22"><math display="block"><mrow><msub><mrow><mover><mi>ρ</mi><mrow><mo> ∼</mo></mrow></mover></mrow><mi>x</mi></msub><mfenced separators=",,"><msub><mi>k</mi><mi>x</mi></msub><msub><mi>k</mi><mi>y</mi></msub><mi>z</mi></mfenced><mo>=</mo><mfrac><mrow><mo>-</mo><mo>∫</mo><mover><mi>f</mi><mrow><mo> ∼</mo></mrow></mover><mo>⁢</mo><mfenced separators=""><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi><mo>-</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>,</mo><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>+</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi></mfenced><mo>⁢</mo><msub><mrow><mover><mi>φ</mi><mrow><mo> ∼</mo></mrow></mover></mrow><mi>θ</mi></msub><mo>⁢</mo><mfenced separators=""><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi><mo>-</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>,</mo><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>+</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi><mo>,</mo><mi>z</mi></mfenced><mo>⁢</mo><mi>sin</mi><mi mathvariant="italic">θdθ</mi></mrow><mrow><mo>∫</mo><msup><mfenced open="|" close="|" separators=""><mover><mi>f</mi><mrow><mo> ∼</mo></mrow></mover><mo>⁢</mo><mfenced separators=""><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi><mo>-</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>,</mo><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>+</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi></mfenced></mfenced><mn>2</mn></msup><mo>⁢</mo><msup><mi>sin</mi><mn>2</mn></msup><mo>⁢</mo><mi mathvariant="italic">θdθ</mi></mrow></mfrac></mrow></math><img id="ib0033" file="imgb0033.tif" wi="158" he="31" img-content="math" img-format="tif"/></maths></p><p id="p0142" num="0142">A two-dimensional inverse Fourier transform is performed on Expression 22, thus obtaining the magnetic field ρ<sub>x</sub> as shown by Expression 23.</p><p id="p0143" num="0143">[Math. 34] <maths id="math0034" num="Expression 23"><math display="block"><mrow><msub><mi>H</mi><mi>x</mi></msub><mfenced separators=",,"><mi>x</mi><mi>y</mi><mi>z</mi></mfenced><mo>=</mo><msub><mi>ρ</mi><mi>x</mi></msub><mfenced separators=",,"><mi>x</mi><mi>y</mi><mi>z</mi></mfenced><mo>=</mo><mfrac><mn>1</mn><mrow><msup><mrow><mfenced separators=""><mn>2</mn><mo>⁢</mo><mi>π</mi></mfenced></mrow><mn>2</mn></msup></mrow></mfrac><mo>∫</mo><mo>∫</mo><msup><mi>e</mi><mrow><mo>-</mo><mi mathvariant="italic">ix</mi><mo>⁢</mo><msub><mi>k</mi><mi>x</mi></msub><mo>-</mo><msub><mi mathvariant="italic">iyk</mi><mi>y</mi></msub></mrow></msup><mo>⁢</mo><msub><mrow><mover><mi>ρ</mi><mrow><mo> ∼</mo></mrow></mover></mrow><mi>x</mi></msub><mfenced separators=",,"><msub><mi>k</mi><mi>x</mi></msub><msub><mi>k</mi><mi>y</mi></msub><mi>z</mi></mfenced><mo>⁢</mo><msub><mi mathvariant="italic">dk</mi><mi mathvariant="italic">x</mi></msub><mo>⁢</mo><msub><mi mathvariant="italic">dk</mi><mi mathvariant="italic">y</mi></msub></mrow></math><img id="ib0034" file="imgb0034.tif" wi="159" he="14" img-content="math" img-format="tif"/></maths></p><p id="p0144" num="0144">Furthermore, a two-dimensional Fourier transform image of a magnetic field ρ<sub>y</sub> corresponding to a y component Hy of the magnetic field H is obtained in a similar manner. Expression 24 shows a two-dimensional Fourier transform image of the magnetic field ρ<sub>y</sub>.</p><p id="p0145" num="0145">[Math. 35] <maths id="math0035" num="Expression 24"><math display="block"><mrow><msub><mrow><mover><mi>ρ</mi><mrow><mo> ∼</mo></mrow></mover></mrow><mi>y</mi></msub><mfenced separators=",,"><msub><mi>k</mi><mi>x</mi></msub><msub><mi>k</mi><mi>y</mi></msub><mi>z</mi></mfenced><mo>=</mo><mfrac><mrow><mo>∫</mo><mover><mi>f</mi><mrow><mo> ∼</mo></mrow></mover><mo>⁢</mo><mfenced separators=""><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi><mo>-</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>,</mo><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>+</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi></mfenced><mo>⁢</mo><msub><mrow><mover><mi>φ</mi><mrow><mo> ∼</mo></mrow></mover></mrow><mi>θ</mi></msub><mo>⁢</mo><mfenced separators=""><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi><mo>-</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>,</mo><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>+</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi><mo>,</mo><mi>z</mi></mfenced><mo>⁢</mo><mi mathvariant="italic">cosθdθ</mi></mrow><mrow><mo>∫</mo><msup><mfenced open="|" close="|" separators=""><mover><mi>f</mi><mrow><mo> ∼</mo></mrow></mover><mo>⁢</mo><mfenced separators=""><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi><mo>-</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>,</mo><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>+</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi></mfenced></mfenced><mn>2</mn></msup><mo>⁢</mo><msup><mi>cos</mi><mn>2</mn></msup><mo>⁢</mo><mi mathvariant="italic">θdθ</mi></mrow></mfrac></mrow></math><img id="ib0035" file="imgb0035.tif" wi="160" he="31" img-content="math" img-format="tif"/></maths></p><p id="p0146" num="0146">The magnetic field ρ<sub>y</sub> is obtained as shown by Expression 25, by performing a two-dimensional inverse Fourier transform on Expression 24.</p><p id="p0147" num="0147">[Math. 36] <maths id="math0036" num="Expression 25"><math display="block"><mrow><msub><mi>H</mi><mi>y</mi></msub><mfenced separators=",,"><mi>x</mi><mi>y</mi><mi>z</mi></mfenced><mo>=</mo><msub><mi>ρ</mi><mi>y</mi></msub><mfenced separators=",,"><mi>x</mi><mi>y</mi><mi>z</mi></mfenced><mo>=</mo><mfrac><mn>1</mn><mrow><msup><mrow><mfenced separators=""><mn>2</mn><mo>⁢</mo><mi>π</mi></mfenced></mrow><mn>2</mn></msup></mrow></mfrac><mo>∫</mo><mo>∫</mo><msup><mi>e</mi><mrow><mo>-</mo><mi mathvariant="italic">ix</mi><mo>⁢</mo><msub><mi>k</mi><mi>x</mi></msub><mo>-</mo><msub><mi mathvariant="italic">iyk</mi><mi>y</mi></msub></mrow></msup><mo>⁢</mo><msub><mrow><mover><mi>ρ</mi><mrow><mo> ∼</mo></mrow></mover></mrow><mi>y</mi></msub><mfenced separators=",,"><msub><mi>k</mi><mi>x</mi></msub><msub><mi>k</mi><mi>y</mi></msub><mi>z</mi></mfenced><mo>⁢</mo><msub><mi mathvariant="italic">dk</mi><mi mathvariant="italic">x</mi></msub><mo>⁢</mo><msub><mi mathvariant="italic">dk</mi><mi mathvariant="italic">y</mi></msub></mrow></math><img id="ib0036" file="imgb0036.tif" wi="160" he="14" img-content="math" img-format="tif"/></maths></p><p id="p0148" num="0148"><!-- EPO <DP n="34"> --> As described above, the distribution analyzing device 20 according to the present embodiment eliminates error according to the shape of a sensor sensing area using a shape function, thus calculating a distribution using both the rotation angle and a coordinate position of the sensor sensing area. Accordingly, the distribution analyzing device 20 can calculate an appropriate distribution even if few measurements are made. In other words, the distribution analyzing device 20 can analyze the distribution at high speed.</p><p id="p0149" num="0149">It should be noted that the above arithmetic expressions and the above procedures of deriving the arithmetic expressions are examples, and other arithmetic expressions and derivation procedures may be used. Using the arithmetic expressions derived from a combination of the shape function and the Laplace equation, the distribution analyzing device 20 can appropriately calculate a distribution of a field from measurement data of the field measured at each rotation angle and at each coordinate position.</p><p id="p0150" num="0150">Furthermore, a comparatively small inspection object is shown in the present embodiment. However, even if an inspection object is comparatively large, like when the inside of concrete is examined, for instance, the distribution analyzing device 20 according to the present embodiment can appropriately calculate a distribution based on measurement data and a shape function. Also in such a case, highly advantageous effects can be achieved which allow calculation of an appropriate distribution with a small sensor through few measurements.</p><heading id="h0012">[Embodiment 2]</heading><p id="p0151" num="0151"><figref idrefs="f0006">FIG. 13</figref> is a configuration diagram of a distribution analyzing device according to the present embodiment. A distribution analyzing device 25 illustrated in <figref idrefs="f0006">FIG. 13</figref> includes an obtaining unit 21, a calculation unit 22, a measurement unit 26, and an image processing unit 27. Specifically, the distribution analyzing device<!-- EPO <DP n="35"> --> 25 according to the present embodiment includes the measurement unit 26 and the image processing unit 27 in addition to the units included in the distribution analyzing device 20 according to Embodiment 1.</p><p id="p0152" num="0152">The measurement unit 26 includes a sensor sensing area. Then, the measurement unit 26 measures a distribution of a field through the sensor sensing area. The obtaining unit 21 obtains measurement data from the measurement unit 26. For example, the measurement unit 26 includes a sensor or a probe, for instance. The measurement unit 26 may be the measurement device 30 according to Embodiment 1. Then, the measurement unit 26 may perform equivalent operation to the operation performed by the measurement device 30.</p><p id="p0153" num="0153">The image processing unit 27 generates an image corresponding to a distribution calculated by the calculation unit 22. The generated image is displayed on an external display device, for instance. It should be noted that the distribution analyzing device 25 may include a display unit which displays the generated image.</p><p id="p0154" num="0154"><figref idrefs="f0007">FIG. 14</figref> is a flowchart illustrating operation of the distribution analyzing device 25 illustrated in <figref idrefs="f0006">FIG. 13</figref>. First, the measurement unit 26 measures a distribution of a field through a sensor sensing area (S21). Next, the obtaining unit 21 obtains measurement data of the field measured by the measurement unit 26 (S22). Next, the calculation unit 22 calculates a distribution of the field from the measurement data (S23). At this time, the calculation unit 22 uses the arithmetic expressions described in Embodiment 1. Then, the image processing unit 27 generates an image using the calculated distribution (S24).</p><p id="p0155" num="0155">As described above, the distribution analyzing device 25 according to the present embodiment includes the measurement unit 26 and the image processing unit 27 in addition to the units included<!-- EPO <DP n="36"> --> in the distribution analyzing device 20 according to Embodiment 1. Conversely, the distribution analyzing device 20 according to Embodiment 1 does not need to include the measurement unit 26 and the image processing unit 27, for instance. The distribution analyzing device 20 may obtain measurement data of the field from an external measurement device, and may output information on the distribution of the field to an external image processing device.</p><p id="p0156" num="0156">Although the above is a description of the distribution analyzing device according to the present invention based on plural embodiments, the present invention is not limited to those embodiments. The present invention also includes embodiments obtained by performing modification that may be conceived by those skilled in the art on the embodiments and other embodiments achieved by arbitrarily combining the constituent elements in the embodiments.</p><p id="p0157" num="0157">For example, a process executed by a specific process unit may be executed by a different process unit. Furthermore, the order of executing processes may be changed, and plural processes may be executed in parallel.</p><p id="p0158" num="0158">The present invention can be achieved not only as a distribution analyzing device, but also as a method including steps which are to use the processing units included in the distribution analyzing device. For example, those steps are executed by a computer. In addition, the present invention can be achieved as a program for causing a computer to execute the steps included in the method. Furthermore, the present invention can be achieved as a non-transitory computer-readable recording medium such as a CD-ROM in which the program is stored.</p><p id="p0159" num="0159">For example, if the present invention is achieved by a program (software), the functional elements of the present invention are achieved by executing the program using hardware resources, such<!-- EPO <DP n="37"> --> as a CPU, a memory, and an input output circuit of a computer. In other words, the CPU obtains data to be processed from the memory or the input output circuit and computes the data, and then outputs the result of the computation to the memory or the input output circuit, thus achieving the functional elements.</p><p id="p0160" num="0160">Furthermore, the constituent elements included in the distribution analyzing device may be achieved as a large-scale integration (LSI) which is an integrated circuit. These constituent elements may be each formed as a single chip or may be formed as a single chip which includes some or all of the elements. Although an LSI is described here, the integrated circuit may also be called an integrated circuit (IC), a system LSI, a super LSI, or an ultra LSI, depending on a difference in the degree of integration.</p><p id="p0161" num="0161">Furthermore, ways to achieve the integration are not limited to the LSI, and a dedicated circuit or a general purpose processor can also achieve the integration. A field programmable gate array (FPGA) that allows programming or a reconfigurable processor that allows reconfiguration of the connections and settings of the circuit cells inside the LSI may also be used.</p><p id="p0162" num="0162">In addition, if the progress in semiconductor technology or other derivative technology leads to the emergence of circuit integration technology that replaces LSI, it is of course possible to use such technology to perform circuit integration of the constituent elements included in the distribution analyzing device.</p><heading id="h0013">[Industrial Applicability]</heading><p id="p0163" num="0163">The distribution analyzing device according to the present invention can analyze distributions of various fields, and can be used for, for example, magnetic field diagnostic equipment, electronic component inspection, concrete rebar corrosion inspection, seismic qualification testing for steel structures in earthquake-stricken regions, and medical diagnosis.<!-- EPO <DP n="38"> --></p><heading id="h0014">[Reference Signs List]</heading><p id="p0164" num="0164"><dl id="dl0001" compact="compact"><dt>10</dt><dd>Distribution analyzing system</dd><dt>20, 25</dt><dd>Distribution analyzing device</dd><dt>21</dt><dd>Obtaining unit</dd><dt>22</dt><dd>Calculation unit</dd><dt>26</dt><dd>Measurement unit</dd><dt>27</dt><dd>Image processing unit</dd><dt>30</dt><dd>Measurement device</dd><dt>31, 32, 33, 34</dt><dd>Sensor sensing area</dd><dt>35</dt><dd>Rotary sample stage</dd><dt>36</dt><dd>Soft layer</dd><dt>37</dt><dd>Tunneling layer</dd><dt>38</dt><dd>Pinned layer (fixed magnetic layer)</dd><dt>40</dt><dd>Display device</dd><dt>50</dt><dd>Inspection object</dd><dt>51, 52</dt><dd>Measurement plane</dd><dt>55</dt><dd>Coordinate position</dd></dl></p></description><claims mxw-id="PCLM90459632" lang="EN" load-source="patent-office"><!-- EPO <DP n="39"> --><claim id="c-en-0001" num="0001"><claim-text>A distribution analyzing device for analyzing a distribution of a field having a property satisfying a Laplace equation, the distribution analyzing device comprising:
<claim-text>an obtaining unit configured to obtain measurement data of the field measured, through a sensor sensing area, independently at each of rotation angles of the sensor sensing area and at each of grid coordinate positions of the sensor sensing area on a measurement plane where the field is measured, the sensor sensing area being (i) a finite area which relatively rotates about an axis perpendicular to the measurement plane, (ii) an area which relatively moves such that a predetermined position in the area is brought to each of the grid coordinate positions in a state where the area has relatively rotated, and (iii) an area in which the field is sensed as an aggregate; and</claim-text>
<claim-text>a calculation unit configured to calculate the distribution of the field from the measurement data of the field, using an arithmetic expression obtained by deriving a target harmonic function, which indicates the distribution of the field, using a condition that a convolution of the target harmonic function and a shape function, which indicates a shape of a cross section of the finite sensor sensing area along a plane parallel to the measurement plane, is equal to a provisional harmonic function derived by solving the Laplace equation using the measurement data of the field and a size of the sensor sensing area in a direction perpendicular to the measurement plane.</claim-text></claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>The distribution analyzing device according to claim 1,<br/>
wherein the field is a magnetic field or an electric field,<br/>
the obtaining unit is configured to obtain the measurement data of the field, and<br/>
the calculation unit is configured to calculate the distribution of the field from the measurement data of the field.<!-- EPO <DP n="40"> --></claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>The distribution analyzing device according to claim 1 or 2,<br/>
wherein the arithmetic expression used by the calculation unit to calculate the distribution of the field from the measurement data of the field includes multiplication of the shape function and the provisional harmonic function, the shape function and the provisional harmonic function each having been subjected to a Fourier transform.</claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>The distribution analyzing device according to any one of claims 1 to 3,<br/>
wherein the arithmetic expression used by the calculation unit to calculate the distribution of the field from the measurement data of the field includes integration of, over the rotation angles, an expression including multiplication of the shape function and the provisional harmonic function, the shape function and the provisional harmonic function each having been subjected to a Fourier transform.</claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>The distribution analyzing device according to any one of claims 1 to 4,<br/>
wherein the arithmetic expression used by the calculation unit to calculate the distribution of the field from the measurement data of the field includes division of an expression obtained by integrating, over the rotation angles, an expression including multiplication of the shape function and the provisional harmonic function, by an expression obtained by integrating, over the rotation angles, an expression including a square of an absolute value of the shape function, the shape function and the provisional harmonic function each having been subjected to a Fourier transform.</claim-text></claim><claim id="c-en-0006" num="0006"><claim-text>The distribution analyzing device according to any one of claims 1 to 5,<br/>
wherein the sensor sensing area through which the<!-- EPO <DP n="41"> --> measurement data of the field to be obtained by the obtaining unit is measured is an area which is caused to relatively rotate by the field rotating about the axis perpendicular to the measurement plane, and which moves to each of the grid coordinate positions that are stationary on the measurement plane.</claim-text></claim><claim id="c-en-0007" num="0007"><claim-text>The distribution analyzing device according to claim 6,<br/>
wherein when (x, y, z) denotes a rotating coordinate system which rotates, (X, Y, Z) denotes a stationary coordinate system which does not rotate, θ denotes one of the rotation angles, k<sub>x</sub> denotes a wavenumber of the rotating coordinate system in an x direction, ky denotes a wavenumber of the rotating coordinate system in a y direction, ξ denotes a wavenumber of the stationary coordinate system in an X direction, n denotes a wavenumber of the stationary coordinate system in a Y direction, <maths id="math0037" num="[Math. 1]"><math display="block"><mrow><mover><mi>f</mi><mrow><mo> ∼</mo></mrow></mover><mfenced separators=","><mi>ξ</mi><mi>η</mi></mfenced></mrow></math><img id="ib0037" file="imgb0037.tif" wi="41" he="21" img-content="math" img-format="tif"/></maths> denotes the shape function, and <maths id="math0038" num="[Math. 2]"><math display="block"><mrow><msub><mrow><mover><mi>φ</mi><mrow><mo> ∼</mo></mrow></mover></mrow><mi>θ</mi></msub><mfenced separators=",,"><mi>ξ</mi><mi>η</mi><mi>z</mi></mfenced></mrow></math><img id="ib0038" file="imgb0038.tif" wi="39" he="21" img-content="math" img-format="tif"/></maths> denotes the provisional harmonic function, the shape function and the provisional harmonic function each having been subjected to a two-dimensional Fourier transform,<br/>
the arithmetic expression used by the calculation unit to calculate the distribution of the field from the measurement data of the field is <maths id="math0039" num="[Math. 3]"><math display="block"><mrow><mfrac><mrow><mo>∫</mo><mover><mi>f</mi><mrow><mo> ∼</mo></mrow></mover><mo>⁢</mo><mfenced separators=""><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi><mo>-</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>,</mo><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>+</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi></mfenced><mo>⁢</mo><msub><mrow><mover><mi>φ</mi><mrow><mo> ∼</mo></mrow></mover></mrow><mi>θ</mi></msub><mo>⁢</mo><mfenced separators=""><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi><mo>-</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>,</mo><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>+</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi><mo>,</mo><mi>z</mi></mfenced><mo>⁢</mo><mi mathvariant="italic">dθ</mi></mrow><mrow><mo>∫</mo><msup><mfenced open="|" close="|" separators=""><mover><mi>f</mi><mrow><mo> ∼</mo></mrow></mover><mo>⁢</mo><mfenced separators=""><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi><mo>-</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>,</mo><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>+</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi></mfenced></mfenced><mn>2</mn></msup><mo>⁢</mo><mi mathvariant="italic">dθ</mi></mrow></mfrac><mn>.</mn></mrow></math><img id="ib0039" file="imgb0039.tif" wi="165" he="36" img-content="math" img-format="tif"/></maths><!-- EPO <DP n="42"> --></claim-text></claim><claim id="c-en-0008" num="0008"><claim-text>The distribution analyzing device according to claim 6 or 7,<br/>
wherein when (x, y, z) denotes a rotating coordinate system which rotates, (X, Y, Z) denotes a stationary coordinate system which does not rotate, θ denotes one of the rotation angles, k<sub>x</sub> denotes a wavenumber of the rotating coordinate system in an x direction, ky denotes a wavenumber of the rotating coordinate system in a y direction, ξ denotes a wavenumber of the stationary coordinate system in an X direction, n denotes a wavenumber of the stationary coordinate system in a Y direction, <maths id="math0040" num="[Math. 4]"><math display="block"><mrow><mover><mi>f</mi><mrow><mo> ∼</mo></mrow></mover><mfenced separators=","><mi>ξ</mi><mi>η</mi></mfenced></mrow></math><img id="ib0040" file="imgb0040.tif" wi="40" he="21" img-content="math" img-format="tif"/></maths> denotes the shape function, and <maths id="math0041" num="[Math. 5]"><math display="block"><mrow><msub><mrow><mover><mi>φ</mi><mrow><mo> ∼</mo></mrow></mover></mrow><mi>θ</mi></msub><mfenced separators=",,"><mi>ξ</mi><mi>η</mi><mi>z</mi></mfenced></mrow></math><img id="ib0041" file="imgb0041.tif" wi="41" he="22" img-content="math" img-format="tif"/></maths> denotes the provisional harmonic function, the shape function and the provisional harmonic function each having been subjected to a two-dimensional Fourier transform,<br/>
the arithmetic expression used by the calculation unit to calculate the distribution of the field from the measurement data of the field is <maths id="math0042" num="[Math. 6]"><math display="block"><mrow><mfrac><mrow><mo>-</mo><mo>∫</mo><mover><mi>f</mi><mrow><mo> ∼</mo></mrow></mover><mo>⁢</mo><mfenced separators=""><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi><mo>-</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>,</mo><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>+</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi></mfenced><mo>⁢</mo><msub><mrow><mover><mi>φ</mi><mrow><mo> ∼</mo></mrow></mover></mrow><mi>θ</mi></msub><mo>⁢</mo><mfenced separators=""><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi><mo>-</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>,</mo><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>+</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi><mo>,</mo><mi>z</mi></mfenced><mo>⁢</mo><mi>sin</mi><mi mathvariant="italic">θdθ</mi></mrow><mrow><mo>∫</mo><msup><mfenced open="|" close="|" separators=""><mover><mi>f</mi><mrow><mo> ∼</mo></mrow></mover><mo>⁢</mo><mfenced separators=""><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi><mo>-</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>,</mo><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>+</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi></mfenced></mfenced><mn>2</mn></msup><mo>⁢</mo><msup><mi>sin</mi><mn>2</mn></msup><mo>⁢</mo><mi mathvariant="italic">θdθ</mi></mrow></mfrac></mrow></math><img id="ib0042" file="imgb0042.tif" wi="165" he="28" img-content="math" img-format="tif"/></maths><br/>
which is for calculating a component of the field in the x direction.</claim-text></claim><claim id="c-en-0009" num="0009"><claim-text>The distribution analyzing device according to any one of claims 6 to 8,<br/>
wherein when (x, y, z) denotes a rotating coordinate system which rotates, (X, Y, Z) denotes a stationary coordinate system which does not rotate, θ denotes one of the rotation angles, k<sub>x</sub><!-- EPO <DP n="43"> --> denotes a wavenumber of the rotating coordinate system in an x direction, ky denotes a wavenumber of the rotating coordinate system in a y direction, ξ denotes a wavenumber of the stationary coordinate system in an X direction, n denotes a wavenumber of the stationary coordinate system in a Y direction, <maths id="math0043" num="[Math. 7]"><math display="block"><mrow><mover><mi>f</mi><mrow><mo> ∼</mo></mrow></mover><mfenced separators=","><mi>ξ</mi><mi>η</mi></mfenced></mrow></math><img id="ib0043" file="imgb0043.tif" wi="32" he="20" img-content="math" img-format="tif"/></maths> denotes the shape function, and <maths id="math0044" num="[Math. 8]"><math display="block"><mrow><msub><mrow><mover><mi>φ</mi><mrow><mo> ∼</mo></mrow></mover></mrow><mi>θ</mi></msub><mfenced separators=",,"><mi>ξ</mi><mi>η</mi><mi>z</mi></mfenced></mrow></math><img id="ib0044" file="imgb0044.tif" wi="38" he="21" img-content="math" img-format="tif"/></maths> denotes the provisional harmonic function, the shape function and the provisional harmonic function each having been subjected to a two-dimensional Fourier transform,<br/>
the arithmetic expression used by the calculation unit to calculate the distribution of the field from the measurement data of the field is <maths id="math0045" num="[Math. 9]"><math display="block"><mrow><mfrac><mrow><mo>∫</mo><mover><mi>f</mi><mrow><mo> ∼</mo></mrow></mover><mo>⁢</mo><mfenced separators=""><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi><mo>-</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>,</mo><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>+</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi></mfenced><mo>⁢</mo><msub><mrow><mover><mi>φ</mi><mrow><mo> ∼</mo></mrow></mover></mrow><mi>θ</mi></msub><mo>⁢</mo><mfenced separators=""><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi><mo>-</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>,</mo><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>+</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi><mo>,</mo><mi>z</mi></mfenced><mo>⁢</mo><mi mathvariant="italic">cosθdθ</mi></mrow><mrow><mo>∫</mo><msup><mfenced open="|" close="|" separators=""><mover><mi>f</mi><mrow><mo> ∼</mo></mrow></mover><mo>⁢</mo><mfenced separators=""><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi><mo>-</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>,</mo><msub><mi>k</mi><mi>x</mi></msub><mo>⁢</mo><mi>sin</mi><mi>θ</mi><mo>+</mo><msub><mi>k</mi><mi>y</mi></msub><mo>⁢</mo><mi>cos</mi><mi>θ</mi></mfenced></mfenced><mn>2</mn></msup><mo>⁢</mo><msup><mi>cos</mi><mn>2</mn></msup><mo>⁢</mo><mi mathvariant="italic">θdθ</mi></mrow></mfrac></mrow></math><img id="ib0045" file="imgb0045.tif" wi="165" he="29" img-content="math" img-format="tif"/></maths><br/>
which is for calculating a component of the field in the y direction.</claim-text></claim><claim id="c-en-0010" num="0010"><claim-text>The distribution analyzing device according to any one of claims 1 to 9, further comprising<br/>
a measurement unit which includes the sensor sensing area, wherein the measurement unit is configured to measure the field, through the sensor sensing area, independently at each of the rotation angles of the sensor sensing area and at each of the grid coordinate positions of the sensor sensing area, and<br/>
the obtaining unit is configured to obtain the measurement data of the field measured by the measurement unit.<!-- EPO <DP n="44"> --></claim-text></claim><claim id="c-en-0011" num="0011"><claim-text>The distribution analyzing device according to any one of claims 1 to 10, further comprising<br/>
an image processing unit configured to generate an image which shows the distribution, using the distribution calculated by the calculation unit.</claim-text></claim><claim id="c-en-0012" num="0012"><claim-text>The distribution analyzing device according to any one of claims 1 to 11,<br/>
wherein the sensor sensing area through which the measurement data of the field to be obtained by the obtaining unit is measured is an area which relatively moves such that a central position of the sensor sensing area is brought to each of the grid coordinate positions in the state where the sensor sensing area has relatively rotated, and<br/>
the target harmonic function which is derived to obtain the arithmetic expression used by the calculation unit to calculate the distribution of the field from the measurement data of the field satisfies that a convolution of the target harmonic function and the shape function is equal to the provisional harmonic function, the shape function being defined using the central position of the sensor sensing area as a reference point.</claim-text></claim><claim id="c-en-0013" num="0013"><claim-text>The distribution analyzing device according to any one of claims 1 to 12,<br/>
wherein the calculation unit is configured to calculate the distribution of the field from the measurement data of the field, using the arithmetic expression obtained by deriving the target harmonic function using the condition that the convolution of the target harmonic function and the shape function is equal to the provisional harmonic function obtained by solving the Laplace equation using a boundary condition that an integral of a solution of the Laplace equation over an interval corresponding to the size of the sensor<!-- EPO <DP n="45"> --> sensing area in the direction perpendicular to the measurement plane matches the measurement data of the field.</claim-text></claim><claim id="c-en-0014" num="0014"><claim-text>A distribution analyzing method for analyzing a distribution of a field having a property satisfying a Laplace equation, the distribution analyzing method comprising:
<claim-text>obtaining measurement data of the field measured, through a sensor sensing area, independently at each of rotation angles of the sensor sensing area and at each of grid coordinate positions of the sensor sensing area on a measurement plane where the field is measured, the sensor sensing area being (i) a finite area which relatively rotates about an axis perpendicular to the measurement plane, (ii) an area which relatively moves such that a predetermined position in the area is brought to each of the grid coordinate positions in a state where the area has relatively rotated, and (iii) an area in which the field is sensed as an aggregate; and</claim-text>
<claim-text>calculating the distribution of the field from the measurement data of the field, using an arithmetic expression obtained by deriving a target harmonic function, which indicates the distribution of the field, using a condition that a convolution of the target harmonic function and a shape function, which indicates a shape of a cross section of the finite sensor sensing area along a plane parallel to the measurement plane, is equal to a provisional harmonic function derived by solving the Laplace equation using the measurement data of the field and a size of the sensor sensing area in a direction perpendicular to the measurement plane.</claim-text></claim-text></claim></claims><drawings mxw-id="PDW20422353" load-source="patent-office"><!-- EPO <DP n="46"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="165" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="47"> --><figure id="f0002" num="2,3"><img id="if0002" file="imgf0002.tif" wi="159" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="48"> --><figure id="f0003" num="4,5,6"><img id="if0003" file="imgf0003.tif" wi="159" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="49"> --><figure id="f0004" num="7,8,9"><img id="if0004" file="imgf0004.tif" wi="159" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="50"> --><figure id="f0005" num="10,11"><img id="if0005" file="imgf0005.tif" wi="151" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="51"> --><figure id="f0006" num="12,13"><img id="if0006" file="imgf0006.tif" wi="151" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="52"> --><figure id="f0007" num="14"><img id="if0007" file="imgf0007.tif" wi="151" he="233" img-content="drawing" img-format="tif"/></figure></drawings><search-report-data><doc-page id="srep0001" file="srep0001.tif" wi="163" he="233" type="tif"/></search-report-data><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
