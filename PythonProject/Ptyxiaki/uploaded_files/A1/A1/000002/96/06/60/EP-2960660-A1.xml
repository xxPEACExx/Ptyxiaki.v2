<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2960660-A1" country="EP" doc-number="2960660" kind="A1" date="20151230" family-id="53489879" file-reference-id="312929" date-produced="20180824" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="160451627" ucid="EP-2960660-A1"><document-id><country>EP</country><doc-number>2960660</doc-number><kind>A1</kind><date>20151230</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-15173597-A" is-representative="YES"><document-id mxw-id="PAPP193866222" load-source="patent-office" format="original"><country>EP</country><doc-number>15173597.4</doc-number><date>20150624</date><lang>EN</lang></document-id><document-id mxw-id="PAPP193866223" load-source="docdb" format="epo"><country>EP</country><doc-number>15173597</doc-number><kind>A</kind><date>20150624</date><lang>EN</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC162028747" ucid="US-201414313744-A" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>201414313744</doc-number><kind>A</kind><date>20140624</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-1988520641" load-source="docdb">G01R  13/02        20060101AFI20151126BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1988523310" load-source="docdb">H03M   1/08        20060101ALI20151126BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1988523389" load-source="docdb">G01R  31/317       20060101ALI20151126BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1988524947" load-source="docdb">G01R  29/26        20060101ALI20151126BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1861373432" load-source="docdb" scheme="CPC">G01R  31/31709     20130101 LI20170104BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1861375003" load-source="docdb" scheme="CPC">G01R  13/0218      20130101 LI20170104BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1984699087" load-source="docdb" scheme="CPC">G01R  29/26        20130101 LI20160106BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1984699253" load-source="docdb" scheme="CPC">G01R  35/005       20130101 FI20151224BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1984705118" load-source="docdb" scheme="CPC">G01R  31/28        20130101 LI20151224BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1984705165" load-source="docdb" scheme="CPC">G01R  25/00        20130101 LI20151224BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT165546347" lang="DE" load-source="patent-office">PHASENRAUSCHKORREKTURSYSTEM FÜR DISKRETE ZEITSIGNALVERARBEITUNG</invention-title><invention-title mxw-id="PT165546348" lang="EN" load-source="patent-office">PHASE NOISE CORRECTION SYSTEM FOR DISCRETE TIME SIGNAL PROCESSING</invention-title><invention-title mxw-id="PT165546349" lang="FR" load-source="patent-office">SYSTÈME DE CORRECTION DE BRUIT DE PHASE POUR LE TRAITEMENT DE SIGNAUX TEMPORELS DISCRETS</invention-title><citations><patent-citations><patcit mxw-id="PCIT335743777" load-source="docdb" ucid="US-20130058437-A1"><document-id format="epo"><country>US</country><doc-number>20130058437</doc-number><kind>A1</kind><date>20130307</date></document-id><sources><source name="SEA" category="A" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT335740370" load-source="docdb" ucid="US-6564160-B2"><document-id format="epo"><country>US</country><doc-number>6564160</doc-number><kind>B2</kind><date>20030513</date></document-id><sources><source name="APP" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT356617732" load-source="docdb" ucid="US-7746058-B2"><document-id format="epo"><country>US</country><doc-number>7746058</doc-number><kind>B2</kind><date>20100629</date></document-id><sources><source name="APP" created-by-npl="N"/><source name="SEA" category="AD" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT371137759" load-source="docdb" ucid="US-8203472-B2"><document-id format="epo"><country>US</country><doc-number>8203472</doc-number><kind>B2</kind><date>20120619</date></document-id><sources><source name="SEA" category="XI" created-by-npl="N"/></sources></patcit></patent-citations><non-patent-citations><nplcit><text>GROVE ET AL.: "Direct-Digital Phase-Noise Measurement", 2004 IEEE INTERNATIONAL ULTRASONICS, FERROELECTRICS AND FREQUENCY CONTROL JOINT 50TH ANNIVERSARY CONFERENCE, 2004</text><sources><source mxw-id="PNPL62638829" load-source="docdb" name="APP"/></sources></nplcit></non-patent-citations></citations></technical-data><parties><applicants><applicant mxw-id="PPAR1103318054" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>TEKTRONIX INC</last-name><address><country>US</country></address></addressbook></applicant><applicant mxw-id="PPAR1103333099" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>TEKTRONIX, INC.</last-name></addressbook></applicant><applicant mxw-id="PPAR1101643487" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Tektronix, Inc.</last-name><iid>101008746</iid><address><street>14150 SW Karl Braun Drive P.O. Box 500, M/S 50-LAW</street><city>Beaverton, Oregon 97077-0001</city><country>US</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR1103340216" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>TORIN SHIGETSUNE</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR1103334975" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>TORIN, SHIGETSUNE</last-name></addressbook></inventor><inventor mxw-id="PPAR1101651828" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>TORIN, SHIGETSUNE</last-name><address><street>7870 SW 136th Avenue</street><city>Beaverton, OR Oregon 97008</city><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR1103324453" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>HILL THOMAS</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR1103316208" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>HILL, THOMAS</last-name></addressbook></inventor><inventor mxw-id="PPAR1101650460" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>HILL, THOMAS</last-name><address><street>19335 NW Walker Road</street><city>Beaverton, OR Oregon 97006</city><country>US</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR1101651101" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Clarke, Jeffrey</last-name><iid>101373801</iid><address><street>HGF Limited Fountain Precinct Balm Green</street><city>Sheffield S1 2JA</city><country>GB</country></address></addressbook></agent></agents></parties><international-convention-data><designated-states><ep-contracting-states><country mxw-id="DS660696593" load-source="docdb">AL</country><country mxw-id="DS660612801" load-source="docdb">AT</country><country mxw-id="DS660696599" load-source="docdb">BE</country><country mxw-id="DS660689133" load-source="docdb">BG</country><country mxw-id="DS660690045" load-source="docdb">CH</country><country mxw-id="DS660612467" load-source="docdb">CY</country><country mxw-id="DS660612802" load-source="docdb">CZ</country><country mxw-id="DS660696600" load-source="docdb">DE</country><country mxw-id="DS660612468" load-source="docdb">DK</country><country mxw-id="DS660612469" load-source="docdb">EE</country><country mxw-id="DS660608807" load-source="docdb">ES</country><country mxw-id="DS660689134" load-source="docdb">FI</country><country mxw-id="DS660689139" load-source="docdb">FR</country><country mxw-id="DS660696601" load-source="docdb">GB</country><country mxw-id="DS660612470" load-source="docdb">GR</country><country mxw-id="DS660696602" load-source="docdb">HR</country><country mxw-id="DS660612811" load-source="docdb">HU</country><country mxw-id="DS660690046" load-source="docdb">IE</country><country mxw-id="DS660696607" load-source="docdb">IS</country><country mxw-id="DS660689140" load-source="docdb">IT</country><country mxw-id="DS660612475" load-source="docdb">LI</country><country mxw-id="DS660688460" load-source="docdb">LT</country><country mxw-id="DS660612812" load-source="docdb">LU</country><country mxw-id="DS660688461" load-source="docdb">LV</country><country mxw-id="DS660688462" load-source="docdb">MC</country><country mxw-id="DS660784245" load-source="docdb">MK</country><country mxw-id="DS660784246" load-source="docdb">MT</country><country mxw-id="DS660608808" load-source="docdb">NL</country><country mxw-id="DS660689141" load-source="docdb">NO</country><country mxw-id="DS660784247" load-source="docdb">PL</country><country mxw-id="DS660690439" load-source="docdb">PT</country><country mxw-id="DS660608809" load-source="docdb">RO</country><country mxw-id="DS660690440" load-source="docdb">RS</country><country mxw-id="DS660784248" load-source="docdb">SE</country><country mxw-id="DS660690441" load-source="docdb">SI</country><country mxw-id="DS660689142" load-source="docdb">SK</country><country mxw-id="DS660784249" load-source="docdb">SM</country><country mxw-id="DS660612476" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA166479997" lang="EN" load-source="patent-office"><p id="pa01" num="0001">Embodiments of the invention include a test and measurement instrument including a test signal input and a sampler coupled to the test signal input to generate a sampled test signal. The instrument also includes a noise reduction system that includes an additional oscillator coupled to the sampler and structured to generate a sampled oscillating signal, as well as a phase detector coupled to the sampled oscillating signal for measuring noise introduced by the sampler. The noise reduction system further includes a phase corrector coupled to the phase detector for removing the measured amount of noise from the sampled test signal. Methods of noise detection are also described.
<img id="iaf01" file="imgaf001.tif" wi="165" he="85" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA166759809" lang="EN" source="EPO" load-source="docdb"><p>Embodiments of the invention include a test and measurement instrument including a test signal input and a sampler coupled to the test signal input to generate a sampled test signal. The instrument also includes a noise reduction system that includes an additional oscillator coupled to the sampler and structured to generate a sampled oscillating signal, as well as a phase detector coupled to the sampled oscillating signal for measuring noise introduced by the sampler. The noise reduction system further includes a phase corrector coupled to the phase detector for removing the measured amount of noise from the sampled test signal. Methods of noise detection are also described.</p></abstract><description mxw-id="PDES98404698" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001">FIELD OF THE INVENTION</heading><p id="p0001" num="0001">This disclosure is directed to discrete time signal processing, and more particularly, to a phase noise correction system to mitigate phase noise generated by a discrete time receiver or other discrete time testing equipment.</p><heading id="h0002">BACKGROUND</heading><p id="p0002" num="0002">Discrete time processing receivers are now common due to advance of high data rate sampling devices and digital signal processing. To measure the phase property of a Radio Frequency (RF) signal, the receiver should have much less phase noise than the RF signal itself. Usually, internal oscillation systems such as local oscillators and jitter of the internal sampling clock are the major causes of phase noise.</p><p id="p0003" num="0003">Some receivers have one or more frequency conversion stages. One example of a receiver is a Real Time Spectrum Analyzer (RTSA) available from Tektronix, Inc. of Beaverton, Oregon. In the RTSA, the phase noise of the local oscillator for the frequency converter is added to the received signal. Continuous signals are periodically sampled in discrete time processing receivers. The sampler is driven by an oscillator clock, which contains some timing jitter. The jitter is converted to additional phase noise by the sampler. Overall, the received signals are affected by many phase noise sources. Improving internal oscillators is a significant cost trade-off issue particularly with wide-range high-frequency synthesized oscillation systems. It is difficult, though, to produce oscillators having low noise for low cost.</p><p id="p0004" num="0004">Earlier attempts to reduce phase noise are shown in <patcit id="pcit0001" dnum="US7746058B"><text>U.S. Patents 7,746,058 to Nelson </text></patcit><patcit id="pcit0002" dnum="US6564160B"><text>et al, and 6,564,160 Jungerman et al.</text></patcit> Additional techniques are revealed in a published paper by <nplcit id="ncit0001" npl-type="s"><text>Grove et al, entitled "Direct-Digital Phase-Noise Measurement" 2004 IEEE International Ultrasonics, Ferroelectrics and Frequency Control Joint 50th Anniversary Conference," 2004</text></nplcit>.</p><p id="p0005" num="0005">The '058 patent describes a "Sequential Equivalent Time Sampling" system. The system includes variations on whether the trigger and the reference are synchronous with or are related to the DUT signal. In the disclosed methods, the<!-- EPO <DP n="2"> --> reference signal must be digitized separately from the DUT signal, and includes complex method of converting the reference signal into "time stamps" that are used to correct the DUT samples. This is a complicated system.</p><p id="p0006" num="0006">The '160 patent uses a clock reference that is generated from or directly related directly to the DUT, or is provided by the DUT itself. The sampling of the DUT and reference are synchronous, and there is no mechanism for using a phase reference that is asynchronous to the DUT signal, which limits its application.</p><p id="p0007" num="0007">The Grove paper describes a "Phase Noise Test Set", that can only measure the phase noise of an incoming signal. This has no ability to measure other parameters of a signal, to display a waveform, and not to be a receiver for demodulation signals.</p><p id="p0008" num="0008">Embodiments of the invention address these and other issues in the prior art.</p><heading id="h0003">SUMMARY OF THE DISCLOSURE</heading><p id="p0009" num="0009">Embodiments of the invention include a test and measurement instrument including a test signal input and a sampler coupled to the test signal input to generate a sampled test signal. The instrument also includes a noise reduction system that includes an additional oscillator coupled to the sampler and structured to generate a sampled oscillating signal, as well as a phase detector coupled to the sampled oscillating signal for measuring noise introduced by the sampler. The noise reduction system further includes a phase corrector coupled to the phase detector for removing the measured amount of noise from the sampled test signal.</p><p id="p0010" num="0010">Effectively, embodiments of the invention evaluate the phase noise of the internal oscillation system by using an additional good phase noise oscillator, and corrects the received signal by the evaluated phase noise. The additional oscillator does not have to have a precise tuning capability. So, it is generally less expensive than improving the internal oscillation system.</p><p id="p0011" num="0011">This additional oscillator can be either external or internal to the receiver being improved.</p><p id="p0012" num="0012">In certain embodiments, the DUT and additional oscillator signal are all oversampled, at a minimum, by a factor of at least 2.5. Also, in some embodiments, the DUT and reference signals are combined into one channel and digitized by a single A/D converter.<!-- EPO <DP n="3"> --></p><p id="p0013" num="0013">Embodiments also include methods of for reducing receiver noise in a receiver structured to accept an oscillating test signal. Such methods include receiving a second oscillating signal, sampling the test signal and the second oscillating signal to create a sampled test signal and sampled oscillating signal, measuring noise on the sampled oscillating signal, and removing an amount of noise from the sampled test signal that is approximately equal to the measured noise.</p><heading id="h0004">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p0014" num="0014"><ul><li><figref idrefs="f0001">Figure 1</figref> is a functional block diagram of a conventional test instrument, such as a Real Time Spectrum Analyzer, that exhibits significant internal noise.</li><li><figref idrefs="f0001">Figure 2</figref> is a functional block diagram of a conventional test instrument, such as a Digital Oscilloscope, that also exhibits significant internal noise.</li><li><figref idrefs="f0002">Figure 3</figref> is a functional block diagram of the discrete time processing portion of the instruments of <figref idrefs="f0001">Figure 1 and Figure 2</figref>.</li><li><figref idrefs="f0002">Figure 4</figref> is a functional block diagram of an example system using phase correction to reduce noise according to embodiments of the invention.</li><li><figref idrefs="f0003">Figure 5</figref> is a functional block diagram of an example discrete time signal processing block of the system illustrated in <figref idrefs="f0002">Figure 4</figref>.</li><li><figref idrefs="f0003">Figure 6</figref> is a functional block diagram of another example system using phase correction of a receiver that uses two input channels to reduce noise according to embodiments of the invention.</li><li><figref idrefs="f0004">Figure 7</figref> is a functional block diagram of an example discrete time signal processing block of the system illustrated in <figref idrefs="f0003">Figure 6</figref>.</li><li><figref idrefs="f0005">Figure 8A</figref> is a graphical output illustrating a continuous wave waveform without phase correction.</li><li><figref idrefs="f0005">Figure 8B</figref> is a graphical output illustrating the same continuous wave waveform of <figref idrefs="f0005">Figure 8A</figref> after having the phase correction techniques according to embodiments of the invention applied.</li><li><figref idrefs="f0006">Figure 9A</figref> shows a constellation signal and quality of Quadrature Phase Shift Keying (QPSK) without phase correction.</li><li><figref idrefs="f0007">Figure 9B</figref> shows the constellation signal and QPSK after having the phase correction techniques according to embodiments of the invention applied.</li></ul><!-- EPO <DP n="4"> --></p><heading id="h0005">DETAILED DESCRIPTION</heading><p id="p0015" num="0015"><figref idrefs="f0001">Figure 1</figref> is a functional block diagram of a single conversion receiver 110 intended to measure an RF signal from a Device Under Test (DUT) 160. Typically, a hold circuit and an Analog to Digital Converter (ADC) would follow a sampler 120 but are omitted to simplify the figure. Image rejection filter(s) and an anti-aliasing filter are also omitted. In <figref idrefs="f0001">Figure 1</figref>, phase noise of both a local oscillator 130 and a sampling clock 140 degrade the phase measurement of the RF signal from the DUT 160.</p><p id="p0016" num="0016">Some receivers, such as the digital oscilloscope 210 illustrated in <figref idrefs="f0001">Figure 2</figref>, do not include a frequency conversion stage, formed in <figref idrefs="f0001">Figure 1</figref> by the local oscillator 130 and frequency mixer 150. In the digital oscilloscope 210, a sampler 220, which is driven by a sampling clock 240, periodically samples signals from the DUT 260 for processing by a discrete time signal processing system 270. In the digital oscilloscope 210 of <figref idrefs="f0001">Figure 2</figref>, even though it does not included a local oscillator, the phase noise of the system is still degraded by the sampling clock 240. The digital oscilloscope 210 of <figref idrefs="f0001">Figure 2</figref> would also typically include an anti-aliasing filter, which is omitted for clarity.</p><p id="p0017" num="0017"><figref idrefs="f0002">Figure 3</figref> is a functional block diagram of the discrete time processing portions 170, 270, of the instruments illustrated in <figref idrefs="f0001">Figure 1 and Figure 2</figref>.</p><p id="p0018" num="0018">In <figref idrefs="f0002">Figure 3</figref>, as in the remainder of the figures in this description, single lines identify the path of real signals, while double lines identify the path of quadrature (IQ complex) signals. A numerically controlled oscillator 310 operates at a frequency of the carrier frequency of the RF signal being tested. A digital IQ down-converter 320 converts the signal output from an ADC 330 to an IQ base band signal. A filter 340 extracts RF signal information from the downconverted signal, which is then measured by a digital signal processor 350, which performs measurements on the resultant signal.</p><p id="p0019" num="0019">Embodiments of the invention use a second oscillator to enhance discrete time signal processing by using phase correction in a test measurement system. <figref idrefs="f0002">Figure 4</figref> shows a block diagram of a system 400 using phase correction to reduce noise according to embodiments of the invention. In the phase noise correction system 400, the signal from a DUT 410, having an RF signal output labeled RF 1 and the signal RF 2from an additional oscillator 420 are combined in a signal combiner 430 and passed to a receiver 440. RF 2 may be an un-modulated Continuous Wave (CW), for<!-- EPO <DP n="5"> --> example. The frequency of RF 2 should be known to the system and should be selected so as not to cause signal interference with RF 1. Preferably, using the same frequency for RF 1 and RF 2 is to be avoided, and harmonic relations should also be avoided when selecting the frequency for RF 2. If the two frequencies RF 1 and RF 2 are too close, the phase noise from RF 1 cannot be rejected by the filter, as explained below.</p><p id="p0020" num="0020">For the signal combiner 430 in <figref idrefs="f0002">Figure 4</figref>, a 180 degree hybrid may be a good choice, although other combination methods may be used. The receiver 440 can be either with or without frequency conversion. In this example the frequency conversion is performed by a local oscillator 443 and frequency mixer 445. The additional oscillator 420 and signal combiner 430 are placed outside of the receiver 440 in this example, but they could also be included inside the receiver 440 in other embodiments.</p><p id="p0021" num="0021"><figref idrefs="f0003">Figure 5</figref> illustrates in more detail an example embodiment of the enhanced discrete time signal processing 448 of <figref idrefs="f0002">Figure 4</figref> in which the phase error correction takes place. As above with reference to <figref idrefs="f0002">Figure 3</figref>, single lines illustrated the signal path of real signals while double lines illustrate the path of IQ complex signals.</p><p id="p0022" num="0022">With reference to <figref idrefs="f0003">Figure 5</figref>, a first numerically controlled oscillator 510 is tuned to the RF 1 signal from the DUT 410 illustrated in <figref idrefs="f0002">Figure 4</figref>. This is the same as conventional discrete time signal processing. The sampled signal RF 1 is digitized in an ADC 504 and then processed by a first digital IQ Down-Converter 512 that is controlled by the first numerically controlled oscillator 510. The first digital IQ Down-Converter 512 converts the digitized RF1 signal to a Zero IF signal (baseband IQ complex signal). The output of the first Digital IQ down-converter 512 is then filtered by a first filter 514 to extract RF 1 information only. These functions are the same as illustrated above with reference to <figref idrefs="f0002">Figure 3</figref>. Noise reduction by phase correction according to embodiments of the invention is driven by the remaining elements within <figref idrefs="f0003">Figure 5</figref>.</p><p id="p0023" num="0023">More specifically, a second numerically controlled oscillator 520 is tuned to the RF 2 signal from the additional oscillator 420 of <figref idrefs="f0002">Figure 4</figref>. The sampled and digitized RF 2 signal is mixed with a second numerically controlled oscillator 520 and converted to a Zero IF signal (baseband IQ complex signal) by the second digital IQ Down-Converter 522. The output of the second digital IQ Down-Converter 522 is then filtered by the second filter 524 out to extract RF 2 information only.<!-- EPO <DP n="6"> --></p><p id="p0024" num="0024">With reference back to <figref idrefs="f0002">Figure 4</figref>, the local oscillator 443, sampling clock 446, and sampler 447 affect both the RF1 and RF2 signals with phase noise in a similar manner. It can be assumed that the numerically controlled oscillators 510, 520 of <figref idrefs="f0003">Figure 5</figref> have much better phase noise than the additional oscillator 420, because the oscillators 510, 520 are produced by a math process and not hardware. The RF 2 information is ideally a constant in Zero IF, whose phase angle is, for reference, Φ2 in IQ baseband representation. However, due to the internal phase noise of the receiver, such as the receiver 440, the actual angle becomes Φ2 + φ2, where φ2 is the phase noise component from the receiver. An instantaneous phase may be detected in a phase detector 540 by, for example, processing the arc tangent of Q (imaginary) component and I (real) component. For example, suppose the carrier frequency of RF 1 is f1 and frequency of RF 2 is f2. A simple phase noise relation can be expressed as:<maths id="math0001" num="equation 1"><math display="block"><mrow><mi mathvariant="normal">ϕ</mi><mo>⁢</mo><mn mathvariant="normal">1</mn><mo>:</mo><mi mathvariant="normal">f</mi><mo>⁢</mo><mn mathvariant="normal">1</mn><mo>=</mo><mi mathvariant="normal">ϕ</mi><mo>⁢</mo><mn mathvariant="normal">2</mn><mo>:</mo><mi mathvariant="normal">f</mi><mo>⁢</mo><mn mathvariant="normal">2</mn></mrow></math><img id="ib0001" file="imgb0001.tif" wi="54" he="6" img-content="math" img-format="tif"/></maths></p><p id="p0025" num="0025">where φ1 is the phase noise on RF 1 and φ2 is the phase noise on RF 2 added by the local oscillator and by the sampling clock, respectively. Note that φ1 and φ2 are the instantaneous phases at each sample, so the phase of RF 1 may be corrected sample by sample.</p><p id="p0026" num="0026">The first and second numerically controlled oscillators 510, 520 do not have to be exactly f1 and f2 for the phase correction. In this case, phase rotations are included in signals after the first and second digital IQ Down-Converters 512, 522. These phase rotations are constant rotation (frequency shifts) and can be numerically subtracted in the digital signal processing block 560 in a known manner.</p><p id="p0027" num="0027">With reference back to <figref idrefs="f0003">Figure 5</figref>, a phase detector 540 detects the phase of the RF 2 signal, which may be subtracted in the phase corrector 550. In one embodiment the phase corrector 550 may remove phase noise by dividing the RF 1 information output from the first filter 514, then dividing the filtered RF 1 information by the phase angle detected and measured by the phase detector 540. Then the resultant signal, with the noise removed, is passed to the digital signal processor 560 for measurement and processing.</p><p id="p0028" num="0028">The phase of the RF 2 signal is a good approximation of the noise added by the local oscillator 443 and sampling clock 446. Therefore, after the noise is subtracted in the phase corrector 550, much of the noise caused by the receiver 440 (<figref idrefs="f0002">Figure 4</figref>) is removed.<!-- EPO <DP n="7"> --></p><p id="p0029" num="0029">Other implementations of embodiments of the invention use a multiple channel receiver. Most oscilloscopes have more than one input channel. For example, with reference to <figref idrefs="f0003">Figure 6</figref>, two independent channels of a receiver 640 may receive signals from a DUT 610 and from an additional oscillator 620, respectively. The samplers 617 and 627 are both driven by the same sampling clock 630 within the receiver 640. The receiver may include frequency conversion, such as the embodiment illustrated in <figref idrefs="f0002">Figure 4</figref>, but need not include frequency conversion.</p><p id="p0030" num="0030"><figref idrefs="f0004">Figure 7</figref> is a functional block diagram of an example of the enhanced discrete time signal processing block 648 of <figref idrefs="f0003">Figure 6</figref>.</p><p id="p0031" num="0031">The system illustrated in <figref idrefs="f0004">Figure 7</figref> receives RF 1 and RF 2 signals separately. Other than including two ADCs 704, 714, each configured to receive one of the sampled signals from the DUT 610 or additional oscillator 620, the functions of the components within <figref idrefs="f0004">Figure 7</figref> operate in the same manner as those illustrated in <figref idrefs="f0003">Figure 5</figref>, the description of the operation of which is omitted for brevity. In other words, by adding the additional oscillator 620 in a separate channel of the receiver, because it was processed in the same manner as the DUT 610, any phase noise from the additional oscillator may be removed from the signal from the DUT 610. This effectively removes noise caused by the receiver.</p><p id="p0032" num="0032">An advantage of using two channels is f2 (frequency of RF 2, the signal from the additional oscillator 620) can be the same frequency as RF 1. There are almost no restrictions on which frequency may be used for f2.</p><p id="p0033" num="0033">Further, with reference back to <figref idrefs="f0003">Figure 6</figref>, if all three units, the DUT 610 , the receiver 640, and the additional oscillator 620, are reference locked, the enhanced discrete time signal processing block 648 knows the exact frequency relations, which is useful because, in the case where the three are all locked, there is no need to use the additional complication of the frequency estimation calculations in the Signal Processing. Even in the case where some or all of the units may not be locked, the noise may still be reduced or eliminated by adding a frequency estimation function in the enhanced discrete time signal processing block 648 to provide the frequencies of the first and second numerically controlled oscillators 710, 720</p><p id="p0034" num="0034">In some embodiments the additional oscillator, such as the additional oscillator 420 of <figref idrefs="f0002">Figure 4</figref> or additional oscillator 620 of <figref idrefs="f0003">Figure 6</figref> can be a comb generator, which generates frequency tones of unmodulated Continuous Waveforms (CWs). Other oscillators may also be used.<!-- EPO <DP n="8"> --></p><p id="p0035" num="0035">As mentioned above, although the additional oscillators 420, 620 can be external, it is advantageous to include the oscillator inside the receiver, such as the receiver 440, 640, as a total receiver system for overall calibrations and simpler use.</p><p id="p0036" num="0036">The aspects of removing noise by phase detection described above can be also applied to a simple signal reception receiver for better reception quality rather than strict signal measurements.</p><p id="p0037" num="0037"><figref idrefs="f0005">Figure 8A</figref> is a spectrogram of a reference RF signal that is a CW signal without using noise reduction, while <figref idrefs="f0005">Figure 8B</figref> illustrates the same signal after using the phase reduction system described above. As can be easily seen, the noise floor illustrated in <figref idrefs="f0005">Figure 8B</figref> is much lower than that illustrated in <figref idrefs="f0005">Figure 8A</figref>.</p><p id="p0038" num="0038"><figref idrefs="f0006">Figures 9A</figref> and <figref idrefs="f0007">9B</figref> illustrate the results of implementation of the above-described noise reduction system experiments on QPSK modulated signals captured by a TEKTRONIX MSO5000 oscilloscope. The QPSK signals were analyzed by RSA6000 software.</p><p id="p0039" num="0039">The constellation and signal quality measurements illustrated in <figref idrefs="f0006">Figure 9A</figref> shows a constellation and signal quality of QOSK without the phase correction. In</p><p id="p0040" num="0040"><figref idrefs="f0006">Figure 9A</figref>, the highlighted areas in the corners illustrated the problem with phase noise at the symbol points. The measured Error Vector Magnitude (EVM) is a relatively high 10.761%.</p><p id="p0041" num="0041">Instead, with phase correction applied, as illustrated in <figref idrefs="f0007">Figure 9B</figref>, the corresponding highlighted areas are reduced to well concentrated dots, and the measured EVM is a relatively low 0.471%.</p><p id="p0042" num="0042">Example embodiments may provide a test and measurement instrument comprising a test signal input for receiving a signal for testing, a sampler coupled to the test signal input and structured to generate a sampled test signal, and a noise reduction system including an additional oscillator coupled to the sampler and structured to generate a sampled oscillating signal, a phase detector coupled to the sampled oscillating signal and structured to measure noise introduced by the sampler, and a phase corrector coupled to the phase detector and to the sampled test signal, structured to remove the measured amount of noise from the sampled test signal.</p><p id="p0043" num="0043">Some example embodiments may further comprise a frequency converter coupled between the test signal and the sampler, the frequency converter driven by a local oscillator, and in which the phase detector is structured to measure noise introduced by the sampler and by the local oscillator.<!-- EPO <DP n="9"> --></p><p id="p0044" num="0044">Some examples embodiments may further comprise a signal combiner structured to combine a device under test with the additional oscillator for input as the signal for testing.</p><p id="p0045" num="0045">In some example embodiments the phase detector detects noise as phase angle in a sampled IQ pair.</p><p id="p0046" num="0046">In some example embodiments the phase corrector is structured to compensate an IQ signal derived from the sampled test signal based on the amount of phase angle measured by the phase detector.</p><p id="p0047" num="0047">In some example embodiments the additional oscillator is a comb generator.</p><p id="p0048" num="0048">In some example embodiments the additional oscillator is contained within the test and measurement instrument.</p><p id="p0049" num="0049">Some example embodiments provide a test and measurement instrument comprising a first channel input for receiving a test signal, a second channel input for receiving an oscillator signal, a first sampler coupled to the first channel input for generating a sampled test signal, a second sampler coupled to the second channel input for generating a sampled oscillator signal, the first and second samplers driven by a common sampling clock, and a noise reduction system including a phase detector coupled to the sampled oscillating signal and structured to measure noise introduced by the sampler and a phase corrector coupled to the phase detector and to the sampled test signal, structured to remove the measured amount of noise from the sampled test signal.</p><p id="p0050" num="0050">In some example embodiments the phase detector detects noise as phase angle in a sampled IQ pair.</p><p id="p0051" num="0051">In some example embodiments the phase corrector is structured to compensate an IQ signal derived from the sampled test signal based on the amount of phase angle measured by the phase detector.</p><p id="p0052" num="0052">Some example embodiments may provide a method of reducing receiver noise in a receiver structured to accept an oscillating test signal, the method further comprising receiving a second oscillating signal, sampling the test signal and the second oscillating signal to create a sampled test signal and sampled oscillating signal, measuring noise on the sampled oscillating signal, and removing an amount of noise from the sampled test signal that is approximately equal to the measured noise.<!-- EPO <DP n="10"> --></p><p id="p0053" num="0053">In some example embodiments, measuring noise on the sampled oscillating signal comprises measuring a phase angle in an IQ pair generated from the sampled oscillating signal.</p><p id="p0054" num="0054">In some example embodiments, removing an amount of noise from the sampled test signal comprises performing phase correction on an IQ pair generated from the sampled test signal in an amount approximately equal to the measured phase angle.</p><p id="p0055" num="0055">In some example embodiments, sampling the test signal and the oscillating signal comprises sampling the test signal and the oscillating signal by a common sampler.</p><p id="p0056" num="0056">In some example embodiments, sampling the test signal and the oscillating signal comprises sampling the test signal with a first sampler and sampling the oscillating signal by a second sampler, and further in which the first and second sampler are driven by a common sampling clock.</p><p id="p0057" num="0057">Although specific example embodiments of the invention have been illustrated and described for purposes if illustration, it will be understood that various modifications may be made without departing from the scope of the invention. Accordingly, the invention should not be limited except as by the appended claims.</p></description><claims mxw-id="PCLM90459641" lang="EN" load-source="patent-office"><!-- EPO <DP n="11"> --><claim id="c-en-0001" num="0001"><claim-text>A test and measurement instrument comprising:
<claim-text>a test signal input for receiving a signal for testing;</claim-text>
<claim-text>a sampler coupled to the test signal input and structured to generate a sampled test signal; and</claim-text>
<claim-text>a noise reduction system including:
<claim-text>an additional oscillator coupled to the sampler and structured to generate a sampled oscillating signal,</claim-text>
<claim-text>a phase detector coupled to the sampled oscillating signal and structured to measure noise introduced by the sampler, and</claim-text>
<claim-text>a phase corrector coupled to the phase detector and to the sampled test signal, structured to remove the measured amount of noise from the sampled test signal.</claim-text></claim-text></claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>The test and measurement instrument of claim 1, further comprising a frequency converter coupled between the test signal and the sampler, the frequency converter driven by a local oscillator, and in which the phase detector is structured to measure noise introduced by the sampler and by the local oscillator.</claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>The test and measurement instrument of claim 2, further comprising a signal combiner structured to combine a device under test with the additional oscillator for input as the signal for testing.</claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>The test and measurement instrument of any preceding claim, in which the phase detector detects noise as phase angle in a sampled IQ pair</claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>The test and measurement instrument of claim 4 in which the phase corrector is structured to compensate an IQ signal derived from the sampled test signal based on the amount of phase angle measured by the phase detector.</claim-text></claim><claim id="c-en-0006" num="0006"><claim-text>The test and measurement instrument of any preceding claim, in which the additional oscillator is a comb generator.<!-- EPO <DP n="12"> --></claim-text></claim><claim id="c-en-0007" num="0007"><claim-text>The test and measurement instrument of any preceding claim, in which the additional oscillator is contained within the test and measurement instrument.</claim-text></claim><claim id="c-en-0008" num="0008"><claim-text>A method of reducing receiver noise in a receiver structured to accept an oscillating test signal, the method comprising:
<claim-text>receiving a second oscillating signal;</claim-text>
<claim-text>sampling the test signal and the second oscillating signal to create a sampled test signal and sampled oscillating signal;</claim-text>
<claim-text>measuring noise on the sampled oscillating signal; and</claim-text>
<claim-text>removing an amount of noise from the sampled test signal that is approximately equal to the measured noise.</claim-text></claim-text></claim><claim id="c-en-0009" num="0009"><claim-text>The method of reducing receiver noise of claim 11 in which measuring noise on the sampled oscillating signal comprises measuring a phase angle in an IQ pair generated from the sampled oscillating signal.</claim-text></claim><claim id="c-en-0010" num="0010"><claim-text>The method of reducing receiver noise of claim 11 or 12 in which removing an amount of noise from the sampled test signal comprises performing phase correction on an IQ pair generated from the sampled test signal in an amount approximately equal to the measured phase angle.</claim-text></claim><claim id="c-en-0011" num="0011"><claim-text>The method of reducing receiver noise of any preceding claim in which sampling the test signal and the oscillating signal comprises sampling the test signal and the oscillating signal by a common sampler.</claim-text></claim><claim id="c-en-0012" num="0012"><claim-text>The method of reducing receiver noise of any preceding claim in which sampling the test signal and the oscillating signal comprises sampling the test signal with a first sampler and sampling the oscillating signal by a second sampler, and further in which the first and second sampler are driven by a common sampling clock.</claim-text></claim></claims><drawings mxw-id="PDW20422361" load-source="patent-office"><!-- EPO <DP n="13"> --><figure id="f0001" num="1,2"><img id="if0001" file="imgf0001.tif" wi="158" he="188" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="14"> --><figure id="f0002" num="3,4"><img id="if0002" file="imgf0002.tif" wi="165" he="181" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="15"> --><figure id="f0003" num="5,6"><img id="if0003" file="imgf0003.tif" wi="165" he="217" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="16"> --><figure id="f0004" num="7"><img id="if0004" file="imgf0004.tif" wi="165" he="119" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="17"> --><figure id="f0005" num="8A,8B"><img id="if0005" file="imgf0005.tif" wi="165" he="232" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="18"> --><figure id="f0006" num="9A"><img id="if0006" file="imgf0006.tif" wi="165" he="213" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="19"> --><figure id="f0007" num="9B"><img id="if0007" file="imgf0007.tif" wi="165" he="213" img-content="drawing" img-format="tif"/></figure></drawings><search-report-data><doc-page id="srep0001" file="srep0001.tif" wi="159" he="233" type="tif"/><doc-page id="srep0002" file="srep0002.tif" wi="159" he="233" type="tif"/></search-report-data><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
