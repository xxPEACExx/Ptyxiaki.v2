<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2960802-A1" country="EP" doc-number="2960802" kind="A1" date="20151230" family-id="51390646" file-reference-id="294559" date-produced="20180824" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="160451475" ucid="EP-2960802-A1"><document-id><country>EP</country><doc-number>2960802</doc-number><kind>A1</kind><date>20151230</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-13875443-A" is-representative="YES"><document-id mxw-id="PAPP193865918" load-source="patent-office" format="original"><country>EP</country><doc-number>13875443.7</doc-number><date>20131204</date><lang>JA</lang></document-id><document-id mxw-id="PAPP193865919" load-source="docdb" format="epo"><country>EP</country><doc-number>13875443</doc-number><kind>A</kind><date>20131204</date><lang>JA</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC162026858" ucid="JP-2013007110-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>2013007110</doc-number><kind>W</kind><date>20131204</date></document-id></priority-claim><priority-claim mxw-id="PPC162033429" ucid="JP-2013032835-A" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>2013032835</doc-number><kind>A</kind><date>20130222</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-1892460036" load-source="docdb">H04M  11/00        20060101ALI20160920BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1892464063" load-source="docdb">H04L  29/08        20060101ALI20160920BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1892464836" load-source="docdb">H04W  88/04        20090101ALI20160920BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1892465522" load-source="docdb">G06F  13/00        20060101AFI20160920BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1892466413" load-source="docdb">H04W  84/12        20090101ALI20160920BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1892466916" load-source="docdb">H04W  84/20        20090101ALI20160920BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1892468001" load-source="docdb">H04W   4/00        20090101ALI20160920BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1984697033" load-source="docdb" scheme="CPC">H04L  67/1059      20130101 LI20160107BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1984699344" load-source="docdb" scheme="CPC">H04W   4/06        20130101 LI20160107BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1984702642" load-source="docdb" scheme="CPC">H04L  67/1076      20130101 FI20160107BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1984703130" load-source="docdb" scheme="CPC">H04W  84/20        20130101 LA20160107BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1984704375" load-source="docdb" scheme="CPC">H04L  67/1004      20130101 LI20160108BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987764016" load-source="docdb" scheme="CPC">H04L  67/16        20130101 LI20140929BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987765119" load-source="docdb" scheme="CPC">H04W  84/18        20130101 LA20140922BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987765329" load-source="docdb" scheme="CPC">H04W  88/04        20130101 LA20140929BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987777589" load-source="docdb" scheme="CPC">H04W  84/12        20130101 LA20140919BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT165545891" lang="DE" load-source="patent-office">SYSTEM ZUR GEMEINSAMEN DATENNUTZUNG</invention-title><invention-title mxw-id="PT165545892" lang="EN" load-source="patent-office">DATA SHARING SYSTEM</invention-title><invention-title mxw-id="PT165545893" lang="FR" load-source="patent-office">SYSTÈME DE PARTAGE DE DONNÉES</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR1103311483" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>NEC CORP</last-name><address><country>JP</country></address></addressbook></applicant><applicant mxw-id="PPAR1103315846" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>NEC CORPORATION</last-name></addressbook></applicant><applicant mxw-id="PPAR1101641253" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Nec Corporation</last-name><iid>101193625</iid><address><street>7-1, Shiba 5-chome Minato-ku</street><city>Tokyo 108-8001</city><country>JP</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR1103303815" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>KANNHAVONG BOUNPADITH</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR1103304797" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>KANNHAVONG, Bounpadith</last-name></addressbook></inventor><inventor mxw-id="PPAR1101653116" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>KANNHAVONG, Bounpadith</last-name><address><street>c/o NEC Corporation 7-1 Shiba 5-chome Minato-ku</street><city>Tokyo 108-8001</city><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR1103320319" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>FUJITA NORIHITO</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR1103327957" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>FUJITA, NORIHITO</last-name></addressbook></inventor><inventor mxw-id="PPAR1101649328" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>FUJITA, NORIHITO</last-name><address><street>c/o NEC Corporation 7-1 Shiba 5-chome Minato-ku</street><city>Tokyo 108-8001</city><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR1103317630" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>UEDA HIROFUMI</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR1103308570" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>UEDA, HIROFUMI</last-name></addressbook></inventor><inventor mxw-id="PPAR1101643084" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>UEDA, HIROFUMI</last-name><address><street>c/o NEC Corporation 7-1 Shiba 5-chome Minato-ku</street><city>Tokyo 108-8001</city><country>JP</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR1101646894" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>MacDougall, Alan John Shaw</last-name><suffix>et al</suffix><iid>100779070</iid><address><street>Mathys &amp; Squire LLP The Shard 32 London Bridge Street</street><city>London SE1 9SG</city><country>GB</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="JP-2013007110-W"><document-id><country>JP</country><doc-number>2013007110</doc-number><kind>W</kind><date>20131204</date><lang>JA</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2014128806-A1"><document-id><country>WO</country><doc-number>2014128806</doc-number><kind>A1</kind><date>20140828</date><lang>JA</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS660606587" load-source="docdb">AL</country><country mxw-id="DS660685601" load-source="docdb">AT</country><country mxw-id="DS660687855" load-source="docdb">BE</country><country mxw-id="DS660783493" load-source="docdb">BG</country><country mxw-id="DS660611053" load-source="docdb">CH</country><country mxw-id="DS660687856" load-source="docdb">CY</country><country mxw-id="DS660685602" load-source="docdb">CZ</country><country mxw-id="DS660606589" load-source="docdb">DE</country><country mxw-id="DS660687857" load-source="docdb">DK</country><country mxw-id="DS660687858" load-source="docdb">EE</country><country mxw-id="DS660610572" load-source="docdb">ES</country><country mxw-id="DS660783494" load-source="docdb">FI</country><country mxw-id="DS660611054" load-source="docdb">FR</country><country mxw-id="DS660606590" load-source="docdb">GB</country><country mxw-id="DS660687871" load-source="docdb">GR</country><country mxw-id="DS660606591" load-source="docdb">HR</country><country mxw-id="DS660685607" load-source="docdb">HU</country><country mxw-id="DS660611059" load-source="docdb">IE</country><country mxw-id="DS660687872" load-source="docdb">IS</country><country mxw-id="DS660783495" load-source="docdb">IT</country><country mxw-id="DS660687873" load-source="docdb">LI</country><country mxw-id="DS660783496" load-source="docdb">LT</country><country mxw-id="DS660685170" load-source="docdb">LU</country><country mxw-id="DS660783497" load-source="docdb">LV</country><country mxw-id="DS660783498" load-source="docdb">MC</country><country mxw-id="DS660685207" load-source="docdb">MK</country><country mxw-id="DS660685208" load-source="docdb">MT</country><country mxw-id="DS660685209" load-source="docdb">NL</country><country mxw-id="DS660611060" load-source="docdb">NO</country><country mxw-id="DS660685210" load-source="docdb">PL</country><country mxw-id="DS660610573" load-source="docdb">PT</country><country mxw-id="DS660690540" load-source="docdb">RO</country><country mxw-id="DS660610574" load-source="docdb">RS</country><country mxw-id="DS660685215" load-source="docdb">SE</country><country mxw-id="DS660606593" load-source="docdb">SI</country><country mxw-id="DS660611061" load-source="docdb">SK</country><country mxw-id="DS660611062" load-source="docdb">SM</country><country mxw-id="DS660687874" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA166479845" lang="EN" load-source="patent-office"><p id="pa01" num="0001">Individual communication terminals are connected to a communication network in which one communication terminal functions as a parent that has a relay function, the other communication terminals function as children, and transmitting and receiving of communication messages between child communication terminals are performed via the parent. Each communication terminal transmits a holding list that lists information about data that the own communication terminal holds, to other communication terminals. Further, each communication terminal temporarily stores holding lists received from other communication terminals. Each communication terminal, while it does not function as a parent, preferentially selects the holding list that does not match that of the own communication terminal and whose transmission source is the parent communication terminal, among the stored holding lists, and, while the own communication terminal functions as a parent, selects any holding list that does not match that of the own communication terminal. Each communication terminal transmits and receives communication messages with another communication terminal that is a transmission source of the selected holding list so that data sharing is performed.<img id="iaf01" file="imgaf001.tif" wi="78" he="86" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA166759657" lang="EN" source="EPO" load-source="docdb"><p>Individual communication terminals are connected to a communication network in which one communication terminal functions as a parent that has a relay function, the other communication terminals function as children, and transmitting and receiving of communication messages between child communication terminals are performed via the parent. Each communication terminal transmits a holding list that lists information about data that the own communication terminal holds, to other communication terminals. Further, each communication terminal temporarily stores holding lists received from other communication terminals. Each communication terminal, while it does not function as a parent, preferentially selects the holding list that does not match that of the own communication terminal and whose transmission source is the parent communication terminal, among the stored holding lists, and, while the own communication terminal functions as a parent, selects any holding list that does not match that of the own communication terminal. Each communication terminal transmits and receives communication messages with another communication terminal that is a transmission source of the selected holding list so that data sharing is performed.</p></abstract><description mxw-id="PDES98404546" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001">[Technical Field]</heading><p id="p0001" num="0001">The present invention relates to a data sharing system, a data sharing method, a communication terminal, and a program wherein data are shared between a plurality of communication terminals capable of wirelessly communicating with one another.</p><heading id="h0002">[Background Art]</heading><p id="p0002" num="0002">As a type of method wherein data are shared between a plurality of communication terminals, there is a method in which data are shared in a distributed manner by individual communication terminals without using a central management apparatus such as a server.</p><p id="p0003" num="0003">For example, exchange and synchronization of information held by each communication terminal by using an epidemic method while communication terminals move close to one another have been proposed as a first related technology related to the present invention (refer to, for example, NPL 1). In an epidemic method, as illustrated in <figref idrefs="f0013">Fig. 13</figref>, when a communication terminal in a network detects another communication terminal, the communication terminal and the other communication terminal exchange a holding list (also referred to as "summary vector") that lists data (content) held by the own communication terminal, so that the communication terminal acquires the content of the holding list held by the other communication terminal. Then, the communication terminal transmits and receives communication messages to and from another communication terminal holding a holding list that does not match the holding list of the own communication terminal so as to perform data<!-- EPO <DP n="2"> --> sharing.</p><p id="p0004" num="0004">On the other hand, in a system that distributes content by using an overlay network logically formed on an IP network, a management server that manages, in a centralized manner, content holding status at each node has been proposed as a second related technology related to the present invention (refer to, for example, PTL 1). The management server in the second related technology, when acquiring a content request from a user terminal, selects a node having the smallest number of hops to the user terminal, among a plurality of nodes that hold the requested content, as a content distribution source node.</p><heading id="h0003">[Citation List]</heading><heading id="h0004">[Patent Literature]</heading><p id="p0005" num="0005">[PTL 1] <patcit id="pcit0001" dnum="JP2012114649A"><text>Japanese Laid-open Patent Publication No. 2012-114649</text></patcit></p><heading id="h0005">[Non Patent Literature]</heading><p id="p0006" num="0006">[NPL 1]<nplcit id="ncit0001" npl-type="s"><text> A. Vahdat, D. Becker, "Epidemic Routing for Partially-Connected Ad Hoc Networks, " Tech. Report CS-200006, Duke University, Apr. 2000</text></nplcit></p><heading id="h0006">[Summary of Invention]</heading><heading id="h0007">[Technical Problem]</heading><p id="p0007" num="0007">In the aforementioned first related technology, each communication terminal, when receiving holding lists different from the holding list of the own communication terminal in succession from a plurality of other communication terminals, performs data exchange with one of the other communication terminals whose holding list is the earliest to be received,<!-- EPO <DP n="3"> --> by transmitting and receiving communication messages to and from the other communication terminal. Therefore, there may be inefficient cases that, although another communication terminal with a smaller number of hops exists in a communication-available area of the own communication terminal, data exchange is performed with still another communication terminal with a larger number of hops. As indicated by the aforementioned second related technology, in a content distribution system in an IP-network, a node with the smallest number of hops to a user terminal can be selected among a plurality of nodes that hold the requested content, as a content distribution source node, by centrally managing content holding status at each node. However, in a system as indicated by the aforementioned first related technology in which data are shared in a distributed manner by individual communication terminals, it is impossible to centrally manage the data holding status at each communication terminal.</p><p id="p0008" num="0008">An object of the present invention is to provide a data sharing system that solves the aforementioned problem, in other words, the problem that each communication terminal, when receiving holding lists different from the holding list of the own communication terminal in succession from a plurality of other communication terminals, is subject to inefficient data exchange with a communication terminal with a large number of hops.</p><heading id="h0008">[Solution to Problem]</heading><p id="p0009" num="0009">A data sharing system according to a first aspect of the present invention is<br/>
a data sharing system in which data are shared between a plurality of communication terminals connected to a communication network in<!-- EPO <DP n="4"> --> which, of the plurality of communication terminals, one communication terminal functions as a parent that has a relay function and the other communication terminals function as children that do not have the relay function, and transmitting and receiving of a communication message between the child communication terminals are performed via the parent,<br/>
each of the communication terminals including:
<ul><li>a communication unit that stores information related to the parent and controls enabling/disabling of the relay function of the own communication terminal in accordance with the stored parent-related information;</li><li>a data storage unit that stores one or more pieces of data;</li><li>a holding list transmission unit that transmits a holding list that lists information about data stored in the data storage unit to another of the communication terminals through use of the communication message; and</li><li>a data exchange unit that includes a holding list storage unit that temporarily stores the holding list received from another of the communication terminals, refers to the parent-related information in the communication unit, preferentially selects, while the own communication terminal does not function as the parent, the holding list that does not match the holding list of the own communication terminal and whose transmission source is the parent communication terminal, among the holding lists stored in the holding list storage unit, selects, while the own communication terminal functions as the parent, any of the holding lists that do not match the holding list of the own communication terminal among the holding lists stored in the holding list storage unit, and transmits and receives the communication message to and from the other communication terminal that is a transmission source of the selected holding list so that data sharing is performed.</li></ul></p><p id="p0010" num="0010"><!-- EPO <DP n="5"> --> A data sharing method according to a second aspect of the present invention is<br/>
a data sharing method in which data are shared between a plurality of communication terminals connected to a communication network in which, of the plurality of communication terminals, one communication terminal functions as a parent that has a relay function and the other communication terminals function as children that do not have the relay function, and transmitting and receiving of a communication message between the child communication terminals are performed via the parent, wherein:<br/>
each of the communication terminals transmits a holding list that lists information about data held by the own communication terminal to another of the communication terminals through use of the communication message; and<br/>
each of the communication terminals temporarily stores the holding list received from another of the communication terminals, preferentially selects, while the own communication terminal does not function as the parent, the holding list that does not match the holding list of the own communication terminal and whose transmission source is the parent communication terminal, among the stored holding lists, selects, while the own communication terminal functions as the parent, any of the holding lists that do not match the holding list of the own communication terminal among the stored holding lists, and transmits and receives the communication message to and from the other communication terminal that is a transmission source of the selected holding list so that data sharing is performed.</p><p id="p0011" num="0011">A communication terminal according to a third aspect of the present invention is<br/>
<!-- EPO <DP n="6"> -->a communication terminal connected to a communication network in which, of a plurality of communication terminals, one communication terminal functions as a parent that has a relay function and the other communication terminals function as children that do not have the relay function, and transmitting and receiving of a communication message between the child communication terminals are performed via the parent, the communication terminal including:<br/>
a communication unit that stores information related to the parent and controls enabling/disabling of the relay function of the own communication terminal in accordance with the stored parent-related information;<br/>
a data storage unit that stores one or more pieces of data;<br/>
a holding list transmission unit that transmits a holding list that lists information about data stored in the data storage unit to another of the communication terminals through use of the communication message; and<br/>
a data exchange unit that includes a holding list storage unit that temporarily stores the holding list received from another of the communication terminals, refers to the parent-related information in the communication unit, preferentially selects, while the own communication terminal does not function as the parent, the holding list that does not match the holding list of the own communication terminal and whose transmission source is the parent communication terminal, among the holding lists stored in the holding list storage unit, selects, while the own communication terminal functions as the parent, any of the holding lists that do not match the holding list of the own communication terminal among the holding lists stored in the holding list storage unit, and transmits and receives the communication message to and from the other communication terminal that is a transmission source of the selected holding list so that data sharing is performed.<!-- EPO <DP n="7"> --></p><p id="p0012" num="0012">A data sharing method according to a fourth aspect of the present invention is<br/>
a data sharing method that is executed by a plurality of communication terminals connected to a communication network in which, of the plurality of communication terminals, one communication terminal functions as a parent that has a relay function and the other communication terminals function as children that do not have the relay function, and transmitting and receiving of a communication message between the child communication terminals are performed via the parent, wherein<br/>
the communication terminal:
<ul><li>includes a communication unit that stores information related to the parent and controls enabling/disabling of the relay function of the own communication terminal in accordance with the stored parent-related information, a data storage unit that stores one or more pieces of data, and a holding list storage unit;</li><li>receives, from another of the communication terminals, a holding list that lists information about data held by the other communication terminal and temporarily stores the holding list in the holding list storage unit;</li><li>refers to the parent-related information in the communication unit, preferentially selects, while the own communication terminal does not function as the parent, the holding list that does not match the holding list of the own communication terminal and whose transmission source is the parent communication terminal, among the holding lists stored in the holding list storage unit, and selects, while the own communication terminal functions as the parent, any of the holding lists that do not match the holding list of the own communication terminal among the holding lists stored in the holding list storage unit; and<!-- EPO <DP n="8"> --></li><li>transmits and receives the communication message to and from the other communication terminal that is a transmission source of the selected holding list so that data sharing is performed.</li></ul></p><p id="p0013" num="0013">A program according to a fifth aspect of the present invention is<br/>
a program for causing a computer that constitutes each of a plurality of communication terminals connected to a communication network in which, of the plurality of communication terminals, one communication terminal functions as a parent that has a relay function and the other communication terminals function as children that do not have the relay function, and transmitting and receiving of a communication message between the child communication terminals are performed via the parent, to function as:
<ul><li>a communication unit that stores information related to the parent and controls enabling/disabling of the relay function of the own communication terminal in accordance with the stored parent-related information;</li><li>a data storage unit that stores one or more pieces of data;</li><li>a holding list transmission unit that transmits a holding list that lists information about data stored in the data storage unit to another of the communication terminals through use of the communication message; and</li><li>a data exchange unit that includes a holding list storage unit that temporarily stores the holding list received from another of the communication terminals, refers to the parent-related information in the communication unit, preferentially selects, while the own communication terminal does not function as the parent, the holding list that does not match the holding list of the own communication terminal and whose transmission source is the parent communication terminal, among the holding lists stored in the holding list storage unit, selects, while the own<!-- EPO <DP n="9"> --> communication terminal functions as the parent, any of the holding lists that do not match the holding list of the own communication terminal among the holding lists stored in the holding list storage unit, and transmits and receives the communication message to and from the other communication terminal that is a transmission source of the selected holding list so that data sharing is performed.</li></ul></p><heading id="h0009">[Advantageous Effects of Invention]</heading><p id="p0014" num="0014">The aforementioned configuration of the present invention enables each communication terminal, when receiving holding lists in succession that are different from the holding list of the own communication terminal from a plurality of other communication terminals, to perform data exchange with a communication terminal with a smaller number of hops.</p><heading id="h0010">[Brief Description of Drawings]</heading><p id="p0015" num="0015"><ul><li>[<figref idrefs="f0001">Fig. 1] Fig. 1</figref> is a block diagram of a data sharing system according to a first exemplary embodiment of the present invention.</li><li>[<figref idrefs="f0002">Fig. 2] Fig. 2</figref> is a block diagram of a communication terminal according to the first exemplary embodiment of the present invention.</li><li>[<figref idrefs="f0003">Fig. 3] Fig. 3</figref> is a flowchart illustrating a data sharing procedure in the data sharing system according to the first exemplary embodiment of the present invention.</li><li>[<figref idrefs="f0004">Fig. 4] Fig. 4</figref> is a diagram illustrating an example of a scene in which data are shared between a plurality of communication terminals according to the first exemplary embodiment of the present invention.</li><li>[<figref idrefs="f0005">Fig. 5] Fig. 5</figref> is a diagram illustrating another example of a scene in which data are shared between a plurality of communication terminals according to the first exemplary embodiment of the present invention.</li><li>[<figref idrefs="f0006">Fig. 6] Fig. 6</figref> is a block diagram of a data sharing system according<!-- EPO <DP n="10"> --> to a second exemplary embodiment of the present invention.</li><li>[<figref idrefs="f0007">Fig. 7] Fig. 7</figref> is a block diagram of a communication terminal according to the second exemplary embodiment of the present invention.</li><li>[<figref idrefs="f0008">Fig. 8] Fig. 8</figref> is an explanatory diagram of a data exchange method in the data sharing system according to the second exemplary embodiment of the present invention.</li><li>[<figref idrefs="f0009">Fig. 9] Fig. 9</figref> is a flowchart illustrating a data sharing procedure in the data sharing system according to the second exemplary embodiment of the present invention.</li><li>[<figref idrefs="f0010">Fig. 10] Fig. 10</figref> is a diagram illustrating an example of a scene in which data are shared between a plurality of communication terminals according to the second exemplary embodiment of the present invention.</li><li>[<figref idrefs="f0011">Fig. 11] Fig. 11</figref> is a diagram illustrating another example of a scene in which data are shared between a plurality of communication terminals according to the second exemplary embodiment of the present invention.</li><li>[<figref idrefs="f0012">Fig. 12] Fig. 12</figref> is a block diagram of a communication terminal included in a data sharing system according to a sixth exemplary embodiment of the present invention.</li><li>[<figref idrefs="f0013">Fig. 13] Fig. 13</figref> is a diagram illustrating an example of a procedure of data sharing by an epidemic method.</li></ul></p><heading id="h0011">[Description of Embodiments]</heading><p id="p0016" num="0016">Next, exemplary embodiments of the present invention will be described in detail with reference to the drawings.</p><heading id="h0012">[First Embodiment]</heading><p id="p0017" num="0017">Referring to <figref idrefs="f0001">Fig. 1</figref>, in a data sharing system 100 according to a first exemplary embodiment of the present invention, a plurality of communication terminals 110 capable of wirelessly transmitting and<!-- EPO <DP n="11"> --> receiving communication messages to and from one another form one communication network 120. As for the individual communication terminals 110, all of the terminals may be mobile communication terminals, or some of the terminals may be mobile communication terminals and the others may be fixed terminals. Although in <figref idrefs="f0001">Fig. 1</figref> only three communication terminals are drawn, the number of communication terminals may be two or less or may also be four or more.</p><p id="p0018" num="0018">The communication network 120 has a hierarchized network topology. In the present exemplary embodiment, the network topology is made up of two hierarchies, a parent and a child, and, of the plurality of communication terminals 110 connected to the communication network 120, only one communication terminal 110 functions as a parent and all the other communication terminals 120 function as children. In the communication network 120, transmitting and receiving of communication messages between the child communication terminals 110 are performed via the parent communication terminal 110. In other words, the parent communication terminal 110 functions as an access point.</p><p id="p0019" num="0019"><figref idrefs="f0002">Fig. 2</figref> illustrates a configuration example of a communication terminal 110. Referring to <figref idrefs="f0002">Fig. 2</figref>, the communication terminal 110 includes a communication unit 111, a data storage unit 112, a holding list transmission unit 113, and a data exchange unit 114.</p><p id="p0020" num="0020">The communication unit 111 has a function of wirelessly transmitting and receiving communication messages to and from other communication terminals 110. The communication unit 111 stores parent-related information 115 in the communication network 120, and controls enabling/disabling of a relay function in accordance with the<!-- EPO <DP n="12"> --> parent-related information 115. Specifically, while the own communication terminal 110 is a parent communication terminal in the communication network 120, the communication unit 111 enables the relay function and relays communication from a child communication terminal 110 to another child communication terminal 110 in the communication network 120.</p><p id="p0021" num="0021">The data storage unit 112 stores one or more pieces of data. Choice of individual data is arbitrary. For example, the data may include any of text data, image data, and audio data, as well as mixture thereof. Further, the data may be what is called content.</p><p id="p0022" num="0022">The holding list transmission unit 113 has a function of transmitting a holding list that lists information about data stored in the data storage unit 112 to other communication terminals 110 through the communication unit 111. The information about data in the list is arbitrary as long as the data can be identified by the information, and, for example, the information may be a summary vector or may also be a data identifier. The holding list transmission unit 113 carries out transmission of a holding list, for example, in every fixed cycle.</p><p id="p0023" num="0023">The data exchange unit 114 has a function of transmitting and receiving communication messages to and from another communication terminal 110 through the communication unit 111 so as to perform data sharing. The data exchange unit 114 includes a holding list storage unit 116 that temporarily stores a holding list received from another communication terminal 110. How long holding lists in the past are to be stored in the holding list storage unit 116 is arbitrary, and the time may be a fixed period in the past or may also be variable. The data exchange unit<!-- EPO <DP n="13"> --></p><p id="p0024" num="0024">114 refers to the parent-related information 115 in the communication unit 111 and performs different operations depending on whether the own communication terminal 110 functions as a parent or not. While the own communication terminal 110 does not function as a parent, the data exchange unit 114 preferentially selects a holding list that does not match the holding list of the own communication terminal and whose transmission source is the parent communication terminal 110, among the holding lists stored in the holding list storage unit 116, and transmits and receives communication messages to and from another communication terminal 110 that is a transmission source of the selected holding list so as to perform data sharing. On the other hand, while the own communication terminal 110 functions as a parent, the data exchange unit 114 selects any holding list that does not match the holding list of the own communication terminal 110 among the holding lists stored in the holding list storage unit 116, and transmits and receives communication messages to and from another communication terminal 110 that is a transmission source of the selected holding list so as to perform data sharing.</p><p id="p0025" num="0025">Next, in the data sharing system illustrated in <figref idrefs="f0001">Fig. 1</figref>, an operation in which each of the plurality of communication terminals 110 shares holding data with one another will be described with reference to a flowchart in <figref idrefs="f0003">Fig. 3</figref>.</p><p id="p0026" num="0026">Each communication terminal 110 in the data sharing system 100 transmits, using the holding list transmission unit 113, a holding list that lists data held by the own communication terminal to other communication terminals 110 through the communication unit 111 (Step S1).</p><p id="p0027" num="0027">Further, each communication terminal 110, when receiving a<!-- EPO <DP n="14"> --> holding list from another communication terminal 110, temporarily stores the received holding list into the holding list storage unit 116 in the data exchange unit 114 (Step S2).</p><p id="p0028" num="0028">Then, each communication terminal 110 transmits and receives, using the data exchange unit 114, communication messages to and from another communication terminal 110 holding a holding list that does not match the holding list of the own communication terminal through the communication unit 111 so as to perform data sharing (Step S3). Specifically, a communication terminal 110 that does not function as a parent but as a child preferentially selects a holding list that does not match the holding list of the own communication terminal and whose transmission source is the parent communication terminal 110, among the holding lists stored in the holding list storage unit 116, by using the data exchange unit 114. Then, the communication terminal 110 that functions as a child transmits and receives, using the data exchange unit 114, communication messages to and from another communication terminal 110 that is a transmission source of the selected holding list so that data sharing is performed. Further, the communication terminal 110 that functions as a parent, using the data exchange unit 114, selects, among the holding lists stored in the holding list storage unit 116, any holding list that does not match the holding list of the own communication terminal 110. Then, the communication terminal 110 that functions as a parent transmits and receives, using the data exchange unit 114, communication messages to and from another communication terminal 110 that is a transmission source of the selected holding list so that data sharing is performed.</p><p id="p0029" num="0029">Subsequently, the processing of the steps S1 to S3 mentioned above<!-- EPO <DP n="15"> --> is repeatedly performed.</p><p id="p0030" num="0030">By the aforementioned operation, data are shared between the plurality of communication terminals 110.</p><p id="p0031" num="0031">Next, the operation of the present exemplary embodiment will be more specifically described by taking, as an example, a case that, in the data sharing system illustrated in <figref idrefs="f0001">Fig. 1</figref>, of the three communication terminals 110 connected to the communication network 120, the communication terminal 110-1 functions as a parent and the communication terminals 110-2 and 110-3 function as children.</p><p id="p0032" num="0032">As illustrated in <figref idrefs="f0004">Fig. 4(A)</figref>, it is assumed that the parent communication terminal 110-1 and the child communication terminal 110-3 hold the same data A and the child communication terminal 110-2 does not hold any data. It is assumed that, in this situation, the communication terminal 110-2 receives a holding list 131 from the communication terminal 110-3 and, immediately thereafter, receives a holding list 132 from the parent communication terminal 110-1.</p><p id="p0033" num="0033">The communication terminal 110-2 temporarily stores the holding lists 131 and 132 received in succession into the holding list storage unit 116. Then, the communication terminal 110-2, because of being a child communication terminal, preferentially selects the holding list 132 of the parent communication terminal 110-1 from the holding list storage unit 116. Then, the communication terminal 110-2 transmits and receives communication messages to and from the communication terminal 110-1 that is a transmission source of the selected holding list 132 so that data sharing is performed. As a result, as illustrated in <figref idrefs="f0004">Fig. 4(B)</figref>, the<!-- EPO <DP n="16"> --> communication terminal 110-2 acquires the data A not present in the own communication terminal from the parent communication terminal 110-1. Consequently, one-hop communication brings about a state in which all the communication terminals 110 share the same data A with one another.</p><p id="p0034" num="0034">In contrast, in case of the communication terminal 110-2 selects the holding list 131 received earlier and acquires the data A from the communication terminal 110-3 that is a transmission source of the selected holding list 131, two-hop communication is needed.</p><p id="p0035" num="0035">Further, it is assumed that, as illustrated in <figref idrefs="f0005">Fig. 5(A)</figref>, the child communication terminal 110-2 holds data B and the parent communication terminal 110-1 and the child communication terminal 110-3 do not hold any data. It is assumed that, in this situation, the communication terminal 110-2 receives a holding list 141 from the communication terminal 110-3 and, immediately thereafter, receives a holding list 142 from the parent communication terminal 110-1.</p><p id="p0036" num="0036">The communication terminal 110-2 temporarily stores the holding lists 141 and 142 received in succession into the holding list storage unit 116. Then, the communication terminal 110-2, because of being a child communication terminal, preferentially selects the holding list 142 of the parent communication terminal 110-1 from the holding list storage unit 116. Then, the communication terminal 110-2 transmits and receives communication messages to and from the communication terminal 110-1 that is a transmission source of the selected holding list 142 so as to perform data sharing. As a result, as illustrated in <figref idrefs="f0005">Fig. 5(B)</figref>, the communication terminal 110-2 provides the data B that the communication terminal 110-1 does not hold, for the communication terminal 110-1.<!-- EPO <DP n="17"> --> Consequently, one-hop communication brings about a state in which the communication terminal 110-1 and the communication terminal 110-2 hold the same data B and the communication terminal 110-3 does not hold any data. This state is the same as the state illustrated in <figref idrefs="f0004">Fig. 4(A)</figref>. Therefore, from the state illustrated in <figref idrefs="f0005">Fig. 5(B)</figref>, one-hop communication brings about a state in which all the communication terminals 110 share the same data B with one another. Therefore, from the state in <figref idrefs="f0005">Fig. 5(A)</figref>, performing one-hop communication twice brings about the state in which all the communication terminals 110 share the same data B with one another.</p><p id="p0037" num="0037">In contrast, in case of the communication terminal 110-2 selects the holding list 141 received earlier and provides the data B for the communication terminal 110-3 that is a transmission source of the selected holding list 141, two-hop communication is needed. Then, in order for the communication terminal 110-1 to subsequently acquire the data B from the communication terminal 110-2 or the communication terminal 110-3, another one-hop communication is needed. Therefore, communication of three hops in total is needed.</p><p id="p0038" num="0038">Thus, according to the present exemplary embodiment, each communication terminal, when receiving in succession holding lists different from the holding list of the own communication terminal from a plurality of other communication terminals, is able to perform data exchange with communication terminals with which the number of hops is smaller. A reason for this is that each communication terminal temporarily stores received holding lists, and, while the own communication terminal is not a parent, preferentially selects, among the stored holding lists, a holding list that does not match the holding list of<!-- EPO <DP n="18"> --> the own communication terminal and whose transmission source is the parent communication terminal, and transmits and receives communication messages with another communication terminal that is a transmission source of the selected holding list so that data sharing is performed.</p><heading id="h0013">[Second Embodiment]</heading><p id="p0039" num="0039">Referring to <figref idrefs="f0006">Fig. 6</figref>, in a data sharing system 200 according to a second exemplary embodiment of the present invention, a plurality of communication terminals 210 capable of wirelessly transmitting and receiving communication messages to and from one another form one communication network 220. As for the individual communication terminals 210, all of the terminals may be mobile communication terminals, or some of the terminals may be mobile communication terminals and the others may be fixed terminals. Although in <figref idrefs="f0006">Fig. 6</figref> only three communication terminals are drawn, the number of communication terminals may be two or less, or may also be four or more.</p><p id="p0040" num="0040">The communication network 220 is a communication network that conforms to a Wi-Fi Direct specification. In a network that conforms to a Wi-Fi direct specification, only one communication terminal among a plurality of communication terminals participating in the network is selected as a group owner (parent) to function as an access point. Further, the aforementioned group owner is selected through negotiation among the plurality of communication terminals participating in the network.</p><p id="p0041" num="0041"><figref idrefs="f0007">Fig. 7</figref> illustrates a configuration example of a communication terminal 210. Referring to <figref idrefs="f0007">Fig. 7</figref>, the communication terminal 210 includes a communication unit 211, a data storage unit 212, a holding list transmission unit 213, and a data exchange unit 214.<!-- EPO <DP n="19"> --></p><p id="p0042" num="0042">The data storage unit 212 and the holding list transmission unit 213 have the same functions as the data storage unit 112 and the holding list transmission unit 113, respectively, of the communication terminal 110 according to the first exemplary embodiment illustrated in <figref idrefs="f0002">Fig. 2</figref>.</p><p id="p0043" num="0043">The communication unit 211 has a function of determining a group owner (parent) through negotiation with other communication terminals 210 and storing information 215 related to the determined parent. Further, the communication unit 211 controls enabling/disabling of a relay function in accordance with the parent-related information 215. Specifically, while the own communication terminal 210 is a parent communication terminal in the communication network 220, the communication unit 211 enables the relay function and relays communication from a child communication terminal 210 to another child communication terminal 210 in the communication network 220.</p><p id="p0044" num="0044">The data exchange unit 214 has a function of transmitting and receiving communication messages to and from another communication terminal 210 through the communication unit 211 so as to perform data sharing. The data exchange unit 214 includes a holding list storage unit 216, a comparison unit 217, a pull-type data exchange unit 218, and a push-type data exchange unit 219.</p><p id="p0045" num="0045">The holding list storage unit 216 has a function of temporarily storing a holding list received from another communication terminal 210.</p><p id="p0046" num="0046">The comparison unit 217 has a function of comparing a holding list received from another communication terminal 210 and stored in the<!-- EPO <DP n="20"> --> holding list storage unit 216 with the holding list of the own communication terminal. Further, the comparison unit 217 has a function of determining, based on a result of the comparison and the parent-related information 215 stored in the communication unit 211, another communication terminal 210 to acquire data and a list of the data to be acquired, and another communication terminal 210 to provide data and a list of the data to be provided.</p><p id="p0047" num="0047">The pull-type data exchange unit 218, as illustrated in <figref idrefs="f0008">Fig. 8(A)</figref>, has a function of performing data sharing between communication terminals by a method in which a communication terminal that does not hold data transmits a data request to another communication terminal that holds the data and the communication terminal that receives the data request transmits the data to the communication terminal that is a source of the request. The pull-type data exchange unit 218 includes a data request unit 2181 and a data reply unit 2182. The data request unit 2181 has a function of receiving, from the comparison unit 217, another communication terminal 210 to acquire data and a list of the data to be acquired. Further, the data request unit 2181 has a function of making a request for data to another communication terminal 210 through the communication unit 211, receiving, through the communication unit 211, the data transmitted from the other communication terminal 210 through use of a communication message in response to the request, and storing the data into the data storage unit 212. On the other hand, the data reply unit 2182 has a function of reading out, from the data storage unit 212, data requested by the pull-type data exchange unit 218 of another communication terminal 210 through use of a communication message and transmitting the data to the other communication terminal 210 through the communication unit 211.<!-- EPO <DP n="21"> --></p><p id="p0048" num="0048">The push-type data exchange unit 219, as illustrated in <figref idrefs="f0008">Fig. 8(B)</figref>, has a function of performing data exchange between communication terminals by a method in which a communication terminal that holds data transmits data to another communication terminal that does not hold the data without a data request from the other communication terminal. The push-type data exchange unit 219 includes a data transmission unit 2191 and a data reception unit 2192. The data transmission unit 2191 has a function of receiving, from the comparison unit 217, another communication terminal 210 to provide data and a list of the data to be provided. Further, the data transmission unit 2191 has a function of reading out data to be provided from the data storage unit 212 and transmitting the data to another communication terminal 210 through the communication unit 211. On the other hand, the data reception unit 2192 has a function of storing, into the data storage unit 212, data received from the push-type data exchange unit 219 of another communication terminal 210 through use of a communication message.</p><p id="p0049" num="0049">Next, in the data sharing system 200 according to the present exemplary embodiment, an operation in which each of a plurality of communication terminals 210 shares respective holding data with one another will be described with reference to a flowchart in <figref idrefs="f0009">Fig. 9</figref>.</p><p id="p0050" num="0050">In case of data sharing is performed in the data sharing system 200, first, each communication terminal 210 negotiates, using the communication unit 211, with other communication terminals 210 as to which communication terminal of the communication terminals connected to the communication network 220 is determined as a parent (Step S11). As a result of the negotiation, information 215 related to the determined<!-- EPO <DP n="22"> --> parent is temporarily stored in the communication unit 211.</p><p id="p0051" num="0051">Next, each communication terminal 210 transmits, using the holding list transmission unit 213, a holding list that lists data held by the own communication terminal to other communication terminals 210 through the communication unit 211 (Step S12).</p><p id="p0052" num="0052">Further, each communication terminal 210, when receiving a holding list from another communication terminal 210, temporarily stores the received holding list in the holding list storage unit 216 in the data exchange unit 214 (Step S13).</p><p id="p0053" num="0053">Then, each communication terminal 210 transmits and receives, using the data exchange unit 214, communication messages through the communication unit 211 to and from another communication terminal 210 holding a holding list that does not match the holding list of the own communication terminal, so as to perform data sharing (Step S14). At this time, each communication terminal 210 that functions as a child preferentially selects a holding list that does not match the holding list of the own communication terminal and whose transmission source is the parent communication terminal 210, among the holding lists stored in the holding list storage unit 216. Then, each communication terminal 210 that functions as a child performs the pull-type data exchange and/or the push-type data exchange with the other communication terminal 210 that is a transmission source of the selected holding list. Further, the communication terminal 210 that functions as a parent selects any holding list that does not match the holding list of the own communication terminal 210 among the holding lists stored in the holding list storage unit 216. Then, the communication terminal 210 that functions as a parent performs<!-- EPO <DP n="23"> --> the pull-type data exchange and/or the push-type data exchange with the other communication terminal 210 that is a transmission source of the selected holding list.</p><p id="p0054" num="0054">Subsequently, the processing of the aforementioned steps S12 to S13 is repeated. Alternatively, in a case that the parent communication terminal 210 departs from the communication network 220, or the like, the processing of the aforementioned steps S11 to S 14 may be repeated.</p><p id="p0055" num="0055">By the aforementioned operation, data are shared between the plurality of communication terminals 210.</p><p id="p0056" num="0056">It is assumed that, as illustrated in <figref idrefs="f0010">Fig. 10(A)</figref>, a parent communication terminal 210-1 and a child communication terminal 210-3 hold data A, and a child communication terminal 210-2 holds data B. It is assumed that, in this situation, the communication terminal 210-2 receives a holding list 231 from the communication terminal 210-3 and, immediately thereafter, receives a holding list 232 from the parent communication terminal 210-1.</p><p id="p0057" num="0057">The communication terminal 210-2 temporarily stores the holding lists 231 and 232 received in succession into the holding list storage unit 216. Then, the communication terminal 210-2, because of being a child communication terminal, preferentially selects the holding list 232 of the parent communication terminal 210-1 from the holding list storage unit 216. Then, the communication terminal 210-2 transmits and receives communication messages to and from the communication terminal 210-1 that is a transmission source of the selected holding list 232 so that data sharing is performed. As a result, as illustrated in <figref idrefs="f0010">Fig. 10(B)</figref>, the<!-- EPO <DP n="24"> --> communication terminal 210-2 acquires the data A not present in the own communication terminal from the communication terminal 210-1 by the pull-type data exchange method. Further, the communication terminal 210-2 provides the data B not present in the communication terminal 210-1 for the communication terminal 210-1 by the push-type data exchange method. In contrast, in case of the communication terminal 210-2 selects the holding list 231 received earlier and performs acquisition of the data A and provision of the data B with the communication terminal 210-3 that is a transmission source of the selected holding list 231, two-hop communication is respectively needed.</p><p id="p0058" num="0058">Further, it is assumed that, as illustrated in <figref idrefs="f0011">Fig. 11(A)</figref>, the parent communication terminal 210-1 and the child communication terminal 210-2 hold data A and B and the child communication terminal 210-3 holds the data A. It is assumed that, in this situation, the communication terminal 210-3 receives a holding list 241 from the communication terminal 210-2 and, immediately thereafter, receives a holding list 242 from the parent communication terminal 210-1.</p><p id="p0059" num="0059">The communication terminal 210-3 temporarily stores the holding lists 241 and 242 received in succession into the holding list storage unit 216. Then, the communication terminal 210-3, because of being a child communication terminal, preferentially selects the holding list 242 of the parent communication terminal 210-1 from the holding list storage unit 216. Then, the communication terminal 210-3 transmits and receives communication messages to and from the communication terminal 210-1 that is a transmission source of the selected holding list 242 so as to perform data exchange. As a result, as illustrated in <figref idrefs="f0011">Fig. 11(B)</figref>, the communication terminal 210-3 acquires the data B not present in the own<!-- EPO <DP n="25"> --> communication terminal from the communication terminal 210-1 by the pull-type data exchange method. In contrast, in case of the communication terminal 210-3 selects the holding list 241 received earlier and acquires the data B from the communication terminal 210-2 that is a transmission source of the selected holding list 241, two-hop communication is needed.</p><p id="p0060" num="0060">Thus, according to the present exemplary embodiment, an effect similar to the second exemplary embodiment can be obtained, and data exchange can be efficiently carried out. A reason for this is that data transmitted and received between communication terminals by using the push-type data exchange method and the pull-type data exchange method are limited to data to be shared between the communication terminals and there is no unnecessary operation that data not to be shared between the communication terminals are transmitted and received between the communication terminals.</p><heading id="h0014">[Third Embodiment]</heading><p id="p0061" num="0061"><figref idrefs="f0012">Fig. 12</figref> illustrates an example of a hardware configuration in a case that a communication terminal in each of the aforementioned exemplary embodiments is configured by an electronic information processing apparatus such as a computer. A communication terminal 910 in this example includes a CPU (Central Processing Unit) peripheral unit, an input/output unit, and a legacy input/output unit. The CPU peripheral unit includes a CPU 902, a RAM (Random Access Memory) 903, a graphic controller 904, and a display device 905 that are interconnected by a host controller 901. The input/output unit includes a communication interface 907, a hard disk drive 908, and a CD-ROM (Compact Disk Read Only Memory) drive 909 that are connected to the host controller 901 through an<!-- EPO <DP n="26"> --> input/output controller 906. The legacy input/output unit includes a ROM (Read Only Memory) 910, a flexible disk drive 911, and an input/output chip 912 that are connected to the input/output controller 906.</p><p id="p0062" num="0062">The host controller 901 connects the CPU 902 and the graphic controller 904 that access the RAM 903 at a high transfer rate, and the RAM 903. The CPU 902 operates to control each unit based on a program stored in the ROM 910 and the RAM 903. The graphic controller 904 acquires image data generated on a frame buffer provided within the RAM 903 by the CPU 902 and the like, and displays the image data on the display device 905. Alternatively, the graphic controller 904 may contain therein a frame buffer that stores image data generated by the CPU 902 and the like.</p><p id="p0063" num="0063">The input/output controller 906 connects the host controller 901 with the hard disk drive 908, the communication interface 907, and the CD-ROM drive 909 , that are relatively high-speed input/output devices. The hard disk drive 908 stores a program and data that the CPU 902 uses. The communication interface 907 connects to other communication terminals 320 to transmit and receive a program or data. The CD-ROM drive 909 reads a program or data from a CD-ROM 992, and provides the program or data for the hard disk drive 908 and the communication interface 907 via the RAM 903.</p><p id="p0064" num="0064">The ROM 910 and relatively low-speed input/output devices, including the flexible disk drive 911 and the input/output chip 912, are connected to the input/output controller 906. The ROM 910 stores a boot program that the communication terminal 310 executes at the time of start-up, a program that depends on hardware of the communication<!-- EPO <DP n="27"> --> terminal 310, or the like. The flexible disk drive 911 reads a program or data from a flexible disk 993, and provides the program or data for the hard disk drive 908 and the communication interface 907 via the RAM 903. The input/output chip 912 connects to the flexible disk drive 911, or various types of input/output devices via a parallel port, a serial port, a keyboard port, a mouse port, or the like.</p><p id="p0065" num="0065">The program that the CPU 902 executes is stored on a recording medium, such as the flexible disk 993, the CD-ROM 992, and an IC (Integrated Circuit) card, and provided by a user. The program stored on the recording medium may be compressed or non-compressed. The program is installed on the hard disk drive 908 from the recording medium, read out onto the RAM 903, and executed by the CPU 902. The program executed by the CPU 902 causes the communication terminal 910 to function as the communication unit, the data storage unit, the holding list transmission unit, the data exchange unit, and the like in each of the exemplary embodiments described above.</p><p id="p0066" num="0066">The program described above may be stored on an external storage medium. As for the storage medium, it is possible to use, besides the flexible disk 993 and the CD-ROM 992, an optical recording medium, such as a DVD (Digital Versatile Disk) and a PD (Phase Disk), a magneto-optical recording medium, such as an MD (MiniDisk), a tape medium, a semiconductor memory such as an IC card, and the like. Further, an information sharing system may be provided as a program acquired via a network, by using a storage medium, such as a hard disk and a RAM, provided in a server system connected to a dedicated communication network or the Internet, as a recording medium.<!-- EPO <DP n="28"> --></p><heading id="h0015">[Other Embodiments]</heading><p id="p0067" num="0067">While the present invention has been described with reference to several exemplary embodiments, the present invention is not limited to the aforementioned exemplary embodiments only, but various types of other additions and changes can be made. For example, exemplary embodiments as described below are also included in the present invention.</p><p id="p0068" num="0068">According to the second exemplary embodiment, each communication terminal has functions of both the push-type data exchange method and the pull-type data exchange method. However, the present invention is not limited to such a case, but it suffices that each communication terminal has a function of at least one of the push-type data exchange method and the pull-type data exchange method.</p><p id="p0069" num="0069">This application is based upon and claims the benefit of priority from <patcit id="pcit0002" dnum="JP2013032835A"><text>Japanese patent application No. 2013-032835, filed on February 22, 2013</text></patcit>, the disclosure of which is incorporated herein in its entirety by reference.</p><heading id="h0016">[Industrial Applicability]</heading><p id="p0070" num="0070">The present invention is applicable to a data sharing system that performs sharing of data, such as various types of content, between on-board communication terminals on vehicles such as automobiles, or between portable communication terminals.</p><heading id="h0017">[Reference Signs List]</heading><p id="p0071" num="0071"><dl id="dl0001" compact="compact"><dt>100</dt><dd>Data sharing system</dd><dt>110</dt><dd>Communication terminal</dd><dt>120</dt><dd>Communication network</dd></dl></p></description><claims mxw-id="PCLM90459483" lang="EN" load-source="patent-office"><!-- EPO <DP n="29"> --><claim id="c-en-0001" num="0001"><claim-text>A data sharing system in which data are shared between a plurality of communication terminals connected to a communication network in which, of the plurality of communication terminals, one of the communication terminals functions as a parent that has a relay function and the other communication terminals function as children that do not have the relay function, and transmitting and receiving of a communication message between the child communication terminals are performed via the parent,<br/>
each of the communication terminals comprising:
<claim-text>a communication unit that stores information related to the parent and controls enabling/disabling of the relay function of the own communication terminal in accordance with the stored parent-related information;</claim-text>
<claim-text>a data storage unit that stores one or more pieces of data;</claim-text>
<claim-text>a holding list transmission unit that transmits a holding list that lists information about data stored in the data storage unit to another of the communication terminals through use of the communication message; and</claim-text>
<claim-text>a data exchange unit that includes a holding list storage unit that temporarily stores the holding list received from another of the communication terminals, refers to the parent-related information in the communication unit, preferentially selects, while the own communication terminal does not function as the parent, the holding list that does not match the holding list of the own communication terminal and whose transmission source is the parent communication terminal, among the holding lists stored in the holding list storage unit, selects, while the own communication terminal functions as the parent, any of the holding lists that do not match the holding list of the own communication terminal<!-- EPO <DP n="30"> --> among the holding lists stored in the holding list storage unit, and transmits and receives the communication message to and from the other communication terminal that is a transmission source of the selected holding list so that data sharing is performed.</claim-text></claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>The data sharing system according to Claim 1, wherein<br/>
the data exchange unit, in sharing the data by transmitting and receiving the communication message, transmits the communication message that requests data that the own communication terminal does not hold, to the other communication terminal that is a transmission source of the holding list, and receives the data transmitted through use of the communication message from the other communication terminal that is the request destination.</claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>The data sharing system according to Claim 1 or 2, wherein<br/>
the data exchange unit, in sharing the data by transmitting and receiving the communication message, transmits, to the other communication terminal that is a transmission source of the holding list, data that the other communication terminal does not hold through use of the communication message.</claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>The data sharing system according to any one of Claims 1 to 3, wherein<br/>
the communication unit determines which one of the communication terminals functions as the parent through negotiation with another of the communication terminals.</claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>The data sharing system according to any one of Claims 1 to 4, wherein<br/>
<!-- EPO <DP n="31"> -->the communication network is a communication network that conforms to a Wi-Fi Direct specification.</claim-text></claim><claim id="c-en-0006" num="0006"><claim-text>A data sharing method in which data are shared between a plurality of communication terminals connected to a communication network in which, of the plurality of communication terminals, one of the communication terminals functions as a parent that has a relay function and the other communication terminals function as children that do not have the relay function, and transmitting and receiving of a communication message between the child communication terminals are performed via the parent, wherein:
<claim-text>each of the communication terminals transmits a holding list that lists information about data that the own communication terminal holds, to another of the communication terminals through use of the communication message; and</claim-text>
<claim-text>each of the communication terminals temporarily stores the holding list received from another of the communication terminals, preferentially selects, while the own communication terminal does not function as the parent, the holding list that does not match the holding list of the own communication terminal and whose transmission source is the parent communication terminal, among the stored holding lists, selects, while the own communication terminal functions as the parent, any of the holding lists that do not match the holding list of the own communication terminal among the stored holding lists, and transmits and receives the communication message to and from the other communication terminal that is a transmission source of the selected holding list so that data sharing is performed.</claim-text></claim-text></claim><claim id="c-en-0007" num="0007"><claim-text>A communication terminal connected to a communication network<!-- EPO <DP n="32"> --> in which one communication terminal of a plurality of communication terminals functions as a parent that has a relay function and the other communication terminals function as children that do not have the relay function, and transmitting and receiving of a communication message between the child communication terminals are performed via the parent, the communication terminal comprising:
<claim-text>a communication unit that stores information related to the parent and controls enabling/disabling of the relay function of the own communication terminal in accordance with the stored parent-related information;</claim-text>
<claim-text>a data storage unit that stores one or more pieces of data;</claim-text>
<claim-text>a holding list transmission unit that transmits a holding list that lists information about data stored in the data storage unit, to another of the communication terminals through use of the communication message; and</claim-text>
<claim-text>a data exchange unit that includes a holding list storage unit that temporarily stores the holding list received from another of the communication terminals, refers to the parent-related information in the communication unit, preferentially selects, while the own communication terminal does not function as the parent, the holding list that does not match the holding list of the own communication terminal and whose transmission source is the parent communication terminal, among the holding lists stored in the holding list storage unit, selects, while the own communication terminal functions as the parent, any of the holding lists that do not match the holding list of the own communication terminal among the holding lists stored in the holding list storage unit, and transmits and receives the communication message to and from the other communication terminal that is a transmission source of the selected holding list so that data sharing is performed.</claim-text><!-- EPO <DP n="33"> --></claim-text></claim><claim id="c-en-0008" num="0008"><claim-text>The communication terminal according to Claim 7, wherein<br/>
the data exchange unit, in sharing the data by transmitting and receiving the communication message, transmits the communication message that requests data that the own communication terminal does not hold, to the other communication terminal that is a transmission source of the holding list, and receives the data transmitted through use of the communication message from the other communication terminal that is the request destination.</claim-text></claim><claim id="c-en-0009" num="0009"><claim-text>The communication terminal according to Claim 7 or 8, wherein<br/>
the data exchange unit, in sharing the data by transmitting and receiving the communication message, transmits, to the other communication terminal that is a transmission source of the holding list, data that the other communication terminal does not hold, through use of the communication message.</claim-text></claim><claim id="c-en-0010" num="0010"><claim-text>The communication terminal according to any one of Claims 7 to 9, wherein<br/>
the communication unit determines which one of the communication terminals functions as the parent through negotiation with another of the communication terminals.</claim-text></claim><claim id="c-en-0011" num="0011"><claim-text>The communication terminal according to any one of Claims 7 to 10, wherein<br/>
the communication network is a communication network that conforms to a Wi-Fi Direct specification.</claim-text></claim><claim id="c-en-0012" num="0012"><claim-text>A data sharing method that is executed by a communication<!-- EPO <DP n="34"> --> terminal connected to a communication network in which, of a plurality of communication terminals, one of the communication terminals functions as a parent that has a relay function and the other communication terminals function as children that do not have the relay function, and transmitting and receiving of a communication message between the child communication terminals are performed via the parent, wherein<br/>
the communication terminal:
<claim-text>includes a communication unit that stores information related to the parent and controls enabling/disabling of the relay function of the own communication terminal in accordance with the stored parent-related information, a data storage unit that stores one or more pieces of data, and a holding list storage unit;</claim-text>
<claim-text>receives, from another of the communication terminals, a holding list that lists information about data held by the other communication terminal and temporarily stores the holding list in the holding list storage unit;</claim-text>
<claim-text>refers to the parent-related information of the communication unit, preferentially selects, while the own communication terminal does not function as the parent, the holding list that does not match the holding list of the own communication terminal and whose transmission source is the parent communication terminal, among the holding lists stored in the holding list storage unit, and selects, while the own communication terminal functions as the parent, any of the holding lists that do not match the holding list of the own communication terminal among the holding lists stored in the holding list storage unit; and</claim-text>
<claim-text>transmits and receives the communication message to and from the other communication terminal that is a transmission source of the selected holding list so that data sharing is performed.</claim-text></claim-text></claim><claim id="c-en-0013" num="0013"><claim-text><!-- EPO <DP n="35"> --> A program for causing a computer that constitutes a communication terminal connected to a communication network in which, of a plurality of communication terminals, one of the communication terminals functions as a parent that has a relay function and the other communication terminals function as children that do not have the relay function, and transmitting and receiving of a communication message between the child communication terminals are performed via the parent, to function as:
<claim-text>a communication unit that stores information related to the parent and controls enabling/disabling of the relay function of the own communication terminal in accordance with the stored parent-related information;</claim-text>
<claim-text>a data storage unit that stores one or more pieces of data;</claim-text>
<claim-text>a holding list transmission unit that transmits a holding list that lists information about data stored in the data storage unit, to another of the communication terminals through use of the communication message; and</claim-text>
<claim-text>a data exchange unit that includes a holding list storage unit that temporarily stores the holding list received from another of the communication terminals, refers to the parent-related information in the communication unit, preferentially selects, while the own communication terminal does not function as the parent, the holding list that does not match the holding list of the own communication terminal and whose transmission source is the parent communication terminal, among the holding lists stored in the holding list storage unit, selects, while the own communication terminal functions as the parent, any of the holding lists that do not match the holding list of the own communication terminal among the holding lists stored in the holding list storage unit, and transmits and receives the communication message to and from the other communication terminal that is a transmission source of the selected<!-- EPO <DP n="36"> --> holding list so that data sharing is performed.</claim-text></claim-text></claim></claims><drawings mxw-id="PDW20422209" load-source="patent-office"><!-- EPO <DP n="37"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="165" he="180" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="38"> --><figure id="f0002" num="2"><img id="if0002" file="imgf0002.tif" wi="165" he="232" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="39"> --><figure id="f0003" num="3"><img id="if0003" file="imgf0003.tif" wi="165" he="217" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="40"> --><figure id="f0004" num="4(A),4(B)"><img id="if0004" file="imgf0004.tif" wi="165" he="228" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="41"> --><figure id="f0005" num="5(A),5(B)"><img id="if0005" file="imgf0005.tif" wi="165" he="228" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="42"> --><figure id="f0006" num="6"><img id="if0006" file="imgf0006.tif" wi="165" he="201" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="43"> --><figure id="f0007" num="7"><img id="if0007" file="imgf0007.tif" wi="162" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="44"> --><figure id="f0008" num="8(A),8(B)"><img id="if0008" file="imgf0008.tif" wi="165" he="174" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="45"> --><figure id="f0009" num="9"><img id="if0009" file="imgf0009.tif" wi="164" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="46"> --><figure id="f0010" num="10(A),10(B)"><img id="if0010" file="imgf0010.tif" wi="164" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="47"> --><figure id="f0011" num="11(A),11(B)"><img id="if0011" file="imgf0011.tif" wi="164" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="48"> --><figure id="f0012" num="12"><img id="if0012" file="imgf0012.tif" wi="153" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="49"> --><figure id="f0013" num="13"><img id="if0013" file="imgf0013.tif" wi="163" he="128" img-content="drawing" img-format="tif"/></figure></drawings><search-report-data><doc-page id="srep0001" file="srep0001.tif" wi="165" he="233" type="tif"/></search-report-data><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
