<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2961167-A1" country="EP" doc-number="2961167" kind="A1" date="20151230" family-id="51391576" file-reference-id="260510" date-produced="20180824" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="160451175" ucid="EP-2961167-A1"><document-id><country>EP</country><doc-number>2961167</doc-number><kind>A1</kind><date>20151230</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-14754280-A" is-representative="YES"><document-id mxw-id="PAPP193865318" load-source="docdb" format="epo"><country>EP</country><doc-number>14754280</doc-number><kind>A</kind><date>20140225</date><lang>KO</lang></document-id><document-id mxw-id="PAPP193865319" load-source="patent-office" format="original"><country>EP</country><doc-number>14754280.7</doc-number><date>20140225</date><lang>KO</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC162032112" ucid="KR-2014001516-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>KR</country><doc-number>2014001516</doc-number><kind>W</kind><date>20140225</date></document-id></priority-claim><priority-claim mxw-id="PPC162026708" ucid="US-201361768838-P" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>201361768838</doc-number><kind>P</kind><date>20130225</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-1919279841" load-source="ipcr">H04N  19/103       20140101ALI20160706BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1919279888" load-source="ipcr">H04N  19/573       20140101ALI20160706BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1919280247" load-source="ipcr">H04N  19/176       20140101ALI20160706BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1919281108" load-source="ipcr">H04N  19/30        20140101ALI20160706BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1919282363" load-source="ipcr">H04N  19/187       20140101ALI20160706BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1919282658" load-source="ipcr">H04N  19/157       20140101ALI20160706BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1919283552" load-source="ipcr">H04N  19/117       20140101ALI20160706BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1919285027" load-source="ipcr">H04N  19/61        20140101ALI20160706BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1919286286" load-source="ipcr">H04N  19/33        20140101AFI20160706BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1923981884" load-source="docdb" scheme="CPC">H04N  19/157       20141101 LI20160630BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1923985414" load-source="docdb" scheme="CPC">H04N  19/117       20141101 LI20160630BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1923987823" load-source="docdb" scheme="CPC">H04N  19/573       20141101 LI20160630BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1923989183" load-source="docdb" scheme="CPC">H04N  19/103       20141101 LI20160701BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1923989229" load-source="docdb" scheme="CPC">H04N  19/61        20141101 LI20160630BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1923989586" load-source="docdb" scheme="CPC">H04N  19/33        20141101 LI20160630BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1984696873" load-source="docdb" scheme="CPC">H04N  19/59        20141101 LI20160108BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1984696914" load-source="docdb" scheme="CPC">H04N  19/80        20141101 LI20160107BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1984703382" load-source="docdb" scheme="CPC">H04N  19/176       20130101 LI20160107BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1984703941" load-source="docdb" scheme="CPC">H04N  19/187       20141101 FI20160107BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1984704638" load-source="docdb" scheme="CPC">H04N  19/52        20141101 LI20160107BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT165544991" lang="DE" load-source="patent-office">VORRICHTUNG UND VERFAHREN FÜR SKALIERBARE VIDEOCODIERUNG UNTER BERÜCKSICHTIGUNG VON SPEICHERBANDBREITE UND BERECHNUNGSQUANTITÄT SOWIE VORRICHTUNG UND VERFAHREN ZUR SKALIERBAREN VIDEOCODIERUNG</invention-title><invention-title mxw-id="PT165544992" lang="EN" load-source="patent-office">DEVICE AND METHOD FOR SCALABLE VIDEO ENCODING CONSIDERING MEMORY BANDWIDTH AND COMPUTATIONAL QUANTITY, AND DEVICE AND METHOD FOR SCALABLE VIDEO DECODING</invention-title><invention-title mxw-id="PT165544993" lang="FR" load-source="patent-office">DISPOSITIF ET PROCÉDÉ DESTINÉ AU CODAGE DE VIDÉO ÉVOLUTIF PRENANT EN COMPTE LA BANDE PASSANTE DE LA MÉMOIRE ET LA QUANTITÉ DE CALCUL, ET DISPOSITIF ET PROCÉDÉ DESTINÉS AU DÉCODAGE VIDÉO ÉVOLUTIF</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR1103341170" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>SAMSUNG ELECTRONICS CO LTD</last-name><address><country>KR</country></address></addressbook></applicant><applicant mxw-id="PPAR1103308536" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>SAMSUNG ELECTRONICS CO., LTD.</last-name></addressbook></applicant><applicant mxw-id="PPAR1101649147" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Samsung Electronics Co., Ltd.</last-name><iid>101540447</iid><address><street>129, Samsung-ro Yeongtong-gu Suwon-si</street><city>Gyeonggi-do 16677</city><country>KR</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR1103304058" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>ALSHINA ELENA</last-name><address><country>KR</country></address></addressbook></inventor><inventor mxw-id="PPAR1103330051" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>ALSHINA, ELENA</last-name></addressbook></inventor><inventor mxw-id="PPAR1101646684" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>ALSHINA, ELENA</last-name><address><street>202-1305, 53 Yeongtong-ro 514beon-gil Yeongtong-gu</street><city>Suwon-si, Gyeonggi-do 443-739</city><country>KR</country></address></addressbook></inventor><inventor mxw-id="PPAR1103318731" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>ALSHIN ALEXANDER</last-name><address><country>KR</country></address></addressbook></inventor><inventor mxw-id="PPAR1103338763" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>ALSHIN, ALEXANDER</last-name></addressbook></inventor><inventor mxw-id="PPAR1101651581" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>ALSHIN, ALEXANDER</last-name><address><street>202-1305, 53 Yeongtong-ro 514beon-gil Yeongtong-gu</street><city>Suwon-si, Gyeonggi-do 443-739</city><country>KR</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR1101646064" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Appleyard Lees</last-name><iid>101503968</iid><address><street>15 Clare Road</street><city>Halifax HX1 2HY</city><country>GB</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="KR-2014001516-W"><document-id><country>KR</country><doc-number>2014001516</doc-number><kind>W</kind><date>20140225</date><lang>KO</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2014129872-A1"><document-id><country>WO</country><doc-number>2014129872</doc-number><kind>A1</kind><date>20140828</date><lang>KO</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS660603652" load-source="docdb">AL</country><country mxw-id="DS660680872" load-source="docdb">AT</country><country mxw-id="DS660603654" load-source="docdb">BE</country><country mxw-id="DS660782012" load-source="docdb">BG</country><country mxw-id="DS660605160" load-source="docdb">CH</country><country mxw-id="DS660680977" load-source="docdb">CY</country><country mxw-id="DS660680873" load-source="docdb">CZ</country><country mxw-id="DS660603655" load-source="docdb">DE</country><country mxw-id="DS660680978" load-source="docdb">DK</country><country mxw-id="DS660680983" load-source="docdb">EE</country><country mxw-id="DS660683311" load-source="docdb">ES</country><country mxw-id="DS660782013" load-source="docdb">FI</country><country mxw-id="DS660604983" load-source="docdb">FR</country><country mxw-id="DS660603656" load-source="docdb">GB</country><country mxw-id="DS660680984" load-source="docdb">GR</country><country mxw-id="DS660603657" load-source="docdb">HR</country><country mxw-id="DS660680874" load-source="docdb">HU</country><country mxw-id="DS660605161" load-source="docdb">IE</country><country mxw-id="DS660680985" load-source="docdb">IS</country><country mxw-id="DS660604984" load-source="docdb">IT</country><country mxw-id="DS660680986" load-source="docdb">LI</country><country mxw-id="DS660782014" load-source="docdb">LT</country><country mxw-id="DS660681042" load-source="docdb">LU</country><country mxw-id="DS660782015" load-source="docdb">LV</country><country mxw-id="DS660782016" load-source="docdb">MC</country><country mxw-id="DS660681051" load-source="docdb">MK</country><country mxw-id="DS660681052" load-source="docdb">MT</country><country mxw-id="DS660683312" load-source="docdb">NL</country><country mxw-id="DS660604985" load-source="docdb">NO</country><country mxw-id="DS660681053" load-source="docdb">PL</country><country mxw-id="DS660605162" load-source="docdb">PT</country><country mxw-id="DS660683313" load-source="docdb">RO</country><country mxw-id="DS660605171" load-source="docdb">RS</country><country mxw-id="DS660681054" load-source="docdb">SE</country><country mxw-id="DS660603658" load-source="docdb">SI</country><country mxw-id="DS660604986" load-source="docdb">SK</country><country mxw-id="DS660681067" load-source="docdb">SM</country><country mxw-id="DS660680987" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA166479545" lang="EN" load-source="patent-office"><p id="pa01" num="0001">Provided are scalable video encoding and decoding methods for optimization of a memory bandwidth and a computational quantity when inter-layer prediction is performed.</p><p id="pa02" num="0002">The scalable video encoding method includes determining a reference layer image from among base layer images so as to perform inter-layer prediction on an enhancement layer image, determining, using the enhancement layer image, not to perform inter prediction on enhancement layer images when an upsampled reference layer image is determined by performing inter-layer (IL) interpolation filtering on the reference layer image, and encoding a residue component between the upsampled reference layer image and the enhancement layer image.<img id="iaf01" file="imgaf001.tif" wi="89" he="75" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA166759357" lang="EN" source="EPO" load-source="docdb"><p>Provided are scalable video encoding and decoding methods for optimization of a memory bandwidth and a computational quantity when inter-layer prediction is performed.  The scalable video encoding method includes determining a reference layer image from among base layer images so as to perform inter-layer prediction on an enhancement layer image, determining, using the enhancement layer image, not to perform inter prediction on enhancement layer images when an upsampled reference layer image is determined by performing inter-layer (IL) interpolation filtering on the reference layer image, and encoding a residue component between the upsampled reference layer image and the enhancement layer image.</p></abstract><description mxw-id="PDES98404246" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001">TECHNICAL FIELD</heading><p id="p0001" num="0001">The present disclosure relates to scalable video encoding and decoding methods. In more detail, the present disclosure relates to scalable video encoding and decoding methods for optimization of a memory bandwidth and a computational quantity when inter-layer prediction is performed.</p><heading id="h0002">BACKGROUND ART</heading><p id="p0002" num="0002">As hardware for reproducing and storing high resolution or high quality video content is being developed and supplied, a need for a video codec for effectively encoding or decoding the high resolution or high quality video content is increasing. According to a video codec of the related art, a video is encoded according to a limited encoding method based on a macroblock having a predetermined size.</p><p id="p0003" num="0003">Image data of a spatial domain is transformed into coefficients of a frequency domain via frequency transformation. According to a video codec, an image is split into blocks of predetermined size, discrete cosine transformation (DCT) is performed on each block, and frequency coefficients are encoded in block units, for rapid calculation of frequency transformation. Compared with image data of a spatial domain, coefficients of a frequency domain are easily compressed. In particular, since an image pixel value of a spatial domain is expressed according to a prediction error via inter prediction or intra prediction of a video codec, when frequency transformation is performed on the prediction error, a large amount of data may be transformed to 0. According to a video codec, an amount of data may be reduced by replacing data that is consecutively and repeatedly generated with small-sized data.</p><p id="p0004" num="0004">A multilayer video codec encodes and decodes a base layer video and one or more enhancement layer videos. By removing temporal/spatial redundancies of each of a base layer video and an enhancement layer video, amounts of data of the base layer video and the enhancement layer video may be reduced. According to a reproduction capability of a receiving terminal, only the base layer video may be decoded, or all of the base layer video and the enhancement layer video may be decoded.<!-- EPO <DP n="2"> --></p><heading id="h0003">DETAILED DESCRIPTION OF THE INVENTIVE CONCEPT</heading><heading id="h0004">TECHNICAL PROBLEM</heading><p id="p0005" num="0005">The present disclosure provides one or more exemplary embodiments of a scalable video encoding method and apparatus therefor that limit the number of times interpolation filtering is performed, so as to minimize an increase in a memory bandwidth and a computational quantity which occurs when the interpolation filtering is performed for inter-prediction and inter-layer prediction. The present disclosure provides one or more exemplary embodiments of a scalable video decoding method and apparatus therefor in which inter-prediction and inter-layer prediction for an enhancement layer are limited according to a predetermined condition.</p><heading id="h0005">TECHNICAL SOLUTION</heading><p id="p0006" num="0006">According to an aspect of the inventive concept, there is provided a scalable video encoding method including determining a reference layer image from among base layer images so as to perform inter-layer prediction on an enhancement layer image; generating an upsampled reference layer image by performing inter-layer (IL) interpolation filtering on the determined reference layer image; and when the upsampled reference layer image is determined via the IL interpolation filtering, determining not to perform inter prediction using enhancement layer images for the enhancement layer image, and encoding a residue component between the upsampled reference layer image and the enhancement layer image.</p><heading id="h0006">ADVANTAGEOUS EFFECTS</heading><p id="p0007" num="0007">A scalable video encoding apparatus and a scalable video decoding apparatus according to exemplary embodiments may selectively determine whether or not to perform inter prediction in a single layer or to perform inter-layer prediction by using a reference layer image, based on at least one of a partition size, a partition shape, and a prediction mode with respect to a block.</p><p id="p0008" num="0008">Accordingly, compared to a single-layer prediction structure in which base layer images and enhancement layer images are reconstructed respectively, according to an inter-layer prediction structure, base layer images and enhancement layer images may be reconstructed without an increase in a memory bandwidth and computational quantity.<!-- EPO <DP n="3"> --></p><heading id="h0007">DESCRIPTION OF THE DRAWINGS</heading><p id="p0009" num="0009"><ul><li><figref idrefs="f0001">FIG. 1</figref> illustrates a block diagram of a scalable video encoding apparatus, according to an exemplary embodiment.</li><li><figref idrefs="f0001">FIG. 2</figref> illustrates a block diagram of a scalable video decoding apparatus, according to an exemplary embodiment.</li><li><figref idrefs="f0002">FIG. 3</figref> illustrates in detail a structure of the scalable video encoding apparatus, according to an exemplary embodiment.</li><li><figref idrefs="f0003">FIG. 4</figref> illustrates base layer images and enhancement layer images in an individual layer prediction structure.</li><li><figref idrefs="f0004">FIG. 5</figref> illustrates base layer images and enhancement layer images in an inter-layer prediction structure.</li><li><figref idrefs="f0005">FIG. 6</figref> illustrates a bandwidth of a memory which is for interpolation filtering with respect to a block.</li><li><figref idrefs="f0005">FIG. 7</figref> illustrates a memory access pattern.</li><li><figref idrefs="f0006">FIG. 8</figref> illustrates a memory bandwidth for motion compensation (MC) interpolation filtering that is changed according to an inter prediction mode and a block size.</li><li><figref idrefs="f0006">FIG. 9</figref> illustrates a memory bandwidth for inter-layer (IL) interpolation filtering that is changed according to a block size, according to an exemplary embodiment.</li><li><figref idrefs="f0007">FIG. 10</figref> illustrates the number of times interpolation filtering is performed in base layer encoding and enhancement layer encoding, with the limit condition.</li><li><figref idrefs="f0008">FIG. 11</figref> illustrates the number of times interpolation filtering is performed in base layer encoding and enhancement layer encoding, under a predetermined condition, according to an exemplary embodiment.</li><li><figref idrefs="f0009">FIG. 12</figref> illustrates combinations of MC interpolation filtering and IL interpolation filtering that may be performed under a predetermined condition, according to an exemplary embodiment.</li><li><figref idrefs="f0010">FIG. 13</figref> illustrates a flowchart of a scalable video encoding method, according to an exemplary embodiment.</li><li><figref idrefs="f0010">FIG. 14</figref> illustrates a flowchart of a scalable video decoding method, according to an exemplary embodiment.</li><li><figref idrefs="f0011">FIG. 15</figref> is a block diagram of a video encoding apparatus based on coding units of a tree structure, according to an exemplary embodiment.<!-- EPO <DP n="4"> --></li><li><figref idrefs="f0011">FIG. 16</figref> is a block diagram of a video decoding apparatus based on coding units of a tree structure, according to an exemplary embodiment.</li><li><figref idrefs="f0012">FIG. 17</figref> is a diagram for describing a concept of coding units according to an exemplary embodiment.</li><li><figref idrefs="f0013">FIG. 18</figref> is a block diagram of an image encoder based on coding units, according to an exemplary embodiment.</li><li><figref idrefs="f0014">FIG. 19</figref> is a block diagram of an image decoder based on coding units, according to an exemplary embodiment.</li><li><figref idrefs="f0015">FIG. 20</figref> is a diagram illustrating deeper coding units according to depths, and partitions, according to an exemplary embodiment.</li><li><figref idrefs="f0016">FIG. 21</figref> is a diagram for describing a relationship between a coding unit and transformation units, according to an exemplary embodiment.</li><li><figref idrefs="f0016">FIG. 22</figref> illustrates a plurality of pieces of encoding information according to depths, according to an exemplary embodiment.</li><li><figref idrefs="f0017">FIG. 23</figref> is a diagram of deeper coding units according to depths, according to an exemplary embodiment.</li><li><figref idrefs="f0018">FIGS. 24, 25</figref>, and <figref idrefs="f0019">26</figref> are diagrams for describing a relationship between coding units, prediction units, and transformation units, according to exemplary embodiments.</li><li><figref idrefs="f0020">FIG. 27</figref> is a diagram for describing a relationship between a coding unit, a prediction unit, and a transformation unit, according to encoding mode information of Table 1.</li><li><figref idrefs="f0021">FIG. 28</figref> is a diagram of a physical structure of a disc in which a program is stored, according to an exemplary embodiment.</li><li><figref idrefs="f0021">FIG. 29</figref> is a diagram of a disc drive for recording and reading a program by using the disc.</li><li><figref idrefs="f0022">FIG. 30</figref> is a diagram of an overall structure of a content supply system for providing a content distribution service.</li><li><figref idrefs="f0023">FIGS. 31</figref> and <figref idrefs="f0024">32</figref> illustrate external and internal structures of a mobile phone to which a video encoding method and a video decoding method are applied, according to exemplary embodiments.</li><li><figref idrefs="f0025">FIG. 33</figref> illustrates a digital broadcasting system employing a communication system, according to an exemplary embodiment.</li><li><figref idrefs="f0026">FIG. 34</figref> is a diagram illustrating a network structure of a cloud computing system using a video encoding apparatus and a video decoding apparatus, according to an exemplary embodiment.</li></ul><!-- EPO <DP n="5"> --></p><heading id="h0008">BEST MODE</heading><p id="p0010" num="0010">The present disclosure provides one or more exemplary embodiments of a scalable video encoding method and apparatus therefor that limit the number of times interpolation filtering is performed, so as to minimize an increase in a memory bandwidth and a computational quantity which occurs when the interpolation filtering is performed for inter-prediction and inter-layer prediction. The present disclosure provides one or more exemplary embodiments of a scalable video decoding method and apparatus therefor in which inter-prediction and inter-layer prediction for an enhancement layer are limited according to a predetermined condition.</p><p id="p0011" num="0011">According to an aspect of the inventive concept, there is provided a scalable video encoding method including determining a reference layer image from among base layer images so as to perform inter-layer prediction on an enhancement layer image; generating an upsampled reference layer image by performing inter-layer (IL) interpolation filtering on the determined reference layer image; and when the upsampled reference layer image is determined via the IL interpolation filtering, determining, using the enhancement layer image, not to perform inter prediction on enhancement layer images, and encoding a residue component between the upsampled reference layer image and the enhancement layer image.</p><p id="p0012" num="0012">A computational quantity of the interpolation filtering for the inter-layer prediction using the enhancement layer image may be limited not to be greater than a total sum of a first computational quantity of MC interpolation filtering for inter prediction using the base layer images and a second computational quantity of MC interpolation filtering for inter prediction using the enhancement layer images.</p><p id="p0013" num="0013">The encoding of the residue component may include encoding a reference index indicating that a reference image user for the enhancement layer image is the upsampled reference layer image, and encoding a motion vector to indicate 0, wherein the motion vector is for the inter prediction using the enhancement layer images.</p><p id="p0014" num="0014">The number of times of the MC interpolation filtering and the number of times of the IL interpolation filtering may be limited, based on at least one of the number of taps of an MC interpolation filter for the MC interpolation filtering for the inter prediction using the enhancement layer image, the number of taps of an IL interpolation filter for the IL interpolation filtering, and a size of a prediction unit of the enhancement layer image.</p><p id="p0015" num="0015">According to another aspect of the inventive concept, there is provided a scalable video decoding method including obtaining a reference index indicating a residue component and a reference layer image for inter-layer prediction using an enhancement layer image; based on the<!-- EPO <DP n="6"> --> reference index, determining not to perform inter-prediction on enhancement layer images and determining the reference layer image from among base layer images; generating an upsampled reference layer image by performing IL interpolation filtering on the determined reference layer image; and reconstructing the enhancement layer image by using the residue component with respect to the inter-layer prediction and the upsampled reference layer image.</p><p id="p0016" num="0016">When a reference index of the enhancement layer image indicates the upsampled reference layer image, the determining of the reference layer image may include determining a motion vector as 0, wherein the motion vector is for inter prediction using the enhancement layer images.</p><p id="p0017" num="0017">According to another aspect of the inventive concept, there is provided a scalable video encoding apparatus including a base layer encoder configured to perform inter prediction on base layer images; and an enhancement layer encoder configured to determine, using an enhancement layer image, not to perform inter prediction on enhancement layer images when an upsampled reference layer image is determined by performing IL interpolation filtering on a determined reference layer image, and to encode a residue component between the upsampled reference layer image and the enhancement layer image.</p><p id="p0018" num="0018">According to another aspect of the inventive concept, there is provided a scalable video decoding apparatus including a base layer decoder configured to reconstruct base layer images by performing motion compensation; and an enhancement layer decoder configured to obtain a reference index indicating a residue component and a reference layer image for inter-layer prediction using an enhancement layer image, to determine, based on the reference index, not to perform inter-prediction on enhancement layer images, to generate an upsampled reference layer image by performing IL interpolation filtering on the reference layer image determined from among the base layer images, and to reconstruct the enhancement layer image by using the residue component with respect to the inter-layer prediction and the upsampled reference layer image.</p><p id="p0019" num="0019">According to another aspect of the inventive concept, there is provided a computer-readable recording medium having recorded thereon a computer program for executing the scalable video encoding method.</p><p id="p0020" num="0020">According to another aspect of the inventive concept, there is provided a computer-readable recording medium having recorded thereon a computer program for executing the scalable video decoding method.</p><heading id="h0009">MODE OF THE INVENTIVE CONCEPT</heading><!-- EPO <DP n="7"> --><p id="p0021" num="0021">Hereinafter, a scalable video encoding apparatus, a scalable video decoding apparatus, a scalable video encoding method, and a scalable video decoding method according to exemplary embodiments are provided with reference to <figref idrefs="f0001 f0002 f0003 f0004 f0005 f0006 f0007 f0008 f0009 f0010">FIGS. 1 through 14</figref>. Also, a video encoding apparatus and a video decoding apparatus, and a video encoding method and a video decoding method based on coding units of a tree structure according to exemplary embodiments are provided with reference to <figref idrefs="f0011 f0012 f0013 f0014 f0015 f0016 f0017 f0018 f0019 f0020">FIGS. 15 through 27</figref>. Also, various embodiments to which the scalable video encoding method, the scalable video decoding method, the video encoding method and the video decoding method may be applied are provided with reference to <figref idrefs="f0021 f0022 f0023 f0024 f0025 f0026">FIGS. 28 through 34</figref>.</p><p id="p0022" num="0022">Hereinafter, an 'image' may indicate a still image of a video or a moving picture, i.e., the video itself.</p><p id="p0023" num="0023">Hereinafter, a 'sample' means data that is allocated to a sampling position of an image and is a processing target. For example, pixel values that are allocated to pixels in an image in a spatial domain may be samples.</p><p id="p0024" num="0024">Hereinafter, a symbol means a value of each syntax that is determined by performing encoding on an image. A bitstream may be generated in a manner that bit sequences that are generated by performing entropy encoding on symbols are sequentially output. Images may be reconstructed in a manner that the symbols are reconstructed by performing entropy decoding and parsing on the bit sequences from the bitstream, and then decoding is performed by using the symbols.</p><p id="p0025" num="0025">First, with reference to <figref idrefs="f0001 f0002 f0003 f0004 f0005 f0006 f0007 f0008 f0009 f0010">FIGS. 1 through 14</figref>, a scalable video encoding apparatus and a scalable video encoding method, and a scalable video decoding apparatus and a scalable video decoding method according to an exemplary embodiment are provided.</p><p id="p0026" num="0026"><figref idrefs="f0001">FIG. 1</figref> illustrates a block diagram of a scalable video encoding apparatus 10, according to an exemplary embodiment.</p><p id="p0027" num="0027">The scalable video encoding apparatus 10 according to the present exemplary embodiment includes a base layer encoder 11 and an enhancement layer encoder 13.</p><p id="p0028" num="0028">The scalable video encoding apparatus 10 according to the present exemplary embodiment may encode each of a plurality of image sequences according to layers by using a scalable video coding method, and may output a separate stream including encoded data of each of the layers. The scalable video encoding apparatus 10 may encode a base layer image sequence and an enhancement layer image sequence to different layers.</p><p id="p0029" num="0029">The base layer encoder 11 may encode base layer images, and may output a base layer stream including encoded data of the base layer images.</p><p id="p0030" num="0030">The enhancement layer encoder 13 may encode enhancement layer images, and may output an enhancement layer stream including encoded data of the enhancement layer images.<!-- EPO <DP n="8"> --></p><p id="p0031" num="0031">For example, according to the scalable video coding method based on spatial scalability, low resolution images may be encoded as the base layer images, and high resolution images may be encoded as the enhancement layer images. An encoding result of the base layer images may be output as a base layer stream, and an encoding result of the enhancement layer images may be output as an enhancement layer stream.</p><p id="p0032" num="0032">As another example, according to a scalable video coding method based on Signal-Noise Ratio (SNR) scalability, the base layer images and the enhancement layer images are same in resolutions and sizes and are different in a quantization parameter (QP) in encoding. When the QP is increased, a quantization section is increased, such that a quality of a reconstructed image deteriorates. The low resolution images having a relatively high QP applied thereto may be encoded as the base layer images, and the high resolution images having a relatively low QP applied thereto may be encoded as the enhancement layer images.</p><p id="p0033" num="0033">As another example, a multiview video may be encoded according to the scalable video coding method. Left-view images may be encoded as the base layer images, and right-view images may be encoded as the enhancement layer images. Alternatively, each of center-view images, left-view images, and right-view images may be encoded, and among these images, the center-view images may be encoded as the base layer images, the left-view images may be encoded as first enhancement-layer images, and the right-view images may be encoded as second enhancement-layer images.</p><p id="p0034" num="0034">As another example, the scalable video coding method may be performed according to temporal hierarchical prediction based on temporal scalability. A base layer stream including encoding information may be output, wherein the encoding information is generated by encoding images with a base frame rate. Temporal levels may be classified according to frame rates, and may be encoded to layers, respectively. By further encoding images with a high speed frame rate by referring to the images of the base frame rate, an enhancement layer stream including encoding information about the high speed frame rate may be output.</p><p id="p0035" num="0035">The scalable video encoding apparatus 10 according to the present exemplary embodiment may perform inter prediction by which a current image is predicted by referring to images of a single layer. Via the inter prediction, a motion vector indicating motion information between the current image and a reference image, and a residue component between the current image and the reference image may be generated.</p><p id="p0036" num="0036">Also, the scalable video encoding apparatus 10 may perform inter-layer prediction by which enhancement layer images are predicted by referring to base layer images. Here, a current layer image to which the inter-layer prediction is performed may be an enhancement layer image, and a<!-- EPO <DP n="9"> --> reference layer image that is used for the inter-layer prediction may be a base layer image. Via the inter-layer prediction, a location difference component between a reference image of another layer and the current image, and a residue component between the reference image of the other layer and the current image may be generated.</p><p id="p0037" num="0037">An inter-layer prediction structure will be described in detail with reference to <figref idrefs="f0002">FIG. 3</figref>.</p><p id="p0038" num="0038">The scalable video encoding apparatus 10 according to the present exemplary embodiment encodes each of blocks of each of images of a video according to layers. A type of a block may be a square, a rectangle, or a random geometric shape. A block according to an exemplary embodiment is not limited to a data unit of a constant size. The block may be a maximum coding unit, a coding unit, a prediction unit, a transformation unit, etc. from among coding units of a tree structure. A maximum coding unit including coding units of a tree structure may be variously called a coding block tree, a block tree, a root block tree, a coding tree, a coding root, or a tree trunk. Video encoding and decoding methods using the coding units of the tree structure will be described with reference to <figref idrefs="f0006 f0007 f0008 f0009 f0010 f0011 f0012 f0013 f0014 f0015">FIGS. 8 through 20</figref>.</p><p id="p0039" num="0039">The inter prediction and the inter-layer prediction may be performed by using a data unit of the coding unit, the prediction unit, or the transformation unit.</p><p id="p0040" num="0040">The base layer encoder 11 according to the present exemplary embodiment may generate symbol data by performing source coding operations including the inter prediction or intra prediction on the base layer images. For example, the base layer encoder 11 may generate the symbol data by performing the inter prediction or intra prediction, transformation, and quantization on samples of a data unit of the base layer images, and may generate the base layer stream by performing entropy encoding on the symbol data.</p><p id="p0041" num="0041">The enhancement layer encoder 13 may encode the enhancement layer images, based on the coding units of the tree structure. The enhancement layer encoder 13 may generate symbol data by performing the inter/intra predictions, the transformation, and the quantization on samples of an encoding unit of an enhancement layer image, and may generate the enhancement layer stream by performing entropy encoding on the symbol data.</p><p id="p0042" num="0042">The enhancement layer encoder 13 according to the present exemplary embodiment may perform inter-layer prediction to predict the enhancement layer image, by using a reconstructed sample of the base layer image. In order to encode an enhancement layer original image among the enhancement layer image sequence via the inter-layer prediction structure, the enhancement layer encoder 13 may generate an enhancement layer prediction image by using a reconstructed base layer image, and may encode a prediction error between the enhancement layer original image and the enhancement layer prediction image.<!-- EPO <DP n="10"> --></p><p id="p0043" num="0043">The enhancement layer encoder 13 may perform the inter-layer prediction on the enhancement layer image according to blocks such as the coding unit or the prediction unit. A block of the base layer image to be referred to by a block of the enhancement layer image may be determined.</p><p id="p0044" num="0044">For example, a reconstructed image of a base layer image to which a same Picture Order Count (POC) as the enhancement layer image is applied may be determined as a reference image. Also, a block that is from among blocks of the reconstructed base layer image and is positioned while corresponding to a position of a current block in the enhancement layer image may be determined as a reference block. The enhancement layer encoder 13 may determine an enhancement layer prediction block by using a reconstructed base layer block corresponding to an enhancement layer block.</p><p id="p0045" num="0045">The enhancement layer encoder 13 may encode a current layer image sequence by using reconstructed base layer images via the inter-layer prediction structure. Also, the enhancement layer encoder 13 according to the present exemplary embodiment may encode the enhancement layer image sequence according to a single layer prediction structure, without using other layer samples. As another example, the enhancement layer encoder 13 may combine inter prediction and inter-layer prediction in a single layer.</p><p id="p0046" num="0046">Hereinafter, an example in which the enhancement layer images are encoded by using the base layer images, according to inter-layer prediction.</p><p id="p0047" num="0047">The base layer encoder 11 may decode encoded samples in each of coding units of a tree structure of a base layer image by performing inverse-quantization, inverse-transformation, inter prediction, or motion compensation, and thus may reconstruct samples included in a current maximum coding unit. A reconstructed image of a previous slice may be generated by performing encoding samples in the previous slice and then decoding on the encoded samples. In order to perform inter prediction on a current slice, a reconstructed image of the previous slice may be referred to.</p><p id="p0048" num="0048">The enhancement layer encoder 13 according to the present exemplary embodiment may use the enhancement layer prediction block as a reference image for inter-layer prediction using an enhancement layer original block, wherein the enhancement layer prediction block is determined by using the reconstructed base layer block via the inter-layer prediction structure. The enhancement layer encoder 13 may encode an error between a sample value of the enhancement layer prediction block and a sample value of the enhancement layer original block by using the reconstructed base layer block, i.e., may encode a residue component according to the inter-layer prediction.</p><p id="p0049" num="0049">As spatial scalability, when resolution varies in a base layer image and an enhancement layer image, image sizes are also different. Therefore, in order to generate a reference layer image for<!-- EPO <DP n="11"> --> the enhancement layer image, the enhancement layer encoder 13 may perform interpolation filtering to upsample a reconstructed base layer image to a resolution of the enhancement layer image.</p><p id="p0050" num="0050">In general, the interpolation filtering may be performed so as to determine a reference block according to each sub-pixel unit when inter-prediction is performed according to each sub-pixel unit.</p><p id="p0051" num="0051">Hereinafter, interpolation filtering for inter-prediction according to each coding unit is referred to as 'motion compensation (MC) interpolation filtering', and interpolation filtering for inter-layer prediction is referred to as 'inter-layer (IL) interpolation filtering'. The MC interpolation filtering and the IL interpolation filtering are collectively referred to as 'interpolation filtering'.</p><p id="p0052" num="0052">In general, the interpolation filtering is performed by using samples adjacent to a current sample, thus, in order to perform the interpolation filtering on a current block, not only block samples but also some samples of adjacent blocks are required. Therefore, when the number of times the interpolation filtering is performed for inter prediction and inter-layer prediction is increased, a memory bandwidth and a computational load quantity are significantly increased.</p><p id="p0053" num="0053">Therefore, in order to decrease the memory bandwidth and the computational load quantity, the enhancement layer encoder 13 according to the present exemplary embodiment may selectively determine whether to perform the inter prediction in a single layer or to perform the inter-layer prediction by using a reference layer image.</p><p id="p0054" num="0054">For the inter-layer prediction structure according to an exemplary embodiment, an upsampled reconstructed base layer image that is the reference layer image is required. Thus, the base layer encoder 11 may perform inter-prediction on base layer images and thus may generate reconstructed base layer images.</p><p id="p0055" num="0055">In order to inter-layer predict an enhancement layer image, the enhancement layer encoder 13 may determine the reference layer image from among the base layer images. The enhancement layer encoder 13 may perform the IL interpolation filtering on the determined reference layer image and thus may generate an upsampled reference layer image.</p><p id="p0056" num="0056">For example, it is required for a computational load quantity required for the scalable video encoding apparatus 10 according to the present exemplary embodiment to perform inter prediction on a base layer and to perform inter-layer prediction on an enhancement layer is not greater than a computational load quantity required for the scalable video encoding apparatus 10 to perform only inter prediction on each of the base layer and the enhancement layer.</p><p id="p0057" num="0057">In order to evaluate a memory bandwidth or a computational quantity required for the inter prediction or the inter-layer prediction, the number of times the MC interpolation filtering and the IL interpolation filtering are performed may be used. Hereinafter, throughout the specification, the<!-- EPO <DP n="12"> --> number of times of filtering indicates the number of times interpolation filtering is performed when to generate one sample to be referred for the inter prediction or the inter-layer prediction.</p><p id="p0058" num="0058">As described above, in order to perform the inter-layer prediction one time on the enhancement layer image, basically, the MC interpolation filtering may be performed one time for the inter prediction performed on the base layer, and the IL interpolation filtering may be performed one time so as to upsample the reconstructed base layer image for the inter-layer prediction.</p><p id="p0059" num="0059">According to a general individual layer prediction structure, if the inter prediction is performed one time on the base layer, and the inter prediction is performed one time on the enhancement layer, each of the MC interpolation filtering and the IL interpolation filtering is performed one time so that interpolation filtering may be performed at least two times.</p><p id="p0060" num="0060">Therefore, comparing the inter-layer prediction structure with the individual layer prediction structure, when the inter-layer prediction is performed on an enhancement layer image, any other interpolation filtering should not be added, other than the MC interpolation filtering for the inter prediction using the base layer and the IL interpolation filtering for the inter-layer prediction using the reconstructed base layer image.</p><p id="p0061" num="0061">Therefore, when the upsampled reference layer image is determined via the IL interpolation filtering, the enhancement layer encoder 13 may determine not to perform inter prediction on enhancement layer images for the enhancement layer image. Thus, the enhancement layer encoder 13 may encode a residue component between the upsampled reference layer image and the enhancement layer image by performing only the inter-layer prediction without performing the inter prediction.</p><p id="p0062" num="0062">Thus, the enhancement layer encoder 13 may encode a reference index indicating that a reference image used for the enhancement layer image is an upsampled reference image, and may encode a motion vector to 0, wherein the motion vector is for inter prediction using the enhancement layer images.</p><p id="p0063" num="0063">The scalable video encoding apparatus 10 according to another exemplary embodiment may limit the number of times of the MC interpolation filtering and the number of times of the IL interpolation filtering, based on at least one of the number of taps of an MC interpolation filter for the MC interpolation filtering using the enhancement layer image, the number of taps of an IL interpolation filter for the IL interpolation filtering, and a size of a prediction unit of the enhancement layer image.</p><p id="p0064" num="0064">For example, interpolation filtering on a block having a size of 8x8 or larger may be limited to i) a combination of 8-tap MC interpolation filtering performed two times or ii) a<!-- EPO <DP n="13"> --> combination of 8-tap MC interpolation filtering performed one time and 8-tap IL interpolation filtering performed one time.</p><p id="p0065" num="0065">As another example, interpolation filtering on a block having a size of 4x8 or larger may be limited to iii) 8-tap IL interpolation filtering performed one time, iv) a combination of 6-tap IL interpolation filtering performed two times, v) a combination of 4-tap IL interpolation filtering performed two times, or vi) a combination of 2-tap IL interpolation filtering performed three times.</p><p id="p0066" num="0066">As another example, interpolation filtering on a block having a size of 8x16 or larger may be limited to vii) a combination of 8-tap MC interpolation filtering performed two times and 4-tap IL interpolation filtering performed one time, viii) a combination of 2-tap MC interpolation filtering performed four times and 2-tap IL interpolation filtering performed four times, ix) a combination of 8-tap MC interpolation filtering performed two times and 2-tap IL interpolation filtering performed two times, or x) a combination of 8-tap MC interpolation filtering performed two times and 8-tap IL interpolation filtering performed one time.</p><p id="p0067" num="0067">The scalable video encoding apparatus 10 according to the present exemplary embodiment may include a central processor (not shown) that generally controls the base layer encoder 11 and the enhancement layer encoder 13. Alternatively, each of the base layer encoder 11 and the enhancement layer encoder 13 may be driven by its own processor (not shown), and the processors may interoperate with each other, so that the scalable video encoding apparatus 10 may operate. Alternatively, according to control by an external processor (not shown) of the scalable video encoding apparatus 10, the base layer encoder 11 and the enhancement layer encoder 13 may be controlled.</p><p id="p0068" num="0068">The scalable video encoding apparatus 10 may include one or more data storage units (not shown) for storing input and output data of the base layer encoder 11 and the enhancement layer encoder 13. The scalable video encoding apparatus 10 may include a memory controller (not shown) that manages an input and output of data of the one or more data storage units.</p><p id="p0069" num="0069">The scalable video encoding apparatus 10 may interoperate with an internal video encoding processor that is internally embedded or an external video encoding processor so as to output a video encoding result, so that the scalable video encoding apparatus 10 may perform a video encoding operation including transformation. The internal video encoding processor of the scalable video encoding apparatus 10 may perform, as a separate processor, a video encoding operation. Also, the scalable video encoding apparatus 10 may correspond to a case in which a central processing unit (CPU) or a graphical operational unit of the scalable video encoding apparatus 10 includes a video encoding processing module and thus performs a basic video encoding operation.<!-- EPO <DP n="14"> --></p><p id="p0070" num="0070">Therefore, the base layer encoder 11 of the scalable video encoding apparatus 10 may generate a base layer bitstream by encoding a base layer image sequence, and an enhancement layer decoder 26 may generate an enhancement layer bitstream by decoding an enhancement layer image sequence.</p><p id="p0071" num="0071">A scalable video decoding apparatus 20 that receives and decodes the base layer bitstream and the enhancement layer bitstream generated by the scalable video encoding apparatus 10 is described below with reference to <figref idrefs="f0001">FIG. 2</figref>.</p><p id="p0072" num="0072"><figref idrefs="f0001">FIG. 2</figref> illustrates a block diagram of a scalable video decoding apparatus 20, according to an exemplary embodiment.</p><p id="p0073" num="0073">The scalable video decoding apparatus 20 according to the present exemplary embodiment includes a base layer decoder 21 and an enhancement layer decoder 23.</p><p id="p0074" num="0074">The scalable video decoding apparatus 20 according to the present exemplary embodiment may receive bitstreams according to layers, based on a scalable encoding method. The number of layers of the bitstreams that the scalable video decoding apparatus 20 receives is not limited. However, for convenience of description, hereinafter, in an exemplary embodiment, the base layer decoder 21 of the scalable video decoding apparatus 20 receives and decodes a base layer stream, and the enhancement layer decoder 23 receives and decodes an enhancement layer stream.</p><p id="p0075" num="0075">For example, the scalable video decoding apparatus 20 based on spatial scalability may receive a stream in which image sequences having different resolutions are encoded to different layers. A low resolution image sequence may be reconstructed by decoding a base layer stream, and a high resolution image sequence may be reconstructed by decoding an enhancement layer stream.</p><p id="p0076" num="0076">As another example, the scalable video decoding apparatus 20 based on SNR scalability may receive an image bitstream in which a base layer and an enhancement layer are encoded by using different QPs. Low resolution images to which relatively high QP is applied may be decoded from a base layer bitstream, and high resolution images to which relatively low QP is applied may be decoded from an enhancement layer bitstream.</p><p id="p0077" num="0077">As another example, a multiview video may be decoded by using a scalable video coding method. When a stereoscopic video stream having a plurality of layers is received, left-view images may be reconstructed by decoding a base layer stream. By further decoding an enhancement layer stream in addition to the base layer stream, right-view images may be reconstructed.</p><p id="p0078" num="0078">Alternatively, when a multiview video stream having a plurality of layers is received, center-view images may be reconstructed by decoding a base layer stream. By further decoding a first enhancement layer stream in addition to the base layer stream, left-view images may be reconstructed.<!-- EPO <DP n="15"> --> By further decoding a second enhancement layer stream in addition to the base layer stream, right-view images may be reconstructed.</p><p id="p0079" num="0079">As another example, a scalable video coding method based on temporal scalability may be performed. By decoding the base layer stream, images with a base frame rate may be reconstructed. By further decoding the enhancement layer stream in addition to the base layer stream, images with a high speed frame rate may be reconstructed.</p><p id="p0080" num="0080">The scalable video decoding apparatus 20 may obtain encoded data of the base layer images and the enhancement layer images from the base layer stream and the enhancement layer stream, and may further obtain a motion vector generated by inter prediction, and prediction information generated by inter-layer prediction.</p><p id="p0081" num="0081">For example, the scalable video decoding apparatus 20 may decode inter-predicted data of each of layers, and may decode data that is inter-layer predicted between a plurality of layers. The reconstruction may be performed by using motion compensation and inter-layer decoding, based on a coding unit or a prediction unit.</p><p id="p0082" num="0082">Images of each layer stream may be reconstructed by performing motion compensation for a current image by referring to reconstructed images that are predicted via inter prediction using a same layer. The motion compensation means an operation of reconstructing a reconstructed image of the current image by synthesizing a reference image and a residue component of the current image, wherein the reference image is determined by using a motion vector of the current image.</p><p id="p0083" num="0083">Also, the scalable video decoding apparatus 20 may perform the inter-layer decoding by referring to the base layer images, so as to reconstruct the enhancement layer image predicted via the inter-layer prediction. The inter-layer decoding means an operation of reconstructing a reconstructed image of the current image by synthesizing a reference image of another layer and the residual component of the current image, wherein the reference image is determined to predict the current image.</p><p id="p0084" num="0084">An inter-layer prediction structure will be described in detail with reference to <figref idrefs="f0002">FIG. 3</figref>.</p><p id="p0085" num="0085">The scalable video decoding apparatus 20 decodes each of blocks of each of images of a video. The block according to the present exemplary embodiment may be a maximum coding unit, a coding unit, a prediction unit, a transformation unit, etc. from among coding units of a tree structure.</p><p id="p0086" num="0086">The base layer decoder 21 may decode the base layer image by using encoding symbols of a parsed base layer image. If the scalable video decoding apparatus 20 receives streams that are encoded based on the coding units of the tree structure, the base layer decoder 21 may perform decoding on each maximum coding unit of the base layer stream, based on the coding units of the tree structure.<!-- EPO <DP n="16"> --></p><p id="p0087" num="0087">The base layer decoder 21 may perform entropy decoding on each maximum coding unit, and thus may obtain encoding information and the encoded data. The base layer decoder 21 may perform inverse-quantization and inverse-transformation on the encoded data obtained from the stream, and thus may reconstruct a residue component. The base layer decoder 21 according to another exemplary embodiment may directly receive a bitstream of quantized transform coefficients. As a result of the inverse-quantization and the inverse-transformation that are performed on the quantized transform coefficients, a residue component of images may be reconstructed.</p><p id="p0088" num="0088">The base layer decoder 21 may reconstruct the base layer images by combining a prediction image and the residue component, via motion compensation on same layer images.</p><p id="p0089" num="0089">The enhancement layer decoder 23 may perform inter-layer prediction on the enhancement layer image according to blocks such as a coding unit or a prediction unit. A block of the base layer image which is to be referred to by a block of the enhancement layer image may be determined. For example, a reconstructed block of the base layer image that is positioned while corresponding to a position of a current block in the enhancement layer image may be determined. The enhancement layer decoder 23 may determine an enhancement layer prediction block by using a reconstructed base layer block corresponding to an enhancement layer block.</p><p id="p0090" num="0090">In more detail, the base layer decoder 21 may decode encoded samples in each of coding units of a tree structure of a base layer image by performing inverse-quantization, inverse-transformation, inter prediction, or motion compensation, and thus may reconstruct samples included in a current maximum coding unit. A reconstructed image of a previous slice may be generated by performing encoding samples in the previous slice and then decoding the encoded samples. In order to perform inter prediction on a current slice, a reconstructed image of the previous slice may be referred to. Thus, the reconstructed image of the previous slice may be used as a prediction image for a current slice.</p><p id="p0091" num="0091">According to the inter-layer prediction structure, the enhancement layer decoder 23 may generate an enhancement layer prediction image by using samples of the reconstructed base layer image. The enhancement layer decoder 23 may decode the enhancement layer stream, and may obtain a prediction error due to the inter-layer prediction. The enhancement layer decoder 23 may generate the reconstructed enhancement layer image by combining the enhancement layer prediction image with the prediction error.</p><p id="p0092" num="0092">As described above, the enhancement layer decoder 23 may reconstruct the enhancement layer images by referring to reconstructed base layer images via the inter-layer prediction structure. Alternatively, the enhancement layer decoder 23 according to the present exemplary embodiment may reconstruct the enhancement layer images via a single layer prediction structure, without referring to<!-- EPO <DP n="17"> --> other layer samples. The enhancement layer decoder 23 according to another exemplary embodiment may combine inter prediction (motion compensation) in a single layer and inter-layer prediction.</p><p id="p0093" num="0093">Hereinafter, an example in which the enhancement layer images are decoded by using the reconstructed base layer images, according to inter-layer prediction.</p><p id="p0094" num="0094">The base layer decoder 21 may decode encoded symbols in each of coding units of a tree structure of a base layer image by performing inverse-quantization, inverse-transformation, inter prediction, or motion compensation, and thus may reconstruct samples included in a current maximum coding unit. A reconstructed image may be generated by performing decoding on a previous slice. In order to perform motion compensation on a current slice, a reconstructed image of the previous slice may be referred to.</p><p id="p0095" num="0095">The enhancement layer decoder 23 according to the present exemplary embodiment may use the enhancement layer prediction block as a reference image for inter-layer prediction of an enhancement layer original block, wherein the enhancement layer prediction block is determined by using the reconstructed base layer block according to the inter-layer prediction structure. The enhancement layer decoder 23 may reconstruct the enhancement layer block by synthesizing a reconstructed base layer image and a residue component obtained via the inter-layer prediction, wherein the residue component corresponds to an error between a sample value of the enhancement layer prediction block and a sample value of the enhancement layer original block.</p><p id="p0096" num="0096">As spatial scalability, when resolution varies in a base layer image and an enhancement layer image, image sizes are also different. Therefore, in order to generate a reference layer image for the enhancement layer image, the enhancement layer decoder 23 may perform interpolation filtering to upsample a reconstructed base layer image to a resolution of the enhancement layer image.</p><p id="p0097" num="0097">Also, the interpolation filtering may be performed so as to determine a reference block according to each sub-pixel unit when inter-prediction is performed according to each sub-pixel unit.</p><p id="p0098" num="0098">Therefore, in order to decrease the memory bandwidth and the computational load quantity, the enhancement layer decoder 23 according to the present exemplary embodiment may selectively determine whether to perform the inter prediction in a single layer or to perform the inter-layer prediction by using a reference layer image.</p><p id="p0099" num="0099">As described above, for the inter-layer prediction structure, an upsampled reconstructed base layer image that is the reference layer image is required. Thus, the enhancement layer decoder 23 may perform motion compensation on base layer images and thus may generate reconstructed base layer images.</p><p id="p0100" num="0100">The enhancement layer decoder 23 may determine a reference layer image from among reconstructed base layer images so as to perform inter-layer prediction on the enhancement layer<!-- EPO <DP n="18"> --> image. For example, a reconstructed base layer image having the same POC as the enhancement layer image may be determined as the reference layer image. The enhancement layer decoder 23 may perform the IL interpolation filtering on the determined reference layer image and thus may generate an upsampled reference layer image.</p><p id="p0101" num="0101">It is required for a computational load quantity required for the scalable video decoding apparatus 20 according to the present exemplary embodiment to perform inter prediction on a base layer and to perform inter-layer prediction on an enhancement layer is not greater than a computational load quantity required for the scalable video decoding apparatus 20 to perform only inter prediction on each of the base layer and the enhancement layer.</p><p id="p0102" num="0102">As described with reference to <figref idrefs="f0001">FIG. 1</figref>, comparing the inter-layer prediction structure with the individual layer prediction structure, when the inter-layer prediction is performed on the enhancement layer image, any other interpolation filtering should not be added, other than MC interpolation filtering for the inter prediction using the base layer and IL interpolation filtering for the inter-layer prediction using the reconstructed base layer image.</p><p id="p0103" num="0103">Therefore, when the upsampled reference layer image is determined via the IL interpolation filtering, the enhancement layer decoder 23 may determine not to perform inter prediction on enhancement layer images for the enhancement layer image.</p><p id="p0104" num="0104">For example, the enhancement layer decoder 23 may obtain a reference index indicating a residue component and the reference layer image for the inter-layer prediction using the enhancement layer image. Based on the reference index, the enhancement layer decoder 23 may determine not to perform the inter-prediction on the enhancement layer images, and may determine the reference layer image from among the reconstructed base layer images.</p><p id="p0105" num="0105">Thus, the enhancement layer decoder 23 may perform the IL interpolation filtering on the reference layer image and thus may obtain the upsampled reference layer image. The enhancement layer decoder 23 may reconstruct an enhancement layer block by synthesizing the residue component and a reference block of the reference layer image that is upsampled according to blocks. The residue component between the enhancement layer images is synthesized with the upsampled reference layer image, so that the enhancement layer image may be reconstructed.</p><p id="p0106" num="0106">The scalable video decoding apparatus 20 according to another exemplary embodiment may limit the number of times of the MC interpolation filtering and the number of times of the IL interpolation filtering, based on at least one of the number of taps of an MC interpolation filter for the MC interpolation filtering for the inter prediction using the enhancement layer image, the number of taps of an IL interpolation filter for the IL interpolation filtering, and a size of a prediction unit of the enhancement layer image.<!-- EPO <DP n="19"> --></p><p id="p0107" num="0107">For example, interpolation filtering on a block having a size of 8x8 or larger may be limited to i) a combination of 8-tap MC interpolation filtering performed two times or ii) a combination of 8-tap MC interpolation filtering performed one time and 8-tap IL interpolation filtering performed one time.</p><p id="p0108" num="0108">As another example, interpolation filtering on a block having a size of 4x8 or larger may be limited to iii) 8-tap IL interpolation filtering performed one time, iv) a combination of 6-tap IL interpolation filtering performed two times, v) a combination of 4-tap IL interpolation filtering performed two times, or vi) a combination of 2-tap IL interpolation filtering performed three times.</p><p id="p0109" num="0109">As another example, interpolation filtering on a block having a size of 8x16 or larger may be limited to vii) a combination of 8-tap MC interpolation filtering performed two times and 4-tap IL interpolation filtering performed one time, viii) a combination of 2-tap MC interpolation filtering performed four times and 2-tap IL interpolation filtering performed four times, ix) a combination of 8-tap MC interpolation filtering performed two times and 2-tap IL interpolation filtering performed two times, or x) a combination of 8-tap MC interpolation filtering performed two times and 8-tap IL interpolation filtering performed one time.</p><p id="p0110" num="0110">Therefore, the base layer decoder 21 of the scalable video decoding apparatus 20 may reconstruct a base layer image sequence by decoding the base layer stream, and the enhancement layer decoder 23 may reconstruct an enhancement layer image sequence by decoding the enhancement layer stream.</p><p id="p0111" num="0111">The scalable video decoding apparatus 20 according to the present exemplary embodiment may include a central processor (not shown) that generally controls the base layer decoder 21 and the enhancement layer decoder 23. Alternatively, each of the base layer decoder 21 and the enhancement layer decoder 23 may be driven by its own processor (not shown), and the processors may interoperate with each other, so that the scalable video decoding apparatus 20 may operate. Alternatively, according to control by an external processor (not shown) of the scalable video decoding apparatus 20 according to the present exemplary embodiment, the base layer decoder 21 and the enhancement layer decoder 23 may be controlled.</p><p id="p0112" num="0112">The scalable video decoding apparatus 20 according to the present exemplary embodiment may include one or more data storage units (not shown) for storing input and output data of the base layer decoder 21 and the enhancement layer decoder 23. The scalable video decoding apparatus 20 may include a memory controller (not shown) that manages an input and output of data of the one or more data storage units.</p><p id="p0113" num="0113">The scalable video decoding apparatus 20 according to the present exemplary embodiment may interoperate with an internal video decoding processor that is internally embedded<!-- EPO <DP n="20"> --> or an external video decoding processor so as to reconstruct a video via video decoding, so that the scalable video decoding apparatus 20 may perform a video decoding operation including inverse-transformation. The internal video decoding processor of the scalable video decoding apparatus 20 according to the present exemplary embodiment may correspond to not only a separate processor but also may correspond to a case in which a CPU or a graphical operational unit of the scalable video decoding apparatus 20 includes a video decoding processing module and thus performs a basic video decoding operation.</p><p id="p0114" num="0114">As described above, according to the scalable video encoding apparatus 10 and the scalable video decoding apparatus 20 according to the exemplary embodiments, the scalable video encoding apparatus 10 and the scalable video decoding apparatus 20 may selectively determine whether to perform the inter prediction in a single layer or to perform the inter-layer prediction by using the reference layer image, based on at least one of a partition size, a partition shape, and a prediction mode of a block.</p><p id="p0115" num="0115">Therefore, even if the scalable video encoding apparatus 10 according to the previous exemplary embodiment encodes the enhancement layer image according to the inter-layer prediction structure, a memory bandwidth and a computational quantity may not be increased, compared to a case in which prediction is performed on each single layer.</p><p id="p0116" num="0116">Similarly, the scalable video decoding apparatus 20 according to the present exemplary embodiment may decode the base layer images and the enhancement layer images according to the inter-layer prediction structure without an increase in a memory bandwidth and a computational quantity, compared to a prediction structure in which base layer images and enhancement layer images are reconstructed with respect to each single layer.</p><p id="p0117" num="0117"><figref idrefs="f0002">FIG. 3</figref> illustrates in detail a structure of the scalable video encoding apparatus 10, according to an exemplary embodiment.</p><p id="p0118" num="0118">An inter-layer encoding system 1600 includes a base layer encoding terminal 1610, an enhancement layer encoding terminal 1660, and an inter-layer prediction terminal 1650 between the base layer encoding terminal 1610 and the enhancement layer encoding terminal 1660. The base layer encoding terminal 1610 and the enhancement layer encoding terminal 1660 may exhibit particular configurations of the base layer encoder 11 and the enhancement layer encoder 13, respectively.</p><p id="p0119" num="0119">The base layer encoding terminal 1610 receives an input of a base layer image sequence and encodes each image. The enhancement layer encoding terminal 1660 receives an input of an enhancement layer image sequence and encodes each image. Operations that overlap in operations of the base layer encoding terminal 1610 and operations of the enhancement layer encoding terminal 1660 are simultaneously described below.<!-- EPO <DP n="21"> --></p><p id="p0120" num="0120">A block splitter 1618 or 1668 splits an input image (a low resolution image or a high resolution image) to a maximum coding unit, a coding unit, a prediction unit, a transformation unit, etc. In order to encode the coding unit that is output from the block splitter 1618 or 1668, intra prediction or inter prediction may be performed with respect to each prediction unit of the coding unit. A prediction switch 1648 or 1698 may perform the inter prediction by referring to a reconstructed previous image output from a motion compensator 1640 or 1690 or may perform the intra prediction by using a neighbouring prediction unit of a current prediction unit in a current input image output from an intra predictor 1645 or 1695, based on whether a prediction mode of the prediction unit is an intra prediction mode or an inter prediction mode. Residual information may be generated with respect to each prediction unit via the inter prediction.</p><p id="p0121" num="0121">A residue component between the prediction unit and a peripheral image is input to a transformer/quantizer 1620 or 1670, according to each prediction unit of the coding unit. The transformer/quantizer 1620 or 1670 may perform transformation and quantization with respect to each transformation unit, based on the transformation unit of the coding unit, and may output a quantized transformation coefficient.</p><p id="p0122" num="0122">A scaling/inverse transformer 1625 or 1675 may perform scaling and inverse-transformation on the quantized transformation coefficient, according to each transformation unit of the coding unit, and may generate a residue component of a spatial domain. When it is controlled to an inter mode due to the prediction switch 1648 or 1698, the residue component may be synthesized with the reconstructed previous image or the neighbouring prediction unit, so that a reconstructed image including the current prediction unit may be generated and a reconstructed current image may be stored in a storage 1630 or 1680. The reconstructed current image may be transferred to the intra predictor 1645 or 1695 / the motion compensator 1640 or 1690, according to a prediction mode of a prediction unit to be next encoded.</p><p id="p0123" num="0123">In particular, during the inter mode, an in-loop filter 1635 or 1685 may perform at least one of deblocking filtering and Sample Adaptive Offset (SAO) filtering on the reconstructed image stored in the storage 1630 or 1680, according to each coding unit. At least one of the deblocking filtering and the SAO filtering may be performed on the coding unit and at least one of a prediction unit and a transformation unit included in the coding unit.</p><p id="p0124" num="0124">The deblocking filtering is filtering for smoothing a blocking phenomenon of a data unit, and the SAO filtering is filtering for compensating for a pixel value that has been corrupted while data is encoded and decoded. Data that is filtered by the in-loop filter 1635 or 1685 may be transferred to the motion compensator 1640 or 1690, according to each prediction unit. In order to encode a next coding unit output from the block splitter 1618 or 1668, a residue component between the<!-- EPO <DP n="22"> --> reconstructed current image and the next coding unit may be generated, wherein the reconstructed current image is output from the motion compensator 1640 or 1690 and the next coding unit is output from the block splitter 1618 or 1668.</p><p id="p0125" num="0125">In this manner, the aforementioned encoding procedure may be repeated with respect to each coding unit of the input image.</p><p id="p0126" num="0126">Also, for inter-layer prediction, the enhancement layer encoding terminal 1660 may refer to the reconstructed image stored in the storage 1630 of the base layer encoding terminal 1610. An encoding controller 1615 of the base layer encoding terminal 1610 may control the storage 1630 of the base layer encoding terminal 1610, and may transfer the reconstructed image of the base layer encoding terminal 1610 to the enhancement layer encoding terminal 1660. The transferred reconstructed base layer image may be used as a prediction image of the enhancement layer.</p><p id="p0127" num="0127">When the base layer and the enhancement layer have different resolutions, an upsampling unit 1655 of the inter-layer prediction terminal 1650 may upsample the reconstructed base layer image and may transfer an upsampled reconstructed base layer image to the enhancement layer encoding terminal 1660. Therefore, the upsampled reconstructed base layer image may be used as the prediction image of the enhancement layer.</p><p id="p0128" num="0128">When the inter-layer prediction is performed in a manner that an encoding controller 1665 of the enhancement layer encoding terminal 1660 controls the switch 1698, the enhancement layer image may be predicted by referring to the reconstructed base layer image that is transferred via the inter-layer prediction terminal 1650.</p><p id="p0129" num="0129">In order to encode an image, various encoding modes for a coding unit, a prediction unit, and a transformation unit may be set. For example, as an encoding mode for the coding unit, a depth, split information (e.g., a split flag), or the like may be set. As an encoding mode for the prediction unit, a prediction mode, a partition type, intra direction information, reference list information, or the like may be set. As an encoding mode for the prediction unit, a transformation depth, split information or the like may be set.</p><p id="p0130" num="0130">The base layer encoding terminal 1610 may perform encoding by using each of various depths for the coding unit, each of various modes for the prediction unit, each of various partition types, each of various intra directions, each of various reference lists, and each of various transformation depths for the transformation unit, and according to results of the performances, the base layer encoding terminal 1610 may determine an encoding depth, a prediction mode, a partition type, intra direction/reference list, a transformation depth, etc. that have the highest encoding efficiency. However, an encoding mode determined by the base layer encoding terminal 1610 is not limited to the aforementioned encoding modes.<!-- EPO <DP n="23"> --></p><p id="p0131" num="0131">The encoding controller 1615 of the base layer encoding terminal 1610 may control various encoding modes to be appropriately applied to operations of each configuring element. Also, for inter-layer encoding in the enhancement layer encoding terminal 1660, the encoding controller 1615 may control the enhancement layer encoding terminal 1660 to determine an encoding mode or a residue component by referring to the encoding results from the base layer encoding terminal 1610.</p><p id="p0132" num="0132">For example, the enhancement layer encoding terminal 1660 may use an encoding mode of the base layer encoding terminal 1610 as an encoding mode for the enhancement layer image, or may determine the encoding mode for the enhancement layer image by referring to an encoding mode of the base layer encoding terminal 1610. The encoding controller 1615 of the base layer encoding terminal 1610 may use a current encoding mode from the encoding mode of the base layer encoding terminal 1610 so as to determine a current encoding mode of the enhancement layer encoding terminal 1660 by controlling a control signal of the encoding controller 1665 of the enhancement layer encoding terminal 1660.</p><p id="p0133" num="0133">Similar to the inter-layer encoding system 1600 based on an inter-layer prediction technique shown in <figref idrefs="f0002">FIG. 3</figref>, an inter-layer decoding system based on the inter-layer prediction technique may be embodied. That is, the inter-layer decoding system may receive a base layer bitstream and an enhancement layer bitstream. A base layer decoding terminal of the inter-layer decoding system may decode the base layer bitstream and may reconstruct base layer images. An enhancement layer decoding terminal of the inter-layer decoding system for a multilayer video may decode the enhancement layer bitstream by using a reconstructed base layer image and parsed encoding information and may reconstruct enhancement layer images.</p><p id="p0134" num="0134">If the enhancement layer encoder 13 of the scalable video encoding apparatus 10 according to the previous exemplary embodiment performed the inter-layer prediction, the enhancement layer decoder 23 of the scalable video decoding apparatus 20 may reconstruct the enhancement layer images, according to the inter-layer decoding system.</p><p id="p0135" num="0135">Hereinafter, with reference to <figref idrefs="f0003 f0004 f0005">FIGS. 4 through 7</figref>, a memory bandwidth of an individual layer prediction structure is compared with a memory bandwidth of an inter-layer prediction structure.</p><p id="p0136" num="0136"><figref idrefs="f0003">FIG. 4</figref> illustrates base layer images and enhancement layer images in an individual layer prediction structure.</p><p id="p0137" num="0137">According to the individual layer prediction structure, inter prediction may be performed in each of a base layer and an enhancement layer.</p><p id="p0138" num="0138">That is, in the base layer, by using at least one of reference images 48 and 49 that belong to an L0 reference list and reference images 46 and 47 that belong to an L1 reference list, inter prediction for a base layer image BL 45 may be performed. Also, in the enhancement layer, by using<!-- EPO <DP n="24"> --> at least one of reference images 43 and 44 that belong to an L0 reference list and reference images 41 and 42 that belong to an L1 reference list, inter prediction for an enhancement layer image EL 40 may be performed.</p><p id="p0139" num="0139">For motion estimation or motion compensation according to each sub-pixel unit, interpolation filtering on a reference image is required. Therefore, in order to perform inter-prediction on a current image of each layer, MC interpolation filtering may be performed one time in the base layer, and IL interpolation filtering may be performed one time in the enhancement layer.</p><p id="p0140" num="0140"><figref idrefs="f0004">FIG. 5</figref> illustrates base layer images and enhancement layer images in an inter-layer prediction structure.</p><p id="p0141" num="0141">According to the inter-layer prediction structure, inter prediction may be performed in a base layer, and the inter prediction and inter-layer prediction may be performed in an enhancement layer.</p><p id="p0142" num="0142">That is, the inter prediction for a base layer image BL 45 may be performed in the base layer. For motion estimation or motion compensation according to each sub-pixel unit in the base layer, MC interpolation filtering may be performed one time.</p><p id="p0143" num="0143">Also, in the enhancement layer, by using at least one of reference images 53 and 54 that belong to an L0 reference list and reference images 51 and 52 that belong to an L1 reference list, inter prediction for an enhancement layer image EL 50 may be performed. For motion estimation or motion compensation according to each sub-pixel unit in the enhancement layer, MC interpolation filtering may be performed one time.</p><p id="p0144" num="0144">For the inter-layer prediction, upsampled reference layer images 56 and 55 may be generated by upsampling a reconstructed image of the base layer image BL 45. The upsampled reference layer images 56 and 55 may be used for the inter-layer prediction for the enhancement layer image EL 50. In order to perform the inter-layer prediction, IL interpolation filtering may be performed one time for upsampling the reconstructed image of the base layer image BL 45.</p><p id="p0145" num="0145">For motion estimation or motion compensation according to each sub-pixel unit, interpolation filtering on a reference image is required. Therefore, in order to encode a current image of each layer, the interpolation filtering may be performed one time for inter prediction with respect to the base layer, and the interpolation filtering may be performed one time for inter prediction with respect to the enhancement layer.</p><p id="p0146" num="0146">Hereinafter, a computational complexity of an individual layer prediction structure is compared with a computational complexity of an inter-layer prediction structure. The computational complexities may be evaluated, in view of a memory bandwidth required for a computation, the number of times multiplication and addition computations are performed, a dynamic range of a<!-- EPO <DP n="25"> --> computation target sample, a size of a memory to store a filter coefficient, a computation latency, or the like. Throughout the specification, the computational complexities are evaluated by using the memory bandwidth and a computational quantity (the number of times of computations) that are generally required in performing inter prediction and inter-layer prediction.</p><p id="p0147" num="0147">Hereinafter, with reference to <figref idrefs="f0005">FIGS. 6 and 7</figref>, a memory efficiency of interpolation filtering that occurs in an individual layer prediction structure and an inter-layer prediction structure is described below.</p><p id="p0148" num="0148"><figref idrefs="f0005">FIG. 6</figref> illustrates a bandwidth of a memory which is for interpolation filtering with respect to a block.</p><p id="p0149" num="0149">First, it is determined how many adjacent pixels have to be stored in the memory for inter prediction with respect to one sample in the block.</p><p id="p0150" num="0150">In a case of uni-directional prediction, interpolation filtering is required in one direction of L0 or L1. In a case of bi-directional prediction, a memory bandwidth where adjacent pixels are to be stored is required, wherein the adjacent pixels are for interpolation filtering in two directions of L0 and L1.</p><p id="p0151" num="0151">For inter-layer prediction, a memory bandwidth where adjacent pixels are to be stored is required, wherein the adjacent pixels are for interpolation filtering for an upsampling operation from a resolution of a base layer image.</p><p id="p0152" num="0152">In a case where the inter-layer prediction and the inter prediction (uni-direction or bi-direction) are combined, the memory bandwidth for the interpolation filtering for the inter-layer prediction and the memory bandwidth for the interpolation filtering for the inter prediction are both required.</p><p id="p0153" num="0153">When prediction between color components is used, it is required to access various color components stored in different positions in the memory, thus, a required memory bandwidth is also increased.</p><p id="p0154" num="0154">Referring to <figref idrefs="f0005">FIG. 6</figref>, a width and a height of an interpolation block including interpolation target samples are marked as W and H, respectively. A width and a height of a memory pattern indicating a sample area to be read at one time by the memory are marked as w and h (referring to <figref idrefs="f0005">FIG. 7</figref>), respectively.</p><p id="p0155" num="0155">A filter length (the number of filter taps) of an interpolation filter for a luma block is marked as TL, and a filter length of an interpolation filter for a chroma block is marked as TC.</p><p id="p0156" num="0156">A resolution of an enhancement layer that is a prediction target is marked as S_EL, and a resolution of a base layer that is a reference target is marked as S_BL.<!-- EPO <DP n="26"> --></p><p id="p0157" num="0157">A ratio of the enhancement layer and the base layer is marked as S (= S_BL/S_EL). S in x2 spatial scalability may be determined as 1/2, and S in x1.5 spatial scalability may be determined as 2/3. In SNR scalability or motion compensation, S may be determined as 1.</p><p id="p0158" num="0158">A luma block 60 is a quadrangular block whose width is W and height is H, and a chroma block 62 is a quadrangular block whose width is W and height is H/2. In a color format 4:2:0, a Cb component and a Cr component are arranged in an interleaved manner.</p><p id="p0159" num="0159">A memory bandwidth means a maximum value of an amount of data to be accessed to and to be read at one time from a memory. When a memory bandwidth required for inter prediction or inter-layer prediction is increased, memory efficiency may deteriorate. For example, when S approaches 1, the memory efficiency deteriorates.</p><p id="p0160" num="0160">A largest memory bandwidth is required for vertical-direction interpolation filtering and two-dimensional (2D) interpolation filtering via which the vertical-direction interpolation filtering is sequentially performed. For example, a pixel block for the 2D interpolation filtering is determined by extending as a size of an interpolation filter from the luma block 60 and the chroma block 62 in both vertical and horizontal directions. It is requested to have a memory bandwidth for accessing a size of an extended pixel block.</p><p id="p0161" num="0161">That is, for interpolation filtering with respect to the luma block 60, it is requested to have a memory bandwidth for accessing a memory area 61 with a width (W+TL-1) and a height (H+TL-1), based on TL that is a luma interpolation filter size.</p><p id="p0162" num="0162">Also, for interpolation filtering with respect to the chroma block 62, it is requested to have a memory bandwidth for accessing a memory area 63 with a width (W+2*TC-2) and a height (H/2+TL-1), based on TC that is a chroma interpolation filter size.</p><p id="p0163" num="0163">If an enhancement layer block and a reference layer block have different spatial resolutions, scaling according to a resolution ratio is required. That is, a size of a memory area for the interpolation filtering with respect to the luma block 60 may be determined as (W+TL-1)x(H+TL-1)/S/S.</p><p id="p0164" num="0164"><figref idrefs="f0005">FIG. 7</figref> illustrates a memory access pattern.</p><p id="p0165" num="0165">Also, it is not that a sample is read one by one from a memory but samples as much as a memory pattern with a width w and a height h may be read from the memory. However, if an upper left corner of a sample area 71 that is accessible according to the memory pattern does not match with an upper left corner of a memory area 70 that is required for interpolation filtering, an unnecessary memory bandwidth is further required such that memory efficiency may deteriorate.</p><p id="p0166" num="0166">A case in which a memory bandwidth is largest is when a size of a memory pattern is even added to a memory area for interpolation filtering, and in the case, memory efficiency is lowest.<!-- EPO <DP n="27"> --></p><p id="p0167" num="0167">That is, a maximum memory bandwidth required for the interpolation filtering with respect to the luma block 60 may be determined as a width ((W +TL-1)/S+ w-1) and a height ((H +TL-1)/S+ h-1). Similarly, a maximum memory bandwidth required for the interpolation filtering with respect to the chroma block 62 may be determined as a width ((W +2TC-2)/S+ w-1) and a height ((H/2 +TC-1)/S+h-1).</p><p id="p0168" num="0168">As a result, in the enhancement layer block, a maximum memory bandwidth required for interpolation filtering with respect to a sample including all of YCbCr components may be determined as Equation below. <maths id="math0001" num=""><math display="block"><mrow><mfenced separators=""><mfenced separators=""><mi mathvariant="normal">W</mi><mo>+</mo><mi mathvariant="normal">TL</mi><mo>-</mo><mn mathvariant="normal">1</mn></mfenced><mo>/</mo><mi mathvariant="normal">S</mi><mo>+</mo><mi mathvariant="normal">w</mi><mo>-</mo><mn mathvariant="normal">1</mn></mfenced><mo>*</mo><mfenced separators=""><mfenced separators=""><mi mathvariant="normal">H</mi><mo>+</mo><mi mathvariant="normal">TL</mi><mo>-</mo><mn mathvariant="normal">1</mn></mfenced><mo>/</mo><mi mathvariant="normal">S</mi><mo>+</mo><mi mathvariant="normal">h</mi><mo>-</mo><mn mathvariant="normal">1</mn></mfenced><mo>+</mo><mfenced separators=""><mfenced separators=""><mi mathvariant="normal">W</mi><mo>+</mo><mn mathvariant="normal">2</mn><mo>*</mo><mi mathvariant="normal">TC</mi><mo>-</mo><mn mathvariant="normal">2</mn></mfenced><mo>/</mo><mi mathvariant="normal">S</mi><mo>+</mo><mi mathvariant="normal">w</mi><mo>-</mo><mn mathvariant="normal">1</mn></mfenced><mo>*</mo><mfenced separators=""><mfenced separators=""><mi mathvariant="normal">H</mi><mo>/</mo><mn mathvariant="normal">2</mn><mo>+</mo><mi mathvariant="normal">TC</mi><mo>-</mo><mn mathvariant="normal">1</mn></mfenced><mo>/</mo><mi mathvariant="normal">S</mi><mo>+</mo><mi mathvariant="normal">h</mi><mo>-</mo><mn mathvariant="normal">1</mn></mfenced><mo>/</mo><mi mathvariant="normal">W</mi><mo>/</mo><mi mathvariant="normal">H</mi><mn mathvariant="normal">.</mn></mrow></math><img id="ib0001" file="imgb0001.tif" wi="151" he="12" img-content="math" img-format="tif"/></maths></p><p id="p0169" num="0169">The aforementioned memory bandwidth indicates a memory size to be accessed in interpolation filtering for uni-directional inter prediction or inter-layer prediction. For bi-directional inter prediction, a memory bandwidth that is twice as large as the aforementioned memory bandwidth may be required. In a case where the inter-layer prediction and the inter prediction are combined, it is required to have a memory bandwidth with a size as large as a total sum of all memory bandwidths in all interpolation filtering.</p><p id="p0170" num="0170">Also, according to Equation described above with reference to <figref idrefs="f0005">FIGS. 6 and 7</figref>, a memory bandwidth may be changed according to a block size and an inter prediction mode.</p><p id="p0171" num="0171">Therefore, the scalable video encoding apparatus 10 and the scalable video decoding apparatus 20 according to the exemplary embodiments may adjust the number of times of interpolation filtering according to at least one of a block size and an inter prediction mode so as to prevent an excessive increase in a memory bandwidth and a computational load quantity required for interpolation filtering. Hereinafter, with reference to Tables shown in <figref idrefs="f0006">FIGS. 8 and 9</figref>, embodiments in which the number of times of interpolation filtering is limited according to a filter size, a block size, and an inter prediction mode.</p><p id="p0172" num="0172"><figref idrefs="f0006">FIG. 8</figref> illustrates a memory bandwidth for MC interpolation filtering that is changed according to an inter prediction mode and a block size.</p><p id="p0173" num="0173">Referring to <figref idrefs="f0006">FIG. 8</figref>, a memory bandwidth required for interpolation filtering for prediction with respect to an enhancement layer is decreased from a left side toward a right side.</p><p id="p0174" num="0174">A partition type of a block indicates a type according to a size and shape of the block.</p><p id="p0175" num="0175">According to the present exemplary embodiment, bi-directional inter prediction with respect to a 4x8 block and a 8x4 block is limited in the enhancement layer.</p><p id="p0176" num="0176">On the other hand, in the enhancement layer, bi-directional inter prediction with respect to a 8x8 block, a 4x16 block, and a 16x4 block, uni-directional inter prediction with respect to a 4x8<!-- EPO <DP n="28"> --> block, bi-directional inter prediction with respect to a 8x16 block, and uni-directional inter prediction with respect to a 8x4 block are allowed. Also, according to an arranged order, a memory bandwidth required for interpolation filtering for each inter prediction is decreased by degrees.</p><p id="p0177" num="0177"><figref idrefs="f0006">FIG. 9</figref> illustrates a memory bandwidth for IL interpolation filtering that is changed according to a block size, according to an exemplary embodiment.</p><p id="p0178" num="0178">When 2D IL interpolation filtering is performed for inter-layer prediction, a memory bandwidth required for IL interpolation filtering is same as a memory bandwidth required for MC interpolation filtering for uni-directional prediction. However, when a size of a prediction target block is decreased, the memory bandwidth required for IL interpolation filtering may be increased.</p><p id="p0179" num="0179">Referring to <figref idrefs="f0006">FIG. 9</figref>, according to an order of a 4x8 block, a 8x4 block, a 8x8 block, a 4x16 block, a 16x4 block, a 8x16 block, and a 8x32 block, the memory bandwidth required for IL interpolation filtering may be decreased.</p><p id="p0180" num="0180">The scalable video encoding apparatus 10 and the scalable video decoding apparatus 20 according to the exemplary embodiments may set a limit condition about whether or not to perform both inter-layer prediction and inter prediction in the enhancement layer. For example, under a predetermined condition, inter prediction cannot be performed in the enhancement layer, and only inter-layer prediction may be performed.</p><p id="p0181" num="0181">Hereinafter, with reference to <figref idrefs="f0007">FIGS. 10</figref> and <figref idrefs="f0008">11</figref>, the number of times of interpolation filtering required for base layer encoding and enhancement layer encoding is compared in a case without a limit condition and another case with the limit condition.</p><p id="p0182" num="0182"><figref idrefs="f0007">FIG. 10</figref> illustrates the number of times interpolation filtering is performed in base layer encoding and enhancement layer encoding, with the limit condition.</p><p id="p0183" num="0183">First, uni-directional prediction or bi-directional prediction may be performed for motion compensation, but a required memory bandwidth is doubled in the bi-directional prediction. In order to introduce a case in which a largest memory bandwidth is required for motion compensation, it is assumed that the motion compensation is performed via the bi-directional prediction.</p><p id="p0184" num="0184">First, in a two-layer individual coding structure, base layer inter prediction and enhancement layer inter prediction are performed. The motion compensation may be performed in each of the base layer inter prediction and the enhancement layer inter prediction.</p><p id="p0185" num="0185">Since a reference block for the motion compensation is determined according to each sub-pixel unit, horizontal-direction MC interpolation filtering and vertical-direction MC interpolation filtering are required. Also, for motion compensation in L0 and L1 directions, horizontal-direction MC interpolation filtering and vertical-direction MC interpolation filtering may be performed in each of the directions.<!-- EPO <DP n="29"> --></p><p id="p0186" num="0186">Therefore, for the base layer inter prediction in the two-layer individual coding structure, the horizontal MC interpolation filtering and the vertical MC interpolation filtering may be performed in the L0 direction. Also, for the enhancement layer inter prediction in the two-layer individual coding structure, the horizontal MC interpolation filtering and the vertical MC interpolation filtering may be performed in the L0 direction. Therefore, in the two-layer individual coding structure, a memory bandwidth and a computational load quantity for interpolation filtering that are performed four times are required.</p><p id="p0187" num="0187">Next, a two-layer reference coding structure, a prediction method may be changed according to whether or not inter-layer prediction is performed.</p><p id="p0188" num="0188">First, even if it is the two-layer reference coding structure, if the inter-layer prediction is not performed, as in the two-layer individual coding structure, horizontal MC interpolation filtering and vertical MC interpolation filtering may be performed in a L0 direction, and the horizontal MC interpolation filtering and the vertical MC interpolation filtering may be performed in a L1 direction for base layer inter prediction. Also, for enhancement layer inter prediction, horizontal MC interpolation filtering and vertical MC interpolation filtering may be performed in the L0 direction, and the horizontal MC interpolation filtering and the vertical MC interpolation filtering may be performed in the L1 direction. That is, a memory bandwidth and a computational load quantity for interpolation filtering that are performed maximum eight times are required.</p><p id="p0189" num="0189">However, if the inter-layer prediction is performed in the two-layer reference coding structure, in order to generate an upsampled reference image for the inter-layer prediction, horizontal-direction IL interpolation filtering and vertical-direction IL interpolation filtering may be further performed. Thus, if the inter-layer prediction is performed, a memory bandwidth and a computational load quantity for interpolation filtering that are performed maximum ten times may be required.</p><p id="p0190" num="0190"><figref idrefs="f0008">FIG. 11</figref> illustrates the number of times interpolation filtering is performed in base layer encoding and enhancement layer encoding, under a predetermined condition, according to an exemplary embodiment.</p><p id="p0191" num="0191">When an additional memory bandwidth and computational load quantity are required according to inter-layer prediction, the scalable video encoding apparatus 10 and the scalable video decoding apparatus 20 according to the exemplary embodiments may limit inter prediction for enhancement layer prediction.</p><p id="p0192" num="0192">The scalable video decoding apparatus 20 may perform MC interpolation filtering four times which includes horizontal-direction interpolation filtering and vertical-direction interpolation filtering in each of L0 and L1 directions, using a base layer image. Also, in order to generate an<!-- EPO <DP n="30"> --> upsampled reference layer image for the inter-layer prediction, the scalable video decoding apparatus 20 may perform IL interpolation filtering two times which include horizontal-direction IL interpolation filtering and vertical-direction IL interpolation filtering, using a reference layer image.</p><p id="p0193" num="0193">The scalable video decoding apparatus 20 may limit interpolation filtering for the inter-layer prediction to the MC interpolation filtering performed four times for base layer inter prediction and IL interpolation filtering performed two times for the inter-layer prediction. That is, the number of times of the interpolation filtering may be limited to six times.</p><p id="p0194" num="0194">Therefore, referring to <figref idrefs="f0008">FIG. 11</figref>, when the inter-layer prediction is performed, the scalable video decoding apparatus 20 may determine a motion vector for enhancement layer inter prediction as 0. That is, because the motion vector is 0, MC interpolation filtering for inter prediction may be skipped.</p><p id="p0195" num="0195">Also, when a reference index for a current layer image indicates the upsampled reference layer image, i.e., when the inter-layer prediction is performed, the scalable video decoding apparatus 20 according to another exemplary embodiment may determine all variables related to the motion vector as 0, wherein the variables include a merge index indicating a merge target block, a mvp flag indicating whether a motion vector predictor is used, a reference index of a motion vector, mvd that is motion vector difference information, and a flag (mvd zero flag) indicating whether or not mvd is 0.</p><p id="p0196" num="0196">Therefore, referring to <figref idrefs="f0008">FIG. 11</figref>, a computational quantity of interpolation filtering for inter-layer prediction using an enhancement layer image may not be greater than a total sum of a first computational quantity of MC interpolation filtering for inter prediction using base layer images and a second computational quantity of MC interpolation filtering for inter prediction using enhancement layer images.</p><p id="p0197" num="0197">According to another exemplary embodiment, if both inter-layer prediction and inter prediction may be performed using an enhancement layer, the scalable video encoding apparatus 10 and the scalable video decoding apparatus 20 may determine in such a manner that a filter size for IL interpolation filtering is not greater than a filter size for MC interpolation filtering. Hereinafter, with reference to <figref idrefs="f0009">FIG. 12</figref>, possible combinations of the MC interpolation filtering and the IL interpolation filtering are presented, provided that a filter size for the IL interpolation filtering is not greater than a filter size for the MC interpolation filtering.</p><p id="p0198" num="0198"><figref idrefs="f0009">FIG. 12</figref> illustrates combinations of MC interpolation filtering and IL interpolation filtering that may be performed under a predetermined condition, according to an exemplary embodiment.</p><p id="p0199" num="0199">According to the H.265/HEVC standards, when inter prediction is performed on a block having a size of 8x8 or larger, an 8-tap interpolation filter is used for MC interpolation filtering with<!-- EPO <DP n="31"> --> respect to a luma block, and a 4-tap interpolation filter is used for the MC interpolation filtering with respect to a chroma block. According to the H.264 standard, when inter prediction is performed on a block having a size of 4x4 or larger, a 6-tap interpolation filter is used for MC interpolation filtering with respect to a luma block, and a 2-tap interpolation filter is used for the MC interpolation filtering with respect to a chroma block.</p><p id="p0200" num="0200">The scalable video decoding apparatus 20, in order to perform inter-layer prediction, may sequentially perform IL interpolation filtering two times by using an 8-tap interpolation filter for the IL interpolation filtering with respect to a luma block and by using a 4-tap interpolation filter for the IL interpolation filtering with respect to a chroma block. Here, an allowed minimum block size is 8x8.</p><p id="p0201" num="0201">The scalable video decoding apparatus 20, in order to combine inter prediction and inter-layer prediction for a block having a size of 8x8 or larger, may use an 8-tap MC interpolation filter for the MC interpolation filtering and an 8-tap IL interpolation filter for the IL interpolation filtering with respect to a luma block. The scalable video decoding apparatus 20 may use a 4-tap MC interpolation filter for the MC interpolation filtering and a 4-tap IL interpolation filter for the IL interpolation filtering with respect to a chroma block.</p><p id="p0202" num="0202">When the scalable video decoding apparatus 20 performs inter-layer prediction on a luma block having a size of 4x8 or larger by using an 8-tap IL interpolation filter, the scalable video decoding apparatus 20 may allow IL interpolation filtering one time and may limit inter prediction. Only 4-tap IL interpolation filtering may be allowed one time with respect to a chroma block of a corresponding block.</p><p id="p0203" num="0203">When inter-layer prediction is performed on the luma block having a size of 4x8 or larger by using a 6-tap or 4-tap IL interpolation filter, the IL interpolation filtering may be allowed two times but the inter prediction may be limited. 2-tap IL interpolation filtering may be allowed two times with respect to the chroma block of the corresponding block.</p><p id="p0204" num="0204">When the inter-layer prediction is performed on the luma block having a size of 4x8 or larger by using a 2-tap IL interpolation filter, the IL interpolation filtering may be allowed three times but the inter prediction may be limited. 2-tap IL interpolation filtering may be allowed three times with respect to the chroma block of the corresponding block.</p><p id="p0205" num="0205">When the scalable video decoding apparatus 20 performs inter-layer prediction on a luma block having a size of 8x16 or larger by using a 4-tap or 2-tap IL interpolation filter, the scalable video decoding apparatus 20 may allow IL interpolation filtering one time and may allow MC interpolation filtering two times using an 8-tap MC interpolation filter. 4-tap MC interpolation filtering may be performed two times and 2-tap IL interpolation filtering may be performed one time for MC interpolation filtering with respect to a chroma block of a corresponding block.<!-- EPO <DP n="32"> --></p><p id="p0206" num="0206">Also, when the scalable video decoding apparatus 20 performs IL interpolation filtering two times on the luma block having a size of 8x16 or larger by using a 2-tap IL interpolation filter, the scalable video decoding apparatus 20 may allow MC interpolation filtering four times using a 2-tap MC interpolation filter. 2-tap MC interpolation filtering may be performed four times and 2-tap IL interpolation filtering may be performed two times for the MC interpolation filtering with respect to the chroma block of the corresponding block.</p><p id="p0207" num="0207">Also, when the scalable video decoding apparatus 20 performs the IL interpolation filtering two times on the luma block having a size of 8x16 or larger by using the 2-tap IL interpolation filter, the scalable video decoding apparatus 20 may allow MC interpolation filtering two times using an 8-tap MC interpolation filter. 4-tap MC interpolation filtering may be performed two times and 4-tap IL interpolation filtering may be performed two times for the MC interpolation filtering with respect to the chroma block of the corresponding block.</p><p id="p0208" num="0208">Also, when the scalable video decoding apparatus 20 performs the IL interpolation filtering one time on the luma block having a size of 8x16 or larger by using an 8-tap IL interpolation filter, the scalable video decoding apparatus 20 may allow the MC interpolation filtering two times using the 8-tap MC interpolation filter. the 4-tap MC interpolation filtering may be performed two times and the 4-tap IL interpolation filtering may be performed one time for the MC interpolation filtering with respect to the chroma block of the corresponding block.</p><p id="p0209" num="0209">According to the aforementioned various combinations of the inter prediction and the inter-layer prediction that may be performed with respect to the enhancement layer, a minimum block size that allows the combination of the inter-layer prediction and the inter prediction is 8x8.</p><p id="p0210" num="0210"><figref idrefs="f0010">FIG. 13</figref> illustrates a flowchart of a scalable video encoding method, according to an exemplary embodiment.</p><p id="p0211" num="0211">In operation 131, the scalable video encoding apparatus 10 may determine a reference layer image from among base layer images so as to perform inter-layer prediction on an enhancement layer image.</p><p id="p0212" num="0212">First, the scalable video encoding apparatus 10 may perform MC interpolation filtering four times which include horizontal-direction interpolation filtering and vertical-direction interpolation filtering in each of L0 and L1 prediction directions, using a base layer image, and thus may perform motion estimation and motion compensation. A reconstructed base layer image may be generated via the motion compensation. The reference layer image of the enhancement layer image may be determined from among reconstructed base layer images.</p><p id="p0213" num="0213">In operation 133, the scalable video encoding apparatus 10 may perform IL interpolation filtering on the reference layer image and thus may generate an upsampled reference layer image.<!-- EPO <DP n="33"> --></p><p id="p0214" num="0214">The scalable video encoding apparatus 10 may perform, on the reference layer image, the IL interpolation filtering two times which include horizontal-direction IL interpolation filtering and vertical-direction IL interpolation filtering, and thus may generate the upsampled reference layer image.</p><p id="p0215" num="0215">In order to prevent an increase in a computational quantity, compared to a two-layer individual prediction structure, when the scalable video encoding apparatus 10 performs inter-layer prediction on a sample from among the enhancement layer image, the scalable video encoding apparatus 10 may limit interpolation filtering to MC interpolation filtering performed four times and IL interpolation filtering performed two times.</p><p id="p0216" num="0216">In operation 135, when the upsampled reference layer image is determined via the IL interpolation filtering, the scalable video encoding apparatus 10 may determine not to perform inter prediction using enhancement layer images for the enhancement layer image. The scalable video encoding apparatus 10 may encode a residue component between the upsampled reference layer image and the enhancement layer image, and thus may output an enhancement layer bitstream.</p><p id="p0217" num="0217">The scalable video encoding apparatus 10 may encode a reference index indicating a reference image according to each block. For the block to which the inter-layer prediction is performed, the reference index indicating that a reference image used for the enhancement layer image is an upsampled reference image may be encoded. In this case, since the scalable video encoding apparatus 10 skips inter prediction in an enhancement layer, the scalable video encoding apparatus 10 may encode a motion vector in such a manner that the motion vector for the inter prediction in the enhancement layer images indicates 0.</p><p id="p0218" num="0218"><figref idrefs="f0010">FIG. 14</figref> illustrates a flowchart of a scalable video decoding method, according to an exemplary embodiment.</p><p id="p0219" num="0219">In operation 141, the scalable video decoding apparatus 20 may obtain a reference index indicating a residue component and a reference layer image for inter-layer prediction using an enhancement layer image.</p><p id="p0220" num="0220">In operation 143, the scalable video decoding apparatus 20 may determine not to perform inter prediction using enhancement layer images, based on the reference index, and may determine the reference layer image from among base layer images.</p><p id="p0221" num="0221">When the reference index of the enhancement layer image indicates an upsampled reference image, the scalable video decoding apparatus 20 may determine a motion vector as 0, wherein the motion vector is for the inter prediction using the enhancement layer images.</p><p id="p0222" num="0222">First, the scalable video decoding apparatus 20 may determine a reference image for motion compensation using a base layer image. In order to determine a reference block in a sub-pixel<!-- EPO <DP n="34"> --> unit from the reference image, the scalable video decoding apparatus 20 may perform, on the reference image, MC interpolation filtering four times which include horizontal-direction interpolation filtering and vertical-direction interpolation filtering in each of L0 and L1 prediction directions. When motion compensation is performed using the base layer image, a reconstructed base layer image may be generated.</p><p id="p0223" num="0223">In operation 145, the scalable video decoding apparatus 20 may perform IL interpolation filtering on the previously-determined reference layer image, and thus may generate an upsampled reference layer image.</p><p id="p0224" num="0224">The scalable video decoding apparatus 20 may perform, on the reference layer image determined from among reconstructed base layer images, the IL interpolation filtering two times which include horizontal-direction IL interpolation filtering and vertical-direction IL interpolation filtering, and thus may generate the upsampled reference layer image.</p><p id="p0225" num="0225">When inter-layer prediction is performed on a sample from among the enhancement layer image, interpolation filtering may be limited to the MC interpolation filtering performed four times in the operation 143 and the IL interpolation filtering performed two times in the operation 145.</p><p id="p0226" num="0226">In operation 147, the scalable video decoding apparatus 20 may reconstruct the enhancement layer image by using the residue component of the inter-layer prediction and the upsampled reference layer image.</p><p id="p0227" num="0227">In order to prevent an increase in a computational quantity of an inter-layer prediction structure, compared to a two-layer individual prediction structure, the scalable video encoding apparatus 10 and the scalable video decoding apparatus 20 according to another exemplary embodiment may limit the number of times of the MC interpolation filtering and the number of times of the IL interpolation filtering, based on at least one of the number of taps of an MC interpolation filter for the MC interpolation filtering using the enhancement layer image, the number of taps of an IL interpolation filter for the IL interpolation filtering, and a size of a prediction unit of the enhancement layer image.</p><p id="p0228" num="0228">Accordingly, a computational quantity of interpolation filtering for inter-layer prediction using the enhancement layer image may be adjusted not to be greater than a total sum of a first computational quantity of MC interpolation filtering for inter prediction using the base layer images and a second computational quantity of MC interpolation filtering for inter prediction using the enhancement layer images.</p><p id="p0229" num="0229">As described above, the scalable video encoding apparatus 10 and the scalable video decoding apparatus 20 according to the exemplary embodiments split blocks of divided video data into coding units of a tree structure, and encoding units, prediction units, and transformation units are<!-- EPO <DP n="35"> --> used for inter-layer prediction or inter-prediction of the coding unit. Hereinafter, with reference to <figref idrefs="f0011 f0012 f0013 f0014 f0015 f0016 f0017 f0018 f0019 f0020">FIGS. 15 through 27</figref>, a video encoding method and apparatus therefor, and a video decoding method and apparatus therefor, based on coding units and transformation units of a tree structure, are described.</p><p id="p0230" num="0230">Basically, in an encoding/decoding procedure for a multilayer video, an encoding/decoding procedure for base layer images, and an encoding/decoding procedure for enhancement layer images are separately performed. That is, when inter-layer prediction occurs in the multilayer video, encoding/decoding results of a single layer video may be mutually referred to, but an encoding/decoding procedure is performed for each of single layer videos.</p><p id="p0231" num="0231">Therefore, for convenience of description, a video encoding procedure and a video decoding procedure based on coding units of a tree structure that are described layer with reference to <figref idrefs="f0011 f0012 f0013 f0014 f0015 f0016 f0017 f0018 f0019 f0020">FIGS. 15 through 27</figref> are a video encoding procedure and a video decoding procedure for a single layer video, thus, inter-prediction and motion compensation are described in detail. However, as described above with reference to <figref idrefs="f0001 f0002 f0003 f0004 f0005 f0006 f0007 f0008 f0009 f0010">FIGS. 1 through 14</figref>, for encoding/decoding a video stream, inter-layer prediction and compensation between base layer images and enhancement layer images are performed.</p><p id="p0232" num="0232">Therefore, in order for the base layer encoder 11 of the scalable video encoding apparatus 10 according to the present exemplary embodiment to encode a multilayer video, based on coding units of a tree structure, the base layer encoder 11 may include video encoding apparatuses 100 of <figref idrefs="f0011">FIG. 15</figref> corresponding to the number of layers of a multilayer video so as to perform video encoding on each of single layer videos, and may control the video encoding apparatuses 100 to encode the single layer videos, respectively. Also, the scalable video encoding apparatus 10 may perform inter-view prediction by using encoding results with respect to discrete single views obtained by the video encoding apparatuses 100. Accordingly, the base layer encoder 11 of the scalable video encoding apparatus 10 may generate a base layer video stream and an enhancement layer video stream that include an encoding result of each layer.</p><p id="p0233" num="0233">Similarly, in order for the enhancement layer decoder 23 of the scalable video decoding apparatus 20 to decode a multilayer video, based on coding units of a tree structure, the enhancement layer decoder 23 may include video decoding apparatuses 200 of <figref idrefs="f0011">FIG. 16</figref> corresponding to the number of layers of a multilayer video so as to perform video decoding on each of layers of a received base layer video stream and a received enhancement layer video stream, and may control the video decoding apparatuses 200 to decode single layer videos, respectively. Then, the scalable video decoding apparatus 20 may perform inter-layer compensation by using decoding results with respect to discrete single layers obtained by the video decoding apparatuses 200. Accordingly, the<!-- EPO <DP n="36"> --> enhancement layer decoder 23 of the scalable video decoding apparatus 20 may generate base layer images and enhancement layer images that are reconstructed for each of the layers.</p><p id="p0234" num="0234"><figref idrefs="f0011">FIG. 15</figref> is a block diagram of a video encoding apparatus based on coding units of a tree structure 100, according to an exemplary embodiment.</p><p id="p0235" num="0235">The video encoding apparatus involving video prediction based on coding units of the tree structure 100 includes a coding unit determiner 120 and an output unit 130. Hereinafter, for convenience of description, the video encoding apparatus involving video prediction based on coding units of the tree structure 100 is referred as 'video encoding apparatus 100'.</p><p id="p0236" num="0236">The coding unit determiner 120 may split a current picture based on a maximum coding unit that is a coding unit having a maximum size for a current picture of an image. If the current</p><p id="p0237" num="0237">picture is larger than the maximum coding unit, image data of the current picture may be split into the at least one maximum coding unit. The maximum coding unit according to an exemplary embodiment may be a data unit having a size of 32x32, 64x64, 128x128, 256x256, etc., wherein a shape of the data unit is a square having a width and length in squares of 2.</p><p id="p0238" num="0238">A coding unit according to an embodiment may be characterized by a maximum size and a depth. The depth denotes the number of times the coding unit is spatially split from the maximum coding unit, and as the depth deepens, deeper coding units according to depths may be split from the maximum coding unit to a minimum coding unit. A depth of the maximum coding unit is an uppermost depth and a depth of the minimum coding unit is a lowermost depth. Since a size of a coding unit corresponding to each depth decreases as the depth of the maximum coding unit deepens, a coding unit corresponding to an upper depth may include a plurality of coding units corresponding to lower depths.</p><p id="p0239" num="0239">As described above, the image data of the current picture is split into the maximum coding units according to a maximum size of the coding unit, and each of the maximum coding units may include deeper coding units that are split according to depths. Since the maximum coding unit according to an exemplary embodiment is split according to depths, the image data of a spatial domain included in the maximum coding unit may be hierarchically classified according to depths.</p><p id="p0240" num="0240">A maximum depth and a maximum size of a coding unit, which limit the total number of times a height and a width of the maximum coding unit are hierarchically split, may be predetermined.</p><p id="p0241" num="0241">The coding unit determiner 120 encodes at least one split region obtained by splitting a region of the maximum coding unit according to depths, and determines a depth to output a finally encoded image data according to the at least one split region. In other words, the coding unit determiner 120 determines a coded depth by encoding the image data in the deeper coding units<!-- EPO <DP n="37"> --> according to depths, according to the maximum coding unit of the current picture, and selecting a depth having the least encoding error. The determined coded depth and the encoded image data according to the determined coded depth are output to the output unit 130.</p><p id="p0242" num="0242">The image data in the maximum coding unit is encoded based on the deeper coding units corresponding to at least one depth equal to or below the maximum depth, and results of encoding the image data are compared based on each of the deeper coding units. A depth having the least encoding error may be selected after comparing encoding errors of the deeper coding units. At least one coded depth may be selected for each maximum coding unit.</p><p id="p0243" num="0243">The size of the maximum coding unit is split as a coding unit is hierarchically split according to depths, and as the number of coding units increases. Also, even if coding units correspond to the same depth in one maximum coding unit, it is determined whether to split each of the coding units corresponding to the same depth to a lower depth by measuring an encoding error of the image data of the each coding unit, separately. Accordingly, even when image data is included in one maximum coding unit, the encoding errors may differ according to regions in the one maximum coding unit, and thus the coded depths may differ according to regions in the image data. Thus, one or more coded depths may be determined in one maximum coding unit, and the image data of the maximum coding unit may be divided according to coding units of at least one coded depth.</p><p id="p0244" num="0244">Accordingly, the coding unit determiner 120 may determine coding units having a tree structure included in the maximum coding unit. The 'coding units having a tree structure' according to an exemplary embodiment include coding units corresponding to a depth determined to be the coded depth, from among all deeper coding units included in the maximum coding unit. A coding unit of a coded depth may be hierarchically determined according to depths in the same region of the maximum coding unit, and may be independently determined in different regions. Similarly, a coded depth in a current region may be independently determined from a coded depth in another region.</p><p id="p0245" num="0245">A maximum depth according to an exemplary embodiment is an index related to the number of splitting times from a maximum coding unit to a minimum coding unit. A first maximum depth according to an exemplary embodiment may denote the total number of splitting times from the maximum coding unit to the minimum coding unit. A second maximum depth according to an exemplary embodiment may denote the total number of depth levels from the maximum coding unit to the minimum coding unit. For example, when a depth of the maximum coding unit is 0, a depth of a coding unit, in which the maximum coding unit is split once, may be set to 1, and a depth of a coding unit, in which the maximum coding unit is split twice, may be set to 2. Here, if the minimum coding unit is a coding unit in which the maximum coding unit is split four times, 5 depth levels of depths 0,<!-- EPO <DP n="38"> --> 1, 2, 3, and 4 exist, and thus the first maximum depth may be set to 4, and the second maximum depth may be set to 5.</p><p id="p0246" num="0246">Prediction encoding and transformation may be performed according to the maximum coding unit. The prediction encoding and the transformation are also performed based on the deeper coding units according to a depth equal to or depths less than the maximum depth, according to the maximum coding unit.</p><p id="p0247" num="0247">Since the number of deeper coding units increases whenever the maximum coding unit is split according to depths, encoding, including the prediction encoding and the transformation, is performed on all of the deeper coding units generated as the depth deepens. For convenience of description, the prediction encoding and the transformation will now be described based on a coding unit of a current depth, in a maximum coding unit.</p><p id="p0248" num="0248">The video encoding apparatus 100 may variously select a size or shape of a data unit for encoding the image data. In order to encode the image data, operations, such as prediction encoding, transformation, and entropy encoding, are performed, and at this time, the same data unit may be used for all operations or different data units may be used for each operation.</p><p id="p0249" num="0249">For example, the video encoding apparatus 100 may select not only a coding unit for encoding the image data, but also a data unit different from the coding unit so as to perform the prediction encoding on the image data in the coding unit.</p><p id="p0250" num="0250">In order to perform prediction encoding in the maximum coding unit, the prediction encoding may be performed based on a coding unit corresponding to a coded depth, i.e., based on a coding unit that is no longer split into coding units corresponding to a lower depth. Hereinafter, the coding unit that is no longer split and becomes a basis unit for prediction encoding will now be referred to as a 'prediction unit'. A partition obtained by splitting the prediction unit may include a prediction unit or a data unit obtained by splitting at least one selected from a height and a width of the prediction unit. A partition is a data unit where a prediction unit of a coding unit is split, and a prediction unit may be a partition having the same size as a coding unit.</p><p id="p0251" num="0251">For example, when a coding unit of 2Nx2N (where N is a positive integer) is no longer split and becomes a prediction unit of 2Nx2N, and a size of a partition may be 2Nx2N, 2NxN, Nx2N, or NxN. Examples of a partition type include symmetrical partitions that are obtained by symmetrically splitting a height or width of the prediction unit, partitions obtained by asymmetrically splitting the height or width of the prediction unit, such as 1:n or n: 1, partitions that are obtained by geometrically splitting the prediction unit, and partitions having arbitrary shapes.</p><p id="p0252" num="0252">A prediction mode of the prediction unit may be at least one selected from an intra mode, a inter mode, and a skip mode. For example, the intra mode or the inter mode may be performed on<!-- EPO <DP n="39"> --> the partition of 2Nx2N, 2NxN, Nx2N, or NxN. Also, the skip mode may be performed only on the partition of 2Nx2N. The encoding is independently performed on one prediction unit in a coding unit, thereby selecting a prediction mode having a least encoding error.</p><p id="p0253" num="0253">The video encoding apparatus 100 may also perform the transformation on the image data in a coding unit based not only on the coding unit for encoding the image data, but also based on a data unit that is different from the coding unit. In order to perform the transformation in the coding unit, the transformation may be performed based on a data unit having a size smaller than or equal to the coding unit. For example, the data unit for the transformation may include a data unit for an intra mode and a data unit for an inter mode.</p><p id="p0254" num="0254">The transformation unit in the coding unit may be recursively split into smaller sized regions in the similar manner as the coding unit according to the tree structure. Thus, residual data in the coding unit may be divided according to the transformation unit having the tree structure according to transformation depths.</p><p id="p0255" num="0255">A transformation depth indicating the number of splitting times to reach the transformation unit by splitting the height and width of the coding unit may also be set in the transformation unit. For example, in a current coding unit of 2Nx2N, a transformation depth may be 0 when the size of a transformation unit is 2Nx2N, may be 1 when the size of the transformation unit is NxN, and may be 2 when the size of the transformation unit is N/2xN/2. In other words, the transformation unit having the tree structure may be set according to the transformation depths.</p><p id="p0256" num="0256">Encoding information according to coding units corresponding to a coded depth requires not only information about the coded depth, but also about information related to prediction encoding and transformation. Accordingly, the coding unit determiner 120 not only determines a coded depth having a least encoding error, but also determines a partition type in a prediction unit, a prediction mode according to prediction units, and a size of a transformation unit for transformation.</p><p id="p0257" num="0257">Coding units according to a tree structure in a maximum coding unit and methods of determining a prediction unit/partition, and a transformation unit, according to exemplary embodiments, will be described in detail later with reference to <figref idrefs="f0012 f0013 f0014 f0015 f0016 f0017 f0018 f0019 f0020">FIGS. 17 through 27</figref>.</p><p id="p0258" num="0258">The coding unit determiner 120 may measure an encoding error of deeper coding units according to depths by using Rate-Distortion Optimization based on Lagrangian multipliers.</p><p id="p0259" num="0259">The output unit 130 outputs the image data of the maximum coding unit, which is encoded based on the at least one coded depth determined by the coding unit determiner 120, and information about the encoding mode according to the coded depth, in bitstreams.</p><p id="p0260" num="0260">The encoded image data may be obtained by encoding residual data of an image.<!-- EPO <DP n="40"> --></p><p id="p0261" num="0261">The information about the encoding mode according to coded depth may include information about the coded depth, about the partition type in the prediction unit, the prediction mode, and the size of the transformation unit.</p><p id="p0262" num="0262">The information about the coded depth may be defined by using split information according to depths, which indicates whether encoding is performed on coding units of a lower depth instead of a current depth. If the current depth of the current coding unit is the coded depth, image data in the current coding unit is encoded and output, and thus the split information may be defined not to split the current coding unit to a lower depth. Alternatively, if the current depth of the current coding unit is not the coded depth, the encoding is performed on the coding unit of the lower depth, and thus the split information may be defined to split the current coding unit to obtain the coding units of the lower depth.</p><p id="p0263" num="0263">If the current depth is not the coded depth, encoding is performed on the coding unit that is split into the coding unit of the lower depth. Since at least one coding unit of the lower depth exists in one coding unit of the current depth, the encoding is repeatedly performed on each coding unit of the lower depth, and thus the encoding may be recursively performed for the coding units having the same depth.</p><p id="p0264" num="0264">Since the coding units having a tree structure are determined for one maximum coding unit, and information about at least one encoding mode is determined for a coding unit of a coded depth, information about at least one encoding mode may be determined for one maximum coding unit. Also, a coded depth of the image data of the maximum coding unit may be different according to locations since the image data is hierarchically split according to depths, and thus information about the coded depth and the encoding mode may be set for the image data.</p><p id="p0265" num="0265">Accordingly, the output unit 130 may assign encoding information about a corresponding coded depth and an encoding mode to at least one of the coding unit, the prediction unit, and a minimum unit included in the maximum coding unit.</p><p id="p0266" num="0266">The minimum unit according to an exemplary embodiment is a square data unit obtained by splitting the minimum coding unit constituting the lowermost depth by 4. Alternatively, the minimum unit according to an embodiment may be a maximum square data unit that may be included in all of the coding units, prediction units, partition units, and transformation units included in the maximum coding unit.</p><p id="p0267" num="0267">For example, the encoding information output by the output unit 130 may be classified into encoding information according to deeper coding units, and encoding information according to prediction units. The encoding information according to the deeper coding units may include the information about the prediction mode and about the size of the partitions. The encoding information<!-- EPO <DP n="41"> --> according to the prediction units may include information about an estimated direction during an inter mode, about a reference image index of the inter mode, about a motion vector, about a chroma component of an intra mode, and about an interpolation method during the intra mode.</p><p id="p0268" num="0268">Information about a maximum size of the coding unit defined according to pictures, slices, or GOPs, and information about a maximum depth may be inserted into a header of a bitstream, a sequence parameter set, or a picture parameter set.</p><p id="p0269" num="0269">Information about a maximum size of the transformation unit permitted with respect to a current video, and information about a minimum size of the transformation unit may also be output through a header of a bitstream, a sequence parameter set, or a picture parameter set. The output unit 130 may encode and output reference information, prediction information, and slice type information that are related to prediction.</p><p id="p0270" num="0270">According to the simplest exemplary embodiment for the video encoding apparatus 100, the deeper coding unit may be a coding unit obtained by dividing a height or width of a coding unit of an upper depth, which is one layer above, by two. In other words, when the size of the coding unit of the current depth is 2Nx2N, the size of the coding unit of the lower depth is NxN. Also, the coding unit with the current depth having a size of 2Nx2N may include a maximum of 4 of the coding units with the lower depth.</p><p id="p0271" num="0271">Accordingly, the video encoding apparatus 100 may form the coding units having the tree structure by determining coding units having an optimum shape and an optimum size for each maximum coding unit, based on the size of the maximum coding unit and the maximum depth determined considering characteristics of the current picture. Also, since encoding may be performed on each maximum coding unit by using any one of various prediction modes and transformations, an optimum encoding mode may be determined considering characteristics of the coding unit of various image sizes.</p><p id="p0272" num="0272">Thus, if an image having a high resolution or a large data amount is encoded in a conventional macroblock, the number of macroblocks per picture excessively increases. Accordingly, the number of pieces of compressed information generated for each macroblock increases, and thus it is difficult to transmit the compressed information and data compression efficiency decreases. However, by using the video encoding apparatus 100 according to the present exemplary embodiment, image compression efficiency may be increased since a coding unit is adjusted while considering characteristics of an image while increasing a maximum size of a coding unit while considering a size of the image.</p><p id="p0273" num="0273">The scalable video encoding apparatus 10 described above with reference to <figref idrefs="f0001">FIG. 1</figref> may include the video encoding apparatuses 100 corresponding to the number of layers so as to encode<!-- EPO <DP n="42"> --> single layer images in each of the layers of a multilayer video. For example, the base layer encoder 11 may include one video encoding apparatus 100, and the enhancement layer encoder 13 may include the video encoding apparatuses 100 corresponding to the number of enhancement layers.</p><p id="p0274" num="0274">When the video encoding apparatuses 100 encode base layer images, the coding unit determiner 120 may determine a prediction unit for inter-image prediction for each of coding units of a tree structure according to each maximum coding unit, and may perform the inter-image prediction on each prediction unit.</p><p id="p0275" num="0275">When the video encoding apparatuses 100 encode enhancement layer images, the coding unit determiner 120 may determine prediction units and coding units of a tree structure according to each maximum coding unit, and may perform inter-prediction on each of the prediction units.</p><p id="p0276" num="0276"><figref idrefs="f0011">FIG. 16</figref> is a block diagram of a video decoding apparatus based on coding units of a tree structure 200, according to an exemplary embodiment.</p><p id="p0277" num="0277">The video decoding apparatus involving video prediction based on coding units of the tree structure 200 according to the present exemplary embodiment includes a receiver 210, an image data and encoding information extractor 220, and an image data decoder 230. Hereinafter, for convenience of description, the video decoding apparatus involving video prediction based on coding units of the tree structure 200 according to the present exemplary embodiment is referred as 'video decoding apparatus 200'.</p><p id="p0278" num="0278">Definitions of various terms, such as a coding unit, a depth, a prediction unit, a transformation unit, and information about various encoding modes, for decoding operations of the video decoding apparatus 200 according to the present exemplary embodiment are identical to those described with reference to <figref idrefs="f0011">FIG. 15</figref> and the video encoding apparatus 100.</p><p id="p0279" num="0279">The receiver 210 receives and parses a bitstream of an encoded video. The image data and encoding information extractor 220 extracts encoded image data for each coding unit from the parsed bitstream, wherein the coding units have a tree structure according to each maximum coding unit, and outputs the extracted image data to the image data decoder 230. The image data and encoding information extractor 220 may extract information about a maximum size of a coding unit of a current picture, from a header about the current picture, a sequence parameter set, or a picture parameter set.</p><p id="p0280" num="0280">Also, the image data and encoding information extractor 220 extracts information about a coded depth and an encoding mode for the coding units having a tree structure according to each maximum coding unit, from the parsed bitstream. The extracted information about the coded depth and the encoding mode is output to the image data decoder 230. That is, the image data in a bit stream is split into the maximum coding unit so that the image data decoder 230 decodes the image data for each maximum coding unit.<!-- EPO <DP n="43"> --></p><p id="p0281" num="0281">The information about the coded depth and the encoding mode according to the maximum coding unit may be set for information about at least one coding unit corresponding to the coded depth, and information about an encoding mode may include information about a partition type of a corresponding coding unit corresponding to the coded depth, about a prediction mode, and a size of a transformation unit. Also, splitting information according to depths may be extracted as the information about the coded depth.</p><p id="p0282" num="0282">The information about the coded depth and the encoding mode according to each maximum coding unit extracted by the image data and encoding information extractor 220 is information about a coded depth and an encoding mode determined to generate a minimum encoding error when an encoder, such as the video encoding apparatus 100, repeatedly performs encoding for each deeper coding unit according to depths according to each maximum coding unit. Accordingly, the video decoding apparatus 200 may reconstruct an image by decoding the image data according to a coded depth and an encoding mode that generates the minimum encoding error.</p><p id="p0283" num="0283">Since encoding information about the coded depth and the encoding mode may be assigned to a predetermined data unit from among a corresponding coding unit, a prediction unit, and a minimum unit, the image data and encoding information extractor 220 may extract the information about the coded depth and the encoding mode according to the predetermined data units. If information about a coded depth and encoding mode of a corresponding maximum coding unit is recorded according to predetermined data units, the predetermined data units to which the same information about the coded depth and the encoding mode is assigned may be inferred to be the data units included in the same maximum coding unit.</p><p id="p0284" num="0284">The image data decoder 230 reconstructs the current picture by decoding the image data in each maximum coding unit based on the information about the coded depth and the encoding mode according to the maximum coding units. In other words, the image data decoder 230 may decode the encoded image data based on the extracted information about the partition type, the prediction mode, and the transformation unit for each coding unit from among the coding units having the tree structure included in each maximum coding unit. A decoding process may include a prediction including intra prediction and motion compensation, and an inverse transformation.</p><p id="p0285" num="0285">The image data decoder 230 may perform intra prediction or motion compensation according to a partition and a prediction mode of each coding unit, based on the information about the partition type and the prediction mode of the prediction unit of the coding unit according to coded depths.</p><p id="p0286" num="0286">In addition, the image data decoder 230 may read information about a transformation unit according to a tree structure for each coding unit so as to perform inverse transformation based on<!-- EPO <DP n="44"> --> transformation units for each coding unit, for inverse transformation for each maximum coding unit. Via the inverse transformation, a pixel value of a spatial domain of the coding unit may be reconstructed.</p><p id="p0287" num="0287">The image data decoder 230 may determine a coded depth of a current maximum coding unit by using split information according to depths. If the split information indicates that image data is no longer split in the current depth, the current depth is a coded depth. Accordingly, the image data decoder 230 may decode encoded data in the current maximum coding unit by using the information about the partition type of the prediction unit, the prediction mode, and the size of the transformation unit for each coding unit corresponding to the coded depth.</p><p id="p0288" num="0288">In other words, data units containing the encoding information including the same split information may be gathered by observing the encoding information set assigned for the predetermined data unit from among the coding unit, the prediction unit, and the minimum unit, and the gathered data units may be considered to be one data unit to be decoded by the image data decoder 230 in the same encoding mode. As such, the current coding unit may be decoded by obtaining the information about the encoding mode for each coding unit.</p><p id="p0289" num="0289">The scalable video decoding apparatus 20 described above with reference to <figref idrefs="f0001">FIG. 2</figref> may include the video decoding apparatuses 200 corresponding to the number of views, so as to decode a received base layer image stream and a received enhancement layer image stream and to reconstruct base layer images and enhancement layer images.</p><p id="p0290" num="0290">When the base layer image stream is received, the image data decoder 230 of the video decoding apparatus 200 may split samples of the base layer images, which are extracted from the base layer image stream by an extractor 220, into coding units according to a tree structure of a maximum coding unit. The image data decoder 230 may perform motion compensation, based on prediction units for the inter-image prediction, on each of the coding units according to the tree structure of the samples of the base layer images, and may reconstruct the base layer images.</p><p id="p0291" num="0291">When the enhancement layer image stream is received, the image data decoder 230 of the video decoding apparatus 200 may split samples of the enhancement layer images, which are extracted from the enhancement layer image stream by the extractor 220, into coding units according to a tree structure of a maximum coding unit. The image data decoder 230 may perform motion compensation, based on prediction units for the inter-image prediction, on each of the coding units of the samples of the enhancement layer images, and may reconstruct the enhancement layer images.</p><p id="p0292" num="0292">Thus, the video decoding apparatus 200 may obtain information about at least one coding unit that generates the minimum encoding error when encoding is recursively performed for each maximum coding unit, and may use the information to decode the current picture. That is, the coding<!-- EPO <DP n="45"> --> units having the tree structure determined to be the optimum coding units in each maximum coding unit may be decoded.</p><p id="p0293" num="0293">Accordingly, even if an image has high resolution or has an excessively large data amount, the image may be efficiently decoded and reconstructed by using a size of a coding unit and an encoding mode, which are adaptively determined according to characteristics of the image, by using information about an optimum encoding mode received from an encoder.</p><p id="p0294" num="0294"><figref idrefs="f0012">FIG. 17</figref> is a diagram for describing a concept of coding units according to an exemplary embodiment.</p><p id="p0295" num="0295">A size of a coding unit may be expressed by width x height, and may be 64x64, 32x32, 16x16, and 8x8. A coding unit of 64x64 may be split into partitions of 64x64, 64x32, 32x64, or 32x32, and a coding unit of 32x32 may be split into partitions of 32x32, 32x16, 16x32, or 16x16, a coding unit of 16x16 may be split into partitions of 16x16, 16x8, 8x16, or 8x8, and a coding unit of 8x8 may be split into partitions of 8x8, 8x4, 4x8, or 4x4.</p><p id="p0296" num="0296">In video data 310, a resolution is 1920x1080, a maximum size of a coding unit is 64, and a maximum depth is 2. In video data 320, a resolution is 1920x1080, a maximum size of a coding unit is 64, and a maximum depth is 3. In video data 330, a resolution is 352x288, a maximum size of a coding unit is 16, and a maximum depth is 1. The maximum depth shown in <figref idrefs="f0012">FIG. 17</figref> denotes the total number of splits from a maximum coding unit to a minimum decoder.</p><p id="p0297" num="0297">If a resolution is high or a data amount is large, a maximum size of a coding unit may be large so as to not only increase encoding efficiency but also to accurately reflect characteristics of an image. Accordingly, the maximum size of the coding unit of the video data 310 and 320 having a higher resolution than the video data 330 may be 64.</p><p id="p0298" num="0298">Since the maximum depth of the video data 310 is 2, coding units 315 of the vide data 310 may include a maximum coding unit having a long axis size of 64, and coding units having long axis sizes of 32 and 16 since depths are deepened to two layers by splitting the maximum coding unit twice. On the other hand, since the maximum depth of the video data 330 is 1, coding units 335 of the video data 330 may include a maximum coding unit having a long axis size of 16, and coding units having a long axis size of 8 since depths are deepened to one layer by splitting the maximum coding unit once.</p><p id="p0299" num="0299">Since the maximum depth of the video data 320 is 3, coding units 325 of the video data 320 may include a maximum coding unit having a long axis size of 64, and coding units having long axis sizes of 32, 16, and 8 since the depths are deepened to 3 layers by splitting the maximum coding unit three times. As a depth deepens, an expression capability with respect to detailed information may be improved.<!-- EPO <DP n="46"> --></p><p id="p0300" num="0300"><figref idrefs="f0013">FIG. 18</figref> is a block diagram of an image encoder 400 based on coding units, according to an exemplary embodiment.</p><p id="p0301" num="0301">The image encoder 400 performs operations of the coding unit determiner 120 of the video encoding apparatus 100 to encode image data. In other words, an intra predictor 410 performs intra prediction on coding units in an intra mode, from among a current frame 405, and a motion estimator 420 and a motion compensator 425 respectively perform inter estimation and motion compensation on coding units in an inter mode from among the current frame 405 by using the current frame 405, and a reference frame 495.</p><p id="p0302" num="0302">Data output from the intra predictor 410, the motion estimator 420, and the motion compensator 425 is output as a quantized transformation coefficient through a transformer 430 and a quantizer 440. The quantized transformation coefficient is reconstructed as data in a spatial domain through an inverse quantizer 460 and an inverse transformer 470, and the reconstructed data in the spatial domain is output as the reference frame 495 after being post-processed through a deblocking unit 480 and an offset compensating unit 490. The quantized transformation coefficient may be output as a bitstream 455 through an entropy encoder 450.</p><p id="p0303" num="0303">In order for the image encoder 400 to be applied in the video encoding apparatus 100, all elements of the image encoder 400, i.e., the intra predictor 410, the motion estimator 420, the motion compensator 425, the transformer 430, the quantizer 440, the entropy encoder 450, the inverse quantizer 460, the inverse transformer 470, the deblocking unit 480, and the offset compensating unit 490 perform operations based on each coding unit among coding units having a tree structure while the maximum depth of each maximum coding unit is considered.</p><p id="p0304" num="0304">In particular, the intra predictor 410, the motion estimator 420, and the motion compensator 425 determine partitions and a prediction mode of each coding unit from among the coding units having a tree structure while considering the maximum size and the maximum depth of a current maximum coding unit, and the transformer 430 determines the size of the transformation unit in each coding unit from among the coding units having a tree structure.</p><p id="p0305" num="0305"><figref idrefs="f0014">FIG. 19</figref> is a block diagram of an image decoder 500 based on coding units, according to an exemplary embodiment.</p><p id="p0306" num="0306">A parser 510 parses encoded image data to be decoded and information about encoding required for decoding from a bitstream 505. The encoded image data is output as inverse quantized data through an entropy decoder 520 and an inverse quantizer 530, and the inverse quantized data is reconstructed to image data in a spatial domain through an inverse transformer 540.<!-- EPO <DP n="47"> --></p><p id="p0307" num="0307">An intra predictor 550 performs intra prediction on coding units in an intra mode with respect to the image data in the spatial domain, and a motion compensator 560 performs motion compensation on coding units in an inter mode by using a reference frame 585.</p><p id="p0308" num="0308">The image data in the spatial domain, which passed through the intra predictor 550 and the motion compensator 560, may be output as a reconstructed frame 595 after being post-processed through a deblocking unit 570 and an offset compensating unit 580. Also, the image data that is post-processed through the deblocking unit 570 and the offset compensating unit 580 may be output as the reference frame 585.</p><p id="p0309" num="0309">In order to decode the image data in the image data decoder 230 of the video decoding apparatus 200, the image decoder 500 may perform operations that are performed after the parser 510.</p><p id="p0310" num="0310">In order for the image decoder 500 to be applied in the video decoding apparatus 200, all elements of the image decoder 500, i.e., the parser 510, the entropy decoder 520, the inverse quantizer 530, the inverse transformer 540, the intra predictor 550, the motion compensator 560, the deblocking unit 570, and the offset compensating unit 580 perform operations based on coding units having a tree structure for each maximum coding unit.</p><p id="p0311" num="0311">In particular, the intra predictor 550 and the motion compensator 560 have to determine partitions and a prediction mode for each of the coding units having a tree structure, and the inverse transformer 540 have to determine a size of a transformation unit for each coding unit.</p><p id="p0312" num="0312">The encoding operation of <figref idrefs="f0013">FIG. 18</figref> and the decoding operation of <figref idrefs="f0014">FIG. 19</figref> are described as a video stream encoding operation and a video stream decoding operation, respectively, in a single layer. Therefore, if the scalable video encoding apparatus 10 of <figref idrefs="f0001">FIG. 1</figref> encodes a video stream having at least two layers, the base layer encoder 11 may include the image encoder 400 for each of layers. Similarly, if the scalable video decoding apparatus 20 of <figref idrefs="f0001">FIG. 2</figref> decodes a video stream having at least two layers, the enhancement layer decoder 23 may include the image decoder 500 for each of layers.</p><p id="p0313" num="0313"><figref idrefs="f0015">FIG. 20</figref> is a diagram illustrating deeper coding units according to depths, and partitions, according to an exemplary embodiment.</p><p id="p0314" num="0314">The video encoding apparatus 100 and the video decoding apparatus 200 use hierarchical coding units so as to consider characteristics of an image. A maximum height, a maximum width, and a maximum depth of coding units may be adaptively determined according to the characteristics of the image, or may be differently set by a user. Sizes of deeper coding units according to depths may be determined according to the predetermined maximum size of the coding unit.</p><p id="p0315" num="0315">In a hierarchical structure 600 of coding units, according to an exemplary embodiment, the maximum height and the maximum width of the coding units are each 64, and the maximum depth is 3. In this case, the maximum depth refers to a total number of times the coding unit is split from the<!-- EPO <DP n="48"> --> maximum coding unit to the minimum coding unit. Since a depth deepens along a vertical axis of the hierarchical structure 600, a height and a width of the deeper coding unit are each split. Also, a prediction unit and partitions, which are bases for prediction encoding of each deeper coding unit, are shown along a horizontal axis of the hierarchical structure 600.</p><p id="p0316" num="0316">In other words, a coding unit 610 is a maximum coding unit in the hierarchical structure 600, wherein a depth is 0 and a size, i.e., a height by width, is 64x64. The depth deepens along the vertical axis, and a coding unit 620 having a size of 32x32 and a depth of 1, a coding unit 630 having a size of 16x16 and a depth of 2, and a coding unit 640 having a size of 8x8 and a depth of 3. The coding unit 640 having the size of 8x8 and the depth of 3 is a minimum coding unit.</p><p id="p0317" num="0317">The prediction unit and the partitions of a coding unit are arranged along the horizontal axis according to each depth. In other words, if the coding unit 610 having a size of 64x64 and a depth of 0 is a prediction unit, the prediction unit may be split into partitions include in the encoder 610, i.e. a partition 610 having a size of 64x64, partitions 612 having the size of 64x32, partitions 614 having the size of 32x64, or partitions 616 having the size of 32x32.</p><p id="p0318" num="0318">Similarly, a prediction unit of the coding unit 620 having the size of 32x32 and the depth of 1 may be split into partitions included in the coding unit 620, i.e. a partition 620 having a size of 32x32, partitions 622 having a size of 32x16, partitions 624 having a size of 16x32, and partitions 626 having a size of 16x16.</p><p id="p0319" num="0319">Similarly, a prediction unit of the coding unit 630 having the size of 16x16 and the depth of 2 may be split into partitions included in the coding unit 630, i.e. a partition having a size of 16x16 included in the coding unit 630, partitions 632 having a size of 16x8, partitions 634 having a size of 8x16, and partitions 636 having a size of 8x8.</p><p id="p0320" num="0320">Similarly, a prediction unit of the coding unit 640 having the size of 8x8 and the depth of 3 may be split into partitions included in the coding unit 640, i.e. a partition having a size of 8x8 included in the coding unit 640, partitions 642 having a size of 8x4, partitions 644 having a size of 4x8, and partitions 646 having a size of 4x4.</p><p id="p0321" num="0321">In order to determine the at least one coded depth of the coding units constituting the maximum coding unit 610, the coding unit determiner 120 of the video encoding apparatus 100 performs encoding for coding units corresponding to each depth included in the maximum coding unit 610.</p><p id="p0322" num="0322">The number of deeper coding units according to depths including data in the same range and the same size increases as the depth deepens. For example, four coding units corresponding to a depth of 2 are required to cover data that is included in one coding unit corresponding to a depth of 1. Accordingly, in order to compare encoding results of the same data according to depths, the coding<!-- EPO <DP n="49"> --> unit corresponding to the depth of 1 and four coding units corresponding to the depth of 2 are each encoded.</p><p id="p0323" num="0323">In order to perform encoding for a current depth from among the depths, a least encoding error that is a representative encoding error may be selected for the current depth by performing encoding for each prediction unit in the coding units corresponding to the current depth, along the horizontal axis of the hierarchical structure 600. Alternatively, the minimum encoding error may be searched for by comparing representative encoding errors according to depths, by performing encoding for each depth as the depth deepens along the vertical axis of the hierarchical structure 600. A depth and a partition having the minimum encoding error in the coding unit 610 may be selected as the coded depth and a partition type of the coding unit 610.</p><p id="p0324" num="0324"><figref idrefs="f0016">FIG. 21</figref> is a diagram for describing a relationship between a coding unit 710 and transformation units 720, according to an exemplary embodiment.</p><p id="p0325" num="0325">The video encoding apparatus 100 or the video decoding apparatus 200 encodes or decodes an image according to coding units having sizes smaller than or equal to a maximum coding unit for each maximum coding unit. Sizes of transformation units for transformation during encoding may be selected based on data units that are not larger than a corresponding coding unit.</p><p id="p0326" num="0326">For example, in the video encoding apparatus 100 or the video decoding apparatus 200, if a size of the coding unit 710 is 64x64, transformation may be performed by using the transformation units 720 having a size of 32x32.</p><p id="p0327" num="0327">Also, data of the coding unit 710 having the size of 64x64 may be encoded by performing the transformation on each of the transformation units having the size of 32x32, 16x16, 8x8, and 4x4, which are smaller than 64x64, and then a transformation unit having the least coding error with respect to an original image may be selected.</p><p id="p0328" num="0328"><figref idrefs="f0016">FIG. 22</figref> illustrates a plurality of pieces of encoding information according to depths, according to an exemplary embodiment.</p><p id="p0329" num="0329">The output unit 130 of the video encoding apparatus 100 may encode and transmit partition type information 800, prediction mode information 810, and transformation unit size information 820 for each coding unit corresponding to a coded depth, as information about an encoding mode.</p><p id="p0330" num="0330">The partition type information 800 indicates information about a shape of a partition obtained by splitting a prediction unit of a current coding unit, wherein the partition is a data unit for prediction encoding the current coding unit. For example, a current coding unit CU_0 having a size of 2Nx2N may be split into any one of a partition 802 having a size of 2Nx2N, a partition 804 having a size of 2NxN, a partition 806 having a size of Nx2N, and a partition 808 having a size of NxN.<!-- EPO <DP n="50"> --> Here, the partition type information 800 is set to indicate one of the partition 804 having a size of 2NxN, the partition 806 having a size of Nx2N, and the partition 808 having a size of NxN.</p><p id="p0331" num="0331">The prediction mode information 810 indicates a prediction mode of each partition. For example, the prediction mode information 810 may indicate a mode of prediction encoding performed on a partition indicated by the partition type information 800, i.e., an intra mode 812, an inter mode 814, or a skip mode 816.</p><p id="p0332" num="0332">The transformation unit size information 820 indicates a transformation unit to be based on when transformation is performed on a current coding unit. For example, the transformation unit may be a first intra transformation unit 822, a second intra transformation unit 824, a first inter transformation unit 826, or a second inter transformation unit 828.</p><p id="p0333" num="0333">The image data and encoding information extractor 220 of the video decoding apparatus 200 may extract and use the partition type information 800, the prediction mode information 810, and the transformation unit size information 820 for decoding, according to each deeper coding unit.</p><p id="p0334" num="0334"><figref idrefs="f0017">FIG. 23</figref> is a diagram of deeper coding units according to depths, according to an exemplary embodiment.</p><p id="p0335" num="0335">Split information may be used to indicate a change of a depth. The spilt information indicates whether a coding unit of a current depth is split into coding units of a lower depth.</p><p id="p0336" num="0336">A prediction unit 910 for prediction encoding a coding unit 900 having a depth of 0 and a size of 2N_0x2N_0 may include partitions of a partition type 912 having a size of 2N_0x2N_0, a partition type 914 having a size of 2N_0xN_0, a partition type 916 having a size of N_0x2N_0, and a partition type 918 having a size of N_0xN_0. <figref idrefs="f0017">FIG. 23</figref> only illustrates the partition types 912 through 918 which are obtained by symmetrically splitting the prediction unit 910, but a partition type is not limited thereto, and the partitions of the prediction unit 910 may include asymmetrical partitions, partitions having a predetermined shape, and partitions having a geometrical shape.</p><p id="p0337" num="0337">Prediction encoding is repeatedly performed on one partition having a size of 2N_0x2N_0, two partitions having a size of 2N_0xN_0, two partitions having a size of N_0x2N_0, and four partitions having a size of N_0xN_0, according to each partition type. The prediction encoding in an intra mode and an inter mode may be performed on the partitions having the sizes of 2N_0x2N_0, N_0x2N_0, 2N_0xN_0, and N_0xN_0. The prediction encoding in a skip mode is performed only on the partition having the size of 2N_0x2N_0.</p><p id="p0338" num="0338">If an encoding error is smallest in one of the partition types 912, 914, and 916 having the sizes of 2N_0x2N_0, 2N_0xN_0 and N_0x2N_0, the prediction unit 910 may not be split into a lower depth.<!-- EPO <DP n="51"> --></p><p id="p0339" num="0339">If the encoding error is the smallest in the partition type 918 having the size of N_0xN_0, a depth is changed from 0 to 1 to split the partition type 918 in operation 920, and encoding is repeatedly performed on coding units 930 having a depth of 2 and a size of N_0xN_0 to search for a minimum encoding error.</p><p id="p0340" num="0340">A prediction unit 940 for prediction encoding the coding unit 930 having a depth of 1 and a size of 2N_1x2N_1 (=N_0xN_0) may include partitions of a partition type 942 having a size of 2N_1x2N_1, a partition type 944 having a size of 2N_1xN_1, a partition type 946 having a size of N_1x2N_1, and a partition type 948 having a size of N_1xN_1.</p><p id="p0341" num="0341">If an encoding error is the smallest in the partition type 948 having the size of N_1xN_1, a depth is changed from 1 to 2 to split the partition type 948 in operation 950, and encoding is repeatedly performed on coding units 960, which have a depth of 2 and a size of N_2xN_2 to search for a minimum encoding error.</p><p id="p0342" num="0342">When a maximum depth is d, split operation according to each depth may be performed up to when a depth becomes d-1, and split information may be encoded as up to when a depth is one of 0 to d-2. In other words, when encoding is performed up to when the depth is d-1 after a coding unit corresponding to a depth of d-2 is split in operation 970, a prediction unit 990 for prediction encoding a coding unit 980 having a depth of d-1 and a size of 2N_(d-)x2N_(d-1) may include partitions of a partition type 992 having a size of 2N_(d-)x2N_(d-1), a partition type 994 having a size of 2N_(d-)xN_(d-1), a partition type 996 having a size of N_(d-1)x2N_(d-1), and a partition type 998 having a size of N_(d-1)xN_(d-1).</p><p id="p0343" num="0343">Prediction encoding may be repeatedly performed on one partition having a size of 2N_(d-1)x2N_(d-1), two partitions having a size of 2N_(d-)xN_(d-1), two partitions having a size of N_(d-1)x2N_(d-1), four partitions having a size of N_(d-1)xN_(d-1) from among the partition types 992 through 998 to search for a partition type having a minimum encoding error.</p><p id="p0344" num="0344">Even when the partition type 998 having the size of N_(d-1)xN_(d-1) has the minimum encoding error, since a maximum depth is d, a coding unit CU_(d-1) having a depth of d-1 is no longer split into a lower depth, and a coded depth for the coding units constituting a current maximum coding unit 900 is determined to be d-1 and a partition type of the current maximum coding unit 900 may be determined to be N_(d-1)xN_(d-1). Also, since the maximum depth is d, split information for the minimum coding unit 980 is not set.</p><p id="p0345" num="0345">A data unit 999 may be a 'minimum unit' for the current maximum coding unit. A minimum unit according to the present embodiment may be a square data unit obtained by splitting a minimum coding unit 980 having a lowermost coded depth by 4. By performing the encoding repeatedly, the video encoding apparatus 100 according to the present exemplary embodiment may<!-- EPO <DP n="52"> --> select a depth having the least encoding error by comparing encoding errors according to depths of the coding unit 900 to determine a coded depth, and set a corresponding partition type and a prediction mode as an encoding mode of the coded depth.</p><p id="p0346" num="0346">As such, the minimum encoding errors according to depths are compared in all of the depths of 0, 1, ..., d-1, d, and a depth having the least encoding error may be determined as a coded depth. The coded depth, the partition type of the prediction unit, and the prediction mode may be encoded and transmitted as information about an encoding mode. Also, since a coding unit is split from a depth of 0 to a coded depth, only split information of the coded depth is set to '0', and split information of depths excluding the coded depth is set to '1'.</p><p id="p0347" num="0347">The image data and encoding information extractor 220 of the video decoding apparatus 200 according to the present exemplary embodiment may extract and use the information about the coded depth and the prediction unit of the coding unit 900 to decode the partition 912. The video decoding apparatus 200 according to the present exemplary embodiment may determine a depth, in which split information is '0', as a coded depth by using split information according to depths, and use information about an encoding mode of the corresponding depth for decoding.</p><p id="p0348" num="0348"><figref idrefs="f0018">FIGS. 24, 25</figref>, and <figref idrefs="f0019">26</figref> are diagrams for describing a relationship between coding units, prediction units, and transformation units, according to exemplary embodiments.</p><p id="p0349" num="0349">Coding units 1010 are deeper coding units according to depths determined by the video encoding apparatus 100, in a maximum coding unit. Prediction units 1060 are partitions of prediction units of each of the coding units 1010, and transformation units 1070 are transformation units of each of the coding units 1010.</p><p id="p0350" num="0350">When a depth of a maximum coding unit is 0 in the coding units 1010, depths of coding units 1012 and 1054 are 1, depths of coding units 1014, 1016, 1018, 1028, 1050, and 1052 are 2, depths of coding units 1020, 1022, 1024, 1026, 1030, 1032, and 1048 are 3, and depths of coding units 1040, 1042, 1044, and 1046 are 4.</p><p id="p0351" num="0351">In the prediction units 1060, some encoders 1014, 1016, 1022, 1032, 1048, 1050, 1052, and 1054 are obtained by splitting the coding units in the encoders 1010. That is, partition types in the coding units 1014, 1022, 1050, and 1054 have a size of 2NxN, partition types in the coding units 1016, 1048, and 1052 have a size of Nx2N, and a partition type of the coding unit 1032 has a size of NxN. Prediction units and partitions of the coding units 1010 are smaller than or equal to each coding unit.</p><p id="p0352" num="0352">Transformation or inverse transformation is performed on image data of the coding unit 1052 in the transformation units 1070 in a data unit that is smaller than the coding unit 1052. Also, the coding units 1014, 1016, 1022, 1032, 1048, 1050, and 1052 in the transformation units 1070 are different from those in the prediction units 1060 in terms of sizes and shapes. In other words, the<!-- EPO <DP n="53"> --> video encoding apparatus 100 and the video decoding apparatus 200 according to the exemplary embodiments may perform intra prediction / motion estimation / motion compensation / and transformation/inverse transformation individually on a data unit in the same coding unit.</p><p id="p0353" num="0353">Accordingly, encoding is recursively performed on each of coding units having a hierarchical structure in each region of a maximum coding unit to determine an optimum coding unit, and thus coding units having a recursive tree structure may be obtained. Encoding information may include split information about a coding unit, information about a partition type, information about a prediction mode, and information about a size of a transformation unit. Table 1 below shows the encoding information that may be set by the video encoding apparatus 100 and the video decoding apparatus 200 according to the exemplary embodiments.
<tables id="tabl0001" num="0001"><table frame="all"><title>[Table 1]</title><tgroup cols="6"><colspec colnum="1" colname="col1" colwidth="20mm"/><colspec colnum="2" colname="col2" colwidth="24mm"/><colspec colnum="3" colname="col3" colwidth="25mm"/><colspec colnum="4" colname="col4" colwidth="32mm"/><colspec colnum="5" colname="col5" colwidth="32mm"/><colspec colnum="6" colname="col6" colwidth="35mm"/><thead><row><entry namest="col1" nameend="col5" align="center" valign="middle">Split Information 0</entry><entry morerows="1" rowsep="1" align="center" valign="middle">Split Information 1</entry></row><row><entry namest="col1" nameend="col5" align="center" valign="middle">(Encoding on Coding Unit having Size of 2Nx2N and Current Depth of d)</entry></row></thead><tbody><row><entry align="center" valign="middle">Prediction Mode</entry><entry namest="col2" nameend="col3" align="center" valign="middle">Partition Type</entry><entry namest="col4" nameend="col5" align="center" valign="middle">Size of Transformation Unit</entry><entry morerows="8" valign="middle">Repeatedly Encode Coding Units having Lower Depth of d+1</entry></row><row><entry align="center" valign="middle"/><entry morerows="1" rowsep="1" align="center" valign="middle">Symmetrical Partition Type</entry><entry morerows="1" rowsep="1" align="center" valign="middle">Asymmetrical Partition Type</entry><entry morerows="1" rowsep="1" align="center" valign="middle">Split Information 0 of Transformation Unit</entry><entry morerows="1" rowsep="1" align="center" valign="middle">Split Information 1 of Transformation Unit</entry></row><row><entry rowsep="0" align="center" valign="middle">Intra</entry></row><row><entry align="center" valign="middle">Inter</entry><entry align="center" valign="middle"/><entry align="center" valign="middle"/><entry morerows="5" rowsep="1" align="center" valign="middle">2Nx2N</entry><entry morerows="2" align="center" valign="middle">NxN (Symmetrical Partition Type)</entry></row><row><entry morerows="4" rowsep="1" align="center" valign="middle">Skip (Only 2Nx2N)</entry><entry align="center" valign="middle">2Nx2N</entry><entry align="center" valign="middle">2NxnU</entry></row><row><entry align="center" valign="middle">2NxN</entry><entry align="center" valign="middle">2NxnD</entry></row><row><entry align="center" valign="middle">Nx2N</entry><entry align="center" valign="middle">nLx2N</entry><entry morerows="2" rowsep="1" align="center" valign="middle">N/2xN/2 (Asymmetrical Partition Type)</entry></row><row><entry align="center" valign="middle">NxN</entry><entry align="center" valign="middle">nRx2N</entry></row><row><entry align="center" valign="middle"/><entry align="center" valign="middle"/></row></tbody></tgroup></table></tables></p><p id="p0354" num="0354">The output unit 130 of the video encoding apparatus 100 according to the exemplary embodiment may output the encoding information about the coding units having a tree structure, and the image data and encoding information extractor 220 of the video decoding apparatus 200 according to the exemplary embodiment may extract the encoding information about the coding units having a tree structure from a received bitstream.</p><p id="p0355" num="0355">Split information indicates whether a current coding unit is split into coding units of a lower depth. If split information of a current depth d is 0, a depth, in which a current coding unit is no longer split into a lower depth, is a coded depth, and thus information about a partition type, prediction mode, and a size of a transformation unit may be defined for the coded depth. If the current coding unit is further split according to the split information, encoding is independently performed on four split coding units of a lower depth.<!-- EPO <DP n="54"> --></p><p id="p0356" num="0356">A prediction mode may be one of an intra mode, an inter mode, and a skip mode. The intra mode and the inter mode may be defined in all partition types, and the skip mode is defined only in a partition type having a size of 2Nx2N.</p><p id="p0357" num="0357">The information about the partition type may indicate symmetrical partition types having sizes of 2Nx2N, 2NxN, Nx2N, and NxN, which are obtained by symmetrically splitting a height or a width of a prediction unit, and asymmetrical partition types having sizes of 2NxnU, 2NxnD, nLx2N, and nRx2N, which are obtained by asymmetrically splitting the height or width of the prediction unit. The asymmetrical partition types having the sizes of 2NxnU and 2NxnD may be respectively obtained by splitting the height of the prediction unit in 1:3 and 3:1, and the asymmetrical partition types having the sizes of nLx2N and nRx2N may be respectively obtained by splitting the width of the prediction unit in 1:3 and 3:1.</p><p id="p0358" num="0358">The size of the transformation unit may be set to be two types in the intra mode and two types in the inter mode. In other words, if split information of the transformation unit is 0, the size of the transformation unit may be 2Nx2N, which is the size of the current coding unit. If split information of the transformation unit is 1, the transformation units may be obtained by splitting the current coding unit. Also, if a partition type of the current coding unit having the size of 2Nx2N is a symmetrical partition type, a size of a transformation unit may be NxN, and if the partition type of the current coding unit is an asymmetrical partition type, the size of the transformation unit may be N/2xN/2.</p><p id="p0359" num="0359">The encoding information about coding units having a tree structure according to the exemplary embodiment may be assigned to at least one of a coding unit corresponding to a coded depth, a prediction unit, and a minimum unit. The coding unit corresponding to the coded depth may include at least one of a prediction unit and a minimum unit containing the same encoding information.</p><p id="p0360" num="0360">Accordingly, it is determined whether adjacent data units are included in the same coding unit corresponding to the coded depth by comparing encoding information of the adjacent data units. Also, a corresponding coding unit corresponding to a coded depth is determined by using encoding information of a data unit, and thus a distribution of coded depths in a maximum coding unit may be determined.</p><p id="p0361" num="0361">Accordingly, if a current coding unit is predicted based on encoding information of adjacent data units, encoding information of data units in deeper coding units adjacent to the current coding unit may be directly referred to and used.</p><p id="p0362" num="0362">In another exemplary embodiment, if a current coding unit is predicted based on encoding information of adjacent data units, data units adjacent to the current coding unit are searched using<!-- EPO <DP n="55"> --> encoded information of the data units, and the searched adjacent coding units may be referred for predicting the current coding unit.</p><p id="p0363" num="0363"><figref idrefs="f0020">FIG. 27</figref> is a diagram for describing a relationship between a coding unit, a prediction unit, and a transformation unit, according to encoding mode information of Table 1.</p><p id="p0364" num="0364">A maximum coding unit 1300 includes coding units 1302, 1304, 1306, 1312, 1314, 1316, and 1318 of coded depths. Here, since the coding unit 1318 is a coding unit of a coded depth, split information may be set to 0. Information about a partition type of the coding unit 1318 having a size of 2Nx2N may be set to be one of partition types including 2Nx2N 1322, 2NxN 1324, Nx2N 1326, NxN 1328, 2NxnU 1332, 2NxnD 1334, nLx2N 1336, and nRx2N 1338.</p><p id="p0365" num="0365">Transformation unit split information (TU size flag) is a type of a transformation index. A size of a transformation unit corresponding to the transformation index may be changed according to a prediction unit type or partition type of the coding unit.</p><p id="p0366" num="0366">For example, when the information about the partition type is set to be one of symmetrical partition types 2Nx2N 1322, 2NxN 1324, Nx2N 1326, and NxN 1328, if the transformation unit split information is 0, a transformation unit 1342 having a size of 2Nx2N is set, and if the transformation unit split information is 1, a transformation unit 1344 having a size of NxN is set.</p><p id="p0367" num="0367">When the information about the partition type is set to be one of asymmetrical partition types 2NxnU 1332, 2NxnD 1334, nLx2N 1336, and nRx2N 1338, if the transformation unit split information is 0, a transformation unit 1352 having a size of 2Nx2N may be set, and if the transformation unit split information is 1, a transformation unit 1354 having a size of N/2xN/2 may be set.</p><p id="p0368" num="0368">As described above with reference to <figref idrefs="f0020">FIG. 27</figref>, the transformation unit split information (TU size flag) is a flag having a value or 0 or 1, but the transformation unit split information is not limited to a flag having 1 bit, and the transformation unit may be hierarchically split while the transformation unit split information increases in a manner of 0, 1, 2, 3.. etc., according to setting. The transformation unit split information may be an example of the transformation index.</p><p id="p0369" num="0369">In this case, the size of a transformation unit that has been actually used may be expressed by using the transformation unit split information according to the embodiment, together with a maximum size of the transformation unit and a minimum size of the transformation unit. The video encoding apparatus 100 according to the exemplary embodiment is capable of encoding maximum transformation unit size information, minimum transformation unit size information, and maximum transformation unit split information. The result of encoding the maximum transformation unit size information, the minimum transformation unit size information, and the maximum transformation unit<!-- EPO <DP n="56"> --> split information may be inserted into an SPS. The video decoding apparatus 200 according to the exemplary embodiment may decode video by using the maximum transformation unit size information, the minimum transformation unit size information, and the maximum transformation unit split information.</p><p id="p0370" num="0370">For example, (a) if the size of a current coding unit is 64x64 and a maximum transformation unit size is 32x32, (a-1) then the size of a transformation unit may be 32x32 when a TU size flag is 0, (a-2) may be 16x16 when the TU size flag is 1, and (a-3) may be 8x8 when the TU size flag is 2.</p><p id="p0371" num="0371">As another example, (b) if the size of the current coding unit is 32x32 and a minimum transformation unit size is 32x32, (b-1) then the size of the transformation unit may be 32x32 when the TU size flag is 0. Here, the TU size flag cannot be set to a value other than 0, since the size of the transformation unit cannot be less than 32x32.</p><p id="p0372" num="0372">As another example, (c) if the size of the current coding unit is 64x64 and a maximum TU size flag is 1, then the TU size flag may be 0 or 1. Here, the TU size flag cannot be set to a value other than 0 or 1.</p><p id="p0373" num="0373">Thus, if it is defined that the maximum TU size flag is 'MaxTransformSizeIndex', a minimum transformation unit size is 'MinTransformSize', and a transformation unit size is 'RootTuSize' when the TU size flag is 0, then a current minimum transformation unit size 'CurrMinTuSize' that can be determined in a current coding unit may be defined by Equation (1): <maths id="math0002" num="(1)"><math display="block"><mrow><mi>CurrMinTuSize</mi><mo>=</mo><mi>max</mi><mfenced separators=""><mi>MinTransformSize</mi><mo>,</mo><mi>RootTuSize</mi><mo>/</mo><mfenced separators=""><msup><mn>2</mn><mrow><mo>∧</mo></mrow></msup><mo>⁢</mo><mi>MaxTransformSizeIndex</mi></mfenced></mfenced></mrow></math><img id="ib0002" file="imgb0002.tif" wi="147" he="12" img-content="math" img-format="tif"/></maths></p><p id="p0374" num="0374">Compared to the current minimum transformation unit size 'CurrMinTuSize' that can be determined in the current coding unit, a transformation unit size 'RootTuSize' when the TU size flag is 0 may denote a maximum transformation unit size that can be selected in the system. That is, in Equation (1), 'RootTuSize/(2^MaxTransformSizeIndex)' denotes a transformation unit size when the transformation unit size 'RootTuSize', when the TU size flag is 0, is split by the number of times corresponding to the maximum TU size flag, and 'MinTransformSize' denotes a minimum transformation size. Thus, a smaller value from among 'RootTuSize/(2^MaxTransformSizeIndex)' and 'MinTransformSize' may be the current minimum transformation unit size 'CurrMinTuSize' that can be determined in the current coding unit.</p><p id="p0375" num="0375">According to an exemplary embodiment, the maximum transformation unit size RootTuSize may vary according to the type of a prediction mode.<!-- EPO <DP n="57"> --></p><p id="p0376" num="0376">For example, if a current prediction mode is an inter mode, then 'RootTuSize' may be determined by using Equation (2) below. In Equation (2), 'MaxTransformSize' denotes a maximum transformation unit size, and 'PUSize' denotes a current prediction unit size. <maths id="math0003" num="(2)"><math display="block"><mrow><mi>RootTuSize</mi><mo>=</mo><mi>min</mi><mfenced separators=","><mi>MaxTransformSize</mi><mi>PUSize</mi></mfenced></mrow></math><img id="ib0003" file="imgb0003.tif" wi="92" he="5" img-content="math" img-format="tif"/></maths></p><p id="p0377" num="0377">That is, if the current prediction mode is the inter mode, the transformation unit size 'RootTuSize', when the TU size flag is 0, may be a smaller value from among the maximum transformation unit size and the current prediction unit size.</p><p id="p0378" num="0378">If a prediction mode of a current partition unit is an intra mode, 'RootTuSize' may be determined by using Equation (3) below. In Equation (3), 'PartitionSize' denotes the size of the current partition unit. <maths id="math0004" num="(3)"><math display="block"><mrow><mi>RootTuSize</mi><mo>=</mo><mi>min</mi><mfenced separators=","><mi>MaxTransformSize</mi><mi>PartitionSize</mi></mfenced></mrow></math><img id="ib0004" file="imgb0004.tif" wi="102" he="5" img-content="math" img-format="tif"/></maths></p><p id="p0379" num="0379">That is, if the current prediction mode is the intra mode, the transformation unit size 'RootTuSize' when the TU size flag is 0 may be a smaller value from among the maximum transformation unit size and the size of the current partition unit.</p><p id="p0380" num="0380">However, the current maximum transformation unit size 'RootTuSize' that varies according to the type of a prediction mode in a partition unit is just an exemplary embodiment, and a factor for determining the current maximum transformation unit size is not limited thereto.</p><p id="p0381" num="0381">According to the video encoding method based on coding units of a tree structure described above with reference to <figref idrefs="f0011 f0012 f0013 f0014 f0015 f0016 f0017 f0018 f0019 f0020">FIGS. 15 through 27</figref>, image data in a spatial domain is encoded in each of the coding units of the tree structure, and the image data in the spatial domain is reconstructed in a manner that decoding is performed on each maximum coding unit according to the video decoding method based on the coding units of the tree structure, so that a video that is formed of pictures and pictures sequences may be reconstructed. The reconstructed video may be reproduced by a reproducing apparatus, may be stored in a storage medium, or may be transmitted via a network.</p><p id="p0382" num="0382">The one or more exemplary embodiments can be written as computer programs and can be implemented in general-use digital computers that execute the programs using a computer readable recording medium. Examples of the computer readable recording medium include magnetic storage media (e.g., ROM, floppy disks, hard disks, etc.), optical recording media (e.g., CD-ROMs, or DVDs), etc.</p><p id="p0383" num="0383">For convenience of description, the scalable video encoding methods and/or the video encoding method, which are described with reference to <figref idrefs="f0001 f0002 f0003 f0004 f0005 f0006 f0007 f0008 f0009 f0010 f0011 f0012 f0013 f0014 f0015 f0016 f0017 f0018 f0019 f0020">FIGS. 1 through 27</figref>, will be collectively referred to as 'the video encoding method'. Also, the scalable video decoding methods and/or the video decoding method, which are described with reference to <figref idrefs="f0001 f0002 f0003 f0004 f0005 f0006 f0007 f0008 f0009 f0010 f0011 f0012 f0013 f0014 f0015 f0016 f0017 f0018 f0019 f0020">FIGS. 1 through 27</figref>, will be collectively referred to as 'the video decoding method'.<!-- EPO <DP n="58"> --></p><p id="p0384" num="0384">Also, a video encoding apparatus including the scalable video encoding apparatus 10, the video encoding apparatus 100, or the image encoder 400, which is described with reference to <figref idrefs="f0001 f0002 f0003 f0004 f0005 f0006 f0007 f0008 f0009 f0010 f0011 f0012 f0013 f0014 f0015 f0016 f0017 f0018 f0019 f0020">FIGS. 1 through 27</figref>, will be collectively referred as a 'video encoding apparatus'. Also, a video decoding apparatus including the scalable video decoding apparatus 20, the video decoding apparatus 200, or the image decoder 500, which is described with reference to <figref idrefs="f0001 f0002 f0003 f0004 f0005 f0006 f0007 f0008 f0009 f0010 f0011 f0012 f0013 f0014 f0015 f0016 f0017 f0018 f0019 f0020">FIGS. 1 through 27</figref>, will be referred to as a 'video decoding apparatus'.</p><p id="p0385" num="0385">A computer-readable recording medium storing a program, e.g., a disc 26000, according to an exemplary embodiment will now be described in detail.</p><p id="p0386" num="0386"><figref idrefs="f0021">FIG. 28</figref> is a diagram of a physical structure of the disc 26000 in which a program is stored, according to an exemplary embodiment. The disc 26000, which is a storage medium, may be a hard drive, a compact disc-read only memory (CD-ROM) disc, a Blu-ray disc, or a digital versatile disc (DVD). The disc 26000 includes a plurality of concentric tracks Tr that are each divided into a specific number of sectors Se in a circumferential direction of the disc 26000. In a specific region of the disc 26000, a program that executes the quantized parameter determining method, the video encoding method, and the video decoding method described above may be assigned and stored.</p><p id="p0387" num="0387">A computer system embodied using a storage medium that stores a program for executing the video encoding method and the video decoding method as described above will now be described with reference to <figref idrefs="f0021">FIG. 29</figref>.</p><p id="p0388" num="0388"><figref idrefs="f0021">FIG. 29</figref> is a diagram of a disc drive 26800 for recording and reading a program by using the disc 26000. A computer system 26700 may store a program that executes at least one of a video encoding method and a video decoding method according to an exemplary embodiment, in the disc 26000 via the disc drive 26800. To run the program stored in the disc 26000 in the computer system 26700, the program may be read from the disc 26000 and be transmitted to the computer system 26700 by using the disc drive 26800.</p><p id="p0389" num="0389">The program that executes at least one of a video encoding method and a video decoding method according to an exemplary embodiment may be stored not only in the disc 26000 illustrated in <figref idrefs="f0021">FIGS. 28 and 29</figref> but also may be stored in a memory card, a ROM cassette, or a solid state drive (SSD).</p><p id="p0390" num="0390">A system to which the video encoding method and the video decoding method described above are applied will be described below.</p><p id="p0391" num="0391"><figref idrefs="f0022">FIG. 30</figref> is a diagram of an overall structure of a content supply system 11000 for providing a content distribution service. A service area of a communication system is divided into predetermined-sized cells, and wireless base stations 11700, 11800, 11900, and 12000 are installed in these cells, respectively.<!-- EPO <DP n="59"> --></p><p id="p0392" num="0392">The content supply system 11000 includes a plurality of independent devices. For example, the plurality of independent devices, such as a computer 12100, a personal digital assistant (PDA) 12200, a video camera 12300, and a mobile phone 12500, are connected to the Internet 11100 via an internet service provider 11200, a communication network 11400, and the wireless base stations 11700, 11800, 11900, and 12000.</p><p id="p0393" num="0393">However, the content supply system 11000 is not limited to as illustrated in <figref idrefs="f0022">FIG. 30</figref>, and devices may be selectively connected thereto. The plurality of independent devices may be directly connected to the communication network 11400, not via the wireless base stations 11700, 11800, 11900, and 12000.</p><p id="p0394" num="0394">The video camera 12300 is an imaging device, e.g., a digital video camera, which is capable of capturing video images. The mobile phone 12500 may employ at least one communication method from among various protocols, e.g., Personal Digital Communications (PDC), Code Division Multiple Access (CDMA), Wideband-Code Division Multiple Access (W-CDMA), Global System for Mobile Communications (GSM), and Personal Handyphone System (PHS).</p><p id="p0395" num="0395">The video camera 12300 may be connected to a streaming server 11300 via the wireless base station 11900 and the communication network 11400. The streaming server 11300 allows content received from a user via the video camera 12300 to be streamed via a real-time broadcast. The content received from the video camera 12300 may be encoded using the video camera 12300 or the streaming server 11300. Video data captured by the video camera 12300 may be transmitted to the streaming server 11300 via the computer 12100.</p><p id="p0396" num="0396">Video data captured by a camera 12600 may also be transmitted to the streaming server 11300 via the computer 12100. The camera 12600 is an imaging device capable of capturing both still images and video images, similar to a digital camera. The video data captured by the camera 12600 may be encoded using the camera 12600 or the computer 12100. Software that performs encoding and decoding video may be stored in a computer-readable recording medium, e.g., a CD-ROM disc, a floppy disc, a hard disc drive, an SSD, or a memory card, which may be accessible by the computer 12100.</p><p id="p0397" num="0397">If video data is captured by a camera built in the mobile phone 12500, the video data may be received from the mobile phone 12500.</p><p id="p0398" num="0398">The video data may also be encoded by a large scale integrated circuit (LSI) system installed in the video camera 12300, the mobile phone 12500, or the camera 12600.</p><p id="p0399" num="0399">The content supply system 11000 may encode content data recorded by a user using the video camera 12300, the camera 12600, the mobile phone 12500, or another imaging device, e.g., content recorded during a concert, and transmit the encoded content data to the streaming server<!-- EPO <DP n="60"> --> 11300. The streaming server 11300 may transmit the encoded content data in a type of a streaming content to other clients that request the content data.</p><p id="p0400" num="0400">The clients are devices capable of decoding the encoded content data, e.g., the computer 12100, the PDA 12200, the video camera 12300, or the mobile phone 12500. Thus, the content supply system 11000 allows the clients to receive and reproduce the encoded content data. Also, the content supply system 11000 allows the clients to receive the encoded content data and decode and reproduce the encoded content data in real time, thereby enabling personal broadcasting.</p><p id="p0401" num="0401">Encoding and decoding operations of the plurality of independent devices included in the content supply system 11000 may be similar to those of a video encoding apparatus and a video decoding apparatus according to exemplary embodiments.</p><p id="p0402" num="0402">With reference to <figref idrefs="f0023">FIGS. 31</figref> and <figref idrefs="f0024">32</figref>, the mobile phone 12500 included in the content supply system 11000 according to an exemplary embodiment will now be described in detail.</p><p id="p0403" num="0403"><figref idrefs="f0023">FIG. 31</figref> illustrates an external structure of the mobile phone 12500 to which a video encoding method and a video decoding method are applied, according to an exemplary embodiment. The mobile phone 12500 may be a smart phone, the functions of which are not limited and a large number of the functions of which may be changed or expanded.</p><p id="p0404" num="0404">The mobile phone 12500 includes an internal antenna 12510 via which a radio-frequency (RF) signal may be exchanged with the wireless base station 12000, and includes a display screen 12520 for displaying images captured by a camera 12530 or images that are received via the antenna 12510 and decoded, e.g., a liquid crystal display (LCD) or an organic light-emitting diode (OLED) screen. The mobile phone 12500 includes an operation panel 12540 including a control button and a touch panel. If the display screen 12520 is a touch screen, the operation panel 12540 further includes a touch sensing panel of the display screen 12520. The mobile phone 12500 includes a speaker 12580 for outputting voice and sound or another type of a sound output unit, and a microphone 12550 for inputting voice and sound or another type of a sound input unit. The mobile phone 12500 further includes the camera 12530, such as a charge-coupled device (CCD) camera, to capture video and still images. The mobile phone 12500 may further include a storage medium 12570 for storing encoded/decoded data, e.g., video or still images captured by the camera 12530, received via email, or obtained according to various ways; and a slot 12560 via which the storage medium 12570 is loaded into the mobile phone 12500. The storage medium 12570 may be a flash memory, e.g., a secure digital (SD) card or an electrically erasable and programmable read only memory (EEPROM) included in a plastic case.</p><p id="p0405" num="0405"><figref idrefs="f0024">FIG. 32</figref> illustrates an internal structure of the mobile phone 12500. In order to systemically control parts of the mobile phone 12500 including the display screen 12520 and the<!-- EPO <DP n="61"> --> operation panel 12540, a power supply circuit 12700, an operation input controller 12640, an image encoder 12720, a camera interface 12630, an LCD controller 12620, an image decoder 12690, a multiplexer/demultiplexer 12680, a recording/reading unit 12670, a modulation/demodulation unit 12660, and a sound processor 12650 are connected to a central controller 12710 via a synchronization bus 12730.</p><p id="p0406" num="0406">If a user operates a power button and sets from a 'power off state to a 'power on' state, the power supply circuit 12700 supplies power to all the parts of the mobile phone 12500 from a battery pack, thereby setting the mobile phone 12500 to an operation mode.</p><p id="p0407" num="0407">The central controller 12710 includes a central processing unit (CPU), a ROM, and a RAM.</p><p id="p0408" num="0408">While the mobile phone 12500 transmits communication data to the outside, a digital signal is generated by the mobile phone 12500 under control of the central controller 12710. For example, the sound processor 12650 may generate a digital sound signal, the image encoder 12720 may generate a digital image signal, and text data of a message may be generated via the operation panel 12540 and the operation input controller 12640. When a digital signal is transmitted to the modulation/demodulation unit 12660 by control of the central controller 12710, the modulation/demodulation unit 12660 modulates a frequency band of the digital signal, and a communication circuit 12610 performs digital-to-analog conversion (DAC) and frequency conversion on the frequency band-modulated digital sound signal. A transmission signal output from the communication circuit 12610 may be transmitted to a voice communication base station or the wireless base station 12000 via the antenna 12510.</p><p id="p0409" num="0409">For example, when the mobile phone 12500 is in a conversation mode, a sound signal obtained via the microphone 12550 is transformed into a digital sound signal by the sound processor 12650, by control of the central controller 12710. The digital sound signal may be transformed into a transformation signal via the modulation/demodulation unit 12660 and the communication circuit 12610, and may be transmitted via the antenna 12510.</p><p id="p0410" num="0410">When a text message, e.g., email, is transmitted during a data communication mode, text data of the text message is input via the operation panel 12540 and is transmitted to the central controller 12610 via the operation input controller 12640. By control of the central controller 12610, the text data is transformed into a transmission signal via the modulation/demodulation unit 12660 and the communication circuit 12610 and is transmitted to the wireless base station 12000 via the antenna 12510.</p><p id="p0411" num="0411">In order to transmit image data during the data communication mode, image data captured by the camera 12530 is provided to the image encoder 12720 via the camera interface 12630. The<!-- EPO <DP n="62"> --> captured image data may be directly displayed on the display screen 12520 via the camera interface 12630 and the LCD controller 12620.</p><p id="p0412" num="0412">A structure of the image encoder 12720 may correspond to that of the video encoding apparatus 100 described above. The image encoder 12720 may transform the image data received from the camera 12530 into compressed and encoded image data according to the aforementioned video encoding method, and then output the encoded image data to the multiplexer/demultiplexer 12680. During a recording operation of the camera 12530, a sound signal obtained by the microphone 12550 of the mobile phone 12500 may be transformed into digital sound data via the sound processor 12650, and the digital sound data may be transmitted to the multiplexer/demultiplexer 12680.</p><p id="p0413" num="0413">The multiplexer/demultiplexer 12680 multiplexes the encoded image data received from the image encoder 12720, together with the sound data received from the sound processor 12650. A result of multiplexing the data may be transformed into a transmission signal via the modulation/demodulation unit 12660 and the communication circuit 12610, and may then be transmitted via the antenna 12510.</p><p id="p0414" num="0414">While the mobile phone 12500 receives communication data from the outside, frequency recovery and ADC are performed on a signal received via the antenna 12510 to transform the signal into a digital signal. The modulation/demodulation unit 12660 modulates a frequency band of the digital signal. The frequency-band modulated digital signal is transmitted to the video decoder 12690, the sound processor 12650, or the LCD controller 12620, according to the type of the digital signal.</p><p id="p0415" num="0415">During the conversation mode, the mobile phone 12500 amplifies a signal received via the antenna 12510, and obtains a digital sound signal by performing frequency conversion and ADC on the amplified signal. A received digital sound signal is transformed into an analog sound signal via the modulation/demodulation unit 12660 and the sound processor 12650, and the analog sound signal is output via the speaker 12580, by control of the central controller 12710.</p><p id="p0416" num="0416">When during the data communication mode, data of a video file accessed at an Internet website is received, a signal received from the wireless base station 12000 via the antenna 12510 is output as multiplexed data via the modulation/demodulation unit 12660, and the multiplexed data is transmitted to the multiplexer/demultiplexer 12680.</p><p id="p0417" num="0417">In order to decode the multiplexed data received via the antenna 12510, the multiplexer/demultiplexer 12680 demultiplexes the multiplexed data into an encoded video data stream and an encoded audio data stream. Via the synchronization bus 12730, the encoded video data stream and the encoded audio data stream are provided to the video decoder 12690 and the sound processor 12650, respectively.<!-- EPO <DP n="63"> --></p><p id="p0418" num="0418">A structure of the image decoder 12690 may correspond to that of the video decoding apparatus described above. The image decoder 12690 may decode the encoded video data to obtain reconstructed video data and provide the reconstructed video data to the display screen 12520 via the LCD controller 12620, by using the aforementioned video decoding method according to the exemplary embodiment.</p><p id="p0419" num="0419">Thus, the data of the video file accessed at the Internet website may be displayed on the display screen 12520. At the same time, the sound processor 12650 may transform audio data into an analog sound signal, and provide the analog sound signal to the speaker 12580. Thus, audio data contained in the video file accessed at the Internet website may also be reproduced via the speaker 12580.</p><p id="p0420" num="0420">The mobile phone 12500 or another type of communication terminal may be a transceiving terminal including both a video encoding apparatus and a video decoding apparatus according to an exemplary embodiment, may be a transmitting terminal including only the video encoding apparatus, or may be a receiving terminal including only the video decoding apparatus.</p><p id="p0421" num="0421">A communication system according to an exemplary embodiment is not limited to the communication system described above with reference to <figref idrefs="f0022">FIG. 30</figref>. For example, <figref idrefs="f0025">FIG. 33</figref> illustrates a digital broadcasting system employing a communication system, according to an exemplary embodiment. The digital broadcasting system of <figref idrefs="f0025">FIG. 33</figref> may receive a digital broadcast transmitted via a satellite or a terrestrial network by using the video encoding apparatus and the video decoding apparatus according to the exemplary embodiments.</p><p id="p0422" num="0422">In more detail, a broadcasting station 12890 transmits a video data stream to a communication satellite or a broadcasting satellite 12900 by using radio waves. The broadcasting satellite 12900 transmits a broadcast signal, and the broadcast signal is transmitted to a satellite broadcast receiver via a household antenna 12860. In every house, an encoded video stream may be decoded and reproduced by a TV receiver 12810, a set-top box 12870, or another device.</p><p id="p0423" num="0423">When the video decoding apparatus according to the exemplary embodiment is implemented in a reproducing apparatus 12830, the reproducing apparatus 12830 may parse and decode an encoded video stream recorded on a storage medium 12820, such as a disc or a memory card to reconstruct digital signals. Thus, the reconstructed video signal may be reproduced, for example, on a monitor 12840.</p><p id="p0424" num="0424">In the set-top box 12870 connected to the antenna 12860 for a satellite/terrestrial broadcast or a cable antenna 12850 for receiving a cable television (TV) broadcast, the video decoding apparatus according to the exemplary embodiment may be installed. Data output from the set-top box 12870 may also be reproduced on a TV monitor 12880.<!-- EPO <DP n="64"> --></p><p id="p0425" num="0425">As another example, the video decoding apparatus according to the exemplary embodiment may be installed in the TV receiver 12810 instead of the set-top box 12870.</p><p id="p0426" num="0426">An automobile 12920 that has an appropriate antenna 12910 may receive a signal transmitted from the satellite 12900 or the wireless base station 11700. A decoded video may be reproduced on a display screen of an automobile navigation system 12930 installed in the automobile 12920.</p><p id="p0427" num="0427">A video signal may be encoded by the video encoding apparatus according to the exemplary embodiment and may then be stored in a storage medium. In more detail, an image signal may be stored in a DVD disc 12960 by a DVD recorder or may be stored in a hard disc by a hard disc recorder 12950. As another example, the video signal may be stored in an SD card 12970. If the hard disc recorder 12950 includes the video decoding apparatus according to the exemplary embodiment, a video signal recorded on the DVD disc 12960, the SD card 12970, or another storage medium may be reproduced on the TV monitor 12880.</p><p id="p0428" num="0428">The automobile navigation system 12930 may not include the camera 12530, the camera interface 12630, and the image encoder 12720 of <figref idrefs="f0024">FIG. 32</figref>. For example, the computer 12100 and the TV receiver 12810 may not include the camera 12530, the camera interface 12630, and the image encoder 12720 of <figref idrefs="f0024">FIG. 32</figref>.</p><p id="p0429" num="0429"><figref idrefs="f0026">FIG. 34</figref> is a diagram illustrating a network structure of a cloud computing system using a video encoding apparatus and a video decoding apparatus, according to an exemplary embodiment.</p><p id="p0430" num="0430">The cloud computing system may include a cloud computing server 14000, a user database (DB) 14100, a plurality of computing resources 14200, and a user terminal.</p><p id="p0431" num="0431">The cloud computing system provides an on-demand outsourcing service of the plurality of computing resources 14200 via a data communication network, e.g., the Internet, in response to a request from the user terminal. Under a cloud computing environment, a service provider provides users with desired services by combining computing resources at data centers located at physically different locations by using virtualization technology. A service user does not have to install computing resources, e.g., an application, a storage, an operating system (OS), and security software, into his/her own terminal in order to use them, but may select and use desired services from among services in a virtual space generated through the virtualization technology, at a desired point in time.</p><p id="p0432" num="0432">A user terminal of a specified service user is connected to the cloud computing server 14000 via a data communication network including the Internet and a mobile telecommunication network. User terminals may be provided cloud computing services, and particularly video reproduction services, from the cloud computing server 14000. The user terminals may be various types of electronic devices capable of being connected to the Internet, e.g., a desktop PC 14300, a<!-- EPO <DP n="65"> --> smart TV 14400, a smart phone 14500, a notebook computer 14600, a portable multimedia player (PMP) 14700, a tablet PC 14800, and the like.</p><p id="p0433" num="0433">The cloud computing server 14000 may combine the plurality of computing resources 14200 distributed in a cloud network and provide user terminals with a result of combining. The plurality of computing resources 14200 may include various data services, and may include data uploaded from user terminals. As described above, the cloud computing server 14000 may provide user terminals with desired services by combining video database distributed in different regions according to the virtualization technology.</p><p id="p0434" num="0434">User information about users who have subscribed for a cloud computing service is stored in the user DB 14100. The user information may include logging information, addresses, names, and personal credit information of the users. The user information may further include indexes of videos. Here, the indexes may include a list of videos that have already been reproduced, a list of videos that are being reproduced, a pausing point of a video that was being reproduced, and the like.</p><p id="p0435" num="0435">Information about a video stored in the user DB 14100 may be shared between user devices. For example, when a video service is provided to the notebook computer 14600 in response to a request from the notebook computer 14600, a reproduction history of the video service is stored in the user DB 14100. When a request to reproduce the video service is received from the smart phone 14500, the cloud computing server 14000 searches for and reproduces the video service, based on the user DB 14100. When the smart phone 14500 receives a video data stream from the cloud computing server 14000, a process of reproducing video by decoding the video data stream is similar to an operation of the mobile phone 12500 described above with reference to <figref idrefs="f0023">FIGS. 31</figref> and <figref idrefs="f0024">32</figref>.</p><p id="p0436" num="0436">The cloud computing server 14000 may refer to a reproduction history of a desired video service, stored in the user DB 14100. For example, the cloud computing server 14000 receives a request to reproduce a video stored in the user DB 14100, from a user terminal. If this video was being reproduced, then a method of streaming this video, performed by the cloud computing server 14000, may vary according to the request from the user terminal, i.e., according to whether the video will be reproduced, starting from a start thereof or a pausing point thereof. For example, if the user terminal requests to reproduce the video, starting from the start thereof, the cloud computing server 14000 transmits streaming data of the video starting from a first frame thereof to the user terminal. If the user terminal requests to reproduce the video, starting from the pausing point thereof, the cloud computing server 14000 transmits streaming data of the video starting from a frame corresponding to the pausing point, to the user terminal.</p><p id="p0437" num="0437">In this case, the user terminal may include the video decoding apparatus as described above with reference to <figref idrefs="f0001 f0002 f0003 f0004 f0005 f0006 f0007 f0008 f0009 f0010 f0011 f0012 f0013 f0014 f0015 f0016 f0017 f0018 f0019 f0020">FIGS. 1 through 27</figref>. In another example, the user terminal may include the<!-- EPO <DP n="66"> --> video encoding apparatus as described above with reference to <figref idrefs="f0001 f0002 f0003 f0004 f0005 f0006 f0007 f0008 f0009 f0010 f0011 f0012 f0013 f0014 f0015 f0016 f0017 f0018 f0019 f0020">FIGS. 1 through 27</figref>. Alternatively, the user terminal may include both the video decoding apparatus and the video encoding apparatus as described above with reference to <figref idrefs="f0001 f0002 f0003 f0004 f0005 f0006 f0007 f0008 f0009 f0010 f0011 f0012 f0013 f0014 f0015 f0016 f0017 f0018 f0019 f0020">FIGS. 1 through 27</figref>.</p><p id="p0438" num="0438">Various applications of the video encoding method, the video decoding method, the video encoding apparatus, and the video decoding apparatus according to the exemplary embodiments described above with reference to <figref idrefs="f0001 f0002 f0003 f0004 f0005 f0006 f0007 f0008 f0009 f0010 f0011 f0012 f0013 f0014 f0015 f0016 f0017 f0018 f0019 f0020">FIGS. 1 through 27</figref> are described above with reference to <figref idrefs="f0021 f0022 f0023 f0024 f0025 f0026">FIGS. 28 through 34</figref>. However, methods of storing the video encoding method and the video decoding method in a storage medium or methods of implementing the video encoding apparatus and the video decoding apparatus in a device described above with reference to <figref idrefs="f0001 f0002 f0003 f0004 f0005 f0006 f0007 f0008 f0009 f0010 f0011 f0012 f0013 f0014 f0015 f0016 f0017 f0018 f0019 f0020">FIGS. 1 through 27</figref> are not limited to the exemplary embodiments described above with reference to <figref idrefs="f0021 f0022 f0023 f0024 f0025 f0026">FIGS. 28 through 34</figref>.</p><p id="p0439" num="0439">While this disclosure has been particularly shown and described with reference to exemplary embodiments thereof, it will be understood by those of ordinary skill in the art that various changes in form and details may be made therein without departing from the spirit and scope of the following claims. The exemplary embodiments should be considered in a descriptive sense only and not for purposes of limitation. Therefore, the scope of the disclosure is defined not by the detailed description of the disclosure but by the appended claims, and all differences within the scope will be construed as being included in the disclosure.</p></description><claims mxw-id="PCLM90459176" lang="EN" load-source="patent-office"><!-- EPO <DP n="67"> --><claim id="c-en-0001" num="0001"><claim-text>A scalable video encoding method comprising:
<claim-text>determining a reference layer image from among base layer images so as to perform inter-layer prediction on an enhancement layer image;</claim-text>
<claim-text>generating an upsampled reference layer image by performing inter-layer (IL) interpolation filtering on the determined reference layer image; and</claim-text>
<claim-text>when the upsampled reference layer image is determined via the IL interpolation filtering, determining, using the enhancement layer image, not to perform inter prediction on enhancement layer images, and encoding a residue component between the upsampled reference layer image and the enhancement layer image.</claim-text></claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>The scalable video encoding method of claim 1, wherein the determining of the reference layer image comprises:
<claim-text>performing motion compensation (MC) interpolation filtering four times on the base layer images, wherein the MC interpolation filtering performed four times comprises horizontal-direction interpolation filtering and vertical-direction interpolation filtering in each of L0 and L1 prediction directions,</claim-text>
<claim-text>wherein the generating of the upsampled reference layer image comprises:
<claim-text>performing the IL interpolation filtering two times on the determined reference layer image, wherein the IL interpolation filtering performed two times comprises the IL interpolation filtering in a horizontal direction and the IL interpolation filtering in a vertical direction, and</claim-text>
<claim-text>wherein interpolation filtering for the inter-layer prediction using the enhancement layer image is limited to the MC interpolation filtering performed four times and the IL interpolation filtering performed two times.</claim-text></claim-text></claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>The scalable video encoding method of claim 2, further comprising:
<claim-text>determining whether or not to perform the inter prediction, based on a size and shape of a block and a prediction direction, in the enhancement layer image, and</claim-text>
<claim-text>limiting a computational quantity of the interpolation filtering for the inter-layer prediction using the enhancement layer image, so that the computational quantity is not greater than a total sum of a first computational quantity of MC interpolation filtering for inter prediction using the base layer<!-- EPO <DP n="68"> --> images and a second computational quantity of MC interpolation filtering for inter prediction using the enhancement layer images.</claim-text></claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>The scalable video encoding method of claim 1, wherein the encoding of the residue component comprises encoding a reference index indicating that a reference image used for the enhancement layer image is the upsampled reference layer image, and encoding a motion vector to indicate 0, wherein the motion vector is for the inter prediction using the enhancement layer images.</claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>The scalable video encoding method of claim 3, wherein interpolation filtering on a block having a size of 8x8 or larger is limited to i) a combination of 8-tap MC interpolation filtering performed two times or ii) a combination of 8-tap MC interpolation filtering performed one time and 8-tap IL interpolation filtering performed one time,<br/>
wherein interpolation filtering on a block having a size of 4x8 or larger is limited to iii) 8-tap IL interpolation filtering performed one time, iv) a combination of 6-tap IL interpolation filtering performed two times, v) a combination of 4-tap IL interpolation filtering performed two times, or vi) a combination of 2-tap IL interpolation filtering performed three times, and<br/>
wherein interpolation filtering on a block having a size of 8x16 or larger is limited to vii) a combination of 8-tap MC interpolation filtering performed two times and 4-tap IL interpolation filtering performed one time, viii) a combination of 2-tap MC interpolation filtering performed four times and 2-tap IL interpolation filtering performed four times, ix) a combination of 8-tap MC interpolation filtering performed two times and 2-tap IL interpolation filtering performed two times, or x) a combination of 8-tap MC interpolation filtering performed two times and 8-tap IL interpolation filtering performed one time.</claim-text></claim><claim id="c-en-0006" num="0006"><claim-text>A scalable video decoding method comprising:
<claim-text>obtaining a reference index indicating a residue component and a reference layer image for inter-layer prediction using an enhancement layer image;</claim-text>
<claim-text>based on the reference index, determining not to perform inter-prediction on enhancement layer images and determining the reference layer image from among base layer images;</claim-text>
<claim-text>generating an upsampled reference layer image by performing inter-layer (IL) interpolation filtering on the determined reference layer image; and</claim-text>
<claim-text>reconstructing the enhancement layer image by using the residue component with respect to the inter-layer prediction and the upsampled reference layer image.</claim-text><!-- EPO <DP n="69"> --></claim-text></claim><claim id="c-en-0007" num="0007"><claim-text>The scalable video decoding method of claim 6, wherein the determining of the reference layer image comprises:
<claim-text>performing motion compensation (MC) interpolation filtering four times on the base layer images, wherein the MC interpolation filtering performed four times comprises horizontal-direction interpolation filtering and vertical-direction interpolation filtering in each of L0 and L1 prediction directions,</claim-text>
<claim-text>wherein the generating of the upsampled reference layer image comprises:
<claim-text>performing the IL interpolation filtering two times on the determined reference layer image, wherein the IL interpolation filtering performed two times comprises the IL interpolation filtering in a horizontal direction and the IL interpolation filtering in a vertical direction, and</claim-text>
<claim-text>wherein interpolation filtering for the inter-layer prediction using the enhancement layer image is limited to the MC interpolation filtering performed four times and the IL interpolation filtering performed two times.</claim-text></claim-text></claim-text></claim><claim id="c-en-0008" num="0008"><claim-text>The scalable video decoding method of claim 7, wherein a computational quantity of the interpolation filtering for the inter-layer prediction using the enhancement layer image is not greater than a total sum of a first computational quantity of MC interpolation filtering for inter prediction using the base layer images and a second computational quantity of MC interpolation filtering for inter prediction using the enhancement layer images.</claim-text></claim><claim id="c-en-0009" num="0009"><claim-text>The scalable video decoding method of claim 6, wherein, when a reference index of the enhancement layer image indicates the upsampled reference layer image, the determining of the reference layer image comprises determining a motion vector as 0, wherein the motion vector is for inter prediction using the enhancement layer images.</claim-text></claim><claim id="c-en-0010" num="0010"><claim-text>The scalable video decoding method of claim 7, further comprising:
<claim-text>determining whether or not to perform inter prediction, based on at least one of a size and shape of a block and a prediction direction in the enhancement layer image; and</claim-text>
<claim-text>limiting the number of times the MC interpolation filtering is performed and the number of times the IL interpolation filtering is performed, based on at least one of the number of taps of an MC interpolation filter for the MC interpolation filtering for the inter prediction using the enhancement layer image, the number of taps of an IL interpolation filter for the IL interpolation filtering, and a size of a prediction unit of the enhancement layer image.</claim-text><!-- EPO <DP n="70"> --></claim-text></claim><claim id="c-en-0011" num="0011"><claim-text>The scalable video decoding method of claim 10, wherein interpolation filtering on a block having a size of 8x8 or larger is limited to i) a combination of 8-tap MC interpolation filtering performed two times or ii) a combination of 8-tap MC interpolation filtering performed one time and 8-tap IL interpolation filtering performed one time,<br/>
wherein interpolation filtering on a block having a size of 4x8 or larger is limited to iii) 8-tap IL interpolation filtering performed one time, iv) a combination of 6-tap IL interpolation filtering performed two times, v) a combination of 4-tap IL interpolation filtering performed two times, or vi) a combination of 2-tap IL interpolation filtering performed three times, and<br/>
wherein interpolation filtering on a block having a size of 8x16 or larger is limited to vii) a combination of 8-tap MC interpolation filtering performed two times and 4-tap IL interpolation filtering performed one time, viii) a combination of 2-tap MC interpolation filtering performed four times and 2-tap IL interpolation filtering performed four times, ix) a combination of 8-tap MC interpolation filtering performed two times and 2-tap IL interpolation filtering performed two times, or x) a combination of 8-tap MC interpolation filtering performed two times and 8-tap IL interpolation filtering performed one time.</claim-text></claim><claim id="c-en-0012" num="0012"><claim-text>A scalable video encoding apparatus comprising:
<claim-text>a base layer encoder configured to perform inter prediction on base layer images; and</claim-text>
<claim-text>an enhancement layer encoder configured to:
<claim-text>determine, using an enhancement layer image, not to perform inter prediction on enhancement layer images when an upsampled reference layer image is determined by performing inter-layer (IL) interpolation filtering on a determined reference layer image, and</claim-text>
<claim-text>encode a residue component between the upsampled reference layer image and the enhancement layer image.</claim-text></claim-text></claim-text></claim><claim id="c-en-0013" num="0013"><claim-text>A scalable video decoding apparatus comprising:
<claim-text>a base layer decoder configured to reconstruct base layer images by performing motion compensation; and</claim-text>
<claim-text>an enhancement layer decoder configured to:
<claim-text>obtain a reference index indicating a residue component and a reference layer image for inter-layer prediction using an enhancement layer image,</claim-text>
<claim-text>determine, based on the reference index, not to perform inter-prediction on enhancement layer images,<!-- EPO <DP n="71"> --></claim-text>
<claim-text>generate an upsampled reference layer image by performing inter-layer (IL) interpolation filtering on the reference layer image determined from among the base layer images, and</claim-text>
<claim-text>reconstruct the enhancement layer image by using the residue component with respect to the inter-layer prediction and the upsampled reference layer image.</claim-text></claim-text></claim-text></claim><claim id="c-en-0014" num="0014"><claim-text>A computer-readable recording medium having recorded thereon a computer program for executing the scalable video encoding method of claim 1.</claim-text></claim><claim id="c-en-0015" num="0015"><claim-text>A computer-readable recording medium having recorded thereon a computer program for executing the scalable video decoding method of claim 6.</claim-text></claim></claims><drawings mxw-id="PDW20421912" load-source="patent-office"><!-- EPO <DP n="72"> --><figure id="f0001" num="1,2"><img id="if0001" file="imgf0001.tif" wi="97" he="166" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="73"> --><figure id="f0002" num="3"><img id="if0002" file="imgf0002.tif" wi="165" he="230" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="74"> --><figure id="f0003" num="4"><img id="if0003" file="imgf0003.tif" wi="153" he="168" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="75"> --><figure id="f0004" num="5"><img id="if0004" file="imgf0004.tif" wi="165" he="205" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="76"> --><figure id="f0005" num="6,7"><img id="if0005" file="imgf0005.tif" wi="158" he="189" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="77"> --><figure id="f0006" num="8,9"><img id="if0006" file="imgf0006.tif" wi="165" he="128" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="78"> --><figure id="f0007" num="10"><img id="if0007" file="imgf0007.tif" wi="165" he="148" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="79"> --><figure id="f0008" num="11"><img id="if0008" file="imgf0008.tif" wi="165" he="197" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="80"> --><figure id="f0009" num="12"><img id="if0009" file="imgf0009.tif" wi="165" he="228" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="81"> --><figure id="f0010" num="13,14"><img id="if0010" file="imgf0010.tif" wi="138" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="82"> --><figure id="f0011" num="15,16"><img id="if0011" file="imgf0011.tif" wi="154" he="162" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="83"> --><figure id="f0012" num="17"><img id="if0012" file="imgf0012.tif" wi="165" he="172" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="84"> --><figure id="f0013" num="18"><img id="if0013" file="imgf0013.tif" wi="156" he="210" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="85"> --><figure id="f0014" num="19"><img id="if0014" file="imgf0014.tif" wi="144" he="220" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="86"> --><figure id="f0015" num="20"><img id="if0015" file="imgf0015.tif" wi="165" he="206" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="87"> --><figure id="f0016" num="21,22"><img id="if0016" file="imgf0016.tif" wi="149" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="88"> --><figure id="f0017" num="23"><img id="if0017" file="imgf0017.tif" wi="165" he="226" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="89"> --><figure id="f0018" num="24,25"><img id="if0018" file="imgf0018.tif" wi="165" he="226" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="90"> --><figure id="f0019" num="26"><img id="if0019" file="imgf0019.tif" wi="133" he="158" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="91"> --><figure id="f0020" num="27"><img id="if0020" file="imgf0020.tif" wi="159" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="92"> --><figure id="f0021" num="28,29"><img id="if0021" file="imgf0021.tif" wi="130" he="218" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="93"> --><figure id="f0022" num="30"><img id="if0022" file="imgf0022.tif" wi="165" he="230" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="94"> --><figure id="f0023" num="31"><img id="if0023" file="imgf0023.tif" wi="121" he="196" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="95"> --><figure id="f0024" num="32"><img id="if0024" file="imgf0024.tif" wi="165" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="96"> --><figure id="f0025" num="33"><img id="if0025" file="imgf0025.tif" wi="165" he="229" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="97"> --><figure id="f0026" num="34"><img id="if0026" file="imgf0026.tif" wi="165" he="222" img-content="drawing" img-format="tif"/></figure></drawings><search-report-data><doc-page id="srep0001" file="srep0001.tif" wi="155" he="233" type="tif"/><doc-page id="srep0002" file="srep0002.tif" wi="153" he="233" type="tif"/><doc-page id="srep0003" file="srep0003.tif" wi="157" he="233" type="tif"/></search-report-data><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
