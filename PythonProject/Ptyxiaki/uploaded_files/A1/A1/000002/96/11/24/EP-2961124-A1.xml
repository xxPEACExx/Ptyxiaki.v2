<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2961124-A1" country="EP" doc-number="2961124" kind="A1" date="20151230" family-id="51176993" file-reference-id="318329" date-produced="20180824" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="160451218" ucid="EP-2961124-A1"><document-id><country>EP</country><doc-number>2961124</doc-number><kind>A1</kind><date>20151230</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-14305975-A" is-representative="YES"><document-id mxw-id="PAPP193865404" load-source="docdb" format="epo"><country>EP</country><doc-number>14305975</doc-number><kind>A</kind><date>20140623</date><lang>EN</lang></document-id><document-id mxw-id="PAPP193865405" load-source="patent-office" format="original"><country>EP</country><doc-number>14305975.6</doc-number><date>20140623</date><lang>EN</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC162034081" ucid="EP-14305975-A" load-source="docdb"><document-id format="epo"><country>EP</country><doc-number>14305975</doc-number><kind>A</kind><date>20140623</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-1988519766" load-source="docdb">H04L  29/08        20060101ALI20140922BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1988523311" load-source="docdb">H04L  29/06        20060101AFI20140922BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1984018388" load-source="docdb" scheme="CPC">H04L  63/083       20130101 FI20140911BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987776323" load-source="docdb" scheme="CPC">H04L  67/02        20130101 LI20140911BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987782761" load-source="docdb" scheme="CPC">H04L  63/104       20130101 LI20140911BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT165545120" lang="DE" load-source="patent-office">Verfahren zur Verbesserung eines Captive-Portal-Dienstes</invention-title><invention-title mxw-id="PT165545121" lang="EN" load-source="patent-office">Method for enhancing captive portal service</invention-title><invention-title mxw-id="PT165545122" lang="FR" load-source="patent-office">Procédé d'amélioration de service de portail captif</invention-title><citations><patent-citations><patcit mxw-id="PCIT335961743" load-source="docdb" ucid="EP-1705869-A1"><document-id format="epo"><country>EP</country><doc-number>1705869</doc-number><kind>A1</kind><date>20060927</date></document-id><sources><source name="SEA" category="X" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT335961744" load-source="docdb" ucid="US-20020112155-A1"><document-id format="epo"><country>US</country><doc-number>20020112155</doc-number><kind>A1</kind><date>20020815</date></document-id><sources><source name="SEA" category="A" created-by-npl="N"/></sources></patcit></patent-citations><non-patent-citations><nplcit><text>None</text><sources><source mxw-id="PNPL57937166" load-source="docdb" name="APP"/></sources></nplcit></non-patent-citations></citations></technical-data><parties><applicants><applicant mxw-id="PPAR1103327039" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>ALCATEL LUCENT</last-name><address><country>FR</country></address></addressbook></applicant><applicant mxw-id="PPAR1103315485" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>ALCATEL LUCENT</last-name></addressbook></applicant><applicant mxw-id="PPAR1101650640" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Alcatel Lucent</last-name><iid>101456625</iid><address><street>148/152 Route de la Reine</street><city>92100 Boulogne-Billancourt</city><country>FR</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR1103334891" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>PRASAD NAGENDRA</last-name><address><country>IN</country></address></addressbook></inventor><inventor mxw-id="PPAR1103343280" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>PRASAD, NAGENDRA</last-name></addressbook></inventor><inventor mxw-id="PPAR1101646495" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>PRASAD, NAGENDRA</last-name><address><street>ALCATEL-LUCENT INDIA LIMITED NAGAWARA VILLAGE,KASABA TALUK OUTER RING ROAD MANYATA EMBASSY BUSINESS PK</street><city>560045 Bangalore</city><country>IN</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR1101651971" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Mouney, Jérôme</last-name><suffix>et al</suffix><iid>101461845</iid><address><street>Alcatel-Lucent International 148/152 route de la Reine</street><city>92100 Boulogne-Billancourt</city><country>FR</country></address></addressbook></agent></agents></parties><international-convention-data><designated-states><ep-contracting-states><country mxw-id="DS660682119" load-source="docdb">AL</country><country mxw-id="DS660684077" load-source="docdb">AT</country><country mxw-id="DS660682121" load-source="docdb">BE</country><country mxw-id="DS660603874" load-source="docdb">BG</country><country mxw-id="DS660606749" load-source="docdb">CH</country><country mxw-id="DS660681663" load-source="docdb">CY</country><country mxw-id="DS660684078" load-source="docdb">CZ</country><country mxw-id="DS660682122" load-source="docdb">DE</country><country mxw-id="DS660681664" load-source="docdb">DK</country><country mxw-id="DS660681665" load-source="docdb">EE</country><country mxw-id="DS660606098" load-source="docdb">ES</country><country mxw-id="DS660603887" load-source="docdb">FI</country><country mxw-id="DS660603888" load-source="docdb">FR</country><country mxw-id="DS660682127" load-source="docdb">GB</country><country mxw-id="DS660681666" load-source="docdb">GR</country><country mxw-id="DS660682128" load-source="docdb">HR</country><country mxw-id="DS660684091" load-source="docdb">HU</country><country mxw-id="DS660606750" load-source="docdb">IE</country><country mxw-id="DS660682129" load-source="docdb">IS</country><country mxw-id="DS660603889" load-source="docdb">IT</country><country mxw-id="DS660681687" load-source="docdb">LI</country><country mxw-id="DS660782232" load-source="docdb">LT</country><country mxw-id="DS660684092" load-source="docdb">LU</country><country mxw-id="DS660782233" load-source="docdb">LV</country><country mxw-id="DS660782234" load-source="docdb">MC</country><country mxw-id="DS660681587" load-source="docdb">MK</country><country mxw-id="DS660681588" load-source="docdb">MT</country><country mxw-id="DS660606211" load-source="docdb">NL</country><country mxw-id="DS660684093" load-source="docdb">NO</country><country mxw-id="DS660681589" load-source="docdb">PL</country><country mxw-id="DS660681688" load-source="docdb">PT</country><country mxw-id="DS660606212" load-source="docdb">RO</country><country mxw-id="DS660681689" load-source="docdb">RS</country><country mxw-id="DS660606213" load-source="docdb">SE</country><country mxw-id="DS660681690" load-source="docdb">SI</country><country mxw-id="DS660684094" load-source="docdb">SK</country><country mxw-id="DS660681590" load-source="docdb">SM</country><country mxw-id="DS660606751" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA166479588" lang="EN" load-source="patent-office"><p id="pa01" num="0001">For enhancing a captive portal service provided by a control entity (CE) to a communication device (CD), the control entity (CE) sends, after authentication of a user of the communication device, a status page about the captive portal to the communication device, the status page containing a user role defining user access privileges and a cookie that commands a browser in the communication device to make at least one request for updated user role.</p><p id="pa02" num="0002">The control entity (CE) then receives a request from the communication device, and sends a response to the received request with updated user role to the communication device.
<img id="iaf01" file="imgaf001.tif" wi="102" he="114" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA166759400" lang="EN" source="EPO" load-source="docdb"><p>For enhancing a captive portal service provided by a control entity (CE) to a communication device (CD), the control entity (CE) sends, after authentication of a user of the communication device, a status page about the captive portal to the communication device, the status page containing a user role defining user access privileges and a cookie that commands a browser in the communication device to make at least one request for updated user role.  The control entity (CE) then receives a request from the communication device, and sends a response to the received request with updated user role to the communication device.</p></abstract><description mxw-id="PDES98404289" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001">FIELD OF THE INVENTION</heading><p id="p0001" num="0001">The present invention pertains to a method for enhancing captive portal service provided by a control entity to a communication device.</p><heading id="h0002">BACKGROUND</heading><p id="p0002" num="0002">Captive portal is a web based authentication mechanism which is enforced on the user who is classified into an edge profile for which the captive portal is enabled.</p><p id="p0003" num="0003">As of now upon captive portal successful authentication the status page is displayed indicating that login is successful and the pending session time and the logout button. After successful authentication the MAC (Media Access Control) of the user will be associated with a role (the access privileges) that offers him/her unrestricted access to the resource.</p><p id="p0004" num="0004">Based on different events and configurations of the control device managing the captive portal, the role assigned to the user can be changed.</p><p id="p0005" num="0005">Currently, user is unaware of the change in his/her access privileges unless he/she is browsing the web.</p><p id="p0006" num="0006">There is a need for a simple solution to help the user to know his/her current access privileges.</p><heading id="h0003">SUMMARY</heading><p id="p0007" num="0007">This summary is provided to introduce concepts related to the present inventive subject matter. This summary is not intended to identify essential features of the claimed subject matter nor is it intended for use in determining or limiting the scope of the claimed subject matter.</p><p id="p0008" num="0008">In accordance with one embodiment, a method is provided for enhancing a captive portal service provided by a control entity to a communication device, comprising the following steps in the control entity:<!-- EPO <DP n="2"> -->
<ul><li>after authentication of a user of the communication device, sending a status page about the captive portal to the communication device, the status page containing a user role defining user access privileges and a cookie that commands a browser in the communication device to make at least one request for updated user role,</li><li>receiving a request from the communication device,</li><li>sending a response to the received request with updated user role to the communication device.</li></ul></p><p id="p0009" num="0009">Advantageously, the user is caught an aware by the change in the access privileges which are enforced by the control device managing the captive portal. The end user at any point of time can know the changes in the privileges.</p><p id="p0010" num="0010">In an embodiment, the request is destined to a unique IP address and the control entity has the capability to trap any HTTP packet destined to this unique IP address.</p><p id="p0011" num="0011">In an embodiment, the response contains information about a remediation process, if the user is quarantined.</p><p id="p0012" num="0012">In an embodiment, the response contains information about restrictions that pertains to the updated user role and that can be shared with the user, if the user is in restricted role due to a time policy.</p><p id="p0013" num="0013">In an embodiment, the response contains information about restrictions that pertains to the updated user role and that can be shared with the user, if the user is in restricted role due to a location policy.</p><p id="p0014" num="0014">In an embodiment, the cookie commands the browser in the communication device to make periodic requests for updated user role.</p><p id="p0015" num="0015">The invention also pertains to a server for control entity for enhancing a captive portal service provided by the control entity to a communication device, comprising:
<ul><li>means for sending, after authentication of a user of the communication device, a status page about the captive portal to the communication device, the status page containing a user role defining user<!-- EPO <DP n="3"> --> access privileges and a cookie that commands a browser in the communication device to make at least one request for updated user role,</li><li>means for receiving a request from the communication device,</li><li>means for sending a response to the received request with updated user role to the communication device.</li></ul></p><p id="p0016" num="0016">The invention also pertains to computer program capable of being implemented within a control entity, said program comprising instructions which, when the program is executed within said control entity, carry out steps according to the method according to the invention.</p><heading id="h0004">BRIEF DESCRIPTION OF THE FIGURES</heading><p id="p0017" num="0017">Some embodiments of the present invention are now described, by way of example only, and with reference to the accompanying drawings. The same reference number represents the same element or the same type of element on all drawings.
<ul><li><figref idrefs="f0001">FIG. 1</figref> is a schematic block diagram of a communication system according to one embodiment of the invention for enhancing captive portal service.</li><li><figref idrefs="f0002">FIG. 2</figref> is a flow chart illustrating a method for enhancing captive portal service according to one embodiment of the invention.</li></ul></p><p id="p0018" num="0018">The same reference number represents the same element or the same type of element on all drawings.</p><heading id="h0005">DESCRIPTION OF EMBODIMENTS</heading><p id="p0019" num="0019">The figures and the following description illustrate specific exemplary embodiments of the invention. It will thus be appreciated that those skilled in the art will be able to devise various arrangements that, although not explicitly described or shown herein, embody the principles of the invention and are included within the scope of the invention. Furthermore, any examples described herein are intended to aid in understanding the principles of the invention, and are to be construed as being without<!-- EPO <DP n="4"> --> limitation to such specifically recited examples and conditions. As a result, the invention is not limited to the specific embodiments or examples described below, but by the claims and their equivalents.</p><p id="p0020" num="0020">According to an illustrative example of prior art, the user has undergone captive portal authentication successfully at 12 noon. The user is assigned wider access privileges for the captive portal session time out value which is 12 hours. There is another policy (Time Based Policy) configured on the device such that the user should be put in a restricted role at 5 PM.</p><p id="p0021" num="0021">The user tries to download a file from a server at 6 PM. As the user is in restricted role, the download fails. The user is in doubt what has triggered this failure despite having logged in successfully and having sufficient pending session time.</p><p id="p0022" num="0022">The only way the user can come to know that time based policy has triggered and he/she is put in the restricted role is by accessing some URL (Uniform Resource Locator) through the browser. When the user accesses the URL, due to the restricted role, HTTP (HyperText Transfer Protocol) request is responded with HTTP reply containing the web page carrying the message that user is under restricted role.</p><p id="p0023" num="0023">There could be many events that could change role assigned to the user based on the configurations or through different events triggered in the network or based on the change in the location.</p><p id="p0024" num="0024">In order to overcome at least partially the aforementioned drawbacks, the invention has for object is a dynamic update of the role assigned to the user by the control entity, so that the user is not caught unaware.</p><p id="p0025" num="0025">Referring to <figref idrefs="f0001">FIG. 1</figref>, a communication system comprises a control entity CE and a communication device CD which are able to communicate between them through at least a telecommunication network TN.</p><p id="p0026" num="0026">The telecommunication network TN may be a wired or wireless network, or a combination of wired and wireless networks.<!-- EPO <DP n="5"> --></p><p id="p0027" num="0027">The telecommunication network TN can be associated with a packet network, for example, an IP ("Internet Protocol") high-speed network such as the Internet or an intranet, or even a company-specific private network.</p><p id="p0028" num="0028">The communication device CD can be a personal computer or a laptop, a tablet, a smart phone, a phablet, for instance. More generally it concerns any type of electronic equipment comprising a communication module, capable of establishing connection with the telecommunication network to exchange data with other communication equipments.</p><p id="p0029" num="0029">The control entity CE is a network entity that is able to communicate with the communication device CD and that allows access to a service, like access to Internet, requiring user authentication. The control entity CE manages a database containing user identifiers and user profiles. For example, the control entity can be implemented in a server or router or switch.</p><p id="p0030" num="0030">The control entity CE comprises a network interface NI to communicate with the communication device, an authentication server, like a Radius Server, an intranet server and servers in the network.</p><p id="p0031" num="0031">The control entity CE comprises role assignment engine RAE that implements a captive portal technique that forces an HTTP client to see a special web page, for authentication purposes.</p><p id="p0032" num="0032">The control entity CE comprises an internal server IS that manages URLs requested by devices communicating with the control entity.</p><p id="p0033" num="0033">In one embodiment, the internal server IS is implemented in an entity independent from the control entity CE.</p><p id="p0034" num="0034">With reference to <figref idrefs="f0002">FIG. 2</figref>, a method for handling passwords for service authentication according to one embodiment of the invention comprises steps S1 to S7 executed within the communication system.<!-- EPO <DP n="6"> --></p><p id="p0035" num="0035">In step S1, the user of the communication device CD connects to the control entity CE in order to get access to Internet, to a web site for example.</p><p id="p0036" num="0036">When the user opens a web browser trying to access a web site, the role assignment engine RAE of the control entity CE triggers a captive portal pre-login role that traps packets, such as HTTP/HTTPS/HTTP PROXY packets, into an internal server IS.</p><p id="p0037" num="0037">The user is classified in an edge profile for which captive portal property is enabled. The user's MAC address is learnt with captive portal pre-login role (restricted access privileges). The pre-login role enables trapping of the HTTP packets to the internal server IS running on the control entity CE.</p><p id="p0038" num="0038">In step S2, the internal server IS sends the captive portal login page to the communication device of the user, asking for credentials.</p><p id="p0039" num="0039">The user enters the credentials, such as user name and password, in the login page and submits the entered credentials that are sent from the communication device to the internal server IS.</p><p id="p0040" num="0040">In step S3, the internal server IS forwards the credentials to the control entity CE.</p><p id="p0041" num="0041">The control entity CE authenticates the user with collaboration with the Radius Server.</p><p id="p0042" num="0042">In step S4, if the authentication is successful, the role assignment engine RAE of the control entity CE sends a status page about the captive portal to the communication device of the user.</p><p id="p0043" num="0043">The status page contains a current user role defining user access privileges.</p><p id="p0044" num="0044">The status page contains also a cookie that commands the browser in the communication device to make a request to the control entity CE to get an updated user role.</p><p id="p0045" num="0045">The request is preferably periodic, in order to get a periodic update.<!-- EPO <DP n="7"> --></p><p id="p0046" num="0046">In step S5, the communication device sends a request to the control entity CE, based on the content of the cookie.</p><p id="p0047" num="0047">The cookie can send the request destined to a unique IP address (captive portal IP address) with the port number as 80 for example. The control entity CE has the capability to trap any HTTP packet destined to this captive portal IP address.</p><p id="p0048" num="0048">For example, the cookie in the status page forms request for the user role and sends to the captive portal IP address and with the destination port as 80 (HTTP port) at frequent interval (e.g. every 5 seconds).</p><p id="p0049" num="0049">In step S6, the role assignment engine RAE of the control entity CE sends a response to the request with updated role of the user to the communication device CD.</p><p id="p0050" num="0050">More especially, the control entity CE traps this cookie request and hands over to the internal web server for processing. The internal server forwards the cookies request to the role assignment engine on the control entity CE.</p><p id="p0051" num="0051">The role assignment engine RAE retrieves the current assigned role for this user and the internal server responds to the cookies request.</p><p id="p0052" num="0052">The information that can be provided are:
<ol><li>i. If the user is quarantined : it can tell the user about the remediation process.</li><li>ii. If the user is in restricted role due to the time policy: an additional information about the restrictions pertaining to this role and that can be shared with end user can be displayed.</li><li>iii. If the user is in restricted role due to the location policy: an additional information about the restrictions pertaining to this role and that can be shared with end user can be displayed.</li></ol><!-- EPO <DP n="8"> --></p><p id="p0053" num="0053">In step S7, upon receiving the response from the control entity CE, the browser in the communication device displays in the status page if there is any change in the role.</p><p id="p0054" num="0054">The invention described here relates to a method and a device for enhancing captive portal service. According to one implementation of the invention, steps of the invention are determined by the instructions of a computer program incorporated into a control entity, such as the control entity CE. The program comprises program instructions which, when said program is loaded and executed within the control entity, carry out the steps of the method.</p><p id="p0055" num="0055">Consequently, the invention also applies to a computer program, particularly a computer program on or within an information medium, suitable to implement the invention. This program may use any programming language, and be in the form of source code, object code, or intermediate code between source code and object code, such as in a partially compiled form, or in any other form desirable for implementing the method according to the invention.</p></description><claims mxw-id="PCLM90459219" lang="EN" load-source="patent-office"><!-- EPO <DP n="9"> --><claim id="c-en-0001" num="0001"><claim-text>A method for enhancing a captive portal service provided by a control entity (CE) to a communication device (CD), comprising the following steps in the control entity (CE):
<claim-text>after authentication of a user of the communication device, sending (S4) a status page about the captive portal to the communication device, the status page containing a user role defining user access privileges and a cookie that commands a browser in the communication device to make at least one request for updated user role,</claim-text>
<claim-text>receiving (S5) a request from the communication device,</claim-text>
<claim-text>sending (S6) a response to the received request with updated user role to the communication device (CD).</claim-text></claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>A method according to claim 1, wherein the request is destined to a unique IP address and the control entity (CE) has the capability to trap any HTTP packet destined to this unique IP address.</claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>A method according to claim 1 or 2, wherein the response contains information about a remediation process, if the user is quarantined.</claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>A method according to any of claims 1 to 3, wherein the response contains information about restrictions that pertains to the updated user role and that can be shared with the user, if the user is in restricted role due to a time policy.</claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>A method according to any of claims 1 to 4, wherein the response contains information about restrictions that pertains to the updated user role and that can be shared with the user, if the user is in restricted role due to a location policy.<!-- EPO <DP n="10"> --></claim-text></claim><claim id="c-en-0006" num="0006"><claim-text>A method according to any of claims 1 to 5, wherein the cookie commands the browser in the communication device to make periodic requests for updated user role.</claim-text></claim><claim id="c-en-0007" num="0007"><claim-text>A control entity (CE) for enhancing a captive portal service provided by the control entity (CE) to a communication device (CD), comprising:
<claim-text>means (RAE) for sending, after authentication of a user of the communication device, a status page about the captive portal to the communication device, the status page containing a user role defining user access privileges and a cookie that commands a browser in the communication device to make at least one request for updated user role,</claim-text>
<claim-text>means (RAE) for receiving a request from the communication device,</claim-text>
<claim-text>means (RAE) for sending a response to the received request with updated user role to the communication device (CD).</claim-text></claim-text></claim><claim id="c-en-0008" num="0008"><claim-text>A control entity (CE) according to claim 8, wherein the control entity is one of server, a router and a switch.</claim-text></claim><claim id="c-en-0009" num="0009"><claim-text>A computer program capable of being implemented within a control entity (CE) for enhancing a captive portal service provided by a control entity (CE) to a communication device (CD), said program comprising instructions which, when the program is loaded and executed within said control entity, carry out the following steps:
<claim-text>after authentication of a user of the communication device, sending (S4) a status page about the captive portal to the communication device, the status page containing a user role defining user access privileges and a cookie that commands a browser in the communication device to make at least one request for updated user role,</claim-text>
<claim-text>receiving (S5) a request from the communication device,</claim-text>
<claim-text>sending (S6) a response to the received request with updated user role to the communication device (CD).</claim-text></claim-text></claim></claims><drawings mxw-id="PDW20421955" load-source="patent-office"><!-- EPO <DP n="11"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="151" he="172" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="12"> --><figure id="f0002" num="2"><img id="if0002" file="imgf0002.tif" wi="151" he="184" img-content="drawing" img-format="tif"/></figure></drawings><search-report-data><doc-page id="srep0001" file="srep0001.tif" wi="158" he="233" type="tif"/><doc-page id="srep0002" file="srep0002.tif" wi="158" he="233" type="tif"/></search-report-data><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
