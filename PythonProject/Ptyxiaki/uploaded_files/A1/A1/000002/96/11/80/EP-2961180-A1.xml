<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2961180-A1" country="EP" doc-number="2961180" kind="A1" date="20151230" family-id="51162646" file-reference-id="273041" date-produced="20180824" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="160451162" ucid="EP-2961180-A1"><document-id><country>EP</country><doc-number>2961180</doc-number><kind>A1</kind><date>20151230</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-14305974-A" is-representative="YES"><document-id mxw-id="PAPP193865292" load-source="patent-office" format="original"><country>EP</country><doc-number>14305974.9</doc-number><date>20140623</date><lang>EN</lang></document-id><document-id mxw-id="PAPP193865293" load-source="docdb" format="epo"><country>EP</country><doc-number>14305974</doc-number><kind>A</kind><date>20140623</date><lang>EN</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC162027393" ucid="EP-14305974-A" load-source="docdb"><document-id format="epo"><country>EP</country><doc-number>14305974</doc-number><kind>A</kind><date>20140623</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-1988520671" load-source="docdb">H04N  21/83        20110101ALI20141021BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1988521702" load-source="docdb">H04N  21/4627      20110101AFI20141021BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1988526268" load-source="docdb">G06F  17/30        20060101ALI20141021BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1793400153" load-source="docdb" scheme="CPC">H04N  21/8358      20130101 FI20170706BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1984703253" load-source="docdb" scheme="CPC">H04N  21/8352      20130101 LI20151224BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1984704509" load-source="docdb" scheme="CPC">G06T   1/0042      20130101 LI20151224BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987768871" load-source="docdb" scheme="CPC">H04N  21/83        20130101 LI20141015BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987776222" load-source="docdb" scheme="CPC">G06F  17/30784     20130101 LI20141017BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT165544952" lang="DE" load-source="patent-office">Inhaltserzeugungsverfahren, Inhaltsregistrierungsverfahren, Vorrichtungen und entsprechende Programme</invention-title><invention-title mxw-id="PT165544953" lang="EN" load-source="patent-office">Content creation method, content registration method, devices and corresponding programs</invention-title><invention-title mxw-id="PT165544954" lang="FR" load-source="patent-office">Procédé de création de contenu, procédé d'enregistrement de contenu, dispositifs et programmes correspondants</invention-title><citations><patent-citations><patcit mxw-id="PCIT335961683" load-source="docdb" ucid="US-20070242826-A1"><document-id format="epo"><country>US</country><doc-number>20070242826</doc-number><kind>A1</kind><date>20071018</date></document-id><sources><source name="SEA" category="A" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT335961684" load-source="docdb" ucid="US-20080089551-A1"><document-id format="epo"><country>US</country><doc-number>20080089551</doc-number><kind>A1</kind><date>20080417</date></document-id><sources><source name="SEA" category="A" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT335961685" load-source="docdb" ucid="US-20110289114-A1"><document-id format="epo"><country>US</country><doc-number>20110289114</doc-number><kind>A1</kind><date>20111124</date></document-id><sources><source name="SEA" category="A" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT335961686" load-source="docdb" ucid="US-20110311135-A1"><document-id format="epo"><country>US</country><doc-number>20110311135</doc-number><kind>A1</kind><date>20111222</date></document-id><sources><source name="SEA" category="Y" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT384933417" load-source="docdb" ucid="US-20130202150-A1"><document-id format="epo"><country>US</country><doc-number>20130202150</doc-number><kind>A1</kind><date>20130808</date></document-id><sources><source name="SEA" category="XY" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT335961687" load-source="docdb" ucid="US-8370314-B2"><document-id format="epo"><country>US</country><doc-number>8370314</doc-number><kind>B2</kind><date>20130205</date></document-id><sources><source name="SEA" category="A" created-by-npl="N"/></sources></patcit></patent-citations><non-patent-citations><nplcit><text>S. BAUDRY; B. CHUPEAU; F. LEFABT/VE: "A framework for video forensics based on local and temporal fingerprints", INT. CONF ON IMAGE PROCESSING, 2009</text><sources><source mxw-id="PNPL71725759" load-source="docdb" name="APP"/></sources></nplcit></non-patent-citations></citations></technical-data><parties><applicants><applicant mxw-id="PPAR1103327223" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>THOMSON LICENSING</last-name><address><country>FR</country></address></addressbook></applicant><applicant mxw-id="PPAR1103326745" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>THOMSON LICENSING</last-name></addressbook></applicant><applicant mxw-id="PPAR1101649088" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Thomson Licensing</last-name><iid>101463287</iid><address><street>1-5 Rue Jeanne d'Arc</street><city>92130 Issy-Les-Moulineaux</city><country>FR</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR1103337342" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>CHUPEAU BERTRAND</last-name><address><country>FR</country></address></addressbook></inventor><inventor mxw-id="PPAR1103333359" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>CHUPEAU, BERTRAND</last-name></addressbook></inventor><inventor mxw-id="PPAR1101648780" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>CHUPEAU, BERTRAND</last-name><address><street>c/o Technicolor R&amp;D France 975 Avenue des Champs Blancs CS 17616</street><city>35576 Cesson-Sévigné</city><country>FR</country></address></addressbook></inventor><inventor mxw-id="PPAR1103332477" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>ROBERT ANTOINE</last-name><address><country>FR</country></address></addressbook></inventor><inventor mxw-id="PPAR1103324809" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>ROBERT, ANTOINE</last-name></addressbook></inventor><inventor mxw-id="PPAR1101642507" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>ROBERT, ANTOINE</last-name><address><street>c/o Technicolor R&amp;D France 975 Avenue des Champs Blancs CS 17616</street><city>35576 Cesson-Sévigné</city><country>FR</country></address></addressbook></inventor><inventor mxw-id="PPAR1103304535" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>LEFEBVRE FRÉDÉRIC</last-name><address><country>FR</country></address></addressbook></inventor><inventor mxw-id="PPAR1103342231" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>Lefebvre, Frédéric</last-name></addressbook></inventor><inventor mxw-id="PPAR1101653512" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>Lefebvre, Frédéric</last-name><address><street>c/o Technicolor R&amp;D France 975 Avenue des Champs Blancs CS 17616</street><city>35576 Cesson-Sévigné</city><country>FR</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR1101639607" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Huchet, Anne</last-name><iid>101463286</iid><address><street>Technicolor 1-5 rue Jeanne d'Arc</street><city>92130 Issy-Les-Moulineaux</city><country>FR</country></address></addressbook></agent></agents></parties><international-convention-data><designated-states><ep-contracting-states><country mxw-id="DS660604927" load-source="docdb">AL</country><country mxw-id="DS660781948" load-source="docdb">AT</country><country mxw-id="DS660604929" load-source="docdb">BE</country><country mxw-id="DS660604805" load-source="docdb">BG</country><country mxw-id="DS660680755" load-source="docdb">CH</country><country mxw-id="DS660603596" load-source="docdb">CY</country><country mxw-id="DS660781949" load-source="docdb">CZ</country><country mxw-id="DS660604930" load-source="docdb">DE</country><country mxw-id="DS660603597" load-source="docdb">DK</country><country mxw-id="DS660603598" load-source="docdb">EE</country><country mxw-id="DS660683004" load-source="docdb">ES</country><country mxw-id="DS660604806" load-source="docdb">FI</country><country mxw-id="DS660680756" load-source="docdb">FR</country><country mxw-id="DS660604943" load-source="docdb">GB</country><country mxw-id="DS660603599" load-source="docdb">GR</country><country mxw-id="DS660604944" load-source="docdb">HR</country><country mxw-id="DS660781950" load-source="docdb">HU</country><country mxw-id="DS660683005" load-source="docdb">IE</country><country mxw-id="DS660603600" load-source="docdb">IS</country><country mxw-id="DS660680757" load-source="docdb">IT</country><country mxw-id="DS660603601" load-source="docdb">LI</country><country mxw-id="DS660604815" load-source="docdb">LT</country><country mxw-id="DS660680714" load-source="docdb">LU</country><country mxw-id="DS660604816" load-source="docdb">LV</country><country mxw-id="DS660604817" load-source="docdb">MC</country><country mxw-id="DS660680719" load-source="docdb">MK</country><country mxw-id="DS660680720" load-source="docdb">MT</country><country mxw-id="DS660603602" load-source="docdb">NL</country><country mxw-id="DS660604946" load-source="docdb">NO</country><country mxw-id="DS660603603" load-source="docdb">PL</country><country mxw-id="DS660604818" load-source="docdb">PT</country><country mxw-id="DS660781951" load-source="docdb">RO</country><country mxw-id="DS660604823" load-source="docdb">RS</country><country mxw-id="DS660603604" load-source="docdb">SE</country><country mxw-id="DS660680758" load-source="docdb">SI</country><country mxw-id="DS660604955" load-source="docdb">SK</country><country mxw-id="DS660604956" load-source="docdb">SM</country><country mxw-id="DS660680721" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA166479532" lang="EN" load-source="patent-office"><p id="pa01" num="0001">The invention relates to a method for creating one distribution content (DC) from one original master content (OMC) where the method comprises first obtaining a set of fingerprint for the original master content and then creating the distribution content (DC), with saving, in a database, a set of transformation (STF) of the original master content. Then, when a copy content has to be registered, the invention proposes a method for registering the content to the distribution content where a distortion model is obtained by comparing the set of fingerprint of the original master content with a set of fingerprint of the copy content. The set of transformation (STF) is then combined with the distortion model (DTM) for registering the copy content.
<img id="iaf01" file="imgaf001.tif" wi="80" he="95" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA166759344" lang="EN" source="EPO" load-source="docdb"><p>The invention relates to a method for creating one distribution content (DC) from one original master content (OMC) where the method comprises first obtaining a set of fingerprint for the original master content and then creating the distribution content (DC), with saving, in a database, a set of transformation (STF) of the original master content. Then, when a copy content has to be registered, the invention proposes a method for registering the content to the distribution content where a distortion model is obtained by comparing the set of fingerprint of the original master content with a set of fingerprint of the copy content. The set of transformation (STF) is then combined with the distortion model (DTM) for registering the copy content.</p></abstract><description mxw-id="PDES98404233" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001"><b>1. Technical field</b></heading><p id="p0001" num="0001">The invention relates to video registration in a context of video investigation. The proposed technique is more specifically linked to a system for automatic registration of video copies. According to the present document, it is reminded that video registration is a process of establishing a frame-by-frame correspondence between two videos, known as temporal registration, possibly complemented by establishing a point-by-point correspondence between the corresponding frames, known as spatial registration. Image registration is the process of establishing point-by-point correspondence between two images. Video alignment and image alignment are synonyms to, respectively, video and image registration.</p><p id="p0002" num="0002">Video registration is important because it allows matching an original content with an unauthorized content in order to extract, from the unauthorized content, one or several marks (watermarks). These marks have usually been inserted in the original content. When copying the original content to create the unauthorized content, the marks are preserved in the copied content.</p><heading id="h0002"><b>2. Prior Art Solutions</b></heading><p id="p0003" num="0003">The goal of video investigation when searching for proofs of counterfeit is to analyze unauthorized video contents to determine the origin of the leakage and more generally to extract any information useful for characterizing the "piracy workflow". An example is the decoding of watermarks identifying a set-top-box in a VOD scenario, but there exists many other problems to solve. Most of these problems, however, share the pre-requisite of compensating for temporal and geometrical distortions of pirate copies of content, prior to any further analysis.</p><p id="p0004" num="0004">Indeed, one major problem faced by investigators is to synchronize a copy with an original content. This synchronization is needed in order to be able<!-- EPO <DP n="2"> --> to extract, from this copy, a various number of marks or identification information which could be useful for identifying an origin of the copy.</p><p id="p0005" num="0005">Since a direct access to a master content is not always feasible (or even allowed by the content owners) at investigation side, a classical "semi-blind" solution is to compute and transmit condensed "fingerprints" (FP) of the content (a fingerprint is, in this context, a representative feature or characteristic extracted from the content, and not a watermark inserted in this content). This condensed "fingerprints" of the content comprises specific properties of temporal evolution and local key-points on key-frames of the content. The condensed "fingerprints" (FP) of the content is constructed by the original content owner.</p><p id="p0006" num="0006">The investigators then extract the same fingerprints from a copy and a registration module is able to estimate temporal and geometric distortion parameters from input master and copy fingerprints. Those distortion parameters can then be used by further applications (such as watermark decoding) to compensate for distortions prior to analysis.</p><p id="p0007" num="0007">An investigation framework with distributed master FP for registration purpose implicitly assumes that an original content is distributed in a unique spatial and temporal format, so that a pirate copy has to be aligned with this unique spatial and temporal grid. For a system dedicated to a single task, such as decoding the payload of a given watermark for VOD, this approach is valid as the watermark is embedded in content distributed with a unique given frame rate and resolution. Such a framework will only be able, however, to investigate pirate copies leaking from this VOD distribution. Such framework is described in <i>"</i><nplcit id="ncit0001" npl-type="s"><text>A framework for video forensics based on local and temporal fingerprints" (S. Baudry, B. Chupeau, F. Lefèbvre, Int. Conf. on Image Processing 2009</text></nplcit><i>).</i></p><p id="p0008" num="0008">But a more generic investigation framework has to be able to analyze pirate copies originating from multiple sources, such as DVD, Blu-ray, legacy cinema, digital cinema, etc. Each distribution source thus have different master temporal and spatial resolutions (e.g. Blu-ray: 1920×1080@24Hz, 1280×720@59.94Hz..., DVD: 720×576@25Hz, 720×480@29.97Hz..., Digital cinema: 4096x2160@48Hz...). Furthermore several versions of the same movie<!-- EPO <DP n="3"> --> usually coexist, with different editing, for example scenes suppressed for censorship purposes or localization purposes.</p><p id="p0009" num="0009">A framework supporting the investigation (e.g. by means of watermark decoding) of pirate copies originating from different distribution sources (e.g. digital cinema, Blu-ray or the like) thus requires as many different registration processes as there are different "master" resolutions and versioning. And a straightforward application of the previously described framework would then need to generate and distribute as many different fingerprints to feed these registration processes! This is not realistic either in terms of computational load/transmission bandwidth or difficulty to access to different distribution sources (Blu-ray, iPhone, digital cinema, VOD...).</p><p id="p0010" num="0010">Thus, the framework proposed in <i>"A framework for video forensics based on local and temporal fingerprints"</i> is not adapted to multiple distribution formats of the content. The problem to solve is therefore to find a solution to the plurality of distribution format while enabling investigating on a plurality of pirate copies coming from this plurality of distribution format and without needing several sets of master fingerprints.</p><heading id="h0003"><b>3. Presentation of the invention</b></heading><p id="p0011" num="0011">The invention overcomes the drawbacks of the prior art.</p><p id="p0012" num="0012">The invention relates, in a first aspect, to a method for creating at least one distribution content from at least one original master content characterized in that it comprises the following ordered steps:
<ul><li>calculating one set of fingerprints called master fingerprints from said at least one original master content;</li><li>creating from said at least one original master content, at least one distribution content, in function of at least one corresponding distribution format.</li></ul></p><p id="p0013" num="0013">Thus, the proposed technique allows obtaining a master fingerprints before obtaining the distribution contents. The distribution contents have different formats and the master fingerprint is independent of these formats.</p><p id="p0014" num="0014">According to a specific embodiment said step of calculating said master fingerprints comprises:<!-- EPO <DP n="4"> -->
<ul><li>calculating of temporal fingerprints;</li><li>calculating of spatial-local fingerprints.</li></ul></p><p id="p0015" num="0015">According to a specific embodiment said step of creating said at least one distribution content comprises, for a given distribution content, at least one step of recording, in one database, of one set of transformations of said at least one original master content for obtaining said given distribution content.</p><p id="p0016" num="0016">According to a specific embodiment, said step of recording one set of transformations of said at least one original master content for obtaining said given distribution content comprises:
<ul><li>recording frame rate conversion ratios from said original master content to said given distribution content;</li><li>recording temporal mapping which are representative of suppressed and added scenes from said original master content to said given distribution content;</li><li>recording spatial mapping which are representative of cropping from said original master content to said given distribution content;</li><li>recording spatial mapping which are representative of re-sampling from said original master content to said given distribution content;</li></ul></p><p id="p0017" num="0017">The invention also relates to a device for creating at least one distribution content from at least one original master content. The device comprises:
<ul><li>a calculator for calculating one set of fingerprints called master fingerprints from said at least one original master content;</li><li>a creating module for creating from said at least one original master content, at least one distribution content, in function of at least one corresponding distribution format.</li></ul></p><p id="p0018" num="0018">In a second aspect, the invention relates to a method for registering content. The method comprises :
<ul><li>extracting a set of fingerprints from said content;</li><li>estimating a distortion model from the set of fingerprints and one set of fingerprints, called master fingerprints previously obtained from at least one original master content from which said content is derived;<!-- EPO <DP n="5"> --></li><li>calculating a derived distortion model from said distortion model in function of one set of transformations</li></ul></p><p id="p0019" num="0019">Thus, the proposed technique allows registering content only once: it is not needed to register one content several times (i.e. one time per distribution format). The registration is done once and the derived distortion model is applied on the content. If it is then noticed that the derived distortion model is not correct, then it is only necessary to calculated a new derived distortion model with a correct set of transformations.</p><p id="p0020" num="0020">The invention also relates to a device for registering one content. The device comprises:
<ul><li>an extracting module for extracting of a set of fingerprints from said content;</li><li>an estimating module for estimating of a distortion model from the set of fingerprints and one set of fingerprints, called master fingerprints previously obtained from at least one original master content from which said content is derived;</li><li>a calculator for calculating a derived distortion model from said distortion model in function of one set of transformations</li></ul></p><p id="p0021" num="0021">In a preferred embodiment, the various steps of the methods according to the invention are implemented by one or more software or computer programs comprising software instructions for execution by a data processor or a module, according to the invention and adapted for controlling the execution of the different process steps.</p><p id="p0022" num="0022">Accordingly, the invention also provides a program which can be executed by a computer or a data processor, the program including instructions for controlling the execution of the steps of a method as mentioned above.</p><p id="p0023" num="0023">This program can use any programming language, and be in the form of source code, object code or intermediate code between source code and object code, such as a partially compiled form, or in any other desirable form.</p><p id="p0024" num="0024">The invention also provides a medium readable by a data processor, and containing instructions of a program as mentioned above.<!-- EPO <DP n="6"> --></p><p id="p0025" num="0025">The information carrier may be any entity or device capable of storing the program. For example, the medium may comprise a storage medium, such as a ROM, for example a CD ROM or a microelectronic circuit, or a magnetic recording medium, such as a diskette (floppy disk) or a hard drive.</p><p id="p0026" num="0026">On the other hand, the information carrier may be a transmissible carrier such as an electrical or optical signal which may be conveyed via electrical or optical cable, by radio or by other means. The program according to the invention may in particular be downloaded over a network such as the Internet.</p><p id="p0027" num="0027">Alternatively, the information carrier may be an integrated circuit in which the program is incorporated, the circuit being adapted to perform or to be used in carrying out the process in question.</p><p id="p0028" num="0028">According to one embodiment, the invention is implemented using software and/or hardware. In this context, the term "module" can correspond in this document as well as a software component to a hardware component or a set of hardware and software components.</p><p id="p0029" num="0029">A software component is one or more computer programs, one or more sub-programs of a program, or more generally to any element of a program or software capable to implement a function or set of functions, according to what is described below for the module. Such software component is executed by a processor of a physical entity (TV, projector, terminal, server, gateway, router, etc.) and is likely to access the hardware resources of the physical entity (memory, storage media, bus communication, e-cards I / O, user interfaces, etc.).</p><p id="p0030" num="0030">Similarly, a hardware component is any component of a hardware (or hardware) that can implement a function or set of functions, according to what is described below for the module. It may be a component integrated with programmable hardware or software for the execution processor, for example an integrated circuit, a smart card, a memory card, an electronic card for the execution of a firmware, etc.</p><p id="p0031" num="0031">Each component of the system described above provides its own software modules. The various embodiments described above can be combined together for the implementation of the invention.<!-- EPO <DP n="7"> --></p><heading id="h0004"><b>4. Drawings</b></heading><p id="p0032" num="0032">The proposed method is described in the following by way of examples in connection with the accompanying figures without limiting the scope of the protection as defined by the claim. In the figures:
<ul><li><figref idrefs="f0001">figure 1</figref> illustrates the main features of a first aspect of the proposed technique;</li><li><figref idrefs="f0001">figure 2</figref> illustrates the main features of a second aspect of the proposed technique;</li><li><figref idrefs="f0002">figure 3</figref> illustrates a system in which the technique can be applied;</li><li><figref idrefs="f0003">figure 4</figref> illustrates an embodiment of a device for creating content;</li><li><figref idrefs="f0003">figure 5</figref> illustrates an embodiment of a device for registering content.</li></ul></p><heading id="h0005"><b>5. Detailed Description of the invention</b></heading><heading id="h0006">5.1. <u>Principles of the invention</u></heading><p id="p0033" num="0033">As explained, when investigating a copy of content (called the "copy" in the following), the problem is to identify a distribution content from which the copy is made. The distribution content is identified by searching watermarks which are integrated in the copy. These watermarks are for example inserted in specific sets of frames in the distribution content or in specific location in frames in the distribution content. For retrieving these watermarks in the copy, it is thus first needed to identify, in the copy, this specific frames or set of frames in which the watermarks have to be found. This identification is done by registering the copy with the distribution content. The registration is done by comparing the fingerprints of the distribution content with the fingerprints of the copy.</p><p id="p0034" num="0034">It is recalled that, in the meaning of the present document, a major difference has to be done between a "fingerprint" which is an inherent feature or characteristic of the content and the watermark which is a specific information introduced in the content for the purpose of the investigation. With prior art solution, the problem is that since there is a plurality of distribution contents (4k, Blu-ray, DVD, etc.), it is currently needed to have multiple set of fingerprints (one set of fingerprints per distribution content). The proposed technique does not comprise these drawbacks.<!-- EPO <DP n="8"> --></p><p id="p0035" num="0035">Basically, the invention relates to a method for creating one distribution content from one original master content where the method comprises first obtaining a set of fingerprint for the original master content and then creating the distribution content, with saving, in a database, a set of transformation of the original master content. Then, when a copy content has to be registered, the invention proposes a method for registering the content where a distortion model is obtained by comparing the set of fingerprint of the original master content with a set of fingerprint of the copy content. The set of transformation is then combined with the distortion model for registering the copy content.</p><p id="p0036" num="0036">In its first aspect, the solution proposed by the inventors comprises the following steps, described in relation with <figref idrefs="f0001">figure 1</figref> :
<ul><li>optionally a selection (E01) of at least one format according to a selection parameter; the selection parameter may for example be a quality selection parameter and/or a frame rate selection parameter and/or a distortion selection parameter; the object of this selection parameter is to allow choosing the best format which results in obtaining one set of master fingerprints (MFP) which will have the highest resilience.</li><li>calculation (E02) of one set of master fingerprints (MFP) from said at least one original master content (OMC); in this step, the content owner calculates the fingerprints of the original master content (OMC); this calculation may deliver only a subset of the fingerprints which are available: the content owner may choose only resistant fingerprints (i.e. fingerprints which may not be altered easily); according to a specific embodiment calculation of master fingerprints comprises any combination of calculation (E02-1) of temporal fingerprints and calculation (E02-2) of spatial-local fingerprints.</li><li>creation (E03) from said at least one original master content (OMC) of at least one distribution content (DC), said creation comprising at least the recording (E03-1), in one database (DB), of one set of transformations (STF) of said at least one original master content (OMC) for obtaining said at least one distribution content (DC); the set of transformations may<!-- EPO <DP n="9"> --> be for example ratio applied on the frames, frame rate, audio format, scene deletion, etc.</li></ul></p><p id="p0037" num="0037">Thus, the solution found by the inventors is to use a unique source of fingerprints for a given content called the master fingerprints. The master fingerprints are obtained from an original content (which is called the original master content). The original master content is for example the content with the highest definition/resolution (4K or digital cinema content). For example, the choice of the master fingerprints which fits to the purpose of the proposed technique is done according to distortion considerations. This means that the fingerprints which are extracted from the original master content have to be robust in order to be identifiable into any copy (even of bad or very bad quality) of a distribution content (it is assumed that the distribution content from which a copy is done is itself derived from the original master content).</p><p id="p0038" num="0038">Following this initial phase, distribution contents are created. These distribution contents are created for fitting various distribution formats. These formats can vary from the original master content format by various features: resolution, length, quality of the sound, number of scene or the like.</p><p id="p0039" num="0039">According to the proposed technique, rather than simply creating the distribution content, a conversion parameter database is populated along with the creation of the distribution content. This database comprises, for a given original master content, all the necessary transformations made for obtaining the various distribution contents (e.g for obtaining a DVD, a Blu-ray, etc.). Typically, for one original master content and one specific distribution content, the database comprises the transformations applied: on the resolution, the format (i.e. 2.85 to 16/9, up-scalling or down-scalling), the length, the number of images per second (oversampling or downsampling), etc.</p><p id="p0040" num="0040">Thus, instead of having a plurality of set of fingerprints (one per content distribution format), the investigator have a single set of fingerprints (master fingerprints) and a plurality of set of transformations (one set of transformations per content distribution format).</p><p id="p0041" num="0041">Then, according to the proposed technique, there is no need to make several registrations for a given copy: a single registration is enough. This is an<!-- EPO <DP n="10"> --> important advantage because the registration of content consumes lots of resources. Thus, the fact of processing only one real registration (i.e. the matching of the fingerprints of the fraudulent copy with the matching of the master fingerprints) highly reduces the resources necessary for obtaining a correct registered content. The decoding technique, i.e. the technique for retrieving the watermarks in a copy of one content is then widely facilitated because the registration of the copy is made on the basis of the master fingerprints. The registration is made in three steps, described in relation with <figref idrefs="f0001">figure 2</figref>, which forms the second aspect of the invention:
<ul><li>extracting (S01) of the fingerprints (CFP) from the copy (Cnt) (i.e. extraction of the features which are needed for characterizing the copy); this step is made according to the copy, i.e. considering the copy, the same fingerprints are extracted that the one which have been extracted from the original content: it is supposed that the fingerprints are still present in the copy;</li><li>estimating (S02) of a distortion model (DTM) from the copy fingerprints (CFP) and the master fingerprints (MFP); the distortion model is representative of the spatial and temporal modifications which occurred between the master content and the copy;</li><li>in view of the targeted distribution format (i.e. for example if the assumption is made that the copy comes from a DVD or a Blu-ray or Digital Cinema), application (S03) of the transformations (STF) (extracted from the database) on the distortion model (DTM), delivering derived distortion model (DTM').</li></ul></p><p id="p0042" num="0042">The derived distortion model (DTM') is then applied to the copy for delivering a registered copy. The registered copy is then investigated by an investigation module. The investigation module is used for retrieving one or several marks which can be included in the copy.</p><heading id="h0007">5.2. <u>Description of an embodiment</u></heading><p id="p0043" num="0043">A generic block scheme of an embodiment of the proposed technique is depicted in <figref idrefs="f0002">figure 3</figref>. It is characterized by the following points:<!-- EPO <DP n="11"> -->
<ul><li>original master contents are analyzed in a unique base format (high definition), each distribution format being derived from it (through temporal editing, frame rate conversions and spatial re-sampling and cropping);</li><li>temporal and spatial-local fingerprints are computed with regards to this base format and stored in a unique master FP database DB;</li><li>for each distribution format, the temporal and spatial mapping STF with the base format is saved:
<ul><li>the temporal mapping accounts for suppressed and added scenes (editing) as well as frame rate conversion ratios;</li><li>the spatial mapping accounts for cropping (for aspect ratio change) and re-sampling;</li></ul></li><li>the master FP plus the mapping parameters to the various distribution formats are accessible by the investigation lab, when analyzing an incoming fraudulent copy;</li><li>at investigation side, fingerprints are extracted from a content (found on the Internet) and the distortion model (which comprises a set of distortion parameters DTM) from a corresponding original master content to the content found on the Internet are estimated by matching master and copy fingerprints;</li><li>depending on the targeted distribution format, the derived distortion Model (which comprises the set of distortion parameters DTM') from distribution format to the content found on the internet is obtained by composing the estimated distortion parameters with the mapping parameters STF from base format to distribution format: <maths id="math0001" num=""><math display="block"><mi mathvariant="italic">DTMʹ</mi><mo>=</mo><msup><mi mathvariant="italic">DTMoSTF</mi><mrow><mo>-</mo><mn>1</mn></mrow></msup></math><img id="ib0001" file="imgb0001.tif" wi="44" he="6" img-content="math" img-format="tif"/></maths></li></ul>
<ul><li>the incoming copy can thus be registered with the targeted distribution format, by using the derived distortion parameters <i>DTM'</i>;</li><li>eventually, the investigation analysis (e.g., watermark decoding) is performed on the registered copy.</li></ul></p><p id="p0044" num="0044">In a preferred embodiment:<!-- EPO <DP n="12"> -->
<ul><li>the temporal fingerprint required for temporal registration is the sequence of distances between "RASH" vectors of successive frames;</li><li>the spatial-local fingerprints required for spatial registration are locally defined texture descriptors around key-points, extracted on a subset of key-frames;</li><li>the temporal mapping is described with [begin, end] frame indices of added or suppressed scenes, combined with frame rate conversion parameters (e.g. 24Hz to 30Hz with 3:2 pull down method); an alternative to this high-level representation is an exhaustive frame-to-frame index mapping between base format and distribution format.</li><li>the spatial mapping is described with the cropping box coordinates together with a 4-parameter translation + zooming model: <maths id="math0002" num="(1)"><math display="block"><mrow><mo>{</mo><mtable><mtr><mtd><msub><mi>x</mi><mn>2</mn></msub><mo>=</mo><mi mathvariant="italic">tx</mi><mo>+</mo><msub><mi>k</mi><mi>x</mi></msub><mo>×</mo><msub><mi>x</mi><mn>1</mn></msub></mtd></mtr><mtr><mtd><msub><mi>y</mi><mn>2</mn></msub><mo>=</mo><mi mathvariant="italic">ty</mi><mo>+</mo><msub><mi>k</mi><mi>y</mi></msub><mo>×</mo><msub><mi>y</mi><mn>1</mn></msub></mtd></mtr></mtable></mrow></math><img id="ib0002" file="imgb0002.tif" wi="58" he="17" img-content="math" img-format="tif"/></maths></li></ul></p><heading id="h0008">5.3. <u>Devices</u></heading><p id="p0045" num="0045">The structure of a device for the execution of the method for creating distribution contents is illustrated schematically in <figref idrefs="f0003">figure 4</figref>. It comprises a memory M 41, and a processing unit 40 equipped with a microprocessor <img id="ib0003" file="imgb0003.tif" wi="5" he="5" img-content="character" img-format="tif" inline="yes"/> P, that is driven by a computer program (or application) Pg 42. At input, the processing unit 40 receives the signal 44 of an original master content through an input interface module E 43. The microprocessor µP processes signal 44 according to the instructions of the program Pg 42, to calculate the fingerprints of the original master content 46 and recording the transformation made for obtaining the distribution content, which will be transmitted through an interface module S 45. The device can be included in any system directed to the creation of distribution content, and for example system which are implemented by content owners. It can be implemented as a specific chip or integrated in a preexistent chip.</p><p id="p0046" num="0046">For processing the proposed techniques, the device comprises:
<ul><li>a selector for selecting at least one format according to a selection parameter;<!-- EPO <DP n="13"> --></li><li>a calculator for calculating one set of fingerprints called master fingerprints (MFP) from said at least one original master content (OMC);</li><li>a content creator for creating from said at least one original master content (OMC), at least one distribution content (DC), in function of at least one corresponding distribution format (DF).</li></ul></p><p id="p0047" num="0047">These modules or circuits can be implemented in the form of specific modules, such as software modules or hardware modules. In case of hardware modules, an FPGA or the like can be implemented.</p><p id="p0048" num="0048">The structure of a device for the execution of the method for registering content is illustrated schematically in <figref idrefs="f0003">figure 5</figref>. It comprises a memory M 51, and a processing unit 50 equipped with a microprocessor <img id="ib0004" file="imgb0004.tif" wi="5" he="5" img-content="character" img-format="tif" inline="yes"/> P, that is driven by a computer program (or application) Pg 52. At input, the processing unit 50 receives the signal 54 of a content which is supposed to be fraudulent through an input interface module E 53. The microprocessor µP processes signal 54 according to the instructions of the program Pg 52, to obtain a registered content 56, (according to the master fingerprint and transformation applied to this fingerprint) which will be transmitted through an interface module S 55 to another module or equipment. The device can be included in any device which is used for investigation process. It can be implemented as a specific chip or integrated in a preexistent chip.</p><p id="p0049" num="0049">For processing the proposed method, the device comprises:
<ul><li>an extracting module for extracting of a set of fingerprints from said content;</li><li>an estimating module for estimating of a distortion model from the set of fingerprints and one set of fingerprints, called master fingerprints previously obtained from at least one original master content from which said content is derived;</li><li>a calculator for calculating a derived distortion model from said distortion model in function of one set of transformations.</li></ul></p><p id="p0050" num="0050">These modules or circuits can be implemented in the form of specific modules, such as software modules or hardware modules. In case of hardware modules, an FPGA or the like can be implemented.</p></description><claims mxw-id="PCLM90459162" lang="EN" load-source="patent-office"><!-- EPO <DP n="14"> --><claim id="c-en-0001" num="0001"><claim-text>A method for creating at least one distribution content (DC) from at least one original master content (OMC) <b>characterized in that</b> it comprises the following ordered steps:
<claim-text>- calculating (E02) one set of fingerprints called master fingerprints (MFP) from said at least one original master content (OMC);</claim-text>
<claim-text>- creating (E03) from said at least one original master content (OMC), at least one distribution content (DC), in function of at least one corresponding distribution format (DF).</claim-text></claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>The method according to claim 1 <b>characterized in that</b> said step of calculating (E02) said master fingerprints (MFP) comprises:
<claim-text>- calculating (E02-1) of temporal fingerprints (TFP);</claim-text>
<claim-text>- calculating (E02-2) of spatial-local fingerprints (SLFP).</claim-text></claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>The method according to claim 1 <b>characterized in that</b> said step of creating said at least one distribution content (DC) comprises, for a distribution content (DC), at least one step of recording (E03-1), in one database (DB), of one set of transformations (STF) of said at least one original master content (OMC) for obtaining said distribution content (DC).</claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>The method according to claim 3 <b>characterized in that</b> said step of recording (E03-1) one set of transformations (STF) of said at least one original master content (OMC) for obtaining said distribution content (DC) comprises:
<claim-text>- recording frame rate conversion ratios from said original master content (OMC) to said distribution content (DC);</claim-text>
<claim-text>- recording temporal mapping which are representative of suppressed and added scenes from said original master content (OMC) to said distribution content (DC);<!-- EPO <DP n="15"> --></claim-text>
<claim-text>- recording spatial mapping which are representative of cropping from said original master content (OMC) to said distribution content (DC);</claim-text>
<claim-text>- recording spatial mapping which are representative of re-sampling from said original master content (OMC) to said distribution content (DC);</claim-text></claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>Computer program product downloadable from a communications network and/or stored in a computer-readable carrier and/or executable by a microprocessor, <b>characterized in that</b> it comprises program code instructions for the execution of the method according to at least one of the claims 1 to 4, when it is executed on a computer.</claim-text></claim><claim id="c-en-0006" num="0006"><claim-text>A device for creating at least one distribution content (DC) from at least one original master content (OMC) <b>characterized in that</b> it comprises:
<claim-text>- a calculator for calculating (E02) one set of fingerprints called master fingerprints (MFP) from said at least one original master content (OMC);</claim-text>
<claim-text>- a creating module for creating (E03) from said at least one original master content (OMC), at least one distribution content (DC), in function of at least one corresponding distribution format (DF).</claim-text></claim-text></claim><claim id="c-en-0007" num="0007"><claim-text>A method for registering a content (Cnt) to a distribution content (DC) <b>characterized in that</b> it comprises :
<claim-text>- extracting (S01) of a set of fingerprints (CFP) from said content (Cnt);</claim-text>
<claim-text>- estimating (S02) of a distortion model (DTM) from the set of fingerprints (CFP) and one set of fingerprints, called master fingerprints (MFP) obtained from at least one original master content (OMC) from which a distribution content (DC) is obtained;
<claim-text>- calculating (S03) a derived distortion model (DTM') between said content (Cnt) and said distribution content (DC) from said distortion model (DTM) in function of one set of transformations (STF) for obtaining said distribution content (DC) from said at least one original master content (OMC).</claim-text></claim-text><!-- EPO <DP n="16"> --></claim-text></claim><claim id="c-en-0008" num="0008"><claim-text>A device for registering a content (Cnt) to a distribution content (DC) <b>characterized in that</b> it comprises:
<claim-text>- an extracting module for extracting (S01) of a set of fingerprints (CFP) from said content (Cnt);</claim-text>
<claim-text>- an estimating module for estimating (S02) of a distortion model (DTM) from the set of fingerprints (CFP) and one set of fingerprints, called master fingerprints (MFP) previously obtained from at least one original master content (OMC) from which a distribution content (DC) is obtained;</claim-text>
<claim-text>- a calculator for calculating (S03) a derived distortion model (DTM') between said content (Cnt) and said distribution content (DC) from said distortion model (DTM) in function of one set of transformations (STF) for obtaining said distribution content (DC) from said at least one original master content (OMC).</claim-text></claim-text></claim><claim id="c-en-0009" num="0009"><claim-text>Computer program product downloadable from a communications network and/or stored in a computer-readable carrier and/or executable by a microprocessor, <b>characterized in that</b> it comprises program code instructions for the execution of the method according to said claim 7, when it is executed on a computer.</claim-text></claim></claims><drawings mxw-id="PDW20421899" load-source="patent-office"><!-- EPO <DP n="17"> --><figure id="f0001" num="1,2"><img id="if0001" file="imgf0001.tif" wi="165" he="226" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="18"> --><figure id="f0002" num="3"><img id="if0002" file="imgf0002.tif" wi="165" he="197" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="19"> --><figure id="f0003" num="4,5"><img id="if0003" file="imgf0003.tif" wi="165" he="183" img-content="drawing" img-format="tif"/></figure></drawings><search-report-data><doc-page id="srep0001" file="srep0001.tif" wi="158" he="233" type="tif"/><doc-page id="srep0002" file="srep0002.tif" wi="158" he="233" type="tif"/></search-report-data><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
