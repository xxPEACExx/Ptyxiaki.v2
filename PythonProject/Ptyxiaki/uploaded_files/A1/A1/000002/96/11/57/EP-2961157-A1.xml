<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2961157-A1" country="EP" doc-number="2961157" kind="A1" date="20151230" family-id="51162645" file-reference-id="313851" date-produced="20180824" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="160451185" ucid="EP-2961157-A1"><document-id><country>EP</country><doc-number>2961157</doc-number><kind>A1</kind><date>20151230</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-14305972-A" is-representative="YES"><document-id mxw-id="PAPP193865338" load-source="patent-office" format="original"><country>EP</country><doc-number>14305972.3</doc-number><date>20140623</date><lang>EN</lang></document-id><document-id mxw-id="PAPP193865339" load-source="docdb" format="epo"><country>EP</country><doc-number>14305972</doc-number><kind>A</kind><date>20140623</date><lang>EN</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC162033597" ucid="EP-14305972-A" load-source="docdb"><document-id format="epo"><country>EP</country><doc-number>14305972</doc-number><kind>A</kind><date>20140623</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-1988524771" load-source="docdb">H04N   5/913       20060101AFI20140901BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1988526305" load-source="docdb">H04N   9/31        20060101ALI20140901BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1623799582" load-source="docdb" scheme="CPC">G06T2201/0083      20130101 LA20180625BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1623799583" load-source="docdb" scheme="CPC">G06T   1/0085      20130101 FI20180628BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1923988849" load-source="docdb" scheme="CPC">H04N2005/91335     20130101 LA20160630BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1957284210" load-source="docdb" scheme="CPC">H04N  21/8358      20130101 LI20160321BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987783478" load-source="docdb" scheme="CPC">H04N2005/91392     20130101 LA20140828BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987787828" load-source="docdb" scheme="CPC">H04N   5/913       20130101 LI20140828BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT165545021" lang="DE" load-source="patent-office">Nachrichteneinführungsverfahren bei der Wiedergabe von Videoinhalt über eine Anzeigevorrichtung, Leseverfahren sowie zugehörige Vorrichtungen und Programme</invention-title><invention-title mxw-id="PT165545022" lang="EN" load-source="patent-office">Message inserting method in a rendering of a video content by a display device, reading method, devices and programs associated</invention-title><invention-title mxw-id="PT165545023" lang="FR" load-source="patent-office">Procédé d'insertion de message dans un rendu de contenu vidéo par un dispositif d'affichage, procédé de lecture, dispositifs et programmes associés</invention-title><citations><patent-citations><patcit mxw-id="PCIT421366781" load-source="docdb" ucid="EP-1237369-A2"><document-id format="epo"><country>EP</country><doc-number>1237369</doc-number><kind>A2</kind><date>20020904</date></document-id><sources><source name="SEA" category="IAY" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT421366784" load-source="docdb" ucid="EP-1301034-A2"><document-id format="epo"><country>EP</country><doc-number>1301034</doc-number><kind>A2</kind><date>20030409</date></document-id><sources><source name="SEA" category="YA" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT421366783" load-source="docdb" ucid="US-20040247120-A1"><document-id format="epo"><country>US</country><doc-number>20040247120</doc-number><kind>A1</kind><date>20041209</date></document-id><sources><source name="SEA" category="XAY" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT421366782" load-source="docdb" ucid="US-6950532-B1"><document-id format="epo"><country>US</country><doc-number>6950532</doc-number><kind>B1</kind><date>20050927</date></document-id><sources><source name="SEA" category="IAY" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT335961708" load-source="docdb" ucid="US-7756288-B2"><document-id format="epo"><country>US</country><doc-number>7756288</doc-number><kind>B2</kind><date>20100713</date></document-id><sources><source name="APP" created-by-npl="N"/></sources></patcit></patent-citations></citations></technical-data><parties><applicants><applicant mxw-id="PPAR1103326651" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>THOMSON LICENSING</last-name><address><country>FR</country></address></addressbook></applicant><applicant mxw-id="PPAR1103321461" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>THOMSON LICENSING</last-name></addressbook></applicant><applicant mxw-id="PPAR1101650811" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Thomson Licensing</last-name><iid>101463287</iid><address><street>1-5 Rue Jeanne d'Arc</street><city>92130 Issy-Les-Moulineaux</city><country>FR</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR1103308164" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>NEUMANN CHRISTOPH</last-name><address><country>FR</country></address></addressbook></inventor><inventor mxw-id="PPAR1103306192" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>NEUMANN, CHRISTOPH</last-name></addressbook></inventor><inventor mxw-id="PPAR1101652041" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>NEUMANN, CHRISTOPH</last-name><address><street>c/o Technicolor R&amp;D France 975 Avenue des Champs Blancs CS 17616</street><city>35576 Cesson-Sévigné</city><country>FR</country></address></addressbook></inventor><inventor mxw-id="PPAR1103334335" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>BAUDRY SÉVERINE</last-name><address><country>FR</country></address></addressbook></inventor><inventor mxw-id="PPAR1103335679" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>Baudry, Séverine</last-name></addressbook></inventor><inventor mxw-id="PPAR1101652845" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>Baudry, Séverine</last-name><address><street>c/o Technicolor R&amp;D France 975 Avenue des Champs Blancs CS 17616</street><city>35576 Cesson-Sévigné</city><country>FR</country></address></addressbook></inventor><inventor mxw-id="PPAR1103303332" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>DE VITO MARIO</last-name><address><country>FR</country></address></addressbook></inventor><inventor mxw-id="PPAR1103324586" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>DE VITO, MARIO</last-name></addressbook></inventor><inventor mxw-id="PPAR1101651206" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>DE VITO, MARIO</last-name><address><street>c/o Technicolor R&amp;D France 975 Avenue des Champs Blancs CS 17616</street><city>35576 Cesson-Sévigné</city><country>FR</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR1101650580" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Huchet, Anne</last-name><iid>101463286</iid><address><street>Technicolor 1-5 rue Jeanne d'Arc</street><city>92130 Issy-Les-Moulineaux</city><country>FR</country></address></addressbook></agent></agents></parties><international-convention-data><designated-states><ep-contracting-states><country mxw-id="DS660605095" load-source="docdb">AL</country><country mxw-id="DS660683593" load-source="docdb">AT</country><country mxw-id="DS660605097" load-source="docdb">BE</country><country mxw-id="DS660603702" load-source="docdb">BG</country><country mxw-id="DS660782065" load-source="docdb">CH</country><country mxw-id="DS660681170" load-source="docdb">CY</country><country mxw-id="DS660683594" load-source="docdb">CZ</country><country mxw-id="DS660605347" load-source="docdb">DE</country><country mxw-id="DS660605098" load-source="docdb">DK</country><country mxw-id="DS660681183" load-source="docdb">EE</country><country mxw-id="DS660681047" load-source="docdb">ES</country><country mxw-id="DS660603703" load-source="docdb">FI</country><country mxw-id="DS660603704" load-source="docdb">FR</country><country mxw-id="DS660605107" load-source="docdb">GB</country><country mxw-id="DS660605108" load-source="docdb">GR</country><country mxw-id="DS660605109" load-source="docdb">HR</country><country mxw-id="DS660683599" load-source="docdb">HU</country><country mxw-id="DS660782066" load-source="docdb">IE</country><country mxw-id="DS660605110" load-source="docdb">IS</country><country mxw-id="DS660603705" load-source="docdb">IT</country><country mxw-id="DS660681184" load-source="docdb">LI</country><country mxw-id="DS660605348" load-source="docdb">LT</country><country mxw-id="DS660683600" load-source="docdb">LU</country><country mxw-id="DS660605349" load-source="docdb">LV</country><country mxw-id="DS660605350" load-source="docdb">MC</country><country mxw-id="DS660681165" load-source="docdb">MK</country><country mxw-id="DS660681166" load-source="docdb">MT</country><country mxw-id="DS660681048" load-source="docdb">NL</country><country mxw-id="DS660603706" load-source="docdb">NO</country><country mxw-id="DS660681049" load-source="docdb">PL</country><country mxw-id="DS660603707" load-source="docdb">PT</country><country mxw-id="DS660681050" load-source="docdb">RO</country><country mxw-id="DS660782067" load-source="docdb">RS</country><country mxw-id="DS660681055" load-source="docdb">SE</country><country mxw-id="DS660782068" load-source="docdb">SI</country><country mxw-id="DS660681175" load-source="docdb">SK</country><country mxw-id="DS660681176" load-source="docdb">SM</country><country mxw-id="DS660681185" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA166479555" lang="EN" load-source="patent-office"><p id="pa01" num="0001">A method for inserting at least one message in a rendering of a video content by a display device is disclosed. The display device comprises a periodic light source and the method comprises obtaining one bit of the message and modulating a frequency of the periodic light source in view of the bit. A device for inserting at least one message is disclosed.</p><p id="pa02" num="0002">In another aspect, a method and a device for reading at least one message in a video content obtained by filming a display device wherein the display device comprises a periodic light source whose frequency is modulated in view of a bit of the message is further disclosed.
<img id="iaf01" file="imgaf001.tif" wi="78" he="118" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA166759367" lang="EN" source="EPO" load-source="docdb"><p>A method for inserting at least one message in a rendering of a video content by a display device is disclosed. The display device comprises a periodic light source and the method comprises obtaining one bit of the message and modulating a frequency of the periodic light source in view of the bit. A device for inserting at least one message is disclosed.  In another aspect, a method and a device for reading at least one message in a video content obtained by filming a display device wherein the display device comprises a periodic light source whose frequency is modulated in view of a bit of the message is further disclosed.</p></abstract><description mxw-id="PDES98404256" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001"><b>1. Domain of the Invention</b></heading><p id="p0001" num="0001">The proposed technique relates to the identification of unauthorized content. More specifically, the proposed technique relates to a method for inserting, in an original content, a digital mark which can then be retrieved in an unauthorized content produced from the original content. The proposed technique also relates to a method for detecting a digital mark from an unauthorized content.</p><heading id="h0002"><b>2. Prior Art Solutions</b></heading><p id="p0002" num="0002">Piracy is considered as being a burden in digital content production and distribution. Among solutions used by the pirates for obtaining copies of digital contents, the use of camcorders is popular. Indeed, this technique does not necessitate an important technical knowledge. Furthermore, this technique can be implemented by using small and discreet equipment. Thus, filming content (for example in a theatre or in front of an LCD screen) is a popular technique for obtaining a copy of a protected digital content.</p><p id="p0003" num="0003">Solutions for preventing piracy have been widely investigated.</p><p id="p0004" num="0004">Among these solutions, inserting a digital mark into one content is a well-known technique to prevent or trace piracy. Each copy of the original content will bear a different mark, linked for example to a user ID or an equipment ID, and retrieving the watermark on a pirated copy allows tracing back to the pirate. This is for example the case of watermarking. Invisible information is inserted in an original digital content (still picture or a video stream). This digital content may then be retrieved in a copy of the original content to find the initial defrauder.</p><p id="p0005" num="0005">Among existing solutions, directed to digital video contents, the following can be implemented:
<ul><li>in the case of broadcast, insertion of a watermark by the set-top box; this allows tracking directly the user; however, this solution has to be supported by the broadcaster and is limited to the broadcaster that deploys the corresponding set-top boxes;</li><li>in the case of streaming, the video on demand (VoD) server may also implement a watermarking insertion process. However, this is limited to the<!-- EPO <DP n="2"> --> VoD services that support such insertion;</li><li>in the case of rental or buying of physical support like DVD or Bluray (eg: BD+): the content which is recorded on the physical content must comprise watermarking information, and the watermark will be inserted at play time. However, this solution is limited to players which include a watermark «embedder»: this is not the case of all players.</li></ul></p><p id="p0006" num="0006">We can notice that the proposed solutions have one major drawback: they are limited by the capacity or the willing of a content provider to implement a specific solution. Hence, there is currently no cross-medium universal solution. Current watermarking systems requires to either modify the video player or decoder (DVD/BluRay players, STB...), or to insert a watermark « embedder » module into the server chain. Thus, the watermarking is specific to a given content provider or service.</p><p id="p0007" num="0007">Another technique, described in patent <patcit id="pcit0001" dnum="US7756288B2"><text>US 7,756,288 B2</text></patcit> consists in inserting a watermark onto an illuminated image sequence in motion picture. This technique is based a light modulator which is configured for modulating a light source; and a controller which is configured for controlling the light modulator. The controller selectively alters light intensity over space and time such that a low frequency watermark is inserted onto the illuminated image sequence. However, the solution proposed in this patent is limited to a modulation of the intensity of the backlight, in a context of analogic displaying. Such intensity modulation presents the drawback of being noticeable to a user.</p><p id="p0008" num="0008">So there is a need for providing a universal solution for allowing insertion of watermark independently of the ability or willingness of a specific actor in the content distribution chain.</p><heading id="h0003"><b>3. Presentation of the invention</b></heading><p id="p0009" num="0009">The invention does not comprises theses drawbacks of prior art. More specifically, the invention relates to a method for inserting at least one message, in a rendering of a video content by a display device wherein the display device comprises a periodic light source (PLS). According to the invention, said method comprises at least one iteration of:
<ul><li>obtaining one bit of said message;<!-- EPO <DP n="3"> --></li><li>modulating a frequency of said periodic light source (PLS) in view of said bit.</li></ul></p><p id="p0010" num="0010">Thus, the invention allows inserting a message in a rendering of a content which can then be retrieved. The invention allows inserting the message independently of the device used for playing the content. It is important to notice that the proposed technique does not insert the message in the content itself, but in the rendering of the content thanks to the light source modulation.</p><p id="p0011" num="0011">According to a specific feature, said modulating of a frequency of a periodic light source in view of said bit comprises applying a transformation function on the frequency of said light source according a value of said bit.</p><p id="p0012" num="0012">According to a specific feature, said transformation function is applied during a time period corresponding to the duration of said bit.</p><p id="p0013" num="0013">According to a specific feature, said given time period is comprised between one and twenty seconds.</p><p id="p0014" num="0014">According to a specific feature, the transformation function returns a first frequency for a first value of the bit and a second frequency value for a second value of said bit.</p><p id="p0015" num="0015">According to a specific feature, said transformation function is: <maths id="math0001" num=""><math display="block"><mi>m</mi><mfenced><mi>t</mi></mfenced><mo>=</mo><msup><mrow><mi>α</mi><mfenced separators=""><mo>-</mo><mn>1</mn></mfenced></mrow><mrow><mi>w</mi><mfenced separators=""><mo>⌊</mo><mfrac><mi>t</mi><mi>T</mi></mfrac><mo>⌋</mo></mfenced></mrow></msup></math><img id="ib0001" file="imgb0001.tif" wi="45" he="13" img-content="math" img-format="tif"/></maths></p><p id="p0016" num="0016">With <i>w(i)</i> being the <i>i<sup>th</sup></i> message bit, <i>α</i> being an absolute shift in frequency, and T being the duration of one bit, └ ┘ being the floor function.</p><p id="p0017" num="0017">According to another specific feature, the transformation function returns an increasing frequency during the time period for a first value of said bit and a decreasing frequency during the time period for a second value of said bit.</p><p id="p0018" num="0018">According to a specific feature, said transformation function is: <maths id="math0002" num=""><math display="block"><mi>m</mi><mfenced><mi>t</mi></mfenced><mo>=</mo><msup><mrow><mi>α</mi><mfenced separators=""><mo>-</mo><mn>1</mn></mfenced></mrow><mrow><mi>w</mi><mfenced separators=""><mo>⌊</mo><mfrac><mi>t</mi><mi>T</mi></mfrac><mo>⌋</mo></mfenced></mrow></msup><mo>⁢</mo><mfenced separators=""><mi>t</mi><mo>/</mo><mi>T</mi><mo>-</mo><mo>⌊</mo><mi>t</mi><mo>/</mo><mi>T</mi><mo>⌋</mo><mo>-</mo><mfrac><mn>1</mn><mn>2</mn></mfrac></mfenced></math><img id="ib0002" file="imgb0002.tif" wi="75" he="15" img-content="math" img-format="tif"/></maths></p><p id="p0019" num="0019">With <i>w(i)</i> being the <i>i<sup>th</sup></i> message bit, <i>α</i> being an absolute shift in frequency, and T being the duration of one bit, └ J being the floor function.</p><p id="p0020" num="0020">According to a specific variant wherein the periodic light source is a pulse light source and the frequency is a pulse frequency, the pulse-width of said pulse light source is modulated such that the duty cycle of display device remains constant while modulating said pulse frequency.<!-- EPO <DP n="4"> --></p><p id="p0021" num="0021">In another embodiment, the invention is also directed to a device for inserting at least one message, in a rendering of a video content by a display device, wherein the display device comprises a periodic light source (PLS). Such device comprises:
<ul><li>a selector for obtaining one bit of said message;</li><li>a modulator for modulating a frequency of the periodic light source in view of said bit.</li></ul></p><p id="p0022" num="0022">The invention also relates to a method for reading at least one message, in a video content obtained by filming a display device wherein the display device comprises a periodic light source (PLS) whose frequency is modulated in view of a bit (w<sub>i</sub>) of said message (Msg).</p><p id="p0023" num="0023">According to the invention, said method comprises at least one iteration of:
<ul><li>synchronizing, where the start of at least one message's bit is identified;</li><li>detecting, which detects each bit of the message by identifying the flickering frequency corresponding to the value of each bit of the message.</li></ul></p><p id="p0024" num="0024">Thus, the method allows retrieving the message which has been inserted during the rendering of the content by using the modulation of the frequency of the periodic light source (PLS). Advantageously, the message is then visible on a record of the content made with a camera.</p><p id="p0025" num="0025">In another embodiment, the invention is also directed to a device for reading at least one message, in a video content obtained by filming a display device wherein the display device comprises a periodic light source (PLS) whose frequency is modulated in view of a message bit (w<sub>i</sub>).</p><p id="p0026" num="0026">According to the invention, said device comprises:
<ul><li>a synchronizer where the start of at least one message's bit is identified;</li><li>a detector which detects each bit of the message by identifying the flickering frequency corresponding to the value of each bit of the message.</li></ul></p><p id="p0027" num="0027">In a preferred embodiment, the various steps of the methods according to the invention are implemented by one or more software or computer programs comprising software instructions for execution by a data processor or a module (such as a synchronizer, a detector), and adapted for controlling the execution of the different process steps.<!-- EPO <DP n="5"> --></p><p id="p0028" num="0028">Accordingly, the invention also provides a program which can be executed by a computer or a data processor, the program including instructions for controlling the execution of the steps of a method as mentioned above.</p><p id="p0029" num="0029">This program can use any programming language, and be in the form of source code, object code or intermediate code between source code and object code, such as a partially compiled form, or in any other desirable form.</p><p id="p0030" num="0030">The invention also provides a medium readable by a data processor, and containing instructions of a program as mentioned above.</p><p id="p0031" num="0031">The information carrier may be any entity or device capable of storing the program. For example, the medium may comprise a storage medium, such as a ROM, for example a CD ROM or a microelectronic circuit, or a magnetic recording medium, such as a diskette (floppy disk) or a hard drive.</p><p id="p0032" num="0032">On the other hand, the information carrier may be a transmissible carrier such as an electrical or optical signal which may be conveyed via electrical or optical cable, by radio or by other means. The program according to the invention may in particular be downloaded over a network such as the Internet.</p><p id="p0033" num="0033">Alternatively, the information carrier may be an integrated circuit in which the program is incorporated, the circuit being adapted to perform or to be used in carrying out the process in question.</p><p id="p0034" num="0034">According to one embodiment, the invention is implemented using software and / or hardware. In this context, the term "module" can correspond in this document as well as a software component to a hardware component or a set of hardware and software components.</p><p id="p0035" num="0035">A software component is one or more computer programs, one or more sub-programs of a program, or more generally to any element of a program or software capable to implement a function or set of functions, according to what is described below for the module. Such software component is executed by a processor of a physical entity (TV, projector, terminal, server, gateway, router, etc.) and is likely to access the hardware resources of the physical entity (memory, storage media, bus communication, e-cards I / O, user interfaces, etc.).</p><p id="p0036" num="0036">Similarly, a hardware component is any component of a hardware (or hardware) that can implement a function or set of functions, according to what is described below for the module. It may be a component integrated with<!-- EPO <DP n="6"> --> programmable hardware or software for the execution processor, for example an integrated circuit, a smart card, a memory card, an electronic card for the execution of a firmware, etc.</p><p id="p0037" num="0037">Each component of the system described above provides its own software modules. The various embodiments described above can be combined together for the implementation of the invention.</p><heading id="h0004"><b>4. Drawings</b></heading><p id="p0038" num="0038">The proposed method is described in the following by way of examples in connection with the accompanying figures without limiting the scope of the protection as defined by the claim. In the figures:
<ul><li><figref idrefs="f0001">figure 1</figref> illustrates the steps of the method for inserting a message;</li><li><figref idrefs="f0002">figure 2</figref> illustrates the steps of the method for reading a message;</li><li><figref idrefs="f0003">figure 3</figref> illustrates an embodiment of a device for inserting a message;</li><li><figref idrefs="f0003">figure 4</figref> illustrates an embodiment of a device for reading a message;</li><li><figref idrefs="f0002">figure 5</figref> illustrates a controlled flickering effect;</li><li><figref idrefs="f0002">figure 6</figref> illustrate a constant duty cycle on two different frequencies.</li></ul></p><heading id="h0005"><b>5. Detailed Description of the Invention</b></heading><heading id="h0006">5.1 <u>Principles of the invention</u></heading><p id="p0039" num="0039">The principle which forms the technical base of the technique is to take advantage of a difference between a recording frequency of a camcorder (i.e. the number of image which the camcorder is able to record by second, typically 25 or 30) and a lighting frequency (i.e. the number of time, by second, that the light source which is used for lighting the displayed image is switched on and switched off periodically). This difference is used for creating a signal comprising a message (which can be a watermark). In others words the proposed technique takes advantage of the "flickering effect" created by the fact of "camcording" a screen for injecting a message in the record obtained by the camcorder.</p><p id="p0040" num="0040">Thus, in a general manner, according to the proposed technique, when the lighting frequency is modulated (i.e. augmented or reduced), the signification of this modulation can then be interpreted (or recognized) in order to obtain the message. This means that the lighting frequency is changed in view of the message which is inserted (i.e. in view of the value of an identifier for example, if the message is an identifier). This modulation of the lighting frequency is<!-- EPO <DP n="7"> --> interesting. For example, considering the case of a video camera (camcorder) which camcords (records with a camera) an LCD display, such LCD display, usually embed a backlight panel that serves as a light source (called backlight). The camcorder samples the video signal displayed on the LCD (typically at a rate of 25 fps, called <i>f_sample).</i> This sampling leads to aliasing and is visible in the camcorded video (i.e. the resulting record) as flickering.</p><p id="p0041" num="0041">For example, a backlight frequency of 180 Hz <i>(f_sig)</i> captured at 25 fps <i>(f_sample)</i> with a camcorder is aliased as 5Hz peak <i>(f_aliasing),</i> i.e. flickering has a frequency of 5hz (180 mod 25 = 5). More generally, if <i>f_sample &lt; f_sig,</i> then <i>f_aliasing</i> is equal to <i>f_sig mod f_sample.</i> The base of the technique consists in modifying f_sig, thus modifying <i>f_aliasing</i> at the detection.</p><p id="p0042" num="0042">Thus, according to the proposed technique, a situation (i.e. the presence of the flickering in the camcoded record) is turned to be an advantage for the content producer: for example, it allows tracing an origin of a pirate copy of a given content.</p><p id="p0043" num="0043">Since the backlight frequency <i>(f_sig)</i> is modulated, this means that the flickering frequency <i>f_aliasing</i> is also modulated. As a result, the record obtained by the camcorder comprises a modulation of the flickering frequency, this modulation being the result of an identifier or a message to insert.</p><p id="p0044" num="0044">Of course, the proposed technique is not limited to LCD screens. It can also be implemented into other rendering devices, like projectors (e.g. LED or Laser projectors) and any other device which emits periodically a light using digital pulse or digital sinusoidal light emission. Thus a light source is called a "periodic light source (PLS)" because light is not emitted constantly: light is emitted with a given frequency in form of pulse or in a sinusoid.</p><p id="p0045" num="0045">The proposed technique comprises two different aspects: a method for inserting, in the signal, a message, based on the properties of the "flickering effect" and a method for obtaining a message from a record of the signal(which is for example suspected to be a pirated copy, but any other application can be implemented).</p><p id="p0046" num="0046">The method for inserting a message in a content rendered on a screen according to the proposed technique is described in relation with <figref idrefs="f0001">figure 1</figref>. The method for inserting at least one message (Msg), in a rendering of a video content<!-- EPO <DP n="8"> --> by a display device (DD) wherein the display device comprises a periodic light source (PLS), comprises at least one iteration of the following steps:
<ul><li>a step of obtaining (E-10) one bit (w<sub>i</sub>) of said message (Msg); The bits are for example obtained sequentially; the message can comprise a given number of bytes, each byte being inserted by inserting the bit one after the other.</li><li>a step of modulating (E-20) a frequency of said periodic light source (PLS) in view of said bit (w<sub>i</sub>); this step can be implemented by applying a transformation function on the frequency of the periodic light source (PLS). The transformation function may affect the frequency to the up or down depending on the value of the bit.</li></ul></p><p id="p0047" num="0047">Alternatively, instead of modulating in view of a single bit, the modulating can also be done in view of several bits. Furthermore, several embodiments of the modulation can be used for inserting the bit: for example a fixed frequency can be synonym of a value while a second frequency is synonym of a second value; another example can consist in increasing the frequency when a given value has to be inserted and consist in decreasing the frequency when another value has to be inserted: the increasing and decreasing is thus the information itself (independently of the value of the frequency).</p><p id="p0048" num="0048">Thus, each bit is inserted, one after the other, while the video is displayed on the screen. When the insertion of the message is finished, it can be resumed, starting from the beginning of the message, again and again as long as something is displayed on the screen. For an interesting result, in terms of investigation, each bit must be inserted during a time period which allows the detection of the bit. This time period can be for example comprised between one and twenty seconds. For a "normal" user, who is just watching the screen, nothing is visible since the intensity of the light is not modified.</p><p id="p0049" num="0049">Thus the technique allows embedding a message in a rendering on a screen, for example on a LCD screen. The message can for example be embedded by modulating the frequency of the periodic light source. The pulse-width of the periodic light source may also be controlled in order to prevent any unwanted displaying effect. The duty cycle is the fraction of time the backlight is on and determines the display brightness of the screen: Duty cycle= t_ON/(t_ON +<!-- EPO <DP n="9"> --> t_OFF). In LCD screens with constant periodic light source frequency, Pulse-Width-Modulation (PWM) is used to change the duty cycle by increasing/decreasing the duration of the light pulse, as explained with <figref idrefs="f0002">figure 5</figref>. In the present invention, the pulse-width of the periodic light source is modulated such that the duty cycle of the screen stays constant while modulating the pulse frequency. <figref idrefs="f0002">Figure 6</figref> illustrate a constant duty cycle (50 %) with two different frequencies (f0 and f1). It is shown that the duty cycle is 50% and is constant, while the two frequencies are different. More specifically f0 is greater than f1 but the two duty cycles remain the same, thus the screen brightness stays constant.</p><p id="p0050" num="0050">Hence, the message may for example comprise a serial-number of the display device or any other identifier useful for anti-piracy investigations. If the video image is camcorded, the frequency modulations become visible as modulated flicker frequencies. These flickers are used to reconstruct the message.</p><p id="p0051" num="0051">In its preferred embodiment the message is coded by modulating the frequency of the light. In a refinement, the pulse-width is adapted such that the screen brightness stays constant (i.e. the duty cycle stays the same).</p><p id="p0052" num="0052">The method for reading a message inserted in content, according to the proposed technique is described in relation with <figref idrefs="f0002">figure 2</figref>. Basically, the method for reading the message consists in identifying the modulated frequencies in the camcorded video C(t), i.e. identifying the successive flickering frequencies in the camcorded video.</p><p id="p0053" num="0053">The method comprises:
<ul><li>synchronizing (S-30), where the start of at least one message's bit is identified;</li><li>detecting (S-40) each bit of the message by identifying the flickering frequency corresponding to the value of each bit of the message.</li></ul></p><p id="p0054" num="0054">The method can also be completed by a step of assembly, where bits are added, according to a given assembly rule, for obtaining the message.</p><p id="p0055" num="0055">Such a two-step reading method is interesting because of the frame rate of the camera used for obtaining the message. Indeed considering the camcorded video, it is not known where the message is inserted. Thus, it is interesting to extract from a quite a long sample of the camcorded video, a given number of excerpts which are supposed to comprise bits. Advantageously, these excerpts<!-- EPO <DP n="10"> --> can be of the same length that the time duration during which each bit of the message is inserted.</p><p id="p0056" num="0056">Thus, applied to investigation situation, given a camcorded video (in a form of an AVI file for example), identifying the user that camcorded video (in the context of piracy investigations) is easier. Ideally, each user should be linked to a different user ID. However, the use of an identifier of a TV or of a projector can also be used. Compared to state of the art solutions which consist in inserting a digital watermark into a video copy (with the digital watermark encoding the user ID) the proposed technique is simpler. In state of the art solution, the watermark is inserted in the digital video, either at server or at decoder / player side. This requires modifying specifically the server or player, thus the watermark system is not universal.</p><p id="p0057" num="0057">The invention proposes a universal marking system in which the message (which can comprise a mark) is inserted at the very end of the video display chain. The message is here superimposed on the video in its analogue form, not in the digital one: thus, there's no need to use expensive systems for generating insertion of digital watermarks during processing of the digital content before transmission to the displaying device. According to the proposed technique, the message is finally independent of the content itself: any content displayed with a device implementing the proposed technique will be marked. This makes a huge difference because the technique is independent of the platform, of the device which plays the content. It is not linked to the fact that the display device is connected to the internet or not. It does not require an identification of the user himself: when no identification of a user is available, any other identifier can be used: serial number of the device, hash of the serial number of the device, IP address (when the device is connected), etc.</p><p id="p0058" num="0058">Hence, the proposed technique allows obtaining a fine-grained identification of a camcord origin. It is possible to identify the end-device serial number. Message insertion is independent of the origin of the content (VoD, download, DVD/Blu-ray, broadcast). Thus, the same marking system can be used for several content owners or content providers. The technique may be coupled with content protection systems like HDCP. In HDCP, the video source (e.g. DVD or Blu-Ray player) sends the video in an encrypted format to the display. The decryption is<!-- EPO <DP n="11"> --> performed at the very end of the chain, i.e. inside the display, to enable maximal protection. Inserting a watermark at the same point of the chain, i.e. just at the display time, enables to fully protect the video along the chain.</p><p id="p0059" num="0059">Finally, the proposed technique enables to implement at low cost a marking system directly inside a display, since frequency modulation can be achieved by adapting the firmware responsible of backlight control. Thus, the invention may be implemented very simply at a large scale by upgrading the firmware of existing displays devices. Moreover, it enables to implement a universal and permanent marking system, where the message «embedder» no longer needs to be customized depending on each customer requirements.</p><heading id="h0007">5.2 <u>Description of an embodiment</u></heading><p id="p0060" num="0060">In this embodiment, methods are described where the inserted message (Msg) is a watermark (WM). However, the nature of the message (the fact that the message is a watermark) does not change anything to the transformation functions which are applied. As already explained, the proposed technique comprises thus two aspects: a message inserting method, where a watermark is encoded by light source frequency modulation and a method where the message is read (the watermark is detected and decoded). In this embodiment, the inserting method is implemented in the case of an LCD screen.</p><heading id="h0008">5.2.1. Insertion of the message</heading><p id="p0061" num="0061">Indeed, one technique for displaying content associates a LCD (flat panel display, electronic visual display, or video display) with one or several light sources, these light sources modulating properties of liquid crystals. Indeed, liquid crystals do not emit light directly. For example, backlights of LCD screens send light pulses with a given frequency, e.g. 180Hz. The backlight frequency is different from the frame rate (refresh rate) of the LCD screen. The latter is typically 60Hz.</p><p id="p0062" num="0062">The backlight is a PWM signal (Pulse-Width Modulation), i.e. it is a periodic rectangular signal with frequency f_sig, f_sig being typically of 180 Hz. Mathematically it is defined by the following equation: <maths id="math0003" num=""><math display="block"><msub><mi mathvariant="italic">rect</mi><mi>θ</mi></msub><mfenced separators=""><mn>2</mn><mo>⁢</mo><mi>π</mi><mo>⁢</mo><msub><mi>f</mi><mrow><mi mathvariant="italic">_</mi><mi mathvariant="italic">sig</mi></mrow></msub><mo>⁢</mo><mi>t</mi></mfenced></math><img id="ib0003" file="imgb0003.tif" wi="35" he="11" img-content="math" img-format="tif"/></maths></p><p id="p0063" num="0063">With<!-- EPO <DP n="12"> --> <maths id="math0004" num=""><math display="block"><msub><mi mathvariant="italic">rect</mi><mi>θ</mi></msub><mo>⁢</mo><mfenced separators=""><mi>k</mi><mo>+</mo><mi>t</mi></mfenced><mo>=</mo><mrow><mo>{</mo><mtable><mtr><mtd><mn>0</mn><mspace width="1em"/><mi>if</mi><mspace width="1em"/><mfrac><mrow><mo>-</mo><mi>θ</mi></mrow><mn>2</mn></mfrac><mo>&lt;</mo><mi mathvariant="normal">t</mi><mo>≤</mo><mfrac><mi>θ</mi><mn>2</mn></mfrac></mtd></mtr><mtr><mtd><mn>1</mn><mspace width="1em"/><mi>else</mi></mtd></mtr></mtable></mrow></math><img id="ib0004" file="imgb0004.tif" wi="61" he="19" img-content="math" img-format="tif"/></maths></p><p id="p0064" num="0064">For all k being an integer, and for all t such that -0.5&lt;t≤0.5.</p><p id="p0065" num="0065">θ is called the duty cycle and is the fraction of time the backlight is on: Duty cycle = t<sub>ON</sub>/(t<sub>ON</sub> + T<sub>OFF</sub>). Usually, backlight duty cycle varies between 50% and 100%.</p><p id="p0066" num="0066">Backlights either rely on LEDs or cold cathode fluorescent lamp (CCFL) inverters controlled by a controller. In function of the technology used, the speed of the PWM cycling backlights on and off depends on the backlight type used: with CCFL-based backlights nearly all cycling at 175Hz or 175 times per second. LED backlights have been reported running from 90Hz up to 420Hz, with those at the lower end flickering much more visibly. Of course, in this embodiment, the controller is able to accept a variable Pulse-Width-Modulation, controlled by another module, a module which implements the technique of the invention, and which takes in input an identifier (to include in the signal) and a modulation parameter. The modulation parameter is a frequency modulation parameter which allows modulating the frequency of the screen backlight. In a refinement, the modulation parameter further comprises a pulse-width modulation parameter. The pulse-width of the periodic light source is also modulated such that the duty cycle of the screen stays constant while modulating the pulse frequency. Advantageously, the screen intensity remains constant (the duty cycle is constant).</p><p id="p0067" num="0067">The identifier can be serial-number of the projector, of the TV or any other unique identifier useful for anti-piracy forensics.</p><p id="p0068" num="0068">In a first variant, the serial number of the display is encoded using frequency modulation: that is the frequency of the backlight is changed according to a serial number signal: <maths id="math0005" num=""><math display="block"><mi>s</mi><mfenced><mi>t</mi></mfenced><mo>=</mo><msub><mi mathvariant="italic">rect</mi><mi>θ</mi></msub><mo>⁢</mo><mfenced separators=""><mn>2</mn><mo>⁢</mo><mi>π</mi><mo>⁢</mo><mfenced separators=""><msub><mi>f</mi><mrow><mi>_</mi><mi mathvariant="italic">sig</mi></mrow></msub><mo>+</mo><mi>m</mi><mfenced><mi>t</mi></mfenced></mfenced><mo>⁢</mo><mi>t</mi></mfenced></math><img id="ib0005" file="imgb0005.tif" wi="67" he="11" img-content="math" img-format="tif"/></maths></p><p id="p0069" num="0069">With <i>m(t)</i> being a signal generated from the display serial number (the serial number signal), and <i>f_sig</i> being the usual backlight frequency (for example 180 Hz), and <i>s(t)</i> being the modulated backlight signal, and <i>"rect"</i> function being the usual rectangular function. θ (the duty cycle) stays constant, which implies that the pulse-width is modulated accordingly.<!-- EPO <DP n="13"> --></p><p id="p0070" num="0070">In a first sub variant, the signal <i>m(t)</i> is generated such that two different frequencies are used to encode bits 0 and 1. More precisely, <i>m(t)</i> can be defined by this transformation function: <maths id="math0006" num=""><math display="block"><mi>m</mi><mfenced><mi>t</mi></mfenced><mo>=</mo><msup><mrow><mi>α</mi><mfenced separators=""><mo>-</mo><mn>1</mn></mfenced></mrow><mrow><mi>w</mi><mfenced separators=""><mo>⌊</mo><mfrac><mi>t</mi><mi>T</mi></mfrac><mo>⌋</mo></mfenced></mrow></msup></math><img id="ib0006" file="imgb0006.tif" wi="42" he="12" img-content="math" img-format="tif"/></maths></p><p id="p0071" num="0071">With <i>w(i)</i> being the <i>i<sup>th</sup></i> watermark bit (serial number or the like), <i>α</i> being the absolute shift in frequency (α is small compared to <i>f_sig</i>), and T being the duration of one watermark bit. └ J is the floor function, i.e. └x┘ is the largest integer smaller or equal to the real number x.</p><p id="p0072" num="0072">Typically, T should be a few second long to allow for a correct estimation of the backlight frequency (between 1 and 20 second for example). This means that a bit of the chosen identifier will be inserted during a duration T between 1 and 20 seconds.</p><p id="p0073" num="0073"><i>α</i> is chosen small compared to <i>f_sig</i> so as not to impair the viewing experience. <i>α</i> is also chosen such that <i>f<sub>0</sub>=(f_sig- α) mod[f_sample]</i> and <i>f<sub>1</sub>=(f_sig+ α) mod[f_sample]</i> are different, where <i>f_sample</i> is the camcorder frame rate (25, <i>30 fps, etc.).</i> This is the case when <i>α</i> is much smaller than the camcorder typical sampling frequency f_sample, which is the case in practice because for practical reason the backlight frequency cannot be changed too much.</p><p id="p0074" num="0074">More specifically, since the device which implements the proposed technique is not able to know which camcording device is used, a median value is chosen for α where the resulting frequencies (f<sub>0</sub> and f<sub>1</sub>) fits for a given numbers of values for <i>f_sample (24, 25, 30, 60 fps, etc).</i> The calculation of <i>α</i> is made by the device in view of the the usual backlight frequency <i>f_sig.</i> For example, the value of <i>α</i> is 6.</p><p id="p0075" num="0075">Thus, when a video is camcorded on the display device, the video spectrum of the record will show two peaks (at different moments): one at <i>f<sub>0</sub>=(f_sig- α) mod[f_sample]</i> and the other at <i>f<sub>1</sub>=(f_sig</i>+ <i>α) mod[f_sample].</i></p><p id="p0076" num="0076">Of course, this is an embodiment for coding the information. It is understood that any other way to code the identifier by modulating the frequency may suit. However, this embodiment has the advantage of being simple to implement.</p><p id="p0077" num="0077">In a second variant, the frequency is modulated using chirp for Binary Orthogonal Keying (BOK). More specifically:
<ul><li>'1' is coded by an up-chirp, i.e. by increasing the frequency of the backlight.<!-- EPO <DP n="14"> --></li><li>'0' is coded by a down-chirp, i.e. by decreasing the frequency of the backlight</li></ul></p><p id="p0078" num="0078">In other words, the modulating signal <i>m(t)</i> is given by transformation function: <maths id="math0007" num=""><math display="block"><mi>m</mi><mfenced><mi>t</mi></mfenced><mo>=</mo><msup><mrow><mi>α</mi><mfenced separators=""><mo>-</mo><mn>1</mn></mfenced></mrow><mrow><mi>w</mi><mfenced separators=""><mo>⌊</mo><mfrac><mi>t</mi><mi>T</mi></mfrac><mo>⌋</mo></mfenced></mrow></msup><mo>⁢</mo><mfenced separators=""><mi>t</mi><mo>/</mo><mi>T</mi><mo>-</mo><mo>⌊</mo><mi>t</mi><mo>/</mo><mi>T</mi><mo>⌋</mo><mo>-</mo><mfrac><mn>1</mn><mn>2</mn></mfrac></mfenced></math><img id="ib0007" file="imgb0007.tif" wi="76" he="14" img-content="math" img-format="tif"/></maths></p><p id="p0079" num="0079">In this variant α is chosen such that α is small compared to typical camcorder frame rate. For instance, we can set α =2Hz.</p><heading id="h0009">5.2.2. Reading the message</heading><p id="p0080" num="0080">According to the proposed technique; a process has to be implemented for reading the previously inserted message. In this embodiment, it is done by detecting and decoding the watermark which was introduced in the record. Hence, to retrieve the display watermark on the camcorded video <i>I(x,y,t)</i> three steps are implemented: a preprocessing step to convert the video signal into a suitable signal for watermark detection , a synchronization step where the start of each watermark bit is identified, and a detection step which detects the value of each bit of the watermark.</p><p id="p0081" num="0081">The preprocessing step convert the video I(x,y,t) into a 1-dimensional signal c(t). for instance, c(t) is obtained by computing, for the image at time t of the video, the average of the luminance of the middle line. Alternatively, c(t) can be the average of the whole image at time t of the video. c(t) is computed for the whole video length.</p><p id="p0082" num="0082">The implementation of the synchronization and detection steps depends on the variant used to embed on bit in the backlight signal.</p><p id="p0083" num="0083">In the first embodiment where the bit is embedded by selecting either frequency f0 or frequency f1, the two steps can be implemented as follows:
<ol><li>1. The synchronisation step, where the start of at least one message's bit is identified, comprises the following steps:
<ol><li>a. extracting n excerpts <i>e<sub>i</sub>(t)</i> from <i>c(t),</i> each one of length <i>T</i> and each one shift from the other by one frame: <i>e<sub>i</sub>(t) = e[i,i+T]; n</i> corresponds for example to the length of an expected message</li><li>b. computing the <i>n</i> FFT's <i>E<sub>i</sub></i> from excerpts <i>e<sub>i</sub></i><!-- EPO <DP n="15"> --></li><li>c. extracting for each <i>e<sub>i</sub></i> the amplitude of the two peaks at <i>f<sub>0</sub></i> and <i>f<sub>1</sub></i> (i.e. at expected frequencies <i>f<sub>0</sub></i> and <i>f<sub>1</sub></i>, in view for example of the frame rate of the record).</li><li>d. selecting the excerpt <i>j</i> maximizing the calculation /<i>E<sub>j</sub>(f0)-E<sub>j</sub>(f<sub>1</sub>)</i>/: j is then the start of one watermark bit.</li></ol></li><li>2. The detection step, which detects each bit of the message by identifying the flickering frequency corresponding to the value of each bit of the message, comprises the following steps:
<ol><li>a. computing the FFT <i>E<sub>k</sub>()</i> of excerpts <i>e[j+kT; j+kT+T]</i> for all <i>k, k being comprised between 0 and n-1;</i></li><li>b. <i>If E<sub>k</sub>(f0) &gt; E<sub>k</sub>(f1),</i> the watermark bit is equal to <i>0</i>; else the watermark bit is equal to <i>1</i>.</li></ol></li></ol></p><p id="p0084" num="0084">In the second embodiment using binary orthogonal keying (BOK) for inserting the message, the two steps can be implemented as follows:
<ol><li>1. The synchronization step, where the start of at least one message's bit is identified, comprises the following steps:
<ol><li>a. extracting n excerpts <i>e<sub>i</sub>(t)</i> from <i>c(t),</i> each one of length <i>T</i> and each one shift from the other by one frame : <i>e<sub>i</sub>(t) = e[i,i+T]</i></li><li>b. for each excerpts <i>e<sub>i</sub></i>, compute the φ intercorrelations C<sup>0</sup>(i;φ) of <i>e<sub>i</sub></i> with the chirp signals <maths id="math0008" num=""><math display="inline"><msubsup><mi>v</mi><mi mathvariant="normal">ϕ</mi><mn>0</mn></msubsup><mo>,</mo></math><img id="ib0008" file="imgb0008.tif" wi="8" he="8" img-content="math" img-format="tif" inline="yes"/></maths> where φ is an integer ranging from 0 to m. Similarly, compute the φ intercorrelactions C<sup>1</sup>(i; φ) of <i>e<sub>i</sub></i> with the chirp signals <maths id="math0009" num=""><math display="inline"><msubsup><mi>v</mi><mi mathvariant="normal">ϕ</mi><mn>1</mn></msubsup></math><img id="ib0009" file="imgb0009.tif" wi="7" he="8" img-content="math" img-format="tif" inline="yes"/></maths></li><li>c. select the maximum of C<sup>j</sup>(i; φ) for all i ranging from 0 to n, φ ranging from 0 to m, and j ranging from 0 to 1 : the values of i and φ giving the maximum value of C<sup>j</sup>(l;k) are noted i<sub>M</sub>, φ<sub>M</sub>.</li></ol></li><li>2. The detection step, which detects each bit of the message by identifying the flickering frequency corresponding to the value of each bit of the message, comprises the following steps:
<ol><li>a. splitting the camcorded signal c(t) in excerpts e[i<sub>M</sub>+kT; i<sub>M</sub>+kT+T].</li><li>b. computing the correlation value C0 between e[i<sub>M</sub>+kT; i<sub>M</sub>+kT+T] and <maths id="math0010" num=""><math display="inline"><msubsup><mi>v</mi><msub><mi>φ</mi><mi>M</mi></msub><mn>0</mn></msubsup><mo>,</mo></math><img id="ib0010" file="imgb0010.tif" wi="11" he="8" img-content="math" img-format="tif" inline="yes"/></maths> and the correlation value C1 between e[i<sub>M</sub>+kT; i<sub>M</sub>+kT+T] and <maths id="math0011" num=""><math display="inline"><msubsup><mi>v</mi><msub><mi mathvariant="normal">ϕ</mi><mi>M</mi></msub><mn>1</mn></msubsup></math><img id="ib0011" file="imgb0011.tif" wi="9" he="8" img-content="math" img-format="tif" inline="yes"/></maths><!-- EPO <DP n="16"> --></li><li>c. If C0&gt;C1 watermark bit is equal to 0, else watermark bit is equal to 1.</li></ol></li></ol></p><p id="p0085" num="0085">In this embodiment, the chirp signals are defined as: <maths id="math0012" num=""><math display="block"><msubsup><mi>v</mi><mi>φ</mi><mn>0</mn></msubsup><mfenced><mi>t</mi></mfenced><mo>=</mo><mi mathvariant="italic">sin</mi><mfenced separators=""><mn>2</mn><mo>⁢</mo><mi>π</mi><mo>⁢</mo><mfenced separators=""><msub><mi>f</mi><mrow><mi>_</mi><mi mathvariant="italic">sig</mi></mrow></msub><mo>+</mo><mi>α</mi><mo>⁢</mo><mfenced separators=""><mfrac><mi>t</mi><mi>T</mi></mfrac><mo>-</mo><mo>⌊</mo><mfrac><mi>t</mi><mi>T</mi></mfrac><mo>⌋</mo><mo>-</mo><mfrac><mn>1</mn><mn>2</mn></mfrac></mfenced><mo>⁢</mo><mi>t</mi></mfenced><mo>⁢</mo><mi>t</mi><mo>+</mo><mn>2</mn><mo>⁢</mo><mi>π</mi><mo>⁢</mo><mi>φ</mi><mo>/</mo><mi>m</mi></mfenced></math><img id="ib0012" file="imgb0012.tif" wi="106" he="14" img-content="math" img-format="tif"/></maths> <maths id="math0013" num=""><math display="block"><msubsup><mi>v</mi><mi>φ</mi><mn>1</mn></msubsup><mfenced><mi>t</mi></mfenced><mo>=</mo><mi mathvariant="italic">sin</mi><mfenced separators=""><mn>2</mn><mo>⁢</mo><mi>π</mi><mo>⁢</mo><mfenced separators=""><msub><mi>f</mi><mrow><mi>_</mi><mi mathvariant="italic">sig</mi></mrow></msub><mo>-</mo><mi>α</mi><mo>⁢</mo><mfenced separators=""><mfrac><mi>t</mi><mi>T</mi></mfrac><mo>-</mo><mo>⌊</mo><mfrac><mi>t</mi><mi>T</mi></mfrac><mo>⌋</mo><mo>-</mo><mfrac><mn>1</mn><mn>2</mn></mfrac></mfenced><mo>⁢</mo><mi>t</mi></mfenced><mo>⁢</mo><mi>t</mi><mo>+</mo><mn>2</mn><mo>⁢</mo><mi>π</mi><mo>⁢</mo><mi>φ</mi><mo>/</mo><mi>m</mi></mfenced></math><img id="ib0013" file="imgb0013.tif" wi="106" he="15" img-content="math" img-format="tif"/></maths></p><p id="p0086" num="0086">And m is an integer defining the phase precision. Typically m is about 10.</p><heading id="h0010">5.3 <u>Complementary embodiment</u></heading><p id="p0087" num="0087">One component of the system is the generation of the messages for each display device. If the length of the message is N, it is not possible to use all the 2<sup>N</sup> possible messages, since some messages would be the cyclic shift of others, and won't be distinguishable at the detection time.</p><p id="p0088" num="0088">A solution is to generate randomly a set of messages, and check that there are no equivalent messages up to a cyclic shift. Another solution is to prefix a synchronization message before the user message. The synchronization message allows identifying the start of the user watermark at the detection time (for instance by using a 8b/10b coding to generate code words as well as synchronization words).</p><heading id="h0011">5.4 <u>Devices</u></heading><p id="p0089" num="0089">The structure of a device for the execution of the method of insertion of a message is illustrated schematically in <figref idrefs="f0003">figure 3</figref>. The device 3 comprises a memory M 31, and a processing unit 30 equipped with a microprocessor └P, that is driven by a computer program (or application) Pg 32. At input, the processing unit 30 receives the signal 34 of the periodic light source through an input interface module E 33. The microprocessor µP processes signal 34 according to the instructions of the program Pg 32, to modulate the frequency 36, (according to the content of the current bit of the message) which will be transmitted through an interface module S 35. The apparatus can be included in any device which comprises a periodic light source for displaying contents. It can be implemented as a specific chip or integrated in a preexistent chip.</p><p id="p0090" num="0090">The structure of a device for the execution of the method of reading a message is illustrated schematically in <figref idrefs="f0003">figure 4</figref>. The device 4 comprises a memory M 41, and a processing unit 40 equipped with a microprocessor ┌P, that is driven by a computer program (or application) Pg 42. At input, the processing unit 40<!-- EPO <DP n="17"> --> receives the signal 44 of a content which has been filmed by a camera through an input interface module E 43. The microprocessor µP processes signal 44 according to the instructions of the program Pg 42, to obtain the message 46 inserted in the camcord (according to the variation of the frequency of the flickering effect) which will be transmitted through an interface module S 45. The apparatus can be included in any device which is used for investigation process. It can be implemented as a specific chip or integrated in a preexistent chip.</p></description><claims mxw-id="PCLM90459186" lang="EN" load-source="patent-office"><!-- EPO <DP n="18"> --><claim id="c-en-0001" num="0001"><claim-text>A method for inserting at least one message (Msg), in a rendering of a video content by a display device (DD) wherein the display device comprises a periodic light source (PLS), said method being <b>characterized in that</b> it comprises at least one iteration of:
<claim-text>- obtaining (E-10) one bit (w<sub>i</sub>) of said message (Msg);</claim-text>
<claim-text>- modulating (E-20) a frequency (f_sig) of said periodic light source (PLS) in view of said bit (w<sub>i</sub>).</claim-text></claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>The method according to claim 1, <b>characterized in that</b> said modulating (E-20) of a frequency of said periodic light source (PLS) in view of said bit (w<sub>i</sub>) comprises applying a transformation function on said frequency (f_sig) of said periodic light source (PLS) according a value of said bit (w<sub>i</sub>).</claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>The method according to claim 2, <b>characterized in that</b> said transformation function is applied during a time period <i>(T)</i> corresponding to the duration of said bit (w<sub>i</sub>).</claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>The method according to claim 3, <b>characterized in that</b> said time period <i>(T)</i> is comprised between one and twenty seconds.</claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>The method according to claim 3, <b>characterized in that</b> said transformation function returns a first frequency for a first value of said bit (w<sub>i</sub>) and a second frequency value for a second value of said bit (w<sub>i</sub>).</claim-text></claim><claim id="c-en-0006" num="0006"><claim-text>The method according to claim 5, <b>characterized in that</b> said transformation function is: <maths id="math0014" num=""><math display="block"><mi>m</mi><mfenced><mi>t</mi></mfenced><mo>=</mo><msup><mrow><mi>α</mi><mfenced separators=""><mo>-</mo><mn>1</mn></mfenced></mrow><mrow><mi>w</mi><mfenced separators=""><mo>⌊</mo><mfrac><mi>t</mi><mi>T</mi></mfrac><mo>⌋</mo></mfenced></mrow></msup></math><img id="ib0014" file="imgb0014.tif" wi="44" he="12" img-content="math" img-format="tif"/></maths> With <i>w(i)</i> being a <i>i<sup>th</sup></i> bit of said message, <i>α</i> being an absolute shift in frequency, and T being said time period, └ J being the floor function.<!-- EPO <DP n="19"> --></claim-text></claim><claim id="c-en-0007" num="0007"><claim-text>The method, according to claim 3, <b>characterized in that</b> said transformation function returns an increasing frequency during said time period for a first value of said bit (w<sub>i</sub>) and a decreasing frequency during said time period for a second value of said bit (w<sub>i</sub>).</claim-text></claim><claim id="c-en-0008" num="0008"><claim-text>The method, according to claim 7, <b>characterized in that</b> said transformation function is: <maths id="math0015" num=""><math display="block"><mi>m</mi><mfenced><mi>t</mi></mfenced><mo>=</mo><msup><mrow><mi>α</mi><mfenced separators=""><mo>-</mo><mn>1</mn></mfenced></mrow><mrow><mi>w</mi><mfenced separators=""><mo>⌊</mo><mfrac><mi>t</mi><mi>T</mi></mfrac><mo>⌋</mo></mfenced></mrow></msup><mo>⁢</mo><mfenced separators=""><mi>t</mi><mo>/</mo><mi>T</mi><mo>-</mo><mo>⌊</mo><mi>t</mi><mo>/</mo><mi>T</mi><mo>⌋</mo><mo>-</mo><mfrac><mn>1</mn><mn>2</mn></mfrac></mfenced></math><img id="ib0015" file="imgb0015.tif" wi="77" he="15" img-content="math" img-format="tif"/></maths> With <i>w(i)</i> being a <i>i<sup>th</sup></i> bit of said message, <i>α</i> being an absolute shift in frequency, and T being the time period, └ J being the floor function.</claim-text></claim><claim id="c-en-0009" num="0009"><claim-text>The method, according to claim 2 wherein said periodic light source is a pulse light source and said frequency is a pulse frequency, <b>characterized in that</b> a pulse-width of said pulse light source is modulated such that the duty cycle of display device remains constant while modulating said pulse frequency.</claim-text></claim><claim id="c-en-0010" num="0010"><claim-text>A device (3) for inserting at least one message (Msg), in a rendering of a video content by a display device (DD) wherein the display device comprises a periodic light source (PLS), said device being <b>characterized in that</b> it comprises:
<claim-text>- a selector for obtaining one bit (w<sub>i</sub>) of said message (Msg);</claim-text>
<claim-text>- a modulator for modulating a frequency of said periodic light source in view of said bit (w<sub>i</sub>).</claim-text></claim-text></claim><claim id="c-en-0011" num="0011"><claim-text>Computer program product downloadable from a communications network and/or stored in a computer-readable carrier and/or executable by a microprocessor, <b>characterized in that</b> it comprises program code instructions for the execution of the method according to at least one of the claims 1 to 9, when it is executed on a computer.<!-- EPO <DP n="20"> --></claim-text></claim><claim id="c-en-0012" num="0012"><claim-text>A method for reading at least one message (Msg), in a video content obtained by filming a display device (DD) wherein the display device comprises a periodic light source (PLS) whose frequency is modulated in view of a bit (w<sub>i</sub>) of said message (Msg), said method being <b>characterized in that</b> it comprises at least one iteration of:
<claim-text>- synchronizing (S-30), where the start of at least one message's bit is identified;</claim-text>
<claim-text>- detecting (S-40) each bit of the message by identifying the flickering frequency corresponding to the value of each bit of the message.</claim-text></claim-text></claim><claim id="c-en-0013" num="0013"><claim-text>A device for reading at least one message (Msg), in a video content previously obtained by filming a display device (DD) wherein the display device comprises a periodic light source (PLS), said device being <b>characterized in that</b> it comprises:
<claim-text>- a synchronizer, where the start of at least one message's bit is identified;</claim-text>
<claim-text>- a detector which detects each bit of the message by identifying the flickering frequency corresponding to the value of each bit of the message.</claim-text></claim-text></claim><claim id="c-en-0014" num="0014"><claim-text>Computer program product downloadable from a communications network and/or stored in a computer-readable carrier and/or executable by a microprocessor, <b>characterized in that</b> it comprises program code instructions for the execution of the method according to claim 12, when it is executed on a computer.</claim-text></claim></claims><drawings mxw-id="PDW20421922" load-source="patent-office"><!-- EPO <DP n="21"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="151" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="22"> --><figure id="f0002" num="2,5,6"><img id="if0002" file="imgf0002.tif" wi="165" he="215" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="23"> --><figure id="f0003" num="3,4"><img id="if0003" file="imgf0003.tif" wi="165" he="188" img-content="drawing" img-format="tif"/></figure></drawings><search-report-data><doc-page id="srep0001" file="srep0001.tif" wi="156" he="233" type="tif"/><doc-page id="srep0002" file="srep0002.tif" wi="156" he="233" type="tif"/></search-report-data><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
