<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2961137-A1" country="EP" doc-number="2961137" kind="A1" date="20151230" family-id="53513972" file-reference-id="294565" date-produced="20180824" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="160451205" ucid="EP-2961137-A1"><document-id><country>EP</country><doc-number>2961137</doc-number><kind>A1</kind><date>20151230</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-15173736-A" is-representative="YES"><document-id mxw-id="PAPP193865378" load-source="docdb" format="epo"><country>EP</country><doc-number>15173736</doc-number><kind>A</kind><date>20150625</date><lang>ZH</lang></document-id><document-id mxw-id="PAPP193865379" load-source="patent-office" format="original"><country>EP</country><doc-number>15173736.8</doc-number><date>20150625</date><lang>ZH</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC162031624" ucid="CN-201410290953-A" load-source="docdb"><document-id format="epo"><country>CN</country><doc-number>201410290953</doc-number><kind>A</kind><date>20140625</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-1988519647" load-source="docdb">H04W  60/00        20090101ALI20151026BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1988521583" load-source="docdb">H04W   8/12        20090101ALI20151026BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1988522569" load-source="docdb">H04L  29/12        20060101AFI20151026BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1988526749" load-source="docdb">H04W   8/04        20090101ALI20151026BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1962084975" load-source="docdb" scheme="CPC">H04W   8/12        20130101 LA20151023BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1962090248" load-source="docdb" scheme="CPC">H04W  60/00        20130101 LA20151023BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1984699827" load-source="docdb" scheme="CPC">H04L  41/12        20130101 FI20151231BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1984705047" load-source="docdb" scheme="CPC">H04L  61/301       20130101 LI20160106BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987800293" load-source="docdb" scheme="CPC">H04L  61/2596      20130101 LA20151023BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT165545081" lang="DE" load-source="patent-office">NETZWERKTOPOLOGIEVERBERGUNGSVERFAHREN UND -VORRICHTUNG</invention-title><invention-title mxw-id="PT165545082" lang="EN" load-source="patent-office">NETWORK TOPOLOGY HIDING METHOD AND DEVICE</invention-title><invention-title mxw-id="PT165545083" lang="FR" load-source="patent-office">PROCÉDÉ ET DISPOSITIF PERMETTANT DE CACHER UNE TOPOLOGIE DE RÉSEAU</invention-title><citations><patent-citations><patcit mxw-id="PCIT371138671" load-source="docdb" ucid="US-20110302244-A1"><document-id format="epo"><country>US</country><doc-number>20110302244</doc-number><kind>A1</kind><date>20111208</date></document-id><sources><source name="SEA" category="XI" created-by-npl="N"/></sources></patcit></patent-citations><non-patent-citations><nplcit><text>ANONYMOUS: "EAGLE XG Diameter Signaling Router Diameter and Mediation User Guide - Chapter "Topology Hiding"", 1 November 2013 (2013-11-01), pages 1 - 67, XP055223255, Retrieved from the Internet &lt;URL:http://docs.oracle.com/cd/E52418_01/docs.50/910-6822-001_rev_a.pdf&gt; [retrieved on 20151023]</text><sources><source mxw-id="PNPL67570535" load-source="docdb" name="SEA" category="XI"/></sources></nplcit><nplcit><text>ANONYMOUS: "Hash table - Wikipedia, the free encyclopedia", 20 June 2012 (2012-06-20), XP055116260, Retrieved from the Internet &lt;URL:http://wayback.archive.org/web/20120620103940/https://en.wikipedia.org/wiki/Hash_table&gt; [retrieved on 20140505]</text><sources><source mxw-id="PNPL57906807" load-source="docdb" name="SEA" category="A"/></sources></nplcit><nplcit><text>MAURER W D ET AL: "HASH TABLE METHODS", ACM COMPUTING SURVEYS, ACM, NEW YORK, NY, US, US, vol. 7, no. 1, 1 March 1975 (1975-03-01), pages 5 - 19, XP009022942, ISSN: 0360-0300, DOI: 10.1145/356643.356645</text><sources><source mxw-id="PNPL57906808" load-source="docdb" name="SEA" category="A"/></sources></nplcit><nplcit><text>None</text><sources><source mxw-id="PNPL67570536" load-source="docdb" name="APP"/></sources></nplcit></non-patent-citations></citations></technical-data><parties><applicants><applicant mxw-id="PPAR1103303782" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>HUAWEI TECH CO LTD</last-name><address><country>CN</country></address></addressbook></applicant><applicant mxw-id="PPAR1103315061" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>HUAWEI TECHNOLOGIES CO., LTD.</last-name></addressbook></applicant><applicant mxw-id="PPAR1101650660" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Huawei Technologies Co., Ltd.</last-name><iid>100970540</iid><address><street>Huawei Administration Building Bantian</street><city>LONGGANG DISTRICT SHENZHEN, GUANGDONG 518129</city><country>CN</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR1103307979" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>WU FENG</last-name><address><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR1103331165" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>WU, FENG</last-name></addressbook></inventor><inventor mxw-id="PPAR1101639966" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>WU, FENG</last-name><address><street>Huawei Administration Building, Bantian, Longgang District</street><city>518129 Shenzhen</city><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR1103325540" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>YE WENZHONG</last-name><address><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR1103305819" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>YE, WENZHONG</last-name></addressbook></inventor><inventor mxw-id="PPAR1101652556" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>YE, WENZHONG</last-name><address><street>Huawei Administration Building, Bantian, Longgang District</street><city>518129 Shenzhen</city><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR1103311124" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>KONG XIANGRUI</last-name><address><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR1103311444" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>KONG, Xiangrui</last-name></addressbook></inventor><inventor mxw-id="PPAR1101654023" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>KONG, Xiangrui</last-name><address><street>Huawei Administration Building, Bantian, Longgang District</street><city>518129 Shenzhen</city><country>CN</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR1101639849" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Maiwald Patentanwalts GmbH</last-name><iid>100061181</iid><address><street>Elisenhof Elisenstrasse 3</street><city>80335 München</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><designated-states><ep-contracting-states><country mxw-id="DS660681370" load-source="docdb">AL</country><country mxw-id="DS660782163" load-source="docdb">AT</country><country mxw-id="DS660681380" load-source="docdb">BE</country><country mxw-id="DS660681441" load-source="docdb">BG</country><country mxw-id="DS660605707" load-source="docdb">CH</country><country mxw-id="DS660681342" load-source="docdb">CY</country><country mxw-id="DS660782164" load-source="docdb">CZ</country><country mxw-id="DS660681381" load-source="docdb">DE</country><country mxw-id="DS660681351" load-source="docdb">DK</country><country mxw-id="DS660681352" load-source="docdb">EE</country><country mxw-id="DS660606174" load-source="docdb">ES</country><country mxw-id="DS660681442" load-source="docdb">FI</country><country mxw-id="DS660681447" load-source="docdb">FR</country><country mxw-id="DS660681382" load-source="docdb">GB</country><country mxw-id="DS660681353" load-source="docdb">GR</country><country mxw-id="DS660681387" load-source="docdb">HR</country><country mxw-id="DS660782165" load-source="docdb">HU</country><country mxw-id="DS660605708" load-source="docdb">IE</country><country mxw-id="DS660681388" load-source="docdb">IS</country><country mxw-id="DS660681448" load-source="docdb">IT</country><country mxw-id="DS660681354" load-source="docdb">LI</country><country mxw-id="DS660683893" load-source="docdb">LT</country><country mxw-id="DS660782166" load-source="docdb">LU</country><country mxw-id="DS660683894" load-source="docdb">LV</country><country mxw-id="DS660683903" load-source="docdb">MC</country><country mxw-id="DS660603809" load-source="docdb">MK</country><country mxw-id="DS660603810" load-source="docdb">MT</country><country mxw-id="DS660782167" load-source="docdb">NL</country><country mxw-id="DS660606179" load-source="docdb">NO</country><country mxw-id="DS660605709" load-source="docdb">PL</country><country mxw-id="DS660683905" load-source="docdb">PT</country><country mxw-id="DS660782168" load-source="docdb">RO</country><country mxw-id="DS660683906" load-source="docdb">RS</country><country mxw-id="DS660605710" load-source="docdb">SE</country><country mxw-id="DS660683919" load-source="docdb">SI</country><country mxw-id="DS660606180" load-source="docdb">SK</country><country mxw-id="DS660605991" load-source="docdb">SM</country><country mxw-id="DS660603811" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA166479575" lang="EN" load-source="patent-office"><p id="pa01" num="0001">The present invention provides a network topology hiding method and device. The method includes: receiving a first service request, where the first service request is sent by a subscriber through a first network function entity and includes a name of the first network function entity and a subscriber identifier; determining a virtual name set corresponding to the name of the first network function entity, where the virtual name set includes at least two virtual names; and determining one virtual name from the virtual name set, and replacing the name of the first network function entity with the determined virtual name. The unfixed replacement further ensures effectiveness of network topology hiding.</p></abstract><abstract mxw-id="PA166759387" lang="EN" source="EPO" load-source="docdb"><p>The present invention provides a network topology hiding method and device. The method includes: receiving a first service request, where the first service request is sent by a subscriber through a first network function entity and includes a name of the first network function entity and a subscriber identifier; determining a virtual name set corresponding to the name of the first network function entity, where the virtual name set includes at least two virtual names; and determining one virtual name from the virtual name set, and replacing the name of the first network function entity with the determined virtual name. The unfixed replacement further ensures effectiveness of network topology hiding.</p></abstract><description mxw-id="PDES98404276" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001"><b>TECHNICAL FIELD</b></heading><p id="p0001" num="0001">The present invention relates to the field of mobile communications technologies, and specifically, relates to a network topology hiding method and device.</p><heading id="h0002"><b>BACKGROUND</b></heading><p id="p0002" num="0002">With development of an IP multimedia subsystem (IP Multimedia Subsystem, IMS for short) and introduction of evolution packet core (Evolution Packet Core, EPC for short), a legacy core network based on circuit switching is evolving into a network based on IP packet switching at an ever-increasing pace, and increased use of IP-based signaling is found at a bottom layer. This results in the Diameter (Diameter) Protocol being widely applied to architectures such as IMS, policy and charging control (Policy and Charging Control, PCC for short), and EPC. Diameter signaling is used for interaction between many network elements, such as a home subscriber server (Home Subscriber Server, HSS for short), a mobility management entity (Mobile Management Entity, MME for short), a policy and charging rule function (Policy and Charging Rule Function, PCRF for short), and an online charging system (Online Charging System, OCS for short). To support inter-operator roaming and interworking, many operators start to consider deploying diameter edge agents (Diameter Edge Agents, DEAs for short) on network boundaries and building Diameter signaling networks.</p><p id="p0003" num="0003">The operators' efforts to set up DEA nodes and build Diameter signaling networks are mainly driven by the need to hide a network topology. As defined in related standards, fundamental network topology hiding principles are: hiding names of all Diameter nodes, and hiding the number of Diameter nodes on a network. In a scenario of inter-operator international roaming by EPC subscribers, Diameter nodes specifically refer to MMEs, and<!-- EPO <DP n="2"> --> DEA deployment helps to hide architectures of the operators' internal networks, thereby protecting security of the operators' networks, specifically, preventing a visited network operator from learning about an architecture of a home operator's network. EPC roaming mainly involves S6 interfaces between MMEs and HSSs. An existing solution of hiding an operator's network topology in EPC subscriber roaming scenarios is to replace a real name of a home MME of the subscriber with a fixed virtual name and to use the virtual name for subsequent roaming related processing. However, this one-to-one fixed replacement is unable to hide the number of Diameter nodes on a network, and does not satisfy the fundamental principle of network topology hiding. Another implemented solution is to perform many-to-one replacement whereby a same DEA may process information sent by a plurality of MMEs on an operator's network, and the DEA may replace names of all the MMEs on the operator's network with a unique virtual name. This many-to-one replacement may hide the number of Diameter nodes, but it renders a home MME of a subscriber unable to be determined, which in turn leads to failures in completing a location delete procedure, which is triggered when an EPC subscriber leaves a roaming destination, or failures in subscriber data management operations (for example, inserting subscriber data or deleting subscriber data) initiated by an HSS.</p><p id="p0004" num="0004">The foregoing network topology hiding solutions, including both the one-to-one fixed replacement and the many-to-one replacement, suffer from different aforementioned drawbacks, and consequently compromise the effectiveness of network topology hiding.</p><heading id="h0003"><b>SUMMARY</b></heading><p id="p0005" num="0005">The present invention provides a network topology hiding method and device, to solve a problem in the prior art that it is difficult to ensure effectiveness of network topology hiding.</p><p id="p0006" num="0006">A first aspect of the present invention provides a network topology hiding method, including:
<ul><li>receiving a first service request, where the first service request is sent by a subscriber through a first network function entity and includes a name of the first network<!-- EPO <DP n="3"> --> function entity and a subscriber identifier of the subscriber;</li><li>determining, according to a pre-established correspondence between each virtual name set and each first network function entity, a virtual name set corresponding to the name of the first network function entity, where the virtual name set includes at least two virtual names; and</li><li>determining one virtual name from the virtual name set, and replacing the name of the first network function entity with the determined virtual name.</li></ul></p><p id="p0007" num="0007">In a first possible implementation of the first aspect, the determining one virtual name from the virtual name set includes:
<ul><li>randomly selecting one virtual name from the virtual name set.</li></ul></p><p id="p0008" num="0008">In a second possible implementation of the first aspect, the determining one virtual name from the virtual name set includes:
<ul><li>performing a hash operation on the subscriber identifier by using a preset hash algorithm, to obtain a subscriber identifier hash value; and</li><li>determining, according to a pre-established correspondence between each subscriber identifier hash value and each virtual name included in the virtual name set, one virtual name corresponding to the subscriber identifier hash value.</li></ul></p><p id="p0009" num="0009">According to the first aspect, or the first or second possible implementation of the first aspect, in a third possible implementation of the first aspect, after the determining one virtual name from the virtual name set, and replacing the name of the first network function entity with the determined virtual name, the method further includes:
<ul><li>sending a second service request to a second network function entity, where the second service request includes the virtual name and the subscriber identifier, so that the second network function entity processes the second service request according to the virtual name and the subscriber identifier.</li></ul></p><p id="p0010" num="0010">According to the third possible implementation of the first aspect, in a fourth possible implementation of the first aspect, the first network function entity is a mobility management entity MME, the second network function entity is a home subscriber server HSS, the first service request is a first location update request, and the second service request<!-- EPO <DP n="4"> --> is a second location update request; and<br/>
the virtual name and the subscriber identifier that are included in the second location update request are used for enabling the HSS to locally establish a correspondence between the virtual name and the subscriber identifier.</p><p id="p0011" num="0011">According to the fourth possible implementation of the first aspect, in a fifth possible implementation of the first aspect, after the sending a second service request to a second network function entity, the method further includes:
<ul><li>receiving a location delete request sent by the HSS, where the location delete request includes a virtual name corresponding to a subscriber whose location information is to be deleted;</li><li>determining a virtual name set that includes the virtual name corresponding to the subscriber whose location information is to be deleted; and</li><li>determining an MME corresponding to the virtual name set, and forwarding the location delete request to the determined MME, so that the MME processes the location delete request.</li></ul></p><p id="p0012" num="0012">A second aspect of the present invention provides a network topology hiding device, including:
<ul><li>a first receiving module, configured to receive a first service request, where the first service request is sent by a subscriber through a first network function entity and includes a name of the first network function entity and a subscriber identifier of the subscriber;</li><li>a first determining module, configured to determine, according to a pre-established correspondence between each virtual name set and each first network function entity, a virtual name set corresponding to the name of the first network function entity, where the virtual name set includes at least two virtual names; and</li><li>a first processing module, configured to determine one virtual name from the virtual name set, and replace the name of the first network function entity with the determined virtual name.</li></ul></p><p id="p0013" num="0013">In a first possible implementation of the second aspect, the first processing module is configured to:<!-- EPO <DP n="5"> -->
<ul><li>randomly select one virtual name from the virtual name set.</li></ul></p><p id="p0014" num="0014">In a second possible implementation of the second aspect, the first processing module is configured to:
<ul><li>perform a hash operation on the subscriber identifier by using a preset hash algorithm, to obtain a subscriber identifier hash value; and</li><li>determine, according to a pre-established correspondence between each subscriber identifier hash value and each virtual name included in the virtual name set, one virtual name corresponding to the subscriber identifier hash value.</li></ul></p><p id="p0015" num="0015">According to the second aspect, or the first or second possible implementation of the second aspect, in a third possible implementation of the second aspect, the device further includes:
<ul><li>a sending module, configured to send a second service request to a second network function entity, where the second service request includes the virtual name and the subscriber identifier, so that the second network function entity processes the second service request according to the virtual name and the subscriber identifier.</li></ul></p><p id="p0016" num="0016">According to the third possible implementation of the second aspect, in a fourth possible implementation of the second aspect, the first network function entity is a mobility management entity MME, the second network function entity is a home subscriber server HSS, the first service request is a first location update request, and the second service request is a second location update request; and<br/>
the virtual name and the subscriber identifier that are included in the second location update request are used for enabling the HSS to locally establish a correspondence between the virtual name and the subscriber identifier.</p><p id="p0017" num="0017">According to the fourth possible implementation of the second aspect, in a fifth possible implementation of the second aspect, the device further includes:
<ul><li>a second receiving module, configured to receive a location delete request sent by the HSS, where the location delete request includes a virtual name corresponding to a subscriber whose location information is to be deleted;</li><li>a second determining module, configured to determine a virtual name set that<!-- EPO <DP n="6"> --> includes the virtual name corresponding to the subscriber whose location information is to be deleted; and</li><li>a second processing module, configured to determine an MME corresponding to the virtual name set, and forward the location delete request to the determined MME, so that the MME processes the location delete request.</li></ul></p><p id="p0018" num="0018">According to the network topology hiding method and device that are provided in the present invention, each time when a first service request that is sent by a subscriber through a first network function entity corresponding to the subscriber and carries a name of the first network function entity is received, a virtual name set corresponding to the name of the first network function entity is determined according to a pre-established correspondence between each virtual name set and each first network function entity; and because each virtual name set includes a plurality of virtual names, one virtual name may be selected, from virtual name sets that have a one-to-one correspondence with first network function entities, to replace a name of a corresponding first network function entity thereby achieving network topology hiding whereby names of first network function entities on a local operator's network and a quantity of included first network function entities are hidden. Because the correspondence between each virtual name set and each first network function entity is pre-established and each virtual name set includes a plurality of virtual names, one virtual name may be selected in a near-random manner from a virtual name set corresponding to each first network function entity, to replace a real name of each first network function entity, which is equivalent to a one-to-one, unfixed replacement between real names of first network function entities and virtual names. The unfixed replacement further ensures effectiveness of network topology hiding.</p><heading id="h0004"><b>BRIEF DESCRIPTION OF DRAWINGS</b></heading><p id="p0019" num="0019"><ul><li><figref idrefs="f0001">FIG. 1</figref> is a flowchart of a network topology hiding method according to Embodiment 1 of the present invention;</li><li><figref idrefs="f0002">FIG. 2</figref> is a flowchart of a network topology hiding method according to Embodiment 2 of the present invention;<!-- EPO <DP n="7"> --></li><li><figref idrefs="f0003">FIG. 3</figref> is a schematic structural diagram of a network topology hiding device according to Embodiment 3 of the present invention;</li><li><figref idrefs="f0003">FIG. 4</figref> is a schematic structural diagram of a network topology hiding device according to Embodiment 4 of the present invention; and</li><li><figref idrefs="f0004">FIG. 5</figref> is a schematic structural diagram of a diameter edge agent DEA according to Embodiment 5 of the present invention.</li></ul></p><heading id="h0005"><b>DESCRIPTION OF EMBODIMENTS</b></heading><p id="p0020" num="0020">To make the objectives, technical solutions, and advantages of the embodiments of the present invention clearer, the following clearly describes the technical solutions in the embodiments of the present invention with reference to the accompanying drawings in the embodiments of the present invention. Apparently, the described embodiments are some but not all of the embodiments of the present invention. All other embodiments obtained by a person of ordinary skill in the art based on the embodiments of the present invention without creative efforts shall fall within the protection scope of the present invention.</p><p id="p0021" num="0021"><figref idrefs="f0001">FIG. 1</figref> is a flowchart of a network topology hiding method according to Embodiment 1 of the present invention. This embodiment is executed by a DEA. As shown in <figref idrefs="f0001">FIG. 1</figref>, the method includes:</p><p id="p0022" num="0022">Step 101: Receive a first service request, where the first service request is sent by a subscriber through a first network function entity and includes a name of the first network function entity and a subscriber identifier of the subscriber.</p><p id="p0023" num="0023">Step 102: Determine, according to a pre-established correspondence between each virtual name set and each first network function entity, a virtual name set corresponding to the name of the first network function entity, where the virtual name set includes at least two virtual names.</p><p id="p0024" num="0024">Step 103: Determine one virtual name from the virtual name set, and replace the name of the first network function entity with the determined virtual name.</p><p id="p0025" num="0025">The method provided in this embodiment may be applicable to any signaling interaction procedure that is implemented between related functional entities on different<!-- EPO <DP n="8"> --> operators' networks by setting up a DEA on a Diameter signaling network. For example, the method may be used on a core network, such as a general packet radio service (General Packet Radio Service, GPRS for short) network, a universal mobile telecommunications system (Universal Mobile Telecommunications System, UMTS for short), an IMS, or an EPC. Use cases of Diameter signaling on various networks include mobility management, charging, policy making and control, and so on during EPC roaming. For example, an EPC roaming scenario mainly involves an S6 interface between an MME and an HSS, and a DEA is configured to transfer Diameter signaling between a roamed-to MME and a home HSS to facilitate authentication and mobility management performed for an EPC subscriber. In this example, the first network function entity in this embodiment is the MME, and a second network function entity in the following embodiment is the HSS. For another example, a charging control scenario mainly involves interconnection between a core network and network elements, such as a PCRF and an OCS, and if an EPC subscriber accesses the network through a roamed-to packet data network gateway (PDN-Gateway, P-GW for short), a DEA is needed to implement Diameter signaling transfer among the roamed-to P-GW, a home OCS and a home PCRF. In the another example, the first network function entity in this embodiment is the P-GW, and a second network function entity in the following embodiment is the OCS or the PCRF. Signaling interaction between network function entities on two different operators' networks is processed by two DEAs in a centralized manner, one for each operator's network.</p><p id="p0026" num="0026">In an actual application, for example, when a subscriber on current network 1 needs to initiate an application service to a network 2, a terminal device of the subscriber sends, through a first network function entity that is responsible for receiving and processing the application service and is located on network 1, a first service request to a DEA corresponding to the network 1, where the request includes a name of the first network function entity and a subscriber identifier of the subscriber; the name of the first network function entity is a name that can identify the functional entity, for example, a device serial number; and the subscriber identifier is, for example, an international mobile subscriber identity number (International Mobile Subscriber Identity number, IMSI for short) or a mobile<!-- EPO <DP n="9"> --> station international ISDN number (Mobile Station International ISDN Number, MSISDN for short).</p><p id="p0027" num="0027">In this embodiment, one virtual name set that has a one-to-one correspondence with each first network function entity in a network area covered by each DEA is pre-established in each DEA, which means that a correspondence between each first network function entity and a corresponding virtual name set is established in a DEA, where each virtual name set includes at least two virtual names. It can be understood that, virtual names included in different virtual name sets are different, and quantities of included virtual names may be the same or different. When receiving a first service request that carries a real name of a DEA from a first network function entity, the DEA searches locally for a virtual name set corresponding to the name of the first network function entity, determines at least one virtual name from the virtual name set, and replaces the name of the first network function entity with the determined virtual name.</p><p id="p0028" num="0028">In most actual applications, the DEA selects one virtual name from the determined virtual name set to replace the foregoing real name of the first network function entity. Since a first network function entity is corresponding to one virtual name set that includes a plurality of available virtual names, even when a plurality of different subscribers send a service request to the DEA through a same first network function entity, it is not certain which virtual name is selected by the DEA to replace the name of the first network function entity included in each service request, in other words, the name of the first network function entity may be replaced each time with a different virtual name in the virtual name set corresponding to the first network function entity. In this way, another network area, for example, network area 2 is uncertain of a virtual name used for replacing a real name of a same first network function entity. That is to say, since both the quantity of virtual names included in a virtual name set and a virtual name determined each time for a first network function entity are uncertain, after a plurality of first network function entities included in a network area covered by the DEA have their names replaced with different virtual names, another network area can not accurately learn how many first network function entities are included in the network area covered by the DEA and what is a name of each first network function entity, thereby<!-- EPO <DP n="10"> --> accomplishing network topology hiding in the network area covered by the DEA.</p><p id="p0029" num="0029">In this embodiment, each time when a DEA receives a first service request that is sent by a subscriber through a first network function entity corresponding to the subscriber and carries a name of the first network function entity, a virtual name set corresponding to the name of the first network function entity is determined according to a pre-established correspondence between each virtual name set and each first network function entity. Each virtual name set includes a plurality of virtual names, one virtual name may be selected, from virtual name sets that have a one-to-one correspondence with first network function entities, to replace a name of a corresponding first network function entity, thereby achieving network topology hiding whereby names of first network function entities in a local operator's network and a quantity of included first network function entities are hidden. Since the correspondence between each virtual name set and each first network function entity is pre-established and each virtual name set includes a plurality of virtual names, one virtual name may be selected in a near-random manner from a virtual name set corresponding to each first network function entity, to replace a real name of each first network function entity, which is equivalent to a one-to-one, unfixed replacement between real names of first network function entities and virtual names. The unfixed replacement manner further ensures effectiveness of network topology hiding.</p><p id="p0030" num="0030"><figref idrefs="f0002">FIG. 2</figref> is a flowchart of a network topology hiding method according to Embodiment 2 of the present invention. In this embodiment, an EPC roaming scenario is used as an example to describe the network topology hiding method. As shown in <figref idrefs="f0002">FIG. 2</figref>, the method includes:</p><p id="p0031" num="0031">Step 201: Receive a first location update request, where the first location update request is sent by a subscriber through an MME and includes a name of the MME and a subscriber identifier of the subscriber.</p><p id="p0032" num="0032">Step 202: Determine, according to a pre-established correspondence between each virtual name set and each MME, a virtual name set corresponding to the name of the MME, where the virtual name set includes at least two virtual names.</p><p id="p0033" num="0033">In the EPC roaming scenario according to this embodiment, the foregoing<!-- EPO <DP n="11"> --> subscriber is an EPC roaming subscriber. In this roaming scenario, when the subscriber roams from area 1 covered by an MME 1 with which the subscriber is registered to area 2 covered by an MME 2, the subscriber initiates a first location update request to the MME 2, so that the MME 2 updates current location information of the subscriber to a home HSS of the subscriber. The MME in the foregoing step 201 is the MME 2 in this scenario. Further, because the MME 2 and the HSS are in different network areas, to hide topology structures of networks in network areas to which the MME 2 and the HSS belong, interaction between the MME 2 and the HSS is implemented through a DEA, and the MME 2 forwards the first location update request that includes a name of the MME 2 to a DEA corresponding to the MME 2. Then, as shown in the embodiment shown in <figref idrefs="f0001">FIG. 1</figref>, the DEA determines, according to the pre-established correspondence between each virtual name set and each MME, a virtual name set corresponding to the name of the MME 2.</p><p id="p0034" num="0034">Step 203: Perform a hash operation on the subscriber identifier by using a preset hash algorithm, to obtain a subscriber identifier hash value.</p><p id="p0035" num="0035">Step 204: Determine, according to a pre-established correspondence between each subscriber identifier hash value and each virtual name included in the virtual name set, one virtual name corresponding to the subscriber identifier hash value.</p><p id="p0036" num="0036">In this embodiment, after the virtual name set corresponding to the MME 2 is determined, a virtual name used for replacing the name of the MME 2 needs to be selected from the virtual name set. A simple implementation manner is to randomly select one virtual name from the virtual name set. This manner is easy to implement and can accomplish network topology hiding. However, if a same subscriber initiates multiple location update requests through a same MME, which does indeed occur sometimes, a name of the same MME is randomly replaced with different virtual names, and an HSS may consider that the subscriber's location has changed and an inter-MME location update has occurred for the subscriber. In fact, the plurality of virtual names that replace the name of this MME are corresponding to the same MME, and there is no inter-MME location update. Preferably, in this embodiment, to ensure that a same MME 2 is replaced with a same virtual name when a same subscriber sends multiple location update requests through the same MME 2, the<!-- EPO <DP n="12"> --> following manner is used to select a virtual name from a virtual name set corresponding to the MME 2:
<ul><li>performing a hash operation on the subscriber identifier of the subscriber by using a preset hash algorithm, to obtain a subscriber identifier hash value; and</li><li>determining, according to a pre-established correspondence between each subscriber identifier hash value and each virtual name included in the determined virtual name set, one virtual name corresponding to the subscriber identifier hash value.</li></ul></p><p id="p0037" num="0037">For example, assuming that a subscriber sends a first location update request through MME 2, a virtual name set corresponding to MME 2 is determined by the DEA as virtual name set 1, and an MSISDN of the subscriber is 8613600196739. Then, a hash function value V may be calculated by using a hash function f. A formula is as follows: V = f(MSISDN), where the function f may be flexibly selected. For example, digits of the MSISDN are added as follows: V = 8 + 6 + 1 + 3 + 6 + 0 + 0 + 1 + 9 + 6 + 7 + 3 + 9 = 59, and then a virtual name is obtained from the set 1 according to the value 59, for example, according to a result of a modulo operation performed for the value 59, 59%2 = 1 (% represents a modulo operation). If the set 1 includes two virtual names, namely, virtual MME 1 and virtual MME 3, and a virtual name corresponding to 1 is virtual MME 3, it is determined that a virtual name of the MME 2 is replaced with virtual MME 3.</p><p id="p0038" num="0038">It can be learned that, in this embodiment, a DEA does not need to store a correspondence between a subscriber identifier and a real name of a network function entity, and it only needs to store a preset hash algorithm, which is easy and convenient to implement. In addition, a location update request is merely used as an example to describe interaction from an MME to an HSS; in addition to the location update request, other interaction requests, such as a request for acquiring authentication information, may also be suitable for the foregoing replacement procedure, provided that the interaction request includes a name of an MME and the name needs to be replaced with a virtual name.</p><p id="p0039" num="0039">Step 205: Send a second location update request to the HSS, where the second location update request includes the virtual name and the subscriber identifier, so that the HSS locally establishes a correspondence between the virtual name and the subscriber identifier.<!-- EPO <DP n="13"> --></p><p id="p0040" num="0040">In this embodiment, after the DEA determines a virtual name for MME 2, a name of MME 2 is replaced with the virtual name. To complete subscriber roaming processing, the DEA further needs to send, to the HSS, a second location update request that carries the virtual name that has replaced the name of MME 2 and a subscriber identifier, so that the HSS locally establishes and stores a correspondence between the virtual name and the subscriber identifier, thereby updating a current location of the subscriber in the HSS.</p><p id="p0041" num="0041">Step 206: Receive a location delete request sent by the HSS, where the location delete request includes a virtual name corresponding to a subscriber whose location information is to be deleted.</p><p id="p0042" num="0042">Step 207: Determine a virtual name set that includes the virtual name corresponding to the subscriber whose location information is to be deleted.</p><p id="p0043" num="0043">Step 208: Determine an MME corresponding to the virtual name set, and forward the location delete request to the determined MME, so that the MME processes the location delete request.</p><p id="p0044" num="0044">Specifically, if the HSS intends to delete location information of a subscriber, the HSS sends a location delete request to the DEA, where the location delete request includes a virtual name corresponding to the subscriber whose location information is to be deleted. As mentioned above, virtual names included in each virtual name set are different from one another. The DEA further determines, according to a pre-established correspondence between each MME and each virtual name set, a virtual name set that includes the virtual name corresponding to the subscriber whose location information is to be deleted, further determines an MME of the subscriber, and forwards the location delete request to the determined MME, so that the MME processes the location update request.</p><p id="p0045" num="0045">A location delete request is merely used as an example to describe interaction from an HSS to an MME; and in addition to the location delete request, other interaction requests, such as a request for deleting or inserting subscriber data, may also be suitable for the foregoing procedure of determining an MME corresponding to a virtual name, provided that the interaction request includes a virtual name for replacing a name of the MME.</p><p id="p0046" num="0046">The foregoing uses an EPC subscriber roaming scenario as an example for<!-- EPO <DP n="14"> --> description. However, a person skilled in the art may understand that the method still works in another scenario in which a DEA is used for hiding a network topology, for example, in a charging control scenario. In a charging control scenario, an involved related network function entity is different than in an EPC subscriber roaming scenario, for example, a network function entity involved in a charging control scenario is a P-GW, a PCRF, or an OCS, but manners of replacing a real name of a related network function entity by a DEA are consistent; and no detail is repeatedly described.</p><p id="p0047" num="0047">In this embodiment, a correspondence between each virtual name set and each network function entity in a network area is pre-established in a DEA. Because each virtual name set includes a plurality of virtual names, a virtual name of each network function entity may be any of the plurality of virtual names rather than being a fixed virtual name, thereby ensuring effectiveness of network topology hiding in the network area; in addition, when a same subscriber initiates service requests through a same function entity, a hash algorithm is used to ensure that a same virtual name is used to replace a real name of the same function entity used by the same subscriber, thereby preventing the change of a virtual name from misleading an HSS into believing that the subscriber has moved from one MME to another MME.</p><p id="p0048" num="0048"><figref idrefs="f0003">FIG. 3</figref> is a schematic structural diagram of a network topology hiding device according to Embodiment 3 of the present invention. As shown in <figref idrefs="f0003">FIG. 3</figref>, the device includes:
<ul><li>a first receiving module 11, configured to receive a first service request, where the first service request is sent by a subscriber through a first network function entity and includes a name of the first network function entity and a subscriber identifier of the subscriber;</li><li>a first determining module 12, configured to determine, according to a pre-established correspondence between each virtual name set and each first network function entity, a virtual name set corresponding to the name of the first network function entity, where the virtual name set includes at least two virtual names; and</li><li>a first processing module 13, configured to determine one virtual name from the virtual name set, and replace the name of the first network function entity with the determined virtual name.</li></ul><!-- EPO <DP n="15"> --></p><p id="p0049" num="0049">The device according to this embodiment may be configured to execute the technical solution in the method embodiment shown in <figref idrefs="f0001">FIG 1</figref>. Implementation principles and technical effects of the device are similar to those of the method, and no detail is repeatedly described herein.</p><p id="p0050" num="0050"><figref idrefs="f0003">FIG. 4</figref> is a schematic structural diagram of a network topology hiding device according to Embodiment 4 of the present invention. As shown in <figref idrefs="f0003">FIG. 4</figref>, in the device based on the embodiment shown in <figref idrefs="f0003">FIG. 3</figref>, the first processing module 13 is configured to:
<ul><li>randomly select one virtual name from the virtual name set.</li></ul></p><p id="p0051" num="0051">Further, the first processing module 13 is configured to:
<ul><li>perform a hash operation on the subscriber identifier by using a preset hash algorithm, to obtain a subscriber identifier hash value; and</li><li>determine, according to a pre-established correspondence between each subscriber identifier hash value and each virtual name included in the virtual name set, one virtual name corresponding to the subscriber identifier hash value.</li></ul></p><p id="p0052" num="0052">Further, the device further includes:
<ul><li>a sending module 21, configured to send a second service request to a second network function entity, where the second service request includes the virtual name and the subscriber identifier, so that the second network function entity processes the second service request according to the virtual name and the subscriber identifier.</li></ul></p><p id="p0053" num="0053">Specifically, the first network function entity is a mobility management entity MME, the second network function entity is a home subscriber server HSS, the first service request is a first location update request, and the second service request is a second location update request; and<br/>
the virtual name and the subscriber identifier that are included in the second location update request are used for enabling the HSS to locally establish a correspondence between the virtual name and the subscriber identifier.</p><p id="p0054" num="0054">Further, the device further includes:
<ul><li>a second receiving module 22, configured to receive a location delete request sent by the HSS, where the location delete request includes a virtual name corresponding to a<!-- EPO <DP n="16"> --> subscriber whose location information is to be deleted;</li><li>a second determining module 23, configured to determine a virtual name set that includes the virtual name corresponding to the subscriber whose location information is to be deleted; and</li><li>a second processing module 24, configured to determine an MME corresponding to the virtual name set, and forward the location delete request to the determined MME, so that the MME processes the location delete request.</li></ul></p><p id="p0055" num="0055">The device according to this embodiment may be configured to execute the technical solution in the method embodiment shown in <figref idrefs="f0002">FIG. 2</figref>. Implementation principles and technical effects of the device are similar to those of the method, and no detail is repeatedly described herein.</p><p id="p0056" num="0056"><figref idrefs="f0004">FIG. 5</figref> is a schematic structural diagram of a diameter edge agent DEA according to Embodiment 5 of the present invention. As shown in <figref idrefs="f0004">FIG. 5</figref>, the DEA includes:
<ul><li>a receiver 31, configured to receive a first service request, where the first service request is sent by a subscriber through a first network function entity and includes a name of the first network function entity and a subscriber identifier of the subscriber; and</li><li>a memory 32 and a processor 33 connected to the memory 32, where the memory 32 is configured to store a group of program code, the processor 33 is configured to call the program code stored in the memory 32, to execute the following steps of the network topology hiding method shown in <figref idrefs="f0001">FIG. 1</figref>: determining, according to a pre-established correspondence between each virtual name set and each first network function entity, a virtual name set corresponding to the name of the first network function entity, where the virtual name set includes at least two virtual names; and determining one virtual name from the virtual name set, and replacing the name of the first network function entity with the determined virtual name.</li></ul></p><p id="p0057" num="0057">The processor 33 is further configured to randomly select one virtual name from the virtual name set.</p><p id="p0058" num="0058">The processor 33 is further configured to perform a hash operation on the subscriber identifier by using a preset hash algorithm, to obtain a subscriber identifier hash<!-- EPO <DP n="17"> --> value; and determine, according to a pre-established correspondence between each subscriber identifier hash value and each virtual name included in the virtual name set, one virtual name corresponding to the subscriber identifier hash value.</p><p id="p0059" num="0059">The DEA further includes: a transmitter 34, which is configured to send a second service request to a second network function entity, where the second service request includes the virtual name and the subscriber identifier, so that the second network function entity processes the second service request according to the virtual name and the subscriber identifier.</p><p id="p0060" num="0060">The first network function entity is a mobility management entity MME, the second network function entity is a home subscriber server HSS, the first service request is a first location update request, and the second service request is a second location update request; and the virtual name and the subscriber identifier that are included in the second location update request are used for enabling the HSS to locally establish a correspondence between the virtual name and the subscriber identifier.</p><p id="p0061" num="0061">The receiver 31 is further configured to receive a location delete request sent by the HSS, where the location delete request includes a virtual name corresponding to a subscriber whose location information is to be deleted.</p><p id="p0062" num="0062">The processor 33 is further configured to determine a virtual name set that includes the virtual name corresponding to the subscriber whose location information is to be deleted; and determine an MME corresponding to the virtual name set, and forward the location delete request to the determined MME, so that the MME processes the location delete request.</p><p id="p0063" num="0063">A person of ordinary skill in the art may understand that all or some of the steps of the method embodiments may be implemented by a program instructing relevant hardware. The program may be stored in a computer readable storage medium. When the program runs, the steps of the method embodiments are performed. The foregoing storage medium includes: any medium that can store program code, such as a ROM, a RAM, a magnetic disk, or an optical disc.</p><p id="p0064" num="0064">Finally, it should be noted that the foregoing embodiments are merely intended for describing the technical solutions of the present invention, but not for limiting the present<!-- EPO <DP n="18"> --> invention. Although the present invention is described in detail with reference to the foregoing embodiments, persons of ordinary skill in the art should understand that they may still make modifications to the technical solutions described in the foregoing embodiments or make equivalent replacements to some or all technical features thereof, without departing from the scope of the technical solutions of the embodiments of the present invention.</p></description><claims mxw-id="PCLM90459206" lang="EN" load-source="patent-office"><!-- EPO <DP n="19"> --><claim id="c-en-0001" num="0001"><claim-text>A network topology hiding method, comprising:
<claim-text>receiving a first service request, wherein the first service request is sent by a subscriber through a first network function entity and comprises a name of the first network function entity and a subscriber identifier of the subscriber;</claim-text>
<claim-text>determining, according to a pre-established correspondence between each virtual name set and each first network function entity, a virtual name set corresponding to the name of the first network function entity, wherein the virtual name set comprises at least two virtual names; and</claim-text>
<claim-text>determining one virtual name from the virtual name set, and replacing the name of the first network function entity with the determined virtual name.</claim-text></claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>The method according to claim 1, wherein the determining one virtual name from the virtual name set comprises:
<claim-text>randomly selecting one virtual name from the virtual name set.</claim-text></claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>The method according to claim 1, wherein the determining one virtual name from the virtual name set comprises:
<claim-text>performing a hash operation on the subscriber identifier by using a preset hash algorithm, to obtain a subscriber identifier hash value; and</claim-text>
<claim-text>determining, according to a pre-established correspondence between each subscriber identifier hash value and each virtual name comprised in the virtual name set, one virtual name corresponding to the subscriber identifier hash value.</claim-text></claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>The method according to claim 1, wherein after the determining one virtual name from the virtual name set, and replacing the name of the first network function entity with the determined virtual name, the method further comprises:
<claim-text>sending a second service request to a second network function entity, wherein the second service request comprises the virtual name and the subscriber identifier, so that the second network function entity processes the second service request according to the virtual name and the subscriber identifier.</claim-text><!-- EPO <DP n="20"> --></claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>The method according to claim 4, wherein the first network function entity is a mobility management entity MME, the second network function entity is a home subscriber server HSS, the first service request is a first location update request, and the second service request is a second location update request; and<br/>
the virtual name and the subscriber identifier that are comprised in the second location update request are used for enabling the HSS to locally establish a correspondence between the virtual name and the subscriber identifier.</claim-text></claim><claim id="c-en-0006" num="0006"><claim-text>The method according to claim 5, wherein after the sending a second service request to a second network function entity, the method further comprises:
<claim-text>receiving a location delete request sent by the HSS, wherein the location delete request comprises a virtual name corresponding to a subscriber whose location information is to be deleted;</claim-text>
<claim-text>determining a virtual name set that comprises the virtual name corresponding to the subscriber whose location information is to be deleted; and</claim-text>
<claim-text>determining an MME corresponding to the virtual name set, and forwarding the location delete request to the determined MME, so that the MME processes the location delete request.</claim-text></claim-text></claim><claim id="c-en-0007" num="0007"><claim-text>A network topology hiding device, comprising:
<claim-text>a first receiving module, configured to receive a first service request, wherein the first service request is sent by a subscriber through a first network function entity and comprises a name of the first network function entity and a subscriber identifier of the subscriber;</claim-text>
<claim-text>a first determining module, configured to determine, according to a pre-established correspondence between each virtual name set and each first network function entity, a virtual name set corresponding to the name of the first network function entity, wherein the virtual name set comprises at least two virtual names; and</claim-text>
<claim-text>a first processing module, configured to determine one virtual name from the virtual name set, and replace the name of the first network function entity with the determined virtual name.</claim-text></claim-text></claim><claim id="c-en-0008" num="0008"><claim-text>The device according to claim 7, wherein the first processing module is configured to:
<claim-text>randomly select one virtual name from the virtual name set.</claim-text><!-- EPO <DP n="21"> --></claim-text></claim><claim id="c-en-0009" num="0009"><claim-text>The device according to claim 7, wherein the first processing module is configured to:
<claim-text>perform a hash operation on the subscriber identifier by using a preset hash algorithm, to obtain a subscriber identifier hash value; and</claim-text>
<claim-text>determine, according to a pre-established correspondence between each subscriber identifier hash value and each virtual name comprised in the virtual name set, one virtual name corresponding to the subscriber identifier hash value.</claim-text></claim-text></claim><claim id="c-en-0010" num="0010"><claim-text>The device according to claim 7, wherein the device further comprises:
<claim-text>a sending module, configured to send a second service request to a second network function entity, wherein the second service request comprises the virtual name and the subscriber identifier, so that the second network function entity processes the second service request according to the virtual name and the subscriber identifier.</claim-text></claim-text></claim><claim id="c-en-0011" num="0011"><claim-text>The device according to claim 10, wherein the first network function entity is a mobility management entity MME, the second network function entity is a home subscriber server HSS, the first service request is a first location update request, and the second service request is a second location update request; and<br/>
the virtual name and the subscriber identifier that are comprised in the second location update request are used for enabling the HSS to locally establish a correspondence between the virtual name and the subscriber identifier.</claim-text></claim><claim id="c-en-0012" num="0012"><claim-text>The device according to claim 11, wherein the device further comprises:
<claim-text>a second receiving module, configured to receive a location delete request sent by the HSS, wherein the location delete request comprises a virtual name corresponding to a subscriber whose location information is to be deleted;</claim-text>
<claim-text>a second determining module, configured to determine a virtual name set that comprises the virtual name corresponding to the subscriber whose location information is to be deleted; and</claim-text>
<claim-text>a second processing module, configured to determine an MME corresponding to the virtual name set, and forward the location delete request to the determined MME, so that the MME processes the location delete request.</claim-text></claim-text></claim></claims><drawings mxw-id="PDW20421942" load-source="patent-office"><!-- EPO <DP n="22"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="164" he="104" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="23"> --><figure id="f0002" num="2"><img id="if0002" file="imgf0002.tif" wi="164" he="216" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="24"> --><figure id="f0003" num="3,4"><img id="if0003" file="imgf0003.tif" wi="157" he="178" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="25"> --><figure id="f0004" num="5"><img id="if0004" file="imgf0004.tif" wi="114" he="79" img-content="drawing" img-format="tif"/></figure></drawings><search-report-data><doc-page id="srep0001" file="srep0001.tif" wi="160" he="233" type="tif"/><doc-page id="srep0002" file="srep0002.tif" wi="160" he="233" type="tif"/></search-report-data><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
