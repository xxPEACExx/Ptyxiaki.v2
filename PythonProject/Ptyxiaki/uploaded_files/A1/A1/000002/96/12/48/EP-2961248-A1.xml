<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2961248-A1" country="EP" doc-number="2961248" kind="A1" date="20151230" family-id="48723042" file-reference-id="258067" date-produced="20180824" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="160451094" ucid="EP-2961248-A1"><document-id><country>EP</country><doc-number>2961248</doc-number><kind>A1</kind><date>20151230</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-13875783-A" is-representative="YES"><document-id mxw-id="PAPP193865156" load-source="docdb" format="epo"><country>EP</country><doc-number>13875783</doc-number><kind>A</kind><date>20130918</date><lang>ZH</lang></document-id><document-id mxw-id="PAPP193865157" load-source="patent-office" format="original"><country>EP</country><doc-number>13875783.6</doc-number><date>20130918</date><lang>ZH</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC162033365" ucid="CN-2013083800-W" load-source="docdb"><document-id format="epo"><country>CN</country><doc-number>2013083800</doc-number><kind>W</kind><date>20130918</date></document-id></priority-claim><priority-claim mxw-id="PPC162035684" ucid="CN-201310053546-A" load-source="docdb"><document-id format="epo"><country>CN</country><doc-number>201310053546</doc-number><kind>A</kind><date>20130219</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-1978001434" load-source="docdb">G09G   3/34        20060101ALI20160121BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1978001435" load-source="docdb">G09F  27/00        20060101ALN20160121BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1978001436" load-source="docdb">G09F  13/00        20060101ALI20160121BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1978001437" load-source="docdb">H05B  37/02        20060101AFI20160121BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1978001438" load-source="docdb">G09F  13/04        20060101ALI20160121BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1984022478" load-source="docdb" scheme="CPC">G09F  13/005       20130101 LI20160115BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1984024624" load-source="docdb" scheme="CPC">H05B  37/0218      20130101 FI20160114BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987769731" load-source="docdb" scheme="CPC">G09F  27/005       20130101 LA20150930BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987785175" load-source="docdb" scheme="CPC">G09F2013/0427      20130101 LA20150930BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT165544748" lang="DE" load-source="patent-office">VERFAHREN UND VORRICHTUNG ZUR AUTOMATISCHEN STEUERUNG EINES ZUSTANDSINDIKATORS EINER ENDGERÄTEVORRICHTUNG</invention-title><invention-title mxw-id="PT165544749" lang="EN" load-source="patent-office">METHOD AND APPARATUS FOR AUTOMATICALLY CONTROLLING STATE INDICATOR OF TERMINAL DEVICE</invention-title><invention-title mxw-id="PT165544750" lang="FR" load-source="patent-office">PROCÉDÉ ET APPAREIL PERMETTANT DE COMMANDER AUTOMATIQUEMENT UN INDICATEUR D'ÉTAT D'UN DISPOSITIF TERMINAL</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR1103342049" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>ZTE CORP</last-name><address><country>CN</country></address></addressbook></applicant><applicant mxw-id="PPAR1103327506" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>ZTE CORPORATION</last-name></addressbook></applicant><applicant mxw-id="PPAR1101652258" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>ZTE Corporation</last-name><iid>101115168</iid><address><street>ZTE Plaza Keji Road South Hi-Tech Industrial Park Nanshan District</street><city>Shenzhen, Guangdong 518057</city><country>CN</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR1103331975" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>CHEN JUNCHENG</last-name><address><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR1103321931" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>CHEN, JUNCHENG</last-name></addressbook></inventor><inventor mxw-id="PPAR1101644890" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>CHEN, JUNCHENG</last-name><address><street>ZTE Plaza Keji Road South Hi-Tech Industrial Park Nanshan District</street><city>Shenzhen Guangdong 518057</city><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR1103312458" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>CHEN JIAN</last-name><address><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR1103315233" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>CHEN, JIAN</last-name></addressbook></inventor><inventor mxw-id="PPAR1101650817" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>CHEN, JIAN</last-name><address><street>ZTE Plaza Keji Road South Hi-Tech Industrial Park Nanshan District</street><city>Shenzhen Guangdong 518057</city><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR1103318576" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>YANG LINA</last-name><address><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR1103336546" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>YANG, LINA</last-name></addressbook></inventor><inventor mxw-id="PPAR1101642736" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>YANG, LINA</last-name><address><street>ZTE Plaza Keji Road South Hi-Tech Industrial Park Nanshan District</street><city>Shenzhen Guangdong 518057</city><country>CN</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR1101650236" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Brunazzi, Stefano</last-name><suffix>et al</suffix><iid>101516738</iid><address><street>Jacobacci &amp; Partners S.p.A. Via Senato, 8</street><city>20121 Milano</city><country>IT</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="CN-2013083800-W"><document-id><country>CN</country><doc-number>2013083800</doc-number><kind>W</kind><date>20130918</date><lang>ZH</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2014127631-A1"><document-id><country>WO</country><doc-number>2014127631</doc-number><kind>A1</kind><date>20140828</date><lang>ZH</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS660603236" load-source="docdb">AL</country><country mxw-id="DS660602861" load-source="docdb">AT</country><country mxw-id="DS660603237" load-source="docdb">BE</country><country mxw-id="DS660602825" load-source="docdb">BG</country><country mxw-id="DS660603095" load-source="docdb">CH</country><country mxw-id="DS660603238" load-source="docdb">CY</country><country mxw-id="DS660781608" load-source="docdb">CZ</country><country mxw-id="DS660604005" load-source="docdb">DE</country><country mxw-id="DS660603239" load-source="docdb">DK</country><country mxw-id="DS660603240" load-source="docdb">EE</country><country mxw-id="DS660603077" load-source="docdb">ES</country><country mxw-id="DS660602826" load-source="docdb">FI</country><country mxw-id="DS660603891" load-source="docdb">FR</country><country mxw-id="DS660604006" load-source="docdb">GB</country><country mxw-id="DS660603241" load-source="docdb">GR</country><country mxw-id="DS660604015" load-source="docdb">HR</country><country mxw-id="DS660781609" load-source="docdb">HU</country><country mxw-id="DS660603096" load-source="docdb">IE</country><country mxw-id="DS660603242" load-source="docdb">IS</country><country mxw-id="DS660603892" load-source="docdb">IT</country><country mxw-id="DS660603243" load-source="docdb">LI</country><country mxw-id="DS660604016" load-source="docdb">LT</country><country mxw-id="DS660602862" load-source="docdb">LU</country><country mxw-id="DS660603893" load-source="docdb">LV</country><country mxw-id="DS660604017" load-source="docdb">MC</country><country mxw-id="DS660602863" load-source="docdb">MK</country><country mxw-id="DS660602864" load-source="docdb">MT</country><country mxw-id="DS660603244" load-source="docdb">NL</country><country mxw-id="DS660604023" load-source="docdb">NO</country><country mxw-id="DS660603245" load-source="docdb">PL</country><country mxw-id="DS660603894" load-source="docdb">PT</country><country mxw-id="DS660781610" load-source="docdb">RO</country><country mxw-id="DS660603895" load-source="docdb">RS</country><country mxw-id="DS660603246" load-source="docdb">SE</country><country mxw-id="DS660603097" load-source="docdb">SI</country><country mxw-id="DS660604024" load-source="docdb">SK</country><country mxw-id="DS660604025" load-source="docdb">SM</country><country mxw-id="DS660602865" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA166479464" lang="EN" load-source="patent-office"><p id="pa01" num="0001">Provided are a method and device for automatically controlling a state indicator of a terminal device. The method comprises: brightness of a working environment of a terminal device is detected in real time to acquire a brightness signal of the working environment of the terminal device; a current electric level value of the brightness signal is determined according to a variation of the electric level value of the brightness signal within a preset duration; the current electric level value is determined as a light-on electric level value or a light-off electric level value by using a preset threshold; and the state indicator of the terminal device is controlled to carry out a light-on or light-off operation according to the determined light-on electric level value or light-off electric level value. The present invention automatically controls the light-on or light-off operation of the state indicator of the terminal device by using the brightness of the working environment of the terminal device, thereby avoiding disturbance of the state indicator to a user.<img id="iaf01" file="imgaf001.tif" wi="83" he="56" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA166759276" lang="EN" source="EPO" load-source="docdb"><p>Provided are a method and device for automatically controlling a state indicator of a terminal device. The method comprises: brightness of a working environment of a terminal device is detected in real time to acquire a brightness signal of the working environment of the terminal device; a current electric level value of the brightness signal is determined according to a variation of the electric level value of the brightness signal within a preset duration; the current electric level value is determined as a light-on electric level value or a light-off electric level value by using a preset threshold; and the state indicator of the terminal device is controlled to carry out a light-on or light-off operation according to the determined light-on electric level value or light-off electric level value. The present invention automatically controls the light-on or light-off operation of the state indicator of the terminal device by using the brightness of the working environment of the terminal device, thereby avoiding disturbance of the state indicator to a user.</p></abstract><description mxw-id="PDES98404165" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001"><b>Technical Field</b></heading><p id="p0001" num="0001">The present invention relates to the technical field of terminal communication, and in particular to a method and device for automatically controlling a state indicator of a terminal device.</p><heading id="h0002"><b>Background</b></heading><p id="p0002" num="0002">With the development of network access technology, the application of home terminal devices is becoming increasingly popular, the functional requirements are becoming more and more extensive, and the state indicators for controlling each function are becoming more and more, such as USB indicator, WAN indicator, DSL indicator, LAN indicator, VoIP indicator, WLAN indicator, power indicator, and so on. The more indicators controlling various functional modules, the more electric energy consumed per unit of time; at the same time, as long as the function modules of this indicator are running, the indicator would be in operation; for example, if a user rests at night but the user keeps a terminal device on to download data, the long time flash of the state indicator would inevitably affect the bedroom environment and disturb the user's rest.</p><p id="p0003" num="0003">Currently, the related technologies involving control of an indicator of a terminal device are mainly to provide a method for manually controlling a state indicator by means of a switch, and the switch is implemented by hardware circuit switch control or software logic switch control, which has a lot to do with the user's operating habits and has not reached the true intelligent effects. This method just gives the user a way to improve the subjective feeling, and at the same time it is also limited to the home gateway only.</p><heading id="h0003"><b>Summary</b></heading><p id="p0004" num="0004">The embodiments of the present invention provide a method and device for<!-- EPO <DP n="2"> --> automatically controlling a state indicator of a terminal device, so as to control the indicator to carry out a corresponding light-on or light-off operation according to the brightness of an environment, to avoid the disturbance of the state indicator of the terminal device to the user.</p><p id="p0005" num="0005">According to a first aspect of the embodiments of the present invention, the method for automatically controlling a state indicator of a terminal device provided by the embodiments of the present invention comprises the steps of: detecting brightness of a working environment of a terminal device in real time to acquire a brightness signal of the working environment of the terminal device; determining a current electric level value of the brightness signal according to a variation of the electric level value of the brightness signal within a preset duration; determining the current electric level value as a light-on electric level value or a light-off electric level value according to a preset threshold; and controlling the state indicator of the terminal device to carry out a light-on or light-off operation according to the determined light-on electric level value or light-off electric level value.</p><p id="p0006" num="0006">Preferably, detecting the brightness of the working environment of the terminal device in real time to acquire the brightness signal of the working environment of the terminal device comprises: using a light sensitive characteristic of a photosensitive device set inside or around the terminal device to acquire the environment brightness signal of which the electric level value varies with the intensity of light.</p><p id="p0007" num="0007">Preferably, determining the current electric level value of the environment brightness signal according to the variation of the electric level value of the environment brightness signal within a preset duration comprises: calculating the variation according to a plurality of electric level values of the environment brightness signal acquired by the photosensitive device within the preset duration; and if the calculated variation is smaller than a preset variation, determining any one of the acquired electric level values as the current electric level value.</p><p id="p0008" num="0008">Preferably, determining the current electric level value as the light-on electric level value or the light-off electric level value according to the preset threshold comprises: comparing the current electric level value with the preset threshold; if<!-- EPO <DP n="3"> --> the current electric level value is greater than the preset threshold, determining the current electric level value as the light-on electric level value; and if the current electric level value equals to or is smaller than the preset threshold, determining the current electric level value as the light-off electric level value.</p><p id="p0009" num="0009">Preferably, the photosensitive device is a photosensitive resistor or photosensitive diode, and the photosensitive device transmits the electric level value of the environment brightness signal acquired using the light sensitive characteristic thereof to a PCI bus of the terminal device.</p><p id="p0010" num="0010">Preferably, calculating the variation according to the plurality of electric level values of the environment brightness signal acquired by the photosensitive device within the preset duration comprises: successively reading the plurality of electric level values on the PCI bus within a preconfigured time length of a timer; taking one of the read electric level values as a reference electric level value; and acquiring difference values or variation ratios between other electric level values that are read and the reference electric level value, and taking the largest difference value or variation ratio therein as the variation.</p><p id="p0011" num="0011">Preferably, controlling the state indicator of the terminal device to carry out the light-on or light-off operation according to the determined light-on electric level value or light-off electric level value comprises: acquiring an operating state of the state indicator of the terminal device; in the case that the acquired operating state of the state indicator of the terminal device is a light-on state, if the current electric level value is determined as the light-on electric level value, keeping the light-on state of the state indicator of the terminal device; otherwise, switching the operating state of the state indicator of the terminal device into a light-off state; and in the case that the acquired operating state of the state indicator of the terminal device is the light-off state, if the current electric level value is determined as the light-on electric level value, switching the operating state of the state indicator of the terminal device into the light-on state; otherwise, keeping the light-off state of the state indicator of the terminal device.</p><p id="p0012" num="0012">According to a second aspect of the embodiments of the present invention, a device for automatically controlling a state indicator of a terminal device provided<!-- EPO <DP n="4"> --> by the embodiments of the present invention comprises: a brightness signal acquisition component configured to detect brightness of a working environment of a terminal device in real time to acquire a brightness signal of the working environment of the terminal device; a brightness signal current electric level value determination component configured to determine a current electric level value of the brightness signal according to a variation of the electric level value of the brightness signal within a preset duration; a light-on and light-off electric level value determination component configured to determine the current electric level value as a light-on electric level value or a light-off electric level value by using a preset threshold; and an indicator control component configured to control the state indicator of the terminal device to carry out a light-on or light-off operation according to the determined light-on electric level value or light-off electric level value.</p><p id="p0013" num="0013">Preferably, the brightness signal acquisition component is a photosensitive device set inside or around the terminal device and is configured to use a light sensitive characteristic thereof to acquire the environment brightness signal of which the electric level value varies with the intensity of light.</p><p id="p0014" num="0014">Preferably, the brightness signal current electric level value determination component comprises: a calculation element configured to calculate the variation according to a plurality of electric level values of the environment brightness signal acquired by the photosensitive device within the preset duration; and a determination element configured to determine any one of the acquired electric level values as the current electric level value if the calculated variation is smaller than a preset variation.</p><p id="p0015" num="0015">With respect to the prior art, the beneficial technical effect of the embodiments of the present invention is: using the working environment brightness of the terminal device to automatically control the light-on or light-off operation of the state indicator of the terminal device avoids the disturbance of the state indicator to the user.<!-- EPO <DP n="5"> --></p><heading id="h0004"><b>Brief Description of the Drawings</b></heading><p id="p0016" num="0016"><ul><li><figref idrefs="f0001">Fig. 1</figref> is a schematic diagram of a device for automatically controlling a state indicator of a terminal device according to a first embodiment of the present invention;</li><li><figref idrefs="f0001">Fig. 2</figref> is a schematic diagram of a method for automatically controlling a state indicator of a terminal device according to an embodiment of the present invention;</li><li><figref idrefs="f0002">Fig. 3</figref> is a schematic diagram of a device for automatically controlling a state indicator of a terminal device according to a second embodiment of the present invention; and</li><li><figref idrefs="f0003">Fig. 4</figref> is a flowchart for automatically controlling a state indicator of a terminal device by using a PCI bus according to an embodiment of the present invention.</li></ul></p><heading id="h0005"><b>Detailed Description of the Embodiments</b></heading><p id="p0017" num="0017">Below is the description of a method and device for automatically avoiding disturbance of a state indicator of a terminal device provided by the embodiments of the present invention with reference to the accompanying drawings.</p><p id="p0018" num="0018"><figref idrefs="f0001">Fig. 1</figref> is a schematic diagram of a device for automatically controlling a state indicator of a terminal device according to an embodiment of the present invention. As shown in <figref idrefs="f0001">Fig. 1</figref>, the device in the embodiment comprises:
<ul><li>a brightness signal acquisition component configured to detect brightness of a working environment around a terminal device in real time to acquire a brightness signal of the working environment of the terminal device;</li><li>a brightness signal current electric level value determination component configured to determine a current electric level value of the brightness signal according to a variation between (a plurality of) electric level values of the brightness signal within a preset duration (i.e. a variation between each of the plurality of electric level values and a reference electric level value within the duration; the variation may be either a difference value between the brightness signal electric level value and the reference electric level value or a variation ratio<!-- EPO <DP n="6"> --> of the brightness signal electric level value to the reference electric level value);</li><li>a light-on and light-off electric level value determination component configured to determine the current electric level value as a light-on electric level value (e.g. high electric level) or a light-off electric level value (e.g. low electric level) according to a preset threshold; and</li><li>an indicator control component configured to control the state indicator of the terminal device to carry out a light-on or light-off operation according to the determined light-on electric level value or light-off electric level value.</li></ul></p><p id="p0019" num="0019">The above-mentioned brightness signal acquisition component is a photosensitive device set inside or around the terminal device, for example, a photosensitive resistor or photosensitive diode which uses a light sensitive characteristic thereof to acquire the brightness signal of which the electric level value varies with the intensity of light.</p><p id="p0020" num="0020">The light sensitive characteristic of a photosensitive resistor or photosensitive diode usually means that: in a dark environment, the resistance value thereof is very high, and when illuminated by the light, as long as the photon energy is greater than the width of a valence band of semiconductor material, electrons in the valence band may transition to the conduction band after absorbing the energy of a photon and produce a hole of positive charge in the valence band, and this type of electron-hole pair produced by illumination increases the number of carriers in the semiconductor material and diminishes the resistivity thereof, thereby causing the resistance value thereof to decline. The stronger the illumination, the lower the resistance value. After the incident light disappears, the electron-hole pair produced by the excitation of the photon will gradually recombine and the resistance value thereof also gradually restores to the original value.</p><p id="p0021" num="0021">As the photosensitive resistor or photosensitive diode changes the electric current thereof by inducing the intensity of external light, the embodiments of the present invention may acquire a brightness signal of the working environment.</p><p id="p0022" num="0022">The above-mentioned brightness signal current electric level value determination component comprises: a calculation element (not shown in the figure) configured to calculate a variation between a plurality of electric level values of the<!-- EPO <DP n="7"> --> environment brightness signal acquired by the photosensitive device within the preset duration; and a current electric level value determination element (not shown in the figure) configured to take any one of the acquired electric level values as the current electric level value based on that the calculated variation is smaller than a preset variation.</p><p id="p0023" num="0023">The above-mentioned light-on and light-off electric level value determination component comprises: a comparison element (not shown in the figure) configured to compare the current electric level value with the preset threshold; a light-on and light-off electric level value determination element (not shown in the figure) configured to take the current electric level value as the light-on electric level value when the current electric level value is greater than the preset threshold, and take the current electric level value as the light-off electric level value if the current electric level value equals to or is smaller than the preset threshold.</p><p id="p0024" num="0024"><figref idrefs="f0001">Fig. 2</figref> is a schematic diagram of a method for automatically controlling a state indicator of a terminal device according to an embodiment of the present invention. As shown in <figref idrefs="f0001">Fig. 2</figref>, the method comprises the following steps of:
<ul><li>step A, detecting the brightness of a working environment of a terminal device in real time to acquire a brightness signal of the working environment of the terminal device;</li><li>step B, determining a current electric level value of the brightness signal according to a variation of the electric level value of the brightness signal within a preset duration;</li><li>step C, taking the current electric level value as a light-on electric level value or a light-off electric level value according to a preset threshold; and</li><li>step D, controlling the state indicator of the terminal device to carry out a light-on or light-off operation according to the determined light-on electric level value or light-off electric level value.</li></ul></p><p id="p0025" num="0025">The above-mentioned step A comprises: using a light sensitive characteristic of a photosensitive device set inside or around the terminal device to acquire the environment brightness signal of which the electric level value thereof varies with the intensity of light.<!-- EPO <DP n="8"> --></p><p id="p0026" num="0026">The above-mentioned step B comprises: step B1, calculating a variation of a plurality of electric level values of the environment brightness signal acquired by the photosensitive device within the preset duration; and step B2, if the calculated variation is smaller than a preset variation, determining any one of the acquired electric level values as the current electric level value.</p><p id="p0027" num="0027">The above-mentioned step C comprises: step C1, comparing the current electric level value with the preset threshold; step C2, if the current electric level value is greater than the preset threshold, determining the current electric level value as the light-on electric level value; and step C3, if the current electric level value equals to or is smaller than the preset threshold, determining the current electric level value as the light-off electric level value.</p><p id="p0028" num="0028">In a specific instance, the above-mentioned photosensitive device is a photosensitive resistor or photosensitive diode, and the photosensitive device transmits the electric level value of the environment brightness signal acquired according to the light sensitive characteristic thereof to a Peripheral Component Interconnect (abbreviated as PCI) bus of the terminal device.</p><p id="p0029" num="0029">The above-mentioned step B1 comprises: successively reading the plurality of electric level values on the PCI bus within a preconfigured timer length; taking one of the read electric level values as a reference electric level value; and acquiring difference values or variation ratios between other electric level values that are read and the reference electric level value, and taking the largest difference value or variation ratio therein as the variation.</p><p id="p0030" num="0030">The above-mentioned step D comprises: step D1, acquiring an operating state of the state indicator of the terminal device; step D2, in the case that the acquired operating state of the state indicator of the terminal device is a light-on state, if the current electric level value is determined as the light-on electric level value, keeping the light-on state of the state indicator of the terminal device; otherwise, switching the operating state of the state indicator of the terminal device into a light-off state; and step D3, in the case that the acquired operating state of the state indicator of the terminal device is the light-off state, if the current electric level value is determined as the light-on electric level value, switching the operating state of the state<!-- EPO <DP n="9"> --> indicator of the terminal device into the light-on state; otherwise, keeping the light-off state of the state indicator of the terminal device.</p><p id="p0031" num="0031"><figref idrefs="f0002">Fig. 3</figref> is a schematic diagram of a device for automatically controlling a state indicator of a terminal device according to a second embodiment of the present invention. As shown in <figref idrefs="f0002">Fig. 3</figref>, the device comprises a PCI read-write electric level component and a switch control component.</p><p id="p0032" num="0032">The PCI read-write electric level component regularly reads the variation of the pin electric level of the photosensitive resistor or photosensitive diode by means of a PCI bus to judge the working environment of the user and to determine whether to turn on or turn off the state indicator, i.e. determining the current electric level value of the brightness signal according to the electric level variation, and judging the working environment of the user by comparing same with the preset threshold. For example, the current electric level value which is greater than the preset threshold is determined as the light-on electric level value and, at the same time, the working environment of the user is judged as an environment where the indicator may be turned on; alternatively, the current electric level value which equals to or is smaller than the preset threshold is determined as the light-off electric level value and, at the same time, the working environment of the user is judged as an environment where the indicator is turned off.</p><p id="p0033" num="0033">By reading the current operating state of all state indicators, the switch control component controls the indicator function component as shown in <figref idrefs="f0002">Fig. 3</figref> to perform a corresponding control on the indicator according to the light-on electric level value or light-off electric level value outputted by the PCI read-write electric level component.</p><p id="p0034" num="0034"><figref idrefs="f0003">Fig. 4</figref> is a flowchart for automatically controlling a state indicator of a terminal device by using a PCI bus according to an embodiment of the present invention. As shown in <figref idrefs="f0003">Fig. 4</figref>, the flow comprises:
<ul><li>flow 401, the terminal device configures a timer for reading the electric level of a photosensitive resistor or photosensitive diode on the PCI bus, wherein the time length of the timer is generally 5 seconds or so by default, and a process scans the timer every 10 milliseconds to determine whether the timer expires. If the timer<!-- EPO <DP n="10"> --> expires, flow 401 is performed.</li></ul></p><p id="p0035" num="0035">Flow 402, the process reads the voltage level value of the photosensitive resistor or photosensitive diode on the PCI bus, and continually checks the variation of the electric level value in several periods, and if the range of variation is within 0.2 (0.2 times the rated electric level value), it means that the electric level value tends towards stability and it may be deemed that the electric level value within the time length of the timer remains the read value; if the range of variation is greater than 0.5 (0.5 times the rated electric level value), the electric level is recorded as a high electric level; otherwise, the electric level is recorded as a low electric level; the continued periods may be set here to, for example, 100 milliseconds.</p><p id="p0036" num="0036">Flow 403, if the voltage level value is a high electric level, it indicates that the working environment of the user has light and the user is probably using the terminal device for work; and the state of the state indicator of the working component is read.</p><p id="p0037" num="0037">Flow 404, if the voltage level value is a low electric level, it indicates that the working environment of the user has no light and is dark, and the user is probably at rest or is not using the device; and then the state of the state indicator of the working component is read.</p><p id="p0038" num="0038">Flow 405, if the state of the state indicator of the related working component is off, it is needed to enable the state indicator function component to turn the state indicator on, end this flow and go into the next timer.</p><p id="p0039" num="0039">Flow 406, as flow 403 judges, if the state of the state indicator of the related working component is on; as flow 404 judges, if the state of the indicator of the related working component is off, then the system does not perform any operation on the state indicator of the current working component, ends this flow and goes into the next period.</p><p id="p0040" num="0040">Flow 407, if the state of the state indicator of the related working component is on, the state indicator function component is enabled to turn the state indicator off, end the flow and go into the next period.</p><p id="p0041" num="0041">The working principle of the flow may be summarized as: a photosensitive resistor or photosensitive diode induces the intensity of external light to change its<!-- EPO <DP n="11"> --> electric current, and the real electric level variation may be read via a PCI bus, which ranges from 0 to 1 (i.e. the rated electric level value). If the range of variation of the electric level value is within 0.2 (i.e. 0.2 times the rated electric level value) within the duration (e.g. 200 milliseconds), it may be deemed that the electric level value remains unchanged within the period (a time interval for reading the variation of the electric level on the PCI bus), and if the value thereof is greater than 0.5 (i.e. 0.5 times the rated electric level value), the electric level value is regarded as a high electric level; otherwise, the electric level value is regarded as a low electric level; and then whether to turn on or off the state indicator may be determined according to the operating state of the component corresponding to the state indicator. The structure of the device for controlling the state indicator comprises: a PCI read-write component, a switch control component, and an indicator function component. The system regularly reads the variation of the electric level of the photosensitive resistor or photosensitive diode by means of the PCI read-write electric level component, learns about the external state of the photosensitive resistor or photosensitive diode, and informs the switch control component to determine whether to enable the indicator function component to realize the light-on or light-off function.</p><p id="p0042" num="0042">It is to be noted that the terminal device mentioned in the embodiments of the present invention comprises Passive Optical Network (PON) terminals, home gateways, electric power modems, set top boxes, and other home used devices.</p><p id="p0043" num="0043">To sum up, the embodiments of the present invention automatically control the light-on or light-off operation of a state indicator of a terminal device by using the brightness of a working environment of the terminal device, thereby avoiding the disturbance of the state indicator to the user.</p><p id="p0044" num="0044">Although above is a detailed description of the present invention, the present invention is not limited thereto, and a person skilled in the art can make all kinds of modifications according to the principle of the present invention. Therefore, it should be understood that any modification made according to the principle of the present invention falls into the scope of protection of the present invention.<!-- EPO <DP n="12"> --></p><heading id="h0006"><b>Industrial Applicability</b></heading><p id="p0045" num="0045">The technical solution of the embodiments of the present invention can be applicable to the field of terminal devices and solves the disturbance of a state indicator to a user.</p></description><claims mxw-id="PCLM90459092" lang="EN" load-source="patent-office"><!-- EPO <DP n="13"> --><claim id="c-en-0001" num="0001"><claim-text>A method for automatically controlling a state indicator of a terminal device, <b>characterized by</b> comprising:
<claim-text>detecting brightness of a working environment of a terminal device in real time to acquire a brightness signal of the working environment of the terminal device;</claim-text>
<claim-text>determining a current electric level value of the brightness signal according to a variation of the electric level value of the brightness signal within a preset duration;</claim-text>
<claim-text>determining the current electric level value as a light-on electric level value or a light-off electric level value according to a preset threshold; and</claim-text>
<claim-text>controlling the state indicator of the terminal device to carry out a light-on or light-off operation according to the determined light-on electric level value or light-off electric level value.</claim-text></claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>The method according to claim 1, <b>characterized in that</b> detecting the brightness of the working environment of the terminal device in real time to acquire the brightness signal of the working environment of the terminal device comprises:
<claim-text>using a light sensitive characteristic of a photosensitive device, which is set inside or around the terminal device, to acquire the brightness signal of which the electric level value varies with the intensity of light.</claim-text></claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>The method according to claim 2, <b>characterized in that</b> determining the current electric level value of the brightness signal according to the variation of the electric level value of the environment brightness signal within the preset duration comprises:
<claim-text>calculating the variation according to a plurality of electric level values of the brightness signal acquired by the photosensitive device within the preset duration; and<!-- EPO <DP n="14"> --></claim-text>
<claim-text>based on that the calculated variation is smaller than a preset variation, determining any one of the acquired electric level values as the current electric level value.</claim-text></claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>The method according to claim 3, <b>characterized in that</b> determining the current electric level value as the light-on electric level value or the light-off electric level value according to the preset threshold comprises:
<claim-text>comparing the current electric level value with the preset threshold;</claim-text>
<claim-text>based on that the current electric level value is greater than the preset threshold, determining the current electric level value as the light-on electric level value; and</claim-text>
<claim-text>based on that the current electric level value equals to or is smaller than the preset threshold, determining the current electric level value as the light-off electric level value.</claim-text></claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>The method according to claim 3, <b>characterized in that</b> the photosensitive device is a photosensitive resistor or photosensitive diode, and the photosensitive device transmits, using the light sensitive characteristic, the electric level value of the environment brightness signal acquired to a PCI bus of the terminal device.</claim-text></claim><claim id="c-en-0006" num="0006"><claim-text>The method according to claim 5, <b>characterized in that</b> calculating the variation according to the plurality of electric level values of the brightness signal acquired by the photosensitive device within the preset duration comprises:
<claim-text>successively reading the plurality of electric level values on the PCI bus within a preconfigured time length of a timer;</claim-text>
<claim-text>taking one of the read electric level values as a reference electric level value; and</claim-text>
<claim-text>acquiring difference values or variation ratios between other electric level values that are read and the reference electric level value and taking the largest difference value or variation ratio as the variation.</claim-text><!-- EPO <DP n="15"> --></claim-text></claim><claim id="c-en-0007" num="0007"><claim-text>The method according to claim 4, <b>characterized in that</b> controlling the state indicator of the terminal device to carry out the light-on or light-off operation according to the determined light-on electric level value or light-off electric level value comprises:
<claim-text>acquiring an operating state of the state indicator of the terminal device;</claim-text>
<claim-text>in the case that the acquired operating state of the state indicator of the terminal device is a light-on state, based on that the current electric level value is determined as the light-on electric level value, keeping the light-on state of the state indicator of the terminal device; based on that the current electric level value is determined as the light-off electric level value, switching the operating state of the state indicator of the terminal device into a light-off state; and</claim-text>
<claim-text>in the case that the acquired operating state of the state indicator of the terminal device is the light-off state, based on that the current electric level value is determined as the light-on electric level value, switching the operating state of the state indicator of the terminal device into the light-on state; based on that the current electric level value is determined as the light-off electric level value , keeping the light-off state of the state indicator of the terminal device.</claim-text></claim-text></claim><claim id="c-en-0008" num="0008"><claim-text>A device for automatically controlling a state indicator of a terminal device, <b>characterized by</b> comprising:
<claim-text>a brightness signal acquisition component configured to detect brightness of a working environment of a terminal device in real time to acquire a brightness signal of the working environment of the terminal device;</claim-text>
<claim-text>a brightness signal current electric level value determination component configured to determine a current electric level value of the brightness signal according to a variation of the electric level value of the brightness signal within a preset duration;</claim-text>
<claim-text>a light-on and light-off electric level value determination component configured to determine the current electric level value as a light-on electric level value or a light-off electric level value according to a preset threshold; and</claim-text>
<claim-text>an indicator control component configured to control the state indicator of the<!-- EPO <DP n="16"> --> terminal device to carry out a light-on or light-off operation according to the determined light-on electric level value or light-off electric level value.</claim-text></claim-text></claim><claim id="c-en-0009" num="0009"><claim-text>The device according to claim 8, <b>characterized in that</b> the brightness signal acquisition component is a photosensitive device set inside or around the terminal device and is configured to use a light sensitive characteristic of the photosensitive device to acquire the brightness signal of which the electric level value varies with the intensity of light.</claim-text></claim><claim id="c-en-0010" num="0010"><claim-text>The device according to claim 9, <b>characterized in that</b> the brightness signal current electric level value determination component comprises:
<claim-text>a calculation element configured to calculate the variation according to a plurality of electric level values of the environment brightness signal acquired by the photosensitive device within the preset duration; and</claim-text>
<claim-text>a determination element configured to determine any one of the acquired electric level values as the current electric level value based on that the calculated variation is smaller than a preset variation.</claim-text></claim-text></claim></claims><drawings mxw-id="PDW20421831" load-source="patent-office"><!-- EPO <DP n="17"> --><figure id="f0001" num="1,2"><img id="if0001" file="imgf0001.tif" wi="165" he="209" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="18"> --><figure id="f0002" num="3"><img id="if0002" file="imgf0002.tif" wi="165" he="103" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="19"> --><figure id="f0003" num="4"><img id="if0003" file="imgf0003.tif" wi="165" he="127" img-content="drawing" img-format="tif"/></figure></drawings><search-report-data><doc-page id="srep0001" file="srep0001.tif" wi="165" he="233" type="tif"/><doc-page id="srep0002" file="srep0002.tif" wi="165" he="232" type="tif"/></search-report-data><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
