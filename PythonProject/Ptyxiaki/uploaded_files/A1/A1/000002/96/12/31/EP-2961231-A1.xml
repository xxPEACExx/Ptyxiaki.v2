<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2961231-A1" country="EP" doc-number="2961231" kind="A1" date="20151230" family-id="51370815" file-reference-id="315975" date-produced="20180824" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="160451111" ucid="EP-2961231-A1"><document-id><country>EP</country><doc-number>2961231</doc-number><kind>A1</kind><date>20151230</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-13875815-A" is-representative="YES"><document-id mxw-id="PAPP193865190" load-source="docdb" format="epo"><country>EP</country><doc-number>13875815</doc-number><kind>A</kind><date>20130820</date><lang>ZH</lang></document-id><document-id mxw-id="PAPP193865191" load-source="patent-office" format="original"><country>EP</country><doc-number>13875815.6</doc-number><date>20130820</date><lang>ZH</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC162030294" ucid="CN-2013081828-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>CN</country><doc-number>2013081828</doc-number><kind>W</kind><date>20130820</date></document-id></priority-claim><priority-claim mxw-id="PPC162035093" ucid="CN-201310057032-A" load-source="docdb"><document-id format="epo"><country>CN</country><doc-number>201310057032</doc-number><kind>A</kind><date>20130222</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-1965251623" load-source="docdb">H04W  64/00        20090101AFI20160225BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1615424107" load-source="docdb" scheme="CPC">H04W  64/006       20130101 LA20180714BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1615424108" load-source="docdb" scheme="CPC">H01Q  25/002       20130101 LA20180713BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1615424109" load-source="docdb" scheme="CPC">H01Q   3/2623      20130101 LA20180713BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1615424110" load-source="docdb" scheme="CPC">H01Q   1/1257      20130101 LA20180713BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1615424111" load-source="docdb" scheme="CPC">G01S   3/143       20130101 LI20180713BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1615424112" load-source="docdb" scheme="CPC">G01S   3/06        20130101 LA20180713BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1984019821" load-source="docdb" scheme="CPC">G01S   3/58        20130101 FI20160114BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987789266" load-source="docdb" scheme="CPC">G01S   3/28        20130101 LI20150930BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT165544799" lang="DE" load-source="patent-office">WINKELBESTIMMUNGSSYSTEM UND -VERFAHREN</invention-title><invention-title mxw-id="PT165544800" lang="EN" load-source="patent-office">ANGLE DETERMINING SYSTEM AND METHOD</invention-title><invention-title mxw-id="PT165544801" lang="FR" load-source="patent-office">SYSTÈME ET PROCÉDÉ DE DÉTERMINATION D'ANGLE</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR1103315674" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>ZTE CORP</last-name><address><country>CN</country></address></addressbook></applicant><applicant mxw-id="PPAR1103303608" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>ZTE CORPORATION</last-name></addressbook></applicant><applicant mxw-id="PPAR1101646505" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>ZTE Corporation</last-name><iid>101115168</iid><address><street>ZTE Plaza Keji Road South Hi-Tech Industrial Park Nanshan District</street><city>Shenzhen, Guangdong 518057</city><country>CN</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR1103312590" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>LI CHAO</last-name><address><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR1103311190" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>LI, CHAO</last-name></addressbook></inventor><inventor mxw-id="PPAR1101650819" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>LI, CHAO</last-name><address><street>ZTE Plaza Keji Road South Hi-Tech Industrial Park Nanshan District</street><city>Shenzhen Guangdong 518057</city><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR1103323300" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>LENG WEN</last-name><address><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR1103309439" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>LENG, Wen</last-name></addressbook></inventor><inventor mxw-id="PPAR1101646005" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>LENG, Wen</last-name><address><street>ZTE Plaza Keji Road South Hi-Tech Industrial Park Nanshan District</street><city>Shenzhen Guangdong 518057</city><country>CN</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR1101651577" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Deambrogi, Edgardo</last-name><suffix>et al</suffix><iid>100051714</iid><address><street>Jacobacci &amp; Partners S.p.A. Corso Emilia 8</street><city>10152 Torino</city><country>IT</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="CN-2013081828-W"><document-id><country>CN</country><doc-number>2013081828</doc-number><kind>W</kind><date>20130820</date><lang>ZH</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2014127612-A1"><document-id><country>WO</country><doc-number>2014127612</doc-number><kind>A1</kind><date>20140828</date><lang>ZH</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS660781688" load-source="docdb">AL</country><country mxw-id="DS660603011" load-source="docdb">AT</country><country mxw-id="DS660603324" load-source="docdb">BE</country><country mxw-id="DS660604045" load-source="docdb">BG</country><country mxw-id="DS660604236" load-source="docdb">CH</country><country mxw-id="DS660603325" load-source="docdb">CY</country><country mxw-id="DS660606225" load-source="docdb">CZ</country><country mxw-id="DS660781690" load-source="docdb">DE</country><country mxw-id="DS660603326" load-source="docdb">DK</country><country mxw-id="DS660603327" load-source="docdb">EE</country><country mxw-id="DS660605726" load-source="docdb">ES</country><country mxw-id="DS660604046" load-source="docdb">FI</country><country mxw-id="DS660604055" load-source="docdb">FR</country><country mxw-id="DS660781691" load-source="docdb">GB</country><country mxw-id="DS660603328" load-source="docdb">GR</country><country mxw-id="DS660781692" load-source="docdb">HR</country><country mxw-id="DS660606226" load-source="docdb">HU</country><country mxw-id="DS660604237" load-source="docdb">IE</country><country mxw-id="DS660603329" load-source="docdb">IS</country><country mxw-id="DS660604056" load-source="docdb">IT</country><country mxw-id="DS660603330" load-source="docdb">LI</country><country mxw-id="DS660604057" load-source="docdb">LT</country><country mxw-id="DS660603012" load-source="docdb">LU</country><country mxw-id="DS660604058" load-source="docdb">LV</country><country mxw-id="DS660604067" load-source="docdb">MC</country><country mxw-id="DS660603013" load-source="docdb">MK</country><country mxw-id="DS660603014" load-source="docdb">MT</country><country mxw-id="DS660605731" load-source="docdb">NL</country><country mxw-id="DS660605270" load-source="docdb">NO</country><country mxw-id="DS660605732" load-source="docdb">PL</country><country mxw-id="DS660604068" load-source="docdb">PT</country><country mxw-id="DS660606235" load-source="docdb">RO</country><country mxw-id="DS660604069" load-source="docdb">RS</country><country mxw-id="DS660605733" load-source="docdb">SE</country><country mxw-id="DS660604238" load-source="docdb">SI</country><country mxw-id="DS660605271" load-source="docdb">SK</country><country mxw-id="DS660605272" load-source="docdb">SM</country><country mxw-id="DS660603019" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA166479481" lang="EN" load-source="patent-office"><p id="pa01" num="0001">Provided are a system and a method for determining an angle. The method includes: determining differences between signal strengths of incident waves received by a first directional antenna of an anchor node from a tested node and signal strengths of incident waves received by a second directional antenna of the anchor node from the tested node at multiple angles, wherein the first directional antenna and the second directional antenna are mounted at a same point, and an area formed by the first directional antenna is partially superposed with an area formed by the second directional antenna; and taking an angle corresponding to a minimum difference in the differences as an angle between a line connecting the anchor node and the tested node and a horizontal reference line. The present technical solution solves the technical problem that a high positioning accuracy and a low complexity of a positioning device cannot be realized at the same time in the related arts and achieves the technical effect of positioning a target accurately when the positioning device is low in complexity.<img id="iaf01" file="imgaf001.tif" wi="126" he="75" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA166759293" lang="EN" source="EPO" load-source="docdb"><p>Provided are a system and a method for determining an angle. The method includes: determining differences between signal strengths of incident waves received by a first directional antenna of an anchor node from a tested node and signal strengths of incident waves received by a second directional antenna of the anchor node from the tested node at multiple angles, wherein the first directional antenna and the second directional antenna are mounted at a same point, and an area formed by the first directional antenna is partially superposed with an area formed by the second directional antenna; and taking an angle corresponding to a minimum difference in the differences as an angle between a line connecting the anchor node and the tested node and a horizontal reference line. The present technical solution solves the technical problem that a high positioning accuracy and a low complexity of a positioning device cannot be realized at the same time in the related arts and achieves the technical effect of positioning a target accurately when the positioning device is low in complexity.</p></abstract><description mxw-id="PDES98404182" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001"><b><u>Technical Field</u></b></heading><p id="p0001" num="0001">The present disclosure relates to the field of communications, specifically to a system and a method for determining an angle.</p><heading id="h0002"><b><u>Background</u></b></heading><p id="p0002" num="0002">With the rapid development of the positioning technology and the information technology, a Location-Based Service (LBS) has currently become an important part of the information services. When the outdoor positioning is mainly implemented by the Global Positioning System (GPS), the high-accuracy indoor positioning, as the positioning at the most detailed level, has accounted for an increasing proportion in the management of "digital city". According to investigation, services regarding to positioning requirements and potential applications may bring marketing income of up to billions of dollars every year in the future, including a large number of indoor high-accuracy positioning requirements.</p><p id="p0003" num="0003">The current short-distance positioning is classified into a range-based positioning and a range-free positioning. Considering the positioning principles of the two types of position, the range-based positioning has a higher accuracy than that of the range-free positioning. At present, the range-based positioning has become a main research direction of the short-distance positioning. The range-based positioning is carried out mainly based on the measurement and estimation of the following parameters: Received Signal Strength Indication (RSSI), Time Of Arrival (TOA) which reflects the transmission time of a signal between nodes, Time Difference of Arrival (TDOA) which represents the difference of the transmission time of a signal from a tested node to two anchor nodes, and Angle Of Arrival (AOA) which represents the angle information between nodes.<!-- EPO <DP n="2"> --></p><p id="p0004" num="0004">The above-mentioned positioning technologies are specifically described below.
<ol><li>1) AOA technology: AOA estimation is to estimate AOA by measuring the received signal of each antenna array element in one antenna array via a multi-antenna technology (also called intelligent antenna technology), and then estimate the location of an unknown node according to the AOA. The AOA technology requires the condition of multiple antennas, i.e., the condition of an antenna array, and also has a higher requirement to the processing of a baseband signal, therefore, the implementation for both the hardware and the algorithm is very complex.</li><li>2) TOA technology: TOA estimation is to estimate the distance between a receiving antenna and a transmitting antenna according to the time of propagation of a signal transmitted by the transmitting antenna between the transmitting antenna and the receiving antenna. To estimate the propagation of a radio wave, especially the short-distance propagation of the radio wave, it is required that the receiving and the transmitting antennas should be in a very accurate synchronization relationship and the receiving antenna should have a very accurate clock, otherwise, a very small time difference may cause a very large distance error.</li><li>3) TDOA technology: TDOA estimation is to perform an estimation based on the difference of time when a radio wave transmitted by the transmitting antenna arrives at different receiving antennas and is developed from the TOA technology. Since the analyzed object is the time difference instead of absolute arrival time required by the TOA, the requirement on strict time synchronization in the TOA technology is reduced. However, the distance between the receiving antenna and the transmitting antenna is estimated according to a time parameter, therefore, the short-distance positioning still has a very high requirement to the accuracy of the clock of the receiving antenna.</li><li>4) RSSI technology: the RSSI technology is to estimate the distance<!-- EPO <DP n="3"> --> between the receiving antenna and the transmitting antenna according to the RSSI received by the receiving antenna from the transmitting antenna mainly according to the principle that the RSSI and the distance are in an inverse proportion. The receiving antenna can extract the RSSI very easily, therefore, the RSSI technology is the most common short-distance positioning technology at present, but the technology has the defects of low accuracy and poor stability.</li></ol></p><p id="p0005" num="0005">To solve the problem, there is still no effective solution yet.</p><heading id="h0003"><b><u>Summary</u></b></heading><p id="p0006" num="0006">Embodiments of the present disclosure provide a system and a method for determining an angle, in order to at least solve the technical problem that a high positioning accuracy and a low complexity of a positioning device cannot be realized at the same time in the related arts.</p><p id="p0007" num="0007">In one aspect, an embodiment of the present disclosure provides a system for determining an angle, including: an anchor node, a driver and a data processor, wherein the anchor node includes a first directional antenna and a second directional antenna; the first directional antenna and the second directional antenna are mounted at a same point, and an area formed by the first directional antenna is partially superposed with an area formed by the second directional antenna; the driver is coupled with the anchor node and is configured to drive the first directional antenna and the second directional antenna to rotate according to a predetermined angle with the anchor node as a center and a horizontal line, which is parallel to a horizontal plane and points to a predetermined direction, as a horizontal reference line to receive incident waves from a tested node at multiple angles; and the data processor is coupled with the anchor node and is configured to compute differences between signal strengths of incident waves received by the first directional antenna and signal strengths of incident waves received by the second directional antenna at the multiple angles, and determine an angle between a<!-- EPO <DP n="4"> --> line connecting the anchor node and the tested node and the horizontal reference line according to the differences at the multiple angles.</p><p id="p0008" num="0008">In an example embodiment, the data processor is configured to take an angle corresponding to a minimum difference in the differences as the angle between the line connecting the anchor node and the tested node and the horizontal reference line.</p><p id="p0009" num="0009">In an example embodiment, the anchor node further includes: an omnidirectional antenna which is configured to receive incident waves from the tested node; and the data processor is further configured to determine whether the incident waves received by the first directional antenna and the second directional antenna are direct waves according to the incident waves received by the omnidirectional antenna.</p><p id="p0010" num="0010">In an example embodiment, the driver is an angle stepping motor.</p><p id="p0011" num="0011">In an example embodiment, the driver is configured to drive the first directional antenna and the second directional antenna to rotate within an angle range of 0 to 180 DEG at a step of 0.225 DEG.</p><p id="p0012" num="0012">In an example embodiment, the system for determining the angle is a positioning system.</p><p id="p0013" num="0013">In another aspect, an embodiment of the present disclosure provides a method for determining an angle, including: differences between signal strengths of incident waves received by a first directional antenna of an anchor node from a tested node and signal strengths of incident waves received by a second directional antenna of the anchor node from the tested node at multiple angles are determined, wherein the first directional antenna and the second directional antenna are mounted at a same point, and an area formed by the first directional antenna is partially superposed with an area formed by the second directional antenna; and an angle corresponding to a minimum difference in the differences is taken as an angle between a line connecting the anchor node and the tested node and a horizontal reference line, wherein the horizontal reference line is a horizontal line which is parallel to a horizontal<!-- EPO <DP n="5"> --> plane and points to a predetermined direction.</p><p id="p0014" num="0014">In an example embodiment, before the differences of the signal strengths are determined, the method further includes: the anchor node is rotated within an angle range of 0 to 180 DEG with the anchor node as a center and a horizontal line parallel to the horizontal plane as the horizontal reference line so that the first directional antenna and the second directional antenna receive the incident waves sent by the tested node at multiple angles.</p><p id="p0015" num="0015">In an example embodiment, the step that the differences of the signal strengths are determined includes: direct waves are found from the incident waves received by the first directional antenna and the second directional antenna; and the differences of signal strengths of direct waves received by the first directional antenna and signal strengths of direct waves received by the second directional antenna at multiple angles are determined.</p><p id="p0016" num="0016">In an example embodiment, the step that direct waves are found from the incident waves received by the first directional antenna and the second directional antenna includes: incident waves received by an omnidirectional antenna are acquired; a direct wave is determined according to strengths of the incident waves received by the omnidirectional antenna; direct waves received by the first directional antenna and the second directional antenna at a point of time when the omnidirectional antenna receives the direct wave is taken as the direct waves in the incident waves received by the first directional antenna and the second directional antenna.</p><p id="p0017" num="0017">In an example embodiment, the step that the angle corresponding to the minimum difference in the differences is taken as the angle between the line connecting the anchor node and the tested node and the horizontal reference line includes: a curve is plotted for the differences of the signal strengths of the incident waves received at the multiple angles with the angles as the X-axis and the differences as the Y-axis; and an angle corresponding to a lowest point of the curve is taken as the angle between the line connecting the anchor node and the tested node and the horizontal reference line.<!-- EPO <DP n="6"> --></p><p id="p0018" num="0018">In an example embodiment, the method is applied to positioning.</p><p id="p0019" num="0019">In the embodiments of the present disclosure, two directional antennas which are mounted at a same point and are partially superposed are arranged in the anchor node to acquire the incident waves from the tested node at respective angles; then, an angle corresponding to a minimum difference in differences between signal strengths of incident waves received by a first directional antennas and signal strengths of incident waves received by a second directional antenna is taken as the angle of the tested node so as to position the tested node. In this way, the technical problem that a high positioning accuracy and a low complexity of a positioning device cannot be realized at the same time in the related arts is solved, and the technical effect of positioning a target accurately when the positioning device is low in complexity is achieved.</p><heading id="h0004"><b><u>Brief Description of the Drawings</u></b></heading><p id="p0020" num="0020">The drawings illustrated here are to provide further understanding of the present disclosure and constitute one part of the application, and the exemplary embodiments of the present disclosure and the explanations thereof are intended to explain the present disclosure, instead of improperly limiting the present disclosure. In the drawings:
<ul><li><figref idrefs="f0001">Fig. 1</figref> is an example structural block diagram of a positioning system according to an embodiment of the present disclosure;</li><li><figref idrefs="f0001">Fig. 2</figref> is an example diagram of an anchor node according to an embodiment of the present disclosure;</li><li><figref idrefs="f0001">Fig. 3</figref> is another example diagram of an anchor node according to an embodiment of the present disclosure;</li><li><figref idrefs="f0002">Fig. 4</figref> is another example diagram of an anchor node according to an embodiment of the present disclosure;</li><li><figref idrefs="f0002">Fig. 5</figref> is an example diagram of an anchor node provided with an omnidirectional antenna according to an embodiment of the present<!-- EPO <DP n="7"> --> disclosure;</li><li><figref idrefs="f0003">Fig. 6</figref> is an example flowchart of a positioning method according to an embodiment of the present disclosure;</li><li><figref idrefs="f0003">Fig. 7</figref> is a diagram showing a simulation result of a ray tracing method in which an RSSI difference changes along with the rotation angle of an anchor node according to an embodiment of the present disclosure;</li><li><figref idrefs="f0004">Fig. 8</figref> is a diagram showing an example hardware structure of a positioning testing system according to an embodiment of the present disclosure;</li><li><figref idrefs="f0004">Fig. 9</figref> is a diagram showing the flow from mounting to testing in a positioning method according to an embodiment of the present disclosure;</li><li><figref idrefs="f0005">Fig. 10</figref> is an example diagram showing the result of a double radiation pattern differencing processing according to an embodiment of the present disclosure;</li><li><figref idrefs="f0005">Fig. 11</figref> is a diagram showing another example hardware structure of a positioning testing system according to an embodiment of the present disclosure;</li><li><figref idrefs="f0006">Fig. 12</figref> is another example diagram of an anchor node provided with an omnidirectional antenna according to an embodiment of the present disclosure;</li><li><figref idrefs="f0006">Fig. 13</figref> is another example diagram of an anchor node provided with an omnidirectional antenna according to an embodiment of the present disclosure; and</li><li><figref idrefs="f0007">Fig. 14</figref> is another example diagram showing the result of a triple radiation pattern differencing processing according to an embodiment of the present disclosure.</li></ul></p><heading id="h0005"><b><u>Detailed Description of the Embodiments</u></b></heading><p id="p0021" num="0021">The present disclosure will be described below in combination with the drawings and embodiments in detail. It should be noted that, in case of no<!-- EPO <DP n="8"> --> conflict, the embodiments of the application and features therein can be combined with one another.</p><p id="p0022" num="0022">An embodiment of the present disclosure provides an example system for determining an angle. In the example embodiment, the system may be applied to positioning, namely, the system may be a positioning system. As shown in <figref idrefs="f0001">Fig. 1</figref>, the system includes an anchor node 102, a driver 104 and a data processor 106, which are specifically described below.
<ol><li>1) The anchor node 102 includes a first directional antenna and a second directional antenna, wherein the first directional antenna and the second directional antenna are mounted at a same point and an area formed by the first directional antenna and an area formed by the second directional antenna are partially superposed. For example, as shown in <figref idrefs="f0001">Fig. 2</figref>, the anchor node includes a radiation pattern 1 (i.e., the first directional antenna) and a radiation pattern 2 (i.e., the second directional antenna), wherein the two directional antennas are mounted at the same point, namely, the mounting points of the two directional antennas are superposed.</li><li>2) The driver 104 is coupled with the anchor node 102 and is configured to drive the first directional antenna and the second directional antenna to rotate according to a predetermined angle with the anchor node as a center and a horizontal line, which is parallel to a horizontal plane and points to a predetermined direction, as a horizontal reference line to receive incident waves from a tested node at multiple angles, wherein the horizontal reference line may be interpreted as a directional line when a stepping motor starts to rotate. In an example embodiment, one horizontal reference line is defined by one anchor node, and each horizontal reference line has a same direction (for example, the horizontal reference lines for various anchor nodes are uniformly defined to point to the due north). To implement positioning, generally, two or more anchor nodes are needed, and the horizontal reference lines defined by all the anchor nodes should horizontal lines pointing to the same direction and parallel to the horizontal plane.</li></ol><!-- EPO <DP n="9"> --></p><p id="p0023" num="0023">Namely, the driver drives the first directional antenna and the second directional antenna in the anchor node to rotate in a certain angle range at a predetermined step so that the two directional antennas of the anchor node can receive signals sent by a tested node at different angles. In this way, if the two antennas receive signals of the same strength from the tested node when rotating to a certain angle, the angle between the tested node and the horizontal reference line can be determined at the moment. As shown in <figref idrefs="f0001">Fig. 2</figref>, the signal strengths of incident waves from the tested node to the two directional antennas are the same, while the signal strengths of the incident waves shown in <figref idrefs="f0001">Figs. 3</figref> and <figref idrefs="f0002">4</figref> are different. In an example embodiment, the driver may drive the first antenna and the second antenna to rotate within an angle range of 0 to 180 DEG at a step of 0.225 DEG; whereas, this value is only an example embodiment and the anchor node may also be rotated according to other step sizes.
<ul><li>3) The data processor 106 is coupled with the anchor node 102 and is configured to compute differences between signal strengths of incident waves received by the first directional antenna and signal strengths of incident waves received by the second directional antenna at the multiple angles, and determine the angle between the line connecting the anchor node and the tested node and the horizontal reference line according to the differences at the multiple angles.</li></ul></p><p id="p0024" num="0024">In an example embodiment, because the rotation may be carried out at a predetermined angle step and the angle at which the signal strengths are completely the same may be missed during the rotation, the signal strengths of the corresponding incident waves in multiple angles may be determined and the angle corresponding to the minimum difference may be approximately taken as the angle of the tested node. In an example embodiment, the data processor is configured to take an angle corresponding to a minimum difference in the differences as the angle between the line connecting the anchor node and the tested node and the horizontal reference line. For the<!-- EPO <DP n="10"> --> definition of the angle, in order to simplify the operation and reduce the workload of the computation, the angle between the line connecting the mounting node of the two directional antennas and another intersection point in the superposed area of the two directional antennas and the horizontal reference line is 0 when they are superposed, then, the two directional antennas are rotated at an angle of 0 to 180 DEG, and the final rotation angle can be directly taken as the angle between the line connecting the anchor node and the tested node and the horizontal reference line.</p><p id="p0025" num="0025">In the example embodiment, two directional antennas which are mounted at a same point and are partially superposed are arranged in the anchor node to acquire the incident waves from the tested node at respective angles; then, the angle corresponding to the minimum difference of the signal strengths of the two directional antennas is taken as the angle of the tested node so as to position the tested node. In this way, the technical problem that a high positioning accuracy and a low complexity of a positioning device cannot be realized at the same time in the related arts is solved, and the technical effect of positioning a target accurately when the complexity of the positioning device is low is achieved.</p><p id="p0026" num="0026">In the actual application, particularly in a short-distance positioning, the environments of the receiving and transmitting antennas are generally very complex (such as in an administrative area), thus, a serious multipath interference can occur easily. However, for the design that the angles of the incident waves are judged through the difference of RSSI at two directional antennas, the received incident waves need to be direct waves from a tested node B to the anchor node; and if non-direct waves are taken as direct waves wrongly, a larger estimation error of the angle of the incident wave can be resulted. In an example embodiment, the anchor node further includes: an omnidirectional antenna which is configured to receive incident waves from the tested node; and the data processor is further configured to determine whether the incident waves received by the first directional antenna and the second<!-- EPO <DP n="11"> --> directional antenna are direct waves according to the incident waves received by the omnidirectional antenna. Namely, the omnidirectional antenna is added in the anchor node, as shown in <figref idrefs="f0002">Fig. 5</figref>, the omnidirectional antenna is mainly configured to distinguish the direct waves in a multipath environment. Due to the omnidirectional antenna, the confusion between the non-direct waves and the direct waves caused by the radiation patterns of the directional antennas shown in <figref idrefs="f0001">Fig. 2</figref> can be avoided. By using the omnidirectional antenna, after the input of a multipath signal including the direct wave, it can be judged which wave is the direct wave according to the strength of the incident waves so as to achieve the effect of reducing the positioning error.</p><p id="p0027" num="0027">In some example embodiments, the driver may be an angle stepping motor.</p><p id="p0028" num="0028">Another embodiment further provides an example method for determining an angle. In the example embodiment, the method may be applied to positioning, as shown in <figref idrefs="f0003">Fig. 6</figref>, the method includes the following steps:
<ul><li>Step S602: Differences between signal strengths of incident waves received by a first directional antenna of an anchor node from a tested node and signal strengths of incident waves received by a second directional antenna of the anchor node from the tested node at multiple angles are determined, wherein the first directional antenna and the second directional antenna are mounted at a same point, and an area formed by the first directional antenna is partially superposed with an area formed by the second directional antenna.</li><li>Step S604: An angle corresponding to a minimum difference in the differences is taken as an angle between a line connecting the anchor node and the tested node and a horizontal reference line, wherein the horizontal reference line is a horizontal line which is parallel to a horizontal plane and points to a predetermined direction.</li></ul></p><p id="p0029" num="0029">In an example embodiment, before the differences of the signal strengths are determined, the method further includes: the anchor node is rotated within<!-- EPO <DP n="12"> --> an angle range of 0 to 180 DEG with the anchor node as a center and a horizontal line parallel to the horizontal plane as the horizontal reference line so that the first directional antenna and the second directional antenna receive the incident waves sent by the tested node at multiple angles. Namely, the anchor node is driven to rotate to acquire the incident waves from the tested node at multiple angles.</p><p id="p0030" num="0030">To improve the positioning accuracy and avoid taking the non-direct waves as the direct waves, in an example embodiment, the step that the differences of the signal strengths are determined includes:
<ul><li>Step S1: Direct waves are found from the incident waves received by the first directional antenna and the second directional antenna.</li></ul></p><p id="p0031" num="0031">In an example embodiment, the step that direct waves are found from the incident waves received by the first directional antenna and the second directional antenna includes: incident waves received by an omnidirectional antenna are acquired; a direct wave is determined according to strengths of the incident waves received by the omnidirectional antenna; the direct waves received by the first directional antenna and the second directional antenna at a point of time when the omnidirectional antenna receives the direct wave as the direct waves in the incident waves received by the first directional antenna and the second directional antenna.</p><p id="p0032" num="0032">Step S2: The differences of signal strengths of direct waves received by the first directional antenna and signal strengths of direct waves received by the second directional antenna at multiple angles are determined.</p><p id="p0033" num="0033">The angle corresponding to the minimum difference may be determined by plotting a curve for the angles and the signal strengths. In an example embodiment, the step that the angle corresponding to the minimum difference is taken as the angle between the line connecting the anchor node and the tested node and the horizontal reference line includes: a curve is plotted for the differences of the signal strengths of the incident waves received at multiple angles with the angles as the X-axis and the differences as the Y-axis; and an<!-- EPO <DP n="13"> --> angle corresponding to a lowest point of the curve is taken as the angle between the line connecting the anchor node and the tested node and the horizontal reference line.</p><p id="p0034" num="0034">According to the introduction at the background of the present disclosure, it can be known that the existing short-distance positioning mainly adopts a signal strength technology. One of the root causes of using such a technology is that the technology is relatively easy to implement, sets a relatively low requirement on a positioning node device, and can meet the requirement of low design complexity of the positioning node device. However, the positioning technology based on signal strength has the defects of low positioning accuracy and poor stability, while the positioning technology based on AOA estimation or TOA estimation has the technical problem of high design complexity.</p><p id="p0035" num="0035">In the embodiments of the disclosure, the AOA-based technology and the signal-strength-based technology are combined so as to lower the technical requirement on the positioning node device on the premise of ensuring the high-accuracy positioning. By virtue of this technical solution, high accuracy, high stability and low complexity of the positioning node are combined efficiently.</p><p id="p0036" num="0036">The present disclosure is further described below in combination with several specific embodiments. However, it should be noted that the following example embodiments are only for the better description of the present disclosure instead of limiting the present disclosure improperly; moreover, the example embodiments can be combined with one another.</p><p id="p0037" num="0037">Several terms are described first before the description.</p><p id="p0038" num="0038">A tested node: which is an object being positioned in a positioning system and has a capability of transmitting a radio frequency signal.</p><p id="p0039" num="0039">An anchor node: which is a device configured in the positioning system to receive a signal from the tested node and position the tested node according to the radio frequency signal data received from the tested node.<!-- EPO <DP n="14"> --></p><p id="p0040" num="0040">A radiation pattern: which is a polar diagram taking an antenna as a center and representing the change of field intensity against azimuth.</p><p id="p0041" num="0041">A signal strength of arrival: which represents the strengths of radio frequency signals received in different incident angles in the radiation pattern.</p><p id="p0042" num="0042">The AOA is estimated by the manner using the two radiation patterns shown in <figref idrefs="f0001">Fig. 2</figref>. The anchor node A includes two directional antennas, and the two radiation patterns are partially superposed. When the antenna rotates to the direction shown in <figref idrefs="f0001">Fig. 2</figref>, a node B may generate a same signal strength in the two radiation patterns, and a node A can determine the angle according to the change of the signal strength differences of the signal received from the node B corresponding to the two different radiation patterns.</p><p id="p0043" num="0043"><figref idrefs="f0003">Fig. 7</figref> shows a simulation result of a ray tracing method in which the RSSI differences change along with the rotation angle of the anchor node with the diagram shown in <figref idrefs="f0001">Fig. 2</figref> as a simulated object, the environment is a rich multipath indoor environment, wherein the distance between the receiving antenna and the transmitting antenna is 20m. As shown from <figref idrefs="f0003">Fig. 7</figref>, when the two radiation patterns in <figref idrefs="f0001">Fig. 2</figref> do not rotate to the direction shown in <figref idrefs="f0001">Fig. 2</figref>, (for example, the positioning angle is 46 DEG), the RSSI difference between the two radiation patterns in <figref idrefs="f0003">Fig. 7</figref> is very large; and when the two radiation patterns in <figref idrefs="f0001">Fig. 2</figref> rotate to align to the unknown node B, the RRSI difference may form a steep acute angle in the result in <figref idrefs="f0003">Fig. 7</figref>, which facilitates the acquisition of a high-accuracy AOA easily for the subsequent data processing. The angle between the anchor node and the node can be determined by testing and finding the angle of the anchor node corresponding to the minimum value, and the location of the node can be positioned by the tested angles of a plurality of anchor nodes.</p><p id="p0044" num="0044">By the method using double radiation patterns, the estimation accuracy is improved greatly, the sensitivity for the beam width of an antenna radiation pattern is also reduced greatly, and the complexity of an estimation algorithm is simplified to a large extent.<!-- EPO <DP n="15"> --></p><p id="p0045" num="0045">In an example embodiment, a positioning testing system is provided, as shown in <figref idrefs="f0004">Fig. 8</figref>, the hardware part consists of the following parts:
<ol><li>1) a tested node, being provided with a wireless transmitting module;</li><li>2) an anchor node, mainly including two directional antennas, an angle stepping motor, two short-distance wireless receiving modules A, a control system, a two-way control and the like, and further including matching materials such as a serial port cable, an antenna mounting stem and so on;</li><li>3) a data processing computer (equivalent to the data processor 106), the software part of which includes the following parts: tested node software process, signal strength receiving module software process, anchor node control board software process, and data processing computer software process.</li></ol></p><p id="p0046" num="0046">A method using double radiation patterns based on the positioning testing system shown in <figref idrefs="f0004">Fig. 8</figref>, as shown in <figref idrefs="f0004">Fig. 9</figref>, includes the following steps S902 to S908:
<ul><li>Step S902: Device mounting:
<ul><li>Step S1: mounting antennas of the anchor node including two directional antennas in <figref idrefs="f0001">Fig. 2</figref>;</li><li>Step S2: mounting a stepping motor for driving the antennas of the anchor node to rotate;</li><li>Step S3: mounting a device which is used for measuring strength of arrival signal and connects the two directional antennas;</li><li>Step S4: arranging the tested node in the test area; and</li><li>Step S5: connecting and arranging a transmitting line between the signal strength measuring device and the data processing computer.</li></ul></li><li>Step S904: Device running:
<ul><li>Step S1: starting a node to be tested;</li><li>Step S2: starting a stepping motor driving the antennas of the anchor node to rotate;</li><li>Step S3: starting the device for measuring signal strength of arrival; and<!-- EPO <DP n="16"> --></li><li>Step S4: starting a computer for receiving data from the device for measuring signal strength of arrival.</li></ul></li><li>Step S906: Data measurement:
<ul><li>Step S1: the device for measuring signal strength of arrival measuring signal strength data; and</li><li>Step S2: transmitting and storing the signal strength data to a computer.</li></ul></li><li>Step S908: Data processing:
<ul><li>Step S1: a computer calculating the difference based on the received data representing the signal strength of arrival; and</li><li>Step S2: the computer estimates AOA according to the difference processing result, to obtain an angle corresponding to the minimum difference.</li></ul></li></ul></p><p id="p0047" num="0047">The specific location of the tested node can be finally computed according to the angle information and the location information of each anchor node.</p><p id="p0048" num="0048">Compared with the existing positioning method based on the RSSI technology, the above-mentioned method can improve the final positioning accuracy and stability to a large extent. Compared with the existing positioning method based on the AOA or TOA technology, the above-mentioned method can effectively reduce the high design index requirement on the tested node and the anchor node, achieves both high accuracy and low complexity, and has a very high project implementation feasibility.</p><p id="p0049" num="0049">For example,<br/>
when the anchor node rotates to the angle 1 in <figref idrefs="f0002">Fig. 4</figref>, the strength of the signal from the tested node acquired at the directional antenna 1 is A1, and the strength of the signal from the tested node acquired at the directional antenna 2 is B1;<br/>
when the anchor node rotates to the angle 2 in <figref idrefs="f0001">Fig. 2</figref>, the strength of the signal from the tested node acquired at the directional antenna 1 is A2, and the strength of the signal from the tested node acquired at the directional antenna 2 is B2; and<br/>
<!-- EPO <DP n="17"> -->when the anchor node rotates to the angle 3 in <figref idrefs="f0001">Fig. 3</figref>, the strength of the signal from the tested node acquired at the directional antenna 1 is A3, and the strength of the signal from the tested node acquired at the directional antenna 2 is B3.</p><p id="p0050" num="0050">The anchor node antenna rotates within an angle range of 0 to 180 DEG at a step of 0.225 DEG. The obtained difference processing result for the double radiation patterns is as shown in <figref idrefs="f0005">Fig. 10</figref>. The final relative angle between the tested node and the anchor node is computed according to the analysis of the acute angle in the differencing result in <figref idrefs="f0005">Fig. 10</figref> and noise treatment, and the angle corresponding to the minimum difference is the angle between the anchor node and the tested node.</p><p id="p0051" num="0051">The AOA may also be estimated by three radiation patterns in <figref idrefs="f0002">Fig. 5</figref>. The anchor node A includes two directional antennas and one omnidirectional antenna, wherein the radiation patterns of the two directional antennas are partially superposed. When the antennas rotate to the directions as shown in <figref idrefs="f0002">Fig. 5</figref>, a node B may generate a same signal strength in the two radiation patterns, and a node A can determine the angle according to the change of the differences of the strengths of the signal received from the node B corresponding to the two different radiation patterns. The direction of the anchor node A corresponding to the minimum difference is the relative angle between the tested node and the anchor node.</p><p id="p0052" num="0052">However, since the multipath signals may be relatively rich in a short-distance positioning environment, if the angle is determined only through the directional antennas according to the signal strength of arrival, the signal strengths of some non-direct waves in the directional antennas may be higher than that of direct waves in the directional antennas. Thus, a reflected wave may be wrongly determined as the direct wave to carry out angle estimation, so that a larger estimation error may occur.</p><p id="p0053" num="0053">Considering that the embodiments of the present disclosure may be applied to a short-distance positioning design, and the multipath signals are<!-- EPO <DP n="18"> --> very rich in a short-distance environment, therefore, the omnidirectional antenna is added based on the design described above that the AOA is estimated via two directional antennas. The omnidirectional antenna is mainly used for distinguishing the direct wave in a multipath environment. Due to the omnidirectional antenna, the confusion between the non-direct wave and the direct wave caused by the radiation patterns of the directional antennas can be avoided. By virtue of the omnidirectional antenna, after the input of a multipath signal including the direct wave, which is the direct wave can be judged according to the strength of the incident wave.</p><p id="p0054" num="0054">The three antennas in <figref idrefs="f0002">Fig. 5</figref> are mounted at a same point, so that they can be regarded as one receiving point in a physical space theoretically, and the time when each incident wave in the multipath signal arrives at different antennas can be regarded as the same. For example, the time when the direct wave arrives at the omnidirectional antenna is just the time when the direct wave arrives at the two directional antennas, therefore, the corresponding signal strength extracted from the two directional antennas according to the arrival time of the direct wave extracted by the omnidirectional antenna also corresponds to the signal strength of arrival of the direct wave in the directional antennas. After the signal strength of arrival of the direct wave received by the directional antennas is extracted, the incident angle of the direct wave is estimated according to the method described above.</p><p id="p0055" num="0055">To sum up, the function of restraining multipath interference of the omnidirectional antenna in the anchor node formed by three antennas is very important for the short-distance environment with rich multipath signals.</p><p id="p0056" num="0056">In the example embodiment, as shown in <figref idrefs="f0005">Fig. 11</figref>, the hardware part of a positioning testing system consists of the following parts:
<ol><li>1) a tested node, being provided with a wireless transmitting module;</li><li>2) an anchor node, mainly including two directional antennas, one omnidirectional antenna, an angle stepping motor, a tri-channel short-distance wireless receiving module, a control system, a two-way control and the like,<!-- EPO <DP n="19"> --> and further including matching materials such as a serial port cable, an antenna mounting stem and so on;</li><li>3) a data processing computer (equivalent to the data processor 106), the software part of which includes the following parts: tested node software process, omnidirectional antenna direct wave incidence time extracting software process, directional signal strength receiving module software process, anchor node control board software process, and data processing computer software process.</li></ol></p><p id="p0057" num="0057">The operation of the positioning testing system based on <figref idrefs="f0005">Fig. 11</figref> is similar to that shown in <figref idrefs="f0004">Fig. 9</figref>, and the difference is as follows:
<ol><li>1) in the device mounting process in Step S902, the omnidirectional antenna is mounted and a non-rotatable fixed mounting stem is used to connect the omnidirectional antenna;</li><li>2) the data measurement in Step S906 further includes measuring the incidence time of direct wave corresponding to the omnidirectional antenna and measuring the signal strength of arrival corresponding to the directional antennas at the incidence time of direct wave. The directional antennas acquire the direct wave mainly according to the TOA of the direct wave estimated by virtue of the omnidirectional antenna.</li></ol></p><p id="p0058" num="0058">For example,</p><p id="p0059" num="0059">When the anchor node rotates to angle 1 in <figref idrefs="f0006">Fig. 12</figref>, according to the direct wave incidence time acquired by virtue of the omnidirectional antenna, the direct wave signal strength between the tested node and the anchor node acquired at the directional antenna 1 is A1, and the direct wave signal strength between the tested node and the anchor node acquired at the directional antenna 2 is B1.</p><p id="p0060" num="0060">When the anchor node rotates to angle 2 in <figref idrefs="f0002">Fig. 5</figref>, the tested node forms a direct wave receiving signal at the intersection point of two directional antenna radiation patterns, and according to the direct wave incidence time acquired by virtue of the omnidirectional antenna, the direct wave signal strength between<!-- EPO <DP n="20"> --> the tested node and the anchor node acquired at the directional antenna 1 is A2, and the direct wave signal strength between the tested node and the anchor node acquired at the directional antenna 2 is B2.</p><p id="p0061" num="0061">When the anchor node rotates to angle 3 in <figref idrefs="f0006">Fig. 13</figref>, according to the direct wave incidence time acquired by virtue of the omnidirectional antenna, the direct wave signal strength between the tested node and the anchor node acquired at the directional antenna 1 is A3, and the direct wave signal strength between the tested node and the anchor node acquired at the directional antenna 2 is B3.</p><p id="p0062" num="0062">As an example, the anchor node may rotate within an angle range of 0 to 180 DEG at a step of 1 DEG, then the result of the differencing processing based on the radiation patterns is as shown in <figref idrefs="f0007">Fig. 14</figref>, the final relative angle between the tested node and the anchor node is computed according to the analysis for the acute angle in the differencing result in <figref idrefs="f0007">Fig. 14</figref> and noise treatment, and the angle corresponding to the minimum difference is the angle between the anchor node and the tested node.</p><p id="p0063" num="0063">In another embodiment, software is further provided, which is configured to execute the technical solutions described in the embodiments and example embodiments above.</p><p id="p0064" num="0064">In another embodiment, a storage medium is further provided, in which the software is stored. The storage medium includes but is not limited to a compact disk, a floppy disk, a hard disk, an erasable memory and the like.</p><p id="p0065" num="0065">From what described above, it can be seen that the embodiments of the present disclosure have the following technical effects: two directional antennas which are mounted at a same point and are partially superposed are arranged in the anchor node to acquire the incident waves of the measured node at respective angles; then, the angle corresponding to the minimum difference of the signal strengths of the two directional antennas is taken as the angle of the measured node so as to position the measured node. In this way, the technical problem that a high positioning accuracy and a low complexity of<!-- EPO <DP n="21"> --> a positioning device cannot be realized at the same time in the related arts is solved, and the technical effect of positioning a target accurately when the complexity of the positioning device is low is achieved.</p><p id="p0066" num="0066">Obviously, those skilled in the art shall understand that the modules or steps of the present disclosure may be implemented by general computing apparatus and centralized in a single computing apparatus or distributed in a network consisting of multiple computing apparatus. Optionally, the modules or steps may be implemented by program codes executable by the computing apparatus, so that they may be stored in a storage apparatus and executed by the computing apparatus, and, in some cases, the steps can be executed in a sequence different from the illustrated or described sequence, or they are respectively made into the integrated circuit modules or many of them are made into a single integrated circuit module. Thereby, the embodiments of the present disclosure are not limited to any specific combination of hardware and software.</p><p id="p0067" num="0067">The above are only the example embodiments of the present disclosure and not intended to limit the present disclosure. For those skilled in the art, various modifications and changes can be made in the present disclosure. Any modifications, equivalent replacements, improvements and the like within the spirit and principle of the present disclosure shall fall within the scope of protection of the present disclosure.</p><heading id="h0006"><b><u>Industrial Applicability</u></b></heading><p id="p0068" num="0068">The technical solution provided by the embodiments of the present disclosure can be applied to the field of LBS, solves the technical problem that a high positioning accuracy and a low complexity of a positioning device cannot be realized at the same time in the related arts, and can accurately position a target when the complexity of the positioning device is low.</p></description><claims mxw-id="PCLM90459110" lang="EN" load-source="patent-office"><!-- EPO <DP n="22"> --><claim id="c-en-0001" num="0001"><claim-text>A system for determining an angle, <b>characterized by</b> comprising: an anchor node, a driver and a data processor, wherein<br/>
the anchor node comprises a first directional antenna and a second directional antenna, wherein the first directional antenna and the second directional antenna are mounted at a same point, and an area formed by the first directional antenna is partially superposed with an area formed by the second directional antenna;<br/>
the driver is coupled with the anchor node and is configured to drive the first directional antenna and the second directional antenna to rotate according to a predetermined angle with the anchor node as a center and a horizontal line, which is parallel to a horizontal plane and points to a predetermined direction, as a horizontal reference line to receive incident waves from a tested node at multiple angles; and<br/>
the data processor is coupled with the anchor node and is configured to compute differences between signal strengths of incident waves received by the first directional antenna and signal strengths of incident waves received by the second directional antenna at the multiple angles, and determine an angle between a line connecting the anchor node and the tested node and the horizontal reference line according to the differences at the multiple angles.</claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>The system according to claim 1, <b>characterized in that</b> the data processor is configured to take an angle corresponding to a minimum difference in the differences as the angle between the line connecting the anchor node and the tested node and the horizontal reference line.</claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>The system according to claim 1, <b>characterized in that</b><br/>
the anchor node further comprises: an omnidirectional antenna which is configured to receive incident waves from the tested node; and<br/>
the data processor is further configured to determine whether the incident waves received by the first directional antenna and the second<!-- EPO <DP n="23"> --> directional antenna are direct waves according to the incident waves received by the omnidirectional antenna.</claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>The system according to claim 1, <b>characterized in that</b> the driver is an angle stepping motor.</claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>The system according to claim 1, <b>characterized in that</b> the driver is configured to drive the first directional antenna and the second directional antenna to rotate within an angle range of 0 to 180 DEG at a step of 0.225 DEG.</claim-text></claim><claim id="c-en-0006" num="0006"><claim-text>The system according to any one of claims 1 to 5, <b>characterized in that</b> the system for determining the angle is a positioning system.</claim-text></claim><claim id="c-en-0007" num="0007"><claim-text>A method for determining an angle, <b>characterized by</b> comprising:
<claim-text>determining differences between signal strengths of incident waves received by a first directional antenna of an anchor node from a tested node and signal strengths of incident waves received by a second directional antenna of the anchor node from the tested node at multiple angles, wherein the first directional antenna and the second directional antenna are mounted at a same point, and an area formed by the first directional antenna is partially superposed with an area formed by the second directional antenna; and</claim-text>
<claim-text>taking an angle corresponding to a minimum difference in the differences as an angle between a line connecting the anchor node and the tested node and a horizontal reference line, wherein the horizontal reference line is a horizontal line which is parallel to a horizontal plane and points to a predetermined direction.</claim-text></claim-text></claim><claim id="c-en-0008" num="0008"><claim-text>The method according to claim 7, <b>characterized in that</b> before determining the differences of the signal strengths, the method further comprises:
<claim-text>rotating the anchor node within an angle range of 0 to 180 DEG with the anchor node as a center and a horizontal line parallel to the horizontal plane as the horizontal reference line so that the first directional antenna and the second directional antenna receive the incident waves sent by the tested<!-- EPO <DP n="24"> --> node at multiple angles.</claim-text></claim-text></claim><claim id="c-en-0009" num="0009"><claim-text>The method according to claim 7, <b>characterized in that</b> determining the differences of the signal strengths comprises:
<claim-text>finding direct waves from the incident waves received by the first directional antenna and the second directional antenna; and</claim-text>
<claim-text>determining the differences between signal strengths of direct waves received by the first directional antenna and signal strengths of direct waves received by the second directional antenna at the multiple angles.</claim-text></claim-text></claim><claim id="c-en-0010" num="0010"><claim-text>The method according to claim 9, <b>characterized in that</b> finding the direct waves from the incident waves received by the first directional antenna and the second directional antenna comprises:
<claim-text>acquiring incident waves received by an omnidirectional antenna;</claim-text>
<claim-text>determining a direct wave according to strengths of the incident waves received by the omnidirectional antenna; and</claim-text>
<claim-text>taking direct waves received by the first directional antenna and the second directional antenna at a point of time when the omnidirectional antenna receives the direct wave as the direct waves in the incident waves received by the first directional antenna and the second directional antenna.</claim-text></claim-text></claim><claim id="c-en-0011" num="0011"><claim-text>The method according to claim 7, <b>characterized in that</b> taking the angle corresponding to the minimum difference in the differences as the angle between the line connecting the anchor node and the tested node and the horizontal reference line comprises:
<claim-text>plotting a curve for the differences of the signal strengths of the incident waves received at the multiple angles with the angles as the X-axis and the differences as the Y-axis; and</claim-text>
<claim-text>taking an angle corresponding to a lowest point of the curve as the angle between the line connecting the anchor node and the tested node and the horizontal reference line.</claim-text></claim-text></claim><claim id="c-en-0012" num="0012"><claim-text>The method according to any one of claims 7 to 11, <b>characterized in that</b> the method is applied to positioning.</claim-text></claim></claims><drawings mxw-id="PDW20421848" load-source="patent-office"><!-- EPO <DP n="25"> --><figure id="f0001" num="1,2,3"><img id="if0001" file="imgf0001.tif" wi="147" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="26"> --><figure id="f0002" num="4,5"><img id="if0002" file="imgf0002.tif" wi="165" he="198" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="27"> --><figure id="f0003" num="6,7"><img id="if0003" file="imgf0003.tif" wi="165" he="211" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="28"> --><figure id="f0004" num="8,9"><img id="if0004" file="imgf0004.tif" wi="144" he="226" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="29"> --><figure id="f0005" num="10,11"><img id="if0005" file="imgf0005.tif" wi="144" he="226" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="30"> --><figure id="f0006" num="12,13"><img id="if0006" file="imgf0006.tif" wi="153" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="31"> --><figure id="f0007" num="14"><img id="if0007" file="imgf0007.tif" wi="118" he="120" img-content="drawing" img-format="tif"/></figure></drawings><search-report-data><doc-page id="srep0001" file="srep0001.tif" wi="163" he="233" type="tif"/><doc-page id="srep0002" file="srep0002.tif" wi="165" he="223" type="tif"/></search-report-data><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
