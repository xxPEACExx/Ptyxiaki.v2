<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2961232-A1" country="EP" doc-number="2961232" kind="A1" date="20151230" family-id="51579317" file-reference-id="318322" date-produced="20180824" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="160451110" ucid="EP-2961232-A1"><document-id><country>EP</country><doc-number>2961232</doc-number><kind>A1</kind><date>20151230</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-13879023-A" is-representative="YES"><document-id mxw-id="PAPP193865188" load-source="patent-office" format="original"><country>EP</country><doc-number>13879023.3</doc-number><date>20130918</date><lang>ZH</lang></document-id><document-id mxw-id="PAPP193865189" load-source="docdb" format="epo"><country>EP</country><doc-number>13879023</doc-number><kind>A</kind><date>20130918</date><lang>ZH</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC162034791" ucid="CN-2013072940-W" linkage-type="A" load-source="docdb"><document-id format="epo"><country>CN</country><doc-number>2013072940</doc-number><kind>W</kind><date>20130320</date></document-id></priority-claim><priority-claim mxw-id="PPC162028089" ucid="CN-2013083816-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>CN</country><doc-number>2013083816</doc-number><kind>W</kind><date>20130918</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-1844941264" load-source="ipcr">H04W  72/04        20090101ALN20170216BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1844943251" load-source="ipcr">H04L   1/18        20060101AFI20170216BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1844946088" load-source="ipcr">H04W   8/26        20090101ALI20170216BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1984020594" load-source="docdb" scheme="CPC">H04W  72/14        20130101 LI20160115BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1984023839" load-source="docdb" scheme="CPC">H04W  74/0808      20130101 FI20160114BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1984024598" load-source="docdb" scheme="CPC">H04W  88/08        20130101 LA20160114BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1984025423" load-source="docdb" scheme="CPC">H04W  88/02        20130101 LA20160114BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT165544796" lang="DE" load-source="patent-office">VERFAHREN ZUR ERKENNUNG VON BENUTZERGERÄTEKONFLIKT, BENUTZERGERÄT UND BASISSTATION</invention-title><invention-title mxw-id="PT165544797" lang="EN" load-source="patent-office">METHOD FOR DETECTING USER EQUIPMENT CONFLICT, USER EQUIPMENT, AND BASE STATION</invention-title><invention-title mxw-id="PT165544798" lang="FR" load-source="patent-office">PROCÉDÉ DE DÉTECTION DE CONFLIT D'ÉQUIPEMENT UTILISATEUR, ÉQUIPEMENT UTILISATEUR ET STATION DE BASE</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR1103341567" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>HUAWEI TECH CO LTD</last-name><address><country>CN</country></address></addressbook></applicant><applicant mxw-id="PPAR1103342489" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>HUAWEI TECHNOLOGIES CO., LTD.</last-name></addressbook></applicant><applicant mxw-id="PPAR1101652452" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Huawei Technologies Co., Ltd.</last-name><iid>100970540</iid><address><street>Huawei Administration Building Bantian</street><city>LONGGANG DISTRICT SHENZHEN, GUANGDONG 518129</city><country>CN</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR1103308024" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>LI BINGZHAO</last-name><address><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR1103319748" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>LI, BINGZHAO</last-name></addressbook></inventor><inventor mxw-id="PPAR1101639613" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>LI, BINGZHAO</last-name><address><street>Huawei Administration Building Bantian Longgang District</street><city>Shenzhen Guangdong 518129</city><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR1103310327" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>CHEN YANYAN</last-name><address><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR1103317256" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>CHEN, YANYAN</last-name></addressbook></inventor><inventor mxw-id="PPAR1101647566" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>CHEN, YANYAN</last-name><address><street>Huawei Administration Building Bantian Longgang District</street><city>Shenzhen Guangdong 518129</city><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR1103317847" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>PANG LINGLI</last-name><address><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR1103338873" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>PANG, LINGLI</last-name></addressbook></inventor><inventor mxw-id="PPAR1101643471" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>PANG, LINGLI</last-name><address><street>Huawei Administration Building Bantian Longgang District</street><city>Shenzhen Guangdong 518129</city><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR1103303539" load-source="docdb" sequence="4" format="epo"><addressbook><last-name>ZHENG XIAOXIAO</last-name><address><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR1103343657" load-source="docdb" sequence="4" format="intermediate"><addressbook><last-name>ZHENG, XIAOXIAO</last-name></addressbook></inventor><inventor mxw-id="PPAR1101650163" load-source="patent-office" sequence="4" format="original"><addressbook><last-name>ZHENG, XIAOXIAO</last-name><address><street>Huawei Administration Building Bantian Longgang District</street><city>Shenzhen Guangdong 518129</city><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR1112508043" load-source="docdb" sequence="5" format="epo"><addressbook><last-name>MA XUELI</last-name><address><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR1112508044" load-source="docdb" sequence="5" format="intermediate"><addressbook><last-name>MA, XUELI</last-name></addressbook></inventor><inventor mxw-id="PPAR1101640167" load-source="patent-office" sequence="5" format="original"><addressbook><last-name>MA, Cueli</last-name><address><street>Huawei Administration Building Bantian Longgang District</street><city>Shenzhen Guangdong 518129</city><country>CN</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR1101643318" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Pfenning, Meinig &amp; Partner GbR</last-name><iid>100060643</iid><address><street>Patent- und Rechtsanwälte Joachimsthaler Strasse 12</street><city>10719 Berlin</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="CN-2013083816-W"><document-id><country>CN</country><doc-number>2013083816</doc-number><kind>W</kind><date>20130918</date><lang>ZH</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2014146412-A1"><document-id><country>WO</country><doc-number>2014146412</doc-number><kind>A1</kind><date>20140925</date><lang>ZH</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS660605643" load-source="docdb">AL</country><country mxw-id="DS660604038" load-source="docdb">AT</country><country mxw-id="DS660605645" load-source="docdb">BE</country><country mxw-id="DS660602996" load-source="docdb">BG</country><country mxw-id="DS660781685" load-source="docdb">CH</country><country mxw-id="DS660605265" load-source="docdb">CY</country><country mxw-id="DS660604043" load-source="docdb">CZ</country><country mxw-id="DS660603197" load-source="docdb">DE</country><country mxw-id="DS660605646" load-source="docdb">DK</country><country mxw-id="DS660605266" load-source="docdb">EE</country><country mxw-id="DS660603323" load-source="docdb">ES</country><country mxw-id="DS660602997" load-source="docdb">FI</country><country mxw-id="DS660602998" load-source="docdb">FR</country><country mxw-id="DS660603198" load-source="docdb">GB</country><country mxw-id="DS660605647" load-source="docdb">GR</country><country mxw-id="DS660605648" load-source="docdb">HR</country><country mxw-id="DS660605267" load-source="docdb">HU</country><country mxw-id="DS660781686" load-source="docdb">IE</country><country mxw-id="DS660605649" load-source="docdb">IS</country><country mxw-id="DS660603003" load-source="docdb">IT</country><country mxw-id="DS660605268" load-source="docdb">LI</country><country mxw-id="DS660605203" load-source="docdb">LT</country><country mxw-id="DS660604044" load-source="docdb">LU</country><country mxw-id="DS660605204" load-source="docdb">LV</country><country mxw-id="DS660605205" load-source="docdb">MC</country><country mxw-id="DS660604230" load-source="docdb">MK</country><country mxw-id="DS660604235" load-source="docdb">MT</country><country mxw-id="DS660605650" load-source="docdb">NL</country><country mxw-id="DS660603004" load-source="docdb">NO</country><country mxw-id="DS660605723" load-source="docdb">PL</country><country mxw-id="DS660603005" load-source="docdb">PT</country><country mxw-id="DS660605724" load-source="docdb">RO</country><country mxw-id="DS660603006" load-source="docdb">RS</country><country mxw-id="DS660605725" load-source="docdb">SE</country><country mxw-id="DS660781687" load-source="docdb">SI</country><country mxw-id="DS660606223" load-source="docdb">SK</country><country mxw-id="DS660606224" load-source="docdb">SM</country><country mxw-id="DS660605269" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA166479480" lang="EN" load-source="patent-office"><p id="pa01" num="0001">The present invention provides a user equipment collision detection method, user equipment, and a base station to solve problems such as network resource wastes and long collision detection delay in the prior art that occur when collision detection is performed on an E-DCH after a cell handover of user equipment. The user equipment collision detection method includes: sending, by user equipment, a collision detection request on an E-DCH to a base station, where the collision detection request carries a first radio network temporary identifier (RNTI) corresponding to the user equipment, so that the base station determines whether the E-DCH is occupied by other user equipment than the user equipment; receiving, by the user equipment, an acknowledgement message sent by the base station, where the acknowledgement message carries absolute grant (AG) information and a cyclic redundancy check (CRC) code; and determining, by the user equipment according to the first RNTI, and the AG information and the CRC code that are carried in the acknowledgement message, whether the E-DCH is an available resource.<img id="iaf01" file="imgaf001.tif" wi="78" he="66" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA166759292" lang="EN" source="EPO" load-source="docdb"><p>The present invention provides a user equipment collision detection method, user equipment, and a base station to solve problems such as network resource wastes and long collision detection delay in the prior art that occur when collision detection is performed on an E-DCH after a cell handover of user equipment. The user equipment collision detection method includes: sending, by user equipment, a collision detection request on an E-DCH to a base station, where the collision detection request carries a first radio network temporary identifier (RNTI) corresponding to the user equipment, so that the base station determines whether the E-DCH is occupied by other user equipment than the user equipment; receiving, by the user equipment, an acknowledgement message sent by the base station, where the acknowledgement message carries absolute grant (AG) information and a cyclic redundancy check (CRC) code; and determining, by the user equipment according to the first RNTI, and the AG information and the CRC code that are carried in the acknowledgement message, whether the E-DCH is an available resource.</p></abstract><description mxw-id="PDES98404181" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001"><b>TECHNICAL FIELD</b></heading><p id="p0001" num="0001">The present invention relates to the field of communications technologies, and in particular, to a user equipment collision detection method, user equipment, and a base station.</p><heading id="h0002"><b>BACKGROUND</b></heading><p id="p0002" num="0002">A UMTS Terrestrial Radio Access Network (UTRAN) registration area (URA) in a universal mobile telecommunications system (Universal Mobile Telecommunications System, UMTS) includes several cells. When user equipment (User Equipment, UE) in a URA-PCH (UTRAN Registration Area-Paging Channel) state is handed over between cells in the URA area, no cell update needs to be performed. When the UE needs to transmit data to a base station after the cell handover, the UE first needs to switch to a CELL-FACH (CELL-Forward Access Channel) state and acquire a common enhanced uplink dedicated data channel (Enhanced uplink Dedicated Channel, E-DCH) of a new cell and an enhanced radio network temporary identifier (Enhanced Radio Network Temporary Identifier, E-RNTI) related to the new cell.</p><p id="p0003" num="0003">In the prior art, UE sends a collision detection request carrying an enhanced radio network temporary identifier (E-RNTI) on a common E-DCH to the base station, and the base station performs collision detection on the common E-DCH according to the E-RNTI to determine whether the E-DCH is occupied by other UE.</p><p id="p0004" num="0004">However, in the prior art, E-RNTI identifiers of various cells may be duplicate. Therefore, when UE is handed over between cells, the UE needs to reacquire an enhanced radio network temporary identifier (E-RNTI) related to a new cell to complete collision detection on a common E-DCH, resulting in a network resource waste and a long collision detection delay.<!-- EPO <DP n="2"> --></p><heading id="h0003"><b>SUMMARY</b></heading><p id="p0005" num="0005">The present invention provides a user equipment collision detection method, user equipment, and a base station to solve problems such as network resource wastes and long collision detection delay in the prior art that occur when collision detection is performed after a cell handover of UE.</p><p id="p0006" num="0006">A first aspect of the present invention provides a user equipment collision detection method, including:
<ul><li>sending, by user equipment, a collision detection request on an enhanced uplink dedicated data channel E-DCH to a base station, where the collision detection request carries a first radio network temporary identifier (RNTI) corresponding to the user equipment, so that the base station determines whether the E-DCH is occupied by other user equipment than the user equipment;</li><li>receiving, by the user equipment, an acknowledgement message sent by the base station, where the acknowledgement message carries absolute grant (AG) information and a cyclic redundancy check (CRC) code; and</li><li>determining, by the user equipment according to the first RNTI, the AG information, and the CRC code, whether the E-DCH is an available resource.</li><li>With reference to the first aspect, in a first feasible implementation manner of the first aspect, the first RNTI includes a first definition portion and a second definition portion; and</li><li>the determining, by the user equipment according to the first RNTI, the AG information, and the CRC code, whether the E-DCH is an available resource includes:
<ul><li>de-masking, by the user equipment, the CRC code by using the first definition portion; and</li><li>if a CRC code is verified successfully, and the second definition portion is included in the AG information, determining, by the user equipment, that the E-DCH is an available resource.</li></ul></li></ul></p><p id="p0007" num="0007">With reference to the first aspect, in a second feasible implementation manner of the first aspect, the determining, by the user equipment according to the first RNTI, the AG information, and the CRC code, whether the E-DCH is an available resource includes:
<ul><li>de-masking, by the user equipment by using the first RNTI, a sequence including the AG information and the CRC code; and<!-- EPO <DP n="3"> --></li><li>if a CRC code is verified successfully, determining, by the user equipment, that the E-DCH is an available resource.</li></ul></p><p id="p0008" num="0008">With reference to the first aspect, in a third feasible implementation manner of the first aspect, the determining, by the user equipment according to the first RNTI, the AG information, and the CRC code, whether the E-DCH is an available resource includes:
<ul><li>de-masking, by the user equipment, the CRC code by using the first RNTI; and</li><li>if a CRC code is verified successfully, determining, by the user equipment, that the E-DCH is an available resource.</li></ul></p><p id="p0009" num="0009">With reference to the first aspect or the first to third feasible implementation manners of the first aspect, in a fourth feasible implementation manner, before the sending, by user equipment, a collision detection request on an enhanced uplink dedicated data channel E-DCH to a base station, the method further includes:
<ul><li>receiving, by the user equipment, a first broadcast message sent by the base station, where the first broadcast message carries common E-DCH resource information, so that the user equipment selects, according to the common E-DCH resource information, the E-DCH for sending the first RNTI.</li></ul></p><p id="p0010" num="0010">With reference to the first aspect, in a fifth feasible implementation manner of the first aspect, the sending, by user equipment, a collision detection request on an enhanced uplink dedicated data channel E-DCH to a base station specifically includes:
<ul><li>determining, by the user equipment, an E-RNTI identifier, in a cell accessed by the user equipment, corresponding to the first RNTI; and</li><li>sending, by the user equipment to the base station on the E-DCH, a collision detection request carrying the E-RNTI identifier.</li></ul></p><p id="p0011" num="0011">With reference to the fifth feasible implementation manner of the first aspect, in a sixth feasible implementation manner, the determining, by the user equipment according to the first RNTI, the AG information, and the CRC code, whether the E-DCH is an available resource includes:
<ul><li>de-masking, by the user equipment, the CRC code by using the E-RNTI identifier; and</li><li>if a CRC code is verified successfully, determining, by the user equipment, that the E-DCH is an available resource.</li></ul></p><p id="p0012" num="0012">With reference to the fifth feasible implementation manner or the sixth feasible<!-- EPO <DP n="4"> --> implementation manner of the first aspect, in a seventh feasible implementation manner of the first aspect, before the sending, by user equipment, a collision detection request on an enhanced uplink dedicated data channel E-DCH to a base station, the method further includes:
<ul><li>receiving, by the user equipment, a second broadcast message sent by the base station, where the second broadcast message carries common E-DCH resource information, so that the user equipment selects, according to the common E-DCH resource information, the E-DCH for sending the E-RNTI identifier, where the second broadcast message further carries an enhanced radio network temporary identifier (E-RNTI) list of the cell accessed by the user equipment.</li></ul></p><p id="p0013" num="0013">With reference to the fifth feasible implementation manner or the sixth feasible implementation manner or the seventh feasible implementation manner of the first aspect, in an eighth feasible implementation manner, the determining, by the user equipment, an E-RNTI identifier, in a cell accessed by the user equipment, corresponding to the first RNTI includes:
<ul><li>using, by the user equipment, a value of the first RNTI as a dividend and using a quantity of E-RNTIs in the E-RNTI list as a divisor, to acquire a corresponding remainder; and acquiring an enhanced radio network temporary identifier (E-RNTI) whose sequence number in the E-RNTI list is the remainder.</li></ul></p><p id="p0014" num="0014">With reference to the first aspect or one of the eight feasible implementation manners of the first aspect, in a ninth feasible implementation manner, the first broadcast message or the second broadcast message may further carry an E-RNTI identifier corresponding to the common E-DCH resource information; and<br/>
after determining that the E-DCH is an available resource, the user equipment performs data transmission with the base station by using the E-RNTI identifier corresponding to the E-DCH.</p><p id="p0015" num="0015">A second aspect of the present invention provides a user equipment collision detection method, including:
<ul><li>receiving, by a base station, a collision detection request that is sent on an enhanced uplink dedicated data channel E-DCH by user equipment, where the collision detection request carries a first radio network temporary identifier (RNTI) corresponding to the user equipment;</li><li>determining, by the base station, whether the E-DCH is occupied by other user equipment than the user equipment; and<!-- EPO <DP n="5"> --></li><li>sending, by the base station, an acknowledgement message to the user equipment according to the determining result, where the acknowledgement message carries absolute grant (AG) information and a cyclic redundancy check (CRC) code, so that the user equipment determines, according to the first RNTI, the AG information, and the CRC code, whether the E-DCH is an available resource.</li></ul></p><p id="p0016" num="0016">With reference to the second aspect, in a first feasible implementation manner of the second aspect, the first RNTI includes a first definition portion and a second definition portion; and<br/>
before the sending, by the base station, an acknowledgement message to the user equipment according to the determining result, the method further includes:
<ul><li>masking, by the base station, the CRC code by using the first definition portion; and</li><li>determining, by the base station, the second definition portion as the AG information.</li></ul></p><p id="p0017" num="0017">With reference to the second aspect, in a second feasible implementation manner of the second aspect, before the sending, by the base station, an acknowledgement message to the user equipment according to the determining result, the method further includes:
<ul><li>masking, by the base station by using the first RNTI, a sequence including the AG information and the CRC code.</li></ul></p><p id="p0018" num="0018">With reference to the second aspect, in a third feasible implementation manner of the second aspect, before the sending, by the base station, an acknowledgement message to the user equipment according to the determining result, the method further includes:
<ul><li>masking, by the base station, the CRC code by using the first RNTI.</li></ul></p><p id="p0019" num="0019">With reference to the second aspect or the first to third feasible implementation manners of the second aspect, in a fourth feasible implementation manner, before the receiving, by a base station, a collision detection request that is sent on an enhanced uplink dedicated data channel E-DCH by user equipment, the method further includes:
<ul><li>sending, by the base station, a first broadcast message to the user equipment, where the first broadcast message carries common E-DCH resource information, so that the user equipment selects, according to the common E-DCH resource information, the E-DCH for sending the first RNTI.</li></ul><!-- EPO <DP n="6"> --></p><p id="p0020" num="0020">With reference to the second aspect, in a fifth feasible implementation manner of the second aspect, if the collision detection request carries an E-RNTI identifier, in a cell accessed by the user equipment, corresponding to the first RNTI, before the sending, by the base station, an acknowledgement message to the user equipment according to the determining result, the method further includes:
<ul><li>masking, by the base station, the CRC code by using the E-RNTI identifier.</li></ul></p><p id="p0021" num="0021">With reference to the fifth feasible implementation manner of the second aspect, in a sixth feasible implementation manner, before the receiving, by a base station, a collision detection request that is sent on an enhanced uplink dedicated data channel E-DCH by user equipment, the method further includes:
<ul><li>sending, by the base station, a second broadcast message to the user equipment, where the second broadcast message carries common E-DCH resource information, so that the user equipment selects, according to the common E-DCH resource information, the E-DCH for sending the collision detection request, where the second broadcast message further carries an enhanced radio network temporary identifier (E-RNTI) list of the cell accessed by the user equipment.</li></ul></p><p id="p0022" num="0022">A third aspect of the present invention provides user equipment, including:
<ul><li>a sending module, configured to send a collision detection request on an enhanced uplink dedicated data channel E-DCH to a base station, where the collision detection request carries a first radio network temporary identifier (RNTI) corresponding to the user equipment, so that the base station determines whether the E-DCH is occupied by other user equipment than the user equipment;</li><li>a receiving module, configured to receive an acknowledgement message sent by the base station, where the acknowledgement message carries absolute grant (AG) information and a cyclic redundancy check (CRC) code; and</li><li>a determining module, configured to determine, according to the first RNTI, the AG information, and the CRC code, whether the E-DCH is an available resource.</li></ul></p><p id="p0023" num="0023">With reference to the third aspect, in a first feasible implementation manner of the third aspect, the first RNTI includes a first definition portion and a second definition portion;<br/>
the user equipment further includes a first de-masking module, configured to de-mask the CRC code by using the first definition portion; and<br/>
if a CRC code is verified successfully, and the second definition portion is included in the AG information, the determining module is specifically configured to<!-- EPO <DP n="7"> --> determine that the E-DCH is an available resource.</p><p id="p0024" num="0024">With reference to the third aspect, in a second feasible implementation manner of the third aspect, the user equipment further includes a second de-masking module, configured to de-mask, by using the first RNTI, a sequence including the AG information and the CRC code; and<br/>
if a CRC code is verified successfully, the determining module is specifically configured to determine that the E-DCH is an available resource.</p><p id="p0025" num="0025">With reference to the third aspect, in a third feasible implementation manner of the third aspect, the user equipment further includes a third de-masking module, configured to de-mask the CRC code by using the first RNTI; and<br/>
if a CRC code is verified successfully, the determining module is specifically configured to determine that the E-DCH is an available resource.</p><p id="p0026" num="0026">With reference to the third aspect or the first to third feasible implementation manners of the third aspect, in a fourth feasible implementation manner, before the sending module sends the collision detection request on the enhanced uplink dedicated data channel E-DCH to the base station, the receiving module is further configured to receive a first broadcast message sent by the base station, where the first broadcast message carries common E-DCH resource information, so that the user equipment selects, according to the common E-DCH resource information, the E-DCH for sending the first RNTI.</p><p id="p0027" num="0027">With reference to the third aspect, in a fifth feasible implementation manner of the third aspect, the determining module is further configured to determine an E-RNTI identifier, in a cell accessed by the user equipment, corresponding to the first RNTI; and<br/>
the sending module is specifically configured to send, to the base station on the E-DCH, a collision detection request carrying the E-RNTI identifier.</p><p id="p0028" num="0028">With reference to the fifth feasible implementation manner of the third aspect, in a sixth feasible implementation manner, the user equipment further includes a fourth de-masking module, configured to de-mask the CRC code by using the E-RNTI identifier; and<br/>
if a CRC code is verified successfully, the determining module is specifically configured to determine that the E-DCH is an available resource.</p><p id="p0029" num="0029">With reference to the fifth feasible implementation manner or the sixth feasible implementation manner of the third aspect, in a fifth feasible implementation manner,<!-- EPO <DP n="8"> --> before the sending module sends the collision detection request on the enhanced uplink dedicated data channel E-DCH to the base station, the receiving module is further configured to receive a second broadcast message sent by the base station, where the second broadcast message carries common E-DCH resource information, so that the user equipment selects, according to the common E-DCH resource information, the E-DCH for sending the collision detection request, where the second broadcast message further carries an enhanced radio network temporary identifier (E-RNTI) list of the cell accessed by the user equipment.</p><p id="p0030" num="0030">With reference to the fifth feasible implementation manner or the sixth feasible implementation manner or the seventh feasible implementation manner of the third aspect, in an eighth feasible implementation manner, the determining module is specifically configured to: use a value of the first RNTI as a dividend and use a quantity of E-RNTIs in the E-RNTI list as a divisor, to acquire a corresponding remainder; and acquire an enhanced radio network temporary identifier (E-RNTI) whose sequence number in the E-RNTI list is the remainder.</p><p id="p0031" num="0031">With reference to the third aspect or one of the eight feasible implementation manners of the third aspect, in a ninth feasible implementation manner, the first broadcast message or the second broadcast message may further carry an E-RNTI identifier corresponding to the common E-DCH resource information; and<br/>
after determining that the E-DCH is an available resource, the user equipment performs data transmission with the base station by using the E-RNTI identifier corresponding to the E-DCH.</p><p id="p0032" num="0032">A fourth aspect of the present invention provides a base station, including:
<ul><li>a receiving module, configured to receive a collision detection request that is sent on an enhanced uplink dedicated data channel E-DCH by user equipment, where the collision detection request carries a first radio network temporary identifier (RNTI) corresponding to the user equipment;</li><li>a determining module, configured to determine whether the E-DCH is occupied by other user equipment than the user equipment; and</li><li>a sending module, configured to send an acknowledgement message to the user equipment according to the determining result, where the acknowledgement message carries absolute grant (AG) information and a cyclic redundancy check (CRC) code, so that the user equipment determines, according to the first RNTI, the AG information, and the CRC code, whether the E-DCH is an available resource.<!-- EPO <DP n="9"> --></li><li>With reference to the fourth aspect, in a first feasible implementation manner of the fourth aspect, the first RNTI includes a first definition portion and a second definition portion; and</li><li>before the sending module sends the acknowledgement message to the user equipment according to the determining result, the base station further includes:
<ul><li>a first masking module, configured to mask the CRC code by using the first definition portion; and</li><li>a first determining module, configured to determine the second definition portion as the AG information.</li></ul></li></ul></p><p id="p0033" num="0033">With reference to the fourth aspect, in a second feasible implementation manner of the fourth aspect, before the sending module sends the acknowledgement message to the user equipment according to the determining result, the base station further includes:
<ul><li>a second masking module, configured to mask, by using the first RNTI, a sequence including the AG information and the CRC code.</li></ul></p><p id="p0034" num="0034">With reference to the fourth aspect, in a third feasible implementation manner of the fourth aspect, before the sending module sends the acknowledgement message to the user equipment according to the determining result, the base station further includes:
<ul><li>a third masking module, configured to mask the CRC code by using the first RNTI.</li></ul></p><p id="p0035" num="0035">With reference to the fourth aspect or the first to third feasible implementation manners of the fourth aspect, in a fourth feasible implementation manner, before the receiving module receives the collision detection request that is sent on the enhanced uplink dedicated data channel E-DCH by the user equipment, the sending module is further configured to send a first broadcast message to the user equipment, where the first broadcast message carries common E-DCH resource information, so that the user equipment selects, according to the common E-DCH resource information, the E-DCH for sending the first RNTI.</p><p id="p0036" num="0036">With reference to the fourth aspect, in a fourth feasible implementation manner of the fourth aspect, if the collision detection request carries an E-RNTI identifier, in a cell accessed by the user equipment, corresponding to the first RNTI, before the sending module sends the acknowledgement message to the user equipment according to the determining result, the base station further includes a fourth masking module,<!-- EPO <DP n="10"> --> where:
<ul><li>the fourth masking module is configured to mask the CRC code by using the E-RNTI identifier.</li></ul></p><p id="p0037" num="0037">With reference to the fourth feasible implementation manner of the fourth aspect, in a fifth feasible implementation manner, before the receiving module receives the collision detection request that is sent on the enhanced uplink dedicated data channel E-DCH by the user equipment, the sending module is further configured to send a second broadcast message to the user equipment, where the second broadcast message carries common E-DCH resource information, so that the user equipment selects, according to the common E-DCH resource information, the E-DCH for sending the collision detection request, where the second broadcast message further carries an enhanced radio network temporary identifier (E-RNTI) list of the cell accessed by the user equipment.</p><p id="p0038" num="0038">A fifth aspect of the present invention provides user equipment, including:
<ul><li>a transmitter, configured to send a collision detection request on an enhanced uplink dedicated data channel E-DCH to a base station, where the collision detection request carries a first radio network temporary identifier (RNTI) corresponding to the user equipment, so that the base station determines whether the E-DCH is occupied by other user equipment than the user equipment;</li><li>a receiver, configured to receive an acknowledgement message sent by the base station, where the acknowledgement message carries absolute grant (AG) information and a cyclic redundancy check (CRC) code; and</li><li>a processor, configured to determine, according to the first RNTI, the AG information, and the CRC code, whether the E-DCH is an available resource.</li></ul></p><p id="p0039" num="0039">With reference to the fifth aspect, in a first feasible implementation manner of the fifth aspect, the first RNTI includes a first definition portion and a second definition portion;<br/>
the processor is further configured to de-mask the CRC code by using the first definition portion; and<br/>
if a CRC code is verified successfully, and the second definition portion is included in the AG information, the processor is specifically configured to determine that the E-DCH is an available resource.</p><p id="p0040" num="0040">With reference to the fifth aspect, in a second feasible implementation manner of the fifth aspect, the processor is further configured to de-mask, by using the first<!-- EPO <DP n="11"> --> RNTI, a sequence including the AG information and the CRC code; and<br/>
if a CRC code is verified successfully, the processor is specifically configured to determine that the E-DCH is an available resource.</p><p id="p0041" num="0041">With reference to the fifth aspect, in a third feasible implementation manner of the fifth aspect, the processor is further configured to de-mask the CRC code by using the first RNTI; and<br/>
if a CRC code is verified successfully, the processor is specifically configured to determine that the E-DCH is an available resource.</p><p id="p0042" num="0042">With reference to the fifth aspect or the first to third feasible implementation manners of the fifth aspect, in a fourth feasible implementation manner, before the transmitter sends the collision detection request on the enhanced uplink dedicated data channel E-DCH to the base station, the receiver is further configured to receive a first broadcast message sent by the base station, where the first broadcast message carries common E-DCH resource information, so that the user equipment selects, according to the common E-DCH resource information, the E-DCH for sending the first RNTI.</p><p id="p0043" num="0043">With reference to the fifth aspect, in a fifth feasible implementation manner of the fifth aspect, the processor is further configured to determine an E-RNTI identifier, in a cell accessed by the user equipment, corresponding to the first RNTI; and<br/>
the transmitter is specifically configured to send, to the base station on the E-DCH, a collision detection request carrying the E-RNTI identifier.</p><p id="p0044" num="0044">With reference to the fifth feasible implementation manner of the fifth aspect, in a sixth feasible implementation manner, the processor is further configured to de-mask the CRC code by using the E-RNTI identifier; and<br/>
if a CRC code is verified successfully, the processor is further configured to determine that the E-DCH is an available resource.</p><p id="p0045" num="0045">With reference to the fifth feasible implementation manner or the sixth feasible implementation manner of the fifth aspect, in a seventh feasible implementation manner, before the transmitter sends the collision detection request on the enhanced uplink dedicated data channel E-DCH to the base station, the receiver is further configured to receive a second broadcast message sent by the base station, where the second broadcast message carries common E-DCH resource information, so that the user equipment selects, according to the common E-DCH resource information, the E-DCH for sending the collision detection request, where the second broadcast message further carries an enhanced radio network temporary identifier (E-RNTI) list<!-- EPO <DP n="12"> --> of the cell accessed by the user equipment.</p><p id="p0046" num="0046">With reference to the fifth feasible implementation manner or the sixth feasible implementation manner or the seventh feasible implementation manner of the fifth aspect, in an eighth feasible implementation manner, the processor is specifically configured to: use a value of the first RNTI as a dividend and use a quantity of E-RNTIs in the E-RNTI list as a divisor, to acquire a corresponding remainder; and acquire an enhanced radio network temporary identifier (E-RNTI) whose sequence number in the E-RNTI list is the remainder.</p><p id="p0047" num="0047">With reference to the fifth aspect or one of the eight feasible implementation manners of the fifth aspect, in a ninth feasible implementation manner, the first broadcast message or the second broadcast message may further carry an E-RNTI identifier corresponding to the common E-DCH resource information; and<br/>
after the processor determines that the E-DCH is an available resource, data transmission with the base station is performed by using the E-RNTI identifier corresponding to the E-DCH.</p><p id="p0048" num="0048">A sixth aspect of the present invention provides a base station, including:
<ul><li>a receiver, configured to receive a collision detection request that is sent on an enhanced uplink dedicated data channel E-DCH by user equipment, where the collision detection request carries a first radio network temporary identifier (RNTI) corresponding to the user equipment;</li><li>a processor, configured to determine whether the E-DCH is occupied by other user equipment than the user equipment; and</li><li>a transmitter, configured to send an acknowledgement message to the user equipment according to the determining result, where the acknowledgement message carries absolute grant (AG) information and a cyclic redundancy check (CRC) code, so that the user equipment determines, according to the first RNTI, the AG information, and the CRC code, whether the E-DCH is an available resource.</li></ul></p><p id="p0049" num="0049">With reference to the sixth aspect, in a first feasible implementation manner of the sixth aspect, the first RNTI includes a first definition portion and a second definition portion; and<br/>
before the transmitter sends the acknowledgement message to the user equipment according to the determining result, the processor is further configured to mask the CRC code by using the first definition portion, and determine the second definition portion as the AG information.<!-- EPO <DP n="13"> --></p><p id="p0050" num="0050">With reference to the sixth aspect, in a second feasible implementation manner of the sixth aspect, before the transmitter sends the acknowledgement message to the user equipment according to the determining result, the processor is further configured to mask, by using the first RNTI, a sequence including the AG information and the CRC code.</p><p id="p0051" num="0051">With reference to the sixth aspect, in a third feasible implementation manner of the sixth aspect, before the transmitter sends the acknowledgement message to the user equipment according to the determining result, the processor is further configured to mask the CRC code by using the first RNTI.</p><p id="p0052" num="0052">With reference to the sixth aspect or the first to third feasible implementation manners of the sixth aspect, in a fourth feasible implementation manner, before the receiver receives the collision detection request that is sent on the enhanced uplink dedicated data channel E-DCH by the user equipment, the transmitter is further configured to send a first broadcast message to the user equipment, where the first broadcast message carries common E-DCH resource information, so that the user equipment selects, according to the common E-DCH resource information, the E-DCH for sending the first RNTI.</p><p id="p0053" num="0053">With reference to the sixth aspect, in a fifth feasible implementation manner of the sixth aspect, if the collision detection request carries an E-RNTI identifier, in a cell accessed by the user equipment, corresponding to the first RNTI, before the transmitter sends the acknowledgement message to the user equipment according to the determining result, the processor is further configured to mask the CRC code by using the E-RNTI identifier.</p><p id="p0054" num="0054">With reference to the fifth feasible implementation manner of the sixth aspect, in a sixth feasible implementation manner, before the receiver receives the collision detection request that is sent on the enhanced uplink dedicated data channel E-DCH by the user equipment, the transmitter is further configured to send a second broadcast message to the user equipment, where the second broadcast message carries common E-DCH resource information, so that the user equipment selects, according to the common E-DCH resource information, the E-DCH for sending the collision detection request, where the second broadcast message further carries an enhanced radio network temporary identifier (E-RNTI) list of the cell accessed by the user equipment.</p><p id="p0055" num="0055">With the user equipment collision detection method, user equipment, and base station provided by embodiments of the present invention, the user equipment sends a<!-- EPO <DP n="14"> --> collision detection request on an E-DCH to the base station, where the collision detection request carries a first RNTI corresponding to the user equipment; receives an acknowledgement message sent by the base station; and determines, according to the first RNTI, and AG information and a CRC code that are carried in the acknowledgement message, whether the E-DCH is an available resource. Therefore, when collision detection is performed after a cell handover of the user equipment, the first RNTI does not need to be updated, thereby reducing network resource wastes in the collision detection and shortening a collision detection delay.</p><heading id="h0004"><b>BRIEF DESCRIPTION OF DRAWINGS</b></heading><p id="p0056" num="0056"><ul><li><figref idrefs="f0001">FIG. 1</figref> is a flowchart of an embodiment of a user equipment collision detection method according to the present invention;</li><li><figref idrefs="f0001">FIG. 2</figref> is a schematic diagram of a format of a first RNTI;</li><li><figref idrefs="f0001">FIG. 3</figref> is a schematic diagram of masking a CRC code by using a first definition portion in a first RNTI;</li><li><figref idrefs="f0002">FIG. 4</figref> is a schematic diagram of masking a CRC code by using an enhanced radio network temporary identifier (E-RNTI) corresponding to a first RNTI;</li><li><figref idrefs="f0002">FIG. 5</figref> is a flowchart of another embodiment of a user equipment collision detection method according to the present invention;</li><li><figref idrefs="f0003">FIG. 6</figref> is a flowchart of still another embodiment of a user equipment collision detection method according to the present invention;</li><li><figref idrefs="f0004">FIG. 7</figref> is a flowchart of yet another embodiment of a user equipment collision detection method according to the present invention;</li><li><figref idrefs="f0004">FIG. 8</figref> is a schematic structural diagram of an embodiment of user equipment according to the present invention;</li><li><figref idrefs="f0005">FIG. 9</figref> is a schematic structural diagram of another embodiment of user equipment according to the present invention;</li><li><figref idrefs="f0005">FIG. 10</figref> is a schematic structural diagram of still another embodiment of user equipment according to the present invention;</li><li><figref idrefs="f0005">FIG. 11</figref> is a schematic structural diagram of yet another embodiment of user equipment according to the present invention;</li><li><figref idrefs="f0006">FIG. 12</figref> is a schematic structural diagram of still yet another embodiment of user equipment according to the present invention;<!-- EPO <DP n="15"> --></li><li><figref idrefs="f0006">FIG. 13</figref> is a schematic structural diagram of an embodiment of a base station according to the present invention;</li><li><figref idrefs="f0006">FIG. 14</figref> is a schematic structural diagram of another embodiment of a base station according to the present invention;</li><li><figref idrefs="f0007">FIG. 15</figref> is a schematic structural diagram of still another embodiment of a base station according to the present invention;</li><li><figref idrefs="f0007">FIG. 16</figref> is a schematic structural diagram of yet another embodiment of a base station according to the present invention;</li><li><figref idrefs="f0007">FIG. 17</figref> is a schematic structural diagram of still yet another embodiment of a base station according to the present invention;</li><li><figref idrefs="f0008">FIG. 18</figref> is a schematic structural diagram of an embodiment of user equipment according to the present invention; and</li><li><figref idrefs="f0008">FIG. 19</figref> is a schematic structural diagram of an embodiment of a base station according to the present invention.</li></ul></p><heading id="h0005"><b>DESCRIPTION OF EMBODIMENTS</b></heading><p id="p0057" num="0057">To make the objectives, technical solutions, and advantages of the embodiments of the present invention clearer, the following clearly and completely describes the technical solutions in the embodiments of the present invention with reference to the accompanying drawings in the embodiments of the present invention. Apparently, the described embodiments are some but not all of the embodiments of the present invention. All other embodiments obtained by a person of ordinary skill in the art based on the embodiments of the present invention without creative efforts shall fall within the protection scope of the present invention.</p><p id="p0058" num="0058">Technologies described in this specification may be applied to various communications systems, for example, current 2G and 3G communications systems and next-generation communications systems, such as a global system for mobile communications (GSM, Global System for Mobile communications), a code division multiple access (CDMA, Code Division Multiple Access) system, a time division multiple access (TDMA, Time Division Multiple Access) system, a wideband code division multiple access (WCDMA, Wideband Code Division Multiple Access Wireless) system, a frequency division multiple access (FDMA, Frequency Division Multiple Addressing) system, an orthogonal frequency-division multiple access<!-- EPO <DP n="16"> --> (OFDMA, Orthogonal Frequency-Division Multiple Access) system, a single-carrier FDMA (SC-FDMA) system, a general packet radio service (GPRS, General Packet Radio Service) system, a long term evolution (LTE, Long Term Evolution) system, and other communications systems.</p><p id="p0059" num="0059">User equipment involved in this application may be a wireless terminal or a wired terminal. The wireless terminal may refer to a device that provides a user with voice and/or data connectivity, a handheld device with a radio connection function, or another processing device connected to a radio modem. The wireless terminal may communicate with one or more core networks by using a radio access network (such as RAN, radio access network). The wireless terminal may be a mobile terminal, such as a mobile phone (also referred to as a "cellular" phone) and a computer with a mobile terminal, for example, may be a portable, pocket-sized, handheld, computer built-in, or in-vehicle mobile apparatus, which exchanges voice and/or data with the radio access network. For example, it may be a device such as a personal communication service (PCS, Personal Communication Service) phone, a cordless telephone set, a Session Initiation Protocol (SIP) phone, a wireless local loop (WLL, Wireless Local Loop) station, or a personal digital assistant (PDA, Personal Digital Assistant). The wireless terminal may also be called a system, a subscriber unit (Subscriber Unit), a subscriber station (Subscriber Station), a mobile station (Mobile Station), a mobile terminal (Mobile), a remote station (Remote Station), an access point (Access Point), a remote terminal (Remote Terminal), an access terminal (Access Terminal), a user terminal (User Terminal), a user agent (User Agent), a user device (User Device), or user equipment (User Equipment).</p><p id="p0060" num="0060">A base station (for example, an access point) involved in this application may refer to a device, in an access network, in communication with a wireless terminal via one or more sectors through an air interface. The base station may be configured to mutually convert a received over-the-air frame and an IP packet and serve as a router between the wireless terminal and a rest portion of the access network, where the rest portion of the access network may include an Internet Protocol (IP) network. The base station may also coordinate attribute management of the air interface. For example, the base station may be a base station (BTS, Base Transceiver Station) in GSM or the CDMA, may also be a base station (NodeB) in WCDMA, and may further be an evolved NodeB (NodeB, eNB, or e-NodeB, evolutional Node B) in LTE, which is not limited in the present application.<!-- EPO <DP n="17"> --></p><p id="p0061" num="0061">A base station controller may be a base station controller (BSC, base station controller) in GSM or CDMA, or a radio network controller (RNC, Radio Network Controller) in WCDMA, which is not limited in the present invention.</p><p id="p0062" num="0062">In addition, the terms "system" and "network" may be used interchangeably in this specification. The term "and/or" in this specification describes only an association relationship for describing associated objects and represents that three relationships may exist. For example, A and/or B may represent the following three cases: Only A exists, both A and B exist, and only B exists. In addition, the character "/" in this specification generally indicates an "or" relationship between the associated objects.</p><p id="p0063" num="0063"><figref idrefs="f0001">FIG. 1</figref> is a flowchart of an embodiment of a user equipment collision detection method according to the present invention. As shown in <figref idrefs="f0001">FIG. 1</figref>, the method includes:
<ul><li>101. User equipment sends a collision detection request on an enhanced uplink dedicated data channel E-DCH to a base station, where the collision detection request carries a first radio network temporary identifier (RNTI) corresponding to the user equipment, so that the base station determines whether the E-DCH is occupied by other user equipment than the user equipment.</li></ul></p><p id="p0064" num="0064">Before the user equipment sends the collision detection request on the E-DCH to the base station, a radio network controller (Radio Network Controller, RNC) may allocate E-RNTI resource pools to the base station and the RNC, where each E-RNTI resource pool includes multiple E-RNTI identifiers. The RNC may extend an E-RNTI identifier in an enhanced radio network temporary identifier (E-RNTI) resource pool to obtain a first RNTI, for example, may extend a 16-bit E-RNTI identifier to 22 bits to obtain a first RNTI, as shown in <figref idrefs="f0001">FIG. 2</figref>. The first RNTI may be a unique identifier corresponding to the user equipment in an area. Optionally, the first RNTI is a unique identifier corresponding to the user equipment in an area including multiple cells, or a unique identifier corresponding to the user equipment in a UTRAN registration area URA. Optionally, the first RNTI is allocated to the user equipment by the RNC by using dedicated signaling.</p><p id="p0065" num="0065">In a first implementation scenario, the base station may provide common E-DCH resource information of a cell in which the user equipment is located to the user equipment in cell broadcast manner. Optionally, the base station may send a first broadcast message to the user equipment, where the first broadcast message carries the common E-DCH resource information of the cell in which the user equipment is located, so that the user equipment may select, according to the common E-DCH<!-- EPO <DP n="18"> --> resource information, the E-DCH for sending the collision detection request.</p><p id="p0066" num="0066">In a second implementation scenario, the base station may further send a second broadcast message to the user equipment, where the second broadcast message carries common E-DCH resource information and an enhanced radio network temporary identifier (E-RNTI) list of a cell in which the user equipment is located. The user equipment determines, according to the first RNTI, a corresponding E-RNTI in the E-RNTI list, and adds the E-RNTI to an uplink data unit when sending the uplink data unit on a common E-DCH resource. Optionally, in the second broadcast message, each set of common E-DCH resource information of the cell in which the user equipment is located includes an enhanced radio network temporary identifier (E-RNTI).</p><p id="p0067" num="0067">Optionally, in the second implementation scenario, that the user equipment determines an E-RNTI identifier, in the cell accessed by the user equipment, corresponding to the first RNTI identifier may specifically be: using a value of the first RNTI as a dividend and using a quantity of E-RNTIs in the E-RNTI list as a divisor, to acquire a corresponding remainder; and acquiring an enhanced radio network temporary identifier (E-RNTI) whose sequence number in the E-RNTI list is the remainder. Optionally, after selecting a common E-DCH resource, the user equipment may acquire an enhanced radio network temporary identifier (E-RNTI) corresponding to the resource.</p><p id="p0068" num="0068">After receiving the collision detection request that is sent by the user equipment through the E-DCH, the base station may determine whether the E-DCH is occupied by other user equipment. If the E-DCH is not occupied by other user equipment, the base station may send an acknowledgement message carrying AG information and a CRC code to the user equipment. If the E-DCH is occupied by other user equipment, the base station may send an acknowledgement message of the other user equipment occupying the E-DCH to the user equipment.</p><p id="p0069" num="0069">Optionally, in the first implementation scenario, when the E-DCH is not occupied by other user equipment, the base station may mask a CRC code according to a first definition portion in the first RNTI in the collision detection request of the user equipment, determine a second definition portion in the first RNTI as the absolute grant (AG) information, as shown in <figref idrefs="f0001">FIG. 3</figref>, and send the acknowledgement message including the AG information and the masked CRC code to the user equipment, where the first definition portion in the first RNTI is an 16-bit E-RNTI<!-- EPO <DP n="19"> --> before extension in <figref idrefs="f0001">FIG. 2</figref>, and the second definition portion is extension bits in <figref idrefs="f0001">FIG. 2</figref>. Optionally, that the base station masks a CRC code according to the first definition portion in the first RNTI may specifically be that the base station performs an exclusive OR operation on the CRC code in a bitwise manner according to the first definition portion.</p><p id="p0070" num="0070">Optionally, in the first implementation scenario, when the E-DCH is not occupied by the other user equipment, the base station may further mask, by using the first RNTI in the collision detection request of the user equipment, a sequence including the AG information and the CRC code, where a masking method may specifically be that the base station performs summation in a bitwise manner according to the first RNTI on the sequence including the AG information and the CRC code, and performs a modulo-2 operation, where a sequence obtained after the masking still has a same quantity of bits as the sequence before the masking.</p><p id="p0071" num="0071">Optionally, in the first implementation scenario, when the E-DCH is not occupied by the other user equipment, the base station may further mask a CRC code by using the first RNTI, where the CRC code is a check code generated by the base station according to the AG information, and a quantity of bits in the CRC code generated by the base station is the same as a quantity of bits in the first RNTI.</p><p id="p0072" num="0072">Optionally, in the second implementation scenario, when the E-DCH is not occupied by other user equipment, the base station may further determine, according to the first RNTI in the collision detection request of the user equipment, a corresponding E-RNTI in the cell in which the user equipment is located, mask a CRC code by using the E-RNTI, as shown in <figref idrefs="f0002">FIG. 4</figref>, and send the acknowledgement message including the AG information and the masked CRC code to the user equipment.</p><p id="p0073" num="0073">102. The user equipment receives an acknowledgement message sent by the base station, where the acknowledgement message carries absolute grant (Absolute Grant, AG) information and a cyclic redundancy check (Cyclic Redundancy Check, CRC) code.</p><p id="p0074" num="0074">Within coverage of the base station, all user equipments sending a collision detection request to the base station through a same E-DCH may receive an acknowledgement message that is sent by the base station through the E-DCH.</p><p id="p0075" num="0075">103. The user equipment determines, according to the first RNTI, the AG information, and the CRC code, whether the E-DCH is an available resource.<!-- EPO <DP n="20"> --></p><p id="p0076" num="0076">In the first implementation scenario, the first RNTI includes the first definition portion and the second definition portion. Optionally, the first definition portion may be 16 bits, for example, the 16-bit E-RNTI before extension in <figref idrefs="f0001">FIG. 2</figref>. The second definition portion may be 6 bits, for example, the extension bits in <figref idrefs="f0001">FIG. 2</figref>. After the base station masks the CRC code by using the first definition portion, determines the second definition portion as the AG information, and sends the acknowledgement message including the AG information and the masked CRC code to the user equipment, the user equipment may de-mask the masked CRC code by using the first definition portion, and check a de-masked CRC code. If the CRC code is verified successfully, the user equipment determines whether the second definition portion is included in the AG information. If the second definition portion is included in the AG information, the user equipment determines that the E-DCH is an available resource and uses the E-DCH as its dedicated resource. The user equipment determines, according to the first RNTI, and the AG information and the CRC code that are carried in the acknowledgement message, whether the E-DCH is an available resource, where the AG information and the CRC check code carried in the acknowledgement message are determined and obtained by masking by the base station according to the first RNTI identifierCRC code. The first RNTI may support 22 bits, and a total of 4,000,000 users who do not need to change the first RNTI may be supported on an RNC level. Therefore, after a cell handover of the user equipment occurs, the user equipment does not need to change the first RNTI and may continue to use the first RNTI to perform collision detection in a new cell.</p><p id="p0077" num="0077">For example, if the AG information is 101100, and the second definition portion is 1011, it indicates that the second definition portion is included in the AG information. For another example, if the AG information is 010110, and the second definition portion is 1011, it also indicates that the second definition portion is included in the AG information.</p><p id="p0078" num="0078">Further, if the CRC code is not verified successfully, the user equipment may reselect, from common E-DCH resources, an E-DCH for sending the collision detection request; send a collision detection request to the base station through the E-DCH; and determine, according to an acknowledgment message sent by the base station, whether the E-DCH is an available resource.</p><p id="p0079" num="0079">In the second implementation scenario, after the base station masks, by using the first RNTI, the sequence including the AG information and the CRC code, and sends<!-- EPO <DP n="21"> --> the masked sequence including the AG information and the CRC code to the user equipment, the user equipment may de-mask, by using the first RNTI, the sequence including the AG information and the CRC code. If a CRC code is verified successfully, the user equipment determines that the E-DCH is an available resource and uses the E-DCH as its dedicated resource.</p><p id="p0080" num="0080">In a third implementation scenario, after the base station generates a CRC code according to the AG information, where the quantity of bits in the CRC code generated by the base station is the same as the quantity of bits in the first RNTI, for example, the bit quantities in the first RNTI and the CRC code are both 22 bits, and the base station masks the CRC code by using the first RNTI, and sends the masked CRC code to the user equipment, the user equipment may de-mask the CRC code by using the first RNTI. If a CRC code is verified successfully, the user equipment determines that the E-DCH is an available resource and uses the E-DCH as its dedicated resource.</p><p id="p0081" num="0081">In a fourth implementation scenario, the base station masks a CRC code by using the E-RNTI identifier corresponding to the first RNTI, and sends the acknowledgement message including the AG information and the masked CRC code to the user equipment. In this case, the AG information is used to determine a size of a data packet that may be sent at a time when the user equipment sends the data packet to the base station. The user equipment may de-mask the masked CRC code by using the E-RNTI identifier corresponding to the first RNTI, perform a CRC check, and if the check is successful, use the E-DCH as its dedicated resource, so that the user equipment can use the E-DCH to transmit data to the base station or receive data transmitted by the base station.</p><p id="p0082" num="0082">Further, if the CRC check is not successful, the user equipment may reselect, from common E-DCH resources sent by the base station, an E-DCH for sending a collision detection request, and send the E-RNTI identifier corresponding to the first RNTI on the E-DCH. The user equipment may send the collision detection request to the base station through the E-DCH, and determine, according to an acknowledgement message sent by the base station, whether the E-DCH is an available resource.</p><p id="p0083" num="0083">After the user equipment uses the E-DCH as its dedicated resource, the collision detection process ends. The user equipment may send a data packet to the base station through the E-DCH, or receive a data packet sent by the base station. The data packet<!-- EPO <DP n="22"> --> may carry data content, but does not need to carry the E-RNTI identifier corresponding to the E-DCH resource. After the user equipment uses the E-DCH as its dedicated resource, the base station may also send absolute grant (AG) information and a CRC code to the user equipment through an AG channel. In this case, the AG information is used to determine the size of the data packet that may be sent at a time when the user equipment sends the data packet to the base station, and the CRC code is used to determine that the AG information is sent to the user equipment and not sent to other user equipment.</p><p id="p0084" num="0084">In addition, the user equipment collision detection method according to this embodiment of the present invention may also be applicable to user equipment that does not have a dedicated E-RNTI but needs to acquire an E-DCH resource in a cell to perform data transmission. Therefore, the user equipment that does not have a dedicated E-RNTI may refer to user equipment in a non-dedicated connected state, such as CELL_FACH, CELL_PCH, URA_PCH, or idle. For example, when user equipment in URA_PCH state needs to send DCCH/DTCH data, the user equipment may select an E-DCH resource and execute a user equipment collision detection; or when user equipment in CELL_FACH state needs to directly send DCCH/DTCH data after a cell handover, the user equipment may select an E-DCH resource and execute a user equipment collision detection. The E-DCH resource herein may include a common E-DCH (common E-DCH) resource.</p><p id="p0085" num="0085">In the user equipment collision detection method according to this embodiment of the present invention, a user equipment sends a collision detection request on an E-DCH to a base station, where the collision detection request carries a first RNTI corresponding to the user equipment; receives an acknowledgement message sent by the base station; and determines, according to the first RNTI and the acknowledgement message carrying AG information and a CRC code, whether the E-DCH is an available resource. Therefore, when collision detection is performed after a cell handover of the user equipment, the first RNTI does not need to be updated, thereby reducing network resource wastes in the collision detection and shortening a collision detection delay.</p><p id="p0086" num="0086"><figref idrefs="f0002">FIG. 5</figref> is a flowchart of another embodiment of a user equipment collision detection method according to the present invention. As shown in <figref idrefs="f0002">FIG. 5</figref>, the method includes:
<ul><li>501. A base station receives a collision detection request that is sent on an<!-- EPO <DP n="23"> --> enhanced uplink dedicated data channel E-DCH by user equipment, where the collision detection request carries a first radio network temporary identifier (RNTI) corresponding to the user equipment.</li></ul></p><p id="p0087" num="0087">In an implementation scenario, the base station may send a first broadcast message to the user equipment, where the first broadcast message carries common E-DCH resource information of a cell in which the user equipment is located. After selecting, according to the common E-DCH resource information, the E-DCH for sending the collision detection request, the user equipment may send the collision detection request on the selected E-DCH to the base station. In another implementation scenario, the base station may send a second broadcast message to the user equipment, where the second broadcast message carries the common E-DCH resource information and an enhanced radio network temporary identifier (E-RNTI) list of a cell in which the user equipment is located. After determining an E-RNTI identifier, in the cell accessed by the user equipment, corresponding to the first RNTI, the user equipment may send, to the base station on the E-DCH, a collision detection request carrying the E-RNTI identifier.</p><p id="p0088" num="0088">502. The base station determines whether the E-DCH is occupied by other user equipment than the user equipment.</p><p id="p0089" num="0089">After receiving the collision detection request that is sent by the user equipment through the E-DCH, the base station may determine whether the E-DCH is occupied by other user equipment. If the E-DCH is not occupied by other user equipment, the base station may send an acknowledgement message for the user equipment to the user equipment. If the E-DCH is occupied by other user equipment, the base station may send an acknowledgement message of the other user equipment occupying the E-DCH to the user equipment.</p><p id="p0090" num="0090">503. The base station sends an acknowledgement message to the user equipment according to a determining result, where the acknowledgement message carries absolute grant (AG) information and a cyclic redundancy check (CRC) code, so that the user equipment determines, according to the first RNTI, the AG information, and the CRC code, whether the E-DCH is an available resource.</p><p id="p0091" num="0091">If the base station determines that the E-DCH selected by the user equipment is not occupied by other user equipment, in a first implementation scenario, the base station may mask a cyclic redundancy check (CRC) code by using a first definition portion in the first RNTI, determine a second definition portion as the absolute grant<!-- EPO <DP n="24"> --> (AG) information, and send the acknowledgement message including the AG information and the masked CRC code to the user equipment.</p><p id="p0092" num="0092">In a second implementation scenario, the base station may mask, by using the first RNTI, a sequence including the AG information and the CRC code, and send a masked sequence including the AG information and the CRC code to the user equipment.</p><p id="p0093" num="0093">In a third implementation scenario, the base station may generate a CRC code according to the AG information, where a quantity of bits in the CRC code generated by the base station is the same as a quantity of bits in the first RNTI, and the base station masks the CRC code by using the first RNTI, and sends the masked CRC code to the user equipment.</p><p id="p0094" num="0094">In a fourth implementation scenario, the base station may mask a CRC code by using an E-RNTI identifier in the collision detection request sent by the user equipment, and send the acknowledgement message including the AG information and the masked CRC code to the user equipment.</p><p id="p0095" num="0095">If the base station determines that the E-DCH is occupied by the other user equipment, the base station may send the acknowledgement message of the other user equipment occupying the E-DCH to the user equipment. If the user equipment de-masks a CRC code in the acknowledgement message by using the E-RNTI identifier, the de-masking is not successful, and the user equipment determines that the E-DCH is occupied by the other user equipment and that the E-DCH is not an available resource.</p><p id="p0096" num="0096">In the user equipment collision detection method according to this embodiment of the present invention, a base station receives a collision detection request that is sent on an E-DCH by user equipment, where the collision detection request carries a first RNTI corresponding to the user equipment; determines whether the E-DCH is occupied by other user equipment than the user equipment; and sends an acknowledgement message to the user equipment according to a determining result, so that the user equipment determines, according to the first RNTI and the acknowledgement message carrying AG information and a CRC code, whether the E-DCH is an available resource. Therefore, when collision detection is performed after a cell handover of the user equipment, the first RNTI does not need to be updated, thereby reducing network resource wastes in the collision detection and shortening a collision detection delay.<!-- EPO <DP n="25"> --></p><p id="p0097" num="0097"><figref idrefs="f0003">FIG. 6</figref> is a flowchart of still another embodiment of a user equipment collision detection method according to the present invention, as shown in <figref idrefs="f0003">FIG. 6</figref>. In this embodiment, a specific implementation scenario is that a base station broadcasts common E-DCH resource information of a cell in which user equipment is located to the user equipment. The method includes:
<ul><li>601. The base station sends a first broadcast message to the user equipment, where the first broadcast message carries common E-DCH resource information of a cell in which the user equipment is located.</li></ul></p><p id="p0098" num="0098">When the user equipment switches to a URA-PCH state and enters a UTRAN registration area URA, an RNC may allocate a first RNTI to the user equipment and broadcast the common E-DCH resource information of the cell in which the user equipment is located to the user equipment. The first RNTI is obtained by the radio network controller RNC by extending an E-RNTI identifier in an enhanced radio network temporary identifier (E-RNTI) resource pool. In addition, when the user equipment is handed over between cells in the UTRAN registration area URA, the base station may broadcast the common E-DCH resource information of the cell in which the user equipment is currently located to the user equipment.</p><p id="p0099" num="0099">602. The user equipment selects an E-DCH according to the common E-DCH resource information carried in the first broadcast message.</p><p id="p0100" num="0100">When the user equipment needs to transmit data to the base station or receive data transmitted by the base station, the user equipment selects a piece of E-DCH resource information from the common E-DCH resource information, so that the base station allocates a corresponding E-DCH resource to the user equipment according to the E-DCH resource information.</p><p id="p0101" num="0101">603. The user equipment sends a collision detection request to the base station through the selected E-DCH, where the collision detection request carries the first RNTI corresponding to the user equipment.</p><p id="p0102" num="0102">Optionally, the first RNTI may include a first definition portion and a second definition portion. The first definition portion may be 16 bits, for example, a 16-bit E-RNTI before extension in <figref idrefs="f0001">FIG. 2</figref>; and the second definition portion may be 6 bits, for example, extension bits in <figref idrefs="f0001">FIG. 2</figref>. The user equipment may send the first RNTI in a form of a MAC packet to the base station, where a MAC packet header carries first RNTI information. In addition, the MAC packet header may further carry indication information. The base station may determine, according to the indication information,<!-- EPO <DP n="26"> --> whether the MAC packet carries the first RNTI information. For example, when a value of the indication information in the MAC packet header is 1, it indicates that the MAC packet carries the first RNTI information; or when a value of the indication information in the MAC packet header is 0, it indicates that the MAC packet does not carry the first RNTI information. Optionally, the indication information may be located in a logical channel identifier in the MAC packet.</p><p id="p0103" num="0103">604. After receiving the collision detection request sent by the user equipment, the base station determines whether the E-DCH is occupied by other user equipment.</p><p id="p0104" num="0104">605. The base station sends an acknowledgement message to the user equipment according to a determining result, where the acknowledgement message carries absolute grant (AG) information and a cyclic redundancy check (CRC) code, so that the user equipment determines, according to the first RNTI, the AG information, and the CRC code, whether the E-DCH is an available resource.</p><p id="p0105" num="0105">In a first implementation scenario, when the base station determines that the E-DCH is not occupied by other user equipment, the base station masks a CRC code by using the first definition portion in the first RNTI, determines a value of the second definition portion in the first RNTI as the AG information, and sends the acknowledgement message including the AG information and the masked CRC code to the user equipment.</p><p id="p0106" num="0106">When the base station learns, by determining, that the E-DCH is occupied by other user equipment, the base station masks a CRC code by using a first definition portion in a first RNTI corresponding to the other user equipment, determines a value of a second definition portion in the first RNTI corresponding to the other user equipment as AG information, and sends an acknowledgement message corresponding to the other user equipment and including the AG information and a masked CRC code to the user equipment.</p><p id="p0107" num="0107">In a second implementation scenario, when the base station learns, by determining, that the E-DCH is not occupied by other user equipment, the base station may further mask, according to the first RNTI in the collision detection request of the user equipment, a sequence including the AG information and the CRC code, and send a masked sequence including the AG information and the CRC code to the user equipment.</p><p id="p0108" num="0108">In a third implementation scenario, when the base station learns, by determining, that the E-DCH is not occupied by other user equipment, the base station may further<!-- EPO <DP n="27"> --> generate a CRC code according to the AG information, where a quantity of bits in the CRC code generated by the base station is the same as a quantity of bits in the first RNTI, and the base station masks the CRC code by using the first RNTI, and sends the masked CRC code to the user equipment.</p><p id="p0109" num="0109">606. The user equipment determines, according to the first RNTI, the AG information, and the CRC code, whether the E-DCH is an available resource.</p><p id="p0110" num="0110">In the first implementation scenario, after the base station masks the CRC code by using the first definition portion, determines the second definition portion as the AG information, and sends the acknowledgement message including the AG information and the masked CRC code to the user equipment, the user equipment may de-mask the masked CRC code in the acknowledgement message by using the first definition portion in the first RNTI, and check a de-masked CRC code. If the check is successful, the user equipment determines whether the second definition portion in the first RNTI is included in the AG information. If the second definition portion is included in the AG information, the user equipment determines that the E-DCH is an available resource.</p><p id="p0111" num="0111">In the second implementation scenario, after the base station masks, by using the first RNTI, the sequence including the AG information and the CRC code, and sends the masked sequence including the AG information and the CRC code to the user equipment, the user equipment may de-mask, by using the first RNTI, the sequence including the AG information and the CRC code. If a CRC code is verified successfully, the user equipment determines that the E-DCH is an available resource and uses the E-DCH as its dedicated resource.</p><p id="p0112" num="0112">In the third implementation scenario, after the base station generates the CRC code according to the AG information, where the quantity of bits in the CRC code generated by the base station is the same as the quantity of bits in the first RNTI, and the base station masks the CRC code by using the first RNTI, and sends the masked CRC code to the user equipment, the user equipment may de-mask the masked CRC code by using an E-RNTI identifier corresponding to the first RNTI, perform a CRC check, and if the check is successful, use the E-DCH as its dedicated resource, so that the user equipment can use the E-DCH to transmit data to the base station or receive data transmitted by the base station.</p><p id="p0113" num="0113">In the user equipment collision detection method according to this embodiment of the present invention, a user equipment sends a collision detection request on an<!-- EPO <DP n="28"> --> E-DCH to a base station, where the collision detection request carries a first RNTI corresponding to the user equipment; and the base station determines whether the E-DCH is occupied by other user equipment, and if it is learned, by determining, that the E-DCH is not occupied by the other user equipment, sends an acknowledgement message including a CRC code and AG information to the user equipment, so that the user equipment determines, according to the first RNTI and the acknowledgement message, whether the E-DCH is an available resource. Therefore, when collision detection is performed after a cell handover of the user equipment, the first RNTI does not need to be updated, thereby reducing network resource wastes in the collision detection and shortening a collision detection delay.</p><p id="p0114" num="0114"><figref idrefs="f0004">FIG. 7</figref> is a flowchart of yet another embodiment of a user equipment collision detection method according to the present invention, as shown in <figref idrefs="f0004">FIG. 7</figref>. In this embodiment, a specific implementation scenario is that a base station broadcasts common E-DCH resource information and an enhanced radio network temporary identifier (E-RNTI) list of a cell in which user equipment is located to the user equipment. The method includes:
<ul><li>701. The base station sends a second broadcast message to the user equipment, where the second broadcast message carries common E-DCH resource information and an enhanced radio network temporary identifier (E-RNTI) list of a cell in which the user equipment is located.</li><li>702. The user equipment determines, according to the common E-DCH resource information and E-RNTI list that are carried in the second broadcast message, an E-RNTI identifier corresponding to a first RNTI.</li></ul></p><p id="p0115" num="0115">When the user equipment needs to transmit data to the base station or receive data transmitted by the base station, the user equipment may use the first RNTI as a dividend and use a quantity of E-RNTIs in the E-RNTI list as a divisor, to acquire a corresponding remainder; and use an E-RNTI identifier whose sequence number in the E-RNTI list is the remainder as the E-RNTI identifier corresponding to the first RNTI.</p><p id="p0116" num="0116">703. The user equipment selects an E-DCH from common E-DCH resources and sends a collision detection request on the E-DCH to the base station, where the collision detection request carries the E-RNTI identifier.</p><p id="p0117" num="0117">704. After receiving the collision detection request sent by the user equipment, the base station determines whether the E-DCH is occupied by other user equipment.<!-- EPO <DP n="29"> --></p><p id="p0118" num="0118">705. The base station sends acknowledgement messageto the user equipment according to a determining result, where the acknowledgement message carries AG information and a CRC code.</p><p id="p0119" num="0119">When the base station learns, by determining, that the E-DCH is not occupied by other user equipment, the base station masks a CRC code by using the E-RNTI identifier corresponding to the first RNTI and sends the acknowledgement message including the AG information and the masked CRC code to the user equipment.</p><p id="p0120" num="0120">When the base station learns, by determining, that the E-DCH is occupied by other user equipment, the base station masks a CRC code by using an E-RNTI identifier corresponding to a first RNTI of the other user equipment and sends an acknowledgement message, for the other user equipment, including the AG information and a masked CRC code to the user equipment.</p><p id="p0121" num="0121">706. The user equipment determines, according to the first RNTI, the AG information, and the CRC code, whether the E-DCH is an available resource.</p><p id="p0122" num="0122">The user equipment may de-mask the CRC code in the acknowledgement message by using the E-RNTI identifier corresponding to the first RNTI, and check a de-masked CRC code obtained. If the check is successful, the user equipment determines that the E-DCH is an available resource.</p><p id="p0123" num="0123">In the user equipment collision detection method according to this embodiment of the present invention, a user equipment sends a collision detection request on an E-DCH to a base station, where the collision detection request carries a first RNTI corresponding to the user equipment; the base station determines whether the E-DCH is occupied by other user equipment, and if it is learned, by determining, that the E-DCH is not occupied by other user equipment, sends an acknowledgement message carrying AG information and a CRC code to the user equipment; and the user equipment determines, according to an E-RNTI identifier corresponding to the first RNTI and the acknowledgement message, whether the E-DCH is an available resource. Therefore, when collision detection is performed after a cell handover of the user equipment, the first RNTI does not need to be updated, thereby reducing network resource wastes in the collision detection and shortening a collision detection delay.</p><p id="p0124" num="0124">A person of ordinary skill in the art may understand that all or some of the steps of the method embodiments may be implemented by a program instructing relevant hardware. The program may be stored in a computer-readable storage medium. When the program runs, the steps of the method embodiments are performed. The foregoing<!-- EPO <DP n="30"> --> storage medium includes: any medium that can store program code, such as a ROM, a RAM, a magnetic disc, or an optical disc.</p><p id="p0125" num="0125"><figref idrefs="f0004">FIG. 8</figref> is a schematic structural diagram of an embodiment of user equipment according to the present invention. As shown in <figref idrefs="f0004">FIG. 8</figref>, the user equipment includes a sending module 81, a receiving module 82, and a determining module 83.</p><p id="p0126" num="0126">The sending module 81 is configured to send a collision detection request on an enhanced uplink dedicated data channel E-DCH to a base station, where the collision detection request carries a first radio network temporary identifier (RNTI) corresponding to the user equipment, so that the base station determines whether the E-DCH is occupied by other user equipment than the user equipment.</p><p id="p0127" num="0127">In a first implementation scenario, before the sending module 81 sends the collision detection request on the enhanced uplink dedicated data channel E-DCH to the base station, the receiving module 82 receives a first broadcast message sent by the base station, where the first broadcast message carries common E-DCH resource information of a cell in which the user equipment is located, so that the user equipment may select, according to the common E-DCH resource information, the E-DCH for sending the collision detection request.</p><p id="p0128" num="0128">In a second implementation scenario, before the sending module 81 sends the collision detection request on the enhanced uplink dedicated data channel E-DCH to the base station, the receiving module 82 receives a second broadcast message sent by the base station, where the second broadcast message carries common E-DCH resource information and an enhanced radio network temporary identifier (E-RNTI) list of the cell accessed by the user equipment, so that after the user equipment determines, according to the first RNTI, a corresponding E-RNTI identifier in the cell in which the user equipment is located, the user equipment sends a collision detection request carrying the E-RNTI identifier to the base station through the E-DCH.</p><p id="p0129" num="0129">Further, in the second implementation scenario, the determining module 83 is configured to: use a value of the first RNTI as a dividend and use a quantity of E-RNTIs in the E-RNTI list as a divisor, to acquire a corresponding remainder; and acquire an enhanced radio network temporary identifier (E-RNTI) whose sequence number in the E-RNTI list is the remainder.</p><p id="p0130" num="0130">The receiving module 82 is configured to receive an acknowledgement message sent by the base station, where the acknowledgement message carries AG information and a CRC code.<!-- EPO <DP n="31"> --></p><p id="p0131" num="0131">The determining module 83 is configured to determine, according to the first RNTI, the AG information, and the CRC code, whether the E-DCH is an available resource.</p><p id="p0132" num="0132">In the first implementation scenario, the first RNTI includes a first definition portion and a second definition portion; the user equipment may further include a first de-masking module 84, as shown in <figref idrefs="f0005">FIG. 9</figref>, configured to de-mask the CRC code in the acknowledgement message code by using the first definition portion, and check a de-masked CRC code; and the determining module 83 is specifically configured to check the de-masked CRC code, and if the check is successful and the second definition portion is included in the AG information, determine that the common E-DCH is an available resource.</p><p id="p0133" num="0133">In the second implementation scenario, the user equipment may further include a second de-masking module 85, as shown in <figref idrefs="f0005">FIG. 10</figref>, configured to de-mask, by using the first RNTI, a sequence including the AG information and the CRC code; and if a CRC code is verified successfully, the user equipment determines that the E-DCH is an available resource and uses the E-DCH as its dedicated resource.</p><p id="p0134" num="0134">In a third implementation scenario, the user equipment may further include a third de-masking module 86, as shown in <figref idrefs="f0005">FIG. 11</figref>, configured to de-mask the CRC code by using the first RNTI; and if a CRC code is verified successfully, the user equipment determines that the E-DCH is an available resource and uses the E-DCH as its dedicated resource.</p><p id="p0135" num="0135">In another implementation scenario, the user equipment may further include a fourth de-masking module 87, as shown in <figref idrefs="f0006">FIG. 12</figref>, configured to de-mask the CRC code in the acknowledgement message by using the E-RNTI identifier, in the cell accessed by the user equipment, corresponding to the first RNTI; and the determining module 83 is specifically configured to check a de-masked CRC code, and if the check is successful, determine that the E-DCH is an available resource.</p><p id="p0136" num="0136">In addition, after the determining module 83 determines that the E-DCH is an available resource, data transmission with the base station can be performed by using the E-RNTI identifier corresponding to the E-DCH.</p><p id="p0137" num="0137">In this embodiment of the present invention, a user equipment sends a collision detection request on an E-DCH to a base station, where the collision detection request carries a first RNTI corresponding to the user equipment; receives an acknowledgement message sent by the base station; and determines, according to the<!-- EPO <DP n="32"> --> first RNTI and the acknowledgement message, whether the E-DCH is an available resource. Therefore, when collision detection is performed after a cell handover of the user equipment, the first RNTI does not need to be updated, thereby reducing network resource wastes in the collision detection and shortening a collision detection delay.</p><p id="p0138" num="0138"><figref idrefs="f0006">FIG. 13</figref> is a schematic structural diagram of an embodiment of a base station according to the present invention. As shown in <figref idrefs="f0006">FIG. 13</figref>, the base station includes a receiving module 131, a determining module 132, and a sending module 133.</p><p id="p0139" num="0139">The receiving module 131 is configured to receive a collision detection request that is sent on an enhanced uplink dedicated data channel E-DCH by user equipment, where the collision detection request carries a first radio network temporary identifier (RNTI) corresponding to the user equipment.</p><p id="p0140" num="0140">In an implementation scenario, before the receiving module 131 receives the collision detection request that is sent on the enhanced uplink dedicated data channel E-DCH by the user equipment, the sending module 133 is configured to send a first broadcast message to the user equipment, where the first broadcast message carries common E-DCH resource information of a cell in which the user equipment is located, so that the user equipment selects, according to the common E-DCH resource information, the E-DCH for sending the collision detection request.</p><p id="p0141" num="0141">In another implementation scenario, before the receiving module 131 receives the collision detection request that is sent on the enhanced uplink dedicated data channel E-DCH by the user equipment, the sending module 133 is further configured to send a second broadcast message to the user equipment, where the second broadcast message carries common E-DCH resource information and an enhanced radio network temporary identifier (E-RNTI) list of the cell accessed by the user equipment, so that the user equipment determines the E-DCH for sending the collision detection request, determines an E-RNTI identifier, in the cell accessed by the user equipment, corresponding to the first RNTI, and sends a collision detection request carrying the E-RNTI identifier to the base station through the E-DCH.</p><p id="p0142" num="0142">The determining module 132 is configured to determine whether the E-DCH is occupied by other user equipment than the user equipment.</p><p id="p0143" num="0143">The sending module 133 is configured to send an acknowledgement message to the user equipment according to a determining result, where the acknowledgement message carries AG information and a CRC code, so that the user equipment determines, according to the first RNTI, the AG information, and the CRC code,<!-- EPO <DP n="33"> --> whether the E-DCH is an available resource.</p><p id="p0144" num="0144">In a first implementation scenario, the first RNTI includes a first definition portion and a second definition portion; the base station further includes a first masking module 134 and a first determining module 135, as shown in <figref idrefs="f0006">FIG. 14</figref>; and before the sending module 133 sends the acknowledgement message to the user equipment, the first masking module 134 is configured to mask a cyclic redundancy check (CRC) code by using the first definition portion, and the first determining module 135 is configured to determine the second definition portion as the absolute grant (AG) information, to obtain the acknowledgement message including the AG information and the masked CRC code.</p><p id="p0145" num="0145">In a second implementation scenario, the base station further includes a second masking module 136, as shown in <figref idrefs="f0007">FIG. 15</figref>; and before the sending module 133 sends the acknowledgement message to the user equipment, the second masking module 136 masks, by using the first RNTI, a sequence including the AG information and the CRC code, and the sending module 133 sends a masked sequence including the AG information and the CRC code to the user equipment.</p><p id="p0146" num="0146">In a third implementation scenario, the base station further includes a third masking module 137, as shown in <figref idrefs="f0007">FIG. 16</figref>; and before the sending module 133 sends the acknowledgement message to the user equipment, the third masking module 137 masks a CRC code by using the first RNTI, and the masked CRC code is sent to the user equipment.</p><p id="p0147" num="0147">In another fourth implementation scenario, the base station further includes a fourth masking module 138, as shown in <figref idrefs="f0007">FIG. 17</figref>; and before the sending module 133 sends the acknowledgement message to the user equipment, the fourth masking module 138 is configured to mask a CRC code by using the E-RNTI identifier, in the cell accessed by the user equipment, corresponding to the first RNTI. After the sending module 133 sends the acknowledgement message to the user equipment, the user equipment may determine, according to the E-RNTI identifier corresponding to the first RNTI and the acknowledgement message carrying the AG information and the CRC code, whether the E-DCH is an available resource.</p><p id="p0148" num="0148">In this embodiment of the present invention, a base station receives a collision detection request that is sent on an E-DCH by user equipment, where the collision detection request carries a first RNTI corresponding to the user equipment; determines whether the E-DCH is occupied by other user equipment than the user<!-- EPO <DP n="34"> --> equipment; and sends an acknowledgement message to the user equipment according to a determining result, so that the user equipment determines, according to the first RNTI and the acknowledgement message, whether the E-DCH is an available resource. Therefore, when collision detection is performed after a cell handover of the user equipment, the first RNTI does not need to be updated, thereby reducing network resource wastes in the collision detection and shortening a collision detection delay.</p><p id="p0149" num="0149"><figref idrefs="f0008">FIG. 18</figref> is a schematic structural diagram of an embodiment of user equipment according to the present invention. As shown in <figref idrefs="f0008">FIG. 18</figref>, the user equipment includes a transmitter 181, a receiver 182, and a processor 183.</p><p id="p0150" num="0150">The transmitter 181 is configured to send a collision detection request on an enhanced uplink dedicated data channel E-DCH to a base station, where the collision detection request carries a first radio network temporary identifier (RNTI) corresponding to the user equipment, so that the base station determines whether the E-DCH is occupied by other user equipment than the user equipment.</p><p id="p0151" num="0151">In a first implementation scenario, before the transmitter 181 sends the collision detection request on the enhanced uplink dedicated data channel E-DCH to the base station, the receiver 182 receives a first broadcast message sent by the base station, where the first broadcast message carries common E-DCH resource information of a cell in which the user equipment is located, so that the user equipment may select, according to the common E-DCH resource information, the E-DCH for sending the collision detection request.</p><p id="p0152" num="0152">In a second implementation scenario, before the transmitter 181 sends the collision detection request on the enhanced uplink dedicated data channel E-DCH to the base station, the receiver 182 receives a second broadcast message sent by the base station, where the second broadcast message carries common E-DCH resource information and an enhanced radio network temporary identifier (E-RNTI) list of the cell accessed by the user equipment, so that after the user equipment determines, according to the first RNTI, a corresponding E-RNTI identifier in the cell in which the user equipment is located, the user equipment sends a collision detection request carrying the E-RNTI identifier to the base station through the E-DCH.</p><p id="p0153" num="0153">Further, in the second implementation scenario, a processor 183 is configured to: use a value of the first RNTI as a dividend and use a quantity of E-RNTIs in the E-RNTI list as a divisor, to acquire a corresponding remainder; and acquire an enhanced radio network temporary identifier (E-RNTI) whose sequence number in the<!-- EPO <DP n="35"> --> E-RNTI list is the remainder.</p><p id="p0154" num="0154">The receiver 182 is configured to receive an acknowledgement message sent by the base station, where the acknowledgement message carries AG information and a CRC code.</p><p id="p0155" num="0155">The processor 183 is configured to determine, according to the first RNTI, the AG information, and the CRC code, whether the E-DCH is an available resource.</p><p id="p0156" num="0156">Optionally, in the first implementation scenario, the first RNTI includes a first definition portion and a second definition portion; the processor 183 is further configured to de-mask the CRC code by using the first definition portion, and check a de-masked CRC code; and if the check is successful and the second definition portion is included in the AG information, the processor 183 is specifically configured to determine that the E-DCH is an available resource.</p><p id="p0157" num="0157">Optionally, in the second implementation scenario, the processor 183 is further configured to de-mask, by using the first RNTI, a sequence including the AG information and the CRC code; and if a CRC code is verified successfully, the user equipment determines that the E-DCH is an available resource.</p><p id="p0158" num="0158">Optionally, in a third implementation scenario, the processor 183 is further configured to de-mask the CRC code by using the first RNTI; and if a CRC code is verified successfully, the user equipment determines that the E-DCH is an available resource and uses the E-DCH as its dedicated resource.</p><p id="p0159" num="0159">In a fourth implementation scenario, the processor 183 is further configured to de-mask the CRC code in the acknowledgement message by using the E-RNTI identifier, in the cell accessed by the user equipment, corresponding to the first RNTI; and if a CRC code is verified successfully, the processor 183 is specifically further configured to determine that the E-DCH is an available resource.</p><p id="p0160" num="0160">In addition, after the processor 183 determines that the E-DCH is an available resource, data transmission with the base station can be performed by using the E-RNTI identifier corresponding to the E-DCH.</p><p id="p0161" num="0161">In this embodiment of the present invention, a user equipment sends a collision detection request on an E-DCH to a base station, where the collision detection request carries a first RNTI corresponding to the user equipment, receives an acknowledgement message sent by the base station, and determines, according to the first RNTI and the acknowledgement message, whether the E-DCH is an available resource. Therefore, when collision detection is performed after a cell handover of the<!-- EPO <DP n="36"> --> user equipment, the first RNTI does not need to be updated, thereby reducing network resource wastes in the collision detection and shortening a collision detection delay.</p><p id="p0162" num="0162"><figref idrefs="f0008">FIG. 19</figref> is a schematic structural diagram of an embodiment of a base station according to the present invention. As shown in <figref idrefs="f0008">FIG. 19</figref>, the base station includes a receiver 191, a processor 192, and a transmitter 193.</p><p id="p0163" num="0163">The receiver 191 is configured to receive a collision detection request that is sent on an enhanced uplink dedicated data channel E-DCH by user equipment, where the collision detection request carries a first radio network temporary identifier (RNTI) corresponding to the user equipment.</p><p id="p0164" num="0164">In an implementation scenario, before the receiver 191 receives the collision detection request that is sent on the enhanced uplink dedicated data channel E-DCH by the user equipment, the transmitter 193 is configured to send a first broadcast message to the user equipment, where the first broadcast message carries common E-DCH resource information of a cell in which the user equipment is located, so that the user equipment selects, according to the common E-DCH resource information, the E-DCH for sending the collision detection request.</p><p id="p0165" num="0165">In another implementation scenario, before the receiver 191 receives the collision detection request that is sent on the enhanced uplink dedicated data channel E-DCH by the user equipment, the transmitter 193 is further configured to send a second broadcast message to the user equipment, where the second broadcast message carries common E-DCH resource information and an enhanced radio network temporary identifier (E-RNTI) list of the cell accessed by the user equipment, so that the user equipment determines the E-DCH for sending the collision detection request, determines an E-RNTI identifier, in the cell accessed by the user equipment, corresponding to the first RNTI, and sends a collision detection request carrying the E-RNTI identifier to the base station through the E-DCH.</p><p id="p0166" num="0166">The processor 192 is configured to determine whether the E-DCH is occupied by other user equipment than the user equipment.</p><p id="p0167" num="0167">The transmitter 193 is configured to send an acknowledgement message to the user equipment according to a determining result, where the acknowledgement message carries AG information and a CRC code, so that the user equipment determines, according to the first RNTI, the AG information, and the CRC code, whether the E-DCH is an available resource.</p><p id="p0168" num="0168">In a first implementation scenario, the first RNTI includes a first definition<!-- EPO <DP n="37"> --> portion and a second definition portion; and before the transmitter 193 sends the acknowledgement message to the user equipment according to a determining result, the processor 192 is further configured to mask a cyclic redundancy check (CRC) code by using the first definition portion, and determine that the second definition portion is the absolute grant (AG) information, to obtain the acknowledgement message including the AG information and the masked CRC code.</p><p id="p0169" num="0169">In a second implementation scenario, before the transmitter 193 sends the acknowledgement message to the user equipment according to a determining result, the processor 192 is further configured to mask, by using the first RNTI, a sequence including the AG information and the CRC code, and the transmitter 193 sends a masked sequence including the AG information and the CRC code to the user equipment.</p><p id="p0170" num="0170">In a third implementation scenario, before the transmitter 193 sends the acknowledgement message to the user equipment according to a determining result, the processor 192 is further configured to mask a CRC code by using the first RNTI, and the masked CRC code is sent to the user equipment.</p><p id="p0171" num="0171">In a fourth implementation scenario, before the transmitter 193 sends the acknowledgement message to the user equipment according to a determining result, the processor 192 is further configured to mask the CRC code by using the E-RNTI identifier, in the cell accessed by the user equipment, corresponding to the first RNTI. After the transmitter 193 sends the acknowledgement message to the user equipment, the user equipment may determine, according to the E-RNTI identifier corresponding to the first RNTI and the acknowledgement message carrying the AG information and the CRC code, whether the E-DCH is an available resource.</p><p id="p0172" num="0172">In this embodiment of the present invention, a base station receives a collision detection request that is sent on an E-DCH by user equipment, where the collision detection request carries a first RNTI corresponding to the user equipment; determines whether the E-DCH is occupied by other user equipment than the user equipment; and sends an acknowledgement message to the user equipment according to a determining result, so that the user equipment determines, according to the first RNTI and the acknowledgement message, whether the E-DCH is an available resource. Therefore, when collision detection is performed after a cell handover of the user equipment, the first RNTI does not need to be updated, thereby reducing network resource wastes in the collision detection and shortening a collision detection delay.<!-- EPO <DP n="38"> --></p><p id="p0173" num="0173">It may be clearly understood by a person skilled in the art that, for the purpose of convenient and brief description, division of the foregoing functional modules is only an example for illustration. In actual application, the foregoing functions can be allocated to different functional modules and implemented as required, that is, an inner structure of an apparatus is divided into different functional modules to implement all or some of the functions described above. For a detailed working process of the foregoing system, apparatus, and unit, reference may be made to a corresponding process in the foregoing method embodiments, and details are not described herein again.</p><p id="p0174" num="0174">In the several embodiments provided in the present application, it should be understood that the disclosed system, apparatus, and method may be implemented in other manners. For example, the described apparatus embodiment is merely exemplary. For example, the module or unit division is merely logical function division and may be other division in actual implementation. For example, a plurality of units or components may be combined or integrated into another system, or some features may be ignored or not performed. In addition, the displayed or discussed mutual couplings or direct couplings or communication connections may be implemented by using some interfaces. The indirect couplings or communication connections between the apparatuses or units may be implemented in electronic, mechanical, or other forms.</p><p id="p0175" num="0175">The units described as separate parts may or may not be physically separate, and parts displayed as units may or may not be physical units, may be located in one position, or may be distributed on a plurality of network units. Some or all of the units may be selected according to actual needs to achieve the objectives of the solutions of the embodiments.</p><p id="p0176" num="0176">In addition, functional units in the embodiments of the present application may be integrated into one processing unit, or each of the units may exist alone physically, or two or more units are integrated into one unit. The integrated unit may be implemented in a form of hardware, or may be implemented in a form of a software functional unit.</p><p id="p0177" num="0177">When the integrated unit is implemented in the form of a software functional unit and sold or used as an independent product, the integrated unit may be stored in a computer-readable storage medium. Based on such an understanding, the technical solutions of the present application essentially, or the part contributing to the prior art,<!-- EPO <DP n="39"> --> or all or some of the technical solutions may be implemented in the form of a software product. The computer software product is stored in a storage medium and includes several instructions for instructing a computer device (which may be a personal computer, a server, or a network device) or a processor (processor) to perform all or some of the steps of the methods described in the embodiments of the present application. The foregoing storage medium includes: any medium that can store program code, such as a USB flash drive, a removable hard disk, a read-only memory (ROM, Read-Only Memory), a random access memory (RAM, Random Access Memory), a magnetic disk, or an optical disc.</p><p id="p0178" num="0178">The foregoing embodiments are only used to describe the technical solutions of the present application in detail. However, the description of the foregoing embodiments is only used to help understand the method and core idea of the present invention, and shall not be understood as a limitation on the present invention. Any variation or replacement readily figured out by a person skilled in the art within the technical scope disclosed in the present invention shall fall within the protection scope of the present invention.</p></description><claims mxw-id="PCLM90459109" lang="EN" load-source="patent-office"><!-- EPO <DP n="40"> --><claim id="c-en-0001" num="0001"><claim-text>A user equipment collision detection method, comprising:
<claim-text>sending, by user equipment, a collision detection request on an enhanced uplink dedicated data channel E-DCH to a base station, wherein the collision detection request carries a first radio network temporary identifier (RNTI) corresponding to the user equipment, so that the base station determines whether the E-DCH is occupied by other user equipment than the user equipment;</claim-text>
<claim-text>receiving, by the user equipment, an acknowledgement message sent by the base station, wherein the acknowledgement message carries absolute grant (AG) information and a cyclic redundancy check (CRC) code; and</claim-text>
<claim-text>determining, by the user equipment according to the first RNTI, the AG information, and the CRC code, whether the E-DCH is an available resource.</claim-text></claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>The method according to claim 1, wherein the first RNTI comprises a first definition portion and a second definition portion; and<br/>
the determining, by the user equipment according to the first RNTI, the AG information, and the CRC code, whether the E-DCH is an available resource comprises:
<claim-text>de-masking, by the user equipment, the CRC code by using the first definition portion; and</claim-text>
<claim-text>if a CRC code is verified successfully, and the second definition portion is comprised in the AG information, determining, by the user equipment, that the E-DCH is an available resource.</claim-text></claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>The method according to claim 1, wherein the determining, by the user equipment according to the first RNTI, the AG information, and the CRC code, whether the E-DCH is an available resource comprises:
<claim-text>de-masking, by the user equipment by using the first RNTI, a sequence comprising the AG information and the CRC code; and</claim-text>
<claim-text>if a CRC code is verified successfully, determining, by the user equipment, that the E-DCH is an available resource.</claim-text></claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>The method according to claim 1, wherein the determining, by the user equipment according to the first RNTI, the AG information, and the CRC code, whether the E-DCH is an available resource comprises:<!-- EPO <DP n="41"> -->
<claim-text>de-masking, by the user equipment, the CRC code by using the first RNTI; and</claim-text>
<claim-text>if a CRC code is verified successfully, determining, by the user equipment, that the E-DCH is an available resource.</claim-text></claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>The method according to any one of claims 1 to 4, wherein before the sending, by user equipment, a collision detection request on an enhanced uplink dedicated data channel E-DCH to a base station, the method further comprises:
<claim-text>receiving, by the user equipment, a first broadcast message sent by the base station, wherein the first broadcast message carries common E-DCH resource information, so that the user equipment selects, according to the common E-DCH resource information, the E-DCH for sending the first RNTI.</claim-text></claim-text></claim><claim id="c-en-0006" num="0006"><claim-text>The method according to claim 1, wherein the sending, by user equipment, a collision detection request on an enhanced uplink dedicated data channel E-DCH to a base station specifically comprises:
<claim-text>determining, by the user equipment, an enhanced radio network temporary identifier (E-RNTI identifier), in a cell accessed by the user equipment, corresponding to the first RNTI; and</claim-text>
<claim-text>sending, by the user equipment to the base station on the E-DCH, a collision detection request carrying the E-RNTI identifier.</claim-text></claim-text></claim><claim id="c-en-0007" num="0007"><claim-text>The method according to claim 6, wherein the determining, by the user equipment according to the first RNTI, the AG information, and the CRC code, whether the E-DCH is an available resource comprises:
<claim-text>de-masking, by the user equipment, the CRC code by using the E-RNTI identifier corresponding to the first RNTI; and</claim-text>
<claim-text>if a CRC code is verified successfully, determining, by the user equipment, that the E-DCH is an available resource.</claim-text></claim-text></claim><claim id="c-en-0008" num="0008"><claim-text>The method according to claim 6 or 7, wherein before the sending, by user equipment, a collision detection request on an enhanced uplink dedicated data channel E-DCH to a base station, the method further comprises:
<claim-text>receiving, by the user equipment, a second broadcast message sent by the base station, wherein the second broadcast message carries common E-DCH resource information, so that the user equipment selects, according to the common E-DCH resource information, the E-DCH for sending the E-RNTI identifier, wherein the second broadcast message further carries an enhanced radio network temporary identifier (E-RNTI) list of the cell accessed by the user equipment.</claim-text><!-- EPO <DP n="42"> --></claim-text></claim><claim id="c-en-0009" num="0009"><claim-text>The method according to any one of claims 6 to 8, wherein the determining, by the user equipment, an E-RNTI identifier, in a cell accessed by the user equipment, corresponding to the first RNTI comprises:
<claim-text>using, by the user equipment, a value of the first RNTI as a dividend and using a quantity of E-RNTIs in the E-RNTI list as a divisor, to acquire a corresponding remainder; and acquiring an enhanced radio network temporary identifier (E-RNTI) whose sequence number in the E-RNTI list is the remainder.</claim-text></claim-text></claim><claim id="c-en-0010" num="0010"><claim-text>The method according to any one of claims 1 to 9, wherein the first broadcast message or the second broadcast message may further carry an enhanced radio network temporary identifier (E-RNTI identifier) corresponding to the common E-DCH resource information; and<br/>
after determining that the E-DCH is an available resource, the user equipment performs data transmission with the base station by using the E-RNTI identifier corresponding to the E-DCH.</claim-text></claim><claim id="c-en-0011" num="0011"><claim-text>A user equipment collision detection method, comprising:
<claim-text>receiving, by a base station, a collision detection request that is sent on an enhanced uplink dedicated data channel E-DCH by user equipment, wherein the collision detection request carries a first radio network temporary identifier (RNTI) corresponding to the user equipment;</claim-text>
<claim-text>determining, by the base station, whether the E-DCH is occupied by other user equipment than the user equipment; and</claim-text>
<claim-text>sending, by the base station, an acknowledgement message to the user equipment according to a determining result, wherein the acknowledgement message carries absolute grant (AG) information and a cyclic redundancy check (CRC) code, so that the user equipment determines, according to the first RNTI, the AG information, and the CRC code, whether the E-DCH is an available resource.</claim-text></claim-text></claim><claim id="c-en-0012" num="0012"><claim-text>The method according to claim 11, wherein the first RNTI comprises a first definition portion and a second definition portion; and<br/>
before the sending, by the base station, an acknowledgement message to the user equipment according to the determining result, the method further comprises:
<claim-text>masking, by the base station, the CRC code by using the first definition portion; and</claim-text>
<claim-text>determining, by the base station, the second definition portion as the AG information.</claim-text><!-- EPO <DP n="43"> --></claim-text></claim><claim id="c-en-0013" num="0013"><claim-text>The method according to claim 11, wherein before the sending, by the base station, an acknowledgement message to the user equipment according to the determining result, the method further comprises:
<claim-text>masking, by the base station by using the first RNTI, a sequence comprising the AG information and the CRC code.</claim-text></claim-text></claim><claim id="c-en-0014" num="0014"><claim-text>The method according to claim 11, wherein before the sending, by the base station, an acknowledgement message to the user equipment according to the determining result, the method further comprises:
<claim-text>masking, by the base station, the CRC code by using the first RNTI.</claim-text></claim-text></claim><claim id="c-en-0015" num="0015"><claim-text>The method according to any one of claims 11 to 14, wherein before the receiving, by a base station, a collision detection request that is sent on an enhanced uplink dedicated data channel E-DCH by user equipment, the method further comprises:
<claim-text>sending, by the base station, a first broadcast message to the user equipment, wherein the first broadcast message carries common E-DCH resource information, so that the user equipment selects, according to the common E-DCH resource information, the E-DCH for sending the first RNTI.</claim-text></claim-text></claim><claim id="c-en-0016" num="0016"><claim-text>The method according to claim 11, wherein if the collision detection request carries an enhanced radio network temporary identifier (E-RNTI identifier), in a cell accessed by the user equipment, corresponding to the first RNTI, before the sending, by the base station, an acknowledgement message to the user equipment according to the determining result, the method further comprises:
<claim-text>masking, by the base station, the CRC code by using the E-RNTI identifier.</claim-text></claim-text></claim><claim id="c-en-0017" num="0017"><claim-text>The method according to claim 16, wherein before the receiving, by a base station, a collision detection request that is sent on an enhanced uplink dedicated data channel E-DCH by user equipment, the method further comprises:
<claim-text>sending, by the base station, a second broadcast message to the user equipment, wherein the second broadcast message carries common E-DCH resource information, so that the user equipment selects, according to the common E-DCH resource information, the E-DCH for sending the collision detection request, wherein the second broadcast message further carries an enhanced radio network temporary identifier (E-RNTI) list of the cell accessed by the user equipment.</claim-text></claim-text></claim><claim id="c-en-0018" num="0018"><claim-text>User equipment, comprising:
<claim-text>a sending module, configured to send a collision detection request on an<!-- EPO <DP n="44"> --> enhanced uplink dedicated data channel E-DCH to a base station, wherein the collision detection request carries a first radio network temporary identifier (RNTI) corresponding to the user equipment, so that the base station determines whether the E-DCH is occupied by other user equipment than the user equipment;</claim-text>
<claim-text>a receiving module, configured to receive an acknowledgement message sent by the base station, wherein the acknowledgement message carries absolute grant (AG) information and a cyclic redundancy check (CRC) code; and</claim-text>
<claim-text>a determining module, configured to determine, according to the first RNTI, the AG information, and the CRC code, whether the E-DCH is an available resource.</claim-text></claim-text></claim><claim id="c-en-0019" num="0019"><claim-text>The user equipment according to claim 18, wherein the first RNTI comprises a first definition portion and a second definition portion;<br/>
the user equipment further comprises a first de-masking module, configured to de-mask the CRC code by using the first definition portion; and<br/>
if a CRC code is verified successfully, and the second definition portion is comprised in the AG information, the determining module is specifically configured to determine that the E-DCH is an available resource.</claim-text></claim><claim id="c-en-0020" num="0020"><claim-text>The user equipment according to claim 18, wherein the user equipment further comprises a second de-masking module, configured to de-mask, by using the first RNTI, a sequence comprising the AG information and the CRC code; and<br/>
if a CRC code is verified successfully, the determining module is specifically configured to determine that the E-DCH is an available resource.</claim-text></claim><claim id="c-en-0021" num="0021"><claim-text>The user equipment according to claim 18, wherein the user equipment further comprises a third de-masking module, configured to de-mask the CRC code by using the first RNTI; and<br/>
if a CRC code is verified successfully, the determining module is specifically configured to determine that the E-DCH is an available resource.</claim-text></claim><claim id="c-en-0022" num="0022"><claim-text>The user equipment according to any one of claims 18 to 21, wherein before the sending module sends the collision detection request on the enhanced uplink dedicated data channel E-DCH to the base station, the receiving module is further configured to receive a first broadcast message sent by the base station, wherein the first broadcast message carries common E-DCH resource information, so that the user equipment selects, according to the common E-DCH resource information, the E-DCH for sending the first RNTI.</claim-text></claim><claim id="c-en-0023" num="0023"><claim-text>The user equipment according to claim 18, wherein the determining module<!-- EPO <DP n="45"> --> is further configured to determine an enhanced radio network temporary identifier (E-RNTI identifier), in a cell accessed by the user equipment, corresponding to the first RNTI; and<br/>
the sending module is specifically configured to send, to the base station on the E-DCH, a collision detection request carrying the E-RNTI identifier.</claim-text></claim><claim id="c-en-0024" num="0024"><claim-text>The user equipment according to claim 23, wherein the user equipment further comprises a fourth de-masking module, configured to de-mask the CRC code by using the E-RNTI identifier; and<br/>
if a CRC code is verified successfully, the determining module is specifically configured to determine that the E-DCH is an available resource.</claim-text></claim><claim id="c-en-0025" num="0025"><claim-text>The user equipment according to claim 23 or 24, wherein before the sending module sends the collision detection request on the enhanced uplink dedicated data channel E-DCH to the base station, the receiving module is further configured to receive a second broadcast message sent by the base station, wherein the second broadcast message carries common E-DCH resource information, so that the user equipment selects, according to the common E-DCH resource information, the E-DCH for sending the collision detection request, wherein the second broadcast message further carries an enhanced radio network temporary identifier (E-RNTI) list of the cell accessed by the user equipment.</claim-text></claim><claim id="c-en-0026" num="0026"><claim-text>The user equipment according to any one of claims 23 to 25, wherein the determining module is specifically configured to: use a value of the first RNTI as a dividend and use a quantity of E-RNTIs in the E-RNTI list as a divisor, to acquire a corresponding remainder; and acquire an enhanced radio network temporary identifier (E-RNTI) whose sequence number in the E-RNTI list is the remainder.</claim-text></claim><claim id="c-en-0027" num="0027"><claim-text>The user equipment according to any one of claims 18 to 26, wherein the first broadcast message or the second broadcast message may further carry an enhanced radio network temporary identifier (E-RNTI identifier) corresponding to the common E-DCH resource information; and<br/>
after the determining module determines that the E-DCH is an available resource, data transmission with the base station is performed by using the E-RNTI identifier corresponding to the E-DCH.</claim-text></claim><claim id="c-en-0028" num="0028"><claim-text>Abase station, comprising:
<claim-text>a receiving module, configured to receive a collision detection request that is sent on an enhanced uplink dedicated data channel E-DCH by user equipment,<!-- EPO <DP n="46"> --> wherein the collision detection request carries a first radio network temporary identifier (RNTI) corresponding to the user equipment;</claim-text>
<claim-text>a determining module, configured to determine whether the E-DCH is occupied by other user equipment than the user equipment; and</claim-text>
<claim-text>a sending module, configured to send an acknowledgement message to the user equipment according to the determining result, wherein the acknowledgement message carries absolute grant (AG) information and a cyclic redundancy check (CRC) code, so that the user equipment determines, according to the first RNTI, the AG information, and the CRC code, whether the E-DCH is an available resource.</claim-text></claim-text></claim><claim id="c-en-0029" num="0029"><claim-text>The base station according to claim 28, wherein the first RNTI comprises a first definition portion and a second definition portion; and<br/>
before the sending module sends the acknowledgement message to the user equipment according to the determining result, the base station further comprises:
<claim-text>a first masking module, configured to mask a CRC code by using the first definition portion; and</claim-text>
<claim-text>a first determining module, configured to determine the second definition portion as the AG information.</claim-text></claim-text></claim><claim id="c-en-0030" num="0030"><claim-text>The base station according to claim 28, wherein before the sending module sends the acknowledgement message to the user equipment according to the determining result, the base station further comprises:
<claim-text>a second masking module, configured to mask, by using the first RNTI, a sequence comprising the AG information and the CRC code.</claim-text></claim-text></claim><claim id="c-en-0031" num="0031"><claim-text>The base station according to claim 28, wherein before the sending module sends the acknowledgement message to the user equipment according to the determining result, the base station further comprises:
<claim-text>a third masking module, configured to mask the CRC code by using the first RNTI.</claim-text></claim-text></claim><claim id="c-en-0032" num="0032"><claim-text>The base station according to any one of claims 28 to 31, wherein before the receiving module receives the collision detection request that is sent on the enhanced uplink dedicated data channel E-DCH by the user equipment, the sending module is further configured to send a first broadcast message to the user equipment, wherein the first broadcast message carries common E-DCH resource information, so that the user equipment selects, according to the common E-DCH resource information, the E-DCH for sending the first RNTI.<!-- EPO <DP n="47"> --></claim-text></claim><claim id="c-en-0033" num="0033"><claim-text>The base station according to claim 28, wherein if the collision detection request carries an enhanced radio network temporary identifier (E-RNTI identifier), in a cell accessed by the user equipment, corresponding to the first RNTI, before the sending module sends the acknowledgement message to the user equipment according to the determining result, the base station further comprises a fourth masking module, wherein:
<claim-text>the fourth masking module is configured to mask the CRC code by using the E-RNTI identifier.</claim-text></claim-text></claim><claim id="c-en-0034" num="0034"><claim-text>The base station according to claim 33, wherein before the receiving module receives the collision detection request that is sent on the enhanced uplink dedicated data channel E-DCH by the user equipment, the sending module is further configured to send a second broadcast message to the user equipment, wherein the second broadcast message carries common E-DCH resource information, so that the user equipment selects, according to the common E-DCH resource information, the E-DCH for sending the collision detection request, wherein the second broadcast message further carries an enhanced radio network temporary identifier (E-RNTI) list of the cell accessed by the user equipment.</claim-text></claim><claim id="c-en-0035" num="0035"><claim-text>User equipment, comprising:
<claim-text>a transmitter, configured to send a collision detection request on an enhanced uplink dedicated data channel E-DCH to a base station, wherein the collision detection request carries a first radio network temporary identifier (RNTI) corresponding to the user equipment, so that the base station determines whether the E-DCH is occupied by other user equipment than the user equipment;</claim-text>
<claim-text>a receiver, configured to receive an acknowledgement message sent by the base station, wherein the acknowledgement message carries absolute grant (AG) information and a cyclic redundancy check (CRC) code; and</claim-text>
<claim-text>a processor, configured to determine, according to the first RNTI, the AG information, and the CRC code, whether the E-DCH is an available resource.</claim-text></claim-text></claim><claim id="c-en-0036" num="0036"><claim-text>The user equipment according to claim 35, wherein the first RNTI comprises a first definition portion and a second definition portion;<br/>
the processor is further configured to de-mask the CRC code by using the first definition portion; and<br/>
if a CRC code is verified successfully, and the second definition portion is comprised in the AG information, the processor is specifically configured to<!-- EPO <DP n="48"> --> determine that the E-DCH is an available resource.</claim-text></claim><claim id="c-en-0037" num="0037"><claim-text>The user equipment according to claim 35, wherein the processor is further configured to de-mask, by using the first RNTI, a sequence comprising the AG information and the CRC code; and<br/>
if a CRC code is verified successfully, the processor is specifically configured to determine that the E-DCH is an available resource.</claim-text></claim><claim id="c-en-0038" num="0038"><claim-text>The user equipment according to claim 35, wherein the processor is further configured to de-mask the CRC code by using the first RNTI; and<br/>
if a CRC code is verified successfully, the processor is specifically configured to determine that the E-DCH is an available resource.</claim-text></claim><claim id="c-en-0039" num="0039"><claim-text>The user equipment according to any one of claims 35 to 38, wherein before the transmitter sends the collision detection request on the enhanced uplink dedicated data channel E-DCH to the base station, the receiver is further configured to receive a first broadcast message sent by the base station, wherein the first broadcast message carries common E-DCH resource information, so that the user equipment selects, according to the common E-DCH resource information, the E-DCH for sending the first RNTI.</claim-text></claim><claim id="c-en-0040" num="0040"><claim-text>The user equipment according to claim 35, wherein the processor is further configured to determine an enhanced radio network temporary identifier (E-RNTI identifier), in a cell accessed by the user equipment, corresponding to the first RNTI; and<br/>
the transmitter is specifically configured to send, to the base station on the E-DCH, a collision detection request carrying the E-RNTI identifier.</claim-text></claim><claim id="c-en-0041" num="0041"><claim-text>The user equipment according to claim 40, wherein the processor is further configured to de-mask the CRC code by using the E-RNTI identifier; and<br/>
if a CRC code is verified successfully, the processor is further configured to determine that the E-DCH is an available resource.</claim-text></claim><claim id="c-en-0042" num="0042"><claim-text>The user equipment according to claim 40 or 41, wherein before the transmitter sends the collision detection request on the enhanced uplink dedicated data channel E-DCH to the base station, the receiver is further configured to receive a second broadcast message sent by the base station, wherein the second broadcast message carries common E-DCH resource information, so that the user equipment selects, according to the common E-DCH resource information, the E-DCH for sending the collision detection request, wherein the second broadcast message further<!-- EPO <DP n="49"> --> carries an enhanced radio network temporary identifier (E-RNTI) list of the cell accessed by the user equipment.</claim-text></claim><claim id="c-en-0043" num="0043"><claim-text>The user equipment according to any one of claims 40 to 42, wherein the processor is specifically configured to: use a value of the first RNTI as a dividend and use a quantity of E-RNTIs in the E-RNTI list as a divisor, to acquire a corresponding remainder; and acquire an enhanced radio network temporary identifier (E-RNTI) whose sequence number in the E-RNTI list is the remainder.</claim-text></claim><claim id="c-en-0044" num="0044"><claim-text>The user equipment according to any one of claims 35 to 43, wherein the first broadcast message or the second broadcast message may further carry an E-RNTI identifier corresponding to the common E-DCH resource information; and<br/>
after the processor determines that the E-DCH is an available resource, data transmission with the base station is performed by using the E-RNTI identifier corresponding to the E-DCH.</claim-text></claim><claim id="c-en-0045" num="0045"><claim-text>Abase station, comprising:
<claim-text>a receiver, configured to receive a collision detection request that is sent on an enhanced uplink dedicated data channel E-DCH by user equipment, wherein the collision detection request carries a first radio network temporary identifier (RNTI) corresponding to the user equipment;</claim-text>
<claim-text>a processor, configured to determine whether the E-DCH is occupied by other user equipment than the user equipment; and</claim-text>
<claim-text>a transmitter, configured to send an acknowledgement message to the user equipment according to the determining result, wherein the acknowledgement message carries absolute grant (AG) information and a cyclic redundancy check (CRC) code, so that the user equipment determines, according to the first RNTI, the AG information, and the CRC code, whether the E-DCH is an available resource.</claim-text></claim-text></claim><claim id="c-en-0046" num="0046"><claim-text>The base station according to claim 45, wherein the first RNTI comprises a first definition portion and a second definition portion; and<br/>
before the transmitter sends the acknowledgement message to the user equipment according to the determining result, the processor is further configured to mask the CRC code by using the first definition portion, and determine the second definition portion as the AG information.</claim-text></claim><claim id="c-en-0047" num="0047"><claim-text>The base station according to claim 45, wherein before the transmitter sends the acknowledgement message to the user equipment according to the determining result, the processor is further configured to mask, by using the first RNTI, a sequence<!-- EPO <DP n="50"> --> comprising the AG information and the CRC code.</claim-text></claim><claim id="c-en-0048" num="0048"><claim-text>The base station according to claim 45, wherein before the transmitter sends the acknowledgement message to the user equipment according to the determining result, the processor is further configured to mask the CRC code by using the first RNTI.</claim-text></claim><claim id="c-en-0049" num="0049"><claim-text>The base station according to any one of claims 45 to 48, wherein before the receiver receives the collision detection request that is sent on the enhanced uplink dedicated data channel E-DCH by the user equipment, the transmitter is further configured to send a first broadcast message to the user equipment, wherein the first broadcast message carries common E-DCH resource information, so that the user equipment selects, according to the common E-DCH resource information, the E-DCH for sending the first RNTI.</claim-text></claim><claim id="c-en-0050" num="0050"><claim-text>The base station according to claim 45, wherein if the collision detection request carries an E-RNTI identifier, in a cell accessed by the user equipment, corresponding to the first RNTI, before the transmitter sends the acknowledgement message to the user equipment according to the determining result, the processor is further configured to mask the CRC code by using the E-RNTI identifier.</claim-text></claim><claim id="c-en-0051" num="0051"><claim-text>The base station according to claim 50, wherein before the receiver receives the collision detection request that is sent on the enhanced uplink dedicated data channel E-DCH by the user equipment, the transmitter is further configured to send a second broadcast message to the user equipment, wherein the second broadcast message carries common E-DCH resource information, so that the user equipment selects, according to the common E-DCH resource information, the E-DCH for sending the collision detection request, wherein the second broadcast message further carries an enhanced radio network temporary identifier (E-RNTI) list of the cell accessed by the user equipment.</claim-text></claim></claims><drawings mxw-id="PDW20421847" load-source="patent-office"><!-- EPO <DP n="51"> --><figure id="f0001" num="1,2,3"><img id="if0001" file="imgf0001.tif" wi="155" he="224" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="52"> --><figure id="f0002" num="4,5"><img id="if0002" file="imgf0002.tif" wi="155" he="184" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="53"> --><figure id="f0003" num="6"><img id="if0003" file="imgf0003.tif" wi="155" he="160" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="54"> --><figure id="f0004" num="7,8"><img id="if0004" file="imgf0004.tif" wi="155" he="211" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="55"> --><figure id="f0005" num="9,10,11"><img id="if0005" file="imgf0005.tif" wi="155" he="211" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="56"> --><figure id="f0006" num="12,13,14"><img id="if0006" file="imgf0006.tif" wi="155" he="194" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="57"> --><figure id="f0007" num="15,16,17"><img id="if0007" file="imgf0007.tif" wi="155" he="215" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="58"> --><figure id="f0008" num="18,19"><img id="if0008" file="imgf0008.tif" wi="155" he="144" img-content="drawing" img-format="tif"/></figure></drawings><search-report-data><doc-page id="srep0001" file="srep0001.tif" wi="165" he="222" type="tif"/><doc-page id="srep0002" file="srep0002.tif" wi="165" he="222" type="tif"/><doc-page id="srep0003" file="srep0003.tif" wi="165" he="228" type="tif"/></search-report-data><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
