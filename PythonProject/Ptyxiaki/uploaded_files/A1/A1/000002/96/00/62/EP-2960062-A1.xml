<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2960062-A1" country="EP" doc-number="2960062" kind="A1" date="20151230" family-id="53434283" file-reference-id="318335" date-produced="20180826" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="160452201" ucid="EP-2960062-A1"><document-id><country>EP</country><doc-number>2960062</doc-number><kind>A1</kind><date>20151230</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-15173682-A" is-representative="YES"><document-id mxw-id="PAPP193867370" load-source="patent-office" format="original"><country>EP</country><doc-number>15173682.4</doc-number><date>20150624</date><lang>EN</lang></document-id><document-id mxw-id="PAPP193867371" load-source="docdb" format="epo"><country>EP</country><doc-number>15173682</doc-number><kind>A</kind><date>20150624</date><lang>EN</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC162028387" ucid="EP-14174460-A" load-source="docdb"><document-id format="epo"><country>EP</country><doc-number>14174460</doc-number><kind>A</kind><date>20140626</date></document-id></priority-claim><priority-claim mxw-id="PPC162034127" ucid="EP-14197454-A" load-source="docdb"><document-id format="epo"><country>EP</country><doc-number>14197454</doc-number><kind>A</kind><date>20141211</date></document-id></priority-claim><priority-claim mxw-id="PPC162028357" ucid="EP-15173682-A" load-source="docdb"><document-id format="epo"><country>EP</country><doc-number>15173682</doc-number><kind>A</kind><date>20150624</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-1988524922" load-source="docdb">B65H  20/02        20060101ALI20151028BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1988526591" load-source="docdb">B41J  11/46        20060101AFI20151028BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1934578857" load-source="docdb" scheme="CPC">B65H2511/16        20130101 LA20160531BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1934579092" load-source="docdb" scheme="CPC">B65H2511/222       20130101 LA20160531BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1937853465" load-source="docdb" scheme="CPC">B65H2511/166       20130101 LA20160516BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1937853951" load-source="docdb" scheme="CPC">B65H2801/36        20130101 LA20160516BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1937854996" load-source="docdb" scheme="CPC">B65H2403/46        20130101 LA20160516BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1937855153" load-source="docdb" scheme="CPC">B65H  20/02        20130101 FI20160516BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1937855517" load-source="docdb" scheme="CPC">B41J  11/46        20130101 LI20160516BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1937855801" load-source="docdb" scheme="CPC">B65H2511/11        20130101 LA20160516BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1937856118" load-source="docdb" scheme="CPC">B65H   5/06        20130101 LI20160514BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1937856594" load-source="docdb" scheme="CPC">B41J  13/0027      20130101 LI20160514BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1937856694" load-source="docdb" scheme="CPC">B65H2404/143       20130101 LA20160516BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1937857053" load-source="docdb" scheme="CPC">B65H2557/61        20130101 LA20160516BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1937857255" load-source="docdb" scheme="CPC">B65H2511/24        20130101 LA20160516BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1937857338" load-source="docdb" scheme="CPC">B65H2511/512       20130101 LA20160516BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1937857395" load-source="docdb" scheme="CPC">B65H2553/51        20130101 LA20160516BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1937857663" load-source="docdb" scheme="CPC">B65H2220/03        20130101 LA20160516BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT165548069" lang="DE" load-source="patent-office">VERFAHREN ZUR KALIBRIERUNG GENAUER PAPIERSCHRITTE</invention-title><invention-title mxw-id="PT165548070" lang="EN" load-source="patent-office">METHOD FOR CALIBRATING ACCURATE PAPER STEPS</invention-title><invention-title mxw-id="PT165548071" lang="FR" load-source="patent-office">PROCÉDÉ D'ÉTALONNAGE PRÉCIS D'ÉTAPES DE PAPIER</invention-title><citations><patent-citations><patcit mxw-id="PCIT335743646" load-source="docdb" ucid="EP-1782960-B1"><document-id format="epo"><country>EP</country><doc-number>1782960</doc-number><kind>B1</kind><date>20080716</date></document-id><sources><source name="APP" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT335741683" load-source="docdb" ucid="US-20020037191-A1"><document-id format="epo"><country>US</country><doc-number>20020037191</doc-number><kind>A1</kind><date>20020328</date></document-id><sources><source name="SEA" category="A" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT335738801" load-source="docdb" ucid="US-20020097293-A1"><document-id format="epo"><country>US</country><doc-number>20020097293</doc-number><kind>A1</kind><date>20020725</date></document-id><sources><source name="SEA" category="A" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT335742032" load-source="docdb" ucid="US-20040179217-A1"><document-id format="epo"><country>US</country><doc-number>20040179217</doc-number><kind>A1</kind><date>20040916</date></document-id><sources><source name="SEA" category="A" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT335745152" load-source="docdb" ucid="US-20070098476-A1"><document-id format="epo"><country>US</country><doc-number>20070098476</doc-number><kind>A1</kind><date>20070503</date></document-id><sources><source name="SEA" category="A" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT335742756" load-source="docdb" ucid="US-5529414-A"><document-id format="epo"><country>US</country><doc-number>5529414</doc-number><kind>A</kind><date>19960625</date></document-id><sources><source name="APP" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT335744909" load-source="docdb" ucid="US-6336702-B1"><document-id format="epo"><country>US</country><doc-number>6336702</doc-number><kind>B1</kind><date>20020108</date></document-id><sources><source name="SEA" category="A" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT335742113" load-source="docdb" ucid="US-7980655-B2"><document-id format="epo"><country>US</country><doc-number>7980655</doc-number><kind>B2</kind><date>20110719</date></document-id><sources><source name="APP" created-by-npl="N"/></sources></patcit></patent-citations><non-patent-citations><nplcit><text>E.J. CANDES, T. TAO, ANNALS OF STATISTICS, vol. 35, no. 6, - 2007, pages 2313 - 2351</text><sources><source mxw-id="PNPL65827612" load-source="docdb" name="APP"/></sources></nplcit><nplcit><text>K.J. ASTR6M; B. WITTENMARK, COMPUTER CONTROL SYSTEMS, 1984, pages 328</text><sources><source mxw-id="PNPL57907173" load-source="docdb" name="APP"/></sources></nplcit></non-patent-citations></citations></technical-data><parties><applicants><applicant mxw-id="PPAR1103339273" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>OCE TECH BV</last-name><address><country>NL</country></address></addressbook></applicant><applicant mxw-id="PPAR1103308709" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>OCE-TECHNOLOGIES B.V.</last-name></addressbook></applicant><applicant mxw-id="PPAR1101649709" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>OCE-Technologies B.V.</last-name><iid>101100849</iid><address><street>P.O. Box 101 St. Urbanusweg 43</street><city>5914 CA Venlo</city><country>NL</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR1103342654" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>DIRKSZ DANIËL A</last-name><address><country>NL</country></address></addressbook></inventor><inventor mxw-id="PPAR1103314875" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>DIRKSZ, Daniël A.</last-name></addressbook></inventor><inventor mxw-id="PPAR1101640090" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>DIRKSZ, Daniël A.</last-name><address><street>St. Urbanusweg 43</street><city>5914 CA Venlo</city><country>NL</country></address></addressbook></inventor><inventor mxw-id="PPAR1103316050" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>KOEKEBAKKER SJIRK H</last-name><address><country>NL</country></address></addressbook></inventor><inventor mxw-id="PPAR1103313264" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>KOEKEBAKKER, Sjirk H.</last-name></addressbook></inventor><inventor mxw-id="PPAR1101644459" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>KOEKEBAKKER, Sjirk H.</last-name><address><street>St. Urbanusweg 43</street><city>5914 CA Venlo</city><country>NL</country></address></addressbook></inventor><inventor mxw-id="PPAR1103342636" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>PÉREZ MUÑOZ JUAN C</last-name><address><country>NL</country></address></addressbook></inventor><inventor mxw-id="PPAR1103320565" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>PÉREZ MUÑOZ, Juan C.</last-name></addressbook></inventor><inventor mxw-id="PPAR1101645003" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>PÉREZ MUÑOZ, Juan C.</last-name><address><street>St. Urbanusweg 43</street><city>5914 CA Venlo</city><country>NL</country></address></addressbook></inventor><inventor mxw-id="PPAR1103304008" load-source="docdb" sequence="4" format="epo"><addressbook><last-name>COENEN JEROEN J G</last-name><address><country>NL</country></address></addressbook></inventor><inventor mxw-id="PPAR1103330096" load-source="docdb" sequence="4" format="intermediate"><addressbook><last-name>COENEN, JEROEN J.G.</last-name></addressbook></inventor><inventor mxw-id="PPAR1101653031" load-source="patent-office" sequence="4" format="original"><addressbook><last-name>COENEN, JEROEN J.G.</last-name><address><street>St. Urbanusweg 43</street><city>5914 CA Venlo</city><country>NL</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR1101647935" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Draaisma, Henricus Johannes George</last-name><iid>101451360</iid><address><street>OCE-TECHNOLOGIES B.V. PPP Intellectual Property P.O. Box 101</street><city>5900 MA Venlo</city><country>NL</country></address></addressbook></agent></agents></parties><international-convention-data><designated-states><ep-contracting-states><country mxw-id="DS660787113" load-source="docdb">AL</country><country mxw-id="DS660620430" load-source="docdb">AT</country><country mxw-id="DS660787114" load-source="docdb">BE</country><country mxw-id="DS660698133" load-source="docdb">BG</country><country mxw-id="DS660714206" load-source="docdb">CH</country><country mxw-id="DS660618328" load-source="docdb">CY</country><country mxw-id="DS660618329" load-source="docdb">CZ</country><country mxw-id="DS660702441" load-source="docdb">DE</country><country mxw-id="DS660787115" load-source="docdb">DK</country><country mxw-id="DS660787116" load-source="docdb">EE</country><country mxw-id="DS660698223" load-source="docdb">ES</country><country mxw-id="DS660698134" load-source="docdb">FI</country><country mxw-id="DS660698139" load-source="docdb">FR</country><country mxw-id="DS660702442" load-source="docdb">GB</country><country mxw-id="DS660787117" load-source="docdb">GR</country><country mxw-id="DS660702443" load-source="docdb">HR</country><country mxw-id="DS660618330" load-source="docdb">HU</country><country mxw-id="DS660714231" load-source="docdb">IE</country><country mxw-id="DS660787118" load-source="docdb">IS</country><country mxw-id="DS660698140" load-source="docdb">IT</country><country mxw-id="DS660787119" load-source="docdb">LI</country><country mxw-id="DS660702444" load-source="docdb">LT</country><country mxw-id="DS660620443" load-source="docdb">LU</country><country mxw-id="DS660698141" load-source="docdb">LV</country><country mxw-id="DS660702445" load-source="docdb">MC</country><country mxw-id="DS660620444" load-source="docdb">MK</country><country mxw-id="DS660620445" load-source="docdb">MT</country><country mxw-id="DS660620446" load-source="docdb">NL</country><country mxw-id="DS660714232" load-source="docdb">NO</country><country mxw-id="DS660620455" load-source="docdb">PL</country><country mxw-id="DS660698224" load-source="docdb">PT</country><country mxw-id="DS660620794" load-source="docdb">RO</country><country mxw-id="DS660698225" load-source="docdb">RS</country><country mxw-id="DS660620456" load-source="docdb">SE</country><country mxw-id="DS660702451" load-source="docdb">SI</country><country mxw-id="DS660714233" load-source="docdb">SK</country><country mxw-id="DS660714234" load-source="docdb">SM</country><country mxw-id="DS660787120" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA166480571" lang="EN" load-source="patent-office"><p id="pa01" num="0001">A method for accurately controlling a medium (10) displacement in an inkjet printer (3) is provided by accurately determining a relation between an actuation signal for a drive motor (14) and a medium displacement. The method comprises the steps of establishing a set of calibration actuation signals each corresponding to a nominal calibration step and determining an achieved medium displacement step for each calibration actuation signal in the set. The set comprises at least one calibration actuation signal for actuating the drive motor (14) to make one full revolution and at least one calibration actuation signal for actuating the drive motor to make a rotation larger than one full revolution, but smaller than two full revolutions. Both a cyclic deviation and a local deviation of the nominal displacement relation is determined based on a finite series of basis functions.
<img id="iaf01" file="imgaf001.tif" wi="130" he="79" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA166760383" lang="EN" source="EPO" load-source="docdb"><p>A method for accurately controlling a medium (10) displacement in an inkjet printer (3) is provided by accurately determining a relation between an actuation signal for a drive motor (14) and a medium displacement. The method comprises the steps of establishing a set of calibration actuation signals each corresponding to a nominal calibration step and determining an achieved medium displacement step for each calibration actuation signal in the set. The set comprises at least one calibration actuation signal for actuating the drive motor (14) to make one full revolution and at least one calibration actuation signal for actuating the drive motor to make a rotation larger than one full revolution, but smaller than two full revolutions. Both a cyclic deviation and a local deviation of the nominal displacement relation is determined based on a finite series of basis functions.</p></abstract><description mxw-id="PDES98405272" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001">BACKGROND OF THE INVENTION</heading><heading id="h0002">1. Field of the invention</heading><p id="p0001" num="0001">The present invention relates to methods for accurately controlling a medium displacement in an inkjet printer, inkjet printers having a control unit that is configured to determine a relation between an actuation signal and a medium displacement, and methods for determining a relation between an actuation signal and a medium displacement in an inkjet printer.</p><heading id="h0003">2. Description of the Related Art</heading><p id="p0002" num="0002">Among the various types of inkjet printers, a scanning-type inkjet printer is known, wherein a recording medium is transported in a specified, transport direction and a carriage, comprising multi-nozzle printheads for applying variously coloured inks, is reciprocating in a scanning direction perpendicular to the transport direction in order to print swaths of ink dots, thereby generating an image on the recording medium. During a scanning movement of the carriage across the recording medium, the medium position is fixed. The advancement of the recording medium is performed stepwise at the time the carriage reverses its movement. The accuracy of a recording medium advancement, also known as a paper step, is known to be important, because contiguous swaths applied by the printheads are to complement each other. An inaccurate paperstep would cause a light or dark border line or area between the swaths.</p><p id="p0003" num="0003">A drive mechanism for achieving accurate papersteps is known e.g. from European Patent <patcit id="pcit0001" dnum="EP1782960B1"><text>1782960 B1</text></patcit>. This mechanism comprises a feed roller having the recording medium pinched onto its surface. Thus, the surface movement of the roller is transferred to the medium. The roller is driven by a drive motor with an angular encoder, or an angle encoding device, on its axis and a slip free transmission that provides a high transmission ratio. A suitable transmission is, amongst others, a worm/wormwheel gear, a gearbox or a toothbelt, possibly multi stage. This has the advantage that a small advance increment of the roller and the medium corresponds to a relatively large angular increment of the motor axis, enabling a high control accuracy of the medium<!-- EPO <DP n="2"> --> transport. A further advantage is that a full revolution of the motor and the intermediate gear corresponds to an applicable basic stepsize of roller and medium combination. This enables the use of papersteps that correspond to an integer number of basic stepsizes, equivalent to an integer number of full revolutions of the motor axis and the intermediate gear. This helps to achieve a high accuracy in a similar way as is described in <patcit id="pcit0002" dnum="US5529414A"><text>US Patent 5,529,414</text></patcit>.</p><p id="p0004" num="0004">In principle, a linear relation exists between an actuation signal, causing the drive motor to rotate to a corresponding angular position of the motor axis, and a displacement of a recording medium, or paper. However, due to eccentricities, unroundness and dimensional errors of the roller, the motor axis, and the transmission, regular, repeating deviations from this linear relation occur. These deviations, or errors, as a function of the actuation signal, or a corresponding circumferential position of the roller, have different frequencies due to the different rotation velocities of the components. A smallest repeating deviation frequency may be identified, associated with the roller and its transmission. This is often the roller frequency, but may also be, for example, the least common multiple of the roller and a belt circumference. By printing a first marker pattern, or reference mark, on the recording medium, displacing the medium over a distance equal to a basic stepsize, printing a second marker pattern besides the first one, usually with a different part of the printhead, and comparing the positions of the two markers, a good estimation of the difference between an actual paper stepsize and a nominal basic stepsize may be obtained. Repeating this procedure enables the determination of this difference in dependence on the angular position of the motor axis and the circumferential position of the roller. A table may be drafted, relating an actuation signal for an integer number of basic stepsizes to a deviation between an actual medium displacement and its nominal value. This table is used by a controlling unit to adjust the actuation signal associated with a required paper step. To appropriately phase the compensation, at least one known configuration or position of the transmission is to be measured, using, for example, a home sensor on the roller. Frequencies which are associated with rotating components other than the roller, may be ignored, due to the fact that these rotating components make full revolutions only. Thus, a full cycle of the higher frequencies is completed.</p><p id="p0005" num="0005">The method sketched above limits the use of the medium transport mechanism to an integer number of basic stepizes only. This may not suffice to design different print<!-- EPO <DP n="3"> --> strategies. For example, a basic stepsize of one eigth of a swathwidth allows the application of a four-pass print strategy by using a stepsize of two basic steps or the application of a two-pass print strategy by using a stepsize of four basic steps, but it is incompatible with a six-pass print strategy applying a stepsize of one sixth of a swathwidth. In that case, the higher frequencies do play a role and can not be ignored. <patcit id="pcit0003" dnum="US7980655B"><text>US patent 7,980,655</text></patcit> provides a method for determining a deviation for these high frequencies. In this method a plurality of markers is printed, with the application of a medium displacement that is smaller than the basic stepsize equivalent to a full rotation of the driving components. Unfortunately, if the basic stepsize is rather small, this method does not provide the required accuracy. This is due to the fact that paperslip causes a form of transient behaviour in the displacement of the medium, that is relatively large when a medium step is small. Furthermore, a small stepsize limits the size of the marker that is used to determine the actual paperstep and a smaller marker results in a less accurate determination.</p><p id="p0006" num="0006">Therefore, a problem exists for determining an accurate relation between a medium displacement and an actuation signal for a medium displacement system with rotating driving components. An object of the present invention is to provide a method that solves the above-mentioned shortcomings.</p><heading id="h0004">SUMMARY OF THE INVENTION</heading><p id="p0007" num="0007">According to the present invention, a method for accurately controlling a medium displacement in an inkjet printer is provided. A relation is determined between an actuation signal and a medium displacement, the actuation signal causing a rotation of a roller by actuating a drive motor that is coupled to the roller by a transmission such that the rotation speed of the drive motor is higher than the rotation speed of the roller that passes its surface movement to a medium pinched onto its surface. The method comprises the steps of: a) establishing a set of calibration actuation signals each corresponding to a nominal calibration step; b) printing a first reference mark on the medium; c) selecting a calibration actuation signal from the set of calibration actuation signals; d) actuating the drive motor to cause the roller to displace the medium over a distance of the nominal calibration step corresponding to the selected calibration actuation signal; e) printing a next reference mark besides the first reference mark in a direction perpendicular to the medium displacement direction; f) optically reading the<!-- EPO <DP n="4"> --> first and the next reference mark; g) determining an achieved medium displacement step from the read reference marks; and h) repeating steps b) to g) for all available calibration actuation signals in the set of calibration actuation signals, wherein the set of calibration actuation signals comprises at least one calibration actuation signal that actuates the drive motor to make one full revolution and one calibration actuation signal that actuates the drive motor to make a rotation larger than one full revolution, but smaller than two full revolutions, and determining a relation between the calibration actuation signals and the difference between the achieved medium displacement steps and the nominal calibration steps, based on a finite series of basis functions. These basis functions comprise a set of parameters with values that are established from the difference measurements by the use of multivariate linear regression. The use of the different stepsizes enables the determination of parameters associated with frequencies that otherwise would fall outside the scope of measurement. The stepsize larger than one full revolution of the drive motor is used to sample variations with high frequency through undersampling.</p><p id="p0008" num="0008">In a further embodiment, the set of calibration actuation signals comprises two different values, that are applied a number of times in dependence on a required accuracy. A minimum number of measurements is needed to be able to determine a value for all parameters in the basis functions. However, since noise is comprised in every measurement, the accuracy of the parameter value estimation is increased by additional measurements.</p><p id="p0009" num="0009">In an alternative embodiment, the set of calibration actuation signals comprises a number of randomly selected values, each calibration actuation signal value separately actuating the drive motor to make a rotation between one full revolution and two full revolutions. This alternative is particularly useful when the frequencies of the deviations in the achieved medium displacement are unknown and are part of the estimation process. In fact, the basis functions comprise an additional parameter that is to be estimated.</p><p id="p0010" num="0010">In a further embodiment, the finite series of basis functions comprise a number of circular functions with a predetermined primitive period. The primitive period has the lowest frequency and is associated with the smallest repeating deviation frequency associated with the roller and its transmission. In a system wherein this smallest<!-- EPO <DP n="5"> --> frequency corresponds to a number of full revolutions of the drive motor and the transmission, the deviations in the achieved medium displacement show predominantly frequencies that are a multiple of this lowest frequency.</p><p id="p0011" num="0011">The present invention may also be embodied in an inkjet printer wherein a medium is transported to be printed in swaths, the inkjet printer having a control unit that is configured to execute the described method.</p><p id="p0012" num="0012">Further scope of applicability of the present invention will become apparent from the detailed description given hereinafter. However, it should be understood that the detailed description and specific examples, while indicating preferred embodiments of the invention, are given by way of illustration only, since various changes and modifications within the scope of the invention will become apparent to those skilled in the art from this detailed description.</p><heading id="h0005">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p0013" num="0013">The present invention will become more fully understood from the detailed description given herein below and the accompanying drawings which are given by way of illustration only, and thus are not limitative of the present invention, and wherein:
<ul><li><figref idrefs="f0001">Fig. 1</figref> shows a print system wherein the invented method is applied;</li><li><figref idrefs="f0001">Fig. 2</figref> shows a number of functional elements that are used in determining a medium displacement; and</li><li><figref idrefs="f0002">Fig. 3</figref> shows a number of markers that are printed in order to determine an actual paperstep.</li></ul></p><heading id="h0006">DETAILED DESCRIPTION OF EMBODIMENTS</heading><p id="p0014" num="0014">The present invention will now be described with reference to the accompanying drawings, wherein the same or similar elements are identified with the same reference numeral.</p><p id="p0015" num="0015">The print system as shown in <figref idrefs="f0001">Fig. 1</figref> is an example of a print system wherein the invented method is applicable. This system comprises a number of work stations 1 that<!-- EPO <DP n="6"> --> are configured to dispatch print jobs over network N to a print controller, or digital front end, 2, that assembles the print jobs and schedules them for processing on printer 3. Alternatively, the controller 2 may be connected to multiple print engines, each configured for particular print jobs. Print engine 3 is a wide format printer, having multiple media rolls 4. Each medium is calibrated separately with respect to accurate medium transport depending on the medium type. Local user interface 5 is used to start and stop a calibration procedure for a freshly introduced medium. Not shown is the embedded CPU that controls the behaviour of the print engine 3.</p><p id="p0016" num="0016">In <figref idrefs="f0001">Fig. 2</figref> the transport of a recording medium in the print engine is shown. Medium 10 is transported in the transport, or subscanning, direction 11. A carriage 17 that comprises a number of printheads (not shown) and an optical capturing element 18 reciprocates in a direction perpendicular to the transport direction across the recording medium. A paperstep in the transport direction 11 is made during a movement reversal of the carriage. Alternatively, in the case of monodirectional printing, it occurs during a reverse movement of the carriage, but in any case, the medium is only transported at a time that no ink is applied to the medium 10. The print surface 16 defines the position of the print medium relative to the printheads in the carriage. In the case thick media are applied, the height of the print surface may have to be adjusted to maintain a predetermined distance between the printheads and the medium surface. The transport roller 12 is hard surfaced and defines the position of the medium in transport direction. Roller 13 is soft surfaced and pinches the medium onto the surface of the transport roller 12. The medium is transported by rotating transport roller 12 which is driven by drive motor 14 through an intermediate worm gear 15. In this embodiment, the transport roller has a diameter of 81.65 mm. A full revolution of this roller transports the medium across a distance of <i>FR</i> = 256.5 mm. This is effected by <i>NF =</i> 60 full revolutions of the drive motor and worm gear, resulting in a basic stepsize of <i>FR</i>/<i>60</i> = 4.275 mm.</p><p id="p0017" num="0017"><figref idrefs="f0002">Fig. 3</figref> shows the basic pattern of a measurement of a paperstep error. On the recording medium six markers are printed in sets of three markers. Step k at 21 indicates a swath <i>k</i> wherein a single printhead prints three markers on one side of the medium and three markers on an other side of the medium, the printhead moving in either one direction 20. After finishing the swath, the recording medium is transported in direction 11, applying a predetermined nominal paperstep. In a next swath, step <i>k</i>+1, the markers are printed once more, thereby placing one marker inbetween two previously printed<!-- EPO <DP n="7"> --> markers. The optical capturing element 18 is configured to provide a digital image of an optical swath 22, which is more narrow than a print swath. From this digital image, a difference in the position of the neighbouring markers 23 is derived, which can be determined very accurately by correlation techniques. This provides a paperstep error associated with the nominal paperstep in this particular position of the transporting components. A medium slip between the transport roller and the medium is disregarded in this analysis.</p><heading id="h0007"><u>Example</u><u>1</u></heading><p id="p0018" num="0018">In a calibration procedure, two nominal papersteps are applied: one equal to the basic step size of <i>FR</i>/<i>60</i> and one slightly larger than that, <i>FR</i>/<i>53.</i> The cyclic disturbance is assumed to be of the form <maths id="math0001" num="(1)"><math display="block"><mrow><mi>u</mi><mfenced><mi>x</mi></mfenced><mo>=</mo><mrow><mstyle displaystyle="true"><mrow><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover></mrow></mstyle><mrow><mi>a</mi><mfenced><mi>i</mi></mfenced></mrow><mi>sin</mi><mfenced open="[" close="]" separators=""><mn>2</mn><mo>⁢</mo><mi>π</mi><mo>⁢</mo><mi>ω</mi><mfenced><mi>i</mi></mfenced><mo>⁢</mo><mfrac><mi>x</mi><mi mathvariant="italic">FR</mi></mfrac><mo>+</mo><mi>ϕ</mi><mfenced><mi>i</mi></mfenced></mfenced></mrow><mo>,</mo></mrow></math><img id="ib0001" file="imgb0001.tif" wi="143" he="12" img-content="math" img-format="tif"/></maths><br/>
wherein x is a distance along the circumference of the transport roller, <i>a(i)</i> is an amplitude, <i>ω(i)</i> is a periodicity of the disturbance, ϕ(i) is a phase of the disturbance, and <i>i=1,..,N</i> is an index, indicating a specific contributing periodic function. N is the number of these functions that are considered to be involved in the disturbance approximation. After <i>step k</i> (<i>k=1</i>,..,<i>K</i>), the distance x is: <maths id="math0002" num="(2)"><math display="block"><mrow><mi>x</mi><mfenced><mi>k</mi></mfenced><mo>=</mo><mi>x</mi><mo>⁢</mo><mfenced separators=""><mi>k</mi><mo>-</mo><mn>1</mn></mfenced><mo>+</mo><mi mathvariant="italic">STEP</mi><mfenced><mi>k</mi></mfenced><mo>,</mo></mrow></math><img id="ib0002" file="imgb0002.tif" wi="143" he="6" img-content="math" img-format="tif"/></maths><br/>
wherein <i>STEP(k)</i> is one of the two nominal papersteps and x(0)=0. A good working selection of papersteps is an alternating one from the two applicable stepsizes, but alternative selections are very well possible.</p><p id="p0019" num="0019">A step error in step k is expressed as a relative position deviation <maths id="math0003" num="(3)"><math display="block"><mrow><mi>e</mi><mfenced><mi>k</mi></mfenced><mo>=</mo><mi>u</mi><mfenced><mi>k</mi></mfenced><mo>-</mo><mi>u</mi><mo>⁢</mo><mfenced separators=""><mi>k</mi><mo>-</mo><mn>1</mn></mfenced><mn>.</mn></mrow></math><img id="ib0003" file="imgb0003.tif" wi="143" he="6" img-content="math" img-format="tif"/></maths></p><p id="p0020" num="0020">Thus, using <maths id="math0004" num="(4)"><math display="block"><mrow><mi>a</mi><mfenced><mi>i</mi></mfenced><mo>⁢</mo><mi>sin</mi><mfenced open="[" close="]" separators=""><mn>2</mn><mo>⁢</mo><mi>π</mi><mo>⁢</mo><mi>ω</mi><mfenced><mi>i</mi></mfenced><mo>⁢</mo><mfrac><mrow><mi>x</mi><mfenced><mi>k</mi></mfenced></mrow><mi mathvariant="italic">FR</mi></mfrac><mo>+</mo><mi>ϕ</mi><mfenced><mi>i</mi></mfenced></mfenced><mo>=</mo><mi>α</mi><mfenced><mi>i</mi></mfenced><mo>⁢</mo><mi>sin</mi><mfenced open="[" close="]" separators=""><mn>2</mn><mo>⁢</mo><mi>π</mi><mo>⁢</mo><mi>ω</mi><mfenced><mi>i</mi></mfenced><mo>⁢</mo><mfrac><mrow><mi>x</mi><mfenced><mi>k</mi></mfenced></mrow><mi mathvariant="italic">FR</mi></mfrac></mfenced><mo>+</mo><mi>β</mi><mfenced><mi>i</mi></mfenced><mo>⁢</mo><mi>cos</mi><mfenced open="[" close="]" separators=""><mn>2</mn><mo>⁢</mo><mi>π</mi><mo>⁢</mo><mi>ω</mi><mfenced><mi>i</mi></mfenced><mo>⁢</mo><mfrac><mrow><mi>x</mi><mfenced><mi>k</mi></mfenced></mrow><mi mathvariant="italic">FR</mi></mfrac></mfenced><mo>,</mo></mrow></math><img id="ib0004" file="imgb0004.tif" wi="143" he="11" img-content="math" img-format="tif"/></maths> <maths id="math0005" num="(5a)"><math display="block"><mrow><mi>A</mi><mfenced separators=","><mi>k</mi><mo>⁢</mo><mi>i</mi></mfenced><mo>=</mo><mi>sin</mi><mfenced open="[" close="]" separators=""><mn>2</mn><mo>⁢</mo><mi>π</mi><mo>⁢</mo><mi>ω</mi><mfenced><mi>i</mi></mfenced><mo>⁢</mo><mfrac><mrow><mi>x</mi><mfenced><mi>k</mi></mfenced></mrow><mi mathvariant="italic">FR</mi></mfrac></mfenced><mo>-</mo><mi>sin</mi><mfenced open="[" close="]" separators=""><mn>2</mn><mo>⁢</mo><mi>π</mi><mo>⁢</mo><mi>ω</mi><mfenced><mi>i</mi></mfenced><mo>⁢</mo><mfrac><mrow><mi>x</mi><mo>⁢</mo><mfenced separators=""><mi>k</mi><mo>-</mo><mn>1</mn></mfenced></mrow><mi mathvariant="italic">FR</mi></mfrac></mfenced><mo>,</mo></mrow></math><img id="ib0005" file="imgb0005.tif" wi="143" he="11" img-content="math" img-format="tif"/></maths> <maths id="math0006" num="(5b)"><math display="block"><mrow><mi>B</mi><mfenced separators=","><mi>k</mi><mo>⁢</mo><mi>i</mi></mfenced><mo>=</mo><mi>cos</mi><mfenced open="[" close="]" separators=""><mn>2</mn><mo>⁢</mo><mi>π</mi><mo>⁢</mo><mi>ω</mi><mfenced><mi>i</mi></mfenced><mo>⁢</mo><mfrac><mrow><mi>x</mi><mfenced><mi>k</mi></mfenced></mrow><mi mathvariant="italic">FR</mi></mfrac></mfenced><mo>-</mo><mi>cos</mi><mfenced open="[" close="]" separators=""><mn>2</mn><mo>⁢</mo><mi>π</mi><mo>⁢</mo><mi>ω</mi><mfenced><mi>i</mi></mfenced><mo>⁢</mo><mfrac><mrow><mi>x</mi><mo>⁢</mo><mfenced separators=""><mi>k</mi><mo>-</mo><mn>1</mn></mfenced></mrow><mi mathvariant="italic">FR</mi></mfrac></mfenced><mo>,</mo></mrow></math><img id="ib0006" file="imgb0006.tif" wi="143" he="11" img-content="math" img-format="tif"/></maths><br/>
<!-- EPO <DP n="8"> -->the opimization problem is to find a minimum for <maths id="math0007" num="(6)"><math display="block"><mrow><mrow><mstyle displaystyle="true"><mrow><munderover><mrow><mo>∑</mo></mrow><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>K</mi></munderover></mrow></mstyle><mrow><msup><mfenced open="[" close="]" separators=""><mi>m</mi><mfenced><mi>k</mi></mfenced><mo>-</mo><mstyle displaystyle="true"><mrow><munderover><mrow><mo>∑</mo></mrow><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><mfenced open="{" close="}" separators=""><mi>A</mi><mfenced separators=","><mi>k</mi><mo>⁢</mo><mi>i</mi></mfenced><mo>⁢</mo><mi>α</mi><mfenced><mi>i</mi></mfenced><mo>+</mo><mi>B</mi><mfenced separators=","><mi>k</mi><mo>⁢</mo><mi>i</mi></mfenced><mo>⁢</mo><mi>β</mi><mfenced><mi>i</mi></mfenced></mfenced></mrow></mstyle></mfenced><mn>2</mn></msup></mrow></mrow><mn>.</mn></mrow></math><img id="ib0007" file="imgb0007.tif" wi="143" he="12" img-content="math" img-format="tif"/></maths></p><p id="p0021" num="0021">The measurements after step k are represented by <i>m(k).</i> The parameters <i>α(i)</i> and <i>β(i), i=1,..,N</i> determine the solution of the problem, given a set of N frequencies. For the above-mentioned system, a set of N = 32 frequencies of {1, 2, .., 29, 60, 120, 180} are used, leaving 64 parameters to be found. A frequency of 1 corresponds to a full revolution of the roller. A minimum of 64 measurements is necessary to determine the required parameters. A larger number of measurements may be performed to improve the robustness of the solution to this mathematical problem, which is solved by a known method as described by <nplcit id="ncit0001" npl-type="s"><text>K.J. Åström and B. Wittenmark in Computer Control Systems, 1984, p. 328</text></nplcit>. The contributions of the three highest frequencies to the cyclic disturbance would not have been found using a single step size of <i>FR</i>/<i>60.</i> A table for relating an actuation signal to a medium displacement is generated based on the finite series (1) using the found parameters.</p><heading id="h0008"><u>Example</u><u>2</u></heading><p id="p0022" num="0022">A second calibration procedure applies a randomly selected step size inbetween <i>FR</i>/<i>60</i> and <i>FR</i>/<i>30,</i> based on a signal reconstruction method called compressive sampling. The same mathematical framework as in Example 1 is applied, with the difference that a number of addtional steps are applied to determine a set of relevant frequencies. In the specific system described above, the step sizes are randomly selected using a step size discretisation of <i>FR</i>/<i>1515.</i> This determines a maximum frequency that can be identified of 1515/2 = 707.5. To further enhance the speed of the procedure, a limited set of possible frequencies is used. In this example, only 1200 frequencies of the set {0.1, 0.2, 0.3, ..., 120.0} are taken into account. The number of measurements again determines the obtained accuracy. A sufficient accuracy has been obtained by using 370 relative position measurements, which resulted in a 370 times 2400 matrix describing the relation between possible relevant calibration parameters and the relative error. Using the Gauss-Dantzig procedure <i>(</i><nplcit id="ncit0002" npl-type="s"><text>E.J. Candes, T. Tao, Annals of Statistics, Vol. 35(6), 2007, page 2313-2351</text></nplcit>) the limited (sparse) number of relevant parameters is identified. Thereby also the relevant frequencies <i>ω(i)</i> are estimated from the measurement data. The Gauss-Dantzig procedure requires to specify a threshold to set sufficiently small<!-- EPO <DP n="9"> --> parameters to zero. This allows dealing with the influence of noise in the measurements. The threshold in this example has been set to 1 micrometer, corresponding to a standard deviation of the measurement error. In an instance of the aforementioned paper positioning system, the procedure was successful in identifying a set of relevant frequencies as {1, 2, 3, 23, 60, 71}. Three frequencies were artificially introduced in the actuation of the paper positioning system. Phase and amplitude of these frequencies were identified accurately.</p><p id="p0023" num="0023">In another embodiment, 400 relative position measurements were used. This number corresponds to 10 full revolutions of the transport roller, since the average step size is 1.5*FR/60. The 10 full revolutions correspond to the minimum frequency in the list of frequencies that are used for this system. A balance is struck between the number of measurements and the required accuracy, not only in order to limit the computational effort, but also to limit the amount of medium that is used in the calibration procedure.</p><p id="p0024" num="0024">Using the parameters found for the experimental data, a table of actual papersteps is constructed for every discrete value of the actuation signal for a full rotation of the transport roller. Besides yielding a more accurate determination of this table, the provided method enables the use of print strategies that require a paperstep different from an integer number of a basic step size.</p><heading id="h0009"><u>Example 3</u></heading><p id="p0025" num="0025">A third procedure based on this invention has been developed for a situation of a local deformation on the surface of the transport roller, for example due to a small counter roller pressing on the same position on the transport roller for a long period of time. Dependent on the quality of the transport roller material, in particular its resistance to plastic deformations, a dimple may occur, having a smaller size along the circumference of the roller than the basic stepsize, corresponding to a full revolution of the driving elements. In particular, when a transport roller is returned to a default stand-by position, a fixed dimple position has been observed. The depth of this dimple has an effect on the accuracy of the medium displacement and it is not possible to sample this dimple by using basic stepsizes only. Thus, a second stepsize is used, in addition to a basic stepsize d = <i>FR</i> / <i>N,</i> wherein <i>FR</i> = π<i>D</i> is the circumference of the transport roller, D is the average diameter of the transport roller and <i>N</i> the number of full rotations of the driving elements to obtain one single full rotation of the transport roller. This stepsize d'<!-- EPO <DP n="10"> --> is selected such that an integer number <i>N</i>' of these stepsizes equals slightly more than a full rotation of the transport roller. This is expressed in the equality <maths id="math0008" num="(7)"><math display="block"><mrow><mi mathvariant="italic">Nʹdʹ</mi><mo>=</mo><mi mathvariant="italic">FR</mi><mo>+</mo><mfrac><mn>1</mn><mi mathvariant="italic">m</mi></mfrac><mo>⁢</mo><mi mathvariant="italic">d</mi><mo>=</mo><mi mathvariant="italic">FR</mi><mo>⁢</mo><mfenced separators=""><mn mathvariant="italic">1</mn><mo>+</mo><mfrac><mn>1</mn><mi mathvariant="italic">Nm</mi></mfrac></mfenced><mo>,</mo></mrow></math><img id="ib0008" file="imgb0008.tif" wi="143" he="11" img-content="math" img-format="tif"/></maths><br/>
wherein m is the number of samples that is used to scan the dimple, or, in other words, the number of full rotations of the transport roller that is made before returning to an indexed position. In general, <i>N' may</i> be different from <i>N,</i> but in practice often the same value is used.</p><p id="p0026" num="0026">The local deformation correction is calculated by using a sum of Gaussian functions fit or a sum of high frequency sinusoidal functions fit. A window mask is used when more than one local deformation or dimple is present in the roller. This is done to isolate the effect of each dimple.</p><p id="p0027" num="0027">The invention being thus described, it will be obvious that the same may be varied in many ways. Such variations are not to be regarded as a departure from the spirit and scope of the invention, and all such modifications as would be obvious to one skilled in the art are intended to be included within the scope of the following claims.</p></description><claims mxw-id="PCLM90460230" lang="EN" load-source="patent-office"><!-- EPO <DP n="11"> --><claim id="c-en-0001" num="0001"><claim-text>A method for accurately controlling a medium displacement in an inkjet printer by determining a relation between an actuation signal and a medium displacement, the actuation signal causing a rotation of a roller by actuating a drive motor that is coupled to the roller by a slip free transmission such that the rotation speed of the drive motor is higher than the rotation speed of the roller that passes its surface movement to a medium pinched onto its surface, the method comprising the steps of:
<claim-text>a) establishing a set of calibration actuation signals each corresponding to a nominal calibration step;</claim-text>
<claim-text>b) printing a first reference mark on the medium;</claim-text>
<claim-text>c) selecting a calibration actuation signal from the set of calibration actuation signals;</claim-text>
<claim-text>d) actuating the drive motor to cause the roller to displace the medium over a distance of the nominal calibration step corresponding to the selected calibration actuation signal;</claim-text>
<claim-text>e) printing a next reference mark besides the first reference mark in a direction perpendicular to the medium displacement direction;</claim-text>
<claim-text>f) optically reading the first and the next reference mark;</claim-text>
<claim-text>g) determining an achieved medium displacement step from the read reference marks; and</claim-text>
<claim-text>h) repeating steps b) to g) for all available calibration actuation signals in the set of calibration actuation signals,</claim-text>
wherein the set of calibration actuation signals comprises at least one calibration actuation signal that actuates the drive motor to make one full revolution and one calibration actuation signal that actuates the drive motor to make a rotation larger than one full revolution, but smaller than two full revolutions, and determining a relation between the calibration actuation signals and the difference between the achieved medium displacement steps and the nominal calibration steps, based on a finite series of basis functions.</claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>The method according to claim 1, wherein the set of calibration actuation signals comprises two different values, that are applied a number of times in dependence on a required accuracy.</claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>The method according to claim 1, wherein the set of calibration actuation signals comprises a number of randomly selected values, each calibration actuation signal<!-- EPO <DP n="12"> --> value separately actuating the drive motor to make a rotation between one full revolution and two full revolutions.</claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>The method according to claim 1, wherein the finite series of basis functions comprise a number of circular functions with a predetermined primitive period.</claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>The method according to claim 1, wherein a number of calibration actuation signals that actuate the drive motor to make one full revolution are applied to obtain a provisional calibration table and a second number of calibration actuation signals that actuate the drive motor to make a slightly larger than one full revolution are applied to calibrate a local deformation in the roller.</claim-text></claim><claim id="c-en-0006" num="0006"><claim-text>An inkjet printer wherein a medium is transported to be printed in swaths, the inkjet printer having a control unit that is configured to execute the method of claim 1.</claim-text></claim></claims><drawings mxw-id="PDW20422909" load-source="patent-office"><!-- EPO <DP n="13"> --><figure id="f0001" num="1,2"><img id="if0001" file="imgf0001.tif" wi="165" he="220" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="14"> --><figure id="f0002" num="3"><img id="if0002" file="imgf0002.tif" wi="163" he="93" img-content="drawing" img-format="tif"/></figure></drawings><search-report-data><doc-page id="srep0001" file="srep0001.tif" wi="158" he="233" type="tif"/><doc-page id="srep0002" file="srep0002.tif" wi="158" he="233" type="tif"/></search-report-data><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
