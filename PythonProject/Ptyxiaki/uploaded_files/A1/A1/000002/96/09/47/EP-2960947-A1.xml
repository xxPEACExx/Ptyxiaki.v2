<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2960947-A1" country="EP" doc-number="2960947" kind="A1" date="20151230" family-id="53489893" file-reference-id="312929" date-produced="20180824" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="160451384" ucid="EP-2960947-A1"><document-id><country>EP</country><doc-number>2960947</doc-number><kind>A1</kind><date>20151230</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-15173826-A" is-representative="YES"><document-id mxw-id="PAPP193865736" load-source="docdb" format="epo"><country>EP</country><doc-number>15173826</doc-number><kind>A</kind><date>20150625</date><lang>EN</lang></document-id><document-id mxw-id="PAPP193865737" load-source="patent-office" format="original"><country>EP</country><doc-number>15173826.7</doc-number><date>20150625</date><lang>EN</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC162031834" ucid="US-201414316477-A" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>201414316477</doc-number><kind>A</kind><date>20140626</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-1987778968" load-source="docdb">H01L  31/042       20060101ALI20151020BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1988520307" load-source="docdb">H02H   7/20        20060101ALI20151020BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1988520582" load-source="docdb">H02H   1/00        20060101ALI20151020BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1988524568" load-source="docdb">H01L  31/02        20060101AFI20151020BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1770953980" load-source="docdb" scheme="CPC">Y02E  10/56        20130101 LA20170823BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1770953981" load-source="docdb" scheme="CPC">H01L  31/02021     20130101 LI20170823BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1869708020" load-source="docdb" scheme="CPC">H02H   3/46        20130101 FI20161212BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1984697070" load-source="docdb" scheme="CPC">H02H   7/20        20130101 LI20160106BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1984699911" load-source="docdb" scheme="CPC">H02H   1/0015      20130101 LI20160106BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT165545618" lang="DE" load-source="patent-office">LICHTBOGENFEHLERERKENNUNG UND LÖSCHUNG</invention-title><invention-title mxw-id="PT165545619" lang="EN" load-source="patent-office">ARC FAULT DETECTION AND EXTINGUISHING</invention-title><invention-title mxw-id="PT165545620" lang="FR" load-source="patent-office">DÉTECTION ET EXTINCTION DE DÉFAUT D'ARC</invention-title><citations><patent-citations><patcit mxw-id="PCIT335745436" load-source="docdb" ucid="KR-20130081697-A"><document-id format="epo"><country>KR</country><doc-number>20130081697</doc-number><kind>A</kind><date>20130717</date></document-id><sources><source name="SEA" category="X" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT335744435" load-source="docdb" ucid="US-20110019444-A1"><document-id format="epo"><country>US</country><doc-number>20110019444</doc-number><kind>A1</kind><date>20110127</date></document-id><sources><source name="SEA" category="X" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT335739309" load-source="docdb" ucid="US-20130335861-A1"><document-id format="epo"><country>US</country><doc-number>20130335861</doc-number><kind>A1</kind><date>20131219</date></document-id><sources><source name="SEA" category="X" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT377634686" load-source="docdb" ucid="US-201313840162-A" dnum-type="application"><document-id format="epo"><country>US</country><doc-number>201313840162</doc-number><kind>A</kind><date>20130315</date></document-id><sources><source name="APP" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT377639490" load-source="docdb" ucid="US-201313840627-A" dnum-type="application"><document-id format="epo"><country>US</country><doc-number>201313840627</doc-number><kind>A</kind><date>20130315</date></document-id><sources><source name="APP" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT335743082" load-source="docdb" ucid="US-8218274-B2"><document-id format="epo"><country>US</country><doc-number>8218274</doc-number><kind>B2</kind><date>20120710</date></document-id><sources><source name="APP" created-by-npl="N"/></sources></patcit></patent-citations><non-patent-citations><nplcit><text>JAY JOHNSON ET AL.: "Crosstalk Nuisance Trip Testing of Photovoltaic DC Arc-Fault Detectors", 38TH PHOTOVOLTAICS SPECIALISTS CONFERENCE, 2013</text><sources><source mxw-id="PNPL62360120" load-source="docdb" name="APP"/></sources></nplcit><nplcit><text>MARCELO C. GONZALEZ ET AL.: "1st International Energy Conversion Engineering Conference (IECEC", 17 August 2003, AMERICAN INSTITUTE OF AERONAUTICS AND ASTRONAUTICS, article "DETECTION OF HIGH-IMPEDANCE ARCING FAULTS IN RADIAL DISTRIBUTION DC SYSTEMS"</text><sources><source mxw-id="PNPL57906860" load-source="docdb" name="APP"/></sources></nplcit></non-patent-citations></citations></technical-data><parties><applicants><applicant mxw-id="PPAR1103342767" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>SOLANTRO SEMICONDUCTOR CORP</last-name><address><country>CA</country></address></addressbook></applicant><applicant mxw-id="PPAR1103314809" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>SOLANTRO SEMICONDUCTOR CORP.</last-name></addressbook></applicant><applicant mxw-id="PPAR1101646595" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Solantro Semiconductor Corp.</last-name><iid>101412673</iid><address><street>146 Colonnade Road Suite 200</street><city>Ottawa, Ontario K2E 7Y1</city><country>CA</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR1103327246" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>NICOLESCU ALEXANDRU DORIN</last-name><address><country>CA</country></address></addressbook></inventor><inventor mxw-id="PPAR1103332382" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>NICOLESCU, ALEXANDRU DORIN</last-name></addressbook></inventor><inventor mxw-id="PPAR1101642301" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>NICOLESCU, ALEXANDRU DORIN</last-name><address><street>402 - 245 Kent Street</street><city>Ottawa. ON K2P 0A5</city><country>CA</country></address></addressbook></inventor><inventor mxw-id="PPAR1103340510" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>ORR RAYMOND KENNETH</last-name><address><country>CA</country></address></addressbook></inventor><inventor mxw-id="PPAR1103332049" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>ORR, RAYMOND KENNETH</last-name></addressbook></inventor><inventor mxw-id="PPAR1101646396" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>ORR, RAYMOND KENNETH</last-name><address><street>21 Reaney Court</street><city>Kanata, Ontario K2K 1W7</city><country>CA</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR1101646091" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Zacco Denmark A/S</last-name><iid>101463545</iid><address><street>Arne Jacobsens Allé 15</street><city>2300 Copenhagen S</city><country>DK</country></address></addressbook></agent></agents></parties><international-convention-data><designated-states><ep-contracting-states><country mxw-id="DS660684145" load-source="docdb">AL</country><country mxw-id="DS660605873" load-source="docdb">AT</country><country mxw-id="DS660684155" load-source="docdb">BE</country><country mxw-id="DS660687585" load-source="docdb">BG</country><country mxw-id="DS660608819" load-source="docdb">CH</country><country mxw-id="DS660686624" load-source="docdb">CY</country><country mxw-id="DS660605874" load-source="docdb">CZ</country><country mxw-id="DS660684156" load-source="docdb">DE</country><country mxw-id="DS660686625" load-source="docdb">DK</country><country mxw-id="DS660686626" load-source="docdb">EE</country><country mxw-id="DS660609552" load-source="docdb">ES</country><country mxw-id="DS660683992" load-source="docdb">FI</country><country mxw-id="DS660687586" load-source="docdb">FR</country><country mxw-id="DS660684157" load-source="docdb">GB</country><country mxw-id="DS660686635" load-source="docdb">GR</country><country mxw-id="DS660684158" load-source="docdb">HR</country><country mxw-id="DS660605875" load-source="docdb">HU</country><country mxw-id="DS660608820" load-source="docdb">IE</country><country mxw-id="DS660686636" load-source="docdb">IS</country><country mxw-id="DS660687595" load-source="docdb">IT</country><country mxw-id="DS660686637" load-source="docdb">LI</country><country mxw-id="DS660683993" load-source="docdb">LT</country><country mxw-id="DS660783050" load-source="docdb">LU</country><country mxw-id="DS660683994" load-source="docdb">LV</country><country mxw-id="DS660683999" load-source="docdb">MC</country><country mxw-id="DS660783051" load-source="docdb">MK</country><country mxw-id="DS660783052" load-source="docdb">MT</country><country mxw-id="DS660609553" load-source="docdb">NL</country><country mxw-id="DS660605876" load-source="docdb">NO</country><country mxw-id="DS660783053" load-source="docdb">PL</country><country mxw-id="DS660686638" load-source="docdb">PT</country><country mxw-id="DS660609554" load-source="docdb">RO</country><country mxw-id="DS660686643" load-source="docdb">RS</country><country mxw-id="DS660783054" load-source="docdb">SE</country><country mxw-id="DS660684163" load-source="docdb">SI</country><country mxw-id="DS660605877" load-source="docdb">SK</country><country mxw-id="DS660783055" load-source="docdb">SM</country><country mxw-id="DS660608821" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA166479754" lang="EN" load-source="patent-office"><p id="pa01" num="0001">A first switch for connection in a first circuit path between a PV panel string and an inverter in a power system, and a second switch for connection in a second circuit path across an output of the PV panel string, are normally closed and open, respectively, during non-fault operation of the power system. Both series and parallel arc faults in the power system can be extinguished by further control of the switches. Arc fault detection could be based on probabilistic frequency analysis of current or power flow measurements in the PV panel string, current or power imbalance, interruption in communications with the PV panels, or combinations of these techniques.
<img id="iaf01" file="imgaf001.tif" wi="78" he="108" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA166759566" lang="EN" source="EPO" load-source="docdb"><p>A first switch for connection in a first circuit path between a PV panel string and an inverter in a power system, and a second switch for connection in a second circuit path across an output of the PV panel string, are normally closed and open, respectively, during non-fault operation of the power system. Both series and parallel arc faults in the power system can be extinguished by further control of the switches. Arc fault detection could be based on probabilistic frequency analysis of current or power flow measurements in the PV panel string, current or power imbalance, interruption in communications with the PV panels, or combinations of these techniques.</p></abstract><description mxw-id="PDES98404455" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001">TECHNICAL FIELD</heading><p id="p0001" num="0001">Embodiments herein generally relate to arc fault detection and extinguishing, and specifically to Direct Current (DC) arc fault detection and extinguishing in solar Photo Voltaic (PV) systems.</p><heading id="h0002">BACKGROUND</heading><p id="p0002" num="0002">Arc faults in DC PV systems can be problematic. Sustained arc faults result in power losses, and can lead to overheating, fire, and possibly other effects such as energizing components or structures such as mounting systems that are not normally energized.</p><p id="p0003" num="0003">While there are techniques for detecting different types of arc faults, some of these techniques are complex and/or suited for detection of only certain types of arc faults. Arc fault extinguishing techniques can also be specific to arc fault type.</p><heading id="h0003">SUMMARY</heading><p id="p0004" num="0004">According to an embodiment, an arc fault extinguisher includes a first switch for connection in a first circuit path between a PV panel string and an inverter in a power system, a second switch for connection in a second circuit path across an output of the PV panel string, and a controller, coupled to the first switch and the second switch. The controller is configured to control the first switch to be closed and the second switch to be open during non-fault operation of the power system, to control the first switch to open on detection of an arc fault in the power system, and to control the second switch to close on detection of an arc fault in the power system.</p><p id="p0005" num="0005">The controller could be configured to control the first switch to open on detection of an arc fault in the power system and to close the second switch while the first switch is open on detection of an arc fault in the power system.</p><p id="p0006" num="0006">The controller could be configured to instead control the second switch to close on detection of an arc fault in the power system and to open the first and second switches on detection of a<!-- EPO <DP n="2"> --> continued arc fault in the power system.</p><p id="p0007" num="0007">The controller could be configured to detect arc faults by frequency analysis, which could involve obtaining measurement samples of current or power flow in the PV panel string, computing frequency components of the measurement samples in a frequency spectrum, and detecting an arc fault in the power system where at least a predetermined number of the frequency components, including any of the frequency components in the frequency spectrum, exceed a threshold amplitude.</p><p id="p0008" num="0008">In some embodiments, the controller is configured to detect arc faults by a combination of frequency analysis and measurements at PV panels in the PV panel string.</p><p id="p0009" num="0009">The controller could also or instead be configured to detect arc faults based on measurements at more than one PV panel in the PV panel string.</p><p id="p0010" num="0010">Another option for arc fault detection involves the controller being configured to detect arc faults on determining that a current or power imbalance based on measurements of current or power flow at each of multiple PV panels in the PV panel string exceeds a threshold.</p><p id="p0011" num="0011">An arc fault extinguisher could also include a transceiver, coupled to the controller, to enable communications between the controller and PV panels in the PV panel string. The controller could then be configured to detect arc faults based on interruption in communications with a subset of the PV panels. In embodiments where the controller is configured to poll interface devices at the PV panels to report their presence, the controller could be configured to detect arc faults based on interruption in communications with a subset of the PV panels occurring within a predetermined time period.</p><p id="p0012" num="0012">A method is also disclosed, and involves controlling first and second switches. The first switch, in a first circuit path between a PV panel string and an inverter in a power system, is controlled to be closed during non-fault operation of the power system. The second switch, in a second circuit path between output terminals of the PV panel string, is controlled to be open during non-fault operation of the power system. The method also involves controlling the first switch to open on detection of an arc fault in the power system, and controlling the second switch to close on detection of an arc fault in the power system.<!-- EPO <DP n="3"> --></p><p id="p0013" num="0013">In an embodiment, controlling the first switch to open involves controlling the first switch to open on detection of an arc fault in the power system, and controlling the second switch to close involves controlling the second switch to close while the first switch is open on detection of an arc fault in the power system.</p><p id="p0014" num="0014">The method could involve controlling the second switch to open on detection of a continued arc fault in the power system after the second switch is closed, in which case controlling the first switch to open could involve controlling the first switch to open on detection of a continued arc fault in the power system after the second switch is closed.</p><p id="p0015" num="0015">Another method involves obtaining measurement samples of current or power flow in a power system which includes PV panels, computing frequency components of the measurement samples in a frequency spectrum, and detecting an arc fault in the power system where at least a predetermined number of the frequency components, including any of the frequency components in the frequency spectrum, exceed a threshold amplitude.</p><p id="p0016" num="0016">The obtaining could involve measuring the current or power flow in the power system.</p><p id="p0017" num="0017">In some embodiments, the obtaining involves obtaining measurement samples of current or power flow in each of multiple strings of PV panels in the power system.</p><p id="p0018" num="0018">According to another embodiment, a method involves obtaining measurements of current or power flow at each of multiple PV panels connected together in one or more respective circuit paths in a power system, determining whether a current or power imbalance based on the measurements exceeds a threshold, and detecting an arc fault in the power system where it is determined that the current or power imbalance exceeds the threshold.</p><p id="p0019" num="0019">The determining could involve determining whether a difference in the measurements of the current at different ones of the PV panels in each circuit path exceeds the threshold.</p><p id="p0020" num="0020">The method could also involve obtaining a measurement of total output power from the PV panels, in which case the determining could involve determining whether an amount, by which a total of the measurements of power flow at each of the PV panels exceeds the measurement of total output power, exceeds the threshold.<!-- EPO <DP n="4"> --></p><p id="p0021" num="0021">The obtaining could involve receiving measurements of the current or power flow from the PV panels through communications with the PV panels. The method might then involve detecting an arc fault in the power system based on interruption of communications with the PV panels.</p><p id="p0022" num="0022">Another embodiment of a method involves monitoring communications with PV panels in a power system, and detecting an arc fault in the power system based on an interruption in communications with any of a predetermined number of the PV panels.</p><p id="p0023" num="0023">The monitoring could involve polling interface devices at the PV panels in each polling operation to report their presence, in which case the detecting could involve detecting an arc fault based on interruption in communications with any of a predetermined number of the PV panels within a predetermined time period.</p><p id="p0024" num="0024">Other aspects and features of embodiments of the present disclosure will become apparent to those ordinarily skilled in the art upon review of the following description.</p><heading id="h0004">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p0025" num="0025">Embodiments herein will be better understood from the following detailed description with reference to the drawings, in which:
<ul><li><figref idrefs="f0001">FIG. 1A</figref> is a block diagram of an example PV power system.</li><li><figref idrefs="f0002">FIG. 1B</figref> is a block diagram of another example PV power system.</li><li><figref idrefs="f0003">FIG. 2</figref> is a block diagram of an example apparatus according to an embodiment.</li><li><figref idrefs="f0004">FIG. 3</figref> is a flow diagram of an example arc fault detection method.</li><li><figref idrefs="f0005">FIG. 4A</figref> is a block diagram of another example PV power system.</li><li><figref idrefs="f0006">FIG. 4B</figref> is a block diagram showing possible arc faults in the example PV power system of <figref idrefs="f0005">FIG 4A</figref>.</li><li><figref idrefs="f0007">FIG. 5</figref> is a flow diagram of an example Panel Interface Device (PID).<!-- EPO <DP n="5"> --></li><li><figref idrefs="f0008">FIG. 6</figref> is a flow diagram of another example arc fault detection method.</li><li><figref idrefs="f0009">FIG. 7</figref> is a flow diagram of a further example arc fault detection method.</li><li><figref idrefs="f0009">FIG. 8</figref> is a flow diagram of yet another example arc fault detection method.</li><li><figref idrefs="f0010">FIG. 9</figref> is a flow diagram of an example arc fault extinguishing method.</li><li><figref idrefs="f0011">FIG. 10</figref> is a flow diagram of another example arc fault extinguishing method.</li><li><figref idrefs="f0012">FIG. 11</figref> includes schematic diagrams illustrating example switch control sequences.</li></ul></p><heading id="h0005">DETAILED DESCRIPTION</heading><p id="p0026" num="0026">Photovoltaic (PV) panels are becoming an important source of power generation. PV panels are routinely serially connected together to form panel "strings". PV panels produce DC power and the combined voltage of a PV panel string can easily reach hundreds of volts. At these voltages, self-sustaining electrical arc faults can occur, which could result in serious damage to a PV array, fire or injury to personnel.</p><p id="p0027" num="0027">An arc fault is large and undesired flow of electrical current between two conductors. The current flow can create significant amounts of heat and cause significant damage. An arc fault current typically travels between the two conductors via an ionized gas plasma, which in the case of DC voltages can be self-sustaining. Arc faults could lead to electrification of a PV panel mounting system, serious damage to equipment, fire, and/or injuries to personnel.</p><p id="p0028" num="0028">Detection of electrical arc faults is becoming an important safety consideration. For example, article 690.11 of the 2011 National Electrical Code (NEC) requires PV systems, with DC source circuits, DC output circuits, or both, on or penetrating a building and operating at a PV system maximum system voltage of 80 volts or greater, to detect and interrupt series arc faults in modules, connections, wiring, and other components.</p><p id="p0029" num="0029">Arc faults in a PV array or string have a variety of causes including: failure of insulation of string wiring, corrosion of string connectors, or accidental severing of the string wiring, for example.<!-- EPO <DP n="6"> --></p><p id="p0030" num="0030"><figref idrefs="f0001">FIG. 1A</figref> is a block diagram of an example PV power system 100, which is equipped with an arc fault extinguishing system. PV power system 100 comprises PV strings 102 and 106, inverter 120, Arc Fault Extinguisher (AFE) 110 and equipment ground 140. PV string 102 comprises a series ofPV panels 104<sub>1</sub>, 104<sub>2</sub> ... 104<sub>N-1</sub>, 104<sub>N</sub> connected in a circuit path, and bypass diodes 105<sub>1</sub>, 105<sub>2</sub> ... 105<sub>N-1</sub>, 105<sub>N</sub>. PV string 106 comprises a series ofPV panels 108<sub>1</sub>, 108<sub>2</sub> ... 108<sub>M-1</sub>, 108<sub>M</sub> connected in another circuit path, and bypass diodes 109<sub>1</sub>, 109<sub>2</sub> ... 109<sub>M-1</sub>, 109<sub>M</sub>. There are typically 10 to 20 PV panels in a string. The DC output voltage of a single PV panel is typically 40 to 60 volts, depending on the number of PV cells in the PV panel and the PV cell technology. DC string voltages thus can be hundreds of volts. DC string currents depend on the amount of insolation and the area of the PV panels but can easily be eight amperes.</p><p id="p0031" num="0031">Bypass diodes 105<sub>1</sub>, 105<sub>2</sub> ... 105<sub>N-1</sub>, 105<sub>N</sub> and 109<sub>1</sub>, 109<sub>2</sub> ... 109<sub>M-1</sub>, 109<sub>M</sub> are connected across, also referred to as in parallel with, PV panels 104<sub>1</sub>, 104<sub>2</sub> ... 104<sub>N-1</sub>, 104<sub>N</sub> and 108<sub>1</sub>, 108<sub>2</sub> ... 108<sub>M-1</sub>, 108<sub>M</sub>, respectively. Bypass diodes are a commonly used PV panel protection device. Bypass diodes 105<sub>1</sub>, 105<sub>2</sub> ... 105<sub>N-1</sub>, 105<sub>N</sub> and 109<sub>1</sub>, 109<sub>2</sub> ... 109<sub>M-1</sub>, 109<sub>M</sub> are normally reverse biased and non-conducting when PV panels 104<sub>1</sub>, 104<sub>2</sub> ... 104<sub>N-1</sub>, 104<sub>N</sub> and 108<sub>1</sub>, 108<sub>2</sub> ... 108<sub>M-1</sub>, 108<sub>M</sub> are active and producing power. Bypass diodes can become forward biased and conduct if there is a significant current output imbalance between PV panels in the same string from, for example, shading of a PV panel. In this situation the shaded PV panel could produce significantly less current than the other PV panels in the string and potentially develop a large reverse voltage from the string current being forced through it. In this situation the bypass diode would become forward biased, conduct the string current, and prevent development of a large reverse voltage. PV panels could have more than one bypass diode. For example, a PV panel could have three bypass diodes, with each bypass diode connected across, or in parallel with, a third of the PV panel's solar cells.</p><p id="p0032" num="0032">PV strings 102 and 106 are operatively connected across, or in parallel with, the input of AFE 110. In <figref idrefs="f0001">FIG. 1A</figref>, the input ofAFE 110 is represented as input terminals 150, 152, although discrete physical terminals need not necessarily be provided. The output of AFE 110 is operatively connected to the input of inverter 120. Inverter 120 converts the DC string<!-- EPO <DP n="7"> --> voltage of the PV panels into an AC voltage suitable for an electrical grid or other distribution / load system at the inverter output.</p><p id="p0033" num="0033">It should be appreciated that <figref idrefs="f0001">FIG. 1A</figref>, and other drawings, are intended solely for illustrative purposes. Other embodiments could include further, fewer, or different elements which are coupled or operate together in a similar or different manner than shown. In <figref idrefs="f0001">FIG. 1A</figref>, for example, inverter 120 is shown as a two terminal, single phase inverter. However, it could instead be a three phase inverter. Although the example power system 100 is shown with two PV strings 102 and 106, in other embodiments a single string or multiple strings are possible. Additional hardware items such as disconnect switches, fuses and/or string combiners could be provided have not been shown in <figref idrefs="f0001">FIG. 1A</figref> for simplicity of illustration.</p><p id="p0034" num="0034">Other PV power system AFE configurations are possible. <figref idrefs="f0002">FIG. 1B</figref> is a block diagram of another example PV power system, with multiple AFEs. The example PV power system 101 comprises PV strings 102 and 106 and inverter 120 as in <figref idrefs="f0001">FIG. 1A</figref>, but also includes multiple Arc Fault Extinguishers (AFE) 160, 162. PV string 102 comprises a series of PV panels 104<sub>1</sub>, 104<sub>2</sub> ... 104<sub>N</sub> and bypass diodes 105<sub>1</sub>, 105<sub>2</sub> ... 105<sub>N</sub>. PV string 106 comprises a series of PV panels 108<sub>1</sub>, 108<sub>2</sub> ... 108<sub>M</sub> and bypass diodes 109<sub>1</sub>, 109<sub>2</sub> ... 109<sub>M</sub>. The inputs of AFEs 160, 162 are operatively connected to PV strings 102, 106. The outputs ofAFEs 160, 162 are operatively connected to inverter 120.</p><p id="p0035" num="0035">The example AFE configurations as shown in <figref idrefs="f0001">FIGS. 1A</figref> and <figref idrefs="f0002">1B</figref> could be used in new PV power systems as they are constructed, but they could also be used as retrofit solutions. The addition of an AFE such as 110 (<figref idrefs="f0001">FIG. 1A</figref>) to an existing PV power system with a central inverter 120 would entail connecting the AFE between the PV panel strings output and the inverter. Even the example AFE configuration shown in <figref idrefs="f0002">FIG. 1B</figref> could involve just adding an AFE 160, 162 at each PV string output.</p><heading id="h0006"><b>AFE</b></heading><p id="p0036" num="0036"><figref idrefs="f0003">FIG. 2</figref> is a block diagram of an example apparatus according to an embodiment, specifically an example AFE which could be implemented as the AFEs 110, 160, 162 in <figref idrefs="f0001">FIGS. 1A</figref> and <figref idrefs="f0002">1B</figref>. The example AFE 200 comprises input terminal pair 202, 204, output terminal pair 206,<!-- EPO <DP n="8"> --> 208, sense resistor 210, a first (series) switch 212, a second (shunt) switch 214, controller 220, transceiver 230, analog front end processor 240, annunciator 250 and reset switch 252.</p><p id="p0037" num="0037">Terminal pairs 202, 204 and 206, 208 need not necessarily be discrete physical terminals, and could simply be connections. Analog front end processor 240 is shown as an amplifier in this example, but could take other forms.</p><p id="p0038" num="0038">The controller 220 and transceiver 230 could be implemented, for example, in hardware, firmware, one or more components which execute software, or combinations thereof. Examples of components that could be used to implement the controller 220 and/or the transceiver 230 include microprocessors and other types of processing devices, microcontrollers, Application Specific Integrated Circuits (ASICs), Field Programmable Gate Arrays (FPGAs), and other types of "intelligent" integrated circuits or devices. The exact form of the transceiver 230, for example, would depend on the type(s) of communications to be supported, but the transceiver 230 would generally include some type of physical interface with one or more components to perform receive and transmit operations.</p><p id="p0039" num="0039">The switches 212 and 214 could be solid state switches such as transistors, illustratively power Metal Oxide Semiconductor Field Effect Transistors (MOSFETs), or other types of switches such as mechanical relays. Reset switch 252 could similarly take various forms, although some sort of manual actuator for operation by a user would be provided in embodiments where manual reset is supported. Annunciator 250 could be implemented using any of various devices to provide one or more types of arc fault detection alert.</p><p id="p0040" num="0040">Input terminal pair 202, 204 is for coupling AFE 200 to the PV string(s) to receive the string current(s) and voltage. Output terminal pair 206, 208 is for coupling AFE 200 to the input of an inverter such as 120 in <figref idrefs="f0001">FIGS. 1A</figref>, <figref idrefs="f0002">1B</figref>. A voltage is developed across sense resistor 210 when string current flows through it, and this voltage is sensed by analog front end processor 240. Analog front end processor 240 amplifies the sense voltage and passes it to controller 220 in the example shown. Analog front end processor 240 could perform additional functions such as any one or more of filtering, isolation, level shifting and digitization of the sense voltage. Alternately, any one or more of these functions might be performed by controller 220.<!-- EPO <DP n="9"> --></p><p id="p0041" num="0041">In this embodiment, sense resistor 210 is located between terminal 202 and switch 214 on the "high side" of AFE 200. A sense resistor such as 210 could also or instead be located between terminal 204 and switch 214 on the "low side" of AFE 200. If terminal 204 is connected to a system ground, then this could make string current sensing easier since an isolated sensing scheme might not be used.</p><p id="p0042" num="0042">Transceiver 230 enables communications with controller 220 and allows AFE 200 to communicate with an inverter and/or panel interface device attached to each PV panel such as, for example, a DC optimizer. Transceiver 230 could support wired and/or wireless communications. Wired communication could be, for example, through Power Line Communications, Ethernet or twisted pair conductors. Wireless communications could involve, for example, Wi-Fi, ZIGBEE, and/or a proprietary protocol.</p><p id="p0043" num="0043">Switches 212 and 214, as noted above, could be solid state switches such as power MOSFETS for example, or electro-mechanical switches. Electro-mechanical switches could be useful when multiple strings are connected to the AFE 200 and PV string currents are large.</p><p id="p0044" num="0044">Controller 220 controls the opening and closing of switches 212 and 214. Controller 220 could be a microcontroller and could comprise a processor, signal processing circuitry, and non-volatile and/or volatile memory for the storage of such contents as firmware, system parameters, and/or measurements.</p><p id="p0045" num="0045">Annunciator 250 signals the detection of an arc fault, and could provide any of various types of arc fault detection alerts, such as visible alerts using one or more Light Emitting Diodes (LEDs) and/or audible alerts using a speaker. In other embodiments, arc fault detection alerts are also provided to other components through the transceiver 230. In general, a detected arc fault could be reported locally at the example AFE 200 by annunciator 250, and/or through the transceiver 230 to other components which could be remote components not co-located with the AFE.</p><p id="p0046" num="0046">Reset switch 252 could be used to reset AFE 200 once an arc fault has been corrected and it is safe for the PV power system to resume operation.<!-- EPO <DP n="10"> --></p><heading id="h0007"><b>Arc Faults</b></heading><p id="p0047" num="0047">Arc faults can be classified as series faults or parallel faults.</p><p id="p0048" num="0048">A series arc fault is an arc fault in a circuit path, between normally connected conductors in a PV string, and could occur, for example, as a result of a corroded connector or a severed power cable. If a connector becomes corroded, then it could become high resistance or make intermittent contact. In either case, a substantial portion of the PV string voltage could appear across the connector, which could create an arc. If a power cable is severed, then it could still make intermittent contact and the entire PV string voltage could at times appear across the discontinuity and an arc fault could be created at that point. Arc fault 130 across connector 142 in <figref idrefs="f0001">FIG. 1A</figref> is an example of a series arc fault.</p><p id="p0049" num="0049">A parallel fault is a fault between two conductors of different voltages, such as a power line and a return line, for example. Parallel faults can result from breakdown in insulation between conductors. Arc faults 132, 134, 136 and 138 in <figref idrefs="f0001">FIG. 1A</figref> are examples of parallel arc faults. Arc fault 132 occurs across the output of the PV panel strings 102 and 106. Arc fault 134 is an inter-string fault and occurs between PV strings 102 and 106. Arc fault 136 occurs between the PV string 106 and the power return. Arc fault 138 is a fault to ground and occurs between PV string 102 and equipment ground 140. More generally, a parallel arc fault is between conductors that are not normally directly connected to each other. Depending on the physical layout of PV panels in a PV string, segments of a PV string conductor could be close enough to each other for an arc fault to occur within a single PV string, between such segments.</p><p id="p0050" num="0050">The occurrence of arc faults can be difficult to distinguish from normal operation of a PV power system. For example, the current conducted by series arc fault 130 might be not significantly different from the normal string current of PV string 102. Although parallel arc faults 132, 134, 136 and 138 could result in a significant drop in the input current to inverter 120, it could be difficult to distinguish this from normal variation in string current due to, for example, the rapid movement of clouds. This could especially be the case where there are a large number of PV strings connected to a single inverter and the current decrease from an<!-- EPO <DP n="11"> --> arc fault in a single PV string could be relatively insignificant compared to the normal variation in the combined string current of all the other PV strings.</p><heading id="h0008"><b>ARC Fault Detection</b></heading><p id="p0051" num="0051">Arc faults are known to produce high frequency electrical noise. This noise could be used to detect the presence of an arc fault. Some methods attempt to create a spectral signature for the electrical noise of an arc fault and then detect the presence of an arc fault by comparing measured spectra to the arc fault signature. The spectral signature is a specific combination of electrical frequencies and their amplitudes which distinguish an arc fault from normal operation. For example, one known method describes monitoring a frequency of around 19MHz to detect an arc. See <nplcit id="ncit0001" npl-type="s"><text>Marcelo C. Gonzalez et al., "DETECTION OF HIGH-IMPEDANCE ARCING FAULTS IN RADIAL DISTRIBUTION DC SYSTEMS", American Institute of Aeronautics and Astronautics, 1st International Energy Conversion Engineering Conference (IECEC), 17-21 August 2003, Portsmouth Virginia</text></nplcit>.</p><p id="p0052" num="0052">In another method the amplitude of multiple frequencies is measured using a current transformer and an arc fault is reported when the amplitude of all the frequencies reach above their corresponding threshold amplitudes for a predetermined time. See <nplcit id="ncit0002" npl-type="s"><text>Jay Johnson et al., "Crosstalk Nuisance Trip Testing of Photovoltaic DC Arc-Fault Detectors, 38th Photovoltaics Specialists Conference, IEEE, 2013</text></nplcit>, and United States Patent No. <patcit id="pcit0001" dnum="US8218274B"><text>8,218,274</text></patcit>. A difficulty of these deterministic methods is the wide variety of possible arc faults and their associated spectral signatures which could lead to undetected arc faults (false negatives). Thus, while a particular combination of frequencies and associated amplitude thresholds could detect a particular arc fault type, another type of arc fault could be characterized by a different frequency and amplitude combination which could escape detection. For example, series arc faults can occur inside a PV panel, inside a PV panel junction box, at a power cable connection to a junction box or within a power cable. Each of these faults could have quite different signatures owing to the different conductor and insulator materials and the different geometries involved.</p><p id="p0053" num="0053">Rather than detecting an arc fault by matching all measured, specific spectra to a specific spectral signature, it could be possible to detect an arc fault using a probabilistic method in<!-- EPO <DP n="12"> --> which only the number of spectral components with an amplitude greater than a common amplitude threshold (A<sub>T</sub>) is important. In this method, it is unimportant which specific components have an amplitude greater than A<sub>T</sub>. This probabilistic method could be robust in detecting a wide variety of arc faults with a variety of arc fault signatures. As long as the total number of frequency components which have an amplitude greater than the common amplitude threshold is greater than or equal to a minimum arc threshold count (N<sub>DET</sub>), then an arc fault will be detected. Any of a wide variety of arc fault signatures could be detected by choosing a frequency range wide enough to encompass the important spectral components of all of their signatures.</p><p id="p0054" num="0054">Such a probabilistic "binning" method is based on a count of frequency components above a threshold. The exact location of the components in the frequency range is unimportant and an arc fault could be detected based only on the total number of components of its signature exceeding a threshold value.</p><p id="p0055" num="0055"><figref idrefs="f0004">FIG. 3</figref> is a flow diagram of an example arc fault detection method. At 302 in the example method 300, PV string current is measured. In one embodiment, the PV string current is measured using a sense resistor such as sense resistor 210 of AFE 200 (<figref idrefs="f0003">FIG. 2</figref>). The PV string current passes through the sense resistor and generates a voltage. The voltage could be filtered, amplified, and digitized by means such as front end processor 240 of AFE 200 (<figref idrefs="f0003">FIG. 2</figref>). "<i>N<sub>SAMP</sub></i>" voltage measurements are made with a sampling frequency <i>f<sub>SAMP</sub></i> where <i>N<sub>SAMP</sub></i> is an even integer.</p><p id="p0056" num="0056">At 304, the frequency spectrum of the PV string current is computed. In one embodiment, this is done using a Discrete Fast Fourier Transform (DFFT). The frequency spectrum is calculated over a frequency range from zero to <i>f<sub>SAMP</sub></i>/2. The frequency spectrum will have N<sub>SAMP</sub>/2 discrete components at frequencies of <maths id="math0001" num=""><math display="block"><mrow><msub><mi>f</mi><mi>i</mi></msub><mo>=</mo><mfrac><mrow><mi>i</mi><mo>*</mo><msub><mi>f</mi><mi mathvariant="italic">SAMP</mi></msub></mrow><mrow><msub><mi>N</mi><mi mathvariant="italic">SAMP</mi></msub></mrow></mfrac></mrow></math><img id="ib0001" file="imgb0001.tif" wi="27" he="12" img-content="math" img-format="tif"/></maths><br/>
where 1 ≤ <i>i</i> ≤ <i>N<sub>SAMP</sub></i>/2 and the amplitude of the i-th frequency component is defined as A<sub>i</sub>. It could be beneficial to filter the sense voltage prior to digitization to remove frequencies<!-- EPO <DP n="13"> --> greater than <i>f<sub>SAMP</sub></i>/2 to prevent aliasing. In one embodiment, <i>f<sub>SAMP</sub></i> = 250 kHz and N<sub>SAMP</sub> = 128 for a power system comprising a single string of eight PV panels, although other values are possible in other embodiments.</p><p id="p0057" num="0057">At 306, a frequency component counter "i" is initialized to one and an arc counter (ARC_COUNT) is initialized to zero. The arc counter counts the number of frequency components which have an amplitude A<sub>i</sub> greater than an amplitude threshold (A<sub>T</sub>).</p><p id="p0058" num="0058">At 308, the amplitude A<sub>i</sub> of the i-th component is compared to amplitude threshold A<sub>T</sub>. If the component amplitude is less than the threshold (YES at 308) then component counter "i" is incremented at 312. If the component amplitude is not less than the threshold (NO at 308) then the arc counter ARC_COUNT is incremented at 310 and the component counter incremented at 312. In one embodiment, A<sub>T</sub> is 13 dB above the system noise floor, although other thresholds are also possible.</p><p id="p0059" num="0059">At 314, the component counter is compared to the number of components (N<sub>SAMP</sub>/2). If the component counter is less than N<sub>SAMP</sub>/2 (YES at 314), the amplitude of the next component is compared to A<sub>T</sub> at 308. If the component counter is not less than N<sub>SAMP</sub>/2 (NO at 314) then the arc counter is compared to a minimum arc threshold count (N<sub>DET</sub>) at 316. The minimum arc threshold count is a positive integer value and represents the minimum number of components with amplitude equal to or above amplitude threshold A<sub>T</sub> to declare an arc fault. If the arc count is below N<sub>DET</sub> (YES at 316) then a new series of measurements are made at 302. If the arc count is not below N<sub>DET</sub> then an arc is reported at 318. In one embodiment N<sub>DET</sub> is 20 when the number of components is 64, although other values of N<sub>DET</sub> are possible. N<sub>DET</sub>, and other parameters such as A<sub>T</sub>, <i>f<sub>SAMP</sub></i>, and/or N<sub>SAMP</sub>, could have different values in different embodiments, dependent upon the frequency spectrum ranges that are relevant to the arc fault types to be detected.</p><p id="p0060" num="0060">In another embodiment, the determinations at 316 and 314 could be reversed. The minimum number of frequency components having A<sub>i</sub> ≥ A<sub>T</sub> could be detected before all N/2 frequency components have been considered, and in that case a fault could be reported at 318 before the component count is checked at 314. In this case, on a YES determination at 318, the<!-- EPO <DP n="14"> --> component counter is checked at 314, and a NO determination from 314 returns processing to 302.</p><p id="p0061" num="0061">In a series arc fault, the arc fault current will flow through an AFE and could be sensed. In a parallel arc fault, the arc fault current might not directly flow through the AFE, but the AFE could still sense the arc fault. Referring to <figref idrefs="f0001">FIG. 1A</figref>, the current in arc fault 136 flows through PV panels 108<sub>M</sub> and 108<sub>M-1</sub> and not through AFE 110. Parallel arc fault 136 could still be detected by AFE 110, since the output voltage of the series combination of PV panels 108<sub>M</sub> and 108<sub>M-1</sub> will be decreased and modulated by arc fault 136, resulting in a modulation of the string current flowing into AFE 110 from PV panels 108<sub>1</sub> to 108<sub>M-2</sub> at the arc fault frequencies.</p><heading id="h0009"><b>PID Panel Array</b></heading><p id="p0062" num="0062"><figref idrefs="f0005">FIG. 4A</figref> is a block diagram of another PV power system equipped with arc fault detection. Example PV power system 400 comprises PV panel strings 402 and 406, AFE 410 and inverter 420. PV panel string 402 comprises PV panels 404<sub>1</sub>, 404<sub>2</sub> .. 404<sub>N-1</sub>, 404<sub>N</sub> and Panel Interface Devices (PIDs) 405<sub>1</sub>, 405<sub>2</sub> ... 405<sub>N-1</sub>, 405<sub>N</sub>. PV panel string 406 comprises PV panels 408<sub>1</sub>, 408<sub>2</sub> 408<sub>M-1</sub>, 408<sub>M</sub> and Panel Interface Devices (PIDs) 409<sub>1</sub>, 409<sub>2</sub> ... 409<sub>M-1</sub>, 409<sub>M</sub>. The outputs of PV panels 404<sub>1</sub>, 404<sub>2</sub> .. 404<sub>N-1</sub>, 404<sub>N</sub> are coupled to the inputs of PIDs 405<sub>1</sub>, 405<sub>2</sub> ... 405<sub>N-1</sub>, 405<sub>N</sub> and the outputs of PV panels 408<sub>1</sub>, 40<sub>82</sub> .. 408<sub>M-1</sub>, 408<sub>M</sub> connect to the inputs of PIDs 409<sub>1</sub>, 409<sub>2</sub> ... 409<sub>M-1</sub>, 409<sub>M</sub>. The outputs of PIDs 405<sub>1</sub>, 405<sub>2</sub> ... 405<sub>N-1</sub>, 405<sub>N</sub> are serially connected in a PV string circuit path of the PV string 402, and the outputs of PIDs 409<sub>1</sub>, 409<sub>2</sub> ... 409<sub>M-1</sub>, 409<sub>M</sub> are serially connected in a PV string circuit path of the PV string 406. <figref idrefs="f0005">FIG 4A</figref> is an example only and in other embodiments there could be fewer or greater numbers of PV panel strings with an equal number or unequal numbers of PV panels and PIDs.</p><p id="p0063" num="0063">PIDs 405<sub>1</sub>, 405<sub>2</sub> ... 405<sub>N-1</sub>, 405<sub>N</sub> and 409<sub>1</sub>, 409<sub>2</sub> ... 409<sub>M-1</sub>, 409<sub>M</sub> could perform a variety of functions including Maximum Power Point (MPP) tracking, DC power optimization, bypass functionality, and/or safety disconnect functionality for their respective PV panels. Examples of devices that could be suitable for implementation as PIDs are disclosed, for example, in United States Patent Applications <patcit id="pcit0002" dnum="US13840627B"><text>13/840,627 filed on March 15, 2013</text></patcit> and<!-- EPO <DP n="15"> --> entitled "PHOTOVOLTAIC BYPASS SWITCHING", and <patcit id="pcit0003" dnum="US13840162B"><text>13/840,162 filed on March 15, 2013</text></patcit> and entitled "INTELLIGENT SAFETY DISCONNECT SWITCHING".</p><p id="p0064" num="0064"><figref idrefs="f0006">FIG. 4B</figref> is a block diagram showing possible arc faults in the example PV power system of <figref idrefs="f0005">FIG 4A</figref>. Parallel arc fault 436 shorts the serial connection of PIDs 409<sub>M-1</sub> and 409<sub>M</sub> together and also connects PIDs 409<sub>1</sub> ... 409<sub>M-2</sub> across the input of AFE 410. Thus PIDs 409<sub>M-1</sub> and 409<sub>M</sub> experience a different load than PIDs 409<sub>1</sub> ... 409<sub>M-2</sub> which could result in a string current imbalance in which there is one value of output current in PIDs 409<sub>1</sub> ... 409<sub>M-2</sub> and a differing value of output current in PIDs 409<sub>M-1</sub> and 409<sub>M</sub>.</p><p id="p0065" num="0065">Similarly, parallel arc fault 438 to ground shorts the circuit path of PIDs 405<sub>N-1</sub> and 405<sub>N</sub> to ground and connects PIDs 405<sub>1</sub> ... 405<sub>N-2</sub> across the input of AFE 410, again resulting differing loads. The differing loads could result in a string current imbalance in which there is one value of output current in PIDS 405<sub>1</sub> ... 405<sub>N-2</sub> and a differing value of output current in PIDS 405<sub>N-1</sub>, 405<sub>N</sub>.</p><p id="p0066" num="0066">Parallel arc fault 432 might not result in a PV string current imbalance since in this case all PIDs in PV strings 402 and 406 remain serially connected in their respective PV string circuit paths and could have the same output currents. PIDs in PV strings 402 and 406 could also remain balanced in the case of a series arc fault, such as for example, arc fault 430 across connector 442.</p><p id="p0067" num="0067"><figref idrefs="f0007">FIG. 5</figref> is a schematic drawing of an example Panel Interface Device, which could be implemented as the PIDs in <figref idrefs="f0005">FIGS. 4A</figref> and <figref idrefs="f0006">4B</figref>. Example PID 500 comprises voltage sensor 510 such as a voltmeter, current sensor 520 such as an ammeter, controller 530 with a communication module or means 560, input terminal pair 542, 544, output terminal pair 552, 554, switches 570 and 580, and diode 582. Controller 530 controls the operation of switches 570 and 580 and receives voltage and current measurements from voltage sensor 510 and current sensor 520, respectively.</p><p id="p0068" num="0068">Terminal pairs 542, 544 and 552, 554 need not necessarily be discrete physical terminals, and could simply be connections. Controller 530 and communication module 560 could be<!-- EPO <DP n="16"> --> implemented, for example, in hardware, firmware, one or more components which execute software, or combinations thereof. Examples of components that could be used to implement the controller 530 and/or the communication module 560 include microprocessors, microcontrollers, ASICs, and FPGAs. As noted above for the transceiver 230 in <figref idrefs="f0003">FIG. 2</figref>, the exact form of the communication module 560 would depend on the type(s) of communications to be supported, but the communication module 560 would generally include some type of physical interface with one or more components to perform receive and transmit operations. The switches 570 and 580 could be solid state switches such as transistors, illustratively power MOSFETs, or other types of switches including switching devices with movable elements. Voltage sensor 510 and current sensor 520 could be implemented as a voltmeter and an ammeter as noted above, or voltage and/or current sensing could instead be integrated into controller 530.</p><p id="p0069" num="0069">Voltage sensor 510 monitors the output voltage ofPID 500. Current sensor 520 monitors the output current of PID 500. When PID 500 is serially connected to a PV string, as in <figref idrefs="f0005">FIG. 4A</figref> and <figref idrefs="f0006">4B</figref> for example, the output current will be the PV string current. Diode 582 provides bypass diode functionality.</p><p id="p0070" num="0070">Controller 530 comprises communication module 560 for communication. Communication module 560 could be integrated into controller 530 as shown or provided as a separate component, and could support wired communications through Power Line Communications (PLC) for example, and/or support wireless communications, through ZIGBEE and/or Wi-Fi, for example. Communication module 560 could allow PID 500 to report its output voltage, output current, and/or output power to other components of a PV power system. For example, referring to <figref idrefs="f0005">FIGS. 4A</figref> and <figref idrefs="f0006">4B</figref>, PIDs 405<sub>1</sub>, 405<sub>2</sub> ... 405<sub>N-1</sub>, 405<sub>N</sub> and 409<sub>1</sub>, 409<sub>2</sub> ... 409<sub>M-1</sub>, 409<sub>M</sub> could report their output voltages, output currents, and/or output powers to AFE 410.</p><p id="p0071" num="0071">The presence of an arc fault could be detected based on reported PID measurements. For example, PIDs 405<sub>1</sub>, 405<sub>2</sub> ... 405<sub>N-1</sub>, 405<sub>N</sub> in PV string 402 could report their current measurements to AFE 410. The presence of a parallel arc fault in string 402 could be detected by a current imbalance between PIDs 405<sub>1</sub>, 405<sub>2</sub> ... 405<sub>N-1</sub>, 405<sub>N</sub>. If an arc fault<!-- EPO <DP n="17"> --> were present, then the reported current of the PIDs supplying current to the arc fault could be greater than the reported current of PIDs not supplying current to the arc fault.</p><p id="p0072" num="0072"><figref idrefs="f0007">FIG. 5</figref> is an example, and other PID designs are possible. For example, voltmeter functionality and ammeter functionality could be incorporated in controller 530 and the PID output current could be monitored by measuring a voltage using a sense resistor.</p><p id="p0073" num="0073"><figref idrefs="f0008">FIG. 6</figref> is a flow diagram of an arc fault detection method, in this example a current imbalance arc fault detection method. In the example method 600, at 602 a PID counter is initialized to two. At 604 the output current of the first PID in the PV string I<sub>1</sub> is compared to the output current of the second PID in the string I<sub>2</sub>. If the currents differ by an amount greater than an arc fault current threshold difference I<sub>T</sub> (YES at 604) then an arc fault is reported at 606. If the currents differ by less than the arc fault current threshold difference (NO at 604) then the PID counter is incremented at 608. The PID counter is evaluated at 610. If the PID count exceeds the number of PIDs in the string (N<sub>PID</sub>), then the method ends at 612; otherwise the current of the next PID is evaluated at 604. The arc fault current threshold should be chosen to minimize false arc fault reporting and could account for current measurement and/or calibration errors between individual PIDs.</p><p id="p0074" num="0074">The presence of an arc fault could also or instead be detected based on reported PID output power measurements. Power could be measured and reported directly, or calculated by a PID or an AFE controller based on measured voltage and current, for example. An arc fault could be detected based on a power imbalance between the input power of an inverter and the total reported output power of all the PIDs connected to that inverter. For example, referring to <figref idrefs="f0005">FIGS. 4A</figref> and <figref idrefs="f0006">4B</figref>, PIDs 405<sub>1</sub>, 405<sub>2</sub> ... 405<sub>N-1</sub>, 405<sub>N</sub> and 409<sub>1</sub>, 409<sub>2</sub> ... 409<sub>M-1</sub>, 409<sub>M</sub> could report their output power measurements to AFE 410, which could compare the total of reported power measurements to the input power of inverter 420. Inverter 420 could compute its input power from measurements of its input voltage and input current. If an arc fault were present, then the total reported PID power (P<sub>PID</sub>) could be greater than the inverter input power P<sub>INV</sub>. Power dissipated in the arc fault could appear in the PID output power measurements but would not appear in the inverter input power measurement. The presence<!-- EPO <DP n="18"> --> of a parallel arc fault in a PV string 402, 406 could be detected by a power imbalance between the total PID power and the inverter input power.</p><p id="p0075" num="0075"><figref idrefs="f0009">FIG. 7</figref> is a flow diagram of an example arc fault detection method 700, based on a PID power imbalance. At 702, the PIDs in a PV array are polled by an AFE to report their output power and the total PID power is calculated. At 704, the inverter is polled to report its input power. At 706, the difference between the total PID power (P<sub>PID</sub>) and the inverter input power (P<sub>INV</sub>) is compared to a power imbalance threshold (P<sub>IMB</sub>). If the power difference is greater than the threshold (YES at 706) then an arc fault is reported at 708. If the power difference is less than the power imbalance threshold (NO at 706) then the method ends at 710. To minimize false arc fault detection, the power imbalance threshold should account for power measurement errors in the inverter and the PIDs as well as power losses in the PV power system wiring.</p><p id="p0076" num="0076">The process of reporting PID measurements such as output current or power to an AFE could take into account a timescale over which current or power might fluctuate due to changes in insolation, if there were a large number of PIDs and measurements were reported sequentially for example. In some situations the fluctuations could be accommodated by using large enough current and/or power threshold values to reduce false arc fault reports.</p><p id="p0077" num="0077">In another embodiment, an AFE instead broadcasts a measurement command to components which report measurements, which could include the inverter and/or PIDs. The command signal would be received by the inverter and all PIDs at substantially the same time in most implementations, where physical separation between the AFE(s), inverter, and PIDs is not significant in terms of communication delay, and the measurements can be performed substantially simultaneously. The measurements could then be reported to the AFE sequentially or as demanded by the AFE. Any reporting delays between the first and last measurements would not affect the power or current imbalance calculation since the measurements would have been taken at substantially the same time. Another possible option would be to also or instead configure any measuring components at the PIDs and/or the inverter for a measurement and reporting schedule.<!-- EPO <DP n="19"> --></p><p id="p0078" num="0078">The presence of an arc fault could also or instead be detected based on an interruption in PID communications. For example, PIDs 405<sub>1</sub>, 405<sub>2</sub> ... 405<sub>N-1</sub>, 405<sub>N</sub> and 409<sub>1</sub>, 409<sub>2</sub> ... 409<sub>M-1</sub>, 409<sub>M</sub> in PV power system 400 could regularly report their output current or voltage measurements to AFE 410. AFE 410 could poll the PIDs for their output current or voltage measurements and/or for their presence. PIDs 405<sub>1</sub>, 405<sub>2</sub> ... 405<sub>N-1</sub>, 405<sub>N</sub> and 409<sub>1</sub>, 409<sub>2</sub> ... 409<sub>M-1</sub>, 409<sub>M</sub> could send periodic presence messages to AFE 410. The presence of an arc fault could be detected by a loss of PID communications. Arc faults are known to generate significant electrical noise and could interfere with PID communications, particularly if Power Line Communications were used.</p><p id="p0079" num="0079"><figref idrefs="f0009">FIG. 8</figref> is a flow diagram of an example arc fault detection method 800, based on loss of PID communications. At 802, PIDs are polled by an AFE to report their presence. At 804, the number of PIDs which reported their presence (PID_Detect) is compared to a PID Detection threshold (PID<sub>T</sub>). If the number of detected PIDs is less than the PID detection threshold (YES at 804) then an arc is reported at 806. If the number of detected PIDs exceeds the detection threshold the method ends at 808. The PID detection threshold should be chosen to reduce false arc fault detection and could account for unrelated communication failure such as from a failed PID. In one embodiment the PID detection threshold is the number of panels in the string less the minimum number of PV panels that could sustain an arc. For example, if there are N PV panels in a string, the maximum PV panel voltage is V<sub>MAX</sub> and the minimum voltage to sustain an arc fault is V<sub>ARC</sub> volts, then the PID detection threshold PID<sub>T</sub> could be set to a value of <maths id="math0002" num=""><math display="block"><mrow><mi mathvariant="normal">N</mi><mo>-</mo><mi mathvariant="normal">INT</mi><mo>⁢</mo><mfenced separators=""><msub><mi mathvariant="normal">V</mi><mi mathvariant="normal">ARC</mi></msub><mo>/</mo><msub><mi mathvariant="normal">V</mi><mi mathvariant="normal">MAX</mi></msub><mo>+</mo><mn mathvariant="normal">1</mn></mfenced></mrow></math><img id="ib0002" file="imgb0002.tif" wi="42" he="6" img-content="math" img-format="tif"/></maths><br/>
where the function INT returns the rounded down integer value of its argument.</p><p id="p0080" num="0080">Although <figref idrefs="f0009">FIG. 8</figref> shows the example method 800 ending at 808, the method could be repeated periodically. For example, in another embodiment, the decrease in the number of reported PIDs in a string to below the PID detection threshold must occur substantially simultaneously, during a single PID polling operation for an arc fault to be declared.<!-- EPO <DP n="20"> --></p><p id="p0081" num="0081">It could be beneficial to avoid false detection of an arc fault since some safety codes require shut down and/or disconnect of a PV power system from an electrical grid and a manual inspection before the PV power system can be restarted. It could therefore be beneficial to combine different arc fault detection methods to avoid false positives. Thus, the example arc fault detection methods disclosed herein are not necessarily mutually exclusive, and multiple arc fault detection methods could be used in any AFE. For example, for arc fault detection methods that involve reporting of measurements from PIDs, an interruption in communications could be detected as a failure of any one or more PID(s) to provide measurements, and the interruption could also be used in detecting an arc fault.</p><heading id="h0010"><b>Arc Fault Extinguishing</b></heading><p id="p0082" num="0082">Once an arc fault is detected, it could be reported as described herein. In some embodiments, arc faults are extinguished before serious damage can occur. Any of the example arc fault detection methods disclosed herein could be supplemented with additional operations to extinguish a detected arc fault. Arc fault extinguishing could instead be implemented separately, such that a device that performs arc fault detection need not necessarily itself also handle arc fault extinguishing, and vice versa.</p><p id="p0083" num="0083">Referring to <figref idrefs="f0001">FIG. 1A</figref>, a series arc fault such as fault 130 in PV string 102 could be extinguished by open circuiting or rendering high impedance the combined PV panel output at terminal pair 150, 152. This could be accomplished by AFE 110 becoming open circuit or high impedance at its input. Referring to <figref idrefs="f0003">FIG. 2</figref>, in normal non-fault power producing operation, switch 212 is normally closed and shunt switch 214 is normally open. AFE 200 could therefore open circuit its input by opening series switch 212 while keeping parallel or shunt switch 214 open. With switches 212 and 214 open or high impedance a series arc fault current could not flow or could at least be sufficiently reduced so that the arc fault is extinguished.</p><p id="p0084" num="0084">A parallel arc, such as arc faults 132, 134, 136 and 138 in <figref idrefs="f0001">FIG. 1A</figref> would not necessarily be extinguished by rendering the combined PV panel output at terminal pair 150, 152 open circuit and could continue to burn since the arc fault current does not pass through that<!-- EPO <DP n="21"> --> terminal pair. A parallel arc fault could however, be extinguished by the combined PV panel output becoming shunted or low impedance.</p><p id="p0085" num="0085">An arc fault requires a voltage to sustain itself. The shunting of the combined PV panel output at terminal pair 150, 152 could reduce the arc fault voltage to below the level required to sustain the arc fault, due to the presence of PV panel bypass diodes. The minimum arc fault sustaining voltage in a PV power system could be around 30 V.</p><p id="p0086" num="0086">Referring to <figref idrefs="f0001">FIG. 1A</figref>, a parallel arc fault such as fault 136 in PV string 106 could be extinguished by shunting, or otherwise rendering low impedance, the combined PV panel output at terminal pair 150, 152. This could be accomplished by AFE 110 becoming shunted or low impedance at its input. For example, referring to <figref idrefs="f0003">FIG. 2</figref>, AFE 200 could shunt and render low impedance its input by closing switch 214. The shunting of the combined PV panel output results in the series connection of bypass diodes 109<sub>1</sub>, 109<sub>2</sub>,.. 109<sub>M-2</sub> being coupled across, or placed in parallel with, arc fault 136. In this situation bypass diodes 109<sub>1</sub>, 109<sub>2</sub> ... 109<sub>M-2</sub> will be forward biased by the arc fault voltage and will begin to conduct. The arc fault voltage of arc fault 136 will be limited to the sum of the forward bias drops across bypass diodes 109<sub>1</sub>, 109<sub>2</sub> ... 109<sub>M-2</sub>. For example, a typical diode forward bias drop is 0.7 V and therefore ifN = 10 then arc fault voltage would be limited to 7.0 V, which is insufficient to sustain an arc fault.</p><p id="p0087" num="0087">It could be preferable for switch 212 to be open when switch 214 was closed. An inverter could have significant input capacitance (hundreds of uFs) which is charged to the PV string voltage during normal operation. Closing switch 214 with switch 212 closed would shunt the charged inverter input capacitance and could stress switches 212 and 214.</p><p id="p0088" num="0088">Shunting the combined PV panel output at terminals 150, 152 could also extinguish a parallel arc in a PV power system equipped with PIDs if the PIDs incorporated bypass diode functionality. For example, referring to <figref idrefs="f0006">FIG. 4B</figref>, parallel fault 436 in PV power system 400 could be extinguished by shunting the input of AFE 410. The PIDs could be equipped with dedicated bypass diodes such as bypass diode 582 (<figref idrefs="f0007">FIG. 5</figref>). Alternately, if switch 580 in <figref idrefs="f0007">FIG. 5</figref> were a MOSFET switch it could have an intrinsic body diode which could provide bypass functionality.<!-- EPO <DP n="22"> --></p><p id="p0089" num="0089">The shunting and / or open circuiting of the combined PV panel output of a PV power system to extinguish an arc fault as described herein could be performed by an inverter, in which case an AFE might only detect the arc fault and the inverter would perform the actual extinguishing. For example, an inverter could disconnect its input or render it high impedance under control of an AFE to perform the same series arc fault extinguishing function as the AFE open circuiting operation described herein. An inverter could also incorporate a shunt switch across its input terminals under control of an AFE to perform the same parallel arc fault extinguishing function as the AFE shunting operation described herein.</p><p id="p0090" num="0090">A parallel arc fault within a PV string, between segments of PV string conductors that are not normally directly connected together, could be extinguished by shunting or rendering low impedance a PV string output. This could be implemented in a PV power system as shown in <figref idrefs="f0002">FIG. 1B</figref>, for example, where each PV string 102, 106 has its own AFE 160, 162.</p><p id="p0091" num="0091">Arc fault extinguishing operations could be performed in a sequence to ensure both series and parallel arc faults are extinguished.</p><p id="p0092" num="0092">The extinguishing of both series and parallel arc faults could be ensured by first shunting the combined PV panel output and then, if the arc fault still persists, open circuiting the combined PV panel output, or by first open circuiting the combined PV panel output and then, if the arc fault still persists, shunting the combined PV panel output.</p><p id="p0093" num="0093">The table below describes the dependence of the state of the combined PV panel output and the viability of series and parallel arcs based on the state of shunt and series switches, such as for example, switches 214 and 212, respectively, of AFE 200 in <figref idrefs="f0003">FIG. 2</figref>.
<tables id="tabl0001" num="0001"><table frame="all"><tgroup cols="5"><colspec colnum="1" colname="col1" colwidth="24mm"/><colspec colnum="2" colname="col2" colwidth="24mm"/><colspec colnum="3" colname="col3" colwidth="33mm"/><colspec colnum="4" colname="col4" colwidth="24mm"/><colspec colnum="5" colname="col5" colwidth="24mm"/><thead><row><entry valign="top">Shunt Switch</entry><entry valign="top">Series Switch</entry><entry valign="top">AFE input</entry><entry valign="top">Series Arc</entry><entry valign="top">Parallel Arc</entry></row></thead><tbody><row><entry>Open</entry><entry>Closed</entry><entry>Normal inverter load</entry><entry>Possible</entry><entry>Possible</entry></row><row><entry>Open</entry><entry>Open</entry><entry>Open Circuit</entry><entry>Extinguished</entry><entry>Possible</entry></row><row><entry>Closed</entry><entry>Open</entry><entry>Shunted</entry><entry>Possible</entry><entry>Extinguished</entry></row><row><entry>Closed</entry><entry>Closed</entry><entry>Shunted</entry><entry>Possible</entry><entry>Extinguished</entry></row></tbody></tgroup></table></tables><!-- EPO <DP n="23"> --></p><p id="p0094" num="0094"><figref idrefs="f0010">FIG. 9</figref> is a flow diagram of an example arc fault extinguishing method 900. At 901, the PV power system is in normal non-fault operation and producing power with a shunt switch, such as for example switch 214 of AFE 200 (<figref idrefs="f0003">FIG. 2</figref>), open and a series switch, such as for example switch 212 of AFE 200, closed. At 902, an arc fault is reported and an arc state is set to ON. At 904, the series switch is opened. At 906, a check for the presence of the arc fault is performed. Although not explicitly shown in <figref idrefs="f0010">FIG. 9</figref>, the check at 906 could be made after a time delay to provide time for a series arc fault to extinguish. If the arc fault is no longer present (NO at 904), then the arc fault is reported to be a series arc and the state of the arc fault is set to OFF at 912. Alternately the determination at 906 could involve a series of repeated measurements over a time interval.</p><p id="p0095" num="0095">If the arc fault is still present (YES at 904) then the shunt switch is closed and the series switch remains open at 908. At 914, a check for the presence of the arc fault is performed. As noted above for the check at 906, there could be a time delay before the determination is made at 914 to provide time for the arc fault to extinguish. Alternately the determination at 914 could involve a series of repeated measurements over a time interval. If the arc fault is no longer present (NO at 914), then the arc fault is reported to be a parallel arc fault and the state of the arc fault is set to OFF at 916. If the arc fault is still present (YES at 914), then the shunt switch is reopened at 918. The previously open series switch is reaffirmed as open at 904 and the cycle repeats until the arc fault is determined as no longer present at one of 906 or 914. In one embodiment, the wait time between opening the series switch at 904 and determination of an arc fault at 906 and the wait time between closing shunt switch 908 and determination of an arc fault at 914 are both increased from one cycle to the next to a maximum value. In another embodiment the time intervals for the determination of an arc fault at 906 and 914 are both increased to a maximum value.</p><p id="p0096" num="0096"><figref idrefs="f0011">FIG. 10</figref> is a flow diagram of another example arc fault extinguishing method 1000. At 1001, the PV power system is in normal non-fault operation and producing power with a shunt switch, such as for example switch 214 of AFE 200 (<figref idrefs="f0003">FIG. 2</figref>), open and a series switch, such as for example switch 212 of AFE 200, closed. At 1002, an arc fault is reported and an arc state is set to ON. At 1004, the series switch is opened. At 1006, possibly after a time delay, a check for the presence of the arc fault is performed. If the arc fault is no longer<!-- EPO <DP n="24"> --> present (NO at 1006), then the arc fault is reported to be a series arc and the state of the arc fault is set to OFF at 1012.</p><p id="p0097" num="0097">If the arc fault is still present (YES at 1006) then the shunt switch is closed at 1008. At 1014, possibly after a time delay, a check for the presence of the arc fault is performed. If the arc fault is no longer present (NO at 1014), then the arc fault is reported to be a parallel arc fault and the state of the arc fault is set to OFF at 1016. If the arc fault is still present (YES at 1014), then the shunt switch is opened at 1015.</p><p id="p0098" num="0098">An arc fault detection method using PID communications is performed at 1018. For example, the arc fault detection at 1018 could use the example method 800 of <figref idrefs="f0009">FIG. 8</figref>. If the PID communication arc fault detection at 1018 reports an arc fault (YES at 1018), then the arc type is reported as undefined at 1020, and the series switch is opened at 1004, and the cycle repeats. If no arc fault is detected based on PID communications (NO at 1018), then a current imbalance arc fault detection method is performed at 1022, which could involve the example method 600 in <figref idrefs="f0008">FIG. 6</figref> in an embodiment. If the current imbalance detection method reports an arc fault (YES at 1022), then the arc type is reported as parallel at 1028, the shunt switch is closed at 1008, and the cycle repeats. If no arc fault is detected based on current imbalance (NO at 122), then a power imbalance arc fault detection method is performed at 1024. If the power imbalance detection method detects an arc fault (YES at 1024), then the arc type is reported as series at 1030, the series switch is opened at 1004, and the cycle repeats. If no arc fault is detected (NO at 1024), then the arc type is reported as false at 1032. In one embodiment, the PV power system returns to normal operation after the arc is declared as false.</p><p id="p0099" num="0099">The example method 1000 illustrates how multiple arc fault detection methods could be combined with arc fault detection. Arc fault extinguishing and detection could be implemented separately or used together in other combinations.</p><heading id="h0011"><b>Overview</b></heading><p id="p0100" num="0100">Various embodiments are described above, with reference to <figref idrefs="f0002 f0003 f0004 f0005 f0006 f0007 f0008 f0009 f0010 f0011">FIGS. 1 to 10</figref>. According to the present disclosure, any of several techniques could be used to detect arc faults, and several<!-- EPO <DP n="25"> --> switching sequences could be used to extinguish such arcs. During normal operation, a shunt switch such as switch 214 in <figref idrefs="f0003">FIG. 2</figref> is open, and a series switch such as switch 212 in <figref idrefs="f0003">FIG. 2</figref> is closed. The position of either switch could be changed on detection of an arc fault. This is shown in <figref idrefs="f0012">FIG. 11</figref>, which includes schematic diagrams illustrating example switch control sequences. Although the upper switch sequence in <figref idrefs="f0012">FIG. 11</figref>, to first open the series switch to extinguish a series arc fault and then close the shunt switch to extinguish a parallel arc fault might be preferred, it is also possible to first close the shunt switch to extinguish a parallel arc fault and then open both switches to extinguish a series arc fault.</p><p id="p0101" num="0101">More generally, according to an embodiment, an arc fault extinguisher includes a first switch such as 212 in <figref idrefs="f0003">FIG. 2</figref> for connection in a first circuit path between a PV panel string and an inverter in a power system, a second switch such as 214 in <figref idrefs="f0003">FIG. 2</figref> for connection in a second circuit path across an output of the PV panel string, and a controller such as 220 in <figref idrefs="f0003">FIG. 2</figref>, coupled to the first switch and the second switch. The controller is configured to control the first switch to be closed and the second switch to be open during non-fault operation of the power system, as shown in the "NORMAL OPERATION" switch diagram in <figref idrefs="f0012">FIG. 11</figref>. The controller is also configured to control the first switch to open on detection of an arc fault in the power system, and to control the second switch to close on detection of an arc fault in the power system.</p><p id="p0102" num="0102">The controller could be configured to control the first switch to open on detection of an arc fault in the power system and to close the second switch while the first switch is open on detection of an arc fault in the power system, as shown in the upper switch sequence in <figref idrefs="f0012">FIG. 11</figref>.</p><p id="p0103" num="0103">The controller could be configured to instead control the second switch to close on detection of an arc fault in the power system and to open the first and second switches on detection of a continued arc fault in the power system, as shown in the lower switch sequence in <figref idrefs="f0012">FIG. 11</figref>.</p><p id="p0104" num="0104">The controller could be configured to detect arc faults by frequency analysis, which could involve obtaining measurement samples of current or power flow in the PV panel string, computing frequency components of the measurement samples in a frequency spectrum, and detecting an arc fault in the power system where at least a predetermined number of the<!-- EPO <DP n="26"> --> frequency components, including any of the frequency components in the frequency spectrum, exceed a threshold amplitude. This is also referenced herein as a probabilistic "binning" approach, and an example is shown in <figref idrefs="f0004">FIG. 3</figref>. Although <figref idrefs="f0004">FIG. 3</figref> is a flow chart of an example method, method embodiments as shown in <figref idrefs="f0004">FIG. 3</figref>, as shown in other drawings, and/or as otherwise disclosed herein, are subject to apparatus implementation, using a controller or other component. A controller could be configured to perform operations in any of various ways, such as through execution of software for example.</p><p id="p0105" num="0105">As noted herein, multiple arc fault detection techniques could be used. For example, the controller could be configured to detect arc faults by a combination of frequency analysis and measurements at PV panels in the PV panel string.</p><p id="p0106" num="0106">For arc fault detection based on measurements at more than one PV panel in the PV panel string, the controller could be configured to detect arc faults on determining that a current or power imbalance based on measurements of current or power flow at each of multiple PV panels in the PV panel string exceeds a threshold.</p><p id="p0107" num="0107">As shown in <figref idrefs="f0003">FIG. 2</figref>, an arc fault extinguisher could also include a transceiver 230, coupled to the controller, to enable communications between the controller and PV panels in the PV panel string. The controller could then be configured to detect arc faults based on interruption in communications with a subset of the PV panels. Communications with the PV panels could be through interface devices such as PIDs as shown in <figref idrefs="f0005">FIGS. 4A</figref> and <figref idrefs="f0006">4B</figref>. In embodiments where the controller is configured to poll interface devices at the PV panels to report their presence as in <figref idrefs="f0009">FIG. 8</figref>, for example, the controller could be configured to detect arc faults based on interruption in communications occurring within a predetermined time period. The time period could correspond to the time for a single polling period in which each interface device is polled. The time period could instead correspond to the time for an arc fault to completely develop.</p><p id="p0108" num="0108">The example methods 900 and 1000 in <figref idrefs="f0010">FIGS. 9</figref> and <figref idrefs="f0011">10</figref> both involve controlling first and second switches, such as the switch 212 in <figref idrefs="f0003">FIG. 2</figref>, in a first circuit path between a PV panel string and an inverter in a power system, and the switch 214 in <figref idrefs="f0003">FIG. 2</figref>, in a second circuit path between output terminals of the PV panel string. During normal non-fault operation of<!-- EPO <DP n="27"> --> the power system as shown at 901 and 1001 in <figref idrefs="f0010">FIGS. 9</figref> and <figref idrefs="f0011">10</figref>, the first (series) switch is controlled to be closed and the second (shunt) switch is controlled to be open. At 904, 1004, the first (series) switch is controlled to open on detection of an arc fault in the power system, and the second (shunt) switch is controlled to close at 908, 1008 on detection of an arc fault in the power system.</p><p id="p0109" num="0109">In both of the example methods, the first (series) switch is controlled to open at 904, 1004 on detection of an arc fault in the power system, and the second (shunt) switch is controlled to close at 908, 1008 while the first (series) switch is open on detection of an arc fault in the power system. <figref idrefs="f0011">FIG. 10</figref> also shows operations of controlling the second (shunt) switch to open at 1015 on detection of a continued arc fault in the power system at 1014 after the second (shunt) switch is closed. It is possible to either open the series switch first or close the shunt switch first on detection of an arc fault. The other of the series switch and the shunt switch could subsequently be opened if an arc fault continues after the first control operation to change switch state is executed. These options are shown in the upper and lower switch sequences in <figref idrefs="f0012">FIG. 11</figref>, and thus the first (series) switch could be controlled to open on detection of a continued arc fault in the power system after the second (shunt) switch is closed. Although this is perhaps best shown in the switch sequences in <figref idrefs="f0012">FIG. 11</figref>, tracing through the example method 1000 in <figref idrefs="f0011">FIG. 10</figref> at 1008 through 1014, 1015, and any one of 1018, 1022, 1024 back to 1004 also illustrates control of the first (series) switch to open on detection of a continued arc fault after the second (shunt) switch is closed.</p><p id="p0110" num="0110">Another method involves obtaining measurement samples of current or power flow in a power system which includes PV panels and computing frequency components of the measurement samples in a frequency spectrum. These operations are shown by way of example in <figref idrefs="f0004">FIG. 3</figref> at 302, 304. A method could also involve detecting an arc fault in the power system where at least a predetermined number of the frequency components, including any of the frequency components in the frequency spectrum, exceed a threshold amplitude. A count of frequency components exceeding a threshold amplitude A<sub>T</sub> is maintained at 310 in <figref idrefs="f0004">FIG. 3</figref> using the variable ARC_COUNT, and arc fault detection is shown at 316.</p><p id="p0111" num="0111">The current or power samples could be obtained by measuring the current or power flow in<!-- EPO <DP n="28"> --> the power system. Current or power flow measurements need not be made by the same physical component or at the same location as the arc fault detection. For example, with reference to <figref idrefs="f0005">FIG. 4A</figref>, the actual measurements could be made at each PV panel 404, 408, and the AFE 410 could then "obtain" those measurements through communications with the PIDs 405, 409 at each PV panel. In the case of power-based arc fault detection, power could be measured directly or calculated, at the PV panels 404, 408 by the PIDs 405, 409 or at the AFE 410, based on measured PV panel current and voltage. In a multi-string power system, measurement samples of current or power flow in each of the multiple strings of PV panels could be obtained.</p><p id="p0112" num="0112">Arc fault detection based on current or power imbalance is also possible. For example, a method could involve obtaining measurements of current or power flow at each of multiple PV panels connected together in one or more respective circuit paths in a power system. <figref idrefs="f0005">FIGS. 4A</figref> and <figref idrefs="f0006">4B</figref> show multi-string embodiments, but there need not be multiple strings in every power system. A determination is made as to whether a current or power imbalance based on the measurements exceeds a threshold, and an arc fault is detected in the power system where it is determined that the current or power imbalance exceeds the threshold.</p><p id="p0113" num="0113">The determining could involve determining whether a difference in the measurements of the current at different ones of the PV panels in each circuit path exceeds the threshold. Such a method is shown by way of example in <figref idrefs="f0008">FIG. 6</figref>. Measurements of PV panel currents are obtained, and a threshold determination is made at 604. An arc fault is detected, and also reported at 606 in the example method 600, where it is determined at 604 that the current imbalance exceeds the threshold.</p><p id="p0114" num="0114">For power imbalance-based arc fault detection, PV panel power measurements are obtained, such as at 702 in <figref idrefs="f0009">FIG. 7</figref>. A measurement of total output power from the PV panels is also obtained, and this is shown by way of example in <figref idrefs="f0009">FIG. 7</figref> at 704, by polling a central inverter such as the inverter 120, 420 in <figref idrefs="f0001">FIGS. 1A</figref>, <figref idrefs="f0002">1B</figref>, <figref idrefs="f0005">4A</figref>, <figref idrefs="f0006">4B</figref>. The threshold determination could then involve determining whether an amount, by which a total of the measurements of power flow at each of the PV panels exceeds the measurement of total output power, exceeds the threshold. A total of the measurements of power flow at each of the PV panels is computed<!-- EPO <DP n="29"> --> at 702 in <figref idrefs="f0009">FIG. 7</figref>, for example, and this type of threshold determination is also illustrated in <figref idrefs="f0009">FIG. 7</figref> at 706.</p><p id="p0115" num="0115">In a method that involves obtaining measurements by receiving such measurements from the PV panels through communications with the PV panels, an arc fault could be detected based on interruption of communications with the PV panels.</p><p id="p0116" num="0116">Such communications-based arc fault detection could also be implemented separately, by monitoring communications with PV panels in a power system, and detecting an arc fault in the power system based on an interruption in communications with any of a predetermined number of the PV panels. Such a method is shown in <figref idrefs="f0009">FIG. 8</figref>. The monitoring in the example method 800 involves a polling operation at 802 and the determination at 804. Polling operations at 802 could be performed, to poll interface devices such as the PIDs 405, 409 in <figref idrefs="f0005">FIGS. 4A</figref>, <figref idrefs="f0006">4B</figref> at the PV panels 404, 408 in each polling operation to report their presence. Arc fault detection could then involve detecting an arc fault based on interruption in communications with any of a predetermined number of the PV panels in a single polling operation. Different numbers of PIDs could report their presence in different polling operations, for example, but an arc fault might not be detected unless fewer than a predetermined number of the PIDs report their presence in any single polling operation cycle.</p><heading id="h0012"><b>Conclusion</b></heading><p id="p0117" num="0117">What has been described is merely illustrative of the application of principles of embodiments of the present disclosure. Other arrangements and methods can be implemented by those skilled in the art.</p><p id="p0118" num="0118">For example, any divisions of function in the drawings are not intended to be limiting or exhaustive. Other embodiments could include additional, fewer, and/or different components than shown. Similarly, other method embodiments could include additional, fewer, and/or different operations performed in an order similar to or different from the orders shown in the drawings and described above. In addition, although several example methods are shown in the drawings as ending after certain operations are performed, the methods could be repeated<!-- EPO <DP n="30"> --> multiple times during operation of a PV power system, to provide for ongoing arc fault monitoring, for instance.</p><p id="p0119" num="0119">Various thresholds are described herein. A threshold condition of a monitored quantity being equal to a threshold could be treated in the same way as the monitored quantity being less than the threshold or in the same way as the monitored quantity being greater than the threshold. Thus, any threshold decision could be "less than or equal to" or "greater than or equal to" and need not necessarily be "less than" or "greater than".</p><p id="p0120" num="0120">Also, although described primarily in the context of methods and systems, other implementations are also contemplated, as instructions stored on a non-transitory computer-readable medium, for example.</p></description><claims mxw-id="PCLM90459389" lang="EN" load-source="patent-office"><!-- EPO <DP n="31"> --><claim id="c-en-0001" num="0001"><claim-text>An arc fault extinguisher comprising:
<claim-text>a first switch for connection in a first circuit path between a PhotoVoltaic (PV) panel string and an inverter in a power system;</claim-text>
<claim-text>a second switch for connection in a second circuit path across an output of said PV panel string;</claim-text>
<claim-text>a controller, coupled to said first switch and said second switch, and configured to control said first switch to be closed and said second switch to be open during non-fault operation of said power system, to control said first switch to open on detection of an arc fault in said power system, and to control said second switch to close on detection of an arc fault in said power system.</claim-text></claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>The arc fault extinguisher of claim 1, wherein said controller is configured to control said first switch to open on detection of an arc fault in said power system and to close said second switch while said first switch is open on detection of an arc fault in said power system.</claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>The arc fault extinguisher of claim 1, wherein said controller is configured to control said second switch to close on detection of an arc fault in said power system and to open said first and second switches on detection of a continued arc fault in said power system.</claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>The arc fault extinguisher of claim 1, said controller being configured to detect arc faults by frequency analysis.<!-- EPO <DP n="32"> --></claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>The arc fault extinguisher of claim 4, said frequency analysis comprising:
<claim-text>obtaining measurement samples of current or power flow in said PV panel string;</claim-text>
<claim-text>computing frequency components of said measurement samples in a frequency spectrum;</claim-text>
<claim-text>detecting an arc fault in said power system where at least a predetermined number of said frequency components, including any of said frequency components in said frequency spectrum, exceed a threshold amplitude.</claim-text></claim-text></claim><claim id="c-en-0006" num="0006"><claim-text>The arc fault extinguisher of claim 1, said controller being configured to detect arc faults by a combination of frequency analysis and measurements at PV panels in said PV panel string.</claim-text></claim><claim id="c-en-0007" num="0007"><claim-text>The arc fault extinguisher of claim 1, said controller being configured to detect arc faults based on measurements at more than one PV panel in said PV panel string.</claim-text></claim><claim id="c-en-0008" num="0008"><claim-text>The arc fault extinguisher of claim 1, said controller being configured to detect arc faults on determining that a current or power imbalance based on measurements of current or power flow at each of a plurality of PV panels in said PV panel string exceeds a threshold.</claim-text></claim><claim id="c-en-0009" num="0009"><claim-text>The arc fault extinguisher of claim 1, further comprising:
<claim-text>a transceiver, coupled to said controller, to enable communications between said controller and PV panels in said PV panel string,</claim-text>
<claim-text>said controller being configured to detect arc faults based on interruption in communications with a subset of said PV panels.</claim-text><!-- EPO <DP n="33"> --></claim-text></claim><claim id="c-en-0010" num="0010"><claim-text>The arc fault extinguisher of claim 1, further comprising:
<claim-text>a transceiver, coupled to said controller, to enable communications between said controller and PV panels in said PV panel string,</claim-text>
<claim-text>said controller being configured to poll interface devices at said PV panels to report their presence, and to detect arc faults based on interruption in communications with a subset of said PV panels occurring within a predetermined time period.</claim-text></claim-text></claim><claim id="c-en-0011" num="0011"><claim-text>A method comprising:
<claim-text>controlling a first switch, in a first circuit path between a PhotoVoltaic (PV) panel string and an inverter in a power system, to be closed during non-fault operation of said power system;</claim-text>
<claim-text>controlling a second switch, in a second circuit path between output terminals of said PV panel string, to be open during non-fault operation of said power system;</claim-text>
<claim-text>controlling said first switch to open on detection of an arc fault in said power system;</claim-text>
<claim-text>controlling said second switch to close on detection of an arc fault in said power system,</claim-text>
<claim-text>said controlling said first switch to open comprising controlling said first switch to open on detection of an arc fault in said power system,</claim-text>
<claim-text>said controlling said second switch to close comprising controlling said second switch to close while said first switch is open on detection of an arc fault in said power system.</claim-text></claim-text></claim><claim id="c-en-0012" num="0012"><claim-text>The method of claim 11, further comprising:<!-- EPO <DP n="34"> -->
<claim-text>controlling said second switch to open on detection of a continued arc fault in said power system after said second switch is closed,</claim-text>
<claim-text>said controlling said first switch to open comprising controlling said first switch to open on detection of a continued arc fault in said power system after said second switch is closed.</claim-text></claim-text></claim><claim id="c-en-0013" num="0013"><claim-text>The method of claim 11, further comprising:
<claim-text>obtaining measurement samples of current or power flow in said power system;</claim-text>
<claim-text>computing frequency components of said measurement samples in a frequency spectrum;</claim-text>
<claim-text>detecting an arc fault in said power system where at least a predetermined number of said frequency components, including any of said frequency components in said frequency spectrum, exceed a threshold amplitude.</claim-text></claim-text></claim><claim id="c-en-0014" num="0014"><claim-text>The method of claim 11, further comprising:
<claim-text>obtaining measurements of current or power flow at each of a plurality of PhotoVoltaic (PV) panels in said PV panel string;</claim-text>
<claim-text>determining whether a current or power imbalance based on said measurements exceeds a threshold;</claim-text>
<claim-text>detecting an arc fault in said power system where it is determined that said current or power imbalance exceeds said threshold.</claim-text></claim-text></claim><claim id="c-en-0015" num="0015"><claim-text>The method of claim 14,<br/>
<!-- EPO <DP n="35"> -->said determining comprising determining whether a difference in said measurements of said current at different ones of said PV panels in each said circuit path exceeds said threshold.</claim-text></claim><claim id="c-en-0016" num="0016"><claim-text>The method of claim 14, further comprising:
<claim-text>obtaining a measurement of total output power from said plurality of PV panels,</claim-text>
<claim-text>said determining comprising determining whether an amount, by which a total of said measurements of power flow at each of said plurality of PV panels exceeds said measurement of total output power, exceeds said threshold.</claim-text></claim-text></claim><claim id="c-en-0017" num="0017"><claim-text>The method of claim 14, said obtaining comprising receiving measurements of said current or power flow from said plurality of PV panels through communications with said plurality of PV panels, the method further comprising:
<claim-text>detecting an arc fault in said power system based on interruption of communications with said PV panels.</claim-text></claim-text></claim><claim id="c-en-0018" num="0018"><claim-text>The method of claim 11, further comprising:
<claim-text>monitoring communications with a plurality of PhotoVoltaic (PV) panels in said PV panel string;</claim-text>
<claim-text>detecting an arc fault in said power system based on an interruption in communications with any of a predetermined number of said PV panels.</claim-text></claim-text></claim></claims><drawings mxw-id="PDW20422119" load-source="patent-office"><!-- EPO <DP n="36"> --><figure id="f0001" num="1A"><img id="if0001" file="imgf0001.tif" wi="165" he="218" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="37"> --><figure id="f0002" num="1B"><img id="if0002" file="imgf0002.tif" wi="165" he="213" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="38"> --><figure id="f0003" num="2"><img id="if0003" file="imgf0003.tif" wi="165" he="202" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="39"> --><figure id="f0004" num="3"><img id="if0004" file="imgf0004.tif" wi="165" he="223" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="40"> --><figure id="f0005" num="4A"><img id="if0005" file="imgf0005.tif" wi="165" he="206" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="41"> --><figure id="f0006" num="4B"><img id="if0006" file="imgf0006.tif" wi="165" he="210" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="42"> --><figure id="f0007" num="5"><img id="if0007" file="imgf0007.tif" wi="165" he="129" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="43"> --><figure id="f0008" num="6"><img id="if0008" file="imgf0008.tif" wi="160" he="178" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="44"> --><figure id="f0009" num="7,8"><img id="if0009" file="imgf0009.tif" wi="165" he="115" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="45"> --><figure id="f0010" num="9"><img id="if0010" file="imgf0010.tif" wi="155" he="231" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="46"> --><figure id="f0011" num="10"><img id="if0011" file="imgf0011.tif" wi="165" he="222" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="47"> --><figure id="f0012" num="11"><img id="if0012" file="imgf0012.tif" wi="165" he="117" img-content="drawing" img-format="tif"/></figure></drawings><search-report-data><doc-page id="srep0001" file="srep0001.tif" wi="158" he="233" type="tif"/><doc-page id="srep0002" file="srep0002.tif" wi="158" he="233" type="tif"/></search-report-data><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
