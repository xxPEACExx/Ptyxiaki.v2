<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2960141-A1" country="EP" doc-number="2960141" kind="A1" date="20151230" family-id="53397935" file-reference-id="318335" date-produced="20180826" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="160452004" ucid="EP-2960141-A1"><document-id><country>EP</country><doc-number>2960141</doc-number><kind>A1</kind><date>20151230</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-15172046-A" is-representative="YES"><document-id mxw-id="PAPP193866976" load-source="patent-office" format="original"><country>EP</country><doc-number>15172046.3</doc-number><date>20150615</date><lang>EN</lang></document-id><document-id mxw-id="PAPP193866977" load-source="docdb" format="epo"><country>EP</country><doc-number>15172046</doc-number><kind>A</kind><date>20150615</date><lang>EN</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC162032524" ucid="JP-2014126972-A" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>2014126972</doc-number><kind>A</kind><date>20140620</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-1836132319" load-source="docdb">B62D  15/02        20060101AFI20170307BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1836132320" load-source="docdb">B62D   5/04        20060101ALI20170307BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1811116136" load-source="docdb" scheme="CPC">B62D   5/049       20130101 LI20170516BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1951069678" load-source="docdb" scheme="CPC">B62D  15/021       20130101 FI20160412BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT165547478" lang="DE" load-source="patent-office">LENKSYSTEM</invention-title><invention-title mxw-id="PT165547479" lang="EN" load-source="patent-office">STEERING SYSTEM</invention-title><invention-title mxw-id="PT165547480" lang="FR" load-source="patent-office">SYSTÈME DE DIRECTION</invention-title><citations><patent-citations><patcit mxw-id="PCIT371137835" load-source="docdb" ucid="EP-1225419-A2"><document-id format="epo"><country>EP</country><doc-number>1225419</doc-number><kind>A2</kind><date>20020724</date></document-id><sources><source name="SEA" category="XI" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT356617741" load-source="docdb" ucid="EP-2050658-A1"><document-id format="epo"><country>EP</country><doc-number>2050658</doc-number><kind>A1</kind><date>20090422</date></document-id><sources><source name="APP" created-by-npl="N"/><source name="SEA" category="AD" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT335746393" load-source="docdb" ucid="GB-2443525-A"><document-id format="epo"><country>GB</country><doc-number>2443525</doc-number><kind>A</kind><date>20080507</date></document-id><sources><source name="SEA" category="A" created-by-npl="N"/></sources></patcit></patent-citations></citations></technical-data><parties><applicants><applicant mxw-id="PPAR1103304530" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>JTEKT CORP</last-name><address><country>JP</country></address></addressbook></applicant><applicant mxw-id="PPAR1103336301" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>JTEKT CORPORATION</last-name></addressbook></applicant><applicant mxw-id="PPAR1101640387" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>JTEKT CORPORATION</last-name><iid>100764351</iid><address><street>5-8, Minamisemba 3-chome Chuo-ku</street><city>Osaka-shi Osaka 542-8502</city><country>JP</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR1103313515" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>FUJITA YUJI</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR1103341329" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>FUJITA, YUJI</last-name></addressbook></inventor><inventor mxw-id="PPAR1101645610" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>FUJITA, YUJI</last-name><address><street>c/o JTEKT Corporation 5-8, Minamisemba 3-chome, Chuo-ku,</street><city>Osaka-shi, Osaka, 542-8502</city><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR1103311312" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>ADACHI TAKEHIDE</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR1103312890" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>ADACHI, TAKEHIDE</last-name></addressbook></inventor><inventor mxw-id="PPAR1101647602" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>ADACHI, TAKEHIDE</last-name><address><street>c/o JTEKT Corporation 5-8, Minamisemba 3-chome, Chuo-ku,</street><city>Osaka-shi, Osaka, 542-8502</city><country>JP</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR1101639899" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Winter, Brandl, Fürniss, Hübner, Röss, Kaiser, Polte - Partnerschaft</last-name><iid>101349498</iid><address><street>Patent- und Rechtsanwaltskanzlei Bavariaring 10</street><city>80336 München</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><designated-states><ep-contracting-states><country mxw-id="DS660618022" load-source="docdb">AL</country><country mxw-id="DS660708348" load-source="docdb">AT</country><country mxw-id="DS660618036" load-source="docdb">BE</country><country mxw-id="DS660615061" load-source="docdb">BG</country><country mxw-id="DS660695454" load-source="docdb">CH</country><country mxw-id="DS660617735" load-source="docdb">CY</country><country mxw-id="DS660708349" load-source="docdb">CZ</country><country mxw-id="DS660786123" load-source="docdb">DE</country><country mxw-id="DS660618037" load-source="docdb">DK</country><country mxw-id="DS660617736" load-source="docdb">EE</country><country mxw-id="DS660697942" load-source="docdb">ES</country><country mxw-id="DS660615062" load-source="docdb">FI</country><country mxw-id="DS660615079" load-source="docdb">FR</country><country mxw-id="DS660618038" load-source="docdb">GB</country><country mxw-id="DS660618051" load-source="docdb">GR</country><country mxw-id="DS660618052" load-source="docdb">HR</country><country mxw-id="DS660617737" load-source="docdb">HU</country><country mxw-id="DS660695459" load-source="docdb">IE</country><country mxw-id="DS660618053" load-source="docdb">IS</country><country mxw-id="DS660615080" load-source="docdb">IT</country><country mxw-id="DS660617738" load-source="docdb">LI</country><country mxw-id="DS660786124" load-source="docdb">LT</country><country mxw-id="DS660708350" load-source="docdb">LU</country><country mxw-id="DS660786125" load-source="docdb">LV</country><country mxw-id="DS660786126" load-source="docdb">MC</country><country mxw-id="DS660694049" load-source="docdb">MK</country><country mxw-id="DS660694050" load-source="docdb">MT</country><country mxw-id="DS660697947" load-source="docdb">NL</country><country mxw-id="DS660708367" load-source="docdb">NO</country><country mxw-id="DS660697948" load-source="docdb">PL</country><country mxw-id="DS660708368" load-source="docdb">PT</country><country mxw-id="DS660697949" load-source="docdb">RO</country><country mxw-id="DS660617771" load-source="docdb">RS</country><country mxw-id="DS660697950" load-source="docdb">SE</country><country mxw-id="DS660617772" load-source="docdb">SI</country><country mxw-id="DS660694063" load-source="docdb">SK</country><country mxw-id="DS660694064" load-source="docdb">SM</country><country mxw-id="DS660695460" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA166480374" lang="EN" load-source="patent-office"><p id="pa01" num="0001">A steering system includes a rotation angle sensor 52 that detects a signal related to an absolute steering angle, and an assist circuit 53 that acquires the signal related to the absolute steering angle while an ignition switch is off in order to reduce battery consumption. The assist circuit 53 includes a counter 64 that updates a count value based on a result of detection by a first rotating direction determining unit 62 and a second rotating direction determining unit 63 that determine a rotating direction of a motor, and an abnormality detecting unit 66 that detects an abnormality in absolute steering angle based on a past value and a current value of the count value in the counter 64. The last value and current value recorded in the one counter 64 are used to enable redundancy using only the one counter 64. Compared to the use of two counters 64 for redundancy, the use of the single counter 64 eliminates the need to collect a double amount of signals, enabling a reduction in processing time for abnormality detection.
<img id="iaf01" file="imgaf001.tif" wi="143" he="81" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA166760186" lang="EN" source="EPO" load-source="docdb"><p>A steering system includes a rotation angle sensor 52 that detects a signal related to an absolute steering angle, and an assist circuit 53 that acquires the signal related to the absolute steering angle while an ignition switch is off in order to reduce battery consumption. The assist circuit 53 includes a counter 64 that updates a count value based on a result of detection by a first rotating direction determining unit 62 and a second rotating direction determining unit 63 that determine a rotating direction of a motor, and an abnormality detecting unit 66 that detects an abnormality in absolute steering angle based on a past value and a current value of the count value in the counter 64. The last value and current value recorded in the one counter 64 are used to enable redundancy using only the one counter 64. Compared to the use of two counters 64 for redundancy, the use of the single counter 64 eliminates the need to collect a double amount of signals, enabling a reduction in processing time for abnormality detection.</p></abstract><description mxw-id="PDES98405075" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001">BACKGROUND OF THE INVENTION</heading><heading id="h0002">1. Field of the Invention</heading><p id="p0001" num="0001">The invention relates to a steering system.</p><heading id="h0003">2. Description of Related Art</heading><p id="p0002" num="0002">Vehicular systems include various systems such as a steering system, a brake system, a back guide system, and a vehicular stability control system which perform control using an absolute steering angle. For example, in a steering system described in European Patent No. <patcit id="pcit0001" dnum="EP2050658A"><text>2050658</text></patcit>, the absolute steering angle is detected using an evaluation unit configured as an ASIC including a sensor that can detect a relative steering angle and a counter that increases and decreases a count value in accordance with a relative steering angle signal obtained from the sensor even while an ignition switch is off (during an IG off state). That is, to what period the steering angle corresponds is determined based on the count value, and the absolute steering angle is evaluated using the relative steering angle detected by the sensor.</p><p id="p0003" num="0003">If an abnormality such as a mismatch between the relative steering angle signal and an increase or a decrease in count value occurs in the evaluation unit, an incorrect absolute steering angle may be detected. Detection of the incorrect absolute steering angle causes a controller for the steering system to perform control based on the incorrect absolute steering angle. Thus, the system in European Patent No. <patcit id="pcit0002" dnum="EP2050658A"><text>2050658</text></patcit> detects an abnormality in absolute steering angle as follows. That is, two such counters as described above are provided to make a count function redundant so that an abnormality detecting unit can compare two count values to determine whether the detected absolute steering angle is normal. Upon determining the absolute steering angle to be abnormal, the controller for the steering system stops the control based on the absolute steering angle.</p><p id="p0004" num="0004">The steering system in European Patent No. <patcit id="pcit0003" dnum="EP2050658A"><text>2050658</text></patcit> certainly enables an abnormality in absolute steering angle to be detected. However, the system needs processing time to compare the two count values. The time needed to determine an<!-- EPO <DP n="2"> --> abnormality in absolute steering angle is also increased by an amount equal to the processing time.</p><heading id="h0004">SUMMARY OF THE INVENTION</heading><p id="p0005" num="0005">An object of the present invention is to provide a steering system that enables a reduction in time needed to determine an abnormality in steering angle.</p><p id="p0006" num="0006">A steering system according to an aspect of the present invention includes a position detector that detects a signal related to an absolute steering angle and an assist unit that acquires the signal related to the absolute steering angle while an ignition switch is off. The assist unit includes a counter that increases and decreases a count value based on a steering direction and an abnormality detecting unit that compares a past value and a current value of the count value to detect an abnormality in the absolute steering angle.</p><p id="p0007" num="0007">This configuration enables an abnormality in the absolute steering angle to be detected using the past value and the current value in the one counter. This is because the count value is a signal indicative of a change in the absolute steering angle. A configuration is possible in which a plurality of counters is provided to allow count values in the counters to be compared. However, compared to the configuration with the plurality of counters, the configuration according to the present aspect that detects an abnormality using a single counter enables a reduction in processing time for abnormality detection.</p><p id="p0008" num="0008">The assist unit may include a rotating direction determining unit that determines a rotating direction as the steering direction based on the acquired signal. The counter may update the count value based on the rotating direction determined by the rotating direction determining unit. The abnormality detecting unit may detect an abnormality in the absolute steering angle based on the rotating direction of a steering shaft determined by the rotating direction determining unit and a result of comparison between the past value and the current value.</p><p id="p0009" num="0009">The assist unit may have a comparison unit and a plurality of rotating direction determining units. The comparison unit may compare the rotating directions<!-- EPO <DP n="3"> --> determined by the rotating direction determining units to detect an abnormality in a determination result for the rotating direction.</p><p id="p0010" num="0010">In this configuration, the rotating direction determining unit allows the rotating direction of the steering shaft to be determined. Then, abnormality detection can be performed using the rotating direction and the past and current values in the counter. The plurality of rotating direction determining units allows more comparison units to be provided, allowing a reliable absolute steering angle to be obtained.</p><p id="p0011" num="0011">The abnormality detecting unit may use a last value as the past value. This configuration performs abnormality detection using the current value and the last value, which is the nearest past value, to allow an abnormality to be detected with time lag reduced.</p><p id="p0012" num="0012">The steering system according to the above-described aspect may further include a steering operation shaft that makes linear motion in conjunction with rotation of the steering shaft to steer steered wheels and a motor that applies an assist force to the steering shaft or the steering operation shaft. The position detector may generate, as the signal related to the absolute steering angle, an electric signal according to an amount of rotation of the motor.</p><p id="p0013" num="0013">The steering system according to the above-described aspect may further include a steering operation shaft that makes linear motion in conjunction with rotation of a steering shaft to steer the steered wheels. The position detector may generate, as the signal related to the absolute steering angle, an electric signal according to an amount of rotation of the steering shaft or an amount of displacement of the steering operation shaft.</p><p id="p0014" num="0014">With these configurations, the position detector can be used to obtain the signal related to the absolute steering angle based on the electric signal according to the amount of rotation of the motor, the amount of rotation of the steering shaft, and the amount of displacement of the steering operation shaft.</p><p id="p0015" num="0015">The steering system according to the above-described aspect may further include a controller that controls the motor based on a signal related at least to a steering torque and the steering angle. While the ignition switch is off, power supply to the<!-- EPO <DP n="4"> --> controller may be stopped but power may be continuously supplied to the position detector and the assist unit.</p><p id="p0016" num="0016">This configuration enables further reduction in the power consumption of a battery. That is, while the ignition switch is off, power is supplied to the position detector and the assist unit but power supply to an ECU is stopped, enabling a reduction in the power consumption of the battery.</p><p id="p0017" num="0017">The steering system according to the above-described aspect may be configured to intermittently drive the position detector and the assist unit.</p><p id="p0018" num="0018">This configuration intermittently drives the position detector and the assist unit, enabling a reduction in battery consumption compared to the case of constant driving.</p><heading id="h0005">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p0019" num="0019">The foregoing and further features and advantages of the invention will become apparent from the following description of example embodiments with reference to the accompanying drawings, wherein like numerals are used to represent like elements and wherein:
<ul><li><figref idrefs="f0001">FIG. 1</figref> is a block diagram depicting a configuration of a steering system in an embodiment;</li><li><figref idrefs="f0002">FIG. 2</figref> is a schematic diagram depicting a configuration of an assist circuit in the embodiment; and</li><li><figref idrefs="f0003">FIG. 3</figref> is a schematic diagram of a rotating direction determining unit in the embodiment.</li></ul></p><heading id="h0006">DETAILED DESCRIPTION OF EMBODIMENTS</heading><p id="p0020" num="0020">An embodiment of a steering system will be described below. The steering system in the present embodiment is an electric power steering system (EPS) that applies an assist force to a steering mechanism using a motor.</p><p id="p0021" num="0021">As depicted in <figref idrefs="f0001">FIG. 1</figref>, the EPS 10 includes a steering mechanism 20 that steers steered wheels 26 based on a driver's operation of a steering wheel 21, a steering<!-- EPO <DP n="5"> --> assist mechanism 30 that assists the driver's steering operation, and an electronic control unit (ECU) 40 that controls the steering assist mechanism 30.</p><p id="p0022" num="0022">The steering mechanism 20 includes the steering wheel 21 and a steering shaft 22 that rotates integrally with the steering wheel 21. The steering shaft 22 includes a column shaft 22a coupled to the steering wheel 21, an intermediate shaft 22b coupled to a lower end of the column shaft 22a, and a pinion shaft 22c coupled to a lower end of the intermediate shaft 22b. A lower end of the pinion shaft 22c is coupled to a rack shaft 23 extending in a direction that crosses the pinion shaft 22c. Rotary motion of the steering shaft 22 is converted into axial reciprocating linear motion of the rack shaft 23 via a rack-and-pinion mechanism 24. The reciprocating linear motion is transmitted to the right and left steered wheels 26 via tie rods 25 coupled to opposite ends of the rack shaft 23 to change the steered angles of the steered wheels 26. Thus, a vehicle traveling direction is changed.</p><p id="p0023" num="0023">The steering assist mechanism 30 includes a motor 31 that is a source of a steering assist force. A rotating shaft 31 a of the motor 31 is coupled to the column shaft 22a via a speed reduction mechanism 32. The speed reduction mechanism 32 reduces the speed of rotation output from the motor 31 to transmit a torque generated by the motor 31 to the column shaft 22a. A steering torque τ of the motor 31 is applied to the steering shaft 22 as the steering assist force to assist the driver's steering operation.</p><p id="p0024" num="0024">The ECU 40 controls the motor 31 based on detection signals from various sensors provided in the vehicle. The various sensors include, for example, a torque sensor 51 and a rotation angle sensor 52. The torque sensor 51 is provided on the column shaft 22a, and the rotation angle sensor 52 is attached to the motor 31. The torque sensor 51 detects the steering torque τ applied to the steering shaft 22 as a result of the driver's steering operation. The rotation angle sensor 52 is provided on the motor 31 to output an electric signal according to the rotation angle θ of the rotating shaft 31 a. The electric signal according to the rotation angle θ is a signal related to an absolute steering angle θs. For example, a magnetoresistive sensor (MR sensor) is adopted as the rotation angle sensor 52. The MR sensor has a bridge circuit including a plurality of magnetoresistive elements.<!-- EPO <DP n="6"> --> The rotation angle sensor 52 generates a sin signal and a cos signal as the electric signal according to the rotation angle θ. The ECU 40 controls the motor 31 based on the steering torque τ detected by the torque sensor 51 and the electric signal generated by the rotation angle sensor 52.</p><p id="p0025" num="0025">The motor 31 is provided with an assist circuit 53. The assist circuit 53 outputs the signal related to the absolute steering angle θs detected by the rotation angle sensor 52, to the ECU 40, to assist the ECU 40 in calculating the absolute steering angle θs. The assist circuit 53 may be configured as a single integrated circuit (ASIC). The signal related to the absolute steering angle θs obtained by the rotation angle sensor 52 while an ignition switch is off (during an IG off state) is recorded in the assist circuit 53. While the ignition switch is on (during an IG on state), the assist circuit 53 outputs the signal related to the absolute steering angle θs and recorded in the assist circuit 53, to the ECU 40 via an interface 67. The ECU 40 executes calculation on the output from the rotation angle sensor 52 and the signal related to the absolute steering angle θs and output by the assist circuit 53, to output the absolute steering angle θs. The ECU 40 then records the absolute steering angle θs immediately before IG is turned off. During the IG off state, the ECU 40 is stopped, so no change in the absolute steering angle θs can be detected. That is, when the IG is turned on with the absolute steering angle θs having changed during the IG off state, the ECU 40 may perform control with the incorrect absolute steering angle θs. Thus, the absolute steering angle θs needs to be monitored by the rotation angle sensor 52 and the assist circuit 53 even during the IG off state.</p><p id="p0026" num="0026">To allow the signal related to the absolute steering angle θs to be detected with a reduction in power consumption of a battery, power from the battery is supplied to the rotation angle sensor 52 during the IG off state. For a reduction in battery consumption, during the IG off state, no power is supplied to the ECU 40, whereas power from the battery is supplied to the rotation angle sensor 52 and the assist circuit 53. Power may be intermittently supplied to the rotation angle sensor 52. The signal related to the absolute steering angle θs need not be constantly detected but may be detected at time intervals sufficient to determine whether the absolute steering angle θs has changed<!-- EPO <DP n="7"> --> during the IG off state. The intermittent power supply enables a reduction in power consumption.</p><p id="p0027" num="0027">During the IG on state, the ECU 40 is supplied with power from the battery. The ECU 40 detects a rotation angle θ by calculating an arctangent value based on the sin signal and cos signal obtained by the rotation angle sensor 52. The ECU 40 uses the rotation angle θ to calculate the absolute steering angle θs. Based on the relationship between the rotation angle θ and the absolute steering angle θs, the absolute steering angle θs can be calculated using the rotation angle θ. During the IG off state, the ECU 40 records the absolute steering angle θs obtained immediately before the IG is turned off.</p><p id="p0028" num="0028">Now, a configuration of the assist circuit 53 will be described.</p><p id="p0029" num="0029">As depicted in <figref idrefs="f0002">FIG. 2</figref>, the assist circuit 53 has an amplifier 61, a counter unit 54, and a communication interface 67.</p><p id="p0030" num="0030">The amplifier 61 amplifies the sin signal and cos signal generated by the rotation angle sensor 52. For the assist circuit 53, a configuration without the amplifier 61 may be adopted.</p><p id="p0031" num="0031">The counter unit 54 is a unit that performs counting based on the electric signal (sin signal and cos signal) generated by the rotation angle sensor 52 and generally has two functional sections. A first functional section detects the rotating direction of the motor 31 based on the rotation angle sensor 52 to update a count value according to the rotating direction of the motor 31 and the electric signal generated by the rotation angle sensor 52. A second functional section detects the result of determination of the rotating direction by the first functional section and an abnormality in count value.</p><p id="p0032" num="0032">As depicted in <figref idrefs="f0002">FIG. 2</figref>, the first functional section has a first rotating direction determining unit 62, a second rotating direction determining unit 63, and a counter 64.</p><p id="p0033" num="0033">The first rotating direction determining unit 62 determines the rotating direction (clockwise rotation or counterclockwise rotation) of the motor 31 based on the sin signal and cos signal amplified by the amplifier 61. Upon determining that the rotating direction<!-- EPO <DP n="8"> --> of the motor 31 is counterclockwise, the first rotating direction determining unit 62 turns on a counterclockwise rotation detection flag indicating that the rotating direction of the motor 31 is counterclockwise. Upon determining that the rotating direction of the motor 31 is clockwise, the first rotating direction determining unit 62 turns on a clockwise rotation detection flag indicating that the rotating direction of the motor 31 is clockwise.</p><p id="p0034" num="0034"><figref idrefs="f0003">FIG. 3</figref> is a schematic diagram of the rotating direction determining unit. The first rotating direction determining unit 62 and the second rotating direction determining unit 63 have the same configuration, and thus, the first rotating direction determining unit 62 will be described by way of example. The first rotating direction determining unit 62 includes a comparator 71, a quadrant detecting unit 72, and a count direction determining unit 73.</p><p id="p0035" num="0035">The comparator 71 generates a Hi level signal when the signal level of the sin and cos signals generated by the rotation angle sensor 52 has a value larger than a set threshold, and generates a Lo level signal when the signal level has a value smaller than the set threshold.</p><p id="p0036" num="0036">The quadrant detecting unit 72 determines to which of four possible quadrants the phase of the rotation angle θ of the motor 31 currently corresponds, based on a combination of the Hi level signal and the Lo level signal generated by the comparator 71. Specifically, the quadrant detecting unit 72 makes determination as follows.
<ul><li>(A1) When both the sin signal and the cos signal are at the Hi level. At this time, the rotation angle θ of the motor 31 is determined to correspond to a first quadrant.</li><li>(A2) When the sin signal is at the Hi level and the cos signal is at the Lo level. At this time, the rotation angle θ of the motor 31 is determined to correspond to a second quadrant.</li><li>(A3) When both the sin signal and the cos signal are at the Lo level. At this time, the rotation angle θ of the motor 31 is determined to correspond to a third quadrant.</li><li>(A4) When the sin signal is at the Lo level and the cos signal is at the Hi level. At<!-- EPO <DP n="9"> --> this time, the rotation angle θ of the motor 31 is determined to correspond to a fourth quadrant.</li></ul></p><p id="p0037" num="0037">The count direction determining unit 73 compares the current and last quadrants determined by the quadrant detecting unit 72. The count direction determining unit 73 turns on a counterclockwise rotation detection flag or a clockwise rotation detection flag when the current quadrant is different from the last quadrant. When the quadrant changes counterclockwise, for example, from the first quadrant to the second quadrant, the counterclockwise rotation detection flag is turned on, and the clockwise rotation detection flag is off. When the quadrant changes clockwise, for example, from the first quadrant to the fourth quadrant, the counterclockwise rotation detection flag is off, and the clockwise rotation detection flag is turned on. When no change occurs in quadrant, both the counterclockwise rotation detection flag and the clockwise rotation detection flag are off. When the count direction determining unit 73 is normal, it is impossible that both the counterclockwise rotation detection flag and the clockwise rotation detection flag are turned on. If both the counterclockwise rotation detection flag and the clockwise rotation detection flag are turned on, a state flag indicative of an abnormality is turned on.</p><p id="p0038" num="0038">As described above, the first rotating direction determining unit 62 converts the electric signal (sin signal and cos signal) generated by the rotation angle sensor 52 into the counterclockwise rotation detection flag and the clockwise rotation detection flag for the motor 31.</p><p id="p0039" num="0039">The counter 64 updates the count value based on the state flag for the first rotating direction determining unit 62. That is, the counter 64 increments the count value (increases the count value by one) when the counterclockwise rotation detection flag is on and decrements the count value (decreases the count value by one) when the clockwise rotation detection flag is on. Since the counterclockwise rotation detection flag or the clockwise rotation detection flag is turned on when the quadrant changes, the count value is updated each time the rotation angle θ changes by 90 degrees.</p><p id="p0040" num="0040">As depicted in <figref idrefs="f0002">FIG. 2</figref>, the second functional section has a comparison unit<!-- EPO <DP n="10"> --> 65 and an abnormality detecting unit 66.</p><p id="p0041" num="0041">The comparison unit 65 compares the state flag for the first rotating direction determining unit 62 with the state flag for the second rotating direction determining unit 63 to determine whether or not the state flags match. Specifically, the comparison unit 65 compares the counterclockwise rotation detection flag for the first rotating direction determining unit 62 with the counterclockwise rotation detection flag for the second rotating direction determining unit 63. The comparison unit 65 also compares the clockwise rotation detection flag for the first rotating direction determining unit 62 with the clockwise rotation detection flag for the second rotating direction determining unit 63. When the counterclockwise rotation detection flag for the first rotating direction determining unit 62 does not match the counterclockwise rotation detection flag for the second rotating direction determining unit 63, the comparison unit 65 turns on a state flag indicative of the mismatch. When the clockwise rotation detection flag for the first rotating direction determining unit 62 does not match the clockwise rotation detection flag for the second rotating direction determining unit 63, the comparison unit 65 turns on a state flag indicative of the mismatch.</p><p id="p0042" num="0042">The abnormality detecting unit 66 detects an abnormality in count value based on the count value (current value and last value) in the counter 64 and the state flags (counterclockwise rotation detection flags and clockwise rotation detection flags) for the first rotating direction determining unit 62 and the second rotating direction determining unit 63. When no abnormality is detected, the abnormality detecting unit 66 outputs the current value to the ECU 40 when the IG is turned on, as assistance data for calculation of the absolute steering angle θs. That is, the ECU 40 calculates the first absolute steering angle θs after the IG is turned on, taking into account the absolute steering angle θs recorded in the ECU 40 immediately before the IG is turned off, the rotation angle θ obtained from the rotation angle sensor 52 during the IG on state, and the amount of change in steering angle derived from the count value.</p><p id="p0043" num="0043">The abnormality detecting unit 66 detects an abnormality in the following four cases. Upon detecting an abnormality, the abnormality detecting unit 66 turns on a<!-- EPO <DP n="11"> --> state flag indicative of the abnormality.
<ul><li>(B1) When the counterclockwise rotation detection flag is on, the clockwise rotation detection flag is off, a numerical difference is present between the current value and last value of the count value, and the current value is larger than the last value.</li><li>(B2) When the counterclockwise rotation detection flag is off, the clockwise rotation detection flag is on, a difference is present between the current value and last value of the count value, and the current value is smaller than the last value.</li><li>(B3) When the counterclockwise rotation detection flag is off, the clockwise rotation detection flag is off, and the current value and the last value do not match.</li><li>(B4) When the counterclockwise rotation detection flag is on and the clockwise rotation detection flag is on.</li></ul></p><p id="p0044" num="0044">The communication interface 67 transmits signals for the count value, the state flag, and the rotation angle θ of the motor 31 output by the rotation angle sensor 52, to the ECU 40 while the IG is on.</p><p id="p0045" num="0045">The ECU 40 is active only during the IG on state. This is to suppress the power consumption of the battery during the IG off state. During the IG on state, the ECU 40 retrieves various signals, that is, signals related to the count value, the state flag, and the absolute steering angle θs output by the rotation angle sensor 52. However, the assist circuit 53 need not always operate during the IG on state, and it is also preferable that the count value, the state flag, and the like obtained from the assist circuit 53 are obtained only immediately after the IG is turned on.</p><p id="p0046" num="0046">During the IG on state, power is supplied to all of the components such as the rotation angle sensor 52, the assist circuit 53, and the ECU 40. However, the assist circuit 53 need not constantly be supplied with power during the IG on state. Thus, first, the rotation angle sensor 52 is supplied with power to output an electric signal corresponding to the rotation angle θ of the motor 31. In accordance with the output from the rotation angle sensor 52, the counter unit 54 outputs the rotating direction of the motor 31, the count value, and the state flag. The output from the rotation angle sensor 52 and the output from the counter unit 54 are transmitted to the ECU 40 via the communication<!-- EPO <DP n="12"> --> interface 67 during the IG on state. The ECU 40 calculates the absolute steering angle θs from these outputs.</p><p id="p0047" num="0047">During the IG off state, only some of the components are supplied with power. That is, power is supplied to the rotation angle sensor 52, the amplifier 61, the first rotating direction determining unit 62, the second rotating direction determining unit 63, and the counter 64. No power is supplied to the ECU 40 or the communication interface 67. Thus, the electric signal output by the rotation angle sensor 52 and corresponding to the rotation angle θ of the motor 31 is recorded in the counter 64 as the current value and the last value of the count value. Thus, the electric signal is not transmitted to the ECU 40 during the IG off state.</p><p id="p0048" num="0048">Now, operations of the EPS 10 will be described.</p><p id="p0049" num="0049">Normally, while the IG is on, the ECU 40 calculates the rotation angle θ of the motor 31 based on the electric signal (sin signal and cos signal) generated by the rotation angle sensor 52 and calculates the absolute steering angle θs using the rotation angle θ. The ECU 40 calculates a needed assist force based on the steering torque τ and the absolute steering angle θs, and controls the power supply to the motor 31 to allow the assist force to be applied to the steering mechanism 20.</p><p id="p0050" num="0050">When the IG is turned off, the counter 64 updates the count value depending on the rotating direction of the motor 31 determined by the first rotating direction determining unit 62 even during the IG off state. Thus, even if the absolute steering angle θs changes during the IG off state due to the driver's movement of the steering wheel 21 or the like, the change is monitored.</p><p id="p0051" num="0051">When the IG, which has been off, is turned on, if the comparison unit 65 finds a mismatch in the rotating direction and the state flag indicative of an abnormality is detected, the correct value for the absolute steering angle θs fails to be detected until a normal state flag is detected. Thus, the use of the EPS 10 utilizing the absolute steering angle θs is stopped. This is because malfunction may occur when the EPS 10 uses the absolute steering angle θs while the absolute steering angle θs is unknown, for example, while it is unknown whether the absolute steering angle θs is zero degree or 360 degrees.<!-- EPO <DP n="13"> --> When the normal state flag is detected during the IG on state, the ECU 40 calculates the correct value for the absolute steering angle θs using the absolute steering angle θs obtained immediately before the IG is turned off, the rotation angle θ obtained from the rotation angle sensor 52 and the count value. The ECU 40 then utilizes the absolute steering angle θs to control the apparatus.</p><p id="p0052" num="0052">The above-described steering system can provides advantageous effects described below.
<ol><li>(1) The last value and the current value in the counter 64 are compared to reduce the time needed for the abnormality detecting process. A method is available in which two counters 64 are provided to allow count values in these counters to be compared to detect an abnormality. However, the use of a single counter 64 for comparison of the last value and the current value enables a further reduction in the processing time needed to detect an abnormality. That is, if the count values in the two counters 64 are compared, data are collected from the two counters 64 and checked for a match, leading to the need for time to collect double the amount of data. In contrast, when the last value and the current value in the counter 64 are compared, data may be collected from the counter 64, eliminating the need to collect double the amount of data. As a result, the method of using the single counter 64 to compare the last value with the current value enables a further reduction in the processing time needed to detect an abnormality compared to the method of using the two counters 64. Furthermore, compared to the use of the two counters 64 for comparison, the use of the single counter 64 enables simplification of the configuration in the assist circuit 53 and reduction of the number of members of the system. Manufacturing costs are expected to be further reduced.</li><li>(2) During the IG off state, no power is supplied to the ECU 40, and the rotating direction of the motor 31, the count value, and the state flag are recorded by the counter unit 54. This allows battery consumption to be suppressed. During the IG on state, power is supplied to the ECU 40, and the ECU 40 calculates the absolute steering angle θs from the count value obtained by the counter unit 54 during the IG off state and the electric signal (sin signal and cos signal) generated by the rotation angle sensor 52.<!-- EPO <DP n="14"> --> With the battery consumption during the IG off state suppressed, a change in absolute steering angle θ s can be monitored which results from the driver's operation of the steering wheel 21 during the IG off state.</li><li>(3) The first rotating direction determining unit 62 and the second rotating direction determining unit 63 allow the rotating direction of a steering shaft to be determined. Then, abnormality detection can be performed using the rotating direction of the steering shaft and the past value and current value in the counter 64. Furthermore, a plurality of first rotating direction determining units 62, a plurality of second rotating direction determining units 63, and a plurality of comparison units 65 may be provided to detect an abnormality, allowing the reliability of the determined absolute steering angle to be improved.</li><li>(4) Abnormality detection is performed using the current value and the last value, which is the nearest past value, to allow an abnormality to be detected in the latest state with time lag further reduced.</li><li>(5) Intermittent power supply to the rotation angle sensor 52 and the assist circuit 53 enables a further reduction in battery consumption compared to constant power supply.</li></ol></p><p id="p0053" num="0053">The above-described embodiment may be changed as follows. Other embodiments described below may be combined together to the extent that no technical contradiction occurs.
<ul><li>In the present example, the present invention is implemented as the electric power steering system. However, a hydraulic power steering system or a steer-by-wire steering system may be implemented. Furthermore, the absolute steering angle θs calculated by the ECU 40 may be shared with other in-vehicle systems such as a brake, a back guide system, and a vehicular stability control system that use the absolute steering angle. The present example is also applicable to normal steering systems that do not assist the steering operation. In this case, control for assisting the steering operation is not performed, and thus, the ECU 40 for steering need not necessarily be provided. With the rotation angle sensor 52 and the assist circuit 53 unchanged, the calculation of the absolute steering angle θs may be executed by a controller for an in-vehicle system other than the steering system.<!-- EPO <DP n="15"> --></li><li>In the present example, a change in the rotation angle θ of the rotating shaft 31a of the motor 31 is detected by the rotation angle sensor 52 to allow the absolute steering angle θs to be calculated. However, the rotation angle of the steering shaft 22 may be detected by the rotation angle sensor 52.</li><li>In the present example, the rotation angle sensor 52 that detects the rotation angle θ of the rotating shaft 31a of the motor 31 is used as a position detector that outputs a signal related to the absolute steering angle θs. However, a potentiometer that detects the amount of axial movement of the rack shaft 23 may be adopted.</li><li>In the present example, the MR sensor is used as the rotation angle sensor 52. However, a Hall sensor may be used. Alternatively, for example, a magnetic impedance element, a Faraday element, or a superconducting quantum interference device (SQUID) may be used. Besides the magnetic sensor, an ultrasonic sensor or an encoder may be adopted as the rotation angle sensor 52.</li><li>In the present example, the rotation angle sensor 52 serving as a position detector is provided on the column shaft 22a. However, the rotation angle sensor 52 may be provided on any portion of the steering shaft 22. When the amount of axial movement of the rack shaft 23 is used as a signal related to the absolute steering angle θs, the potentiometer serving as a position detector that detects the amount of axial movement of the rack shaft 23 may be provided on the rack shaft 23.</li><li>In the present example, the last value and the current value of the count value are compared to detect an abnormality in the counter 64. However, the current value may be compared with a value at another past point in time. For example, the last but one value may be used for the comparison when the absolute steering angle θs is known to be unchanged. Alternatively, the last but one value, the last value, and the current value may be compared with one another or comparison may be performed on time series changes since any point in time as needed. For example, if, due to the intermittent power supply to the rotation angle sensor 52, the abnormality detecting unit 66 need not frequently compare the current value with the past value, that is, may perform one comparison for every several count values, the current value may be compared with the<!-- EPO <DP n="16"> --> last but one value.</li><li>In the present example, the assist circuit 53 may be constantly supplied with power during the IG on state. That is, the assist circuit 53 is constantly supplied with power even during the IG on state to allow the count value to be updated. Thus, the ECU 40 need not record the absolute steering angle θs obtained immediately before the IG is turned off. The ECU 40 calculates the absolute steering angle θs using the count value and the rotation angle θ obtained from the rotation angle sensor 52 during the IG on state.</li><li>In the present example, the first rotating direction determining unit 62 and the second rotating direction determining unit 63 are provided as the circuit configuration. However, a mechanical configuration may be provided which performs counting in conjunction with the motion of gears or the like. For example, a configuration may be provided in which a gear is attached to the motor 31 so that, when the gear rotates in conjunction with the motor 31, a mechanical counter 64 attached to the gear is used to perform automatic counting. That is, the mechanical counter 64 may be configured to mechanically increase the count value as the gear rotates and teeth of the gear move. In contrast, when the motor 31 rotates in the opposite direction, the count value mechanically decreases. Such a configuration eliminates the need for the first rotating direction determining unit 62 and the second rotating direction determining unit 63.</li><li>In the present example, the first rotating direction determining unit 62 and the second rotating direction determining unit 63 are provided. However, the first rotating direction determining unit 62 and the second rotating direction determining unit 63 may be omitted. For example, it is sufficient to be able to determine whether or not the motor 31 has rotated, with the rotating direction of the motor 31 not determined. Given that a rotation flag is turned on when the motor 31 has rotated and is off when the motor 31 has not rotated, the abnormality detecting unit 66 detects an abnormality in the following two cases.</li></ul>
<ul><li>(C1) When the rotation flag is off and a specified numeral difference is present between the current value and the past value of the count value.<!-- EPO <DP n="17"> --></li><li>(C2) When the rotation flag is on and the specified numeral difference is not present between the current value and the past value of the count value.
<ul><li>In the present example, the second rotating direction determining unit 63 and the comparison unit 65 are provided. However, the second rotating direction determining unit 63 and the comparison unit 65 need not necessarily be provided. In that case, it is impossible that the comparison unit 65 determines an abnormality in the first rotating direction determining unit 62 and the second rotating direction determining unit 63, but the abnormality detecting unit 66 can detect an abnormality in the count value in the counter 64. On the contrary, three or more second rotating direction determining units 63 may be provided. In that case, the comparison unit 65 using the second rotating direction determining units 63 detects an abnormality in each of the second rotating direction determining units 63.</li></ul></li></ul></p></description><claims mxw-id="PCLM90460030" lang="EN" load-source="patent-office"><!-- EPO <DP n="18"> --><claim id="c-en-0001" num="0001"><claim-text>A steering system comprising:
<claim-text>a position detector that detects a signal related to an absolute steering angle; and</claim-text>
<claim-text>an assist unit that acquires the signal related to the absolute steering angle while an ignition switch is off; wherein</claim-text>
<claim-text>the assist unit includes:
<claim-text>a counter that increases and decreases a count value based on a steering direction; and</claim-text>
<claim-text>an abnormality detecting unit that compares a past value and a current value of the count value to detect an abnormality in the absolute steering angle.</claim-text></claim-text></claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>The steering system according to claim 1, wherein<br/>
the assist unit includes a rotating direction determining unit that determines a rotating direction as the steering direction based on the acquired signal,<br/>
the counter updates the count value based on the rotating direction determined by the rotating direction determining unit, and<br/>
the abnormality detecting unit detects an abnormality in the absolute steering angle based on the rotating direction of a steering shaft determined by the rotating direction determining unit and a result of comparison between the past value and the current value.</claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>The steering system according to claim 2, wherein<br/>
the assist unit includes a comparison unit and a plurality of the rotating direction determining units, and<br/>
the comparison unit compares the rotating directions determined by the rotating direction determining units to detect an abnormality in a determination result for the rotating direction.</claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>The steering system according to any one of claims 1 to 3, wherein<br/>
the abnormality detecting unit uses a last value as the past value.<!-- EPO <DP n="19"> --></claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>The steering system according to any one of claims 1 to 4, further comprising:
<claim-text>a steering operation shaft that makes linear motion in conjunction with rotation of the steering shaft to steer steered wheels; and</claim-text>
<claim-text>a motor that applies an assist force to the steering shaft or the steering operation shaft,<br/>
wherein</claim-text>
<claim-text>the position detector generates, as the signal related to the absolute steering angle, an electric signal according to an amount of rotation of the motor.</claim-text></claim-text></claim><claim id="c-en-0006" num="0006"><claim-text>The steering system according to any one of claims 1 to 4, further comprising:
<claim-text>a steering operation shaft that makes linear motion in conjunction with rotation of a steering shaft to steer the steered wheels, wherein</claim-text>
<claim-text>the position detector generates, as the signal related to the absolute steering angle, an electric signal according to an amount of rotation of the steering shaft or an amount of displacement of the steering operation shaft.</claim-text></claim-text></claim><claim id="c-en-0007" num="0007"><claim-text>The steering system according to claim 5, further comprising:
<claim-text>a controller that controls the motor based on a signal related at least to a steering torque and the steering angle, wherein</claim-text>
<claim-text>while the ignition switch is off, power supply to the controller is stopped but power is continuously supplied to the position detector and the assist unit.</claim-text></claim-text></claim><claim id="c-en-0008" num="0008"><claim-text>The steering system according to any one of claims 1 to 6, wherein the steering system is configured to intermittently drive the position detector and the assist unit.</claim-text></claim></claims><drawings mxw-id="PDW20422715" load-source="patent-office"><!-- EPO <DP n="20"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="156" he="137" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="21"> --><figure id="f0002" num="2"><img id="if0002" file="imgf0002.tif" wi="124" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="22"> --><figure id="f0003" num="3"><img id="if0003" file="imgf0003.tif" wi="113" he="215" img-content="drawing" img-format="tif"/></figure></drawings><search-report-data><doc-page id="srep0001" file="srep0001.tif" wi="158" he="233" type="tif"/><doc-page id="srep0002" file="srep0002.tif" wi="158" he="233" type="tif"/></search-report-data><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
