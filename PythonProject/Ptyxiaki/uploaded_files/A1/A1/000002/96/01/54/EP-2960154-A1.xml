<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2960154-A1" country="EP" doc-number="2960154" kind="A1" date="20151230" family-id="51167823" file-reference-id="255204" date-produced="20180826" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="160451991" ucid="EP-2960154-A1"><document-id><country>EP</country><doc-number>2960154</doc-number><kind>A1</kind><date>20151230</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-14305973-A" is-representative="YES"><document-id mxw-id="PAPP193866950" load-source="patent-office" format="original"><country>EP</country><doc-number>14305973.1</doc-number><date>20140623</date><lang>EN</lang></document-id><document-id mxw-id="PAPP193866951" load-source="docdb" format="epo"><country>EP</country><doc-number>14305973</doc-number><kind>A</kind><date>20140623</date><lang>EN</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC162026561" ucid="EP-14305973-A" load-source="docdb"><document-id format="epo"><country>EP</country><doc-number>14305973</doc-number><kind>A</kind><date>20140623</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-1988523558" load-source="docdb">B64C  27/08        20060101AFI20141024BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1988526355" load-source="docdb">G05D   1/08        20060101ALI20141024BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1988526835" load-source="docdb">G05D   1/00        20060101ALI20141024BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1988527097" load-source="docdb">G05D   1/10        20060101ALI20141024BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1865060853" load-source="docdb" scheme="CPC">G05D   1/102       20130101 LI20161222BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1984697570" load-source="docdb" scheme="CPC">G05D   1/0088      20130101 LI20151224BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1984698781" load-source="docdb" scheme="CPC">B64C2201/024       20130101 LA20151224BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1984699345" load-source="docdb" scheme="CPC">B64C  39/024       20130101 LI20151224BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1984701212" load-source="docdb" scheme="CPC">B64C2201/141       20130101 LA20151224BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1984704852" load-source="docdb" scheme="CPC">G05D   1/101       20130101 FI20151224BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT165547439" lang="DE" load-source="patent-office">Verfahren zur Steuerung eines Pfads einer Drehflügeldrohne, zugehöriges System, Drehflügeldrohne mit dem System und zugehörige Verwendungen solch einer Drohne</invention-title><invention-title mxw-id="PT165547440" lang="EN" load-source="patent-office">A method for controlling a path of a rotary-wing drone, a corresponding system, a rotary-wing drone implementing this system and the related uses of such a drone</invention-title><invention-title mxw-id="PT165547441" lang="FR" load-source="patent-office">Procédé pour commander un trajet d'un drone à voilure tournante, système correspondant, drone à voilure tournante mettant en oeuvre ce système et utilisations d'un tel drone</invention-title><citations><patent-citations><patcit mxw-id="PCIT335963033" load-source="docdb" ucid="EP-1901153-A1"><document-id format="epo"><country>EP</country><doc-number>1901153</doc-number><kind>A1</kind><date>20080319</date></document-id><sources><source name="SEA" category="A" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT335963032" load-source="docdb" ucid="US-20040245378-A1"><document-id format="epo"><country>US</country><doc-number>20040245378</doc-number><kind>A1</kind><date>20041209</date></document-id><sources><source name="APP" created-by-npl="N"/><source name="SEA" category="AD" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT335963034" load-source="docdb" ucid="US-20090254229-A1"><document-id format="epo"><country>US</country><doc-number>20090254229</doc-number><kind>A1</kind><date>20091008</date></document-id><sources><source name="SEA" category="A" created-by-npl="N"/></sources></patcit></patent-citations></citations></technical-data><parties><applicants><applicant mxw-id="PPAR1103322814" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>THOMSON LICENSING</last-name><address><country>FR</country></address></addressbook></applicant><applicant mxw-id="PPAR1103345008" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>THOMSON LICENSING</last-name></addressbook></applicant><applicant mxw-id="PPAR1101650740" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Thomson Licensing</last-name><iid>101463287</iid><address><street>1-5 Rue Jeanne d'Arc</street><city>92130 Issy-Les-Moulineaux</city><country>FR</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR1103333785" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>FLEUREAU JULIEN</last-name><address><country>FR</country></address></addressbook></inventor><inventor mxw-id="PPAR1103313246" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>Fleureau, Julien</last-name></addressbook></inventor><inventor mxw-id="PPAR1101643446" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Fleureau, Julien</last-name><address><street>c/o TECHNICOLOR R&amp;D FRANCE 975 Avenue des Champs-Blancs CS17616</street><city>35576 Cesson Sevigne</city><country>FR</country></address></addressbook></inventor><inventor mxw-id="PPAR1103303618" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>TARIOLLE FRANCOIS-LOUIS</last-name><address><country>FR</country></address></addressbook></inventor><inventor mxw-id="PPAR1103341317" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>TARIOLLE, FRANCOIS-LOUIS</last-name></addressbook></inventor><inventor mxw-id="PPAR1101640323" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>TARIOLLE, FRANCOIS-LOUIS</last-name><address><street>c/o TECHNICOLOR R&amp;D FRANCE 975 Avenue des Champs-Blancs CS17616</street><city>35576 Cesson Sevigne</city><country>FR</country></address></addressbook></inventor><inventor mxw-id="PPAR1103344460" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>KERBIRIOU PAUL</last-name><address><country>FR</country></address></addressbook></inventor><inventor mxw-id="PPAR1103343028" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>KERBIRIOU, PAUL</last-name></addressbook></inventor><inventor mxw-id="PPAR1101641116" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>KERBIRIOU, PAUL</last-name><address><street>c/o TECHNICOLOR R&amp;D FRANCE 975 Avenue des Champs-Blancs CS17616</street><city>35576 Cesson Sevigne</city><country>FR</country></address></addressbook></inventor><inventor mxw-id="PPAR1103334808" load-source="docdb" sequence="4" format="epo"><addressbook><last-name>LE CLERC FRANCOIS</last-name><address><country>FR</country></address></addressbook></inventor><inventor mxw-id="PPAR1103317783" load-source="docdb" sequence="4" format="intermediate"><addressbook><last-name>LE CLERC, FRANCOIS</last-name></addressbook></inventor><inventor mxw-id="PPAR1101640422" load-source="patent-office" sequence="4" format="original"><addressbook><last-name>LE CLERC, FRANCOIS</last-name><address><street>c/o TECHNICOLOR R&amp;D FRANCE 975 Avenue des Champs-Blancs CS17616</street><city>35576 Cesson Sevigne</city><country>FR</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR1101642693" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Huchet, Anne</last-name><iid>101463286</iid><address><street>Technicolor 1-5 rue Jeanne d'Arc</street><city>92130 Issy-Les-Moulineaux</city><country>FR</country></address></addressbook></agent></agents></parties><international-convention-data><designated-states><ep-contracting-states><country mxw-id="DS660617445" load-source="docdb">AL</country><country mxw-id="DS660786054" load-source="docdb">AT</country><country mxw-id="DS660617455" load-source="docdb">BE</country><country mxw-id="DS660693856" load-source="docdb">BG</country><country mxw-id="DS660697657" load-source="docdb">CH</country><country mxw-id="DS660617856" load-source="docdb">CY</country><country mxw-id="DS660786055" load-source="docdb">CZ</country><country mxw-id="DS660617456" load-source="docdb">DE</country><country mxw-id="DS660617857" load-source="docdb">DK</country><country mxw-id="DS660617858" load-source="docdb">EE</country><country mxw-id="DS660695370" load-source="docdb">ES</country><country mxw-id="DS660693857" load-source="docdb">FI</country><country mxw-id="DS660693858" load-source="docdb">FR</country><country mxw-id="DS660617457" load-source="docdb">GB</country><country mxw-id="DS660617867" load-source="docdb">GR</country><country mxw-id="DS660617458" load-source="docdb">HR</country><country mxw-id="DS660786056" load-source="docdb">HU</country><country mxw-id="DS660697658" load-source="docdb">IE</country><country mxw-id="DS660617467" load-source="docdb">IS</country><country mxw-id="DS660693863" load-source="docdb">IT</country><country mxw-id="DS660617868" load-source="docdb">LI</country><country mxw-id="DS660708177" load-source="docdb">LT</country><country mxw-id="DS660786057" load-source="docdb">LU</country><country mxw-id="DS660708178" load-source="docdb">LV</country><country mxw-id="DS660708191" load-source="docdb">MC</country><country mxw-id="DS660614837" load-source="docdb">MK</country><country mxw-id="DS660614838" load-source="docdb">MT</country><country mxw-id="DS660786058" load-source="docdb">NL</country><country mxw-id="DS660695379" load-source="docdb">NO</country><country mxw-id="DS660786059" load-source="docdb">PL</country><country mxw-id="DS660708193" load-source="docdb">PT</country><country mxw-id="DS660786060" load-source="docdb">RO</country><country mxw-id="DS660708194" load-source="docdb">RS</country><country mxw-id="DS660786061" load-source="docdb">SE</country><country mxw-id="DS660708203" load-source="docdb">SI</country><country mxw-id="DS660697663" load-source="docdb">SK</country><country mxw-id="DS660697664" load-source="docdb">SM</country><country mxw-id="DS660614851" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA166480361" lang="EN" load-source="patent-office"><p id="pa01" num="0001">A method for controlling a path of a rotary-wing drone 1, characterized in that said method comprises steps for:<br/>
• Establishing a first-order temporal relation between flight control parameters and flight dynamics for said rotary-wing drone 1 comprising:<br/>
o An Explicit Discrete Time-Variant State-Space Representation of a translation control of said rotary-wing drone 1;<br/>
o An Explicit Discrete Time-Variant State-Space Representation of a course control of said rotary-wing drone 1;<br/>
• Controlling the path of said rotary-wing drone 1 by:<br/>
o Estimating a course 17 of said rotary-wing drone 1 on the basis of said Explicit Discrete Time-Variant State-Space Representation of a course control of said rotary-wing drone 1;<br/>
o Estimating a position 18 of said rotary-wing drone 1 on the basis of said Explicit Discrete Time-Variant State-Space Representation of a translation control of said rotary-wing drone 1;<br/>
said steps of estimating being performed independently.
<img id="iaf01" file="imgaf001.tif" wi="109" he="77" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA166760173" lang="EN" source="EPO" load-source="docdb"><p>A method for controlling a path of a rotary-wing drone 1, characterized in that said method comprises steps for: 
€¢ Establishing a first-order temporal relation between flight control parameters and flight dynamics for said rotary-wing drone 1 comprising: 
o An Explicit Discrete Time-Variant State-Space Representation of a translation control of said rotary-wing drone 1; 
o An Explicit Discrete Time-Variant State-Space Representation of a course control of said rotary-wing drone 1; 
€¢ Controlling the path of said rotary-wing drone 1 by: 
o Estimating a course 17 of said rotary-wing drone 1 on the basis of said Explicit Discrete Time-Variant State-Space Representation of a course control of said rotary-wing drone 1; 
o Estimating a position 18 of said rotary-wing drone 1 on the basis of said Explicit Discrete Time-Variant State-Space Representation of a translation control of said rotary-wing drone 1; 
said steps of estimating being performed independently.</p></abstract><description mxw-id="PDES98405062" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001"><b>1 Technical Field</b></heading><p id="p0001" num="0001">The present invention relates generally to the field of methods and systems for controlling rotary-wing drones.</p><heading id="h0002"><b>2. Background Art</b></heading><p id="p0002" num="0002">With the development of robotics and aeronautics, drones (also known as Unmanned Aerial Vehicle) are now more and more integrated and easy to control, even in non-military context. Many applications making use of such devices may be now found in the civil life as, for instance, surveillance, video recording or even gaming.</p><p id="p0003" num="0003">Several kinds of drones exist including: fixed-wing drones (plane-like), rotary-wing drones (helicopter-like) and flapping-wing drones (hummingbird-like). Due to the good trade-off between the payload, control and price that they offer, rotary-wing drones are the most developed drones on the civil market. For instance, some rotary-wing drones being controllable from a remote tablet are now available for sale to non-professional consumers. Such kinds of drones are able to embed a video camera and broadcast the data over a wireless network.</p><p id="p0004" num="0004">However, despite the new possibilities offered by such kind of drone to ease its control, one trained human is often still required to pilot the drone as well as another person to control the embedded camera in case of simultaneous video-recording. In addition, controlling the drone in terms of position, speed and acceleration as well as in terms of orientation in a very accurate way may be not possible, even for a well-trained pilot. Such level of control may be especially required when a drone is navigating close to moving persons, or in interior conditions with a lot of tridimensional obstacles.</p><p id="p0005" num="0005">In order to ease the understanding of the issues met by a person operating manually a rotary-wing drone, some basic notions of flight dynamics are briefly described here after. A rotary-wing drone only relies on its rotors to move in space and it is therefore by changing the rotation speed and/or the angular inclination of the same rotors that an operator is controlling the drone. On<!-- EPO <DP n="2"> --> a dynamic point of view, all the motions performed by the drone can be resumed by the variation of four parameters, also called flight controls: the pitch angle, the roll angle, the yaw speed and the elevation speed. More precisely:
<ul><li>A pitch angle variation makes the drone going forward (negative pitch) or backward (positive pitch),</li><li>A roll angle variation makes the drone going left (negative roll) or right (positive roll),</li><li>A yaw speed variation makes the drone turning around the vertical axis in a counter-clockwise (negative yaw speed) or clockwise way (positive yaw speed),</li><li>An elevation speed makes the drone going up (positive elevation speed) or down (negative elevation speed), more or less quickly.</li></ul></p><p id="p0006" num="0006">It is therefore by continuously adapting these four flight controls that the operator defines a 6-dimensions-path (3 translations and 3 rotations) to be followed by the drone. One can easily understand the difficulties that may be encountered by an operator to control a drone in both adapting continuously these four parameters and taking into account the position of the drone, its instantaneous speed, orientation, as well as the constraints imposed by its dimensions and its environment (wind, rain).</p><p id="p0007" num="0007">Background art discloses several works aiming to make the drone being autonomous while following a controlled path. Those works fall under the resolution of a control theory problem. The following steps define such problem:
<ul><li>Defining a 6-dimensions-path to be followed by the drone in terms of translations and rotations relatively to the global frame,</li><li>Designing a model of the drone i.e. a mathematic formulation linking the drone flight controls and its flight dynamics (position, speed, orientation),</li><li>Measuring some of the flight dynamics (position, speed, orientation),</li><li>Building a system of controlling that takes advantage of the drone model and of the current measures of the dynamics to adapt the current flight control so that the resulting path of the drone is as close as possible from the predefined one.</li></ul></p><p id="p0008" num="0008">Several systems and methods from the background art tend to solve this control problem, but some major technical issues still remain, as mentioned hereafter. As a matter of example, document <patcit id="pcit0001" dnum="US2004245378A1"><text>U.S.2004/245378 A1</text></patcit> discloses a<!-- EPO <DP n="3"> --> control method for an unmanned helicopter comprising a GPS (Global Positioning System) and other sensors to measure its elevation. The control method comprises a feedback control loop based on a well-known LQG control (Linear Quadratic Regulation) implementing independent controllers to control the longitudinal, lateral, and vertical displacements of the drone.</p><p id="p0009" num="0009">This clear disassociation of the controllers for each translation dimension obviously makes the computation of the whole controlling system less optimal in term of flight controls command than a method, which would process the whole dynamics at the same time.</p><p id="p0010" num="0010">In addition, the longitudinal and lateral controllers use a serial arrangement of separate controllers for velocity and orientation. Hence, it is not possible for an operator to attach more importance to the control of velocity, rather than orientation, or vice-versa, as both flight dynamics must be serially processed. Such an architecture does not provide enough freedom of use to an operator to always best answer his current needs.</p><p id="p0011" num="0011">As another drawback, it shall be noticed that the system disclosed by <patcit id="pcit0002" dnum="US2004245378A1"><text>U.S.2004/245378 A1</text></patcit> implements a specific model to control the servomotor of a dedicated helicopter. Said model is therefore not easily adaptable to another type of helicopter, what obviously forces the operator to use a single type of drone whereas another type might be more suitable regarding the mission to undertake.</p><p id="p0012" num="0012">More generally, there are several prior art techniques for controlling UAV, which are all designed for a specific type of drone.</p><p id="p0013" num="0013">It would hence be desirable to provide a method for controlling a rotary-wing drone showing improvements of the prior art.</p><p id="p0014" num="0014">Notably, it would be desirable to provide such a method, which would propose a generic interface of control of UAV, and which would hence be adapted to control the path of any rotary-wing drone.</p><p id="p0015" num="0015">It would also be desirable to provide such a method, which would ease the control of a rotary-wing drone, and which would optimize the path followed to reach its final destination.</p><p id="p0016" num="0016">It would also be desirable to provide such a method, which would reduce the computation load over the prior art.<!-- EPO <DP n="4"> --></p><p id="p0017" num="0017">It would also be desirable to provide such a control method, which computational complexity would be low enough for it to be embedded in a drone processing unit.</p><heading id="h0003"><b>3. Summary of Invention</b></heading><p id="p0018" num="0018">In one particular embodiment of the invention, a method for controlling a path of a rotary-wing drone is disclosed, which comprises steps for:
<ul><li>Establishing a first-order temporal relation between flight control parameters and flight dynamics for said rotary-wing drone comprising:
<ul><li>o An Explicit Discrete Time-Variant State-Space Representation of a translation control of said rotary-wing drone;</li><li>o An Explicit Discrete Time-Variant State-Space Representation of a course control of said rotary-wing drone;</li></ul></li><li>Controlling the path of said rotary-wing drone by:
<ul><li>o Estimating a course of said rotary-wing drone on the basis of said Explicit Discrete Time-Variant State-Space Representation of a course control of said rotary-wing drone;</li><li>o Estimating a position of said rotary-wing drone on the basis of said Explicit Discrete Time-Variant State-Space Representation of a translation control of said rotary-wing drone;</li></ul></li></ul></p><p id="p0019" num="0019">Said steps of estimating are performed independently.</p><p id="p0020" num="0020">In the following description, the expression "rotary-wing drone" refers to an Unmanned Aerial Vehicle (UAV) whose displacements in the space can be controlled by the variations of the four different flight controls mentioned here before: the roll angle, the pitch angle, the yaw speed and the elevation speed. The term "path" refers to a track defined in six dimensions in a global three-dimensional frame, including three translations and three rotations, to be followed by the rotary-wing drone. The term "course" refers to the rotational speed of the drone around the vertical axis in a clockwise way, this value being linearly related to the yaw angle of the drone. The term "trajectory" refers to the translational displacement of the drone from one point to another. The expression "flight dynamics" refers to the position, the speed and the orientation of the drone, in respect to a global three-dimensional frame.<!-- EPO <DP n="5"> --></p><p id="p0021" num="0021">Based on its features, the present invention relies on a novel and inventive approach of the control of a rotary-wing drone, and includes several advantages and benefits. First of all, the step of estimating the drone's position and its course allows the drone to control in real-time and in an autonomous way its flight dynamics. The drone is then able to stick the best to a specific path that has been assigned to it, while keeping the capacity to adapt its flight dynamics to face any unexpected events that may occur and move it away from its initial path. As a matter of example, one can order the drone to reach some point of the space by following a specific path. On the way to its destination, the drone is then moved away from its initial path under the action of a strong wind. Thanks to the step of estimating its position according to the present invention, the drone is then able to make a new estimation of the path to follow and to adjust its flight dynamics in accordance with. Thus, the present invention allows the operator to transfer part of its capacity of decision to the drone in order to ease its control while optimizing the path followed by the drone to reach its final destination.</p><p id="p0022" num="0022">Another advantage of the invention relies on the estimation of no more than two variables when performing the step of control of the six-dimensional path to be followed by the drone: the trajectory and the course. This limitation introduced by the invention on the number of controlled variables eases the computation of the whole controlling method while remaining valid enough for a rotary-wing drone whose trajectory is close to planar in general. The path followed by the drone is also smoother since the whole dynamics are processed in no more than two operations. In addition, the linearization of the control problem on the basis of the two first-order-temporal related models implemented by the invention also contributes to reduce the computational load of said method for controlling. The controlling method of invention thus advantageously relies on a very interesting compound and coupled model of a generic-rotary wing drone.</p><p id="p0023" num="0023">Another advantage of the invention relies on the independence of the two sub-steps of estimating the course and the position. In opposition with some methods disclosed in the background art, these two sub-steps of estimating do not need to be performed serially. In other terms, the course and the position can be estimated either in parallel, or one after the other. An operator also has the option to perform more estimations on one variable more than on the other in a certain amount of time. The operator is then able to allocate different computing resources for the run of each of these two estimating sub-steps, based on the<!-- EPO <DP n="6"> --> accuracy required in the determination of the path and on the current activity of the drone.</p><p id="p0024" num="0024">Another advantage of the present invention relies in the fact that the position and the course are estimated in relation to the flights control. Nowadays, as mentioned here before, the displacement of any kind of rotary-wing drone is determined based on these four flight controls. Therefore, the method for controlling according to the present invention can be easily adapted to any kind of rotary-wing drone, provided that the operator inputs a few drone-dependent values prior to the first use. A method for determining these drone-dependent values based on the running of a basic unitary test is described in the description here after.</p><p id="p0025" num="0025">In one particular embodiment, the step of controlling the path of said drone comprises estimating a speed of said rotary-wing drone on the basis of said Explicit Discrete Time-Variant State-Space Representation of a translation control of said drone.</p><p id="p0026" num="0026">An advantage of a method for controlling the drone according to this particular embodiment is that it allows estimating the translational speed that said rotary-wing drone should have to reach its final destination in a required time frame.</p><p id="p0027" num="0027">In one particular embodiment, the step of controlling the path of said drone comprises estimating the flight controls, which shall be applied to said drone for it to follow a predetermined path.</p><p id="p0028" num="0028">An advantage of a method for controlling the drone according to this particular embodiment is that the flight dynamics, estimated following the run of the method for controlling, are directly converted in related orders based on a variation of the drone flight controls. As a matter of example, an order based on the variation of the yaw speed of the drone can be given in order to modify its course. A command based on the variation of the pitch angle, the roll angle and the elevation speed of the drone can be given in order to modify its position and its translational speed. The flight controls estimated following the run of the method for controlling can therefore be applied to the drone so that it follows a predetermined path.</p><p id="p0029" num="0029">According to another aspect, the method for controlling also comprises a step of measuring flight dynamics of said drone, said flight dynamics belonging to the group comprising:<!-- EPO <DP n="7"> -->
<ul><li>a speed;</li><li>a position;</li><li>an orientation.</li></ul></p><p id="p0030" num="0030">Hence, a flight dynamic belonging to the group mentioned here before can first be measured and then used in the sub-steps of estimating the position, the speed and/or the course of the drone in order to make the estimation more accurate. Therefore, a method for controlling according to this particular embodiment is able to take in account the variations of the flight dynamics of the drone occurring during its displacements.</p><p id="p0031" num="0031">In one particular embodiment, the step of measuring comprises detecting by at least one thermal camera at least one predetermined reference point on said drone.</p><p id="p0032" num="0032">The use of a thermal camera is an advantageous alternative to other kind of localization systems known from the background art (GPS, lasers). It is particularly well suited in an indoor environment. Of course, any other measuring technique may also be used according to the invention.</p><p id="p0033" num="0033">In another particular embodiment, the steps of controlling and measuring are successively repeated at a predetermined period of time k.</p><p id="p0034" num="0034">At each period of time k, the flight dynamics and flight controls of the drone are updated in order to make the drone follow a path as close as possible to the predetermined one. As a consequence, the value of the period of time k is in direct relation with the efficiency of the method for controlling the drone, regarding its accuracy but also its computation load. The decrease of the period of time k induces the increase of the accuracy of the method for controlling but also the increase of the computation load required for its implementation. One should therefore define the period of time k by making a good trade-off between the advantages and drawbacks mentioned here before. According to particular embodiments of the invention, different values of the period of time k can be respectively assigned to the sub-steps of estimating the course and the position of the drone, regarding the needs of the operator.</p><p id="p0035" num="0035">In one particular embodiment, the period of time k is smaller or equal to 0.1 second.</p><p id="p0036" num="0036">Series of measurements conducted on basic rotary-wing drones showed that a period of time k equal or smaller to 0.1 second allows the drone to adapt efficiently its path according to unexpected events that may occur in its direct<!-- EPO <DP n="8"> --> environment. If the operator adopts a value of k higher than 0.1 second, a sufficient reactivity of the drone is not guaranteed in normal conditions of use. When using the drone in an environment requiring faster adjustments, the operator has the option to reduce the value of k in order to make the control of the drone comply with its specific needs.</p><p id="p0037" num="0037">In one particular embodiment, the step of establishing a first-order temporal relation between flight control parameters and flight dynamics for said drone implements at least one of the predetermined coefficients K and T that refer respectively to the linear gain value and the amortization coefficient value of said drone.</p><p id="p0038" num="0038">Such kind of coefficients are specific to each rotary-wing drone and depend on the mass of the drone, its shape, the power of its rotors and several other parameters known in the background art. An advantage of a method for controlling the drone according to this particular embodiment is that this method takes account of the specific technical features of each kind of rotary-wing drone while remaining easily adaptable to others. Both the coefficients K and T are determined following the run of a unitary test. Such unitary test consists in a process comprising the following steps:
<ul><li>Instructing the drone to reach a specific destination at a predetermined and constant speed value.</li><li>Measuring the genuine time taken by the drone to reach the same destination.</li><li>Making a comparison between the theoretical time and the genuine time taken by the drone to reach the destination.</li><li>Determining the coefficients K and T based on the results of this measurement.</li></ul></p><p id="p0039" num="0039">The linear gain value (coefficient K) is calculated based on the time taken by the drone to reach its maximum speed. The amortization value (coefficient T) is calculated based on the relation between the theoretical and the genuine maximum speed of the drone. The unitary test on the drone is performed either by the operator or the fabricant of the drone. Once the values of the coefficients K and T related to a specific rotary-wing drone are inputted into a system implementing a method for controlling the drone according to this particular<!-- EPO <DP n="9"> --> embodiment, the same method can then be implemented for controlling this specific rotary-wing drone.</p><p id="p0040" num="0040">In one particular embodiment, the method for controlling the path of a rotary-wing drone comprises a step of inputting spatial coordinates of a geographical point to be reached by the drone.</p><p id="p0041" num="0041">According to this particular embodiment, the operator inputs the spatial coordinates of a geographical point to be reached by the drone. This input can be performed by manually keying the spatial coordinates of said point or by using a more advanced interface of localization as one known from the background art. Once the point to be reached is determined, the method for controlling according to this particular embodiment is then able to direct the drone on the most optimal path. It shall be noticed that the step of inputting the coordinates can be performed either prior to the course of the drone, or at any time during its course. The operator is therefore able to update at any time the geographical point to be reached by the drone.</p><p id="p0042" num="0042">In one particular embodiment, the method for controlling the drone comprises a step implemented by said drone of locating a point of the space to be reached.</p><p id="p0043" num="0043">According to this particular embodiment, the drone itself inputs in an autonomous way the spatial coordinates of a geographical point to reach. An advantage of this embodiment is the autonomy of the drone in the determination of the point of the space to reach. The drone is then able to modify its destination according to a target that can be seen by the drone only, and not by the operator. This superiority of the drone on the operator in the localization of the target to be reached can be due to a better angle of view or the use by the drone of additional detecting devices. Another advantage of this embodiment is the possibility to define the position to be reached by the drone according to the position of a moving target. The drone is then able to update during its course the localization of the position to be reached according to the displacements of the assigned target. As a matter of example, this particular technical feature can be implemented in some media applications in which a drone equipped with a camera is instructed to reach and to remain at a certain distance forward of a person walking on the street. According to the displacement of this person, the<!-- EPO <DP n="10"> --> drone is then updating during its course the localization of the point to reach to comply with the instructions given by the operator.</p><p id="p0044" num="0044">According to another aspect of the invention, a system for controlling a path of a rotary-wing drone is disclosed, which implements two feedback control loops:
<ul><li>A first feedback control loop, which estimates a course of said rotary-wing drone on the basis of an Explicit Discrete Time-Variant State-Space Representation of a course control of said rotary-wing drone;</li><li>A second feedback control loop, which estimates a position of said rotary-wing drone on the basis of said Explicit Discrete Time-Variant State-Space Representation of a translation control of said rotary-wing drone;</li></ul>
said first and second feedback control loops running independently of each other.</p><p id="p0045" num="0045">Such a system hence relies on a compound and coupled model of a generic rotary-wing drone, which gives a first-order temporal relation between its flight control and its dynamics. Moreover, it offers a global control architecture integrating such a drone model and a Full State Feedback strategy to control the generic rotary-wing drone. Both the drone model and the architecture are generic enough to control the path of any rotary-wing drone with a generic input interface.</p><p id="p0046" num="0046">According to yet another aspect of the invention, said first feedback control loop computes:
<ul><li>o a predefined course to be reached by said drone;</li><li>o a measurement value of a current course of said drone;</li><li>o a linear gain coefficient K and an amortization coefficient T of said drone;</li></ul>
in order to determine a first command to be implemented on a yaw speed of said drone, and said second feedback control loop computes:
<ul><li>o a predefined trajectory to be followed by said drone;</li><li>o a measurement value of a current position and a current translational speed of said drone;</li><li>o the linear gain coefficient K and the amortization coefficient T of said drone;</li></ul><!-- EPO <DP n="11"> -->
in order to determine a second command to be implemented on a pitch angle, a roll angle and an elevation speed of said drone.</p><p id="p0047" num="0047">The advantages of such a system are the same as the advantages related to the method for controlling a drone described here before.</p><p id="p0048" num="0048">The invention also concerns a rotary-wing drone characterized in that it comprises the system for controlling according to this particular embodiment of the invention.</p><p id="p0049" num="0049">The invention also concerns a use of a drone according to this particular embodiment of the invention for recording audio-visual data.</p><p id="p0050" num="0050">As described here before, an advantage of the use of such a drone for recording audio-visual data is that this drone can capture sounds and pictures from a point of the space inaccessible for the operator, or while performing complex motions that cannot be conducted by a person with such a level of accuracy, or without implementing numerous costly and time-consuming additional technical means.</p><p id="p0051" num="0051">While not explicitly described, the present embodiments may be employed in any combination or sub-combination.</p><heading id="h0004"><b>4. Brief description of the drawings</b></heading><p id="p0052" num="0052">The invention can be better understood with reference to the following description and drawings, given by way of example and not limiting the scope of protection, and in which:
<ul><li><figref idrefs="f0001">Figure 1</figref> is a schematic view of geometric elements, notations, and flight controls of a rotary-wing drone;</li><li><figref idrefs="f0002">Figure 2</figref> features a simplified structure of a communication device, implementing the method for controlling a path of a rotary-wing drone, according to an embodiment of the invention;</li><li><figref idrefs="f0003">Figure 3</figref> is a flow chart of the successive steps implemented when performing a method for controlling a path of a rotary-wing drone, according to an embodiment of the invention;</li><li><figref idrefs="f0004">Figure 4</figref> is a schematic view of the global architecture of a path control system according to one embodiment.</li></ul><!-- EPO <DP n="12"> --></p><p id="p0053" num="0053">The components in the figures are not necessarily to scale, emphasis instead being placed upon illustrating the principles of the invention.</p><heading id="h0005"><b>5. Description of embodiments</b></heading><p id="p0054" num="0054">The present invention relates to systems and methods for controlling a rotary-wing drone embodying two feedback control loops that can be performed independently. Many specific details of certain embodiments of the invention are set forth in the following description and in <figref idrefs="f0001 f0002 f0003 f0004">figures 1 to 4</figref> to provide a thorough understanding of such embodiments. One skilled in the art, however, will understand that the present invention may have additional embodiments, or that the present invention may be practiced without several of the details described in the following description.</p><heading id="h0006"><u>Flight controls and dynamics of a rotary-wing drone</u></heading><p id="p0055" num="0055"><figref idrefs="f0001">Figure 1</figref> illustrates schematically the flight controls of a rotary-wing drone 1 featuring four distinctive rotors 2. As mentioned in the introduction of the background art, it is therefore by changing the rotation speed and/or the angular inclination of the same rotors 2 that an operator is controlling the drone 1. <figref idrefs="f0001">Figure 1</figref> especially illustrates the position of such kind of drone 1 in a global frame (G; g<sub>1</sub>; g<sub>2</sub>; g<sub>3</sub>) or a mobile frame (M; m<sub>1</sub>; m<sub>2</sub>; m<sub>3</sub>) based on the variation of its four flight controls, namely: the pitch angle θ, the roll angle Φ, the yaw speed ψ̇ and the elevation speed z. More precisely:
<ul><li>A pitch angle θ variation makes the drone 1 going forward (negative pitch) or backward (positive pitch),</li><li>A roll angle Φ variation makes the drone 1 going left (negative roll) or right (positive roll),</li><li>A yaw speed ψ̇ variation makes the drone 1 turning around the vertical axis in a counter-clockwise (negative yaw speed) or clockwise way (positive yaw speed),</li><li>An elevation speed z makes the drone 1 going up (positive elevation speed) or down (negative elevation speed), more or less quickly.</li></ul></p><p id="p0056" num="0056">The variation of these four flight controls then induces the variation of its flight dynamics, namely: its position p<sup>r</sup>, its speed v<sup>r</sup> and its course c<sup>r</sup>.</p><heading id="h0007"><u>Description of system for controlling the path of a rotary-wing drone</u></heading><!-- EPO <DP n="13"> --><p id="p0057" num="0057"><figref idrefs="f0002">Figure 2</figref> presents a simplified structure of a system 3 for controlling the path of a rotary-wing drone 1, according to one embodiment of the invention.</p><p id="p0058" num="0058">Regarding <figref idrefs="f0002">figure 2</figref>, a system 3 according to the invention comprises a memory 4 comprising a buffer memory RAM, a processing unit 5 comprising for example a micro processor and driven by a computer program 6 implementing the method for controlling the drone 1. The system 3 also comprises an interface Human/Machine (H/M) 7, comprising for example a keyboard and a display, which allows an operator to input data into the system and/or collect information from the same system 3.</p><p id="p0059" num="0059">The system 3 also comprises a course feedback control loop COURSE FCL 8 and a translational feedback control loop TRANS FCL 9.</p><p id="p0060" num="0060">COURSE FCL 8 is intended to estimate the course c<sup>r</sup> of the drone 1 on the basis of a course model detailed here after whereas TRANS FCL 9 is intended to estimate the position p<sup>r</sup> of the drone 1 on the basis of a translational model detailed here after.</p><p id="p0061" num="0061">According to one embodiment of the invention, COURSE FCL 8 is also intended to estimate the speed v<sup>r</sup> of the drone 1 on the basis of the same translational model.</p><p id="p0062" num="0062">The system 3 also comprises a flight controls commanding unit 10 that computes the commands u[k] provided by the processing unit 5 into commanding orders transmitted to each of the four rotors 2 of the drone 1, in order to make respectively their rotational speed and their orientation varying.</p><p id="p0063" num="0063">In one embodiment of the invention, the system 3 also comprises sensors 11 that determine in real-time, during the flight of the drone 1, the instantaneous values of its flight dynamics. As a matter of example, these sensors 11 can comprise a thermal camera intended to detect the displacements of a predetermined reference point located on the drone 1. In other embodiments of the invention, alternative forms of sensors can be implemented, as GPS systems or lasers.</p><p id="p0064" num="0064">In one embodiment of the invention, the system 3 also comprises a camera 12 used to localize the position of obstacles to avoid by the drone and/or point of the space to be reached.</p><p id="p0065" num="0065">According to one embodiment of the invention, the whole system 3 is built in a rotary-wing drone 1. According to another embodiment of the invention, part<!-- EPO <DP n="14"> --> of the system 3 is got on-board while another part remains external to the drone 1, for example the interface H/M 7 and the sensors 11.</p><heading id="h0008"><u>Description of a method for controlling a rotary-wing drone</u></heading><p id="p0066" num="0066"><figref idrefs="f0003">Figure 3</figref> illustrates in more details the successive steps implemented by the method for controlling the drone 1 according to one embodiment of the invention.</p><p id="p0067" num="0067">After an initial step INIT 13, the operator conducts the step INPUT K&amp;T 14 in which the operator inputs, using the interface H/M 7, the technical features specific to the rotary-wing drone 1.</p><p id="p0068" num="0068">In one embodiment, these features are limited to the linear gain K<sub>α</sub> and the amortization coefficient τ<sub>α</sub>, both determined following the run of a unitary test of the type described in the summary of invention.</p><p id="p0069" num="0069">In one embodiment, the respective values of the linear gain K<sub>α</sub> and the amortization coefficient τ<sub>α</sub> as set for a previous flight are saved by the system 3, for example in the memory 4. These values are then re-used when running a further flight. According to this embodiment, the operator only performs the step INPUT K&amp;T 14 when the correction of at least one of these values is required.</p><p id="p0070" num="0070">The operator then conducts the step INPUT DEST 15 in which the operator inputs the spatial coordinates of a point of the space to be reached by the drone 1.</p><p id="p0071" num="0071">According to another embodiment of the invention, the drone 1 locates in an autonomous way the point to be reached, for example by using a camera 12 built in, and then performs by itself the step INPUT DEST 15.</p><p id="p0072" num="0072">Following the run of the step INPUT DEST 15, the system 3 runs the step M-DYNAMIC 16 in which the system 3 measures at least one of the instantaneous dynamics of the drone 1. This measurement can be performed using the sensors 11.</p><p id="p0073" num="0073">In one embodiment, the system 3 first runs the step COMPUT COURSE 17 in which the system 3 determines a first command to be implemented on the yaw speed ψ̇ of the drone 1, by using the COURSE FCL 8.</p><p id="p0074" num="0074">The system 3 then runs the step COMPUT TRANS 18 in which the system 3 determines a first command to be implemented on the pitch angle θ, the<!-- EPO <DP n="15"> --> roll angle Φ and the elevation speed z of the drone 1, by using the TRANS FCL 9.</p><p id="p0075" num="0075">In another embodiment, the system 3 first runs the step COMPUT TRANS 18 before running the step COMPUT COURSE 17.</p><p id="p0076" num="0076">In another embodiment, the steps COMPUT COURSE 17 and COMPUT TRANS 18 are run in parallel by the system 3.</p><p id="p0077" num="0077">In all of these embodiments, it shall be noticed that the steps COMPUT COURSE 17 and COMPUT TRANS 18 are run independently of each other.</p><p id="p0078" num="0078">Following the run of COMPUT COURSE 17 and COMPUT TRANS 18, the command u<sub>1</sub>[k] to be implemented on the yaw speed ψ̇ of the drone 1 and the command u<sub>2</sub>[k] to be implemented on the pitch angle θ, the roll angle Φ and the elevation speed z are transmitted to the flight controls commanding unit 10 (step COMMANDING 19).</p><p id="p0079" num="0079">The succession of the steps M-DYNAMIC 16, COMPUT COURSE 17, COMPUT TRANS 18 and COMMANDING 19 constitute a general step named CONTROLLING.</p><p id="p0080" num="0080">Following the run of the step COMMANDING 19, the step CONTROLLING is repeated at a predetermined period of time k equal or inferior to 0.1 second.</p><p id="p0081" num="0081">In one embodiment of the invention, the operator can input and correct at wish the value of this predetermined period of time k while running the system 3.</p><p id="p0082" num="0082">Prior to a new iteration of the step CONTROLLING, the operator has the possibility to decide to define a new point to be reached by the drone (test 20) and therefore to run the step INPUT DEST 13 before the following steps 16 to 19.</p><p id="p0083" num="0083">In one embodiment of the invention, this decision can be taken 20 by the drone itself, autonomously, using for example its camera 10 on-board to determine the position of a new point to be reached.</p><p id="p0084" num="0084">The following gives additional details about the model according to one embodiment of the invention, i.e. the mathematical formulation linking the flight controls and the flight dynamics of the drone 1. The architecture of the control system 3 is also described.<!-- EPO <DP n="16"> --></p><heading id="h0009"><u>Model</u></heading><heading id="h0010">a) <u>Notations and Assumptions</u></heading><p id="p0085" num="0085">In the following description, the notations introduced in <figref idrefs="f0001">figure 1</figref> are adopted. q(t) indicates a continuous-time quantity while q[k] indicates a discrete-time quantity and q indicates the time-derivative of q.
<ul><li>G is the origin of a global frame (G; g<sub>1</sub>; g<sub>2</sub>; g<sub>3</sub>) whereas M is the center of mass of the drone but also the origin of a mobile frame (M; m<sub>1</sub>; m<sub>2</sub>; m<sub>3</sub>).</li><li>p(t) = GM(t) (respectively p[k] = GM[k]) is the position vector of the drone in the global frame and v(t) (respectively v[k]) its speed.</li><li>Φ(t) (respectively Φ[k]), θ(t) (respectively θ[k]), ψ̇(t) (respectively ψ̇[k]) and z(t) (respectively z[k]) are the flight controls of a rotary-wing drone.</li></ul></p><p id="p0086" num="0086">The modeling part described here after relies on the two following assumptions:
<ul><li>Under normal flight conditions, the roll and pitch angles variations are negligible (usually smaller than 5°) compared with the yaw angle variations (in the full range 0° - 360°) for the description of the orientation of the drone 1. Under this assumption, g<sub>3</sub> and m<sub>3</sub> are equal and the orientation of the drone 1 in the global frame may be restricted to the only course angle c(t) (respectively c[k]), linearly related to the yaw angle (see <figref idrefs="f0001">Figure 1</figref>).</li><li>The flight dynamics of the drone 1 in terms of rotation around the m<sub>3</sub> axis are designed to be very slower than the dynamics of the drone 1 in terms of translation along the m<sub>1</sub> axis, m<sub>2</sub> axis and m<sub>3</sub> axis. Under this assumption, the control of the translation and the course of the drone 1 may be described by two different but coupled linear State Space Representations, namely: a translational control model and a course control model.</li></ul></p><heading id="h0011">b) <u>Translation Control Model</u></heading><p id="p0087" num="0087">Considering the previous assumptions, to model the translation control part, a continuous simple linear amortized model of the speed of the generic rotary-wing drone is initially proposed. It can be mathematically formulated by: <maths id="math0001" num=""><math display="block"><mover><mi mathvariant="normal">v</mi><mo>˙</mo></mover><mfenced><mi mathvariant="normal">t</mi></mfenced><mo>=</mo><msub><mover><mi mathvariant="normal">v</mi><mo>˙</mo></mover><mi mathvariant="normal">Φ</mi></msub><mfenced><mi mathvariant="normal">t</mi></mfenced><mspace width="1em"/><msub><mi mathvariant="normal">m</mi><mn mathvariant="normal">1</mn></msub><mo>+</mo><msub><mover><mi mathvariant="normal">v</mi><mo>˙</mo></mover><mi mathvariant="normal">θ</mi></msub><mfenced><mi mathvariant="normal">t</mi></mfenced><mspace width="1em"/><msub><mi mathvariant="normal">m</mi><mn mathvariant="normal">2</mn></msub><mo>+</mo><msub><mover><mi mathvariant="normal">v</mi><mo>˙</mo></mover><mover><mi mathvariant="normal">z</mi><mo>˙</mo></mover></msub><mfenced><mi mathvariant="normal">t</mi></mfenced><mspace width="1em"/><msub><mi mathvariant="normal">m</mi><mn mathvariant="normal">3</mn></msub></math><img id="ib0001" file="imgb0001.tif" wi="60" he="10" img-content="math" img-format="tif"/></maths><br/>
<!-- EPO <DP n="17"> -->Where <maths id="math0002" num=""><math display="block"><msub><mover><mi mathvariant="normal">v</mi><mo>˙</mo></mover><mi mathvariant="normal">α</mi></msub><mfenced><mi mathvariant="normal">t</mi></mfenced><mo>=</mo><mfrac><mn mathvariant="normal">1</mn><msub><mi mathvariant="normal">τ</mi><mi mathvariant="normal">α</mi></msub></mfrac><mo>⁢</mo><mfenced separators=""><msub><mi mathvariant="normal">K</mi><mi mathvariant="normal">α</mi></msub><mo>⁢</mo><mi mathvariant="normal">α</mi><mo>-</mo><msub><mi mathvariant="normal">v</mi><mi mathvariant="normal">α</mi></msub><mfenced><mi mathvariant="normal">t</mi></mfenced></mfenced><mspace width="1em"/><mi mathvariant="normal">for α in</mi><mspace width="1em"/><mfenced open="{" close="}"><mi mathvariant="normal">ϕ</mi><mi mathvariant="normal">θ</mi><mover><mi mathvariant="normal">z</mi><mo>˙</mo></mover></mfenced></math><img id="ib0002" file="imgb0002.tif" wi="67" he="12" img-content="math" img-format="tif"/></maths><br/>
With K<sub>α</sub> and τ<sub>α</sub> being respectively the linear gain and the amortization coefficient of the model along each direction. Those gains are drone-dependent and may be easily determined for one specific drone making use of basic unitary tests of the type described in the summary of invention.</p><p id="p0088" num="0088">In addition, m<sub>1</sub>, m<sub>2</sub> and m<sub>3</sub> are considered independent of the time during one step of integration (due to the assumptions of a)) with <maths id="math0003" num=""><math display="block"><msub><mi mathvariant="normal">m</mi><mn mathvariant="normal">1</mn></msub><mo>=</mo><mfenced open="{" close="}"><mtable><mtr><mtd><mi>cos</mi><mfenced separators=""><mover><mi mathvariant="normal">c</mi><mo>^</mo></mover><mo>⁢</mo><mfenced><msup><mi mathvariant="normal">t</mi><mo>-</mo></msup></mfenced></mfenced></mtd></mtr><mtr><mtd><mi>sin</mi><mfenced separators=""><mover><mi mathvariant="normal">c</mi><mo>^</mo></mover><mo>⁢</mo><mfenced><msup><mi mathvariant="normal">t</mi><mo>-</mo></msup></mfenced></mfenced></mtd></mtr><mtr><mtd><mn mathvariant="normal">0</mn></mtd></mtr></mtable></mfenced><mo>,</mo><msub><mi mathvariant="normal">m</mi><mn mathvariant="normal">2</mn></msub><mo>=</mo><mfenced open="{" close="}"><mtable><mtr><mtd><mo>-</mo><mi>sin</mi><mfenced separators=""><mover><mi mathvariant="normal">c</mi><mo>^</mo></mover><mo>⁢</mo><mfenced><msup><mi mathvariant="normal">t</mi><mo>-</mo></msup></mfenced></mfenced></mtd></mtr><mtr><mtd><mi>cos</mi><mfenced separators=""><mover><mi mathvariant="normal">c</mi><mo>^</mo></mover><mo>⁢</mo><mfenced><msup><mi mathvariant="normal">t</mi><mo>-</mo></msup></mfenced></mfenced></mtd></mtr><mtr><mtd><mn mathvariant="normal">0</mn></mtd></mtr></mtable></mfenced><mspace width="1em"/><mi>and</mi><mspace width="1em"/><msub><mi mathvariant="normal">m</mi><mn mathvariant="normal">3</mn></msub><mo>=</mo><mfenced open="{" close="}"><mtable><mtr><mtd><mn mathvariant="normal">0</mn></mtd></mtr><mtr><mtd><mn mathvariant="normal">0</mn></mtd></mtr><mtr><mtd><mn mathvariant="normal">1</mn></mtd></mtr></mtable></mfenced></math><img id="ib0003" file="imgb0003.tif" wi="85" he="18" img-content="math" img-format="tif"/></maths><br/>
Where ĉ(t<sup>-</sup>) is an estimate of the course of the drone just before one step of integration.</p><p id="p0089" num="0089">Under those conditions, it can be shown that v(t) may be written as: <maths id="math0004" num=""><math display="block"><mover><mi mathvariant="normal">v</mi><mo>˙</mo></mover><mfenced><mi mathvariant="normal">t</mi></mfenced><mo>=</mo><mo>-</mo><mi>T v</mi><mfenced><mi mathvariant="normal">t</mi></mfenced><mo>+</mo><mi>M T K</mi><mspace width="1em"/><msub><mi mathvariant="normal">u</mi><mn mathvariant="normal">1</mn></msub><mfenced><mi mathvariant="normal">t</mi></mfenced></math><img id="ib0004" file="imgb0004.tif" wi="48" he="10" img-content="math" img-format="tif"/></maths><br/>
Where <maths id="math0005" num=""><math display="block"><mi mathvariant="normal">M</mi><mo>=</mo><mfenced open="[" close="]"><mtable><mtr><mtd><msub><mi mathvariant="normal">m</mi><mn mathvariant="normal">1</mn></msub></mtd><mtd><msub><mi mathvariant="normal">m</mi><mn mathvariant="normal">2</mn></msub></mtd><mtd><msub><mi mathvariant="normal">m</mi><mn mathvariant="normal">3</mn></msub></mtd></mtr></mtable></mfenced><mo>,</mo><mi mathvariant="normal">T</mi><mo>=</mo><mfenced open="[" close="]"><mtable><mtr><mtd><mfrac><mn mathvariant="normal">1</mn><msub><mi mathvariant="normal">τ</mi><mi mathvariant="normal">ϕ</mi></msub></mfrac></mtd><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mfrac><mn mathvariant="normal">1</mn><msub><mi mathvariant="normal">τ</mi><mi mathvariant="normal">θ</mi></msub></mfrac></mtd><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mfrac><mn mathvariant="normal">1</mn><msub><mi mathvariant="normal">τ</mi><mover><mi mathvariant="normal">z</mi><mo>˙</mo></mover></msub></mfrac></mtd></mtr></mtable></mfenced><mo>,</mo><mi mathvariant="normal">K</mi><mo>=</mo><mfenced open="[" close="]"><mtable><mtr><mtd><msub><mi mathvariant="normal">K</mi><mi mathvariant="normal">ϕ</mi></msub></mtd><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><msub><mi mathvariant="normal">K</mi><mi mathvariant="normal">θ</mi></msub></mtd><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><msub><mi mathvariant="normal">K</mi><mover><mi mathvariant="normal">z</mi><mo>˙</mo></mover></msub></mtd></mtr></mtable></mfenced></math><img id="ib0005" file="imgb0005.tif" wi="95" he="28" img-content="math" img-format="tif"/></maths><br/>
And <maths id="math0006" num=""><math display="block"><msub><mi mathvariant="normal">u</mi><mn mathvariant="normal">1</mn></msub><mfenced><mi mathvariant="normal">t</mi></mfenced><mo>=</mo><mfenced open="{" close="}"><mtable><mtr><mtd><mi mathvariant="normal">ϕ</mi><mfenced><mi mathvariant="normal">t</mi></mfenced></mtd></mtr><mtr><mtd><mi mathvariant="normal">θ</mi><mfenced><mi mathvariant="normal">t</mi></mfenced></mtd></mtr><mtr><mtd><mover><mi mathvariant="normal">z</mi><mo>˙</mo></mover><mfenced><mi mathvariant="normal">t</mi></mfenced></mtd></mtr></mtable></mfenced></math><img id="ib0006" file="imgb0006.tif" wi="29" he="19" img-content="math" img-format="tif"/></maths></p><p id="p0090" num="0090">After a discretization step, this same equation may be rewritten by: <maths id="math0007" num=""><math display="block"><mi mathvariant="normal">v</mi><mo>⁢</mo><mfenced open="[" close="]" separators=""><mi mathvariant="normal">k</mi><mo>+</mo><mn mathvariant="normal">1</mn></mfenced><mo>=</mo><mfenced separators=""><msub><mi mathvariant="normal">l</mi><mn mathvariant="normal">3</mn></msub><mo>-</mo><msub><mi mathvariant="normal">T</mi><mi mathvariant="normal">D</mi></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced></mfenced><mspace width="1em"/><mi mathvariant="normal">v</mi><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced><mo>+</mo><msub><mi mathvariant="normal">M</mi><mi mathvariant="normal">D</mi></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced><mo>⁢</mo><msub><mi mathvariant="normal">T</mi><mi mathvariant="normal">D</mi></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced><mspace width="1em"/><mi mathvariant="normal">K</mi><mspace width="1em"/><msub><mi mathvariant="normal">u</mi><mn mathvariant="normal">1</mn></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced></math><img id="ib0007" file="imgb0007.tif" wi="74" he="9" img-content="math" img-format="tif"/></maths><br/>
Where I<sub>3</sub> is the identity matrix in dimension 3, <maths id="math0008" num=""><math display="inline"><msub><mi mathvariant="normal">M</mi><mi mathvariant="normal">D</mi></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced><mo>=</mo><mfenced open="[" close="]"><mtable><mtr><mtd><mi>cos</mi><mfenced separators=""><mover><mi mathvariant="normal">c</mi><mo>^</mo></mover><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced></mfenced></mtd><mtd><mo>-</mo><mi>sin</mi><mfenced separators=""><mover><mi mathvariant="normal">c</mi><mo>^</mo></mover><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced></mfenced></mtd><mtd><mn mathvariant="normal">0</mn></mtd></mtr><mtr><mtd><mi>sin</mi><mfenced separators=""><mover><mi mathvariant="normal">c</mi><mo>^</mo></mover><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced></mfenced></mtd><mtd><mi>cos</mi><mfenced separators=""><mover><mi mathvariant="normal">c</mi><mo>^</mo></mover><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced></mfenced></mtd><mtd><mn mathvariant="normal">0</mn></mtd></mtr><mtr><mtd><mn mathvariant="normal">0</mn></mtd><mtd><mn mathvariant="normal">0</mn></mtd><mtd><mn mathvariant="normal">1</mn></mtd></mtr></mtable></mfenced></math><img id="ib0008" file="imgb0008.tif" wi="58" he="14" img-content="math" img-format="tif" inline="yes"/></maths><br/>
And T<sub>D</sub>[k] = Δ[k]T,<br/>
With Δ[k] designating the discretization period of time k.<!-- EPO <DP n="18"> --></p><p id="p0091" num="0091">From this last equation, one can then easily derived an Explicit Discrete Time Variant State Space Representation to model the translation control part of the drone.</p><p id="p0092" num="0092">By:
<ul><li>Choosing the internal state of the State Space Representation x<sub>1</sub>[k] at the period of time k as the concatenation of the speed vector v[k] and the position vector p[k],</li><li>Including a modeling error as an independent and identically distributed (i.i.d.) additive centered Gaussian noise f<sub>1</sub>[k] with known covariance matrix F<sub>1</sub> and</li><li>Assuming than one may have access to a measurement y<sub>1</sub>[k] of the whole state x<sub>1</sub>[k] with a measurement error modeled as an i.i.d additive centered Gaussian noise h<sub>1</sub>[k] of known covariance H<sub>1</sub>,</li></ul></p><p id="p0093" num="0093">One has the following Explicit Discrete Time-Variant State Space Representation: <maths id="math0009" num=""><math display="block"><mfenced open="{" close="}"><mtable><mtr><mtd><mi mathvariant="normal">v</mi><mo>⁢</mo><mfenced open="[" close="]" separators=""><mi mathvariant="normal">k</mi><mo>+</mo><mn mathvariant="normal">1</mn></mfenced></mtd></mtr><mtr><mtd><mi mathvariant="normal">p</mi><mo>⁢</mo><mfenced open="[" close="]" separators=""><mi mathvariant="normal">k</mi><mo>+</mo><mn mathvariant="normal">1</mn></mfenced></mtd></mtr></mtable></mfenced><mo>=</mo><mfenced open="[" close="]"><mtable><mtr><mtd><msub><mi mathvariant="normal">I</mi><mn mathvariant="normal">3</mn></msub><mo>-</mo><msub><mi mathvariant="normal">T</mi><mi mathvariant="normal">D</mi></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced></mtd><mtd><msub><mn mathvariant="normal">0</mn><mn mathvariant="normal">3</mn></msub></mtd></mtr><mtr><mtd><msub><mi mathvariant="normal">ΔI</mi><mn mathvariant="normal">3</mn></msub></mtd><mtd><msub><mi mathvariant="normal">I</mi><mn mathvariant="normal">3</mn></msub></mtd></mtr></mtable></mfenced><mfenced open="{" close="}"><mtable><mtr><mtd><mi mathvariant="normal">v</mi><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced></mtd></mtr><mtr><mtd><mi mathvariant="normal">p</mi><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced></mtd></mtr></mtable></mfenced><mo>=</mo><mfenced open="[" close="]"><mtable><mtr><mtd><msub><mi mathvariant="normal">M</mi><mi mathvariant="normal">D</mi></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced><mo>⁢</mo><msub><mi mathvariant="normal">T</mi><mi mathvariant="normal">D</mi></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced><mo>⁢</mo><mi mathvariant="normal">K</mi></mtd></mtr><mtr><mtd><msub><mn mathvariant="normal">0</mn><mn mathvariant="normal">3</mn></msub></mtd></mtr></mtable></mfenced><mo>⁢</mo><msub><mi mathvariant="normal">u</mi><mn mathvariant="normal">1</mn></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced><mo>+</mo><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">1</mn></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced></math><img id="ib0009" file="imgb0009.tif" wi="104" he="15" img-content="math" img-format="tif"/></maths><br/>
and <maths id="math0010" num=""><math display="block"><msub><mi mathvariant="normal">y</mi><mn mathvariant="normal">1</mn></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced><mo>=</mo><msub><mi mathvariant="normal">l</mi><mn mathvariant="normal">6</mn></msub><mfenced open="{" close="}"><mtable><mtr><mtd><mi mathvariant="normal">v</mi><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced></mtd></mtr><mtr><mtd><mi mathvariant="normal">p</mi><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced></mtd></mtr></mtable></mfenced><mo>+</mo><msub><mi mathvariant="normal">h</mi><mn mathvariant="normal">1</mn></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced></math><img id="ib0010" file="imgb0010.tif" wi="38" he="13" img-content="math" img-format="tif"/></maths> <maths id="math0011" num=""><math display="block"><mtable><mtr><mtd><mi mathvariant="normal">i</mi><mn mathvariant="normal">.</mn><mi mathvariant="normal">e</mi><mn mathvariant="normal">.</mn><mspace width="1em"/><msub><mi mathvariant="normal">x</mi><mn mathvariant="normal">1</mn></msub><mo>⁢</mo><mfenced open="[" close="]" separators=""><mi mathvariant="normal">k</mi><mo>+</mo><mn mathvariant="normal">1</mn></mfenced><mo>=</mo><msub><mi mathvariant="normal">A</mi><mn mathvariant="normal">1</mn></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced><mo>⁢</mo><msub><mi mathvariant="normal">x</mi><mn mathvariant="normal">1</mn></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced><mo>+</mo><msub><mi mathvariant="normal">B</mi><mn mathvariant="normal">1</mn></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced><mo>⁢</mo><msub><mi mathvariant="normal">u</mi><mn mathvariant="normal">1</mn></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced><mo>+</mo><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">1</mn></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced></mtd></mtr><mtr><mtd><mi>and</mi></mtd></mtr><mtr><mtd><msub><mi mathvariant="normal">y</mi><mn mathvariant="normal">1</mn></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced><mo>=</mo><msub><mi mathvariant="normal">C</mi><mn mathvariant="normal">1</mn></msub><mspace width="1em"/><msub><mi mathvariant="normal">x</mi><mn mathvariant="normal">1</mn></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced><mo>+</mo><msub><mi mathvariant="normal">h</mi><mn mathvariant="normal">1</mn></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced></mtd></mtr></mtable></math><img id="ib0011" file="imgb0011.tif" wi="136" he="28" img-content="math" img-format="tif"/></maths></p><heading id="h0012">c) <u>Course Control Model</u></heading><p id="p0094" num="0094">The course modeling can be mathematically formulated by:
<ul><li>Choosing the internal state of the State Space Representation x<sub>2</sub>[k] at the period of time k as the course c[k],</li><li>Including a modeling error as an i.i.d. additive centered Gaussian noise f<sub>2</sub>[k] with known variance F2 and</li><li>Assuming that one may have access to a measurement y<sub>2</sub>[k] of the whole state x<sub>2</sub>[k] with a measurement error modeled as an i.i.d additive centered Gaussian noise h<sub>2</sub>[k] of known variance H<sub>2</sub>,</li></ul><!-- EPO <DP n="19"> --></p><p id="p0095" num="0095">One has the following Explicit Discrete Time-Variant State Space Representation: <maths id="math0012" num=""><math display="block"><mi mathvariant="normal">c</mi><mo>⁢</mo><mfenced open="[" close="]" separators=""><mi mathvariant="normal">k</mi><mo>+</mo><mn mathvariant="normal">1</mn></mfenced><mo>=</mo><mn mathvariant="normal">1</mn><mspace width="1em"/><mi mathvariant="normal">c</mi><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced><mo>+</mo><msub><mi mathvariant="normal">K</mi><mover><mi mathvariant="normal">ψ</mi><mo>˙</mo></mover></msub><mo>⁢</mo><mi mathvariant="normal">Δ</mi><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced><mspace width="1em"/><mover><mi mathvariant="normal">ψ</mi><mo>˙</mo></mover><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced><mo>+</mo><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">2</mn></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced></math><img id="ib0012" file="imgb0012.tif" wi="61" he="9" img-content="math" img-format="tif"/></maths><br/>
And <maths id="math0013" num=""><math display="block"><msub><mi mathvariant="normal">y</mi><mn mathvariant="normal">2</mn></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced><mo>=</mo><mn mathvariant="normal">1</mn><mspace width="1em"/><mi mathvariant="normal">c</mi><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced><mo>+</mo><msub><mi mathvariant="normal">h</mi><mn mathvariant="normal">2</mn></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced></math><img id="ib0013" file="imgb0013.tif" wi="41" he="8" img-content="math" img-format="tif"/></maths><br/>
Where K<sub>ψ̇</sub> is a drone-dependent linear gain that may be easily determined for one specific drone making use of basic unitary tests.</p><p id="p0096" num="0096">By noting u<sub>2</sub>[k] = ψ̇[k], we thus have the course control model by: <maths id="math0014" num=""><math display="block"><mtable rowlines="solid" columnlines="solid" frame="solid"><mtr><mtd><mtable><mtr><mtd><msub><mi mathvariant="normal">x</mi><mn mathvariant="normal">2</mn></msub><mo>⁢</mo><mfenced open="[" close="]" separators=""><mi mathvariant="normal">k</mi><mo>+</mo><mn mathvariant="normal">1</mn></mfenced><mo>=</mo><msub><mi mathvariant="normal">a</mi><mn mathvariant="normal">2</mn></msub><mspace width="1em"/><msub><mi mathvariant="normal">x</mi><mn mathvariant="normal">2</mn></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced><mo>+</mo><msub><mi mathvariant="normal">b</mi><mn mathvariant="normal">2</mn></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced><mspace width="1em"/><msub><mi mathvariant="normal">u</mi><mn mathvariant="normal">2</mn></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced><mo>+</mo><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">2</mn></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced></mtd></mtr><mtr><mtd><mi>and</mi></mtd></mtr><mtr><mtd><msub><mi mathvariant="normal">y</mi><mn mathvariant="normal">2</mn></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced><mo>=</mo><msub><mi mathvariant="normal">c</mi><mn mathvariant="normal">2</mn></msub><mspace width="1em"/><mi mathvariant="normal">c</mi><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced><mo>+</mo><msub><mi mathvariant="normal">h</mi><mn mathvariant="normal">2</mn></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced></mtd></mtr></mtable></mtd></mtr></mtable></math><img id="ib0014" file="imgb0014.tif" wi="137" he="28" img-content="math" img-format="tif"/></maths></p><heading id="h0013"><u>Control Architecture</u></heading><p id="p0097" num="0097">Given those two models, <figref idrefs="f0004">figure 4</figref> illustrates the architecture of the control system 3 to estimate at each period of time k, the flight control u[k] so that the drone 1 follows the path r[k], leading to the operator-defined point to be reached, given by: <maths id="math0015" num=""><math display="block"><mi mathvariant="normal">u</mi><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced><mo>=</mo><mfenced open="{" close="}"><mtable><mtr><mtd><msub><mi mathvariant="normal">u</mi><mn mathvariant="normal">1</mn></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced></mtd></mtr><mtr><mtd><msub><mi mathvariant="normal">u</mi><mn mathvariant="normal">2</mn></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced></mtd></mtr></mtable></mfenced><mo>⁢</mo><mi>and r</mi><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced><mo>=</mo><mfenced open="{" close="}"><mtable><mtr><mtd><msub><mi mathvariant="normal">r</mi><mn mathvariant="normal">1</mn></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced></mtd></mtr><mtr><mtd><msub><mi mathvariant="normal">r</mi><mn mathvariant="normal">2</mn></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced></mtd></mtr></mtable></mfenced><mo>=</mo><mfenced open="{" close="}"><mtable><mtr><mtd><msup><mi mathvariant="normal">v</mi><mi mathvariant="normal">r</mi></msup><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced></mtd></mtr><mtr><mtd><msup><mi mathvariant="normal">p</mi><mi mathvariant="normal">r</mi></msup><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced></mtd></mtr><mtr><mtd><msup><mi mathvariant="normal">c</mi><mi mathvariant="normal">r</mi></msup><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced></mtd></mtr></mtable></mfenced></math><img id="ib0015" file="imgb0015.tif" wi="70" he="19" img-content="math" img-format="tif"/></maths></p><p id="p0098" num="0098">As illustrated by <figref idrefs="f0004">figure 4</figref>, the run of the step COMPUT COURSE 17 is done independently of the run of the step COMPUT TRANS 18 on the basis of the assumptions a). The matrices B<sub>1</sub>[k] is built at each period of time k making use of the course x̂<sub>2</sub>[k+1] estimated from the kalman filter.</p><p id="p0099" num="0099">One can notice that the steps COMPUT COURSE 17 and COMPUT TRANS 18 remain independent of each other since these steps can be performed in parallel or one after the other. In one embodiment, one step is performed more than the other in a certain amount of time. In particular, when the step COMPUT TRANS 18 is performed more than the step COMPUT COURSE 17 in a certain amount of time, the value of the estimated course x̂<sub>2</sub>[k+1] remains unchanged between two iteration of the step COMPUT COURSE 17 and is therefore used several times, once at each iteration of the step COMPUT TRANS 18.<!-- EPO <DP n="20"> --></p><p id="p0100" num="0100">The command u[k] at each period of time k is computed from: <maths id="math0016" num=""><math display="block"><mi mathvariant="normal">u</mi><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced><mo>=</mo><mfenced open="{" close="}"><mtable><mtr><mtd><msub><mi mathvariant="normal">u</mi><mn mathvariant="normal">1</mn></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced></mtd></mtr><mtr><mtd><msub><mi mathvariant="normal">u</mi><mn mathvariant="normal">2</mn></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced></mtd></mtr></mtable></mfenced><mo>=</mo><mfenced open="{" close="}"><mtable><mtr><mtd><msub><mi mathvariant="normal">N</mi><mn mathvariant="normal">1</mn></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced><mo>⁢</mo><msub><mi mathvariant="normal">r</mi><mn mathvariant="normal">1</mn></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced><mo>-</mo><msub><mi mathvariant="normal">K</mi><mn mathvariant="normal">1</mn></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced><mo>⁢</mo><msub><mover><mi mathvariant="normal">x</mi><mo>^</mo></mover><mn mathvariant="normal">1</mn></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced></mtd></mtr><mtr><mtd><msub><mi mathvariant="normal">n</mi><mn>2</mn></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced><mo>⁢</mo><msub><mi mathvariant="normal">r</mi><mn>2</mn></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced><mo>-</mo><msub><mi mathvariant="normal">k</mi><mn>2</mn></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced><mo>⁢</mo><msub><mover><mi mathvariant="normal">x</mi><mo>^</mo></mover><mn>2</mn></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced></mtd></mtr></mtable></mfenced></math><img id="ib0016" file="imgb0016.tif" wi="72" he="14" img-content="math" img-format="tif"/></maths><br/>
Where:
<ul><li>(N<sub>1</sub>[k], K<sub>1</sub>[k]) and (n<sub>2</sub>[k], k<sub>2</sub>[k]) are the pre-filter and Full State Feedback gain of the position control block and of the course control block respectively, and</li><li>x̂<sub>1</sub>[k] and x̂<sub>2</sub>[k] are the estimates of the states x<sub>1</sub>[k] and x<sub>2</sub>[k] respectively, computed from the associated kalman filters.</li></ul>
Concerning the parameters embodied in the step COMPUT TRANS 18:
<ul><li>The gain K<sub>1</sub>[k] is computed as the solution of a Discrete Linear Quadratic Gaussian regulator with infinite horizon, i.e., K<sub>1</sub>[k] = (R + B<sub>1</sub>[k]<sup>T</sup> P[k] B<sub>1</sub>[k])<sup>-1</sup> B<sub>1</sub>[k]<sup>T</sup> P[k] A<sub>1</sub>[k] where P[k] is the solution of the Discrete Algebraic Ricatti Equation P[k] = Q + A<sub>1</sub>[k]<sup>T</sup> (P[k] - P[k] B<sub>1</sub>[k] (R + B<sub>1</sub>[k]<sup>T</sup> P[k] B<sub>1</sub>[k])<sup>1</sup> B<sub>1</sub>[k]<sup>T</sup> P[k]) A<sub>1</sub>[k]. Such a solution may be computed by the means of specific algorithm based on a Schur decomposition for instance. The matrices Q and R are two user-defined weighting matrices, which intend to control the quality of the regulation: increasing the value of R (by multiplying R by a positive scalar) intends to smooth the variation of the control flight (u<sub>1</sub>) and therefore the path taken by the drone 1, while increasing the value of Q intends to smooth the variation of the flight dynamics (x<sub>1</sub>) and therefore the activity of the rotors of the drone 1. They are initially set to the identity matrix I<sub>3</sub>.</li><li>The pre-filter N<sub>1</sub>[k] is chosen so that the Full State Feedback converge toward r<sub>1</sub>[k]. One can especially show that a choice of N<sub>1</sub>[k] = (B<sub>1</sub>[k]<sup>T</sup> B<sub>1</sub>[k])<sup>-1</sup> B<sub>1</sub>[k]<sup>T</sup> ((I<sub>6</sub> + B<sub>1</sub>[k] K<sub>1</sub>[k]) -A<sub>1</sub>[k]) is appropriate.</li><li>x̂<sub>1</sub>[k] is the estimate of x<sub>1</sub>[k] from a standard Discrete Non-Stationnary Kalman Filter with a gain G<sub>1</sub>[k] at the step k which update is done by the means of the covariance matrices F<sub>1</sub>, H<sub>1</sub> and of the translation control model.</li><li><maths id="math0017" num=""><math display="block"><msub><mover><mi mathvariant="normal">x</mi><mo>^</mo></mover><mn mathvariant="normal">1</mn></msub><mo>⁢</mo><mfenced open="[" close="]" separators=""><mi mathvariant="normal">k</mi><mo>+</mo><mn mathvariant="normal">1</mn></mfenced><mo>=</mo><mfenced separators=""><msub><mi mathvariant="normal">A</mi><mn mathvariant="normal">1</mn></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced><mo>-</mo><msub><mi mathvariant="normal">G</mi><mn mathvariant="normal">1</mn></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced><mo>⁢</mo><msub><mi mathvariant="normal">C</mi><mn mathvariant="normal">1</mn></msub></mfenced><mo>⁢</mo><msub><mover><mi mathvariant="normal">x</mi><mo>^</mo></mover><mn mathvariant="normal">1</mn></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced><mo>+</mo><msub><mi mathvariant="normal">B</mi><mn mathvariant="normal">1</mn></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced><mo>⁢</mo><msub><mi mathvariant="normal">u</mi><mn mathvariant="normal">1</mn></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced><mo>+</mo><msub><mi mathvariant="normal">G</mi><mn mathvariant="normal">1</mn></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced><mo>⁢</mo><msub><mi mathvariant="normal">y</mi><mn mathvariant="normal">1</mn></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced><mn mathvariant="normal">.</mn></math><img id="ib0017" file="imgb0017.tif" wi="99" he="10" img-content="math" img-format="tif"/></maths></li></ul>
Concerning the parameters embodied in the step COMPUT COURSE 17:<!-- EPO <DP n="21"> -->
<ul><li>The gain k<sub>2</sub>[k] is computed so that the dynamics of the state x<sub>2</sub>[k] are slower enough to be compatible with the assumption of a). One can especially show that, to have an attenuation γ of the control error after a time τ, one could especially chose <maths id="math0018" num=""><math display="inline"><msub><mi mathvariant="normal">k</mi><mn mathvariant="normal">2</mn></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced><mo>=</mo><mi>exp</mi><mfenced><mfrac><mrow><mover><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced><mo>‾</mo></mover><mo>⁢</mo><mi>log</mi><mfenced><mi mathvariant="normal">γ</mi></mfenced></mrow><mrow><mi mathvariant="normal">τ</mi><mo>-</mo><mover><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced><mo>‾</mo></mover></mrow></mfrac></mfenced></math><img id="ib0018" file="imgb0018.tif" wi="34" he="10" img-content="math" img-format="tif" inline="yes"/></maths> where <o>[k]</o> is the mean value of the period of time k of the process.</li><li>The pre-filter n<sub>2</sub>[k] is chosen so that the Full State Feedback converge toward r<sub>2</sub>[k]. One can show that the choice n<sub>2</sub>[k] = k<sub>2</sub>[k] is appropriate.</li><li>x̂<sub>2</sub>[k] is the estimate of x<sub>2</sub>[k] from a standard Discrete Non-Stationnary Kalman Filter with a gain g<sub>2</sub>[k] at the step k which update is done making use of the variances f<sub>1</sub>, h<sub>1</sub> and of the course control model.</li><li><maths id="math0019" num=""><math display="block"><msub><mover><mi mathvariant="normal">x</mi><mo>^</mo></mover><mn>2</mn></msub><mo>⁢</mo><mfenced open="[" close="]" separators=""><mi mathvariant="normal">k</mi><mo>+</mo><mn mathvariant="normal">1</mn></mfenced><mo>=</mo><mfenced separators=""><msub><mi mathvariant="normal">a</mi><mn>2</mn></msub><mo>-</mo><msub><mi mathvariant="normal">g</mi><mn>2</mn></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced><mo>⁢</mo><msub><mi mathvariant="normal">c</mi><mn>2</mn></msub></mfenced><mo>⁢</mo><msub><mover><mi mathvariant="normal">x</mi><mo>^</mo></mover><mn>2</mn></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced><mo>+</mo><msub><mi mathvariant="normal">b</mi><mn>2</mn></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced><mo>⁢</mo><msub><mi mathvariant="normal">u</mi><mn>2</mn></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced><mo>+</mo><msub><mi mathvariant="normal">g</mi><mn>2</mn></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced><mo>⁢</mo><msub><mi mathvariant="normal">y</mi><mn>2</mn></msub><mfenced open="[" close="]"><mi mathvariant="normal">k</mi></mfenced><mn mathvariant="normal">.</mn></math><img id="ib0019" file="imgb0019.tif" wi="95" he="10" img-content="math" img-format="tif"/></maths></li></ul></p></description><claims mxw-id="PCLM90460016" lang="EN" load-source="patent-office"><!-- EPO <DP n="22"> --><claim id="c-en-0001" num="0001"><claim-text>A method for controlling a path of a rotary-wing drone (1), <b>characterized in that</b> said method comprises steps for:
<claim-text>• Establishing a first-order temporal relation between flight control parameters and flight dynamics for said rotary-wing drone (1) comprising:
<claim-text>o An Explicit Discrete Time-Variant State-Space Representation of a translation control of said rotary-wing drone (1);</claim-text>
<claim-text>o An Explicit Discrete Time-Variant State-Space Representation of a course control of said rotary-wing drone (1);</claim-text></claim-text>
<claim-text>• Controlling the path of said rotary-wing drone (1) by:
<claim-text>o Estimating a course (17) of said rotary-wing drone (1) on the basis of said Explicit Discrete Time-Variant State-Space Representation of a course control of said rotary-wing drone (1);</claim-text>
<claim-text>o Estimating a position (18) of said rotary-wing drone (1) on the basis of said Explicit Discrete Time-Variant State-Space Representation of a translation control of said rotary-wing drone (1);</claim-text></claim-text>
said steps of estimating (17; 18) being performed independently.</claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>The method according to claim 1, wherein said step of controlling the path of said drone (1) also comprises estimating a speed of said rotary-wing drone (1) on the basis of said Explicit Discrete Time-Variant State-Space Representation of a translation control of said drone (1).</claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>The method according to any of claims 1 and 2, wherein said step of controlling the path of said drone (1) comprises estimating the flight controls which must be applied to said drone (1) for it to follow a predetermined path.</claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>The method according to any of claims 1 to 3, also comprising a step of measuring flight dynamics (16) of said drone (1), said flight<!-- EPO <DP n="23"> --> dynamics belonging to the group comprising:
<claim-text>• a speed;</claim-text>
<claim-text>• a position;</claim-text>
<claim-text>• an orientation.</claim-text></claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>The method according to claim 4, <b>characterized in that</b> said step of measuring (16) comprises detecting by at least one thermal camera (11) at least one predetermined reference point on said drone (1).</claim-text></claim><claim id="c-en-0006" num="0006"><claim-text>The method according to any of claims 1 to 5, <b>characterized in that</b> said steps of controlling and measuring are successively repeated at a predetermined period of time k.</claim-text></claim><claim id="c-en-0007" num="0007"><claim-text>The method according to claim 6, <b>characterized in that</b> said period of time k is smaller or equal to 0.1 second.</claim-text></claim><claim id="c-en-0008" num="0008"><claim-text>The method according to any of claims 1 to 7, wherein said step of establishing a first-order temporal relation between flight control parameters and flight dynamics for said drone (1) implements at least one of predetermined coefficients K and T that refer respectively to the linear gain value and the amortization coefficient value of said drone (1).</claim-text></claim><claim id="c-en-0009" num="0009"><claim-text>The method according to any of claims 1 to 8, <b>characterized in that</b> it comprises a step of inputting spatial coordinates of a geographical point to be reached by the drone (1).</claim-text></claim><claim id="c-en-0010" num="0010"><claim-text>The method according to any of claims 1 to 9, comprising a step implemented by said drone (1) of locating a point of the space to be reached.</claim-text></claim><claim id="c-en-0011" num="0011"><claim-text>A system (3) for controlling a path of a rotary-wing drone (1), <b>characterized in that</b> said system (3) comprises two feedback control loops (8; 9):<!-- EPO <DP n="24"> -->
<claim-text>• A first feedback control loop (8), which estimates a course of said rotary-wing drone (1) on the basis of an Explicit Discrete Time-Variant State-Space Representation of a course control of said rotary-wing drone (1);</claim-text>
<claim-text>• A second feedback control loop (9), which estimates a position of said rotary-wing drone (1) on the basis of said Explicit Discrete Time-Variant State-Space Representation of a translation control of said rotary-wing drone (1);</claim-text>
said first and second feedback control loops (8; 9) running independently of each other.</claim-text></claim><claim id="c-en-0012" num="0012"><claim-text>A system (3) according to claim 11, <b>characterized in that</b>:
<claim-text>• said first feedback control loop (8) computes:
<claim-text>o a predefined course to be reached by said drone (1);</claim-text>
<claim-text>o a measurement value of a current course of said drone (1);</claim-text>
<claim-text>o a linear gain coefficient K and an amortization coefficient T of said drone (1);</claim-text>
in order to determine a first command to be implemented on a yaw speed of said drone (1),<br/>
and <b>in that</b></claim-text>
<claim-text>• said second feedback control loop (9) computes:
<claim-text>o a predefined trajectory to be followed by said drone (1);</claim-text>
<claim-text>o a measurement value of a current position and a current translational speed of said drone (1);</claim-text>
<claim-text>o the linear gain coefficient K and the amortization coefficient T of said drone (1);</claim-text>
in order to determine a second command to be implemented on a pitch angle, a roll angle and an elevation speed of said drone (1).</claim-text></claim-text></claim><claim id="c-en-0013" num="0013"><claim-text>A rotary-wing drone (1) <b>characterized in that</b> it comprises the system (3) for controlling according to claim 11.</claim-text></claim><claim id="c-en-0014" num="0014"><claim-text>Use of said drone (1) according to claim 12 for recording audio-visual data.</claim-text></claim></claims><drawings mxw-id="PDW20422702" load-source="patent-office"><!-- EPO <DP n="25"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="144" he="176" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="26"> --><figure id="f0002" num="2"><img id="if0002" file="imgf0002.tif" wi="165" he="231" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="27"> --><figure id="f0003" num="3"><img id="if0003" file="imgf0003.tif" wi="165" he="211" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="28"> --><figure id="f0004" num="4"><img id="if0004" file="imgf0004.tif" wi="160" he="233" img-content="drawing" img-format="tif"/></figure></drawings><search-report-data><doc-page id="srep0001" file="srep0001.tif" wi="157" he="233" type="tif"/><doc-page id="srep0002" file="srep0002.tif" wi="157" he="233" type="tif"/></search-report-data><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
