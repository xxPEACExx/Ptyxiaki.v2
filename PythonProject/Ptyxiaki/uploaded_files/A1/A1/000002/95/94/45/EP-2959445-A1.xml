<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2959445-A1" country="EP" doc-number="2959445" kind="A1" date="20151230" family-id="51390550" file-reference-id="278926" date-produced="20180825" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="160453216" ucid="EP-2959445-A1"><document-id><country>EP</country><doc-number>2959445</doc-number><kind>A1</kind><date>20151230</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-14753467-A" is-representative="NO"><document-id mxw-id="PAPP193869400" load-source="patent-office" format="original"><country>EP</country><doc-number>14753467.1</doc-number><date>20140219</date><lang>EN</lang></document-id><document-id mxw-id="PAPP193869401" load-source="docdb" format="epo"><country>EP</country><doc-number>14753467</doc-number><kind>A</kind><date>20140219</date><lang>EN</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC162035907" ucid="FI-20135163-A" load-source="docdb"><document-id format="epo"><country>FI</country><doc-number>20135163</doc-number><kind>A</kind><date>20130222</date></document-id></priority-claim><priority-claim mxw-id="PPC162034621" ucid="FI-2014050123-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>FI</country><doc-number>2014050123</doc-number><kind>W</kind><date>20140219</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-1915427951" load-source="ipcr">G06Q  20/38        20120101AFI20160726BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1915429424" load-source="ipcr">G06K  19/06        20060101ALI20160726BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1915431293" load-source="ipcr">H04W   4/00        20090101ALI20160726BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1915435291" load-source="ipcr">G06F  21/31        20130101ALI20160726BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1915437331" load-source="ipcr">G06Q  20/32        20120101ALI20160726BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1915437560" load-source="ipcr">G06Q  30/02        20120101ALI20160726BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1916212623" load-source="docdb" scheme="CPC">G06Q  20/3278      20130101 LI20160721BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1916212624" load-source="docdb" scheme="CPC">G06Q  20/3276      20130101 LI20160721BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1984700918" load-source="docdb" scheme="CPC">G06Q  30/0225      20130101 FI20160107BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1984704704" load-source="docdb" scheme="CPC">G06Q  30/0207      20130101 LI20160108BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987765414" load-source="docdb" scheme="CPC">G06Q  20/322       20130101 LI20150217BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987771814" load-source="docdb" scheme="CPC">G06F  21/31        20130101 LA20150324BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT165551114" lang="DE" load-source="patent-office">VALIDIERUNG VON MOBILEN GUTSCHEINEN ODER COUPONS</invention-title><invention-title mxw-id="PT165551115" lang="EN" load-source="patent-office">VALIDATING MOBILE COUPONS OR VOUCHERS</invention-title><invention-title mxw-id="PT165551116" lang="FR" load-source="patent-office">VALIDATION DE BONS OU DE COUPONS MOBILES</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR1103323359" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>OP PALVELUT OY</last-name><address><country>FI</country></address></addressbook></applicant><applicant mxw-id="PPAR1103341157" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>OP-PALVELUT OY</last-name></addressbook></applicant><applicant mxw-id="PPAR1101641347" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>OP-Palvelut Oy</last-name><iid>101436211</iid><address><street>Teollisuuskatu 1</street><city>00510 Helsinki</city><country>FI</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR1103334953" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>LUOMA KRISTIAN</last-name><address><country>FI</country></address></addressbook></inventor><inventor mxw-id="PPAR1103343643" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>LUOMA, KRISTIAN</last-name></addressbook></inventor><inventor mxw-id="PPAR1101647653" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>LUOMA, KRISTIAN</last-name><address><street>c/o OP-Palvelut OY Teollisuuskatu 1</street><city>FI-00510 Helsinki</city><country>FI</country></address></addressbook></inventor><inventor mxw-id="PPAR1103318726" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>JOMPPANEN TUOMAS</last-name><address><country>FI</country></address></addressbook></inventor><inventor mxw-id="PPAR1103324705" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>JOMPPANEN, TUOMAS</last-name></addressbook></inventor><inventor mxw-id="PPAR1101651815" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>JOMPPANEN, TUOMAS</last-name><address><street>c/o OP-Palvelut OY Teollisuuskatu 1</street><city>FI-00510 Helsinki</city><country>FI</country></address></addressbook></inventor><inventor mxw-id="PPAR1103342578" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>JUNTUNEN JUSSI</last-name><address><country>FI</country></address></addressbook></inventor><inventor mxw-id="PPAR1103309485" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>JUNTUNEN, JUSSI</last-name></addressbook></inventor><inventor mxw-id="PPAR1101649311" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>JUNTUNEN, JUSSI</last-name><address><street>c/o OP-Palvelut OY Teollisuuskatu 1</street><city>FI-00510 Helsinki</city><country>FI</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR1101649917" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Kolster Oy Ab</last-name><iid>101363959</iid><address><street>Iso Roobertinkatu 23 PO Box 148</street><city>00121 Helsinki</city><country>FI</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="FI-2014050123-W"><document-id><country>FI</country><doc-number>2014050123</doc-number><kind>W</kind><date>20140219</date><lang>EN</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2014128352-A1"><document-id><country>WO</country><doc-number>2014128352</doc-number><kind>A1</kind><date>20140828</date><lang>EN</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS660636971" load-source="docdb">AL</country><country mxw-id="DS660635044" load-source="docdb">AT</country><country mxw-id="DS660636973" load-source="docdb">BE</country><country mxw-id="DS660722875" load-source="docdb">BG</country><country mxw-id="DS660716785" load-source="docdb">CH</country><country mxw-id="DS660792149" load-source="docdb">CY</country><country mxw-id="DS660635045" load-source="docdb">CZ</country><country mxw-id="DS660713087" load-source="docdb">DE</country><country mxw-id="DS660636974" load-source="docdb">DK</country><country mxw-id="DS660792150" load-source="docdb">EE</country><country mxw-id="DS660742224" load-source="docdb">ES</country><country mxw-id="DS660722876" load-source="docdb">FI</country><country mxw-id="DS660722877" load-source="docdb">FR</country><country mxw-id="DS660713088" load-source="docdb">GB</country><country mxw-id="DS660636987" load-source="docdb">GR</country><country mxw-id="DS660636988" load-source="docdb">HR</country><country mxw-id="DS660792151" load-source="docdb">HU</country><country mxw-id="DS660716786" load-source="docdb">IE</country><country mxw-id="DS660636989" load-source="docdb">IS</country><country mxw-id="DS660722878" load-source="docdb">IT</country><country mxw-id="DS660636990" load-source="docdb">LI</country><country mxw-id="DS660713089" load-source="docdb">LT</country><country mxw-id="DS660635046" load-source="docdb">LU</country><country mxw-id="DS660713090" load-source="docdb">LV</country><country mxw-id="DS660713095" load-source="docdb">MC</country><country mxw-id="DS660635051" load-source="docdb">MK</country><country mxw-id="DS660635052" load-source="docdb">MT</country><country mxw-id="DS660637019" load-source="docdb">NL</country><country mxw-id="DS660713097" load-source="docdb">NO</country><country mxw-id="DS660637020" load-source="docdb">PL</country><country mxw-id="DS660722891" load-source="docdb">PT</country><country mxw-id="DS660637021" load-source="docdb">RO</country><country mxw-id="DS660722892" load-source="docdb">RS</country><country mxw-id="DS660637022" load-source="docdb">SE</country><country mxw-id="DS660716795" load-source="docdb">SI</country><country mxw-id="DS660713098" load-source="docdb">SK</country><country mxw-id="DS660713099" load-source="docdb">SM</country><country mxw-id="DS660635053" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data><office-specific-data><eptags><ep-no-a-document-published>*</ep-no-a-document-published></eptags></office-specific-data></bibliographic-data><abstract mxw-id="PA139079634" ref-ucid="WO-2014128352-A1" lang="EN" load-source="patent-office"><p num="0000">Apparatus and method are provided. The solution comprises in an apparatus controlling (304) a detector to obtain wirelessly from an object external to the apparatus information on an identifier related to a retailer; determining (306) the identification of a retailer on the basis of the identifier; transmitting (308) a query to the network server, the query comprising the identification of the retailer;receiving ( 310) a response from the server, the response comprising information on available retailer related benefits of the user; and if there are available benefits, controlling (312) the communication of the information on the benefits to the user.</p></abstract><abstract mxw-id="PA139546189" ref-ucid="WO-2014128352-A1" lang="EN" source="national office" load-source="docdb"><p>Apparatus and method are provided. The solution comprises in an apparatus controlling (304) a detector to obtain wirelessly from an object external to the apparatus information on an identifier related to a retailer; determining (306) the identification of a retailer on the basis of the identifier; transmitting (308) a query to the network server, the query comprising the identification of the retailer;receiving ( 310) a response from the server, the response comprising information on available retailer related benefits of the user; and if there are available benefits, controlling (312) the communication of the information on the benefits to the user.</p></abstract><abstract mxw-id="PA139079635" ref-ucid="WO-2014128352-A1" lang="FR" load-source="patent-office"><p num="0000">L'invention concerne un appareil et un procédé. La solution selon l'invention consiste en un appareil qui commande (304) un détecteur pour obtenir des informations sans fil à partir d'un objet extérieur à l'appareil concernant un identifiant associé à un commerçant ; détermine (306) l'identification d'un commerçant sur la base de l'identifiant ; transmet (308) une requête au serveur de réseau, la requête comprenant l'identification du commerçant ; reçoit (310) une réponse du serveur, la réponse comprenant des informations sur des avantages disponibles de l'utilisateur liés au commerçant ; et s'il existe des avantages disponibles, commande (312) la communication des informations concernant ces avantages à l'utilisateur.</p></abstract><abstract mxw-id="PA139546190" ref-ucid="WO-2014128352-A1" lang="FR" source="national office" load-source="docdb"><p>L'invention concerne un appareil et un procédé. La solution selon l'invention consiste en un appareil qui commande (304) un détecteur pour obtenir des informations sans fil à partir d'un objet extérieur à l'appareil concernant un identifiant associé à un commerçant ; détermine (306) l'identification d'un commerçant sur la base de l'identifiant ; transmet (308) une requête au serveur de réseau, la requête comprenant l'identification du commerçant ; reçoit (310) une réponse du serveur, la réponse comprenant des informations sur des avantages disponibles de l'utilisateur liés au commerçant ; et s'il existe des avantages disponibles, commande (312) la communication des informations concernant ces avantages à l'utilisateur.</p></abstract><description mxw-id="PDES78477992" ref-ucid="WO-2014128352-A1" lang="EN" load-source="patent-office"><!-- EPO <DP n="3"/>--><p id="p0001" num="0001"> Validating mobile coupons or vouchers Field </p><p id="p0002" num="0002"> The exemplary and non-limiting embodiments of the invention relate generally to electronic coupons or benefits in mobile devices and especially validating the coupons or benefits. </p><p id="p0003" num="0003">Background </p><p id="p0004" num="0004"> The emerging electronic media and mobile computing offer new possibilities in the communication between a consumer and retailers. Retailers have offered special benefits for loyal customers in form of membership cards or special discounts to all customers in form of coupons in advertisements, for example. Both forms of communication have been introduced in the mobile communication environment as electronic membership cards or electronic coupons or vouchers. A problem associated with these electronic forms of communication is the question of the authenticity of the electronic cards and benefits. </p><p id="p0005" num="0005">Summary </p><p id="p0006" num="0006"> The present invention seeks to provide an improved solution for validating electronic cards, vouchers or other forms of benefits. </p><p id="p0007" num="0007"> According to an aspect of the present invention, there is provided an apparatus, comprising: at least one processor; at least one memory including computer program code, and user interface; the at least one memory and the computer program code configured to, with the at least one processor, cause the apparatus at least to perform: control obtaining in a wireless manner information on an identifier related to a retailer from an object external to the apparatus; determine the identification of a retailer on the basis of the identifier; control the transmission of identification related to the user of the apparatus to a network server; control the transmission of a query to the network server, the query comprising the identification of the retailer; control the reception of a response from the server, the response comprising information on available retailer related benefits of the user; and if there are available benefits, control the communication, utilizing the user interface, of the information on the benefits to the user. </p><p id="p0008" num="0008"> According to an aspect of the present invention, there is provided a server comprising a communication interface, a memory interface, and a 
<!-- EPO <DP n="4"/>-->
 processor, wherein the processor is configured to cause the server at least to perform: maintain via the memory interface a connection to a database comprising information on users, benefits offered by retailers and which users are eligible for which benefit; receive via the communication interface a query regarding a user and a retailer; determine if the user is eligible for a benefit in the retailer; transmit via the communication interface a response on the basis of the determination. </p><p id="p0009" num="0009"> According to another aspect of the present invention, there is provided a method in an apparatus, comprising: controlling a detector to obtain wirelessly from an object external to the apparatus information on an identifier related to a retailer; determining the identification of a retailer on the basis of the identifier; controlling the transmission of identification related to the user of the apparatus to a network server; controlling the transmission of a query to the network server, the query comprising the identification of the retailer; controlling the reception of a response from the server, the response comprising information on available retailer related benefits of the user; and if there are available benefits, controlling the communication of the information on the benefits to the user. </p><p id="p0010" num="0010"> According to another aspect of the present invention, there is provided a method in an apparatus, comprising: maintaining a database comprising information on users, benefits offered by retailers and which users are eligible for which benefit; receiving a query regarding a user and a retailer; determining if the user is eligible for a benefit in the retailer; transmitting a response on the basis of the determination. </p><p id="p0011" num="0011">List of drawings </p><p id="p0012" num="0012"> Embodiments of the present invention are described below, by way of example only, with reference to the accompanying drawings, in which </p><p id="p0013" num="0013"> Figure 1 illustrates an example of a general operating environment applicable to some embodiments of the invention; </p><p id="p0014" num="0014"> Figure 2 illustrates an example of authentication; </p><p id="p0015" num="0015"> Figure 3 is a flowchart illustrating an embodiment of the invention;</p><p id="p0016" num="0016">Figure 4 illustrates an example of an apparatus in which some embodiments of the invention may be applied; 
<!-- EPO <DP n="5"/>-->
 Figure 5 is a flowchart illustrating an embodiment of the invention; and </p><p id="p0017" num="0017"> Figure 6 illustrates an example of an apparatus in which some embodiments of the invention may be applied. Description of some embodiments </p><p id="p0018" num="0018">The following embodiments are only examples. Although the specification may refer to "an" embodiment in several locations, this does not necessarily mean that each such reference is to the same embodiment(s), or that the feature only applies to a single embodiment. Single features of different embodiments may also be combined to provide other embodiments. Furthermore, words "comprising" and "including" should be understood as not limiting the described embodiments to consist of only those features that have been mentioned and such embodiments may contain also features/structures that have not been specifically mentioned. </p><p id="p0019" num="0019"> Figure 1 illustrates an example of a general operating environment applicable to some embodiments of the invention. The environment comprises one or more network servers 100 running an authentication service and database operations, and user equipment 102 running software, and a communication network 104 connecting the network server 100 and the user equipment 102. </p><p id="p0020" num="0020"> The communication network 104 may be a wired or wireless communication network or a combination of these. The network may include various wired/wireless standard, non-standard or proprietary communication networks such as a computer network, a private network, an IP-based network (TCP/IP = Transmission Control Protocol / Internet Protocol), the Internet, the telephone network including the public switched telephone network PSTN, any cellular network (such as a mobile phone network) such as GSM (Global System for Mobile Communications), GPRS (General Packet Radio Service), EGPRS (Enhanced GPRS), WCDMA (Wideband Code Division Multiple Access), UMTS (Universal Mobile Telephone System), 3GPP (The 3rd Generation Partnership Project), IMT (International Mobile Telecommunication), LTE (Long Term Evolution, LTE-A (LTE-Advanced), and other radio systems (in their present forms and/or in their evolution forms), a wireless local area network such as Wi-Fi or WLAN (Wireless Local Area 
<!-- EPO <DP n="6"/>-->
 Network) based on IEEE (Institute of Electrical and Electronics Engineers) 802.1 1 standard or its evolution versions or WiMAX (Worldwide Interoperability for Microwave Access, for example. </p><p id="p0021" num="0021"> User equipment 102 refers to a computing device. Such computing devices include wireless mobile communication devices operating with or without a subscriber identification module (SIM), including, but not limited to, the following types of devices: a mobile phone, a smartphone, a personal digital assistant (PDA), a tablet computer, a laptop or table top computer. </p><p id="p0022" num="0022"> The network server or servers 100 may be configured to offer the user equipment 102 authentication service and database operations. The server or servers 100 may be a personal computer or a set of computers or a computer network or any other kind of processing system comprising a at least one processor; and at least one memory including computer program code. The server is configured to be accessible by users through the communication network 104, for example. The server may comprise suitable interfaces and/or transceivers to contact the communication network. </p><p id="p0023" num="0023"> The user equipment 102 may run software configured to authenticate the user of the user equipment by communicating with the server 100. Let us denote the software as electronic wallet application. Figure 2 is a signalling chart of an example of possible authentication procedure. It is to be noted, however, that the embodiments of the invention are not limited to the presented authentication example. Also other kind of authentication procedures may be applied as one skilled in the art is well aware. </p><p id="p0024" num="0024"> The example of Figure 2 illustrates signalling between the wallet application 200, wallet application programming interface (API) 202, a server 204 configured to perform authentication and a database server 206. In an embodiment, the server 204 performs authentication of the user of the wallet application so that the wallet application may access the database server 206 in a secure manner. In an embodiment, the wallet application 200 and the wallet application programming interface (API) 202 are software run in user equipment. </p><p id="p0025" num="0025"> In this example, the authentication procedure begins by the wallet application 200 sending 208 user id and password to wallet API 202. The wallet application may be configured to query the user id and password when the application is initialized or when the application is connecting to network in response to a user action. 
<!-- EPO <DP n="7"/>-->
 The wallet API 202 forwards 210 the user id and password to the authentication server 204. </p><p id="p0026" num="0026"> The authentication server 204 checks the user id and password and if correct responds with a message 212 comprising an acknowledgement and a key code challenge. </p><p id="p0027" num="0027"> Many services utilized over communication networks require authentication. Typically, authentication is realised using a username and a password. In more sophisticated solutions, key codes or key numbers are used in addition to username and password authentication. The user may have a key code list comprising a set of challenges and corresponding responses as number pairs. A server requiring authentication submits the user a challenge, and the user is required to find the challenge from the key code list, find the response corresponding the challenge and submit the response. The server grants access if the submitted response was correct. </p><p id="p0028" num="0028"> The wallet API receives the message 212 and forwards 214 it to the wallet application 200. The wallet application receives a response to the key code challenge from the user and sends 216 it to the wallet API. The wallet API transmits 218 the response the authentication server 204. The server authenticates the response and sends an acknowledgement 230 to the wallet API. </p><p id="p0029" num="0029"> At this phase the two-level authentication has been performed. The first level comprises the user id and password and the second level the key code challenge/response. </p><p id="p0030" num="0030"> In an embodiment, to finalize the process, the wallet API creates 232 a session id and a session key for the current on-going session. In an embodiment, the session key is a 256 bit random number. However, this is merely an example. The API transmits 234 a session id and session key to the database server 206. </p><p id="p0031" num="0031"> The database server 206 acknowledges 236 the session data. </p><p id="p0032" num="0032"> The wallet API transmits 238 the session id and session key to the wallet application. </p><p id="p0033" num="0033"> In an embodiment, the wallet application is configured to query 240 the user a PIN (personal identification number). The PIN is utilised to encrypt 242 the session key. </p><p id="p0034" num="0034"> The wallet application is then configured to store 244 the encrypted session key but delete the PIN and plain session key from memory. 
<!-- EPO <DP n="8"/>-->
 The session id and key may be used in communication with the database server 206 to identify the user and user equipment. If a session is interrupted or timed out, a new session key may be created </p><p id="p0035" num="0035"> Retailers or vendors may offer special benefits for loyal customers in form of a membership card or special discounts to all customers in form of electronic coupons or vouchers stored in mobile communication devices, for example. The wallet application 200 run in user equipment may be configured to store electronic membership cards or electronic coupons or vouchers. In the interest of security a method for authenticating the validity of the electronic cards, coupons or vouchers is needed. </p><p id="p0036" num="0036"> In an embodiment, the database server 206 is configured to maintain a database comprising information on users and different electronic cards, coupons or vouchers associated with the users. The wallet application 200 run in user equipment may be configured to communicate with the database server when needed to show the retailer that the user has a valid card, coupon or voucher. </p><p id="p0037" num="0037"> In an embodiment, the validation operation may be made easy and convenient for the user by utilising an identifier unique to the retailer at the retailer's premises. The identifier may be in a form easily readable by user equipment or mobile communication device. Examples of such identifiers are Quick Response QR codes or radio-frequency identification RFID tags. </p><p id="p0038" num="0038"> Referring to Figure 1 , in an example embodiment, the identifier may be in a form of a Quick Response QR code being on an object 106 external to the user equipment. The object may be a paper sheet or adhesive label on which the QR code is printed. QR code is the trademark for a type of matrix barcode (or two-dimensional code) first designed for the automotive industry. The QR comprises black modules (square dots) arranged in a square pattern on a white background. The information encoded may be made up of four standardized modes of data (numeric, alphanumeric, byte/binary, Kanji), or through supported extensions, virtually any kind of data. The alphanumeric character codes of the QR code may include alphanumeric characters: numbers from "0" to "9", alphabets from "A" to "Z" or Ό" in Nordic languages, and "space", "$", "%", "<sup>*</sup>", "+", "-", ".", 7", "\", "|", {", "}", "<sup>*</sup>" and ":" as special characters, for example. </p><p id="p0039" num="0039"> In another example embodiment, the identifier is in a form of radio- frequency identification RFID tag being on an object 106 external to the user 
<!-- EPO <DP n="9"/>-->
 equipment. The user equipment may comprise a near field communication NFC transceiver capable of reading RFID tags. </p><p id="p0040" num="0040"> The identifier uniquely identifying the retailer may be located at the cashier desk at the retailer's premises, for example. Thus, a customer arriving at a retailer's premises may scan the identifier with the wallet application of the user equipment. The wallet application is configured to contact the database server and validate the coupons or benefits the user is entitled to. The wallet application may then display validation data on the screen of the user equipment. </p><p id="p0041" num="0041"> Figure 3 is a flowchart illustrating an embodiment of the invention.</p><p id="p0042" num="0042">The apparatus employing the embodiment may be user equipment 102 or a part of the user equipment, for example. The embodiment starts at step 300. </p><p id="p0043" num="0043"> In step 302, the apparatus 102 is configured to execute wallet application and perform authentication. The authentication may be performed as described in connection with Figure 2, for example. </p><p id="p0044" num="0044"> In step 304, the apparatus is configured to control a detector to obtain in a wireless manner information on a retailer from an object 106 external to the apparatus. </p><p id="p0045" num="0045"> In an embodiment, the apparatus comprises a camera. The user may point the camera to an adhesive label or paper sheet comprising retailer identification and the apparatus may be configured to automatically read the QR code printed on the adhesive or paper. </p><p id="p0046" num="0046"> In an embodiment, the apparatus comprises an NFC transceiver and the apparatus is configured to read an RFID tag from an adhesive label or other object. These two cases are merely examples of possible realizations. </p><p id="p0047" num="0047"> In step 306, the apparatus is configured to determine the identification of a retailer on the basis of the identifier. </p><p id="p0048" num="0048"> For example, the apparatus may be configured to decode from the object external to the apparatus a universal resource locator (URL) comprising an Internet address. The URL may comprise a field identifying the retailer. For example, the URL may be of a form </p><p id="p0049" num="0049"> http://wallet.eom/intro/##### </p><p id="p0050" num="0050">where ##### is a series of digits unique to each retailer. </p><p id="p0051" num="0051"> The apparatus may be configured to decode the series of digits from the URL. 
<!-- EPO <DP n="10"/>-->
 The adhesive label, object or paper sheet comprising the identification and visible in the retailer's premises may act as an advertisement. For example, if the identification is read with a commercial QR reader application, the application would typically automatically open URL with a browser. The web page the URL is pointing to could promote the retailer and comprise a link to download the wallet application. </p><p id="p0052" num="0052"> In step 308, the apparatus is configured to control the transmission of a query to the network server, the query comprising the identification of the retailer. In an embodiment, the query may comprise the identification of the user. The identification may be in the form of session id and session key. As the identification of the user may have been established during authentication procedure it may not be needed to transmit it again. </p><p id="p0053" num="0053"> In step 310, the apparatus is configured to control the reception of a response from the server, the response comprising information on available retailer related benefits of the user. </p><p id="p0054" num="0054"> If there are available benefits the apparatus is configured to control the user interface of the apparatus to communicate information on the validated benefits to the user in step 312. The user may then show the information at the cashier, for example. The apparatus may control the user interface to display an animation, for example. Alternatively, an image comprising electronic cards or vouchers may be shown on the display. </p><p id="p0055" num="0055"> If there are no available benefits the apparatus may be configured initialise browser application and show a web page of the retailer and promote the user to store a bookmark or reference to the retailer within the walled application. </p><p id="p0056" num="0056"> The process ends in step 314. </p><p id="p0057" num="0057"> Figure 4 illustrates an embodiment. The figure illustrates a simplified example of a device in which embodiments of the invention may be applied. In some embodiments, the device may be user equipment UE or a respective device communicating with a communications network. In some embodiments, the device may be a part of user equipment or a respective device. In general, device may be a computing device, including wireless mobile communication device operating with or without a subscriber identification module (SIM), including, but not limited to, the following types of devices: a mobile phone, a smartphone, a personal digital assistant (PDA), a tablet computer, a laptop or table top computer. 
<!-- EPO <DP n="11"/>-->
 It should be understood that the apparatus is depicted herein as an example illustrating some embodiments. It is apparent to a person skilled in the art that the device may also comprise other functions and/or structures and not all described functions and structures are required. Although the device has been depicted as one entity, different modules and memory may be implemented in one or more physical or logical entities. </p><p id="p0058" num="0058"> The device of the example includes a control circuitry 400 configured to control at least part of the operation of the device. </p><p id="p0059" num="0059"> The device may comprise a memory 402 for storing data. Furthermore the memory may store software 404 executable by the control circuitry 400. The memory may be integrated in the control circuitry. </p><p id="p0060" num="0060"> The device may comprise a transceiver 406. The transceiver is operationally connected to the control circuitry 400. It may be connected to an antenna arrangement (not shown). </p><p id="p0061" num="0061"> The software 404 may comprise a computer program comprising program code means adapted to cause the control circuitry 400 of the device to control a transceiver 406. </p><p id="p0062" num="0062"> The device may further comprise user interface 410 operationally connected to the control circuitry 400. The user interface may comprise a display which may be touch sensitive, a keyboard or keypad (which may be implemented using a touch sensitive display), a microphone and a speaker, for example. </p><p id="p0063" num="0063"> The control circuitry 400 is configured to execute one or more applications. The applications may be stored in the memory 402. The applications may generate data traffic with the system. The applications may require data from a server in the Internet or they may store data in the server. In general the traffic generated by applications may be periodic or continuous or something in between. </p><p id="p0064" num="0064"> In an embodiment, the device comprises at least one detector unit 408. The detector unit may be a camera configured to take images, or an NFC transceiver configured to scan RFID tags. The software 404 may comprise a computer program comprising program code means adapted to cause the control circuitry 400 of the device to control the at least one detector unit 408. </p><p id="p0065" num="0065"> Some of the above mentioned units might be accessories connectable to a device. 
<!-- EPO <DP n="12"/>-->
 Figure 5 is a flowchart illustrating an embodiment of the invention. The apparatus employing the embodiment may be a server 206 or a part of the server, for example. The embodiment starts at step 500. </p><p id="p0066" num="0066"> In step 502, the apparatus 206 is configured to maintain a database or a connection to a database comprising information on users, benefits offered by retailers and which users are eligible for which benefit. </p><p id="p0067" num="0067"> In step 504, the apparatus 206 receives a query regarding a user and a retailer. </p><p id="p0068" num="0068"> In step 506, the apparatus 206 is configured to determine if the user is eligible for a benefit in the retailer. The apparatus may be configured to check from the database the benefits of a given user and determine if the retailer denoted in the query is found in the database. </p><p id="p0069" num="0069"> In step 508, the apparatus 206 transmits a response on the basis of the determination. </p><p id="p0070" num="0070"> The process ends in step 510. </p><p id="p0071" num="0071"> Figure 6 illustrates an embodiment. The figure illustrates a simplified example of a device in which embodiments of the invention may be applied. In some embodiments, the device may be a server 206 of Figure 2 maintaining a database and communicating with user equipment UE or respective devices via a communications network. In some embodiments, the device may be a part of a server or a respective device. In general, device may be a computing device including, but not limited to, the following types of devices: a personal computer, a server computer. </p><p id="p0072" num="0072"> It should be understood that the apparatus is depicted herein as an example illustrating some embodiments. It is apparent to a person skilled in the art that the device may also comprise other functions and/or structures and not all described functions and structures are required. Although the device has been depicted as one entity, different modules and memory may be implemented in one or more physical or logical entities. </p><p id="p0073" num="0073"> The device of the example includes a control circuitry 600 configured to control at least part of the operation of the device. </p><p id="p0074" num="0074"> The device may comprise a memory or an interface 602 to a memory for storing data. Furthermore the memory may store software 604 executable by the control circuitry 600. The memory may be integrated in the control circuitry. 
<!-- EPO <DP n="13"/>-->
 The device may comprise a communication interface 606. The communication interface is operationally connected to the control circuitry 600. The interface may provide the device a connection to a communication system. The connection may be wired or wireless. The interface may be a network interface card, a transceiver or any other kind of apparatus providing network connections. </p><p id="p0075" num="0075"> The software 604 may comprise a computer program comprising program code means adapted to cause the control circuitry 600 of the device to control the communication interface a transceiver 406. </p><p id="p0076" num="0076"> The device may further comprise user interface 608 operationally connected to the control circuitry 600. The user interface may comprise a display which may be touch sensitive, a keyboard or keypad (which may be implemented using a touch sensitive display), a microphone and a speaker, for example. </p><p id="p0077" num="0077"> The control circuitry 600 is configured to execute one or more applications. The applications may be stored in the memory 602. The applications may generate data traffic with the system. The applications may require data from a server in the Internet or they may store data in the server. In general the traffic generated by applications may be periodic or continuous or something in between. </p><p id="p0078" num="0078"> The applications may control the control circuitry 600 to maintain via the memory interface a connection to a database comprising information on users, benefits offered by retailers and which users are eligible for which benefit; receive via the communication interface a query regarding a user and a retailer; determine if the user is eligible for a benefit in the retailer and transmit via the communication interface a response on the basis of the determination. </p><p id="p0079" num="0079"> Some of the above mentioned units might be accessories connectable to a device. </p><p id="p0080" num="0080"> The steps and related functions described in the above and attached figures are in no absolute chronological order, and some of the steps may be performed simultaneously or in an order differing from the given one.</p><p id="p0081" num="0081">Other functions can also be executed between the steps or within the steps.</p><p id="p0082" num="0082">Some of the steps can also be left out or replaced with a corresponding step. </p><p id="p0083" num="0083"> The apparatuses or controllers able to perform the above-described steps may be implemented as an electronic digital computer, or a circuitry that 
<!-- EPO <DP n="14"/>-->
 may comprise a working memory (RAM), a central processing unit (CPU), and a system clock. The CPU may comprise a set of registers, an arithmetic logic unit, and a controller. The controller or the circuitry is controlled by a sequence of program instructions transferred to the CPU from the RAM. The controller may contain a number of microinstructions for basic operations. The implementation of microinstructions may vary depending on the CPU design. The program instructions may be coded by a programming language, which may be a high-level programming language, such as C, Java, etc., or a low- level programming language, such as a machine language, or an assembler. The electronic digital computer may also have an operating system, which may provide system services to a computer program written with the program instructions. </p><p id="p0084" num="0084"> As used in this application, the term 'circuitry' refers to all of the following: (a) hardware-only circuit implementations, such as implementations in only analog and/or digital circuitry, and (b) combinations of circuits and software (and/or firmware), such as (as applicable): (i) a combination of processor(s) or (ii) portions of processor(s)/software including digital signal processor(s), software, and memory(ies) that work together to cause an apparatus to perform various functions, and (c) circuits, such as a microprocessor(s) or a portion of a microprocessor(s), that require software or firmware for operation, even if the software or firmware is not physically present. </p><p id="p0085" num="0085"> This definition of 'circuitry' applies to all uses of this term in this application. As a further example, as used in this application, the term 'circuitry' would also cover an implementation of merely a processor (or multiple processors) or a portion of a processor and its (or their) accompanying software and/or firmware. The term 'circuitry' would also cover, for example and if applicable to the particular element, a baseband integrated circuit or applications processor integrated circuit for a mobile phone or a similar integrated circuit in a server, a cellular network device, or another network device. </p><p id="p0086" num="0086"> An embodiment provides a computer program embodied on a distribution medium, comprising program instructions which, when loaded into an electronic apparatus, are configured to control the apparatus to execute the embodiments described above. 
<!-- EPO <DP n="15"/>-->
 The computer program may be in source code form, object code form, or in some intermediate form, and it may be stored in some sort of carrier, which may be any entity or device capable of carrying the program. Such carriers include a record medium, computer memory, read-only memory, and a software distribution package, for example. Depending on the processing power needed, the computer program may be executed in a single electronic digital computer or it may be distributed amongst a number of computers. </p><p id="p0087" num="0087"> The apparatus may also be implemented as one or more integrated circuits, such as application-specific integrated circuits ASIC. Other hardware embodiments are also feasible, such as a circuit built of separate logic components. A hybrid of these different implementations is also feasible. When selecting the method of implementation, a person skilled in the art will consider the requirements set for the size and power consumption of the apparatus, the necessary processing capacity, production costs, and production volumes, for example. </p><p id="p0088" num="0088"> In an embodiment, the apparatus may also be implemented as an apparatus comprising means for receiving a challenge from a network server; means for controlling a detector to obtain wirelessly from an external object information on challenge/response pairs; means for determining a response to the challenge on the basis of the obtained information; and means for transmitting the response to the network server. </p><p id="p0089" num="0089"> It will be obvious to a person skilled in the art that, as technology advances, the inventive concept can be implemented in various ways. The invention and its embodiments are not limited to the examples described above but may vary within the scope of the claim. 
</p></description><claims mxw-id="PCLM70078274" ref-ucid="WO-2014128352-A1" lang="EN" load-source="patent-office"><claim-statement><!-- EPO <DP n="16"/>-->Claims </claim-statement><claim id="clm-0001" num="1"><claim-text> 1 . An apparatus, comprising: </claim-text><claim-text> at least one processor; </claim-text><claim-text> at least one memory including computer program code, and user interface; </claim-text><claim-text> the at least one memory and the computer program code configured to, with the at least one processor, cause the apparatus at least to perform: </claim-text><claim-text> control obtaining in a wireless manner information on an identifier related to a retailer from an object external to the apparatus; </claim-text><claim-text> determine the identification of a retailer on the basis of the identifier; control the transmission of a query to the network server, the query comprising the identification of the retailer; </claim-text><claim-text> control the reception of a response from the server, the response comprising information on available retailer related benefits of the user; </claim-text><claim-text> and if there are available benefits, control the communication, utilizing the user interface, of the information on the benefits to the user. </claim-text></claim><claim id="clm-0002" num="2"><claim-text>2. The apparatus of claim 1 , the at least one memory and the computer program code configured to, with the at least one processor, cause the apparatus at least to perform: </claim-text><claim-text> if there are no available benefits, control the communication, utilizing the user interface, of information related to the retailer. </claim-text></claim><claim id="clm-0003" num="3"><claim-text>3. The apparatus of claim 1 or 2, the at least one memory and the computer program code configured to, with the at least one processor, cause the apparatus at least to perform: </claim-text><claim-text> if there are available benefits, control the user interface to display an animation. </claim-text></claim><claim id="clm-0004" num="4"><claim-text>4. The apparatus of any preceding claim, the apparatus comprising a near field communication transceiver capable of obtaining information from a radio-frequency identification tag being on an object external to the apparatus. </claim-text></claim><claim id="clm-0005" num="5"><claim-text>5. The apparatus of any preceding claim, the apparatus comprising a camera; and the at least one memory and the computer program code being 
<!-- EPO <DP n="17"/>-->
 configured to, with the at least one processor, cause the apparatus further to perform: </claim-text><claim-text> control the camera to photograph a graphical code being on a surface of an object external to the apparatus; and </claim-text><claim-text> decode information from the graphical code. </claim-text></claim><claim id="clm-0006" num="6"><claim-text>6. The apparatus of any preceding claim, the at least one memory and the computer program code being configured to, with the at least one processor, cause the apparatus further to perform: </claim-text><claim-text> decode from the object external to the apparatus an universal resource locator comprising an Internet address. </claim-text></claim><claim id="clm-0007" num="7"><claim-text>7. The apparatus of any preceding claim, the at least one memory and the computer program code being configured to, with the at least one processor, cause the apparatus further to perform: </claim-text><claim-text> control the transmission of identification related to the user of the apparatus and the identification of the retailer in a single message. </claim-text></claim><claim id="clm-0008" num="8"><claim-text>8. The apparatus of any preceding claim, the at least one memory and the computer program code being configured to, with the at least one processor, cause the apparatus further to perform: </claim-text><claim-text> control the transmission of identification related to the user of the apparatus and the identification of the retailer in a separate messages. </claim-text></claim><claim id="clm-0009" num="9"><claim-text>9. A server comprising </claim-text><claim-text> a communication interface, </claim-text><claim-text> a memory interface, and </claim-text><claim-text> a processor, </claim-text><claim-text> wherein the processor is configured to cause the server at least to perform: </claim-text><claim-text> maintain via the memory interface a connection to a database comprising information on users, benefits offered by retailers and which users are eligible for which benefit; </claim-text><claim-text> receive via the communication interface a query regarding a user and a retailer; </claim-text><claim-text> determine if the user is eligible for a benefit in the retailer; 
<!-- EPO <DP n="18"/>-->
 transmit via the communication interface a response on the basis of the determination. </claim-text></claim><claim id="clm-0010" num="10"><claim-text>10. A method in an apparatus, comprising: </claim-text><claim-text> controlling a detector to obtain wirelessly from an object external to the apparatus information on an identifier related to a retailer; </claim-text><claim-text> determining the identification of a retailer on the basis of the identifier; </claim-text><claim-text> controlling the transmission of a query to the network server, the query comprising the identification of the retailer; </claim-text><claim-text> controlling the reception of a response from the server, the response comprising information on available retailer related benefits of the user; </claim-text><claim-text> and if there are available benefits, controlling the communication of the information on the benefits to the user. </claim-text></claim><claim id="clm-0011" num="11"><claim-text>1 1 . The method of claim 10, further comprising: controlling the communication, utilizing the user interface, of information related to the retailer if there are no available benefits. </claim-text></claim><claim id="clm-0012" num="12"><claim-text>12. The method of claim 10 or 1 1 , further comprising: controlling the user interface to display an animation if there are available benefits. </claim-text></claim><claim id="clm-0013" num="13"><claim-text>13. The method of any preceding claim 10 to 12, utilizing a near field communication transceiver to obtain information from a radio-frequency identification tag from an object external to the apparatus. </claim-text></claim><claim id="clm-0014" num="14"><claim-text>14. The method of any preceding claim 10 to 12, utilizing a camera to photograph a graphical code being on a surface of an object external to the apparatus; and </claim-text><claim-text> decode information from the graphical code. </claim-text></claim><claim id="clm-0015" num="15"><claim-text>15. The method of any preceding claim 10 to 13, further comprising: decoding from the object external to the apparatus an universal resource locator comprising an Internet address. 
<!-- EPO <DP n="19"/>-->
</claim-text></claim><claim id="clm-0016" num="16"><claim-text>16. The method of any preceding claim 10 to 15, further comprising: controlling the transmission of identification related to the user of the apparatus and the identification of the retailer in a single message. </claim-text></claim><claim id="clm-0017" num="17"><claim-text>17. The method of any preceding claim 10 to 16, further comprising: controlling the transmission of identification related to the user of the apparatus and the identification of the retailer in a separate messages. </claim-text></claim><claim id="clm-0018" num="18"><claim-text>18. A method in an apparatus, comprising: </claim-text><claim-text> maintaining a database comprising information on users, benefits offered by retailers and which users are eligible for which benefit; </claim-text><claim-text> receiving a query regarding a user and a retailer; </claim-text><claim-text> determining if the user is eligible for a benefit in the retailer; transmitting a response on the basis of the determination. </claim-text></claim><claim id="clm-0019" num="19"><claim-text>19. A computer readable storage medium comprising one or more sequences of one or more instructions which, when executed by one or more processors of an apparatus, cause the apparatus to perform the method of any one of claims 10 to 18. 
</claim-text></claim></claims><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
