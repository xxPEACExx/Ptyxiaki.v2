<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2959441-A1" country="EP" doc-number="2959441" kind="A1" date="20151230" family-id="50137671" file-reference-id="252649" date-produced="20180825" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="160453220" ucid="EP-2959441-A1"><document-id><country>EP</country><doc-number>2959441</doc-number><kind>A1</kind><date>20151230</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-14705373-A" is-representative="NO"><document-id mxw-id="PAPP193869408" load-source="patent-office" format="original"><country>EP</country><doc-number>14705373.0</doc-number><date>20140220</date><lang>EN</lang></document-id><document-id mxw-id="PAPP193869409" load-source="docdb" format="epo"><country>EP</country><doc-number>14705373</doc-number><kind>A</kind><date>20140220</date><lang>EN</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC162034699" ucid="EP-14705373-A" load-source="docdb"><document-id format="epo"><country>EP</country><doc-number>14705373</doc-number><kind>A</kind><date>20140220</date></document-id></priority-claim><priority-claim mxw-id="PPC162033419" ucid="EP-2013059046-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>EP</country><doc-number>2013059046</doc-number><kind>W</kind><date>20130430</date></document-id></priority-claim><priority-claim mxw-id="PPC162029942" ucid="EP-2014053366-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>EP</country><doc-number>2014053366</doc-number><kind>W</kind><date>20140220</date></document-id></priority-claim><priority-claim mxw-id="PPC162032943" ucid="GB-201302993-A" load-source="docdb"><document-id format="epo"><country>GB</country><doc-number>201302993</doc-number><kind>A</kind><date>20130220</date></document-id></priority-claim><priority-claim mxw-id="PPC162027382" ucid="GB-201307970-A" load-source="docdb"><document-id format="epo"><country>GB</country><doc-number>201307970</doc-number><kind>A</kind><date>20130502</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-1988519694" load-source="docdb">G06Q  20/32        20120101ALI20140911BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1988523630" load-source="docdb">G06Q  20/12        20120101AFI20140911BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1987768713" load-source="docdb" scheme="CPC">G06Q  20/3276      20130101 LI20140304BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987785456" load-source="docdb" scheme="CPC">G06Q  20/12        20130101 LI20140304BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987795494" load-source="docdb" scheme="CPC">G06Q  20/3223      20130101 FI20140304BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT165551126" lang="DE" load-source="patent-office">VORRICHTUNG UND VERFAHREN ZUM ERWERB EINES PRODUKTS MITHILFE EINER ELEKTRONISCHEN VORRICHTUNG</invention-title><invention-title mxw-id="PT165551127" lang="EN" load-source="patent-office">APPARATUS AND METHOD FOR PURCHASING A PRODUCT USING AN ELECTRONIC DEVICE</invention-title><invention-title mxw-id="PT165551128" lang="FR" load-source="patent-office">APPAREIL ET PROCÉDÉ D'ACHAT D'UN PRODUIT AU MOYEN D'UN DISPOSITIF ÉLECTRONIQUE</invention-title><citations><non-patent-citations><nplcit><text>See references of WO 2014128229A1</text><sources><source mxw-id="PNPL67568136" load-source="docdb" name="SEA"/></sources></nplcit></non-patent-citations></citations></technical-data><parties><applicants><applicant mxw-id="PPAR1103341517" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>BARCLAYS BANK PLC</last-name><address><country>GB</country></address></addressbook></applicant><applicant mxw-id="PPAR1103332637" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>BARCLAYS BANK PLC.</last-name></addressbook></applicant><applicant mxw-id="PPAR1101643638" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Barclays Bank Plc.</last-name><iid>101477112</iid><address><street>1 Churchill Place Canary Wharf</street><city>London, Greater London E14 5HP</city><country>GB</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR1103312579" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>GOLDSTONE JEREMY</last-name><address><country>GB</country></address></addressbook></inventor><inventor mxw-id="PPAR1103312995" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>GOLDSTONE, Jeremy</last-name></addressbook></inventor><inventor mxw-id="PPAR1101640042" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>GOLDSTONE, Jeremy</last-name><address><street>c/o Barclays Global Information Security Radbroke Hall Babbage House</street><city>Knutsford Cheshire WA16 9EU</city><country>GB</country></address></addressbook></inventor><inventor mxw-id="PPAR1103328598" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>CHENG LAWRENCE</last-name><address><country>GB</country></address></addressbook></inventor><inventor mxw-id="PPAR1103310360" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>CHENG, LAWRENCE</last-name></addressbook></inventor><inventor mxw-id="PPAR1101653531" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>CHENG, LAWRENCE</last-name><address><street>c/o Barclays Global Information Security Radbroke Hall Babbage House</street><city>Knutsford Cheshire WA16 9EU</city><country>GB</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR1101653352" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Boult Wade Tennant</last-name><iid>101370347</iid><address><street>Verulam Gardens 70 Gray's Inn Road</street><city>London WC1X 8BT</city><country>GB</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="EP-2014053366-W"><document-id><country>EP</country><doc-number>2014053366</doc-number><kind>W</kind><date>20140220</date><lang>EN</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2014128229-A1"><document-id><country>WO</country><doc-number>2014128229</doc-number><kind>A1</kind><date>20140828</date><lang>EN</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS660713146" load-source="docdb">AL</country><country mxw-id="DS660792165" load-source="docdb">AT</country><country mxw-id="DS660713168" load-source="docdb">BE</country><country mxw-id="DS660716902" load-source="docdb">BG</country><country mxw-id="DS660742298" load-source="docdb">CH</country><country mxw-id="DS660637062" load-source="docdb">CY</country><country mxw-id="DS660792166" load-source="docdb">CZ</country><country mxw-id="DS660722924" load-source="docdb">DE</country><country mxw-id="DS660713169" load-source="docdb">DK</country><country mxw-id="DS660637079" load-source="docdb">EE</country><country mxw-id="DS660633855" load-source="docdb">ES</country><country mxw-id="DS660716907" load-source="docdb">FI</country><country mxw-id="DS660716908" load-source="docdb">FR</country><country mxw-id="DS660722925" load-source="docdb">GB</country><country mxw-id="DS660713170" load-source="docdb">GR</country><country mxw-id="DS660713183" load-source="docdb">HR</country><country mxw-id="DS660637080" load-source="docdb">HU</country><country mxw-id="DS660742315" load-source="docdb">IE</country><country mxw-id="DS660713184" load-source="docdb">IS</country><country mxw-id="DS660716909" load-source="docdb">IT</country><country mxw-id="DS660637081" load-source="docdb">LI</country><country mxw-id="DS660722926" load-source="docdb">LT</country><country mxw-id="DS660792167" load-source="docdb">LU</country><country mxw-id="DS660722931" load-source="docdb">LV</country><country mxw-id="DS660722932" load-source="docdb">MC</country><country mxw-id="DS660635105" load-source="docdb">MK</country><country mxw-id="DS660635106" load-source="docdb">MT</country><country mxw-id="DS660792168" load-source="docdb">NL</country><country mxw-id="DS660713185" load-source="docdb">NO</country><country mxw-id="DS660792169" load-source="docdb">PL</country><country mxw-id="DS660713186" load-source="docdb">PT</country><country mxw-id="DS660792170" load-source="docdb">RO</country><country mxw-id="DS660713191" load-source="docdb">RS</country><country mxw-id="DS660792171" load-source="docdb">SE</country><country mxw-id="DS660722934" load-source="docdb">SI</country><country mxw-id="DS660637082" load-source="docdb">SK</country><country mxw-id="DS660637103" load-source="docdb">SM</country><country mxw-id="DS660635115" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data><office-specific-data><eptags><ep-no-a-document-published>*</ep-no-a-document-published></eptags></office-specific-data></bibliographic-data><abstract mxw-id="PA139079934" ref-ucid="WO-2014128229-A1" lang="EN" load-source="patent-office"><p num="0000">The present disclosure relates to a method and apparatus for purchasing a product from a merchant by a consumer using an electronic device. An association between a transaction identifier and transaction information is stored in a database, the transaction information comprising a merchant identifier, which is associated with merchant information, and a transaction amount. The consumer may purchase the product by having the transaction identifier provided to an application on an electronic device and transmitting the transaction identifier from the application to a transaction processing server. The merchant information and the transaction amount associated with the transaction identifier is transmitted from the transaction processing server to the application and the transaction completed using the application on the basis of the transaction information on the database.</p></abstract><abstract mxw-id="PA139546489" ref-ucid="WO-2014128229-A1" lang="EN" source="national office" load-source="docdb"><p>The present disclosure relates to a method and apparatus for purchasing a product from a merchant by a consumer using an electronic device. An association between a transaction identifier and transaction information is stored in a database, the transaction information comprising a merchant identifier, which is associated with merchant information, and a transaction amount. The consumer may purchase the product by having the transaction identifier provided to an application on an electronic device and transmitting the transaction identifier from the application to a transaction processing server. The merchant information and the transaction amount associated with the transaction identifier is transmitted from the transaction processing server to the application and the transaction completed using the application on the basis of the transaction information on the database.</p></abstract><abstract mxw-id="PA139079935" ref-ucid="WO-2014128229-A1" lang="FR" load-source="patent-office"><p num="0000">L'invention concerne un procédé et un appareil permettant l'achat d'un produit par un consommateur auprès d'un commerçant au moyen d'un dispositif électronique. Une association entre un identifiant de transaction et des informations de transaction est enregistrée dans une base de données, les informations comprenant un identifiant de commerçant qui est associé aux informations du commerçant, ainsi qu'un montant de transaction. Le consommateur peut acheter le produit en fournissant l'identifiant de transaction à une application sur un dispositif électronique et en transmettant l'identifiant de transaction de l'application à un serveur de traitement de transaction. Les informations sur le commerçant et le montant de transaction associé à l'identifiant de transaction sont transmis par le serveur de traitement de transaction à l'application, et la transaction est exécutée au moyen de l'application d'après les informations de transaction sur la base de données.</p></abstract><abstract mxw-id="PA139546490" ref-ucid="WO-2014128229-A1" lang="FR" source="national office" load-source="docdb"><p>L'invention concerne un procédé et un appareil permettant l'achat d'un produit par un consommateur auprès d'un commerçant au moyen d'un dispositif électronique. Une association entre un identifiant de transaction et des informations de transaction est enregistrée dans une base de données, les informations comprenant un identifiant de commerçant qui est associé aux informations du commerçant, ainsi qu'un montant de transaction. Le consommateur peut acheter le produit en fournissant l'identifiant de transaction à une application sur un dispositif électronique et en transmettant l'identifiant de transaction de l'application à un serveur de traitement de transaction. Les informations sur le commerçant et le montant de transaction associé à l'identifiant de transaction sont transmis par le serveur de traitement de transaction à l'application, et la transaction est exécutée au moyen de l'application d'après les informations de transaction sur la base de données.</p></abstract><description mxw-id="PDES78478115" ref-ucid="WO-2014128229-A1" lang="EN" load-source="patent-office"><!-- EPO <DP n="3"/>--><p id="p0001" num="0001"> APPARATUS AND METHOD FOR PURCHASING A PRODUCT USING AN </p><p id="p0002" num="0002"> ELECTRONIC DEVICE </p><p id="p0003" num="0003">Technical field </p><p id="p0004" num="0004">The present disclosure relates to an apparatus and method for purchasing a product using an electronic device. </p><p id="p0005" num="0005">Background </p><p id="p0006" num="0006">When purchasing a product, or products, from a merchant's website using an electronic device, such as a desktop computer or a tablet computer, a consumer will usually put the product (s) in the website's 'shopping basket' and then proceed to the 'checkout' to purchase the product. In order to purchase the product, the consumer will need to submit to the merchant their payment details and any other personal details that the merchant may require, for example delivery address and, if they are purchasing an age restricted product, their date of birth. </p><p id="p0007" num="0007">Entering all of this information each time the consumer shops on-line, whether with the same merchant or with different merchants, can be time consuming. In order to overcome this, the consumer may save their payment details and personal details on their electronic device so that all of the required information can be auto-completed and then transmitted to the merchant without requiring manual data entry from the consumer. However, storing these details on an electronic device can represent a security risk, as can the transmission of the details over the internet . </p><p id="p0008" num="0008">Furthermore, sharing the detai Is with a merchant may 
<!-- EPO <DP n="4"/>-->
represent a security risk. Firstly, the consumer may not trust a particular merchant with their details, or that what the consumer thought was the merchant's website is in fact a third party's website imitating the merchant's website, in which case their details will have been shared with a 3<sup>rd</sup> party. Even when their details are shared with a </p><p id="p0009" num="0009">trustworthy merchant, where details may be stored at </p><p id="p0010" num="0010">multiple different locations there is a greater chance that the details may be compromised. </p><p id="p0011" num="0011">Rather than storing payment and personal details on the consumer's electronic device, the consumer may store their details with the merchant so that each time they purchase a product from the merchant, the consumer details may be auto- completed on the website. However, this means that the consumer's payment details will be stored with every </p><p id="p0012" num="0012">different merchant that they use, which increases the number of locations where their details are stored, thus increasing the security risk. Furthermore, whenever the consumer purchases a product from a merchant for the first time, they will need manually to enter their payment and personal details with that merchant, which is time consuming. </p><p id="p0013" num="0013">From a merchant's perspective, personal details entered by the consumer, for example delivery address and/or date of birth, may not necessarily be trustworthy. This may </p><p id="p0014" num="0014">represent a risk to the merchant because, for example, they may be unsure that they are selling an age restricted product to a consumer of a suitable age, or that they will be able successful to fulfil delivery of purchased goods. Furthermore, handling of transaction details and personal details may represent an additional burden on the merchant, 
<!-- EPO <DP n="5"/>-->
not only because they will need to take steps to complete the transaction, but also because of the additional data security requirements that they should meet when handling such information. </p><p id="p0015" num="0015">Summary </p><p id="p0016" num="0016">In a first aspect of the present disclosure, there is provided a server for use in the purchase of a product from a merchant by a consumer using an electronic device, the server being configured to: store in a database an </p><p id="p0017" num="0017">association between a transaction identifier and transaction information, the transaction information comprising a merchant identifier, which is associated with merchant information, and a transaction amount; and transmit the transaction identifier to a first terminal. </p><p id="p0018" num="0018">By storing the association between the transaction </p><p id="p0019" num="0019">identifier and the merchant identifier and transaction amount, the consumer can use the transaction identifier to check the transaction details are correct before confirming the transaction, thus improving security for the consumer. </p><p id="p0020" num="0020">The transaction identifier may be generated by the server on the basis of the merchant identifier and transaction amount that it has received from a merchant server. The merchant identifier and transaction amount received may be in an encrypted form and/or use integrity controls. For example, a symmetric key technique, such as keyed-hash message authentication code (HMAC) , may be employed, whereby a symmetric key is shared between the server and the merchant server so that the server may verify that the transaction 
<!-- EPO <DP n="6"/>-->
identifier has originated from the correct merchant server and has not been tampered with. In this way, the server may be sure of the integrity of the merchant identifier and the transaction amount. All subsequent communication between the merchant server and the server may also have similar encryption and/or integrity controls applied so that the data cannot be tampered with. </p><p id="p0021" num="0021">The transaction identifier may be transmitted to the first terminal for display on a browser of the first terminal in a graphical form, for example a QR code. The consumer may then scan the transaction identifier using a transaction provider's app on a mobile terminal, such that the app may make use of the transaction identifier and the associated transaction information to carry out the transaction. Thus, the consumer does not need to enter any account details into the merchant's website, which saves time, or store any details on the first terminal or on a merchant server, as all of the relevant details are securely stored by the transaction provider. </p><p id="p0022" num="0022">Furthermore, by saving the merchant ID and basket amount on the database using integrity controls to limit what entities can create and save the information, the consumer may receive confirmation after scanning the graphical </p><p id="p0023" num="0023">representation of the transaction identifier of the merchant that they will be paying and the amount that they will be paying to the merchant before the transaction takes place. Because the merchant ID reliably identifies a particular merchant registered for that merchant ID, the consumer may confirm the payee and transaction amount prior to </p><p id="p0024" num="0024">authorising the transaction, thus providing two-factor 
<!-- EPO <DP n="7"/>-->
consumer verification. This improves security by ensuring that they will not accidently pay a third party who is imitating the merchant using, for example, a phishing website . </p><p id="p0025" num="0025">The transaction information stored in the database may also include an attribute query, for example what delivery address should be used for the product and/or what the age of the consumer is. That attribute query may be </p><p id="p0026" num="0026">communicated to the app during the transaction so that the consumer can answer the query and update the transaction information on the database accordingly, either by inputting the required data themselves, or indicating that attribute information that they have registered with the transaction provider, or any other external source may be used. The server may then generate an attribute token for transmitting to the merchant, which may comprise both the requested attribute and an indicator of how reliable the attribute is (i.e. if it has been input by the consumer, in which case its reliability may be doubtful, or if it has been </p><p id="p0027" num="0027">registered with and verified by the transaction provider, in which case it may be trustworthy) . This process both saves the consumer time since they do not have to enter their attribute details for each new transaction, or for each new merchant they are purchasing from, improves security for consumers as they will not need to save their attribute details to their electronic devices and improves the </p><p id="p0028" num="0028">reliability of attribute information for merchants. In response to the attribute token, the merchant may return an update to the transaction information, for example a delivery cost calculated on the basis of the delivery 
<!-- EPO <DP n="8"/>-->
address, so that the transaction information may be updated and the consumer notified via the transaction provider's app before the transaction takes place. In a second aspect of the present disclosure, there is provided a transaction processing server for use in the purchase of a product from a merchant by a consumer using an electronic device, the transaction processing server being configured: receive from an application on the electronic device a transaction identifier; obtain from a database merchant information and a transaction amount from </p><p id="p0029" num="0029">transaction information associated with the transaction identifier on the database; and transmit the transaction amount and merchant information to the application on the electronic device. </p><p id="p0030" num="0030">Communication between the application and the transaction processing server may take place via a secure connection, such as SSL, to ensure that the communication cannot be tampered with by third parties. </p><p id="p0031" num="0031">By transmitting the transaction amount and merchant </p><p id="p0032" num="0032">information to the application, the consumer using the application may verify that the transaction will be to the correct merchant and for the correct amount before the transaction takes place, which, as explained above, improves security . </p><p id="p0033" num="0033">The transaction processing server may also transmit to the application any attribute queries that there are in the transaction information and process the attribute </p><p id="p0034" num="0034">information returned from the application. 
<!-- EPO <DP n="9"/>-->
Upon instruction from the application, the transaction processing server can execute the transaction between the consumer and merchant on the basis of the transaction information stored in the database, for example by </p><p id="p0035" num="0035">communicating with the relevant financial accounts and payment schemes. The source of funds registered with the transaction provider by the consumer and the merchant account registered with the transaction provider by the merchant may be used in the transaction. In this way, the transaction may be executed without the consumer needing to share their financial details with the merchant, or any other external parties, which improves security. </p><p id="p0036" num="0036">Furthermore, they do not need to transmit their security details to execute the transaction, again improving </p><p id="p0037" num="0037">security . </p><p id="p0038" num="0038">In a third aspect of the present disclosure there is provided a system comprising the server and the transaction processing server. </p><p id="p0039" num="0039">In a fourth aspect of the present disclosure, there is provided an application for operation on an electronic device, wherein the application is suitable for use by a consumer purchasing a product from a merchant, wherein the application comprises logic configured to: receive a transaction identifier, wherein the transaction identifier is associated on a database with transaction information, the transaction information comprising a merchant </p><p id="p0040" num="0040">identifier, which is associated with merchant information, and a transaction amount; transmit the transaction </p><p id="p0041" num="0041">identifier; receive the merchant information and the 
<!-- EPO <DP n="10"/>-->
transaction amount in response to the transmitted transaction identifier; and complete the transaction on the basis of the merchant information and the transaction amount . </p><p id="p0042" num="0042">For the reasons explained above, use of this application will not only improve a consumer's shopping experience by eliminating the need to input payment details and personal information, but it also improves the security of the transaction. </p><p id="p0043" num="0043">In a fifth aspect of the present disclosure, there is provided a method for purchasing a product from a merchant by a consumer using an electronic device, the method </p><p id="p0044" num="0044">comprising the steps of: storing in a database an </p><p id="p0045" num="0045">association between a transaction identifier and transaction information, the transaction information comprising a merchant identifier, which is associated with merchant information, and a transaction amount; providing the </p><p id="p0046" num="0046">transaction identifier to an application on an electronic device ; transmitting the transaction identifier from the application to a transaction processing server; transmitting the merchant information and the transaction amount </p><p id="p0047" num="0047">associated with the transaction identifier from the </p><p id="p0048" num="0048">transaction processing server to the application; and completing the transaction using the application on the basis of the transaction information on the database. </p><p id="p0049" num="0049">Again, as explained above, carrying out this method not only improves a consumer's shopping experience by eliminating the need to input payment details and personal information, but it also improves the security of the transaction. 
<!-- EPO <DP n="11"/>-->
Brief description of the drawings </p><p id="p0050" num="0050">An apparatus and method of the present disclosure is </p><p id="p0051" num="0051">described, by way of example only, with reference to the following drawings in which: </p><p id="p0052" num="0052"> Figure 1 shows a system comprising a terminal, a mobile terminal, a merchant server and a transaction server; </p><p id="p0053" num="0053">Figure 2 shows a sequence diagram for the system shown in Figure 1 when the consumer is purchasing a product from the merchant ; </p><p id="p0054" num="0054"> Figure 3 shows a display on the terminal of Figure 1 when the consumer is purchasing a product from the merchant; </p><p id="p0055" num="0055">Figure 4 shows a sequence diagram for the system shown in Figure 1 for the submission of attribute information from the consumer when the consumer is purchasing a product from the merchant; and </p><p id="p0056" num="0056"> Figure 5 shows a confirmation of transaction sequence diagram for. </p><p id="p0057" num="0057">Figure 6 shows a sequence diagram for the system of Figure 1 when the consumer is purchasing a product from the merchant. </p><p id="p0058" num="0058">Detailed description Figure 1 shows a system 100 comprising a terminal 110, a mobile terminal 120, a merchant server 130, a transaction server 140 and a communications gateway 150. The first terminal 110, which may be, for example, a static terminal such as a desktop computer, or a mobile terminal such as a tablet computer, comprises a browser 112, which is in communication with the merchant server 130. The mobile terminal 120, which may be, for example, a tablet computer 
<!-- EPO <DP n="12"/>-->
or a smart phone, comprises a transaction application 122, referred to from hereon as an ' app ' . The browser 112 is capable of displaying a QR code 114 on a display means of the terminal 110, wherein the QR code 114 may be scanned by the app 122 using an imaging device on the mobile terminal 120. </p><p id="p0059" num="0059">The server 140 comprises a transaction provider node 142, which is in communication with the browser 112, and a database 144, which is in communication with the app 122 via communications gateway 150. </p><p id="p0060" num="0060">Figure 2 shows a sequence diagram representing the data flow that may take place as part of a transaction between a consumer using the terminal 110 and the mobile terminal 120 to buy a product from the merchant using the transaction service provided by the transaction provider. The term 'product' as used throughout this disclosure encompasses both goods and services (e.g. financial products) . </p><p id="p0061" num="0061">The consumer may use the browser 112 to browse for a product or products on the merchant's website. When the consumer decides to purchase the product (s), they may put the </p><p id="p0062" num="0062">product (s) in their 'shopping basket' and enter the checkout process in data transfer 205 between the browser 112 and the merchant server 130. </p><p id="p0063" num="0063">If the product will ultimately require delivery to the consumer and the merchant offers the consumer </p><p id="p0064" num="0064">straightforward delivery options, for example expedited delivery or standard delivery, this may also be selected by the consumer when entering the checkout process, and the 
<!-- EPO <DP n="13"/>-->
delivery information, for example cost and type of delivery and expected delivery date etc, may also be included in data transfer 205. After data transfer 205, the merchant server 130 will be aware that a consumer wishes to purchase a particular product (s) and, if applicable, the details of the delivery type chosen by the consumer. The merchant server 130 may then request from the transaction provider their merchant ID, for example using a transaction provider API. Such an API may be provided to each merchant when signing up to the transaction service. The use of this API allows merchants to be set up without requiring extensive changes to their online stores and web sites. The merchant ID is a unique code that is assigned to the merchant by the transaction provider. The merchant ID may be assigned to the merchant when the merchant signs up to the transaction provider's service, at which time all of the merchant's details, for example the merchant name and payment details, may be verified by the transaction provider so that the merchant details associated with the merchant ID are reliable. </p><p id="p0065" num="0065">In this way, whenever the merchant ID is used during a transaction (as explained further below) , for example to identify to whom a payment for a product (s) should be made, the correct merchant is indentified. </p><p id="p0066" num="0066">The merchant server 130 may also generate a tracking </p><p id="p0067" num="0067">reference, which is a unique code that may subsequently be used by the merchant and consumer to identify the </p><p id="p0068" num="0068">transaction . 
<!-- EPO <DP n="14"/>-->
Having entered the checkout process, the consumer may use data transfer 210 to indicate to the merchant server 130 that they would like to complete the transaction with the QR code transaction process offered by the transaction </p><p id="p0069" num="0069">provider. This step may be carried out by selecting an option displayed on the merchant's checkout page on the browser 112. </p><p id="p0070" num="0070">Having been informed that the consumer would like to use the transaction provider's service, the merchant server 130 transmits the transaction information, comprising the merchant ID, the tracking reference and a basket amount, which indicates the total costs of all of the products in the consumer's basket, to the transaction provider node 142. The transaction information may also comprise any other relevant information, for example any delivery information and/or delivery costs that the consumer may already have selected and a product description and/or product photograph for each product in the basket. This data transfer may take place via the browser 112, as shown in Figure 2 as data transfer 215, so that server-to-server communication between the merchant server 130 and the transaction provider node 142 does not need to be set up. So that the transaction provider node 142 may verify who the data transfer 215 has come from, and that the data has not been tampered with, encryption or other integrity controls may be applied. For example, a symmetric key technique, such as keyed-hash message authentication code (HMAC) , may be employed, whereby a symmetric key is shared between the merchant and the transaction provider when the merchant initially registers with the transaction provider. The 
<!-- EPO <DP n="15"/>-->
merchant server 130 may then apply the symmetric key to the transaction information to be transferred in data transfer 215 and transmit the MAC alongside the transaction </p><p id="p0071" num="0071">information in data transfer 215. Upon receipt of data transfer 215, the transaction provider node 142 may use the merchant ID to retrieve the symmetric key associated with that merchant, for example from a hardware protected key stored (HSM) where the symmetric key may be stored and associated with the merchant ID, and use the symmetric key and MAC to verify the transaction information. </p><p id="p0072" num="0072">The symmetric key issued to the merchant may be stored by the merchant using software, or more preferably it may be stored in a hardware protected key store (HSM) for </p><p id="p0073" num="0073">additional security. For some merchants, particularly larger merchants, the transaction provider may mandate that an HSM is used. </p><p id="p0074" num="0074">If the verification process identifies unreliable </p><p id="p0075" num="0075">transaction information, for example from an HMAC </p><p id="p0076" num="0076">verification error or an incorrect decryption of encrypted data, which might be caused by data tampering during data transfer 215, or data transfer 215 having originated from the wrong party, the transaction provider node 142 will not carry out any further steps in the process. An error message may be returned to the browser 112 to indicate that the transaction provider's service could not be provided on this occasion, which may also notify the consumer that there is a security issue related to the merchant website that they are using. 
<!-- EPO <DP n="16"/>-->
If, however, data transfer 215 is verified (i.e. the data has not been tampered with and has come from the correct sender) , the transaction provider node 142 will generate a transaction identifier, for example a nonce, that is then transmitted to the database 144 with the transaction </p><p id="p0077" num="0077">information in data transfer 216 and linked to the </p><p id="p0078" num="0078">transaction information on the database 144. For each transaction, there will be a single unique transaction identifier such that each transaction identifier references a particular transaction. </p><p id="p0079" num="0079">The transaction provider node 142 then transmits the </p><p id="p0080" num="0080">transaction identifier to the browser 112 in data transfer 220 so that the browser may display a QR code 114 </p><p id="p0081" num="0081">representing the transaction identifier to the consumer. </p><p id="p0082" num="0082">Figure 3 shows an example of a browser display after the browser 112 has generated and displayed the QR code 114. Alongside the QR code 114, a basket description 310, which details the contents of the basket as earlier selected by the consumer using the browser 112, a basket amount 320, which shows the cost of the products selected by the </p><p id="p0083" num="0083">consumer using the browser 112, and any available delivery details if the consumer selected a particular delivery option using the browser 112 upon 'check-out' of the basket, for example delivery costs and type. </p><p id="p0084" num="0084">The consumer may then use the app 122 on the mobile device 120 to scan the QR code 114 and extract the transaction identifier, thus transferring the transaction identifier from the browser 112 to the app 122 in data transfer 225. 
<!-- EPO <DP n="17"/>-->
So that the consumer may confirm the details of the </p><p id="p0085" num="0085">transaction using the app 122, the app 122 transmits the transaction identifier to the communications gateway 150 in data transfer 230. The communications gateway 150 then uses the transaction identifier in data transfer 235 to retrieve from the database 144 all of the relevant transaction information associated with the transaction code. The database 144 returns the relevant transaction information to the communications gateway 150 in data transfer 240 for forwarding on to the app 122 in data transfer 245. In particular, the merchant name and basket amount associated with the transaction code are retrieved, along with any other relevant information, such as the tracking reference, any delivery information and product description ( s ) and/or product photograph ( s ) that may be available. </p><p id="p0086" num="0086">The received transaction information is displayed to the consumer by the app 122. In particular, the name of the merchant and the basket amount are displayed to the consumer so that the consumer may confirm that the merchant name is correct before completing the transaction. Furthermore, the tracking reference, as well as any delivery information and product description ( s ) and/or product photographs ( s ) that may be available may also be displayed so that these may also be confirmed by the consumer before completing the transaction . </p><p id="p0087" num="0087">In order to complete the transaction, the consumer may select a 'confirm' button on the app 122, which transmits an instruction from the app 122 to the communications gateway 150 in data transfer 250 so that the communications gateway may execute the transaction. The transaction may be 
<!-- EPO <DP n="18"/>-->
executed for example using a Faster Payments Service </p><p id="p0088" num="0088">transfer or any other payment mechanism, from a source of funds of the consumer, for example a bank account, credit card or payment wallet that the consumer linked to the app 122 when registering the app 122 with the transaction provider, to an account that the merchant specified when registering for the transaction service, wherein the </p><p id="p0089" num="0089">merchant to be paid and the amount to be paid is obtained by the communications gateway 150 from the database 144 using the transaction identifier included in the transaction instruction. The communications gateway may have the capability to execute the transaction itself using that information, or to instruct a financial institution to do so, and so may alternatively be described as a transaction processing server. </p><p id="p0090" num="0090">The communications gateway 150 will update the database 144 with a record of the payment status for each transaction identifier, for example payment instructed, payment </p><p id="p0091" num="0091">completed successfully etc, so that the progress of the payment can be monitored. </p><p id="p0092" num="0092">Use of this transaction service means that the consumer can save time because they do not need to spend time entering their payment details into the terminal 110 in order to execute the transaction. It also improves security for the consumer because their payment details are not being </p><p id="p0093" num="0093">transferred to a merchant, where the security of the payment details may be compromised either in transfer or whilst with the merchant. 
<!-- EPO <DP n="19"/>-->
In order to save time whilst using a normal transaction process, some consumers may choose to save their payment details either on the terminal 110, on their mobile device 120 or on the merchant server 130. However, this means that the payment details may be stored and used at multiple locations, some of which may not be very secure. With the transaction service of the present disclosure, the consumer payment details linked to the app 122 by the consumer when registering the app may be stored in a single, secure location. Because the communications gateway 150 may itself execute the transaction for the transaction provider, there may be an improvement in security both in storage of payment details and in the transferring of payment details. It also means that payment details are not shared with the merchant, which again improves security for the consumer and reduces the data security burden placed on the merchant. </p><p id="p0094" num="0094">Furthermore, by executing the above described steps, the consumer can be sure with whom they are dealing in the transaction and, therefore, who will ultimately receive their money, which introduces two factor authentication control for the consumer. For example, if they are shopping on a 3<sup>rd</sup> party's website which is imitating a particular merchant, the merchant ID retrieved by the 3<sup>rd</sup> party website during the transaction steps will be the merchant ID linked to the 3<sup>rd</sup> party, not the merchant ID for the imitated merchant because each merchant can only use their own API to retrieve the merchant ID that is verified as being </p><p id="p0095" num="0095">associated to them. Consequently, the merchant ID </p><p id="p0096" num="0096">associated with the transaction identifier on the database 144 will be the merchant ID for the 3<sup>rd</sup> party. Thus, when the app 122 transmits the transaction identifier to the 
<!-- EPO <DP n="20"/>-->
communications gateway 150 in data transfer 230, the </p><p id="p0097" num="0097">communications gateway 150 will return the name associated to the 3<sup>rd</sup> party merchant ID, rather than the name of the imitated merchant. The name of the 3<sup>rd</sup> party will be displayed to the consumer before they complete the </p><p id="p0098" num="0098">transaction so that the consumer may cancel the transaction before any money or personal data is transmitted to the 3<sup>rd</sup> party . Even if a 3<sup>rd</sup> party were able to obtain a merchant ID associated with a different merchant, only the merchant name for the merchant ID sorted in the database 144 will be displayed to the consumer and used for the transfer of money. Thus, if a fraudulent 3<sup>rd</sup> party submits a different merchant's ID to the database 144 in order to imitate that different merchant, the different merchant's name will be displayed on the app 122 and any transferred money will go to the account linked by the different merchant to their merchant ID. Thus, the fraudulent 3<sup>rd</sup> party will not receive any money from the consumer. </p><p id="p0099" num="0099">Also, if the merchant were to increase the basket amount without notifying the consumer and include the increased amount in data transmission 215 in order to have that increased amount in the transaction information ultimately used for the transaction this will again be identified by the consumer before confirming the transaction. The </p><p id="p0100" num="0100">increased basket amount will form part of the transaction information returned to the app 122 in data transfer 245 so the consumer will see the increased amount and may cancel the transaction before any money has been transferred. 
<!-- EPO <DP n="21"/>-->
Furthermore, if a fraudulent 3<sup>rd</sup> party, or indeed the consumer themselves, were to try to set a lower basket amount by intercepting data transmission 215 and changing the transaction information, the encryption or other </p><p id="p0101" num="0101">integrity controls applied to data transmission 215 will prevent them from successfully doing so. </p><p id="p0102" num="0102">Furthermore, because the data transfers between the app 122 and the communications gateway 150 may be secured, for example using SLL, a 3<sup>rd</sup> party may not be able to intercept any of data transfer 230, 245 or 250 and alter the </p><p id="p0103" num="0103">transaction identifier in order to execute a different transaction from which they may benefit. Alternatively, or additionally, the app 122 and the communications gateway 150 may implement message integrity controls in order to protect their communication, and the communications gateway 150 may also ensure that only legitimately registered apps may interact with the transaction server and maintain </p><p id="p0104" num="0104">authentication lockout counts against the app 122. </p><p id="p0105" num="0105">For some products, the merchant may require that personal attributes of the consumer are submitted before the </p><p id="p0106" num="0106">transaction can be completed. In such cases, the merchant may indicate the personal attributes that they require at the same time as transmitting transaction information in data transfer 215 by including an attribute query. For example, for products that must be delivered to the </p><p id="p0107" num="0107">consumer, the attribute query may be for a delivery address. The attribute query may include a policy decision specifying a requirement that each attribute submitted by the consumer must meet before the transaction is allowed to take place, for example a particular age range that the consumer must 
<!-- EPO <DP n="22"/>-->
fall within or a particular area, such as the UK, that the delivery address must be within, and/or the attribute query may include a requirement that submission of the attribute by the consumer is compulsory or merely optional. </p><p id="p0108" num="0108">Where the merchant has submitted an attribute query, before completing the transaction with data transfer 250, the consumer may be asked to submit attribute information, for example a delivery address, and potentially also confirm that they are happy to share the information with the merchant . </p><p id="p0109" num="0109">Figure 4 shows an example sequence diagram that may take place between data transfers 245 and 250. Included in the transaction information retrieved from the database 144 in data transfer 240 and forwarded to the app 122 in data transfer 245 may be any outstanding attribute queries stored in the transaction information on the database 144. Upon receipt of an attribute query, the app 122 will prompt the consumer to submit the necessary information. </p><p id="p0110" num="0110">If the attribute query submitted by the merchant allows it, the consumer may be given the option by the app 122 to enter the required information, for example delivery address, date of birth/age or email address, into the app (or have the app 'auto-complete' the required information from information saved to the app 122 or device 120, which might require the consumer to select a particular address, for example, from a selection of addresses they have saved) , or to use the information that the user registered with the transaction provider when setting up the app 122, or to use information that may be obtained from an external source, such as a 
<!-- EPO <DP n="23"/>-->
credit rating agency. Because the information from an external source may have been verified by that external source (for example, using KYCS/AML/Longevity etc) , or the information that the user registered with the transaction provider when installing and setting up the app 122 may have been verified by the transaction provider (again using, for example, KYC/AML/Longevity etc) and therefore be more reliable, the merchant may specify as a policy decision in the attribute query that only the information registered with the transaction provider may satisfy the attribute query. In this case, the app 122 will allow the consumer only the option of confirming that they are happy to use the information registered with the transaction provider, or cancel the transaction. </p><p id="p0111" num="0111">The attribute information registered by the consumer with the transaction provider may also be included in data transmission 245 so that the consumer may review the </p><p id="p0112" num="0112">registered attribute information before confirming that it should be used. For example, the registered delivery address may the transmitted, or a request for confirmation that the registered details are correct, such as Our records say that you are over 18, please confirm Yes or No' etc. If allowable according to any merchant policy </p><p id="p0113" num="0113">decisions, the consumer may be given the option of editing registered attribute information and then subsequently use the edited attribute information for the transaction. They may also have the opportunity to indicate that the edited attribute information should replace the attribute </p><p id="p0114" num="0114">information registered with the transaction provider. 
<!-- EPO <DP n="24"/>-->
Furthermore, where there are alternative attributes </p><p id="p0115" num="0115">registered with the transaction provider (for example, different delivery addresses for work and home) data </p><p id="p0116" num="0116">transmission 245 may include all of the alternative </p><p id="p0117" num="0117">attributes registered so that the consumer may select which of them should be used for this transaction. </p><p id="p0118" num="0118">In data transfer 405 from the app 122 to the communications gateway 150, the consumer transmits either the required attribute information or a confirmation that the required attribute information registered with the transaction provider is to be used. If necessary the communications gateway 150 will then retrieve from the transaction provider the registered attribute information associated with the app 122, which may be kept, for example, in the communications gateway 150, or the database 142, or at some other location. The attribute information may then be added to the </p><p id="p0119" num="0119">transaction information on the database 144 in data transfer 410. </p><p id="p0120" num="0120">If all of the attribute queries may be resolved and the submitted attributes meet any policy decisions earlier submitted by the merchant server 130, the transaction information may be updated, for example by the database 144 or the communications gateway, to indicate that the </p><p id="p0121" num="0121">transaction is allowed to take place. </p><p id="p0122" num="0122">Where the merchant would like to review the submitted attribute information before allowing the transaction to take place, for example in order to calculate delivery charges based on the submitted delivery address, or ensure the consumer meets the merchant's age requirement, or to 
<!-- EPO <DP n="25"/>-->
apply a discount for consumers falling within a particular age range, such as pensioners, the browser 112 may conduct regular polling, i.e. a pull request, of the transaction provider node 142. </p><p id="p0123" num="0123">Data transfer 415 shows a polling of the transaction </p><p id="p0124" num="0124">provider node 142, where a polling request citing the transaction identifier and the attribute information </p><p id="p0125" num="0125">required is sent to the transaction provider node 142. In response to the polling, the transaction provider node 142 may request the required attribute information from the database 144 in data transfer 416 and then receive the requested information in data transfer 417 if the requested information has been added to the transaction information on the database 144, for example if the consumer has added their delivery address to the database 144 in earlier data transfers 405 and 410. Having received the requested attribute information, the transaction provider node 142 will generate an attribute confirmation token and send it to the merchant server 130 via the browser 112 in data </p><p id="p0126" num="0126">transmission 420. The attribute confirmation token may also include an indication of how trustworthy the attribute information is, for example if it is from a verified source, such as the information that the consumer registered with the transaction provider, or an external source such as a credit rating agency, it may be marked as very trustworthy. However, if the consumer has just submitted the attribute information themselves, it may be marked as potentially untrustworthy. This allows the merchant server 130 to make policy decisions regarding whether or not to go ahead on the basis of how trustworthy the information is. 
<!-- EPO <DP n="26"/>-->
Having received the requested attribute information, the merchant server 130 will return the relevant transaction information update to the transaction provider node 142 via the browser 112 in data transfer 425. For example, the information update may be a delivery charge calculated based on the delivery address and any other factors determined by the merchant, for example if the consumer is a member of a VIP delivery service etc, or a basket discount based on the consumer's age, or a confirmation that transaction is allowed to proceed on the basis of the consumer attribute information, which will result in the transaction </p><p id="p0127" num="0127">information being marked to indicate that the transaction is allowed to take place.. The transaction provider node 142 will send the information update to the database 144 in data transfer 426 so that it can be included in the transaction information . </p><p id="p0128" num="0128">Like data transmission 215, data transmissions 420 and 425 may be encrypted or have other integrity controls applied. </p><p id="p0129" num="0129">After the app 122 has transmitted the attribute information to the database 144 in data transmission 405, it too may poll the database 144, i.e. make a pull request, for any subsequent changes in the transaction information. Data transfer 430 shows a polling of the communications gateway 150, in response to which the communications gateway will request any updates in transaction information from the database 144 in data transmission 435. The current </p><p id="p0130" num="0130">transaction information will be returned to the </p><p id="p0131" num="0131">communications gateway 150 in data transfer 440 for </p><p id="p0132" num="0132">forwarding on to the app 122 in data transfer 445. 
<!-- EPO <DP n="27"/>-->
The app may then update the information it displays to the consumer to reflect the current transaction information, for example so that the amount payable to the merchant includes the delivery cost. In this way, the consumer will be aware of the total amount that will be paid to the merchant before instructing completion of the transaction in data transfer 240. </p><p id="p0133" num="0133">Polling by the app 122 may continue until the returned transaction information indicates that the transaction is now allowable, at which time the app 122 will offer the consumer the opportunity to confirm that the transaction should take place. The above transaction process may be configured to enable the use of coupons or discounts applied by the consumer and/or the merchant. In one example, the merchant may release a set of coupons or discounts which the consumer may obtain and submit to the transaction provider for keeping in their account with the transaction provider. After </p><p id="p0134" num="0134">receiving data transfer 405, at the same time as obtaining from the transaction provider any relevant attribute data registered by the consumer, the communications gateway 150 may also obtain any coupons and/or discounts issued by the merchant that the consumer has saved in their transaction provider account. Those coupons and/or discounts are then sent to the database 144 in data transfer 410 and the transaction information in the database 144 is updated accordingly, for example to apply a 10% discount to the basket amount, or apply a fixed amount reduction from the basket . 
<!-- EPO <DP n="28"/>-->
Alternatively, the merchant may include an attribute query for coupons and/or discounts in data transfer 215, so that after receiving data transfer 245, the app 122 may prompt the consumer to enter any coupons and/or discounts that they may have. Any entered coupons and/or discounts may then be included in data transfer 405 and applied to the transaction information on the database 144. </p><p id="p0135" num="0135">The consumer may be notified of any changes made as a consequence of a coupon and/or discount in data transfer</p><p id="p0136" num="0136">445, which updates the app 122 with the current transaction information held on the database 144. The merchant may be notified of any changes made as a consequence of a coupon and/or discount by polling the transaction provider node 142 with a request for the information, in an analogous manner to the merchant polling process for attribute information described above. Alternatively, the merchant may be </p><p id="p0137" num="0137">notified only in the transaction confirmation that they receive after a transaction has taken place successfully (which is explained in more detail below) . </p><p id="p0138" num="0138">Coupons and/or discounts may be applied by the merchant, for example where the merchant offers a discount to the consumer for using the transaction provider's service to carry out the transaction, or for special offers such as a discount for their 1000<sup>th</sup> customer etc. Such coupons and/or </p><p id="p0139" num="0139">discounts may be included in data transfer 215, such that the consumer will be notified of the discount and/or coupon applied when the app 122 receives data transfer 245. </p><p id="p0140" num="0140">Alternatively, or additionally, the merchant may apply coupons and/or discounts to the transaction information later during the process, for example after receiving 
<!-- EPO <DP n="29"/>-->
attribute information in data transfer 420, a </p><p id="p0141" num="0141">discount /coupon may be applied in data transfer 425. If they are applied at that time, the consumer may be notified of them in data transfer 445, which updates the app 122 with the current transaction information held on the database 144. </p><p id="p0142" num="0142">The above transaction process may also be configured to make use of merchant and/or consumer reputational information, which might be a score out of 10 and/or a review of the merchant /consumer and/or a credit score of the </p><p id="p0143" num="0143">merchant /consumer . Reputational information may be, for example, crowd sourced from parties who previously had dealings with a consumer or merchant and have submitted a rating for them, or from outside sources such as credit ratings agencies. </p><p id="p0144" num="0144">A merchant rating may be held by the transaction provider node 142 for each merchant registered with them. The merchant rating may come from reviews and ratings submitted by previous consumers using the transaction service for a transaction with that merchant, in which case the </p><p id="p0145" num="0145">transaction provider node 142 may look up their merchant rating for the merchant ID sent to them in data transfer 215. Alternatively, after receiving data transfer 215, the transaction provider node 142 may obtain the merchant rating from an external source, for example a credit ratings agency or another service provider who has a rating for the </p><p id="p0146" num="0146">merchant. The merchant rating may then be included in the transaction information in data transfer 216 so that the transaction information sent to the app 122 in data transfer 245 may include the merchant rating, thus allowing the 
<!-- EPO <DP n="30"/>-->
consumer to consider the merchant rating before confirming the transaction. </p><p id="p0147" num="0147">A consumer rating may similarly be held by the transaction provider node 142 for each app 122 registered with them, or it may be obtained from an external source. Again, the consumer rating might be a score out of 10 and/or a review of the consumer and/or a credit score of the consumer. The merchant may include in data transfer 215 an attribute query for a consumer rating and then set up a polling request for the consumer rating as part of the attribute information polling 415 and thus receive the rating in data transfer 420. The merchant server 130 may then make a decision whether or not the transaction should be allowed to take place, which may be included in data transfer 425 and recorded on the transaction information on the database 144. Alternatively, the attribute query may include a policy decision requiring a minimum consumer rating that must be achieved for the transaction to be allowed to take place. In this case, the merchant server 130 may not need to undertake polling for the consumer rating as the database 144 may automatically update, or be updated by the </p><p id="p0148" num="0148">transaction provider node 142 or the communications channel 150, to indicate whether or not the transaction should be allowed to take place on the basis of the consumer rating received in data transfer 410. </p><p id="p0149" num="0149">Alternatively, the polling request 415 may ask the </p><p id="p0150" num="0150">transaction provider node 142 for a consumer rating, which the transaction provider node 142 may obtain from the transaction provider's records or from an external source by 
<!-- EPO <DP n="31"/>-->
the communications gateway 150, add to the transaction information on the database 144 and return to the consumer server 130 in data transfer 420. The polling request 415 may also include a policy decision, in which case the merchant server 130 may not need the consumer rating to be returned, but instead trust that the transaction provider node 142 will indicate in the transaction information on the database 144 whether or not the transaction is allowed to take place on the basis of the consumer rating it obtains. </p><p id="p0151" num="0151">Once the transaction has been confirmed by the app 122 in data transfer 250, confirmation of a successfully executed transaction may be sent to the browser 112 and the merchant server 130 so that both parties may have a receipt of the transfer and so that the merchant may perform any further required acts, for example delivery of the product to the consumer . </p><p id="p0152" num="0152">A process of transaction confirmation is shown in Figure 5, which begins with the communications gateway 150 updating the database 144 in data transfer 505 to record in the transaction information a successful transaction. </p><p id="p0153" num="0153">The merchant may obtain confirmation by instructing the browser 112 to poll the transaction provider node 142 in data transfer 510 for confirmation of a successful </p><p id="p0154" num="0154">transaction. In response to a polling request, the </p><p id="p0155" num="0155">transaction provider node 142 may use the transaction identifier to check the current payment status on the database 144 in data transfer 515. If the current payment status indicates that the transaction has been completed successfully, the transaction provider node 142 will have 
<!-- EPO <DP n="32"/>-->
returned to it in data transfer 520 a confirmation of successful transaction, which might include any relevant transaction information, for example what the transaction amount was, the tracking reference for the order, the time and date of payment and some attribute information, such as a delivery address. Using this information, the transaction provider node 142 may generate a payment confirmation token and send return that to the merchant server 130 via the browser 112 in data transfer 525. At the same time, the transaction provider node 142 may update the database 144 to record in the transaction information that the payment confirmation token has been sent to the browser 112. </p><p id="p0156" num="0156">If the transaction has not yet been marked on the database 142 as having taken place successfully, the transaction provider node 142 may return to the merchant server 130 an indication that there is no record of a successful </p><p id="p0157" num="0157">transaction yet so that polling should continue. The transaction provider node 142 may apply a digital signature and encryption or other integrity controls to the payment confirmation token so that the merchant server 130 can confirm who the payment confirmation token was issued by and that the payment confirmation token has not been </p><p id="p0158" num="0158">tampered with. As explained above, any keys that are issued to the merchant server 130 and transaction provider node 142 for such purposes may be stored using software, or more preferably in a hardware protected key store (HSM) for additional security. </p><p id="p0159" num="0159">Having received the payment confirmation token, the merchant server 130 may use the transaction provider API that they 
<!-- EPO <DP n="33"/>-->
were provided with when signing up to the transaction service to obtain the functions and orchestration that they require to carry out authentication and/or decryption. </p><p id="p0160" num="0160">Having obtained and verified and/or decrypted the payment confirmation token, the merchant server 130 will be aware that the transaction has taken place successfully and can check that the transaction amount confirmed in the token is the amount that they requested. The merchant may also go about fulfilling the product order, for example by </p><p id="p0161" num="0161">dispatching the product (s) to the consumer's delivery address, and may issue a receipt of purchase to the </p><p id="p0162" num="0162">consumer, for example by post or to an email address of the consumer also included in the payment confirmation token as part of the attribute information held on the database 144. </p><p id="p0163" num="0163">Furthermore, the merchant server 130 may also update the browser 112 to confirm to the consumer that the transaction has taken place successfully and present the consumer with any relevant information, for example the tracking reference for the order, a confirmation of the transaction amount and an estimated delivery period. </p><p id="p0164" num="0164">The merchant server 130 may also generate an acknowledgement of receipt of the payment confirmation token and transmit that to the transaction provider node 142 via the browser 112 in data transfer 530. In this way, the transaction provider node 142 can be sure that the merchant server 130 has safely received and processed the payment confirmation token and thus update the transaction information in data transfer 535 to the database 144 to mark that the </p><p id="p0165" num="0165">interaction has been completed. Furthermore, the </p><p id="p0166" num="0166">transaction provider node 142 may also issue a confirmation 
<!-- EPO <DP n="34"/>-->
of successful transaction to the mobile terminal 110 after receipt of the acknowledgement. The confirmation may be, for example, a text message, an email or a voice message. The app 122 may also poll the communications gateway 150 in data transfer 540 to request an update on the transaction status. The communications gateway 150 may check the transaction status recorded in the transaction information in the database 144 in data transfer 545 and return the transaction status and any other relevant information in data transfer 550. The app 122 may then have returned to it in data transfer 555 an indication of the transaction status. If the transaction status marks the transaction as successful, the app 122 will be able to display to the consumer a confirmation of successful transaction, with any other relevant returned information, for example the </p><p id="p0167" num="0167">tracking reference and the amount of money transferred. If the transaction status marks the transaction as not yet having taken place, data transfer 555 will notify the app 122 accordingly so that it may continue to poll the </p><p id="p0168" num="0168">communications gateway 150 until it receives a confirmation of successful transaction. </p><p id="p0169" num="0169">By always referring to the transaction status on the </p><p id="p0170" num="0170">database 144 in these checking steps, if any communications between the transaction provider node 142, the browser 112 and the merchant server 130, and also between the app 122 and the communications gateway 150, should fail, the </p><p id="p0171" num="0171">confirmation process may be repeated until successful without initiating a second, duplicate transaction. For example, if the transaction provider node 142 issues a payment confirmation token to the merchant server in data 
<!-- EPO <DP n="35"/>-->
transfer 525, it may then wait for an acknowledgement of receipt and reissue the payment confirmation token to the merchant server 130, for example with a 'push' to the merchant server 130, if no acknowledgement is received. Therefore, any failure in data transfers 525 or 530 can easily be rectified. </p><p id="p0172" num="0172">Furthermore, the checking steps mean that the transaction may be checked by the merchant and the app 122 at any later time, since the transaction status is kept with the </p><p id="p0173" num="0173">transaction information on the database 144 and may be identified at any time using the transaction identifier. Thus, the merchant could check historical transactions at any time and receive confirmation that the transaction was successful, along with any other transaction information that they may desire. </p><p id="p0174" num="0174">Figure 6 shows a complete sequence diagram for a consumer purchasing a product from a merchant using a browser on a first terminal and an app on a mobile terminal, including the confirmation process for the merchant. </p><p id="p0175" num="0175">The skilled person will appreciate that various </p><p id="p0176" num="0176">modifications of the above described aspects are possible without departing from the spirit and scope of the present disclosure . </p><p id="p0177" num="0177">For example, the database 144 may be co-located with the transaction provider node 142 on the server 140, or may be located remotely from the transaction provider node 142 and the server 140. 
<!-- EPO <DP n="36"/>-->
The terminal 110 may be a personal computing device, such as a desktop computer or a mobile computing device such as a tablet computer, or it may be a computing device located in, for example, a merchant's shop. The consumer may then access the merchant's website, or an area in any relevant network location, for example the merchant's intranet page, and enter the checkout process from there. If the product can be collected in the shop and there are no attribute queries from the merchant, the transaction may be allowed to proceed without any submission of personal details from the consumer. Then, having used their mobile terminal 110 to carry out the method described above, the consumer may show their transaction receipt to a member of staff in the shop and collect their purchased product (s). </p><p id="p0178" num="0178">In the above described method, the merchant server 130 obtains the merchant ID after data transfer 205, when the consumer enters the checkout process. Alternatively, the merchant server 130 may obtain the merchant ID after data transfer 210, where the consumer has confirmed their desire to use the transaction provider's service. </p><p id="p0179" num="0179">Furthermore, rather than carrying out data transfer 215 and having the transaction provider node 142 generate a </p><p id="p0180" num="0180">transaction identifier and store the transaction information with the transaction identifier on the database 144, the merchant server 130 may be configured to generate a QR code 114 for display on the browser 112. The QR code 114 may comprise merchant information, the basket amount and the tracking reference, as well as any attribute queries and policy decisions that there may be, so that when the app 122 scans the QR code 114, that information is imported into the 
<!-- EPO <DP n="37"/>-->
app 122. A digital signature may also be included in the QR code 114 and/or the data in the QR code may be encrypted or have other integrity controls applied. For example, a symmetric key technique, such as keyed-hash message </p><p id="p0181" num="0181">authentication code (HMAC) , described above may be employed. </p><p id="p0182" num="0182">Having imported this data by scanning the QR code, the app 122 may transmit all of the data to the communications gateway 150 for verification. The communications gateway 150 may verify the data in the same way as that described above in respect of the transaction provider node 142 verifying data transfer 215 (i.e. the communications gateway 150 will look up the symmetric key etc associated with the merchant ID and verify that the data imported into the app 122 from the QR has come from the correct merchant and has not been tampered with) . Having verified the data, the communications gateway 150 will return the transaction amount and merchant information to the app 122 in data transfer 245, as above. Furthermore, it will also store on the database 142 all of the transaction information included in the QR code and associate it with the tracking reference included in the QR code. Thus, the transaction process and confirmation process may then be executed as described above, but using the tracking reference, rather than the transaction identifier, to look up the transaction </p><p id="p0183" num="0183">information on the database 144. </p><p id="p0184" num="0184">Alternatively, rather than the communications gateway 150 adding the transaction information to the database 142 and associating it with the tracking reference, the merchant server 130 may submit to the database 144 the transaction 
<!-- EPO <DP n="38"/>-->
information that it included in the QR code 114 that it generated . </p><p id="p0185" num="0185">Also alternatively, rather than transmitting the QR code data to the communications gateway 150 for verification, the app 122 may have access and/or hold the necessary tools, for example the symmetric key etc, to carry out decryption and verification of the transaction information in the QR code. If the information is verified, the app 122 may then proceed directly to data transfer 250 and execute the transaction on the basis of the information obtained from the QR code. </p><p id="p0186" num="0186">Rather than using a QR code to represent the transaction identifier, the browser 112 may display the transaction identifier using any form of graphical representation of data that may be scanned using the app 122, for example a barcode, or that may be input to the app 122 by any other means, for example it may be a textual code that is manually input to the app 122 by the consumer. </p><p id="p0187" num="0187">Furthermore, in the above described aspects, there is provided a terminal 110 with a browser 112 and a mobile terminal 120 with an app 122. However, there may be only a single terminal with both a browser 112 and an app 122. The above described process may still operate in the same way, except that rather than transmitting the transaction </p><p id="p0188" num="0188">identifier to the browser 130 in data transfer 220 for display of the transaction identifier in a graphical form on the browser 130, it may be transmitted in data transfer 220 for transmittal by another means, for example via a </p><p id="p0189" num="0189">keystore, shared memory, common file store, a URL or an 'intent', to the app 122 within the single terminal. For 
<!-- EPO <DP n="39"/>-->
example, the transaction reference may be transmitted in data transfer 220 in a URL that prompts the app 122 to start-up with the transaction identifier. After the app 122 has received the transaction identifier, the app 122 and the browser 112 may then carry out the process described above in order to execute and confirm the transaction. </p><p id="p0190" num="0190">Furthermore, in the above described aspects, both the app 122 and the browser 112 perform polling, or pull requests, in order to obtain any required information. The polling may automatically be executed periodically until the </p><p id="p0191" num="0191">required information has been received, or it may be </p><p id="p0192" num="0192">executed when the consumer requests it, for example by pressing a 'check now' button on the app 122 and/or browser 112. </p><p id="p0193" num="0193">Alternatively, or additionally, any information required by the app 122 and the browser 112 may be transmitted by, for example, a push architecture, or by any other means. For example, a push architecture may use websockets between the communications gateway 150 and the app 122, and between the transaction provider node 142 and the browser 112 and/or merchant server 130, and transmit the necessary information as soon as the necessary information has been added to the database 144. </p><p id="p0194" num="0194">In the above disclosure and accompanying drawings, the transaction provider node 142 and the database 144 address each other directly, however, they may transfer data via an intermediary, for example the communications gateway 150. 
<!-- EPO <DP n="40"/>-->
In the above described aspects, the only personal information that the merchant server 130 requests in an attribute query is a delivery address and a date of birth of the consumer. However, any other consumer information that the merchant requires may be requested in an attribute query and then subsequently obtained from the consumer and shared with the merchant . </p><p id="p0195" num="0195">Furthermore, rather than the transaction provider node 142 generating, for example, a nonce, as the transaction </p><p id="p0196" num="0196">identifier, the transaction identifier may instead be anything that may be linked on a database to the transaction information. For example, it may instead be an </p><p id="p0197" num="0197">identification number, such as a customer ID or item number (for example an item number for a lot in an auction) that may be provided to the transaction provider node 142 by the merchant server 130 in data transfer 215. </p><p id="p0198" num="0198">In the above described aspects of the present disclosure, no direct server-to-server communication takes place between the merchant server 130 and the transaction provider node 142. Instead, where data is transfer between the two, it is transferred via the browser 112 (for example data transfer 215). Alternatively, server-to-server communication may be executed between the merchant server 130 and the transaction provider node 142, for example by using a mutual SSL </p><p id="p0199" num="0199">connection between the two, by configuring the merchant server 130 and the transaction provider node 142 </p><p id="p0200" num="0200">accordingly . </p><p id="p0201" num="0201">Furthermore, the above described process may be used for purposes other than for the purchase of a product with a 
<!-- EPO <DP n="41"/>-->
transfer of funds from a consumer to a merchant. It may instead be used, for example, to carry out only an </p><p id="p0202" num="0202">attributes check. In this case, the consumer may use the browser 112 to indicate to the merchant server 130 in data transfer 205 that they would like to do something that requires the merchant to check an attribute of the consumer, for example entering an over 18s gambling website. In data transfer 210 the consumer may indicate to the merchant server 130 that they would like to use the transaction provider's service in order to authenticate their age. The transaction information sent by the merchant server 130 to the transaction provider node 142 will include the merchant ID and an attribute query. Data transfers 220, 225, 230, 235 and 240 may proceed as described above, but data transfer 245 will be different in that the transaction information returned to the app 122 will be a request for the consumer to confirm that they would like to confirm their age using the date of birth they registered with the transaction provider, and also </p><p id="p0203" num="0203">optionally merchant information so that the consumer may confirm that the correct merchant is requesting the </p><p id="p0204" num="0204">information. The consumer can then confirm in data transfer 405 that they are happy to share their registered age/date of birth with the merchant, after which data transfers 505, 510, 515, 520 and 525 may proceed as described above so that the merchant server 130 can decide whether or not to grant the consumer access to their website and update the browser 130 accordingly. Optionally, the merchant server 130 may also use data transfer 530 and 535 to update the database 144 to record their decision for future purposes. 
<!-- EPO <DP n="42"/>-->
Likewise, the process may also be used only for the purpose of applying coupons and/or discounts available through the transaction provider. In this case, the attributes check described above may include only a coupon/discounts </p><p id="p0205" num="0205">attributes check, and after any suitable coupons/discounts have been applied to the transaction information, the updated transaction information may be transmitted from the transaction provider node 142 to the browser 112 to update the browser 112. The consumer may then complete the </p><p id="p0206" num="0206">transaction using just the browser 112 in any known way. </p><p id="p0207" num="0207">In the above described aspects, the consumer registers a source of funds and attribute information with the </p><p id="p0208" num="0208">transaction provider at the time of setting up and </p><p id="p0209" num="0209">registering the app 122. However, a source of funds and attribute information may instead be registered and/or updated with the transaction provider and associated with the app 122 at any time after installing the app 122. In the above described aspects, where transaction </p><p id="p0210" num="0210">information may need to be updated on the basis of submitted attribute information, for example calculating and adding a delivery charge based on the delivery address, the merchant server 130 requested the required attribute information and then updates the transaction information accordingly. </p><p id="p0211" num="0211"> However, the merchant may delegate this functionality to the transaction provider node 142 or the communications gateway 150 by providing them with a set of rules to use. For example, in order to satisfy a delivery charge attribute query in the transaction information, the transaction provider node 142 or the communications gateway 150 may use the delivery address in the transaction information and a 
<!-- EPO <DP n="43"/>-->
set of delivery charges rules provided by the merchant in order to calculate a delivery charge and then update the transaction information. Furthermore, whilst the communications gateway 150, also referred to as the transaction processing server 150, is represented as a single functional block, it can be </p><p id="p0212" num="0212">separated into a plurality of functional blocks according to suitable functional decomposition or performance </p><p id="p0213" num="0213">imperatives. </p><p id="p0214" num="0214">Furthermore, rather than including the transaction amount in the transaction information in data transfer 215, the merchant server 130 could instead include only a tracking reference in the merchant ID. In this case, the transaction provider node 142 and/or the communications gateway 150 could use the merchant ID whenever necessary to call the merchant server 130 with the tracking reference in order to obtain the transaction amount from the merchant server 130. This may then be added to the transaction information on the database 144, or it may be kept off the database 144 and used immediately by the transaction provider node 142 (for example for transmission to the browser 112) or by the communications gateway 150 (for example, for transmission to the app 112 in data transfer 245, or to carry out the transaction) . </p><p id="p0215" num="0215">Furthermore, rather than using a consumer's source of funds registered with the transaction provider, the app 122 may instead give the consumer the option of either using the registered source of funds or entering a different source of funds into the app 122 and using that. Furthermore, 
<!-- EPO <DP n="44"/>-->
different sources of funds may be registered with the transaction provider and data transfer 245 may include a list of all of those so that the consumer may choose which, if any, they wish to use. The consumer's choice of source of funds may be communicated to the communications gateway in data transfer 250. </p><p id="p0216" num="0216">In the above described aspects, a record is maintained on the database 144 to indicate whether or not the transaction should be allowed to take place (i.e. whether or not all of the attribute queries have been satisfied etc) . </p><p id="p0217" num="0217">Alternatively, the communications gateway 150 may maintain a note on whether or not the transaction may be allowed to take place, for example by monitoring all attribute queries and policy decisions in the transaction information until all queries are resolved and all policy decisions complied with, at which time it will allow the transaction to take place by updating the app 122 to allow the consumer to confirm the transaction. </p><p id="p0218" num="0218">Furthermore, any one or more of the data transfers shown in the Figures may be made using open industry security tokens, such as security assertion markup language (SAML), or proprietary security tokens, in order to improve the </p><p id="p0219" num="0219">security of communication. 
</p></description><claims mxw-id="PCLM70078400" ref-ucid="WO-2014128229-A1" lang="EN" load-source="patent-office"><claim id="clm-0001" num="0001"><!-- EPO <DP n="45"/>--><claim-text>Claims </claim-text><claim-text>1. A method for purchasing a product from a merchant by a consumer using an electronic device, the method comprising the steps of : </claim-text><claim-text> storing in a database an association between a </claim-text><claim-text>transaction identifier and transaction information, the transaction information comprising a merchant identifier, which is associated with merchant information, and a transaction amount; </claim-text><claim-text> providing the transaction identifier to an application on an electronic device ; </claim-text><claim-text> transmitting the transaction identifier from the application to a transaction processing server; </claim-text><claim-text> transmitting the merchant information and the </claim-text><claim-text>transaction amount associated with the transaction </claim-text><claim-text>identifier from the transaction processing server to the application; and </claim-text><claim-text> completing the transaction using the application on the basis of the transaction information on the database. </claim-text><claim-text>2. The method of claim 1, wherein the application is provided with a graphical representation of the transaction identifier and the application is configured to extract the transaction identifier from the graphical representation. </claim-text><claim-text>3. The method of claim 1 or 2, wherein the product is selected from a merchant website by the consumer through a browser . </claim-text><claim-text>4. The method of any one of claims 1 to 3, further </claim-text><claim-text>comprising the steps of: 
<!-- EPO <DP n="46"/>-->
 transmitting from the transaction processing server to the application a consumer attribute query from the </claim-text><claim-text>transaction information associated with the transaction identifier; </claim-text><claim-text> transmitting from the application to the transaction processing server the consumer attribute; and </claim-text><claim-text> updating the transaction information to include the consumer attribute. 5. The method of claim 4, wherein the consumer attribute transmitted by the application is an authorisation to use a consumer attribute registered to the consumer with a </claim-text><claim-text>transaction provider. 6. The method of claim 4 or 5, wherein the consumer attribute query comprises a delivery address query and the consumer attribute comprises a delivery address. </claim-text><claim-text>7. The method of claim 6, further comprising a step of: updating the transaction information to include a delivery charge determined from the delivery address. </claim-text><claim-text>8. The method of any one of claims 4 to 7, wherein the consumer attribute query comprises a consumer age query and the consumer attribute comprises a consumer age. </claim-text><claim-text>9. The method of claim 8, further comprising the steps of: determining from the consumer age whether or not the </claim-text><claim-text>transaction should be allowed to be completed and updating the transaction information accordingly. 
<!-- EPO <DP n="47"/>-->
</claim-text><claim-text>10. The method of anyone of claims 4 to 9, further </claim-text><claim-text>comprising the steps of: </claim-text><claim-text> after a successful transaction, recording an indication of successful transaction in the transaction information; transmitting from a server a payment confirmation token to the merchant; </claim-text><claim-text> receiving at the server an acknowledgement of receipt of the payment confirmation token from the merchant; and </claim-text><claim-text> recording a completion of interaction in the </claim-text><claim-text>transaction information. </claim-text><claim-text>11. The method of claim 10, further comprising the step of: if the acknowledgement of receipt is not received by the server within a period of time, re-transmitting from the server the payment confirmation token to the merchant. </claim-text><claim-text>12. A system for performing the method of any one of claims 1 to 11, the system comprising an electronic device, a database and a transaction processing server. </claim-text><claim-text>13. A server for use in the purchase of a product from a merchant by a consumer using an electronic device, the server being configured to: </claim-text><claim-text> store in a database an association between a </claim-text><claim-text>transaction identifier and transaction information, the transaction information comprising a merchant identifier, which is associated with merchant information, and a </claim-text><claim-text>transaction amount; and </claim-text><claim-text> transmit the transaction identifier to a first </claim-text><claim-text>terminal. </claim-text><claim-text>14 The server of claim 13 being further configured to: 
<!-- EPO <DP n="48"/>-->
 generate the transaction identifier. </claim-text><claim-text>15. The server of claim 14 being further configured to: before generating the transaction identifier, receive the merchant identifier and the transaction amount. </claim-text><claim-text>16. The server of any one of claims 13 to 15, being further configured to: </claim-text><claim-text> transmit the transaction identifier to the first terminal for display of the transaction identifier in a graphical form. </claim-text><claim-text>17. The server of any one of claims 13 to 16, wherein the transaction information further comprises a tracking </claim-text><claim-text>reference. </claim-text><claim-text>18. The server of any one of claims 13 to 17, wherein the transaction information further comprises a consumer </claim-text><claim-text>attribute query. </claim-text><claim-text>19. The server of claim 18, wherein the consumer attribute query comprises a delivery address query. </claim-text><claim-text>20. The server of either claim 18 or claim 19, wherein the consumer attribute query comprises a consumer age query. </claim-text><claim-text>21. The server of any one of claims 13 to 20, being further configured to transmit a consumer attribute token to the merchant . 
<!-- EPO <DP n="49"/>-->
</claim-text><claim-text>22. The server of claim 21, wherein the consumer attribute token comprises a consumer attribute and a consumer </claim-text><claim-text>attribute reliability indicator. 23. The server of claim 22, wherein the consumer attribute reliability indicator is determined by the source of the consumer attribute. </claim-text><claim-text>24. The server of any one of claims 13 to 23, being further configured to receive an update of the transaction </claim-text><claim-text>information and store the update on the database. </claim-text><claim-text>25. The server of any one of claims 13 to 24, wherein if the database has recorded a successful transaction between the consumer and the merchant, the server generates a payment confirmation token for transmission to the merchant. </claim-text><claim-text>26. A transaction processing server for use in the purchase of a product from a merchant by a consumer using an </claim-text><claim-text>electronic device, the transaction processing server being configured : </claim-text><claim-text> receive from an application on the electronic device a transaction identifier; </claim-text><claim-text> obtain from a database merchant information and a transaction amount from transaction information associated with the transaction identifier on the database; and </claim-text><claim-text> transmit the transaction amount and merchant </claim-text><claim-text>information to the application on the electronic device. 27. The transaction processing server of claim 26 being further configured to: 
<!-- EPO <DP n="50"/>-->
 obtain a consumer attribute query from transaction information associated with the transaction identifier on the database; and </claim-text><claim-text> transmit the consumer attribute query to the </claim-text><claim-text>application on the electronic device. </claim-text><claim-text>28. The transaction processing server of claim 27 being further configured to: </claim-text><claim-text> receive a consumer attribute from the application on the electronic device; and </claim-text><claim-text> add the consumer attribute to the transaction </claim-text><claim-text>information associated with the transaction identifier on the database. 29. The transaction processing server of claim 28 wherein the consumer attribute received from the application on the electronic device is an authorisation to use a consumer attribute registered by the consumer with a transaction provider, and the transaction processing server is </claim-text><claim-text>configured to: </claim-text><claim-text> add the consumer attribute registered by the consumer with the transaction provider to the transaction information associated with the transaction identifier on the database. 30. The transaction processing server of any one of claims 26 to 29, wherein the consumer attribute query comprises a delivery address query and the consumer attribute comprises a delivery address. 31. The transaction processing server of any one of claims 26 to 29, wherein the consumer attribute query comprises a 
<!-- EPO <DP n="51"/>-->
consumer age query and the consumer attribute comprises a consumer age. </claim-text><claim-text>32. The transaction processing server of any one of claims 26 to 31 being further configured to: </claim-text><claim-text> receive from an application on the electronic device an instruction to transfer the transaction amount from a consumer source of funds to a merchant account; and </claim-text><claim-text> transfer the transaction amount from the consumer source of funds to the merchant account. </claim-text><claim-text>33. The transaction processing server of claim 32 being further configured to: </claim-text><claim-text> transfer the transaction amount from a consumer source of funds associated with the application. </claim-text><claim-text>34. The transaction processing server of either claim 32 or claim 33 being further configured to: </claim-text><claim-text> transfer the transaction amount to the merchant account associated with the merchant information in the transaction information on the database. </claim-text><claim-text>35. The transaction processing server of any one of claims 32 to 34 being further configured to: </claim-text><claim-text> record a successful transaction in the transaction information on the database after the transfer from the consumer source of funds to the merchant account has successfully taken place. 36. A system comprising the server of any one of claims 13 to 25 and the transaction processing server of any one of claims 26 to 35. 
<!-- EPO <DP n="52"/>-->
</claim-text><claim-text>37. The system of claim 36 further comprising a database on which the association between the transaction identifier and the transaction information is stored. </claim-text><claim-text>38. The system of claim 37, wherein the database is located at a location remote from the server and the transaction processing server. 39. The system of any one of claims 36 to 38, wherein the system further comprises a first electronic device with a display device. </claim-text><claim-text>40. The system of claim 39, wherein the first electronic device comprises: </claim-text><claim-text> a browser with which a consumer can select a product to be purchased from a merchant website, wherein the browser is configured to receive the transaction identifier from the server; and </claim-text><claim-text> an application configured to open with the transaction identifier upon receipt of the transaction identifier at the browser . </claim-text><claim-text>41. The system of claim 39, wherein the first electronic device comprises: </claim-text><claim-text> a browser with which a consumer can select a product to be purchased from a merchant website and that is configured to receive the transaction identifier from the server and display a graphical representation of the transaction identifier, and wherein the system further comprises: </claim-text><claim-text> a mobile electronic terminal comprising an application configured to extract the transaction identifier from the 
<!-- EPO <DP n="53"/>-->
graphical representation of the transaction identifier displayed on the browser. </claim-text><claim-text>42. The system of either claim 40 or 41, wherein the application is further configured to: </claim-text><claim-text> transmit the transaction identifier to the transaction processing server; </claim-text><claim-text> receive the merchant name and the transaction amount from the transaction processing server; and </claim-text><claim-text> complete the transaction on the basis of the </claim-text><claim-text>transaction information on the database. </claim-text><claim-text>43. The system of any one of claims 36 to 42, wherein the system further comprises a merchant server configured to: transmit the merchant identifier and the transaction amount to the server. </claim-text><claim-text>44. The system of claim 43, wherein the merchant server is further configured to receive a payment confirmation token issued by the server and return an acknowledgment to the server after safe receipt of the payment confirmation token. </claim-text><claim-text>45. The server of any one of claims 13 to 25 further comprising a database on which the association between the transaction identifier and transaction information is stored . </claim-text><claim-text>46. The transaction processing server of any one of claims 26 to 35 further comprising a database on which the </claim-text><claim-text>association between the transaction identifier and </claim-text><claim-text>transaction information is stored. 
<!-- EPO <DP n="54"/>-->
</claim-text><claim-text>47. An application for operation on an electronic device, wherein the application is suitable for use by a consumer purchasing a product from a merchant, wherein the </claim-text><claim-text>application comprises logic configured to: </claim-text><claim-text> receive a transaction identifier, wherein the </claim-text><claim-text>transaction identifier is associated on a database with transaction information, the transaction information comprising a merchant identifier, which is associated with merchant information, and a transaction amount; </claim-text><claim-text> transmit the transaction identifier; </claim-text><claim-text> receive the merchant information and the transaction amount in response to the transmitted transaction </claim-text><claim-text>identifier; and </claim-text><claim-text> complete the transaction on the basis of the merchant information and the transaction amount. </claim-text><claim-text>48. The application of claim 47, wherein the transaction information further comprises a tracking reference and the application is further configured to: </claim-text><claim-text> receive the tracking reference. </claim-text><claim-text>49. The application of either claim 47 or 48, wherein the transaction information further comprises a product </claim-text><claim-text>description and the application is further configured to: receive the product description. </claim-text><claim-text>50. The application of any one of claims 47 to 49, wherein the transaction information further comprises a consumer attribute query and the application is further configured to: </claim-text><claim-text> receive the consumer attribute query; and 
<!-- EPO <DP n="55"/>-->
 transmit a consumer attribute for inclusion in the transaction information on the database. </claim-text><claim-text>51. The application of claim 50, wherein the consumer attribute is an authorisation to use a consumer attribute registered by the consumer with a transaction provider. </claim-text><claim-text>52. The application of either claim 50 or claim 51, wherein the consumer attribute query comprises a delivery address query and the consumer attribute comprises a delivery address . </claim-text><claim-text>53. The application of any one of claims 50 to 52, wherein the consumer attribute query comprises a consumer age query and the consumer attribute comprises a consumer age. </claim-text><claim-text>54. The application of any one of claims 47 to 53, further configured to receive a confirmation of successful </claim-text><claim-text>transaction . 
</claim-text></claim></claims><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
