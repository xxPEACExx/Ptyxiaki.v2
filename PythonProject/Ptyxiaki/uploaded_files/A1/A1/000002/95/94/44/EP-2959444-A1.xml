<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2959444-A1" country="EP" doc-number="2959444" kind="A1" date="20151230" family-id="51390549" file-reference-id="250190" date-produced="20180825" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="160453217" ucid="EP-2959444-A1"><document-id><country>EP</country><doc-number>2959444</doc-number><kind>A1</kind><date>20151230</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-14754536-A" is-representative="NO"><document-id mxw-id="PAPP193869402" load-source="docdb" format="epo"><country>EP</country><doc-number>14754536</doc-number><kind>A</kind><date>20140219</date><lang>EN</lang></document-id><document-id mxw-id="PAPP193869403" load-source="patent-office" format="original"><country>EP</country><doc-number>14754536.2</doc-number><date>20140219</date><lang>EN</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC162034646" ucid="FI-20135164-A" load-source="docdb"><document-id format="epo"><country>FI</country><doc-number>20135164</doc-number><kind>A</kind><date>20130222</date></document-id></priority-claim><priority-claim mxw-id="PPC162028120" ucid="FI-2014050122-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>FI</country><doc-number>2014050122</doc-number><kind>W</kind><date>20140219</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-1916212614" load-source="docdb">G06Q  20/42        20120101ALI20160713BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1916212615" load-source="docdb">G06Q  20/40        20120101ALI20160713BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1916212616" load-source="docdb">G06Q  20/36        20120101AFI20160713BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1916212617" load-source="docdb">G06Q  20/32        20120101ALI20160713BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1916212618" load-source="docdb">G06Q  20/20        20120101ALI20160713BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1916212619" load-source="docdb">G06Q  20/12        20120101ALI20160713BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1916212620" load-source="docdb">G06Q  20/10        20120101ALI20160713BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1916212621" load-source="docdb">G06Q  20/08        20120101ALI20160713BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1916212622" load-source="docdb">G06K  19/06        20060101ALI20160713BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1922874951" load-source="docdb" scheme="CPC">G06Q  20/425       20130101 LI20160706BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1984701447" load-source="docdb" scheme="CPC">G06Q  20/401       20130101 FI20151231BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1984702730" load-source="docdb" scheme="CPC">G06Q  20/36        20130101 LI20160106BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1984704411" load-source="docdb" scheme="CPC">G06Q  20/12        20130101 LI20151231BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1984704832" load-source="docdb" scheme="CPC">H04L  63/08        20130101 LI20151231BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987762942" load-source="docdb" scheme="CPC">G06Q  20/32        20130101 LI20140919BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987774663" load-source="docdb" scheme="CPC">G06Q  20/3276      20130101 LI20141219BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987797771" load-source="docdb" scheme="CPC">G06Q  20/20        20130101 LI20141219BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT165551117" lang="DE" load-source="patent-office">KOMMUNIKATION WÄHREND EINES ZAHLUNGSVERFAHRENS</invention-title><invention-title mxw-id="PT165551118" lang="EN" load-source="patent-office">COMMUNICATION DURING PAYMENT PROCEDURE</invention-title><invention-title mxw-id="PT165551119" lang="FR" load-source="patent-office">COMMUNICATION DURANT UNE PROCÉDURE DE PAIEMENT</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR1103331249" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>OP PALVELUT OY</last-name><address><country>FI</country></address></addressbook></applicant><applicant mxw-id="PPAR1103322538" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>OP-PALVELUT OY</last-name></addressbook></applicant><applicant mxw-id="PPAR1101641866" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>OP-Palvelut Oy</last-name><iid>101436211</iid><address><street>Teollisuuskatu 1</street><city>00510 Helsinki</city><country>FI</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR1103314255" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>LUOMA KRISTIAN</last-name><address><country>FI</country></address></addressbook></inventor><inventor mxw-id="PPAR1103309346" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>LUOMA, KRISTIAN</last-name></addressbook></inventor><inventor mxw-id="PPAR1101640398" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>LUOMA, KRISTIAN</last-name><address><street>c/o OP-Palvelut OY Teollisuuskatu 1</street><city>FI-00510 Helsinki</city><country>FI</country></address></addressbook></inventor><inventor mxw-id="PPAR1103318483" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>JOMPPANEN TUOMAS</last-name><address><country>FI</country></address></addressbook></inventor><inventor mxw-id="PPAR1103336995" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>JOMPPANEN, TUOMAS</last-name></addressbook></inventor><inventor mxw-id="PPAR1101639619" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>JOMPPANEN, TUOMAS</last-name><address><street>c/o OP-Palvelut OY Teollisuuskatu 1</street><city>FI-00510 Helsinki</city><country>FI</country></address></addressbook></inventor><inventor mxw-id="PPAR1103304971" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>JUNTUNEN JUSSI</last-name><address><country>FI</country></address></addressbook></inventor><inventor mxw-id="PPAR1103339445" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>JUNTUNEN, JUSSI</last-name></addressbook></inventor><inventor mxw-id="PPAR1101651906" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>JUNTUNEN, JUSSI</last-name><address><street>c/o OP-Palvelut OY Teollisuuskatu 1</street><city>FI-00510 Helsinki</city><country>FI</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR1101643077" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Kolster Oy Ab</last-name><iid>101363959</iid><address><street>Iso Roobertinkatu 23 PO Box 148</street><city>00121 Helsinki</city><country>FI</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="FI-2014050122-W"><document-id><country>FI</country><doc-number>2014050122</doc-number><kind>W</kind><date>20140219</date><lang>EN</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2014128351-A1"><document-id><country>WO</country><doc-number>2014128351</doc-number><kind>A1</kind><date>20140828</date><lang>EN</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS660716796" load-source="docdb">AL</country><country mxw-id="DS660713100" load-source="docdb">AT</country><country mxw-id="DS660742225" load-source="docdb">BE</country><country mxw-id="DS660635054" load-source="docdb">BG</country><country mxw-id="DS660633826" load-source="docdb">CH</country><country mxw-id="DS660742226" load-source="docdb">CY</country><country mxw-id="DS660713101" load-source="docdb">CZ</country><country mxw-id="DS660716798" load-source="docdb">DE</country><country mxw-id="DS660742231" load-source="docdb">DK</country><country mxw-id="DS660742232" load-source="docdb">EE</country><country mxw-id="DS660637035" load-source="docdb">ES</country><country mxw-id="DS660635059" load-source="docdb">FI</country><country mxw-id="DS660633835" load-source="docdb">FR</country><country mxw-id="DS660716803" load-source="docdb">GB</country><country mxw-id="DS660742233" load-source="docdb">GR</country><country mxw-id="DS660716804" load-source="docdb">HR</country><country mxw-id="DS660713102" load-source="docdb">HU</country><country mxw-id="DS660633836" load-source="docdb">IE</country><country mxw-id="DS660742234" load-source="docdb">IS</country><country mxw-id="DS660635060" load-source="docdb">IT</country><country mxw-id="DS660742235" load-source="docdb">LI</country><country mxw-id="DS660635061" load-source="docdb">LT</country><country mxw-id="DS660722893" load-source="docdb">LU</country><country mxw-id="DS660635062" load-source="docdb">LV</country><country mxw-id="DS660635071" load-source="docdb">MC</country><country mxw-id="DS660722894" load-source="docdb">MK</country><country mxw-id="DS660722899" load-source="docdb">MT</country><country mxw-id="DS660637036" load-source="docdb">NL</country><country mxw-id="DS660792152" load-source="docdb">NO</country><country mxw-id="DS660637037" load-source="docdb">PL</country><country mxw-id="DS660635072" load-source="docdb">PT</country><country mxw-id="DS660713107" load-source="docdb">RO</country><country mxw-id="DS660635073" load-source="docdb">RS</country><country mxw-id="DS660637038" load-source="docdb">SE</country><country mxw-id="DS660633837" load-source="docdb">SI</country><country mxw-id="DS660792153" load-source="docdb">SK</country><country mxw-id="DS660792154" load-source="docdb">SM</country><country mxw-id="DS660722900" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data><office-specific-data><eptags><ep-no-a-document-published>*</ep-no-a-document-published></eptags></office-specific-data></bibliographic-data><abstract mxw-id="PA139079636" ref-ucid="WO-2014128351-A1" lang="EN" load-source="patent-office"><p num="0000">Apparatus and are provided. The solution comprises obtaining (404) from a computing device in a wireless manner information on an identifier related to a purchase session maintained by the computing device;transmitting (406) the identifier to a first network server; receiving (408) information from the first network server, the information related to the purchase session and comprising a request to acknowledge a purchase of the purchase session; transmitting (410) a purchase acknowledgement to the first network server.</p></abstract><abstract mxw-id="PA139546191" ref-ucid="WO-2014128351-A1" lang="EN" source="national office" load-source="docdb"><p>Apparatus and are provided. The solution comprises obtaining (404) from a computing device in a wireless manner information on an identifier related to a purchase session maintained by the computing device;transmitting (406) the identifier to a first network server; receiving (408) information from the first network server, the information related to the purchase session and comprising a request to acknowledge a purchase of the purchase session; transmitting (410) a purchase acknowledgement to the first network server.</p></abstract><abstract mxw-id="PA139079637" ref-ucid="WO-2014128351-A1" lang="FR" load-source="patent-office"><p num="0000">L'invention concerne un appareil. La solution consiste à obtenir (404), à partir d'un dispositif informatique, d'une manière sans fil, des informations sur un identificateur associé à une session d'achat maintenue par le dispositif informatique ; à transmettre (406) l'identificateur à un premier serveur de réseau ; à recevoir (408) des informations à partir du premier serveur de réseau, les informations étant associées à la session d'achat et comprenant une requête pour accuser réception d'un achat de la session d'achat ; à transmettre (410) un accusé de réception d'achat au premier serveur de réseau.</p></abstract><abstract mxw-id="PA139546192" ref-ucid="WO-2014128351-A1" lang="FR" source="national office" load-source="docdb"><p>L'invention concerne un appareil. La solution consiste à obtenir (404), à partir d'un dispositif informatique, d'une manière sans fil, des informations sur un identificateur associé à une session d'achat maintenue par le dispositif informatique ; à transmettre (406) l'identificateur à un premier serveur de réseau ; à recevoir (408) des informations à partir du premier serveur de réseau, les informations étant associées à la session d'achat et comprenant une requête pour accuser réception d'un achat de la session d'achat ; à transmettre (410) un accusé de réception d'achat au premier serveur de réseau.</p></abstract><description mxw-id="PDES78477993" ref-ucid="WO-2014128351-A1" lang="EN" load-source="patent-office"><!-- EPO <DP n="3"/>--><p id="p0001" num="0001"> Communication during payment procedure Field </p><p id="p0002" num="0002"> The exemplary and non-limiting embodiments of the invention relate generally to communication during a payment procedure. Background </p><p id="p0003" num="0003"> The emerging electronic media and mobile computing offer new possibilities in the communication between a consumer and retailers. Shopping via Internet has become more and more popular. The customers may browse the assortments of network stores easily and the purchased items are typically delivered by mail or downloaded directly. Payments are typically realized with credit cards. However, there is a need to more simple yet reliable payment methods. </p><p id="p0004" num="0004">Summary </p><p id="p0005" num="0005"> The present invention seeks to provide an improved solution for validating payments. </p><p id="p0006" num="0006"> According to an aspect of the present invention, there is provided an apparatus, comprising: at least one processor; at least one memory including computer program code; the at least one memory and the computer program code configured to, with the at least one processor, cause the apparatus at least to perform: control obtaining from a computing device in a wireless manner information on an identifier related to a purchase session maintained by the computing device; control the transmission of the identifier to a first network server; control the reception of information from the first network server, the information related to the purchase session and comprising a request to acknowledge a purchase of the purchase session; control the transmission of a purchase acknowledgement to the first network server. </p><p id="p0007" num="0007"> According to an aspect of the present invention, there is provided A network server apparatus, comprising: at least one processor; at least one memory including computer program code; the at least one memory and the computer program code configured to, with the at least one processor, cause the apparatus at least to perform: control the reception of information on a purchase session from a network vendor server; control the transmission of an identifier related to the purchase session to a the network vendor server; control the reception of the identifier from mobile user equipment; control the 
<!-- EPO <DP n="4"/>-->
 transmission of information related to the purchase session to the mobile user equipment; control the reception of payment information related to the purchase session from the mobile user equipment; and control the transmission of payment acknowledgement to the network vendor server. </p><p id="p0008" num="0008"> According to another aspect of the present invention, there is provided a method in an apparatus, comprising: obtaining from a computing device in a wireless manner information on an identifier related to a purchase session maintained by the computing device; controlling the transmission of the identifier to a first network server; controlling the reception of information from the first network server, the information related to the purchase session and comprising a request to acknowledge a purchase of the purchase session; controlling the transmission of a purchase acknowledgement to the first network server. </p><p id="p0009" num="0009"> According to another aspect of the present invention, there is provided a method in an apparatus, comprising: controlling the reception of information on a purchase session from a network vendor server; controlling the transmission of an identifier related to the purchase session to a the network vendor server; controlling the reception of the identifier from mobile user equipment; controlling the transmission of information related to the purchase session to the mobile user equipment; controlling the reception of payment information related to the purchase session from the mobile user equipment; and controlling the transmission of payment acknowledgement to the network vendor server. </p><p id="p0010" num="0010">List of drawings </p><p id="p0011" num="0011"> Embodiments of the present invention are described below, by way of example only, with reference to the accompanying drawings, in which </p><p id="p0012" num="0012"> Figure 1 illustrates an example of a general operating environment applicable to some embodiments of the invention; </p><p id="p0013" num="0013"> Figure 2 illustrates an example of authentication; </p><p id="p0014" num="0014"> Figure 3 is a signalling chart illustrating an example embodiment;</p><p id="p0015" num="0015">Figure 4 is a flowchart illustrating an embodiment of the invention;</p><p id="p0016" num="0016">Figure 5 illustrates an example of an apparatus in which some embodiments of the invention may be applied; </p><p id="p0017" num="0017"> Figure 6 is a flowchart illustrating an embodiment of the invention; 
<!-- EPO <DP n="5"/>-->
 Figure 7 illustrates an example of an apparatus in which some embodiments of the invention may be applied and </p><p id="p0018" num="0018"> Figures 8A to 8D illustrate examples of displayed information. </p><p id="p0019" num="0019">Description of some embodiments </p><p id="p0020" num="0020"> The following embodiments are only examples. Although the specification may refer to "an" embodiment in several locations, this does not necessarily mean that each such reference is to the same embodiment(s), or that the feature only applies to a single embodiment. Single features of different embodiments may also be combined to provide other embodiments. Furthermore, words "comprising" and "including" should be understood as not limiting the described embodiments to consist of only those features that have been mentioned and such embodiments may contain also features/structures that have not been specifically mentioned. </p><p id="p0021" num="0021"> Figure 1 illustrates an example of a general operating environment applicable to some embodiments of the invention. The environment comprises one or more network servers 100 running an authentication service and database operations, user equipment 102 running software, and a communication network 104 connecting the network server 100 and the user equipment 102. </p><p id="p0022" num="0022"> The environment may further comprise a network retailer server 108 offering users the possibility to make purchases and a personal computing unit 106 connected to the network retailer server 108 via the communication network 104. </p><p id="p0023" num="0023"> The communication network 104 may be a wired or wireless communication network or a combination of these. The network may include various wired/wireless standard, non-standard or proprietary communication networks such as a computer network, a private network, an IP-based network (TCP/IP = Transmission Control Protocol / Internet Protocol), the Internet, the telephone network including the public switched telephone network PSTN, any cellular network (such as a mobile phone network) such as GSM (Global System for Mobile Communications), GPRS (General Packet Radio Service), EGPRS (Enhanced GPRS), WCDMA (Wideband Code Division Multiple Access), UMTS (Universal Mobile Telephone System), 3GPP (The 3rd Generation Partnership Project), IMT (International Mobile Telecommunication), LTE (Long Term Evolution, LTE-A (LTE-Advanced), and 
<!-- EPO <DP n="6"/>-->
 other radio systems (in their present forms and/or in their evolution forms), a wireless local area network such as Wi-Fi or WLAN (Wireless Local Area Network) based on IEEE (Institute of Electrical and Electronics Engineers) 802.1 1 standard or its evolution versions or WiMAX (Worldwide Interoperability for Microwave Access, for example. </p><p id="p0024" num="0024"> The communication networks connecting the user equipment and the servers 100 and the personal computing unit 106 and the network retailer server 108 may be at least in part different. For example, the personal computing unit 106 may be connected to a wired network and the user equipment to a wireless network. However, the nature of the network or networks is not relevant regarding the embodiments of the invention. </p><p id="p0025" num="0025"> The personal computing device 106 may be a personal computer, a laptop computer, a tablet computer or any other computing device capable of connecting to a communications network 104, contacting the network retailer server 108 and displaying information. </p><p id="p0026" num="0026"> The network retailer server or servers 108 may be a personal computer or a set of computers or a computer network or any other kind of processing system comprising a at least one processor; and at least one memory including computer program code. </p><p id="p0027" num="0027"> User equipment 102 refers to a computing device. Such computing devices include wireless mobile communication devices operating with or without a subscriber identification module (SIM), including, but not limited to, the following types of devices: a mobile phone, a smartphone, a personal digital assistant (PDA), a tablet computer, a laptop or table top computer. </p><p id="p0028" num="0028"> The network server or servers 100 may be configured to offer the user equipment 102 authentication service and database operations. The server or servers 100 may be a personal computer or a set of computers or a computer network or any other kind of processing system comprising a at least one processor; and at least one memory including computer program code. The server is configured to be accessible by users through the communication network 104, for example. The server may comprise suitable interfaces and/or transceivers to contact the communication network. </p><p id="p0029" num="0029"> The user equipment 102 may run software configured to authenticate the user of the user equipment by communicating with the server 100. Let us denote the software as electronic wallet application. Figure 2 is a signalling chart of an example of possible authentication procedure. It is to be 
<!-- EPO <DP n="7"/>-->
 noted, however, that the embodiments of the invention are not limited to the presented authentication example. Also other kind of authentication procedures may be applied as one skilled in the art is well aware. </p><p id="p0030" num="0030"> The example of Figure 2 illustrates signalling between the wallet application 200, wallet application programming interface (API) 202, a first network server 206 and a second network server 204 configured to perform authentication. The first network server 206 may be denoted as a bank server and second network server 204 may be denoted as a database server. </p><p id="p0031" num="0031"> In an embodiment, the wallet application 200 and the wallet application programming interface (API) 202 are run by the user equipment 102. </p><p id="p0032" num="0032"> In an embodiment, the server 204 performs authentication of the user of the wallet application so that the wallet application may access the database server 206 in a secure manner. </p><p id="p0033" num="0033"> In this example, the authentication procedure begins by the wallet application 200 sending 208 user id and password to wallet API 202. The wallet application may be configured to query the user id and password when the application is initialized or when the application is connecting to network in response to a user action. </p><p id="p0034" num="0034"> The wallet API 202 forwards 210 the user id and password to the authentication server 204. </p><p id="p0035" num="0035"> The authentication server 204 checks the user id and password and if correct responds with a message 212 comprising an acknowledgement and a key code challenge. </p><p id="p0036" num="0036"> Many services utilized over communication networks require authentication. Typically, authentication is realised using a username and a password. In more sophisticated solutions, key codes or key numbers are used in addition to username and password authentication. The user may have a key code list comprising a set of challenges and corresponding responses as number pairs. A server requiring authentication submits the user a challenge, and the user is required to find the challenge from the key code list, find the response corresponding the challenge and submit the response. The server grants access if the submitted response was correct. </p><p id="p0037" num="0037"> The wallet API receives the message 212 and forwards 214 it to the wallet application 200. The wallet application receives a response to the key code challenge from the user and sends 216 it to the wallet API. The wallet 
<!-- EPO <DP n="8"/>-->
 API transmits 218 the response the authentication server 204. The server authenticates the response and sends an acknowledgement 230 to the wallet API. </p><p id="p0038" num="0038"> At this phase the two-level authentication has been performed. The first level comprises the user id and password and the second level the key code challenge/response. </p><p id="p0039" num="0039"> In an embodiment, to finalize the process, the wallet API creates 232 a session id and a session key for the current on-going session. In an embodiment, the session key is a 256 bit random number. However, this is merely an example. The API transmits 234 the session id and session key to the database server 206. </p><p id="p0040" num="0040"> The database server 206 acknowledges 236 the session data. </p><p id="p0041" num="0041"> The wallet API transmits 238 the session id and session key to the wallet application. </p><p id="p0042" num="0042"> In an embodiment, the wallet application is configured to query 240 the user a PIN (personal identification number). The PIN is utilised to encrypt 242 the session key. </p><p id="p0043" num="0043"> The wallet application is then configured to store 244 the encrypted session key but delete the PIN and plain session key from memory. </p><p id="p0044" num="0044"> The session id and key may be used in communication with the database server 206 to identify the user and user equipment. If a session is interrupted or timed out, a new session key may be created </p><p id="p0045" num="0045"> In an embodiment, the user equipment 102 may run software configured to enable the user of the user equipment to make payments related purchases from to network vendors. The payment procedure may be based on the authentication of the user and in communication with the bank server 204 and database server 206. </p><p id="p0046" num="0046"> In an embodiment, the user is accessing a network vendor server 108 using a personal computing device 106 and making purchases in a purchase session. The database server 206 is configured to communicate with the network vendor server 108 and the user equipment 102 running wallet software and perform the payment operation related to purchases of the purchase session. Thus, a trusted purchase session between the network vendor server 108 and the personal computing device 106 is connected with an authenticated session between the user equipment 102 and the data base server 206. 
<!-- EPO <DP n="9"/>-->
 Figure 3 is a signalling chart which illustrates an example embodiment of communication during a purchase payment procedure. The chart illustrates an example of communication between a wallet application software 300 run in user equipment 102, the personal computing device 106, the network vendor server 108, the wallet database server 206 and the bank server 204 when the user is making purchases from the network vendor server 108. </p><p id="p0047" num="0047"> In an embodiment, the payment procedure may be made easy and convenient for the user by the wallet application software 300 run in the user equipment. The wallet application software is configured to create a trusted session with the wallet database server 206 by performing an authentication procedure 302 with a bank server. A non-limiting example of the authentication procedure is illustrated in the example of Figure 2. The authentication procedure creates a trusted session between the wallet application software 300 and the database server 206. </p><p id="p0048" num="0048"> The user is performing a purchase from the network vendor server 108 in a purchase session maintained by the personal computing device 106. As illustrated in Figure 8A, the network vendor server may present on the display 800 of the personal computing device a shopping cart of the purchase session. As payment options a credit card option 802 and wallet payment option 804 are presented. </p><p id="p0049" num="0049"> In this example, the wallet payment option 804 is chosen by the user. The personal computing device 106 receives the selection and transmits a message 304 to the network vendor server 108 indicating that the wallet payment option is to be used. </p><p id="p0050" num="0050"> The network vendor server 108 is configured to inform 306 the wallet database server 206 that wallet payment has been selected regarding the on-going purchase session. </p><p id="p0051" num="0051"> The wallet database server 206 is configured to generate a unique identifier related to the purchase session and transmit 308 the identifier to the network vendor server 108 which transmits 310 the identifier to the personal computing device 106. In an embodiment, the identifier may be a random or pseudo random number generated by the wallet database server. </p><p id="p0052" num="0052"> In an embodiment, the personal computing device 106 is configured to show the unique identifier on the display 800 of the personal computing device. In an embodiment, the identifier may be in a form easily readable by 
<!-- EPO <DP n="10"/>-->
 user equipment. An example of such an identifier is a Quick Response QR code as illustrated in Figure 8B. The identifier may be shown together with an instruction to load the identifier to the wallet application software run in the user equipment. </p><p id="p0053" num="0053"> A QR code is the trademark for a type of matrix barcode (or two- dimensional code) first designed for the automotive industry. The QR comprises black modules (square dots) arranged in a square pattern on a white background. The information encoded may be made up of four standardized modes of data (numeric, alphanumeric, byte/binary, Kanji), or through supported extensions, virtually any kind of data. The alphanumeric character codes of the QR code may include alphanumeric characters: numbers from "0" to "9", alphabets from "A" to "Z" or Ό" in Nordic languages, and "space", "$", "%", "<sup>*</sup>", "+", "-", ".", 7", "\", "|", {", "}", "<sup>*</sup>" and ":" as special characters, for example. </p><p id="p0054" num="0054"> The identifier may also be another type of barcode or code which is optically readable. </p><p id="p0055" num="0055"> In an embodiment, the personal computing device 106 is configured to show an advertisement or promotion of the wallet application software on the display together with the QR code or barcode. </p><p id="p0056" num="0056"> The user may initiate the wallet application software at this point and perform authentication if it has not been performed earlier. </p><p id="p0057" num="0057"> The user may be prompted by the personal computing device to load the QR code or barcode shown on the display of the device using the wallet application software. </p><p id="p0058" num="0058"> The wallet application software may be configured to control the camera of the user equipment to capture 312 the QR code or barcode from the display of the personal computing device. </p><p id="p0059" num="0059"> After capturing the QR code or barcode the wallet application software may be configured to decode the identifier from the captured code and transmit 314 the identifier to the wallet database server 206 utilising the trusted session which had been authenticated beforehand. </p><p id="p0060" num="0060"> The wallet database server 206 receives the identifier from the wallet application software and is configured to connect the session between the server and the wallet application software with the purchase session maintained by the personal computing device 106 with network vendor server 108. Thus, the wallet database server 206 may determine that the on-going 
<!-- EPO <DP n="11"/>-->
 purchase is being made by the user of the user equipment running the wallet application software. </p><p id="p0061" num="0061"> The wallet database server 206 is configured to transmit 316 information on the identity of the purchaser to the network vendor server 108. In an embodiment, the identity is determined on the basis of the message from the wallet software application. </p><p id="p0062" num="0062"> In an embodiment, the network vendor server 108 may transmit a cookie to the personal computing device 106 which is configured to store the cookie during the purchase session. A cookie is a small data item, which in this case identifies the identity of the purchaser. </p><p id="p0063" num="0063"> The wallet database server 206 is configured to transmit 318 a confirmation of items to be purchased to the wallet application software and request payment. The wallet application software may be configured to show information on items to be purchased on the display of the user equipment 510 as illustrated in Figure 8C along with a prompt 806 to execute the payment. </p><p id="p0064" num="0064"> If indicated by the user of the user equipment the wallet application software is configured to transmit 320 confirmation of the payment to the wallet database server 206 which is configured to execute the payment. </p><p id="p0065" num="0065"> The wallet database server 206 may transmit 322, 324 acknowledgement of the payment to the wallet application software 300 and network vendor server 108. </p><p id="p0066" num="0066"> Upon receiving the acknowledgement the network vendor server 108 may be configured to transmit 326 a finalising message to the personal computing device 106. An example of the message is illustrated in Figure 8D. </p><p id="p0067" num="0067"> In an embodiment, if the purchaser makes another purchase during the same purchase session the use of an identifier sent by the wallet database server 206 may no longer necessary as the network vendor server 108 and the personal computing device 106 may determine the identity of the purchaser from the cookie generated by the network vendor server and stored in the personal computing device. However, otherwise the payment procedure may be similar to what is described above. </p><p id="p0068" num="0068"> Figure 4 is a flowchart illustrating an embodiment of the invention. The apparatus employing the embodiment may be user equipment 102 or a part of the user equipment, for example. The embodiment starts at step 400. 
<!-- EPO <DP n="12"/>-->
 In step 402, the apparatus 102 is configured to execute wallet application and perform authentication. The authentication may be performed as described in connection with Figure 2, for example. </p><p id="p0069" num="0069"> In step 404, the apparatus is configured to control a detector to obtain from a personal computing device in a wireless manner information on an identifier related to a purchase session maintained by the computing device. In an embodiment, the apparatus comprises a camera. The user may point the camera to the screen of the personal computing device and the apparatus may be configured to read the QR code on the display. </p><p id="p0070" num="0070"> In step 406, the apparatus is configured to control the transmission of the information to a first network server or a database server. </p><p id="p0071" num="0071"> In step 408, the apparatus is configured to control the reception of information from the first network server, the information related to the purchase session and comprising a request to acknowledge a purchase of the purchase session. </p><p id="p0072" num="0072"> In step 410, the apparatus is configured to control the transmission of a purchase acknowledgement to the first network server or the database server. </p><p id="p0073" num="0073"> The process ends in step 412. </p><p id="p0074" num="0074"> Figure 5 illustrates an embodiment. The figure illustrates a simplified example of a device in which embodiments of the invention may be applied. In some embodiments, the device may be user equipment UE or a respective device communicating with a communications network. In some embodiments, the device may be a part of user equipment or a respective device. In general, device may be a computing device, including wireless mobile communication device operating with or without a subscriber identification module (SIM), including, but not limited to, the following types of devices: a mobile phone, a smartphone, a personal digital assistant (PDA), a tablet computer, a laptop or table top computer. </p><p id="p0075" num="0075"> It should be understood that the apparatus is depicted herein as an example illustrating some embodiments. It is apparent to a person skilled in the art that the device may also comprise other functions and/or structures and not all described functions and structures are required. Although the device has been depicted as one entity, different modules and memory may be implemented in one or more physical or logical entities. 
<!-- EPO <DP n="13"/>-->
 The device of the example includes a control circuitry 500 configured to control at least part of the operation of the device. </p><p id="p0076" num="0076"> The device may comprise a memory 502 for storing data. Furthermore the memory may store software 504 executable by the control circuitry 400. The memory may be integrated in the control circuitry. </p><p id="p0077" num="0077"> The device may comprise a transceiver 506. The transceiver is operationally connected to the control circuitry 500. It may be connected to an antenna arrangement (not shown). </p><p id="p0078" num="0078"> The software 504 may comprise a computer program comprising program code means adapted to cause the control circuitry 400 of the device to control a transceiver 506. </p><p id="p0079" num="0079"> The device may further comprise user interface 510 operationally connected to the control circuitry 500. The user interface may comprise a display which may be touch sensitive, a keyboard or keypad (which may be implemented using a touch sensitive display), a microphone and a speaker, for example. </p><p id="p0080" num="0080"> The control circuitry 500 is configured to execute one or more applications. The applications may be stored in the memory 502. The applications may generate data traffic with the system. The applications may require data from a server in the Internet or they may store data in the server. In general the traffic generated by applications may be periodic or continuous or something in between. </p><p id="p0081" num="0081"> In an embodiment, the device comprises at least one detector unit 508. The detector unit may be a camera configured to capture images. The software 504 may comprise a computer program comprising program code means adapted to cause the control circuitry 500 of the device to control the at least one detector unit 508. </p><p id="p0082" num="0082"> Some of the above mentioned units might be accessories connectable to a device. </p><p id="p0083" num="0083"> Figure 6 is a flowchart illustrating an embodiment of the invention.</p><p id="p0084" num="0084">The apparatus employing the embodiment may be a server 206 or a part of the server, for example. The embodiment starts at step 600. </p><p id="p0085" num="0085"> In step 602, the apparatus 206 is configured to control the reception of information on a purchase session from a network vendor server. 
<!-- EPO <DP n="14"/>-->
 In step 604, the apparatus 206 is configured to control the transmission of an identifier related to the purchase session to the network vendor server. </p><p id="p0086" num="0086"> In step 606, the apparatus 206 is configured to control the reception of the identifier from mobile user equipment; </p><p id="p0087" num="0087"> In step 608, the apparatus 206 is configured to control the transmission of information related to the purchase session to the mobile user equipment. </p><p id="p0088" num="0088"> In step 610, the apparatus 206 is configured to control the reception of payment information related to the purchase session from the mobile user equipment. </p><p id="p0089" num="0089"> In step 612, the apparatus 206 is configured to control the transmission of payment acknowledgement to the network vendor server. In an embodiment, the apparatus is configured to also control the transmission of payment acknowledgement to the mobile user equipment. </p><p id="p0090" num="0090"> The process ends in step 614. </p><p id="p0091" num="0091"> Figure 7 illustrates an embodiment. The figure illustrates a simplified example of a device in which embodiments of the invention may be applied. In some embodiments, the device may be a server 206 of Figure 2 maintaining a database and communicating with user equipment UE or respective devices via a communications network. In some embodiments, the device may be a part of a server or a respective device. In general, device may be a computing device including, but not limited to, the following types of devices: a personal computer, a server computer. </p><p id="p0092" num="0092"> It should be understood that the apparatus is depicted herein as an example illustrating some embodiments. It is apparent to a person skilled in the art that the device may also comprise other functions and/or structures and not all described functions and structures are required. Although the device has been depicted as one entity, different modules and memory may be implemented in one or more physical or logical entities. </p><p id="p0093" num="0093"> The device of the example includes a control circuitry 700 configured to control at least part of the operation of the device. </p><p id="p0094" num="0094"> The device may comprise a memory or an interface 702 to a memory for storing data. Furthermore the memory may store software 704 executable by the control circuitry 700. The memory may be integrated in the control circuitry. 
<!-- EPO <DP n="15"/>-->
 The device may comprise a communication interface 706. The communication interface is operationally connected to the control circuitry 700. The interface may provide the device a connection to a communication system. The connection may be wired or wireless. The interface may be a network interface card, a transceiver or any other kind of apparatus providing network connections. </p><p id="p0095" num="0095"> The software 704 may comprise a computer program comprising program code means adapted to cause the control circuitry 700 of the device to control the communication interface 706. </p><p id="p0096" num="0096"> The device may further comprise user interface 708 operationally connected to the control circuitry 700. The user interface may comprise a display which may be touch sensitive, a keyboard or keypad, for example. </p><p id="p0097" num="0097"> The control circuitry 700 is configured to execute one or more applications. The applications may be stored in the memory 702. The applications may generate data traffic with the system. The applications may require data from a server in the Internet or they may store data in the server. In general the traffic generated by applications may be periodic or continuous or something in between. </p><p id="p0098" num="0098"> Some of the above mentioned units might be accessories connectable to a device. </p><p id="p0099" num="0099"> The steps and related functions described in the above and attached figures are in no absolute chronological order, and some of the steps may be performed simultaneously or in an order differing from the given one. Other functions can also be executed between the steps or within the steps. Some of the steps can also be left out or replaced with a corresponding step. </p><p id="p0100" num="0100"> The apparatuses or controllers able to perform the above-described steps may be implemented as an electronic digital computer, or a circuitry that may comprise a working memory (RAM), a central processing unit (CPU), and a system clock. The CPU may comprise a set of registers, an arithmetic logic unit, and a controller. The controller or the circuitry is controlled by a sequence of program instructions transferred to the CPU from the RAM. The controller may contain a number of microinstructions for basic operations. The implementation of microinstructions may vary depending on the CPU design. The program instructions may be coded by a programming language, which may be a high-level programming language, such as C, Java, etc., or a low- level programming language, such as a machine language, or an assembler. 
<!-- EPO <DP n="16"/>-->
 The electronic digital computer may also have an operating system, which may provide system services to a computer program written with the program instructions. </p><p id="p0101" num="0101"> As used in this application, the term 'circuitry' refers to all of the following: (a) hardware-only circuit implementations, such as implementations in only analog and/or digital circuitry, and (b) combinations of circuits and software (and/or firmware), such as (as applicable): (i) a combination of processor(s) or (ii) portions of processor(s)/software including digital signal processor(s), software, and memory(ies) that work together to cause an apparatus to perform various functions, and (c) circuits, such as a microprocessor(s) or a portion of a microprocessor(s), that require software or firmware for operation, even if the software or firmware is not physically present. </p><p id="p0102" num="0102"> This definition of 'circuitry' applies to all uses of this term in this application. As a further example, as used in this application, the term 'circuitry' would also cover an implementation of merely a processor (or multiple processors) or a portion of a processor and its (or their) accompanying software and/or firmware. The term 'circuitry' would also cover, for example and if applicable to the particular element, a baseband integrated circuit or applications processor integrated circuit for a mobile phone or a similar integrated circuit in a server, a cellular network device, or another network device. </p><p id="p0103" num="0103"> An embodiment provides a computer program embodied on a distribution medium, comprising program instructions which, when loaded into an electronic apparatus, are configured to control the apparatus to execute the embodiments described above. </p><p id="p0104" num="0104"> The computer program may be in source code form, object code form, or in some intermediate form, and it may be stored in some sort of carrier, which may be any entity or device capable of carrying the program. Such carriers include a record medium, computer memory, read-only memory, and a software distribution package, for example. Depending on the processing power needed, the computer program may be executed in a single electronic digital computer or it may be distributed amongst a number of computers. </p><p id="p0105" num="0105"> The apparatus may also be implemented as one or more integrated circuits, such as application-specific integrated circuits ASIC. Other hardware 
<!-- EPO <DP n="17"/>-->
 embodiments are also feasible, such as a circuit built of separate logic components. A hybrid of these different implementations is also feasible. When selecting the method of implementation, a person skilled in the art will consider the requirements set for the size and power consumption of the apparatus, the necessary processing capacity, production costs, and production volumes, for example. </p><p id="p0106" num="0106"> In an embodiment, the apparatus may also be implemented as an apparatus comprising means for receiving a challenge from a network server; means for controlling a detector to obtain wirelessly from an external object information on challenge/response pairs; means for determining a response to the challenge on the basis of the obtained information; and means for transmitting the response to the network server. </p><p id="p0107" num="0107"> It will be obvious to a person skilled in the art that, as technology advances, the inventive concept can be implemented in various ways. The invention and its embodiments are not limited to the examples described above but may vary within the scope of the claim. 
</p></description><claims mxw-id="PCLM70078275" ref-ucid="WO-2014128351-A1" lang="EN" load-source="patent-office"><claim-statement><!-- EPO <DP n="18"/>-->Claims </claim-statement><claim id="clm-0001" num="1"><claim-text> 1 . An apparatus, comprising: </claim-text><claim-text> at least one processor; </claim-text><claim-text> at least one memory including computer program code; the at least one memory and the computer program code configured to, with the at least one processor, cause the apparatus at least to perform: </claim-text><claim-text> control obtaining from a computing device in a wireless manner information on an identifier related to a purchase session maintained by the computing device; </claim-text><claim-text> control the transmission of the identifier to a first network server; control the reception of information from the first network server, the information related to the purchase session and comprising a request to acknowledge a purchase of the purchase session; </claim-text><claim-text> control the transmission of a purchase acknowledgement to the first network server. </claim-text></claim><claim id="clm-0002" num="2"><claim-text>2. The apparatus of claim 1 , the at least one memory and the computer program code configured to, with the at least one processor, cause the apparatus at least to perform: </claim-text><claim-text> perform authentication with a second network server to initialise a trusted session between the apparatus and first and second network server. </claim-text></claim><claim id="clm-0003" num="3"><claim-text>3. The apparatus of claim 1 or 2, the apparatus comprising a camera; and the at least one memory and the computer program code being configured to, with the at least one processor, cause the apparatus further to perform: </claim-text><claim-text> control the camera to photograph a graphical code being on an object external to the apparatus; and </claim-text><claim-text> decode information related to the purchase from the graphical code. </claim-text></claim><claim id="clm-0004" num="4"><claim-text>4. The apparatus of any preceding claim, further comprising user interface, the at least one memory and the computer program code being configured to, with the at least one processor, cause the apparatus further to perform: 
<!-- EPO <DP n="19"/>-->
 control the reception of a verification of the reception of the acknowledgement from the first network server. </claim-text></claim><claim id="clm-0005" num="5"><claim-text>5. The apparatus of any preceding claim, further comprising user interface, the at least one memory and the computer program code being configured to, with the at least one processor, cause the apparatus further to perform: </claim-text><claim-text> after receiving information related to the purchase session control the user interface to display the information and receive purchase acknowledgement. </claim-text></claim><claim id="clm-0006" num="6"><claim-text>6. A network server apparatus, comprising: </claim-text><claim-text> at least one processor; </claim-text><claim-text> at least one memory including computer program code, and the at least one memory and the computer program code configured to, with the at least one processor, cause the apparatus at least to perform: </claim-text><claim-text> control the reception of information on a purchase session from a network vendor server; </claim-text><claim-text> control the transmission of an identifier related to the purchase session to a the network vendor server; </claim-text><claim-text> control the reception of the identifier from mobile user equipment; control the transmission of information related to the purchase session to the mobile user equipment; </claim-text><claim-text> control the reception of payment information related to the purchase session from the mobile user equipment; and </claim-text><claim-text> control the transmission of payment acknowledgement to the network vendor server. </claim-text></claim><claim id="clm-0007" num="7"><claim-text>7. The apparatus of claim 6, the at least one memory and the computer program code configured to, with the at least one processor, cause the apparatus at least to perform: </claim-text><claim-text> control the reception of session information from a second network server regarding a trusted session with the mobile user equipment authenticated by the second network server. 
<!-- EPO <DP n="20"/>-->
</claim-text></claim><claim id="clm-0008" num="8"><claim-text>8. The apparatus of claim 6 or 7, the at least one memory and the computer program code configured to, with the at least one processor, cause the apparatus at least to perform: </claim-text><claim-text> control the transmission of payment acknowledgement to the mobile user equipment. </claim-text></claim><claim id="clm-0009" num="9"><claim-text>9. A method in an apparatus, comprising: </claim-text><claim-text> obtaining from a computing device in a wireless manner information on an identifier related to a purchase session maintained by the computing device; </claim-text><claim-text> controlling the transmission of the identifier to a first network server; controlling the reception of information from the first network server, the information related to the purchase session and comprising a request to acknowledge a purchase of the purchase session; </claim-text><claim-text> controlling the transmission of a purchase acknowledgement to the first network server. </claim-text></claim><claim id="clm-0010" num="10"><claim-text>10. A method in an apparatus, comprising: </claim-text><claim-text> controlling the reception of information on a purchase session from a network vendor server; </claim-text><claim-text> controlling the transmission of an identifier related to the purchase session to a the network vendor server; </claim-text><claim-text> controlling the reception of the identifier from mobile user equipment; </claim-text><claim-text> controlling the transmission of information related to the purchase session to the mobile user equipment; </claim-text><claim-text> controlling the reception of payment information related to the purchase session from the mobile user equipment; and </claim-text><claim-text> controlling the transmission of payment acknowledgement to the network vendor server. </claim-text></claim><claim id="clm-0011" num="11"><claim-text>1 1 . A computer readable storage medium comprising one or more sequences of one or more instructions which, when executed by one or more processors of an apparatus, cause the apparatus to perform the method of claim 9 or 10. 
</claim-text></claim></claims><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
