<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2959384-A1" country="EP" doc-number="2959384" kind="A1" date="20151230" family-id="51389310" file-reference-id="314655" date-produced="20180826" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="160452585" ucid="EP-2959384-A1"><document-id><country>EP</country><doc-number>2959384</doc-number><kind>A1</kind><date>20151230</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-14753812-A" is-representative="NO"><document-id mxw-id="PAPP193868138" load-source="docdb" format="epo"><country>EP</country><doc-number>14753812</doc-number><kind>A</kind><date>20140214</date><lang>EN</lang></document-id><document-id mxw-id="PAPP193868139" load-source="patent-office" format="original"><country>EP</country><doc-number>14753812.8</doc-number><date>20140214</date><lang>EN</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC162028214" ucid="US-201313840912-A" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>201313840912</doc-number><kind>A</kind><date>20130315</date></document-id></priority-claim><priority-claim mxw-id="PPC162036175" ucid="US-201361769043-P" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>201361769043</doc-number><kind>P</kind><date>20130225</date></document-id></priority-claim><priority-claim mxw-id="PPC162034468" ucid="US-2014016596-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>2014016596</doc-number><kind>W</kind><date>20140214</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-1915431074" load-source="docdb">G06F   9/50        20060101ALI20160725BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1915435055" load-source="docdb">H03M  13/05        20060101ALI20160725BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1915435115" load-source="docdb">G06F  17/30        20060101AFI20160725BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1620471904" load-source="docdb" scheme="CPC">G06F  17/30463     20130101 LI20180704BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1620471905" load-source="docdb" scheme="CPC">G06F  17/30445     20130101 FI20180704BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1641018276" load-source="docdb" scheme="CPC">G06F  17/30477     20130101 LI20180512BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1687166110" load-source="docdb" scheme="CPC">G06F  17/30106     20130101 LI20180220BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1687166111" load-source="docdb" scheme="CPC">G06F  17/30073     20130101 LA20180220BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1687166112" load-source="docdb" scheme="CPC">G06F  17/30067     20130101 LI20180220BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1687166113" load-source="docdb" scheme="CPC">G06F  17/30023     20130101 LA20180220BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1699660023" load-source="docdb" scheme="CPC">H04L  65/60        20130101 LI20180206BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1740201999" load-source="docdb" scheme="CPC">G06F  17/30424     20130101 LA20171031BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1740202000" load-source="docdb" scheme="CPC">G06F  17/30306     20130101 LA20171031BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1740202001" load-source="docdb" scheme="CPC">G06F  17/3007      20130101 LI20171031BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1767265853" load-source="docdb" scheme="CPC">G06F  17/30442     20130101 LI20170905BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1806532891" load-source="docdb" scheme="CPC">G06F  17/30545     20130101 LI20170418BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1836132308" load-source="docdb" scheme="CPC">G06F  17/30283     20130101 LI20170315BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1873968640" load-source="docdb" scheme="CPC">G06F  17/30997     20130101 LI20161124BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1873968642" load-source="docdb" scheme="CPC">G06F  17/30194     20130101 LI20161128BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1889091877" load-source="docdb" scheme="CPC">H04L  67/1097      20130101 LI20161006BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987775570" load-source="docdb" scheme="CPC">G06F  17/30433     20130101 LI20150126BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987798390" load-source="docdb" scheme="CPC">G06F  17/30224     20130101 LI20151028BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT165549221" lang="DE" load-source="patent-office">DATENANALYSEPLATTFORM ÜBER PARALLELE DATENBANKEN UND VERTEILTE DATEISYSTEME</invention-title><invention-title mxw-id="PT165549222" lang="EN" load-source="patent-office">DATA ANALYTICS PLATFORM OVER PARALLEL DATABASES AND DISTRIBUTED FILE SYSTEMS</invention-title><invention-title mxw-id="PT165549223" lang="FR" load-source="patent-office">PLATEFORME D'ANALYSE DE DONNÉES DANS DES BASES DE DONNÉES PARALLÈLES ET DES SYSTÈMES DE FICHIERS DISTRIBUÉS</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR1103308252" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>EMC CORP</last-name><address><country>US</country></address></addressbook></applicant><applicant mxw-id="PPAR1103343838" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>EMC CORPORATION</last-name></addressbook></applicant><applicant mxw-id="PPAR1101653626" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>EMC Corporation</last-name><iid>101281755</iid><address><street>176 South Street</street><city>Hopkinton, MA 01748</city><country>US</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR1103304752" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>WELTON CALEB E</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR1103333746" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>WELTON, Caleb, E.</last-name></addressbook></inventor><inventor mxw-id="PPAR1101651638" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>WELTON, Caleb, E.</last-name><address><street>176 South Street</street><city>Hopkinton, MA 01748</city><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR1103322287" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>YANG SHENGWEN</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR1103334170" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>YANG, SHENGWEN</last-name></addressbook></inventor><inventor mxw-id="PPAR1101643066" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>YANG, SHENGWEN</last-name><address><street>176 South Street</street><city>Hopkinton, MA 01748</city><country>US</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR1101640593" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Freeman, Jacqueline Carol</last-name><iid>100033954</iid><address><street>WP Thompson 55 Drury Lane</street><city>London WC2B 5SQ</city><country>GB</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="US-2014016596-W"><document-id><country>US</country><doc-number>2014016596</doc-number><kind>W</kind><date>20140214</date><lang>EN</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2014130371-A1"><document-id><country>WO</country><doc-number>2014130371</doc-number><kind>A1</kind><date>20140828</date><lang>EN</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS660704069" load-source="docdb">AL</country><country mxw-id="DS660703849" load-source="docdb">AT</country><country mxw-id="DS660704083" load-source="docdb">BE</country><country mxw-id="DS660625472" load-source="docdb">BG</country><country mxw-id="DS660625250" load-source="docdb">CH</country><country mxw-id="DS660726084" load-source="docdb">CY</country><country mxw-id="DS660703850" load-source="docdb">CZ</country><country mxw-id="DS660626313" load-source="docdb">DE</country><country mxw-id="DS660704084" load-source="docdb">DK</country><country mxw-id="DS660726085" load-source="docdb">EE</country><country mxw-id="DS660789003" load-source="docdb">ES</country><country mxw-id="DS660625473" load-source="docdb">FI</country><country mxw-id="DS660625474" load-source="docdb">FR</country><country mxw-id="DS660626314" load-source="docdb">GB</country><country mxw-id="DS660704085" load-source="docdb">GR</country><country mxw-id="DS660704086" load-source="docdb">HR</country><country mxw-id="DS660726086" load-source="docdb">HU</country><country mxw-id="DS660625255" load-source="docdb">IE</country><country mxw-id="DS660704091" load-source="docdb">IS</country><country mxw-id="DS660625479" load-source="docdb">IT</country><country mxw-id="DS660726091" load-source="docdb">LI</country><country mxw-id="DS660626323" load-source="docdb">LT</country><country mxw-id="DS660703855" load-source="docdb">LU</country><country mxw-id="DS660626324" load-source="docdb">LV</country><country mxw-id="DS660626325" load-source="docdb">MC</country><country mxw-id="DS660710341" load-source="docdb">MK</country><country mxw-id="DS660710342" load-source="docdb">MT</country><country mxw-id="DS660703856" load-source="docdb">NL</country><country mxw-id="DS660789004" load-source="docdb">NO</country><country mxw-id="DS660703857" load-source="docdb">PL</country><country mxw-id="DS660789005" load-source="docdb">PT</country><country mxw-id="DS660703858" load-source="docdb">RO</country><country mxw-id="DS660789006" load-source="docdb">RS</country><country mxw-id="DS660703867" load-source="docdb">SE</country><country mxw-id="DS660626335" load-source="docdb">SI</country><country mxw-id="DS660625256" load-source="docdb">SK</country><country mxw-id="DS660625257" load-source="docdb">SM</country><country mxw-id="DS660710347" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data><office-specific-data><eptags><ep-no-a-document-published>*</ep-no-a-document-published></eptags></office-specific-data></bibliographic-data><abstract mxw-id="PA139073565" ref-ucid="WO-2014130371-A1" lang="EN" load-source="patent-office"><p num="0000">Performing data analytics processing in the context of a large scale distributed system that includes a massively parallel processing (MPP) database and a distributed storage layer is disclosed. In various embodiments, a data analytics request is received. A plan is created to generate a response to the request. A corresponding portion of the plan is assigned to each of a plurality of distributed processing segments, including by invoking as indicated in the assignment one or more data analytical functions embedded in the processing segment.</p></abstract><abstract mxw-id="PA139541214" ref-ucid="WO-2014130371-A1" lang="EN" source="national office" load-source="docdb"><p>Performing data analytics processing in the context of a large scale distributed system that includes a massively parallel processing (MPP) database and a distributed storage layer is disclosed. In various embodiments, a data analytics request is received. A plan is created to generate a response to the request. A corresponding portion of the plan is assigned to each of a plurality of distributed processing segments, including by invoking as indicated in the assignment one or more data analytical functions embedded in the processing segment.</p></abstract><abstract mxw-id="PA139073566" ref-ucid="WO-2014130371-A1" lang="FR" load-source="patent-office"><p num="0000">La présente invention concerne la réalisation d'un traitement d'analyse de données dans le contexte d'un système distribué à grande échelle qui comporte une base de données à traitement massivement parallèle (MPP) et une couche de stockage distribuée. De nombreux modes de réalisation consistent à : recevoir une requête d'analyse de données ; créer un plan afin de générer une réponse à la requête ; attribuer une partie correspondante du plan à chaque segment d'une pluralité de segments de traitement distribués, ce qui consiste à appeler, telles qu'elles sont indiquées dans l'attribution, une ou plusieurs fonctions d'analyse de données intégrées dans le segment de traitement.</p></abstract><abstract mxw-id="PA139541215" ref-ucid="WO-2014130371-A1" lang="FR" source="national office" load-source="docdb"><p>La présente invention concerne la réalisation d'un traitement d'analyse de données dans le contexte d'un système distribué à grande échelle qui comporte une base de données à traitement massivement parallèle (MPP) et une couche de stockage distribuée. De nombreux modes de réalisation consistent à : recevoir une requête d'analyse de données ; créer un plan afin de générer une réponse à la requête ; attribuer une partie correspondante du plan à chaque segment d'une pluralité de segments de traitement distribués, ce qui consiste à appeler, telles qu'elles sont indiquées dans l'attribution, une ou plusieurs fonctions d'analyse de données intégrées dans le segment de traitement.</p></abstract><description mxw-id="PDES78477026" ref-ucid="WO-2014130371-A1" lang="EN" load-source="patent-office"><!-- EPO <DP n="3"/>--><p id="p0001" num="0001"> DATA ANALYTICS PLATFORM OVER PARALLEL DATABASES</p><p id="p0002" num="0002">AND DISTRIBUTED FILE SYSTEMS </p><p id="p0003" num="0003">CROSS REFERENCE TO OTHER APPLICATIONS </p><p id="p0004" num="0004">[0001] This application claims priority to U.S. Provisional Patent Application No.</p><p id="p0005" num="0005">61/769,043 entitled INTEGRATION OF MASSIVELY PARALLEL PROCESSING WITH A DATA INTENSIVE SOFTWARE FRAMEWORK filed February 25, 2013 which is incorporated herein by reference for all purposes. </p><p id="p0006" num="0006">BACKGROUND OF THE INVENTION </p><p id="p0007" num="0007">[0002] Distributed storage systems enable databases, files, and other objects to be stored in a manner that distributes data across large clusters of commodity hardware. For example, Hadoop® is an open-source software framework to distribute data and associated computing (e.g., execution of application tasks) across large clusters of commodity hardware. </p><p id="p0008" num="0008">[0003] EMC Greenplum® provides a massively parallel processing (MPP) architecture for data storage and analysis. Typically, data is stored in segment servers, each of which stores and manages a portion of the overall data set. Advanced MPP database systems such as EMC Greenplum® provide the ability to perform data analytics processing on huge data sets, including by enabling users to use familiar and/or industry standard languages and protocols, such as SQL, to specify data analytics and/or other processing to be performed. Examples of data analytics processing include, without limitation, Logistic Regression, Multinomial Logistic Regression, K-means clustering, Association Rules based market basket analysis, Latent Dirichlet based topic modeling, etc. </p><p id="p0009" num="0009">[0004] While distributed storage systems, such as Hadoop®, provide the ability to reliable store huge amounts of data on commodity hardware, such systems have not to date been optimized to support data mining and analytics processing with respect to the data stored in them. </p><p id="p0010" num="0010">BRIEF DESCRIPTION OF THE DRAWINGS 
<!-- EPO <DP n="4"/>-->
 [0005] Various embodiments of the invention are disclosed in the following detailed description and the accompanying drawings. </p><p id="p0011" num="0011">[0006] Figure 1 is a block diagram illustrating an embodiment of a large scale distributed system. </p><p id="p0012" num="0012">[0007] Figure 2 is a block diagram illustrating an embodiment of a data analytics architecture of a large scale distributed system. </p><p id="p0013" num="0013">[0008] Figure 3 is a flow chart illustrating an embodiment of a database query processing process. </p><p id="p0014" num="0014">[0009] Figure 4 is a block diagram illustrating an embodiment of a segment server. </p><p id="p0015" num="0015">[0010] Figure 5 is a flow chart illustrating an embodiment of a process to perform data analytics processing. </p><p id="p0016" num="0016">DETAILED DESCRIPTION </p><p id="p0017" num="0017">[0011] The invention can be implemented in numerous ways, including as a process; an apparatus; a system; a composition of matter; a computer program product embodied on a computer readable storage medium; and/or a processor, such as a processor configured to execute instructions stored on and/or provided by a memory coupled to the processor. In this specification, these implementations, or any other form that the invention may take, may be referred to as techniques. In general, the order of the steps of disclosed processes may be altered within the scope of the invention. Unless stated otherwise, a component such as a processor or a memory described as being configured to perform a task may be implemented as a general component that is temporarily configured to perform the task at a given time or a specific component that is manufactured to perform the task. As used herein, the term 'processor' refers to one or more devices, circuits, and/or processing cores configured to process data, such as computer program instructions. </p><p id="p0018" num="0018">[0012] A detailed description of one or more embodiments of the invention is provided below along with accompanying figures that illustrate the principles of the invention. The invention is described in connection with such embodiments, but the invention is not limited to any embodiment. The scope of the invention is limited only by the claims and the invention encompasses numerous alternatives, modifications and equivalents. 
<!-- EPO <DP n="5"/>-->
 Numerous specific details are set forth in the following description in order to provide a thorough understanding of the invention. These details are provided for the purpose of example and the invention may be practiced according to the claims without some or all of these specific details. For the purpose of clarity, technical material that is known in the technical fields related to the invention has not been described in detail so that the invention is not unnecessarily obscured. </p><p id="p0019" num="0019">[0013] Providing advanced data analytics capabilities in the context of a large distributed data storage system is disclosed. In various embodiments, a massively parallel processing (MPP) database system is adapted to manage and provide data analytics with respect to data stored in a large distributed storage layer, e.g., an implementation of the Hadoop® distributed storage framework. Examples of data analytics processing include, without limitation, Logistic Regression, Multinomial Logistic Regression, K-means clustering, Association Rules based market basket analysis, Latent Dirichlet based topic modeling, etc. In some embodiments, advanced data analytics functions, such as statistical and other analytics functions, are embedded in each of a plurality of segment servers comprising the MPP database portion of the system. In some embodiments, to perform a data analytics task, such as computing statistics, performing an optimization, etc., a master node selects a subset of segments to perform associated processing, and sends to each segment an indication of the data analytics processing to be performed by that segment, including for example an identification of the embedded data analytics function(s) to be used, and associated metadata required to locate and/or access the subset of data on which that segment is to perform the indicated processing. </p><p id="p0020" num="0020">[0014] Figure 1 is a block diagram illustrating an embodiment of a large scale distributed system. In the example shown, the large scale distributed system includes a large cluster of commodity servers. The master hosts include a primary master 102 and a standby master 104. The primary master 102 is responsible for accepting queries; planning queries, e.g., based at least in part on system metadata 106, which in various embodiments includes information indicating where data is stored within the system; dispatching queries to segments for execution; and collecting the results from segments. The standby master 104 is a warm backup of the primary master 102. The network interconnect 108 is used to communicate tuples between execution processes. The compute unit of the database engine is called a "segment". Each of a large number of segment hosts, represented in Figure 1 by 
<!-- EPO <DP n="6"/>-->
 hosts 110, 112, and 114, can have multiple segments. The segments on segment hosts 110, 112, 114, for example, are configured to execute tasks assigned by the primary master 102, such as to perform assigned portions of a query plan with respect to data stored in distributed storage layer 116, e.g., a Hadoop® or other storage layer. </p><p id="p0021" num="0021">[0015] When the master node 102 accepts a query, it is parsed and planned according to the statistics of the tables in the query, e.g., based on metadata 106. After the planning phase, a query plan is generated. A query plan is sliced into many slices. In the query execution phase, for each slice a group of segments, typically comprising a subset of the segments hosted on segment hosts 1 through s, is selected to execute the slice. In various embodiments, the size of the group may be dynamically determined by using the knowledge of the data distribution and available resources, e.g., workload on respective segments, etc. </p><p id="p0022" num="0022">[0016] In various embodiments, a data analytics job or other query may be expressed in whole or in part using SQL and/or any other specified language or syntax. A master node, such as primary master 102, parses the SQL or other input and invokes scripts or other code available on the master to perform top level processing to perform the requested processing. In various embodiments, a query plan generated by the master 102, for example, may identify for each of a plurality of segments a corresponding portion of the global data set to be processed by that segment. Metadata identifying the location of the data to be processed by a particular segment, e.g., with distributed storage layer 116, is sent to the segment by the master 102. In various embodiments, the distributed storage layer 116 comprises data stored in an instance of the Hadoop Distributed File System (HDFS) and the metadata indicates a location within the HDFS of data to be processed by that segment. The master 102 in addition will indicate to the segment the specific processing to be performed. In various embodiments, the indication from the master may indicate, directly or indirectly, one or more analytics functions embedded at each segment which is/are to be used by the segment to perform the required processing. </p><p id="p0023" num="0023">[0017] Figure 2 is a block diagram illustrating an embodiment of a data analytics architecture of a large scale distributed system. In various embodiments, the data analytics architecture 200 of Figure 2 is implemented in a large scale distributed system, such as the large scale distribute system of Figure 1. In the example shown, the data analytics architecture 200 includes a user interface 202 that enables data analytics requests to be expressed using SQL, e.g., as indicated by a specification. Various driver functions 204, e.g., 
<!-- EPO <DP n="7"/>-->
 python or other scipts with templated SQL in this example, may be invoked to perform, for example, the outer loops of iterative algorithms, optimizer invocations, etc. A high level abstraction layer 206, in this example also comprising python scripts, provides functionality such as an iteration controller, convex optimizers, etc. The upper layers 202, 204, and 206 interact with RDBMS built-in functions 208 and/or with inner loops 210 and/or low-level abstraction layer 212, comprising compiled C++ in this example, to perform lower level tasks required to perform a task received via user interface 202. Data is accessed to perform analytics computations and/or other processing by interacting with an underlying RDBMS query processing layer 214. In various embodiments, one or more of the components shown in Figure 2 may be implemented across nodes comprising the system, such as across the segments or other processing units comprising the MPP database portion of a large scale distributed system such as the one shown in Figure 1. In various embodiments, core data analytics processing is performed at least in part using functions embedded in each of the segments (or other processing units) included in the system. In some embodiments, the functions comprise a "shared object" or library of functions comprising compiled C++ or other compiled code, such as Java or Fortran. As a portion of a broader task is assigned to a segment, the segment uses the embedded function(s) implicated by the assignment to perform at least part the data analytics and/or other processing that has been assigned to the segment. </p><p id="p0024" num="0024">[0018] Figure 3 is a flow chart illustrating an embodiment of a database query processing process. In some embodiments, a master node, such as primary master 102 of Figure 1, implements the process of Figure 3. In the example shown, a query is received (302). Examples of a query include, without limitation, an advanced data analytics request expressed in whole or in part as a set of SQL statements. A query plan is generated (304). The plan is divided into a plurality of slices, and for each slice a corresponding set of segments ("gang") is identified to participate in execution of that slice of the query plan (306). For each slice of the query plan, the segments selected to perform processing required by that slice are sent a communication that includes both the applicable portion of the plan to be performed by that segment and metadata that may be required by a receiving segment to perform tasks assigned to that segment (308). In some embodiments, the metadata included in the query plan slice and/or other communication sent to the respective segments selected to participate in execution of that slice of the plan includes metadata from a central metadata store, e.g., metadata 106 of Figure 1, and includes information indicating to the segment the location of data with respect to which that segment is to perform query plan slice related 
<!-- EPO <DP n="8"/>-->
 processing. In past approaches, typically a segment would store and manage a corresponding portion of the overall data, and sending metadata to perform query plan related tasks would not typically have been necessary. In some embodiments, metadata and/or other data included in assignments sent to selected segments may indicate data analytics processing to be performed, in whole or in part, by the segment using one or more data analytics functions that have been embedded in each of the segments in the distributed system. Query results are received from the respective segments to which query tasks were dispatched, and processed to generate, e.g., at the master node, a master or overall response to the query (310). </p><p id="p0025" num="0025">[0019] Figure 4 is a block diagram illustrating an embodiment of a segment server.</p><p id="p0026" num="0026">In various embodiments, one or more segment servers such as segment server 402 may be deployed in each of a plurality of segment hosts, such as segment hosts 110, 112, and 114 of Figure 1. In the example shown, the segment server 402 includes a communication interface 404 configured to received, e.g., via a network interconnect such as interconnect 108 of Figure 1 , a network communication comprising an assignment sent by a master node such as primary master 102 of Figure 1. A query executor 406 performs processing required to complete tasks assigned by the master node, using in this example a storage layer interface 408 to access data stored in a distributed storage layer, such as distributed storage layer 1 16 of Figure 1. One or more data analytics functions included in a shared data analytics library 410 embedded in each segment server in the distributed system may be called to perform data analytics processing, as required to perform the assigned task. Examples of functions that may be embedded in segment servers in various embodiments include, without limitation: User-Defined Functions (e.g. a UDF which randomly initializes an array with values in a specified range, a UDF which transposes a matrix, a UDF which un-nests a 2-dimensional array into a set of 1 -dimensional arrays, etc.), step functions, and final functions of various User-Defined Aggregators. </p><p id="p0027" num="0027">[0020] Figure 5 is a flow chart illustrating an embodiment of a process to perform data analytics processing. In various embodiments, the process of Figure 5 is performed by a segment server in response to receiving an assignment, e.g., from a master node, to perform an assigned part of a data analytics query plan. In the example shown, an assigned task is received (502). Metadata embedded in the assigned task is used to access data as needed to perform the assigned task(s) (504). Data analytics functions embedded at the segment server or other processing unit are invoked as needed to perform the assigned task (506). Examples 
<!-- EPO <DP n="9"/>-->
 of functions that may be embedded in segment servers in various embodiments include, without limitation: a function which does Gibbs sampling for the inference of Latent </p><p id="p0028" num="0028">Dirichlet Allocation, or a function which generates the association rules. Once processing has been completed, a result is returned, for example to the master node from which the assignment was received (508). </p><p id="p0029" num="0029">[0021] Using techniques disclosed herein, a scalable and high-performance data analytics platform can be provided over a high-performance parallel database system built upon a scalable distributed file system. The advantages of parallel databases and distributed file systems are combined to overcome the challenges of big data analytics. Finally, in various embodiments, users are able to use familiar SQL queries to run analytic tasks, and the underlying parallel database engines translate these SQL queries into a set of execution plans, optimized according to data locality and load balances. </p><p id="p0030" num="0030">[0022] Although the foregoing embodiments have been described in some detail for purposes of clarity of understanding, the invention is not limited to the details provided. There are many alternative ways of implementing the invention. The disclosed embodiments are illustrative and not restrictive. 
</p></description><claims mxw-id="PCLM70077291" ref-ucid="WO-2014130371-A1" lang="EN" load-source="patent-office"><claim-statement><!-- EPO <DP n="10"/>-->[0023] WHAT IS CLAIMED IS : CLAIMS </claim-statement><claim id="clm-0001" num="1"><claim-text>1. A method, comprising: </claim-text><claim-text> receiving a data analysis request; </claim-text><claim-text> creating a plan to generate a response to the request; and </claim-text><claim-text> assigning to each of a plurality of distributed processing segments a corresponding portion of the plan to be performed by that segment, including by invoking as indicated in the assignment one or more data analytical functions embedded in the processing segment. </claim-text></claim><claim id="clm-0002" num="2"><claim-text>2. The method of claim 1, wherein the data analysis request comprises one or more SQL statements. </claim-text></claim><claim id="clm-0003" num="3"><claim-text>3. The method of claim 1, wherein the data analysis request comprises one or more SQL statements to compute one or more of the following: Logistic Regression, Multinomial Logistic Regression, K-means clustering, Association Rules based market basket analysis, and Latent Dirichlet based topic modeling. </claim-text></claim><claim id="clm-0004" num="4"><claim-text>4. The method of claim 1 , wherein the data analysis request is received at a master node of a large scale distributed system. </claim-text></claim><claim id="clm-0005" num="5"><claim-text>5. The method of claim 1, wherein creating a plan to generate a response to the request includes creating a query plan, slicing the query plan into a plurality of slices, and identifying for each slice a group of processing segments to perform tasks comprising that slice of the query plan. </claim-text></claim><claim id="clm-0006" num="6"><claim-text>6. The method of claim 1, wherein assigning to each of a plurality of distributed processing segments a corresponding portion of the plan to be performed by that segment includes embedding in an assignment communication to be sent to one or more of said plurality of distributed processing segments a metadata indicating a location, within a distributed data storage layer, of data to be processed by that segment. </claim-text></claim><claim id="clm-0007" num="7"><claim-text>7. The method of claim 6, wherein each of said distributed processing segments is configured to use the metadata to access said data to be processed by that segment. </claim-text></claim><claim id="clm-0008" num="8"><claim-text>8. The method of claim 6, wherein the distributed data storage layer comprises data stored in an instance of the Hadoop Distributed File System (HDFS) and the metadata indicates a location within the HDFS of data to be processed by that segment. 
<!-- EPO <DP n="11"/>-->
</claim-text></claim><claim id="clm-0009" num="9"><claim-text>9. The method of claim 1, further comprising embedding in each of said plurality of distributed processing segments a library or other shared object comprising said one or more data analytical functions. </claim-text></claim><claim id="clm-0010" num="10"><claim-text>10. The method of claim 9, wherein said library or other shared object is included in the processing segments as deployed. </claim-text></claim><claim id="clm-0011" num="11"><claim-text>11. The method of claim 9, wherein said library or other shared object embodies said one or more data analytical functions in the form of one or more of the following: compiled C++ code, compiled Java, compiled Fortran, or other compiled code. </claim-text></claim><claim id="clm-0012" num="12"><claim-text>12. The method of claim 1, wherein the plurality of distributed processing segments comprise a subset of parallel processing segments comprising a massively parallel processing (MPP) database system. </claim-text></claim><claim id="clm-0013" num="13"><claim-text>13. A system, comprising: </claim-text><claim-text> a communication interface; and </claim-text><claim-text> a processor coupled to the communication interface and configured to: </claim-text><claim-text> receive a data analysis request; </claim-text><claim-text> create a plan to generate a response to the request; and </claim-text><claim-text> assign to each of a plurality of distributed processing segments, via a communication sent via the communication interface, a corresponding portion of the plan to be performed by that segment, including by invoking as indicated in the assignment one or more data analytical functions embedded in the processing segment. </claim-text></claim><claim id="clm-0014" num="14"><claim-text>14. The system of claim 13, wherein the data analysis request comprises one or more SQL statements. </claim-text></claim><claim id="clm-0015" num="15"><claim-text>15. The system of claim 13, wherein the data analysis request is received at a master node of a large scale distributed system. </claim-text></claim><claim id="clm-0016" num="16"><claim-text>16. The system of claim 13, wherein the processor is configured to create the plan to generate a response to the request at least in part by creating a query plan, slicing the query plan into a plurality of slices, and identifying for each slice a group of processing segments to perform tasks comprising that slice of the query plan. </claim-text></claim><claim id="clm-0017" num="17"><claim-text>17. The system of claim 13, wherein the processor is configured to assign to each of a plurality of distributed processing segments a corresponding portion of the plan to be 
<!-- EPO <DP n="12"/>-->
 performed by that segment at least in part by embedding in the communication to be sent via the communication interface to one or more of said plurality of distributed processing segments a metadata indicating a location, within a distributed data storage layer, of data to be processed by that segment. </claim-text></claim><claim id="clm-0018" num="18"><claim-text>18. The system of claim 17, wherein each of said distributed processing segments is configured to use the metadata to access said data to be processed by that segment. </claim-text></claim><claim id="clm-0019" num="19"><claim-text>19. The system of claim 13, wherein each of said distributed processing segments has embedded therein a library or other shared object comprising said one or more data analytical functions. </claim-text></claim><claim id="clm-0020" num="20"><claim-text>20. The system of claim 13, wherein the plurality of distributed processing segments comprise a subset of parallel processing segments comprising a massively parallel processing (MPP) database system. </claim-text></claim><claim id="clm-0021" num="21"><claim-text>21. A computer program product embodied in a tangible, non-transitory computer readable storage medium, comprising computer instructions for: </claim-text><claim-text> receiving a data analysis request; </claim-text><claim-text> creating a plan to generate a response to the request; and </claim-text><claim-text> assigning to each of a plurality of distributed processing segments a corresponding portion of the plan to be performed by that segment, including by invoking as indicated in the assignment one or more data analytical functions embedded in the processing segment. </claim-text></claim><claim id="clm-0022" num="22"><claim-text>22. The computer program product of claim 21, wherein assigning to each of a plurality of distributed processing segments a corresponding portion of the plan to be performed by that segment includes embedding in an assignment communication to be sent to one or more of said plurality of distributed processing segments a metadata indicating a location, within a distributed data storage layer, of data to be processed by that segment. 
</claim-text></claim></claims><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
