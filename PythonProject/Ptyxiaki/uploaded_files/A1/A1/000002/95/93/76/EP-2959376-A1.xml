<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2959376-A1" country="EP" doc-number="2959376" kind="A1" date="20151230" family-id="51351863" file-reference-id="316856" date-produced="20180826" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="160452593" ucid="EP-2959376-A1"><document-id><country>EP</country><doc-number>2959376</doc-number><kind>A1</kind><date>20151230</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-13875911-A" is-representative="NO"><document-id mxw-id="PAPP193868154" load-source="docdb" format="epo"><country>EP</country><doc-number>13875911</doc-number><kind>A</kind><date>20130814</date><lang>EN</lang></document-id><document-id mxw-id="PAPP193868155" load-source="patent-office" format="original"><country>EP</country><doc-number>13875911.3</doc-number><date>20130814</date><lang>EN</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC162030273" ucid="US-2013054943-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>2013054943</doc-number><kind>W</kind><date>20130814</date></document-id></priority-claim><priority-claim mxw-id="PPC162029908" ucid="US-201313770920-A" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>201313770920</doc-number><kind>A</kind><date>20130219</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-1869710538" load-source="docdb">G06F   7/70        20060101AFI20161205BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1869714644" load-source="docdb">G01P  21/00        20060101ALI20161205BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1852719001" load-source="docdb" scheme="CPC">G01P  15/18        20130101 LI20170128BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1852722175" load-source="docdb" scheme="CPC">G01S  19/14        20130101 LI20170126BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987784202" load-source="docdb" scheme="CPC">G01P  21/00        20130101 FI20141126BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT165549245" lang="DE" load-source="patent-office">SYSTEME UND VERFAHREN ZUR KALIBRIERUNG DREIACHSIGER BESCHLEUNIGUNGSAUFNEHMER MIT VERTIKALEN ABTASTPUFFERN</invention-title><invention-title mxw-id="PT165549246" lang="EN" load-source="patent-office">SYSTEMS AND METHODS FOR 3-AXIS ACCELEROMETER CALIBRATION WITH VERTICAL SAMPLE BUFFERS</invention-title><invention-title mxw-id="PT165549247" lang="FR" load-source="patent-office">SYSTÈMES ET PROCÉDÉS D'ÉTALONNAGE D'ACCÉLÉROMÈTRES TRIAXIAUX AVEC DES TAMPONS D'ÉCHANTILLONS VERTICAUX</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR1103317837" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>CALAMP CORP</last-name><address><country>US</country></address></addressbook></applicant><applicant mxw-id="PPAR1103338350" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>CALAMP CORP.</last-name></addressbook></applicant><applicant mxw-id="PPAR1101639745" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Calamp Corp.</last-name><iid>100094092</iid><address><street>1401 North Rice Avenue</street><city>Oxnard, California 93030</city><country>US</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR1103317938" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>HERGESHEIMER PETER</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR1103314610" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>HERGESHEIMER, PETER</last-name></addressbook></inventor><inventor mxw-id="PPAR1101648359" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>HERGESHEIMER, PETER</last-name><address><street>2096 Wandering Drive</street><city>Encinitas, CA 92024</city><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR1103318717" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>SPRAGUE TODD</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR1103326698" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>SPRAGUE, TODD</last-name></addressbook></inventor><inventor mxw-id="PPAR1101645362" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>SPRAGUE, TODD</last-name><address><street>884 Spring Street</street><city>Placerville, CA 95667</city><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR1103307089" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>DIAGNEKOV ALEXANDRE</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR1103334083" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>DIAGNEKOV, Alexandre</last-name></addressbook></inventor><inventor mxw-id="PPAR1101642802" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>DIAGNEKOV, Alexandre</last-name><address><street>2381 VistaLago Terrace</street><city>Escondido, CA 92029</city><country>US</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR1101650077" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Patentanwaltskanzlei Matschnig &amp; Forsthuber OG</last-name><iid>101506908</iid><address><street>Biberstraße 22 Postfach 36</street><city>1010 Wien</city><country>AT</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="US-2013054943-W"><document-id><country>US</country><doc-number>2013054943</doc-number><kind>W</kind><date>20130814</date><lang>EN</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2014130078-A1"><document-id><country>WO</country><doc-number>2014130078</doc-number><kind>A1</kind><date>20140828</date><lang>EN</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS660625571" load-source="docdb">AL</country><country mxw-id="DS660704329" load-source="docdb">AT</country><country mxw-id="DS660625573" load-source="docdb">BE</country><country mxw-id="DS660789042" load-source="docdb">BG</country><country mxw-id="DS660710422" load-source="docdb">CH</country><country mxw-id="DS660626435" load-source="docdb">CY</country><country mxw-id="DS660704330" load-source="docdb">CZ</country><country mxw-id="DS660625389" load-source="docdb">DE</country><country mxw-id="DS660625574" load-source="docdb">DK</country><country mxw-id="DS660626436" load-source="docdb">EE</country><country mxw-id="DS660703951" load-source="docdb">ES</country><country mxw-id="DS660789043" load-source="docdb">FI</country><country mxw-id="DS660789044" load-source="docdb">FR</country><country mxw-id="DS660625579" load-source="docdb">GB</country><country mxw-id="DS660625580" load-source="docdb">GR</country><country mxw-id="DS660625581" load-source="docdb">HR</country><country mxw-id="DS660704331" load-source="docdb">HU</country><country mxw-id="DS660710427" load-source="docdb">IE</country><country mxw-id="DS660625582" load-source="docdb">IS</country><country mxw-id="DS660789045" load-source="docdb">IT</country><country mxw-id="DS660626437" load-source="docdb">LI</country><country mxw-id="DS660625390" load-source="docdb">LT</country><country mxw-id="DS660704332" load-source="docdb">LU</country><country mxw-id="DS660625399" load-source="docdb">LV</country><country mxw-id="DS660625400" load-source="docdb">MC</country><country mxw-id="DS660726178" load-source="docdb">MK</country><country mxw-id="DS660726183" load-source="docdb">MT</country><country mxw-id="DS660704333" load-source="docdb">NL</country><country mxw-id="DS660703952" load-source="docdb">NO</country><country mxw-id="DS660704334" load-source="docdb">PL</country><country mxw-id="DS660703953" load-source="docdb">PT</country><country mxw-id="DS660704339" load-source="docdb">RO</country><country mxw-id="DS660625402" load-source="docdb">RS</country><country mxw-id="DS660704340" load-source="docdb">SE</country><country mxw-id="DS660625415" load-source="docdb">SI</country><country mxw-id="DS660710428" load-source="docdb">SK</country><country mxw-id="DS660710429" load-source="docdb">SM</country><country mxw-id="DS660726184" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data><office-specific-data><eptags><ep-no-a-document-published>*</ep-no-a-document-published></eptags></office-specific-data></bibliographic-data><abstract mxw-id="PA139073779" ref-ucid="WO-2014130078-A1" lang="EN" load-source="patent-office"><p num="0000">Systems and methods for the calibration of 3-axis accelerometers using vertical sample buffers in accordance embodiments of the invention are disclosed. In one embodiment, a telematics system includes a processor, an acceleration sensor, a velocity sensor, and a memory configured to store an acceleration alignment application, wherein the acceleration alignment application configures the processor to receive a velocity information sample using the velocity sensor, determine vehicular acceleration information along at least one vehicle axes using the velocity information sample, receive at least one acceleration sensor acceleration information sample using the acceleration sensor, determine a plurality of vertical vector samples using the vehicular acceleration information, calculate an average vertical vector sample using at least one of the vertical vector samples, and calibrate at least one of the vehicle axes to an acceleration sensor axis using the vehicular acceleration information, the acceleration sensor acceleration sample, and the average vertical vector sample.</p></abstract><abstract mxw-id="PA139541428" ref-ucid="WO-2014130078-A1" lang="EN" source="national office" load-source="docdb"><p>Systems and methods for the calibration of 3-axis accelerometers using vertical sample buffers in accordance embodiments of the invention are disclosed. In one embodiment, a telematics system includes a processor, an acceleration sensor, a velocity sensor, and a memory configured to store an acceleration alignment application, wherein the acceleration alignment application configures the processor to receive a velocity information sample using the velocity sensor, determine vehicular acceleration information along at least one vehicle axes using the velocity information sample, receive at least one acceleration sensor acceleration information sample using the acceleration sensor, determine a plurality of vertical vector samples using the vehicular acceleration information, calculate an average vertical vector sample using at least one of the vertical vector samples, and calibrate at least one of the vehicle axes to an acceleration sensor axis using the vehicular acceleration information, the acceleration sensor acceleration sample, and the average vertical vector sample.</p></abstract><abstract mxw-id="PA139073780" ref-ucid="WO-2014130078-A1" lang="FR" load-source="patent-office"><p num="0000">Des modes de réalisation de la présente invention concernent des systèmes et des procédés d'étalonnage d'accéléromètres triaxiaux au moyen de tampons d'échantillons verticaux. Dans un mode de réalisation, un système télématique comprend un processeur, un capteur d'accélération, un capteur de vitesse et une mémoire conçue pour stocker une application d'alignement d'accélération. L'application d'alignement d'accélération configure le processeur pour la réception d'un échantillon d'information de vitesse au moyen du capteur de vitesse, la détermination d'informations d'accélération d'un véhicule selon au moins un axe du véhicule à l'aide de l'échantillon d'information de vitesse, la réception d'au moins un échantillon d'information d'accélération du capteur d'accélération grâce au capteur d'accélération, la détermination d'une pluralité d'échantillons de vecteurs verticaux grâce aux informations d'accélération du véhicule, le calcul d'un échantillon de vecteur vertical moyen à l'aide d'au moins un des échantillons de vecteurs verticaux, et l'étalonnage d'au moins un des axes du véhicule par rapport à l'axe du capteur d'accélération au moyen des informations d'accélération du véhicule, de l'échantillon d'accélération du capteur d'accélération, et de l'échantillon de vecteur vertical moyen.</p></abstract><abstract mxw-id="PA139541429" ref-ucid="WO-2014130078-A1" lang="FR" source="national office" load-source="docdb"><p>Des modes de réalisation de la présente invention concernent des systèmes et des procédés d'étalonnage d'accéléromètres triaxiaux au moyen de tampons d'échantillons verticaux. Dans un mode de réalisation, un système télématique comprend un processeur, un capteur d'accélération, un capteur de vitesse et une mémoire conçue pour stocker une application d'alignement d'accélération. L'application d'alignement d'accélération configure le processeur pour la réception d'un échantillon d'information de vitesse au moyen du capteur de vitesse, la détermination d'informations d'accélération d'un véhicule selon au moins un axe du véhicule à l'aide de l'échantillon d'information de vitesse, la réception d'au moins un échantillon d'information d'accélération du capteur d'accélération grâce au capteur d'accélération, la détermination d'une pluralité d'échantillons de vecteurs verticaux grâce aux informations d'accélération du véhicule, le calcul d'un échantillon de vecteur vertical moyen à l'aide d'au moins un des échantillons de vecteurs verticaux, et l'étalonnage d'au moins un des axes du véhicule par rapport à l'axe du capteur d'accélération au moyen des informations d'accélération du véhicule, de l'échantillon d'accélération du capteur d'accélération, et de l'échantillon de vecteur vertical moyen.</p></abstract><description mxw-id="PDES78477068" ref-ucid="WO-2014130078-A1" lang="EN" load-source="patent-office"><!-- EPO <DP n="2"/>--><p id="p0001" num="0001"> Systems and Methods for 3-Axis Accelerometer Calibration with Vertical Sample </p><p id="p0002" num="0002"> Buffers </p><p id="p0003" num="0003">FIELD OF THE INVENTION </p><p id="p0004" num="0004"> [0001] The present invention is generally related to calibrating the alignment of a 3- axis accelerometer and more specifically to the calibration of 3-axis accelerometers using vertical sample buffers to align with a vehicle's axis for accurate vehicle acceleration data. </p><p id="p0005" num="0005">BACKGROUND OF THE INVENTION </p><p id="p0006" num="0006"> [0002] A Global Positioning System (GPS) is a space based global navigation satellite system that utilizes a network of geo-synchronous satellites that can be utilized by a GPS receiver to determine its location. Many telematics systems incorporate a Global Positioning System (GPS) receiver, which can be used to obtain the location of a vehicle at a certain measured time. Using the signals received by the GPS receiver, the heading information of the vehicle can be determined. A GPS receiver can determine velocity information in a variety of ways including, but not limited to, measuring the Doppler shift of the received signals and by comparing the location of a vehicle at a plurality of measured times. The acceleration of the vehicle can be determined as the change in speed divided by the time between the measurements. A GPS receiver's ability to determine acceleration can be limited due to the dependence of the measurement upon factors such as, but not limited to, reception and satellite availability. In addition to location information, a GPS receiver can also be configured to provide time data. However, measurements determined via a GPS receiver can contain errors that affect the accuracy of the measured information. In particular, GPS signals are vulnerable to signal delays, inconsistencies of atmospheric conditions that affect the speed of the GPS signals as they pass through the Earth's atmosphere, and multipath distortions. Additionally, other factors not listed above can influence GPS signals and result in measurement errors. </p><p id="p0007" num="0007"> [0003] An accelerometer is a device that measures acceleration associated with the weight experienced by a test mass in the frame of reference of the accelerometer 
<!-- EPO <DP n="3"/>-->
 device. The acceleration measured by an accelerometer is therefore a weight per unit of test mass, or g-force. Thereby, a stationary accelerometer in a vehicle would experience the earth's gravity while a free falling one would not. </p><p id="p0008" num="0008">SUMMARY OF THE INVENTION </p><p id="p0009" num="0009"> [0004] Systems and methods for calibrating the alignment of 3-axis accelerometers using vertical sample buffers in accordance embodiments of the invention are disclosed. In one embodiment of the invention, a telematics system includes a processor, an acceleration sensor connected to the processor and configured to determine acceleration information along one or more acceleration sensor axes, a velocity sensor connected to the processor and configured to determine velocity information along a vehicular forward axis and heading information, and a memory connected to the processor and configured to store an acceleration alignment application and a vertical sample buffer, where the vertical sample buffer is configured to store a number of vertical vector samples, wherein the acceleration alignment application configures the processor to receive a velocity information sample using the velocity sensor, determine vehicular acceleration information along at least one vehicle axes using the velocity information sample, receive at least one acceleration sensor acceleration information sample using the acceleration sensor, determine a plurality of vertical vector samples using the vehicular acceleration information, store at least one of the determined plurality of vertical vector samples using the vertical sample buffer, calculate an average vertical vector sample using at least one of the stored vertical vector samples, and calibrate at least one of the vehicle axes to an acceleration sensor axis in the at least one acceleration sensor axes using the vehicular acceleration information, the at least one acceleration sensor acceleration sample, and the average vertical vector sample. </p><p id="p0010" num="0010">[0005] In another embodiment of the invention, the vertical sample buffer is a circular buffer configured to store a fixed number of vertical vector samples. </p><p id="p0011" num="0011">[0006] In an additional embodiment of the invention, the acceleration alignment application further configures the processor to replace the oldest vertical vector sample 
<!-- EPO <DP n="4"/>-->
 stored in the vertical sample buffer once the fixed number of vertical vector samples have been stored using the vertical sample buffer. </p><p id="p0012" num="0012"> [0007] In yet another additional embodiment of the invention, the acceleration alignment application further configures the processor to associate a vector sample metadata with a vector sample, where the vector sample metadata includes a timestamp. </p><p id="p0013" num="0013"> [0008] In still another additional embodiment of the invention, the acceleration alignment application further configures the processor to associate axis calibration metadata with the at least one calibrated axes and recalibrate the calibrated vehicles axes using the acceleration sensor acceleration information samples, the vehicular acceleration sample, the stored at least one vertical vector sample, the vector sample metadata, and the axis calibration metadata. </p><p id="p0014" num="0014"> [0009] In yet still another additional embodiment of the invention, the velocity sensor is a Global Positioning System (GPS) receiver having a GPS sampling rate, the velocity information determined using the GPS receiver is determined at the GPS sampling rate, each piece of velocity information determined using the GPS receiver has an associated velocity information error, where the velocity information error is a measure of the difference between the determined velocity information and the true velocity information, and the acceleration alignment application configures the processor to calculate the average vertical vector sample to compensate for the velocity information errors. </p><p id="p0015" num="0015">[0010] In yet another embodiment of the invention, the acceleration alignment application further configures the processor to calculate the average vertical vector sample once a number of vertical vector samples have been stored in the buffer. </p><p id="p0016" num="0016">[0011] In still another embodiment of the invention, the number of vertical vector samples is determined based on performance requirements of the telematics system. </p><p id="p0017" num="0017">[0012] In yet still another embodiment of the invention, the velocity sensor is configured to determine velocity information at a velocity sensor sample rate, the performance requirements of the telematics system are based a delay between the motion of the telematics system and the time the calibration of at least one of the vehicle axes to an acceleration sensor axis in the at least one acceleration sensor axes 
<!-- EPO <DP n="5"/>-->
 is completed, and the number of vertical vector samples utilized to determine the average vertical vector is based on the velocity sensor sample rate and the delay. </p><p id="p0018" num="0018">[0013] In yet another additional embodiment of the invention, the acceleration alignment application further configures the processor to determine an updated average vertical acceleration vector using the stored vertical vectors and the calibrated vehicle axes and recalibrate the calibrated vehicles axes using the using the acceleration sensor acceleration information samples, the vehicular acceleration sample, and the updated average vertical acceleration vector. </p><p id="p0019" num="0019"> [0014] Still another embodiment of the invention includes a method for aligning a vehicle's axes using a telematics system, where the telematics system is mounted in a vehicle having one or more vehicle axes, including receiving at least one velocity information sample using a telematics system, determining vehicular acceleration information along at least one vehicle axes using velocity information sample and the telematics system, receiving at least one acceleration sensor acceleration information sample using the telematics system, determining a plurality of vertical vector samples using the vehicular acceleration information and the telematics system, storing at least one of the determined plurality of vertical vector samples using the telematics system, calculating an average vertical vector sample using at least one of the stored vertical vector samples and the telematics system, and calibrating at least one of the vehicle axes to an acceleration sensor axis in the at least one acceleration sensor axes based on the vehicular acceleration information, the at least one acceleration sensor acceleration sample, the average vertical vector sample using the telematics system. </p><p id="p0020" num="0020">[0015] In yet another additional embodiment of the invention, the telematics system is configured to store a fixed number of vertical vector samples. </p><p id="p0021" num="0021"> [0016] In still another additional embodiment of the invention, aligning a vehicle's axes includes replacing the oldest stored vertical vector sample once the fixed number of vertical vector samples has been stored using the telematics system. </p><p id="p0022" num="0022">[0017] In yet still another additional embodiment of the invention, aligning a vehicle's axes includes associating vector sample metadata with a vertical vector sample using the telematics system, where the vector sample metadata includes a timestamp. 
<!-- EPO <DP n="6"/>-->
 [0018] In yet another embodiment of the invention, aligning a vehicle's axes further includes associating axis calibration metadata with the at least one calibrated axes using the telematics system and recalibrating the calibrated vehicles axes based on the acceleration sensor acceleration information samples, the vehicular acceleration sample, the stored at least one vertical vector sample, the vector sample metadata, and the axis calibration metadata using the telematics system. </p><p id="p0023" num="0023"> [0019] In still another embodiment of the invention, the telematics unit includes a Global Positioning System (GPS) receiver having a GPS sampling rate, the velocity information determined using the telematics system is determined at the GPS sampling rate, each piece of velocity information determined using the telematics system has an associated velocity information error, where the velocity information error is a measure of the difference between the determined velocity information and the true velocity information, and calculating the average vertical vector sample using the telematics system compensates for the velocity information errors. </p><p id="p0024" num="0024"> [0020] In yet still another embodiment of the invention, aligning a vehicle's axes further includes calculating the average vertical vector sample using the telematics system once a number of vertical vector samples have been stored. </p><p id="p0025" num="0025"> [0021] In yet another additional embodiment of the invention, the number of vertical vector samples is determined based on performance requirements of the telematics system. </p><p id="p0026" num="0026"> [0022] In still another additional embodiment of the invention, aligning a vehicle's axes further includes calculating the number of vertical vector samples utilized in determining the average vertical vector based on a velocity sensor sample rate using the telematics system. </p><p id="p0027" num="0027"> [0023] In yet still another additional embodiment of the invention, aligning a vehicle's axes further includes determining an updated average vertical acceleration vector based on the stored vertical vectors and the calibrated vehicle axes using the telematics system and recalibrating the calibrated vehicles axes based on the acceleration sensor information samples, the vehicular acceleration sample, and the updated average vertical acceleration vector using the telematics system. 
<!-- EPO <DP n="7"/>-->
 BRIEF DESCRIPTION OF THE DRAWINGS </p><p id="p0028" num="0028"> [0024] FIG. 1 illustrates a system for calibrating a 3-axis accelerometer with an accelerometer, GPS unit and telematics processor in accordance with an embodiment of the invention. </p><p id="p0029" num="0029"> [0025] FIG. 2 illustrates the alignment of the axes of a 3-axis accelerometer to the axes of a vehicle in accordance with an embodiment of the invention. </p><p id="p0030" num="0030">[0026] FIG. 3 is a flow chart illustrating a process for calibrating the axes of an accelerometer to the vertical, forward and lateral axes of a vehicle in accordance with an embodiment of the invention. </p><p id="p0031" num="0031"> [0027] FIG. 4 is a flow chart illustrating a process for calibrating a 3-axis accelerometer along its vertical vector in accordance with an embodiment of the invention. </p><p id="p0032" num="0032"> [0028] FIG. 5 is a flow chart illustrating a process for calibrating a 3-axis accelerometer along its lateral vector in accordance with an embodiment of the invention. </p><p id="p0033" num="0033"> [0029] FIG. 6 is a flow chart illustrating a process for determining an average forward vector used in the calibration of 3-axis accelerometer in accordance with an embodiment of the invention. </p><p id="p0034" num="0034"> [0030] FIG. 7 is a flow chart illustrating a process for the low latency calibration of a</p><p id="p0035" num="0035">3-axis accelerometer in accordance with an embodiment of the invention. </p><p id="p0036" num="0036"> [0031] FIG. 8 is a flow chart illustrating a process for the calibration of a 3-axis accelerometer with vertical sample buffers in accordance with an embodiment of the invention. </p><p id="p0037" num="0037">DETAILED DESCRIPTION </p><p id="p0038" num="0038"> [0032] Turning now to the drawings, systems and methods for calibration of the alignment of 3-axis accelerometers using vertical sample buffers in accordance with embodiments of the invention are illustrated. Information concerning vehicle speed and acceleration can provide insights into driver behavior. For example, such information can indicate a variety of driver behaviors, including, but not limited to, performing hard 
<!-- EPO <DP n="8"/>-->
 cornering or suddenly stopping while driving. In accordance with many embodiments of the invention, vehicle speed can be calculated using information provided by a Global Position System (GPS) receiver by dividing the distance traveled by the GPS receiver by the time between measurements taken by the GPS receiver. The differences in vehicle speed between measurements taken by the GPS receiver can be used to determine acceleration information for the vehicle. However, the use of GPS data to calculate acceleration information is dependent upon a variety of factors, such as reception and satellite availability, which can present problems when calculating the acceleration information. In accordance with embodiments of the invention, a variety of devices configured to determine location and/or velocity information other than GPS receivers can be used. </p><p id="p0039" num="0039"> [0033] Acceleration information for a vehicle can also be captured using an accelerometer or other device configured to determine acceleration information; these devices are often installed on a vehicle or mobile device. Accelerometers installed on a vehicle that are not accurately aligned with the vehicle axes limit the accuracy of the acceleration data captured by the accelerometer. In a number of embodiments, the accelerometer axes do not change relative to the vehicle axes. A 3-axis accelerometer is an accelerometer configured to determine acceleration in the X, Y, and Z axes, corresponding to the forward, lateral, and vertical vectors measured by the 3-axis accelerometer. Accurate accelerometer data aligned with the axes of the vehicle is beneficial in many applications, including, but not limited to, telematics. Telematics is the integrated use of telecommunications and informatics, including, but not limited to, monitoring vehicle movement and behavior. </p><p id="p0040" num="0040"> [0034] In accordance with embodiments of the invention, a 3-axis accelerometer is calibrated to align with a vehicle's vertical, lateral, and forward axes using acceleration information and location information of the vehicle. In many embodiments, the location information is captured using a GPS receiver and the acceleration information is captured using the 3-axis accelerometer, although other devices capable of capturing location and/or acceleration information can be utilized in accordance with embodiments of the invention. These measurements can be taken based on an occurrence of certain 
<!-- EPO <DP n="9"/>-->
 events, in response to a request for calibration, and/or performed continuously. In many embodiments, acceleration and location information is measured when location information captured using the GPS receiver indicates that the vehicle is stationary. In several embodiments, acceleration and location information is measured when the location information captures using the GPS receiver indicates that the vehicle is in motion and/or that the vehicle is traveling over a certain speed. Data analysis, including filtering, can be utilized to filter useful data from erroneous or irrelevant measurements captured by the 3-axis accelerometer and/or GPS receiver and/or aligned data computed using the 3-axis accelerometer and/or GPS receiver data. </p><p id="p0041" num="0041">[0035] A vertical vector can be used for comparison between vertical acceleration detected by an accelerometer or from data captured using a GPS receiver. However, errors in the captured and/or detected data can result in the vertical vector providing an inaccurate measurement of the true motion of the vehicle. In many embodiments, vertical vectors are determined over discrete time intervals and averaged to compensate for measurement errors. The vertical vectors can be stored in a vertical sample buffer; a variety of vertical sample buffers can be utilized in accordance with embodiments of the invention, including circular buffers. In several embodiments, a moving average of the stored vertical vectors is utilized in aligning the accelerometer axes to the vehicle axes. </p><p id="p0042" num="0042"> [0036] Systems and methods for calibrating a 3-axis accelerometer to align with the axes of a vehicle utilizing information captured using an accelerometer and/or a GPS receiver in accordance with embodiments of the invention are discussed further below. </p><p id="p0043" num="0043">Telematics System Architecture </p><p id="p0044" num="0044"> [0037] Telematics systems are utilized in vehicles to determine and/or report the location and behavior of the vehicle. A telematics system containing a 3-axis accelerometer aligned to vehicle axes in accordance with an embodiment of the invention is illustrated in FIG. 1 . The telematics system 100 includes a telematics unit 102, where the telematics unit 102 includes a GPS receiver 106, a 3-axis accelerometer 108, and a telematics process 1 10. The GPS receiver 106 and the 3-axis accelerometer 
<!-- EPO <DP n="10"/>-->
 108 are configured to communicate with a telematics processor 1 10. The GPS receiver 106 is configured to receive signals from one or more GPS satellites 104, if available. In accordance with embodiments of the invention, the GPS receiver 106 and the 3-axis accelerometer 108 are configured to provide information to the telematics processor 1 10 at a sample rate; the GPS sample rate of the GPS receiver 106 and the accelerometer sample rate of the 3-axis accelerometer 108 are independent and determined dynamically or pre-determined. </p><p id="p0045" num="0045"> [0038] In several embodiments, the GPS receiver 106 is configured to determine location information using signals received from a number of GPS satellites 104. In many embodiments, the GPS receiver 106 is configured to determine velocity and/or acceleration information using the received location information. In a number of embodiments, the GPS receiver is configured to determine velocity information by measuring the Doppler shift of the signals received from the GPS satellites 104. In a variety of embodiments, a vertical sample buffer 1 14 is utilized to store vertical vector samples; the stored vertical vector samples can be processed to compensate for errors in the received GPS information. In many embodiments, the 3-axis accelerometer 108 can generate 3-axis acceleration data from vehicle motion. In many embodiments, the telematics processor 1 10 is configured to calibrate the 3-axis accelerometer 108 to correlate the 3-axis acceleration data generated by the 3-axis accelerometer 108 to the axes of the vehicle in which the telematics system 100 is installed using velocity and/or acceleration information. In a number of embodiments, the telematics processor 1 10 is configured to determine velocity and/or acceleration information using location information received using the GPS receiver 106. In multiple embodiments, the telematics processor 1 10 utilizes acceleration and/or velocity information generated by the GPS receiver 106. </p><p id="p0046" num="0046"> [0039] In several embodiments, the telematics unit 102 includes a GPS sample filter 120 and/or an accelerometer sample filter 124. The GPS sample filter 120 is configured to sample and convert the sampling rate of the GPS receiver 106. The accelerometer sample filter 124 is configured to sample and convert the sampling rate of the 3-axis accelerometer 108. In many embodiments, the GPS sample filter 120 and/or the 
<!-- EPO <DP n="11"/>-->
 accelerometer sample filter 124 are configured to match the GPS sampling rate to the accelerometer sampling rate. For example, if the GPS receiver 106 has a sampling rate of 250 milliseconds and the 3-axis accelerometer 108 has a sampling rate of 50 milliseconds, the accelerometer sample filter 124 can utilize five samples generated using the 3-axis accelerometer 108 to match the 250 millisecond sample rate of the GPS receiver 106. The accelerometer sample filter 124 and/or the GPS sample filter 120 perform the rate matching in a variety of ways, including, but not limited to, averaging information received, selecting the highest sample received, selecting the smallest sample received, selecting one sample at random, and/or selecting the last sample. In many embodiments, the accelerometer sample filter 124 and/or the GPS sample filter 120 are implemented using the telematics processor 1 10 and/or the history buffer 1 12. In a variety of embodiments, the sampling rates of the GPS receiver and the accelerometer do not need to be synchronized in order to calibrate the axes of the accelerometer with the vehicle axes. </p><p id="p0047" num="0047"> [0040] In a number of embodiments, the telematics unit 102 includes a GPS sample window 122 configured to store one or more samples received using the GPS receiver 106. In several embodiments, the telematics unit 102 includes an accelerometer sample window 126 configured to store one or more samples received using the 3-axis accelerometer 108. In many embodiments, the telematics processor 1 10 can accumulate information provided by the GPS receiver 106 and the 3-axis accelerometer 108 along with calibration information using a history buffer 1 12. In several embodiments, the telematics processor 1 10 is configured to use the accumulated information to perform the calibration of the 3-axis accelerometer 108 to the vehicle axes. In a number of embodiments, the telematics processor 1 10 is configured to adapt the calibration of the 3-axis accelerometer 108 to the vehicle axes using the location and/or velocity information determined using the GPS receiver 106. In many embodiments, the GPS sample window 122, the accelerometer sample window 126, and/or the vertical sample buffer 1 14 is implemented using the telematics processor 1 10 and/or the history buffer 1 12. 
<!-- EPO <DP n="12"/>-->
 [0041] A specific telematics system is described above; however, a variety of telematics systems, including those that receive location information without using a GPS receiver, can be utilized in accordance with embodiments of the invention. Processes for calibrating a 3-axis accelerometer relative to the axes of a vehicle to which the 3-axis accelerometer is installed are discussed further below. </p><p id="p0048" num="0048">Comparison of Accelerometer Axes and Vehicle Axes </p><p id="p0049" num="0049"> [0042] In order to provide accurate acceleration information, a 3-axis accelerometer is calibrated to the axes of the vehicle in which the 3-axis accelerometer is installed. An illustration of the relative alignment of the axes of a 3-axis accelerometer to the axes of a vehicle in accordance with embodiments of the invention is shown in FIG. 2. Coordinate axes 200 show the relative alignment of the axes 208 of a 3-axis accelerometer 204 and the axes 206 of a vehicle 202 to which the accelerometer is mounted. The X, Y and Z coordinate axes 206 are the axes of a vehicle. The Xi, Yi and Z<sub>?</sub> axes are the axes 208 of the 3-axis accelerometer 204. In the illustrated embodiment, the axes 208 of the 3-axis accelerometer 204 are not aligned with the axes 206 of the vehicle 202. Therefore, in order to determine acceleration along the axes 206 of the vehicle, the 3-axis accelerometer's 204 axes 208 Xi, Yi and Z? are calibrated with respect to the axes 206 X, Y and Z of the vehicle 202; processes for performing this calibration are discussed in more detail below. In many embodiments of the invention, the axes 206 X, Y and Z of the vehicle 202 correspond to a gravity vector, a lateral directional vector of travel along a horizontal plane, and the orthogonal to the gravity vector and the lateral motion vector; accordingly, the calibration of the accelerometer's 204 axes 208 Xi, Yi and Z<sub>?</sub> are to the gravity vector, the lateral motion vector, and the orthogonal of the gravity vector and the lateral motion vector. In many embodiments, the 3-axis accelerometer 204 is part of a telematics system installed in the vehicle 202. </p><p id="p0050" num="0050"> [0043] Although a specific relative alignment between the axes of a 3-axis accelerometer and a vehicle described above, a variety of alignments, including those where the axes of a 3-axis accelerometer are aligned to a gravity vector, a lateral 
<!-- EPO <DP n="13"/>-->
 motion vector, and the orthogonal of the gravity vector and the lateral motion vector, can be utilized in accordance with embodiments of the invention. Processes for calibrating 3-axis accelerometers in accordance with embodiments of the invention are described below. </p><p id="p0051" num="0051">3-axis Accelerometer Calibration using GPS Location Information </p><p id="p0052" num="0052">[0044] The location, velocity, and acceleration of a vehicle can be captured using a GPS receiver and utilized to determine the motion of the axes of a vehicle relative to the Earth. This information can be correlated to information measured using a 3-axis accelerometer, thereby calibrating the 3-axis accelerometer to the vehicle. A process for calibrating the axes of a 3-axis accelerometer to the vertical, forward and lateral axes of a vehicle containing both the 3-axis accelerometer and the GPS receiver in accordance with an embodiment of the invention is illustrated in FIG. 3. </p><p id="p0053" num="0053"> [0045] The process 300 includes determining (302) lateral acceleration. Forward acceleration is determined (304). Vertical acceleration is determined (306). In several embodiments, orthogonal vectors representing the vertical, forward, and lateral vectors are computed (308). The vertical, forward, and lateral vectors are correlated (310) to the axes of the 3-axis accelerometer. If necessary, the calibration process continues (312) beginning with step 302. If the calibration process does not continue (312), the process ends. </p><p id="p0054" num="0054"> [0046] In many embodiments, lateral acceleration is determined (302) using information captured using a 3-axis accelerometer when a GPS receiver indicates that the vehicle is not in motion. In a number of embodiments, forward acceleration is determined (304) using information measured using the 3-axis accelerometer when location information measured using the GPS receiver indicates that the vehicle is in motion. In several embodiments, forward acceleration is determined (304) when a vehicle exceeds a predetermined speed. In several embodiments, vertical acceleration is determined (306) by computing the cross product of the lateral acceleration and forward acceleration. In many embodiments, the orthogonal vectors are computed (308) by calculating the cross product of every combination of the forward acceleration, the 
<!-- EPO <DP n="14"/>-->
 lateral acceleration, and the vertical acceleration. In a number of embodiments, calibration continues (312) if the magnitude of the correlation between the 3-axis accelerometer and the vertical, forward, and lateral vectors exceeds a threshold value. In several embodiments, the calibration continues (312) while the vehicle is in motion. In many embodiments, the calibration continues (312) while the vehicle is turned on. In a number of embodiments, the calibration is only performed once and does not continue (312). In a number of embodiments, the calibration process continues (312) when the determined (302, 304, 306) lateral, forward, and/or vertical accelerations exceed a threshold value; the threshold value can be pre-determined or determined dynamically. In several embodiments, the calibration process continues (312) until a certain number of successful calibration attempts have been reached. The number of successful calibration attempts can be pre-determined or determined dynamically. </p><p id="p0055" num="0055">[0047] In accordance with many embodiments of the invention, the determined (302, 304, 306) vertical, forward, and/or lateral accelerations are stored in a history buffer. Correlating (310) the vertical, forward, and lateral accelerations with the 3-axis accelerometer axes utilizes the stored vertical, forward, and/or lateral accelerations. In certain embodiments, once a new lateral acceleration is determined (302), correlating (310) the accelerations with the 3-axis accelerometer axes utilizes the lateral acceleration and forward and vertical accelerations stored in the history buffer. Likewise, in several embodiments, once a new forward acceleration is determined (304), calibration (310) utilizes vertical and lateral accelerations stored in the history buffer. In various embodiments, the vertical, forward, and/or lateral accelerations stored in the history buffer are used to predetermine what a vehicle's vertical, forward and lateral axes are and an accelerometer's axes system are calibrated to fit the predetermined vehicle axes. In many embodiments, the vertical, forward, and/or lateral accelerations stored in the history buffer correlate to GPS acceleration samples taken using the GPS receiver and/or accelerometer acceleration samples taken using the 3- axis accelerometer. </p><p id="p0056" num="0056"> [0048] In accordance with embodiments of the invention, correlating (310) the vectors corresponding with the axes of the vehicle with the 3-axis accelerometer axes 
<!-- EPO <DP n="15"/>-->
 can be performed using a least squares method. Given motion vector samples [Χι,Υι,Ζι], where i is the number of motion vector samples, vertical alignment vector [v<sub>x</sub>,V<sub>y</sub>,V<sub>z</sub>], forward GPS acceleration sample F<sub>£</sub> and lateral GPS acceleration sample L<sub>£</sub> and vertical acceleration 
<img id="imgf000015_0001" he="11" wi="57" file="imgf000015_0001.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="no"/>
 </p><p id="p0057" num="0057">the alignment vectors that calibrate the axes of the 3-axis accelerometer to the axes of the vehicle are calculated by: </p><p id="p0058" num="0058"> B<sub>1</sub> = * V<sub>x</sub> + A<sub>12</sub> * V<sub>y</sub> + A<sub>13</sub> * V<sub>z</sub> </p><p id="p0059" num="0059"> B<sub>2</sub> = A<sub>12</sub> * V<sub>x</sub> + A<sub>22</sub> * V<sub>y</sub> + A<sub>23</sub> * V<sub>z</sub> </p><p id="p0060" num="0060"> B<sub>3</sub> = A<sub>13</sub> * V<sub>x</sub> + A<sub>23</sub> * V<sub>y</sub> + A<sub>33</sub> * V<sub>z</sub> </p><p id="p0061" num="0061">where </p><p id="p0062" num="0062"><img id="imgf000015_0002" he="43" wi="31" file="imgf000015_0002.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="no"/></p><p id="p0063" num="0063">*23 <sup>:</sup>∑<sup>y</sup>i *<sup>z</sup>i 
<img id="imgf000015_0003" he="9" wi="24" file="imgf000015_0003.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="no"/>
 </p><p id="p0064" num="0064"> h = Vi*Xi </p><p id="p0065" num="0065">B<sub>2</sub> = V<sub>i</sub> *Y<sub>i</sub> 
<img id="imgf000015_0004" he="9" wi="29" file="imgf000015_0004.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="no"/>
 </p><p id="p0066" num="0066"> [0049] In accordance with embodiments of the invention, the vertical alignment vector[¾., V<sub>y</sub>, V<sub>z</sub>] is determined using a Gaussian elimination process. For example, </p><p id="p0067" num="0067"> D<sub>2</sub> * C11 D-i * C<sub>12</sub> 
<!-- EPO <DP n="16"/>-->
 
<img id="imgf000016_0001" he="5" wi="35" file="imgf000016_0001.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="no"/>
 </p><p id="p0068" num="0068"> Cii * C22 - c<sup>2</sup> </p><p id="p0069" num="0069">and V<sub>r</sub> is the maximunn of </p><p id="p0070" num="0070"><img id="imgf000016_0002" he="37" wi="55" file="imgf000016_0002.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="no"/></p><p id="p0071" num="0071">where </p><p id="p0072" num="0072"> -11 <sup>—</sup> -"11 "· -"22 -"12 </p><p id="p0073" num="0073"> C 2 — -^H * -^23 -^12 * 13</p><p id="p0074" num="0074"><img id="imgf000016_0003" he="6" wi="42" file="imgf000016_0003.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="no"/></p><p id="p0075" num="0075"> = B<sub>2</sub> * — B<sub>1</sub> * A 12 
<img id="imgf000016_0004" he="9" wi="54" file="imgf000016_0004.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="no"/>
 </p><p id="p0076" num="0076"> [0050] Although a specific process for calibrating the axes of a 3-axis accelerometer to the axes of a vehicle is discussed above with respect to FIG. 3, any of a variety of processes, including those which obtain information related to the location, velocity, and/or acceleration of a vehicle using devices other than GPS receivers, can be performed in accordance with embodiments of the invention. In particular, embodiments that determine an average vertical vector that compensates for errors in the measured vertical vectors and use the average vertical vector to calibrate the axes of a 3-axis accelerometer to the axes of the vehicle are discussed in further detail below. Processes for calibrating the axes of a 3-axis accelerometer in accordance with embodiments of the invention are disclosed below. </p><p id="p0077" num="0077">Vertical Vector Calibration </p><p id="p0078" num="0078"> [0051] Filtering the information measured using a 3-axis accelerometer, a GPS receiver, and/or data aligning the 3-axis accelerometer and the GPS receiver can eliminate erroneous data, including, but not limited to, data from a vehicle stopped on 
<!-- EPO <DP n="17"/>-->
 an incline. A process for calibrating a vertical vector measured using a 3-axis accelerometer to filter erroneous data in accordance with an embodiment of the invention is illustrated in FIG. 4. The process 400 includes measuring (402) vertical acceleration using a 3-axis accelerometer. The forward acceleration of the 3-axis accelerometer is measured (404). The forward acceleration and the vertical acceleration are processed (406) to determine a vertical vector. In several embodiments, the vertical acceleration and/or the forward acceleration are stored (408) as part or all of the historical motion data. If the vertical vector is detected (410) in the processed (408) vertical and forward accelerations, the 3-axis accelerometer calibration is updated (412) to compensate for the vertical vector. In a number of embodiments, if a vertical vector is not detected (410), the process 400 repeats. In many embodiments, if a vertical vector is not detected (410), the process 400 ends. </p><p id="p0079" num="0079"> [0052] In many embodiments, the vertical vector is measured (402) when the speed of the vehicle exceeds a threshold; the threshold can be pre-determined or determined dynamically. In several embodiments, the forward acceleration of the 3-axis accelerometer is measured (404) when the forward acceleration exceeds a threshold acceleration; the threshold acceleration can be pre-determined or determined dynamically. In a number of embodiments, the motion of the vehicle is determined using a GPS receiver. In several embodiments, elevation data measured using the GPS receiver is utilized to determine whether the vehicle is likely stopped on an incline. In many embodiments, determining that the vehicle is at rest using the GPS receiver involves no change in GPS receiver position over time. In a number of embodiments, detecting no GPS receiver movement can involve a determination of whether there is any GPS receiver movement over time that takes consideration of erroneous GPS receiver movement readings. In many embodiments, the motion of the vehicle is determined using the 3-axis accelerometer. In several embodiments, detecting constant acceleration using an accelerometer is made in an event with no movement of a vehicle as detected by a GPS receiver. In several embodiments, the stored (408) historical motion data includes data captured using the GPS receiver and/or 3-axis accelerometer. In certain embodiments, only a selection of data is stored (408) as 
<!-- EPO <DP n="18"/>-->
 historical motion data, such as data that corresponds to certain events of interest. In a number of embodiments, all data captured using the GPS receiver and/or 3-axis accelerometer is stored (408) as historical motion data. </p><p id="p0080" num="0080"> [0053] For example, when the GPS receiver indicates that a vehicle is stationary and the 3-axis accelerometer experiences constant acceleration, an assumption can be made that the vehicle is stationary and that the 3-axis accelerometer output is indicative of vertical acceleration due to gravity. When both the 3-axis accelerometer and the GPS receiver indicate vehicle speeds above a certain threshold value and increasing with a constant direction, an assumption can be made that the vehicle is accelerating in approximately a straight line. When a calibration event occurs, the calibration of the 3- axis accelerometer is updated (412) utilizing the determined (406) vertical vector to compensate for the vertical acceleration due to gravity as measured by the 3-axis accelerometer. </p><p id="p0081" num="0081"> [0054] In numerous embodiments, the processing (406) of current motion data includes analysis and filtering of data to provide data veracity. In several embodiments, current measured (402, 404) vertical and forward accelerations are processed (406) using historical motion data. Data analysis can utilize filters, including least mean squares, least squares, and Gaussian elimination methods, including those described above with respect to FIG. 3. </p><p id="p0082" num="0082"> [0055] Although specific processes are discussed above for calibrating a 3-axis accelerometer to compensate for acceleration along its vertical vector, any of a variety of processes can be utilized, including processes that operate on vehicles that are in motion, in accordance with embodiments of the invention. In particular, alternative techniques for calibrating a 3-axis accelerometer that utilize vertical sample buffers to compensate for measurement errors in the vertical vector are discussed in more detail below with respect to FIG. 8. Processes for calibrating a 3-axis accelerometer along its forward vector in accordance with embodiments of the invention are described below. 
<!-- EPO <DP n="19"/>-->
 Lateral Vector Calibration </p><p id="p0083" num="0083"> [0056] Filtering the lateral vector measured by a 3-axis accelerometer allows a telematics unit to compensate for measurement errors, including measurements made when a vehicle is moving backwards or turning very slightly. A process for calibrating a 3-axis accelerometer along its lateral axis in accordance with an embodiment of the invention is illustrated in FIG. 5. The process 500 includes detecting (502) data related to the forward acceleration of a vehicle. The direction of the acceleration is determined (504). The acceleration data is processed (506) to determine a lateral vector. In a number of embodiments, the acceleration data is stored (508) as part of all of the historical motion data. If a lateral vector is detected (510), the calibration of the 3-axis accelerometer is updated (512) using the lateral vector. In many embodiments, if no lateral vector is detected (510), the process 500 repeats. In several embodiments, if no lateral vector is detected (510), the process 500 is complete. </p><p id="p0084" num="0084"> [0057] In many embodiments, detecting (502) data related to the forward acceleration of a vehicle includes determining that the velocity of the vehicle exceeds a threshold velocity. In several embodiments, the velocity of the vehicle can be detected (502) using a GPS receiver and/or a 3-axis accelerometer. The GPS receiver and/or 3- axis accelerometer can also be utilized to determine (504) the direction in which the vehicle is traveling. In a number of embodiments, the vehicle is traveling in a constant direction. Analysis of data received using a GPS receiver can determine (504) whether the direction of motion is unchanging by comparing current values to past values. Similarly, analysis of data received using a 3-axis accelerometer can determine (504) whether the direction of acceleration is unchanging by comparing current acceleration to past values for any changes in acceleration direction. Certain embodiments only use a GPS receiver or only use a 3-axis accelerometer to determine (504) constant direction; other embodiments use both a GPS receiver and a 3-axis accelerometer to determine (504) a constant direction. Several embodiments use a GPS receiver to check data received using a 3-axis accelerometer or vice versa. In various embodiments, a constant direction is not one in which data indicates the direction data is rigidly constant, but takes into account errors and discrepancies that can come from erroneous direction 
<!-- EPO <DP n="20"/>-->
 data, such as an inaccurate GPS reading or measurement errors in a 3-axis accelerometer. </p><p id="p0085" num="0085"> [0058] Analysis of data can be used to determine whether the data is indicative of a lateral vector. Indications of a lateral vector can filter out data that is likely an outlier, such as data indicating that a vehicle is moving backward rather than forward. This can include filtering out events indicating that a vehicle is slowly backing out of a parking spot before turning and driving in a forward direction. Data analysis can utilize filters, including, but not limited to, least mean squares, least squares, and Gaussian elimination methods, including those described above with respect to FIG. 3. </p><p id="p0086" num="0086">[0059] A specific process is described above with respect to FIG. 5 for calibrating the forward axis of a 3-axis accelerometer with respect to a lateral vector; however, any of a variety of processes can be utilized, including processes that do not rely upon uniform forward motion of the vehicle, in accordance with an embodiment of the invention. Processes for calibrating a 3-axis accelerometer using an average forward vector in accordance with embodiments of the invention are discussed below. </p><p id="p0087" num="0087">3-Axis Accelerometer Calibration using an Average Forward Vector </p><p id="p0088" num="0088">[0060] Once a vertical vector and/or a lateral vector have been determined, an average forward vector can be computed; this average forward vector is used to calibrate the forward acceleration measured using a 3-axis accelerometer to the forward motion of the vehicle in which the 3-axis accelerometer is mounted. A process for determining an average forward vector used to calibrate a 3-axis accelerometer in accordance with en embodiment of the invention is illustrated in FIG. 6. The process 600 includes determining (602) acceleration information. A vertical vector is determined (604). An average forward vector is determined (606). In many embodiments, the vertical, lateral, and/or average forward vectors are stored (608) as historical data. The calibration of a 3-axis accelerometer is updated (610). </p><p id="p0089" num="0089"> [0061] In many embodiments, acceleration information is determined (602) utilizing a GPS receiver and/or a 3-axis accelerometer. In many embodiments, the vertical vector is determined (604) using a process similar to the one described above with respect to 
<!-- EPO <DP n="21"/>-->
 FIG. 4. In a number of embodiments, determining (604) the vertical vector includes multiplying a normalized vertical vector by acceleration information stored as historical data. In several embodiments, determining (606) the average forward vector includes determining a lateral vector using a process similar to the one described above with respect to FIG. 5. In many embodiments, determining the lateral vector includes subtracting the determined (604) vertical vector from the determined (602) acceleration information. The vertical vector and/or acceleration information used to determine the lateral vector can be stored (608) as historical data. In a number of embodiments, determining (606) the average forward vector utilizes the lateral vector and the angle between the lateral vector and a measured forward vector. In several embodiments, the measured forward vector is determined using forward acceleration information captured using a 3-axis accelerometer. In many embodiments, the measured forward vector is a previously calculated average forward vectored stored as historical data. In a number of embodiments, determining (606) the average forward vector uses one or both of the determined (602) acceleration and the determined (604) vertical vector. In many embodiments, a certain amount of acceleration information and/or a certain number of vertical vectors and/or average forward vectors are stored (608) as historical data before the 3-axis accelerometer calibration is updated (610). The amount of acceleration information and/or number of vectors stored can be determined dynamically and/or pre-determined. </p><p id="p0090" num="0090"> [0062] A specific process is described above with respect to FIG. 6 for calibrating a 3-axis accelerometer using a determined average forward vector; however, any of a variety of processes, including those which utilize an average lateral vector and those which determine a lateral vector, can be utilized in accordance with an embodiment of the invention. Processes for calculating aligned forward, lateral, and vertical accelerations in accordance with embodiments of the invention are discussed further below. 
<!-- EPO <DP n="22"/>-->
 Low Latency 3-Axis Accelerometer Calibration </p><p id="p0091" num="0091"> [0063] During the operation of a vehicle, drivers benefit from receiving warning and alerts as quickly as possible so corrective action can be taken. Many of these alerts depend upon acceleration information measured using 3-axis accelerometers. By performing a low latency alignment of a 3-axis accelerometer, acceleration information can be provided quickly, enabling warnings and alerts to be generated with short delays. Telematics units in accordance with embodiments are configured to determine lateral incline vectors and forward incline vectors using measured acceleration information; these vectors can be utilized to determine alignment information in a low latency fashion. A process for low latency acceleration alignment in accordance with an embodiment of the invention is shown in FIG. 7. The process 700 includes measuring (702) forward and lateral acceleration. A lateral incline vector is calculated (704). A lateral vector is calculated (706). A forward incline vector is calculated (708). A forward vector is calculated (710). A vertical vector is calculated (712). Acceleration axes are calibrated (714). </p><p id="p0092" num="0092"> [0064] In a variety of embodiments, measuring (702) forward and/or lateral acceleration is performed using a GPS receiver and/or 3-axis accelerometer. In several embodiments, measuring (702) forward and/or lateral acceleration is performed using processes similar to those described above. In many embodiments, a lateral incline vector (Aiat-inciine) can be calculated (704) such that: </p><p id="p0093" num="0093">^lat— incline ^mems ^gps * N OT7Tl(F <sub>ca</sub>ib X A<sub>mems</sub>) where A<sub>mem</sub>s is a vector representing the acceleration data typically provided by a 3-axis accelerometer, F<sub>ca</sub>ib is the calibrated forward vector, and L<sub>gps</sub> is the lateral acceleration of a vehicle. In a number of embodiments, L<sub>gps</sub> is determined using a GPS receiver. In several embodiments, Ai<sub>a</sub>t-inciine is calculated by determining the accelerometer acceleration vector (A<sub>mem</sub>s) and forward vector (F<sub>ca</sub>ib) and computing the cross product of the two vectors. In a variety of embodiments, the resulting vector is normalized. </p><p id="p0094" num="0094">[0065] In several embodiments, a lateral vector (Ai<sub>a</sub>t) can be calculated (706) using the formula: 
<!-- EPO <DP n="23"/>-->
 t — N orm(F<sub>ca</sub>i<sub>b</sub> x Ai<sub>at</sub>_<sub>inc</sub>i<sub>ine</sub>) where F<sub>ca</sub>ib is the calibrated forward vector and A|<sub>a</sub>t-inciine is the lateral incline vector. </p><p id="p0095" num="0095">[0066] In a similar fashion, in several embodiments of the invention, a forward incline vector (Aforw-inciine) can be calculated (708) such that: </p><p id="p0096" num="0096">A forw— incline ^mems ^gps * ^ ^^^-^^lat— incline ^ ^lat) where Ai<sub>a</sub>t-inciine is the lateral incline vector, A<sub>!a</sub>t is the lateral vector, F<sub>gps</sub> is the measured forward acceleration, and A<sub>mem</sub>s is the acceleration vector. In a variety of embodiments, (Aiat-inciine X Ai<sub>at</sub>) is normalized. </p><p id="p0097" num="0097"> [0067] In many embodiments, the forward vector (A<sub>f0</sub>rw) can be calculated (71 0) such that: </p><p id="p0098" num="0098">Aforw N OTtn(Af<sub>orw</sub>_i<sub>nc</sub>ii<sub>ne</sub> x Ai<sub>at</sub>) where A<sub>f0</sub>rw-inciine is the forward incline vector and (A|<sub>a</sub>t) the lateral vector. In a variety of embodiments (Aforw-inciine X Aiat) is normalized to determine the forward vector (A<sub>for</sub>w)- Once the lateral and forward vectors are calculated, the vertical vector (Avert) may be calculated (71 2) such that: </p><p id="p0099" num="0099">A<sub>V</sub>ert <sup>=</sup> N orm(Ai<sub>at</sub> x A†<sub>orw</sub>) where A<sub>!a</sub>t is the lateral vector and A<sub>f0</sub>rw is the forward vector. In a variety of embodiments (A<sub>a</sub>t X A<sub>f0</sub>rw) is normalized to determine the vertical vector (A<sub>ve</sub>rt)- [0068] In a variety of embodiments, the axes of the 3-axis accelerometer are calibrated (71 4) to the axes of the vehicle using the aligned (706, 71 0, 71 2) forward, lateral, and vertical vectors. In several embodiments of the invention, the aligned lateral vector (Aiat), forward vector (A<sub>f0</sub>rw), and vertical vector (A<sub>ve</sub>rt), are used to calibrate (714) the aligned lateral, forward, and vertical axes such that: </p><p id="p0100" num="0100">Aligned Lateral Axis = A<sub>iat</sub> * A 
<!-- EPO <DP n="24"/>-->
 Aligned Forward Axis = A<sup>■</sup>forw * A. mems </p><p id="p0101" num="0101">Aligned Vertical Axis = A vert * A mems </p><p id="p0102" num="0102">[0069] As discussed above, the acceleration information utilized above is obtained from 3-axis accelerometers and GPS receivers at a sampling rate related to the device providing the information. In many embodiments, the determination of the lateral incline vector and the forward incline vector utilizes fewer samples (a variety of embodiments utilize half the number of samples) than accumulating information from the 3-axis accelerometer and the GPS receiver and directly calculating the calibration information for the forward, lateral, and vertical axes of the 3-axis accelerometer and the vehicle using the accumulated samples while maintaining equivalent performance in the calibration. By utilizing fewer samples to determine the alignment information used to calibrate the 3-axis accelerometer to the vehicle axes, telematics systems utilizing lateral incline vectors and forward incline vectors in the calibration as described above exhibit low latency in the calibration of the 3-axis accelerometer to the vehicle axes. </p><p id="p0103" num="0103">[0070] Although specific processes for the low latency calculation of the aligned lateral, forward, and vertical accelerations are discussed above with respect to FIG. 7, any of a variety of processes, including those utilizing alternative methods for determining accelerations other than GPS receivers and 3-axis accelerometers, can be utilized in accordance with embodiments of the invention. Processes for alignment methods utilizing vertical sample buffers in accordance with embodiments of the invention are discussed further below. </p><p id="p0104" num="0104">Acceleration Alignment with Vertical Sample Buffers </p><p id="p0105" num="0105"> [0071] Information determined via a GPS receiver can include measurement errors unique to each sample of information obtained; these errors induce additional noise and errors in the calibration of 3-axis accelerometers using the GPS-determined acceleration data. Telematics units in accordance with embodiments of the invention are configured to utilize vertical sample buffers to determine an average vertical vector that compensates for the measurement errors in the samples obtained from the GPS 
<!-- EPO <DP n="25"/>-->
 receiver. A process for utilizing vertical vector stabilization in the calibration of 3-axis accelerometers in accordance with an embodiment of the invention is shown in FIG. 8. The process 800 includes determining (802) vertical acceleration vectors. One or more vertical acceleration vectors are stored (804). If the number of stored vectors does not exceed (806) a threshold value, more vertical acceleration vectors are determined (802). If the number of stored vectors exceeds (806) a threshold value, an average acceleration vector is calculated (808). The threshold value can be determined dynamically and/or be predetermined. The average acceleration vector is processed. An average vertical vector (810) is determined. Corresponding motion samples are aligned (812). </p><p id="p0106" num="0106"> [0072] In a variety of embodiments, determining (802) vertical acceleration vectors is performed using processes similar to those described above. In a number of embodiments, the determined (802) vertical acceleration vectors are measured using a GPS receiver. In several embodiments, the determined (802) vertical acceleration vectors are stored (804) using a vertical sample buffer. In many embodiments, the vertical sample buffer is a circular buffer; circular buffers in accordance with embodiments of the invention are configured to store a number of vertical acceleration vectors. Once the circular buffer has reached its capacity, the oldest vector is dropped (or overwritten) and a new vertical acceleration vector takes its place. In several embodiments, the vertical sample buffer is configured to associate metadata including, but not limited to a timestamp, with a particular vertical acceleration vector. Once the vertical sample buffer has reached its capacity, the metadata is utilized to determine which vertical acceleration vector is dropped (or overwritten). The capacity of the vertical acceleration buffer can be predetermined and/or determined dynamically. Other buffers and buffering techniques can be utilized according to the requirements of embodiments of the invention. </p><p id="p0107" num="0107"> [0073] In many embodiments, the average acceleration vector is calculated (808) by accumulating the previous calculated vertical vectors and updating the average using each newly calculated vector utilizing a counter. In several embodiments, the stored vertical acceleration vectors are determined during different periods of time and include 
<!-- EPO <DP n="26"/>-->
 varying measurement errors. In a variety of embodiments, determining (810) an average vertical vector includes calculating a moving average using the stored (804) vertical acceleration vectors. In a number of embodiments, an average of the stored (804) vertical acceleration vectors is used to determine (810) the average vertical vector. The number stored (804) vertical acceleration vectors utilized to determine (810) the average vertical vector can be all of the stored (804) vectors or a portion of the stored (804) vectors. In a number of embodiments, the determined (810) average vertical vector is used to align (812) the corresponding motion samples by determining forward and lateral vectors using methods including, but not limited to, those discussed above. Utilizing the determined (810) average vertical vector, errors in the measurement of the vertical vectors are limited and aid in the accurate alignment (812) of the corresponding motion samples. </p><p id="p0108" num="0108"> [0074] Although specific processes for performing acceleration alignment using vertical sample buffers are discussed above with respect to FIG. 8, any of a variety of processes appropriate to the requirements of a specific application can be utilized in accordance with embodiments of the invention. </p><p id="p0109" num="0109"> [0075] Although the present invention has been described in certain specific aspects, many additional modifications and variations would be apparent to those skilled in the art. It is therefore to be understood that the present invention can be practiced otherwise than specifically described without departing from the scope and spirit of the present invention. Thus, embodiments of the present invention should be considered in all respects as illustrative and not restrictive. Accordingly, the scope of the invention should be determined not by the embodiments illustrated, but by the appended claims and their equivalents. 
</p></description><claims mxw-id="PCLM70077335" ref-ucid="WO-2014130078-A1" lang="EN" load-source="patent-office"><claim-statement><!-- EPO <DP n="27"/>--> WHAT IS CLAIMED IS: </claim-statement><claim id="clm-0001" num="1"><claim-text> 1 . A telematics system, comprising: </claim-text><claim-text> a processor; </claim-text><claim-text> an acceleration sensor connected to the processor and configured to determine acceleration information along one or more acceleration sensor axes; </claim-text><claim-text> a velocity sensor connected to the processor and configured to determine velocity information along a vehicular forward axis and heading information; and </claim-text><claim-text> a memory connected to the processor and configured to store an acceleration alignment application and a vertical sample buffer, where the vertical sample buffer is configured to store a number of vertical vector samples; </claim-text><claim-text> wherein the acceleration alignment application configures the processor to: </claim-text><claim-text> receive a velocity information sample using the velocity sensor; determine vehicular acceleration information along at least one vehicle axes using the velocity information sample; </claim-text><claim-text> receive at least one acceleration sensor acceleration information sample using the acceleration sensor; </claim-text><claim-text> determine a plurality of vertical vector samples using the vehicular acceleration information; </claim-text><claim-text> store at least one of the determined plurality of vertical vector samples using the vertical sample buffer; </claim-text><claim-text> calculate an average vertical vector sample using at least one of the stored vertical vector samples; and </claim-text><claim-text> calibrate at least one of the vehicle axes to an acceleration sensor axis in the at least one acceleration sensor axes using the vehicular acceleration information, the at least one acceleration sensor acceleration sample, and the average vertical vector sample. </claim-text></claim><claim id="clm-0002" num="2"><claim-text>2. The telematics system of claim 1 , wherein the vertical sample buffer is a lar buffer configured to store a fixed number of vertical vector samples. 
<!-- EPO <DP n="28"/>-->
</claim-text></claim><claim id="clm-0003" num="3"><claim-text>3. The telematics system of claim 2, wherein the acceleration alignment application further configures the processor to replace the oldest vertical vector sample stored in the vertical sample buffer once the fixed number of vertical vector samples have been stored using the vertical sample buffer. </claim-text></claim><claim id="clm-0004" num="4"><claim-text>4. The telematics system of claim 3, wherein the acceleration alignment application further configures the processor to associate a vector sample metadata with a vector sample, where the vector sample metadata includes a timestamp. </claim-text></claim><claim id="clm-0005" num="5"><claim-text>5. The telematics system of claim 3, wherein the acceleration alignment application further configures the processor to: </claim-text><claim-text> associate axis calibration metadata with the at least one calibrated axes; and </claim-text><claim-text> recalibrate the calibrated vehicles axes using the acceleration sensor acceleration information samples, the vehicular acceleration sample, the stored at least one vertical vector sample, the vector sample metadata, and the axis calibration metadata. </claim-text></claim><claim id="clm-0006" num="6"><claim-text>6. The telematics system of claim 1 , wherein: </claim-text><claim-text> the velocity sensor is a Global Positioning System (GPS) receiver having a GPS sampling rate; </claim-text><claim-text> the velocity information determined using the GPS receiver is determined at the GPS sampling rate; </claim-text><claim-text> each piece of velocity information determined using the GPS receiver has an associated velocity information error, where the velocity information error is a measure of the difference between the determined velocity information and the true velocity information; and 
<!-- EPO <DP n="29"/>-->
 the acceleration alignment application configured the processor to calculate the average vertical vector sample to compensate for the velocity information errors. </claim-text></claim><claim id="clm-0007" num="7"><claim-text>7. The telematics system of claim 1 , wherein the acceleration alignment application further configures the processor to calculate the average vertical vector sample once a number of vertical vector samples have been stored in the buffer. </claim-text></claim><claim id="clm-0008" num="8"><claim-text>8. The telematics system of claim 7, wherein the number of vertical vector samples is determined based on performance requirements of the telematics system. </claim-text></claim><claim id="clm-0009" num="9"><claim-text>9. The telematics system of claim 8, wherein: </claim-text><claim-text> the velocity sensor is configured to determine velocity information at a velocity sensor sample rate; </claim-text><claim-text> the performance requirements of the telematics system are based a delay between the motion of the telematics system and the time the calibration of at least one of the vehicle axes to an acceleration sensor axis in the at least one acceleration sensor axes is completed; and </claim-text><claim-text> the number of vertical vector samples utilized to determine the average vertical vector is based on the velocity sensor sample rate and the delay. </claim-text></claim><claim id="clm-0010" num="10"><claim-text>10. The telematics system of claim 1 , wherein the acceleration alignment application further configures the processor to: </claim-text><claim-text> determine an updated average vertical acceleration vector using the stored vertical vectors and the calibrated vehicle axes; and </claim-text><claim-text> recalibrate the calibrated vehicles axes using the using the acceleration sensor acceleration information samples, the vehicular acceleration sample, and the updated average vertical acceleration vector. 
<!-- EPO <DP n="30"/>-->
</claim-text></claim><claim id="clm-0011" num="11"><claim-text>1 1 . A method for aligning a vehicle's axes using a telematics system, where the telematics system is mounted in a vehicle having one or more vehicle axes, comprising: </claim-text><claim-text> receiving at least one velocity information sample using a telematics system; </claim-text><claim-text> determining vehicular acceleration information along at least one vehicle axes using velocity information sample and the telematics system; </claim-text><claim-text> receiving at least one acceleration sensor acceleration information sample using the telematics system; </claim-text><claim-text> determining a plurality of vertical vector samples using the vehicular acceleration information and the telematics system; </claim-text><claim-text> storing at least one of the determined plurality of vertical vector samples using the telematics system; </claim-text><claim-text> calculating an average vertical vector sample using at least one of the stored vertical vector samples and the telematics system; and </claim-text><claim-text> calibrating at least one of the vehicle axes to an acceleration sensor axis in the at least one acceleration sensor axes based on the vehicular acceleration information, the at least one acceleration sensor acceleration sample, the average vertical vector sample using the telematics system. </claim-text></claim><claim id="clm-0012" num="12"><claim-text>12. The method of claim 1 1 , wherein the telematics system is configured to store a fixed number of vertical vector samples. </claim-text></claim><claim id="clm-0013" num="13"><claim-text>13. The method of claim 12, further comprising replacing the oldest stored vertical vector sample once the fixed number of vertical vector samples has been stored using the telematics system. </claim-text></claim><claim id="clm-0014" num="14"><claim-text>14. The method of claim 13, further comprising associating vector sample metadata with a vertical vector sample using the telematics system, where the vector sample metadata includes a timestamp. 
<!-- EPO <DP n="31"/>-->
</claim-text></claim><claim id="clm-0015" num="15"><claim-text>15. The method of claim 13, further comprising: </claim-text><claim-text> associating axis calibration metadata with the at least one calibrated axes using the telematics system; and </claim-text><claim-text> recalibrating the calibrated vehicles axes based on the acceleration sensor acceleration information samples, the vehicular acceleration sample, the stored at least one vertical vector sample, the vector sample metadata, and the axis calibration metadata using the telematics system. </claim-text></claim><claim id="clm-0016" num="16"><claim-text>16. The method of claim 1 1 , wherein: </claim-text><claim-text> the telematics unit includes a Global Positioning System (GPS) receiver having a GPS sampling rate; </claim-text><claim-text> the velocity information determined using the telematics system is determined at the GPS sampling rate; </claim-text><claim-text> each piece of velocity information determined using the telematics system has an associated velocity information error, where the velocity information error is a measure of the difference between the determined velocity information and the true velocity information; and </claim-text><claim-text> calculating the average vertical vector sample using the telematics system compensating for the velocity information errors. </claim-text></claim><claim id="clm-0017" num="17"><claim-text>17. The method of claim 1 1 , further comprising calculating the average vertical vector sample using the telematics system once a number of vertical vector samples have been stored. </claim-text></claim><claim id="clm-0018" num="18"><claim-text>18. The method of claim 17, wherein the number of vertical vector samples is determined based on performance requirements of the telematics system. 
<!-- EPO <DP n="32"/>-->
</claim-text></claim><claim id="clm-0019" num="19"><claim-text>19. The method of claim 18, further comprising calculating the number of vertical vector samples utilized in determining the average vertical vector based on a velocity sensor sample rate using the telematics system. </claim-text></claim><claim id="clm-0020" num="20"><claim-text>20. The method of claim 1 1 , further comprising: </claim-text><claim-text> determining an updated average vertical acceleration vector based on the stored vertical vectors and the calibrated vehicle axes using the telematics system; and recalibrating the calibrated vehicles axes based on the acceleration sensor information samples, the vehicular acceleration sample, and the updated average vertical acceleration vector using the telematics system. 
</claim-text></claim></claims><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
