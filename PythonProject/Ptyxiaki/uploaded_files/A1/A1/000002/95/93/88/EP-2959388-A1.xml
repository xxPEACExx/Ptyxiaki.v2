<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2959388-A1" country="EP" doc-number="2959388" kind="A1" date="20151230" family-id="49958152" file-reference-id="310470" date-produced="20180826" status="corrected" lang="DE"><bibliographic-data><publication-reference fvid="160452581" ucid="EP-2959388-A1"><document-id><country>EP</country><doc-number>2959388</doc-number><kind>A1</kind><date>20151230</date><lang>DE</lang></document-id></publication-reference><application-reference ucid="EP-14701905-A" is-representative="NO"><document-id mxw-id="PAPP193868130" load-source="docdb" format="epo"><country>EP</country><doc-number>14701905</doc-number><kind>A</kind><date>20140115</date><lang>DE</lang></document-id><document-id mxw-id="PAPP193868131" load-source="patent-office" format="original"><country>EP</country><doc-number>14701905.3</doc-number><date>20140115</date><lang>DE</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC162034856" ucid="DE-102013002888-A" load-source="docdb"><document-id format="epo"><country>DE</country><doc-number>102013002888</doc-number><kind>A</kind><date>20130219</date></document-id></priority-claim><priority-claim mxw-id="PPC162034661" ucid="EP-2014000080-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>EP</country><doc-number>2014000080</doc-number><kind>W</kind><date>20140115</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-1988521593" load-source="docdb">G06F  11/24        20060101AFI20140910BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1988526007" load-source="docdb">G11C   5/14        20060101ALI20140910BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1987794565" load-source="docdb" scheme="CPC">G06F  11/24        20130101 FI20140605BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT165549209" lang="DE" load-source="patent-office">FELDTEST BEI KONTAKTLOSKARTEN</invention-title><invention-title mxw-id="PT165549210" lang="EN" load-source="patent-office">FIELD TEST IN CONTACTLESS CARDS</invention-title><invention-title mxw-id="PT165549211" lang="FR" load-source="patent-office">ESSAI DE TERRAIN SUR DES CARTES SANS CONTACT</invention-title><citations><non-patent-citations><nplcit><text>See references of WO 2014127875A1</text><sources><source mxw-id="PNPL67567861" load-source="docdb" name="SEA"/></sources></nplcit></non-patent-citations></citations></technical-data><parties><applicants><applicant mxw-id="PPAR1103342088" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>GIESECKE &amp; DEVRIENT GMBH</last-name><address><country>DE</country></address></addressbook></applicant><applicant mxw-id="PPAR1103338515" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>GIESECKE &amp; DEVRIENT GMBH</last-name></addressbook></applicant><applicant mxw-id="PPAR1101645776" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Giesecke &amp; Devrient GmbH</last-name><iid>100130538</iid><address><street>Prinzregentenstrasse 159</street><city>81677 München</city><country>DE</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR1103343108" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>BALDISCHWEILER MICHAEL</last-name><address><country>DE</country></address></addressbook></inventor><inventor mxw-id="PPAR1103336869" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>BALDISCHWEILER, MICHAEL</last-name></addressbook></inventor><inventor mxw-id="PPAR1101641849" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>BALDISCHWEILER, MICHAEL</last-name><address><street>Königsseestr. 50</street><city>81825 München</city><country>DE</country></address></addressbook></inventor><inventor mxw-id="PPAR1103314694" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>ULBRICHT THORSTEN</last-name><address><country>DE</country></address></addressbook></inventor><inventor mxw-id="PPAR1103313268" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>ULBRICHT, THORSTEN</last-name></addressbook></inventor><inventor mxw-id="PPAR1101648603" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>ULBRICHT, THORSTEN</last-name><address><street>Jean-Paul-Richter-Straße 36</street><city>81369 München</city><country>DE</country></address></addressbook></inventor></inventors></parties><international-convention-data><pct-or-regional-filing-data ucid="EP-2014000080-W"><document-id><country>EP</country><doc-number>2014000080</doc-number><kind>W</kind><date>20140115</date><lang>DE</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2014127875-A1"><document-id><country>WO</country><doc-number>2014127875</doc-number><kind>A1</kind><date>20140828</date><lang>DE</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS660726008" load-source="docdb">AL</country><country mxw-id="DS660710228" load-source="docdb">AT</country><country mxw-id="DS660726010" load-source="docdb">BE</country><country mxw-id="DS660626248" load-source="docdb">BG</country><country mxw-id="DS660625453" load-source="docdb">CH</country><country mxw-id="DS660703791" load-source="docdb">CY</country><country mxw-id="DS660710229" load-source="docdb">CZ</country><country mxw-id="DS660704031" load-source="docdb">DE</country><country mxw-id="DS660726015" load-source="docdb">DK</country><country mxw-id="DS660703792" load-source="docdb">EE</country><country mxw-id="DS660625170" load-source="docdb">ES</country><country mxw-id="DS660626249" load-source="docdb">FI</country><country mxw-id="DS660626250" load-source="docdb">FR</country><country mxw-id="DS660704032" load-source="docdb">GB</country><country mxw-id="DS660726016" load-source="docdb">GR</country><country mxw-id="DS660704033" load-source="docdb">HR</country><country mxw-id="DS660703793" load-source="docdb">HU</country><country mxw-id="DS660625454" load-source="docdb">IE</country><country mxw-id="DS660726017" load-source="docdb">IS</country><country mxw-id="DS660626263" load-source="docdb">IT</country><country mxw-id="DS660726018" load-source="docdb">LI</country><country mxw-id="DS660704034" load-source="docdb">LT</country><country mxw-id="DS660710230" load-source="docdb">LU</country><country mxw-id="DS660704039" load-source="docdb">LV</country><country mxw-id="DS660704040" load-source="docdb">MC</country><country mxw-id="DS660710243" load-source="docdb">MK</country><country mxw-id="DS660710244" load-source="docdb">MT</country><country mxw-id="DS660625191" load-source="docdb">NL</country><country mxw-id="DS660788984" load-source="docdb">NO</country><country mxw-id="DS660625192" load-source="docdb">PL</country><country mxw-id="DS660626264" load-source="docdb">PT</country><country mxw-id="DS660625193" load-source="docdb">RO</country><country mxw-id="DS660626265" load-source="docdb">RS</country><country mxw-id="DS660625194" load-source="docdb">SE</country><country mxw-id="DS660625459" load-source="docdb">SI</country><country mxw-id="DS660788985" load-source="docdb">SK</country><country mxw-id="DS660788986" load-source="docdb">SM</country><country mxw-id="DS660710245" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data><office-specific-data><eptags><ep-no-a-document-published>*</ep-no-a-document-published></eptags></office-specific-data></bibliographic-data><abstract mxw-id="PA139079303" ref-ucid="WO-2014127875-A1" lang="DE" load-source="patent-office"><p num="0000">Die vorliegende Erfindung offenbart ein Verfahren und eine Chipkarte zum Starten und Ausführen eines Betriebssystems eines Controllers eines tragbaren Datenträgers, wobei der Datenträger mindestens eine Antennenspule umf asst, welche mit dem mindestens einen Controller verbunden ist, wobei eine Ausgangsimpedanz der Antennenspule nicht an eine Eingangsimpedanz des Controllers angepasst ist. Der Controller führt zuerst ein Hilfsprogramm aus, um zu prüfen, ob eine von der Antennenspule zur Verfügung gestellte elektrische Energie ausreichend groß ist um das Betriebssystem auf dem Controller zu starten und auszuführen. Wenn die Prüfung durch das Hilfsprogramm ergab, dass ein Start und eine Ausführung des Betriebssystems mit der zur Verfügung gestellten Energie möglich ist, dann startet der Controller das Betriebssystem und führt es aus.</p></abstract><abstract mxw-id="PA139545858" ref-ucid="WO-2014127875-A1" lang="DE" source="national office" load-source="docdb"><p>Die vorliegende Erfindung offenbart ein Verfahren und eine Chipkarte zum Starten und Ausführen eines Betriebssystems eines Controllers eines tragbaren Datenträgers, wobei der Datenträger mindestens eine Antennenspule umf asst, welche mit dem mindestens einen Controller verbunden ist, wobei eine Ausgangsimpedanz der Antennenspule nicht an eine Eingangsimpedanz des Controllers angepasst ist. Der Controller führt zuerst ein Hilfsprogramm aus, um zu prüfen, ob eine von der Antennenspule zur Verfügung gestellte elektrische Energie ausreichend groß ist um das Betriebssystem auf dem Controller zu starten und auszuführen. Wenn die Prüfung durch das Hilfsprogramm ergab, dass ein Start und eine Ausführung des Betriebssystems mit der zur Verfügung gestellten Energie möglich ist, dann startet der Controller das Betriebssystem und führt es aus.</p></abstract><abstract mxw-id="PA139079304" ref-ucid="WO-2014127875-A1" lang="EN" load-source="patent-office"><p num="0000">The present invention discloses a method and a chip card for starting and executing an operating system of a controller of a portable data storage medium, wherein the data storage medium comprises at least one antenna coil which is connected to the at least one controller, wherein an output impedance of the antenna coil is not matched to an input impedance of the controller. The controller first of all executes a utility program in order to check whether electrical energy provided by the antenna coil is sufficiently large to start and execute the operating system on the controller. If the check by the utility program revealed that it is possible to start and execute the operating system with the energy provided, the controller starts the operating system and executes the latter.</p></abstract><abstract mxw-id="PA139545859" ref-ucid="WO-2014127875-A1" lang="EN" source="national office" load-source="docdb"><p>The present invention discloses a method and a chip card for starting and executing an operating system of a controller of a portable data storage medium, wherein the data storage medium comprises at least one antenna coil which is connected to the at least one controller, wherein an output impedance of the antenna coil is not matched to an input impedance of the controller. The controller first of all executes a utility program in order to check whether electrical energy provided by the antenna coil is sufficiently large to start and execute the operating system on the controller. If the check by the utility program revealed that it is possible to start and execute the operating system with the energy provided, the controller starts the operating system and executes the latter.</p></abstract><abstract mxw-id="PA139079305" ref-ucid="WO-2014127875-A1" lang="FR" load-source="patent-office"><p num="0000">La présente invention concerne un procédé et une carte à puce servant à lancer et exécuter un système d'exploitation d'un contrôleur d'un support de données portable. Le support de données comprend au moins une antenne bobine reliée à au moins un contrôleur, l'impédance de sortie de l'antenne bobine n'étant pas adaptée à l'impédance d'entrée du contrôleur. Le contrôleur exécute d'abord un sous-programme afin de vérifier si une énergie électrique fournie par l'antenne bobine est suffisante pour lancer et exécuter le système d'exploitation sur le contrôleur. Lorsque la vérification par le sous-programme a montré que le système d'exploitation peut être lancé et exécuté au moyen de l'énergie fournie, le contrôleur lance le système d'exploitation et l'exécute.</p></abstract><abstract mxw-id="PA139545860" ref-ucid="WO-2014127875-A1" lang="FR" source="national office" load-source="docdb"><p>La présente invention concerne un procédé et une carte à puce servant à lancer et exécuter un système d'exploitation d'un contrôleur d'un support de données portable. Le support de données comprend au moins une antenne bobine reliée à au moins un contrôleur, l'impédance de sortie de l'antenne bobine n'étant pas adaptée à l'impédance d'entrée du contrôleur. Le contrôleur exécute d'abord un sous-programme afin de vérifier si une énergie électrique fournie par l'antenne bobine est suffisante pour lancer et exécuter le système d'exploitation sur le contrôleur. Lorsque la vérification par le sous-programme a montré que le système d'exploitation peut être lancé et exécuté au moyen de l'énergie fournie, le contrôleur lance le système d'exploitation et l'exécute.</p></abstract><description mxw-id="PDES78477922" ref-ucid="WO-2014127875-A1" lang="DE" load-source="patent-office"><!-- EPO <DP n="3"/>--><p id="p0001" num="0001"> F e l d t e s t b e i K o n t a k t l o s k a r t e n </p><p id="p0002" num="0002">Die Erfindung beschreibt ein Verfahren und eine Vorrichtung zum Testen, ob ein Prozessor von einer elektrischen Quelle ausreichend elektrische Energie zur Verfügung gestellt bekommt, damit der Prozessor ein Programm starten und ausführen kann, ohne daß der Prozessor beim Starten und / oder Ausführen des Programms unterbrochen wird, weil der Prozessor während dem Start und/ oder der Ausführung des Programms mehr Energie der Quelle enmimmt, als diese zur Verfügung stellt. </p><p id="p0003" num="0003">Controller, welche einen Prozessor, flüchtigen und nicht flüchtigen Speicher und entsprechende Schnittstellen für eine chipexterne Kommunikation umfassen, von kontaktlosen Datenträgern, welche eine Antennenspule umfassen, sind in der Lage mit Hilfe von Sensoren, welche beispielsweise im Controller integriert sind, eine magnetische Feldstärke zu erfassen. Entsprechende Controller werden beispielsweise von den Herstellern IFX, NXP oder ST angeboten. Neben den Sensoren zur Erfassung der magnetischen Feldstärke können die Controller auch Sensoren umfassen, welche beispielsweise eine elektrische Spannung oder eine elektrische Feldstärke erfassen. Die Sensoren erzeugen ein Signal, welches im Controller ein Flag verändert um einen entsprechenden Zustand anzuzeigen. Beispielsweise werden die Sensoren vom Controller abgefragt, um festzustellen, ob bereits die für einen Start eines Betriebssystems notwendigen Voraussetzungen, z.B. eine notwendige magnetische Feldstärke, erfüllt sind. </p><p id="p0004" num="0004">Problematisch dabei ist, dass zwar oft die notwendigen Voraussetzungen, z.B. eine notwendige magnetische Feldstärke, erfüllt sind, um beispielsweise den Controller über die Antennenspule mit der zum Betrieb notwendigen Energie zu versorgen, aber die im magnetischen Feld vorhandene Energie 
<!-- EPO <DP n="4"/>-->
 nicht bis zum Controller übertragen werden kann, weil die Ausgangsimpedanz der Antennenspule nicht an die Eingangsimpedanz des Controllers an- gepasst ist. Dies führt dazu, dass zwar das Betriebssystem gestartet wird, weil der Controller die Information über ein Flag erhält, dass z.B. ein ausreichend starkes magnetisches Feld vorhanden ist, aber nach dem Start der Controller mehr Energie aufnimmt, als ihm die Antennenspule zur Verfügung stellt, und somit die Spannung des Controllers zusammenbricht. Demzufolge wird der Start des Betriebssystems mitten im Ablauf unterbrochen, so dass der Controller wieder zurückgesetzt wird. Besonders dann, wenn ein Cryptocontroller oder eine Programmiersequenz für den EEPROM- oder FLASH-Speicher gestartet wurden, wird vom Controller vergleichsweise viel Strom aufgenommen, so dass der Ablauf des Starts des Betriebssystems häufig während dieser Zeit unterbrochen wird. Besonders problematisch ist, dass eine Unterbrechung insbesondere bei Schlüsselberechnungen zu Sicher- heitsproblerhen und/ oder zu unnötigen Rollbackabläufen im EEPROM- /FLASH-Speicher führt. </p><p id="p0005" num="0005">Ausgehend vom Stand der Technik ist es Aufgabe der Erfindung eine Lösung für das beschriebene Problem zu finden. Die Erfindung soll insbesondere eine Lösung zur Verfügung stellen, welche verhindert, dass der Start und die Ausführung eines Programmes unterbrochen wird, weil die notwendige elektrische Energie am Prozessor nicht zur Verfügung steht, obwohl durch mindestens einen Sensor angezeigt wird, dass die notwendige Energie zur Verfügung steht. </p><p id="p0006" num="0006">Die Aufgabe der Erfindung wird durch den unabhängigen Anspruch und den nebengeordneten Anspruch gelöst. Vorteilhafte Ausführungen sind in den abhängigen Ansprüchen beschrieben. 
<!-- EPO <DP n="5"/>-->
 Zur Lösung der Aufgabe offenbart die Erfindung ein Verfahren zur Bestimmung der Belastbarkeit einer elektrischen Quelle durch einen Prozessor, so dass ein Start und/ oder eine Ausführung eines Programms durch den Prozessor ausgeführt werden, ohne dass der Start und/ oder die Ausführung des Programms unterbrochen werden, wenn der Prozessor während dem Start und/ oder während der Ausführung des Programms der Quelle mehr elektrische Energie entnimmt als die Quelle zur Verfügung stellt, welches sich dadurch auszeichnet, dass vor dem Start und der Ausführung des Programms der Prozessor ein Hilfsprogramm startet und ausführt, wobei das Hilfsprogramm mindestens dieselbe Energieaufnahme des Prozessors bei Start und Ausführung bewirkt, wie wenn der Prozessor das Programm startet und ausführt, um festzustellen, ob die von der Quelle zur Verfügung gestellte Energie ausreicht für den Start und die Ausführung des Programms, um bei mindestens ausreichender Energie im Anschluss an die Ausführung des Hilfsprogramms das Programm vom Prozessor zu starten und auszuführen. </p><p id="p0007" num="0007">Ein vorteilhaftes Ausführungsbeispiel der Erfindung ist, dass das Hilfsprogramm die Energieaufnahme des Prozessors erhöht, indem das Hilfsprogramm eine Taktfrequenz des Prozessors erhöht. Die Taktfrequenz kann dabei in beliebig vielen Schritten erhöht werden, wobei eine Anzahl der Schritte vorgegeben werden kann. Ferner können auch die Abstände zwischen den Schritten vorgegeben werden, z.B. können die Schritte gleiche oder unterschiedliche Abstände haben. </p><p id="p0008" num="0008">Ein weiteres vorteilhaftes Ausführungsbeispiel der Erfindung ist, dass die Taktfrequenz solange erhöht wird bis eine maximale Taktfrequenz erreicht wird, bei der ein Start und eine Ausführung des Hilfsprogramms durch den Prozessor möglich ist, ohne dass der Prozessor der Quelle mehr Energie ent- 
<!-- EPO <DP n="6"/>-->
 nimmt als die Quelle zur Verfügung stellt. Eine maximale Taktfrequenz ist die letzte Taktfrequenz vor einer weiteren Erhöhung der Taktfrequenz durch das Hilfsprogramm, bei welcher letzten Taktfrequenz ein Start und eine Ausführung des Hilfsprogramms durch den Prozessor möglich ist, ohne dass der Prozessor der Quelle mehr Energie entnimmt als die Quelle zur Verfügung stellt, wobei nach der weiteren Erhöhung der Taktfrequenz der Prozessor bei Start und Ausführung des Hilfsprogramms der Quelle mehr Energie entnimmt als die Quelle zur Verfügung stellt und folglich ein Start und eine Ausführung des Hilfsprogramms nicht möglich ist, weil beispielsweise die Versorgungsspannung des Prozessors einbricht. Allgemein gilt, dass das Hilfsprogramm mindestens einmal bei jeder Taktfrequenz gestartet und vollständig ausgeführt wird. </p><p id="p0009" num="0009">Ein weiteres vorteilhaftes Ausführungsbeispiel der Erfindung ist, dass das Hilfsprogramm wieder bei einer minimalen Taktfrequenz beginnt, wenn der Start oder die Ausführung des Hilfsprogramms unterbrochen wurde, da der Prozessor mehr Energie aus der Quelle entnommen hat, als die Quelle zur Verfügung gestellt hat. Wie vorher beschrieben, wird nach dem Beginn die Taktfrequenz wieder erhöht bis die maximale Taktfrequenz ermittelt wird. </p><p id="p0010" num="0010">Ein weiteres vorteilhaftes Ausführungsbeispiel der Erfindung ist, dass das Hilfsprogramm beendet wird, wenn es eine für den Prozessor höchst mögliche Taktfrequenz erreicht hat, bei der ein Start und eine Ausführung des Hilfsprogramms durch den Prozessor möglich ist, ohne dass der Prozessor der Quelle mehr Energie entnimmt als die Quelle zur Verfügung stellt. Die für den Prozessor höchst mögliche Taktfrequenz ist die höchste Taktfrequenz, bei welcher der Prozessor betrieben werden kann. Die höchst mögliche Taktfrequenz ist üblicherweise in einem Datenblatt des Prozessors aufgeführt, welches von einem Hersteller des Prozessors erhältlich ist. 
<!-- EPO <DP n="7"/>-->
 Ein weiteres vorteilhaftes Ausführungsbeispiel der Erfindung ist, dass die höchst mögliche Taktfrequenz größer oder gleich der maximalen Taktfrequenz ist. </p><p id="p0011" num="0011">Ein weiteres vorteilhaftes Ausführungsbeispiel der Erfindung ist, dass die maximale Taktfrequenz für den folgenden Betrieb des Prozessors gespeichert wird. Dies hat den Vorteil, dass eine früher bestimmte maximale Taktfrequenz später wieder verwendet werden kann. Dies spart beispielsweise die Zeit, welche notwendig ist um die maximale Taktfrequenz mit Hilfe des Hilfsprogramms zu ermitteln. </p><p id="p0012" num="0012">Ein weiteres vorteilhaftes Ausführungsbeispiel der Erfindung ist, dass das Hilfsprogramm nur einmal bei der ersten Inbetriebnahme des Prozessors oder bei mindestens einer der ersten Inbetriebnahme folgenden Inbetriebnahme ausgeführt wird. Falls das Hilfsprogramm nur bei der ersten Inbetriebnahme des Prozessors ausgeführt wird, dann kann die ermittelte maximale Taktfrequenz für eine spätere Verwendung gespeichert werden, wie vorher beschrieben. Dies bietet sich an, wenn z.B. ein Prozessor immer an ein und derselben Quelle betrieben wird. Falls jedoch Veränderungen durchgeführt werden, dass z.B. der Prozessor mit unterschiedlichen Quellen verbunden wird oder wenn sich beispielsweis die Quelle selbst ändert, dann besteht die Möglichkeit, dass. das Hilfsprogramm mehrmals, z.B. bei jeder Inbetriebnahme des Prozessors ausgeführt wird. </p><p id="p0013" num="0013">Ein weiteres vorteilhaftes Ausführungsbeispiel der Erfindung ist, dass für einen Betrieb des Prozessors nach Bestimmung der maximalen Taktfrequenz eine tiefere Taktfrequenz als die maximale Taktfrequenz verwendet wird, um einen sicheren Start und eine sichere Ausführung des Programms zu ge- 
<!-- EPO <DP n="8"/>-->
 währleisten. Dies hat den Vorteil, dass dann immer noch ein Anteil der von der Quelle zur Verfügung gestellten Energie als Reserve zur Verfügung steht, z.B. für unvorhergesehene Belastungen des Prozessors durch besonders rechenintensive Aufgaben oder durch weitere angeschlossene elektronische Baugruppen, z.B. eine Tastatur oder eine Anzeige. </p><p id="p0014" num="0014">Ein weiteres vorteilhaftes Ausführungsbeispiel der Erfindung ist, dass die Taktfrequenz mittels einer Phasenregelschleife oder eines Taktteilers oder eines RC-Schwingkreises mit folgenden Taktteiler erzeugt wird. Ferner sind alle anderen Schaltungen möglich, welche zur Erzeugung einer einstellbaren Taktfrequenz geeignet sind. </p><p id="p0015" num="0015">Ein weiteres vorteilhaftes Ausführungsbeispiel der Erfindung ist, dass das Hilfsprogramm bei Start und Ausführung durch den Prozessor mindestens dieselbe Energieaufnahme des Prozessors bewirkt wie wenn das Programm durch den Prozessor gestartet und ausgeführt wird, indem das Hilfsprogramm ein definierter Rechenalgorithmus in Form von Additionen </p><p id="p0016" num="0016">und/ oder Subtraktionen und/ oder Multiplikationen und/ oder Divisionen ist, welcher vom Prozessor ausgeführt wird. </p><p id="p0017" num="0017">Ein weiteres vorteilhaftes Ausführungsbeispiel der Erfindung ist, dass das Hilfsprogramm nur dann vom Prozessor gestartet wird, wenn mindestens ein Sensor, welcher mit dem Prozessor elektrisch leitend verbunden ist, dem Prozessor signalisiert, dass ein elektromagnetisches Feld genügend Energie zum Start und zur Ausführung des Programms zur Verfügung stellt. Das elektromagnetische Feld umgibt dazu vorteilhafterweise den Prozessor. Das elektromagnetische Feld wird beispielsweise von einem Lesegerät für Chipkarten erzeugt. 
<!-- EPO <DP n="9"/>-->
 Ein weiteres vorteilhaftes Ausführungsbeispiel der Erfindung ist, dass der mindestens eine Sensor eine elektrische Spannung und/ oder eine magnetische Feldstärke und/ oder eine elektrische Feldstärke erfasst. </p><p id="p0018" num="0018">Ein weiteres vorteilhaftes Ausführungsbeispiel der Erfindung ist, dass das Hilfsprogramm die Energieaufnahme des Prozessors bei Start und Ausführung bewirkt, wie wenn der Prozessor das Programm startet und ausführt, und zusätzlich die Energieaufnahme bei Start und Ausführung mindestens einer weiteren elektronischen Baugruppe bewirkt, um festzustellen, ob die von der Quelle zur Verfügung gestellte Energie ausreicht für den Start und die Ausführung des Programms und der mindestens einen weiteren elektronischen Baugruppe, um bei mindestens ausreichender Energie im Anschluss an die Ausführung des HiHsprograrnms das Programm vom Prozessor zu starten und auszuführen und die mindestens eine weitere elektronische Baugruppe zu starten und zu betreiben. </p><p id="p0019" num="0019">Ein weiteres vorteilhaftes Ausführungsbeispiel der Erfindung ist, dass als weitere elektronische Baugruppe mindestens eine elektronische Anzeige und/ oder eine Tastatur verwendet werden. Ferner sind alle anderen elektronischen Baugruppen möglich, welche sich beispielsweise für eine Nutzung in einem tragbaren Datenträger, wie z.B. einer Chipkarte, eignen. </p><p id="p0020" num="0020">Ein weiteres vorteilhaftes Ausführungsbeispiel der Erfindung ist, dass als Programm ein Betriebssystem eingesetzt wird. Neben einem Betriebssystem ist jedes andere geeignete Programm möglich. </p><p id="p0021" num="0021">Ein weiteres vorteilhaftes Ausführungsbeispiel der Erfindung ist, dass als elektrische Quelle eine Antennenspule verwendet wird, welche mit dem Prozessor elektrisch leitend verbunden ist. Darüber hinaus ist die vorliegen- 
<!-- EPO <DP n="10"/>-->
 de Erfindung ganz allgemein für alle Quellen geeignet, welche zur Versorgung eines Prozessors mit elektrischer Energie geeignet sind. </p><p id="p0022" num="0022">Ein weiteres vorteilhaftes Ausführungsbeispiel der Erfindung ist, dass die Ausgangsimpedanz der Quelle und die Eingangsimpedanz des Prozessors nicht aufeinander abgestimmt sind. Dies ist besonders vorteilhaft, da es mit der vorliegenden Erfindung möglich ist, einen Prozessor mit einer elektrischen Quelle, welche den Prozessor mit Energie versorgt, zu verbinden und zu betreiben ohne Rücksicht zu nehmen auf die Ausgangsimpedanz der Quelle und die Eingangsimpedanz des Prozessors. </p><p id="p0023" num="0023">Ein weiteres vorteilhaftes Ausführungsbeispiel der Erfindung ist, dass als Prozessor ein Controller verwendet wird. Ein weiteres vorteilhaftes Ausführungsbeispiel der Erfindung ist, dass der Prozessor in einem tragbaren Datenträger angeordnet ist. </p><p id="p0024" num="0024">Ein weiteres vorteilhaftes Ausführungsbeispiel der Erfindung ist, dass der tragbare Datenträger eine Chipkarte oder ein RFID-Token oder ein NFC- Modul eines Mobiltelefons ist. Darüber hinaus ist die Erfindung in jedem anderen elektrischen Gerät verwendbar, in welchem ein Prozessor von einer elektrischen Quelle mit Energie versorgt wird, beispielsweise eine Fotokamera, Laptops, Notepads, Smartphones etc. Ferner offenbart die Erfindung zur Lösung der Aufgabe eine Chipkarte, welche eingerichtet ist das oben beschriebene Verfahren auszuführen. </p><p id="p0025" num="0025">Im Folgenden wird ein Ausführungsbeispiel der Erfindung anhand der beigefügten Figur 1 detailliert beschrieben. 
<!-- EPO <DP n="11"/>-->
 Figur 1 zeigt den Ablauf des erfindungsgemäßen Verfahrens. Ein Start, siehe Verfahrensschritt 2, des erfindungsgemäßen Verfahrens erfolgt, wenn aus einem einen tragbaren Datenträger, welcher einen Controller mit einer damit elektrisch leitend verbundenen Antennenspule umf asst, umgebenden beispielsweise magnetischen Feld ausreichend Energie zur Verfügung gestellt wird. Dies kann der Controller beispielsweise durch Sensoren feststellen, welche im Controller enthalten sein können oder auch von außen mit dem Controller elektrisch leitend verbunden sein können und die magnetische Feldstärke erfassen und an den Controller entsprechend signalisieren. Zur Einstellung einer Taktfrequenz verfügen Controller gemäß dem Stand der Technik über Phasenregelschleifen, sogenannte phase locked loops, abgekürzt mit PLL. Als Alternative zu einer PLL sind im Stand der Technik ein Taktteiler oder ein RC-Schwingkreis mit einem nachfolgenden Taktteiler üblich. Zu Beginn des erfindungsgemäßen Verfahrens wird die PLL auf einen minimalen Wert eingestellt, siehe Verfahrensschritt 4. </p><p id="p0026" num="0026">Das bedeutet, dass der Controller mit einer minimalen Taktfrequenz am Anfang des Verfahrens betrieben wird. Der Controller fragt die Sensoren ab, ob eine minimale magnetische Feldstärke des den Datenträger umgebenden magnetischen Felds vorhanden ist, siehe Verfahrensschritt 6. Falls dies nicht der Fall ist, dann wartet der Controller solange bis diese Bedingung einer minimalen magnetischen Feldstärke erfüllt ist. Andernfalls folgt im nächsten Schritt 8 des Verfahrens eine Belastung einer von der Antennenspule an den Controller zur Verfügung gestellten Energie durch die Ausführung einer definierten Berechnung durch ein Hilfsprogramm, welches der Controller ausführt. Die definierte Berechnung führt zu einem festen Verlauf eines von dem Controller aufgenommenen Stroms. Je nach Controllertyp kann die definierte Berechnung eine Addition und/ oder Multiplikation und/ oder Divi- 
<!-- EPO <DP n="12"/>-->
 sion von Daten, beispielsweise Bytes, sein. Bei einem anderen Controllertyp kann die definierte Berechnung eine Multiplikation und/ oder Division von Daten, z.B. Integer-Werten, sein. Allgemein gilt, dass für jeden Controllertyp eine geeignete definierte Berechnung gewählt werden kann. Im Anschluss an die definierte Berechnung wird in Verfahrensschritt 10 geprüft, ob die PLL bereits auf einen maximalen Wert zur Vorgabe der Taktfrequenz des Controllers eingestellt ist. Dieser maximale Wert zur Vorgabe der Taktfrequenz des Controllers kann beispielsweise eine höchst mögliche Taktfrequenz des Controllers sein. Falls die PLL noch nicht auf einen maximalen Wert zur Vorgabe der Taktfrequenz des Controllers eingestellt ist, dann wird die Einstellung der PLL und somit auch die Taktfrequenz in Verfahrensschritt 12 erhöht und die definierte Berechnung von Verfahrensschritt 8 wiederholt. Dieser Vorgang des Verfahrens wiederholt sich solange bis die maximale Einstellung der PLL erreicht ist. Die maximale Einstellung der PLL ist die höchst mögliche Taktfrequenz, bei der ein stabiler und unterbrechungsfreier Ablauf der definierten Berechnung und letztlich des Betriebssystems unter Berücksichtigung der zur Verfügung gestellten Energie, z.B. bereit gestellt von der Antennenspule, möglich ist. Mit steigender Taktfrequenz des Controllers nimmt bei gleicher Programmabarbeitung, d.h. der definierten Be- rechnung, der Stromverbrauch des Controllers linear zu. Falls während einer definierten Berechnung eine Versorgungsspannung am Controller zusammenbrechen sollte, weil der Controller mehr Energie aufnimmt, als die Antennenspule zur Verfügung stellen kann, dann wird das Verfahren über den Verfahrensschritt 18 wieder neu gestartet. Falls die maximale Einstellung der PLL bereits erreicht wurde und es ist ein unterbrechungsfreier und stabiler Betrieb der definierten Berechnung bei der eingestellten höchsten Taktfre- quenz möglich, dann wird das Betriebssystem in Verfahrensschritt 14 gestartet. Zur Sicherheit kann jetzt die Taktfrequenz reduziert werden, um genügend Energie für einen späteren Zeitpunkt zur Verfügung zu haben, wenn 
<!-- EPO <DP n="13"/>-->
 weitere elektronische Baugruppen, z.B. ein Kryptocontroller, eine Ladungspumpe, etc. in Betrieb genommen werden. </p><p id="p0027" num="0027">Der maximale Wert zur Einstellung der PLL, in welcher ein Betrieb des Controllers stabil und unterbrechungsfrei möglich ist, kann in einer nichtflüchtigen Speicherzelle abgespeichert werden. Es ist somit möglich für jeden tragbaren Datenträger, insbesondere jeden Controller, individuell eine optimale Einstellung der PLL zu bestimmen und somit Qualitätsschwankungen von Antennenspulen entgegenzuwirken. </p><p id="p0028" num="0028">Wesentlich für das Verfahren ist, dass es die maximal mögliche Einstellung der PLL und letztlich der Taktfrequenz des Controllers unter Berücksichtigung der zur Verfügung gestellten Energie bestimmt, bei der ein stabiler und unterbrechungsfreier Betrieb des Controllers möglich ist, wobei dabei die Anpassung zwischen der Ausgangsimpedanz einer Quelle, z.B. der Antennenspule, und der Eingangsimpedanz einer Senke, z.B. des Controllers berücksichtigt wird. Erst wenn diese Einstellung der PLL bzw. Taktfrequenz des Controllers bestimmt ist, wird das Betriebssystem gestartet. Somit kann es nicht mehr passieren, dass ein Controller ein Betriebssystem startet und beim Einschalten von Hardwareelementen während einer Abarbeitung des Betriebssystems ein Hardwarereset durchgeführt wird und eine möglicherweise begonnene Transaktion abgebrochen wird und somit ein sicherheitskritischer Zustand entsteht. 
</p></description><claims mxw-id="PCLM70078203" ref-ucid="WO-2014127875-A1" lang="DE" load-source="patent-office"><claim id="clm-0001" num="0001"><!-- EPO <DP n="14"/>--><claim-text> P a t e n t a n s p r ü c h e </claim-text><claim-text>1. Verfahren zur Bestimmung der Belastbarkeit einer elektrischen Quelle durch einen Prozessor, so dass ein Start und/ oder eine Ausführung eines Programms durch den Prozessor ausgeführt werden, ohne dass der Start und/ oder die Ausführung des Programms unterbrochen werden, wenn der Prozessor während dem Start und/ oder während der Ausführung des Programms der Quelle mehr elektrische Energie entnimmt als die Quelle zur Verfügung stellt, dadurch gekennzeichnet, dass vor dem Start und der Ausführung des Programms der Prozessor ein Hilfsprogramm startet und ausführt, wobei das Hilfsprogramm mindestens dieselbe Energieaufnahme des Prozessors bei Start und Ausführung bewirkt, wie wenn der Prozessor das Programm startet und ausführt, um festzustellen, ob die von der Quelle zur Verfügung gestellte Energie ausreicht für den Start und die Ausführung des Programms, um bei mindestens ausreichender Energie im An- schluss an die Ausführung des Hilfsprogramms das Programm vom Prozessor zu starten und auszuführen. </claim-text><claim-text>2. Verfahren nach Anspruch 1, dadurch gekennzeichnet, dass das Hilfsprogramm die Energieaufnahme des Prozessors erhöht, indem das Hilfsprogramm eine Taktfrequenz des Prozessors erhöht. </claim-text><claim-text>3. Verfahren nach Anspruch 2, dadurch gekennzeichnet, dass die Taktfrequenz solange erhöht wird bis eine maximale Taktfrequenz erreicht wird, bei der ein Start und eine Ausführung des Hilfsprogramms durch den Prozessor möglich ist, ohne dass der Prozessor der Quelle mehr Energie entnimmt als die Quelle zur Verfügung stellt. 
<!-- EPO <DP n="15"/>-->
 Verfahren nach Anspruch 2 oder 3, dadurch gekennzeichnet, dass das Hilfsprogramm wieder bei einer minimalen Taktfrequenz beginnt, wenn der Start oder die Ausführung des Hilfsprogramms unterbrochen wurde, da der Prozessor mehr Energie aus der Quelle entnommen hat, als die Quelle zur Verfügung gestellt hat. </claim-text><claim-text>Verfahren nach einem der Ansprüche 2 bis 4, dadurch gekennzeichnet, dass das Hilfsprogramm beendet wird, wenn es eine für den Prozessor höchst mögliche Taktfrequenz erreicht hat, bei der ein Start und eine Ausführung des Hilfsprogramms durch den Prozessor möglich ist, ohne dass der Prozessor der Quelle mehr Energie entnimmt als die Quelle zur Verfügung stellt. </claim-text><claim-text>Verfahren nach Anspruch 5, dadurch gekennzeichnet, dass die höchst mögliche Taktfrequenz größer oder gleich der maximalen Taktfrequenz ist. </claim-text><claim-text>Verfahren nach einem der Ansprüche 2 bis 6, dadurch gekennzeichnet, dass die maximale Taktfrequenz für den folgenden Betrieb des Prozessors gespeichert wird. </claim-text><claim-text>Verfahren nach einem der Ansprüche 1 bis 7, dadurch gekennzeichnet, dass das Hilfsprogramm nur einmal bei der ersten Inbetriebnahme des Prozessors oder bei mindestens einer der ersten Inbetriebnahme folgenden Inbetriebnahme ausgeführt wird. </claim-text><claim-text>Verfahren nach einem der Ansprüche 1 bis 9, dadurch gekennzeichnet, dass für einen Betrieb des Prozessors nach Bestimmung der ma- 
<!-- EPO <DP n="16"/>-->
 ximalen Taktfrequenz eine tiefere Taktfrequenz als die maximale Taktfrequenz verwendet wird, um einen sicheren Start und eine sichere Ausführung des Programms zu gewährleisten. 10. Verfahren nach einem der Ansprüche 1 bis 9, dadurch gekennzeichnet, dass die Taktfrequenz mittels einer Phasenregelschleife oder eines Taktteilers oder eines RC-Schwingkreises mit folgenden Taktteiler erzeugt wird. </claim-text><claim-text>11. Verfahren nach einem der Ansprüche 1 bis 10, dadurch gekennzeichnet, dass das Hilfsprogramm bei Start und Ausführung durch den Prozessor mindestens dieselbe Energieaufnahme des Prozessors bewirkt wie wenn das Programm durch den Prozessor gestartet und ausgeführt wird, indem das Hilfsprogramm ein definierter Rechenalgorithmus in Form von Additionen und/ oder Subtraktionen und/ oder Multiplikationen und/ oder Divisionen ist, welcher vom Prozessor ausgeführt wird. </claim-text><claim-text>12. Verfahren nach einem der Ansprüche 1 bis 11, dadurch gekennzeichnet, dass das Hilfsprogramm nur dann vom Prozessor gestartet wird, wenn mindestens ein Sensor, welcher mit dem Prozessor elektrisch leitend verbunden ist, dem Prozessor signalisiert, dass ein elektromagnetisches Feld genügend Energie zum Start und zur Ausführung des Programms zur Verfügung stellt. </claim-text><claim-text>13. Verfahren nach einem der Ansprüche 1 bis 12, dadurch gekennzeichnet, dass als elektrische Quelle eine Antennenspule verwendet wird, welche mit dem Prozessor elektrisch leitend verbunden ist. 
<!-- EPO <DP n="17"/>-->
</claim-text><claim-text>14. Verfahren nach Anspruch 13, dadurch gekennzeichnet, dass die Ausgangsimpedanz der Quelle und die Eingangsimpedanz des Prozessors nicht aufeinander abgestimmt sind. 15. Chipkarte, welche eingerichtet ist das Verfahren gemäß den Ansprüchen 1 bis 14 auszuführen. 
</claim-text></claim></claims><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
