<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2959277-A1" country="EP" doc-number="2959277" kind="A1" date="20151230" family-id="49663247" file-reference-id="311199" date-produced="20180825" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="160452854" ucid="EP-2959277-A1"><document-id><country>EP</country><doc-number>2959277</doc-number><kind>A1</kind><date>20151230</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-13814363-A" is-representative="NO"><document-id mxw-id="PAPP193868676" load-source="docdb" format="epo"><country>EP</country><doc-number>13814363</doc-number><kind>A</kind><date>20131212</date><lang>EN</lang></document-id><document-id mxw-id="PAPP193868677" load-source="patent-office" format="original"><country>EP</country><doc-number>13814363.1</doc-number><date>20131212</date><lang>EN</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC162031626" ucid="US-2013074687-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>2013074687</doc-number><kind>W</kind><date>20131212</date></document-id></priority-claim><priority-claim mxw-id="PPC162030495" ucid="US-201313775848-A" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>201313775848</doc-number><kind>A</kind><date>20130225</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-1869711081" load-source="ipcr">G01K   1/02        20060101ALI20161207BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1869713233" load-source="ipcr">G01K  15/00        20060101ALI20161207BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1869714315" load-source="ipcr">G01K   7/20        20060101AFI20161207BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1987768988" load-source="docdb" scheme="CPC">G01K   1/024       20130101 LI20150918BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987777348" load-source="docdb" scheme="CPC">G01K   7/20        20130101 LI20150918BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987782065" load-source="docdb" scheme="CPC">G01K  15/007       20130101 FI20150918BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT165550028" lang="DE" load-source="patent-office">PROZESSTEMPERATURSENDER MIT VERBESSERTER SENSORDIAGNOSE</invention-title><invention-title mxw-id="PT165550029" lang="EN" load-source="patent-office">PROCESS TEMPERATURE TRANSMITTER WITH IMPROVED SENSOR DIAGNOSTICS</invention-title><invention-title mxw-id="PT165550030" lang="FR" load-source="patent-office">TRANSMETTEUR DE TEMPÉRATURE DE PROCÉDÉ À DIAGNOSTIC DE CAPTEUR AMÉLIORÉ</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR1103342937" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>ROSEMOUNT INC</last-name><address><country>US</country></address></addressbook></applicant><applicant mxw-id="PPAR1103303796" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>ROSEMOUNT INC.</last-name></addressbook></applicant><applicant mxw-id="PPAR1101642038" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Rosemount Inc.</last-name><iid>101338442</iid><address><street>8200 Market Boulevard</street><city>Chanhassen, MN 55317</city><country>US</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR1103330002" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>RUD JASON H</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR1103307532" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>RUD, JASON, H.</last-name></addressbook></inventor><inventor mxw-id="PPAR1101639630" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>RUD, JASON, H.</last-name><address><street>2307 Coldwater Crossing</street><city>Mayer, MN 55360</city><country>US</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR1101652177" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Parker, Andrew James</last-name><suffix>et al</suffix><iid>101299091</iid><address><street>Meissner Bolte &amp; Partner GbR Postfach 86 06 24</street><city>81633 München</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="US-2013074687-W"><document-id><country>US</country><doc-number>2013074687</doc-number><kind>W</kind><date>20131212</date><lang>EN</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2014130142-A1"><document-id><country>WO</country><doc-number>2014130142</doc-number><kind>A1</kind><date>20140828</date><lang>EN</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS660714586" load-source="docdb">AL</country><country mxw-id="DS660733117" load-source="docdb">AT</country><country mxw-id="DS660714592" load-source="docdb">BE</country><country mxw-id="DS660790341" load-source="docdb">BG</country><country mxw-id="DS660629991" load-source="docdb">CH</country><country mxw-id="DS660707909" load-source="docdb">CY</country><country mxw-id="DS660733118" load-source="docdb">CZ</country><country mxw-id="DS660714593" load-source="docdb">DE</country><country mxw-id="DS660707910" load-source="docdb">DK</country><country mxw-id="DS660707919" load-source="docdb">EE</country><country mxw-id="DS660628977" load-source="docdb">ES</country><country mxw-id="DS660790342" load-source="docdb">FI</country><country mxw-id="DS660629992" load-source="docdb">FR</country><country mxw-id="DS660714594" load-source="docdb">GB</country><country mxw-id="DS660707920" load-source="docdb">GR</country><country mxw-id="DS660714599" load-source="docdb">HR</country><country mxw-id="DS660733127" load-source="docdb">HU</country><country mxw-id="DS660628978" load-source="docdb">IE</country><country mxw-id="DS660707921" load-source="docdb">IS</country><country mxw-id="DS660790343" load-source="docdb">IT</country><country mxw-id="DS660707922" load-source="docdb">LI</country><country mxw-id="DS660790344" load-source="docdb">LT</country><country mxw-id="DS660709806" load-source="docdb">LU</country><country mxw-id="DS660790345" load-source="docdb">LV</country><country mxw-id="DS660790346" load-source="docdb">MC</country><country mxw-id="DS660709811" load-source="docdb">MK</country><country mxw-id="DS660709812" load-source="docdb">MT</country><country mxw-id="DS660709813" load-source="docdb">NL</country><country mxw-id="DS660733128" load-source="docdb">NO</country><country mxw-id="DS660709814" load-source="docdb">PL</country><country mxw-id="DS660707927" load-source="docdb">PT</country><country mxw-id="DS660630088" load-source="docdb">RO</country><country mxw-id="DS660707928" load-source="docdb">RS</country><country mxw-id="DS660709819" load-source="docdb">SE</country><country mxw-id="DS660714601" load-source="docdb">SI</country><country mxw-id="DS660733129" load-source="docdb">SK</country><country mxw-id="DS660733130" load-source="docdb">SM</country><country mxw-id="DS660628983" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data><office-specific-data><eptags><ep-no-a-document-published>*</ep-no-a-document-published></eptags></office-specific-data></bibliographic-data><abstract mxw-id="PA139072965" ref-ucid="WO-2014130142-A1" lang="EN" load-source="patent-office"><p num="0000">A process temperature transmitter (12) is operable with at least one temperature sensor (32) having a plurality of leads. The temperature transmitter (12) includes measurement circuitry (26) operably coupleable to the at least one temperature sensor (32) to provide an indication of an electrical parameter of the at least one temperature sensor (32). A controller (30) is coupled to the measurement circuitry (26) to obtain the indication and provide a process temperature output. A current source (28) applies a test current to the plurality of leads simultaneously. Diagnostic circuitry (70) measures a voltage response on each lead in order to provide a diagnostic indication of the temperature sensor.</p></abstract><abstract mxw-id="PA139540614" ref-ucid="WO-2014130142-A1" lang="EN" source="national office" load-source="docdb"><p>A process temperature transmitter (12) is operable with at least one temperature sensor (32) having a plurality of leads. The temperature transmitter (12) includes measurement circuitry (26) operably coupleable to the at least one temperature sensor (32) to provide an indication of an electrical parameter of the at least one temperature sensor (32). A controller (30) is coupled to the measurement circuitry (26) to obtain the indication and provide a process temperature output. A current source (28) applies a test current to the plurality of leads simultaneously. Diagnostic circuitry (70) measures a voltage response on each lead in order to provide a diagnostic indication of the temperature sensor.</p></abstract><abstract mxw-id="PA139072966" ref-ucid="WO-2014130142-A1" lang="FR" load-source="patent-office"><p num="0000">L'invention concerne un transmetteur de température de procédé (12) qui est conçu pour fonctionner avec au moins un capteur de température (32) ayant une pluralité de fils. Le transmetteur de température (12) comprend une circuiterie de mesure (26) pouvant être couplée fonctionnellement audit capteur de température (32) pour fournir une indication d'un paramètre électrique dudit capteur de température (32). Une unité de commande (30) est couplée à la circuiterie de mesure (26) pour obtenir l'indication et fournir une sortie de température de procédé. Une source de courant (28) applique simultanément un courant d'essai à la pluralité de fils. Une circuiterie de diagnostic (70) mesure une réponse de tension sur chaque fil afin de fournir une indication de diagnostic du capteur de température.</p></abstract><abstract mxw-id="PA139540615" ref-ucid="WO-2014130142-A1" lang="FR" source="national office" load-source="docdb"><p>L'invention concerne un transmetteur de température de procédé (12) qui est conçu pour fonctionner avec au moins un capteur de température (32) ayant une pluralité de fils. Le transmetteur de température (12) comprend une circuiterie de mesure (26) pouvant être couplée fonctionnellement audit capteur de température (32) pour fournir une indication d'un paramètre électrique dudit capteur de température (32). Une unité de commande (30) est couplée à la circuiterie de mesure (26) pour obtenir l'indication et fournir une sortie de température de procédé. Une source de courant (28) applique simultanément un courant d'essai à la pluralité de fils. Une circuiterie de diagnostic (70) mesure une réponse de tension sur chaque fil afin de fournir une indication de diagnostic du capteur de température.</p></abstract><description mxw-id="PDES78476787" ref-ucid="WO-2014130142-A1" lang="EN" load-source="patent-office"><!-- EPO <DP n="3"/>--><p id="p0001" num="0001"> Process Temperature Transmitter with Improved Sensor Diagnostics </p><p id="p0002" num="0002">BACKGROUND </p><p id="p0003" num="0003"> [0001] The present invention relates to process variable transmitters of the type used to monitor process variables in industrial processes. More specifically, the present invention relates to process variable transmitters which are used to sense a temperature of a process. </p><p id="p0004" num="0004">[0002] The process industry employs process variable transmitters to monitor process variables associated with substances such as solids, slurries, liquids, vapors, and gasses in chemical, pump, petroleum, pharmaceutical, food and other processing plants. Process variables include pressure, temperature, flow, level, turbidity, density, concentration, chemical composition and other properties. A process fluid temperature transmitter provides an output related to a sensed process substance temperature. The temperature control loop to a control room, or the output can be communicated to another process device such that the process can be monitored and controlled. In order to monitor a process fluid temperature, the transmitter includes a temperature sensor, such as a thermocouple or a resistance temperature device (RTD). </p><p id="p0005" num="0005">[0003] In temperature measurement applications, it is important to identify when a temperature measurement is incorrect. This may be due to lead/sensor breakage, excessive line resistance, or shorting conditions. There are typically a number of connection points between a temperature sensor and a process temperature transmitter that can fail or become degraded. Some commercially-available process temperature transmitters verify the temperature sensor connection integrity before providing readings. Examples of temperature transmitters which include diagnostics include Kirkpatrick et al. (US Patent No. 6,556,145 entitled TWO-WIRE FLUID TEMPERATURE TRANSMITTER WITH THERMOCOUPLE DIAGNOSTICS), Castle (US Patent No. 5,317,520 entitled COMPUTERIZED REMOTE RESISTANCE MEASUREMENT SYSTEM WITH FAULT DETECTION), Kirkpatrick (US Patent No. 5,703,575 entitled OPEN SENSOR DIAGNOSTIC SYSTEM FOR TEMPERATURE TRANSMITTER IN A PROCESS CONTROL SYSTEM), among others. </p><p id="p0006" num="0006"> [0004] One such diagnostic technique which has been used in temperature transmitters is based upon the collection of multiple measurements. These measurements are collected sequentially by the process temperature transmitter to test each conductor independently. For 
<!-- EPO <DP n="4"/>-->
 open sensor and excessive line resistance testing, a process temperature transmitter can apply a current pulse to each of the temperature sensor leads individually and measure the resulting voltage. If the measured voltage exceeds a threshold, a fault can be identified. If a leadwire or temperature sensor element is open, the current pulse will drive the measured voltage high enough to exceed the threshold. When the lead is properly connected and the sensor element is not damaged, a path is provided for current to flow and the sensed voltage will remain below the threshold, indicating a proper connection. For a 4-wire RTD, this requires three open sensor measurements to evaluate the integrity of the RTD (one wire is always connected to the circuit common for the current return path). </p><p id="p0007" num="0007"> [0005] Wire-wound RTD temperature sensors are susceptible to becoming shorted from exposure to vibration. Such vibration can include high magnitude transients, persistent, lower magnitude events, or both. To test for a shorted sensor condition, a resistive measurement of the temperature sensing element is obtained. If the ohmic measurement is lower than a threshold set by software, the sensor is determined to be shorted. This process currently requires three measurement points to identify this condition and may take on the order of 200 milliseconds. </p><p id="p0008" num="0008">[0006] There is an ongoing need for improved temperature sensor diagnostics. </p><p id="p0009" num="0009">SUMMARY </p><p id="p0010" num="0010"> [0007] A process temperature transmitter is operable with at least one temperature sensor having a plurality of leads. The temperature transmitter includes measurement circuitry operably coupleable to the at least one temperature sensor to provide an indication of an electrical parameter of the at least one temperature sensor. A controller is coupled to the measurement circuitry to obtain the indication and provide a process temperature output. A current source applies a test current to the plurality of leads simultaneously. Diagnostic circuitry measures a voltage response on each lead in order to provide a diagnostic indication of the temperature sensor. </p><p id="p0011" num="0011">BRIEF DESCRIPTION OF THE DRAWINGS </p><p id="p0012" num="0012">[0008] FIG. 1 is a diagram of the environment of a process fluid temperature transmitter. </p><p id="p0013" num="0013">[0009] FIG. 2 is a diagrammatic view of process fluid temperature transmitter 12. </p><p id="p0014" num="0014">[0010] FIG. 3 is a system block diagram of a process fluid temperature transmitter. 
<!-- EPO <DP n="5"/>-->
 [0011] FIG. 4 is a schematic diagram showing electrical connections to a temperature sensor. </p><p id="p0015" num="0015">[0012] FIG. 5 is a signal graph showing input voltage on a lead of an RTD during diagnostics. </p><p id="p0016" num="0016"> [0013] FIG. 6A is a flow diagram of a method of testing a temperature sensor in accordance with an embodiment of the present invention. </p><p id="p0017" num="0017"> [0014] FIG. 6B is a diagrammatic view of an arrangement for generating various signals to diagnose sensor degradation in accordance with an embodiment of the present invention. </p><p id="p0018" num="0018">[0015] FIG. 7 is a diagrammatic view of an arrangement for testing for a shorted temperature sensor in accordance with an embodiment of the present invention. </p><p id="p0019" num="0019">DETAILED DESCRIPTION OF ILLUSTRATIVE EMBODIMENTS </p><p id="p0020" num="0020">[0016] The present invention provides diagnostics for a process temperature transmitter. In various aspects, the invention provides a method and apparatus for quickly and accurately determining a condition of a temperature sensor including verifying that the transmitter is properly connected to the temperature sensor. Embodiments of the present invention generally provide a method and apparatus that tests a plurality, and preferably all, temperature sensor lines simultaneously for open and/or shorted sensor conditions or other degraded behavior, thereby reducing or potentially minimizing sensor evaluation time. The diagnostics described below may be performed before each temperature sensor measurement or at a selected interval or other time as desired. </p><p id="p0021" num="0021"> [0017] FIGS. 1 and 2 illustrate an environment of a two- wire process fluid temperature transmitter in accordance with embodiments of the invention. FIG. 1 shows process fluid control system 10 including process fluid temperature transmitter 12. FIG. 2 illustrates process control system 10 including process fluid temperature transmitter 12 electrically coupled to control room 14 (modeled as voltage source and resistance) over a two-wire process control loop 16. Transmitter 12 is mounted on and coupled to a process fluid container such as pipe 18. Transmitter 12 monitors the temperature of process fluid process pipe 18 and transmits temperature information to control room 14 over loop 16. Transmitter 12 is couplable to loop 16 through terminals 17 (shown in FIG. 3). Process control loop 16 is illustrated as a two-wire process control loop. In such a configuration, the same two wires are used both for carrying information as well as providing power to transmitter 12. For example, the transmitter 12 can 
<!-- EPO <DP n="6"/>-->
 control an analog current level on the two- wire loop 16 which is representative of the sensed temperature. In more advanced configurations, digital information can also be transmitted and/or received over the two-wire process control loop. One such protocol is the HART® communication protocol. However, the present invention is not limited to this particular two- wire implementation and any type of process control loop may be employed. Another example process control loop is a wireless process control loop in which information is transmitted wirelessly. One example of wireless communication technique is in accordance with the Wireless HART® communication protocol in accordance with the IEC 62591. Standard Ethernet, fiberoptic connection, or other communication channels may also be used. </p><p id="p0022" num="0022">[0018] FIG. 3 is a system block diagram of process fluid transmitter 12 in accordance with an embodiment of the invention. Transmitter 12 includes power module 20, loop communicator 22, RTD input 24, measurement circuitry 26, current source 28, and controller 30. Transmitter 12 is couplable to RTD 32 such that transmitter 12 can obtain a voltage measurement from RTD 32, and relate the measurement to a calculated process fluid temperature. Transmitter 12 then provides the calculated process fluid temperature on two-wire process control loop 16. </p><p id="p0023" num="0023">[0019] Power module 20 is disposed within transmitter 12, and is couplable to two-wire process control loop 16. Module 20 suitably conditions power received from loop 16 for the various components of transmitter 12. Utilizing power module 20, transmitter 12 is able to operate solely upon power received from process control loop 16. Module 20 can comprise, for example, known electronics such as a DC-DC power regulation device. On loop 16, which in some embodiments employs analog signaling between 4 and 20 mA, module 20 operates to condition four or less milliamps for provision to other components within transmitter 12. Additionally, module 20 can be adapted to prevent electrical noise received from loop 16 to reach the other components. </p><p id="p0024" num="0024"> [0020] Loop communicator 22 is couplable to two-wire process control loop 16, and is configured to communicate over loop 16. Communicator 22 can be of the type generaly known in the art. For example, communicator 22 can be suitably selected to provide analog communication, digital communication, or a combination of the two. As discussed above, one such combination of analog and digital communication is known as the Highway Addressable Remote Transducer (HART®) protocol. One version of the HART® protocol superimposes a digital signal upon a 4-20 mA analog signal. With such a protocol, the primary variable of 
<!-- EPO <DP n="7"/>-->
 interest can be provided in one mode, such as the analog mode, while a diagnostic signal is provided in the other mode. However, the present invention can be practiced with purely analog communications, as well as purely digital communications (such as provided by FOUNDATION™ Fieldbus) and may also be implemented using wireless protocols. </p><p id="p0025" num="0025">[0021] Transmitter 12 also includes RTD input or terminal block 24. Input or terminal block 24 provides a removable electrical coupling to RTD 32. Typically, the coupling will provide a four-wire coupling whereby a Kelvin connection to the RTD can be obtained. With the Kelvin connection, two wires are used to send current through the RTD while a second pair of wires is used to sense the voltage across the RTD. As is known in the art, this reduces errors in resistance measurements. </p><p id="p0026" num="0026"> [0022] Measurement circuitry 26 is disposed within transmitter 12, and is adapted to measure a voltage across the RTD 32 in response to a current applied using current source 28. Measurement circuitry 26 may include an amplifier and/or an analog-to-digital converter. Operation of current source is discussed in more detail below for diagnostic purposes. </p><p id="p0027" num="0027">[0023] Current source 28 is coupled to input 24, power module 20, and controller 30. Current source 28 can be any suitable circuitry capable of passing a known diagnostic current through an RTD connected to input 24. Diagnostic currents as low as one microamp can be used. For example, source 28 can be a precision semiconductor current device, or the like, source 28 can be adapted to pass direct current (DC) or alternating current (AC) through RTD 32. Additionally, source 28 can be circuitry that provides an unknown current through a known resistance, such that the current can be measured, optionally with measurement circuitry 26. During a diagnostic mode, source 28 passes a diagnostic current through RTD 32. The diagnostic current can be passed in either direction through RTD 32, and can also be alternately passed through RTD 32 in opposite directions. While the diagnostic current passes through RTD 32, measurement circuitry 26 provides a signal to controller 30 that is related to the voltage across RTD 32, and thus is related to the resistance of RTD 32. </p><p id="p0028" num="0028"> [0024] Controller 30 is disposed within transmitter 12, and is coupled to power module 20, loop communicator 22, measurement circuitry 26, and current source 28. Controller 30 can be any suitable circuitry capable of relating voltage information received from measurement circuitry 26 to process fluid temperature, and capable of providing RTD diagnostics. Specifically, controller 30 can be a microprocessor or the like. During normal operation, current 
<!-- EPO <DP n="8"/>-->
 source 28 passes a current through RTD 32, and measurement circuitry 26 measures the resultant voltage. Controller 30 relates the information received from measurement circuitry 26 to process fluid temperature through suitable equations or a look-up table. Controller 30 then passes process variable output information to loop communicator 22, such that the process variable is communicated over two-wire process control loop 16. </p><p id="p0029" num="0029"> [0025] During operation, it is possible that the RTD fails, that the electrical connections to the RTD fail, or that associated measurement circuitry fails. As described in the background section, various techniques are known to detect such failures. However, many of these techniques have limitations. For example, process temperatures can change quickly. This may be particularly so when a problem arises within the process. Further, even in situations that are not problematic, providing process temperature readings expeditiously may allow improved resolution into the process thereby facilitating diagnostics and/or optimizations. However, some prior art diagnostic techniques can take a significant amount of time during which temperature measurements cannot be obtained. </p><p id="p0030" num="0030"> [0026] Some prior art diagnostic techniques can take a relatively long time to determine if a temperature sensor is faulty. In the case of open sensor detection up to three measurements are performed per 4-wire RTD sensor requiring about 60 milliseconds (mS) each. Some temperature transmitters have reduced this time to a 20mS rate, which is the limit of typical hardware. However, since some temperature transmitters can measure eight 3-wire RTD sensors that each require 2 open sensor scans for detection, the transmitter must devote at least 40mS per sensor, or 320mS total, for open sensor detection. </p><p id="p0031" num="0031"> [0027] Another limitation of some temperature transmitters is that they are not capable of determining if an RTD sensor is shorted until the final measurement is calculated. In a high density device, this time can be time significant (~200mS per sensor). </p><p id="p0032" num="0032"> [0028] Another error source in process temperature transmitters is due to sensor line capacitance that can increase if the sensor cabling becomes degraded, resulting in an increased measurement time constant. An increased time constant within the measurement loop can cause inaccuracies due to an insufficient settling time parameter setting within the A/D converter. This situation is not detectable by simply testing the sensor lines for open indication. This condition may only be detectable if an operator manually evaluates the accuracy of the measurement system. Additionally, capacitances within the process temperature transmitter may also increase. 
<!-- EPO <DP n="9"/>-->
 [0029] In accordance with an embodiment of the present invention, a plurality of sensor measurement leads are tested simultaneously by injecting a current on each such sensor lead and monitoring voltage characteristics of the leads simultaneously. This technique can be used to determine open, shorted, and degraded sensor conditions all at the same time (in parallel). Embodiments of the present invention can be practiced internal or external to an A/D Application Specific Integrated Circuit (ASIC). </p><p id="p0033" num="0033"> [0030] FIG. 4 is a diagrammatic view of open sensor diagnostic circuitry 70 in transmitter 12 coupled to RTD 32 to simultaneously test a plurality of leads in accordance with an embodiment of the present invention. Circuitry 70 may be provided within an A/D converter, within an A/D converting ASIC, or simply as part of circuitry within a process temperature transmitter, such as transmitter 12. Circuitry 70 has inputs 72, 74, 76, and 78 that couple to respective terminals 80, 82, 84, and 86 of terminal block 24. Each of the four leads of RTD 32 is coupled to a respective terminal on terminal block 24. Upon closure of switch 92, current from current source output 28 is coupled to all leads of RTD 32 simultaneously. As illustrated in FIG. 4, each lead of RTD 32 is coupled to a respective comparator circuit 96A, 96B, 96C and 96D that compares the external lead voltage within a threshold in order to evaluate an open sensor state. A plurality of, and preferably all, leads are tested at the same time. As used herein, being tested "at the same time" or "simultaneously" means the test current flows through to multiple leads at the same time. Thus, although testing of comparator outputs 96A-D may occur sequentially with the programmatic execution of a processor of controller 30, such testing is deemed to occur at the same time, because the microcontroller cycles orders of magnitude faster than previous sequential lead testing. If all leads are properly connected, and not open, each comparator 96A-D will generate a signal indicating that the voltage on its respective input 72, 74, 76, 78, has exceeded the voltage applied at its reference terminal. If, however, one of the leads is open, the expected voltage will not be seen at the comparator's input. </p><p id="p0034" num="0034"> [0031] In another example embodiment, diagnostic circuitry 70 includes an analog-to-digital converter. In such a configuration, the analog-to-digital converter can sequentially, in a very rapid manner, digitize the output from connections 72, 74, 76, and 78. The comparison with a threshold can then be performed within a microprocessor in accordance with programming instructions. In such a configuration, the digitized values are compared with one or more 
<!-- EPO <DP n="10"/>-->
 thresholds stored in a memory or the like. These thresholds can be modified as desired based upon a particular application or other criteria. </p><p id="p0035" num="0035"> [0032] FIG. 5 is a signal graph showing input voltage on a lead of an RTD during diagnostics. Testing for a degraded sensor is similar to open sensor testing and can employ the same circuitry. Instead of simply applying the test current, the test current is pulsed with each clock cycle of the controller. Once the test current is pulsed through the sensor and if the lead is connected properly, a voltage step change 108 is detectable at the sensor input connection. The magnitude and time constant of the step change will be dependent on the resistance and capacitance present in the system, modeled diagrammatically at reference numerals 104 in FIG. 4. If a sensor line is not connected, the diagnostic circuitry will not detect the expected voltage change. If there is excessive line resistance and or capacitance, the rise time count period 115 will be longer. The open sensor test output can be sampled at each clock cycle to determine if it has reached the threshold 114. Each sample that is above the low threshold input 112 and below the high threshold 114 can be accumulated and provided as a count value based upon the clock signal that can be used further by the transmitter for other qualification schemes. Fall time can also be accumulated in a similar manner with an inverted threshold value, as indicated at reference numeral 116. The clock counts generated can be compared against expected values or relative time deltas and used to indicate a degraded sensor. In this way, sensor degradation can be determined by monitoring the rise time and fall time of the sensed current pulse. This allows the temperature transmitter 12 to monitor the time constant produced by the inherent lead resistance and system capacitance on each specific lead. </p><p id="p0036" num="0036"> [0033] FIG. 6A is a simplified flow diagram of a method of testing a temperature sensor in accordance with an embodiment of the present invention. Method 120 begins at block 122 and control passes to block 124 where COUNTER is initialized to zero. Next, at block 126, preexisting voltage on the lead under test is latched as Vi<sub>npu</sub>t to- At block 128, the test current is applied to the lead. As set forth above, this test current is preferably a current pulse that is applied at the clock frequency of the controller or microprocessor conducting the test. At block 130, the adjusted voltage (V<sub>a</sub>dj<sub>U</sub>sted) is compared to the input voltage (Vi<sub>npu</sub>t). The adjusted voltage is the sum of the latched pre-existing input voltage Vi<sub>npu</sub>t to and the open sensor threshold voltage ( os<sub>j</sub>hresh) indicated at reference numeral 114 in FIG. 4. The result of the comparison generates the Open_Test_Out signal. For example, this signal is false if Vi<sub>nput</sub> is less than Vested and true 
<!-- EPO <DP n="11"/>-->
 when Vinput is equal to or greater than Vested- The generation and operation of these various signals is also indicated diagrammatically in the representation shown in FIG. 6B. At block 132, method 120 samples, tests, or otherwise checks the state of the Open_Test_Out signal with each rising edge of the clock of the controller or microprocessor conducting the test. If at block 134 it is determined that the open Open_Test_Out signal is high, method 120 ends at block 136. However, if block 134 determines that Open_Test_Out is not high, the value of COUNTER is incremented based upon the clock signal, and control returns to block 132. In this manner, method 120 will iterate until Open_Test_Out becomes high. At that point, COUNTER will indicate the number of clock pulses that occurred between the between the beginning of the test and the moment when Open_Test_Out went high. Thus, the value of COUNTER will be indicative of the time constant produced by the inherent lead resistance and system capacitance on the lead being tested. A similar test can be used when the current pulse is removed to monitor the fall time. Note that the counter can also be compared to a maximum value which indicates that the high or low threshold has not been reached. </p><p id="p0037" num="0037"> [0034] FIG. 7 is a diagrammatic view of an arrangement for testing for a shorted temperature sensor in accordance with an embodiment of the present invention. In order to test for a shorted sensor, circuitry 70 monitors the voltage difference between selected leads on either side of RTD element 32. A transmitter specified voltage threshold is used to compare against this differential voltage to determine if the sensor is in a shorted state. Once the difference voltage exceeds the threshold, the circuit can indicate that the sensor is not shorted. The arrangement illustrated in FIG. 7 operates using a pair of leads that are disposed on opposite sides of the temperature sensitive element of RTD 32. A voltage on the first lead (V<sub>lea</sub>di) is measured and applied to difference node 140. A voltage on the second lead (Vi<sub>ea</sub>d2) is also applied to difference node 140 such that the output 142 of node 140 is the difference between Vi<sub>ea</sub>di and Vi<sub>ea</sub>d2- The output of node 140 is applied to difference node 144 along with a preselected short circuit voltage threshold (V<sub>s</sub>hort_thresh)- The output of node 144 is indicative of whether (Vi<sub>ea</sub>di-Vi<sub>ea</sub>d2) exceeds Vshort<sub>j</sub>hresh and is thus indicative of whether the RTD is in a shorted state. </p><p id="p0038" num="0038"> [0035] The techniques and circuit arrangements set forth above allow a temperature transmitter to more quickly determine whether a temperature sensor, such as an RTD, is properly connected and functional. While the time savings maybe beneficial for a single temperature sensor, high density temperature transmitters currently in use will achieve significant time 
<!-- EPO <DP n="12"/>-->
 savings and thus faster sensor update rates. While currently the detection time for embodiments of the present invention is dependent on the A/D converter conversion decimation rate, detection time can be improved by having the A/D converter interrupt the processor when diagnostics have completed. </p><p id="p0039" num="0039"> [0036] Although the present invention has been described with reference to preferred embodiments, workers skilled in the art will recognize that changes may be made in form and detail without departing from the spirit and scope of the invention. For example, while embodiments of the present invention have generally provided a single pulsed current source coupled to all leads while individual circuits measure each lead's voltage, embodiments of the present invention can also be practiced where a single detector is coupled to all leads, and different signals are introduced on each lead. While such an embodiment may be significantly more complex, it is included in order to illustrate the breadth of possibilities enabled by testing a plurality of leads simultaneously. Further, various components may have multiple functions. For example, the same current source, controller and analog to digital converter used to measure temperature can also be used to perform diagnostics. 
</p></description><claims mxw-id="PCLM70077040" ref-ucid="WO-2014130142-A1" lang="EN" load-source="patent-office"><claim-statement><!-- EPO <DP n="13"/>-->WHAT IS CLAIMED IS: </claim-statement><claim id="clm-0001" num="1"><claim-text>1. A process temperature transmitter operable with at least one temperature sensor having a plurality of leads, the temperature transmitter comprising: </claim-text><claim-text> measurement circuitry operably coupleable to the at least one temperature sensor to </claim-text><claim-text> provide an indication of an electrical parameter of the at least one temperature sensor; </claim-text><claim-text> a controller coupled to the measurement circuitry to obtain the indication and provide a process temperature output; </claim-text><claim-text> a current source configured to apply a test current to the plurality of leads simultaneously; and </claim-text><claim-text> diagnostic circuitry configured to measure a voltage response on each lead and </claim-text><claim-text> responsively to provide a diagnostic indication of the temperature sensor. </claim-text></claim><claim id="clm-0002" num="2"><claim-text> 2. The process temperature transmitter of claim 1, wherein the temperature sensor is an RTD. </claim-text></claim><claim id="clm-0003" num="3"><claim-text> 3. The process temperature transmitter of claim 1, wherein the plurality of leads includes four leads. </claim-text></claim><claim id="clm-0004" num="4"><claim-text> 4. The process temperature transmitter of claim 1, wherein the diagnostic indication is indicative of an electrical short. </claim-text></claim><claim id="clm-0005" num="5"><claim-text> 5. The process temperature transmitter of claim 1, wherein the diagnostic indication is indicative of an open lead. </claim-text></claim><claim id="clm-0006" num="6"><claim-text> 6. The process temperature transmitter of claim 1, wherein the diagnostic indication is indicative of sensor degradation. </claim-text></claim><claim id="clm-0007" num="7"><claim-text> 7. The process temperature transmitter of claim 1, wherein the diagnostic is indicative of a time constant produced by inherent lead resistance and system capacitance on each lead. </claim-text></claim><claim id="clm-0008" num="8"><claim-text> 8. The process temperature transmitter of claim 1, wherein the circuitry for applying a test current to the plurality of leads simultaneously is disposed within an analog-to-digital converter application specific integrated circuit (ASIC). </claim-text></claim><claim id="clm-0009" num="9"><claim-text> 9. The process temperature transmitter of claim 1, wherein the diagnostic indication is based on rise time of the voltage response on each lead. 
<!-- EPO <DP n="14"/>-->
</claim-text></claim><claim id="clm-0010" num="10"><claim-text>10. The process temperature transmitter of claim 1, wherein the diagnostic indication is based on fall time of the voltage response on each lead. </claim-text></claim><claim id="clm-0011" num="11"><claim-text> 11. The process temperature transmitter of claim 10, wherein the diagnostic indication is also based on rise time of the voltage response on each lead. </claim-text></claim><claim id="clm-0012" num="12"><claim-text> 12. A method of diagnosing at least one temperature sensor connection with a process temperature transmitter, the method comprising: </claim-text><claim-text> applying a test current to a plurality of leads of the at least one temperature sensor </claim-text><claim-text> simultaneously; </claim-text><claim-text> detecting a voltage response on each lead of the at least one temperature sensor; and generating a diagnostic indication relative to the at least one temperature sensor based on the voltage response on each lead. </claim-text></claim><claim id="clm-0013" num="13"><claim-text> 13. The method of claim 12, wherein the at least one temperature sensor includes a plurality of temperature sensors. </claim-text></claim><claim id="clm-0014" num="14"><claim-text> 14. The method of claim 13, wherein the plurality of temperature sensors are RTDs. </claim-text></claim><claim id="clm-0015" num="15"><claim-text> 15. The method of claim 12, wherein the diagnostic indication is indicative of an electrical short. </claim-text></claim><claim id="clm-0016" num="16"><claim-text> 16. The method of claim 12, wherein the diagnostic indication is indicative of an open lead.</claim-text></claim><claim id="clm-0017" num="17"><claim-text>17. The method of claim 12, wherein the diagnostic indication is indicative of sensor degradation. </claim-text></claim><claim id="clm-0018" num="18"><claim-text> 18. The method of claim 12, wherein the diagnostic is indicative of a time constant produced by inherent lead resistance and system capacitance on each lead. </claim-text></claim><claim id="clm-0019" num="19"><claim-text> 19. The method of claim 12, wherein the method is performed before each temperature sensor measurement. </claim-text></claim><claim id="clm-0020" num="20"><claim-text> 20. A process temperature transmitter operable with at least one temperature sensor having a plurality of leads, the temperature transmitting comprising: </claim-text><claim-text> means for applying a test current to the plurality of leads of the at least one temperautr sensor simultaneously; </claim-text><claim-text> means for detecting a voltage response on each lead of the at least one temperature </claim-text><claim-text> sensor; and </claim-text><claim-text> means for generating a diagnostic indication relative to the at least one temperature </claim-text><claim-text> sensor based on the voltage response on each lead. 
</claim-text></claim></claims><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
