<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2959105-A1" country="EP" doc-number="2959105" kind="A1" date="20151230" family-id="51390450" file-reference-id="296413" date-produced="20180825" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="160452972" ucid="EP-2959105-A1"><document-id><country>EP</country><doc-number>2959105</doc-number><kind>A1</kind><date>20151230</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-14753659-A" is-representative="NO"><document-id mxw-id="PAPP193868912" load-source="patent-office" format="original"><country>EP</country><doc-number>14753659.3</doc-number><date>20140221</date><lang>EN</lang></document-id><document-id mxw-id="PAPP193868913" load-source="docdb" format="epo"><country>EP</country><doc-number>14753659</doc-number><kind>A</kind><date>20140221</date><lang>EN</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC162030616" ucid="CA-2014050122-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>CA</country><doc-number>2014050122</doc-number><kind>W</kind><date>20140221</date></document-id></priority-claim><priority-claim mxw-id="PPC162028406" ucid="US-201361767574-P" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>201361767574</doc-number><kind>P</kind><date>20130221</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-1988521591" load-source="docdb">H04B  13/02        20060101ALI20140911BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1988523427" load-source="docdb">E21B  47/13        20120101AFI20140911BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1988526238" load-source="docdb">H04L  27/00        20060101ALI20140911BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1702753128" load-source="docdb" scheme="CPC">H04L  27/02        20130101 LI20180202BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1702753129" load-source="docdb" scheme="CPC">H04B  13/02        20130101 LI20180202BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1984697340" load-source="docdb" scheme="CPC">H04L  27/04        20130101 LI20160107BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1984699390" load-source="docdb" scheme="CPC">E21B  49/00        20130101 LI20160107BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1984705244" load-source="docdb" scheme="CPC">E21B  47/122       20130101 FI20160108BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT165550382" lang="DE" load-source="patent-office">BOHRLOCHTELEMETRIE MIT ELEKTROMAGNETISCHEN IMPULSEN</invention-title><invention-title mxw-id="PT165550383" lang="EN" load-source="patent-office">ELECTROMAGNETIC PULSE DOWNHOLE TELEMETRY</invention-title><invention-title mxw-id="PT165550384" lang="FR" load-source="patent-office">TÉLÉMÉTRIE DE FOND DE TROU À IMPULSION ÉLECTROMAGNÉTIQUE (EM)</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR1103343743" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>EVOLUTION ENGINEERING INC</last-name><address><country>CA</country></address></addressbook></applicant><applicant mxw-id="PPAR1103312492" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>Evolution Engineering Inc.</last-name></addressbook></applicant><applicant mxw-id="PPAR1101639442" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Evolution Engineering Inc.</last-name><iid>101467311</iid><address><street>No. 2, 1460 28 Street NE</street><city>Calgary, Alberta T2A 7W6</city><country>CA</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR1103340209" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>LIU JILI</last-name><address><country>CA</country></address></addressbook></inventor><inventor mxw-id="PPAR1103323874" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>LIU, JILI</last-name></addressbook></inventor><inventor mxw-id="PPAR1101651764" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>LIU, JILI</last-name><address><street>9 Chaparral Cove SE</street><city>Calgary, Alberta T2X 3L4</city><country>CA</country></address></addressbook></inventor><inventor mxw-id="PPAR1103343536" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>LOGAN AARON W</last-name><address><country>CA</country></address></addressbook></inventor><inventor mxw-id="PPAR1103321275" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>LOGAN, Aaron W.</last-name></addressbook></inventor><inventor mxw-id="PPAR1101640264" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>LOGAN, Aaron W.</last-name><address><street>48 Slocan Road SW</street><city>Calgary, Alberta T2W 0S8</city><country>CA</country></address></addressbook></inventor><inventor mxw-id="PPAR1103315945" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>XU MINGDONG</last-name><address><country>CA</country></address></addressbook></inventor><inventor mxw-id="PPAR1103321459" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>Xu, Mingdong</last-name></addressbook></inventor><inventor mxw-id="PPAR1101642190" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>Xu, Mingdong</last-name><address><street>87 Everstone Rise SW</street><city>Calgary, Alberta T2Y 4J8</city><country>CA</country></address></addressbook></inventor><inventor mxw-id="PPAR1103331710" load-source="docdb" sequence="4" format="epo"><addressbook><last-name>SWITZER DAVID A</last-name><address><country>CA</country></address></addressbook></inventor><inventor mxw-id="PPAR1103308807" load-source="docdb" sequence="4" format="intermediate"><addressbook><last-name>SWITZER, DAVID A.</last-name></addressbook></inventor><inventor mxw-id="PPAR1101639498" load-source="patent-office" sequence="4" format="original"><addressbook><last-name>SWITZER, DAVID A.</last-name><address><street>28 Aspen Stone Court SW</street><city>Calgary, Alberta T3H 0L6</city><country>CA</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR1101645342" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Wightman, David Alexander</last-name><iid>100019290</iid><address><street>Barker Brettell LLP 100 Hagley Road</street><city>Edgbaston Birmingham West Midlands B16 8QQ</city><country>GB</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="CA-2014050122-W"><document-id><country>CA</country><doc-number>2014050122</doc-number><kind>W</kind><date>20140221</date><lang>EN</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2014127482-A1"><document-id><country>WO</country><doc-number>2014127482</doc-number><kind>A1</kind><date>20140828</date><lang>EN</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS660631643" load-source="docdb">AL</country><country mxw-id="DS660736361" load-source="docdb">AT</country><country mxw-id="DS660631645" load-source="docdb">BE</country><country mxw-id="DS660632426" load-source="docdb">BG</country><country mxw-id="DS660709423" load-source="docdb">CH</country><country mxw-id="DS660630712" load-source="docdb">CY</country><country mxw-id="DS660736362" load-source="docdb">CZ</country><country mxw-id="DS660631646" load-source="docdb">DE</country><country mxw-id="DS660630713" load-source="docdb">DK</country><country mxw-id="DS660630714" load-source="docdb">EE</country><country mxw-id="DS660717427" load-source="docdb">ES</country><country mxw-id="DS660632435" load-source="docdb">FI</country><country mxw-id="DS660632436" load-source="docdb">FR</country><country mxw-id="DS660631655" load-source="docdb">GB</country><country mxw-id="DS660630723" load-source="docdb">GR</country><country mxw-id="DS660631656" load-source="docdb">HR</country><country mxw-id="DS660736375" load-source="docdb">HU</country><country mxw-id="DS660709424" load-source="docdb">IE</country><country mxw-id="DS660630724" load-source="docdb">IS</country><country mxw-id="DS660632437" load-source="docdb">IT</country><country mxw-id="DS660630725" load-source="docdb">LI</country><country mxw-id="DS660790927" load-source="docdb">LT</country><country mxw-id="DS660736376" load-source="docdb">LU</country><country mxw-id="DS660790928" load-source="docdb">LV</country><country mxw-id="DS660790929" load-source="docdb">MC</country><country mxw-id="DS660712160" load-source="docdb">MK</country><country mxw-id="DS660712161" load-source="docdb">MT</country><country mxw-id="DS660717428" load-source="docdb">NL</country><country mxw-id="DS660736377" load-source="docdb">NO</country><country mxw-id="DS660712162" load-source="docdb">PL</country><country mxw-id="DS660630726" load-source="docdb">PT</country><country mxw-id="DS660717429" load-source="docdb">RO</country><country mxw-id="DS660630731" load-source="docdb">RS</country><country mxw-id="DS660712167" load-source="docdb">SE</country><country mxw-id="DS660631657" load-source="docdb">SI</country><country mxw-id="DS660736378" load-source="docdb">SK</country><country mxw-id="DS660712168" load-source="docdb">SM</country><country mxw-id="DS660709425" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data><office-specific-data><eptags><ep-no-a-document-published>*</ep-no-a-document-published></eptags></office-specific-data></bibliographic-data><abstract mxw-id="PA139081384" ref-ucid="WO-2014127482-A1" lang="EN" load-source="patent-office"><p num="0000">An apparatus for transmitting electromagnetic (EM) telemetry data from a downhole location to surface comprising: an EM signal transmitter configured to generate positive and negative polarity EM pulses corresponding to a telemetry signal; and an electronics subassembly communicative with the EM signal transmitter and comprising a processor and a memory having encoded thereon program code executable by the processor to perform a method comprising encoding measurement data into an EM telemetry signal using a modulation scheme comprising mapping a symbol set to at least one positive polarity EM pulse and one negative polarity EM pulse; and sending a control signal to the EM signal transmitter to generate EM pulses corresponding to the EM telemetry signal. The EM signal transmitter can comprise an H-bridge circuit electrically coupled to positive and negative ends of a gap sub such that applying a voltage across a positive pathway of the H-bridge circuit generates the positive polarity EM pulse, and applying a voltage across a negative pathway of the H-bridge circuit generates the negative polarity EM pulse.</p></abstract><abstract mxw-id="PA139547711" ref-ucid="WO-2014127482-A1" lang="EN" source="national office" load-source="docdb"><p>An apparatus for transmitting electromagnetic (EM) telemetry data from a downhole location to surface comprising: an EM signal transmitter configured to generate positive and negative polarity EM pulses corresponding to a telemetry signal; and an electronics subassembly communicative with the EM signal transmitter and comprising a processor and a memory having encoded thereon program code executable by the processor to perform a method comprising encoding measurement data into an EM telemetry signal using a modulation scheme comprising mapping a symbol set to at least one positive polarity EM pulse and one negative polarity EM pulse; and sending a control signal to the EM signal transmitter to generate EM pulses corresponding to the EM telemetry signal. The EM signal transmitter can comprise an H-bridge circuit electrically coupled to positive and negative ends of a gap sub such that applying a voltage across a positive pathway of the H-bridge circuit generates the positive polarity EM pulse, and applying a voltage across a negative pathway of the H-bridge circuit generates the negative polarity EM pulse.</p></abstract><abstract mxw-id="PA139081385" ref-ucid="WO-2014127482-A1" lang="FR" load-source="patent-office"><p num="0000">La présente invention porte sur un appareil destiné à émettre des données de télémétrie électromagnétique (EM) depuis un emplacement de fond de trou vers une surface comprenant : un émetteur de signal EM configuré pour générer des impulsions EM de polarité positive et négative correspondant à un signal de télémétrie ; et un sous-ensemble d'électroniques en communication avec l'émetteur de signal EM et comprenant un processeur et une mémoire ayant codé sur celle-ci un code de programme apte à être exécuté par le processeur pour réaliser un procédé comprenant le codage de données de mesure en un signal de télémétrie EM à l'aide d'un schéma de modulation comprenant le mappage d'un symbole réglé à au moins une impulsion EM de polarité positive et une impulsion EM de polarité négative ; et l'envoi d'un signal de commande à l'émetteur de signal EM pour générer des impulsions EM correspondant au signal de télémétrie EM. L'émetteur de signal EM peut comprendre un circuit de pont H électriquement couplé à des extrémités positive et négative d'un sous-intervalle de telle sorte que l'application d'une tension de part et d'autre d'un chemin positif du circuit de pont H génère l'impulsion EM de polarité positive, et l'application d'une tension de part et d'autre d'un chemin négatif du circuit de pont H génère l'impulsion EM de polarité négative.</p></abstract><abstract mxw-id="PA139547712" ref-ucid="WO-2014127482-A1" lang="FR" source="national office" load-source="docdb"><p>La présente invention porte sur un appareil destiné à émettre des données de télémétrie électromagnétique (EM) depuis un emplacement de fond de trou vers une surface comprenant : un émetteur de signal EM configuré pour générer des impulsions EM de polarité positive et négative correspondant à un signal de télémétrie ; et un sous-ensemble d'électroniques en communication avec l'émetteur de signal EM et comprenant un processeur et une mémoire ayant codé sur celle-ci un code de programme apte à être exécuté par le processeur pour réaliser un procédé comprenant le codage de données de mesure en un signal de télémétrie EM à l'aide d'un schéma de modulation comprenant le mappage d'un symbole réglé à au moins une impulsion EM de polarité positive et une impulsion EM de polarité négative ; et l'envoi d'un signal de commande à l'émetteur de signal EM pour générer des impulsions EM correspondant au signal de télémétrie EM. L'émetteur de signal EM peut comprendre un circuit de pont H électriquement couplé à des extrémités positive et négative d'un sous-intervalle de telle sorte que l'application d'une tension de part et d'autre d'un chemin positif du circuit de pont H génère l'impulsion EM de polarité positive, et l'application d'une tension de part et d'autre d'un chemin négatif du circuit de pont H génère l'impulsion EM de polarité négative.</p></abstract><description mxw-id="PDES78478600" ref-ucid="WO-2014127482-A1" lang="EN" load-source="patent-office"><!-- EPO <DP n="2"/>--><p id="p0001" num="0001"> Electromagnetic Pulse Downhole Telemetry </p><p id="p0002" num="0002">Field </p><p id="p0003" num="0003">This invention relates generally to electromagnetic ("EM") downhole telemetry, and particularly to EM telemetry using EM pulses. Background </p><p id="p0004" num="0004">The recovery of hydrocarbons from subterranean zones relies on the process of drilling wellbores. The process includes drilling equipment situated at surface, and a drill string extending from the surface equipment to a below-surface formation or subterranean zone of interest. The terminal end of the drill string includes a drill bit for drilling (or extending) the wellbore. The process also involves a drilling fluid system, which in most cases uses a drilling "mud" that is pumped through the inside of piping of the drill string to cool and lubricate the drill bit. The mud exits the drill string via the drill bit and returns to surface carrying rock cuttings produced by the drilling operation. The mud also helps control bottom hole pressure and prevent hydrocarbon influx from the formation into the wellbore, which can potentially cause a blow out at surface. </p><p id="p0005" num="0005">Directional drilling is the process of steering a well from vertical to intersect a target endpoint or follow a prescribed path. At the terminal end of the drill string is a bottom- hole-assembly ("BHA") which comprises 1 ) the drill bit; 2) a steerable downhole mud motor of a rotary steerable system; 3) sensors of survey equipment used in logging- while-drilling ("LWD") and/or measurement-while-drilling ("MWD") to evaluate downhole conditions as drilling progresses; 4) means for telemetering data to surface; and 5) other control processes such as stabilizers or heavy weight drill collars. The BHA is conveyed into the wellbore by a string of metallic tubulars (i.e. drill pipe). MWD equipment is used to provide downhole sensor and status information to surface while drilling in a near real-time mode. This information is used by a rig crew to make decisions about controlling and steering the well to optimize the drilling speed and trajectory based on numerous factors, including lease boundaries, existing wells, formation properties, and hydrocarbon size and location. The rig crew can make 
<!-- EPO <DP n="3"/>-->
 intentional deviations from the planned wellbore path as necessary based on the information gathered from the downhole sensors during the drilling process. The ability to obtain real-time MWD data allows for a relatively more economical and more efficient drilling operation. Some known MWD tools contain a sensor package to survey the wellbore and send data back to surface using a telemetry method known as electromagnetic (EM) telemetry. EM telemetry involves using an EM telemetry tool to generate EM waves carrying encoded data and transmit these waves from the wellbore through the surrounding formations, and using surface receiving equipment to detect and decode the waves at surface. The BHA metallic tubular is typically used as the dipole antennae for the EM telemetry tool by dividing the drill string into two conductive sections by an insulating joint or connector ("gap sub") typically placed within the BHA, with the bottom portion of the BHA and the drill pipe each forming an antennae for the dipole antennae. In EM telemetry systems, a very low frequency alternating current is driven across the gap sub. The sub is electrically isolated ("nonconductive") at the insulating joint, effectively creating an insulating break ("gap") between the portion of the drill string below the gap and the portion above the gap, which extends all the way up to the surface. The lower part below the gap typically is set as a ground but the polarity of the members can be switched. The low frequency AC voltage and magnetic reception is controlled in a timed/coded sequence to energize the earth and create a measureable voltage differential between the surface ground and the top of the drill string. The EM signal which originated across the gap is detected at surface and measured as a difference in the electric potential from the drill rig to various surface grounding rods located about the drill site. Typically, a sinusoid waveform is used as a carrier signal for the telemetry data. The MWD tool comprises a downhole modulator which can use one of a number of encoding or modulation schemes to encode the telemetry data onto a carrier waveform. The three key parameters of a periodic waveform are its amplitude ("volume"), its phase ("timing") and its frequency ("pitch"). Any of these properties can be modified in accordance with a low frequency signal to obtain a modulated signal. Frequency-shift 
<!-- EPO <DP n="4"/>-->
 keying ("FSK") is a frequency modulation scheme in which digital information is transmitted through discrete frequency changes of a carrier wave. The simplest FSK is binary FSK ("BFSK"). BFSK uses a pair of discrete frequencies to transmit binary information. Amplitude shift keying ("ASK") conveys data by changing the amplitude of the carrier wave; phase-shift keying ("PSK") conveys data by changing, or modulating, the phase of a reference signal (the carrier wave). It is known to combine different modulation techniques to encode telemetry data. </p><p id="p0006" num="0006">The choice of modulation scheme uses a finite number of distinct signals to represent digital data. PSK uses a finite number of phases, wherein each phase is assigned a unique pattern of binary digits, or "symbols", and wherein the symbols together form a defined symbol set. Usually, each phase encodes an equal number of bits. Each pattern of bits forms the symbol that is represented by the particular phase. A surface demodulator contains the same symbol set used by the downhole modulator, and determines the phase of the received signal and maps it back to the symbol it </p><p id="p0007" num="0007">represents, thus recovering the original data. </p><p id="p0008" num="0008">EM transmissions can be strongly attenuated over long distances through the earth formations, with higher frequency signals attenuating faster than low frequency signals; thus, EM telemetry tends to require a relatively large amount of power and/or utilize relatively low frequencies so that the signals can be detected at surface. These limitations create challenges with battery life and low data rate transmission in the downhole MWD tool. </p><p id="p0009" num="0009">Summary </p><p id="p0010" num="0010">According to one aspect of the invention, there is provided a method for transmitting EM telemetry data from a downhole location to surface, comprising: encoding measurement data into an EM telemetry signal using a modulation scheme comprising mapping a symbol set to at least one positive polarity EM pulse and one negative polarity EM pulse; and generating positive and negative polarity EM pulses corresponding to the EM telemetry signal. The method can further comprise selecting a pulse frequency range in which case the step of generating positive and negative polarity EM pulses comprises 
<!-- EPO <DP n="5"/>-->
 generating EM pulses having a pulse width corresponding to the selected pulse frequency range. The measurement data can be of a formation through which the EM pulse will travel, in which case the step of selecting the pulse frequency range comprises determining an attenuation of the formation from the measurement data and selecting a frequency range suitable for the determined attenuation. </p><p id="p0011" num="0011">The positive and negative polarity EM pulses can be generated by applying a voltage across a positive pathway of an H-bridge circuit electrically coupled to positive and negative ends of a gap sub to generate the positive polarity EM pulse, and applying a voltage across a negative pathway of the H-bridge circuit to generate the negative polarity EM pulse. </p><p id="p0012" num="0012">The modulation scheme can include timing shift keying ("TSK") comprising mapping each symbol in the symbol set to a pulse state having a selected polarity and a selected timing position. Alternatively, the modulation scheme can include amplitude shift keying ("ASK") comprising mapping each symbol in the symbol set to a pulse state having a selected amplitude and a selected polarity. When using an ASK modulation scheme, the step of generating positive and negative polarity EM pulses comprises applying a voltage across a positive pathway of an H-bridge circuit electrically coupled to positive and negative ends of a gap sub to generate the positive polarity EM pulse, applying a voltage across a negative pathway of the H-bridge circuit to generate the negative polarity EM pulse, and varying the voltage applied to the H-bridge circuit to vary the amplitude for the ASK modulation scheme. </p><p id="p0013" num="0013">Alternatively, the modulation scheme can include amplitude and timing shift keying ("ATSK") comprising mapping each symbol in the symbol set to a pulse state having a selected amplitude, a selected polarity, and a selected timing position. When using an ATSK modulation scheme, the step of generating positive and negative polarity EM pulses comprises applying a voltage across a positive pathway of an H-bridge circuit electrically coupled to positive and negative ends of a gap sub to generate the positive polarity EM pulse, applying a voltage across a negative pathway of the H-bridge circuit to generate the negative polarity EM pulse, varying the voltage applied to the H-bridge circuit to vary the amplitude for the ATSK modulation scheme, and varying the timing of 
<!-- EPO <DP n="6"/>-->
 applying the voltage to the H-bridge circuit to vary the timing position for the ATSK modulation scheme. </p><p id="p0014" num="0014">According to another aspect of the invention, there is provided an apparatus for transmitting EM telemetry data from a downhole location to surface, comprising: an EM signal transmitter configured to generate positive and negative polarity EM pulses corresponding to a telemetry signal; and an electronics subassembly communicative with the EM signal transmitter and comprising a processor and a memory having encoded thereon program code executable by the processor to perform a method comprising encoding measurement data into an EM telemetry signal using a modulation scheme comprising mapping a symbol set to at least one positive polarity EM pulse and one negative polarity EM pulse; and sending a control signal to the EM signal transmitter to generate EM pulses corresponding to the EM telemetry signal. </p><p id="p0015" num="0015">The apparatus can further comprise a gap sub. The EM signal transmitter can further comprise an H-bridge circuit electrically coupled to positive and negative ends of the gap sub such that applying a voltage across a positive pathway of the H-bridge circuit generates the positive polarity EM pulse, and applying a voltage across a negative pathway of the H-bridge circuit generates the negative polarity EM pulse. </p><p id="p0016" num="0016">The EM signal transmitter can further comprise a voltage regulator electrically coupled to the H-bridge circuit, a power source coupled to the voltage regulator, and a signal transmitter communicative with the voltage regulator, the H-bridge circuit, and the electronics subassembly. The signal transmitter is configured to receive the control signal from the processor and to send a polarity control signal to the H-bridge circuit and a voltage output and timing control signal to the voltage regulator. The voltage regulator can be a variable output voltage regulator capable of outputting voltage levels corresponding to the selected amplitudes in the ASK modulation scheme. </p><p id="p0017" num="0017">According to another aspect of the invention, there is provided a method for transmitting electromagnetic (EM) telemetry data from a downhole location to surface, comprising: encoding measurement data into an EM telemetry signal using a modulation scheme comprising mapping a symbol set to EM pulses of different amplitudes; and generating 
<!-- EPO <DP n="7"/>-->
 EM pulses corresponding to the EM telemetry signal. The modulation scheme can include ASK comprising mapping each symbol in the symbol set to a pulse state having a selected amplitude. </p><p id="p0018" num="0018">The step of encoding measurement data into an EM telemetry signal can comprise mapping a symbol set to positive or negative polarity EM pulses, in which case the step of generating EM pulses comprises generating positive polarity or negative polarity pulses corresponding to the EM telemetry signal. More particularly, the step of generating positive polarity EM pulses can comprise applying a voltage across a positive pathway of an H-bridge circuit electrically coupled to positive and negative ends of a gap sub to generate the positive polarity EM pulse, and the step of generating negative polarity pulses can comprise applying a voltage across a negative pathway of the H-bridge circuit to generate the negative polarity EM pulse. The different amplitudes of the EM pulses are obtained by varying the voltage applied to the H-bridge circuit. </p><p id="p0019" num="0019">The modulation scheme can include ATSK comprising mapping each symbol in the symbol set to a pulse state having a selected amplitude, a selected polarity, and a selected timing position. When using ATSK modulation, the step of generating positive polarity EM pulses can comprise applying a voltage across a positive pathway of an H- bridge circuit electrically coupled to positive and negative ends of a gap sub to generate the positive polarity EM pulse, and the step of generating negative polarity EM pulses can comprise applying a voltage across a negative pathway of the H-bridge circuit to generate the negative polarity EM pulse, and the different amplitudes of EM pulses can be obtained by varying the voltage applied to the H-bridge circuit to vary the amplitude for the ATSK modulation scheme, and the different timing positions can be obtained by varying the timing of applying the voltage to the H-bridge circuit. According to another aspect of the invention, there is provided an apparatus for transmitting EM telemetry data from a downhole location to surface, comprising: an EM signal transmitter configured to generate EM pulses of different amplitudes corresponding to a telemetry signal; and an electronics subassembly communicative with the EM signal transmitter and comprising a processor and a memory having encoded thereon program code executable by the processor to perform a method 
<!-- EPO <DP n="8"/>-->
 comprising encoding measurement data into an EM telemetry signal using a modulation scheme comprising mapping a symbol set to EM pulses of different amplitudes, and sending a control signal to the EM signal transmitter to generate EM pulses corresponding to the EM telemetry signal. The apparatus can further comprise a gap sub, and the EM signal transmitter can further comprise an H-bridge circuit electrically coupled to positive and negative ends of the gap sub such that applying a voltage across a positive pathway of the H-bridge circuit generates a positive polarity EM pulse, and applying a voltage across a negative pathway of the H-bridge circuit generates a negative polarity EM pulse. The EM signal transmitter can further comprise a variable output voltage regulator electrically coupled to the H-bridge circuit, a power source coupled to the voltage regulator, and a signal transmitter communicative with the voltage regulator, the H-bridge circuit, and the electronics subassembly. The signal transmitter is configured to receive the control signal from the processor and to send a polarity control signal to the H-bridge circuit and a voltage output and timing control signal to the voltage regulator. </p><p id="p0020" num="0020">The modulation scheme can include TSK comprising mapping each symbol in the symbol set to a pulse state having a selected polarity and a selected timing position. Alternatively, the modulation scheme can include ASK comprising mapping each symbol in the symbol set to a pulse state having a selected amplitude and a selected polarity. Alternatively, the modulation scheme can include ATSK comprising mapping each symbol in the symbol set to a pulse state having a selected amplitude, a selected polarity, and a selected timing position. </p><p id="p0021" num="0021">According to another aspect of the invention there is provided an EM telemetry method comprising encoding downhole data into a single data stream; separating the single data stream into a plurality of separate data streams; converting one data stream into an EM pulse signal using a selected digital modulation technique and another data stream into an EM carrier wave signal using another selected digital modulation technique, wherein the frequency range of the EM pulses and the EM carrier waves are assigned a unique non-overlapping range of values; combining the EM pulse and carrier 
<!-- EPO <DP n="9"/>-->
 wave signals into a combined waveform; and transmitting from a downhole location, an EM telemetry transmission comprising the combined waveform. </p><p id="p0022" num="0022">According to yet another aspect of the invention there is provided an EM telemetry system comprising a downhole telemetry tool comprising: a gap sub assembly; an EM signal transmitter for generating an EM telemetry transmission across an electrically isolated gap of the gap sub assembly; an electronics subassembly communicative with the signal transmitter and comprising a downhole processor and a memory containing an encoder program code executable by the downhole processor to perform a method comprising: encoding downhole data into a single data stream; separating the single data stream into a plurality of separate data streams; converting one data stream into an EM pulse signal using a selected digital modulation technique and another data stream into an EM carrier wave signal using another selected digital modulation technique, wherein the frequency range the EM pulses and the EM carrier waves are assigned a unique non-overlapping range of values; combining the EM pulse and carrier wave signals into a combined waveform; and sending a control signal to the signal transmitter to transmit an EM telemetry transmission comprising the combined waveform. </p><p id="p0023" num="0023">Brief Description of Drawings Figure 1 is a schematic side view of a bipolar pulse EM telemetry system in operation, according to embodiments of the invention. </p><p id="p0024" num="0024">Figure 2 is a schematic block diagram of components of a downhole EM telemetry tool of the EM telemetry system according to one embodiment. </p><p id="p0025" num="0025">Figure 3 is a schematic block diagram of components of an electronics subassembly of the downhole EM telemetry tool. </p><p id="p0026" num="0026">Figure 4 is a schematic of an EM signal transmitter of the EM telemetry tool. </p><p id="p0027" num="0027">Figure 5 is a flow chart of steps performed by the downhole EM telemetry tool in a method for transmitting a pulse EM telemetry signal. 
<!-- EPO <DP n="10"/>-->
 Figure 6 is a schematic block diagram of surface components of the EM telemetry system according to one embodiment. </p><p id="p0028" num="0028">Figure 7 is a schematic plot (amplitude vs. time) of a bipolar 8TSK pulse encoding scheme in accordance with one embodiment. Figure 8 is a schematic plot of a symbol set to available pulse states for the 8TSK pulse encoding scheme as shown in Figure 7. </p><p id="p0029" num="0029">Figure 9 is a schematic plot (amplitude vs. time) of a bipolar 16TSK pulse encoding scheme in accordance with another embodiment. </p><p id="p0030" num="0030">Figure 10 is a schematic plot of a symbol set to available pulse states for the 16TSK pulse encoding scheme as shown in Figure 9. </p><p id="p0031" num="0031">Figure 1 1 is a schematic plot (amplitude vs. time) of a bipolar 64ATSK pulse encoding scheme in accordance with another embodiment. </p><p id="p0032" num="0032">Figure 12 is a schematic plot of a symbol set to available pulse states for the 64ATSK pulse encoding scheme as shown in Figure 1 1 . Figure 13 is a schematic plot of three EM telemetry pulses produced by the 64ATSK pulse encoding scheme. </p><p id="p0033" num="0033">Figure 14 is a flow chart of steps performed by the downhole EM telemetry tool of a multi-channel EM system in a method for transmitting a multi-channel EM telemetry signal that is a combination of an EM pulse signal and an EM telemetry carrier wave signal each representing a separate telemetry channel, according to an alternative embodiment. </p><p id="p0034" num="0034">Figure 15 is a schematic block diagram of surface equipment of the multi-channel EM telemetry system according to one embodiment. </p><p id="p0035" num="0035">Figure 16 is a schematic block diagram of surface equipment of the multi-channel EM telemetry system according to another embodiment. 
<!-- EPO <DP n="11"/>-->
 Figure 17 is a flowchart of steps performed by the surface equipment of the multichannel EM telemetry system to receive and decode the multi-channel EM telemetry signal transmitted by the downhole EM telemetry tool. </p><p id="p0036" num="0036">Figure 18 is a graph of the EM carrier wave signal containing a QPSK encoded telemetry signal. </p><p id="p0037" num="0037">Figure 19 is a graph of the EM pulse signal containing an 8ATSK telemetry signal. </p><p id="p0038" num="0038">Figure 20 is a graph of a combined EM telemetry signal that is a combination of the EM carrier wave signal shown in Figure 18 and the EM pulse signal shown in Figure 19, as transmitted by the downhole telemetry tool. Figure 21 is a graph of the combined EM telemetry signal of Figure 20 as received by the surface equipment. </p><p id="p0039" num="0039">Figure 22 is the QPSK encoded telemetry signal separated from the received EM telemetry signal shown in Figure 21 by a decoder of the surface equipment. </p><p id="p0040" num="0040">Figure 23 is the 8ATSK encoded telemetry signal separated from the received EM telemetry signal shown in Figure 21 by the decoder. </p><p id="p0041" num="0041">Detailed Description </p><p id="p0042" num="0042">Embodiments of the present invention described herein relate to an apparatus and a method for transmitting electromagnetic (EM) telemetry data from a downhole location to surface, comprising: encoding measurement data into an EM telemetry signal using a modulation scheme comprising mapping a symbol set to at least one positive polarity EM pulse and one negative polarity EM pulse; and generating positive and negative polarity EM pulses corresponding to the EM telemetry signal. Alternatively, the method comprises encoding measurement data into an EM telemetry signal using an amplitude modulation scheme comprising mapping a symbol set to EM pulses of different amplitudes, wherein the EM pulses can be positive or negative. In yet another alternative, the method comprises converting one data stream into an EM pulse signal using a selected digital modulation technique and another data stream into an EM 
<!-- EPO <DP n="12"/>-->
 carrier wave signal using another selected digital modulation technique, wherein the frequency range of the EM pulses and the EM carrier waves are assigned a unique non- overlapping range of values; combining the EM pulse and carrier wave signals into a combined waveform; and transmitting the combined waveform. Referring to Figure 1 , there is shown a schematic representation of an EM telemetry system in which embodiments of the present invention can be employed. Downhole drilling equipment including a derrick 1 with a rig floor 2 and draw works 3 facilitates rotation of drill pipe 6 into the ground 5. The drill pipe 6 is enclosed in casing 8 which is fixed in position by casing cement 9. Bore drilling fluid 10 is pumped down the drill pipe 6 and through an electrically isolating gap sub assembly 12 to drill bit 7. Annular drilling fluid 1 1 is then pumped back to the surface and passes through a blow out preventer ("BOP") 4 positioned above the ground surface. The gap sub assembly 12 may be positioned at the top of the BHA, with the BHA and the drill pipe 6 each forming antennae for the dipole antennae. The gap sub assembly 12 is electrically isolated ("nonconductive") at its center joint effectively creating an insulating break, known as a gap, between the bottom of the drill string with the BHA and the larger top portion of the drill string that includes the rest of the drill pipe 6 up to the surface. A very low </p><p id="p0043" num="0043">frequency alternating electrical current 14 is generated by an EM signal transmitter 13 and driven across the gap sub assembly 12 to generate discrete pulses which carry encoded telemetry data ("EM telemetry transmission"). The low frequency AC voltage and magnetic reception is controlled in a timed/coded sequence to energize the earth and create an electrical field 15. Communication cables 17 transmit the measurable voltage differential from the top of the drill string and various surface grounding rods 16 located about the drill site to surface receiving and processing equipment 18 which receives and processes the EM telemetry transmission. The grounding rods 16 are generally randomly located on site with some attention to site operations and safety. The EM telemetry transmission is decoded and a receiver box communication cable 19 transmits the data received to a computer display 20 after decoding, thereby providing measurement while drilling information to the rig operator. 
<!-- EPO <DP n="13"/>-->
 Referring now to Figure 2, an EM telemetry system 30 according to one embodiment of the invention comprises a downhole EM telemetry tool 32 and the surface receiving and processing equipment 18. The EM telemetry tool 32 generally comprises the gap sub assembly 12, the EM signal transmitter 13, and an electronics subassembly 36. The electronics subassembly 36 houses sensors for taking downhole measurements as well as a processor and memory which contains program code executable by the processor to encode the sensor measurements into telemetry data and send control signals to the EM signal transmitter 13 to transmit EM pulses to surface. The surface receiving and processing equipment 18 can comprise equipment to receive the pulses, filter and process the pulses, and decode the pulses into the telemetry data. </p><p id="p0044" num="0044">The gap sub assembly 12 comprises an electrically conductive female member 37 comprising a female mating section and an electrically conductive male member 40 comprising a male mating section. The male mating section is matingly received within a female mating section of the female member 37 and electrically isolated therefrom by an electrical isolator 46. The electrical isolator 46 comprises electrical insulating material that is positioned in between the male and female mating sections. The electrical isolator 46 thereby electrically isolates the male member 40 from the female member 37 and the male member 40, female member 37 and electrical isolator 46 together function as the gap sub assembly 12 for EM telemetry. Referring to Figure 3, the electronics subassembly 36 includes sensors for taking various downhole measurements, and encoding and processing equipment for encoding the measurements and other information (collectively "telemetry data") into a telemetry signal for transmission by the EM signal transmitter 13. More particularly, the electronics subassembly 36 comprises a tubular housing (not shown) and the following components housed inside the housing: a directional and inclination (D&amp;l) sensor module 50; drilling conditions sensor module 52; a main circuit board 54 containing a master processing unit (MPU or otherwise referred to as the "downhole processor") 56 and an integrated (shown) or separate (not shown) data encoder, a memory 58 having stored thereon program code executable by the downhole processor 56, one or more power amplifiers (not shown); and a battery stack 60. The downhole processor 56 can be any suitable processor known in the art for EM tools, and can be for example, a 
<!-- EPO <DP n="14"/>-->
 dsPIC33 series MPU. The power amplifiers can be, for example, a power MOSFET H- bridge design configured to transmit data. </p><p id="p0045" num="0045">The D&amp;l sensor module 50 comprises three axis accelerometers, three axis </p><p id="p0046" num="0046">magnetometers and associated data acquisition and processing circuitry. Such D&amp;l sensor modules are well known in the art and thus are not described in detail here. </p><p id="p0047" num="0047">The electronics subassembly 36 includes sensors and circuitry for taking various measurements of borehole parameters and conditions including gamma, temperature, pressure, shock, vibration, RPM, and directional parameters. Such sensors and circuitry are also well known in the art and thus are not described in detail here. The main circuit board 54 can be a printed circuit board with electronic components soldered on the surface of the board 54. The main circuit board 54 and the sensor modules 50, 52 are secured on a carrier device (not shown) which is fixed inside the electronics subassembly housing by end cap structures (not shown). The sensor modules 50, 52 are each electrically communicative with the main circuit board 54 and send measurement data to the downhole processor 56. As will be described below, the memory 58 of the electronics subassembly contains encoder program code that is executed by the downhole processor 56 to perform a method of encoding measurement data into an EM telemetry signal that can be transmitted by the EM signal transmitter 13 using EM pulses to represent bits of data. Different bits of data can be represented as EM pulses of different amplitudes and/or timing. The encoder program code utilizes a modulation technique that uses principles of known digital modulation techniques. In this embodiment, the encoder program code utilizes a modulation technique known as amplitude shift keying ("ASK"), timing shift keying ("TSK") or amplitude timing shift keying ("ATSK") that is a combination of amplitude shift keying and timing shift keying to encode the telemetry data into a telemetry signal comprising EM pulses. ASK involves assigning each symbol of a defined symbol set to a unique pulse amplitude. TSK involves assigning each symbol of a defined symbol set to a unique timing position in a time period. The amplitude and time position values are determined at the peak of each pulse. 
<!-- EPO <DP n="15"/>-->
 More particularly, the encoder program code can utilize any one of a 3 bit, 8 state version of TSK known as 8TSK as shown in Figure 7, a 4 bit, 16 state version of TSK known as 16TSK as shown in Figure 9, or a 6 bit, 64 state version of ATSK known as 64ATSK as shown in Figure 1 1 to encode the telemetry data into the EM pulse telemetry signal. Alternatively, other modulation techniques not shown in the Figures can be used, such as 32TSK, 8ATSK, 16ATSK, and 32ATSK. It is expected that modulation techniques with even larger symbol sets up to 1024 states can be used when utilizing bipolar pulses having variable amplitudes and timing positions. </p><p id="p0048" num="0048">Alternatively, another modulation technique can be used that includes amplitude shift keying only. The signal transmitter 13 as described herein can for example be used with an ASK modulation technique having a pulse with four states, namely a first state corresponding to a low positive amplitude pulse, a second state corresponding to a high positive amplitude pulse, a third state corresponding to a low negative amplitude pulse, and a fourth state corresponding to a high negative amplitude pulse; this enables modulation using a symbol set consisting of four symbols. An EM signal transmitter that is capable of additional pulse amplitudes can be used with ASK modulation having a higher number of states, and a corresponding larger symbol set. </p><p id="p0049" num="0049">Referring now to Figure 4, the EM signal transmitter 13 is configured to generate bipolar EM pulses to carry the telemetry signal encoded by the modulation techniques discussed above. Bipolar EM pulses mean pulses that have either positive or negative amplitude. The EM signal transmitter 13 comprises an H-bridge circuit 70 which is used to switch the polarity of the EM pulse, a voltage regulator 72, a battery 74, and a signal generator 76. As is well known in the art, an H-bridge circuit enables a voltage to be applied across a load in either direction, and comprises four switches of which one pair of switches can be closed to allow a voltage to be applied in one direction ("positive pathway"), and of which another pair of switches can be closed to allow a voltage to be applied in a reverse direction ("negative pathway"). In the H-bridge circuit 70 of the signal transmitter 13, switches S1 , S2, S3, S4 are arranged so that the part of the circuit with switches S1 and S4 is electrically coupled to one side of the gap sub 12 ("positive side"), and the part of the circuit with switches S2 and S3 is electrically coupled to the other side of the gap sub 12 ("negative side"). Switches S1 and S3 can be closed to 
<!-- EPO <DP n="16"/>-->
 allow a voltage to be applied across the positive pathway of the gap sub 12 to generate a positive polarity pulse, and switches S2 and S4 can be closed to allow a voltage to be applied across the negative pathway of the gap sub 12 to generate a negative polarity pulse. One end of the H-bridge circuit 70 is grounded and the other end is electrically coupled to the voltage regulator 72. The voltage regulator 72 in turn is electrically coupled to the battery 74 as well as to the signal generator 76. The voltage regulator 72 serves to automatically output a constant voltage level ("rated output") in a manner that is well known in the art. The voltage regulator 72 can output a single fixed voltage at its rated output when the modulation technique does not need to vary the amplitude of the pulse signal (e.g. TSK). Alternatively, a variable output voltage regulator having multiple discrete rated outputs or a continuously variable output can be provided to output voltages of different amplitudes when the modulation technique relies entirely or in part on amplitude modulation (e.g. ASK or ATSK), or to enable the telemetry tool 32 to adjust the strength of the EM transmission to surface. </p><p id="p0050" num="0050">The signal generator 76 is communicative with the downhole processor 56 and the H- bridge circuit 70, and serves to receive the encoded telemetry signal from the downhole processor 56, and determine the appropriate control signals to send to the voltage regulator 72 and the H-bridge circuit 70. In particular, the signal generator 76 will send voltage output and timing control signals to the voltage regulator 72 to output a voltage at a certain voltage level and timing (or at the fixed voltage level if there is no amplitude shift keying), and send polarity control signals to the H-bridge circuit 70 to close the appropriate switches to create a positive polarity EM pulse or a negative polarity EM pulse. When the modulation technique involves timing shift keying, the signal generator 76 is configured to send the control signals at a specific timing position pattern in accordance with the timing shift keying modulation scheme. </p><p id="p0051" num="0051">The signal generator 76 is capable of generating a pulse of different widths </p><p id="p0052" num="0052">(frequencies). For example, the signal generator can generate a wide pulse using a very low frequency, e.g. below 2 Hz, and in particular, between 0.5 and 0.25 Hz. 
<!-- EPO <DP n="17"/>-->
 Transmitting at such low frequencies can be useful to take advantage of a natural bias towards lower frequencies when communicating electromagnetically through the earth. </p><p id="p0053" num="0053">The operation of the downhole processor 56 and EM signal transmitter 13 to generate EM pulses containing telemetry data is shown schematically in Figure 5. The downhole processor 56 executes the program code stored on the memory 58 which instructs the downhole processor 56 to read raw measurement data from the sensor modules 50, 52 and encodes this raw data into a digital bitstream (step 78). The downhole processor 56 is then instructed to apply a selected modulation technique to encode the bitstream into a telemetry signal comprising a series of pulses (step 80). The signal generator 76 receives this telemetry signal and generates control signals for the voltage regulator 72 and H-bridge circuit 70 (step 82) to generate an EM pulse having the appropriate voltage level, timing, and polarity as dictated by the modulation technique (step 84). </p><p id="p0054" num="0054">The processor 56 can also be programmed to receive from a downlink transmission an expected attenuation of an EM transmission from the telemetry tool 32 to surface through the formation. The downhole processor 56 can then select an appropriate frequency for transmitting the EM pulses, and send instructions to the signal transmitter 13 to generate EM pulses at the selected frequency. The downhole processor 56 can also determine the effective impedance and select an appropriate voltage output that ensures that the pulses are detectable at surface (using a voltage regulator with variable output) while the energy usage is minimized. </p><p id="p0055" num="0055">Referring to Figures 7 and 8 and according to a first embodiment, the selected modulation technique is 8TSK in which case the memory 58 contains encoder program code executable by the downhole processor 56 to encode measurement data into a 3 bit, 8 state telemetry signal. The 8TSK modulation technique of this embodiment uses an 8 state symbol set wherein each symbol (bit) 000 to 1 11 corresponds to an EM pulse having a unique one of eight distinct timing positions in a defined cycle and one of two polarities (negative or positive). Unlike conventional modulation techniques, the encoder program code will utilize the 8TSK modulation technique to assign four states (symbols) to four positive amplitude EM pulses of different timing positions and four negative amplitude EM pulses of different timing positions. Assuming one cycle has eight timing 
<!-- EPO <DP n="18"/>-->
 positions, and the position and amplitude of each pulse is determined at the peak of each pulse, symbols 000, 001 , 011 , and 010 are assigned positive amplitude timing pulses at timing positions of 1/8, 3/8, 5/8 and 7/8, and symbols 100, 101 , 1 1 1 , and 1 10 are assigned negative amplitude EM pulses at timing positions of 2/8, 4/8, 6/8 and 8/8. Thus, it can be seen that a telemetry signal can be transmitted by the signal transmitter 13 to surface comprising a 3 bit symbol per cycle (i.e. a symbol having one of the 8 possible states shown in Figure 8). </p><p id="p0056" num="0056">It can also be seen from Figure 8 that using a bipolar pulse pattern of positive and negative pulses produces significantly better separation between each pulse compared to a conventional all-positive pulse pattern having the same symbol set. Such separation can be useful when conditions create a particularly noisy environment, thereby making it more difficult to the surface receiving and processing equipment 18 to distinguish one EM pulse from another. </p><p id="p0057" num="0057">Conversely, such improved separation also allows the selected time period to be shortened thereby increasing the data rate, while still providing comparable if not better signal clarity compared to conventional TSK modulation using only positive EM pulses. In other words, for an 8 state symbol set, the bipolar EM signal transmitter 13 can provide a similar separation between pulses in half the time period compared to a positive only signal transmitter . As noted above, and in accordance with an alternative embodiment, the EM telemetry tool 32 is configured to transmit EM pulses of only positive polarities or only negative polarities, in which case different EM states are provided by varying the amplitude and/or timing of the EM pulses, and ASK or ATSK is used to encode measurement data into the telemetry signal, by mapping each symbol in the symbol set to an EM pulse with a unique amplitude and/or timing position. </p><p id="p0058" num="0058">Referring now to Figures 9 and 10 and according to a second embodiment, the memory 58 contains encoder program code executable by the downhole processor 56 to encode measurement data into a 4 bit, 16 state telemetry signal using a 16TSK modulation technique. This modulation technique provides an improved data rate over the 8TSK modulation technique of the first embodiment shown in Figure 7. In this second 
<!-- EPO <DP n="19"/>-->
 embodiment, the 16TSK modulation technique uses a 16 symbol set wherein each symbol 0000 to 1 1 1 1 corresponds to an EM pulse having a unique combination of a positive or negative pulse and one of eight available timing positions. That is, symbols 1000, 1001 , 101 1 , 1010, 1 110, 1 1 1 1 , 1 101 , and 1 100 are assigned positive EM pulses at timing positions 1/8, 2/8, 3/8, 4/8, 5/8, 6/8, 7/8 and 8/8 respectively, and symbols 0000, 0001 , 001 1 , 0010, 01 10, 01 11 , 0101 , and 0100 are assigned negative EM pulses at the same timing positions 1/8 to 8/8 respectively. </p><p id="p0059" num="0059">Referring now to Figure 11 and 12 and according to a third embodiment, the memory 58 contains encoder program code executable by downhole processor 56 to encode measurement data into a 6 bit, 64 state telemetry signal using a 16ATSK modulation technique. This modulation technique utilizes both amplitude shift keying using 8 distinct amplitude pulses (four positive, four negative) and timing shift keying using 8 distinct timing positions to create 64 unique states that map to a 64 symbol set comprising of symbols 000000 to 1 1 11 1 1 . Figure 13 shows an example of the EM pulses that would be generated by the signal transmitter 13 using the 16ATSK modulation technique. </p><p id="p0060" num="0060">Referring now to Figure 6, the surface receiving and processing equipment 34 receives and decodes the EM pulses to recover the telemetry data for use by the operator. As will be described in detail below, the surface receiving and processing equipment 34 will have stored thereon a demodulation technique corresponding to the selected modulation technique used by the EM telemetry tool 32 and the unique amplitude and/or timing position of each separate EM pulse used by the downhole EM telemetry tool 32 to encode the telemetry data, so that the EM pulses can be decoded. </p><p id="p0061" num="0061">More particularly, the surface receiving and processing equipment 34 comprises a surface receiver 85 and a decoder 86. The surface receiver 85 comprises a preamplifier 87 electrically coupled to the communication cables 17 to receive and amplify the EM telemetry transmission comprising the EM pulse signal, a band pass filter 88communicative with the preamplifier 87 configured to filter out unwanted noise in the transmission, and an analog to digital converter (ADC) 89 communicative with the band pass filter 88 to convert the analog pulse signal into a digital signal. Such preamplifiers, 
<!-- EPO <DP n="20"/>-->
 band pass filters, and AID converters are well known in the art and thus are not described in detail here. For example, the preamplifier 87 can be an INA1 18 model from Texas Instruments, the ADC 89 can be a ADS1282 model from Texas Instruments, and the band pass filter 88 can be an optical band pass filter or an RLC circuit configured to pass frequencies between 0.1 Hz to 20 Hz. </p><p id="p0062" num="0062">The decoder 86 in one embodiment is a general purpose computer comprising a central processing unit ("surface processor") and a memory having decoder program code executable by the surface processor to perform various decoding functions, including digital signal filtering, digital signal processing, and digital signal-to-telemetry data decoding. Instead of using the surface processor to perform all of the decoding functions, separate hardware components can be used to perform one or more of the decoding functions; for example, an application-specific integrated circuit (ASIC) or field-programmable gate arrays (FPGA) can be used to perform the digital signal processing in a manner as is known in the art. The decoder 86 receives the carrier wave that has been digitized, filtered and amplified by the surface receiver 85, and performs each of the following decoding functions in the following sequence (these decoding functions are stored as program code on the memory of the computer and are executable by the surface processor): </p><p id="p0063" num="0063">Digital Filtering (step 90): The program code comprises low pass filters that are used to separate the EM pulse signal from background noise and DC bias generated in the receiver circuit. </p><p id="p0064" num="0064">Digital Signal Processing (step 92): Each EM pulse is in a bitstream form and is then subjected to a series of digital processing treatments in a digital signal processor as is known in the art, such as automatic gain control (AGC) to normalize the signal amplitude, synchronization to find the phase and timing differences between incoming signals and local signals, and demodulation and decoding to recover binary bits. Such digital processing treatments are known in the art of digital signal processing and thus are not described in detail here. 
<!-- EPO <DP n="21"/>-->
 Demodulation (step 94): Then, each separate EM pulse is demodulated back into the corresponding measurement data bitstream using a demodulation technique that is configured to correspond specifically to the modulation technique used to encode the separate measurement data bitstreams into the EM pulses. Using the example shown in Figure 9, the demodulation technique will determine the timing position and polarity of each separate pulse, and map the pulse back to the symbol it represents, thus recovering the original data bitstream. Such demodulation techniques are well known in the art and thus are not described in detail here. </p><p id="p0065" num="0065">Displaying (step 96): After demodulation, the measurement data is recovered. This data can be transmitted to the computer display 20 for viewing or manipulated by the operator into a useful form for display. </p><p id="p0066" num="0066">According to another embodiment and referring to Figures 14 to 23, a multi-channel EM telemetry system is provided which comprises a downhole EM telemetry tool 32 containing encoder program code that is executable by the downhole processor 56 to perform a method of encoding and transmitting a multi-channel EM telemetry signal that combines the EM pulse signal described above with an EM carrier wave signal, wherein each signal represents a separate channel of telemetry data. This combined telemetry signal is transmitted to surface in a single EM transmission. The EM telemetry system also comprises surface receiving and processing equipment 134 configured to receive the combined waveform and decode the waveform into the separate channels of telemetry data. It is expected that a high overall efficiency of data transmission can be achieved by sending multiple channels of telemetry data in a single EM transmission comprising the EM pulse and carrier wave signals. </p><p id="p0067" num="0067">Referring to Figure 14, the downhole processor 56 reads raw measurement data from sensor modules 50, 52 and encodes this raw data into an encoded digital bitstream (step 170). Then the downhole processor 56 separates the encoded digital bitstream into two or more separate digital bitstreams, which in the embodiment shown in Figure 14 comprises a first bitstream and a second bitstream (step 172). Then, the downhole processor 56 converts each digital bitstream into the EM pulse signal ("first telemetry 
<!-- EPO <DP n="22"/>-->
 channel") and the EM carrier wave signal ("second telemetry channel"); this conversion involves using a selected digital modulation technique to modulate the signals, wherein the frequencies of each signal being modulated is assigned a unique non-overlapping range of values, i.e. a range of values that is different than the range of values of the corresponding parameter(s) of the other waveforms (step 174). Then the downhole processor 56 combines each separate waveform into a combined waveform (step 176), and then sends a control signal to the signal transmitter 13 to transmit an EM telemetry signal comprising the combined EM signal across the gap sub 12 (step 178). Unlike the first embodiment, the combined EM signal will not be in form of pulse, but will be a waveform incorporating both EM pulses and EM carrier waves. </p><p id="p0068" num="0068">The conversion of each digital bitstream into a separate waveform can use a selected digital modulation technique to modulate the waveforms wherein the frequency of the EM pulses and the EM carrier waves being modulated are assigned a unique non- overlapping range of values. Various digital modulation techniques known in the art can be used to encode each separate waveform, such as ASK, PSK, FSK, BPSK, QPSK or any combination of these or other individual modulation techniques as is known in the art. As the frequency range of the EM pulses and EM carrier waves are set at a unique value or non- overlapping range of values, the EM pulses and carrier waves encoded by one or more of these techniques can be superimposed to form one combined waveform for transmission to surface. As a result, one EM signal comprising the combined waveform can be transmitted to surface. </p><p id="p0069" num="0069">In one example and referring to Figures 18 to 20, the EM carrier waves can be modulated using QPSK at a frequency of 3 Hz to produce the EM carrier wave signal (shown in Figure 18), and the EM pulses can be modulated using 8ATSK at a one second impulse to produce the EM pulse signal (shown in Figure 19). Both signals have an amplitude normalized to 1 . These signals are then combined into the combined waveform as shown in Figure 20. </p><p id="p0070" num="0070">Referring now to Figure 15, the surface receiving and processing equipment 134 receives the combined waveform and decodes the combined waveform to recover each 
<!-- EPO <DP n="23"/>-->
 separate telemetry channel; the combined waveform sent by the EM telemetry tool 32 will have attenuated as the waveform travels through the Earth and Figure 21 shows the combined waveform as received by the surface receiving and processing equipment 134. The telemetry channels can then be converted back into the measurement data for use by the operator. As will be described in detail below, the surface receiving and processing equipment 134 will have stored thereon a demodulation technique corresponding to the selected modulation technique used by the EM telemetry tool 32 and the unique frequency range of each separate telemetry signal of the combined waveform used by the downhole EM telemetry tool 32 to encode the EM pulses and carrier waves, so that the combined waveform can be decoded to obtain the telemetry data. </p><p id="p0071" num="0071">The surface receiving and processing equipment 134 comprises a surface receiver 180 and a decoder 182. The surface receiver 180 comprises a preamplifier 184 electrically coupled to the communication cables 17 to receive and amplify the EM telemetry transmission comprising the combined waveform, a band pass filter 186 communicative with the preamplifier 184 configured to filter out unwanted noise in the transmission, and an analog to digital converter (ADC) 188 communicative with the band pass filter 186 to convert the analog combined waveform into a digital signal. Such preamplifiers, band pass filters, and A D converters are well known in the art and thus are not described in detail here. For example, the preamplifier 184 can be an INA1 18 model from Texas Instruments, the ADC 188 can be a ADS1282 model from Texas Instruments, and the band pass filter 186 can be an optical band pass filter or an RLC circuit configured to pass frequencies between 0.1 Hz to 20 Hz. </p><p id="p0072" num="0072">The decoder 182 in one embodiment is a general purpose computer comprising a central processing unit ("surface processor") and a memory having decoder program code executable by the surface processor to perform various decoding functions, including digital signal filtering and separation, digital signal processing, digital signal recombination, and digital signal-to-telemetry data decoding. Instead of using the surface processor to perform all of the decoding functions, separate hardware components can be used to perform one or more of the decoding functions; for 
<!-- EPO <DP n="24"/>-->
 example, an application-specific integrated circuit (ASIC) or field-programmable gate arrays (FPGA) can be used to perform the digital signal processing in a manner as is known in the art. </p><p id="p0073" num="0073">Referring to Figure 17, the decoder 182 receives the carrier wave that has been digitized, filtered and amplified by the surface receiver 180 (step 188), and performs each of the following decoding functions in the following sequence (these decoding functions are stored as program code on the memory of the computer and are executable by the surface processor): </p><p id="p0074" num="0074">Digital Filtering (step 190): When each of the EM pulses and carrier waves is encoded by a modulation technique at a unique frequency, the program code comprises a series of band pass filters that are used to separate different frequency bands from the combined waveform. More particularly, each band pass filter is configured to pass one of the unique frequencies corresponding to one of the EM pulses and carrier waves and severely attenuate all other frequencies, such that the EM pulses or carrier waves corresponding to this unique frequency can be separated from the combined waveform. </p><p id="p0075" num="0075">Digital Signal Processing (Step 192): Each separated stream of pulses or carrier waves is in a bitstream form and is then subjected to a series of digital processing treatments known in the art, such as automatic gain control (AGC) to normalize the signal amplitude, synchronization to find the phase and timing differences between incoming signals and local oscillation signals, and demodulation and decoding to recover binary bits. Such digital processing treatments are known in the art of digital signal processing and thus are not described in detail here. Then, each stream of EM pulses and carrier waves is demodulated back into the corresponding measurement data bitstream using a demodulation technique that is configured to correspond specifically to the modulation technique used to encode the separate measurement data bitstreams into the separate EM pulses and carrier waves. Using the example shown in Figures 18 to 20 but now referring to Figures 21 to 23, the demodulation technique will determine the frequency of each separate stream of EM pulses (Figure 23) and EM carrier waves (Figure 22), and map the pulses or carrier waves back to the symbols they represent, thus 
<!-- EPO <DP n="25"/>-->
 recovering the original data bitstream. Such demodulation techniques are well known in the art and thus are not described in detail here. </p><p id="p0076" num="0076">Digital Signal Recombination (Step 194): After demodulation, the separate raw measurement data streams are recombined back into the single raw measurement data stream that existed at step 170. Once the single raw measurement data bitstream has been recombined, the data can be decoded and viewed on the computer display 20 or manipulated by the operator into a useful form for display (step 196). </p><p id="p0077" num="0077">Instead of recombining all of the separate measurement data streams into the single measurement data stream, a subset of separate data streams can be combined for display to the operator, or each individual data stream can be processed and displayed for the operator. </p><p id="p0078" num="0078">According to an alternative embodiment and referring to Figure 16, the surface receiver 80 and decoder 82 have been modified such that all signal filtering is performed by a modified surface receiver 180 on the EM pulses and carrier waves, prior to digitization. More particularly, the surface receiver 180 employs narrow band hardware filters 198 of different frequency ranges to separate out each separate analog pulse or waveform from the analog combined waveform. Multiple ADCs are then used to convert an EM pulse stream and an EM carrier wave stream into digital signals. In contrast, the surface receiver 180 and decoder 182 according to Figure 15 perform analog signal filtering of the analog combined waveform, as well as digital signal filtering of the digitized combined waveform. Here, only one ADC is used to cover the combined waveform, and digital band-pass filtering is performed by software rather than by hardware. </p><p id="p0079" num="0079">While the present invention is illustrated by description of several embodiments and while the illustrative embodiments are described in detail, it is not the intention of the applicants to restrict or in any way limit the scope of the appended claims to such detail. Additional advantages and modifications within the scope of the appended claims will readily appear to those sufficed in the art. The invention in its broader aspects is therefore not limited to the specific details, representative apparatus and methods, and illustrative examples shown and described. Accordingly, departures may 
<!-- EPO <DP n="26"/>-->
 be made from such details without departing from the spirit or scope of the general concept. 
</p></description><claims mxw-id="PCLM70078890" ref-ucid="WO-2014127482-A1" lang="EN" load-source="patent-office"><claim-statement><!-- EPO <DP n="27"/>-->Claims What is claimed is: </claim-statement><claim id="clm-0001" num="1"><claim-text>1. A method for transmitting electromagnetic (EM) telemetry data from a downhole location to surface, comprising: </claim-text><claim-text>(a) encoding measurement data into an EM telemetry signal using a modulation scheme comprising mapping a symbol set to at least one positive polarity EM pulse and one negative polarity EM pulse; and </claim-text><claim-text>(b) generating positive and negative polarity EM pulses corresponding to the EM telemetry signal. </claim-text></claim><claim id="clm-0002" num="2"><claim-text>2. A method as claimed in claim 1 wherein the step of generating positive and negative polarity EM pulses comprises applying a voltage across a positive pathway of an H-bridge circuit electrically coupled to positive and negative ends of a gap sub to generate the positive polarity EM pulse, and applying a voltage across a negative pathway of the H-bridge circuit to generate the negative polarity EM pulse. </claim-text></claim><claim id="clm-0003" num="3"><claim-text>3. A method as claimed in claim 1 wherein the modulation scheme includes timing shift keying (TSK) comprising mapping each symbol in the symbol set to a pulse state having a selected polarity and a selected timing position. </claim-text></claim><claim id="clm-0004" num="4"><claim-text>4. A method as claimed in claim 1 wherein the modulation scheme includes amplitude shift keying (ASK) comprising mapping each symbol in the symbol set to a pulse state having a selected amplitude and a selected polarity. </claim-text></claim><claim id="clm-0005" num="5"><claim-text>5. A method as claimed in claim 4 wherein the step of generating positive and negative polarity EM pulses comprises applying a voltage across a positive pathway of an H-bridge circuit electrically coupled to positive and negative ends of a gap sub to generate the positive polarity EM pulse, applying a voltage across a negative pathway of the H-bridge circuit to generate the negative polarity EM pulse, and varying the 
<!-- EPO <DP n="28"/>-->
 voltage applied to the H-bridge circuit to vary the amplitude for the ASK modulation scheme. </claim-text></claim><claim id="clm-0006" num="6"><claim-text>6. A method as claimed in claim 1 wherein the modulation scheme includes amplitude and timing shift keying (ATSK) comprising mapping each symbol in the symbol set to a pulse state having a selected amplitude, a selected polarity, and a selected timing position. </claim-text></claim><claim id="clm-0007" num="7"><claim-text>7. A method as claimed in claim 6 wherein the step of generating positive and negative polarity EM pulses comprises applying a voltage across a positive pathway of an H-bridge circuit electrically coupled to positive and negative ends of a gap sub to generate the positive polarity EM pulse, applying a voltage across a negative pathway of the H-bridge circuit to generate the negative polarity EM pulse, varying the voltage applied to the H-bridge circuit to vary the amplitude for the ATSK modulation scheme, and varying the timing of applying the voltage to the H-bridge circuit to vary the timing position for the ATSK modulation scheme. </claim-text></claim><claim id="clm-0008" num="8"><claim-text>8. A method as claimed in claim 1 further comprising selecting a pulse frequency range and the step of generating positive and negative polarity EM pulses comprises generating EM pulses having a pulse width corresponding to the selected pulse frequency range. </claim-text></claim><claim id="clm-0009" num="9"><claim-text>9. A method as claimed in claim 6 wherein the measurement data is of a formation through which the EM pulse will travel, and the step of selecting the pulse frequency range comprises determining an attenuation of the formation from the measurement data and selecting a frequency range suitable for the determined attenuation. </claim-text></claim><claim id="clm-0010" num="10"><claim-text>10. An apparatus for transmitting EM telemetry data from a downhole location to surface, comprising: (a) an EM signal transmitter configured to generate positive and negative polarity EM pulses corresponding to a telemetry signal; and </claim-text><claim-text>(b) an electronics subassembly communicative with the EM signal transmitter and comprising a processor and a memory having encoded thereon program code 
<!-- EPO <DP n="29"/>-->
 executable by the processor to perform a method comprising encoding measurement data into an EM telemetry signal using a modulation scheme comprising mapping a symbol set to at least one positive polarity EM pulse and one negative polarity EM pulse; and sending a control signal to the EM signal transmitter to generate EM pulses corresponding to the EM telemetry signal. </claim-text></claim><claim id="clm-0011" num="11"><claim-text>11. An apparatus as claimed in claim 10 further comprising a gap sub, and wherein the EM signal transmitter comprises an H-bridge circuit electrically coupled to positive and negative ends of the gap sub such that applying a voltage across a positive pathway of the H-bridge circuit generates the positive polarity EM pulse, and applying a voltage across a negative pathway of the H-bridge circuit generates the negative polarity EM pulse. </claim-text></claim><claim id="clm-0012" num="12"><claim-text>12. An apparatus as claimed in claim 11 wherein the EM signal transmitter further comprises a voltage regulator electrically coupled to the H-bridge circuit, a power source coupled to the voltage regulator, and a signal generator communicative with the voltage regulator, the H-bridge circuit, and the electronics subassembly, the signal generator configured to receive the control signal from the processor and to send a polarity control signal to the H-bridge circuit and a voltage output and timing control signal to the voltage regulator. </claim-text></claim><claim id="clm-0013" num="13"><claim-text>13. An apparatus as claimed in claim 12 wherein the modulation scheme includes timing shift keying (TSK) comprising mapping each symbol in the symbol set to a pulse state having a selected polarity and a selected timing position. </claim-text></claim><claim id="clm-0014" num="14"><claim-text>14. An apparatus as claimed in claim 12 wherein the modulation scheme includes amplitude shift keying (ASK) comprising mapping each symbol in the symbol set to a pulse state having a selected amplitude and a selected polarity. </claim-text></claim><claim id="clm-0015" num="15"><claim-text>15. An apparatus as claimed in claimed in claim 14 wherein the voltage regulator is a variable output voltage regulator capable of outputting voltage levels corresponding to the selected amplitudes in the ASK modulation scheme. 
<!-- EPO <DP n="30"/>-->
</claim-text></claim><claim id="clm-0016" num="16"><claim-text>16. An apparatus as claimed in claim 10 wherein the modulation scheme includes amplitude and timing shift keying (ATSK) comprising mapping each symbol in the symbol set to a pulse state having a selected amplitude, a selected polarity, and a selected timing position. </claim-text></claim><claim id="clm-0017" num="17"><claim-text>17. An apparatus as claimed in claim 12 wherein the memory further comprises program code that when executed by the processor performs a step of selecting a pulse frequency and the control signal to the EM signal transmitter comprises instructions for generating EM pulses having a pulse width corresponding to the selected pulse frequency. </claim-text></claim><claim id="clm-0018" num="18"><claim-text>18. An apparatus as claimed in claim 17 wherein the electronics subassembly further comprises sensors for measuring a formation through which the EM pulse will travel, and wherein the step of selecting a pulse frequency comprises determining an attenuation of the formation from the measurement data and selecting a pulse frequency suitable for the determined attenuation. </claim-text></claim><claim id="clm-0019" num="19"><claim-text>19. A method for transmitting EM telemetry data from a downhole location to surface, comprising: </claim-text><claim-text>(a) encoding measurement data into an EM telemetry signal using a modulation scheme comprising mapping a symbol set to EM pulses of different amplitudes; and (b) generating EM pulses corresponding to the EM telemetry signal. </claim-text></claim><claim id="clm-0020" num="20"><claim-text>20. A method as claimed in claim 19 wherein the modulation scheme includes amplitude shift keying (ASK) comprising mapping each symbol in the symbol set to a pulse state having a selected amplitude. </claim-text></claim><claim id="clm-0021" num="21"><claim-text>21. A method as claimed in claim 19 wherein the step of encoding measurement data into an EM telemetry signal comprises mapping a symbol set to positive or negative polarity EM pulses and the step of generating EM pulses comprises generating positive polarity or negative polarity pulses corresponding to the EM telemetry signal. 
<!-- EPO <DP n="31"/>-->
</claim-text></claim><claim id="clm-0022" num="22"><claim-text>22. A method as claimed in claim 21 wherein the step of generating positive polarity EM pulses comprises applying a voltage across a positive pathway of an H-bridge circuit electrically coupled to positive and negative ends of a gap sub to generate the positive polarity EM pulse, and wherein the step of generating negative polarity pulses comprises applying a voltage across a negative pathway of the H-bridge circuit to generate the negative polarity EM pulse, and wherein the different amplitudes of the EM pulses are obtained by varying the voltage applied to the H-bridge circuit. </claim-text></claim><claim id="clm-0023" num="23"><claim-text>23. A method as claimed in claim 21 wherein the modulation scheme includes amplitude and timing shift keying (ATSK) comprising mapping each symbol in the symbol set to a pulse state having a selected amplitude, a selected polarity, and a selected timing position. </claim-text></claim><claim id="clm-0024" num="24"><claim-text>24. A method as claimed in claim 23 wherein the step of generating positive polarity EM pulses comprises applying a voltage across a positive pathway of an H-bridge circuit electrically coupled to positive and negative ends of a gap sub to generate the positive polarity EM pulse, and the step of generating negative polarity EM pulses comprises applying a voltage across a negative pathway of the H-bridge circuit to generate the negative polarity EM pulse, and wherein the different amplitudes of EM pulses are obtained by varying the voltage applied to the H-bridge circuit to vary the amplitude for the ATSK modulation scheme, and wherein different timing positions are obtained by varying the timing of applying the voltage to the H-bridge circuit. </claim-text></claim><claim id="clm-0025" num="25"><claim-text>25. A method as claimed in claim 21 further comprising selecting a pulse frequency and the step of generating positive or negative polarity EM pulses comprises generating EM pulses having a pulse width corresponding to the selected pulse frequency. </claim-text></claim><claim id="clm-0026" num="26"><claim-text>26. A method as claimed in claim 25 wherein the measurement data is of a formation through which the EM pulse will travel, and the step of selecting the pulse frequency comprises determining an attenuation of the formation from the measurement data and selecting a pulse frequency suitable for the determined attenuation. </claim-text></claim><claim id="clm-0027" num="27"><claim-text>27. An apparatus for transmitting EM telemetry data from a downhole location to surface, comprising: 
<!-- EPO <DP n="32"/>-->
 (a) an EM signal transmitter configured to generate EM pulses of different amplitudes corresponding to a telemetry signal; and </claim-text><claim-text>(b) an electronics subassembly communicative with the EM signal transmitter and comprising a processor and a memory having encoded thereon program code executable by the processor to perform a method comprising encoding measurement data into an EM telemetry signal using a modulation scheme comprising mapping a symbol set to EM pulses of different amplitudes; and sending a control signal to the EM signal transmitter to generate EM pulses corresponding to the EM telemetry signal. </claim-text></claim><claim id="clm-0028" num="28"><claim-text>28. An apparatus as claimed in claim 27 further comprising a gap sub, and wherein the EM signal transmitter comprises an H-bridge circuit electrically coupled to positive and negative ends of the gap sub such that applying a voltage across a positive pathway of the H-bridge circuit generates a positive polarity EM pulse, and applying a voltage across a negative pathway of the H-bridge circuit generates a negative polarity EM pulse. </claim-text></claim><claim id="clm-0029" num="29"><claim-text>29. An apparatus as claimed in claim 28 wherein the EM signal transmitter further comprises a variable output voltage regulator electrically coupled to the H-bridge circuit, a power source coupled to the voltage regulator, and a signal generator communicative with the voltage regulator, the H-bridge circuit, and the electronics subassembly, the signal generator configured to receive the control signal from the processor and to send a polarity control signal to the H-bridge circuit and a voltage output and timing control signal to the voltage regulator. </claim-text></claim><claim id="clm-0030" num="30"><claim-text>30. An apparatus as claimed in claim 29 wherein the modulation scheme includes timing shift keying (TSK) comprising mapping each symbol in the symbol set to a pulse state having a selected polarity and a selected timing position. </claim-text></claim><claim id="clm-0031" num="31"><claim-text>31. An apparatus as claimed in claim 29 wherein the modulation scheme includes amplitude shift keying (ASK) comprising mapping each symbol in the symbol set to a pulse state having a selected amplitude and a selected polarity. 
<!-- EPO <DP n="33"/>-->
</claim-text></claim><claim id="clm-0032" num="32"><claim-text>32. An apparatus as claimed in claim 29 wherein the modulation scheme includes amplitude and timing shift keying (ATSK) comprising mapping each symbol in the symbol set to a pulse state having a selected amplitude, a selected polarity, and a selected timing position. </claim-text></claim><claim id="clm-0033" num="33"><claim-text>33. An apparatus as claimed in claim 29 wherein the memory further comprises program code that when executed by the processor performs a step of selecting a pulse frequency and the control signal to the EM signal transmitter comprises instructions for generating EM pulses having a pulse width corresponding to the selected pulse frequency. </claim-text></claim><claim id="clm-0034" num="34"><claim-text>34. An apparatus as claimed in claim 34 wherein the electronics subassembly further comprises sensors for measuring a formation through which the EM pulse will travel, and wherein the step of selecting a pulse frequency comprises determining an attenuation of the formation from the measurement data and selecting a pulse frequency suitable for the determined attenuation. </claim-text></claim><claim id="clm-0035" num="35"><claim-text>35. An electromagnetic (EM) telemetry method comprising </claim-text><claim-text> (a) encoding downhole data into a single data stream; </claim-text><claim-text>(b) separating the single data stream into a plurality of separate data streams;</claim-text><claim-text>(c) converting one data stream into an EM pulse signal using a selected digital modulation technique and another data stream into an EM carrier wave signal using another selected digital modulation technique, wherein frequency ranges of the EM pulses and the EM carrier waves are assigned unique non-overlapping ranges of values; </claim-text><claim-text> (d) combining the EM pulse and carrier wave signals into a combined waveform; and (e) transmitting from a downhole location, an EM telemetry transmission comprising the combined waveform. </claim-text></claim><claim id="clm-0036" num="36"><claim-text>36. A method as claimed in claim 36 wherein the step of converting one data stream into the EM pulse signal comprises using a modulation scheme comprising mapping a 
<!-- EPO <DP n="34"/>-->
 symbol set to at least one positive polarity EM pulse and one negative polarity EM pulse. </claim-text></claim><claim id="clm-0037" num="37"><claim-text>37. A method as claimed in claim 36 wherein the step of converting one data stream into the EM pulse signal comprises using a modulation scheme comprising mapping a symbol set to EM pulses of different amplitudes. </claim-text></claim><claim id="clm-0038" num="38"><claim-text>38. An EM telemetry system comprising: a downhole telemetry tool comprising: </claim-text><claim-text> (a) a gap sub assembly; </claim-text><claim-text> (b) an EM signal transmitter for generating an EM telemetry transmission across an electrically isolated gap of the gap sub assembly; </claim-text><claim-text> (c) an electronics subassembly communicative with the signal transmitter and comprising a downhole processor and a memory containing an encoder program code executable by the downhole processor to perform a method comprising: </claim-text><claim-text>(i) encoding downhole data into a single data stream; </claim-text><claim-text>(ii) separating the single data stream into a plurality of separate data streams; </claim-text><claim-text> (iii) converting one data stream into an EM pulse signal using a selected digital modulation technique and another data stream into an EM carrier wave signal using another selected digital modulation technique, wherein frequency ranges of the EM pulses and the EM carrier waves are assigned unique non-overlapping ranges of values; </claim-text><claim-text> (iv) combining the EM pulse and carrier wave signals into a combined waveform; and </claim-text><claim-text> (v) sending a control signal to the signal transmitter to transmit an EM telemetry transmission comprising the combined waveform. 
<!-- EPO <DP n="35"/>-->
</claim-text></claim><claim id="clm-0039" num="39"><claim-text>39. An apparatus as claimed in claim 39 wherein the EM signal transmitter further comprises an H-bridge circuit electrically coupled to positive and negative ends of the gap sub such that applying a voltage across a positive pathway of the H-bridge circuit generates a positive polarity EM pulse, and applying a voltage across a negative pathway of the H-bridge circuit generates a negative polarity EM pulse, and wherein the memory has further encoded thereon program code executable by the processor to convert one data stream into the EM pulse signal using a modulation scheme comprising mapping a symbol set to at least one positive polarity EM pulse and one negative polarity EM pulse. </claim-text></claim><claim id="clm-0040" num="40"><claim-text>40. An apparatus as claimed in claim 39 wherein the EM signal transmitter is configured to generate EM pulses of different amplitudes corresponding to a telemetry signal; and the memory has further encoded thereon program code executable by the processor to convert one data stream into the EM pulse signal using a modulation scheme comprising mapping a symbol set to EM pulses of different amplitudes. 
</claim-text></claim></claims><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
