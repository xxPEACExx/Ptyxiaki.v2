<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2959103-A1" country="EP" doc-number="2959103" kind="A1" date="20151230" family-id="51390455" file-reference-id="312929" date-produced="20180825" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="160452974" ucid="EP-2959103-A1"><document-id><country>EP</country><doc-number>2959103</doc-number><kind>A1</kind><date>20151230</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-14754839-A" is-representative="NO"><document-id mxw-id="PAPP193868916" load-source="patent-office" format="original"><country>EP</country><doc-number>14754839.0</doc-number><date>20140225</date><lang>EN</lang></document-id><document-id mxw-id="PAPP193868917" load-source="docdb" format="epo"><country>EP</country><doc-number>14754839</doc-number><kind>A</kind><date>20140225</date><lang>EN</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC162026669" ucid="CA-2014050133-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>CA</country><doc-number>2014050133</doc-number><kind>W</kind><date>20140225</date></document-id></priority-claim><priority-claim mxw-id="PPC162029419" ucid="US-201361768936-P" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>201361768936</doc-number><kind>P</kind><date>20130225</date></document-id></priority-claim><priority-claim mxw-id="PPC162027463" ucid="US-201361769033-P" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>201361769033</doc-number><kind>P</kind><date>20130225</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-1880656157" load-source="docdb">H04B   3/00        20060101ALI20161031BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1880656158" load-source="docdb">E21B  47/12        20120101AFI20161031BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1880656159" load-source="docdb">E21B  47/10        20120101ALI20161031BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1880656160" load-source="docdb">E21B  47/00        20120101ALI20161031BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1880656161" load-source="docdb">E21B  44/00        20060101ALI20161031BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1880656162" load-source="docdb">E21B   7/00        20060101ALI20161031BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1880656163" load-source="docdb" scheme="CPC">H04B2203/5475      20130101 LA20161110BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1880656164" load-source="docdb" scheme="CPC">H04B2203/5458      20130101 LA20161110BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1880656165" load-source="docdb" scheme="CPC">H04B   3/54        20130101 LI20161110BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1880656166" load-source="docdb" scheme="CPC">E21B  47/14        20130101 LI20161110BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1880656167" load-source="docdb" scheme="CPC">E21B  47/12        20130101 LI20161110BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1984697946" load-source="docdb" scheme="CPC">E21B   7/04        20130101 LI20160107BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1984699018" load-source="docdb" scheme="CPC">E21B  47/18        20130101 LI20160107BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1984702219" load-source="docdb" scheme="CPC">E21B  47/122       20130101 FI20160108BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1984705800" load-source="docdb" scheme="CPC">E21B  47/00        20130101 LI20160107BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT165550388" lang="DE" load-source="patent-office">INTEGRIERTES BOHRLOCHSYSTEM MIT MEHREREN TELEMETRIEUNTERSYSTEMEN</invention-title><invention-title mxw-id="PT165550389" lang="EN" load-source="patent-office">INTEGRATED DOWNHOLE SYSTEM WITH PLURAL TELEMETRY SUBSYSTEMS</invention-title><invention-title mxw-id="PT165550390" lang="FR" load-source="patent-office">SYSTÈME INTÉGRÉ DE FOND DE PUITS À PLUSIEURS SOUS-SYSTÈMES DE TÉLÉMÉTRIE</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR1103306389" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>EVOLUTION ENGINEERING INC</last-name><address><country>CA</country></address></addressbook></applicant><applicant mxw-id="PPAR1103333504" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>Evolution Engineering Inc.</last-name></addressbook></applicant><applicant mxw-id="PPAR1101654112" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Evolution Engineering Inc.</last-name><iid>101467311</iid><address><street>No. 2, 1460 28 Street NE</street><city>Calgary, Alberta T2A 7W6</city><country>CA</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR1103305810" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>LOGAN AARON W</last-name><address><country>CA</country></address></addressbook></inventor><inventor mxw-id="PPAR1103305306" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>LOGAN, Aaron W.</last-name></addressbook></inventor><inventor mxw-id="PPAR1101645273" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>LOGAN, Aaron W.</last-name><address><street>48 Slocan Road SW</street><city>Calgary, Alberta T2W 0S8</city><country>CA</country></address></addressbook></inventor><inventor mxw-id="PPAR1103334371" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>SWITZER DAVID A</last-name><address><country>CA</country></address></addressbook></inventor><inventor mxw-id="PPAR1103333066" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>SWITZER, DAVID A.</last-name></addressbook></inventor><inventor mxw-id="PPAR1101645061" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>SWITZER, DAVID A.</last-name><address><street>28 Aspen Stone Court SW</street><city>Calgary, Alberta T3H 0L6</city><country>CA</country></address></addressbook></inventor><inventor mxw-id="PPAR1103314738" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>LIU JILI</last-name><address><country>CA</country></address></addressbook></inventor><inventor mxw-id="PPAR1103341489" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>LIU, JILI</last-name></addressbook></inventor><inventor mxw-id="PPAR1101645051" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>LIU, JILI</last-name><address><street>9 Chaparral Cove SE</street><city>Calgary, Alberta T2X 3L4</city><country>CA</country></address></addressbook></inventor><inventor mxw-id="PPAR1103323063" load-source="docdb" sequence="4" format="epo"><addressbook><last-name>LOGAN JUSTIN C</last-name><address><country>CA</country></address></addressbook></inventor><inventor mxw-id="PPAR1103305544" load-source="docdb" sequence="4" format="intermediate"><addressbook><last-name>LOGAN, Justin C.</last-name></addressbook></inventor><inventor mxw-id="PPAR1101652068" load-source="patent-office" sequence="4" format="original"><addressbook><last-name>LOGAN, Justin C.</last-name><address><street>1441 23rd Avenue SW 301</street><city>Calgary, Alberta T2T 0T6</city><country>CA</country></address></addressbook></inventor><inventor mxw-id="PPAR1103316844" load-source="docdb" sequence="5" format="epo"><addressbook><last-name>XU MINGDONG</last-name><address><country>CA</country></address></addressbook></inventor><inventor mxw-id="PPAR1103332029" load-source="docdb" sequence="5" format="intermediate"><addressbook><last-name>Xu, Mingdong</last-name></addressbook></inventor><inventor mxw-id="PPAR1101641156" load-source="patent-office" sequence="5" format="original"><addressbook><last-name>Xu, Mingdong</last-name><address><street>87 Everstone Rise SW</street><city>Calgary, Alberta T2Y 4J8</city><country>CA</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR1101639469" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Beyer, Andreas</last-name><suffix>et al</suffix><iid>101263733</iid><address><street>Wuesthoff &amp; Wuesthoff Patentanwälte PartG mbB Schweigerstrasse 2</street><city>81541 München</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="CA-2014050133-W"><document-id><country>CA</country><doc-number>2014050133</doc-number><kind>W</kind><date>20140225</date><lang>EN</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2014127489-A1"><document-id><country>WO</country><doc-number>2014127489</doc-number><kind>A1</kind><date>20140828</date><lang>EN</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS660631675" load-source="docdb">AL</country><country mxw-id="DS660632458" load-source="docdb">AT</country><country mxw-id="DS660631676" load-source="docdb">BE</country><country mxw-id="DS660736420" load-source="docdb">BG</country><country mxw-id="DS660709451" load-source="docdb">CH</country><country mxw-id="DS660630744" load-source="docdb">CY</country><country mxw-id="DS660630745" load-source="docdb">CZ</country><country mxw-id="DS660712179" load-source="docdb">DE</country><country mxw-id="DS660631677" load-source="docdb">DK</country><country mxw-id="DS660631678" load-source="docdb">EE</country><country mxw-id="DS660717460" load-source="docdb">ES</country><country mxw-id="DS660736421" load-source="docdb">FI</country><country mxw-id="DS660736422" load-source="docdb">FR</country><country mxw-id="DS660712180" load-source="docdb">GB</country><country mxw-id="DS660631691" load-source="docdb">GR</country><country mxw-id="DS660712181" load-source="docdb">HR</country><country mxw-id="DS660630746" load-source="docdb">HU</country><country mxw-id="DS660709452" load-source="docdb">IE</country><country mxw-id="DS660631692" load-source="docdb">IS</country><country mxw-id="DS660736447" load-source="docdb">IT</country><country mxw-id="DS660631693" load-source="docdb">LI</country><country mxw-id="DS660712182" load-source="docdb">LT</country><country mxw-id="DS660632467" load-source="docdb">LU</country><country mxw-id="DS660736448" load-source="docdb">LV</country><country mxw-id="DS660712187" load-source="docdb">MC</country><country mxw-id="DS660632468" load-source="docdb">MK</country><country mxw-id="DS660632469" load-source="docdb">MT</country><country mxw-id="DS660717461" load-source="docdb">NL</country><country mxw-id="DS660790937" load-source="docdb">NO</country><country mxw-id="DS660717462" load-source="docdb">PL</country><country mxw-id="DS660632470" load-source="docdb">PT</country><country mxw-id="DS660709453" load-source="docdb">RO</country><country mxw-id="DS660632479" load-source="docdb">RS</country><country mxw-id="DS660717467" load-source="docdb">SE</country><country mxw-id="DS660630755" load-source="docdb">SI</country><country mxw-id="DS660790938" load-source="docdb">SK</country><country mxw-id="DS660790939" load-source="docdb">SM</country><country mxw-id="DS660736449" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data><office-specific-data><eptags><ep-no-a-document-published>*</ep-no-a-document-published></eptags></office-specific-data></bibliographic-data><abstract mxw-id="PA139081370" ref-ucid="WO-2014127489-A1" lang="EN" load-source="patent-office"><p num="0000">A downhole system has a plurality of telemetry systems and a control system configured to obtain information from one or more sensors and transmit that information on one or more of the plurality of telemetry systems. The configuration of a controller may be changed so as to change which information is transmitted on a given telemetry system and how the information is to be transmitted on the given telemetry system.</p></abstract><abstract mxw-id="PA139547697" ref-ucid="WO-2014127489-A1" lang="EN" source="national office" load-source="docdb"><p>A downhole system has a plurality of telemetry systems and a control system configured to obtain information from one or more sensors and transmit that information on one or more of the plurality of telemetry systems. The configuration of a controller may be changed so as to change which information is transmitted on a given telemetry system and how the information is to be transmitted on the given telemetry system.</p></abstract><abstract mxw-id="PA139081371" ref-ucid="WO-2014127489-A1" lang="FR" load-source="patent-office"><p num="0000">L'invention concerne un système de fond de puits comportant plusieurs sous-systèmes de télémétrie et un système de commande configurés pour obtenir de l'information auprès d'un ou de plusieurs capteurs et pour transmettre cette information à l'un au moins des systèmes de la pluralité des sous-systèmes de télémétrie. La configuration d'un tel contrôleur peut être modifiée de façon à changer d'information transmise dans un système de télémétrie donné et à changer la façon dont l'information doit être transmise dans le système de télémétrie considéré.</p></abstract><abstract mxw-id="PA139547698" ref-ucid="WO-2014127489-A1" lang="FR" source="national office" load-source="docdb"><p>L'invention concerne un système de fond de puits comportant plusieurs sous-systèmes de télémétrie et un système de commande configurés pour obtenir de l'information auprès d'un ou de plusieurs capteurs et pour transmettre cette information à l'un au moins des systèmes de la pluralité des sous-systèmes de télémétrie. La configuration d'un tel contrôleur peut être modifiée de façon à changer d'information transmise dans un système de télémétrie donné et à changer la façon dont l'information doit être transmise dans le système de télémétrie considéré.</p></abstract><description mxw-id="PDES78478593" ref-ucid="WO-2014127489-A1" lang="EN" load-source="patent-office"><!-- EPO <DP n="2"/>--><p id="p0001" num="0001"> INTEGRATED DOWNHOLE SYSTEM WITH PLURAL TELEMETRY </p><p id="p0002" num="0002"> SUBSYSTEMS </p><p id="p0003" num="0003">Cross-Reference to Related Applications </p><p id="p0004" num="0004"> [0001] This application claims priority from United States application No. 61/768936 filed 25 February 2013 and entitled DOWNHOLE TELEMETRY and United States application No. 61/769033 filed 25 February 2013 and entitled DOWNHOLE </p><p id="p0005" num="0005">ELECTROMAGNETIC AND MUD PULSE TELEMETRY APPARATUS, both of which are hereby incorporated herein by reference for all purposes as if fully set forth herein. Technical Field </p><p id="p0006" num="0006"> [0002] This application relates to subsurface drilling, specifically to downhole data acquisition and telemetry between downhole assemblies and surface equipment. </p><p id="p0007" num="0007">Embodiments are applicable to drilling wells for recovering hydrocarbons. </p><p id="p0008" num="0008">Background </p><p id="p0009" num="0009">[0003] Recovering hydrocarbons from subterranean zones typically involves drilling wellbores. </p><p id="p0010" num="0010">[0004] Wellbores are made using surface-located drilling equipment which drives a drill string that eventually extends from the surface equipment to the formation or subterranean zone of interest. The drill string can extend thousands of feet or meters below the surface. The terminal end of the drill string includes a drill bit for drilling (or extending) the wellbore. Drilling fluid, usually in the form of a drilling "mud", is typically pumped through the drill string. The drilling fluid cools and lubricates the drill bit and also carries cuttings back to the surface. Drilling fluid may also be used to help control bottom hole pressure to inhibit hydrocarbon influx from the formation into the wellbore and potential blow out at surface. 
<!-- EPO <DP n="3"/>-->
 [0005] Bottom hole assembly (BHA) is the name given to the equipment at the terminal end of a drill string. In addition to a drill bit, a BHA may comprise elements such as: apparatus for steering the direction of the drilling (e.g. a steerable downhole mud motor or rotary steerable system); sensors for measuring properties of the surrounding geological formations (e.g. sensors for use in well logging); sensors for measuring downhole conditions as drilling progresses; one or more systems for telemetry of data to the surface; stabilizers; heavy weight drill collars; pulsers; and the like. The BHA is typically advanced into the wellbore by a string of metallic tubulars (drill pipe). </p><p id="p0011" num="0011">[0006] Modern drilling systems may include any of a wide range of mechanical/electronic systems in the BHA or at other downhole locations. Such electronics systems may be packaged as part of a downhole probe. A downhole probe may comprise any active mechanical, electronic, and/or electromechanical system that operates downhole. A probe may provide any of a wide range of functions including, without limitation: data acquisition; measuring properties of the surrounding geological formations (e.g. well logging); measuring downhole conditions as drilling progresses; controlling downhole equipment; monitoring status of downhole equipment; directional drilling applications; measuring while drilling (MWD) applications; logging while drilling (LWD) applications; measuring properties of downhole fluids; and the like. A probe may comprise one or more systems for: telemetry of data to the surface; collecting data by way of sensors (e.g. </p><p id="p0012" num="0012">sensors for use in well logging) that may include one or more of vibration sensors, magnetometers, inclinometers, accelerometers, nuclear particle detectors, electromagnetic detectors, acoustic detectors, and others; acquiring images; measuring fluid flow; </p><p id="p0013" num="0013">determining directions; emitting signals, particles or fields for detection by other devices; interfacing to other downhole equipment; sampling downhole fluids; etc. A downhole probe is typically suspended in a bore of a drill string near the drill bit. </p><p id="p0014" num="0014">[0007] A downhole probe may communicate a wide range of information to the surface by telemetry. Telemetry information can be invaluable for efficient drilling operations. For example, telemetry information may be used by a drill rig crew to make decisions about controlling and steering the drill bit to optimize the drilling speed and trajectory based on numerous factors, including legal boundaries, locations of existing wells, formation properties, hydrocarbon size and location, etc. 
<!-- EPO <DP n="4"/>-->
 [0008] In directional drilling operations the drill bit is steered to cause the wellbore to follow a curved trajectory. In some cases the drill bit is rotated by a mud motor located in the BHA. A portion of drill string above the drill bit may have a bend in it which can be oriented to push or deflect the drill bit in a desired direction. [0009] In order to control drilling so that the wellbore follows a desired trajectory it is valuable if not essential to have information about the current orientation of the drill bit. A crew may make intentional deviations from the planned path as necessary based on information gathered from downhole sensors and transmitted to the surface by telemetry during the drilling process. This information may be transmitted and acted upon in real time or near real-time. The ability to obtain and transmit reliable data from downhole locations allows for relatively more economical and more efficient drilling operations. </p><p id="p0015" num="0015">[0010] There are several known telemetry techniques. These include transmitting information by generating vibrations in fluid in the bore hole (e.g. acoustic telemetry or mud pulse (MP) telemetry) and transmitting information by way of electromagnetic signals that propagate at least in part through the earth (EM telemetry). Other example telemetry techniques use hardwired drill pipe, fibre optic cable, or drill collar acoustic telemetry to carry data to the surface. </p><p id="p0016" num="0016">[0011] MP telemetry involves creating pressure waves in the circulating drill mud in the drill string. In MP telemetry, information may be transmitted by creating a series of pressure waves in the mud column. This may be achieved by changing the flow area and/or path of the drilling fluid as it passes a downhole probe in a timed, coded sequence, thereby creating pressure differentials in the drilling fluid. The pressure differentials or pulses may either be negative pulses and/or positive pulses or continuous wave. The pulses travel to surface where they may be detected by transducers in the surface piping. The detected pulses can then be decoded to reconstruct the data sent from the downhole probe. One or more signal processing techniques may be used to separate undesired mud pump noise, rig noise or downward propagating noise from upward (MWD) signals. The best data transmission rate achievable by current MP telemetry is about 40 bit/s. However, the achievable data rate falls off with increasing depth. It is not uncommon for MP data rates from deeper locations to be on the order of 1 to 2 bit s. 
<!-- EPO <DP n="5"/>-->
 [0012] A typical arrangement for EM telemetry uses parts of the drill string as an antenna. The drill string may be divided into two conductive sections by including an insulating joint or connector (a "gap sub") in the drill string. The gap sub is typically placed at the top of a bottom hole assembly such that metallic drill pipe in the drill string above the BHA serves as one antenna element and metallic sections in the BHA serve as another antenna element. Electromagnetic telemetry signals can then be transmitted by applying electrical signals between the two antenna elements. The signals typically comprise very low frequency AC signals applied in a manner that codes information for transmission to the surface (higher frequency signals are typically attenuated more strongly than low frequency signals). The electromagnetic signals may be detected at the surface, for example by measuring electrical potential differences between the drill string or a metal casing that extends into the ground and one or more ground electrodes. </p><p id="p0017" num="0017">[0013] Advantages of EM telemetry relative to MP telemetry include generally faster data rates, increased reliability due to no moving downhole parts, high resistance to lost circulating material (LCM) use, and suitability for air/underbalanced drilling. An EM system can transmit data without a continuous fluid column; hence it is useful when there is no drilling fluid flowing. This is advantageous when a drill crew is adding a new section of drill pipe as the EM signal can transmit information (e.g. directional information) while the drill crew is adding the new pipe. Disadvantages of EM telemetry include lower depth capability, incompatibility with some formations (for example, high salt formations and formations of high resistivity contrast). Also, as the EM transmission is strongly attenuated over long distances through the earth formations, it may require a relatively large amount of power for the signals to be detected at surface. The electrical power available to generate EM signals may be provided by batteries or another power source that has limited capacity. </p><p id="p0018" num="0018">[0014] Drill rig operators sometimes provide in a drill string multiple independently- operating telemetry systems, each coupled with sensor systems such that each telemetry system communicates to a surface receiver readings collected by the sensor systems with which it is coupled. This requires substantial duplication of parts and additional batteries in the BHA, resulting in increased length of the BHA, increased cost, and (insofar as the sensors are necessarily positioned further away from the drill bit in the elongated BHA) 
<!-- EPO <DP n="6"/>-->
 decreased relevance of sensor readings. Furthermore, such known multiple telemetry systems are not optimized for performance, reliability, and efficient use of power. </p><p id="p0019" num="0019">[0015] One challenge facing designers of downhole telemetry systems is to achieve acceptably high data rates. Especially when attempting telemetry from locations that are deep in a wellbore, data rates can be so slow that transmitting even relatively small amounts of data can take long times, e.g. several minutes. This interferes with the goal of maintaining real time control over the drilling operation and creates a bottleneck which can slow the progress of drilling. It would be of great benefit to the industry to provide ways to achieve higher rates of transmission of telemetry data. [0016] Another challenge facing the industry is improving the reliability of telemetry equipment. This problem is exacerbated because the downhole environment is typically harsh - being characterized by high pressures, high flow rates of potentially erosive drilling mud, high temperatures and/or extreme vibration. These conditions stress equipment, especially electronic equipment. It would be of great benefit to the industry to provide fault-tolerant / fault-resistant telemetry systems. </p><p id="p0020" num="0020">[0017] Another challenge facing the industry is to extend the run-time of downhole equipment. Many downhole electronic systems are battery-powered. Batteries tend to be more reliable than downhole power generators. However, batteries have limited capacity. Tripping equipment out of a wellbore to replace batteries is time-consuming and expensive. Methods and apparatus which can allow battery-powered downhole electronic systems to function for longer times between replacing batteries would be of great value. </p><p id="p0021" num="0021">[0018] There remains a need for downhole telemetry systems and methods that ameliorate at least some of the disadvantages of existing telemetry systems. </p><p id="p0022" num="0022">Summary </p><p id="p0023" num="0023">[0019] The invention has a number of aspects. One main aspect relates to an architecture for downhole systems that facilitates the use of a plurality of telemetry systems. The architecture may be implemented in a way that provides great flexibility in configuring the systems to transmit data of various kinds to surface equipment. In some embodiments 
<!-- EPO <DP n="7"/>-->
 logically separate controllers are associated with each of a plurality of telemetry subsystems. Each controller may be configured to independently obtain sensor information (or other telemetry data) and to transmit the sensor information by way of the associated telemetry subsystem. Another main aspect relates to different ways in which a downhole system may be configured to transmit data and different methods that may be executed by downhole systems for configuring the downhole systems and/or transmitting data to surface equipment. There is synergy between these main aspects in that the described architecture is particularly advantageous for configuring in the manners described and for practicing the described methods. However, these main aspects of the invention are also capable of separate application. Another aspect of the invention relates to methods and apparatus for receiving and decoding downhole telemetry data. In some embodiments the methods and apparatus integrate a plurality of telemetry receivers. </p><p id="p0024" num="0024">[0020] In some embodiments a downhole system is flexibly reconfigurable among multiple configurations without changing the physical structure of the downhole system. The reconfiguration may be accomplished by executing software instructions and/or by replacing electronically-readable configuration profiles for example. </p><p id="p0025" num="0025">[0021] One aspect provides telemetry systems that comprise a plurality of telemetry controllers each associated with a corresponding telemetry subsystem. The telemetry controllers may be configured to independently obtain and transmit parameter values, such as sensor readings using the associated telemetry subsystem. </p><p id="p0026" num="0026">[0022] Another aspect provides telemetry methods. Some such methods comprise automatically switching among different telemetry configurations based on one or more factors as described herein. Some such methods may comprise one or more of: </p><p id="p0027" num="0027">• conditionally transmitting certain data (e.g. certain parameter values). </p><p id="p0028" num="0028"> • detecting a status of drilling operations at a downhole tool and switching among telemetry configurations based on the detected status. </p><p id="p0029" num="0029"> • transmitting at least some of the same data by way of two or more different </p><p id="p0030" num="0030"> telemetry subsystems. 
<!-- EPO <DP n="8"/>-->
 • automatically inhibiting operation of one or more telemetry systems based on a configuration setting. </p><p id="p0031" num="0031">[0023] Another example aspect provides downhole systems comprising a plurality of telemetry subsystems and a control system comprising a plurality of telemetry controllers. Each of the plurality of telemetry controllers is associated and in communication with at least one telemetry subsystem of the plurality of telemetry subsystems. The system includes a data bus. Each of the plurality of telemetry controllers is in communication with each other telemetry controller of the plurality of telemetry controllers via the bus. The system includes one or more sensors in communication with the plurality of telemetry controllers. A first telemetry controller of the plurality of telemetry controllers is associated with a first telemetry subsystem of the plurality of telemetry subsystems and is operable to obtain first sensor information from a first set of the one or more sensors and to transmit the first sensor information on the first telemetry subsystem. A second telemetry controller of the plurality of telemetry controllers is associated with a second telemetry subsystem of the plurality of telemetry subsystems and is operable </p><p id="p0032" num="0032">independently of the first telemetry controller to obtain second sensor information from a second set of the one or more sensors and to transmit the second sensor information on the second telemetry subsystem. </p><p id="p0033" num="0033">[0024] In some embodiments the first telemetry subsystem is an EM telemetry subsystem and the second telemetry subsystem is a n MP telemetry subsystem. In some </p><p id="p0034" num="0034">embodiments, all of the sensors are accessible by all of the plurality of telemetry controllers via the data bus such that any of the data controllers can obtain readings from any of the sensors. In some embodiments the sensors include a plurality of sensors of the same type such that one or more backup sensors are available in case one sensor fails. [0025] Another example aspect provides methods comprising, from a downhole tool, transmitting values for one or more parameters using a telemetry protocol. The methods include storing the transmitted parameter values at the downhole tool and acquiring new values for the one or more parameters. The methods compare the new parameter values to the stored previously-transmitted parameter values and in at least some cases suppress 
<!-- EPO <DP n="9"/>-->
 transmitting the new parameter values if a difference between the new parameter values and the stored previously-transmitted parameter values is less than a threshold. </p><p id="p0035" num="0035">[0026] Another example aspect provides methods for transmitting data from a downhole location, the methods comprise obtaining a data unit to be transmitted to surface equipment; transmitting a first part of the data unit using a first the telemetry subsystem and transmitting a second part of the data unit using a second telemetry subsystem. An advantage of some such methods is reduced latency. </p><p id="p0036" num="0036">[0027] Another example aspect provides methods for downhole telemetry, the methods comprise, at a downhole system obtaining a sensor value expressed as a plurality of digital bits by reading a sensor and dividing the plurality of bits into first and second sets of bits. The methods transmit the first set of bits using a first telemetry system and transmit the second set of bits using a second telemetry system. In some embodiments the first and second telemetry systems are of different types (e.g. an MP telemetry system or an acoustic telemetry system and an EM telemetry system). [0028] Another example aspect provides methods for transmitting downhole measurement data to surface equipment. The methods comprise (a) reading downhole measurement data; (b)selecting an available telemetry transmission mode from a group consisting of: mud pulse (MP)-only telemetry mode, electromagnetic (EM)-only telemetry mode, MP and EM concurrent shared telemetry mode, and MP and EM concurrent confirmation telemetry mode; (c) when the MP-only telemetry mode is selected, encoding the measurement data into a first MP telemetry signal and transmitting the first MP telemetry signal to surface, (d) when the EM-only mode is selected, encoding the measurement data into a first EM telemetry signal and transmitting the first EM telemetry signal to surface; (e) when the concurrent shared telemetry mode is selected, encoding a first selection of the measurement data into a second MP telemetry signal and a second selection of the measurement data into a second EM telemetry signal, and transmitting the second MP and EM telemetry signals to surface; and (f) when the concurrent confirmation telemetry mode is selected, encoding the same measurement data into a third MP telemetry signal and into a third EM telemetry signal; and transmitting the third MP and EM telemetry signals to surface. 
<!-- EPO <DP n="10"/>-->
 [0029] Another example aspect provides downhole telemetry methods. The methods comprise: (a) at a downhole location, reading measurement data and encoding some of the measurement data into an electromagnetic (EM) telemetry signal and the rest of the measurement data into a mud pulse (MP) telemetry signal, then (b) transmitting the EM and MP telemetry signals to surface wherein at least part of the EM and MP telemetry signals are transmitted concurrently. </p><p id="p0037" num="0037">[0030] Another example aspect provides downhole telemetry methods. The methods comprise (a) at a downhole location, reading measurement data and encoding the same measurement data into an electromagnetic (EM) telemetry signal and into a mud pulse (MP) telemetry signal, then transmitting the EM and MP telemetry signals to surface, wherein at least part of the EM and MP telemetry signals are transmitted concurrently; and (b) at surface, receiving the EM and MP telemetry signals, comparing the received signals and determining whether the signals meet a match threshold. </p><p id="p0038" num="0038">[0031] Another example aspect provides drilling methods comprising advancing a drillstring while pumping drillingfluid through a bore of the drillstring during active drilling periods separated by flow-off periods during which the flow of drilling fluid through the drillstring is discontinued. The methods involve communicating telemetry data from a downhole system comprising an EM telemetry subsystem and a MP telemetry subsystem to surface equipment. The methods comprise establishing a changed MP data communication protocol for transmitting data using the MP telemetry subsystem, the changed MP data communication protocol to be effective upon commencement of an active drilling period after a flow-off period, and, during the flow-off period, transmitting header information for the changed data MP communication protocol from the downhole system to the surface equipment using the EM telemetry subsystem. [0032] Another example aspect provides drilling methods comprising advancing a drillstring while pumping drillingfluid through a bore of the drillstring during active drilling periods separated by flow-off periods during which the flow of drilling fluid through the drillstring is discontinued and communicating telemetry data from a downhole system to surface equipment. The methods comprise establishing a data communication protocol having slots for a plurality of specific data items and, at the downhole system, 
<!-- EPO <DP n="11"/>-->
 determining whether or not to transmit a specific one of the plurality of data items based on a comparison of a current value of the specific one of the plurality of data items with one or more previously-transmitted values for the specific one of the plurality of data items. [0033] Another example aspect provides drilling methods comprising advancing a drillstring while pumping drillingfluid through a bore of the drillstring during active drilling periods separated by flow-off periods during which the flow of drilling fluid through the drillstring is discontinued; and communicating telemetry data from a downhole system to surface equipment using one or both of EM telemetry and MP telemetry. The methods comprise, at the downhole system, detecting the beginning of one of the flow-off periods, assembling a header specifying a way in which data will be transmitted by EM and/or MP telemetry; and transmitting the header to the surface equipment using EM telemetry at a predetermined time after the beginning of the flow-off period. [0034] Another example aspect provides drilling methods comprising advancing a drillstring while pumping drillingfluid through a bore of the drillstring during active drilling periods separated by flow-off periods during which the flow of drilling fluid through the drillstring is discontinued; and communicating telemetry data from a downhole system to surface equipment using one or both of EM telemetry and MP telemetry. The methods comprise, at the downhole system, transmitting telemetry data by EM telemetry; monitoring an electrical output current of an EM telemetry transmitter; and, if the electrical output current meets or exceeds a predetermined threshold, automatically switching to transmit the telemetry data by MP telemetry. </p><p id="p0039" num="0039">[0035] Another example aspect provides downhole telemetry tools comprising: sensors for acquiring downhole measurement data; an electromagnetic (EM) telemetry unit; a mud pulse (MP) telemetry unit; at least one control module communicative with the sensors and EM and MP telemetry units and comprising a processor and a memory having encoded thereon program code executable by the processor to perform a method as described herein. 
<!-- EPO <DP n="12"/>-->
 [0036] Another example aspect provides surface equipment for processing downhole telemetry signals. The surface equipment comprises an MP telemetry signal detector; an EM telemetry signal detector; a display; and a control system configured to: receive a first set of bits via the MP telemetry signal detector; receive a second set of bits via the EM telemetry signal detector; combine the first and second sets of bits to yield a data unit; and optionally display the data unit on the display. </p><p id="p0040" num="0040">[0037] Another aspect comprises a downhole tool comprising a pressure -tight housing and two or more telemetry drivers for different telemetry modes (for example EM and MP) contained within the pressure-tight housing. [0038] Another aspect provides a receiver for telemetry information configured to track and display information identifying readings that have changed since data values were most recently updated. </p><p id="p0041" num="0041">[0039] Another aspect provides a telemetry system comprising: a plurality of telemetry subsystems and a control system comprising a plurality of telemetry controllers. Each telemetry controller is associated and in communication with at least one telemetry subsystem of the plurality of telemetry subsystems. Each telemetry controller of the plurality of telemetry controllers is in communication with each other telemetry controller of the plurality of telemetry controllers via a bus. One or more sensors is in </p><p id="p0042" num="0042">communication with the plurality of telemetry controllers. A first telemetry controller of the plurality of telemetry controllers is configured to obtain first sensor information from a first set of the one or more sensors and to transmit the first sensor information on a first telemetry subsystem of the plurality of telemetry subsystems. A second telemetry controller of the plurality of telemetry controllers is configured to obtain second sensor information from a second set of the one or more sensors and to transmit the second sensor information on a second telemetry subsystem of the plurality of telemetry subsystems. The telemetry controllers may be configured to independently control whether or not the associated telemetry subsystem is operative to transmit data and/or to independently control what data is transmitted by the associated telemetry subsystem. 
<!-- EPO <DP n="13"/>-->
 [0040] In example embodiments the telemetry subsystems comprise an EM telemetry subsystem and a MP telemetry subsystem. </p><p id="p0043" num="0043">[0041] Another aspect provides a method of configuring a telemetry system. The method comprises receiving first information and in response to receiving the first information, configuring a first telemetry controller to transmit a first sensor information on a first telemetry subsystem. The method further comprises receiving second information, and in response to receiving the second information, reconfiguring the first telemetry controller to transmit a second sensor information on the first telemetry subsystem. The work mode may be controlled by downlink information. </p><p id="p0044" num="0044">[0042] Another aspect provides a method of operating a telemetry system. The method comprises receiving, at a first controller, first sensor information from a first set of sensors, transmitting by a first telemetry subsystem, the first sensor information, receiving, at a second controller, second sensor information from a second set of sensors, and transmitting by a second telemetry subsystem, the second sensor information. </p><p id="p0045" num="0045">[0043] Another aspect provides a telemetry system comprising: one or more sensors; a first telemetry subsystem in communication with the one or more sensors; a second telemetry subsystem in communication with the one or more sensors; and a control system configured to obtain first sensor information from a first set of the one or more sensors and to transmit the first sensor information on a first telemetry subsystem and to obtain second sensor information from a second set of the one or more sensors and to transmit the second sensor information on a second telemetry subsystem. </p><p id="p0046" num="0046">[0044] Another aspect provides apparatus comprising any new useful and inventive feature, combination of features or sub-combination of features described or clearly inferred herein. [0045] Another aspect provides a method comprising any new, useful and inventive step, act, combination of steps and/or acts, or sub-combination of steps and/or acts described or clearly inferred herein. 
<!-- EPO <DP n="14"/>-->
 [0046] Further aspects of the invention and features of example embodiments are illustrated in the accompanying drawings and/or described in the following description. </p><p id="p0047" num="0047">Brief Description of the Drawings </p><p id="p0048" num="0048"> [0047] The accompanying drawings illustrate non-limiting example embodiments of the invention. </p><p id="p0049" num="0049">[0048] Figure 1 is a schematic view of an example drilling operation. </p><p id="p0050" num="0050">[0049] Figure 2 is a logical diagram of an example telemetry system. </p><p id="p0051" num="0051">[0050] Figure 2A is a logical diagram of another example telemetry system. </p><p id="p0052" num="0052">[0051] Figure 3 is a schematic view of an example embodiment of a telemetry system according to Figure 2. </p><p id="p0053" num="0053">[0052] Figure 3A is a block diagram illustrating an example embodiment of a telemetry system that includes a power control subsystem. </p><p id="p0054" num="0054">[0053] Figure 4 is a schematic view of an example EM signal generator. </p><p id="p0055" num="0055">[0054] Figure 5 is a cross-sectional view of an example MP signal generator. </p><p id="p0056" num="0056">[0055] Figure 6 is a schematic view of an example telemetry configuration system. </p><p id="p0057" num="0057">[0056] Figure 6A is a schematic view of an alternative telemetry configuration system. </p><p id="p0058" num="0058">[0057] Figure 7 is a flowchart diagram of an example method for updating a telemetry configuration system according to Figure 6. </p><p id="p0059" num="0059">[0058] Figure 8 is a block diagram of a plurality of controllers of a downhole telemetry apparatus and the operations that they may carry out in response to a downlink command. 
<!-- EPO <DP n="15"/>-->
 [0059] Figures 9 to 12 are respectively flow charts illustrating methods that may be performed by a telemetry apparatus while operating in: MP only telemetry mode, EM only telemetry mode, concurrent confirmation telemetry mode, and concurrent shared telemetry mode. [0060] Figures 11 A and 12A are graphs of mud flow, drill string rotation speed, EM telemetry transmission, and MP telemetry transmission as a function of time when a telemetry tool is operating in concurrent confirmation telemetry mode and concurrent shared telemetry mode, respectively. </p><p id="p0060" num="0060">[0061] Figure 13 is a schematic block diagram showing surface components of an example telemetry system. </p><p id="p0061" num="0061">[0062] Figure 14 is a logic diagram applied by an example telemetry system to determine the confidence values of received EM and MP telemetry signals that were transmitted by a telemetry apparatus operating in concurrent confirmation mode. </p><p id="p0062" num="0062">Description </p><p id="p0063" num="0063">[0063] Throughout the following description specific details are set forth in order to provide a more thorough understanding to persons skilled in the art. However, well known elements may not have been shown or described in detail to avoid unnecessarily obscuring the disclosure. The following description of examples of the technology is not intended to be exhaustive or to limit the system to the precise forms of any example embodiment. Accordingly, the description and drawings are to be regarded in an illustrative, rather than a restrictive, sense. </p><p id="p0064" num="0064">Example Drilling Situation </p><p id="p0065" num="0065"> [0064] Figure 1 shows schematically an example drilling operation. A drill rig 10 drives a drill string 12 which includes sections of drill pipe that extend to a drill bit 14. The illustrated drill rig 10 includes a derrick 10A, a rig floor 10B and draw works IOC for supporting the drill string. Drill bit 14 is larger in diameter than the drill string above the drill bit. An annular region 15 surrounding the drill string is typically filled with drilling fluid. The drilling fluid is pumped by a mud pump 15A through an electrically isolating 
<!-- EPO <DP n="16"/>-->
 gap sub assembly 13, a bore in the drill string to the drill bit and returns to the surface through annular region 15 carrying cuttings from the drilling operation. As the well is drilled, a casing 16 may be made in the well bore. The casing may be surrounded by concrete. A blow out preventer 17 is supported at a top end of the casing. The drill rig illustrated in Figure 1 is an example only. The methods and apparatus described herein are not specific to any particular type of drill rig. </p><p id="p0066" num="0066">[0065] The gap sub assembly 13 contains an electrically isolated (nonconductive) portion, creating an electrically insulating break, known as a gap, between the top and bottom parts of the gap sub assembly 13. The gap sub assembly 13 may form part of the BHA and be positioned at the top part of the BHA. Conducting portions above and below the gap sub assembly 13 may form the antennae of a dipole antenna. The dipole antenna may be used for EM telemetry. </p><p id="p0067" num="0067">[0066] Further, a system like that of Figure 1 may include a system for communicating information between the surface and a downhole location. Thus it is possible to provide two-way communication between the surface and a downhole tool. The principles described herein may be applied to one-way data communication or two-way data communication or even to multi-way data communication between a plurality of downhole devices and the surface. </p><p id="p0068" num="0068">[0067] In the illustrated embodiment, a downhole system 20 is in data communication with surface equipment which includes a surface transceiver 26. Downhole system 20 may use two or more telemetry techniques to communicate data to surface transceiver 26. In some embodiments these telemetry techniques are distinct telemetry techniques (telemetry techniques that apply different physical principles for communicating data). For example, the telemetry techniques may be selected from: electromagnetic telemetry, mud pulse telemetry, drill string acoustic telemetry, mud acoustic telemetry, etc. </p><p id="p0069" num="0069">[0068] Downhole system 20 may comprise two or more hardware components which may be mounted at two or more separate locations (e.g. a mud pulse generator mounted to the drill string at a first location and an EM signal generator mounted to the drill string at a second location). 
<!-- EPO <DP n="17"/>-->
 [0069] In an example embodiment that also has certain advantages the two telemetry techniques include electromagnetic telemetry and mud pulse telemetry. In mud pulse telemetry, data is communicated through the use of mud pulses 22, which are generated at a downhole location, received by a pulse transducer 24 and communicated to surface transceiver 26. Pulse transducer 24 may, for example, comprise a pressure sensor that detects variations in the pressure of the drilling fluid in drill string 12. </p><p id="p0070" num="0070">[0070] Electromagnetic telemetry comprises generating electromagnetic waves at a downhole location. The electromagnetic waves 28 propagate to the surface. Figure 1 shows equipotential lines 28A and lines of current flow 28B representing an </p><p id="p0071" num="0071">electromagnetic wave 28. These lines are schematic in nature as the earth is typically nonuniform. The electromagnetic waves 28 may be detected by surface transceiver 26. In the illustrated embodiment, surface transceiver 26 is connected to measure potential differences between one or more ground electrodes 30 and drill string 12. </p><p id="p0072" num="0072">[0071] Surface transceiver 26 may be coupled to pulse transducer 24, electrodes 30, and drill string 12 (the connection to drill string 12 may, for example, be by way of blow out preventer 17) by communication cables 27. </p><p id="p0073" num="0073">[0072] Surface transceiver 26 may comprise or be in communication with a computer 32. Computer 32 may comprise a data store for saving logged data. Computer 32 may also comprise a display by which received information may be displayed to one or more users. [0073] Surface transceiver 26 may optionally be configured to transmit information to downhole system 20 using any one or more telemetry techniques for which surface transceiver 26 is equipped to transmit. This facility may enable users of drill rig 10 to send, for example, control information to downhole system 20 and, therefore, to the bottom hole assembly. Surface transceiver 26 may, in some embodiments, transmit data to downhole system 20 using one or more telemetry techniques for which downhole system 20 is equipped to receive (and not necessarily transmit) data. For example, in a drill rig 10 in which the drill string is driven from the surface, data may be transmitted to downhole system 20 by varying drilling parameters (such as speed and/or direction of rotation of the drill string). Surface transceiver 26 may also, or alternatively, transmit data to downhole 
<!-- EPO <DP n="18"/>-->
 system 20 using one or more telemetry techniques for which downhole system 20 is equipped to both receive and transmit data. For example, a downhole system 20 with electromagnetic telemetry capabilities may be configured to both receive and transmit data using electromagnetic telemetry. Downhole System Architectures </p><p id="p0074" num="0074"> [0074] Downhole systems according to some embodiments of the invention provide two or more separate telemetry systems that may be applied in ways described herein to transmit data to surface equipment from downhole. Figures 2 and 2A show two examples of such downhole systems. [0075] Figure 2 shows logically an example downhole system 40. A control system 42 is in communication with one or more sensor systems 44 and one or more telemetry systems 46. Sensor system 44 may comprise a plurality of sensors. The sensors may be any sensors known in the art or later developed and could include, for example, one or more of: shock sensors, RPM sensors, flow sensors, direction and inclination sensors, accelerometers, magnetometers, gamma logging sensors, pressure sensors, resistivity sensors, temperature sensors, fluid property sensors, neutron sensors, and the like. </p><p id="p0075" num="0075">[0076] In the depicted example, telemetry systems 46 comprise one or more EM telemetry systems 46A and one or more MP telemetry systems 46B. Control system 42 receives sensor data from sensor system(s) 44 and provides all or part of the received data to one or more of the telemetry systems 46 for transmission. </p><p id="p0076" num="0076">Control System and Controllers </p><p id="p0077" num="0077"> [0077] Control system 42 may comprise one physical device or a plurality of devices configured to work independently or collectively to receive and/or transmit data using telemetry systems 46. In some embodiments, such as the example embodiment depicted in Figures 2A and 3, each telemetry system 46 is associated with a corresponding controller. An additional number of controllers may be provided, each in association with one or more sensors of sensor system 44. All of these controllers may collectively make up control system 42. 
<!-- EPO <DP n="19"/>-->
 [0078] A controller (e.g. control system 42 or separate controllers 42A and 42B or any other controller, control system or control module described herein) may comprise any suitable device or combination of devices. In some embodiments each controller comprises one or more programmable devices such as one or more devices selected from: CPUs, data processors, embedded processors, digital signal processors, microprocessors, computers-on-a-chip, or the like. The processor(s) may comprise, for example, embedded processors such as dsPIC33 series MPUs (multi-core processing units) available from Microchip Technology Inc. of Chandler, Arizona, USA. These programmable devices are configured by way of software and/or firmware to perform the required controller functions and are interfaced to other parts of the downhole system by way of suitable interfaces. In some embodiments two or more controllers may be implemented in software running on the same processor or set of processors. In addition or in the alternative to the use of programmable devices a controller may comprise logic circuits, which may be hardwired, provided in custom IC chips, or the like and/or configurable logic such as field- programmable gate arrays (FPGAs). </p><p id="p0078" num="0078">[0079] Each controller may comprise one or more corresponding data stores. A data store may be separate or shared among two or more controllers. The data stores may comprise any suitable devices for storing data and/or software instructions. For example, the data stores may comprise memory chips, memory cards, read only memory (ROM), non- volatile memory, random access memory (RAM), solid-state memory, optical memory, magnetic memory or the like. The data store(s) may contain program code executable by the programmable device(s) to encode sensor measurements into telemetry data and to send control signals to telemetry units (e.g. a EM or MP telemetry unit) to transmit telemetry signals to the surface. Housings </p><p id="p0079" num="0079"> [0080] The components of downhole systems as described herein may be at least partially contained in a housing (see e.g. element 51 in Figure 3). For example, controller elements of a downhole system may be contained within housing 51. The housing may be constructed as a pressure-tight housing sealed to prevent ingress of fluids into the housing at pressures in the downhole environment. 
<!-- EPO <DP n="20"/>-->
 [0081] Some or all of the sensor elements of the downhole system may optionally be located outside of housing 51. The elements contained within a housing 51 may be implemented on one or more circuit boards, connected by suitable electrical and logical wiring, and/or interconnected in any other suitable manner known in the art. The circuit board(s) may be printed circuit boards with one or more controllers soldered to the surface of the board(s). The circuit board(s) may be secured on a carrier device (not shown) which is fixed inside housing 51, for example by end cap structures (not shown). </p><p id="p0080" num="0080">[0082] In one embodiment, housing 51 comprises a single pressure-tight housing. It is advantageous to provide a compact telemetry apparatus that comprises drivers for two or more telemetry methods within a single pressure-tight housing. Some embodiments feature a probe housing 51 that is both shorter and wider than current industry standards. In a currently preferred embodiment, the probe housing is substantially shorter than current industry- standard telemetry probes, measuring less than 6 feet (about 2 meters), and preferably no more than 4 feet (about 1.3 meters) in length. [0083] In some embodiments housing 51 comprises a cylindrical tube made up of two metallic parts with an electrically-insulating break between them. EM signals from a generator inside housing 51 may be connected to the metallic parts of the housing which may, in turn, be in electrical contact with the two sides of a gap sub. In some </p><p id="p0081" num="0081">embodiments, housing 51 is positioned such that housing 51 spans the gap of the gap sub with portions of housing 51 extending to either side of gap sub 78. </p><p id="p0082" num="0082">[0084] It can be beneficial to configure apparatus 50 such that the electrically-insulating break in housing 51 is located away from sensitive electronics of apparatus 50. For example, the electrically-insulating break may be located near one end of housing 51. The electrically-insulating break can be anywhere along housing 51 in other embodiments. All that is required is a structure that permits two outputs of a signal generator to be connected to opposing sides of a gap sub. </p><p id="p0083" num="0083">[0085] Downhole systems as described herein are not limited to being housed in probes within a bore of a drillstring. For example, all or part of a downhole system may be housed in a pocket with a wall of a drillstring component. 
<!-- EPO <DP n="21"/>-->
 [0086] Figure 2A shows another example telemetry system 40A in which control system 42 comprises a dedicated controller for each telemetry system 46. Figure 2A shows a controller 42A for MP telemetry system 46A and a controller 42B for EM telemetry system 46B. If additional telemetry systems are provided then additional controllers may be provided. The arrangement of Figure 2A has particular advantages as discussed herein. </p><p id="p0084" num="0084">[0087] Figure 3 shows schematically a downhole system 50 according to an example embodiment. Downhole system 50 is a more specific example of the general architecture exemplified by downhole system 40A. </p><p id="p0085" num="0085">[0088] Example telemetry apparatus 50 comprises a plurality of controllers which together make up control system 42. The illustrated embodiment includes status sensor controller 52, interface sensor controller 60, EM controller 70, MP controller 80, and power controller 90. Components of apparatus 50 are housed in a housing 51 </p><p id="p0086" num="0086">[0089] Status sensor controller 52 is connected to sensors which monitor parameters relevant to the current status of the drill string. In some embodiments, outputs of one or more such sensors is used to control switching one or more systems of apparatus 50 on or off, to switch apparatus 50 among a number of operating modes or to otherwise control the operation of such systems. In the depicted embodiment, such sensors include flow switch sensor 54, which detects the status of the drilling fluid flow switch in the BHA, RPM gyro sensor 56, which detects rotation speed of the BHA and gyroscopic information, and shock sensor 58, which may detect shock forces encountered by the BHA in three-dimensions. </p><p id="p0087" num="0087">[0090] Status sensor controller 52 may, for example use readings from the associated sensors to distinguish between different drilling modes. For example, status sensor 52 may be configured to distinguish between a 'quiet' wellbore (no drilling fluid flow and no drillstring rotation), 'sliding' operation (drilling fluid is flowing but the drillstring is not being rotated significantly from the surface), and full-on drilling (drilling fluid is flowing and the drill string is being rotated from the surface). In some embodiments operation of apparatus 50 is automatically configured differently depending on the current drilling mode (as detected, for example, by status sensor controller 52). 
<!-- EPO <DP n="22"/>-->
 [0091] Interface sensor controller 60 is generally in communication with sensors that monitor parameters that are indicative of characteristics of the surrounding formation and/or the position of the BHA relative to the formation. Such sensors may include, for example, direction and inclination sensor 62, gamma sensor 64, which measures the composition of the surrounding formation through the measurement of gamma emission, and direction and inclination backup sensor 66. Additional sensors of any suitable types may be provided. </p><p id="p0088" num="0088">[0092] In the illustrated embodiment, apparatus 50 has a set of back-up sensors 67. </p><p id="p0089" num="0089">Interface sensor controller 60 may connect to backup sensors 67 and/or a backup interface sensor controller 60A may connect to backup sensors 67. Backup sensors 67 may replicate some or all sensors in apparatus 50 to provide redundancy in case of failure of a main sensor. Readings from backup sensors may be used in various ways as described below. </p><p id="p0090" num="0090">Example EM Telemetry Hardware </p><p id="p0091" num="0091"> [0093] EM controller 70 is in communication with an EM telemetry sub-system. In some embodiments the generator for EM signals comprises a power supply having first and second outputs and an H-bridge circuit connected to the outputs such that the power supply outputs can be connected to opposing sides of gap sub 78 (for example, by way of electrically separated conductive parts of housing 51) in either polarity. The power supply may, for example, comprise a current-limited DC power supply which applies power from a battery to the H-bridge circuit. </p><p id="p0092" num="0092">[0094] For example, in a first configuration of the H-bridge, one power supply output is electrically connected to an uphole side of gap sub 78 and the other power supply output is connected to the downhole side of gap sub 78. In a second H-bridge configuration the power supply outputs are reversed such that the first power supply output is electrically connected to the downhole side of gap sub 78 and the second power supply output is electrically connected to the uphole side of gap sub 78. The first and second power supply outputs are at different potentials (e.g. ground and a set voltage relative to ground or a set voltage positive with respect to a local ground reference and another set voltage negative with respect to a local ground reference). 
<!-- EPO <DP n="23"/>-->
 [0095] An alternating signal of a desired frequency may be applied across gap sub 78 by switching the H-bridge between the first and second configurations described above at twice the desired frequency. An H-bridge driver 76 that includes the H-bridge circuit may be located at or near the electrically-insulating break in housing 51. This facilitates a relatively direct connection of H-bridge driver 76 to the sides of gap sub 78. </p><p id="p0093" num="0093">[0096] Figure 4 shows a more detailed view of a possible arrangement for an EM telemetry transmitter. EM telemetry unit 75 comprises EM controller 70, signal generator 72, EM amplifier 74, battery 98, and H-bridge circuit 76. An H bridge circuit enables a voltage to be applied across a load in either direction, and comprises four switches of which one pair of switches can be closed and the other pair of switches left open to allow voltage to be applied between two outputs in one direction ("positive polarity pathway"), and another pair of switches can be closed while the first pair of switches is left open to allow a voltage to be applied between the two outputs in a reverse direction ("reverse polarity pathway"). In H bridge circuit 76, switches SI, S2, S3, and S4 are arranged so that switches SI and S4 are electrically coupled to one side of the gap sub 78 and switches S2 and S3 are electrically coupled to the other side of the gap sub 78. Switches SI and S3 can be closed to establish the positive polarity pathway such that a voltage applied across gap sub 78 generates a positive EM wave and switches S2 and S4 can be closed to establish the reverse polarity pathway such that the voltage applied across the gap of gap sub 78 generates a negative EM wave. </p><p id="p0094" num="0094">[0097] EM signal generator 72 is configured to receive a telemetry signal from EM controller 70 and to translate the telemetry signal into an alternating current control signal which is then sent to EM amplifier 74. Amplifier 74 is configured to amplify the control signal received from EM signal generator 72 using power from battery 96 and to then send the amplified control signal to H bridge 76 which applies the amplified control signal across the gap of the gap sub with a polarity determined by the settings of the switches in H-bridge circuit 76 to generate EM telemetry signals. </p><p id="p0095" num="0095">[0098] In an example embodiment, EM signal generator 72 comprises a digital to analog converter (DAC) which is controlled to output a waveform that encodes data to be transmitted. The waveform may comprise a sine wave for example and the data may be 
<!-- EPO <DP n="24"/>-->
 encoded in the phase and/or frequency of the waveform. The waveform is amplified by amplifier 74. The gain of amplifier 74 may be set, for example by a configuration file, to adjust the amplitude of transmitted EM telemetry signals to a level that is capable of being received by surface transceiver 26. H-bridge driver 76, applies an alternating voltage across gap sub 78 on the exterior of housing 51. The polarity of H-bridge circuit 76 may be controlled according to the phase of the waveform output by amplifier 74. </p><p id="p0096" num="0096">[0099] The apparatus in Figure 4 is just one of many possible ways of generating EM telemetry signals. Other ways of generating EM telemetry signals may be used with the invention described herein. [0100] EM controller 70 may communicate any information accessible to it to users of a drill rig 10 by providing digital signals encoding such information to EM signal generator 72. For example, EM controller 70 may communicate information measured by one or more sensors and provided to EM controller 70 by the associated sensor controller, such as status sensor controller 52 or interface sensor controller 60. [0101] EM controller 70 may use one or more modulation techniques to encode telemetry data into a telemetry signal comprising EM carrier waves. For example, EM controller 70 may use amplitude shift keying (ASK), frequency shift keying (FSK), phase shift keying (PSK), quadrature phase shift keying (QPSK) or combinations thereof such as amplitude and phase shift keying (APSK). Example MP Telemetry Hardware </p><p id="p0097" num="0097"> [0102] MP controller 80 controls the mud pulse telemetry sub-system by providing signals to a motor driver 82 which then operates motor 84. Motor 84 may then open and/or close valve 86 so as to increase or decrease pressure in the drill string 12 or otherwise induce acoustic pulses or oscillations in the drilling fluid in a pattern that encodes data. MP controller 80 may receive information from the surface by detecting the flow of drilling fluid in drill string 12. For example, a drilling operator may control the flow of drilling fluid in a pattern that conveys information to apparatus 50. This may be implemented, in some embodiments, by communicating the sensor readings of flow switch sensor 54 through status sensor controller 52 to MP controller 80. Alternatively, or in addition, MP 
<!-- EPO <DP n="25"/>-->
 controller 80 may be configured to have direct or indirect access to flow switch sensor 54, pressure sensor 94, or other sensor(s) configured to detect messages received from surface transceiver 26 or actions of a drilling operator without the use of intervening status sensor controller 52. [0103] MP controller 80 may use one or more modulation techniques to encode telemetry data into a telemetry signal comprising mud pulses. For example, MP controller 80 may use amplitude shift keying (ASK), timing shift keying (TSK), or combinations thereof such as amplitude and timing shift keying (ATSK). The keying may optionally be binary keying as in, for example, binary phase shift keying (BPSK) or binary amplitude shift keying (BASK) or binary frequency shift keying (BFSK). The keying may optionally transmit symbols each representing a plurality of bits, for example, using 4PSK or 8PSK keying. </p><p id="p0098" num="0098">[0104] ASK involves assigning each symbol of a defined symbol set to a unique pattern of pulse amplitudes. TSK involves assigning each symbol of a defined symbol set to a unique timing position or combination of timing positions in a time period. </p><p id="p0099" num="0099">[0105] Figure 5 shows an example arrangement of a MP telemetry transmitter. MP telemetry unit 85 may be used in place of the simple combination of motor 84 and valve 86, as shown in Figure 3. MP telemetry unit 85 comprises a rotor and stator assembly 150 and a pulser assembly 152 both of which are axially located inside a drill collar 155 with an annular gap therebetween to allow mud to flow through the gap. The rotor and stator assembly 150 comprises a stator 153 and a rotor 154. Stator 153 is fixed relative to drill collar 155 and rotor 154 is fixed to a drive shaft 156 of the pulser assembly 152. Pulser assembly 152 is also fixed relative to drill collar 155, although this is not shown in Figure 5. The pulser assembly 152 also includes an electrical motor 157 which is powered by battery 96 (not shown in Figure 5) and which is coupled to the drive shaft 156 as well as to associated circuitry 158 which in turn is communicative with the MP controller 80 (not shown in Figure 5). The motor circuitry 158 receives the encoded telemetry signal from the MP controller 80 and generates a motor control signal which causes motor 157 to rotate rotor 154 relative to stator 153 (via driveshaft 156) in a controlled pattern to generate pressure pulses in the drilling fluid flowing through rotor 154. 
<!-- EPO <DP n="26"/>-->
 [0106] The apparatus illustrated in Figure 5 is just one of many possible ways of generating MP telemetry signals. Other ways of generating MP telemetry signals may be used in the systems described herein. </p><p id="p0100" num="0100">Power Management </p><p id="p0101" num="0101">[0107] Power controller 90 is in electrical communication with one or more power sources such as one or more batteries 96 and generally manages the provision of electrical power to all or some of telemetry apparatus 50. In some embodiments, power controller 90 may selectively provide power to any one or more of the controllers and/or their associated sub-systems and/or reduce or cut off power to certain of the controllers and/or sub systems when possible to save power. In some embodiments, power controller 90 may cause certain controllers to switch into a low-power mode, for example, the power controller may cause one or more other controllers to operate at reduced clock rates to save electrical power. Power controller 90 may be provided with a capacitor bank 92 for the short- or long-term storage of energy. [0108] In some embodiments power controller 90 is operable to turn ON or turn OFF the entire downhole system (with the possible exception of power controller 90 which may remain powered to enable turning the downhole system back ON in selected </p><p id="p0102" num="0102">circumstances). Controller 90 may also be operable to selectively enable or disable individual telemetry units (e.g an EM telemetry unit and a MP telemetry unit), sensor systems etc.. Which telemetry units, sensor systems etc. are powered at any given time may be determined by a configuration file for power controller 90. </p><p id="p0103" num="0103">[0109] In some embodiments, power controller 90 comprises or is connected to receive an output from a pressure sensor 94. Pressure sensor 94 senses pressure within the drill string. This pressure typically varies with depth in the wellbore. Power controller 90 may be configured to control power to certain sub-systems or controllers based on the output of pressure sensor 94. For example, power controller 90 may be configured to inhibit operation of the EM telemetry sub-system (e.g. by cutting off power to all or part of the EM telemetry sub-system) when housing 51 is at or near the surface (for example, by detecting an output from pressure sensor 94 indicating low pressure). This feature may 
<!-- EPO <DP n="27"/>-->
 improve safety by avoiding charging the exterior of housing 51 to significant voltages while housing 51 is at or near the surface. </p><p id="p0104" num="0104">[0110] Power controller 90 may optionally provide readings of pressure sensor 94 to other controllers either in response to requests from the other controllers or otherwise. In some embodiments, power controller 90 or one or more other controllers may be configured to switch system 50 among a number of different operational modes in response to changes in the readings from pressure sensor 94. For example, the different operational modes may transmit different data to the surface and/or transmit that data using different arrangements of one or more telemetry sub-systems. For example, for some depths system 50 may use EM telemetry, for other depths system 50 may use MP telemetry, at other depths, system 50 may use both EM and MP telemetry concurrently. </p><p id="p0105" num="0105">[0111] Power controller 90 may be connected to operate switches that connect or disconnect other parts of apparatus 50 from battery power. For example, when apparatus 50 is operating in a mode in which one telemetry system is not used, power management controller 90 may disconnect the supply of electrical power to the telemetry subsystem (including its controller). In a period when sensors are not being read, power management controller 90 may disconnect electrical power to the sensors and/or an interface to the sensors (e.g. interface sensor controller 60). </p><p id="p0106" num="0106">[0112] In some embodiments a separate power controller is not required. The functions of power controller 90 may be combined with those of another controller and/or distributed among other controllers in apparatus 50. For example, a controller may act as a power controller for an EM telemetry subsystem 75 and a sensor interface 60 as well as act as a controller for an MP telemetry subsystem. </p><p id="p0107" num="0107">[0113] Figure 3 A shows an example embodiment in which a power control system 85 includes a power controller 90 connected to control operation of switches SI, S2, S3 and S4. SI controls power to RX Unit and sensor interface 60. S 2 controls power to EM system 75. S3 controls power to flow sensor 54. S4 controls power to pulser unit 80. Additional switches (not shown) may be provided to control connection of electrical power to other circuits of a downhole system. 
<!-- EPO <DP n="28"/>-->
 [0114] The various controllers of control system 42 may be in communication via a data communications bus, such as a CAN (controller area network) bus 98. In other embodiments, the controllers may be in communication via any other suitable protocol, on physical or wireless networks, or in any other manner now known or later developed. [0115] A downhole system according to any of the embodiments described herein may be in communication with other sensors, systems, components, devices or the like via data bus 98 or otherwise. For example, control system 42 may also, or alternatively, be in communication with a near-bit tool, which may provide to control system 42 </p><p id="p0108" num="0108">measurements taken near to drill bit 14. Such measurements may be transmitted by telemetry system 40 in any of the ways disclosed herein. </p><p id="p0109" num="0109">[0116] In some embodiments, control circuitry (such as control system 42 and data bus 98) and other devices (such as capacitor bank 92) are integrated onto one or more short (e.g. 12-inch-long) carrier boards, together constituting a control system inside of housing 51. In some embodiments, the components of telemetry apparatus 50 are arranged in the following sequence: valve 86, motor 84, control system, gamma system 64, direction and inclination system 62, and battery 96. Such embodiments may be used in either orientation (i.e. valve 86 positioned on either the uphole or downhole end), but positioning valve 86 on the downhole end of the probe may reduce damage from the flow of drilling fluid on the seals of the probe. [0117] It can be appreciated that at least some embodiments provide a single set of sensors and a system for managing data from the sensors while providing the flexibility to transmit any of the data by way of any one or more of a plurality of different telemetry links. In some embodiments data (whether the same data or different data) may be transmitted concurrently on two or more telemetry links. In some embodiments the system has a configuration which permits each of two or more telemetry systems (which may operate using physical principles different from one another) to operate independently of one another. A power management system may control the supply of power to the telemetry links from a common power source or set of power sources thereby facilitating better power management than would be possible if each telemetry link was powered from a separate source. 
<!-- EPO <DP n="29"/>-->
 Example Data Transmission Methods and Configurations </p><p id="p0110" num="0110">[0118] In an example embodiment, a downhole system as described herein can be configured to transmit data in any of a number of different modes which differ from one another in respect of which telemetry systems are available and/or which telemetry systems are used to transmit data and/or in cases where more than one telemetry systems are available to transmit data which data is transmitted using each telemetry system and/or which parts of the downhole system are powered off. </p><p id="p0111" num="0111">Example Telemetry Modes </p><p id="p0112" num="0112"> [0119] Different modes may specify the use of different telemetry systems or </p><p id="p0113" num="0113">combinations of telemetry systems to transmit telemetry data. </p><p id="p0114" num="0114">EM-only and MP-only modes </p><p id="p0115" num="0115"> [0120] For example, a downhole system as described herein such as system 40 or 40A or 50 may have an EM-only mode (in which only an EM telemetry system -e.g. 46A, 85 is used to transmit data), an MP-only mode (in which only an MP telemetry system 46B, 75 is used to transmit data), or a concurrent telemetry mode (in which both the EM and MP telemetry systems are active and available to transmit data and may transmit data concurrently). In some embodiments, EM telemetry system 46 A or 85 is powered down when system 40 is in MP-only mode and MP telemetry system 46B or 75 is powered down when system 40 is in EM-only mode. [0121] Use of an EM-only mode can be particularly advantageous during times where there is no flow of drilling fluid ("Flow-off conditions). At these times electrical interference is minimized and MP telemetry is not practical. EM telemetry may be used during these periods, for example, for rapid transmission of survey data. Sending survey data during pump-off conditions avoids delays waiting for survey data to be transmitted by MP telemetry after fluid flow is resumed. Furthermore, during pump-off conditions EM telemetry is typically least affected by noise and can be achieved from deeper depths and/or using lower power than would be required to transmit the same data while drilling is in progress. Use of an MP-only mode can be particularly advantageous while active drilling is occurring. 
<!-- EPO <DP n="30"/>-->
 Concurrent telemetry modes </p><p id="p0116" num="0116"> [0122] When transmitting data in a concurrent telemetry mode, the telemetry system 40 may be configured to transmit in a concurrent confirmation mode wherein the same telemetry data or closely similar but different telemetry data is transmitted by both of the EM and MP telemetry systems, or in a concurrent shared mode wherein some of the telemetry data is transmitted by the EM telemetry system, and the rest of the telemetry data is transmitted by the MP telemetry system. Combined modes are also possible (for example certain data may be transmitted by both of the EM and MP telemetry systems while other data is transmitted only by one of the EM telemetry system and the MP telemetry system). In other embodiments, modes of telemetry other than EM and MP telemetry may be used alone or in combination with MP and/or EM telemetry modes and/or in combination with one another. </p><p id="p0117" num="0117">Concurrent Confirmation Mode </p><p id="p0118" num="0118"> [0123] The concurrent confirmation mode permits surface equipment (e.g. surface transceiver 26) or operators to compare the same data that has been transmitted by both telemetry units 46A, 46B or 75, 85 and which can be received and compared to each other at surface. In the concurrent confirmation mode, EM telemetry 46 A and MP telemetry 46B are configured to transmit the same data roughly concurrently. The recipient of these two signals (e.g. surface equipment or an operator on the surface) can then decode them and compare the data transmitted by each of the telemetry systems 46. If the data matches, the recipient may take that as an indication that telemetry systems 46 are operating correctly. If the data do not match, then the recipient may attempt to correct its decoding methods or apparatus or may conclude that one or more of telemetry systems 46 is not operating correctly. In this way, a concurrent confirmation configuration profile may serve as a "system test" mode, or may offer additional redundancy when critical data is being transmitted. This is discussed in greater detail below with reference to Figure 14. </p><p id="p0119" num="0119">[0124] In a concurrent confirmation mode, one of the telemetry units 46A, 46B or 75, 85 may be designated to be the primary or main transmitter. In some embodiments the MP telemetry unit 46B, 75 is set as the default primary transmitter. The controller for the primary telemetry unit may control requests for measurements to the sensors (e.g. sensors 54, 56, 58, 62, 64, 66, 94) and mirror the received measurement data to the controller for 
<!-- EPO <DP n="31"/>-->
 the other telemetry unit. In some embodiments, the flow and RPM sensor measurement data may be used to trigger transmission of EM and MP telemetry data. </p><p id="p0120" num="0120">[0125] In some embodiments data sent in a concurrent confirmation mode by different telemetry units may be similar but different. For example, data sent on one telemetry unit may include a parameter value sampled at a first time and data sent on another telemetry unit may comprise the same parameter value sampled at a second time different from the first time. In an example embodiment the first and second times are within a fraction of a second (e.g. within 100 ms or 50 ms) of one another. </p><p id="p0121" num="0121">[0126] A concurrent confirmation mode may be useful for determining which of two or more telemetry systems is better under current drilling conditions. Each system may transmit the same data at its own speed. The functionality of each telemetry system may be fully exploited. Critical information will be transmitted to the surface even if one telemetry system is not working well in the current drilling conditions. </p><p id="p0122" num="0122">[0127] Another application of concurrent confirmation mode is to test whether a particular telemetry system can be used effectively while ensuring that the necessary data will be received by transmitting the same data on another telemetry system. For example, when drilling an exploratory well it may not be known whether downhole conditions are amenable to EM telemetry. With EM and MP telemetry systems operating in a concurrent confirmation mode drilling can proceed even if EM telemetry proves to be impractical given the downhole conditions. If it turns out that the EM telemetry is functioning well then the speed advantage of EM telemetry over MP telemetry may be applied to allow the well to be drilled faster. </p><p id="p0123" num="0123">[0128] In embodiments where a downhole system has backup sensors (e.g. backup sensors 67), in some embodiments a downhole system operating in a concurrent confirmation mode is configured to send data from main sensors using one telemetry system and corresponding data from the backup sensors using another telemetry subsystem. This permits verification of the reliability of the sensor readings themselves. In an alternative mode, one telemetry subsystem may send averages of readings from main and backup 
<!-- EPO <DP n="32"/>-->
 sensors and the other telemetry subsystem may send readings from one or both of the main and backup sensors. </p><p id="p0124" num="0124">[0129] In some embodiments, a downhole system operating in a concurrent confirmation mode is configured to obtain data representing a value of one sensor at two spaced apart times and to transmit one of the resulting values using a first telemetry subsystem and another of the resulting values using a second telemetry subsystem. Since the values may be obtained at closely spaced apart times, comparison of the values may be used to assess the reliability of data transmission. In this mode the surface equipment can obtain faster sampling of the values of the sensor output than it would receive using a concurrent confirmation mode in which the same sensor reading was transmitted twice once by each of two different telemetry subsystems. This technique may be used, for example, to transmit values from higher density gamma logging. </p><p id="p0125" num="0125">Example Application of Concurrent Confirmation Mode </p><p id="p0126" num="0126"> [0130] For transmissions made in the concurrent confirmation mode and referring to Figure 14, the surface transceiver 26 and computer 32 may process and decode each EM and MP telemetry signal into their respective measurement data sets. The computer 32 may perform an error check bit matching protocol against each decoded data set and then assign a confidence value to each data set. The computer 32 may use error check bit matching protocols known in the art, such as a 1 bit parity check or a 3 bit cyclic redundancy check (CRC). More particularly, the downhole telemetry apparatus 50 may add CRC bits to the telemetry signal e.g. at the end of the telemetry signal ("telemetry data bits"), and the decoders of the surface transceiver 26 may be provided with the matching CRC bits ("error check bits") that will be compared to the CRC bits in the telemetry signals to determine if there were errors in the telemetry signal. [0131] In one embodiment, each data set can be assigned one of three confidence values corresponding to the following: </p><p id="p0127" num="0127"> • High confidence - telemetry data bits match error check bits. </p><p id="p0128" num="0128"> • Medium confidence - telemetry data bits only match error check bits after </p><p id="p0129" num="0129"> modification of selected thresholds, e.g. amplitude threshold. 
<!-- EPO <DP n="33"/>-->
 • No confidence - telemetry data bits do not match error check bits, even after modification of selected thresholds. </p><p id="p0130" num="0130">The surface transceiver 26 may determine the signal to noise ratio of each received EM and MP telemetry in a manner that is known in the art. </p><p id="p0131" num="0131">[0132] The surface transceiver 26 may then compare the EM and MP data sets, and determine whether the data sets are sufficiently similar to meet a predefined match threshold; if yes, then the data sets are considered to match. More particularly, when both data sets are encoded using the same number of bits, the decoded data sets should have an exact match. In some embodiments the same or similar data values are encoded to a first precision using a first number of bits for transmission on a first telemetry subsystem or mode and are encoded to a second precision using a second number of bits for </p><p id="p0132" num="0132">transmission by a second telemetry subsystem or mode. When the data sets are encoded using different numbers of bits to represent the same measurement data, the match threshold is met so long as the error between the two decoded data sets is within a specified range, e.g. less than the difference between a 1 bit change. </p><p id="p0133" num="0133">[0133] When the two data sets match and both have at least a medium confidence value, then either data set can be used to recover the measurement data. When the EM and MP data sets do not match, and both EM and MP data sets are assigned the same high or medium confidence value, the surface transceiver 26 may select the data set having the highest detected signal-to-noise ratio. When the EM and MP data sets do not match and the MP and EM data sets are assigned different confidence values, the surface transceiver 26 may select the data set having the highest confidence value. When both the EM and MP data sets are assigned a no confidence value, the surface transceiver 26 may output a "no data" signal indicating that neither data set is usable. </p><p id="p0134" num="0134">Concurrent Shared Mode </p><p id="p0135" num="0135"> [0134] The concurrent shared mode operates like two separate telemetry systems. In this mode, each of the MP and EM telemetry units 46A and 46B or 75, 85 may be configured to obtain certain measurement data from sensors (e.g. some or all of sensors 54, 56, 58, 62, 64, 66, 94) and encode and transmit this data. For example, EM controller 70 may be configured to read gamma, shock and vibration measurements and encode these 
<!-- EPO <DP n="34"/>-->
 measurements into an EM telemetry signal, and MP controller 80 may be configured to read toolface measurements and encode these measurements into a MP telemetry signal. </p><p id="p0136" num="0136">[0135] A downhole system may be configured to cause more critical measurement data to be transmitted by the telemetry subsystem which is expected to be more reliable or faster during the present drilling conditions, and less critical measurement data to be transmitted by the other telemetry subsystem. Reliability of different telemetry subsystems may be measured on an ongoing or periodic basis. Which telemetry subsystem is faster or more reliable may change as depth and other drilling conditions change. </p><p id="p0137" num="0137">[0136] An example method that may be applied for assessing the relative reliability of telemetry data and selecting a telemetry mode based on that assessment is described below in relation to Figure 14. In some embodiments, a telemetry subystem is configured to periodically transmit predetermined test transmissions and the reliability of the data channel carried by the telemetry subsystem is evaluated by decoding the test transmissions and comparing the decoded test transmissions to the known content of the test transmissions. Such test transmissions may, additionally or in the alternative, be applied to monitor variations in attenuation of the transmitted telemetry system with depth in the wellbore. Such attenuation information may be applied to control the transmission of telemetry signals to compensate for such attenuation while conserving electrical power when possible. [0137] As another example, where measures of reliability and timeliness (latency) for different telemetry modes is available, data may be allocated among the telemetry modes based on different factors for different data types. For example, for a first data category high confidence in the decoded data may be a primary concern. Data in the first data category may be transmitted using the telemetry mode for which the reliability measure indicates highest confidence in the transmitted data. For a second data category timeliness may be a primary concern. Such data may be transmitted using the telemetry mode for which the timeliness measure indicates lowest latency. </p><p id="p0138" num="0138">[0138] In some embodiments there is a third category of data for which both high confidence in the decoded data are important. The third category is not necessarily distinct 
<!-- EPO <DP n="35"/>-->
 from the first and/or second categories. In such cases data in the third category may be transmitted using two telemetry modes, a faster but less reliable mode and a slower but more reliable mode. In some such embodiments, surface equipment decodes the data transmitted by the faster but less reliable mode when that data is received and makes that decoded data available, when the same data is received by the slower but more reliable mode the surface equipment may update the data, particularly if the decoded second- received data differs from the less-reliable first-received data. Where the data is displayed on a display the display optionally includes an indication as to the level of reliability of the data currently being displayed. In some embodiments the display includes an indication as to whether or not and/or when more-reliable data is expected to be available for display. </p><p id="p0139" num="0139">[0139] In some embodiments, allocation of data to different telemetry subsystems comprises assigning a set of data for transmission to one telemetry subsystem. The set of data may be ordered according to priority with most-important data first. A time limit may be pre-set for completing transmission of the set of data. If it becomes apparent that transmission of the set of data will not be completed by the time limit then some of the set of data may be redirected for transmission on an alternative telemetry subsystem. In addition or in the alternative, a minimum bit-rate may be set for transmission of the set of data. If the minimum bit rate is not met by the assigned telemetry subsystem then some of the set of data may be redirected for transmission on the alternative telemetry system. [0140] In one embodiment of the concurrent shared telemetry mode, one telemetry unit 46A, 46B or 75, 85 will transmit its telemetry signal regardless of whether the other telemetry unit 46A, 46B or 75, 85 is functioning or has failed. As described in more detail herein, a downhole system may be configured to switch telemetry modes in response to receipt of a downlink command from a surface operator, such as a command to switch from the concurrent shared mode to the MP-only mode when the operator detects that the EM telemetry unit 75 has failed. In another embodiment, a telemetry unit 75, 85 which has failed or is not functioning properly is programmed to send a signal over data bus 98. The other telemetry unit 75, 85 which is still functioning may, upon receipt of this signal, be configured to change to an operating mode in which it obtains measurement data from sensors (e.g. sensors 54, 56, 58, 62, 64, 66, 94) which were supposed to be obtained by the 
<!-- EPO <DP n="36"/>-->
 failed telemetry unit 75, 85 in addition to the measurement data the functioning telemetry unit has already been configured to obtain. </p><p id="p0140" num="0140">[0141] In another example of a concurrent mode, EM and MP telemetry units 46A, 46B or 75, 85 may be configured to transmit only some of the same measurement data (e.g. </p><p id="p0141" num="0141">toolface data). This can be useful when it is desirable to verify the accuracy of certain data. In some embodiments the respective EM and MP telemetry units are configured to obtain the same measurement data at the same time, i.e. to synchronize their reading of the measurement data from the relevant sensors. </p><p id="p0142" num="0142">[0142] In one example of a telemetry mode, survey data (e.g. survey data acquired by one or more sensors 54, 56, 58, 62, 64, 66, 94) can be transmitted by EM telemetry unit 46A or 75, wherein the survey data is encoded into an EM telemetry signal and transmitted by the EM telemetry unit 46A or 75 during a drill string idle time, during a period of no mud flow and no drill string rotation. After the survey data has been transmitted, the EM telemetry unit 46A or 75 may power off and other measurement data may be transmitted by MP telemetry unit 46B or 85. </p><p id="p0143" num="0143">Data Unit Splitting e.g. Byte Splitting </p><p id="p0144" num="0144"> [0143] Another type of concurrent shared mode transmits parts of individual data elements using different telemetry units. This approach can help to ameliorate the problem that data rates of all telemetry modes can become very low when drilling deep wells. Consider, for example the case where a telemetry system takes 5 seconds per bit to transmit certain data to the surface from a certain downhole location and the data in question is 12 bits. In this example, it will take at least 5 x 12 = 60 seconds to transmit the data using the telemetry system. The data may, for example, be a value of a single sensor reading. </p><p id="p0145" num="0145">[0144] If a second telemetry system is available then the latency (time between the sensor reading being made and the sensor reading being available at the surface) can be reduced by transmitting some of the bits using each of the telemetry systems. For example, if the second telemetry system can also transmit data from the downhole location at a rate of 5 seconds per bit then each telemetry system may be configured to transmit 6 bits of the data. In this mode, the time taken to transmit the data may be reduced to 5 x 6 = 30 
<!-- EPO <DP n="37"/>-->
 seconds. Thus, splitting a single data element between two or more telemetry channels (e.g. between an EM telemetry channel and a MP telemetry channel) may result in dramatically reduced latency which may, in turn, provide closer to real-time control over the drilling operation. This mode may be called a "concurrent shared byte-splitting" mode (even though the data units being split are not necessarily 8-bit bytes). </p><p id="p0146" num="0146">[0145] In some embodiments a data unit being split is a single number (e.g. a binary number encoding one or more parameter values). In some embodiments the data unit being split comprises an error detecting and/or error correcting code. For example one or more check bits. For example, the data unit may comprise a parity bit, a number of CRC (cyclic redundancy check) bits, or the like in addition to data bits. In an example embodiment a data unit comprises 7 data bits representing data such as toolface data and 3 CRC bits for a total of 10 bits. In some embodiments the data unit comprises 33 or fewer bits. In some embodiments the data unit comprises 7 to 15 bits. In some embodiments an entire data unit or element is required to effectively use the data unit and/or to check the data unit for errors and/or to correct errors in the data unit. </p><p id="p0147" num="0147">[0146] In some embodiments a concurrent shared byte-splitting mode is used to transmit toolface data. In some embodiments toolface data is transmitted in a manner that varies with available data rates. For example, while a first telemetry subsystem (e.g. a MP subsystem) can transmit toolface data at a high rate, then high resolution toolface data may be transmitted using the first telemetry subsystem. If the available data rate drops below a threshold then the high resolution toolface data may be split, some bits of the toolface data may be transmitted using the first telemetry subsystem and other bits of the toolface data may be sent using a second telemetry subsystem (e.g. an EM subsystem). If the data rate drops still further then lower resolution toolface data may be transmitted (again splitting the bits between the first and second telemetry subsystems). In one example embodiment, the high resolution toolface data is 11 bits and the low resolution toolface data is 7 bits. In either case, some data error detecting/correcting bits may also be provided. </p><p id="p0148" num="0148">[0147] In some embodiments the bits of a data unit are allocated among telemetry subsystems in proportion to the bit rate at which the telemetry systems can operate. For example, if from a certain location an EM telemetry subsystem is operable to transmit data 
<!-- EPO <DP n="38"/>-->
 at a rate of 5 bits every 10 seconds and a MP telemetry subsystem is operable to transmit data at a rate of 10 bits every 10 seconds then, to minimize latency of a 12-byte data unit, 8 bytes may be transmitted by way of the MP subsystem and 4 bytes may be transmitted by way of the EM telemetry subsystem. [0148] To facilitate a concurrent shared byte-splitting mode a controller in a downhole system may be configured to obtain a sensor reading and to forward parts of the sensor reading to each of two or more telemetry systems for transmission. As another example, the controller may be configured to forward the entire sensor reading to each of the plurality of telemetry systems and each telemetry system may be configured to transmit a corresponding portion of the sensor reading. As another example, each telemetry system may be configured to obtain the sensor reading and to transmit a corresponding part of the sensor reading. </p><p id="p0149" num="0149">[0149] A range of schemes may be applied to allocate specific bits of a data unit among telemetry subsystems. For example, the bits may be allocated using a round robin scheme such that each of a plurality of telemetry subsystems is allocated one bit or one group of two or more bits in turn. For example, with two telemetry subsystems operating, a first one of the telemetry subsystems may transmit the bits for every odd bit position in the data unit and a second one of the telemetry subsystems may transmit the bits for every even bit position of the data unit. [0150] As an alternative, high-order bits of the data unit may be transmitted by the first telemetry subsystem and low-order bits may be transmitted by the second telemetry subsystem. In this case, the reliability of the data transmissions of the telemetry subsystems may optionally be used to determine which telemetry subsystem is used to transmit the higher order bits of the data unit and which telemetry subsystem is used to transmit the lower-order bits of the data unit. For example, the more reliable (lower error rate) telemetry subsystem may be used to transmit the lower order bits in cases where the higher order bits are less likely to change between subsequent sensor readings. </p><p id="p0150" num="0150">[0151] The allocation of bits of certain data units among a plurality of telemetry subsystems may be done according to a predetermined configuration profile (as discussed 
<!-- EPO <DP n="39"/>-->
 below). In other embodiments, allocation of bits of certain data units among telemetry subsystems may be set up using downlink commands or set up automatically at a downhole system (which may then communicate this bit allocation to surface equipment using one or more of the telemetry systems). The surface equipment is configured to receive, decode and combine the bits to recover the transmitted data. </p><p id="p0151" num="0151">[0152] In some embodiments, one or more of the telemetry systems is configured to transmit symbols that each represent N-bits (where N is less than the size of a data unit to be transmitted) and the downhole system is configured to send N bits of the data unit using the telemetry system and to send the rest of the data unit using one or more other telemetry systems. </p><p id="p0152" num="0152">[0153] By being able to operate in a number of different telemetry modes, downhole systems as described in the present examples offer an operator flexibility to operate the system in a preferred manner. For example, the operator can increase the transmission bandwidth of the telemetry tool by operating in the concurrent shared mode, since both the EM and MP telemetry systems are concurrently transmitting telemetry data through separate channels. Or, the operator can increase the reliability and accuracy of the transmission by operating in the concurrent confirmation mode, since the operator has the ability to select the telemetry channel having a higher confidence value. Or, the operator can conserve power by operating in one of MP-only or EM-only telemetry modes. Or the operator can reduce latency for transmission of individual parameters or other blocks of information by operating in a 'byte-splitting' mode. </p><p id="p0153" num="0153">[0154] Further, the operator can choose the MP-only or EM-only modes based on which mode best suits the current operating conditions; for example, if the reservoir formation requires an EM telemetry system to transmit at a very low frequency in order for an EM telemetry signal to reach surface, the resulting low data rate may prompt the operator to select to transmit using the MP-only mode. Conversely, when there is no mud flowing (e.g. while air drilling), the operator can select the EM-only mode to transmit telemetry data. The flexibility of downhole systems according to preferred embodiments described herein facilitates configuring such downhole systems to promote benefits such as: faster 
<!-- EPO <DP n="40"/>-->
 data communication, better energy efficiency, more reliable data communication; and/or more flexible data communication. </p><p id="p0154" num="0154">Testing Modes </p><p id="p0155" num="0155"> [0155] Some embodiments provide testing modes for different telemetry systems. In such a testing mode a telemetry system may be operated to transmit predetermined data for receipt and analysis at the surface. </p><p id="p0156" num="0156">[0156] By offering a variety of different telemetry modes in which telemetry signals can be transmitted by the telemetry apparatus 50 and received by the surface transducer 26, the telemetry system offers an operator great operational flexibility. The telemetry apparatus 50 can be instructed to transmit at the highest data rate available under current operating conditions; for example, if the telemetry apparatus 50 is at a location that the EM telemetry unit 75 must transmit an EM telemetry signal at a very low frequency in order to reach surface and which results in a data rate that is lower than the data rate of the MP telemetry unit 85, the surface operator can send a downlink command to instruct the telemetry apparatus 50 to transmit using the MP telemetry unit 85. Further, the telemetry apparatus 50 can be instructed to transmit in one telemetry mode when the operating conditions do not allow transmission in the other telemetry mode; for example, the telemetry apparatus 50 can be instructed to transmit in the EM-only telemetry mode when no mud is flowing. Further, the telemetry apparatus 50 can be operated in a concurrent shared mode effectively double the number of telemetry channels thereby increasing the overall data transmission bandwidth of the telemetry apparatus 50. Further, the reliability of the telemetry apparatus 50 can be increased by transmitting in the concurrent confirmation mode and selecting the telemetry data having the highest confidence value. Further, if one telemetry subsystem fails or is not useable in current conditions then another telemetry system may be used to allow continued drilling. </p><p id="p0157" num="0157">Surface Equipment Synchronization </p><p id="p0158" num="0158"> [0157] To decode transmissions received from a downhole system, surface equipment needs to know the way in which the data has been encoded. This may be done in a variety of ways. For example: 
<!-- EPO <DP n="41"/>-->
 In some embodiments, the specific data to be encoded by the downhole system and the way in which that data is encoded is predetermined. The downhole system is configured to transmit the data using the predetermined scheme and the surface equipment is configured to decode the data using knowledge of the predetermined scheme. </p><p id="p0159" num="0159"> In some embodiments different groups of data are transmitted by the downhole system according to different predetermined schemes. Surface equipment may be configured to decode the data and to determine which scheme has been used for each set of received data based on information in the data (e.g. a frame header, an ID code, or the like). </p><p id="p0160" num="0160"> Encoding schemes may be selected and/or set up after the downhole system has been deployed. This may be done, for example, when the downhole system is relatively near to the surface and so reliable relatively high bandwidth </p><p id="p0161" num="0161">communication is available. In some such embodiments, telemetry information such as one or more aspects of data selection and/or encoding methods for data and/or telemetry mode and/or data ordering may be determined at the downhole system and transmitted to the surface equipment. This transmission may be done using a predetermined protocol. For example, the surface system may be configured to wait for a binary status message that indicates how the surface system should decode received telemetry transmissions. The telemetry information may be subsequently used by the surface equipment to decode telemetry data received by the surface equipment. </p><p id="p0162" num="0162"> In some embodiments, a single telemetry subsystem (e.g. an EM telemetry subsystem) may be used to transmit telemetry information for all or a group of telemetry subsystems. In some embodiments the downhole system may determine the telemetry information based in part on the operational status and availability of telemetry subsystems. </p><p id="p0163" num="0163"> In some embodiments, one telemetry subsystem may be used to transmit telemetry information for another telemetry subsystem and vice versa. For example, an EM telemetry subsystem may be used to transmit to surface equipment telemetry information required for decoding telemetry data from a downhole MP telemetry subsystem and a MP telemetry subsystem may be used to transmit to surface 
<!-- EPO <DP n="42"/>-->
 equipment telemetry information required for decoding telemetry data from a downhole EM telemetry subsystem. </p><p id="p0164" num="0164"> • The downhole system may transmit status messages that indicate changes in </p><p id="p0165" num="0165"> telemetry modes, what data is being transmitted, how that data is formatted, whether byte-sharing is occurring, and /or other data required or useful for decoding the telemetry data at the surface. </p><p id="p0166" num="0166">[0158] In an example embodiment an EM telemetry system is used to transmit information regarding the encoding of data transmitted by an MP telemetry system. This may significantly reduce the amount of time required to start receiving and decoding data by way of the MP telemetry system. In the case where there are a plurality of available EM telemetry channels (e.g. two EM telemetry systems are downhole) optionally one EM telemetry channel may be dedicated to providing telemetry information for other telemetry channels (e.g. for a MP telemetry channel and/or for another EM telemetry channel). The control information may be encoded and transmitted, for example, according to a predetermined format. </p><p id="p0167" num="0167">[0159] Telemetry information in any embodiment may comprise, for example, an index identifying a predetermined configuration profile, data indicating an encoding scheme, data indicating a telemetry mode, and/or other data that provides information necessary or useful for detecting and/or decoding at the surface equipment received telemetry transmissions. </p><p id="p0168" num="0168">Mode Switching </p><p id="p0169" num="0169"> [0160] A downhole system (e.g. 40, 40A, 50) may be caused to shift among the available modes in various ways. These include: </p><p id="p0170" num="0170">• receiving a downlink command from surface equipment; </p><p id="p0171" num="0171"> • receiving user input prior to deployment of the downhole system; </p><p id="p0172" num="0172"> • automatically changing modes in response to detected drilling status; </p><p id="p0173" num="0173"> • automatically changing modes in response to one or more measurements collected by sensors of the downhole system; 
<!-- EPO <DP n="43"/>-->
 automatically changing modes in response to the status of the downhole system (e.g. power availability, failure of a component, activation or deactivation of one or more sub-systems of the downhole system - for example, an EM telemetry system, an MP telemetry system etc.). Deactivation of a subsystem of a downhole system may be due to, for example, damage, malfunction, an automated process, user instruction, intentional or unintentional power loss, conditions that impair the effectiveness of the telemetry system and/or any other reason); </p><p id="p0174" num="0174"> automatically changing modes in response to conditions affecting one or more telemetry systems (e.g. excessive current draw for an EM telemetry system, insufficient flow for a MP system); </p><p id="p0175" num="0175"> automatically changing modes at predetermined times; and, </p><p id="p0176" num="0176"> combinations of these. </p><p id="p0177" num="0177">[0161] In some embodiments the downhole system may be configured to perform telemetry in a certain way or ways by loading one or more configuration profiles at the surface. The tool may then operate in one configuration for an entire downhole deployment. In other embodiments the downhole system may be configured to switch among two or more different modes in response to commands from the surface (whether transmitted by a downlink telemetry system or through predetermined patterns of operation of the drill string and/or drilling fluid system) and or automatically in response to certain events and or conditions. </p><p id="p0178" num="0178">[0162] In some embodiments a downhole system is loaded with configuration information that specifies each of a sequence of operating modes in a predetermined order. In such embodiments a very short command may suffice to control the downhole system to switch to a next one of the sequence of modes. [0163] In some embodiments, downlink commands are provided by downlink EM telemetry. </p><p id="p0179" num="0179">[0164] In some embodiments, switching among different modes is achieved by switching among corresponding configuration profiles which specify the attributes of the different modes as described in more detail below. 
<!-- EPO <DP n="44"/>-->
 [0165] Where a telemetry subsystem is reconfigured to transmit data in a different way (e.g. to change an encoding scheme, the format in which data is presented in telemetry signals etc.) the surface equipment must also be reconfigured to properly decode received telemetry signals. Given the problems of communicating with a downhole system at significant depths there can be cases where it is unknown whether a downlink command has been received and acted on by a downhole system. In some embodiments, when a downhole system reconfigures one telemetry subsystem, the downhole system is configured to transmit confirmation information on another telemetry system that confirms the change. The confirmation information may optionally include information that specifies or identifies the new mode. For example, when an EM system is reconfigured to a lower frequency and/or a different number of cycles per bit and/or a different encoding scheme, information may be transmitted to the surface equipment by a MP telemetry subsystem that confirms that the EM telemety subsystem is now reconfigured. Similarly, an EM telemetry subsystem may be used to send confirmation information confirming that an MP telemetry subsystem has been reconfigured. </p><p id="p0180" num="0180">Example Applications of Mode Switching Example 1 </p><p id="p0181" num="0181"> [0166] In one example embodiment, a downhole system 40, 40A, 50 is configured (e.g. by suitable software) to start operating initially using a selected telemetry mode, and to change to a different telemetry mode in response to a downlink command from surface equipment. </p><p id="p0182" num="0182">Example 2 </p><p id="p0183" num="0183"> [0167] In another example embodiment, in a first mode EM telemetry 46A and MP telemetry 46B are both active and available for transmission. The first mode may be a 'concurrent shared' mode in which EM telemetry 46A is configured to transmit the most recent measurements from direction and inclination system 62, together with </p><p id="p0184" num="0184">measurements from one or more of the remaining sensors. In the first mode MP telemetry 46B may be dedicated solely to the transmission of the most recent measurements from gamma system 64. In the first mode telemetry systems 46 transmit data independently so as to obtain a corresponding increase in the total bandwidth of telemetry system 40. 
<!-- EPO <DP n="45"/>-->
 [0168] Further, in this example, control system 42 may be configured such that, if MP telemetry 46B is deactivated or if an appropriate instruction is received from the surface, then control system 42 may switch to a second "EM-only" mode. Control system 42 may send a status message prior to switching modes. The status message informs surface equipment of the change in mode. </p><p id="p0185" num="0185">[0169] In the EM-only mode the downhole system may be configured to cause EM telemetry 46A to transmit the most recent measurement from gamma system 64 on every other frame (e.g. on odd numbered frames), leaving the remaining (e.g. even numbered frames) to be used for other desired data. In the alternative, the second mode may configure telemetry systems 46 to operate independently such that, in the event that one telemetry system 46 is deactivated, the remaining telemetry system(s) 46 continue to operate without changing their behaviour. A change in behaviour may still be caused by, for example, transmission of an instruction to change configuration profiles from the surface to the bottom hole assembly. [0170] Control system 42 may, in response to certain sensor readings disable or suspend operation of one or more telemetry systems. For example the system may include a sensor connected to measure current of an EM signal. If the current exceeds a threshold then the EM system may be shut down or placed in a non-transmitting mode. In this event the system may automatically switch over to a "MP-only" configuration profile. The MP only profile may both specify that the EM system should be shut off or inhibited and specify data to be transmitted by MP telemetry in a specific sequence. </p><p id="p0186" num="0186">[0171] Other sensor readings that may prompt a change in configuration profile may, for example, include failing to detect MP pressure pulses at a downhole pressure sensor or receiving pressure sensor readings that indicate that a valve used for generating MP pulses is jamming or otherwise malfunctioning. Control system 42 may be configured to switch over to an "EM only" configuration profile in response to detecting such sensor readings. The EM only profile may both specify that the MP system should be shut off or inhibited and specify specific data to be transmitted by EM telemetry in a specific sequence. 
<!-- EPO <DP n="46"/>-->
 [0172] In some embodiments, control system 42 may automatically change profiles in response to such a sensor reading. In some embodiments, such a sensor reading may result in the transmission of one or more "status" frames to the surface indicating the sensor reading; this enables a surface operator to respond with an instruction to change configuration profiles. </p><p id="p0187" num="0187">[0173] In some embodiments a system may be configured to use MP telemetry only and to switch to EM telemetry in the event that the MP system is not able to function properly (either because of a malfunction or due to downhole conditions being unsuitable for MP telemetry). More generally, in some embodiments a system may be configured to use a first telemetry mode only and to switch to another telemetry mode if the first telemetry mode is not able to function at at least a minimum performance level. </p><p id="p0188" num="0188">Example 3 </p><p id="p0189" num="0189"> [0174] In another example, the downhole system (or surface equipment) is configured to periodically determine the cost per bit of data transmitted of a plurality of available telemetry subsystems. The cost may be measured in terms of energy consumption and/or efficiency (e.g. a cost penalty may be applied to a telemetry subsystem that has a slow data rate or is unreliable). Based on the cost information the downhole system may </p><p id="p0190" num="0190">automatically be switched between different operating modes (e.g. an EM-only mode, an MP-only mode, any of various shared modes which may differ in the total amount of data to be transmitted and/or the allocation of that data between an EM telemetry subsystem and an MP-telemetry subsystem). </p><p id="p0191" num="0191">[0175] As another example, a user of the downhole system may pay different rates for data transmitted by different telemetry subsystems. Based on economic cost information the downhole system may be switched manually or automatically between different operating modes, for example, the downhole system may automatically switch to a lower- cost telemetry mode or switch an allocation of data so that less data is sent on a higher- cost telemetry mode when a budget has been reached for transmitting data using the higher-cost telemetry mode. In some embodiments the higher-cost telemetry mode is an EM telemetry mode 
<!-- EPO <DP n="47"/>-->
 Configuration Profiles </p><p id="p0192" num="0192"> [0176] In some embodiments, configuration profiles are used to facilitate specifying the particular characteristics of different operating modes and to facilitate switching among two or more different modes. A configuration profile comprises information that may be stored electronically. The information may comprise software instructions for execution by one or more controllers and/or data such as flags, parameter values, settings, or the like that can be applied to alter the operation of a downhole system. Telemetry apparatus 50 may contain a set of configuration profiles stored in one or more data stores. The configuration profiles may configure many aspects of the operation of apparatus 50. The operation of apparatus 50 may then be changed by switching from one configuration profile to another. In some embodiments a configuration profile comprises separate sets of instructions and/or data for each of a plurality of controllers. Each controller may operate as determined by the corresponding set of instructions and/or data. </p><p id="p0193" num="0193">[0177] Configuration profiles may be stored in data storage 204, or in some other memory or location accessible to one or more controllers of control system 42. </p><p id="p0194" num="0194">[0178] For example, different configuration profiles may respectively configure apparatus 50 to operate in: 1) an MP-only telemetry mode, wherein only the MP telemetry unit 85 is used to send telemetry signals via mud pulses; 2) an EM-only telemetry mode, wherein only EM telemetry unit 75 is used to send telemetry signals via EM signals; 3) a concurrent shared telemetry mode wherein both EM and MP telemetry units 75, 85 are used concurrently to transmit data, and wherein some of the data is sent by EM telemetry signals and the rest of the data is sent by MP telemetry signals; and 4) a concurrent confirmation telemetry mode, wherein both EM and MP telemetry units 75, 85 are used to transmit the same data. Apparatus 50 may be placed into any one of these modes by making the corresponding configuration profile active. </p><p id="p0195" num="0195">[0179] A configuration profile may include executable instructions and/or data which are collectively executed and/or interpreted by apparatus 50 to cause apparatus 50 to perform in a manner specified by the configuration profile. The ability to change the operation of apparatus 50 using electronically storable configuration profiles enables apparatus 50 to be readily reconfigured to work in a wide range of applications. 
<!-- EPO <DP n="48"/>-->
 [0180] In some embodiments configuration profiles may comprise software and/ or settings to be executed/interpreted by specific ones of controllers 52, 60, 70, 80, and 90. Switching between different configuration profiles may involve executing a routine which makes software and/or settings associated with a new configuration profile active. </p><p id="p0196" num="0196">Different configuration profiles may, inter alia, specify different telemetry modes. Each of the configuration profiles may cause telemetry apparatus 50 to generate telemetry signals according to a corresponding selected operating configuration specified by instructions and/or settings in the configuration profile. The configuration profiles may, for example, specify factors such as: </p><p id="p0197" num="0197">• the telemetry mode in which telemetry apparatus 50 may operate (e.g. which </p><p id="p0198" num="0198"> telemetry systems will be used, what data will be acquired and transmitted on each telemetry system); </p><p id="p0199" num="0199"> • the type(s) of message frames to be sent in the telemetry transmission(s); </p><p id="p0200" num="0200"> • the composition of the message frame(s), which may include the data type, timing, and/or order of the data in each message frame, specification of any error- correction protocol; and </p><p id="p0201" num="0201"> • one or more modulation schemes to be used to encode the data into telemetry signals. </p><p id="p0202" num="0202">[0181] A set of configuration profiles may include a plurality of configuration profiles which all specify the same general telemetry mode (e.g. MP-only or EM-only etc.). Each configuration profile for that telemetry mode may specify different operating parameters for that telemetry mode. For example, in an EM-only telemetry mode, one configuration profile can be provided with instructions for the telemetry apparatus 50 to encode measurement data using one type of modulation scheme (e.g. QPSK) and another configuration profile can be provided with instructions for the telemetry apparatus 50 to encode measurement data using a different type of modulation scheme (e.g. FSK). Or, different configuration profiles can provide instructions for the EM telemetry unit 75 to transmit telemetry signals at different power outputs wherein a suitable configuration profile is selected depending on the downhole location of the telemetry apparatus 50 and the accompanying attenuation of the earth formation that must be overcome in order for the EM transmission to reach surface. 
<!-- EPO <DP n="49"/>-->
 [0182] In some embodiments a default set comprising a plurality of configuration profiles is stored in system 50. For some jobs the configuration profiles included in the default set may be adequate. </p><p id="p0203" num="0203">[0183] A custom set of configuration profiles may be downloaded onto telemetry apparatus 50, e.g. when telemetry apparatus 50 is at surface. Loading configuration profiles into apparatus 50 may be performed by way of a wired or wireless connection to a host system such as a computer or the internet or a data store in which the desired configuration profiles are available. For example, a connection to a host computer may be made via a USB cable connected from the computer to an interface port connected to data bus 98 by a suitable USB interface. As another example, configuration profiles may be loaded into apparatus 50 by inserting one or more memory cards or other media containing the configuration profiles into suitable interfaces provided by apparatus 50. </p><p id="p0204" num="0204">[0184] In some embodiments, a set of configuration profiles may be loaded for each job. The number of configuration profiles loaded into system 50 for any particular job may depend on the expected operations the rig will perform during the job. Once the operator determines which configuration profiles should form the set of configuration profiles to be downloaded onto the telemetry apparatus 50, a download program on the download computer may be run to download the selected configuration profiles into apparatus 50. </p><p id="p0205" num="0205">[0185] In some embodiments the configuration profiles may each comprise a plurality of parts which are designed to be applied by different controllers. For example, a part of a configuration profile may specify features for EM telemetry transmission and may be intended to be applied by EM controller 70. Another part of a configuration profile may affect power management and may be intended to be applied by power controller 90 and so on. In some embodiments, apparatus 50 has separate memories or memory areas for storing software and/or settings for different ones of controllers 52, 60, 70, 80, 90 of the telemetry apparatus 50. In such embodiments the download program may determine which portion of each configuration profile should be stored for access by each controller and may then save the different parts of each configuration profile to the appropriate data storage locations in apparatus 50. For example, instructions in the configuration profile 
<!-- EPO <DP n="50"/>-->
 relating to operation of the EM telemetry unit 75 may be downloaded only to the memory of the EM controller 70. </p><p id="p0206" num="0206">[0186] When a configuration profile is selected, each affected controller executes the applicable software instructions and/or reads the applicable settings. These </p><p id="p0207" num="0207">instructions/settings cause the controller to carry out its functions in the manner specified by the configuration profile. For example, when EM controller 70 executes a configuration profile portion stored on its memory, the configuration profile may include instructions for whether the EM telemetry unit 75 needs to be active for the telemetry mode specified in the configuration profile. If the specified telemetry mode requires the EM telemetry to be active (e.g. the specified telemetry mode is EM-only or a combined mode), the EM controller 70 may be configured to read measurements taken by or more sensors (e.g. one or more of sensors 54, 56, 58, 62, 64, 66, 94) specified in the configuration profile, encode the measurement data into an EM telemetry signal using a modulation scheme specified in the configuration profile, and cause the components of the EM telemetry unit 75 to transmit the EM telemetry signal according to message frame properties (e.g. type, composition, order, timing) specified in the configuration profile. </p><p id="p0208" num="0208">[0187] In some embodiments, a user of drill rig 10 may cause surface transceiver 26 to transmit one or more control signals to downhole system 20, and in particular to a telemetry system 46 of downhole system 20, instructing telemetry system 40 to select, add, remove, and/or alter a configuration profile, thereby causing the behaviour of telemetry system 40 to change the next time the configuration profile is made active. This facility may be applied, for example, to correct errors in a configuration profile, compensate for problems caused by failure of components and/or adverse telemetry conditions, and/or provide information required to address a problem encountered in drilling. </p><p id="p0209" num="0209">Switching Among Configuration Profiles </p><p id="p0210" num="0210"> [0188] Figure 7 shows an example method 310 for changing the currently active configuration profile of a telemetry system 40. Block 312 is the system state while no change is being undertaken or considered. When a sensor reading is taken, the method goes to block 314 and receives the sensor reading. The system then considers at block 316 
<!-- EPO <DP n="51"/>-->
 whether a change condition has been satisfied. A change condition could be, for example, receiving a sensor reading from EM telemetry 46A indicating that the scale current is exceeding a threshold. For the sake of simplicity, and for the purpose of Figure 7, detecting that a system, such as a telemetry system 46, has become active or inactive is included as a type of "sensor reading". </p><p id="p0211" num="0211">[0189] If receiving the sensor reading causes all of the change conditions associated with an inactive configuration profile to be satisfied, then the method moves to block 318, where the currently active configuration profile is changed to be the configuration profile associated with this satisfied conditions. After changing to the new configuration profile, or if no inactive configuration profile had all of its conditions satisfied, the method returns to block 312. </p><p id="p0212" num="0212">[0190] If a control signal is transmitted to telemetry system 40, the method goes to block 320 to receive the control signal, and then goes to decision block 322. If the received control signal encodes instructions to add, delete or alter a configuration profile (which may include adding, deleting or altering the change conditions associated with any given configuration profile), method 310 proceeds on to block 324 where those additions, deletions or alterations are incorporated by telemetry system 40. Such incorporation may be accomplished, for example, by changing values in a memory, device, structure or service (such as data storage 204) where configuration profiles and their associated change conditions are stored. </p><p id="p0213" num="0213">[0191] Method 310 then moves to block 326 where the current state of the system is reevaluated so as to determine which configuration profile should be active. This process may involve, for example, comparing all of the most recently measured sensor readings against the current set of change conditions, together with the current activity or inactivity status of the various systems of telemetry system 40, and any other information used to determine the currently active configuration profile. Method 310 then returns to block 312. </p><p id="p0214" num="0214">[0192] If in block 322, the instruction was not one to add, delete or alter a configuration profile, then method 310 moves to block 328, where telemetry system 40 determines whether the controller signal encodes instructions to change the currently active 
<!-- EPO <DP n="52"/>-->
 configuration profile. If it does then method 310 moves on to block 330, where the currently active configuration profile is changed to the one indicated by the control signal. Method 310 then moves from block 330, or if the instruction was not changed in configuration from block 328, to block 312. If the configuration was changed in response to an express instructed change to a particular configuration profile, then the telemetry system 40 may, in some embodiments, not change configuration profiles until expressly instructed to do so by a control signal. Telemetry system 40 may also, or alternatively, be configured to continue to assess sensor readings and control signals and change current configuration profiles in response thereto. [0193] Figure 8 shows schematically how telemetry apparatus 50 may be programmed to change its operating configuration in response to a downlink command containing instructions to execute a particular configuration profile. In the illustrated embodiment a surface operator can send a downlink command by vibration downlink 400, RPM downlink 401, or pressure downlink 402 in a manner as is known in art. In other embodiments other types of downlinks may be used. Flow switch sensor 54 and RPM gyro sensor 56 may receive the vibration downlink 400 or RPM downlink 401 commands; the pressure sensor 94 may receive the pressure downlink 202 command. Upon receipt of a downlink command analog signal, the CPU of the status sensor controller 52 or power controller 90 may decode the received signal and extract the bitstream containing the downlink command instructions, in a manner that is known in the art. The status sensor controller 52 or power controller 90 will then read the downlink command instructions and execute the configuration profile portion stored on its memory corresponding to the configuration profile specified in the downlink command, as well as forward the downlink command instructions to the other controllers 52, 60, 70, 80, 90 via data bus 98. Upon receipt of the downlink command instructions, the CPUs of the other controllers 52, 60, 70, 80, 90 may also execute the configuration profile portions in their respective memories that correspond to the configuration profile specified in the downlink command. In particular: the status sensor controller 52 may operate its sensors (e.g. shock sensor 58, gyro sensor 56, and flow switch sensor 54) when instructed to do so in the configuration profile (step 403); 
<!-- EPO <DP n="53"/>-->
 • the EM controller 70 may turn off when the configuration profile specifies operation in an MP-only mode or alternatively only transmit survey data in an MP- only mode (step 404), and will operate the EM telemetry unit 75 according to the instructions in its configuration profile portion when the configuration profile portion specifies operation in the EM-only, concurrent shared, or concurrent confirmation mode (step 405); </p><p id="p0215" num="0215"> • the interface sensor controller 60 may operate its sensors (e.g. D&amp;I sensor 62, gamma sensor 64, and D&amp;I backup sensor 66) when instructed to do so in its configuration profile portion (step 406); </p><p id="p0216" num="0216"> • the MP controller 80 may turn off when its configuration profile portion specifies operation in the EM only mode and may operate the MP telemetry unit 85 when its configuration profile portion specifies operation in the MP-only, concurrent shared, or concurrent confirmation mode (step 407); and </p><p id="p0217" num="0217"> • the power controller 90 may power on or power off the other controllers 52, 60, 70, and 80 as instructed in its configuration profile portion, and may otherwise operate to manage power usage in the telemetry apparatus 50 and shut down operation when a measured pressure is below a specified safety threshold (step 408). </p><p id="p0218" num="0218">[0194] Figures 9 to 12 schematically illustrate example configuration profiles and the steps performed by each of controllers 52, 60, 70, 80, and 90 upon execution of the instructions of their respective portions of the configuration profiles stored in their respective memories. In these examples, it is assumed that the telemetry apparatus 50 is already operating according to a configuration that requires both EM and MP telemetry units to be active, and the sensors (e.g sensors 54, 56, 58, 62, 64, 66, and 92) receive a downlink command (e.g. a vibration, RPM, or pressure downlink command) to execute a new configuration profile. </p><p id="p0219" num="0219">• In Figure 9, a first configuration profile is shown which includes instructions for the telemetry apparatus 50 to operate in a MP-only mode. </p><p id="p0220" num="0220"> • In Figure 10, a second configuration profile is shown which includes instructions for the telemetry apparatus 50 to operate in an EM-only mode. </p><p id="p0221" num="0221"> • In Figure 11 , a third configuration profile is shown which includes instructions for the telemetry apparatus 50 to operate in a concurrent confirmation mode. 
<!-- EPO <DP n="54"/>-->
 • In Figure 12, a fourth configuration profile is shown which includes instructions for the telemetry apparatus 50 to operate in a concurrent shared mode. </p><p id="p0222" num="0222">[0195] Referring to Figure 9, the status sensor controller 52 decodes a downlink command signal (step 501) to obtain downlink command instructions to execute the first configuration profile, and forwards these downlink command instructions to the other controllers 60, 70, 80, 90 (step 502). The power controller 90, upon execution of its first configuration profile portion opens power supply switches to the EM controller 70 and EM telemetry unit 75 to power off these devices (steps 503), and closes power supply switches to the MP controller 80 and MP telemetry unit 85 to power on these devices (steps 504) if these switches are not already closed (in this example they are already closed). The status sensor controller 52, upon execution of its first configuration profile portion, reads flow state and RPM state information from its flow switch sensor 56 and RPM gyro sensor 56, respectively (step 505). The interface sensor controller 60, upon execution of its first configuration profile portion, reads D&amp;I state and gamma state from D&amp;I sensor 62 and gamma sensor 64 (step 506). The MP controller 80, upon execution of its first configuration profile portion, reads the measurement data taken by sensors 54, 56, 62, and 64 (steps 507) and sets the timing of the telemetry transmission based on the flow and RPM measurements, and then operates the MP telemetry unit 85 in the manner specified in its configuration profile portion, which includes encoding the measurement data according to a specified the modulation scheme, and having a specified message frame type, composition, and timing, operating the MP motor to operate the pulser assembly 152 to generate mud pulse telemetry signals (step 508). </p><p id="p0223" num="0223">[0196] Referring to Figure 10, the status sensor controller 52 decodes a downlink command signal (step 601) to obtain downlink command instructions to execute the second configuration profile, and forwards these downlink command instructions to the other controllers 60, 70, 80, 90 (step 602). The power controller 90, upon execution of its second configuration profile portion, opens power supply switches to the MP controller 80 and MP controller (steps 603) to power off these devices, and closes power supply switches to the EM controller 70 and EM telemetry unit 75 to power on these devices (steps 604) if these switches are not already closed (in this example they are already closed). The status sensor controller 52, upon execution of its second configuration profile 
<!-- EPO <DP n="55"/>-->
 portion, reads flow state and RPM state information from its flow switch sensor 56 and RPM gyro sensor 56, respectively (step 605). The interface sensor controller 60, upon execution of its second configuration profile portion, reads D&amp;I state and gamma state from D&amp;I sensor 62 and gamma sensor 64, respectively (step 6406). The EM controller 70, upon execution of its second configuration profile portion: reads the measurement data taken by sensors 54, 56 (steps 607) and sensors 62, 64 (step 608); sets the timing of the telemetry transmission based on the flow and RPM measurements (also step 608); and operates the EM telemetry unit 75 in the manner specified in its second configuration profile portion (step 609). Operation of EM telemetry unit 75 according to its second configuration profile portion may include: encoding measurement data using a specified modulation scheme; using a specified message frame type, composition and timing; </p><p id="p0224" num="0224">operating the EM signal generator 72 to generate a telemetry signal (e.g. an AC telemetry signal); amplifying this signal with the EM amplifier 74; and applying the signal across the gap sub 78 via the H bridge driver 76 (step 609). [0197] Referring to Figure 11 , the status sensor controller 52 decodes a downlink command signal (step 701) to obtain downlink command instructions to execute the third configuration profile, and forwards these downlink command instructions to the other controllers 60, 70, 80, 90 (step 702). The power controller 90, upon execution of its third configuration profile portion closes the power switches to both EM controller 70 and EM telemetry unit 75 (steps 703) and MP controller 80 and MP telemetry unit 85 (steps 704) to power on these devices, if these switches are not already closed (in this example both are already closed).The status sensor controller 52, upon execution of its third </p><p id="p0225" num="0225">configuration profile portion, reads flow state and RPM state information from flow switch sensor 54 and RPM gyro sensor 56, respectively (step 705). The interface sensor controller 60, upon execution of its third configuration profile portion, reads D&amp;I state and gamma state from D&amp;I sensor 62 and gamma sensor 64, respectively (step 706). The MP controller 80, upon execution of its third configuration profile portion, reads the measurement data taken by sensors 54, 56, 62, and 64 (step 707), and sets the timing of the telemetry transmission based on the flow and RPM measurements (steps 707), and then operates the MP telemetry unit 85 in the manner specified in the configuration profile to generate mud pulse telemetry signals (step 708). The EM controller 70, upon execution of its third configuration profile portion, communicates with the MP controller 80 to obtain 
<!-- EPO <DP n="56"/>-->
 the read measurement data (in a "mirrored data" operation) and sets the timing of the telemetry transmission based on the flow and RPM measurements (step 709) and operates the EM telemetry unit 75 in the manner specified in the configuration profile to generate EM telemetry signals (step 710). [0198] The third configuration profile portions for the EM and MP controllers 70, 80, may include instructions relating to the type, composition, order and timing of the message frames in both the EM and MP telemetry transmissions. Referring to Figure 11 A, the third configuration profile may include, for example, instructions for the interface sensor controller 60 to take survey measurements using sensors (e.g. flow switch sensor 54, RPM gyro sensor 56, shock sensor 58, etc.) and for the EM telemetry unit 75 to transmit a survey message frame containing the survey measurements during a "quiet" window while there is no mud flow or drill string rotation. Since mud flow is required for MP transmissions, the third configuration profile can also include instructions for the MP telemetry unit 85 to transmit a survey message frame while mud is flowing and before the drill string rotates. Since the telemetry tool is operating in a concurrent confirmation mode, the third configuration profile can also contain instructions for the EM and MP telemetry units 75, 85 to each send time- synchronized sliding frames containing the same data when mud is flowing and the drill string is not rotating. Finally, the third </p><p id="p0226" num="0226">configuration profile can include instructions for the EM and MP telemetry units 75, 85 to then send time-synchronized rotating frames containing the same data when mud is flowing and the drill string is rotating. </p><p id="p0227" num="0227">[0199] Referring to Figure 12, the status sensor controller 52 decodes a downlink command signal (step 801) to obtain downlink command instructions to execute the fourth configuration profile, and forwards these downlink command instructions to the other controllers 60, 70, 80, 90 (step 802). The power controller 70, upon execution of its fourth configuration profile portion, closes the power switches to both the EM controller 70 and EM telemetry unit 75 (steps 803) and the MP controller 80 and MP Telemetry Unit 85 (steps 804) to power on these devices, if these switches are not already closed (in this example both are already closed). 
<!-- EPO <DP n="57"/>-->
 [0200] The status sensor controller 52, upon execution of its fourth configuration profile portion, reads flow state and RPM state information from flow switch sensor 54 and RPM gyro sensor 56, respectively (step 805). The interface sensor controller, upon execution of its fourth configuration profile portion, reads D&amp;I state and gamma state from D&amp;I sensor 62 and gamma sensor 64, respectively (step 806). The MP controller 80, upon execution of its fourth configuration profile portion, reads the measurement data taken by sensors 54, 56, 62, and 64 (steps 807), sets the timing of the telemetry transmission based on the flow and RPM measurements, and then operates the MP telemetry unit 85 in the manner specified in the configuration profile to generate mud pulse telemetry signals (step 808). The EM controller 70, upon execution of its fourth configuration profile portion, reads the measurement data taken by sensors 54, 56, 62, and 64 (steps 809) (in a "independent data acquisition" operation), sets the timing of the telemetry transmission based on the flow and RPM measurements, and operates the EM telemetry unit 75 in the manner specified in the configuration profile to generate EM telemetry signals (step 810). [0201] The fourth configuration profile portions for the EM and MP controllers 70, 80 may include instructions relating to the type, composition, order and timing of the message frames in both the EM and MP telemetry transmissions. Referring to Figure 12A, the fourth configuration profile may include, for example, instructions for the interface sensor controller 60 to take survey measurements using sensors (e.g. flow switch sensor 54, RPM gyro sensor 56, shock sensor 58, etc.) and for the EM telemetry unit 75 to transmit a survey message frame containing the survey measurements during a "quiet" window while there is no mud flow or drill string rotation. </p><p id="p0228" num="0228">[0202] Since mud flow is required for MP transmissions, the fourth configuration profile can also include instructions for the MP telemetry unit 85 to transmit a survey message frame while mud is flowing and before the drill string rotates. Since the telemetry tool is operating in a concurrent shared mode, the fourth configuration profile can also contain instructions for each of EM and MP telemetry units 75, 85 to independently send different data as specified by the configuration profile. For example, the fourth configuration can contain instructions for the EM telemetry unit 75 to transmit gamma, shock and vibration measurements in sliding and rotating frames, and for the MP telemetry unit 85 to transmit toolface measurements in sliding and rotating frames. 
<!-- EPO <DP n="58"/>-->
 Allocation and Prioritization of Telemetry Data </p><p id="p0229" num="0229"> [0203] Apparatus as described herein may include a data control system that controls what data is carried by which telemetry system. The data control system may also control when that data is transmitted (e.g. certain data may be transmitted more frequently than other data, certain data may be transmitted in real time or near-real-time and other data may be stored and transmitted later). Where two or more telemetry systems are provided, the data control system may be operable to selectively: transmit certain data on one telemetry system and no data on another telemetry system; transmit certain data on one telemetry system and other data on the other telemetry system; transmit certain data on more than one telemetry system; change the selection of data to be transmitted and/or the allocation of that data among the telemetry systems and/or how often certain data is transmitted. Where the same data is transmitted on different telemetry systems it is optionally possible to transmit updated data more frequently in one telemetry system than another. </p><p id="p0230" num="0230">[0204] The ability to allocate data between different telemetry systems can be used to advantage in a wide range of ways. For example, survey data may be sent by EM telemetry while active drilling is not in progress. This relieves the need to transmit survey data by MP telemetry and permits MP telemetry to be used to send active data as soon as the flow of drilling fluid is sufficient to support mud pulse telemetry. In an example method, a controller in telemetry system 40, 40A, 50 monitors a sensor output to determine whether active drilling is occurring. For example, the controller may monitor the output of a flow sensor. If active drilling is not occurring (no flow or low flow detected) then the controller may cause data, for example survey data, to be transmitted by EM telemetry. If active drilling is occurring (flow exceeds a threshold) then the controller may cause the data to be transmitted by MP telemetry. [0205] As another example, data that might otherwise be transmitted by EM telemetry could be transmitted by MP telemetry instead in cases where rotating noise makes EM reception unduly difficult or unreliable or where horizontal drilling is being performed and overlying formations may impair the effectiveness of EM telemetry. In an example method, data is sent simultaneously by MP telemetry and EM telemetry. The EM telemetry data may be different from the MP telemetry data. A controller of a downhole system 40, 40A, 50 determines that EM telemetry is ineffective or undesired. The 
<!-- EPO <DP n="59"/>-->
 controller may make this determination, for example, based on one or more of: a current of an EM signal generator (too high current indicates conductive formations in which EM telemetry may be ineffective); a downlink signal from the surface using any available telemetry mode or predefined pattern of manipulation of drill string rotation and/or mud flow; an inclinometer reading (the system may be configured to not use EM telemetry once the inclination of the BHA is closer to horizontal than a threshold angle); and a measure of rotating noise. Upon determining that EM telemetry is ineffective or undesired the controller may automatically shut off the EM telemetry system and reallocate data being transmitted to the MP telemetry system such that a desired set of data is transmitted by MP telemetry. </p><p id="p0231" num="0231">[0206] As another example, the 'duty cycles' of the different available telemetry systems may be varied. Each telemetry system may be active at some times and off at other times. For example, where there is a need to transmit certain data that exceeds the available bandwidth of a preferred telemetry system, another telemetry system may be made active only for selected periods which are sufficient to carry the balance of the data to be transmitted. As another example, each telemetry system may be configured to actively transmit data in certain time slots and to be off in other time slots. This may be done independently for each telemetry system. The pattern of when a telemetry system will be on or off may be specified in a configuration profile. In another embodiment a telemetry system may operate on demand. When that telemetry system has data to transmit then the telemetry system may be made active for long enough to transmit the data. Otherwise the telemetry system may be kept in a non-transmitting state. </p><p id="p0232" num="0232">[0207] The data control system may comprise a switchboard that matches available data to available slots in a data transmission protocol or protocols. For example, in some embodiments, a telemetry system transmits data in frames which can each carry a certain amount of data. In such embodiments the data control system may match data to be transmitted to slots in data frames to be transmitted. With an architecture in which all sensor systems are interconnected by a data transmission bus (Figure 3 is but one example of such an architecture) the data control system can transmit any selected data on any available telemetry system. 
<!-- EPO <DP n="60"/>-->
 [0208] Various data transmission protocols may be used so that surface equipment will understand the significance of the transmitted data. For example: </p><p id="p0233" num="0233">• the data control system may transmit control information indicating what data will be, is being or has been transmitted in available slots of a data transmission protocol. </p><p id="p0234" num="0234"> • the data control system may assign data to slots in a data transmission protocol according to instructions provided from the surface. </p><p id="p0235" num="0235"> • the data control system may be configured to assign data to slots in a data </p><p id="p0236" num="0236"> transmission protocol according to one or more predetermined arrangements.</p><p id="p0237" num="0237">• the data may be distinguishable (e.g. outputs from certain different sensors may typically have values in ranges different from the outputs of other sensors) such that the assignment of data to slots in a data transmission protocol may be inferred from analysis of data received at the surface. </p><p id="p0238" num="0238"> • the data control system may assign data to slots in a data transmission protocol according to predetermined rules such that surface equipment can infer from the predetermined rules what data the data control system has is assigned to different slots in a data transmission protocol. </p><p id="p0239" num="0239"> • the data control system may be configured to use different data transmission </p><p id="p0240" num="0240"> protocols for different arrangements of transmitted data such that surface equipment may infer the arrangement of transmitted data by determining what transmission protocol the data control system is using. </p><p id="p0241" num="0241">Other possibilities also exist. These methods may also be combined in any combinations to yield further methods. In some embodiments information regarding the arrangement of data being transmitted using one telemetry system is transmitted by another telemetry system. </p><p id="p0242" num="0242">[0209] A protocol may specify other aspects of transmitted signals such as a coding type to be used (e.g. 8PSK, QPSK, FSK, etc.) and bit rate. 
<!-- EPO <DP n="61"/>-->
 Data Frames </p><p id="p0243" num="0243"> [0210] In some example embodiments data is transmitted according to a protocol which specifies syntax for frames of one or more different types. Each frame may contain a group of data elements. Configuration information may assign different data to different frames. For example, one telemetry system may transmit the most recent measurements from direction and inclination system 62 in some frames and may transmit measurements from one or more of the remaining sensors in other frames. The frames may alternate such that frames carrying one selection of data are interleaved with frames carrying other selections of data. [0211] Each frame may comprise a header section that establishes the timing, amplitude and type of message frame. For example, the header may comprise two parts that are transmitted as one continuous stream. The first part may comprise a specified fixed waveform. The waveform of the first part may have a pattern selected such that the pattern can be recognized by the surface processing equipment and is easily distinguished from noise. Transmission of this pattern may serve to synchronize the receiver to the timing and amplitude of the waveform. The second part of the header may comprise a variable waveform that functions to identify a type (ID) of the frame. The header section may include an identifier that enables a recipient of the frame to read and/or make sense of the data portion. The general composition of such message frames is known in the art and thus specific details are not discussed in further detail here. </p><p id="p0244" num="0244">[0212] Different frame types may be called for depending on the functions being carried out by the drill rig. For example: </p><p id="p0245" num="0245">• Survey frames which include data that is typically high priority (e.g. inclination, azimuth, sensor qualification/verification data, plus other information as desired) may be sent in preparation for drilling. For example, survey frames may be sent by</p><p id="p0246" num="0246">EM telemetry during a drill pipe connection or by MP telemetry as soon as sufficient mud is flowing. </p><p id="p0247" num="0247"> • Sliding frames may be sent during drilling when the drill string is not being rotated from the surface. Sliding frames may, for example be configured to send a steady stream of toolface readings and may also include additional data sent between 
<!-- EPO <DP n="62"/>-->
 successive toolface messages. In an example embodiment sliding frames may be defined by the data control system to consist of alternating toolface readings and gamma readings in the data portion of each frame. The header portion of a sliding frame may include a unique identifier, not shared by other types of frames, so that a recipient who receives the header portion of a sliding frame will know that the data portion that follows will conform to a known structure associated with that identifier. </p><p id="p0248" num="0248"> • Rotating frames may be sent while the drill string is rotating at the surface. </p><p id="p0249" num="0249"> Rotating frames typically do not include toolface data as such data is not generally relevant while the drill string is being rotated from the surface. Any other data may be included in rotating frames as desired. </p><p id="p0250" num="0250"> • Status frames may be sent at any time to alert surface equipment to the current status of a downhole system. Status frames may be sent, for example to signal a change or event, such as a change in the type(s) of telemetry being used, a significant change in sensor readings, a change in telemetry speed, or the like. Status frames may be generated to alert the receiver of changes in the telemetry type, speed, amplitude, configuration change, significant sensor change (such as a non-functioning or reduced-functioning accelerometer, for example), or other change to the status of the downhole tool. The sending of status frames may be triggered by particular events. For example, a downlink command received from the surface, a timer which calls for status frames to be transmitted at certain times, a configuration which calls for status frames to be transmitted at certain stages of drilling, or a sensor failure in the tool, or the like. A status frame may include an identifier which identifies which configuration profile is currently active on the downhole system and is being used to the telemetry signals; this identifier will allow the surface transceiver 26 to select the correct demodulation and other decoding operations to decode the received signals at surface. </p><p id="p0251" num="0251"> • Other frame types may optionally be generated in other contexts. </p><p id="p0252" num="0252">[0213] The particular structure of the data portion of any type of frame may vary by embodiment or configuration of the data control system. 
<!-- EPO <DP n="63"/>-->
 [0214] A downhole tool may be configured to switch automatically between transmitting different types of frames. For example, the downhole tool may comprise a flow sensor (which may monitor flow by detecting vibration of the tool). The tool may control when survey data is acquired and when the tool sends survey frames based on an output of the flow sensor. The tool may configure itself to send survey frames when the flow sensor detects no flow and may configure itself to send active frames (e.g. sliding frames or rotating frames) when the flow sensor detects flow in excess of a threshold flow. The tool may comprise an accelerometer or other rotation sensor and may automatically switch between transmitting sliding frames and rotating frames based on a detected rotation rate (with rotating frames being transmitted when the rotation rate exceeds a threshold). In some embodiments, a status sensor controller (e.g. 52) monitors sensor readings to determine a current drilling mode and triggers switching configurations to use different types of data frames when changes in the drilling mode are detected. </p><p id="p0253" num="0253">[0215] In some embodiments, configuration profiles stored in one or more downhole memories specify data content for a plurality of different predetermined frames. Each frame may specify a different set of data to send to the surface. An example of such an embodiment is illustrated by Figure 6A. Telemetry controller 202 is configured to decide which frame(s) to send to the surface. This decision may be based upon downhole conditions picked up by sensors and/or downlink commands from the surface. [0216] Different frames may specify different combinations of information (parameters) to be transmitted to the surface. For example, Frame ' 1 ' may include only data from a direction and inclination (D&amp;I) system. Frame '2' may include a combination of data from the D&amp;I system and data from a gamma system. Frame '3' may include a combination of data from the D&amp;I system, data from one or more pressure sensors and other sensors' data etc. Any suitable number of predefined frames may be provided. The downhole system may be highly configurable so that an operator may set up the downhole system to provide frames that include any combination of data that may be expected to be useful for a proposed drilling operation. 
<!-- EPO <DP n="64"/>-->
 Data Control Systems </p><p id="p0254" num="0254"> [0217] A data control system may be implemented by one or more suitably configured controllers (e.g. controller 42 of Figure 2 or one or more of controllers 42A, 42B of Figure 2A or one or more of the controllers of apparatus 50). A data control system may be distributed. For example, a separate data control system may be provided for each telemetry system. These data control systems may operate independently of one another. Each of the data control systems may be configured to transmit certain items. The configurations of different data control systems may be complementary so that each necessary item of data is transmitted over one or more of the telemetry systems. In such embodiments it is possible but not mandatory for the data control systems to interact with one another in normal operation. </p><p id="p0255" num="0255">[0218] In other embodiments the data control system is centralized and allocates data to available transmission slots for two or more telemetry systems. In still other embodiments each telemetry system includes a quasi-independent data control system but one of the data control systems acts to coordinate operation of other data control systems. In other embodiments, the data control system includes a central part that coordinates operation of subsystems associated with the different telemetry systems. </p><p id="p0256" num="0256">[0219] Figure 6 shows schematically an example telemetry configuration system 200 that includes a telemetry controller 202. Telemetry controller 202 may be, for example implemented by software code executing on EM controller 70 or MP controller 80. </p><p id="p0257" num="0257"> Telemetry controller 202 may more generally be any controller of control system 42 that is connected to a data bus that permits it to access data that could be transmitted and telemetry systems available to transmit the data. </p><p id="p0258" num="0258">[0220] Telemetry controller 202 has access to data storage 204. Data storage 204 may be a memory accessible by telemetry controller 202, a set of registers housed within telemetry controller 202 (if telemetry controller 202 comprises a CPU or other register-containing device), or any other suitably-configured device, system or service capable for storing information accessible to a telemetry controller 202. 
<!-- EPO <DP n="65"/>-->
 [0221] Data storage 204 includes one or more data locations 206. For example, data storage 204 includes data locations 206A, 206B and 206C. Each data location 206 may store or identify (e.g. by way of an address or pointer) an item of data that may be transmitted by a telemetry system. In the example shown in Figure 6, data location 206A corresponds to data from direction and inclination system 62, data location 206B corresponds to data from gamma system 64, and data location 206C corresponds to data from pressure sensor 94. Data locations 206 collectively provide data that is available to be included in data to be transmitted to surface transceiver 26 by a telemetry system. </p><p id="p0259" num="0259">[0222] Data storage 204 includes one or more data locations 207. For example, data storage 204 includes data locations 207A, 207B and 207C. Each data location 207 may correspond to an available slot in which an item of data may be transmitted by a telemetry system. Each data location 207 may include a value that identifies one of data locations 206. Thus, the sequence of items of data to be transmitted by a telemetry system may be controlled by writing values to data locations 206 which identify data to be transmitted and values to data locations 207 which identify the sequence in which that data will be transmitted by a telemetry system. In some embodiments, different sets of data locations 207 may be provided for different telemetry systems. </p><p id="p0260" num="0260">[0223] Those of skill in the art will understand that a similar result may be achieved using a single set of data locations for each telemetry system in which the single set of data locations each corresponds to an available transmission slot and each can contain or identify an item of data to be transmitted. </p><p id="p0261" num="0261">[0224] Telemetry controller 202 maps data locations 206 to the contents of data frames for transmission. For example, telemetry controller 202 may be configured to transmit the data identified by data location 206A and 206B in one frame, and to transmit data identified by data locations 206C, 206D and 206E (data locations 206D and 206E not depicted) in the next frame. On subsequent frames, telemetry controller 202 may advance to yet further data locations 206F and so on or, if no further data locations are available, may loop back to data locations 206 A and 206B. 
<!-- EPO <DP n="66"/>-->
 [0225] As another example, telemetry controller 202 may be configured to transmit the data identified by one or more data locations 206 (such as 206A) in each frame, and to vary which of the data associated with the remaining data locations 206 are included in each of the subsequent frames. [0226] For example, if a telemetry controller 202 is configured such that each frame includes the data identified by the next three data locations 206 in sequence, every third data location 206 might be encoded with data originating from a highly important sensor, such as direction and inclination system 62, thereby ensuring that direction and inclination information is transmitted in every frame, while still leaving room for additional sensor information to be cycled through in subsequent frames. A similar result may be achieved by encoding only one data location 206 (suppose data location 206A) in a given data storage 204 with data identifying direction and inclination system 62 and configuring telemetry controller 202 to include the data identified by data location 206A in every frame. [0227] Although it is possible for telemetry systems to operate independently, or for a downhole system to transmit data using fewer than all available telemetry systems 46 (e.g. in "EM-only" or "MP-only" modes), in at least some embodiments telemetry systems operate cooperatively to transmit data. Any one or more controllers may be configured to transmit information on one or more telemetry systems. Which data is transmitted via which telemetry systems may be determined in response to the current configuration of the downhole system (for example as specified by a configuration profile) and, in some embodiments, a telemetry configuration system such as example telemetry configuration system 200. </p><p id="p0262" num="0262">Conditional Transmission of Selected Data </p><p id="p0263" num="0263">[0228] In some embodiments, telemetry controller 202 or, more generally, control system 42 may be configured to monitor certain parameters and to determine whether or not to transmit values for the monitored parameters to the surface by telemetry based on changes in the parameter values. Changes may be measured over a time frame (e.g. how much has the parameter value changed in the past 10 seconds or the past minute or the past 10 
<!-- EPO <DP n="67"/>-->
 minutes or the past hour) and/or in relation to the most-recently transmitted value for the same parameter. </p><p id="p0264" num="0264">[0229] For example, in one example embodiment control system 42 records values of a number of parameters as previously transmitted to the surface by telemetry. Control system 42 then compares a current value of a parameter to the previously-transmitted value for the parameter. If this comparison indicates that the value for the parameter has changed by more than a threshold amount then the controller may be configured to transmit the current value for the parameter to the surface. If the comparison indicates otherwise then controller 42 may skip transmitting the current value for the parameter. The comparisons may be made in any suitable ways (e.g. subtracting one of the current and previously-transmitted parameter values from the other, determining a ratio of the current and previously- transmitted parameter values etc). Different change thresholds may be provided for different parameters. </p><p id="p0265" num="0265">[0230] In addition or in the alternative control system 42 may record values of the parameters at intervals (which may optionally be different for different parameters) and may compare a currently-recorded value for a parameter to a previous value (or an average or weighted average of a number of previous values) and determine whether the change exceeds a threshold. Again, different thresholds may be provided for different parameters. </p><p id="p0266" num="0266">[0231] Comparisons as described above may be made periodically, and/or each time a new value for a parameter is obtained and/or each time there is an opportunity for transmission of such parameter values. </p><p id="p0267" num="0267">[0232] In some embodiments control system 42 may prioritize transmission of current parameter values which are different enough from previous values (for example according to differences as determined above) to require retransmission. Parameter values that are not different enough from previous values do not need to be transmitted. One advantage of transmitting certain parameter values only if the values have changed is that the amount of power required for data transmission may be reduced and battery life may therefore be extended. Another advantage that may be achieved in some embodiments is freeing bandwidth to transmit other data. 
<!-- EPO <DP n="68"/>-->
 [0233] Prioritizing of such transmissions may be based upon one or both of a </p><p id="p0268" num="0268">predetermined priority order and an amount of change of the parameter. In an example embodiment, control system 42 maintains an ordered list of the monitored parameters. Control system 42 determines as above whether it is desirable to transmit a current value for any of the parameters. When an opportunity arrives to transmit values for one or more of the parameters controller 42 may proceed down the ordered list and transmit the highest-priority ones of the parameters for which control system 42 has determined that the current value of the parameter should be transmitted. Where the opportunity exists to transmit N current parameter values where N is some integer then control system 42 may send the N highest-priority ones of the parameters for which control system 42 has determined that the current value of the parameter should be transmitted. Control system 42 may additionally transmit in a header or other information identifying the specific parameter values being transmitted. </p><p id="p0269" num="0269">[0234] As a specific example, a control system 42 may be configured to transmit data in sets (e.g. frames) on one or more telemetry systems. Some frames may be reserved for specific data. For example, the first frame and every third frame after that may carry a first type of information (e.g. direction and inclination information). The second frame and every third frame after that may carry a second type of information (e.g. gamma information). The third frame and every third frame after that may be configured to carry variable information (i.e. one or more current values for parameters which have been selected for transmission based on a change in their values). </p><p id="p0270" num="0270">[0235] As another example, a control system 42 may be configured to send data in frames in which a portion of some or all frames is allocated to carry current values for selected parameters that have changed enough to require retransmission (if any). Where a selected parameter has changed by less than a threshold amount since a last time a value for the selected parameter was transmitted transmission of he value of the selected parameter may be suppressed. </p><p id="p0271" num="0271">[0236] As another example, control system 42 may be configured to send data for a plurality of parameters in a sequence. Control system 42 may check to determine whether it is unnecessary to transmit some or all of the parameters (e.g. it may be unnecessary to 
<!-- EPO <DP n="69"/>-->
 transmit a current parameter value if the current parameter value is close to the previously- transmitted parameter value). </p><p id="p0272" num="0272">[0237] Where controller 42 determines that transmitting current values for one or more other parameters is unnecessary then controller 42 may be configured to perform one or more of: </p><p id="p0273" num="0273">• leaving a gap where the parameter value would have been transmitted; </p><p id="p0274" num="0274"> • transmitting one or more special symbols in the slot where the parameter value would have been transmitted (the symbols may optionally be selected for low power consumption and/or low latency); or </p><p id="p0275" num="0275"> · compressing the remaining data together (and, if necessary or desired, transmitting information identifying the data transmitted and/or not transmitted). </p><p id="p0276" num="0276">[0238] In some embodiments control system 42 monitors two or more different sets of parameters (the sets of parameters could optionally have some or all members in common). Each telemetry system of a plurality of telemetry systems may be associated with one of the sets of parameters and configured to transmit current values for parameters from the corresponding set of parameters that have changed enough to require </p><p id="p0277" num="0277">retransmission (if any). </p><p id="p0278" num="0278">[0239] In some embodiments each telemetry system comprises a separate controller and the controller is configured to monitor parameters in the corresponding set and to transmit current values of the parameters where a condition relating to a change in the parameter value is satisfied. For example, an EM telemetry system may include a controller configured to monitor parameters such as inclination, shock and stick-slip and may transmit current values for one or more of these parameters in response to determining that the current value(s) of the one or more parameters has changed by more than a threshold amount relative to a previous value(s) for the one or more parameters. In the same apparatus an MP telemetry system may include a controller configured to monitor values for a different set of parameters such as battery voltage (or state of charge), azimuth and temperature. 
<!-- EPO <DP n="70"/>-->
 [0240] In some embodiments, a control system implements a method which comprises periodically transmitting certain data on a telemetry system and conditionally transmitting other data ('conditional data') on the telemetry system. The condition may relate to a difference between a current value for the conditional data and a previous value for the conditional data and/or a comparison of the conditional data to a threshold (e.g. certain data may be transmitted if its value is lower than a threshold, other data may be transmitted if its value exceeds a threshold). </p><p id="p0279" num="0279">[0241] In another embodiment, system 42 may apply an algorithm that uses previously- transmitted data (e.g. previously-transmitted values for the parameter) to predict a current value of a parameter. System 42 may transmit the current value of the parameter if it differs from the value predicted by the predictive algorithm by more than a threshold amount. System 42 may suppress transmission of the current value of the parameter if the predictive algorithm is doing a good job of estimating the current parameter value (e.g. the value predicted by the predictive algorithm differs from the current parameter value by less than a threshold amount). In some embodiments the predictive algorithm comprises fitting a function to two or more previously-transmitted values of the parameter. The function may, for example, comprise a linear function, a second-or higher-degree polynomial function, a spline function etc. Where system 42 does not transmit the current value of the parameter, surface equipment may use the predictive algorithm and previously-transmitted parameter values to estimate the current value of the parameter. </p><p id="p0280" num="0280">[0242] As another example, a telemetry system may be configured to transmit a certain set of data. The telemetry system may monitor priority levels of one or more sensors. The priority levels may be determined, for example, according to one or more of: a length of time since data from the sensor was last transmitted; a rate of change of the data from the sensor; a pattern of data from one or more sensors satisfying a rule; a cumulative change since data from the sensor was last transmitted; a predetermined priority level associated with the sensor (such that, for example, new data from the sensor is automatically assigned a high priority); and/or the like. In response to determining that data from one or more sensors has a priority higher than a threshold level the telemetry system may automatically insert data from the high-priority sensor(s) into a special frame or a special location in an existing frame. 
<!-- EPO <DP n="71"/>-->
 [0243] A telemetry system that includes plural telemetry transmitters may optionally be configured to deliver diagnostic information regarding one telemetry transmitter (and any associated systems) by way of another telemetry transmitter. The diagnostic information may, for example, comprise information such as: status information for various subsystems; measured values such as power voltage and/or current, diagnostic readings from applicable circuits or circuit boards; and the like. Such information may be transmitted while the telemetry system is still downhole and used by surface personnel to diagnose and prepare to repair the other telemetry system, if necessary. </p><p id="p0281" num="0281">[0244] A signal receiver at the surface may be configured to keep track of when each received parameter value was last updated. The signal receiver may optionally detect gaps in telemetry data where a parameter value is omitted (e.g. because control system 42 has determined that the current value of a parameter is close to - differs by less than a threshold amount from - a most-recently transmitted value for the parameter) and/or other telemetry signals indicating that the current parameter value is not being transmitted. The signal receiver may display parameters in a manner that indicates how recently displayed values for different parameters were received (e.g. by displaying parameter values in certain colors and/or fonts and/or displaying indicia associated with the parameter values). </p><p id="p0282" num="0282">[0245] Where a surface system detects that current values for one or more parameters have not been included in a received transmission then the surface system may optionally display an indicia which indicates that the displayed value was not received in the most- recently-transmitted set of parameter values. For example, the surface system may display a symbol, display the parameter value in a particular font, color, font attribute (e.g. </p><p id="p0283" num="0283">flashing) or the like, as another example, the surface system may annotate a displayed value for the parameter with a tolerance amount. For example, suppose that a parameter has a current value of 18.0 degrees, a previously-transmitted value of the same parameter was 17.5 degrees and a threshold for change of the parameter is 0.9 degrees. Since the current value for the parameter differs from the previously-transmitted value of the parameter by 0.5 degrees, which is less than the threshold of 0.9 degrees, then control system 42 may omit sending the current parameter value. The surface system may have access to the threshold (in this example 0.9 degrees) and, knowing that the parameter has been omitted, may display 17.5 ±0.9 degrees as the value for the parameter. Suppose that 
<!-- EPO <DP n="72"/>-->
 the value for the parameter subsequently changes to 18.5 degrees. Now the difference between the current value of the parameter and the most-recently transmitted value of the parameter exceeds the threshold (since 18.5-17.5&gt; 0.9). Therefore control system 42 may transmit the current value of the parameter and the surface system may display the current value of the parameter (without necessarily displaying a tolerance range or otherwise indicating that the displayed value was not received in the most-recently-transmitted set of parameter values). </p><p id="p0284" num="0284">[0246] Other examples in which data may be transmitted conditionally include cases where it may be difficult or costly in terms of battery life to transmit certain data. For example, in very deep work, a system as described herein could be configured to send EM survey data in periods between active drilling only in cases where noise during active drilling may be too high for reception while drilling. This saves battery life and allows for faster surveys. </p><p id="p0285" num="0285">Receiving Telemetry Data </p><p id="p0286" num="0286">[0247] A significant feature of some embodiments is a single surface system for receiving and decoding telemetry that has been transmitted by a plurality of distinct telemetry subsystems of a downhole system. Providing such a single system permits data to be split among two or more different telemetry subsystems at the downhole system and then recombined at the surface equipment in a way that is seamless to users. All information transmitted by telemetry from the downhole system may be presented on a single display or set of displays in a consistent manner. Further, as described elsewhere herein, with such a system, telemetry information provided by way of one telemetry subsystem (e.g. an EM telemetry subsystem) may be used to support telemetry provided by way of another telemetry subsystem (e.g. an MP telemetry subsystem). This support may include transmitting configuration information indicating a way in which data is being encoded on the other telemetry subsystem, transmitting overflow data, carrying the data of a malfunctioning telemetry system or the like. </p><p id="p0287" num="0287">[0248] Referring to Figure 13, the surface transceiver 26 detects and processes the EM and MP telemetry signals transmitted by the telemetry apparatus 50, and sends these signals to computer 32 which decodes these signals to recover the telemetry channels and 
<!-- EPO <DP n="73"/>-->
 to convert measurement data for use by the operator. Computer 32 includes executable program code containing demodulation technique(s) corresponding to the selected modulation technique(s) used by the EM and MP telemetry units 75, 85 which are used to decode the modulated telemetry signals. The computer 32 also contains the same set of configuration profiles that were downloaded onto the telemetry apparatus 50, and may refer to the specific configuration profile used by the telemetry apparatus 50 to decode the received telemetry signals that were transmitted according to that configuration profile. </p><p id="p0288" num="0288">[0249] Surface transceiver 26 may include a MP receiver and filters, an EM receiver and filters, a central processing unit (receiver CPU), and an analog to digital converter (ADC). More particularly, surface transceiver 26 may comprise a surface receiver circuit board containing the MP and EM receivers and filters. The EM receiver and filter may comprise a preamplifier electrically coupled to the communication cables 27 to receive and amplify the EM telemetry transmission comprising the EM carrier wave, and a band pass filter communicative with the preamplifier configured to filter out unwanted noise in the transmission. The ADC may also be located on the circuit board and may operate to convert the analog electrical signals received from the EM and MP receivers and filters into digital data streams. The receiver CPU may contain a digital signal processor (DSP) which applies various digital signal processing operations on the data streams by executing a digital signal processing program stored on its memory. Alternatively, separate hardware components can be used to perform one or more of the DSP functions; for example, an application-specific integrated circuit (ASIC) or field-programmable gate arrays (FPGA) can be used to perform the digital signal processing in a manner as is known in the art. Such preamplifiers, band pass filters, and A/D converters are well known in the art and thus are not described in detail here. For example, the preamplifier can be an INA118 model from Texas Instruments, the ADC can be an ADS 1282 model from Texas Instruments, and the band pass filter can be an optical band pass filter or an RLC circuit configured to pass frequencies between 0.1 Hz to 20 Hz. </p><p id="p0289" num="0289">[0250] Computer 32 may be communicative with the surface transceiver 26 via an Ethernet or other suitable communications cable to receive the processed EM and MP telemetry signals and with the surface operator to receive the identity of the configuration profile the telemetry apparatus 50 is using to transmit the telemetry signals ("operating 
<!-- EPO <DP n="74"/>-->
 configuration profile")- Computer 32 in one embodiment is a general purpose computer comprising a central processing unit (CPU and herein referred to as "surface processor") and a memory having program code executable by the surface processor to perform various decoding functions including digital signal-to-telemetry data demodulation. The computer 32 may also include program code to perform digital signal filtering and digital signal processing in addition to or instead of the digital signal filtering and processing performed by the surface transceiver 26. </p><p id="p0290" num="0290">[0251] The surface processor program code may utilize a demodulation techniques that correspond to the modulation techniques used by the telemetry apparatus 50 to encode the measurement data into the EM and MP telemetry signal. These modulation techniques are applied to the EM and MP telemetry signals received by the surface transceiver 26 to recover the measurement data. </p><p id="p0291" num="0291">[0252] Alternatively, or additionally, the surface transceiver 26 and/or computer 32 may be programmed to retrieve the identity of the operating configuration profile used by the telemetry apparatus 50 from the telemetry signals themselves. The identity of the operating configuration profile may be located in the status frame, or another message frame. The operating configuration profile identity can also be repeated in the telemetry signal, e.g. at the end of a survey frame. </p><p id="p0292" num="0292">[0253] In some embodiment, surface equipment may be connected to sensors from which a current drilling mode can be inferred. For example, a surface sensor may determine whether drilling fluid is flowing or not in the wellbore. In some embodiments data from a MP transducer at the surface is processed to determine whether or not fluid is flowing in the wellbore. </p><p id="p0293" num="0293">[0254] A downhole system as described herein may be configured to send certain information at times that are synchronized to changes in a drilling mode. For example, a downhole system may be configured to cause an EM subsystem to send a long header (specifying a way in which data will be transmitted by EM and/or MP telemetry) at a specified time after a flow-off condition starts. The surface equipment may, for example, detect the onset of the flow-off condition by monitoring an output of a pressure transducer 
<!-- EPO <DP n="75"/>-->
 at the surface (which may also serve as a detector for MP telemetry pulses at the surface). The surface equipment may then process EM telemetry data to look for a long header at the applicable time. </p><p id="p0294" num="0294">[0255] Alternatively, or in the event that the surface transceiver 26 and/or computer 32 cannot retrieve the identity of the operating configuration profile from the telemetry signal, or does not receive the identity of the operating configuration profile from the operator, or there is a mismatch between the identities detected in the telemetry signal and provided by the operator, the surface transceiver 26 and/or computer 32 can be programmed to attempt to decode the received telemetry transmission in all known telemetry modes and using all known demodulation techniques until the correct telemetry mode and demodulation technique is found. </p><p id="p0295" num="0295">[0256] Computer 32 may further contain program code executable by its processor to process telemetry signals transmitted by the telemetry apparatus 50 in the concurrent shared or confirmation modes. More particularly, when the transmission was made in the concurrent shared mode, program code may be executed which combines the </p><p id="p0296" num="0296">measurement data from the MP and EM data channels into a single data stream for display to the operator. When the transmission was made in the concurrent confirmation mode, program code may be executed which compares the received EM and MP telemetry signals and selects the telemetry signal providing the highest confidence value to decode and obtain the measurement data. </p><p id="p0297" num="0297">[0257] Certain embodiments described herein offer the advantage of multiple different telemetry types and the flexibility to use different telemetry systems in different ways (examples of which are described above) in a system in which power is supplied by a common set of batteries and data is acquired by a common set of sensors accessible to each of the telemetry systems. While a downhole tool according to some embodiments may have the capability to make autonomous decisions regarding data telemetry this is not necessary in all embodiments. </p><p id="p0298" num="0298">[0258] An advantage of some embodiments is great flexibility in that a downhole tool may be configured to perform according to the preferences of a drill rig operator. The 
<!-- EPO <DP n="76"/>-->
 downhole tool may be configured to use a selected single telemetry system (with all others inhibited) if that meets the operator's requirements. In other cases the downhole tool may be configured in any of the ways described above to use two or more telemetry systems, thereby providing more data of a given type, data of more different types, and/or data having higher reliability. </p><p id="p0299" num="0299">[0259] While a number of exemplary aspects and embodiments have been discussed above, those of skill in the art will recognize certain modifications, permutations, additions and sub-combinations thereof. All such modifications, permutations, additions and subcombinations are included in the invention described herein. </p><p id="p0300" num="0300">Interpretation of Terms </p><p id="p0301" num="0301"> [0260] Unless the context clearly requires otherwise, throughout the description and the claims: </p><p id="p0302" num="0302">"comprise", "comprising", and the like are to be construed in an inclusive sense, as opposed to an exclusive or exhaustive sense; that is to say, in the sense of "including, but not limited to". </p><p id="p0303" num="0303"> "connected", "coupled", or any variant thereof, means any connection or coupling, either direct or indirect, between two or more elements; the coupling or connection between the elements can be physical, logical, or a combination thereof. </p><p id="p0304" num="0304"> "herein", "above", "below", and words of similar import, when used to describe this specification shall refer to this specification as a whole and not to any particular portions of this specification. </p><p id="p0305" num="0305"> "or", in reference to a list of two or more items, covers all of the following interpretations of the word: any of the items in the list, all of the items in the list, and any combination of the items in the list, </p><p id="p0306" num="0306"> the singular forms "a", "an", and "the" also include the meaning of any appropriate plural forms. </p><p id="p0307" num="0307">[0261] Words that indicate directions such as "vertical", "transverse", "horizontal" "upward", "downward", "forward", "backward", "inward", "outward", "vertical", 
<!-- EPO <DP n="77"/>-->
 "transverse", "left", "right", "front", "back", "top", "bottom", "below", "above", "under", and the like, used in this description and any accompanying claims (where present) depend on the specific orientation of the apparatus described and illustrated. The subject matter described herein may assume various alternative orientations. Accordingly, these directional terms are not strictly defined and should not be interpreted narrowly. </p><p id="p0308" num="0308">[0262] Headings are included for convenience only and are not to be used to interpret the meaning of the disclosure or claims. </p><p id="p0309" num="0309">[0263] Where a component (e.g. a circuit, system, assembly, device, drill string component, drill rig system, etc.) is referred to above, unless otherwise indicated, reference to that component (including a reference to a "means") should be interpreted as including as equivalents of that component any component which performs the function of the described component (i.e., that is functionally equivalent), including components which are not structurally equivalent to the disclosed structure which performs the function in the illustrated exemplary embodiments of the invention. [0264] All headings in this document are for convenience of the reader only. Text under any heading may also relate to other headings. The wording of the headings themselves does not limit in any way the meaning of any text. </p><p id="p0310" num="0310">[0265] Specific examples of systems, methods and apparatus have been described herein for purposes of illustration. These are only examples. The technology provided herein can be applied to systems other than the example systems described above. Many alterations, modifications, additions, omissions and permutations are possible within the practice of this invention. This invention includes variations on described embodiments that would be apparent to the skilled addressee, including variations obtained by: replacing features, elements and/or acts with equivalent features, elements and/or acts; mixing and matching of features, elements and/or acts from different embodiments; combining features, elements and/or acts from embodiments as described herein with features, elements and/or acts of other technology; and/or omitting combining features, elements and/or acts from described embodiments. 
<!-- EPO <DP n="78"/>-->
 [0266] It is therefore intended that the following appended claims and claims hereafter introduced are interpreted to include all such modifications, permutations, additions, omissions and sub-combinations as may reasonably be inferred. The scope of the claims should not be limited by the preferred embodiments set forth in the examples, but should be given the broadest interpretation consistent with the description as a whole. 
</p></description><claims mxw-id="PCLM70078883" ref-ucid="WO-2014127489-A1" lang="EN" load-source="patent-office"><claim id="clm-0001" num="0001"><!-- EPO <DP n="79"/>--><claim-text/><claim-text>WHAT IS CLAIMED IS: </claim-text><claim-text> 1. A downhole system comprising: </claim-text><claim-text> a plurality of telemetry subsystems, </claim-text><claim-text> a control system comprising a plurality of telemetry controllers, each telemetry controller associated and in communication with at least one telemetry subsystem of the plurality of telemetry subsystems, </claim-text><claim-text> a bus, each telemetry controller of the plurality of telemetry controllers being in communication with each other telemetry controller of the plurality of telemetry controllers via the bus, and </claim-text><claim-text> one or more sensors in communication with the plurality of telemetry controllers, </claim-text><claim-text> wherein: </claim-text><claim-text> a first telemetry controller of the plurality of telemetry controllers is associated with a first telemetry subsystem of the plurality of telemetry subsystems and is operable to obtain first sensor information from a first set of the one or more sensors and to transmit the first sensor information on the first telemetry subsystem; and </claim-text><claim-text> a second telemetry controller of the plurality of telemetry controllers is associated with a second telemetry subsystem of the plurality of telemetry subsystems and is operable independently of the first telemetry controller to obtain second sensor information from a second set of the one or more sensors and to transmit the second sensor information on the second telemetry subsystem. </claim-text><claim-text>2. A downhole system according to claim 1 wherein the control system is configured to provide a splitting mode wherein the control system is operable to obtain a data unit for transmission, transmit a first part of the data unit using a first one of the telemetry subsystems and transmit a second part of the data unit using a second one of the telemetry subsystems. </claim-text><claim-text>3. A downhole system according to claim 2 wherein the data unit comprises a single binary number. 
<!-- EPO <DP n="80"/>-->
 A downhole system according to claim 2 or 3 wherein the data unit comprises steering information. </claim-text><claim-text>A downhole system according to claim 4 wherein the steering information is represented as a binary number having a size of 7 bits to 15 bits. </claim-text><claim-text>A downhole system according to claim 3 or 4 wherein the data unit consists of fewer than 33 bits. </claim-text><claim-text>A downhole system according to claim 3 or 4 wherein the data unit consists of 10 bits including seven data bits and three error detecting bits. </claim-text><claim-text>A downhole system according to any one of claims 2 to 7 wherein the control system is configured to allocate bits of the data unit between the first and second parts in proportion to bit rates of the first and second telemetry subsystems. </claim-text><claim-text>A downhole system according to any one of claims 2 to 8 wherein the first and second ones of the telemetry subsystems are operable according to distinct telemetry modes. </claim-text><claim-text>A downhole system according to any one of claims 2 to 8 wherein the first one of the telemetry subsystems comprises an EM telemetry subsystem and the second one of the telemetry subsystems comprises an MP telemetry subsystem. </claim-text><claim-text>A downhole system according to any one of claims 2 to 10 wherein the control system is configured to send the data unit on one of the telemetry subsystems if a data rate of the one of the telemetry subsystems exceeds a first threshold and to switch to the splitting mode if the data rate of the one of the telemetry subsystems falls below the first threshold. </claim-text><claim-text>A downhole system according to any one of claims 2 to 10 wherein the data unit has a higher-resolution version and a lower resolution version and the control system is configured to transmit the higher-resolution version of the data unit on 
<!-- EPO <DP n="81"/>-->
 one of the telemetry subsystems if a data rate of the one of the telemetry subsystems exceeds a first threshold; switch to the splitting mode and transmit the higher-resolution version of the data unit using both the first and second ones of the telemetry subsystems if the data rate of the one of the telemetry subsystems falls below the first threshold and a combined data rate of the first and second telemetry subsystems exceeds a second threshold; and transmit the lower- resolution version of the data unit using both the first and second ones of the telemetry subsystems if the combined data rate of the first and second telemetry subsystems is below the second threshold. </claim-text><claim-text>A downhole system according to claim 12 wherein the higher-resolution of the data unit has 11 data bits and the lower-resolution version of the data unit has 7 data bits. </claim-text><claim-text>A downhole system according to any one of claims 2 to 13 wherein the first part of the data unit comprises lower-order bits of the data unit and the second part of the data unit comprises higher-order bits of the data unit wherein, in the splitting mode, the control system is operable to evaluate reliability of the telemetry subsystems and to assign a more reliable one of the telemetry subsystems as the first one of the telemetry subsystems. </claim-text><claim-text>A downhole system according to any one of claims 1 to 14 wherein the control system is configured to, upon changing a mode of operation of one of the telemetry subsystems to a new mode of operation, transmit confirmation of the change of mode of operation of the one of the telemetry subsystems on another one of the telemetry subsystems. </claim-text><claim-text>A downhole system according to claim 15 wherein the confirmation of the change of mode of operation includes telemetry information usable by surface equipment to decode transmissions from the one of the telemetry subsystems. </claim-text><claim-text>A downhole system according to any one of claims 1 to 14 wherein the control system is operable to transmit header information corresponding to each of a 
<!-- EPO <DP n="82"/>-->
 plurality of the telemetry subsystems, the header information comprising information usable by surface equipment to decode transmissions from the corresponding one of the telemetry subsystems, wherein the control system is configured to transmit the header information corresponding to one of the plurality of telemetry subsystems on a different one of the plurality of telemetry subsystems. </claim-text><claim-text>18. A downhole system according to any of claims 1 to 5 wherein the control system is configured to independently for one or more of the telemetry subsystems control whether the telemetry subsystem is operable to transmit data or inhibited from transmitting data. </claim-text><claim-text>19. A downhole system according to claim 18 comprising a power controller operable to individually power or power down each of the telemetry subsystems. </claim-text><claim-text>20. A downhole system according to claim 1 wherein the first telemetry subsystem comprises an EM telemetry subsystem and the second telemetry subsystem comprises an MP telemetry subsystem. </claim-text><claim-text>21. A downhole system according to claim 20 wherein the control system is </claim-text><claim-text> configured to monitor to detect that EM telemetry is ineffective or undesired and to automatically stop using the first telemetry subsystem and to reallocate data from the first sensor information to the second telemetry controller in response to detecting EM telemetry is ineffective or undesired. </claim-text><claim-text>22. A downhole system according to claim 21 wherein monitoring to detect that EM telemetry is ineffective or undesired comprises monitoring one or more of: an electrical current output of an EM signal generator; a downlink signal; an inclinometer reading; and a measure of rotating noise. </claim-text><claim-text>23. A downhole system according to claim 20 wherein the control system is </claim-text><claim-text> configured to monitor a flow of drilling fluid and to automatically transmit survey data using the EM telemetry subsystem in response to detecting that the flow of drilling fluid is lower than a threshold. 
<!-- EPO <DP n="83"/>-->
 A downhole system according to any one of claims 1 to 23 wherein the control system is configured to: </claim-text><claim-text> transmit values for one or more parameters by way of one or more of the telemetry subsystems; </claim-text><claim-text> store the transmitted parameter values; </claim-text><claim-text> acquire new values for the one or more parameters; and </claim-text><claim-text> compare the new parameter values to the stored previously-transmitted parameter values and suppress the transmission of the new parameter values if a difference between the new parameter values and the stored previously-transmitted parameter values does not meet or exceed a threshold. </claim-text><claim-text>A downhole system according to claim 24 wherein the downhole system is configured to store a priority order of the one or more parameters and transmit one or more of the new parameter values based on the priority order. </claim-text><claim-text>A downhole system according to claim 25 wherein the downhole system is configured to compare the new parameter values to the previously- stored parameter values in the priority order. </claim-text><claim-text>A downhole system according to one of claims 24 or 25 wherein the downhole system is configured to determine a number n of parameter values to transmit and to transmit the new parameter values associated with the n highest-priority parameters that are not suppressed. </claim-text><claim-text>A downhole system according to any one of claims 24 to 27 wherein the downhole system is configured to transmit one or more of the new parameter values in an order based on an amount of change between the previously-transmitted parameter values and the new parameter values. </claim-text><claim-text>A downhole system according to any one of claims 1 to 28 wherein at least part of the first sensor information is identical to at least part of the second sensor information. 
<!-- EPO <DP n="84"/>-->
</claim-text><claim-text>30. A downhole system according to any one of claims 1 to 8 wherein the first telemetry controller is configured to request at least some of the first sensor information from the first set of sensors and the second telemetry controller is configured to request at least some of the second sensor information from a backup set of sensors corresponding to the first set of sensors such that the first sensor information includes values read from one or more of the first set of sensors and the second sensor information includes corresponding values read from one or more of the backup set of sensors. </claim-text><claim-text>31. A downhole system according to any of claims 1 to 30 wherein the control system is configured according to one or more configuration profiles, each of the one or more configuration profiles comprising configuration information stored in the downhole system and specifying one or more of: telemetry transmission parameters; data encoding protocol; selection of data items to be transmitted; and order of data items to be transmitted. </claim-text><claim-text>32. A downhole system according to claim 31 wherein at least one of the one or more configuration profiles comprises configuration information instructing the control system to inhibit transmission by the first telemetry subsystem. </claim-text><claim-text>33. A downhole system according to one of claims 31 or 32 wherein at least one of the one or more configuration profiles comprises configuration information instructing the control system to inhibit transmission by the second telemetry subsystem. </claim-text><claim-text>34. A downhole system according to claim 33 wherein the control system is </claim-text><claim-text> configured to select a second configuration profile other than the currently-selected configuration profile in response to one or more switching events. </claim-text><claim-text>35. A downhole system according to claim 34 wherein the downhole system comprises a downlink telemetry receiver and at least one switching event of the one or more switching events comprises a receiving a control signal by downlink telemetry at the downlink telemetry receiver. 
<!-- EPO <DP n="85"/>-->
 A downhole system according to one of claims 34 or 35 wherein at least one switching event of the one or more switching events comprises one or more sensor readings satisfying a switching criterion. </claim-text><claim-text>A downhole system according to claim 36 wherein: </claim-text><claim-text> the one or more sensor readings comprise an EM telemetry electrical current value and the criterion comprise detecting the EM telemetry electrical current value meeting or exceeding a threshold. </claim-text><claim-text>A downhole system according to claim 36 wherein: </claim-text><claim-text> the one or more sensor readings comprise readings indicative of an impediment to operation of the second telemetry subsystem; and </claim-text><claim-text> the second configuration profile comprises configuration information instructing the control system to inhibit transmission by the second telemetry subsystem. </claim-text><claim-text>A downhole system according to any one of claims 31 to 38 wherein the configuration files comprise separate sets of software instructions and/or settings for each one of the telemetry controllers. </claim-text><claim-text>A downhole system according to any one of claims 1 to 39 wherein the control system is configured to transmit information in frames comprising a header portion and a data portion. </claim-text><claim-text>A downhole system according to claim 40 wherein the control system is configured to transmit the header portion and the data portion of a frame using different ones of the telemetry subsystems. </claim-text><claim-text>A downhole system according to any of claims 1 to 41 wherein the first telemetry controller and second telemetry controller are each independently configured to store a priority order for transmission of parameter values and to respectively 
<!-- EPO <DP n="86"/>-->
 include parameter values in the first and second sensor information based at least in part on the priority order. </claim-text><claim-text>A downhole system according to claim 42 wherein the priority orders for the first and second telemetry subsystems are different. </claim-text><claim-text>A downhole system according to any one of claims 1 to 43 wherein the control system is configured to set contents of the first and second sensor information based at least in part on one or both of speed and reliability of telemetry transmissions by way of the first and second telemetry subsystems. </claim-text><claim-text>A downhole system according to claim 44 wherein the control system is configured to allocate sensor readings from a first group of sensor readings to the one of the first and second sensor information for which the corresponding first of second telemetry subsystem provides lower latency telemetry transmissions and to allocate sensor readings from a second group of sensor readings to the one of the first and second sensor information for which the corresponding first or second telemetry subsystem provides higher reliability telemetry transmissions. </claim-text><claim-text>A downhole system according to any one of claims 1 to 45 comprising a flow sensor wherein the control system is configured to switch to an operating mode wherein only an EM telemetry system is operative to transmit telemetry data when a reading of the flow sensor indicates that drilling fluid is not flowing at the location of the downhole system. </claim-text><claim-text>A downhole system according to any one of claims 1 to 46 wherein the control system is configured to detect failure of one of the telemetry subsystems and, in response to detecting the failure, reconfigure another one of the telemetry subsystems to transmit some or all data that would otherwise have been transmitted by the failed telemetry subsystem. </claim-text><claim-text>A downhole system according to any one of claims 47 wherein the control system is configured to track usage of one of the telemetry subsystems and, in response to 
<!-- EPO <DP n="87"/>-->
 detecting that the usage of the telemetry subsystem has reached or exceeded a threshold, inhibit operation of the one of the telemetry subsystems. </claim-text><claim-text>A downhole system according to any one of claims 47 wherein the control system is configured to transmit predetermined test data using one of the telemetry subsystems. </claim-text><claim-text>A downhole system according to any one of claims 1 to 49 comprising a single pressure-tight housing configured to be received within a bore of a drill string wherein the control system is contained within the pressure tight housing. </claim-text><claim-text>A downhole system according to any of claims 1 to 50 wherein the first telemetry controller is configured to obtain and transmit by way of the first telemetry subsystem sensor readings from a first one of the sensors at a first plurality of times and the second telemetry controller is configured to obtain and transmit by way of the second telemetry subsystem sensor readings from the first one of the sensors at a second plurality of times different from the first plurality of times. </claim-text><claim-text>A downhole system according to claim 51 when the first plurality of times is temporally interleaved with the second plurality of times. </claim-text><claim-text>A downhole telemetry system comprising: </claim-text><claim-text> one or more sensors; </claim-text><claim-text> a first telemetry subsystem in communication with the one or more sensors; a second telemetry subsystem in communication with the one or more sensors; </claim-text><claim-text> a control system configured to obtain first part sensor information from a first set of the one or more sensors and to transmit the first part sensor information on a first telemetry subsystem and to obtain second part sensor information from a second set of the one or more sensors and to transmit the second part sensor information on a second telemetry subsystem. 
<!-- EPO <DP n="88"/>-->
</claim-text><claim-text>54. A downhole telemetry system according to claim 53 wherein the control system is configured to transmit the first and second part sensor information concurrently. </claim-text><claim-text>55. A downhole telemetry method comprising: </claim-text><claim-text> from a downhole tool, transmitting values for one or more parameters using a telemetry protocol; </claim-text><claim-text> storing the transmitted parameter values at the downhole tool; acquiring new values for the one or more parameters; </claim-text><claim-text> comparing the new parameter values to the stored previously-transmitted parameter values and suppressing transmitting the new parameter values if a difference between the new parameter values and the stored previously-transmitted parameter values is less than a threshold. </claim-text><claim-text>56. A downhole telemetry method according to claim 55 comprising selecting one or more of the new parameter values based on a stored priority order and transmitting one or more of the selected new parameter values. </claim-text><claim-text>57. A downhole telemetry method according to claim 56 wherein comparing the new parameter values to the previously-stored parameter values is performed for one or more of the new parameter values in the priority order. </claim-text><claim-text>58. A downhole telemetry method according to any one of claims 56 or 57 comprising determining a number n of parameter values to transmit and transmitting the new parameter values associated with the n highest-priority parameter values that are not suppressed. </claim-text><claim-text>59. A downhole telemetry method according to any one of claims 55 to 58 comprising transmitting one or more of the new parameter values in an order determined based on differences between the previously-transmitted parameter values and the new parameter values. 
<!-- EPO <DP n="89"/>-->
</claim-text><claim-text>60. A downhole telemetry method according to any of claims 55 to 59 wherein the method is performed independently for each of a plurality of telemetry systems in a downhole telemetry apparatus. </claim-text><claim-text>61. A downhole telemetry method according to any one of claims 55 to 60 wherein the method is performed for every mth frame of data transmitted by a telemetry system of a telemetry apparatus, wherein m is an integer. </claim-text><claim-text>62. A method for transmitting data from a downhole location, the method comprising: </claim-text><claim-text> obtaining a data unit to be transmitted to surface equipment; transmitting a first part of the data unit using a first the telemetry subsystem; and </claim-text><claim-text> transmitting a second part of the data unit using a second telemetry subsystem. </claim-text><claim-text>63. A method according to claim 62 comprising: </claim-text><claim-text> receiving the first and second parts of the data unit at surface equipment; decoding the first and second parts of the data unit; </claim-text><claim-text> recreating the data unit at the surface equipment by combining the decoded first and second parts of the data unit. </claim-text><claim-text>64. A method according to any one of claims 62 to 63 wherein the data unit comprises a single binary number. </claim-text><claim-text>65. A method according to any one of claims 62 to 64 wherein the data unit comprises steering information. </claim-text><claim-text>66. A method according to claim 65 wherein the steering information is represented as a binary number having a size of 7 bits to 15 bits. </claim-text><claim-text>67. A method according to any one of claims 62 to 65wherein the data unit consists of no more than 33 bits. 
<!-- EPO <DP n="90"/>-->
</claim-text><claim-text>68. A method according to any one of claims 62 to 65 wherein the data unit consists of 10 bits including seven data bits and three error detecting bits. </claim-text><claim-text>69. A method according to any one of claims 62 to 68 wherein the control system is configured to allocate bits of the data unit between the first and second parts in proportion to bit rates of the first and second telemetry subsystems. </claim-text><claim-text>70. A method according to any one of claims 62 to 69 wherein the first and second ones of the telemetry subsystems are operable according to distinct telemetry modes. </claim-text><claim-text>71. A method according to any one of claims 62 to 69 wherein the first one of the telemetry subsystems comprises an EM telemetry subsystem and the second one of the telemetry subsystems comprises an MP telemetry subsystem. </claim-text><claim-text>72. A method according to any one of claims 62 to 71 comprising sending the data unit on one of the first and second telemetry subsystems if a data rate of the one of the one of the telemetry subsystems exceeds a first threshold and switching to a mode wherein the first and second parts of the data unit are respectively transmitted on the first and second telemetry subsystems if the data rate of the one of the telemetry subsystems falls below the first threshold. </claim-text><claim-text>73. A method according to any one of claims 62 to 71 wherein the data unit has a higher-resolution version and a lower resolution version and the method comprises transmitting the higher-resolution version of the data unit if the combined data rate of the first and second telemetry subsystems exceeds a threshold and transmitting the lower-resolution version of the data unit if the combined data rate of the first and second telemetry subsystems is lower than the threshold. </claim-text><claim-text>74. A method according to claim 73 wherein the higher-resolution version of the data unit has 11 data bits and the lower-resolution version of the data unit has 7 data bits. 
<!-- EPO <DP n="91"/>-->
 A method according to any one of claims 62 to 74 wherein the first part of the data unit comprises lower-order bits of the data unit and the second part of the data unit comprises higher-order bits of the data unit and the method comprises determining a relative reliability of transmissions on the first and second telemetry subsystems and assigning a more reliable one of the telemetry subsystems as the first one of the telemetry subsystems. </claim-text><claim-text>A method for transmitting data from a downhole location, the method comprising: at a downhole telemetry system comprising a plurality of telemetry subsystems, changing a mode of operation of one of the telemetry subsystems to a new mode of operation and transmitting confirmation of the change of mode of operation of the one of the telemetry subsystems on another one of the telemetry subsystems. </claim-text><claim-text>A method according to claim 76 wherein transmitting the confirmation of the change of mode of operation includes transmitting telemetry information usable by surface equipment to decode transmissions from the one of the telemetry subsystems. </claim-text><claim-text>A method according to any one of claims 76 to 77 comprising transmitting header information corresponding to each of a plurality of the telemetry subsystems, the header information comprising information usable by surface equipment to decode transmissions from the corresponding one of the telemetry subsystems, wherein the method comprises transmitting the header information corresponding to one of the plurality of telemetry subsystems on a different one of the plurality of telemetry subsystems. </claim-text><claim-text>A method of transmitting downhole measurement data to surface comprising:</claim-text><claim-text>(a) reading downhole measurement data; </claim-text><claim-text> (b) selecting an available telemetry transmission mode from a group consisting of: mud pulse (MP)-only telemetry mode, electromagnetic (EM)-only telemetry mode, MP and EM concurrent shared telemetry mode, and MP and EM concurrent confirmation telemetry mode; 
<!-- EPO <DP n="92"/>-->
 (c) when the MP-only telemetry mode is selected, encoding the measurement data into a first MP telemetry signal and transmitting the first MP telemetry signal to surface, </claim-text><claim-text> (d) when the EM-only mode is selected, encoding the measurement data into a first EM telemetry signal and transmitting the first EM telemetry signal to surface; </claim-text><claim-text> (e) when the concurrent shared telemetry mode is selected, encoding a first selection of the measurement data into a second MP telemetry signal and a second selection of the measurement data into a second EM telemetry signal, and transmitting the second MP and EM telemetry signals to surface; and </claim-text><claim-text> (f) when the concurrent confirmation telemetry mode is selected, encoding the same measurement data into a third MP telemetry signal and into a third EM telemetry signal; and transmitting the third MP and EM telemetry signals to surface. </claim-text><claim-text>A method according to claim 79 further comprising before step (b), receiving a downlink command containing instructions to select one of the available telemetry transmission modes, and wherein the step of selecting an available telemetry mode is made in accordance with the instructions. </claim-text><claim-text>A method according to claim 80 wherein the downlink command contains instructions to execute one of a set of configuration files, wherein each </claim-text><claim-text>configuration file includes instructions to select one of the available telemetry modes, and the step of selecting an available telemetry mode comprises executing at least a portion of the configuration files. </claim-text><claim-text>A method according to claim 81 wherein each configuration file further includes instructions to select a type of message frame to be sent in a telemetry </claim-text><claim-text>transmission, a composition of the message frame, and a modulation scheme to encode the measurement data into one of the first, second, and third EM or MP telemetry signals, and the method further comprises encoding the measurement data according to the selected modulation scheme, and wherein the first, second, or 
<!-- EPO <DP n="93"/>-->
 third EM or MP telemetry signals comprise the selected message type and composition. </claim-text><claim-text>A method according to claim 79 wherein the measurement data comprises gamma, shock, vibration and toolface data and when the concurrent shared telemetry mode is selected, the method further comprises encoding the gamma, shock and vibration data into the second EM telemetry signal and encoding the toolface data into the second MP telemetry signal; or, encoding the gamma and toolface data on the second EM telemetry signal and encoding the shock and vibration data on the second MP telemetry signal; or, encoding the gamma data on the second EM telemetry signal, and encoding the shock, vibration and toolface data on the second MP telemetry signal. </claim-text><claim-text>A method according to claim 79 wherein the selected telemetry transmission mode is the MP-only telemetry mode, the step of reading downhole measurement data comprises acquiring survey data, and step (c) further comprises encoding at least part of the survey data into a survey EM telemetry signal and transmitting the survey EM telemetry signal during a period of no mud flow and no drill string rotation. </claim-text><claim-text>A method according to claim 84 further comprising stopping EM transmission after the survey data has been transmitted by the EM telemetry signal, and encoding measurement data other than the survey data into the first MP telemetry signal and transmitting the first MP telemetry signal to surface. </claim-text><claim-text>A downhole telemetry tool comprising: </claim-text><claim-text> (a) sensors for acquiring downhole measurement data; </claim-text><claim-text> (b) an electromagnetic (EM) telemetry unit; </claim-text><claim-text> (c) a mud pulse (MP) telemetry unit; </claim-text><claim-text> (d) at least one control module communicative with the sensors and EM and MP telemetry units and comprising a processor and a memory having encoded thereon program code executable by the processor to perform a method according to any of claims 79 to 85, wherein the steps of 
<!-- EPO <DP n="94"/>-->
 transmitting the first, second or third EM signals are carried out by the EM telemetry unit, and the steps of transmitting the first, second or third MP telemetry signals are carried out by the MP telemetry unit. </claim-text><claim-text>A downhole telemetry tool according to claim 86 wherein the sensors comprise drilling conditions sensors and directional and inclination (D&amp;I) sensors, and the drilling conditions sensors comprise an axial and lateral shock sensor, an RPM gyro sensor and a flow switch sensor, and the D&amp;I sensors include a three axis accelerometer, a three axis magnetometer, and a gamma sensor, and back-up sensors. </claim-text><claim-text>A downhole telemetry tool according to claim 87 further comprising multiple control modules and a communications bus in communication with each of the multiple control modules, the multiple control modules including a control sensor control module communicative with the drilling conditions sensors, an interface control module communicative with the D&amp;I sensors, an EM control module communicative with the EM telemetry unit, an MP control module communicative with the MP telemetry unit, and a power management control module. </claim-text><claim-text>A downhole telemetry tool according to claim 88 further comprising a pressure sensor communicative with the power management control module, and wherein the power management control module comprises a processor and a memory having encoded thereon program code executable by the processor to decode downlink command instructions from a pressure downlink command signal received by the pressure sensor and to transmit the downlink command instructions to the other control modules via the communications bus. </claim-text><claim-text>A downhole telemetry tool according to claim 89 wherein the control sensor control module comprises a processor and a memory having encoded thereon program code executable by the processor to decode downlink command instructions from a downlink command signal received by one of the drilling conditions sensors, and to transmit the downlink command instructions to other control modules via the communications bus. 
<!-- EPO <DP n="95"/>-->
 A downhole telemetry tool according to claims 89 or 90 wherein the EM control module, MP control module and interface control module each comprise a processor and a memory, and each memory of each control module contains at least a portion of each configuration file in the set of configuration files. </claim-text><claim-text>A downhole telemetry tool according to claim 89 wherein the downlink command instructions comprise a selected configuration file from the set of configuration files, and wherein each memory of each control module comprises program code to execute the portion of the selected configuration file contained in the respective memory. </claim-text><claim-text>A downhole telemetry method, comprising: </claim-text><claim-text> (a) at a downhole location, reading measurement data and encoding some of the measurement data into an electromagnetic (EM) telemetry signal and the rest of the measurement data into a mud pulse (MP) telemetry signal, then </claim-text><claim-text> (b) transmitting the EM and MP telemetry signals to surface wherein at least part of the EM and MP telemetry signals are transmitted concurrently. </claim-text><claim-text>A method according to claim 93 wherein the measurement data comprises gamma, shock, vibration and toolface data and the method further comprises encoding the gamma, shock and vibration data into the EM telemetry signal and encoding the toolface data into the MP telemetry signal; or, encoding the gamma and toolface data on the second EM telemetry signal and encoding the shock and vibration data on the second MP telemetry signal; or, encoding the gamma data on the second EM telemetry signal, and encoding the shock, vibration and toolface data on the second MP telemetry signal. </claim-text><claim-text>A method according to claim 94 wherein the step of reading measurement data comprises acquiring survey data, and step (a) further comprises encoding at least some of the survey data into an EM telemetry signal survey frame and at least some of the measurement data into an MP telemetry signal survey frame and step 
<!-- EPO <DP n="96"/>-->
 (b) further comprises transmitting at least part of the EM telemetry signal survey frame during a period of no mud flow, and transmitting the MP survey frame during a period of mud flow. </claim-text><claim-text>A downhole telemetry tool comprising: </claim-text><claim-text> (a) sensors for acquiring downhole measurement data; </claim-text><claim-text> (b) an electromagnetic (EM) telemetry unit; </claim-text><claim-text> (c) a mud pulse (MP) telemetry unit; </claim-text><claim-text> (d) at least one control module communicative with the sensors and EM and MP telemetry units and comprising a processor and a memory having encoded thereon program code executable by the processor to perform a method according to any of claims 93 to 95, wherein the step of transmitting the EM signal is carried out by the EM telemetry unit, and the step of transmitting the MP telemetry signal is carried out by the MP telemetry unit. </claim-text><claim-text>A downhole telemetry method, comprising: </claim-text><claim-text> (a) at a downhole location, reading measurement data and encoding the same measurement data into an electromagnetic (EM) telemetry signal and into a mud pulse (MP) telemetry signal, then transmitting the EM and MP telemetry signals to surface, wherein at least part of the EM and MP telemetry signals are transmitted concurrently; and </claim-text><claim-text> (b) at surface, receiving the EM and MP telemetry signals, comparing the received signals and determining whether the signals meet a match threshold. </claim-text><claim-text>A method according to claim 97 further comprising in step (b), conducting an error check matching protocol on each received signal, assigning a confidence value to each received signal based on results from the error check matching protocol, and selecting the signal with the highest confidence value when the signals do not meet a match threshold. 
<!-- EPO <DP n="97"/>-->
</claim-text><claim-text>99. A method according to claim 98 further comprising in step (b) determining a signal-to-noise ratio (SNR) of each received signal and selecting the signal with the highest SNR when the signals to do not meet a match threshold and the signals have a same non-zero confidence value. </claim-text><claim-text>100. A method according to claim 99 further comprising in step (b) outputting a no data indicator when the signals do not meet a match threshold and the signals are both assigned a zero confidence value. </claim-text><claim-text>A method according to claim 97 wherein the step of concurrently transmitting the EM and MP telemetry signals comprises time-synchronizing an active frame of each telemetry signal, wherein each active frame contains a same subset of the measurement data. 102. A downhole telemetry tool comprising: </claim-text><claim-text> (a) sensors for acquiring downhole measurement data; </claim-text><claim-text> (b) an electromagnetic (EM) telemetry unit; </claim-text><claim-text> (c) a mud pulse (MP) telemetry unit; </claim-text><claim-text> (d) at least one control module communicative with the sensors and EM and MP telemetry units and comprising a processor and a memory having encoded thereon program code executable by the processor to perform a method according to any of claims 97 to 101, wherein the step of transmitting the EM signal is carried out by the EM telemetry unit, and the step of transmitting the MP telemetry signal is carried out by the MP telemetry unit. </claim-text><claim-text>A method for downhole telemetry, the method comprising: </claim-text><claim-text> at a downhole system obtaining a sensor value expressed as a plurality of digital bits by reading a sensor; </claim-text><claim-text> dividing the plurality of bits into first and second sets of bits; transmitting the first set of bits using a first telemetry system; and, transmitting the second set of bits using a second telemetry system. 
<!-- EPO <DP n="98"/>-->
</claim-text><claim-text>104. A method according to claim 103 wherein the first telemetry system comprises an EM telemetry system and the second telemetry system comprises an MP telemetry system. 105. A method according to claim 103 or 104 wherein dividing the plurality of bits into the first and second sets of bits comprises allocating a first number of the bits to the first set of bits and a second number of the bits to the second set of bits wherein the first and second numbers are selected to have a ratio in proportion to a ratio of data rates of the first and second telemetry systems. </claim-text><claim-text>106. A method according to claim 105 comprising completing transmitting the first set of bits using the first telemetry system within two seconds of completing transmitting the second set of bits using the second telemetry system. 107. A method according to any one of claims 103 to 106 wherein the sensor comprises a direction and inclination sensor and the sensor value comprises direction and inclination data. </claim-text><claim-text>108. A drilling method comprising: </claim-text><claim-text> advancing a drillstring while pumping drillingfluid through a bore of the drillstring during active drilling periods separated by flow-off periods during which the flow of drilling fluid through the drillstring is discontinued; and, </claim-text><claim-text> communicating telemetry data from a downhole system comprising an EM telemetry subsystem and a MP telemetry subsystem to surface equipment; </claim-text><claim-text> wherein the method comprises, establishing a changed MP data communication protocol for transmitting data using the MP telemetry subsystem, the changed MP data communication protocol to be effective upon commencement of an active drilling period after a flow-off period, and, during the flow-off period, transmitting header information for the changed data MP communication protocol from the downhole system to the surface equipment using the EM telemetry subsystem. 
<!-- EPO <DP n="99"/>-->
</claim-text><claim-text>109. A method according to claim 108 comprising transmitting survey data from the downhole system to the surface equipment during the flow-off period using the EM telemetry system. </claim-text><claim-text>110. A method according to claim 108 or 109 comprising, detecting a start of the active drilling period at the downhole system and in response to detecting the start of the active drilling period automatically shutting down the EM telemetry subsystem. </claim-text><claim-text>111. A method according to any one of claims 108 to 110 comprising establishing a changed EM data communication protocol for transmitting data using the EM telemetry subsystem and transmitting data required or useful for detecting and/or decoding EM telemetry signals transmitted using the changed EM data communication protocol from the downhole system to the surface equipment using the MP telemetry subsystem. </claim-text><claim-text>112. A method according to claim 111 wherein the data required or useful for detecting and/or decoding EM telemetry signals transmitted using the changed EM data communication protocol comprises one or more of an EM telemetry frequency and an EM telemetry data keying scheme. </claim-text><claim-text>113. A method according to any one of claims 108 to 111 wherein the downhole system comprises a direction and inclination sensor and the method comprises transmitting steering information comprising a reading from the direction and inclination sensor from the downhole system to the surface equipment using one or both of the EM telemetry subsystem and the MP telemetry subsystem. </claim-text><claim-text>114. A method according to claim 113 comprising transmitting the steering information from the downhole system to the surface equipment independently on each of the EM telemetry subsystem and the MP telemetry subsystem. </claim-text><claim-text>115. A method according to claim 113 comprising dividing the steering information into first and second sets of bits; transmitting the first set of bits using the EM telemetry 
<!-- EPO <DP n="100"/>-->
 subsystem; and, transmitting the second set of bits using the MP telemetry subsystem. </claim-text><claim-text>116. A method according to claim 115 comprising, at the surface equipment, receiving the first set of bits by detecting and decoding EM telemetry signals and receiving the second set of bits by detecting and decoding MP telemetry signals and combining the first and second sets of bits to yield the steering data. </claim-text><claim-text>117. A method according to claim 116 wherein the steering data consists of 7 or 11 data bits and one to five error detecting or correcting bits. </claim-text><claim-text>118. A method according to any one of claims 108 to 117 wherein the downhole system comprises a plurality of stored configuration files and establishing the changed MP data communication protocol comprises configuring the MP telemetry subsystem according to one of the stored configuration profiles. </claim-text><claim-text>119. A method according to any one of claims 108 to 118 wherein the downhole system comprises a plurality of sensors, an EM telemetry controller , and a MP telemetry controller and the method comprises: </claim-text><claim-text> operating the EM telemetry controller to obtain a first set of selected data from the plurality of sensors by way of a data bus; </claim-text><claim-text> operating the MP telemetry controller independently of the EM telemetry controller to obtain a second set of selected data from the plurality of sensors by way of the data bus; </claim-text><claim-text> transmitting the first set of data by way of the EM telemetry subsystem and transmitting the second set of data by way of the MP telemetry subsystem. </claim-text><claim-text>120. A method according to any one of claims 108 to 119, comprising, at the downhole system, obtaining a current sensor reading from a sensor; comparing the current sensor reading to a previously-transmitted sensor reading from the same sensor; and, based on the comparison determining whether or not to transmit the current sensor reading. 
<!-- EPO <DP n="101"/>-->
</claim-text><claim-text>121. A method according to claim 120 comprising, at the downhole system, assigning data items to available slots of a data transmission protocol which includes a slot for the current sensor reading. </claim-text><claim-text>A method according to claim 120 or 121 comprising, at the surface equipment detecting the absence of the current sensor reading and displaying the previously- transmitted sensor reading. </claim-text><claim-text>A method according to claim 122 comprising, at the surface equipment, displaying an indicia indicative that the displayed previously-transmitted sensor reading is not the current sensor reading. </claim-text><claim-text>124. A method according to claim 123 wherein comparing the current sensor reading to the previously-transmitted sensor reading comprises determining whether the current sensor reading differs from the previously-transmitted sensor reading by more than a threshold amount and the indicia comprises an indication of the threshold amount. </claim-text><claim-text>A method according to claim 123 wherein comparing the current sensor reading to the previously-transmitted sensor reading comprises, at the downhole system, computing a predicted value for the current sensor reading based on a plurality of previously-transmitted sensor readings for the same sensor and comparing the current sensor reading to the predicted value for the current sensor reading. </claim-text><claim-text>A drilling method comprising: </claim-text><claim-text> advancing a drillstring while pumping drillingfluid through a bore of the drillstring during active drilling periods separated by flow-off periods during which the flow of drilling fluid through the drillstring is discontinued; and, </claim-text><claim-text> communicating telemetry data from a downhole system to surface equipment; </claim-text><claim-text> wherein the method comprises, establishing a data communication protocol having slots for a plurality of specific data items and, at the downhole system, determining whether or not to transmit a specific one of the plurality of data items 
<!-- EPO <DP n="102"/>-->
 based on a comparison of a current value of the specific one of the plurality of data items with one or more previously-transmitted values for the specific one of the plurality of data items. 127. A method according to claim 126 wherein the data items comprise sensor readings. </claim-text><claim-text>128. A method according to claim 126 or 127 wherein comparing the current value of the specific one of the plurality of data items with one or more previously- transmitted values for the specific one of the plurality of data items comprises determining whether or not the current value of the specific one of the plurality of data items is within a threshold amount of a most-recently previously-transmitted value for the specific one of the plurality of data items. </claim-text><claim-text>A method according to claim 126 or 127 wherein comparing the current value of the specific one of the plurality of data items with one or more previously- transmitted values for the specific one of the plurality of data items comprises, at the downhole system, computing a predicted value for the current value of the specific one of the data items based on a plurality of the previously-transmitted values for the specific one of the data items and comparing the current value for the data item to the predicted value for the current value of the specific one of the data items. </claim-text><claim-text>A method according to any one of claims 126 to 129 comprising, at the surface equipment, detecting the absence of the current value for the specific one of the data items in data transmitted from the downhole system and displaying the previously-transmitted value for the specific one of the data items. </claim-text><claim-text>A method according to claim 130 comprising, at the surface equipment, displaying an indicia indicative that the displayed previously-transmitted value for the specific one of the data items is not the current value for the specific one of the data items. </claim-text><claim-text>132. A drilling method comprising: 
<!-- EPO <DP n="103"/>-->
 advancing a drillstring while pumping drilling fluid through a bore of the drillstring during active drilling periods separated by flow-off periods during which the flow of drilling fluid through the drillstring is discontinued; and, </claim-text><claim-text> communicating telemetry data from a downhole system to surface equipment using one or both of EM telemetry and MP telemetry; </claim-text><claim-text> wherein the method comprises, at the downhole system, detecting the beginning of one of the flow-off periods, assembling a header specifying a way in which data will be transmitted by EM and/or MP telemetry; and transmitting the header to the surface equipment using EM telemetry at a predetermined time after the beginning of the flow-off period. </claim-text><claim-text>A drilling method comprising: </claim-text><claim-text> advancing a drillstring while pumping drillingfluid through a bore of the drillstring during active drilling periods separated by flow-off periods during which the flow of drilling fluid through the drillstring is discontinued; and, </claim-text><claim-text> communicating telemetry data from a downhole system to surface equipment using one or both of EM telemetry and MP telemetry; </claim-text><claim-text> wherein the method comprises, at the downhole system: </claim-text><claim-text> transmitting telemetry data by EM telemetry; </claim-text><claim-text> monitoring an electrical output current of an EM telemetry transmitter; if the electrical output current meets or exceeds a predetermined threshold, automatically switching to transmit the telemetry data by MP telemetry. </claim-text><claim-text>134. A method according to claim 133 wherein the telemetry data comprises a </claim-text><claim-text> predetermined set of sensor readings and automatically switching to transmit the telemetry data by MP telemetry comprises transmitting a reduced set of sensor readings by MP telemetry. </claim-text><claim-text>135. A method according to claim 134 wherein the reduced set of sensor readings comprises a subset of the predetermined set of sensor readings. </claim-text><claim-text>136. A method according to claim 134 wherein the reduced set of sensor readings comprises some or all of the predetermined set of sensor readings presented at a 
<!-- EPO <DP n="104"/>-->
 resolution lower than the corresponding sensor readings of the predetermined set of sensor readings. </claim-text><claim-text>137. Surface equipment for processing downhole telemetry signals the surface </claim-text><claim-text> equipment comprising: </claim-text><claim-text> an MP telemetry signal detector; </claim-text><claim-text> an EM telemetry signal detector; </claim-text><claim-text> a display; </claim-text><claim-text> a control system configured to: </claim-text><claim-text> receive a first set of bits via the MP telemetry signal detector; </claim-text><claim-text> receive a second set of bits via the EM telemetry signal detector; combine the first and second sets of bits to yield a data unit; </claim-text><claim-text> display the data unit on the display. 138. Surface equipment according to claim 137 wherein the data unit comprises one or more error detecting or error correcting bits and the control system is configured to check the data unit for errors using the one or more error detecting or error correcting bits before displaying the data unit. 139. Surface equipment according to claim 137 or 138 wherein the data unit comprises steering information and the display is configured to identify the displayed data unit as steering information. </claim-text><claim-text>140. Surface equipment according to claim 139 wherein the steering information </claim-text><claim-text> comprises direction and inclination values and the display is configured to display the direction and inclination values and to identify the displayed direction and inclination values. </claim-text><claim-text>141. An apparatus comprising any new useful and inventive feature, combination of features or sub-combination of features described or clearly inferred herein. 
<!-- EPO <DP n="105"/>-->
 A method comprising any new, useful and inventive step, act, combination of steps and/or acts, or sub-combination of steps and/or acts described or clearly inferred herein. 
</claim-text></claim></claims><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
