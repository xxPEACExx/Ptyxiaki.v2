<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2959620-A1" country="EP" doc-number="2959620" kind="A1" date="20151230" family-id="50678167" file-reference-id="304359" date-produced="20180826" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="160452556" ucid="EP-2959620-A1"><document-id><country>EP</country><doc-number>2959620</doc-number><kind>A1</kind><date>20151230</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-14721818-A" is-representative="NO"><document-id mxw-id="PAPP193868080" load-source="docdb" format="epo"><country>EP</country><doc-number>14721818</doc-number><kind>A</kind><date>20140430</date><lang>EN</lang></document-id><document-id mxw-id="PAPP193868081" load-source="patent-office" format="original"><country>EP</country><doc-number>14721818.4</doc-number><date>20140430</date><lang>EN</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC162026734" ucid="EP-2014058794-W" linkage-type="A" load-source="docdb"><document-id format="epo"><country>EP</country><doc-number>2014058794</doc-number><kind>W</kind><date>20140430</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-1988521565" load-source="docdb">H04L   1/00        20060101AFI20151110BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1988526072" load-source="docdb">H04L   1/20        20060101ALI20151110BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1987765771" load-source="docdb" scheme="CPC">H04L   1/0031      20130101 LI20150108BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987774553" load-source="docdb" scheme="CPC">H04L   1/0026      20130101 LA20150108BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987789603" load-source="docdb" scheme="CPC">H04L   1/20        20130101 FI20150108BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT165549134" lang="DE" load-source="patent-office">VERFAHREN UND VORRICHTUNG ZUR VERBESSERTEN LANGSAMEN VERBINDUNGSADAPTION IN EINEM DRAHTLOSKOMMUNIKATIONSSYSTEM</invention-title><invention-title mxw-id="PT165549135" lang="EN" load-source="patent-office">METHOD AND APPARATUS FOR ENHANCED SLOW LINK ADAPTION IN A WIRELESS COMMUNICATION SYSTEM</invention-title><invention-title mxw-id="PT165549136" lang="FR" load-source="patent-office">PROCÉDÉ ET APPAREIL D'ADAPTATION DE LIAISON LENTE AMÉLIORÉE DANS UN SYSTÈME DE COMMUNICATION SANS FIL</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR1103327380" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>HUAWEI TECH CO LTD</last-name><address><country>CN</country></address></addressbook></applicant><applicant mxw-id="PPAR1103332760" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>HUAWEI TECHNOLOGIES CO. LTD.</last-name></addressbook></applicant><applicant mxw-id="PPAR1101645277" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Huawei Technologies Co. Ltd.</last-name><iid>101551478</iid><address><street>Huawei Administration Building Bantian Longgang District</street><city>Shenzhen, Guangdong 518129</city><country>CN</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR1103338774" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>HU SHA</last-name><address><country>SE</country></address></addressbook></inventor><inventor mxw-id="PPAR1103339470" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>HU, Sha</last-name></addressbook></inventor><inventor mxw-id="PPAR1101639526" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>HU, Sha</last-name><address><street>c/o Huawei Technologies Sweden AB Skalholtsgatan 9</street><city>S-16440 Kista</city><country>SE</country></address></addressbook></inventor><inventor mxw-id="PPAR1103331530" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>RUSEK FREDRIK</last-name><address><country>SE</country></address></addressbook></inventor><inventor mxw-id="PPAR1103328146" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>RUSEK, Fredrik</last-name></addressbook></inventor><inventor mxw-id="PPAR1101647266" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>RUSEK, Fredrik</last-name><address><street>c/o Huawei Technologies Sweden AB Emdalavägen 8</street><city>S-223 69 Lund</city><country>SE</country></address></addressbook></inventor><inventor mxw-id="PPAR1103308914" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>CHEN JIANJUN</last-name><address><country>SE</country></address></addressbook></inventor><inventor mxw-id="PPAR1103336973" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>CHEN, JIANJUN</last-name></addressbook></inventor><inventor mxw-id="PPAR1101652260" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>CHEN, JIANJUN</last-name><address><street>c/o Huawei Technologies Sweden AB Emdalavägen 8</street><city>S-223 69 Lund</city><country>SE</country></address></addressbook></inventor><inventor mxw-id="PPAR1103330265" load-source="docdb" sequence="4" format="epo"><addressbook><last-name>WU GENGSHI</last-name><address><country>SE</country></address></addressbook></inventor><inventor mxw-id="PPAR1103329956" load-source="docdb" sequence="4" format="intermediate"><addressbook><last-name>WU, GENGSHI</last-name></addressbook></inventor><inventor mxw-id="PPAR1101642953" load-source="patent-office" sequence="4" format="original"><addressbook><last-name>WU, GENGSHI</last-name><address><street>c/o Huawei Technologies Sweden AB Skalholtsgatan 9</street><city>S-16440 Kista</city><country>SE</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR1101648279" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Kreuz, Georg Maria</last-name><iid>101362137</iid><address><street>Huawei Technologies Duesseldorf GmbH Riesstrasse 8</street><city>80992 München</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="EP-2014058794-W"><document-id><country>EP</country><doc-number>2014058794</doc-number><kind>W</kind><date>20140430</date><lang>EN</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2015165514-A1"><document-id><country>WO</country><doc-number>2015165514</doc-number><kind>A1</kind><date>20151105</date><lang>EN</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS660709832" load-source="docdb">AL</country><country mxw-id="DS660624748" load-source="docdb">AT</country><country mxw-id="DS660709834" load-source="docdb">BE</country><country mxw-id="DS660725620" load-source="docdb">BG</country><country mxw-id="DS660625084" load-source="docdb">CH</country><country mxw-id="DS660703522" load-source="docdb">CY</country><country mxw-id="DS660703527" load-source="docdb">CZ</country><country mxw-id="DS660703667" load-source="docdb">DE</country><country mxw-id="DS660709839" load-source="docdb">DK</country><country mxw-id="DS660709840" load-source="docdb">EE</country><country mxw-id="DS660625881" load-source="docdb">ES</country><country mxw-id="DS660725621" load-source="docdb">FI</country><country mxw-id="DS660725622" load-source="docdb">FR</country><country mxw-id="DS660703668" load-source="docdb">GB</country><country mxw-id="DS660709841" load-source="docdb">GR</country><country mxw-id="DS660703669" load-source="docdb">HR</country><country mxw-id="DS660703528" load-source="docdb">HU</country><country mxw-id="DS660625085" load-source="docdb">IE</country><country mxw-id="DS660709842" load-source="docdb">IS</country><country mxw-id="DS660725643" load-source="docdb">IT</country><country mxw-id="DS660709847" load-source="docdb">LI</country><country mxw-id="DS660703670" load-source="docdb">LT</country><country mxw-id="DS660624749" load-source="docdb">LU</country><country mxw-id="DS660703675" load-source="docdb">LV</country><country mxw-id="DS660703676" load-source="docdb">MC</country><country mxw-id="DS660624750" load-source="docdb">MK</country><country mxw-id="DS660624763" load-source="docdb">MT</country><country mxw-id="DS660625882" load-source="docdb">NL</country><country mxw-id="DS660788861" load-source="docdb">NO</country><country mxw-id="DS660625891" load-source="docdb">PL</country><country mxw-id="DS660624764" load-source="docdb">PT</country><country mxw-id="DS660625892" load-source="docdb">RO</country><country mxw-id="DS660624765" load-source="docdb">RS</country><country mxw-id="DS660625893" load-source="docdb">SE</country><country mxw-id="DS660703529" load-source="docdb">SI</country><country mxw-id="DS660788862" load-source="docdb">SK</country><country mxw-id="DS660788863" load-source="docdb">SM</country><country mxw-id="DS660725644" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data><office-specific-data><eptags><ep-no-a-document-published>*</ep-no-a-document-published></eptags></office-specific-data></bibliographic-data><abstract mxw-id="PA163492391" ref-ucid="WO-2015165514-A1" lang="EN" load-source="patent-office"><p num="0000">A transceiver operable for selecting channel state information (CSI) of a communication link includes a radio frequency (RF) unit configured to receive a communication signal from the communication link and produce a received data signal, a processing apparatus coupled to the RF unit and configured to receive the data signal, and a memory coupled to the processing apparatus. The processing apparatus is configured to select the CSI with a fast link adaptation (FLA) stage, a first stage of enhanced slow link adaptation (ESLA), a second stage of ESLA, and a BLER tracking process.</p></abstract><abstract mxw-id="PA163790310" ref-ucid="WO-2015165514-A1" lang="EN" source="national office" load-source="docdb"><p>A transceiver operable for selecting channel state information (CSI) of a communication link includes a radio frequency (RF) unit configured to receive a communication signal from the communication link and produce a received data signal, a processing apparatus coupled to the RF unit and configured to receive the data signal, and a memory coupled to the processing apparatus. The processing apparatus is configured to select the CSI with a fast link adaptation (FLA) stage, a first stage of enhanced slow link adaptation (ESLA), a second stage of ESLA, and a BLER tracking process.</p></abstract><abstract mxw-id="PA163492392" ref-ucid="WO-2015165514-A1" lang="FR" load-source="patent-office"><p num="0000">Un émetteur-récepteur utilisable pour sélectionner des informations d'état de canal (CSI) d'une liaison de communication comprend une unité radiofréquence (RF) configurée pour recevoir un signal de communication de la liaison de communication et produire un signal de données reçu, un appareil de traitement couplé à l'unité RF et configuré pour recevoir le signal de données, et une mémoire couplée à l'appareil de traitement. L'appareil de traitement est configuré pour sélectionner les CSI avec une étape d'adaptation de liaison rapide (FLA), une première étape d'adaptation de liaison rapide améliorée (ESLA), une seconde étape d'ESLA, et un processus de suivi de BLER.</p></abstract><abstract mxw-id="PA163790311" ref-ucid="WO-2015165514-A1" lang="FR" source="national office" load-source="docdb"><p>Un émetteur-récepteur utilisable pour sélectionner des informations d'état de canal (CSI) d'une liaison de communication comprend une unité radiofréquence (RF) configurée pour recevoir un signal de communication de la liaison de communication et produire un signal de données reçu, un appareil de traitement couplé à l'unité RF et configuré pour recevoir le signal de données, et une mémoire couplée à l'appareil de traitement. L'appareil de traitement est configuré pour sélectionner les CSI avec une étape d'adaptation de liaison rapide (FLA), une première étape d'adaptation de liaison rapide améliorée (ESLA), une seconde étape d'ESLA, et un processus de suivi de BLER.</p></abstract><description mxw-id="PDES96581775" ref-ucid="WO-2015165514-A1" lang="EN" load-source="patent-office"><!-- EPO <DP n="2"/>--><p id="p0001" num="0001"> METHOD AND APPARATUS FOR ENHANCED SLOW LINK ADAPTION IN A </p><p id="p0002" num="0002"> WIRELESS COMMUNICATION SYSTEM </p><p id="p0003" num="0003">TECHNICAL FIELD </p><p id="p0004" num="0004">[0001] The aspects of the present disclosure relate generally to wireless communication systems and in particular to link adaptation techniques. </p><p id="p0005" num="0005">BACKGROUND </p><p id="p0006" num="0006">[0002] The proliferation of modern wireless communications devices, such as cell phones, smart phones, and tablet devices, has seen an attendant rise in demand for large multimedia data capabilities. These can include streaming radio, multimedia online gaming, streaming music, and TV at the user equipment (UE) or mobile station (MS). To support this ever increasing demand for higher data rates, new communications standards are being developed based on technologies, such as multiple input and multiple output (MIMO), Orthogonal Frequency Division Multiple Access (OFDMA, and bit interleave coded modulation (BICM). Examples of these standards include Long Term Evolution (LTE) and LTE-Advanced (LTE-A) being developed by the third generation partnership project (3GPP), the 802.1 1 and 802.16 family of wireless broadband standards maintained by the Institute of Electric and Electronic Engineers (IEEE), WiMAX, an implementation of the IEEE 802.1 1 standard from the WiMAX Forum, as well as others. </p><p id="p0007" num="0007"> [0003] Many of the modern communication systems include provisions for a receiver, such as a UE or MS in a downlink transmission or an eNodeB during uplink, to send channel 
<!-- EPO <DP n="3"/>-->
 state information (CSI) back to the transmitter so the transmitter can adjust system parameters to maximize the throughput of the radio frequency (RF) link. A transmitter can adapt link parameters such as the modulation and coding scheme (MCS), rank, pre-coding matrices, and transmit power in accordance with the CSI to increase throughput and robustness of data transmissions. Because of their effectiveness, link adaptation (LA), also known as adaptive modulation and coding (AMC), has found wide use in wireless communication systems. </p><p id="p0008" num="0008"> [0004] Typical LA systems feature two types of link adaptation loops. Fast link adaptation (FLA) is used as inner loop link adaptation (ILLA) to quickly react to changes in short term channel conditions such as fast fading scenarios and interference. Slow link adaptation (SLA) is used in an outer loop link adaptation (OLLA) to improve performance in situations where FLA is not operating efficiently. </p><p id="p0009" num="0009"> [0005] In modern wireless standards such as the air interfaces defined in UMTS and</p><p id="p0010" num="0010">LTE LTE-A, FLA is used to select a channel quality indicator (CQI) at the receiver and send the selected CQI back to the transmitter where it is used to select a MCS to be used in subsequent transmissions. Typical receivers select CQI using a mapping from a measured signal to interference plus noise ratio (SINR) to the most appropriate MCS. The CQI is an index corresponding to one of the available MCS where a higher CQI corresponds to higher throughput MCS. The terms CQI and MCS may be used interchangeably herein. </p><p id="p0011" num="0011"> [0006] These mappings of measured SINR to CQI have several limitations, such as impairment of the SINR estimation, inaccurate SINR to CQI mapping, uplink reporting delay, etc., and therefore cannot always provide efficient FLA. To handle situations where FLA is not 
<!-- EPO <DP n="4"/>-->
 able to provide appropriate LA, SLA may be added in an OLLA to improve overall LA performance. </p><p id="p0012" num="0012"> [0007] SLA is used as an OLLA to adjust the CQI selected by the FLA based ILLA in order to meet a certain block error rate (BLER) target. The BLER target is chosen to provide optimal data transmission performance and depends on system configuration details such as whether a retransmission mechanism like hybrid automatic repeat requests (HARQ) is employed. In LTE with HARQ activated, the BLER target is usually set to 10%. Including a SLA based OLLA can improve data throughput and provide protection from systematic error conditions which can occur when the FLA does not work efficiently. For instance, when the SINR to CQI mapping being used by FLA does not match well with current channel conditions, the BLER can become very high and, if no SLA based OLLA is included, data throughput can be dramatically degraded. FLA is typically implemented at the receiver side, while SLA can be implemented at either the receiver or transmitter. </p><p id="p0013" num="0013"> [0008] Current link adaptation methods typically include both a FLA based ILLA and a</p><p id="p0014" num="0014">SLA based OLLA where FLA may be implemented using several different mapping methods such as exponential effective signal to noise ratio (SNR) mapping (EESM), mean mutual information per bit (MMIB), and received block information rate (RBIR). Similarly, SLA can also be implemented in a variety of ways and choose different parameters for selection by the SLA algorithms. Several parameters may be used in the OLLA such as SINR, SINR to CQI mapping thresholds, and CQI index. However, two factors are not taken into account by these prior art SLA techniques. In prior art SLA techniques, a pre-defined BLER target needs to be set. For example, in LTE the pre-defined BLER value is usually 0.1 or 10%. Using a fixed pre- 
<!-- EPO <DP n="5"/>-->
 defined BLER target may be optimal in a general sense but is not always optimal for each specific channel condition that a UE may be experiencing at the time data transmission occurs. In addition to using a pre-defined BLER target, acknowledgement (ACK) / negative- acknowledgement (NAK) information is used as a basis for SLA adaptation. But since only past information is used, when the CQI feedback delay or the UE velocity increases, the CQI currently chosen by the link adaptation algorithms may be invalid at the time the CQI is utilized by the transmitter. Furthermore, when SINR and RBIR become independent the predicted CQI will not work efficiently and a constant CQI can provide better throughput for certain specific channel conditions. </p><p id="p0015" num="0015"> [0009] Accordingly, it would be desirable to provide LA techniques that can solve at least some of the problems outlined above. </p><p id="p0016" num="0016">SUMMARY </p><p id="p0017" num="0017">[0010] On the above background it is an object of the present invention to provide an apparatus and methods by means of which it is possible to improve data transmission rates in a communication link which employs link adaptation feedback, in particular, but not exclusively, for selecting CSI at either a receiver or a transmitter. </p><p id="p0018" num="0018"> [0011] The foregoing and other objects are achieved by the features of the independent claims. Further implementation forms are apparent from the dependent claims, the description and the figures. </p><p id="p0019" num="0019"> [0012] According to a first aspect, a transceiver, operable for selecting channel state information (CSI) of a communication link, comprises a radio frequency (RF) unit configured to 
<!-- EPO <DP n="6"/>-->
 receive a communications signal from the communication link and produce a received data signal; a processing apparatus coupled to the RF unit and configured to receive the data signal; and a memory coupled to the processing apparatus. The processing apparatus is configured to generate channel estimates, a cyclic redundancy check (CRC) result, and transmission parameter information, based on the digital signal. The channel estimates and CRC result are used to generate with a fast link adaptation (FLA) algorithm a FLA CSI and a received block information rate (RBIR) correlation value based on the channel estimates and the CRC result, where the FLA stage is configured to compute a RBIR for each modulation and coding scheme (MCS) in an employed set of MCS, and generate the FLA CSI and the estimated RBIR correlation value based the computed RBIR. A first stage enhanced slow link adaptation (ESLA) algorithm generates a filtered CSI based on the FLA CSI, a first stage block error rate (BLER) target, and the CRC results, wherein the first stage ESLA algorithm is configured to compute a CSI adjusting factor based on the CRC result and the first stage BLER target, and combine the CSI adjusting factor with the FLA CSI to obtain the filtered CSI. A pair of history buffers, including a CSI history buffer and a CRC history buffer, are updated with the filtered CSI and CRC result each history buffer comprises a predetermined number of past CSI or CRC values respectively. The processing apparatus generates in a second stage ESLA algorithm an output CSI based on the filtered CSI, the CRC history buffer, and the CSI history buffer, wherein the second stage ESLA algorithm is configured to select a CSI filter parameter from a set of predetermined filter constants based on the CSI history buffer, and to compute an output CSI based on the selected CSI filter parameter. The first stage BLER target is adjusted with a BLER target tracking algorithm based on the CSI history buffer and the CRC history buffer, wherein 
<!-- EPO <DP n="7"/>-->
 the BLER target tracking algorithm is configured to calculate a set of link throughput values corresponding to a set of CSI values, select the maximum link throughput from the set of link throughput values, calculate an expected BLER based on the selected maximum link throughput and the CRC history buffer, and adjust the first stage BLER target based on the expected BLER and a predetermined tracking parameter. </p><p id="p0020" num="0020"> [0013] In a first possible implementation form of the transceiver according to the first aspect, the FLA algorithm is configured to generate a predicted RBIR based on the computed RBIR, and select the first CSI based on the predicted RBIR and the CRC result. </p><p id="p0021" num="0021"> [0014] In a second possible implementation form of the transceiver according to the first implementation form of the first aspect, the second stage ESLA algorithm is activated when the RBIR correlation is above a predetermined threshold value, and bypassed when the RBIR correlation is not greater than the predetermined threshold. </p><p id="p0022" num="0022"> [0015] In a third possible implementation form of the transceiver according to the first aspect as such or to the second or third implementation forms of the first aspect, a long term CSI statistic and a short term CSI statistic are determined based on the CSI history buffer, and the second stage ESLA algorithm is configured to select the output CSI based on the short term CSI statistic and the long term CSI statistic. The long term CSI statistic corresponds to the most commonly used CSI during the first predetermined number of CSI values in the CSI history buffer, the short term CSI statistic corresponds to the most commonly used CSI during a second predetermined number of CSI values in the CSI history buffer, where the first predetermined number is larger than the second predetermined number. 
<!-- EPO <DP n="8"/>-->
 [0016] In a fourth possible implementation form of the transceiver according to the third possible implementation form of the first aspect, the second stage ESLA algorithm is configured to set the CSI filter parameter to a first predetermined filter constant when the short term CSI statistic is equal to the long term CSI statistic, set the CSI filter parameter to a second predetermined filter constant when the short term CSI statistic is not equal to the long term CSI statistic, and adjust the output CSI based on the CSI filter parameter. </p><p id="p0023" num="0023"> [0017] In a fifth possible implementation form of the transceiver according to the first aspect as such or to any of the preceding first through fourth possible implementation forms of the first aspect, the BLER tracking algorithm determines a first throughput based on the long term CSI statistic and the CRC history buffer, selects a next lower CSI and determines a second throughput based on the next lower CSI and the CRC history buffer, selects a next higher CSI and determines a third throughput based on the next higher CSI and the CRC history buffer. The maximum throughput is selected from the determined first throughput, the second throughput, and the third throughput, and an expected BLER corresponding to the maximum throughput is selected. A working BLER target is computed based on the expected BLER and a predetermined tracking constant, and the first stage BLER target is adjusted based on the working BLER. </p><p id="p0024" num="0024"> [0018] In a sixth possible implementation form of the transceiver according to the fifth possible implementation form of the first aspect, the first stage BLER target is obtained by constraining the working BLER between a predetermined minimum target BLER and a predetermined maximum target BLER. 
<!-- EPO <DP n="9"/>-->
 [0019] In a seventh possible implementation form of the transceiver according to the first aspect, when the CRC result is a pass the CSI adjusting factor is increased and when the CRC result is a fail the CSI adjusting factor is decreased. </p><p id="p0025" num="0025"> [0020] In an eighth possible implementation form of the transceiver according to the first aspect as such or to any of the preceding first through seventh possible implementation forms of the first aspect, the processing apparatus is configured to perform a rank indication (RI) post process where the RI post process is configured to, obtain a RI from the FLA CSI, apply hysteresis to the obtained RI to create an output RI, and activate a SLA reset flag when the output RI is different than a previous output RI. </p><p id="p0026" num="0026"> [0021] In a ninth possible implementation form of the transceiver according to the eighth possible implementation form of the first aspect, activating the SLA reset flag resets the CSI adjusting factor to zero, clears the CSI history buffer, clears the CRC history buffer, and sets the working BLER to a predetermined starting BLER. </p><p id="p0027" num="0027"> [0022] In a tenth possible implementation form of the transceiver according to the first aspect as such or to any of the preceding first through ninth possible implementation forms of the first aspect, when the selected rank index (RI) has been used to transmit the communication signal the FLA CSI is entered into the CSI history buffer and when the selected RI is different than the RI used to transmit the communication signal a RI flag value is entered into the CSI history buffer, where the RI flag value indicates the value should be excluded from any calculations involving the CSI history buffer. </p><p id="p0028" num="0028"> [0023] In an eleventh possible implementation form of the transceiver according to the first aspect as such or to any of the preceding first through tenth possible implementation forms 
<!-- EPO <DP n="10"/>-->
 of the first aspect, the output CSI comprises one or more values selected from the group comprising a wide -band channel quality indicator (CQI), a sub-band CQI, a rank indicator, and a pre-coding matrix indicator. </p><p id="p0029" num="0029"> [0024] In a twelfth possible implementation form of the transceiver according to the first aspect as such or to any of the preceding first through eleventh possible implementation forms of the first aspect, the communication signal comprises an orthogonal frequency division multiple access type signal. </p><p id="p0030" num="0030"> [0025] In a thirteenth possible implementation form of the transceiver according to the first aspect as such or to any of the preceding first through twelfth possible implementation forms of the first aspect, the transceiver is a user equipment comprising a mobile station. </p><p id="p0031" num="0031"> [0026] According to a second aspect, a method for selecting channel state information</p><p id="p0032" num="0032">(CSI) in a wireless transceiver comprises fast link adaptation (FLA), a first stage of enhanced slow link adaptation (ESLA), a second stage of ESLA, and a BLER tracking. The method generates channel estimates, a cyclic redundancy check (CRC) result, and received CSI information, based on the received radio frequency signal. A fast link adaptation (FLA) algorithm generates a FLA CSI and a received block information rate (RBIR) correlation value based on the channel estimates and the CRC results, wherein the FLA algorithm is configured to: compute a RBIR for each MCS in an employed set of MCS, and generate the FLA CSI and the estimated RBIR correlation value based on the calculated RBIR. A first stage enhanced slow link adaptation (ESLA) algorithm generates a filtered CSI based on the FLA CSI, a first stage block error rate (BLER) target, and the CRC result, wherein the first stage ESLA algorithm is configured to compute a CSI adjusting factor based on the CRC result and the first stage BLER 
<!-- EPO <DP n="11"/>-->
 target, combine the FLA CSI and the CSI adjusting factor to select the filtered CSI. A pair of history buffers, including a CSI history buffer and a CRC history buffer, are updated with the filtered CSI and CRC result each history buffer comprises a predetermined number of past CSI or CRC values respectively. A second stage ESLA algorithm generates an output CSI based on the filtered CSI, the CRC results, and the CSI history buffer, wherein the second stage ESLA algorithm is configured to select a CSI filter parameter from a set of predetermined filter constants based on the CSI history buffer, and to compute an output CSI based on the selected CSI filter parameter. The first stage BLER target is adjusted with a BLER target tracking algorithm based on the CSI history buffer and the CRC history buffer. The BLER target tracking algorithm is configured to calculate a set of link throughput values corresponding to a set of CSI values, select the maximum link throughput from the set of calculated link throughput values, calculate an expected BLER based on the calculated maximum link throughput and the CRC history buffer, and adjust the first stage BLER target based on the expected BLER and a predetermined tracking parameter. </p><p id="p0033" num="0033"> [0027] In a first possible implementation form of the method according to the second aspect, the second stage ESLA algorithm is activated when the RBIR correlation is above a predetermined threshold value, and bypassed when the RBIR correlation is equal to or less than the predetermined threshold. </p><p id="p0034" num="0034"> [0028] In a second possible implementation form of the method according to the second aspect as such or to the first possible implementation form of the second aspect, the method comprises a rank indication (RI) Post Process configure to obtain a RI from the FLA CSI, apply hysteresis to the obtained RI to create an output RI, and activate a SLA reset flag when the 
<!-- EPO <DP n="12"/>-->
 output RI is different than a previous output RI. Activating the SLA reset flag resets the CSI adjusting factor to zero, clears the CSI history buffer, clears the CRC history buffer, and sets the working BLER to a predetermined starting BLER. </p><p id="p0035" num="0035"> [0029] In a third possible implementation form of the method according to the second aspect, the FLA algorithm generates a predicted RBIR based on the computed RBIR, and selects the FLA CSI based on the predicted RBIR and the CRC result. </p><p id="p0036" num="0036"> [0030] In a fourth possible implementation form of the method according to the second aspect as such or to any of the previous first through third implementation forms of the second aspect, a long term CSI statistic and a short term CSI statistic are determined based on the CSI history buffer, and the long term CSI statistic corresponds to the most commonly used CSI during the first predetermined number of past CSI values, the short term CSI statistic corresponds to the most commonly used CSI during a second predetermined number of past CSI values, and wherein the first predetermined number is larger than the second predetermined number. </p><p id="p0037" num="0037"> [0031] In a fifth possible implementation form of the method according to the second aspect, the second ESLA stage is configured to, set the CSI filter parameter to a first predetermined filter constant when the short term CSI statistic is equal to the long term CSI statistic, set the CSI filter parameter to a second predetermined filter constant when the short term CSI statistic is not equal to the long term CSI statistic, and adjust the output CSI based on the CSI filter parameter. </p><p id="p0038" num="0038"> [0032] In a sixth possible implementation form of the method according to the second aspect as such or to any of the preceding first through fifth implementation forms of the second 
<!-- EPO <DP n="13"/>-->
 aspect, the BLER tracking algorithm determines a first throughput based on the long term CSI statistic and the CRC history buffer, selects a next lower CSI and determines a second throughput based on the next lower CSI and the CRC history buffer, selects a next higher CSI and determines a third throughput based on the next higher CSI and the CRC history buffer, selects the maximum throughput from the first throughput, the second throughput, and the third throughput, selects an expected BLER corresponding to the maximum throughput, computes a working BLER target based on the expected BLER and a predetermined tracking constant, and adjusts the first stage BLER target based on the working BLER. </p><p id="p0039" num="0039"> [0033] In a seventh possible implementation form of the method according to the sixth possible implementation form of the second aspect, the first stage BLER target is obtained by constraining the working BLER between a predetermined minimum target BLER and a predetermined maximum target BLER. </p><p id="p0040" num="0040"> [0034] In an eighth possible implementation form of the method according to the second aspect as such or to any of the preceding first through seventh possible implementation forms of the second aspect, when the selected rank index (RI) has been used to transmit the communication signal the FLA CSI is entered into the CSI history buffer and when the selected RI is different than the RI used to transmit the communication signal a RI flag value is entered into the CSI history buffer, where the RI flag value indicates the value should be excluded from any calculations involving the CSI history buffer. </p><p id="p0041" num="0041"> [0035] In a ninth possible implementation form of the method according to the second aspect as such or to any of the preceding first through eighth possible implementation forms of the second aspect, the CSI comprises one or more values selected from the group comprising a 
<!-- EPO <DP n="14"/>-->
 wide -band channel quality indicator (CQI), a sub-band CQI, a rank indicator, and a pre-coding matrix indicator. </p><p id="p0042" num="0042"> [0036] According to a third aspect, a computer program product comprises a non- transient computer readable storage medium having stored thereon computer readable program code that when accessed by a processing apparatus, causes the processing apparatus to perform a method for selecting channel state information (CSI) in a in a wireless transceiver. The method generates channel estimates, a cyclic redundancy check (CRC) result, and received CSI information, based on the received radio frequency signal. A fast link adaptation (FLA) algorithm generates a FLA CSI and a received block information rate (RBIR) correlation value based on the channel estimates and the CRC results, wherein the FLA algorithm is configured to: compute a RBIR for each MCS in an employed set of MCS, and generate the FLA CSI and the estimated RBIR correlation value based on the calculated RBIR. A first stage enhanced slow link adaptation (ESLA) algorithm generates a filtered CSI based on the FLA CSI, a first stage block error rate (BLER) target, and the CRC result, wherein the first stage ESLA algorithm is configured to compute a CSI adjusting factor based on the CRC result and the first stage BLER target, combine the FLA CSI and the CSI adjusting factor to select the filtered CSI. A pair of history buffers, including a CSI history buffer and a CRC history buffer, are updated with the filtered CSI and CRC result each history buffer comprises a predetermined number of past CSI or CRC values respectively. A second stage ESLA algorithm generates an output CSI based on the filtered CSI, the CRC results, and the CSI history buffer, wherein the second stage ESLA algorithm is configured to select a CSI filter parameter from a set of predetermined filter constants based on the CSI history buffer, and to compute an output CSI based on the selected 
<!-- EPO <DP n="15"/>-->
 CSI filter parameter. The first stage BLER target is adjusted with a BLER target tracking algorithm based on the CSI history buffer and the CRC history buffer. The BLER target tracking algorithm is configured to calculate a set of link throughput values corresponding to a set of CSI values, select the maximum link throughput from the set of calculated link throughput values, calculate an expected BLER based on the calculated maximum link throughput and the CRC history buffer, and adjust the first stage BLER target based on the expected BLER and a predetermined tracking parameter. </p><p id="p0043" num="0043"> [0037] These and other aspects and advantages of the exemplary embodiments will become apparent from the following detailed description considered in conjunction with the accompanying drawings. It is to be understood, however, that the description and drawings are designed solely for purposes of illustration and not as a definition of the limits of the invention, for which reference should be made to the appended claims. Additional aspects and advantages of the invention will be set forth in the description that follows, and in part will be obvious from the description, or may be learned by practice of the invention. Moreover, the aspects and advantages of the invention may be realized and obtained by means of the instrumentalities and combinations particularly pointed out in the appended claims. </p><p id="p0044" num="0044">BRIEF DESCRIPTION OF THE DRAWINGS </p><p id="p0045" num="0045">[0038] In the drawings: </p><p id="p0046" num="0046"> [0039] Figure 1 illustrates a pictorial depiction of a typical radio network. </p><p id="p0047" num="0047"> [0040] Figure 2 illustrates a block diagram 200 showing the basic processes used in closed loop link adaptation incorporating aspects of the present disclosure. 
<!-- EPO <DP n="16"/>-->
 [0041] Figure 3 illustrates a block diagram of an ESLA based CSI reporting technique incorporating aspects of the disclosed embodiments. </p><p id="p0048" num="0048"> [0042] Figure 4 illustrates a block diagram of a FLA process incorporating aspects of the disclosed embodiments. </p><p id="p0049" num="0049"> [0043] Figure 5 illustrates a graph showing a mapping of RBIR to BLER incorporating aspects of the present disclosure. </p><p id="p0050" num="0050"> [0044] Figure 6 illustrates a flow chart of a RI post process incorporating aspects of the disclosed embodiments. </p><p id="p0051" num="0051"> [0045] Figure 7 illustrates a flowchart of an exemplary first stage ESLA process incorporating aspects of the disclosed embodiments. </p><p id="p0052" num="0052"> [0046] Figure 8 illustrates a graph of measured RBIR versus subframe incorporating aspects of the present disclosure. </p><p id="p0053" num="0053"> [0047] Figure 9 illustrates a graph of normalized RBIR correlation for channel under extended pedestrian A model incorporating aspects of the present disclosure. </p><p id="p0054" num="0054"> [0048] Figure 10 illustrates a flow chart of an exemplary second stage ESLA process incorporating aspects of the disclosed embodiments. </p><p id="p0055" num="0055"> [0049] Figure 1 1 illustrates a flow chart of an exemplary BLER target tracking process incorporating aspects of the disclosed embodiments. </p><p id="p0056" num="0056"> [0050] Figure 12 illustrates graphs showing simulated throughput and BLER performance of a system incorporating an ESLA CQI reporting algorithm incorporating aspects of the present disclosure. 
<!-- EPO <DP n="17"/>-->
 [0051] Figure 13 illustrates graphs showing the feedback probability for CQI indices incorporating aspects of the present disclosure. </p><p id="p0057" num="0057"> [0052] Figure 14 illustrates graphs showing throughput of a system incorporating an</p><p id="p0058" num="0058">ESLA CQI reporting algorithm incorporating aspects of the present disclosure. </p><p id="p0059" num="0059"> [0053] Figure 15 illustrates a block diagram of an apparatus for wireless communications incorporating aspects of the disclosed embodiments. </p><p id="p0060" num="0060">DETAILED DESCRIPTION OF THE DISCLOSED EMBODIMENTS </p><p id="p0061" num="0061">[0054] The embodiments disclosed herein avoid many of the problems of the prior art by employing novel enhanced slow link adaptation (ESLA) techniques including multiple stages of ELSA along with BLER tracking. </p><p id="p0062" num="0062"> [0055] The novel enhanced SLA (ESLA) techniques disclosed herein are illustrated using concrete examples of LTE/LTE-A type systems, however those skilled in the art will readily recognize that the disclosed ESLA techniques and apparatus may be applied in other types of wireless system which include CSI feedback from a receiver to the transmitter without straying from the spirit and scope of the present invention. For example other systems appropriate for application of the disclosed ESLA techniques and apparatus include GPRS, UMTS, W-LAN, WCDMA, etc. Some of the disclosed embodiments illustrate SLA implemented at the UE side. Alternatively, the disclosed ESLA techniques and apparatus may be advantageously employed at other mobile stations or radio base stations such as an eNodeB in LTE and LTE-A type systems where all necessary information can be reported to the eNodeB through the uplink transmission. 
<!-- EPO <DP n="18"/>-->
 [0056] In one embodiment, illustrated using terminology from LTE, the ESLA algorithm can be summarized as follows: </p><p id="p0063" num="0063"> • A FLA based ILLA, which includes a RBIR prediction unit, is used to select the best pre- coding matrix indicator (PMI), rank indicator (RI), and CQI; </p><p id="p0064" num="0064"> · A normalized RBIR correlation is estimated based on the predicted RBIR values generated during the FLA. </p><p id="p0065" num="0065"> • A first stage of ESLA is used to adjust the CQI selection based on and constrained by a BLER target received from a BLER tracking unit; </p><p id="p0066" num="0066"> • When the estimated RBIR correlation is below a pre-defined threshold value, a second stage of ESLA is activated to boost SLA performance, otherwise the second stage of</p><p id="p0067" num="0067">ESLA is deactivated; </p><p id="p0068" num="0068"> • A BLER target tracking module is used to adaptively adjust the BLER target used by the first stage of ESLA. </p><p id="p0069" num="0069"> [0057] Figure 1 illustrates a pictorial depiction of a typical radio network 100. The radio network 100 includes a radio base station 106 which in the illustrated radio network 100 is an evolved node B (eNodeB) type radio base station. The radio base station 106 is in communication with one or more pieces of user equipment (UE) 108. While Figure 1 illustrates a single radio base station 106 and a single UE 108 it should be understood that the radio network 100 may include any number of radio base stations 106 and UE 108. Each UE 108 in the radio network 100 receives data from the eNodeB 106 over a down link (DL) 102 and transmits data to the eNodeB 106 over an up link (UL) 104. For link adaptation, a feedback loop is implemented where the UE 108 receives data over the DL 102, evaluates channel quality by using reference 
<!-- EPO <DP n="19"/>-->
 signals or pilot symbols embedded in the received data, then selects appropriate CSI feedback values, which in an LTE type network include CQI, RI, and PMI, based on the current and/or past link quality evaluations. It has been shown that significant improvements in downlink throughput can be achieved through the careful selection of CSI feedback values. As will be discussed further below, using FLA techniques in conjunction with multiple stages of SLA can improve both throughput and robustness of downlink transmissions. CSI feedback values are selected by the UE 108 and sent to the radio base station 106 over an UL 104. The radio base station 106 then uses the CSI values received from the UE 108 via the UL 104 to adapt link parameters, such as MCS, rank, transmit power, etc., for use in subsequent transmissions to the UE 108 over the DL 102. </p><p id="p0070" num="0070"> [0058] Figure 2 illustrates a block diagram 200 showing the basic processes used in closed loop link adaptation. A receiver, such as UE 106, receives a data signal 206 from a down link 102. A demodulation and decoding process 206 separates cell reference signals 210, which in certain embodiments may be pilot symbols, and data symbols 212. The control channel data is decoded 208 to extract control information. The transmitted data is decoded 214 to extract the transmitted data along with transmission status information 216 such as cyclic redundancy check (CRC) results, also referred to herein as ACK/NAK information. Channel quality metrics 220 such as SINR or mutual information MI are computed 218 and provided along with the status information 216 to an uplink reporting process 222 which selects CSI values to be sent to the transmitter 106 over the UL 104. The selected CSI may include for example CQI, PMI, and RI as used in LTE/LTE-A systems or may include other appropriate CSI feedback. The transmitter 106 receives the CSI over the UL 104 where it is used along with the transmitter's own configuration 
<!-- EPO <DP n="20"/>-->
 to adjust 224 the transmission scheme which for example may include selection of a MCS. The data and selected CQI, RI, PMI, and HARQ information are allocated to resource elements 226 then coded and modulated 228 for transmission over the DL 102. It should be noted that there is a delay between receiving CSI from a UE 108 and using the updated transmission scheme for a DL transmission due to decoding and processing latency in the transmitter 106 and receiver 108. As used herein the term process may be used interchangeably with the term algorithm as each process implements a corresponding algorithm to achieve the desired purpose. </p><p id="p0071" num="0071"> [0059] A block diagram of an ESLA based CQI reporting technique 300 is illustrated in</p><p id="p0072" num="0072">Figure 3. Cell reference signals (CRS) 306, such a pilot symbols, are extracted 304 from a received signal 302, then a channel estimator 308 computes channel estimates 310 for input to a FLA process 312. The ESLA based CQI scheme 300 includes three link adaptation processes: a FLA 312 process that receives the channel estimates 310 and produces an initial CQI recommendation 314; a first stage ESLA process 316 further refines the initial CQI recommendation 314 to produce a first stage CQI estimate (CQI SLAl) 318; and a second stage ESLA process 320 provides further filtering of the first stage CQI estimate 318 and produces a final recommended CQI (CQI SLAl) 322 that may be returned to a transmitter such as an eNodeB (not shown) where it can be used to adapt link parameters such as the MCS. When an RBIR correlation 326 falls below a pre -determined threshold value, it indicates that the channel conditions are changing rapidly and a second stage of ELSA 320 needs to be activated to filter the first stage CQI estimate CQI SLAl 318. The second stage ESLA process 320 is activated (or deactivated) by a CQI filter flag (CFF) 330 generated by a RBIR process 324. The RBIR process 324 receives a RBIR correlation signal 326 from the FLA process 312 and produces the CFF 330 
<!-- EPO <DP n="21"/>-->
 which is provided as an input to the second stage ESLA process 320. The second stage ESLA process 320 also receives status and control information contained in the received signal 302 including ACK/NAK information 334 and the CQI and RI 336 used during transmission of the received signal 302. As will be discussed further below, the first stage ESLA process 316 and second stage ESLA process 320 include state values and parameters that need to be reset under certain conditions such as when the rank of the transmitted signal changes. To facilitate resetting of the first 316 and second 320 stage ESLA process a RI post process 340 receives a RI value 342 from the FLA process 312 and produces a SLA reset flag (SRF) 328 which is provided to both the first 316 and second 320 stage ESLA processes. The RI post process 340 also produces a final recommended RI estimate 346 that is returned to the transmitter (not shown) in certain embodiments. Use of a constant BLER target does not always provide optimal results, so the exemplary ESLA based CQI reporting technique 300 includes a BLER target tracking process 332 that received long term and short term CQI statistics 348 from the second stage ESLA process 320 and generates a BLER target 338 for the first stage ESLA process 316. Alternatively, the BLER target tracking process 332 may generate its own CQI statistics thereby removing the requirement to receive the CQI statistics 348 from the second stage ESLA process 320. As an aid to understanding, the ESLA process 300 can be organized into six processes as follows: </p><p id="p0073" num="0073"> • a FLA process 312 that produces an initial CQI estimate 314; </p><p id="p0074" num="0074"> • a first stage of ESLA 316 that refines the initial CQI estimate314; </p><p id="p0075" num="0075"> • a second stage of ESLA 320 that is used to improve link throughput when the RBIR correlation 326 is below a pre-defined threshold value; 
<!-- EPO <DP n="22"/>-->
 • a BLER tracking process 332 that adapts the BLER target 338 used by the first stage ESLA process 316; </p><p id="p0076" num="0076"> • an RBIR process 324 that uses a RBIR correlation signal to generate a CFF 330 based on the RBIR correlation signal 326; and </p><p id="p0077" num="0077"> · a RI post process 340 used to control resetting of the first 316 and second 320 stage</p><p id="p0078" num="0078">ESLA processes based on the RI recommendation 342 from the FLA process 312. </p><p id="p0079" num="0079">It should be noted the above organization of the ESLA process 300 into six sub processes is provided as an aide to understanding and various combinations and omissions of the processes and functionalities may be made by one skilled in the art without straying from the spirit and scope of the disclosed embodiments. It should be noted that throughout the remainder of this disclosure references will be made to the processes in Figure 3 by process number without specifically referring to Figure 3. </p><p id="p0080" num="0080"> [0060] Figure 4 illustrates a block diagram of an exemplary FLA algorithm 400 that is appropriate for use in FLA process 312 of the ESLA process 300 described above. The FLA algorithm 400 relies on a RBIR, which is also sometimes referred to as normalized mutual information per bit, as a link performance metric because it provides a good tradeoff between performance and complexity. Alternatively other FLA methods relying on other performance metrics, such as exponential effective SINR mapping (EESM), mean mutual information per bit (MMIB), or other appropriate FLA techniques, may also be advantageously employed. The illustrated FLA algorithm 400 includes a set of Rank processes 402-1 , 402-2, through 402 -L, where there is a separate Rank process 402 -n for each rank index assumption being considered. In the illustrated FLA algorithm 400, L is the number of considered rank index assumptions. 
<!-- EPO <DP n="23"/>-->
 Channel estimates 418 are received by each Rank process 402-1 , 402-2, through 402-L. The channel estimates 418 may be generated by any appropriate technique, such as for example pilot symbol assisted channel estimation using linear minimum mean square error (LMMSE) estimation. The FLA algorithm 400 produces CSI, which in the illustrated LTE embodiment includes RI 422, PMI 424, and CQI 426, along with other information, such as an SLA reset flag (SRF) 328 and RBIR correlation 326, which are used in certain embodiments to control downstream ESLA processes. All Rank process 402 are the same for each rank assumption and include a number of steps resulting in a set of selected CQI 404-1 , 404-2, 404-L for each rank assumption. Each Rank process 402 begins by calculating SINR and RBIR 408 based on the received channel estimates 418, and a PMI is selected 410 based on the results of the SINR and RBIR calculation 408. A buffer, or dictionary, containing past RBIR information is updated 412 using current RBIR data calculated 410 from the channel estimates 418. Next RBIR predictions are estimated 414 and used to select 416 the best CQI for the particular rank assumption. The selected CQI for each rank assumption 404-1 , 404-2, through 404-L, selected by each Rank process, 402-1 , 402-2, 402-L, are used by an RI selection process 406 to select the RI 342 that maximizes total throughput of the link. The RI selection process 406 also selects an associated PMI 424, and CQI 314. A RI post process 340 uses the selected RI 342 to generate a SRF 328 and final recommended RI estimate 346. An RBIR process 428 then uses the selected RI 422 and CQI 426 to generate a RBIR correlation 326. </p><p id="p0081" num="0081"> [0061] Calculation of the RBIR is the same for each rank index (RI) assumption and may be described as follows. The received signal at OFDM symbol n of subcarrier k can be expressed by equation (eq.l): 
<!-- EPO <DP n="24"/>-->
 J k,n H k,,n W k,,n x k,,n +n k,,n , (e .1 ) where x<sub>kn</sub> = (x<sub>kn</sub> (l)&gt; x<sub>kn</sub>{2), <sub>in</sub>( )) is an Lxl vector comprising the transmitted data symbols, n<sub>kn</sub>i a N<sub>R</sub> xl vector of complex Gaussian noise with zero mean and co variance matrix σ<sup>2</sup>Ι , y<sub>kn</sub> is a N^xl vector of the received data symbols, H<sub>kn</sub>is the N<sub>R</sub>x.N<sub>T</sub> channel matrix that is estimated through cell reference signals (CRS) also known as pilot symbols or pilots. W<sub>kn</sub> is the N<sub>r</sub>xJ effective pre-coding matrix that may include a pre-coder, circular delay diversity matrix, and a large delay diversity matrix, and is known at receiver side for a given transmission mode and PMI. Here L is the number of layers, N<sub>r</sub> is the number of transmit antennas and N<sub>R</sub> is the number of receive antennas. The transmitted symbol x<sub>kn</sub> can be estimated using a normalized LMMSE filter as shown in equation (eq.2): </p><p id="p0082" num="0082"><img id="imgf000024_0001" he="35" wi="160" file="imgf000024_0001.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="no"/></p><p id="p0083" num="0083"> In equation (eq.2) the diag(') operator generates a diagonal matrix with the same main diagonal elements as the original matrix and all remaining elements set to zero, and the super script H represents the Hermitian transpose and super script T represents the normal transpose. For each transmitted symbol, x<sub>k n</sub> (/) , where / is the layer number and 1 e( 0 &lt; / &lt; L), the estimation of equation (eq.2) can be rewritten as equation (eq.3): 
<!-- EPO <DP n="25"/>-->
 X, ( = ¾.. ( <sup>+</sup> ¾.. ( · (<sup>ε</sup>¾·<sup>3</sup>) </p><p id="p0084" num="0084">The noise term n<sub>k n</sub> (l) absorbs filter noise and residual spatial interference between the data symbols and is assumed to be independent across different layers. Assuming the power of each transmitted symbol x<sub>k n</sub> (/) is normalized to one (1), the channel can be qualitatively quantified through the individual SINR as shown in equation (eq.4): 
<img id="imgf000025_0001" he="19" wi="137" file="imgf000025_0001.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="no"/>
 </p><p id="p0085" num="0085">The SINRs y <sub>k n</sub> (/) for each different symbol and subcarrier combination within a subframe may then be mapped into a single scalar SINR value that represents the channel quality. </p><p id="p0086" num="0086"> [0062] The RBIR of layer 1 is calculated using equation (eql5): </p><p id="p0087" num="0087"><sup>•</sup> N i=0 «=0 </p><p id="p0088" num="0088"> In equation (eq.5) /(·) is a function that maps SINR to normalized RBIR and is different for different modulation types. The mapping function /(·) can be approximated by a J-function and is shown in Table 1 for a few modulation types: quadrature phase shift keyed modulation (QPSK), 16 symbol quadrature amplitude modulation (16QAM), and 64 symbol QAM (64QAM). 
<!-- EPO <DP n="26"/>-->
 
<img id="imgf000026_0001" he="82" wi="118" file="imgf000026_0001.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="no"/>
 </p><p id="p0089" num="0089"> The constants and έ\ , b<sub>2</sub> , b<sub>3</sub> , may be obtained using numerical simulations and the j- function is defined by equation (eq.6): </p><p id="p0090" num="0090">-0.0421066 lx<sup>3</sup> +0.209252x<sup>2</sup> -0.00640081x, 0 &lt;x &lt; 1.6363</p><p id="p0091" num="0091">J{X) <sup>:</sup> l-exp(0.00181492x<sup>3</sup> -0.142675X<sup>2</sup> -0.0822054x+ 0.0549608) 1.6363 &lt; x &lt;10. (eq.6) </p><p id="p0092" num="0092"> 1 x &gt; 10 </p><p id="p0093" num="0093">Each RI assumption may have several different PMI choices which are mapped to different pre- coding matrix W<sub>k n</sub> . Different CQI values may also have different modulation schemes. </p><p id="p0094" num="0094">Therefore the RBIR needs to be calculated separately for each PMI, for each modulation scheme, and for every layer under every RI assumption. </p><p id="p0095" num="0095">[0063] It would be most effective to select the best PMI, RI, and CQI simultaneously to achieve optimal performance. However this is very complex and cannot always be implemented in the UE. Thus, in certain embodiments, the best PMI is selected first then the best CQI and RI are selected. 
<!-- EPO <DP n="27"/>-->
 [0064] Once the RBIR is obtained in accordance with equation (eq.5) a final output</p><p id="p0096" num="0096">RBIR needs to be generated. When the receiver, typically located in the UE, is in open loop spatial multiplexing (OLSM) mode there is no need to report the PMI so the RBIR for different PMI are averaged to create the final output RBIR for each layer and each modulation scheme. When in closed loop spatial multiplexing (CLSM) mode the PMI which provides the maximum sum of the RBIR over all layers is selected as the best PMI for each RI assumption, and the corresponding RBIR of the best PMI for each layer and modulation scheme are chosen as the output RBIR. </p><p id="p0097" num="0097"> [0065] LTE allows transmission of one or two codewords at a time and each codeword may be mapped into several layers during transmission. Each of the two codewords are referred to herein as codeword 0 and codeword 1. Once a PMI is selected the RBIR on different layers corresponding to the same codeword are summed to create a single RBIR output value. Then the RBIR for each codeword and each modulation scheme are used to update the RBIR buffer of each RI assumption. </p><p id="p0098" num="0098"> [0066] There is a feedback delay associated with reporting a CQI and using it in transmission, thus instead of using the currently calculated RBIR, a predicted RBIR is needed to reduce the impact of the CQI feedback delay. A prediction is generated for each modulation scheme and each codeword under each RI assumption using a set of separate prediction processes. It should be noted that in certain embodiments each prediction process may not be completely separate and may use the same processing steps but operate on separate sets of data, where the data may include states and model parameters. 
<!-- EPO <DP n="28"/>-->
 [0067] The RBIR values for each modulation scheme and each codeword for the past N subframes are stored in a RBIR buffer and are used to create a prediction based on LMMSE criteria. The RBIR buffer contains a set of RBIR values, , where i is an 
<img id="imgf000028_0001" he="8" wi="40" file="imgf000028_0001.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="no"/>
 index representing the modulation scheme, such as the modulation schemes listed in Table 1, c is an index (c=0 or 1) representing the codeword, and m is an index representing the current subframe, RBIR<sub>c</sub>( m— n) represents the RBIR of the subframe (m-n), which is n-th subframe before current subframe. For a certain CQI feedback delay <sub>dela</sub> , the goal of RBIR prediction is to generate a RBIR value that approximates the RBIR that will be present in subframe m+6<sub>dei</sub> , where m is the index of the current subframe. This prediction can be estimated using equation (eq.7): </p><p id="p0099" num="0099">RBIRi(m + 6<sub>delay</sub>) = m- n) . (eq.7) 
<img id="imgf000028_0002" he="13" wi="95" file="imgf000028_0002.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="no"/>
 </p><p id="p0100" num="0100">In equation (eq.7) w(/?) represents a vector of Wiener coefficients that may be calculated using equation (eq.8): w (0) r(m,0) r{mS) r{m,p <sup>(</sup> " <sup>8</sup> · delay) </p><p id="p0101" num="0101"> r(m,l) r(m,0) r{m,p </p><p id="p0102" num="0102"> (eq.8) w(P-l) (m,p-l) r m,p-2) r m, </p><p id="p0103" num="0103"> (^<sub>delay</sub>+P- </p><p id="p0104" num="0104">Each RBIR correlation r(m,A«) with delay An is calculated using equation (eq.9): 
<img id="imgf000028_0003" he="11" wi="159" file="imgf000028_0003.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="no"/>
 
<!-- EPO <DP n="29"/>-->
 Figure 5 illustrates a graph 500 showing a typical mapping of RBIR to BLER generated through offline simulations, where the simulations are performed under additive Gaussian white noise (AGW ) channel conditions. Graph 500 shows BLER on the vertical axis 502 and RBIR on the horizontal axis 504. Each CQI has a defined coding rate, modulation scheme, and transmit block size (TBS) allowing the predicted throughput of each CQI to be calculated based on the predicted BLER. The graph 500 shows mappings of RBIR to BLER for several coding rates as listed in the legend 506. The BLER for each CQI is predicted for each CQI index and each codeword under each RI assumption. Then the RI and CQI index that maximizes the throughput is chosen as the output RI 422, and CQI 426 of the FLA algorithm 400 for each codeword. </p><p id="p0105" num="0105"> [0068] SLA is based on longer term statistics of the channel condition than FLA. Thus when the channel undergoes a significant change, such as a change in rank, the SLA algorithms need to be reset in order to begin working on the new channel conditions. Two flags are used in the disclosed ESLA embodiments to indicate changes in channel conditions that need to be considered by the first 316 and second 320 stage ESLA processes. As illustrated in Figure 3 a CQI filtering flag (CFF) 330 is generated based on normalized RBIR correlation results 326, and a SLA reset flag (SRF) 328 is generated based on RI 342 changes. </p><p id="p0106" num="0106"> [0069] The CFF 330 is based on a RBIR correlation 326 r (m,5<sub>delay</sub> ^ output from the </p><p id="p0107" num="0107">FLA process 312 corresponding to codeword 0. Codeword 0, i.e. the first codeword, is used because it is always transmitted for all rank assumptions while codeword 1 , the second codeword, is only transmitted when the channel conditions are good enough to support it. The CFF 330 is generated by comparing the normalized RBIR correlation 326 corresponding to the RI 342 and CQI 314 selected by the FLA module 312, with a pre-defined threshold value. When 
<!-- EPO <DP n="30"/>-->
 the RBIR correlation 326 is larger than the pre-defined threshold the RBIR prediction is assumed to be efficient and the CFF 330 is set to false to deactivate CQI filtering within the second stage ESLA process 320. Conversely, when the RBIR correlation 326 is low it indicates the RBIR is changing quite fast under current channel conditions so the CFF 330 is set to true to activate the CQI filtering within the second stage ESLA process 320. It should be noted that BLER target tracking 332 always runs regardless of the CFF 330 state. Alternatively the inverse logic may also be advantageously employed where a CFF of true deactivates CQI filtering in the second stage ESLA process and a CFF of false does not. </p><p id="p0108" num="0108"> [0070] Figure 6 illustrates a flow chart of an exemplary embodiment of a RI post process 600 as may be used in the RI post process 340 described above with reference to Figure 3 and Figure 4. When there is rank change, the RI post process 600 signals a significant change in channel condition by setting an SRF which causes all internal buffers and parameters in the first 316 and second 320 stage ESLA processes to be re-initialized and all parameters get reset. In order to increase the robustness of the ESLA process, the RI post process 600 introduces hysteresis to reduce the frequency of RI changes. Thus the exemplary RI post process 600 receives the predicted RI estimate from an FLA process 312 and generates a stabilized RI 346 and a SRF 328. The exemplary RI post process 600 will now be described with reference to Figure 3 and Figure 4. On system startup the RI post process 600 initializes 602 a count and a predicted rank (PreRank) to zero then enters a continuous loop 616 that is exceed at each iteration, where an iteration may be executed periodically such as for every received subframe, or a periodically such as when CSI reporting is requested by a transmitter. Each iteration of loop 616 begins 604 by resetting the SRF and reading the current rank prediction (Rankin) 342 
<!-- EPO <DP n="31"/>-->
 generated by the FLA process 312. Rankin is then compared 606 to the current PreRank value. If the PreRank value matches the Rankin value, the count is set to zero 618, and the current PreRank value 346 and current SRF 328 are output 614. The process 600 then returns to step 604 to begin its next iteration. If at step 606 the Rankin is not equal to the PreRank then the count is incremented 608 and compared 610 to a hysteresis constant N Rank. If the count is not greater than N Rank then the RI post process 600 proceeds directly to step 614 where the current PreRank value 346 and current SRF 328 are output, otherwise if the count is greater than N RANK the PreRank value is set to the Rankin resulting in a rank change, and the SRF is set before proceeding to step 614. Thus the exemplary RI post process 600 reduces the frequency of rank changes by introducing hysteresis and sets the SRF each time the rank changes. </p><p id="p0109" num="0109"> [0071] The goal of a first stage ESLA process 312 is to adjust the CQI index value 310 output by the FLA process 308 in order to meet a certain BLER target. The first stage ESLA process is the same and independent for all codewords so only the process for one codeword is described herein. In an exemplary embodiment a first stage ESLA process adjusts its CQI output value, CQI SLA l 318, based on the output of the FLA process, CQI FLA 314, and received ACK/NAK information in accordance with equation (eq. l O): </p><p id="p0110" num="0110"> CQI _ SLAl = floor ( CQI _ FLA + ACQI + 0.5) . (eq. l O) </p><p id="p0111" num="0111">The floor (·) operator rounds down, or truncates, to the nearest integer value that is no greater than the given value, thus by adding 0.5 prior to the floor (^ operation, the resulting sum, CQI _ FLA + ACQI , is effectively rounded to the nearest integer value by equation (eq.10). The CSI adjustment value ACQI is a parameter initialized to zero and updated at each iteration, or 
<!-- EPO <DP n="32"/>-->
 subframe, based on the decoding result i.e. ACK or NAK for the received codeword as shown in equation (eq.l 1): </p><p id="p0112" num="0112">ACQI H CQIStepSize, when ACK is received</p><p id="p0113" num="0113">ACQI \ -BLERVdvgot , (eq. l ! ) </p><p id="p0114" num="0114"> ACQI - CQIStepSize, when NACK is received where CQIStepSize is a pre-defined parameter used to determine the speed with which the CSI adjustment value ACQI changes. Whenever a SRF with a value of active, which in certain embodiments may also be a value of true, is received from the RI post process 340 the ACQI value is reinitialized to zero. [0072] Figure 7 illustrates a flowchart of an embodiment of an exemplary first stage </p><p id="p0115" num="0115">ESLA algorithm 700 appropriate for use in the first stage ESLA process 316 illustrated. At system startup the exemplary first stage ESLA process 700 initializes a CSI adjustment value ACQI to zero 702 then enters a continuous loop 704 that is executed at each iteration or subframe. The loop 704 begins by reading the ACK/NAK result for the current codeword, the current SRF value provided by a RI post process 340, the current CQI output 314 from a FLA process 312, CQI FLA, and the BLER Target 338, BLERTarget, for the next subframe which in certain embodiments is provided by a BLER tracking process 332. If the SRF is active 708 indicating the RI has changed, the CQI adjustment factor ACQI is reset to zero 712, otherwise the ACQI is not reinitialized and an intermediate value, a, is set to negative one (-1) 710. The process 700 then checks whether an ACK was received 714 and if an ACK was received (indicating that the CRC result was a pass and the received data was good, conversely an NAK indicates the CRC result was a fail) the intermediate value a is updated 716 to a = 
<!-- EPO <DP n="33"/>-->
 <sub>(i</sub>-BierTargetY <sup>omerw</sup>i<sup>se wnen a</sup> NAK is received, a is not updated. Next the CQI adjusting factor ACQI is updated 718 using the previously set a value and a predefined step size CQIStepSize , which determines the adjusting speed: ACQI = ACQI + a(CQIStepSize). Finally the output CQI value, CQI SLA l , is found by adding ACQI to the rounded to the nearest integer value 720 using equation (eq. lO) above and the resulting CQI SLA l is output 318. The process then repeats at the next iteration or subframe as indicated by loop 704. </p><p id="p0116" num="0116">[0073] The second stage ESLA process 316 handles situations where the FLA algorithms described above do not work efficiently. These situations can happen for example when UE speed increases or equivalently the CQI feedback delay increases. When the FLA algorithm is not operating efficiently, the RBIR correlation will decrease and the RBIR prediction will also be inefficient. In these situations it is typical to discontinue link adaptation and return a constant CQI value to the transmitter. To better understand why FLA algorithms are not as effective as desired under conditions where the UE speed is increasing it is instructive to look at some simulated RBIR results. Figure 8 illustrates a graph of measured RBIR and Figure 9 illustrates a graph of normalized RBIR correlation of a channel under the 3 GPP defined standard channel condition known as the extended pedestrian A model (EPA). The graphs in Figures 8 and 9 illustrate a 10 megahertz (MHz) 4x4 multi-input multi-output (MIMO) channel with a SNR of 19 dB using 64QAM. Figure 8 illustrates a graph 800 showing RBIR on the vertical axis 802 against subframe index on the horizontal axis 804. Figure 9 illustrates a graphs 900 of normalized RBIR correlation on the vertical axis 902 against CQI feedback delay in milliseconds 
<!-- EPO <DP n="34"/>-->
 on the horizontal axis 904 for three different UE speeds: 1 Km/h 906; 3Km/h 908; and 10 Km/h 910. The normalized RBIR correlation 902 is calculated using equation (eq.12): </p><p id="p0117" num="0117">&lt;o (An) = , 0≤Aw≤20 , (eq.12) 
<img id="imgf000034_0001" he="13" wi="17" file="imgf000034_0001.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="no"/>
 where r (m, A«) is defined by equation (eq.9) above. In the test of graph 800 and graph 900 the subframe index is m=N=5000 yielding a normalized RBIR correlation calculated through the first 5000 subframes. Graph 900 shows that with a delay <sub>delay</sub> &gt; 8ms and a UE speed of 10 kilometers (Km) per hour (h) the RBIR correlation 908 between the current subframe and the subframe after delay time, δ<sub>άβ1</sub> , is less than 0.3 indicating that the RBIR prediction will not provide an efficient FLA. [0074] Throughput performance of the link can be improved by including a second stage </p><p id="p0118" num="0118">ESLA process 320 to filter the CQI output CQI SLA l 318, of the first stage ESLA process 316, based on a combination of long term and short term statistics of the ACK/NAK or CRC results information resulting from decoding of the codewords. Figure 10 illustrates a flow chart of an exemplary second stage ESLA algorithm 1000 appropriate for use in the second stage ESLA process 320 described above. The second stage ESLA algorithm 1000 maintains two history buffers used for statistical analysis of past performance: a CQI history buffer, CQIHist[N_Filt] , is a one dimensional buffer storing CQI index values output from a first stage ESLA process during a predetermined number N_Filt of past subframes; and CRC results history buffer, CRCHist[C_Filt] [N_Filt] , is a two dimensional buffer storing decoding results, i.e. ACK/NAK information or CRC results, for each CQI index over the predetermined number of subframes N_Filt. The predetermined number of subframes, N_Filt, is the number of past subframes or 
<!-- EPO <DP n="35"/>-->
 iterations for which data is stored in the buffer, for example in certain embodiments N_Filt may be about 5000 and is used for computation of long term statistics. The CQI 314 output from the first stage ESLA process 312 is stored in the CQI history buffer, CQIHistfN FiltJ for each iteration or subframe. However, in certain instances the transmitter, such as an eNodeB, may use a RI during transmission that is different than the RI recommended by the receiver. When this occurs a RI flag value, which in certain embodiments is a negative one (-1), is stored in the CQI history buffer, CQIHist[N_Filt] , rather than the CQI output CQI SLAl 314 to indicate that the feedback RI was modified by the transmitter. If the RI utilized by the transmitter is different from the output RI estimate 346, the received ACK/NACK information does not correspond to current RI and CQI selections; therefore the information is not useful for current ESLA processing. The second dimension of the CRC history buffer, C_Filt, is an integer equal to the number of available MCS plus one. For example in an LTE system there are typically 15 available MCS or CQI values, yielding a C_Filt of 15 where each of the 15 values is associated with one of the 15 available CQI indices. The CRC history buffer CRCHist[C_Filt] [N_Filt] records the ACK and NAK information, i.e. CRC results, for the previous N_Filt subframes corresponding to all available CQI indices. The recorded value is set to zero (0) for an ACK, one (1) for a NACK, and negative one (-1) for all values corresponding to a CQI that was not used in the transmission by the transmitter. The exemplary second stage ESLA algorithm 1000 utilizes a predetermined number of subframes, N_Filt, for long term statistics and a second predetermined number of subframes, M_Filt, for short term statistics where N_Filt is greater than M_Filt. Thus the buffers maintain N_Filt entries for long term statistic computations and only the most recent 
<!-- EPO <DP n="36"/>-->
 M_Filt buffer entries are used for short term statistics. The algorithm 1000 also uses two predetermined filtering coefficients, alphal and alpha2, when filtering the CQI values. </p><p id="p0119" num="0119"> [0075] The exemplary second stage ESLA algorithm 1000 begins at system startup by initializing the history buffers and setting an internal counter to zero 1002. At each iteration or subframe a number of inputs are read 1004 including: </p><p id="p0120" num="0120"> • the CQI output from the first stage ESLA process 318, denoted by CQI SLA 1 ; </p><p id="p0121" num="0121"> • the SRF 328 output from a RI post process 340; </p><p id="p0122" num="0122"> • the CFF 330 output from the RBIR process 324; </p><p id="p0123" num="0123"> • ACK/NACK (CRC results) from the decoder; and </p><p id="p0124" num="0124"> · the CQI and RI utilized by the transmitter which may be obtained from control channel information. </p><p id="p0125" num="0125"> Once the above described inputs are available 1004, the SRF is checked 1006 to determine if the predicted RI has changed. When the SRF is set, the counter is set to zero and the buffers are initialized or cleared, 1008. When a buffer is initialized or cleared all entries in the buffer are deleted resulting a buffer of zero length or a buffer with no entries. Next the CRC history buffer, CRCHist, and CQI history buffer, CQIHist, are updated 1010 by adding the new values to the front of the buffers and if the buffers are full, i.e each buffer contains the predetermined maximum number of entries N_Filt, the oldest entry is remove from the back of the buffer. As described above, each entry in the CQI history buffer, CQIHist, is the CQI value obtained from the first stage ESLA process or negative one (-1) if the transmitter did not use the feedback RI value, and the entry in the CRC History buffer, CRCHist, is a matrix of ACK/NACK or CRC results for each available CQI. As used herein the back of the buffer refers to the oldest entry and 
<!-- EPO <DP n="37"/>-->
 the front of the buffer refers to the newest entry and entries are ordered from oldest to newest from back to front. As described above, in certain instances the transmitter may change the RI selection reported by the UE, thus when the RI used by the transmitter for the current subframe is different from the RI estimate 346, a value of negative one (-1) is recorded for all CQI indices in CRC history buffer. </p><p id="p0126" num="0126"> [0076] Once the history buffers have been updated with values for the current iteration, the count of entries in the buffers is checked 1012 to see if the buffers are full. If the buffers are not full then there is too little data in the history buffers for affective second stage ESLA CQI filtering so the count of entries in the buffer is incremented 1016 and the second stage filtering parameter, a, is set to one (1) 1032. The BLER Target output 338 of the BLER tracking process 332 is also set to its base value 1018. When the buffers are full, then the CFF 330 is checked 1014 and if the CFF is set, then the second stage ESLA CQI filtering is bypassed by setting the filtering parameter, a, to one (1) 1018, and when the CFF is not set then second stage ESLA CQI filtering begins 1022. Second stage CQI filtering begins 1022 by determining a long term statistic from the CQI history buffer, CQIHist[N_Filt] <sup>'</sup>, where all N_Filt entries in the buffer are examined and the CQI valued used most often or most commonly during the last N_Filt iterations or subframes is determined and the resulting CQI value is provided to the BLER tracking process 1024. Next if the most commonly used CQI value is negative one (-1) 1026, then the CQI filtering is disabled by setting the filtering parameter, a, to one (1) 1032, otherwise a short term CQI statistic is determined 1028. The short term statistic is determined 1028 in the same fashion as the long term statistic except instead of using the entire buffer as is done for the long term statistic, only the most recent M_Filt entries are used. The result of the short term 
<!-- EPO <DP n="38"/>-->
 statistic 1028 is checked 1030 and if the short term statistic is negative one (-1 ) indicating that the RI and CQI values recommended by the receiver were overridden in most of the last M_Filt iterations, the second stage CQI filtering is again disabled by setting the CQI filter parameter, a, to one (1) 1032. The long term CQI statistic is compared to the short term CQI statistic 1034, and when the long term CQI statistic and short term CQI statistic are the same then the CQI filter parameter, a, is set to a first predetermined value, alphal , 1038, otherwise when the short term CQI statistic and long term CQI statistic are different the CQI filter parameter is set to a second predetermined value, alpha2, 1036. Once the CQI filtering parameter, a, has been appropriately set: to 1 when bypassing filtering; to alphal , when the long and short term CQI statistics are the same; and to alpha2 when the long term and short term CQI statistics are different, a second stage ESLA CQI output value, CQI SLA2, is determine 1040 in accordance with equation (eq.13): </p><p id="p0127" num="0127"> CQI _ SLA2 = floor ( a * CQI _ FLA 1 + ( 1 - ./ ) y + 0. ) , (eq. l O) where j is the short term CQI statistic determined in step 1028 above. The determined second stage ESLA CQI value, CQI SLA2, is then output 1042 and the second stage ESLA process 1000 repeats from step 1004 at each subsequent iteration or sub frame. </p><p id="p0128" num="0128"> [0077] To aid understanding of the BLER Target Tracking process 332 it is instructive to look at an example illustrating conditions where using a fixed BLER target in the first stage ESLA process 312 adversely affects throughput. For this illustration simulations were done for a channel under extended typical urban (ETU) conditions with a UE speed of 30 Km/h using an LTE system. The simulation parameters are provided in Table 4 below. Table 2 shows the BLER performance of codeword 0 with HARQ enabled for CQI indices 9 through 12 for various SNR 
<!-- EPO <DP n="39"/>-->
 levels (shown in dB in the left hand column of Table 2), and Table 3 shows the corresponding peak throughput in megabits per second (Mbps) for CQI indices 9 through 12. 
<img id="imgf000039_0001" he="79" wi="163" file="imgf000039_0001.tif" img-format="tif" img-content="table" orientation="portrait" inline="yes"/>
</p><p id="p0129" num="0129"><img id="imgf000039_0002" he="35" wi="136" file="imgf000039_0002.tif" img-format="tif" img-content="table" orientation="portrait" inline="no"/><img id="imgf000039_0003" he="43" wi="131" file="imgf000039_0003.tif" img-format="tif" img-content="table" orientation="portrait" inline="no"/><!-- EPO <DP n="40"/>-->
 MIMO Scheme 4x4 </p><p id="p0130" num="0130"> Transmission Mode Open Loop Spatial Multiplexing (TM3) </p><p id="p0131" num="0131">Channel Estimation Ideal </p><p id="p0132" num="0132"> Detection Type LMMSE </p><p id="p0133" num="0133"> Channel Model EPA, EVA,ETU </p><p id="p0134" num="0134"> UE speed 1-30 km/h </p><p id="p0135" num="0135"> Channel correlation Low </p><p id="p0136" num="0136">Table 2 shows that at SNR=19dB, the best throughput performance is provided by CQI=10. The throughput corresponding to CQI=10 can be obtained using the BLER value from Table 2 (0.034) and the peak throughput from Table 3 as 30.576 x (1-0.034) = 29.53 Mbps. Assuming a typical predefined BLER target of 10%, a first stage ESLA algorithm will not be able to output a constant CQI index of 10. Theoretically the first stage ESLA algorithm, such as the exemplary first stage ESLA algorithm 700 described above, will output a combination of CQI indices 9 through 12 (or possibly higher CQI) to satisfy the BLER constraint. To show why having a combination of CQI indices is sub-optimal consider a condition where the first stage ESLA is issuing a combination of CQI including only indices 10 and 1 1. Let the probability of choosing CQI=10 be p. To meet a 10% BLER target with the BLER performance of Table 2, there needs to be p x 0.034 + (l - p) x 0.49 = 0.1 , where 0.1 represents the 10% BLER target. Thus the probability of choosing CQI=10, p, is 0.85 which means that the CQI indices output by the first stage ESLA under these conditions will contain 85% CQI index 10 and 15% CQI index 1 1. With 
<!-- EPO <DP n="41"/>-->
 these percentages and a BLER target of 10% the throughput can be computed using the values from Table 2 and Table 3 as shown in equation (eq.14): </p><p id="p0137" num="0137"> p x (1 - 0.034) x 30.576 + (1 - p) x (l - 0.49) x 39.232 « 28.1 Mbps. (eq. 14) With a constant CQI=10 the throughput was shown above to be 29.53 Mbps however when the first stage ESLA adjusts the CQI to satisfy the BLER target the throughput drops to about 28.1 Mbps. Thus a BLER target tracking process 332 is used to adjust the BLER target according to the variable channel conditions thereby avoiding the reduced throughput problem just illustrated. </p><p id="p0138" num="0138"> [0078] In Figure 1 1 there can be seen a flow chart illustrating an exemplary embodiment of a BLER target tracking process 1 100 appropriate for use in the ESLA based CQI reporting technique 300 described above. The exemplary BLER target tracking process 1 100 receives a long term CQI statistic, CQIM, such as the long term CQI statistic generated at step 1022 of the exemplary second stage ESLA process 1000, and tracks the received CQIM along with the next higher throughput CQI, CQ½, and the next lower throughput CQI, CQIL, to determine an appropriate BLER constraint for a first stage ESLA process such as the first stage ESLA process 312. The BLER target tracking algorithm 1 100 maintains a BLER target parameter, BLERTarget, that is initialized 1 102 to zero on system startup. At each iteration or subframe, a most often used CQI index CQIM is determined from a CQI history buffer CQIHist, 1 104 or may be read from a second stage ESLA process such as the exemplary second stage ESLA process 1000 illustrated in Figure 10. The CQIM is then compared to negative 1 (-1 ) 1 106 and if CQIM is equal to negative one (-1) indicating that the RI used by the transmitter is different from the RI recommended by the receiver, the BLER target parameter, BLERTarget, is reset to a predetermined BLER value B0 1 1 10 and is output 1 150 for use by a first stage ESLA process. 
<!-- EPO <DP n="42"/>-->
 When CQI<sub>M</sub> is not negative one (-1) an SRF 328 is checked 1008 to determine if the recommended RI has changed. If the SRF 328 is set then the BLERTarget value is reset to BO, 1 110, and the BLERTarget value and is output 1150 for use by a first stage ESLA process. When the SRF 328 is not set then the throughput for each of the considered CQI indices CQI<sub>L</sub>, CQI<sub>M</sub>, CQI<sub>H</sub>, are computed. Processing path 1 154 computes the throughput for the long term CQI statistic, CQI<sub>M</sub>, by first calculating 1124 the BLER, BLER<sub>M</sub>, with ACK/NACK information in the CRC history buffer, CRCHist, and then calculating 1 126 the throughput for CQI<sub>M</sub> as described above from the peak throughput for the associated MCS and the BLER<sub>M</sub> value. The throughput for the next lower CQI, CQI<sub>L</sub>, is calculated in path 1152 and begins by initializing 11 12 a BLER value, BLER<sub>L</sub>, to one (1). CQI<sub>L</sub> is then checked to see if it is the lowest throughput CQI index available. For example in a certain LTE systems the available CQI indices are integer values from one (1) to fifteen (15) corresponding to 15 available MCS used during data transmission where the lowest CQI index (1) corresponds to the lowest throughput MCS and the highest CQI index (15) corresponds to the highest throughput MCS. Thus for a CSI of CQI<sub>M</sub> = 7, the next lower throughput CSI is CQI<sub>L</sub>=6, and the next higher throughput CSI is CQI<sub>H</sub>=8. For brevity, the next lower throughput CSI and next higher throughput CSI may be referred to herein as the next lower CSI and next higher CSI respectively. When CQI<sub>L</sub> is the lowest throughput CQI then BLER calculation is skipped and the BLER tracking process 1100 skips directly to the throughput computation step 1122. When CQI<sub>L</sub> is not the lowest throughput CQI, the number of available data points in the CRC history buffer CRCHist is determined 1 116. If the number of data points in the history buffer CRCHist is less than a pre-determined BLER statistic size then the BLER calculation is skipped and the BLER tracking process 1 100 skips directly to the 
<!-- EPO <DP n="43"/>-->
 throughput computation step 1122. The CQI statistic computation 1 116 and BLER computation 1 120 are skipped when the number of data points in the history buffer CRCHist is too small because with too few data points the computed BLER statistic may not be accurate. When there are enough data points in the history buffer CRCHist, i.e. the number of data points is above the pre-determined BLER statistic size, BLER<sub>L</sub> is computed using the history buffer CRCHist. Next the BLER<sub>L</sub> value is used to compute 1122 the throughput for CQI<sub>L</sub> using the peak throughput for the MCS associated with CQI<sub>L</sub>. Similarly, a throughput for the next higher CQI, CQ½, is computed in path 1 156 by setting a BLER<sub>H</sub> to one (1) 1138, comparing CQ½ to the highest available CQI 1 140, reading or calculating the number of data points for CQ½ present in the history buffer 1 142, checking to see if there are enough data points in the buffer 1 144 for accurate BLER computation, computing a BLER<sub>H</sub> for CQ½ 1 146, and computing a throughput for CQ½ 1 148. Once a throughput has been calculated for each of the CQI values, CQI<sub>L</sub>, CQI<sub>M</sub>, CQI<sub>H</sub>, The maximum throughput value is determined 1 128 from the three throughput values computed at steps 1122, 1126, and 1148, and the BLER associated with the maximum throughput BLER<sub>MAX</sub> is selected 1130. The BLERTarget is then adjusted 1 132 using equation (eq.15): </p><p id="p0139" num="0139">BLERTarget = beta * BLERTarget + (1-beta) * BLER<sub>MAX</sub> , (eq. 14) where beta is a free tracking parameter that may be tuned to achieve desired performance. The filtered BLERTarget is constrained at steps 1134 and 1 136 to be within the pre-defined range [Bl , B2] where Bl is a predefined lower BLER limit and B2 is a predefined upper BLER limit. At step 1 134 the BLERTarget is compared to Bl and if the BLERTarget is less than Bl the 
<!-- EPO <DP n="44"/>-->
 BLERTarget is set to Bl . Similarly at step 1 136 the BLERTarget is compared to B2 and if the BLERTarget is greater than B2 the BLERTarget is set to B2. The filtered BLERTarget is held inside the predefined range [Bl, B2] to improve robustness of the system. The final filtered BLERTarget value is then output 1150 for use by a first stage ESLA process 312 and the BLER target tracking algorithm repeats 1 158 at the next iteration or subframe. </p><p id="p0140" num="0140"> [0079] Figure 12 illustrates graphs showing simulated throughput 1200 and BLER 1202 performance of a wireless communication system incorporating an embodiment of an ESLA CQI selection process 300 as disclosed herein. Graph 1200 shows throughput of codeword 0 in Mbps on the vertical 1210 axis against SNR in dB on the horizontal axis 1214 and graph 1202 shows BLER on the vertical axis 1212 against SNR in dB on the horizontal axis 1214. The simulations were run for an extended typical urban model channel with a UE velocity of 30 Km/h (ETU30) using simulation parameters as shown in Table 4. Graph 1200 illustrates throughput results for a system incorporating an ESLA process 1208 as described above, and for comparison purposes, throughput of a baseline system 1204 and a system using a constant CQI 1206 are also shown. The baseline system 1204 includes only an FLA algorithm (without RBIR prediction) and the first stage ESLA with a constant BLER target of 0.1. As can be seen in Graph 1200, the baseline 1204 performance is about 2dB worse than the constant CQI system 1206 system in the middle and high SNR regions. This is partly due to the baseline system using a constant BLER target for SLA of 10%. However, with the ESLA algorithm 1208 described above, the performance is almost as good as constant CQI 1206. Graph 1202 shows that the BLER 1216 provided by the ESLA system remains well below the 10% (0.1) target used in the baseline system. 
<!-- EPO <DP n="45"/>-->
 [0080] Figure 13 illustrates graphs 1300 showing the feedback probability on the vertical axis 1302 against CQI indices 1 to 15 shown on the horizontal axis 1304 for different SNR values ranging from -32dB to 32dB as listed in the legend 1306. Graph 1300 shows that utilizing an ESLA process as described above tends toward a more constant or focused CQI feedback. It has been shown in the art that a constant CQI can provide better performance in situations where FLA algorithms become inefficient. </p><p id="p0141" num="0141"> [0081] Figure 14 illustrates graphs 1400 showing throughput for both codeword 0 and codeword 1 in Mbps on the vertical axis 1402 against UE speed in Km/h on the horizontal axis 1404. These simulations were made for an extended pedestrian model A (EPA) channel with UE speed increasing from 1 Km/h to 20 Km h and a constant SNR of 19dB. Graph 1400 shows 3 plots: plot 1406 shows throughput of the baseline system; plot 1410 shows throughput of a constant CQI system; and plot 1408 show throughput of a system employing a novel ESLA algorithm as disclosed herein. The system using the novel ESLA algorithm show significant throughput gains as compared to the other two systems under low UE speed. When UE speed is low, the RBIR prediction works quite well and is further enhanced by the BLER target tracking process. When UE speed increases the RBIR prediction becomes less efficient and constant CQI provides better throughput performance. However, due to the second stage of ELS A and BLER target tracking the throughput of the novel ESLA system is moved much closer to the constant CQI performance at higher UE speeds than the baseline system thereby provided significantly improved throughput at low UE speed while preserving most of the throughput of a constant CQI system at higher UE speeds. 
<!-- EPO <DP n="46"/>-->
 [0082] Figure 15 illustrates a block diagram of an apparatus for wireless communications</p><p id="p0142" num="0142">1500 that is appropriate for implementing the ESLA methods described herein. Apparatus 1500 includes a processing apparatus 1502 coupled to a computer memory 1504, a radio frequency (RF) unit 1506, a user interface (UI) unit 1508, and a display unit 1510. In certain embodiments interaction with a user is not required, thus in these embodiments the UI 1508 and display 1510 may be omitted from the apparatus 1500. The apparatus 1500 may be used in MS or for various types of wireless communications UE such as a cell phone, smart phone, tablet device, etc. The processing apparatus 1502 may be a single processing device or may comprise a plurality of processing devices including special purpose devices such as for example it may include a digital signal processing (DSP) device, microprocessor, or other specialized processing device as well as a more general purpose processor. The memory 1504 is coupled to the processing apparatus 1502 and may be a combination of various types of computer memory such as for example volatile memory, non-volatile memory, read only memory (ROM), or other types of computer memory and stores computer program instructions which may be organized as method groups including an operating system, applications, file system, as well as other computer program instructions for other desirable computer implemented methods such as the FLA methods disclosed herein. Also included in the memory 1504 are program data and data files which are stored and processed by the computer program instructions. The radio frequency unit 1506 is coupled to the processor and configured to receive and/or transmit radio frequency signals which based on digital data 1512 exchanged with the processing apparatus 1502. The RF unit 1506 includes analog to digital converters to digitize received RF signals at a desired sampling rate, such as for example a 30.72 megahertz (MHz) sample rate typically used for a 20 MHz LTE 
<!-- EPO <DP n="47"/>-->
 channel bandwidth, and send the digitized RF signals 1512 to the processing apparatus. Conversely the RF unit 1506 may include digital to analog converters to convert digital data 1512 received by the RF unit 1506 from the processing apparatus 1502 into analog signals in preparation for transmission. The UI 1508 may include one or more well-known user interface elements such as a touch screen, keypad, buttons, as well as other elements for exchanging data with a user. The display 1510 is configured to display a variety of information appropriate for a UE and may be implemented using any of well-known display types such as organic light emitting diodes (OLED), liquid crystal display (LCD), etc. The communications apparatus 1500 is appropriate for implementing the ESLA methods and algorithms described herein and with reference to Figure 15. </p><p id="p0143" num="0143"> [0083] It is typical to implement FLA at the receiver side, while the SLA methods and algorithms described herein may be implemented in either the receiver or the transmitter. In the foregoing description the SLA algorithms have been described with respect to a receiver or UE. However, those skilled in the art will recognize that the same principles may be applied when SLA is implemented at a transmitter, such as an e-Node-B, since all the necessary information for ESLA can be reported to the transmitter through uplink transmissions. </p><p id="p0144" num="0144"> [0084] Thus, while there have been shown, described and pointed out, fundamental novel features of the invention as applied to the exemplary embodiments thereof, it will be understood that various omissions and substitutions and changes in the form and details of devices and methods illustrated, and in their operation, may be made by those skilled in the art without departing from the spirit and scope of the invention. Moreover, it is expressly intended that all combinations of those elements, which perform substantially the same function in substantially 
<!-- EPO <DP n="48"/>-->
 the same way to achieve the same results, are within the scope of the invention. Moreover, it should be recognized that structures and/or elements shown and/or described in connection with any disclosed form or embodiment of the invention may be incorporated in any other disclosed or described or suggested form or embodiment as a general matter of design choice. It is the intention, therefore, to be limited only as indicated by the scope of the claims appended hereto. 
</p></description><claims mxw-id="PCLM88547264" ref-ucid="WO-2015165514-A1" lang="EN" load-source="patent-office"><claim-statement><!-- EPO <DP n="49"/>-->CLAIMS What is claimed is: </claim-statement><claim id="clm-0001" num="1"><claim-text>1. A transceiver (1500) operable for selecting channel state information (CSI) of a communication link wherein the transceiver (1500) comprises: </claim-text><claim-text> a radio frequency (RF) unit (1506) configured to receive a communication signal from the communication link and produce a received data signal (302); </claim-text><claim-text> a processing apparatus (1502) coupled to the RF unit (1506) and configured to receive the data signal; and </claim-text><claim-text> a memory (1504) coupled to the processing apparatus (1502), </claim-text><claim-text> wherein the processing apparatus (1502) is configured to: </claim-text><claim-text> generate channel estimates (308), a cyclic redundancy check (CRC) result (334), and transmission parameter information (336), based on the digital signal (302); generate with a fast link adaptation (FLA) algorithm (312, 400) a FLA CSI and a received block information rate (RBIR) correlation value based on the channel estimates and the CRC result, wherein the FLA stage is configured to compute a RBIR for each modulation and coding scheme (MCS) in an employed set of MCS, and generate the FLA CSI and the estimated RBIR correlation value based the computed RBIR; </claim-text><claim-text> generate with a first stage enhanced slow link adaptation (ESLA) algorithm (316, 700) a filtered CSI based on the FLA CSI, a first stage block error rate (BLER) target, and the CRC results, wherein the first stage ESLA algorithm is configured to compute</claim-text><claim-text>(718) a CSI adjusting factor based on the CRC result and the first stage BLER target, 
<!-- EPO <DP n="50"/>-->
 and combine (720) the CSI adjusting factor with the FLA CSI to obtain the filtered CSI; </claim-text><claim-text> update a CSI history buffer (1010) wherein the CSI history buffer comprises a first predetermined number of past filtered CSI values; </claim-text><claim-text> update a CRC history buffer (1010) wherein the CRC history buffer comprises the first predetermined number of past CRC results; </claim-text><claim-text> generate with a second stage ESLA algorithm (320, 1000) an output CSI based on the filtered CSI, and the CSI history buffer, wherein the second stage ESLA algorithm is configured to select a CSI filter parameter (1032, 1036, 1038) from a set of predetermined filter constants based on the CSI history buffer, and to compute an output CSI (1040) based on the selected CSI filter parameter; and </claim-text><claim-text> adjust the first stage BLER target with a BLER target tracking algorithm (332, 1100) based on the CSI history buffer and the CRC history buffer, wherein the BLER target tracking algorithm is configured to calculate a set of link throughput values corresponding to a set of CSI values (1152, 1154, 1156), select the maximum link throughput from the set of link throughput values (1128), calculate (1130) an expected BLER based on the selected maximum link throughput and the CRC history buffer, and adjust (1132) the first stage BLER target based on the expected BLER and a predetermined tracking parameter. </claim-text></claim><claim id="clm-0002" num="2"><claim-text>2. The transceiver according to claim 1 , wherein the FLA algorithm is configured to generate a predicted RBIR based on the computed RBIR, and select the first CSI based on the predicted RBIR and the CRC information. 
<!-- EPO <DP n="51"/>-->
</claim-text></claim><claim id="clm-0003" num="3"><claim-text>3. The transceiver according to claim 2, wherein the second stage ESLA algorithm is activated when the RBIR correlation is above a predetermined threshold value, and bypassed when the RBIR correlation is not greater than the predetermined threshold. </claim-text></claim><claim id="clm-0004" num="4"><claim-text>4. The transceiver according to any of the preceding claims 1 through 3, wherein a long term CSI statistic (1022) and a short term CSI statistic (1028) are determined based on the CSI history buffer, and </claim-text><claim-text> the second stage ESLA algorithm is configured to select (1030-1040) the output CSI based on the short term CSI statistic and the long term CSI statistic, </claim-text><claim-text> wherein the long term CSI statistic corresponds to the most commonly used CSI during the first predetermined number of CSI values in the CSI history buffer (1022), the short term CSI statistic corresponds to the most commonly used CSI during a second predetermined number of CSI values in the CSI history buffer (1028), and wherein the first predetermined number is larger than the second predetermined number. </claim-text></claim><claim id="clm-0005" num="5"><claim-text>5. The transceiver according to claim 4 ,wherein the second stage ESLA algorithm is configured to: </claim-text><claim-text> set the CSI filter parameter to a first predetermined filter constant when the short term CSI statistic is equal to the long term CSI statistic (1036); </claim-text><claim-text> set the CSI filter parameter to a second predetermined filter constant when the short term CSI statistic is not equal to the long term CSI statistic (1038); and </claim-text><claim-text> adjust the output CSI based on the CSI filter parameter (1040). 
<!-- EPO <DP n="52"/>-->
</claim-text></claim><claim id="clm-0006" num="6"><claim-text>6. The transceiver according to any of the preceding claims 1 through 5, wherein the BLER tracking algorithm: </claim-text><claim-text> determines a first throughput (1154) based on the long term CSI statistic and the CRC history buffer; </claim-text><claim-text> selects a next lower CSI; </claim-text><claim-text> determines a second throughput (1152) based on the next lower CSI and the CRC history buffer; </claim-text><claim-text> selects a next higher CSI; </claim-text><claim-text> determines a third throughput (1156) based on the next higher CSI and the CRC history buffer; </claim-text><claim-text> selects the maximum throughput (1128) from the first throughput, the second throughput, and the third throughput; </claim-text><claim-text> selects an expected BLER (1 130) corresponding to the maximum throughput; </claim-text><claim-text> computes a working BLER target (1132) based on the expected BLER and a predetermined tracking constant; and </claim-text><claim-text> adjusts the first stage BLER target (1 134, 1136) based on the working BLER, </claim-text><claim-text> wherein the next lower CSI is a CSI having lower throughput than the long term CSI statistic and the next higher CSI is a CSI having higher throughput than the long term CSI statistic. </claim-text></claim><claim id="clm-0007" num="7"><claim-text>7. The transceiver according to claim 6, wherein the first stage BLER target is obtained by constraining (1134, 1136) the working BLER between a predetermined minimum target BLER and a predetermined maximum target BLER. 
<!-- EPO <DP n="53"/>-->
</claim-text></claim><claim id="clm-0008" num="8"><claim-text>8. The transceiver according to claim 1 , wherein when the CRC result is a pass the CSI adjusting factor is increased and when the CRC result is a fail the CSI adjusting factor is decreased (718). </claim-text></claim><claim id="clm-0009" num="9"><claim-text>9. The transceiver according to any of the preceding claims 1 through 8, wherein the processing apparatus is configured to perform a rank indication (RI) post process (340, 600), and wherein the RI post process is configured to: </claim-text><claim-text> obtain a RI from the FLA CSI (604); </claim-text><claim-text> apply hysteresis (606, 608, 610, 618) to the obtained RI to create an output RI; and activate a SLA reset flag (612) when the output RI is different than a previous output RI. </claim-text></claim><claim id="clm-0010" num="10"><claim-text>10. The transceiver according to claim 9, wherein activating the SLA reset flag: </claim-text><claim-text> resets the CSI adjusting factor to zero (712); </claim-text><claim-text> clears the CSI history buffer (1008); </claim-text><claim-text> clears the CRC history buffer (1008); and </claim-text><claim-text> sets the working BLER to a predetermined starting BLER (11 10). </claim-text></claim><claim id="clm-0011" num="11"><claim-text>11. The transceiver according to any of the preceding claims 1 through 10, wherein when the selected rank index (RI) has been used to transmit the communication signal the FLA CSI is entered into the CSI history buffer and when the selected RI is different than the RI used to transmit the communication signal a RI flag value is entered into the CSI history buffer, wherein the RI flag value indicates the value should be excluded from calculations involving the CSI history buffer. 
<!-- EPO <DP n="54"/>-->
</claim-text></claim><claim id="clm-0012" num="12"><claim-text>12. The transceiver according to any of the preceding claims 1 through 1 1 , wherein the CSI comprises one or more values selected from the group comprising a wide -band channel quality indicator (CQI), a sub-band CQI, a rank indicator, and a pre-coding matrix indicator. </claim-text></claim><claim id="clm-0013" num="13"><claim-text>13. A method for selecting channel state information (CSI) in a wireless transceiver, the method comprising: </claim-text><claim-text> generating channel estimates (308), a cyclic redundancy check (CRC) result (334), and a received CSI information (336), based on the received radio frequency signal (302); generating with a fast link adaptation (FLA) algorithm (312, 400) a FLA CSI and a received block information rate (RBIR) correlation value based on the channel estimates and the CRC results, wherein the FLA algorithm is configured to: compute a RBIR for each MCS in an employed set of MCS, and generate the FLA CSI and the estimated RBIR correlation value based on the calculated RBIR; </claim-text><claim-text> generating with a first stage enhanced slow link adaptation (ESLA) algorithm (316, 700), a filtered CSI based on the FLA CSI, a first stage block error rate (BLER) target, and the CRC result, wherein the first stage ESLA algorithm is configured to compute (718) a CSI adjusting factor based on the CRC result and the first stage BLER target, and combine (720) the FLA CSI and the CSI adjusting factor to select the filtered CSI; </claim-text><claim-text> updating a CSI history buffer (1010) wherein the CSI history buffer comprises a first predetermined number of past filtered CSI values; 
<!-- EPO <DP n="55"/>-->
 updating a CRC history buffer (1010) wherein the CRC history buffer comprises the first predetermined number of past CRC results; </claim-text><claim-text> generating with a second stage ESLA algorithm (320, 1000) an output CSI based on the filtered CSI, the CRC results, and the CSI history buffer, wherein the second stage ESLA algorithm is configured to select a CSI filter parameter (1032, 1036, 1038) from a set of predetermined filter constants based on the CSI history buffer, and to compute an output CSI (1040) based on the selected CSI filter parameter; and adjusting the first stage BLER target with a BLER target tracking algorithm (332, 1100) based on the CSI history buffer and the CRC history buffer, wherein the BLER target tracking stage is configured to calculate a set of link throughput values corresponding to a set of CSI values (1152, 1154, 1156), select the maximum link throughput from the set of calculated link throughput values (1128), calculate (1130) an expected BLER based on the calculated maximum link throughput and the CRC history buffer, and adjust (1132) the first stage BLER target based on the expected BLER and a predetermined tracking parameter. </claim-text></claim><claim id="clm-0014" num="14"><claim-text>14. The method of claim 13, wherein the second ESLA stage is activated when the RBIR correlation is above a predetermined threshold value, and bypassed when the RBIR correlation is equal to or less than the predetermined threshold. </claim-text></claim><claim id="clm-0015" num="15"><claim-text>15. The method of claims 13 or 14, wherein the method comprises a rank indication (RI) Post</claim-text><claim-text>Process (340,600), and wherein the RI post process is configured to: </claim-text><claim-text> obtain a RI from the FLA CSI (604); 
<!-- EPO <DP n="56"/>-->
 apply hysteresis (606, 608, 610, 618) to the obtained RI to create an output RI; and activate (612) a SLA reset flag when the output RI is different than a previous output RI, wherein activating the SLA reset flag: </claim-text><claim-text>resets the CSI adjusting factor to zero (712); </claim-text><claim-text>clears the CSI history buffer (1008); </claim-text><claim-text>clears the CRC history buffer (1008); and </claim-text><claim-text>sets the working BLER to a predetermined starting BLER (11 10). 
</claim-text></claim></claims><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
