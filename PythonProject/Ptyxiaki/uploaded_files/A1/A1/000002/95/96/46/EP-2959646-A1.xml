<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2959646-A1" country="EP" doc-number="2959646" kind="A1" date="20151230" family-id="51391685" file-reference-id="314655" date-produced="20180826" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="160452530" ucid="EP-2959646-A1"><document-id><country>EP</country><doc-number>2959646</doc-number><kind>A1</kind><date>20151230</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-13875402-A" is-representative="NO"><document-id mxw-id="PAPP193868028" load-source="patent-office" format="original"><country>EP</country><doc-number>13875402.3</doc-number><date>20131213</date><lang>EN</lang></document-id><document-id mxw-id="PAPP193868029" load-source="docdb" format="epo"><country>EP</country><doc-number>13875402</doc-number><kind>A</kind><date>20131213</date><lang>EN</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC162026804" ucid="US-2013074867-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>2013074867</doc-number><kind>W</kind><date>20131213</date></document-id></priority-claim><priority-claim mxw-id="PPC162030237" ucid="US-201361768330-P" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>201361768330</doc-number><kind>P</kind><date>20130222</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-1884752497" load-source="docdb">H04W  28/12        20090101ALI20161014BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1884752498" load-source="docdb">H04L  12/701       20130101AFI20161014BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1884752499" load-source="docdb">H04L  12/46        20060101ALI20161014BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1884752500" load-source="docdb">H04W  88/06        20090101ALI20161014BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1884752501" load-source="docdb">H04L  29/12        20060101ALI20161014BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1641018278" load-source="docdb" scheme="CPC">H04W  76/27        20180201 LI20180515BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1642409236" load-source="docdb" scheme="CPC">H04W  76/28        20180201 LI20180508BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1687166122" load-source="docdb" scheme="CPC">H04W  76/23        20180201 LI20180219BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1687166123" load-source="docdb" scheme="CPC">H04W  76/14        20180201 LI20180219BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1687166124" load-source="docdb" scheme="CPC">H04W   4/80        20180201 LI20180219BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1687166125" load-source="docdb" scheme="CPC">H04W   4/70        20180201 LI20180219BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1710175359" load-source="docdb" scheme="CPC">Y02D  70/23        20180101 LA20180112BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1710175360" load-source="docdb" scheme="CPC">Y02D  70/22        20180101 LA20180112BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1710175361" load-source="docdb" scheme="CPC">Y02D  70/21        20180101 LA20180112BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1710175362" load-source="docdb" scheme="CPC">Y02D  70/146       20180101 LA20180112BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1710175363" load-source="docdb" scheme="CPC">Y02D  70/144       20180101 LA20180112BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1710175364" load-source="docdb" scheme="CPC">Y02D  70/142       20180101 LA20180112BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1710175365" load-source="docdb" scheme="CPC">Y02D  70/1264      20180101 LA20180112BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1710175366" load-source="docdb" scheme="CPC">Y02D  70/1262      20180101 LA20180112BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1710175367" load-source="docdb" scheme="CPC">Y02D  70/1242      20180101 LA20180112BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1710175368" load-source="docdb" scheme="CPC">Y02D  70/1226      20180101 LA20180112BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1710175369" load-source="docdb" scheme="CPC">Y02D  70/1224      20180101 LA20180112BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1710175370" load-source="docdb" scheme="CPC">Y02D  70/1222      20180101 LA20180112BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1710175371" load-source="docdb" scheme="CPC">Y02D  70/00        20180101 LA20180112BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1710175372" load-source="docdb" scheme="CPC">H04W  72/042       20130101 LI20180112BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1710175373" load-source="docdb" scheme="CPC">H04W  72/02        20130101 LI20180112BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1732707350" load-source="docdb" scheme="CPC">H04W  48/18        20130101 LI20171114BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1824856237" load-source="docdb" scheme="CPC">H04L  61/2592      20130101 LI20170411BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1824856238" load-source="docdb" scheme="CPC">H04L  61/2564      20130101 LI20170411BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1824856239" load-source="docdb" scheme="CPC">H04L  47/12        20130101 LI20170411BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1824856240" load-source="docdb" scheme="CPC">H04L  61/2575      20130101 LI20170411BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1824856241" load-source="docdb" scheme="CPC">H04L  61/6077      20130101 LI20170411BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1824856242" load-source="docdb" scheme="CPC">H04W  48/14        20130101 LI20170411BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1824856243" load-source="docdb" scheme="CPC">H04W  52/0216      20130101 LI20170411BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1824856244" load-source="docdb" scheme="CPC">H04L  61/2525      20130101 LI20170411BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1824856245" load-source="docdb" scheme="CPC">H04W  52/028       20130101 LI20170411BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1824856246" load-source="docdb" scheme="CPC">H04W  28/12        20130101 LI20170411BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1824856247" load-source="docdb" scheme="CPC">H04L  61/2514      20130101 LI20170411BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1824856248" load-source="docdb" scheme="CPC">H04L  47/11        20130101 LI20170411BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1852716740" load-source="docdb" scheme="CPC">H04W   8/005       20130101 FI20170202BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1852722455" load-source="docdb" scheme="CPC">H04W  48/16        20130101 LI20170202BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1884752504" load-source="docdb" scheme="CPC">H04W  84/12        20130101 LA20161020BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1884752505" load-source="docdb" scheme="CPC">H04W  48/08        20130101 LI20161020BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1973199723" load-source="docdb" scheme="CPC">H04W  28/08        20130101 LA20160212BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1981012416" load-source="docdb" scheme="CPC">H04W  36/0088      20130101 LI20160119BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1981015560" load-source="docdb" scheme="CPC">H04W  24/02        20130101 LI20160121BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1984019936" load-source="docdb" scheme="CPC">H04W  40/244       20130101 LI20160114BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1984022927" load-source="docdb" scheme="CPC">H04L  27/2614      20130101 LI20160114BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1984698858" load-source="docdb" scheme="CPC">H04W  72/0446      20130101 LI20160107BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1984703960" load-source="docdb" scheme="CPC">H04W  36/30        20130101 LI20151224BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987766714" load-source="docdb" scheme="CPC">H04W  28/02        20130101 LI20150123BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987775120" load-source="docdb" scheme="CPC">H04W  74/08        20130101 LI20151217BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987775159" load-source="docdb" scheme="CPC">H04W  74/02        20130101 LI20151214BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987776331" load-source="docdb" scheme="CPC">H04W  24/06        20130101 LI20150418BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987780741" load-source="docdb" scheme="CPC">H04W  72/0413      20130101 LI20151214BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987783091" load-source="docdb" scheme="CPC">H04W  88/06        20130101 LA20151214BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987791300" load-source="docdb" scheme="CPC">H04L  45/30        20130101 LA20150123BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987791806" load-source="docdb" scheme="CPC">H04W  28/0289      20130101 LI20150205BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987794439" load-source="docdb" scheme="CPC">H04W  40/02        20130101 LI20151214BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987794832" load-source="docdb" scheme="CPC">H04L  12/4633      20130101 LI20151212BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987796769" load-source="docdb" scheme="CPC">H04W  72/005       20130101 LI20151212BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987797728" load-source="docdb" scheme="CPC">H04W  74/002       20130101 LI20151217BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987798307" load-source="docdb" scheme="CPC">H04L  61/2539      20130101 LI20151212BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987798715" load-source="docdb" scheme="CPC">H04W  74/04        20130101 LI20151217BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT165549056" lang="DE" load-source="patent-office">WEGSCHALTVERFAHREN FÜR D2D-KOMMUNIKATION</invention-title><invention-title mxw-id="PT165549057" lang="EN" load-source="patent-office">PATH SWITCHING PROCEDURE FOR DEVICE-TO-DEVICE COMMUNICATION</invention-title><invention-title mxw-id="PT165549058" lang="FR" load-source="patent-office">PROCÉDURE DE CHANGEMENT DE TRAJET POUR COMMUNICATION DE DISPOSITIF À DISPOSITIF</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR1103319261" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>INTEL IP CORP</last-name><address><country>US</country></address></addressbook></applicant><applicant mxw-id="PPAR1103327421" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>Intel IP Corporation</last-name></addressbook></applicant><applicant mxw-id="PPAR1101647870" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Intel IP Corporation</last-name><iid>101403923</iid><address><street>2200 Mission College Boulevard</street><city>Santa Clara, CA 95054</city><country>US</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR1103328651" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>STOJANOVSKI ALEXANDRE S</last-name><address><country>FR</country></address></addressbook></inventor><inventor mxw-id="PPAR1103316901" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>STOJANOVSKI, Alexandre S.</last-name></addressbook></inventor><inventor mxw-id="PPAR1101652204" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>STOJANOVSKI, Alexandre S.</last-name><address><street>6 villa Faucheur</street><city>F-758020 Paris 75</city><country>FR</country></address></addressbook></inventor><inventor mxw-id="PPAR1103321838" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>VENKATACHALAM MUTHAIAH</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR1103336723" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>VENKATACHALAM, MUTHAIAH</last-name></addressbook></inventor><inventor mxw-id="PPAR1101641474" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>VENKATACHALAM, MUTHAIAH</last-name><address><street>16620 NW Paddington Dr</street><city>Beaverton, Oregon 97006</city><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR1103306393" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>JOHNSSON KERSTIN</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR1103338570" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>JOHNSSON, KERSTIN</last-name></addressbook></inventor><inventor mxw-id="PPAR1101647287" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>JOHNSSON, KERSTIN</last-name><address><street>3125 Alma Street</street><city>Palo Alto, California 94306</city><country>US</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR1101653177" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Goddar, Heinz J.</last-name><iid>100002032</iid><address><street>Boehmert &amp; Boehmert Anwaltspartnerschaft mbB Patentanwälte Rechtsanwälte Pettenkoferstrasse 20-22</street><city>80336 München</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="US-2013074867-W"><document-id><country>US</country><doc-number>2013074867</doc-number><kind>W</kind><date>20131213</date><lang>EN</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2014130143-A1"><document-id><country>WO</country><doc-number>2014130143</doc-number><kind>A1</kind><date>20140828</date><lang>EN</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS660624049" load-source="docdb">AL</country><country mxw-id="DS660709473" load-source="docdb">AT</country><country mxw-id="DS660624059" load-source="docdb">BE</country><country mxw-id="DS660625469" load-source="docdb">BG</country><country mxw-id="DS660703260" load-source="docdb">CH</country><country mxw-id="DS660788733" load-source="docdb">CY</country><country mxw-id="DS660709474" load-source="docdb">CZ</country><country mxw-id="DS660624060" load-source="docdb">DE</country><country mxw-id="DS660788734" load-source="docdb">DK</country><country mxw-id="DS660788735" load-source="docdb">EE</country><country mxw-id="DS660724972" load-source="docdb">ES</country><country mxw-id="DS660625470" load-source="docdb">FI</country><country mxw-id="DS660625475" load-source="docdb">FR</country><country mxw-id="DS660624061" load-source="docdb">GB</country><country mxw-id="DS660788736" load-source="docdb">GR</country><country mxw-id="DS660624062" load-source="docdb">HR</country><country mxw-id="DS660709475" load-source="docdb">HU</country><country mxw-id="DS660703261" load-source="docdb">IE</country><country mxw-id="DS660624067" load-source="docdb">IS</country><country mxw-id="DS660625476" load-source="docdb">IT</country><country mxw-id="DS660788737" load-source="docdb">LI</country><country mxw-id="DS660624761" load-source="docdb">LT</country><country mxw-id="DS660709476" load-source="docdb">LU</country><country mxw-id="DS660624762" load-source="docdb">LV</country><country mxw-id="DS660624767" load-source="docdb">MC</country><country mxw-id="DS660703170" load-source="docdb">MK</country><country mxw-id="DS660703179" load-source="docdb">MT</country><country mxw-id="DS660624068" load-source="docdb">NL</country><country mxw-id="DS660625477" load-source="docdb">NO</country><country mxw-id="DS660624069" load-source="docdb">PL</country><country mxw-id="DS660703262" load-source="docdb">PT</country><country mxw-id="DS660624070" load-source="docdb">RO</country><country mxw-id="DS660703267" load-source="docdb">RS</country><country mxw-id="DS660624075" load-source="docdb">SE</country><country mxw-id="DS660703268" load-source="docdb">SI</country><country mxw-id="DS660624769" load-source="docdb">SK</country><country mxw-id="DS660624770" load-source="docdb">SM</country><country mxw-id="DS660788738" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data><office-specific-data><eptags><ep-no-a-document-published>*</ep-no-a-document-published></eptags></office-specific-data></bibliographic-data><abstract mxw-id="PA139072955" ref-ucid="WO-2014130143-A1" lang="EN" load-source="patent-office"><p num="0000">Session continuity may be maintained when communication devices transition from communicating through network infrastructure (e.g., through a cellular network) to direct mode communications (e.g., a communication path directly between two communication devices). For example, in switching from an infrastructure mode communication path to a direct mode communication path, a method may include: determining a public-facing address corresponding to the infrastructure path; replacing, for a packet that is to be transmitted over the direct mode communication path to a second communication device, a source address field of the packet with the determined public-facing address; and encapsulating the packet with source and destination address fields corresponding to the first and second communication device through the direct mode communication path respectively.</p></abstract><abstract mxw-id="PA139540604" ref-ucid="WO-2014130143-A1" lang="EN" source="national office" load-source="docdb"><p>Session continuity may be maintained when communication devices transition from communicating through network infrastructure (e.g., through a cellular network) to direct mode communications (e.g., a communication path directly between two communication devices). For example, in switching from an infrastructure mode communication path to a direct mode communication path, a method may include: determining a public-facing address corresponding to the infrastructure path; replacing, for a packet that is to be transmitted over the direct mode communication path to a second communication device, a source address field of the packet with the determined public-facing address; and encapsulating the packet with source and destination address fields corresponding to the first and second communication device through the direct mode communication path respectively.</p></abstract><abstract mxw-id="PA139072956" ref-ucid="WO-2014130143-A1" lang="FR" load-source="patent-office"><p num="0000">L'invention a pour objet de maintenir la continuité d'une session lorsque des dispositifs de communication passent d'une communication via une infrastructure de réseau (par ex. via un réseau cellulaire) à des communications en mode direct (par ex. un trajet de communication reliant directement deux dispositifs de communication). Par exemple, lors d'un passage d'un trajet de communication en mode infrastructure à un trajet de communication en mode direct, un procédé peut comprendre les étapes consistant à: déterminer une adresse vis-à-vis du public correspondant au trajet d'infrastructure; remplacer, pour un paquet à émettre sur le trajet de communication en mode direct vers un deuxième dispositif de communication, un champ d'adresse d'origine du paquet par l'adresse vis-à-vis du public qui a été déterminée; et encapsuler le paquet avec des champs d'adresses d'origine et de destination correspondant respectivement aux premier et deuxième dispositifs de communication reliés par le trajet de communication en mode direct.</p></abstract><abstract mxw-id="PA139540605" ref-ucid="WO-2014130143-A1" lang="FR" source="national office" load-source="docdb"><p>L'invention a pour objet de maintenir la continuité d'une session lorsque des dispositifs de communication passent d'une communication via une infrastructure de réseau (par ex. via un réseau cellulaire) à des communications en mode direct (par ex. un trajet de communication reliant directement deux dispositifs de communication). Par exemple, lors d'un passage d'un trajet de communication en mode infrastructure à un trajet de communication en mode direct, un procédé peut comprendre les étapes consistant à: déterminer une adresse vis-à-vis du public correspondant au trajet d'infrastructure; remplacer, pour un paquet à émettre sur le trajet de communication en mode direct vers un deuxième dispositif de communication, un champ d'adresse d'origine du paquet par l'adresse vis-à-vis du public qui a été déterminée; et encapsuler le paquet avec des champs d'adresses d'origine et de destination correspondant respectivement aux premier et deuxième dispositifs de communication reliés par le trajet de communication en mode direct.</p></abstract><description mxw-id="PDES78476785" ref-ucid="WO-2014130143-A1" lang="EN" load-source="patent-office"><!-- EPO <DP n="2"/>--><p id="p0001" num="0001"> PATH SWITCHING PROCEDURE FOR </p><p id="p0002" num="0002"> DEVICE-TO-DEVICE COMMUNICATION </p><p id="p0003" num="0003"> RELATED APPLICATIONS </p><p id="p0004" num="0004"> The present application claims the benefit of U.S. Provisional Patent Application No.</p><p id="p0005" num="0005">61/768,330, which was filed on February 22, 2013, and which is hereby incorporated by reference as though fully set forth herein. </p><p id="p0006" num="0006"> BACKGROUND </p><p id="p0007" num="0007"> Wireless networks may provide network connectivity to mobile communication devices, such as smart phones. The network connectivity may be provided through radio interfaces. Typically, the devices may connect to a network through an access point that is part of the network infrastructure. For example, a device may connect to a cellular network via a cellular base station or a wireless local area network (WLAN) via a WLAN access point (e.g., a WiFi access point). </p><p id="p0008" num="0008"> Some techniques may allow devices to establish direct communication paths with one another (e.g., without going through a cellular base station or WiFi access point). For example, devices that are located in proximity to one another may discover one another and subsequently establish direct communication paths with one another. Examples of direct communication technologies include the WiFi Direct® standard or direct communications as discussed in the technical report "3GPP TR 22.703, Technical Specification Group Services and Systems Aspects; Study on architecture enhancements to support Proximity Services (ProSe) (Release 12)" (available at www.3gpp.org). </p><p id="p0009" num="0009"> BRIEF DESCRIPTION OF THE DRAWINGS </p><p id="p0010" num="0010"> Embodiments of the present invention will be readily understood by the following detailed description in conjunction with the accompanying drawings. To facilitate this description, like reference numerals may designate like structural elements. Embodiments of the invention are illustrated by way of example and not by way of limitation in the figures of the accompanying 
<!-- EPO <DP n="3"/>-->
 drawings. </p><p id="p0011" num="0011"> Fig. 1 is a diagram illustrating an example overview of one or more implementations described herein; </p><p id="p0012" num="0012"> Fig. 2 is a diagram of an example environment in which systems and/or methods described herein may be implemented; </p><p id="p0013" num="0013"> Fig. 3 is a diagram conceptually illustrating components of user equipment (UE) illustrated in Fig. 2; </p><p id="p0014" num="0014"> Fig. 4 is flow chart illustrating an example process for performing address translation at a UE with respect to outgoing packets; </p><p id="p0015" num="0015"> Fig. 5 is flow chart illustrating an example process for performing address translation at a UE with respect to incoming packets; </p><p id="p0016" num="0016"> Fig. 6 is a diagram illustrating an example of address translation for packet flows; </p><p id="p0017" num="0017"> Fig. 7 is flow chart illustrating an example process for maintaining session continuity for an application when switching from the direct mode communication path to the infrastructure path; </p><p id="p0018" num="0018"> Fig. 8 is a diagram illustrating the maintaining of session continuity for an application when switching from a direct mode communication path to an infrastructure path; </p><p id="p0019" num="0019"> Fig. 9 is a diagram illustrating the use of rendezvous server to bridge a packet flow, between UEs, that has been switched from the direct mode communication path to the infrastructure path; and </p><p id="p0020" num="0020"> Fig. 10 is a diagram of example components of a device. </p><p id="p0021" num="0021"> DETAILED DESCRIPTION OF PREFERRED EMBODIMENTS </p><p id="p0022" num="0022"> The following detailed description refers to the accompanying drawings. The same reference numbers in different drawings may identify the same or similar elements. It is to be understood that other embodiments may be utilized and structural or logical changes may be made without departing from the scope of the present disclosure. Therefore, the following 
<!-- EPO <DP n="4"/>-->
 detailed description is not to be taken in a limiting sense, and the scope of embodiments in accordance with the present invention is defined by the appended claims and their equivalents. </p><p id="p0023" num="0023"> Techniques described herein may provide for session continuity when communication devices, called "user equipment" (UE) herein, transition from communicating through network infrastructure (e.g., through a cellular network) to direct mode communications (e.g., a communication path directly between two UEs). For example, two UEs may be connected to a cellular network and may be implementing a communication application through the cellular network. The communication application may include an application to implement a voice call, a video call, a file transfer, etc. At some point during the operation of the communication application, the two UEs may establish direct mode communications, such as by a radio link that directly connects the two UEs without going through the infrastructure of the cellular network. It may be desirable, when switching to direct mode communications, to be able to continue to run the communication application without disruption. In other words, it may be desirable to switch the data flow, corresponding to the communication application, from the infrastructure path (e.g., through the cellular network) to the direct mode communication path, while maintaining session continuity at the application level. From the user's perspective, the switch between the infrastructure path and the direct mode communication path may not be noticeable (e.g., the voice call, video call, file transfer, etc. may continue uninterrupted). </p><p id="p0024" num="0024"> Fig. 1 is a diagram illustrating an example overview of one or more implementations described herein. As illustrated, two UEs, labeled as UE-A and UE-B, may be capable of communicating via an infrastructure path (e.g., through an Internet Protocol (IP) network) and via a direct path (direct mode communication). The infrastructure path may include a communication path in which the UEs wirelessly connect to the IP network, such as through cellular base stations. The direct mode communication may be based on the UEs directly communicating with one another. One technique for establishing direct communication paths 
<!-- EPO <DP n="5"/>-->
 between UEs is the WiFi Direct® standard (i.e., based on one of the Institute of Electrical and Electronics Engineers (IEEE) 802.11 -based standards). </p><p id="p0025" num="0025"> UE-A and UE-B may each execute an application ("App"). The application at UE-A may include a communication application (e.g., a voice, video, or file transfer application) that exchanges data with the application at UE-B. For example, the applications at UE-A and UE-B may be peer-to-peer video conference applications that allows the users of UE A and UE B to communicate with one another via a videoconference. Data for the videoconference may be streamed between UE A and UE B as an IP packet flow. </p><p id="p0026" num="0026"> UE A, when first connecting to the IP network, may be assigned an IP address ("ΓΡ@Α1 "). Similarly, UE B, when first connecting to the IP network, may be assigned another IP address ("IP@B 1"). UE-A and UE B may use different IP addresses when communicating using the direct mode communication ("IP@A2" and "IP@B2," respectively). As will be discussed more detail below, network address translation (NAT) may be performed by the IP network to assign yet another IP address to each of UE-A and UE-B. The IP addresses that are assigned by the IP network (e.g., IP@A1 and IP@B1) may be referred to as the "public-facing IP addresses" for UE A and UE B. </p><p id="p0027" num="0027"> Consistent with aspects described herein, UE-A and UE-B may modify the headers of certain packets sent over the direct mode communication path so that, from the perspective of the application, packets received over the direct mode communication path may appear to be received from the same flow as packets received over the infrastructure path. Thus, the packet flow for a particular application, between UE A and UE B, may be switched from the infrastructure path to the direct mode communication path (or vice versa), without affecting the operation of the application. In this manner, session continuity (e.g., continuity of the voice application, video application, file transfer application) may be maintained across transitions between the infrastructure path and the direct mode communication path. 
<!-- EPO <DP n="6"/>-->
 In one implementation, a method is disclosed for maintaining session continuity, for applications executing in a communication device, in switching from an infrastructure mode communication path to a direct mode communication path. The method may include determining a public-facing address corresponding to the infrastructure path of the </p><p id="p0028" num="0028">communication device; and replacing, for a packet that is to be transmitted over the direct mode communication path to a second communication device, a source address field of the packet with the determined public-facing address. The method may further include encapsulating the packet with source and destination address fields corresponding to the first and second communication devices, respectively, through the direct mode communication path. The method may further include transmitting the encapsulated packet via the direct mode communication path. </p><p id="p0029" num="0029"> The method may further include decapsulating packets received over the direct mode communication path from the second communication device, the decapsulation including replacing destination address fields of the packets with a private address of the communication device in the infrastructure path; and providing the decapsulated packets to an application layer of the communication device. </p><p id="p0030" num="0030"> In an implementation, the source address field of the packet that is to be transmitted over the direct mode communication path may be initially created by the communication device as a private address corresponding to the infrastructure path of the communication device. </p><p id="p0031" num="0031"> In an implementation, the replaced source address field of the packet includes a public - facing address that refers to a private address of the communication device in the infrastructure path. </p><p id="p0032" num="0032"> In an implementation, the public-facing address and the source address each include an Internet Protocol (IP) address and a port number. </p><p id="p0033" num="0033"> In an implementation, determining the public-facing address may include querying a Port Control Protocol (PCP) server, a Session Traversal Utilities for Network Address Translation 
<!-- EPO <DP n="7"/>-->
 (STUN) server, or a Traversal Using Relays around Network Address Translation (TURN) server. </p><p id="p0034" num="0034"> In an implementation, the infrastructure mode communication path may include wireless communications based on Institute of Electrical and Electronics Engineers (IEEE) 802.11 -based wireless communication standards. </p><p id="p0035" num="0035"> In an implementation, the communications over the infrastructure mode communication path may include communications based on cellular wireless communication standards. </p><p id="p0036" num="0036"> In another implementation, a communication device may maintain session continuity, for applications executing in a communication device, in switching from an infrastructure mode communication path to a direct mode communication path. The communication device may include processing circuitry to: determine a public-facing address corresponding to the infrastructure path of the communication device; and replace, by the communication device and for a packet that is to be transmitted over the direct mode communication path to a second communication device, a source address field of the packet with the determined public-facing address. The processing circuitry may further encapsulate the packet with source and destination address fields corresponding to the communication device and the second communication device, respectively, through the direct mode communication path; and transmit the encapsulated packet via the direct mode communication path. </p><p id="p0037" num="0037"> In another implementation, a communication device may maintain session continuity, for applications executing in the communication device, in switching from a direct mode communication path to an infrastructure communication path. The communication device may including processing circuitry to: determine a public-facing address corresponding to the infrastructure path of the communication device; transmit, over the direct mode communication path and to a second communication device, the public-facing address; receive, over the infrastructure path, an encapsulated packet from the second communication device; decapsulate the received encapsulated packet to obtain a packet that includes addressing information 
<!-- EPO <DP n="8"/>-->
 corresponding to the direct mode communication path; and provide the decapsulated packet to an application layer of the communication device. </p><p id="p0038" num="0038"> In another implementation, a UE may include a memory to store instructions; and at least one processor to execute the instructions stored by the memory to: connect with a second UE, using a communication session formed over an infrastructure path; and switch communication paths, with the second UE, from the infrastructure path to a direct wireless communication path to the second UE, the switching being performed transparently to an application layer process that is executing at the UE and that is communicating with the second UE. </p><p id="p0039" num="0039"> The UE may replace, for a packet that is to be transmitted over the direct wireless communication path to the second UE, a source address field of the packet with a public-facing address of the UE in the infrastructure path; encapsulate the packet with source and destination address fields corresponding to the UE and the second UE, respectively, through the direct wireless communication path; and transmit the encapsulated packet over the direct wireless communication path. The UE may further decapsulate packets received over the direct wireless communication path from the second UE, the decapsulation including replacing destination address fields of the packets with a private address of the communication device in the infrastructure path; and provide the decapsulated packets to an application layer of the communication device. </p><p id="p0040" num="0040"> In another implementation, a communication device may include means for determining a public-facing address corresponding to the infrastructure path of the communication device; means for transmitting, over the direct mode communication path to a second communication device, the public-facing address; and means for receiving, over the infrastructure path, an encapsulated packet from the second communication device. The communication device may further include means for decapsulating the received packet to obtain a packet that includes addressing information corresponding to the direct mode communication path; and means for providing the decapsulated packet to an application layer of the communication device. 
<!-- EPO <DP n="9"/>-->
 Fig. 2 is a diagram of an example environment 200 in which systems and/or methods described herein may be implemented. As illustrated, environment 200 may include one or more UEs 210-1 and 210-2 (sometimes referred to collectively herein as "UEs 210" or individually as "UE 210") and network 220 to provide network connectivity to UEs 210 and/or with other networks. </p><p id="p0041" num="0041"> UEs 210 may include portable computing and communication devices, such as personal digital assistants (PDAs), smart phones, cellular phones, laptop computers with connectivity to a cellular wireless network, tablet computers, etc. UEs 210 may also include non-portable computing devices, such as desktop computers, consumer or business appliances, or other devices that have the ability to connect to network 220. UEs 210 may connect, through a radio link, to network 220. UEs 210 may also connect directly to one another using a direct mode communication path (e.g., via direct mode communication that does not use network 220). </p><p id="p0042" num="0042"> As illustrated, UE 210-1 may be associated with two IP addresses: "IP@A1 ", which may include the IP address that is associated with a packet flow though the infrastructure path (e.g., through network 220) and "IP@A2", which may include the IP address that is associated with a packet flow over the direct mode communication path. As used herein, the term "IP address" or "address" may refer to an IPv4 or IPv6 address value and a port number. A computing device may include a number of logical port addresses (e.g., a port address may be a two-octet number, giving 65536 potential port numbers). Packets for a particular application (e.g., video application, web browsing application, etc.) may be addressed to the IPv4 or IPv6 address of the destination computing device and a specific port number. Using port numbers in network addresses may allow multiple applications, executing at a single computing device, to simultaneously share the same IP address. The notation "iP@Value" may be used herein to represent both IP addresses and port values. In practice, an IP address, such as an IPv4 address, and a corresponding port number may include a four-octet IP address and a two-octet port value 
<!-- EPO <DP n="10"/>-->
 (e.g., represented as 192.168.10.45:82, which may refer to port 82 at the IP address </p><p id="p0043" num="0043">192.168.10.45). </p><p id="p0044" num="0044"> UEs 210 that are in the vicinity of one another (e.g., within direct radio range of one another when using radio transceivers of UEs 210) may discover and communicate with one another using direct mode communication paths. For example, a number of UEs 210 may form an ad hoc network with one another using direct mode communications. In some situations, not all UEs 210 in the ad hoc network may be directly connected with one another. That is, some of the UEs 210 may act as relay nodes in the ad hoc network to thereby expand coverage of the ad hoc network beyond the radio range of a single UE. The term "direct mode communication path" may refer to direct UE to UE wireless communications or communications that are relayed though an ad hoc network of UEs (e.g., without using the infrastructure path). </p><p id="p0045" num="0045"> Network 220 may include one or more networks that provide network connectivity to UEs 210. As illustrated, network 220 may include IP network 230 and wireless networks 235 and 240. IP network 230 may represent, for example a wide area network (WAN), such as the Internet (or other network or combination of networks) that provides packet-based network connectivity. Wireless networks 235 and 240 may include wireless access and/or wireless core networks that provide wireless connectivity to UEs 210. Wireless networks 235 and 240 may represent, for example, cellular wireless networks that are implemented based on the Long Term Evolution (LTE) and/or Evolved Packet System (EPS) standards. Each of wireless networks 235 and 240 may correspond to, for example, wireless networks provided by different wireless service providers. Alternatively or additionally, wireless networks 235 and 240 may correspond to different sections or sub-networks that are provided by the same service provider. Although two wireless networks 235 and 240 and one IP network 230 are illustrated in Fig. 2, additional or fewer of each of networks 230, 235, and 240 may potentially be implemented. </p><p id="p0046" num="0046"> Network 220 may include a number of network devices, such as routers, switches, gateways, and/or other control or data bearing network elements. As particularly illustrated in 
<!-- EPO <DP n="11"/>-->
 Fig. 2, network 220 may include NAT server 250 (associated with wireless network 235), NAT server 255 (associated with wireless network 240), and IP address discovery server 260. </p><p id="p0047" num="0047"> NAT servers 250 and 255 may include devices that perform network address translation on packets. In one implementation, NAT servers 250 and 255 may implement functionality that is part of a Packet Data Network Gateway (PGW) device. In this situation, NAT servers 250 and 255 may provide network address translation services for packets entering/leaving wireless networks 235 and 240, respectively. In general, network address translation may refer to the process of modifying IP address information in IP headers while a packet is in transit. For example, one type of network address translation may provide a one-to-one translation of IP addresses and port values. </p><p id="p0048" num="0048"> An example of network address translation is illustrated in Fig. 2 for an example packet transmitted from UE A to UE B over the infrastructure path. Due to network address translation by NAT server 255, the public-facing IP address of UE B (e.g., the IP address seen by devices external to wireless network 240), instead of being IP@B 1, may be IP@B lpub. Similarly, due to network address translation by NAT server 250, the public-facing IP address of UE A, instead of being IP@A1, may be IP@Alpub. As illustrated in Fig. 2, a packet being transmitted by UE A to UE B may initially include the source address IP@A1 and the destination address of IP@Blpub (packet header 270). After traversing NAT server 250, the packet may include the source address IP@Alpub and the destination address IP@Blpub (packet header 275). After traversing NAT server 255, the packet may include the source address IP@Alpub and the destination address IP@B 1 (packet header 280). The packet may then be delivered to UE B. </p><p id="p0049" num="0049"> IP address discovery server 260 may include one or more devices designed to assist devices, such as UEs 210, in determining the public-facing IP addresses of the devices. IP address discovery server 260 may respond to requests from UEs 210 for the public-facing IP address of the UE. For example, in situations in which IP address discovery server 260 is located in IP network 230, the request, when it reaches IP address discovery server 260, may 
<!-- EPO <DP n="12"/>-->
 have been translated so that the public-facing IP address of the UE corresponds to the source address of the request. IP address discovery server 260 may then transmit the public-facing address back to the UE. </p><p id="p0050" num="0050"> Although illustrated as part of IP network 230, in practice, IP address discovery server 260 may alternatively be implemented within wireless networks 235/240, or as functionality that is associated with NAT servers 250/255. In one implementation, IP address discovery server 260 may include a service implemented using the Port Control Protocol (PCP). The PCP may allow UEs 210 to discover the public IP address and port value used by NAT server 250 or 255 for a particular packet flow. The PCP may be implemented as a service within NAT 250/255. </p><p id="p0051" num="0051">Alternatively or additionally, other mechanisms, such as the Session Traversal Utilities for NAT (STUN) protocol or Traversal Using Relays around NAT (TURN) protocol may be used to implement the functionality of IP address discovery server 260. </p><p id="p0052" num="0052"> Although referred to as "servers," NAT server 250, NAT server 255, and IP address discovery server 260 may correspond to a traditional server, a service implemented in a network device that implements other functionality, a cluster of blade or rack-mounted servers, or another implementation that provides services and/or data storage. </p><p id="p0053" num="0053"> Fig. 3 is a diagram conceptually illustrating components of UE 210. UE 210 may include functionality that can be conceptualized into functionality of the Open Systems Interconnection (OSI) model, including a radio interface 310 (e.g., functionality at the physical layer/data link layer), network layer 320, and application layer 330. </p><p id="p0054" num="0054"> Radio interface 310 may include radio transceivers, antennas, and/or other logic to implement wireless radio communications for UE 210. In some implementations, radio interface 310 may include logic to connect via different wireless radio standards (e.g., radio circuitry to implement an IEEE 802.1 1-based radio interface and radio circuitry to implement an interface to a cellular network). Radio interface 310 may receive and output radio signals. Radio interface 
<!-- EPO <DP n="13"/>-->
 310 may also provide other functionality relating to the operation of the physical layer and data link layer. </p><p id="p0055" num="0055"> Network layer 320 may generally include logic to handle packet forwarding and routing. Network layer 320 may include address translation component 325. Address translation component 325 may perform address translation of IP addresses and port values for packet flows that are transmitted between UEs as part of direct mode communication. The address translation may enable session continuity between applications when switching between the infrastructure path and the direct mode communication path. The operation of address translation component 325 will be described in more detail below. </p><p id="p0056" num="0056"> Application layer 330 may include one or more applications 335 that may communicate with other UEs 210 (or other devices) using process-to-process connections that may be based on IP addresses and port values. Applications 335 may include communication applications (e.g., voice or video call applications), file transfer applications, or other applications. From the perspective of an application 335, packet flows with other applications (e.g., at another UE) may be disrupted if the IP address or port number associated with the packet flow changes. </p><p id="p0057" num="0057"> Fig. 4 is flow chart illustrating an example process 400 for performing address translation at a UE 210 with respect to outgoing packets (packets being transmitted by the UE). Process 400 may be performed by, for example, address translation component 325 of UE 210. Process 400 may be performed for packets, in a packet flow that were originally transmitted via the infrastructure path, but that were switched to being transmitted via the direct mode </p><p id="p0058" num="0058">communication path. </p><p id="p0059" num="0059"> Process 400 may include determining, for a particular packet flow, the mapping between the IP address and port number at UE 210 (the private IP address and port number of UE 210) and the public-facing IP address and port number (block 410). The particular packet flow may include data that is generated by an application at UE 210. As mentioned, the public-facing IP address and port number may be the IP address and port number that is assigned by a network 
<!-- EPO <DP n="14"/>-->
 device, such as one of NAT servers 250 and 255. In one implementation, the mapping may be determined via a query to IP address discovery server 260. In the example of Fig. 2, for instance, the private IP address and port of UE A may be IP@A1. Through IP address discovery server 260, UE A may determine that the corresponding public-facing IP address and port of UE A is IP@Alpub. For situations in which UE 210 is not located behind a NAT, the public-facing IP address and port number may be the same as the private IP address and port number of UE 210. </p><p id="p0060" num="0060"> Process 400 may further include replacing the source address field of a packet with the public-facing IP address and port number (block 420). In this manner, the packet, when received by the receiving UE, will appear, from the perspective of the receiving UE, to be a packet in the packet flow that was transmitted over the infrastructure path. </p><p id="p0061" num="0061"> Process 400 may further include encapsulating the packet and transmitting the packet via the direct mode communication path (block 430). For example, the data of the packet may be wirelessly transmitted by radio interface 310 using the direct mode communication path. In one implementation, the direct mode communication path may be implemented as a tunnel that encapsulates the packet based on the direct mode communication path addresses (e.g., in the example of Fig. 2, IP@A2 and IP@B2). </p><p id="p0062" num="0062"> Fig. 5 is flow chart illustrating an example process 500 for performing address translation at a UE 210 with respect to incoming packets (packets being received by the UE). Process 500 may be performed by, for example, address translation component 325. Process 500 may be performed for packets, in a packet flow that was originally received via the infrastructure path, but that was switched to being transmitted via the direct mode communication path. </p><p id="p0063" num="0063"> Process 500 may include replacing the destination address field of a packet with the private IP address and port number of the receiving UE (block 510). In other words, the destination address field may be modified to include the IP address of the UE on the infrastructure path and the port of the packet flow on the infrastructure path. 
<!-- EPO <DP n="15"/>-->
 Process 500 may further include providing the packet to the application layer (block 520). Because of the address translation by the transmitting UE (e.g., as illustrated in Fig. 4) and by the receiving UE (block 510), the received packet may appear, from the perspective of the application layer at the receiving UE, to be a packet that belongs to the packet flow that was transmitted over the infrastructure path. Session continuity, corresponding to the packet flow, may thus be maintained. </p><p id="p0064" num="0064"> Fig. 6 is a diagram illustrating, in the context of environment 200, an example of address translation for packet flows, performed pursuant to the processes discussed above with respect to Figs. 4 and 5, in the direct mode communication path. Assume that an application at UE A is communicating with an application at UE B via infrastructure path 610. The packet flow corresponding to the communication between the applications at UE A and UE B may, depending on address translation performed by NAT servers 250 and 260, include various source and destination IP addresses (and port numbers). For example, as discussed previously, a packet transmitted by UE A on the infrastructure path may initially include the source address IP@A1 and the destination address IP@B lpub (packet header 270). After traversing NAT server 250, the packet may include the source address IP@Alpub and the destination address IP@B lpub (packet header 275). After traversing NAT server 255, the packet may include the source address IP@Alpub and the destination address IP@B 1 (packet header 280). </p><p id="p0065" num="0065"> At some point, UE A and UE B may establish the direct mode communication path. At this point, when transmitting a packet in the packet flow, address translation component 325 of UE A may modify the source address for the packet to replace IP@A1 with the public-facing address of UE A (e.g., with IP@Alpub), illustrated as packet header 630. In packet header 630, the source address may be IP@Alpub and the destination address may be IP@Blpub. </p><p id="p0066" num="0066"> The packet may then be transmitted over the direct mode communication path. In one implementation, the direct communication path may be implemented as a tunnel 640 in which the original source and destination addresses (e.g., IP@Alpub and IP@Blpub) are encapsulated 
<!-- EPO <DP n="16"/>-->
 in a packet that is outwardly addressed based on the direct mode communication path addresses (e.g., IP@A2 and IP@B2). </p><p id="p0067" num="0067"> UE B may receive the packet and remove the encapsulation to obtain a packet with the source address IP@Alpub and the destination address IP@Blpub. Address translation component 325 of UE B may modify the destination address for the packet to replace IP@Blpub with the private address of UE B relative to the infrastructure (IP@B1), illustrated as packet header 650. The packet with source address IP@Alpub and the destination address IP@B1 may be provided to the application at UE B (or to application layer processing at UE B). </p><p id="p0068" num="0068"> In some implementations, instead of address translation being performed by a transmitting UE 210 (e.g., UE A) on the source address and address translation being performed by a receiving UE 210 (e.g., UE B) on the destination address, UE A and UE B may exchange the public and private address and port mappings, such as via the direct communication path, and then either the transmitting UE or the receiving UE may manipulate both the source and destination addresses to perform the address translation. </p><p id="p0069" num="0069"> In the description above, session continuity was described in the context of continuity in switching from the infrastructure path to the direct mode communication path. In some implementations, it may be desirable to maintain session continuity when switching from the direct mode communication path to the infrastructure path. </p><p id="p0070" num="0070"> Fig. 7 is a flow chart illustrating an example process 700 for maintaining session continuity for an application when switching from the direct mode communication path to the infrastructure path. Process 700 may be performed by, for example, a UE 210. In the context of communications between two UEs (e.g., UE A and UE B), process 700 may be performed by each of the two UEs for packets in a packet flow that were switched from the direct mode communication path to the infrastructure path. </p><p id="p0071" num="0071"> Process 700 may include reserving a local (private) port number (block 710). The private port number may be a port that will be used to transmit the packet flow, corresponding to the 
<!-- EPO <DP n="17"/>-->
 application, over the infrastructure path. For example, from the perspective of UE A (Fig. 2 or Fig. 6), the private port number may be a port associated with IP@A1. </p><p id="p0072" num="0072"> Process 700 may further include obtaining the public-facing IP address and the corresponding public-facing port number (block 720). The public-facing IP address and port number may be the IP address and port number assigned by one of NAT servers 250/255. In one implementation, the mapping may be determined via a query to IP address discovery server 260. </p><p id="p0073" num="0073"> Process 700 may further include transmitting, over the direct mode communication path, the obtained public-facing IP address and port number (block 730). For example, two communicating UEs, UE A and UE B, may exchange, using the direct mode communication path, their public-facing IP addresses and port numbers that were obtained in block 720. </p><p id="p0074" num="0074"> Process 700 may further include transmitting packets for the packet flow over the infrastructure path by encapsulating each packet using an IP header that includes, as the destination address, the public-facing IP address and port number of the other UE that is involved in the communication (block 740). The public-facing IP address and port number of the other UE may have been received from the other UE over the direct mode communication path (e.g., pursuant to the other UE performing block 740). Each transmitted packet may be routed to the destination UE over the infrastructure path, in which network address translation, such as by NAT servers 250 and 255, may be performed. </p><p id="p0075" num="0075"> Process 700 may further include receiving packets over the infrastructure path (block 750). The outer IP header of the packets may be removed to decapsulate the packets (block 750). After decapsulation, the packet may include an IP header in which the source and destination address match the addresses corresponding to the direct mode communication path (e.g., IP@A2 and IP@B2). </p><p id="p0076" num="0076"> Process 700 may include providing the packet to the application layer (or application) (block 760). The packet, from the perspective of application layer at the receiving UE, may appear to be a packet that belongs to the packet flow that was transmitted over the direct mode 
<!-- EPO <DP n="18"/>-->
 communication path. From the perspective of the application layer, session continuity, corresponding to the packet flow, may thus be maintained. </p><p id="p0077" num="0077"> Fig. 8 is a diagram illustrating, in the context of environment 200, maintaining session continuity for an application when switching from a direct mode communication path to an infrastructure path. Assume that an application, executing at UE A, is communicating with an application at UE B via the direct mode communication path. At some point, UE A and UE B may switch from the direct mode communication path to the infrastructure path. UE A and UE B may obtain their own respective public-facing IP addresses and port numbers (e.g., IP@Alpub and IP@B lpub, respectively), such as by querying IP address discovery server 260 (Fig. 7, block 720). UE A may transmit, via the direct mode communication path, the public-facing IP address and port number of UE A (e.g., IP@Alpub) to UE B (Fig. 7, block 730). Similarly, UE B may transmit, via the direct mode communication path, the public-facing IP address and port number of UE B (e.g., IP@Blpub) to UE A. </p><p id="p0078" num="0078"> UEs A and B may use the exchanged public-facing IP addresses and port numbers to communicate with each other over the infrastructure path. For example, UE A may transmit a packet to UE B by encapsulating the packet with an IP header that includes the public-facing IP address and port number of UE B. The encapsulated packet may be transmitted from UE A to NAT server 250 (tunnel 830), from NAT server 250 to NAT server 255 (tunnel 835), and from NAT server 255 to UE B (tunnel 840). As part of the routing of the packet through the infrastructure path, NAT servers 250 and 255 may perform network address translation on the packets. As illustrated in Fig. 8, outer IP header 850 of the encapsulated packet, at the egress of UE A (e.g., through tunnel 830), may include source address IP@A1 and destination address IP@Blpub. Inner IP header 855 of the encapsulated packet may include source address IP@A2 and destination address IP@B2. Outer IP header 860 of the encapsulated packet, at the egress of NAT server 250 (e.g., through tunnel 835), may include source address IP@Alpub and destination address IP@B lpub. Inner IP header 865 of the encapsulated packet may be 
<!-- EPO <DP n="19"/>-->
 unchanged and include source address IP@A2 and destination address IP@B2. Outer IP header 870 of the encapsulated packet, at the egress of NAT server 255 (e.g., through tunnel 840), may include source address IP@Alpub and destination address IP@B1. Inner IP header 875 of the encapsulated packet may be unchanged and may include source address IP@A2 and destination address IP@B2. </p><p id="p0079" num="0079"> UE B, when receiving the encapsulated packet over the infrastructure path, may remove the outer IP header to obtain a packet with a header, illustrated as packet header 880, that refers to the direct mode communication path (e.g., IP@A2 and IP@B2). The packet may be forwarded to the corresponding application (or to an application layer processing layer) at UE B. Packet header 880 may correspond to a header of a packet that is transmitted over direct mode communication path 810. In this manner, from the application perspective, session continuity during a switch from the direct mode communication path to the infrastructure path may be maintained. </p><p id="p0080" num="0080"> In some implementations, instead of switching from the direct mode communication path to the infrastructure path using the techniques discussed with respect to Figs. 7 and 8, a rendezvous server, residing in IP network 230, may be used. The address or identity of the rendezvous server may be agreed upon and/or exchanged by UEs 210 over the direct mode communication path. A correlation value or session identifier value (i.e., a value that the rendezvous server can use to determine that communications from the two UEs should be bridged) may also be agreed upon by UEs 210. UEs 210 may subsequently communicate using two half tunnels that are established with the rendezvous server. </p><p id="p0081" num="0081"> Fig. 9 is a diagram illustrating the use of rendezvous server 910 to bridge a packet flow between UEs 210 that has been switched from the direct mode communication path to the infrastructure path. As illustrated, rendezvous server 910 may include one or more computing devices that may act as an intermediary (bridge) in a packet flow between UE A and UE B. Each of UE A and UE B may establish a half-tunnel to rendezvous server 910. Rendezvous 
<!-- EPO <DP n="20"/>-->
 server 910 may link the two half-tunnels to create an end-to-end packet flow through the infrastructure path. </p><p id="p0082" num="0082"> In Fig. 9, the addressing of packet headers by UE A and UE B may be similar to that described with respect to Fig. 8, except that packets sent by UEs 210 may have destination addresses that correspond to rendezvous server 910 instead of a UE 210. In Fig. 9, assume that rendezvous server 910 is associated with the IP address and port number "iP@RS." UE A may transmit a packet to UE B by encapsulating the packet with an outer IP header 920 that may include source address IP@A1 and destination address IP@RS. Inner IP header 925 of the encapsulated packet may include source address IP@A2 and destination address IP@B2. Inner IP header 925 may be unchanged throughout the transmission from UE A to UE B. After processing by NAT server 250, outer IP header 930 of the encapsulated packet may include source address IP@Alpub and destination address IP@RS. After reception by rendezvous server 910 and retransmission by rendezvous server 910, outer IP header 940 of the encapsulated packet may include source address IP@RS and destination address IP@Blpub. After processing by NAT server 255, outer IP header 950 of the encapsulated packet may include source address IP@RS and destination address IP@B 1. UE B, when receiving the encapsulated packet over the infrastructure path, may remove the outer IP header to obtain a packet with a header, illustrated as packet header 960, that refers to the direct mode communication path (e.g., IP@A2 and IP@B2). </p><p id="p0083" num="0083"> Fig. 10 is a diagram of example components of a device 1000. Each of the devices illustrated in Figs. 1-3, 6, 8, and 9 may include one or more devices 1000. Device 1000 may include bus 1010, processor 1020, memory 1030, input component 1040, output component 1050, and communication interface 1060. In another implementation, device 1000 may include additional, fewer, different, or differently arranged components. </p><p id="p0084" num="0084"> Bus 1010 may include one or more communication paths that permit communication among the components of device 1000. Processor 1020 may include a processor, 
<!-- EPO <DP n="21"/>-->
 microprocessor, or processing logic that may interpret and execute instructions. Memory 1030 may include any type of dynamic storage device that may store information and instructions for execution by processor 1020, and/or any type of non-volatile storage device that may store information for use by processor 1020. </p><p id="p0085" num="0085"> Input component 1040 may include a mechanism that permits an operator to input information to device 1000, such as a keyboard, a keypad, a button, a switch, etc. Output component 1050 may include a mechanism that outputs information to the operator, such as a display, a speaker, one or more light emitting diodes (LEDs), etc. </p><p id="p0086" num="0086"> Communication interface 1060 may include any transceiver-like mechanism that enables device 1000 to communicate with other devices and/or systems. For example, communication interface 1060 may include an Ethernet interface, an optical interface, a coaxial interface, a radio interfaces, or the like. In particular, communication interface 1060 may include a wireless communication device, such as an infrared (IR) receiver, a Bluetooth® radio, a WiFi radio, a cellular radio, or the like. The wireless communication device may be coupled to an external device, such as a remote control, a wireless keyboard, a mobile telephone, etc. In some embodiments, device 1000 may include more than one communication interface 1060. For instance, device 1000 may include an optical interface and an Ethernet interface. </p><p id="p0087" num="0087"> Device 1000 may perform certain operations described above. Device 1000 may perform these operations in response to processor 1020 executing software instructions stored in a computer-readable medium, such as memory 1030. A computer-readable medium may be defined as a non-transitory memory device. A memory device may include space within a single physical memory device or spread across multiple physical memory devices. The software instructions may be read into memory 1030 from another computer-readable medium or from another device. The software instructions stored in memory 1030 may cause processor 1020 to perform processes described herein. Alternatively, hardwired circuitry may be used in place of or in combination with software instructions to implement processes described herein. Thus, 
<!-- EPO <DP n="22"/>-->
 implementations described herein are not limited to any specific combination of hardware circuitry and software. </p><p id="p0088" num="0088"> In the preceding specification, various preferred embodiments have been described with reference to the accompanying drawings. It will, however, be evident that various modifications and changes may be made thereto, and additional embodiments may be implemented, without departing from the broader scope of the invention as set forth in the claims that follow. The specification and drawings are accordingly to be regarded in an illustrative rather than restrictive sense. </p><p id="p0089" num="0089"> For example, while series of blocks have been described with regard to Figs. 4, 5, and 7, the order of the blocks may be modified in other implementations. Further, non-dependent blocks may be performed in parallel. </p><p id="p0090" num="0090"> It will be apparent that example aspects, as described above, may be implemented in many different forms of software, firmware, and hardware in the implementations illustrated in the figures. The actual software code or specialized control hardware used to implement these aspects should not be construed as limiting. Thus, the operation and behavior of the aspects were described without reference to the specific software code— it being understood that software and control hardware could be designed to implement the aspects based on the description herein. </p><p id="p0091" num="0091"> Further, certain portions of the invention may be implemented as "logic" that performs one or more functions. This logic may include hardware, such as an ASIC or a FPGA, or a combination of hardware and software. </p><p id="p0092" num="0092"> Even though particular combinations of features are recited in the claims and/or disclosed in the specification, these combinations are not intended to limit the invention. In fact, many of these features may be combined in ways not specifically recited in the claims and/or disclosed in the specification. 
<!-- EPO <DP n="23"/>-->
 No element, act, or instruction used in the present application should be construed as critical or essential to the invention unless explicitly described as such. Further, the phrase "based on" is intended to mean "based, at least in part, on" unless explicitly stated otherwise. 
</p></description><claims mxw-id="PCLM70077038" ref-ucid="WO-2014130143-A1" lang="EN" load-source="patent-office"><claim id="clm-0001" num="0001"><!-- EPO <DP n="24"/>--><claim-text/><claim-text>WHAT IS CLAIMED IS: </claim-text><claim-text> 1. A communication device that maintains session continuity, for applications executing in the communication device, in switching from an infrastructure mode </claim-text><claim-text>communication path to a direct mode communication path, the communication device comprising processing circuitry to: </claim-text><claim-text> determine a public-facing address corresponding to the infrastructure path of the communication device; </claim-text><claim-text> replace, for a packet that is to be transmitted over the direct mode communication path to a second communication device, a source address field of the packet with the determined public-facing address; </claim-text><claim-text> encapsulate the packet with source and destination address fields corresponding to the communication device and the second communication device, respectively, through the direct mode communication path; and </claim-text><claim-text> transmit the encapsulated packet to the direct mode communication path. </claim-text><claim-text>2. The communication device of claim 1, further comprising processing circuitry to: decapsulate packets received over the direct mode communication path from the second communication device, the decapsulation including replacing destination address fields of the packets with a private address of the communication device in the infrastructure path; and </claim-text><claim-text> provide the decapsulated packets to an application layer of the communication device. </claim-text><claim-text>3. The communication device of claim 1, wherein the source address field of the packet that is to be transmitted over the direct mode communication path is initially created by the communication device as an address corresponding to the infrastructure path of the communication device. 
<!-- EPO <DP n="25"/>-->
</claim-text><claim-text>4. The communication device of claim 1, wherein the replaced source address field of the packet includes a public-facing address that refers to a private address of the </claim-text><claim-text>communication device in the infrastructure path. </claim-text><claim-text>5. The communication device of claim 1, wherein the public-facing address and the source address each include an Internet Protocol (IP) address and a port number. </claim-text><claim-text>6. The communication device of claim 1, wherein the processing circuitry, when determining the public-facing address, is further to: </claim-text><claim-text> query a Port Control Protocol (PCP) server, a Session Traversal Utilities for Network Address Translation (STUN) server, or a Traversal Using Relays around Network Address Translation (TURN) server. </claim-text><claim-text>7. The communication device of claim 1, wherein the direct mode communication path includes wireless communications based on Institute of Electrical and Electronics Engineers (IEEE) 802.1 1-based wireless communication standards or based on 3rd Generation Partnership Project (3 GPP) standards. </claim-text><claim-text>8. The communication device of claim 7, wherein communications over the infrastructure mode communication path includes communications based on cellular wireless communication standards. </claim-text><claim-text>9. A communication device to maintain session continuity, for applications executing in the communication device, in switching from a direct mode communication path to an infrastructure communication path, the communication device including processing circuitry to: 
<!-- EPO <DP n="26"/>-->
 determine a public-facing address corresponding to the infrastructure path of the communication device; </claim-text><claim-text> transmit, over the direct mode communication path and to a second communication device, the public-facing address; </claim-text><claim-text> receive, over the infrastructure path, an encapsulated packet from the second </claim-text><claim-text>communication device; </claim-text><claim-text> decapsulate the received encapsulated packet to obtain a packet that includes addressing information corresponding to the direct mode communication path; and </claim-text><claim-text> provide the decapsulated packet to an application layer of the communication device. </claim-text><claim-text>10. The communication device of claim 9, the processing circuitry further to: </claim-text><claim-text> receive, from the second communication device and over the direct mode communication path, a public-facing address corresponding to the infrastructure communication path of the second communication device. </claim-text><claim-text>11. The communication device of claim 9, the processing circuitry further to: </claim-text><claim-text> encapsulate, by the communication device, packets that are to be delivered to the second communication device, the encapsulation being based on the public-facing address </claim-text><claim-text>corresponding to the second communication device; and </claim-text><claim-text> transmit, by the communication device and over the infrastructure path, the encapsulated packets. </claim-text><claim-text>12. The communication device of claim 9, wherein the public-facing address includes an Internet Protocol (IP) address and a port number. 
<!-- EPO <DP n="27"/>-->
</claim-text><claim-text>13. The communication device of claim 9, wherein when determining the public- facing address, the processing circuitry is further to: </claim-text><claim-text> query a Port Control Protocol (PCP) server, a Session Traversal Utilities for Network Address Translation (STUN) server, or a Traversal Using Relays around Network Address Translation (TURN) server. </claim-text><claim-text>14. The communication device of claim 9, wherein the direct mode communication path includes wireless communications based on Institute of Electrical and Electronics Engineers (IEEE) 802.1 1-based wireless communication standards or based on 3rd Generation Partnership Project (3 GPP) standards. </claim-text><claim-text>15. User equipment (UE) comprising: </claim-text><claim-text> a memory to store instructions; and </claim-text><claim-text> at least one processor to execute the instructions stored by the memory to: </claim-text><claim-text> connect with a second UE, using a communication session formed over an infrastructure path; and </claim-text><claim-text> switch communication paths, with the second UE, from the infrastructure path to a direct wireless communication path to the second UE, the switching being performed transparently to an application layer process that is executing at the UE and that is </claim-text><claim-text>communicating with the second UE. </claim-text><claim-text>16. The UE of claim 15, wherein, when switching communication paths, the at least one processor is to further execute the instructions stored by the memory to: </claim-text><claim-text> replace, for a packet that is to be transmitted over the direct wireless communication path to the second UE, a source address field of the packet with a public-facing address of the UE in the infrastructure path; 
<!-- EPO <DP n="28"/>-->
 encapsulate the packet with source and destination address fields corresponding to the UE and the second UE, respectively, through the direct wireless communication path; and transmit the encapsulated packet over the direct wireless communication path. 17. The UE of claim 16, wherein the at least one processor is to further execute the instructions stored by the memory to: </claim-text><claim-text> decapsulate packets received over the direct wireless communication path from the second UE, the decapsulation including replacing destination address fields of the packets with a private address of the communication device in the infrastructure path; and </claim-text><claim-text> provide the decapsulated packets to an application layer of the communication device. </claim-text><claim-text>18. A method for maintaining session continuity, for applications executing in a communication device, in switching from an infrastructure mode communication path to a direct mode communication path, the method comprising: </claim-text><claim-text> determining, by the communication device, a public-facing address corresponding to the infrastructure path of the communication device; </claim-text><claim-text> replacing, by the communication device and for a packet that is to be transmitted over the direct mode communication path to a second communication device, a source address field of the packet with the determined public-facing address; </claim-text><claim-text> encapsulating, by the communication device, the packet with source and destination address fields corresponding to the communication device and the second communication device, respectively, through the direct mode communication path; and </claim-text><claim-text> transmitting the encapsulated packet to the direct mode communication path. 19. The method of claim 18, further comprising: 
<!-- EPO <DP n="29"/>-->
 decapsulating, by the communication device, packets received over the direct mode communication path from the second communication device, the decapsulation including replacing destination address fields of the packets with a private address of the communication device in the infrastructure path; and </claim-text><claim-text> providing the decapsulated packets to an application layer of the communication device. </claim-text><claim-text>20. The method of claim 18, wherein the source address field of the packet that is to be transmitted over the direct mode communication path is initially created by the </claim-text><claim-text>communication device as an address corresponding to the infrastructure path of the </claim-text><claim-text>communication device. </claim-text><claim-text>21. The method of claim 18, wherein the replaced source address field of the packet includes a public-facing address that refers to a private address of the communication device in the infrastructure path. </claim-text><claim-text>22. The method of claim 18, wherein the public-facing address and the source address each include an Internet Protocol (IP) address and a port number. </claim-text><claim-text>23. The method of claim 18, wherein the determining the public-facing address includes: </claim-text><claim-text> querying a Port Control Protocol (PCP) server, a Session Traversal Utilities for Network Address Translation (STUN) server, or a Traversal Using Relays around Network Address Translation (TURN) server. </claim-text><claim-text>24. The method of claim 18, wherein the direct mode communication path includes wireless communications based on Institute of Electrical and Electronics Engineers (IEEE) 
<!-- EPO <DP n="30"/>-->
</claim-text><claim-text>802.11 -based wireless communication standards or based on 3rd Generation Partnership Project (3 GPP) standards. </claim-text><claim-text>25. The method of claim 24, wherein communications over the infrastructure mode communication path includes communications based on cellular wireless communication standards. 
</claim-text></claim></claims><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
