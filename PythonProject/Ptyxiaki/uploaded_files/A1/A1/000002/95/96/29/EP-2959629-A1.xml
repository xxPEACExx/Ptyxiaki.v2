<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2959629-A1" country="EP" doc-number="2959629" kind="A1" date="20151230" family-id="51390474" file-reference-id="249033" date-produced="20180826" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="160452547" ucid="EP-2959629-A1"><document-id><country>EP</country><doc-number>2959629</doc-number><kind>A1</kind><date>20151230</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-13875562-A" is-representative="NO"><document-id mxw-id="PAPP193868062" load-source="patent-office" format="original"><country>EP</country><doc-number>13875562.4</doc-number><date>20130221</date><lang>EN</lang></document-id><document-id mxw-id="PAPP193868063" load-source="docdb" format="epo"><country>EP</country><doc-number>13875562</doc-number><kind>A</kind><date>20130221</date><lang>EN</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC162029527" ucid="CN-2013071735-W" linkage-type="A" load-source="docdb"><document-id format="epo"><country>CN</country><doc-number>2013071735</doc-number><kind>W</kind><date>20130221</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-1900003399" load-source="docdb">H04L   7/00        20060101AFI20160829BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1883381084" load-source="docdb" scheme="CPC">H04L   7/10        20130101 LA20161101BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1984698391" load-source="docdb" scheme="CPC">H04L   7/0037      20130101 FI20151224BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1984700769" load-source="docdb" scheme="CPC">H04L   7/043       20130101 LI20160106BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1984701649" load-source="docdb" scheme="CPC">H04L   7/0062      20130101 LI20160106BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT165549107" lang="DE" load-source="patent-office">VERFAHREN UND VORRICHTUNG ZUR DATENUNTERSTÜTZTEN TAKTRÜCKGEWINNUNG IN EINEM 10GBASE-T-SYSTEM</invention-title><invention-title mxw-id="PT165549108" lang="EN" load-source="patent-office">METHOD AND APPARATUS FOR DATA AIDED TIMING RECOVERY IN 10GBASE-T SYSTEM</invention-title><invention-title mxw-id="PT165549109" lang="FR" load-source="patent-office">PROCÉDÉ ET APPAREIL POUR RÉCUPÉRATION DE SYNCHRONISATION ASSISTÉE PAR DES DONNÉES DANS UN SYSTÈME 10GBASE-T</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR1103319476" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>QUALCOMM INC</last-name><address><country>US</country></address></addressbook></applicant><applicant mxw-id="PPAR1103340538" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>QUALCOMM INCORPORATED</last-name></addressbook></applicant><applicant mxw-id="PPAR1101645498" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Qualcomm Incorporated</last-name><iid>101331406</iid><address><street>5775 Morehouse Drive</street><city>San Diego, CA 92121-1714</city><country>US</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR1103320473" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>JIANG HAI</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR1103333409" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>JIANG, HAI</last-name></addressbook></inventor><inventor mxw-id="PPAR1101648308" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>JIANG, HAI</last-name><address><street>5775 Morehouse Drive</street><city>San Diego, California 92121-1714</city><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR1103340855" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>HUANG YIN</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR1103314799" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>HUANG, YIN</last-name></addressbook></inventor><inventor mxw-id="PPAR1101650831" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>HUANG, YIN</last-name><address><street>5775 Morehouse Drive</street><city>San Diego, California 92121-1714</city><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR1103321520" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>XU CHANGLONG</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR1103304848" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>XU, CHANGLONG</last-name></addressbook></inventor><inventor mxw-id="PPAR1101641890" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>XU, CHANGLONG</last-name><address><street>5775 Morehouse Drive</street><city>San Diego, California 92121-1714</city><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR1103320329" load-source="docdb" sequence="4" format="epo"><addressbook><last-name>LI JIAN</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR1103342839" load-source="docdb" sequence="4" format="intermediate"><addressbook><last-name>LI, JIAN</last-name></addressbook></inventor><inventor mxw-id="PPAR1101647007" load-source="patent-office" sequence="4" format="original"><addressbook><last-name>LI, JIAN</last-name><address><street>5775 Morehouse Drive</street><city>San Diego, California 92121-1714</city><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR1103311575" load-source="docdb" sequence="5" format="epo"><addressbook><last-name>XUE YISHENG</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR1103311684" load-source="docdb" sequence="5" format="intermediate"><addressbook><last-name>XUE, YISHENG</last-name></addressbook></inventor><inventor mxw-id="PPAR1101639662" load-source="patent-office" sequence="5" format="original"><addressbook><last-name>XUE, YISHENG</last-name><address><street>5775 Morehouse Drive</street><city>San Diego, California 92121-1714</city><country>US</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR1101649908" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Hohgardt, Martin</last-name><iid>101260042</iid><address><street>Bardehle Pagenberg Partnerschaft mbB Patentanwälte, Rechtsanwälte Prinzregentenplatz 7</street><city>81675 München</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="CN-2013071735-W"><document-id><country>CN</country><doc-number>2013071735</doc-number><kind>W</kind><date>20130221</date><lang>EN</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2014127514-A1"><document-id><country>WO</country><doc-number>2014127514</doc-number><kind>A1</kind><date>20140828</date><lang>EN</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS660624597" load-source="docdb">AL</country><country mxw-id="DS660709712" load-source="docdb">AT</country><country mxw-id="DS660624607" load-source="docdb">BE</country><country mxw-id="DS660625722" load-source="docdb">BG</country><country mxw-id="DS660625012" load-source="docdb">CH</country><country mxw-id="DS660703397" load-source="docdb">CY</country><country mxw-id="DS660709713" load-source="docdb">CZ</country><country mxw-id="DS660788819" load-source="docdb">DE</country><country mxw-id="DS660624608" load-source="docdb">DK</country><country mxw-id="DS660703398" load-source="docdb">EE</country><country mxw-id="DS660725287" load-source="docdb">ES</country><country mxw-id="DS660625723" load-source="docdb">FI</country><country mxw-id="DS660625724" load-source="docdb">FR</country><country mxw-id="DS660624609" load-source="docdb">GB</country><country mxw-id="DS660624610" load-source="docdb">GR</country><country mxw-id="DS660624619" load-source="docdb">HR</country><country mxw-id="DS660709714" load-source="docdb">HU</country><country mxw-id="DS660625013" load-source="docdb">IE</country><country mxw-id="DS660624620" load-source="docdb">IS</country><country mxw-id="DS660625725" load-source="docdb">IT</country><country mxw-id="DS660703403" load-source="docdb">LI</country><country mxw-id="DS660788820" load-source="docdb">LT</country><country mxw-id="DS660709719" load-source="docdb">LU</country><country mxw-id="DS660788821" load-source="docdb">LV</country><country mxw-id="DS660788822" load-source="docdb">MC</country><country mxw-id="DS660703565" load-source="docdb">MK</country><country mxw-id="DS660703566" load-source="docdb">MT</country><country mxw-id="DS660725288" load-source="docdb">NL</country><country mxw-id="DS660625726" load-source="docdb">NO</country><country mxw-id="DS660725289" load-source="docdb">PL</country><country mxw-id="DS660625014" load-source="docdb">PT</country><country mxw-id="DS660725290" load-source="docdb">RO</country><country mxw-id="DS660625019" load-source="docdb">RS</country><country mxw-id="DS660725463" load-source="docdb">SE</country><country mxw-id="DS660625020" load-source="docdb">SI</country><country mxw-id="DS660703567" load-source="docdb">SK</country><country mxw-id="DS660703568" load-source="docdb">SM</country><country mxw-id="DS660703404" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data><office-specific-data><eptags><ep-no-a-document-published>*</ep-no-a-document-published></eptags></office-specific-data></bibliographic-data><abstract mxw-id="PA139081293" ref-ucid="WO-2014127514-A1" lang="EN" load-source="patent-office"><p num="0000">A method of data-aided timing recovery for Ethernet systems is disclosed. A first device negotiates a pseudorandom number sequence with a second device and receives a data signal from the second device. The first device samples the received data signal to recover a first training sequence. The first device also generates a second training sequence based on the pseudorandom number sequence. The second training sequence is then synchronized with the first training sequence. The synchronized second training sequence is used to align a receive clock signal of the first device with the data signal received from the second device.</p></abstract><abstract mxw-id="PA139547637" ref-ucid="WO-2014127514-A1" lang="EN" source="national office" load-source="docdb"><p>A method of data-aided timing recovery for Ethernet systems is disclosed. A first device negotiates a pseudorandom number sequence with a second device and receives a data signal from the second device. The first device samples the received data signal to recover a first training sequence. The first device also generates a second training sequence based on the pseudorandom number sequence. The second training sequence is then synchronized with the first training sequence. The synchronized second training sequence is used to align a receive clock signal of the first device with the data signal received from the second device.</p></abstract><abstract mxw-id="PA139081294" ref-ucid="WO-2014127514-A1" lang="FR" load-source="patent-office"><p num="0000">La présente invention concerne un procédé de récupération de synchronisation assisté par des données pour des systèmes Ethernet. Un premier dispositif négocie une séquence de nombres pseudo aléatoires avec un second dispositif et reçoit un signal de données du second dispositif. Le premier dispositif échantillonne le signal de données reçu pour récupérer une première séquence d'apprentissage. Le premier dispositif génère également une seconde séquence d'apprentissage basée sur la séquence de nombres pseudo aléatoires. La seconde séquence d'apprentissage est ensuite synchronisée avec la première séquence d'apprentissage. La seconde séquence d'apprentissage synchronisée est utilisée pour aligner un signal d'horloge de réception du premier dispositif avec le signal de données reçu en provenance du second dispositif.</p></abstract><abstract mxw-id="PA139547638" ref-ucid="WO-2014127514-A1" lang="FR" source="national office" load-source="docdb"><p>La présente invention concerne un procédé de récupération de synchronisation assisté par des données pour des systèmes Ethernet. Un premier dispositif négocie une séquence de nombres pseudo aléatoires avec un second dispositif et reçoit un signal de données du second dispositif. Le premier dispositif échantillonne le signal de données reçu pour récupérer une première séquence d'apprentissage. Le premier dispositif génère également une seconde séquence d'apprentissage basée sur la séquence de nombres pseudo aléatoires. La seconde séquence d'apprentissage est ensuite synchronisée avec la première séquence d'apprentissage. La seconde séquence d'apprentissage synchronisée est utilisée pour aligner un signal d'horloge de réception du premier dispositif avec le signal de données reçu en provenance du second dispositif.</p></abstract><description mxw-id="PDES78478568" ref-ucid="WO-2014127514-A1" lang="EN" load-source="patent-office"><!-- EPO <DP n="2"/>--><p id="p0001" num="0001"> METHOD AND APPARATUS FOR DATA AIDED TIMING RECOVERY IN </p><p id="p0002" num="0002"> 10GBASE-T SYSTEM </p><p id="p0003" num="0003">TECHNICAL FIELD </p><p id="p0004" num="0004"> [0001 ] The present embodiments relate generally totiming recovery in asynchronous communication systems, and specifically to data-aided timing recovery in high-speed Ethernet systems. </p><p id="p0005" num="0005">BACKGROUND OF RELATED ART </p><p id="p0006" num="0006"> [0002] Timing recovery is an important function of many Ethernet systems. Because data is typically transmitted from one device to another in an asynchronous manner (i.e., without an accompanying clock signal), the receiving (RX) device generates an internal clock signal that is both frequency- aligned and phase-aligned with the received data signal. For example, if data is transmitted by a transmitting (TX) device using a 100 MHz clock signal, the RX device would ideally use a local 100 MHz clock to sample the received data signal. However, the RX device may have to adjust the frequency of the local clock signal to correct for drift in its oscillators and/or transmission paths. </p><p id="p0007" num="0007">Further, the phase of the local clock signal may be adjusted so that it is aligned with the received data signal such that the RX device samples each data symbol at its peak (e.g., to reduce the effects of intersymbol interference). </p><p id="p0008" num="0008"> [0003] Higher-frequency data rates correlate with shorter symbol (peak) durations, thus providing a smaller window within which a RX device can accurately sample a received data signal. Intersymbol interference (ISI) is also more pronounced at higher frequencies. Accordingly, as data rates increase, so too does the need for precise and accurate timing recovery circuitry. 
<!-- EPO <DP n="3"/>-->
 SUMMARY </p><p id="p0009" num="0009">[0004] This Summary is provided to introduce in a simplified form a selection of concepts that are further described below in the Detailed </p><p id="p0010" num="0010">Description. This Summary is not intended to identify key features or essential features of the claimed subject matter, nor is it intended to limit the scope of the claimed subject matter. </p><p id="p0011" num="0011"> [0005] A device and method of operation are disclosed that may aid in the recovery of timing information from data signals received from another device. For some embodiments, the device includes a circuit (e.g., receiver or processor) to negotiate a pseudorandom number sequence with another device; an analog-to-digital converter to sample a data signal received from the other device to recover a first training sequence; a training sequence generator to generate a second training sequence based on the pseudorandom number sequence; a data synchronization circuit to synchronize the second training sequence with the first training sequence; and a timing alignment circuit to align a receive clock signal of the device with the received data signal using the synchronized second training sequence. </p><p id="p0012" num="0012"> [0006] The data synchronization circuit may include a peak detection circuit to compare the first training sequence with the second training sequence; and a data adjustment circuit to iteratively adjust the second training sequence based on the comparison. The peak detection circuit may include a plurality of comparators to compare each bit of the first training sequence with two or more bits of the second training sequence to generate a plurality of match values; anda peak detect logic to determine a peak correlation between the first and second training sequences based, at least in part, on the plurality of match values. For some embodiments, the peak correlation may be based upon a number of matching bits within the first training sequence and the second training sequence and upon a degree of variation between adjacent bits of the pseudorandom number sequence. </p><p id="p0013" num="0013"> [0007] For some embodiments, the data adjustment circuit may include a memory to sequentially output bits of the second training sequence to the peak detection circuit, and include an address counter to increment an address 
<!-- EPO <DP n="4"/>-->
 pointer of the memory if no peak correlation is detected after a threshold number of data cycles. </p><p id="p0014" num="0014"> [0008] For some embodiments, the timing alignment circuit may include an error detection circuit to determine a timing error between the first training sequence and the synchronized second training sequence, and to output an error signal corresponding to the timing error; and a voltage controlled oscillator to adjust the receive clock signal in response to the error signal. </p><p id="p0015" num="0015">[0009] In operation, the device may negotiate a pseudorandom number sequence with a second device, sample a data signal received from the second device to recover a first training sequence, generate a second training sequence based on the pseudorandom number sequence, synchronize the second training sequence with the first training sequence, and align a receive clock signal of the first device with the received data signal using the </p><p id="p0016" num="0016">synchronized second training sequence. </p><p id="p0017" num="0017"> [0010] For some embodiments, the device may synchronize the second training sequence with the first training sequence by comparing the first training sequence with the second training sequence, and then iteratively adjusting the second training sequence based on the comparison. The device may determine a peak correlation between the first and second training sequences, wherein the peak correlation is based upon a number of matching bits within the first training sequence and the second training sequence and upon a degree of variation between adjacent bits of the pseudorandom number sequence. For one example, the device may determine the peak correlation value by comparing each bit of the first training sequence with two or more bits of the second training sequence over a threshold number of data cycles. 
<!-- EPO <DP n="5"/>-->
</p><p id="p0018" num="0018">BRIEF DESCRIPTION OF THE DRAWINGS </p><p id="p0019" num="0019"> [001 1 ] The present embodiments are illustrated by way of example and are not intended to be limited by the figures of the accompanying drawings, where: </p><p id="p0020" num="0020"> [0012] FIG. 1 shows a block diagram of a timing recovery system in accordance with some embodiments; </p><p id="p0021" num="0021"> [0013] FIG. 2 is an illustrative flow chart depicting an exemplary timing recovery operation in accordance with some embodiments; </p><p id="p0022" num="0022"> [0014] FIG. 3 shows a block diagram ofa data synchronization circuit in accordance with some embodiments; </p><p id="p0023" num="0023"> [0015] FIG. 4 is an illustrative flow chart depicting an exemplary data synchronization operation in accordance with some embodiments; </p><p id="p0024" num="0024"> [0016] FIG. 5 shows an exemplary pseudorandom number sequence in accordance with some embodiments; </p><p id="p0025" num="0025"> [0017] FIG. 6 shows a block diagram of a data synchronization circuit in accordance with other embodiments; </p><p id="p0026" num="0026"> [0018] FIGS. 7A-7B are illustrative flow charts depicting another exemplary data synchronization operation in accordance with some </p><p id="p0027" num="0027">embodiments; </p><p id="p0028" num="0028"> [0019] FIG. 8 shows a block diagram of a timing alignment circuit in accordance with some embodiments; </p><p id="p0029" num="0029"> [0020] FIG. 9 shows a block diagram of an adjustable loop filter in accordance with some embodiments; </p><p id="p0030" num="0030"> [0021 ] FIG. 10is an illustrative flow chart depicting an exemplary loop parameter adjustment operation in accordance with some embodiments; and</p><p id="p0031" num="0031">[0022] FIG. 1 1 is a block diagram of a communication device in accordance with some embodiments. 
<!-- EPO <DP n="6"/>-->
 DETAILED DESCRIPTION </p><p id="p0032" num="0032"> [0023] In the following description, numerous specific details are set forth such as examples of specific components, circuits, and processes to provide a thorough understanding of the present disclosure. The term "coupled" as used herein means connected directly to or connected through one or more intervening components or circuits. Also, in the following description and for purposes of explanation, specific nomenclature is set forth to provide a thorough understanding of the present embodiments. However, it will be apparent to one skilled in the art that these specific details may not be required to practice the present embodiments. In other instances, well-known circuits and devices are shown in block diagram form to avoid obscuring the present disclosure. Any of the signals provided over various buses described herein may be time-multiplexed with other signals and provided over one or more common buses. Additionally, the interconnection between circuit elements or software blocks may be shown as buses or as single signal lines. Each of the buses may alternatively be a single signal line, and each of the single signal lines may alternatively be buses, and a single line or bus might represent any one or more of a myriad of physical or logical mechanisms for communication between components. </p><p id="p0033" num="0033"> [0024] FIG. 1 shows a block diagram of a timing recovery system 1 00 in accordance with some embodiments. The timing recovery system 1 00 may be implemented in a RX device of a data communications network. The timing recovery system 1 00 includes an analog-to-digital converter (ADC) 1 1 0, a training sequence (TS) generator 1 20, a data synchronization circuit 1 30, and a timing alignment circuit 140. The ADC 1 10 includes an input to receive a data signal (e.g., from a TX device), and outputs a received training sequence (TSR) based on samples taken from the received data signal. The TS generator 1 20 outputs a locally-generated training sequence (TSL). For some embodiments, both the received training sequence TS<sub>R</sub>and the local training sequence TS<sub>L</sub>are based on the same pseudorandom (PN) number sequence. For example, the RX device may negotiate the PN sequence to be used with the TX device. 
<!-- EPO <DP n="7"/>-->
 [0025] The data synchronization circuit 130 receives the received training sequence TSR and the local training sequence TSL from the ADC 1 10 and the TS generator 120, respectively, and in response thereto generates a </p><p id="p0034" num="0034">synchronized training sequence (TSs). For some embodiments, the </p><p id="p0035" num="0035">synchronized training sequence TSs may be "coarsely" aligned with the received training sequence TSR. For example, the data synchronization circuit 130 may compare the local training sequence TSL with the received training sequence TSR to determine whether the timing recovery system 100 is roughly tracking the same bit sequence in both the local training sequence TSL and the received training sequence TSR. If the bit sequences being read from training sequences TSL and TSR are not at least coarsely aligned, it may be very difficult (if not impossible) to align a receive clock of the RX device with the received data signal. Thus, the data synchronization circuit 130 may adjust the local training sequence TSL SO that it tracks the received training sequence TSR. </p><p id="p0036" num="0036"> [0026] The timing alignment circuit 140 includes inputs to receive the received training sequence TSR and the synchronized training sequence TSs from the ADC 1 10 and the data synchronization circuit 130, respectively, and outputs a synchronized clock signal. For some embodiments, the synchronized clock signal may be aligned with the received data signal such that samples may be taken at the center (e.g., peak) of each symbol period. For example, the timing alignment circuit 140 may compare the received training sequence TSR with the synchronized training sequence TSs to determine a timing error in the samples taken from the received data signal. The timing error may then be used to adjust the timing parameters (e.g., jitter, frequency, and/or phase offset) of the receive clock in the RX device (i.e., the synchronized clock signal). </p><p id="p0037" num="0037"> [0027] FIG. 2 is an illustrative flow chart depicting an exemplary timing recovery operation 200 in accordance with some embodiments. Referring also to FIG. 1 , in the operation 200, a RX device first negotiates a PN sequence with a TX device (210). The PN sequence may be used by both the RX and TX devices to generate respective training sequences to be used for purposes of synchronizing the receive clock of the RX device with a received data signal from the TX device. For example, the PN sequence may be generated by a maximum length shift register (within the RX and TX devices), and may be 
<!-- EPO <DP n="8"/>-->
 repeatedly output by the shift register (e.g., every 16384 symbols). The initial state of the shift register may be exchanged between the RX device and the TX device during an auto-negotiation procedure, for example, so that the RX device has knowledge of the PN sequence being transmitted by the TX device. </p><p id="p0038" num="0038"> [0028] The timing recovery system 100 receives a data signal </p><p id="p0039" num="0039">representing the PN sequence from the TX device (220), and recovers the training sequence TSR from the received data signal (230). For some </p><p id="p0040" num="0040">embodiments, the PN sequence may be encoded using 2-level pulse-amplitude modulation (2-PAM). Accordingly, the ADC 1 10 may be used to sample the received data signal in order to recover the training sequence TSR. For example, the ADC 1 10 may sample the data signal in response to a local receive clock signal (not shown for simplicity) of the RX device. However, due to the nature of asynchronous data transfers, the receive clock signal may not be initially aligned with the received data signal. </p><p id="p0041" num="0041"> [0029] The timing recovery system 100 may also generate a local training sequence TSL based on the same PN sequence used to produce the received training sequence TSR(240). Specifically, the TS generator 120 may generate the local training sequence TSL based on information exchanged between the RX and TX devices during the PN sequence negotiation, as described above. For some embodiments, the TS generator 120 may correspond to a shift register with the PN sequence pre-loaded therein. Thus, the TS generator 120 may simply output the local training sequence TSL based on the initial state of the shift register (in the TX device) used to generate the received training sequence TSR. </p><p id="p0042" num="0042"> [0030] Next, the timing recovery system 100 synchronizes the local training sequence TSL with the received training sequence TSR (250). As described above, the training sequences TSR and TSL may correspond to PN sequences that are repeatedly output by shift registers in the TX and RX devices, respectively. Although the initial state of these shift registers may be the same, the actual bit sequences of TSR and TSL, as perceived by the timing recovery system 100, may differ. Specifically, a number of factors (e.g., jitter, delay, interference, etc.) may alter or otherwise affect the data signal received from the TX device. For example, interference along the transmission medium 
<!-- EPO <DP n="9"/>-->
 (e.g., between the TX device and the RX device) may alter the data signal such that one or more bits of the received training sequence TSR are unrecoverable. Accordingly, it may be very difficult to time the output of the TS generator 1 20 with the output of the ADC 1 1 0 such that the bit sequence of TSL is initially aligned with the bit sequence of TSR. </p><p id="p0043" num="0043"> [0031 ] For some embodiments, the data synchronization circuit 1 30 compares the local training sequence TSL to the received training sequence TSR, and adjusts TSi_based on any discovereddiscrepancies. Once the local training sequence TSL is synchronized with the received training sequence TSR, the data synchronization circuit 130 may output TSL as the synchronized training sequence TSs.For some embodiments, the data synchronization circuit 1 30 iteratively adjusts the local training sequence TSL until the bit sequence of TSL tracks the bit sequence of TSR. For example, due to interference along the transmission path, a first set of bits of the received training sequence TS<sub>R</sub>inay or may not matcha first set of bits of the local training sequence TSL. However, because the local training sequence TSJs generated internally, it can be adjusted to match the received training sequence TSR. Thus, if the received training sequence TSRIS out of sync with the local training sequence TSL, the data synchronization circuit 130 may "step-up" the bit sequence of TSL until it matches a corresponding bit sequence of TSR. </p><p id="p0044" num="0044"> [0032] After the local training sequence TSL is synchronized with the received training sequence TSR, the timing recovery system 1 00 uses the synchronized training sequence (e.g., TSs) to align the local receive clock with the received data signal (260). For example, because TSs is synchronized with TSR, the individual bit values of TSs can be used as "ideal" reference values for identifying the symbol peaks of corresponding bits in TSR. For some </p><p id="p0045" num="0045">embodiments, the timing alignment circuit 140 may compare the synchronized training sequence TSs with the received training sequence TSR to determine a timing error that can then be used to correct the phase and/or frequency of the local receive clock signal. </p><p id="p0046" num="0046"> [0033] FIG. 3 shows a block diagram of a data synchronization circuit</p><p id="p0047" num="0047">300 that is one embodiment of the data synchronization circuit 1 30 of FIG. </p><p id="p0048" num="0048"> 1 The data synchronization circuit 300 includes a peak detection circuit 31 0 and 
<!-- EPO <DP n="10"/>-->
 a data adjustment circuit 320, and is shown in FIG. 3 as being coupled to ADC 1 10 and TS generator 120. As described above, the ADC 1 10 samples a received data signal to recover the received training sequence TSR, and outputs the received training sequence TSR to the peak detection circuit 310. The TS generator 120 outputs the local training sequence TSL to the data adjustment circuit 320. For some embodiments, the data adjustment circuit 320 may sequentially output individual bits of the local training sequence TSL in rhythm with the received training sequence TSR output by the ADC 1 10. </p><p id="p0049" num="0049"> [0034] The peak detection circuit 310 includes inputs to receive the local training sequence TSL and the received training sequence TSR from the data adjustment circuit 320 and the ADC 1 10, respectively, and outputs a peak detect signal. For some embodiments, the peak detection circuit 310 may compare the local training sequence TSL with the received training sequence TSR to detect a "peak correlation" between the two training sequences TSL and TSR. A peak correlation may be detected when (i) a variance between the bit values of a portion of the received training sequence TSR (and/or the local training sequence TSL) meets or exceeds a bit variance thresholdvalue and (ii) a number of matches between corresponding bits of the local training sequence TSL and the received training sequence TS<sub>R</sub>ineets or exceeds a bit match thresholdvalue, as described in more detail below with respect to FIG. 5. </p><p id="p0050" num="0050">Specifically, the peak detection circuit 310 may assert the peak detect signal upon detecting a peak correlation between the received training sequence TSR and the local training sequence TSL. </p><p id="p0051" num="0051"> [0035] The data adjustment circuit 320 may adjust the local training sequence TSL in response to the peak detect signal. For some embodiments, if the peak detect signal remains de-asserted after a threshold number of data cycles (or clock cycles) have elapsed, the data adjustment circuit 320 may adjust the local training sequence TSL by "skipping over" one or more bits in the sequence. Specifically, the data adjustment circuit 320 may adjust the local training sequence TSL by incrementing the portion of the negotiated PN sequence that the local training sequence TSL is currently tracking. When the local training sequence TSL is synchronized with the received training sequence TSR, the peak detection circuit 310 asserts the peak detect signal and, in 
<!-- EPO <DP n="11"/>-->
 response thereto, the data adjustment circuit 320 outputs the synchronized training sequence TSs. </p><p id="p0052" num="0052"> [0036] The synchronized training sequence TSsmay be subsequently used to align a receive clock signal with the received data signal. For example, because the synchronized training sequence TSs is synchronized (e.g., coarsely aligned) with the received training sequence TSR, the sequence of bits output by the data adjustment circuit 320 may coincide with (e.g., match) the sequence of bits output by the ADC 1 10. Thus, timing alignment may be performed by comparing the synchronized training sequence TSs with the received training sequence TSR. </p><p id="p0053" num="0053"> [0037] FIG. 4 is an illustrative flow chart depicting an exemplary data synchronization operation 400 in accordance with some embodiments. As described above, the present embodiments enable a RX device to coarsely align a local training sequence TSL with a received training sequence TS<sub>R</sub>from a TX device. Referring also to FIG. 3, in the operation 400, the data </p><p id="p0054" num="0054">synchronization circuit 300 first compares the local training sequence TSL with the received training sequence TSR (410). Specifically, the peak detection circuit 310 may perform a bit-by-bit comparison of the received training sequence TSR (as received from the ADC 1 10) with the local training sequence TSL (as received from the data adjustment circuit 320). For some embodiments, the peak detection circuit 310 may compare each bit of the local training sequence TSL with two or more bits of the received training sequence TSR. </p><p id="p0055" num="0055"> [0038] The data synchronization circuit 300 then determines whether there is a peak correlation between the local training sequence TSL and the received training sequence TSR (420).AS mentioned above, a peak correlation may be detected when (i) a variance between the bit values of a portion of the received training sequence TSR (and/or the local training sequence TSL) meets or exceeds a bit variance thresholdvalue and (ii) a number of matches between corresponding bits of the local training sequence TSL and the received training sequence TS<sub>R</sub>ineets or exceeds a bit match thresholdvalue. For some </p><p id="p0056" num="0056">embodiments, the peak detection circuit 310 may gather comparison data between TSL and TSR(410) for a threshold number of data cycles before making a peak correlation determination (420). 
<!-- EPO <DP n="12"/>-->
 [0039] For example, FIG. 5 shows an exemplary PN sequence 500 corresponding to a received training sequence TSR and a local training sequence TSL. The received training sequence TSR includes a first 6-bit portion TSRA and a second 6-bit portion TSRB, and the local training sequence TSL includes a first 6-bit portion TSLA and a second 6-bit portion TSLB- For the exemplary PN sequence 500, a peak determination operation may be performed for each 6-bit portion of the received training sequence TSR and the local training sequence TSL. More specifically, if the bit sequence "1 1 1 1 1 1 " corresponding to the first received training sequence portion TSRA is compared with the bit sequence "1 1 1 1 1 1 " corresponding to the first local training sequence portion TSLA, all six bit-comparisons result in matches. However, a peak correlation may not be indicated because there is no variance between the bit values of the overlapping sequences "1 1 1 1 1 1 " (and therefore it may be difficult to determine whether the training sequences TSR and TSL are aligned with the same portion of the PN sequence 500 or coincidentally all "1 's"). </p><p id="p0057" num="0057"> [0040] Conversely, the bit sequence "1 10010" corresponding to the second received training sequence portion TSRB and the second local training sequence portion TS<sub>LB</sub>may result in an indication of a peak correlation because the variance between the bit values of the sequence "1 10010" is equal to three (e.g., there are 3 state changes in the binary values of the sequence "1 10010"). Thus, if the variance threshold value is three or less for this example, then the comparison between TSRB and TSLB results in an indication of a peak correlation. Thus, in accordance with the present embodiments, greater variations between the bit values of the training sequenceportions may indicate a stronger likelihood that matches between the received training sequence TSR and the local training sequence TS<sub>L</sub>results from synchronization between TSR and TSL, while lesser variations between the bit values of the training sequence portionsmay indicate a stronger likelihood that matches between the received training sequence TSR and the local training sequence TS<sub>L</sub>are coincidental. </p><p id="p0058" num="0058"> [0041 ] Referring again to FIG. 4, if no peak correlation is detected, as tested at 420, the data synchronization circuit 300 may adjust the local training sequence TSL (430) and compare the adjusted local training sequence TSL with the received training sequence TSR (410). Specifically, the data adjustment 
<!-- EPO <DP n="13"/>-->
 circuit 320 may adjust the local training sequence TSL by incrementing the portion of the negotiated PN sequence that the local training sequence TSL is currently tracking. For example, referring again to FIG. 5, the initial bit sequence of portion TSLA is ahead of the correspondingbit sequence of first received training sequence portion TSRA by three data cycles (e.g., relative to the PN sequence 500). Thus, in order to synchronize the local training sequence TSL with the received training sequence TSR, the data adjustment circuit 320 may skip over the next three bits in the second local training sequence portion TSLB- For some embodiments, the step of adjusting the local training sequence TSL (430) may be performed iteratively, wherein the data adjustment circuit 320 increments TSL by one data cycle for each iteration (e.g., each time a peak correlation determination is made). </p><p id="p0059" num="0059"> [0042] Once a peak correlation is found, as tested at 420, the data synchronization circuit300 outputs the synchronized training sequence TSs (440). Specifically, the data adjustment circuit 320 may output the synchronized training sequence TSs to the timing alignment circuit 140 (see also FIG. 1 ), where it may then be used to precisely align a receive clock signal of the RX device with the data signal received from the TX device. For some embodiments, the data adjustment circuit 320 may output the adjusted local training sequence TSL as the synchronized training sequence TSs. </p><p id="p0060" num="0060"> [0043] FIG. 6 shows a data synchronization circuit 600 that is another embodiment of the data synchronization circuit 130 of FIG. 1 . The data synchronization circuit 600 includes a memory 610, a set of comparators </p><p id="p0061" num="0061">620(0)-620(3) coupled to a corresponding set of counters 630(0)-630(3), a peak detect logic 640, a data cycle (CYC) counter 650, and an address (ADR) counter 660, and is shown in FIG. 6 as being coupled to ADC 1 10 and TS generator 120. The ADC 1 10 samples the received data signal, and outputs the training sequence TSR based on the sampling. For some embodiments, a voltage-controlled oscillator (VCO) 670 may provide a clock signal used by the ADC 1 10to sample the received data signal. For some embodiments, a hard- decision (HD) logic 680 may convert each data sampleof the received training sequence TSR to a binary value (e.g., either a logic "1 " or "0"). 
<!-- EPO <DP n="14"/>-->
 [0044] The TS generator 120 outputs the localtraining sequence TSL to be stored in the memory 610. For some embodiments, the memory 610 may correspond to a random access memory (RAM) device. The memory 610 is configured to output one bit of the local training sequence TSL based on an address pointer(AP) provided by the ADR counter 660. For example, the ADR counter 660 may be configured to increment the value of the address pointer AP upon every data cycle of a data synchronization operation. Thus, the memory 610 mayoutput a different bit of the local training sequence TSiJor every data cycle. </p><p id="p0062" num="0062"> [0045] Each of the comparators 620(0)-620(3) includes a first input to receive a bit of the local training sequence TSL (output from the memory 610), and a second input to receive a bit of the received training sequence TSR (output by the ADC 1 10). A delay element 601 is coupled to an input path of each of the comparators 620(1 )-620(3) such that each of the comparators 620(0)-620(3) receives a different bit of the received training sequence TSR at any given time. Specifically, comparator 620(0) receives the current bit of the received training sequence TSR, comparator 620(1 ) receives the previous TSR bit (e.g., the bit output by the ADC 1 10 during the previous data cycle), comparator 620(2) receives the TSR bit from two previous data cycles, and comparator 620(3) receives the TSR bit from three previous data cycles. </p><p id="p0063" num="0063"> [0046] During each data cycle, the comparators 620(0)-620(3) compare their respective TSR bits to the TSL bit output from the memory 610, and output the match results to the set of counters 630(0)-630(3). For example, if a match is detected in any of the comparators 620(0)-620(3), then a corresponding counter 630(0)-630(3) records the match (and increments a corresponding match count value). The stored match count values are provided as inputs to the peak detectlogic 640, which determines, based on the received match count values, whether a peak correlation between the training sequences TSL and TSR has been found. As described above, the peak detectlogic 640 may detect a peak correlation when (i) a variance between the bit values of a portion of the received training sequence TSR (and/or the local training sequence TSL) meets or exceeds a bit variance thresholdvalue and (ii) a number of matches between corresponding bits of the local training sequence TSL and the received training 
<!-- EPO <DP n="15"/>-->
 sequence TS<sub>R</sub>imeets or exceeds a bit match thresholdvalue. Upon detecting a peak correlation between the training sequences TSR and TSL, the peak detectlogic 640 may assert the peak detect signal. </p><p id="p0064" num="0064"> [0047] The CYC counter 650 maintains a count of the number of data cycles completed by a data synchronization operation. Specifically, the CYC counter 650 may update a stored count value each time a data cycle is completed. When the count value reaches a threshold number (L), and the peak detect signal is not asserted, the CYC counter 650 outputs a reset (RST) signal to the ADR counter 660 and the set of counters 630(0)-630(3). The RST signal resets the count values stored in each of the counters 630(0)-630(3), and causes the ADR counter 660 to increment the value of the address pointer AP for the memory 610. For example, if the ADR counter 660 is configured to automatically increment the address pointer AP on every data cycle, assertion of the RST signal may cause the ADR counter 660 to increment the address pointer AP twice, thus causing the memory 610 to skip a bit of the local training sequence TSL. </p><p id="p0065" num="0065"> [0048] For some embodiments, assertion of the peak detect signal may prevent the CYC counter 650 from asserting the RST signal, thus preventing any further adjustments from being made to the local training sequence TSL. Furthermore, assertion of the peak detect signal may also cause the current state of the local training sequence TSL (e.g., as pointed to by the address pointer AP) to be output from the data synchronization circuit 600 as the synchronized training sequence TSs. For some embodiments, the peak detect signal may be output along with the synchronized training sequence TSs to trigger a timing alignment operation (e.g., by timing alignment circuit 140 of FIG. 1 ). For other embodiments, the synchronized training sequence TSs may be gated by the peak detect signal at the output of the data synchronization circuit 600, for example, to prevent the data synchronization circuit 600 from outputting the local training sequence TSL (e.g., as the synchronized training sequence TSs) unless the peak detect signal is asserted. </p><p id="p0066" num="0066"> [0049] FIGS. 7A-7B are illustrative flow charts depicting another exemplary data synchronization operation 710 in accordance with some embodiments. Referring also to FIG. 6, the operation 710 begins by resetting 
<!-- EPO <DP n="16"/>-->
 both an address counter (701 ) and adata cyclecounter (702). For example, resetting the ADR counter 660 may cause the address pointer APto point to the address of the first bit of data stored in the memory 610. Resetting the CYC counter 650 may cause the count value of the CYC counter 650 to be initialized to zero.The data synchronization circuit 600 may also load a local training sequence TSL into memory (703). For example, the local training sequence TSL output by the TS generator 120 may be stored in the memory 610. </p><p id="p0067" num="0067"> [0050] Next, the current bit (TSLC) of the local training sequence TSL is compared with a sampled bit (TSRO) of the received training sequence TSR(704), and a first counter (CNT0) is incremented if the bits match (708). For example, the comparator 620(0) may compare the TSRO bit that is currently sampled by the ADC 1 10 with the TS<sub>L</sub>c bit read out of the memory 610. The counter 630(0) may store the result of the comparison by updating the count value of CNT0. </p><p id="p0068" num="0068"> [0051 ] Then, depending on how many data cycles have been completed, the TSLC bit may also be compared withpreviously sampled bits (TSRI-TSR3) from up to three prior data cycles (705-707), and respective counters (CNT1 - CNT3) may be incremented to recordany matches (709-71 1 ). For example, the comparator 620(1 ) may compare the TSRI bit from the previous data cycle with the TSLC bit read out of memory 610, the comparator 620(2) may compare the TSR2 bit from two previous data cycles with the TSLC bit, and the comparator 620(3) may compare the TSR3 bit from three previous data cycles with the TSLC bit. Each the counters 630(1 )-630(3) may store the result of a corresponding comparison by updating the count values for CNT1 -CNT3, respectively. </p><p id="p0069" num="0069"> [0052] The data synchronization circuit 600 then determines whether a thresholdnumber of data cycles (CYCTH) have been completed (712). As long as the CYC counter 650 has not yet reached the threshold CYCTH, the data synchronization circuit 600 continues to increment both the CYC counter 650 (713) and the ADR counter 660 (714), while reading and comparing subsequent bits of the local training sequence TSL and the received training sequence TSR (704-707). For example, the CYC counter 650 may increment its stored count value to reflect the completion of a data cycle. The ADR counter 660 may increment the bit address associated with the address pointer AP, which in turn causes the next TSL bit to be read from the memory 610. 
<!-- EPO <DP n="17"/>-->
 [0053] Once the threshold number of data cycles CYCTH has been reached, as tested at 71 2, the data synchronization circuit 600 may proceed to perform a peak correlation determination, as depicted in FIG. 7B. Specifically, a determination is made as to whether the second counter CNT1 has recorded a threshold number (CNTTH) of matches (71 7), whether the second counter CNT1 has recorded more matches than the first counter CNT0 (71 8), and whether the second counter CNT1 has recorded more matches than the third counter CNT2 (71 9). If all of these conditions (71 7-71 9) are satisfied, then the data </p><p id="p0070" num="0070">synchronization circuit 600 may indicate that a peak correlation has been detected (726). Otherwise, a determination is made as to whether the third counter CNT2 has recorded at least CNTTH matches (720), whether the third counter CNT2 has recorded more matches than the second counter CNT1 (721 ), and whether the third counter CNT2 has recorded more matches than the fourth counter CNT3 (722). Again, if all of these conditions (720-722) are satisfied, then the data synchronization circuit 600 may indicate that peak correlation has been detected (726). </p><p id="p0071" num="0071"> [0054] For example, referring also to FIG. 6, the peak detectlogic 640 may analyze the outputs from each of the counters 630(1 )-630(3) (e.g., CNT1 - CNT3) to determine whether the above conditions (717-722) are satisfied. If the peak detect logic 640 determines that either of the first set of conditions (717- 719) or the second set of conditions (720-722) have been satisfied, then the peak detectlogic 640 may assert the peak detect signal to indicate that a peak correlation has been detected (726). Upon receiving the peak detect signal, the CYC counter 650 is prevented from asserting the RST signal. Further, upon assertion of the peak detect signal, the current state of the local training sequence TSL may be output as the synchronized training sequence TSs. Note that when a peak correlation is detected by the peak detect logic 640, the current TSL bit (TSLC) may be in sync with the TSR bit from one or two previous data cycles (TSRI or TSR2). Thus, for some embodiments, the ADR counter 660 may further increment the bit address associated with the address pointer AP (e.g., by one or two bits) when a peak correlation is detected to enable the local training sequence TSL to "catch up" to the received training sequence TSR. 
<!-- EPO <DP n="18"/>-->
 [0055] However, if any of the conditions 717-722 are not satisfied, the data synchronization circuit 600 may proceed to increment the ADR counter 660 (723), reset the CYC counter 650 (724), and reset each of the individual counters CNT0-CNT3 (725). For example, if the peak detect signal has not been asserted after the threshold number of data cycles CYCTH has been reached, the CYC counter 650 may reset its stored count value and output a RST signal to reset the counters 630(0)-630(3) and to instruct the ADR counter 660 to increment the bit address associated with the address pointer AP. This may set up the peak detect logic 640 for a subsequent peak correlation operation (717-726). </p><p id="p0072" num="0072"> [0056] FIG. 8 shows a block diagram of a timing alignment circuit 800 that is one embodiment of the timing alignment circuit 140 of FIG. 1 . The timing alignment circuit 800 includes a 2-PAM mapping circuit 810, a timing error detection (TED) circuit 820, an adjustable loop filter 830, and a VCO 840, and is shown in FIG. 8 as being coupled to ADC 1 10. As described above, the ADC 1 10 samples the received data signal to recover the training sequence TSR. The VCO 840 may provide the receive clock signal (CLK)used by the ADC 1 10 to sample the received data signal. For some embodiments, the received training sequence TSR may be processed by a feed-forward equalizer (FFE) 850 to improve output jitter RMS performance. Specifically, the FFE 850 may partially mitigate intersymbol interference (e.g., by reducing ISI noise terms), thus improving jitter performance. </p><p id="p0073" num="0073"> [0057] The 2-PAM mapping circuit 810 may convert each bit of the synchronized training sequence TSs to a 2-PAM voltage level. The TED circuit 820 includes inputs to receive both the synchronized training sequence TSs and the received training sequence TSR, and outputs an error signal representing a timing error between the two training sequences TSs and TSR. For some embodiments, the TED circuit 820 may correspond to a Mueller-Muller timing error detection circuit, wherein the timing error (X) may be calculated as: </p><p id="p0074" num="0074"> XN = TSRN*TSS(N-I) - TSR(N-I)*TSSN </p><p id="p0075" num="0075">where N represents the current bit of a corresponding training sequence (TSs or TSR), and N-1 represents the previous bit of the training sequence (e.g., the bit associated with a previous clock cycle). 
<!-- EPO <DP n="19"/>-->
 [0058] For some embodiments, the error signal may be filtered by adjustable loop filter 830 to produce a filtered error signal . For example, the adjustable loop filter 830 may suppress any excess noise in the error signal output by the TED circuit 820, for example, to produce a more useful and precise filtered error signal . For some embodiments, one or more loop </p><p id="p0076" num="0076">parameters of the adjustable loop filter 830 may be adjusted (e.g., over a period of time) to further ensure good jitter performance. </p><p id="p0077" num="0077"> [0059] The VCO 840 receives the filtered error signal from the adjustable loop filter 830 and adjusts the CLK signal in response thereto. Specifically, the filtered error signal causes the VCO 840 to align a sampling edge of the clock signal CLK with the peak (or center) of each symbol of the received data signal . For example, a voltage level associated with the filtered error signal may cause the VCO 840 to either increase or decrease the oscillation frequency of the CLK signal . More specifically, the VCO 840 may increase the oscillation frequency of the CLK signal when the voltage level of the filtered error signal is increased, and the VCO 840 may decrease the oscillation frequency of the CLK signal when the voltage level of the filtered error signal is decreased. Accordingly, the timing alignment circuit 800 may operate in a feedback loop until the CLK signal is precisely aligned with the symbol peaks of the received data signal . </p><p id="p0078" num="0078"> [0060] It should be noted that if the synchronized training sequence TSs isn't at least coarsely aligned with the received training sequence TSR, it may take a very long time for the timing alignment circuit 800 to lock the frequency and/or phase of the CLK signal with the received data signal . Thus, the timing recovery system of the present embodiments is especially advantageous when used in high-sped (e.g., 10GBASE-T) Ethernet systems. </p><p id="p0079" num="0079"> [0061 ] FIG. 9 shows a block diagram of an adjustable loop filter 900 that is one embodiment of the adjustable loop filter 830 of FIG. 8. The adjustable loop filter 900 includes a proportional gain component 910, an integral gain component 920, a delay register 930, a loop timer 940, and summing circuits 950-951 . An error signal received by the adjustable loop filter 900 may be divided into two paths: a proportional path 901 and an integral path 902. The proportional path901 includes the proportional gain component 910, which multiplies the error signal by a proportional loop parameter(Kp) to filter phase 
<!-- EPO <DP n="20"/>-->
 error. The integral path includes the integral gain component 920, which multiplies the error signal by an integral loop parameter(K/) and then integrates the /(<sub>/</sub>-multiplied error signal with a delayed copy of the error signal provided by delay register 930. The proportional path 901 is combined with the integral path 902 via summing circuit 950 to generate a filtered error signal. </p><p id="p0080" num="0080"> [0062] For some embodiments, the loop parameter K<sub>p</sub> associated with proportional gain component 910 and/or the loop parameter K, associated with the integral gain component 920 may be adjusted after a threshold period of time indicated by a loop timer 940 to improve jitter performance. Specifically, the loop timer 940 may output a parameter adjust (PA) signal after a threshold duration of time has expired. For some embodiments, the threshold duration may correspond to a fixed duration that allows the timing loop to catch up with an initial frequency offset. In response to the PA signal, the value stored in the delay register 930 may be held constant while the loop parameters K<sub>p</sub> and K, are adjusted (e.g., reduced from an initial value). </p><p id="p0081" num="0081"> [0063] FIG. 10is an illustrative flow chart depicting an exemplary loop parameter adjustment operation 1000 in accordance with some embodiments. Referring also to FIG. 9, in the operation 1000, the loop parameters K<sub>p</sub> and K, are initially set to relatively large values (1010). For example, the proportional gain component 910 and the integral gain component 920 may initially set their respective loop parameters to K<sub>p</sub> = 2<sup>"14</sup> and K, = 2<sup>"30</sup>so that the adjustable loop filter 900 exhibits a large pull-in bandwidth. </p><p id="p0082" num="0082"> [0064] After a threshold period of time has elapsed, the delayed error signal provided along the integral path 902of the loop filter 900 is held constant (1020). For example, after the threshold period has elapsed, the loop timer 940 may output the PA signal, which instructs the delay register 930 to hold its current state. For some embodiments, the threshold period may correspond to a minimumduration of time that allows the timing loop of the adjustable loop filter 900 to catch up with an initial frequency offset. </p><p id="p0083" num="0083"> [0065] Then, while the delayed error signal is being held constant, the loop parameters K<sub>p</sub> and K, are reduced until the output jitter of the filtered error signal is within a desired threshold (1030). For example, upon detecting the PA signal, the proportional gain and integral gain components 910 and 920 may 
<!-- EPO <DP n="21"/>-->
 reduce their respective loop parameters to K<sub>p</sub> = 2<sup>"18</sup> and K, = 2<sup>"38</sup>so that the pull- in bandwidth (and thus the output jitter) of the adjustable loop filter 900 is within a narrower threshold. </p><p id="p0084" num="0084"> [0066] Table 1 below shows an exemplary relationship between the loop parameters K<sub>p</sub> and K<sub>h</sub> the pull-in bandwidth, and the output jitter of an example embodiment of adjustable loop filter 900. </p><p id="p0085" num="0085"><img id="imgf000021_0001" he="37" wi="156" file="imgf000021_0001.tif" img-format="tif" img-content="table" orientation="portrait" inline="no"/></p><p id="p0086" num="0086"> Table 1 </p><p id="p0087" num="0087"> [0067] It should be noted that 10GBASE-T Ethernet systems require at least 100ppm pull-in bandwidth, with a limit of 1 ps RMS out jitter. Typical loop filters (i.e., having fixed loop parameters K<sub>p</sub> and Ki) may not be able to satisfy both requirements, as shown in Table 1 . However, the adjustable loop filter 900 disclosed in the present embodiments may be able to satisfy both requirements using the loop parameter adjustment operation 1000 described above. </p><p id="p0088" num="0088"> [0068] It will be appreciated that the timing recovery operations disclosed in the present embodimentsare especially advantageous when used in highspeed (e.g., 10GBASE-T) Ethernet systems. For example, the data </p><p id="p0089" num="0089"> synchronization circuit (e.g., FIGS. 3 and 6) produces a synchronized training sequence TSs that is coarsely aligned with a received training sequence TSR. This enables the timing alignment circuit (e.g., FIG. 8) to quickly and precisely lock the frequency and/or phase of a receive clock signal with a corresponding data signal received from another device. In addition, such high-speed Ethernet systems typically have a very high echo cancellation gain requirement, which in turn requires very low timing recovery loop output jitter.Nonetheless, the adjustable loop filter disclosed in the present embodiments may allow for both a relatively high pull-in bandwidth as well as a low output jitter threshold. </p><p id="p0090" num="0090"> [0069] FIG. 1 1 is an example of a block diagram of a communication device 1 100 that may include the present embodiments. In some embodiments, 
<!-- EPO <DP n="22"/>-->
 the device 1 100 is a wireless device (e.g., a WLAN device). In some </p><p id="p0091" num="0091">embodiments, the device 1 100 is a wired device (e.g., an Ethernet device). </p><p id="p0092" num="0092"> [0070] The device 1 100 includes a processor unit 1 101 , a transceiver 1 102, a network interface 1 105, and a memory unit 1 107coupled by a bus 1 103. The processor unit 1 101 includes one or more processors and/or processor cores. For some embodiments, the network interface 1 105 includes at least one wired network interface (e.g., an Ethernet interface, an EPON interface, an EPoC interface, etc.). For other embodiments, the device 1 100 includes at least one wireless network interface (e.g., a WLAN interface, a Bluetooth® interface, a WiMAX interface, a ZigBee® interface, a Wireless USB interface, etc.). </p><p id="p0093" num="0093"> [0071 ] The memory unit 1 107 includes a non-transitory computer- readable storage medium (e.g., one or more nonvolatile memory elements, such as EPROM, EEPROM, Flash memory, a hard disk drive, and so on) that stores a timing recovery software module 1 1 10. In some embodiments, the timing recovery software module 1 1 10 includes one or more programs with instructions that, when executed by processor unit 1 101 , cause the </p><p id="p0094" num="0094">communication device 1 100 to perform the operations 200, 400, 710, and/or 1000 of FIGS. 2, 4, 7A-7B, and 10, respectively. </p><p id="p0095" num="0095"> [0072] In the foregoing specification, the present embodiments have been described with reference to specific exemplary embodiments thereof. It will, however, be evident that various modifications and changes may be made thereto without departing from the broader scope of the disclosure as set forth in the appended claims. The specification and drawings are, accordingly, to be regarded in an illustrative sense rather than a restrictive sense. For example, the method steps depicted in the flow charts of FIGS. 2, 4, 7A-7B, and/or 10 may be performed in other suitable orders and/or multiple steps may be combined into a single step. 
</p></description><claims mxw-id="PCLM70078857" ref-ucid="WO-2014127514-A1" lang="EN" load-source="patent-office"><claim-statement><!-- EPO <DP n="23"/>--> CLAIMS What is claimed is: </claim-statement><claim id="clm-0001" num="1"><claim-text>1 . A method of timing recovery performed by a first device, the method comprising: </claim-text><claim-text> negotiating a pseudorandom number sequence with a second device; sampling a data signal received from the second device to recover a first training sequence; </claim-text><claim-text> generating a second training sequence based on the pseudorandom number sequence; </claim-text><claim-text> synchronizing the second training sequence with the first training sequence; and </claim-text><claim-text> aligning a receive clock signal of the first device with the received data signal using the synchronized second training sequence. </claim-text></claim><claim id="clm-0002" num="2"><claim-text>2. The method of claim 1 , wherein synchronizing the second training sequence with the first training sequence comprises: </claim-text><claim-text> comparing the first training sequence with the second training sequence; and </claim-text><claim-text> iteratively adjusting the second training sequence based on the comparing. </claim-text></claim><claim id="clm-0003" num="3"><claim-text>3. The method of claim 2, wherein comparing the first training sequence with the second training sequence comprises: </claim-text><claim-text> determining a peak correlation between the first training sequence and the second training sequence, wherein the peak correlation is based upon a number of matching bits within the first training sequence and the second training sequence and upon a degree of variation between adjacent bits of the pseudorandom number sequence. </claim-text></claim><claim id="clm-0004" num="4"><claim-text>4. The method of claim 3, wherein determining the peak correlation comprises: 
<!-- EPO <DP n="24"/>-->
 comparing each bit of the first training sequence with two or more bits of the second training sequence over a threshold number of data cycles. </claim-text></claim><claim id="clm-0005" num="5"><claim-text>5. The method of claim 4, wherein iteratively adjusting the second training sequence comprises: </claim-text><claim-text> incrementing an address pointer that generates the second training sequence if no peak correlation is detected after the threshold number of data cycles. </claim-text></claim><claim id="clm-0006" num="6"><claim-text>6. The method of claim 3, wherein the second training sequence is synchronized with the first training sequence when the peak correlation is detected. </claim-text></claim><claim id="clm-0007" num="7"><claim-text>7. The method of claim 1 , wherein the receive clock signal is to sample the data signal received from the second device. </claim-text></claim><claim id="clm-0008" num="8"><claim-text>8. The method of claim 1 , wherein aligning the receive clock signal comprises: </claim-text><claim-text> determining a timing error between the first training sequence and the synchronized second training sequence; and </claim-text><claim-text> adjusting the receive clock signal based on the timing error. </claim-text></claim><claim id="clm-0009" num="9"><claim-text>9. The method of claim 8, wherein the timing error comprises a Mueller-Muller timing error. </claim-text></claim><claim id="clm-0010" num="10"><claim-text>10. The method of claim 8, wherein determining the timing error comprises: </claim-text><claim-text> generating an error signal corresponding to the timing error between the first training sequence and the synchronized second training sequence. </claim-text></claim><claim id="clm-0011" num="11"><claim-text>1 1 . The method of claim 10, further comprising: </claim-text><claim-text> filtering the error signal using a loop filter; and </claim-text><claim-text> adjusting one or more parameters of the loop filter to limit jitter in the receive clock signal. 
<!-- EPO <DP n="25"/>-->
</claim-text></claim><claim id="clm-0012" num="12"><claim-text>12. The method of claim 1 1 , wherein adjusting one or more </claim-text><claim-text>parameters of the loop filter comprises: </claim-text><claim-text> decreasing a value of the one or more parameters of the loop filter after a threshold amount of time has elapsed. </claim-text></claim><claim id="clm-0013" num="13"><claim-text>13. The method of claim 1 , wherein sampling the data signal comprises: </claim-text><claim-text> mitigating intersymbol interference in the received data signal using feedforward equalization. </claim-text></claim><claim id="clm-0014" num="14"><claim-text>14. A computer-readable storage medium containing program instructions that, when executed by a processor of a first device, cause the first device to: </claim-text><claim-text> negotiate a pseudorandom number sequence with a second device; sample a data signal received from the second device to recover a first training sequence; </claim-text><claim-text> generate a second training sequence based on the pseudorandom number sequence; </claim-text><claim-text> synchronize the second training sequence with the first training </claim-text><claim-text>sequence; and </claim-text><claim-text> align a receive clock signal of the first device with the received data signal using the synchronized second training sequence. </claim-text></claim><claim id="clm-0015" num="15"><claim-text>15. The computer-readable storage medium of claim 14, wherein execution of the program instructions to synchronize the second training sequence with the first training sequence cause the first device to: </claim-text><claim-text> compare the first training sequence with the second training sequence; and </claim-text><claim-text> iteratively adjust the second training sequence based on the comparison. </claim-text></claim><claim id="clm-0016" num="16"><claim-text>16. The computer-readable storage medium of claim 15, wherein execution of the program instructions to compare the first training sequence with the second training sequence cause the first device to: 
<!-- EPO <DP n="26"/>-->
 determine a peak correlation between the first training sequence and the second training sequence, wherein the peak correlation is based upon a number of matching bits within the first training sequence and the second training sequence and upon a degree of variation between adjacent bits of the pseudorandom number sequence. </claim-text></claim><claim id="clm-0017" num="17"><claim-text>17. The computer-readable storage medium of claim 16, wherein execution of the program instructions to determine the peak correlation cause the first device to: </claim-text><claim-text> compare each bit of the first training sequence with two or more bits of the second training sequence over a threshold number of data cycles. </claim-text></claim><claim id="clm-0018" num="18"><claim-text>18. The computer-readable storage medium of claim 17, wherein execution of the program instructions to iteratively adjust the second training sequence cause the first device to: </claim-text><claim-text> increment an address pointer used to generate the second training sequence if no peak correlation is detected after the threshold number of data cycles. </claim-text></claim><claim id="clm-0019" num="19"><claim-text>19. The computer-readable storage medium of claim 16, wherein the second training sequence is synchronized with the first training sequence when the peak correlation is detected. </claim-text></claim><claim id="clm-0020" num="20"><claim-text>20. The computer-readable storage medium of claim 14, wherein the receive clock signal is used to sample the data signal received from the second device. </claim-text></claim><claim id="clm-0021" num="21"><claim-text>21 . The computer-readable storage medium of claim 14, wherein execution of the program instructions to align the receive clock signal cause the first device to: </claim-text><claim-text> determine a timing error between the first training sequence and the synchronized second training sequence; and </claim-text><claim-text> adjustthe receive clock signal based on the timing error. 
<!-- EPO <DP n="27"/>-->
</claim-text></claim><claim id="clm-0022" num="22"><claim-text>22. The computer-readable storage medium of claim 21 , wherein the timing error comprises a Mueller-Muller timing error. </claim-text></claim><claim id="clm-0023" num="23"><claim-text>23. The computer-readable storage medium of claim 21 , wherein execution of the program instructions to determine the timing error cause the first device to: </claim-text><claim-text> generate an error signal corresponding to the timing error between the first training sequence and the synchronized second training sequence. </claim-text></claim><claim id="clm-0024" num="24"><claim-text>24. The computer-readable storage medium of claim 23, further comprising program instructions that cause the first device to: </claim-text><claim-text> filter the error signal; and </claim-text><claim-text> adjust one or more parameters of a loop filter to limit jitter in the receive clock signal. </claim-text></claim><claim id="clm-0025" num="25"><claim-text>25. A device, comprising: </claim-text><claim-text> a processor to negotiate a pseudorandom number sequence with another device; </claim-text><claim-text> an analog-to-digital converter (ADC) to sample a data signal received from the other device to recover a first training sequence; </claim-text><claim-text> a training sequence generator to generate a second training sequence based on the pseudorandom number sequence; </claim-text><claim-text> a data synchronization circuit to synchronize the second training sequence with the first training sequence; and </claim-text><claim-text> a timing alignment circuit to align a receive clock signal of the device with the received data signal using the synchronized second training sequence. </claim-text></claim><claim id="clm-0026" num="26"><claim-text>26. The device of claim 25, wherein the data synchronization circuit comprises: </claim-text><claim-text> a peak detection circuit to compare the first training sequence with the second training sequence; and </claim-text><claim-text> a data adjustment circuit to iteratively adjust the second training sequence based on the comparison. 
<!-- EPO <DP n="28"/>-->
</claim-text></claim><claim id="clm-0027" num="27"><claim-text>27. The device of claim 26, wherein the peak detection circuit comprises: </claim-text><claim-text> a plurality of comparatorsto compare each bit of the first training sequence with two or more bits of the second training sequence to generate a plurality of match values; and </claim-text><claim-text> a peak detect logic to determine a peak correlation between the first training sequence and the second training sequence based, at least in part, on the plurality of match values. </claim-text></claim><claim id="clm-0028" num="28"><claim-text>28. The device of claim 27, wherein the peak correlation is based upon a number of matching bits within the first training sequence and the second training sequence and upon a degree of variation between adjacent bits of the pseudorandom number sequence. </claim-text></claim><claim id="clm-0029" num="29"><claim-text>29. The device of claim 27, wherein the second training sequence is synchronized with the first training sequence when the peak correlation is detected. </claim-text></claim><claim id="clm-0030" num="30"><claim-text>30. The device of claim 26, wherein the data adjustment circuit comprises: </claim-text><claim-text> a memory to sequentially output bits of the second training sequence to the peak detection circuit; and </claim-text><claim-text> an address counter to increment an address pointer of the memory if no peak correlation is detected after a threshold number of data cycles. </claim-text></claim><claim id="clm-0031" num="31"><claim-text>31 . The device of claim 26, wherein the timing alignment </claim-text><claim-text>circuitcomprises: </claim-text><claim-text> an error detection circuit to determine a timing error between the first training sequence and the synchronized second training sequence, and to output an error signal corresponding to the timing error; and </claim-text><claim-text> a voltage controlled oscillator to adjust the receive clock signal in response to the error signal. 
<!-- EPO <DP n="29"/>-->
</claim-text></claim><claim id="clm-0032" num="32"><claim-text>32. The device of claim 31 , wherein the error detection circuit comprises a Mueller-Muller timing error detection circuit. </claim-text></claim><claim id="clm-0033" num="33"><claim-text>33. The device of claim 31 , wherein the timing alignment circuit further comprises: </claim-text><claim-text> a loop filter to filter the error signal output from the error detection circuit, wherein the loop filter includes one or more adjustable parameters for limiting jitter in the receive clock signal. </claim-text></claim><claim id="clm-0034" num="34"><claim-text>34. The device of claim 33, wherein the loop filter is a second-order loop filter having a proportional path and an integral path. 
</claim-text></claim></claims><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
