<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2959668-A1" country="EP" doc-number="2959668" kind="A1" date="20151230" family-id="50239706" file-reference-id="311201" date-produced="20180826" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="160452508" ucid="EP-2959668-A1"><document-id><country>EP</country><doc-number>2959668</doc-number><kind>A1</kind><date>20151230</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-14708954-A" is-representative="NO"><document-id mxw-id="PAPP193867984" load-source="patent-office" format="original"><country>EP</country><doc-number>14708954.4</doc-number><date>20140220</date><lang>EN</lang></document-id><document-id mxw-id="PAPP193867985" load-source="docdb" format="epo"><country>EP</country><doc-number>14708954</doc-number><kind>A</kind><date>20140220</date><lang>EN</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC162033326" ucid="IB-2014059140-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>IB</country><doc-number>2014059140</doc-number><kind>W</kind><date>20140220</date></document-id></priority-claim><priority-claim mxw-id="PPC162028503" ucid="US-201313772921-A" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>201313772921</doc-number><kind>A</kind><date>20130221</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-1988520853" load-source="docdb">H04M   3/42        20060101AFI20140911BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1988526102" load-source="docdb">H04W   4/14        20090101ALI20140911BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1988526713" load-source="docdb">H04L  12/58        20060101ALI20140911BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1987763307" load-source="docdb" scheme="CPC">H04W  76/00        20130101 LI20150827BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987764129" load-source="docdb" scheme="CPC">H04M   3/42391     20130101 LA20150827BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987764251" load-source="docdb" scheme="CPC">H04M   3/42382     20130101 LI20150827BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987766602" load-source="docdb" scheme="CPC">H04M2207/185       20130101 LA20150827BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987770425" load-source="docdb" scheme="CPC">H04L  51/36        20130101 LI20150827BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987783777" load-source="docdb" scheme="CPC">H04M   7/0042      20130101 LI20150827BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987789602" load-source="docdb" scheme="CPC">H04W   4/16        20130101 FI20140821BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987798424" load-source="docdb" scheme="CPC">H04L  51/04        20130101 LI20150827BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT165548990" lang="DE" load-source="patent-office">BEGRENZUNG DER VERARBEITUNG VON ANRUFEN ALS TEXTTELEFONANRUFE</invention-title><invention-title mxw-id="PT165548991" lang="EN" load-source="patent-office">LIMITING PROCESSING OF CALLS AS TEXT TELEPHONY CALLS</invention-title><invention-title mxw-id="PT165548992" lang="FR" load-source="patent-office">LIMITATION DU TRAITEMENT D'APPELS COMME LES APPELS DE TÉLÉPHONIE EN MODE TEXTE</invention-title><citations><non-patent-citations><nplcit><text>See references of WO 2014128652A1</text><sources><source mxw-id="PNPL67567825" load-source="docdb" name="SEA"/></sources></nplcit></non-patent-citations></citations></technical-data><parties><applicants><applicant mxw-id="PPAR1103313792" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>ERICSSON TELEFON AB L M</last-name><address><country>SE</country></address></addressbook></applicant><applicant mxw-id="PPAR1103309963" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>TELEFONAKTIEBOLAGET L M ERICSSON (PUBL)</last-name></addressbook></applicant><applicant mxw-id="PPAR1101650223" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Telefonaktiebolaget L M Ericsson (publ)</last-name><iid>101537273</iid><address><city>164 83 Stockholm</city><country>SE</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR1103308289" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>YUE PETER</last-name><address><country>CA</country></address></addressbook></inventor><inventor mxw-id="PPAR1103333796" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>YUE, PETER</last-name></addressbook></inventor><inventor mxw-id="PPAR1101647711" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>YUE, PETER</last-name><address><street>204-987 rue White</street><city>St-Laurent, Québec H4M 2Y1</city><country>CA</country></address></addressbook></inventor><inventor mxw-id="PPAR1103309018" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>MA HUNG</last-name><address><country>CA</country></address></addressbook></inventor><inventor mxw-id="PPAR1103305734" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>MA, HUNG</last-name></addressbook></inventor><inventor mxw-id="PPAR1101647745" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>MA, HUNG</last-name><address><street>11 Glendale Avenue</street><city>Beaconsfield, Québec H9W 5P6</city><country>CA</country></address></addressbook></inventor><inventor mxw-id="PPAR1103328527" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>GRECKI EMMANUEL</last-name><address><country>CA</country></address></addressbook></inventor><inventor mxw-id="PPAR1103312754" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>GRECKI, EMMANUEL</last-name></addressbook></inventor><inventor mxw-id="PPAR1101652643" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>GRECKI, EMMANUEL</last-name><address><street>4672 Av. Christophe Colomb</street><city>Montreal, Québec H2J 3G6</city><country>CA</country></address></addressbook></inventor><inventor mxw-id="PPAR1103317059" load-source="docdb" sequence="4" format="epo"><addressbook><last-name>GENDRON PIERRE</last-name><address><country>CA</country></address></addressbook></inventor><inventor mxw-id="PPAR1103343297" load-source="docdb" sequence="4" format="intermediate"><addressbook><last-name>GENDRON, PIERRE</last-name></addressbook></inventor><inventor mxw-id="PPAR1101651065" load-source="patent-office" sequence="4" format="original"><addressbook><last-name>GENDRON, PIERRE</last-name><address><street>293 Olivier-Chaveau</street><city>Laval, Québec H7K 3H9</city><country>CA</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR1101652711" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Röthinger, Rainer</last-name><iid>101205746</iid><address><street>Wuesthoff &amp; Wuesthoff Patentanwälte PartG mbB Schweigerstrasse 2</street><city>81541 München</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="IB-2014059140-W"><document-id><country>IB</country><doc-number>2014059140</doc-number><kind>W</kind><date>20140220</date><lang>EN</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2014128652-A1"><document-id><country>WO</country><doc-number>2014128652</doc-number><kind>A1</kind><date>20140828</date><lang>EN</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS660788622" load-source="docdb">AL</country><country mxw-id="DS660624499" load-source="docdb">AT</country><country mxw-id="DS660788624" load-source="docdb">BE</country><country mxw-id="DS660702892" load-source="docdb">BG</country><country mxw-id="DS660709204" load-source="docdb">CH</country><country mxw-id="DS660625144" load-source="docdb">CY</country><country mxw-id="DS660624500" load-source="docdb">CZ</country><country mxw-id="DS660788625" load-source="docdb">DE</country><country mxw-id="DS660625145" load-source="docdb">DK</country><country mxw-id="DS660625146" load-source="docdb">EE</country><country mxw-id="DS660702954" load-source="docdb">ES</country><country mxw-id="DS660702893" load-source="docdb">FI</country><country mxw-id="DS660702894" load-source="docdb">FR</country><country mxw-id="DS660788626" load-source="docdb">GB</country><country mxw-id="DS660625155" load-source="docdb">GR</country><country mxw-id="DS660788627" load-source="docdb">HR</country><country mxw-id="DS660624501" load-source="docdb">HU</country><country mxw-id="DS660709205" load-source="docdb">IE</country><country mxw-id="DS660625156" load-source="docdb">IS</country><country mxw-id="DS660702907" load-source="docdb">IT</country><country mxw-id="DS660625157" load-source="docdb">LI</country><country mxw-id="DS660623681" load-source="docdb">LT</country><country mxw-id="DS660724155" load-source="docdb">LU</country><country mxw-id="DS660623682" load-source="docdb">LV</country><country mxw-id="DS660623703" load-source="docdb">MC</country><country mxw-id="DS660724156" load-source="docdb">MK</country><country mxw-id="DS660724157" load-source="docdb">MT</country><country mxw-id="DS660702908" load-source="docdb">NL</country><country mxw-id="DS660702959" load-source="docdb">NO</country><country mxw-id="DS660709206" load-source="docdb">PL</country><country mxw-id="DS660724158" load-source="docdb">PT</country><country mxw-id="DS660702909" load-source="docdb">RO</country><country mxw-id="DS660724167" load-source="docdb">RS</country><country mxw-id="DS660709211" load-source="docdb">SE</country><country mxw-id="DS660624502" load-source="docdb">SI</country><country mxw-id="DS660702960" load-source="docdb">SK</country><country mxw-id="DS660709212" load-source="docdb">SM</country><country mxw-id="DS660623705" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data><office-specific-data><eptags><ep-no-a-document-published>*</ep-no-a-document-published></eptags></office-specific-data></bibliographic-data><abstract mxw-id="PA139078938" ref-ucid="WO-2014128652-A1" lang="EN" load-source="patent-office"><p num="0000">A communication node (12, 20) processes a call supported over a voice coded channel (18) in a wireless communication network (10). The node (12, 20) tentatively designates the call as a voice call as soon as the call is initiated. While the call is designated as a voice call, the node (12, 20) limits processing of the call as a text telephony call to passively monitoring for one or more partial or complete text characters in the call. Responsive to detecting one or more partial or complete text characters in the call via this passive monitoring, the node (12, 20) designates the call as a text telephony call. While the call is designated as a text telephony call, the node (12, 20) fully processes the call as a text telephony call by passively detecting one or more complete text characters in the call, and conditioning and de-conditioning signals of the call for reliable transmission and reception over the voice coded channel (18).</p></abstract><abstract mxw-id="PA139545493" ref-ucid="WO-2014128652-A1" lang="EN" source="national office" load-source="docdb"><p>A communication node (12, 20) processes a call supported over a voice coded channel (18) in a wireless communication network (10). The node (12, 20) tentatively designates the call as a voice call as soon as the call is initiated. While the call is designated as a voice call, the node (12, 20) limits processing of the call as a text telephony call to passively monitoring for one or more partial or complete text characters in the call. Responsive to detecting one or more partial or complete text characters in the call via this passive monitoring, the node (12, 20) designates the call as a text telephony call. While the call is designated as a text telephony call, the node (12, 20) fully processes the call as a text telephony call by passively detecting one or more complete text characters in the call, and conditioning and de-conditioning signals of the call for reliable transmission and reception over the voice coded channel (18).</p></abstract><abstract mxw-id="PA139078939" ref-ucid="WO-2014128652-A1" lang="FR" load-source="patent-office"><p num="0000">Un nœud de communication (12, 20) traite un appel pris en charge sur un canal codé vocalement (18) dans un réseau de communications sans fil (10). Le nœud (12, 20) tente de désigner l'appel comme un appel vocal dès que l'appel est initié. Lorsque l'appel est désigné comme un appel vocal, le nœud (12, 20) limite un traitement de l'appel comme un appel de téléphonie en mode texte afin de surveiller passivement un ou plusieurs caractères de texte partiels ou complets dans l'appel. En réponse à la détection d'un ou plusieurs caractères de texte partiels ou complets dans l'appel via cette surveillance passive, le nœud (12, 20) désigne l'appel comme un appel de téléphonie en mode texte. Lorsque l'appel est désigné comme un appel de téléphonie en mode texte, le nœud (12, 20) exécute un traitement complet de l'appel comme un appel de téléphonie en mode texte en détectant passivement un ou plusieurs caractères de texte complets dans l'appel. Le nœud (12, 20) exécute également un conditionnement et un déconditionnement de signaux de l'appel pour une transmission et une réception fiable sur le canal codé vocalement (18).</p></abstract><abstract mxw-id="PA139545494" ref-ucid="WO-2014128652-A1" lang="FR" source="national office" load-source="docdb"><p>Un nœud de communication (12, 20) traite un appel pris en charge sur un canal codé vocalement (18) dans un réseau de communications sans fil (10). Le nœud (12, 20) tente de désigner l'appel comme un appel vocal dès que l'appel est initié. Lorsque l'appel est désigné comme un appel vocal, le nœud (12, 20) limite un traitement de l'appel comme un appel de téléphonie en mode texte afin de surveiller passivement un ou plusieurs caractères de texte partiels ou complets dans l'appel. En réponse à la détection d'un ou plusieurs caractères de texte partiels ou complets dans l'appel via cette surveillance passive, le nœud (12, 20) désigne l'appel comme un appel de téléphonie en mode texte. Lorsque l'appel est désigné comme un appel de téléphonie en mode texte, le nœud (12, 20) exécute un traitement complet de l'appel comme un appel de téléphonie en mode texte en détectant passivement un ou plusieurs caractères de texte complets dans l'appel. Le nœud (12, 20) exécute également un conditionnement et un déconditionnement de signaux de l'appel pour une transmission et une réception fiable sur le canal codé vocalement (18).</p></abstract><description mxw-id="PDES78477766" ref-ucid="WO-2014128652-A1" lang="EN" load-source="patent-office"><!-- EPO <DP n="2"/>--><p id="p0001" num="0001"> LIMITING PROCESSING OF CALLS AS TEXT TELEPHONY CALLS </p><p id="p0002" num="0002">TECHNICAL FIELD </p><p id="p0003" num="0003"> The present invention relates generally to text telephony, and particularly relates to processing a text telephony call supported over a voice coded channel in a wireless communication network. </p><p id="p0004" num="0004">BACKGROUND </p><p id="p0005" num="0005"> Text telephony encompasses transmitting text characters in-band and in real-time between distant parties using telephonic systems and equipment traditionally designed to transmit human speech. By transmitting text characters, instead of or in addition to human speech, text telephony enables deaf, hard of hearing, or speech-impaired people to communicate in a call. </p><p id="p0006" num="0006"> Transporting text characters over a wireless communication network, however, proves challenging. A wireless communication network transports a call over a voice coded channel. A voice coded channel is a channel that is specifically optimized for transporting human speech with an acceptable call quality. A voice coded channel for instance employs lossy compression schemes optimized for transporting human speech by transporting parameters of a speech model instead of a digitized representation of the speech waveform. A voice coded channel therefore saves bandwidth in transporting human speech. In transporting text characters, however, a voice coded channel proves unreliable, with an unacceptable character error rate. </p><p id="p0007" num="0007"> Accordingly, known approaches to addressing this problem condition the signals of all calls in the wireless communication network in a specific way, so that those signals can be reliably transported over the voice coded channel in case they represent text characters. Where the signals represent Baudot encoded text characters, for instance, these known approaches transcode the text characters to be represented with a 4 tone frequency shift keying (FSK) format which is transmitted via sophisticated features such as interleaving and convolutional coding. Represented in this 4 tone FSK format, the text characters can be more reliably transported over the voice coded channel, since the frequency of these 4 FSK tones are more compatible with the speech codec and it also augments the original TTY bit rate from 45.5bps to 400bps, providing the needed extra bits (per FSK) for the convolutional coding. Implementing this conditioning, however, proves expensive in terms of processing and memory requirements. </p><p id="p0008" num="0008">SUMMARY </p><p id="p0009" num="0009"> One or more embodiments herein broadly designate a call as a voice call or a text telephony call and exploit that designation to advantageously reduce the burden on the processing circuits and/or memory of a communication node processing the call. In particular, the embodiments initially designate the call as a voice call, and then limit text telephony 
<!-- EPO <DP n="3"/>-->
 processing of that call unless and until the call is designated as a text telephony call. If and when the call is designated as a text telephony call, the call is fully processed as a text telephony call by conditioning signals of the call for reliable transport over a voice coded channel. </p><p id="p0010" num="0010"> This means that the communication node avoids needlessly conditioning signals of calls that are actually voice calls, and thereby reduces the burden on the node's processing circuits and memory. Where the communication node processes multiple calls, reducing the burden on the node's processing circuits and memory for processing a voice call translates in some embodiments into additional capacity for processing even more calls while still providing text telephony call capability. </p><p id="p0011" num="0011"> More generally, embodiments herein include a method performed by a communication node for processing a call supported over a voice coded channel in a wireless communication network. The method includes tentatively designating the call as a voice call as soon as the call is initiated. The method further entails, while the call is designated as a voice call, limiting processing of the call as a text telephony call to passively monitoring for one or more partial or complete text characters in the call. With processing of the call as a text telephony call limited to such passive monitoring, processing excludes (i.e., the communication node refrains from) conditioning and de-conditioning signals of the call for reliable transmission and reception over the voice coded channel. The method however further includes, responsive to detecting one or more partial or complete text characters in the call via this passive monitoring, designating the call as a text telephony call. While the call is designated as a text telephony call, the method entails fully processing the call as a text telephony call. Fully processing the call as a text telephony call means passively detecting for one or more complete text characters in the call, as well as conditioning and de-conditioning signals of the call for reliable transmission and reception over the voice coded channel. </p><p id="p0012" num="0012"> In at least some embodiments, the communication node is configured to process multiple calls and to maintain a pool of shared resources. In this case, the method further entails responsive to detecting one or more partial or complete text characters in a call, releasing resources at the communication node performing limited processing of that call. The method then includes selecting a resource for performing full processing of the call from a pool of shared resources that are available at the communication node for fully processing a subset of the multiple calls processed by the communication node. </p><p id="p0013" num="0013"> Regardless, in one or more embodiments, the communication node sets an initial state of the passive detection to be performed while the call is designated as a text telephony call with a final state of the passive monitoring already performed while the call was designated as a voice call (where a state of passive detection or monitoring includes the data and processing state thereof). This way, any partial or complete text character(s) detected by limited processing 
<!-- EPO <DP n="4"/>-->
 of the call (at least in the speech encoding direction) will be treated by full processing of the call and therefore transported reliably over the channel by the full processing's signal conditioning. </p><p id="p0014" num="0014"> In some embodiments, passive monitoring entails monitoring for a complete initial text character in the call. Monitoring for a complete initial text character in this way advantageously achieves an appropriate false designation rate. Additionally or alternatively, the designation of a call as a text telephony call responsive to detection of one or more partial or complete text characters while the call is designated as a voice call is in some embodiments a tentative designation pending confirmation during full processing of the call as a text telephony call. </p><p id="p0015" num="0015"> The communication node in some embodiments monitors for one or more partial or complete text characters from a signal of the call that the node is to transmit over the voice coded channel. In this case, passive monitoring inspects multiple sets of blocks of discrete-time samples from the call in order to identify whether those multiple sets of blocks collectively convey a text character. Specifically, monitoring entails, for each of multiple sets of blocks of discrete-time samples from the call, determining whether that set of blocks conveys a bit of a text character, and if so determining the value of that bit, based on the number of blocks in the set that contain a first text telephony tone, the number of blocks in the set that contain a second text telephony tone, and the number of blocks in the set that do not contain any text telephony tone. Monitoring further includes determining whether the multiple sets of blocks collectively convey a text character based on one or more rules that define a structure for the bit values of a text character. </p><p id="p0016" num="0016"> Alternatively or additionally to monitoring for one or more partial or complete text characters from a signal of the call that the node is to transmit over the voice coded channel, monitoring in some embodiments includes monitoring for a partial text character from a signal of the call that the node has received over the channel (i.e., in the speech decoding direction). More specifically, in one or more of these embodiments, monitoring entails monitoring for a partial text character from a signal of a text telephony call that has leaked through the channel to the communication node without having been conditioned for reliable transport over that channel (e.g., without having been text transcoded, such as with a 4 tone FSK signal). </p><p id="p0017" num="0017"> In this case, monitoring includes estimating a sequence of tones respectively associated with a sequence of frames of the voice coded channel from noisy discrete-time samples of the leaked-through signal. Monitoring then entails estimating a sequence of bit values </p><p id="p0018" num="0018">corresponding to the sequence of tones and determining, based on one or more rules that define a structure for the bit values of a text character, whether the sequence of bit values is characteristic of a partial text character. </p><p id="p0019" num="0019"> In one or more embodiments, one of these rules defines a rigid structure for the bit values of a text character, assuming that the sequence of bit values will be correctly estimated despite the signal leaking through unconditioned. Another one of the rules defines a flexible structure for the bit values of a text character, assuming that at least some of the bit values in 
<!-- EPO <DP n="5"/>-->
 the sequence of bit values will be incorrectly estimated due to the signal leaking through unconditioned. By including this flexible structure, the rules prove robust in determining the general presence of a partial text character in the leaked-through signal. </p><p id="p0020" num="0020"> Of course, the present invention is not limited to the above features and advantages. Indeed, those skilled in the art will recognize additional features and advantages upon reading the following detailed description, and upon viewing the accompanying drawings. </p><p id="p0021" num="0021">BRIEF DESCRIPTION OF THE DRAWINGS </p><p id="p0022" num="0022"> Figure 1 is a block diagram of a wireless communication device and a wireless communication network that includes a network node configured according to one or more embodiments herein. </p><p id="p0023" num="0023"> Figure 2 is a logic flow diagram of a method performed by a communication node for processing a call supported over a voice coded channel in a wireless communication network, according to one or more embodiments. </p><p id="p0024" num="0024"> Figure 3 is a logic flow diagram illustrating additional details of the method in Figure 2, according to one or more embodiments. </p><p id="p0025" num="0025"> Figure 4 is a logic flow diagram illustrating passive monitoring for one or more partial or complete text characters from a signal of a call to be transmitted over a voice coded channel, according to some embodiments. </p><p id="p0026" num="0026"> Figure 5 is a logic flow diagram illustrating passive monitoring for a partial text character from a signal of a call leaked through a voice coded channel, according to some embodiments. </p><p id="p0027" num="0027"> Figures 6A and 6B are a logic flow diagram illustrating exemplary details of the passive monitoring in Figure 5, according to one or more embodiments. </p><p id="p0028" num="0028"> Figure 7 is a block diagram of a communication node configured to process a call supported over a voice coded channel in a wireless communication network, according to one or more embodiments. </p><p id="p0029" num="0029"> Figure 8 is a block diagram of processing resources instantiated by the one or more processing circuits of the communication node of Figure 7, according to some embodiments. DETAILED DESCRIPTION </p><p id="p0030" num="0030"> Figure 1 depicts a wireless communication network 10 configured to support a call between a wireless communication device 12 and one or more other communication devices (e.g., landline telephone 14 connected to the public switched telephone network, PSTN, 16). The network 10 in this regard is nominally optimized for the case where the call just comprises human speech. Indeed, the network 10 transports the call to and from the device 12 over a voice coded channel 18 that is optimized for transporting human speech with an acceptable call quality. 
<!-- EPO <DP n="6"/>-->
 In the case where the call additionally or alternatively comprises text characters, the network 10 still transports the call to and from the device 12 over the voice coded channel 18. However, in order for the text characters of the call to be transported with an acceptable character error rate, the signals of the call must be conditioned before transmission over the voice coded channel 18 and de-conditioned upon reception. Where the call comprises Baudot encoded text characters, for instance, conditioning in some embodiments entails the device 12 transcoding the Baudot encoded characters into a 4-tone FSK format with interleaving and convolutional coding for transport to the network 10 over the voice coded channel 18. In this case, de-conditioning entails a node 20 in the network 10 (e.g., a media gateway) recovering the original Baudot encoded characters from the 4-tone FSK format. </p><p id="p0031" num="0031"> Conditioning and de-conditioning the call in this way, though, is expensive in terms of the burden that it imposes on the processing circuits and memory at the device 12 and network node 20. Embodiments herein recognize that this expense proves unnecessary unless the call in fact comprises text characters. The embodiments thereby broadly designate the call as a voice call or a text telephony call and exploit that designation to advantageously reduce the burden on the processing circuits and memory of the device 12 and/or network node 20. Figure 2 illustrates additional details of one such embodiment that includes a method performed by a communication node (e.g., the device 12 or network node 20) for processing a call supported over the voice coded channel 18. </p><p id="p0032" num="0032"> As shown in Figure 2, the method 100 at the communication node includes tentatively designating the call as a voice call as soon as the call is initiated (Block 1 10). With this designation occurring as soon as (i.e., immediately or shortly after) the call is initiated, the designation is the first (i.e., initial) time that the call is designated as being of a certain type. And with this initial designation being tentative, the designation is subject to change. Moreover, the designation as a voice call is unconditional because under no circumstances will the call be initially designated as a text telephony call. Indeed, in one or more embodiments, this initial designation of the call is performed as part of a broader strategy at the communication node to initially designate all calls as voice calls, even those that comprise text characters and are therefore actually text telephony calls. </p><p id="p0033" num="0033"> Regardless, Figure 2 shows that the method 100 further entails, while the call is designated as a voice call, limiting processing of the call as a text telephony call to passively monitoring for one or more partial or complete text characters in the call (Block 120). Monitoring for one or more partial or complete text characters is passive in the sense that monitoring comprises non-destructively processing signals of the call in an attempt to recognize one or more partial or complete text characters in the call, rather than receiving a control signal that explicitly or implicitly indicates whether the call comprise one or more partial or complete text characters. Furthermore, monitoring for a partial text character in at least some embodiments entails monitoring for one or more bits of a text character, where a text character includes not 
<!-- EPO <DP n="7"/>-->
 only alphanumeric characters but also a control character at the beginning of a call. </p><p id="p0034" num="0034">Regardless, with processing of the call as a text telephony call limited to such passive monitoring, processing excludes (i.e., the communication node refrains from) conditioning and de-conditioning signals of the call for reliable transmission and reception over the voice coded channel 18. </p><p id="p0035" num="0035"> The method 100 however further includes, responsive to detecting one or more partial or complete text characters in the call via this passive monitoring, designating the call as a text telephony call (Block 130). Since the call was previously designated as a voice call, this involves switching from designating the call as a voice call to designating the call as a text telephony call; that is, the call is re-designated to be a text telephony call. While the call is designated as a text telephony call, the method 100 entails fully processing the call as a text telephony call (Block 140). Fully processing the call as a text telephony call means passively detecting one or more complete text characters in the call, as well as conditioning and de- conditioning signals of the call for reliable transmission and reception over the voice coded channel 18 (respectively). That is, before transmitting signals of the call over the voice coded channel 18, the communication node conditions those signals for reliable transmission over the channel 18. And upon receiving signals of the call over the voice coded channel 18, the communication node de-conditions those signals in order to reliably receive the signals over the channel 18. </p><p id="p0036" num="0036"> The method 100 therefore conditions and de-conditions signals of a call if the call is indeed a text telephony call comprising text characters, and refrains from needlessly conditioning and de-conditioning signals of the call if that call is actually a voice call. Avoiding such needless conditioning and de-conditioning, the method advantageously reduces the burden on the processing circuits and/or memory of the communication node. </p><p id="p0037" num="0037"> In at least some embodiments, for instance, the communication node is configured to selectively instantiate either a "limited processing" resource or a "full processing" resource on an as needed basis in order to process a call as a text telephony call in a limited or full capacity. The limited processing resource is configured to perform limited processing of a call as a text telephony call. In some embodiments, for example, the limited processing resource is a text telephony monitor or detector configured to passively monitor for one or more partial or complete text characters in a call, without performing signal conditioning and de-conditioning. By contrast, a full processing resource is configured to perform full processing of a call as a text telephony call, including signal conditioning and de-conditioning. In some embodiments where the signals of a call conform to the Cellular Text Telephone Modem (CTM) protocol, for instance, a full processing resource is a CTM modem. Unless and until a call is designated as a text telephony call, the node only instantiates a limited processing resource for processing the call. If and when the call is designated as a text telephony call, though, the node instantiates a 
<!-- EPO <DP n="8"/>-->
 TUN processing resource Tor processing tne can ana replaces tne iimitea processing resource with the full processing resource. </p><p id="p0038" num="0038"> In one or more embodiments, a limited processing resource imposes a smaller burden on the communication node's processing circuits and memory than that imposed by a full processing resource. For example, a limited processing resource is implemented with fewer software instructions than that with which a full processing resource is implemented. Thus, by instantiating a limited processing resource for processing a voice call and avoiding instantiating a full processing resource for that call, the node's processing circuits and memory have more capacity to perform more calls and/or other tasks while processing the call. </p><p id="p0039" num="0039"> Note that, in at least some embodiments, the communication node processes only a single call. For example, where the communication node comprises the wireless </p><p id="p0040" num="0040">communication device 12, the device 12 processes just one call. Regardless, in such embodiments, reducing the burden on the communication node's processing circuits and memory for processing a voice call does not translate into reducing capacity requirements on the node's processing circuits and memory. Indeed, the node must be configured with processing circuits and memory that have the capacity to process the node's one call as a voice call or as a text telephony call. When the node processes a voice call, the node's processing circuits are burdened less (e.g., in term of millions instructions per second (MIPS) resource), but they must still have had the capacity to handle the call had it been a text telephony call. </p><p id="p0041" num="0041"> In other embodiments, by contrast, the communication node processes multiple calls. For example, where the communication node comprises the network node 20 (e.g., a media gateway), the node 20 in at least some embodiments processes multiple calls. Regardless, in these embodiments, reducing the burden on the node's processing circuits and memory for processing a voice call indeed translates into reducing requirements on the node's processing circuits and memory. Alternatively, this translates into additional capacity for processing even more calls while still providing text telephony call capability (e.g., in accordance with FCC mandate in the US). For example, rather than dedicating a full processing resource to each call, one or more embodiments effectively replace some of those full processing resources deemed unnecessary with more numerous limited processing resources in order to gain capacity for processing additional voice calls while still meeting the demand for processing text telephony calls. </p><p id="p0042" num="0042"> Particularly with regard to this alternative, the node realizes the additional call capacity by maintaining a pool of shared full processing resources. In one or more embodiments where the signals of calls conform to the Cellular Text Telephone Modem (CTM) protocol, for instance, the pool of shared resources is a pool of shared CTM modem resources. Regardless, these shared resources are available at the node for fully processing a subset of the multiple calls processed by the node (where a "subset" herein refers to a smaller portion of a set). Since in 
<!-- EPO <DP n="9"/>-->
 practice a greater number of calls are voice calls than text telephony calls, the size of this subset in at least some embodiments is substantially less than (i.e., &lt; 1 % of) the total number of calls processed by the node. Irrespective of the particular subset size, though, shared resources are allocated from the pool on an as needed basis in order to fully process calls that have been designated as text telephony calls. Upon completion of a text telephony call, the shared resource that fully processed that call is released and returned back to the pool for subsequent re-allocation. A shared resource is not allocated to a call unless and until the call is designated as a text telephony call. Indeed, until such designation, only a limited processing resource is allocated to the call for performing limited processing of the call. </p><p id="p0043" num="0043"> Such embodiments realize a quantifiable gain in the node's capacity to process calls.</p><p id="p0044" num="0044">Consider for instance an example where the node's processing circuits comprise one or more digital signal processors (DSPs). In this case, each DSP has the capacity to instantiate processing resources, including limited and/or full processing resources, for processing a number of calls. Absent embodiments herein, any given DSP dedicates a full processing resources for each call, meaning that the DSP has the capacity to process N<sub>c</sub> calls: </p><p id="p0045" num="0045">Nc = ^ . (1)</p><p id="p0046" num="0046">M<sub>v</sub> +M<sub>S</sub> +M<sub>C</sub> where M<sub>D</sub> is the number of million instructions per second (e.g., MIPS) that a DSP can execute, M<sub>v</sub> is the number of MIPS that the DSP needs to run the speech codec per call,M<sub>s</sub> is the number of MIPS that the DSP needs to run the speech processes per call, and M<sub>c</sub> is the number of MIPS that the DSP needs to run a full processing resource per call. By contrast, according to one or more embodiments herein, any given DSP allocates a limited processing resource as well as a speech process to each voice call, and allocates a full processing resource to each text telephony call. In this case, the given DSP has the capacity to process N<sub>L</sub> calls: </p><p id="p0047" num="0047">N<sub>r</sub> (2) a<sub>s</sub>(M<sub>v</sub> +M<sub>S</sub> +M<sub>L</sub>) + (\ - a<sub>s</sub>)(M<sub>v</sub> +M<sub>C</sub>) where M<sub>L</sub> is the number of MIPS that the DSP needs to execute a limited processing resource per call and a<sub>s</sub> is the fraction of voice calls initiated in the DSP as fully loaded. 
<!-- EPO <DP n="10"/>-->
 The gain G in call capacity is therefore estimated as: </p><p id="p0048" num="0048">G = ^ </p><p id="p0049" num="0049"> M<sub>v</sub> +M<sub>S</sub> +M<sub>C</sub> </p><p id="p0050" num="0050"> a<sub>s</sub>(M<sub>v</sub> +M<sub>s</sub> +M<sub>L</sub>) + (\ - ¾)( <sub>v</sub> +M<sub>C</sub>) </p><p id="p0051" num="0051"> M<sub>v</sub> +M<sub>S</sub> +M<sub>C</sub> (3)</p><p id="p0052" num="0052"><sup>"</sup> (M<sub>v</sub> +M<sub>S</sub> +M<sub>C</sub>) - ((1 - a<sub>s</sub>)M<sub>s</sub> + a<sub>s</sub>(M<sub>c</sub> -M<sub>L</sub>)) </p><p id="p0053" num="0053"> 1 </p><p id="p0054" num="0054"><sup>"</sup><sub>1</sub> (\ - a<sub>s</sub>)M<sub>s</sub> + a<sub>s</sub>(M<sub>c</sub> -M </p><p id="p0055" num="0055"> (M<sub>v</sub> +M<sub>S</sub> +M<sub>C</sub>) </p><p id="p0056" num="0056">Notably, this gain G is always greater than 1 , since the second term in the denominator is positive and has a value of less than 1 . </p><p id="p0057" num="0057"> Of course, despite this increased capacity for processing calls, any given DSP may still reach capacity and not be able to process a newly initiated call. In at least some embodiments, therefore, this new call will be processed by another DSP at the communication node that still has capacity. </p><p id="p0058" num="0058"> In one embodiment, the communication node sets an initial state of the passive detection to be performed while the call is designated as a text telephony call with a final state of the passive monitoring already performed while the call was designated as a voice call (where a state of passive monitoring includes the data and processing state thereof). This way, any text characters detected by limited processing of the call will be considered as detected by full processing of the call and therefore transported reliably over the channel 18 by the full processing's signal conditioning. </p><p id="p0059" num="0059"> In some embodiments, an appropriate false designation rate is achieved by passively monitoring for a complete initial text character before designating a call as a text telephony call. Moreover, in one embodiment, the false designation rate is retroactively rejected or suppressed by requiring that any text telephony designation made during limited processing be confirmed next by the full processing, i.e., limited processing text telephony designations are merely tentative designations. Figure 3 illustrates the details of such an embodiment, as well as the details of one or more other embodiments herein. </p><p id="p0060" num="0060"> As shown in Figure 3, the communication node tentatively designates a call as a voice call as soon as the call is initiated (Block 205). With the call initially designated as a voice call ("Voice Call" at Block 210), the node transmits and receives signals of the call through the voice coded channel 18 without conditioning and de-conditioning those signals for reliable transport (Block 215). Meanwhile, the node passively monitors for a complete initial text character in the call (Block 220). While a complete initial text character is not detected (NO at Block 225), the node continues to limit processing of the call as a text telephony call in this way. However, if and when a complete initial text character is detected (YES at Block 225), the node tentatively 
<!-- EPO <DP n="11"/>-->
 designates the call as a text telephony call, pending confirmation during full processing of the call as a text telephony call (Block 230). In order to ensure reliable transmission of that complete initial text character, the node sets an initial state of passive detection to be performed while the call is designated as a text telephony call with the final state of passive monitoring already performed while the call was designated as a voice call (Block 235). This way, the complete initial text character will be treated as detected by the full processing of the call as a text telephony call and will therefore be transmitted reliably with signal conditioning. And in those embodiments where the node maintains a pool of shared full processing resources, the node releases resources performing limited processing of the call and selects a resource for performing full processing of the call from that pool (Block 240). </p><p id="p0061" num="0061"> With the call now at least tentatively designated as a text telephony call ("Text </p><p id="p0062" num="0062">Telephony Call" at Block 210) and with the initial state of passive detection to be performed set to the final state of the passive monitoring already performed, the node passively detects one or more (e.g., subsequent) complete text characters in the call and reliably transports those characters over the voice coded channel 18, as the node transmits and receives signals of the call through the channel 18 for reliable transport (block 245). Detection may entail for instance performing baudot character detection in the speech encoding direction and CTM character demodulation in the speech decoding direction. That said, the node's full processing of the call in this way is probationary until passive monitoring confirms the call is in fact a text telephony call. </p><p id="p0063" num="0063"> Specifically in this regard, the node determines whether or not it is within a confirmation period (Block 255). In at least some embodiments, this confirmation period begins when a call is tentatively designated as a text telephony call and continues for a maximum duration of text telephony call negotiation (e.g., 4 seconds). Regardless, if the node is within the confirmation period (YES at Block 255), then the node determines whether the call's designation as a text telephony call has been confirmed by the full processing. If the call's designation is not confirmed by the end of the confirmation period (NO at Block 265), then the current designation is deemed a false designation and the call is re-designated to a voice call again (Block 265). In those embodiments where the node maintains a pool of shared full processing resources, the node releases the shared resource performed full processing of the call and instantiates a resource for performing limited processing again (Block 270). Processing of the call then continues as before, without signal conditioning and de-conditioning. On the other hand, if the call's designation is indeed confirmed by the end of the confirmation period (YES at Block 265), then full processing of the call continues with signal conditioning and de-conditioning. Then, later, when the node is no longer in the confirmation period (NO at Block 255), the node unconditionally performs full processing of the call as a text telephony call, meaning that a full processing resource is allocated to the call for the rest of the call's duration. 
<!-- EPO <DP n="12"/>-->
 The communication node in some embodiments passively monitors for one or more partial or complete text characters from a signal of the call that the node is to transmit over the voice coded channel 18. Figure 4 illustrates additional details of such passive monitoring according to at least one embodiment. </p><p id="p0064" num="0064"> In the embodiment of Figure 4, passive monitoring inspects multiple sets of blocks of discrete-time samples from the call in order to identify whether those multiple sets of blocks collectively convey a text character. Specifically, for each set of blocks, the node determines the number of blocks in the set that contain a first text telephony tone, the number of blocks in the set that contain a second text telephony tone, and the number of blocks in the set that do not contain any text telephony tone (Block 310). The node then determines whether that set of blocks conveys a bit of a text character, and if so determines the value of that bit, based on the number of blocks containing the first tone, second tone, and no tone (Block 320). Having determined if and what bit of a text character each of the sets of blocks convey, the node determines whether the multiple sets of blocks collectively convey a text character based on one or more rules that define a structure for the bit values of a text character (Block 330). </p><p id="p0065" num="0065"> Note that in some embodiments text character detection when the call is designated as a text telephony call involves text transcoding of the call (e.g., from one text character format to another). However, in at least some embodiments herein, the communication node refrains from performing text transcoding of the call (Block 340) as part of text character monitoring when the call is designated as a voice call. Thus, passive monitoring in this case consists of (i.e., exclusively entails) determining whether the multiple sets of blocks collectively convey a text character as described above, without then transcoding that text character into a different format. </p><p id="p0066" num="0066"> Consider a specific example of Figure 4 where a text telephony call comprises a Global Text Telephony (GTT) call with Baudot encoded Teletypewriter (TTY) characters. In this case, the TTY Baudot signal to be transmitted is an FSK signal composed of a sequence of two frequency tones, namely 1400 Hz and 1800 Hz. A frequency tone of 1400 Hz represents a binary bit with a value of 1 , while a frequency tone of 1800 Hz represents a binary bit with a value of 0. Each frequency tone has a duration of 20 ms (for a 50 bits/s transmission) or 22.5 ms (for a 45.5 bits/s transmission). TTY characters are represented with a certain defined structure of bit values. Specifically, each TTY character is represented with 5 bit values, with different characters being represented by different sets of bit values. Each TTY character is preceded by a start bit (e.g., a bit with a value of 0) and followed by one or more stop bits (e.g., a bit with a value of 1). </p><p id="p0067" num="0067"> Passive monitoring from such a signal involves three stages. These three stages, in at least some embodiments, resemble character detection performed during full processing, e.g., according to the GTT standard. Regardless, the three stages include: "TTY Block </p><p id="p0068" num="0068">Classification", "TTY Block to TTY Bit Classification", and "TTY Bit to TTY Character 
<!-- EPO <DP n="13"/>-->
 Classification". "TTY Block Classification" entails dividing every 160 samples of Pulse Code Modulation (PCM) data into 10 blocks of 16-sample data. Each block (also referred to as a dit) is classified as one of three different types of blocks: NON_TTY, LOGIC_0, and LOGIC_1 . A NON_TTY block is a block that contains no TTY tone. A LOGIC_0 block is a block that contains an 1800 Hz tone. A LOGIC_1 block is a block that contains a 1400 Hz tone. This classification is based on comparing and thresholding energy (derived via Discrete Fourier Transform) at 1400 Hz or 1800 Hz to the energy of a complete block of 16-sample data. </p><p id="p0069" num="0069"> The "TTY Block to TTY Bit Classification" stage receives a sequence of blocks classified by the "TTY Block Classification" stage. The blocks in this sequence are evaluated sequentially within a searching window. The blocks evaluated within any given searching window is referred to as a set of blocks. The communication node determines if this set of blocks conveys a bit of a TTY character and if so to determine the value of that bit. Specifically, the set of blocks is classified as either a TTY binary bit with a value of 1 , a TTY binary bit with a value of 0, or neither of the above (i.e., TTY UNKNOWN). The set of blocks is classified as a TTY binary bit with a value of 1 if the set includes a minimum of 6 blocks that were classified as LOGIC_1 blocks, includes a maximum of 2 blocks that were classified as LOGIC_0 blocks, and includes a maximum of 5 blocks that were classified as NON_TTY blocks. Conversely, the set of blocks is classified as a TTY binary bit with a value of 0 if the set includes a minimum of 6 blocks that were classified as LOGIC_0 blocks, includes a maximum of 2 blocks that were classified as LOGIC_1 blocks, and includes a maximum of 5 blocks that were classified as NON_TTY blocks. Finally, the set of blocks is classified as TTY UNKNOWN if the block cannot be classified as a TTY binary bit. </p><p id="p0070" num="0070"> Finally, the "TTY Bit to TTY Character Classification" stage receives a sequence of the sets of blocks classified by the "TTY Block to TTY Bit Classification" stage. This sequence is evaluated and classified as a TTY character based on one or more rules that define a structure for the bit values of a TTY character. For example, one rule specifies that the start bit of a TTY character must be a TTY binary bit with a value of 0. Another rule specifies that the start bit must be followed by 5 TTY binary bits each having a value of 0 or 1 . Yet another rule specifies that these 5 bits must be followed by one or more stop bits (i.e., TTY binary bits that have a value of 1 ). Still another rule specifies that the length of a candidate TTY character, in blocks, must be within a minimum threshold and a maximum threshold. Finally, another rule specifies that the total number of TTY bits with an UNKNOWN classification must be less than a defined threshold. If the sequence is classified as a TTY character, then such amounts to detecting a TTY character in the call, meaning that the call will be designated as a text telephony call. </p><p id="p0071" num="0071"> Text character detection when the call is designated as a text telephony call subsequently includes a "TTY Character to T140 Character Encoding" stage. In this stage, each detected TTY character (in 5-bit Baudot encoded format) is transcoded or otherwise mapped to a Universal T140 character format (an 8 bit encoded format). However, in at least 
<!-- EPO <DP n="14"/>-->
 some embodiments, text character monitoring when the call is designated as a voice call excludes this transcoding stage. </p><p id="p0072" num="0072"> Alternatively or additionally to monitoring for one or more partial or complete text characters from a signal of the call that the node is to transmit over the channel 18, monitoring in some embodiments includes monitoring for a partial text character from a signal of the call that the node has received over the channel 18. More specifically, in one or more of these embodiments, monitoring entails monitoring for a partial text character from a signal of a text telephony call that has leaked through the channel 18 to the communication node without having been conditioned for reliable transport over that channel 18. </p><p id="p0073" num="0073"> In one embodiment, for instance, both the wireless communication device 12 and the network node 20 process a call as described herein. When the device 12 initially designates a text telephony call as a voice call, the device 12 transmits a signal of the call to the network node 20 without conditioning the signal for reliable transport over the voice coded channel 18. The signal is considered to have "leaked" through the channel 18 without conditioning. Indeed, although the signal to follow will eventually be conditioned since it conveys text characters of a text telephony call, the beginning part of the signal has not been conditioned immediately since the device 12 requires at least a small amount of time to detect a partial or a complete text character before actually designating the call as a text telephony call. </p><p id="p0074" num="0074"> The network node 20 will not be able to specifically and reliably decipher text characters from the leaked-through signal, since the text characters will have been distorted by the voice coded channel 18 without signal conditioning. Nonetheless, the node 20 herein advantageously monitors for a partial text character in at least a general sense from the leaked-through signal. In some embodiments, for instance, the node 20 monitors for the general presence of a partial text character, without attempting to determine the specific values of that text character. </p><p id="p0075" num="0075">Regardless, when the node 20 detects a partial text character in at least a general sense from the leaked-through signal, the node 20 designates the call as a text telephony call. Meanwhile, when the device 12 detects one or more text partial or complete characters from the signal that it is transmitting through the channel 18, the device 12 itself designates the call as a text telephony call and begins conditioning the signal for reliable transport. Of course, the same can be said for the node 20 transmitting a signal of the call to the device 12. </p><p id="p0076" num="0076"> In at least some embodiments, passive monitoring from a signal transmitted through the channel 18 (i.e., in the speech encoding direction) is asymmetric from passive monitoring from a signal received through the channel 18 (i.e., in the speech decoding direction), at least in terms of partial or complete text character monitoring. In one embodiment, for example, the node 20 monitors for a complete text character from a signal to be transmitted through the channel 18, while monitoring for a partial text character from a signal received through the channel 18. The same can be said for the device 12. This way, only a partial text character is allowed to be leaked through the channel 18 without signal conditioning. 
<!-- EPO <DP n="15"/>-->
 Regardless, passively monitoring for a partial text character from a signal leaked through the voice coded channel 18 proves more challenging than passively monitoring for one or more partial or complete text characters from a signal to be transmitted through the channel 18, since a partial text character will be distorted in the leaked-through signal by the speech encoding. Figure 5 illustrates at least some embodiments for performing this passive monitoring. </p><p id="p0077" num="0077"> As shown in Figure 5, monitoring 400 by a communication node includes estimating a sequence of tones respectively associated with a sequence of frames of the voice coded channel 18 from noisy discrete-time samples of the leaked-through signal (Block 410). </p><p id="p0078" num="0078">Monitoring 400 then entails estimating a sequence of bit values corresponding to the sequence of tones and determining, based on one or more rules that define a structure for the bit values of a text character, whether the sequence of bit values is characteristic of a partial text character (Block 420). </p><p id="p0079" num="0079"> The sequence of tones may be estimated using any number of possible approaches, whether parametric or non-parameteric. In at least some embodiments, though, the sequence of tones is estimated using linear prediction property estimation. In one embodiment, for example, Prony estimation is used to estimate the tone sequence by extracting information from uniform samples of the leaked-through signal and building a series of modulated sinusoids. More specifically, the leaked-through signal x(n) sampled at n is modeled as: </p><p id="p0080" num="0080"> x(n) = a(n)<sup>■</sup> cos(co<sub>0</sub>n + ψ) + q(n) , (4) where a(n) is a slowly varying amplitude modulation resulting from the signal having been voice encoded, ω<sub>0</sub> is the tone of the signal, φ is the phase shift of the tone, and q(n) is the additive random noise component. Based on the linear predictive property, x(n) is filtered to yield an error function e(n) of the form: </p><p id="p0081" num="0081"> e(n) = x(«) - 2 · cos(#&gt;) · x(« - 1) + x(« - 2) , (5) where φ is the frequency of the tone to be estimated. The frequency estimate ω<sub>0</sub> , which minimizes the sum of square of e(n) , is determined as: ω '.o = arg (6) 
<img id="imgf000015_0001" he="22" wi="82" file="imgf000015_0001.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="no"/>
 </p><p id="p0082" num="0082"> That said, the estimate ω<sub>0</sub> is biased, since its value is function of the noise q(n) as well as the modulation term a(«) . The expected bias is therefore determined via the following estimation: </p><p id="p0083" num="0083"> E[e<sup>1</sup> (n)} = E ^x(n) - 2cos((p) - x(n - X) + x(n - 2)f } . (7) 
<!-- EPO <DP n="16"/>-->
 Regardless of the particular approach used for leaky tone estimation, the result is a sequence of detected tones {&lt;S<sub>0</sub>(l),&lt;»<sub>0</sub>(2),..} . The communication node estimates a bit value sequence corresponding to the tone sequence and determines whether the bit value sequence is characteristic of a partial text character being generally present. </p><p id="p0084" num="0084"> In at least some embodiments, this involves two components or stages, namely a continuity detection stage and a constraint detection stage. In the continuity detection stage, the communication node makes sure that the detected tone sequence is continuous (i.e., one tone after the other without gaps) and the tones in the sequence are all bounded between the two frequencies of the text telephony tones (e.g., between 1400 Hz and 1800 Hz). If this is the case, the constraint detection stage estimates a corresponding bit value sequence and determines whether the bit value sequence complies with certain constraints or rules that define what bit value structure is characteristic of a text character. </p><p id="p0085" num="0085"> In one or more embodiments, one of these rules defines a rigid structure for the bit values of a text character, assuming that the sequence of bit values will be correctly estimated despite the signal leaking through unconditioned. Another one of the rules defines a flexible structure for the bit values of a text character, assuming that at least some of the bit values in the sequence of bit values will be incorrectly estimated due to the signal leaking through unconditioned. By including this flexible structure, the rules prove robust in determining the general presence of a text character in the leaked-through signal. </p><p id="p0086" num="0086"> Consider example rules that exploit the unique location and permutation of the bit values in a sequence characteristic of a Baudot encoded TTY character. Specifically in this regard, a bit value sequence for a Baudot encoded TTY character always starts with a start bit that has a value of 0 (i.e., an 1800 Hz tone). Moreover, the bit value sequence for a Baudot encoded TTY character always has at least a certain number of bit value transitions (i.e., transitions between 1400 Hz and 1800 Hz). </p><p id="p0087" num="0087"> Accordingly, a rule that defines a rigid structure for the bit values of a text character specifies that a bit value sequence represents a text character if (a) the first bit value in the sequence is a start bit (i.e., 1800 Hz); and (b) there is at least one bit value transition among the bit values in the sequence after the start bit (i.e., at least one transition between 1400 Hz and 1800 Hz after the start bit). By contrast, a rule that defines a flexible structure for the bit values of a text character accounts for the fact that some of the tones in the sequence may not be recognizable as a bit value of a text character (i.e., a 1400 Hz or 1800 Hz tone used for text telephony) and/or some of the tones in the sequence may be erroneously recognized as the wrong bit value (i.e., 1800 Hz instead of 1400 Hz). Thus, a rule that defines a flexible structure specifies that a bit value sequence represents a text character if (a) the number of detected character bits (1800 Hz or 1400 Hz) is equal or greater than three; and (b) if there is at least one bit value transition among the bit values in the sequence after the start bit (i.e., at least one transition between 1400 Hz and 1800 Hz after the start bit). Such a flexible-structure rule 
<!-- EPO <DP n="17"/>-->
 robustly detects the general presence of a text character even if the text character's start bit is not recognizable in the leaked-through signal. </p><p id="p0088" num="0088"> Figure 6 illustrates detailed decision logic 500 implementing these example rules in the context of embodiments that employ Prony tone estimation on a subframe basis. That is, even though the tones of Baudot encoded TTY characters each have a duration of approximately 20 ms (defining a frame), the embodiments in Figure 6 nonetheless estimate the tone sequence with an estimation resolution of 10 ms (defining a subframe). This proves advantageous, for instance, where the framing is asynchronous between the wireless communication device 12 and the network node 20, such that frame boundaries at the device 12 and node 20 are not aligned. </p><p id="p0089" num="0089"> As shown, the decision logic maintains a number of state variables for determining whether a sequence of frames is characteristic of a partial Baudot encoded TTY character. These variables include "Number of Baudot frames detected", "Previous frame detected start bit", and "Number of frequency changes". </p><p id="p0090" num="0090"> A frame is associated for tone estimation purposes with two subframes, which may or may not be time-aligned with the frame. Prony tone estimation is employed to detect the tone of a first one of the subframes (Block 505). If the detected tone is not a Baudot tone (i.e., 1400 Hz or 1800 Hz) (NO at Block 510), then Prony tone estimation is employed to detect the tone of the second subframe (Block 515). If the detected tone is still not a Baudot tone (NO at Block 510 and 520), then the sequence of frames is determined as not being characteristic of a Baudot encoded TTY character (block 555) and the state variables are re-initialized (Block 525). If the detected tone for either of the two subframes is a Baudot tone, though, then the tone is considered as having been detected for the associated frame. </p><p id="p0091" num="0091"> Consider first Figure 6's implementation of a rule that defines a rigid structure for the bit values of a text character. Where this rule is met, the first frame in the sequence will represent the start bit with a tone of 1800 Hz, and there will be at least one frame transition between 1400 Hz and 1800 Hz. Figure 6 implements this rule by tracking when the first frame in a sequence has a tone of 1800 Hz (YES: 1800 Hz at Block 510, and NO at Block 530). When this occurs, Figure 6 sets the variable "previous frame detected start bit" to true (Block 535), sets the variable "previous frame detected" to 1800 Hz (Block 540), and increments the variable indicating the number of Baudot frames that have been detected (Block 545). Since only the start bit has been detected at this point, Figure 6 will not have detected any frequency changes yet (NO at Block 550) and will therefore not yet declare a Baudot character to have been detected (Block 555). </p><p id="p0092" num="0092"> However, if the next frame is detected as having a tone of 1400 Hz (YES: 1400 Hz at</p><p id="p0093" num="0093">Block 510, and YES at Block 560), then Figure 6 increments the variable indicating the number of frequency changes detected (Block 565). This means that a Baudot character will be 
<!-- EPO <DP n="18"/>-->
 detected (Block 580), since the number of frequency changes is at least 1 (YES at Block 550) and the start bit has been previously detected (YES at Block 575). </p><p id="p0094" num="0094"> Figure 6 will also detect a Baudot character if there is any frequency change after having detected the start bit, even if the change does not occur right after the start bit. Figure 6 realizes this functionality by incrementing the number of frequency changes detected (Block 585) when an 1800 Hz tone frame is detected (YES: 1800 Hz at Block 510) after having just detected an 1400 Hz tone frame (YES:1400 Hz at Block 530). Similarly, Figure 6 increments the number of frequency changes detected (Block 565) when a 1400 Hz tone frame is detected (YES: 1400 Hz at Block 510) after having just detected an 1800 Hz tone frame (YES at Block 560). </p><p id="p0095" num="0095"> Consider next Figure 6's implementation of a rule that defines a flexible structure for the bit values of a text character. Where this rule is met, at least three frames with a tone of 1400 or 1800 Hz will have been detected, and there will be at least one frame transition between 1400 Hz and 1800 Hz. Figure 6 implements this rule by tracking the number of Baudot frames detected (Block 545) When the number of detected frames becomes greater than 3 (YES at Block 575), and there has been at least one frequency change (YES at Block 550), Figure 6 detects a Baudot character (Block 580). </p><p id="p0096" num="0096"> Those skilled in the art will appreciate that while various embodiments herein were described in the context of Baudot encoded characters, no particular text telephony protocol is necessary for practicing the present invention. That is, a text telephony call may utilize any one of a number of different protocols, including for instance Global Text Telephony, V.21/text telephone version, European Deaf Telephone (EDT), Baudot @ 50 baud, Baudot @ 45.45 baud, or the like. Similarly, no particular wireless communication protocol is necessary for practicing the present invention. That is, the wireless communication network 10 may be any one of a number of standardized wireless networks, including for instance GSM, UMTS, GPRS, long term evolution (LTE), etc. </p><p id="p0097" num="0097"> Those skilled in the art will also appreciate that, where the communication node comprises network node 20, the node 20 in some embodiments is located in a core network of the wireless communication network 10. In one embodiment, for example, the network node 20 is a media gateway that interconnects the PSTN 16 with the wireless communication network 10. In other embodiments, though, the network node 20 is located in an access network of the wireless communication network 10. In one embodiment, for instance, the network node 20 is or is associated with a base station controller (BSC) in the access network. </p><p id="p0098" num="0098"> Regardless, text telephony call processing in at least some embodiments is </p><p id="p0099" num="0099">incorporated into all transcoding points in the wireless communication network 10. This way, no text telephony call capability information needs to be signaled to the network 10 by a wireless communication device 12. 
<!-- EPO <DP n="19"/>-->
 In one or more embodiments, the communication node itself includes a voice encoder and voice decoder realizing the voice encoded channel 18. In at least some embodiments, though, the communication node is functionally and/or physically separated from the node that implements voice encoding and decoding. </p><p id="p0100" num="0100"> Moreover, as shown, the device 12 itself physically includes a user interface (e.g., a keyboard and a display or printer) for receiving text characters as input from a user and for outputting text characters to the user, and one or more processing circuits for transmitting and receiving those text characters over the voice coded channel 18. In other embodiments, though, the device 12 includes an associated text telephony module that includes one or both of the user interface and processing circuits described. </p><p id="p0101" num="0101"> In view of the above modifications and variations, those skilled in the art will appreciate that a communication node herein is generally depicted as shown in Figure 7 for processing a call supported over a voice coded channel 18 in a wireless communication network 10. The communication node 22 includes one or more communication interfaces 24 and one or more processing circuits 26. The one or more communication interfaces 24 are configured to transmit and receive signals of the call over the voice coded channel 18. The one or more processing circuits 26, e.g., in cooperation with memory 28, are configured to tentatively designate the call as a voice call as soon as the call is initiated. While the call is designated as a voice call, the one or more processing circuits are configured to limit processing of the call as a text telephony call to passively monitoring for one or more partial or complete text characters in the call. </p><p id="p0102" num="0102">Responsive to detecting one or more partial or complete text characters in the call via said passive monitoring, the one or more processing circuits are configured to designate the call as a text telephony call. While the call is designated as a text telephony call, the one or more processing circuits are configured to fully process the call as a text telephony call by passively detecting one or more complete text characters in the call as well as conditioning and de- conditioning signals of the call for reliable transmission and reception over the voice coded channel 18. </p><p id="p0103" num="0103"> In at least some embodiments, the communication node's processing circuit(s) 26 (in cooperation with memory 28) realize this limited and full processing of a call as a text telephony call by respectively instantiating limited and full processing resources, as described above. Figure 8 illustrates the one or more processing circuit's instantiation in this regard, for when a call is designated as a voice call and when a call is designated as a text telephony call. Figure 8 illustrates this in a context where text characters are monitored both from a signal of the call to be transmitted over the voice coded channel 18 and from a signal of the call received over the voice coded channel 18. </p><p id="p0104" num="0104"> As shown in Figure 8, the one or more processing circuits 26 instantiate a limited processing resource 30 to process a call as a text telephony call in a limited capacity, while the call is designated as a voice call. The limited processing resource 30 passively monitors for one 
<!-- EPO <DP n="20"/>-->
 or more text partial or complete characters from a signal 32 of the call to be transmitted over the voice coded channel 18, as realized by voice encoder 34. The limited processing resource 30 also passively monitors for a partial text character from a signal 36 of the call received over the voice coded channel 18, as realized by voice decoder 38. </p><p id="p0105" num="0105"> If and when the call is re-designated as a text telephony call, the one or more processing circuits 26 replace instantiation of the limited processing resource 30 with instantiation of a full processing resource 40 (e.g., a CTM modem). The full processing resource 40 as compared to the limited processing resource 30 also conditions the signal 32 of the call to be transmitted for reliable transmission over the voice encoded channel 18. The full processing resource 40 provides this conditioned signal 42 to the voice encoder 34, via a switch S1 configured to dynamically switch between the unconditioned signal 32 and the conditioned signal 42. Likewise, the full processing resource 40 as compared to the limited processing resource 30 also de-conditions the signal 36 of the call received over the voice encoded channel 18. The full processing resource 40 provides the de-conditioned signal 44 to one or more additional circuits (not shown), via a switch S2 configured to dynamically switch between the received signal 36 and the de-conditioned signal 44. </p><p id="p0106" num="0106"> Those skilled in the art will appreciate that the various "circuits" and "resources" described may refer to a combination of analog and digital circuits, and/or one or more processors configured with software stored in memory and/or firmware stored in memory that, when executed by the one or more processors, perform as described above. One or more of these processors, as well as the other digital hardware, may be included in a single application- specific integrated circuit (ASIC), or several processors and various digital hardware may be distributed among several separate components, whether individually packaged or assembled into a system-on-a-chip (SoC). </p><p id="p0107" num="0107"> Thus, the present invention may be carried out in other ways than those specifically set forth herein without departing from essential characteristics of the invention. The present embodiments are to be considered in all respects as illustrative and not restrictive, and all changes coming within the meaning and equivalency range of the appended claims are intended to be embraced therein. 
</p></description><claims mxw-id="PCLM70078047" ref-ucid="WO-2014128652-A1" lang="EN" load-source="patent-office"><claim-statement><!-- EPO <DP n="21"/>-->CLAIMS  What is claimed is: </claim-statement><claim id="clm-0001" num="1"><claim-text> 1 . A method performed by a communication node (12, 20) for processing a call supported over a voice coded channel (18) in a wireless communication network (10), the method characterized by: </claim-text><claim-text> tentatively designating (1 10) the call as a voice call as soon as the call is initiated; while the call is designated as a voice call, limiting (120) processing of the call as a text telephony call to passively monitoring for one or more partial or complete text characters in the call; </claim-text><claim-text> responsive to detecting one or more partial or complete text characters in the call via said passive monitoring, designating (130) the call as a text telephony call; and while the call is designated as a text telephony call, fully processing (140) the call as a text telephony call by passively detecting one or more complete text characters in the call as well as conditioning and de-conditioning signals of the call for reliable transmission and reception over the voice coded channel (18). </claim-text></claim><claim id="clm-0002" num="2"><claim-text>2. The method of claim 1 , further characterized by setting an initial state of the passive detection to be performed while the call is designated as a text telephony call with a final state of the passive monitoring already performed while the call was designated as a voice call. </claim-text></claim><claim id="clm-0003" num="3"><claim-text>3. The method of any of claims 1 -2, wherein the communication node (12, 20) is configured to process multiple calls, and wherein the method is further characterized by, responsive to said detection via said passive monitoring, releasing resources at the </claim-text><claim-text>communication node (12, 20) performing said limited processing and selecting a resource for performing said fully processing from a pool of shared resources that are available at the communication node (12, 20) for fully processing a subset of the multiple calls processed by the communication node (12, 20). </claim-text></claim><claim id="clm-0004" num="4"><claim-text>4. The method of any of claims 1 -3, wherein passively monitoring for one or more partial or complete text characters in the call consists of: </claim-text><claim-text> for each of multiple sets of blocks of discrete-time samples from the call, determining (320) whether that set of blocks conveys a bit of a text character, and if so determining (320) the value of that bit, based on the number of blocks in the set that contain a first text telephony tone, the number of blocks in the set that contain a second text telephony tone, and the number of blocks in the set that do not contain any text telephony tone; and 
<!-- EPO <DP n="22"/>-->
 determining (330) whether said multiple sets of blocks collectively convey a partial or complete text character based on one or more rules that define a structure for the bit values of a text character. </claim-text></claim><claim id="clm-0005" num="5"><claim-text>5. The method of any of claims 1 -3, wherein passively monitoring for one or more partial or complete text characters in the call comprises passively monitoring for a partial text character from a signal of the call received over the voice coded channel (18) by the communication node (12, 20). </claim-text></claim><claim id="clm-0006" num="6"><claim-text>6. The method of any of claims 1 -3, wherein passively monitoring for one or more partial or complete text characters in the call comprises passively monitoring for a partial text character from a signal of a text telephony call that has leaked through the voice coded channel (18) to the communication node (12, 20) without having been conditioned for reliable transport over that channel (18). </claim-text></claim><claim id="clm-0007" num="7"><claim-text>7. The method of claim 6, wherein said passively monitoring comprises: </claim-text><claim-text> estimating (410) a sequence of tones respectively associated with a sequence of frames of the voice coded channel (18) from noisy discrete-time samples of the signal; and </claim-text><claim-text> estimating (420) a sequence of bit values corresponding to the sequence of tones and determining, based on one or more rules that define a structure for the bit values of a text character, whether the sequence of bit values is characteristic of a partial text character. </claim-text></claim><claim id="clm-0008" num="8"><claim-text>8. The method of claim 7, wherein one of the rules defines a rigid structure for the bit values of a text character assuming correct estimation of the sequence of bit values despite the signal leaking through unconditioned, and another one of the rules defines a flexible structure for the bit values of a text character assuming incorrect estimation of at least some bit values in the sequence due to the signal leaking through unconditioned. </claim-text></claim><claim id="clm-0009" num="9"><claim-text>9. The method of any of claims 1 -3, wherein passively monitoring for one or more partial or complete text characters in the call while the call is designated as a voice call comprises passively monitoring for a complete initial text character in the call. </claim-text></claim><claim id="clm-0010" num="10"><claim-text>10. The method of any of claims 1 -9, wherein designating the call as a text telephony call responsive to said detection via said passive monitoring comprises tentatively designating the call as a text telephony call pending confirmation during full processing of the call as a text telephony call. 
<!-- EPO <DP n="23"/>-->
</claim-text></claim><claim id="clm-0011" num="11"><claim-text>1 1 . A communication node (12, 20) configured to process a call supported over a voice coded channel (18) in a wireless communication network (10), the communication node (12, 20) comprising one or more communication interfaces (24) configured to transmit and receive signals of the call over the voice coded channel (18), and characterized by: </claim-text><claim-text> one or more processing circuits (26) configured to: </claim-text><claim-text> tentatively designate the call as a voice call as soon as the call is initiated; </claim-text><claim-text> while the call is designated as a voice call, limit processing of the call as a text telephony call to passively monitoring for one or more partial or complete text characters in the call; </claim-text><claim-text> responsive to detecting one or more partial or complete text characters in the call via said passive monitoring, designate the call as a text telephony call; and </claim-text><claim-text> while the call is designated as a text telephony call, fully process the call as a text telephony call by passively detecting one or more complete text characters in the call as well as conditioning and de-conditioning signals of the call for reliable transmission and reception over the voice coded channel (18). </claim-text></claim><claim id="clm-0012" num="12"><claim-text>12. The communication node of claim 1 1 , wherein the one or more processing circuits (26) are further configured to set an initial state of the passive detection to be performed while the call is designated as a text telephony call with a final state of the passive monitoring already performed while the call was designated as a voice call. </claim-text></claim><claim id="clm-0013" num="13"><claim-text>13. The communication node of any of claims 1 1 -12, wherein the communication node (12, 20) is configured to process multiple calls, and wherein the one or more processing circuits (26) are configured, responsive to said detection via said passive monitoring, to release resources at the communication node (12, 20) performing said limited processing and select a resource for performing said fully processing from a pool of shared resources that are available at the communication node (12, 20) for fully processing a subset of the multiple calls processed by the communication node (12, 20). </claim-text></claim><claim id="clm-0014" num="14"><claim-text>14. The communication node of any of claims 1 1 -13, wherein passive monitoring for one or more partial or complete text characters by the one or more processing circuits (26) consists of: for each of multiple sets of blocks of discrete-time samples from the call, determining whether that set of blocks conveys a bit of a text character, and if so determining the value of that bit, based on the number of blocks in the set that contain a first text telephony tone, the number of blocks in the set that contain a second text 
<!-- EPO <DP n="24"/>-->
 telephony tone, and the number of blocks in the set that do not contain any text telephony tone; and </claim-text><claim-text> determining whether said multiple sets of blocks collectively convey a partial or </claim-text><claim-text> complete text character based on one or more rules that define a structure for the bit values of a text character. </claim-text></claim><claim id="clm-0015" num="15"><claim-text>15. The communication node of any of claims 1 1 -13, wherein the one or more processing circuits (26) are configured to passively monitor for one or more partial or complete text characters in the call by passively monitoring for a partial text character from a signal of the call received over the voice coded channel (18) by the communication node (12, 20). </claim-text></claim><claim id="clm-0016" num="16"><claim-text>16. The communication node of any of claims 1 1 -13, wherein the one or more processing circuits (26) are configured to passively monitor for a partial text character from a signal of a text telephony call that has leaked through the voice coded channel (18) to the communication node (12, 20) without having been conditioned for reliable transport over that channel (18). </claim-text></claim><claim id="clm-0017" num="17"><claim-text>17. The communication node of claim 16, wherein the one or more processing circuits (26) are configured to passively monitor for a partial text character by: </claim-text><claim-text> estimating a sequence of tones respectively associated with a sequence of frames of the voice coded channel from noisy discrete-time samples of the signal; and estimating a sequence of bit values corresponding to the sequence of tones and </claim-text><claim-text> determining, based on one or more rules that define a structure for the bit values of a text character, whether the sequence of bit values is characteristic of a partial text character. </claim-text></claim><claim id="clm-0018" num="18"><claim-text>18. The communication node of claim 17, wherein one of the rules defines a rigid structure for the bit values of a text character assuming correct estimation of the sequence of bit values despite the signal leaking through unconditioned, and another one of the rules defines a flexible structure for the bit values of a text character assuming incorrect estimation of at least some bit values in the sequence due to the signal leaking through unconditioned. </claim-text></claim><claim id="clm-0019" num="19"><claim-text>19. The communication node of any of claims 1 1 -13, wherein the one or more processing circuits (26) are configured to passively monitor for one or more partial or complete text characters in the call during limited processing of the call as a text telephony call by passively monitoring for a complete initial text character in the call. 
<!-- EPO <DP n="25"/>-->
</claim-text></claim><claim id="clm-0020" num="20"><claim-text>20. The communication node of any of claims 1 1 -19, wherein the one or more processing circuits (26) are configured to designate the call as a text telephony call responsive to said detection via said passive monitoring by tentatively designating the call as a text telephony call pending confirmation during full processing of the call as a text telephony call. 
</claim-text></claim></claims><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
