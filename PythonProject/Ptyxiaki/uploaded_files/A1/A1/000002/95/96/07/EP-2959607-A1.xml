<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2959607-A1" country="EP" doc-number="2959607" kind="A1" date="20151230" family-id="51388621" file-reference-id="301920" date-produced="20180825" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="160453477" ucid="EP-2959607-A1"><document-id><country>EP</country><doc-number>2959607</doc-number><kind>A1</kind><date>20151230</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-14753678-A" is-representative="NO"><document-id mxw-id="PAPP193869922" load-source="patent-office" format="original"><country>EP</country><doc-number>14753678.3</doc-number><date>20140224</date><lang>EN</lang></document-id><document-id mxw-id="PAPP193869923" load-source="docdb" format="epo"><country>EP</country><doc-number>14753678</doc-number><kind>A</kind><date>20140224</date><lang>EN</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC162035478" ucid="KR-2014001472-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>KR</country><doc-number>2014001472</doc-number><kind>W</kind><date>20140224</date></document-id></priority-claim><priority-claim mxw-id="PPC162027633" ucid="US-201361768216-P" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>201361768216</doc-number><kind>P</kind><date>20130222</date></document-id></priority-claim><priority-claim mxw-id="PPC162033047" ucid="US-201414184240-A" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>201414184240</doc-number><kind>A</kind><date>20140219</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-1894789793" load-source="docdb">H04B  17/364       20150101ALI20160915BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1894789794" load-source="docdb">H04B  17/21        20150101ALI20160915BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1894789795" load-source="docdb">H04B  17/13        20150101ALI20160915BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1894789796" load-source="docdb">H04B  17/12        20150101ALI20160915BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1894789797" load-source="docdb">H04B  17/11        20150101ALI20160915BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1894789798" load-source="docdb">H04B   7/08        20060101ALN20160915BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1894789799" load-source="docdb">H01Q   3/26        20060101ALN20160915BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1894789800" load-source="docdb">H04B   7/04        20060101AFI20160915BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1894789801" load-source="docdb">H04W  16/28        20090101ALI20160915BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1894789802" load-source="docdb">H04B   7/06        20060101ALN20160915BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1892459414" load-source="docdb" scheme="CPC">H04B   7/04        20130101 LA20160929BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1897317726" load-source="docdb" scheme="CPC">H01Q   3/267       20130101 LA20160912BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1897317727" load-source="docdb" scheme="CPC">H04B  17/21        20130101 LI20160912BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987766056" load-source="docdb" scheme="CPC">H04B  17/364       20130101 LI20150512BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987766633" load-source="docdb" scheme="CPC">H04B  17/13        20130101 FI20150119BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987785760" load-source="docdb" scheme="CPC">H04B  17/12        20130101 LI20150512BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987797200" load-source="docdb" scheme="CPC">H04B  17/11        20130101 LI20150512BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT165551897" lang="DE" load-source="patent-office">VERFAHREN UND VORRICHTUNG ZUR KALIBRIERUNG MEHRERER ANTENNENANORDNUNGEN</invention-title><invention-title mxw-id="PT165551898" lang="EN" load-source="patent-office">METHOD AND APPARATUS FOR CALIBRATING MULTIPLE ANTENNA ARRAYS</invention-title><invention-title mxw-id="PT165551899" lang="FR" load-source="patent-office">PROCÉDÉ ET APPAREIL POUR ÉTALONNER DE MULTIPLES RÉSEAUX D'ANTENNES</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR1103305532" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>SAMSUNG ELECTRONICS CO LTD</last-name><address><country>KR</country></address></addressbook></applicant><applicant mxw-id="PPAR1103324435" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>SAMSUNG ELECTRONICS CO., LTD.</last-name></addressbook></applicant><applicant mxw-id="PPAR1101649392" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Samsung Electronics Co., Ltd.</last-name><iid>101391179</iid><address><street>Maetan-dong 129 Samsung-ro Yeongtong-gu</street><city>Suwon-si, Gyeonggi-do 443-742</city><country>KR</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR1103318488" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>MONROE ROBERT WILLIAM</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR1103334108" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>MONROE, Robert William</last-name></addressbook></inventor><inventor mxw-id="PPAR1101646265" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>MONROE, Robert William</last-name><address><street>3662 County Road 338</street><city>Melissa, Texas 75454</city><country>US</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR1101652862" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Nederlandsch Octrooibureau</last-name><iid>101379333</iid><address><street>P.O. Box 29720</street><city>2502 LS The Hague</city><country>NL</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="KR-2014001472-W"><document-id><country>KR</country><doc-number>2014001472</doc-number><kind>W</kind><date>20140224</date><lang>EN</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2014129863-A1"><document-id><country>WO</country><doc-number>2014129863</doc-number><kind>A1</kind><date>20140828</date><lang>EN</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS660718275" load-source="docdb">AL</country><country mxw-id="DS660793451" load-source="docdb">AT</country><country mxw-id="DS660718277" load-source="docdb">BE</country><country mxw-id="DS660751340" load-source="docdb">BG</country><country mxw-id="DS660638758" load-source="docdb">CH</country><country mxw-id="DS660728670" load-source="docdb">CY</country><country mxw-id="DS660793452" load-source="docdb">CZ</country><country mxw-id="DS660718278" load-source="docdb">DE</country><country mxw-id="DS660728675" load-source="docdb">DK</country><country mxw-id="DS660728676" load-source="docdb">EE</country><country mxw-id="DS660637253" load-source="docdb">ES</country><country mxw-id="DS660751341" load-source="docdb">FI</country><country mxw-id="DS660720470" load-source="docdb">FR</country><country mxw-id="DS660718283" load-source="docdb">GB</country><country mxw-id="DS660728677" load-source="docdb">GR</country><country mxw-id="DS660718284" load-source="docdb">HR</country><country mxw-id="DS660793453" load-source="docdb">HU</country><country mxw-id="DS660638771" load-source="docdb">IE</country><country mxw-id="DS660728678" load-source="docdb">IS</country><country mxw-id="DS660720475" load-source="docdb">IT</country><country mxw-id="DS660728683" load-source="docdb">LI</country><country mxw-id="DS660751342" load-source="docdb">LT</country><country mxw-id="DS660641428" load-source="docdb">LU</country><country mxw-id="DS660751347" load-source="docdb">LV</country><country mxw-id="DS660751348" load-source="docdb">MC</country><country mxw-id="DS660641429" load-source="docdb">MK</country><country mxw-id="DS660641430" load-source="docdb">MT</country><country mxw-id="DS660793454" load-source="docdb">NL</country><country mxw-id="DS660637254" load-source="docdb">NO</country><country mxw-id="DS660638772" load-source="docdb">PL</country><country mxw-id="DS660751350" load-source="docdb">PT</country><country mxw-id="DS660793455" load-source="docdb">RO</country><country mxw-id="DS660751355" load-source="docdb">RS</country><country mxw-id="DS660638773" load-source="docdb">SE</country><country mxw-id="DS660720476" load-source="docdb">SI</country><country mxw-id="DS660637267" load-source="docdb">SK</country><country mxw-id="DS660638774" load-source="docdb">SM</country><country mxw-id="DS660641443" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data><office-specific-data><eptags><ep-no-a-document-published>*</ep-no-a-document-published></eptags></office-specific-data></bibliographic-data><abstract mxw-id="PA139075695" ref-ucid="WO-2014129863-A1" lang="EN" load-source="patent-office"><p num="0000">A method includes transmitting a calibration command to multiple antenna arrays. Each antenna array includes a plurality of antenna elements, a plurality of transmitter and receiver channels, and a calibration circuit comprising a calibration receiver and a calibration transmitter. The antenna arrays are connected to one another. The method also includes, for each pair of connected antenna arrays, calibrating the calibration circuits of the connected antenna arrays based on time delay differences and phase delay differences between the calibration receivers and the calibration transmitters in the pair of connected antenna arrays. In addition, the method includes calibrating the antenna elements of each antenna array using the calibrated calibration circuits.</p></abstract><abstract mxw-id="PA139542992" ref-ucid="WO-2014129863-A1" lang="EN" source="national office" load-source="docdb"><p>A method includes transmitting a calibration command to multiple antenna arrays. Each antenna array includes a plurality of antenna elements, a plurality of transmitter and receiver channels, and a calibration circuit comprising a calibration receiver and a calibration transmitter. The antenna arrays are connected to one another. The method also includes, for each pair of connected antenna arrays, calibrating the calibration circuits of the connected antenna arrays based on time delay differences and phase delay differences between the calibration receivers and the calibration transmitters in the pair of connected antenna arrays. In addition, the method includes calibrating the antenna elements of each antenna array using the calibrated calibration circuits.</p></abstract><abstract mxw-id="PA139075696" ref-ucid="WO-2014129863-A1" lang="FR" load-source="patent-office"><p num="0000">L'invention porte sur un procédé qui comprend l'émission d'une instruction d'étalonnage à de multiples réseaux d'antennes. Chaque réseau d'antennes comprend une pluralité d'éléments d'antenne, une pluralité de canaux d'émetteur et de récepteur, et un circuit d'étalonnage comprenant un récepteur d'étalonnage et un émetteur d'étalonnage. Les réseaux d'antennes sont connectés les uns aux autres. Le procédé comprend également, pour chaque paire de réseaux d'antennes connectés, l'étalonnage des circuits d'étalonnage des réseaux d'antennes connectés sur la base de différences de retard temporel et de différences de retard de phase entre les récepteurs d'étalonnage et les émetteurs d'étalonnage dans la paire de réseaux d'antennes connectés. De plus, le procédé comprend l'étalonnage des éléments d'antenne de chaque réseau d'antennes en utilisant les circuits d'étalonnage étalonnés.</p></abstract><abstract mxw-id="PA139542993" ref-ucid="WO-2014129863-A1" lang="FR" source="national office" load-source="docdb"><p>L'invention porte sur un procédé qui comprend l'émission d'une instruction d'étalonnage à de multiples réseaux d'antennes. Chaque réseau d'antennes comprend une pluralité d'éléments d'antenne, une pluralité de canaux d'émetteur et de récepteur, et un circuit d'étalonnage comprenant un récepteur d'étalonnage et un émetteur d'étalonnage. Les réseaux d'antennes sont connectés les uns aux autres. Le procédé comprend également, pour chaque paire de réseaux d'antennes connectés, l'étalonnage des circuits d'étalonnage des réseaux d'antennes connectés sur la base de différences de retard temporel et de différences de retard de phase entre les récepteurs d'étalonnage et les émetteurs d'étalonnage dans la paire de réseaux d'antennes connectés. De plus, le procédé comprend l'étalonnage des éléments d'antenne de chaque réseau d'antennes en utilisant les circuits d'étalonnage étalonnés.</p></abstract><description mxw-id="PDES78477372" ref-ucid="WO-2014129863-A1" lang="EN" load-source="patent-office"><!-- EPO <DP n="2"/>--><p id="p0001" num="0001"> METHOD AND APPARATUS FOR CALIBRATING MULTIPLE ANTENNA </p><p id="p0002" num="0002"> ARRAYS </p><p id="p0003" num="0003">BACKGROUND OF THE INVENTION </p><p id="p0004" num="0004">1. Field of the Invention </p><p id="p0005" num="0005"> The present application relates generally to the calibration of multiple antenna arrays supporting multiple input, multiple output (MIMO) and/or beamforming. </p><p id="p0006" num="0006">2. Description of the Related Art </p><p id="p0007" num="0007"> The dominant cellular network standard today is Long Term Evolution (LTE), and LTE-Advanced (LTE-A) will continue this legacy into the foreseeable future. Both LTE and LTE-A support multiple input, multiple output (MIMO) antenna configurations and beamforming. </p><p id="p0008" num="0008"> MIMO operations involve channel reciprocity in time division duplexing (TDD) applications, and an equalizer can be applied to each transmitter and receiver in order to flatten their amplitude responses and linearize (straighten) their phase responses. Beamforming operations involve calculation of the angle or direction of arrival and the angle or direction of departure. A known reference plane at an antenna port of a transmitter is therefore used, where the transmitter's modulation envelope and phase are exactly aligned between all transmit channels. A known reference plane at an analog-to-digital converter (ADC) of a receiver is also used, where the receiver's modulation envelope and phase are exactly aligned between all receive channels. </p><p id="p0009" num="0009"> MIMO and beamforming typically require two or more antennas, and advanced systems can have 4, 8, 16, 32, or more antennas. Beyond 16 or 32 antennas, it often becomes impractical to house all antenna elements in a single package due to size and manufacturability issues. For example, patch antennas fabricated on printed circuit boards (PCBs) typically require a 1/2 wavelength (λ/2) spacing between elements. This can drive PCB sizes beyond those that are manufacturable and sturdy enough to withstand flexing, warping, and handling. As a result, MIMO and beamforming arrays often have to be implemented using multiple independent PCBs or antenna arrays. Similarly, a transceiver that provides radio functions like transmission and reception of radio signals (such as cellular signals) may often need to be implemented on multiple independent PCBs. 
<!-- EPO <DP n="3"/>-->
 SUMMARY OF THE INVENTION </p><p id="p0010" num="0010">A method includes transmitting a calibration command to multiple antenna arrays. Each antenna array includes a plurality of antenna elements, a plurality of transmitter and receiver channels, and a calibration circuit having a calibration receiver and a calibration transmitter. The antenna arrays are connected to one another. The method also includes, for each pair of connected antenna arrays, calibrating the calibration circuits of the connected antenna arrays based on time delay differences and phase delay differences between the calibration receivers and the calibration transmitters in the pair of connected antenna arrays. In addition, the method includes calibrating the antenna elements of each antenna array using the calibrated calibration circuits. </p><p id="p0011" num="0011"> A system includes multiple antenna arrays. Each antenna array includes a plurality of antenna elements, a plurality of transmitter and receiver channels, a calibration circuit having a calibration receiver and a calibration transmitter, and a controller. The controller is configured to calibrate the calibration circuit of the antenna array based on time delay differences and phase delay differences between the calibration receivers and the calibration transmitters in a pair of connected antenna arrays. The controller is also configured to calibrate the antenna elements of the antenna array using the calibrated calibration circuit of the antenna array. </p><p id="p0012" num="0012"> An apparatus for use with multiple antenna arrays is provided. Each antenna array includes a plurality of antenna elements, a plurality of transmitter and receiver channels, and a calibration circuit having a calibration receiver and a calibration transmitter. The apparatus includes a controller configured to calibrate the calibration circuit of a first of the multiple antenna arrays based on time delay differences and phase delay differences between the calibration receivers and the calibration transmitters in a pair of connected antenna arrays including the first antenna array and a second antenna array. The controller is also configured to calibrate the antenna elements of the first antenna array using the calibrated calibration circuit of the first antenna array. </p><p id="p0013" num="0013"> A method for aligning multiple transceivers connected to one another is provided. Each transceiver includes a transmitter and a receiver. The method includes transmitting an alignment command to the multiple transceivers. The method also includes, for each pair of connected transceivers, aligning calibration circuits of the connected transceivers based on time delay differences and phase delay differences 
<!-- EPO <DP n="4"/>-->
 between the receivers and the transmitters in the pair of connected transceivers. The time delay difference between the receivers in one pair of connected transceivers is determined as: </p><p id="p0014" num="0014"> TRX2 - X<sub>rx1</sub> = (B1 - A1 - D1 + C1)/2 </p><p id="p0015" num="0015"> where: </p><p id="p0016" num="0016"> Al = TTXJ + T<sub>DL</sub> + TRX I</p><p id="p0017" num="0017"><img id="imgf000004_0001" he="5" wi="40" file="imgf000004_0001.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="no"/></p><p id="p0018" num="0018"> CI - T<sub>T 1</sub> + T<sub>dl</sub> + TRX2 </p><p id="p0019" num="0019"> Dl - Txx2 + Td2 + RX! </p><p id="p0020" num="0020"> Here, Τ χ^ and T joa are time delays at the transmitter and the receiver, respectively, in a first of the connected transceivers. Also, τ<sub>τχ2</sub> and TRX<sub>2</sub> are time delays at the transmitter and the receiver, respectively, in a second of the connected transceivers. Further, T<sub>dl</sub> is a time delay between the transmitter and the receiver in the first transceiver, and r<sub>d2</sub> is a time delay between the transmitter in one of the connected transceivers and the receiver in another of the connected transceivers. </p><p id="p0021" num="0021"> An apparatus for aligning multiple transceivers connected to one another is provided. Each transceiver includes a transmitter and a receiver. The apparatus includes a controller configured to transmit an alignment command to the multiple transceivers and, for each pair of connected transceivers, align calibration circuits of the connected transceivers based on time delay differences and phase delay differences between the receivers and the transmitters in the pair of connected transceivers. The controller is configured to determine the time delay difference between the receivers in one pair of connected transceivers as: </p><p id="p0022" num="0022"> XRX2 - XRXI = (B1 - A1 - D1 + C1)/2 </p><p id="p0023" num="0023"> where:</p><p id="p0024" num="0024"><img id="imgf000004_0002" he="5" wi="40" file="imgf000004_0002.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="no"/></p><p id="p0025" num="0025"> B 1 = T<sub>XX1</sub> + T<sub>d2</sub> + TRX2 </p><p id="p0026" num="0026"> CI = T<sub>TX1</sub> + T<sub>dl</sub> + TRX2 </p><p id="p0027" num="0027"> Dl = Txx2 + ¾ + TRXI </p><p id="p0028" num="0028"> Here, τ<sub>τχ1</sub> and T RXJ are time delays at the transmitter and the receiver, respectively, in a first of the connected transceivers. Also, T<sub>tx2</sub> and
<img id="imgf000004_0003" he="4" wi="9" file="imgf000004_0003.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="no"/>
 are time delays at the transmitter and the receiver, respectively, in a second of the connected transceivers. Further, T<sub>dl</sub> is a time delay between the transmitter and the receiver in the first transceiver, and T<sub>d2</sub> is a time delay between the transmitter in one of the connected transceivers and the receiver in another of the connected transceivers. 
<!-- EPO <DP n="5"/>-->
 A method for use with multiple antenna arrays is provided. Each antenna array includes a plurality of antenna elements, a plurality of transceivers, a clock recovery circuit, and a synchronization (sync) generator circuit. The method includes designating one of the antenna arrays as a master antenna array and at least one other of the antenna arrays as at least one slave antenna array. The method also includes enabling the clock recovery circuit and the sync generator circuit of the master antenna array and disabling the clock recovery circuits and the sync generator circuits of each slave antenna array. The method further includes injecting a clock signal recovered from the clock recovery circuit of the master antenna array into the master and at least one slave antenna arrays and injecting a sync signal generated from the sync generator circuit of the master antenna array into the master and at least one slave antenna arrays. Moreover, the method includes adjusting phases of the clock and sync signals arriving at each transceiver in the master antenna array such that the clock and sync signals arrive substantially edge-aligned at each transceiver of the master antenna array. In addition, the method includes, for each slave antenna array, adjusting phases of clock and sync signals arriving at each transceiver in the slave antenna array such that the clock and sync signals arrive substantially edge-aligned at each transceiver of the slave antenna array. </p><p id="p0029" num="0029"> An apparatus for use with multiple antenna arrays is provided. Each antenna array includes a plurality of antenna elements, a plurality of transceivers, a clock recovery circuit, and a synchronization (sync) generator circuit. The apparatus includes a controller configured to designate one of the antenna arrays as a master antenna array and at least one other of the antenna arrays as at least one slave antenna array. The controller is also configured to enable the clock recovery circuit and the sync generator circuit of the master antenna array and disable the clock recovery circuits and the sync generator circuits of each slave antenna array. The controller is further configured to inject a clock signal recovered from the clock recovery circuit of the master antenna array into the master and at least one slave antenna arrays and inject a sync signal generated from the sync generator circuit of the master antenna array into the master and at least one slave antenna arrays. Moreover, the controller is configured to adjust phases of the clock and sync signals arriving at each transceiver in the master antenna array such that the clock and sync signals arrive substantially edge-aligned at each transceiver of the master antenna array. In addition, the controller is configured, for each slave antenna array, to adjust phases of clock and sync signals 
<!-- EPO <DP n="6"/>-->
 arriving at each transceiver in the slave antenna array such that the clock and sync signals arrive substantially edge-aligned at each transceiver of the slave antenna array. </p><p id="p0030" num="0030"> Before undertaking the DETAILED DESCRIPTION below, it may be advantageous to set forth definitions of certain words and phrases used throughout this patent document. The term "couple" and its derivatives refer to any direct or indirect communication between two or more elements, whether or not those elements are in physical contact with one another. The terms "transmit," "receive," and "communicate," as well as derivatives thereof, encompass both direct and indirect communication. The terms "include" and "comprise," as well as derivatives thereof, mean inclusion without limitation. The term "or" is inclusive, meaning and/or. The phrase "associated with," as well as derivatives thereof, means to include, be included within, interconnect with, contain, be contained within, connect to or with, couple to or with, be communicable with, cooperate with, interleave, juxtapose, be proximate to, be bound to or with, have, have a property of, have a relationship to or with, or the like. The term "controller" means any device, system or part thereof that controls at least one operation. Such a controller may be implemented in hardware or a combination of hardware and software and/or firmware. The functionality associated with any particular controller may be centralized or distributed, whether locally or remotely. The phrase "at least one of," when used with a list of items, means that different combinations of one or more of the listed items may be used, and only one item in the list may be needed. For example, "at least one of: A, B, and C" includes any of the following combinations: A, B, C, A and B, A and C, B and C, and A and B and C. </p><p id="p0031" num="0031"> Definitions for other certain words and phrases are provided throughout this patent document. Those of ordinary skill in the art should understand that in many if not most instances, such definitions apply to prior as well as future uses of such defined words and phrases. </p><p id="p0032" num="0032">BRIEF DESCRIPTION OF THE DRAWINGS </p><p id="p0033" num="0033">For a more complete understanding of the present disclosure and its advantages, reference is now made to the following description, taken in conjunction with the accompanying drawings, in which: </p><p id="p0034" num="0034"> FIGURE 1 illustrates an example wireless network in accordance with this disclosure; </p><p id="p0035" num="0035"> FIGURE 2 illustrates an example eNodeB (eNB) in accordance with this 
<!-- EPO <DP n="7"/>-->
 disclosure; </p><p id="p0036" num="0036"> FIGURE 3 illustrates an example user equipment (UE) in accordance with this disclosure; </p><p id="p0037" num="0037"> FIGURE 4 illustrates an example two-by-two MIMO channel model with channels represented by matrices in accordance with this disclosure; </p><p id="p0038" num="0038"> FIGURE 5 illustrates an example algorithm that performs MIMO calibration or equalization in accordance with this disclosure; </p><p id="p0039" num="0039"> FIGURE 6 A illustrates example incoming waveform at angle of arrival (AO A) Θ<sub>Α</sub> and example phase and time delays that occur between antenna ports in a MIMO system in accordance with this disclosure; </p><p id="p0040" num="0040"> FIGURE 6B illustrates an example of finding the angle of arrival of an incoming waveform in a MIMO system in accordance with this disclosure; </p><p id="p0041" num="0041"> FIGURES 7A and 7B illustrate example calibrated antenna arrays exhibiting envelope and phase alignment in accordance with this disclosure; </p><p id="p0042" num="0042"> FIGURE 8 illustrates an example single-board antenna array with a calibration circuit in accordance with this disclosure; </p><p id="p0043" num="0043"> FIGURES 9A and 9B illustrate example single-board and multi-board antenna arrays in accordance with this disclosure; </p><p id="p0044" num="0044"> FIGURES 10A through IOC illustrate example multi -board antenna arrays in accordance with this disclosure; </p><p id="p0045" num="0045"> FIGURES 11A and 11B illustrate example single-board antenna arrays with transmitter and receiver functions in accordance with this disclosure; </p><p id="p0046" num="0046"> FIGURE 12 illustrates an example of two connected boards with their associated calibration circuits among a multi-board antenna array in accordance with this disclosure; </p><p id="p0047" num="0047"> FIGURES 13A and 13B illustrate an example simplified calibration architecture for a two-board antenna array for deriving calibration equations in accordance with this disclosure; </p><p id="p0048" num="0048"> FIGURE 14 illustrates an example final simplified calibration architecture for a two-board antenna array in accordance with this disclosure; </p><p id="p0049" num="0049"> FIGURES 15A and 15B illustrate an example calibration operation for time delays of multi-board calibration circuits in accordance with this disclosure; </p><p id="p0050" num="0050"> FIGURE 16 illustrates an example calibration operation for phase delays of multi-board calibration circuits in accordance with this disclosure; </p><p id="p0051" num="0051"> FIGURES 17A through 17D illustrate example calibrations of delays and 
<!-- EPO <DP n="8"/>-->
 phases between calibration circuits of two connected boards of a multi-board antenna array in accordance with this disclosure; </p><p id="p0052" num="0052"> FIGURE 18 is an example flowchart for calibrating a multi-board antenna array in accordance with this disclosure; </p><p id="p0053" num="0053"> FIGURE 19 illustrates an example time and phase calibration procedure for a multi-board antenna array in accordance with this disclosure; </p><p id="p0054" num="0054"> FIGURE 20 illustrates an example system for self-calibrating two calibration receiver channels and two calibration transmitter channels in a single board of a multi-board antenna array in accordance with this disclosure; </p><p id="p0055" num="0055"> FIGURE 21 illustrates an example clock synchronization plane used to calibrate an antenna array in accordance with this disclosure; </p><p id="p0056" num="0056"> FIGURE 22A illustrates an example multi-board antenna array with a clock synchronization system in accordance with this disclosure; </p><p id="p0057" num="0057"> FIGURE 22B illustrates an example algorithm for achieving clock synchronization across multiple antenna arrays in accordance with this disclosure; </p><p id="p0058" num="0058"> FIGURE 23 illustrates an example multi-board antenna array equipped with a data transfer system in accordance with this disclosure; and </p><p id="p0059" num="0059"> FIGURE 24 illustrates an example flowchart describing calibration operations of multi-board antenna arrays in accordance with this disclosure. </p><p id="p0060" num="0060">DETAILED DESCRIPTION OF EMBODIMENTS OF THE INVENTION </p><p id="p0061" num="0061">FIGURES 1 through 24, discussed below, and the various embodiments used to describe the principles of the present disclosure in this patent document are by way of illustration only and should not be construed in any way to limit the scope of the disclosure. Those skilled in the art will understand that the principles of the present disclosure may be implemented in any suitably arranged wireless communication system. </p><p id="p0062" num="0062"> FIGURE 1 illustrates an example wireless network 100 according to this disclosure. The embodiment of the wireless network 100 shown in FIGURE 1 is for illustration only. Other embodiments of the wireless network 100 could be used without departing from the scope of this disclosure. </p><p id="p0063" num="0063"> As shown in FIGURE 1 , the wireless network 100 includes an eNodeB (eNB) 101, an eNB 102, and an eNB 103. The eNB 101 communicates with the eNB 102 and the eNB 103. The eNB 101 also communicates with at least one Internet Protocol (IP) 
<!-- EPO <DP n="9"/>-->
 network 130, such as the Internet, a proprietary IP network, or other data network.</p><p id="p0064" num="0064">The eNB 102 provides wireless broadband access to the network 130 for a first plurality of user equipments (UEs) within a coverage area 120 of the eNB 102. The first plurality of UEs includes a UE 111, which may be located in a small business (SB); a UE 112, which may be located in an enterprise (E); a UE 113, which may be located in a WiFi hotspot (HS); a UE 114, which may be located in a first residence (R); a UE 115, which may be located in a second residence (R); and a UE 116, which may be a mobile device (M) like a cell phone, a wireless laptop, a wireless PDA, or the like. The eNB 103 provides wireless broadband access to the network 130 for a second plurality of UEs within a coverage area 125 of the eNB 103. The second plurality of UEs includes the UE 115 and the UE 116. In some embodiments, one or more of the eNBs 101 - 103 may communicate with each other and with the UEs 1 11-116 using 5G, LTE, LTE-A, WiMAX, or other advanced wireless communication techniques. </p><p id="p0065" num="0065"> Depending on the network type, other well-known terms may be used instead of "eNodeB" or "eNB," such as "base station" or "access point." For the sake of convenience, the terms "eNodeB" and "eNB" are used in this patent document to refer to network infrastructure components that provide wireless access to remote terminals. Also, depending on the network type, other well-known terms may be used instead of "user equipment" or "UE," such as "mobile station," "subscriber station," "remote terminal," "wireless terminal," or "user device." For the sake of convenience, the terms "user equipment" and "UE" are used in this patent document to refer to remote wireless equipment that wirelessly accesses an eNB, whether the UE is a mobile device (such as a mobile telephone or smartphone) or is normally considered a stationary device (such as a desktop computer or vending machine). </p><p id="p0066" num="0066"> Dotted lines show the approximate extents of the coverage areas 120 and 125, which are shown as approximately circular for the purposes of illustration and explanation only. It should be clearly understood that the coverage areas associated with eNBs, such as the coverage areas 120 and 125, may have other shapes, including irregular shapes, depending upon the configuration of the eNBs and variations in the radio environment associated with natural and man-made obstructions. </p><p id="p0067" num="0067"> As described in more detail below, various component of the network 100, such as the eNBs 101-103 and/or the UEs 1 11-1 16, can include a mechanism for calibrating single-board or multi-board antenna arrays. </p><p id="p0068" num="0068"> Although FIGURE 1 illustrates one example of a wireless network 100, various changes may be made to FIGURE 1. For example, the wireless network 100 could 
<!-- EPO <DP n="10"/>-->
 include any number of eNBs and any number of UEs in any suitable arrangement. Also, the eNB 101 could communicate directly with any number of UEs and provide those UEs with wireless broadband access to the network 130. Similarly, each eNB 102-103 could communicate directly with the network 130 and provide UEs with direct wireless broadband access to the network 130. Further, the eNB 101, 102, and/or 103 could provide access to other or additional external networks, such as external telephone networks or other types of data networks. </p><p id="p0069" num="0069"> FIGURE 2 illustrates an example eNB 102 according to this disclosure. The embodiment of the eNB 102 illustrated in FIGURE 2 is for illustration only, and the eNBs 101 and 103 of FIGURE 1 could have the same or similar configuration. However, eNBs come in a wide variety of configurations, and FIGURE 2 does not limit the scope of this disclosure to any particular implementation of an eNB. </p><p id="p0070" num="0070"> As shown in FIGURE 2, the eNB 102 includes multiple antennas 205a-205n, multiple RF transceivers 210a-210n, transmit (TX) processing circuitry 215, and receive (RX) processing circuitry 220. The eNB 102 also includes a controller/processor 225, a memory 230, and a backhaul or network interface 235. </p><p id="p0071" num="0071"> The RF transceivers 210a-210n receive, from the antennas 205a-205n, incoming RF signals, such as signals transmitted by UEs in the network 100. The RF transceivers 210a-210n down-convert the incoming RF signals to generate IF or baseband signals. The IF or baseband signals are sent to the RX processing circuitry 220, which generates processed baseband signals by filtering, decoding, and/or digitizing the baseband or IF signals. The RX processing circuitry 220 transmits the processed baseband signals to the controller/processor 225 for further processing. </p><p id="p0072" num="0072"> The TX processing circuitry 215 receives analog or digital data (such as voice data, web data, e-mail, or interactive video game data) from the controller/processor 225. The TX processing circuitry 215 encodes, multiplexes, and/or digitizes the outgoing baseband data to generate processed baseband or IF signals. The RF transceivers 210a-210n receive the outgoing processed baseband or IF signals from the TX processing circuitry 215 and up-converts the baseband or IF signals to RF signals that are transmitted via the antennas 205a-205n. </p><p id="p0073" num="0073"> The controller/processor 225 can include one or more processors or other processing devices that control the overall operation of the eNB 102. For example, the controller/ processor 225 could control the reception of forward channel signals and the transmission of reverse channel signals by the RF transceivers 210a-210n, the RX processing circuitry 220, and the TX processing circuitry 215 in accordance with 
<!-- EPO <DP n="11"/>-->
 well-known principles. The controller/ processor 225 could support additional functions as well, such as more advanced wireless communication functions. For instance, the controller/processor 225 could support beam forming or directional routing operations in which outgoing signals from multiple antennas 205a-205n are weighted differently to effectively steer the outgoing signals in a desired direction. Any of a wide variety of other functions could be supported in the eNB 102 by the controller/processor 225. In some embodiments, the controller/processor 225 includes at least one microprocessor or microcontroller. The controller/processor 225 is also capable of executing programs and other processes resident in the memory 230, such as a basic OS. The controller/processor 225 can move data into or out of the memory 230 as required by an executing process. </p><p id="p0074" num="0074"> The controller/processor 225 is also coupled to the backhaul or network interface 235. The backhaul or network interface 235 allows the eNB 102 to communicate with other devices or systems over a backhaul connection or over a network. The interface 235 could support communications over any suitable wired or wireless connection(s). For example, when the eNB 102 is implemented as part of a cellular communication system (such as one supporting 5G, LTE, or LTE-A), the interface 235 could allow the eNB 102 to communicate with other eNBs over a wired or wireless backhaul connection. When the eNB 102 is implemented as an access point, the interface 235 could allow the eNB 102 to communicate over a wired or wireless local area network or over a wired or wireless connection to a larger network (such as the Internet). The interface 235 includes any suitable structure supporting communications over a wired or wireless connection, such as an Ethernet or RF transceiver. </p><p id="p0075" num="0075"> The memory 230 is coupled to the controller/processor 225. Part of the memory 230 could include a RAM, and another part of the memory 230 could include a Flash memory or other ROM. </p><p id="p0076" num="0076"> Although FIGURE 2 illustrates one example of eNB 102, various changes may be made to FIGURE 2. For example, the eNB 102 could include any number of each component shown in FIGURE 2. As a particular example, an access point could include a number of interfaces 235, and the controller/processor 225 could support routing functions to route data between different network addresses. As another particular example, while shown as including a single instance of TX processing circuitry 215 and a single instance of RX processing circuitry 220, the eNB 102 could include multiple instances of each (such as one per RF transceiver). Also, various 
<!-- EPO <DP n="12"/>-->
 components in FIGURE 2 could be combined, further subdivided, or omitted and additional components could be added according to particular needs. </p><p id="p0077" num="0077"> FIGURE 3 illustrates an example UE 116 according to this disclosure. The embodiment of the UE 116 illustrated in FIGURE 3 is for illustration only, and the UEs 111-1 15 of FIGURE 1 could have the same or similar configuration. However, UEs come in a wide variety of configurations, and FIGURE 3 does not limit the scope of this disclosure to any particular implementation of a UE. </p><p id="p0078" num="0078"> As shown in FIGURE 3, the UE 116 includes an antenna 305, a radio frequency (RF) transceiver 310, transmit (TX) processing circuitry 315, a microphone 320, and receive (RX) processing circuitry 325. The UE 116 also includes a speaker 330, a main processor 340, an input/output (I/O) interface (IF) 345, a keypad 350, a display 355, and a memory 360. The memory 360 includes a basic operating system (OS) program 361 and one or more applications 362. </p><p id="p0079" num="0079"> The RF transceiver 310 receives, from the antenna 305, an incoming RF signal transmitted by an eNB of the network 100. The RF transceiver 310 down-converts the incoming RF signal to generate an intermediate frequency (IF) or baseband signal. The IF or baseband signal is sent to the RX processing circuitry 325, which generates a processed baseband signal by filtering, decoding, and/or digitizing the baseband or IF signal. The RX processing circuitry 325 transmits the processed baseband signal to the speaker 330 (such as for voice data) or to the main processor 340 for further processing (such as for web browsing data). </p><p id="p0080" num="0080"> The TX processing circuitry 315 receives analog or digital voice data from the microphone 320 or other outgoing baseband data (such as web data, e-mail, or interactive video game data) from the main processor 340. The TX processing circuitry 315 encodes, multiplexes, and/or digitizes the outgoing baseband data to generate a processed baseband or IF signal. The RF transceiver 310 receives the outgoing processed baseband or IF signal from the TX processing circuitry 315 and up-converts the baseband or IF signal to an RF signal that is transmitted via the antenna 305. </p><p id="p0081" num="0081"> The main processor 340 can include one or more processors or other processing devices and execute the basic OS program 361 stored in the memory 360 in order to control the overall operation of the UE 1 16. For example, the main processor 340 could control the reception of forward channel signals and the transmission of reverse channel signals by the RF transceiver 310, the RX processing circuitry 325, and the TX processing circuitry 315 in accordance with well-known principles. In some 
<!-- EPO <DP n="13"/>-->
 embodiments, the main processor 340 includes at least one microprocessor or microcontroller. </p><p id="p0082" num="0082"> The main processor 340 is also capable of executing other processes and programs resident in the memory 360. The main processor 340 can move data into or out of the memory 360 as required by an executing process. In some embodiments, the main processor 340 is configured to execute the applications 362 based on the OS program 361 or in response to signals received from eNBs or an operator. The main processor 340 is also coupled to the I/O interface 345, which provides the UE 116 with the ability to connect to other devices such as laptop computers and handheld computers. The I/O interface 345 is the communication path between these accessories and the main processor 340. </p><p id="p0083" num="0083"> The main processor 340 is also coupled to the keypad 350 and the display unit 355. The operator of the UE 1 16 can use the keypad 350 to enter data into the UE 116. The display 355 may be a liquid crystal display or other display capable of rendering text and/or at least limited graphics, such as from web sites. </p><p id="p0084" num="0084"> The memory 360 is coupled to the main processor 340. Part of the memory 360 could include a random access memory (RAM), and another part of the memory 360 could include a Flash memory or other read-only memory (ROM). </p><p id="p0085" num="0085"> Although FIGURE 3 illustrates one example of UE 116, various changes may be made to FIGURE 3. For example, various components in FIGURE 3 could be combined, further subdivided, or omitted and additional components could be added according to particular needs. As a particular example, the main processor 340 could be divided into multiple processors, such as one or more central processing units (CPUs) and one or more graphics processing units (GPUs). Also, while FIGURE 3 illustrates the UE 116 configured as a mobile telephone or smartphone, UEs could be configured to operate as other types of mobile or stationary devices. </p><p id="p0086" num="0086"> FIGURE 4 illustrates an example two-by-two MIMO channel model 400 with channels represented by matrices in accordance with this disclosure. A wireless MIMO channel is modeled as a channel matrix H<sub>CH&gt;</sub> which is composed of direct components hn and h<sub>22</sub> and cross components h<sub>12</sub> and h<sub>21</sub>. These matrix components are complex numbers that represent attenuation and phase shifts that occur in the channel. Transmitters and receivers also exhibit attenuation and phase shifts and can be modeled using matrices H<sub>TX</sub> and Τ½χ. The matrices H<sub>TX</sub> and H<sub>RX</sub> can be multiplied with the channel matrix H<sub>CH</sub> in order to calculate a total channel response. This can involve real-time measurements and calculations of Ηχχ and H<sub>RX</sub> and real-time matrix 
<!-- EPO <DP n="14"/>-->
 manipulations that are costly in terms of processing resources and processing times.</p><p id="p0087" num="0087">It is desirable to "null out" the effects of H<sub>TX</sub> and ¾χ in order create a reciprocal channel such that HTXI *HCH*HRXI = HTX2*HCH*HRX2. This allows a downlink channel estimation made by the UE receiver to be accurately used as the uplink channel estimate or vice-versa. Additionally, it can eliminate extra real-time overhead processing. If this can be done, it is possible to meet the conditions for linear distortion-free transmission. The amplitude response is desired to be flat versus frequency over a desired bandwidth, and the phase response is desired to be linear versus frequency over the desired bandwidth. </p><p id="p0088" num="0088"> Unfortunately, transmitters and receivers have non-ideal amplitude and phase responses. This can be due to various factors, such as gain slopes from semiconductors, narrowband matching networks and narrowband components; gain and phase ripples from VSWR reflections in mismatched components; and gain and phase ripples from RF filters, anti-alias filters, image filters, and the like. </p><p id="p0089" num="0089"> Correcting this is normally accomplished using a baseband equalizer with multiple taps to linearize the phase and flatten the amplitude response. This is termed MIMO calibration (equalization) and is the method used to null out the responses H<sub>TX1</sub>, HRX!, H<sub>tx2</sub>, and and make them equal to one. Equalization applied at both the UE and the eNB creates a new response H<sub>nul</sub>i = H<sub>TX1</sub> = H^x = H<sub>T 2</sub> = H<sub>R 2</sub>, and the total channel response becomes: </p><p id="p0090" num="0090"> Hnull *H<sub>C</sub>H* HnuU = H<sub>nu</sub>ll *H<sub>CH</sub>* H<sub>nu</sub>ll </p><p id="p0091" num="0091"> HCH <sup>=</sup> HCH</p><p id="p0092" num="0092"><img id="imgf000014_0001" he="6" wi="32" file="imgf000014_0001.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="no"/></p><p id="p0093" num="0093"> After MIMO calibration (equalization), the total downlink channel response is equal to the total uplink channel response to create reciprocal wireless channels. As a result, a channel estimation performed on the uplink channel can be used confidently as the estimate for the downlink channel and vice-versa. </p><p id="p0094" num="0094"> FIGURE 5 illustrates an example algorithm that performs MIMO calibration or equalization in accordance with this disclosure. In step 505, default values are set. This could include setting the current transmitter channel J = 1 and the maximum number of transmitter channels = K. In step 510, simultaneously capture a transmitter baseband input reference signal (REF) and a feedback signal (FB) from an output of a calibration receiver. In step 515, calculate equalizer coefficients used to flatten the amplitude response over the desired band and linearize (straighten) the phase response over the desired band. Various techniques could be used to accomplish this, such as a 
<!-- EPO <DP n="15"/>-->
 Least Mean Square (LMS) adaptive algorithm. The coefficients are loaded into the current channel's equalizer. In step 520, check to see if this is the last channel to be equalized. If not, increment J in step 525 and return to step 510. If J = K, all channels have been equalized, and the process moves on to receiver equalization. </p><p id="p0095" num="0095"> In step 530, reset J = 1, turn on a baseband waveform player, and play it into a calibration transmitter, which injects it into each receiver channel either selectively or all at once (depending on the algorithm used). In step 535, simultaneously capture a baseband receiver output feedback signal (FB) and a reference signal (FB) from the input of the calibration transmitter. In step 540, calculate equalizer coefficients used to flatten the amplitude response over the desired band and linearize (straighten) the phase response over the desired band. Again, various techniques can be used, such as an LMS adaptive algorithm. The coefficients are loaded into the current channel's equalizer. In step 550, check to see if this is the last channel to be equalized. If not, increment J at step 545 and return to step 535. If J = K, all channels have been equalized, and the equalization routine is terminated. </p><p id="p0096" num="0096"> FIGURE 6A illustrates example incoming waveform at angle of arrival (AO A) Θ<sub>Α</sub> and example phase and time delays that occur between antenna ports in a MIMO system and FIGURE 6B illustrates an example of finding the angle of arrival of an incoming waveform in a MIMO system in accordance with this disclosure. As shown in FIGURE 6A, as a signal moves away from a source antenna, its wavefront flattens out in the far-field and impinges upon antenna- 1 first and then hits antenna-2. Thus, alignment of RF carriers in phase and time between antenna ports can be needed whenever direction of arrival (DOA) and direction of departure (DOD) calculations are performed. </p><p id="p0097" num="0097"> In FIGURES 6A and 6B, the goal is to measure the time difference and corresponding phase difference Δ between when the wavefront hits two or more antennas in order to accurately calculate the signal's angle of arrival Θ<sub>Α</sub> and consequently the direction of arrival. This allows a device to transmit signals with an accurate direction of departure based on the measured Αφ. The angle of arrival Θ<sub>Α</sub> can be defined where λ represents the signal wavelength (or 
<img id="imgf000015_0001" he="9" wi="41" file="imgf000015_0001.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="no"/>
 </p><p id="p0098" num="0098">electrical length λ = 360° = 2π) at a center frequency f<sub>c</sub>, Δφ represents the phase difference between antennas at a specific AO A Θ<sub>Α</sub>, and d represents the distance between antennas. In some embodiments, d equals λ/2 (180° = π), and the equation becomes Θ<sub>Α</sub> = sin . As an example, if the phase difference is measured to be 
<!-- EPO <DP n="16"/>-->
 Δφ = T/ 2 radians, the angle of arrival is then Q<sub>A</sub> = sin </p><p id="p0099" num="0099"> 45°. This can be verified using similar triangles as shown in FIGURE 6B. A 45 " triangle has equal sides and a hypotenuse of 2. Equating d = λ/2 = π and Αφ to the 45 </p><p id="p0100" num="0100"><sup>0</sup> triangle yields— = ► Δφ = 7r/V2. </p><p id="p0101" num="0101">With reference to the FIGURE 6 A, Θ<sub>Α</sub> is the UE signal's angle of arrival, φχ is the phase of transceiver path-1, and φ<sub>2</sub> is the phase of transceiver path-2. As an example of incorrect AOA calculation due to phase mismatch between receiver paths, if the transceiver phase φ equals 936° (1.0 nsec) and the transceiver phase φ<sub>2</sub> equals </p><p id="p0102" num="0102">982.8<sup>3</sup> (1.05 nsec), the delta of 0.05 nsec corresponds to a phase difference error Δ 0<sub>e</sub> of 46.8<sup>3</sup> at 2600 MHz. If the angle of arrival Θ<sub>Α</sub> equals 45 ", the phase difference of the signals hitting the antennas can be Δφ<sub>12</sub> = 7r/ 2 = 2.221 radians = 127.27°. The baseband reads a phase difference Δ 0<sub>tot</sub> = ( Δφ<sub>12</sub>+ Δ φ<sub>ε</sub>) . = (127.27° +46.8°) = 174° and an angle of arrival Θ<sub>Α</sub> = sin<sup>-1</sup> (— ) = sin<sup>_1</sup> ^^ = 75.26°. This means the eNB calculation of the angle of arrival is in error by (75.26 °- 45 ") = 30.26 °, and consequently an eNB could send signals in the wrong direction based on an incorrect Θ<sub>Α</sub> calculation. Calibrating the phases between RX antenna channels and between TX antenna channels is therefore useful whenever determining the direction of arrival and direction of departure, such as in beamforming applications. </p><p id="p0103" num="0103"> FIGURES 7A and 7B illustrate example calibrated antenna arrays exhibiting envelope and phase alignment in accordance with this disclosure. In particular, FIGURE 7A illustrates a time delay-calibrated multi-board antenna array, and FIGURE 7B illustrates a phase delay-calibrated multi-board antenna array. Each transceiver could have the same time delay and phase alignment so that baseband envelopes modulate onto a local oscillator (LO), and information will be aligned at the antenna. As a result, the time delays of the antenna paths can be aligned such that each channel's delay between baseband and antenna is the same: T] = τ<sub>2</sub> = τ<sub>3</sub> = . . . = τ<sub>Ν</sub>. Likewise, carrier phases in each antenna path can be aligned so that each channel's phase between baseband and antenna is the same: φ<sub>χ</sub> = φ = φ<sub>3</sub> = ... = 0Ν· 
<!-- EPO <DP n="17"/>-->
 FIGURE 8 illustrates an example single-board antenna array 800 with a calibration circuit in accordance with this disclosure. As shown in FIGURE 8, couplers 810a-810n sample data from each transmit (TX) channel and provide feedback to switches 825-830, which selectively switch the sampled signal to a calibration receiver that converts the signal to baseband for further signal processing. A calibration transmitter sends a calibrating signal to the switches 825-830, which is consequently injected into couplers 810a-810n where it enters each receiver's RF front end and makes its way into the baseband for further processing. During transmit time, data is simultaneously captured at baseband prior to the analog/RF transmitter and at the calibration receiver. An algorithm processes the signals to determine the delay and phase of each channel. Similarly, during receive time, data is simultaneously captured at the calibration transmitter's baseband input and at each receiver's baseband in order to determine each receiver's delay and phase. The algorithm then aligns all of RX or TX channels to have the same time delay and phase in a single board by compensating for the measured differences in time and phase. </p><p id="p0104" num="0104"> FIGURES 9A and 9B illustrate example single-board and multi-board antenna arrays in accordance with this disclosure. As shown in FIGURE 9A, a single-board antenna array 900 includes N antennas directly coupled to N channel (CH) transceivers. In this example, the antenna array 900 includes eight antennas (four elements or patches per antenna) and mates directly to an eight-channel transceiver. This array 900 therefore represents an eight-channel transceiver with eight TX channels and eight RX channels. The TX and RX channels can be duplexed into eight antennas in an FDD system, or the TX and RX channels can be time-multiplexed into eight antennas using a Transmit/Receive (T/R) switch. As shown in FIGURE 9B, a multi-board antenna array 910 can have up to N single boards, where N is a positive integer. In some embodiments, four boards 91 1-914 create a full array of 32 antennas, such as for a total of 128 patches (32 x 4 patches). Each antenna array has the same structure, includes a plurality of antennas and TX/RX channels, and is operated independently. In FIGURES 9A and 9B, each antenna array with a plurality of antennas and their TX/RX channels is implemented on the separate boards. Alternatively, in some embodiments, multiple antenna arrays can be implemented on one single board. </p><p id="p0105" num="0105"> In some embodiments, an antenna array supporting MIMO and/or beamforming is implemented on multiple independent PCBs. Similarly, a transceiver PCB that provides radio functions can be implemented on multiple independent PCBs. 
<!-- EPO <DP n="18"/>-->
 FIGURES 10A through IOC illustrate example multi-board antenna arrays in accordance with this disclosure. In particular, FIGURE 1 OA illustrates a multi-board antenna array 1000 without calibration between boards and the resulting phase misalignment between boards that occurs after individual board calibration. FIGURE 10B illustrates a method of achieving multi-array calibration using an additional board with a calibration circuit and phase-matched cables between the calibration circuit and other antenna arrays. </p><p id="p0106" num="0106"> In FIGURE 10A, a multi-board antenna array 1010 with a calibration circuit is shown. Even after each single board itself has aligned its RX or TX channels for its own antennas, there can be still misalignments between boards. Therefore, in one method, the phase and/or delay between each board can be aligned by group shifting the phase and/or delay of TX or RX channels for all of the antennas of each board. </p><p id="p0107" num="0107"> In FIGURE 10B, the multi-board antenna array 1010 includes a common feedback RX calibrator 1011 and a common feedback TX calibrator 1012 on a separate board to align time and phase delays of multiple boards. This approach adds extra cost and size to a system, as well as expensive phase-matched cabling or a way to attach all four boards to the calibration board where the feedback lines are phase-matched. </p><p id="p0108" num="0108"> In FIGURE IOC, a multi-board antenna array 1020 is implemented in accordance with this disclosure and overcomes the requirement for an additional calibration board that otherwise adds considerable size and cost to the system. Here, each board is connected to one or more other boards in accordance with this disclosure. The multi-board antenna array 1020 is calibrated between boards by two stages. For calibration, every two boards of the multi-board array are connected to one another through, for example, a coaxial cable or other connection. During the first stage, the calibration circuits of each single board are calibrated with respect to time and phase such that each board's calibration receivers and transmitters have the same delay and phase. Once the calibration circuits are calibrated, each board individually calibrates its RX and TX channels in time and phase during the second stage. The net result is that every board in the array can have an identical calibration circuit since the circuits have been cross-calibrated, and therefore each board in the array achieves the same delay and phase in every RX and TX channel after individual board calibrations have been run. </p><p id="p0109" num="0109"> FIGURES 11A and 1 IB illustrate example single-board antenna arrays 1101-1 102 with transmitter and receiver functions in accordance with this disclosure. 
<!-- EPO <DP n="19"/>-->
 In particular, FIGURE 11A illustrates a single-board antenna array 1 101 with eight transmitters, eight antennas, and a calibration circuit. FIGURE 11B illustrates a single-board antenna array 1102 with eight receivers, eight antennas, and the same calibration circuit. Each calibration circuit can be responsible for (i) making accurate measurements of transmitter signals at each antenna element and (ii) injecting signals into the antenna elements and measuring them to mimic receiver antenna path responses. Therefore, each calibration circuit includes a calibration transmitter 1140a and a calibration receiver 1140b. </p><p id="p0110" num="0110"> With reference to FIGURE 11 A, TX data entering into a Common Public Radio Interface (CPRI) 1105 splits to a baseband data capture system and into eight TX channels. Each TX channel includes a delay adjuster 1110 to compensate the delay of the TX signal and a phase adjuster 1115 to compensate the phase of the TX signal. Each adjusted TX signal proceeds to its respective transmitter 1120a and antenna for radiation. Couplers 1125 sample the TX signals from the antennas and provide feedback to switches 1130-1135, which selectively switch the sampled signals to the calibration receiver 1 140b and into the baseband capture system. The baseband capture system simultaneously captures the TX input signal (REF) and calibration receiver feedback signal (FB). By measuring the time and phase differences between the sampled signals, it can align the delays and phases of all of the TX channels in the board by compensating for the differences using a phase adjuster 1 115 and a delay adjuster 1110. The delay adjuster value is determined by an algorithm or function such as a cross-correlation, and the phase adjuster value is determined by an algorithm such as one that calculates the phase of a Fast Fourier Transform (FFT) applied to the reference and feedback data. </p><p id="p0111" num="0111"> As shown in FIGURE 11B, during the receive time, a reference baseband calibration signal is input into the calibration transmitter 1140a, passed through the multi-board calibration switches 1135, and selectively passed through the switch bank 1130 into the proper coupler 1125. There, it is backward wave coupled into the correct receiver path 1 120b, where the signal is down-converted into baseband. The baseband capture system simultaneously captures the reference calibration signal and the feedback receiver signal. By calculating the time and phase differences between the sampled signals, it can align the delays and phases of all the RX channels in the board, compensating for the differences using a phase adjuster 1 115 and delay adjuster 1110. As in the transmitter path, the delay adjuster value is determined by an algorithm or function such as a cross-correlation, and the phase adjuster value is determined by an 
<!-- EPO <DP n="20"/>-->
 algorithm such as one that calculates phase of an FFT applied to the reference and feedback data. </p><p id="p0112" num="0112"> FIGURE 12 illustrates an example of two connected boards with their associated calibration circuits among a multi-board antenna array in accordance with this disclosure. By connecting two calibration circuits together, it is possible to make four measurements between the two calibration circuits and determine the exact delay and phase differences between calibration receivers 1230a- 1230b and calibration transmitters 1240a- 1240b. This allows every calibration circuit on each board to be adjusted to obtain the exact same delay and phase as the other calibration circuits, thereby enabling multi-board phased array calibration. </p><p id="p0113" num="0113"> The boards include jumpers 120 la- 120 lb and 1202a- 1202b. Calibration switches 1220a of board 1210 include a network of switches 122 la- 1226a, and calibration switches 1220b of board 121 1 include a network of switches 122 lb- 1226b. The networks of calibration switches can form an inter-board (long) path, where a transmitter 1240a of board 1210 is connected to a receiver 1230b of board 121 1 through switches 1223a-1225a and board jumper 1202a on board 1210 and jumper 1201b and switches 1221b, 1223b, 1224b on board 1211. Likewise, the receiver 1230a on board 1210 can be connected to the transmitter 1240b of board 121 1. The networks of calibration switches can also form an intra-board (short) path, where the transmitter 1240a of board 1210 is connected to the receiver 1230a of board 1210 through switches 1221a, 1222a, 1225a. Likewise, the transmitter 1240b of board 121 1 can be connected to the receiver 1230b of board 121 1. Additionally, after the calibration circuits have been calibrated, the multi-board calibration switches 1220a- 1220b can act as a pass-thru to allow the local calibration receiver and calibration transmitter to directly access and calibrate the board's own antenna paths via the multi-way switch (an eight- way antenna switch in this example). </p><p id="p0114" num="0114"> FIGURES 13A and 13B illustrate an example simplified calibration architecture for a two-board antenna array for deriving calibration equations in accordance with this disclosure. Since a cable connecting two boards represents a common point, its delay T<sub>D3</sub> can be lumped into a symmetrical line delay T^to become x<sub>d2</sub>&gt;. FIGURE 14 illustrate an example final simplified calibration architecture for a two-board antenna array in accordance with this disclosure. The goal is to find the unknown time delay difference and phase difference between the two boards' calibration transmitters and receivers as follows: </p><p id="p0115" num="0115"> Δ-TRX = (TRX2 - TRXI) and Δτ<sub>τχ</sub> = (τ<sub>ΤΧ2</sub> - T<sub>tx1</sub>); and 
<!-- EPO <DP n="21"/>-->
 Δ0κχ = ( RX2 - 0RXI) and Δ0κχ = (0τχ<sub>2</sub> - 0χ<sub>Χ1</sub>). </p><p id="p0116" num="0116">For the two-board system, there are the following unknowns: </p><p id="p0117" num="0117"> Ττχι , τ<sub>Ί</sub>χ<sub>2</sub>, TRXI, TRX<sub>2</sub>, Tdi, Td2 ; and</p><p id="p0118" num="0118"><img id="imgf000021_0001" he="5" wi="57" file="imgf000021_0001.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="yes"/></p><p id="p0119" num="0119">Since there is symmetry in the paths, the delays and phases of the common paths can end up cancelling out and further reduce the number of unknowns by two. Mathematics indicates that a system of N linear equations is used to solve for N unknown values, so four unknown values can require four equations to solve for the unknowns. </p><p id="p0120" num="0120"> FIGURES 15A and 15B illustrate an example calibration operation for time delays of multi-board calibration circuits in accordance with this disclosure. With reference to FIGURES 15A and 15B, the calibration operation for a time delay is described. For calibration, every two boards of a multi-board antenna array are connected to one another through, for example, a coaxial cable. Between two connected boards, a calibration (CAL) transmitter 1505 of one board can be connected to a CAL receiver 1520 of the other board and a CAL receiver 1510 of one board can be connected to a CAL transmitter 1515 of the other board according to the operation of the CAL switch networks. </p><p id="p0121" num="0121"> In some embodiments, determining the time delay difference Δτχχ between the CAL transmitters of the connected boards and the time delay difference AT X between the CAL receivers of the connected boards uses four measurements: </p><p id="p0122" num="0122"> Measure of delay A 1 from Transmitter- 1 on Board- 1 to Receiver- 1 on Board- 1 ;</p><p id="p0123" num="0123">Measure of delay Bl from Transmitter- 1 on Board- 1 to Receiver-2 on Board-2;</p><p id="p0124" num="0124">Measure of delay CI from Transmitter-2 on Board-2 to Receiver-2 on Board-2; and </p><p id="p0125" num="0125"> Measure of delay Dl from Transmitter-2 on Board-2 to Receiver- 1 on Board- 1. Here, Al, Bl, CI and Dl can be expressed as follows: </p><p id="p0126" num="0126"> Al = T<sub>TX1</sub> + Tdl + TRX! </p><p id="p0127" num="0127"> Bl = Ττχι + Td2 + TRX2 </p><p id="p0128" num="0128"> CI = T<sub>TX1</sub> + Td + τχχ2 </p><p id="p0129" num="0129"> Dl = Txx2 + T<sub>D2</sub> + TRX! </p><p id="p0130" num="0130"> where T<sub>TX 1</sub> and r^ are the time delays at the transmitter 1505 and the receiver 1510, respectively, Tdi is a time delay between the transmitter 1505 and the receiver 
<!-- EPO <DP n="22"/>-->
 1510 on board 1, and ¾ is a time delay between the transmitter 1505 on board 1 and the receiver 1520 on board 2 or between the receiver 1510 on board 1 and the transmitter 1515 on board 2. Operations 1550-1565 in FIGURE 15B show the four measurement results and the parameters τχ<sub>Χ1</sub>, τ^κι, ^τχι, TRX2 <sub>&gt;</sub> ^di and that are lumped together in the results. From Al, Bl, C I and Dl, the time delays between the CAL receivers 1510 and 1520 can be derived as follows: </p><p id="p0131" num="0131">(Bl - Al) = [ττχι + Xd2 + τκχ<sub>2</sub>] - [XTXI + Xdi + TRXI] = ¾ - t<sub>dl</sub> - TRXI + %χ<sub>2</sub> (1) (Dl - CI) = [τ<sub>ΤΧ2</sub> + %d2 + TRXI] - [ττχ<sub>2</sub> + T<sub>DL</sub> + TRX<sub>2</sub>] = ¾ - x<sub>dl</sub> + τ^χι - XRX<sub>2</sub> (2) (Bl- Al) - (Dl - CI) = [¾ - T<sub>d</sub>i - TRX! + TRJQ]- [¾ - T<sub>d</sub>i + x<sub>RX1</sub> - TRX<sub>2</sub> ] = -2%, + 2XRX<sub>2</sub> (3) </p><p id="p0132" num="0132"> In operation 1570 of FIGURE 15B, simplifying Equation (3) yields the time delay difference ATRX between the CAL receivers 1510 and 1520 as follows: </p><p id="p0133" num="0133">AT<sub>RX</sub> = T<sub>RX2</sub> - X<sub>rx1</sub> = (B1 - A1 - D1 + C1)/2 (4) </p><p id="p0134" num="0134"> In operation 1575, the CAL receiver 1520 of board 2 is calibrated by compensating the CAL adjust circuit of board 2 by τ^χ. Also, the time delay difference between the CAL transmitters 1505 and 1515 can be derived as follows:</p><p id="p0135" num="0135">(CI - Al) = [X<sub>TX2</sub> + Tdl + T<sub>RX2</sub>] - [Τ<sub>ΤΧ1</sub> + Tdl + TRXI]= Τ<sub>ΤΧ2</sub> - Τ<sub>ΤΧ1</sub> + (TRJQ - TRXI) = T<sub>TX2</sub> -</p><p id="p0136" num="0136">XTXI + (B1 - Al - Dl+ Cl)/2 (5) </p><p id="p0137" num="0137"> In operation 1580 of FIGURE 15B, simplifying Equation (5) yields the time delay difference Δτ<sub>τχ</sub> between the CAL transmitters 1505 and 1515 as follows: </p><p id="p0138" num="0138"> Δττχ = T<sub>TX2</sub>-T<sub>tx1</sub> = (Cl-Al) - [(B l - Al - Dl + Cl)/2] = (-A1 - Bl + C1+ Dl)/2 (6) </p><p id="p0139" num="0139"> In operation 1585, the CAL transmitter 1515 of board 2 is calibrated by compensating the CAL adjust circuit by Δτ<sub>τ</sub> . </p><p id="p0140" num="0140"> FIGURE 16 illustrates an example calibration operation for phase delays of multi-board calibration circuits in accordance with this disclosure. In a similar way to calibrating the time delays, calibrating the phase delays between calibration circuits of two connected boards begins with making the four measurements described previously and defining A2, B2, C2 and D2 as follows:</p><p id="p0141" num="0141"><img id="imgf000022_0001" he="5" wi="41" file="imgf000022_0001.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="yes"/></p><p id="p0142" num="0142">B2 = 0<sub>T</sub> i + 0^ + </p><p id="p0143" num="0143">C2 = 0<sub>TX</sub>i + 0<sub>dl</sub> + RX2 
<!-- EPO <DP n="23"/>-->
 D2= 0TX2+ 0<sub>d</sub>2+ 0RX! where 0<sub>TX1</sub> and <sub>RX1</sub> are phase delays at the transmitter 1505 and the receiver 1510, respectively, 0di is a phase delay between the transmitter 1505 and receiver 1510 on board 1 , and d2 is an inter-board phase delay between the transmitter 1505 on board 1 and the receiver 1520 on board 2 or between the receiver 1510 on board 1 and the transmitter 1515 on board 2. Values for A2, B2, C2 and D2 defined above can be determined by measuring χχι, <sub>R</sub>X<sub>1?</sub> 0<sub>TX</sub>2&gt; <sub>RX</sub>2<sub>&gt;</sub> 0&lt;I<sub>I</sub> and 0<sub>&lt;£</sub>, which are known from making the four measurements. </p><p id="p0144" num="0144"> From A2, B2, C2 and D2, the phase delay between the receiver calibration circuits of board 1 and board 2 can be derived from the measurements as follows: (B2 - A2) = [ TXJ + 0<sub>d2</sub> + 0RX<sub>2</sub>] - [0<sub>TX1</sub> + di + RXI] = 0d2 - 0di - Rxi + 0RX2 (7) </p><p id="p0145" num="0145">(D2 - C2) = [0<sub>TX2</sub> + 0d2 + RXJ] - [0<sub>TX2</sub> + 0<sub>dl</sub> + RX<sub>2</sub>] = d2 - 0<sub>dl</sub> + 0RX! - RX2 (8) </p><p id="p0146" num="0146">(B2 - A2) - (D2 - C2) = [ d2 - 0<sub>d</sub>i - 0RXI + 0RX2]- [0d2 - 0di + 0RXI - RX2 ] = -20RX! + 2 </p><p id="p0147" num="0147">0RX2 (9) </p><p id="p0148" num="0148">Simplifying Equation (9) yields the phase delay difference Δ0κχ between the receiver calibration circuits of boards 1 and 2 as follows: </p><p id="p0149" num="0149">A0<sub>RX</sub> = 0<sub>RX2</sub>- 0<sub>RX1</sub> = (B2-A2-D2 + C2)/2 (10) </p><p id="p0150" num="0150">Also, the phase delay difference between the transmitter calibration circuits of boards 1 and 2 can be derived as follows: </p><p id="p0151" num="0151"> (C2 - A2) = [0<sub>TX2</sub> + 0<sub>dl</sub> + 0<sub>R</sub>X<sub>2</sub>] - [0<sub>TX1</sub> + 0<sub>dl</sub> + <sub>RX!</sub>]= JX2 - 0<sub>TX1</sub> + ( RX2 - 0RX!) = 0 </p><p id="p0152" num="0152"><sub>TX2</sub>- 0r<sub>X1</sub> + (B2-A2-D2 + C2)/2. (11) </p><p id="p0153" num="0153">Simplifying Equation (11) yields the inter-board phase delay difference Δ0<sub>ΤΧ</sub> between transmitter calibration circuits as follows: </p><p id="p0154" num="0154"> Δ0τχ =0TX2 - 0Txi = (C2 - A2) - [(B2 - A2 - D2 + C2)/2] = (-A2 - B2 +C2 + D2)/2 </p><p id="p0155" num="0155">(12) 
<!-- EPO <DP n="24"/>-->
 FIGURES 17A through 17D illustrate example calibrations of delays and phases between calibration circuits of two connected boards of a multi-board antenna array in accordance with this disclosure. Note that each board of the multi-board array is connected to at least one other board. In this example, boards 1 and 2 are assumed to be connected. The following calibration operations can also be implemented between other connected boards of a multi-board antenna array. </p><p id="p0156" num="0156"> As shown in FIGURES 17A and 17B, a controller has made four measurements and from these measurements has calculated the time delays of transmitter calibrators 1710 and 1735, τ<sub>τχ1</sub> and τ<sub>ΤΧ2</sub>, respectively. In addition, it is known that a CAL TX adjustor 1705 has a time adjusting values of T<sub>ad</sub>j<sub>Txl</sub> and a CAL TX adjustor 1740 has a time adjusting values of T<sub>ad</sub>j<sub>TX2</sub>. </p><p id="p0157" num="0157"> By way of example only, the initial values for calibration circuits of the connected two boards, board 1 and board 2, are assumed as follows: </p><p id="p0158" num="0158"> TadjTxi = 50 ns, τ<sub>τχ1</sub> = 50ns, T<sub>adjTX2</sub> = 50ns, τ<sub>ΤΧ2</sub> = 35ns </p><p id="p0159" num="0159"> TadjRxi = 50 ns, TRX<sub>!</sub> - 50ns, T<sub>ADJRX2</sub> = 50ns, TR^ = 35ns </p><p id="p0160" num="0160"> T<sub>dl</sub> = 20 ns, ¾ = 45 ns </p><p id="p0161" num="0161"> After setting the initial values as above, the calibration operation makes four measurements and obtains the Al, Bl , CI, and Dl values as follows: Al = 225 ns, Bl = 255 ns, CI = 215ns, and Dl =235ns. The time delay differences are calculated from Equations (4) and (6) as follows: </p><p id="p0162" num="0162"> (T<sub>TX2</sub> - T<sub>tx1</sub> ) = (-A - B + C + D)/2 </p><p id="p0163" num="0163"> ( RX2 - XRXI) = (B - A - D + C)/2 </p><p id="p0164" num="0164"> Thus: </p><p id="p0165" num="0165"> Δτ<sub>τχ</sub> =(x<sub>TX2</sub> - τ<sub>τχ1</sub> )=15ns</p><p id="p0166" num="0166"><img id="imgf000024_0001" he="5" wi="47" file="imgf000024_0001.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="no"/></p><p id="p0167" num="0167"> For calibrating the calibration circuit of board 2, the initial adjustment value of 50ns for TX adjustor 1740 is adjusted by the amount AXJX of +15ns to be 65ns. Also, to compensate for Δτ^χ, the initial adjustment value of 50ns for an RX adjustor 1750 (coupled to a receiver calibrator 1745) is adjusted by the amount Δτ ^ of -5ns to be 45ns. </p><p id="p0168" num="0168"> As shown in FIGURES 17C and 17D, similar to calibrating the time delay, the controller makes four measurements and determines the phase delay differences between transmitter calibrators 1760 and 1775, Δφ<sub>ΤΧ1</sub> and Δφ<sub>ΤΧ2</sub>, respectively. Also, the controller measures and determines the phase delay difference Δφ<sub>ΛΧ</sub> between the receiver calibrator 1760 on board 1 and a receiver calibrator 1785 (coupled to an RX 
<!-- EPO <DP n="25"/>-->
 adjustor 1790) on board 2. In addition, it is known that a CAL TX adjustor 1755 has a phase adjusting values of φ <sub>3£</sub>υτχι and <sup>a</sup> CAL TX adjustor 1780 has a time adjusting values of </p><p id="p0169" num="0169"> By way of example only, the initial values for calibration circuits of the connected two boards, board 1 and board 2, are assumed as follows:</p><p id="p0170" num="0170"><img id="imgf000025_0001" he="5" wi="23" file="imgf000025_0001.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="no"/>
 &lt;j&gt;adjTX2 =50deg, φ<sub>ΤΧ2</sub> =35deg, §<sub>ad</sub>jKxi <sup>=</sup>50deg </p><p id="p0171" num="0171"> φκχί =55deg, ^RX2 =50deg, φιοα =60deg, φ<sub>¾</sub> τχι =50deg </p><p id="p0172" num="0172"> φ<sub>&lt;</sub>π =20deg, φ^ =45deg </p><p id="p0173" num="0173"> After setting the initial values as above, the calibration operation makes four measurements and obtains the A2, B2, C2, and D2 values as follows: A2 =225deg, B2 =255deg, C2 =215deg, D2 =235deg. The phase delay differences are calculated from Equations (10) and (12) as follows: </p><p id="p0174" num="0174"> (Φκχ2 - Φκχι) = (B - A - D + C)/2, (φτχ<sub>2</sub> - φ<sub>τχ1</sub> ) = (-A - B + C + D)/2 (13) </p><p id="p0175" num="0175"> Simplifying Equation (13) yields the inter-board phase delay difference Δ0<sub>ΤΧ</sub> between transmitter calibration circuits as follows: </p><p id="p0176" num="0176"> Δτ<sub>τχ</sub> =(τ<sub>ΤΧ2</sub> - ΧΤΧΪ )=15ns, Δτ^ =(TRX2 - T<sub>RX1</sub>)=-5ns. </p><p id="p0177" num="0177"> For calibrating the calibration TX channel on board 2 with respect to that of board 1, the initial adjustment value of 50ns for the TX adjustor 1780 is adjusted by the amount Δχ<sub>τχ</sub> of +15ns to be 65ns. Also, for calibrating the calibration RX channel on board 2 with respect to that of board 1, the initial adjustment value of 50ns for the RX adjustor 1750 is adjusted by the amount Δφ χχ of -5ns to be 45ns. </p><p id="p0178" num="0178"> FIGURE 18 is an example flowchart 1800 for calibrating a multi-board antenna array in accordance with this disclosure. Once the CAL transmitters and CAL receivers on different boards have the same delays, all of the TX and RX channels on each board can be aligned to have equal delays. To be an aligned multi-board, each of the TX and RX antenna channels has the same time delay and absolute phase. </p><p id="p0179" num="0179"> In operation 1805, default values are set, which includes setting the current antenna array number = 1 and setting the maximum number of arrays = K. In operation 1810, the calibration circuit (RX and TX) on boards 1 and 2 are calibrated to have identical delay and phase, such as by using the procedures previously described in FIGURES 15B and 16. In operation 1815, the algorithm checks to see if the current array J and its adjacent board (J+l) are the last boards requiring calibration circuit correction. If so, the process ends at step 1820 and moves on to calibration of the actual antenna arrays. </p><p id="p0180" num="0180"> FIGURE 19 illustrates an example time and phase calibration procedure for a 
<!-- EPO <DP n="26"/>-->
 multi-board antenna array in accordance with this disclosure. Once again, the multi-board antenna array includes at least two boards (board 1 and board 2) connected to one another. </p><p id="p0181" num="0181"> The method for calibrating or correcting the calibration circuits (Calibration TX and Calibration RX) of a multi-board antenna array is performed in sub-routine 1900 prior to calibrating the main transmitter and receiver paths of each antenna array in the system. The sub-routine 1900 here represents the algorithm 1800 described above. Upon completion of the calibration circuit corrections, the process of calibrating the full array begins. In step 1905, default values are set, such as by setting the current antenna array number J = 1 , the maximum number of TX and RX antenna paths = L, and the current antenna path = M. </p><p id="p0182" num="0182"> In steps 1910 and 1915, delay and phase calibrations are iteratively performed on each transmitter antenna path until all paths have the same envelope delay and RF carrier phase at each antenna port. This process was described previously in relation to FIGURE 1 1 A. </p><p id="p0183" num="0183"> In steps 1920 and 1925, delay and phase calibrations are iteratively performed on each receiver antenna path until all paths have the same envelope delay and RF carrier phase at the receiver's baseband input (ADC). This process was described previously in relation to FIGURE 1 IB. </p><p id="p0184" num="0184"> In step 1935, the RX and TX calibrations are completed for the current array, so a check is made to see if the current array J is the last array K. If not, the array number J is incremented in step 1930, and the process returns to step 1910 to begin calibrating the transmitter and receiver paths of the next array. When the current array J is the last array K, the calibration of all antenna arrays in the system has been completed. At this point, all arrays have the same delay and phase relationships relative to each other since the calibration circuits on each board have been forced to have identical delay and phase. </p><p id="p0185" num="0185"> FIGURE 20 illustrates an example system 2000 for self-calibrating two calibration receiver channels and two calibration transmitter channels in a single board of a multi-board antenna array in accordance with this disclosure. This configuration may be used, for example, when the phase correction algorithm uses baseband phase comparators to simultaneously determine the difference between two or more antenna paths. </p><p id="p0186" num="0186"> In some beamforming systems, each antenna transmits the same data and waveform, and it is therefore possible to use a baseband phase comparator to calculate 
<!-- EPO <DP n="27"/>-->
 the phase difference between two or more antennas simultaneously. In such systems, two or more separate calibration circuits such as those described in FIGURE 20 can be used. However, since different calibration transmitters 2040a-2040b and calibration receivers 2030a-2030b in such a system have different amplitude, delay and phase responses, each calibration circuit can be calibrated before use during a calibration routine. Further, each calibration circuit can have the capability to be auto-calibrated during normal operation to account for component changes, such as those caused by temperature and environmental influences and long-term drift. The calibration operations can be implemented by a controller installed on a single board of a multi-board antenna array or by a controller installed on an independent motherboard accommodating the multi-board antenna array or other board. </p><p id="p0187" num="0187"> The system 2000 in FIGURE 20 uses two identical switch banks 2023a-2023b to enable simultaneous antenna phase comparisons and allow faster calibrations compared to methods that calibrate one channel at a time. However, as previously mentioned, this approach can be limited to applications that transmit or receive identical data on all channels, which is typically not a cellular system that exhibits random traffic data on each channel. </p><p id="p0188" num="0188"> FIGURE 20 is nearly identical to FIGURE 12 except for minor modifications that eliminate the off-board connectors, as well as the cables and switches that support that function. This example is given to show that the architecture of FIGURE 12 that supports calibration of multi-board calibration circuits can easily be modified to support the calibration of multiple same-board calibration circuits. Furthermore, anytime there are two or more transmitters or receivers in a system where it is desired to know the delay difference and phase difference between them, the architectures in FIGURES 12 and 20 can be used along with the algorithm in FIGURES 15B and 16. </p><p id="p0189" num="0189"> FIGURE 21 illustrates an example clock synchronization plane 2100 used to calibrate an antenna array in accordance with this disclosure. In order to calibrate TX channels so that all TX channels exhibit the same envelope and carrier phase alignment at the antenna and all RX channels exhibit the same envelope and carrier phase alignment at the ADC output, the clock and data is aligned for every channel at the baseband REF plane where the reference data is captured (and later compared to the feedback data in order to calibrate delay and phase coefficients). Since the data from multi-channel modems becomes skewed after traversing long fiber or copper interfaces to an antenna array, clock synchronization is used at every channel's reference data capture plane (usually the DAC and ADC) in order to create a fixed 
<!-- EPO <DP n="28"/>-->
 reference plane where the data and clock are perfectly aligned (synchronized) across channels. </p><p id="p0190" num="0190"> In the example below, the modem data and clock at the CPRI interface has become misaligned between channels. Even though it is possible through calibration to get equal delay (%i = τ<sub>2</sub> <sup>=</sup>· · .τ<sub>η</sub>) and equal phase alignment (φι = φ<sub>2</sub> =· ..φ<sub>η</sub>) between the REF plane and the antenna ports for all channels, the data at the REF plane is different channel-to-channel and therefore will show up at the antenna ports misaligned to each other or be sent to the modem misaligned relative to each other. This gives the impression of a bad calibration even though calibration has properly occurred. In order to generate an aligned signal, clock synchronization is performed at each channel's analog-to-digital converter (ADC) plane and digital-to-analog converter (DAC) plane in order to create a fixed reference plane where data is substantially aligned (synchronized) with the clock. This is referred to as the REF synchronization plane 2105. </p><p id="p0191" num="0191"> Digital clocks can be auto-calibrated (synchronized) by buffering a sample of each clock at the respective DAC/ADC inputs and sending these clock samples across matched length traces to a clock phase detector. Software or other logic can determine the phase adjustment required for each clock and program each clock's individual delay. All clocks can originate from the same clock integrated circuit, which can have an adjustable delay capability on all clocks outputs. With the clocks and data synchronized at the REF plane, delay phase differences between multiple transmitter and receiver paths can easily be calibrated using baseband delay blocks to create an end-to-end array calibration. </p><p id="p0192" num="0192"> FIGURE 22A illustrates an example multi-board antenna array 2200 with a clock synchronization system and FIGURE 22B illustrates an example algorithm for achieving clock synchronization across multiple antenna arrays in accordance with this disclosure. Identical transceiver boards can be used in the multi-board antenna array 2200, although a master board can be designated to receive a system clock, synchronize to the system clock, and distribute the system clock to other boards. In some embodiments, the system clock can be input into a Z-pack backplane connector from an external clock, or it can be recovered from a CPRI interface using an FPGA SERDES (such as ALTERA 's GTX gigabit transceivers). A system sync signal can be input from an external source or derived in the master board's FPGA or controller. Modern transceiver integrated circuits often use a sync signal to periodically synchronize clock and data signals. 
<!-- EPO <DP n="29"/>-->
 Each board in the array can include clock delay adjustment capabilities. Modern clock distribution integrated circuits often have this capability built-in to the devices. A synchronized delay can be performed in an FPGA or controller. To do this, each board can have CLK and Sync inputs and outputs to pass signals along to other boards. </p><p id="p0193" num="0193"> A clock synchronization operation in accordance with this disclosure can occur as follows. The clock synchronization operation can be used on up to N boards, but this example shows four boards for simplicity. In step 1, one of the boards is designated to be the master board 2210, and the other boards 2215-2225 are designated to be slave boards. In step 2, on the master board 2210, a controller 2205 enables a clock recovery circuit, enables a sync generator circuit, and sets three multiplexers to the correct settings. In step 3, on the slave boards 2215-2225, the controller 2205 disables a clock recovery circuit, disables a sync generator circuit, and sets three multiplexers to the correct settings. In step 4, the controller 2205 on the master board 2210 injects a synchronization (sync) pulse into the master board 2210 and uses the master board's sync pulse generator circuit. In step 5, the controller 2205 on the master board 2210 injects a clock at the normal clock frequency into the master board 2210 or recovers the clock from a clock recovery circuit. In step 6, on the master board 2210, the controller 2205 adjusts the phase of the Clock and Sync signals arriving at each transceiver path so that all transceiver Clock and Sync inputs arrive substantially edge-aligned. This can be auto-synchronized as described above using a clock phase comparator. In step 7, on each slave board 2215-2225, the controller 2205 adjusts the phase of the Clock and Sync signals arriving at each transceiver path so that all transceiver Clock and Sync inputs arrive substantially edge-aligned. This can be auto-synchronized as in step 6. In step 8, on board 2220, the controller 2205 adjusts all Clock and Sync delays on the board 2220 to match the Clock and Sync phases of the board 2225, which could be auto-synchronized as in step 6. In step 9, on board 2215, the controller 2205 adjusts all Clock and Sync delays on the board 2215 to match the Clock and Sync phases of the board 2225, which could be auto-synchronized as in step 6. In step 10, on board 2210, the controller 2205 adjusts all Clock and Sync delays on the board 2210 to match the Clock and Sync phases of the board 2225, which could be auto-synchronized as in step 6. </p><p id="p0194" num="0194"> With reference to FIGURE 22B, it is noted that each antenna array has a built-in radio transceiver with the number of receiver and transmitter paths equal to the number of antenna ports. In step 2230, default values are set, such as by setting the 
<!-- EPO <DP n="30"/>-->
 maximum number of transceiver boards = K (equal to the number of antenna arrays) and the current transceiver board = 1. In step 2235, designate the master as board #1 and set the multiplexer (MUX) states such that the Sync generator will be used by the local FPGA and also propagated to the other boards in the system. Also, enable (turn on) the clock recovery circuit (to recover a clock from the modem data), set the MUX to correct state, and enable the sync generator. In step 2240, for all other transceiver boards in the system, set the MUX states to obtain the sync and clock signals from the backplane, turn off the Sync generator, and turn off the clock recovery circuit. In step 2245, align all of the master board's clock edges and align all the Sync pulses. This can be done manually or automatically as previously described. In step 2250, check to see if the alignment is good, such as either visually using an oscilloscope or automatically using a phase comparator and suitable algorithm. If alignment is bad, step 2245 is repeated. If alignment is good, a check is made in step 2255 if L equals K. If no, increment L in step 2260 and return to step 2245. </p><p id="p0195" num="0195"> After all K boards have had their clocks and Sync pulses aligned, each board is still in misalignment with respect to the other boards. So, in step 2265, set the current board equal to the master L = 1 and measure the clock edge difference between boards L and L+l in step 2270. This can be done visually with an oscilloscope or automatically using a phase comparator and suitable algorithm. In step 2275, use the clock edge delta found in step 2270 and apply a bulk shift of all clocks on the current board to put them in alignment with the clocks on board L+l . This process continues via steps 2280-2290 to put all board clocks in alignment with each other. Since the Sync pulse is orders of magnitude slower than the clock, it may not need bulk shifting, although that is an option that can be performed in steps 2270-2290. </p><p id="p0196" num="0196"> FIGURE 23 illustrates an example multi-board antenna array 2300 equipped with a data transfer system in accordance with this disclosure. When multiple boards and transceivers require calibration, a method of transferring calibration commands and data between individual boards can be used. For example, a system with four individual antenna arrays (where each array has 32 elements) can achieve beamforming phase alignment between the 32 elements of each array, but there may be no phase alignment between the four arrays. </p><p id="p0197" num="0197"> A method of communication between individual antenna and transceiver boards can be used to accomplish beamforming calibration between all boards. A communication system can include buffered low-voltage differential signaling (LVDS) data input lines, data output lines, clock lines, and SPI lines running between every 
<!-- EPO <DP n="31"/>-->
 transceiver board in the system. One of the transceiver boards can be designated as the master board, and the master board can configure all other boards to be slaves and issue read and write commands to each transceiver to request or send data. </p><p id="p0198" num="0198"> One example use of this system is to share beamforming calibration data between each board, and the master board can enable a bulk phase shift of each antenna array so that all antenna arrays become phase aligned. It is assumed that each antenna array has all of its 32 antenna elements phase aligned, but the arrays are not phase aligned to each other. The master board can perform a calibration of its first antenna element- 1 with the first antenna element- 1 of the next array (antenna array-2), such as by using the communication system to compare the phases of each element. The resulting phase difference can be applied to all 32 elements of the next array-2. This process can be repeated for the remaining antenna arrays (array-3 through array-N) so that all antenna arrays have substantially the same RF phase alignment at every antenna element. </p><p id="p0199" num="0199"> FIGURE 24 illustrates an example flowchart describing calibration operations of multi-board antenna arrays in accordance with this disclosure. In the following discussion, the calibration system is used with K antenna arrays (each with N antenna elements) connected to N transceiver cards, where each antenna array is typically connected to one transceiver card such that K = N. The calibration operations can be divided into four stages: (i) clock synchronization, (ii) MIMO calibration (equalization), (iii) calibrating the calibration circuit on each board, and (iv) beamforming calibration of multiple antenna arrays to each other. </p><p id="p0200" num="0200"> In step 2405, the calibration operation synchronizes all clocks on every board to each other, such as by using the architecture, algorithm, and flowchart previously described in FIGURES 22A and 22B. Upon completion of clock synchronization, the calibration operation performs MIMO calibration on all antenna arrays. This involves equalization of the amplitude responses and phase responses of all TX and RX paths in the array to achieve wireless channel reciprocity as described previously in FIGURE 5. In step 2410, the calibration operation sets default values, such as by setting the current array J = 1 and the maximum number of arrays = K. In step 2415, the calibration operation equalizes all transmitter and receiver paths, such as by using the algorithm and flowchart of FIGURE 5. The calibration operation checks to see if the current array is the last array in step 2420. If not, the current array J is incremented in step 2425, and the process returns to step 2415. </p><p id="p0201" num="0201"> After MIMO calibration has completed, the calibration operation moves on to 
<!-- EPO <DP n="32"/>-->
 self-calibration of the calibration circuits. This enables delay and phase calibration between all antenna ports in a multi-board antenna array system. In step 2430, the calibration operation sets default values, such as by setting the current antenna array J = 1 and the maximum number of arrays = K. In step 2435, the calibration operation self-calibrates the calibration circuits on two adjacent boards J and J+l, such as by using the hardware described in FIGURE 12 and the flowchart and algorithms described in FIGURES 15B, 16 and 18. In step 2440, the calibration operation checks to see if the calibration operation is on the last set of boards in the system. If not, the calibration operation increments J at step 2445 and returns to step 2435. This continues until all calibration circuits on all boards have been calibrated to make
<img id="imgf000032_0001" he="7" wi="156" file="imgf000032_0001.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="no"/>
 </p><p id="p0202" num="0202">&lt;t&gt;CAL_TX_ArrayK&gt; tCAL_RX_ Array 1 <sup>=</sup> tCAL_RX_Array2 <sup>=</sup> · · · ~ ^CAL_RX_ArrayK&gt; and &lt;|&gt;CAL_RX_Arrayl <sup>=</sup></p><p id="p0203" num="0203">§CAL_RX_Anay2 =... = &lt;t&gt;CAL_Rx_ArrayK- When this condition is met, it is possible to perform beamforming calibration on K individual antenna arrays and expect every RX and TX antenna path on every array to have delay and phase alignment at the antenna port for TX and delay and phase alignment at the receiver baseband (ADC output). </p><p id="p0204" num="0204"> Beamforming array calibration begins with step 2450 where default values are set, such as by setting the current array number J = 1 , the maximum number of antenna paths = L, and the current antenna path M = 1. In step 2455, the calibration operation performs beamforming calibration on the current TX antenna path, such as by using the algorithm and method described in association with FIGURE 11 A. In step 2460, the calibration operation checks to see if beamforming calibration has completed on all TX antenna paths in the array. If not, the calibration operation repeats step 2455 after incrementing M until all TX paths are calibrated. In step 2465, the calibration operation performs beamforming calibration on the current RX antenna path, such as by using the algorithm and method described with respect to FIGURE 1 IB. In step 2470, a check is made to see if beamforming calibration has completed on all RX antenna paths in the array. If not, the calibration operation repeats step 2465 after incrementing M until all RX paths are calibrated. In step 2475, the calibration operation checks to see if the current array is the last array. If not, the current array J is incremented at step 2480 and the process returns to step 2455. </p><p id="p0205" num="0205"> To summarize, this disclosure provides various methods and apparatuses for calibrating a multi-board antenna array supporting MIMO and/or beamforming. This disclosure also provides a clocking system for multiple-board antenna array synchronization, as well as techniques for automatic compensation of a calibration 
<!-- EPO <DP n="33"/>-->
 W 201 </p><p id="p0206" num="0206">-32- circuit itself (which can be calibrated before being used to calibrate the antenna arrays). This disclosure further provides a communication system that enables the calibration of a plurality of antenna arrays. In addition, this disclosure provides an algorithm for performing multiple antenna array calibration that ties together clock synchronization, calibration of a calibration circuit, auto-calibration of each antenna path per antenna array, and auto-calibration of each antenna array to each other. </p><p id="p0207" num="0207"> Note that various functions described in this patent document can be implemented or supported by one or more computer programs, each of which is formed from computer readable program code and embodied in a computer readable medium. The terms "application" and "program" refer to one or more computer programs, software components, sets of instructions, procedures, functions, objects, classes, instances, related data, or a portion thereof adapted for implementation in a suitable computer readable program code. The phrase "computer readable program code" includes any type of computer code, including source code, object code, and executable code. The phrase "computer readable medium" includes any type of medium capable of being accessed by a computer, such as read only memory (ROM), random access memory (RAM), a hard disk drive, a compact disc (CD), a digital video disc (DVD)j or any other type of memory. A "non-transitory" computer readable medium excludes wired, wireless, optical, or other communication links that transport transitory electrical or other signals. A non-transitory computer readable medium includes media where data can be permanently stored and media where data can be stored and later overwritten, such as a rewritable optical disc or an erasable memory device. </p><p id="p0208" num="0208"> While this disclosure has described certain embodiments and generally associated methods, alterations and permutations of these embodiments and methods will be apparent to those skilled in the art. Accordingly, the above description of example embodiments does not define or constrain this disclosure. Other changes, substitutions, and alterations are also possible without departing from the spirit and scope of this disclosure, as defined by the following claims. 
</p></description><claims mxw-id="PCLM70077642" ref-ucid="WO-2014129863-A1" lang="EN" load-source="patent-office"><claim-statement><!-- EPO <DP n="34"/>--> WHAT IS CLAIMED IS: </claim-statement><claim id="clm-0001" num="1"><claim-text>1. A method comprising: </claim-text><claim-text> transmitting a calibration command to multiple antenna arrays, each antenna array comprising a plurality of antenna elements, a plurality of transmitter and receiver channels, and a calibration circuit comprising a calibration receiver and a calibration transmitter, the antenna arrays connected to one another; </claim-text><claim-text> for each pair of connected antenna arrays, calibrating the calibration circuits of the connected antenna arrays based on time delay differences and phase delay differences between the calibration receivers and the calibration transmitters in the pair of connected antenna arrays; and </claim-text><claim-text> calibrating the antenna elements of each antenna array using the calibrated calibration circuits. </claim-text></claim><claim id="clm-0002" num="2"><claim-text>2. The method of Claim 1 , further comprising: </claim-text><claim-text> calibrating each antenna array to have substantially a same time delay and substantially a same phase delay at respective antenna ports. </claim-text></claim><claim id="clm-0003" num="3"><claim-text>3. The method of Claim 1 , wherein a coaxial cable connects the calibration circuits of each pair of connected antenna arrays. </claim-text></claim><claim id="clm-0004" num="4"><claim-text>4. The method of Claim 1 , wherein the calibration circuit of each antenna array comprises a network of switches configured to form one of: </claim-text><claim-text> an inter-antenna array path connecting the calibration receiver of one antenna array to the calibration transmitter of another antenna array; and </claim-text><claim-text> an intra-antenna array path connecting the calibration receiver and the calibration transmitter of one antenna array. </claim-text></claim><claim id="clm-0005" num="5"><claim-text>5. The method of Claim 1, wherein the time delay difference between the calibration receivers in one pair of connected antenna arrays is determined as: </claim-text><claim-text> tRX2 - x<sub>RX1</sub> = (Bl - Al - Dl + Cl)/2 </claim-text><claim-text> where:</claim-text><claim-text>
  <img id="imgf000034_0001" he="5" wi="40" file="imgf000034_0001.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="no"/>
</claim-text><claim-text> B 1 = Τχχι + Td2 + TRX2 </claim-text><claim-text> C 1 = T<sub>TX1</sub> + Td! + TRX2 
<!-- EPO <DP n="35"/>-->
 Dl - τ<sub>ΤΧ2</sub> + T(J2 + TRXI </claim-text><claim-text> wherein τ<sub>τχ1</sub> and τ χ are time delays at the calibration transmitter and the calibration receiver, respectively, in a first of the connected antenna arrays; </claim-text><claim-text> wherein τ<sub>τχ2</sub> and τ οα. are time delays at the calibration transmitter and the calibration receiver, respectively, in a second of the connected antenna arrays; </claim-text><claim-text> wherein f <sub>dl</sub> is a time delay between the calibration transmitter and the calibration receiver in the first antenna array; and </claim-text><claim-text> wherein ¾ is a time delay between the calibration transmitter in one of the connected antenna arrays and the calibration receiver in another of the connected antenna arrays. </claim-text></claim><claim id="clm-0006" num="6"><claim-text>6. The method of Claim 5, wherein the time delay difference between the calibration transmitters in one pair of connected antenna arrays is determined as: </claim-text><claim-text> (τ<sub>τχ2</sub> - τ<sub>τχ1</sub> ) = (-A1 - Bl + CI + Dl)/2. </claim-text></claim><claim id="clm-0007" num="7"><claim-text>7. The method of Claim 1 , wherein the phase delay difference between the calibration receivers in one pair of connected antenna arrays is determined as: </claim-text><claim-text> 0RX2 - 0RX1 = (B2 - Α2 - Ό2 + C2)/2 </claim-text><claim-text> where: </claim-text><claim-text> A2 = ΤΧ! +<sup>■</sup> 0<sub>dl</sub> + RX! </claim-text><claim-text> B2 = 0<sub>TX1</sub> + 0<sub>d2</sub> + RX2 </claim-text><claim-text> C2 = 0<sub>TX1</sub> + 0<sub>dl</sub> + RX2 </claim-text><claim-text> D2 = 0<sub>TX2</sub> + 0<sub>d2</sub> + 0R<sub>X1</sub> </claim-text><claim-text> wherein 0χ<sub>Χ1</sub> and 0RXI are phase delays at the calibration transmitter and the calibration receiver, respectively, in a first of the connected antenna arrays; </claim-text><claim-text> wherein 0p<sub>X2</sub> and 0R<sub>X2</sub> are phase delays at the calibration transmitter and the calibration receiver, respectively, in a second of the connected antenna arrays; </claim-text><claim-text> wherein 0<sub>dl</sub> is a phase delay between the calibration transmitter and the calibration receiver in the first antenna array; and </claim-text><claim-text> wherein 0<sub>d2</sub> is a phase delay between the calibration transmitter in one of the connected antenna arrays and the calibration receiver in another of the connected antenna arrays. </claim-text></claim><claim id="clm-0008" num="8"><claim-text>8. The method of Claim 7, wherein the phase delay difference between the 
<!-- EPO <DP n="36"/>-->
 calibration transmitters in one pair of connected antenna arrays is determined as: (0TX2 - 0TX1 ) = (-A2 - B2 + C2 + D2)/2. </claim-text></claim><claim id="clm-0009" num="9"><claim-text>9. The method of Claim 1 , further comprising: </claim-text><claim-text> measuring a first time delay in the transmitter and receiver channels of a first of the multiple antenna arrays using the calibrated calibration circuit in the first antenna array; </claim-text><claim-text> measuring a second time delay in the transmitter and receiver channels of a second of the multiple antenna arrays using the calibrated calibration circuit in the second antenna array; </claim-text><claim-text> calculating a difference between the first time delay and the second time delay; and </claim-text><claim-text> adjusting the channels of one of the first and second antenna arrays based on the calculated difference. </claim-text></claim><claim id="clm-0010" num="10"><claim-text>10. The method of Claim 1, further comprising: </claim-text><claim-text> measuring a first phase delay in the transmitter and receiver channels of a first of the multiple antenna arrays using the calibrated calibration circuit in the first antenna array; </claim-text><claim-text> measuring a second phase delay in the transmitter and receiver channels of a second of the multiple antenna arrays using the calibrated calibration circuit in the second antenna array; </claim-text><claim-text> calculating a difference between the first phase delay and the second phase delay; and </claim-text><claim-text> adjusting the channels of one of the first and second antenna arrays based on the calculated difference. </claim-text></claim><claim id="clm-0011" num="11"><claim-text>11. A system comprising multiple antenna arrays, each antenna array comprising: </claim-text><claim-text> a plurality of antenna elements; </claim-text><claim-text> a plurality of transmitter and receiver channels; </claim-text><claim-text> a calibration circuit comprising a calibration receiver and a calibration transmitter; and </claim-text><claim-text> a controller configured to: </claim-text><claim-text> calibrate the calibration circuit of the antenna array based on time 
<!-- EPO <DP n="37"/>-->
 delay differences and phase delay differences between the calibration receivers and the calibration transmitters in a pair of connected antenna arrays; and </claim-text><claim-text> calibrate the antenna elements of the antenna array using the calibrated calibration circuit of the antenna array. </claim-text></claim><claim id="clm-0012" num="12"><claim-text>12. The system of Claim 11, wherein the controllers in the multiple antenna arrays are collectively configured to calibrate the antenna arrays to have substantially a same time delay and substantially a same phase delay at antenna ports of the antenna arrays. </claim-text></claim><claim id="clm-0013" num="13"><claim-text>13. The system of Claim 11, wherein the calibration circuit in each antenna array comprises a network of switches configured to form one of: </claim-text><claim-text> an inter-antenna array path connecting the calibration receiver of one antenna array to the calibration transmitter of another antenna array; and </claim-text><claim-text> an intra-antenna array path connecting the calibration receiver and the calibration transmitter of one antenna array. </claim-text></claim><claim id="clm-0014" num="14"><claim-text>14. The system of Claim 11, wherein each controller is configured to determine the time delay difference between the calibration receivers in one pair of connected antenna arrays as: </claim-text><claim-text> XRX2 - XRXI = (Bl - Al - Dl + Cl)/2 </claim-text><claim-text> where: </claim-text><claim-text> Al = τ<sub>τχ1</sub> + T(H + TRX] </claim-text><claim-text> B 1 = T<sub>TX1</sub> + τ<sub>Α2</sub> + TRX2 </claim-text><claim-text> C 1 = Τχχ! + Ten + TRX2 </claim-text><claim-text> Dl = T<sub>TX2</sub> + Td2 + TRX </claim-text><claim-text> wherein τ<sub>τχ1</sub> and TR^ are time delays at the calibration transmitter and the calibration receiver, respectively, in a first of the connected antenna arrays; </claim-text><claim-text> wherein τ<sub>ΤΧ2</sub> and TR^ are time delays at the calibration transmitter and the calibration receiver, respectively, in a second of the connected antenna arrays; </claim-text><claim-text> wherein τ ^ι is a time delay between the calibration transmitter and the calibration receiver in the first antenna array; and </claim-text><claim-text> wherein r<sub>d2</sub> is a time delay between the calibration transmitter in one of the connected antenna arrays and the calibration receiver in another of the connected antenna arrays. 
<!-- EPO <DP n="38"/>-->
</claim-text></claim><claim id="clm-0015" num="15"><claim-text>15. The system of Claim 14, wherein each controller is configured to determine the time delay difference between the calibration transmitters in one pair of connected antenna arrays as: </claim-text><claim-text> (τ<sub>Τ</sub>χ2 - τ<sub>τχ1</sub> ) = (-A1 - Bl + CI + Dl)/2. </claim-text></claim><claim id="clm-0016" num="16"><claim-text>16. The system of Claim 1 1 , wherein each controller is configured to determine the phase delay difference between the calibration receivers in one pair of connected antenna arrays as: </claim-text><claim-text> 0RX2 - 0Rxi = (B2 - Α2 - Ό2 + C2)/2 </claim-text><claim-text> where: </claim-text><claim-text> A2 = 0<sub>TX1</sub> + 0<sub>dl</sub> + 0<sub>RX1</sub> </claim-text><claim-text> B2 = 0<sub>TX1</sub> + d2 + R 2 </claim-text><claim-text> C2 = 0<sub>TX1</sub> + 0<sub>dl</sub> + RX2 </claim-text><claim-text> D2 = 0TX2 + 0d2 + 0RX1 </claim-text><claim-text> wherein r<sub>X 1</sub> and Ojou are phase delays at the calibration transmitter and the calibration receiver, respectively, in a first of the connected antenna arrays; </claim-text><claim-text> wherein 0p<sub>X2</sub> and RX2 are phase delays at the calibration transmitter and the calibration receiver, respectively, in a second of the connected antenna arrays; </claim-text><claim-text> wherein 0<sub>dl</sub> is a phase delay between the calibration transmitter and the calibration receiver in the first antenna array; and </claim-text><claim-text> wherein 0^ is a phase delay between the calibration transmitter in one of the connected antenna arrays and the calibration receiver in another of the connected antenna arrays. </claim-text></claim><claim id="clm-0017" num="17"><claim-text>17. The system of Claim 16, wherein each controller is configured to determine the phase delay difference between the calibration transmitters in one pair of connected antenna arrays as: </claim-text><claim-text> (0<sub>TX2</sub> - 0<sub>TX1</sub> ) = (-A1 - Bl + CI + Dl)/2. </claim-text></claim><claim id="clm-0018" num="18"><claim-text>18. The system of Claim 1 1, wherein the controller in a first of the multiple antenna arrays or a second of the multiple antenna arrays is further configured to: </claim-text><claim-text> calculate a difference between a first time delay in the transmitter channel of the first antenna array and a second time delay in the transmitter channel of the second antenna array; and 
<!-- EPO <DP n="39"/>-->
 adjust the channels of one of the first and second antenna arrays based on the calculated difference. </claim-text></claim><claim id="clm-0019" num="19"><claim-text>19. An apparatus for use with multiple antenna arrays, each antenna array comprising a plurality of antenna elements, a plurality of transmitter and receiver channels, and a calibration circuit comprising a calibration receiver and a calibration transmitter, the apparatus comprising: </claim-text><claim-text> a controller configured to: </claim-text><claim-text> calibrate the calibration circuit of a first of the multiple antenna arrays based on time delay differences and phase delay differences between the calibration receivers and the calibration transmitters in a pair of connected antenna arrays including the first antenna array and a second antenna array; and </claim-text><claim-text> calibrate the antenna elements of the first antenna array using the calibrated calibration circuit of the first antenna array. </claim-text></claim><claim id="clm-0020" num="20"><claim-text>20. The apparatus of Claim 19, wherein the controller is configured to control a network of switches in the calibration circuit of the first antenna array to form one of: </claim-text><claim-text> an inter-antenna array path connecting one of the calibration transmitter or the calibration receiver of the first antenna array to one of the calibration receiver or the calibration transmitter of the second antenna array; and </claim-text><claim-text> an intra-antenna array path connecting the calibration receiver and the calibration transmitter of the first antenna array. </claim-text></claim><claim id="clm-0021" num="21"><claim-text>21. The apparatus of Claim 19, wherein the controller is configured to determine the time delay difference between the calibration receivers of the first and second antenna arrays as: </claim-text><claim-text> XRX2 - ¾xi = (Bl - Al - Dl + Cl)/2 </claim-text><claim-text> where: </claim-text><claim-text> Al = τ<sub>Τ</sub>χ! + T<sub>D L</sub> + TRXI </claim-text><claim-text> Bl = τ<sub>τχ1</sub> + ¾ + TR 2 </claim-text><claim-text> CI = Τχχι + T<sub>D L</sub> + TRX2 </claim-text><claim-text> Dl = Τ<sub>Τ</sub>χ2 + Td<sub>2</sub> + TRX ! </claim-text><claim-text> wherein Τχχ! and TRxi are time delays at the calibration transmitter and the calibration receiver, respectively, in the first antenna array; 
<!-- EPO <DP n="40"/>-->
 wherein τ<sub>ΤΧ2</sub> and are time delays at the calibration transmitter and the calibration receiver, respectively, in the second antenna array; </claim-text><claim-text> wherein τ n is a time delay between the calibration transmitter and the calibration receiver in the first antenna array; and </claim-text><claim-text> wherein ¾ is a time delay between the calibration transmitter in one of the first and second antenna arrays and the calibration receiver in another of the first and second antenna arrays. </claim-text></claim><claim id="clm-0022" num="22"><claim-text>22. The apparatus of Claim 21, wherein the controller is configured to determine the time delay difference between the calibration transmitters of the first and second antenna arrays as: </claim-text><claim-text> (τ<sub>Τ</sub>χ<sub>2</sub> - τ<sub>τχ1</sub> ) = (-A1 - Bl + CI + Dl)/2. </claim-text></claim><claim id="clm-0023" num="23"><claim-text>23. The apparatus of Claim 19, wherein the controller is configured to determine the phase delay difference between the calibration receivers of the first and second antenna arrays as: </claim-text><claim-text> 0RX2 - 0RXI = (B2 - A2 - D2 + C2)/2 </claim-text><claim-text> where: </claim-text><claim-text> A2 = 0<sub>TX 1</sub> + 0<sub>dl</sub> + 0RX! </claim-text><claim-text> B2 = 0<sub>TX1</sub> + d2 + RX2 </claim-text><claim-text> C2 = 0<sub>TX1</sub> + 0<sub>dl</sub> + 0RX2 </claim-text><claim-text> D2 = 0TX2 + 0d2 + 0R 1 </claim-text><claim-text> wherein r <sub>1</sub> and 0joa are phase delays at the calibration transmitter and the calibration receiver, respectively, in the first antenna array; </claim-text><claim-text> wherein 0χ<sub>Χ2</sub> and 0^ are phase delays at the calibration transmitter and the calibration receiver, respectively, in the second antenna array; </claim-text><claim-text> wherein 0<sub>dl</sub> is a phase delay between the calibration transmitter and the calibration receiver in the first antenna array; and </claim-text><claim-text> wherein 0<sub>d2</sub> is a phase delay between the calibration transmitter in one of the first and second antenna arrays and the calibration receiver in another of the first and second antenna arrays. </claim-text></claim><claim id="clm-0024" num="24"><claim-text>24. The apparatus of Claim 22, wherein the controller is configured to determine the phase delay difference between the calibration transmitters of the first 
<!-- EPO <DP n="41"/>-->
 and second antenna arrays as: </claim-text><claim-text> (0<sub>TX2</sub> - ) = (-A1 - Bl + CI + Dl)/2. </claim-text></claim><claim id="clm-0025" num="25"><claim-text> 25. The apparatus of Claim 19, wherein the controller is further configured to: </claim-text><claim-text> calculate a difference between a first time delay in the transmitter and receiver channels of the first antenna array and a second time delay in the transmitter channel of the second antenna array; </claim-text><claim-text> calculate a difference between a first phase delay in the transmitter and receiver channels of the first antenna array and a second phase delay in the transmitter channel of the second antenna array; and </claim-text><claim-text> adjust the channels of at least one of the first and second antenna arrays based on the calculated differences. </claim-text></claim><claim id="clm-0026" num="26"><claim-text>26. A method for aligning multiple transceivers connected to one another, each transceiver comprising a transmitter and a receiver, the method comprising: transmitting an alignment command to the multiple transceivers; and for each pair of connected transceivers, aligning calibration circuits of the connected transceivers based on time delay differences and phase delay differences between the receivers and the transmitters in the pair of connected transceivers; </claim-text><claim-text> wherein the time delay difference between the receivers in one pair of connected transceivers is determined as: </claim-text><claim-text> XRX2 - ¾<sub>x1</sub> = (B1 - A1 - D1 + C 1)/2 </claim-text><claim-text> where: </claim-text><claim-text> Al = τ<sub>Τ</sub>χι + + TRX! </claim-text><claim-text> Bl = T<sub>TX 1</sub> + ¾ + T X2 </claim-text><claim-text> CI = T<sub>TX1</sub> + T<sub>DL</sub> + TRX2 </claim-text><claim-text> Dl = Τ<sub>Τ</sub>χ2 + ¾ + TRXI </claim-text><claim-text> wherein τ<sub>τχ1</sub> and TRXJ are time delays at the transmitter and the receiver, respectively, in a first of the connected transceivers; </claim-text><claim-text> wherein τ<sub>ΤΧ2</sub> and TR^ are time delays at the transmitter and the receiver, respectively, in a second of the connected transceivers; </claim-text><claim-text> wherein τ<sub>ά]</sub> is a time delay between the transmitter and the receiver in the first transceiver; and </claim-text><claim-text> wherein is a time delay between the transmitter in one of the connected 
<!-- EPO <DP n="42"/>-->
 transceivers and the receiver in another of the connected transceivers. </claim-text></claim><claim id="clm-0027" num="27"><claim-text>27. The method of Claim 26, wherein the time delay difference between the transmitters in one pair of connected transceivers is determined as: </claim-text><claim-text> (τ<sub>ΤΧ2</sub> - τ<sub>χχ1</sub> ) = (-A1 - Bl + CI + Dl)/2. </claim-text></claim><claim id="clm-0028" num="28"><claim-text>28. The method of Claim 26, wherein the phase delay difference between the receivers in one pair of connected transceivers is determined as: </claim-text><claim-text> 0RX2 - 0Rxi = (B2 - A2 - D2 + C2)/2 </claim-text><claim-text> where:</claim-text><claim-text>
  <img id="imgf000042_0001" he="6" wi="41" file="imgf000042_0001.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="no"/>
</claim-text><claim-text> B2 = 0<sub>TX1</sub> + <sub>d2</sub> + RX2 
<img id="imgf000042_0002" he="11" wi="42" file="imgf000042_0002.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="no"/>
 </claim-text><claim-text> wherein 0<sub>TX 1</sub> and Φχχχ are phase delays at the transmitter and the receiver, respectively, in the first transceiver; </claim-text><claim-text> wherein 0<sub>TX2</sub> and 0<sub>RX2</sub> are phase delays at the transmitter and the receiver, respectively, in the second transceiver; </claim-text><claim-text> wherein 0<sub>dl</sub> is a phase delay between the transmitter and the receiver in the first transceiver; and </claim-text><claim-text> wherein 0<sub>d2</sub> is a phase delay between the transmitter in one of the connected transceivers and the receiver in another of the connected transceivers. </claim-text></claim><claim id="clm-0029" num="29"><claim-text>29. The method of Claim 28, wherein the phase delay difference between the transmitters in one pair of connected transceivers is determined as: </claim-text><claim-text> (0<sub>TX2</sub> - 0<sub>TX 1</sub> ) = (-A1 - Bl + CI + Dl)/2. </claim-text></claim><claim id="clm-0030" num="30"><claim-text>30. An apparatus for aligning multiple transceivers connected to one another, each transceiver comprising a transmitter and a receiver, the apparatus comprising: </claim-text><claim-text> a controller configured to: </claim-text><claim-text> transmit an alignment command to'the multiple transceivers; and </claim-text><claim-text> for each pair of connected transceivers, align calibration circuits of the connected transceivers based on time delay differences and phase delay differences 
<!-- EPO <DP n="43"/>-->
 between the receivers and the transmitters in the pair of connected transceivers; </claim-text><claim-text> wherein the controller is configured to determine the time delay difference between the receivers in one pair of connected transceivers as: </claim-text><claim-text> XRX2 - XRXI = (B1 - A1 - D1 + C1)/2 </claim-text><claim-text> where: </claim-text><claim-text> Al = τ<sub>τχ1</sub> + T<sub>dl</sub> <sup>+</sup> TRXI </claim-text><claim-text> B 1 = T<sub>TX 1</sub> + T<sub>D2</sub> + TRX<sub>2</sub> </claim-text><claim-text> CI = Τχχ! + Tdl + TRX2 </claim-text><claim-text> D 1 = TJX2 + τ 2 + TRXI </claim-text><claim-text> wherein τ<sub>χχ1</sub> and T<sub>rx1</sub> are time delays at the transmitter and the receiver, respectively, in a first of the connected transceivers; </claim-text><claim-text> wherein τ<sub>ΤΧ2</sub> and T RX<sub>2</sub> are time delays at the transmitter and the receiver, respectively, in a second of the connected transceivers; </claim-text><claim-text> wherein T<sub>DL</sub> is a time delay between the transmitter and the receiver in the first transceiver; and </claim-text><claim-text> wherein r<sub>d2</sub> is a time delay between the transmitter in one of the connected transceivers and the receiver in another of the connected transceivers. </claim-text></claim><claim id="clm-0031" num="31"><claim-text>31. The apparatus of Claim 30, wherein the controller is configured to determine the time delay difference between the transmitters in one pair of connected transceivers as: </claim-text><claim-text> (XTX2 - XTXI ) = (-A1 - Bl + CI + Dl)/2. </claim-text></claim><claim id="clm-0032" num="32"><claim-text>32. The apparatus of Claim 30, wherein the controller is configured to determine the phase delay difference between the receivers in one pair of connected transceivers as: </claim-text><claim-text> 0RX2 - 0Rxi = (B2 - A2 - D2 + C2)/2 </claim-text><claim-text> where: 
<img id="imgf000043_0001" he="17" wi="42" file="imgf000043_0001.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="no"/>
 </claim-text><claim-text> D2 = 0<sub>TX2</sub> + 0<sub>D2</sub> + 0<sub>RX 1</sub> </claim-text><claim-text> wherein 0<sub>TX 1</sub> and 0<sub>RX</sub>i are phase delays at the transmitter and the receiver, respectively, in the first transceiver; 
<!-- EPO <DP n="44"/>-->
 wherein 0<sub>Τ</sub>χ<sub>2</sub> and RX<sub>2</sub> are phase delays at the transmitter and the receiver, respectively, in the second transceiver; </claim-text><claim-text> wherein 0<sub>&lt;</sub>n is a phase delay between the transmitter and the receiver in the first transceiver; and </claim-text><claim-text> wherein 0^ is a phase delay between the transmitter in one of the connected transceivers and the receiver in another of the connected transceivers. </claim-text></claim><claim id="clm-0033" num="33"><claim-text>33. The apparatus of Claim 32, wherein the controller is configured to determine the phase delay difference between the transmitters in one pair of connected transceivers as: </claim-text><claim-text> (0TX2 - 0Txi ) = (-A1 - Bl + CI + Dl)/2. </claim-text></claim><claim id="clm-0034" num="34"><claim-text>34. A method for use with multiple antenna arrays, each antenna array comprising a plurality of antenna elements, a plurality of transceivers, a clock recovery circuit, and a synchronization (sync) generator circuit, the method comprising: </claim-text><claim-text> designating one of the antenna arrays as a master antenna array and at least one other of the antenna arrays as at least one slave antenna array; </claim-text><claim-text> enabling the clock recovery circuit and the sync generator circuit of the master antenna array; </claim-text><claim-text> disabling the clock recovery circuits and the sync generator circuits of each slave antenna array; </claim-text><claim-text> injecting a clock signal recovered from the clock recovery circuit of the master antenna array into the master and at least one slave antenna arrays; </claim-text><claim-text> injecting a sync signal generated from the sync generator circuit of the master antenna array into the master and at least one slave antenna arrays; </claim-text><claim-text> adjusting phases of the clock and sync signals arriving at each transceiver in the master antenna array such that the clock and sync signals arrive substantially edge-aligned at each transceiver of the master antenna array; and </claim-text><claim-text> for each slave antenna array, adjusting phases of clock and sync signals arriving at each transceiver in the slave antenna array such that the clock and sync signals arrive substantially edge-aligned at each transceiver of the slave antenna array. </claim-text></claim><claim id="clm-0035" num="35"><claim-text>35. An apparatus for use with multiple antenna arrays, each antenna array 
<!-- EPO <DP n="45"/>-->
 comprising a plurality of antenna elements, a plurality of transceivers, a clock recovery circuit, and a synchronization (sync) generator circuit, the apparatus comprising: </claim-text><claim-text> a controller configured to: </claim-text><claim-text> designate one of the antenna arrays as a master antenna array and at least one other of the antenna arrays as at least one slave antenna array; </claim-text><claim-text> enable the clock recovery circuit and the sync generator circuit of the master antenna array; </claim-text><claim-text> disable the clock recovery circuits and the sync generator circuits of each slave antenna array; </claim-text><claim-text> inject a clock signal recovered from the clock recovery circuit of the master antenna array into the master and the at least one slave antenna arrays; </claim-text><claim-text> inject a sync signal generated from the sync generator circuit of the master antenna array into the master and the at least one slave antenna arrays; </claim-text><claim-text> adjust phases of the clock and sync signals arriving at each transceiver in the master antenna array such that the clock and sync signals arrive substantially edge-aligned at each transceiver of the master antenna array; and </claim-text><claim-text> for each slave antenna array, adjust phases of clock and sync signals arriving at each transceiver in the slave antenna array such that the clock and sync signals arrive substantially edge-aligned at each transceiver of the slave antenna array. 
</claim-text></claim></claims><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
