<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2959659-A1" country="EP" doc-number="2959659" kind="A1" date="20151230" family-id="50336362" file-reference-id="306815" date-produced="20180826" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="160452517" ucid="EP-2959659-A1"><document-id><country>EP</country><doc-number>2959659</doc-number><kind>A1</kind><date>20151230</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-14711306-A" is-representative="NO"><document-id mxw-id="PAPP193868002" load-source="docdb" format="epo"><country>EP</country><doc-number>14711306</doc-number><kind>A</kind><date>20140203</date><lang>EN</lang></document-id><document-id mxw-id="PAPP193868003" load-source="patent-office" format="original"><country>EP</country><doc-number>14711306.2</doc-number><date>20140203</date><lang>EN</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC162033055" ucid="IB-2014058765-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>IB</country><doc-number>2014058765</doc-number><kind>W</kind><date>20140203</date></document-id></priority-claim><priority-claim mxw-id="PPC162034335" ucid="US-201313773450-A" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>201313773450</doc-number><kind>A</kind><date>20130221</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-1988522934" load-source="docdb">H04L  29/06        20060101AFI20140911BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1988527174" load-source="docdb">H04L  12/701       20130101ALI20140911BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1987763613" load-source="docdb" scheme="CPC">H04L  63/062       20130101 LI20150401BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987771162" load-source="docdb" scheme="CPC">H04L  63/068       20130101 LI20150401BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987772362" load-source="docdb" scheme="CPC">H04L  63/0428      20130101 FI20150618BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987779014" load-source="docdb" scheme="CPC">H04L  45/00        20130101 LI20150620BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987791219" load-source="docdb" scheme="CPC">H04L  69/18        20130101 LI20150618BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987794009" load-source="docdb" scheme="CPC">H04L  63/08        20130101 LI20150401BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987794070" load-source="docdb" scheme="CPC">H04L  45/04        20130101 LA20150401BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987794678" load-source="docdb" scheme="CPC">H04L  63/065       20130101 LI20150401BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT165549017" lang="DE" load-source="patent-office">MECHANISMUS FÜR KOORDINIERTEN AUTHENTIFIZIERUNGSSCHLÜSSELÜBERGANG FÜR IS-IS-PROTOKOLL</invention-title><invention-title mxw-id="PT165549018" lang="EN" load-source="patent-office">MECHANISM FOR CO-ORDINATED AUTHENTICATION KEY TRANSITION FOR IS-IS PROTOCOL</invention-title><invention-title mxw-id="PT165549019" lang="FR" load-source="patent-office">MÉCANISME DE TRANSITION DE CLÉ D'AUTHENTIFICATION COORDONNÉE POUR PROTOCOLE SI-SI</invention-title><citations><non-patent-citations><nplcit><text>See references of WO 2014128579A1</text><sources><source mxw-id="PNPL67567829" load-source="docdb" name="SEA"/></sources></nplcit></non-patent-citations></citations></technical-data><parties><applicants><applicant mxw-id="PPAR1103334002" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>ERICSSON TELEFON AB L M</last-name><address><country>SE</country></address></addressbook></applicant><applicant mxw-id="PPAR1103320879" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>TELEFONAKTIEBOLAGET L M ERICSSON (PUBL)</last-name></addressbook></applicant><applicant mxw-id="PPAR1101640648" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Telefonaktiebolaget L M Ericsson (publ)</last-name><iid>101537273</iid><address><city>164 83 Stockholm</city><country>SE</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR1103332427" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>CHUNDURI UMA S</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR1103330205" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>CHUNDURI, UMA S.</last-name></addressbook></inventor><inventor mxw-id="PPAR1101649089" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>CHUNDURI, UMA S.</last-name><address><street>41055 Corriea Court</street><city>Fremont, California 94539</city><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR1103311329" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>LU WENHU</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR1103329561" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>LU, WENHU</last-name></addressbook></inventor><inventor mxw-id="PPAR1101651802" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>LU, WENHU</last-name><address><street>1028 Belvedere Lane</street><city>San Jose, California 95129</city><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR1103310107" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>LINDEM III ALFRED C</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR1103340931" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>LINDEM III, ALFRED C.</last-name></addressbook></inventor><inventor mxw-id="PPAR1101642327" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>LINDEM III, ALFRED C.</last-name><address><street>301 Midenhall Way</street><city>Cary, NC 27519</city><country>US</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR1101642417" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Rees, Simon John Lewis</last-name><iid>100819336</iid><address><street>Haseltine Lake LLP Redcliff Quay 120 Redcliff Street</street><city>Bristol BS1 6HU</city><country>GB</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="IB-2014058765-W"><document-id><country>IB</country><doc-number>2014058765</doc-number><kind>W</kind><date>20140203</date><lang>EN</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2014128579-A1"><document-id><country>WO</country><doc-number>2014128579</doc-number><kind>A1</kind><date>20140828</date><lang>EN</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS660703074" load-source="docdb">AL</country><country mxw-id="DS660703032" load-source="docdb">AT</country><country mxw-id="DS660703104" load-source="docdb">BE</country><country mxw-id="DS660624555" load-source="docdb">BG</country><country mxw-id="DS660623837" load-source="docdb">CH</country><country mxw-id="DS660724269" load-source="docdb">CY</country><country mxw-id="DS660703033" load-source="docdb">CZ</country><country mxw-id="DS660703105" load-source="docdb">DE</country><country mxw-id="DS660724270" load-source="docdb">DK</country><country mxw-id="DS660724279" load-source="docdb">EE</country><country mxw-id="DS660788670" load-source="docdb">ES</country><country mxw-id="DS660624556" load-source="docdb">FI</country><country mxw-id="DS660624557" load-source="docdb">FR</country><country mxw-id="DS660703106" load-source="docdb">GB</country><country mxw-id="DS660724280" load-source="docdb">GR</country><country mxw-id="DS660703111" load-source="docdb">HR</country><country mxw-id="DS660703034" load-source="docdb">HU</country><country mxw-id="DS660623838" load-source="docdb">IE</country><country mxw-id="DS660703112" load-source="docdb">IS</country><country mxw-id="DS660624558" load-source="docdb">IT</country><country mxw-id="DS660724281" load-source="docdb">LI</country><country mxw-id="DS660625265" load-source="docdb">LT</country><country mxw-id="DS660703039" load-source="docdb">LU</country><country mxw-id="DS660625266" load-source="docdb">LV</country><country mxw-id="DS660625275" load-source="docdb">MC</country><country mxw-id="DS660709297" load-source="docdb">MK</country><country mxw-id="DS660709298" load-source="docdb">MT</country><country mxw-id="DS660703040" load-source="docdb">NL</country><country mxw-id="DS660788671" load-source="docdb">NO</country><country mxw-id="DS660623847" load-source="docdb">PL</country><country mxw-id="DS660625277" load-source="docdb">PT</country><country mxw-id="DS660703041" load-source="docdb">RO</country><country mxw-id="DS660625278" load-source="docdb">RS</country><country mxw-id="DS660623848" load-source="docdb">SE</country><country mxw-id="DS660625287" load-source="docdb">SI</country><country mxw-id="DS660788672" load-source="docdb">SK</country><country mxw-id="DS660623849" load-source="docdb">SM</country><country mxw-id="DS660709319" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data><office-specific-data><eptags><ep-no-a-document-published>*</ep-no-a-document-published></eptags></office-specific-data></bibliographic-data><abstract mxw-id="PA139077628" ref-ucid="WO-2014128579-A1" lang="EN" load-source="patent-office"><p num="0000">An automated key transition method is executed by a node in a network. The network includes a set of nodes utilizing a current key identifier provided by a group key management server or provisioned manually. A key identifier specifies an authentication protocol and an authentication key for use in the authentication of intermediate-system to intermediate-system (IS-IS) protocol data units. The method includes receiving a message from the group key management server that includes a most recent key field to replace the current key identifier, advertising the most recent key identifier to all reachable nodes, verifying whether all reachable nodes have advertised the most recent key identifier, continuing authentication using the current key identifier until all reachable nodes have been verified to advertise the most recent key identifier, and switching authentication to use the most recent key identifier upon verification that all reachable nodes have advertised the most recent key identifier.</p></abstract><abstract mxw-id="PA139544364" ref-ucid="WO-2014128579-A1" lang="EN" source="national office" load-source="docdb"><p>An automated key transition method is executed by a node in a network. The network includes a set of nodes utilizing a current key identifier provided by a group key management server or provisioned manually. A key identifier specifies an authentication protocol and an authentication key for use in the authentication of intermediate-system to intermediate-system (IS-IS) protocol data units. The method includes receiving a message from the group key management server that includes a most recent key field to replace the current key identifier, advertising the most recent key identifier to all reachable nodes, verifying whether all reachable nodes have advertised the most recent key identifier, continuing authentication using the current key identifier until all reachable nodes have been verified to advertise the most recent key identifier, and switching authentication to use the most recent key identifier upon verification that all reachable nodes have advertised the most recent key identifier.</p></abstract><abstract mxw-id="PA139077629" ref-ucid="WO-2014128579-A1" lang="FR" load-source="patent-office"><p num="0000">L'invention concerne un procédé de transition de clé automatisé qui est exécuté par un nœud dans un réseau. Le réseau comprend un ensemble de nœuds utilisant un identifiant de clé courant obtenu par un serveur de gestion des clés de groupe ou fourni manuellement. Un identifiant de clé détermine un protocole d'authentification et une clé d'authentification destinés à être utilisés dans l'authentification d'unités de données de protocole de système intermédiaire à système intermédiaire (SI-SI). Le procédé consiste à recevoir un message du serveur de gestion des clés de groupe qui comprend un champ clés plus récent afin de remplacer l'identifiant de clé courant, annoncer l'identifiant de clé le plus récent à tous les nœuds atteignables, vérifier si tous les nœuds atteignables ont été informés de l'identifiant de clé le plus récent, continuer l'authentification à l'aide de l'identifiant de clé courant jusqu'à ce que tous les nœuds atteignables aient été vérifiés afin d'annoncer l'identifiant de clé le plus récent et procéder à la commutation de l'authentification afin d'utiliser l'identifiant de clé le plus récent lors de la vérification de l'annonce à tous les nœuds atteignables de l'identifiant de clé le plus récent.</p></abstract><abstract mxw-id="PA139544365" ref-ucid="WO-2014128579-A1" lang="FR" source="national office" load-source="docdb"><p>L'invention concerne un procédé de transition de clé automatisé qui est exécuté par un nœud dans un réseau. Le réseau comprend un ensemble de nœuds utilisant un identifiant de clé courant obtenu par un serveur de gestion des clés de groupe ou fourni manuellement. Un identifiant de clé détermine un protocole d'authentification et une clé d'authentification destinés à être utilisés dans l'authentification d'unités de données de protocole de système intermédiaire à système intermédiaire (SI-SI). Le procédé consiste à recevoir un message du serveur de gestion des clés de groupe qui comprend un champ clés plus récent afin de remplacer l'identifiant de clé courant, annoncer l'identifiant de clé le plus récent à tous les nœuds atteignables, vérifier si tous les nœuds atteignables ont été informés de l'identifiant de clé le plus récent, continuer l'authentification à l'aide de l'identifiant de clé courant jusqu'à ce que tous les nœuds atteignables aient été vérifiés afin d'annoncer l'identifiant de clé le plus récent et procéder à la commutation de l'authentification afin d'utiliser l'identifiant de clé le plus récent lors de la vérification de l'annonce à tous les nœuds atteignables de l'identifiant de clé le plus récent.</p></abstract><description mxw-id="PDES78477449" ref-ucid="WO-2014128579-A1" lang="EN" load-source="patent-office"><!-- EPO <DP n="2"/>--><p id="p0001" num="0001"> MECHANISM FOR CO-ORDINATED AUTHENTICATION KEY TRANSITION FOR IS IS PROTOCOL </p><p id="p0002" num="0002">FIELD </p><p id="p0003" num="0003"> Embodiments of the invention are related to the field of routing protocol security. Specifically, the embodiments relate to a method and system for changing authentication keys of the security protocol without disrupting intermediate system to intermediate system (IS-IS) function. </p><p id="p0004" num="0004">BACKGROUND </p><p id="p0005" num="0005"> The use of cryptographic authentication with the IS-IS protocol has been defined and periodically extended. Specifically, the IS-IS protocol was updated to enable the authentication of all IS-IS Protocol Data Units (PDUs) by including authentication information as part of the PDU. This authentication information is encoded as a Type-Length-Value (TLV) tuple. The type of this authentication information TLV is specified as 10. The length of this TLV can vary and the value of the TLV depends on an authentication algorithm to be used and similar factors. The first octet of the value of the TLV specifies the authentication type. Type 0 is reserved, type 1 indicates a cleartext password, and type 255 is used for routing domain private authentication methods. The remaining portion of the TLV value is referred to as the Authentication Value, which is a field and value to be utilized during the authentication process. Extensions to the cryptographic authentication features of IS-IS have enabled additional types of authentication, mechanisms, and processes to be utilized and standardized for use with IS-IS. </p><p id="p0006" num="0006"> Group key management enables the definition of a chain of authentication keys to be utilized in connection with any type of authentication process. The chain defines an order of use for the authentication keys providing a defined progression of authentication keys to enhance security over a continuous use of a single authentication key. In connection with IS-IS, group key management can be utilized, but the update of the authentication keys across the nodes of a network can potentially disrupt the functioning of the IS-IS protocol during transition from an old authentication key to a new authentication key. 
<!-- EPO <DP n="3"/>-->
 SUMMARY </p><p id="p0007" num="0007"> An automated key transition method is executed by a node in a network. The network includes a set of nodes that are interconnected and utilizing a current key identifier provided by a group key management server or provisioned manually. A key identifier specifies an authentication protocol and an authentication key for use in the authentication of intermediate-system to intermediate-system (IS-IS) protocol data units within an IS-IS network, area, or domain. The method includes a set of steps including receiving a message from the group key management server having a most recent key field to hold a most recent key identifier to replace the current key identifier, notifying an IS-IS module of a change of the most recent key identifier, advertising the most recent key identifier to all reachable nodes, verifying whether all reachable nodes have advertised the most recent key identifier, continuing authentication using the current key identifier until all reachable nodes have been verified to advertise the most recent key identifier, and switching authentication to use the most recent key identifier upon verification that all reachable nodes have advertised the most recent key identifier. </p><p id="p0008" num="0008"> A node is configured to execute an automated key transition method for a network. The network including a set of nodes that are interconnected and utilizing a current key identifier provided by a group key management server or provisioned manually. A key identifier specifies an authentication protocol and an authentication key for use in the authentication of intermediate-system to intermediate-system (IS-IS) protocol data units within an IS-IS network, area, or domain. The node comprises a network interface for sending and receiving IS-IS messages to adjacent nodes in the network, and a network processor coupled to the network interface, the network processor configured to execute a local key database manager and an IS-IS module. The local key database manager is configured to receive a message from the group key management server having a most recent key field to hold a most recent key identifier to replace the current key identifier and to notify the IS-IS module of a change to the most recent key identifier, the IS-IS module includes an IS-IS key manager that is configured to advertise the most recent key identifier to all reachable nodes, to continue authentication using the current key identifier until all reachable nodes have been verified to advertise the most recent key identifier. The IS-IS key manager is further configured to verify whether all reachable nodes have advertised the most recent key 
<!-- EPO <DP n="4"/>-->
 identifier, and to switch authentication to use the most recent key identifier upon verification that all reachable nodes have advertised the most recent key identifier. </p><p id="p0009" num="0009">BRIEF DESCRIPTION OF THE DRAWINGS </p><p id="p0010" num="0010"> The present invention is illustrated by way of example, and not by way of limitation, in the figures of the accompanying drawings in which like references indicate similar elements. It should be noted that different references to "an" or "one" embodiment in this disclosure are not necessarily to the same embodiment, and such references mean at least one. Further, when a particular feature, structure, or characteristic is described in connection with an embodiment, it is submitted that it is within the knowledge of one skilled in the art to affect such feature, structure, or characteristic in connection with other embodiments whether or not explicitly described. </p><p id="p0011" num="0011"> Figure 1 is a diagram of one embodiment of a process for group authentication key transition in a network for IS-IS. </p><p id="p0012" num="0012"> Figure 2 is a diagram of one embodiment of a node in the network that implements a coordinated authentication key transition for IS-IS. </p><p id="p0013" num="0013"> Figure 3 is a diagram of one embodiment of a network of nodes that implement the coordinated authentication key transition for IS-IS. </p><p id="p0014" num="0014">DETAILED DESCRIPTION </p><p id="p0015" num="0015"> In the following description, numerous specific details are set forth. However, it is understood that embodiments of the invention may be practiced without these specific details. In other instances, well-known circuits, structures and techniques have not been shown in detail in order not to obscure the understanding of this description. It will be appreciated, however, by one skilled in the art, that the invention may be practiced without such specific details. Those of ordinary skill in the art, with the included descriptions, will be able to implement appropriate functionality without undue experimentation. </p><p id="p0016" num="0016"> The techniques shown in the figures can be implemented using code and data stored and executed on one or more electronic devices (e.g., a sensor device, end station, a network element, server or similar electronic devices). Such electronic devices store and communicate (internally and/or with other electronic devices over a 
<!-- EPO <DP n="5"/>-->
 network) code and data using non-transitory machine-readable or computer-readable media, such as non-transitory machine-readable or computer-readable storage media (e.g., magnetic disks; optical disks; random access memory; read only memory; flash memory devices; and phase-change memory). In addition, such electronic devices typically include a set of one or more processors coupled to one or more other components, such as one or more storage devices, user input/output devices (e.g., a keyboard, a touch screen, and/or a display), and network connections. The coupling of the set of processors and other components is typically through one or more busses and bridges (also termed as bus controllers). The storage devices represent one or more non-transitory machine -readable or computer-readable storage media and non- transitory machine -readable or computer-readable communication media. Thus, the storage device of a given electronic device typically stores code and/or data for execution on the set of one or more processors of that electronic device. Of course, one or more parts of an embodiment of the invention may be implemented using different combinations of software, firmware, and/or hardware. </p><p id="p0017" num="0017"> As used herein, a network element (e.g., a router, switch, bridge, or similar networking device.) is a piece of networking equipment, including hardware and software that communicatively interconnects other equipment on the network (e.g., other network elements, end stations, or similar networking devices). Some network elements are "multiple services network elements" that provide support for multiple networking functions (e.g., routing, bridging, switching, Layer 2 aggregation, session border control, multicasting, and/or subscriber management), and/or provide support for multiple application services (e.g., data collection). </p><p id="p0018" num="0018"> In the following description and claims, the terms 'coupled' and 'connected,' along with their derivatives, may be used. It should be understood that these terms are not intended as synonyms for each other. 'Coupled' is used to indicate that two or more elements, which may or may not be in direct physical or electrical contact with each other, co-operate or interact with each other. 'Connected' is used to indicate the establishment of communication between two or more elements that are coupled with each other. </p><p id="p0019" num="0019"> To ease understanding, dashed lines have been used in the figures to signify the optional nature of certain items (e.g., features not supported by a given implementation 
<!-- EPO <DP n="6"/>-->
 of the invention; features supported by a given implementation, but used in some situations and not in others). </p><p id="p0020" num="0020"> Embodiments of the invention provide a process and system that address the problem of enabling automated authentication key transitioning as part of a group key management process thereby avoiding the need for manual key distribution for the routers. In addition, the advantages of the embodiments of the invention include that the functions of the IS-IS protocol are not impeded by a key transition, because the embodiments allow for continued functioning under a current authentication key until determining that all of the nodes are prepared to transition. </p><p id="p0021" num="0021"> The disadvantages of the prior art include that authentication keys are not able to change without affecting any IS-IS protocol operations, in particular the functions of establishing adjacencies between nodes, control packet loss and retransmission functions, and link state packet (LSP) flooding where the flooding is held until specific authentication key identifiers have been updated across the nodes of the network. Thus, the general requirements of the network implementing the IS-IS protocol are not met when a group key management protocol is deployed. </p><p id="p0022" num="0022">Overview </p><p id="p0023" num="0023"> The embodiments can be effectively used to enable key transitions in coordination with a group key management server and a group key management protocol without any significant impact to the IS-IS routing protocol operations. These embodiments are suitable to deploy with manual key deployments for effective key transitions in the entire IS-IS LI area/ L2 domain. IS-IS routers can be designated as being Level 1 (LI intra-area); Level 2 (L2 inter-area); or Level 1-2 (L1/L2 both). Level 2 routers are inter-area routers that can only form relationships with other Level 2 routers. Routing information is exchanged between Level 2 routers and other Level 2 routers, while Level 1 routers only exchange routing information with other Level 1 routers. Level 1-2 (L1/L2) routers exchange routing information with both levels and are used to connect the inter-area routers with the intra-area routers. </p><p id="p0024" num="0024"> The key deployments can define an IS-IS Security Association (SA). An IS-IS SA contains a set of parameters shared between any two nodes implementing the IS-IS protocol. The parameters associated with an IS-IS SA include a key identifier. The key identifier is a two-octet unsigned integer that uniquely identifies an IS-IS SA, as 
<!-- EPO <DP n="7"/>-->
 manually configured by the network operator. The receiver determines the active SA by looking at a key ID field in the incoming protocol data unit (PDU). The sender, based on the active configuration, selects the SA to use and inserts the correct key identifier value associated with the SA in the IS-IS PDU. </p><p id="p0025" num="0025"> Each key identifier defines two items: an authentication protocol (also referred to as an authentication mechanism) and an authentication key. In some embodiments, a network operator or administrator is able to configure a set of keys in a key chain, with each key in the chain having a fixed lifetime. Each key identifier can indicate a key with a different authentication protocol. This allows any number of different authentication mechanisms to be used at various times without disrupting IS-IS peering. This system also supports the subsequent addition of new authentication mechanisms. </p><p id="p0026" num="0026"> The authentication protocol or mechanism is a field that contains a value to identify the authentication algorithm to be used with the IS-IS SA. This information is not sent in cleartext over the wire. Because this information is not sent on the wire, the implementer chooses an implementation specific representation for this information. Examples of the possible values include those that represent HMAC-SHA-1, HMAC- SHA-224, HMAC-SHA-256, HMAC-SHA-384, and HMAC-SHA-512. </p><p id="p0027" num="0027"> The authentication key is the value that denotes the cryptographic authentication key associated with the IS-IS SA. The length of this key is variable and depends upon the authentication algorithm specified by the IS-IS SA. </p><p id="p0028" num="0028">Most Recent Key Identifier TLV </p><p id="p0029" num="0029">0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 </p><p id="p0030" num="0030"> +-+-+-+-+-+-+-+-+ </p><p id="p0031" num="0031"> I Type (TBD) | </p><p id="p0032" num="0032"> +-+-+-+-+-+-+-+-+ </p><p id="p0033" num="0033"> I Length | </p><p id="p0034" num="0034"> +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ </p><p id="p0035" num="0035"> I ostRecentKeylD | </p><p id="p0036" num="0036"> +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
<!-- EPO <DP n="8"/>-->
 In one embodiment, a new TLV (shown above) is utilized in IS-IS messages (e.g., in IIH, SNP and LSP messages) to advertise the new KeylD received from the Group Key Server (or Group key management protocol). The embodiments can be compatible with RFC 5310. In this implementation of the IS-IS protocol, a current Key ID is part of an authentication TLV as defined in Section 3.1 of RFC 5310. The new TLV, defining the most recent key identifier, can be utilized to advertise the distribution of a new key that the IS-IS area or domain is transitioning toward as defined by a group key manager, for example the next key in a key chain. Separate processes can be defined for the use IS-IS hello (IIH) messages and link state protocol (LSP)/ Sequence Number PDU (SNP) messages to manage the key transition. </p><p id="p0037" num="0037">General Key Transition Process </p><p id="p0038" num="0038"> Figure 1 is a flowchart of one embodiment of a process for authentication key transition for the IS-IS protocol. The process is described as it is executed by each node in the IS-IS network or domain routed by the IS-IS protocol. In one embodiment, the authentication key transition process is initiated in response to receiving a message from the group key management server having a field, specifically a most recent key field, in which can be in any format (Block 101). The most recent key field holds an authentication key identifier that is to replace the current authentication key identifier. The node tracks and utilizes a current key identifier in IS-IS messages, which identifies the authentication key that is currently in use by the node. This current authentication key is to be replaced by the most recent authentication key that is identified by the received message from the group key management server. The most recent authentication key and the most recent authentication key identifier relate to an authentication key that is next to be utilized in the IS-IS domain and which will replace the current authentication key after the transition. Once complete, the most recent authentication key is thereafter the current authentication key and the group key management server will eventually distribute another most recent authentication key for the next transition. The group key management server can use any protocol or messaging type to distribute these authentication keys. The message containing the most recent authentication key can be received at the node by a local key database manager, which then notifies the IS-IS module of the node of the change in the authentication key. 
<!-- EPO <DP n="9"/>-->
 Once the node (e.g., an IS-IS module, specifically an IS-IS key manager) has received the most recent authentication key, it sends a message to all reachable nodes with the most recent key, e.g., in a TLV or other format, thereby advertising to all the reachable nodes that the node is ready to transition to the most recent key (Block 103). The node also tracks the receipt of such advertisement messages from all the reachable nodes. The advertisement message can be any type of IS-IS message such as the use of IS-IS hello messages or by use of an LSP fragment or SNP. The node attempts to verify whether all of the reachable nodes have advertised the most recent key identifier (Block 105). Further checks can be made that the most recent key identifiers that are advertised by all the reachable nodes are identical. The node may continuously monitor and track the advertised most recent key of each reachable node, because these nodes may start advertising before the node receives the most recent key from the group key management server to avoid missing the advertisement due to such timing issues. If all of the reachable nodes are not yet advertising the most recent key identifier, then the node continues to use the current authentication key until all of the reachable nodes have been verified to advertise the most recent key identifier (Block 107). </p><p id="p0039" num="0039"> In some embodiments, there is an option that the node will start a time out counter in response to receiving the most recent key identifier from the group key management server (Block 109). The counter can have any starting and ending value to provide any time frame for determining whether all the nodes in the network have had sufficient time to receive the most recent key, it is assumed that those nodes that have not advertised the most recent keys are not capable of updating or have similar problem and will not be able to transition. After expiration of the counter, a notification of a failure of a node to transition can be generated (Block 111). The notification can be sent to the group key management server, an administrator, or to all reachable nodes. An automated process can be defined to transition the key for all of the nodes that have advertised the most recent key and excluding the non-advertising node. </p><p id="p0040" num="0040"> In some embodiments, a key-rollover expiration timeout is used to detect IS-IS nodes that persist advertising the old current key identifier in the MostRecentKeylD TLV or similar format after a new MostRecentKeylD has been advertised by the group management key server. In this situation, the network operator can be alerted for 
<!-- EPO <DP n="10"/>-->
 manual intervention. After expiration, local policy will determine whether the key- rollover occurs independent of the IS-IS node(s) advertising the old current key- identifier in the MostRecentKeylD TLV (or similar format) or whether the key-rollover is delayed until the problem is resolved. Similarly, for backward compatibility, the key-rollover expiration timeout can be used to determine whether legacy IS-IS nodes that are not advertising the MostRecentKeylD TLV (or similar format) have a high probability of having the new key and being ready for key-rollover. </p><p id="p0041" num="0041"> In one optional embodiment, the node is counted as a verified reachable node in response to receiving other types of messages that contain the most recent key as the current key indicating that the sending node has already transitioned to the use of the most recent key (Block 113). In some cases the advertisement messages may have been missed, or a node that has transitioned may not have implemented the transition protocol. However, since this node already transitioned, the transition process can continue in the other nodes in the network without having to wait further for this transitioned node. </p><p id="p0042" num="0042"> After all of the reachable nodes have been verified as having advertised the most recent key (or have already transitioned), the node can switch the authentication process to use the most recent key identifier (Block 115). The verification that all nodes have received the most recent key ensures that the use of the most recent key can be handled by all of the reachable nodes in the IS-IS network. As each of the nodes in the network are able to verify that all the reachable nodes in the network have the most recent key, they will also each transition to the use of the most recent key, thereby completing the transition of all nodes to the most recent key without disruption to the IS-IS protocol function in the network (Block 117). The switch can coincide with the replacement of the current key identifier with the most recent key identifier. The current key identifier can be preserved for any duration after being replaced, using any other designation such as former key identifier, which can be used in cases where older messages using the former key identifier are still utilized. The former key identifier can be discarded on the next transition or after a defined interval. </p><p id="p0043" num="0043">IIH Procedure </p><p id="p0044" num="0044"> In one embodiment, the advertising message for the authentication key transition can be an IS-IS hello (IIH) message. When IIH messages are utilized, 
<!-- EPO <DP n="11"/>-->
 initially a current key identifier (ID) in the authentication TLV (TLV 10 as defined in RFC 5310) is the same as "MostRecentKeylD" in the new TLV defined herein for IIH messages. When the group key management server or similar central entity assigns or generates a new key, this new key would be updated by all the nodes in the broadcast network in the next IIH message (i.e., the initial CurrentKeylD is still the old value). Each node, after receiving the MostRecentKeylD, will switch to the MostRecentKeylD for IIH messages after verifying all reachable nodes have advertised the new MostRecentKeylD in the broadcast network. </p><p id="p0045" num="0045"> While continuing to receive IS-IS messages, the authentication is still performed based on the CurrentKeylD in the authentication TLV (TLV 10). The old CurrentKeylD is removed or no longer used only after all reachable nodes make the CurrentKeylD = MostRecentKeylD (to accommodate slow transitioning of nodes in the network). This new TLV is applicable for each interface if each interface in the broadcast domain has different keys (i.e., dependent on the scope of the IIH). </p><p id="p0046" num="0046">LSF '/Sequence Number Packets (SNPs) Procedure: </p><p id="p0047" num="0047"> In another embodiment, the message advertising the authentication key transition is an LSP fragment or SNP. When an LSP is utilized, initially the CurrentKeylD in the authentication TLV (TLV 10 - RFC 5310) is the same as "MostRecentKeylD" in the new TLV, defined herein for all LSP fragments/SNPs sent by a node in an LI area or L2 Domain. When the group key management server or some other central entity provides a new key to the nodes of the network, this new TLV would be updated by all the nodes in the LI area or L2 domain by generating an LSP-0 with a new sequence number (i,e., here the CurrentKeylD is still the old value). The sender of LSP fragments then switch to utilize MostRecentKeylD after noticing all reachable nodes have advertised the new MostRecentKeylD in LSP-0 of the LI area or L2 Domain as applicable. On broadcast networks, the sender of the SNP (e.g., either CSNP/PSNP) should similarly make sure that all nodes in the same broadcast scope advertised the new MostRecentKeylD in LSP-0 of the LI area or L2 Domain before switching to the same. While the transition is in process, the received IS-IS message authentication is still performed based on the CurrentKeylD in authentication TLV (TLV 10). This old CurrentKeylD can be removed or its use discontinued after all reachable nodes make the CurrentKeylD = MostRecentKeylD (to allow slow 
<!-- EPO <DP n="12"/>-->
 transitioning nodes). This new TLV is applicable for the entire Ll/area level keys or entire L2/domain keys that are encompassed by the scope of the LSP packets and SNPs, which use the same keys scoped for LSPs. </p><p id="p0048" num="0048"> Figure 2 is a diagram of one embodiment of a node in the network that implements a coordinated authentication key transition for IS-IS. In one embodiment, the network element 201 can be any type of networking device including a router or similar networking device that manages the forwarding of data traffic across a network between a source address and a destination address. The network element or node 201 can include a set of network interfaces 203 and network processors 209. A 'set,' as used herein refers to any positive whole number of items including one. The network interfaces 201 can include general purpose or dedicated circuitry for processing L1/L2/L3 data packet information and forwarding the data packets toward a destination node in the network. The network interfaces 203 can be implemented by line cards or can similar dedicated hardware in the network element 201. In some embodiments, the line cards communicate with one another over a switch fabric to forward incoming data packets from an ingress line card managing a port connected to a medium such as a fiber optical line or Ethernet line. The egress line card similarly, receives the data packet from the ingress line card and places the data packet on a port tied to a fiber optic or Ethernet line. The ingress and egress data processing circuitry can have any configuration and organization such that there is a set of ingress modules 205 and egress modules 207 to receive and send the data, respectively. </p><p id="p0049" num="0049"> A network processor 209 can communicate with the ingress module 205 and egress modules 207 to assist in higher level data packet forwarding (e.g., L3 packet handling), or implement network policing, administration or similar policies. The network processors 209 can be placed in line cards or a main board of the network element in communication with line cards or similar ingress modules 205 and egress modules 207. In one embodiment, the network processors 209 can implement a local key database manager 215 and an IS-IS module 213. The local key database manager 215 can receive key change information via any type of messaging from the key management server or can provide a user interface for the manual update of the key or key chain utilized by the node 201. The local key database manager 215 can notify the IS-IS module 211 of changes to the authentication keys, specifically changes to the 
<!-- EPO <DP n="13"/>-->
 most recent key identifier. The local key database manager 215 generally manages the cryptographic keys for the node including other processes of the node. </p><p id="p0050" num="0050"> In one embodiment, the network processor 209 implements an IS-IS module 213 that encompasses the full implementation of the IS-IS protocol or any subset of the IS-IS protocol. When the local key database manager 215 receives a key change and notifies the IS-IS module 213, the IS-IS module can generate IIH messages, or LSP/SNP fragments that advertise the most recent authentication key that has been received as well as to convey the most recent authentication key that is advertised by other nodes in the network to the key management module 211. In one embodiment, this advertisement process and the key transition management is implemented in an ISIS key manager 211 within the IS-IS module. The IS-IS key manager 21 lean track the current authentication key and the authentication keys known to be utilized or advertised by the reachable nodes in a network, an IS-IS area or domain. The IS-IS key manager 211 can operate in conjunction with the IS-IS module 213 to also generate messages sent to reachable nodes that include the MostRecentKeyld TLV or similar indicator of a most recent key received by the network element or node 201. The IS-IS key manager 211 can also implement the timer function and alert notification functions described herein. </p><p id="p0051" num="0051"> The IS-IS module 213 and IS-IS key manager 211 can be separately or jointly implemented in software, firmware or hardware as components of the network processor 209 or as code executed by the network processors 209. Where there are multiple network processors 209, the functions of the IS-IS key manager 211 and IS-IS module 213 can be divided and sub-divided in any manner between the network processors 209. While illustrated as a subcomponent module in Figure 2, the IS-IS key manager 211 can be an independent or separate component from the IS-IS module 213 for example by being implemented as a set of methods or functions and corresponding data structures in a library or similarly separate software or firmware distinct from the software or firmware of the IS-IS module 213. </p><p id="p0052" num="0052"> In some embodiment the IS-IS key manager 211 includes a time-out module that is configured to start a time out counter in response to receiving the most recent key identifier from the group key management server, and configured to generate a notification of a failure of a node to transition in response to expiration of the counter 
<!-- EPO <DP n="14"/>-->
 without verification of all reachable nodes advertising the most recent key identifier. The IS-IS key manager 211 can count a reachable node as verified in response to receiving a message including the most recent key identifier. In some embodiments, the IS-IS key manager 211 can advertise by sending an IS-IS hello message containing the most recent key field in a type length value (TLV). The local key database manager 215 can remove the current key identifier in response to the IS-IS module 213 switching authentication to use the most recent key identifier. In other embodiments, the IS-IS key manager 211 advertises by sending a Sequence Number Packet (SNP) message including the most recent key field in a type length value (TLV). In further embodiments, the IS-IS module is configured to generate a link state protocol (LSP) - 0 with a new sequence number including the most recent key field in a type length value (TLV). </p><p id="p0053" num="0053"> Figure 3 is a diagram of one embodiment of a network of nodes that implement the coordinated authentication key transition for IS-IS. Each of the nodes 305A-E can implement an IS-IS module and IS-IS key manager as described herein that implement the functions described in relation to Figure 2. These nodes 305A-C can be any type of network elements and can be in communication with one another over any number (e.g., broadcast or point-to-point) and configuration of individual links including Ethernet, fiber optic and similar networking mediums. The group of nodes 301 that is managed by this key transition process can be an IS-IS LI area, L2 domain, or similar configuration of related nodes that are configured to communicate using IS-IS with authentication. </p><p id="p0054" num="0054"> A key management server 303 can be a separate server connected to the set of nodes of301. In other embodiments, the key management server 303 can be integrated with the any of the nodes 305A-E or distributed over multiple servers or nodes. The key management server 303 can be outside the group 301 and connected by any number of intermediate nodes or devices to the group 301 or any of the nodes 305A-E of the group. </p><p id="p0055" num="0055"> The group 301 can include any number of nodes 305A-E and related devices. The group can interface with any number of external networks or devices, such as nodes A, D, and E in the example illustration. The group 301 can have any internal organization or set of interconnections. In some embodiments, some of the nodes in the 
<!-- EPO <DP n="15"/>-->
 group 301 are not fully compliant with the automated authentication key transition process and the timer and alternate verification processes can be utilized to ensure proper automated key transition. Any number or configuration of the nodes can implement the automated key transition process. </p><p id="p0056" num="0056"> The operations of the flow diagrams have been described with reference to the exemplary embodiment of the block diagrams. However, it should be understood that the operations of the flowcharts can be performed by embodiments of the invention other than those discussed, and the embodiments discussed with reference to block diagrams can perform operations different than those discussed with reference to the flowcharts. While the flowcharts show a particular order of operations performed by certain embodiments, it should be understood that such order is exemplary (e.g., alternative embodiments may perform the operations in a different order, combine certain operations, overlap certain operations, etc.). </p><p id="p0057" num="0057"> As described herein, operations performed by the sensor devices, synchronization and synthesis services may refer to specific configurations of hardware such as application specific integrated circuits (ASICs) configured to perform certain operations or having a predetermined functionality, or software instructions stored in memory embodied in a non-transitory computer readable storage medium. Thus, the techniques shown in the figures can be implemented using code and data stored and executed on one or more electronic devices (e.g., an end station, a network element). Such electronic devices store and communicate (internally and/or with other electronic devices over a network) code and data using computer -readable media, such as non- transitory computer -readable storage media (e.g., magnetic disks; optical disks; random access memory; read only memory; flash memory devices; phase-change memory) and transitory computer -readable communication media (e.g., electrical, optical, acoustical or other form of propagated signals - such as carrier waves, infrared signals, digital signals). In addition, such electronic devices typically include a set of one or more processors coupled to one or more other components, such as one or more storage devices (non-transitory machine-readable storage media), user input/output devices (e.g., a keyboard, a touchscreen, and/or a display), and network connections. The coupling of the set of processors and other components is typically through one or more busses and bridges (also termed as bus controllers). Thus, the storage device of a 
<!-- EPO <DP n="16"/>-->
 given electronic device typically stores code and/or data for execution on the set of one or more processors of that electronic device. One or more parts of an embodiment of the invention may be implemented using different combinations of software, firmware, and/or hardware. </p><p id="p0058" num="0058"> It is to be understood that the above description is intended to be illustrative and not restrictive. Many other embodiments will be apparent to those of skill in the art upon reading and understanding the above description. The scope of the invention should, therefore, be determined with reference to the appended claims, along with the full scope of equivalents to which such claims are entitled. 
</p></description><claims mxw-id="PCLM70077721" ref-ucid="WO-2014128579-A1" lang="EN" load-source="patent-office"><claim id="clm-0001" num="0001"><!-- EPO <DP n="17"/>--><claim-text/><claim-text>CLAIMS </claim-text><claim-text>What is claimed is: </claim-text><claim-text>1. An automated key transition method executed by a node in a network, the network including a set of nodes that are interconnected and utilizing a current key identifier provided by a group key management server or provisioned manually, a key identifier specifies an authentication protocol and an authentication key for use in the authentication of intermediate-system to intermediate-system (IS-IS) protocol data units within an IS-IS network, area or domain, the method including a set of steps comprising: </claim-text><claim-text> receiving (101) a message from the group key management server having a most recent key field to hold a most recent key identifier to replace the current key identifier and notifying an IS-IS module of a change of the most recent key identifier; </claim-text><claim-text> advertising (103) the most recent key identifier to all reachable nodes; verifying (105) whether all reachable nodes have advertised the most recent key identifier; </claim-text><claim-text> continuing (107) authentication using the current key identifier until all reachable nodes have been verified to advertise the most recent key identifier; and </claim-text><claim-text> switching (115) authentication to use the most recent key identifier upon verification that all reachable nodes have advertised the most recent key identifier. </claim-text><claim-text>2. The automated key transition method of claim 1, further comprising the steps of: </claim-text><claim-text> starting (109) a time out counter in response to receiving the most recent key identifier from the group key management server; and generating (111) a notification of a failure of a node to transition in response to expiration of the counter without verification of all reachable nodes advertising the most recent key identifier. 
<!-- EPO <DP n="18"/>-->
 The automated key transition method of claim 1, further comprising the steps of: </claim-text><claim-text> counting (113) a reachable node as verified in response to receiving a message including the most recent key identifier. </claim-text><claim-text>The automated key transition method of claim 1, wherein the advertising further comprises: </claim-text><claim-text> sending an IS-IS hello message containing the most recent key field in a type length value (TLV). </claim-text><claim-text>The automated key transition method of claim 1, further comprising the step of: removing (117) the current key identifier in response to switching authentication to use the most recent key identifier. </claim-text><claim-text>The automated key transition method of claim 1, wherein advertising further comprises: </claim-text><claim-text> sending a Sequence Number Packet (SNP) message including the most recent key field in a type length value (TLV). </claim-text><claim-text>The automated key transition method of claim 1, further comprising the step of: generating a link state protocol (LSP) - 0 with a new sequence number including the most recent key field in a type length value (TLV). </claim-text><claim-text>A node configured to execute an automated key transition method for a network, the network including a set of nodes that are interconnected and utilizing a current key identifier provided by a group key management server or provisioned manually, a key identifier specifies an authentication protocol and an authentication key for use in the authentication of intermediate-system to intermediate-system (IS-IS) protocol data units within an IS-IS network, area, or domain, the node comprising: </claim-text><claim-text> a network interface (203) for sending and receiving IS-IS messages to adjacent nodes in the network; and 
<!-- EPO <DP n="19"/>-->
 a network processor (209) coupled to the network interface, the network processor configured to execute a local key database manager and an IS-IS module, </claim-text><claim-text> the local key database manager (215) configured to receive a message from the group key management server having a most recent key field to hold a most recent key identifier to replace the current key identifier and to notify the ISIS module of a change to the most recent key identifier, the IS-IS module (213) including an IS-IS key manager that is configured to advertise the most recent key identifier to all reachable nodes, to continue authentication using the current key identifier until all reachable nodes have been verified to advertise the most recent key identifier, to verify whether all reachable nodes have advertised the most recent key identifier, and to switch authentication to use the most recent key identifier upon verification that all reachable nodes have advertised the most recent key identifier. </claim-text><claim-text>The node of claim 8, wherein the IS-IS key manager further comprises: </claim-text><claim-text> a time-out module coupled to or executed by the network processor, the time-out module is configured to start a time out counter in response to receiving the most recent key identifier from the group key management server, and configured to generate a notification of a failure of a node to transition in response to expiration of the counter without verification of all reachable nodes advertising the most recent key identifier. </claim-text><claim-text>10. The node of claim 8, wherein the IS-IS key manager is further configured to count a reachable node as verified in response to receiving a message including the most recent key identifier. 
<!-- EPO <DP n="20"/>-->
</claim-text><claim-text>11. The node of claim 8, wherein the IS-IS key manager is further configured to advertise by sending an IS-IS hello message containing the most recent key field in a type length value (TLV). </claim-text><claim-text>12. The node of claim 8, wherein the local key database manager is further configured to remove the current key identifier in response to the IS-IS module switching authentication to use the most recent key identifier. </claim-text><claim-text>13. The node of claim 8, wherein the IS-IS key manager is further configured to advertise by sending a Sequence Number Packet (SNP) message including the most recent key field in a type length value (TLV). </claim-text><claim-text>14. The node of claim 8, wherein the IS-IS key manager is further configured to generate a link state protocol (LSP) - 0 with a new sequence number including the most recent key field in a type length value (TLV). 
</claim-text></claim></claims><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
