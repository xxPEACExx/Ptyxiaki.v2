<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2959588-A1" country="EP" doc-number="2959588" kind="A1" date="20151230" family-id="51387519" file-reference-id="317510" date-produced="20180825" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="160453073" ucid="EP-2959588-A1"><document-id><country>EP</country><doc-number>2959588</doc-number><kind>A1</kind><date>20151230</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-14711043-A" is-representative="NO"><document-id mxw-id="PAPP193869114" load-source="docdb" format="epo"><country>EP</country><doc-number>14711043</doc-number><kind>A</kind><date>20140224</date><lang>EN</lang></document-id><document-id mxw-id="PAPP193869115" load-source="patent-office" format="original"><country>EP</country><doc-number>14711043.1</doc-number><date>20140224</date><lang>EN</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC162026519" ucid="US-201361767980-P" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>201361767980</doc-number><kind>P</kind><date>20130222</date></document-id></priority-claim><priority-claim mxw-id="PPC162033573" ucid="US-2014017882-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>2014017882</doc-number><kind>W</kind><date>20140224</date></document-id></priority-claim><priority-claim mxw-id="PPC162036533" ucid="US-201414186609-A" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>201414186609</doc-number><kind>A</kind><date>20140221</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-1988520032" load-source="docdb">H03L   7/087       20060101ALI20140912BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1988520496" load-source="docdb">H03L   7/089       20060101ALI20140912BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1988525977" load-source="docdb">H03L   7/095       20060101AFI20140912BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1889086781" load-source="docdb" scheme="CPC">H03L   7/095       20130101 LI20161014BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1889091730" load-source="docdb" scheme="CPC">H03L   7/089       20130101 LI20161014BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987771975" load-source="docdb" scheme="CPC">H03L   7/097       20130101 LI20140828BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987792738" load-source="docdb" scheme="CPC">H03L   7/087       20130101 FI20150219BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1987795726" load-source="docdb" scheme="CPC">H03K   5/26        20130101 LI20140828BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT165550685" lang="DE" load-source="patent-office">PHASENREGELKREISINDIKATOR</invention-title><invention-title mxw-id="PT165550686" lang="EN" load-source="patent-office">PHASE LOCK LOOP LOCK INDICATOR</invention-title><invention-title mxw-id="PT165550687" lang="FR" load-source="patent-office">INDICATEUR DE BOUCLE À VERROUILLAGE DE PHASE</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR1103309642" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>MICROCHIP TECH INC</last-name><address><country>US</country></address></addressbook></applicant><applicant mxw-id="PPAR1103327770" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>MICROCHIP TECHNOLOGY INCORPORATED</last-name></addressbook></applicant><applicant mxw-id="PPAR1101642973" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Microchip Technology Incorporated</last-name><iid>100178031</iid><address><street>2355 West Chandler Boulevard</street><city>Chandler, AZ 85224-6199</city><country>US</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR1103311327" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>BUCH FREDRIK</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR1103321539" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>BUCH, FREDRIK</last-name></addressbook></inventor><inventor mxw-id="PPAR1101647840" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>BUCH, FREDRIK</last-name><address><street>984 Kiely Blvd. g</street><city>Santa Clara, CA 95051</city><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR1103341431" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>ALBINA CRISTIAN</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR1103326120" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>ALBINA, Cristian</last-name></addressbook></inventor><inventor mxw-id="PPAR1101643516" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>ALBINA, Cristian</last-name><address><street>400 N. Coronada Street Apt. 1099</street><city>Chandler, AZ 85224</city><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR1103340149" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>YUENYONGSGOOL YONG</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR1103314619" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>YUENYONGSGOOL, YONG</last-name></addressbook></inventor><inventor mxw-id="PPAR1101643280" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>YUENYONGSGOOL, YONG</last-name><address><street>4124 E. Blossom Court</street><city>Gilbert, AZ 85297</city><country>US</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR1101650645" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Grubert, Andreas</last-name><suffix>et al</suffix><iid>101525189</iid><address><street>c/o Westphal, Mussgnug &amp; Partner Patentanwälte mbB Herzog-Wilhelm-Straße 26</street><city>80331 München</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="US-2014017882-W"><document-id><country>US</country><doc-number>2014017882</doc-number><kind>W</kind><date>20140224</date><lang>EN</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2014130913-A1"><document-id><country>WO</country><doc-number>2014130913</doc-number><kind>A1</kind><date>20140828</date><lang>EN</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS660719342" load-source="docdb">AL</country><country mxw-id="DS660634279" load-source="docdb">AT</country><country mxw-id="DS660719356" load-source="docdb">BE</country><country mxw-id="DS660739166" load-source="docdb">BG</country><country mxw-id="DS660714246" load-source="docdb">CH</country><country mxw-id="DS660791424" load-source="docdb">CY</country><country mxw-id="DS660634280" load-source="docdb">CZ</country><country mxw-id="DS660719357" load-source="docdb">DE</country><country mxw-id="DS660791425" load-source="docdb">DK</country><country mxw-id="DS660791426" load-source="docdb">EE</country><country mxw-id="DS660632975" load-source="docdb">ES</country><country mxw-id="DS660739171" load-source="docdb">FI</country><country mxw-id="DS660739172" load-source="docdb">FR</country><country mxw-id="DS660719358" load-source="docdb">GB</country><country mxw-id="DS660791427" load-source="docdb">GR</country><country mxw-id="DS660719367" load-source="docdb">HR</country><country mxw-id="DS660634281" load-source="docdb">HU</country><country mxw-id="DS660714251" load-source="docdb">IE</country><country mxw-id="DS660719368" load-source="docdb">IS</country><country mxw-id="DS660739173" load-source="docdb">IT</country><country mxw-id="DS660791428" load-source="docdb">LI</country><country mxw-id="DS660710732" load-source="docdb">LT</country><country mxw-id="DS660634282" load-source="docdb">LU</country><country mxw-id="DS660710733" load-source="docdb">LV</country><country mxw-id="DS660710734" load-source="docdb">MC</country><country mxw-id="DS660631987" load-source="docdb">MK</country><country mxw-id="DS660631988" load-source="docdb">MT</country><country mxw-id="DS660632976" load-source="docdb">NL</country><country mxw-id="DS660739174" load-source="docdb">NO</country><country mxw-id="DS660631989" load-source="docdb">PL</country><country mxw-id="DS660714252" load-source="docdb">PT</country><country mxw-id="DS660632977" load-source="docdb">RO</country><country mxw-id="DS660714253" load-source="docdb">RS</country><country mxw-id="DS660632978" load-source="docdb">SE</country><country mxw-id="DS660714254" load-source="docdb">SI</country><country mxw-id="DS660739195" load-source="docdb">SK</country><country mxw-id="DS660631990" load-source="docdb">SM</country><country mxw-id="DS660791429" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data><office-specific-data><eptags><ep-no-a-document-published>*</ep-no-a-document-published></eptags></office-specific-data></bibliographic-data><abstract mxw-id="PA139072637" ref-ucid="WO-2014130913-A1" lang="EN" load-source="patent-office"><p num="0000">A lock-on detection circuit for a phase-locked loop includes circuitry configured to receive first up and down outputs and second up and down outputs from one or more phase detectors and to determine from the first up and down outputs and the second up and down outputs how well the phase-locked loop is locked on to a reference clock.</p></abstract><abstract mxw-id="PA139540286" ref-ucid="WO-2014130913-A1" lang="EN" source="national office" load-source="docdb"><p>A lock-on detection circuit for a phase-locked loop includes circuitry configured to receive first up and down outputs and second up and down outputs from one or more phase detectors and to determine from the first up and down outputs and the second up and down outputs how well the phase-locked loop is locked on to a reference clock.</p></abstract><abstract mxw-id="PA139072638" ref-ucid="WO-2014130913-A1" lang="FR" load-source="patent-office"><p num="0000">L'invention concerne un circuit de détection de verrouillage destiné à une boucle à verrouillage de phase, qui contient des circuits conçus pour recevoir des premières sorties de montée et de descente et des secondes sorties de montée et de descente provenant d'au moins un détecteur de phase et pour déterminer, d'après les premières sorties de montée et de descente et les secondes sorties de montée et de descente, à quel point la boucle à verrouillage de phase est verrouillée vis-à-vis d'une horloge de référence.</p></abstract><abstract mxw-id="PA139540287" ref-ucid="WO-2014130913-A1" lang="FR" source="national office" load-source="docdb"><p>L'invention concerne un circuit de détection de verrouillage destiné à une boucle à verrouillage de phase, qui contient des circuits conçus pour recevoir des premières sorties de montée et de descente et des secondes sorties de montée et de descente provenant d'au moins un détecteur de phase et pour déterminer, d'après les premières sorties de montée et de descente et les secondes sorties de montée et de descente, à quel point la boucle à verrouillage de phase est verrouillée vis-à-vis d'une horloge de référence.</p></abstract><description mxw-id="PDES78476655" ref-ucid="WO-2014130913-A1" lang="EN" load-source="patent-office"><!-- EPO <DP n="3"/>--><p id="p0001" num="0001"> PHASE LOCK LOOP LOCK INDICATOR </p><p id="p0002" num="0002"> CROSS-REFERENCE TO RELATED APPLICATION(S) </p><p id="p0003" num="0003"> This application claims the benefit of U.S. Provisional Application Serial No. 61/767,980 filed February 22, 2013, which is incorporated by reference in its entirety as if fully set forth herein. </p><p id="p0004" num="0004">TECHNICAL FIELD </p><p id="p0005" num="0005">The present disclosure relates to phase-locked loops and, in particular, to a phase- locked loop lock indicator. BACKGROUND </p><p id="p0006" num="0006">A phase-locked loop (PLL) circuit is a feedback system that generates an output signal whose phase is constant relative to the phase of an input reference signal. In addition to synchronizing signals, a phase-locked loop can generate a frequency that is a multiple of the input frequency. </p><p id="p0007" num="0007">For example, shown in FIG. 1 is a typical PLL circuit 100. The PLL 100 includes a phase detector (PFD) 102, charge pump 104, loop filter 106, and VCO 108. The phase detector 102 compares the input signal and a feedback signal. The PFD 102 detects the difference in phase and frequency between the reference signal Fref and a feedback signal and generates an "up" U or "down" D control signal based on whether the feedback frequency is lagging or leading the reference frequency. These "up" or "down" control signals determine whether the VCO 108 needs to operate at a higher or lower frequency, respectively. </p><p id="p0008" num="0008">The PFD 102 outputs these "up" and "down" signals to the charge pump 104. If the charge pump 104 receives an up signal, current is driven into the loop filter 106. Conversely, if it receives a down signal, current is drawn from the loop filter 106. </p><p id="p0009" num="0009">The loop filter 106 converts these signals to a control voltage that is used to bias the VCO 108. Based on the control voltage, the VCO 108 oscillates at a higher or lower frequency, which affects the phase and frequency of the feedback clock. If the PFD 102 </p><p id="p0010" num="0010">22491406 
<!-- EPO <DP n="4"/>-->
 produces an up signal, then the VCO frequency increases. A down signal decreases the VCO frequency. The VCO 108 stabilizes once the reference clock and the feedback clock have the same phase and frequency. The loop filter 106 filters out jitter by removing glitches from the charge pump and preventing voltage over-shoot. In some implementations, a frequency divider 1 10 is provided in the feedback path.</p><p id="p0011" num="0011">Negative feedback forces the error signal output from the phase detector 102 to approach zero. At this point, the feedback divider output 1 10 and the reference frequency are in phase and frequency lock, i.e., aligned, the PLL is considered locked. </p><p id="p0012" num="0012">PLL circuits are often used in integrated processors and microcontrollers to provide an internal system clock. An external or internal clock determining component, such as a crystal or an RC (resistor-capacitor) component may be used. The crystal may have a relatively low oscillation frequency and the PLL circuit is used to multiply this base frequency to multiples of the base frequency for providing an internal high frequency system clock. However, PLL circuits are not immediately stable when a circuit is powered on. In some applications, it is desirable to know when the PLL is locked on (stable).</p><p id="p0013" num="0013">According to conventional lock-on detectors, a PLL is determined to be locked on via the use of counters, one on the input clock and one on the feedback clock, and checking that both the counters have the same count. However, missing by one count is a very relaxed criterion for lock-on in many situations; the desired lock is much tighter than that. SUMMARY </p><p id="p0014" num="0014">In accordance with some embodiments, a circuit is provided to indicate when a divided down version of an output signal of a Phase Locked Loop (PLL) has a frequency sufficiently close to the frequency of an input reference clock signal, wherein the circuit evaluates the output signals of the PLL Phase Frequency Detector (PFD) to establish how well the PLL is locked on to the Input Reference Clock. </p><p id="p0015" num="0015">In some embodiments, the circuit compares the duration of the PFD up- plus down- pulses with the duration of the not-up- plus not-down- pulses. In some embodiments, the circuit is operable to establish when the PFD up- plus down-pulses are smaller than a certain fraction of the not-up- plus not-down-pulses. In some embodiments, the fraction size is </p><p id="p0016" num="0016">22491406 
<!-- EPO <DP n="5"/>-->
 established through the sizes of the transistors used in the circuit. In some embodiments, the fraction size is established through digital inputs; in particular by programming. In some embodiments, the circuit has a speed of response controlled by a current input which generates a bias voltage, and a set of CMOS transistors configured as capacitors. In some embodiments, the circuit is operable to be used with any CMOS technology, independent of feature size. In some embodiments, the circuit is operable to be used with any PLL architecture that uses a Phase Frequency Detector to generate speed-up and slow-down pulses. In some embodiments, the circuit is operable to facilitate a reduction of the startup time of a system chip which uses a PLL. In some embodiments, the circuit is operable to detect that a PLL has lost lock-on, thereby improving system security. </p><p id="p0017" num="0017">A phase-locked loop circuit, in accordance with embodiments includes first phase detection circuitry having a first up and down outputs; second phase detection circuitry having second up and down outputs; and a lock on circuit configured to receive the first up and down outputs and the second up and down outputs and determine from the first up and down outputs and the second up and down outputs how well the phase-locked loop is locked on to a reference clock. </p><p id="p0018" num="0018">In some embodiments, the first up and down outputs are up and down pulses and the second up and down pulses are not up and not down pulses. In some embodiments, the lock on circuit is configured to compare the duration of up plus down pulses with the duration of the not up plus not down pulses. In some embodiments, the lock on circuit determines that a lock has occurred when the duration is smaller than a predetermined fraction of the reference clock. In some embodiments, the value of the fraction is determined according to: (Tvub + Tvdb) x (1 + l AOb + 2xAlb + 4xA2b)/8 = (Tvuu + Tvdn) x 8. In some embodiments, the phase-locked loop includes an input clock cycle counter configured to block lock-on from being indicated for a first duration when an accuracy setting is high and a second, longer duration, when the accuracy setting is low. </p><p id="p0019" num="0019">A lock-on detection circuit for a phase-locked loop in accordance with embodiments includes circuitry configured to receive first up and down outputs and second up and down outputs from one or more phase detectors and to determine from the first up and down outputs and the second up and down outputs how well the phase-locked loop is locked on to a reference clock. In some embodiments, the first up and down outputs are up and down pulses </p><p id="p0020" num="0020">224 1406 
<!-- EPO <DP n="6"/>-->
 and the second up and down pulses are not up and not down pulses. In some embodiments, the circuitry is configured to compare the duration of up plus down pulses with the duration of the not up plus not down pulses. In some embodiments, the circuitry determines that a lock has occurred when the duration is smaller than a predetermined fraction of the reference clock. In some embodiments, the value of the fraction is determined according to: (Tvub + Tvdb) x (1 + l AOb + 2xAlb + 4xA2b)/8 = (Tvmt + Tvdn) x 8. In some embodiments, an input clock cycle counter is provided and configured to block lock-on from being indicated for a first duration when an accuracy setting is high and a second, longer duration, when the accuracy setting is low. A method for determining that a lock-on has occurred in a phase-locked loop circuit, in accordance with embodiments includes comparing the duration of up plus down pulses with the duration of not up plus not down pulses; and determining that a lock has occurred when the duration is smaller than a predetermined fraction of a reference clock. In some embodiments, the value of the fraction is determined according to: (Tvub + Tvdb) x (1 + IxAOb + 2xAlb + 4xA2b)/8 - (Tvuu + Tvdn) x 8. In some embodiments, the method includes blocking lock-on from being indicated for a first duration when an accuracy setting is high and a second, longer duration, when the accuracy setting is low. </p><p id="p0021" num="0021">These, and other, aspects of the disclosure will be better appreciated and understood when considered in conjunction with the following description and the accompanying drawings. It should be understood, however, that the following description, while indicating various embodiments of the disclosure and numerous specific details thereof, is given by way of illustration and not of limitation. Many substitutions, modifications, additions and/or rearrangements may be made within the scope of the disclosure without departing from the spirit thereof, and the disclosure includes all such substitutions, modifications, additions and/or rearrangements. </p><p id="p0022" num="0022">22491406 
<!-- EPO <DP n="7"/>-->
 BRIEF DESCRIPTION OF THE DRAWINGS </p><p id="p0023" num="0023">The drawings accompanying and forming part of this specification are included to depict certain aspects of the disclosure. It should be noted that the features illustrated in the drawings are not necessarily drawn to scale. A more complete understanding of the disclosure and the advantages thereof may be acquired by referring to the following description, taken in conjunction with the accompanying drawings in which like reference numbers indicate like features and wherein: </p><p id="p0024" num="0024">FIG. 1 is a block diagram of an example of a typical PLL circuit. </p><p id="p0025" num="0025">FIG. 2 illustrates example clock accuracy criterion. FIG. 3 is a block diagram of an example PLL circuit including up/down evaluation in accordance with embodiments. </p><p id="p0026" num="0026">FIG. 4 is a block diagram of an exemplary PLL circuit in accordance with embodiments. </p><p id="p0027" num="0027">FIG. 5 is a diagram of an example lock-on circuit according to embodiments. FIG. 6 is an example of a counter and lock-on block circuit according to embodiments. </p><p id="p0028" num="0028">FIG. 7 is an example of a bias generator circuit according to embodiments. </p><p id="p0029" num="0029">FIG. 8 is an example block diagram of a lock-on circuit according to embodiments. </p><p id="p0030" num="0030">FIG. 9 is an example lock on circuit with bias generator according to embodiments.. </p><p id="p0031" num="0031">22491406 
<!-- EPO <DP n="8"/>-->
 DETAILED DESCRIPTION </p><p id="p0032" num="0032">The disclosure and various features and advantageous details thereof are explained more fully with reference to the exemplary, and therefore non-limiting, embodiments illustrated in the accompanying drawings and detailed in the following description. It should be understood, however, that the detailed description and the specific examples, while indicating the preferred embodiments, are given by way of illustration only and not by way of limitation. Descriptions of known programming techniques, computer software, hardware, operating platforms and protocols may be omitted so as not to unnecessarily obscure the disclosure in detail. Various substitutions, modifications, additions and/or rearrangements within the spirit and/or scope of the underlying inventive concept will become apparent to those skilled in the art from this disclosure. </p><p id="p0033" num="0033">According to various embodiments, an output signal is provided in a PLL circuit to indicate the output clock arrival and stability at the destination frequency. Thus, according to various embodiments, a circuit can be provided to detect and indicate when a phase-locked loop has reached the target frequency. This eliminates the need for the system to employ a counter which must be set to a longer duration than the actual PLL stable time and clocked by another oscillator. This effectively minimizes the time the system requires to reach high performance operations and provides for an improvement over conventional devices. </p><p id="p0034" num="0034">According to various embodiments, it is determined when a clock generated using a phase-locked-loop (PLL) is "good" enough; i.e., when the generated clock is stable enough, and close enough to the target multiple of the input clock. The stability and tolerance criterion depends on how the clock is to be used. </p><p id="p0035" num="0035">Example clock accuracy criteria are shown with reference to FIG. 2. In particular, shown in FIG. 2 is a plot of clock period versus time. At the time the variance of the clock period reaches a certain threshold above the final variance, the circuit is deemed locked on. </p><p id="p0036" num="0036">According to various embodiments, a circuit can be provided that evaluates how well the output frequency of a phase-locked Loop (PLL) circuit matches the target output frequency. This can be done by evaluating the output signals of the phase frequency detector (PFD) module of the PLL, such that the size of the (speed) up- and (slow) down- signals is compared to the opposite PFD signals (don't speed up and don't slow down), and then </p><p id="p0037" num="0037">224 1406 
<!-- EPO <DP n="9"/>-->
 evaluate when the ratio is small enough. This approach is a way of assessing when the clock jitter and noise is small enough. </p><p id="p0038" num="0038">FIG. 3 is a simplified diagram schematically illustrating a PLL circuit with a lock detection system in accordance with embodiments. In particular, the system 300 includes a PLL 302, lock on circuit 305 for up/down evaluation (as will be explained in greater detail below), and filter 306. As will be explained in greater detail below, lock on circuit 305 receives accuracy and responsivity control inputs and up and down signals from the PFD 302. </p><p id="p0039" num="0039">FIG. 4 is a diagram illustrating an exemplary PLL circuit 400 including lock detection in greater detail. The circuit 400 may be an embodiment of the circuit 300 of FIG. 3. In particular, FIG. 4 illustrates a phase locked loop circuit 400 generally similar to that of FIG. 1 , but including first and second PFD circuitry such as first and second PFD modules 402a, 402b, as well as a lock on circuit 405. Thus, in circuit 400, the outputs of PFD module 402a are provided to charge pump 404 and then to loop filter 405, whose output is provided to VCO 408. Again a frequency divider 410 may be provided in the feedback path. As will be explained in greater detail below, the up-down outputs Ul , Dl of PFD module 402a are compared with the up-down outputs U2, D2 of PFD module 402b in the lock on circuit 405 to assess the lock. </p><p id="p0040" num="0040">FIG. 5 illustrates an exemplary lock on circuit 405 in greater detail. The circuit 405 includes a lock compare module 502, an accuracy module 504, and may include filter 506, hysteresis module 508, and output buffer 510. </p><p id="p0041" num="0041">In general, the circuit allows for setting an accuracy value and receives as inputs the outputs of the PFD module 402a (vub, vdb) and PFD module 402b (vuu, vdn). These outputs are ORed and compared. That is, vuu+vdn is compared to vub + vdb to assess lock on. </p><p id="p0042" num="0042">Lock-on occurs when the duration T of the up/down pulses (vub, vdb) are less than a small fraction of the input clock period, which occurs when the vuu+vdn is less than a small fraction of vub+vdb. </p><p id="p0043" num="0043">The circuit has a speed of response controlled by the current input modules 502, 504, which generate controlled currents, and the CMOS transistors 51 1 configured as capacitors. This sets the bias voltage for the hysteresis comparator 508 which triggers the lock-on signal. </p><p id="p0044" num="0044">22491406 
<!-- EPO <DP n="10"/>-->
 In some embodiments, this traction is set using the accuracy&lt;2:0&gt; input. </p><p id="p0045" num="0045">For example, in some embodiments, this fraction is (8-Accuracy)/128. So if the accuracy is six, the fraction is 1/64; i.e., for a 4 MHz input the average duration of the up/down pulses can be 3.9ns. As will be explained in greater detail below, the accuracy input is used to adjust the sensitivity of the lock-on detector. </p><p id="p0046" num="0046">The following equations apply: </p><p id="p0047" num="0047">(Tvub + Tvdb) x (1 + lxAOb + 2xAlb + 4xA2b)/8 = (Tvuu + Tvdn) x 8 (1) (Tvub + Tvdb) x (8 - Accuracy)/8 = (Tvuu + Tvdn) x 8 (2) </p><p id="p0048" num="0048">(Tvub + Tvdb) x (8 - Accuracy)/64 = Tvuu + Tvdn (3) That is, the PLL is determined to be locked when the fractional durations match. In particular, Equation 1 is implemented with the transistors of the cascade current mirror (module 504) of FIG. 5. The currents are rationed 1 : 1 , 1 :2, 1 :4, on the 8: 1 in module 502. When the accuracy bits AO, Al, and A2 are (1 1 1) then the value on the left side is equal to Tvub + Tvdb) x (1 + 1 +2 + 4)/8 = Tvub + Tvdb. When the bits are turned off (000), the result is (Tvub + Tvdb) x 1/8. One eighth of the total current will flow into the filter capacitor taking longer to charge it. </p><p id="p0049" num="0049">As illustrated, the circuit 405 receives vub, vdb inputs (i.e., the Ul , Dl inputs) from PFD module 402a (FIG. 4)) and the vuu and vdn inputs (i.e., the U2, D2 inputs from PFD2 module 402b (FIG. 4)). The outputs vub + vdb and vuu + vdn are compared using circuit 502 to implement equation 3 as set by the accuracy circuit 504. </p><p id="p0050" num="0050">The multiplicand (1 + lxAOb + 2xAlb + 4xA2b)/8 of Equation (1) is implemented using circuit 512. Additional filtering 506, hysteresis 508 and buffering 510 may be provided. In the embodiment illustrated, the lock on output takes on values indicating a lock. </p><p id="p0051" num="0051">The output of the filter (module 506) is an analog signal. After applying this signal to the hysteresis comparator 508, the digital lock-on signal lockon indicating the state of the PLL circuit is obtained. In some embodiments, the hysteresis comparator 508 has a trigger level set just above 1 V (e.g., about 1.5 times the threshold voltage of the transistors). </p><p id="p0052" num="0052">22491406 
<!-- EPO <DP n="11"/>-->
 In a voltage-noisy system, the PLL will try to correct for the consequent period-noise, and this may cause the lock-on circuit to indicate loss of lock if the accuracy is set too high. In other words, since the lock-on detector is a circuit to evaluate that the PLL jitter plus frequency noise is low enough, voltage noise getting into the VCO can cause frequency variations sufficient to have the lock-on detector deem the PLL out of lock. To be flexible in this area, the accuracy input can be provided to allow making the lock-on detector less sensitive. </p><p id="p0053" num="0053">In particular, when the accuracy setting (i.e., the multiplication factor A) is low, some false indications of lock-on can be obtained when the PLL slips to achieve lock-on. However, when the multiplication factor is high, and feedback to the PFD is slow, the internal analog lock-on signal may be "wavery," i.e., moving up and down while transitioning, resulting in inappropriate indications of lock-on. </p><p id="p0054" num="0054">More specifically, as discussed above, for the lock-on detection to occur, the pulse width of the phase detector outputs are compared and when this value is smaller than a certain fraction of the PLL input clock (Fref) the circuit is "locked". The equation that determines the value of the fraction is: </p><p id="p0055" num="0055">(Tvub + Tvdb) x (1 + l xAOb + 2xAlb + 4xA2b)/8 - (Tvuu + Tvdn) x 8 </p><p id="p0056" num="0056">AO, Al , and A2 are the accuracy setting bits. For an input clock of 4 MHz when all the bits are turned on (1 1 1) then the up and down pulses width should be smaller than 3.9ns in order for the PLL lock-on to occur. Because of jitter and frequency noise a false PLL lock detection may occur if the accuracy is set too low (000). </p><p id="p0057" num="0057">According to various embodiments, to overcome this, an input clock cycle counter may be provided that blocks lock-on from being indicated for a first duration when the accuracy setting is high and a second, longer duration, when the accuracy setting is low. In some embodiments, the lock-on is blocked for 64 clock cycles when the accuracy setting is high and 128 clock cycles when the accuracy setting is low. </p><p id="p0058" num="0058">The counter may be implemented as a four bit ripple counter 602, as shown in FIG. 6. In particular, ripple counter 602 includes stages 604, 606, 608, 610 and receives as inputs rccklin, and reset and vddl6rc and vssrc. The circuit further receives as inputs the acc2 </p><p id="p0059" num="0059">22491406 
<!-- EPO <DP n="12"/>-->
 accuracy signal and the locka signal. The D flip flop 604 (in reset/clock mode with data=l) is used to provide a block signal. The most significant bit (MSB) of the accuracy signal acc2 (A) is used to select which count is used to block the lock-on signal. </p><p id="p0060" num="0060">The circuit 601 in FIG. 6 compares the two lock-on signals at the input, the analog locka generated by the circuit in FIG. 5 and the output signal of the built-in ripple counter 602. In the embodiment illustrated, the ripple counter 602 will generate a digital lock signal based on the MSB (Most Significant Bit) bit A2 of the accuracy setting. In some embodiments, if this bit is set to "1" the signal will be generated after the input clock Fref is divided by 128 and if it is set to "0" after the clock is divided by 256. Additionally the signal bypassctr (bypo88ctr) allows the user to decide if he want to use the build in counter or not, in which case only the analog signal locka will determine the lock-on state of the PLL. </p><p id="p0061" num="0061">Turning now to FIG. 7, some embodiments may provide a bias generator 700 for providing the currents for the internal PLL sub-modules charge pump 404 and lock-on detection 405. In the embodiment illustrated, the bias generator includes a start-up circuit on the left side, an NMOS cascode self-bias generator using the 136 resistor and the #2a, #2b transistors and PMOS cascode current mirror #la, #lb on the right to generate the output currents vnbias and vnbiasio. These output currents have the same transistor ratio therefore the same value. The self-biased current generator is bi-stable and therefore requires a start-up circuit to guarantee the operation in the desired mode. The resistor 137 provides the bias voltage required by the output PMOS cascode mirror. Additionally, in the embodiment illustrated, the circuit has two complementary power-down signals pdwnhb and pdwnh to allow the complete turn-off of this module when the PLL is not used in order to minimize the stand-by current consumption of the chip. </p><p id="p0062" num="0062">FIG. 8 illustrates a phase-locked loop according to embodiments in greater detail. As shown, the phase locked loop 800 includes PFD1 802a, PFD2 802b, lock on circuit 805, ripple counter 806, charge pump and filter 804, VCO 808, frequency divider 810, as well as bias generator 814 and additional circuitry 812, which may be used to bypass or turn off the bias generator 814. </p><p id="p0063" num="0063">Finally, FIG. 9 illustrates another implementation of the lock on circuit showing an additional current source configuration for the bias generator. </p><p id="p0064" num="0064">224 1406 
<!-- EPO <DP n="13"/>-->
 Although the invention has been described with respect to specific embodiments thereof, these embodiments are merely illustrative, and not restrictive of the invention. The description herein of illustrated embodiments of the invention., including the description in the Abstract and Summary, is not intended to be exhaustive or to limit the invention to the precise forms disclosed herein (and in particular, the inclusion of any particular embodiment, feature or function within the Abstract or Summary is not intended to limit the scope of the invention to such embodiment, feature or function). Rather, the description is intended to describe illustrative embodiments, features and functions in order to provide a person of ordinary skill in the art context to understand the invention without limiting the invention to any particularly described embodiment, feature or function, including any such embodiment feature or function described in the Abstract or Summary. </p><p id="p0065" num="0065">While specific embodiments of, and examples for, the invention are described herein for illustrative purposes only, various equivalent modifications are possible within the spirit and scope of the invention, as those skilled in the relevant art will recognize and appreciate. As indicated, these modifications may be made to the invention in light of the foregoing description of illustrated embodiments of the invention and are to be included within the spirit and scope of the invention. Thus, while the invention has been described herein with reference to particular embodiments thereof, a latitude of modification, various changes and substitutions are intended in the foregoing disclosures, and it will be appreciated that in some instances some features of embodiments of the invention will be employed without a corresponding use of other features without departing from the scope and spirit of the invention as set forth. Therefore, many modifications may be made to adapt a particular situation or material to the essential scope and spirit of the invention. </p><p id="p0066" num="0066">Reference throughout this specification to "one embodiment", "an embodiment", or "a specific embodiment" or similar terminology means that a particular feature, structure, or characteristic described in connection with the embodiment is included in at least one embodiment and may not necessarily be present in all embodiments. Thus, respective appearances of the phrases "in one embodiment", "in an embodiment", or "in a specific embodiment" or similar terminology in various places throughout this specification are not necessarily referring to the same embodiment. Furthermore, the particular features, structures, or characteristics of any particular embodiment may be combined in any suitable </p><p id="p0067" num="0067">22491406 
<!-- EPO <DP n="14"/>-->
 manner with one or more other embodiments. It is to be understood that other variations and modifications of the embodiments described and illustrated herein are possible in light of the teachings herein and are to be considered as part of the spirit and scope of the invention. </p><p id="p0068" num="0068">In the description herein, numerous specific details are provided, such as examples of components and/or methods, to provide a thorough understanding of embodiments of the invention. One skilled in the relevant art will recognize, however, that an embodiment may be able to be practiced without one or more of the specific details, or with other apparatus, systems, assemblies, methods, components, materials, parts, and/or the like. In other instances, well-known structures, components, systems, materials, or operations are not specifically shown or described in detail to avoid obscuring aspects of embodiments of the invention. While the invention may be illustrated by using a particular embodiment, this is not and does not limit the invention to any particular embodiment and a person of ordinary skill in the art will recognize that additional embodiments are readily understandable and are a part of this invention. As used herein, the terms "comprises," "comprising," "includes," "including," "has,"</p><p id="p0069" num="0069">"having," or any other variation thereof, are intended to cover a non-exclusive inclusion. For example, a process, product, article, or apparatus that comprises a list of elements is not necessarily limited only those elements but may include other elements not expressly listed or inherent to such process, process, article, or apparatus. Furthermore, the term "or" as used herein is generally intended to mean "and/or" unless otherwise indicated. For example, a condition A or B is satisfied by any one of the following: A is true (or present) and B is false (or not present), A is false (or not present) and B is true (or present), and both A and B are true (or present). As used herein, including the claims that follow, a term preceded by "a" or "an" (and "the" when antecedent basis is "a" or "an") includes both singular and plural of such term, unless clearly indicated within the claim otherwise (i.e., that the reference "a" or "an" clearly indicates only the singular or only the plural). Also, as used in the description herein and throughout the claims that follow, the meaning of "in" includes "in" and "on" unless the context clearly dictates otherwise. </p><p id="p0070" num="0070">22491406 
<!-- EPO <DP n="15"/>-->
 It will be appreciated that one or more of the elements depicted in the drawings/figures can also be implemented in a more separated or integrated manner, or even removed or rendered as inoperable in certain cases, as is useful in accordance with a particular application. Additionally, any signal arrows in the drawings/Figures should be considered only as exemplary, and not limiting, unless otherwise specifically noted. </p><p id="p0071" num="0071">22491406 
</p></description><claims mxw-id="PCLM70076901" ref-ucid="WO-2014130913-A1" lang="EN" load-source="patent-office"><claim-statement><!-- EPO <DP n="16"/>--> CLAIMS WHAT IS CLAIMED IS: </claim-statement><claim id="clm-0001" num="1"><claim-text>1. A Circuit to indicate when a divided down version of an output signal of a Phase Locked Loop (PLL) has a Frequency sufficiently close to the frequency of an input reference clock signal, wherein the circuit evaluates the output signals of the PLL Phase Frequency Detector (PFD) to establish how well the PLL is locked on to the Input Reference Clock. </claim-text></claim><claim id="clm-0002" num="2"><claim-text>2. The circuit according to claim 1, wherein the circuit compares the duration of the PFD up- plus down-pulses with the duration of the not-up- plus not-down- pulses. </claim-text></claim><claim id="clm-0003" num="3"><claim-text>3. The circuit according to claim 1, wherein the circuit is operable to establish when the PFD up- plus down-pulses are smaller than a certain fraction of the not-up- plus not-down-pulses. </claim-text></claim><claim id="clm-0004" num="4"><claim-text>4. The circuit according to claim 3, wherein the fraction size is established through the sizes of the transistors used in the circuit. </claim-text></claim><claim id="clm-0005" num="5"><claim-text>5. The circuit according to claim 3, wherein the fraction size is established through digital inputs; in particular by programming. </claim-text></claim><claim id="clm-0006" num="6"><claim-text>6. The circuit according to claim 1, wherein the circuit has a speed of response controlled by a current input which generate a bias voltage, and a set of CMOS Transistors configured as capacitors. </claim-text></claim><claim id="clm-0007" num="7"><claim-text>7. The circuit according to claim 1, wherein the circuit is operable to be used with any CMOS technology, independent of feature size. </claim-text></claim><claim id="clm-0008" num="8"><claim-text>8. The circuit according to claim 1, wherein the circuit is operable to be used with any PLL architecture that uses a Phase Frequency Detector to generate speed-up and slow-down pulses. </claim-text></claim><claim id="clm-0009" num="9"><claim-text>9. The circuit according to claim 1, wherein the circuit is operable to facilitate a reduction of the startup time of a system chip which use a PLL. </claim-text><claim-text>22491406 
<!-- EPO <DP n="17"/>-->
</claim-text></claim><claim id="clm-0010" num="10"><claim-text>10. The circuit according to claim 1, wherein the circuit is operable to detect that a PLL has lost lock-on, thereby improving system security. </claim-text></claim><claim id="clm-0011" num="11"><claim-text>1 1. A phase-locked loop circuit, comprising: first phase detection circuitry having a first up and down outputs; second phase detection circuitry having second up and down outputs; and a lock on circuit configured to receive the first up and down outputs and the second up and down outputs and determine from the first up and down outputs and the second up and down outputs how well the phase-locked loop is locked on to a reference clock. </claim-text></claim><claim id="clm-0012" num="12"><claim-text>12. The phase-locked loop circuit according to claim 11, wherein the first up and down outputs are up and down pulses and the second up and down pulses are not up and not down pulses. </claim-text></claim><claim id="clm-0013" num="13"><claim-text>13. The phase-locked loop circuit according to claim 12, wherein the lock on circuit is configured to compare the duration of up plus down pulses with the duration of the not up plus not down pulses. </claim-text></claim><claim id="clm-0014" num="14"><claim-text>14. The phase-locked loop circuit according to claim 1 1, wherein the lock on circuit determines that a lock has occurred when the duration is smaller than a predetermined fraction of the reference clock. </claim-text></claim><claim id="clm-0015" num="15"><claim-text>15. The phase- locked loop circuit according to claim 14, wherein the value of the fraction is determined according to: </claim-text><claim-text>(Tvub + Tvdb) x (1 + lxAOb + 2xAlb + 4xA2b)/8 = (Tvuu + Tvdn) x 8 </claim-text></claim><claim id="clm-0016" num="16"><claim-text>16. The phase-locked loop circuit according to claim 1 1, further including an input clock cycle counter configured to block lock-on from being indicated for a first duration when an accuracy setting is high and a second, longer duration, when the accuracy setting is low. </claim-text><claim-text>22491406 
<!-- EPO <DP n="18"/>-->
</claim-text></claim><claim id="clm-0017" num="17"><claim-text>17. A lock-on detection circuit for a phase-locked loop, comprising: circuitry configured to receive first up and down outputs and second up and down outputs from one or more phase detectors and to determine from the first up and down outputs and the second up and down outputs how well the phase-locked loop is locked on to a reference clock. </claim-text></claim><claim id="clm-0018" num="18"><claim-text>18. The lock-on circuit according to claim 17, wherein the first up and down outputs are up and down pulses and the second up and down pulses are not up and not down pulses. </claim-text></claim><claim id="clm-0019" num="19"><claim-text>19. The lock-on circuit according to claim 18, wherein the circuitry is configured to compare the duration of up plus down pulses with the duration of the not up plus not down pulses. </claim-text></claim><claim id="clm-0020" num="20"><claim-text>20. The lock-on circuit according to claim 17, wherein the circuitry determines that a lock has occurred when the duration is smaller than a predetermined fraction of the reference clock. </claim-text></claim><claim id="clm-0021" num="21"><claim-text>21. The lock-on circuit according to claim 20, wherein the value of the fraction is determined according to: </claim-text><claim-text>(Tvub + Tvdb) x (1 + l AOb + 2xAlb + 4xA2b)/8 = (Tvuu + Tvdn) x 8 </claim-text></claim><claim id="clm-0022" num="22"><claim-text>22. The lock-on circuit according to claim 17, further including an input clock cycle counter configured to block lock-on from being indicated for a first duration when an accuracy setting is high and a second, longer duration, when the accuracy setting is low. </claim-text><claim-text>22491406 
<!-- EPO <DP n="19"/>-->
</claim-text></claim><claim id="clm-0023" num="23"><claim-text>23. A method for determining that a lock-on has occurred in a phase-locked loop circuit, comprising: comparing the duration of up plus down pulses with the duration of not up plus not down pulses; and </claim-text><claim-text> determining that a lock has occurred when the duration is smaller than a predetermined fraction of a reference clock. </claim-text></claim><claim id="clm-0024" num="24"><claim-text>24. The method of claim 23, wherein the value of the fraction is determined according to: </claim-text><claim-text>(Tvub + Tvdb) x (1 + l AOb + 2xAlb + 4xA2b)/8 = (Tvuu + Tvdn) x 8 </claim-text></claim><claim id="clm-0025" num="25"><claim-text>25. The method of claim 23, further including blocking lock-on from being indicated for a first duration when an accuracy setting is high and a second, longer duration, when the accuracy setting is low. </claim-text><claim-text>22491406 
</claim-text></claim></claims><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
