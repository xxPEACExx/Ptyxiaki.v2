<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2681884-A1" country="EP" doc-number="2681884" kind="A1" date="20140108" family-id="45955124" file-reference-id="315083" date-produced="20180823" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146586404" ucid="EP-2681884-A1"><document-id><country>EP</country><doc-number>2681884</doc-number><kind>A1</kind><date>20140108</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-12714461-A" is-representative="NO"><document-id mxw-id="PAPP154848596" load-source="docdb" format="epo"><country>EP</country><doc-number>12714461</doc-number><kind>A</kind><date>20120329</date><lang>EN</lang></document-id><document-id mxw-id="PAPP220440091" load-source="docdb" format="original"><country>EP</country><doc-number>12714461.6</doc-number><date>20120329</date><lang>EN</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140555603" ucid="US-201161468682-P" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>201161468682</doc-number><kind>P</kind><date>20110329</date></document-id></priority-claim><priority-claim mxw-id="PPC140552760" ucid="US-2012031252-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>2012031252</doc-number><kind>W</kind><date>20120329</date></document-id></priority-claim></priority-claims><technical-data><classification-ipc><edition>7</edition><main-classification>H04L  12/56</main-classification></classification-ipc><classifications-ipcr><classification-ipcr mxw-id="PCL1989318231" load-source="patent-office">H04L  12/56        00000000AFI20121018BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-2092282015" load-source="docdb" scheme="CPC">H04L  47/728       20130101 LI20150207BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2092283602" load-source="docdb" scheme="CPC">H04L  45/28        20130101 FI20150207BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2092285974" load-source="docdb" scheme="CPC">H04L  45/22        20130101 LI20150207BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132363845" lang="DE" load-source="patent-office">VORRICHTUNG UND VERFAHREN ZUR RESERVEKAPAZITÄT ZUTEILUNG BEI DOPPELTEN VERBINDUNGSAUSFÄLLEN</invention-title><invention-title mxw-id="PT132363846" lang="EN" load-source="patent-office">APPARATUS AND METHOD FOR SPARE CAPACITY ALLOCATION ON DUAL LINK FAILURES</invention-title><invention-title mxw-id="PT132363847" lang="FR" load-source="patent-office">APPAREIL ET PROCÉDÉ POUR UNE ATTRIBUTION DE CAPACITÉ DISPONIBLE SUR DES DÉFAILLANCES DE LIAISONS DOUBLES</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR919513213" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>HUAWEI TECH CO LTD</last-name><address><country>CN</country></address></addressbook></applicant><applicant mxw-id="PPAR919504309" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>HUAWEI TECHNOLOGIES CO., LTD.</last-name></addressbook></applicant><applicant mxw-id="PPAR919014960" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Huawei Technologies Co., Ltd.</last-name><iid>101233704</iid><address><street>Huawei Administration Building Bantian Longgang District</street><city>Shenzhen, Guangdong 518129</city><country>CN</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR948147067" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>LIU VICTOR YU</last-name><address><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR919532253" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>LIU, Victor, Yu</last-name></addressbook></inventor><inventor mxw-id="PPAR919008738" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>LIU, Victor, Yu</last-name><address><street>1465 65th Street Apt. 323</street><city>Emeryville, CA 94608</city><country>US</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR919008911" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Thun, Clemens</last-name><iid>101098074</iid><address><street>Mitscherlich &amp; Partner Sonnenstrasse 33</street><city>80331 München</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="US-2012031252-W"><document-id><country>US</country><doc-number>2012031252</doc-number><kind>W</kind><date>20120329</date><lang>EN</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2012135521-A1"><document-id><country>WO</country><doc-number>2012135521</doc-number><kind>A1</kind><date>20121004</date><lang>EN</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS549760172" load-source="docdb">AL</country><country mxw-id="DS549838395" load-source="docdb">AT</country><country mxw-id="DS549760177" load-source="docdb">BE</country><country mxw-id="DS549770484" load-source="docdb">BG</country><country mxw-id="DS549851751" load-source="docdb">CH</country><country mxw-id="DS549760558" load-source="docdb">CY</country><country mxw-id="DS549838396" load-source="docdb">CZ</country><country mxw-id="DS549760178" load-source="docdb">DE</country><country mxw-id="DS549760559" load-source="docdb">DK</country><country mxw-id="DS549760560" load-source="docdb">EE</country><country mxw-id="DS549838302" load-source="docdb">ES</country><country mxw-id="DS549770497" load-source="docdb">FI</country><country mxw-id="DS549770498" load-source="docdb">FR</country><country mxw-id="DS549760179" load-source="docdb">GB</country><country mxw-id="DS549760565" load-source="docdb">GR</country><country mxw-id="DS549760180" load-source="docdb">HR</country><country mxw-id="DS549838397" load-source="docdb">HU</country><country mxw-id="DS549851752" load-source="docdb">IE</country><country mxw-id="DS549760566" load-source="docdb">IS</country><country mxw-id="DS549770499" load-source="docdb">IT</country><country mxw-id="DS549760567" load-source="docdb">LI</country><country mxw-id="DS549914715" load-source="docdb">LT</country><country mxw-id="DS549837868" load-source="docdb">LU</country><country mxw-id="DS549914716" load-source="docdb">LV</country><country mxw-id="DS549914717" load-source="docdb">MC</country><country mxw-id="DS549837869" load-source="docdb">MK</country><country mxw-id="DS549837874" load-source="docdb">MT</country><country mxw-id="DS549838303" load-source="docdb">NL</country><country mxw-id="DS549838402" load-source="docdb">NO</country><country mxw-id="DS549837875" load-source="docdb">PL</country><country mxw-id="DS549760568" load-source="docdb">PT</country><country mxw-id="DS549838304" load-source="docdb">RO</country><country mxw-id="DS549760573" load-source="docdb">RS</country><country mxw-id="DS549837876" load-source="docdb">SE</country><country mxw-id="DS549760189" load-source="docdb">SI</country><country mxw-id="DS549838403" load-source="docdb">SK</country><country mxw-id="DS549837877" load-source="docdb">SM</country><country mxw-id="DS549851753" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data><office-specific-data><eptags><ep-no-a-document-published>*</ep-no-a-document-published></eptags></office-specific-data></bibliographic-data><abstract mxw-id="PA100632081" ref-ucid="WO-2012135521-A1" lang="EN" load-source="patent-office"><p num="0000">A method implemented by an apparatus for providing spare capacity allocation (SCA) for dual link failures in a network, comprising computing the SCA for each of a plurality of flows in the network for a plurality of primary backup paths corresponding to a plurality of disjoint working paths for the flows using a first integer linear programming (ILP) model, computing the SCA for each of the flows for a plurality of secondary backup paths corresponding to the disjoint working paths and the primary backup paths using a second ILP model and the computed spare capacity information for the primary backup paths, and aggregating the computed SCA for the primary backup paths and the secondary backup paths for all the flows.</p></abstract><abstract mxw-id="PA100963762" ref-ucid="WO-2012135521-A1" lang="EN" source="national office" load-source="docdb"><p>A method implemented by an apparatus for providing spare capacity allocation (SCA) for dual link failures in a network, comprising computing the SCA for each of a plurality of flows in the network for a plurality of primary backup paths corresponding to a plurality of disjoint working paths for the flows using a first integer linear programming (ILP) model, computing the SCA for each of the flows for a plurality of secondary backup paths corresponding to the disjoint working paths and the primary backup paths using a second ILP model and the computed spare capacity information for the primary backup paths, and aggregating the computed SCA for the primary backup paths and the secondary backup paths for all the flows.</p></abstract><abstract mxw-id="PA100632082" ref-ucid="WO-2012135521-A1" lang="FR" load-source="patent-office"><p num="0000">L'invention concerne un procédé mis en œuvre par un appareil pour obtenir une attribution de capacité disponible (SCA) pour des défaillances de liaisons doubles dans un réseau, comprenant le calcul de la SCA pour chacun d'une pluralité de flux dans le réseau pour une pluralité de chemins de secours primaires correspondant à une pluralité de chemins de travail disjoints pour les flux à l'aide d'un premier modèle de programmation linéaire en nombres entiers (ILP), le calcul de la SCA pour chacun des flux pour une pluralité de chemin de secours secondaires correspondant aux chemins de travail disjoints et aux chemins de secours primaires à l'aide d'un second modèle ILP et des informations de capacité disponible calculée pour les chemins de secours primaires, et la consolidation de la SCA calculée pour les chemins de secours primaires et les chemins de secours secondaires pour tous les flux.</p></abstract><abstract mxw-id="PA100963763" ref-ucid="WO-2012135521-A1" lang="FR" source="national office" load-source="docdb"><p>L'invention concerne un procédé mis en oeuvre par un appareil pour obtenir une attribution de capacité disponible (SCA) pour des défaillances de liaisons doubles dans un réseau, comprenant le calcul de la SCA pour chacun d'une pluralité de flux dans le réseau pour une pluralité de chemins de secours primaires correspondant à une pluralité de chemins de travail disjoints pour les flux à l'aide d'un premier modèle de programmation linéaire en nombres entiers (ILP), le calcul de la SCA pour chacun des flux pour une pluralité de chemin de secours secondaires correspondant aux chemins de travail disjoints et aux chemins de secours primaires à l'aide d'un second modèle ILP et des informations de capacité disponible calculée pour les chemins de secours primaires, et la consolidation de la SCA calculée pour les chemins de secours primaires et les chemins de secours secondaires pour tous les flux.</p></abstract><description mxw-id="PDES51675517" ref-ucid="WO-2012135521-A1" lang="EN" load-source="patent-office"><!-- EPO <DP n="2"/>--><p id="p0001" num="0001"> Apparatus and Method for Spare Capacity Allocation on Dual Link Failures </p><p id="p0002" num="0002">CROSS-REFERENCE TO RELATED APPLICATIONS </p><p id="p0003" num="0003">[0001] The present application claims the benefit of U.S. Provisional Patent Application No. </p><p id="p0004" num="0004">61/468,682 filed March 29, 2011 by Victor Yu Liu and entitled "Apparatus and Method for </p><p id="p0005" num="0005">Spare Capacity Allocation on Dual Link Failures," which is incorporated herein by reference as if reproduced in its entirety. </p><p id="p0006" num="0006">STATEMENT REGARDING FEDERALLY SPONSORED RESEARCH OR DEVELOPMENT </p><p id="p0007" num="0007">[0002] Not applicable. </p><p id="p0008" num="0008">REFERENCE TO A MICROFICHE APPENDIX [0003] Not applicable. </p><p id="p0009" num="0009">BACKGROUND </p><p id="p0010" num="0010">[0004] Modern communications and data networks are comprised of nodes that transport data through the network via links that connect the nodes. The nodes may include routers, switches, bridges, or combinations thereof that transport the individual data packets or frames through the network. Some networks may offer data services that forward data frames from one node to another node across the network without using pre-configured routes on intermediate nodes. Other networks may forward the data frames from one node to another node across the network along pre-configured or pre-established paths. The data frames or packets may be forwarded on a plurality of links that connect multiple nodes along a path. </p><p id="p0011" num="0011">[0005] Different path protection schemes may be used to protect hnk or node failures on a path and avoid substantial data loss. Some path protection schemes handle single link failures, where a working path is assigned a backup path that is reserved in case of failures in the working path. Other more stringent schemes may be needed to handle dual link failures, where the working path 
<!-- EPO <DP n="3"/>-->
 is assigned a primary backup path that is reserved in case of failures in the working path, and a secondary backup path that is reserved in case of failures in the primary backup path. In some cases, at least some portions of the primary/secondary backup paths may share some network resource capacity (e.g., bandwidth) to save resources/cost in the network, which is referred to as spare capacity allocation for dual link failures. This may require a spare capacity allocation scheme for protecting against dual link failures. </p><p id="p0012" num="0012"> SUMMARY </p><p id="p0013" num="0013"> [0006] In one embodiment, the disclosure includes a method implemented by an apparatus for providing spare capacity allocation (SCA) for dual link failures in a network, comprising computing the SCA for each of a plurality of flows in the network for a plurality of primary backup paths corresponding to a plurality of disjoint working paths for the flows using a first integer linear programming (ILP) model, computing the SCA for each of the flows for a plurality of secondary backup paths corresponding to the disjoint working paths and the primary backup paths using a second ILP model and the computed spare capacity information for the primary backup paths, and aggregating the computed SCA for the primary backup paths and the secondary backup paths for all the flows. </p><p id="p0014" num="0014"> [0007] In another embodiment, the disclosure includes a method implemented by an apparatus for providing SCA for dual link failures in a network, comprising computing the SCA for each of a plurality of flows in the network for a plurality of primary backup paths and a plurality of secondary backup paths corresponding to a plurality of disjoint working paths for the flows using an Integer Non-Linear Programming (INLP) model, and aggregating the computed SCA for the primary backup paths and the secondary backup paths for all the flows, wherein the 
<!-- EPO <DP n="4"/>-->
 INLP model is based on sharing aggregated spare capacity on every link under every scenario of dual link failures. </p><p id="p0015" num="0015"> [0008] In another embodiment, the disclosure includes an apparatus for providing SCA for protecting against dual link failures in a network, comprising one or more network components configured to determine using a first ILP model the SCA for a plurality of primary backup paths corresponding to a plurality of disjoint working paths for a plurality of flows, determine subsequently using a second ILP model the SCA for a plurality of secondary backup paths corresponding to the working paths using the determined SCA for the primary backup paths, and aggregate the SCA for the primary backup paths and the secondary backup paths for all the flows. </p><p id="p0016" num="0016"> [0009] In yet another embodiment, the disclosure includes a network component for provisioning SCA for dual link failures in a network, comprising a processor configured to compute using an INLP the SCA for a plurality of primary backup paths and a plurality of secondary backup paths corresponding to a plurality of working paths for a plurality of flows in the network, and aggregate the computed SCA for the primary backup paths and the secondary backup paths for all the flows, wherein the INLP model is based on sharing aggregated spare capacity on every link under every scenario of dual link failures. </p><p id="p0017" num="0017"> BRIEF DESCRIPTION OF THE DRAWINGS </p><p id="p0018" num="0018">[0010] For a more complete understanding of this disclosure, reference is now made to the following brief description, taken in connection with the accompanying drawings and detailed description, wherein like reference numerals represent like parts. </p><p id="p0019" num="0019"> [0011] FIG. 1 is a schematic diagram of a spare capacity allocation model for single link failures. 
<!-- EPO <DP n="5"/>-->
 [0012] FIG. 2 is a schematic diagram of an embodiment of a dual link protection scenario. </p><p id="p0020" num="0020">[0013] FIG. 3 is a schematic diagram of another embodiment of a dual link protection scenario. </p><p id="p0021" num="0021"> [0014] FIG. 4 is a schematic diagram of a spare capacity allocation model for dual link failures according to an embodiment of the disclosure. </p><p id="p0022" num="0022"> [0015] FIG. 5 is a schematic diagram of another spare capacity allocation model for dual link failures according to an embodiment of the disclosure. </p><p id="p0023" num="0023"> [0016] FIG. 6 is a flowchart of a spare capacity allocation method for dual link failures according to an embodiment of the disclosure. </p><p id="p0024" num="0024"> [0017] FIG. 7 is a schematic diagram of a plurality of simulated network topologies. </p><p id="p0025" num="0025"> [0018] FIG. 8 is a chart of a plurality of numerical results for the simulated network topologies of FIG. 7. </p><p id="p0026" num="0026"> [0019] FIG. 9 is a schematic diagram of an embodiment of a network unit. </p><p id="p0027" num="0027"> [0020] FIG. 10 is a schematic diagram of an embodiment of a general-purpose processing system. </p><p id="p0028" num="0028"> DETAILED DESCRIPTION </p><p id="p0029" num="0029">[0021] It should be understood at the outset that although an illustrative implementation of one or more embodiments are provided below, the disclosed systems and/or methods may be implemented using any number of techniques, whether currently known or in existence. The disclosure should in no way be limited to the illustrative implementations, drawings, and techniques illustrated below, including the exemplary designs and implementations illustrated and described herein, but may be modified within the scope of the appended claims along with their full scope of equivalents. 
<!-- EPO <DP n="6"/>-->
 [0022] Multiple network survivability (or protection) techniques have been proposed for different network technologies. The survivability techniques may ensure network operation survival under different conditions that may affect the network, such as link/node failures. Examples of survivability techniques include multiple homing, self-healing rings, pre-planned backup routes, and ^-cycles. Many of the survivability techniques correspond to single link failures, while survivability techniques for dual link failures may be less common or developed. </p><p id="p0030" num="0030">[0023] Disclosed herein is a system and method for enabling SCA for protecting against dual link failures. The SCA method may provide better scalability and flexibility than other survivability techniques for dual link failures. The method uses a SCA model for dual link failures in networks that use primary and secondary backup paths to protect a working path for one or more data flows. The model may be used to determine the allocation of shared spare capacity among the paths from different flows. The networks that handle dual link failures may include mesh-like Internet Protocol(IP)/Multiprotocol Label Switching (MPLS) networks, Wavelength Division Multiplexing (WDM) networks, backbone networks, and other networks that may require high level of network reliability. </p><p id="p0031" num="0031"> [0024] The SCA model for dual link failures may minimize a pre-planned spare resource while guaranteeing substantially full service recovery (e.g., without data loss) upon a dual link failure in the network. The SCA model for dual link failures may provide end-to-end protection for a traffic flow, which may be assigned a working path and two pre-planned backup paths. The spare capacity of one or more links may be shared among multiple primary/secondary backup paths for flows that have disjoint working paths. This SCA model may compute the shared spare capacity for dual link failures with reduced redundancy (i.e., using minimum shared capacity) among the backup paths. 
<!-- EPO <DP n="7"/>-->
 [0025] Other techniques for allocating spare capacity for dual link failures may not be scalable for relatively large networks. For example, one model is proposed by W. He and A. K. Somani, and entitled "Path-Based Protection for Surviving Double Link Failures in Mesh- Restorable Optical Networks," in Proceedings of the Institute of Electrical and Electronics Engineers (IEEE) GLOBECOM conference, 2003. In this model, every traffic flow has a set of pre-computed and mutually disjoint candidate paths. These paths are selected as one working and two backup paths to protect any double link failures. This proposed model captures all non- sharing conditions between any two flows so that the roles of candidate backup paths can be chosen to minimize the total capacity. However, it may be difficult to scale the solution for a relatively large network since the spare capacity sharing constraints in this model depend on complete path information of pair-wise flows. Thus, for a large number of flows, the number of the constraints may increase in a quadratic scale. </p><p id="p0032" num="0032"> [0026] A SCA model for single link failures was also described in U.S. Patent Application No. 6,744,727 filed August 10, 2001 by Y. Liu, et al. and entitled "Apparatus and Method for Spare Capacity Allocation," which is incorporated herein by reference as if reproduced in its entirety. The SCA model for single link failures is also described by Y. Liu, et al. and entitled "Approximating Optimal Spare Capacity Allocation by Successive Survivable Routing," in IEEE/Association for Computing Machinery (ACM) Transactions on Networking, February 2005, which is incorporated herein by reference as if reproduced in its entirety. This model may use a Shared Backup Path Protection (SBPP) scheme for single failures, where each flow may use a disjoint backup path to protect the flow's working path upon any single link failure. Provisioning enough spare capacity using the SBPP scheme may be difficult for achieving 
<!-- EPO <DP n="8"/>-->
 substantially full restoration for any single link failure. The notation used in the SCA model for single link failures is summarized in Table 1 below. </p><p id="p0033" num="0033">Table 1: Notation. </p><p id="p0034" num="0034"><img id="imgf000008_0001" he="129" wi="166" file="imgf000008_0001.tif" img-format="tif" img-content="table" orientation="portrait" inline="no"/></p><p id="p0035" num="0035">[0027] In the SCA model for single link failures, a network may be modeled by a directed graph of N nodes, L links, and R flows. Flow r (1 &lt; r &lt; R) may have its origin/destination node pair (o(r), d(r)) and traffic demand m<sub>r</sub>. Working and backup paths of flow r may be represented by two 1 X L binary row vectors p<sub>r</sub> = {p<sub>r</sub>J and q<sub>r</sub> = {q<sub>r</sub>i} respectively. The l-th element in one of the vectors may be equal to one if and only if (iff) the corresponding path uses link I. The path link incidence matrices for working and backup paths may be the collections of these vectors, forming two R X L matrices P— {p<sub>r</sub>J and Q— {q<sub>r</sub>i} respectively. The relation 
<!-- EPO <DP n="9"/>-->
 M = Diag({m<sub>r</sub>}<sub>Rxl</sub>) may denote the diagonal matrix representing demand bandwidth. The topology may be represented by the node-link incidence matrix B = (b<sub>nl</sub>)<sub>NXL</sub> where b<sub>nl</sub> = 1 or — 1 iff node n is the origin or the destination node of link I. The relation D = (d<sub>rn</sub>)<sub>RXN</sub> may be the flow node incidence matrix where d<sub>rn</sub> = 1 or— 1 iff o(r) = n or d(r) = n. </p><p id="p0036" num="0036">[0028] K failure scenarios may be characterized in a binary matrix F =
<img id="imgf000009_0001" he="6" wi="14" file="imgf000009_0001.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="no"/>
 <sup>=</sup> { kJjcxL - The row vector f<sub>k</sub> in F may be for failure scenario k and its element f<sub>ki</sub> may be equal to one iff link / fails in scenario k. In this way, each failure scenario may include a set of one or more links that may fail simultaneously in the scenario. For a failed node, all the node's adjacent links may be marked as failed. A flow failure incidence matrix may be denoted as U = {u<sub>r</sub>}<sub>Rxl</sub> = {u<sub>rk</sub>}<sub>RXK</sub>, where u<sub>rk</sub> = 1 iff flow r is affected by failure k, and u<sub>rk</sub> = 0 otherwise. The flow tabu-link matrix T = {t<sub>r</sub>}<sub>Rxl</sub> = {t<sub>r</sub>i}<sub>RXL</sub> may have t = 1 iff the backup path of flow r should not use link I, and t<sub>ri</sub>— 0 otherwise. U and T may be found given P and F, respectively, as shown in equations (7) and (8) below. A binary matrix multiplication operation "O" may be used in equations (7) and (8), which is a matrix multiply operator that is similar to normal matrix multiplication except that the general numerical addition 1 -I- 1 = 2 is replaced by the boolean addition 1 + 1 = 1. Using this binary operator, the logical relations among links, paths, and failure scenarios may be simplified into two matrix operations. </p><p id="p0037" num="0037"> [0029] The matrix G = {gi<sub>k</sub>}ixK <sup>mav</sup> denote a spare provision matrix whose elements g<sub>lk</sub> are the minimum spare capacity required on link I when failure k occurs. The relation K = L may be true when the SCA protects all single link failures. With the backup paths Q, the demand bandwidth matrix M, the working path P, and the failure matrix F, G may be determined by equations (3) and (7) below. The minimum spare capacity required on each link may be denoted by the column vector s = {sJ<sub>Lxl</sub>, which may be found in equation (2) below. The function max 
<!-- EPO <DP n="10"/>-->
 in equation (2) may indicate that an element in s is equal to the maximum element in the corresponding row of G. This may be equivalent to s ≥ G in this model. The parameter φ<sub>ι</sub> may denote the cost function of spare capacity on link /. The vector φ = {0j<sub>/,x</sub>i may be a column vector of these cost functions and (s) may give the cost vector of the spare capacities on all links. The total cost of spare capacity in the network may correspond to e<sup>r</sup>0(s), where e is unit column vector of size L. For simplicity, all cost functions 0(s) may be identity functions, i.e., (5) = s. The term e<sup>T</sup> corresponds to the transpose of the unit vector e according to the known standard transpose matrix operation. The standard transpose operation is also used in other equations below. </p><p id="p0038" num="0038"> [0030] Using the notation and definitions above, the SCA model for single link failures may be formulated as follows: </p><p id="p0039" num="0039"> min^ <sub>s</sub> S = e<sup>T</sup>s (1) s. t. : s = max G (2) G = Q<sup>T</sup>M U (3) T + Q ≤ 1 (4) QB<sup>T</sup> = D (5) Q: binary (6) U = P Q F<sup>T</sup> (7) T = U Q F (8) </p><p id="p0040" num="0040">[0031] This SCA model has the objective to minimize the total spare capacity in equation (1) with the constraints in equations (2) to (8). The decision variables are the backup path matrix Q and the spare capacity vector s. The constraints in equations (2) and (3) may associate these variables, i.e., the spare capacity allocation s may be derived from the backup paths in Q . The 
<!-- EPO <DP n="11"/>-->
 constraint of equation (4) may guarantee that every backup path does not use any link which may fail simultaneously with any link on its working path. A flow conservation constraint in equation (5) may guarantee that backup paths given in Q are feasible paths of flows in a directed network. The incidence matrices U and T may be pre-computed. The matrix U may indicate the failure cases that influence the working paths. The matrix T may indicate the links that are to be avoided in the backup paths. The link load, the traffic flows, and their routes may be symmetric. In a directed network, each link may have two directions with asymmetric load. In this case, the dimensions of the matrices above may be doubled, e.g., 2L instead of L. </p><p id="p0041" num="0041">[0032] In another approach, the spare provision matrix G may be obtained by aggregation of per-flow based information, which may improve scalability of the solution. FIG. 1 shows a graphical representation of a SCA model 100 for single link failures that may use aggregation of per-flow information. In the SCA model 100, each flow r may have a contribution to G as G<sup>r</sup> = This is shown in equation (9) below, where u<sub>r</sub> and q<sub>r</sub> are the r-th row vectors in U and Q , respectively. Thus, the spare provision matrix G may be calculated as shown in equation (10) below. This is also shown in the stack of G<sup>r</sup> in Fig. 1. </p><p id="p0042" num="0042"> G<sup>r</sup> = m<sub>r</sub>(q^u<sub>r</sub>), Vr, 1 &lt; r &lt; R (9) </p><p id="p0043" num="0043"> G =∑*<sub>=1</sub> G<sup>r</sup> (10) </p><p id="p0044" num="0044">[0033] Using the above matrices and per-flow based information in P, Q may be replaced by G as the stored network state information for spare capacity sharing. As such, the space complexity may be reduced from 0 (RL) to 0 (LK) and may be independent of the number of flows, R. This may improve the scalability of the spare capacity sharing information and make the model suitable for distributed implementation. 
<!-- EPO <DP n="12"/>-->
 [0034] In the case of protecting dual link failures, each flow may have a working path and two backup paths. These three paths for the flow may be disjoint, e.g., may be established along different corresponding nodes/links. However, some of the backup paths for different flows may share capacity in the network, to reduce cost and/or preserve resources. The shared capacity may correspond to shared bandwidth, nodes, links, other resources, or combinations thereof. </p><p id="p0045" num="0045">[0035] FIG. 2 illustrates an embodiment of a dual link protection scenario 200, where each flow may be assigned a working path, a primary backup path, and a secondary backup path. The dual link protection scenario 200 may comprise three working paths 201, 203, and 205 for three corresponding data flows. The working paths 201, 203, and 205 may have corresponding primary backup paths 202, 204, and 206 and three corresponding secondary backup paths (not shown). Further, for each flow, the working paths 201, 203, and 205 may be disjoint from their corresponding primary backup paths 202, 204, and 206 (and from the corresponding secondary paths). Specifically, the working path 201 and the corresponding primary backup path 202 for a first flow between the nodes 1 and 2 may have separate links, and hence separate allocated capacity. Similarly, the working path 203 and the corresponding primary backup path 204 for a second flow between the nodes 3 and 4 may have separate links. The working path 205 and the corresponding primary backup path 206 for a third flow between the nodes 5 and 6 may also have separate links. However, the primary backup paths 202, 204, and 206 for the different flows may share some of the links, and hence may have shared allocated capacity. For instance, the three primary backup paths 202, 204, and 206 for the three flows may share 2 units of bandwidth, which may correspond to the shared spare capacity allocated to the three flows. </p><p id="p0046" num="0046">[0036] FIG. 3 illustrates an embodiment of another dual link protection scenario 300, where each flow may be assigned a working path, a primary backup path, and a secondary backup path. 
<!-- EPO <DP n="13"/>-->
 The dual link protection scenario 300 may comprise two working paths 301 and 304 for two corresponding flows. The working paths 301 and 304 may have corresponding primary backup paths 302 and 305 and two corresponding secondary backup paths 303 and 306. Further, for each flow, the working paths 301 and 304 may be disjoint from their corresponding primary backup paths 302 and 305 and their corresponding secondary paths 303 and 306. Specifically, the working path 301 and the corresponding primary backup path 302 and secondary backup path 303 for a first flow between the nodes 1 and 2 may have separate links, and hence separate allocated capacity. Similarly, the working path 304 and the corresponding primary backup path 305 and secondary backup path 306 for a second flow between the nodes 3 and 4 may have separate links. However, the secondary backup paths 303 and 306 for the different flows may share some of the links, and hence may have shared allocated capacity. For instance, the two secondary backup paths 303 and 306 for the two flows may share 1 unit of bandwidth, which may correspond to the shared spare capacity allocated to the two flows. </p><p id="p0047" num="0047"> [0037] To determine or allocate the shared spare capacity for the backup paths in the scenarios 200 and 300 with minimum allocated total spare capacity, a SCA model for dual link failures may be used. The SCA model for dual link failures may be formulated for each flow r to obtain a corresponding spare provision matrix G<sup>r</sup>, which may be used as the building block for spare capacity sharing for a plurality of flows. Hence, a spare provision matrix G may be obtained by combining or aggregating the obtained spare provision matrices for a plurality of flows, e.g., in a manner similar to the aggregation in the SCA model 100. For instance, the element g\<sub>k</sub> may indicate the spare capacity required for flow r on link I when dual link failure case k happens. The total number of dual link failures may be K = (^), i.e., the number of possible combinations of two links in a set of L links. Each failure k E 1. . K may correspond to 
<!-- EPO <DP n="14"/>-->
 a pair of failed links i, j. The index k may be determined as k = (i— 1) x L + (j— V) where 1 &lt; i &lt; j &lt; L. The failures of two links may happen at about the same time or shortly close to one another so that traffic rerouting happens only once. In a dual link failure scenario k, the working and backup paths of flow r may be impacted, and hence the spare capacity on the backup paths may need bandwidth reservation. </p><p id="p0048" num="0048"> [0038] In one case, when a dual link failure k breaks the working path, but not the primary backup path, traffic may be protected by the primary backup path. The links on the primary backup path may require a bandwidth demand m<sub>r</sub>. In the SCA model formulation, p<sub>ri</sub> = 1 iff link i is on the working path p<sub>r</sub> and q<sub>rj</sub> = 1 iff a link j is on the primary backup path q<sub>r</sub>. Hence, Pri(l — q<sub>rj</sub>) = 1 may indicate that link i is on the working path while link j is not on the primary backup path. The parameter uj.<sub>fc</sub> may be set as u .<sub>fc</sub>— p<sub>ri</sub> (1 — q<sub>rj</sub>) © (1— q<sub>r</sub>i)p<sub>rj</sub>, where is the binary plus which gives 1 0 1 = 1. Hence, = 1 may indicate that failure k contains one link on the working path p<sub>r</sub> but does not contain any link on the primary backup path q<sub>r</sub>. For this failure case k, the spare capacity on another link / on the primary backup path may reserve bandwidth m<sub>r</sub>. This may be formulated as = m<sub>r</sub> q 
<img id="imgf000014_0001" he="7" wi="7" file="imgf000014_0001.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="no"/>
 . These equations may also be rewritten in a vector or matrix format as in equations (11) and (12). 
<img id="imgf000014_0002" he="9" wi="111" file="imgf000014_0002.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="no"/>
</p><p id="p0049" num="0049"><img id="imgf000014_0003" he="7" wi="7" file="imgf000014_0003.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="no"/>
 = vec{jp q<sub>r</sub> 0 q p<sub>r</sub>) (12) </p><p id="p0050" num="0050">[0039] In the above equations, vec(-) converts a matrix with index into a row vector with index k and q<sub>r</sub>— e— q<sub>r</sub> where e is a unit row vector with size L. The length of the row vector u may be L<sup>2</sup> instead of the number of failures (^). This may help to maintain easier matrix formulation and conversion between k and The actual failure size may be easily 
<!-- EPO <DP n="15"/>-->
 controlled by removing duplicated cases during the implementation. For this reason, the SCA model formulation may use k = (i— 1)L + j and K = L<sup>2</sup> , </p><p id="p0051" num="0051"> [0040] In another case, when the failure case k contains one link on the working path p<sub>r</sub> and another link on the primary backup path q<sub>r</sub>, traffic may be rerouted to the secondary backup path z<sub>r</sub>. Thus, the links on the secondary backup path may need spare capacity to meet bandwidth demand m<sub>r</sub> for failure case k. In this case, may be set as = p<sub>ri</sub>q<sub>rj</sub> 0 q<sub>r</sub>iP<sub>rj</sub>. Hence, u<sub>r</sub> — 1 may indicate that failure case k breaks the working path p<sub>r</sub> and the primary backup path q<sub>r</sub> at the same time. Hence, the spare capacity on link I on the secondary backup path may be m<sub>r</sub>. This may be formulated as = m<sub>r</sub>z<sub>r</sub> ^ . These equations may be rewritten in matrix format as in equations (13) and (14). 
<img id="imgf000015_0001" he="9" wi="111" file="imgf000015_0001.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="no"/>
 </p><p id="p0052" num="0052"> uj.<sup>2]</sup> = vec(pfq<sub>r</sub> 0 q p<sub>r</sub> (14) </p><p id="p0053" num="0053">[0041] In the two cases above, the final per-flow based spare provision matrix is given in equation (15). </p><p id="p0054" num="0054"> G<sup>r</sup> = G<sup>r</sup>W + G<sup>r</sup>W . (15) The failure matrices F and T in equations (7) and (8) above in the single failure SCA model 100 may not be used in the SCA model for dual link failures. Instead, F may become an identical matrix for the link failure, and T may be simplified to P, as described in detail below. </p><p id="p0055" num="0055">[0042] Using the aggregation of the per-flow based spare provision matrix above and the additional notation in Table 2 below, the SCA model for dual link failures may be formulated as in equations (16) to (22) below. 
<!-- EPO <DP n="16"/>-->
 Table 2: Additional notation for dual link failure. </p><p id="p0056" num="0056">Indices of links in a dual failure k </p><p id="p0057" num="0057"> = {Qr} = {Qn} Primary backup path link incidence matrix </p><p id="p0058" num="0058"><sup>=</sup> {<sup>z</sup>r} <sup>=</sup> {<sup>z</sup>rl) Secondary backup path link incidence matrix </p><p id="p0059" num="0059"> Contribution of flow r's y-th backup path to G, y = 1 or 2 for primary or secondary </p><p id="p0060" num="0060">uw = The incidence matrix for flow r's y-fh backup path and failures, v?<sub>rk</sub> = 1 </p><p id="p0061" num="0061"> XK iff failure scenario k causes flow r's traffic to use its y-th backup path, y=l or 2 </p><p id="p0062" num="0062"> S<sub>lt</sub> S<sub>2</sub> Total spare capacity reserved for the primary or secondary backup paths </p><p id="p0063" num="0063"> Redundancy value for the primary or secondary backup paths, η<sub>γ</sub> = S<sub>y</sub>/W</p><p id="p0064" num="0064">Value and percentage of redundancy reduction from a Passive to an Active approach in scheme s, s is 1+1: 1 or 1: 1: 1 (described below) </p><p id="p0065" num="0065">min <sub>Zf s</sub> S = e<sup>T</sup>s (16) s. t. : s— max G (17) </p><p id="p0066" num="0066">G = Q<sup>T</sup>M t/W + Z<sup>T</sup>M UW (18) </p><p id="p0067" num="0067">P + Q + Z ≤ 1 (19) </p><p id="p0068" num="0068">QB<sup>T</sup> = D (20) </p><p id="p0069" num="0069">ZB<sup>T</sup> = D (21) </p><p id="p0070" num="0070">Q, Z: binary (22) </p><p id="p0071" num="0071">[0043] The objective of equation (16) may be similar to equation (1), which is to minimize the total spare capacity. In equation (16), the decision variables include not only the spare capacity and the primary backup path matrix Q, but also the secondary backup path matrix Z. In the constraint in equation (17), the spare capacity column vector 5 may be derived from the maximum values of elements in rows, across all failures, in the spare provision matrix G. This may indicate that the required spare capacity on a link is equivalent to the highest "watermark" from all possible dual link failures. In the constraint in equation (18), the spare provision matrix 
<!-- EPO <DP n="17"/>-->
 may be derived from backup paths. This may be a matrix format, equivalent to the aggregation of per-flow based information from equations (10), (15), (11), and (13). The constraint in equation (19) may require the working and backup paths to be mutually disjoint, i.e., these paths may use the same link at most once. The constraints in equations (20) and (21) are the flow balance requirements, which may guarantee that these paths in Q and Z are valid routes between the source and destination nodes. The constraint in equation (22) may require backup path decision variables to be binary to ensure that each backup path is not bifurcated. The row vectors in y E {1, 2} may be derived in equations (12) and (14) to indicate which failure case k may cause traffic detour to its primary or secondary backup path. </p><p id="p0072" num="0072"> [0044] The SCA model above for dual link failures may be a non-linear integer programming problem. Both terms in the right side of equation (18) may involve two design variables to multiply together. In the first term
<img id="imgf000017_0001" he="6" wi="17" file="imgf000017_0001.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="no"/>
 the design variable Q is multiplied by another variable which may be computed from q<sub>r</sub> in equation (12). Similarly, the second term Z<sup>T</sup>MU<sup>[2]</sup> may be based on the multiplication of decision variables Z and Q via it^ in equation (14). To remove the non-linearity in the first term, equation (12) may be replaced with a slightly different equation (23), where the original q<sub>r</sub> is replaced by e (the unit row vector with size L). </p><p id="p0073" num="0073">= vec(pjTe Θ e<sup>T</sup> r) (23) </p><p id="p0074" num="0074">[0045] This change may increase the spare provision matrix value on the links along the primary backup path, under the failure cases that may also disconnect this primary backup path. These values may be zero in the previous equation (12). Consequently, these values in the spare provision matrix may slightly decrease the spare capacity sharing chances with other flows. 
<!-- EPO <DP n="18"/>-->
 [0046] To handle the non-linearity in the second term, the SCA model may be partitioned into two sub-models: a model to find the primary backup paths first, and another model to find the secondary backup paths next. This may simplify the solution approach but may increase the required spare capacity. In another embodiment, the SCA for each of the flows in the network for the primary backup paths and secondary backup paths may be computed using an INLP model. In the INLP model, the non-linear constraint may be resolved or removed using integer programming modeling techniques, such as by adding extra variables and constraints or breaking the non-linear constraint. This may achieve better optimal solutions. However, partitioning the SCA model for dual link failures into two models may have better computation speed. </p><p id="p0075" num="0075">[0047] FIG. 4 shows a graphical representation of a first sub-model 400 to find the primary backup paths first as part of the SCA model for dual link failures. In the first sub-model to find the primary backup paths, an ILP model may be formulated using equations (24) to (29) below to find total spare capacity for primary backup paths S<sub>1</sub>. </p><p id="p0076" num="0076"> mm<sub>Q Si</sub> S<sub>1</sub> = e<sup>T</sup>s<sub>1</sub> (24) s. t.\ s<sub>1</sub> = max G<sup>[1]</sup> (25)</p><p id="p0077" num="0077"><sub>G</sub>W = Q<sup>T</sup> M UK (26)</p><p id="p0078" num="0078">P + Q ≤ 1 (27)</p><p id="p0079" num="0079">QB<sup>T</sup> = D (28)</p><p id="p0080" num="0080">Q: binary (29)</p><p id="p0081" num="0081">The equations above may be similar to portions of the equations (16) to (22). However, the incidence matrix may be obtained using equation (23). </p><p id="p0082" num="0082"> [0048] FIG. 5 shows a graphical representation of a second sub-model 500 to find the secondary backup paths after finding the primary backup paths. In the second sub-model to find 
<!-- EPO <DP n="19"/>-->
 the secondary backup paths, the secondary backup paths may be determined (after the primary backup paths are determined in the first model) with the objective function to minimize the total spare capacity in equation (16) with the design variables Z and s. The constraints in this model may be in equations (17) to (22), (12), and (14). However, the difference here is that the primary backup paths Q and its derived matrix may be fixed, i.e., already calculated in the first submodel 400. The formulation becomes an ILP model. </p><p id="p0083" num="0083"> [0049] Both of these ILP sub-models above may be nondeterministic polynomial time (NP)- complete. The sub-models may be solved herein for relatively smaller networks using commercial software referred to as A Mathematical Programming Language (AMPL) with ILP solvers, such as CPLEX or Gurobi, which may typically use a branch and cut algorithm. To solve for larger networks, a heuristic algorithm, called successive survivable routing (SSR), may be extended to find near optimal solutions rapidly. </p><p id="p0084" num="0084"> [0050] The backup path protection schemes may be coded on how the backup paths reserve spare capacity, such as "+1" for dedicated spare capacity and ": 1" for shared spare capacity. The following backup path protection schemes are considered herein: </p><p id="p0085" num="0085"> • 1+1+1 scheme stands for the dedicated path protection with no capacity sharing among backups. </p><p id="p0086" num="0086"> • 1+1:1 scheme is a hybrid backup path protection with the dedicated spare capacity for primary backup paths and shared bandwidth for secondary backup paths. </p><p id="p0087" num="0087"> • 1: 1: 1 scheme is a SBPP scheme that allows spare capacity sharing among all backup paths. </p><p id="p0088" num="0088"> [0051] The relationship between the spare capacity sharing and the backup path routing for 1+1: 1 and 1: 1: 1 schemes may be determined using two approaches: an Active approach and a 
<!-- EPO <DP n="20"/>-->
 Passive approach. The Active approach may combine the spare capacity sharing during the backup path routing. The Passive approach may find the backup paths first, and then determine the shared spare capacity. Based on these schemes and approaches, five schemes for dual link failure protection are compared in terms of the total spare capacity for primary backup paths 5<sub>l5</sub> and for secondary backup paths S<sub>2</sub>, where ^and S may be found in equations (24) and (16), and S<sub>2</sub> = S— Sj. Additionally, three schemes for single link failures are also considered herein. The schemes are: </p><p id="p0089" num="0089"> 1) A dedicated 1+1+1 scheme is the dedicated path protection scheme. This scheme may use the shortest path algorithm to find mutually disjoint primary and secondary backup paths. The spare capacity on these backup paths may be reserved separately. There is no spare capacity sharing. This scheme may use the largest total spare capacity. </p><p id="p0090" num="0090"> 2) A Passive 1+1: 1 scheme may also use the shortest path algorithm to find mutually disjoint primary and secondary backup paths. After all backup paths are found, the spare capacity among secondary backup paths may then be shared based on the spare provision matrix method in equations (30) and (31). </p><p id="p0091" num="0091"> max <sub>G</sub> [2] (30)</p><p id="p0092" num="0092"><sub>G</sub> [2] <sub>= Z</sub>T<sub>M U</sub> [2] </p><p id="p0093" num="0093"> (3D</p><p id="p0094" num="0094">3) An Active 1+1: 1 scheme may use the shortest path algorithm to find mutually disjoint primary backup paths. After that, the ILP model in the second sub-model described above may be used to find the secondary backup paths. </p><p id="p0095" num="0095"> 4) A Passive 1: 1: 1 scheme may use the shortest path algorithm to find mutually disjoint primary and secondary backup paths. After these paths are found, their spare capacity for 
<!-- EPO <DP n="21"/>-->
 all backup paths may then be shared using the spare provision matrix method in equations (17) and (18). </p><p id="p0096" num="0096"> 5) An Active 1:1: 1 scheme may consider spare capacity sharing during the process of finding both backup paths. The ILP models may be used sequentially in the first submodel and the second sub-model to find these backup paths which may also produce the minimum total spare capacity in these ILP sub-models. </p><p id="p0097" num="0097"> 6) A dedicated 1+1 scheme is the dedicated path protection scheme for single link failure. </p><p id="p0098" num="0098"> This scheme may use the shortest path algorithm to find mutually disjoint backup paths and the spare capacity on these backup paths may be reserved and dedicated to the corresponding flow. In this scheme, there may be no sharing of spare capacity. </p><p id="p0099" num="0099"> 7) A Passive 1: 1 scheme may use the shortest path algorithm to find a backup path disjoint from its working path. The spare capacity for all backup paths may then be shared using the spare provision matrix method in equation (2) and (3). </p><p id="p0100" num="0100"> 8) An Active 1: 1 scheme may consider spare capacity sharing during the process of finding both backup paths. The ILP model in the SCA model for single link failures may be used to find these backup paths which may also produce the minimum total spare capacity. </p><p id="p0101" num="0101"> [0052] FIG. 6 illustrates an embodiment of a SCA method 600 for dual link failures. The SCA method 600 may be based on the SCA model above for dual link failures and may be used to obtain minimum shared spare capacity allocation (e.g., in term of bandwidth units) for a plurality of primary and secondary backup paths for corresponding working paths that carry multiple data flows. At block 610, the method 600 may compute per flow the required spare capacity for primary backup paths on each link when other dual links fail. The required spare capacity for primary backup paths may be computed using information about the assigned links 
<!-- EPO <DP n="22"/>-->
 and failed links for each working path and information about the assigned links for each primary backup path. Accordingly, a spare provision matrix for primary backup paths may be computed using equations (26) to (29). At block 620, the method 600 may obtain the maximum spare capacity needed on each link of the primary backup paths across all dual link failure scenarios for all the flows. Accordingly, a spare capacity vector for the primary backup paths may be computed using equation (25). A corresponding total spare capacity reserved for the primary backup paths may also be obtained using equation (24). Blocks 610 and 620 may correspond to the first sub-model 400 that allocates spare capacity for the primary backup paths first (without the secondary backup paths) as part of the SCA model for dual link failures. </p><p id="p0102" num="0102">[0053] At block 630, the method 600 may compute per flow the required spare capacity for secondary backup paths on each link when other links fail, using the computed spare capacity for primary backup paths as fixed values. The required spare capacity for secondary backup paths may be computed using information about the assigned links and failed links for each working path, information about the assigned links for each secondary backup path, and the computed spare capacity for primary backup paths. Accordingly, a spare provision matrix for secondary backup paths given a spare provision matrix for primary backup paths may be computed using equations (18) to (22). At block 640, the method 600 may obtain the maximum spare capacity needed on each link of the secondary backup paths with the primary backup paths across all failure scenarios for all the flows. Accordingly, a spare capacity vector for the secondary backup paths with the primary backup paths may be computed using equation (17). A corresponding total spare capacity reserved for the secondary backup paths with the primary backup paths may also be obtained using equation (16). Blocks 630 and 640 may correspond to the second submodel 500 that allocates spare capacity for the secondary backup paths after allocating spare 
<!-- EPO <DP n="23"/>-->
 capacity for the primary backup paths as part of the SCA model for dual link failures. The method 600 may allocate minimum shared spare capacity for the primary and secondary backup paths per flow. </p><p id="p0103" num="0103"> [0054] FIG. 7 illustrates a plurality of network topologies 700a to 700e which have been considered in numerical experiments (simulations). The numerical experiments were performed for the network topologies 700a to 700e to examine the SCA model for dual link failures. Each of the network topologies 700a to 700e comprises a plurality of nodes interconnected by a plurality of links, where multiple flows were considered. Each of the network topologies 700a to 700e comprises a different combination of numbers of nodes, links, and flows that are indicated by the triplet (N, L, R). Specifically, the network topology 700a (Netl) comprises 5 nodes, 10 links, and 20 flows (indicated by (5, 10, 20)). The network topology 700b (Net2) comprises 10 nodes, 22 links, and 90 flows. The network topology 700c (Net3) comprises 11 nodes, 22 links, and 110 flows. The network topology 700d (Net4) comprises 17 nodes, 33 links and 272 flows. The network topology 700e (Net5) comprises 50 nodes, 86 links, and 2450 flows. </p><p id="p0104" num="0104">[0055] The results of the numerical experiments are given in Table 3 below. The network node count in the network topologies 700a to 700e ranges from 5 to 50 with an average node degree from 3.4 to 4.4, as shown in the first five rows of Table 3. Each network topology has full-meshed flows with one unit bandwidth demand per flow. The working paths were predetermined using the shortest path algorithm. The total working capacity W is listed in the sixth row of Table 3. More details about the numerical studies and results are described by Y. Liu, et al. and entitled "Spare Capacity Allocation Using Shared Backup Path Protection for Dual Link Failures," in IEEE 8<sup>th</sup> International Workshop on the Design of Reliable Communication 
<!-- EPO <DP n="24"/>-->
 Networks (DRCN), 2011, which is incorporated herein by reference as if reproduced in its entirety. </p><p id="p0105" num="0105"> Table 3: Numerical results for the five network topologies. </p><p id="p0106" num="0106"><img id="imgf000024_0001" he="200" wi="114" file="imgf000024_0001.tif" img-format="tif" img-content="table" orientation="portrait" inline="no"/><!-- EPO <DP n="25"/>--><img id="imgf000025_0001" he="108" wi="113" file="imgf000025_0001.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="no"/></p><p id="p0107" num="0107">[0056] The rows in Table 3 list the numerical results for the different path protection schemes. The total spare capacity is shown for primary, secondary, and both backup paths, i.e., 5<sub>l5</sub> S<sub>2</sub>, S respectively. Their respective redundancy value η , η<sub>2</sub>, η are also listed, where η = S/W. For the "Active 1: 1: 1" scheme, the time (in seconds) to compute S<sub>t</sub> and S using AMPL with CPLEX or Gurobi solvers are also provided. For the rest of the results, the computation time was less than seconds and hence ignored. In the bottom of Table 3, the results from the two 1: 1 schemes are listed to compare the required redundancy for single versus dual link failures. </p><p id="p0108" num="0108">[0057] FIG. 8 shows a chart 800 illustrating some of the numerical results in Table 3. The redundancy values η<sub>χ</sub> and η<sub>2</sub> in Table 3 are shown as bars in the chart 800. For each of the schemes, these values are stacked together so that the total redundancy η can be seen by the top of the bar. From these numerical results, several observations may be made. 
<!-- EPO <DP n="26"/>-->
 [0058] The results show that the redundancy may be reduced by increasing the complexity. It was found that the 1+1+1 dedicated protection scheme has the highest redundancy range of 313 to 400%. This is reduced down to 96 to 181% in the 1: 1: 1 SBPP scheme without loss of dual link resiliency. This trade-off between redundancy and complexity is important to evaluate various protection schemes. The hybrid 1+1: 1 scheme may provide intermediate redundancy ratio at 187 to 310%, while its complexity is also moderate between the other two schemes. </p><p id="p0109" num="0109">[0059] The results also show that the Active approach may have lower redundancy than the Passive approach. The results show that the Active approach may have lower redundancy compared to the corresponding Passive approach in both 1+1: 1 and 1: 1:1 schemes. Further, there is a reduction in the value δ<sub>5</sub> and the ratio γ<sub>3</sub> for the network redundancy from the Passive to Active approach in the same schemes for s. These parameters may be computed using equations (32). </p><p id="p0110" num="0110"> ^Passive _ ^Active </p><p id="p0111" num="0111"> °s <sup>—</sup> 'Is 'Is &gt; </p><p id="p0112" num="0112"> Ys = <sub>s</sub>/^<sup>assive</sup>, s E {1 + 1: 1, 1: 1: 1, 1: 1} (32)</p><p id="p0113" num="0113">The results in Table 3 also show that γ<sub>1+1 1</sub> is about 12% across four of the network topologies considered, while is about 25% for the three non-trivial networks 2 to 4. </p><p id="p0114" num="0114"> [0060] The results also show that the secondary backup paths may use less spare capacity than the primary backup paths in SBPP. In both 1+1: 1 and 1: 1: 1 schemes, the secondary backup paths may use less spare capacity than that of the primary backup paths. The ratio of S<sub>1</sub>/S<sub>2</sub> varies from 0.8 in the result of the Active 1:1:1 scheme on network 1 down to 0.29 in the result of the Passive 1: 1: 1 scheme on network 2. On the contrary in the dedicated 1+1+1 scheme, the secondary backup paths use about the same or more spare capacity than the primary backup paths with the same ratio varying from 1 to 1.47. 
<!-- EPO <DP n="27"/>-->
 [0061] The results also show that it may require substantially more redundancy to protect 100% dual link failures than single link failures. When the network redundancy for the first four networks are compared, the Active 1:1: 1 scheme has about 1.8 to 2.6 times of redundancy value compared to that of the Active 1: 1 scheme. This considerable increase on the redundancy may be critical for the network service providers to make the decision between these protection mechanisms and their extra resource requirements (cost). </p><p id="p0115" num="0115"> [0062] FIG. 9 illustrates an embodiment of a network unit 900, which may be any device that transports and processes data in a network, such as a node in an IP/MPLS network, WDM network, backbone network, or any other network that may have relatively high level of network reliability. Specifically, the network may use a primary backup path and a secondary backup path for each working path that services one or more data flows, and also use the SCA model described above for protecting against dual link failures. The SCA model may be implemented by a single network unit in the network or in a distributed manner by a plurality of network units 900 or similar nodes. The network unit 900 may comprise one or more ingress ports or units 910 coupled to a receiver (Rx) 912 for receiving signals and frames/data from other network components. The network unit 900 may comprise a logic unit 920 to determine which network components to send the packets to. The logic unit 920 may be implemented using hardware, software, or both. The network unit 900 may also comprise one or more egress ports or units 930 coupled to a transmitter (Tx) 932 for transmitting signals and frames/data to the other network components. The receiver 912, logic unit 920, and transmitter 932 may also implement or support any of the SCA schemes and methods described above. The components of the network unit 900 may be arranged as shown in FIG. 9. 
<!-- EPO <DP n="28"/>-->
 [0063] In some embodiments, the models, schemes, and methods described above may be implemented on any general-purpose network component, such as a computer or network component with sufficient processing power, memory resources, and network throughput capability to handle the necessary workload placed upon it. FIG. 10 illustrates a typical, general- purpose processing component 1000 suitable for implementing one or more embodiments of the models and schemes disclosed herein. For instance, the general-purpose processing component 1000 may be a network component, such as a node, a server (of the network), or any computer system. The processing component 1000 includes a processor 1002 (which may be referred to as a central processor unit or CPU) that is in communication with memory devices including secondary storage 1004, read only memory (ROM) 1006, random access memory (RAM) 1008, input/output (I/O) devices 1010, and network connectivity devices 1012. The processor 1002 may be implemented as one or more CPU chips, or may be part of one or more application specific integrated circuits (ASICs). </p><p id="p0116" num="0116"> [0064] The secondary storage 1004 is typically comprised of one or more disk drives or tape drives and is used for non-volatile storage of data and as an over-flow data storage device if RAM 1008 is not large enough to hold all working data. Secondary storage 1004 may be used to store programs that are loaded into RAM 1008 when such programs are selected for execution. The ROM 1006 is used to store instructions and perhaps data that are read during program execution. ROM 1006 is a non-volatile memory device that typically has a small memory capacity relative to the larger memory capacity of secondary storage 1004. The RAM 1008 is used to store volatile data and perhaps to store instructions. Access to both ROM 1006 and RAM 1008 is typically faster than to secondary storage 1004. 
<!-- EPO <DP n="29"/>-->
 [0065] At least one embodiment is disclosed and variations, combinations, and/or modifications of the embodiment(s) and/or features of the embodiment(s) made by a person having ordinary skill in the art are within the scope of the disclosure. Alternative embodiments that result from combining, integrating, and/or omitting features of the embodiment(s) are also within the scope of the disclosure. Where numerical ranges or limitations are expressly stated, such express ranges or limitations should be understood to include iterative ranges or limitations of like magnitude falling within the expressly stated ranges or limitations (e.g., from about 1 to about 10 includes, 2, 3, 4, etc.; greater than 0.10 includes 0.11, 0.12, 0.13, etc.). For example, whenever a numerical range with a lower limit, R and an upper limit, R<sub>u</sub>, is disclosed, any number falling within the range is specifically disclosed. In particular, the following numbers within the range are specifically disclosed: R = R<sub>l</sub> + k * (R<sub>u</sub>— R^, wherein k is a variable ranging from 1 percent to 100 percent with a 1 percent increment, i.e., fc is 1 percent, 2 percent, 3 percent, 4 percent, 7 percent, ..., 70 percent, 71 percent, 72 percent, 95 percent, 96 percent, 97 percent, 98 percent, 99 percent, or 100 percent. Moreover, any numerical range defined by two R numbers as defined in the above is also specifically disclosed. Use of the term "optionally" with respect to any element of a claim means that the element is required, or alternatively, the element is not required, both alternatives being within the scope of the claim. Use of broader terms such as comprises, includes, and having should be understood to provide support for narrower terms such as consisting of, consisting essentially of, and comprised substantially of. Accordingly, the scope of protection is not limited by the description set out above but is defined by the claims that follow, that scope including all equivalents of the subject matter of the claims. Each and every claim is incorporated as further disclosure into the specification and the claims are embodiment(s) of the present disclosure. The discussion of a 
<!-- EPO <DP n="30"/>-->
 reference in the disclosure is not an admission that it is prior art, especially any reference that has a publication date after the priority date of this application. The disclosure of all patents, patent applications, and publications cited in the disclosure are hereby incorporated by reference, to the extent that they provide exemplary, procedural, or other details supplementary to the disclosure. </p><p id="p0117" num="0117">[0066] While several embodiments have been provided in the present disclosure, it should be understood that the disclosed systems and methods might be embodied in many other specific forms without departing from the spirit or scope of the present disclosure. The present examples are to be considered as illustrative and not restrictive, and the intention is not to be limited to the details given herein. For example, the various elements or components may be combined or integrated in another system or certain features may be omitted, or not implemented. </p><p id="p0118" num="0118">[0067] In addition, techniques, systems, subsystems, and methods described and illustrated in the various embodiments as discrete or separate may be combined or integrated with other systems, modules, techniques, or methods without departing from the scope of the present disclosure. Other items shown or discussed as coupled or directly coupled or communicating with each other may be indirectly coupled or communicating through some interface, device, or intermediate component whether electrically, mechanically, or otherwise. Other examples of changes, substitutions, and alterations are ascertainable by one skilled in the art and could be made without departing from the spirit and scope disclosed herein. 
</p></description><claims mxw-id="PCLM45314882" ref-ucid="WO-2012135521-A1" lang="EN" load-source="patent-office"><claim-statement><!-- EPO <DP n="31"/>-->CLAIMS What is claimed is: </claim-statement><claim id="clm-0001" num="1"><claim-text> 1. A method implemented by an apparatus for providing spare capacity allocation (SCA) for dual link failures in a network, comprising: </claim-text><claim-text> computing the SCA for each of a plurality of flows in the network for a plurality of primary backup paths corresponding to a plurality of disjoint working paths for the flows using a first integer linear programming (ILP) model; </claim-text><claim-text> computing the SCA for each of the flows for a plurality of secondary backup paths corresponding to the disjoint working paths and the primary backup paths using a second ILP model and the computed spare capacity information for the primary backup paths; and </claim-text><claim-text> aggregating the computed SCA for the primary backup paths and the secondary backup paths for all the flows. </claim-text></claim><claim id="clm-0002" num="2"><claim-text>2. The method of claim 1, wherein the first ILP model and the second ILP model are both based on sharing aggregated spare capacity on every link under every scenario of dual link failures. <!-- EPO <DP n="32"/>--> </claim-text></claim><claim id="clm-0003" num="3"><claim-text>3. The method of claim 1, wherein the first ILP model to compute the SCA for the primary backup paths is based on the following mathematical matrix operations: <img id="imgf000032_0001" he="6" wi="36" file="imgf000032_0001.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="no"/> </claim-text><claim-text> s. t.: s = max G^ </claim-text><claim-text> GUI = Q<sup>T</sup>M i/W </claim-text><claim-text> P + Q ≤ 1 </claim-text><claim-text> QB<sup>T</sup> = D </claim-text><claim-text> Q: binary </claim-text><claim-text>where s<sub>1</sub> is a vector of spare capacity reserved for the primary backup paths, e is a unit row vector, G ^ is a spare provisioning matrix for the first backup paths, Q is a primary backup path link incidence matrix , M is a diagonal matrix of bandwidth, is a flow failure incidence matrix for the primary backup paths, P is a working path link incidence matrix, B is a node link incidence matrix, D is a flow node incidence matrix. <!-- EPO <DP n="33"/>--> </claim-text></claim><claim id="clm-0004" num="4"><claim-text>4. The method of claim 3, wherein and are computed per flow as <img id="imgf000033_0001" he="7" wi="24" file="imgf000033_0001.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="no"/> respectively to improve scalability and computation speed based on the following mathematical matrix operations: <img id="imgf000033_0002" he="20" wi="47" file="imgf000033_0002.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="no"/> </claim-text><claim-text>where is the element of G<sup>r</sup>^ for link I and failure scenario k, m<sub>r</sub> is the bandwidth for flow r, q<sub>r</sub> is a row vector of primary backup path links for flow r, q<sub>r</sub> = e— q<sub>r</sub>, and p<sub>r</sub> is a row vector of working path links for flow r, and wherein G ^ is computed as the sum of G<sup>r[1]</sup> for all the flows. </claim-text></claim><claim id="clm-0005" num="5"><claim-text>5. The method of claim 3, wherein to remove non-linearity </claim-text><claim-text>flow based on the following mathematical matrix operations: </claim-text><claim-text> = vec(pjT e © e<sup>T</sup>p<sub>r</sub>) </claim-text><claim-text>where q<sub>r</sub> is replaced by the unit row vector e. <!-- EPO <DP n="34"/>--> </claim-text></claim><claim id="clm-0006" num="6"><claim-text>6. The method of claim 3, wherein the second ILP model to compute the SCA for the secondary backup paths is based on the following mathematical matrix operations: </claim-text><claim-text> min<sub>Q&gt; z&gt;</sub> s S = e<sup>T</sup>s </claim-text><claim-text> s. t. : s = max G </claim-text><claim-text> G = Q<sup>T</sup>M t/M + Z<sup>T</sup>M UW </claim-text><claim-text> P + Q + Z &lt; 1 </claim-text><claim-text> QB<sup>T</sup> = D </claim-text><claim-text> ZB<sup>T</sup>— D </claim-text><claim-text> Q, Z: binary </claim-text><claim-text>where s is a vector of total spare capacity reserved for the secondary backup paths with the primary backup paths, e is a unit row vector, G is a spare provisioning matrix for the secondary backup paths with the first backup paths, is a flow failure incidence matrix for the secondary backup paths, and Z is a secondary backup path link incidence matrix, and Q, M, and P, B, and D are obtained from the first ILP model. <!-- EPO <DP n="35"/>--> </claim-text></claim><claim id="clm-0007" num="7"><claim-text>7. The method of claim 6, wherein G is computed from the sum of obtained from the first ILP model and Z<sup>T</sup>MU^ that corresponds to a second spare provisioning matrix G ^<sup>2</sup> wherein G <img id="imgf000035_0001" he="7" wi="86" file="imgf000035_0001.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="no"/> respectively to improve scalability and computation speed based on the following mathematical matrix operations: <img id="imgf000035_0002" he="20" wi="47" file="imgf000035_0002.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="no"/> </claim-text><claim-text>where g<sup>7</sup>^ is the element of G<sup>r</sup>^ for link I and failure scenario k, z<sub>r</sub> is a row vector of secondary backup path links for flow r and m<sub>r</sub>, q<sub>r</sub>, and p<sub>r</sub> are obtained from the first ILP model, and wherein G ^ is computed as the sum of G<sup>r</sup>W for all the flows. </claim-text></claim><claim id="clm-0008" num="8"><claim-text>8. The method of claim 1, wherein the primary backup paths and the secondary backup paths do not share spare capacity. </claim-text></claim><claim id="clm-0009" num="9"><claim-text>9. The method of claim 1, wherein the primary backup paths do not share spare capacity and the secondary backup paths share spare capacity. </claim-text></claim><claim id="clm-0010" num="10"><claim-text>10. The method of claim 1, wherein the primary backup paths and the secondary backup paths share spare capacity. </claim-text></claim><claim id="clm-0011" num="11"><claim-text>11. The method of claim 1, wherein sharing spare capacity between more backup paths reduces the ratio of spare capacity over working capacity for the flows. <!-- EPO <DP n="36"/>--> </claim-text></claim><claim id="clm-0012" num="12"><claim-text>12. The method of claim 1, wherein spare capacity is shared between at least some of the primary backup paths and secondary backup paths in an active approach during routing the primary backup paths and secondary backup paths in the network. </claim-text></claim><claim id="clm-0013" num="13"><claim-text>13. The method of claim 1, wherein spare capacity is shared between at least some of the primary backup paths and secondary backup paths in a passive approach after routing the primary backup paths and secondary backup paths in the network. <!-- EPO <DP n="37"/>--> </claim-text></claim><claim id="clm-0014" num="14"><claim-text>14. A method implemented by an apparatus for providing spare capacity allocation (SCA) for dual link failures in a network, comprising: </claim-text><claim-text> computing the SCA for each of a plurality of flows in the network for a plurality of primary backup paths and a plurality of secondary backup paths corresponding to a plurality of disjoint working paths for the flows using an integer non-linear programming (INLP) model; and aggregating the computed SCA for the primary backup paths and the secondary backup paths for all the flows, </claim-text><claim-text> wherein the INLP model is based on sharing aggregated spare capacity on every link under every scenario of dual link failures. <!-- EPO <DP n="38"/>--> </claim-text></claim><claim id="clm-0015" num="15"><claim-text>15. The method of claim 14, wherein the INLP model to compute the SCA for the primary backup paths and the secondary backup paths is based on the following mathematical matrix operations: </claim-text><claim-text> mi¼ z, s S = e<sup>T</sup>s </claim-text><claim-text> s. t. : s = max G </claim-text><claim-text> G = Q<sup>T</sup>M t/M + Z<sup>T</sup>M UW </claim-text><claim-text> P + Q + Z &lt; 1 </claim-text><claim-text> QB<sup>T</sup> = D </claim-text><claim-text> ZB<sup>T</sup> = D </claim-text><claim-text> Q, Z: binary </claim-text><claim-text> where is a vector of total spare capacity reserved for the primary and secondary backup paths, e is a unit row vector, G is a spare provisioning matrix for the primary and secondary backup paths, is a flow failure incidence matrix for the primary backup paths, is a flow failure incidence matrix for the secondary backup paths, Q is a primary backup path link incidence matrix, Z is a secondary backup path link incidence matrix, M is a diagonal matrix of bandwidth, P is a working path link incidence matrix, B is a node link incidence matrix, and D is a flow node incidence matrix. <!-- EPO <DP n="39"/>--> </claim-text></claim><claim id="clm-0016" num="16"><claim-text>16. An apparatus for providing spare capacity allocation (SCA) for protecting against dual link failures in a network, comprising: </claim-text><claim-text> one or more network components configured to: </claim-text><claim-text> determine using a first integer linear programming (ILP) model the SCA for a plurality of primary backup paths corresponding to a plurality of disjoint working paths for a plurality of flows, </claim-text><claim-text> determine subsequently using a second ILP model the SCA for a plurality of secondary backup paths corresponding to the working paths using the determined SCA for the primary backup paths, and </claim-text><claim-text> aggregate the SCA for the primary backup paths and the secondary backup paths for all the flows. </claim-text></claim><claim id="clm-0017" num="17"><claim-text>17. The apparatus of claim 16, wherein at least some of the primary backup paths and secondary backup paths are joint paths that share one or more links. </claim-text></claim><claim id="clm-0018" num="18"><claim-text>18. The apparatus of claim 16, wherein the first ILP model and the second ILP model are used to reduce the SCA for the primary backup paths and the secondary backup paths and provide substantially full survivability for the flows. </claim-text></claim><claim id="clm-0019" num="19"><claim-text>19. The apparatus of claim 16, wherein the SCA for the primary backup paths and the SCA for the secondary backup paths are determined per flow, and wherein the determined SCA for the primary backup paths and the secondary backup paths are subsequently aggregated for all the flows. <!-- EPO <DP n="40"/>--> </claim-text></claim><claim id="clm-0020" num="20"><claim-text>20. The apparatus of claim 19, wherein determining the SCA per flow before aggregating the SCA for all the flows improves scalability of SCA to handle larger networks with more paths and flows. </claim-text></claim><claim id="clm-0021" num="21"><claim-text>21. The apparatus of claim 16, wherein the working paths are initially assigned to the flows, and wherein the primary backup paths and the secondary backup paths are subsequently determined to reduce or optimize overall resource allocation for the working paths, the primary backup paths, and the secondary backup paths. </claim-text></claim><claim id="clm-0022" num="22"><claim-text>22. The apparatus of claim 16, wherein one or more of the working paths for the flows are changed, and wherein the primary backup paths and the secondary backup paths are subsequently determined to reduce or optimize overall resource allocation for the working paths, the primary backup paths, and the secondary backup paths. <!-- EPO <DP n="41"/>--> </claim-text></claim><claim id="clm-0023" num="23"><claim-text>23. The apparatus of claim 16, wherein the first ILP model to compute the SCA for the primary backup paths is based on the following mathematical matrix operations: </claim-text><claim-text> mm<sub>Q Si</sub> S<sub>1</sub> = e<sup>T</sup>s<sub>1</sub> </claim-text><claim-text> s. t.: s = max G^ </claim-text><claim-text> GUI = Q<sup>T</sup>M i/W </claim-text><claim-text> P + Q ≤ 1 </claim-text><claim-text> QB<sup>T</sup> = D </claim-text><claim-text> Q: binary </claim-text><claim-text>where s<sub>1</sub> is a vector of spare capacity reserved for the primary backup paths, e is a unit row vector, G ^ is a spare provisioning matrix for the first backup paths, Q is a primary backup path link incidence matrix, M is a diagonal matrix of bandwidth, is a flow failure incidence matrix for the primary backup paths, P is a working path link incidence matrix, B is a node link incidence matrix, D is a flow node incidence matrix. <!-- EPO <DP n="42"/>--> </claim-text></claim><claim id="clm-0024" num="24"><claim-text>24. The apparatus of claim 23, wherein and are computed per flow as <img id="imgf000042_0001" he="7" wi="23" file="imgf000042_0001.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="no"/> respectively to improve scalability and computation speed based on the following mathematical matrix operations: <img id="imgf000042_0002" he="20" wi="47" file="imgf000042_0002.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="no"/> </claim-text><claim-text>where is the element of G<sup>r</sup>^ for link I and failure scenario k, m<sub>r</sub> is the bandwidth for flow r, q<sub>r</sub> is a row vector of primary backup path links for flow r, q<sub>r</sub> = e— q<sub>r</sub>, and p<sub>r</sub> is a row vector of working path links for flow r, and wherein G ^ is computed as the sum of G<sup>r[1]</sup> for all the flows. <!-- EPO <DP n="43"/>--> </claim-text></claim><claim id="clm-0025" num="25"><claim-text>25. The apparatus of claim 23, wherein the second ILP model to compute the SCA for the secondary backup paths is based on the following mathematical matrix operations: </claim-text><claim-text> min<sub>Q&gt; z&gt;</sub> s S = e<sup>T</sup>s </claim-text><claim-text> s. t. : s = max G </claim-text><claim-text> G = Q<sup>T</sup>M t/M + Z<sup>T</sup>M UW </claim-text><claim-text> P + Q + Z &lt; 1 </claim-text><claim-text> QB<sup>T</sup> = D </claim-text><claim-text> ZB<sup>T</sup>— D </claim-text><claim-text> Q, Z: binary </claim-text><claim-text>where s is a vector of total spare capacity reserved for the secondary backup paths with the primary backup paths, e is a unit row vector, G is a spare provisioning matrix for the secondary backup paths with the first backup paths, is a flow failure incidence matrix for the secondary backup paths, and Z is a secondary backup path link incidence matrix, and Q, M, and P, B, and D are obtained from the first ILP model. <!-- EPO <DP n="44"/>--> </claim-text></claim><claim id="clm-0026" num="26"><claim-text>26. The apparatus of claim 25, wherein G is computed from the sum of G ^ obtained from the first ILP model and Z<sup>T</sup>MU^ that corresponds to a second spare provisioning matrix G ^<sup>2</sup> wherein G <img id="imgf000044_0001" he="7" wi="86" file="imgf000044_0001.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="no"/> respectively to improve scalability and computation speed based on the following mathematical matrix operations: <img id="imgf000044_0002" he="20" wi="47" file="imgf000044_0002.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="no"/> </claim-text><claim-text>where g<sup>7</sup>^ is the element of G<sup>r</sup>^ for link I and failure scenario k, z<sub>r</sub> is a row vector of secondary backup path links for flow r and m<sub>r</sub>, q<sub>r</sub>, and p<sub>r</sub> are obtained from the first ILP model, and wherein G ^ is computed as the sum of G<sup>r</sup>W for all the flows. <!-- EPO <DP n="45"/>--> </claim-text></claim><claim id="clm-0027" num="27"><claim-text>27. The apparatus of claim 16, wherein the first ILP model comprises computing per flow spare capacity required on each of a plurality of links for the primary backup paths when other dual links fail, and subsequently obtaining maximum spare capacity needed on each of the links across all failure scenarios for all the flows, and wherein the spare capacity is computed based on a plurality of links assigned for the working paths, any failed links from the links for the working paths, a plurality of links assigned for the primary backup paths, and bandwidth allocated on the links for the primary backup paths and the working paths. </claim-text></claim><claim id="clm-0028" num="28"><claim-text>28. The apparatus of claim 27, wherein the second ILP model comprises computing per flow spare capacity required on each of a plurality of links for the secondary backup paths when other dual links fail using the computed spare capacity required for the primary backup paths in the first ILP model as fixed values, and subsequently obtaining maximum spare capacity needed on each of the links across all failure scenarios for all the flows, and wherein the required spare capacity for the secondary backup paths is computed based on a plurality of links assigned for the working paths, any failed links from the links for the working paths, a plurality of links assigned for the secondary backup paths, and bandwidth allocated on the links for the secondary backup paths and the working paths. <!-- EPO <DP n="46"/>--> </claim-text></claim><claim id="clm-0029" num="29"><claim-text>29. A network component for provisioning spare capacity allocation (SCA) for dual link failures in a network, comprising a processor configured to: </claim-text><claim-text> compute using an integer non-linear programming (INLP) the SCA for a plurality of primary backup paths and a plurality of secondary backup paths corresponding to a plurality of working paths for a plurality of flows in the network; and </claim-text><claim-text> aggregate the computed SCA for the primary backup paths and the secondary backup paths for all the flows, </claim-text><claim-text> wherein the INLP model is based on sharing aggregated spare capacity on every link under every scenario of dual link failures. <!-- EPO <DP n="47"/>--> </claim-text></claim><claim id="clm-0030" num="30"><claim-text>30. The network component of claim 29, wherein the INLP model to compute the SCA for the primary backup paths and the secondary backup paths is based on the following mathematical matrix operations: </claim-text><claim-text> mi¼ z, s S = e<sup>T</sup>s </claim-text><claim-text> s. t. : s = max G </claim-text><claim-text> G = Q<sup>T</sup>M t/M + Z<sup>T</sup>M UW </claim-text><claim-text> P + Q + Z &lt; 1 </claim-text><claim-text> QB<sup>T</sup> = D </claim-text><claim-text> ZB<sup>T</sup> = D </claim-text><claim-text> Q, Z: binary </claim-text><claim-text>where is a vector of total spare capacity reserved for the primary and secondary backup paths, e is a unit row vector, G is a spare provisioning matrix for the primary and secondary backup paths, is a flow failure incidence matrix for the primary backup paths, is a flow failure incidence matrix for the secondary backup paths, Q is a primary backup path link incidence matrix, Z is a secondary backup path link incidence matrix, M is a diagonal matrix of bandwidth, P is a working path link incidence matrix, B is a node link incidence matrix, and D is a flow node incidence matrix. </claim-text></claim></claims><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
