<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2683050-A1" country="EP" doc-number="2683050" kind="A1" date="20140108" family-id="46797527" file-reference-id="318301" date-produced="20180822" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146585199" ucid="EP-2683050-A1"><document-id><country>EP</country><doc-number>2683050</doc-number><kind>A1</kind><date>20140108</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-12755323-A" is-representative="YES"><document-id mxw-id="PAPP154847391" load-source="docdb" format="epo"><country>EP</country><doc-number>12755323</doc-number><kind>A</kind><date>20120223</date><lang>ES</lang></document-id><document-id mxw-id="PAPP174953034" load-source="docdb" format="original"><country>EP</country><doc-number>12755323.8</doc-number><date>20120223</date><lang>ES</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140547624" ucid="ES-201130295-A" load-source="docdb"><document-id format="epo"><country>ES</country><doc-number>201130295</doc-number><kind>A</kind><date>20110304</date></document-id></priority-claim><priority-claim mxw-id="PPC140553227" ucid="ES-2012070105-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>ES</country><doc-number>2012070105</doc-number><kind>W</kind><date>20120223</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-2049526756" load-source="docdb">H02J   3/38        20060101AFI20150522BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL1989628455" load-source="docdb" scheme="CPC">H02J2003/388       20130101 LA20121217BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989648302" load-source="docdb" scheme="CPC">H02J   3/38        20130101 FI20121217BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132360230" lang="DE" load-source="patent-office">VERFAHREN UND VORRICHTUNG ZUR ERKENNUNG VON INSELVORGÄNGEN IN EINER VERTEILTEN STROMERZEUGUNG UND ZUM SCHUTZ ANGESCHLOSSENER LASTEN IN GENERATORSTANGEN WÄHREND INSELVORGÄNGEN</invention-title><invention-title mxw-id="PT132360231" lang="EN" load-source="patent-office">METHOD AND DEVICE FOR DETECTING ISLAND OPERATION IN DISTRIBUTED ELECTRICITY GENERATION AND FOR PROTECTING THE CONNECTED LOADS IN THE BARS OF THE GENERATORS WHEN ISLAND OPERATION OCCURS</invention-title><invention-title mxw-id="PT132360232" lang="FR" load-source="patent-office">PROCÉDÉ ET DISPOSITIF POUR LA DÉTECTION DE FONCTIONNEMENT EN ÎLOT DANS LA GÉNÉRATION ÉLECTRIQUE RÉPARTIE ET POUR LA PROTECTION DE CHARGES CONNECTÉES DANS DES BARRES DE GÉNÉRATEURS LORS D'UN FONCTIONNEMENT EN ÎLOT</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR919520017" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>ZIGOR CORPORACION S A</last-name><address><country>ES</country></address></addressbook></applicant><applicant mxw-id="PPAR919503802" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>ZIGOR CORPORACION, S.A.</last-name></addressbook></applicant><applicant mxw-id="PPAR919008967" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Zigor Corporación, S.A.</last-name><iid>101337393</iid><address><street>Portal de Gamarra, 28</street><city>01013 Vitoria</city><country>ES</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR919534306" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>IRIBARRREN ASENJO JOSE LUIS</last-name><address><country>ES</country></address></addressbook></inventor><inventor mxw-id="PPAR919511350" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>IRIBARRREN ASENJO, Jose Luis</last-name></addressbook></inventor><inventor mxw-id="PPAR919016163" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>IRIBARRREN ASENJO, Jose Luis</last-name><address><street>Portal de Gamarra 28</street><city>E-01013 Vitoria</city><country>ES</country></address></addressbook></inventor><inventor mxw-id="PPAR919544878" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>CORERA CASTY SANTIAGO</last-name><address><country>ES</country></address></addressbook></inventor><inventor mxw-id="PPAR919540198" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>Corera Casty, Santiago</last-name></addressbook></inventor><inventor mxw-id="PPAR919013831" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>Corera Casty, Santiago</last-name><address><street>C/ Elizasu 12 - 6º D</street><city>E-20017 Donostia</city><country>ES</country></address></addressbook></inventor><inventor mxw-id="PPAR919544184" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>BELTZA IGOA AITOR</last-name><address><country>ES</country></address></addressbook></inventor><inventor mxw-id="PPAR919508510" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>Beltza Igoa, Aitor</last-name></addressbook></inventor><inventor mxw-id="PPAR919019646" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>Beltza Igoa, Aitor</last-name><address><street>C/Mundiño 3 - 2º Drcha</street><city>E-31820 Etxarri-Aranatz</city><country>ES</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR919011410" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Boden, Keith McMurray</last-name><iid>100040424</iid><address><street>Fry Heath &amp; Spence LLP The Gables Massetts Road</street><city>Horley Surrey RH6 7DQ</city><country>GB</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="ES-2012070105-W"><document-id><country>ES</country><doc-number>2012070105</doc-number><kind>W</kind><date>20120223</date><lang>ES</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2012120168-A1"><document-id><country>WO</country><doc-number>2012120168</doc-number><kind>A1</kind><date>20120913</date><lang>ES</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS549817154" load-source="docdb">AL</country><country mxw-id="DS549745929" load-source="docdb">AT</country><country mxw-id="DS549817155" load-source="docdb">BE</country><country mxw-id="DS549820180" load-source="docdb">BG</country><country mxw-id="DS549746071" load-source="docdb">CH</country><country mxw-id="DS549817156" load-source="docdb">CY</country><country mxw-id="DS549816165" load-source="docdb">CZ</country><country mxw-id="DS549818883" load-source="docdb">DE</country><country mxw-id="DS549817157" load-source="docdb">DK</country><country mxw-id="DS549817158" load-source="docdb">EE</country><country mxw-id="DS549908954" load-source="docdb">ES</country><country mxw-id="DS549820181" load-source="docdb">FI</country><country mxw-id="DS549820194" load-source="docdb">FR</country><country mxw-id="DS549818884" load-source="docdb">GB</country><country mxw-id="DS549817159" load-source="docdb">GR</country><country mxw-id="DS549818885" load-source="docdb">HR</country><country mxw-id="DS549816198" load-source="docdb">HU</country><country mxw-id="DS549746072" load-source="docdb">IE</country><country mxw-id="DS549817160" load-source="docdb">IS</country><country mxw-id="DS549820195" load-source="docdb">IT</country><country mxw-id="DS549817161" load-source="docdb">LI</country><country mxw-id="DS549818890" load-source="docdb">LT</country><country mxw-id="DS549745930" load-source="docdb">LU</country><country mxw-id="DS549820196" load-source="docdb">LV</country><country mxw-id="DS549818891" load-source="docdb">MC</country><country mxw-id="DS549745931" load-source="docdb">MK</country><country mxw-id="DS549745932" load-source="docdb">MT</country><country mxw-id="DS549745941" load-source="docdb">NL</country><country mxw-id="DS549746085" load-source="docdb">NO</country><country mxw-id="DS549745942" load-source="docdb">PL</country><country mxw-id="DS549908955" load-source="docdb">PT</country><country mxw-id="DS549743771" load-source="docdb">RO</country><country mxw-id="DS549908956" load-source="docdb">RS</country><country mxw-id="DS549745943" load-source="docdb">SE</country><country mxw-id="DS549818892" load-source="docdb">SI</country><country mxw-id="DS549746086" load-source="docdb">SK</country><country mxw-id="DS549746087" load-source="docdb">SM</country><country mxw-id="DS549817166" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA128673371" lang="EN" load-source="patent-office"><p id="pa01" num="0001">Method for detecting island operation in distributed electricity generation and for protecting the connected loads in the bars of the generators when island operation occurs, in which, in addition to the power-generating current (h) of the electricity generation system, an additional current (i<sub>2</sub>) is produced both during normal operation and during island operation.<img id="iaf01" file="imgaf001.tif" wi="145" he="72" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA128737522" lang="EN" source="EPO" load-source="docdb"><p>Method for detecting island operation in distributed electricity generation and for protecting the connected loads in the bars of the generators when island operation occurs, in which, in addition to the power-generating current (h) of the electricity generation system, an additional current (i 2 ) is produced both during normal operation and during island operation.</p></abstract><description mxw-id="PDES63959359" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001"><b><u>FIELD OF THE INVENTION</u></b></heading><p id="p0001" num="0001">The present invention concerns a process and a device which are designed to detect island operation of electrical energy generators (photovoltaic inverters, wind and diesel generators, etc.), i.e. to detect that one of these generators is disconnected from the system to which it supplies electric current. The purpose of this detection of island operation is to protect against damage the loads which are connected in the bars of the generator, by disconnecting them or stopping the generator.</p><p id="p0002" num="0002">The method and device which are the subject of this patent can be associated with the set of generators of an installation, or with each of them individually; i.e. the invention can be integrated in each of the generators, or it can be introduced into the installation as a separate element.</p><heading id="h0002"><b><u>PRIOR ART</u></b></heading><p id="p0003" num="0003">As the result of the activation of protection of the system in an installation for generation of electrical energy to the supply network, the circuit may be opened by means of an automatic switch, a differential or another device for this purpose; disconnection of the electrical network then occurs, and the generator is isolated, and supplies to the load connected to it. If the load has a high Q factor (Q = ratio between the reactive power managed by the load and the active power consumed by the load), then the generator continues to generate energy, which is not absorbed by the electrical network, and has to be dissipated in this load. Since generators such as solar and wind inverters etc. generate current, it often happens that they do not provide adequate voltage when they are operating in island mode, such that there may be cases in which the load is destroyed. It may sometimes also happen that, for example, because of a slight variation of consumption of active power by the load, the system behaves in an unstable manner, even though the voltage and frequency at the terminals of the aforementioned load may be sufficiently close to those of operation in normal conditions (not in island mode). Therefore, it is necessary to detect as soon as possible the condition of island operation, in order to proceed to disconnect the electric<!-- EPO <DP n="2"> --> generator(s) involved in the event. Consequently there also exist regulations in this respect which make it necessary to detect and solve the problem within a limited time.</p><p id="p0004" num="0004">In order to achieve this objective, use is made of various systems which correspond to two distinct concepts, in other words passive detection systems and active detection systems.</p><p id="p0005" num="0005">By means of the passive detection systems there is measurement only of the most important magnitudes (voltage at the terminals of the generator and of the load, electric frequency of the system, distortion of voltage, etc.). When some of the values measured are outside the specifications, it is assumed that island operation is taking place, and it is possible to proceed to disconnect the loads and/or the generators. The disadvantage of these systems is that, if the electrical network being generated is of low quality, there can be false detections of the condition of island operation (known hereinafter as island condition or island).</p><p id="p0006" num="0006">As an alternative to these systems, there has been development of active detection methods which are based on the functional concept that the generator(s) produce(s) permanent disturbance in the system which is propagated or amplified only when the island condition exists, thus resolving the problem of false detections of the passive detection systems.</p><p id="p0007" num="0007">Amongst the active detection systems, the following can be distinguished (by way of applicative example specific reference is made to solar inverters):
<ol><li>a) PJD (Phase Jump Detection). This consists of detection of a sudden phase jump which arises when the transition from normal operation to island operation takes place. The problem is that there can also be phase jumps in the network which result in false detections. In order to avoid this, the sensitivity is reduced, and the detection may then not be adequate.</li><li>b) Detection of harmonics. This consists of the fact that in normal operation (with the network connected) the network imposes the voltage of the system, because of its low impedance. However, in island operation, the impedance is that of the load, and is far greater than that of the network. Since solar inverters usually generate current harmonics, in normal operation they are absorbed by the network, however in island operation the voltage distortion increases since the impedance modulus for the harmonics has increased when operating in island mode. The network impedance is always smaller than that of the load, and therefore the product of a current harmonic for these impedances (which is translated into a voltage harmonic), is far greater in<!-- EPO <DP n="3"> --> island operation, a condition which can be detected for the purposes required. The problem is that there are regulations which make it necessary to have low current distortion, since this is the factor of merit for the inverter (generator), and consequently when the distortion decreases, the current harmonics are so small that they make it impossible to distinguish between normal or island operation.</li><li>c) Measurement of the impedance. This is similar to the above method, with the difference that there is now estimation of the impedance of the system by varying or pulsing the current, and therefore the active power generated. There is then observation of the repercussion on the variation of the voltage in the bars which are common to the generator and the load, since this will be greater when the system is working in island operation. A serious disadvantage of this detection method is the large amount of power modulation necessary in order to distinguish whether or not the system is in island operation. In addition, in the solar cells, there is only one active power point from which the maximum power is extracted, such that, if this power is varied, the energy supplied is less. This is not a good thing because of the high cost of the photovoltaic cells, from which it is necessary to obtain the maximum power they can provide at all times, for the purposes of amortisation.</li><li>d) SMS (Slip-Mode frequency Shift). This is based on positive feedback of the frequency of operation, which can only arise when the system is in island operation. In this system, the solar inverter is synchronised with the network by means of a PLL (Phase Locked Loop), which tends to increase (or decrease) the frequency when it is not connected to the network, thus ultimately detecting a frequency outside the limits. In this method, one of the disadvantages is that, before the disconnection, the loads necessarily have to withstand this change of frequency.<br/>
Another similar method consists of doing the same thing with the phase as for the frequency. The result is the same, with the same disadvantages.<br/>
In both of the above systems in this section, the disturbances of the network can give rise to instability of the system, and poor quality of supply. There may also be failure if these are inverters functioning in parallel with gain parameters which are somewhat different.</li><li>e) Sandia Frequency Shift (from Sandia National Laboratories in the USA). This is similar to the above systems, and also unstable since it also uses positive frequency feedback.</li><li>f) Sandia Voltage Shift (voltage shift with positive feedback). The same applies as for the above systems, but using positive voltage feedback. The disadvantages are the<!-- EPO <DP n="4"> --> instability caused by the positive feedback, and a small reduction in the performance of the solar cells.</li></ol></p><p id="p0008" num="0008">These are the methods most commonly used. The ones with positive feedback affect the stability, and therefore the quality of the network.</p><heading id="h0003"><b><u>EXPLANATION OF THE INVENTION, AND ADVANTAGES</u></b></heading><p id="p0009" num="0009">The present invention proposes a method and a device for detection of island operation in distributed electricity generation, and for protection of the connected loads in the bars of the generators when island operation occurs. According to the method, the following is postulated as a characteristic:
<ul><li>in addition to the power generation current i<sub>1</sub> specific to the electrical generating system, there is production of a supplementary current i<sub>2</sub> both in normal operation and in island operation;</li><li>the supplementary current i<sub>2</sub> has a value which is very much lower than that of the power generation current i<sub>1</sub>;</li><li>the power generation current i<sub>1</sub> and the supplementary current i<sub>2</sub> are added together;</li><li>measurement is made of the value of the voltage of response to the stimulation introduced into the system by the addition of the power generation current i<sub>1</sub> and the supplementary current i<sub>2</sub>;</li></ul></p><p id="p0010" num="0010">the supplementary current i<sub>2</sub> is formed from the power generation current i<sub>1</sub> by means of a mathematical operation in which the phasor (wave vector) of the power generation current i<sub>1</sub> is multiplied firstly by a constant k with a value which is very small compared with that of the unit, meaning that the supplementary current i<sub>2</sub> is much smaller than the power generation current i<sub>1</sub>, and secondly, by a factor which gives rise to a signal with angular wave displacement ϕ in an anticlockwise direction, of the supplementary current i<sub>2</sub> in relation to the power generation current i<sub>1</sub>;
<ul><li>the angle ϕ is preferably 90°;</li><li>the signal displaced by an angle ϕ is multiplied by a periodic time function with a pulse which will be known as the modulation omega wm, and will be added to, or remains with, the network omega wr;</li><li>preferably, the periodic time function with the modulation omega pulse wm is a sinusoidal function;</li><li>the signal displaced by an angle ϕ is converted into current which is input in the terminals of the assembly formed by the generator 1 and the load 2;<!-- EPO <DP n="5"> --></li><li>there is continual reading of the voltage at the terminals of the generator-load assembly 1-2, and, by means of a digital processor 9 which can carry out digital filtering of the signal and/or carry out its discrete Fourier transformation over a period of time, there is measurement of the spectral amplitude of the different frequencies, and comparison is carried out with a predetermined value, above which the electrical generating system would be in island operation;</li><li>the digital processor 9 is tuned to wr+wm or to wr-wm.</li></ul></p><p id="p0011" num="0011">In order to be used in this method, the device according to the invention consists of a current transducer installed between the electric generator and the load, a mathematical operator, a multiplier, a sinusoidal generator, a controlled current generator, a digital processor, a first comparator with the set value wr+wm, a second digital comparator with the set value wr-wm, and an OR logic gate, wherein the current transducer is connected between the electric generator and a mathematical operator located in a digital signal processor (DSP) or a microprocessor, the multiplier is connected to the mathematical operator, to the sinusoidal generator, and to the controlled current generator, which in turn is connected to the terminals of the load which, in turn, are connected to a digital processor, the output of which is connected to a said first digital comparator and second digital comparator which have their output connected to the OR logic gate. Hereinafter, a preferred composition of this device according to the invention will be explained.</p><p id="p0012" num="0012">As far as the method is concerned, according to the above described characteristics, the following mode is developed:
<ul><li>The currents i<sub>1</sub> and i<sub>2</sub> are defined by the expressions: <maths id="math0001" num="(1)"><math display="block"><msub><mi mathvariant="normal">i</mi><mn mathvariant="normal">1</mn></msub><mo>=</mo><msup><msub><mi mathvariant="normal">l</mi><mi>max</mi></msub><mo>*</mo></msup><mo>⁢</mo><mi>cos</mi><mfenced separators=""><mi>wr</mi><mo>*</mo><mi mathvariant="normal">t</mi><mo>+</mo><mi mathvariant="normal">ϕ</mi></mfenced></math><img id="ib0001" file="imgb0001.tif" wi="46" he="8" img-content="math" img-format="tif"/></maths> <maths id="math0002" num="(2)"><math display="block"><msub><mi mathvariant="normal">i</mi><mn mathvariant="normal">2</mn></msub><mo>=</mo><msub><mi mathvariant="normal">l</mi><mi>max</mi></msub><mo>*</mo><mi mathvariant="normal">k</mi><mo>*</mo><mi>sin</mi><mfenced separators=""><mi>wm</mi><mo>*</mo><mi mathvariant="normal">t</mi></mfenced><mo>*</mo><mi>sin</mi><mfenced separators=""><mi>wr</mi><mo>*</mo><mi mathvariant="normal">t</mi><mo>+</mo><mi mathvariant="normal">ϕ</mi></mfenced></math><img id="ib0002" file="imgb0002.tif" wi="70" he="10" img-content="math" img-format="tif"/></maths></li></ul>
Wherein:
<ul><li>I<sub>max</sub>: maximum current of the circuit</li><li>wr: network omega</li><li>wm: modulation omega</li><li>t: time</li><li>k: constant</li><li>ϕ: Displacement angle</li></ul></p><p id="p0013" num="0013">The total current would be the sum of (1) and (2), i.e.: <maths id="math0003" num="(3)"><math display="block"><msub><mi mathvariant="normal">l</mi><mi>max</mi></msub><mo>*</mo><mi>cos</mi><mfenced separators=""><mi>wr</mi><mo>*</mo><mi mathvariant="normal">t</mi><mo>+</mo><mi mathvariant="normal">ϕ</mi></mfenced><mo>+</mo><msub><mi mathvariant="normal">l</mi><mi>max</mi></msub><mo>*</mo><mi mathvariant="normal">k</mi><mo>*</mo><mi>sin</mi><mfenced separators=""><mi>wm</mi><mo>*</mo><mi mathvariant="normal">t</mi></mfenced><mo>*</mo><mi>sin</mi><mfenced separators=""><mi>wr</mi><mo>*</mo><mi mathvariant="normal">t</mi><mo>+</mo><mi mathvariant="normal">ϕ</mi></mfenced></math><img id="ib0003" file="imgb0003.tif" wi="95" he="9" img-content="math" img-format="tif"/></maths><!-- EPO <DP n="6"> --></p><p id="p0014" num="0014">When simplified, this equation is converted into: <maths id="math0004" num="(4)"><math display="block"><msub><mi mathvariant="normal">l</mi><mi>max</mi></msub><mo>*</mo><mfenced separators=""><mi>cos</mi><mfenced separators=""><mi>wr</mi><mo>*</mo><mi mathvariant="normal">t</mi><mo>+</mo><mi mathvariant="normal">ϕ</mi></mfenced><mo>+</mo><mn mathvariant="normal">1</mn><mo>/</mo><mn mathvariant="normal">2</mn><mo>*</mo><mi mathvariant="normal">k</mi><mo>*</mo><mfenced separators=""><mi>cos</mi><mrow><mo>(</mo></mrow><mfenced separators=""><mi>wr</mi><mo>-</mo><mi>wm</mi></mfenced><mo>*</mo><mi mathvariant="normal">t</mi><mo>+</mo><mi mathvariant="normal">ϕ</mi></mfenced><mo>⁢</mo><mi>cos</mi><mfenced separators=""><mfenced separators=""><mi>wr</mi><mo>+</mo><mi>wm</mi></mfenced><mo>*</mo><mi mathvariant="normal">t</mi><mo>+</mo><mi mathvariant="normal">ϕ</mi></mfenced></mfenced></math><img id="ib0004" file="imgb0004.tif" wi="125" he="11" img-content="math" img-format="tif"/></maths></p><p id="p0015" num="0015">If everything is divided by I<sub>max</sub>: <maths id="math0005" num="(5)"><math display="block"><mi>cos</mi><mfenced separators=""><mi>wr</mi><mo>*</mo><mi mathvariant="normal">t</mi><mo>+</mo><mi mathvariant="normal">ϕ</mi></mfenced><mo>+</mo><mn mathvariant="normal">1</mn><mo>/</mo><mn mathvariant="normal">2</mn><mo>*</mo><mi mathvariant="normal">k</mi><mo>*</mo><mfenced separators=""><mfenced separators=""><mi>cos</mi><mfenced separators=""><mi>wr</mi><mo>-</mo><mi>wm</mi></mfenced><mo>*</mo><mi mathvariant="normal">t</mi><mo>+</mo><mi mathvariant="normal">ϕ</mi></mfenced><mo>-</mo><mi>cos</mi><mfenced separators=""><mfenced separators=""><mi>wr</mi><mo>+</mo><mi>wm</mi></mfenced><mo>*</mo><mi mathvariant="normal">t</mi><mo>+</mo><mi mathvariant="normal">ϕ</mi></mfenced></mfenced></math><img id="ib0005" file="imgb0005.tif" wi="118" he="11" img-content="math" img-format="tif"/></maths></p><p id="p0016" num="0016">When the equipment is operating in island mode, the current expressed in the equation (4) multiplied by the impedance of the load LCR (standard circuit formed by a coil L, a capacitor C and a resistor R, and known as the "load" in the figures) will produce a voltage at the terminals of the load LCR which will contain the same frequential components ((wr+wm) and (wr-wm)) as the said current with specific amplitudes.</p><p id="p0017" num="0017">However, in normal operation, since the network impedance is far lower than that of the circuit LCR, the product of the current expressed in (4) for the network impedance will provide a voltage at the terminals of the load LCR which is far lower for the components(wr+wm) and (wr-wm) than in island operation. Detecting the amplitude of these components equates to determining whether the system is operating in island mode or not. If the amplitude of these components is greater than a predetermined value, the operation is in island mode.</p><p id="p0018" num="0018">In the equation (5) it can be seen that there is a pulse component wr, another pulse component (wr-wm), and a third pulse component (wr+wm), in other words a spectrum of three well differentiated frequencies.</p><p id="p0019" num="0019">If the function expressed in (5) is expressed graphically for k=0.05 wr=2*δ*50, wm=2*δ*10, the result shown in <figref idrefs="f0003">figure 4</figref> is obtained. <figref idrefs="f0003">Figure 5</figref> shows the detail of this <figref idrefs="f0003">figure 4</figref>.</p><p id="p0020" num="0020">The supplementary current generated i<sub>2</sub> does not affect the harmonic distortion, and affects the power factor very little. According to the formula: <maths id="math0006" num="(6)"><math display="block"><mi>FP</mi><mo>=</mo><msup><mn mathvariant="normal">2</mn><mo>∧</mo></msup><mfenced separators=""><mn mathvariant="normal">1</mn><mo>/</mo><mn mathvariant="normal">2</mn></mfenced><mo>/</mo><msup><mfenced separators=""><mn mathvariant="normal">2</mn><mo>+</mo><msup><mi mathvariant="normal">k</mi><mo>∧</mo></msup><mo>⁢</mo><mn mathvariant="normal">2</mn></mfenced><mo>∧</mo></msup><mfenced separators=""><mn mathvariant="normal">1</mn><mo>/</mo><mn mathvariant="normal">2</mn></mfenced><mo>,</mo></math><img id="ib0006" file="imgb0006.tif" wi="60" he="8" img-content="math" img-format="tif"/></maths> where FP is the power factor: <maths id="math0007" num="(7)"><math display="block"><mi mathvariant="italic">FP</mi><mo>=</mo><mfrac><msqrt><mn>2</mn></msqrt><msqrt><mn>2</mn><mo>+</mo><mi>k</mi></msqrt></mfrac></math><img id="ib0007" file="imgb0007.tif" wi="36" he="14" img-content="math" img-format="tif"/></maths></p><p id="p0021" num="0021">In the above example, for k=0.05, the power factor (FP) = 0.9993755849; this shows how little the power factor is affected, and how the harmonic distortion is not affected at all. This<!-- EPO <DP n="7"> --> also means that neither the quality nor the stability of the network are affected, since there is no positive feedback of any variable of the system.</p><p id="p0022" num="0022">If µ (mu) is the ratio of wm/wr, the modulus of the impedance of the load LCR in relation to R according to µ for the pulse (wr+wm) is provided by the following expression: <maths id="math0008" num="(8)"><math display="block"><mfenced open="|" close="|"><mfrac><mrow><mn>1</mn><mo>+</mo><mi>µ</mi></mrow><msqrt><mn>4</mn><mo>⁢</mo><msup><mi>Q</mi><mn>2</mn></msup><mo>⁢</mo><msup><mi>µ</mi><mn>2</mn></msup><mo>+</mo><mn>4</mn><mo>⁢</mo><msup><mi>Q</mi><mn>2</mn></msup><mo>⁢</mo><msup><mi>µ</mi><mn>3</mn></msup><mo>+</mo><msup><mi>Q</mi><mn>2</mn></msup><mo>⁢</mo><msup><mi>µ</mi><mn>4</mn></msup><mo>+</mo><mn>1</mn><mo>+</mo><mn>2</mn><mo>⁢</mo><mi>µ</mi><mo>+</mo><msup><mi>µ</mi><mn>2</mn></msup></msqrt></mfrac></mfenced></math><img id="ib0008" file="imgb0008.tif" wi="103" he="15" img-content="math" img-format="tif"/></maths><br/>
and for the pulse (wr-wm): <maths id="math0009" num="(9)"><math display="block"><mfenced open="|" close="|"><mfrac><mrow><mo>-</mo><mn>1</mn><mo>+</mo><mi>µ</mi></mrow><msqrt><mn>4</mn><mo>⁢</mo><msup><mi>Q</mi><mn>2</mn></msup><mo>⁢</mo><msup><mi>µ</mi><mn>2</mn></msup><mo>-</mo><mn>4</mn><mo>⁢</mo><msup><mi>Q</mi><mn>2</mn></msup><mo>⁢</mo><msup><mi>µ</mi><mn>3</mn></msup><mo>+</mo><msup><mi>Q</mi><mn>2</mn></msup><mo>⁢</mo><msup><mi>µ</mi><mn>4</mn></msup><mo>+</mo><msup><mi>µ</mi><mn>2</mn></msup><mo>-</mo><mn>2</mn><mo>⁢</mo><mi>µ</mi><mo>+</mo><mn>1</mn></msqrt></mfrac></mfenced></math><img id="ib0009" file="imgb0009.tif" wi="99" he="17" img-content="math" img-format="tif"/></maths></p><p id="p0023" num="0023">By representing the relative impedance for some values of µ and for Q=2 (standard value), the representation shown in <figref idrefs="f0004">figure 6</figref> is obtained.</p><p id="p0024" num="0024">In particular for µ =0.2, the impedance values of the LCR relating only to the R are: <maths id="math0010" num=""><math display="block"><mi>For</mi><mspace width="1em"/><mfenced separators=""><mi>wr</mi><mo>+</mo><mi>wm</mi></mfenced><mo>,</mo><msub><mi mathvariant="normal">Z</mi><mfenced separators=""><mi>wr</mi><mo>+</mo><mi>wm</mi></mfenced></msub><mo>/</mo><msub><mi mathvariant="normal">Z</mi><mi>wr</mi></msub><mo>=</mo><mn mathvariant="normal">0.8064049958</mn></math><img id="ib0010" file="imgb0010.tif" wi="80" he="7" img-content="math" img-format="tif"/></maths> <maths id="math0011" num=""><math display="block"><mi>For</mi><mspace width="1em"/><mfenced separators=""><mi>wr</mi><mo>-</mo><mi>wm</mi></mfenced><mo>,</mo><msub><mi mathvariant="normal">Z</mi><mfenced separators=""><mi>wr</mi><mo>-</mo><mi>wm</mi></mfenced></msub><mo>/</mo><msub><mi mathvariant="normal">Z</mi><mi>wr</mi></msub><mo>=</mo><mn mathvariant="normal">0.7432941461</mn></math><img id="ib0011" file="imgb0011.tif" wi="80" he="10" img-content="math" img-format="tif"/></maths></p><p id="p0025" num="0025">These impedances are very large compared with the network impedance per unit in a normal installation, such that it is easy to distinguish island operation of the network.</p><p id="p0026" num="0026">The detection of the frequential voltage component(s) at the terminals of the load of (wr-wm) and of (w+wm) can be carried out by using digital band pass filters or by means of filtering by discrete Fourier time transformation (DTFT), by means of which it will be possible to measure and distinguish the components(wr+wm) and (wr-wm).</p><p id="p0027" num="0027">These components will be very much greater when the system is working in island mode than when connected to the network. When connected to the network, the assembly LCR has an impedance of 0.1 PU (per unit or for one), compared with 0.8064049958 PU and 0.7432941461 PU when it is in island mode. The voltages of (wr+wm) and (wr-wm) present in the bars of the load will have approximately the same relative values as those of impedance in network and in island operation.</p><p id="p0028" num="0028">In comparison with the systems previously summarised for passive and active detection, the method provides numerous significant advantages, such as the following:
<ol><li>1. Excellent stability, since no positive feedback of any variable of the system is used, because, as is known universally, the use of this feedback produces instability and<!-- EPO <DP n="8"> --> affects negatively the quality of the electrical network 13. As indicated, a large number of the known patents for active detection of island operation use positive feedback.</li><li>2. It does not affect the quality of the electrical network 13.</li><li>3. It does not affect the power factor.</li><li>4. It does not affect the harmonic distortion.</li><li>5. There is a very small range of uncertainty in the detection of island operation, since, as previously stated, there is a large difference of impedance between the load 2 and the electrical network 13.</li><li>6. The active power is not in pulse form for the case of ϕ=0, which is the normal case, and there is very little pulse for other values of ϕ (reactive generation), which leads to a better supply of the solar cells.</li><li>7. It is easy to implement in its integrated version in the inverter or as an independent system.</li><li>8. There is good functioning with solar inverters in parallel.</li></ol></p><heading id="h0004"><b><u>DRAWINGS AND REFERENCES</u></b></heading><p id="p0029" num="0029">For better understanding of the nature of the invention, the attached drawings represent an industrial embodiment which is of a purely illustrative and non-limiting nature.
<ul><li><figref idrefs="f0001">Figure 1</figref> is a diagram of a system for generation of distributed electricity which does not include the subject of the invention, and is operating in island mode, since the network circuit is open. In this case, the function is carried out by a conventional electric generator 1.</li><li><figref idrefs="f0001">Figure 2</figref>, in a manner similar to <figref idrefs="f0001">figure 1</figref>, shows a diagram of a preferred execution of the invention, connected to an installation as in <figref idrefs="f0001">figure 1</figref>, and applied to the case in which the controlled current generator 8 is a solar inverter.</li><li><figref idrefs="f0002">Figure 3</figref> is a diagram similar to <figref idrefs="f0001">figure 2</figref>, relating to a preferred embodiment, in which the device which is the subject of the invention is integrated in a solar inverter.</li></ul></p><p id="p0030" num="0030">In these figures, the following references are indicated:
<ul><li>1 - Electric generator of the system</li><li>2 - Load between terminals of the generator 1</li><li>3 - Current transducer<!-- EPO <DP n="9"> --></li><li>4 - Mathematical operator</li><li>5 - Multiplier</li><li>6 - Adder</li><li>7 - Sinusoidal generator</li><li>8 - Controlled current generator</li><li>9 - Digital processor</li><li>10 - First comparator</li><li>11 - Second comparator</li><li>12 - OR logic gate</li><li>13 - Electric network</li><li>14 - Set value</li><li>i<sub>1</sub> - Power generation current</li><li>i<sub>2</sub> - Supplementary current</li><li>ϕ - Displacement angle of i<sub>2</sub> in comparison with i<sub>1</sub></li><li>wm- Modulation omega</li><li>wr - Network omega</li><li>k - Constant</li><li>t - Time</li><li>I<sub>max</sub>- Maximum current of the circuit.</li></ul></p><heading id="h0005"><b><u>DESCRIPTION OF A PREFERRED EMBODIMENT</u></b></heading><p id="p0031" num="0031">In relation to the diagrams and the above references listed, the appended drawings illustrate a preferred embodiment of the subject of the invention, which relates to a method and device for detection of island operation in distributed electricity generation, and for protection of the connected loads in the bars of the generators when island operation occurs. <figref idrefs="f0001">Figure 1</figref> shows a diagram of island operation for an electric generator 1 of a conventional distributed electricity generation system, which supplies a load 2 constituted by a circuit of the type LCR which incorporates an inductor, a capacitor and a resistor, which is compulsory for the experiment according to the regulations in this respect.</p><p id="p0032" num="0032">As far as the method of the invention is concerned, the information given in detail in the preceding description applies, which explains the invention and its advantages.</p><p id="p0033" num="0033">According to the invention, the device for implementing the method consists of a current transducer 3 installed between the electric generator 1 and the load 2, a<!-- EPO <DP n="10"> --> controlled current generator 8, and a digital processor which carries out the mathematical and logic operations of rotation of the current phasor 4, multiplication 5, sinusoidal generation 7, synchronised band pass filtering or DTFT 9, comparison 10 with the set value of an appropriate real value number to be compared with the voltage modulus of the component (wr+wm), a second digital comparator 11 with the set value of an appropriate real value number to be compared with the voltage modulus of the component (wr-wm), and an OR logic gate 12, wherein the current transducer 3 is connected between the electric generator 1 and the mathematical operator 4 which is located in a digital signal processor (DSP) or a microprocessor, the multiplier 5 is connected to the mathematical operator 4, to the sinusoidal generator 7 and to the controlled current generator 8, which in turn is connected to the terminals of the load 2, which in turn are connected to a mathematical operator 9, the outputs of which are connected to a said first 10 and second 11 digital comparator, the output of which is connected to the OR logic gate 12. The electric generator 1 can be a solar inverter, a synchronous machine, an asynchronous machine, etc.</p><p id="p0034" num="0034">With reference to the preferred embodiment of the diagram in <figref idrefs="f0001">figure 2</figref>, the operation of the device proposed consists in that the current generated i<sub>1</sub> passes via a current transducer 3 which measures it and converts it into a voltage (represented by a phasor), in order to be captured by a digital signal processor device (DSP) or microprocessor. The mathematical operator 4 represents the operation by means of which the phasor is multiplied by a real constant k which is smaller than a unit, and rotates by 90° the phase of the current measured, in an anticlockwise direction. The result of this is multiplied by means of a multiplier operator 5, for a sine function generated in a sinusoidal generator operator 7, the argument of which is wm*t, i.e. the modulation pulse by time. The result of this multiplication is conveyed to a controlled current generator 8 which produces an output current which is conveyed to the bars or terminals of the electrical network-load assembly 1-2. A new calculation operation 9 is carried out wherein, by means of A/D (analogue/digital) conversion, the voltage at the bars in question is read, or filtering takes place by means of a digital filter, or discrete Fourier time transformation (DTFT) is carried out, such that there is transition from a time domain to a frequency domain, for analysis. The output of the calculation operation 9 provides the magnitude of the components of wr+wm and wr-wm, which are compared with a set value provided in the first comparator 10 and in the second comparator 12. Either of the above two voltage components which is<!-- EPO <DP n="11"> --> greater than the set value, on the basis of an OR logic function 13 will generate a signal (digital value 0 or 1), which indicates that island operation is taking place and that the generator must be stopped.</p><p id="p0035" num="0035">With reference now to the preferred embodiment of the diagram in <figref idrefs="f0002">figure 3</figref>, the difference is that the device according to the invention, instead of being an independent system of the electric generator 1, is incorporated in the latter, and relates also to a controlled current generator 8 which, as previously described, is in the form of a solar inverter. In this configuration, since a solar inverter has a processor for its own operation, and power semiconductors which can operate as previously described, it is possible to avoid adding some of the components shown in <figref idrefs="f0001">figure 2</figref>, by making use of the calculation capacity of this processor. Specifically, it is not necessary to have the current transducer 3, since the set value for current generation, controlled by the processor, is already known.</p></description><claims mxw-id="PCLM56982394" lang="EN" load-source="patent-office"><!-- EPO <DP n="12"> --><claim id="c-en-0001" num="0001"><claim-text>Method for detection of island operation in distributed electricity generation, and for protection of the connected loads in the bars of the generators when island operation occurs, <b>characterised in that</b>, in addition to the power- generating current (i<sub>1</sub>) of the electricity generating system itself, a supplementary current (i<sub>2</sub>) is produced both during normal operation and during island operation.</claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>Method for detection of island operation in distributed electricity generation, and for protection of the connected loads in the bars of the generators when island operation occurs, according to claim one, <b>characterised in that</b> the supplementary current (i<sub>2</sub>) has a value which is very much lower than that of the power generation current (i<sub>1</sub>).</claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>Method for detection of island operation in distributed electricity generation, and for protection of the connected loads in the bars of the generators when island operation occurs, according to the preceding claims, <b>characterised in that</b> the power generation current (i<sub>1</sub>) and the supplementary current (i<sub>2</sub>) are added together;</claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>Method for detection of island operation in distributed electricity generation, and for protection of the connected loads in the bars of the generators when island operation occurs, according to the preceding claims, <b>characterised in that</b> measurement is made of the value of the voltage of response to the stimulation introduced into the system by the addition of the power generation current (i<sub>1</sub>) and the supplementary current (i<sub>2</sub>).</claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>Method for detection of island operation in distributed electricity generation, and for protection of the connected loads in the bars of the generators when island operation occurs, according to the preceding claims, <b>characterised in that</b> the supplementary current (i<sub>2</sub>) is formed from the power generation current (i<sub>1</sub>) by means of a mathematical operation in which the phasor (wave vector) of the power generation current (i<sub>1</sub>) is multiplied firstly by a constant (k) with a value which is very small compared with that of the unit, meaning that the supplementary current (i<sub>2</sub>) is much smaller than the power generation current (i<sub>1</sub>), and secondly, by a factor which gives rise to a signal with angular wave displacement (ϕ) in an anticlockwise direction, of the supplementary current (i<sub>2</sub>) in relation to the power generation current (i<sub>1</sub>).<!-- EPO <DP n="13"> --></claim-text></claim><claim id="c-en-0006" num="0006"><claim-text>Method for detection of island operation in distributed electricity generation, and for protection of the connected loads in the bars of the generators when island operation occurs, according to claim five, <b>characterised in that</b> the angle (ϕ) is 90°.</claim-text></claim><claim id="c-en-0007" num="0007"><claim-text>Method for detection of island operation in distributed electricity generation, and for protection of the connected loads in the bars of the generators when island operation occurs, according to the preceding claims, <b>characterised in that</b> the signal displaced by an angle (ϕ) is multiplied by a periodic time function with a pulse which will be known as the modulation omega (wm), and will be added to, or remains with, the network omega (wr).</claim-text></claim><claim id="c-en-0008" num="0008"><claim-text>Method for detection of island operation in distributed electricity generation, and for protection of the connected loads in the bars of the generators when island operation occurs, according to claim seven, <b>characterised in that</b> the periodic time function with the modulation omega pulse (wm) is a sinusoidal function.</claim-text></claim><claim id="c-en-0009" num="0009"><claim-text>Method for detection of island operation in distributed electricity generation, and for protection of the connected loads in the bars of the generators when island operation occurs, according to the preceding claims, <b>characterised in that</b> the signal displaced by the angle (ϕ) is converted into current which is input in the terminals of the assembly formed by the generator (1) and the load (2).</claim-text></claim><claim id="c-en-0010" num="0010"><claim-text>Method for detection of island operation in distributed electricity generation, and for protection of the connected loads in the bars of the generators when island operation occurs, according to the preceding claims, <b>characterised in that</b> there is continual reading of the voltage at the terminals of the generator-load assembly (1-2), and, by means of a digital processor (8) which can carry out digital filtering of the signal and/or carry out its discrete Fourier transformation over a period of time, there is measurement of the spectral amplitude of the different frequencies, and comparison is carried out with a predetermined value, above which the electrical generating system would be in island operation.</claim-text></claim><claim id="c-en-0011" num="0011"><claim-text>Method for detection of island operation in distributed electricity generation, and for protection of the connected loads in the bars of the generators when island operation occurs, according to claim ten, <b>characterised in that</b> the digital filter (9) is tuned to wr+wm or to wr-wm.<!-- EPO <DP n="14"> --></claim-text></claim><claim id="c-en-0012" num="0012"><claim-text>Device for detection of island operation in distributed electricity generation, and for protection of the connected loads in the bars of the generators when island operation occurs, according to the preceding claims, <b>characterised in that</b> it consists of a current transducer (3) installed between the electric generator (1) and the load (2), a controlled current generator (8), and a digital processor which carries out the mathematical and logic operations of 90° rotation of the current phasor (4), a multiplier (5), an adder (6), a sinusoidal generator (7), a synchronised band pass filter or DTFT (9), a comparator (10) with the set value of an appropriate real value number to be compared with the voltage modulus of the component (wr+wm), a second digital comparator (11) with the set value of an appropriate real value number to be compared with the voltage modulus of the component (wr-wm), and an OR logic gate (12), wherein the current transducer (3) is connected between the electric generator (1) and the mathematical operator (4), the multiplier (5) is connected to the mathematical operator (4), to the sinusoidal generator (7), and to the controlled current generator (8), which in turn is connected to the terminals of the load (2) which in turn are connected to the mathematical operator (8), the output of which is connected to a said first digital comparator (10) and second digital comparator (11), the outputs of which are connected to the OR logic gate (12).</claim-text></claim></claims><drawings mxw-id="PDW16670773" load-source="patent-office"><!-- EPO <DP n="15"> --><figure id="f0001" num="1,2"><img id="if0001" file="imgf0001.tif" wi="165" he="207" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="16"> --><figure id="f0002" num="3"><img id="if0002" file="imgf0002.tif" wi="149" he="168" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="17"> --><figure id="f0003" num="4,5"><img id="if0003" file="imgf0003.tif" wi="137" he="216" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="18"> --><figure id="f0004" num="6"><img id="if0004" file="imgf0004.tif" wi="129" he="122" img-content="drawing" img-format="tif"/></figure></drawings><search-report-data><doc-page id="srep0001" file="srep0001.tif" wi="156" he="233" type="tif"/><doc-page id="srep0002" file="srep0002.tif" wi="158" he="233" type="tif"/></search-report-data><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
