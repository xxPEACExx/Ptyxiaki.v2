<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2682830-A1" country="EP" doc-number="2682830" kind="A1" date="20140108" family-id="46830299" file-reference-id="318298" date-produced="20180824" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146584922" ucid="EP-2682830-A1"><document-id><country>EP</country><doc-number>2682830</doc-number><kind>A1</kind><date>20140108</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-11860899-A" is-representative="YES"><document-id mxw-id="PAPP154847114" load-source="docdb" format="epo"><country>EP</country><doc-number>11860899</doc-number><kind>A</kind><date>20110926</date><lang>JA</lang></document-id><document-id mxw-id="PAPP220439863" load-source="docdb" format="original"><country>EP</country><doc-number>11860899.1</doc-number><date>20110926</date><lang>JA</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140554546" ucid="JP-2011056871-A" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>2011056871</doc-number><kind>A</kind><date>20110315</date></document-id></priority-claim><priority-claim mxw-id="PPC140556523" ucid="JP-2011071861-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>2011071861</doc-number><kind>W</kind><date>20110926</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL2083076763" load-source="docdb">G05B  19/04        20060101ALI20140602BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL2083080953" load-source="docdb">G06F  11/00        20060101ALI20140602BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL2083085271" load-source="docdb">G05B  19/042       20060101ALI20140602BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL2083085549" load-source="docdb">G05B  19/05        20060101AFI20140602BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1645095602" load-source="docdb" scheme="CPC">G05B2219/25347     20130101 LA20180504BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1645097824" load-source="docdb" scheme="CPC">G05B  19/042       20130101 LI20180504BHEP        </classification-cpc><classification-cpc mxw-id="PCL2065211747" load-source="docdb" scheme="CPC">G05B  19/04        20130101 FI20140320BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132359399" lang="DE" load-source="patent-office">STEUERVORRICHTUNG UND SYSTEMPROGRAMM SOWIE AUFZEICHNUNGSMEDIUM</invention-title><invention-title mxw-id="PT132359400" lang="EN" load-source="patent-office">CONTROL DEVICE AND SYSTEM PROGRAM, AND RECORDING MEDIUM</invention-title><invention-title mxw-id="PT132359401" lang="FR" load-source="patent-office">DISPOSITIF DE COMMANDE ET PROGRAMME-SYSTÈME, ET SUPPORT D'ENREGISTREMENT</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR919535129" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>OMRON TATEISI ELECTRONICS CO</last-name><address><country>JP</country></address></addressbook></applicant><applicant mxw-id="PPAR919515754" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>OMRON CORPORATION</last-name></addressbook></applicant><applicant mxw-id="PPAR919014565" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Omron Corporation</last-name><iid>101217144</iid><address><street>801, Minamifudodo-cho Horikawahigashiiru Shiokoji-dori Shimogyo-ku</street><city>Kyoto-shi, Kyoto 600-8530</city><country>JP</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR919540365" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>HAMASAKI OSAMU</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919508565" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>HAMASAKI, Osamu</last-name></addressbook></inventor><inventor mxw-id="PPAR919007985" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>HAMASAKI, Osamu</last-name><address><street>c/o OMRON CORPORATION 801 Minamifudodo-cho Horikawahigashiiru Shiokoji-dori Shimogyo-ku</street><city>Kyoto-shi Kyoto 600-8530</city><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919526732" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>EGUCHI SHIGEYUKI</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919528014" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>EGUCHI, Shigeyuki</last-name></addressbook></inventor><inventor mxw-id="PPAR919009615" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>EGUCHI, Shigeyuki</last-name><address><street>c/o OMRON CORPORATION 801 Minamifudodo-cho Horikawahigashiiru Shiokoji-dori Shimogyo-ku</street><city>Kyoto-shi Kyoto 600-8530</city><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919521244" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>KOBAYASHI AKIRO</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919507793" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>KOBAYASHI, Akiro</last-name></addressbook></inventor><inventor mxw-id="PPAR919014438" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>KOBAYASHI, Akiro</last-name><address><street>c/o OMRON CORPORATION 801 Minamifudodo-cho Horikawahigashiiru Shiokoji-dori Shimogyo-ku</street><city>Kyoto-shi Kyoto 600-8530</city><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919507346" load-source="docdb" sequence="4" format="epo"><addressbook><last-name>INAME YUKIO</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919543788" load-source="docdb" sequence="4" format="intermediate"><addressbook><last-name>INAME, Yukio</last-name></addressbook></inventor><inventor mxw-id="PPAR919012335" load-source="patent-office" sequence="4" format="original"><addressbook><last-name>INAME, Yukio</last-name><address><street>c/o OMRON CORPORATION 801 Minamifudodo-cho Horikawahigashiiru Shiokoji-dori Shimogyo-ku</street><city>Kyoto-shi Kyoto 600-8530</city><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919514214" load-source="docdb" sequence="5" format="epo"><addressbook><last-name>YAOITA KOJI</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919513738" load-source="docdb" sequence="5" format="intermediate"><addressbook><last-name>YAOITA, KOJI</last-name></addressbook></inventor><inventor mxw-id="PPAR919012403" load-source="patent-office" sequence="5" format="original"><addressbook><last-name>YAOITA, KOJI</last-name><address><street>c/o OMRON CORPORATION 801 Minamifudodo-cho Horikawahigashiiru Shiokoji-dori Shimogyo-ku</street><city>Kyoto-shi Kyoto 600-8530</city><country>JP</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR919008208" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Horn Kleimann Waitzhofer</last-name><iid>101298610</iid><address><street>Elsenheimerstraße 65</street><city>DE-80687 München</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="JP-2011071861-W"><document-id><country>JP</country><doc-number>2011071861</doc-number><kind>W</kind><date>20110926</date><lang>JA</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2012124198-A1"><document-id><country>WO</country><doc-number>2012124198</doc-number><kind>A1</kind><date>20120920</date><lang>JA</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS549907625" load-source="docdb">AL</country><country mxw-id="DS549814949" load-source="docdb">AT</country><country mxw-id="DS549907626" load-source="docdb">BE</country><country mxw-id="DS549742510" load-source="docdb">BG</country><country mxw-id="DS549740304" load-source="docdb">CH</country><country mxw-id="DS549812416" load-source="docdb">CY</country><country mxw-id="DS549814954" load-source="docdb">CZ</country><country mxw-id="DS549740591" load-source="docdb">DE</country><country mxw-id="DS549812417" load-source="docdb">DK</country><country mxw-id="DS549812418" load-source="docdb">EE</country><country mxw-id="DS549813142" load-source="docdb">ES</country><country mxw-id="DS549742511" load-source="docdb">FI</country><country mxw-id="DS549742512" load-source="docdb">FR</country><country mxw-id="DS549907627" load-source="docdb">GB</country><country mxw-id="DS549812419" load-source="docdb">GR</country><country mxw-id="DS549907628" load-source="docdb">HR</country><country mxw-id="DS549814955" load-source="docdb">HU</country><country mxw-id="DS549740305" load-source="docdb">IE</country><country mxw-id="DS549907629" load-source="docdb">IS</country><country mxw-id="DS549742517" load-source="docdb">IT</country><country mxw-id="DS549812420" load-source="docdb">LI</country><country mxw-id="DS549740592" load-source="docdb">LT</country><country mxw-id="DS549814956" load-source="docdb">LU</country><country mxw-id="DS549740593" load-source="docdb">LV</country><country mxw-id="DS549740594" load-source="docdb">MC</country><country mxw-id="DS549740777" load-source="docdb">MK</country><country mxw-id="DS549740778" load-source="docdb">MT</country><country mxw-id="DS549742518" load-source="docdb">NL</country><country mxw-id="DS549813143" load-source="docdb">NO</country><country mxw-id="DS549742519" load-source="docdb">PL</country><country mxw-id="DS549740779" load-source="docdb">PT</country><country mxw-id="DS549742520" load-source="docdb">RO</country><country mxw-id="DS549740780" load-source="docdb">RS</country><country mxw-id="DS549742525" load-source="docdb">SE</country><country mxw-id="DS549740781" load-source="docdb">SI</country><country mxw-id="DS549740306" load-source="docdb">SK</country><country mxw-id="DS549740307" load-source="docdb">SM</country><country mxw-id="DS549740595" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA128673094" lang="EN" load-source="patent-office"><p id="pa01" num="0001">A control device capable of appropriately switching operating modes when multitasking is being performed is provided. A CPU unit (1) is provided with a task executing unit (21) for executing a plurality of tasks in parallel, and for executing each task in cycles based on each task; and a mode switching unit (22) for switching operating modes. The task executing unit (21) is configured in such a manner that when in operation mode, a user program is executed for each task, and when in program mode, a user program is not executed for each task. The mode switching unit (22) is configured in such a manner that the operating mode is switched when a plurality of tasks being executed by the task executing unit (21) are synchronized<img id="iaf01" file="imgaf001.tif" wi="98" he="72" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA128737239" lang="EN" source="EPO" load-source="docdb"><p>A control device capable of appropriately switching operating modes when multitasking is being performed is provided. A CPU unit (1) is provided with a task executing unit (21) for executing a plurality of tasks in parallel, and for executing each task in cycles based on each task; and a mode switching unit (22) for switching operating modes. The task executing unit (21) is configured in such a manner that when in operation mode, a user program is executed for each task, and when in program mode, a user program is not executed for each task. The mode switching unit (22) is configured in such a manner that the operating mode is switched when a plurality of tasks being executed by the task executing unit (21) are synchronized</p></abstract><description mxw-id="PDES63959082" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001">TECHNICAL FIELD</heading><p id="p0001" num="0001">The present invention relates to a control device for controlling a control object apparatus, a system program executed by the control device and a recording medium in which the system program is recorded.</p><heading id="h0002">BACKGROUND ART</heading><p id="p0002" num="0002">Conventionally, a PLC (Programmable Logic Controller) for controlling an industrial machine or the like installed in a production line of a factory has been known.</p><p id="p0003" num="0003">The PLC is provided with a CPU unit for controlling the PLC, an input unit to which a signal from a sensor is inputted, and an output unit for outputting a control signal to an industrial machine or the like. The CPU unit has a memory for storing a user program for controlling the industrial machine or the like. This user program is configured so as to be editable by a tool device connected to the CPU unit.</p><p id="p0004" num="0004">Moreover, in the PLC, a process for acquiring a signal inputted to the input unit in the memory of the CPU unit, a process for executing the user program, a process for writing execution results (operation results) of the user program in<!-- EPO <DP n="2"> --> the memory and for sending them to the output unit, and a peripheral process for transmitting and receiving data to and from the tool device are executed repeatedly. Thus, the PLC can control an industrial machine or the like based upon an input from the sensor.</p><p id="p0005" num="0005">Moreover, conventionally, a PAC (Programmable Automation Controller) provided with a high degree software function of a personal computer and reliability of the PLC has been known (for example, see Patent Document 1 (Japanese Unexamined Patent Publication No. <patcit id="pcit0001" dnum="JP2009181443A"><text>2009-181443</text></patcit>)).</p><p id="p0006" num="0006">The PAC of the above-mentioned Patent Document 1 (Japanese Unexamined Patent Publication No. <patcit id="pcit0002" dnum="JP2009181443A"><text>2009-181443</text></patcit>) is configured to execute a plurality of tasks in parallel with one another in a time sharing manner, with each task being executed in cycles based on each task. That is, this PAC carries out multitask processes.</p><p id="p0007" num="0007">In this PAC, it is proposed that an operation mode for executing a user program in each task and a program mode for executing no user program in each task are prepared in a switchable manner.</p><p id="p0008" num="0008">In this case, the operation mode is a mode for actually controlling an industrial machine or the like by executing a user program, and the program mode is a mode which allows the user to edit a user program by using a tool device, without executing a user program. For this reason, the execution of a user program is stopped by switching modes from the operation mode to the<!-- EPO <DP n="3"> --> program mode, while the execution of the user program is started by switching modes from the program mode to the operation mode.</p><heading id="h0003">PRIOR ART DOCUMENT</heading><heading id="h0004">PATENT DOCUMENT</heading><p id="p0009" num="0009">Patent Document 1: Japanese Unexamined Patent Publication No. <patcit id="pcit0003" dnum="JP2009181443A"><text>2009-181443</text></patcit></p><heading id="h0005">SUMMARY OF THE INVENTION</heading><heading id="h0006">PROBLEMS TO BE SOLVED BY THE INVENTION</heading><p id="p0010" num="0010">In the above-mentioned PAC, however, upon carrying out multitask processes, a problem arises in that it becomes difficult to appropriately carry out switching of modes because cycles of the respective tasks are different from one another. More specifically, even though an execution of a user program of a task having a short cycle is completed in switching modes from an operation mode to a program mode, when the switching of mode is carried out during an execution of a user program of a task having a long cycle, a problem arises in that a normal operation result is not obtained in the user program having a long cycle, with the result that the PAC fails to accurately control an industrial machine or the like.</p><p id="p0011" num="0011">The present invention has been devised to solve the above-mentioned problem, and the object of the present invention is to provide a control device that can appropriately switch operating modes even when multitask processes<!-- EPO <DP n="4"> --> are being carried out and a system program executed in the control device, as well as a recording medium in which the system program is recorded.</p><heading id="h0007">MEANS FOR SOLVING THE PROBLEM</heading><p id="p0012" num="0012">A control device according to one aspect of the present invention is a control device for controlling a control object apparatus including: a task executing unit configured to execute a plurality of tasks in parallel with one another, and to execute each task in a cycle corresponding to the task; and a mode switching unit configured to switch operating modes of the task executing unit. The task executing unit is configured such that in a first mode, a user program is executed for each task, and in a second mode, a user program is not executed for each task. The mode switching unit is configured such that the operating mode of the task executing unit is switched when the plurality of tasks, which are being executed by the task executing unit, are synchronized with one another.</p><p id="p0013" num="0013">Additionally, to execute a plurality of tasks in parallel with one another includes a case in which a plurality of tasks are executed simultaneously in parallel with one another and a case in which a plurality of tasks are executed in parallel with one another in a time sharing manner. Moreover, the time at which tasks are synchronized with one another refers to a point of time after executions of a plurality of tasks carried out in cycles based on each task and prior to the simultaneous starts of the execution cycles of the plurality of tasks. Furthermore, the user program is a program for controlling a control object<!-- EPO <DP n="5"> --> apparatus, and a first mode is an operating mode in which the control on the control object apparatus is carried out, and a second mode is an operating mode in which no control on the control object apparatus is carried out.</p><p id="p0014" num="0014">With this configuration, in the case that a plurality of tasks, which are being executed, are synchronized with one another, switching operating modes in the task executing unit can prevent the execution of a user program for each task from being interrupted even if the cycles of the respective tasks are different from one another. Therefore, it is possible to appropriately switch operating modes when multitask processes are carried out. As a result, since a correct operation result can be obtained in the user program for each task, the control device is allowed to normally control the control object apparatus.</p><p id="p0015" num="0015">The control device may include a management unit configured to manage executions of a plurality of tasks by the task executing unit, and to manage timing in which the mode switching unit switches the operating mode in the task executing unit.</p><p id="p0016" num="0016">With this configuration, operating modes in the task executing unit can be easily switched by the management unit, when the plurality of tasks, which are being executed, are synchronized with one another.</p><p id="p0017" num="0017">The control device including the management unit includes a receiving unit configured to receive a switching instruction for operating modes in the task executing unit. The management unit may be configured such that when the<!-- EPO <DP n="6"> --> plurality of tasks, which are being executed by the task executing unit, are synchronized with one another after the receipt of the switching instruction for operating modes by the receiving unit, the operating mode in the task executing unit is switched by the mode switching unit.</p><p id="p0018" num="0018">With this configuration, the operating modes in the task executing unit can be switched, when the plurality of tasks, which are being executed, are synchronized with one another after a receipt of a switching instruction.</p><p id="p0019" num="0019">In this case, the control device includes a storing unit configured to switch a user program, and a communication unit configured to communicate with a tool device for editing the user program stored in the storing unit. The receiving unit may be configured to receive the switching instruction transmitted from the tool device via the communication unit.</p><p id="p0020" num="0020">With this configuration, the user is allowed to switch operating modes in the task execution unit by using the tool device.</p><p id="p0021" num="0021">In the control device, the task executing unit may be configured so as to execute a plurality of tasks simultaneously in parallel with one another.</p><p id="p0022" num="0022">With this configuration, it is possible to improve the task processing capability.</p><p id="p0023" num="0023">In the control device, the task executing unit may be configured so as to execute a plurality of tasks in parallel with one another in a time sharing manner.<!-- EPO <DP n="7"> --></p><p id="p0024" num="0024">With this configuration, it is possible to carry out the task processing efficiently.</p><p id="p0025" num="0025">In the control device, a plurality of tasks may include a reference task and tasks other than the reference task, with each of the tasks other than the reference task being set to have a cycle having an integral multiple of the cycle of the reference task.</p><p id="p0026" num="0026">With this configuration, it is possible to easily make a plurality of tasks synchronized with one another.</p><p id="p0027" num="0027">A system program according to another aspect of the present invention is a system program, which is executed by a control device including a first mode in which a control object apparatus is controlled by executing a user program in each task and a second mode in which no user program is executed in each task, the system program including: a sequence for executing a plurality of tasks in parallel in a cycle based on each task; and a sequence for switching modes between the first mode and the second mode when the plural tasks, which are being executed, are synchronized with one another.</p><p id="p0028" num="0028">With this configuration, it is possible to appropriately switch operating modes while multitask processes are being carried out by the control device.</p><p id="p0029" num="0029">A recording media of another aspect of the present invention is a recording media that has recorded the system program, allowing a computer to read the system program.<!-- EPO <DP n="8"> --></p><heading id="h0008">EFFECT OF THE INVENTION</heading><p id="p0030" num="0030">The present invention can provide a control device capable of appropriately switching operating modes when multitask processes are being performed, a system program to be executed in such a control device, and a recording medium in which the system program is recorded.</p><heading id="h0009">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p0031" num="0031"><ul><li><figref idrefs="f0001">Fig. 1</figref> is a hardware block diagram showing a configuration of a PAC provided with a CPU unit in accordance with a first embodiment of the present invention.</li><li><figref idrefs="f0001">Fig. 2</figref> is a hardware block diagram showing configurations of the CPU unit of the PAC shown in <figref idrefs="f0001">Fig. 1</figref>.</li><li><figref idrefs="f0002">Fig. 3</figref> is a functional block diagram of the CPU unit shown in <figref idrefs="f0001">Fig. 2</figref>.</li><li><figref idrefs="f0002">Fig. 4</figref> is a view for explaining information relating to tasks stored in a ROM of the CPU unit shown in <figref idrefs="f0001">Fig. 2</figref>.</li><li><figref idrefs="f0003">Fig. 5</figref> shows a time chart for explaining operations, at the time of an operation mode, of the CPU unit in accordance with the first embodiment of the present invention.</li><li><figref idrefs="f0004">Fig. 6</figref> shows a time chart for explaining operations, at the time of a program mode, of the CPU unit in accordance with the first embodiment of the present invention.</li><li><figref idrefs="f0005">Fig. 7</figref> shows a time chart for explaining operations, upon switching modes<!-- EPO <DP n="9"> --> from the operation mode to the program mode, of the CPU unit in accordance with the first embodiment of the present invention.</li><li><figref idrefs="f0006">Fig. 8</figref> shows a time chart for explaining operations, upon switching modes from the program mode to the operation mode, of the CPU unit in accordance with the first embodiment of the present invention.</li><li><figref idrefs="f0007">Fig. 9</figref> is a hardware block diagram showing configurations of a CPU unit in accordance with a second embodiment of the present invention.</li><li><figref idrefs="f0007">Fig. 10</figref> is a view for explaining information relating to tasks stored in a ROM of the CPU unit shown in <figref idrefs="f0007">Fig. 9</figref>.</li><li><figref idrefs="f0008">Fig. 11</figref> shows a time chart for explaining operations, at the time of an operation mode, of the CPU unit in accordance with the second embodiment of the present invention.</li></ul></p><heading id="h0010">MODE FOR CARRYING OUT THE INVENTION</heading><p id="p0032" num="0032">Hereinafter, referring to drawings, the following description will be given of an embodiment of the present invention.</p><heading id="h0011">&lt;First Embodiment&gt;</heading><p id="p0033" num="0033">First, referring to <figref idrefs="f0001 f0002">Figs. 1 to 4</figref>, the following description will be given of a configuration of a PAC 100 provided with a CPU unit 1 in accordance with a first embodiment.</p><p id="p0034" num="0034">As shown in <figref idrefs="f0001">Fig. 1</figref>, the PAC 100 is provided with a CPU unit 1 for controlling the PAC 100, an input unit 2 to which a signal from a sensor 50 is inputted, an output unit 3 for outputting a control signal to a control object<!-- EPO <DP n="10"> --> apparatus 60 such as an industrial machine, a communication unit 4 for communicating with another PAC 70, a power supply unit 5 for supplying a power to the respective units and an internal bus 6 for connecting the respective units to one another. Additionally, the CPU unit 1 is one example of "the control device" of the present invention.</p><p id="p0035" num="0035">The PAC 100 is configured to control the control object apparatus 60 based upon an input from the sensor 50 by executing a task. In this case, the task includes the execution of a user program for controlling the control object apparatus 60.</p><p id="p0036" num="0036">The CPU unit 1 in which a system program 121 (see <figref idrefs="f0001">Fig. 2</figref>) is installed is configured so that operations of the CPU unit 1 are controlled by executing the system program 121. In this case, the system program 121 includes a program for executing an acquiring process of a signal inputted to the input unit 2 into the CPU unit 1, a program for executing a sending process of operation results by the CPU unit 1 to the output unit 3, and the like.</p><p id="p0037" num="0037">As shown in <figref idrefs="f0001">Fig. 2</figref>, the CPU unit 1 includes a CPU 11, a ROM 12, a RAM 13, and communication interfaces (hereinafter, referred to as "communication IF") 14 and 15. Additionally, the ROM 12 is one example of "the storing unit" of the present invention, and the communication IF 15 is one example of "the communication unit" of the present invention.</p><p id="p0038" num="0038">The CPU 11 has a function for executing the system program 121. The<!-- EPO <DP n="11"> --> CPU 11 is a single core device and configured to execute a plurality of tasks in parallel with one another in a time sharing manner. That is, the CPU 11 executes multitask processes.</p><p id="p0039" num="0039">The ROM 12 is a nonvolatile memory such as a flash memory. In the ROM 12, the system program 121 is stored, and information L1 (see <figref idrefs="f0002">Fig. 4</figref>) relating to tasks to be executed in the CPU unit 1 is also stored. The information L1 relating to tasks includes names of the respective tasks, degrees of preference of the respective tasks, cycles in which the respective tasks are executed, configurations of the user programs to be executed in the respective tasks and a program organization unit (POU) for forming the user program for each of the tasks. Moreover, in the CPU unit 1, a control cycle having a predetermined time interval (for example, 1 ms) is adopted as a common cycle for the entire processes. In this case, with respect to the tasks, a task having a smaller value in the degree of preference is executed preferentially. Moreover, the user program is described in, for example, a ladder language.</p><p id="p0040" num="0040">In this case, each program organization unit is a minimum unit on program managements, and includes a program, a function, and a function block. Moreover, the function and the function block of the program organization unit can be re-used. That is, the function and the function block of the program organization unit can be commonly used in a plurality of user programs. Here, the function is a function for outputting a constant output value corresponding to the predetermined input value when a predetermined input value is inputted, and the function block is a function whose output value in response to the input value<!-- EPO <DP n="12"> --> is not constant, because it is allowed to maintain an inner state.</p><p id="p0041" num="0041">In the example of <figref idrefs="f0002">Fig. 4</figref>, a task A is more preferentially executed than tasks B and C, and is executed in a cycle of 1 ms. That is, the task A uses a control cycle of one time (time interval of 1 ms) as its execution cycle. Moreover, the task A includes a user program UPa configured by programs Pa1 and Pa2. Moreover, the task A includes a function block FB1 to be utilized in the program Pa1. Additionally, the task A is one example of "the reference task" of the present invention.</p><p id="p0042" num="0042">The task B is more preferentially executed than the task C, and is executed in a cycle of 2 ms. That is, the task B uses a control cycle of two times (time interval of 2 ms) as its execution cycle. Moreover, the cycle of the task B is set to an integral multiple (2 times) of the cycle of the task A. Furthermore, the task B includes a user program UPb configured by programs Pb1 and Pb2. The task B includes a function block FB1 to be utilized in the program Pb2. Additionally, the task B is one example of "a task other than the reference task" of the present invention.</p><p id="p0043" num="0043">The task C is executed more subordinately than the tasks A and B, and is executed in a cycle of 4 ms. That is, the task C uses a control cycle of four times (time interval of 4 ms) as its execution cycle. Furthermore, the cycle of the task C is set to an integral multiple (4 times) of the cycle of the task A. The task C includes a user program UPc configured by a program Pc1. Further, the task C includes function blocks FB2 and FB3 to be utilized in the program Pc1.<!-- EPO <DP n="13"> --> Additionally, the task C is one example of "a task other than the reference task" of the present invention.</p><p id="p0044" num="0044">The user programs UPa to UPc are stored in the ROM 12. For this reason, in the ROM 12, the programs Pa1, Pa2, Pb1, Pb2 and Pc1, each forming a program organization unit, and function blocks FB1 to FB3, each forming a program organization unit, are stored.</p><p id="p0045" num="0045">The RAM 13 is a volatile memory such as a DRAM. The RAM 13 has a function for temporarily storing a system program 121 or the like to be executed by the CPU 11. The communication IF 14 is connected to the internal bus 6, and is installed so as to allow the CPU unit 1 to communicate with the respective units via the internal bus 6. The communication IF 15 is connected to a tool device 80, and is installed so as to allow the CPU unit 1 to communicate with the tool device 80.</p><p id="p0046" num="0046">The tool device 80 is, for example, a personal computer, and has functions for forming and editing a user program to be executed in the PAC 100. Moreover, the tool device 80 has a function for downloading the user program from the PAC 100, and also has a function for uploading the user program to the PAC 100. Furthermore, the tool device 80 has a function for transmitting a switching instruction of operating modes of the CPU unit 1.</p><p id="p0047" num="0047">As shown in <figref idrefs="f0002">Fig. 3</figref>, the CPU unit 1 includes a task executing unit 21, a mode switching unit 22, a receiving unit 23 and a management unit 24. In this<!-- EPO <DP n="14"> --> case, the task executing unit 21, the mode switching unit 22, the receiving unit 23 and the management unit 24 are realized when the CPU 11 (see <figref idrefs="f0001">Fig. 2</figref>) executes the system program 121. The task executing unit 21 is one example of "the task executing unit" of the present invention, and the mode switching unit 22 is one example of "the mode switching unit" of the present invention. Moreover, the receiving unit 23 is one example of "the receiving unit" of the present invention, and the management unit 24 is one example of "the management unit" of the present invention.</p><p id="p0048" num="0048">The task executing unit 21 is configured so as to execute a plurality of tasks in parallel with one another and also execute the respective tasks in cycles based on the respective tasks. More specifically, the task executing unit 21 executes the tasks A, B and C in parallel with one another in a time sharing manner. Moreover, the task executing unit 21 executes the task A in a cycle of 1 ms, executes the task B in a cycle of 2 ms, and also executes the task C in a cycle of 4 ms.</p><p id="p0049" num="0049">Moreover, the task executing unit 21 is configured so as to execute a user program in each task at the time of an operation mode, and so as not to execute a user program in each task at the time of a program mode. More specifically, at the time of the operation mode, the task executing unit 21 executes the user program UPa and a program SPa other than the user program in the task A, executes the user program UPb and a program SPb other than the user program in the task B, and executes the user program UPc and a program SPc other than the user program in the task C. Moreover, at the time of the program mode, the<!-- EPO <DP n="15"> --> task executing unit 21 executes only the program SPa other than the user program in the task A, executes only the program SPb other than the user program in the task B, and executes only the program SPc other than the user program in the task C. Additionally, the programs SPa, SPb and SPc other than the user program are programs forming one portion of the system program 121.</p><p id="p0050" num="0050">In this case, the operation mode is a mode for actually controlling the control object apparatus 60 (see <figref idrefs="f0001">Fig. 1</figref>) such as an industrial machine by executing the user program, and the program mode is a mode for allowing the user to edit a user program by using the tool device 80 (see <figref idrefs="f0001">Fig. 2</figref>) without executing the user program. That is, the operation mode is a mode in which control on the control object apparatus 60 is carried out, while the program mode is a mode in which no control on the control object apparatus 60 is carried out. For this reason, when the mode is switched from the operation mode to the program mode, the execution of the user program is stopped, and when the mode is switched from the program mode to the operation mode, the execution of the user program is started. In this case, the operation mode is one example of "the first mode" of the present invention, and the program mode is one example of "the second mode" of the present invention.</p><p id="p0051" num="0051">The mode switching unit 22 is configured to switch operating modes when a plurality of tasks executed by the task executing unit 21 are synchronized with one another (when execution cycles of the plurality of tasks are coincident with one another). Additionally, the operating modes include the operation mode and the program mode. More specifically, when the task A to be executed in<!-- EPO <DP n="16"> --> the cycle of 1 ms, the task B to be executed in the cycle of 2 ms and the task C to be executed in the cycle of 4 ms are synchronized with one another, the mode switching unit 22 switches the operating modes. In this case, the time at which the tasks are synchronized with one another refers to a point of time after completion of executions of a plurality of tasks carried out in cycles based on the respective tasks and prior to the simultaneous starts of the execution cycles of the plurality of tasks.</p><p id="p0052" num="0052">The receiving unit 23 has a function for receiving a switching instruction of operating modes. More specifically, the receiving unit 23 receives a switching instruction transmitted from the tool device 80 through the communication IF 15 (see <figref idrefs="f0001">Fig. 2</figref>). In this case, the switching instruction to be transmitted from the tool device 80 includes a switching instruction from the operation mode to the program mode (user program stopping instruction) and a switching instruction from the program mode to the operation mode (user program starting instruction).</p><p id="p0053" num="0053">The management unit 24, which is a scheduler, manages executions of a plurality of tasks by the task executing unit 21, and has a function for managing a timing in which the mode switching unit 22 switches the operating modes. More specifically, the management unit 24 is configured such that, when a plurality of tasks executed by the task executing unit 21 are synchronized with one another after the receiving unit 23 receives a switching instruction, the operating modes are switched by the mode switching unit 22.</p><p id="p0054" num="0054"><!-- EPO <DP n="17"> --> Additionally, the CPU unit 1 is configured such that, even when multitask processes are executed at the time of the operation mode, an editing process of a user program can be carried out. That is, the CPU unit 1 is configured so as to carry out an on-line editing process.</p><p id="p0055" num="0055">Next, referring to <figref idrefs="f0003">Fig. 5</figref>, the following description will be given of operations, at the time of the operation mode, of the CPU unit 1 in accordance with the first embodiment. In this case, in the operation mode, user programs for the respective tasks are executed. Moreover, the following operations are carried out when the system program 121 is executed by the CPU 11 of the CPU unit 1 (see <figref idrefs="f0001">Fig. 2</figref>). That is, the system program 121 is a system program for allowing the CPU unit 1 to execute the following operations.</p><p id="p0056" num="0056">At the time of the operation mode, upon starting a control cycle, execution cycles of the tasks A, B and C are simultaneously started by the management unit 24 (see <figref idrefs="f0002">Fig. 3</figref>). Additionally, the task A is executed in a cycle of 1 ms, the task B is executed in a cycle of 2 ms, and the task C is executed in a cycle of 4 ms.</p><p id="p0057" num="0057">More specifically, first, the process of the task A having the highest degree of preference is started by the task executing unit 21 (see <figref idrefs="f0002">Fig. 3</figref>). At this time, since the tasks B and C are lower in the degree of preference than the task A, actual processes for the tasks B and C are not started and the tasks B and C are kept in stand-by states.</p><p id="p0058" num="0058"><!-- EPO <DP n="18"> --> Then, the user program UPa of the task A and the program SPa other than the user program are executed, and upon completion of the process of the task A, a process of the task B having a higher degree of preference than that of the task C is started. At this time, the task C is kept in the stand-by state. Then, the user program UPb of the task B is executed.</p><p id="p0059" num="0059">Next, after a lapse of 1 ms from the simultaneous starts of the execution cycles of the tasks A, B and C, since the execution cycle of the task A has been elapsed, the user program UPb of the task B is suspended by the management unit 24, and the execution of the task A is started. At this time, the tasks B and C are kept in stand-by states.</p><p id="p0060" num="0060">Moreover, the user program UPa of the task A and the program SPa other than the user program are executed, and upon completion of the process of the task A, the process of the suspended task B is resumed. Thus, the rest of the user program UPb of the task B and the program SPb other than the user program are executed. Upon completion of the process of the task B, the process of the task C is started so that the user program UPc of the task C is executed.</p><p id="p0061" num="0061">Next, after a lapse of 2 ms from the simultaneous starts of the execution cycles of the tasks A, B and C, since the execution cycle of the task A has been elapsed, the user program UPc of the task C is suspended by the management unit 24, and the execution of the task A is started. At this time, since the execution cycle of the task B has also been elapsed, the tasks B and C are kept<!-- EPO <DP n="19"> --> in stand-by states. That is, after a lapse of 2 ms from the simultaneous starts of the execution cycles of the tasks A, B and C, the execution cycles of the tasks A and B are again started simultaneously.</p><p id="p0062" num="0062">Then, the user program UPa of the task A and the program SPa other than the user program are executed, and upon completion of the task A, the process of the task B is started. At this time, the task C is kept in the stand-by state. Then, the user program UPb of the task B is executed.</p><p id="p0063" num="0063">Next, after a lapse of 3 ms from the simultaneous starts of the execution cycles of the tasks A, B and C, since the execution cycle of the task A has been elapsed, the user program UPb of the task B is suspended by the management unit 24, and the execution of the task A is started. At this time, the tasks B and C are kept in stand-by states.</p><p id="p0064" num="0064">Moreover, the user program UPa of the task A and the program SPa other than the user program are executed, and upon completion of the process of the task A, the process of the suspended task B is resumed. Thus, the rest of the user program UPb of the task B and the program SPb other than the user program are executed. Moreover, upon completion of the process of the task B, the process of the suspended task C is resumed. Thus, the rest of the user program UPc of the task C and the program SPc other than the user program are executed. Then, after a lapse of 4 ms from the simultaneous starts of the execution cycles of the tasks A, B and C after the completion of the process of the task C, since the execution cycle of the task A has been elapsed, the<!-- EPO <DP n="20"> --> execution of the task A by the task executing unit 21 is carried out by the management unit 24. At this time, since the execution cycles of the tasks B and C have also been elapsed, the tasks B and C are kept in stand-by states. That is, after a lapse of 4 ms from the simultaneous starts of the execution cycles of the tasks A, B and C, the execution cycles of the tasks A, B and C are again started simultaneously. Thereafter, the above-mentioned operations are repeatedly carried out.</p><p id="p0065" num="0065">In this manner, in the operation mode, the user program UPa of the task A, the user program UPb of the task B and the user program UPc of the task C are executed so that the control object apparatus 60 (see <figref idrefs="f0001">Fig. 1</figref>) is controlled by the PAC 100 (see <figref idrefs="f0001">Fig. 1</figref>).</p><p id="p0066" num="0066">Next, referring to <figref idrefs="f0004">Fig. 6</figref>, the following description will be given of operations, at the time of the program mode, of the CPU unit 1 in accordance with the first embodiment. In the program mode, only the programs other than the user programs are executed without executing the user programs of the respective tasks. Moreover, the following operations are carried out when the system program 121 is executed by the CPU 11 of the CPU unit 1 (see <figref idrefs="f0001">Fig. 2</figref>). That is, the system program 121 is a system program for allowing the CPU unit 1 to execute the following operations.</p><p id="p0067" num="0067">In the program mode, upon starting a control cycle, execution cycles of the tasks A, B and C are simultaneously started by the management unit 24 (see <figref idrefs="f0002">Fig. 3</figref>). Additionally, the task A is executed in a cycle of 1 ms, the task B is executed<!-- EPO <DP n="21"> --> in a cycle of 2 ms, and the task C is executed in a cycle of 4 ms.</p><p id="p0068" num="0068">More specifically, first, the process of the task A having the highest degree of preference is started by the task executing unit 21 (see <figref idrefs="f0002">Fig. 3</figref>). At this time, since the tasks B and C are lower in the degree of preference than the task A, actual processes for these are not started and these are kept in stand-by states.</p><p id="p0069" num="0069">Moreover, the program SPa other than the user program of the task A is executed, and upon completion of the process of the task A, a process of the task B having a higher degree of preference than that of the task C is started. At this time, the task C is kept in the stand-by state.</p><p id="p0070" num="0070">Then, the program SPb other than the user program of the task B is executed, and upon completion of the process of the task B, a process of the task C is started. Thereafter, the program SPc other than the user program of the task C is executed, and the process of the task C is completed.</p><p id="p0071" num="0071">Next, after a lapse of 1 ms from the simultaneous starts of the execution cycles of the tasks A, B and C, since the execution cycle of the task A has been elapsed, the execution of the task A by the task executing unit 21 is carried out by the management unit 24. Thus, the program SPa other than the user program of the task A is executed so that the process of the task A is completed.</p><p id="p0072" num="0072">Next, after a lapse of 2 ms from the simultaneous starts of the execution cycles of the tasks A, B and C, since the execution cycle of the task A has been<!-- EPO <DP n="22"> --> elapsed, the execution of the task A by the task executing unit 21 is carried out by the management unit 24. Thus, the process of the task A is started. At this time, since the execution cycle of the task B has also been elapsed, the task B is kept in the stand-by state. That is, after a lapse of 2 ms from the simultaneous starts of the execution cycles of the tasks A, B and C, the execution cycles of the tasks A and B are again started simultaneously.</p><p id="p0073" num="0073">Then, the program SPa other than the user program of the task A is executed, and upon completion of the task A, the process of the task B is started. Moreover, the program SPb other than the user program of the task B is executed, and the process of the task B is completed.</p><p id="p0074" num="0074">Next, after a lapse of 3 ms from the simultaneous starts of the execution cycles of the tasks A, B and C, since the execution cycle of the task A has been elapsed, the execution of the task A by the task executing unit 21 is carried out by the management unit 24. Thus, the program SPa other than the user program of the task A is executed so that the process of the task A is completed.</p><p id="p0075" num="0075">Next, after a lapse of 4 ms from the simultaneous starts of the execution cycles of the tasks A, B and C, since the execution cycle of the task A has been elapsed, the execution of the task A by the task executing unit 21 is carried out by the management unit 24. At this time, since the execution cycles of the tasks B and C have also been elapsed, the tasks B and C are kept in stand-by states. That is, after a lapse of 4 ms from the simultaneous starts of the execution cycles of the tasks A, B and C, the execution cycles of the tasks A, B<!-- EPO <DP n="23"> --> and C are again started simultaneously. Thereafter, the above-mentioned operations are carried out repeatedly.</p><p id="p0076" num="0076">In this manner, in the program mode, the user can edit the user programs UPa, UPb and UPc by using the tool device 80 (see <figref idrefs="f0001">Fig. 2</figref>) without executing the user program UPa of the task A, the user program UPb of the task B and the user program UPc of the task C. Additionally, in the program mode, executions of the user programs in the respective tasks are omitted, however, the respective tasks are executed in the same execution cycles of those of the operation mode.</p><p id="p0077" num="0077">Next, referring to <figref idrefs="f0005">Fig. 7</figref>, the following description will be given of operations, at the time of switching modes from the operation mode to the program mode, of the CPU unit 1 in accordance with the first embodiment. Additionally, the switching modes from the operation mode to the program mode means that the control of the control object apparatus 60 (see <figref idrefs="f0001">Fig. 1</figref>) by the PAC 100 (see <figref idrefs="f0001">Fig. 1</figref>) is stopped by stopping the execution of the user program. Moreover, the following description will be given of operations in the case that a switching instruction (stopping instruction) is transmitted from the tool device 80 (see <figref idrefs="f0001">Fig. 2</figref>) during the operation mode, and the receiving unit 23 (see <figref idrefs="f0002">Fig. 3</figref>) receives the switching instruction at point of time P1 by receiving the switching instruction by the communication IF 15 (see <figref idrefs="f0001">Fig. 2</figref>).</p><p id="p0078" num="0078">Moreover, the following operations are carried out when the system program 121 is executed by the CPU 11 of the CPU unit 1 (see <figref idrefs="f0001">Fig. 2</figref>). That is, the system program 121 is a system program for allowing the CPU unit 1 to<!-- EPO <DP n="24"> --> execute the following operations.</p><p id="p0079" num="0079">In the operation mode, upon starting a control cycle, execution cycles of the tasks A, B and C are simultaneously started by the management unit 24 (see <figref idrefs="f0002">Fig. 3</figref>). In this case, the processes of the tasks A, B and C are the same as those as described earlier. Moreover, the switching instruction is received by the receiving unit 23 at the point of time P1.</p><p id="p0080" num="0080">For this reason, when the tasks A, B and C are next synchronized with one another (when the execution cycles of the tasks A, B and C are simultaneously started), the management unit 24 allows the mode switching unit 22 (see <figref idrefs="f0002">Fig. 3</figref>) to switch modes from the operation mode to the program mode. That is, at point of time P2, when the execution cycles of the tasks A, B and C are made coincident with one another, the operation mode is switched to the program mode.</p><p id="p0081" num="0081">Thus, even after the receiving unit 23 receives the switching instruction, up to the time when the execution cycles of the tasks A, B and C are simultaneously started at point of time P2, the user program UPa of the task A, the user program UPb of the task B and the user program UPc of the task C are executed. Therefore, the executions of the user program UPa of the task A, the user program UPb of the task B and the user program UPc of the task C are not interrupted in the middle thereof.</p><p id="p0082" num="0082">Moreover, when at the point of time P2, the execution cycles of the tasks A,<!-- EPO <DP n="25"> --> B and C are simultaneously started, the tasks A, B and C are executed in the program mode. Thus, only the program SPa other than the user program is executed in the task A, only the program SPb other than the user program is executed in the task B, and only the program SPc other than the user program is executed in the task C.</p><p id="p0083" num="0083">Next, referring to <figref idrefs="f0006">Fig. 8</figref>, the following description will be given of operations, at the time of switching modes from the program mode to the operation mode, of the CPU unit 1 in accordance with the first embodiment. Additionally, the switching modes from the program mode to the operation mode means that the control of the control object apparatus 60 (see <figref idrefs="f0001">Fig. 1</figref>) by the PAC 100 (see <figref idrefs="f0001">Fig. 1</figref>) is started by starting the execution of the user program. Moreover, the following description will be given of operations in the case that a switching instruction (starting instruction) is transmitted from the tool device 80 (see <figref idrefs="f0001">Fig. 2</figref>) during the program mode, and the receiving unit 23 (see <figref idrefs="f0002">Fig. 3</figref>) receives the switching instruction at point of time P3 by receiving the switching instruction by the communication IF 15 (see <figref idrefs="f0001">Fig. 2</figref>).</p><p id="p0084" num="0084">Moreover, the following operations are carried out when the system program 121 is executed by the CPU 11 of the CPU unit 1 (see <figref idrefs="f0001">Fig. 2</figref>). That is, the system program 121 is a system program for allowing the CPU unit 1 to execute the following operations.</p><p id="p0085" num="0085">In the program mode, upon starting a control cycle, execution cycles of the tasks A, B and C are simultaneously started by the management unit 24 (see <figref idrefs="f0002">Fig.<!-- EPO <DP n="26"> --> 3</figref>). In this case, the processes of the tasks A, B and C are the same as those as described above. Moreover, the switching instruction is received by the receiving unit 23 at the point of time P3.</p><p id="p0086" num="0086">For this reason, when the tasks A, B and C are next synchronized with one another (when the execution cycles of the tasks A, B and C are simultaneously started), the management unit 24 allows the mode switching unit 22 (see <figref idrefs="f0002">Fig. 3</figref>) to switch modes from the program mode to the operation mode. That is, when the execution cycles of the tasks A, B and C are made coincident with one another at point of time P4, the program mode is switched to the operation mode.</p><p id="p0087" num="0087">Thus, even after the receiving unit 23 receives the switching instruction, up to the time when the execution cycles of the tasks A, B and C are simultaneously started at the point of time P4, none of the user program UPa of the task A, the user program UPb of the task B and the user program UPc of the task C are executed. Therefore, for example, it is possible to prevent the occurrence of such a state in which the user program UPa of the task A and the user program UPb of the task B are executed, with the user program UPc of the task C being not executed.</p><p id="p0088" num="0088">Moreover, when the execution cycles of the tasks A, B and C are simultaneously started at the point of time P4, the tasks A, B and C are executed in the operation mode. Thus, in the task A, the user program UPa and the program SPa other than the user program are executed, in the task B, the user<!-- EPO <DP n="27"> --> program UPb and the program SPb other than the user program are executed, and in task C, the user program UPc and the program SPc other than the user program are executed.</p><p id="p0089" num="0089">In the first embodiment, as described above, in the case that a plurality of tasks to be executed (tasks A, B and C) are synchronized with one another after the receiving unit 23 receives the switching instruction, switching operating modes can prevent the execution of the user program of each task from being suspended in the middle and prevent only the user program of one portion of the task from being executed. Therefore, while multitask processes are being executed, the switching of operating modes can be carried out appropriately. As a result, since correct operation results can be obtained in the user programs of the respective tasks, the PAC 100 is allowed to control the control object apparatus 60 normally.</p><p id="p0090" num="0090">Moreover, in the first embodiment, the CPU 11 is a single core device, and by executing a plurality of tasks in parallel with one another in a time sharing manner, the processing capability of the CPU 11 can be efficiently utilized.</p><p id="p0091" num="0091">Furthermore, in the first embodiment, since the cycles of the tasks B and C are set to integral multiples of the cycle of the task A, the tasks A, B and C can be easily synchronized with one another.</p><heading id="h0012">&lt;Second Embodiment&gt;</heading><p id="p0092" num="0092">First, referring to <figref idrefs="f0007">Figs. 9 to 10</figref>, the following description will be given of a<!-- EPO <DP n="28"> --> configuration of a CPU unit 1a in accordance with a second embodiment. Additionally, the same components as those of the CPU unit 1 of the first embodiment are indicated by the same reference numerals, and overlapped descriptions thereof will be omitted.</p><p id="p0093" num="0093">As shown in <figref idrefs="f0007">Fig. 9</figref>, the CPU unit 1 a in which a system program 121 a is installed is configured such that operations of the CPU unit 1a are controlled by executing the system program 121 a. In this case, the CPU unit 1a is one example of "the control device" of the present invention.</p><p id="p0094" num="0094">The CPU unit 1a includes a CPU 11a, a ROM 12a, a RAM 13, and communication IF 14 and 15. Additionally, the ROM 12a is one example of "the storing unit" of the present invention.</p><p id="p0095" num="0095">The CPU 11a has a function for executing the system program 121 a. The CPU 11a is a dual core device and configured to execute a plurality of tasks in parallel with one another simultaneously. That is, the CPU 11a executes multitask processes. The other configurations of the CPU 11a are the same as those of the aforementioned CPU 11.</p><p id="p0096" num="0096">In the ROM 12a, the system program 121 a is stored, and information L2 (see <figref idrefs="f0007">Fig. 10</figref>) relating to tasks to be executed in the CPU unit 1a is also stored. The information L2 relating to tasks includes names of the respective tasks, degrees of preference of the respective tasks, cycles in which the respective tasks are executed, configurations of the user programs to be executed in the<!-- EPO <DP n="29"> --> respective tasks and a program organization unit for forming the user program for each of the tasks. Additionally, the other configurations of the ROM 12a are the same as those of the aforementioned ROM 12.</p><p id="p0097" num="0097">In the example of <figref idrefs="f0007">Fig. 10</figref>, a task D is more preferentially executed than a task E, and is executed in a cycle of 1 ms. That is, the task D uses a control cycle of one time (time interval of 1 ms) as its execution cycle. Moreover, the task D includes a user program UPd configured by programs Pd1 and Pd2. Moreover, the task D includes a function block FB4 to be utilized in the program Pd1. Additionally, the task D is one example of "the reference task" of the present invention.</p><p id="p0098" num="0098">Moreover, a task E is executed more subordinately than the task D, and is executed in a cycle of 2 ms. That is, the task E uses a control cycle of two times (time interval of 2 ms) as its execution cycle. Moreover, the cycle of the task E is set to an integral multiple (two times) of the cycle of the task D. Furthermore, the task E includes a user program UPe configured by programs Pe1 and Pe2. The task E includes a function block FB4 to be utilized in the program Pe2. Additionally, the task E is one example of "a task other than the reference task" of the present invention.</p><p id="p0099" num="0099">Next, referring to <figref idrefs="f0008">Fig. 11</figref>, the following description will be given of operations at the time of the operation mode in the CPU unit 1 a in accordance with the second embodiment. In this case, in the operation mode, a user program of each task and a program other than the user program are executed.<!-- EPO <DP n="30"> --> Moreover, the following operations are carried out when the system program 121 a is executed by the CPU 11 a of the CPU unit 1 a (see <figref idrefs="f0007">Fig. 9</figref>). That is, the system program 121 a is a system program for allowing the CPU unit 1 a to execute the following operations.</p><p id="p0100" num="0100">At the time of the operation mode, upon starting a control cycle, execution cycles of the tasks D and E are simultaneously started by the management unit 24 (see <figref idrefs="f0002">Fig. 3</figref>). Additionally, the task D is executed in a cycle of 1 ms, and the task E is executed in a cycle of 2 ms.</p><p id="p0101" num="0101">In the CPU unit 1 a of the second embodiment, the task D and the task E are processed in parallel with each other. Moreover, after a lapse of 1 ms from the simultaneous starts of the execution cycles of the tasks D and E after the completion of the task D, since the execution cycle of the task D has been elapsed, the management unit 24 allows the task executing unit 21 to execute the task D. Thereafter, after a lapse of 2 ms from the simultaneous starts of the execution cycles of the tasks D and E after the completion of the process of the tasks D and E, since the execution cycles of the tasks D and E have been elapsed, the executions of the tasks D and E by the task executing unit 21 are again carried out by the management unit 24. Thereafter, the above-mentioned operations are repeatedly carried out.</p><p id="p0102" num="0102">Additionally, operations at the time of the program mode of the CPU unit 1 a of the second embodiment, operations at the time of switching modes from the operation mode to the program mode thereof, and operations at the time of<!-- EPO <DP n="31"> --> switching modes from the program mode to the operation mode thereof are the same as those of the CPU unit 1 of the first embodiment except that the tasks D and E are simultaneously executed in parallel with each other.</p><p id="p0103" num="0103">As described above, in the second embodiment, since the CPU 11a is a dual core device, and executes a plurality of tasks simultaneously in parallel with one another so that it is possible to improve the task processing capability.</p><p id="p0104" num="0104">In this case, the other effects of the second embodiment are the same as those of the first embodiment.</p><p id="p0105" num="0105">Additionally, the present embodiments disclosed above are exemplary only in all the aspects, and do not form the basis of a limited interpretation. Therefore, the technical scope of the present invention is not interpreted only by the above-mentioned embodiments, but defined based upon the description of the claims. Moreover, the technical scope of the present invention includes all modifications made within the meaning and scope equal to the claims.</p><p id="p0106" num="0106">For example, the first embodiment has exemplified a configuration in which the PAC 100 is provided with the CPU unit 1, the input unit 2, the output unit 3, communication unit 4 and the power supply unit 5; however, not limited to this configuration, the PAC may have another unit, and none of the input unit and the communication unit may be installed in the PAC.</p><p id="p0107" num="0107">Moreover, the first embodiment has exemplified a configuration in which the PAC 100 is constituted by a plurality of units; however, not limited by this<!-- EPO <DP n="32"> --> configuration, the PAC may be formed by one casing, with functions of the respective units being incorporated in the casing.</p><p id="p0108" num="0108">Furthermore, the first embodiment has exemplified a configuration in which a switching instruction transmitted from the tool device 80 is received by the receiving unit 23; however, not limited by this configuration, a switching instruction transmitted by another PAC 70 via a communication unit 4 may be received by the receiving unit 23. Moreover, a switching instruction generated by a user program executed by the CPU unit 1 may be received by the receiving unit 23.</p><p id="p0109" num="0109">The first embodiment has exemplified a configuration in which, when the CPU 11 executes the system program 121, the task executing unit 21, the mode switching unit 22, the receiving unit 23 and management unit 24 are realized; however, not limited to this configuration, the task executing unit 21, the mode switching unit 22, the receiving unit 23 and the management unit 24 may be respectively configured by hardware units.</p><p id="p0110" num="0110">Furthermore, with respect to tasks in the first and second embodiments, in addition to tasks that are regularly executed (fixed-cycle tasks), a task (event task) that is executed when a preliminary set execution condition is satisfied may be included.</p><p id="p0111" num="0111">Moreover, the second embodiment has exemplified a configuration in which the CPU 11a is a dual core device; however, not limited to this<!-- EPO <DP n="33"> --> configuration, for example, the CPU may be a quad core device. That is, the number of cores of the CPU may be any number.</p><heading id="h0013">DESCRIPTION OF SYMBOLS</heading><p id="p0112" num="0112"><dl id="dl0001" compact="compact"><dt>1, 1a</dt><dd>CPU unit (control device)</dd><dt>12, 12a</dt><dd>ROM (storing unit)</dd><dt>15</dt><dd>communication IF (communication unit)</dd><dt>21</dt><dd>task executing unit (task execution means)</dd><dt>22</dt><dd>mode switching unit (mode switching means)</dd><dt>23</dt><dd>receiving unit (receiving means)</dd><dt>24</dt><dd>management unit (management means)</dd><dt>60</dt><dd>control object apparatus</dd><dt>80</dt><dd>tool device</dd><dt>121, 121a</dt><dd>system program</dd></dl></p></description><claims mxw-id="PCLM56982107" lang="EN" load-source="patent-office"><!-- EPO <DP n="34"> --><claim id="c-en-0001" num="0001"><claim-text>A control device for controlling a control object apparatus comprising:
<claim-text>a task executing unit configured to execute a plurality of tasks in parallel with one another, and to execute each task in a cycle based on the task; and</claim-text>
<claim-text>a mode switching unit configured to switch operating modes of the task executing unit,</claim-text>
<claim-text>wherein the task executing unit is configured such that in a first mode, a user program is executed for each task, and in a second mode, a user program is not executed for each task, and</claim-text>
<claim-text>wherein the mode switching unit is configured such that the operating mode of the task executing unit is switched when the plurality of tasks, which are being executed by the task executing unit are synchronized with one another.</claim-text></claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>The control device according to clam 1, further comprising:
<claim-text>a management unit configured to manage executions of a plurality of tasks by the task executing unit, and to manage a timing in which the mode switching unit switches the operating mode in the task executing unit.</claim-text></claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>The control device according to claim 2, further comprising:
<claim-text>a receiving unit configured to receive a switching instruction for operating modes in the task executing unit,</claim-text>
<claim-text>wherein the management unit is configured such that when after the receipt of the switching instruction for operating modes by the receiving unit, the plurality of tasks, which are being executed by the task executing unit, are synchronized<!-- EPO <DP n="35"> --> with one another, the operating mode in the task executing unit is switched by the mode switching unit.</claim-text></claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>The control device according to claim 3, further comprising:
<claim-text>a storing unit configured to store a user program; and</claim-text>
<claim-text>a communication unit configured to communicate with a tool device for editing the user program stored in the storing unit,</claim-text>
<claim-text>wherein the receiving unit receives the switching instruction transmitted from the tool device via the communication unit.</claim-text></claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>The control device according to claim 1, wherein the task executing unit is configured so as to execute a plurality of tasks simultaneously in parallel with one another.</claim-text></claim><claim id="c-en-0006" num="0006"><claim-text>The control device according to claim 1, wherein the task executing unit is configured so as to execute a plurality of tasks in parallel with one another in a time sharing manner.</claim-text></claim><claim id="c-en-0007" num="0007"><claim-text>The control device according to claim 1, wherein the plurality of tasks comprise a reference task and tasks other than the reference task, with each of the tasks other than the reference task being set to have a cycle having an integral multiple of the cycle of the reference task.</claim-text></claim><claim id="c-en-0008" num="0008"><claim-text>A system program, which is executed by a control device comprising a first mode for controlling a control object apparatus by executing a user program in<!-- EPO <DP n="36"> --> each task and a second mode in which no user program is executed in each task, the system program comprising:
<claim-text>a sequence for executing a plurality of tasks in parallel in a cycle based on each task; and</claim-text>
<claim-text>a sequence for switching modes between the first mode and the second mode when the plurality of tasks, which are being executed, are synchronized with one another.</claim-text></claim-text></claim><claim id="c-en-0009" num="0009"><claim-text>A recording media for recording the system program according to claim 8, allowing a computer to read the system program.</claim-text></claim></claims><drawings mxw-id="PDW16670497" load-source="patent-office"><!-- EPO <DP n="37"> --><figure id="f0001" num="1,2"><img id="if0001" file="imgf0001.tif" wi="146" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="38"> --><figure id="f0002" num="3,4"><img id="if0002" file="imgf0002.tif" wi="150" he="192" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="39"> --><figure id="f0003" num="5"><img id="if0003" file="imgf0003.tif" wi="136" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="40"> --><figure id="f0004" num="6"><img id="if0004" file="imgf0004.tif" wi="137" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="41"> --><figure id="f0005" num="7"><img id="if0005" file="imgf0005.tif" wi="138" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="42"> --><figure id="f0006" num="8"><img id="if0006" file="imgf0006.tif" wi="139" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="43"> --><figure id="f0007" num="9,10"><img id="if0007" file="imgf0007.tif" wi="152" he="200" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="44"> --><figure id="f0008" num="11"><img id="if0008" file="imgf0008.tif" wi="109" he="233" img-content="drawing" img-format="tif"/></figure></drawings><search-report-data><doc-page id="srep0001" file="srep0001.tif" wi="165" he="231" type="tif"/><doc-page id="srep0002" file="srep0002.tif" wi="154" he="233" type="tif"/><doc-page id="srep0003" file="srep0003.tif" wi="154" he="233" type="tif"/><doc-page id="srep0004" file="srep0004.tif" wi="154" he="233" type="tif"/><doc-page id="srep0005" file="srep0005.tif" wi="154" he="233" type="tif"/></search-report-data><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
