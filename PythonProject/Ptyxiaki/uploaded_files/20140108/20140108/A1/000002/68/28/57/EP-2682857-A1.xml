<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2682857-A1" country="EP" doc-number="2682857" kind="A1" date="20140108" family-id="44156281" file-reference-id="252638" date-produced="20180824" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146584895" ucid="EP-2682857-A1"><document-id><country>EP</country><doc-number>2682857</doc-number><kind>A1</kind><date>20140108</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-12752622-A" is-representative="YES"><document-id mxw-id="PAPP154847087" load-source="docdb" format="epo"><country>EP</country><doc-number>12752622</doc-number><kind>A</kind><date>20120227</date><lang>ZH</lang></document-id><document-id mxw-id="PAPP220439859" load-source="docdb" format="original"><country>EP</country><doc-number>12752622.6</doc-number><date>20120227</date></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140548286" ucid="CN-201110049565-A" load-source="docdb"><document-id format="epo"><country>CN</country><doc-number>201110049565</doc-number><kind>A</kind><date>20110301</date></document-id></priority-claim><priority-claim mxw-id="PPC140550902" ucid="CN-2012071677-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>CN</country><doc-number>2012071677</doc-number><kind>W</kind><date>20120227</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL2114900832" load-source="docdb">G06K  15/02        20060101ALI20140910BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL2114904172" load-source="docdb">G06F   3/12        20060101AFI20140910BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL1989628743" load-source="docdb" scheme="CPC">G06F   3/1247      20130101 LI20131204BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989641610" load-source="docdb" scheme="CPC">G06F   3/1281      20130101 LI20131204BHEP        </classification-cpc><classification-cpc mxw-id="PCL2032328465" load-source="docdb" scheme="CPC">G06F   3/1215      20130101 LI20140215BHEP        </classification-cpc><classification-cpc mxw-id="PCL2032328466" load-source="docdb" scheme="CPC">G06K  15/1894      20130101 FI20140206BHEP        </classification-cpc><classification-cpc mxw-id="PCL2108690107" load-source="docdb" scheme="CPC">G06F   3/1251      20130101 LI20140826BHEP        </classification-cpc><classification-cpc mxw-id="PCL2108693617" load-source="docdb" scheme="CPC">G06F2206/1514      20130101 LA20140826BHEP        </classification-cpc><classification-cpc mxw-id="PCL2108695534" load-source="docdb" scheme="CPC">G06F   3/122       20130101 LA20140826BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132359318" lang="DE" load-source="patent-office">SYSTEM FÜR DOPPELSEITIGES DRUCKEN UND STEUERVERFAHREN DAFÜR</invention-title><invention-title mxw-id="PT132359319" lang="EN" load-source="patent-office">DOUBLE-SIDED PRINTING SYSTEM AND CONTROL METHOD THEREFOR</invention-title><invention-title mxw-id="PT132359320" lang="FR" load-source="patent-office">SYSTÈME D'IMPRESSION DOUBLE FACE ET SON PROCÉDÉ DE COMMANDE</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR919528443" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>SHANDONG NEW BEIYANG INF TECH</last-name><address><country>CN</country></address></addressbook></applicant><applicant mxw-id="PPAR919512158" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>SHANDONG NEW BEIYANG INFORMATION TECHNOLOGY CO., LTD.</last-name></addressbook></applicant><applicant mxw-id="PPAR919008675" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Shandong New Beiyang Information Technology Co., Ltd.</last-name><iid>101335957</iid><address><street>No. 169 Huoju Road</street><city>Hi-tech Zone Weihai Shandong 264209</city><country>CN</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR919520172" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>WANG CHUNTAO</last-name><address><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR919540600" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>WANG, CHUNTAO</last-name></addressbook></inventor><inventor mxw-id="PPAR919007727" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>WANG, CHUNTAO</last-name><address><street>No. 169 Huoju Road Hi-Tech. Zone</street><city>Weihai Shandong 264209</city><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR919525515" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>DING JINFENG</last-name><address><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR919529287" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>DING, JINFENG</last-name></addressbook></inventor><inventor mxw-id="PPAR919009690" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>DING, JINFENG</last-name><address><street>No. 169 Huoju Road Hi-Tech. Zone</street><city>Weihai Shandong 264209</city><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR919538558" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>WANG YUGUO</last-name><address><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR919515920" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>WANG, YUGUO</last-name></addressbook></inventor><inventor mxw-id="PPAR919016125" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>WANG, YUGUO</last-name><address><street>No. 169 Huoju Road Hi-Tech. Zone</street><city>Weihai Shandong 264209</city><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR919527494" load-source="docdb" sequence="4" format="epo"><addressbook><last-name>YANG XIANGANG</last-name><address><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR919518035" load-source="docdb" sequence="4" format="intermediate"><addressbook><last-name>YANG, XIANGANG</last-name></addressbook></inventor><inventor mxw-id="PPAR919009861" load-source="patent-office" sequence="4" format="original"><addressbook><last-name>YANG, XIANGANG</last-name><address><street>No. 169 Huoju Road Hi-Tech. Zone</street><city>Weihai Shandong 264209</city><country>CN</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR919011077" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Jansen, Cornelis Marinus</last-name><suffix>et al</suffix><iid>101226155</iid><address><street>V.O. Johan de Wittlaan 7</street><city>2517 JR Den Haag</city><country>NL</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="CN-2012071677-W"><document-id><country>CN</country><doc-number>2012071677</doc-number><kind>W</kind><date>20120227</date><lang>ZH</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2012116620-A1"><document-id><country>WO</country><doc-number>2012116620</doc-number><kind>A1</kind><date>20120907</date><lang>ZH</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS549812836" load-source="docdb">AL</country><country mxw-id="DS549742201" load-source="docdb">AT</country><country mxw-id="DS549812837" load-source="docdb">BE</country><country mxw-id="DS549812035" load-source="docdb">BG</country><country mxw-id="DS549814214" load-source="docdb">CH</country><country mxw-id="DS549739474" load-source="docdb">CY</country><country mxw-id="DS549742202" load-source="docdb">CZ</country><country mxw-id="DS549812842" load-source="docdb">DE</country><country mxw-id="DS549739475" load-source="docdb">DK</country><country mxw-id="DS549739476" load-source="docdb">EE</country><country mxw-id="DS549738470" load-source="docdb">ES</country><country mxw-id="DS549812036" load-source="docdb">FI</country><country mxw-id="DS549814215" load-source="docdb">FR</country><country mxw-id="DS549812843" load-source="docdb">GB</country><country mxw-id="DS549739477" load-source="docdb">GR</country><country mxw-id="DS549812844" load-source="docdb">HR</country><country mxw-id="DS549742203" load-source="docdb">HU</country><country mxw-id="DS549738471" load-source="docdb">IE</country><country mxw-id="DS549739478" load-source="docdb">IS</country><country mxw-id="DS549814216" load-source="docdb">IT</country><country mxw-id="DS549739479" load-source="docdb">LI</country><country mxw-id="DS549812037" load-source="docdb">LT</country><country mxw-id="DS549740165" load-source="docdb">LU</country><country mxw-id="DS549812042" load-source="docdb">LV</country><country mxw-id="DS549812043" load-source="docdb">MC</country><country mxw-id="DS549740166" load-source="docdb">MK</country><country mxw-id="DS549740167" load-source="docdb">MT</country><country mxw-id="DS549738472" load-source="docdb">NL</country><country mxw-id="DS549907497" load-source="docdb">NO</country><country mxw-id="DS549738473" load-source="docdb">PL</country><country mxw-id="DS549812044" load-source="docdb">PT</country><country mxw-id="DS549742204" load-source="docdb">RO</country><country mxw-id="DS549812045" load-source="docdb">RS</country><country mxw-id="DS549738474" load-source="docdb">SE</country><country mxw-id="DS549814217" load-source="docdb">SI</country><country mxw-id="DS549907498" load-source="docdb">SK</country><country mxw-id="DS549907499" load-source="docdb">SM</country><country mxw-id="DS549740168" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA128673067" lang="EN" load-source="patent-office"><p id="pa01" num="0001">The invention provides a double-sided printing system and a control method thereof. The double-sided printing system comprises: a host which comprises a first generation unit for generating first printing data to be printed on a first side of a medium, and a second generation unit for generating second printing data to be printed on a second side of the medium; and a printer which comprises a controller, a first data buffer area for receiving and caching the first printing data, a second data buffer area for receiving and caching the second printing data, a first print head for printing the first printing data on the first side of the medium, and a second print head for printing the second printing data on the second side of the medium. By means of the double-sided printing system, the data processing load of the controller of the printer can be decreased; furthermore, as the double-sided printing is performed by independent generation units and interfaces, it enables double-sided printing without changing the application programs of a single-sided printing system, thus further conveniently converting a single-sided printing system to be a double-sided printing system.<img id="iaf01" file="imgaf001.tif" wi="78" he="61" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA128737212" lang="EN" source="EPO" load-source="docdb"><p>The invention provides a double-sided printing system and a control method thereof. The double-sided printing system comprises: a host which comprises a first generation unit for generating first printing data to be printed on a first side of a medium, and a second generation unit for generating second printing data to be printed on a second side of the medium; and a printer which comprises a controller, a first data buffer area for receiving and caching the first printing data, a second data buffer area for receiving and caching the second printing data, a first print head for printing the first printing data on the first side of the medium, and a second print head for printing the second printing data on the second side of the medium. By means of the double-sided printing system, the data processing load of the controller of the printer can be decreased; furthermore, as the double-sided printing is performed by independent generation units and interfaces, it enables double-sided printing without changing the application programs of a single-sided printing system, thus further conveniently converting a single-sided printing system to be a double-sided printing system.</p></abstract><description mxw-id="PDES63959055" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001"><b><u>Technical field of the invention</u></b></heading><p id="p0001" num="0001">The invention relates to the printing field, and in particular to a double-sided printing system and a control method thereof.</p><heading id="h0002"><b><u>Background of the invention</u></b></heading><p id="p0002" num="0002">Printers are widely used for cash register systems in supermarkets, shopping malls, restaurants and other industries, for printing transaction details. With the changes of application requirements, lots of users not only require printing the transaction details on the receipts, but also expect to print coupons, advertisements and other information on the receipts as a promotion method.</p><p id="p0003" num="0003">In order to satisfy the requirements, the Chinese patent of which the publication number is <patcit id="pcit0001" dnum="CN1892571A"><text>CN1892571A</text></patcit> provides a double-sided receipt issuing method, which can print the transaction data on one side of the receipt, and print the supplementary information on the other side of the receipt, such as discount information, coupons information and the like. The double-sided printing system is generally adopted to issue this double-sided receipt; the double-sided printing system comprises a host and a printer. Wherein, the printer comprises a first print head and a second print head which are set oppositely; the first print head is configured for printing the transaction data on one side of the receipt, and the second print head is configured for printing the supplementary information on the other side of the receipt. The host generates two sides of printing data (namely, the transaction data and the supplementary information) by the application program, and distributes the two sides of printing data to the printer together. Wherein, the application program sets a marking instruction which marks the correspondence between the printing data and the print head in front of each line of printing data; the controller of the printer determines to send this line of printing data to the corresponding print head for printing by reading the marking instruction in front of the printing data.</p><p id="p0004" num="0004">The inventor discovers that, as the double-sided printing system adds a marking instruction which marks the correspondence between the printing data and the print head in front of each line of printing data, the quantity of printing data is increased, which not only increases the data transmission load between the host and the printer, but also increases the data processing load of the controller of the printer, hinders the increase of the printing speed, and is not beneficial for high-speed printing.<!-- EPO <DP n="2"> --></p><heading id="h0003"><b><u>Summary of the invention</u></b></heading><p id="p0005" num="0005">The purpose of the invention is to provide a double-sided printing system and a control method thereof, thus solving the above problem.</p><p id="p0006" num="0006">In order to realize the purpose, a double-sided printing system is provided according to one aspect of the invention. The double-sided printing system comprises a host and a printer, wherein, the host comprises: a first generation unit, configured for generating a first printing data to be printed on a first side of a medium; and a second generation unit, configured for generating a second printing data to be printed on a second side of the medium; the printer comprises: a controller; a first data buffer area, which is connected with the first generation unit by the controller, and is configured for receiving and caching the first printing data; a second data buffer area, which is connected with the second generation unit by the controller, and is configured for receiving and caching the second printing data; a first print head, which is connected with the first data buffer area by the controller, and is configured for printing the first printing data on the first side of the medium; and a second print head, which is connected with the second data buffer area by the controller, and is configured for receiving the second printing data and printing the second printing data on the second side of the medium.</p><p id="p0007" num="0007">In the above double-sided printer, the first print head is connected with the first generation unit, and the first print head is configured for receiving the first printing data and printing the first printing data on the first side of the medium; the second print head is connected with the second generation unit, and the second print head is configured for receiving the second printing data and printing the second printing data on the second side of the medium.</p><p id="p0008" num="0008">Further, the host further comprises: a first interface, connected with the first generation unit; and a second interface, connected with the second generation unit, the printer further comprises: a third interface, connected with the first interface of the host; and a fourth interface, connected with the second interface of the host, wherein, the first print head receives the first printing data by the third interface, and the second print head receives the second printing data by the fourth interface.</p><p id="p0009" num="0009">Further, the host is further configured for querying the status information of the printer, and respectively sending the first printing data and the second printing data to the third interface and the fourth interface of the printer by the first interface and the second interface when the printer is in idle state.</p><p id="p0010" num="0010">Further, the controller is further configured for implementing parsing for the first<!-- EPO <DP n="3"> --> printing data to obtain a first raster data, and configured for implementing parsing for the second printing data to obtain a second raster data; wherein the first data buffer area comprises: a first receiving buffer area, which is connected with the third interface by the controller, and is configured for caching the first printing data; and a first printing buffer area, which is connected with the controller, and is configured for caching the first raster data; the second data buffer area comprises: a second receiving buffer area, which is connected with the fourth interface by the controller, and is configured for caching the second printing data; and a second printing buffer area, which is connected with the controller, and is configured for caching the second raster data.</p><p id="p0011" num="0011">Further, the controller is further configured for: querying the first receiving buffer area and the second receiving buffer area, reading the data from the receiving buffer area which has data earlier of the first receiving buffer area and the second receiving buffer area, converting the read data to be the raster data, and storing the raster data into the corresponding printing buffer area.</p><p id="p0012" num="0012">Further, the controller of the printer is further configured for: judging whether the second receiving buffer area has data when the receiving buffer area which has data earlier is the first receiving buffer area, and implementing printing according to the preset operations when the second buffer area has no data within a predetermined time.</p><p id="p0013" num="0013">Further, the controller of the printer is further configured for controlling the second print head to print the preset data on the second side of the medium when the second receiving buffer area has no data within the predetermined time.</p><p id="p0014" num="0014">Further, the controller of the printer is further configured for respectively judging whether the parsing of the printing data in the first receiving buffer area and the second receiving buffer area is completed, and for implementing the printing operation after the parsing of the printing data in both of the first receiving buffer area and the second receiving buffer area is completed.</p><p id="p0015" num="0015">Further, the host and the printer are connected by a fifth interface, wherein, the fifth interface is configured for establishing a first data transmission channel and a second data transmission channel between the host and the printer; the first data transmission channel is configured for transmitting the first printing data, and the second data transmission channel is configured for transmitting the second printing data.</p><p id="p0016" num="0016">In order to realize the purpose, a control method of the double-sided printing system is provided according to another aspect of the invention. The control method of the double-sided printing system comprises: generating a first printing data to be printed on a first side of the<!-- EPO <DP n="4"> --> medium by a first generation unit, and generating a second printing data to be printed on a second side of the medium by a second generation unit; sending the first printing data to the first print head, and sending the second printing data to the second print head; and printing the first printing data and the second printing data on the first side of the medium and the second side of the medium respectively by the first print head and the second print head.</p><p id="p0017" num="0017">Further, the first printing data and the second printing data are respectively sent to the first print head and the second print head by the same interface or different interfaces.</p><p id="p0018" num="0018">Further, caching the first printing data and the second printing data respectively by different receiving buffer areas, and caching a first raster data and a second raster data respectively which are obtained by implementing parsing for the first printing data and the second printing data by the controller by different printing buffer areas.</p><p id="p0019" num="0019">The invention also provides a printer, which is the printer used for any one of the double-sided printing systems of the invention.</p><p id="p0020" num="0020">In the double-sided printing system provided by the invention, a first data transmission channel is formed between the first generation unit of the host and the first print head of the printer; the first data transmission channel is configured for transmitting the first printing data which is printed on the first side of the medium; a second data transmission channel is formed between the second generation unit of the host and the second print head of the printer, and the second data transmission channel is configured for transmitting the second printing data which is printed on the second side of the medium. As two data transmission channels are adopted to respectively send the first printing data to be printed on the first side of the medium and the second printing data to be printed on the second side of the medium, the marking instruction for marking the correspondence between the printing data and the print head needs not to be added in front of each of the printing data, thus reducing the data processing load of the controller of the printer, and further being beneficial for high-speed printing.</p><heading id="h0004"><b><u>Brief description of the drawings</u></b></heading><p id="p0021" num="0021">The drawings for forming a part of the specification are used for further understanding the invention, the exemplary embodiments of the invention and the descriptions thereof are used for explaining the invention, without improperly limiting the invention. In the drawings:
<ul><li><figref idrefs="f0001">Fig. 1</figref> shows a block diagram of a double-sided printing system according to an embodiment of the invention;</li><li><figref idrefs="f0002">Fig. 2</figref> shows a block diagram of a preferred embodiment of the double-sided printing<!-- EPO <DP n="5"> --> system according to the invention;</li><li><figref idrefs="f0003">Fig. 3</figref> shows a flowchart of a first embodiment of a control method of the double-sided printing system according to the invention;</li><li><figref idrefs="f0004">Fig. 4</figref> shows a flowchart of a second embodiment of a control method of the double-sided printing system according to the invention;</li><li><figref idrefs="f0005">Fig. 5</figref> shows a flowchart of a third embodiment of a control method of the double-sided printing system according to the invention;</li><li><figref idrefs="f0005">Fig. 6</figref> shows a diagram of a printer according to the embodiment of the invention;</li><li><figref idrefs="f0006">Fig. 7</figref> shows a flowchart of a first embodiment of the printing process of the printer according to the invention; and</li><li><figref idrefs="f0007">Fig. 8</figref> shows a flowchart of a second embodiment of the printing process of the printer according to the invention.</li></ul></p><heading id="h0005"><b><u>Detailed description of the invention</u></b></heading><p id="p0022" num="0022">It should be noted that, the embodiments of the application and the characteristics of the embodiments can be mutually combined in the case of no conflict. The invention is described below in details with reference to the drawings and embodiments.</p><p id="p0023" num="0023"><figref idrefs="f0001">Fig. 1</figref> shows a block diagram of a double-sided printing system according to an embodiment of the invention.</p><p id="p0024" num="0024">As shown in <figref idrefs="f0001">Fig. 1</figref>, the double-sided printing system comprises: a host 1 (also named as a print requesting device) and a printer 2. The host 1 comprises: a first generation unit 12, configured for generating a first printing data which is printed on the first side of the medium; and a second generation unit 13, configured for generating a second printing data which is printed on the second side of the medium. The printer 2 comprises: a controller 21; a first data buffer area 24, which is connected with the first generation unit 12 by the controller 21, and is configured for receiving and caching the first printing data; a second data buffer area 25, which is connected with the second generation unit 13 by the controller 21, and is configured for receiving and caching the second printing data; a first print head 28, which is connected with the first data buffer area 24 by the controller 21, and is configured for printing the first printing data on the first side of the medium; and a second print head 29, which is connected with the second data buffer area 25 by the controller 21, and is configured for receiving the second printing data and printing the second printing data on the second side of the medium.</p><p id="p0025" num="0025">In this embodiment, a first data transmission channel is formed among the first print head 28, the first data buffer area 24 and the first generation unit 12; a second data<!-- EPO <DP n="6"> --> transmission channel is formed among the second print head 29, the second data buffer area 25 and the second generation unit 13; the printing data printed on the first side and the second side of the medium are respectively transmitted by the first data transmission channel and the second data transmission channel, so as to implement double-sided printing; therefore, the correspondence between the printing data and the print head can be realized without adding the marking instruction which marks the correspondence between the printing data and the print head in front of each line of the printing data, thus reducing the data processing load of the controller of the printer, and being beneficial for high-speed printing.</p><p id="p0026" num="0026">As a preferred embodiment of the invention, the host 1 further comprises: a first interface, which is connected with the first generation unit 12; and a second interface, which is connected with the second generation unit 13; the printer 2 further comprises: a third interface, connected with the first interface of the host 1, and a fourth interface, connected with the second interface of the host 1, wherein the first print head 28 receives the first printing data via the third interface, the second print head 29 receives the second printing data via the fourth interface. In this embodiment, by adopting the first generation unit and the second generation unit which are mutually independent to respectively generate the printing data printed on the first side and the second side of the medium, and using different interfaces to respectively transmit the printing data printed on the first side and the second side of the medium, not only the printing data printed on the first side and the second side of the medium can be directly distinguished, but also the double-sided printing can be realized on the basis of not changing the application program of the single-sided printing system, thus further converting the single-sided printing system to be the double-sided printing system conveniently. Specifically, as the first generation unit 12 and the second generation unit 13 are two independent application programs, when needing to convert the single-sided printing system to be the double-sided printing system, the double-sided printing can be realized on the basis of not changing the application program of the single-sided printing system used by the user, only by installing a second generation unit on the host when it is needed to change into the double-sided printer, and establishing an independent data transmission channel with the printer by the second interface. Therefore, the single-sided printing system can be conveniently converted to be the double-sided printing system by means of this embodiment.</p><p id="p0027" num="0027">Preferably, the host 1 is further configured for querying the status information of the printer 2, and when the printer 2 is in idle state, sending the first printing data and the second printing data respectively to the third interface and the fourth interface of the printer 2 via the first interface and the second interface,. As the host needs to query the status of the printer<!-- EPO <DP n="7"> --> before sending the printing data to the printer, the host sends the data to the printer when the printer is in idle state, thus preventing the occurrence of losing or leaking the printing data when issuing the printing data in the case that the printer has failure.</p><p id="p0028" num="0028">Preferably, the controller is further configured for implementing parsing for the first printing data to obtain a first raster data, and for implementing parsing for the second printing data to obtain a second raster data. The first data buffer area comprises: a first receiving buffer area which is connected with the third interface, and is configured for caching the first printing data; a first printing buffer area which is configured for caching the first rater data. The second data buffer area comprises: a second receiving buffer area which is connected with the fourth interface, and is configured for caching the second printing data; and a second printing buffer area which is configured for caching the second raster data.</p><p id="p0029" num="0029">In this embodiment, the first generation unit, the first interface, the third interface, the first receiving buffer area, the first print interface and the first print head form the first data transmission channel; the second generation unit, the second interface, the fourth interface, the second receiving buffer area, the second printing buffer area and the second print head form the second data transmission channel, wherein, the first data transmission channel and the second data transmission channel are mutually independent, which do not disturb each other. The printing data printed on the first side and the second side of the medium can be respectively transmitted by the first data transmission channel and the second data transmission channel, so as to implement double-sided printing.</p><p id="p0030" num="0030">Preferably, the controller of the printer 2 is further configured for: querying the first receiving buffer area and the second receiving buffer area, reading the data from the receiving buffer area which has data earlier of the first receiving buffer area and the second receiving buffer area, converting the read data to be the raster data, and storing the raster data into the corresponding printing buffer area. In this embodiment, the data converting efficiency can be improved by reading data from the receiving buffer area which has data earlier of the first receiving buffer area and the second receiving buffer area, and converting the read data.</p><p id="p0031" num="0031">Preferably, the controller of the printer 2 is further configured for: judging whether the second receiving buffer area has data when the receiving buffer area which has data earlier is the first receiving buffer area, and configured for implementing printing according to the preset operations when the second receiving buffer area has no data within a predetermined time. In this embodiment, the printer does not need to wait for too long time for the double-sided printing data; the printing operation can be implemented according to the predetermined setting after the predetermined time of receiving the single-sided printing data.<!-- EPO <DP n="8"> --></p><p id="p0032" num="0032">Preferably, the controller of the printer 2 is further configured for controlling the second print head to print the preset data on the second side of the medium when the second receiving buffer area has no data within a predetermined time. In this embodiment, the effect of printing on both sides of the medium can be realized even when the printing data of a certain side cannot be received.</p><p id="p0033" num="0033">Preferably, the controller of the printer 2 is further configured for respectively judging whether the parsing of the printing data in the first receiving buffer area and the second receiving buffer area is completed, and configured for implementing the printing operation after the parsing of the printing data in both of the first receiving buffer area and the second receiving buffer area is completed. The data loss can be prevented by implementing printing after the parsing of the printing data on both sides is completed.</p><p id="p0034" num="0034"><figref idrefs="f0002">Fig. 2</figref> shows a block diagram of a preferred embodiment of the double-sided printing system according to the invention. As shown in <figref idrefs="f0002">Fig. 2</figref>, the double-sided printing system comprises a host 1 and a printer 2. The host 1 can be a computer or other control devices, including a control unit 11, a storage unit 16, a first interface 14 and a second interface 15. The control unit 11 implements operations based on the operation system and other programs in the storage unit 16, so as to execute various information processing operations. The storage unit 16 comprises a Read Only Memory (ROM), a Random-Access Memory (RAM) and a hard disk drive. The storage unit 16 stores the programs to be executed by the control unit 11. The storage unit 16 is also operated as a working memory, configured for storing various types of data required during the processing procedure executed by the control unit 11.</p><p id="p0035" num="0035">The installation program of the storage unit 16 comprises a first generation unit 12 and a second generation unit 13. The first generation unit 12 is configured for generating the first printing data to be printed on one side of the medium. The second generation unit 13 is configured for generating the second printing data to be printed on the other side of the medium. The first interface 14 and the second interface 15 are configured for connecting the printer 2 to the host 1, so as to establish communication between the printer 2 and the host 1, and to implement data interaction. The first interface 14 is connected with a data output port of the first generation unit 12, and can transmit the first printing data generated by the first generation unit 12 to the printer. The second interface 15 is connected with a data output port of the second generation unit 13, and can transmit the second printing data generated by the second generation unit 13 to the printer. The first interface 14 and the second interface 15 can be serial interfaces, parallel interfaces, Universal Serial Bus (USB) interfaces, or Ethernet interfaces and the like.<!-- EPO <DP n="9"> --></p><p id="p0036" num="0036">The printer 2 comprises a controller 21, the third interface 22, the fourth interface 23, the first data buffer area 24, the second data buffer area 25, the first print head 28, the second print head 29 and an FLASH memory 30. The first data buffer area 24 comprises a first receiving buffer area 240 and a first printing buffer area 242, and the second data buffer area 25 comprises a second receiving buffer area 250 and a second printing buffer area 252. The controller 21 is configured for controlling all modules of the printer 2 to work. The third interface 22 is in wired connection with the first interface 14 of the host 1 by a communication wire, or is in wireless connection with the first interface 14 by a wireless communication module, configured for receiving the first printing data sent from the host 1, or feeding back the status of the printer 2 to the host 1. The fourth interface 23 is in wired connection with the second interface 15 of the host 1 by a communication wire, or is in wireless connection with the second interface 15 by a wireless communication module, configured for receiving the second printing data sent by the host 1, or feeding back the status of the printer 2 to the host. It should be noted that the types of the third interface 22 and the first interface 14 are matched; the types of the fourth interface 23 and the second interface 15 are matched. The first receiving buffer area 240 is configured for caching the first printing data sent to the printer by the third interface 22; the second receiving buffer area 250 is configured for caching the second printing data sent to the printer by the fourth interface 23; the first printing buffer area 242 is configured for caching the first raster data, wherein, the first raster data is the data generated after that the controller 21 completes the parsing for the first printing data stored in the first receiving buffer area 22; the second printing buffer area 252 is configured for caching the second raster data, wherein, the second raster data is the data generated after that the controller 21 completes parsing for the second printing data stored in the second receiving buffer area 23. The first print head 28 is configured for forming the first raster data on one side of the medium, the second print head 29 is configured for forming the second raster data on the other side of the medium. The FLASH memory 30 is configured for storing the data relative to the printing control, such as the predefined printing data, the status mark of the printer, the waiting time, the time threshold and the like, wherein, the printing system distributes the address of the memory of the printer in advance, sets the first receiving buffer area 240, the first printing buffer area 242, the second receiving buffer area 250 and the second printing buffer area 252, and meanwhile, the printing system also sets the correspondence between the first receiving buffer area 240, the first printing buffer area 242 and the first print head 28, and the correspondence between the second receiving buffer area 250, the second printing buffer area 252 and the second print head 29. The controller 21<!-- EPO <DP n="10"> --> stores the received first printing data to the storage address corresponding to the first receiving buffer area 240, and stores the received second printing data to the storage address corresponding to the second receiving buffer area 250, and the controller 21 stores the first raster data which is generated after implementing parsing for the first printing data stored in the first receiving buffer area 240 to the storage address corresponding to the first printing buffer area 242, and stores the second raster data which is generated after implementing parsing for the second printing data stored in the second receiving buffer area 250 to the storage address corresponding to the second printing buffer area 252; the controller 21 sends the first raster data to the first print head 28, and sends the second raster data to the second print head 29 according to the correspondence between the first printing buffer area 242, the second printing buffer area 252, the first print head 28 and the second print head 29.</p><p id="p0037" num="0037">From the above description, it can be seen that the first generation unit, the first interface, the third interface, the first receiving buffer area, the first printing buffer area and the first print head form the first data transmission channel; the second generation unit, the second interface, the fourth interface, the second receiving buffer area, the second printing buffer area and the second print head form the second data transmission channel, wherein, the first data transmission channel and the second data transmission channel are mutually independent, without disturbing each other; the printing data printed on the first side and the second side of the medium can be respectively printed by the first data transmission channel and the second data transmission channel, thus implementing double-sided printing.</p><p id="p0038" num="0038">Preferably, the host is connected with the printer by the fifth interface, wherein, the fifth interface is configured for establishing the first data transmission channel and the second data transmission channel between the host and the printer; the first data transmission channel is configured for transmitting the first printing data, the second data transmission channel is configured for transmitting the second printing data. Namely, the first data transmission channel for printing on one side of the medium and the second data transmission channel for printing on the other side of the medium can be established between the host and the printer of the printing system of the invention by a physical interface. For example, when the printer communicates with the host by a USB interface, the host acquires a plurality of logical functions of the accessed printer; one device is installed on the host corresponding to each of the logical functions; each installed device is set to occupy an independent pipeline, so as to transmit the data relative to the corresponding logical function by the independent pipeline. The multiple logical functions of the printer comprise a first logical function of transmitting the first printing data and the second logical function of transmitting the second printing data.<!-- EPO <DP n="11"> --> The data relative to the first logical function is set to be transmitted by the first pipeline, and the data relative to the second logical function is set to be transmitted by the second pipeline, thus, the first printing data generated by the first generation unit is transmitted to the first data buffer area by the first pipeline, the second printing data generated by the second generation unit is transmitted to the second data buffer area by the second pipeline. The specific method of establishing multiple pipelines communication between the printer and the host by a USB interface can refer to the content recorded by the Chinese patent of which the application number is <patcit id="pcit0002" dnum="WO200910176510A"><text>200910176510.3</text></patcit>.</p><p id="p0039" num="0039">It should be noted that, the first receiving buffer area 240, the second receiving buffer area 250, the first printing buffer area 242 and the second printing buffer area 252 can be RAMs which are mutually independent, and also can be different storage areas in one RAM.</p><p id="p0040" num="0040">The control method of the printing system provided by the embodiment of the invention is introduced below, it should be noted that the control method of the printing system provided by the embodiment of the invention can be executed based on the printing system provided by the embodiment of the invention; in addition, the printing system provided by the embodiment of the invention also can be configured for executing the control method of the printing system provided by the embodiment of the invention. All steps in the control method of the printing system in the embodiment of the invention can be mutually combined.</p><p id="p0041" num="0041"><figref idrefs="f0003">Fig. 3</figref> shows a flowchart of a first embodiment of a control method of the double-sided printing system according to the invention. As shown in <figref idrefs="f0003">Fig. 3</figref>, the control method of the double-sided printing system comprises:</p><p id="p0042" num="0042">Step S102: generating a first printing data to be printed on a first side of the medium by a first generation unit, and generating a second printing data to be printed on a second side of the medium by a second generation unit.</p><p id="p0043" num="0043">Step S104, sending the first printing data to the first print head, and sending the second printing data to the second print head.</p><p id="p0044" num="0044">Step S106, printing the first printing data and the second printing data on the first side of the medium and the second side of the medium respectively by the first print head and the second print head.</p><p id="p0045" num="0045">In this embodiment, generating the data to be printed on the first side of the medium by using the first generation unit, sending the data to the first print head for implementing printing on the first side of the medium; generating the data to be printed on the second side of the medium by using the second generation unit, and transmitting the data to the second print head for implementing printing on the second side of the medium, so as to implement<!-- EPO <DP n="12"> --> double-sided printing; the correspondence between the printing data and the print head can be realized without adding the marking instruction for marking the correspondence between the printing data and the print head in front of each line of the printing data, thus reducing the data processing load of the controller of the printer, and further being beneficial for high-speed printing.</p><p id="p0046" num="0046">Preferably, the first printing data and the second printing data are respectively sent to the first print head and the second print head by the same interface or different interfaces. When respectively sending the first printing data and the second printing data to the first print head and the second print head by adopting the same interface, it can be completed by the embodiment that the host and the printer are connected by the fifth interface, such that the structure of the printing system can be simplified; when respectively sending the first printing data and the second printing data to the first print head and the second print head by adopting different interfaces, it can be completed by the embodiment that the host and the printer are connected by the first, the second, the third and the fourth interfaces, such that the software changes can be minimized, and the operations can be simple.</p><p id="p0047" num="0047">Preferably, using different receiving buffer areas to respectively cache the first printing data and the second printing data, and using different printing buffer areas to respectively cache the first raster data and the second raster data which are obtained by completing parsing for the first printing data and the second printing data by the controller.</p><p id="p0048" num="0048"><figref idrefs="f0004">Fig. 4</figref> shows a flowchart of a second embodiment of a control method of the double-sided printing system according to the invention, as shown in <figref idrefs="f0004">Fig. 4</figref>, the method comprises:</p><p id="p0049" num="0049">Step S201, the first generation unit generates the first printing data; the second generation unit generates the second printing data.</p><p id="p0050" num="0050">The first generation unit can be the application programs which generate the transaction information; the operators type the transaction information such as the name, quantity and price of the goods in the first generation unit by the computer peripherals such as keyboard, mouse and bar code readers. The first generation unit generates the first printing data according to the transaction information. The second generation unit can be the application programs which generate the supplementary information; the supplementary information can be coupons information, discount information, match information, advertisement information and the like. The second generation unit generates the second printing data according to the supplementary information, wherein, the supplementary information can be typed in the second generation unit by the operator, or can be obtained by controlling the second<!-- EPO <DP n="13"> --> generation unit to select the setting information stored in the storage unit of the host by the control unit of the host. Of course, the second generation unit also can be the application programs which generate the transaction information, thus, the transaction information can be printed on both sides of the medium to achieve the purpose of saving paper.</p><p id="p0051" num="0051">Step S202, the host respectively sends the first printing data and the second printing data to the printer by the first interface and the second interface.</p><p id="p0052" num="0052">The host sends the first printing data generated by the first generation unit to the printer by the first interface, the controller of the printer temporarily stores the received first printing data into the first data buffer area. The host sends the second printing data generated by the second generation unit to the printer by the second interface, the controller of the printer temporarily stores the received second printing data into the second data buffer area.</p><p id="p0053" num="0053">Step S203, the printer prints the first printing data on one side of the medium, and prints the second printing data on the other side of the medium.</p><p id="p0054" num="0054">The controller of the printer sends the first printing data which is temporarily stored in the first data buffer area to the first print head, the first print head prints the first printing data on one side of the medium; the controller of the printer sends the second printing data which is temporarily stored in the second data buffer area to the second print head, the second print head prints the second printing data on the other side of the medium.</p><p id="p0055" num="0055"><figref idrefs="f0005">Fig. 5</figref> shows a flowchart of a third embodiment of a control method of the double-sided printing system according to the invention; as shown in <figref idrefs="f0005">Fig. 5</figref>, the method comprises:</p><p id="p0056" num="0056">Step S301, the first generation unit generates the first printing data, and the second generation unit generates the second printing data.</p><p id="p0057" num="0057">Step S302, the host queries the status of the printer.</p><p id="p0058" num="0058">The status of the printer generally comprises the idle status, the status of being printed, the status of normally ending printing and the status of having a printing failure. The real-time status information of the printer can be represented by a plurality of byte packets and bits of byte in the FLASH memory or the RAM memory of the printer; the different bytes and the different bits of each byte correspondingly indicate various statuses of the printer. The host control software can query the mark byte of the real-time status of the printer by sending the real-time instruction; after sending the query instruction to the printer each time, the printer immediately returns a status mark byte to the host control software, thus, the host can know the status of the printer.</p><p id="p0059" num="0059">Step S303, when the printer is in idle status, the host respectively sends the first printing data and the second printing data to the printer by the first interface and the second interface.<!-- EPO <DP n="14"> --></p><p id="p0060" num="0060">Step S304, the printer prints the first printing data on one side of the medium, and prints the second printing data on the other side of the medium.</p><p id="p0061" num="0061">In the control method of the printing system provided by the embodiment, the host needs to query the status of the printer before sending the printing data to the printer, and the host sends the data to the printer only when the printer is in idle status, thus preventing the occurrence of losing or leaking the printing data during issuing the printing data when the printer has failure.</p><p id="p0062" num="0062">The embodiment of the invention also provides a printer which can be used for any one of the double-sided printing systems provided by the embodiment of the invention. The printer provided by the embodiment of the invention is introduced below.</p><p id="p0063" num="0063"><figref idrefs="f0005">Fig. 6</figref> shows a diagram of a printer according to the embodiment of the invention. As shown in <figref idrefs="f0005">Fig. 6</figref>, the first print head 28 and the second print head 29 are respectively located on two sides of the transmission channel of the medium, and are configured for respectively forming images on the first side A1 and the second side A2 of the medium P. The first print head 28 and the second print head 29 can be thermal sensitive print heads, dot-matrix print heads or ink jet print heads and the like. The printer further comprises a cutter device 31 configured for cutting the printed medium, thus separating the printed medium from the non-used medium.</p><p id="p0064" num="0064"><figref idrefs="f0006">Fig. 7</figref> shows a flowchart of a first embodiment of the printing process of the printer according to the invention; the method comprises:</p><p id="p0065" num="0065">Step S501, querying the first receiving buffer area and the second receiving buffer area.</p><p id="p0066" num="0066">The controller of the printer queries the first receiving buffer area and the second receiving buffer area timely, and waits for the printing data sent by the host.</p><p id="p0067" num="0067">Step S502, reading data from the receiving buffer area which has data earlier.</p><p id="p0068" num="0068">The controller reads the data from the receiving buffer area which has the data earlier. For example, the controller firstly reads data from the first receiving buffer area if firstly querying that the first receiving buffer area has data.</p><p id="p0069" num="0069">Step S503, converting the read data to be the raster data, and storing the raster data into the printing buffer area corresponding to the receiving buffer area.</p><p id="p0070" num="0070">Generally, the printing data generated by the application programs which are installed by the host comprises a printing content instruction which defines the printing data and a printing control instruction which controls the action of the printer; the printer also needs various instructions to implement analysis when printing the data, to convert the data defined by the printing content instruction such as characters and bar codes to be the raster data, and then to<!-- EPO <DP n="15"> --> implement printing by the print heads according to the printing control instruction. Therefore, the data read by the controller is converted to the raster data and stored in the printer buffer corresponding to the receiving buffer area. For example, the first receiving buffer area receives the first printing data generated by the first generation unit, the controller stores the first raster data which is generated after analyzing the first printing data read from the first receiving buffer area into the first printing buffer area, thus, the first printing buffer area is corresponding to the first receiving buffer area; the second receiving buffer area generates the second printing data generated by the second generation unit, the controller stores the second raster data which is generated after analyzing the second printing data read from the second receiving buffer area into the second printing buffer area, therefore, the second printing buffer area is corresponding to the second receiving buffer area. The controller determines the correspondence between each of the buffers according to the address of each of the predefined buffers.</p><p id="p0071" num="0071">Step S504, judging whether reading the ticket end instruction, if yes, implementing Step S505, otherwise, implementing Step S502.</p><p id="p0072" num="0072">Judging whether reading the ticket end instruction which represents that the data on this side ends. When the printer is provided with a cutter device, the ticket end instruction can be a cutter instruction for indicating the cutter device to cut off the medium. When judging that the data on this side ends, implementing Step S505, so as to process the data in the other receiving buffer area; otherwise, implementing Step S502, continuously reads data from the current receiving buffer area.</p><p id="p0073" num="0073">Step S505, judging whether the other receiving buffer area has data, if yes, implementing Step S506, otherwise, implementing Step S510.</p><p id="p0074" num="0074">After processing the data in the receiving buffer area which has the data earlier, the controller queries whether the other receiving buffer area has data, if yes, implementing Step S506, reading data from this receiving buffer area, otherwise, implementing Step S510. For example, the controller firstly processes the data in the first receiving buffer area; when the processing of the data in the first receiving buffer area is completed, the controller queries whether the second receiving buffer area has data, so as to implement subsequent processing.</p><p id="p0075" num="0075">Step S506, reading data from the other receiving buffer area.</p><p id="p0076" num="0076">The controller reads the data from the other receiving buffer area. For example, the controller firstly reads the data from the first receiving buffer area; and after the processing of the data in the first receiving buffer area is completed, the controller reads data from the second receiving buffer area.<!-- EPO <DP n="16"> --></p><p id="p0077" num="0077">Step S507, converting the read data to be the raster data, and storing the data into the printing buffer area corresponding to the receiving buffer area.</p><p id="p0078" num="0078">This step is the same as Step S503, and is not repeated.</p><p id="p0079" num="0079">Step S508, judging whether receiving the cutter instruction or the ticket end instruction, if yes, implementing Step S509, otherwise, implementing Step S506.</p><p id="p0080" num="0080">Judging whether reading the ticket end instruction which represents that the data on this side ends. When the printer is provided with a cutter device, the ticket end instruction can be the cutter instruction for indicating the cutter device to cut off the medium. When judging that the data on this side ends, implementing Step S509, implementing printing; otherwise, implementing Step S506, continuously reads the data from the current receiving buffer area.</p><p id="p0081" num="0081">Step S509, implementing printing on both sides of the medium.</p><p id="p0082" num="0082">After all data of the first receiving buffer area and the second receiving buffer area are processed and respectively stored in the first printing buffer area and the second printing buffer area, the controller sends the first raster data in the first printing buffer area to the first print head, wherein, the first print head is opposite to one side of the medium; the controller sends the second raster data in the second printing buffer area to the second print head, wherein the second print head is opposite to the other side of the medium; and meanwhile, the controller controls the medium to move; during the movement of the medium, the first print head and the second print head respectively implement printing on both sides of the medium, to form the images or characters.</p><p id="p0083" num="0083">It should note that, during the process that the first print head or the second print head implements printing, the controller sets the status information of the printer as the status of being printed; after normally completing printing, the controller sets the status information of the printer as the status of normally ending and the idle status.</p><p id="p0084" num="0084">Step S510, judging whether the waiting time exceeds the time threshold.</p><p id="p0085" num="0085">If the other receiving buffer area has no data, the controller judges whether the waiting time exceeds the time threshold, if not, implementing Step S511, waiting for a predetermined time; otherwise, implementing Step S512. The controller can judge whether the waiting time exceeds the time threshold by comparing the waiting time stored in the memory of the printer and the time threshold.</p><p id="p0086" num="0086">Step S511, waiting for a predetermined time.</p><p id="p0087" num="0087">The controller starts timing, waits for the predetermined time, and stores the waiting time into the memory of the printer. If a waiting time has been stored in the memory, a new waiting time is obtained by accumulating the predetermined time on the basis of the original waiting<!-- EPO <DP n="17"> --> time, and is stored in the memory of the printer. After waiting for the predetermined time, the controller queries whether the other receiving buffer area has data again.</p><p id="p0088" num="0088">Step S512, implementing printing according to the setting operations.</p><p id="p0089" num="0089">When the other receiving buffer area has no data, the controller controls the printer to implement the set operations.</p><p id="p0090" num="0090">The set operations can be an operation that the controller sends the raster data stored in the receiving buffer area which is corresponding to the receiving buffer area of the data to the printer head corresponding to the printing buffer area to implement printing, thus, the printer only implements printing on one side of the medium. For example, the first printing buffer area is corresponding to the first print head, and the second printing buffer area is corresponding to the second print head.</p><p id="p0091" num="0091">The set operation also can be an operation that the controller sends the raster data stored in the receiving buffer area which is corresponding to the receiving buffer area of the data to the print head corresponding to the printing buffer area to implement printing, and meanwhile, sends the predefined printing data stored in the FLASH memory to the print head corresponding to the receiving buffer area which has no data to implement printing, thus, the printer can implement printing on both sides of the medium. The predefined data can be the coupons information, discount information, match information, advertisement information and the like.</p><p id="p0092" num="0092"><figref idrefs="f0007">Fig. 8</figref> shows a flowchart of a second embodiment of the printing process of the printer according to the invention, as shown in <figref idrefs="f0007">Fig. 8</figref>, the method comprises:</p><p id="p0093" num="0093">Step S601, judging whether the first receiving buffer area has data, if yes, implementing Step S602, otherwise, continuously judging.</p><p id="p0094" num="0094">Step S602, reading the data in the first receiving buffer area.</p><p id="p0095" num="0095">The first receiving buffer area receives the first printing data generated by the first generation unit.</p><p id="p0096" num="0096">Step S603, converting the read data to be the raster data, and storing the raster data into the first printing buffer area.</p><p id="p0097" num="0097">The controller converts the first printing data to be the first raster data, and stores the raster data into the first printing buffer area.</p><p id="p0098" num="0098">Step S604, judging whether reading the ticket end instruction, if yes, implementing Step S605, otherwise, implementing Step S602.</p><p id="p0099" num="0099">Step S605, recording that the data in the first receiving buffer area is completely processed.<!-- EPO <DP n="18"> --></p><p id="p0100" num="0100">The specific method of recording that the data in the first receiving buffer area is completely processed enables to represent by different values of one byte in the FLASH memory or RAM memory of the printer. After the data of the first receiving buffer area is completely processed, this byte is set to be 1, otherwise, the byte is set to be 0. After one printing task is completed, this byte is reset.</p><p id="p0101" num="0101">Step S611, judging whether the second receiving buffer area has data, if yes, implementing Step S612, otherwise, continuously judging.</p><p id="p0102" num="0102">Step S612, reading the data of the second receiving buffer area.</p><p id="p0103" num="0103">The second receiving buffer area receives the second printing data generated by the second generation unit.</p><p id="p0104" num="0104">Step S613, converting the read data to be the raster data, and storing the raster data into the second printing buffer area.</p><p id="p0105" num="0105">The controller converts the second printing data to the second raster data, and storing the raster data in the second printing buffer area.</p><p id="p0106" num="0106">Step S614, judging whether reading the ticket end instruction, if yes, implementing Step S615, otherwise, implementing Step S612.</p><p id="p0107" num="0107">Step S615, recording that the data of the second receiving buffer area is completely processed.</p><p id="p0108" num="0108">The specific method of recording that the data in the second receiving buffer area is completely processed enables to represent by different values of one byte in the FLASH memory or RAM memory of the printer. After the data of the second receiving buffer area is completely processed, this byte is set to be 1; otherwise, the byte is set to be 0. After one printing task is completed, this byte is reset.</p><p id="p0109" num="0109">The Steps S601-S605 and the Steps S611-S615 are in parallel execution.</p><p id="p0110" num="0110">Step S606, judging whether the data of the first receiving buffer area and the second receiving buffer area is processed completely, if yes, implementing Step S607, otherwise, implementing Step S608.</p><p id="p0111" num="0111">The controller can know whether the data of the first receiving buffer area and the second receiving buffer area is processed completely by reading the value of the byte which represents the data processing status of the first receiving buffer area and the second receiving buffer area.</p><p id="p0112" num="0112">Step S607, implementing printing.</p><p id="p0113" num="0113">If both the first printing buffer area and the second printing buffer area have the raster data, the controller sends the first raster data in the first printing buffer area to the first print<!-- EPO <DP n="19"> --> head, the first print head implements printing on one side of the medium; the controller sends the second raster data in the second printing buffer area to the second print head, and the print head implements printing on the other side of the medium.</p><p id="p0114" num="0114">If only one of the first printing buffer area and the second printing buffer area has the raster data, the controller sends the raster data to the corresponding print head; the print head implements printing on one side of the medium; and the other print head does not work.</p><p id="p0115" num="0115">Or, if only one of first printing buffer area and the second printing buffer area has the data, the controller sends the raster data to the corresponding print head; the print head implements printing on one side of the medium; and meanwhile, the controller sends the predefined printing data stored in the FLASH memory to the print head corresponding to the printing buffer area which has no data to implement printing, thus, the printer is capable of printing on both sides of the medium. The predefined data can be the coupons information, discount information, match information, advertisement information and the like.</p><p id="p0116" num="0116">Step S608, judging whether the waiting time exceeds the time threshold.</p><p id="p0117" num="0117">When only the data of one of the first receiving buffer area and the second receiving buffer area is completely processed, the controller judges whether the waiting time exceeds the time threshold, if not, implementing Step S609, waiting for a predetermined time; otherwise, implementing Step S607. The controller can judge whether the waiting time exceeds the time threshold by comparing the waiting time stored in the memory of the printer and the time threshold.</p><p id="p0118" num="0118">Step S609, waiting for a predetermined time.</p><p id="p0119" num="0119">As the data quantities received by the first receiving buffer area and the second receiving buffer area may be different, the time required for processing data of the two receiving buffer areas may also be different, therefore, a waiting time can be set, such that all data in the first receiving buffer area and the second receiving buffer area can be processed completely.</p><p id="p0120" num="0120">From the above adscription, it can be seen that the invention can reduce the data transmission load between the host and the printer, increase the printing speed, can implement double-sided printing on the basis of not changing the application programs of the single-sided printing system, and can conveniently convert the existing single-sided printing system to be the double-sided printing system.</p><p id="p0121" num="0121">The above is only the preferred embodiment of the invention and not intended to limit the invention, and for those skilled in the art, the invention can have various modifications and changes. Any modifications, equivalent replacements, improvements and the like within the spirit and principle of the invention shall fall within the scope of protection of the<!-- EPO <DP n="20"> --> invention.</p></description><claims mxw-id="PCLM56982078" lang="EN" load-source="patent-office"><!-- EPO <DP n="21"> --><claim id="c-en-0001" num="0001"><claim-text>A double-sided printing system, <b>characterized in that</b> the double-sided printer comprises a host and a printer, wherein,<br/>
the host comprises:
<claim-text>a first generation unit, configured for generating a first printing data to be printed on a first side of a medium; and</claim-text>
<claim-text>a second generation unit, configured for generating a second printing data to be printed on a second side of the medium,</claim-text>
the printer comprises:
<claim-text>a controller;</claim-text>
<claim-text>a first data buffer area, which is connected with the first generation unit by the controller, and is configured for receiving and caching the first printing data;</claim-text>
<claim-text>a second data buffer area, which is connected with the second generation unit by the controller, and is configured for receiving and caching the second printing data;</claim-text>
<claim-text>a first print head, which is connected with the first data buffer area by the controller, and is configured for printing the first printing data on the first side of the medium; and</claim-text>
<claim-text>a second print head, which is connected with the second data buffer area by the controller, and is configured for printing the second printing data on the second side of the medium.</claim-text></claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>The double-sided printing system according to claim 1, <b>characterized in that</b>:
<claim-text>the host further comprises:
<claim-text>a first interface, connected with the first generation unit; and</claim-text>
<claim-text>a second interface, connected with the second generation unit,</claim-text></claim-text>
<claim-text>the printer further comprises:
<claim-text>a third interface, connected with the first interface of the host; and</claim-text>
<claim-text>a fourth interface, connected with the second interface of the host,</claim-text>
<claim-text>wherein the first print head is configured for receiving the first printing data by the third interface, and the second print head is configured for receiving the second printing data by the fourth interface.</claim-text></claim-text></claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>The double-sided printing system according to claim 2, <b>characterized in that</b> the host is further configured for querying status information of the printer, and respectively sending the first printing data and the second printing data to the third interface and the fourth interface of the printer via the first interface and the second interface when the printer is in idle state.</claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>The double-sided printing system according to claim 2, <b>characterized in that</b> the controller is further configured for implementing parsing for the first printing data to obtain a<!-- EPO <DP n="22"> --> first raster data, and for implementing parsing for the second printing data to obtain a second raster data;<br/>
the first data buffer area comprises:
<claim-text>a first receiving buffer area, which is connected with the third interface by the controller, and is configured for caching the first printing data; and</claim-text>
<claim-text>a first printing buffer area, which is connected with the controller, and is configured for caching the first raster data;</claim-text>
the second data buffer area comprises:
<claim-text>a second receiving buffer area, which is connected with the fourth interface by the controller, and is configured for caching the second printing data; and</claim-text>
<claim-text>a second printing buffer area, which is connected with the controller, and is configured for caching the second raster data.</claim-text></claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>The double-sided printing system according to claim 4, <b>characterized in that</b> the controller is further configured for:
<claim-text>querying the first receiving buffer area and the second receiving buffer area, reading the data from the receiving buffer area which has data earlier of the first receiving buffer area and the second receiving buffer area, converting the read data into the raster data, and storing the raster data into the corresponding printing buffer area.</claim-text></claim-text></claim><claim id="c-en-0006" num="0006"><claim-text>The double-sided printing system according to claim 5, <b>characterized in that</b> the controller of the printer is further configured for: judging whether the second receiving buffer area has data when the receiving buffer area which has data earlier is the first receiving buffer area, and implementing printing according to preset operations when the second buffer area has no data within a predetermined time.</claim-text></claim><claim id="c-en-0007" num="0007"><claim-text>The double-sided printing system according to claim 6, <b>characterized in that</b> the controller of the printer is further configured for controlling the second print head to print the preset data on the second side of the medium when the second receiving buffer area has no data within the predetermined time.</claim-text></claim><claim id="c-en-0008" num="0008"><claim-text>The double-sided printing system according to claim 4, <b>characterized in that</b> the controller of the printer is further configured for respectively judging whether the parsing of the printing data in the first receiving buffer area and the second receiving buffer area is completed, and for implementing the printing operation after the parsing of the printing data in both the first receiving buffer area and the second receiving buffer area is completed.</claim-text></claim><claim id="c-en-0009" num="0009"><claim-text>The double-sided printing system according to claim 1, <b>characterized in that</b> the host and the printer are connected by a fifth interface, wherein the fifth interface is configured for<!-- EPO <DP n="23"> --> establishing a first data transmission channel and a second data transmission channel between the host and the printer; the first data transmission channel is configured for transmitting the first printing data, and the second data transmission channel is configured for transmitting the second printing data.</claim-text></claim><claim id="c-en-0010" num="0010"><claim-text>A control method of a double-sided printing system, <b>characterized by</b> comprising:
<claim-text>generating a first printing data to be printed on a first side of the medium by a first generation unit, and generating a second printing data to be printed on a second side of the medium by a second generation unit;</claim-text>
<claim-text>sending the first printing data to a first print head, and sending the second printing data to a second print head; and</claim-text>
<claim-text>printing the first printing data and the second printing data on the first side of the medium and the second side of the medium respectively by the first print head and the second print head.</claim-text></claim-text></claim><claim id="c-en-0011" num="0011"><claim-text>The control method of the double-sided printing system according to claim 10, <b>characterized in that</b> the first printing data and the second printing data are respectively sent to the first print head and the second print head by the same interface or different interfaces.</claim-text></claim><claim id="c-en-0012" num="0012"><claim-text>The control method of the double-sided printing system according to claim 10, caching the first printing data and the second printing data respectively by different receiving buffer areas, and respectively caching a first raster data and a second raster data, which are obtained by implementing parsing for the first printing data and the second printing data by the controller respectively, by different printing buffer areas.</claim-text></claim><claim id="c-en-0013" num="0013"><claim-text>A printer used for the double-sided printing system according to any one of claims 1 to 9.</claim-text></claim></claims><drawings mxw-id="PDW16670470" load-source="patent-office"><!-- EPO <DP n="24"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="161" he="128" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="25"> --><figure id="f0002" num="2"><img id="if0002" file="imgf0002.tif" wi="161" he="171" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="26"> --><figure id="f0003" num="3"><img id="if0003" file="imgf0003.tif" wi="119" he="140" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="27"> --><figure id="f0004" num="4"><img id="if0004" file="imgf0004.tif" wi="118" he="146" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="28"> --><figure id="f0005" num="5,6"><img id="if0005" file="imgf0005.tif" wi="160" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="29"> --><figure id="f0006" num="7"><img id="if0006" file="imgf0006.tif" wi="146" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="30"> --><figure id="f0007" num="8"><img id="if0007" file="imgf0007.tif" wi="158" he="233" img-content="drawing" img-format="tif"/></figure></drawings><search-report-data><doc-page id="srep0001" file="srep0001.tif" wi="164" he="233" type="tif"/><doc-page id="srep0002" file="srep0002.tif" wi="164" he="233" type="tif"/><doc-page id="srep0003" file="srep0003.tif" wi="165" he="231" type="tif"/></search-report-data><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
