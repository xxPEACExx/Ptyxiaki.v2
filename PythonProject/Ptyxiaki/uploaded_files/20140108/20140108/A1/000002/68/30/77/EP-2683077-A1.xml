<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2683077-A1" country="EP" doc-number="2683077" kind="A1" date="20140108" family-id="46757382" file-reference-id="283701" date-produced="20180822" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146585172" ucid="EP-2683077-A1"><document-id><country>EP</country><doc-number>2683077</doc-number><kind>A1</kind><date>20140108</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-12751872-A" is-representative="YES"><document-id mxw-id="PAPP154847364" load-source="docdb" format="epo"><country>EP</country><doc-number>12751872</doc-number><kind>A</kind><date>20120227</date><lang>ES</lang></document-id><document-id mxw-id="PAPP175260710" load-source="docdb" format="original"><country>EP</country><doc-number>12751872.8</doc-number><date>20120227</date><lang>ES</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140554390" ucid="ES-201100221-A" load-source="docdb"><document-id format="epo"><country>ES</country><doc-number>201100221</doc-number><kind>A</kind><date>20110228</date></document-id></priority-claim><priority-claim mxw-id="PPC140556490" ucid="ES-2012000046-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>ES</country><doc-number>2012000046</doc-number><kind>W</kind><date>20120227</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1989316553" load-source="docdb">H02P  23/14        20060101ALI20120920BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1989319372" load-source="docdb">H02P   9/02        20060101AFI20120920BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1989320545" load-source="docdb">G05F   1/66        20060101ALI20120920BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1989321342" load-source="docdb">H02M   7/48        20070101ALI20120920BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1770961838" load-source="docdb" scheme="CPC">H02P2101/15        20130101 LA20170824BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1770961839" load-source="docdb" scheme="CPC">H02P   9/10        20130101 LI20170824BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1770961840" load-source="docdb" scheme="CPC">H02J   3/381       20130101 LI20170824BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2050385154" load-source="docdb" scheme="CPC">H02M   7/44        20130101 LI20150529BHEP        </classification-cpc><classification-cpc mxw-id="PCL2032328478" load-source="docdb" scheme="CPC">H02P   9/00        20130101 FI20140213BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132360149" lang="DE" load-source="patent-office">SYNCHRONER LEISTUNGSREGLER FÜR EIN STROMVERSORGUNGSSYSTEM AUF BASIS STATISCHER STROMWANDLER</invention-title><invention-title mxw-id="PT132360150" lang="EN" load-source="patent-office">SYNCHRONOUS POWER CONTROLLER FOR A GENERATING SYSTEM BASED ON STATIC POWER CONVERTERS</invention-title><invention-title mxw-id="PT132360151" lang="FR" load-source="patent-office">DISPOSITIF DE COMMANDE DE LA PUISSANCE SYNCHRONE D'UN SYSTÈME DE GÉNÉRATION BASÉ SUR DES CONVERTISSEURS STATIQUES DE PUISSANCE</invention-title><citations><patent-citations><patcit mxw-id="PCIT280646329" load-source="docdb" ucid="WO-2010055322-A2"><document-id format="epo"><country>WO</country><doc-number>2010055322</doc-number><kind>A2</kind><date>20100520</date></document-id><sources><source name="TPO" created-by-npl="N"/></sources></patcit></patent-citations><non-patent-citations><nplcit><text>"Control Strategy for Flexible Microgrid Based on Parallel Line-Interactive UPS Systems", IEEE TRANSACTIONS ON INDUSTRIAL ELECTRONICS, vol. 56, no. 3, 1 March 2009 (2009-03-01), GUERRERO J.M. ET AL, pages 726 - 736, XP011249055</text><sources><source mxw-id="PNPL74177503" load-source="docdb" name="TPO"/></sources></nplcit><nplcit><text>See also references of WO 2012117131A1</text><sources><source mxw-id="PNPL74177504" load-source="docdb" name="TPO"/></sources></nplcit></non-patent-citations></citations></technical-data><parties><applicants><applicant mxw-id="PPAR919537306" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>ABENGOA SOLAR NEW TECH SA</last-name><address><country>ES</country></address></addressbook></applicant><applicant mxw-id="PPAR919542262" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>ABENGOA SOLAR NEW TECHNOLOGIES, S.A.</last-name></addressbook></applicant><applicant mxw-id="PPAR919011528" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Abengoa Solar New Technologies, S.A.</last-name><iid>101259580</iid><address><street>Avda. de la Buhaira 2</street><city>410108 Sevilla</city><country>ES</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR919532730" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>RODRIGUEZ CORTES PEDRO</last-name><address><country>ES</country></address></addressbook></inventor><inventor mxw-id="PPAR919530298" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>RODRIGUEZ CORTES, PEDRO</last-name></addressbook></inventor><inventor mxw-id="PPAR919016318" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>RODRIGUEZ CORTÉS, Pedro</last-name><address><street>Campus Palmas Altas Calle Energía Solar 1</street><city>41014 Sevilla</city><country>ES</country></address></addressbook></inventor><inventor mxw-id="PPAR919525720" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>CANDELA GARCIA JOSE IGNACIO</last-name><address><country>ES</country></address></addressbook></inventor><inventor mxw-id="PPAR919528196" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>CANDELA GARCIA, JOSE IGNACIO</last-name></addressbook></inventor><inventor mxw-id="PPAR919005926" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>CANDELA GARCÍA, José Ignacio</last-name><address><street>Campus Palmas Altas Calle Energía Solar 1</street><city>41014 Sevilla</city><country>ES</country></address></addressbook></inventor><inventor mxw-id="PPAR919520261" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>ROCABERT DELGADO JOAN</last-name><address><country>ES</country></address></addressbook></inventor><inventor mxw-id="PPAR919514625" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>ROCABERT DELGADO, Joan</last-name></addressbook></inventor><inventor mxw-id="PPAR919016963" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>ROCABERT DELGADO, Joan</last-name><address><street>Campus Palmas Altas Calle Energía Solar 1</street><city>41014 Sevilla</city><country>ES</country></address></addressbook></inventor><inventor mxw-id="PPAR919531132" load-source="docdb" sequence="4" format="epo"><addressbook><last-name>TEODORESCU REMUS</last-name><address><country>ES</country></address></addressbook></inventor><inventor mxw-id="PPAR919532955" load-source="docdb" sequence="4" format="intermediate"><addressbook><last-name>TEODORESCU, REMUS</last-name></addressbook></inventor><inventor mxw-id="PPAR919005991" load-source="patent-office" sequence="4" format="original"><addressbook><last-name>TEODORESCU, REMUS</last-name><address><street>Campus Palmas Altas Calle Energía Solar 1</street><city>41014 Sevilla</city><country>ES</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR919019564" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Garcia-Cabrerizo y del Santo, Pedro Maria</last-name><iid>100064688</iid><address><street>Oficina Garcia Cabrerizo, S.L., Vitruvio, 23</street><city>28006 Madrid</city><country>ES</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="ES-2012000046-W"><document-id><country>ES</country><doc-number>2012000046</doc-number><kind>W</kind><date>20120227</date><lang>ES</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2012117131-A1"><document-id><country>WO</country><doc-number>2012117131</doc-number><kind>A1</kind><date>20120907</date><lang>ES</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS549908818" load-source="docdb">AL</country><country mxw-id="DS549745590" load-source="docdb">AT</country><country mxw-id="DS549908819" load-source="docdb">BE</country><country mxw-id="DS549819488" load-source="docdb">BG</country><country mxw-id="DS549817334" load-source="docdb">CH</country><country mxw-id="DS549743364" load-source="docdb">CY</country><country mxw-id="DS549745591" load-source="docdb">CZ</country><country mxw-id="DS549908820" load-source="docdb">DE</country><country mxw-id="DS549743377" load-source="docdb">DK</country><country mxw-id="DS549743378" load-source="docdb">EE</country><country mxw-id="DS549816851" load-source="docdb">ES</country><country mxw-id="DS549819489" load-source="docdb">FI</country><country mxw-id="DS549819494" load-source="docdb">FR</country><country mxw-id="DS549908821" load-source="docdb">GB</country><country mxw-id="DS549743379" load-source="docdb">GR</country><country mxw-id="DS549908822" load-source="docdb">HR</country><country mxw-id="DS549745592" load-source="docdb">HU</country><country mxw-id="DS549817335" load-source="docdb">IE</country><country mxw-id="DS549743380" load-source="docdb">IS</country><country mxw-id="DS549819495" load-source="docdb">IT</country><country mxw-id="DS549743389" load-source="docdb">LI</country><country mxw-id="DS549745602" load-source="docdb">LT</country><country mxw-id="DS549745597" load-source="docdb">LU</country><country mxw-id="DS549745603" load-source="docdb">LV</country><country mxw-id="DS549745604" load-source="docdb">MC</country><country mxw-id="DS549815542" load-source="docdb">MK</country><country mxw-id="DS549815543" load-source="docdb">MT</country><country mxw-id="DS549819496" load-source="docdb">NL</country><country mxw-id="DS549816852" load-source="docdb">NO</country><country mxw-id="DS549817336" load-source="docdb">PL</country><country mxw-id="DS549815544" load-source="docdb">PT</country><country mxw-id="DS549819497" load-source="docdb">RO</country><country mxw-id="DS549815545" load-source="docdb">RS</country><country mxw-id="DS549817337" load-source="docdb">SE</country><country mxw-id="DS549815550" load-source="docdb">SI</country><country mxw-id="DS549816853" load-source="docdb">SK</country><country mxw-id="DS549817350" load-source="docdb">SM</country><country mxw-id="DS549745621" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA128673344" lang="EN" load-source="patent-office"><p id="pa01" num="0001">The invention relates to a synchronous power controller for a generation system based on static power converters, said controller comprising two main blocks referred to as: block 1 (electric block) (10) and block 2 (electromechanical block) (20), electric block 1 (10) being, in turn, formed by a virtual electrical characteristic controller (11) and a virtual admittance controller (12) and the electromechanical block 2 (20) being formed by a virtual electromechanical characteristic controller (21) and an inertia and damping factor controller (22).<img id="iaf01" file="imgaf001.tif" wi="116" he="85" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA128737495" lang="EN" source="EPO" load-source="docdb"><p>The invention relates to a synchronous power controller for a generation system based on static power converters, said controller comprising two main blocks referred to as: block 1 (electric block) (10) and block 2 (electromechanical block) (20), electric block 1 (10) being, in turn, formed by a virtual electrical characteristic controller (11) and a virtual admittance controller (12) and the electromechanical block 2 (20) being formed by a virtual electromechanical characteristic controller (21) and an inertia and damping factor controller (22).</p></abstract><description mxw-id="PDES63959332" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001">Technical sector of the invention</heading><p id="p0001" num="0001">The invention belongs to the technical sector of power controllers for renewable energy plants, especially useful in photovoltaic generation plants, which allows offering advanced functionalities to improve the connection of said plants to the electric grid.</p><heading id="h0002">Background of the invention</heading><p id="p0002" num="0002">The sources of renewable energy, mainly wind power plants (WIN) and photovoltaic (PH) power plants, have ceased to be a marginal resource in the generation of electricity.</p><p id="p0003" num="0003">The generators of PH plants use power converters to connect to the electric grid. These power converters, also known as inverters, inject current to the voltage of the grid to supply power to the same.</p><p id="p0004" num="0004">In normal operating conditions, the PH inverters inject single-phase o tri-phase sinusoidal currents to the grid, depending on the power range of the generator. Normally, the currents injected to the grid tend to be sinusoidal and are in phase with the voltages of the coupling point to maximize the amount of active power being generated. There are no PH inverters in the market, at least in on a generalized basis, that inject currents to the quadrature with the grid voltages, which allows controlling the reactive power injected to the grid with the purpose of regulating the voltage level at the coupling point. When the grid voltage is affected by a perturbation, such as imbalances, transients, or harmonics, which is usual in electric grids, conventional PH inverters experience problems to remain appropriately synchronized with the grid voltage, which leads to uncontrolled power flows that cause the PH inverter to worsen the situation of the failure of the grid. With more serious grid perturbations, such as voltage dips, short-circuits, or power oscillations, conventional PH inverters cannot offer an appropriate support to the electric grid to help maintain the generation system active. In fact, these serious transient perturbations usually cause the disconnection of the grid in the majority of the commercial PH inverters due to the triggering of some of its overcurrent or overvoltage protections. The problem caused by this type of errant behavior in conventional PH generation systems is more marked in weak grids or in grids with a high percentage of PH plants installed, which renders them unstable.</p><p id="p0005" num="0005">A scenario as the one described above does not offer reliability to power system operators - internationally known as TSO (Transmission System Operator), which forces them to plan and provide active and reactive power reserves to the grid by means of conventional synchronous generation or other mechanisms, to decrease the risk of the<!-- EPO <DP n="2"> --> collapse of the electric system.</p><p id="p0006" num="0006">For obvious reasons, these power reserves are not free, which implies an additional economic burden associated with the increase in the penetration of PH generation plants.</p><p id="p0007" num="0007">In order to face this situation of instability, TSOs worldwide are increasingly becoming more demanding with respect to the features offered by renewable energy-based distributed generation plants. These requirements are materialized in the so-called grid codes. These types of codes are usually applied to generation technologies with a significant presence in the electric system. A clear example is the strict grid connection codes applied to wind generation systems, the PH systems being the next candidates to be regulated by these types of codes. By means of the strict requirements stipulated in the grid codes, TSOs intend for PH plants to increase their functionality and reliability with the purpose of avoiding having to pay third parties for auxiliary services that allow guaranteeing the stability of the electric system. In this case, the manufacturers and developers of PH systems are in charge of modernizing their technology to contribute the required systems, which will ultimately allow increasing the penetration of the PH energy systems in the electric grids in the following decade.</p><p id="p0008" num="0008">Part of the research lines found in the state of the art to improve the connection of static power converters to the grid, by authors such as Qing-Chang Zhong and Lenart Harnefors, are based on observing the operating principle of a synchronous generator and replicating it by means of the use of a static power converter.</p><p id="p0009" num="0009">A series of selected articles from these authors is listed below:
<ul><li><nplcit id="ncit0001" npl-type="s"><text>Zhong, Q; Weiss, G; "Synchronverters: Inverters that Mimic Synchronous Generators," Industrial Electronics, IEEE Transactions on, vol.PP, no.99, pp.1, 2010</text></nplcit>.</li><li>Weiss, G.; Qing-Chang Zhong; "Static synchronous generators"; Patent, <patcit id="pcit0001" dnum="GB20091051460W"><text>PCT/GB20091051460</text></patcit>; <patcit id="pcit0002" dnum="WO20101055322A2"><text>WO 20101055322 A2</text></patcit>. International Filing Date: 12.11.2008.</li><li>Harnefors, L.; "Control of a voltage source converter using synchronous machine emulation"; Patent, <patcit id="pcit0003" dnum="EP20081061147W"><text>PCT/EP20081061147</text></patcit>; <patcit id="pcit0004" dnum="WO20101022766A1"><text>WO 20101022766 A1. International Filing Date: 26.08.2008</text></patcit>.</li><li><nplcit id="ncit0002" npl-type="s"><text> Lidong Zhang; Harnefors, L.; Nee, H.-P.; , "Power-Synchronization Control of Grid-Connected Voltage-Source Converters," Power Systems, IEEE Transactions on , vol.25, no.2, pp.809-820, May 2010</text></nplcit>.</li></ul></p><p id="p0010" num="0010">Other authors, such as Josep M. Guerrero or Karel de Brabandere implement active and reactive power controllers for applications wherein the distributed power converters constitute small low-voltage grids, such as the case of micro-grids supplied by multiple uninterrupted supply systems. These controllers are characterized in that they establish the<!-- EPO <DP n="3"> --> voltage reference of the power converters. Some representative articles by these authors are the following:
<ul><li><nplcit id="ncit0003" npl-type="s"><text>J. M. Guerrero, J. C. Vásquez, J. Matas, L. García de Vicuña, and M. Castilla, "Hierarchical Control of Droop-Controlled AC and DC Microgrids - A General Approach Towards Standardization," IEEE Trans Ind Electronics, 2010</text></nplcit>.</li><li><nplcit id="ncit0004" npl-type="s"><text> De Brabandere, K.; "Voltage and frequency droop control in low voltage grids by distributed generators with inverter front-end"; Doctoral Thesis, Leuven, België, October 2006, ISBN 90-5682-745-6</text></nplcit>.</li></ul></p><p id="p0011" num="0011">In terms of the patents applied for, international application <patcit id="pcit0005" dnum="WO2010055322A2"><text>WO2010055322(A2) by Weiss George [IL]; Zhong Qing-Chang [GB]</text></patcit>, can be considered as the closest to the invention object of this patent, given that it relates to a controller that faithfully emulates the behavior of a conventional synchronous generator.</p><p id="p0012" num="0012">The majority of the research papers mentioned above detect a series of problems derived from the attempt to faithfully replicate the operation of a conventional synchronous generator, without intending to solve its inherent inconveniences, among which we have the instability inherent to the synchronous generator, the difficulty in maintaining the synchronism during failures, or the appearance of resonance with other elements of the grid.</p><p id="p0013" num="0013">In this sense, the invention object of this patent supposes a solution to the problems represented by commercial inverters and conventional renewable power plants when they operate under generic conditions in the electric grid by offering the following:
<ul><li>Optimized response in the case of a drop/rise in the frequency of the grid, by controlling the delivered/received active power such that it limits said variation.</li><li>Optimized response in the case of a drop/rise in the effective voltage, by controlling the inductive/capacitive reactive power such that it limits said variation.</li><li>Optimized response in the case of the perturbation generated by the increase/reduction of nearby charges, supporting their supply by means of a point increase/reduction of the current injected to the grid.</li><li>Optimized response in the case of a distortion in the form of a voltage wave, affected by harmonics, transients, or imbalances, offering voltage/current conditioning functions that minimize and damp said perturbations.</li><li>Optimized response in the case of oscillations in the frequency and active power of the system, offering damping functions that minimize said oscillations in the electric system.</li></ul></p><heading id="h0003"><b>Description of the invention</b></heading><p id="p0014" num="0014">The Synchronous Power Controller of a generating system based on static power converters being claimed is a new concept in the control of latest generation renewable<!-- EPO <DP n="4"> --> power plants that allows offering advanced functionalities to improve the integration of said plants to the electric grid.</p><p id="p0015" num="0015">Among the main characteristics of a plant based on this controller we have the following:
<ul><li>The capacity of electronically implementing an advanced synchronous generation system, improving the behavior of conventional generators, which operation is not based in the effectiveness of the synchronization algorithm with the grid voltage, but it is capable of achieving a 'natural synchronization' with other generators of the electric grid by means of a weighted and controlled power exchange.</li><li>The capacity of interacting with the electric grid in a beneficial manner for the same, regardless of the grid type (High Voltage or Low Voltage), of the short-circuit power of the same, or of the R/X characteristic at the connecting point.</li><li>The capacity of providing, in a natural manner, support services to the electric grid in the case of perturbations in the same, by implementing the controllers that supply the auxiliary services required by the TSO to guarantee the stability of the grid.</li><li>The capacity of maintaining multiple generators working in parallel, connected to the main grid or by forming intentional islands disconnected from the same, both in a stable operating system and in the case of grid perturbations, and by distributing the services supplied by each one of them in an intelligent manner.</li><li>The capacity of causing the multiple electronic generators constituting the plant based on this controller to be grouped in such a way that said plant has the same external control variables and the same functionalities than an advanced synchronous generator with the power of the plant. The advanced auxiliary services that may be supplied by the resulting generation plant will facilitate its operational control by the TSO and shall provide differential characteristics that are not available in conventional distributed generation systems.</li></ul></p><p id="p0016" num="0016">In order to achieve all of this, the controller of the invention comprises two main blocks referred to as: block 1 (electric block) (10) and block 2 (electromechanical block).</p><p id="p0017" num="0017">Block 1, or the electric block, comprises a control loop at which input the existing voltage difference between a virtual internal electromotive force and the voltage existing at the point of the grid to which it is connected, is injected. This voltage difference supplies a virtual admittance, which determines the current to be injected to the grid by the inverter.</p><p id="p0018" num="0018">The values of the parameters of this virtual admittance are dynamically adapted to the conditions of the grid. It also presents different behaviors for the different frequency and sequence ranges of the AC side. This way, the controller of the invention offers a different admittance for each frequency and each sequence, either direct, inverse, or homopolar.<!-- EPO <DP n="5"> --> Therefore, the controller injects an elevated direct sequence current to the fundamental frequency of the grid, and to the other frequencies and sequences, including harmonics and transients, the controller injects the current that minimizes the potential existing perturbation.</p><p id="p0019" num="0019">Then, unlike the case of the study in the state of the art, block 1 works with current references, instead of with voltage references (synchronous generators work with voltage references for the induced electromotive force, and, in consequence, the conventional controllers emulating the same also work with voltage references) and with a virtual admittance, instead of working with a virtual impedance (in synchronous generators, the ratio between the induced electromotive force and the circulating current is determined by an impedance, and therefore, the conventional controllers emulating the same also base their operation on the existence of a virtual impedance).</p><p id="p0020" num="0020">Block 2, or the electromechanical block, unlike what is found in the state of the art, is not based on the imitation of the electromechanical characteristic of a synchronous generator, but it is configured as an adjustable power controller, which allows reaching an optimal response for the different power perturbations and fluctuations of the grid.</p><p id="p0021" num="0021">Therefore, this block 2 allows adjusting of the inertia and damping factor of the power control loop instantaneously, according to need at any time.</p><p id="p0022" num="0022">This block 2 is formed by a control loop comprising a PLC ("power loop controller") that receives, at the input, the difference between the input power (power delivered to the converter by the primary source) and the power delivered to the grid, as well as inertia references and damping factors, among others.</p><p id="p0023" num="0023">This block 2, or electromechanical characteristic controller, achieves flexibility for the set of the controller that allows, for example, reducing the inertia to facilitate the connection of the generator to the grid, or allocating higher inertias in the frequency ranges in which perturbations are desired to be eliminated.</p><p id="p0024" num="0024">The frequency of the virtual internal electromotive force is obtained at the output of the PLC, which is integrated to obtain the phase of the virtual internal electromotive force vector that ultimately determines a set of virtual tri-phase voltages. These virtual voltages supply the electric block, which is the one ultimately calculating the current reference to be injected to the grid to exchange a certain power with the same.</p><p id="p0025" num="0025">It should be noted at this point that the study of the state of the art about power converter controllers connected to the grid to regulate the active power exchanged with the same reveals that the inertia characteristic is not normally implemented in the same.</p><p id="p0026" num="0026">On the other hand, the references found that apply this concept are limited to the imitation of the electromechanical characteristic of the conventional synchronous generator,<!-- EPO <DP n="6"> --> without introducing any type of improvement on said physical system. Thus, the synchronous power controller of the invention presents an evident difference with respect to the existing techniques, given that the inertia and the damping factor can be adjusted online and instantaneously according to the operating conditions.</p><p id="p0027" num="0027">On the other hand, the synchronous power controller of the invention uses different values, both for the virtual inertia and the damping factor, for different frequency ranges, which supposes important progress with respect to other existing techniques.</p><p id="p0028" num="0028">This way, the response of a generation plant based on this controller can be optimized for different frequency ranges by simply adjusting the inertia and damping factor references. Specifically, this type of controller contributes to the attenuation of power fluctuations, high-frequency harmonics, low-frequency fluctuations (grid modes), resonances, etc.</p><p id="p0029" num="0029">In summary, the set of the synchronous power controller of a generating system based on static power converters presented by the invention is composed of two fundamental blocks or controllers: the virtual electrical characteristic controller and the virtual electromechanical characteristic controller.</p><p id="p0030" num="0030">The electrical controller is supplied by the difference between the virtual internal electromotive force and the voltage at the connecting point of the grid and, by varying the parameters of the virtual admittance of the system according to the conditions of the grid at any given moment, the current to be delivered by the generation plant to the grid is determined.</p><p id="p0031" num="0031">The electromechanical controller is supplied by the difference between the input power into the converter and the power delivered to the grid and, by varying the parameters corresponding to inertia and the damping factor of the system according to the conditions of the grid at any given moment, the frequency of the virtual internal electromotive force to be generated and to be used in the electrical controller is determined.</p><p id="p0032" num="0032">The response of the controller of the invention presents a different dynamic behavior for the different frequency ranges of the grid.</p><p id="p0033" num="0033">With the foregoing, we are able to solve the interaction problems with the grid of power converter controllers connected to the grid that are found in the state of the art by means of the use of a more effective, dynamic, and flexible controller.</p><heading id="h0004"><b>Brief description of the drawings</b></heading><p id="p0034" num="0034">With the purpose of facilitating the comprehension of the invention, several figures have been attached representing the following in an illustrative rather than limitative manner:
<ul><li><figref idrefs="f0001">Figure 1</figref>, general scheme of the controller of the invention;<!-- EPO <DP n="7"> --></li><li><figref idrefs="f0001">Figure 2</figref>, control loop of block 1 or electric block;</li><li><figref idrefs="f0002">Figure 3</figref>, operating scheme of block 1 with respect to different frequencies;</li><li><figref idrefs="f0002">Figure 4</figref> control loop of block 2 or electromechanical block</li><li><figref idrefs="f0002">Figure 5</figref>, operating scheme of block 2 with respect to different frequencies;</li></ul></p><p id="p0035" num="0035">In said figures, the different references appearing therein have the following meanings:
<ul><li>(10) Block 1, electric block;</li><li>(11) Virtual electrical characteristic controller;</li><li>(12) Virtual admittance controller;</li><li>(13) Virtual admittance processor;</li><li>(14) Converter acting as a controlled current source;</li><li>(15) Electric grid;</li><li>(20) Block 2, electromechanical block;</li><li>(21) Virtual electromechanical characteristic controller;</li><li>(22) Inertia and damping factor controller;</li><li>(23) PLC ("Power Loop Controller");</li><li>(24) VCO ("Voltage Controller Oscillator").</li></ul></p><heading id="h0005"><b>Detailed description of the invention</b></heading><p id="p0036" num="0036">In order to achieve a better comprehension of the invention, a detailed description thereof is made below based on the figures attached herein;</p><p id="p0037" num="0037"><figref idrefs="f0001">Figure 1</figref> shows the scheme representing the controller of the invention as a whole, formed by two main blocks: block 1 or the electric block (10), and block 2 or the electromechanical block (20).</p><p id="p0038" num="0038">Block 2 (20) in turn comprises the virtual electrical characteristic controller (21), as well as the inertia and damping factor controller (22), to which a series of variables of the system are introduced, such as input voltage (v<sub>in</sub>), input intensity (i<sub>in</sub>), output voltage (v<sub>out</sub>), and output intensity (i<sub>out</sub>), which are used selectively depending on the specific algorithm of the controller being applied. The inertia and damping factor controller (22) also receives a series of input parameters, such as the powers of reference (P<sub>1</sub>, P<sub>2</sub>..., P<sub>n</sub>) and the adjustment constants of the response of the controller (c<sub>1</sub>, c<sub>2</sub>..., c<sub>n</sub>) for each frequency range. Depending on the variables of the system and the adjustment parameters, the inertia (J<sub>1</sub>, J<sub>2</sub>... , J<sub>n</sub>) and the damping factor values (ξ<sub>1</sub>, ξ<sub>2</sub>, ... , ξ<sub>n</sub>) are obtained for each frequency at the outlet.</p><p id="p0039" num="0039">These inertia (J<sub>1</sub>, J<sub>2</sub>..., J<sub>n</sub>) and damping factor values (ξ<sub>1</sub>, ξ<sub>2</sub>, ... , ξ<sub>n</sub>) are introduced as parameters into the virtual electromechanical characteristic controller (21).<!-- EPO <DP n="8"> --></p><p id="p0040" num="0040">The virtual inertia and damping factor parameters are dynamically adapted to the operating conditions, offering a virtual inertia value (J<sub>1</sub>, J<sub>2</sub>... , J<sub>n</sub>) and damping factor value (ξ<sub>1</sub>, ξ<sub>2</sub>, ..., ξ<sub>n</sub>) for each frequency, such that establishing the capacity presented by the generator to attenuate different power, oscillations existing in the grid (inter-plant, inter-area... ) and in the primary generation source (mechanical and structural resonances), is possible.</p><p id="p0041" num="0041">There are other auxiliary parameters supplied to this controller for the calculation of the tuning constants of the power loop controllers (PLC), such as the nominal frequency of the system (ω<sub>rated</sub>) and the maximum power supplied (P<sub>max</sub>). The input variable of the virtual electromechanical characteristic controller (21) is the power difference (ΔP) between the input power (P<sub>in</sub> input power into the converter) and the power delivered to the grid (P<sub>out</sub>).</p><p id="p0042" num="0042">The virtual internal electromotive force (e), which is one of the input variables of block 1 or the electric block (10), is obtained from block 2 (20).</p><p id="p0043" num="0043">This electric block (10) also comprises two parts: the virtual electrical characteristic controller (11) and the virtual admittance controller (12). The input variables of the virtual admittance controller (12) are voltage (v) and current (i) of the grid and the DC bus, which are used selectively depending on the specific algorithm of the controller being applied. The parameters of the virtual admittance controller (12) are the values of the current of reference for each frequency and sequence (I<sub>1</sub>*, I<sub>2</sub>*,..., I<sub>n</sub>*) and the adjustment constants of the response of the controller (c<sub>1</sub>, c<sub>2</sub>, ... , c<sub>n</sub>) for each frequency range. Depending on these input variables and the adjustment parameters, this controller supplies the admittance value to be applied to each frequency and sequence (Y<sub>1</sub>, Y<sub>2</sub>..., Y<sub>n</sub>).</p><p id="p0044" num="0044">The virtual electrical characteristic controller (11) receives the value of the virtual internal electromotive force (e), obtained from block 2 (20), and the voltage of the connecting point to the grid (v), as the input variables. Likewise, the virtual electrical characteristic controller (11) receives the virtual admittance values to be processed for each frequency and sequence of interest (Y<sub>1</sub>, Y<sub>2</sub>..., Y<sub>n</sub>), which were calculated in the virtual admittance controller (12), as the input parameters. Based on these input variables and parameters, block 1 (10) supplies the value of the current of reference (i*) that must be injected to the electric grid (15) by the power converter acting as a controlled current source (14) at the output.</p><p id="p0045" num="0045"><figref idrefs="f0001">Figure 2</figref> shows the control loop of block 1 (10) or electric block, at which input the voltage difference existing between a virtual internal electromotive force (e) and the voltage existing at the coupling point with the electric grid to which it is connected (v), is injected. This voltage difference supplies the virtual admittance processor (13), in charge of determining the current of reference (i*) to be injected to the grid (15) by the power converter.</p><p id="p0046" num="0046">The parameters of this virtual admittance (13) are dynamically adapted to the<!-- EPO <DP n="9"> --> conditions of the grid. As shown in <figref idrefs="f0002">figure 3</figref>, it also presents different behaviors for the different frequency ranges (f<sub>1</sub>, f<sub>2</sub>..., f<sub>n</sub>) and input sequences, either direct, inverse, or homopolar. This way, the controller of the invention offers a different admittance (Y<sub>1</sub>, Y<sub>2</sub>... , Y<sub>n</sub>) for each frequency (f<sub>1</sub>, f<sub>2</sub>..., f<sub>n</sub>). In this sense, the controller injects an elevated direct sequence current to the fundamental frequency of the grid, and to the other frequencies and sequences, including harmonics and transients, the controller injects the current that minimizes the potential existing perturbation.</p><p id="p0047" num="0047">Therefore, unlike what was found in the study of the state of the art, block 1 works with current references, instead of working with voltage references (conventional synchronous generators, as well as the controllers intended to emulate them, work with voltage references) and with a virtual admittance, instead of working with a virtual impedance (which is a characteristic parameter of conventional synchronous generators, and therefore, of the controllers intended to emulate them).</p><p id="p0048" num="0048"><figref idrefs="f0002">Figure 4</figref> shows the general scheme of block 2 (20) or electromechanical block. This block 2 comprises a control loop regulated by a PLC (23) ("power loop controller"), which receives the power difference (ΔP) existing between the input power (P<sub>in</sub>) (power delivered to the converter by the primary source) and the power delivered to the grid (P<sub>elec</sub>), as well as a series of parameters establishing the natural frequency and the damping factor (ξ) desired at any given time for the power loop controller. The frequency of the virtual internal electromotive force (ω<sub>r</sub>), which, once integrated, allows determining the phase (θ) of the virtual internal voltages generated in the power converter, is obtained at the output of the PLC. Given that the values applied for the inertia and damping factor can be instantaneously modified for each frequency range, this block 2 or electromechanical block achieves flexibility for the set of the synchronous power controller. This flexibility allows, for example, making a fast connection from the generator to the grid by decreasing the inertia and subsequently increasing the value thereof for certain frequency ranges in which there can be grid perturbations that should not be followed by the generator.</p><p id="p0049" num="0049">The frequency of the virtual internal electromotive force is obtained at the output of the PLC, which is integrated to obtain the phase angle of the virtual internal electromotive force vector. With this phase angle and the value established for the virtual internal electromotive force module E*, a set of tri-phase voltages is obtained which constitute one of the input variables (e) of block 1 or electric block. After establishing the virtual internal voltage and its phase, the electric block will be in charge of transferring the grid powers by means of the injection of the corresponding current thereto.</p><p id="p0050" num="0050"><figref idrefs="f0002">Figure 5</figref> shows the operation of block 2 for the different frequency ranges (f<sub>1</sub>, f<sub>2</sub>, ....,<!-- EPO <DP n="10"> --> f<sub>n</sub>). The sum of the output references of the PLC (23) are applied to the VCO (24), which generates a set of frequency voltages w* and amplitude voltages E*. Subsequently, these voltages are applied to one of the inputs of the virtual electrical characteristic controller (11).</p><p id="p0051" num="0051">The more direct application of the synchronous power controller of a generating system based on static power converters presented in this invention is in renewable energy plants (especially photovoltaic and wind), but its use in any other application requiring similar characteristics is not ruled out.</p></description><claims mxw-id="PCLM56982366" lang="EN" load-source="patent-office"><!-- EPO <DP n="11"> --><claim id="c-en-0001" num="0001"><claim-text>Synchronous power controller of a generating system based on static power converters aimed at improving the integration of renewable energy plants to the electric grid and that comprises two main blocks, referred to as: block 1 (electric block) (10) and block 2 (electromechanical block) (20), the electric block 1 (10) being, in turn, formed by a virtual electrical characteristic controller (11) and a virtual admittance controller (12), and the electromechanical block 2 (20) being formed by a virtual electromechanical characteristic controller (21) and an inertia and damping factor controller (22).</claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>Synchronous power controller according to claim 1, <b>characterized in that</b> the virtual admittance controller (12) is configured to:
<claim-text>- receive the input voltage (v) and current (i) signals of the grid and DC bus and process them selectively according to a series of adjustment parameters (c<sub>1</sub>, c<sub>2</sub>, ..., c<sub>n</sub>) and current of reference values (I<sub>1</sub>*, I<sub>2</sub>*,..., I<sub>n</sub>*) for each frequency and sequence range, and with all of it</claim-text>
<claim-text>- generate the admittance value (Y<sub>1</sub>, Y<sub>2</sub>,... Y<sub>n</sub>) to be applied to each frequency and sequence.</claim-text></claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>Synchronous power controller according to claim 2, <b>characterized in that</b> the parameters of this virtual admittance (Y) are dynamically adapted to the conditions of the grid, offering a different admittance (Y<sub>1</sub>, Y<sub>2</sub>,... Y<sub>n</sub>) for each frequency (f<sub>1</sub>. f<sub>2</sub>... f<sub>n</sub>) and sequence, such that high currents can be injected to the fundamental frequency of the grid and to the direct sequence; and the necessary currents minimizing potential perturbations are injected to the other harmonic sequences and frequencies, transients, and imbalances...</claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>Synchronous power controller according to claim 1, <b>characterized in that</b> the virtual electrical characteristic controller (11) is configured to:
<claim-text>- receive the virtual internal electromotive force (e), obtained from block 2 (20), and the voltage of the connecting point to the grid (v), as well as the virtual admittance values for each frequency and sequence (Y<sub>1</sub>, Y<sub>2</sub>,... Y<sub>n</sub>), obtained from the virtual admittance controller (12), as input signals, and with all of it</claim-text>
<claim-text>- generate the value of the current of reference (i*) supplied to the converter acting as a controlled current source (14) to be injected to the electric grid (15) at the output of block 1 (10).</claim-text><!-- EPO <DP n="12"> --></claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>Synchronous power controller according to claim 1, <b>characterized in that</b> the inertia and damping factor controller (22) is configured to:
<claim-text>- receive input voltage (v<sub>in</sub>), input intensity (i<sub>in</sub>), output voltage (v<sub>out</sub>), and output intensity (i<sub>out</sub>) signals and process them selectively according to a series of adjustment parameters (c<sub>1</sub>, c<sub>2</sub>..., c<sub>n</sub>) and powers of reference (P<sub>1</sub>, P<sub>2</sub>..., P<sub>n</sub>) for each frequency range, and with all of it</claim-text>
<claim-text>- generate the virtual inertia (J<sub>1</sub>, J<sub>2</sub>, ..., J<sub>n</sub>) and the damping factor vales (ξ<sub>1</sub>, ξ<sub>2</sub>, ... , ξ<sub>n</sub>) for each frequency.</claim-text></claim-text></claim><claim id="c-en-0006" num="0006"><claim-text>Synchronous power controller according to claim 5, <b>characterized in that</b> the virtual inertia and damping factor parameters are dynamically adapted to the operating conditions, offering a virtual inertia (J<sub>1</sub>, J<sub>2</sub>, ..., J<sub>n</sub>) and damping factor (ξ<sub>1</sub>, ξ<sub>2</sub>, ..., ξ<sub>n</sub>) value for each frequency, such that establishing the capacity presented by the generator to attenuate different power oscillations existing in the grid (inter-plant, inter-area...) and in the primary generation source (mechanical and structural resonances), is possible.</claim-text></claim><claim id="c-en-0007" num="0007"><claim-text>Synchronous power controller according to claim 1, <b>characterized in that</b> the virtual electromechanical characteristic controller (21) is configured to:
<claim-text>- receive the power difference (ΔP) existing between the input power (P<sub>in</sub>, input power into the converter) and the power delivered to the grid (P<sub>elec</sub>), as well as the virtual inertia (J<sub>1</sub>, J<sub>2</sub>, ... , J<sub>n</sub>) and damping factor (ξ<sub>1</sub>, ξ<sub>2</sub>, ... , ξ<sub>n</sub>) values for each frequency range and a series of auxiliary parameters, such as the nominal frequency of the system (ω<sub>rated</sub>) and the maximum power supplied (P<sub>max</sub>), as input signal, and with all of it</claim-text>
<claim-text>- generate the virtual internal locomotive force (e) applied to one of the inputs of block 1 or electric block (10) at the output.</claim-text></claim-text></claim><claim id="c-en-0008" num="0008"><claim-text>Synchronous power controller according to claim 1, <b>characterized in that</b> block 2 consists of a control loop regulated by a PLC (23) ("power loop controller") which receives the variations in power (ΔP) existing between the input power (P<sub>in</sub>, input power of the converter) and the power delivered to the grid (P<sub>elec</sub>), as well as well as the virtual inertia (J<sub>1</sub>, J<sub>2</sub>, ... , J<sub>n</sub>) and the damping factor (ξ<sub>1</sub>, ξ<sub>2</sub>, ... , ξ<sub>n</sub>) values for each frequency range (f<sub>1</sub>, f<sub>2</sub>..., f<sub>n</sub>) such that the sum of the output references of the PLC (23) end up in a VCO (24, Voltage Controller Oscillator) generating a set of frequency voltages w* and amplitude voltages E* constituting the virtual internal electromotive force (e), subsequently applied to one of the<!-- EPO <DP n="13"> --> inputs of the virtual electrical characteristic controller (11).</claim-text></claim></claims><drawings mxw-id="PDW16670746" load-source="patent-office"><!-- EPO <DP n="14"> --><figure id="f0001" num="1,2"><img id="if0001" file="imgf0001.tif" wi="157" he="206" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="15"> --><figure id="f0002" num="3,4,5"><img id="if0002" file="imgf0002.tif" wi="148" he="229" img-content="drawing" img-format="tif"/></figure></drawings><search-report-data><doc-page id="srep0001" file="srep0001.tif" wi="151" he="233" type="tif"/><doc-page id="srep0002" file="srep0002.tif" wi="155" he="233" type="tif"/><doc-page id="srep0003" file="srep0003.tif" wi="154" he="233" type="tif"/><doc-page id="srep0004" file="srep0004.tif" wi="155" he="233" type="tif"/></search-report-data><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
