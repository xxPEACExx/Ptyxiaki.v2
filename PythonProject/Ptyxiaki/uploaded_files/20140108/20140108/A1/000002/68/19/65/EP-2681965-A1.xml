<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2681965-A1" country="EP" doc-number="2681965" kind="A1" date="20140108" family-id="45757450" file-reference-id="315082" date-produced="20180822" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146585642" ucid="EP-2681965-A1"><document-id><country>EP</country><doc-number>2681965</doc-number><kind>A1</kind><date>20140108</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-12705886-A" is-representative="NO"><document-id mxw-id="PAPP154847834" load-source="docdb" format="epo"><country>EP</country><doc-number>12705886</doc-number><kind>A</kind><date>20120228</date><lang>EN</lang></document-id><document-id mxw-id="PAPP220439925" load-source="docdb" format="original"><country>EP</country><doc-number>12705886.5</doc-number><date>20120228</date></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140557276" ucid="EP-2012053327-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>EP</country><doc-number>2012053327</doc-number><kind>W</kind><date>20120228</date></document-id></priority-claim><priority-claim mxw-id="PPC140555788" ucid="ES-201130264-A" load-source="docdb"><document-id format="epo"><country>ES</country><doc-number>201130264</doc-number><kind>A</kind><date>20110301</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL2093538388" load-source="docdb">H04W   4/04        20090101ALI20140627BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL2093541818" load-source="docdb">H04L  29/12        20060101AFI20140627BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-2081682618" load-source="docdb" scheme="CPC">H04W  80/085       20130101 LA20150323BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2081683885" load-source="docdb" scheme="CPC">H04L  61/1541      20130101 LI20150323BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2081683973" load-source="docdb" scheme="CPC">H04W  84/18        20130101 LA20150323BHEP        </classification-cpc><classification-cpc mxw-id="PCL2062882505" load-source="docdb" scheme="CPC">H04W   4/043       20130101 FI20140313BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132361559" lang="DE" load-source="patent-office">VERFAHREN ZUR BESTIMMUNG EINER UNBEKANNTEN ADRESSE EINES LOKALISIERUNGSSERVERS IN EINEM DRAHTLOSEN NETZWERK FÜR STANDORTABHÄNGIGE DIENSTE</invention-title><invention-title mxw-id="PT132361560" lang="EN" load-source="patent-office">METHOD FOR DETERMINING AN UNKOWN ADDRESS OF A LOCATION SERVER IN A WIRELESS NETWORK OFFERING LOCATION-BASED SERVICES</invention-title><invention-title mxw-id="PT132361561" lang="FR" load-source="patent-office">MÉTHODE DE DÉTERMINATION D'UNE ADRESSE INCONNUE DE SERVEUR DE LOCALISATION DANS UN RÉSEAU SANS FIL PROPOSANT DES SERVICES BASÉS SUR LA LOCALISATION</invention-title><citations><non-patent-citations><nplcit><text>See references of WO 2012116972A1</text><sources><source mxw-id="PNPL67455633" load-source="docdb" name="SEA"/></sources></nplcit></non-patent-citations></citations></technical-data><parties><applicants><applicant mxw-id="PPAR919525211" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>TELEFONICA SA</last-name><address><country>ES</country></address></addressbook></applicant><applicant mxw-id="PPAR919537630" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>TELEFONICA, S.A.</last-name></addressbook></applicant><applicant mxw-id="PPAR919015637" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Telefónica, S.A.</last-name><iid>100234141</iid><address><street>Gran Via, 28</street><city>28013 Madrid</city><country>ES</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR919529548" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>MARTINEZ OLANO DEMETRIO</last-name><address><country>ES</country></address></addressbook></inventor><inventor mxw-id="PPAR919516717" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>MARTINEZ OLANO, DEMETRIO</last-name></addressbook></inventor><inventor mxw-id="PPAR919009784" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>MARTÍNEZ OLANO, Demetrio</last-name><address><street>Gran Vía 28</street><city>E-28013 Madrid</city><country>ES</country></address></addressbook></inventor><inventor mxw-id="PPAR919535058" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>JIMENEZ HOLGADO JOSE ANTONIO</last-name><address><country>ES</country></address></addressbook></inventor><inventor mxw-id="PPAR919516574" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>JIMENEZ HOLGADO, JOSE ANTONIO</last-name></addressbook></inventor><inventor mxw-id="PPAR919016503" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>JIMÉNEZ HOLGADO, José Antonio</last-name><address><street>Gran Vía 28</street><city>E-28013 Madrid</city><country>ES</country></address></addressbook></inventor><inventor mxw-id="PPAR919510136" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>SORRIBAS MOLLON RAFAEL</last-name><address><country>ES</country></address></addressbook></inventor><inventor mxw-id="PPAR919533074" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>SORRIBAS MOLLON, RAFAEL</last-name></addressbook></inventor><inventor mxw-id="PPAR919015408" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>SORRIBAS MOLLÓN, Rafael</last-name><address><street>Gran Vía 28</street><city>E-28013 Madrid</city><country>ES</country></address></addressbook></inventor><inventor mxw-id="PPAR919506354" load-source="docdb" sequence="4" format="epo"><addressbook><last-name>VALLECILLO ALVAREZ MARIA DOLORES</last-name><address><country>ES</country></address></addressbook></inventor><inventor mxw-id="PPAR919526090" load-source="docdb" sequence="4" format="intermediate"><addressbook><last-name>VALLECILLO ALVAREZ, MARIA DOLORES</last-name></addressbook></inventor><inventor mxw-id="PPAR919017945" load-source="patent-office" sequence="4" format="original"><addressbook><last-name>VALLECILLO ÁLVAREZ, María Dolores</last-name><address><street>Gran Vía 28</street><city>E-28013 Madrid</city><country>ES</country></address></addressbook></inventor><inventor mxw-id="PPAR919527442" load-source="docdb" sequence="5" format="epo"><addressbook><last-name>ISCAR BAUTISTA DAVID</last-name><address><country>ES</country></address></addressbook></inventor><inventor mxw-id="PPAR919510736" load-source="docdb" sequence="5" format="intermediate"><addressbook><last-name>ISCAR BAUTISTA, David</last-name></addressbook></inventor><inventor mxw-id="PPAR919017934" load-source="patent-office" sequence="5" format="original"><addressbook><last-name>ISCAR BAUTISTA, David</last-name><address><street>Gran Vía 28</street><city>E-28013 Madrid</city><country>ES</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR919014702" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Carlos Hernando, Borja</last-name><iid>101409919</iid><address><street>GARRIGUES IP, S.L.P. Hermosilla, 3</street><city>28001 Madrid</city><country>ES</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="EP-2012053327-W"><document-id><country>EP</country><doc-number>2012053327</doc-number><kind>W</kind><date>20120228</date><lang>EN</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2012116972-A1"><document-id><country>WO</country><doc-number>2012116972</doc-number><kind>A1</kind><date>20120907</date><lang>EN</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS549827689" load-source="docdb">AL</country><country mxw-id="DS549751446" load-source="docdb">AT</country><country mxw-id="DS549822583" load-source="docdb">BE</country><country mxw-id="DS549831305" load-source="docdb">BG</country><country mxw-id="DS549828076" load-source="docdb">CH</country><country mxw-id="DS549822584" load-source="docdb">CY</country><country mxw-id="DS549750243" load-source="docdb">CZ</country><country mxw-id="DS549827694" load-source="docdb">DE</country><country mxw-id="DS549822585" load-source="docdb">DK</country><country mxw-id="DS549822598" load-source="docdb">EE</country><country mxw-id="DS549911094" load-source="docdb">ES</country><country mxw-id="DS549831310" load-source="docdb">FI</country><country mxw-id="DS549831311" load-source="docdb">FR</country><country mxw-id="DS549827695" load-source="docdb">GB</country><country mxw-id="DS549822599" load-source="docdb">GR</country><country mxw-id="DS549827696" load-source="docdb">HR</country><country mxw-id="DS549750244" load-source="docdb">HU</country><country mxw-id="DS549828077" load-source="docdb">IE</country><country mxw-id="DS549822600" load-source="docdb">IS</country><country mxw-id="DS549831312" load-source="docdb">IT</country><country mxw-id="DS549822601" load-source="docdb">LI</country><country mxw-id="DS549827697" load-source="docdb">LT</country><country mxw-id="DS549751447" load-source="docdb">LU</country><country mxw-id="DS549831313" load-source="docdb">LV</country><country mxw-id="DS549831318" load-source="docdb">MC</country><country mxw-id="DS549751448" load-source="docdb">MK</country><country mxw-id="DS549751457" load-source="docdb">MT</country><country mxw-id="DS549831319" load-source="docdb">NL</country><country mxw-id="DS549828094" load-source="docdb">NO</country><country mxw-id="DS549831320" load-source="docdb">PL</country><country mxw-id="DS549911095" load-source="docdb">PT</country><country mxw-id="DS549827702" load-source="docdb">RO</country><country mxw-id="DS549911096" load-source="docdb">RS</country><country mxw-id="DS549831321" load-source="docdb">SE</country><country mxw-id="DS549754302" load-source="docdb">SI</country><country mxw-id="DS549828095" load-source="docdb">SK</country><country mxw-id="DS549828096" load-source="docdb">SM</country><country mxw-id="DS549822606" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data><office-specific-data><eptags><ep-no-a-document-published>*</ep-no-a-document-published></eptags></office-specific-data></bibliographic-data><abstract mxw-id="PA99836332" ref-ucid="WO-2012116972-A1" lang="EN" load-source="patent-office"><p num="0000">Method for mobile location in a wireless network offering location-based services It comprises: - defining and managing an indoor area sensitive to the movements of user mobile processing devices, - detecting events that occur automatically when a user mobile processing device interacts with said indoor defined area; and - using a location server for locating said user mobile processing device based on programmed triggers and/or on triggers associated to the detected events. The method further comprises, when the location server has an unknown address or when a new location server needs to be used, determining the unknown address of the location server or the address of the new location server by collecting and exchanging parameters relating thereto between the user mobile processing device and the location server or the new location server.</p></abstract><abstract mxw-id="PA100332104" ref-ucid="WO-2012116972-A1" lang="EN" source="national office" load-source="docdb"><p>Method for mobile location in a wireless network offering location-based services It comprises: - defining and managing an indoor area sensitive to the movements of user mobile processing devices, - detecting events that occur automatically when a user mobile processing device interacts with said indoor defined area; and - using a location server for locating said user mobile processing device based on programmed triggers and/or on triggers associated to the detected events. The method further comprises, when the location server has an unknown address or when a new location server needs to be used, determining the unknown address of the location server or the address of the new location server by collecting and exchanging parameters relating thereto between the user mobile processing device and the location server or the new location server.</p></abstract><abstract mxw-id="PA99836333" ref-ucid="WO-2012116972-A1" lang="FR" load-source="patent-office"><p num="0000">L'invention porte sur une méthode de localisation de téléphones mobiles dans un réseau sans fil proposant des services basés sur la localisation. Cette méthode consiste : à définir et à gérer une zone à l' intérieur sensible aux déplacements de dispositifs de traitement de téléphones mobiles d'utilisateurs; à détecter des événements qui se produisent automatiquement lorsqu'un dispositif de traitement de téléphone mobile d'utilisateur interagit avec ladite zone définie à l'intérieur; et à utiliser un serveur de localisation afin de localiser ledit dispositif de traitement de téléphone mobile d'utilisateur en fonction de déclencheurs programmés et/ou de déclencheurs associés aux événements détectés. Ladite méthode consiste en outre, lorsque le serveur de localisation a une adresse inconnue ou lorsqu'un nouveau serveur de localisation doit être utilisé, à déterminer l'adresse inconnue du serveur de localisation ou l'adresse du nouveau serveur de localisation par la collecte et l'échange de paramètres s'y rapportant entre le dispositif de traitement de téléphone mobile d'utilisateur et le serveur de localisation ou le nouveau serveur de localisation.</p></abstract><abstract mxw-id="PA100332105" ref-ucid="WO-2012116972-A1" lang="FR" source="national office" load-source="docdb"><p>L'invention porte sur une méthode de localisation de téléphones mobiles dans un réseau sans fil proposant des services basés sur la localisation. Cette méthode consiste : à définir et à gérer une zone à l' intérieur sensible aux déplacements de dispositifs de traitement de téléphones mobiles d'utilisateurs; à détecter des événements qui se produisent automatiquement lorsqu'un dispositif de traitement de téléphone mobile d'utilisateur interagit avec ladite zone définie à l'intérieur; et à utiliser un serveur de localisation afin de localiser ledit dispositif de traitement de téléphone mobile d'utilisateur en fonction de déclencheurs programmés et/ou de déclencheurs associés aux événements détectés. Ladite méthode consiste en outre, lorsque le serveur de localisation a une adresse inconnue ou lorsqu'un nouveau serveur de localisation doit être utilisé, à déterminer l'adresse inconnue du serveur de localisation ou l'adresse du nouveau serveur de localisation par la collecte et l'échange de paramètres s'y rapportant entre le dispositif de traitement de téléphone mobile d'utilisateur et le serveur de localisation ou le nouveau serveur de localisation.</p></abstract><description mxw-id="PDES51233259" ref-ucid="WO-2012116972-A1" lang="EN" load-source="patent-office"><!-- EPO <DP n="2"/>--><p id="p0001" num="0001"> METHOD FOR DETERMINING AN UNKOWN ADDRESS OF A LOCATION SERVER IN A WIRELESS NETWORK OFFERING LOCATION-BASED SERVICES </p><p id="p0002" num="0002">Field of the art </p><p id="p0003" num="0003"> The present invention generally relates to a method for mobile location in a wireless network offering location-based services, comprising using a location server for locating a user mobile processing device based on specific triggers, and more particularly to a method providing said mobile location when the location server has an unknown address or when a new location server needs to be used. Prior State of the Art </p><p id="p0004" num="0004"> Location-based services (LBS) have had an important increase in the recent years as a consequence of the popularisation of devices based on GPS (Global</p><p id="p0005" num="0005">Positioning System) positioning. These GPS devices, or more generically GNSS (Global</p><p id="p0006" num="0006">Navigation Satellite System) which includes other navigation satellite systems as Galileo, Glonass, etc., have been applied to very different fields and purposes. Their diffusion among the mass market was firstly started by the navigation systems for vehicles (PND -Portable Navigation Device-). </p><p id="p0007" num="0007"> In addition to the satellite system-based positioning, it is possible to obtain the location of a user or device by other technologies: </p><p id="p0008" num="0008"> - Mobile network-based positioning: for mobile devices connected to operator cellular networks, either on GSM (2G), UMTS (3G) or LTE (Long Term Evolution) technologies. </p><p id="p0009" num="0009"> - Wireless network-based positioning: for devices connected to WiFi networks, UWB (Ultra Wide Band), etc. </p><p id="p0010" num="0010"> - I P-based positioning: Generic mechanism aiming to locate a device connected to any IP network such as the Internet. </p><p id="p0011" num="0011"> - Positioning based on sensors and radio-frequency technologies, such as RFID (Radio-Frequency Identification). </p><p id="p0012" num="0012"> In the last years, the main application area for LBS has extended beyond the first applications for navigation or guidance through streets/roads, emerging a wide variety of uses and applications. </p><p id="p0013" num="0013"> The most "traditional" and typical location technology within location services or platforms is that based on satellite networks (GPS, Galileo, etc.). These technologies have the main advantage of a very precise estimation of the position, which accuracy range may be between 3 and 20 meters, depending on the exact conditions and the positioning system (satellite network) employed. However, this satellite technology has 
<!-- EPO <DP n="3"/>-->
 as one of its greatest disadvantages the need of being outdoors (or near a window) so the signals from the satellites can be captured by the receiver. This presents many difficulties when trying to obtain the location of people or mobile terminals in different environments (which combine both open and enclosed spaces indoors). For these indoor environments, it is necessary to seek other positioning technologies that can be used in all circumstances, regardless of the environment. It is in these cases when positioning solutions based on mobile network (GSM, UMTS, LTE, ...), or in general any wireless network (WiFi, WiMax, UWB, ...), show their advantages. </p><p id="p0014" num="0014"> For location in indoor environments, the simplest solution is using the traditional operator global networks, which are deployed over a large area (such as an entire country), interconnecting the various antennas or base stations and forming a mesh or grid of cells that can discern the user's position depending on the base stations which the user is connected to or covered by. This technology, which works relatively well, has the problem that the precision is rather small, since the estimation of the position is based on the cells defined by the base stations (and more specifically the distance between these base stations) and there may be cases where the size of these cells is too large (even several kilometres), so the accuracy of the estimate may be too low. Although there are improvements and refinements to the cell-based location techniques, it is not possible to provide high accuracy in all environments. </p><p id="p0015" num="0015"> In situations where high precision is required in closed or indoor environments</p><p id="p0016" num="0016">(no GPS coverage), it is necessary to adopt newer and more precise technologies. In this case, the new mobile communication technologies such as Ultra Wide Band (UWB) allow greater accuracy and precision when used for the location of users or terminals. </p><p id="p0017" num="0017"> Sometimes the devised services or scenarios require the definition of geographic areas that are "sensitive" to the location of users or terminals, allowing the handling of automatic report events when users (with capacity of motion) interact with the defined area. Thus, it may be necessary for a particular application (as would be the management of alarms, access control to a compound, restriction of movement of individuals, etc.) to define a geographical area so that the system is able to detect, automatically and without user intervention, when someone gets in, comes out, remains inside or outside the zone. Upon any of these "events", the system must be able to receive some form of notification in order to proceed with the associated action or mechanism. </p><p id="p0018" num="0018"> In recent years, due to the growing popularity of location-based services, different standards and specifications have appeared in order to standardise and simplify the development of such services. These standards also are intended to give a 
<!-- EPO <DP n="4"/>-->
 comprehensive and universal framework for the unification of methods and implementations, allowing the interconnection and interoperability of various components or systems that may have been developed separately. </p><p id="p0019" num="0019"> Within the standardisation efforts, one of the main activities is the work of OMA (Open Mobile Alliance), which has sought to standardise the technologies and architectures used for the development and deployment of LBS services. </p><p id="p0020" num="0020"> With regard to service delivery architectures LBS, there are two main paradigms that have been used since the beginning of such services: </p><p id="p0021" num="0021"> - Control plane architectures: They use circuit-switched networks for data transmission and communication assistance in order to obtain the position of the terminals. These architectures have several characteristics: </p><p id="p0022" num="0022"> o Require updates to multiple network elements to handle standard protocols </p><p id="p0023" num="0023"> o Support for old or legacy terminals (except A-GPS) </p><p id="p0024" num="0024"> o Support location of emergency calls </p><p id="p0025" num="0025"> - User plane architectures: They use packet switching network and protocols (TCP / IP) for exchanging data and information needed to locate the terminals. Some of their most important features are: </p><p id="p0026" num="0026"> o Modification of network elements is not required </p><p id="p0027" num="0027"> o First versions of these architectures do not support location of emergency calls </p><p id="p0028" num="0028"> o They are easy to deploy (do not require updates on the elements of the operator network, with a consequent saving of resources) and allow for greater interoperability between components and applications developed by different parties. </p><p id="p0029" num="0029"> User plane architectures, because of their greater flexibility, interoperability, and lower cost of deployment, seem to have become the most popular choice in recent years for the development and deployment of location-based services, replacing control plane architectures, now considered obsolete (which is normal considering that their appearance was much earlier). </p><p id="p0030" num="0030"> With regard to the standards used on these architectures, the first standard to mention would be the MLP (Mobile Location Protocol), which emerged when the control plane architectures were the only one existing. The MLP is a protocol at application level in order to obtain the position of "mobile stations" (mobile telephones, PDAs, etc..) independently of the underlying network technology. MLP is the interface between a location server and a Localization Services (LCS) client. 
<!-- EPO <DP n="5"/>-->
 Another used standard is SUPL (Secure User Plane Location), which is a standard designed for using in user plane architectures, as its name indicates. It is, therefore, more up-to-date and attempts to resolve some of the problems presented by the standards initially oriented control plane. It is based on IP communications and interfaces for all communications, thereby eliminating the need to know the internal details of the underlying network. It was designed with some key goals in mind: </p><p id="p0031" num="0031"> - Make the A-GPS positioning compatible with existing networks, with minimum changes. </p><p id="p0032" num="0032"> - Supporting different location techniques (A-GPS, Galileo, wireless network, WiFi, etc.) transparently to the application developer. </p><p id="p0033" num="0033"> The SUPL standard is currently in version 2.0, which introduced new features and advantages over the original version. Some of the key improvements are: </p><p id="p0034" num="0034"> - Support of new technologies based on WiFi positioning and future developments (WiMax). </p><p id="p0035" num="0035"> - Support of the European navigation system Galileo. </p><p id="p0036" num="0036"> - Support UDP / IP and SIP Push communication (facilitating their integration into IMS architectures). </p><p id="p0037" num="0037"> - Support location of emergency calls (including emergency call in IMS networks). </p><p id="p0038" num="0038"> - New mechanisms for automatic location, through the use of "triggers" (triggers), which can be programmed on a regular basis, or when the user enters or leaves a certain area, etc... This feature opens a new range of applications, such as targeted advertising to a particular geographical area, generation of alarms when entering or leaving an area (for example, parental supervision or elderly) and warning of disasters in the case of being within the evacuation area. </p><p id="p0039" num="0039"> - Support for location requests from terminal to terminal (a mobile device requests the position of another terminal, without having to make the request to the location server). </p><p id="p0040" num="0040"> As shown from the above characteristics, the SUPL standard in the version 2.0 was the first to devise standardised mechanisms for defining and managing areas "sensitive" to the movements of users, so triggers may be associated to events that occur automatically when users interact with the (logical) area defined by the system. </p><p id="p0041" num="0041"> Many location-based services that are developed or deployed today follow "proprietary" architectures and technologies not compliant to standards. </p><p id="p0042" num="0042"> This situation is beginning to change with the widespread adoption of the OMA</p><p id="p0043" num="0043">SUPL standard, promoting user plane architectures that involve the use of networks and 
<!-- EPO <DP n="6"/>-->
 protocols in IP-based data. However, the SUPL 2.0 is still fairly recent and there are not many implementations available. This situation is even more evident in the client side, since there is no record of any mobile phone business (for example, between those that incorporate features of A-GPS), which incorporates a compatible client with SUPL 2.0. </p><p id="p0044" num="0044"> In any case, it is foreseeable that in the coming months / years SUPL 2.0 will gain commercial relevance and adoption. This popularity will lead to greater use and deployment of services that incorporate the new features of SUPL 2.0, among which we can cite the support for "sensitive" areas and automatic events associated with these areas. </p><p id="p0045" num="0045"> Although the SUPL 2.0 standard is about being "agnostic" or "transparent" to the location technology being used below (GPS, cell ID, WiFi, etc.), the fact is that the support of certain positioning technologies is not well covered in the standard, especially in the case of those technologies most recent appeared, such as the case of UWB (Ultra Wide Band). </p><p id="p0046" num="0046"> The SUPL 2.0 standard is lacking or does not cover some aspects of implementation that are necessary for the proper functioning of location-based services. To cite one example, when a terminal wishes to be contacted by A-GPS, it is necessary to know the (IP) "address" of the server that provides A-GPS assistance data in the location (list of visible satellites, almanac, etc.). Normally in these cases inflexible deployment solutions are chosen, such as statically setting the address of the A-GPS server in the configuration of the mobile phone, which means that the address is previously known, and this address will not change over time (the server will always be available). If you wish to change the A-GPS server, there is not a defined method to know the new address of the server. </p><p id="p0047" num="0047"> This problem may not be too frequent in the case of locations based on A-GPS, as it can be argued that the change of the A-GPS server is very unusual. However, in the case of other location technologies, such as those based on UWB networks, the issue is much more problematic. Similarly to what happened in the example above, when one wants to use a UWB-based location, he must have some form of contact with the UWB location server, which will be responsible for exchanging information with the terminal or mobile to locate. While in the case of A-GPS is only necessary to know the address of the A-GPS server, which could be global and available worldwide, in the case of UWB is not enough to have a "global" UWB location server, since UWB networks may be multiple and various, and each of them can be configured and deployed according to different criteria. Therefore, to allow a mobile terminal to be 
<!-- EPO <DP n="7"/>-->
 connected dynamically to different UWB networks, it is necessary a mechanism to find the address of the location server which is operating in each UWB network. </p><p id="p0048" num="0048">Description of the Invention </p><p id="p0049" num="0049"> It is necessary to offer an alternative to the state of the art which covers the gaps found therein, particularly those related to the lack of methods or mechanisms for finding the address of the location server which is operating in each UWB network or other kind of networks. </p><p id="p0050" num="0050"> To that end, the present invention provides a method for mobile location in a wireless network offering location-based services, comprising: </p><p id="p0051" num="0051"> - defining and managing at least one indoor area sensitive to the movements of user mobile processing devices, </p><p id="p0052" num="0052"> - detecting events that occur automatically when a user mobile processing device interacts with said at least one indoor defined area; and </p><p id="p0053" num="0053"> - using a location server for locating said user mobile processing device based on at least programmed triggers and/or on triggers associated to said detected events. </p><p id="p0054" num="0054"> The method of the invention further comprises, in a characteristic manner, when said location server has an unknown address or when a new location server needs to be used, determining said unknown address of said location server or the address of said new location server by collecting and exchanging parameters relating thereto between said user mobile processing device and at least said location server or at least said new location server. </p><p id="p0055" num="0055"> Other embodiments of the invention are described in appended claims 3 to 9, and in a subsequent section related to the detailed description of several embodiments. </p><p id="p0056" num="0056"> The present invention focuses on the type of functionality related to services that require the definition of sensitive areas on the movement of users, and their development using techniques and heterogeneous networks such as GSM, UMTS, UWB, using OMA standards. </p><p id="p0057" num="0057"> The solution provided by the present invention is a method or mechanism that allows the collection and exchange of parameters relating to the location server in UWB networks, or other wireless networks that can be deployed in accordance with proprietary or non-standard schemes. However, although UWB networks (or others) may be organized in a private or proprietary scheme, the mechanism is based on the exchange of messages conforming to standards (MLP and ULP which is the standard protocol defined by the SUPL). 
<!-- EPO <DP n="8"/>-->
 The method of the present invention focuses on the specific case of a tracking service using areas "sensitive" to associated events or notifications that are triggered automatically when the user enters, leaves, remains within or outside the area. These zones are typically associated with closed environments (indoors) where the use of techniques such as GPS is not possible, and where the use of cellular network positioning (Cell-ID and similar) may be insufficient for its poor accuracy. </p><p id="p0058" num="0058"> The invention described herein is a mechanism or method designed primarily for application in the field of location-based services, and more specifically for the implementation of geographical areas that are sensitive to events triggered when a user (or terminal) performs a specific action in relation to the area (either enter or leave, or stay inside / outside). </p><p id="p0059" num="0059"> The mechanism allows the deployment of location technologies based on UWB networks (or other similar networks not subject to uniformity, as in the case of carrier networks such as GSM or UMTS). UWB networks that allow the location of the devices connected to them may have architectures deployed under proprietary schemes not subject to standards, but the mechanism will allow the location by using standard-based messages. This is achieved through the exchange of additional messages, not included in the logical flow of the method or standard in order to obtain parameters required for the use or invocation of proprietary UWB networks. </p><p id="p0060" num="0060"> In particular, the key method is based on obtaining the details of the location server located in the UWB network, which will be responsible of performing effectively the location of the terminal leveraging on the measures (power, signal...) received by other components of the UWB network. In principle, the details of this server's interfaces and location are unknown to the client, so the method described here can use these location techniques flexibly and dynamically, without coding or statically including the details of the UWB location server (since the terminal can be connected to different networks, UWB and details of each network may be different). </p><p id="p0061" num="0061"> In order to use solutions as close to existing standards as possible, for some embodiments, the solution provided by the method of the invention uses a combination of messages specified by the standard MLP and SUPL (through its protocol ULP) of OMA, but extending these messages, the number of them, and their contents so that they can be used for other purposes not foreseen in the standard, as it is obtaining data servers deployed in a web site owner. </p><p id="p0062" num="0062"> As mentioned above, the main innovative element is the design of a mechanism that allows a mobile to be located in different networks (UWB), without prior knowledge of the internals and architecture of these networks, and that the designed mechanisms 
<!-- EPO <DP n="9"/>-->
 are based on the use of messages whose format is defined by existing standards, which are extended or expanded to the new aim. Thus, it is possible to develop applications that support existing standards (such as SUPL 2.0) that can be used in environments not covered by current standards. </p><p id="p0063" num="0063"> An extension of the SUPL 2.0 standard could be done to include the new messages and parameters described in the method of the invention, so that the mechanism could become part of the standard. </p><p id="p0064" num="0064">Brief Description of the Drawings </p><p id="p0065" num="0065"> The previous and other advantages and features will be more fully understood from the following detailed description of embodiments, with reference to the attached drawings, which must be considered in an illustrative and non-limiting manner, in which: </p><p id="p0066" num="0066"> Figure 1 shows the conceptual architecture involved in the system where the method of the invention is applied, for an embodiment; </p><p id="p0067" num="0067"> Figure 2 shows the sequence diagram with the message exchange among the different components of the system of Figure 1 , according to an embodiment of the method of the invention; and </p><p id="p0068" num="0068"> Figure 3 shows a flow diagram of the method of the invention for an embodiment. Detailed Description of Several Embodiments </p><p id="p0069" num="0069"> The method of the invention is described in the present section using as a practical example an implementation of a system for "sensitive" or "active" zones, devised for indoor location through Ultra Wide Band networks (UWB) using the SUPL 2.0 standard. The conceptual architecture involved in the system is shown in Figure 1 , for an embodiment. For other embodiments, the mechanism or method can be also applied to other networks or mechanisms different to UWB (as might be those based on Bluetooth, ZigBee, etc.) if they share a similar logical structure (there is a central network server managing the location of the connected devices or sensors). </p><p id="p0070" num="0070"> Next, with reference to Figures 2 and 3, the different steps performed according to the method of the invention for the embodiment there illustrated are described: </p><p id="p0071" num="0071"> - In the first step, the control centre (or management centre) starts a trigger session (automatic events or triggers), indicating its area name and the URL where it will serve the requests and will listen to the events associated with the trigger being configured. This information is sent to the location server based on SUPL 2.0, which will communicate with mobile clients that are associated to events and "sensitive" geographical areas. 
<!-- EPO <DP n="10"/>-->
 - In the second step, the SUPL 2.0 server sends and invitation to the mobile terminal to start a location session. This is done by a WAP Push type message (client does not have to make any action or being expressly waiting for this message to react)</p><p id="p0072" num="0072">- Third step would consist of the response of the client confirming the invitation to start the session. This is done by sending a "SUPL Triggered Start" message to the</p><p id="p0073" num="0073">SUPL 2.0 server. </p><p id="p0074" num="0074"> - The next step consists of the SUPL server responding to the client's Start message and confirming the request by a "SUPL Triggered Response" message, indicating in the message the name of the sensitive area being configured for the event notification service. </p><p id="p0075" num="0075"> - Then, the terminal sends a SLIR-MLP message, with the received area identifier, to the SUPL 2.0 server, requesting the area information. This area information will be necessary so that the terminal can communicate with the UWB location server, and it is one of the key and innovative parts of the invention, since the configuration details for the UWB network are "proprietary" and may vary in different networks. The SLIR-MLP message to be sent will contain the area identifier (IdZone) in the structure: </p><p id="p0076" num="0076"> &lt;msids&gt;&lt;msid type="OPE_ID" enc="ASC"&gt;ldZone&lt;/msid&gt;&lt;/msids&gt; </p><p id="p0077" num="0077"> - In the next step, the SUPL server forwards the received question to the control centre (or management centre) in a similar way as for step 5. This way, the control centre will be actually in charge of providing the information and details on the area and UWB network. </p><p id="p0078" num="0078"> - In step number 7, the management centre responds to the SUPL server with a SLIA message containing three key parameters, coded in "position" format: </p><p id="p0079" num="0079"> o Information corresponding to the Access point of the UWB server (lp:Port). </p><p id="p0080" num="0080"> o Information corresponding to the geometry of the "sensitive" area, coded in "position" format, </p><p id="p0081" num="0081"> o Position of the coordinates' origin of the "sensitive" area. The necessity of the area's coordinate origin is due to the fact that the existing</p><p id="p0082" num="0082">UWB location solutions are proprietary, and it may happen that the UWB location server estimates the terminal position as an offset from an origin position (that can be the UWB server's position). It is necessary to know that "reference position" (within the UWB network) to be capable of translating the location of the terminal with respect to that reference into absolute coordinates. In the case that the UWB location server handles absolute coordinates when estimating the position of the terminal, this second 
<!-- EPO <DP n="11"/>-->
 parameter on coordinate origin would not be required. The SLIA-MLP that is sent will contain this key information in the following message fields: </p><p id="p0083" num="0083"> 1.- Information about the UWB Server: </p><p id="p0084" num="0084"> &lt;pos&gt;&lt;msid type="OPE_ID"&gt;21.0.0.40:80&lt;/msid&gt;&lt;pd&gt;&lt;time/&gt; </p><p id="p0085" num="0085"> 2.- Information about the sensitive area: </p><p id="p0086" num="0086"> &lt;shape&gt;&lt;Polygon&gt; </p><p id="p0087" num="0087"> &lt;coord&gt;&lt;X&gt;40.4472244303131 &lt;/X&gt;&lt;Y&gt;-3.654572159118988&lt;/Y&gt;&lt;/coord&gt; &lt;coord&gt;&lt;X&gt;40.44735180298813&lt;/X&gt;&lt;Y&gt;-3.6546192583396593&lt;/Y&gt;&lt;/coord&gt; &lt;coord&gt;&lt;X&gt;40.44746659389722&lt;/X&gt;&lt;Y&gt;-3.6543088237942047&lt;/Y&gt;&lt;/coord&gt; &lt;coord&gt;&lt;X&gt;40.44733922122219&lt;/X&gt;&lt;Y&gt;-3.6542617245735336&lt;/Y&gt;&lt;/coord&gt; &lt;/Polygon&gt;&lt;/shape&gt; </p><p id="p0088" num="0088"> 3.- Position of the Coordinate origin: </p><p id="p0089" num="0089"> &lt;msid type="OPE_l D"&gt;origin@area&lt;/msid&gt; </p><p id="p0090" num="0090"> &lt;shape&gt;&lt;Point&gt; </p><p id="p0091" num="0091"> &lt;coord&gt;&lt;X&gt;40.447224&lt;/X&gt;&lt;Y&gt;-3.654572&lt;/Y&gt;&lt;/coord&gt; </p><p id="p0092" num="0092"> &lt;/Point&gt;&lt;/shape&gt; </p><p id="p0093" num="0093"> - In the next step, the SUPL server sends the sensitive zone information to the terminal, thus allowing the terminal to communicate and being located by the UWB server. </p><p id="p0094" num="0094"> - Once the terminal has this information, the terminal, in order to obtain its own position via UWB, sends a SLIR-MLP message to the SUPL 2.0 server, with the MSISDN info for the terminal and the UWB server. The SLIR-MLP message to be sent will have this structure: </p><p id="p0095" num="0095"> &lt;msid type="OPE_ID" enc="ASC"&gt;0034600123456@21.0.0.40:80&lt;/msid&gt; - The SUPL 2.0 server, once it has obtained the UWB identifier or tag associated to the mobile requesting the location, sends the request to the UWB server, which will be responsible for the estimation of the position of the mobile (as an offset from the coordinate origin) . </p><p id="p0096" num="0096"> - The next two steps (11 and 12) consist of the information exchange between the mobile terminal and the UWB server so the server can estimate the (relative) position of the mobile terminal using the UWB technology. </p><p id="p0097" num="0097"> - The UWB server sends the estimated location to the SUPL 2.0 server. </p><p id="p0098" num="0098"> - The SUPL 2.0 server sends the estimated UWB location to the requesting terminal via a SLIA-MLP message, so the mobile device can use or forward (to the terminal itself, to the management centre, etc.) this info later. This way it is possible to handle the events needed in the case that the mobile has "triggered" any of the actions 
<!-- EPO <DP n="12"/>-->
 (leaving, entering, staying inside/outside) associated to the sensitive area. If the UWB location node handles "relative" positions (referenced to a coordinate origin or its own position), the SUPL 2.0 server must perform the coordinate translation into absolute coordinates, so that the terminal may perform any operation or comparison in an efficient way. The SLIA-MLP message to be sent will contain the info according to the following structure: </p><p id="p0099" num="0099"> 1. MSISDN info and UWB area requested in the SLIR-MLP message: </p><p id="p0100" num="0100"> &lt;msid type="OPE_ID"&gt;0034600123456@21.0.0.40:80&lt;/msid&gt; </p><p id="p0101" num="0101"> 2. Location in the UWB area requested: </p><p id="p0102" num="0102"> &lt;shape&gt;&lt;Point srsName="www.epsg.org#4326"&gt; </p><p id="p0103" num="0103"> &lt;coord&gt;&lt;X&gt;40.4619399624&lt;/X&gt;&lt;Y&gt;-3.811 15094836&lt;/Y&gt;&lt;/coord&gt; </p><p id="p0104" num="0104"> &lt;/Point&gt;&lt;/shape&gt; </p><p id="p0105" num="0105">In order to illustrate the described mechanism three possible use cases are next described: </p><p id="p0106" num="0106">- Mobile advertising in shopping malls: </p><p id="p0107" num="0107"> One of the most popular location-based services since the dawn of these technologies has been the location-based advertising. In such services, the user may receive, automatically, advertising messages or other information that could be of some interest (such as discount coupons, special offers, etc..) when they are near a certain shop or a specific area. </p><p id="p0108" num="0108"> This scenario is especially attractive in malls, where users walk through spaces that make up many shops or other services. Thus, when the user is walking through the mall, it is possible to display in the phone interesting information on stores that are in the area, which could be seen as a complement to the simple shop window. </p><p id="p0109" num="0109"> But these scenarios are a technological challenge, since the majority of the malls are indoors, where precise GPS location (or satellite-based systems) is not possible. The alternative is the use of mobile network-based location (Cell-ID or variations/improvements), but in any case it is not possible to offer high accuracy allowing to know precisely the exact position of the user within the shopping centre. In addition, these solutions would not give information on the height at which the user is, what can be essential when you are in a mall with multiple floors. </p><p id="p0110" num="0110"> The use of UWB-based location technology may be a perfect solution for these cases, since it allows fast and accurate location of the terminals in indoor environments. 
<!-- EPO <DP n="13"/>-->
 By using standard protocols as described by the SUPL 2.0 standard, it would be possible to define geographic areas that would be sensitive to movements of the user, so that the information or advertising messages would be launched and received automatically as the user moves inside the mall. </p><p id="p0111" num="0111"> However, this solution currently presents the problem that UWB networks are deployed following proprietary schemes (especially as regards the location components for these networks), so this solution would not work for shoppers without previous relationship with the mall, because the details of the UWB network are unknown. </p><p id="p0112" num="0112"> With the solution proposed in this document, it would be possible for any user or terminal (without prior knowledge of the details of the UWB network) to be located, and thus "interact" with geographical areas defined by the platform location. </p><p id="p0113" num="0113">- Management of security alarms: </p><p id="p0114" num="0114"> There are geographical areas that should be supervised in the sense of controlling all access to the area by people. For example, this could be the case of safety facilities, military zones, or in general, any area where it is necessary to control every time a person enters or leaves. </p><p id="p0115" num="0115"> In these cases, it is possible to define a sensitive area, regardless of whether they are indoor environments or outdoors, and deploy accurate location mechanisms (as may be based on UWB technologies or similar) so that anyone entering (or leaving) the area gives rise to an alarm event to be received by an alert management centre that will proceed accordingly. </p><p id="p0116" num="0116"> With the method described in this document, it is possible to define these areas and the associated events in a flexible and interoperable way, regardless of whether they are open areas or closed, and regardless of whether the underlying location technology will be for GPS, mobile network positioning, UWB, etc. All management, as well as the activation and reception of events is done automatically without the user having to take any action, and without the operator of the management centre has to ask the state at all times, thereby establishing a secure and automatic monitoring of areas. </p><p id="p0117" num="0117">- Tracking/vigilance of individuals with restricted mobility: </p><p id="p0118" num="0118"> A case that could be similar to one described above is the case of users who, for some reason, have restrictions in their geographical mobility. This may be the case of persons on parole or probation, or the performance of restraining orders in cases of domestic abusers. Other possible cases would be for dependents or people with lack of 
<!-- EPO <DP n="14"/>-->
 orientation or Alzheimer's diseases or, for family members or caregivers who wish to establish "safe" areas and receive notifications if these people leave these areas. </p><p id="p0119" num="0119"> In these cases, the method would be similar to that described above, since it would define the area or areas that are considered sensitive, and the events that will result in notifications (either by entering the area, by leaving it, by staying out it for some time, etc.). Once the areas, events, and associated actions have been defined, the mechanism described here would be functional regardless of whether they can be mixed-type areas (both indoor and outdoor) and with different location technologies (GPS, mobile network, WLAN, UWB). This is a very important aspect against solutions where a single location technology is employed, which may restrict the coverage or area where the location will be operational. </p><p id="p0120" num="0120">Some of the main advantages of the method of the invention are: </p><p id="p0121" num="0121"> - The mechanism described here is based on the use of messages in accordance with standards (primarily MLP and ULP), although the number of messages and the information exchanged have been extended to support new functions. In this way, it is not necessary to specify new standards or messages using formats that may vary. </p><p id="p0122" num="0122"> - The mechanism described here works for satellite-based positioning technologies (GPS / Galileo, and A-GPS) mobile network-based location, UWB, WiFi, etc. </p><p id="p0123" num="0123"> - As an "open" mechanism, any new location technology that may arise in the future could be also used, as the logical scheme of operation is generic and only requires that the "location network" has an interface to the terminals to be located. </p><p id="p0124" num="0124"> - It allows schemes of operation based on "sensitive areas" regardless the user may change the network or connection technologies, since it is not necessary to know the deployment details of for each network. </p><p id="p0125" num="0125"> - The location mechanism allows that the UWB (or analogue) location network may either handle absolute coordinates internally or locate the mobile terminals with respect to a coordinates' origin within the network. </p><p id="p0126" num="0126"> The improvements against existing problems and the innovative aspects of the method of the invention are the following: </p><p id="p0127" num="0127"> - Current systems allow the definition of sensitive areas for events, but problems occur when these areas include indoor areas, since the GPS location is not possible and the mobile network positioning is imprecise. With the exposed method it is possible to 
<!-- EPO <DP n="15"/>-->
 have precise location at indoors (by UWB), additionally to other technologies already existing. </p><p id="p0128" num="0128"> - The main innovation and improvement over existing technology is the fact that it is not necessary to know the internals of the deployment of the UWB network to estimate the location. Currently, and for the example case of A-GPS, the mobile device needs to know, somehow, the address of the A-GPS server to connect to. This can be done (now) by static coding the server address in a mobile configuration file, but this solution is unwieldy, and is only valid for global positioning technology such as GPS (as the mobile device only needs to know a single A-GPS server, globally available). However, in the case of network location and UWB, the same phone can be connected to different networks and it is not enough with knowing a single location server (since each network will have its own network server), so using a static and permanent address is not possible. It is necessary to have a mechanism so that the mobile terminal may find out, dynamically, the required parameters for each UWB network. </p><p id="p0129" num="0129"> - The described solution can be proposed for inclusion in existing standards as an extension, so it is not necessary to specify new standards, making the already existing or developed applications to stop working. Thus, all existing applications will continue to function (with the characteristics and limitations for which they were designed), but new applications may arise taking advantage of the benefits provided by the new mechanism. </p><p id="p0130" num="0130">A person skilled in the art could introduce changes and modifications in the embodiments described without departing from the scope of the invention as it is defined in the attached claims. 
<!-- EPO <DP n="16"/>-->
</p><p id="p0131" num="0131">ACRONYMS AND ABBREVIATIONS </p><p id="p0132" num="0132">A-GPS Assisted GPS </p><p id="p0133" num="0133"> Cell-ID Cell Identification </p><p id="p0134" num="0134"> GNSS Global Navigation Satellite System </p><p id="p0135" num="0135"> GPS Global Positioning System </p><p id="p0136" num="0136"> GSM Global System for Mobile Communications</p><p id="p0137" num="0137">IMS IP Multimedia Subsystem </p><p id="p0138" num="0138"> IP Internet Protocol </p><p id="p0139" num="0139"> LBS Location-based Services </p><p id="p0140" num="0140"> LTE Long Term Evolution </p><p id="p0141" num="0141"> MLP Mobile Location Protocol </p><p id="p0142" num="0142"> PC Personal Computer </p><p id="p0143" num="0143"> PDA Personal Digital Assistant </p><p id="p0144" num="0144"> PND Personal Navigation Device </p><p id="p0145" num="0145"> RFID Radio-frequency identification </p><p id="p0146" num="0146"> SIP Session Initiation Protocol </p><p id="p0147" num="0147"> SUA Standard Location Immediate Answer</p><p id="p0148" num="0148">SLI R Standard Location Immediate Request</p><p id="p0149" num="0149">SUPL Secure User Plane Location </p><p id="p0150" num="0150"> TCP Transmission Control Protocol </p><p id="p0151" num="0151"> UDP User Datagram Protocol </p><p id="p0152" num="0152"> ULP User Plane Location Protocol </p><p id="p0153" num="0153"> UMTS Universal Mobile Telecommunications System</p><p id="p0154" num="0154">UWB Ultra Wide Band </p><p id="p0155" num="0155"> WAP Wireless Application Protocol </p><p id="p0156" num="0156">REFERENCES </p><p id="p0157" num="0157">OMA http://www.openmobilealliance.org 
</p></description><claims mxw-id="PCLM44852431" ref-ucid="WO-2012116972-A1" lang="EN" load-source="patent-office"><claim-statement><!-- EPO <DP n="17"/>--> CLAIMS </claim-statement><claim id="clm-0001" num="1"><claim-text>1. - Method for mobile location in a wireless network offering location-based services, comprising: </claim-text><claim-text> - defining and managing at least one indoor area sensitive to the movements of user mobile processing devices, </claim-text><claim-text> - detecting events that occur automatically when a user mobile processing device interacts with said at least one indoor defined area; and </claim-text><claim-text> - using a location server for locating said user mobile processing device based on at least programmed triggers and/or on triggers associated to said detected events, wherein the method is characterised in that it comprises, when said location server has an unknown address or when a new location server needs to be used, determining said unknown address of said location server or the address of said new location server by collecting and exchanging parameters relating thereto between said user mobile processing device and at least said location server or at least said new location server. </claim-text></claim><claim id="clm-0002" num="2"><claim-text> 2. - Method as per claim 1 , wherein said collected and exchanged parameters are in the form of standard-based messages. </claim-text></claim><claim id="clm-0003" num="3"><claim-text> 3. - Method as per claim 2, wherein said exchanged messages comprise messages specified by the standard MLP and messages specified by the standard</claim-text><claim-text>SUPL, through its protocol ULP, of OMA. </claim-text></claim><claim id="clm-0004" num="4"><claim-text> 4. - Method as per claim 2 or 3, wherein said wireless network has architectures deployed under proprietary schemes not subject to standards. </claim-text></claim><claim id="clm-0005" num="5"><claim-text> 5. - Method as per any of the previous claims, wherein said wireless network is a UWB network. </claim-text></claim><claim id="clm-0006" num="6"><claim-text> 6. - Method as per claim 5, wherein said location server whose address is determined is a UWB location server. </claim-text></claim><claim id="clm-0007" num="7"><claim-text> 7. - Method as per claim 1 , where said events are at least one of entering, leaving and staying inside/outside said at least one indoor area. </claim-text></claim><claim id="clm-0008" num="8"><claim-text> 8.- Method as per claim 1 , further comprising: </claim-text><claim-text> - defining and managing at least one outdoor area sensitive to the movements of user mobile processing devices, </claim-text><claim-text> - detecting events that occur automatically when a user mobile processing device interacts with said at least one outdoor defined area; and </claim-text><claim-text> - using said location server for locating said user mobile processing device based on triggers associated to said detected events related to said at least one outdoor area. <!-- EPO <DP n="18"/>--> </claim-text></claim><claim id="clm-0009" num="9"><claim-text>9.- Method as per claim 6, comprising performing the next steps, sequentially:</claim-text><claim-text>- starting, by a control or management centre, a trigger zone session indicating at least said triggers and the name and address of said at least one indoor sensitive area, and sending said information to a location server based on SUPL 2.0 intended for communicate with mobile computing device clients that are associated to events and "sensitive" geographical areas; </claim-text><claim-text> - sending, said SUPL 2.0 location server, an invitation to the user mobile computing device to start a location session; </claim-text><claim-text> - responding the client of the user mobile computing device to said invitation, once received, confirming the invitation to start the location session, by sending a "SUPL</claim-text><claim-text>Triggered Start" message to the SUPL 2.0 location server; </claim-text><claim-text> - responding, the SUPL 2.0 location server, to said "SUPL Triggered Start" message and confirming the request by sending a "SUPL Triggered Response" message to the user mobile computing device, indicating in the message the name of said at least one indoor sensitive area; </claim-text><claim-text> - sending, the user mobile computing device, a SLIR-MLP message with an identifier for said at least one indoor sensitive area, to the SUPL 2.0 location server, requesting information about the at least one indoor sensitive area defined in the coverage of an UWB network supervised by an UWB location server; </claim-text><claim-text> - forwarding, the SUPL 2.0 server, the received SLIR-MLP message to the control or management centre in order the latter provides information and details on the at least one indoor sensitive area defined in the coverage of an UWB network supervised by an UWB location server and information about the UWB location server itself; </claim-text><claim-text> - responding, the control or management centre, to the SUPL 2.0 location server with a SLIA-MLP message containing information at least corresponding to an access point of the UWB location server and to the geometry of the at least one indoor sensitive area; </claim-text><claim-text> - sending, the SUPL 2.0 location server, said SLIA-MLP message, or another message including the same information, to the user mobile computing device in order to allow it to communicate and being located by the SUPL 2.0 location server could locate the user mobile computing device through the UWB location server; </claim-text><claim-text> - sending, the user mobile computing device, after receiving said SLIA-MLP message, a SLIR-MLP message to the SUPL 2.0 location server, with the MSISDN info for the user mobile computing device and for the UWB location server, in order to obtain the location of the user mobile computing device in the UWB network coverage; <!-- EPO <DP n="19"/>--> - sending, the SUPL 2.0 location server, once it has received said SLIR-MLP message, a request to the UWB location server for the estimation of the position of the user mobile computing device via UWB; </claim-text><claim-text> - exchanging information between the user mobile computing device and the UWB location server so the latter can estimate the position of the user mobile computing device using the UWB technology. </claim-text><claim-text> - sending, the UWB location server, the estimated location of the user mobile computing device via UWB to the SUPL 2.0 location server; and </claim-text><claim-text> - sending, the SUPL 2.0 location server, the estimated location of the user mobile computing device via UWB, to the user mobile computing device via a SLIA-MLP message. </claim-text></claim></claims><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
