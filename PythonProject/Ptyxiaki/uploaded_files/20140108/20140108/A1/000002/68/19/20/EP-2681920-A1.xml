<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2681920-A1" country="EP" doc-number="2681920" kind="A1" date="20140108" family-id="45446154" file-reference-id="318297" date-produced="20180823" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146586368" ucid="EP-2681920-A1"><document-id><country>EP</country><doc-number>2681920</doc-number><kind>A1</kind><date>20140108</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-11805255-A" is-representative="NO"><document-id mxw-id="PAPP154848560" load-source="docdb" format="epo"><country>EP</country><doc-number>11805255</doc-number><kind>A</kind><date>20110905</date><lang>EN</lang></document-id><document-id mxw-id="PAPP191887697" load-source="docdb" format="original"><country>EP</country><doc-number>11805255.4</doc-number><date>20110905</date><lang>EN</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140556721" ucid="SE-2011051067-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>SE</country><doc-number>2011051067</doc-number><kind>W</kind><date>20110905</date></document-id></priority-claim><priority-claim mxw-id="PPC140550336" ucid="US-201161447943-P" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>201161447943</doc-number><kind>P</kind><date>20110301</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-1915456644" load-source="docdb">H04N  21/231       20110101AFI20160721BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1915457016" load-source="docdb">H04N  21/2747      20110101ALI20160721BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1915457470" load-source="docdb">H04N  21/6587      20110101ALI20160721BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1915461106" load-source="docdb">H04N  21/472       20110101ALI20160721BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1915461134" load-source="docdb">H04N  21/433       20110101ALI20160721BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1994220343" load-source="docdb" scheme="CPC">H04N  21/6587      20130101 LI20151203BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1994220344" load-source="docdb" scheme="CPC">H04N  21/472       20130101 LI20151203BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1994220345" load-source="docdb" scheme="CPC">H04N  21/4333      20130101 LI20151203BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1994220346" load-source="docdb" scheme="CPC">H04N  21/23106     20130101 LI20151203BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989622975" load-source="docdb" scheme="CPC">H04N  21/2747      20130101 FI20131205BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132363737" lang="DE" load-source="patent-office">VERFAHREN UND VORRICHTUNGEN ZUR WIEDERAUFNAHME VON PAUSIERTEN MEDIEN</invention-title><invention-title mxw-id="PT132363738" lang="EN" load-source="patent-office">METHODS AND APPARATUSES FOR RESUMING PAUSED MEDIA</invention-title><invention-title mxw-id="PT132363739" lang="FR" load-source="patent-office">PROCÉDÉS ET APPAREILS POUR REPRENDRE UN CONTENU MULTIMÉDIA MIS EN PAUSE</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR919544043" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>ERICSSON TELEFON AB L M</last-name><address><country>SE</country></address></addressbook></applicant><applicant mxw-id="PPAR919506052" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>TELEFONAKTIEBOLAGET L M ERICSSON (PUBL)</last-name></addressbook></applicant><applicant mxw-id="PPAR919012545" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Telefonaktiebolaget L M Ericsson (PUBL)</last-name><iid>101131063</iid><address><city>164 83 Stockholm</city><country>SE</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR919531946" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>LINDQUIST JAN-ERIK</last-name><address><country>SE</country></address></addressbook></inventor><inventor mxw-id="PPAR919518747" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>LINDQUIST, Jan-Erik</last-name></addressbook></inventor><inventor mxw-id="PPAR919009809" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>LINDQUIST, Jan-Erik</last-name><address><street>Staffan Stallares väg 4</street><city>S-125 35 Älvsjö</city><country>SE</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR919017118" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Egrelius, Fredrik</last-name><suffix>et al</suffix><iid>101307911</iid><address><street>Ericsson AB Patent Unit Kista Device, Service &amp; Media Torshamnsgatan 21-23</street><city>164 80 Stockholm</city><country>SE</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="SE-2011051067-W"><document-id><country>SE</country><doc-number>2011051067</doc-number><kind>W</kind><date>20110905</date><lang>EN</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2012118420-A1"><document-id><country>WO</country><doc-number>2012118420</doc-number><kind>A1</kind><date>20120907</date><lang>EN</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS549760176" load-source="docdb">AL</country><country mxw-id="DS549837297" load-source="docdb">AT</country><country mxw-id="DS549760185" load-source="docdb">BE</country><country mxw-id="DS549914545" load-source="docdb">BG</country><country mxw-id="DS549769972" load-source="docdb">CH</country><country mxw-id="DS549837557" load-source="docdb">CY</country><country mxw-id="DS549837302" load-source="docdb">CZ</country><country mxw-id="DS549759764" load-source="docdb">DE</country><country mxw-id="DS549760186" load-source="docdb">DK</country><country mxw-id="DS549837570" load-source="docdb">EE</country><country mxw-id="DS549851321" load-source="docdb">ES</country><country mxw-id="DS549914546" load-source="docdb">FI</country><country mxw-id="DS549914547" load-source="docdb">FR</country><country mxw-id="DS549760187" load-source="docdb">GB</country><country mxw-id="DS549760188" load-source="docdb">GR</country><country mxw-id="DS549760193" load-source="docdb">HR</country><country mxw-id="DS549837571" load-source="docdb">HU</country><country mxw-id="DS549769977" load-source="docdb">IE</country><country mxw-id="DS549760194" load-source="docdb">IS</country><country mxw-id="DS549914548" load-source="docdb">IT</country><country mxw-id="DS549837572" load-source="docdb">LI</country><country mxw-id="DS549759769" load-source="docdb">LT</country><country mxw-id="DS549837303" load-source="docdb">LU</country><country mxw-id="DS549759770" load-source="docdb">LV</country><country mxw-id="DS549759771" load-source="docdb">MC</country><country mxw-id="DS549837695" load-source="docdb">MK</country><country mxw-id="DS549837696" load-source="docdb">MT</country><country mxw-id="DS549837304" load-source="docdb">NL</country><country mxw-id="DS549760195" load-source="docdb">NO</country><country mxw-id="DS549837305" load-source="docdb">PL</country><country mxw-id="DS549760196" load-source="docdb">PT</country><country mxw-id="DS549837310" load-source="docdb">RO</country><country mxw-id="DS549760201" load-source="docdb">RS</country><country mxw-id="DS549837311" load-source="docdb">SE</country><country mxw-id="DS549759772" load-source="docdb">SI</country><country mxw-id="DS549837573" load-source="docdb">SK</country><country mxw-id="DS549837578" load-source="docdb">SM</country><country mxw-id="DS549837697" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data><office-specific-data><eptags><ep-no-a-document-published>*</ep-no-a-document-published></eptags></office-specific-data></bibliographic-data><abstract mxw-id="PA99831317" ref-ucid="WO-2012118420-A1" lang="EN" load-source="patent-office"><p num="0000">Methods and apparatuses in a user equipment (300) and a control server (302) for enabling resumption of a paused media information stream sent in a live broadcast (3:1) of a TV program. When a user has paused (3:2) the broadcasted media information stream, the user equipment sends to the control server a request message (3:4) comprising an indicator of the time of pause. The control server then calculates (3:5) an offset value indicating a pause point in the media information stream where the pause occurred, based on the received indicator. The control server sends an answer message (3:6) comprising a file location address of a recorded version of the TV program and the calculated offset value, to the user equipment. The user equipment can then resume the media information stream (3:7, 3:8) from said pause point based on the received file location address and offset value. Thereby, any gap or jump in the resumed TV program due to inaccurate offset can be minimised or avoided.</p></abstract><abstract mxw-id="PA100328141" ref-ucid="WO-2012118420-A1" lang="EN" source="national office" load-source="docdb"><p>Methods and apparatuses in a user equipment (300) and a control server (302) for enabling resumption of a paused media information stream sent in a live broadcast (3:1) of a TV program. When a user has paused (3:2) the broadcasted media information stream, the user equipment sends to the control server a request message (3:4) comprising an indicator of the time of pause. The control server then calculates (3:5) an offset value indicating a pause point in the media information stream where the pause occurred, based on the received indicator. The control server sends an answer message (3:6) comprising a file location address of a recorded version of the TV program and the calculated offset value, to the user equipment. The user equipment can then resume the media information stream (3:7, 3:8) from said pause point based on the received file location address and offset value. Thereby, any gap or jump in the resumed TV program due to inaccurate offset can be minimised or avoided.</p></abstract><abstract mxw-id="PA99831318" ref-ucid="WO-2012118420-A1" lang="FR" load-source="patent-office"><p num="0000">L'invention porte sur des procédés et des appareils dans un équipement utilisateur (300) et un serveur de commande (302) pour permettre la reprise d'un flux d'informations multimédia mis en pause envoyé dans une radiodiffusion en direct (3:1) d'un programme de télévision. Lorsqu'un utilisateur a mis en pause (3:2) le flux d'informations multimédia radiodiffusé, l'équipement utilisateur envoie au serveur de commande un message de requête (3:4) comprenant un indicateur de l'instant de pause. Le serveur de commande calcule ensuite (3:5) une valeur de décalage indiquant un point de pause dans le flux d'informations multimédia au niveau duquel la pause s'est produite, sur la base de l'indicateur reçu. Le serveur de commande envoie un message de réponse (3:6) comprenant une adresse d'emplacement de fichier d'une version enregistrée du programme de télévision et la valeur de décalage calculée, à l'équipement utilisateur. L'équipement utilisateur peut ensuite reprendre le flux d'informations multimédia (3:7, 3:8) à partir dudit point de pause sur la base de l'adresse d'emplacement de fichier et de la valeur de décalage reçues. Il est ainsi possible de réduire au minimum ou d'éviter toute discontinuité ou saut dans le programme de télévision repris en raison d'un décalage imprécis.</p></abstract><abstract mxw-id="PA100328142" ref-ucid="WO-2012118420-A1" lang="FR" source="national office" load-source="docdb"><p>L'invention porte sur des procédés et des appareils dans un équipement utilisateur (300) et un serveur de commande (302) pour permettre la reprise d'un flux d'informations multimédia mis en pause envoyé dans une radiodiffusion en direct (3:1) d'un programme de télévision. Lorsqu'un utilisateur a mis en pause (3:2) le flux d'informations multimédia radiodiffusé, l'équipement utilisateur envoie au serveur de commande un message de requête (3:4) comprenant un indicateur de l'instant de pause. Le serveur de commande calcule ensuite (3:5) une valeur de décalage indiquant un point de pause dans le flux d'informations multimédia au niveau duquel la pause s'est produite, sur la base de l'indicateur reçu. Le serveur de commande envoie un message de réponse (3:6) comprenant une adresse d'emplacement de fichier d'une version enregistrée du programme de télévision et la valeur de décalage calculée, à l'équipement utilisateur. L'équipement utilisateur peut ensuite reprendre le flux d'informations multimédia (3:7, 3:8) à partir dudit point de pause sur la base de l'adresse d'emplacement de fichier et de la valeur de décalage reçues. Il est ainsi possible de réduire au minimum ou d'éviter toute discontinuité ou saut dans le programme de télévision repris en raison d'un décalage imprécis.</p></abstract><description mxw-id="PDES51232526" ref-ucid="WO-2012118420-A1" lang="EN" load-source="patent-office"><!-- EPO <DP n="2"/>--><p id="p0001" num="0001"> METHODS AND APPARATUSES FOR RESUMING PAUSED MEDIA </p><p id="p0002" num="0002">Technical field </p><p id="p0003" num="0003"> [0001 ] The present disclosure relates generally to methods and apparatuses for resuming a paused TV program initially received in a live broadcast and then received as recorded media. </p><p id="p0004" num="0004">Background </p><p id="p0005" num="0005"> [0002] Internet Protocol Television (IPTV) offers opportunities for telecom service providers to attract new customers to their networks. With IPTV, telecom service providers can compete with TV offerings from cable operators, satellite-TV operators, and other terrestrial service providers. IPTV also helps providers retain existing customers and prevent churn by introducing a bundled offering of Internet, voice, and IPTV services, sometimes referred to as "triple play". </p><p id="p0006" num="0006">[0003] In IPTV, web-browser technology can be used to enable IPTV Service Providers to provide services of delivering media deployed in communication networks, such as wired and wireless telephone networks. Common web browser applications, such as Mozilla's Firefox and Microsoft's Internet Explorer, enable users to view specific Internet pages and other file locations accessible by the browser. Each such file location is typically identified by a Uniform Resource Identifier (URI) or similar address. In the following, URI will be used to represent a file location address although any other type of address may be used. </p><p id="p0007" num="0007">[0004] In general, IPTV is a technology for receiving and displaying multimedia streams at user IPTV devices, each stream being encoded in a series of IP data packets. A user IPTV device can be a Set-Top Box (STB) or a TV having similar STB capabilities. Such a User Equipment (UE) can be configured to access IPTV services, e.g., via an IP Multimedia System (IMS) of a communication network. In this description, the term "STB" will be used to represent any user IPTV device capable of receiving multimedia streams and displaying the media as TV </p><p id="p0008" num="0008">programs. Further, the term "TV program" is used for any media item delivered from an IPTV provider, such as movies, shows, news and documentaries. 
<!-- EPO <DP n="3"/>-->
 [0005] With current solutions for IPTV, it is possible for an STB user to pause a received and viewed live broadcast of a TV program and then resume viewing the program later by receiving a recording of the program stored in the network. This procedure is sometimes called "network time-shift". </p><p id="p0009" num="0009">[0006] FIG. 1 is a diagram that depicts a communication scenario where the above-described procedure of network time-shift is used. In this scenario, an STB 100 initially receives a multicast media stream of a live program, or live broadcast, from a broadcasting "multicast source" 102, as shown in an action 1 :1. At some point during the program, a user of the STB pauses the program in an action 1 :2, such that a still picture of the paused position in the program is typically displayed by the STB 100 for the time being. </p><p id="p0010" num="0010">[0007] Later on, the user decides to resume viewing the program and makes a suitable input command on the STB 100 in an action 1 :3, e.g. by pressing a play button or the like. The STB 1 10 then obtains a unicast stream of a recorded version of the remaining part of the program from a "Media Server" 104, in an action 1 :4, based on a URI or similar address of the program which has been obtained from an IPTV server, not shown, when the program was paused. The unicast stream that delivers the recording of the paused program from Media Server 104 is thus set up when the user pauses the live program. </p><p id="p0011" num="0011">[0008] In this procedure, it is of course desirable that the program resumes at the point or position where it was paused, to provide a seamless transition of the program at the intermission between the multicast stream from multicast source 102 and the unicast stream from Media Server 104. However, the program is typically resumed with a gap or missing part between the pause position in the live program and the restart position in the recorded program, which is perceived by the user as a "jump" from the paused program, particularly when displayed as a still picture before restart, to the restarted program. </p><p id="p0012" num="0012">[0009] The length of this gap or jump may vary unpredictably, e.g. from less than a second to several seconds, and is therefore unknown to the user. The effect of even only a 200 ms delay is a perceivable jump in the restarted TV 
<!-- EPO <DP n="4"/>-->
 program, in particular after displaying a still picture, that prevents a smooth transition from the multicast stream to the unicast stream when a user tries to resume a paused live broadcast. Even in a relatively brief jump, the user may not be able to recognize how much of the program was really missing, particularly if the jump is "abrupt" e.g. occurring over a fast-moving sequence or over a change of scenes. Therefore, a jump of, say, only half a second can be perceived by the user as an unknown gap of several seconds. </p><p id="p0013" num="0013">Summary </p><p id="p0014" num="0014"> [00010] It is an object of the invention to address at least some of the problems and issues outlined above. It is possible to achieve these objects and others by using methods and apparatuses as defined in the attached independent claims. </p><p id="p0015" num="0015">[0001 1 ] According to one aspect, a method is provided in a user equipment for resuming a paused media information stream received in a live broadcast of a TV program. In this method, the user equipment obtains an indicator of a pause time in the media information stream indicating the time when a user of the user equipment has paused the broadcasted media information stream. The user equipment then sends a request message comprising the indicator of the pause time to a control server, and receives from the control server an answer message comprising a file location address of a recorded version of the TV program and an offset value. The offset value has been calculated by the control server based on the indicator of the pause time and indicates a pause point in the media </p><p id="p0016" num="0016">information stream where the pause occurred. When a resume input or the like is made by the user, the user equipment resumes the media information stream from the pause point based on the received file location address and offset value. Thereby, it is possible to avoid any gap or jump in the resumed TV program due to inaccurate offset. </p><p id="p0017" num="0017">[00012] According to another aspect, a user equipment is provided, configured to resume a paused media information stream received in a live broadcast of a TV program. The user equipment comprises an obtaining unit adapted to obtain an indicator of a pause time in the media information stream indicating the time when 
<!-- EPO <DP n="5"/>-->
 a user of the user equipment has paused the broadcasted media information stream. The user equipment also comprises a communication unit adapted to send a request message comprising the indicator of the pause time to a control server. The communication unit is further adapted to receive from the control server an answer message comprising a file location address of a recorded version of the TV program and an offset value calculated by the control server based on the indicator of the pause time, the offset value indicating a pause point in the media information stream where the pause occurred. The user equipment also comprises a resuming unit adapted to resume the media information stream from the pause point based on the received file location address and offset value. </p><p id="p0018" num="0018">[00013] The above method and user equipment may be configured and </p><p id="p0019" num="0019">implemented according to different optional embodiments. In one possible embodiment, the user equipment resumes the media information stream by retrieving the recorded version from a media server starting at the pause point in the media information stream. The offset value may be a time displacement from a start of the media information stream to the pause point. </p><p id="p0020" num="0020">[00014] In another embodiment, the indicator of a pause time is obtained as a timestamp in the media information stream corresponding to the time of day when the pause occurred in the live broadcast. The user equipment may comprise a Set Top Box, STB and a browser. </p><p id="p0021" num="0021">[00015] According to another aspect, a method is provided in a control server for enabling resumption of a paused media information stream sent in a live broadcast of a TV program. In this method, the control server receives from a user </p><p id="p0022" num="0022">equipment a request message comprising an indicator of a pause time in the media information stream indicating the time when a user of the user equipment has paused the broadcasted media information stream. The control server then calculates an offset value based on the indicator of the pause time, the offset value indicating a pause point in the media information stream where the pause occurred, and sends an answer message comprising a file location address of a recorded version of the TV program and the calculated offset value to the user equipment. Thereby, the user equipment is enabled to resume the media 
<!-- EPO <DP n="6"/>-->
 information stream from the pause point based on the received file location address and offset value. </p><p id="p0023" num="0023">[00016] According to yet another aspect, a control server is provided, configured to enable resumption of a paused media information stream sent in a live broadcast of a TV program. The control server comprises a communication unit adapted to receive from a user equipment a request message comprising an indicator of a pause time in the media information stream indicating the time when a user of the user equipment has paused the broadcasted media information stream. The control server also comprises a calculating unit adapted to calculate an offset value based on the indicator of the pause time, the offset value indicating a pause point in the media information stream where the pause occurred. The communication unit is further adapted to send an answer message comprising a file location address of a recorded version of the TV program and the calculated offset value to the user equipment, thereby enabling the user equipment to resume the media information stream from the pause point based on the received file location address and offset value. </p><p id="p0024" num="0024">[00017] The above method and control server may be configured and </p><p id="p0025" num="0025">implemented according to different optional embodiments. In one possible embodiment, the offset value is a time displacement from a start of the media information stream to the pause point requested by the user equipment. The indicator of a pause time may be provided in the received request message as a timestamp in the media information stream. Further, the control server may send the answer message to a browser in the user equipment. </p><p id="p0026" num="0026">[00018] Further possible features and benefits of this solution will become apparent from the detailed description below. </p><p id="p0027" num="0027">Brief description of drawings </p><p id="p0028" num="0028"> [00019] The invention will now be described in more detail by means of exemplary embodiments and with reference to the accompanying drawings, in which: 
<!-- EPO <DP n="7"/>-->
 [00020] Fig. 1 is a communication scenario illustrating that a live broadcasted TV program is paused and resumed as a recorded program, according to the prior art. </p><p id="p0029" num="0029">[00021 ] Fig 2 is a schematic diagram illustrating how a jump occurs when pausing and resuming the TV program of Fig. 1 . </p><p id="p0030" num="0030">[00022] Fig. 3 is a signalling diagram illustrating a procedure for resuming a paused media information stream, according to some possible embodiments. </p><p id="p0031" num="0031">[00023] Fig 4 is a flow chart illustrating a procedure in a user equipment, according to further possible embodiments. </p><p id="p0032" num="0032">[00024] Fig 5 is a flow chart illustrating a procedure in a control server, according to further possible embodiments. </p><p id="p0033" num="0033">[00025] Fig. 6 is a block diagram illustrating examples of a user equipment and a control server in more detail, according to further possible embodiments. </p><p id="p0034" num="0034">Detailed description </p><p id="p0035" num="0035"> [00026] As mentioned above, when resuming a paused TV program first received as a multicast stream and then as a unicast stream, a gap or "jump" typically occurs between the pause position in the live broadcasted program and the restart position in the recorded program. In order to make the present solution to be described below, the applicant has recognized the reason for this jump transition from the multicast stream to the unicast stream, which will now be explained in more detail with reference to Fig. 2. </p><p id="p0036" num="0036">[00027] Fig. 2 illustrates schematically a procedure for network time-shift as it occurs according to current standards when a paused TV program is resumed, and illustrates also how a jump or missing part can occur in the viewed program in the above example of Fig. 1 . In Fig. 2, a timeline at the client side 200, i.e. the STB 100 of Fig. 1 , is shown for received and viewed media streams, and another timeline at the network side 202 is shown for media streams as delivered from the multicast source 102 and the media server 104 of Fig. 1 . In this example, some 
<!-- EPO <DP n="8"/>-->
 useful SIP messages are mentioned for illustration, although any other suitable protocol messages can be used. </p><p id="p0037" num="0037">[00028] As the TV program begins to be broadcasted from the multicast source 102, a multicast stream 204 begins to be received on the client side at a program start point at time to. At some later point in the TV program, the user pauses the program at a later time t1 . The difference between the times to and t1 is indicated as an "accurate offset" 206 as perceived on the client side. The pause at the time t1 causes a pause message 208, e.g. in the form of a SIP INVITE message, to be sent by the STB 100 to an IPTV server or the like at network side 202, and that message arrives on the network side at a time t2 that is different from the time t1 , i.e. somewhat later. This delay is caused by various propagation and handling of the pause message before arrival on the network side. The pause message 208 is basically a request for a URI and an offset of the TV program, the URI thus pointing to a recorded version of the program in the media server 104 and the offset indicating the point in the program where viewing shall be resumed whenever the user wishes to do so. </p><p id="p0038" num="0038">[00029] After some further processing delay, the network side 202 sends a response message 210, e.g. in the form of a SIP 200 OK message, at a time t3, and that message arrives at the client side 200 at a time t4. The response message includes the URI of the program and a program time offset of t3-t0 which is determined from the network side's point of view, although it is inaccurate from the client side's point of view in that it is not the accurate offset 206 of t1 -to. The time offset of t3-t0 in the response message is thus indicated in the figure as an "inaccurate offset" 212. The user then resumes viewing the program at a time t5 causing the STB 100 to retrieve the remainder of the TV program as a recorded stream 214 from the media server 104, which starts from time t3 instead of t1 according to the received inaccurate offset 212. </p><p id="p0039" num="0039">[00030] As depicted in FIG. 2, the difference between the network side's inaccurate offset 212 and the client side's accurate offset 206 is a duration d1 that is attributable to network delay in propagating and handling the pause message 208. This network delay may thus vary due to varying network conditions and 
<!-- EPO <DP n="9"/>-->
 traffic loads. As a result, an incorrect offset is returned to the client side in the response 210 causing the above-described jump or missing part in the viewed program corresponding to d1 . In practice, the network delay d1 can be at least 200 milliseconds (ms) or more. In addition, if any of the messages depicted in FIG. 2 is lost or the communication transaction is otherwise not successfully completed, retransmission of one or more messages may be necessary which can delay the network-side response further by as much as 32 seconds (s). </p><p id="p0040" num="0040">[00031 ] Briefly described, the present solution can be used to avoid the above- described jump and instead provide for a more smooth transition from a multicast stream to a unicast stream when a user of a user equipment, e.g. comprising an STB and a browser, tries to resume a paused live broadcasted TV program. </p><p id="p0041" num="0041">[00032] This can be achieved by providing an indicator of a pause time from the user equipment to a control server, i.e. the time when the user has paused the broadcasted TV program, which indicator can be expressed as the time of day when a pause command was received from the user. Thereby, the control server is able to calculate an accurate offset value based on the pause time indicator, also knowing the start time of the broadcast, the offset value indicating a point in the media information stream where the pause occurred. The offset value may be expressed as a time displacement, i.e. duration, from a start of the media information stream, i.e. start time of the broadcast, to the pause point, e.g. x minutes and y seconds from the start of a TV program. </p><p id="p0042" num="0042">[00033] The control server then returns the offset value to the user equipment along with a file location address, e.g. a URI, of a recorded version of the TV program stored in a media server. The user equipment is thereby able to resume the media information stream from the pause point based on the received offset value and file location address, by fetching the recorded version of the remaining part of the program from the media server. </p><p id="p0043" num="0043">[00034] An example of how a paused media information stream, when received in a live broadcast of a TV program by a user equipment, can be resumed with a smooth transition from the pause to the resumption, will now be described with 
<!-- EPO <DP n="10"/>-->
 reference to the signalling diagram in Fig. 3. In this example, the user equipment 300 comprises a browser 300a and an STB 300b although the solution is not limited thereto. The network side involves an IPTV control server 302, a multicast source 304 that broadcasts the media information stream of the TV program at a prescheduled "fixed" time, and a media server 306 that stores a recorded version of the TV program. In this example, SIP signalling may be used although any other suitable protocol messages can also be used, depending on the implementation, and the solution is thus not limited to any particular signalling protocol and messages. </p><p id="p0044" num="0044">[00035] A first action 3:1 illustrates that the multicast source 304 broadcasts the media information stream according to schedule, hence the term "live broadcast", and that the broadcasted media information stream is received and displayed by the user equipment 300. It is assumed that a user watches the TV program basically in real time, i.e. when received and played out by the STB 300b. The procedure for setting up a live broadcast session is well known in the art, which is not shown and described here. </p><p id="p0045" num="0045">[00036] Analogously with the scheme of Fig. 2, the scheduled live broadcast has started at a time to and the user pauses the broadcasted media information stream at a time t1 , schematically indicated by a first dashed arrow, e.g. by pressing a pause button or the like on a remote control for the browser in the user equipment 300. This causes the browser 300a to send a pause message or the like to the STB 300b, as shown in another action 3:2, wherein the STB 300b stops the reception and display of the broadcasted media information stream for the time being, e.g. by freezing and displaying the last received image as a still picture on the TV screen as long as the pause is maintained. In practice, the STB may send a regular "leave" message or the like, not shown, to the multicast source 302 to stop the stream. </p><p id="p0046" num="0046">[00037] The user equipment 300 then obtains an indicator of a pause time in the media information stream, as shown in a further action 3:3. The indicator of a pause time thus indicates the time t1 when the user has actually paused the broadcasted media information stream as of action 3:2. This can be done in 
<!-- EPO <DP n="11"/>-->
 practice by registering the time of day for the pause in the STB 300b upon receiving the pause message in action 3:2, and the browser 300a can then retrieve information on the registered time of day from the STB 300b as the above pause time indicator. Alternatively, the data in the multicast stream may include a time indication which may be used to obtain the indicator of pause time. By way of example, the live broadcast may have started at to = 10:00:00 pm, and the pause may occur at t1 = 10:30:32,4 pm, i.e. 30 minutes and 32,4 seconds past 10 pm. </p><p id="p0047" num="0047">[00038] In a next action 3:4, the browser 300a of user equipment 300 sends a pause request message to the IPTV control server 302 comprising the obtained indicator of the pause time as well as an identifier of the media stream and an identifier of the user. The pause request message of action 3:4 is effectively a fetch command for a file location address, a URI in this example, of the recorded version of the TV program stored in a media server and the above-described offset value indicating a point in the media information stream where the pause occurred. </p><p id="p0048" num="0048">[00039] A further action 3:5 illustrates that the server 302 calculates the offset value based on the pause time indicator received in action 3:4. Using the example times of tO = 10:00:00 pm and t1 = 10:30:32 pm, where the broadcast start time to is known in beforehand to the server 302 and t1 is provided from the user equipment 300 as the pause time indicator, the offset value is calculated as t1 - to = 30 minutes and 32 seconds, i.e. a time displacement from the start of the media information stream to a time of generating the pause request by the user equipment in action 3:2. The calculated offset value is thus the accurate offset with reference to Fig. 2. </p><p id="p0049" num="0049">[00040] The server 302 then sends an answer to the browser 300a in response to the above pause request message, in a next action 3:6, the answer comprising the calculated offset value and the file location address URI of the recorded version, which information can be used to retrieve the remaining part of the paused TV program from the media server 306. The browser 300a saves the received offset value and file location address URI for later use. 
<!-- EPO <DP n="12"/>-->
 [00041 ] At some point later, the user resumes the paused TV program, e.g. by pressing a play button or the like on the remote control of the user equipment 300, schematically indicated by a second dashed arrow, which causes the browser 300a to send a resume message to the STB 300b, as shown in a further action 3:7. The resume message contains the above received and saved offset value and file location address URI. The STB 300b is then able to restart the media information stream at a point corresponding to the offset value by sending a "play" message to the media server 306 including the offset value and file location address URI, in a next action 3:8, thereby fetching the recorded version of the remainder of the stream from server 306 for playout on the user equipment 300. A final action 3:9 then illustrates that a unicast stream of the recorded version of the remainder is transferred from media server 306 to STB 300b. </p><p id="p0050" num="0050">[00042] In this way, the paused TV program will be resumed from the accurate offset of t1 - tO which is calculated by the server 302 on the network side based on the known broadcast start time to and the pause time t1 provided as the pause time indicator from the user equipment 300, instead of resuming it from the inaccurate offset of t3 - to according to the prior art described above. The transition from the paused TV program to the resumed TV program will thus be smooth, in spite of the fact that the program is received first as a multicast stream from one server 302 and then as a unicast stream from another server 306. </p><p id="p0051" num="0051">[00043] An example of a method with actions performed in a user equipment, for resuming a paused media information stream received in a live broadcast of a TV program, will now be described with reference to the flow chart in Fig. 4. The user equipment in this example may comprise a browser and an STB acting basically as described for Fig. 3 above in communication with a multicast source, a control server and a media server. </p><p id="p0052" num="0052">[00044] A first action 400 illustrates that the user equipment receives the media information stream as a broadcasted multicast stream from the multicast source, basically corresponding to action 3:1 above. In a next action 402, the user equipment receives a pause command from its user, basically corresponding to action 3:2 above, causing the user equipment to stop receiving and displaying the 
<!-- EPO <DP n="13"/>-->
 broadcasted multicast stream and it may from that point display a frozen still picture of the last received media information as described in the examples above. </p><p id="p0053" num="0053">[00045] In a further action 404, the user equipment obtains an indicator of a pause time in the media information stream, basically corresponding to action 3:3 above. This pause time indicator thus indicates the time when the user has paused the broadcasted media information stream in action 402. Further, the pause time indicator may be obtained as a timestamp in the media information stream corresponding to the time of day when the pause occurred in the live broadcast. </p><p id="p0054" num="0054">[00046] The user equipment then sends a request message comprising the indicator of the pause time to the control server, as shown by an action 406, basically corresponding to the pause request in action 3:4 above. The request message preferably also comprises an identifier of the media stream and an identifier of the user. </p><p id="p0055" num="0055">[00047] The user equipment receives an answer message from the control server in response to the request message, in a following action 408, basically </p><p id="p0056" num="0056">corresponding to action 3:5 above. The received answer message comprises a file location address of a recorded version of the TV program, a URI in this example, and an offset value that has been calculated by the control server based on the indicator of the pause time sent in action 406. The offset value indicates a pause point in the media information stream where the pause occurred. The offset value may thus be seen as a time displacement from a start of the media information stream to the pause point. </p><p id="p0057" num="0057">[00048] A final action 410 illustrates that, upon receiving a play command or the like from the user, the user equipment resumes the media information stream from the pause point based on the received file location address URI and offset value, basically corresponding to actions 3:7 - 3:9 above. In this action, the media information stream can be resumed by retrieving a recorded version of the media information stream as a unicast stream from the media server, starting at the pause point in the media information stream. 
<!-- EPO <DP n="14"/>-->
 [00049] An example of a method with actions performed in a control server, for enabling resumption of a paused media information stream sent in a live broadcast of a TV program, will now be described with reference to the flow chart in Fig. 5. The control server in this example may be an IPTV control server acting basically as described for Fig. 3 above in communication with a user equipment. </p><p id="p0058" num="0058">[00050] A first action 500 illustrates that the control server receives from the user equipment a request message comprising an indicator of a pause time in the media information stream indicating the time when a user of the user equipment has paused the broadcasted media information stream, basically corresponding to action 3:4 above. Further, the indicator of a pause time may be provided in the request message as a timestamp in the media information stream. </p><p id="p0059" num="0059">[00051 ] The control server then calculates an offset value based on the indicator of the pause time, in an action 502. The offset value thus indicates a pause point in the media information stream where the pause occurred, basically </p><p id="p0060" num="0060">corresponding to action 3:5 above. The offset value may thus be seen as a time displacement from a start of the media information stream to the pause point requested by the user equipment. </p><p id="p0061" num="0061">[00052] Finally, the control server sends an answer message to the user equipment, in an action 504, the message comprising a file location address of a recorded version of the TV program and the calculated offset value, basically corresponding to action 3:6 above. Thereby, the user equipment is enabled to resume the media information stream from the pause point based on the received file location address and offset value. The answer message may be sent to a browser in the user equipment. </p><p id="p0062" num="0062">[00053] A detailed but non-limiting example of how a user equipment and a control server can be configured to accomplish the above-described solution, is illustrated by the block diagram in Fig. 6. The user equipment 600 is configured to resume a paused media information stream received from a multicast source 604 in a live broadcast of a TV program, while the control server 602 is configured to enable resumption of a paused media information stream sent to the user 
<!-- EPO <DP n="15"/>-->
 equipment 600 in the live broadcast of the TV program, e.g. in the manner described above for any of Figs 3 - 5. </p><p id="p0063" num="0063">[00054] The user equipment 600 comprises a playout unit 600a adapted to play out the media information stream received from the multicast source 604. The user equipment 600 also comprises an obtaining unit 600b adapted to obtain an indicator "Tl" of a pause time in the media information stream indicating the time when a user of the user equipment pauses the broadcasted media information stream, e.g. using a remote control or other input means of the user equipment 600 to provide a suitable user command, not shown. The user equipment 600 further comprises a communication unit 600c adapted to send a request message comprising the indicator of the pause time to the control server 602. </p><p id="p0064" num="0064">[00055] The control server 602 comprises a communication unit 602a adapted to receive the above request message from the user equipment 600, which message thus comprises the pause time indicator Tl. The control server 602 also comprises a calculating unit 602b adapted to calculate an offset value based on the indicator Tl of the pause time, the offset value indicating a pause point in the media information stream where the pause occurred. </p><p id="p0065" num="0065">[00056] The communication unit 602a is further adapted to send an answer message comprising a file location address of a recorded version of the TV program and the calculated offset value to the user equipment. The </p><p id="p0066" num="0066">communication unit 600c in user equipment 600 is further adapted to receive from the control server 602 the answer message comprising the file location address and offset value. </p><p id="p0067" num="0067">[00057] The user equipment 600 further comprises a resuming unit 600d </p><p id="p0068" num="0068">adapted to resume the media information stream from the pause point based on the received file location address and offset value. The media information stream can be resumed by the resuming unit 600d retrieving the recorded version as a unicast stream from a media server 606. The user equipment 600 is arranged to input the received unicast stream to the playout unit 600a in a suitable manner, as schematically indicated by a dashed arrow. 
<!-- EPO <DP n="16"/>-->
 [00058] The above user equipment 600 and control server 602 and their functional units 600a-d and 602 a-b may be configured or adapted to operate according to various optional embodiments. For example, the resuming unit 600d may be further adapted to resume the media information stream by retrieving the recorded version from the media server 606 starting at the pause point in the media information stream. As in the previous examples, the offset value may be a time displacement from a start of the media information stream to the pause point. </p><p id="p0069" num="0069">[00059] The obtaining unit 600b may be further adapted to obtain the indicator of a pause time as a timestamp in the media information stream corresponding to the time of day when the pause occurred in the live broadcast. The user equipment may further comprise a Set Top Box, STB and a browser, e.g. as shown in Fig. 3. The communication unit 602a in the control server may be further adapted to send the answer message to a browser in the user equipment 600. </p><p id="p0070" num="0070">[00060] It should be noted that Fig. 6 merely illustrates various functional units in the user equipment 600 and the control server 602 in a logical sense, although the skilled person is able to implement these functions in practice using suitable software and hardware means. Thus, this aspect of the solution is generally not limited to the shown structures of the user equipment 600 and the control server 602, while their functional units 600a-d and 602a-b may be configured to operate according to the features described for any of Figs 3 - 5 above, where appropriate. </p><p id="p0071" num="0071">[00061 ] The functional units 600a-d and 602a-b described above can be implemented in the user equipment 600 and the control server 602, respectively, as program modules of a respective computer program comprising code means which, when run by a processor "P" in each of the user equipment 600 and the control server 602 causes them to perform the above-described actions. Each processor P may be a single Central Processing Unit (CPU), or could comprise two or more processing units. For example, the processor P may include general purpose microprocessors, instruction set processors and/or related chips sets and/or special purpose microprocessors such as Application Specific Integrated Circuits (ASICs). The processor P may also comprise a storage for caching purposes. 
<!-- EPO <DP n="17"/>-->
 [00062] Each computer program may be carried by a computer program product in either of the user equipment 600 and the control server 602, respectively, in the form of a memory "M" connected to each processor P. The computer program product or memory M comprises a computer readable medium on which the computer program is stored. For example, the memory M may be a flash memory, a Random-Access Memory (RAM), a Read-Only Memory (ROM) or an Electrically Erasable Programmable ROM (EEPROM), and the program modules could in alternative embodiments be distributed on different computer program products in the form of memories within the user equipment 600 and the control server 602. </p><p id="p0072" num="0072">[00063] While the solution has been described with reference to specific exemplary embodiments, the description is generally only intended to illustrate the inventive concept and should not be taken as limiting the scope of the solution. For example, the terms "user equipment", "multicast source", "control server", "media server", "TV program", "URI", "request message", "answer message" and "offset" have been used throughout this description, although any other corresponding nodes, functions, and/or parameters could also be used having the features and characteristics described here. The solution is defined by the appended claims. 
</p></description><claims mxw-id="PCLM44851678" ref-ucid="WO-2012118420-A1" lang="EN" load-source="patent-office"><claim-statement><!-- EPO <DP n="18"/>-->CLAIMS </claim-statement><claim id="clm-0001" num="1"><claim-text>1 . A method in a user equipment (300) for resuming a paused media information stream received in a live broadcast of a TV program, the method comprising: </claim-text><claim-text>- obtaining (3:3, 404) an indicator of a pause time in the media information stream indicating the time when a user of the user equipment has paused the </claim-text><claim-text>broadcasted media information stream, </claim-text><claim-text>- sending (3:4, 406) a request message comprising said indicator of the pause time to a control server (302), </claim-text><claim-text>- receiving (3:6, 408) from the control server an answer message comprising a file location address of a recorded version of the TV program and an offset value calculated by the control server based on the indicator of the pause time, the offset value indicating a pause point in the media information stream where the pause occurred, and </claim-text><claim-text>- resuming (3:7, 410) the media information stream from said pause point based on the received file location address and offset value. </claim-text></claim><claim id="clm-0002" num="2"><claim-text>2. A method according to claim 1 , wherein the media information stream is resumed by retrieving said recorded version from a media server (306) starting at said pause point in the media information stream. </claim-text></claim><claim id="clm-0003" num="3"><claim-text>3. A method according to claim 1 or 2, wherein the offset value is a time displacement from a start of the media information stream to said pause point. </claim-text></claim><claim id="clm-0004" num="4"><claim-text>4. A method according to any of claims 1 -3, wherein the indicator of a pause time is obtained as a timestamp in the media information stream </claim-text><claim-text>corresponding to the time of day when the pause occurred in said live broadcast. </claim-text></claim><claim id="clm-0005" num="5"><claim-text>5. A method according to any of claims 1 -4, wherein the user equipment comprises a Set Top Box, STB (300b) and a browser (300a). <!-- EPO <DP n="19"/>--> </claim-text></claim><claim id="clm-0006" num="6"><claim-text>6. A user equipment (600) configured to resume a paused media information stream received in a live broadcast of a TV program, comprising: </claim-text><claim-text>- an obtaining unit (600b) adapted to obtain an indicator (Tl) of a pause time in the media information stream indicating the time when a user of the user equipment has paused the broadcasted media information stream, </claim-text><claim-text>- a communication unit (600c) adapted to send a request message comprising said indicator of the pause time to a control server (602), and further adapted to receive from the control server an answer message comprising a file location address of a recorded version of the TV program and an offset value calculated by the control server based on the indicator of the pause time, the offset value indicating a pause point in the media information stream where the pause occurred, and </claim-text><claim-text>- a resuming unit (600d) adapted to resume the media information stream from said pause point based on the received file location address and offset value. </claim-text></claim><claim id="clm-0007" num="7"><claim-text>7. A user equipment according to claim 6, wherein the resuming unit is further adapted to resume the media information stream by retrieving said recorded version from a media server (306) starting at said pause point in the media information stream. </claim-text></claim><claim id="clm-0008" num="8"><claim-text>8. A user equipment according to claim 6 or 7, wherein the offset value is a time displacement from a start of the media information stream to said pause point. </claim-text></claim><claim id="clm-0009" num="9"><claim-text>9. A user equipment according to any of claims 6-8, wherein the obtaining unit (600b) is further adapted to obtain the indicator of a pause time as a timestamp in the media information stream corresponding to the time of day when the pause occurred in said live broadcast. </claim-text></claim><claim id="clm-0010" num="10"><claim-text>10. A user equipment according to any of claims 6-9, wherein the user equipment comprises a Set Top Box, STB (300b) and a browser (300a). <!-- EPO <DP n="20"/>--> </claim-text></claim><claim id="clm-0011" num="11"><claim-text>1 1 . A method in a control server (302) for enabling resumption of a paused media information stream sent in a live broadcast of a TV program, the method comprising: </claim-text><claim-text>- receiving (3:4, 500) from a user equipment (300) a request message comprising an indicator of a pause time in the media information stream indicating the time when a user of the user equipment has paused the broadcasted media </claim-text><claim-text>information stream, </claim-text><claim-text>- calculating (3:5, 502) an offset value based on said indicator of the pause time, the offset value indicating a pause point in the media information stream where the pause occurred, and </claim-text><claim-text>- sending (3:6, 504) an answer message comprising a file location address of a recorded version of the TV program and the calculated offset value to the user equipment, thereby enabling the user equipment to resume the media information stream from said pause point based on the received file location address and offset value. </claim-text></claim><claim id="clm-0012" num="12"><claim-text>12. A method according to claim 1 1 , wherein the offset value is a time displacement from a start of the media information stream to said pause point requested by the user equipment. </claim-text></claim><claim id="clm-0013" num="13"><claim-text>13. A method according to claim 1 1 or 12, wherein the indicator of a pause time is provided in the request message as a timestamp in the media information stream. </claim-text></claim><claim id="clm-0014" num="14"><claim-text>14. A method according to any of claims 1 1 -13, wherein the answer message is sent to a browser in the user equipment. </claim-text></claim><claim id="clm-0015" num="15"><claim-text>15. A control server (602) configured to enable resumption of a paused media information stream sent in a live broadcast of a TV program, comprising: </claim-text><claim-text>- a communication unit (602a) adapted to receive from a user equipment (300) a request message comprising an indicator of a pause time in the media information <!-- EPO <DP n="21"/>--> stream indicating the time when a user of the user equipment has paused the broadcasted media information stream, and </claim-text><claim-text>- a calculating unit (602b) adapted to calculate an offset value based on said indicator of the pause time, the offset value indicating a pause point in the media information stream where the pause occurred, </claim-text><claim-text>- wherein the communication unit (602a) is further adapted to send an answer message comprising a file location address of a recorded version of the TV program and the calculated offset value to the user equipment, thereby enabling the user equipment to resume the media information stream from said pause point based on the received file location address and offset value. </claim-text></claim><claim id="clm-0016" num="16"><claim-text>16. A control server according to claim 15, wherein the offset value is a time displacement from a start of the media information stream to said pause point requested by the user equipment. </claim-text></claim><claim id="clm-0017" num="17"><claim-text>17. A control server according to claim 15 or 16, wherein the indicator of a pause time is provided in the request message as a timestamp in the media information stream. </claim-text></claim><claim id="clm-0018" num="18"><claim-text>18. A control server according to any of claims 15-17, wherein the </claim-text><claim-text>communication unit (602a) is further adapted to send the answer message to a browser in the user equipment. </claim-text></claim></claims><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
