<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2682905-A1" country="EP" doc-number="2682905" kind="A1" date="20140108" family-id="46724210" file-reference-id="272533" date-produced="20180824" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146584847" ucid="EP-2682905-A1"><document-id><country>EP</country><doc-number>2682905</doc-number><kind>A1</kind><date>20140108</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-12175129-A" is-representative="YES"><document-id mxw-id="PAPP154847039" load-source="docdb" format="epo"><country>EP</country><doc-number>12175129</doc-number><kind>A</kind><date>20120705</date><lang>EN</lang></document-id><document-id mxw-id="PAPP200056422" load-source="docdb" format="original"><country>EP</country><doc-number>12175129.1</doc-number><date>20120705</date></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140554072" ucid="EP-12175129-A" load-source="docdb"><document-id format="epo"><country>EP</country><doc-number>12175129</doc-number><kind>A</kind><date>20120705</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1989319185" load-source="docdb">G06Q  10/06        20120101AFI20121115BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1909555117" load-source="docdb" scheme="CPC">G06Q  10/06        20130101 FI20160811BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1909555118" load-source="docdb" scheme="CPC">G06F  17/00        20130101 LI20160811BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132359174" lang="DE" load-source="patent-office">Verfahren und System zur Handhabung konditionaler Abhängigkeiten zwischen alternativen Produktsegmenten innerhalb eines ANSI/ISA/95 kompatiblen Herstellungsausführungssystems</invention-title><invention-title mxw-id="PT132359175" lang="EN" load-source="patent-office">Method and system for handling conditional dependencies between alternative product segments within a manufacturing  execution system ANSI/ISA/95 compliant.</invention-title><invention-title mxw-id="PT132359176" lang="FR" load-source="patent-office">Procédé et système pour gérer des dépendances conditionnelles entre autres segments de produits dans un système d'exécution de fabrication conforme à la norme ANSI/ISA/95</invention-title><citations><patent-citations><patcit mxw-id="PCIT242942462" load-source="docdb" ucid="EP-2040204-A1"><document-id format="epo"><country>EP</country><doc-number>2040204</doc-number><kind>A1</kind><date>20090325</date></document-id><sources><source name="SEA" category="I" created-by-npl="N"/></sources></patcit></patent-citations><non-patent-citations><nplcit><text>DIRK KOZIAN: "Software fur die Automatisierung--Transparenz uber die Ablaufe schaffen", ELEKTRONIK FUR DIE AUTOMATISIERUNG, 17 November 1999 (1999-11-17), pages 11</text><sources><source mxw-id="PNPL69583157" load-source="docdb" name="APP"/></sources></nplcit></non-patent-citations></citations></technical-data><parties><applicants><applicant mxw-id="PPAR919540518" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>SIEMENS AG</last-name><address><country>DE</country></address></addressbook></applicant><applicant mxw-id="PPAR919509653" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>SIEMENS AKTIENGESELLSCHAFT</last-name></addressbook></applicant><applicant mxw-id="PPAR919014733" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Siemens Aktiengesellschaft</last-name><iid>101362070</iid><address><street>Wittelsbacherplatz 2</street><city>80333 München</city><country>DE</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR919533815" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>RAVIOLA ALESSANDRO</last-name><address><country>IT</country></address></addressbook></inventor><inventor mxw-id="PPAR919510380" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>Raviola, Alessandro</last-name></addressbook></inventor><inventor mxw-id="PPAR919007756" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Raviola, Alessandro</last-name><address><street>Via Laviosa 37/21</street><city>16156 Genova</city><country>IT</country></address></addressbook></inventor><inventor mxw-id="PPAR919539555" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>REGGIO ELENA</last-name><address><country>IT</country></address></addressbook></inventor><inventor mxw-id="PPAR919538905" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>REGGIO, ELENA</last-name></addressbook></inventor><inventor mxw-id="PPAR919007429" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>REGGIO, ELENA</last-name><address><street>Salita Carupola 44</street><city>16133 Genova</city><country>IT</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR919007026" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Fischer, Michael</last-name><iid>100039532</iid><address><street>Siemens AG Postfach 22 16 34</street><city>80506 München</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><designated-states><ep-contracting-states><country mxw-id="DS549907260" load-source="docdb">AL</country><country mxw-id="DS549812122" load-source="docdb">AT</country><country mxw-id="DS549907262" load-source="docdb">BE</country><country mxw-id="DS549741469" load-source="docdb">BG</country><country mxw-id="DS549739241" load-source="docdb">CH</country><country mxw-id="DS549738228" load-source="docdb">CY</country><country mxw-id="DS549812123" load-source="docdb">CZ</country><country mxw-id="DS549739894" load-source="docdb">DE</country><country mxw-id="DS549907263" load-source="docdb">DK</country><country mxw-id="DS549738229" load-source="docdb">EE</country><country mxw-id="DS549741100" load-source="docdb">ES</country><country mxw-id="DS549741470" load-source="docdb">FI</country><country mxw-id="DS549741471" load-source="docdb">FR</country><country mxw-id="DS549907264" load-source="docdb">GB</country><country mxw-id="DS549907265" load-source="docdb">GR</country><country mxw-id="DS549907266" load-source="docdb">HR</country><country mxw-id="DS549812124" load-source="docdb">HU</country><country mxw-id="DS549739242" load-source="docdb">IE</country><country mxw-id="DS549907267" load-source="docdb">IS</country><country mxw-id="DS549741472" load-source="docdb">IT</country><country mxw-id="DS549738230" load-source="docdb">LI</country><country mxw-id="DS549739895" load-source="docdb">LT</country><country mxw-id="DS549812125" load-source="docdb">LU</country><country mxw-id="DS549739896" load-source="docdb">LV</country><country mxw-id="DS549739897" load-source="docdb">MC</country><country mxw-id="DS549739067" load-source="docdb">MK</country><country mxw-id="DS549739068" load-source="docdb">MT</country><country mxw-id="DS549812142" load-source="docdb">NL</country><country mxw-id="DS549741101" load-source="docdb">NO</country><country mxw-id="DS549812143" load-source="docdb">PL</country><country mxw-id="DS549741102" load-source="docdb">PT</country><country mxw-id="DS549812144" load-source="docdb">RO</country><country mxw-id="DS549739899" load-source="docdb">RS</country><country mxw-id="DS549812145" load-source="docdb">SE</country><country mxw-id="DS549739900" load-source="docdb">SI</country><country mxw-id="DS549739243" load-source="docdb">SK</country><country mxw-id="DS549739244" load-source="docdb">SM</country><country mxw-id="DS549739513" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA128673019" lang="EN" load-source="patent-office"><p id="pa01" num="0001">A system for handling conditional dependencies between alternative product segments of a production process modelled within a manufacturing execution system (MES), includes a number of data processing units connected to a common network and production components, such as equipments or simple sensors and actuators. The data processing units run a MES software for controlling and monitoring the production process. The MES software includes a production modeler enabled to embed time-sensitive dependency information in each product segment in order to define the start of execution in relation to another product segment. The production modeler is further enabled for embedding in each product segment programmed for alternative execution a conditional dependency information and an associated sequence attribute about the order of evaluation of the specified condition. The MES software, during or at the end of execution of a product segment preceding alternative executions, checks the condition specified as first in the set of sequence attributes and, if that condition is satisfied, executes the product segment corresponding with that condition, otherwise iterates the check for execution until a condition is satisfied. An timeout attribute is assigned to check the condition.
<img id="iaf01" file="imgaf001.tif" wi="78" he="106" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA128737164" lang="EN" source="EPO" load-source="docdb"><p>A system for handling conditional dependencies between alternative product segments of a production process modelled within a manufacturing execution system (MES), includes a number of data processing units connected to a common network and production components, such as equipments or simple sensors and actuators. The data processing units run a MES software for controlling and monitoring the production process. The MES software includes a production modeler enabled to embed time-sensitive dependency information in each product segment in order to define the start of execution in relation to another product segment. The production modeler is further enabled for embedding in each product segment programmed for alternative execution a conditional dependency information and an associated sequence attribute about the order of evaluation of the specified condition. The MES software, during or at the end of execution of a product segment preceding alternative executions, checks the condition specified as first in the set of sequence attributes and, if that condition is satisfied, executes the product segment corresponding with that condition, otherwise iterates the check for execution until a condition is satisfied. An timeout attribute is assigned to check the condition.</p></abstract><description mxw-id="PDES63959007" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001"><b>FIELD OF THE INVENTION</b></heading><p id="p0001" num="0001">The present invention is referred to the field of Manufacturing Execution Systems (MES), and more precisely to a method and system for handling conditional dependencies between alternative product segments within a manufacturing execution system ANSI/ISA/95 compliant.</p><heading id="h0002"><b>BACKGROUND ART</b></heading><p id="p0002" num="0002">To increase competitiveness, manufacturers need to simultaneously reduce time-to-market, increase process visibility and production flexibility, optimize forecasting and scheduling, and reduce scrap, stock levels and downtimes; all while ensuring optimal quality and production efficiency across all global facilities. Meeting these goals requires an integrated Information Technology (IT) infrastructure that helps coordinate production on a global scale and, if necessary, in real time. Examples include specifications, equipment and facilities, processes and procedures and quality tests, as well as personnel resources. Today, there are proven systems on the market that address the need for greater performance from the plant floor. They are Manufacturing Execution Systems (MES), generally defined as the layer that integrates the Business Systems, e.g. the Enterprise Resource Planning (ERP) and control systems. Many publications address MES concepts and implementations, for example the article of <nplcit id="ncit0001" npl-type="s"><text>Dirk Kozian titled: "Software fur die Automatisierung--Transparenz uber die Ablaufe schaffen", published in Elektronik fur die Automatisierung, 11, Nov. 17, 1999</text></nplcit>.<!-- EPO <DP n="2"> --></p><p id="p0003" num="0003">The "Manufacturing Enterprise Solutions Association" <b>International</b> (MESA) calls the MES: ".... <i>a dynamic information system that drives effective execution of manufacturing operations. Using current and accurate data, MES guides, triggers and reports on plant activities as events occur. The MES set of functions manages production operations from point of order release into manufacturing</i> to <i>point of product delivery into finished goods. MES provides mission critical information about production activities</i> to <i>others across the organization and supply chain via bidirectional communication."</i></p><p id="p0004" num="0004">The <b>ASI/ISA/95</b> standardizes a common framework directed to the present and future MES developers. The ANSI/ISA/95 "Enterprise Control System Integration" includes:
<ul><li>Part 1: Models and Terminal ANSI/ISA/95 terminology;</li><li>Part 2: Object Model Attributes;</li><li>Part 3: Activity Models;</li><li>Part 4: Object models and attributes of manufacturing operations management activities (in development at the time of publication of this standard)</li><li>Part 5: Business-to-manufacturing transactions;</li><li>Part 6: Manufacturing operations transactions (in development at the time of publication of this standard).</li></ul></p><p id="p0005" num="0005">Because of its generality there is room for developing original customer solutions in line with this standard. <figref idrefs="f0003">Figure 3</figref> of Part 1 (omitted) reproduces by means of ellipses a Multi-level hierarchy of activities depicted in Part 1. This model is subdivided in four superimposed Levels, MES is located at Level 3 while ERP at Level 4. Most MES systems include Programmable Logic Controllers (PLC) and the connectivity to Supervisory Control and Data Acquisition (SCADA) and Distributed Control System (DCS) as part of their<!-- EPO <DP n="3"> --> product offering for exchanging plant floor data. Figure 7 of Part 1 (omitted) reproduces by means of ellipses connected by arrows a Functional data flow model for the Production operations management, intended as the collection of activities which coordinate, direct, and track the functions that use raw materials, energy, and information to produce product. The MES carries out the Production Control function, the ERP the other functions.</p><p id="p0006" num="0006">A dynamic representation of the flow model shall sequence the production steps into a workflow for obtaining a final product according to relevant production rules, to say production specific operations instructions. This implies a preliminary segmentation of the production process into a plurality of product segments, as the overlap of information between Product Production Rules (PPR) and the bill of resources. The product segment is a model that describes a job or task consisting of one of more work elements, usually done essentially in one location. A product segment is the most detailed process view for the business system to control material, labor, resource usage, cost, and quality in order to control the production. Product segments may correspond to:
<ol><li>a) IEC 61512-1 process stages, process operations, unit procedures, or operations for batch manufacturing;</li><li>b) production unit operations for continuous manufacturing;</li><li>c) assembly steps and assembly actions for discrete manufacturing;</li><li>d) other types of identifiable time spans for other types of manufacturing.</li></ol></p><p id="p0007" num="0007">A workflow in a Manufacturing Execution System has to be considered as an extension of the data contained into a Product Production Rule (PPR) information. In this sense a workflow does not have its own version and lifecycle but<!-- EPO <DP n="4"> --> inherits the ones of PPR. Basically each step of a workflow has a one-to-one correspondence with a Product Segment of the PPR. The data model of the Product Production Rule is extended in order to contain:
<ul><li>the connections (branches) among the workflow steps;</li><li>the expressions used to configured it (e.g. to evaluate a condition);</li><li>the workflow layout.</li></ul></p><p id="p0008" num="0008">Profitably, a Graphical User Interface (GUI) interacting with the MES software is commonly used to design workflows in a very simple way, for example, by picking up icons from a tool-box on the screen and placing it in the assigned position of the visible layout of the workflow under construction. The same GUI interface permits the operator to browse the current state of the production process.</p><p id="p0009" num="0009">A workflow should also support a subset of the Workflow Patterns defined by the Workflow Pattern Initiative (WPI): the joint effort of Eindhoven University of Technology and Queensland University of Technology since 1999 , the aim of which is to provide a conceptual basis for process technology. This subset should satisfy requirements coming especially from Process and Life Sciences Industries. The main pattern codes defined by WPI are the following:
<ul><li>Sequence: a task in a process in enabled after the completion of a preceding task in the same process.</li><li>Parallel Split: allows a single thread of execution to be split into two or more branches which can execute tasks concurrently.</li><li>Synchronization (AND Join): a mean of reconverging the execution threads of two or more parallel branches, created using the Parallel Split task earlier in the WF.</li><li>Exclusive Choice (Switch): the divergence of a branch into<!-- EPO <DP n="5"> --> two or more branches such that when the incoming branch is enabled, the thread of control is immediately passed to precisely one of the outgoing branches based on a mechanism that can select one of the outgoing branches.</li><li>Simple Merge (XOR Join): the convergence of two or more branches into a single subsequent branch.</li><li>Structured Loop: the ability to execute a task or subprocess repeatedly.</li></ul></p><heading id="h0003"><b>OUTLINED TECHNICAL PROBLEM</b></heading><p id="p0010" num="0010">Indubitably a goal of the companies that offer MES-based information technology solutions for Totally Integrated Automation (TIA), Service Oriented Architectures (SOA), is that to be ANSI/ISA/95 compatible. This shall not preclude the freedom of introducing original <b>contributes</b> at the engineering phase. Siemens offers a broad range of TIA solutions under its SIMATIC<sup>®</sup> product family situated within the field of manufacturing execution system (MES). As far as concerns the compatibility with ISA/95, almost all WPI structures listed above do not give rise to problem in maintaining said compatibility when translated into a MES workflow. The only exception stems from the Exclusive Choice for switching between various alternatives if a relevant condition is true (the mechanism stated in WPI).</p><p id="p0011" num="0011">The workflow of <figref idrefs="f0001"><b>figure 1</b></figref> attempts to implement the Exclusive Choice (Switch) pattern by means of a logical entity (?) of the IF-THEN-ELSE type. This workflow includes: five production steps A, B, C, D, E; a logical block 2 (?), a starter 1, a terminator 6, and arrows to indicate time dependencies between the steps. These production steps within a MES are considered as product segments and thus indicated by the same capital letters. The various product segments modellize the manufactured product at different phases of the<!-- EPO <DP n="6"> --> production. The product segments B, C, D so as the conditional information on their execution are enclosed in three major blocks 3, 4, 5. In detail, block 3 includes the product segment B, the description of a CONDITION 1, and an associated attribute "sequence = 2". Block 4 includes the product segment C, the description of a CONDITION 2, and its attribute "sequence = 1". Block 5 includes the product segment D, the description of a CONDITION 3, and its attribute "sequence = 3". The attribute "sequence" indicates a pre-established evaluation order of the three conditions. The manufacturing process, after completing the product segment A, activates the logical block 2 to evaluate of one of three conditions according to the order established in engineering phase through the attribute "sequence". Condition 2 is the one to be evaluated first because has the lowest sequence number. IF the "condition 2" is TRUE the outgoing production step of product segment C will be executed. Alternatively IF "condition 2" is FALSE, the condition chosen according to the next sequence number (in the example "condition 1") is evaluated, and IF it is TRUE the related outgoing production step of product segment B will be executed. IF even "condition 1" is false, the algorithm is reiterated for "condition 3".</p><p id="p0012" num="0012"><figref idrefs="f0002"><b>Figure 2</b></figref> is an alternative representation of the workflow of <figref idrefs="f0001">figure 1</figref>. In the Applicant's opinion both workflows of <figref idrefs="f0001"><b>figure 1</b></figref> and <figref idrefs="f0002"><b>2</b></figref> are unknown in the MES, nevertheless they are not claimed due to drawbacks that are now underlined.</p><p id="p0013" num="0013">The workflow of <figref idrefs="f0002">figure 2</figref> shows an additional entity with respect to the standard "Product definition model" reported in the present <figref idrefs="f0004"><b>figure 4</b></figref> (that will be described later on). The additional entity is a WorkflowNode 7 which includes the logical block 2 (?), Conditions 1, 2, 3, and the respective attributes "sequence". 2, 1, 3. Because of the presence of<!-- EPO <DP n="7"> --> its additional entity 7, the workflow of <figref idrefs="f0002"><b>figure 2</b></figref> is outside the ANSI/ISA/95 standard, so any MES software strictly compliant with this standard should not recognise the unexpected entity. Besides, this entity shall be made persistent on the relational database handled by the MES software (e.g. the business database of SIMATIC IT) through dedicated tables, and these tables shall be replicated for each type-7 WorkflowNode used to build up more complex Workflows. Soon the size of MES database will increase noticeably, and even the queries for retrieving information about the workflow will come out more complex.</p><heading id="h0004"><b>OBJECT OF THE INVENTION</b></heading><p id="p0014" num="0014">A main purpose of the invention is to indicate a way to carry out the Exclusive Choice (Switch) inside the Product Production Rules of the international standard ANSI/ISA/95, without introducing any further entity with respect to the existing model of "Product definition".</p><p id="p0015" num="0015">Another purpose is that to simplify the queries on the MES database.</p><heading id="h0005"><b>SUMMARY OF THE INVENTION</b></heading><p id="p0016" num="0016">The invention achieves said object by providing a system for handling conditional dependencies between alternative product segments of a production process modelled within a manufacturing execution system, called MES henceforth, comprising:
<ul><li>a number of data processing units connected to a common network and running an MES software designed for controlling the production process operating production components;</li><li>a production modeler within the MES software enabled to embed time-sensitive dependency information in each<!-- EPO <DP n="8"> --> product segment in order to define the start of execution in relation to another product segment;</li></ul>
<u>wherein in accordance with the invention:</u>
<ul><li>the production modeler being further enabled for embedding in each product segment programmed for alternative execution a conditional dependency information and an associated sequence attribute about the order of evaluation of the specified condition;</li><li>the MES software being configured to check during or at the end of execution of a product segment preceding alternative executions, the condition specified as first in the set of sequence attributes and, if that condition is satisfied, executing the product segment corresponding with that condition, otherwise iterating the check for execution until a condition is satisfied, as disclosed in claim 1.</li></ul></p><p id="p0017" num="0017">Additional features of the present invention which are believed to be novel are set forth in the appended claims. According to one aspect of the invention, said production modeler is further designed for assigning a timeout attribute to check the condition, and the MES software is configured to wait for the check result up to the lapse of the timeout and then checking a successive condition.</p><p id="p0018" num="0018">According to one aspect of the invention, said conditional dependency information includes values of physical parameters, such as temperature, pressure, density, and so on, measurable during or at the end of the production step. According to another aspect of the invention, said conditional dependency information includes quality indicators associated to the product segment.</p><p id="p0019" num="0019">According to another aspect of the invention, said conditional dependency information includes business indicators associated to the product segment.<!-- EPO <DP n="9"> --></p><p id="p0020" num="0020">It is also object of the invention a method for handling conditional dependencies between alternative product segments of a production process modelled within a manufacturing execution system, called MES henceforth, including the steps of:
<ul><li>providing a number of data processing units and connecting them to a common network, loading into said processing units an MES software designed for controlling the production process operating production components;</li><li>providing a production modeler within the MES software enabled to embed time-sensitive dependency information in each product segment in order to define the start of execution in relation to another product segment,</li></ul>
<u>wherein in accordance with the invention of method</u> the following steps are further included:
<ul><li>instructing the production modeler for embedding in each product segment programmed for alternative execution a conditional dependency information and an associated sequence attribute about the order of evaluation of the specified condition;</li><li>instructing the MES software to check, during or at the end of execution of a product segment preceding alternative executions, the condition specified as first in the set of sequence attributes and, if that condition is satisfied, executing the product segment corresponding with that condition, otherwise iterating the check for execution until a condition is satisfied, as disclosed in a relevant independent claim.</li></ul></p><p id="p0021" num="0021">According to another aspect of the method, it also includes the steps of:
<ul><li>instructing said production modeler to assign a timeout attribute to the conditional dependency; and<!-- EPO <DP n="10"> --></li><li>configuring the MES software to wait for the check result up to the lapse of the timeout and then checking a successive condition.</li></ul></p><heading id="h0006"><b>ADVANTAGES OF THE INVENTION</b></heading><p id="p0022" num="0022">The segment dependency is a modeling structure already in use for temporal dependencies, the fact of extending the capabilities of this entity for defining the Exclusive Choice path is an optimization, since the user can work with familiar tools to model both types of dependencies, the temporal and the new conditional one.</p><p id="p0023" num="0023">Differently from the unclaimed solution of <figref idrefs="f0002">figure 2</figref>, not any additional entity is needed to implement the Exclusive Choice, thus without altering the ANSI/ISA/95 Product Production Rules.</p><p id="p0024" num="0024">In the modeling phase the system checks that the conditional dependencies are well defined and at the successive production phase the MES system evaluates automatically the conditions and chooses the execution branch. Both types of dependencies can be also available to the system scheduler and their extension could allow the generation of a better production plan.</p><p id="p0025" num="0025">The following further demonstrates the benefits of the invention by means of a direct comparison between two workflows preceded by a short view on the standard. Since the ANSI/ISA/95 draft of May 2001, the "dependency" has been embedded the into the product segment. Further, in Part 2 - Table 56 titled: "Attribute of operations segment dependency", the following attributes have been specified: ID, Description, Dependency Type, Dependency Factor, Unit of Misure. For instance, temporal dependency type using A and B to identifying two product segments and T to identify the<!-- EPO <DP n="11"> --> timing factor (not to be confused with the new attribute timeout), includes the following dependencies:
<ul><li>NotFollow == B cannot follow A;</li><li>PossibleParallel == B may run in parallel to A;</li><li>NotInParallel == B may not run in parallel to A;</li><li>AtStart == Start B at A start;</li><li>AfterStart == Start B after A start;</li><li>AfterEnd == Start B after A end;</li><li>NoLaterAfterStart == Start B no later than T (Timing Factor) after A start;</li><li>NoEarlierAfterStart == Start B no earlier than T (Timing Factor) after A start;</li><li>NoLaterAfterEnd == Start B no later than T (Timing Factor) after A end;</li><li>NoEarlierAfterEnd == B no earlier than T (Timing Factor) after A end.</li></ul></p><p id="p0026" num="0026">Should the AfterEndStart dependency be implemented in concomitance with the Exclusive Choice having conditions 1, 2, 3, (as done in the workflow of <figref idrefs="f0002"><b>figure 2</b></figref> for product segments A, B, C, D) by introducing the unclaimed object WorkflowNode 7, the entities into play are:
<ol><li>1. Product segment A.</li><li>2.WorkflowNode 7 with conditions 1, 2, 3.</li><li>3. Dependency AfterEnd between node 7 and A.</li><li>4. Product segment B.</li><li>5. Dependency AfterEnd between B and node 7 (if condition 1 is true).</li><li>6. Product segment C.</li><li>7. Dependency AfterEnd between C and node 7 (if condition 2 is true).</li><li>8. Product segment D.</li><li>9. Dependency AfterEnd between D and node 7 (if condition 3<!-- EPO <DP n="12"> --> is true) .</li><li>10. Dependency AfterEnd between E and B.</li><li>11. Dependency AfterEnd between E and C.</li><li>12. Dependency AfterEnd between E and D.</li></ol></p><p id="p0027" num="0027">Twelve entities are involved, and the following is a possible query:
<ul><li><i>"select* from ProductSegmentTable, WorkflowNodeTable, ......., where</i> ...... ",</li><li>wherein the joined element <i>WorkflowNodeTable</i> is a complication.</li></ul></p><p id="p0028" num="0028">Conversely, using the present invention to implement the same situation, the simplified workflow of <figref idrefs="f0005"><b>figure 5</b></figref> will be obtained, and the entities into play are:
<ol><li>1. Product segment A*.</li><li>2. Product segment B*.</li><li>3. Product segment C*.</li><li>4. Product segment D*.</li><li>5. Dependency AfterEnd between B* and A* (if condition 1 is true).</li><li>6. Dependency AfterEnd between C* and A* (if condition 2 is true).</li><li>7. Dependency AfterEnd between D* and A* (if condition 3 is true).</li><li>8. Dependency AfterEnd between E* and B*.</li><li>9. Dependency AfterEnd between E* and C*.</li><li>10. Dependency AfterEnd between E* and D*.</li></ol></p><p id="p0029" num="0029">Ten entities are involved instead of twelve and a simpler query is:
<ul><li><i>"select * from ProductSegmentTable,</i> ......., where ............",</li></ul></p><p id="p0030" num="0030">A noticeable saving of resources since the saving should be multiplied by the considerable number of exclusive choices generally present in any complete workflow of a production process.<!-- EPO <DP n="13"> --></p><p id="p0031" num="0031">In spite of the technical problem and the above arguments have been discussed with reference to graphical representation of the workflows, it is useful point out that the invention is not focussed on the graphical presentation of the workflow by means of a GUI; rather it is focussed on how implementing the new conditional dependency on product segments. Handling with product segments in a new way also entails a new layout of the workflow as a direct consequence.</p><heading id="h0007"><b>BRIEF DESCRIPTION OF THE DRAWINGS</b></heading><p id="p0032" num="0032">The features of the present invention which are considered to be novel are set forth with particularity in the appended claims. The invention and its advantages may be understood with reference to the following detailed description of an embodiment thereof taken in conjunction with the accompanying drawings given for purely non-limiting explanatory purposes and wherein:
<ul><li><figref idrefs="f0001"><b>figure 1</b></figref> shows a tentatively workflow to implement an Exclusive Choice pattern as defined by the Workflow Pattern Initiative (WPI). This workflow implements three conditional switches between an equal number of product segments. The workflow is not described in the claims;</li><li><figref idrefs="f0002"><b>figure 2</b></figref> is a rearrangement of the workflow of <figref idrefs="f0001">figure 1</figref>.<br/>
Even the workflow of <figref idrefs="f0002">figure 2</figref> is unclaimed;</li><li><figref idrefs="f0003"><b>figure 3</b></figref> shows a schematic overview of a Manufacturing Execution System for the management of a production process inside a plant;</li><li><figref idrefs="f0004"><b>figure 4</b></figref> reproduces part of the "Product definition model" reported in the Annex A (Normative) of ANSI/ISA/95 - Part 2;</li><li><figref idrefs="f0005"><b>figure 5</b></figref> shows a workflow according to the present invention to implement three conditional switches between product segments.</li></ul><!-- EPO <DP n="14"> --></p><heading id="h0008"><b>DETAILED DESCRIPTION OF THE INVENTION</b></heading><p id="p0033" num="0033"><figref idrefs="f0003"><b>Figure 3</b></figref> illustrates a schematic overview of a plant control system 10 working as a manufacturing execution system (MES). The MES 10 comprises a network 11 connecting a number of data processing units 13, 14, 15, 16, 17, 18, and a database 12. Without limitations, at physical level the network 11 is a Gigabit Ethernet on optical fibre according to the IEEE 802.3-.... standard. The data processing units 13 to 18 are running a MES software MES_SW for controlling and/or monitoring a production process operating a number of production components 20, 21, 22, 23, 24, 25, 26, 27. The production components 20 bis 27 can be equipments or single sensors or actuators activable inside an equipment. Exemplary production components are: photocells, manometers, thermometers, motors, step-drives, conveyors, valves, pumps, and the like. The data processing units 13 to 18 are network computers which typically comprise logical units, calculation means, storage means, display means, interfacing means, and the like. They are connected to the plant network 11 to exchange data to the required extent. One of the data processing units hereinafter referred to a master console 13 is executing the MES_SW software for controlling and monitoring the operation of the plant and supervising the other data processing units 14 to 18. The two processing units 14 and 15 have not direct links with production components, they are spare or used for maintenance, backup, etc. The archive 12 comprises a MES relational database storing: business libraries, historical data, customer developed applications, and the like. The archive 12 can be queried to retrieve data relevant to the plant and the developed projects. Optionally, the data processing units 16, 17, 18 having direct links with respective production components 20 bis 27 can be PLCs, profitably upgraded and<!-- EPO <DP n="15"> --> endowed with supplementary intelligence for MES uses, as the ones commercialized by the applicant under SIMATIC<sup>®</sup> trademark. The MES software running within the master console 13 includes a modelling routine prompted by input information about a product to be produced and the relevant manufacturing process (technical and business information are inputted).</p><p id="p0034" num="0034">The modelling routine performs a segmentation of the production process information into a set of product segments having the information for linking one to another embedded. Further, the modelling routine is a production modeler PM enabled to define a business logic within a fully graphical environment as facilitated by MES software. The business logic, when finally generated by the production modeller PM, comprises a plant model of the production process and the related operating procedures for the production components 21 bis 27 in a fully graphical environment. Even for the creation of the business logic, high-level graphical language is used within the MES software, preferably consistently with the ANSI/ISA/95 standard. The master console 13 further comprises a client application builder CAB within the MES software. The CAB builder is enabled to provide native WEB based graphical user interface for generating cross-functionality graphic screen S. Said screen forming part of the system 10 as Presentation Clients 30 31, 32 and displaying data D which is stemming from the production components 20 to 27 and which is manipulated from the business logic by the production modeller PM, where it is required. The term WEB based describes a standardized way of integrating applications over Internet Protocol (IP), such as HTPP or SMTP, using open source standards such as XML, SOAP, WSDL, and UDDI.</p><p id="p0035" num="0035">Nowadays graphical interfaces are universally adopted in all factory control systems, since these interfaces represent a<!-- EPO <DP n="16"> --> valid help for customers without any familiarity with program languages, who are permitted to project their production tasks from scratch, or modifying a previous workflow, by pick-and-place typical of WYSWYG. Graphical interfaces even allow of tracking the execution of the production processes. The plant control system 10 further comprises within the MES software, preferably within the product modeller PM, a routine for handling time-sensitive dependencies as stated in ANSI/ISA/95 concerning the property "Type" of the product segment, i.e. AfterEnd, AfterStart, and so on.</p><p id="p0036" num="0036">According to the present invention, the plant control system 10 further comprises within the MES software, preferably within the product modeller PM, a routine for handling conditional dependencies. This permits carrying out Exclusive Choice in simple manner. The following <figref idrefs="f0004"><b>figures 4</b></figref> and <figref idrefs="f0005"><b>5</b></figref> better illustrate this concept.</p><p id="p0037" num="0037"><figref idrefs="f0004"><b>Figure 4</b></figref> is illustrating the standard model for a product segment 110, which also specifies other product segments, from 1 to n. The product segment 110 is part of product definition 100. The latter is a collection of information about resources, production rules and scheduling required to create a product. A product definition has external reference to a bill of materials, a product production rule (PPR or recipe), and a bill of resources. Examples of product definition rules are a general site or master recipe (IEC 61512-1 definitions), product data application protocol (AP) as defined in ISO 10303-1, standard operating procedure (SOP), standard operating conditions (SOC), routing, or assembly steps based on the production strategy used. Ultimately, product definition 100 also represents product production rules.</p><p id="p0038" num="0038">Each product segment 110 may comprise the following, from 0 to n: parameter specification 130, personnel specification<!-- EPO <DP n="17"> --> 140, equipment specification 150, physical asset specification 160, material specification 170. The specifications 130 bis 170 have associated respective properties 190, 200, 210, 220, each from 0 to n. The product segment 110 has an execution dependency on the product segment dependency 120. The product segment dependency 120 may include all information on the sequence and time-sensitive requirements of the product segment 110 relative to other product segments. Further, the product segment 110 may include another dependency called hereinafter "conditional dependency" and the product segment dependency 120 may include all information needed to support the conditional dependency. During the production the MES system evaluates automatically the conditions and activates the next production step (product segment) of N alternatives.</p><p id="p0039" num="0039">In conclusion, product segment dependency 120 becomes a conditional dependency entity and is modelled through the following properties:
<ul><li>ProductionStepFrom (already existing).</li><li>ProductionStepTo (already existing).</li><li>Type (already existing, i.e. AfterEnd, AfterStart and so on).</li><li><b>Sequence</b> (new, i.e. 1, 2, 3 and so on).</li><li><b>Condition</b> (new, i.e. "temperature &gt; 100 °C", "pressure &lt; 5 mbar" and so on).</li><li><b>Timeout</b> (new, i.e. 10 minutes).</li></ul></p><p id="p0040" num="0040">So the idea of modelling the Exclusive Choice pattern by extending the segment dependency entity, allows a MES system to remain adherent to international standard ANSI/ISA/95, even supporting the workflow functionality. In fact, the Product Definition model continues to consist of the standard<!-- EPO <DP n="18"> --> entities and only some adjustments are introduced to make them more flexible.</p><p id="p0041" num="0041"><figref idrefs="f0005"><b>Figure 5</b></figref> shows a workflow of the exclusive choice between three alternatives based on the Product Segment Dependency 120 upgraded as said above.</p><p id="p0042" num="0042">With reference to <figref idrefs="f0005"><b>figure 5</b></figref> five product segments A*, B*, C*, D*, E* are present, a starter 30 and a terminator 36. The five product segments are linked to each other through arrows that represent dependencies. The three arrows which connect the product segment A* to B*; A* to C*; and A* to D* are marked with a black dot to indicate both temporal and conditional dependencies, the other arrows only indicate temporal dependency. The starting product segment A* is the one in progress for manufacturing the final product resultant at the end of the production of the product segment E*. In operation, at engineering phase the Product Modeler PM (<figref idrefs="f0004">figure 4</figref>) inside the MES software MES_SW, completes all dependencies for each product segment A* to E*. These dependencies are time-sensitive for all the five product segments A* to E* and further conditional for the only product segments B*, C*, D*. All time-sensitive dependencies are AfterEnd, although the invention is not limited to this data pattern since the skilled in the MES should adapt this example to the other data patterns. As far as concerns the conditional dependency, specific information on Sequence, Condition, and Timeout are embedded in the product segments B*, C*, D* for enabling the MES execution program (i.e. the scheduler routine) to carry out an exclusive choice after the end of segment A*. The switching rules are those already described when illustrating the workflow of <figref idrefs="f0001">figure 1</figref>, but a noticeable simplification is evident at a glance. The example is referred to a boiler control.<!-- EPO <DP n="19"> --></p><p id="p0043" num="0043">Although the invention has been described with particular reference to a preferred embodiment, it will be evident to those skilled in the art, that the present invention is not limited thereto, but further variations and modifications may be applied without departing from the scope of the invention as defined by the annexed claims.</p></description><claims mxw-id="PCLM56982028" lang="EN" load-source="patent-office"><!-- EPO <DP n="20"> --><claim id="c-en-0001" num="0001"><claim-text>System (10) for handling conditional dependencies between alternative product segments of a production process modelled within a manufacturing execution system, called MES henceforth, comprising:
<claim-text>- a number of data processing units (13, ....18) connected to a common network (11) and running an MES software (MES_SW) designed for controlling the production process operating production components (20, .... 27);</claim-text>
<claim-text>- a production modeler (PM) within the MES software enabled to embed time-sensitive dependency information in each product segment (A*, ....E*) in order to define the start of execution in relation to another product segment,</claim-text>
<b><u>characterized in that</u>:</b>
<claim-text>- the production modeler (PM) being further enabled for embedding in each product segment (B*, C*, D*) programmed for alternative execution a conditional dependency information and an associated sequence attribute about the order of evaluation of the specified condition;</claim-text>
<claim-text>- the MES software (MES_SW) being configured to check, during or at the end of execution of a product segment (A*) preceding alternative executions (B*, C*, D*), the condition specified as first in the set of sequence attributes and, if that condition is satisfied, executing the product segment (C*) corresponding with that condition, otherwise iterating the check for execution until a condition is satisfied.</claim-text></claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>The system of claim 1, <b>characterized in that</b> said production modeler (PM) is further designed for assigning a timeout attribute to check the condition, and the MES software (MES_SW) is configured to wait for the check result<!-- EPO <DP n="21"> --> up to the lapse of the timeout and then checking a successive condition.</claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>The system of claim 1, <b>characterized in that</b> said conditional dependency information includes values of physical parameters, such as temperature, pressure, density, and so on, measurable during or at the end of the production step.</claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>The system of claim 1, <b>characterized in that</b> said conditional dependency information includes business indicators associated to the product segment.</claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>The system of claim 1, <b>characterized in that</b> said conditional dependency information includes quality indicators associated to the product segment.</claim-text></claim><claim id="c-en-0006" num="0006"><claim-text>The system of claim 1, <b>characterized in that</b> said MES software is compliant with the standard ANSI/IS095.</claim-text></claim><claim id="c-en-0007" num="0007"><claim-text>Method for handling conditional dependencies between alternative product segments of a production process modelled within a manufacturing execution system (10), called MES henceforth, including the steps of:
<claim-text>- providing a number of data processing units (13, ....18) and connecting them to a common network (11), loading into said units an MES software designed for controlling the production process operating production components (20, .... 27);</claim-text>
<claim-text>- providing a production modeler (PM) within the MES software enabled to embed time-sensitive dependency information in each product segment (A*, ....E*) in order to define the start of execution in relation to another<!-- EPO <DP n="22"> --> product segment,</claim-text>
<b><u>characterized in that</u></b> it further includes the steps of:
<claim-text>- instructing the production modeler (PM) for embedding in each product segment (B*, C*, D*) programmed for alternative execution a conditional dependency information and an associated sequence attribute about the order of evaluation of the specified condition;</claim-text>
<claim-text>- instructing the MES software (MES_SW) to check, during or at the end of execution of a product segment (A*) preceding alternative executions (B*, C*, D*), the condition specified as first in the set of sequence attributes and, if that condition is satisfied, executing the product segment (C*) corresponding with that condition, otherwise iterating the check for execution until a condition is satisfied.</claim-text></claim-text></claim><claim id="c-en-0008" num="0008"><claim-text>The method of claim 7, <b>characterized in that</b> it also includes the steps of:
<claim-text>- instructing said production modeler (PM) to assign a timeout attribute to the conditional dependency; and</claim-text>
<claim-text>- configuring the MES software (MES_SW) to wait for the check result up to the lapse of the timeout and then checking a successive condition.</claim-text></claim-text></claim></claims><drawings mxw-id="PDW16670422" load-source="patent-office"><!-- EPO <DP n="23"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="157" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="24"> --><figure id="f0002" num="2"><img id="if0002" file="imgf0002.tif" wi="156" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="25"> --><figure id="f0003" num="3"><img id="if0003" file="imgf0003.tif" wi="165" he="127" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="26"> --><figure id="f0004" num="4"><img id="if0004" file="imgf0004.tif" wi="165" he="115" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="27"> --><figure id="f0005" num="5"><img id="if0005" file="imgf0005.tif" wi="165" he="211" img-content="drawing" img-format="tif"/></figure></drawings><search-report-data><doc-page id="srep0001" file="srep0001.tif" wi="157" he="233" type="tif"/><doc-page id="srep0002" file="srep0002.tif" wi="162" he="233" type="tif"/></search-report-data><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
