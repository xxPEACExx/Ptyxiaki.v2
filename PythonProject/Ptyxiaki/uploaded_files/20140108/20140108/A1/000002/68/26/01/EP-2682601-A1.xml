<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2682601-A1" country="EP" doc-number="2682601" kind="A1" date="20140108" family-id="45805916" file-reference-id="309035" date-produced="20180822" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146585321" ucid="EP-2682601-A1"><document-id><country>EP</country><doc-number>2682601</doc-number><kind>A1</kind><date>20140108</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-11721218-A" is-representative="NO"><document-id mxw-id="PAPP154847513" load-source="docdb" format="epo"><country>EP</country><doc-number>11721218</doc-number><kind>A</kind><date>20110228</date><lang>JA</lang></document-id><document-id mxw-id="PAPP189754569" load-source="docdb" format="original"><country>EP</country><doc-number>11721218.3</doc-number><date>20110228</date><lang>JA</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140554982" ucid="JP-2011054463-W" linkage-type="A" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>2011054463</doc-number><kind>W</kind><date>20110228</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1989317338" load-source="docdb">F03D   7/04        20060101ALI20120917BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1989318206" load-source="docdb">F03D   7/02        20060101AFI20120917BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1638243389" load-source="docdb" scheme="CPC">F03D   9/257       20170201 LI20180504BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1852739720" load-source="docdb" scheme="CPC">F03D   9/255       20170201 LI20170201BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2001295906" load-source="docdb" scheme="CPC">F05B2270/337       20130101 LA20151110BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2001297974" load-source="docdb" scheme="CPC">F03D   7/0284      20130101 LI20151110BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2001298601" load-source="docdb" scheme="CPC">H02P   9/10        20130101 FI20151110BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2001301960" load-source="docdb" scheme="CPC">H02P2101/15        20130101 LA20151110BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2001303484" load-source="docdb" scheme="CPC">Y02E  10/723       20130101 LA20151110BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132360596" lang="DE" load-source="patent-office">WINDKRAFTANLAGE UND STEUERUNGSVERFAHREN DAFÜR</invention-title><invention-title mxw-id="PT132360597" lang="EN" load-source="patent-office">WIND POWER GENERATOR, AND METHOD FOR CONTROLLING SAME</invention-title><invention-title mxw-id="PT132360598" lang="FR" load-source="patent-office">GÉNÉRATEUR D'ÉNERGIE ÉOLIENNE ET MÉTHODE DE COMMANDE DE CELUI-CI</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR919514023" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>MITSUBISHI HEAVY IND LTD</last-name><address><country>JP</country></address></addressbook></applicant><applicant mxw-id="PPAR919507242" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>MITSUBISHI HEAVY INDUSTRIES, LTD.</last-name></addressbook></applicant><applicant mxw-id="PPAR919011347" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Mitsubishi Heavy Industries, Ltd.</last-name><iid>101201472</iid><address><street>16-5, Konan 2-chome Minato-ku</street><city>Tokyo 108-8215</city><country>JP</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR919544909" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>YASUGI AKIRA</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919516745" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>YASUGI, AKIRA</last-name></addressbook></inventor><inventor mxw-id="PPAR919019139" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>YASUGI, AKIRA</last-name><address><street>C/o MITSUBISHI HEAVY INDUSTRIES LTD. 16-5 Konan 2-chome Minato-ku</street><city>Tokyo 108-8215</city><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919509102" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>WAKASA TSUYOSHI</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919536374" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>WAKASA, TSUYOSHI</last-name></addressbook></inventor><inventor mxw-id="PPAR919009022" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>WAKASA, TSUYOSHI</last-name><address><street>C/o MITSUBISHI HEAVY INDUSTRIES LTD. 16-5 Konan 2-chome Minato-ku</street><city>Tokyo 108-8215</city><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919540802" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>SHINODA HISANOBU</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919530315" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>SHINODA, HISANOBU</last-name></addressbook></inventor><inventor mxw-id="PPAR919007138" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>SHINODA, HISANOBU</last-name><address><street>C/o MITSUBISHI HEAVY INDUSTRIES LTD. 16-5 Konan 2-chome Minato-ku</street><city>Tokyo 108-8215</city><country>JP</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR919014312" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Intes, Didier Gérard André</last-name><suffix>et al</suffix><iid>100042673</iid><address><street>Cabinet Beau de Loménie 158, rue de l'Université</street><city>75340 Paris Cedex 07</city><country>FR</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="JP-2011054463-W"><document-id><country>JP</country><doc-number>2011054463</doc-number><kind>W</kind><date>20110228</date><lang>JA</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2012117491-A1"><document-id><country>WO</country><doc-number>2012117491</doc-number><kind>A1</kind><date>20120907</date><lang>JA</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS549747386" load-source="docdb">AL</country><country mxw-id="DS549818758" load-source="docdb">AT</country><country mxw-id="DS549745650" load-source="docdb">BE</country><country mxw-id="DS549748155" load-source="docdb">BG</country><country mxw-id="DS549909539" load-source="docdb">CH</country><country mxw-id="DS549745651" load-source="docdb">CY</country><country mxw-id="DS549818759" load-source="docdb">CZ</country><country mxw-id="DS549747387" load-source="docdb">DE</country><country mxw-id="DS549745652" load-source="docdb">DK</country><country mxw-id="DS549745657" load-source="docdb">EE</country><country mxw-id="DS549820525" load-source="docdb">ES</country><country mxw-id="DS549748156" load-source="docdb">FI</country><country mxw-id="DS549909540" load-source="docdb">FR</country><country mxw-id="DS549747388" load-source="docdb">GB</country><country mxw-id="DS549745658" load-source="docdb">GR</country><country mxw-id="DS549747393" load-source="docdb">HR</country><country mxw-id="DS549818760" load-source="docdb">HU</country><country mxw-id="DS549820530" load-source="docdb">IE</country><country mxw-id="DS549745659" load-source="docdb">IS</country><country mxw-id="DS549748169" load-source="docdb">IT</country><country mxw-id="DS549745660" load-source="docdb">LI</country><country mxw-id="DS549748170" load-source="docdb">LT</country><country mxw-id="DS549821909" load-source="docdb">LU</country><country mxw-id="DS549748171" load-source="docdb">LV</country><country mxw-id="DS549748172" load-source="docdb">MC</country><country mxw-id="DS549821914" load-source="docdb">MK</country><country mxw-id="DS549821915" load-source="docdb">MT</country><country mxw-id="DS549820531" load-source="docdb">NL</country><country mxw-id="DS549822612" load-source="docdb">NO</country><country mxw-id="DS549820532" load-source="docdb">PL</country><country mxw-id="DS549748181" load-source="docdb">PT</country><country mxw-id="DS549818761" load-source="docdb">RO</country><country mxw-id="DS549748182" load-source="docdb">RS</country><country mxw-id="DS549820533" load-source="docdb">SE</country><country mxw-id="DS549909541" load-source="docdb">SI</country><country mxw-id="DS549822613" load-source="docdb">SK</country><country mxw-id="DS549822618" load-source="docdb">SM</country><country mxw-id="DS549821916" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA128673493" lang="EN" load-source="patent-office"><p id="pa01" num="0001">An object of the present invention is to, if a frequency decrease has occurred in a power system, avoid a trip in a wind turbine generator and reliably contribute to recovery of the frequency of the power system. The present invention provides a wind turbine generator that, if a predetermined frequency decrease that requires PFR has occurred in the power system, calculates a marginal active power based on the difference between a predetermined rotational speed lower limit value, which is obtained by providing the parallel-off rotational speed with a predetermined margin, and a measured value of the shaft rotational speed, and generates an active power command value based on the marginal active power.<img id="iaf01" file="imgaf001.tif" wi="165" he="83" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA128737647" lang="EN" source="EPO" load-source="docdb"><p>An object of the present invention is to, if a frequency decrease has occurred in a power system, avoid a trip in a wind turbine generator and reliably contribute to recovery of the frequency of the power system. The present invention provides a wind turbine generator that, if a predetermined frequency decrease that requires PFR has occurred in the power system, calculates a marginal active power based on the difference between a predetermined rotational speed lower limit value, which is obtained by providing the parallel-off rotational speed with a predetermined margin, and a measured value of the shaft rotational speed, and generates an active power command value based on the marginal active power.</p></abstract><description mxw-id="PDES63959481" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001">Technical Field</heading><p id="p0001" num="0001">The present invention relates to a wind turbine generator and a method of controlling the same.</p><heading id="h0002">Background Art</heading><p id="p0002" num="0002">In recent years, there has been demand for a system-connected wind turbine generator to be able to contribute to recovery from frequency variation in a power system (Primary Frequency Response, which is hereinafter referred to as "PFR") within a predetermined time (e.g., within 30 sec) from when a disturbance has occurred in the power system.</p><p id="p0003" num="0003">PTL 1 discloses the provision of a limit on active power to be output based on the rotor rotational speed or output power in PFR.</p><heading id="h0003">{Citation List}</heading><heading id="h0004">{Patent Literature}</heading><p id="p0004" num="0004">{PTL 1}<br/>
<patcit id="pcit0001" dnum="US7345373B"><text>US Patent No. 7,345,373</text></patcit></p><heading id="h0005">Summary of Invention</heading><!-- EPO <DP n="2"> --><heading id="h0006">Technical Problem</heading><p id="p0005" num="0005">In PFR, in general, the active power of a wind turbine generator is increased or reduced according to the deviation (amount of frequency change) between a set frequency and an actual frequency (measured value), but with a wind turbine generator whose drive source is inconstant natural energy, there are more cases where the rotational speed of the rotation shaft of the wind turbine varies greatly, in comparison with a turbine generator whose drive source is stable, controllable energy such as gas combustion or steam.</p><p id="p0006" num="0006">For this reason, in the case where the rotational speed of the rotation shaft is small, for example, if an increase in output power is required in order to perform PFR, and the output power supplied to the system exceeds the maximum outputtable power determined by the rotational speed of the rotation shaft at that time, there has been the possibility of the rotational speed of the rotation shaft falling below the parallel-off rotational speed, and the operation exceeding the capacity of the wind turbine, thus resulting in a trip (output power interruption) occurring. Also, in the case where the rotational speed of the rotation shaft is high, for example, if a further<!-- EPO <DP n="3"> --> increase in output power is required, there has been the possibility of the rotational speed of the rotation shaft exceeding the overspeed upper limit, thus resulting in a trip occurring in the wind turbine generator. Note that in addition to rotor overspeed, there are also cases where a trip occurs due overpower or overcurrent.</p><p id="p0007" num="0007">Such a trip in a wind turbine generator during the execution of PFR acts as a disturbance to the power system, and there is the risk of the frequency of the power system becoming even more unstable than in the case of not performing PFR. Also, since it takes time to restart after a trip has occurred, the wind turbine generator cannot achieve the object of recovering the frequency of the power system.</p><p id="p0008" num="0008">The present invention has been achieved in light of such a situation, and an object of the present invention is to provide a wind turbine generator that can reliably contribute to the recovery of the frequency of a power system in the case where a predetermined frequency variation has occurred in the power system, and a method of controlling the same.</p><heading id="h0007">{Solution to Problem}</heading><p id="p0009" num="0009"><!-- EPO <DP n="4"> --> A first aspect of the present invention is a wind turbine generator for increasing active power output to a power system in a case where a frequency decrease has occurred in the power system, the wind turbine generator including: a detection unit that detects a predetermined frequency variation; and a first control unit that, in a case where the predetermined frequency variation has been detected, calculates a marginal active power based on a difference between a predetermined rotational speed lower limit value, which is obtained by providing a parallel-off rotational speed with a predetermined margin, and a measured value of a shaft rotational speed, and generates an active power command value based on the marginal active power.</p><p id="p0010" num="0010">According to the above-described aspect, if the detection unit has detected that a predetermined frequency variation has occurred in the power system, the maximum amount of power that can be output by the rotational energy at that time (marginal active power) is calculated, and an active power command value is generated based on the marginal active power. In general, if a frequency variation that requires PFR has occurred, the amount of increase in the active power is determined based on the frequency of the power system, but it has been newly found<!-- EPO <DP n="5"> --> that the amount of active power supplied from a wind turbine generator to the power system is actually clearly smaller than the amount of increase determined based on the frequency of the power system. In view of this, instead of determining the amount of active power according to the amount of change in the system frequency as in conventional technology, the power system is supplied with the maximum amount of active power that can be output by the wind turbine generator, thus maximally contributing to the recovery of the frequency of the power system while avoiding a trip in the wind turbine generator.</p><p id="p0011" num="0011">The rotational speed lower limit value is a value obtained by providing the parallel-off rotational speed, at which parallel-off is executed, with a predetermined margin. The margin is a value arbitrarily determined according to the design, and one example of the margin is approximately 10%.</p><p id="p0012" num="0012">The active power is the power actually consumed by the load, and is expressed by the following expression. <maths id="math0001" num=""><math display="block"><mi>active power P</mi><mo>=</mo><mi mathvariant="normal">VIcosθ</mi><mspace width="1em"/><mfenced open="[" close="]"><mi mathvariant="normal">W</mi></mfenced></math><img id="ib0001" file="imgb0001.tif" wi="66" he="4" img-content="math" img-format="tif"/></maths></p><p id="p0013" num="0013">In the above expression, V indicates the voltage, I indicates the current, and θ indicates the phase difference between the voltage and the current.</p><p id="p0014" num="0014">In the above-described wind turbine generator, the<!-- EPO <DP n="6"> --> detection unit may detect the predetermined frequency variation in a case where a value of the system frequency is less than a predetermined first threshold value that has been determined in advance, and furthermore an amount of change in the system frequency per unit time exceeds a predetermined second threshold value that has been determined in advance.</p><p id="p0015" num="0015">The fact that the predetermined frequency variation has occurred is detected when two indicators, namely the measured value of the system frequency and the amount of change per unit time, have satisfied predetermined conditions, thus enabling reliably detecting a system frequency variation that requires PFR.</p><p id="p0016" num="0016">In the above-described wind turbine generator, the first control unit may determine a period of a waveform of active power to be supplied to the power system according to the amount of change in the system frequency per unit time.</p><p id="p0017" num="0017">Determining the period of the waveform of the power command value related to the active power according to the amount of change in system frequency per unit time enables determining an appropriate amount of active power according<!-- EPO <DP n="7"> --> to the state of the power system. For example, the greater the amount of change in system frequency per unit time is, the smaller the period is set. This enables anticipating the ability to rapidly suppress a steep frequency variation by quickly supplying active power to the power system in response to the frequency variation. Also, gradually raising the active power in response to a gentle frequency variation enables avoiding excessive power compensation.</p><p id="p0018" num="0018">In the above-described wind turbine generator, the first control unit may have an active power command value arithmetic expression containing the measured value of the shaft rotational speed as a parameter, and generate the active power command value using the arithmetic expression.</p><p id="p0019" num="0019">Determining the active power command value using the arithmetic expression enables obtaining an appropriate active power command value that is in accordance with the shaft rotational speed, and enables finely controlling the active power.</p><p id="p0020" num="0020">In the above-described wind turbine generator, the first control unit may have a table associating measured values of the shaft rotational speed and active power command values, and acquire an active power command value<!-- EPO <DP n="8"> --> that is in accordance with a measured value of a shaft rotational speed using the table.</p><p id="p0021" num="0021">Holding such information as a table eliminates the need for complex arithmetic processing and enables easily determining an active power command value.</p><p id="p0022" num="0022">A second aspect of the present invention is a method of controlling a wind turbine generator for increasing active power output to a power system in a case where a frequency decrease has occurred in the power system, including the steps of: detecting a predetermined frequency variation; and calculating, in a case where the predetermined frequency variation has been detected, a marginal active power based on a difference between a predetermined rotational speed lower limit value, which is obtained by providing a parallel-off rotational speed with a predetermined margin, and a measured value of a shaft rotational speed, and generating an active power command value indicating active power to be supplied to the power system based on the marginal active power.</p><heading id="h0008">Advantageous Effects of Invention</heading><p id="p0023" num="0023">The present invention achieves the effect of enabling avoiding a trip in a wind turbine generator and reliably<!-- EPO <DP n="9"> --> contributing to the recovery of the frequency of a power system in the case where a predetermined frequency variation has occurred in the power system.</p><heading id="h0009">{Brief Description of Drawings}</heading><p id="p0024" num="0024"><ul><li>{<figref idrefs="f0001">Fig. 1} Fig. 1</figref> is an external view of a wind turbine generator according to an embodiment of the present invention.</li><li>{<figref idrefs="f0002">Fig. 2} Fig. 2</figref> is a schematic diagram showing an overall configuration of a wind power station and an electrical configuration of the wind turbine generator according to the embodiment of the present invention.</li><li>{<figref idrefs="f0003">Fig. 3} Fig. 3</figref> is a block diagram showing a schematic configuration of a power command value generation unit according to the embodiment of the present invention.</li><li>{<figref idrefs="f0004">Fig. 4} Fig. 4</figref> is a diagram showing a comparison of power command value waveforms in the case of steep variation in system frequency and the case of gentle variation in system frequency.</li></ul></p><heading id="h0010">Description of Embodiments</heading><p id="p0025" num="0025">Below is a description of a wind turbine generator and method of controlling the same according to an embodiment of the present invention with reference to the drawings.</p><p id="p0026" num="0026"><!-- EPO <DP n="10"> --><figref idrefs="f0001">Fig. 1</figref> is an external view of a wind turbine generator 10 according to this embodiment of the present invention. The wind turbine generator 10 shown in <figref idrefs="f0001">Fig. 1</figref> is a so-called variable-speed wind turbine and has a tower 14 provided upright on a foundation 12, a nacelle 16 disposed on the upper end of the tower 14, and a rotor head 18 provided on the nacelle 16 so as to be able to rotate about a substantially horizontal axis.</p><p id="p0027" num="0027">A plurality of blades 20 (e.g., three in the present embodiment) are attached to the rotor head 18 in a radial configuration around the rotation shaft line of the rotor head 18. The blades 20 are coupled to the rotor head 18 so as to be able to rotate in accordance with an operating condition, and the pitch angle of the blades 20 is variable.</p><p id="p0028" num="0028"><figref idrefs="f0002">Fig. 2</figref> is a schematic diagram showing an overall configuration of a wind power station 30 and an electrical configuration of the wind turbine generator 10 according to the present embodiment. The wind power station 30 includes a substation 31 and a plurality of wind turbine generators 10.</p><p id="p0029" num="0029">The substation 31 is provided with a master controller<!-- EPO <DP n="11"> --> 32 (e.g., SCADA (Supervisory Control And Data Acquisition)) that performs overall control of the wind power station 30.</p><p id="p0030" num="0030">The master controller 32 receives a system requested power value indicating a requested amount of active power from a power system 38, and transmits the system requested power value to the wind turbine generators 10.</p><p id="p0031" num="0031">The wind turbine generators 10 are each connected to the substation 31 via a transformer 34, and are system-connected via a transformer 35 included in the substation 31 and a power transmission line 36.</p><p id="p0032" num="0032">Each of the wind turbine generators 10 includes a gear box 21 and a generator 22 that are mechanically coupled to the rotation shaft of the rotor head 18. Each of the wind turbine generators 10 also includes a controller 23 that controls the blade pitch angle and output power from the generator 22 and a converter 24 that is drive-controlled by the controller 23. The gear box 21, the generator 22, the controller 23, and the converter 24 are, for example, housed inside the nacelle 16 (see <figref idrefs="f0001">Fig. 1</figref>).</p><p id="p0033" num="0033">The controller 23 includes, for example, a turbine controller 40 and a converter controller 42.</p><p id="p0034" num="0034">The turbine controller 40 generates, for example, an<!-- EPO <DP n="12"> --> active power command value that is in accordance with the system requested power value, and outputs the active power command value to the converter controller 42, and if a frequency variation that requires PFR has occurred in the power system, the turbine controller 40 generates an active power command value for causing a quick increase in output power. The turbine controller 40 also generates a pitch angle command value for controlling the pitch angle of the blades 20 based on the system requested power value, and outputs the pitch angle command value to a pitch actuator (not shown). The turbine controller 40 also transmits, for example, the active power of the wind turbine generator 10 and data indicating the control state of the wind turbine generator 10 to the master controller 32.</p><p id="p0035" num="0035">The converter controller 42 controls the converter 24 based on the active power command value received as input from the turbine controller 40.</p><p id="p0036" num="0036">Based on a control signal from the converter controller 42, the converter 24 controls the active power supplied from the generator 22 to the power system 38.</p><p id="p0037" num="0037">In such a wind turbine generator 10, the rotor head 18 is caused to rotate about its rotation shaft by the force of wind striking the blades 20 in the direction of the<!-- EPO <DP n="13"> --> rotation axis of the rotor head 18, the speed of the rotational force is increased by the gear box 21, and the resultant force is transmitted to the generator 22, which generates electricity. The power generated by the generator 22 is controlled by the converter 24 based on an instruction from the controller 23, and the resultant power is sent to the substation 31 via the transformer 34. In the substation 31, the active power from the wind turbine generators 10 is composited and supplied to the power system 38 via, for example, the transformer 35 provided in the substation 31.</p><p id="p0038" num="0038">Next is a description of an embodiment related to the generation of the active power command value, which is a main feature of the present invention, with reference to the drawings. The active power command value is generated by an active power command value generation unit 50 included in the turbine controller 40 of the controller 23. <figref idrefs="f0003">Fig. 3</figref> is a block diagram showing a schematic configuration of the active power command value generation unit 50.</p><p id="p0039" num="0039">The active power command value generation unit 50 includes a detection unit 51 that detects the occurrence of a frequency variation that requires PFR based on the system frequency, a first control unit 52 that generates an active<!-- EPO <DP n="14"> --> power command value for a PFR mode, a second control unit 53 that generates an active power command value for a normal mode, and a selection unit 54 that selects either the first control unit 52 or the second control unit 53 based on a detection result obtained by the detection unit 51.</p><p id="p0040" num="0040">If, for example, the value of the system frequency falls below a predetermined first threshold value (e.g., 59.90 Hz in the case where the rated frequency is 60 Hz) that has been set in advance, and furthermore an amount of change in system frequency per unit time exceeds a predetermined second threshold value (e.g., 0.04 Hz/sec in the case where the rated frequency is 60 Hz) that has been set in advance, the detection unit 51 detects the occurrence of frequency variation that requires PFR, and outputs a PFR mode signal to the selection unit 54.</p><p id="p0041" num="0041">Upon receiving input of the PFR mode signal from the detection unit 51, the selection unit 54 selects the first control unit 52 for a predetermined time period (e.g., 10 sec) which has been set in advance, from when the signal was received, and switches to the second control unit 53 after the predetermined time period has elapsed.</p><p id="p0042" num="0042"><!-- EPO <DP n="15"> --> The first control unit 52 includes an active power command value determination unit 61 and a limiter 62. The active power command value determination unit 61 calculates a marginal active power considered to be the maximum amount of active power that can be output by rotational energy when the PFR was detected, and generates a power command value based on the marginal active power. Specifically, the first control unit 52 determines the amount of active power that is to be supplied to the power system based on the difference between the rotor rotational speed and a rotational speed lower limit value that has been set in advance. The rotor rotational speed is the rotational speed of the rotation shaft, and although the rotational speed before speed increasing by the gear box 21 is used in <figref idrefs="f0002">Fig. 2</figref>, it is possible to use the rotational speed after speed increasing, that is to say, the rotor rotational speed of the generator 22.</p><p id="p0043" num="0043">The rotational speed lower limit value is a rotational speed obtained by providing the parallel-off rotational speed for parallel-off of the wind turbine generator 10 with a predetermined margin. The margin is a value arbitrarily determined according to the design, and in the present embodiment, a margin of approximately 10% is provided.<!-- EPO <DP n="16"> --></p><p id="p0044" num="0044">A marginal power amount p is calculated according to, for example, Expression (1) below using the rotor rotational speed.</p><p id="p0045" num="0045">{Exp 1} <maths id="math0002" num="(1)"><math display="block"><mi>p</mi><mo>=</mo><mfrac><mn>1</mn><mrow><mn>2</mn><mo>⁢</mo><mi>J</mi><mo>⁢</mo><mfenced separators=""><msup><msub><mi mathvariant="normal">ω</mi><mi>m</mi></msub><mn>2</mn></msup><mo>-</mo><msup><msub><mi mathvariant="normal">ω</mi><mn>0</mn></msub><mn>2</mn></msup></mfenced></mrow></mfrac></math><img id="ib0002" file="imgb0002.tif" wi="71" he="20" img-content="math" img-format="tif"/></maths></p><p id="p0046" num="0046">Here, p indicates the marginal active power of the wind turbine generator, J indicates the inertia of the system, ω<sub>m</sub> indicates the measured rotor rotational speed before the occurrence of the frequency variation that requires PFR, and ω<sub>0</sub> indicates the prescribed rotational speed lower limit value.</p><p id="p0047" num="0047">For example, if the marginal active power p is supplied to the power system 38 side as a sine wave, the active power command value at each instant of time is given by Expression (2) below.</p><p id="p0048" num="0048">{Exp 2}<!-- EPO <DP n="17"> --> <maths id="math0003" num="(2)"><math display="block"><msubsup><mo>∫</mo><mrow><mi>t</mi><mo>⁢</mo><mn>0</mn></mrow><mrow><mi>t</mi><mo>⁢</mo><mn>1</mn></mrow></msubsup><mo>⁢</mo><mi mathvariant="normal">Δ</mi><mo>⁢</mo><mi>p</mi><mo>ⅆ</mo><mi>t</mi><mo>=</mo><msubsup><mo>∫</mo><mrow><mi>t</mi><mo>⁢</mo><mn>0</mn></mrow><mrow><mi>t</mi><mo>⁢</mo><mn>1</mn></mrow></msubsup><mfenced separators=""><mi mathvariant="normal">Δ</mi><mo>⁢</mo><mi>P</mi><mo>⋅</mo><mi mathvariant="italic">Sbase</mi><mo>⋅</mo><msub><mi mathvariant="normal">sin ω</mi><mi mathvariant="italic">pfr</mi></msub><mo>⁢</mo><mi>t</mi></mfenced><mo>ⅆ</mo><mi>t</mi><mo>=</mo><mfrac><mn>1</mn><mrow><mn>2</mn><mo>⁢</mo><mi>J</mi><mo>⁢</mo><mfenced separators=""><msup><msub><mi mathvariant="normal">ω</mi><mi>m</mi></msub><mn>2</mn></msup><mo>-</mo><msup><msub><mi mathvariant="normal">ω</mi><mn>0</mn></msub><mn>2</mn></msup></mfenced></mrow></mfrac></math><img id="ib0003" file="imgb0003.tif" wi="143" he="18" img-content="math" img-format="tif"/></maths> <maths id="math0004" num="(3)"><math display="block"><msub><mi mathvariant="normal">ω</mi><mi mathvariant="italic">pfr</mi></msub><mo>=</mo><mfrac><mi>a</mi><msub><mi>f</mi><mi mathvariant="italic">grad</mi></msub></mfrac></math><img id="ib0004" file="imgb0004.tif" wi="57" he="18" img-content="math" img-format="tif"/></maths></p><p id="p0049" num="0049">In Expression (2), Δp indicates the active power command value at each instant of time, ΔP·Sbase indicates the amplitude of the sine wave (Sbase being the rated power), ω<sub>pfr</sub>·t indicates the period of the sine wave, and a indicates a predetermined constant. Also, as shown in Expression (3), ω<sub>pfr</sub> is a function of the amount of change in system frequency per unit time, and the value of ω<sub>pfr</sub> decreases as the amount of change in system frequency per unit time f<sub>grad</sub> increases.</p><p id="p0050" num="0050">Accordingly, as can be seen by the comparison in <figref idrefs="f0004">Fig. 4</figref>, when the amount of change in system frequency per unit time is relatively large, that is to say, when the slope of the system frequency is steep as shown by the solid lines in <figref idrefs="f0004">Fig. 4</figref>, the period of the power command value in the PFR mode is short. On the other hand, when the amount of change in system frequency per unit time is relatively small, that is to say, when the slope of the system<!-- EPO <DP n="18"> --> frequency is gentle as shown by the broken lines in <figref idrefs="f0004">Fig. 4</figref>, the period of the active power command value in the PFR mode is long. Note that the areas defined by the waveforms in both cases, that is to say, the active power that is supplied, are the same as shown in Expression (1) above.</p><p id="p0051" num="0051">In this way, by changing the period of the sine wave of the active power command value according to the slope of the decrease in the system frequency, active power is quickly supplied to the power system rapidly in response to a steep frequency variation, thus making it possible to anticipate the ability to appropriately suppress such a variation, and by gently raising the active power in response to a gentle frequency variation, it is possible to avoid excessive power compensation.</p><p id="p0052" num="0052">The limiter 62 in the first control unit 52 suppresses ΔP·Sbase, which is the active power command value at each instant of time obtained by Expression (2) above, so as not to exceed a power upper limit value, which is determined based on constraints arising from the mechanical configuration of the wind turbine generator (e.g., the heat resistance of electrical equipment and the load of mechanical equipment). This enables avoiding a trip in the wind turbine generator 10 and reliably supplying generated<!-- EPO <DP n="19"> --> power to the power system 38.</p><p id="p0053" num="0053">The second control unit 53 generates an active power command value in the normal mode. For example, the second control unit 53 generates an active power command value that is in accordance with the measured rotor rotational speed.</p><p id="p0054" num="0054">In the wind turbine generator 10 having such a configuration, if the system frequency is stabile, the second control unit 53 is selected by the selection unit 54, and an active power command value generated by the second control unit 53 is output to the converter controller 42 (see <figref idrefs="f0002">Fig. 2</figref>). The converter controller 42 controls the converter 24 based on the active power command value received as input, and thus active power that is in accordance with the active power command value generated by the second control unit 53 is supplied to the power system 38. If a disturbance occurs in the power system 38 in this state, and the detection unit 51 has detected, based on a decrease in the system frequency, that a frequency variation that requires PFR has occurred, a PFR mode signal is output to the selection unit 54.</p><p id="p0055" num="0055">Upon receiving the PFR mode signal, the selection unit<!-- EPO <DP n="20"> --> 54 switches from the second control unit 53 to the first control unit 52.</p><p id="p0056" num="0056">Accordingly, the active power command value determination unit 61 of the first control unit 52 receives an input of the measured rotor rotational speed and the amount of change in system frequency per unit time as input information, and uses Expression (2) above to generate a sine wave active power command value based on the received information. Due to being transmitted via the limiter 62, the active power command value is suppressed so as not to exceed the upper limit value determined by thermal and strength-related constraints in the mechanical configuration of the wind turbine generator 10, and the resultant value is output to the converter controller 42. The converter controller 42 controls the converter 24 based on the active power command value received as input. Accordingly, active power that makes the best possible use of the rotational energy of the wind turbine generators 10 is supplied to the power system 38, thus contributing to a quick recovery from frequency variation.</p><p id="p0057" num="0057">As described above, according to the wind turbine generator and the method of controlling the same according to the present embodiment, the active power supplied to the power system is set to the maximum amount of active power<!-- EPO <DP n="21"> --> that can be output to the extent that a trip does not occur in the wind turbine generator 10, thus making it possible to avoid the loss of the ability of the wind turbine generator 10 to supply active power to the power system due to an excessive increase or decrease in active power in the case of recovering from frequency variation in the power system 38.</p><p id="p0058" num="0058">Furthermore, the period of the generated power is determined based on the amount of change in system frequency per unit time, or in other words, the slope of the decrease in the system frequency, thus making it possible to appropriately suppress a steep frequency variation by quickly supplying active power to the power system in response to the frequency variation, and making it possible to avoid excessive power compensation by gently raising the active power in response to a gentle frequency variation.</p><p id="p0059" num="0059">Note that in the wind turbine generator and the method of controlling the same of the present embodiment, although the case is described in which the first control unit 52 holds an arithmetic expression whose parameters are the rotor rotational speed and the amount of change in system frequency per unit time, and the active power command value<!-- EPO <DP n="22"> --> is generated using the arithmetic expression, it is alternatively possible to, for example, segment the rotor rotational speed into a plurality of rotational speed levels and store, in advance, a table associating active power command values with the rotational speed levels. In such a case, the active power command value associated with each of the rotational speed levels is, in the exemplary case where a certain rotational speed level is greater than or equal to α and less than β, the power command value obtained when substituting (α+β)/2, which is an intermediate value of the rotational speed level, in the above Expression (2). Also, since the period of the waveform of the active power command value is determined by the amount of change in system frequency per unit time, it is possible to provide a two-dimensional table whose variables are the rotational speed level and the amount of change in system frequency per unit time. Holding active power command values as a table in this way enables easily generating an active power command value without performing troublesome arithmetic processing.</p><p id="p0060" num="0060">Also, although an active power command value is generated as a sine wave in the present embodiment, the waveform is not limited to this example.</p><p id="p0061" num="0061">Moreover, although the wind power station 30 is<!-- EPO <DP n="23"> --> illustrated as an example in the description of the present embodiment, the present invention is also applicable to the case where power is generated by one wind turbine generator.</p><p id="p0062" num="0062">Furthermore, although an active power command value is determined using the rotor rotational speed in the present embodiment, it is alternatively possible to use the rotational speed of the generator.</p><p id="p0063" num="0063">Still further, although a wind turbine generator employing a synchronous generator is illustrated as an example in the description of the present embodiment, the configuration of the generator is not limited to this example.</p><p id="p0064" num="0064">Also, in the wind turbine generator 10 of the present embodiment, the active power command value creation unit 50 included in the turbine controller 40 may be configured by a combination of dedicated control circuits, or may have a configuration realized by software. In the case where the processing of the above-described units is realized by software, the active power command value creation unit 50 includes a CPU, a main storage device such as a RAM, and a computer-readable recording medium on which programs for realizing part or all of the above-described processing are recorded, and the processing of the above-described units<!-- EPO <DP n="24"> --> is realized by the CPU reading out the programs recorded on the storage medium, manipulating information, and performing arithmetic processing.</p><p id="p0065" num="0065">Examples of the computer-readable recording medium include a magnetic disk, a magneto-optical disk, a CD-ROM, a DVD-ROM, and a semiconductor memory.</p><heading id="h0011">Reference Signs List</heading><p id="p0066" num="0066"><dl id="dl0001" compact="compact"><dt>10</dt><dd>wind turbine generator</dd><dt>16</dt><dd>nacelle</dd><dt>18</dt><dd>rotor head</dd><dt>20</dt><dd>blade</dd><dt>21</dt><dd>gear box</dd><dt>22</dt><dd>generator</dd><dt>23</dt><dd>controller</dd><dt>24</dt><dd>converter</dd><dt>30</dt><dd>wind power station</dd><dt>31</dt><dd>substation</dd><dt>38</dt><dd>power system</dd><dt>40</dt><dd>turbine controller</dd><dt>42</dt><dd>converter controller</dd><dt>50</dt><dd>active power command value generation unit</dd><dt>51</dt><dd>detection unit</dd><dt>52</dt><dd>first control unit</dd><dt>53</dt><dd>second control unit<!-- EPO <DP n="25"> --></dd><dt>54</dt><dd>selection unit</dd><dt>61</dt><dd>active power command value determination unit</dd><dt>62</dt><dd>limiter</dd></dl></p></description><claims mxw-id="PCLM56982525" lang="EN" load-source="patent-office"><!-- EPO <DP n="26"> --><claim id="c-en-0001" num="0001"><claim-text>A wind turbine generator for increasing active power output to a power system in a case where a frequency decrease has occurred in the power system, the wind turbine generator comprising:
<claim-text>a detection unit that detects a predetermined frequency variation; and</claim-text>
<claim-text>a first control unit that, in a case where the predetermined frequency variation has been detected, calculates a marginal active power based on a difference between a predetermined rotational speed lower limit value, which is obtained by providing a parallel-off rotational speed with a predetermined margin, and a measured value of a shaft rotational speed, and generates an active power command value indicating active power to be supplied to the power system based on the marginal active power.</claim-text></claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>The wind turbine generator according to claim 1,<br/>
wherein the detection unit detects the predetermined frequency variation in a case where a value of the system frequency is less than a predetermined first threshold value that has been determined in advance, and furthermore<!-- EPO <DP n="27"> --> an amount of change in the system frequency per unit time exceeds a predetermined second threshold value that has been determined in advance.</claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>The wind turbine generator according to claim 1,<br/>
wherein the first control unit determines a period of a waveform of active power to be supplied to the power system according to the amount of change in the system frequency per unit time.</claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>The wind turbine generator according to claim 1,<br/>
wherein the first control unit has an active power command value arithmetic expression containing the measured value of the shaft rotational speed as a parameter, and generates the active power command value using the arithmetic expression.</claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>The wind turbine generator according to claim 1,<br/>
wherein the first control unit has a table associating measured values of the shaft rotational speed and active power command values, and acquires a power command value that is in accordance with a measured value of a shaft<!-- EPO <DP n="28"> --> rotational speed using the table.</claim-text></claim><claim id="c-en-0006" num="0006"><claim-text>A method of controlling a wind turbine generator for increasing active power output to a power system in a case where a frequency decrease has occurred in the power system, comprising the steps of:
<claim-text>detecting a predetermined frequency variation; and</claim-text>
<claim-text>calculating, in a case where the predetermined frequency variation has been detected, a marginal active power based on a difference between a predetermined rotational speed lower limit value, which is obtained by providing a parallel-off rotational speed with a predetermined margin, and a measured value of a shaft rotational speed, and generating an active power command value indicating active power to be supplied to the power system based on the marginal active power.</claim-text></claim-text></claim></claims><drawings mxw-id="PDW16670893" load-source="patent-office"><!-- EPO <DP n="29"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="116" he="216" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="30"> --><figure id="f0002" num="2"><img id="if0002" file="imgf0002.tif" wi="165" he="225" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="31"> --><figure id="f0003" num="3"><img id="if0003" file="imgf0003.tif" wi="116" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="32"> --><figure id="f0004" num="4"><img id="if0004" file="imgf0004.tif" wi="108" he="174" img-content="drawing" img-format="tif"/></figure></drawings><search-report-data><doc-page id="srep0001" file="srep0001.tif" wi="165" he="233" type="tif"/></search-report-data><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
