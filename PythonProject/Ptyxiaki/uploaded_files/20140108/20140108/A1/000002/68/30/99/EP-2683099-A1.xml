<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2683099-A1" country="EP" doc-number="2683099" kind="A1" date="20140108" family-id="44410155" file-reference-id="318302" date-produced="20180824" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146585150" ucid="EP-2683099-A1"><document-id><country>EP</country><doc-number>2683099</doc-number><kind>A1</kind><date>20140108</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-12763543-A" is-representative="YES"><document-id mxw-id="PAPP154847342" load-source="docdb" format="epo"><country>EP</country><doc-number>12763543</doc-number><kind>A</kind><date>20120329</date><lang>ZH</lang></document-id><document-id mxw-id="PAPP176648312" load-source="docdb" format="original"><country>EP</country><doc-number>12763543.1</doc-number><date>20120329</date><lang>ZH</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140547717" ucid="CN-201110077143-A" load-source="docdb"><document-id format="epo"><country>CN</country><doc-number>201110077143</doc-number><kind>A</kind><date>20110329</date></document-id></priority-claim><priority-claim mxw-id="PPC140552937" ucid="CN-2012073243-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>CN</country><doc-number>2012073243</doc-number><kind>W</kind><date>20120329</date></document-id></priority-claim></priority-claims><technical-data><classification-ipc><edition>7</edition><main-classification>H04B  10/08</main-classification></classification-ipc><classifications-ipcr><classification-ipcr mxw-id="PCL2079272435" load-source="docdb">H04Q  11/00        20060101AFI20140522BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL2079272436" load-source="docdb">H04B  10/272       20130101ALI20140522BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1841949918" load-source="docdb" scheme="CPC">H04Q2011/0083      20130101 LA20170303BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1841949919" load-source="docdb" scheme="CPC">H04Q2011/0081      20130101 LA20170303BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1841949920" load-source="docdb" scheme="CPC">H04J  14/0282      20130101 LA20170303BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1841949921" load-source="docdb" scheme="CPC">H04J  14/0252      20130101 LA20170303BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1841949922" load-source="docdb" scheme="CPC">H04J  14/0247      20130101 LA20170303BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1841949923" load-source="docdb" scheme="CPC">H04B  10/079       20130101 LI20170302BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1841949924" load-source="docdb" scheme="CPC">H04B  10/077       20130101 LI20170302BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1841949925" load-source="docdb" scheme="CPC">H04Q  11/0067      20130101 LI20170303BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1841949926" load-source="docdb" scheme="CPC">H04B  10/272       20130101 LI20170303BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2140408709" load-source="docdb" scheme="CPC">H04J  14/086       20130101 FI20141105BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132360083" lang="DE" load-source="patent-office">DETEKTIONSVERFAHREN UND -VORRICHTUNG FÜR EINE OPTISCHE NETZWERKEINHEIT UND PASSIVES OPTISCHES NETZWERKSYSTEM</invention-title><invention-title mxw-id="PT132360084" lang="EN" load-source="patent-office">OPTICAL NETWORK UNIT DETECTION METHOD AND DEVICE, AND PASSIVE OPTICAL NETWORK SYSTEM</invention-title><invention-title mxw-id="PT132360085" lang="FR" load-source="patent-office">PROCÉDÉ ET DISPOSITIF DE DÉTECTION D'UNITÉ DE RÉSEAU OPTIQUE ET SYSTÈME DE RÉSEAU OPTIQUE PASSIF</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR919518074" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>HUAWEI TECH CO LTD</last-name><address><country>CN</country></address></addressbook></applicant><applicant mxw-id="PPAR919511718" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>HUAWEI TECHNOLOGIES CO., LTD.</last-name></addressbook></applicant><applicant mxw-id="PPAR919009091" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Huawei Technologies Co., Ltd.</last-name><iid>101233704</iid><address><street>Huawei Administration Building Bantian Longgang District</street><city>Shenzhen, Guangdong 518129</city><country>CN</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR919515620" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>WAN MIN</last-name><address><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR919524582" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>WAN, MIN</last-name></addressbook></inventor><inventor mxw-id="PPAR919012594" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>WAN, MIN</last-name><address><street>Huawei Administration Building Bantian Longgang District Shenzhen</street><city>Guangdong 518129</city><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR919541316" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>ZENG XIAOFEI</last-name><address><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR919525009" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>ZENG, XIAOFEI</last-name></addressbook></inventor><inventor mxw-id="PPAR919005968" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>ZENG, XIAOFEI</last-name><address><street>Huawei Administration Building Bantian Longgang District Shenzhen</street><city>Guangdong 518129</city><country>CN</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR919011577" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Körber, Martin Hans</last-name><iid>101167628</iid><address><street>Mitscherlich &amp; Partner Patent- und Rechtsanwälte Sonnenstrasse 33</street><city>80331 München</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="CN-2012073243-W"><document-id><country>CN</country><doc-number>2012073243</doc-number><kind>W</kind><date>20120329</date><lang>ZH</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2012130146-A1"><document-id><country>WO</country><doc-number>2012130146</doc-number><kind>A1</kind><date>20121004</date><lang>ZH</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS549817040" load-source="docdb">AL</country><country mxw-id="DS549815184" load-source="docdb">AT</country><country mxw-id="DS549817041" load-source="docdb">BE</country><country mxw-id="DS549908713" load-source="docdb">BG</country><country mxw-id="DS549745170" load-source="docdb">CH</country><country mxw-id="DS549819190" load-source="docdb">CY</country><country mxw-id="DS549815185" load-source="docdb">CZ</country><country mxw-id="DS549817046" load-source="docdb">DE</country><country mxw-id="DS549819191" load-source="docdb">DK</country><country mxw-id="DS549819192" load-source="docdb">EE</country><country mxw-id="DS549743047" load-source="docdb">ES</country><country mxw-id="DS549908714" load-source="docdb">FI</country><country mxw-id="DS549745171" load-source="docdb">FR</country><country mxw-id="DS549817047" load-source="docdb">GB</country><country mxw-id="DS549819193" load-source="docdb">GR</country><country mxw-id="DS549817048" load-source="docdb">HR</country><country mxw-id="DS549815186" load-source="docdb">HU</country><country mxw-id="DS549745298" load-source="docdb">IE</country><country mxw-id="DS549819202" load-source="docdb">IS</country><country mxw-id="DS549745172" load-source="docdb">IT</country><country mxw-id="DS549819203" load-source="docdb">LI</country><country mxw-id="DS549908715" load-source="docdb">LT</country><country mxw-id="DS549816594" load-source="docdb">LU</country><country mxw-id="DS549908716" load-source="docdb">LV</country><country mxw-id="DS549908717" load-source="docdb">MC</country><country mxw-id="DS549816595" load-source="docdb">MK</country><country mxw-id="DS549816596" load-source="docdb">MT</country><country mxw-id="DS549816597" load-source="docdb">NL</country><country mxw-id="DS549815187" load-source="docdb">NO</country><country mxw-id="DS549816602" load-source="docdb">PL</country><country mxw-id="DS549819204" load-source="docdb">PT</country><country mxw-id="DS549743048" load-source="docdb">RO</country><country mxw-id="DS549819205" load-source="docdb">RS</country><country mxw-id="DS549816603" load-source="docdb">SE</country><country mxw-id="DS549817049" load-source="docdb">SI</country><country mxw-id="DS549815188" load-source="docdb">SK</country><country mxw-id="DS549815189" load-source="docdb">SM</country><country mxw-id="DS549745299" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA128673322" lang="EN" load-source="patent-office"><p id="pa01" num="0001">Embodiments of the present invention disclose a method and an apparatus for detecting an ONU, and a passive optical network system. The method includes: detecting an identity code of an ONU in an open uplink empty window or an empty timeslot; and determining that an ONU corresponding to the identity code of the ONU is a rogue ONU according to the identity code of the ONU. A corresponding apparatus and passive optical network system are also provided in the embodiments of the present invention. In the passive optical network system, a rogue ONU is detected and determined quickly and efficiently, and an effect on an uplink service is reduced.<img id="iaf01" file="imgaf001.tif" wi="135" he="88" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA128737473" lang="EN" source="EPO" load-source="docdb"><p>Embodiments of the present invention disclose a method and an apparatus for detecting an ONU, and a passive optical network system. The method includes: detecting an identity code of an ONU in an open uplink empty window or an empty timeslot; and determining that an ONU corresponding to the identity code of the ONU is a rogue ONU according to the identity code of the ONU. A corresponding apparatus and passive optical network system are also provided in the embodiments of the present invention. In the passive optical network system, a rogue ONU is detected and determined quickly and efficiently, and an effect on an uplink service is reduced.</p></abstract><description mxw-id="PDES63959310" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><p id="p0001" num="0001">This application claims priority to Chinese Patent Application No. <patcit id="pcit0001" dnum="CN201110077143"><text>201110077143.9</text></patcit>, filed with the Chinese Patent Office on March 29, 2011 and entitled "AN ACESS METHOD FOR USER, SYSTEM AND ACCESS DEVICE ", which is incorporated herein by reference in its entirety.</p><heading id="h0001"><b>FIELD OF THE INVENTION</b></heading><p id="p0002" num="0002">The present invention relates to the field of communications, and in particular, to a method and apparatus for detecting an optical network unit, and a passive optical network system.</p><heading id="h0002"><b>BACKGROUND OF THE INVENTION</b></heading><p id="p0003" num="0003">When a PON (passive optical network, passive optical network) is accessed, an OLT (optical line terminal, optical line terminal) at a central office is corresponding to more than one ONU (optical network unit, optical network unit) or ONT (optical network terminal, optical network terminal). Because an ONT may be regarded as a special ONU, the ONU is uniformly used in the following in this specification.</p><p id="p0004" num="0004">In a downlink direction, downlink information of the OLT is uniformly sent to all ONUs through a fixed downlink optical wavelength; and in an uplink direction, all ONUs emit light at a specific timeslot according to a rule of an uplink optical channel bandwidth of time division multiplexing. That is, the ONU emits uplink light according to a bandwidth allocation indication of the OLT. However, a rogue ONU is an ONU that emits light not according to the<!-- EPO <DP n="2"> --> bandwidth allocation indication of the OLT.</p><p id="p0005" num="0005">There are many kinds of rogue ONUs. From the perspective of light emission time of rogue ONUs, rogue ONUs may be divided into: persistent-emission rogue ONUs: ONUs that emit light anytime; and non-persistent rogue ONUs: ONUs that emit light in a time segment that is not indicated by the OLT, namely, ONUs that may emit light beforehand or may be shut down in delay.</p><p id="p0006" num="0006">As regards whether a rogue ONU accepts control of an OLT, rogue ONUs may be divided into malicious rogue ONUs: rogue ONUs that do not respond to a control command of the OLT; and non-malicious rogue ONUs: rogue ONUs that respond to the control command of the OLT.</p><p id="p0007" num="0007">As regards whether a rogue ONU is pre-configured, rogue ONUs may be divided into pre-configured rogue ONUs: rogue ONUs that are added through a network management system or a command line and have worked properly, and are legal ONUs; and illegally accessing rogue ONUs: rogue ONUs that are not approved by an administrator and are newly accessing ONUs, and are also called rogue ONUs in an automatic discovery state.</p><p id="p0008" num="0008">Currently, at the time of detecting a rogue ONU, an OLT needs to open an uplink empty window first (namely, commands all ONUs not to emit light) to detect whether a rogue ONU exists. If a rogue ONU exists, the OLT instructs all ONUs to power off their own optical module, and then powers on an optical module of each ONU one by one and opens an uplink empty window for each ONU to separately detect and determine which ONU is a rogue ONU.</p><p id="p0009" num="0009">In the process of implementing the present invention, the inventor finds that the prior art has at least the following problems:</p><p id="p0010" num="0010">With the foregoing detection method, an uplink empty window needs to be opened for all ONUs one by one for detection, and detection efficiency is lower; and at the time of detection, transmission power supply of ONUs need to be shut down one by one, thus affecting an uplink service of an ONU.</p><heading id="h0003"><b>SUMMARY OF THE INVENTION</b></heading><p id="p0011" num="0011">The embodiments of the present invention aim to provide a method and apparatus for<!-- EPO <DP n="3"> --> detecting an ONU, and a passive optical network system, so as to improve efficiency and accuracy of detecting a rogue ONU and reduce an effect on an uplink service.</p><p id="p0012" num="0012">An embodiment of the present invention provides a method for detecting an ONU, and the method includes:
<ul><li>detecting an identity code of an ONU in an open uplink empty window or an empty timeslot; and according to the identity code of the ONU, determining that an ONU corresponding to the identity code of the ONU is a rogue ONU.</li></ul></p><p id="p0013" num="0013">An embodiment of the present invention further provides an ONU, and the ONU includes an optical module, where the optical module includes:
<ul><li>an obtaining unit, configured to obtain an identity code of an ONU; and</li><li>a sending unit, configured to send the identity code of the ONU, where the identity code of the ONU is obtained by the obtaining unit, so that an OLT can detect the identity code of the ONU in an open uplink empty window or an empty timeslot.</li></ul></p><p id="p0014" num="0014">An embodiment of the present invention further provides an OLT, and the OLT includes:
<ul><li>a detecting module, configured to detect, in an open uplink empty window or an empty timeslot of the OLT, whether an identity code of an optical network unit (ONU) is received; and</li><li>a processing module, configured to, when the detecting module detects the identity code of the ONU, determine that an ONU corresponding to the identity code of the ONU is a rogue ONU.</li></ul></p><p id="p0015" num="0015">An embodiment of the present invention further provides a passive optical network system, which includes an optical line terminal (OLT) and at least one optical network unit (ONU), where the optical network unit (ONU) includes an optical module.</p><p id="p0016" num="0016">The optical module is configured to obtain an identity code of an ONU, and send the identity code of the ONU.</p><p id="p0017" num="0017">The OLT is configured to receive the identity code of the ONU in an open uplink empty window or an empty timeslot, and according to the identity code of the ONU, determine that an ONU corresponding to the identity code of the ONU is a rogue ONU.</p><p id="p0018" num="0018">Through the ONU detection method, apparatus and system in the embodiments of the<!-- EPO <DP n="4"> --> present invention, the identity code of the ONU is detected in the open uplink empty window or the empty timeslot; and according to the identity code of the ONU, the ONU corresponding to the identity code of the ONU is determined as a rogue ONU, so that a rogue ONU is detected and determined quickly and efficiently, and meanwhile, the effect on the uplink service is reduced.</p><heading id="h0004"><b>BRIEF DESCRIPTION OF THE DRAWINGS</b></heading><p id="p0019" num="0019"><ul><li><figref idrefs="f0001">FIG. 1</figref> is a schematic flowchart of a method for detecting an ONU according to an embodiment of the present invention;</li><li><figref idrefs="f0001">FIG. 2</figref> is a schematic diagram of an open uplink empty window and an empty timeslot according to an embodiment of the present invention;</li><li><figref idrefs="f0002">FIG. 3</figref> is a schematic structural diagram of an ONU according to an embodiment of the present invention;</li><li><figref idrefs="f0002">FIG. 4</figref> is a schematic structural diagram of an OLT according to an embodiment of the present invention; and</li><li><figref idrefs="f0003">FIG. 5</figref> is a schematic structural diagram of a passive optical network (PON) system according to an embodiment of the present invention.</li></ul></p><heading id="h0005"><b>DETAILED DESCRIPTION OF THE EMBODIMENTS</b></heading><p id="p0020" num="0020">To make the forgoing objectives, features and merits of the present invention clearer and more understandable, the embodiments of the present invention are described in further detail in the following with reference to the accompanying drawings and specific implementation manners.</p><p id="p0021" num="0021">An ONT may be regarded as a special ONU. Therefore, only an ONU is taken as an example for description in this application. Those skilled in the art may understand that any embodiment that is applicable to the ONU in this application is also applicable to the ONT.</p><heading id="h0006"><b>Embodiment 1</b></heading><p id="p0022" num="0022">This embodiment provides a method for detecting an ONU. As shown in <figref idrefs="f0001">FIG. 1</figref>, the<!-- EPO <DP n="5"> --> method includes:</p><p id="p0023" num="0023">S102: An optical line terminal (OLT) detects an identity code of an optical network unit (ONU) in an open uplink empty window or an empty timeslot.</p><p id="p0024" num="0024">The identity code of the optical network unit (ONU) is pre-configured and sent by an optical module of the ONU; or, the identity code of the optical network unit (ONU) is obtained and sent by the optical module of the ONU from a control module of the ONU within unauthorized time.</p><p id="p0025" num="0025">The identity code of the ONU is a specific sequence optical channel code that identifies the ONU. The identity code of the ONU is configured by a system, and may also be a product code of the optical module. Specifically, the identity code of the ONU may be a specific sequence optical channel code that identifies the ONU (may also be called a specific code stream sequence of the ONU). The specific sequence optical channel code of the ONU may be formed by a delimiter plus a specific code. The specific code may be any one or a combination of an LLID (logic link identifier), an ONU ID (ONU identifier), an SN (sequence number), a MAC code, a product code of the optical module, and a unique identity that is allocated by the OLT to each ONU. ONUs connected with the same OLT have different identities for distinguishing each ONU.</p><p id="p0026" num="0026">S104: According to the identity code of the ONU, the OLT determines that an ONU corresponding to the identity code of the ONU is a rogue ONU.</p><p id="p0027" num="0027">The rogue ONU is a faulty ONU, that is, may be understood as an ONU that emits light not according to a bandwidth allocation indication of the OLT.</p><p id="p0028" num="0028">A process of obtaining the identity code of the optical network unit (ONU) in S102 is specifically described in the following.</p><p id="p0029" num="0029">The ONU in this embodiment includes a control module and an optical module. The control module may be an MAC module or an MAC chip.</p><p id="p0030" num="0030">After the ONU obtains the identity code of the ONU, once the optical module in the ONU is faulty and uncontrollable, the identity code of the ONU is sent. In this way, the OLT may detect the identity code of the ONU in the open uplink empty window or the empty timeslot, and therefore, judges that a rogue ONU exists, and may determine that the ONU corresponding to the identity code of the ONU is a rogue ONU. That is, the rogue ONU is detected accurately without<!-- EPO <DP n="6"> --> affecting normal transmission of an uplink service. The optical module may obtain the identity code of the ONU in two ways:
<ol><li>(1) The optical module of the ONU obtains the identity code of the ONU from an MAC module (or an MAC chip) within unauthorized time.
<br/>
When the optical module of the ONU is controlled by the MAC module, the MAC module generally controls a Tx_ENABLE enable signal and a data signal of the optical module, where TX_ENABLE means that the optical module is enabled to emit light, and the data signal refers to data that is sent onto an optical channel. If the MAC module sends a non-enable signal to the optical module, the optical module still emits light in an uplink direction when a control signal TX_ENABLE of the optical module has a low level, namely, when the signal is a non-enable signal (when the control signal of the ONU is a non-enable signal, a time period in which the ONU is in a non-enable state may be regarded as "unauthorized time"). At this time, the MAC module sends the identity code of the ONU to the optical module, so that the OLT can detect the identity code of the ONU in the open uplink empty window or the empty timeslot, and therefore, determines that the ONU corresponding to the identity code of the ONU is a rogue ONU.
</li><li>(2) The optical module of the ONU obtains the identity code of the ONU from the optical module of the ONU.
<br/>
When the MAC module of the ONU controls the optical module to emit light, if the MAC module does not input a signal but the optical module is emitting light at this time, the optical module emits light independently without external control. In this case, the optical module may extract the identity code of the ONU from the optical module, and send the identity code of the ONU. The identity code may be pre-configured by the system on the optical module. The OLT may detect the identity code in the open uplink empty window or the empty timeslot, and if the identity code can be detected, the OLT may determine that the ONU corresponding to the identity code is a rogue ONU.
</li></ol></p><p id="p0031" num="0031">The following specifically explains a relationship between "authorized time", "unauthorized time", "an open uplink empty window", and "an empty timeslot".</p><p id="p0032" num="0032">The open uplink empty window refers to a window in which the OLT does not authorize an uplink bandwidth for any ONU, that is, in this empty window, the OLT requires all<!-- EPO <DP n="7"> --> ONU not to emit light. The empty timeslot is aperture time between two adjacent uplink authorized bandwidths, and each uplink authorized bandwidth is corresponding to authorized time of one ONU. A reason for selecting the open uplink empty window or the empty timeslot as time for detecting the rogue ONU is: If the identity code of the ONU is received within authorized time of a certain ONU, where the identity code of the ONU is sent by the ONU, normal data is overlapped with data that carries the identity code, and the OLT may not identity the identity code in the data; however, in the open uplink empty window or the empty timeslot, an ONU that works properly sends no data, and only a rogue ONU may send data, and therefore, data received by the OLT is data that carries an identity code of a rogue ONU, so that an ONU corresponding to the identity code can be conveniently parsed out.</p><p id="p0033" num="0033">As shown in <figref idrefs="f0001">FIG. 2</figref>, a PON including an OLT and 3 ONUs (ONU1, ONU2, and ONU3) is taken as an example. S1 is authorized time of the ONU1, F1 is unauthorized time of the ONU1, S2 is authorized time of the ONU2, F2 is unauthorized time of the ONU2, S3 is authorized time of the ONU3, F3 is unauthorized time of the ONU3, K is time of an open uplink empty window, and G is an empty timeslot. "Unauthorized time" of the ONU may also be understood as time when a control module (for example, an MAC module) of the ONU sends a non-enable signal to an optical module of the ONU to cause a low level of TX_Enable of the optical module of the ONU.</p><p id="p0034" num="0034">It can be known from the forgoing explanation that: The optical module of the ONU may receive an identity code of the ONU when receiving a "non-enable" signal that is sent by the MAC module, where the identity code of the ONU is sent by the MAC module; or, the optical module of the ONU obtains the identity code that is pre-configured from the optical module of the ONU. When the OLT opens an uplink empty window or an empty timeslot, if a rogue ONU exists, the OLT may detect the identity code of the ONU, and may further determine that an ONU corresponding to the identity code is a rogue ONU. If no data that carries the identity code of the ONU is detected, it is determined that no ONU exists. The detection process does not affect a normal uplink service.</p><p id="p0035" num="0035">Through the method for detecting an ONU in this embodiment, the identity code of the ONU is detected in the open uplink empty window or the empty timeslot; and according to the identity code of the ONU, the ONU corresponding to the identity code of the ONU is<!-- EPO <DP n="8"> --> determined as a rogue ONU, so that a rogue ONU is detected and determined quickly and accurately, and therefore, an effect on an uplink service is reduced, and user satisfaction is improved.</p><heading id="h0007">Embodiment 2</heading><p id="p0036" num="0036">This embodiment provides an optical network unit (ONU) 10. As shown in <figref idrefs="f0002">FIG. 3</figref>, the ONU includes an optical module 102, where the optical module 102 includes:
<ul><li>an obtaining unit 1022, configured to obtain an identity code of an ONU; and</li><li>a sending unit 1024, configured to send the identity code of the ONU, where the identity code of the ONU is obtained by the obtaining unit, so that an OLT can detect the identity code of the ONU in an open uplink empty window or an empty timeslot.</li></ul></p><p id="p0037" num="0037">The obtaining unit 1022 obtains the identity code of the ONU in two manners: one is reading the identity code of the ONU from the optical module 102; and the other is obtaining the identity code of the ONU from a control module of the ONU. For the second manner, the ONU may further include a control module 104.</p><p id="p0038" num="0038">The control module 104 is configured to send a non-enable control signal and the identity code of the ONU to the optical module. The control module 104 may be an MAC chip or an MAC module of the ONU.</p><p id="p0039" num="0039">The obtaining unit 1022 of the optical module 102 is further configured to receive the non-enable control signal and the identity code of the ONU, where the non-enable control signal and the identity code of the ONU are sent by the control module 104.</p><p id="p0040" num="0040">For a detailed obtaining process, reference may be made to the description in the first embodiment, which is not described here again.</p><p id="p0041" num="0041">The identity code of the ONU is a specific sequence optical channel code that identifies the ONU.</p><p id="p0042" num="0042">Through the ONU in this embodiment, the ONU obtains the identity code of the ONU, and sends the identity code of the ONU, so that if a rogue ONU exists, the OLT can detect the identity code of the ONU in the open uplink empty window or the empty timeslot; and according to the identity code of the ONU, determines an ONU corresponding to the identity code of the ONU as a rogue ONU. In this way, a rogue ONU is detected and determined quickly and<!-- EPO <DP n="9"> --> accurately, and therefore, an effect on an uplink service is reduced, and user satisfaction is improved.</p><heading id="h0008">Embodiment 3</heading><p id="p0043" num="0043"><figref idrefs="f0002">FIG. 4</figref> shows an optical line terminal (OLT) 20. The OLT 20 includes a detecting module 202 and a processing module 204.</p><p id="p0044" num="0044">The detecting module 202 is configured to, in an open uplink empty window or an empty timeslot of the OLT, detect whether an identity code of an optical network unit (ONU) is received.</p><p id="p0045" num="0045">The processing module 204 is configured to, when the detecting module detects the identity code of the ONU, determine that an ONU corresponding to the identity code of the ONU is a rogue ONU.</p><p id="p0046" num="0046">The identity code of the ONU is a specific sequence optical channel code that identifies the ONU.</p><p id="p0047" num="0047">Through the OLT in this embodiment, if the identity code of the ONU is detected in the open uplink empty window or the empty timeslot, according to the identity code of the ONU, the ONU corresponding to the identity code of the ONU may be determined as a rogue ONU. In this way, a rogue ONU is detected and determined quickly and accurately, and therefore, an effect on an uplink service is reduced, and user satisfaction is improved.</p><heading id="h0009"><b>Embodiment 4</b></heading><p id="p0048" num="0048"><figref idrefs="f0003">FIG. 5</figref> shows a passive optical network (PON) system. The system includes an optical line terminal (OLT) 20 and at least one optical network unit (ONU) 10, where the ONU includes an optical module 102 (as shown in <figref idrefs="f0002">FIG. 3</figref>).</p><p id="p0049" num="0049">The optical module 102 is configured to obtain an identity code of an ONU, and send the identity code of the ONU; and</p><p id="p0050" num="0050">The OLT 20 is configured to receive the identity code of the ONU in an open uplink empty window or an empty timeslot, and according to the identity code of the ONU, determine that an ONU corresponding to the identity code of the ONU is a rogue ONU.<!-- EPO <DP n="10"> --></p><p id="p0051" num="0051">The identity code of the ONU is a specific sequence optical channel code that identifies the ONU.</p><p id="p0052" num="0052">The passive optical network system further includes an optical distribution network (ODN) 30, which includes a trunk fiber, a passive optical splitter, and a branch fiber. The ODN is configured to connect the OLT 20 with the ONU 10. The OLT 20 is connected with the passive optical splitter through the trunk fiber. The optical splitter implements point-to-multipoint optical power distribution, and is connected to multiple ONUs through multiple branch fibers.</p><p id="p0053" num="0053">The ONU 10 may further include a control module 104 (as shown in <figref idrefs="f0002">FIG. 3</figref>), which is configured to send a non-enable control signal and the identity code of the ONU to the optical module. The obtaining unit 1022 of the optical module 102 is further configured to receive the non-enable control signal and the identity code of the ONU, where the non-enable control signal and the identity code of the ONU are sent by the control module 104 (for a detailed function of the ONU 10, reference may be made to the second embodiment).</p><p id="p0054" num="0054">Through an optical network system in this embodiment, the ONU obtains the identity code of the ONU and sends the identity code of the ONU to the OLT, so that if the identity code of the ONU is detected in the open uplink empty window or the empty timeslot of the OLT, it may be determined that a rogue ONU exists, and according to the identity code of the ONU, the ONU corresponding to the identity code of the ONU may further be determined as a rogue ONU. In this way, a rogue ONU is detected and determined quickly and accurately, and therefore, an effect on an uplink service is reduced, and user satisfaction is improved.</p><p id="p0055" num="0055">It should be noted that, in this specification, terms like "first" and "second" are only used to differentiate one entity or operation from another, but are not necessarily used to indicate any practical relationship or order between these entities or operations. Moreover, a term such as "include", "contain" or any variation of the term means "including but not limited to". Therefore, a process, method, object, or device that includes a series of elements not only includes these elements, but also includes other elements that are not specified expressly, or may further include inherent elements of the process, method, object or device. In the case that there are no more limitations, in the context of a element that is specified by "include one... ", the process, method, object or device that includes a specified element may include other identical elements.</p><p id="p0056" num="0056">The forgoing descriptions are merely exemplary embodiments of the present<!-- EPO <DP n="11"> --> invention, but are not intended to limit the protection scope of the present invention. Any modification, equivalent replacement, or improvement made without departing from the spirit and principle of the present invention shall fall within the protection scope of the present invention.</p></description><claims mxw-id="PCLM56982344" lang="EN" load-source="patent-office"><!-- EPO <DP n="12"> --><claim id="c-en-0001" num="0001"><claim-text>A method for detecting an optical network unit (ONU), wherein, the method comprises:
<claim-text>detecting an identity code of an ONU in an open uplink empty window or an empty timeslot; and</claim-text>
<claim-text>determining that an ONU corresponding to the identity code of the ONU is a rogue ONU according to the identity code of the ONU.</claim-text></claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>The method according to claim 1, wherein:
<claim-text>the identity code of the ONU is pre-configured and sent by an optical module of the ONU; or, the identity code of the ONU is obtained and sent by the optical module of the ONU from a control module of the ONU within unauthorized time.</claim-text></claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>The method according to any one of claims 1 to 2, wherein:
<claim-text>the identity code of the ONU is a specific sequence optical channel code that identifies the ONU.</claim-text></claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>An optical network unit, wherein the optical network unit (ONU) comprises an optical module, and the optical module comprises:
<claim-text>an obtaining unit, configured to obtain an identity code of an ONU; and</claim-text>
<claim-text>a sending unit, configured to send the identity code of the ONU, wherein the identity code of the ONU is obtained by the obtaining unit, so that an OLT can detect the identity code of the ONU in an open uplink empty window or an empty timeslot.</claim-text></claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>The optical network unit according to claim 4, wherein the ONU further comprises:
<claim-text>a control module, configured to send a non-enable control signal and the identity code of the ONU to the optical module; and</claim-text>
<claim-text>the obtaining unit of the optical module is further configured to receive the control signal and the identity code of the ONU, wherein the control signal and the identity code of the ONU are sent by the control module.</claim-text></claim-text></claim><claim id="c-en-0006" num="0006"><claim-text>The optical network unit according to claim 4, wherein:
<claim-text>the obtaining unit is further configured to read the identity code of the ONU, wherein the<!-- EPO <DP n="13"> --> identity code of the ONU is stored in the optical module.</claim-text></claim-text></claim><claim id="c-en-0007" num="0007"><claim-text>The optical network unit according to any one of claims 4 to 6, wherein:
<claim-text>the identity code of the ONU is a specific sequence optical channel code that identifies the ONU.</claim-text></claim-text></claim><claim id="c-en-0008" num="0008"><claim-text>An optical line terminal, wherein the optical line terminal (OLT) comprises:
<claim-text>a detecting module, configured to detect whether an identity code of an ONU is received in an open uplink empty window or empty timeslot of the OLT; and</claim-text>
<claim-text>a processing module, configured to determine that an ONU corresponding to the identity code of the ONU is a rogue ONU when the detecting module detects the identity code of the ONU.</claim-text></claim-text></claim><claim id="c-en-0009" num="0009"><claim-text>The optical line terminal according to claim 8, wherein:
<claim-text>the identity code of the ONU is a specific sequence optical channel code that identifies the ONU.</claim-text></claim-text></claim><claim id="c-en-0010" num="0010"><claim-text>A passive optical network system, wherein: the system comprises an optical line terminal (OLT) and at least one optical network unit (ONU);<br/>
the ONU comprises an optical module;<br/>
the optical module is configured to obtain an identity code of an ONU, and send the identity code of the ONU; and<br/>
the OLT is configured to receive the identity code of the ONU in an open uplink empty window or an empty timeslot, and determine that an ONU corresponding to the identity code of the ONU is a rogue ONU according to the identity code of the ONU.</claim-text></claim><claim id="c-en-0011" num="0011"><claim-text>The optical network system according to claim 10, wherein:
<claim-text>the identity code of the ONU is a specific sequence optical channel code that identifies the ONU.</claim-text></claim-text></claim></claims><drawings mxw-id="PDW16670724" load-source="patent-office"><!-- EPO <DP n="14"> --><figure id="f0001" num="1,2"><img id="if0001" file="imgf0001.tif" wi="159" he="218" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="15"> --><figure id="f0002" num="3,4"><img id="if0002" file="imgf0002.tif" wi="125" he="218" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="16"> --><figure id="f0003" num="5"><img id="if0003" file="imgf0003.tif" wi="152" he="111" img-content="drawing" img-format="tif"/></figure></drawings><search-report-data><doc-page id="srep0001" file="srep0001.tif" wi="165" he="233" type="tif"/><doc-page id="srep0002" file="srep0002.tif" wi="165" he="233" type="tif"/></search-report-data><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
