<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2681661-A1" country="EP" doc-number="2681661" kind="A1" date="20140108" family-id="46754040" file-reference-id="315082" date-produced="20180822" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146586145" ucid="EP-2681661-A1"><document-id><country>EP</country><doc-number>2681661</doc-number><kind>A1</kind><date>20140108</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-12708234-A" is-representative="NO"><document-id mxw-id="PAPP154848337" load-source="docdb" format="epo"><country>EP</country><doc-number>12708234</doc-number><kind>A</kind><date>20120305</date><lang>EN</lang></document-id><document-id mxw-id="PAPP220440024" load-source="docdb" format="original"><country>EP</country><doc-number>12708234.5</doc-number><date>20120305</date></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140554200" ucid="US-201161448839-P" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>201161448839</doc-number><kind>P</kind><date>20110303</date></document-id></priority-claim><priority-claim mxw-id="PPC140550197" ucid="US-2012027739-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>2012027739</doc-number><kind>W</kind><date>20120305</date></document-id></priority-claim><priority-claim mxw-id="PPC140550628" ucid="US-201213371506-A" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>201213371506</doc-number><kind>A</kind><date>20120213</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1989321896" load-source="docdb">G06F  12/10        20060101AFI20120920BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-2081671666" load-source="docdb" scheme="CPC">G06F  12/1027      20130101 FI20150323BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2081672330" load-source="docdb" scheme="CPC">G06F2212/6028      20130101 LA20150323BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2081683541" load-source="docdb" scheme="CPC">G06F2212/654       20130101 LA20150323BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2081684325" load-source="docdb" scheme="CPC">G06F2212/6026      20130101 LA20150323BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132363068" lang="DE" load-source="patent-office">SPEICHERVERWALTUNGSEINHEIT MIT VORFÜLLFUNKTION</invention-title><invention-title mxw-id="PT132363069" lang="EN" load-source="patent-office">MEMORY MANAGEMENT UNIT WITH PRE-FILLING CAPABILITY</invention-title><invention-title mxw-id="PT132363070" lang="FR" load-source="patent-office">UNITÉ DE GESTION DE MÉMOIRE À CAPACITÉ DE PRÉ-REMPLISSAGE</invention-title><citations><non-patent-citations><nplcit><text>See references of WO 2012119148A1</text><sources><source mxw-id="PNPL67455816" load-source="docdb" name="SEA"/></sources></nplcit></non-patent-citations></citations></technical-data><parties><applicants><applicant mxw-id="PPAR919508397" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>QUALCOMM INC</last-name><address><country>US</country></address></addressbook></applicant><applicant mxw-id="PPAR919524917" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>QUALCOMM INCORPORATED</last-name></addressbook></applicant><applicant mxw-id="PPAR919013505" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Qualcomm Incorporated</last-name><iid>101331414</iid><address><street>5775 Morehouse Drive</street><city>San Diego, CA 92121</city><country>US</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR919520861" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>RYCHLIK BOHUSLAV</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR919536060" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>RYCHLIK, BOHUSLAV</last-name></addressbook></inventor><inventor mxw-id="PPAR919006533" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>RYCHLIK, BOHUSLAV</last-name><address><street>5775 Morehouse Drive</street><city>San Diego, California 92121</city><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR919523960" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>SARTORIUS THOMAS ANDREW</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR919507255" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>SARTORIUS, THOMAS ANDREW</last-name></addressbook></inventor><inventor mxw-id="PPAR919016540" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>SARTORIUS, THOMAS ANDREW</last-name><address><street>5775 Morehouse Drive</street><city>San Diego, California 92121</city><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR919525582" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>MORROW MICHAEL WILLIAM</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR919507657" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>MORROW, MICHAEL WILLIAM</last-name></addressbook></inventor><inventor mxw-id="PPAR919014704" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>MORROW, MICHAEL WILLIAM</last-name><address><street>5775 Morehouse Drive</street><city>San Diego, California 92121</city><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR919528093" load-source="docdb" sequence="4" format="epo"><addressbook><last-name>PALMA RAYMOND P</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR919506925" load-source="docdb" sequence="4" format="intermediate"><addressbook><last-name>PALMA, Raymond P.</last-name></addressbook></inventor><inventor mxw-id="PPAR919014987" load-source="patent-office" sequence="4" format="original"><addressbook><last-name>PALMA, Raymond P.</last-name><address><street>5775 Morehouse Drive</street><city>San Diego, California 92121</city><country>US</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR919006255" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Dunlop, Hugh Christopher</last-name><suffix>et al</suffix><iid>100028621</iid><address><street>R.G.C. Jenkins &amp; Co. 26 Caxton Street</street><city>London SW1H 0RJ</city><country>GB</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="US-2012027739-W"><document-id><country>US</country><doc-number>2012027739</doc-number><kind>W</kind><date>20120305</date><lang>EN</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2012119148-A1"><document-id><country>WO</country><doc-number>2012119148</doc-number><kind>A1</kind><date>20120907</date><lang>EN</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS549833495" load-source="docdb">AL</country><country mxw-id="DS549834611" load-source="docdb">AT</country><country mxw-id="DS549833496" load-source="docdb">BE</country><country mxw-id="DS549756921" load-source="docdb">BG</country><country mxw-id="DS549757557" load-source="docdb">CH</country><country mxw-id="DS549845737" load-source="docdb">CY</country><country mxw-id="DS549834612" load-source="docdb">CZ</country><country mxw-id="DS549833497" load-source="docdb">DE</country><country mxw-id="DS549845746" load-source="docdb">DK</country><country mxw-id="DS549845747" load-source="docdb">EE</country><country mxw-id="DS549765120" load-source="docdb">ES</country><country mxw-id="DS549756922" load-source="docdb">FI</country><country mxw-id="DS549756923" load-source="docdb">FR</country><country mxw-id="DS549833502" load-source="docdb">GB</country><country mxw-id="DS549845748" load-source="docdb">GR</country><country mxw-id="DS549833503" load-source="docdb">HR</country><country mxw-id="DS549834613" load-source="docdb">HU</country><country mxw-id="DS549757558" load-source="docdb">IE</country><country mxw-id="DS549845749" load-source="docdb">IS</country><country mxw-id="DS549756924" load-source="docdb">IT</country><country mxw-id="DS549845750" load-source="docdb">LI</country><country mxw-id="DS549833848" load-source="docdb">LT</country><country mxw-id="DS549913493" load-source="docdb">LU</country><country mxw-id="DS549833849" load-source="docdb">LV</country><country mxw-id="DS549833854" load-source="docdb">MC</country><country mxw-id="DS549913494" load-source="docdb">MK</country><country mxw-id="DS549913495" load-source="docdb">MT</country><country mxw-id="DS549765133" load-source="docdb">NL</country><country mxw-id="DS549756929" load-source="docdb">NO</country><country mxw-id="DS549913496" load-source="docdb">PL</country><country mxw-id="DS549757559" load-source="docdb">PT</country><country mxw-id="DS549765134" load-source="docdb">RO</country><country mxw-id="DS549757560" load-source="docdb">RS</country><country mxw-id="DS549913497" load-source="docdb">SE</country><country mxw-id="DS549833504" load-source="docdb">SI</country><country mxw-id="DS549756930" load-source="docdb">SK</country><country mxw-id="DS549913498" load-source="docdb">SM</country><country mxw-id="DS549845751" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data><office-specific-data><eptags><ep-no-a-document-published>*</ep-no-a-document-published></eptags></office-specific-data></bibliographic-data><abstract mxw-id="PA99830830" ref-ucid="WO-2012119148-A1" lang="EN" load-source="patent-office"><p num="0000">Systems and method for memory management units (MMUs) configured to automatically pre-fill a translation lookaside buffer (TLB) (206, 208) with address translation (202-204) entries expected to be used in the future, thereby reducing TLB miss rate and improving performance. The TLB may be pre-filled with translation entries, wherein addresses corresponding to the pre-fill may be selected based on predictions. Predictions may be derived from external devices (214), or based on stride values, wherein the stride values may be a predetermined constant or dynamically altered based on access patterns (216). Pre-filling the TLB may effectively remove latency involved in determining address translations for TLB misses from the critical path.</p></abstract><abstract mxw-id="PA100327654" ref-ucid="WO-2012119148-A1" lang="EN" source="national office" load-source="docdb"><p>Systems and method for memory management units (MMUs) configured to automatically pre-fill a translation lookaside buffer (TLB) (206, 208) with address translation (202-204) entries expected to be used in the future, thereby reducing TLB miss rate and improving performance. The TLB may be pre-filled with translation entries, wherein addresses corresponding to the pre-fill may be selected based on predictions. Predictions may be derived from external devices (214), or based on stride values, wherein the stride values may be a predetermined constant or dynamically altered based on access patterns (216). Pre-filling the TLB may effectively remove latency involved in determining address translations for TLB misses from the critical path.</p></abstract><abstract mxw-id="PA99830831" ref-ucid="WO-2012119148-A1" lang="FR" load-source="patent-office"><p num="0000">L'invention porte sur des systèmes et un procédé pour des unités de gestion de mémoire (MMU) configurées pour pré-remplir automatiquement un tampon de traduction anticipée (TLB) (206, 208) d'entrées de traduction d'adresses (202-204) qui devraient être utilisées dans le futur, permettant ainsi de réduire le taux de manqués TLB et d'améliorer la performance. Le TLB peut être pré-rempli d'entrées de traduction, des adresses correspondant au pré-remplissage pouvant être sélectionnées sur la base des prédictions. Les prédictions peuvent être déduites de dispositifs externes (214), ou basées sur des valeurs de pas, les valeurs de pas pouvant être une constante prédéterminée ou modifiées de manière dynamique sur la base de motifs d'accès (216). Un pré-remplissage du TLB peut éliminer de manière efficace une latence impliquée dans la détermination des traductions d'adresses pour des manqués TLB à partir du chemin critique.</p></abstract><abstract mxw-id="PA100327655" ref-ucid="WO-2012119148-A1" lang="FR" source="national office" load-source="docdb"><p>L'invention porte sur des systèmes et un procédé pour des unités de gestion de mémoire (MMU) configurées pour pré-remplir automatiquement un tampon de traduction anticipée (TLB) (206, 208) d'entrées de traduction d'adresses (202-204) qui devraient être utilisées dans le futur, permettant ainsi de réduire le taux de manqués TLB et d'améliorer la performance. Le TLB peut être pré-rempli d'entrées de traduction, des adresses correspondant au pré-remplissage pouvant être sélectionnées sur la base des prédictions. Les prédictions peuvent être déduites de dispositifs externes (214), ou basées sur des valeurs de pas, les valeurs de pas pouvant être une constante prédéterminée ou modifiées de manière dynamique sur la base de motifs d'accès (216). Un pré-remplissage du TLB peut éliminer de manière efficace une latence impliquée dans la détermination des traductions d'adresses pour des manqués TLB à partir du chemin critique.</p></abstract><description mxw-id="PDES51232363" ref-ucid="WO-2012119148-A1" lang="EN" load-source="patent-office"><!-- EPO <DP n="3"/>--><p id="p0001" num="0001"> 110527 </p><p id="p0002" num="0002"> 1 </p><p id="p0003" num="0003">MEMORY MANAGEMENT UNIT WITH PRE-FILLING CAPABILITY</p><p id="p0004" num="0004">Claim of Priority under 35 U.S.C. §119 </p><p id="p0005" num="0005"> [0001] The present Application for Patent claims priority to Provisional Application No. </p><p id="p0006" num="0006"> 61/448,839 entitled "MEMORY MANAGEMENT UNIT WITH PRE-FILLING CAPABILITY" filed March 03, 2011, and assigned to the assignee hereof and hereby expressly incorporated by reference herein. </p><p id="p0007" num="0007">Field of Disclosure </p><p id="p0008" num="0008"> [0002] Disclosed embodiments are directed to memory management units (MMU) for managing translation of memory addresses from virtual to physical addresses. More particularly, exemplary embodiments are directed to efficient techniques, such as pre- filling, for management of translation caches, wherein the translation caches may be used for virtual-to-physical address translation. </p><p id="p0009" num="0009">Background </p><p id="p0010" num="0010"> [0003] Modern operating systems often use virtual memory schemes in order to maximize the use of physical storage space in processors. Virtual memory is well known in the art. Virtual memory can be addressed by virtual addresses. The virtual address space related to a program is conventionally divided into pages. Pages are blocks of contiguous virtual memory addresses. While programs may be written with reference to virtual addresses, a translation to physical address may be necessary for the execution of program instructions by processors. Page tables may be employed to map virtual addresses to corresponding physical addresses. </p><p id="p0011" num="0011"> [0004] Memory management units (MMUs) are commonly used to handle translation of virtual addresses to physical addresses. MMUs may look up page table entries (PTEs) which include the virtual-to-physical address mappings, in order to handle the translation. Physical memory space may be managed by dynamically allocating and freeing blocks of the physical memory or data buffers. In this process of dynamic allocation and freeing, it is common for the free physical memory space to become fragmented, comprising non-contiguous free blocks. Thus, a contiguous range of virtual addresses may become mapped to several non-contiguous blocks of physical memory. Accordingly, the page table look up process, also known as "page table walk" may need to be performed frequently, as contiguous virtual addresses may not conveniently map 
<!-- EPO <DP n="4"/>-->
 110527 </p><p id="p0012" num="0012"> 2 </p><p id="p0013" num="0013"> to contiguous physical addresses. These frequent page table lookups may significantly impact performance. </p><p id="p0014" num="0014"> [0005] One conventional technique to address the frequent page table lookups includes the use of a translation cache, also known as a translation lookaside buffer (TLB). A TLB may cache translations for frequently accessed pages in a tagged hardware lookup table. Thus, if a virtual address hits in a TLB, the corresponding physical address translation may be reused from the TLB, without having to incur the costs associated with a page table walk. </p><p id="p0015" num="0015"> [0006] With reference to FIG. 1, a conventional implementation of a TLB is illustrated. As shown, TLB 100 is configured to translate a virtual address (VA) 102 to a physical address (PA) 104. The virtual addresses A, B, C, and D are stored in content addressable memory (CAM) 112. A portion of the virtual addresses form tags 110 which are compared against the virtual address 102 to determine if a translation for virtual address 102 is present in TLB 100. If there is a hit, then the corresponding physical address: P, Q, R, or S, is read out of random access memory (RAM) 106, using de-multiplexor logic 108, in order to form physical address 104. A virtual address, such as A, B, C, or D, along with its corresponding physical address translation, P, Q, R, or S, may combinedly be referred to as an entry in TLB 100. </p><p id="p0016" num="0016"> [0007] Entries in a TLB, such as TLB 100, may be populated in several ways. The common criteria for evaluating fills, or updates, in a TLB include: when to fill a TLB entry; where in a TLB a new entry may be placed; and how many TLB entries may be filled during each update of the TLB. Two conventional techniques are known in the art for updating or filling TLP entries. </p><p id="p0017" num="0017"> [0008] The first technique, referred to as "software fill" meets the above criteria for filling a TLB as follows: fills are performed pursuant to a fill command initiated in software; fills are performed at addresses specified by software; and conventionally, software fill applies to a single entry in the TLB. </p><p id="p0018" num="0018"> [0009] The second technique, referred to as "demand fill" is usually employed in MMUs for central processing units (CPUs). Demand fill meets the criteria for filling a TLB as follows: fills are performed pursuant to a miss in the TLB; fills are performed at the address which caused the miss; and demand fill conventionally applies to a single entry in the TLB, corresponding to the address which caused the miss. One advantage of demand fill is that TLB entries are only filled as needed, pursuant to a miss. However, 
<!-- EPO <DP n="5"/>-->
 110527 </p><p id="p0019" num="0019"> 3 </p><p id="p0020" num="0020"> an accompanying disadvantage lies in that stalls are introduced to the TLB user every time the TLB is waiting for the required TLB entry to be filled. </p><p id="p0021" num="0021">[0010] Demand fill may be an adequate solution for CPUs because programs generally include a high degree of temporal locality, i.e. the same addresses are accessed close together in time. However, streaming accesses may sometimes not exhibit temporal locality. Streaming accesses may generally comprise sets of one or more accesses which may executed in a burst. For example, streaming accesses which may not exhibit a high degree of temporal locality may include accesses from multimedia accelerators (e.g. display engines), and accesses from CPUs during a memory copy. In contrast to reusing the same addresses, such streaming accesses lacking in temporal locality may be directed to a new address every time. Accordingly, demand fills may cause degradation in performance of TLBs. Such degradation may be particularly visible in MMUs designed for devices other than CPUs, such as System MMUs or input/output (I/O) MMUs. </p><p id="p0022" num="0022"> [0011] With regard to accesses other than streaming accesses (referred to as "non-streaming accesses"), the size of the TLB may be increased in limited cases, to accomplish a reduction in TLB misses. However, for streaming accesses, increasing the TLB size does not accord the same benefit. In fact, even if theoretically, the TLB size was increased towards infinity, it can be shown in several cases that the TLB performance may continue to be severely degraded by misses and accompanying stalls. </p><p id="p0023" num="0023"> [0012] Accordingly, there is a need in the art, particularly with respect to accesses without temporal locality, for TLB filling techniques which are not plagued by performance degradations caused by high miss rates. </p><p id="p0024" num="0024">SUMMARY </p><p id="p0025" num="0025"> [0013] Exemplary embodiments are directed to systems and method for memory management units (MMUs) configured to automatically pre-fill a translation lookaside buffer (TLB) with address translation entries expected to be used in the future, thereby reducing TLB miss rate and improving performance. </p><p id="p0026" num="0026"> [0014] For example, an embodiment is directed to an MMU configured to automatically pre-fill a TLB with translation entries, wherein addresses corresponding to the pre-fill may be selected based on predictions. One or more embodiments may pre-fill TLB entries with a predetermined number of adjacent addresses beyond an address corresponding to a 
<!-- EPO <DP n="6"/>-->
 110527 </p><p id="p0027" num="0027"> 4 </p><p id="p0028" num="0028"> missing entry in the TLB. Embodiments may also pre-fill the TLB based on predictions derived from a hint address value received from an agent external to the MMU. </p><p id="p0029" num="0029"> [0015] In exemplary embodiments TLB pre-fills may be performed based on a stride value, such that an entry is pre-fetched from an address formed from incrementing (or decrementing) an address of a missing entry with the stride value. The stride value may be predetermined and may further be programmed in software, and stored in a register. The stride value may also be dynamically computed by using stride predictor logic configured to analyze stride patterns formed by missing entries in the TLB. </p><p id="p0030" num="0030"> [0016] Exemplary embodiments may also be directed to TLB pre-fills for multiple streaming accesses. Multiple streaming accesses may be derived from multiple external agents requiring streaming accesses from a system MMU, wherein the multiple streaming accesses may not share common attributes or stride values. Multiple stride predictors may be employed to support address translation needs of the multiple streaming accesses. </p><p id="p0031" num="0031"> [0017] An exemplary embodiment is directed to a method of populating a translation lookaside buffer (TLB), the method comprising: receiving a first virtual address for translation to physical address by the TLB; and in a single burst, pre-filling the TLB with translations for a first stream of one or more pre-fill virtual addresses derived from the first virtual address. </p><p id="p0032" num="0032"> [0018] Another exemplary embodiment is directed to an apparatus for populating a translation lookaside buffer (TLB), the apparatus comprising: logic configured to generate a first virtual address for translation to physical address by the TLB; and logic configured to pre-fill the TLB with translations for a first stream of one or more pre-fill virtual addresses derived from the first virtual address, in a single burst. </p><p id="p0033" num="0033"> [0019] Another exemplary embodiment is directed to a method of populating a translation lookaside buffer (TLB), the method comprising: populating a first set of entries of the TLB with address translations for a first stream of virtual addresses generated at a first rate; and populating a second set of entries of the TLB with address translations for a second stream of virtual addresses generated at a second rate. </p><p id="p0034" num="0034"> [0020] Another exemplary embodiment is directed to an address generation unit (AGU) comprising: logic configured to generate a first stream of virtual addresses at a first rate for translation in a translation lookaside buffer (TLB); and logic configured to generate a second stream of virtual addresses at a second rate for translation in the TLB. 
<!-- EPO <DP n="7"/>-->
 110527 </p><p id="p0035" num="0035"> 5 </p><p id="p0036" num="0036"> [0021] Another exemplary embodiment is directed to a system for populating a translation lookaside buffer (TLB), the system comprising: means for receiving a first virtual address for translation to physical address by the TLB; and means for pre-filling the TLB with translations for a first stream of one or more pre-fill virtual addresses derived from the first virtual address, in a single burst. </p><p id="p0037" num="0037"> [0022] Another exemplary embodiment is directed to a system for populating a translation lookaside buffer (TLB), the system comprising: means for populating a first set of entries of the TLB with address translations for a first stream of virtual addresses generated at a first rate; and means for populating a second set of entries of the TLB with address translations for a second stream of virtual addresses generated at a second rate. </p><p id="p0038" num="0038"> [0023] Another exemplary embodiment is directed to a non-transitory computer-readable storage medium comprising code, which, when executed by a processor, causes the processor to perform operations for populating a translation lookaside buffer (TLB), the non-transitory computer-readable storage medium comprising: code for receiving a first virtual address for translation to physical address by the TLB; and code for pre-filling the TLB with translations for a first stream of one or more pre-fill virtual addresses derived from the first virtual address, in a single burst. </p><p id="p0039" num="0039"> [0024] Another exemplary embodiment is directed to a non-transitory computer-readable storage medium comprising code, which, when executed by a processor, causes the processor to perform operations for populating a translation lookaside buffer (TLB), the non-transitory computer-readable storage medium comprising: code for populating a first set of entries of the TLB with address translations for a first stream of virtual addresses generated at a first rate; and code for populating a second set of entries of the TLB with address translations for a second stream of virtual addresses generated at a second rate. </p><p id="p0040" num="0040">BRIEF DESCRIPTION OF THE DRAWINGS </p><p id="p0041" num="0041"> [0025] The accompanying drawings are presented to aid in the description of embodiments of the invention and are provided solely for illustration of the embodiments and not limitation thereof. </p><p id="p0042" num="0042"> [0026] FIG. 1 illustrates a schematic representation of a conventional TLB. </p><p id="p0043" num="0043">[0027] FIGS. 2A-B illustrate schematic representations of exemplary MMUs with active and future TLB classifications. 
<!-- EPO <DP n="8"/>-->
 110527 </p><p id="p0044" num="0044"> 6 </p><p id="p0045" num="0045"> [0028] FIGS. 3A-B illustrate a system comprising an address generation unit for populating a</p><p id="p0046" num="0046">TLB according to exemplary embodiments. </p><p id="p0047" num="0047">[0029] FIG. 4 illustrates an exemplary system MMU with multiple clients transmitting multiple streaming accesses. </p><p id="p0048" num="0048"> [0030] FIG. 5 illustrates a flow diagram for a method of populating a TLB according to exemplary embodiments. </p><p id="p0049" num="0049">DETAILED DESCRIPTION </p><p id="p0050" num="0050"> [0031] Aspects of the invention are disclosed in the following description and related drawings directed to specific embodiments of the invention. Alternate embodiments may be devised without departing from the scope of the invention. Additionally, well-known elements of the invention will not be described in detail or will be omitted so as not to obscure the relevant details of the invention. </p><p id="p0051" num="0051"> [0032] The word "exemplary" is used herein to mean "serving as an example, instance, or illustration." Any embodiment described herein as "exemplary" is not necessarily to be construed as preferred or advantageous over other embodiments. Likewise, the term "embodiments of the invention" does not require that all embodiments of the invention include the discussed feature, advantage or mode of operation. </p><p id="p0052" num="0052"> [0033] The terminology used herein is for the purpose of describing particular embodiments only and is not intended to be limiting of embodiments of the invention. As used herein, the singular forms "a", "an" and "the" are intended to include the plural forms as well, unless the context clearly indicates otherwise. It will be further understood that the terms "comprises", "comprising,", "includes" and/or "including", when used herein, specify the presence of stated features, integers, steps, operations, elements, and/or components, but do not preclude the presence or addition of one or more other features, integers, steps, operations, elements, components, and/or groups thereof. </p><p id="p0053" num="0053"> [0034] Further, many embodiments are described in terms of sequences of actions to be performed by, for example, elements of a computing device. It will be recognized that various actions described herein can be performed by specific circuits (e.g., application specific integrated circuits (ASICs)), by program instructions being executed by one or more processors, or by a combination of both. Additionally, these sequence of actions described herein can be considered to be embodied entirely within any form of computer readable storage medium having stored therein a corresponding set of 
<!-- EPO <DP n="9"/>-->
 110527 </p><p id="p0054" num="0054"> 7 </p><p id="p0055" num="0055"> computer instructions that upon execution would cause an associated processor to perform the functionality described herein. Thus, the various aspects of the invention may be embodied in a number of different forms, all of which have been contemplated to be within the scope of the claimed subject matter. In addition, for each of the embodiments described herein, the corresponding form of any such embodiments may be described herein as, for example, "logic configured to" perform the described action. </p><p id="p0056" num="0056"> [0035] Exemplary embodiments include TLB fill techniques which overcome several limitations of conventional TLB fill techniques. Such exemplary TLB fills may be performed by a memory management unit (MMU). For example, as compared to conventional techniques such as software fill and demand fill, exemplary TLB filling techniques may not be affected by high miss rates. Exemplary TLB fills may not need to wait for a software command or a TLB miss, but may predict TLB fills ahead of time and pre-fill the TLB ahead of time. In this manner, stalls may be avoided, and the time taken for page table walks for future accesses may be hidden and removed from critical paths. For example, TLB pre-fills may be performed while current entries in the TLB are being accessed, such that long delays are not incurred by initiating a TLB fill process after requirement for an address has been established pursuant to a miss. Such TLB pre-fills can be performed in several ways in exemplary embodiments. </p><p id="p0057" num="0057"> [0036] One embodiment comprises a modification of conventional demand fill, referred to herein as "demand fill with spatial pre-fetch." In this embodiment, a number of entries that are filled in a TLB pursuant to a miss are increased beyond the single entry that is missing at the time of the miss. A number "N" of adjacent entries may be filled pursuant to a miss. In comparison with a conventional demand fill, a demand fill with spatial pre-fetch in exemplary embodiments may meet the criteria for evaluating fills in the TLB as follows: a fill may be performed pursuant to a TLB miss; the fill may be performed at the address that caused the miss; and up to N adjacent addresses that are adjacent to the address corresponding to the miss may be filled. As can be seen, one improvement over a conventional demand fill lies in predicting future fills and filling N adjacent addresses, ahead of time in the TLB. </p><p id="p0058" num="0058"> [0037] Demand fill with spatial pre-fetch may take advantage of any existing spatial locality in addresses of a streaming access. As used herein, a streaming access or a stream may generally refer to a set of one or more accesses or transactions which may be performed in a single burst. Spatial locality generally refers to a property exhibited by addresses 
<!-- EPO <DP n="10"/>-->
 close to each other in the address space. In other words, adjacent addresses exhibit spatial locality. Accordingly, if a streaming access is likely to exhibit spatial locality, then pre-fetching adjacent addresses ahead of time will ensure that the pre-fetched data will be accessed in the TLB during future accesses, thus generating TLB hits. </p><p id="p0059" num="0059"> [0038] The process of exploiting spatial locality in addresses may be analogous to increasing the cache line size of a conventional data cache, because a cache line usually comprises adjacent addresses. Thus, with regard to TLB fills, demand fill with spatial pre-fetch may take advantage of bus widths that are larger than the size of a page table entry (PTE). For example, more than one PTE can be fetched in a single cycle. By way of illustration, assume that PTEs are 32-bits wide. Suppose PTE2 is the third entry in a 128-bit aligned line, corresponding to a 128-bit wide data bus, and PTE2 corresponds to a demand fill. In this scenario, page table walk logic can be configured to fetch 3 more PTEs adjacent to PTE2 in the same duration of time that is required to fetch PTE2. Therefore, the set of adjacent PTEs: {PTEO, PTE1, PTE2, PTE3 } may be fetched in a single access, instead of fetching PTE2 alone. </p><p id="p0060" num="0060"> [0039] Another embodiment includes a TLB fill technique referred to herein as "stream pre- fill." Stream pre-fill may identify an address stream within a streaming access, and initiate a TLB fill ahead of the time when an entry in the address stream would be required. An aspect of stream pre-fill is to accomplish filling the TLB with the exact sequence of one or more entries that would have been filled pursuant to a conventional demand fill. However, a distinction over a conventional demand fill lies in that, stream pre-fill may be configured to initiate the TLB fills ahead of the time a demand fill may initiate the same TLB fills. Thus, stream pre-fills may effectively hide the latency incurred by page table walks pursuant to TLB misses in a conventional demand fill. </p><p id="p0061" num="0061"> [0040] Stream pre-fill meets the criteria for evaluating fills in a TLB as follows: a TLB fill is performed as far in advance of a TLB miss, as required to effectively hide the latency incurred by page table walks; the TLB fills are performed for addresses that have been predicted to potentially miss, i.e. addresses that would have been encountered and missed in the course of a conventional demand fill; a stream pre-fill fills a single TLB entry at a time. </p><p id="p0062" num="0062"> [0041] Exemplary embodiments may perform the prediction of addresses which will potentially miss in the TLB for stream pre-fill in one of several manners. One such embodiment includes receiving the prediction from an agent that is external to an exemplary MMU 
<!-- EPO <DP n="11"/>-->
 implementing the stream pre-fill. A pre-fill hint may be generated by the external agent. A first-in-first-out (FIFO) mechanism may be populated by the pre-fill hints. The MMU may be configured to receive the pre-fill hints from the pre-fill FIFO. </p><p id="p0063" num="0063"> [0042] As an illustrative example, a display controller of a display unit may be configured to continuously scan across monotonically increasing addresses (virtual addresses). An address generation unit of the display controller may be configured to simultaneously generate a corresponding monotonically increasing set of page addresses. Usually, page sizes (for example 4KB) are larger than individual accesses of the display controller (for example 128B). As a result, several addresses generated by the address generation unit may share the same page, and thus a new page translation may not be required for each individual access. Accordingly, a stream pre-fill may need to generate a new prediction related to page address translation only on instances wherein the address generation unit traverses 4KB page boundaries. </p><p id="p0064" num="0064"> [0043] In an implementation of the above stream pre-fill technique for a display controller, one bit of the addresses generated by the address generation unit may be tracked. For example, the 12<sup>th</sup> least significant bit, bit 12, may be indicative of a change in address on a 4KB (4096B or 2<sup>Λ</sup>12 B) boundary. Accordingly, predictions may be triggered on strides of 4KB as the bit 12 may change on every 4KB stride. Alternatively, predictions may be configured to be triggered on multiples of 4KB as the external agent may be traversing the address space on larger than 4KB strides. In such a manner, predictions may be made sufficiently ahead of time in order to hide latency involved in making the predictions themselves. As an optional feature, transmission of addresses or pre-fill hints to the pre-fill FIFO may be truncated in order to conserve resources. Accordingly, in the above example, for a 4KB page size, only the upper 20 bits of a 32-bit address, which has been shifted to a 4KB granularity (e.g. by shifting out the least significant 12- bits) may need to be transmitted. Thus, the width of the pre-fill FIFO may be reduced by an amount of 12-bits. </p><p id="p0065" num="0065"> [0044] As another implementation of stream pre-fill in an exemplary MMU, a stride value that is not limited to a page size may be used for prediction. For example, a stride value may be programmed by software, and may further be stored in a register in the MMU. Thus, if an external agent or other client of the MMU requests a particular address for translation, then the MMU may internally generate an address equivalent to the particular address incremented (or decremented) by the stride value. This internally 
<!-- EPO <DP n="12"/>-->
 generated address may be used as the prediction for stream pre-fill such that if the internally generated address is not currently in the TLB, the MMU may generate a pre- fill request for the internally generated address ahead of time. Thus, any delay associated with page table walks for the internally generated address may be hidden. </p><p id="p0066" num="0066"> [0045] Yet another implementation of stream pre-fill involves dynamically detecting and altering stride values by using a stride predictor. For example, each TLB miss may be determined to be encountered at a fixed offset or stride value from a previous miss. This determination may be obtained from the stride predictor. The stride predictor may be configured to store the address of the latest or current TLB miss, a current stride value which may be initialized to a default value, and optional one or more bits associated with a predictor confidence value. Upon encountering the next TLB miss, the stride value may be updated with the difference in addresses between the next TLB miss and the stored current TLB miss; the address of the current TLB may be replaced with the next TLB miss; and the confidence value may be incremented. This process may be repeated, such that the currently stored stride value may be compared with an actual stride value based on difference in addresses between a currently stored TLB miss address and encountered next TLB miss addresses. If the stride values match, the currently stored stride value may be validated as a good predictor for future stride values; and correspondingly the confidence values may be incremented. Once confidence levels reach a predetermined level, the stride predictor may generate pre-fill requests for predicted addresses based on a currently stored TLB miss address and the currently stored stride value. </p><p id="p0067" num="0067"> [0046] In the above implementation of stream pre-fill with dynamically determined stride values, the MMU may be further configured to distinguish between TLB entries which were filled based on a demand fill, and TLB entries which were filled by stream pre-fill. For example, TLB entries which were filled by stream pre-fill may be marked by a pre- fill indicator bit or populated in a selected section of the TLB designated as a "future TLB." The stride predictor may be configured to monitor both demand misses as well as pre-fill hits (marked by the pre-fill indicator or located in the future TLB portion). For purposes of calculating stride, both the demand misses as well as pre-fill hits may be treated as a miss. It will be recognized that if the pre-fill hits were not taken into account in such manner, then the stride predictor may not be accurate because a potential demand miss that has been pre-filled may generate a hit but the stride predictor 
<!-- EPO <DP n="13"/>-->
 11 </p><p id="p0068" num="0068"> would have overlooked this potential demand miss in its stride calculation because a hit would have been encountered. </p><p id="p0069" num="0069"> [0047] Embodiments may also include logic configured to ensure that stream pre-fill using dynamically predicted stride values achieves a desired balance between pre-filling sufficiently in advance to hide latencies caused by TLB misses and not filling the TLB too far in advance such that the TLB may end up populated with too many unused pre- filled entries. One exemplary technique of achieving the desired balance may include tagging each entry in the TLB which has been populated by a pre-fill with an indicator bit. When such a tagged entry is accessed for the first time, the indicator bit may be cleared, and a pre-fill for the next address based on predicted stride values may be initiated. As an optional feature, the first entry in the TLB that is populated by a pre-fill may be established by software. </p><p id="p0070" num="0070"> [0048] With reference now to FIGS. 2A-B, another exemplary technique for achieving the balance is illustrated with reference to TLB 200, wherein TLB 200 may be configured to translate virtual address 202 to physical address 204. TLB 200 may be partitioned into an active TLB 206 and a future TLB 208. While both active TLB 206 and future TLB 208 are accessed pursuant to an address translation request, only future TLB 208 is populated with pre-fills. Active TLB 206 and future TLB 208 may be accessed either simultaneously or in sequence. As illustrated by action 210 in FIG. 2A, misses in active TLB 206 may check future TLB 208 for the missing entry. Page table walker 220 may be activated to search for missing entries or for pre-filling future TLB 208. Further, hints from external source 214 may also be used for predictions of potential TLB fills, activating page table walker 220 ahead of time in order to hide the corresponding latency. Moreover, an address request that may give rise a hit in the future TLB may cause the hitting entry to migrate to the active TLB (as illustrated by action 212 in FIG. 2). </p><p id="p0071" num="0071"> [0049] With reference to FIG. 2B, action 210 may be modified such that misses in active TLB 206 may check future TLB 208 for the missing entry, activate stride predictor 216 and thereby initiate a potential pre-fill to be populated in future TLB 208. </p><p id="p0072" num="0072"> [0050] In one or more embodiments, the stride value may be programmable, such that a programmer may dynamically adjust the stride value for particular applications. Moreover, embodiments may also include stride values derived from hints received from external devices such as multimedia devices. 
<!-- EPO <DP n="14"/>-->
 110527 </p><p id="p0073" num="0073"> 12 </p><p id="p0074" num="0074"> [0051] Other embodiments relating to stream pre-fills will now be described with reference to FIGS. 3A-B. As illustrated for example in FIGS. 3A-B, device 302 may be configured to access TLB 306 for translation of virtual addresses (VA) to physical addresses (PA) which correspond to memory 308. Device 302 may be any device which generates a demand stream of virtual addresses for translation in TLB 306. For example, device 302 may be a processor or a streaming device such as a display controller configured to read adjacent memory addresses in order to read out display data. Thus, device 302 may generate a demand stream corresponding to adjacent addresses in memory 308 in such examples. As shown, device 302 may include address generation unit (AGU) 304 for generating this demand stream. </p><p id="p0075" num="0075"> [0052] In exemplary embodiments, AGU 304 may be additionally configured to also generate a pre-fill stream of virtual addresses in addition to the demand stream. The virtual addresses generated by AGU 304 for the pre-fill stream may be offset by a desired amount from the demand stream such that the pre-fill stream may include addresses that are ahead of the demand stream. For example, an address in a pre-fill stream may be ahead of an address in a demand stream by an offset value corresponding to a page size. The desired offset value may be positive or negative, and may be derived from a programmable register. In some embodiments, AGU 304 may be configured to generate a new address for the pre-fill stream only at page crossings. For example, if a page size is 4KB, then AGU 304 may generate a new pre-fill address request every time the 12<sup>th</sup> least significant bit of the demand stream toggles. Thus, AGU 304 may be configured to generate two distinct streams at two different rates. For example, a first stream (e.g. demand stream) may be generated at a first rate (e.g. corresponding to requests for adjacent memory addresses which may be generated every clock cycle); and a second stream (e.g. pre-fill stream) may be generated at a second rate (e.g. at every instance the demand stream traverses a page boundary). Thus, TLB 306 may be simultaneously populated by translation requests from both the first and the second streams. As described previously, indicators may be included to track entries of TL 306 populated by the first and the second stream, and the respective first and second rates of generation may be adjusted based on a desired balance between demand-based entries and pre-filled entries in TLB 306. </p><p id="p0076" num="0076"> [0053] In some embodiments, the pre-fill stream may be designated as comprising pre-fill requests which are read-only requests, so as to avoid altering memory 308. In these 
<!-- EPO <DP n="15"/>-->
 110527 </p><p id="p0077" num="0077"> 13 </p><p id="p0078" num="0078"> embodiments, the device 302 may be configured to track outstanding demand requests and ignore data returned from memory device 308 for pre-fill requests. In some embodiments, device 302 may also cache pre-fill data returned from pre-fill requests, because it is known in advance that the pre-fill data would only be needed by a future demand request. </p><p id="p0079" num="0079"> [0054] As shown in FIG. 3A, both the demand stream and the pre-fill stream may be communicated on a common request channel, channel 307 from device 302 to TLB 306. However, this configuration involving a common channel may cause pre-fill requests to block the progress of demand requests which are more time critical. In order to avoid such hindering of demand requests, the pre-fill requests may be demarcated with an indicator bit, thereby enabling TLB 306 to distinguish them from demand requests (read/write) to memory 308. TLB 306 may thus avoid forwarding additional read transactions to memory 308 as device 302 will not be expecting read data to be returned corresponding to pre-fill requests. </p><p id="p0080" num="0080"> [0055] In some configurations involving common channel 307, the demand stream and the pre- fill stream may be logically separated by adopting a lower level link protocol. In operation such configurations may be logically equivalent to configuring separate channels for the demand stream and the pre-fill stream. </p><p id="p0081" num="0081"> [0056] In further embodiments, separate channels may in fact be configured for the demand stream and the pre-fill stream. For example, with reference to FIG. 3B, separate channels, demand request channel 309 and pre-fill request channel 310 may be provided as shown for communication between device 302 and TLB 306. Such separate channels may reduce effects such as hindering of demand requests on common channel 307. Configuring separate channels may also avoid the need for an indicator bit to demarcate pre-fill requests, because such indication may be provided based on which channel a request is received from. </p><p id="p0082" num="0082"> [0057] Referring back to FIG. 2A, it will be recognized that another configuration comprising separate channels for the demand stream and pre-fill stream is illustrated. The channel comprising virtual addresses 202 depicts a demand stream, while external source 214 configured for making predictions as previously noted, generates a pre-fill stream. Accordingly, it can be seen that the demand stream and the pre-fill stream may be generated from separate devices and need not be generated from the same device 302 as depicted in FIGS. 3A-B. For example, in the case of a video decode application, a 
<!-- EPO <DP n="16"/>-->
 110527 </p><p id="p0083" num="0083"> 14 </p><p id="p0084" num="0084"> external source 214 may be a frame pre-processing device configured to parse a data stream at a high speed, without performing a full decode on the data stream in order to determine the memory pages that would be invoked by a full frame decoder. The preprocessing device constituting external source 214 may run ahead of a full frame decoder device, wherein the pre-processing device may be able to generate pre-fill requests on behalf of the full frame decoder. By the time the full frame decoder may need to access the memory pages, these memory pages may already be pre-filled into the TLB (e.g. future TLB 208), thereby ensuring that the full frame decoder would not need to wait for TLB misses to be serviced. </p><p id="p0085" num="0085">[0058] Yet another embodiment includes a TLB fill technique referred to herein as "stream pre- fill with spatial pre-fetch." Essentially, stream pre-fill with spatial pre-fetch may fetch more than one entry on each fill of a stream pre-fill. Stream pre-fill with spatial prefetch may meet the criteria for evaluating fills in a TLB as follows: the TLB may be filled far enough in advance of a predicted TLB miss such as to hide the latency incurred by a page table walk; TLB fills may be initiated at an address predicted to miss; and up to a number "N" of adjacent addresses may be filled. Accordingly, as compared to stream pre-fill, stream pre-fill with spatial pre-fetch may fill N adjacent addresses in the TLB on each access. Thus, stream pre-fill with spatial pre-fetch may combine beneficial aspects of stream pre-fill and fills with spatial pre-fetch as discussed above. </p><p id="p0086" num="0086"> [0059] Exemplary embodiments may also include TLB fills for multiple streaming accesses, supported by stride predictors enhanced with filtering capabilities. For example, an exemplary MMU may cater to one or more clients and thereby support multiple address streams. All of the address streams generating accesses to the MMU may not share a common stride value. Therefore, a shared common stride predictor may not be capable of adequately supporting the multiple address streams. In order to support multiple address streams, multiple stride predictors or stride predictors with multiple stride registers may be employed. Accordingly, two or more address streams may be steered to two or more predictors based on certain representative bits in the address streams. Examples of bits in the address streams which may be used to determine the predictor logic that the address stream is steered to include: a logical master ID (or MID) of an originating stream from a given client, a read/write indicator bit, a transaction size indicator bit, etc. 
<!-- EPO <DP n="17"/>-->
 110527 </p><p id="p0087" num="0087"> 15 </p><p id="p0088" num="0088"> [0060] With reference now to FIG. 4 an exemplary MMU system employing TLB pre-fill for multiple streaming accesses is illustrated. The multiple streaming accesses may be parallel and/or simultaneous. As shown, a system MMU (SMMU) 400 provides translation services for several multimedia clients, 402a-n. Clients 402a-n may be any device, including CPUs, and may communicate with SMMU 400 over a shared bus such as bus 410. Each client 402a-n may supply an address stream to SMMU 400 for translation. The multiple address streams may not have a same stride value. For example, a first stream (e.g. from client 402a) may have a first stride value, wherein the first stream is based on a first hint value corresponding to a first virtual address (which may be received from client 402a). Similarly, a second stream (e.g. from client 402b) may have a second stride value, wherein the second stream is based on a second hint value corresponding to a second virtual address (which may be received from client 402b). SMMU 400 may comprise TLB 404 which may be pre-filled with the first stream simultaneously and/or in parallel with the second stream. Corresponding to the first stream and the second stream, logic for two or more predictors may be present in the block designated as predictors 406 in FIG. 4 to assist TLB 404 in translation of multiple address streams such as the first and second streams. Page table walker 408 may also be configured to support multiple simultaneous and/or parallel operations for obtaining translations (e.g. corresponding to the first and second streams). </p><p id="p0089" num="0089"> [0061] Accordingly, the exemplary embodiments described herein may be configured to pre-fill TLBs such that exemplary MMUs may derive improved performance, conserve resource costs and consume less power. As previously described, conventional TLBs may be configured to reduce miss rates for non-streaming accesses by simply increasing the TLB size. However, conventional TLBs cannot accomplish reduced miss rate for streaming accesses even if the TLB size were theoretically infinitely increased. However, exemplary embodiments may be configured to reduce TLB miss rates and may effectively eliminate TLB misses, even in the case of streaming accesses. </p><p id="p0090" num="0090"> [0062] Moreover, exemplary embodiments may combine multiple page table walks into a single transaction by using spatial pre-fetch, which can effectively reduce the number of distinct memory transactions in a system. Thus, memory efficiency may be improved and resource contention may be reduced, thereby also improving the performance of system components which may not directly require TLB accesses. 
<!-- EPO <DP n="18"/>-->
 110527 </p><p id="p0091" num="0091"> 16 </p><p id="p0092" num="0092"> [0063] It will be appreciated that embodiments include various methods for performing the processes, functions and/or algorithms disclosed herein. For example, as illustrated in FIG. 5, an embodiment can include a method of populating a translation lookaside buffer (TLB) (e.g. active TLB 206 and future TLB 208), the method comprising: receiving a first virtual address for translation to physical address (e.g. virtual address 202 and physical address 204) by the TLB - Block 502; and in a single burst, pre-filling the TLB with translations for a stream of pre-fill virtual addresses (e.g. pre-filling future TLB 208 by stride predictor 216 and page table walker 220) derived from the first virtual address - Block 504. </p><p id="p0093" num="0093"> [0064] Those of skill in the art will appreciate that information and signals may be represented using any of a variety of different technologies and techniques. For example, data, instructions, commands, information, signals, bits, symbols, and chips that may be referenced throughout the above description may be represented by voltages, currents, electromagnetic waves, magnetic fields or particles, optical fields or particles, or any combination thereof. </p><p id="p0094" num="0094"> [0065] Further, those of skill in the art will appreciate that the various illustrative logical blocks, modules, circuits, and algorithm steps described in connection with the embodiments disclosed herein may be implemented as electronic hardware, computer software, or combinations of both. To clearly illustrate this interchangeability of hardware and software, various illustrative components, blocks, modules, circuits, and steps have been described above generally in terms of their functionality. Whether such functionality is implemented as hardware or software depends upon the particular application and design constraints imposed on the overall system. Skilled artisans may implement the described functionality in varying ways for each particular application, but such implementation decisions should not be interpreted as causing a departure from the scope of the present invention. </p><p id="p0095" num="0095"> [0066] The methods, sequences and/or algorithms described in connection with the embodiments disclosed herein may be embodied directly in hardware, in a software module executed by a processor, or in a combination of the two. A software module may reside in RAM memory, flash memory, ROM memory, EPROM memory, EEPROM memory, registers, hard disk, a removable disk, a CD-ROM, or any other form of storage medium known in the art. An exemplary storage medium is coupled to the processor such that the processor can read information from, and write information 
<!-- EPO <DP n="19"/>-->
 110527 </p><p id="p0096" num="0096"> 17 </p><p id="p0097" num="0097"> to, the storage medium. In the alternative, the storage medium may be integral to the processor. </p><p id="p0098" num="0098"> [0067] Referring to FIG. 6, a block diagram of a particular illustrative embodiment of a wireless device that includes a multi-core processor configured according to exemplary embodiments is depicted and generally designated 600. The device 600 includes a digital signal processor (DSP) 664, which may comprise logic such as active TLB 206, future TLB 208, page table walker 220, etc of FIG. 2, which may be coupled to memory 632 as shown. Virtual address 202 and next virtual page prediction (hint value) may be received from external devices described below. For example, FIG. 6 also shows an external device such as display controller 626 that is coupled to DSP 664 and to display 628. An external device such as coder/decoder (CODEC) 634 (e.g., an audio and/or voice CODEC) can also be coupled to DSP 664. Other components/external devices, such as wireless controller 640 (which may include a modem) are also illustrated. Speaker 636 and microphone 638 can be coupled to CODEC 634. FIG. 6 also indicates that wireless controller 640 can be coupled to wireless antenna 642. In a particular embodiment, DSP 664, display controller 626, memory 632, CODEC 634, and wireless controller 640 are included in a system-in-package or system-on-chip device 622. </p><p id="p0099" num="0099"> [0068] In a particular embodiment, input device 630 and power supply 644 are coupled to the system-on-chip device 622. Moreover, in a particular embodiment, as illustrated in FIG. 6, display 628, input device 630, speaker 636, microphone 638, wireless antenna 642, and power supply 644 are external to the system-on-chip device 622. However, each of display 628, input device 630, speaker 636, microphone 638, wireless antenna 642, and power supply 644 can be coupled to a component of the system-on-chip device 622, such as an interface or a controller. </p><p id="p0100" num="0100"> [0069] It should be noted that although FIG. 6 depicts a wireless communications device, DSP 664 and memory 632 may also be integrated into a set-top box, a music player, a video player, an entertainment unit, a navigation device, a personal digital assistant (PDA), a fixed location data unit, or a computer. A processor (e.g., DSP 664) may also be integrated into such a device. </p><p id="p0101" num="0101"> [0070] Accordingly, an embodiment of the invention can include a computer readable media embodying a method of populating a TLB by pre-filling the TLB. Accordingly, the invention is not limited to illustrated examples and any means for performing the functionality described herein are included in embodiments of the invention. 
<!-- EPO <DP n="20"/>-->
 110527 </p><p id="p0102" num="0102"> 18 </p><p id="p0103" num="0103">While the foregoing disclosure shows illustrative embodiments of the invention, it should be noted that various changes and modifications could be made herein without departing from the scope of the invention as defined by the appended claims. The functions, steps and/or actions of the method claims in accordance with the embodiments of the invention described herein need not be performed in any particular order. Furthermore, although elements of the invention may be described or claimed in the singular, the plural is contemplated unless limitation to the singular is explicitly stated. 
</p></description><claims mxw-id="PCLM44851501" ref-ucid="WO-2012119148-A1" lang="EN" load-source="patent-office"><claim-statement><!-- EPO <DP n="21"/>-->110527 19 CLAIMSWHAT IS CLAIMED IS: </claim-statement><claim id="clm-0001" num="1"><claim-text>1. A method of populating a translation lookaside buffer (TLB) (206, 208), the method comprising: </claim-text><claim-text> receiving (502) a first virtual address (202) for translation to physical address (204) by the TLB; and </claim-text><claim-text> in a single burst, pre-filling (504) the TLB with translations for a first stream of one or more pre-fill virtual addresses derived from the first virtual address. </claim-text></claim><claim id="clm-0002" num="2"><claim-text>2. The method of claim 1, wherein the first virtual address is derived from a first hint address value received from a first external device. </claim-text></claim><claim id="clm-0003" num="3"><claim-text>3. The method of claim 1, wherein the first stream of one or more pre-fill virtual addresses comprises virtual addresses that are derived from the first virtual address based on a first programmable stride value. </claim-text></claim><claim id="clm-0004" num="4"><claim-text>4. The method of claim 3, wherein the first programmable stride value is dynamically determined by software. </claim-text></claim><claim id="clm-0005" num="5"><claim-text>5. The method of claim 3, wherein the first programmable stride value is a predetermined constant. </claim-text></claim><claim id="clm-0006" num="6"><claim-text>6. The method of claim 3, wherein the first programmable stride value is determined by analyzing patterns for TLB misses. </claim-text></claim><claim id="clm-0007" num="7"><claim-text>7. The method of claim 3, wherein the first programmable stride value is based on a hint value derived from an external device. </claim-text></claim><claim id="clm-0008" num="8"><claim-text>8. The method of claim 1, wherein the first stream of one or more pre-fill virtual addresses are adjacent to the first virtual address. <!-- EPO <DP n="22"/>--> 110527 </claim-text><claim-text> 20 </claim-text></claim><claim id="clm-0009" num="9"><claim-text> 9. The method of claim 1, wherein pre-filling the TLB with translations for the first stream of one or more pre-fill virtual addresses is performed before the TLB receives demand requests for address translations corresponding to the one or more pre-fill virtual addresses. </claim-text></claim><claim id="clm-0010" num="10"><claim-text>10. The method of claim 1, wherein the first virtual address causes a miss in the TLB. </claim-text></claim><claim id="clm-0011" num="11"><claim-text>11. The method of claim 1 , further comprising: </claim-text><claim-text> receiving a second virtual address for translation to physical address by the TLB; and </claim-text><claim-text> in a single burst, pre-filling the TLB with translations for a second stream of one or more pre-fill virtual addresses derived from the second virtual address, wherein pre- filling the TLB with translations for the second stream is performed simultaneously and/or in parallel with pre-filling the TLB with translations for the first stream. </claim-text></claim><claim id="clm-0012" num="12"><claim-text>12. The method of claim 11, wherein the second virtual address is derived from a second hint address value received from a second external device. </claim-text></claim><claim id="clm-0013" num="13"><claim-text>13. An apparatus for populating a translation lookaside buffer (TLB) (206, 208), the apparatus comprising: </claim-text><claim-text> logic configured to receive a first virtual address (202) for translation to physical address (204) by the TLB; and </claim-text><claim-text> logic (216, 220) configured to pre-fill the TLB with translations for a first stream of one or more pre-fill virtual addresses derived from the first virtual address, in a single burst. </claim-text></claim><claim id="clm-0014" num="14"><claim-text>14. An apparatus comprising means for performing a method in accordance with any of claims 1 to 12. </claim-text></claim><claim id="clm-0015" num="15"><claim-text>15. A computer program product comprising a computer readable medium, the computer readable medium comprising at least one instruction for causing a computer or processor to perform a method in accordance with any of claims 1 to 12. </claim-text></claim></claims><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
