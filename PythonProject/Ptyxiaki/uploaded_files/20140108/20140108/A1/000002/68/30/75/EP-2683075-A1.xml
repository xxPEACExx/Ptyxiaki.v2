<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2683075-A1" country="EP" doc-number="2683075" kind="A1" date="20140108" family-id="46757383" file-reference-id="283701" date-produced="20180822" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146585174" ucid="EP-2683075-A1"><document-id><country>EP</country><doc-number>2683075</doc-number><kind>A1</kind><date>20140108</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-12751754-A" is-representative="YES"><document-id mxw-id="PAPP154847366" load-source="docdb" format="epo"><country>EP</country><doc-number>12751754</doc-number><kind>A</kind><date>20120227</date><lang>ES</lang></document-id><document-id mxw-id="PAPP240706766" load-source="docdb" format="original"><country>EP</country><doc-number>12751754.8</doc-number><date>20120227</date><lang>ES</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140548753" ucid="ES-201100222-A" load-source="docdb"><document-id format="epo"><country>ES</country><doc-number>201100222</doc-number><kind>A</kind><date>20110228</date></document-id></priority-claim><priority-claim mxw-id="PPC140552210" ucid="ES-2012000047-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>ES</country><doc-number>2012000047</doc-number><kind>W</kind><date>20120227</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1989315720" load-source="docdb">H02P   9/02        20060101AFI20120920BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1989316579" load-source="docdb">G05F   1/66        20060101ALI20120920BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1989318132" load-source="docdb">H02P  23/14        20060101ALI20120920BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1989319146" load-source="docdb">H02M   7/48        20070101ALI20120920BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1770961836" load-source="docdb" scheme="CPC">H02P2101/15        20130101 LA20170822BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1770961837" load-source="docdb" scheme="CPC">H02P   9/10        20130101 LI20170822BHEP        </classification-cpc><classification-cpc mxw-id="PCL2060960877" load-source="docdb" scheme="CPC">G05B  13/04        20130101 FI20140227BHEP        </classification-cpc><classification-cpc mxw-id="PCL2060967347" load-source="docdb" scheme="CPC">H02J   3/381       20130101 LI20140310BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132360155" lang="DE" load-source="patent-office">VIRTUELLE STEUERUNG ELEKTROMECHANISCHER EIGENSCHAFTEN FÜR STATISCHE STROMWANDLER</invention-title><invention-title mxw-id="PT132360156" lang="EN" load-source="patent-office">VIRTUAL CONTROLLER OF ELECTROMECHANICAL CHARACTERISTICS FOR STATIC POWER CONVERTERS</invention-title><invention-title mxw-id="PT132360157" lang="FR" load-source="patent-office">CONTRÔLEUR DE LA CARACTÉRISTIQUE ÉLECTROMÉCANIQUE VIRTUELLE POUR CONVERTISSEURS STATIQUES DE PUISSANCE</invention-title><citations><patent-citations><patcit mxw-id="PCIT394964308" load-source="docdb" ucid="WO-2010055322-A2"><document-id format="epo"><country>WO</country><doc-number>2010055322</doc-number><kind>A2</kind><date>20100520</date></document-id><sources><source name="TPO" created-by-npl="N"/></sources></patcit></patent-citations><non-patent-citations><nplcit><text>See also references of WO 2012117132A1</text><sources><source mxw-id="PNPL74177505" load-source="docdb" name="TPO"/></sources></nplcit></non-patent-citations></citations></technical-data><parties><applicants><applicant mxw-id="PPAR919538079" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>ABENGOA SOLAR NEW TECH SA</last-name><address><country>ES</country></address></addressbook></applicant><applicant mxw-id="PPAR919507842" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>ABENGOA SOLAR NEW TECHNOLOGIES, S.A.</last-name></addressbook></applicant><applicant mxw-id="PPAR919008534" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Abengoa Solar New Technologies, S.A.</last-name><iid>101259580</iid><address><street>Avda. de la Buhaira 2</street><city>410108 Sevilla</city><country>ES</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR947262363" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>RODRIGUEZ CORTES PEDRO</last-name><address><country>ES</country></address></addressbook></inventor><inventor mxw-id="PPAR944803704" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>RODRIGUEZ CORTES, PEDRO</last-name></addressbook></inventor><inventor mxw-id="PPAR919016354" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>RODRIGUEZ CORTÉS, Patíro</last-name><address><street>Campos Palmas Altas Calle Energía Solar 1</street><city>E-41014 Sevilla</city><country>ES</country></address></addressbook></inventor><inventor mxw-id="PPAR919535186" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>CANDELA GARCIA JOSE IGNACIO</last-name><address><country>ES</country></address></addressbook></inventor><inventor mxw-id="PPAR919529265" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>CANDELA GARCIA, JOSE IGNACIO</last-name></addressbook></inventor><inventor mxw-id="PPAR919006120" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>CANDELA GARCIA, José Ignacio</last-name><address><street>Campus Palmas Altas Calle Energía Solar 1</street><city>E- 41014 Sevilla</city><country>ES</country></address></addressbook></inventor><inventor mxw-id="PPAR919546342" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>ROCABERT DELGADO JOAN</last-name><address><country>ES</country></address></addressbook></inventor><inventor mxw-id="PPAR919509057" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>ROCABERT DELGADO, Joan</last-name></addressbook></inventor><inventor mxw-id="PPAR919012526" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>ROCABERT DELGADO, Joan</last-name><address><street>Campus Palmas Altas Calle Energía Solar 1</street><city>E- 41014 Sevilla</city><country>ES</country></address></addressbook></inventor><inventor mxw-id="PPAR919538963" load-source="docdb" sequence="4" format="epo"><addressbook><last-name>TEODORESCU REMUS</last-name><address><country>ES</country></address></addressbook></inventor><inventor mxw-id="PPAR919538929" load-source="docdb" sequence="4" format="intermediate"><addressbook><last-name>TEODORESCU, REMUS</last-name></addressbook></inventor><inventor mxw-id="PPAR919012350" load-source="patent-office" sequence="4" format="original"><addressbook><last-name>TEODORESCU, REMUS</last-name><address><street>Campus Palmas Altas Calle Energía Solar 1</street><city>E-41014 Sevilla</city><country>ES</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR919018626" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Garcia-Cabrerizo y del Santo, Pedro Maria</last-name><iid>100064688</iid><address><street>Oficina Garcia Cabrerizo, S.L., Vitruvio, 23</street><city>28006 Madrid</city><country>ES</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="ES-2012000047-W"><document-id><country>ES</country><doc-number>2012000047</doc-number><kind>W</kind><date>20120227</date><lang>ES</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2012117132-A1"><document-id><country>WO</country><doc-number>2012117132</doc-number><kind>A1</kind><date>20120907</date><lang>ES</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS549816866" load-source="docdb">AL</country><country mxw-id="DS549745609" load-source="docdb">AT</country><country mxw-id="DS549816867" load-source="docdb">BE</country><country mxw-id="DS549819561" load-source="docdb">BG</country><country mxw-id="DS549817503" load-source="docdb">CH</country><country mxw-id="DS549816868" load-source="docdb">CY</country><country mxw-id="DS549743406" load-source="docdb">CZ</country><country mxw-id="DS549815569" load-source="docdb">DE</country><country mxw-id="DS549816869" load-source="docdb">DK</country><country mxw-id="DS549816874" load-source="docdb">EE</country><country mxw-id="DS549908830" load-source="docdb">ES</country><country mxw-id="DS549819570" load-source="docdb">FI</country><country mxw-id="DS549819571" load-source="docdb">FR</country><country mxw-id="DS549815574" load-source="docdb">GB</country><country mxw-id="DS549816875" load-source="docdb">GR</country><country mxw-id="DS549815575" load-source="docdb">HR</country><country mxw-id="DS549743407" load-source="docdb">HU</country><country mxw-id="DS549817504" load-source="docdb">IE</country><country mxw-id="DS549816876" load-source="docdb">IS</country><country mxw-id="DS549819572" load-source="docdb">IT</country><country mxw-id="DS549816877" load-source="docdb">LI</country><country mxw-id="DS549815576" load-source="docdb">LT</country><country mxw-id="DS549745610" load-source="docdb">LU</country><country mxw-id="DS549819573" load-source="docdb">LV</country><country mxw-id="DS549819578" load-source="docdb">MC</country><country mxw-id="DS549745611" load-source="docdb">MK</country><country mxw-id="DS549745612" load-source="docdb">MT</country><country mxw-id="DS549819579" load-source="docdb">NL</country><country mxw-id="DS549817505" load-source="docdb">NO</country><country mxw-id="DS549819580" load-source="docdb">PL</country><country mxw-id="DS549908831" load-source="docdb">PT</country><country mxw-id="DS549815577" load-source="docdb">RO</country><country mxw-id="DS549908832" load-source="docdb">RS</country><country mxw-id="DS549819581" load-source="docdb">SE</country><country mxw-id="DS549745637" load-source="docdb">SI</country><country mxw-id="DS549818482" load-source="docdb">SK</country><country mxw-id="DS549818483" load-source="docdb">SM</country><country mxw-id="DS549816882" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA128673346" lang="EN" load-source="patent-office"><p id="pa01" num="0001">The invention relates to a virtual controller of electromechanical characteristics for a static power converter that includes a PLC (23) (power loop controller), which receives, at the input thereof, the power difference (ΔP) between the input power (P<sub>in</sub>) (power delivered to the converter by the primary source) and the power delivered to the grid (P<sub>elec</sub>) and is able to modify online the parameters of the virtual inertia coefficient and the damping factor as a function of the desired response and of the grid conditions for different frequency ranges.<img id="iaf01" file="imgaf001.tif" wi="154" he="57" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA132825792" lang="EN" source="EPO" load-source="docdb"><p>The invention relates to a virtual controller of electromechanical characteristics for a static power converter that includes a PLC (23) (power loop controller), which receives, at the input thereof, the power difference (”P) between the input power (P in ) (power delivered to the converter by the primary source) and the power delivered to the grid (P elec ) and is able to modify online the parameters of the virtual inertia coefficient and the damping factor as a function of the desired response and of the grid conditions for different frequency ranges.</p></abstract><description mxw-id="PDES63959334" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001"><b>Object of the invention</b></heading><p id="p0001" num="0001">The present invention relates to a controller of the virtual electromechanical characteristic for static power converters that, connected to the electric grid, allows the control of the power injected thereto. The main application of this invention is distributed generation plants and especially in renewable energy plants such as wind and photovoltaic energy.</p><heading id="h0002"><b>Background of the invention</b></heading><p id="p0002" num="0002">The sources of renewable energy, mainly wind power plants (WIN) and photovoltaic (PH) power plants, have ceased to be a marginal resource in the generation of electricity. The generators of PH plants use power converters to connect to the electric grid. These power converters, also known as inverters, inject current to the voltage of the grid to supply power to the same. In normal operating conditions, the PH inverters inject single-phase o triphase sinusoidal currents to the grid, depending on the power range of the generator. Normally, the currents injected to the grid tend to be sinusoidal and are in phase with the voltages of the coupling point to maximize the amount of active power being generated. There are no PH inverters in the market, at least in on a generalized basis, that inject currents to the quadrature with the grid voltages, which allows controlling the reactive power injected to the grid with the purpose of regulating the voltage level at the coupling point.</p><p id="p0003" num="0003">When the grid voltage is affected by a perturbation, such as imbalances, transients, or harmonics, which is usual in electric grids, conventional PH inverters experience problems to remain appropriately synchronized with the grid voltage, which leads to uncontrolled power flows that cause the PH inverter to worsen the situation of the failure of the grid. With more serious grid perturbations, such as voltage dips, short-circuits, or power oscillations, conventional PH inverters cannot offer an appropriate support to the electric grid to help maintain the generation system active. In fact, these serious transient perturbations usually cause the disconnection of the grid in the majority of the commercial PH inverters due to the triggering of some of its overcurrent or overvoltage protections.</p><p id="p0004" num="0004">In order to minimize these inconveniences, virtual synchronous generators are known in the state of the art that attempt to emulate the behavior of a real synchronous generator. A classic yet very efficient manner to regulate the active and reactive power exchanged by a synchronous generator with the grid consists in controlling the difference between the amplitude and the phase angle between the induced voltage in the stator (<i>e</i>) and the voltage of the grid at the connecting point (<i>v</i>).</p><p id="p0005" num="0005">The active and reactive power exchanged between the synchronous reactor and the grid is calculated as follows:<!-- EPO <DP n="2"> --> <maths id="math0001" num=""><math display="block"><mi>P</mi><mo>=</mo><mfrac><mi mathvariant="italic">EV</mi><mi>Z</mi></mfrac><mo>⁢</mo><mi>cos</mi><mfenced separators=""><mi>φ</mi><mo>-</mo><mi>δ</mi></mfenced><mo>-</mo><mfrac><msup><mi>V</mi><mn>2</mn></msup><mi>Z</mi></mfrac><mo>⁢</mo><mi>cos</mi><mfenced><mi>φ</mi></mfenced><mo>,</mo></math><img id="ib0001" file="imgb0001.tif" wi="58" he="14" img-content="math" img-format="tif"/></maths> <maths id="math0002" num=""><math display="block"><mi>Q</mi><mo>=</mo><mfrac><mi mathvariant="italic">EV</mi><mi>Z</mi></mfrac><mo>⁢</mo><mi>sin</mi><mfenced separators=""><mi>φ</mi><mo>-</mo><mi>δ</mi></mfenced><mo>-</mo><mfrac><msup><mi>V</mi><mn>2</mn></msup><mi>Z</mi></mfrac><mo>⁢</mo><mi>sin</mi><mfenced><mi>φ</mi></mfenced><mo>,</mo></math><img id="ib0002" file="imgb0002.tif" wi="57" he="12" img-content="math" img-format="tif"/></maths></p><p id="p0006" num="0006"><i>V</i> and <i>E</i> being the efficient values of the grid voltage (<i>v</i>) and the induced voltage in the stator (e) and <i>δ</i> the phase angle.</p><p id="p0007" num="0007">Given that a synchronous generator has a majorly inductive impedance and the phase angle <i>δ</i> is small, the previous expressions can be approximated as follows: <maths id="math0003" num=""><math display="block"><mi>P</mi><mo>=</mo><msub><mi>P</mi><mi mathvariant="italic">max</mi></msub><mo>⋅</mo><mi>δ</mi><mo>;</mo><msub><mi>P</mi><mi mathvariant="italic">max</mi></msub><mo>=</mo><mfrac><mi mathvariant="italic">EV</mi><mi>X</mi></mfrac></math><img id="ib0003" file="imgb0003.tif" wi="46" he="12" img-content="math" img-format="tif"/></maths> <maths id="math0004" num=""><math display="block"><mi>Q</mi><mo>=</mo><mfrac><mi>V</mi><mi>X</mi></mfrac><mo>⁢</mo><mfenced separators=""><mi>E</mi><mo>-</mo><mi>V</mi></mfenced><mn>.</mn></math><img id="ib0004" file="imgb0004.tif" wi="32" he="12" img-content="math" img-format="tif"/></maths></p><p id="p0008" num="0008">These expressions indicate that the active power delivered by the synchronous generator to the grid depends lineally on the angle <i>δ</i>, while the reactive power depends on the amplitude difference between <i>E</i> and <i>V.</i></p><p id="p0009" num="0009">This simplicity in the regulation of the active and reactive power delivered to the grid turns the synchronous generator into the best resource of the power generation systems. However, synchronous generators present problems in their dynamic electromechanical response.</p><p id="p0010" num="0010">Under the simplifying hypothesis indicated above, and taking into account the almost negligible damping of the system, the transfer function of the electromechanical loop in the synchronous generator is the following: <maths id="math0005" num=""><math display="block"><mfrac><msub><mi mathvariant="italic">P</mi><mi mathvariant="italic">elec</mi></msub><msub><mi mathvariant="italic">P</mi><mi mathvariant="italic">mec</mi></msub></mfrac><mo>=</mo><mfrac><msup><mfenced><msqrt><mfrac><msub><mi>P</mi><mi mathvariant="italic">Max</mi></msub><mrow><mi>J</mi><mo>⋅</mo><msub><mi>ω</mi><mi>s</mi></msub></mrow></mfrac></msqrt></mfenced><mn>2</mn></msup><mrow><msup><mi>s</mi><mn>2</mn></msup><mo>+</mo><msup><mfenced><msqrt><mfrac><msub><mi>P</mi><mi mathvariant="italic">Max</mi></msub><mrow><mi>J</mi><mo>⋅</mo><msub><mi>ω</mi><mi>s</mi></msub></mrow></mfrac></msqrt></mfenced><mn>2</mn></msup></mrow></mfrac><mo>=</mo><mfrac><msup><msub><mi>ω</mi><mi>n</mi></msub><mn>2</mn></msup><mrow><msup><mi>s</mi><mn>2</mn></msup><mo>+</mo><msup><msub><mi>ω</mi><mi>n</mi></msub><mn>2</mn></msup></mrow></mfrac></math><img id="ib0005" file="imgb0005.tif" wi="63" he="29" img-content="math" img-format="tif"/></maths></p><p id="p0011" num="0011">P<sub>elec</sub> being the electric power at the output of the generator, P<sub>mec</sub> the input mechanical power into the synchronous generator through its axis, P<sub>max</sub> the maximum power transferable to the grid (defined above), J the inertia of the generator, and <i>ω</i><sub>s</sub> the synchronous angular frequency of the grid. This transfer function has a natural oscillation frequency <i>ω<sub>n</sub></i> that causes the system to present a permanent oscillation (or weakly damped in practice) in the output power with respect to any perturbation in the grid: changes in charge, changes in the interconnection impedances, short-circuits, etc. This natural oscillation frequency varies with the connection topology of the grid and with the points between which the oscillation takes place, being a value that is not determined based on the parameters of the machine only.</p><p id="p0012" num="0012">There are many attempts in the study of the state of the art to solve this problem. The installation of damper windings is the generalized solution at the synchronous machine level, but the damping degree achieved with them is very small. Other electromechanical<!-- EPO <DP n="3"> --> oscillation attenuation systems have been developed at the machine control level, such as the Power System Stabilizer (PSS), which is currently incorporated to almost all synchronous machine control systems.</p><p id="p0013" num="0013">Another problem related to the electromechanical response of the synchronous generator is the need to maintain synchronism after a grid failure. Synchronous generators tend to increase their speed during the failure; after the elimination of this failure, the discrepancy existing between the generator and the rest of the grid can render the reestablishment of the synchronous connection impossible. In order to limit this phenomenon, solutions such as quick reconnection switches, brake resistors, and quick intake valves are implemented, the machine having to present the maximum inertia possible under these circumstances.</p><p id="p0014" num="0014">If a generator has been disconnected and is desired to be reconnected, the synchronization process can be very fragile depending on the weakness of the grid at the coupling point, with the possibility of creating an inadmissible perturbation on the same during the synchronization process.</p><p id="p0015" num="0015">Next, a series of articles and papers located in the state of the art and related to the emulation of the synchronous generator are presented below:
<ul><li><nplcit id="ncit0001" npl-type="s"><text> Visscher, K.; De Haan, S.W.H.; "Virtual synchronous machines (VSG's) for frequency stabilisation in future grids with a significant share of decentralized generation," SmartGrids for Distribution, 2008. IET-CIRED. CIRED Seminar, vol., no., pp.1-4, 23-24 June 2008</text></nplcit>.</li><li><nplcit id="ncit0002" npl-type="s"><text>T. Loix, S. De Breucker, P. Vanassche, J. Van den Keybus, J. Driesen, and K. Visscher, "Layout and performance of the power electronic converter platform for the VSYNC project," presented at PowerTech, 2009 IEEE Bucharest, 2009</text></nplcit>.</li><li><nplcit id="ncit0003" npl-type="s"><text>Beck, H.-P.; Hesse, R.; "Virtual synchronous machine," Electrical Power Quality and Utilisation, 2007. EPQU 2007. 9th International Conference on , vol., no., pp.1-6, 9-11 Oct. 2007</text></nplcit>.</li><li><nplcit id="ncit0004" npl-type="s"><text>Zhong, Q; Weiss, G; , "Synchronverters: Inverters that Mimic Synchronous Generators," Industrial Electronics, IEEE Transactions on , vol. PP, no.99, pp.1, 0</text></nplcit> doi: 10.1109/TIE.2010.2048839.</li><li><nplcit id="ncit0005" npl-type="s"><text> Z. Lidong, L. Hamefors, and H. P. Nee, "Power-Synchronization Control of Grid-Connected Voltage-Source Converters," Power Systems, IEEE Transactions on, vol. 25, pp. 809-820. May 2010</text></nplcit>.</li></ul></p><p id="p0016" num="0016">These references describe the control of an electronic converter with the purpose of emulating, to a higher or lower degree, the equations of a real synchronous generator, that is to say, with its parameters, advantages, and inconveniences. The invention object of the present patent does not intend to emulate a synchronous machine, but achieve an advanced control system capable of improving the interconnection between the converter and the electric grid. Even though the controller object of the present invention uses the inertia and<!-- EPO <DP n="4"> --> damping factor variables, it does not intend to replicate the effect thereof on the real synchronous generator; rather, the values of these virtual variables will be dynamically adapted to the present scenario at any given time in the grid (perturbations, failures, desynchronization) and will be different for the different frequency ranges of the potential power oscillations/perturbations.</p><p id="p0017" num="0017">Thus, the invention presented herein consists of a new controller that, by extending the electromechanical model of a real synchronous generator, provides the static power converters with new functionalities to solve the limitations inherent to real synchronous generators, and by affinity, to the electronic power converters attempting to emulate them.</p><heading id="h0003"><b>Description of the invention</b></heading><p id="p0018" num="0018">The controller of the virtual electromechanical characteristic for static power converters of the present invention comprises an electromechanical control loop that enables the online adjustment of parameters such as natural frequency, inertia, and damping factor, with the purpose of improving the operation of said power converter.</p><p id="p0019" num="0019">The electromechanical control loop proposed herein is governed by a closed loop transfer function relating the power delivered to the grid P<sub>out</sub> and the input power into the converter P<sub>in</sub>, which may be dynamically parameterized by means of a virtual inertia coefficient and a damping factor to achieve an optimized response to the contour conditions of the power converter.</p><p id="p0020" num="0020">The electromechanical control loop comprises a PLC ("power loop controller") that receives the difference between the input power (power delivered to the converter by the primary source) and the power delivered to the grid, and a series of parameters, such as natural frequency and the damping factor, among others, at the input.</p><p id="p0021" num="0021">The virtual internal electromotive force of the power converter is obtained at the output of the PLC, which is integrated to obtain the phase of the virtual internal electromotive force vector that ultimately determines a set of virtual tri-phase voltages.</p><p id="p0022" num="0022">This controller of the electromechanical characteristics achieves great flexibility in the behavior of the power converter connected to the grid and allows, for example, reducing the inertia at certain moments to facilitate its connection to the grid, or allocating higher inertias in the frequency ranges in which perturbations are desired to be eliminated.</p><p id="p0023" num="0023">It should be noted at this point that not all existing techniques to control the active power in the connection to the electric grid of a power converter implement the inertia characteristic. On the other hand, the techniques applying this concept only attempt to faithfully replicate the electromechanical characteristic of the real synchronous generator without applying any type of additional improvement intending to solve the inconveniences inherent to the electromechanical system of the real synchronous generator. Thus, the controller of the electromechanical characteristic object of this invention presents an evident difference with respect to existing techniques, given that it allows optimizing, on line and in<!-- EPO <DP n="5"> --> an adaptive manner, the virtual inertia coefficient and the damping factor according to the operating conditions of the power converter, such that establishing the capacity presented by the generator to attenuate different power oscillations existing in the grid (inter-plant, inter-area...) and in the primary generation source (mechanical and structural resonances), is possible.</p><p id="p0024" num="0024">On the other hand, the controller of the present invention uses different values, both for the virtual inertia coefficient and the damping factor, for different frequency ranges, which supposes important progress with respect to other existing techniques given that it allows adjusting the response of the power converter for each frequency range of the possible existing power oscillations.</p><p id="p0025" num="0025">The controller of the virtual electromechanical characteristic of the present invention, unlike the solutions found in the study of the state of the art, is not based on the simple imitation of the electromechanical characteristic of a real synchronous generator, but it is configured as an adjustable power controller, which allows reaching an optimal response for the different perturbations and power fluctuations existing in the grid or in the primary source, allowing the instantaneous adjustment of the value of the virtual inertia coefficient and the damping factor of the control loop for each frequency range at any given moment.</p><heading id="h0004"><b>Description of the drawings</b></heading><p id="p0026" num="0026">With the purpose of facilitating the comprehension of the present invention, several figures have been attached representing the following in an illustrative rather than limitative manner:
<ul><li><figref idrefs="f0001">Figure 1</figref> shows a general scheme of the electromechanical loop of a conventional synchronous generator belonging to the state of the art;</li><li><figref idrefs="f0001">Figure 2</figref> shows a simplified schematic representation of the electromechanical loop of the controller object of the present invention;</li><li><figref idrefs="f0001">Figure 3</figref> shows a scheme of the implementation of the electromechanical loop of the controller object of the present invention wherein multiple virtual inertia coefficients and damping factors are used for the different frequency ranges.</li><li><figref idrefs="f0002">Figure 4</figref> shows a general block diagram of the controller of the virtual electromechanical characteristic object of the present invention.</li></ul></p><p id="p0027" num="0027">The references being:
<ul><li>(21) Controller of the virtual electromechanical characteristic;</li><li>(22) Controller of the inertia and damping factor;</li><li>(23) PLC ("Power Loop Controller");</li><li>(24) VCO ("Voltage Controller Oscillator").</li></ul></p><heading id="h0005"><b>Detailed description of the invention</b></heading><p id="p0028" num="0028">Next, a detailed description of the invention is made below based on the figures represented herein.<!-- EPO <DP n="6"> --></p><p id="p0029" num="0029"><figref idrefs="f0001">Figure 1</figref> shows the general scheme of the electromechanical power loop of a conventional synchronous generator. This generator presents a series of inherent limitations and inconveniences that were described above.</p><p id="p0030" num="0030">As shown in <figref idrefs="f0001">figure 2</figref>, the controller of the virtual electromechanical characteristic of static power converters object of the present invention consists of a control loop comprising a PLC (23) ("power loop controller") which receives, at the input, the power difference (ΔP) existing between the input power (P<sub>in</sub>) (power delivered to the converter by the primary source) and the power delivered to the grid (P<sub>elec</sub>), as well as a series of parameters establishing the natural frequency and the damping factor (<i>ξ</i>) desired at any given moment for the power loop controller. The frequency of the virtual internal locomotive force (ω<sub>r</sub>) is obtained at the output of the PLC, which, once integrated, allows determining the phase of the virtual internal voltages generated in the power converter.</p><p id="p0031" num="0031">The PLC can be implemented in different ways, in all cases intended to obtain a closed loop function in which the position of its poles can be established at will, in such a way that aspects such as establishment time, overshoots, the natural pulsing or the damping factor can be determined. A preferred embodiment of the PLC matches the one represented by means of a following formula: <maths id="math0006" num=""><math display="block"><mi>PLC</mi><mfenced><mi>s</mi></mfenced><mo>=</mo><mi>k</mi><mo>⁢</mo><mfrac><msub><mi>ω</mi><mi>c</mi></msub><mrow><mi>s</mi><mo>+</mo><msub><mi>ω</mi><mi>c</mi></msub></mrow></mfrac><mn>.</mn></math><img id="ib0006" file="imgb0006.tif" wi="38" he="12" img-content="math" img-format="tif"/></maths><br/>
k being the gain and <i>ω<sub>c</sub></i> being the cutoff frequency of the controller. These parameters in turn depend on the natural frequency <i>ω<sub>n</sub></i> and on the damping factor <i>ξ</i>:</p><p id="p0032" num="0032"><figref idrefs="f0001">Figure 3</figref> shows an implementation of the controller object of the present invention wherein a different response is established for different frequency ranges (f<sub>1</sub>, f<sub>2</sub>,...., f<sub>n</sub>) in the power variation. The sum of the output references of the PLC (23) are applied to the VCO (24), which generates a set of frequency voltages w* and amplitude voltages E*, constituting the virtual internal locomotive force (e) of the power converter.</p><p id="p0033" num="0033"><figref idrefs="f0002">Figure 4</figref> shows a diagram of the controller of the present invention, which in turn comprises a controller of the virtual electromechanical characteristic (21), as well as the controller of inertia and damping factor (22), to which a series of variables of the system are introduced, such as input voltage (v<sub>in</sub>), input intensity (i<sub>in</sub>), output voltage (v<sub>out</sub>), and output intensity (i<sub>out</sub>), which are used selectively depending on the specific algorithm of the controller being applied. The controller of inertia and damping factor (22) also receives a series of input parameters, such as the powers of reference (P<sub>1</sub>, P<sub>2</sub>..., P<sub>n</sub>) and the adjustment constants of the response of the controller (c<sub>1</sub>, c<sub>2</sub>... , c<sub>n</sub>) for each frequency range. Depending on the variables of the system and the adjustment parameters, the inertia (J<sub>1</sub>, J<sub>2</sub>... , J<sub>n</sub>) and the damping factor values (ξ<sub>1</sub>, ξ<sub>2</sub>, ... , ξ<sub>n</sub>) are obtained for each frequency at the outlet. These inertia (J<sub>1</sub>, J<sub>2</sub>..., J<sub>n</sub>) and damping factor values (ξ<sub>1</sub>, ξ<sub>2</sub>, ..., ξ<sub>n</sub>) are introduced as parameters<!-- EPO <DP n="7"> --> into the controller of the virtual electromechanical characteristic (21). There are other auxiliary parameters supplied to this controller for the calculation of the tuning constants of the power loop controllers (PLC), such as the nominal frequency of the system (ω<sub>rated</sub>) and the maximum power supplied (P<sub>max</sub>). The input variable of the controller of the virtual electromechanical characteristic (21) is the power difference (ΔP) between the input power (P<sub>in</sub> input power into the converter) and the power delivered to the grid (P<sub>out</sub>), to finally obtain the set of voltages constituting the virtual internal electromotive force (e) of the power converter at the output of the controller.</p><p id="p0034" num="0034">Given that the values applied for the inertia coefficient and damping factor can be instantaneously modified for each frequency range, the controller of the electromechanical characteristic achieves great flexibility in the behavior of the power converter, allowing, for example, making a fast connection from the converter to the grid by decreasing the inertia coefficient value and subsequently increasing the value of said coefficient for certain frequency ranges in which there can be power perturbations that should not be followed by the power converter.</p></description><claims mxw-id="PCLM56982368" lang="EN" load-source="patent-office"><!-- EPO <DP n="8"> --><claim id="c-en-0001" num="0001"><claim-text>Controller of the virtual electromechanical characteristic for a static power converter, <b>characterized in that</b> the closed loop transfer function relating the power delivered to the grid P<sub>out</sub> and the input power into the converter P<sub>in</sub>, may be dynamically parameterized by means of, as a minimum, one virtual inertia coefficient and one damping factor to achieve an optimized response to the contour conditions of the power converter.</claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>Controller of the virtual electromechanical characteristic according to claim 1, <b>characterized in that</b> it implements a power control loop regulated by a PLC (23) ("power loop controller") which receives the power difference (ΔP) existing between the input power (P<sub>in</sub> input power into the converter) and the power delivered to the grid (P<sub>out</sub>) at the input, as well as a series of parameters determining the value of the inertia coefficient and the damping factor for different frequency ranges (f<sub>1</sub>, f<sub>2</sub>..., f<sub>n</sub>), such that the sum of the output references of the PLC (23) are applied to the VCO (24, Voltage Controlled Oscillator), which generates a set of frequency voltages w* and amplitude voltages E*, constituting the virtual internal locomotive force (e) of the power converter.</claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>Controller of the virtual electromechanical characteristic according to claim 2, <b>characterized in that</b> the PLC (23) is implemented according to the following formula: <maths id="math0007" num=""><math display="block"><mi>PLC</mi><mfenced><mi>s</mi></mfenced><mo>=</mo><mi>k</mi><mo>⁢</mo><mfrac><msub><mi>ω</mi><mi>c</mi></msub><mrow><mi>s</mi><mo>+</mo><msub><mi>ω</mi><mi>c</mi></msub></mrow></mfrac><mn>.</mn></math><img id="ib0007" file="imgb0007.tif" wi="38" he="14" img-content="math" img-format="tif"/></maths><br/>
k being the gain and <i>ω<sub>c</sub></i> being the cutoff frequency of the controller. These parameters in turn depend on the natural frequency <i>ω<sub>n</sub></i> and on the damping factor <i>ξ</i>:</claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>Controller of the virtual electromechanical characteristic according to claim 1, <b>characterized in that</b> it includes a controller of the inertia and the damping factor (22) configured to:
<claim-text>- receive the signals of the input voltage (v<sub>in</sub>), input intensity (i<sub>in</sub>), output voltage (v<sub>out</sub>), and output intensity (i<sub>out</sub>) signals and process them selectively according to a series of adjustment parameters (c<sub>1</sub>, c<sub>2</sub>... , c<sub>n</sub>) and powers of reference (P<sub>1</sub>, P<sub>2</sub>... , P<sub>n</sub>) for each frequency range, and with all of it</claim-text>
<claim-text>- generate the virtual inertia (J<sub>1</sub>, J<sub>2</sub>, ..., J<sub>n</sub>) and the damping factor vales (ξ<sub>1</sub>, ξ<sub>2</sub>, ..., ξ<sub>n</sub>) for each frequency.</claim-text></claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>Controller of the virtual electromechanical characteristic according to claim 1, <b>characterized in that</b> the virtual inertia and damping factor parameters are dynamically adapted to the operating conditions, offering a virtual inertia (J<sub>1</sub>, J<sub>2</sub>, ..., J<sub>n</sub>) and damping<!-- EPO <DP n="9"> --> factor value (ξ<sub>1</sub>, ξ<sub>2</sub>, ... , ξ<sub>n</sub>) for each frequency, such that establishing the capacity presented by the generator to attenuate different power oscillations existing in the grid (inter-plant, inter-area...) and in the primary generation source (mechanical and structural resonances), is possible.</claim-text></claim></claims><drawings mxw-id="PDW16670748" load-source="patent-office"><!-- EPO <DP n="10"> --><figure id="f0001" num="1,2,3"><img id="if0001" file="imgf0001.tif" wi="155" he="207" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="11"> --><figure id="f0002" num="4"><img id="if0002" file="imgf0002.tif" wi="133" he="144" img-content="drawing" img-format="tif"/></figure></drawings><search-report-data><doc-page id="srep0001" file="srep0001.tif" wi="153" he="233" type="tif"/><doc-page id="srep0002" file="srep0002.tif" wi="156" he="233" type="tif"/><doc-page id="srep0003" file="srep0003.tif" wi="157" he="233" type="tif"/></search-report-data><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
