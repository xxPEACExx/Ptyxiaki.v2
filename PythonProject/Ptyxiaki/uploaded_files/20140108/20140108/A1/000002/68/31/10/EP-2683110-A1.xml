<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2683110-A1" country="EP" doc-number="2683110" kind="A1" date="20140108" family-id="46758104" file-reference-id="246604" date-produced="20180824" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146585139" ucid="EP-2683110-A1"><document-id><country>EP</country><doc-number>2683110</doc-number><kind>A1</kind><date>20140108</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-12752288-A" is-representative="YES"><document-id mxw-id="PAPP154847331" load-source="docdb" format="epo"><country>EP</country><doc-number>12752288</doc-number><kind>A</kind><date>20120302</date><lang>JA</lang></document-id><document-id mxw-id="PAPP215643775" load-source="docdb" format="original"><country>EP</country><doc-number>12752288.6</doc-number><date>20120302</date></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140547643" ucid="JP-2011046156-A" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>2011046156</doc-number><kind>A</kind><date>20110303</date></document-id></priority-claim><priority-claim mxw-id="PPC140548452" ucid="JP-2012055376-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>2012055376</doc-number><kind>W</kind><date>20120302</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL2100277620" load-source="docdb">H04J   3/14        20060101ALI20140717BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL2100279158" load-source="docdb">H04J   3/06        20060101AFI20140717BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1892482267" load-source="docdb" scheme="CPC">H04J   3/14        20130101 LA20160927BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1892482268" load-source="docdb" scheme="CPC">H04J   3/0667      20130101 LI20160927BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989620727" load-source="docdb" scheme="CPC">H04J   3/0638      20130101 FI20131212BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132360050" lang="DE" load-source="patent-office">SYNCHRONISATIONSSYSTEM, SYNCHRONISATIONSVERFAHREN, ERSTE SYNCHRONISATIONSVORRICHTUNG, ZWEITE SYNCHRONISATIONSVORRICHTUNG UND COMPUTERPROGRAMM</invention-title><invention-title mxw-id="PT132360051" lang="EN" load-source="patent-office">SYNCHRONIZATION SYSTEM, SYNCHRONIZATION METHOD, FIRST SYNCHRONIZATION DEVICE, SECOND SYNCHRONIZATION DEVICE, AND COMPUTER PROGRAM</invention-title><invention-title mxw-id="PT132360052" lang="FR" load-source="patent-office">SYSTÈME DE SYNCHRONISATION, PROCÉDÉ DE SYNCHRONISATION, PREMIER DISPOSITIF DE SYNCHRONISATION, SECOND DISPOSITIF DE SYNCHRONISATION ET PROGRAMME D'ORDINATEUR</invention-title><citations><patent-citations><patcit mxw-id="PCIT257928401" load-source="docdb" ucid="EP-2169859-A2"><document-id format="epo"><country>EP</country><doc-number>2169859</doc-number><kind>A2</kind><date>20100331</date></document-id><sources><source name="SEA" category="A" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT257928400" load-source="docdb" ucid="US-6199169-B1"><document-id format="epo"><country>US</country><doc-number>6199169</doc-number><kind>B1</kind><date>20010306</date></document-id><sources><source name="SEA" category="A" created-by-npl="N"/></sources></patcit></patent-citations><non-patent-citations><nplcit><text>DAVID L MILLS UNIVERSITY OF DELAWARE: "Network Time Protocol (Version 3) Specification, Implementation and Analysis; rfc1305.txt", 19920301, 1 March 1992 (1992-03-01), XP015007092, ISSN: 0000-0003</text><sources><source mxw-id="PNPL49017111" load-source="docdb" name="SEA" category="I"/></sources></nplcit><nplcit><text>MILLS D L:  "INTERNET TIME SYNCHRONIZATION: THE NETWORK TIME PROTOCOL", IEEE TRANSACTIONS ON COMMUNICATIONS, IEEE SERVICE CENTER, PISCATAWAY, NJ. USA, vol. 39, no. 10, 1 October 1991 (1991-10-01), pages 1482-1493, XP000275311, ISSN: 0090-6778, DOI: 10.1109/26.103043</text><sources><source mxw-id="PNPL49017112" load-source="docdb" name="SEA" category="I"/></sources></nplcit><nplcit><text>See also references of WO  2012118178A1</text><sources><source mxw-id="PNPL49017113" load-source="docdb" name="SEA"/></sources></nplcit></non-patent-citations></citations></technical-data><parties><applicants><applicant mxw-id="PPAR919534999" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>NEC CORP</last-name><address><country>JP</country></address></addressbook></applicant><applicant mxw-id="PPAR919538502" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>NEC CORPORATION</last-name></addressbook></applicant><applicant mxw-id="PPAR919019209" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Nec Corporation</last-name><iid>101193625</iid><address><street>7-1, Shiba 5-chome Minato-ku</street><city>Tokyo 108-8001</city><country>JP</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR919530809" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>KAMADA SHINYA</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919536238" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>KAMADA SHINYA</last-name></addressbook></inventor><inventor mxw-id="PPAR919007572" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>KAMADA SHINYA</last-name><address><street>c/o NEC Corporation 7-1 Shiba 5-chome Minato-ku</street><city>Tokyo 108-8001</city><country>JP</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR919007684" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Betten &amp; Resch</last-name><iid>100060687</iid><address><street>Theatinerstrasse 8</street><city>80333 München</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="JP-2012055376-W"><document-id><country>JP</country><doc-number>2012055376</doc-number><kind>W</kind><date>20120302</date><lang>JA</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2012118178-A1"><document-id><country>WO</country><doc-number>2012118178</doc-number><kind>A1</kind><date>20120907</date><lang>JA</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS549819007" load-source="docdb">AL</country><country mxw-id="DS549816497" load-source="docdb">AT</country><country mxw-id="DS549819008" load-source="docdb">BE</country><country mxw-id="DS549908673" load-source="docdb">BG</country><country mxw-id="DS549742917" load-source="docdb">CH</country><country mxw-id="DS549816964" load-source="docdb">CY</country><country mxw-id="DS549816502" load-source="docdb">CZ</country><country mxw-id="DS549819009" load-source="docdb">DE</country><country mxw-id="DS549816965" load-source="docdb">DK</country><country mxw-id="DS549816970" load-source="docdb">EE</country><country mxw-id="DS549745233" load-source="docdb">ES</country><country mxw-id="DS549908674" load-source="docdb">FI</country><country mxw-id="DS549908675" load-source="docdb">FR</country><country mxw-id="DS549819014" load-source="docdb">GB</country><country mxw-id="DS549816971" load-source="docdb">GR</country><country mxw-id="DS549819015" load-source="docdb">HR</country><country mxw-id="DS549816503" load-source="docdb">HU</country><country mxw-id="DS549742918" load-source="docdb">IE</country><country mxw-id="DS549819016" load-source="docdb">IS</country><country mxw-id="DS549908676" load-source="docdb">IT</country><country mxw-id="DS549816972" load-source="docdb">LI</country><country mxw-id="DS549745015" load-source="docdb">LT</country><country mxw-id="DS549816504" load-source="docdb">LU</country><country mxw-id="DS549745016" load-source="docdb">LV</country><country mxw-id="DS549745025" load-source="docdb">MC</country><country mxw-id="DS549815109" load-source="docdb">MK</country><country mxw-id="DS549815114" load-source="docdb">MT</country><country mxw-id="DS549816505" load-source="docdb">NL</country><country mxw-id="DS549745234" load-source="docdb">NO</country><country mxw-id="DS549742919" load-source="docdb">PL</country><country mxw-id="DS549745026" load-source="docdb">PT</country><country mxw-id="DS549816510" load-source="docdb">RO</country><country mxw-id="DS549745027" load-source="docdb">RS</country><country mxw-id="DS549816511" load-source="docdb">SE</country><country mxw-id="DS549745028" load-source="docdb">SI</country><country mxw-id="DS549745235" load-source="docdb">SK</country><country mxw-id="DS549742920" load-source="docdb">SM</country><country mxw-id="DS549815115" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA128673311" lang="EN" load-source="patent-office"><p id="pa01" num="0001">A synchronizing system is provided including a first synchronizing device and a second synchronizing device that transmit or receive a synchronous packet according to a synchronous protocol, perform a synchronization process, and synchronize a time with each other. The first synchronizing device serving as a slave notifies the second synchronizing device of an abnormality when the abnormality related to a process of synchronizing a time is detected, and the second synchronizing device serving as a master increases an interval at which the synchronization process is performed as the length of time during which the abnormality is not notified of increases.<img id="iaf01" file="imgaf001.tif" wi="152" he="100" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA128737462" lang="EN" source="EPO" load-source="docdb"><p>A synchronizing system is provided including a first synchronizing device and a second synchronizing device that transmit or receive a synchronous packet according to a synchronous protocol, perform a synchronization process, and synchronize a time with each other. The first synchronizing device serving as a slave notifies the second synchronizing device of an abnormality when the abnormality related to a process of synchronizing a time is detected, and the second synchronizing device serving as a master increases an interval at which the synchronization process is performed as the length of time during which the abnormality is not notified of increases.</p></abstract><description mxw-id="PDES63959299" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001">TECHNICAL FIELD</heading><p id="p0001" num="0001">The present invention relates to a technique for performing time synchronization between devices performing communication with each other.</p><heading id="h0002">BACKGROUND ART</heading><p id="p0002" num="0002">In the past, techniques of performing time synchronization between communication devices which are physically separated from each other have been proposed (see Patent Document 1). As an example of such techniques, there is a technique using a synchronization-processing packet (a synchronous packet). <figref idrefs="f0010">FIG. 10</figref> is a diagram illustrating a configuration example of a time-synchronizing device 90 related to the technique. The time-synchronizing device 90 includes a synchronous packet-transceiving unit 901, a synchronization control unit 902, a clock oscillator 904, and a time-managing unit 905. The time-synchronizing device 90 records a time counted by the time-managing unit 905 with a predetermined degree of accuracy through the clock oscillator 904 installed in its own device. However, even when the time-synchronizing device 90 performs time synchronization with a master device once, the synchronization accuracy degrades with the lapse of time, leading to a deviation. For this reason, typically, the time-synchronizing device 90 periodically performs transmission and reception of synchronous packets with the master device to perform a synchronization process.<!-- EPO <DP n="2"> --></p><heading id="h0003">[Documents of the prior art]</heading><heading id="h0004">[Patent Documents]</heading><p id="p0003" num="0003">[Patent Document 1] Japanese Unexamined Patent Application, First Publication No.<patcit id="pcit0001" dnum="JP2010062992A"><text>2010-062992</text></patcit></p><heading id="h0005">DISCLOSURE OF INVENTION</heading><heading id="h0006">Problem to be Solved by the Invention</heading><p id="p0004" num="0004">Since a communication path band is a limited resource, it is desirable for the proportion of a synchronous packet among packets flowing through the communication path to be low. In other words, it is desirable for an interval at which the synchronous packet is transmitted and received to be long. However, when the interval is too long, the synchronization accuracy degrades, and time deviation between the communication devices is likely to increase.</p><p id="p0005" num="0005">In light of the foregoing, the present invention is directed to providing a technique capable of reducing the communication frequency of the synchronous packet while preventing a decrease in the accuracy of the time synchronization of the communication device.</p><heading id="h0007">Means for Solving the Problem</heading><p id="p0006" num="0006">An aspect of the present invention provides a synchronizing system including a first synchronizing device and a second synchronizing device that transmit or receive a synchronous packet according to a synchronous protocol, perform a synchronization process, and synchronize a time with each other. The first synchronizing device includes a transceiving unit that transmits or receives the synchronous packet to or from the second<!-- EPO <DP n="3"> --> synchronizing device, a synchronization control unit that acquires a difference between a time of an own device and a time of the second synchronizing device based on the synchronous packet, a time-managing unit that corrects the time of the own device based on the difference, and an abnormality notification unit that notifies the second synchronizing device of an abnormality when the abnormality related to a process of synchronizing a time is detected. The second synchronizing device includes a transceiving unit that transmits or receives the synchronous packet to or from the first synchronizing device, a synchronization interval control unit that increases an interval at which the synchronization process is performed as the length of time during which the abnormality is not notified of increases, and a synchronization control unit that performs the synchronization process at the interval determined by the synchronization interval control unit.</p><p id="p0007" num="0007">An aspect of the present invention provides a synchronizing method performed by a synchronizing system including a first synchronizing device and a second synchronizing device that transmit or receive a synchronous packet according to a synchronous protocol, perform a synchronization process, and synchronize a time with each other, the method including a transceiving step of transmitting or receiving, by the first synchronizing device, the synchronous packet to or from the second synchronizing device, a synchronization control step of acquiring, by the first synchronizing device, a difference between a time of an own device and a time of the second synchronizing device based on the synchronous packet, a time-managing step of correcting, by the first synchronizing device, the time of the own device based on the difference, an abnormality notification step of notifying, by the first synchronizing device, the second synchronizing device of an abnormality when the abnormality related to a process of synchronizing a time is detected, a transceiving step of transmitting or receiving, by the second synchronizing device, the synchronous packet to or from the first synchronizing device, a synchronization interval control step of increasing, by the second synchronizing device, an interval at which the synchronization process is performed as the length of time during which the abnormality is not notified of increases, and<!-- EPO <DP n="4"> --> a synchronization control step of performing, by the second synchronizing device, the synchronization process at the interval determined by the synchronization interval control step.</p><p id="p0008" num="0008">An aspect of the present invention provides a first synchronizing device of a synchronizing system including the first synchronizing device and a second synchronizing device that transmit or receive a synchronous packet according to a synchronous protocol, perform a synchronization process, and synchronize a time with each other, the first synchronizing device including a transceiving unit that transmits or receives the synchronous packet to or from the second synchronizing device that increases an interval at which the synchronization process is performed as the length of time during which abnormality is not notified of increases, a synchronization control unit that acquires a difference between a time of an own device and a time of the second synchronizing device based on the synchronous packet, a time-managing unit that corrects the time of the own device based on the difference, and an abnormality notification unit that notifies the second synchronizing device of an abnormality when the abnormality related to a process of synchronizing a time is detected.</p><p id="p0009" num="0009">An aspect of the present invention provides a second synchronizing device of a synchronizing system including a first synchronizing device and the second synchronizing device that transmit or receive a synchronous packet according to a synchronous protocol, perform a synchronization process, and synchronize a time with each other, the second synchronizing device including a transceiving unit that transmits or receives the synchronous packet to or from the first synchronizing device that notifies of an abnormality when the abnormality related to a process of synchronizing a time is detected, a synchronization interval control unit that increases an interval at which the synchronization process is performed as the length of time during which the abnormality is not notified of from the first synchronizing device increases, and a synchronization control unit that performs the synchronization process at the interval determined by the synchronization interval control<!-- EPO <DP n="5"> --> unit.</p><p id="p0010" num="0010">An aspect of the present invention provides a computer program causing a computer to function as a first synchronizing device of a synchronizing system including the first synchronizing device and a second synchronizing device that transmit or receive a synchronous packet according to a synchronous protocol, perform a synchronization process, and synchronize a time with each other, and the computer program causes the computer to execute a transceiving step of transmitting or receiving the synchronous packet to or from the second synchronizing device that increases an interval at which the synchronization process is performed as the length of time during which abnormality is not notified of increases, a synchronization control step of acquiring a difference between a time of an own device and a time of the second synchronizing device based on the synchronous packet, a time-managing step of correcting the time of the own device based on the difference, and an abnormality notification step of notifying the second synchronizing device of an abnormality when the abnormality related to a process of synchronizing a time is detected.</p><p id="p0011" num="0011">An aspect of the present invention provides a computer program causing a computer to function as a second synchronizing device of a synchronizing system including a first synchronizing device and the second synchronizing device that transmit or receive a synchronous packet according to a synchronous protocol, perform a synchronization process, and synchronize a time with each other, and the computer program causes the computer to execute a transceiving step of transmitting or receiving the synchronous packet to or from the first synchronizing device that notifies of an abnormality when the abnormality related to a process of synchronizing a time is detected, a synchronization interval control step of increasing an interval at which the synchronization process is performed as the length of time during which the abnormality is not notified of from the first synchronizing device increases, and a synchronization control step of performing the synchronization process at the interval determined by the synchronization interval control step.<!-- EPO <DP n="6"> --></p><heading id="h0008">Effect of the Invention</heading><p id="p0012" num="0012">According to the present invention, it is possible to reduce the communication frequency of a synchronous packet while preventing a decrease in the accuracy of the time synchronization between the communication devices.</p><heading id="h0009">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p0013" num="0013"><ul><li><figref idrefs="f0001">FIG. 1</figref> is a system configuration diagram illustrating a system configuration of a synchronizing system according to a first embodiment.</li><li><figref idrefs="f0002">FIG. 2</figref> is a sequence diagram illustrating a communication sequence according to a time synchronization algorithm of IEEE1588.</li><li><figref idrefs="f0003">FIG. 3</figref> is a functional block diagram illustrating a configuration of a time synchronization slave device.</li><li><figref idrefs="f0004">FIG. 4</figref> is a functional block diagram illustrating a configuration of a time synchronization master device.</li><li><figref idrefs="f0005">FIG. 5A</figref> is a graph illustrating a concrete example of a process of deciding the length of a synchronization interval through a synchronization interval control unit.</li><li><figref idrefs="f0005">FIG. 5B</figref> is a graph illustrating a concrete example of a process of deciding the length of a synchronization interval through the synchronization interval control unit.</li><li><figref idrefs="f0006">FIG. 6</figref> is a sequence diagram illustrating the flow of an operation of the synchronizing system according to the first embodiment.</li><li><figref idrefs="f0007">FIG. 7</figref> is a functional block diagram illustrating a configuration of a time synchronization slave device configured to include a clock oscillator.</li><li><figref idrefs="f0008">FIG. 8</figref> is a system configuration diagram illustrating a system configuration of a synchronizing system according to a second embodiment.<!-- EPO <DP n="7"> --></li><li><figref idrefs="f0009">FIG. 9</figref> is a functional block diagram representing a configuration of a time synchronization slave device according to the second embodiment.</li><li><figref idrefs="f0010">FIG. 10</figref> is a diagram illustrating a configuration example of a related time-synchronizing device.</li></ul></p><heading id="h0010">EMBODIMENTS FOR CURRYING OUT THE INVENTION</heading><heading id="h0011">[First Embodiment]</heading><p id="p0014" num="0014"><figref idrefs="f0001">FIG. 1</figref> is a system configuration diagram illustrating a system configuration of a synchronizing system (a synchronizing system 100 which corresponds to a "synchronizing system" of the present invention) according to a first embodiment. The synchronizing system 100 includes a clock generator 10, a time synchronization master device 20 (which corresponds to a "second synchronizing device" of the present invention), a relay device 30, and a time synchronization slave device 40 (which corresponds to a "first synchronizing device" of the present invention). In <figref idrefs="f0001">FIG. 1</figref>, the synchronizing system 100 includes one of each device, but the number of each device disposed in the synchronizing system 100 is not limited to one. Further, the number of the relay device 30 disposed between the time synchronization master device 20 and the time synchronization slave device 40 is not limited to one and may be two or more.</p><p id="p0015" num="0015">First of all, an outline of the synchronizing system 100 will be described. The time synchronization master device 20 and the time synchronization slave device 40 perform transmission and reception of synchronous packets with each other according to a predetermined protocol. Through the transmission and reception of the synchronous packets, time synchronization is performed between the time synchronization master device 20 and the time synchronization slave device 40. Any protocol through which time synchronization can be performed may be used as the predetermined protocol. Concrete<!-- EPO <DP n="8"> --> examples of the predetermined protocol include IEEE1588 and IEEE1588 version2.</p><p id="p0016" num="0016">The time synchronization master device 20 transmits the synchronous packet to the time synchronization slave device 40 to perform the time synchronization process. When the time synchronization process is performed, the time synchronization master device 20 is on standby for the time synchronization process without transmitting the synchronous packet until a next timing comes. The time synchronization slave device 40 counts a time based on a clock signal until next time synchronization is performed after time synchronization is performed. Then, the time synchronization slave device 40 outputs a time synchronization signal at predetermined time intervals. The clock signal used for counting of time by the time synchronization slave device 40 is a clock signal flowing through a communication path between the relay device 30 and the time synchronization slave device 40. Thus, the time synchronization slave device 40 need not include a clock signal-generating device (for example, a clock oscillator) that outputs a clock signal used to generate the time synchronization signal, and can maintain a time with a high degree of accuracy.</p><p id="p0017" num="0017">Upon detecting an abnormality related to synchronization of time, the time synchronization slave device 40 transmits a re-synchronization request packet to the time synchronization master device 20. The time synchronization master device 20 increases an interval (hereinafter referred to as "synchronization interval") at which the time synchronization process according to the length of time during which the re-synchronization request packet is not received from the time synchronization slave device 40 or the number of times that the time synchronization process is performed without receiving the re-synchronization request packet. For this reason, unless an abnormality related to synchronization of time is detected, the synchronization interval increases, and thus the communication frequency of the synchronous packet decreases. Meanwhile, when the re-synchronization request packet is received from the time synchronization slave device 40, the time synchronization master device 20 reduces the increased synchronization interval. After<!-- EPO <DP n="9"> --> the re-synchronization request packet is transmitted, since the synchronization interval is reduced, time deviation is immediately corrected by the synchronization process, and thus a decrease in the accuracy of the time synchronization in the synchronization slave device 40 is suppressed.</p><p id="p0018" num="0018">Next, among the above-mentioned time synchronization protocols, IEEE1588 will be described as a concrete example.</p><p id="p0019" num="0019"><figref idrefs="f0002">FIG. 2</figref> is a sequence diagram illustrating a communication sequence according to a time synchronization algorithm of IEEE1588. Referring to <figref idrefs="f0002">FIG. 2</figref>, two-way communication is performed between a clock master (corresponding to a time synchronization master device) and a clock slave (corresponding to a time synchronization slave device), and the clock slave periodically synchronizes a time with the clock master. In <figref idrefs="f0002">FIG. 2</figref>, messages (a Sync message, a Follow_up message, a Delay_Request message, and a Delay_Response message) transmitted from the clock master or the clock slave correspond to a synchronous packet.</p><p id="p0020" num="0020">The clock master periodically transmits the Sync message to the clock slave (step S900). The clock master records a transmission time (hereinafter referred to as a "Sync transmission time") Tm(0) of the Sync message (step S901). Next, the clock master transmits the Follow_up message to the clock slave (step S903). At this time, the clock master includes the Sync transmission time Tm(0) in the Follow_up message.</p><p id="p0021" num="0021">Upon receiving the Sync message, the clock slave records a reception time (hereinafter referred to as a "Sync reception time") Ts(0) of the Sync message using the reception process as a trigger (step S902). Next, the clock slave receives the Follow_up message, and extracts and records the Sync transmission time Tm(0) included in the Follow_up message. Next, the clock slave transmits the Delay_Request message to the clock master (step S904). Then, the clock slave records a transmission time (hereinafter referred to as a "Delay transmission time") Ts(1) of the Delay_Request message (step S905).<!-- EPO <DP n="10"> --></p><p id="p0022" num="0022">Upon receiving the Delay_Request message, the clock master records a reception time (hereinafter referred to as a "Delay reception time") Tm(1) of the Delay_Request message using the reception process as a trigger (step S906). Next, the clock master transmits the Delay_Response message to the clock slave (step S907). At this time, the clock master includes the Delay reception time Tm(1) in the Delay_Response message.</p><p id="p0023" num="0023">Upon receiving the Delay_Response message, the clock slave extracts the Delay reception time Tm(1) included in the Delay_Response message, and records the Delay reception time Tm(1).</p><p id="p0024" num="0024">The clock slave calculates a difference MS_Diff between a time (hereinafter referred to as a "master time") in the clock master and a time (hereinafter referred to as a "slave time") in the clock slave based on the Sync transmission time Tm(0) and the Sync reception time Ts(0) using the following Equation 1: <maths id="math0001" num="Equation 1"><math display="block"><mi>MS_Diff</mi><mo>=</mo><mi>Ts</mi><mfenced><mn>0</mn></mfenced><mo>-</mo><mi>Tm</mi><mfenced><mn>0</mn></mfenced><mo>=</mo><mi>MS_Delay</mi><mo>+</mo><mi>Offset</mi></math><img id="ib0001" file="imgb0001.tif" wi="118" he="10" img-content="math" img-format="tif"/></maths></p><p id="p0025" num="0025">Further, the clock slave calculates the difference between the slave time and the master time based on the Delay transmission time Ts(1) and the Delay reception time Tm(1) using the following Equation 2: <maths id="math0002" num="Equation 2"><math display="block"><mi>SM_Diff</mi><mo>=</mo><mi>Tm</mi><mfenced><mn>1</mn></mfenced><mo>-</mo><mi>Ts</mi><mfenced><mn>1</mn></mfenced><mo>=</mo><mi>SM_Delay</mi><mo>-</mo><mi>Offset</mi></math><img id="ib0002" file="imgb0002.tif" wi="118" he="10" img-content="math" img-format="tif"/></maths></p><p id="p0026" num="0026">Here, MS_Delay represents a transmission delay from the clock master to the clock slave, SM_Delay represents a transmission delay from the clock slave to the clock master, and Offset represents a time offset (leading) of the clock slave on the clock master. The transmission delays MS_Delay and SM_Delay include a propagation delay between the clock master and the clock slave and a queuing delay occurring in a relay node on a network between the clock master and the clock slave.</p><p id="p0027" num="0027"><!-- EPO <DP n="11"> --> As described above, two Equations, that is, Equations 1 and 2, are obtained in connection with an Offset which is time deviation of the clock slave with respect to the clock master. However, the two Equations include unknown parameters such as MS_Delay and SM_Delay in addition to Offset. Thus, since only two Equations are present for three unknown parameters, it is difficult to calculate Offset. For this reason, in IEEE1588, under the assumption that the transmission delay MS_Delay from the clock master to the clock slave is equal to the transmission delay SM_Delay from the clock slave to the clock master, and the two values are all Delay, Equations 1 and 2 are converted into the following Equations 3 and 4:</p><p id="p0028" num="0028"><maths id="math0003" num="Equation 3"><math display="block"><mi>MS_Diff</mi><mo>=</mo><mi>Delay</mi><mo>+</mo><mi>Offset</mi></math><img id="ib0003" file="imgb0003.tif" wi="85" he="8" img-content="math" img-format="tif"/></maths><maths id="math0004" num="Equation 4"><math display="block"><mi>SM_Diff</mi><mo>=</mo><mi>Delay</mi><mo>-</mo><mi>Offset</mi></math><img id="ib0004" file="imgb0004.tif" wi="85" he="10" img-content="math" img-format="tif"/></maths></p><p id="p0029" num="0029">The following Equation 5 is derived by solving simultaneous equations of Equations 3 and 4: <maths id="math0005" num="Equation 5"><math display="block"><mi>Offset</mi><mo>=</mo><mfenced separators=""><mi>MS_Diff</mi><mo>-</mo><mi>SM_Diff</mi></mfenced><mo>/</mo><mn>2</mn></math><img id="ib0005" file="imgb0005.tif" wi="97" he="10" img-content="math" img-format="tif"/></maths></p><p id="p0030" num="0030">The clock slave synchronizes the slave time with the master time by calculating the Offset using Equation 5 and correcting the slave time based on the Offset. The time synchronization algorithm specified in IEEE1588 has been described above.</p><p id="p0031" num="0031">Next, the details of the synchronizing system 100 will be described. The clock generator 10 supplies the clock signal to the time synchronization master device 20 and the relay device 30. Preferably, a high-accuracy clock generator generating a clock signal with a high degree of accuracy is used as the clock generator 10. For example, the clock generator 10 may be a Global Positioning System (GPS) receiver or may be configured using a high-performance oscillator.</p><p id="p0032" num="0032">The time synchronization master device 20 operates in synchronization with the clock signal output from the clock generator 10. The time synchronization master device 20<!-- EPO <DP n="12"> --> operates according to a predetermined protocol, and transmits or receives a synchronous packet to perform time synchronization with the time synchronization slave device 40. Through the time synchronization process, a time (hereinafter referred to as a "master device time") in the time synchronization master device 20 is synchronized with a time (hereinafter referred to as a "slave device time") in the time synchronization slave device 40.</p><p id="p0033" num="0033">The relay device 30 is a clock synchronization type communication device, and performs a packet relay process in synchronization with the clock signal output from the clock generator 10. For example, the relay device 30 relays a packet according to a synchronous communication scheme such as a synchronous digital hierarchy (SDH) or synchronous Ethernet (a registered trademark). More specifically, the relay device 30 synchronizes a clock of its own device with the clock signal received from the communication path, and transmits a signal to the communication path at the same frequency. In the communication path between the relay device 30 and the time synchronization slave device 40, clock synchronization is made according to the clock signal output by the clock generator 10, and the clock signal with a predetermined cycle is propagated. For example, in the case of the 100BASE-TX Ethernet (a registered trademark) interface, the clock signal flows through the communication path at 125 MHz.</p><p id="p0034" num="0034">The relay device 30 relays the synchronous packet received from the time synchronization master device 20 to the time synchronization slave device 40. The relay device 30 relays the synchronous packet received from the time synchronization slave device 40 to the time synchronization master device 20. Further, the relay device 30 relays the re-synchronization request packet received from the time synchronization slave device 40 to the time synchronization master device 20.</p><p id="p0035" num="0035">The time synchronization slave device 40 transmits or receives the synchronous packet to or from the time synchronization master device 20 via the relay device 30, and<!-- EPO <DP n="13"> --> performs the time synchronization with the time synchronization master device 20. Further, the time synchronization slave device 40 acquires the synchronized clock signal from the communication path with the relay device 30. The time synchronization slave device 40 outputs the time synchronization signal synchronized with the time synchronization master device 20 based on the clock signal acquired from the communication path as a result of time synchronization. The destination to which the time synchronization slave device 40 outputs the time synchronization signal may be a network connected with the time synchronization slave device 40 or may be a device connected with the time synchronization slave device 40. The time synchronization slave device 40 may be integrated as a part of a device. In this case, the time synchronization slave device 40 outputs the time synchronization signal to another part of the device in which its own device is integrated.</p><p id="p0036" num="0036">Upon detecting an abnormality related to synchronization of time, the time synchronization slave device 40 transmits the re-synchronization request packet to the time synchronization master device 20.</p><p id="p0037" num="0037"><figref idrefs="f0003">FIG. 3</figref> is a functional block diagram illustrating a configuration of the time synchronization slave device 40. The time synchronization slave device 40 includes a central processing unit (CPU), a memory, an auxiliary storage device, and the like which are connected with one another via a bus, and executes a time synchronization slave program. As the time synchronization slave program is executed, the time synchronization slave device 40 functions as a device including a packet-transceiving unit 401, a synchronization control unit 402, a first clock signal-extracting unit 403, a second clock signal-generating unit 404, and a time-managing unit 405. The functions of the time synchronization slave device 40 in whole or in part may be implemented using hardware such as an application specific integrated circuit (ASIC), a programmable logic device (PLD), or a field programmable gate array (FPGA). The time synchronization slave program may be recorded in a computer-readable recording medium. Examples of the computer-readable recording medium include a portable medium such as a flexible disk (FD), a magnetic optical disc, a ROM, or a CD-ROM,<!-- EPO <DP n="14"> --> and a storage device such as a hard disk equipped in a computer system.</p><p id="p0038" num="0038">As the synchronization control unit 402, the first clock signal-extracting unit 403, and the time-managing unit 405 operate, processing corresponding to an "abnormality notification unit" of the present invention is executed.</p><p id="p0039" num="0039">The packet-transceiving unit 401 receives the synchronous packet from the communication path with the relay device 30, and transfers the synchronous packet to the synchronization control unit 402. Further, the packet-transceiving unit 401 transmits the synchronous packet or the re-synchronization request packet received from the synchronization control unit 402 to the communication path. The synchronous packet or the re-synchronization request packet transmitted to the communication path by the packet-transceiving unit 401 is relayed by the relay device 30 and then received by the time synchronization master device 20.</p><p id="p0040" num="0040">The synchronization control unit 402 exchanges the synchronous packet with the time synchronization master device 20 positioned at the end of the communication path, and synchronizes the slave device time with the master device time. The synchronization control unit 402 outputs a phase signal representing the difference between the slave device time and the master device time before synchronization to the time-managing unit 405 as a result of time synchronization.</p><p id="p0041" num="0041">Upon receiving a re-synchronization request signal from the first clock signal-extracting unit 403 or the time-managing unit 405, the synchronization control unit 402 transmits the re-synchronization request packet to the time synchronization master device 20. The re-synchronization request packet represents the fact that an abnormality related to synchronization of time is detected in the time synchronization slave device 40.</p><p id="p0042" num="0042">The first clock signal-extracting unit 403 extracts a clock signal from a signal of a physical layer received from the communication path. The first clock signal-extracting unit<!-- EPO <DP n="15"> --> 403 outputs the extracted clock signal to the second clock signal-generating unit 404 as a first clock signal. When an abnormality related to synchronization of time is detected, the first clock signal-extracting unit 403 outputs the re-synchronization request signal to the synchronization control unit 402. Examples of such an abnormality related to synchronization of time include a status in which a failure has occurred in the communication path and a status in which the extracted clock signal has deteriorated.</p><p id="p0043" num="0043">The second clock signal-generating unit 404 generates a second clock signal synchronized with the first clock signal output from the first clock signal-extracting unit 403. The second clock signal-generating unit 404 generates the second clock signal by multiplying or dividing the first clock signal. The second clock signal is a clock signal used for the time-managing unit 405 to count the slave device time.</p><p id="p0044" num="0044">The time-managing unit 405 manages the slave device time. Specifically, the time-managing unit 405 counts the slave device time based on the second clock signal received from the second clock signal-generating unit 404. The time-managing unit 405 generates and outputs the time synchronization signal at predetermined time intervals. Upon receiving the phase signal from the synchronization control unit 402, the time-managing unit 405 corrects the slave device time based on the received phase signal. As the slave device time is corrected, an output timing of the time synchronization signal is corrected. The time-managing unit 405 counts the slave device time based on the second clock signal received from the second clock signal-generating unit 404 until the next phase signal is received after the slave device time is corrected based on the phase signal. For this reason, when the second clock signal is deviated, the counted slave device time is deviated, and a timing at which the time synchronization signal is output is deviated. This deviation is corrected based on the next phase signal.</p><p id="p0045" num="0045">Upon receiving the phase signal, the time-managing unit 405 determines whether or not an abnormality related to synchronization has occurred based on whether or not the time<!-- EPO <DP n="16"> --> difference between the slave device time and the master device time is larger than a threshold value (hereinafter referred to as a "phase difference threshold value") which is set in advance. When the time difference between the slave device time and the master device time is less than the phase difference threshold value, the time-managing unit 405 corrects a time without outputting the re-synchronization request signal. However, when the time difference between the slave device time and the master device time is the phase difference threshold value or more, the time-managing unit 405 outputs the re-synchronization request signal and corrects a time.</p><p id="p0046" num="0046"><figref idrefs="f0004">FIG. 4</figref> is a functional block diagram illustrating a configuration of the time synchronization master device 20. The time synchronization master device 20 includes a CPU, a memory, an auxiliary storage device, and the like which are connected with one another via a bus, and executes a time synchronization master program. As the time synchronization master program is executed, the time synchronization master device 20 functions as a device including a packet-transceiving unit 201, a synchronization control unit 202, and a synchronization interval control unit 203. The functions of the time synchronization master device 20 in whole or in part may be implemented using hardware such as an ASIC, a PLD, or an FPGA. The time synchronization master program may be recorded in a computer-readable recording medium.</p><p id="p0047" num="0047">The packet-transceiving unit 201 receives the re-synchronization request packet from the communication path with the relay device 30, and transfers the re-synchronization request packet to the synchronization interval control unit 203. The packet-transceiving unit 201 receives the synchronous packet from the communication path with the relay device 30, and transfers the synchronous packet to the synchronization control unit 202. Further, the packet-transceiving unit 201 outputs the synchronous packet received from the synchronization control unit 202 to the communication path. The synchronous packet transmitted to the communication path by the packet-transceiving unit 201 is relayed by the<!-- EPO <DP n="17"> --> relay device 30 and then received by the time synchronization slave device 40.</p><p id="p0048" num="0048">The synchronization control unit 202 exchanges the synchronous packet with the time synchronization slave device 40 positioned at the end of the communication path at a timing according to the synchronization interval determined by the synchronization interval control unit 203. The synchronization control unit 202 outputs synchronization execution information to the synchronization interval control unit 203 each time transmission and reception of a series of synchronous packets necessary for the time synchronization process are completed. The synchronization execution information represents that the synchronization process has been performed.</p><p id="p0049" num="0049">The synchronization interval control unit 203 determines the length of the synchronization interval. The synchronization interval control unit 203 determines the length of the synchronization interval such that the length of the synchronization interval increases as the length of time during which the re-synchronization request packet is not received increases. Upon receiving the re-synchronization request packet, the synchronization interval control unit 203 reduces the synchronization interval after that point in time to be shorter than the synchronization interval at that point in time.</p><p id="p0050" num="0050">A concrete example of the synchronization interval control unit 203 will be described below. The synchronization interval control unit 203 stores a table (hereinafter referred to as a "synchronization interval table") in which the interval control value is associated with the length of the synchronization interval, and determines the synchronization interval based on content of the synchronization interval table and the interval control value at that point in time. In the synchronization interval table, the larger the value of the interval control value, the larger the length of the corresponding synchronization interval. The interval control value increases as a time during which the re-synchronization request packet is not received increases. Upon receiving the re-synchronization request packet, the synchronization interval control unit 203 sets the interval control value to zero, which is an initial value.<!-- EPO <DP n="18"> --> Further, the synchronization interval control unit 203 increases the interval control value by one (1) each time the synchronization execution information output from the synchronization control unit 202 is received. Thus, the number of times of the time synchronization process (hereinafter referred to as a "continuous synchronization frequency") performed without receiving the re-synchronization request packet is used as the interval control value.</p><p id="p0051" num="0051"><figref idrefs="f0005">FIGS. 5A and 5B</figref> are graphs illustrating a concrete example of a process of deciding the length of the synchronization interval through the synchronization interval control unit 203. In <figref idrefs="f0005">FIGS. 5A and 5B</figref>, a vertical axis is an axis representing the length of the synchronization interval in units of seconds, and a horizontal axis is an axis representing the continuous synchronization frequency (the interval control value). For example, in the example of <figref idrefs="f0005">FIG. 5A</figref>, the synchronization interval is set to 0.1 seconds when the continuous synchronization frequency is in a range of 0 to 9, but when the continuous synchronization frequency is larger than 9, the synchronization interval increases at constant intervals each time the continuous synchronization frequency increases. When the continuous synchronization frequency is 100 or more, the synchronization interval becomes constant, that is, 100 seconds. In both cases of <figref idrefs="f0005">FIG. 5A and 5B</figref>, the form of the graph is merely an example, and the graph may have a straight line form, a step-like form, or a curved line form. Further, the intervals of the value of each axis may be set to increase stepwise as illustrated in <figref idrefs="f0005">FIG. 5B</figref> or may be set to an equal interval.</p><p id="p0052" num="0052">Next, the flow of an operation of the synchronizing system 100 according to the first embodiment will be described. <figref idrefs="f0006">FIG. 6</figref> is a sequence diagram illustrating the flow of an operation of the synchronizing system 100 according to the first embodiment. The synchronization control unit 202 performs the synchronization process with the time synchronization slave device 40 at the synchronization intervals determined by the synchronization interval control unit 203 (step S101). The synchronization process starts when the synchronization control unit 202 transmits the synchronous packet to the time<!-- EPO <DP n="19"> --> synchronization slave device 40. The synchronization control unit 402 of the time synchronization slave device 40 outputs the phase signal representing the difference between the slave device time and the master device time to the time-managing unit 405 as a result of time synchronization (step S102). The time-managing unit 405 corrects the slave device time based on the phase signal. At this time, the time-managing unit 405 determines whether or not the time difference represented by the phase signal is larger than the phase difference threshold value. When it is determined that the time difference represented by the phase signal is not larger than the phase difference threshold value, the time-managing unit 405 does not output the re-synchronization request signal. However, when it is determined that the time difference represented by the phase signal is larger than the phase difference threshold value, the time-managing unit 405 determines that it is an abnormal status (step S103). In this case, the time-managing unit 405 outputs the re-synchronization request signal to the synchronization control unit 402 (step S104). Upon receiving the re-synchronization request signal, the synchronization control unit 402 generates the re-synchronization request packet, and transmits the re-synchronization request packet to the time synchronization master device 20 (step S105).</p><p id="p0053" num="0053">Upon receiving the re-synchronization request packet, the synchronization interval control unit 203 of the time synchronization master device 20 initializes the interval control value and sets the interval control value to 0 (zero) (step S106). The synchronization interval control unit 203 transmits synchronization interval information representing the length of the synchronization interval according to the interval control value "0" to the synchronization control unit 202 with reference to the synchronization interval table (step S107). The length of the synchronization interval according to the interval control value "0" is the shortest length of the synchronization interval.</p><p id="p0054" num="0054">The synchronization control unit 202 performs first time synchronization based on the received synchronization interval information (step S108). The synchronization control<!-- EPO <DP n="20"> --> unit 402 of the time synchronization slave device 40 generates the phase signal based on the synchronization process, and transmits the phase signal to the time-managing unit 405 (step S109). When the first time synchronization is performed, the synchronization control unit 202 of the time synchronization master device 20 transmits the synchronization execution information to the synchronization interval control unit 203 (step S110). Upon receiving the synchronization execution information, the synchronization interval control unit 203 increases the interval control value by one (1) (step S111), and transmits the synchronization interval information representing the synchronization interval according to the increased interval control value (once) to the synchronization control unit 202 (step S112).</p><p id="p0055" num="0055">The synchronization control unit 202 performs second time synchronization based on the received synchronization interval information (step S113). At this time, the synchronization interval, that is, a time T1 until the second time synchronization is performed after the first time synchronization, is a time interval represented by the synchronization interval information transmitted in the process of step S112. The synchronization control unit 402 of the time synchronization slave device 40 generates the phase signal based on the synchronization process, and transmits the phase signal to the time-managing unit 405 (step S 114). When the second time synchronization is performed, the synchronization control unit 202 of the time synchronization master device 20 transmits the synchronization execution information to the synchronization interval control unit 203 (step S115). Upon receiving the synchronization execution information, the synchronization interval control unit 203 increases the interval control value by one (1) (step S 116), and transmits the synchronization interval information representing the synchronization interval according to the increased interval control value (twice) to the synchronization control unit 202 (step S117).</p><p id="p0056" num="0056">The synchronization control unit 202 of the time synchronization master device 20 performs n-th (n is an integer of 1 or more) time synchronization (step S201), and the synchronization control unit 402 of the time synchronization slave device 40 transmits the<!-- EPO <DP n="21"> --> phase signal to the time-managing unit 405 (step S202). Further, the synchronization control unit 202 transmits the synchronization execution information to the synchronization interval control unit 203 (step S203). Upon receiving the synchronization execution information, the synchronization interval control unit 203 increases the interval control value by one (1) (step S204), and transmits the synchronization interval information representing the synchronization interval according to the increased interval control value (n times) to the synchronization control unit 202 (step S205). Thereafter, the synchronization control unit 202 performs (n+1)-th time synchronization (step S206). At this time, the synchronization interval, that is, a time Tn until the (n+1)-th time synchronization is performed after the n-th time synchronization is the time interval represented by the synchronization interval information transmitted in the process of step S205. The synchronization control unit 402 of the time synchronization slave device 40 generates the phase signal based on the synchronization process, and transmits the phase signal to the time-managing unit 405 (step S207). When the (n+1)-th time synchronization is performed, the synchronization control unit 202 of the time synchronization master device 20 outputs the synchronization execution information to the synchronization interval control unit 203 (step S208). Thereafter, the process of steps S201 to S208 is repeatedly executed until the time-managing unit 405 determines that it is an abnormal status. When the abnormal status is determined, step S104 and the subsequent process are executed.</p><p id="p0057" num="0057">In the synchronizing system 100, as the length of time during which the re-synchronization request packet is not received increases, the time synchronization is performed at long synchronization intervals. Thus, as the length of time during which the re-synchronization request packet is not received increases, that is, as the length of time during which an abnormality related to synchronization of time does not occur increases, the data amount of the synchronous packet flowing through the communication path per unit time is reduced. However, when an abnormality related to synchronization of time occurs, the synchronization interval is set to a small value. Thus, when an abnormality occurs, the time<!-- EPO <DP n="22"> --> synchronization is performed at short synchronization intervals, and thus a decrease in the accuracy of time synchronization is suppressed. As described above, in the synchronizing system 100, it is possible to reduce the communication frequency of the synchronous packet while suppressing a decrease in the accuracy of time synchronization performed between the time synchronization master device 20 and the time synchronization slave device 40.</p><p id="p0058" num="0058">When there is an abnormality in the clock signal extracted from the communication path, the abnormality is detected by the first clock signal-extracting unit 403, and the time synchronization according to the re-synchronization request packet is performed. Thus, a deviation of the time synchronization in the time synchronization slave device 40 can be reduced and suppressed.</p><p id="p0059" num="0059">The second clock signal used for the time-managing unit 405 to count the slave device time is synchronized with the clock signal (the first clock signal) extracted from the communication path. Thus, by using the high-accuracy clock signal as the clock signal flowing through the communication path, the slave device time can be counted based on the high-accuracy clock signal even when a high-accuracy clock signal generator is not disposed in each time synchronization slave device 40. Thus, in order to maintain the high-accuracy time synchronization, transmission and reception intervals of the synchronous packet need not be reduced.</p><p id="p0060" num="0060">The clock signal flowing through the communication path is synchronized with the clock signal input to the time synchronization master device 20. Thus, when the time synchronization is performed once by transmission and reception of the synchronous packet, as long as a deviation does not occur in the clock signal flowing through the communication path, a synchronous status can be obtained between the time synchronization master device 20 and the time synchronization slave device 40 without newly performing transmission and reception of the synchronous packet.<!-- EPO <DP n="23"> --></p><heading id="h0012">&lt;Modified Example&gt;</heading><p id="p0061" num="0061">The interval control value is not limited to the above-described example. For example, the synchronization interval control unit 203 may count the length of time during which the re-synchronization request packet is not received from the time synchronization slave device 40, and the length of counted time may be used as the interval control value.</p><p id="p0062" num="0062">Further, the process when the re-synchronization request packet is performed is not limited to the above-described example. For example, upon receiving the re-synchronization request packet, the synchronization interval control unit 203 may determines a value of m1/m2 (m1 and m2 are integers of 1 or more, and m1 &lt; m2) of the interval control value at that point in time as the interval control value. For example, upon receiving the re-synchronization request packet, the synchronization interval control unit 203 may reduce the interval control value such that the length of the synchronization interval is reduced by m3 (m3 is an integer of 1 or more) steps in the synchronization interval table.</p><p id="p0063" num="0063">Upon receiving the synchronization interval information according to the interval control value of zero times, the synchronization control unit 202 may immediately perform the time synchronization regardless of the length of the synchronization interval. Through this configuration, time correction can be performed by immediately performing the time synchronization on the time synchronization slave device 40 in which an abnormality related to synchronization has occurred, and thus the abnormality can be resolved. Further, in this configuration, the synchronization interval information (the synchronization interval information transmitted in step S107 of <figref idrefs="f0006">FIG. 6</figref>) according to the interval control value of zero times may represent the time (T1) from the first time synchronization to the second time synchronization. In this case, the process of step S112 of <figref idrefs="f0006">FIG. 6</figref> is unnecessary.</p><p id="p0064" num="0064">The clock signal flowing through the communication path need not be limited to the clock signal serving as the synchronous signal used for transmission and reception of the relay<!-- EPO <DP n="24"> --> device 30. For example, even when the relay device 30 is not the clock synchronization type communication device, it is desirable to provide a configuration in which the clock signal flows through the communication path. Thus, in this case, the relay device 30 need not necessarily be the clock synchronization type communication device.</p><p id="p0065" num="0065">In the time synchronization slave device 40, the function of outputting the re-synchronization request signal may be given to either the first clock signal-extracting unit 403 or the time-managing unit 405.</p><p id="p0066" num="0066">The time synchronization slave device 40 may be configured not to extract the clock signal from the communication path but to include a clock signal generator (a clock oscillator) in its own device. <figref idrefs="f0007">FIG. 7</figref> is a functional block diagram illustrating a configuration of a time synchronization slave device 40a configured to include a clock oscillator 406. The time synchronization slave device 40a includes the clock oscillator 406 instead of the first clock signal-extracting unit 403 and the second clock signal-generating unit 404. The time synchronization-managing unit 405 counts a time based on the clock signal output from the clock oscillator 406. The remaining configuration of the time synchronization slave device 40a is the same as that of the time synchronization slave device 40.</p><p id="p0067" num="0067">The synchronization control unit 402 may detect an abnormality related to synchronization of time. Specifically, the synchronization control unit 402 may acquire the difference between the slave device time and the master device time by execution of the synchronization process, and determine whether or not the difference is larger than the phase difference threshold value. In this case, the time-managing unit 405 may be configured not to detect an abnormality related to synchronization of time.</p><heading id="h0013">[Second Embodiment]</heading><p id="p0068" num="0068"><figref idrefs="f0008">FIG. 8</figref> is a system configuration diagram illustrating a system configuration of a synchronizing system (a synchronizing system 100b) according to a second embodiment. The synchronizing system 100b differs from the synchronizing system 100 according to the<!-- EPO <DP n="25"> --> first embodiment in that the clock signal used by the time synchronization slave device 40b is extracted not from the communication path between the relay device 30 and the time synchronization slave device 40b but from a clock synchronization network 50 connected with the clock generator 10. The synchronizing system 100b according to the second embodiment will be described below in detail.</p><p id="p0069" num="0069">The clock generator 10 is connected to the clock synchronization network 50, and supplies the clock synchronization network 50 with the clock signal.</p><p id="p0070" num="0070">The relay device 30b is a typical packet-transmitting device, and relays the synchronous packet without performing clock synchronization.</p><p id="p0071" num="0071"><figref idrefs="f0009">FIG. 9</figref> is a functional block diagram representing a configuration of the time synchronization slave device 40b according to the second embodiment. The time synchronization slave device 40b differs from the time synchronization slave device 40 according to the first embodiment in that a first clock signal-extracting unit 403b is provided instead of the first clock signal-extracting unit 403. The remaining configuration of the time synchronization slave device 40b is the same as that of the time synchronization slave device 40 according to the first embodiment.</p><p id="p0072" num="0072">The first clock signal-extracting unit 403b extracts the first clock signal based on the signal received from the clock synchronization network 50 rather than the communication path through which the synchronous packet is transmitted and received.</p><p id="p0073" num="0073">In the second embodiment, the first clock signal used to generate the second clock signal is extracted from the clock synchronization network 50 rather than the communication path through which the synchronous packet is transmitted and received. Thus, even when a failure occurs in the communication path through which the synchronous packet is transmitted and received, a time is counted based on the first clock signal extracted from the clock synchronization network 50, and thus considerable deviation of the time (the slave device time) of the time synchronization slave device 40 is avoided.<!-- EPO <DP n="26"> --></p><heading id="h0014">&lt;Modified Example&gt;</heading><p id="p0074" num="0074">In the synchronizing system 100b according to the second embodiment, the clock synchronization network 50 may be configured with a clock synchronization type transmission network that operates in synchronization with the clock generator 10.</p><p id="p0075" num="0075">The relay device 30b according to the second embodiment may perform clock synchronization and then relay the synchronous packet.</p><p id="p0076" num="0076">The embodiments of the invention have been described above with reference to the accompanying drawings, but the concrete configuration is not limited to the above embodiments and may include a design of a range not departing from the gist of the invention.</p><p id="p0077" num="0077">Priority is claimed on Japanese Patent Application No. <patcit id="pcit0002" dnum="JP2011046156A"><text>2011-046156, filed March 3, 2011</text></patcit>, the contents of which are incorporated herein by reference.</p><heading id="h0015">INDUSTRIAL APPLICABILITY</heading><p id="p0078" num="0078">The present invention can be applied to a device that performs time synchronization between devices performing communication with each other.</p><heading id="h0016">Reference Symbols</heading><p id="p0079" num="0079"><dl id="dl0001" compact="compact"><dt>100, 100b:</dt><dd>synchronizing system</dd><dt>10:</dt><dd>clock generator</dd><dt>20:</dt><dd>time synchronization master device (second synchronizing device)</dd><dt>30, 30b:</dt><dd>relay device</dd><dt>40, 40a, 40b:</dt><dd>time synchronization slave device (first synchronizing device)</dd><dt>201:</dt><dd>packet-transceiving unit (transceiving unit)<!-- EPO <DP n="27"> --></dd><dt>202:</dt><dd>synchronization control unit</dd><dt>203:</dt><dd>synchronization interval control unit</dd><dt>401:</dt><dd>packet-transceiving unit (transceiving unit)</dd><dt>402:</dt><dd>synchronization control unit (abnormality notification unit)</dd><dt>403, 403b:</dt><dd>first clock signal-extracting unit (abnormality notification unit)</dd><dt>404:</dt><dd>second clock signal-generating unit</dd><dt>405:</dt><dd>time-managing unit (time-managing unit, abnormality notification unit)</dd></dl></p></description><claims mxw-id="PCLM56982332" lang="EN" load-source="patent-office"><!-- EPO <DP n="28"> --><claim id="c-en-0001" num="0001"><claim-text>A synchronizing system including a first synchronizing device and a second synchronizing device that transmit or receive a synchronous packet according to a synchronous protocol, perform a synchronization process, and synchronize a time with each other, the system comprising:
<claim-text>the first synchronizing device including</claim-text>
<claim-text>a transceiving unit that transmits or receives the synchronous packet to or from the second synchronizing device,</claim-text>
<claim-text>a synchronization control unit that acquires a difference between a time of an own device and a time of the second synchronizing device based on the synchronous packet,</claim-text>
<claim-text>a time-managing unit that corrects the time of the own device based on the difference, and</claim-text>
<claim-text>an abnormality notification unit that notifies the second synchronizing device of an abnormality when the abnormality related to a process of synchronizing a time is detected, and</claim-text>
<claim-text>the second synchronizing device including</claim-text>
<claim-text>a transceiving unit that transmits or receives the synchronous packet to or from the first synchronizing device,</claim-text>
<claim-text>a synchronization interval control unit that increases an interval at which the synchronization process is performed as the length of time during which the abnormality is not notified of increases, and</claim-text>
<claim-text>a synchronization control unit that performs the synchronization process at the interval determined by the synchronization interval control unit.</claim-text></claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>The synchronizing system according to Claim 1,<br/>
wherein, when the abnormality is notified of, the synchronization interval control<!-- EPO <DP n="29"> --> unit causes a synchronization interval until a next synchronization process to be smaller than a synchronization interval at that point in time.</claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>The synchronizing system according to Claims 1 or 2,<br/>
wherein, when the abnormality is notified of, the synchronization control unit immediately perform the synchronization process regardless of the interval determined by the synchronization interval control unit.</claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>A synchronizing method performed by a synchronizing system including a first synchronizing device and a second synchronizing device that transmit or receive a synchronous packet according to a synchronous protocol, perform a synchronization process, and synchronize a time with each other, the method comprising:
<claim-text>a transceiving step of transmitting or receiving, by the first synchronizing device, the synchronous packet to or from the second synchronizing device;</claim-text>
<claim-text>a synchronization control step of acquiring, by the first synchronizing device, a difference between a time of an own device and a time of the second synchronizing device based on the synchronous packet;</claim-text>
<claim-text>a time-managing step of correcting, by the first synchronizing device, the time of the own device based on the difference;</claim-text>
<claim-text>an abnormality notification step of notifying; by the first synchronizing device, the second synchronizing device of an abnormality when the abnormality related to a process of synchronizing a time is detected;</claim-text>
<claim-text>a transceiving step of transmitting or receiving, by the second synchronizing device, the synchronous packet to or from the first synchronizing device;</claim-text>
<claim-text>a synchronization interval control step of increasing, by the second synchronizing device, an interval at which the synchronization process is performed as the length of time during which the abnormality is not notified of increases; and</claim-text>
<claim-text>a synchronization control step of performing, by the second synchronizing device,<!-- EPO <DP n="30"> --> the synchronization process at the interval determined by the synchronization interval control step.</claim-text></claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>A first synchronizing device of a synchronizing system including the first synchronizing device and a second synchronizing device that transmit or receive a synchronous packet according to a synchronous protocol, perform a synchronization process, and synchronize a time with each other, the first synchronizing device comprising:
<claim-text>a transceiving unit that transmits or receives the synchronous packet to or from the second synchronizing device that increases an interval at which the synchronization process is performed as the length of time during which abnormality is not notified of increases;</claim-text>
<claim-text>a synchronization control unit that acquires a difference between a time of an own device and a time of the second synchronizing device based on the synchronous packet;</claim-text>
<claim-text>a time-managing unit that corrects the time of the own device based on the difference; and</claim-text>
<claim-text>an abnormality notification unit that notifies the second synchronizing device of an abnormality when the abnormality related to a process of synchronizing a time is detected.</claim-text></claim-text></claim><claim id="c-en-0006" num="0006"><claim-text>A second synchronizing device of a synchronizing system including a first synchronizing device and the second synchronizing device that transmit or receive a synchronous packet according to a synchronous protocol, perform a synchronization process, and synchronize a time with each other, the second synchronizing device comprising:
<claim-text>a transceiving unit that transmits or receives the synchronous packet to or from the first synchronizing device that notifies of an abnormality when the abnormality related to a process of synchronizing a time is detected;</claim-text>
<claim-text>a synchronization interval control unit that increases an interval at which the synchronization process is performed as the length of time during which the abnormality is not notified of from the first synchronizing device increases; and</claim-text>
<claim-text>a synchronization control unit that performs the synchronization process at the<!-- EPO <DP n="31"> --> interval determined by the synchronization interval control unit.</claim-text></claim-text></claim><claim id="c-en-0007" num="0007"><claim-text>A computer program causing a computer to function as a first synchronizing device of a synchronizing system including the first synchronizing device and a second synchronizing device that transmit or receive a synchronous packet according to a synchronous protocol, perform a synchronization process, and synchronize a time with each other, the computer program causing the computer to execute:
<claim-text>a transceiving step of transmitting or receiving the synchronous packet to or from the second synchronizing device that increases an interval at which the synchronization process is performed as the length of time during which abnormality is not notified of increases;</claim-text>
<claim-text>a synchronization control step of acquiring a difference between a time of an own device and a time of the second synchronizing device based on the synchronous packet;</claim-text>
<claim-text>a time-managing step of correcting the time of the own device based on the difference; and</claim-text>
<claim-text>an abnormality notification step of notifying the second synchronizing device of an abnormality when the abnormality related to a process of synchronizing a time is detected.</claim-text></claim-text></claim><claim id="c-en-0008" num="0008"><claim-text>A computer program causing a computer to function as a second synchronizing device of a synchronizing system including a first synchronizing device and the second synchronizing device that transmit or receive a synchronous packet according to a synchronous protocol, perform a synchronization process, and synchronize a time with each other, the computer program causing the computer to execute:
<claim-text>a transceiving step of transmitting or receiving the synchronous packet to or from the first synchronizing device that notifies of an abnormality when the abnormality related to a process of synchronizing a time is detected;</claim-text>
<claim-text>a synchronization interval control step of increasing an niterval at which the synchronization process is performed as the length of time during which the abnormality is not notified of from the first synchronizing device increases; and<!-- EPO <DP n="32"> --></claim-text>
<claim-text>a synchronization control step of performing the synchronization process at the interval determined by the synchronization interval control step.</claim-text></claim-text></claim></claims><drawings mxw-id="PDW16670713" load-source="patent-office"><!-- EPO <DP n="33"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="141" he="171" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="34"> --><figure id="f0002" num="2"><img id="if0002" file="imgf0002.tif" wi="145" he="125" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="35"> --><figure id="f0003" num="3"><img id="if0003" file="imgf0003.tif" wi="154" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="36"> --><figure id="f0004" num="4"><img id="if0004" file="imgf0004.tif" wi="156" he="173" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="37"> --><figure id="f0005" num="5A,5B"><img id="if0005" file="imgf0005.tif" wi="128" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="38"> --><figure id="f0006" num="6"><img id="if0006" file="imgf0006.tif" wi="161" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="39"> --><figure id="f0007" num="7"><img id="if0007" file="imgf0007.tif" wi="155" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="40"> --><figure id="f0008" num="8"><img id="if0008" file="imgf0008.tif" wi="144" he="163" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="41"> --><figure id="f0009" num="9"><img id="if0009" file="imgf0009.tif" wi="159" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="42"> --><figure id="f0010" num="10"><img id="if0010" file="imgf0010.tif" wi="164" he="222" img-content="drawing" img-format="tif"/></figure></drawings><search-report-data><doc-page id="srep0001" file="srep0001.tif" wi="165" he="228" type="tif"/></search-report-data><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
