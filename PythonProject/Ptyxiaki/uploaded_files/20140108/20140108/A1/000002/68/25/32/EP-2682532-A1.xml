<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2682532-A1" country="EP" doc-number="2682532" kind="A1" date="20140108" family-id="46757961" file-reference-id="311173" date-produced="20180822" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146585758" ucid="EP-2682532-A1"><document-id><country>EP</country><doc-number>2682532</doc-number><kind>A1</kind><date>20140108</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-12752766-A" is-representative="NO"><document-id mxw-id="PAPP154847950" load-source="docdb" format="epo"><country>EP</country><doc-number>12752766</doc-number><kind>A</kind><date>20120227</date><lang>JA</lang></document-id><document-id mxw-id="PAPP170521218" load-source="docdb" format="original"><country>EP</country><doc-number>12752766.1</doc-number><date>20120227</date></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140557120" ucid="JP-2011044251-A" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>2011044251</doc-number><kind>A</kind><date>20110301</date></document-id></priority-claim><priority-claim mxw-id="PPC140553623" ucid="JP-2012054814-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>2012054814</doc-number><kind>W</kind><date>20120227</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-2083189632" load-source="docdb">H02P  29/02        20060101ALI20150318BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-2083190136" load-source="docdb">E02F   9/22        20060101ALI20150318BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-2083190190" load-source="docdb">E02F   9/20        20060101AFI20150318BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-2083191450" load-source="docdb">H02P  27/06        20060101ALI20150318BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-2083192223" load-source="docdb">E02F   9/12        20060101ALI20150318BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1976546852" load-source="docdb" scheme="CPC">H02P  29/0241      20160201 LI20160202BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989648817" load-source="docdb" scheme="CPC">E02F   9/2025      20130101 FI20131127BHEP        </classification-cpc><classification-cpc mxw-id="PCL2109737229" load-source="docdb" scheme="CPC">E02F   9/128       20130101 LI20140903BHEP        </classification-cpc><classification-cpc mxw-id="PCL2109739633" load-source="docdb" scheme="CPC">H02P  29/026       20130101 LA20140903BHEP        </classification-cpc><classification-cpc mxw-id="PCL2109741391" load-source="docdb" scheme="CPC">E02F   9/2217      20130101 LI20140903BHEP        </classification-cpc><classification-cpc mxw-id="PCL2109743351" load-source="docdb" scheme="CPC">H02P  29/024       20130101 LI20140903BHEP        </classification-cpc><classification-cpc mxw-id="PCL2109744522" load-source="docdb" scheme="CPC">E02F   9/2091      20130101 LI20140903BHEP        </classification-cpc><classification-cpc mxw-id="PCL2109744674" load-source="docdb" scheme="CPC">E02F   9/2095      20130101 LI20140903BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132361907" lang="DE" load-source="patent-office">HYBRIDBAUMASCHINE</invention-title><invention-title mxw-id="PT132361908" lang="EN" load-source="patent-office">HYBRID-TYPE CONSTRUCTION MACHINE</invention-title><invention-title mxw-id="PT132361909" lang="FR" load-source="patent-office">MACHINE DE CONSTRUCTION DE TYPE HYBRIDE</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR919541725" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>HITACHI CONSTRUCTION MACHINERY</last-name><address><country>JP</country></address></addressbook></applicant><applicant mxw-id="PPAR919507035" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>HITACHI CONSTRUCTION MACHINERY CO., LTD.</last-name></addressbook></applicant><applicant mxw-id="PPAR919011515" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Hitachi Construction Machinery Co., Ltd.</last-name><iid>101280754</iid><address><street>5-1 Koraku 2-chome</street><city>Bunkyo-ku Tokyo 112-8563</city><country>JP</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR919520128" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>IZUMI SHIHO</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919507882" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>IZUMI SHIHO</last-name></addressbook></inventor><inventor mxw-id="PPAR919006707" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>IZUMI SHIHO</last-name><address><street>c/o Hitachi Research Laboratory HITACHI LTD. 1-1 Omika-cho 7-chome</street><city>Hitachi-shi Ibaraki 319-1292</city><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919515298" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>EDAMURA MANABU</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919519199" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>EDAMURA MANABU</last-name></addressbook></inventor><inventor mxw-id="PPAR919012338" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>EDAMURA MANABU</last-name><address><street>c/o Hitachi Construction Machinery Co. Ltd. Tsuchiura Works Intellectual Property Department 650 Kandatsumachi</street><city>Tsuchiura-shi Ibaraki 300-0013</city><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919531691" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>SHIBATA KOUICHI</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919542058" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>SHIBATA KOUICHI</last-name></addressbook></inventor><inventor mxw-id="PPAR919007551" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>SHIBATA KOUICHI</last-name><address><street>c/o Hitachi Construction Machinery Co. Ltd. Tsuchiura Works Intellectual Property Department 650 Kandatsumachi</street><city>Tsuchiura-shi Ibaraki 300-0013</city><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919516647" load-source="docdb" sequence="4" format="epo"><addressbook><last-name>SUGIURA MANABU</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919540706" load-source="docdb" sequence="4" format="intermediate"><addressbook><last-name>SUGIURA MANABU</last-name></addressbook></inventor><inventor mxw-id="PPAR919010453" load-source="patent-office" sequence="4" format="original"><addressbook><last-name>SUGIURA MANABU</last-name><address><street>c/o Hitachi Construction Machinery Co. Ltd. Tsuchiura Works Intellectual Property Department 650 Kandatsumachi</street><city>Tsuchiura-shi Ibaraki 300-0013</city><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919512733" load-source="docdb" sequence="5" format="epo"><addressbook><last-name>OOKI TAKATOSHI</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919513395" load-source="docdb" sequence="5" format="intermediate"><addressbook><last-name>OOKI TAKATOSHI</last-name></addressbook></inventor><inventor mxw-id="PPAR919009379" load-source="patent-office" sequence="5" format="original"><addressbook><last-name>OOKI TAKATOSHI</last-name><address><street>c/o Hitachi Construction Machinery Co. Ltd. Tsuchiura Works Intellectual Property Department 650 Kandatsumachi</street><city>Tsuchiura-shi Ibaraki 300-0013</city><country>JP</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR919019491" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Beetz &amp; Partner</last-name><iid>100060481</iid><address><street>Patentanwälte Steinsdorfstrasse 10</street><city>80538 München</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="JP-2012054814-W"><document-id><country>JP</country><doc-number>2012054814</doc-number><kind>W</kind><date>20120227</date><lang>JA</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2012118027-A1"><document-id><country>WO</country><doc-number>2012118027</doc-number><kind>A1</kind><date>20120907</date><lang>JA</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS549911645" load-source="docdb">AL</country><country mxw-id="DS549837676" load-source="docdb">AT</country><country mxw-id="DS549911646" load-source="docdb">BE</country><country mxw-id="DS549752809" load-source="docdb">BG</country><country mxw-id="DS549751851" load-source="docdb">CH</country><country mxw-id="DS549829474" load-source="docdb">CY</country><country mxw-id="DS549837677" load-source="docdb">CZ</country><country mxw-id="DS549756570" load-source="docdb">DE</country><country mxw-id="DS549911647" load-source="docdb">DK</country><country mxw-id="DS549829475" load-source="docdb">EE</country><country mxw-id="DS549823784" load-source="docdb">ES</country><country mxw-id="DS549752810" load-source="docdb">FI</country><country mxw-id="DS549752811" load-source="docdb">FR</country><country mxw-id="DS549911648" load-source="docdb">GB</country><country mxw-id="DS549911649" load-source="docdb">GR</country><country mxw-id="DS549911650" load-source="docdb">HR</country><country mxw-id="DS549829476" load-source="docdb">HU</country><country mxw-id="DS549751852" load-source="docdb">IE</country><country mxw-id="DS549911651" load-source="docdb">IS</country><country mxw-id="DS549752812" load-source="docdb">IT</country><country mxw-id="DS549829477" load-source="docdb">LI</country><country mxw-id="DS549756571" load-source="docdb">LT</country><country mxw-id="DS549837682" load-source="docdb">LU</country><country mxw-id="DS549756572" load-source="docdb">LV</country><country mxw-id="DS549756581" load-source="docdb">MC</country><country mxw-id="DS549829007" load-source="docdb">MK</country><country mxw-id="DS549829008" load-source="docdb">MT</country><country mxw-id="DS549752821" load-source="docdb">NL</country><country mxw-id="DS549823785" load-source="docdb">NO</country><country mxw-id="DS549752822" load-source="docdb">PL</country><country mxw-id="DS549823790" load-source="docdb">PT</country><country mxw-id="DS549752823" load-source="docdb">RO</country><country mxw-id="DS549823791" load-source="docdb">RS</country><country mxw-id="DS549752824" load-source="docdb">SE</country><country mxw-id="DS549829009" load-source="docdb">SI</country><country mxw-id="DS549751857" load-source="docdb">SK</country><country mxw-id="DS549751858" load-source="docdb">SM</country><country mxw-id="DS549756582" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA128673812" lang="EN" load-source="patent-office"><p id="pa01" num="0001">A hybrid-type construction machine is provided which permits swing operation without a sense of awkwardness compared with conventional construction machines and which allows the amount of stored electricity in an electrical storage device to be controlled within an appropriate range of use in consideration of the service life of the electrical storage device without enlarging its capacity.</p><p id="pa02" num="0002">The hybrid-type construction machine includes an electric motor and a hydraulic motor for driving a swing structure, an electrical storage device, and a controller for controlling charging and discharging of the electrical storage device. The controller includes a storage unit which stores a discharge command region to be set in accordance with the swing speed of the swing structure with regard to the amount of stored electricity in the electrical storage device, and a computing unit which, if the amount of stored electricity in the electrical storage device reaches the discharge command region stored in the storage unit, computes an additional drive torque command value for increasing the amount of powering of the electric motor in accordance with the amount of stored electricity in the electrical storage device, the computing unit further outputting the additional drive torque command value to the electric motor to drive the swing structure.<img id="iaf01" file="imgaf001.tif" wi="78" he="77" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA128738090" lang="EN" source="EPO" load-source="docdb"><p>A hybrid-type construction machine is provided which permits swing operation without a sense of awkwardness compared with conventional construction machines and which allows the amount of stored electricity in an electrical storage device to be controlled within an appropriate range of use in consideration of the service life of the electrical storage device without enlarging its capacity.  The hybrid-type construction machine includes an electric motor and a hydraulic motor for driving a swing structure, an electrical storage device, and a controller for controlling charging and discharging of the electrical storage device. The controller includes a storage unit which stores a discharge command region to be set in accordance with the swing speed of the swing structure with regard to the amount of stored electricity in the electrical storage device, and a computing unit which, if the amount of stored electricity in the electrical storage device reaches the discharge command region stored in the storage unit, computes an additional drive torque command value for increasing the amount of powering of the electric motor in accordance with the amount of stored electricity in the electrical storage device, the computing unit further outputting the additional drive torque command value to the electric motor to drive the swing structure.</p></abstract><description mxw-id="PDES63959800" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001">Technical Field</heading><p id="p0001" num="0001">The present invention relates to a hybrid-type construction machine having a swing structure such as a hydraulic excavator. More particularly, the invention relates to a hybrid-type construction machine having a swing structure equipped with an electric motor and an electrical storage device for driving the swing structure.</p><heading id="h0002">Background Art</heading><p id="p0002" num="0002">In the past, the construction machines having a swing structure such as a hydraulic excavator were dominated by those equipped with an engine to drive a hydraulic pump delivering a hydraulic pressure for rotating a hydraulic motor that in turn drives the swing structure acting as an inertia field. In recent years, hybrid-type construction machines have been proposed which have the swing structure driven by both an electric motor and a hydraulic motor, the electric motor being powered by electrical energy from an electrical storage device, thereby helping to improve engine fuel efficiency, lower noise level, and cut down on the amount of exhaust fumes (see Patent Document 1). The construction machine described in Patent Document 1 includes not only an electric motor for swing purposes but also<!-- EPO <DP n="2"> --> another electric motor for generating and supplying electrical energy to the electrical storage device when the level of stored electricity in the electrical storage device is lowered.</p><p id="p0003" num="0003">Patent Document 1 discloses a technique involving torque command means as control means for the hybrid-type construction machine, the torque command means commanding the torque to be in effect during drive control of the electric motor in connection with the pressure difference between the in-side and the out-side of the hydraulic motor for swing drive purposes. Also, Patent Document 1 discloses a technique whereby the ratio of the torque of the hydraulic motor to that of the electric motor during acceleration driving, and the ratio of the torque of the hydraulic motor to that of the electric motor during deceleration driving are determined using the pressure difference between the in-side and the out-side of the hydraulic motor as a parameter (e.g., paragraph 0060). Patent Document 1 explains that these techniques permit successive smooth drive control of the swing structure as an inertial field and enable the energy stemming from braking to be effectively charged into the electrical storage device as electrical energy (e.g., paragraphs 0033 and 0034).</p><heading id="h0003">Prior Art Literature</heading><heading id="h0004">Patent Documents</heading><p id="p0004" num="0004">Patent Document 1: <patcit id="pcit0001" dnum="JP2008063888A"><text>JP,A 2008-63888</text></patcit><!-- EPO <DP n="3"> --></p><heading id="h0005">Summary of Invention</heading><heading id="h0006">Problems to be Solved by the Invention</heading><p id="p0005" num="0005">Meanwhile, the techniques described in Patent Document 1 are supposed to use the pressure difference between the in-side and the out-side of the hydraulic motor as the parameter in changing the torque taken on by the hydraulic motor and the torque undertaken by the electric motor during both acceleration and deceleration driving, thereby altering the ratios of the shared torque therebetween so as to obtain the torque necessary for driving the swing structure. However, it is very difficult in practice to freely change the output of the hydraulic motor while the machine is in operation. In such a structure, there is a difference between the electrical energy consumed by the electric motor during acceleration driving and the electrical energy generated by the electric motor during deceleration driving, so that the amount of stored electricity in the electrical storage device fluctuates. Needless to say, if the amount of stored electricity in the electrical storage device declines, the electric motor cannot be driven by demanded torque. If the amount of stored electricity in the electrical storage device becomes excessive, the service life of that device may be adversely affected; in a worst-case scenario, the electrical storage device may fail.</p><p id="p0006" num="0006"><!-- EPO <DP n="4"> --> However, with regard to charging/discharging management of the electrical storage device, Patent Document 1 only explains that when the amount of stored electricity in the electrical storage device is lower than a predetermined value, a power-generating motor is driven so as to feed the electrical energy thus generated to the electrical storage device (paragraphs 0053 and 0055); there is no mention of energy management taking into consideration the adverse effects of the overcharge of the electrical storage device on its service life.</p><p id="p0007" num="0007">On the other hand, the drive torque shared by the hydraulic motor and electric motor for this type of construction machine needs to be suitably controlled so that an operator familiar with the operation of conventional construction machines having a swing structure driven by the hydraulic motor alone may operate the machine without a sense of awkwardness. In this case, the energy consumed by the electric motor during driving (power running) and the energy generated by that motor during braking (regeneration) are discharged from and charged into the electrical storage device connected to the electric motor. Since the capacity of the electrical storage device is limited, it is especially important to suitably manage the amount of stored electricity in the electrical storage device (i.e., energy management).</p><p id="p0008" num="0008"><!-- EPO <DP n="5"> --> Incidentally, if there is provided a large-capacity electrical storage device, it may be possible to dispense with above-mentioned energy management. One disadvantage of this scheme, however, is that as the capacity of the electrical storage device is increased, so is the space in which to install that device on the construction machine, which in turn can raise the cost of the construction machine.</p><p id="p0009" num="0009">Furthermore, even if energy management is carried out in such a manner that the amount of stored electricity in the electrical storage device is held within a range of use deemed appropriate in consideration of service life, the amount of stored electricity in the electrical storage device may exceed the appropriate range depending on the difference between the electrical energy consumed by the electric motor during acceleration driving and the electrical energy generated by that motor during deceleration driving, since work patterns are not fixed for the machine. One way of circumventing this problem is by enlarging the capacity of the electrical storage device, which is problematic from the point of view of cost and installation space as mentioned above.</p><p id="p0010" num="0010">The present invention has been made in view of the above-mentioned problems of the prior art, and an object of the invention is to provide a hybrid-type construction machine which permits swing operation without a sense of<!-- EPO <DP n="6"> --> awkwardness compared with conventional construction machines and which allows the amount of stored electricity in an electrical storage device to be controlled within an appropriate range of use in consideration of the service life of the electrical storage device without enlarging its capacity.</p><heading id="h0007">Means for Solving the Problems</heading><p id="p0011" num="0011">In achieving the above object, according to a first aspect of the present invention, there is provided a hybrid-type construction machine including an engine, a hydraulic pump driven by the engine, a swing structure, an electric motor and a hydraulic motor for driving the swing structure, a swing control lever operated by an operator to drive the swing structure, an electrical storage device for storing electrical energy to be supplied to the electric motor, and a controller to which is input a signal reflecting the amount and direction of operation of the swing control lever and which controls charging and discharging of the electrical storage device; the controller includes a storage unit which stores a discharge command region to be set in accordance with the swing speed of the swing structure with regard to the amount of stored electricity in the electrical storage device, and a computing unit which, if the amount of stored electricity in the electrical storage device reaches the discharge command region stored in the storage unit, computes an additional drive torque command value for increasing the amount of powering of the electric motor in<!-- EPO <DP n="7"> --> accordance with the amount of stored electricity in the electrical storage device, the computing unit further outputting the additional drive torque command value to the electric motor to drive the swing structure.</p><p id="p0012" num="0012">According to a second aspect of the present invention, there is provided a hybrid-type construction machine including an engine, a hydraulic pump driven by the engine, a swing structure, an electric motor and a hydraulic motor for driving the swing structure, a swing control lever operated by an operator to drive the swing structure, an electrical storage device for storing electrical energy to be supplied to the electric motor, and a controller to which is input a signal reflecting the amount and direction of operation of the swing control lever and which controls charging and discharging of the electrical storage device; the controller includes a storage unit which stores a charge command region to be set in accordance with the swing speed of the swing structure with regard to the amount of stored electricity in the electrical storage device, and a computing unit which, if the amount of stored electricity in the electrical storage device reaches the charge command region stored in the storage unit, computes an additional drive torque command value for increasing the amount of regeneration of the electric motor in accordance with the amount of stored electricity in the electrical storage device, the computing unit further outputting the additional<!-- EPO <DP n="8"> --> drive torque command value to the electric motor to brake the swing structure.</p><p id="p0013" num="0013">According to a third aspect of the present invention, there is provided the hybrid-type construction machine as described in the first aspect or the second aspect, in which the controller further includes a storage unit which further stores a normal use region as an optimal range in which to use the electrical storage device with regard to the amount of stored electricity in the electrical storage device, and a computing unit which, if the amount of stored electricity in the electrical storage device falls within the normal use region stored in the storage unit, computes a torque command value for driving and braking the swing structure in accordance with the amount and direction of operation of the swing control lever, the computing unit further outputting the torque command value to the electric motor.</p><p id="p0014" num="0014">According to a fourth aspect of the present invention, there is provided the hybrid-type construction machine as described in any one of the first through the third aspect, in which the controller further includes hydraulic/electric complex control means which computes an electric motor torque command based on the additional drive torque command value and on the torque command value for driving and braking the swing structure in accordance with the amount and direction of operation of the swing control lever, and<!-- EPO <DP n="9"> --> which outputs the electric motor torque command to the electric motor.</p><p id="p0015" num="0015">According to a fifth aspect of the present invention, there is provided the hybrid-type construction machine as described in any one of the first through the fourth aspect, in which the additional drive torque command value for the electric motor computed in accordance with the amount of stored electricity in the electrical storage device varies in accordance with the amount of stored electricity given the same conditions under which the swing structure is driven or braked, and in which the amplitude of the varying torque is kept within 20 percent or less of a standardized total torque value obtained by adding up the torque of the electric motor given the same conditions under which the swing structure is driven or braked and the torque of the hydraulic motor.</p><heading id="h0008">Effects of Invention</heading><p id="p0016" num="0016">According to the present invention, it is possible to perform drive control of the swing electric motor using an additional torque command signal obtained by adding the torque of the swing electric motor to a standardized value. This makes it possible to maintain the amount of stored electricity in the electrical storage device within an appropriate range that takes the service life of the electrical storage device into consideration. As a result, there is no need to enlarge the capacity of the electrical<!-- EPO <DP n="10"> --> storage device or to ensure the space in which to install the device. At the same time, swing operation can be performed with the same ease of use as that of conventional construction machines.</p><heading id="h0009">Brief Description of Drawings</heading><p id="p0017" num="0017"><ul><li><figref idrefs="f0001">Fig. 1</figref> is a side view of a hydraulic excavator to which a hybrid-type construction machine as one embodiment of the present invention is applied.</li><li><figref idrefs="f0002">Fig. 2</figref> is a system configuration diagram of electric/hydraulic equipment constituting part of the hybrid-type construction machine as one embodiment of the present invention.</li><li><figref idrefs="f0003">Fig. 3</figref> is a system configuration and control block diagram of the hybrid-type construction machine as one embodiment of the present invention.</li><li><figref idrefs="f0003">Fig. 4</figref> is a characteristic diagram showing the relationship between the amount of lever operation and the drive torque of a hydraulic motor and an electric motor of the hybrid-type construction machine as one embodiment of the present invention.</li><li><figref idrefs="f0004">Fig. 5</figref> is a block diagram of an energy management control means constituting part of the hybrid-type construction machine as one embodiment of the present invention.</li><li><figref idrefs="f0004">Fig. 6</figref> is a characteristic diagram explaining a normal use region, a regeneration inhibit region and a swing inhibit region, as well as a discharge command and a charge command<!-- EPO <DP n="11"> --> to be stored into a controller constituting part of the hybrid-type construction machine as one embodiment of the present invention.</li><li><figref idrefs="f0005">Fig. 7</figref> is a flowchart showing a process flow for computing the torque command value of a swing electric motor in the hybrid-type construction machine as one embodiment of the present invention.</li><li><figref idrefs="f0005">Fig. 8</figref> is a characteristic diagram showing the relations of an additionally demanded output command value to the capacitor voltage in the hybrid-type construction machine as one embodiment of the present invention.</li><li><figref idrefs="f0006">Fig. 9</figref> is a characteristic diagram showing changes in hydraulic motor torque, swing electric motor torque, and additional torque between the start and the stop of a swing structure on the hybrid-type construction machine as one embodiment of the present invention.</li><li><figref idrefs="f0006">Fig. 10A</figref> is a characteristic diagram showing an example in which a hydraulic-only mode switchover demand is output (setting example of a regeneration inhibit flag) on the hybrid-type construction machine as one embodiment of the present invention.</li><li><figref idrefs="f0007">Fig. 10B</figref> is a characteristic diagram showing another example in which the hydraulic-only mode switchover demand is output (setting example of a swing inhibit flag) on the hybrid-type construction machine as one embodiment of the present invention.</li></ul></p><heading id="h0010">Mode for Carrying out the Invention</heading><!-- EPO <DP n="12"> --><p id="p0018" num="0018">Some embodiments of the present invention are explained below in reference to the accompanying drawings using a hydraulic excavator as a typical construction machine. It should be noted that the present invention can be applied to all construction machines (including work machines) equipped with a swing structure and that the application of this invention is not limited to the hydraulic excavator. For example, the invention can also be applied to a crane vehicle equipped with a swing structure and other construction machines. <figref idrefs="f0001">Fig. 1</figref> is a side view of a hydraulic excavator to which a hybrid-type construction machine as one embodiment of the present invention is applied; <figref idrefs="f0002">Fig. 2</figref> is a system configuration diagram of electric/hydraulic equipment constituting part of the hybrid-type construction machine as one embodiment of the present invention; <figref idrefs="f0003">Fig. 3</figref> is a system configuration and control block diagram of the hybrid-type construction machine as one embodiment of the present invention, and <figref idrefs="f0003">Fig. 4</figref> is a characteristic diagram showing the relationship between the amount of lever operation and the drive torque of a hydraulic motor and an electric motor of the hybrid-type construction machine as one embodiment of the present invention.</p><p id="p0019" num="0019">In <figref idrefs="f0001">Fig. 1</figref>, the hydraulic excavator includes a track structure 10, and a swing structure 20 and an excavator<!-- EPO <DP n="13"> --> mechanism 30 mounted on the track structure 10 in swingable fashion.</p><p id="p0020" num="0020">The track structure 10 is made up of a symmetrical pair of crawlers 11 and a symmetrical pair of crawler frames 12 (shown only one each in <figref idrefs="f0001">Fig. 1</figref>), a pair of track hydraulic motors 13 and 14 for performing drive control of the crawlers 11 independently of one another, and a speed reduction mechanism working in conjunction with the track hydraulic motors 13 and 14.</p><p id="p0021" num="0021">The swing structure 20 is made up of a swing frame 21, an engine 22 mounted on the swing frame 21 as a prime mover, a swing electric motor 25 and a swing hydraulic motor 27, a capacitor 24 acting as an electrical storage device connected to the swing electric motor 25, and a speed reduction mechanism 26 for decelerating the revolutions of the swing electric motor 25 and swing hydraulic motor 27. The driving power of the swing electric motor 25 and swing hydraulic motor 27 is transmitted via the speed reduction mechanism 26 to drive the swing structure 20 (swing frame 21) in swinging fashion relative to the track structure 10.</p><p id="p0022" num="0022">Also, an excavator mechanism (front device) 30 is mounted on the swing structure 20. The excavator mechanism 30 is made up of a boom 31, a boom cylinder 32 for driving the boom 31, an arm 33 mounted axially rotatably near the tip of the boom 31, an arm cylinder 34 for driving the arm<!-- EPO <DP n="14"> --> 33, a bucket 35 mounted axially rotatably on the tip of the arm 33, and a bucket cylinder 36 for driving the bucket 35.</p><p id="p0023" num="0023">Further mounted on the swing frame 21 of the swing structure 20 is a hydraulic system 40 for driving hydraulic actuators such as the above-mentioned track hydraulic motors 13 and 14, swing hydraulic motor 27, boom cylinder 32, ark cylinder 34, and bucket cylinder 36. The hydraulic system 40 includes a hydraulic pump 41 (<figref idrefs="f0002">Fig. 2</figref>) acting as a hydraulic operating fluid source for generating hydraulic pressure and a control valve 42 (<figref idrefs="f0002">Fig. 2</figref>) for performing drive control of the actuators. The hydraulic pump 41 is driven by the engine 22.</p><p id="p0024" num="0024">Below is an overall explanation of the system configuration of the electric/hydraulic equipment on the hydraulic excavator. As shown in <figref idrefs="f0002">Fig. 2</figref>, the driving power of the engine 22 is transmitted to the hydraulic pump 41. The control valve 42 controls the flow and direction of the hydraulic operating fluid supplied to the swing hydraulic motor 27 in accordance with a swing operation command (hydraulic pilot signal) coming from a swing control lever device 72 (see <figref idrefs="f0003">Fig. 3</figref>). The control valve 42 further controls the flow and direction of the hydraulic operating fluid supplied to the boom cylinder 32, arm cylinder 34, bucket cylinder 36, and track hydraulic motors 13 and 14 in accordance with an operation command (hydraulic pilot<!-- EPO <DP n="15"> --> signal) coming from an other-than-swing control lever device 73 (see <figref idrefs="f0003">Fig. 3</figref>).</p><p id="p0025" num="0025">Incidentally, the control valve 42 of this embodiment holds its bleed-off opening area wider than ordinary machines when the control input of the swing control lever is set in an intermediate range (i.e., between neutral and maximum) so that the drive torque of the swing hydraulic motor 27 (torque in the direction of driving the swing structure 20) with the control input in the intermediate range becomes lower than ordinary machines. Also, the control valve 42 holds its meter-out opening area larger than ordinary machines when the control input of the swing control lever device 72 is set in the intermediate range so that the braking torque of the swing hydraulic motor 27 (torque in the direction of braking the upper swing structure 20) with the control input in the intermediate range becomes lower than ordinary machines.</p><p id="p0026" num="0026">The swing control system, as shown in <figref idrefs="f0002">Fig. 2</figref>, includes a controller 80 that outputs control signals reflecting commands from the control lever device 72 (see <figref idrefs="f0003">Fig. 3</figref>) to the above-mentioned control valve 42 and to a power control unit 55 controlling the charging and discharging of the capacitor 24. The power control unit 55 includes a chopper 51, an inverter 52, and a smoothing capacitor 54. A main contactor 56 is provided including a main relay 57 and a rush current prevention circuit 58.<!-- EPO <DP n="16"> --></p><p id="p0027" num="0027">DC power from the capacitor 24 is boosted by the chopper 51 to a predetermined bus voltage before being input to the inverter 52 to drive the swing electric motor 25. The smoothing capacitor 54 is provided to stabilize the bus voltage. The rotation axis of the swing electric motor 25 and that of the swing hydraulic motor 27 are coupled, whereby the swing structure 20 is driven via the speed reduction mechanism 26. The capacitor 24 is charged or discharged depending on drive status of the swing electric motor 25 (i.e., whether the motor is powering or regenerating).</p><p id="p0028" num="0028">The devices, control means, and control signals necessary for performing swing control according to this invention are explained below in more detail in reference to <figref idrefs="f0003">Fig. 3</figref>.</p><p id="p0029" num="0029">The hydraulic excavator is equipped with an ignition key 70 for starting the engine 22, and a gate lock lever device 71 for turning on a pilot pressure cutoff valve 76 to deactivate the hydraulic system at the time of stopping work. The hydraulic excavator is also furnished with the above-mentioned controller 80 and with hydraulic/electric conversion devices 74a, 74bL and 74bR; electric/hydraulic conversion devices 75a, 75b, 75c and 75d, and a hydraulic-only swing mode setting switch 77 associated with the input and output to and from the controller 80. These components make up a swing control system. For example, the<!-- EPO <DP n="17"> --> hydraulic/electric conversion devices 74a, 74bL and 74bR may be a pressure sensor each, and the electric/hydraulic conversion devices 75a, 75b, 75c and 75d may be a solenoid proportional pressure reducing valve each.</p><p id="p0030" num="0030">As shown in <figref idrefs="f0003">Fig. 3</figref>, the controller 80 is made up of an abnormality monitoring/abnormality processing control block (means) 81, an energy management control block (means) 82, a hydraulic/electric complex swing control block (means) 83, a hydraulic-only swing control block (means) 84, and switching means 85 for switching between the hydraulic/electric complex swing control block (means) 83 and hydraulic-only swing control block (means) 84.</p><p id="p0031" num="0031">The abnormality monitoring/abnormality processing control block 81 admits error/failure/warning signals output from the power control unit 55. The energy management control block 82 admits a capacitor level signal, a chopper current signal and a swing motor speed output from the power control unit 55, and a swing hydraulic pressure which is output from the control valve 42 and which is converted to an electric signal by the pressure-to-electric signal conversion devices (e.g., pressure sensors) 74bL and 74bR. The energy management control block 82 outputs an additional torque demand to the hydraulic/electric complex swing control block 83 and a demand for switchover to hydraulic-only swing mode to the switching means 85.</p><p id="p0032" num="0032"><!-- EPO <DP n="18"> --> The hydraulic/electric complex swing control block 83 admits a swing pilot pressure signal which is output from the swing control lever 72 and which is converted to an electric signal by the hydraulic-to-electric signal conversion device (e.g., pressure sensor) 74a, a swing motor speed output from the power control unit 55, and a swing hydraulic pressure which is output from the control valve 42 and which is converted to an electric signal by the pressure-to-electric signal conversion devices (e.g., pressure sensors) 74bL and 74bR. The hydraulic/electric complex swing control block 83 outputs a swing electric motor torque command to the power control unit 55, a pump absorption torque correction command to the hydraulic pump 41, and a swing hydraulic motor output torque decrease command to the control valve 42. Incidentally, the pump absorption torque correction command and swing hydraulic motor output torque decrease command are converted to hydraulic pilot signals by the electric-to-pressure signal conversion devices (e.g., solenoid proportional valves) 75a and 75b before being input to the hydraulic pump 41 and control valve 42.</p><p id="p0033" num="0033">The hydraulic-only swing control block 84 admits the swing pilot pressure signal which is output from the swing control lever 72 and which is converted to an electric signal by the hydraulic-to-electric signal conversion device 74a, and outputs a hydraulic swing characteristic correction command and a swing pilot pressure correction signal to the<!-- EPO <DP n="19"> --> control valve 42 via the electric-to-pressure signal conversion devices 75c and 75d. The switching means 85, as will be discussed later, may be switched automatically by the controller 80 in accordance with drive status of the swing structure 20 and with the amount of stored electricity in the capacitor 24, or switched manually using the hydraulic-only swing mode setting switch 77 attached to the controller 80.</p><p id="p0034" num="0034">When the system as a whole is free of abnormality and in a state in which the swing electric motor 25 is ready to be driven, the hydraulic/electric complex swing control block 83 performs swing control of the swing structure 20. That is, when an operator manipulates the swing control lever 72, a hydraulic pilot signal reflecting the direction and amount of lever operation is generated and input to the control valve 42. At the same time, the swing pilot pressure signal converted to an electric signal is also input to the controller 80 via the hydraulic-to-electric signal conversion device 74a. This causes the control valve for the swing hydraulic motor 27 to open and drive the swing hydraulic motor 27. Concurrently, the swing electric motor 25 is driven, supplied with power from the capacitor 24.</p><p id="p0035" num="0035">As explained above, during driving, the control valve 42 of this embodiment holds its bleed-off opening area wider than ordinary machines when the control input of the swing control lever 72 is in the intermediate range so as to lower<!-- EPO <DP n="20"> --> the drive torque; during braking, the control valve 42 also holds its meter-out opening area wider than ordinary machines when the control input of the swing control lever 72 is in the intermediate range in order to lower the braking torque. Thus the drive torque of the swing hydraulic motor 27 in the hydraulic system 40 of this embodiment is lower than that in ordinary hydraulic machines. The controller 80 computes a swing electric motor torque command sufficient to drive the swing electric motor 25 with an amount of drive torque making up for the decrease in the drive torque of the swing hydraulic motor 27. <figref idrefs="f0003">Fig. 4</figref> schematically shows drive torque Tms1 of the swing electric motor 25 and drive torque Tmo of the swing hydraulic motor 27, the two kinds of torque reflecting the amount of operation of the swing control lever 72.</p><p id="p0036" num="0036">The hydraulic/electric complex swing control block 83 supplements the drive torque Tms1 of the swing electric motor 25 and the drive torque Tmo of the swing hydraulic motor 27 with the additional torque demanded by the energy management control block 82, before outputting the swing electric motor torque command to the power control unit 55. The additional torque is added to the drive torque Tms1 of the swing electric motor 25. A method for computing the swing electric motor torque command supplemented with the additional torque will be explained later.</p><p id="p0037" num="0037"><!-- EPO <DP n="21"> --> The amount of stored electricity in the capacitor 24 fluctuates in accordance with the difference between the electric energy consumed by the swing electric motor 25 during acceleration and the electric energy regenerated thereby during deceleration. The energy management control block 82 controls the amount of stored electricity in the capacitor 24 within an appropriate range. By adjusting the torque to be added to the swing electric motor 25, the energy management control block 82 performs control to maintain the amount of stored electricity in the capacitor 24 within the appropriate range.</p><p id="p0038" num="0038">Explained next in reference to <figref idrefs="f0004">Figs. 5 and 6</figref> is detailed processing performed by the energy management control block 82 of the controller 80. <figref idrefs="f0004">Fig. 5</figref> is a block diagram of an energy management control means constituting part of the hybrid-type construction machine as one embodiment of this invention, and <figref idrefs="f0004">Fig. 6</figref> is a characteristic diagram explaining a normal use region, a regeneration inhibit region and a swing inhibit region, as well as a discharge command and a charge command to be stored into a controller constituting part of the hybrid-type construction machine as one embodiment of this invention. Of the reference characters in <figref idrefs="f0004">Figs. 5 and 6</figref>, those already used in <figref idrefs="f0001 f0002 f0003">Figs. 1 to 4</figref> designate like or corresponding parts of which detailed explanations are omitted hereunder.</p><p id="p0039" num="0039">The energy management control block 82 shown in <figref idrefs="f0004">Fig. 5</figref> performs a process in which, if the amount of stored<!-- EPO <DP n="22"> --> electricity in the capacitor 24 cannot be maintained within the appropriate range through the charging and discharging alone of the capacitor 24 using the drive torque or regenerative torque of the swing electric motor 25 computed by the hydraulic/electric complex swing control block 83, the drive torque or regenerative torque of the swing electric motor 25 is supplemented with an amount of torque that will not give the operator a sense of awkwardness in swing operation so as to adjust the amount of stored electricity in the capacitor 24.</p><p id="p0040" num="0040">With this embodiment, a capacitor voltage Vc is controlled by computing the additional torque of the swing electric motor 25 with regard to a target capacitor voltage Vc*, whereby the swing electric motor 25 is operated for power running or for regeneration. The target capacitor voltage Vc* is set to be dependent on the kinetic energy of the upper swing structure 20. Here, as shown in <figref idrefs="f0004">Fig. 6</figref>, the target voltage Vc* of the capacitor 24 is set beforehand in terms of a charge command VL* and a discharge command VH* that are stored in the storage unit as a table reflecting swing speeds. For example, if kinetic energy is getting larger during powered swing operation, i.e., if swing speed is getting higher, then regenerative energy to be gained from the eventual regenerative operation is expected to be larger. In this case, the target capacitor voltage Vc* is set to be lower to keep the amount of stored electricity smaller in the capacitor in preparation for the increased<!-- EPO <DP n="23"> --> regenerative energy. Likewise, if kinetic energy is getting smaller during regenerative operation, i.e., if swing speed is getting lower, the target capacitor voltage Vc* is set to be higher to raise the amount of stored electricity in the capacitor in preparation for the eventual powered operation.</p><p id="p0041" num="0041"><figref idrefs="f0004">Fig. 6</figref> shows the content of a table 1 defined by the function generator of a block 100 indicated in <figref idrefs="f0004">Fig. 5</figref>. In <figref idrefs="f0004">Fig. 6</figref>, Vmax stands for the capacitor voltage defining the regeneration inhibit region, Vhigh for the capacitor voltage defining the maximum voltage of the normal use region, Vlow for the capacitor voltage defining the minimum voltage of the normal use region, and Vmin for the capacitor voltage defining the swing inhibit region.</p><p id="p0042" num="0042">Where the target capacitor voltage Vc* is set as described above, the computing unit of the energy management control block 82 performs control to compute the torque of the swing electric motor 25 in a manner supplemented with a predetermined maximum output (on the powering side) if the capacitor voltage Vc is higher than (Vh_x+α), with the swing speed at Wx in <figref idrefs="f0004">Fig. 6</figref>. If the capacitor voltage Vc is lower than (Vl_x-β), with the swing speed at Wx, the torque of the swing electric motor 25 is controlled to be supplemented with a predetermined maximum output (on the regeneration side). And if the capacitor voltage Vc is in the range defined as Vl_x&lt;Vc≤Vh_x, the torque of the swing electric motor 25 is not supplemented (additional torque is 0). The<!-- EPO <DP n="24"> --> electric energy reflecting the powering and regenerating operations of the swing electric motor 25 is then charged into and discharged from the capacitor 24.</p><p id="p0043" num="0043">In <figref idrefs="f0004">Fig. 6</figref>, the target capacitor voltages VL* and VH* representing the charge command and discharge command for the capacitor 24 should preferably be set in such a manner that the normal use region of the capacitor 24 is effectively utilized. That is, when the voltage range in which the capacitor 24 is used appropriately from the viewpoint of service life is established as the normal use region, electric energy is effectively utilized for improved efficiency as long as the capacitor voltage Vc ranges all the way from the minimum voltage Vmin to the maximum voltage Vmax. Thus energy efficiency is made higher the closer the capacitor voltage is to Vmax during charging with regenerative energy and the closer the capacitor voltage is to Vmin during discharging for powering operation.</p><p id="p0044" num="0044">In practice, however, the target capacitor voltages VL* and VH* are set with margins of a regenerative energy allowance value Ex1 and a powering energy allowance value Ex2 in view of such cases as the capacitor 24 being continuously charged by regeneration from swing work on slopes or the like, or the capacitor 24 being continuously discharged during pressing work or the like. According to this system, as will be discussed later, it is possible to switch to hydraulic motor-only mode even if the capacitor<!-- EPO <DP n="25"> --> level exceeds a predetermined range. This makes it possible to set the regenerative energy allowance value Ex1 and powering energy allowing value Ex2 to be small, which in turn reduces the size of the capacitor 24. Incidentally, the voltage range equal to or higher than the maximum voltage Vmax belongs to the regeneration inhibit region where the electric energy regenerated by the swing electric motor 25 is inhibited from charging the capacitor, and the voltage range equal to or below the minimum voltage Vmin belongs to the swing inhibit region where the swing electric motor 25 is inhibited from powering the swing operation. The controller 80 stores the normal use region, regeneration inhibit region, and swing inhibit region shown in <figref idrefs="f0004">Fig. 6</figref>.</p><p id="p0045" num="0045">In <figref idrefs="f0004">Fig. 5</figref>, the function generator of a control block 100 admits the swing motor speed output from the power control unit 55, and outputs the above-mentioned target capacitor voltage Vc*. Also, a control block 103 is a correction computing unit that performs correction computation of the capacitor voltage. Specifically, the control block 103 admits a detected voltage value Vc of the capacitor 24 and a detected chopper current output from the power control unit 55, and outputs a capacitor voltage corrected for the amount of the voltage drop attributable to an internal resistance value. A control block 101 is a deviation computing unit that admits the output of the control block 100 and that of the control block 103 and outputs deviations from these outputs to a control block<!-- EPO <DP n="26"> --> 102. A control computing unit of the control block 102 multiplies the input value by a predetermined proportional gain to compute the output to be charged into or discharged from the capacitor 24. A control block 104 is a computing unit that performs the process of computing additional torque demanded of the swing motor. As such, the control block 104 admits the output of the control block 102 and the swing motor speed output from the power control unit 55 to compute a swing motor additional torque command. Specifically, the control block 104 divides the output computed by the control block 102 by the revolution speed of the swing electric motor 25 for conversion into the swing motor additional torque command. This swing motor additional torque command is output to the hydraulic/electric complex swing control block 83.</p><p id="p0046" num="0046">Explained next in reference to <figref idrefs="f0005">Figs. 7 and 8</figref> is a detailed process of computing the additional torque demanded of the swing motor. <figref idrefs="f0005">Fig. 7</figref> is a flowchart showing a process flow for computing the torque command value of the swing electric motor in the hybrid-type construction machine as one embodiment of this invention, and <figref idrefs="f0005">Fig. 8</figref> is a characteristic diagram showing the relations of an additionally demanded output command value to the capacitor voltage in the hybrid-type construction machine as one embodiment of this invention. Of the reference characters in <figref idrefs="f0005">Figs. 7 and 8</figref>, those already used in <figref idrefs="f0001 f0002 f0003 f0004">Figs. 1 through 6</figref><!-- EPO <DP n="27"> --> designate like or corresponding parts of which detailed explanations are omitted hereunder.</p><p id="p0047" num="0047">First, in step (S100), the hydraulic motor torque Tmo of the swing hydraulic motor 27 is computed. Specifically, the hydraulic motor torque Tmo is calculated by taking in swing hydraulic pressure signals from the pressure-to-electric signal conversion devices 74bL and 74bR attached to two ports (for input and output of hydraulic operating fluid) of the swing hydraulic motor 27, and by computing the difference between the two signals.</p><p id="p0048" num="0048">Next, in step (S101), it is determined whether the swing hydraulic motor 27 is being driven or braked. Specifically, the determination is made by comparatively computing the amounts of changes in the detected swing motor revolution speed and in the detected swing hydraulic pressure. If the swing hydraulic motor 27 is determined to be driven, the result of this determination is affirmative (Yes) and step (S102) is reached; if the swing hydraulic motor 27 is determined to be braked, the result of this determination is negative (No) and step (S103) is reached.</p><p id="p0049" num="0049">In step (S102), the electric motor torque command value Tms1 for driving is computed. Specifically, the gain is computed using a drive gain table established in keeping with the amounts of swing operation. The drive gain thus computed is multiplied by the hydraulic motor torque Tmo<!-- EPO <DP n="28"> --> calculated in step (S100) to obtain the electric motor torque command value Tms1.</p><p id="p0050" num="0050">In step (S103), the electric motor torque command value Tms1 for braking is computed. Specifically, the gain is computed using a braking gain table established in keeping with the amounts of swing operation. The braking gain thus computed is multiplied by the hydraulic motor torque Tmo calculated in step (S100) to obtain the electric motor torque command value Tms1. These electric motor torque command values Tms1 are set to be substantially the same as those of the torque for driving the swing structure using only the hydraulic motor on ordinary machines. Thus as shown in <figref idrefs="f0003">Fig. 4</figref>, the computed electric motor torque command value Tms1 is set to become large when the amount of operation of the swing control lever is in the intermediate range.</p><p id="p0051" num="0051">In step (S104), additionally demanded torque Tadd is computed. Specifically, the charging/discharging power to be input and output in accordance with the capacitor voltage Vc indicative of the charged state of the capacitor 24 is calculated. The charging/discharging power is divided by the swing speed to compute the additionally demanded torque Tadd. <figref idrefs="f0005">Fig. 8</figref> shows a table by which an additionally demanded output command is set with regard to the capacitor voltage Vc. During swing drive operation (powering operation), the additionally demanded output is set so that<!-- EPO <DP n="29"> --> when the capacitor voltage is equal to or higher than VH*, discharging is performed with dischargeable power Paddmax[kW] or less. During swing braking operation (regenerative operation), the additionally demanded output is set so that when the capacitor voltage is equal to or lower than VL*, charging is performed with chargeable power Paddmin[kW] or less.</p><p id="p0052" num="0052">Next, in step (S105), it is determined whether or not the additionally demanded torque Tadd computed in step (S104) is smaller than a predetermined upper limit Tadd1.</p><p id="p0053" num="0053">If it is determined in step (S105) that the additionally demanded torque Tadd is smaller than the predetermined upper limit Tadd1, the result of this determination is affirmative (Yes) and step (S106) is reached. If it is determined that the additionally demanded torque Tadd is equal to or larger than the upper limit Tadd1, the result of this determination is negative (No) and step (S107) is reached.</p><p id="p0054" num="0054">In step (S106), the value computed in step (S104) is set to be the additionally demanded torque Tadd.</p><p id="p0055" num="0055">In step (S107), the predetermined upper limit Tadd1 is set to be the additionally demanded torque Tadd. The upper limit Tadd1 is set within such a range that there is no difference between the sense of swing felt by the<!-- EPO <DP n="30"> --> operator when the swing electric motor 25 is driven with the sum of the additionally demanded torque Tadd and the drive torque Tms1 for the swing electric motor 25 on the one hand, and the sense of swing felt by the operator when the swing electric motor 25 is driven with the drive torque Tms1 not supplemented with the additionally demanded torque Tadd for the swing electric motor 25 on the other hand. Experiments conducted by the inventors revealed that most operators do not experience any sense of awkwardness in swing operation when the drive torque Tms1 of the swing electric motor 25 is supplemented with up to 20 percent of torque. With this embodiment, the upper limit Tadd1 of the additionally demanded torque is set to be a value obtained by multiplying a hydraulic motor torque command value Tms1 computed in step (S102) or (S103) by a gain K1. That is, Tadd1=K1·Tms1, where K1 is 0.2.</p><p id="p0056" num="0056">In step (S108), an electric motor torque command value Tms2 is computed based on the additional torque demand Tadd calculated in step (S106) or (S107). Specifically, the additionally demanded torque Tadd is added to the above-mentioned hydraulic motor torque command value Tms1 to compute the electric motor torque command value Tms2 (=Tms1+Tadd).</p><p id="p0057" num="0057">The electric motor torque command value Tms2 thus computed is output, as shown in <figref idrefs="f0003">Fig. 3</figref>, from the<!-- EPO <DP n="31"> --> hydraulic/electric complex swing control block 83 of the controller 80 to the power control unit 55.</p><p id="p0058" num="0058">Explained next in reference to <figref idrefs="f0006">Fig. 9</figref> are the workings of the hybrid-type construction machine as one embodiment of the present invention. <figref idrefs="f0006">Fig. 9</figref> is a characteristic diagram showing changes in hydraulic motor torque, swing electric motor torque, and additional torque between the start and the stop of the swing structure on the hybrid-type construction machine as one embodiment of the present invention.</p><p id="p0059" num="0059"><figref idrefs="f0006">Fig. 9</figref> plots changes in the hydraulic motor torque Tmo, in the swing electric motor torque Tms1, and in the additional torque Tadd added to the swing electric motor torque Tms1 between the start and the stop of the swing structure 20. Explained here are the torque of the swing motor 25 and that of the swing motor 27 which vary with the state of stored electricity in the capacitor between time t0 and time t5. Reference characters (A) and (B) indicative of the amounts of lever operation show that the operator has performed as much swing operation as the amounts of lever operation represented by (A) and (B).
<ol><li>(1) At time t0 at which the operation of the swing control lever is started, the state of stored electricity in the capacitor is brought high so that the additional torque Tadd is enlarged. The torque to be ultimately output by the swing electric motor 25 (swing electric motor torque) is<!-- EPO <DP n="32"> --> obtained by adding Tadd to the swing electric motor torque Tms1 serving as the reference (Tms1+Tadd).</li><li>(2) Between time t1 and time t2, the swing electric motor torque Tms1 regenerated by the swing electric motor 25 is output through a like process based on the lever operation.</li><li>(3) Next, at time t3 at which the swing operation (B) of the same amount of lever operation as (A) is started, the state of stored electricity in the capacity is within the normal range but stays relatively low. In this case, the reference swing electric motor torque Tms1 is ultimately output without being supplemented with additional torque.</li><li>(4) Given the above workings, the powering energy output during powering from time t0 to time t1 becomes larger than the powering energy output during powering from time t3 to time t4.</li></ol></p><p id="p0060" num="0060">Under the control described above, it is easier to maintain the state of stored electricity in the capacity within an appropriate range, and it is possible to reduce as much as possible the switchover to hydraulic-only swing mode, to be discussed later. It is also possible to implement a system configuration in which the capacitor 24 is reduced in capacity. Furthermore, it is possible to use energy effectively and improve fuel efficiency without giving the operator a sense of awkwardness in operation.</p><p id="p0061" num="0061"><!-- EPO <DP n="33"> --> Returning to <figref idrefs="f0004">Fig. 5</figref>, a control block 105 acting as a computing unit that performs a hydraulic-only mode switchover demand computing process. If the amount of stored electricity in the capacitor 24 does not fall within a predetermined range even after the torque of the swing electric motor 25 is supplemented, a switchover is made from hydraulic/electric complex swing mode to hydraulic-only mode in order to prevent the capacitor 24 from being charged or discharged as the swing electric motor is driven or braked. In <figref idrefs="f0004">Fig. 5</figref>, the computing unit of the control block 105 admits a corrected capacitor voltage output from the control block 103, and outputs a hydraulic-only mode switchover demand to the switching means 85 of the controller 80 shown in <figref idrefs="f0003">Fig. 3</figref>. The switchover to hydraulic-only mode is set to be made based on the state of stored electricity in the capacitor 24. When the amount of stored electricity is large, a regeneration inhibit flag is output in two stages; when the amount of stored electricity is small, a swing inhibit flag is output also in two stages.</p><p id="p0062" num="0062">Setting examples of the regeneration inhibit flag and swing inhibit flag are explained in reference to <figref idrefs="f0006">Figs. 10A</figref> and <figref idrefs="f0007">10B</figref>. <figref idrefs="f0006">Fig. 10A</figref> is a characteristic diagram showing an example in which a hydraulic-only mode switchover demand is output (setting example of the regeneration inhibit flag) on the hybrid-type construction machine as one embodiment of this invention, and <figref idrefs="f0007">Fig. 10B</figref> is a characteristic diagram showing another example in which the hydraulic-only mode<!-- EPO <DP n="34"> --> switchover demand is output (setting example of the swing inhibit flag) on the hybrid-type construction machine as one embodiment of this invention. Of the reference characters in <figref idrefs="f0006">Figs. 10A</figref> and <figref idrefs="f0007">10B</figref>, those already used in <figref idrefs="f0001 f0002 f0003 f0004 f0005 f0006">Figs. 1 through 9</figref> designate like or corresponding parts of which detailed explanations are omitted hereunder.</p><p id="p0063" num="0063">In <figref idrefs="f0006">Fig. 10A</figref>, when the capacitor voltage has increased to reach the threshold value Vmax of the regeneration inhibit region, the regeneration inhibit demand flag is turned ON to make a switchover to hydraulic-only mode. Thereafter, when the capacitor voltage drops to a central value Vcent of the normal use region through e.g. self-discharge, the regeneration inhibit flag is turned OFF to cancel hydraulic-only mode.</p><p id="p0064" num="0064">In <figref idrefs="f0007">Fig. 10B</figref>, when the capacitor voltage declines to reach the threshold value Vmin of the swing inhibit region, the swing inhibit flag is turned ON to make a switchover to hydraulic-only mode. In this case, work can be continued in hydraulic-only mode. To enable hydraulic/electric complex control again requires charging the capacitor 24 so that the amount of stored electricity in the capacitor 24 will fall within a predetermined range. There may be two methods for performing this kind of charging. One method involves setting up a separate charging circuit that charges the capacitor from the outside, and another method involves providing work mode (charging mode) in which charging is<!-- EPO <DP n="35"> --> made using the swing electric motor 25. Either of these methods may be utilized. The above-mentioned ON/OFF switching of the flags is made when swinging and operation are not carried out in order to reduce the sense of shock as much as possible during operation.</p><p id="p0065" num="0065">In addition to the control explained above in reference to <figref idrefs="f0006">Figs. 10A</figref> and <figref idrefs="f0007">10B</figref>, there may be adopted a control method for turning ON a second regeneration inhibit flag when a state is reached in which the capacitor voltage has attained a predetermined voltage value (e.g., Vfull) higher than the threshold value Vmax of the regeneration inhibit region. Since the state in which the capacitor voltage has reached Vfull is presumably one in which the capacitor 24 has developed an abnormality, the switchover from OFF to ON of the second regeneration inhibit flag is immediately made regardless of swing operation being carried out or not.</p><p id="p0066" num="0066">Also, the switchover from hydraulic/electric complex swing mode to hydraulic-only swing mode is made not only upon demand from the above-described energy management control block 82 but also when an abnormality has occurred in the electric system such as the power control unit 55, swing electric motor 25, and capacitor 24. In the latter case, the switchover from hydraulic/electric complex swing mode to hydraulic-only swing mode is carried out based on<!-- EPO <DP n="36"> --> the determination made by the abnormality monitoring/abnormality processing block 81.</p><p id="p0067" num="0067">The switchover between hydraulic/electric complex swing mode and hydraulic-only swing mode may incur a slight shock during operation typically due to valve switching operations performed on hydraulic circuits upon mode switchover. For this reason, if the nature of the error is not serious so that there is no urgency in switching the modes immediately, the switchover is made when neither swinging nor operation is performed or during idling with no operation carried out including by a front device. In case of abnormalities such as an inverter overcurrent which lead to system damage or incur serious troubles or a disaster, the electric system is immediately stopped and a switchover is made to hydraulic-only swing mode even during operation.</p><p id="p0068" num="0068">If the error signal has disappeared spontaneously or is cancelled by a suitable error handling process during hydraulic-only swing control, a return to hydraulic/electric complex swing mode is made when neither swinging nor operation is performed or during idling with no operation carried out including by the front device.</p><p id="p0069" num="0069">As described above, when the capacitor voltage has attained a predetermined regeneration inhibit value or a predetermined swing inhibit value, the drive mode of the upper swing structure 20 is switched from hydraulic/electric<!-- EPO <DP n="37"> --> complex swing mode to hydraulic-only swing mode. This allows the upper swing structure 20 to be driven continuously, whereby enhanced workability is maintained.</p><p id="p0070" num="0070">According to the hybrid-type construction machine as one embodiment of the present invention, the torque of the swing electric motor 25 is controlled to be supplemented with regard to the reference value. This makes it possible to keep the amount of stored electricity in the capacitor 24 as the electrical storage device within an appropriate range in consideration of service life. As a result, a hybrid-type construction machine is provided which permits swing operation without a sense of awkwardness compared with conventional construction machines and which does not require enlarging the capacity of the capacitor 24 acting as the electrical storage device.</p><p id="p0071" num="0071">Also according to the hybrid-type construction machine as one embodiment of this invention, when the amount of stored electricity in the capacitor 24 as the electrical storage device has attained a predetermined regeneration inhibit value or a predetermined swing inhibit value, the swing structure 20 is stopped from being driven or braked by the swing electric motor 25, and a switchover is made to the method whereby the swing structure 20 is driven and braked using solely the swing hydraulic motor 27. This makes it possible continuously to perform work with the construction machine.<!-- EPO <DP n="38"> --></p><p id="p0072" num="0072">Incidentally, with this embodiment, the additionally demanded output command is set to supplement the capacity voltage for both driving and braking of the swing electric motor 25. However, this is not limitative of the present invention. Alternatively, the command may be set only for driving or for braking depending on the system configured.</p></description><claims mxw-id="PCLM56982853" lang="EN" load-source="patent-office"><!-- EPO <DP n="39"> --><claim id="c-en-0001" num="0001"><claim-text>A hybrid-type construction machine comprising an engine (22), a hydraulic pump (41) driven by said engine (22), a swing structure (20), an electric motor (25) and a hydraulic motor (27) for driving said swing structure (20), a swing control lever (72) operated by an operator to drive said swing structure (20), an electrical storage device (24) for storing electrical energy to be supplied to said electric motor (25), and a controller (80) to which is input a signal reflecting the amount and direction of operation of said swing control lever (72) and which controls charging and discharging of said electrical storage device (24);<br/>
wherein said controller (80) includes a storage unit which stores a discharge command region to be set in accordance with the swing speed of said swing structure (20) with regard to the amount of stored electricity in said electrical storage device (24), and<br/>
a computing unit which, if the amount of stored electricity in said electrical storage device (24) reaches said discharge command region stored in said storage unit, computes an additional drive torque command value for increasing the amount of powering of said electric motor (25) in accordance with the amount of stored electricity in said electrical storage device (24), said computing unit further outputting said additional drive torque command value to said electric motor (25) to drive said swing structure (20).<!-- EPO <DP n="40"> --></claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>A hybrid-type construction machine comprising an engine (22), a hydraulic pump (41) driven by said engine (22), a swing structure (20), an electric motor (25) and a hydraulic motor (27) for driving said swing structure (20), a swing control lever (72) operated by an operator to drive said swing structure (20), an electrical storage device (24) for storing electrical energy to be supplied to said electric motor (25), and a controller (80) to which is input a signal reflecting the amount and direction of operation of said swing control lever (72) and which controls charging and discharging of said electrical storage device (24);<br/>
wherein said controller (80) includes a storage unit which stores a charge command region to be set in accordance with the swing speed of said swing structure (20) with regard to the amount of stored electricity in said electrical storage device (24), and<br/>
a computing unit which, if the amount of stored electricity in said electrical storage device (24) reaches said charge command region stored in said storage unit, computes an additional drive torque command value for increasing the amount of regeneration of said electric motor (25) in accordance with the amount of stored electricity in said electrical storage device (24), said computing unit further outputting said additional drive torque command value to said electric motor (25) to brake said swing structure (20).<!-- EPO <DP n="41"> --></claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>The hybrid-type construction machine according to claim 1 or 2,<br/>
wherein said controller (80) further includes a storage unit which further stores a normal use region as an optimal range in which to use said electrical storage device (24) with regard to the amount of stored electricity in said electrical storage device (24), and<br/>
a computing unit which, if the amount of stored electricity in said electrical storage device (24) falls within said normal use region stored in said storage unit, computes a torque command value for driving and braking said swing structure (20) in accordance with the amount and direction of operation of said swing control lever (72), said computing unit further outputting said torque command value to said electric motor (25).</claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>The hybrid-type construction machine according to any one of claims 1 through 3,<br/>
wherein said controller (80) further includes hydraulic-electric complex control means which computes an electric motor torque command based on said additional drive torque command value and on the torque command value for driving and braking said swing structure (20) in accordance with the amount and direction of operation of said swing control lever (72), and which outputs said electric motor torque command to said electric motor (25).<!-- EPO <DP n="42"> --></claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>The hybrid-type construction machine according to any one of claims 1 through 4,<br/>
wherein the additional drive torque command value for said electric motor (25) computed in accordance with the amount of stored electricity in said electrical storage device (24) varies in accordance with said amount of stored electricity given the same conditions under which said swing structure (20) is driven or braked, and<br/>
the amplitude of the varying torque is kept within 20 percent or less of a standardized total torque value obtained by adding up the torque of said electric motor (25) given the same conditions under which said swing structure (20) is driven or braked and the torque of said hydraulic motor (27).</claim-text></claim></claims><drawings mxw-id="PDW16671179" load-source="patent-office"><!-- EPO <DP n="43"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="164" he="191" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="44"> --><figure id="f0002" num="2"><img id="if0002" file="imgf0002.tif" wi="165" he="180" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="45"> --><figure id="f0003" num="3,4"><img id="if0003" file="imgf0003.tif" wi="165" he="232" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="46"> --><figure id="f0004" num="5,6"><img id="if0004" file="imgf0004.tif" wi="165" he="228" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="47"> --><figure id="f0005" num="7,8"><img id="if0005" file="imgf0005.tif" wi="165" he="232" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="48"> --><figure id="f0006" num="9,10A"><img id="if0006" file="imgf0006.tif" wi="165" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="49"> --><figure id="f0007" num="10B"><img id="if0007" file="imgf0007.tif" wi="119" he="90" img-content="drawing" img-format="tif"/></figure></drawings><search-report-data><doc-page id="srep0001" file="srep0001.tif" wi="165" he="232" type="tif"/></search-report-data><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
