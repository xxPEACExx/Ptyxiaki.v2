<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2681850-A1" country="EP" doc-number="2681850" kind="A1" date="20140108" family-id="45446040" file-reference-id="312919" date-produced="20180822" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146585654" ucid="EP-2681850-A1"><document-id><country>EP</country><doc-number>2681850</doc-number><kind>A1</kind><date>20140108</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-11805048-A" is-representative="NO"><document-id mxw-id="PAPP154847846" load-source="docdb" format="epo"><country>EP</country><doc-number>11805048</doc-number><kind>A</kind><date>20111223</date><lang>EN</lang></document-id><document-id mxw-id="PAPP200056429" load-source="docdb" format="original"><country>EP</country><doc-number>11805048.3</doc-number><date>20111223</date><lang>EN</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140556279" ucid="EP-2011074030-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>EP</country><doc-number>2011074030</doc-number><kind>W</kind><date>20111223</date></document-id></priority-claim><priority-claim mxw-id="PPC140556121" ucid="US-201161472023-P" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>201161472023</doc-number><kind>P</kind><date>20110405</date></document-id></priority-claim><priority-claim mxw-id="PPC140551746" ucid="US-201161496355-P" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>201161496355</doc-number><kind>P</kind><date>20110613</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-1897332844" load-source="docdb">H04L  25/02        20060101ALI20160908BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1897332845" load-source="docdb">H04L   1/00        20060101AFI20160908BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1897332846" load-source="docdb">H04J  11/00        20060101ALI20160908BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1897332847" load-source="docdb">H04B   1/7107      20110101ALI20160908BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1897332848" load-source="docdb">H04B   1/7083      20110101ALI20160908BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1897332849" load-source="docdb">H04L   5/00        20060101ALI20160908BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1858720454" load-source="docdb" scheme="CPC">H04W  36/20        20130101 LI20170105BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1858720455" load-source="docdb" scheme="CPC">H04W  36/0094      20130101 FI20170105BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1858720456" load-source="docdb" scheme="CPC">H04W  24/02        20130101 LA20170105BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1858720457" load-source="docdb" scheme="CPC">H04L  25/0228      20130101 LA20170105BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1858720458" load-source="docdb" scheme="CPC">H04L   5/0032      20130101 LI20170113BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1927408178" load-source="docdb" scheme="CPC">H04L  25/0236      20130101 LA20160611BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1927410186" load-source="docdb" scheme="CPC">H04J  11/0093      20130101 LI20160611BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1927411046" load-source="docdb" scheme="CPC">H04B   1/7083      20130101 LI20160611BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1927415920" load-source="docdb" scheme="CPC">H04J  11/005       20130101 LI20160611BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1927417322" load-source="docdb" scheme="CPC">H04B   1/7107      20130101 LI20160611BHEP        </classification-cpc><classification-cpc mxw-id="PCL2072234458" load-source="docdb" scheme="CPC">H04L   1/0036      20130101 LI20140424BHEP        </classification-cpc><classification-cpc mxw-id="PCL2072234856" load-source="docdb" scheme="CPC">H04L   1/0011      20130101 LI20140424BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132361595" lang="DE" load-source="patent-office">VERFAHREN ZUR INTERFERENZUNTERDRÜCKUNG UND VERFAHREN ZUR ERKENNUNG VON FEHLERHAFTEN NACHBARZELLMESSUNGEN</invention-title><invention-title mxw-id="PT132361596" lang="EN" load-source="patent-office">METHOD OF INTERFERENCE CANCELLATION AND METHOD OF DETECTION OF ERRONEOUS NEIGHBOUR CELL MEASUREMENTS</invention-title><invention-title mxw-id="PT132361597" lang="FR" load-source="patent-office">PROCÉDÉ D'ANNULATION DE BROUILLAGE ET PROCÉDÉ DE DÉTECTION DE MESURES ERRONÉES DE CELLULES VOISINES</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR919534118" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>BLACKBERRY LTD</last-name><address><country>CA</country></address></addressbook></applicant><applicant mxw-id="PPAR919513673" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>BLACKBERRY LIMITED</last-name></addressbook></applicant><applicant mxw-id="PPAR919015977" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>BlackBerry Limited</last-name><iid>101413722</iid><address><street>2200 University Avenue East</street><city>Waterloo, ON N2K 0A7</city><country>CA</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR919534555" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>BAHRENBURG STEFAN</last-name><address><country>CA</country></address></addressbook></inventor><inventor mxw-id="PPAR919507719" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>BAHRENBURG, STEFAN</last-name></addressbook></inventor><inventor mxw-id="PPAR919015486" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>BAHRENBURG, STEFAN</last-name><address><street>295 Phillip Street Ext. 72567</street><city>Waterloo, Ontario N2L 3W8</city><country>CA</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR919006823" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Moore, Barry</last-name><suffix>et al</suffix><iid>100051455</iid><address><street>Hanna Moore &amp; Curley 13 Lower Lad Lane</street><city>Dublin 2</city><country>IE</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="EP-2011074030-W"><document-id><country>EP</country><doc-number>2011074030</doc-number><kind>W</kind><date>20111223</date><lang>EN</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2012136286-A1"><document-id><country>WO</country><doc-number>2012136286</doc-number><kind>A1</kind><date>20121011</date><lang>EN</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS549828270" load-source="docdb">AL</country><country mxw-id="DS549827824" load-source="docdb">AT</country><country mxw-id="DS549828271" load-source="docdb">BE</country><country mxw-id="DS549754493" load-source="docdb">BG</country><country mxw-id="DS549751542" load-source="docdb">CH</country><country mxw-id="DS549831845" load-source="docdb">CY</country><country mxw-id="DS549831898" load-source="docdb">CZ</country><country mxw-id="DS549911153" load-source="docdb">DE</country><country mxw-id="DS549828272" load-source="docdb">DK</country><country mxw-id="DS549828273" load-source="docdb">EE</country><country mxw-id="DS549750398" load-source="docdb">ES</country><country mxw-id="DS549754494" load-source="docdb">FI</country><country mxw-id="DS549754495" load-source="docdb">FR</country><country mxw-id="DS549911154" load-source="docdb">GB</country><country mxw-id="DS549828282" load-source="docdb">GR</country><country mxw-id="DS549911155" load-source="docdb">HR</country><country mxw-id="DS549831899" load-source="docdb">HU</country><country mxw-id="DS549751543" load-source="docdb">IE</country><country mxw-id="DS549828283" load-source="docdb">IS</country><country mxw-id="DS549754496" load-source="docdb">IT</country><country mxw-id="DS549828284" load-source="docdb">LI</country><country mxw-id="DS549911156" load-source="docdb">LT</country><country mxw-id="DS549827825" load-source="docdb">LU</country><country mxw-id="DS549911157" load-source="docdb">LV</country><country mxw-id="DS549911158" load-source="docdb">MC</country><country mxw-id="DS549827830" load-source="docdb">MK</country><country mxw-id="DS549827831" load-source="docdb">MT</country><country mxw-id="DS549750399" load-source="docdb">NL</country><country mxw-id="DS549822749" load-source="docdb">NO</country><country mxw-id="DS549750400" load-source="docdb">PL</country><country mxw-id="DS549827832" load-source="docdb">PT</country><country mxw-id="DS549750433" load-source="docdb">RO</country><country mxw-id="DS549827833" load-source="docdb">RS</country><country mxw-id="DS549750434" load-source="docdb">SE</country><country mxw-id="DS549831900" load-source="docdb">SI</country><country mxw-id="DS549822754" load-source="docdb">SK</country><country mxw-id="DS549822755" load-source="docdb">SM</country><country mxw-id="DS549754505" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data><office-specific-data><eptags><ep-no-a-document-published>*</ep-no-a-document-published></eptags></office-specific-data></bibliographic-data><abstract mxw-id="PA100918986" ref-ucid="WO-2012136286-A1" lang="EN" load-source="patent-office"><p num="0000">Methods of interference cancellation are provided. Channel estimation is performed with or without interference cancellation. Methods of detection of erroneous neighbor cell measurements are provided. The channel estimates for neighbour cells are processed to identify unreliable measurements.</p></abstract><abstract mxw-id="PA101180165" ref-ucid="WO-2012136286-A1" lang="EN" source="national office" load-source="docdb"><p>Methods of interference cancellation are provided. Channel estimation is performed with or without interference cancellation. Methods of detection of erroneous neighbor cell measurements are provided. The channel estimates for neighbour cells are processed to identify unreliable measurements.</p></abstract><abstract mxw-id="PA100918987" ref-ucid="WO-2012136286-A1" lang="FR" load-source="patent-office"><p num="0000">La présente invention se rapporte à des procédés d'annulation de brouillage. Selon la présente invention, une estimation de voie est exécutée avec ou sans annulation de brouillage. La présente invention se rapporte d'autre part à des procédés de détection de mesures erronées de cellules voisines. Les estimations de voie relatives à des cellules voisines sont traitées afin d'identifier des mesures non fiables.</p></abstract><abstract mxw-id="PA101180166" ref-ucid="WO-2012136286-A1" lang="FR" source="national office" load-source="docdb"><p>La présente invention se rapporte à des procédés d'annulation de brouillage. Selon la présente invention, une estimation de voie est exécutée avec ou sans annulation de brouillage. La présente invention se rapporte d'autre part à des procédés de détection de mesures erronées de cellules voisines. Les estimations de voie relatives à des cellules voisines sont traitées afin d'identifier des mesures non fiables.</p></abstract><description mxw-id="PDES51854751" ref-ucid="WO-2012136286-A1" lang="EN" load-source="patent-office"><!-- EPO <DP n="3"/>--><p id="p0001" num="0001"> Method of Interference Cancellation and </p><p id="p0002" num="0002">Method of Detection of Erroneous Neighbour Cell Measurements </p><p id="p0003" num="0003">Related Applications This application claims the benefit of US Provisional Application</p><p id="p0004" num="0004">No. 61/472,023 filed April 5, 201 1 and US Provisional Application No. 61/496,355 filed June 13, 201 1 both hereby incorporated by reference in their entirety. </p><p id="p0005" num="0005">Field </p><p id="p0006" num="0006">The application relates to interference cancellation, and to methods of detecting erroneous neighbor cell measurements. </p><p id="p0007" num="0007">Background </p><p id="p0008" num="0008">In some existing systems, such as in TD-SCDMA (Time Division Synchronous Code Division Multiple Access), HCR (High Chip Rate Time Division Duplex) and VHCR (very HCR Time Division Duplex) systems, interference cancellation is used to cancel a serving cell's/other strong cell's signals from an overall signal for the purpose of preparing to measure receive power of a cell's signals, and in particular, for measuring of the RSCP (Received Signal Code Power) of the P-CCPCH (Primary Common Control Physical CHannel). </p><p id="p0009" num="0009">Regardless of whether interference cancellation is used or not the presence of (remaining) interference is a serious concern in CDMA systems, in particular the effect of such interference on the aforesaid measurements. The issue might arise that the remaining interference is covering up the measurement result such that it might become unusable. </p><p id="p0010" num="0010">Summary </p><p id="p0011" num="0011">According to one aspect of the present application, there is provided a method comprising: processing a signal to produce an interference cancellation 
<!-- EPO <DP n="4"/>-->
 component of a first cell; performing signal detection for a to be detected cell operating on a same frequency as the first cell based on the signal minus the interference cancellation component if the interference cancellation component has a power that is large enough compared to a total power of the signal as defined by a first threshold; performing signal detection for a to be detected cell based on the signal without having subtracted the interference component if the interference cancellation component has a power that is not large enough compared to the total power of the signal as defined by the first threshold. </p><p id="p0012" num="0012">In some embodiments, there is provided the method as summarized above wherein processing the signal to produce the interference cancellation component comprises: generating a channel estimate for the first signal using a cell- specific code of a first cell, the channel estimate comprising a plurality of taps; </p><p id="p0013" num="0013">removing certain taps from the channel estimate to produce a post-processed channel estimate; using the cell-specific code and the channel estimate with the certain taps removed to reconstruct the interference cancellation component; </p><p id="p0014" num="0014">wherein performing signal detection of a to be detected cell based on the signal minus the interference cancellation component comprises using a cell-specific code of the to be detected cell; and performing signal detection of a to be detected cell based on the signal without having subtracted the interference component comprises using the cell-specific code of the to be detected cell. </p><p id="p0015" num="0015">In some embodiments, there is provided the method as summarized above wherein removing certain taps comprises removing taps that each have a power that is small enough compared to the total power of the signal as defined by a second threshold. </p><p id="p0016" num="0016">In some embodiments, there is provided the method as summarized above wherein each of the taps other than the certain taps has a power that is large enough compared to the average power of taps other than the certain taps as defined by a second threshold. </p><p id="p0017" num="0017">According to another aspect of the present application, there is provided a method comprising: processing a signal to produce a channel estimate in 
<!-- EPO <DP n="5"/>-->
 respect of a first cell, the channel estimate comprising a plurality of taps; removing certain taps from the channel estimate to leave remaining taps and then producing an interference cancellation component from the remaining taps; performing first signal detection of a to be detected cell operating on a same frequency as the first cell based on the signal minus the interference cancellation component to produce a first signal detection result; performing second signal detection of the to be detected cell based on the signal without having subtracted the interference cancellation component to produce a second signal detection result; selecting between the first signal detection result and the second signal detection result. </p><p id="p0018" num="0018">In some embodiments, there is provided the method as summarized above wherein: performing first signal detection comprises performing channel estimation to produce a first channel estimate comprising a plurality of taps and removing certain taps to produce a first post-processed channel estimate; performing second signal detection comprises performing channel estimation to produce a second channel estimate comprising a plurality of taps and removing certain taps to produce a second post-processed channel estimate; selecting between the first signal detection result and the second signal detection result is based on: the power of taps in the first post-processed channel estimate; the power of taps in the second post-processed channel estimate; the average power of taps in the first channel estimate; and the average power of taps in the second channel estimate. </p><p id="p0019" num="0019">In some embodiments, there is provided the method as summarized above wherein selecting comprises: for the first signal detection, determining a ratio of a sum of powers of the taps remaining after removing certain taps to the average power of taps of the first channel estimate; for the second signal detection, determining a ratio of a sum of powers of the taps remaining after removing certain taps to the average power of taps of the second channel estimate; selecting the result with the larger ratio. </p><p id="p0020" num="0020">According to still another aspect of the present application, there is provided a method comprising: processing a signal to produce an interference cancellation component that is an estimate of a component of the signal that is due to a first cell by: generating a channel estimate for the first signal using a cell- specific code of a first cell to produce a channel estimate comprising a plurality of 
<!-- EPO <DP n="6"/>-->
 taps; removing certain taps from the channel estimate to produce a post-processed channel estimate; producing the interference cancellation component using post- processed channel estimate; performing channel estimation of a to be detected cell operating on a same frequency as the first cell based on the signal minus the interference cancellation component by: generating a channel estimate for the to be detected cell using a cell-specific code of the to be detected cell; removing certain taps from the channel estimate to produce a channel estimate with certain taps removed for the to be detected cell; the method further comprising at least one of: a) discarding the channel estimate with certain taps removed for the to be detected cell and/or reporting a lowest reportable value and /or processing a very small value and/or not reporting the channel estimate if a combined power of the taps of the channel estimate with certain taps removed that define a to be measured channel for the to be detected cell is below a total receive power for the signal by a threshold amount; and b) discarding the channel estimate with certain taps removed for the to be detected cell and/or reporting a lowest reportable value and /or processing a very small value and/or not reporting the channel estimate if a combined power of the taps of the channel estimate with certain taps removed for the first cell is small enough compared to a total receive power for the signal as defined by a threshold amount. According to yet another aspect of the present application, there is provided a method of processing a signal, the method comprising: obtaining a channel estimate for a cell, the channel estimate comprising a plurality of taps; </p><p id="p0021" num="0021">removing certain taps from the channel estimate; if a combined power of taps of the channel estimate after removing certain taps that define a to be measured channel is less than a certain threshold below an amount based on a total power of the signal, discarding the channel estimate for the cell and/or reporting a minimum reportable receive power and /or processing a very small value. </p><p id="p0022" num="0022">In some embodiments, there is provided the method as summarized above wherein removing certain taps from the channel estimate comprises using a regression approach to differentiate between the taps to be removed and the taps not to be removed. 
<!-- EPO <DP n="7"/>-->
 In some embodiments, there is provided the method as summarized above wherein using a regression approach comprises: sorting the plurality of taps into a sorted list; performing a regression on a subset of taps in a sorted list representing interference and noise to produce a regression result; removing taps that are not large enough compared to the regression result as defined by a threshold. </p><p id="p0023" num="0023">In some embodiments, there is provided the method as summarized above wherein the certain taps comprises taps that each have a power that is small enough compared to the total power of the signal as defined by a second threshold. </p><p id="p0024" num="0024">In some embodiments, there is provided the method as summarized above wherein taps other than the certain taps are those that each have a power that is large enough compared to the average power of the certain taps as defined by a second threshold. </p><p id="p0025" num="0025">In some embodiments, there is provided the method as summarized above, comprising: without first performing interference cancellation, a mobile device processing a signal to detect a ghost cell, a ghost cell being a cell with an unreliable measurement result as defined by ghost cell detection criteria; in case a ghost cell is detected, the mobile device systematically searching for cells and their midamble codes which are not in a neighbor cell list; for each cell found as a result of the systematic search, the wireless device applying interference cancellation of a component of the received signal due to the cell if a total received power as defined by a sum of taps of a post processed channel estimate of the cell is large enough as defined by a threshold compared to the overall received power of the midamble. </p><p id="p0026" num="0026">According to a further aspect of the present application, there is provided a method comprising: without first performing interference cancellation, a mobile device processing a signal to detect a ghost cell, a ghost cell being a cell with an unreliable measurement result as defined by ghost cell detection criteria; in case a ghost cell is detected, the mobile device systematically searching for cells and their midamble codes which are not in a neighbor cell list; for each cell found as a result of the systematic search, the wireless device applying interference 
<!-- EPO <DP n="8"/>-->
 cancellation of a component of the received signal due to the cell if a total received power as defined by a sum of taps of a post processed channel estimate of the cell is large enough as defined by a threshold compared to the overall received power of the midamble. In some embodiments, there is provided the method as summarized above, comprising: processing a signal to detect a cell in accordance with a ghost cell detection criteria, a ghost cell being a cell with an unreliable measurement result as defined by the ghost cell detection criteria; in case a cell is detected with the ghost detection threshold, determining that the cell is a ghost cell if the cell's BCCH (broadcast control channel) cannot be detected; determining that the cell is not a ghost cell if the cell's BCCH can be detected successfully. </p><p id="p0027" num="0027">According to still a further aspect of the present invention, there is provided a method comprising: processing a signal to detect a cell in accordance with a ghost cell detection criteria, a ghost cell being a cell with an unreliable measurement result as defined by the ghost cell detection criteria; in case a cell is detected with the ghost detection threshold, determining that the cell is a ghost cell if the cell's BCCH (broadcast control channel) cannot be detected; determining that the cell is not a ghost cell if the cell's BCCH can be detected successfully. </p><p id="p0028" num="0028">In some embodiments, there is provided the method as summarized above further comprising: where interference cancellation is employed in respect of a primary-common control channel of a to be cancelled cell, the method further comprising performing interference cancellation of at least one other channel transmitted by the to be cancelled cell. </p><p id="p0029" num="0029">In some embodiments, there is provided the method as summarized above wherein performing interference cancellation for at least one other channel known to be transmitted by the to be cancelled cell comprises performing </p><p id="p0030" num="0030">interference cancellation for at least one of S-CCPCH, PICH, FPACH (Secondary- Common Control Channe, Paging Indicator Channel, Fast Physical Access </p><p id="p0031" num="0031">Channel). 
<!-- EPO <DP n="9"/>-->
 In some embodiments, there is provided the method as summarized above further comprising: determining an overall receive power; determining a power associated with at least one midamble shift other than a midamble shift of interest, the at least one other midamble shift using the same basic midamble code as the midamble shift of interest; subtracting the power associated with the at least one midamble shift other than the midamble shift of interest from the overall receive power to produce a corrected total receive power, and using the corrected total receive power in place of the overall receive power. </p><p id="p0032" num="0032">In some embodiments, there is provided the method as summarized above further comprising: for a to be cancelled cell, determining the at least one midamble shift other than the midamble shift of interest from broadcast system information. </p><p id="p0033" num="0033">In some embodiments, there is provided the method as summarized above further comprising: for a to be cancelled cell, determining the at least one midamble shift other than the midamble shift of interest from already known behaviour of another nearby cell, based on an assumption that nearby cells will behave similarly. </p><p id="p0034" num="0034">In some embodiments, there is provided the method as summarized above further comprising adjusting the power associated with the at least one midamble shift other than the midamble shift of interest that is subtracted from the total receive power to produce a corrected total receive power by: determining a set of taps for the P-CCPCH (Primary-Common Control Channel); determining the power associated with the least one midamble shift using only taps that belong to the set of taps for the P-CCPCH. In some embodiments, there is provided the method as summarized above further comprising: determining a receive power associated with unused channel estimation windows; adjusting the power associated with the at least one midamble shift other than the midamble shift of interest that is subtracted from the total receive power to produce a corrected total receive power by: setting the power to zero if it is not larger than the power associated with the unused channel estimation windows by a threshold amount. 
<!-- EPO <DP n="10"/>-->
 In some embodiments, there is provided the method as summarized above further comprising: determining an average receive power associated with unused channel estimation windows; discarding the channel estimate for the cell and/or reporting a minimum reportable receive power and /or processing a very small value if it is not larger than the power associated with the unused channel estimation windows by a threshold amount. </p><p id="p0035" num="0035">In some embodiments, there is provided the method as summarized above further comprising: determining if a cell measurement is reliable or unreliable in accordance with a criteria that spans over multiple measurement intervals. </p><p id="p0036" num="0036">In some embodiments, there is provided the method as summarized above further comprising: processing a signal to detect a cell in accordance with a ghost cell detection criteria, ghost cell being a cell with an unreliable measurement result as defined by the ghost cell detection criteria; looking systematically for cells that are not included in a neighbor cell list, and if some are found, treating them as known cells, for the purpose of performing interference cancellation; at least one of: if no such cell is found found, then declaring the cell detected in accordance with the ghost detection criteria to be a ghost cell; if no such cell is found, attempting to detect a BCCH of the cell, and declaring the cell detected in accordance with the ghost detection criteria to be a ghost cell if the BCCH cannot be detected. In some embodiments, there is provided the method as summarized above further comprising: assigning one of two states to a cell, the two states being reliable_cell or ghost_cell; transitioning between the two states on the basis of a criteria applied to multiple consecutive measurements. </p><p id="p0037" num="0037">In some embodiments, there is provided the method as summarized above further comprising: recognizing when it is difficult to synchronize to a cell, and using such information to aid the identification of a ghost cell. </p><p id="p0038" num="0038">In some embodiments, there is provided the method as summarized above further comprising: when a ghost cell is detected with a high total receive power and no interference cancellation being performed, performing a systematic 
<!-- EPO <DP n="11"/>-->
 search for cells not included in a neighbor cell list, and if some are found treating them as known cells for the purpose of interference cancellation. </p><p id="p0039" num="0039">In some embodiments, there is provided the method as summarized above further comprising: attempting to read the BCCH of a cell in the neighbour cell list; in case the SNR on a carrier of the cell on the neighbour cell list would not allow the BCCH of the cell in the neighbor cell list to be detected with sufficient quality this cell is either not reported or reported at the option of the mobile device for neighbor cell measurements not being in need to be reported or reported with the minimum reportable RSCP for neighbor cell measurements which have to be reported. </p><p id="p0040" num="0040">In some embodiments, there is provided the method as summarized above further comprising: estimating an SNR of a to be detected/measured cell; in case the SNR on that carrier would not allow the BCCH of the cell in the neighbor cell list to be detected with sufficient quality this cell is either not reported or reported at the option of the mobile device for neighbor cell measurements not being in need to be reported or reported with the minimum reportable RSCP for neighbor cell measurements which have to be reported. In some embodiments, there is provided the method as summarized above further comprising: using the input of the channel estimation for a first cell as an input to performing channel estimation for a second cell. </p><p id="p0041" num="0041">In some embodiments, there is provided the method as summarized above wherein the method is performed in a user equipment. In some embodiments, there is provided the method as summarized above wherein the signal is a TD-SCDMA (time divisional- synchronized code division multiple access) signal. </p><p id="p0042" num="0042">In some embodiments, there is provided the method as summarized above wherein the signal is a HCR-TDD (High Chip Rate Time Division Duplex) signal. 
<!-- EPO <DP n="12"/>-->
 In some embodiments, there is provided the method as summarized above wherein the signal is a VHCR TDD (Very High Chip Rate Time Division Duplex) signal. </p><p id="p0043" num="0043">In some embodiments, there is provided the method as summarized above wherein the signal is a LTE (Long Term Evolution) signal. </p><p id="p0044" num="0044">In some embodiments, there is provided the method as summarized above wherein the signal is a GSM (Global System for Mobile Communications) signal. </p><p id="p0045" num="0045">In some embodiments, there is provided the method as summarized above wherein performing signal detection and channel estimation upon a signal in respect of a cell comprises using a cell-specific code of that cell. </p><p id="p0046" num="0046">In some embodiments, there is provided the method as summarized above wherein the cell-specific code is a midamble. </p><p id="p0047" num="0047">In some embodiments, there is provided the method as summarized above wherein the cell-specific code is a reference signal. </p><p id="p0048" num="0048">In some embodiments, there is provided the method as summarized above further comprising reporting a power measurement based on the channel estimate for cell. </p><p id="p0049" num="0049">In some embodiments, there is provided the method as summarized above wherein the power measurement is an RSCP (received signal code power) measurement. </p><p id="p0050" num="0050">In some embodiments, there is provided a mobile device configured to implement any one of the methods summarized above. </p><p id="p0051" num="0051">In some embodiments, there is provided a computer readable medium having stored thereon instructions for execution by one or more processors of a mobile device which when executed perform any one of the methods summarized above. 
<!-- EPO <DP n="13"/>-->
 Brief Description of the Drawings </p><p id="p0052" num="0052">Figure 1 is a plot of channel estimates using a correct midamble and an incorrect midamble; </p><p id="p0053" num="0053">Figure 2 is a flowchart of a method of performing channel estimation with selective interference cancellation; </p><p id="p0054" num="0054">Figure 3 is a flowchart of another method of performing channel estimation with selective interference cancellation; </p><p id="p0055" num="0055">Figure 4 is a flowchart of a method of performing channel estimation with detection of erroneous neighbour cell measurements; Figure 5 is a flowchart of a method of performing channel estimation with both selective interference cancellation and detection of erroneous neighbour cell measurements; </p><p id="p0056" num="0056">Figure 6 is a block diagram of a mobile device that performs channel estimation with selective interference cancellation; Figure 7 is a block diagram of a mobile device that performs channel estimation with detection of erroneous neighbour cell measurements; and </p><p id="p0057" num="0057">Figure 8 is a block diagram of a mobile device that performs channel estimation with selective interference cancellation and/or with detection of erroneous neighbour cell measurements; Figure 9 depicts simulation results for unknown interfering cell and no interference cancellation - static 1 tap channel; </p><p id="p0058" num="0058">Figure 10 depicts simulation results for known interfering cell and interference cancellation - static 1 tap channel; </p><p id="p0059" num="0059">Figure 1 1 depicts simulation results for unknown interfering cell and no interference cancellation - 2 tap equalizer test channel; 
<!-- EPO <DP n="14"/>-->
 Figure 12 depicts simulation results for known interfering cell and interference cancellation - 2 tap equalizer test channel; </p><p id="p0060" num="0060">Figure 13 depicts simulation results for unknown interfering cell and no interference cancellation - 4 tap equalizer test channel; Figure 14 depicts simulation results for known interfering cell and interference cancellation - 4 tap equalizer test channel; </p><p id="p0061" num="0061">Figure 15 depicts simulation results for unknown interfering cell and no interference cancellation - 4 tap equalizer test channel for detected cell and 1 tap for interfering cell; Figure 16 depicts simulation results for known interfering cell and interference cancellation - 4 tap equalizer test channel for detected cell and 1 tap for interfering cell; </p><p id="p0062" num="0062">Figure 17 depicts simulation results for unknown interfering cell and no interference cancellation - 8 tap equalizer test channel; Figure 18 depicts simulation results for known interfering cell and interference cancellation - 8 tap equalizer test channel; </p><p id="p0063" num="0063">Figure 19 depicts simulation results for AWGN and no interference; </p><p id="p0064" num="0064">Figure 20 depicts simulation results for static 8 tap equalizer test channel and no interference; </p><p id="p0065" num="0065">Figure 21 depicts simulation results for fading 8 tap equalizer test channel and no interference; </p><p id="p0066" num="0066">Figure 22 depicts simulation results for Rayleigh fading and no interference; </p><p id="p0067" num="0067">Figure 23 depicts simulation results for various interference cancellation corner cases; 
<!-- EPO <DP n="15"/>-->
 Figure 24 depicts simulation results for unknown interfering cell and no interference cancellation - static 1 tap channel; </p><p id="p0068" num="0068">Figure 25 depicts simulation results for known interfering cell and interference cancellation - static 1 tap channel; Figure 26 depicts simulation results for unknown interfering cell and no interference cancellation - 2 tap equalizer test channel; </p><p id="p0069" num="0069">Figure 27 depicts simulation results for known interfering cell and interference cancellation - 2 tap equalizer test channel; </p><p id="p0070" num="0070">Figure 28 depicts simulation results for unknown interfering cell and no interference - 4 tap equalizer test channel; </p><p id="p0071" num="0071">Figure 29 depicts simulation results for known interfering cell and interference cancellation - 4 tap equalizer test channel; </p><p id="p0072" num="0072">Figure 30 depicts simulation results for unknown interfering cell and no interference cancellation - 4 tap equalizer test channel for detected cell and 1 tap for interfering cell; </p><p id="p0073" num="0073">Figure 31 depicts simulation results for known interfering cell and interference cancellation - 4 tap equalizer test channel for detected cell and 1 tap for interfering cell; </p><p id="p0074" num="0074">Figure 32 depicts simulation results for unknown interfering cell and no interference cancellation - 8 tap equalizer test channel; </p><p id="p0075" num="0075">Figure 33 depicts simulation results for known interfering cell and interference cancellation - 8 tap equalizer test channel; </p><p id="p0076" num="0076">Figure 34 depicts simulation results for AWGN and no interference; </p><p id="p0077" num="0077">Figure 35 depicts simulation results for static 8 tap equalizer test channel and no interference; 
<!-- EPO <DP n="16"/>-->
 Figure 36 depicts simulation results for fading 8 tap equalizer test channel and no interference; </p><p id="p0078" num="0078">Figure 37 depicts simulation results for Rayleigh fading and no interference; and Figure 38 depicts simulation results for raw channel estimation output with various misalignments of the midamble. </p><p id="p0079" num="0079">Detailed Description </p><p id="p0080" num="0080">In some lab testing for routing area updates, experiments were conducted to examine a case in which the signal of the serving cell is made very small from one instant to another and in the same instant another cell's signal is made as strong as the previous serving cell's signal has been. For this experiment, both the serving cell and the new cell are assumed to work on the same frequency. Since both cells are on the same frequency, reselection from a first cell to a second cell on the same frequency can be referred to as intrafrequency cell reselection. In this situation, the device under test was not able to find the new cell and stayed with the previous cell whilst assuming that the previous cell is still in good condition. </p><p id="p0081" num="0081">Typically, the network supplies a neighbor cell list in respect of a serving cell. This neighbor cell list contains neighbor cells of the serving cell. In the field, there are often situations where due to the way network planning was conducted, the neighbor cell list in respect of a serving cell supplied by the network lists cells that can be much weaker than other cells on the same frequencies that are not included in the neighbor cell list. The result is that the device under test A) reports neighbor cells on these frequencies which are not there at all, or B) reports neighbor cells on these frequencies which are there, but which are heavily interfered with by the strong cells which are not included in the neighbor cell list on those frequencies, and in so doing reports an incorrect RSCP measurement. The same might be the case for a heavily interfered with serving cell. This may result in failed handovers and call drops. 
<!-- EPO <DP n="17"/>-->
 In TD-SCDMA, a given cell operates with an assigned frequency or frequencies from a set of available frequencies and an assigned midamble. In TD- SCDMA there are 128 basic midamble codes of length 128 available for assignment to the different cells. Cells with the same basic midamble code should not be able to be received on the same frequency. Appropriate radio network planning should ensure that no mobile device is receiving two cells on the same frequency and the same basic midamble code. The midamble code is used for channel estimation and differentiation of the cells. The transmitted TD-SCDMA signal has a midamble section during which the midamble is transmitted and a data section during which other channels are transmitted. </p><p id="p0082" num="0082">If channel estimation is performed for a cell operating on frequency F,, and (basic) midamble (code) M<sub>j</sub>, but using F, and M<sub>k</sub> for the channel estimation (i.e. the right frequency and the wrong midamble), the result looks like noise. A channel estimate for a cell for these purposes may be performed by performing correlation of a midamble portion of a received signal (what is assumed to be the midamble portion of the received signal) with the midamble code of the cell. In the absence of interference, this produces a set of taps, each having an amplitude and delay, that collectively represent the impulse response of the channel. Note that in some cases, a different cyclic shift of the midamble assigned to a given cell is transmitted to each mobile device; in this case, the mobile device uses an appropriate channel estimation window to detect the appropriate cyclic shifted midamble and its channel impulse response in the channel estimation window. </p><p id="p0083" num="0083">Figure 1 shows this result quite clearly. The channel estimate 20 is the result of the channel estimate derived from a pure received signal of the right midamble code. Each channel estimate 30 is the result of the wrong midamble code being used to derive the channel estimate. For channel estimate 20, there is one tap for the channel estimate - the other taps are so small that they are not visible on this graph. For channel estimates 30, these are noisy channel estimates in which the estimated taps have on average 1/128 of the power as the overall received signal; the tap position is in units of the CDMA chip duration. </p><p id="p0084" num="0084">Interference From Cells on Same Frequency: 
<!-- EPO <DP n="18"/>-->
 In the case of the channel estimation for intrafrequency cell reselection (cells operating on the same frequency as that of the serving cell), the interference from the serving cell's midamble and possibly other data signals is cancelled from the received signals such that the channel estimation of the intrafrequency neighbor cells is done with the resultant signal. </p><p id="p0085" num="0085">More generally, in the case of channel estimation for a second cell operating on a frequency, where there is a first cell (or cells) operating on the same frequency as that of the first cell, the interference due to the first cell's midamble and possibly due to other channel(s) transmitted from the first cell in the data section is cancelled from the received signals such that channel estimation of the second cell is done with the resulting signal. In the case, the first cell may be another known cell that is not necessarily the serving cell. </p><p id="p0086" num="0086">The following is an example of the steps which might be performed with the midamble portion of the to be detected signal and the midamble portion of a known to be cancelled signal: </p><p id="p0087" num="0087">1 . Channel estimation of the first received signal with the midamble of the known to be cancelled cell. </p><p id="p0088" num="0088">2. Post processing of the channel estimate by identifying taps containing only noise (e.g. lower than a threshold with respect to the overall RX power). These taps are removed from the channel estimate by setting them to zero. </p><p id="p0089" num="0089">3. Reconstructing the midamble and possibly the rest of the data signal of the known cell with the postprocessed channel estimate. In case the midamble of another cell is received, it usually has a different timing than that of the to be detected cell. This means that it could well be that a data section of a burst of the to be cancelled cell is overlapping with the midamble of the to be detected cell. In some embodiments, in order to benefit further from interference cancellation, the part of the data section overlapping with the to be detected midamble is cancelled as well. The result is subtracted from the first received signal to get a second received signal. This is quite effective in the case the known to be cancelled cell has almost the same or a lot higher power than the other cells. 
<!-- EPO <DP n="19"/>-->
 4. The to be detected cells are then detected by means of processing the second received signal with their midamble codes. </p><p id="p0090" num="0090">There may be a case where there is almost only noise/interference. This will be the case where the component from the known to be cancelled cell is very weak compared to the overall signal, or absent altogether. In this case, the channel estimate of the known cell looks like noise. In this case, it will not be possible to distinguish a useful channel impulse response in the channel estimate because the noise is then also creating very strong taps. Typically, the channel impulse response is viewed as containing only a few taps each with a small power. </p><p id="p0091" num="0091">A simple algorithm then will see only the random noisy channel impulse response taps and is not able to decide whether the channel estimate is useful or not. It will assume that it has a channel impulse response (CIR) with strong multiple path propagation and will only chose the very weak taps to be removed. Most of the taps will pass the post processing. </p><p id="p0092" num="0092">Note that at least one tap is to be removed because otherwise the interference cancelled midamble will be the same as the received midamble and the result after interference cancellation will be zero in the midamble section of the received signal. </p><p id="p0093" num="0093">The result is that the known cell has still a quite a large apparent noise power (for the RSCP measurement a channel estimation window of 16 of the 128 taps is taken - 9 dB below the received power of the first received signal if all 16 taps are considered). If this cell is then taken for interference cancellation the result will be that, the reconstructed signal is almost the same as the first received signal and the intrafrequency cell cannot be detected from the remaining debris of the received signal. In case an algorithm is not detecting this situation, a small result will be measured and reported even if the to be detected cell comes in very strong. In case the known cell is subject to measurement, a RSCP measurement result of about 9 dB below the interference plus noise would be reported- even if the cell is not there any more. 
<!-- EPO <DP n="20"/>-->
 Solutions to Measurement in the Presence of Cells on the Same Frequency </p><p id="p0094" num="0094">Selectively Perform Interference Cancellation </p><p id="p0095" num="0095">In a first embodiment, in case a known cell (such as a serving cell or another cell operating on the same frequency as the to be detected cell) could be interference cancelled from a first receive signal, interference cancellation is switched off if the known cell has a receive power (for example as determined by the sum of tap powers after the channel estimation) of less than or equal to a defined fraction (e.g. a defined fraction IC_threshold) of the overall receive power of the first receive signal, or is at least a defined amount less than the overall receive power. In other words, interference cancellation is only performed for a known cell whose power is large enough relative to the power of the first receive signal as defined by a threshold. Throughout this description, it is to be understood that a threshold can be a factor, for example a fractional factor, e.g. 20%, or a defined amount (in dB or other units). </p><p id="p0096" num="0096">Referring now to Figure 2, a flowchart of a method provided by an embodiment of the application will now be described. This method may, for example, be performed by a mobile device. The method begins in block 2-1 with processing a signal to produce an interference cancellation component that is an estimate of a component of the signal that is due to a first cell. The signal may, for example, be a received TD-SCDMA signal, but may alternatively be a signal from another standard, examples of which were provided in the background. The component due to the first cell may be a component from a serving cell, or from another known cell. The method continues in block 2-2 with performing signal detection (e.g. channel estimation) of a to be detected cell on the same frequency as that of the first cell based on the signal minus the interference cancellation </p><p id="p0097" num="0097">component if the interference cancellation component has a power that is large enough compared to the total power of the signal as defined by a first threshold. In block 2-3, if the interference cancellation component has a power that is not large enough compared to the total power of the signal as defined by the first threshold, signal detection of the to be detected cell is performed based on the signal without having subtracted the interference component. 
<!-- EPO <DP n="21"/>-->
 In some embodiments, processing the signal to produce the interference cancellation component of a first cell that is the to be cancelled cell involves the following steps: </p><p id="p0098" num="0098"> generating a channel estimate for the first signal using a cell-specific code of a first cell; </p><p id="p0099" num="0099"> post processing of the channel estimate by identifying certain taps and removing these taps from the channel estimate; </p><p id="p0100" num="0100"> using the cell-specific code (and possibly part of the rest of the data signal) with the postprocessed channel estimate to produce the interference cancellation component. </p><p id="p0101" num="0101">The cell-specific code may, for example, be the previously referenced midamble code, but other cell-specific codes may alternatively be employed. The specific form of the cell-specific code may differ depending upon the radio access technology and the part of the signal to be cancelled. </p><p id="p0102" num="0102">In some embodiments, identifying certain taps to be removed involves identifying taps that each have a power that is smaller than the total power of the first signal as defined by a second threshold. </p><p id="p0103" num="0103">Perform Channel Estimation with and without Interference Cancellation </p><p id="p0104" num="0104">In a second embodiment, channel estimation for a to be detected cell in the presence of a known cell operating on the same frequency is performed both with and without the interference cancellation step, and a decision is made on which channel estimate to use. The following is a specific example of how this decision might be made. A channel estimate of the known cell is generated, and post processing is performed to remove certain taps and an interference component is generated based on the post processed channel estimate for the known cell. A second signal is reconstructed by removing the interference component. Then the channel estimation for the to be detected cell is performed based on the second signal, and post processing is again performed to remove certain taps to produce a first post processed channel estimate for the to be detected cell. In addition, channel 
<!-- EPO <DP n="22"/>-->
 estimation for the to be detected cell is performed using the first signal without removing the interference component, and this is post processed by removing certain taps to produce a second post processed channel estimate. The sum of the powers of taps remaining after the postprocessing of the to be detected cell is determined for both the first post processed channel estimate and the second post processed channel estimate. For each post processed channel estimate, the ratio of the sum of powers of the remaining taps to the average/median power of the taps for the corresponding channel estimate with no post processing is determined. Then the channel estimate with the larger power ratio is selected. Other methods of selecting between the two results may alternatively be employed. </p><p id="p0105" num="0105"> Referring now to Figure 3, shown is a flowchart of a method provided by an embodiment of the application. The method begins with processing a signal to produce a channel estimate in respect of a first cell in block 3-1 . In block 3-2, the channel estimate is post-processed by identifying certain taps and removing these taps from the channel estimate to produce a post-processed channel estimate. In block 3-3, first signal detection of a to be detected cell is performed based on the signal minus an interference cancellation component of the first cell, and second signal detection of the to be detected cell is performed based on the signal without having subtracted the interference cancellation component of the first cell. In block 3-4, a selection is made between the first signal detection and the second signal detection, for example, using the method described above. In case there is no suitable known cell to perform interference cancellation with, signal detection is carried out without interference cancellation. Discard Unreliable Results </p><p id="p0106" num="0106">In a third embodiment, a decision is made as to whether the measurement result for a cell (the to be cancelled cell and/or the to be detected cell) has become unreliable. For example, if the combined power of the channel impulse response taps surviving the postprocessing (either the post processing that is performed to produce the interference cancellation component, or the post processing that is performed to produce the channel estimate for the to be detected cell, or both) is small enough compared to the overall receive power of the to be 
<!-- EPO <DP n="23"/>-->
 processed signal (first receive signal) as defined by a threshold, the measurement result may be considered unreliable. Here the threshold may differ depending on whether interference cancellation is being performed in the process to detect this cell or not. In the event the mobile device is required to report on the particular neighbour cell, the mobile device may report the lowest reportable receive power instead. In case the mobile device is required to process the result - in another algorithm for example - it can perform the processing using a very small power. Alternatively, the measurement result can be discarded altogether. In the event the mobile device is not required to report on the particular cell, the result may be either not be reported, or the mobile device can choose whether or not to report. This decision may be made on a context specific basis. For example, if reporting a single host cell on a frequency, there is the possibility of being handed over to that cell, and as such, the mobile device may choose not to report on that cell to prevent such a handover. On the other hand, if there is a report on a group of ghost cells having a similar power, this may have the effect of preventing the network from handing over. </p><p id="p0107" num="0107">The following is a specific example of a method based on the above embodiment using interference cancellation. Begin by processing a signal to produce an interference cancellation component that is an estimate of a component of the signal that is due to a first cell by: generating a channel estimate for the signal using a cell-specific code of a first cell; </p><p id="p0108" num="0108"> post processing of the channel estimate by identifying certain taps and removing these taps from the channel estimate to produce a post processed channel estimate for the first cell; producing the interference cancellation component using the post processed channel estimate. </p><p id="p0109" num="0109">Perform channel estimation of a to be detected cell operating on the same frequency as the first cell based on the signal minus the interference cancellation component by: 
<!-- EPO <DP n="24"/>-->
 generating a channel estimate for the to be detected cell using a cell- specific code of that to be detected cell; post processing of the channel estimate for the to be detected cell by identifying certain taps and removing these taps from the channel estimate to produce a post processed channel estimate for the to be detected cell; </p><p id="p0110" num="0110">The method further comprises at least one of: a) discarding the post processed channel estimate for the to be detected cell and/or reporting a lowest reportable value/other very small value and/or not reporting the channel estimate if a combined power of the taps of the post processed channel estimate for the to be detected cell is small enough compared to a total receive power for the signal by a threshold amount; and b) discarding the post processed channel estimate for the to be detected cell and/or reporting a lowest reportable value/other very small value and/or not reporting the channel estimate if a combined power of the taps of the post processed channel estimate for the first cell is small enough compared to a total receive power for the signal by another threshold amount. In the case of a) the post processed channel estimate for the to be detected cell is considered unreliable. In the case of b) the post processed channel estimate for the to be cancelled cell is unreliable which leads to the post processed channel estimate for the to be detected cell to also be considered unreliable, since interference cancellation based on an unreliable channel estimate was performed. </p><p id="p0111" num="0111"> Here optionally for the measurement of a specific power such as the</p><p id="p0112" num="0112">RSCP of the P-CCPCH the combination of power might be restricted to the channel estimation window of the P-CCPCH power. In later described embodiments the power of the channel estimates for other physical channels used together with the P- CCPCH on the same time slot will be taken into the equation as well. </p><p id="p0113" num="0113">In some cases, only a) is implemented, or only b) is implemented. In some cases, both a) and b) are implemented. In case of b) another estimate for the 
<!-- EPO <DP n="25"/>-->
 to be detected cell without interference cancellation might be generated or another cell to perform interference cancellation with may be found. </p><p id="p0114" num="0114">In some embodiments, a combination of one or more of the first, second, and third embodiments described above are implemented. </p><p id="p0115" num="0115">Figure 4 is a flowchart of another example. In block 4-1 , channel estimation is performed of the first received signal with the midamble of a to be detected neighbour cell. In block 4-2, the channel estimate is post processed by identifying certain taps (e.g. taps containing only noise, for example as determined by being small enough with respect to the overall receive power as defined by a threshold). These taps are removed from the channel estimate, for example by setting them to zero, to produce a post-processed channel estimate. The combined power of the remaining taps of the post-processed channel estimate is determined in block 4-3 and the overall power of the first signal is determined in block 4-4. If this combined power is small enough compared to the overall power of the first signal as defined by a threshold, then the results are discarded and/or a minimum value is reported, and/or not reporting the channel estimate (block 4-5). A cell that has an unreliable measurement result, for example as determined by the above-summarized method, is also referred to herein as a "ghost cell". If the combined power of the remaining taps is small enough compared to the overall power of the signal as defined by a threshold, also referred to as a ghost detection threshold, then the conclusion is reached that the cell is a ghost cell. The ghost detection threshold may be different for cases where interference cancellation has been employed (ghost detection threshold with IC) as opposed to cases where interference cancellation has not been employed (ghost detection threshold without IC). Note that this approach may also be applied to signal detection of a to be detected cell in the presence of interference from a known cell (serving cell or other cell) operating on the same frequency to determine whether the known cell is significantly present in the overall received signal; then interference cancellation is 
<!-- EPO <DP n="26"/>-->
 employed for the known cell or not based on this determination as described previously. In other words, the detection of a cell as being a ghost cell or not is used as a trigger for the decision to perform interference cancellation or not. The approach can be used to decide whether the measurement report for a to be detected cell, or a to be cancelled known cell or a to be cancelled unknown cell is unreliable. </p><p id="p0116" num="0116">Figure 5 is a flowchart of a specific example of a method that combines some of the methods described above. </p><p id="p0117" num="0117">Interference cancellation may or may not be performed. If it is, then yes path block 5-1 is followed. If it is not, then no path, block 5-1 is followed. </p><p id="p0118" num="0118">Assuming interference cancellation is performed, then in block 5-2, channel estimation of the to be cancelled signal is performed. In block 5-3, the channel estimate is post processed, for example by removing certain taps. The outcome of block 5-3 is the channel impulse response. In block 5-4, an assessment of whether the post processed channel estimate for the to be cancelled cell is reliable or not is made. If the post processed channel estimate is unreliable, then block 5-4, no path is followed which results in the method continuing at block 5-8 without subtracting out a component due to the to be cancelled cell. If the post processed channel estimate is reliable, then the method continues at block 5-6 with reconstructing a signal of the to be cancelled cell using the post processed channel estimate. </p><p id="p0119" num="0119"> Interference cancellation for additional cells may be performed in which case no path 5-7 is followed. Otherwise, channel estimation is performed for the to be detected signal at block 5-8. This can be post processed by removing certain taps that are considered to be noise. In blocks 5-9, 5-10, a decision is made as to whether the channel estimate for the to be detected cell is reliable or not based on whether or not "condition 1 " is fulfilled, as detailed below. If it is reliable (no path block 5-10), then the RSCP is calculated normally and reported. If it is not reliable (yes path, block 5- 10), then the RSCP is set to a lowest reportable value, or a very small value, or not reported at all. In Figure 5, block 5-4, the post processed channel estimate for the to be cancelled cell is determined to be reliable if the power of the taps of the post processed channel estimate is large enough compared to the overall power of the 
<!-- EPO <DP n="27"/>-->
 receive signal as defined by a threshold. In the specific example depicted, if the power of the received signal (the sum of the taps output in block 5-2) over the power of the taps of the post processed channel estimate (the sum of the taps output in block 5-3 (channel impulse response)), is less than an IC_threshold, then the post processed channel estimate is considered reliable. </p><p id="p0120" num="0120">Similarly, in block 5-10, the channel estimate for the to be detected cell is determined to be reliable if the power of the taps of the channel estimate is large enough compared to the overall power of the receive signal as defined by a threshold. Different thresholds may be applied depending on whether interference cancellation was employed or not. For example: </p><p id="p0121" num="0121">If interference cancellation (IC) has been applied, condition 1 is fulfilled and the result considered unreliable if: </p><p id="p0122" num="0122">RSCP &lt; (Ghost detection threshold with IC applied)<sup>*</sup> overall receive power of received signal) and receive power of receive signal &gt; (lower ghost detection bound)<sup>*</sup>thermal_noise_power </p><p id="p0123" num="0123">If IC has not been applied, condition 1 is fulfilled and the result considered unreliable if: </p><p id="p0124" num="0124">RSCP &lt; (Ghost detection threshold without IC applied)<sup>*</sup>overall receive power of receive signal and receive power of receive signal &gt; (lower ghost detection bound)<sup>*</sup>thermal_noise_power. </p><p id="p0125" num="0125">In the above, the RSCP is the sum of the taps remaining for the first midamble shift / first channel estimation window of interest in time slot zero. More generally, it can simply be the sum of a set of taps of interest. In some </p><p id="p0126" num="0126">embodiments, the ghost detection thresholds are only applied if the receive power is more than an amount "lower ghost detection bound" (for example 3 dB) greater than the thermal noise. This approach has been taken in the example of Figure 5. </p><p id="p0127" num="0127">Simulation Results 
<!-- EPO <DP n="28"/>-->
 Simulation results were obtained. In the following, the performance of the algorithm has been simulated with the following further improvements on the measurement procedure: </p><p id="p0128" num="0128">First improvement: When post processing a channel estimate (either for a to be detected cell or a to be cancelled cell), instead of deleting all the taps for the channel estimate which are less than a certain threshold below the overall received power the following algorithm was applied: a) Set the result vector to zero b) Calculate the average power of all the channel impulse response vector c) Find the strongest channel impulse response tap d) If the strongest channel impulse response tap is stronger large enough as defined by a threshold compared to the average power of the remaining channel impulse response taps take this tap over to the result vector, remove this tap from the channel impulse response vector and calculate the average power of the remaining channel impulse response taps in the channel impulse response vector. Go to step c) e) If the condition of d) is not fulfilled terminate the post processing and thus discard all the remaining channel impulse response taps. </p><p id="p0129" num="0129">The result is that each of the taps other than the certain taps has a power that is large enough compared to the average power of taps other than the certain taps as defined by the threshold. </p><p id="p0130" num="0130">Second Improvement: The average power of all the taps being discarded in the first improvement described above is determined. The power of all the remaining channel impulse response taps is adjusted downward by that average for the purpose of generating RSCP measurements. </p><p id="p0131" num="0131">On the discarded taps there is the assumption that only noise is on them. Since usually more than one tap is discarded the result can be averaged. 
<!-- EPO <DP n="29"/>-->
 On the taps surviving the post processing (i.e. the ones that are not discarded) there is both noise and signal on them. When determining the RSCP measurement, the noise power can be removed from the surviving taps by subtracting the average noise power from each of the surviving taps power to produce noise-adjusted surviving taps and the RSCP is then determined by summing the noise-adjusted surviving taps. </p><p id="p0132" num="0132">Definitions and Parameters for Simulations </p><p id="p0133" num="0133">Definition of Ghost Cell: </p><p id="p0134" num="0134">For these simulations, a ghost cell is a cell with an unreliable RSCP result. A more general definition of a ghost cell was presented above. Once all the channel impulse response taps have been discarded (set to 0) this is considered a ghost cell as well. The RSCP is measured on the 16 taps of midamble shift 1 in TSO. </p><p id="p0135" num="0135">The standard channel estimation algorithm and a simple interference cancellation algorithm has been chosen to simulate the performance of this algorithm. The parameters of this algorithm have been optimized for the purpose of RSCP measurements. For the purpose of detection processes another set of parameters has to be chosen. </p><p id="p0136" num="0136">The chosen parameters are the following: </p><p id="p0137" num="0137">Detected midamble The to be detected midamble has the code 48. </p><p id="p0138" num="0138">Interfering midamble </p><p id="p0139" num="0139">The interfering midamble has the code 49. </p><p id="p0140" num="0140">Detection threshold for the to be detected midamble: </p><p id="p0141" num="0141">This is the threshold for the first improvement described above for the channel estimation of the cells to be detected. It is set to 8 dB. </p><p id="p0142" num="0142">Detection threshold for to be cancelled midamble: 
<!-- EPO <DP n="30"/>-->
 This is the threshold for the first improvement described above for the channel estimation of the cells to be cancelled. It is set to 10 dB. Since IC only makes sense once the cells to be cancelled are very strong it is set to a tougher value than for the to be detected midamble. IC threshold </p><p id="p0143" num="0143">Interference cancelling is not used once the interfering cell is not in the neighbor cell list/or it is not the serving cell. In case a known cell could be cancelled, IC is switched off if the to be cancelled cell has an RX power (sum of tap powers after the channel estimation) of less than or equal to 3 dB of the overall RX power. Ghost detection threshold without IC applied </p><p id="p0144" num="0144">For the case that no IC is applied the cells with a RSCP that is an amount "ghost detection threshold without IC applied" (for example 10 dB or more in the simulations) less than the RX power of the RXed midamble are considered as ghost cells. Ghost detection threshold with IC applied </p><p id="p0145" num="0145">For the case that IC is applied the cells with a RSCP that is an amount "ghost detection threshold with IC applied" (for example 35 dB or more in the simulations) less than the RX power of the RXed midamble are considered as ghost cells. This threshold is depending on the AD word width and the processing word width. </p><p id="p0146" num="0146">Lower ghost detection bound </p><p id="p0147" num="0147">In some embodiments, the ghost detection thresholds are only applied if the RX power is large enough compared to thermal noise as defined by an amount "lower ghost detection bound" (for example 3 dB in the simulations). In the simulations, the thermal noise has an RX power of 0 dB. </p><p id="p0148" num="0148">Not simulated brute force algorithms: 
<!-- EPO <DP n="31"/>-->
 1 . In case a ghost cell is detected with the ghost detection threshold and no IC is used the mobile device could systematically search for the cells and their midamble codes which are not in the neighbor cell list and in case they are strong enough apply IC with them. This approach would find the interferer which is unknown to the receiver once the ghost cell is detected. </p><p id="p0149" num="0149">2. In case a ghost cell is detected with the ghost detection threshold it is only assumed to be a ghost cell once its BCCH cannot be detected successfully. That means in case the BCCH can be ready the cell is there with sufficient strength to be detected and is thus no ghost cell. 3. In some embodiments, once the algorithm looks systematically for cells not being in the neighbor cell list (e.g. in case there is a ghost cell) and finds none then either the ghost cell is finally detected or a detection of the BCCH is attempted to determine whether it is a ghost cell. </p><p id="p0150" num="0150">Equations These are the equations for a simple channel estimation algorithm for TD- SCDMA: (other standards HCR_TDD and VHCR-TDD have different </p><p id="p0151" num="0151">parameters) unfiltered = ifft(fft(input))./fft(to_be_detected_midamble) (1 ) </p><p id="p0152" num="0152">Where ./ means the division of the vector elements and input and to_be_detected_midamble are vectors of length 128. fft and ifft are the Fourier Transformation and the inverse Fourier Transformation respectively. </p><p id="p0153" num="0153">After that, postprocessing is performed by creating a vector result which is the vector unfiltered with all the elements: </p><p id="p0154" num="0154">I \unfiltered<sub>i</sub> |2 </p><p id="p0155" num="0155"> unfiltered- if - — &gt;= detection threshold </p><p id="p0156" num="0156">result, = &lt; interfer P <sup>"</sup> (2) </p><p id="p0157" num="0157"> 0 else where 
<!-- EPO <DP n="32"/>-->
 
<img id="imgf000032_0001" he="7" wi="24" file="imgf000032_0001.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="no"/>
 </p><p id="p0158" num="0158">lnterter P = — </p><p id="p0159" num="0159">(3) is the interference power of all the CIR taps being cancelled in the preprocessing process. </p><p id="p0160" num="0160">The solution to (2) and (3) is first sorting the unfiltered channel impulse response according to the absolute value, setting result to be the zero vector, then calculating the interfere_P assuming that all elements of the vector result are 0, then applying the condition of the strongest unfiltered element. </p><p id="p0161" num="0161">If the equation(2) is fulfilled making the strongest unfiltered element part of the result vector - if not setting the corresponding element and all the remaining elements of the result vector to zero. </p><p id="p0162" num="0162">Then update interfere_P (3) and then working with the second strongest element in the vector unfiltered and so on until the condition is not fulfilled any more. detection_threshold is either the "Detection threshold for the to be detected midamble" of the "Detection threshold for the to be cancelled midamble" depending on whether IC is used or not. </p><p id="p0163" num="0163">Note there are different result vectors for the to be cancelled midamble and the to be detected midamble. </p><p id="p0164" num="0164">These equations apply for the interference cancellation algorithm: re suit (midamble to be cancelled signal) is the result if the channel estimation with the detection_threshold set to the "detection threshold with IC" 
<img id="imgf000032_0002" he="7" wi="37" file="imgf000032_0002.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="no"/>
 </p><p id="p0165" num="0165">total _power =— (4) </p><p id="p0166" num="0166"> 128 is the total RX power of the 1 <sup>st</sup> RX signal in the midamble portion of the to be cancelled cell. In case the timing of the to be detected cell and the to be cancelled 
<!-- EPO <DP n="33"/>-->
 cell is different a different total_power has to be used for both and their respective midamble portions have to be taken. </p><p id="p0167" num="0167">And power_to_cancel =
<img id="imgf000033_0001" he="7" wi="36" file="imgf000033_0001.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="no"/>
 to be _ cancelled _ signal))<sub>i</sub> (5) The power of the to be cancelled signal. </p><p id="p0168" num="0168">If </p><p id="p0169" num="0169">(total_power/power_to_cancel) &gt; IC_threshold (6) is fulfilled then create the 2<sup>nd</sup> RX signal with: </p><p id="p0170" num="0170">(2<sup>nd</sup> RX signal)=(1<sup>st</sup> RX signal)- conv(reconstructed_signal_to_be_cancelled,result(midamble_to_be_cancelled_sign al)) (7) </p><p id="p0171" num="0171">The "reconstructed signal to be cancelled" is calculated by detecting the burst of the interfering cell and recreating the transmitted signal of the </p><p id="p0172" num="0172">transmitting node B. Here shortcuts might be taken e.g. by only reconstruction (parts of) the signal overlapping with the midamble to be detected. conv(x,y) is the convolution of the two vectors x and y. </p><p id="p0173" num="0173">If (6) is not fulfilled (8) is applied. </p><p id="p0174" num="0174">(2<sup>nd</sup> RX signal)=(1<sup>st</sup> RX signal) (8) </p><p id="p0175" num="0175">Then the 2<sup>nd</sup> RX signal is the input signal of the channel estimation algorithm described above. </p><p id="p0176" num="0176">These equations apply for the RSCP measurement: </p><p id="p0177" num="0177">The vector of the channel impulse response power is created by manipulating the individual elements of the result like this: </p><p id="p0178" num="0178">I |2 </p><p id="p0179" num="0179"> CIR power ) = \result<sub>i</sub> - interfer_P (9) 
<!-- EPO <DP n="34"/>-->
 With result and interfer_P being the solutions to (2) and (3) for the step creating the CIR of the to be measured cell. </p><p id="p0180" num="0180">Then the RSCP is </p><p id="p0181" num="0181">16 16 </p><p id="p0182" num="0182"> result , // result , ) * (ghost detection threshold) &gt;= total _power </p><p id="p0183" num="0183"> /=1 i=l </p><p id="p0184" num="0184"> RSCP or total jDower &lt;= (lower ghost detection bound) (10) </p><p id="p0185" num="0185"> 0 else </p><p id="p0186" num="0186">where the ghost detection threshold is either the one with IC or the one without IC depending whether IC has been applied before. </p><p id="p0187" num="0187">4 Simulations and their Discussion </p><p id="p0188" num="0188">There are two kinds of simulations performed: </p><p id="p0189" num="0189">1 . Simulations with interfered to be measured cells. There the RX power of the to be measured cell should be 55 dB. The simulations are run versus the ISR (Interference to Signal Ratio). An ISR of 10 dB means that the interfering cell is 10 dB stronger than the to be measured cell. In these simulations for each point the phase offsets 1 - 360 degree in-between interfering cell and measured cell have been taken. In case of fading channels the RX powers have been normalized such that instantaneous ISRs are measured. </p><p id="p0190" num="0190"> Otherwise the fading statistics would overlay the simulation results. </p><p id="p0191" num="0191">2. Simulations without interfering cells. Here the effect of the thresholds and measurement procedures on normal measurements is studied. The simulations are run versus the SNR. The noise power is held at a level of 0 dB. The SNR is the average SNR in case of a fading channel being used. 400 independent snapshots per point have been made. </p><p id="p0192" num="0192">For each campaign 3 results are obtained: </p><p id="p0193" num="0193">1 . The measured RX power in dB versus SNR or ISR </p><p id="p0194" num="0194">2. The standard deviation of the measured RX power in dB versus SNR or ISR 
<!-- EPO <DP n="35"/>-->
 3. The percentage of the ghost cells being detected versus SNR or ISR </p><p id="p0195" num="0195">Not simulated improvements: </p><p id="p0196" num="0196">Once the detection threshold for the to be detected midamble is set to 6 dB the results without interference look better: less bias at low SNRs and less ghost cells detected. </p><p id="p0197" num="0197">If this behavior is desired, change the detection threshold for the to be detected midamble from 8 dB to 6 dB once the total TX power falls below the Lower ghost detection bound. </p><p id="p0198" num="0198">Figure 9 depicts simulation results where there is an unknown interfering cell and no interference cancellation, and a static 1 tap channel is assumed. Here the ghost cell detection algorithm almost works perfectly. At 10 dB ISR the algorithm cuts off. At that point the measured RX power is not significantly higher than it should be. </p><p id="p0199" num="0199">Figure 10 depicts simulations results where there is a known interfering cell and interference cancellation, and a static 1 tap channel is assumed. The algorithm works perfect: Cut off at 35 dB and almost no standard deviation once the interference cancellation is switched off (0 dB ISR). </p><p id="p0200" num="0200">Figure 1 1 depicts simulation results where there is an unknown interfering cell and no interference cancellation, and a 2 tap equalizer test channel is assumed. The 2 tap equalizer test channel applies for both detected cell and interfering cell. It can be seen that the zone where the ghost cells are beginning to be detected is widening up. This is to be expected since for cases where both detected taps have about the same RX power their individual RX power is only half as big as for the 1 tap case. It is noted that the RX power and the standard deviation is only taking the cells into account which are detected as no ghost cells. </p><p id="p0201" num="0201">Figure 12 depicts simulation results where there is a known interfering cell and interference cancellation, and a 2 tap equalizer test channel is assumed. The algorithms works still perfect but the standard deviation is greater than for the 1 tap channel. 
<!-- EPO <DP n="36"/>-->
 Figure 13 depicts simulation results where there is an unknown interfering cell and no interference cancellation, and a 4 tap equalizer test channel is assumed. The 4 tap equalizer test channel applies for both detected cell and interfering cell. It can be seen that the zone where the ghost cells are beginning to be detected is widening up more. This is to be expected since for cases where both detected taps have about the same receive power their individual RX power is only a quarter as big as for the 1 tap case. It is noted that the RX power and the standard deviation is only taking the cells into account which are detected as no ghost cells. It is also noted that a 4 tap equalizer test channel is quite unrealistic already. In any case even though 1 or 2 % of all ghost cells are not detected this seems to be indicate the limit of this algorithm. </p><p id="p0202" num="0202">Figure 14 depicts simulation results where there is a known interfering cell and interference cancellation, and a 4 tap equalizer test channel is assumed. It can be seen that there is a greater standard deviation, but that in general, the approach is still working fine. </p><p id="p0203" num="0203">Figure 15 depicts simulation results where there is an unknown interfering cell and no interference cancellation, and a 4 tap equalizer test channel for detected cell and 1 tap for interfering cell area assumed. Once the more realistic scenario is simulated that the interferer has just 1 tap the result is looking fine again. Figure 16 depicts simulation results where there is a known interfering cell and interference cancellation, and a 4 tap equalizer test channel for detected cell and 1 tap for interfering cell are assumed. No problem. </p><p id="p0204" num="0204">Figure 17 depicts simulation results where there is an unknown interfering cell and no interference cancellation, and an 8 tap equalizer test channel is assumed. The 8 tap equalizer test channel applies for both detected cell and interfering cell. It can be seen that the zone where the ghost cells are beginning to be detected is widening up most. This is to be expected since for cases where both detected taps have about the same RX power, their individual RX power is only an eighth as big as for the 1 tap case. It is noted that the RX power and the standard deviation is only taking the cells into account which are detected as no ghost cells. It is noted that an 8 tap equalizer test channel is unrealistic. In any case even though 
<!-- EPO <DP n="37"/>-->
 1 or 2 % of all ghost cells are not detected this seems to indicate the limit of this algorithm. </p><p id="p0205" num="0205">Figure 18 depicts simulation results where there is a known interfering cell and interference cancellation, and an 8 tap equalizer test channel is assumed. Figure 19 depicts simulation results for AWGN and no Interference.</p><p id="p0206" num="0206">With negative SNR the algorithm becomes impaired by noise. With too low SNR ghost cells are detected because no useful channel impulse response tap can be detected inside the channel estimation window. The result is becoming biased below -10 dB SNR. That would be the case if no modifications would have been applied anyway. </p><p id="p0207" num="0207">Figure 20 depicts simulation results for a static 8 tap equalizer test channel and no interference. With negative SNR a ditch can be seen with 8 taps having the same power each tap is having only 1/8<sup>th</sup> of the power as in AWGN. Some taps are overshadowed by noise. Figure 21 depicts simulation results where there is a fading 8 tap equalizer test channel and no interference. Due to the fading nature of the channel more ghost cells are detected once the fading lets the cell drop below the noise level. This is normal. </p><p id="p0208" num="0208">Figure 22 depicts simulation results where there is Rayleigh fading and no interference. Due to the strongest fading nature of the channel even more ghost cells are detected once the fading lets the cell drop below the noise level. This is normal. </p><p id="p0209" num="0209">Figure 23 depicts simulation results for various interference corner cases. Based on observations of the logs from the field trials, it was observed that the IC algorithm might be responsible for some call drops as well. In this case the serving cell is impaired by a strong intracell interferer not being in the neighbor cell list. The radio link is established in fine conditions. After a while the interferer is falsifying the measurement results. The serving cell is measured with a high power and the IC reduces the RX power of the intra-neighbor cells in the neighbor cell list to a low power. Since the call is not on TS0 this situation stays undetected until the 
<!-- EPO <DP n="38"/>-->
 interfering cell is opening a call in the used DL TS. Then the interference in the traffic TS is causing RLF. </p><p id="p0210" num="0210">It has been tried to model this situation with the following additional settings: 1 . Adding thermal noise at 0 dB power. </p><p id="p0211" num="0211">2. Reducing the RX power of the to be detected cell to 25 dB above the thermal noise power. </p><p id="p0212" num="0212">3. Using static channels </p><p id="p0213" num="0213">We show only the RX power versus the ISR for the 4 sets of parameters: Case 1 : parameters as suggested before. </p><p id="p0214" num="0214">Case 2: following parameters changed: </p><p id="p0215" num="0215">Detection threshold for to be cancelled midamble 7 dB (letting more taps to be considered for the IC process) </p><p id="p0216" num="0216">IC threshold 30 dB (IC is not disabled based on the total RX power) Case 3: following parameters changed: </p><p id="p0217" num="0217">Detection threshold for to be cancelled midamble 6 dB (letting more taps to be considered for the IC process) </p><p id="p0218" num="0218">IC threshold 30 dB (IC is not disabled based on the total RX power) </p><p id="p0219" num="0219">Case 4: following parameters changed: Detection threshold for to be cancelled midamble 5 dB (letting more taps to be considered for the IC process) </p><p id="p0220" num="0220">IC threshold 30 dB (IC is not disabled based on the total RX power) </p><p id="p0221" num="0221">From the results it can be seen that case 1 is fine. Case 2 is showing signs of deterioration. 
<!-- EPO <DP n="39"/>-->
 Cases 3 and 4 show a significant power reduction of the very strong to be detected cell. The same is seen for the RSCPs of the intra neighbor cells in the traces. The assumption is that the current IC algorithm is having a detection threshold which is variable: High for high SNR in the CIR and low for low SNR in the CIR. </p><p id="p0222" num="0222">Additional Interference from Other Signals </p><p id="p0223" num="0223">In some embodiments, the signal detection is performed on the basis of a sequence that is transmitted by the base station at the same time that other signals are transmitted by the base station, with code channelization being used to distinguish between the various signals. The other signals are transmitted with different channelization codes but with the same sequence (e.g. midamble) using a different cyclic shift. This enables the related interference of these codes to be invisible for the to be measured channel impulse response (e.g. the ones used for the P-CCPCH). Recall a ghost cell is a cell with an unreliable measurement result. The following is another example of a ghost cell detection criterion. </p><p id="p0224" num="0224">Ghost detection threshold: a cell with a power of a to be detected power of the P-CCPCH channel impulse response (RSCP) (more generally the power of a sequence for signal detection, for example in the first channel estimation window) within a received signal that is smaller than the total receive power (or the total corrected receive power where correction is applied) of the received signal during the midamble period as defined by a threshold (more generally during the period of the sequence for signal detection) is considered to be a ghost cell. </p><p id="p0225" num="0225">For example, in TD-SCDMA networks, the sequence for signal detection is the midamble, and the midamble for signal detection purposes is be transmitted on the P-CCPCH on time slot 0 (TSO) using the first two channelization codes, while at the same time (i.e. during TSO) one or more of S-CCPCH, PICH and FPACH are also transmitted using respective channelization codes using a different 
<!-- EPO <DP n="40"/>-->
 midamble shift than the P-CCPCH. These channels are usually allocated with a default midamble allocation and K=4, where "K=4" means that 4 midamble shifts are employed, and there is a default mapping between the midamble shifts and the channelization codes. Other mappings may alternatively be employed. The content of TSO can be specified in system information, for example in SIB (system </p><p id="p0226" num="0226">information block) 5. </p><p id="p0227" num="0227">Once a mobile station detects this to be the case for one cell, it can also be assumed to be the case for the other cells in the same area. It is the nature of these channels that they do not appear all the time. Some (FPACH (e.g. 1 code) and S-CCPCH (e.g. 3 codes) for DCCH/DTCH) might be beamformed but PICH and S-CCPCH for CCCH are transmitted in an omni cell fashion. In the best case the P- CCPCH has TSO on its own and in the worst case, assuming a scaling of the powers of the midamble shifts according to the number of used codes there is 3 times more power on the midamble of TSO (and not only there). The power of a midamble shift is the same as the power of the codes used with it (multiple codes might use the same midamble shift). It is assumed that the power of the codes is all the same to reach the cell edge with all codes. There are 2 codes for the P-CCPCH, e.g. 3 codes for the S-CCPCH, e.g. 1 code for the FPACH, for a total of 6 codes altogether - three times as many codes as if there were only 2 for the P-CCPCH. Since then there are 3 times more codes there is 3 times more power than in the best case where there is the P-CCPCH alone on TSO. </p><p id="p0228" num="0228">Additional interference cancellation of components due to a to be cancelled cell: </p><p id="p0229" num="0229"> In a case the other channels are used in a known or an unknown neighbour cell, there will be more interference from the known and unknown neighbor cells. This is up to e.g. 5 dB (3 times) more. In the simulations below, the ISR (Interference to Signal Ratio) reflects the ratio of the P-CCPCH powers only. This reflects that normally the cells are transmitting the P-CCPCH alone. For the worst case the graphs will be shifted by 5 dB or more towards lower ratios. The additional interference will have the same properties as for the P-CCPCH case apart from the increase in power. 
<!-- EPO <DP n="41"/>-->
 In some embodiments, for the interference cancellation algorithms, the additional paths (also referred to as taps) for the additionally used midamble shifts of a to be cancelled cell are cancelled from the received signal as well. This is done as described before (Estimation of the interferer, identification of the noise in the estimate, then reconstruction the receive signal of the to be cancelled cell and subtracting it from the receive signal). However, with each of the paths being cancelled also a fraction of the power of the to be detected midamble is taken away. It has to be expected that the estimation of the to be detected midamble power will be more biased than before. </p><p id="p0230" num="0230">Removal of contributions to total receive power due to other channels of to be detected cell: </p><p id="p0231" num="0231"> The total receive power may, for example, initially be calculated as the sum of the powers of the samples divided by the number of samples. For the case of interference cancellation, this is done before interference cancellation. </p><p id="p0232" num="0232">There are other midamble shifts that may simultaneously be used in the to be detected cell. Since the channel estimation algorithm is unbiased, the P- CCPCH channel impulse response can be detected as before. However once other midamble shifts are used, their power will also contribute to the overall receive power and thus without any other change more ghost cells are detected, since the ghost cell detection is a function of the power of the to be detected cell compared to the overall received power. Keep in mind here there the ghost detection threshold is different depending on whether interference cancellation is performed or not. </p><p id="p0233" num="0233">In some embodiments, the other midamble shifts of the to be detected cell are considered for the ghost cell detection by performing subtraction of the power of the other midamble shifts (the ones not belonging to the P-CCPCH) from the total receive power before applying the ghost detection threshold. </p><p id="p0234" num="0234">An assumption is made that the other channel estimation windows associated with other midamble shifts (for example 4 channel estimation windows 
<!-- EPO <DP n="42"/>-->
 associated with K=4 shifts) could contain used midamble shifts. If this approach is taken, there are three potential errors that may result: a. There are midamble shifts detected which are not there. Subtracting an amount from the received power associated with a midamble shift that is not there will reduce the received power, and make it easier for a cell to pass the ghost cell detection threshold. This will in tendency prevent ghost cells from being detected. </p><p id="p0235" num="0235"> b. There are midamble shifts not detected which are there. This will in </p><p id="p0236" num="0236"> tendency result in ghost cells being detected which should not be detected. In this case, an amount of received power associated with a midamble shift is not subtracted because it was not detected; the receive power will not be reduced to the extent it should have been, and it will be harder for a cell to pass the ghost cell detection threshold. </p><p id="p0237" num="0237"> c. Detected midamble shifts are detected with erroneous path positions and path powers. </p><p id="p0238" num="0238">In short this will result in a bigger transition zone (zone of uncertainty) from no ghost cells being detected to ghost cells being detected. This is because the measurement errors may provoke a detection of a ghost cell which is not there. Then the measured power is only below the threshold by chance. Similarly, the measurement errors provoke that a ghost cell is not detected. Then the measured power is above the threshold by chance. </p><p id="p0239" num="0239">In some embodiments, the following changes are implemented compared to the previously described embodiments, where it has been assumed that the configuration of certain other (than P-CCPCH) midamble shifts also applies to the other cells of this area. This assumption need not apply if the mobile station examines system information of other cells directly by looking at broadcast information from the other cells, if possible, for example from SIB5. In case the system information of a cell can be received, it can be confirmed the cell is not a ghost cell, the configuration of midamble shifts can be learned and used for the measurement of the RSCP. 
<!-- EPO <DP n="43"/>-->
 1 ) Reduction in overall receive power for detected midamble shift other than to be detected midamble shift </p><p id="p0240" num="0240">If a configured midamble shift on to be detected cell is detected aside from the to be detected (e.g. P-CCPCH) midamble shift, the detected power of this shift is subtracted from the overall receive power of the midamble before applying the ghost detection threshold. </p><p id="p0241" num="0241">In a specific example of this, assume that a cell is near the boundary to become a ghost cell in presence of an unknown interferer. </p><p id="p0242" num="0242">For this example, the power on the P-CCPCH is assumed to be about 9 dB lower than the interference. The total received power during the midamble is composed of the following powers in the worst case: </p><p id="p0243" num="0243">1 . P-CCPCH of to be measured cell: 1 pico Watt- (this value is arbitrarily chosen for this example) </p><p id="p0244" num="0244"> 2. Power of interference: 8 pico Watt ( 9 dB &gt; P-CCPCH) </p><p id="p0245" num="0245"> 3. Power of the other physical channels on TSO: 2 pico Watt (twice the power of the P-CCPCH as per worst case assumption) </p><p id="p0246" num="0246"> Total receive power: 1 1 = 8 + 1 + 2 pico Watt </p><p id="p0247" num="0247">Ghost Cell detection in dB: </p><p id="p0248" num="0248"> total receive power (db)- threshold (dB) &gt; RSCP (dB) ghost cell </p><p id="p0249" num="0249">Ghost cell detection in pico Watt: </p><p id="p0250" num="0250"> Total receive power(pico Watts) /threshold(pico Watt) &gt;RSCP (Watts) ghost cell </p><p id="p0251" num="0251">Assuming that the ghost detection threshold is 10 dB, for the case where no subtraction of the other physical channels is performed, the test is applied as follows: 
<!-- EPO <DP n="44"/>-->
 Total received power/10 (ghost detection threshold: 10dB<sup>*</sup>log10(10)=10dB) = 1 1/10=1 .1 &gt;RSCP of P-CCPCH(= 1 ) power is below ghost cell detection threshold, so a ghost cell would be detected Assuming that the ghost detection threshold is 10dB, for the case where subtraction of the other physical channels is performed: </p><p id="p0252" num="0252"> Total received power - detected powers of the other midamble shifts used in TSO of the to be detected cell: 1 1 - 2 =9 </p><p id="p0253" num="0253"> Ghost detection threshold: 9/10=0.9 &lt;1 - power is above ghost cell detection threshold, so cell is treated as a reliable cell. </p><p id="p0254" num="0254">2) Adjustments to the subtraction amounts </p><p id="p0255" num="0255">Because the P-CCPCH is transmitted on an omni antenna, and other channels may be transmitted using beam forming, every path/tap that is present in one of the other channels should also be present in the P-CCPCH. Thus, if additional paths/taps are present on the other channels, these additional paths/taps can be treated as noise. If the set of taps on the P-CCPCH is {SET_A}, and the set of taps on another channel is {SET_B}, then for the purpose of determining an amount to subtract from the overall receive signal during the preamble, only the taps of {SET_B} that are also in {SET_A} are subtracted. For example, assume the paths for the midamble shift for the S-</p><p id="p0256" num="0256">CCPCH are 1 ,3,8, 10, and the paths for P-CCPCH are 5 to 10. Then the power of the S-CCPCH on taps 1 and 3 is set to zero before subtracting an amount from the total receive power. This has the effect of making the power that is subtracted less, in turn making it more difficult for a ghost cell to stay undetected, and detected as an OK cell. </p><p id="p0257" num="0257">3) Adjustments made based on power in unused windows 
<!-- EPO <DP n="45"/>-->
 The default midamble allocation K=4 leaves half of the channel estimation windows unused (TSO is configured for the P_CCPCH using two of the 16 channel estimation windows for channel estimation in order to cover cells with a big delay spread. This leaves only 8 bigger channel estimation windows in TSO. With the K=4 configuration, 4 of them are used leaving the other 4 unused. There may some receive power left after post processing in the unused channel estimation windows, and this is noise. The amount of receive power in the unused channel estimation windows can be determined. </p><p id="p0258" num="0258">Recall that an amount is subtracted from the total receive power for each of S-CCPCH, FPACH and PICH that are present in TSO. Each has its own channel estimation window. In some embodiments, conditional subtraction based on the power of used window relative to power of unused window is employed as follows: </p><p id="p0259" num="0259">For each used window (S-CCPCH, FPACH and PICH), if the power in the used window after post processing (sum of the taps) is not larger than the </p><p id="p0260" num="0260">(average) power in the unused estimation windows by a threshold amount (e.g. a factor of 2) then an amount for that window is not subtracted from the total receive power for the purpose of ghost cell detection. </p><p id="p0261" num="0261"> In some embodiments, ghost cell detection is also based on power of used window relative to power of unused window. If there is some receive power left after post processing in the unused channel estimation windows this is noise. For the P-CCPCH window, if the power in the used window after post processing (sum of the taps) is not larger than the power in the unused estimation by a threshold amount (e.g. a factor of 2) then a ghost cell is detected. </p><p id="p0262" num="0262">This part of the method is dealing with the detection of noise in the used channel estimation windows. For example, consider a case where the receive power in the unused channel estimation windows is the same as in a used one. Then this means that the power in the unused channel estimation windows is noise for sure and that the power in the used channel estimation windows is noise, most likely, too. Only if the receive power in the used channel estimation windows is large 
<!-- EPO <DP n="46"/>-->
 enough (as defined by a threshold amount) than the power in the unused channel estimation windows is it considered to carry the power of the used midamble shift. Otherwise all the paths in the used channel estimation windows are set to 0. If the P- CCPCH midamble shift is concerned this leads to a detected ghost cell. </p><p id="p0263" num="0263">4) Regression based method of differentiating between signalling and noise. </p><p id="p0264" num="0264">Raw channel estimates for a to be detected cell, or a to be cancelled cell, are obtained in the form of taps at the outcome of filtering with the basic midamble code. At this point, no particular midamble shift is yet being applied. The taps are the sorted in descending order of magnitude. The sorted taps can be plotted in a logarithmic scale. The shape of the plot of taps thus generated can be referred to as a signature for a given signal. A signal that was purely noise, and a signal that was purely interference would have the same signature. This signature can be approximated with a square/square root or linear function. This information can be used to extract a noise/interference signature from the raw channel estimates. If the sorted raw channel estimates are composed of N taps (e.g. 128 taps), it can be assumed that the last M (e.g. 88 taps) of these are noise/interference only - i.e. they do not contain any component of the signal of interest. Linear regression on L (e.g. 60 taps) of these last M taps can be performed to derive a square or linear function describing the noise/interference signature over L of the last M taps, the last M-L taps (e.g. the last 28 taps) are not considered in the regression; the result can then be extrapolated to the first N taps to produce an estimate of an overall noise/interference signature over the N taps. </p><p id="p0265" num="0265">Next, a post processing step on the first N-M taps is performed. In order for a given tap to be considered reliable, it must exceed the noise/interference signature for that tap by a tap-wise detection threshold amount. If a given tap does not exceed the noise/interference signature by this tap-wise threshold amount, it is 
<!-- EPO <DP n="47"/>-->
 considered noise, and is set to zero. Then, the remaining taps are returned to their original order. </p><p id="p0266" num="0266">In the case of a to be cancelled cell, these taps are then used for interference cancellation purposes. </p><p id="p0267" num="0267">In the case of a to be detected cell, these taps are then used for ghost cell detection purposes. Note that the adjustments described above under one or a combination of items 1 ) Reduction in overall receive power for detected midamble shift other than to be detected midamble shift, 2) Adjustments to the subtraction amounts, and 3) Adjustments made based on power in unused windows, can also be applied, using the set of taps output by the regression approach. </p><p id="p0268" num="0268">A set of simulations using regressed signature functions was performed. For these examples, the raw channel estimate is composed of N=128 taps, and M = 60 of these are used to develop the noise/interference signature. The following parameters were assumed for the simulations: </p><p id="p0269" num="0269">Tap-wise detection threshold for the to be detected midamble: 5 dB </p><p id="p0270" num="0270">Tap-wise detection threshold for to be cancelled midamble: 6 dB Interference Cancellation Threshold: 6 dB </p><p id="p0271" num="0271">In the worst case scenario, there is a significant ghost detection rate without interference cancellation once the two midambles have the same power so the threshold can be increased. </p><p id="p0272" num="0272">Ghost detection threshold without IC applied: 8 dB This threshold can be lowered because otherwise too many ghost cells would have stayed undetected. This is a tribute to the tough interference situation. </p><p id="p0273" num="0273">Ghost detection threshold with IC applied: 20 dB 
<!-- EPO <DP n="48"/>-->
 Laboratory measurements have shown that with IC ghost cells have been detected beyond 20 dB power difference. This adjustment has nothing to do with the increased interference problem. </p><p id="p0274" num="0274">Other midamble (MA) shifts: Ύ' and 'N': Y means that the midamble shifts for S-CCPCH, PICH and FPACH are used for both interfering and detected cell. </p><p id="p0275" num="0275">N means that the midamble shifts for S-CCPCH, PICH and FPACH are not used for both interfering and detected cell. </p><p id="p0276" num="0276">Used MA shift str:'10101010' - This means that the detector is assuming that out of the 8 midamble shifts with 16 chip channel estimation length shifts 1 ,3,5, and 7 could be used. The other 4 channel estimation windows are assumed not to be used. </p><p id="p0277" num="0277">Ghost detection threshold 2: 6 dB </p><p id="p0278" num="0278">In case the used channel estimation window is not at least 6 dB stronger than the average measured signal strength of the unused windows all the paths in this window are set to 0. </p><p id="p0279" num="0279">Lower ghost detection bound: 6 dB </p><p id="p0280" num="0280">Modified because new algorithms have an adverse effect on the interference less case. </p><p id="p0281" num="0281">In the following the results with the regression method are shown for the best case scenario. The results with the standards deviation are omitted. </p><p id="p0282" num="0282">Figure 24 depicts simulation results where there is an unknown interfering cell and no interference cancellation, and a static 1 tap channel is assumed. The result looks fine in the sense that there is a sharp detection transition zone at ISR of 8-9 dB. It is noted that for the worst case the actual instantaneous receive power for the interfering cell is 5 dB higher - as per worse case assumption. The best case results are depicted in the left hand two plots, while the worst case results are depicted in the right hand two plots. For the best case, no other than P- 
<!-- EPO <DP n="49"/>-->
 CCPCH MA shift is used but 4 MA shifts were considered. For the worst case, 2 other than P-CCPCH MA shifts used and 4 MA shifts were considered. </p><p id="p0283" num="0283">Figure 25 depicts simulation results where there is a known interfering cell and interference cancellation, and a static 1 tap channel is assumed. The result looks fine. Please note that for the worst case the actual instantaneous RX power for the interfering cell is 5 dB higher - as per worse case assumption. The best case results are depicted in the left hand two plots, while the worst case results are depicted in the right hand two plots. For the best case, no other than P-CCPCH MA shift was used but 4 MA shifts were considered. For the worst case, 2 other than P- CCPCH MA shifts were used and 4 MA shifts were considered. </p><p id="p0284" num="0284">Figure 26 depicts simulation results where there is an unknown interfering cell and no interference cancellation, and a 2 tap equalizer test channel is assumed. The result is still fine even though the RX measurement gets biased and there is a wider transition zone. Please note that for the worst case the actual instantaneous RX power for the interfering cell is 5 dB higher - as per worse case assumption. The best case results are depicted in the left hand two plots, while the worst case results are depicted in the right hand two plots. For the best case, no other than P-CCPCH MA shift was used but 4 MA shifts were considered. For the worst case, 2 other than P-CCPCH MA shifts were used and 4 MA shifts were considered. </p><p id="p0285" num="0285">Figure 27 depicts simulation results where there is a known interfering cell and interference cancellation, and a 2 tap equalizer test channel is assumed. The result still looks fine even though for the worst case bias is to be seen and there are little issues for the ghost detection to be seen where both cells have the same power. Here the to be detected cell is also interfering the measurements for the interfering cell, it is noted that for the worst case the actual instantaneous RX power for the interfering cell is 5 dB higher - as per worse case assumption. The best case results are depicted in the left hand two plots, while the worst case results are depicted in the right hand two plots. For the best case, no other than P-CCPCH MA shift was used but 4 MA shifts were considered. For the worst case, 2 other than P- CCPCH MA shifts were used and 4 MA shifts were considered. 
<!-- EPO <DP n="50"/>-->
 Figure 28 depicts simulation results where there is an unknown interfering cell and no interference cancellation, and a 4 tap equalizer test channel is assumed. The result still looks fine even though for the worst case bias is to be seen and there are little issues for the ghost detection to be seen where both cells have the same power here the to be detected cell is also interfering the measurements for the interfering cell. The isolated measurement glitches have to be filtered by post processing in order not to cause unwanted events 2a for example. It is noted that the worst case the actual instantaneous RX power for the interfering cell is 5 dB higher - as per worse case assumption. Note also that this case is unlikely. The best case results are depicted in the left hand two plots, while the worst case results are depicted in the right hand two plots. For the best case, no other than P-CCPCH MA shift was used but 4 MA shifts were considered. For the worst case, 2 other than P- CCPCH MA shifts were used and 4 MA shifts were considered. </p><p id="p0286" num="0286">Figure 29 depicts simulation results where there is a known interfering cell and interference cancellation, and a 4 tap equalizer test channel is assumed. The result still looks fine even though for the worst case bias is to be seen and there are little issues for the ghost detection to be seen where both cells have the same power. Here the to be detected cell is also interfering the measurements for the interfering cell. It is noted that for the worst case the actual instantaneous RX power for the interfering cell is 5 dB higher - as per worse case assumption. The best case results are depicted in the left hand two plots, while the worst case results are depicted in the right hand two plots. For the best case, no other than P-CCPCH MA shift was used but 4 MA shifts were considered. For the worst case, 2 other than P- CCPCH MA shifts were used and 4 MA shifts were considered. Figure 30 depicts simulation results where there is an unknown interfering cell and no interference cancellation, and a 4 tap equalizer test channel for detected cell and 1 tap for interfering cell were assumed. The result shows that ghost cells can be detected at a quite low ISR already. It is noted that for the worst case the actual instantaneous RX power for the interfering cell is 5 dB higher - as per worse case assumption. The best case results are depicted in the left hand two plots, while the worst case results are depicted in the right hand two plots. For the best case, no other than P-CCPCH MA shift was used but 4 MA shifts were 
<!-- EPO <DP n="51"/>-->
 considered. For the worst case, 2 other than P-CCPCH MA shifts were used and 4 MA shifts were considered. </p><p id="p0287" num="0287">Figure 31 depicts simulation results where there is a known interfering cell and interference cancellation, and a 4 tap equalizer test channel for detected cell and 1 tap for interfering cell were assumed. The result looks fine. It is noted that for the worst case the actual instantaneous RX power for the interfering cell is 5 dB higher - as per worse case assumption. The best case results are depicted in the left hand two plots, while the worst case results are depicted in the right hand two plots. For the best case, no other than P-CCPCH MA shift was used but 4 MA shifts were considered. For the worst case, 2 other than P-CCPCH MA shifts were used and 4 MA shifts were considered. </p><p id="p0288" num="0288">Figure 32 depicts simulation results where there is an unknown interfering cell and no interference cancellation, and an 8 tap equalizer test channel is assumed. The result looks worse because in the worst case ghost cells are detected at a very low ISR. It is noted that for the worst case the actual </p><p id="p0289" num="0289">instantaneous RX power for the interfering cell is 5 dB higher - as per worse case assumption. This case is very unlikely. The best case results are depicted in the left hand two plots, while the worst case results are depicted in the right hand two plots. For the best case, no other than P-CCPCH MA shift was used but 4 MA shifts were considered. For the worst case, 2 other than P-CCPCH MA shifts were used and 4 MA shifts were considered. </p><p id="p0290" num="0290">Figure 33 depicts simulation results where there is a known interfering cell and interference cancellation, and an 8 tap equalizer test channel is assumed. The result looks bad for the worst case in scenarios like this (however unlikely they are) it is least advisable to load 1 TS with 3 omni cell channels. It is noted that for the worst case the actual instantaneous RX power for the interfering cell is 5 dB higher - as per worse case assumption. The best case results are depicted in the left hand two plots, while the worst case results are depicted in the right hand two plots. For the best case, no other than P-CCPCH MA shift was used but 4 MA shifts were considered. For the worst case, 2 other than P-CCPCH MA shifts were used and 4 MA shifts were considered. 
<!-- EPO <DP n="52"/>-->
 Figure 34 depicts simulation results where there is AWGN and no Interference. The result looks fine. As expected there is no significant difference in- between best and worst case. The best case results are depicted in the left hand two plots, while the worst case results are depicted in the right hand two plots. For the best case, no other than P-CCPCH MA shift was used but 4 MA shifts were considered. For the worst case, 2 other than P-CCPCH MA shifts were used and 4 MA shifts were considered. </p><p id="p0291" num="0291">Figure 35 depicts simulation results where a static 8 tap equalizer test channel is assumed and there is interference. The result looks fine. For the ghost detection rate there is a difference in-between best and worst case. The best case results are depicted in the left hand two plots, while the worst case results are depicted in the right hand two plots. For the best case, no other than P-CCPCH MA shift was used but 4 MA shifts were considered. For the worst case, 2 other than P- CCPCH MA shifts were used and 4 MA shifts were considered. Figure 36 depicts simulation results where a fading 8 tap equalizer test channel is assumed and there is no interference. The result looks fine. As expected there is no significant difference in-between best and worst case. The best case results are depicted in the left hand two plots, while the worst case results are depicted in the right hand two plots. For the best case, no other than P-CCPCH MA shift was used but 4 MA shifts were considered. For the worst case, 2 other than P- CCPCH MA shifts were used and 4 MA shifts were considered. </p><p id="p0292" num="0292">Figure 37 depicts simulation results where Rayleigh fading and no interference are assumed. The result looks fine. As expected there is no significant difference in-between best and worst case. The best case results are depicted in the left hand two plots, while the worst case results are depicted in the right hand two plots. For the best case, no other than P-CCPCH MA shift was used but 4 MA shifts were considered. For the worst case, 2 other than P-CCPCH MA shifts were used and 4 MA shifts were considered. </p><p id="p0293" num="0293">If TS0 is used for the P-CCPCH alone the described algorithms are well able to cope with the situation and provide good measurements and good detection of the ghost cells at that same time. 
<!-- EPO <DP n="53"/>-->
 Once TSO is shared with other physical channels the complexity of the algorithm needs to be stepped up sacrificing some performance nevertheless. </p><p id="p0294" num="0294">The P-CCPCH of other cells may be able to be detected in interference scenarios which are just providing enough SNR to detect the BCCH of that cell reasonably successful. What that SNR is required is implementation specific. Some embodiments are using the detection of the BCCH to help in making ghost cell decision. </p><p id="p0295" num="0295">In some embodiments, every cell should have two states reliable_cell or ghost_cell. To transit in-between the two states should is not triggered by a single measurement but by some criteria applied to multiple consecutive measurements. For example, some number of consecutive measurements, or a majority of some number of consecutive measurements (e.g. 9) must be indicative of state change in order to consider the change to have occurred. </p><p id="p0296" num="0296">Depending on the information of the cell make up in SIB5, it can be concluded what midamble shifts to expect and what not. Dependent on that the algorithm can be parameterized differently in order to give a better performance. </p><p id="p0297" num="0297">A ghost cell will have random positions for the strongest paths. It will be difficult to synchronize. In some embodiments, such information is also used to aid the identification of a ghost cell. </p><p id="p0298" num="0298">Since the synchronization to a ghost cell is difficult, in some embodiments, a ghost cell is searched from time to time. In general the results assuming IC are better than the ones not using it.</p><p id="p0299" num="0299">In some embodiments, when a ghost cell is detected with a high total receive power and no IC being performed, a systematic search for cells not included in the neighbor cell list is conducted. This might not need to be done with the full blown cell search algorithm. If the midamble of that cells is detected an offset of +/- 60 chip the cell can still be recognized from the channel estimate. See the following figure. The RSCP measurement algorithm is designed anyway in a way such that with a single burst multiple estimates can be performed. Some of those could be used for looking 
<!-- EPO <DP n="54"/>-->
 for neighbor cells not being in the neighbor cell list. Once a candidate is found, the position is confirmed with a more precise algorithm and then the interferer not in the neighbor cell list can be used to create an unbiased estimation of the RSCP of the cells in the neighbor cell list using IC. </p><p id="p0300" num="0300">Expressed another way, in some embodiments, the channel estimation input for one cell may be used as an input to the channel estimation for another cell. The synchronization of the other cell needs not to be known exactly. If the input signal for the channel estimation does not coincide with the location of the midamble in the other cell, the following will be the results: </p><p id="p0301" num="0301">1 . The channel estimate will be shifted. For example, if the midamble of the other cell comes in with 20 chip delay compared to the cell the detection was originally intended, for then the positions of the taps in the channel estimate cyclically shifts by 20 chip. That means a tap at the position 5 of the original cell would be at position 25 and a tap being at position 128 of the original cell would be at position 20. </p><p id="p0302" num="0302">2. The noise floor in the channel estimate is increasing. The reason is that also signal portions of the other cell which are not its midamble are in the input signal for the channel estimation. This is self-interference then. </p><p id="p0303" num="0303">Once there is a strong signal signature in the channel estimate either: 1 . The timing is corrected. In a first example, in the case described before correction is achieved by assuming that the tap at position 25 is belonging to the P- CCPCH and has to be at position 5. Then the timing is corrected such that the processing is taking place 20 chips later. In another example, a tap on position 120 is assumed to belong to the P-CCPCH as well and should be on position 5. In this case, timing would be corrected such that processing is taking place 13 chip earlier. </p><p id="p0304" num="0304">In case the other cell has multiple midamble shifts in use the resulting ambiguity may be resolved by a try and error method. 
<!-- EPO <DP n="55"/>-->
 After that, the synchronization of the other cell will be known, and in the case of a big timing adjustment the noise floor in the estimate should decrease. 2. The timing for the other cell is established with a cell search algorithm from scratch. </p><p id="p0305" num="0305">More generally, the search methods described may be used to search for unknown interfering calls in any case. Figure 38 shows an example of raw channel estimation output with various misalignments of the midamble. For Figure 38, it has been assumed that 3 MA shifts are used and that the burst outside the MA areas is filled with AWGN of same power as the MA. </p><p id="p0306" num="0306">In case the SNR on that carrier would not allow the BCCH of the cells in the neighbor cell list to be detected with sufficient quality this cell is either not reported or reported at the option of the mobile device (for neighbor cell </p><p id="p0307" num="0307">measurements not being in need to be reported) or reported with the minimum reportable RSCP (for neighbor cell measurements which have to be reported). In case the cell has to be reported e.g. for periodic measurements it should be treated with the minimum reportable RSCP. This would provide the best performance for the ghost cell detection. </p><p id="p0308" num="0308">Numerous modifications and variations of the present disclosure are possible in light of the above teachings. It is therefore to be understood that within the scope of the appended claims, the disclosure may be practiced otherwise than as specifically described herein. </p><p id="p0309" num="0309">For example, while many of the methods and apparatuses have been described in the context of cell reselection, more generally, any of these methods can be employed in any situation where cell measurements are made, for example when making decisions regarding cell selection, cell reselection, handover, etc. 
</p></description><claims mxw-id="PCLM45499577" ref-ucid="WO-2012136286-A1" lang="EN" load-source="patent-office"><claim-statement><!-- EPO <DP n="56"/>--> Claims: </claim-statement><claim id="clm-0001" num="1"><claim-text>1 . A method comprising: processing a signal to produce an interference cancellation component of a first cell; performing signal detection for a to be detected cell operating on a same frequency as the first cell based on the signal minus the interference cancellation component if the interference cancellation component has a power that is large enough compared to a total power of the signal as defined by a first threshold; performing signal detection for a to be detected cell based on the signal without having subtracted the interference component if the interference cancellation component has a power that is not large enough compared to the total power of the signal as defined by the first threshold. </claim-text></claim><claim id="clm-0002" num="2"><claim-text>2. The method of claim 1 wherein processing the signal to produce the interference cancellation component comprises: generating a channel estimate for the first signal using a cell-specific code of a first cell, the channel estimate comprising a plurality of taps; removing certain taps from the channel estimate to produce a post- processed channel estimate; using the cell-specific code and the channel estimate with the certain taps removed to reconstruct the interference cancellation component; wherein performing signal detection of a to be detected cell based on the signal minus the interference cancellation component comprises using a cell- specific code of the to be detected cell; and <!-- EPO <DP n="57"/>--> performing signal detection of a to be detected cell based on the signal without having subtracted the interference component comprises using the cell- specific code of the to be detected cell. </claim-text></claim><claim id="clm-0003" num="3"><claim-text>3. The method of claim 2 wherein removing certain taps comprises removing taps that each have a power that is small enough compared to the total power of the signal as defined by a second threshold. </claim-text></claim><claim id="clm-0004" num="4"><claim-text>4. The method of claim 2 wherein each of the taps other than the certain taps has a power that is large enough compared to the average power of taps other than the certain taps as defined by a second threshold.. </claim-text></claim><claim id="clm-0005" num="5"><claim-text>5. A method comprising: processing a signal to produce a channel estimate in respect of a first cell, the channel estimate comprising a plurality of taps; removing certain taps from the channel estimate to leave remaining taps and then producing an interference cancellation component from the remaining taps; performing first signal detection of a to be detected cell operating on a same frequency as the first cell based on the signal minus the interference </claim-text><claim-text>cancellation component to produce a first signal detection result; performing second signal detection of the to be detected cell based on the signal without having subtracted the interference cancellation component to produce a second signal detection result; selecting between the first signal detection result and the second signal detection result. </claim-text></claim><claim id="clm-0006" num="6"><claim-text>6. The method of claim 5 wherein: <!-- EPO <DP n="58"/>--> performing first signal detection comprises performing channel estimation to produce a first channel estimate comprising a plurality of taps and removing certain taps to produce a first post-processed channel estimate; performing second signal detection comprises performing channel estimation to produce a second channel estimate comprising a plurality of taps and removing certain taps to produce a second post-processed channel estimate; selecting between the first signal detection result and the second signal detection result is based on: the power of taps in the first post-processed channel estimate; the power of taps in the second post-processed channel estimate; the average power of taps in the first channel estimate; and the average power of taps in the second channel estimate. </claim-text></claim><claim id="clm-0007" num="7"><claim-text>7. The method of claim 6 wherein selecting comprises: for the first signal detection, determining a ratio of a sum of powers of the taps remaining after removing certain taps to the average power of taps of the first channel estimate; for the second signal detection, determining a ratio of a sum of powers of the taps remaining after removing certain taps to the average power of taps of the second channel estimate; selecting the result with the larger ratio. </claim-text></claim><claim id="clm-0008" num="8"><claim-text>8. A method comprising: processing a signal to produce an interference cancellation component that is an estimate of a component of the signal that is due to a first cell by: <!-- EPO <DP n="59"/>--> generating a channel estimate for the first signal using a cell-specific code of a first cell to produce a channel estimate comprising a plurality of taps; removing certain taps from the channel estimate to produce a post- processed channel estimate; producing the interference cancellation component using post- processed channel estimate; performing channel estimation of a to be detected cell operating on a same frequency as the first cell based on the signal minus the interference cancellation component by: generating a channel estimate for the to be detected cell using a cell- specific code of the to be detected cell; removing certain taps from the channel estimate to produce a channel estimate with certain taps removed for the to be detected cell; the method further comprising at least one of: a) discarding the channel estimate with certain taps removed for the to be detected cell and/or reporting a lowest reportable value and /or processing a very small value and/or not reporting the channel estimate if a combined power of the taps of the channel estimate with certain taps removed that define a to be measured channel for the to be detected cell is below a total receive power for the signal by a threshold amount; and b) discarding the channel estimate with certain taps removed for the to be detected cell and/or reporting a lowest reportable value and /or processing a very small value and/or not reporting the channel estimate if a combined power of the taps of the channel estimate with certain taps removed for the first cell is small <!-- EPO <DP n="60"/>--> enough compared to a total receive power for the signal as defined by a threshold amount. </claim-text></claim><claim id="clm-0009" num="9"><claim-text>9. A method of processing a signal, the method comprising: obtaining a channel estimate for a cell, the channel estimate comprising a plurality of taps; removing certain taps from the channel estimate; if a combined power of taps of the channel estimate after removing certain taps that define a to be measured channel is less than a certain threshold below an amount based on a total power of the signal, discarding the channel estimate for the cell and/or reporting a minimum reportable receive power and /or processing a very small value. </claim-text></claim><claim id="clm-0010" num="10"><claim-text>10. The method of claim 9 wherein removing certain taps from the channel estimate comprises using a regression approach to differentiate between the taps to be removed and the taps not to be removed. </claim-text></claim><claim id="clm-0011" num="11"><claim-text>1 1 . The method of claim 10 wherein using a regression approach comprises: sorting the plurality of taps into a sorted list; performing a regression on a subset of taps in a sorted list representing interference and noise to produce a regression result; removing taps that are not large enough compared to the regression result as defined by a threshold. </claim-text></claim><claim id="clm-0012" num="12"><claim-text>12. The method of claim 9 wherein the certain taps comprises taps that each have a power that is small enough compared to the total power of the signal as defined by a second threshold. <!-- EPO <DP n="61"/>--> </claim-text></claim><claim id="clm-0013" num="13"><claim-text>13. The method of claim 9 wherein taps other than the certain taps are those that each have a power that is large enough compared to the average power of the certain taps as defined by a second threshold. </claim-text></claim><claim id="clm-0014" num="14"><claim-text>14. A method according to any one of claims 1 to 13, comprising: without first performing interference cancellation, a mobile device processing a signal to detect a ghost cell, a ghost cell being a cell with an unreliable measurement result as defined by ghost cell detection criteria; in case a ghost cell is detected, the mobile device systematically searching for cells and their midamble codes which are not in a neighbor cell list; for each cell found as a result of the systematic search, the wireless device applying interference cancellation of a component of the received signal due to the cell if a total received power as defined by a sum of taps of a post processed channel estimate of the cell is large enough as defined by a threshold compared to the overall received power of the midamble. </claim-text></claim><claim id="clm-0015" num="15"><claim-text>15. A method comprising: without first performing interference cancellation, a mobile device processing a signal to detect a ghost cell, a ghost cell being a cell with an unreliable measurement result as defined by ghost cell detection criteria; in case a ghost cell is detected, the mobile device systematically searching for cells and their midamble codes which are not in a neighbor cell list; for each cell found as a result of the systematic search, the wireless device applying interference cancellation of a component of the received signal due to the cell if a total received power as defined by a sum of taps of a post processed channel estimate of the cell is large enough as defined by a threshold compared to the overall received power of the midamble. </claim-text></claim><claim id="clm-0016" num="16"><claim-text>16. A method according to any one of claims 1 to 15, compris <!-- EPO <DP n="62"/>--> processing a signal to detect a cell in accordance with a ghost cell detection criteria, a ghost cell being a cell with an unreliable measurement result as defined by the ghost cell detection criteria; in case a cell is detected with the ghost detection threshold, </claim-text><claim-text>determining that the cell is a ghost cell if the cell's BCCH (broadcast control channel) cannot be detected; determining that the cell is not a ghost cell if the cell's BCCH can be detected successfully. </claim-text></claim><claim id="clm-0017" num="17"><claim-text>17. A method comprising: processing a signal to detect a cell in accordance with a ghost cell detection criteria, a ghost cell being a cell with an unreliable measurement result as defined by the ghost cell detection criteria; in case a cell is detected with the ghost detection threshold, </claim-text><claim-text>determining that the cell is a ghost cell if the cell's BCCH (broadcast control channel) cannot be detected; determining that the cell is not a ghost cell if the cell's BCCH can be detected successfully. </claim-text></claim><claim id="clm-0018" num="18"><claim-text>18. The method of any one of claims 1 to 17 further comprising: where interference cancellation is employed in respect of a primary- common control channel of a to be cancelled cell, the method further comprising performing interference cancellation of at least one other channel transmitted by the to be cancelled cell. </claim-text></claim><claim id="clm-0019" num="19"><claim-text>19. The method of claim 18 wherein performing interference cancellation for at least one other channel known to be transmitted by the to be cancelled cell comprises performing interference cancellation for at least one of S-CCPCH, PICH, FPACH (Secondary-Common Control Channe, Paging Indicator Channel, Fast Physical Access Channel). <!-- EPO <DP n="63"/>--> </claim-text></claim><claim id="clm-0020" num="20"><claim-text>20. The method of any one of claims 1 to 19 further comprising: determining an overall receive power; determining a power associated with at least one midamble shift other than a midamble shift of interest, the at least one other midamble shift using the same basic midamble code as the midamble shift of interest; subtracting the power associated with the at least one midamble shift other than the midamble shift of interest from the overall receive power to produce a corrected total receive power, and using the corrected total receive power in place of the overall receive power. </claim-text></claim><claim id="clm-0021" num="21"><claim-text>21 . The method of claim 20 further comprising: for a to be cancelled cell, determining the at least one midamble shift other than the midamble shift of interest from broadcast system information. </claim-text></claim><claim id="clm-0022" num="22"><claim-text>22. The method of claim 20 further comprising: for a to be cancelled cell, determining the at least one midamble shift other than the midamble shift of interest from already known behaviour of another nearby cell, based on an assumption that nearby cells will behave similarly. </claim-text></claim><claim id="clm-0023" num="23"><claim-text>23. The method of claim 20 further comprising adjusting the power associated with the at least one midamble shift other than the midamble shift of interest that is subtracted from the total receive power to produce a corrected total receive power by: determining a set of taps for the P-CCPCH (Primary-Common Control</claim-text><claim-text>Channel); determining the power associated with the least one midamble shift using only taps that belong to the set of taps for the P-CCPCH. </claim-text></claim><claim id="clm-0024" num="24"><claim-text>24. The method of any of claims 20 to 22 further comprising: <!-- EPO <DP n="64"/>--> determining a receive power associated with unused channel estimation windows; adjusting the power associated with the at least one midamble shift other than the midamble shift of interest that is subtracted from the total receive power to produce a corrected total receive power by: setting the power to zero if it is not larger than the power associated with the unused channel estimation windows by a threshold amount. </claim-text></claim><claim id="clm-0025" num="25"><claim-text>25. The method of claim 9 further comprising: determining an average receive power associated with unused channel estimation windows; discarding the channel estimate for the cell and/or reporting a minimum reportable receive power and /or processing a very small value if it is not larger than the power associated with the unused channel estimation windows by a threshold amount. </claim-text></claim><claim id="clm-0026" num="26"><claim-text>26. The method of any one of claims 1 to 25 further comprising: determining if a cell measurement is reliable or unreliable in accordance with a criteria that spans over multiple measurement intervals. </claim-text></claim><claim id="clm-0027" num="27"><claim-text>27. The method of any one of claims 1 to 26 further comprising: processing a signal to detect a cell in accordance with a ghost cell detection criteria, ghost cell being a cell with an unreliable measurement result as defined by the ghost cell detection criteria; looking systematically for cells that are not included in a neighbor cell list, and if some are found, treating them as known cells, for the purpose of performing interference cancellation; at least one of: <!-- EPO <DP n="65"/>--> if no such cell is found found, then declaring the cell detected in accordance with the ghost detection criteria to be a ghost cell; if no such cell is found, attempting to detect a BCCH of the cell, and declaring the cell detected in accordance with the ghost detection criteria to be a ghost cell if the BCCH cannot be detected. </claim-text></claim><claim id="clm-0028" num="28"><claim-text>28. A method of any one of claims 1 to 27 further comprising: assigning one of two states to a cell, the two states being reliable_cell or ghost_cell; transitioning between the two states on the basis of a criteria applied to multiple consecutive measurements. </claim-text></claim><claim id="clm-0029" num="29"><claim-text>29. A method of any one of claims 1 to 28 further comprising: recognizing when it is difficult to synchronize to a cell, and using such information to aid the identification of a ghost cell. </claim-text></claim><claim id="clm-0030" num="30"><claim-text>30. A method of any one of claims 1 to 29 further comprising: when a ghost cell is detected with a high total receive power and no interference cancellation being performed, performing a systematic search for cells not included in a neighbor cell list, and if some are found treating them as known cells for the purpose of interference cancellation. </claim-text></claim><claim id="clm-0031" num="31"><claim-text>31 A method of any one of claims 1 to 30 further comprising: attempting to read the BCCH of a cell in the neighbour cell list; in case the SNR on a carrier of the cell on the neighbour cell list would not allow the BCCH of the cell in the neighbor cell list to be detected with sufficient quality this cell is either not reported or reported at the option of the mobile device for neighbor cell measurements not being in need to be reported or reported with the <!-- EPO <DP n="66"/>--> minimum reportable RSCP for neighbor cell measurements which have to be reported. </claim-text></claim><claim id="clm-0032" num="32"><claim-text>32. A method of any one of claims 1 to 31 further comprising: estimating an SNR of a to be detected/measured cell; in case the SNR on that carrier would not allow the BCCH of the cell in the neighbor cell list to be detected with sufficient quality this cell is either not reported or reported at the option of the mobile device for neighbor cell </claim-text><claim-text>measurements not being in need to be reported or reported with the minimum reportable RSCP for neighbor cell measurements which have to be reported. </claim-text></claim><claim id="clm-0033" num="33"><claim-text>33. The method of any one of claims 1 to 32 further comprising: using the input of the channel estimation for a first cell as an input to performing channel estimation for a second cell. </claim-text></claim><claim id="clm-0034" num="34"><claim-text>34. The method of any one of claims 1 to 33 wherein the method is performed in a user equipment. </claim-text></claim><claim id="clm-0035" num="35"><claim-text>35. The method of any one of claims 1 to 34 wherein the signal is a TD- SCDMA (time divisional- synchronized code division multiple access) signal. </claim-text></claim><claim id="clm-0036" num="36"><claim-text>36. The method of any one of claims 1 to 35 wherein the signal is a HCR- TDD (High Chip Rate Time Division Duplex) signal. </claim-text></claim><claim id="clm-0037" num="37"><claim-text>37. The method of any one of claims 1 to 36 wherein the signal is a VHCR TDD (Very High Chip Rate Time Division Duplex) signal. </claim-text></claim><claim id="clm-0038" num="38"><claim-text>38. The method of any one of claims 1 to 37 wherein the signal is a LTE</claim-text><claim-text>(Long Term Evolution) signal. </claim-text></claim><claim id="clm-0039" num="39"><claim-text>39. The method of any one of claims 1 to 38 wherein the signal is a GSM</claim-text><claim-text>(Global System for Mobile Communications) signal. <!-- EPO <DP n="67"/>--> </claim-text></claim><claim id="clm-0040" num="40"><claim-text>40. The method of any one of claims 1 to 39 wherein performing signal detection and channel estimation upon a signal in respect of a cell comprises using a cell-specific code of that cell. </claim-text></claim><claim id="clm-0041" num="41"><claim-text>41 . The method of claim 40 wherein the cell-specific code is a midamble. </claim-text></claim><claim id="clm-0042" num="42"><claim-text>42. The method of claim 40 wherein the cell-specific code is a reference signal. </claim-text></claim><claim id="clm-0043" num="43"><claim-text>43. The method of any one of claims 1 to 42 further comprising reporting a power measurement based on the channel estimate for cell. </claim-text></claim><claim id="clm-0044" num="44"><claim-text>44. The method of claim 43 wherein the power measurement is an RSCP (received signal code power) measurement. </claim-text></claim><claim id="clm-0045" num="45"><claim-text>45. A mobile device configured to implement the method of any one of claims 1 to 44. </claim-text></claim><claim id="clm-0046" num="46"><claim-text>46. A computer readable medium having stored thereon instructions for execution by one or more processors of a mobile device which when executed perform the method of any one of claims 1 to 44. </claim-text></claim></claims><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
