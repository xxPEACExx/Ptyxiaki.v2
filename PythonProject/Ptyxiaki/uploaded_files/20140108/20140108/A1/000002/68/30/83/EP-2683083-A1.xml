<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2683083-A1" country="EP" doc-number="2683083" kind="A1" date="20140108" family-id="46598378" file-reference-id="314654" date-produced="20180822" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146585166" ucid="EP-2683083-A1"><document-id><country>EP</country><doc-number>2683083</doc-number><kind>A1</kind><date>20140108</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-12175024-A" is-representative="YES"><document-id mxw-id="PAPP154847358" load-source="docdb" format="epo"><country>EP</country><doc-number>12175024</doc-number><kind>A</kind><date>20120704</date><lang>EN</lang></document-id><document-id mxw-id="PAPP262097335" load-source="docdb" format="original"><country>EP</country><doc-number>12175024.4</doc-number><date>20120704</date></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140552587" ucid="EP-12175024-A" load-source="docdb"><document-id format="epo"><country>EP</country><doc-number>12175024</doc-number><kind>A</kind><date>20120704</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1989323343" load-source="docdb">H03K  17/94        20060101AFI20130108BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL1991312083" load-source="docdb" scheme="CPC">H03K  17/94        20130101 FI20140110BHEP        </classification-cpc><classification-cpc mxw-id="PCL1991317856" load-source="docdb" scheme="CPC">H03K2217/94026     20130101 LA20140110BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132360131" lang="DE" load-source="patent-office">Einschätzen einer Basislinie eines Nähensensors</invention-title><invention-title mxw-id="PT132360132" lang="EN" load-source="patent-office">Estimation of the baseline of a proximity sensor</invention-title><invention-title mxw-id="PT132360133" lang="FR" load-source="patent-office">Estimation d'une ligne de base d'un capteur de proximité</invention-title><citations><patent-citations><patcit mxw-id="PCIT242943167" load-source="docdb" ucid="US-20070032967-A1"><document-id format="epo"><country>US</country><doc-number>20070032967</doc-number><kind>A1</kind><date>20070208</date></document-id><sources><source name="SEA" category="A" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT242943168" load-source="docdb" ucid="US-20080158182-A1"><document-id format="epo"><country>US</country><doc-number>20080158182</doc-number><kind>A1</kind><date>20080703</date></document-id><sources><source name="SEA" category="A" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT242943169" load-source="docdb" ucid="US-20110130958-A1"><document-id format="epo"><country>US</country><doc-number>20110130958</doc-number><kind>A1</kind><date>20110602</date></document-id><sources><source name="SEA" category="A" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT242943170" load-source="docdb" ucid="US-8040142-B1"><document-id format="epo"><country>US</country><doc-number>8040142</doc-number><kind>B1</kind><date>20111018</date></document-id><sources><source name="SEA" category="A" created-by-npl="N"/></sources></patcit></patent-citations><non-patent-citations><nplcit><text>None</text><sources><source mxw-id="PNPL45210949" load-source="docdb" name="APP"/></sources></nplcit></non-patent-citations></citations></technical-data><parties><applicants><applicant mxw-id="PPAR919521357" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>BLACKBERRY LTD</last-name><address><country>CA</country></address></addressbook></applicant><applicant mxw-id="PPAR919534446" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>BLACKBERRY LIMITED</last-name></addressbook></applicant><applicant mxw-id="PPAR919011251" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>BlackBerry Limited</last-name><iid>101413722</iid><address><street>2200 University Avenue East</street><city>Waterloo, ON N2K 0A7</city><country>CA</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR919525452" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>CARMEL-VEILLEUX TENNESSEE</last-name><address><country>CA</country></address></addressbook></inventor><inventor mxw-id="PPAR919543966" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>Carmel-Veilleux, Tennessee</last-name></addressbook></inventor><inventor mxw-id="PPAR919015931" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Carmel-Veilleux, Tennessee</last-name><address><street>c/o Research In Motion Limited 295 Phillip Street Extension 20959</street><city>Waterloo Ontario N2L 3W8</city><country>CA</country></address></addressbook></inventor><inventor mxw-id="PPAR919516728" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>GARBER ANDREW MARTIN</last-name><address><country>CA</country></address></addressbook></inventor><inventor mxw-id="PPAR919540328" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>Garber, Andrew Martin</last-name></addressbook></inventor><inventor mxw-id="PPAR919012798" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>Garber, Andrew Martin</last-name><address><street>c/o Research In Motion Limited 295 Phillip Street Extension 75351</street><city>Waterloo Ontario N2L 3W8</city><country>CA</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR919018334" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Patel, Binesh</last-name><iid>101089551</iid><address><street>Barker Brettell LLP 100 Hagley Road</street><city>Edgbaston Birmingham B16 8QQ</city><country>GB</country></address></addressbook></agent></agents></parties><international-convention-data><designated-states><ep-contracting-states><country mxw-id="DS549743278" load-source="docdb">AL</country><country mxw-id="DS549745456" load-source="docdb">AT</country><country mxw-id="DS549745529" load-source="docdb">BE</country><country mxw-id="DS549816756" load-source="docdb">BG</country><country mxw-id="DS549815395" load-source="docdb">CH</country><country mxw-id="DS549745530" load-source="docdb">CY</country><country mxw-id="DS549745469" load-source="docdb">CZ</country><country mxw-id="DS549743280" load-source="docdb">DE</country><country mxw-id="DS549745531" load-source="docdb">DK</country><country mxw-id="DS549745532" load-source="docdb">EE</country><country mxw-id="DS549819385" load-source="docdb">ES</country><country mxw-id="DS549816757" load-source="docdb">FI</country><country mxw-id="DS549815396" load-source="docdb">FR</country><country mxw-id="DS549743289" load-source="docdb">GB</country><country mxw-id="DS549745537" load-source="docdb">GR</country><country mxw-id="DS549743290" load-source="docdb">HR</country><country mxw-id="DS549745470" load-source="docdb">HU</country><country mxw-id="DS549815397" load-source="docdb">IE</country><country mxw-id="DS549745538" load-source="docdb">IS</country><country mxw-id="DS549816782" load-source="docdb">IT</country><country mxw-id="DS549745539" load-source="docdb">LI</country><country mxw-id="DS549816783" load-source="docdb">LT</country><country mxw-id="DS549908792" load-source="docdb">LU</country><country mxw-id="DS549816784" load-source="docdb">LV</country><country mxw-id="DS549816785" load-source="docdb">MC</country><country mxw-id="DS549908793" load-source="docdb">MK</country><country mxw-id="DS549908794" load-source="docdb">MT</country><country mxw-id="DS549908795" load-source="docdb">NL</country><country mxw-id="DS549745471" load-source="docdb">NO</country><country mxw-id="DS549908796" load-source="docdb">PL</country><country mxw-id="DS549745540" load-source="docdb">PT</country><country mxw-id="DS549817238" load-source="docdb">RO</country><country mxw-id="DS549745545" load-source="docdb">RS</country><country mxw-id="DS549908797" load-source="docdb">SE</country><country mxw-id="DS549743292" load-source="docdb">SI</country><country mxw-id="DS549745472" load-source="docdb">SK</country><country mxw-id="DS549745481" load-source="docdb">SM</country><country mxw-id="DS549819390" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA128673338" lang="EN" load-source="patent-office"><p id="pa01" num="0001">Described are methods and systems for estimating a baseline of a proximity sensor on an electronic device comprising: collecting proximity sensor data at the electronic device using the proximity sensor; collecting second data using a second source at the electronic device; obtaining a sample of the proximity sensor data at the electronic device when it is determined that no object is proximal to a first face of the electronic device based on the proximity sensor data and based on the second data; and approximating the baseline of the proximity sensor using the obtained sample.
<img id="iaf01" file="imgaf001.tif" wi="98" he="103" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA128737489" lang="EN" source="EPO" load-source="docdb"><p>Described are methods and systems for estimating a baseline of a proximity sensor on an electronic device comprising: collecting proximity sensor data at the electronic device using the proximity sensor; collecting second data using a second source at the electronic device; obtaining a sample of the proximity sensor data at the electronic device when it is determined that no object is proximal to a first face of the electronic device based on the proximity sensor data and based on the second data; and approximating the baseline of the proximity sensor using the obtained sample.</p></abstract><description mxw-id="PDES63959326" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001"><b>FIELD</b></heading><p id="p0001" num="0001">The present matter relates to electronic devices and in particular to systems and methods for estimating the signal baseline of a proximity sensor associated with an electronic device.</p><heading id="h0002"><b>BACKGROUND</b></heading><p id="p0002" num="0002">Electronic devices are commonly used to receive data through various input interfaces or input devices such as microphones, touchscreen displays, keyboards, trackballs, etc. Proximity sensors on electronic devices can gather proximity data to use as a parameter in a determination of the type of input interface or input device to employ to receive data. Proximity sensors commonly have an at-rest, no-object-present level (a "baseline") which is used to analyze the gathered proximity data.</p><heading id="h0003"><b>BRIEF DESCRIPTION OF DRAWINGS</b></heading><p id="p0003" num="0003">In order that the subject matter may be readily understood, embodiments are illustrated by way of examples in the accompanying drawings, in which:
<ul><li><figref idrefs="f0001">Figure 1</figref> is a block diagram illustrating the components of a network infrastructure;</li><li><figref idrefs="f0002">Figure 2</figref> is a block diagram illustrating components of an electronic device;</li><li><figref idrefs="f0003">Figure 3</figref> is a top view of an electronic device;</li><li><figref idrefs="f0004">Figure 4</figref> is a flowchart illustrating a method of deactivating a touchscreen display when an object is closer to the electronic device than a predetermined threshold distance;</li><li><figref idrefs="f0005">Figure 5</figref> is a flowchart illustrating a method of estimating a baseline of a proximity sensor on an electronic device; and</li><li><figref idrefs="f0006">Figure 6</figref> is a block diagram illustrating an exemplary method for approximating a baseline of a proximity sensor on an electronic device.</li></ul><!-- EPO <DP n="2"> --></p><heading id="h0004"><b>DETAILED DESCRIPTION</b></heading><p id="p0004" num="0004">In accordance with an aspect, the present disclosure describes a method of estimating a baseline of a proximity sensor on an electronic device, the method comprising collecting proximity sensor data at the electronic device using the proximity sensor; determining that no object is proximal to a first face of the electronic device based on the proximity sensor data; collecting second data using a second source at the electronic device; determining that no object is proximal to the first face of the electronic device based on the second data; obtaining a sample of the proximity sensor data at the electronic device when it is determined that no object is proximal to the first face of the electronic device based on the proximity sensor data and based on the second data; and approximating the baseline of the proximity sensor using the obtained sample.</p><p id="p0005" num="0005">In accordance with another aspect, the present disclosure describes an electronic communication device comprising: a memory; a proximity sensor coupled to the memory for collecting proximity sensor data; a second source coupled to the memory for collecting second data; a processor coupled to the memory to execute instructions to configure the processor to: collect proximity sensor data at the electronic device using the proximity sensor; determine that no object is proximal to a first face of the electronic device based on the proximity sensor data; collect second data using a second source at the electronic device; determine that no object is proximal to the first face of the electronic device based on the second data; obtain a sample of the proximity sensor data at the electronic device when it is determined that no object is proximal to the first face of the electronic device based on the proximity sensor data and based on the second data; and approximate the baseline of the proximity sensor using the obtained sample.</p><p id="p0006" num="0006">In accordance with another aspect, the present disclosure describes a computer readable storage medium comprising computer-executable instructions which, when executed, cause a processor to: collect proximity sensor data at the electronic device using a proximity sensor; determine that no object is proximal to a first face of the electronic device based on the proximity sensor data; collect second data using a second source at the electronic device; determine that no object is proximal to the first face of the electronic device based on the second data; obtain a sample of the proximity sensor data at the electronic device when it is determined<!-- EPO <DP n="3"> --> that no object is proximal to the first face of the electronic device based on the proximity sensor data and based on the second data; and approximate the baseline of the proximity sensor using the obtained sample.</p><heading id="h0005"><u>Example Network Infrastructure 100</u></heading><p id="p0007" num="0007">For convenience, like numerals in the description refer to like structures in the drawings. Referring to <figref idrefs="f0001">Figure 1</figref>, a typical telecommunication infrastructure is illustrated generally by numeral 100. The telecommunication infrastructure 100 includes one or more electronic devices 102, one or more base stations 104, a communication network 106, a plurality of network servers 108 and a plurality of databases 110.</p><p id="p0008" num="0008">The electronic devices 102 include wireless computing devices such as smart phones, personal digital assistants (PDAs), tablet computers, and the like. The electronic devices 102 are in communication with one of the base stations 104. The base stations 104 relay data between the electronic devices 102 and the network servers 108 via the communication network 106. Accordingly, the communication network 106 can include several components such as a wireless network, a relay, a corporate server and/or a mobile data server for relaying data between the base stations 104 and the network servers 108. The network servers 108 can be in communication with one or more databases 110 on which data can be stored. The network servers 108 can also include servers such as a Web server, an application server 108, and an application server with web services.</p><p id="p0009" num="0009">It will be appreciated by a person of ordinary skill in the art that the telecommunication infrastructure 100 described herein is exemplary and that changes may be made to one or more components to accommodate different network configurations without affecting the scope of the aspects described herein.</p><heading id="h0006"><u>Example Electronic Device 102</u></heading><p id="p0010" num="0010">Referring to <figref idrefs="f0002">Figure 2</figref>, an example electronic device 102 is illustrated in greater detail. The electronic device 102 can be a two-way electronic device having both voice and data communication capabilities, including the capability to communicate with other computer systems. Depending on the functionality provided by the electronic device 102, it may be<!-- EPO <DP n="4"> --> referred to as a data messaging device, a two-way pager, a cellular telephone with data messaging capabilities, a wireless Internet appliance, a smartphone, a tablet computer, or a communication device, for example.</p><p id="p0011" num="0011">The electronic device 102 includes a processor 238, which controls general operation of the electronic device 102. The processor 238 can interact with additional device subsystems such as a display 206, a flash memory 224, a random access memory (RAM) 226, a read only memory (ROM) 248, auxiliary input/output (I/O) subsystems 228 (such as a keyboard or trackball, for example), a data port 230, a speaker 234, a microphone 236, a short-range communication module 240 such as Bluetooth® for example, a proximity sensor 251, an orientation sensor 280, an ambient light sensor 275 and any other device subsystems or peripheral devices generally designated at 242. The processor 238 interacts with other device subsystems such as a wireless communication subsystem 211 for exchanging radio frequency signals with a base station 104 and/or a communication network 106 (not shown in <figref idrefs="f0002">Figure 2</figref>) to perform communication functions. Some of the subsystems shown in <figref idrefs="f0002">Figure 2</figref> perform communication-related functions, whereas other subsystems may provide "resident" on-device functions.</p><p id="p0012" num="0012">The electronic device 102 includes a communication subsystem 211, which includes a receiver 212, a transmitter 214, and associated components, such as one or more embedded or internal antenna elements 216 and 218, local oscillators (LOs) 213, and a processing module such as a digital signal processor (DSP) 219. As will be apparent to those skilled in field of communications, the particular design of the communication subsystem 211 depends on the communication network 106 in which the electronic device 102 is intended to operate.</p><p id="p0013" num="0013">Operating system software used by the processor 238 may be stored in a persistent store such as the flash memory 224 (which may be a ROM), a ROM 248 or similar storage element (not shown). The operating system 221, specific device applications, or parts thereof, may be temporarily loaded into a volatile store such as RAM 226.</p><p id="p0014" num="0014">The processor 238, in addition to its operating system functions, enables execution of software applications on the electronic device 102. A predetermined set of applications, which control basic device operations, is installed on the electronic device 102 during its manufacture. These basic operations typically include data and voice communication applications, for<!-- EPO <DP n="5"> --> example. Additionally, applications may also be loaded onto the electronic device 102 through the network, an auxiliary I/O subsystem 228, data port 230, short-range communication module 240, or any other suitable subsystem 242, and installed by a user in RAM 226, ROM 248 or flash memory 224, for execution by the processor 238. Such flexibility in application installation increases the functionality of the electronic device 102 and may provide enhanced on-device features, communication-related features, or both.</p><p id="p0015" num="0015">The short range communication module 240 provides for communication between the electronic device 102 and different systems or devices, which need not be similar devices. For example, the short range communication module 240 may include an infrared device and associated circuits and components, or a wireless bus protocol compliant communication mechanism such as a Bluetooth® communication module to provide for communication with similarly-enabled systems and devices.</p><p id="p0016" num="0016">The proximity sensor 251 can include an infrared light source, a sensor that receives infrared light and associated circuits and components. The proximity sensor 251 is associated with the processor 238 so that the processor can evaluate the received or measured infrared light. Infrared light can be emitted from the infrared light source and can then reflected off of objects proximal to the proximity sensor 251 and the intensity of the reflected infrared light can then be received by the sensor. It is understood that there may be objects external to the device that reflect the emitted infrared light. In one or more embodiments, emitted infrared light causes some amount of reflection off of internal components of the electronic device 102 regardless of whether there are external objects proximal to the proximity sensor 251. Thus in one or more embodiments, the proximity sensor 251 will always measure some amount of light intensity or extraneous signal. The amount of light intensity (or other measurement) that the proximity sensor 251 measures when no object external to the electronic device 102 is proximal to the proximity sensor 251 can be called the "baseline" measurement. The baseline may also include a level of noise measurement, electrical biases and/or the measurement of light that scattered through optical systems associated with the electronic device 102 and reflected back. In an exemplary embodiment, the proximity sensor 251 takes into account the baseline measurement when evaluating infrared light sensor readings in order to determine or estimate that an (external)<!-- EPO <DP n="6"> --> object is proximal to the proximity sensor 251 and thus proximal to the first face 302 (<figref idrefs="f0003">Figure 3</figref>) of the electronic device 102.</p><p id="p0017" num="0017">The proximity sensor 251 may also be associated with a timer for measuring the time between emitting the infrared light and receiving a reflection of the infrared light. For example, the time between emitting the infrared light and receiving the reflection can be used to estimate the proximity of an object to the electronic device 102.</p><p id="p0018" num="0018">The orientation sensor 280 can include a gyroscope and/or accelerometer associated with the electronic device 102. The orientation sensor 280 can measure the orientation of the electronic device 102 relative to the ground. In one or more embodiments, the orientation sensor 280 measures the acceleration and the angle of the electronic device 102 relative to the ground. The measurements taken by the orientation sensor 280 can be stored in memory 224. The orientation sensor 280 can operate in response to instructions from the processor 238 and/or from instructions through an input interface. It is understood that there can be more than one orientation sensor 280 associated with the electronic device 102.</p><p id="p0019" num="0019">The display 206 is used to visually present an application's graphical user interface (GUI) to the user. The user can manipulate application data by modifying information on the GUI using an auxiliary input/output device, such as a keyboard for example. Depending on the type of electronic device 102, the user may have access to other types of input devices, such as, for example, a scroll wheel, trackball, light pen or touch-sensitive screen.</p><p id="p0020" num="0020">The electronic device 102 may include a touchscreen display in some example embodiments. The touchscreen display may be constructed using a touch-sensitive input surface connected to an electronic controller. The touch-sensitive input surface overlays the display and may be referred to as a touch-sensitive overlay. The touch-sensitive overlay and the electronic controller provide a touch-sensitive input interface and the processor 238 interacts with the touch-sensitive overlay via the electronic controller. That is, the touchscreen display acts as both an input interface and an output interface.</p><p id="p0021" num="0021">In some example embodiments, the auxiliary input/output (I/O) subsystems 228 may include an external communication link or interface, for example, an Ethernet connection. The<!-- EPO <DP n="7"> --> electronic device 102 may include other wireless communication interfaces for communicating with other types of wireless networks; for example, a wireless network such as an orthogonal frequency division multiplexed (OFDM) network.</p><p id="p0022" num="0022">In some example embodiments, the electronic device 102 also includes a removable memory module 262 (typically including flash memory) and a memory module interface 264. Network access may be associated with a subscriber or user of the electronic device 102 via the memory module 262, which may be a Subscriber Identity Module (SIM) card for use in a GSM network or other type of memory module for use in the relevant wireless network type. The memory module 262 may be inserted in or connected to the memory module interface 264 of the electronic device 102.</p><p id="p0023" num="0023">The electronic device 102 may store data 227 in an erasable persistent memory, which in one example embodiment is the flash memory 224. In various example embodiments, the data 227 may include service data having information used by the electronic device 102 to establish and maintain communication with the communication network 106. The data 227 may also include user application data such as email messages, address book and contact information, calendar and schedule information, notepad documents, images, and other commonly stored user information stored on the electronic device 102 by its user, and other data.</p><p id="p0024" num="0024">In some example embodiments, the electronic device 102 is provided with a service routing application programming interface (API) which provides an application with the ability to route traffic through a serial data (e.g., USB) or Bluetooth® (Bluetooth® is a registered trademark of Bluetooth SIG, Inc.) connection to the host computer system using standard connectivity protocols. When a user connects their electronic device 102 to the host computer system via a USB cable or Bluetooth® connection, traffic that was destined for the communication network 106 is automatically routed to the electronic device 102 using the USB cable or Bluetooth® connection. Similarly, any traffic destined for the communication network 106 is automatically sent over the USB cable Bluetooth® connection to the host computer for processing.</p><p id="p0025" num="0025">The electronic device 102 also includes or is connected to a power source such as a battery 256, which may be one or more rechargeable batteries that may be charged, for example,<!-- EPO <DP n="8"> --> through charging circuitry coupled to a battery interface 254 such as the serial data port 230. The battery 256 provides electrical power to at least some of the electrical circuitry in the electronic device 102, and the battery interface 254 provides a mechanical and electrical connection for the battery 256. The battery interface 254 is coupled to a regulator (not shown) which provides power V+ to the circuitry of the electronic device 102.</p><p id="p0026" num="0026">A predetermined set of applications that control basic device operations, including data and possibly voice communication applications may be installed on the electronic device 102 during or after manufacture. Additional applications and/or upgrades to an operating system 221 or software applications 223 may also be loaded onto the electronic device 102 through the communication network 106, the auxiliary I/O subsystem 228, the data port 230, the short range communication module 240, or other suitable device subsystems 242. The downloaded programs or code modules may be permanently installed; for example, written into the program memory (e.g. the flash memory 224), or written into and executed from the RAM 226 for execution by the processor 238 at runtime.</p><p id="p0027" num="0027">In some example embodiments, the electronic device 102 may provide two principal modes of communication: a data communication mode and a voice communication mode. In the data communication mode, a received data signal such as a text message, an email message, or webpage download will be processed by the communication subsystem 211 and input to the processor 238 for further processing. For example, a downloaded webpage may be further processed by a web browser or an email message may be processed by the email messaging application and output to the display 206. A user of the electronic device 102 may also compose data items, such as email messages; for example, using an input interface in conjunction with the display 206. These composed items may be transmitted through the communication subsystem 211 over the communication network 106.</p><p id="p0028" num="0028">In the voice communication mode, the electronic device 102 provides telephony functions and may operate as a typical cellular phone. The overall operation is similar to the data communication mode, except that the received signals would be output to the speaker 234 and signals for transmission would be generated by a transducer such as the microphone 236. The telephony functions are provided by a combination of software/firmware (i.e., a voice<!-- EPO <DP n="9"> --> communication module) and hardware (i.e., the microphone 236, the speaker 234 and input devices). Alternative voice or audio I/O subsystems, such as a voice message recording subsystem, may also be implemented on the electronic device 102. Although voice or audio signal output may be accomplished primarily through the speaker 234, the display 206 may also be used to provide an indication of the identity of a calling party, duration of a voice call, or other voice call related information.</p><p id="p0029" num="0029">The processor 238 operates under stored program control and executes software modules 220, such as applications 223, stored in memory such as persistent memory; for example, in the flash memory 224. As illustrated in <figref idrefs="f0002">FIG. 2</figref>, the software modules 220 may include operating system software and one or more additional applications 223 or modules. The processor 238 may also operate to process data 227 stored in memory associated with the electronic device 102.</p><heading id="h0007"><u>Exemplary Electronic Device 102 with Proximity Sensor 251</u></heading><p id="p0030" num="0030">An exemplary electronic device 102 with a proximity sensor 251 is shown in <figref idrefs="f0003">Figure 3</figref>. The electronic device 102 has a first face 302 with a touchscreen display 304, an activation button 306, a microphone 236, a speaker 234 and a proximity sensor 251. It is recognized that other components that are not shown can be associated with or attached to the electronic device 102. The touchscreen display 304 can be the display 206 illustrated in <figref idrefs="f0002">Figure 2</figref> coupled with a touch-sensitive overlay.</p><p id="p0031" num="0031">The microphone 236 is configured to receive audio input and the speaker 234 is configured to output audio signals. Each of the microphone 236 and speaker 234 are associated with the processor 238 such that the audio input to the microphone 236 can be transmitted across a communication network 106 to a second electronic device and such that audio signals received from the second electronic device can be output from or at the speaker 234.</p><p id="p0032" num="0032">When the electronic device 102 is connected to the second electronic device to transmit and receive audio signals (e.g. during a phone conversion) the electronic device 102 can be adjacent to a person's head so that the speaker 234 is proximal to the ear and so that the microphone 236 is proximal to the mouth. When the electronic device 102 is adjacent to a person's head, the risk of accidental input on the touchscreen display 304 (or other input<!-- EPO <DP n="10"> --> interface) can be increased. For example, during a phone conversation the person's face may touch the touchscreen display causing unwanted or accidental input.</p><p id="p0033" num="0033">In accordance with an exemplary embodiment, the electronic device 102 can be stored in a bag or pocket or other enclosed area. When being stored, the touchscreen display 304 risks receiving accidental or unwanted input. For example, the inside of the bag, or other objects contained in the bag can touch the touchscreen display 304 causing the accidental or unwanted input.</p><p id="p0034" num="0034">To help avoid the accidental input on the touchscreen display 304 (or other tactile input interface such as a keyboard) of the electronic device 102, the touchscreen display 304 can be temporarily shut off or temporarily deactivated. When temporarily shut off, the touchscreen display 304 (or other tactile input interface) does not process or read touch input. For example, when the touchscreen display 304 is temporarily shut off a touch on the touchscreen display 304 is not processed and thus does not cause any action or processing at the electronic device 102. In accordance with an embodiment, the touchscreen display 304 is shut off in circumstances when accidental input is likely and when the touchscreen display 304 is not otherwise in use. For example, the touchscreen display 304 can be shut off or deactivated for the duration of time that accidental input is likely to occur such as when an object is proximal the first face 302 of the electronic device 102.</p><p id="p0035" num="0035">In accordance with one or more embodiments, the proximity sensor 251 can be used to detect whether an object is proximal to the first face 302 of the electronic device 102 on which the touchscreen display 304 resides. In accordance with the illustrated embodiment, the proximity sensor 251 is facing the same direction as the first face 302 so that the proximity sensor 251 detects or measures the proximity of objects to the first face 302. For example, the proximity sensor 251 can gather data regarding the proximity of nearby objects and this data can be used to estimate the distance that an object is from the first face 302.</p><p id="p0036" num="0036"><figref idrefs="f0004">Figure 4</figref> is a flowchart illustrating at 400 an exemplary method of using proximity sensor data to manage accidental input on the touchscreen display 304. The proximity sensor 251 is associated with an infrared light emitter that emits infrared light at specific times, on instruction (e.g. from the processor 238) or periodically. The reflection of the emitted infrared light is picked<!-- EPO <DP n="11"> --> up and measured by the proximity sensor 251. For example the proximity sensor 251 has or is associated with an infrared light sensor that can receive infrared light and determine the received light's intensity.</p><p id="p0037" num="0037">At 402, data is collected using the proximity sensor 251 at the electronic device 102. The collected data can include the intensity of the infrared light received at the proximity sensor 251. The received infrared light can result from infrared light emanating from the proximity sensor 251 (or infrared light emitter) and reflecting off of one or more objects proximal the proximity sensor 251. In a further example, the collected data can include the elapsed time before detection of reflection or a measurement of the intensity of reflected light, for example. For example, the elapsed time can be a measurement of the amount of time that has lapsed between the emission of the infrared light from the proximity sensor 251 (or the associated infrared light emitter) and the reception of the reflected infrared light at the proximity sensor 251. The processor 238 can store the data collected by the proximity sensor 251 in memory 224.</p><p id="p0038" num="0038">At 404 the distance of the object is estimated using the data collected by the proximity sensor 251. For example, the processor can use the measured intensity of infrared light received at the proximity sensor to estimate or calculate the distance that the objects is from the first face 302. By way of further example, the collected data may indicate the amount of time elapsed between the emission of the infrared signal or light and the reception of the reflected infrared light. An estimation of the distance that the object is from the first face 302 of the electronic device 102 can be calculated using this amount of elapsed time. It is understood that the proximity sensor 251 can operate using other processes for measuring the proximity of the object based on the emission or reception of infrared light.</p><p id="p0039" num="0039">At 406 the calculated distance of the object is compared to a threshold level. For example, the threshold can be a numerical value stored in memory 244 of the electronic device 102 and the processor 238 can compare the threshold to the calculated distance. If the calculated distance is smaller than the threshold level, the object is considered to be closer to the first face 302 of the electronic device 102 than the threshold level.</p><p id="p0040" num="0040">If the calculated distance of the object is closer to the first face 302 than the threshold level, then the touchscreen display is temporarily shut off (at 408). In accordance with one or<!-- EPO <DP n="12"> --> more embodiments, only the touchscreen or input feature of the touchscreen display is deactivated while the output of the touchscreen display remains operational. The method may then proceed to collect proximity data again (at 402). For example, the electronic device 102 may wait a predetermined amount of time before proceeding to collect proximity data.</p><p id="p0041" num="0041">If the calculated distance of the object is not closer than the threshold distance (i.e. the calculated distance value is greater than the threshold level), then the method proceeds to collect proximity data again (at 402) without shutting off or deactivating the touchscreen. For example, the electronic device 102 may wait a predetermined amount of time before proceeding to collect proximity data.</p><p id="p0042" num="0042">In accordance with an embodiment, the threshold level is a value that is dependent on a baseline value associated with a state in which it is estimated that no object is proximate to the first face 302. For example, each of the threshold level and baseline value can be stored in memory 224 on the electronic device 102 and can represent distances (e.g. distances from the first face 302). The threshold level can be an offset above or below the baseline value.</p><p id="p0043" num="0043">An initial baseline can be set in the electronic device 102 during its manufacture. For example, the initial baseline value can be stored into memory 224 during the manufacturing process.</p><p id="p0044" num="0044">The baseline can be calculated or updated using data retrieved by the proximity sensor 251. For example, the proximity sensor 251 can measure the signal of any reflected infrared light when no object is proximal the first face 302 of the electronic device 102, which can in turn be used to calculate the baseline value.</p><p id="p0045" num="0045">The baseline can be calculated, reset or re-established periodically. For example, after a predetermined amount of time has elapsed since the previous baseline calculation, proximity data is collected and a new baseline value is calculated.</p><p id="p0046" num="0046">One or more environmental factors can alter the measured proximity data and thus the baseline value. For example, proximity data (and hence the calculated baseline value) can vary depending on the temperature of the electronic device 102, the ambient light conditions in and around the electronic device 102 and/or the battery voltage.<!-- EPO <DP n="13"> --></p><heading id="h0008"><u>Exemplary Method for Estimating a Baseline</u></heading><p id="p0047" num="0047"><figref idrefs="f0005">Figure 5</figref> depicts an exemplary method 500 of estimating a baseline of a proximity sensor 251 on an electronic device 102.</p><p id="p0048" num="0048">At 502, the proximity sensor data is collected at the electronic device 102 using the proximity sensor 251. For example, infrared light is emitted from the electronic device 102 and the reflections of the infrared light (off of an object, for example) are measured at the proximity sensor 251. In accordance with an exemplary embodiment, the time that elapses between the infrared emission and the receipt of the reflection is measured and stored in memory 224. In accordance with an exemplary embodiment, the proximity sensor 251 can measure the intensity of the infrared light reflection received at the electronic device 102 and, using this measured intensity, can estimate the proximity of an object to the first face 302. In other words, the proximity sensor data may be the intensity of infrared light received at the proximity sensor 251.</p><p id="p0049" num="0049">At 504, a determination is made as to whether the proximity sensor data indicates that no object is proximal to the proximity sensor 251. For example, the proximity sensor 251 can detect the proximity of objects to the first face 302 of the electronic device 102. In an exemplary embodiment, the processor 238 uses the threshold level stored in memory 224 on the electronic device 102 in order to evaluate whether an object is proximal to the first face 302 by determining whether the data gathered by the proximity sensor 251 indicates that an object is closer to the first face 302 than the threshold level. In a further example, the processor 238 may use a threshold level in order to evaluate whether an object is proximal to the first face 302 by determining that the measured intensity of the infrared light received at the proximity sensor 251 (e.g. the reflection amplitude) is higher than the threshold level.</p><p id="p0050" num="0050">By way of further example, the data collected at the proximity sensor 251 can be used to calculate a distance measurement of the distance away from the proximity sensor 251 that an object is located. The calculation can be based on proximity sensor data including reflected infrared light received at the electronic device 102. In one or more embodiments, the processor 238 can take the raw infrared light reflection data (e.g. the intensity or the time since the infrared light or signal was sent from the electronic device 102) as input and use it to calculate an estimated distance of the object away from the proximity sensor 251 (e.g. on the first face 302).<!-- EPO <DP n="14"> --> Such calculations can be performed using an existing baseline value which can normalize the proximity sensor data readings. By way of further example, the threshold level(s) can be an offset from the baseline value or baseline measurement. The existing baseline value can be stored in memory 224. In one or more further embodiments, the proximity sensor data is not used to calculate a distance of an object from the proximity sensor 251 but is instead used to measure the intensity of infrared light reflected off of the object. For example, if the measured intensity is less than a threshold level then it is determined that there is no object proximal to the first face 302.</p><p id="p0051" num="0051">The proximity sensor 251 may be directed out of the first face 302 as shown in <figref idrefs="f0003">Figure 3</figref>. In other words, the infrared light may be emanating from the first face 302 in order to reflect off of objects within a distance of X from the first face 302 of the electronic device 102. In one or more other embodiments, there may be one or more proximity sensors 251 at one or more other locations on the electronic device 102. In accordance with an exemplary embodiment, the first face 302 is the face of the electronic device 102 on which the display 206 is located. Similarly, the first face 302 is where the microphone and/or speaker can be located. Therefore, when the electronic device 102 is being used as a phone, the first face 302 is proximal to the person who is talking on the phone. Similarly, when the electronic device 102 is being used as a phone the proximity sensor 251 is configured to detect that a person is proximal to the first face 302 of the electronic device 102.</p><p id="p0052" num="0052">If it is determined that an object is possibly or likely proximal to the first face 302 (or the proximity sensor 251) based on the proximity sensor data, then the proximity sensor data is again collected using the proximity sensor 251 at 502. There may be a time lag before proximity sensor data is again collected.</p><p id="p0053" num="0053">If it is determined that no object is likely proximal to the first face 302 based on the proximity sensor data, second data is collected using a second source at the electronic device 102 at 506. The second source can be attached to the electronic device 102 or can be in communication with the electronic device 102. The second data can be received by the second source and stored in the memory 224 of the electronic device 102 for example.<!-- EPO <DP n="15"> --></p><p id="p0054" num="0054">In accordance with an exemplary embodiment, collecting second data using a second source at the electronic device 102 can include determining the orientation of the electronic device 102 using the orientation sensor 280. In other words, the second source can be the orientation sensor 280 and the second data can be the orientation of the electronic device 102. For example, the orientation of the electronic device 102 can include the angle of the electronic device 102 relative to the ground, as measured by the orientation sensor 280. By way of further example, the orientation of the electronic device 102 can include the acceleration of the electronic device 102 relative to the ground, as measured by the orientation sensor 280.</p><p id="p0055" num="0055">In accordance with an exemplary embodiment, collecting second data using a second source at the electronic device 102 includes evaluating whether one of the proximity sensor data or the proximity sensor 251 are being accessed by a component associated with the electronic device 102. A component can include an application or process running or executing on the electronic device 102 or an application that is accessing the proximity sensor data or proximity sensor 251 from a remote location (e.g. through a network). By way of example, the operating system may be accessing proximity sensor data to determine whether a finger is covering optical apertures associated with the light sensor and proximity sensor when the electronic device 102 is being held. The evaluation can be performed by the processor 238. For example, the processor 238 can determine whether data obtained by the proximity sensor 251 is being processed on behalf of or used by an application operating on the electronic device 102. By way of further example, the processor 238 can determine that the proximity sensor 251 is in use by one or more applications or processes.</p><p id="p0056" num="0056">In accordance with an exemplary embodiment, collecting second data using a second source at the electronic device 102 includes collecting ambient light readings using a light sensor at the electronic device 102. The light sensor may be located at the first face 302 of the electronic device 102, for example. The light sensor can measure the amount, or intensity, of the light that it receives (e.g. at the first face 302 where it may be located). The measurements taken by the light sensor can be stored in memory 224 on the electronic device 102. In one or more embodiments, the proximity sensor 251 may also operate as the ambient light sensor 275 (or as a light sensor).<!-- EPO <DP n="16"> --></p><p id="p0057" num="0057">It is understood that collecting second data using a second source at the electronic device 102 can include collecting second data from multiple second sources. It is understood that there are other second sources that the electronic device 102 can use to collect data, such as other input output components and other sensors.</p><p id="p0058" num="0058">At 508 a determination is made as to whether the second data indicates that no object is proximal to the first face 302. For example, the second data collected by the second source can be compared to reference data stored in memory 224. The reference data can be previously collected data that is consistent with a state of the electronic device 102 in which no object is proximal to the first face 302. By way of further example, one or more runtime heuristics can be used in association with the second data to determine or estimate that no object is proximal the first face 302. The runtime heuristics can be a combination of second data from one or more second sources.</p><p id="p0059" num="0059">In accordance with an exemplary embodiment, determining whether no object is proximal to the first face 302 of the electronic device 102 based on the second data includes determining whether the orientation of the electronic device 102 is within a predetermined range of orientations. For example, the memory 224 associated with the electronic device 102 can store predefined orientation data including a range of orientations of the electronic device 102 that are consistent with a state of the electronic device 102 in which there is no object proximal to the first face 302. By way of further example, the electronic device 102 can access orientation data including a range of orientations from a remote source (e.g. across a communications network 106). After the orientation sensor 280 has measured the orientation of the electronic device 102, the measurement is compared (e.g. by operation of the processor 238) to the range of stored orientations. If the measurement of the orientation is within the predetermined range of orientations, then the electronic device 102 is considered to be in use whereby an object is potentially proximal the first face 302 of the electronic device 102.</p><p id="p0060" num="0060">In accordance with an exemplary embodiment, determining whether no object is proximal to the first face 302 of the electronic device 102 based on the second data includes determining whether any components associated with the electronic device 102 are accessing one of the proximity sensor data or the proximity sensor 251. For example, after the processor 238<!-- EPO <DP n="17"> --> has evaluated that no applications are accessing the proximity sensor 251 or the proximity sensor data, either from the electronic device 102 or remotely, it determines that no object is likely proximal to the first face 302.</p><p id="p0061" num="0061">In accordance with an exemplary embodiment, determining whether no object is proximal to the first face 302 of the electronic device 102 based on the second data includes determining whether the ambient light readings are consistent with predetermined conditions indicating that an object is (or is not) proximal to the first face 302. Predetermined conditions can be stored in memory 224. For example, the predetermined conditions may have been set or stored in memory when the electronic device 102 was manufactured. By way of further example, the predetermined conditions can be entered or stored into memory 224 through one or more input interfaces or input devices. The predetermined conditions can include one or more of light intensity or temperature values, for example. The predetermined conditions can be a range of settings or a range of conditions. For example, the predetermined conditions can be a range of ambient light readings (e.g. a range of light intensity or a range of temperatures) consistent with the electronic device 102 not being in use. The ambient light readings can be measurements gathered at the ambient light sensor 275. For example, the ambient light readings can be light intensity measurements. It is understood that the ambient light sensor 275 is an example of a light sensor that can be used to measure ambient light (or other light).</p><p id="p0062" num="0062">The processor 238 can compare the ambient light readings with the predetermined conditions stored in memory 224. If the ambient light readings are consistent with one or more predetermined conditions the processor 238 determines that an object is not proximal to the first face 302 of the electronic device 102. The predetermined conditions are consistent with the conditions that exist when the electronic device is not in use.</p><p id="p0063" num="0063">The ambient light readings can be measured or taken periodically at predetermined time intervals or can be triggered by an event. For example, the ambient light readings can be measured when the electronic device 102 is moved from an at-rest state.</p><p id="p0064" num="0064">It is understood that the described methods could operate such that the predetermined conditions are consistent with the conditions that exist when the electronic device 102 is in use.<!-- EPO <DP n="18"> --> In such embodiments, when the second data is consistent with the predetermined conditions the processor 238 determines that no object is proximal to the first face 302.</p><p id="p0065" num="0065">If it is determined that an object is possibly or likely proximal to the first face 302, the proximity sensor data is collected again using the proximity sensor 251 at 502. It is understood that there may be a time lag before collecting proximity sensor data again.</p><p id="p0066" num="0066">If it is determined that no object is likely proximal to the first face 302, a sample of the proximity sensor data is obtained at the electronic device 102 at 510. Obtaining a sample of the proximity sensor data at the electronic device 102 is performed when it is determined that no object is likely to be proximal to the first face 302 of the electronic device 102. For example, the determination that no object is proximal to the first face 302 of the electronic device 102 can be based on the proximity sensor data and based on the second data. In accordance with an exemplary embodiment, the sample of proximity sensor data is obtained by gathering at least one burst of a predetermined number of proximity sensor readings and a predetermined number of ambient light readings and validating the proximity sensor readings based on the ambient light readings. For example, during each burst of the predetermined number of proximity sensor readings, the ambient light sensor 275 also measures the ambient light.</p><p id="p0067" num="0067">In accordance with another embodiment, obtaining a sample of the proximity sensor data at 510 at the electronic device 102 further includes obtaining a predetermined number of valid bursts of proximity sensor readings and obtaining a predetermined number of ambient light readings, and wherein approximating the baseline using the obtained samples includes calculating an estimate of the baseline based on the proximity sensor readings and the ambient light readings.</p><p id="p0068" num="0068">In one or more embodiments, the obtaining a sample of the proximity sensor data at 510 at the electronic device 102 is only performed if it the display is turned on or illuminated (e.g. by a backlight).</p><p id="p0069" num="0069">At 512, the baseline of the proximity sensor 251 is approximated using the obtained sample. In accordance with one or more exemplary embodiments, approximating the baseline of the proximity sensor using the obtained sample includes averaging weighted samples of the<!-- EPO <DP n="19"> --> bursts of proximity sensor readings. It is understood that the proximity sensor readings could first be validated such as by using concurrent ambient light readings. By way of further example, the samples of the valid bursts of proximity sensor readings are weighted based on the ambient light readings. For example, the valid bursts of proximity sensor readings can be weighted using the concurrent ambient light reading for each burst.</p><p id="p0070" num="0070">It is understood that collecting second data at 506, determining whether no object is proximal based on the second data at 508 and obtaining a sample of the proximity sensor data 510 can be performed simultaneously. For example, the proximity sensor 251 can include the ambient light sensor, and when the second data is the ambient light readings then the second data may be collected at the same time that the samples of the proximity sensor data 510 are obtained and that the determination at 508 based on the second data is made. By way of further example the determination of whether the proximity sensor data indicates that no object is proximal to the proximity sensor 251 at 504 and the determination of whether the second data indicates that no object is proximal to the first face 302 at 508 can be performed simultaneously in or the opposite order as described above. For example, the second data can be collected before the proximity sensor data is collected such that the proximity sensor data will be collected after it is determined that no object is proximal to the first face 302 based on the second data and such that the sample of the proximity sensor data will be obtained after it is determined that the proximity sensor data indicates that no object is proximal to the proximity sensor 251.</p><heading id="h0009"><u>Exemplary Method for Approximating the Baseline</u></heading><p id="p0071" num="0071">With reference to <figref idrefs="f0006">Figure 6</figref> an exemplary method for obtaining a sample of the proximity sensor data at 510 and of approximating the baseline at 512 in accordance with one or more embodiment is depicted at 600.</p><p id="p0072" num="0072">A timeline 602 is illustrated with two proximity sensor baseline estimation sampling periods 606 and an at-rest time period 610 in between. During each sampling period 606 a set of proximity sensor data bursts 614 are gathered. The proximity sensor data bursts 614 in a sampling period 606 can be separated by a predetermined length of time or inter-burst delay 612. The at-rest time period 610 can be the time period during which it is determined that an object is proximal to the electronic device 102. For example, during the at-rest time period 610 either the<!-- EPO <DP n="20"> --> proximity sensor data or the second data may indicate that an object is likely proximal to the electronic device 102.</p><p id="p0073" num="0073">A timeline 604 shows two sequential data bursts 614 in more detail separated by an inter-burst delay 612. Each data burst 614 is made up of four proximity samples 616. Each proximity sample 616 can be an infrared light emission and reflection reading for example. The vertical height of the proximity samples 616 may represent the intensity of each proximity sample 616 received at the proximity sensor 251. For example, the height of the proximity samples can be the intensity of the light measured at the proximity sensor 251 during and/or after an infrared light is emitted from the proximity sensor 251. The measured intensity level can be from emitted infrared light that is reflected off of nearby objects, for example. It is understood that there can be fewer or more than four proximity samples 616 in each data burst 614. The inter-burst delay 612 can be a predetermined length of time. For example, the length of the inter-burst delay 612 can be preprogrammed into memory 224 during manufacture of the electronic device 102 or it can be input through an input interface during use of the electronic device 102. In certain embodiments, the inter-burst delay 612 can vary based on the second data. For example, certain second data (such as certain ambient light readings) may be associated in memory 224 with a certain (e.g. predefined) inter-burst delay 612.</p><p id="p0074" num="0074">The number of data bursts 614 in a set of data bursts can be predefined and/or can depend on the number of valid proximity sensor readings 616 that are obtained within the sampling period 606. Alternatively, the sampling period 606 can depend on the number of obtained data bursts 614. For example, there can be three data bursts 614 in each sampling period 606 with each data burst containing four valid proximity sensor readings 616. Each valid proximity sensor reading 616 can be a value such as a light intensity value or a time value associated with the time elapsed between the light emission and the receipt of the reflected light. In the illustrated embodiment, the intensity level of the proximity sensor readings 616 (e.g. the intensity level measured at the proximity sensor 251 after or during the emission of infrared light) and of the data bursts 614 is shown on the y-axis 651. The intensity of the data bursts 614 can be the average intensity of the proximity sensor readings 616 obtained during the sampling period 606 or can be the average of the valid samples 616 obtained during the time period 606, for example. In one or more embodiments, certain conditions are used to validate the proximity sensor<!-- EPO <DP n="21"> --> readings 616 or readings, such as absolute value of the light intensity measurements of the samples 616 and the difference between the maximum and minimum of the proximity sensor readings 616 within a single data burst 614. For example, there may be a predetermined threshold value that the conditions are compared to (so as to exclude proximity sensor readings 616 taken under certain conditions that fall within the threshold value, for example) or there may be dynamic heuristics used to exclude proximity sensor readings 616 taken under certain conditions. In one or more embodiments, ambient light readings can be measured simultaneously with each proximity sensor reading 616 or with each proximity sensor data burst 614. The difference between the maximum and minimum of the ambient light samples within a single proximity sensor data burst 614 can be used to validate the proximity sensor readings 616.</p><p id="p0075" num="0075">In accordance with one or more embodiments, the set of data bursts 614 including the proximity sensor readings 616 obtained during a sampling period 606 are the samples obtained of the proximity sensor data identified at 510 in <figref idrefs="f0005">Figure 5</figref>. Approximating the baseline at 512 using the obtained samples can be a calculation or a separate method that can be carried out (e.g. by the processor 238) using the samples obtained during the most recent sampling period 606. In one or more embodiments, approximating the baseline at 512 using the obtained samples can be a calculation or separate method that is carried out using the samples obtained during all of the data bursts 614 that occurred since the time that the previous approximation of the baseline was calculated. Approximating the baseline can be a calculation that is carried out during the at-rest time period 610 or shortly after the sampling period 606. The timing of the calculation of the approximation of the baseline can be any suitable value. The approximation 512 can be calculated using the whole set of proximity sensor readings 616 during the sampling period 606. In a further example, the approximation calculation 512 may be performed on proximity sensor readings 616 in one or more sampling periods 606. In a further example, one or more computing metrics can be performed on a data burst 614 to reduce or represent the proximity sensor readings 616 in the data burst 614 as one or more values that can then be used in the approximation calculation 512. In such an example, the approximation 512 can be performed on the one or more value provided in one or more data bursts 614. Thus the data that can be used to perform the approximation calculation can include one or more data bursts 614, or one or more proximity sensor readings 616<!-- EPO <DP n="22"> --></p><p id="p0076" num="0076">In accordance with one or more exemplary embodiments, after a number, M, of data bursts 614 have completed, an approximation method is run or executed by the processor 238 to estimate the baseline of the proximity sensor 251 based on the M data bursts 614.</p><p id="p0077" num="0077">In accordance with one or more embodiments, a predefined number of data bursts 614 are taken with a predefined at-rest time period 612 between each data burst 614 when obtaining a sample of the proximity sensor data at 510. Alternatively, there is one data burst 614 taken with a predefined number of proximity sensor readings 616 when obtaining a sample of the proximity sensor data at 510. In the latter embodiment(s), the at-rest time period 610 can be a period when either the proximity sensor 251 or the second source provides data indicating that there is an object proximal to the first face 302. The at-rest time period 610 can also be a period when the proximity sensor 251 is in use by another application or component, for example.</p><p id="p0078" num="0078">Each proximity sensor data burst 614 has a proximity metric, <i>P<sub>B</sub></i>, derived from the maximum value in a burst, <i>B.</i> It is understood that other forms of minimum, maximum, average or other filters on the proximity sensor data from a burst <i>B</i> could yield a suitable metric <i>p<sub>B</sub></i>. It is also understood that other types of filters that reduce the risk of underestimating the value of the baseline can be used. In the illustrated embodiment, the proximity metric is a measurement of the intensity of infrared light or infrared signal measured at the proximity sensor 251.</p><p id="p0079" num="0079">A weighting function, <i>W</i>(<i>p</i>, <i>L</i>), derives a weight for the proximity metric, <i>p<sub>B</sub></i>, based on an ambient light metric, <i>L<sub>B</sub></i>. The ambient light metric, <i>L<sub>B</sub></i>, can be based on average light intensity measured by the ambient light sensor 275 during the sampling of the data burst 614 by the proximity sensor 251. It is understood that some ambient light conditions are more likely to be present in states when the electronic device 102 is idle or when it is determined that no object is proximal the first face 302. The weighting function can be tuned to compensate for effects of ambient light on proximity sensor readings. For example, an effect is that ambient light conditions can bias the value of the proximity sensor readings 616. It is understood that the proximity sensor 251 can gather ambient light readings (i.e. light readings not from reflected infrared light) simultaneously or concurrently with the proximity sensor 251 readings or data bursts 614. In one or more embodiments, an ambient light sensor 275 can be used to gather the ambient light readings.<!-- EPO <DP n="23"> --></p><p id="p0080" num="0080">Each of the proximity metric, <i>p<sub>B</sub>,</i> the weighting function, <i>w(p,L),</i> and any other parameters or values used in the approximation method can be stored in memory 224.</p><p id="p0081" num="0081">In accordance with one or more embodiments, the baseline estimate for a set of <i>M</i> bursts can be determined by the following equation: <maths id="math0001" num=""><math display="block"><mi>Baseline</mi><mo>=</mo><mfrac><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>M</mi></munderover><msub><mi>p</mi><msub><mi>B</mi><mi>k</mi></msub></msub><mi>W</mi><mfenced><msub><mi>p</mi><msub><mi>B</mi><mi>k</mi></msub></msub><msub><mi>L</mi><msub><mi>B</mi><mi>k</mi></msub></msub></mfenced></mstyle><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>M</mi></munderover><mi>W</mi><mfenced><msub><mi>p</mi><msub><mi>B</mi><mi>k</mi></msub></msub><msub><mi>L</mi><msub><mi>B</mi><mi>k</mi></msub></msub></mfenced></mstyle></mfrac></math><img id="ib0001" file="imgb0001.tif" wi="70" he="31" img-content="math" img-format="tif"/></maths></p><p id="p0082" num="0082">In an exemplary embodiment there are 3 valid data samples 616 in each data burst 614; there are 15 data bursts 614 used when obtaining a sample of the proximity sensor data 510; and the inter-burst period 612 lasts for 3 seconds. In a further embodiment, the inter-burst period 612 lasts for 60 seconds. In a further embodiment, the weighting function is as follows: <maths id="math0002" num=""><math display="block"><mi>W</mi><mfenced><mi>p</mi><mi>L</mi></mfenced><mo>,</mo></math><img id="ib0002" file="imgb0002.tif" wi="19" he="10" img-content="math" img-format="tif"/></maths> where L is in Lux: <maths id="math0003" num=""><math display="block"><mtable columnalign="left"><mtr><mtd><mn mathvariant="normal">0.7</mn><mspace width="1em"/><mi>for</mi><mspace width="1em"/><mn mathvariant="normal">50</mn><mo>&lt;</mo><mo>=</mo><mi mathvariant="normal">L</mi><mo>&lt;</mo><mn mathvariant="normal">150</mn></mtd></mtr><mtr><mtd><mn mathvariant="normal">1.0</mn><mspace width="1em"/><mi>for</mi><mspace width="1em"/><mn mathvariant="normal">150</mn><mo>&lt;</mo><mo>=</mo><mi mathvariant="normal">L</mi><mo>&lt;</mo><mn mathvariant="normal">400</mn></mtd></mtr><mtr><mtd><mn mathvariant="normal">0.5</mn><mspace width="1em"/><mi>for</mi><mspace width="1em"/><mn mathvariant="normal">400</mn><mo>&lt;</mo><mo>=</mo><mi mathvariant="normal">L</mi><mspace width="1em"/><mn mathvariant="normal">1000</mn></mtd></mtr></mtable></math><img id="ib0003" file="imgb0003.tif" wi="46" he="33" img-content="math" img-format="tif"/></maths></p><p id="p0083" num="0083">L is an ambient light metric representing the ambient light intensity that shone on the electronic device 102 (or on the first face 302) when a data burst 614 was taken. In one or more embodiments, L is the average illuminance, measured in Lux taken during a data burst 614.</p><p id="p0084" num="0084">It is understood that the method may pause during times when the second data source indicates that there is an object proximal the first face 302 or that conditions are not compatible with an electronic device 102 at rest, thus increasing the inter-burst time period 612.</p><p id="p0085" num="0085">While the present application is primarily described in terms of methods, a person of ordinary skill in the art will understand that the present application is also directed to various apparatus' such as electronic devices 102 including a mobile communications device. The<!-- EPO <DP n="24"> --> electronic device 102 includes components for performing at least some of the aspects and features of the described methods, which may be by way of hardware components (such as the memory 224 and/or the processor 238), software or any combination of the two, or in any other manner. Moreover, an article of manufacture for use with the apparatus, such as a pre-recorded storage device or other similar computer readable storage medium including program instructions recorded thereon, or a computer data signal carrying computer readable program instructions may direct an apparatus to facilitate the practice of the described methods. For example, a compute readable storage medium may include computer executable instructions for performing one or more of the methods described herein. It is understood that such apparatus and articles of manufacture also come within the scope of the present application.</p><p id="p0086" num="0086">The term "computer readable medium" or "computer readable storage medium" as used herein means any medium which can store instructions for use by or execution by a computer or other computing device including but not limited to, a portable computer diskette, a hard disk drive (HDD), a random access memory (RAM), a read-only memory (ROM), an erasable programmable-read-only memory (EPROM) or flash memory, an optical disc such as a Compact Disc (CD), Digital Versatile Disc (DVD) or Blu-ray<sup>™</sup> Disc, and a solid state storage device (e.g., NAND flash or synchronous dynamic RAM (SDRAM)).</p><p id="p0087" num="0087">One or more embodiments have been described by way of example. It will be apparent to persons skilled in the art that a number of variations and modifications can be made without departing from the scope of what is defined in the claims.</p></description><claims mxw-id="PCLM56982360" lang="EN" load-source="patent-office"><!-- EPO <DP n="25"> --><claim id="c-en-0001" num="0001"><claim-text>A method of estimating a baseline of a proximity sensor (251) on an electronic device (102), the method comprising:
<claim-text>collecting proximity sensor data (502) at the electronic device using the proximity sensor;</claim-text>
<claim-text>collecting second data (506) using a second source at the electronic device;</claim-text>
<claim-text>obtaining a sample of the proximity sensor data (510) at the electronic device when it is determined that no object is proximal to a first face of the electronic device based on the proximity sensor data and based on the second data; and</claim-text>
<claim-text>approximating the baseline (512) of the proximity sensor using the obtained sample.</claim-text></claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>The method of claim 1, wherein determining that no object is proximal to the first face of the electronic device based on the proximity sensor data (504) comprises determining that the proximity sensor data is below a predetermined threshold.</claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>The method of any one of claims 1 or 2, wherein collecting second data using a second source at the electronic device comprises determining the orientation of the electronic device using an orientation sensor (280).</claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>The method of claim 3, wherein determining that no object is proximal to the first face of the electronic device based on the second data (508) comprises determining that the orientation of the electronic device is within a predetermined range of orientations.</claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>The method of any one of claims 1 to 4, wherein collecting second data using a second source at the electronic device (506) comprises evaluating whether one of the proximity sensor data or the proximity sensor are being accessed by a component associated with the electronic device.<!-- EPO <DP n="26"> --></claim-text></claim><claim id="c-en-0006" num="0006"><claim-text>The method of claim 5, wherein determining that no object is proximal to the first face of the electronic device based on the second data (508) comprises determining that no components associated with the electronic device are accessing one of the proximity sensor data or the proximity sensor.</claim-text></claim><claim id="c-en-0007" num="0007"><claim-text>The method of any one of claims 1 to 6, wherein collecting second data using a second source at the electronic device comprises collecting ambient light readings using a light sensor (275) at the electronic device.</claim-text></claim><claim id="c-en-0008" num="0008"><claim-text>The method of claim 7, wherein determining that no object is proximal to the first face of the electronic device based on the second data (508) comprises determining that the ambient light readings are consistent with predetermined conditions indicating that an object is not proximal to the first face of the electronic device.</claim-text></claim><claim id="c-en-0009" num="0009"><claim-text>The method of any one of claims 1 to 8, wherein obtaining a sample of the proximity sensor data at the electronic device comprises:
<claim-text>gathering at least one burst (614) of a predetermined number of proximity sensor readings (616); and,</claim-text>
<claim-text>validating the proximity sensor readings.</claim-text></claim-text></claim><claim id="c-en-0010" num="0010"><claim-text>The method of claim 9, wherein obtaining a sample of the proximity sensor data (510) further comprises gathering at least one burst of a predetermined number of proximity sensor readings and a predetermined number of ambient light readings and validating the proximity sensor readings based on the ambient light readings.</claim-text></claim><claim id="c-en-0011" num="0011"><claim-text>The method of any one of claims 9 or 10, wherein obtaining a sample of the proximity sensor data at the electronic device further comprises obtaining a predetermined number of valid bursts of proximity sensor readings and obtaining a predetermined number of ambient light readings, and wherein approximating the baseline using the obtained sample comprises (512) calculating an estimate of the baseline based on the proximity sensor readings and the ambient light readings.<!-- EPO <DP n="27"> --></claim-text></claim><claim id="c-en-0012" num="0012"><claim-text>The method of claim 11, wherein approximating the baseline of the proximity sensor using the obtained sample (510) comprises averaging weighted proximity sensor readings.</claim-text></claim><claim id="c-en-0013" num="0013"><claim-text>The method of any one of claims 1 to 12, wherein collecting proximity sensor data at the electronic device using the proximity sensor (502) comprises measuring, at the electronic device, a reflection of an infrared light beam emanating from the electronic device and wherein the proximity sensor data comprises the intensity of infrared light measured at the proximity sensor.</claim-text></claim><claim id="c-en-0014" num="0014"><claim-text>An electronic device (102) comprising:
<claim-text>a memory (226);</claim-text>
<claim-text>a proximity sensor (251) for collecting proximity sensor data;</claim-text>
<claim-text>a second source for collecting second data; and</claim-text>
<claim-text>a processor (238) coupled to the memory, the proximity sensor, and the second source, the processor to execute instructions to configure the processor to carry out the method of any one of claims 1 to 13.</claim-text></claim-text></claim><claim id="c-en-0015" num="0015"><claim-text>A computer readable storage medium comprising computer-executable instructions which, when executed, cause a processor (238) to carry out the method of any one of claims 1 to 13.</claim-text></claim></claims><drawings mxw-id="PDW16670740" load-source="patent-office"><!-- EPO <DP n="28"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="165" he="130" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="29"> --><figure id="f0002" num="2"><img id="if0002" file="imgf0002.tif" wi="165" he="121" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="30"> --><figure id="f0003" num="3"><img id="if0003" file="imgf0003.tif" wi="165" he="183" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="31"> --><figure id="f0004" num="4"><img id="if0004" file="imgf0004.tif" wi="165" he="145" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="32"> --><figure id="f0005" num="5"><img id="if0005" file="imgf0005.tif" wi="165" he="170" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="33"> --><figure id="f0006" num="6"><img id="if0006" file="imgf0006.tif" wi="165" he="130" img-content="drawing" img-format="tif"/></figure></drawings><search-report-data><doc-page id="srep0001" file="srep0001.tif" wi="158" he="233" type="tif"/><doc-page id="srep0002" file="srep0002.tif" wi="159" he="233" type="tif"/></search-report-data><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
