<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2681496-A1" country="EP" doc-number="2681496" kind="A1" date="20140108" family-id="45406895" file-reference-id="313847" date-produced="20180823" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146586473" ucid="EP-2681496-A1"><document-id><country>EP</country><doc-number>2681496</doc-number><kind>A1</kind><date>20140108</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-11801946-A" is-representative="NO"><document-id mxw-id="PAPP154848665" load-source="docdb" format="epo"><country>EP</country><doc-number>11801946</doc-number><kind>A</kind><date>20111212</date><lang>EN</lang></document-id><document-id mxw-id="PAPP220440114" load-source="docdb" format="original"><country>EP</country><doc-number>11801946.2</doc-number><date>20111212</date></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140548048" ucid="US-2011064452-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>2011064452</doc-number><kind>W</kind><date>20111212</date></document-id></priority-claim><priority-claim mxw-id="PPC140549792" ucid="US-201161448413-P" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>201161448413</doc-number><kind>P</kind><date>20110302</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1989318232" load-source="docdb">G05B  23/02        20060101ALI20120921BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1989323633" load-source="docdb">F24F  11/00        20060101AFI20120921BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1627944069" load-source="docdb" scheme="CPC">F24F  11/62        20180101 LI20180609BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1627944070" load-source="docdb" scheme="CPC">F24F  11/32        20180101 LA20180609BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1627944071" load-source="docdb" scheme="CPC">F24F  11/30        20180101 LI20180609BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1710182228" load-source="docdb" scheme="CPC">G05B  23/027       20130101 LI20180110BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1710182229" load-source="docdb" scheme="CPC">G05B  23/0235      20130101 LI20180110BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1710182233" load-source="docdb" scheme="CPC">G05B  15/02        20130101 LI20180110BHEP        </classification-cpc><classification-cpc mxw-id="PCL2076401721" load-source="docdb" scheme="CPC">G05D  23/1917      20130101 LI20140522BHEP        </classification-cpc><classification-cpc mxw-id="PCL2076402139" load-source="docdb" scheme="CPC">G06N   5/046       20130101 LI20140522BHEP        </classification-cpc><classification-cpc mxw-id="PCL2076403423" load-source="docdb" scheme="CPC">G05B   9/05        20130101 FI20140522BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132364052" lang="DE" load-source="patent-office">SPM-FEHLERERKENNUNG UND DIAGNOSTISCHER ALGORITHMUS</invention-title><invention-title mxw-id="PT132364053" lang="EN" load-source="patent-office">SPM FAULT DETECTION AND DIAGNOSTICS ALGORITHM</invention-title><invention-title mxw-id="PT132364054" lang="FR" load-source="patent-office">ALGORITHME DE DÉTECTION ET DE DIAGNOSTIC DE DÉFAUT SPM</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR919531275" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>CARRIER CORP</last-name><address><country>US</country></address></addressbook></applicant><applicant mxw-id="PPAR919527713" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>CARRIER CORPORATION</last-name></addressbook></applicant><applicant mxw-id="PPAR919015002" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Carrier Corporation</last-name><iid>101216977</iid><address><street>1 Carrier Place</street><city>Farmington, CT 06489</city><country>US</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR919525022" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>GIERING MICHAEL J</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR919526979" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>GIERING, Michael, J.</last-name></addressbook></inventor><inventor mxw-id="PPAR919013318" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>GIERING, Michael, J.</last-name><address><street>39 Tumblebrook Rd.</street><city>Bolton, CT 06043</city><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR919542863" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>TEWARI ASHUTOSH</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR919505973" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>TEWARI, ASHUTOSH</last-name></addressbook></inventor><inventor mxw-id="PPAR919013745" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>TEWARI, ASHUTOSH</last-name><address><street>118 Downey Dr.</street><city>Manchester, CT 06040</city><country>US</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR919014093" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Klunker . Schmitt-Nilson . Hirsch</last-name><iid>100060668</iid><address><street>Patentanwälte Destouchesstrasse 68</street><city>80796 München</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="US-2011064452-W"><document-id><country>US</country><doc-number>2011064452</doc-number><kind>W</kind><date>20111212</date><lang>EN</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2012118550-A1"><document-id><country>WO</country><doc-number>2012118550</doc-number><kind>A1</kind><date>20120907</date><lang>EN</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS549840015" load-source="docdb">AL</country><country mxw-id="DS549771260" load-source="docdb">AT</country><country mxw-id="DS549840016" load-source="docdb">BE</country><country mxw-id="DS549839472" load-source="docdb">BG</country><country mxw-id="DS549839293" load-source="docdb">CH</country><country mxw-id="DS549915052" load-source="docdb">CY</country><country mxw-id="DS549915053" load-source="docdb">CZ</country><country mxw-id="DS549853075" load-source="docdb">DE</country><country mxw-id="DS549840017" load-source="docdb">DK</country><country mxw-id="DS549840022" load-source="docdb">EE</country><country mxw-id="DS549761011" load-source="docdb">ES</country><country mxw-id="DS549839473" load-source="docdb">FI</country><country mxw-id="DS549839478" load-source="docdb">FR</country><country mxw-id="DS549853076" load-source="docdb">GB</country><country mxw-id="DS549840023" load-source="docdb">GR</country><country mxw-id="DS549853077" load-source="docdb">HR</country><country mxw-id="DS549915054" load-source="docdb">HU</country><country mxw-id="DS549839298" load-source="docdb">IE</country><country mxw-id="DS549840024" load-source="docdb">IS</country><country mxw-id="DS549839479" load-source="docdb">IT</country><country mxw-id="DS549840025" load-source="docdb">LI</country><country mxw-id="DS549853082" load-source="docdb">LT</country><country mxw-id="DS549771265" load-source="docdb">LU</country><country mxw-id="DS549839480" load-source="docdb">LV</country><country mxw-id="DS549853083" load-source="docdb">MC</country><country mxw-id="DS549771266" load-source="docdb">MK</country><country mxw-id="DS549771267" load-source="docdb">MT</country><country mxw-id="DS549761012" load-source="docdb">NL</country><country mxw-id="DS549761383" load-source="docdb">NO</country><country mxw-id="DS549761017" load-source="docdb">PL</country><country mxw-id="DS549839481" load-source="docdb">PT</country><country mxw-id="DS549915055" load-source="docdb">RO</country><country mxw-id="DS549839486" load-source="docdb">RS</country><country mxw-id="DS549761018" load-source="docdb">SE</country><country mxw-id="DS549839299" load-source="docdb">SI</country><country mxw-id="DS549761384" load-source="docdb">SK</country><country mxw-id="DS549761389" load-source="docdb">SM</country><country mxw-id="DS549771268" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data><office-specific-data><eptags><ep-no-a-document-published>*</ep-no-a-document-published></eptags></office-specific-data></bibliographic-data><abstract mxw-id="PA99830778" ref-ucid="WO-2012118550-A1" lang="EN" load-source="patent-office"><p num="0000">A method for diagnosing a fault condition in a climate system is disclosed and a computer program product for doing the same. The climate system may be an HVAC system. The method comprises receiving current data from a climate system in a fault condition, calculating an anomaly score for the climate system from a first set of transition probabilities based on the current data and a second set of transition probabilities based on the climate system operating in a normal condition, and generating automatically a diagnosis of a first problem causing the fault condition when the anomaly score is above a predefined threshold. In an embodiment, the current data may include a plurality of operational Parameters of the climate system.</p></abstract><abstract mxw-id="PA100327604" ref-ucid="WO-2012118550-A1" lang="EN" source="national office" load-source="docdb"><p>A method for diagnosing a fault condition in a climate system is disclosed and a computer program product for doing the same. The climate system may be an HVAC system. The method comprises receiving current data from a climate system in a fault condition, calculating an anomaly score for the climate system from a first set of transition probabilities based on the current data and a second set of transition probabilities based on the climate system operating in a normal condition, and generating automatically a diagnosis of a first problem causing the fault condition when the anomaly score is above a predefined threshold. In an embodiment, the current data may include a plurality of operational Parameters of the climate system.</p></abstract><abstract mxw-id="PA99830779" ref-ucid="WO-2012118550-A1" lang="FR" load-source="patent-office"><p num="0000">L'invention porte sur un procédé pour diagnostiquer une condition de défaut dans un système climatique et sur un produit de programme informatique pour exécuter celui-ci. Le système climatique peut être un système de chauffage, de ventilation et de climatisation. Le procédé met en œuvre la réception de données actuelles à partir d'un système climatique dans une condition de défaut, le calcul d'un score d'anomalies pour le système climatique à partir d'un premier ensemble de probabilités de transition sur la base des données actuelles et d'un second ensemble de probabilités de transition sur la base du système climatique fonctionnant dans une condition normale, et la génération automatique d'un diagnostic d'un premier problème provoquant la condition de défaut lorsque le score d'anomalies est supérieur à un seuil prédéfini. Dans un mode de réalisation, les données actuelles peuvent comprendre une pluralité de paramètres fonctionnels du système climatique.</p></abstract><abstract mxw-id="PA100327605" ref-ucid="WO-2012118550-A1" lang="FR" source="national office" load-source="docdb"><p>L'invention porte sur un procédé pour diagnostiquer une condition de défaut dans un système climatique et sur un produit de programme informatique pour exécuter celui-ci. Le système climatique peut être un système de chauffage, de ventilation et de climatisation. Le procédé met en oeuvre la réception de données actuelles à partir d'un système climatique dans une condition de défaut, le calcul d'un score d'anomalies pour le système climatique à partir d'un premier ensemble de probabilités de transition sur la base des données actuelles et d'un second ensemble de probabilités de transition sur la base du système climatique fonctionnant dans une condition normale, et la génération automatique d'un diagnostic d'un premier problème provoquant la condition de défaut lorsque le score d'anomalies est supérieur à un seuil prédéfini. Dans un mode de réalisation, les données actuelles peuvent comprendre une pluralité de paramètres fonctionnels du système climatique.</p></abstract><description mxw-id="PDES51232348" ref-ucid="WO-2012118550-A1" lang="EN" load-source="patent-office"><!-- EPO <DP n="2"/>--><p id="p0001" num="0001"> SPM FAULT DETECTION AND DIAGNOSTICS ALGORITHM </p><p id="p0002" num="0002">FffiLD OF THE DISCLOSURE </p><p id="p0003" num="0003">[0001] The present disclosure generally relates to a method and computer program product for fault detection and diagnosis of climate systems such as Heating, Ventilating and Air Conditioning (HVAC) systems, and more particularly refrigeration systems. </p><p id="p0004" num="0004">BACKGROUND OF THE DISCLOSURE </p><p id="p0005" num="0005">[0002] HVAC systems are commonly known in the art and are used in a variety of commercial, industrial, and residential applications. One example of such a system is the refrigeration systems used by commercial establishments such as grocery stores. </p><p id="p0006" num="0006">[0003] As these systems have increased in complexity and scale, troubleshooting has become more difficult. This difficulty is compounded by the fact that in some climate systems, such as refrigeration systems, troubleshooting operational problems may be very time sensitive. For example, if there is a loss of cooling in a refrigeration system and the temperature of stored food rises above a certain level, the stored food must be discarded. Such a loss is costly for the commercial establishment. </p><p id="p0007" num="0007">[0004] Troubleshooting climate systems is typically performed on a job site by a technician or through a remote call-in service center that services multiple climate systems. Monitoring systems often operate around the clock everyday. Operators monitoring climate systems must diagnose fault detections quickly and provide a rapid response to customers. As the number of systems monitored increases, the likelihood of different systems simultaneously requiring fault detection and diagnosis also increases. Such a situation strains the capacity of monitoring systems and may result in delayed 
<!-- EPO <DP n="3"/>-->
 diagnosis. There is a need for a diagnostic method and system that will increase the efficiency and speed of troubleshooting climate systems. </p><p id="p0008" num="0008">SUMMARY OF THE DISCLOSURE </p><p id="p0009" num="0009">[0005] In accordance with one aspect of the disclosure, a method for diagnosing a fault condition in a climate system is disclosed. The method may comprise receiving current Parameters from a climate system in the fault condition, determining a first set of transition probabilities based on the current Parameters, determining a second set of transition probabilities based on historical Parameters from the climate system operating under normal conditions, calculating an anomaly score for the climate system from the first set of transition probabilities and the second set of transition probabilities, and generating automatically a diagnosis of a first problem causing the fault condition when the anomaly score is above a predefined threshold. The current Parameters may include a plurality of current measured and estimated data from the climate system and the historical Parameters may include a plurality of historical measured and estimated data from the climate system. </p><p id="p0010" num="0010">[0006] In accordance with another aspect of the disclosure, a method for diagnosing problems in a refrigeration system is disclosed. The method may comprise receiving Parameters from the refrigeration system, determining a first class and a second class of anomaly groupings, determining the probability of the progression of the refrigeration system from the first class of anomaly groupings to the second class of anomaly groupings, calculating an anomaly score for the refrigeration system, automatically diagnosing first and second problems in the climate system, and transmitting the 
<!-- EPO <DP n="4"/>-->
 diagnosis for display on a user interface. The Parameters may include a plurality of measured and estimated data from the refrigeration system. </p><p id="p0011" num="0011">[0007] In accordance with yet another aspect of the disclosure, a computer program product is disclosed. The computer program product may comprises a computer usable medium having a computer readable program code embodied therein. The computer readable program code may be adapted to be executed to implement a method for diagnosing a fault condition in a climate system. The method implemented may comprise receiving current Parameters from a climate system in the fault condition, the current Parameters including a plurality of current measured and estimated data from the climate system, determining a first set of transition probabilities based on the current Parameters, determining a second set of transition probabilities based on historical Parameters from the climate system operating under normal conditions, the historical Parameters including a plurality of historical measured and estimated data from the climate system, calculating an anomaly score for the climate system from the first set of transition probabilities and the second set of transition probabilities, and when the anomaly score is above a predefined threshold, generating automatically a diagnosis of a first problem causing the fault condition. </p><p id="p0012" num="0012">[0008] These and other aspects of this disclosure will become more readily apparent upon reading the following detailed description when taken in conjunction with the accompanying drawings. </p><p id="p0013" num="0013">BRIEF DESCRIPTION OF THE DRAWINGS </p><p id="p0014" num="0014">[0009] FIG. 1 is a schematic showing an embodiment of a system for monitoring an embodiment of a climate system; 
<!-- EPO <DP n="5"/>-->
 [0010] FIG. 2 is a flowchart depicting a sample sequence of steps, which may be practiced according to the method of the present disclosure, to build the baseline model of the climate system of FIG. 1; </p><p id="p0015" num="0015">[0011] FIG. 3 illustrates one embodiment of classes derived from the observed probability distribution of the scaled residual vector calculated for the Singular Valve Decomposition Model for an exemplary climate system; </p><p id="p0016" num="0016">[0012] FIG. 4 is a flowchart depicting a sample sequence of steps, which may be practiced according to the method of the present disclosure, to identify and diagnose a fault in the climate system of FIG. 1; and </p><p id="p0017" num="0017">[0013] FIG. 5 illustrates an embodiment of a user interface displaying fault detection diagnosis and recommended corrective action. </p><p id="p0018" num="0018">[0014] While the present disclosure is susceptible to various modifications and alternative constructions, certain illustrative embodiments thereof have been shown in the drawings and will be described below in detail. It should be understood, however, that there is no intention to be limited to the specific embodiments disclosed, but on the contrary, the intention is to cover all modifications, alternative constructions, and equivalents falling with the spirit and scope of the present disclosure. </p><p id="p0019" num="0019">DETAILED DESCRIPTION </p><p id="p0020" num="0020">[0015] Disclosed herein is a system and method that performs fault detection and system level diagnostics to detect system level anomalies in complex systems and diagnose root cause drivers. As part of the present disclosure, a linear mixture model may be built as a baseline model. Differences may be then analyzed between the baseline model and data received from the system. The differences may be characterized using 
<!-- EPO <DP n="6"/>-->
 semantic analysis. The semantic states in a Markov model may be used to capture the dynamic information of the system fault evolution. The present disclosure may be computationally scalable and flexible with respect to the types of inputs that it may receive, and may combine information from physics based estimation models, component models, control data and system summary statistics. </p><p id="p0021" num="0021">[0016] Referring to the drawings and with particular reference to FIG. 1, a schematic showing an exemplary system for monitoring one possible embodiment of a climate system is provided. Such monitoring system is referred to as reference number 100. In the embodiment illustrated in FIG. 1, the climate system is a refrigeration system 110, however, the monitoring system and method disclosed herein is not limited to the monitoring of a refrigeration system 110 but may be used with any type of HVAC climate system. </p><p id="p0022" num="0022">[0017] As shown in FIG. 1, the refrigeration system 110 may comprise refrigeration equipment 112, fans 114, valves 116 and sensors 118 for measuring operating parameters of the refrigeration system 110. The refrigeration equipment 112 may include, but is not limited to, refrigeration lines, compressors and evaporator heat exchangers. The valves 116 may include discharge, suction and flow control valves. The fans 114 may include fans and other air flow and ventilation components and equipment. In some embodiments, a first controller 120 may be used to orchestrate and control the other elements of the refrigeration system 110. A user interface 122 may be connected to the first controller 120 for controlling, monitoring and maintaining the refrigeration system 110. </p><p id="p0023" num="0023">[0018] The monitoring system 100 is connected to and monitors one or more climate systems 1 10. As shown in FIG. 1, the monitoring system 100 may be remotely located 
<!-- EPO <DP n="7"/>-->
 from the refrigeration system and may be connected to the refrigeration system 110 by a communication link 130 such as the internet or other type of appropriate communication network across which data may be received from the refrigeration system 110 by the monitoring system 100. In some embodiments, data may also be sent by the monitoring system 100 across the communication link 130 to the refrigeration system 110 or to the user interface 122 connected to the refrigeration system 110. </p><p id="p0024" num="0024">[0019] The monitoring system 100 may comprise a monitoring controller 132 and a memory 134 connected to the monitoring controller 132. A monitoring user interface 136 may also be connected to the controller 132. A computer program product comprising a computer usable medium having a computer readable program code embodied therein may be stored in the memory 134 and may be adapted to be executed to implement the method of diagnosing a fault condition as disclosed herein. </p><p id="p0025" num="0025">[0020] While in the embodiment illustrated in FIG. 1, the monitoring system 100 is remotely is connected to the refrigeration system's controller 120, other types of configurations may be utilized in other embodiments. For example, the monitoring system may be on-site with the climate system 110 and may also replace the function of the climate system's controller 120. In some embodiments, the user interface 122 may be connected to the monitoring system controller 132 and the refrigeration system controller 120. Such an interface may be able to receive and transmit information from the monitoring system controller 132, receive and transmit information from the refrigeration system 110 and control some or all of the elements of the refrigeration system 110. </p><p id="p0026" num="0026">[0021] To provide for the monitoring system 100 to efficiently detect faults in a refrigeration system 110, a baseline model is developed over a period of time for each 
<!-- EPO <DP n="8"/>-->
 refrigeration system 110 (climate system) monitored by the monitoring system 100. Such a baseline model provides information on how each refrigeration system 110 should function based on the age and type of refrigeration equipment, fans, valves, the physical location of the equipment and other factors that may affect the performance and life cycle of the refrigeration system 110. The baseline model represents the typical or "normal" operating patterns and anomaly patterns for the specific refrigeration system 110 being monitored. </p><p id="p0027" num="0027">[0022] FIG. 2 illustrates an embodiment of one process for building the baseline model. In step 200 measured data from sensors and estimated data (collectively, "Parameters") are received by the monitoring system 100 from the refrigeration system 110. The measured data may be collected from the various sensors 118 that monitor the operation of the refrigeration system 1 10. For example, sensors 118 may provide operational data from different refrigeration zones, air handling units, bridges, and electrical units. Measured data may include the temperatures in various refrigerator cases and compressors, pressure readings, fan speeds, the amount of energy used by the compressors, and the air flow rates. Estimated data may include system information that is not directly measured by the sensors 118 but that may be calculated based on known or measured data. For example, such estimated data may include water flow rates, which may be estimated through energy balance equations. Installation of flow meters may be expensive relative to other types of meters. If the flow information is not directly needed for control of a system 110, they may not be installed. Estimated data may also include component energy use. Total energy usage for a component piece of equipment may often be estimated through physics based models. 
<!-- EPO <DP n="9"/>-->
 [0023] In step 202, a reduced rank iterative Singular Value Decomposition (SVD) Model is created using the measured and estimated data as it is collected over time. The followin is one exam le of such a SVD model that may be utilized: 
<img id="imgf000009_0001" he="12" wi="68" file="imgf000009_0001.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="no"/>
 </p><p id="p0028" num="0028"> [0025] In the model above, the left and right eigenvectors Uj and v, are obtained by the singular value decomposition of the sensor data matrix X. </p><p id="p0029" num="0029"> [0026] The SVD Model may be updated over time in streaming fashion if desired. The time period for building the model is discretionary based on the complexity of the climate system. To determine typical anomaly patterns for the refrigeration system 110 each time the SVD Model is updated, a SVD residual score may be created as a sum of XR (step 204). X<sub>R</sub> is a non-negative residual matrix obtained as shown below where X is the new data received from the refrigeration system 110 and X represents the last baseline model created using SVD. </p><p id="p0030" num="0030"> X <sub>D</sub> = \X </p><p id="p0031" num="0031"> [0028] The scaled residual vector (column of XR) may be viewed as an observed probability distribution. FIG. 3 illustrates a probability distribution 300 for an exemplary SVD residual score associated with a model for refrigeration system 110. Features of the refrigeration system 110 may be numbered across the x-axis of the probability distribution. The features may be based at least in part on or may be derived from the operational Parameters (measured and estimated data) of the refrigeration system 110. For example, such variables may include "gas cooler fan power," "gas cooler air flow rate," and "total cooling capacity." The y-axis of the probability distribution 300 represents the features relative contribution to the scaled residual vector. 
<!-- EPO <DP n="10"/>-->
 [0029] An observed probability distribution 300 may be comprised of a mixture of hidden condition classes of commonly co-occurring faults or "anomaly groupings" that may not be readily apparent from the observed probability distribution 300. Such classes may represent the "signatures" of different operation modes (normal or anomalous). Such classes may be broken out from the observed probability distribution 300, and an estimated mixing weight (weighted average) assigned to each class for the class' contribution to the aggregate probability distribution 300. In step 206, Probabilistic Latent Semantic Analysis (PLSA) based on an EM algorithm that maximizes the likelihood of the observed data may be used to generate such classes. In this algorithm, features generation is iterative and minimizes KL-Divergence. The KL-Divergence is a measure of the difference between two probability distributions. This may also be referred to as the "information divergence" or "relative entropy". Herein, the two distributions are the measured data distribution and expected data distribution from the building of the baseline model. </p><p id="p0032" num="0032">[0030] The result is that the parent probability distribution 300 is broken down into a number of classes each represented by its own probability distribution of features within the class. FIG. 3 illustrates an embodiment of the initial "parent" probability distribution 300 and the probability distributions for each resulting class 301-307. The features across the x-axis of each class' probability distribution 301-307 are the same set of features across the x-axis as in the parent probability distribution 300. </p><p id="p0033" num="0033">[0031] Each mixing weight 308-314 associated with each hidden condition class 301- 307 probability distribution may be analogous to a weighted average associated with each class 308-314. As shown in the embodiment illustrated in FIG. 3, there are seven hidden condition classes 301-307. "Class One" (and its probability distribution) 301 has a 
<!-- EPO <DP n="11"/>-->
 mixing weight 308 of about 40% and "Class Two" (and its probability distribution) 302 has a mixing weight 309 of about 55%. Each of the remaining classes 303-307 has a mixing weight (310-314) of 1%. Thus, in this embodiment, it is likely that the current condition flagged by the SVD residual score may be due to conditions represented by "Class One" 301 and "Class Two" 302. For example, if "Class One" represents moderate gas cooler fouling in conjunction with motor degradation, and Class Two represents fan blockage in conjunction with overheating of the refrigeration case, about 40% of the current aggregate condition of the refrigeration system may be due to moderate gas cooler fouling and motor degradation, and about 55% due to a fan blockage resulting in overheating of the refrigeration case. In other embodiments, greater or fewer hidden condition classes may be found and the values assigned to the mixing weights may be different. As the model of the refrigeration system is built and classes are diagnosed related to various anomaly situations, the resultant classes and their probability distributions associated with a diagnosis are stored in the memory 134 for future reference (step 208). </p><p id="p0034" num="0034">[0032] The various condition classes help diagnose a condition at a point in time. In step 210, a Markov Model may then be used to understand the progression of a condition in the refrigeration system over time in order to more accurately diagnose the root cause of a fault condition. Using a Markov Model, data obtained during normal operation of the refrigeration system may be used to learn the transition probabilities between the various hidden condition classes. For example, if in an embodiment the system determines that the observed probability distribution 300 of a refrigeration system 110 is experiencing an operating condition primarily driven by the conditions represented by Class One 301, the Markov Model may indicate that it is 30% likely that the current 
<!-- EPO <DP n="12"/>-->
 operating condition of the refrigeration system will progress or transition to the conditions represented by Class Four 304 and 70% likely that the current operating condition of the refrigeration will transition to the conditions represented by Class Five 305. </p><p id="p0035" num="0035">[0033] A first order Markov Model may be created using the features as discrete states to identify the transition probabilities between each class. The PLSA mixing weights 308-314 are used to determine the most likely state "z" at each point in time, z(0), z(l) . . . z(N). The transition probabilities may be estimated as 
<img id="imgf000012_0001" he="12" wi="54" file="imgf000012_0001.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="no"/>
 </p><p id="p0036" num="0036"> [0035] The Bi-variate distribution is estimated as </p><p id="p0037" num="0037">[0036] <sup>1 !=</sup>° </p><p id="p0038" num="0038"> [0037] Understanding the expected transitions in a system based on historical data allows the system 110 to identify those situations when the expected progression of the "normal" condition in the refrigeration system (due to aging, typical maintenance issues, and wear and tear) differs from the estimated evolution of a current condition of the refrigeration system. In step 212 the results of step 210 are periodically stored in memory for future use. Steps 200 - 210 or the process in FIG. 2 may be repeated each time new data is received for the refrigeration system 110. Step 212 may be performed periodically in a batch mode. </p><p id="p0039" num="0039">[0038] Once the baseline model is sufficiently developed, the system is able to automatically detect and identify problems. The term "automatically" refers to the 
<!-- EPO <DP n="13"/>-->
 detection and diagnosis of the problem without having human intervention. The process is outlined in FIG. 4. </p><p id="p0040" num="0040">[0039] Referring now to FIG. 4, in step 400 the monitoring system 100 is ready to receive Parameters from the refrigeration system 110. In step 401, the monitoring system 100 receives Parameters from the refrigeration system 110. In step 402, the monitoring system 100 generates a SVD Model using the same methodology as discussed above in relation to step 202 of the flow chart depicted in FIG. 2 (for building the baseline model for the refrigeration system 110). </p><p id="p0041" num="0041">[0040] Similarly, in step 404 the monitoring system 100 generates a SVD residual score using the same methodology as discussed with regard to step 204 of FIG. 2. </p><p id="p0042" num="0042">Likewise, in step 406, the monitoring system 100 determines the classes and mixing weights using the same methodology as discussed above with regard to step 206 in FIG. 2. In step 408 the monitoring system 100 determines the transition probabilities using the same methodology as discussed above in relation to step 210 in FIG. 2. </p><p id="p0043" num="0043">[0041] In step 410 an anomaly score is generated based on the transition probabilities of the current refrigeration system condition and the transition probabilities of the refrigeration system under normal conditions. This anomaly score provides a </p><p id="p0044" num="0044">measurement representing a comparison of the expected progression of the condition of the refrigeration system to the estimated progression of the current condition of the refrigeration system. Universal Hypothesis Testing (UHT) is used to obtain this anomaly score H. The anomaly score H is a UHT rate function that represents the difference between the relative entropies of bivariate distributions and univariate distributions. One embodiment of the anomaly score is shown below: 
<!-- EPO <DP n="14"/>-->
 [0042] Η = ϋ(ρ<sup>2</sup> \\ π<sup>2</sup>) -Ό(ρ \\ π) </p><p id="p0045" num="0045">[0043] On simplification this yields: 
<img id="imgf000014_0001" he="16" wi="30" file="imgf000014_0001.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="no"/>
 </p><p id="p0046" num="0046">[0044] In the above formula, P is the Transition Probability Matrix of normal behavior with marginal distribution π and bivariate distribution π<sup>2</sup>. Q is the Transition Probability matrix of observed data, with marginal distribution p and bivariate distribution p<sup>2</sup>. A threshold X is set heuristically. In step 412, if the anomaly score H is greater than X, an anomaly flag is triggered in the system that indicates a fault condition. </p><p id="p0047" num="0047">[0045] In step 414, the classes generated by step 406 associated with the highest mixing weights above a predefined threshold are matched to classes stored previously in the database memory 134. In step 416, when a stored match is found for each class, the problem(s) is diagnosed as caused in whole or in part by the problem(s) associated with each match found stored in the database. </p><p id="p0048" num="0048">[0046] In step 418, the diagnosis and, in some embodiments the recommended course of action to cure the problem diagnosed, is/are output to a user interface. As shown in FIG. 5, the diagnosis (and recommended action) may be output in a variety of ways as is known in the art, including but not limited to, an user interface such as a display screen, a printed report, or through a phone notification system. The diagnosis may be in the form of charts or text describing the problem's root diagnosis. </p><p id="p0049" num="0049">[0047] If the threshold for H is not triggered, the process repeats at step 400. 
<!-- EPO <DP n="15"/>-->
 [0048] While only certain embodiments have been set forth, alternatives and modifications will be apparent from the above description to those skilled in the art. These and other alternatives are considered equivalents and within the spirit and scope of this disclosure. 
</p></description><claims mxw-id="PCLM44851486" ref-ucid="WO-2012118550-A1" lang="EN" load-source="patent-office"><claim-statement><!-- EPO <DP n="16"/>-->WHAT IS CLAIMED IS: </claim-statement><claim id="clm-0001" num="1"><claim-text>1. A method for diagnosing a fault condition in a climate system, the method comprising: </claim-text><claim-text> receiving current Parameters from a climate system in the fault condition, the current Parameters including a plurality of current measured and estimated data from the climate system; </claim-text><claim-text> determining a first set of transition probabilities based on the current Parameters; determining a second set of transition probabilities based on historical Parameters from the climate system operating under normal conditions, the historical Parameters including a plurality of historical measured and estimated data from the climate system; calculating an anomaly score for the climate system from the first set of transition probabilities and the second set of transition probabilities; and </claim-text><claim-text> when the anomaly score is above a predefined threshold, generating automatically a diagnosis of a first problem causing the fault condition. </claim-text></claim><claim id="clm-0002" num="2"><claim-text> 2. The method of claim 1, wherein the climate system is an HVAC system.</claim-text></claim><claim id="clm-0003" num="3"><claim-text>3. The method of claim 1, wherein the climate system is a refrigeration system. </claim-text></claim><claim id="clm-0004" num="4"><claim-text> 4. The method of claim 1 further comprising determining a probability of a progression of the climate system from a first condition class to a second condition class. </claim-text></claim><claim id="clm-0005" num="5"><claim-text> 5. The method of claim 4, wherein the first condition class and the second condition class are based on normal operating conditions. </claim-text></claim><claim id="clm-0006" num="6"><claim-text> 6. The method of claim 4, wherein the first condition class and the second condition class are based on the current Parameters. <!-- EPO <DP n="17"/>--> </claim-text></claim><claim id="clm-0007" num="7"><claim-text>7. The method of claim 6 further comprising displaying on a user interface a probability distribution for the first condition class. </claim-text></claim><claim id="clm-0008" num="8"><claim-text> 8. The method of claim 1, further comprising determining for the climate system a baseline model derived, at least in part, from application of linear iterative Singular Value Decomposition to the historical Parameters in combination with the application of Probabilistic Latent Semantic Analysis to determine a plurality of condition classes from residual score X . </claim-text></claim><claim id="clm-0009" num="9"><claim-text> 9. The method of claim 8, further comprising determining transition probabilities during normal operation of the climate system between each of the condition classes using a Markov Model. </claim-text></claim><claim id="clm-0010" num="10"><claim-text> 10. The method of claim 8, further comprising updating the baseline model for a change in the refrigeration system equipment. </claim-text></claim><claim id="clm-0011" num="11"><claim-text> 11. The method of claim 8, wherein each condition class comprises co- occurring problems. </claim-text></claim><claim id="clm-0012" num="12"><claim-text> 12. The method of claim 8, further comprising generating for each condition class a probability distribution. </claim-text></claim><claim id="clm-0013" num="13"><claim-text> 13. The method of claim 1, further comprising displaying on a user interface recommended corrective action based on the diagnosis. </claim-text></claim><claim id="clm-0014" num="14"><claim-text> 14. The method of claim 1 further comprising diagnosing a second problem in the climate system that co-exists with the first problem. </claim-text></claim><claim id="clm-0015" num="15"><claim-text> 15. A method for diagnosing problems in a refrigeration system, the method comprising: </claim-text><claim-text> receiving Parameters from the refrigeration system, the Parameters including a plurality of measured and estimated data from the refrigeration system; <!-- EPO <DP n="18"/>--> determining a first class and a second class of anomaly groupings; </claim-text><claim-text> determining a probability of the progression of the refrigeration system from the first class of anomaly groupings to the second class of anomaly groupings; </claim-text><claim-text> calculating an anomaly score for the refrigeration system; </claim-text><claim-text> automatically diagnosing first and second problems in the climate system; and transmitting the diagnosis for display on a user interface. </claim-text></claim><claim id="clm-0016" num="16"><claim-text> 16. The method of claim 15, further comprising determining a plurality of condition classes based on the Parameters received from the refrigeration system. </claim-text></claim><claim id="clm-0017" num="17"><claim-text>17. The method of claim 16, wherein each condition class comprises co- occurring problems. </claim-text></claim><claim id="clm-0018" num="18"><claim-text> 18. The method of claim 16, further comprising matching a probability distribution for a condition class to information stored in a database to determine the first problem. </claim-text></claim><claim id="clm-0019" num="19"><claim-text> 19. The method of claim 15 further comprising displaying on a user interface recommended corrective action based on the diagnosis. </claim-text></claim><claim id="clm-0020" num="20"><claim-text> 20. A computer program product, comprising a computer usable medium having a computer readable program code embodied therein, said computer readable program code adapted to be executed to implement a method for diagnosing a fault condition in a climate system, said method comprising: </claim-text><claim-text> receiving current Parameters from a climate system in the fault condition, the current Parameters including a plurality of current measured and estimated data from the climate system; </claim-text><claim-text> determining a first set of transition probabilities based on the current Parameters; <!-- EPO <DP n="19"/>--> determining a second set of transition probabilities based on historical Parameters from the climate system operating under normal conditions, the historical Parameters including a plurality of historical measured and estimated data from the climate system; calculating an anomaly score for the climate system from the first set of transition probabilities and the second set of transition probabilities; and </claim-text><claim-text> when the anomaly score is above a predefined threshold, generating automatically a diagnosis of a first problem causing the fault condition. </claim-text></claim></claims><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
