<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2683200-A1" country="EP" doc-number="2683200" kind="A1" date="20140108" family-id="48745969" file-reference-id="212957" date-produced="20180822" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146585497" ucid="EP-2683200-A1"><document-id><country>EP</country><doc-number>2683200</doc-number><kind>A1</kind><date>20140108</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-12305800-A" is-representative="YES"><document-id mxw-id="PAPP154847689" load-source="docdb" format="epo"><country>EP</country><doc-number>12305800</doc-number><kind>A</kind><date>20120703</date><lang>EN</lang></document-id><document-id mxw-id="PAPP173226889" load-source="docdb" format="original"><country>EP</country><doc-number>12305800.0</doc-number><date>20120703</date></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140555128" ucid="EP-12305800-A" load-source="docdb"><document-id format="epo"><country>EP</country><doc-number>12305800</doc-number><kind>A</kind><date>20120703</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1989319578" load-source="docdb">H04W  40/32        20090101AFI20130322BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1989320032" load-source="docdb">H04W  84/20        20090101ALI20130322BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1989320589" load-source="docdb">H04W  74/08        20090101ALI20130322BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1989321869" load-source="docdb">H04W  72/02        20090101ALI20130322BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1989323194" load-source="docdb">H04W  84/18        20090101ALI20130322BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-2117095596" load-source="docdb" scheme="CPC">H04W  72/0406      20130101 LA20150115BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989622798" load-source="docdb" scheme="CPC">H04L  45/48        20130101 LA20121126BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989650137" load-source="docdb" scheme="CPC">H04W  40/32        20130101 FI20130716BHEP        </classification-cpc><classification-cpc mxw-id="PCL2073956688" load-source="docdb" scheme="CPC">H04W  84/20        20130101 LA20130716BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132361124" lang="DE" load-source="patent-office">Verfahren zur Konstruktion einer Cluster-Tree-Topologie in einem persönlichen Netzwerk</invention-title><invention-title mxw-id="PT132361125" lang="EN" load-source="patent-office">Method for constructing a cluster tree topology in a personal area network</invention-title><invention-title mxw-id="PT132361126" lang="FR" load-source="patent-office">Procédé de construction d'une topologie d'arborescence de groupe dans un réseau personnel</invention-title><citations><patent-citations><patcit mxw-id="PCIT242944342" load-source="docdb" ucid="US-20090161637-A1"><document-id format="epo"><country>US</country><doc-number>20090161637</doc-number><kind>A1</kind><date>20090625</date></document-id><sources><source name="SEA" category="X" created-by-npl="N"/></sources></patcit></patent-citations><non-patent-citations><nplcit><text>None</text><sources><source mxw-id="PNPL45211520" load-source="docdb" name="APP"/></sources></nplcit></non-patent-citations></citations></technical-data><parties><applicants><applicant mxw-id="PPAR919516675" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>UNIV STRASBOURG</last-name><address><country>FR</country></address></addressbook></applicant><applicant mxw-id="PPAR919530788" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>UNIVERSITE DE STRASBOURG</last-name></addressbook></applicant><applicant mxw-id="PPAR919015713" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Universite De Strasbourg</last-name><iid>101153497</iid><address><street>4, Rue Blaise Pascal</street><city>67081 Strasbourg Cedex</city><country>FR</country></address></addressbook></applicant><applicant mxw-id="PPAR919508798" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>CENTRE NAT RECH SCIENT</last-name><address><country>FR</country></address></addressbook></applicant><applicant mxw-id="PPAR919530184" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>CENTRE NATIONAL DE LA RECHERCHE SCIENTIFIQUE</last-name></addressbook></applicant><applicant mxw-id="PPAR919008391" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>Centre National de la Recherche Scientifique</last-name><iid>100097022</iid><address><street>3, rue Michel-Ange</street><city>75794 Paris Cedex 16</city><country>FR</country></address></addressbook></applicant><applicant mxw-id="PPAR919530430" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>INST POLYTECHNIQUE GRENOBLE</last-name><address><country>FR</country></address></addressbook></applicant><applicant mxw-id="PPAR919535962" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>INSTITUT POLYTECHNIQUE DE GRENOBLE</last-name></addressbook></applicant><applicant mxw-id="PPAR919015424" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>Institut Polytechnique de Grenoble</last-name><iid>101147564</iid><address><street>46 avenue Félix Viallet</street><city>38031 Grenoble Cedex 1</city><country>FR</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR919505477" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>THEOLEYRE FABRICE</last-name><address><country>FR</country></address></addressbook></inventor><inventor mxw-id="PPAR919538476" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>Theoleyre, Fabrice</last-name></addressbook></inventor><inventor mxw-id="PPAR919018978" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Theoleyre, Fabrice</last-name><address><street>29 rue de Lambaréné</street><city>67400 Illkirch</city><country>FR</country></address></addressbook></inventor><inventor mxw-id="PPAR944803705" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>PONSARD BENOIT</last-name><address><country>FR</country></address></addressbook></inventor><inventor mxw-id="PPAR944803706" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>PONSARD, BENOIT</last-name></addressbook></inventor><inventor mxw-id="PPAR944803708" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>ABDEDDAIM NAZIM</last-name><address><country>FR</country></address></addressbook></inventor><inventor mxw-id="PPAR944803707" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>ABDEDDAIM, Nazim</last-name></addressbook></inventor></inventors><agents><agent mxw-id="PPAR919008789" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Littolff, Denis</last-name><iid>101290598</iid><address><street>Meyer &amp; Partenaires Conseils en Propriété Industrielle 4, rue de Dublin</street><city>67300 Schiltigheim</city><country>FR</country></address></addressbook></agent></agents></parties><international-convention-data><designated-states><ep-contracting-states><country mxw-id="DS549910388" load-source="docdb">AL</country><country mxw-id="DS549749624" load-source="docdb">AT</country><country mxw-id="DS549910390" load-source="docdb">BE</country><country mxw-id="DS549826223" load-source="docdb">BG</country><country mxw-id="DS549824037" load-source="docdb">CH</country><country mxw-id="DS549751389" load-source="docdb">CY</country><country mxw-id="DS549749629" load-source="docdb">CZ</country><country mxw-id="DS549910391" load-source="docdb">DE</country><country mxw-id="DS549751390" load-source="docdb">DK</country><country mxw-id="DS549751391" load-source="docdb">EE</country><country mxw-id="DS549820833" load-source="docdb">ES</country><country mxw-id="DS549826224" load-source="docdb">FI</country><country mxw-id="DS549827636" load-source="docdb">FR</country><country mxw-id="DS549910392" load-source="docdb">GB</country><country mxw-id="DS549751392" load-source="docdb">GR</country><country mxw-id="DS549910393" load-source="docdb">HR</country><country mxw-id="DS549749630" load-source="docdb">HU</country><country mxw-id="DS549824042" load-source="docdb">IE</country><country mxw-id="DS549751409" load-source="docdb">IS</country><country mxw-id="DS549827637" load-source="docdb">IT</country><country mxw-id="DS549751410" load-source="docdb">LI</country><country mxw-id="DS549826225" load-source="docdb">LT</country><country mxw-id="DS549748278" load-source="docdb">LU</country><country mxw-id="DS549826230" load-source="docdb">LV</country><country mxw-id="DS549826231" load-source="docdb">MC</country><country mxw-id="DS549748279" load-source="docdb">MK</country><country mxw-id="DS549748280" load-source="docdb">MT</country><country mxw-id="DS549749631" load-source="docdb">NL</country><country mxw-id="DS549820838" load-source="docdb">NO</country><country mxw-id="DS549824043" load-source="docdb">PL</country><country mxw-id="DS549826232" load-source="docdb">PT</country><country mxw-id="DS549749632" load-source="docdb">RO</country><country mxw-id="DS549826233" load-source="docdb">RS</country><country mxw-id="DS549824044" load-source="docdb">SE</country><country mxw-id="DS549827642" load-source="docdb">SI</country><country mxw-id="DS549820839" load-source="docdb">SK</country><country mxw-id="DS549824045" load-source="docdb">SM</country><country mxw-id="DS549748285" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA128673669" lang="EN" load-source="patent-office"><p id="pa01" num="0001">A method for constructing a cluster-tree topology in an IEEE 802.15.4 standard ruled PAN (Personal Area Network) network including a PAN coordinator considered the root of the tree, and nodes all working in the synchronous beacon-enabled mode.</p><p id="pa02" num="0002">Nodes become associated in clusters, each cluster including a parent node and child nodes operating in a channel different from the channels of the neighbour clusters, this channel being chosen by the parent node for communicating with its children.
<img id="iaf01" file="imgaf001.tif" wi="112" he="109" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA128737828" lang="EN" source="EPO" load-source="docdb"><p>A method for constructing a cluster-tree topology in an IEEE 802.15.4 standard ruled PAN (Personal Area Network) network including a PAN coordinator considered the root of the tree, and nodes all working in the synchronous beacon-enabled mode.  Nodes become associated in clusters, each cluster including a parent node and child nodes operating in a channel different from the channels of the neighbour clusters, this channel being chosen by the parent node for communicating with its children.</p></abstract><description mxw-id="PDES63959657" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001">FIELD OF THE INVENTION</heading><p id="p0001" num="0001">The present invention pertains to Wireless Sensor Networks (WSN), and more particularly to a method for constructing a cluster tree topology in an IEEE 802.15.4 standard ruled Personal Area Network (PAN).</p><heading id="h0002">BACKGROUND OF THE INVENTION</heading><p id="p0002" num="0002">Such a WSN can enable a wide range of applications. However, to facilitate large scale deployments, the nodes building the network must cooperate to route data efficiently over long distances or through multihop configurations from source to destination. Considering these long distances, not every device can communicate directly with the destination, and cluster tree topologies are seen as a flexible and robust manner to provide multihop communications.</p><p id="p0003" num="0003">At the Medium Access Control (MAC) layer, however, a balance must be struck between achieving high quality or high efficiency radio resource allocation and energy expenditure. The IEEE 802,15.4 standard specifies the currently most significant MAC protocol commercially adopted for sensor networks. It provides two modes of operation, the asynchronous beaconless and synchronous beacon-enabled modes.<!-- EPO <DP n="2"> --></p><p id="p0004" num="0004">In order to save energy, which, as mentioned, is a constant issue, multihop communication requires the beacon-enabled mode if used with cluster-tree topology, which means that at least some nodes of the network working as coordinators must be able to send beacons periodically. In the past, several approaches have been proposed for constructing a multihop wireless sensor network by associating nodes with coordinators, starting from a PAN coordinator, which is considered the root of the network.</p><p id="p0005" num="0005">The construction of such a network for instance follows the scheme described hereinafter: when a node finds a coordinator, it may choose it as parent coordinator and start the association procedure. When the association is accepted by the parent coordinator, if the new associated node or child node is a Full-Function Device, capable of operating as coordinator, it becomes a coordinator itself and starts sending its own beacons to propagate the process: its neighbours may request association with the cluster-tree, and so on. If the child node is a Reduced-Function Device, it acts as an associated leaf, but it does not transmit beacons: it simply exchanges packets with a parent node.</p><p id="p0006" num="0006">In order to optimize network capacity and energy consumption, it has been further proposed that each coordinator periodically send beacons at the beginning of its superframe and piggyback the list of pending frames in its buffer. During the first part of the Contention Access Period (CAP) of the superframe as defined in IEEE 802.15.4, a child node either retrieves frames by transmitting a data request if it was present in the pending destinations list, or transmits its data frames to the coordinator. All nodes use a slotted Carrier Sense Multiple Access with Collision Avoidance (CSMA-CA) approach to access the medium. Note that in this case coordinators never initiate a transmission, but only reply to solicitations. Child nodes must explicitly request their frames, and they can thus safely switch off their radio and save energy. No deafness may appear.</p><p id="p0007" num="0007">A few Guaranteed Time Slots (GTS) may be reserved for periodic transmissions. Any child node may reserve a slot by transmitting a request<!-- EPO <DP n="3"> --> during the Contention Access Period. If accepted, the slot is dedicated to the transmissions of the said node.</p><p id="p0008" num="0008">A beacon is transmitted every Beacon Interval (BI) while a superframe lasts for a Superframe Duration (SD). The Beacon Order (BO) and the Superframe Order (SO) values determine the BI and SD values.</p><p id="p0009" num="0009">Outgoing and incoming superframes to support multihop forwarding have also been proposed. A node must track its parent superframe, the incoming superframe, while maintaining its own superframe, the outgoing superframe. Outgoing and incoming superframes are separated by the interval of StartTime (duration between the received and transmitted beacons, respectively) minus the Superframe Duration (SD) during which both nodes may go to sleep safely. However, if two coordinators with the same parent have the same StartTime value, they transmit their superframes simultaneously, creating a collision.</p><p id="p0010" num="0010">To resolve this problem, a Beacon-Only Period (BOP) has for instance been introduced at the beginning of each superframe.</p><p id="p0011" num="0011">A BOP is divided into several slots: a coordinator chooses one of these slots to transmit its beacons. If it detects a collision, it need only change its BOP slot. Only coordinators are authorized to transmit a beacon during the BOP, the Contention Access Period starting just after the BOP.</p><p id="p0012" num="0012">The choice of the number of BOP slots is important. If it is too small, beacons may continue colliding, whereas if it is too large, many BOP slots will be unused.</p><p id="p0013" num="0013">BOP only solves the problem of beacon collisions, and data frames may continue colliding during the Contention Access Period. Thus, this solution is only suitable for very low traffic scenarios and a low network density.</p><p id="p0014" num="0014">Alternate solutions have also been proposed aiming to schedule superframes so that collisions are not possible. The idea is that two interfering nodes should use non-overlapping superframes.</p><p id="p0015" num="0015">In one existing solution, each coordinator reports its position to a central controller, which checks its schedule. This, however, suffers from limitations, as one of the assumptions is that only 2 neighbours (neighbours of 2 successive<!-- EPO <DP n="4"> --> levels) interfere. Besides, a centralized solution is not appropriate for multihop WSN,</p><heading id="h0003">SUMMARY OF THE INVENTION</heading><p id="p0016" num="0016">Briefly described, the present invention is a method for constructing a cluster-tree topology in an IEEE 802.15.4 standard ruled PAN network including a PAN coordinator considered the root of the tree, the nodes all working in the synchronous beacon-enabled mode. In the invention, nodes become associated in clusters, each cluster including a parent node and child nodes operating in a channel different from the channels of the neighbour clusters, this channel being chosen by the parent node for communicating with its children.</p><p id="p0017" num="0017">Cluster trees built according to this construction method are therefore multichannel trees, where nodes operate in parallel and superframes can overlap in time, as they work on separate channels.</p><p id="p0018" num="0018">Each parent coordinator chooses one channel to communicate with its children, and coordinators close enough to each other that they may interfere choose orthogonal channels to avoid beacon collisions. Obviously, non-interfering clusters can choose the same channels.</p><p id="p0019" num="0019">In order for unassociated nodes to find a parent node and communicate with that node in a cluster, there is, according to the invention, a unique control channel on which coordinators send a predetermined information packet, referred to as a hello-packet, dedicated to build groups with unassociated neighbour nodes located within radio range, thus making clusters of associated nodes. Newly associated nodes in turn become coordinator nodes.</p><p id="p0020" num="0020">In fact, depending on their location in the cluster tree, coordinators can be of two types:
<ul><li>if they are non-leaf nodes, i.e. relaying traffic, they must be active coordinators sending beacons on their communication channel. In this case, they are active during their superframe, ready to receive messages from their children;<!-- EPO <DP n="5"> --></li><li>if they are leaf nodes, they only need to be passive coordinators, active at the beginning of their superframes, waiting for association requests from potential children. They become active coordinators as soon as an unassociated node becomes associated with them.</li></ul></p><p id="p0021" num="0021">Active and passive coordinators send hello-packets periodically, one during each Beacon interval (Bl) period, these hello-packets being scheduled randomly during their inactive period of the superframes.</p><p id="p0022" num="0022">Using this method, unassociated nodes can efficiently find potential parents. In particular, such nodes can obtain the data relating to the channel and superframe beginning of a passive coordinator to become associated with it.</p><p id="p0023" num="0023">Using a dedicated control channel has the following advantages, inter alia:
<ul><li>There are 16 channels in IEE 802,15.4. Dedicating an exclusive channel to control traffic in fact only takes about 6% of the radio bandwidth.</li><li>Scanning 16 channels during one BI is time-consuming: for instance, a node must be awake to listen to possible incoming data packets for 96 min on average, if the value of BO is 14. Using a control channel reduces both convergence duration and energy consumption.</li><li>There is no bottleneck problem as is the case in similarly structured networks when the control channel is used to reserve data channels with RTS/CTS (Request To Send/Clear To Send) data as previously proposed. Only hello-packets are transmitted on the control channel, one per BI per coordinator.</li><li>If neighbour discovery had been done <i>in-band,</i> collisions would possibly occur between hello-packets and other data transmissions in neighbouring superframes' inactive periods because they are not synchronized across the network. Communications may thus take place in the neighbourhood at the same time hello-packets are sent.<!-- EPO <DP n="6"> --></li><li>Random delays in a probabilistic neighbour discovery scheme would increase the total reconstruction time of the cluster tree, isolating parts of the network for long periods of time.</li></ul></p><p id="p0024" num="0024">Hello-packets may collide on this control channel, but very rarely, as each hello-packet transmission lasts a few milliseconds, whereas BI typically lasts at least several seconds. Since nodes in fact choose random offsets for their hello-packets transmissions, successive collisions will happen very rarely.</p><p id="p0025" num="0025">Preferably, in the inventive method, hello-packets include at least the following information :
<ul><li>coordinator identifier;</li><li>number of child nodes;</li><li>superframe slot;</li><li>cluster channel;</li><li>sequence number; and</li><li>depth in the tree, which means hop count to the root, being 0 for the PAN coordinator.</li></ul></p><p id="p0026" num="0026">Hello-packets sent by active coordinators include a map of channels and superframe slots used by their neighbours.</p><p id="p0027" num="0027">In fact, the PAN coordinator starts transmitting hello-packets on a periodical basis on the dedicated control channel, thereby announcing the depth 0. All other nodes start the association procedure from the unassociated state in the following manner: unassociated nodes listen to the control channel and construct a neighbourhood table based on the received hello-packets, and choose the coordinator node with the smallest number of child nodes not equal to zero,</p><p id="p0028" num="0028">As a result, no new active coordinators are created if not necessary, which leads to maximizing the number of leaves of the tree using the existing communication channels.<!-- EPO <DP n="7"> --></p><p id="p0029" num="0029">Alternatively, each node can choose the coordinator closest to the PAN coordinator, in the event the requesting node is in communication range with parent nodes having the same number of child nodes.</p><p id="p0030" num="0030">If by any chance one node trying to become associated with a tree is in communication range with several nodes simultaneously having the same number of children and the same depth with respect to the PAN coordinator, it randomly chooses the coordinator with which it shall be associated.</p><p id="p0031" num="0031">The choice may possibly be made at the end of their Beacon Interval (BI).</p><p id="p0032" num="0032">In fact, during an association process, each node performs the traditional IEEE 802.15.4 association procedure through the communication channel (cluster channel) of the new parent during the active part of its superframe and becomes associated.</p><p id="p0033" num="0033">Moreover, based on the information received in the hello-packets, the nodes choose their own cluster channel for future potential communications with child nodes.</p><p id="p0034" num="0034">Preferably, coordinators use a greedy randomized adaptive search procedure to select their cluster channels, first sorting channels in descending order of the number of interferers during the superframe slot of the node, then randomly selecting one of the less used channels.</p><p id="p0035" num="0035">Achievement of the complete association process aims to construct a balanced cluster tree topology in an IEEE 802.15.4 environment and leads to the following general result: each node has a unique parent node and is a member of a tree rooted at the PAN coordinator.</p><p id="p0036" num="0036">Nodes can also detect that the tree is broken, i.e. they have the capacity to monitor the connectivity toward the PAN coordinator.</p><p id="p0037" num="0037">In fact, the PAN coordinator increments the sequence number of the IEEE 802.15.4 frames in every beacon, and every coordinator in the tree includes the sequence number of the last received beacon in its own beacons and hello-packets.<!-- EPO <DP n="8"> --></p><p id="p0038" num="0038">The sequence number is consequently a proper indicator of the state of the tree.</p><p id="p0039" num="0039">Thus, each node changes its state from the associated state to the unassociated state when the sequence number remains unchanged during at least 3 beacons intervals (BI), and stops transmitting beacons if it is an active coordinator.</p><p id="p0040" num="0040">Child nodes then break the association when they detect that their parent node is in an unassociated state.</p><p id="p0041" num="0041">Since the detection may take several BI at each level of the sub-tree, a disconnected coordinator may try to associate to another parent quickly if possible, which prevents the destruction of the entire sub-tree and results in a fast recovery.</p><p id="p0042" num="0042">In fact, to make connections as quickly as possible, nodes preferably choose to end their superframes when superframes of their parent nodes start.</p><p id="p0043" num="0043">The method according to the invention tries to maximize the number of leaves, as unassociated nodes must preferably choose a parent node that already has child nodes. However, as nodes choose the parent with the smallest number of existing children, this leads to the construction of a fairly balanced tree.</p><p id="p0044" num="0044">It is necessary to limit the number of child nodes associated with a coordinator, because excessive contention between nodes in a cluster may lead to collisions and packets losses.</p><p id="p0045" num="0045">For these reasons, the number of child nodes associated with a parent node is limited to a predetermined threshold maximal number, above which a node either chooses to become associated with a coordinator without child nodes if it can find one in the neighbourhood, or with an active coordinator with a number of children greater than the above-mentioned maximal threshold number if there are no other possibilities,<!-- EPO <DP n="9"> --></p><p id="p0046" num="0046">In fact, according to the invention, the maximal threshold number is preferably set to 5, which means that no more than 5 active child nodes will theareticaily be allowed for a coordinator.</p><heading id="h0004">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p0047" num="0047"><ul><li><figref idrefs="f0001">Fig. 1</figref> is a schematic view of a Multichannel cluster tree according the present invention;</li><li><figref idrefs="f0002">Fig. 2</figref> is a schematic diagram for the process of discovering parent nodes during both the association process and superframe scheduling.</li></ul></p><heading id="h0005">DESCRIPTION OF THE PREFERRED EMBODIMENT</heading><p id="p0048" num="0048">In the example of cluster-tree topology presented in <figref idrefs="f0001">Fig. 1</figref>, node A is the PAN coordinator. Non-leaf nodes (B, C, D, E, F and G) choose a channel for communication with their children. There are 6 clusters, defined as sets of nodes composed of a coordinator and its children that use the same cluster channel for communication, for instance nodes D, N, O, P, Q defining a cluster operating with channel 2. Non-interfering clusters may choose the same channel, as is for instance the case for clusters of G and F or for clusters of C and D.</p><p id="p0049" num="0049">Depending on their locations, unassociated nodes can become associated using the neighbour discovery process put forward through the present invention, and illustrated in <figref idrefs="f0002">figure 2</figref>.</p><p id="p0050" num="0050">First, node A, the PAN coordinator, sends hello packets through channel 0, which has been chosen as the control channel. As soon as node B receives one of said hello-packets, it joins the network, and starts acting as a coordinator. B in turn schedules its hello-packet transmissions at a random instant in each inactive period of its superframe. Node C continues listening to channel 0 until it receives the hello-packets from B, since it is out of reach of A, and so on.</p><p id="p0051" num="0051">The parts of the superframes and hello-packets which are represented below the time lines are the incoming superframes or hello-packets, whereas hello-packets<!-- EPO <DP n="10"> --> or superframes having a part located above the line are the outgoing superframes or hello-packets,</p><p id="p0052" num="0052">B, for instance, receives a hello-packet and an ingoing superframe on channel 1 coming from the PAN coordinator A, then schedules the broadcast of a hello-packet on channel 0 and of a superframe SD (B) on channel 2, the latter just before the incoming superframe from A etc...</p><p id="p0053" num="0053">In fact, nodes A, B and C choose their respective superframe slots so that the upward data traffic does not suffer from excessive delays. Generally speaking, a node chooses a superframe slot so that no overlap with the parent superframe is possible. The precedence rule of IEEE 802.15.4 is kept, as the superframes of both said node and its parent are interspaced by the StartTime duration defined above, In the pattern represented in <figref idrefs="f0002">Fig. 2</figref>, in order to minimize end-to-end delays for upward data traffic, nodes choose to end their superframes when the superframes of their parents start (StartTime = BI- SD).</p><p id="p0054" num="0054">However, we may instead choose to increase the network capacity. We will thus maximize StartTime (= BI / 2): a coordinator may be able to adjust its Superframe Duration independently up to the beginning of the superframe of its parent (i.e. half of the radio bandwidth). This solution provides a localized trade-off between throughput and energy consumption.</p><p id="p0055" num="0055">This has many advantages in terms of organization of data traffic as well as energy consumption,
<ul><li>Limited collisions: interfering nodes with overlapping superframes (e.g. siblings) will use orthogonal channels.</li><li>Low channel assignment complexity: interference may only happen among nodes with the same depth in the cluster tree. The large number of available channels makes a greedy approach efficient.</li><li>Energy efficiency: it maximizes the number of leaves, and minimizes the number of active coordinators. This strategy is efficient for saving energy and spectrum capacity.</li></ul><!-- EPO <DP n="11"> --></p><p id="p0056" num="0056">As already mentioned, the choice of the channel depends on the information included in the received hello-packets, for instance using a greedy randomized search procedure on the basis of the map of channels contained in the received hello-packets.</p><p id="p0057" num="0057">When associated, the nodes, now child nodes, become passive coordinators, in turn expecting association requests from unassociated nodes. If such requests occur, and provided that one unassociated node choose a passive coordinator using the above-mentioned algorithm (choice of the coordinator with the smallest number of child nodes, or even with no child nodes if the available parent nodes have more than 5 child nodes already), it becomes an active coordinator, i.e. a parent node.</p><p id="p0058" num="0058">A wireless sensor Network constructed according to the inventive method shows significant improvements of both the data packet delivery ratio and delay.</p></description><claims mxw-id="PCLM56982703" lang="EN" load-source="patent-office"><!-- EPO <DP n="12"> --><claim id="c-en-0001" num="0001"><claim-text>A method for constructing a cluster-tree topology in an IEEE 802.15.4 standard ruled PAN (Personal Area Network) network including a PAN coordinator considered the root of the tree, and nodes all working in the synchronous beacon-enabled mode, <b>characterized in that</b> nodes become associated in clusters, each cluster including a parent node and child nodes operating in a channel different from the channels of the neighbour clusters, this channel being chosen by the parent node for communicating with its children.</claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>The method for constructing a cluster-tree topology in an IEEE 802.15.4 standard ruled PAN (Personal Area Network) network according to the preceding claim, <b>characterized in that</b> there is a unique control channel on which coordinators send a predetermined information packet referred to as a hello-packet dedicated to building groups with unassociated neighbour nodes located within radio range, thus making clusters of associated nodes.</claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>The method for constructing a cluster-tree topology in an IEEE 802.15.4 standard ruled PAN (Personal Area Network) network according to the preceding claim, <b>characterized in that</b> newly associated neighbour nodes in turn become coordinator nodes.</claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>The method for constructing a cluster-tree topology in an IEEE 802.15.4 standard ruled PAN (Personal Area Network) network according to the preceding claim, <b>characterized in that</b> nodes become passive coordinators after they become associated with a coordinator, and active coordinators when other nodes become associated with them.</claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>The method for constructing a cluster-tree topology in an IEEE 802.15.4 standard ruled PAN (Personal Area Network) network according to the preceding claim, <b>characterized in that</b> active coordinators send one hello-packet<!-- EPO <DP n="13"> --> during each Beacon Interval (BI) period, scheduled randomly during the inactive period of the superframe,</claim-text></claim><claim id="c-en-0006" num="0006"><claim-text>The method for constructing a cluster-tree topology in an IEEE 802.15.4 standard ruled PAN (Personal Area Network) network according to the preceding claim, <b>characterized in that</b> hello-packets include the following information:
<claim-text>- coordinator identifier;</claim-text>
<claim-text>- number of child nodes;</claim-text>
<claim-text>- superframe slot;</claim-text>
<claim-text>- cluster channel;</claim-text>
<claim-text>- sequence number; and</claim-text>
<claim-text>- depth in the tree, which means hop count to the root, being 0 for the PAN coordinator.</claim-text></claim-text></claim><claim id="c-en-0007" num="0007"><claim-text>The method for constructing a cluster-tree topology in an IEEE 802.15.4 standard ruled PAN (Personal Area Network) network according to the preceding claims, <b>characterized in that</b> hello-packets sent by active and passive coordinators include a map of channels and superframe slots used by their neighbours.</claim-text></claim><claim id="c-en-0008" num="0008"><claim-text>The method for constructing a cluster-tree topology in an IEEE 802.15.4 standard ruled PAN (Personal Area Network) network according to one of claims 2 to 7, <b>characterized in that</b> unassociated nodes listen to the control channel and construct a neighbourhood table based on the received hello-packets, and choose the coordinator node with the smallest non-zero number of child nodes.</claim-text></claim><claim id="c-en-0009" num="0009"><claim-text>The method for constructing a cluster-tree topology in an IEEE 802.15.4 standard ruled PAN (Personal Area Network) network according to one of claims 2 to 7, <b>characterized in that</b> each node chooses the coordinator closest to the PAN coordinator in the event it is in communication range with several nodes having the same number of child nodes.<!-- EPO <DP n="14"> --></claim-text></claim><claim id="c-en-0010" num="0010"><claim-text>The method for constructing a cluster-tree topology in an IEEE 802.15.4 standard ruled PAN (Personal Area Network) network according to claims 2 to 7, <b>characterized in that</b> each node randomly chooses the coordinator in the event it is in communication range with several nodes having the same number of child nodes and having the same depth with respect to the PAN coordinator.</claim-text></claim><claim id="c-en-0011" num="0011"><claim-text>The method for constructing a cluster-tree topology in an IEEE 802.15.4 standard ruled PAN (Personal Area Network) network according to claims 8 to 10, <b>characterized in that</b> unassociated nodes choose a coordinator node after listening to the control channel for a complete beacon interval (BI).</claim-text></claim><claim id="c-en-0012" num="0012"><claim-text>The method for constructing a cluster-tree topology in an IEEE 802.15.4 standard ruled PAN (Personal Area Network) network according to any of claims 7 to 11, <b>characterized in that</b> each node chooses its own cluster channel, based on the information included in the received hello-packets, for future potential communications with child nodes.</claim-text></claim><claim id="c-en-0013" num="0013"><claim-text>The method for constructing a cluster-tree topology in an IEEE 802.15.4 standard ruled PAN (Personal Area Network) network according to the preceding claim, <b>characterized in that</b> coordinators use a greedy randomized adaptive search procedure to select their cluster channels, first sorting channels in descending order of the number of interferers during the superframe slot of the node, then randomly selecting one of the less used channels.</claim-text></claim><claim id="c-en-0014" num="0014"><claim-text>The method for constructing a cluster-tree topology in an IEEE 802.15.4 standard ruled PAN (Personal Area Network) network according to any of claims 2 to 13, <b>characterized in that</b> the PAN coordinator increments the sequence number of the IEEE 802.15.4 frames in every beacon, and every coordinator in the tree includes the sequence number of the last received beacon in its own beacons and hello-packets.<!-- EPO <DP n="15"> --></claim-text></claim><claim id="c-en-0015" num="0015"><claim-text>The method for constructing a cluster-tree topology in an IEEE 802,i5,4 standard ruled PAN (Personal Area Network) network according to the preceding claim, <b>characterized in that</b> each node changes its state from the associated state to the unassociated state when the sequence number remains unchanged for at least 3 beacons intervals (BI), and stops transmitting beacons if it is an active coordinator.</claim-text></claim><claim id="c-en-0016" num="0016"><claim-text>The method for constructing a cluster-tree topology in an IEEE 802,15.4 standard ruled PAN (Personal Area Network) network according to the preceding claim, <b>characterized in that</b> child nodes break the unassociation when they detect that their parent node is in an unassociated state,</claim-text></claim><claim id="c-en-0017" num="0017"><claim-text>The method for constructing a cluster-tree topology in an IEEE 802.15.4 standard ruled PAN (Personal Area Network) network according to any of the preceding claims, <b>characterized in that</b> nodes choose to end their superframes when superframes of their parent nodes start.</claim-text></claim><claim id="c-en-0018" num="0018"><claim-text>The method for constructing a cluster-tree topology in an IEEE 802.15.4 standard ruled PAN (Personal Area Network) network according to any of the preceding claims, <b>characterized in that</b> the number of child nodes associated with a parent node is limited to a predetermined maximal threshold number, above which a node either choose to become associated with a coordinator without child nodes if it can find one in the neighbourhood, or with an active coordinator with a number of children greater than the above-mentioned maximal threshold number if there are no other possibilities.</claim-text></claim><claim id="c-en-0019" num="0019"><claim-text>The method for constructing a cluster-tree topology in an IEEE 802.15.4 standard ruled PAN (Personal Area Network) network according to the preceding claim, <b>characterized in that</b> the maximal threshold number is equal to 5 active child nodes.</claim-text></claim></claims><drawings mxw-id="PDW16671044" load-source="patent-office"><!-- EPO <DP n="16"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="139" he="145" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="17"> --><figure id="f0002" num="2"><img id="if0002" file="imgf0002.tif" wi="108" he="233" img-content="drawing" img-format="tif"/></figure></drawings><search-report-data><doc-page id="srep0001" file="srep0001.tif" wi="157" he="233" type="tif"/><doc-page id="srep0002" file="srep0002.tif" wi="158" he="233" type="tif"/><doc-page id="srep0003" file="srep0003.tif" wi="164" he="233" type="tif"/><doc-page id="srep0004" file="srep0004.tif" wi="165" he="232" type="tif"/></search-report-data><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
