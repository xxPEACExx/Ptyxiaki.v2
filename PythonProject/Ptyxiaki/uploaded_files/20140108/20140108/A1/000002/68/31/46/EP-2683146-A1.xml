<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2683146-A1" country="EP" doc-number="2683146" kind="A1" date="20140108" family-id="46721935" file-reference-id="238330" date-produced="20180824" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146585103" ucid="EP-2683146-A1"><document-id><country>EP</country><doc-number>2683146</doc-number><kind>A1</kind><date>20140108</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-13170334-A" is-representative="YES"><document-id mxw-id="PAPP154847295" load-source="docdb" format="epo"><country>EP</country><doc-number>13170334</doc-number><kind>A</kind><date>20130603</date><lang>EN</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140555293" ucid="GB-201211944-A" load-source="docdb"><document-id format="epo"><country>GB</country><doc-number>201211944</doc-number><kind>A</kind><date>20120705</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1989320426" load-source="docdb">H04M   1/725       20060101AFI20130930BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL1989637546" load-source="docdb" scheme="CPC">H04M2250/12        20130101 LA20130919BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989651084" load-source="docdb" scheme="CPC">H04M   1/72527     20130101 FI20130919BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132359942" lang="DE" load-source="patent-office">Smartphone und mikrocontroller basierte fernüberwachung und steuerung</invention-title><invention-title mxw-id="PT132359943" lang="EN" load-source="patent-office">Smartphone and microcontroller based remote monitoring and control system</invention-title><invention-title mxw-id="PT132359944" lang="FR" load-source="patent-office">Système de surveillance et de contrôle à distance basé sur smartphone et le microcontrôleur</invention-title><citations><patent-citations><patcit mxw-id="PCIT242943023" load-source="docdb" ucid="DE-102010019107-A1"><document-id format="epo"><country>DE</country><doc-number>102010019107</doc-number><kind>A1</kind><date>20111103</date></document-id><sources><source name="SEA" category="I" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT242943021" load-source="docdb" ucid="WO-1997049077-A1"><document-id format="epo"><country>WO</country><doc-number>1997049077</doc-number><kind>A1</kind><date>19971224</date></document-id><sources><source name="SEA" category="A" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT242943022" load-source="docdb" ucid="WO-2010107660-A1"><document-id format="epo"><country>WO</country><doc-number>2010107660</doc-number><kind>A1</kind><date>20100923</date></document-id><sources><source name="SEA" category="I" created-by-npl="N"/></sources></patcit></patent-citations></citations></technical-data><parties><applicants><applicant mxw-id="PPAR919543463" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>LAMBERT MARTIN</last-name><address><country>GB</country></address></addressbook></applicant><applicant mxw-id="PPAR919543069" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>LAMBERT, MARTIN</last-name></addressbook></applicant><applicant mxw-id="PPAR919006371" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Lambert, Martin</last-name><iid>101385233</iid><address><street>Upper Chalford Cottage Chalford</street><city>Chinnor Oxfordshire OX39 4NH</city><country>GB</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR919525865" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>LAMBERT MARTIN</last-name><address><country>GB</country></address></addressbook></inventor><inventor mxw-id="PPAR919533590" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>LAMBERT, MARTIN</last-name></addressbook></inventor><inventor mxw-id="PPAR919011154" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>LAMBERT, MARTIN</last-name><address><street>Upper Chalford Cottage Chalford</street><city>Chinnor Oxfordshire OX39 4NH</city><country>GB</country></address></addressbook></inventor></inventors></parties><international-convention-data><designated-states><ep-contracting-states><country mxw-id="DS549818467" load-source="docdb">AL</country><country mxw-id="DS549814481" load-source="docdb">AT</country><country mxw-id="DS549816216" load-source="docdb">BE</country><country mxw-id="DS549744387" load-source="docdb">BG</country><country mxw-id="DS549908503" load-source="docdb">CH</country><country mxw-id="DS549816217" load-source="docdb">CY</country><country mxw-id="DS549815712" load-source="docdb">CZ</country><country mxw-id="DS549818469" load-source="docdb">DE</country><country mxw-id="DS549816222" load-source="docdb">DK</country><country mxw-id="DS549816223" load-source="docdb">EE</country><country mxw-id="DS549742492" load-source="docdb">ES</country><country mxw-id="DS549744388" load-source="docdb">FI</country><country mxw-id="DS549744401" load-source="docdb">FR</country><country mxw-id="DS549818470" load-source="docdb">GB</country><country mxw-id="DS549816224" load-source="docdb">GR</country><country mxw-id="DS549818471" load-source="docdb">HR</country><country mxw-id="DS549815713" load-source="docdb">HU</country><country mxw-id="DS549908504" load-source="docdb">IE</country><country mxw-id="DS549816225" load-source="docdb">IS</country><country mxw-id="DS549744402" load-source="docdb">IT</country><country mxw-id="DS549816230" load-source="docdb">LI</country><country mxw-id="DS549818472" load-source="docdb">LT</country><country mxw-id="DS549814486" load-source="docdb">LU</country><country mxw-id="DS549744403" load-source="docdb">LV</country><country mxw-id="DS549744404" load-source="docdb">MC</country><country mxw-id="DS549814487" load-source="docdb">MK</country><country mxw-id="DS549814488" load-source="docdb">MT</country><country mxw-id="DS549742497" load-source="docdb">NL</country><country mxw-id="DS549744814" load-source="docdb">NO</country><country mxw-id="DS549742498" load-source="docdb">PL</country><country mxw-id="DS549744409" load-source="docdb">PT</country><country mxw-id="DS549815718" load-source="docdb">RO</country><country mxw-id="DS549744410" load-source="docdb">RS</country><country mxw-id="DS549742499" load-source="docdb">SE</country><country mxw-id="DS549908505" load-source="docdb">SI</country><country mxw-id="DS549744815" load-source="docdb">SK</country><country mxw-id="DS549744816" load-source="docdb">SM</country><country mxw-id="DS549814489" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA128673275" lang="EN" load-source="patent-office"><p id="pa01" num="0001">A smartphone (3) based remote monitoring and control system which includes a microcontroller unit (5) to which are coupled (8) one or more external sensors and/or actuators (7). The microcontroller unit (5) connects between the smartphone charger (1) and the smartphone (3), draws power from the smartphone charger (1) and charges the smartphone (3) via standard cables (2 and 4). The smartphone (1) configures and controls the microcontroller unit (3) and updates its firmware. In one mode the smartphone (1) logs data from the external sensors (7) attached to the microcontroller unit (3) and from sensors onboard the smartphone (3), combines the sensor data, generates textual and graphical reports and alerts, and conveys them to the external world via any of the standard networking capabilities of the smartphone (3). In another mode the smartphone (3) receives commands from the external world via any of its standard networking capabilities: to configure the smartphone (3) and/or microcontroller unit (5), and/or to activate actuators (7) controlled by the microcontroller unit (5) or the smartphone (3). End users can use this system remotely, from any Internet- or cellular-enabled device, without requiring additional special-purpose hardware, software or services.
<img id="iaf01" file="imgaf001.tif" wi="85" he="97" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA128737426" lang="EN" source="EPO" load-source="docdb"><p>A smartphone (3) based remote monitoring and control system which includes a microcontroller unit (5) to which are coupled (8) one or more external sensors and/or actuators (7). The microcontroller unit (5) connects between the smartphone charger (1) and the smartphone (3), draws power from the smartphone charger (1) and charges the smartphone (3) via standard cables (2 and 4). The smartphone (1) configures and controls the microcontroller unit (3) and updates its firmware. In one mode the smartphone (1) logs data from the external sensors (7) attached to the microcontroller unit (3) and from sensors onboard the smartphone (3), combines the sensor data, generates textual and graphical reports and alerts, and conveys them to the external world via any of the standard networking capabilities of the smartphone (3). In another mode the smartphone (3) receives commands from the external world via any of its standard networking capabilities: to configure the smartphone (3) and/or microcontroller unit (5), and/or to activate actuators (7) controlled by the microcontroller unit (5) or the smartphone (3). End users can use this system remotely, from any Internet- or cellular-enabled device, without requiring additional special-purpose hardware, software or services.</p></abstract><description mxw-id="PDES63959263" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><p id="p0001" num="0001">Products have long been available for the monitoring and control of remote assets.</p><p id="p0002" num="0002">Pre-Internet architectures used special-purpose monitoring hardware installed at remote location(s) which included one or more sensors (e.g. temperature, humidity, levels) and a power supply. This hardware typically monitored and stored environmental data, gathered from an array of sensors, and periodically uploaded that data to a central monitoring station via modems connecting over telephone lines. See [<patcit id="pcit0001" dnum="USP7457399A"><text>ONKEN ET AL, USP 7457399</text></patcit>, SENSING DEVICE FOR MONITORING CONDITIONS AT A REMOTE LOCATION AND METHOD THEREFOR] for a representative patent pertaining to these pre-Internet architectures. Typical applications included burglar alarms, monitoring medical conditions in hospitals and at home and warehouse and refrigeration management.</p><p id="p0003" num="0003">With the advent of the Internet remote monitoring and control systems were extended to report sensor data to central monitoring stations over the Internet, and to receive command and control instructions over the Internet. See [<patcit id="pcit0002" dnum="US6560543B"><text>WOLFE ET AL, US6560543</text></patcit>, METHOD FOR MONITORING A PUBLIC WATER TREATMENT SYSTEM] for a description of an Internet-based remote monitoring system for municipal water treatment plants. Advances included both using the Internet as a lower cost and potentially more reliable means to convey control and monitoring information between remote monitored locations and the central monitoring station, and also the increasing use of standardised, non-proprietary Internet protocols for conveying that information, e.g. FTP (file transfer protocol), RPC (remote procedure call) and SMTP (simple mail transfer protocol, email).</p><p id="p0004" num="0004">Remote monitoring of medical data has been particularly innovative in terms of advancing the state of the art in remote monitoring and control, perhaps because of the dramatic cost savings resulting in being able to monitor patients in their homes. See [<patcit id="pcit0003" dnum="US5987519A"><text>PEIFER ET AL, US5987519</text></patcit>, TELEMEDICINE SYSTEM USING VOICE VIDEO AND DATA ENCAPSULATION AND DE-ENCAPSULATION FOR COMMUNICATING MEDICAL INFORMATION BETWEEN CENTRAL MONITORING STATIONS AND REMOTE PATIENT MONITORING STATIONS] for an early example of a system capable of using a wide range of modern network technologies, including the Internet, to connect the remote monitoring system to a central monitoring station.<!-- EPO <DP n="2"> --></p><p id="p0005" num="0005">Roughly contemporaneous with the arrival of the Internet was the arrival of modern cellular phone networks. This offered vendors the ability to connect their remote monitoring and control systems to the Internet wirelessly, over cellular phone networks, where previously remote monitoring systems had to leverage the telephone landline network via modems or leased lines. The significant advantage was easier location of remote monitoring systems, which could now be placed in locations where telephone or leased lines might not be available. See [<patcit id="pcit0004" dnum="US20110241871A1"><text>DURIO, US20110241871(A1</text></patcit>), SENSOR ALERT] for an example of a remote monitoring solution using a cellular phone, but note that the phone in this case is simply used as a 'dumb' modem.</p><p id="p0006" num="0006">Up to this point in the evolution of remote monitoring and control systems they were expensive, proprietary systems designed for use in industrial distributed monitoring applications or insurance-funded home medical applications. Industrial applications typically involved arrays of distributed sensors reporting data up through tiered levels of collectors and concentrators, which in some cases performed intermediate processing (e.g. generating alerts when sensor values exceeded thresholds) before forwarding the sensor data to centralised monitoring services. See [<patcit id="pcit0005" dnum="US7391298B1"><text>CAMPBELL ET AL, US7391298(B1</text></patcit>) - WIRELESS SYSTEM FOR MONITORING AND REACTING TO EVENTS AT A REMOTE LOCATION] for an example of an industrial remote monitoring and control architecture. Home medical applications were somewhat simpler, involving special-purpose medical sensors using cellphones as modems to connect back to centralised monitoring stations via the cellular network. See [<patcit id="pcit0006" dnum="US2011275353A1"><text>LIU, US2011275353(A1</text></patcit>) - METHODS AND APPARATUS OF A REMOTE MONITORING SYSTEM] for an example of such an architecture. Another example relevant to the current invention is [<patcit id="pcit0007" dnum="US2008007431A1"><text>JACQUES, US2008007431(A1</text></patcit>), REMOTE MONITORING SYSTEM] where remote monitors on boats left in marinas send reports to a cellular phone via the cellular network (without using a cellular phone at the monitored location).</p><p id="p0007" num="0007">These systems were expensive and out of reach of most individual consumers, with the exceptions being wealthy boat-owners and insurance-funded medical patients. Most remote monitoring and control systems used proprietary custom hardware and required subscriptions to staffed monitoring services, for example burglar alarm companies.</p><p id="p0008" num="0008">The breakthrough in reducing the cost of remote monitoring and control systems to the point of affordability by individual consumers was the advent of the 'smartphone'. For the purpose of this document the definition of a smartphone is considered to be well<!-- EPO <DP n="3"> --> understood in the public domain - basically a phone capable of downloading, updating and running third party applications ('app'), wireless connection to the cellular phone network, Wi-Fi networks, Bluetooth and other current and future near, local and far wireless networks, and connecting to external peripheral devices (such as PCs, USB device, etc.). While the remainder of this document refers to smartphones this is also taken to mean other consumer electronic devices with broadly similar capabilities, such as tablets, PDA-type devices, and similar devices with or without cellular connectivity (e.g. iPod Touch).</p><p id="p0009" num="0009">Smartphones are key to the evolution of remote monitoring and control in general, and this invention in particular, because at a very low cost (given the volumes in which they are produced and subsidies from the cellular carriers) smartphones include out-of-the-box several key ingredients of remote monitoring and control systems:
<ul><li>Wireless connectivity to the Internet, cellular and phone networks.</li><li>Significant onboard processing capability, including the ability to run third party applications ('app'), and to update these apps manually or automatically.</li><li>An array of onboard sensors, including AC power, battery, GPS geolocation, camera, audio, accelerometers, etc.</li><li>Ability to connect to peripheral devices, e.g. PCs, external sensors.</li></ul></p><p id="p0010" num="0010">These capabilities enable the smartphone to play a far more important and cost-effective role within remote monitoring and control systems than simply providing a modem-style gateway to the cellular network and/or Internet.</p><p id="p0011" num="0011">One application of smartphones in remote monitoring and control has been to receive and display reports and alerts sent from the remote monitoring and control system, which is possible since these reports and alerts are nowadays usually sent using standard protocols and format such as SMS text messages or emails. See [<patcit id="pcit0008" dnum="US2008007431A1"><text>JACQUES, US2008007431 (A1</text></patcit>), REMOTE MONITORING SYSTEM] for an example of this architecture.</p><p id="p0012" num="0012">Another, related application of smartphones in remote monitoring and control is the use of smartphones to send commands to a remote monitoring and control system. See [<patcit id="pcit0009" dnum="JP2005051763B"><text>SUZUKI TATSUO, JP2005051763</text></patcit>, REMOTE CONTROL SYSTEMS USING CELLULAR PHONE] which uses a cellular phone to remotely command and control a tracker-style device (for example installed in a car to track unauthorised access or theft).<!-- EPO <DP n="4"> --></p><p id="p0013" num="0013">There are examples of smartphones being used to implement complete remote monitoring and control systems, leveraging only their onboard sensors. See [<patcit id="pcit0010" dnum="KR20050002522"><text>WOONG, KR20050002522</text></patcit>, HOME SECURITY METHOD USING A CELLULAR PHONE CAMERA AND A WIRELESS TRANSCEIVING ARCHITECTURE, SPECIALLY WITH REGARDS TO MONITORING A HOME OR AN OFFICE FROM A REMOTE PLACE BY USING A CELLULAR PHONE, AND CONFIRMING ABNORMAL SITUATIONS OR AN INVADER] where a camera-enabled smartphone is left at a premises and takes photos and uploads them to other designated devices (using picture messaging) when it detects changes in its camera field of view.</p><p id="p0014" num="0014">There are examples of smartphones connecting to external sensors to implement remote monitoring and control systems. See [<patcit id="pcit0011" dnum="US2011275353A1"><text>JUN, US2011275353(A1</text></patcit>), METHODS AND APPARATUS OF A REMOTE MONITORING SYSTEM] where medical sensors are connected wirelessly (via Bluetooth) to a smartphone, which then stores and transmits the sensor data onwards. There is not much difference in this case from a cellular phone simply being used as a gateway, apart from the assumption that the smartphone in the above patent is probably polling the attached sensors and is in control of the data upload (as opposed to the smartphone being controlled by the sensors).</p><p id="p0015" num="0015">There are fewer examples in the prior art of smartphones using both onboard and external sensors together as part of a remote monitoring and control system. See [<patcit id="pcit0012" dnum="GB2388194A"><text>WALDE, GB2388194(A</text></patcit>), REMOTE MEDICAL MONITOR UTILISING A MOBILE TELEPHONE] in which a smartphone running a medical software package receives data from one or more wireless medical sensors, generates alerts by comparing these values against predefined thresholds, and forwards these alerts as SMS messages. In response to these alerts the smartphone can also forward GPS information in the SMS message, from its onboard GPS sensor. Also see [<patcit id="pcit0013" dnum="US20110195701A1"><text>COOK ET AL, US20110195701(A1</text></patcit>), SYSTEM AND METHOD FOR MOBILE MONITORING OF NON-ASSOCIATED TAGS] which uses a smartphone to connect wirelessly to sensors implemented as Wi-Fi RFID tags, to gather sensor data from those tags and relay that data onwards using SMS, email, etc. Again the reception of certain sensor data can trigger the gathering of additional data from sensors onboard the smartphone, such as activating the onboard video camera.<!-- EPO <DP n="5"> --></p><p id="p0016" num="0016">However, there are still several problems with current smartphone-based remote monitoring and control systems:
<ul><li>If they rely on onboard sensors alone (i.e. those sensors included in the off-the-shelf smartphone) those onboard sensors are actually quite limited in their applicability to general purpose remote monitoring and control. The onboard sensors have been designed for the mass-market, mainstream application for which the smartphone itself was designed: to travel with and assist an individual. So for example a GPS is present to provide everyday geolocation services (such as route planning and service location), while it is unlikely that an accurate humidity or far-field passive infrared (PIR) motion sensor will ever be included, because it is not of much utility to the typical smartphone user. Another reason why inclusion of general purpose sensors into smartphones is unlikely is that it is fraught with technical difficulty. For example it would be very difficult to decouple an onboard smartphone temperature sensor from the waste heat generated by the smartphone electronics.</li><li>Smartphone-based remote monitoring and control systems that utilise external sensors assume that those sensors will connect to the smartphone via near-field wireless technologies such as Bluetooth. This is because most smartphones do not have an obvious alternative means to connect to external peripheral devices (and general purpose remote monitoring and control implies the ability to connect to multiple sensors and/or actuators, the lack of which multiple capability would be a serious limitation). This wireless connectivity implies either that the smartphone must directly control each sensor, which limits the number of available sensors since smartphones do not run on the kind of low-latency, high-throughput operating systems capable of directly interfacing with most sensors (for example, a DHT-22 temperature-humidity sensor requires clock signals in the 20-40 microsecond range), or implies that each sensor must include considerable control circuitry to enable it to both independently manage the sensor element and communicate with the smartphone. The latter requirement for intelligent sensors limits the number of available sensors and dramatically raises their cost and complexity.</li><li>It is difficult to add or change functionality on smartphone-based remote monitoring and control systems that utilise intelligent external sensors (see above). It is easy to update apps on the smartphone (the major smartphone operating systems integrate with web-based marketplaces that offer manual and automatic app updating) but updating the capabilities of the sensors<!-- EPO <DP n="6"> --> themselves is often difficult if not possible. An example of a possible required update would be a revised algorithm for screening out small animal activity from within a passive infrared sensor.</li></ul></p><p id="p0017" num="0017">The invention described herein overcomes these limitations of previous smartphone-based remote monitoring and control systems and for the first time brings the cost of such systems down to levels affordable to individual consumers, by combining a smartphone with a general-purpose microcontroller unit capable of hosting a wide and extensible range of external, low-cost sensors and actuators. An app running on the smartphone controls the overall system and can download updated firmware to the microcontroller unit.</p><p id="p0018" num="0018">The invention will now be described solely by way of example and with reference to the accompanying drawings in which:
<ul><li><figref idrefs="f0001">Figure 1</figref> shows a smartphone, its charger and connecting cable.</li><li><figref idrefs="f0001">Figure 2</figref> shows a microcontroller unit with associated sensor and actuator units, inserted between the smartphone and charger, according to the invention.</li><li><figref idrefs="f0002">Figure 3</figref> shows an example circuit schematic for a sensor unit.</li><li><figref idrefs="f0002">Figure 4</figref> shows an example circuit schematic for the microcontroller unit.</li></ul></p><p id="p0019" num="0019"><figref idrefs="f0001">Figure 1</figref> shows a typical smartphone (3), its charger (1) and the cable (2) that transfers power from the charger to the smartphone. Low-end versions of such smartphones can be purchased by consumers at very low cost, either without SIM cards (in which case they can still communicate over Wi-Fi networks) or with pay-as-you-go or monthly payment SIM cards.</p><p id="p0020" num="0020"><figref idrefs="f0001">Figure 2</figref> shows a microcontroller unit (5) inserted between the smartphone charger (1) and the smartphone (2) using the same standard cables (2 and 4) as supported by the smartphone. The microcontroller unit (5) draws power from the smartphone charger (1) for its own operation while passing on power via cable (4) to charge the smartphone. The microcontroller unit (5) communicates with the smartphone (1) either via the cable (4), where the smartphone offers such connectivity, or over a separate cable (not shown) or a wireless connection, for example Bluetooth. One or more external sensors and/or actuators (7) are connected to the microcontroller unit (5) via cables (8).<!-- EPO <DP n="7"> --></p><p id="p0021" num="0021">The smartphone (3) runs an app that provides the following functionality:
<ul><li>Periodically or in response to onboard or external sensor data the smartphone app collects data from onboard sensors and stores that data in an internal database. Modern smartphones provide sophisticated onboard databases, for example Android includes a copy of the SQLite relational database.</li><li>Periodically or in response to onboard or external sensor data the smartphone app collects data from the external sensors (7) connected to the microcontroller unit (5) and stores that data in an internal database. The smartphone can either poll the microcontroller unit (5) or the microcontroller unit can proactively send external sensor data to the smartphone. The smartphone app stores this data into an internal database.</li><li>Periodically or in response to onboard or external sensor data the smartphone app generates graphical and/or textual reports by querying its internal database and sends them via standard protocols such as (but not limited to) SMS text message, email or HTTP upload to third parties whose addresses are configured into the smartphone.</li><li>Periodically or in response to onboard or external sensor data the smartphone app compares current and historical sensor data to various thresholds configured into the smartphone app and generates and sends graphical and/or textual alerts to third parties whose addresses are configured into the smartphone app. For example, an alert that the temperature has been below freezing for more than an hour.</li><li>The smartphone app can receive commands via standard protocols such as (but not limited to) SMS text message or email and, in response to those commands, update its own configuration or the configuration of the attached microcontroller unit, generate and return reports or activate actuators connected to the smartphone or microcontroller unit. For example, after receiving an alert that the temperature has fallen below freezing the end user could send a command to the smartphone to switch on a heater controlled by an actuator (7).</li><li>In order to reduce the cost of the sensor and/or actuators (7) most of their control logic is implemented by the microcontroller unit (5). In order to be able to easily and remotely update the firmware of the microcontroller unit, in order to update sensor and/or actuator functionality or add support for new sensors and/or actuators, the smartphone app can download and store new firmware images which can be installed by a bootloader running on the microcontroller unit (see below).<!-- EPO <DP n="8"> --></li><li>The smartphone app provides a user interface through which the end user can configure the overall application, including (but not limited to) configuring the sensors, alert thresholds, report and alert destinations, scheduling of sensor polls and report generation, actuation, reports, security settings, storage, etc.</li><li>The networking protocols required to communicate with the microcontroller unit (5).</li></ul></p><p id="p0022" num="0022">The microcontroller unit (5) provides the following functionality:
<ul><li>The networking protocols required to communicate with the smartphone (3). For example, for Android this would involve implementing Android Debug Bridge (ADB) or Android Development Kit (ADK) over a USB connection, or over Bluetooth. Equivalent wired and wireless protocols are available for other smartphone, tablet and PDA platforms.</li><li>The control protocols required to integrate various low-cost sensors and actuators. Microcontrollers (for example from the Atmel AVR family) are far better suited to this than smartphones themselves, because microcontrollers can run embedded software at very high speed with very little latency (unlike high-level operating systems like Android or iOS which struggle to achieve millisecond latencies, when microsecond latencies are often required). Microcontrollers are in fact designed to interface directly with hardware such as sensors and actuators, thus requiring very little additional logic on the sensor or actuator itself (other than the sensing or actuating element).</li><li>The microcontroller unit (5) is designed with multiple general purpose connection ports that can accept a wide range of sensor or actuators (7), making adding new sensors and/or actuators very simple.</li><li>The microcontroller unit (5) has internal memory and can store sensor data for relatively short periods (e.g. a day) in order to perform local trending and thresholding, but the smartphone is used for longer term storage and analysis.</li><li>The microcontroller unit (5) typically polls the sensors as frequently as they will allow, and either sends the sensor data to the smartphone periodically or on an alert condition, or in receipt of a poll request from the smartphone.</li><li>The microcontroller unit runs two firmwares. One is the firmware application that controls the sensors and actuators (7) and communicates with the smartphone (3). The other is a semi-permanent bootloader that is also capable of communicating with the smartphone (7). Both are stored in non-volatile memory within the microcontroller unit (5). The bootloader's function is to check with the<!-- EPO <DP n="9"> --> smartphone for new versions of the application firmware. If this exists the bootloader downloads it from the smartphone, replaces the application firmware with it in non-volatile memory and then executes the new application firmware. It is also possible (although uncommon) for the bootloader to update itself from the smartphone. The bootloader executes on power-up or reset conditions, and can be activated for the application firmware in response to a command sent from the smartphone.</li><li>The microcontroller unit is designed for low power consumption so that the smartphone charger (1) can power it and its sensors and/or actuators (7) while also charging the smartphone (3). This novel physical architecture reduces cost by not requiring separate power supplies for the smartphone and microcontroller unit.</li></ul></p><p id="p0023" num="0023">The sensor/actuators (7) provide the following functionality:
<ul><li>Through the use of EEPROM or equivalent non-volatile memory each sensor or actuator (7) can identify itself to the microcontroller unit (5). This allows the microcontroller unit (5) to accept the sensor or actuator on any available port, tag the sensor or actuator data stream with name, range and calibration information and pass that on to the smartphone (3).</li><li>The sensor/actuators (7) receive power from the microcontroller unit (although in some cases, e.g. actuation of higher-voltage power supplies, they may also receive external power) and provide minimal interface logic to the respective sensor or actuator element. To reduce the cost of the overall system most of the sensor management is offloaded to the microcontroller unit (which can handle several sensors and actuators concurrently). For example, a DHT-22 temperature/humidity sensor requires the implementation of a proprietary 1-wire protocol. In the preferred implementation of this invention this protocol is implemented by the microcontroller unit and not by the sensor or actuator (7). Note that nothing in this invention precludes using more sophisticated interface electronics in the sensor and/or actuator units, up to and including separate microcontrollers; it is just that the preferred implementation from a cost perspective is for most of the sensor or actuator management to be performed by the shared microcontroller unit.</li></ul></p><p id="p0024" num="0024"><figref idrefs="f0002">Figure 3</figref> shows an example circuit schematic for a sensor or actuator (7). In this example schematic a passive infrared (PIR) sensor element (9) is connected to an RJ45 connector (11) along with an EEPROM (10) that has been programmed with<!-- EPO <DP n="10"> --> identification and calibration information for the sensor element (9). The RJ45 connector (11) will be connected via the cable (8) to the microcontroller unit (5) shown in <figref idrefs="f0001">Figure 2</figref>. It should be understood that this schematic is only intended to illustrate the aspect of this invention that sensors and/or actuators need only contain minimal interface logic (in this case an EEPROM and a few passive components such as pulldown resistors and decoupling capacitors familiar to practitioners of the art) while most of the sensor interface and control logic is implemented by the microcontroller unit (5). This patent applies to all functionally equivalent designs.</p><p id="p0025" num="0025"><figref idrefs="f0002">Figure 4</figref> shows an example circuit schematic for the microcontroller unit (5). In this example schematic general purpose I/O pins of a microcontroller chip (12) are connected to one or more external ports (13), in this case RJ45 connectors. A micro-B USB connector (14) inputs power to the microcontroller unit (5) from the smartphone charger (1) and cable (2) and a USB A connector provides power and communication from the microcontroller (12) to the smartphone (3). Additional components such as decoupling capacitors, ESD protection, serial programming/debugging and reset logic are not described as they would be familiar to any practitioner of the art. This example is specialised for use with Android phones (given the standardised USB connectors) but it will be understood that the salient feature of the design is that the microcontroller (12) performs the majority of interfacing logic for external sensors and/or actuators (7) while implementing a communication and bootloading protocol to the smartphone (3). This patent applies to all functionally equivalent designs, for example designs that use alternative connectors and protocols to communicate with the smartphone (3) and sensors and/or actuators (7), over wired or wireless connections.</p><p id="p0026" num="0026">A key aspect of this invention is that a smartphone is the controller of a complete remote monitoring and control system, managing both onboard and external sensors (the latter via an external microcontroller unit that it controls, configures and updates) and locally creating and distributing its own reports and alerts. There is no longer a requirement for a centralised monitoring service and no requirement for uploading of sensor data to a centralised web or cloud application, or hosted or manned service, to generate reports and alerts (and charge the consumer accordingly). This novel smartphone- and microcontroller-based remote monitoring and control system reports directly to interested parties (e.g. a home owner away on vacation) via standard network and application protocols such as SMS and email, which can be read on any modern consumer device (PCs, tablets, smartphones).<!-- EPO <DP n="11"> --></p><p id="p0027" num="0027">The smartphone also, in the same novel architecture, supports both onboard and external actuators (as well as onboard and external sensors) and configuration, reporting and actuation commands sent to it via standard protocols from any modern consumer device. For example, the homeowner could receive an alert on his smartphone, while on holiday in Greece, telling him that the temperature is below freezing at home. He could send a request to obtain a further humidity reading and then instruct the remote smartphone system to switch on the home central heating (via an actuator onboard the remote smartphone, e.g. Wi-Fi home automation, or an external actuator connected to the microcontroller unit, e.g. a relay connected to a power block).</p><p id="p0028" num="0028">The smartphone can also download updated firmware for the microcontroller unit from the Internet and install it into the microcontroller unit's non-volatile memory, in cooperation with bootloader firmware running on the microcontroller unit.</p></description><claims mxw-id="PCLM56982292" lang="EN" load-source="patent-office"><!-- EPO <DP n="12"> --><claim id="c-en-0001" num="0001"><claim-text>A remote monitoring and control system comprising a smartphone equipped with onboard sensors, connected to a microcontroller unit, and one or more external sensors and/or actuators connected to the microcontroller unit, where the smartphone performs all the data collection, control, configuration, report and alert generation activities for the combined onboard and external sensors and/or actuators and generates and sends monitoring reports, and receives remote control and configuration commands, to/from one or more remote end users via standard network and application protocols; the entire system of smartphone, microcontroller unit, sensors and/or actuators being left behind at a remote monitored location.</claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>A remote monitoring and control system according to claim 1, in which the microcontroller unit shares the same power supply as the smartphone.</claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>A remote monitoring and control system according to claim 1, in which the microcontroller unit connects to the smartphone via the same wireless or wired connection the smartphone uses for connection to a PC.</claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>A remote monitoring and control system according to claim 1, in which the smartphone downloads updated microcontroller firmware and installs it into the microcontroller unit's non-volatile memory, in cooperation with bootloader firmware running on the microcontroller unit.</claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>A remote monitoring and control system according to claim 1, in which separate sensor and/or actuators can be connected to general-purpose and inter-changeable ports on the microcontroller unit.</claim-text></claim><claim id="c-en-0006" num="0006"><claim-text>A remote monitoring and control system according to claim 1, in which the sensor and/or actuator units contain minimal interfacing logic and most of the interfacing logic is performed by the microcontroller unit.</claim-text></claim></claims><drawings mxw-id="PDW16670677" load-source="patent-office"><!-- EPO <DP n="13"> --><!-- EPO <DP n="14"> --><figure id="f0001" num="1,2"><img id="if0001" file="imgf0001.tif" wi="139" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="15"> --><figure id="f0002" num="3,4"><img id="if0002" file="imgf0002.tif" wi="148" he="233" img-content="drawing" img-format="tif"/></figure></drawings><search-report-data><doc-page id="srep0001" file="srep0001.tif" wi="159" he="233" type="tif"/><doc-page id="srep0002" file="srep0002.tif" wi="162" he="233" type="tif"/></search-report-data><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
