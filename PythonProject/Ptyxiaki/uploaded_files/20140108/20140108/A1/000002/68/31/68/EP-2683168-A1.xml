<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2683168-A1" country="EP" doc-number="2683168" kind="A1" date="20140108" family-id="48983949" file-reference-id="312919" date-produced="20180824" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146585081" ucid="EP-2683168-A1"><document-id><country>EP</country><doc-number>2683168</doc-number><kind>A1</kind><date>20140108</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-13748981-A" is-representative="YES"><document-id mxw-id="PAPP154847273" load-source="docdb" format="epo"><country>EP</country><doc-number>13748981</doc-number><kind>A</kind><date>20130117</date><lang>JA</lang></document-id><document-id mxw-id="PAPP175868165" load-source="docdb" format="original"><country>EP</country><doc-number>13748981.1</doc-number><date>20130117</date></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140556284" ucid="JP-2012032215-A" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>2012032215</doc-number><kind>A</kind><date>20120216</date></document-id></priority-claim><priority-claim mxw-id="PPC140555783" ucid="JP-2012035684-A" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>2012035684</doc-number><kind>A</kind><date>20120221</date></document-id></priority-claim><priority-claim mxw-id="PPC140555152" ucid="JP-2013050723-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>2013050723</doc-number><kind>W</kind><date>20130117</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-2044368181" load-source="docdb">H04N  19/00        20140101ALI20150616BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-2044370832" load-source="docdb">H04N  13/00        20060101AFI20150616BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1645095679" load-source="docdb" scheme="CPC">H04N  13/178       20180501 LI20180504BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1645095687" load-source="docdb" scheme="CPC">H04N  13/161       20180501 LI20180504BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1645096151" load-source="docdb" scheme="CPC">H04N  13/194       20180501 LI20180504BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1645103979" load-source="docdb" scheme="CPC">H04N  13/128       20180501 FI20180504BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1645104540" load-source="docdb" scheme="CPC">H04N  13/183       20180501 LI20180504BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1884766676" load-source="docdb" scheme="CPC">H04N  19/597       20141101 LI20161028BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1884766681" load-source="docdb" scheme="CPC">H04N  19/46        20130101 LI20161028BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1884766682" load-source="docdb" scheme="CPC">H04N  19/70        20130101 LI20161028BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132359876" lang="DE" load-source="patent-office">SENDEVORRICHTUNG, SENDEVERFAHREN UND EMPFANGSVORRICHTUNG</invention-title><invention-title mxw-id="PT132359877" lang="EN" load-source="patent-office">TRANSMISSION DEVICE, TRANSMISSION METHOD AND RECEIVER DEVICE</invention-title><invention-title mxw-id="PT132359878" lang="FR" load-source="patent-office">DISPOSITIF DE TRANSMISSION, PROCÉDÉ DE TRANSMISSION ET DISPOSITIF DE RÉCEPTION</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR919511482" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>SONY CORP</last-name><address><country>JP</country></address></addressbook></applicant><applicant mxw-id="PPAR919539082" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>SONY CORPORATION</last-name></addressbook></applicant><applicant mxw-id="PPAR919007440" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Sony Corporation</last-name><iid>100830309</iid><address><street>1-7-1 Konan Minato-ku</street><city>Tokyo 108-0075</city><country>JP</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR919543594" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>TSUKAGOSHI IKUO</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919530862" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>TSUKAGOSHI, IKUO</last-name></addressbook></inventor><inventor mxw-id="PPAR919012313" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>TSUKAGOSHI, IKUO</last-name><address><street>c/o Sony Corporation 1-7-1 Konan Minato-ku</street><city>Tokyo 108-0075</city><country>JP</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR919006060" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Ealey, Douglas Ralph</last-name><iid>101077806</iid><address><street>D Young &amp; Co LLP 120 Holborn</street><city>London EC1N 2DY</city><country>GB</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="JP-2013050723-W"><document-id><country>JP</country><doc-number>2013050723</doc-number><kind>W</kind><date>20130117</date><lang>JA</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2013121823-A1"><document-id><country>WO</country><doc-number>2013121823</doc-number><kind>A1</kind><date>20130822</date><lang>JA</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS549815451" load-source="docdb">AL</country><country mxw-id="DS549818252" load-source="docdb">AT</country><country mxw-id="DS549815452" load-source="docdb">BE</country><country mxw-id="DS549744488" load-source="docdb">BG</country><country mxw-id="DS549744049" load-source="docdb">CH</country><country mxw-id="DS549813940" load-source="docdb">CY</country><country mxw-id="DS549818253" load-source="docdb">CZ</country><country mxw-id="DS549742238" load-source="docdb">DE</country><country mxw-id="DS549815453" load-source="docdb">DK</country><country mxw-id="DS549813941" load-source="docdb">EE</country><country mxw-id="DS549908400" load-source="docdb">ES</country><country mxw-id="DS549744493" load-source="docdb">FI</country><country mxw-id="DS549744494" load-source="docdb">FR</country><country mxw-id="DS549815458" load-source="docdb">GB</country><country mxw-id="DS549815459" load-source="docdb">GR</country><country mxw-id="DS549815460" load-source="docdb">HR</country><country mxw-id="DS549818258" load-source="docdb">HU</country><country mxw-id="DS549744050" load-source="docdb">IE</country><country mxw-id="DS549815461" load-source="docdb">IS</country><country mxw-id="DS549744495" load-source="docdb">IT</country><country mxw-id="DS549813954" load-source="docdb">LI</country><country mxw-id="DS549742239" load-source="docdb">LT</country><country mxw-id="DS549818259" load-source="docdb">LU</country><country mxw-id="DS549742240" load-source="docdb">LV</country><country mxw-id="DS549742245" load-source="docdb">MC</country><country mxw-id="DS549815947" load-source="docdb">MK</country><country mxw-id="DS549815948" load-source="docdb">MT</country><country mxw-id="DS549818260" load-source="docdb">NL</country><country mxw-id="DS549908401" load-source="docdb">NO</country><country mxw-id="DS549818261" load-source="docdb">PL</country><country mxw-id="DS549908402" load-source="docdb">PT</country><country mxw-id="DS549818266" load-source="docdb">RO</country><country mxw-id="DS549742246" load-source="docdb">RS</country><country mxw-id="DS549818267" load-source="docdb">SE</country><country mxw-id="DS549742247" load-source="docdb">SI</country><country mxw-id="DS549744051" load-source="docdb">SK</country><country mxw-id="DS549744052" load-source="docdb">SM</country><country mxw-id="DS549815949" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA128673253" lang="EN" load-source="patent-office"><p id="pa01" num="0001">Displaying a stereo image in a favorable manner is enabled.</p><p id="pa02" num="0002">First disparity information (disparity information corresponding to the nearest object reproduction position in a certain area of a picture display screen) and second disparity information (disparity information corresponding to the farthest object reproduction position in the certain area of the picture display screen) which are obtained for each of certain pictures of image data are inserted into a video stream, and the video stream is transmitted. On the basis of the first disparity information and the second disparity information, a receiving side is capable of checking whether or not disparity angles in a same-side direction and a crossing direction are within a certain range in which viewing does not cause any health problems, and reconfiguring left-eye image data and right-eye image data which form a stereo image if necessary.<img id="iaf01" file="imgaf001.tif" wi="145" he="91" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA128737404" lang="EN" source="EPO" load-source="docdb"><p>Displaying a stereo image in a favorable manner is enabled.  First disparity information (disparity information corresponding to the nearest object reproduction position in a certain area of a picture display screen) and second disparity information (disparity information corresponding to the farthest object reproduction position in the certain area of the picture display screen) which are obtained for each of certain pictures of image data are inserted into a video stream, and the video stream is transmitted. On the basis of the first disparity information and the second disparity information, a receiving side is capable of checking whether or not disparity angles in a same-side direction and a crossing direction are within a certain range in which viewing does not cause any health problems, and reconfiguring left-eye image data and right-eye image data which form a stereo image if necessary.</p></abstract><description mxw-id="PDES63959241" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001">Technical Field</heading><p id="p0001" num="0001">The present technology relates to a transmitting apparatus, a transmitting method, and a receiving apparatus, and particularly relates to a transmitting apparatus and so forth for enabling favorable display of a stereo image or favorable overlay display of graphics on a stereo image.</p><heading id="h0002">Background Art</heading><p id="p0002" num="0002">For example, in PTL 1, a method for transmitting stereo image data using television broadcast waves is suggested. In this case, left-eye image data and right-eye image data which form a stereo image are transmitted, and stereo image display utilizing binocular disparity is performed in a television receiver.</p><p id="p0003" num="0003"><figref idrefs="f0075">Fig. 77</figref> illustrates the relationship between display positions of left and right images of an object on a screen and a reproduction position of a stereo image formed therefrom in stereo image display utilizing binocular disparity. For example, regarding an object A, a left image La of which is displayed so as to be shifted to the right side and a right image Ra of which is displayed so as to be shifted to the left side on the screen, as illustrated in the figure, left and right lines of sight cross in front of a screen surface, and thus the reproduction position of the stereo image thereof is in front of the screen surface.</p><p id="p0004" num="0004">Also, for example, regarding an object B, a left image Lb and a right image Rb of which are displayed at the same position on the screen, as illustrated in the figure, left and right lines of sight cross on the screen surface, and thus the reproduction position of the stereo image thereof is on the screen surface. Furthermore, for example, regarding an object C, a left image Lc of which is displayed so as to be shifted to the left side and a right image Rc of which is displayed so as to be shifted to the right side on the screen, as<!-- EPO <DP n="2"> --> illustrated in the figure, left and right lines of sight cross behind the screen surface, and thus the reproduction position of the stereo image thereof is behind the screen surface.</p><heading id="h0003">Citation List</heading><heading id="h0004">Patent Literature</heading><p id="p0005" num="0005">PTL 1: Japanese Unexamined Patent Application Publication No. <patcit id="pcit0001" dnum="JP2005006114A"><text>2005-6114</text></patcit></p><heading id="h0005">Summary of Invention</heading><heading id="h0006">Technical Problem</heading><p id="p0006" num="0006">As described above, in stereo image display, a viewer perceives perspective in a stereo image utilizing binocular disparity. Here, it is necessary that a disparity angle with respect to the nearest object reproduction position (a disparity angle in a crossing direction) and a disparity angle with respect to the farthest object reproduction position (a disparity angle in a same-side direction) be within a certain range so that viewing does not cause any health problems. That is, it is expected that disparity angles will be checked on a receiving side, and, if the disparity angles are out of the certain range, a left-eye image and a right-eye image will be reconfigured so that the disparity angles are within the certain range.</p><p id="p0007" num="0007">Further, regarding graphics of OSD (On-Screen Display), an application, or the like displayed on an image in an overlaid manner in a receiver (such as a set top box or a television receiver), it is expected that such graphics will be rendered in conjunction with stereo image display, not only in terms of a two-dimensional space, but also in terms of the depth of three dimensions. In the case of displaying graphics on an image in an overlaid manner in a receiver, it is expected that disparity adjustment will be performed in accordance with the perspective of individual objects in the image, so as to maintain perspective consistency.</p><p id="p0008" num="0008">An object of the present technology is to enable favorable display of a stereo image or favorable overlay display of graphics on a stereo image.</p><heading id="h0007">Solution to Problem</heading><p id="p0009" num="0009"><!-- EPO <DP n="3"> --> A concept of the present technology resides in a transmitting apparatus including:
<ul><li>an image data obtaining unit that obtains left-eye image data and right-eye image data which form a stereo image;</li><li>a disparity information obtaining unit that obtains, for each of certain pictures of the obtained image data, disparity information about one of a left-eye image and a right-eye image with respect to the other, the disparity information including first disparity information corresponding to the nearest object reproduction position in a certain area of a picture display screen, and second disparity information corresponding to the farthest object reproduction position in the certain area of the picture display screen;</li><li>a disparity information inserting unit that inserts the obtained disparity information into a video stream which is obtained by encoding the obtained image data; and</li><li>an image data transmitting unit that transmits a container of a certain format, the container including the video stream into which the disparity information has been inserted.</li></ul></p><p id="p0010" num="0010">In the present technology, the image data obtaining unit obtains left-eye image data and right-eye image data which form a stereo image. In this case, the image data is obtained by, for example, capturing an image using a camera, or reading it from a storage medium.</p><p id="p0011" num="0011">The disparity information obtaining unit obtains, for each of certain pictures of image data, disparity information about one of a left-eye image and a right-eye image with respect to the other, the disparity information including first disparity information and second disparity information. In this case, obtainment of disparity information may be performed for at least the picture for which disparity information is to be transmitted, and not necessarily for all the pictures. The first disparity information is disparity information corresponding to the nearest object reproduction position in a certain area of a picture display screen. The second disparity information is disparity information corresponding to the farthest object reproduction position in the certain area of the picture display screen.</p><p id="p0012" num="0012">For example, the disparity information obtaining unit may obtain<!-- EPO <DP n="4"> --> first disparity information about each of partitioned areas that are obtained by partitioning the picture display screen using partition information, and obtain second disparity information about the entire picture display screen. Also, for example, the disparity information obtaining unit may obtain first disparity information and second disparity information about each of partitioned areas that are obtained by partitioning the picture display screen using partition information. Furthermore, for example, the disparity information obtaining unit may obtain first disparity information about each of partitioned areas that are obtained by partitioning the picture display screen using first partition information, and obtain second disparity information about each of partitioned areas that are obtained by partitioning the picture display screen using second partition information.</p><p id="p0013" num="0013">The disparity information inserting unit inserts the obtained first disparity information and second disparity information into a video stream which is obtained by encoding the obtained image data. For example, disparity information is inserted into the video stream in units of pictures or in units of GOPs (Groups of Pictures). Furthermore, disparity information may be inserted in units of other units, for example, in units of scenes.</p><p id="p0014" num="0014">In this case, the disparity information inserting unit may insert the disparity information into the video stream after performing a compression encoding process. For example, in the compression encoding process, data compression may be performed using a variable-length code. Alternatively, difference data of disparity information between pictures may be obtained, and variable-length encoding may be performed thereon to further increase the compression rate.</p><p id="p0015" num="0015">Further, in this case, the disparity information inserting unit may further insert, when inserting disparity information into a certain picture in the video stream, identification information identifying whether the disparity information is disparity information about the entire picture display screen or disparity information about each of a certain number of partitioned areas. The identification information enables a receiving side to easily determine whether the disparity information transmitted thereto is disparity information<!-- EPO <DP n="5"> --> about the entire picture display screen or about each of a plurality of partitioned areas.</p><p id="p0016" num="0016">The image data transmitting unit transmits a container of a certain format, the container including the video stream into which the disparity information has been inserted. For example, the container may be a transport stream (MPEG-2 TS) adopted in digital broadcast standards. Alternatively, for example, the container may be a container of MP4 used for distribution on the Internet, or a container of another format.</p><p id="p0017" num="0017">An identification information inserting unit inserts, into a layer of a container, identification information identifying whether a video stream includes disparity information inserted thereinto. For example, the container is a transport stream, and the identification information inserting unit may insert the identification information under a program map table or an event information table. For example, the identification information inserting unit describes identification information in a descriptor that is inserted under the program map table of the event information table.</p><p id="p0018" num="0018">As described above, in the present technology, first disparity information (disparity information corresponding to the nearest object reproduction position in a certain area of a picture display screen) and second disparity information (disparity information corresponding to the farthest object reproduction position in the certain area of the picture display screen) that are obtained for each of certain pictures of image data are inserted into a video stream, and the video stream is transmitted. Accordingly, on the basis of the first disparity information and the second disparity information, a receiving side is capable of checking whether or not a disparity angle with respect to the nearest object reproduction position (a disparity angle in a crossing direction) and a disparity angle with respect to the farthest object reproduction position (a disparity angle in a same-side direction) are within a certain range in which viewing does not cause any health problems.</p><p id="p0019" num="0019">Further, another concept of the present technology resides in a receiving apparatus including:<!-- EPO <DP n="6"> -->
<ul><li>an image data receiving unit that receives a container of a certain format, the container including a video stream,</li><li>wherein the video stream is obtained by encoding left-eye image data and right-eye image data which form a stereo image, and</li><li>wherein the video stream includes inserted thereinto, for each of certain pictures of the image data, disparity information about one of a left-eye image and a right-eye image with respect to the other, the disparity information including first disparity information corresponding to the nearest object reproduction position in a certain area of a picture display screen, and second disparity information corresponding to the farthest object reproduction position in the certain area of the picture display screen,</li><li>the receiving apparatus further including:
<ul><li>an information obtaining unit that obtains the left-eye image data and the right-eye image data and also obtains the first disparity information and the second disparity information from the video stream included in the container; and</li><li>a control unit that provides an instruction to reconfigure at least the left-eye image data and the right-eye image data so that a disparity angle is within a certain range, on the basis of the obtained first disparity information and second disparity information.</li></ul></li></ul></p><p id="p0020" num="0020">In the present technology, the image data receiving unit receives a container of a certain format, the container including a video stream. The video stream is obtained by encoding left-eye image data and right-eye image data which form a stereo image. Also, the video stream includes inserted thereinto, for each of certain pictures of the image data, disparity information about one of a left-eye image and a right-eye image with respect to the other, the disparity information including first disparity information and second disparity information. The first disparity information is disparity information corresponding to the nearest object reproduction position in a certain area of a picture display screen. The second disparity information is disparity information corresponding to the farthest object reproduction position in the certain area of the picture display screen.</p><p id="p0021" num="0021">The information obtaining unit obtains, from the video stream included in the container, the left-eye image data and the right-eye<!-- EPO <DP n="7"> --> image data and also obtains the first disparity information and the second disparity information inserted into a certain picture of the image data. Further, the control unit provides an instruction to reconfigure the left-eye image data and the right-eye image data so that a disparity angle is within a certain range, on the basis of the obtained first disparity information and second disparity information.</p><p id="p0022" num="0022">As described above, in the present technology, there is provided an instruction to reconfigure left-eye image data and right-eye image data so that a disparity angle is within a certain range, on the basis of first disparity information and second disparity information. Thus, the left-eye image data and the right-eye image data can be reconfigured so that a disparity angle with respect to the nearest object reproduction position (a disparity angle in a crossing direction) and a disparity angle with respect to the farthest object reproduction position (a disparity angle in a same-side direction) are within a certain range in which viewing does not cause any health problems.</p><p id="p0023" num="0023">Further, a still another concept of the present technology resides in a transmitting apparatus including:
<ul><li>an image data obtaining unit that obtains left-eye image data and right-eye image data which form a stereo image;</li><li>a disparity information obtaining unit that obtains, for each of certain pictures of the obtained image data, disparity information about one of a left-eye image and a right-eye image with respect to the other;</li><li>a compression encoding unit that performs a compression encoding process on the obtained disparity information;</li><li>a disparity information inserting unit that inserts the compression-encoded disparity information into a video stream which is obtained by encoding the obtained image data; and</li><li>an image data transmitting unit that transmits a container of a certain format, the container including the video stream into which the disparity information has been inserted.</li></ul></p><p id="p0024" num="0024">In the present technology, the image data obtaining unit obtains left-eye image data and right-eye image data which form a stereo image. In this case, the image data is obtained by, for example, capturing an<!-- EPO <DP n="8"> --> image using a camera, or reading it from a storage medium.</p><p id="p0025" num="0025">The disparity information obtaining unit obtains, for each of certain pictures of the obtained image data, disparity information about one of a left-eye image and a right-eye image with respect to the other. In this case, for example, the disparity information is generated on the basis of left-eye image data and right-eye image data, or is obtained by reading it from a storage medium.</p><p id="p0026" num="0026">The compression encoding unit performs a compression encoding process on the obtained disparity information. For example, the compression encoding unit may perform, as the compression encoding process, a process using a variable-length code on the obtained disparity information about the individual pictures. Alternatively, for example, the compression encoding unit may perform, as the compression encoding process, a process of obtaining difference data between a reference picture and a referenced picture among the obtained individual pictures, and performing variable-length encoding on the difference data. In this case, for example, the compression encoding unit may obtain difference data by regarding a preceding picture in display order as a referenced picture. Alternatively, in this case, for example, the compression encoding unit may obtain difference data by regarding a preceding picture in decoding order as a referenced picture.</p><p id="p0027" num="0027">The disparity information inserting unit inserts the compression-encoded disparity information into a video stream which is obtained by encoding the obtained image data. For example, disparity information is inserted into the video stream in unit of pictures or in units of GOPs (Groups of Pictures). Furthermore, disparity information may be inserted in units of other units, for example, in units of scenes.</p><p id="p0028" num="0028">For example, the disparity information inserting unit may further insert, when inserting the disparity information into a certain picture in the video stream, identification information identifying whether the inserted disparity information is intra data or difference data. In this case, a receiving side is capable of easily determining whether the inserted disparity information is intra data or difference data.<!-- EPO <DP n="9"> --></p><p id="p0029" num="0029">Also, for example, the disparity information inserting unit may insert the disparity information for an I picture, a P picture, and a referenced B picture in the video stream, and, in a case where the inserted disparity information is difference data, may further insert information representing the number of pictures up to a referenced picture. In this case, a receiving side is capable of easily determining a referenced picture.</p><p id="p0030" num="0030">As described above, in the present technology, disparity information obtained for each of certain pictures of image data is inserted into a video stream and the video stream is transmitted. Accordingly, the depth of graphics displayed on a stereo image in an overlaid manner on a receiving side can be favorably controlled in units of pictures (frames). Further, in the present technology, disparity information inserted into a video stream has been compression-encoded, so that the amount of data can be reduced.</p><p id="p0031" num="0031">Further, another concept of the present technology resides in a receiving apparatus including:
<ul><li>an image data receiving unit that receives a container of a certain format, the container including a video stream,</li><li>wherein the video stream is obtained by encoding left-eye image data and right-eye image data which form a stereo image, and</li><li>wherein the video stream includes inserted thereinto, for each of certain pictures of the image data, disparity information about one of a left-eye image and a right-eye image with respect to the other,</li><li>the receiving apparatus further including:
<ul><li>an information obtaining unit that obtains the left-eye image data and the right-eye image data and also obtains the disparity information from the video stream included in the container; and</li><li>a disparity information interpolating unit that generates disparity information about a picture for which the disparity information obtained by the information obtaining unit does not exist, by performing interpolation using the obtained disparity information about a preceding picture and a subsequent picture.</li></ul></li></ul></p><p id="p0032" num="0032">In the present technology, the image data receiving unit receives a container of a certain format, the container including a video<!-- EPO <DP n="10"> --> stream. The video stream is obtained by encoding left-eye image data and right-eye image data which form a stereo image. Also, the video stream includes inserted thereinto, for each of certain pictures of the image data, disparity information about one of a left-eye image and a right-eye image with respect to the other.</p><p id="p0033" num="0033">The information obtaining unit obtains the left-eye image data and the right-eye image data and also obtains the disparity information inserted into a certain picture of the image data, from the video stream included in the container. Also, the disparity information interpolating unit generates disparity information about a picture for which disparity information does not exist, by performing interpolation using the obtained disparity information about a preceding picture and a subsequent picture.</p><p id="p0034" num="0034">As described above, in the present technology, disparity information about a picture for which disparity information does not exist is generated by performing interpolation using the obtained disparity information about a preceding picture and a subsequent picture. Thus, for example, the depth of graphics displayed on a stereo image in an overlaid manner can be favorably controlled in units of pictures (frames). In this case, when disparity information about a picture generated through interpolation is generated at decimal precision, if the disparity information corresponds to disparity information of sub-pixels, dynamic update of the depth of graphics can be performed more smoothly.</p><p id="p0035" num="0035">Further, still another concept of the present technology resides in a receiving apparatus including:
<ul><li>an image data receiving unit that receives a container of a certain format, the container including a video stream,</li><li>wherein the video stream is obtained by encoding left-eye image data and right-eye image data which form a stereo image, and</li><li>wherein the video stream includes inserted thereinto, for each of certain pictures of the image data, disparity information about one of a left-eye image and a right-eye image with respect to the other, the disparity information including first disparity information corresponding to the nearest object reproduction position in a certain area of a picture display screen, and second disparity information<!-- EPO <DP n="11"> --> corresponding to the farthest object reproduction position in the certain area of the picture display screen,</li><li>the receiving apparatus further including:
<ul><li>an information obtaining unit that obtains the left-eye image data and the right-eye image data and also obtains the first disparity information and the second disparity information from the video stream included in the container; and</li><li>a transmitting unit that transmits, to an external apparatus, the obtained left-eye image data and right-eye image data and the obtained first disparity information and second disparity information in association with each other.</li></ul></li></ul></p><p id="p0036" num="0036">In the present technology, the image data receiving unit receives a container of a certain format, the container including a video stream. For example, the container may be a transport stream (MPEG-2 TS) adopted in digital broadcast standards. Alternatively, for example, the container may be a container of MP4 used for distribution on the Internet, or a container of another format.</p><p id="p0037" num="0037">The video stream is obtained by encoding left-eye image data and right-eye image data which form a stereo image. Further, the video stream includes inserted thereinto, for each of certain pictures of the image data, disparity information about one of a left-eye image and a right-eye image with respect to the other, the disparity information including first disparity information and second disparity information. The first disparity information is disparity information corresponding to the nearest object reproduction position in a certain area of a picture display screen. On the other hand, the second disparity information is disparity information corresponding to the farthest object reproduction position in the certain area of the picture display screen.</p><p id="p0038" num="0038">The information obtaining unit obtains the left-eye image data and the right-eye image data and also obtains the first disparity information and the second disparity information inserted into a certain picture of the image data, from the video stream included in the container. The transmitting unit transmits, to an external apparatus, the obtained left-eye image data and right-eye image data and the obtained first disparity information and second disparity<!-- EPO <DP n="12"> --> information in association with each other.</p><p id="p0039" num="0039">For example, the transmitting unit transmits image data to an external apparatus using differential signals through a certain number of channels, and inserts disparity information into a blanking period of the image data, thereby transmitting the disparity information to the external apparatus. In this case, for example, the transmitting unit inserts disparity information into an information packet of a certain format located in the blanking period of the image data.</p><p id="p0040" num="0040">For example, the receiving apparatus may further include an information reconfiguration unit that reconfigures image data and disparity information so that a disparity angle is within a certain range, on the basis of the obtained first disparity information and second disparity information. The transmitting unit may transmit, to the external apparatus, the reconfigured left-eye image data and right-eye image data and the reconfigured first disparity information and second disparity information in association with each other.</p><p id="p0041" num="0041">As described above, in the present technology, left-eye image data and right-eye image data and first disparity information and second disparity information obtained from a video stream included in a reception container are transmitted to an external apparatus in association with each other. Thus, the external apparatus is capable of checking, on the basis of the first disparity information and the second disparity information, whether or not a disparity angle with respect to the nearest object reproduction position (a disparity angle in a crossing direction) and a disparity angle with respect to the farthest object reproduction position (a disparity angle in a same-side direction) are within a certain range in which viewing does not cause any health problems.</p><p id="p0042" num="0042">Further, in the present technology, for example, the transmitting unit may transmit, in units of two pictures, disparity information about a first picture and a second picture which are sequentially adjacent to each other. At least the disparity information about the first picture or the second picture may be difference data with respect to disparity information about an immediately preceding picture. In this way, either of disparity information about the first<!-- EPO <DP n="13"> --> picture and disparity information about the second picture is difference data, and thus the amount of transmission data can be reduced.</p><p id="p0043" num="0043">Further, in the present technology, for example, the receiving apparatus may further include a determining unit that determines, on the basis of difference data between the disparity information about the first picture and the disparity information about the second picture, which of the disparity information about the first picture and the disparity information about the second picture is to be difference data. In this case, for example, when the difference between the disparity information about the first picture and the disparity information about the second picture is large due to scene change or the like, the disparity information about the first picture can be determined to be difference data, and the amount of transmission data can be further reduced.</p><p id="p0044" num="0044">Further, in the present technology, for example, the disparity information transmitted by the transmitting unit may include, added thereto, identification information indicating whether the disparity information about the first picture is difference data and whether the disparity information about the second picture is difference data. In this case, it can be easily determined whether the disparity information about the first picture is difference data and whether the disparity information about the second picture is difference data. Advantageous Effects of Invention</p><p id="p0045" num="0045">According to the present technology, display of a stereo image or overlay display of graphics on a stereo image can be favorably performed.</p><heading id="h0008">Brief Description of Drawings</heading><p id="p0046" num="0046"><ul><li>[<figref idrefs="f0001">Fig. 1] Fig. 1</figref> is a block diagram illustrating an example configuration of an image transmitting/receiving system according to an embodiment.</li><li>[<figref idrefs="f0001">Fig. 2] Fig. 2</figref> is a diagram illustrating an example of disparity information (disparity vector) about each block.</li><li>[<figref idrefs="f0002">Fig. 3] Fig. 3</figref> is a diagram describing an example of a method for generating disparity information in units of blocks.<!-- EPO <DP n="14"> --></li><li>[<figref idrefs="f0003">Fig. 4] Fig. 4</figref> includes diagrams describing an example of a downsizing process for obtaining disparity information about certain partitioned areas from disparity information about individual blocks.</li><li>[<figref idrefs="f0004">Fig. 5] Fig. 5</figref> is a diagram describing that a picture display screen is partitioned so that a partitioned area does not straddle a border between encoding blocks.</li><li>[<figref idrefs="f0005">Fig. 6] Fig. 6</figref> is a diagram schematically illustrating an example of transitions of disparity information in individual partitioned areas of each picture.</li><li>[<figref idrefs="f0006">Fig. 7] Fig. 7</figref> includes diagrams describing timings to insert disparity information, which is obtained for each picture of image data, into a video stream.</li><li>[<figref idrefs="f0007">Fig. 8] Fig. 8</figref> is a block diagram illustrating an example configuration of a transmission data generating unit that generates a transport stream in a broadcast station.</li><li>[<figref idrefs="f0008">Fig. 9] Fig. 9</figref> is a diagram illustrating an example configuration of a transport stream.</li><li>[<figref idrefs="f0009">Fig. 10] Fig. 10</figref> includes diagrams illustrating an example structure (Syntax) of an AVC video descriptor and main definition content (semantics).</li><li>[<figref idrefs="f0010">Fig. 11] Fig. 11</figref> includes diagrams illustrating an example structure (Syntax) of an MVC extension descriptor and main definition content (semantics).</li><li>[<figref idrefs="f0011">Fig. 12] Fig. 12</figref> includes diagrams illustrating an example structure (Syntax) of a graphics depth info descriptor (graphics_depth_info_descriptor) and main definition content (semantics).</li><li>[<figref idrefs="f0012">Fig. 13] Fig. 13</figref> illustrates an example of an access unit at the head of a GOP and an access unit at the position other than the head of a GOP in a case where the encoding scheme is AVC.</li><li>[<figref idrefs="f0013">Fig. 14] Fig. 14</figref> includes diagrams illustrating an example structure (Syntax) of "depth_information_for_graphics SEI message" and an example structure (Syntax) of "depth_information_for_graphics_data()".</li><li>[<figref idrefs="f0014">Fig. 15] Fig. 15</figref> is a diagram illustrating an example structure (Syntax) of "depth_infomration_for_graphics()" in the case of inserting disparity information for each picture in units of pictures.</li><li>[<figref idrefs="f0015">Fig. 16] Fig. 16</figref> is a diagram illustrating an example structure (Syntax) of "depth_infomration_for_graphics()" in the case of<!-- EPO <DP n="15"> --> inserting disparity information for each picture in units of pictures.</li><li>[<figref idrefs="f0016">Fig. 17] Fig. 17</figref> is a diagram illustrating an example structure (Syntax) of "depth_infomration_for_graphics()" in the case of inserting disparity information for each picture in units of pictures.</li><li>[<figref idrefs="f0017">Fig. 18] Fig. 18</figref> is a diagram illustrating content (Semantics) of main information in an example structure (Syntax) of "depth_information_for_graphics()".</li><li>[<figref idrefs="f0018">Fig. 19] Fig. 19</figref> includes diagrams illustrating examples of partitioning a picture display screen.</li><li>[<figref idrefs="f0019">Fig. 20] Fig. 20</figref> is a diagram illustrating an example structure (Syntax) of "depth_information_for_graphics()" in the case of collectively encoding disparity information for a plurality of pictures.</li><li>[<figref idrefs="f0020">Fig. 21] Fig. 21</figref> is a diagram illustrating an example structure (Syntax) of "depth_information_for_graphics()" in the case of collectively encoding disparity information for a plurality of pictures.</li><li>[<figref idrefs="f0021">Fig. 22] Fig. 22</figref> is a diagram illustrating an example structure (Syntax) of "depth_information_for_graphics()" in the case of collectively encoding disparity information for a plurality of pictures.</li><li>[<figref idrefs="f0022">Fig. 23] Fig. 23</figref> includes diagrams illustrating an example structure (Syntax) of "user_data()" and an example structure (Syntax) of "depth_information_for_graphics_data()".</li><li>[<figref idrefs="f0023">Fig. 24] Fig. 24</figref> is a block diagram illustrating another example configuration of the transmission data generating unit that generates a transport stream in the broadcast station.</li><li>[<figref idrefs="f0024">Fig. 25] Fig. 25</figref> is a block diagram illustrating an example of a schematic configuration of a compression encoding unit.</li><li>[<figref idrefs="f0024">Fig. 26] Fig. 26</figref> is a diagram illustrating the configuration of "Exp-Golomb code se(v)" as a variable-length code.</li><li>[<figref idrefs="f0025">Fig. 27] Fig. 27</figref> is a diagram describing compression encoding of a non-prediction type (Non-Prediction Type).</li><li>[<figref idrefs="f0026">Fig. 28] Fig. 28</figref> is a diagram describing compression encoding of a prediction type 0 (Non-Prediction Type 0).</li><li>[<figref idrefs="f0027">Fig. 29] Fig. 29</figref> is a diagram describing compression encoding of a prediction type 1 (Non-Prediction Type 1).</li><li>[<figref idrefs="f0028">Fig. 30] Fig. 30</figref> is a diagram describing compression encoding of a prediction type 2 (Non-Prediction Type 2).<!-- EPO <DP n="16"> --></li><li>[<figref idrefs="f0029">Fig. 31] Fig. 31</figref> is a diagram describing compression encoding of a prediction type 3 (Non-Prediction Type 3).</li><li>[<figref idrefs="f0030">Fig. 32] Fig. 32</figref> is a diagram illustrating an example structure (Syntax) of "depth_information_sei()" in the case of inserting compression-encoded disparity information for each picture in units of pictures.</li><li>[<figref idrefs="f0031">Fig. 33] Fig. 33</figref> is a diagram illustrating an example structure (Syntax) of "depth_information_sei()" in the case of inserting compression-encoded disparity information for each picture in units of pictures.</li><li>[<figref idrefs="f0032">Fig. 34] Fig. 34</figref> is a diagram illustrating an example structure (Syntax) of "depth_information_sei()" in the case of inserting compression-encoded disparity information for each picture in units of pictures.</li><li>[<figref idrefs="f0033">Fig. 35] Fig. 35</figref> is a diagram illustrating an example structure (Syntax) of "depth_information_sei()" in the case of collectively encoding compression-encoded disparity information for a plurality of pictures.</li><li>[<figref idrefs="f0034">Fig. 36] Fig. 36</figref> is a diagram illustrating an example structure (Syntax) of "depth_information_sei()" in the case of collectively encoding compression-encoded disparity information for a plurality of pictures.</li><li>[<figref idrefs="f0035">Fig. 37] Fig. 37</figref> is a diagram illustrating an example structure (Syntax) of "depth_information_sei()" in the case of collectively encoding compression-encoded disparity information for a plurality of pictures.</li><li>[<figref idrefs="f0036">Fig. 38] Fig. 38</figref> is a diagram illustrating another example structure (Syntax) of "depth_information_sei()".</li><li>[<figref idrefs="f0037">Fig. 39] Fig. 39</figref> is a diagram illustrating the configuration of "Exp-Golomb code ue(v)" as a variable-length code.</li><li>[<figref idrefs="f0038">Fig. 40] Fig. 40</figref> is a diagram illustrating another example structure (Syntax) of "depth_information_sei()".</li><li>[<figref idrefs="f0039">Fig. 41] Fig. 41</figref> is a diagram illustrating a concept of controlling the depth of graphics using disparity information.</li><li>[<figref idrefs="f0040">Fig. 42] Fig. 42</figref> is a diagram illustrating that pieces of disparity information are sequentially obtained at picture timings of image data in a case where a video stream includes disparity information inserted thereinto in units of pictures.</li><li>[<figref idrefs="f0041">Fig. 43] Fig. 43</figref> is a diagram illustrating that pieces of<!-- EPO <DP n="17"> --> disparity information for individual pictures in a GOP are collectively obtained at the timing of the head of the GOP of image data in a case where a video stream includes disparity information inserted thereinto in units of GOPs.</li><li>[<figref idrefs="f0042">Fig. 44] Fig. 44</figref> includes diagrams illustrating a display example of a caption (subtitle) and OSD graphics on an image.</li><li>[<figref idrefs="f0043">Fig. 45] Fig. 45</figref> is a block diagram illustrating an example configuration of a set top box.</li><li>[<figref idrefs="f0044">Fig. 46] Fig. 46</figref> is a block diagram illustrating an example of a schematic configuration of a compression decoding unit.</li><li>[<figref idrefs="f0045">Fig. 47] Fig. 47</figref> is a diagram describing checking of disparity angles and reconfiguration of image data.</li><li>[<figref idrefs="f0046">Fig. 48] Fig. 48</figref> is a block diagram illustrating an example configuration of a disparity information control unit.</li><li>[<figref idrefs="f0047">Fig. 49] Fig. 49</figref> is a block diagram describing control performed by a depth control unit.</li><li>[<figref idrefs="f0048">Fig. 50] Fig. 50</figref> is a flowchart (1/2) illustrating an example of a procedure of a control process performed by the depth control unit.</li><li>[<figref idrefs="f0049">Fig. 51] Fig. 51</figref> is a flowchart (2/2) illustrating the example of the procedure of the control process performed by the depth control unit.</li><li>[<figref idrefs="f0050">Fig. 52] Fig. 52</figref> is a diagram illustrating an example of controlling the depth of graphics in the set top box.</li><li>[<figref idrefs="f0051">Fig. 53] Fig. 53</figref> is a diagram illustrating another example of controlling the depth of graphics in the set top box.</li><li>[<figref idrefs="f0052">Fig. 54] Fig. 54</figref> is a block diagram illustrating an example configuration of a television receiver (HDMI input system).</li><li>[<figref idrefs="f0053">Fig. 55] Fig. 55</figref> is a block diagram describing control performed by a depth control unit.</li><li>[<figref idrefs="f0054">Fig. 56] Fig. 56</figref> is a flowchart illustrating an example of a procedure of a control process performed by the depth control unit.</li><li>[<figref idrefs="f0055">Fig. 57] Fig. 57</figref> is a diagram illustrating an example of controlling the depth of graphics in the television receiver.</li><li>[<figref idrefs="f0056">Fig. 58] Fig. 58</figref> is a block diagram illustrating an example configuration of an HDMI transmitting unit of a source apparatus and an HDMI receiving unit of a sink apparatus.</li><li>[<figref idrefs="f0057">Fig. 59] Fig. 59</figref> is a diagram illustrating an example structure of TMDS transmission data (in a case where image data of horizontal 1920 pixels x 1080 lines is transmitted).<!-- EPO <DP n="18"> --></li><li>[<figref idrefs="f0058">Fig. 60] Fig. 60</figref> is a diagram illustrating a pin array (type-A) of HDMI terminals to which HDMI cables of a source apparatus and a sink apparatus are connected.</li><li>[<figref idrefs="f0059">Fig. 61] Fig. 61</figref> is a diagram illustrating an example of a packet structure of HDMI Vendor Specific InfoFrame in the case of using HDMI Vendor Specific InfoFrame for transmitting disparity information.</li><li>[<figref idrefs="f0060">Fig. 62] Fig. 62</figref> is a diagram illustrating the content of main information in the example of the packet structure of HDMI Vendor Specific InfoFrame.</li><li>[<figref idrefs="f0061">Fig. 63] Fig. 63</figref> is a diagram illustrating an example structure of VS_Info in a case where the number of partitioned areas is "16" in a single-picture mode.</li><li>[<figref idrefs="f0062">Fig. 64] Fig. 64</figref> is a diagram illustrating an example structure of VS_Info in a case where the number of partitioned areas is "16" in a double-picture mode.</li><li>[<figref idrefs="f0063">Fig. 65] Fig. 65</figref> is a diagram schematically illustrating the case of performing reception in units of pictures and transmission in a single-picture mode.</li><li>[<figref idrefs="f0064">Fig. 66] Fig. 66</figref> is a diagram schematically illustrating the case of performing reception in units of pictures and transmission in a double-picture mode.</li><li>[<figref idrefs="f0065">Fig. 67] Fig. 67</figref> is a diagram schematically illustrating the case of performing reception in units of GOPs (a plurality of pictures) and transmission in a single-picture mode.</li><li>[<figref idrefs="f0066">Fig. 68] Fig. 68</figref> is a diagram schematically illustrating the case of performing reception in units of GOPs (a plurality of pictures) and transmission in a double-picture mode.</li><li>[<figref idrefs="f0067">Fig. 69] Fig. 69</figref> is a diagram illustrating another example of the packet structure of VS_Info (HDMI Vendor Specific InfoFrame).</li><li>[<figref idrefs="f0068">Fig. 70] Fig. 70</figref> is a diagram illustrating another example of the packet structure of VS_Info (HDMI Vendor Specific InfoFrame).</li><li>[<figref idrefs="f0069">Fig. 71] Fig. 71</figref> is a diagram illustrating the content of main information in the example of the packet structure of HDMI Vendor Specific InfoFrame.</li><li>[<figref idrefs="f0070">Fig. 72] Fig. 72</figref> is a block diagram illustrating an example configuration for determining the order of an N picture and an N+1 picture.</li><li>[<figref idrefs="f0071">Fig. 73] Fig. 73</figref> is a diagram illustrating an example of a time<!-- EPO <DP n="19"> --> transition of disparity information (disparity value) in a case where |D(N+1) - D(N)| ≤ Th.</li><li>[<figref idrefs="f0072">Fig. 74] Fig. 74</figref> is a diagram illustrating an example of a time transition of disparity information (disparity value) in a case where |D(N+1) - D(N)| &gt; Th.</li><li>[<figref idrefs="f0073">Fig. 75] Fig. 75</figref> is a block diagram illustrating another example configuration of the image transmitting/receiving system.</li><li>[<figref idrefs="f0074">Fig. 76] Fig. 76</figref> is a block diagram illustrating another example configuration of the television receiver.</li><li>[<figref idrefs="f0075">Fig. 77] Fig. 77</figref> is a diagram illustrating the relationship between display positions of left and right images of an object on a screen and a reproduction position of a stereo image formed therefrom in stereo image display utilizing binocular disparity. Description of Embodiments</li></ul></p><p id="p0047" num="0047">Hereinafter, an embodiment for implementing the invention (hereinafter referred to as an "embodiment") will be described. Note that the description will be given in the following order.
<ol><li>1. Embodiment</li><li>2. Modification</li></ol></p><heading id="h0009">&lt;1. Embodiment&gt;</heading><heading id="h0010">[Image transmitting/receiving system]</heading><p id="p0048" num="0048"><figref idrefs="f0001">Fig. 1</figref> illustrates an example configuration of an image transmitting/receiving system 10 according to an embodiment. The image transmitting/receiving system 10 includes a broadcast station 100, a set top box (STB) 200, and a television receiver 300 serving as a monitor. The set top box 200 and the television receiver (TV) 300 are connected to each other via an HDMI (High Definition Multimedia Interface) cable 400.</p><heading id="h0011">"Description of broadcast station"</heading><p id="p0049" num="0049">The broadcast station 100 transmits a transport stream TS serving as a container by broadcast waves. The transport stream TS includes a video stream which is obtained by encoding left-eye image data and right-eye image data which form a stereo image. For example, the left-eye image data and the right-eye image data are transmitted as one video stream. In this case, for example, the left-eye image data and the right-eye image data are subjected to an interleaving process so<!-- EPO <DP n="20"> --> as to be formed as image data of a side-by-side format or a top-and-bottom format, and the image data is included in one video stream.</p><p id="p0050" num="0050">Alternatively, for example, the left-eye image data and the right-eye image data are transmitted as different video streams. In this case, for example, the left-eye image data is included in an MVC base view stream, and the right-eye image data is included in an MVC nonbase view stream.</p><p id="p0051" num="0051">Disparity information (Disparity data) about one of a left-eye image and a right-eye image with respect to the other, the disparity information being obtained for each of certain pictures of image data, is inserted into a video stream. In this case, it is assumed that disparity information is obtained for at least a picture for which disparity information is to be transmitted.</p><p id="p0052" num="0052">Here, disparity information for each picture includes first disparity information and second disparity information. The first disparity information is disparity information corresponding to the nearest object reproduction position in a certain area of a picture display screen. On the other hand, the second disparity information is disparity information corresponding to the farthest object reproduction position in the certain area of the picture display screen.</p><p id="p0053" num="0053">When it is assumed that the position of a screen corresponds to zero disparity, in a case where an object reproduction position is in front of the screen, the disparity information is obtained as a negative value (see DPa in <figref idrefs="f0069">Fig. 71</figref>). On the other hand, in a case where an object reproduction position is behind the screen, the disparity information is obtained as a positive value (see DPc in <figref idrefs="f0069">Fig. 71</figref>). Thus, for example, among pieces of disparity information about a certain area, a piece of disparity information having a minimum value is used as the first disparity information. Also, for example, among pieces of disparity information about the certain area, a piece of disparity information having a maximum value is used as the second disparity information.</p><p id="p0054" num="0054">In this case, the following obtaining methods may be used to<!-- EPO <DP n="21"> --> obtain first disparity information and second disparity information, for example.</p><p id="p0055" num="0055"><ol><li>(1) First disparity information about each of partitioned areas, which are obtained by partitioning a picture display screen using partition information, is obtained, and second disparity information about the entire picture display screen is obtained.</li><li>(2) First disparity information and second disparity information about each of partitioned areas, which are obtained by partitioning a picture display screen using partition information, are obtained.</li><li>(3) First disparity information about each of partitioned areas, which are obtained by partitioning a picture display screen using first partition information, is obtained, and second disparity information about each of partitioned areas, which are obtained by partitioning the picture display screen using second partition information, is obtained.</li><li>(4) First disparity information about an entire picture display screen is obtained, and second disparity information about the entire picture display screen is obtained.</li></ol></p><p id="p0056" num="0056">Disparity information about the entire picture display screen or each of partitioned areas is obtained by performing a downsizing process on disparity information about each block. <figref idrefs="f0001">Fig. 2</figref> illustrates an example of disparity information (disparity vector) about each block.</p><p id="p0057" num="0057"><figref idrefs="f0002">Fig. 3</figref> illustrates an example of a method for generating disparity information in units of blocks. This example is an example of obtaining disparity information indicating a right-eye view (Right-View) from a left-eye view (Left-View). In this case, for example, 4 * 4, 8 * 8, or 16 * 16 pixel blocks (disparity detection blocks) are set in a left-eye view picture.</p><p id="p0058" num="0058">As illustrated in the figure, the left-eye view picture is regarded as a detection image, and a right-eye view picture is regarded as a reference image. For each block of the left-eye view picture, block search of the right-eye view picture is performed so that the sum of absolute values of differences between pixels is<!-- EPO <DP n="22"> --> minimized, and disparity data is obtained.</p><p id="p0059" num="0059">That is, disparity information DPn about an N-th block is obtained by performing block search so that the sum of absolute values of differences in the N-th block is minimized, for example, as expressed by the following equation (1). Note that, in equation (1), Dj represents a pixel value in the right-eye view picture, and Di represents a pixel value in the left-eye view picture. <maths id="math0001" num="(1)"><math display="block"><mi>DPn</mi><mo>=</mo><mi>min</mi><mo>⁢</mo><mfenced separators=""><mi mathvariant="normal">Σ abs</mi><mo>⁢</mo><mfenced separators=""><mi>differ</mi><mo>⁢</mo><mfenced separators=""><mi>Dj</mi><mo>-</mo><mi>Di</mi></mfenced></mfenced></mfenced></math><img id="ib0001" file="imgb0001.tif" wi="104" he="7" img-content="math" img-format="tif"/></maths></p><p id="p0060" num="0060"><figref idrefs="f0003">Fig. 4</figref> illustrates an example of a downsizing process. <figref idrefs="f0003">Fig. 4(a)</figref> illustrates disparity information about each block obtained in the manner described above. On the basis of the disparity information about each block, first disparity information and second disparity information about each group (Group Of Block) are obtained, as illustrated in <figref idrefs="f0003">Fig. 4(b)</figref>. A group corresponds to a higher layer of blocks, and is obtained by grouping a plurality of adjacent blocks. In the example in <figref idrefs="f0003">Fig. 4(b)</figref>, each group is constituted by four blocks grouped together by a broken-line frame. Then, first disparity information about each group is obtained, for example, by selecting, from among pieces of disparity information about all the blocks in the group, a piece of disparity information having a minimum value. Also, second disparity information about each group is obtained, for example, by selecting, from among pieces of disparity information about all the blocks in the group, a piece of disparity information having a maximum value.</p><p id="p0061" num="0061">Subsequently, on the basis of disparity vectors of the individual groups, first disparity information and second disparity information about each partition is obtained, as illustrated in <figref idrefs="f0003">Fig. 4(c)</figref>. A partition corresponds to a higher layer of groups, and is obtained by grouping a plurality of adjacent groups. In the example in <figref idrefs="f0003">Fig. 4(c)</figref>, each partition is constituted by two groups grouped together by a broken-line frame. Then, first disparity information about each partition is obtained, for example, by selecting, from among pieces of first disparity information about all the groups in the partition, a piece of first disparity information having a minimum value. Also, second disparity information about each partition is obtained, for example, by selecting, from among pieces of second disparity<!-- EPO <DP n="23"> --> information about all the groups in the partition, a piece of second disparity information having a maximum value.</p><p id="p0062" num="0062">Subsequently, on the basis of the disparity information about the individual partitions, first disparity information and second disparity information about an entire picture (an entire picture display screen) positioned in the highest layer are obtained, as illustrated in <figref idrefs="f0003">Fig. 4(d)</figref>. In the example in <figref idrefs="f0003">Fig. 4(d)</figref>, the entire picture includes four partitions grouped together by a broken-line frame. Then, first disparity information about the entire picture is obtained, for example, by selecting, from among pieces of first disparity information about all the partitions included in the entire picture, a piece of first disparity information having a minimum value. Also, second disparity information about the entire picture is obtained, for example, by selecting, from among pieces of second disparity information about all the partitions included in the entire picture, a piece of second disparity information having a maximum value.</p><p id="p0063" num="0063">The picture display screen is partitioned on the basis of partition information, and disparity information about each partitioned area is obtained, as described above. In this case, the picture display screen is partitioned such that a partitioned area does not straddle a boundary between encoding blocks. <figref idrefs="f0004">Fig. 5</figref> illustrates a detailed example of partitioning a picture display screen. This example is an example of a 1920 * 1080 pixel format, and is an example in which the picture display screen is partitioned into two areas in each of the horizontal and vertical directions, so that four partitioned areas, that is, Partition A, Partition B, Partition C, and Partition D, are obtained. On a transmitting side, encoding is performed in units of 16 x 16 blocks, and thus eight lines formed of blank data are added, and encoding is performed on image data of 1920 pixels * 1088 lines. Thus, regarding the vertical direction, the picture display screen is partitioned into two areas on the basis of 1088 lines.</p><p id="p0064" num="0064">As described above, disparity information (first disparity information and second disparity information) about the entire picture display screen or each partitioned area (Partition), which is obtained<!-- EPO <DP n="24"> --> for each of certain pictures (frames) of image data, is inserted into a video stream. <figref idrefs="f0005">Fig. 6</figref> schematically illustrates an example of transitions of disparity information about individual partitioned areas. In this example, the picture display screen is partitioned into four areas in each of the horizontal and vertical directions, so that sixteen partitioned areas, that is, Partition 0 to Partition 15, exist. In this example, for simplifying the figure, only transitions of pieces of disparity information D0, D3, D9, and D15 about Partition 0, Partition 3, Partition 9, and Partition 15 are illustrated. The values of the pieces of disparity information may change over time (D0, D3, and D9) or may be fixed (D15).</p><p id="p0065" num="0065">Disparity information obtained for each of certain pictures of image data is inserted into a video stream in units of pictures, in units of GOPs, or the like. <figref idrefs="f0006">Fig. 7(a)</figref> illustrates an example of synchronization with picture encoding, that is, an example in which disparity information is inserted into a video stream in units of pictures. In this example, a delay that occurs at the time of transmitting image data is small, which is suitable for live broadcasting in which image data captured by a camera is transmitted.</p><p id="p0066" num="0066"><figref idrefs="f0006">Fig. 7(b)</figref> illustrates an example of synchronization with I pictures (Intra pictures) or GOPs (Groups Of Pictures) of encoded video, that is, an example in which disparity information is inserted into a video stream in units of In this example, a larger delay occurs at the time of transmitting image data than in the example in <figref idrefs="f0006">Fig. 7(a)</figref>. However, pieces of disparity information about a plurality of pictures (frames) are collectively transmitted, so that the number of processes of obtaining disparity information on a receiving side can be reduced. <figref idrefs="f0006">Fig. 7(c)</figref> illustrates an example of synchronization with scenes of video, that is, an example in which disparity information is inserted into a video stream in units of scenes. Note that the examples in <figref idrefs="f0006">Fig. 7(a) to Fig. 7(c)</figref> are merely examples, and disparity information may be inserted in units of other units.</p><p id="p0067" num="0067">Alternatively, identification information for identifying whether or not a video stream includes disparity information (first disparity information and second disparity information) inserted thereinto may be inserted into a layer of a transport stream TS. The identification<!-- EPO <DP n="25"> --> information is inserted, for example, under a program map table (PMT) or an event information table (EIT) included in the transport stream TS. The identification information enables a receiving side to easily identify whether or not the video stream includes disparity information inserted thereinto. The details of the identification information will be described below.</p><heading id="h0012">"Example configuration of transmission data generating unit"</heading><p id="p0068" num="0068"><figref idrefs="f0007">Fig. 8</figref> illustrates an example configuration of a transmission data generating unit 110 that generates the above-described transport stream TS in the broadcast station 100. The transmission data generating unit 110 includes image data output units 111L and 111R, scalers 112L and 112R, a video encoder 113, a multiplexer 114, and a disparity data generating unit 115. The transmission data generating unit 110 also includes a subtitle data output unit 116, a subtitle encoder 117, an audio data output unit 118, and an audio encoder 119.</p><p id="p0069" num="0069">The image data output units 111L and 111R respectively output left-eye image data VL and right-eye image data VR which form a stereo image. The image data output units 111L and 111R are constituted by, for example, a camera that captures an image of a subject and outputs image data, an image data reader that reads out image data from a storage medium and outputs the image data, or the like. Each of the image data VL and the image data VR is, for example, image data having a full HD size of 1920 * 1080.</p><p id="p0070" num="0070">The scalers 112L and 112R respectively perform a scaling process on the image data VL and the image data VR in the horizontal direction or vertical direction if necessary. For example, in the case of forming image data of a side-by-side format or a top-and-bottom format in order to transmit the image data VL and the image data VR as one video stream, the scalers 112L and 112R respectively scale down the image data VL and the image data VR to one-half in the horizontal direction or vertical direction, and output the scaled down image data. Alternatively, for example, in the case of transmitting the image data VL and the image data VR as different video streams, such as an MVC base view stream and an MVC nonbase view stream, the scalers 112L and 112R respectively output the image data VL and the image data VR as they are, without performing a scaling process thereon.<!-- EPO <DP n="26"> --></p><p id="p0071" num="0071">The video encoder 113 performs encoding on the left-eye image data and the right-eye image data output from the scalers 112L and 112R, in accordance with, for example, MPEG-4 AVC (MVC), MPEG-2 video, or HEVC (High Efficiency Video Coding), thereby obtaining encoded video data. Also, the video encoder 113 generates a video stream including the encoded data by using a stream formatter (not illustrated) provided in the subsequent stage. In this case, the video encoder 113 generates one or two video streams (video elementary streams) including the encoded video data of the left-eye image data and the right-eye image data.</p><p id="p0072" num="0072">The disparity data generating unit 115 generates disparity information for each picture (frame) on the basis of the left-eye image data VL and the right-eye image data VR output from the image data output units 111L and 111R. The disparity data generating unit 115 obtains, for each picture, disparity information about each block, as described above. Note that, in a case where the image data output units 111L and 111R are constituted by an image data reader including a storage medium, the disparity data generating unit 115 may be configured to read out disparity information about each block from the storage medium together with image data, so as to obtain the disparity information. Alternatively, a method for detecting disparity information by using a result of block matching performed between the right-eye image data and the left-eye image data in the video encoder 113 may be used.</p><p id="p0073" num="0073">Furthermore, the disparity information generating unit 115 performs a downsizing process on disparity information about each block, thereby generating first disparity information and second disparity information about an entire picture display screen or each of partitioned areas (Partitions) obtained by partitioning the picture display screen. Note that information about a method for obtaining first disparity information and second disparity information is given to the disparity information generating unit 115 by, for example, a user operation. That is, information about generation of disparity information about the entire picture display screen, or generation of disparity information about each of partitioned areas obtained by partitioning the picture display screen into a certain number of areas,<!-- EPO <DP n="27"> --> is given.</p><p id="p0074" num="0074">The video encoder 113 inserts first disparity information and second disparity information about each picture generated by the disparity data generating unit 115 into a video stream. In this case, for example, disparity information about each picture is inserted into the video stream in units of pictures or in units of GOPs (see <figref idrefs="f0006">Fig. 7</figref>). Note that, in a case where left-eye image data and right-eye image data are transmitted as different pieces of video data, the disparity information may be inserted into only any one of the video streams.</p><p id="p0075" num="0075">The subtitle data output unit 116 outputs data of a subtitle (caption) to be overlaid on an image. The subtitle data output unit 116 is constituted by, for example, a personal computer or the like. The subtitle encoder 117 generates a subtitle stream (subtitle elementary stream) including the subtitle data output from the subtitle data output unit 116. Note that the subtitle encoder 117 refers to disparity information about each block generated by the disparity data generating unit 115, and adds disparity information corresponding to a display position of the subtitle to the subtitle data. That is, the subtitle data included in the subtitle stream includes disparity information corresponding to the display position of the subtitle.</p><p id="p0076" num="0076">The audio data output unit 118 outputs audio data corresponding to image data. The audio data output unit 118 is constituted by, for example, a microphone or an audio data reader that reads out audio data from a storage medium and outputs the audio data. The audio encoder 119 performs encoding on the audio data output from the audio data output unit 118 in accordance with MPEG-2 Audio, AAC, or the like, thereby generating an audio stream (audio elementary stream).</p><p id="p0077" num="0077">The multiplexer 114 forms the elementary streams generated by the video encoder 113, the subtitle encoder 117, and the audio encoder 119 into PES packets and multiplexes the PES packets, thereby generating a transport stream TS. In this case, a PTS (Presentation Time Stamp) is inserted into the header of each PES (Packetized Elementary Stream) packet, for synchronized reproduction on a receiving side.</p><p id="p0078" num="0078"><!-- EPO <DP n="28"> --> The multiplexer 114 inserts the above-described identification information into a layer of the transport stream TS. The identification information is information for identifying whether or not the video stream includes disparity information (first disparity information and second disparity information) inserted thereinto. The identification information is inserted, for example, under a program map table (PMT), an event information table (EIT), or the like included in the transport stream TS.</p><p id="p0079" num="0079">The operation of the transmission data generating unit 110 illustrated in <figref idrefs="f0007">Fig. 8</figref> will be briefly described. The left-eye image data VL and the right-eye image data VR that are output from the image data output units 111L and 111R and form a stereo image are respectively supplied to the scalers 112L and 112R. The scalers 112L and 112R perform a scaling process in the horizontal direction or vertical direction on the image data VL and the image data VR, respectively, if necessary. The left-eye image data and the right-eye image data output from the scalers 112L and 112R are supplied to the video encoder 113.</p><p id="p0080" num="0080">In the video encoder 113, encoding is performed on the left-eye image data and the right-eye image data in accordance with, for example, MPEG-4 AVC (MVC), MPEG-2 video, HEVC, or the like, so that encoded video data is obtained. Also, in the video encoder 113, a video stream including the encoded data is generated by a stream formatter provided in the subsequent state. In this case, one or two video streams including the encoded video data of the left-eye image data and the right-eye image data are generated.</p><p id="p0081" num="0081">Further, the left-eye image data VL and the right-eye image data VR that are output from the image data output units 111L and 111R and form a stereo image are supplied to the disparity data generating unit 115. In the disparity data generating unit 115, disparity information about each block is obtained for each picture. Further, in the disparity data generating unit 115, a downsizing process is performed on disparity information about each block, so that first disparity information and second disparity information about the entire picture display screen or each of partitioned areas obtained by partitioning the picture display screen are generated.<!-- EPO <DP n="29"> --></p><p id="p0082" num="0082">The first disparity information and the second disparity information for each picture generated by the disparity data generating unit 115 are supplied to the video encoder 113. In the video encoder 113, the first disparity information and the second disparity information for each picture are inserted into the video stream in units of pictures or in units of</p><p id="p0083" num="0083">Further, the subtitle data output unit 116 outputs data of a subtitle (caption) to be overlaid on an image. The subtitle data is supplied to the subtitle encoder 117. In the subtitle encoder 117, a subtitle stream including the subtitle data is generated. In this case, in the subtitle encoder 117, disparity information about each block generated by the disparity data generating unit 115 is referred to, and disparity information corresponding to a display position is added to the subtitle data.</p><p id="p0084" num="0084">Further, the audio data output unit 118 outputs audio data corresponding to image data. The audio data is supplied to the audio encoder 119. In the audio encoder 119, encoding is performed on the audio data in accordance with MPEG-2 Audio, AAC, or the like, so that an audio stream is generated.</p><p id="p0085" num="0085">The video stream obtained by the video encoder 113, the subtitle stream obtained by the subtitle encoder 117, and the audio stream obtained by the audio encoder 119 are supplied to the multiplexer 114. In the multiplexer 114, the elementary streams supplied from the individual encoders are formed into PES packets and the PES packets are multiplexed, so that a transport stream TS is generated. In this case, a PTS is inserted into each PES header, for synchronized reproduction on a receiving side. Also, in the multiplexer 114, identification information for identifying whether or not the video stream includes disparity information inserted thereinto is inserted, for example, under PMT, or under EIT.</p><heading id="h0013">[Identification information, structure of disparity information, and TS configuration]</heading><p id="p0086" num="0086"><figref idrefs="f0008">Fig. 9</figref> illustrates an example configuration of a transport stream TS. In this example configuration, left-eye image data and right-eye<!-- EPO <DP n="30"> --> image data are transmitted as different video streams. That is, a PES packet "video PES1" of a video stream generated by encoding left-eye image data and a PES packet "video PES2" of a video stream generated by encoding right-eye image data are included. Also, in this example configuration, a PES packet "subtitle PES3" of a subtitle stream generated by encoding subtitle data (including disparity information) and a PES packet "audio PES4" of an audio stream generated by encoding audio data are included.</p><p id="p0087" num="0087">In a user data area of a video stream, depth information SEI (depth_inforamtion_sei()) including first disparity information and second disparity information for each picture has been inserted. For example, in a case where disparity information for each picture is inserted in units of pictures, the depth information SEI is inserted into a user data area of each picture of a video stream. Also, for example, in a case where disparity information for each picture is inserted in units of GOPs, the depth information SEI is inserted into a user data area of a picture corresponding to the head of a GOP of a video stream or a position at which sequence parameter information is inserted. Note that, although depth information SEI is inserted into both of the two video streams in this example configuration, depth information SEI may be inserted into only one of the video streams.</p><p id="p0088" num="0088">The transport stream TS includes a PMT (Program Map Table) serving as PSI (Program Specific Information). The PSI is information indicating to which program each elementary stream included in the transport stream TS belongs. Also, the transport stream TS includes an EIT (Event Information Table) serving as SI (Serviced Information) that manages event units.</p><p id="p0089" num="0089">Under the PMT, an elementary loop having information related to each elementary stream exists. In this elementary loop, information such as a packet identifier (PID) is located for each stream, and also a descriptor describing information related to the elementary stream is located.</p><p id="p0090" num="0090">In the above-described case of inserting identification information identifying whether or not the video stream includes disparity information (first disparity information and second<!-- EPO <DP n="31"> --> disparity information) inserted thereinto, the identification information is described, for example, in a descriptor inserted under a video elementary loop of the program map table. This descriptor is, for example, an existing AVC video descriptor (AVC video descriptor) or an MVC extension descriptor (MVC_extension_descriptor), or a newly defined depth info descriptor (Depth_info_descriptor). Note that the depth info descriptor may be inserted under the EIT, as indicated by broken lines in the figure.</p><p id="p0091" num="0091"><figref idrefs="f0009">Fig. 10(a)</figref> illustrates an example structure (Syntax) of an AVC video descriptor in which identification information is described. This descriptor is applicable in a case where video is of an MPEG-4 AVC frame compatible format. This descriptor has already been included in the H.264/AVC standard. Here, 1-bit flag information "depth_info_not_existed_flag [0]" is newly defined in this descriptor.</p><p id="p0092" num="0092">As shown in the definition content (semantics) in <figref idrefs="f0009">Fig. 10(b)</figref>, the flag information indicates whether or not the corresponding video stream includes, inserted thereinto, depth information SEI (depth_information_sei()) including disparity information for each picture. If the flag information is "0", it indicates that the video stream includes depth information SEI. On the other hand, if the flag information is "1", it indicates that the video stream does not include depth information SEI.</p><p id="p0093" num="0093"><figref idrefs="f0010">Fig. 11(a)</figref> illustrates an example structure (Syntax) of an MVC extension descriptor in which identification information is described. This descriptor is applicable in a case where video is of an MPEG-4 AVC Annex H MVC format. This descriptor has already been included in the H.264/AVC standard. Here, 1-bit flag information "depth_info_not_existed_flag" is newly defined in this descriptor.</p><p id="p0094" num="0094">As shown in the definition content (semantics) in <figref idrefs="f0010">Fig. 11(b)</figref>, the flag information indicates whether or not the corresponding video stream includes, inserted thereinto, depth information SEI (depth_information_sei()) including disparity information for each picture. If the flag information is "0", it indicates that the video stream includes depth information SEI. On the other hand, if the flag information is "1", it indicates that the video stream does not<!-- EPO <DP n="32"> --> include depth information SEI.</p><p id="p0095" num="0095"><figref idrefs="f0011">Fig. 12(a)</figref> illustrates an example structure (Syntax) of a depth info descriptor (depth_info_descriptor). An 8-bit field "descriptor_tag" indicates that this descriptor is "depth_info_descriptor". An 8-bit field "descriptor_length" indicates the number of bytes of the subsequent data. Also, in this descriptor, 1-bit flag information "depth_info_not_existed_flag" is described.</p><p id="p0096" num="0096">As shown in the definition content (semantics) in <figref idrefs="f0011">Fig. 12(b)</figref>, the flag information indicates whether or not the corresponding video stream includes, inserted thereinto, depth information SEI (depth_information_sei()) including disparity information for each picture. If the flag information is "0", it indicates that the video stream includes depth information SEI. On the other hand, if the flag information is "1", it indicates that the video stream does not include depth information SEI.</p><p id="p0097" num="0097">Next, a description will be given of the case of inserting depth information SEI (depth_information_sei()) including disparity information for each picture into a user data area of a video stream.</p><p id="p0098" num="0098">For example, in a case where the encoding scheme is AVC, "depth_information_sei()" is inserted as "depth_information SEI message" into the portion of "SEIs" of an access unit. <figref idrefs="f0012">Fig. 13(a)</figref> illustrates an access unit at the head of a GOP (Group Of Pictures), and <figref idrefs="f0012">Fig. 13(b)</figref> illustrates an access unit at the position other than the head of a GOP. In a case where disparity information for each picture is inserted in units of GOPs, "depth_information SEI message" is inserted into only the access unit at the head of a GOP.</p><p id="p0099" num="0099"><figref idrefs="f0013">Fig. 14(a)</figref> illustrates an example structure (Syntax) of "depth_information SEI message". "uuid_iso_iec_11578" has an UUID value indicated by "ISO/IEC 11578:1996 AnnexA.". "depth_information_sei_data()" is inserted into the field "under_data_payload_byte". <figref idrefs="f0013">Fig. 14(b)</figref> illustrates an example structure (Syntax) of "depth_information_sei_data()". Depth information SEI (depth_informatoin_sei()) is inserted thereinto. "userdata_id" is an identifier of "depth_information_sei ()" represented by unsigned 16<!-- EPO <DP n="33"> --> bits.</p><p id="p0100" num="0100">Each of <figref idrefs="f0014">Fig. 15</figref>, <figref idrefs="f0015">Fig. 16</figref>, and <figref idrefs="f0016">Fig. 17</figref> illustrates an example structure (Syntax) of "depth_infomration_sei()" in the case of inserting disparity information for each picture in units of pictures. <figref idrefs="f0017">Fig. 18</figref> illustrates the content (Semantics) of main information in these example structures.</p><p id="p0101" num="0101"><figref idrefs="f0014">Fig. 15</figref> illustrates an example structure (Syntax) corresponding to the above-described obtaining method (1) "first disparity information about each of partitioned areas, which are obtained by partitioning a picture display screen using partition information, is obtained, and second disparity information about the entire picture display screen is obtained".</p><p id="p0102" num="0102">A 3-bit field "partition_type" indicates the partition type of a picture display screen. "000" indicates that the picture display screen is not partitioned, "001" indicates that the picture display screen is partitioned into two equal areas in each of the horizontal direction and vertical direction, and "010" indicates that the picture display screen is partitioned into four equal areas in each of the horizontal direction and vertical direction.</p><p id="p0103" num="0103">A 4-bit field "partition_count" indicates the total number of partitioned areas (Partitions), which is a value dependent on the above-described "partition_type". For example, in a case where "partition_type = 000", the total number of partitioned areas (Partitions) is "1", as illustrated in <figref idrefs="f0018">Fig. 19(a)</figref>. Also, for example, in a case where "partition_type = 001", the total number of partitioned areas (Partitions) is "4", as illustrated in <figref idrefs="f0018">Fig. 19(b)</figref>. Also, for example, in a case where "partition_type = 010", the total number of partitioned areas (Partitions) is "16", as illustrated in <figref idrefs="f0018">Fig. 19(c)</figref>.</p><p id="p0104" num="0104">An 8-bit field "max_disparity_in_picture" indicates second disparity information about the entire picture display screen, that is, the maximum disparity information (disparity value) about the entire picture. An 8-bit field "min_disparity_in_partition" indicates first disparity information about each partitioned area (Partition), that is,<!-- EPO <DP n="34"> --> the minimum disparity information (disparity value) about each partitioned area.</p><p id="p0105" num="0105"><figref idrefs="f0015">Fig. 16</figref> illustrates an example structure (Syntax) corresponding to the above-described obtaining method (2) "first disparity information and second disparity information about each of partitioned areas, which are obtained by partitioning a picture display screen using partition information, are obtained". In <figref idrefs="f0015">Fig. 16</figref>, a description of the parts corresponding to those in <figref idrefs="f0014">Fig. 15</figref> is omitted as appropriate.</p><p id="p0106" num="0106">A 3-bit field "partition_type" indicates the partition type of the picture display screen. A 4-bit field "partition_count" indicates the total number of partitioned areas (Partitions), which is a value dependent on the above-described "partition_type". An 8-bit field "max_disparity_in_partition" indicates second disparity information about each partitioned area (Partition), that is, the maximum disparity information (disparity value) about each partitioned area. An 8-bit field "min_disparity_in_partition" indicates first disparity information about each partitioned area (Partition), that is, the minimum disparity information (disparity value) about each partitioned area.</p><p id="p0107" num="0107"><figref idrefs="f0016">Fig. 17</figref> illustrates an example structure (Syntax) corresponding to the above-described obtaining method (3) "first disparity information about each of partitioned areas, which are obtained by partitioning a picture display screen using first partition information, is obtained, and second disparity information about each of partitioned areas, which are obtained by partitioning the picture display screen using second partition information, is obtained". In <figref idrefs="f0016">Fig. 17</figref>, a description of the parts corresponding to those in <figref idrefs="f0014">Fig. 15</figref> and <figref idrefs="f0015">Fig. 16</figref> is omitted as appropriate.</p><p id="p0108" num="0108">A 3-bit field "partition_type" indicates the partition type of the picture display screen regarding obtainment of first disparity information. A 4-bit field "min_partition_count" indicates the total number of partitioned areas (Partitions) in which first disparity information is obtained, which is a value dependent on the above-described "partition_type". An 8-bit field<!-- EPO <DP n="35"> --> "min_disparity_in_partition" indicates first disparity information about each partitioned area (Partition), that is, the minimum disparity information (disparity value) about each partitioned area.</p><p id="p0109" num="0109">A 4-bit field "max_partition_count" indicates the total number of partitioned areas (Partitions) in which second disparity information is obtained. An 8-bit field "max_disparity_in_partition" indicates second disparity information about each partitioned area (Partition), that is, the maximum disparity information (disparity value) about each partitioned area.</p><p id="p0110" num="0110">Each of <figref idrefs="f0019">Fig. 20</figref>, <figref idrefs="f0020">Fig. 21</figref>, and <figref idrefs="f0021">Fig. 22</figref> illustrates an example structure (Syntax) of "depth_information_sei())" in the case of collectively encoding a plurality of pictures, such as the case of inserting disparity information for each picture in units of <figref idrefs="f0017">Fig. 18</figref> illustrates the content (Semantics) of main information in these example structures.</p><p id="p0111" num="0111"><figref idrefs="f0019">Fig. 20</figref> illustrates an example structure (Syntax) corresponding to the above-described obtaining method (1) "first disparity information about each of partitioned areas, which are obtained by partitioning a picture display screen using partition information, is obtained, and second disparity information about the entire picture display screen is obtained". In <figref idrefs="f0019">Fig. 20</figref>, a detailed description of the parts corresponding to those in <figref idrefs="f0014">Fig. 15</figref> is omitted as appropriate.</p><p id="p0112" num="0112">A 6-bit field "picture_count" indicates the number of pictures. The "depth_information_sei()" includes pieces of first disparity information and second disparity information, the number of which corresponds to the number of pictures. A 4-bit field "partition_count" indicates the total number of partitioned areas (Partitions). An 8-bit field "max_disparity_in_picture" indicates second disparity information about the entire picture display screen, that is, the maximum disparity information (disparity value) about the entire picture. An 8-bit field "min_disparity_in_partition" indicates first disparity information about each partitioned area (Partition), that is, the minimum disparity information (disparity value) about each partitioned area. Although a detailed description is omitted, the other part of the example structure illustrated in <figref idrefs="f0019">Fig. 20</figref> is the same<!-- EPO <DP n="36"> --> as the example structure illustrated in <figref idrefs="f0014">Fig. 15</figref>.</p><p id="p0113" num="0113"><figref idrefs="f0020">Fig. 21</figref> illustrates an example structure (Syntax) corresponding to the above-described obtaining method (2) "first disparity information and second disparity information about each of partitioned areas, which are obtained by partitioning a picture display screen using partition information, are obtained". In <figref idrefs="f0020">Fig. 21</figref>, a description of the parts corresponding to those in <figref idrefs="f0015">Fig. 16</figref> and <figref idrefs="f0019">Fig. 20</figref> is omitted as appropriate.</p><p id="p0114" num="0114">A 6-bit field "picture_count" indicates the number of pictures. The "depth_information_sei()" includes pieces of first disparity information and second disparity information, the number of which corresponds to the number of pictures. A 4-bit field "partition_count" indicates the total number of partitioned areas (Partitions). An 8-bit field "max_disparity_in_partition" indicates second disparity information about each partitioned area (Partition), that is, the maximum disparity information (disparity value) about each partitioned area. An 8-bit field "min_disparity_in_partition" indicates first disparity information about each partitioned area (Partition), that is, the minimum disparity information (disparity value) about each partitioned area. Although a detailed description is omitted, the other part of the example structure in <figref idrefs="f0020">Fig. 21</figref> is the same as the example structure illustrated in <figref idrefs="f0015">Fig. 16</figref>.</p><p id="p0115" num="0115"><figref idrefs="f0021">Fig. 22</figref> illustrates an example structure (Syntax) corresponding to the above-described obtaining method (3) "first disparity information about each of partitioned areas, which are obtained by partitioning a picture display screen using first partition information, is obtained, and second disparity information about each of partitioned areas, which are obtained by partitioning the picture display screen using second partition information, is obtained". In <figref idrefs="f0021">Fig. 22</figref>, a description of the parts corresponding to those in <figref idrefs="f0016">Fig. 17</figref>, <figref idrefs="f0019">Fig. 20</figref>, and <figref idrefs="f0020">Fig. 21</figref> is omitted as appropriate.</p><p id="p0116" num="0116">A 6-bit field "picture_count" indicates the number of pictures. The "depth_information_sei()" includes pieces of first disparity information and second disparity information, the number of which corresponds to the number of pictures. A 4-bit field<!-- EPO <DP n="37"> --> "min_partition_count" indicates the total number of partitioned areas (Partitions) in which first disparity information is obtained, and a 4-bit field "max_partition_count" indicates the total number of partitioned areas (Partitions) in which second disparity information is obtained.</p><p id="p0117" num="0117">An 8-bit field "min_disparity_in_partition" indicates first disparity information about each partitioned area (Partition), that is, the minimum disparity information (disparity value) about each partitioned area. An 8-bit field "max_disparity_in_partition" indicates second disparity information about each partitioned area (Partition), that is, the maximum disparity information (disparity value) about each partitioned area. Although a detailed description is omitted, the other part of the example structure illustrated in <figref idrefs="f0021">Fig. 22</figref> is the same as the example structure illustrated in <figref idrefs="f0016">Fig. 17</figref>.</p><p id="p0118" num="0118">A description has been given above of the case where the encoding scheme is AVC. For example, in a case where the encoding scheme is MPEG-2 video, "depth_information_sei()" is inserted as user data "user_data()" into a user data area of a picture header portion. <figref idrefs="f0022">Fig. 23(a)</figref> illustrates an example structure (Syntax) of "user_data()". A 32-bit field "user_data_start_code" is a start code of the user data (user_data), which is a fixed value "0x000001B2".</p><p id="p0119" num="0119">The 32-bit field subsequent to the start code is an identifier for identifying the content of user data. Here, the identifier is "depth_information_sei_data_identifier", which enables the user data to be identified as "depth_inforamtion_sei_data". As a data body after the identifier, "depth_information_sei_data()" is inserted. <figref idrefs="f0022">Fig. 23(b)</figref> illustrates an example structure (Syntax) of "depth_information_sei_data()". "depth_information_sei()" is inserted thereinto (see <figref idrefs="f0014 f0015 f0016">Fig. 15 to Fig. 17</figref> and <figref idrefs="f0019 f0020 f0021">Fig. 20 to Fig. 22</figref>).</p><p id="p0120" num="0120">A description has been given of an example of inserting disparity information into a video stream in a case where the encoding scheme is AVC or MPEG-2 video. Although a detailed description is omitted, disparity information may be inserted into a video stream using a similar structure also in another encoding scheme having a similar structure, such as HEVC.<!-- EPO <DP n="38"> --></p><heading id="h0014">"Another example configuration of transmission data generating unit"</heading><p id="p0121" num="0121">Regarding the above-described transmission data generating unit 110 illustrated in <figref idrefs="f0007">Fig. 8</figref>, an example of inserting disparity information (first disparity information and second disparity information) for each picture generated by the disparity data generating unit 115 into a video stream as is has been described. However, disparity information for each picture may be inserted into a video stream after the amount of data thereof has been reduced by performing a compression encoding process.</p><p id="p0122" num="0122"><figref idrefs="f0023">Fig. 24</figref> illustrates an example configuration of a transmission data generating unit 110A in that case. In <figref idrefs="f0023">Fig. 24</figref>, the parts corresponding to those in <figref idrefs="f0007">Fig. 8</figref> are denoted by the same reference numerals, and the detailed description thereof is omitted. The transmission data generating unit 110A includes a compression encoding unit 120. The compression encoding unit 120 performs a compression encoding process on disparity information (first disparity information and second disparity information) for each picture generated by the disparity data generating unit 115, so as to reduce the amount of data.</p><p id="p0123" num="0123">The compression encoding unit 120 performs, for example, a process using a variable-length code as a compression encoding process. The video encoder 113 inserts disparity information (first disparity information and second disparity information) for each picture that has undergone compression encoding performed by the compression encoding unit 120 into a video stream. The other parts of the transmission data generating unit 110A illustrated in <figref idrefs="f0023">Fig. 24</figref> are configured similarly to the transmission data generating unit 110 illustrated in <figref idrefs="f0007">Fig. 8</figref>, and operate in a similar manner.</p><p id="p0124" num="0124"><figref idrefs="f0024">Fig. 25</figref> illustrates an example of a schematic configuration of the compression encoding unit 120. The compression encoding unit 120 includes a buffer 121, a subtracter 122, and a variable-length encoding unit 122. The buffer 121 temporarily stores disparity information for each picture input thereto. The subtracter 122 obtains difference data between pictures. The variable-length encoding unit 122 performs variable-length encoding. The variable-length encoding unit 120 uses, as a variable-length code, "Exp-Golomb code se(v)"<!-- EPO <DP n="39"> --> illustrated in <figref idrefs="f0024">Fig. 26</figref>, for example, but another variable-length code may also be used.</p><p id="p0125" num="0125">The compression encoding unit 120 performs a compression encoding process in accordance with either a non-prediction type or a prediction type. First, a compression encoding process of a non-prediction type will be described. In this case, the encoding processing unit 120 performs variable-length encoding on disparity information for each picture input thereto. Thus, in the compression encoding process of the non-prediction type, in the compression encoding unit 120 illustrated in <figref idrefs="f0024">Fig. 25</figref>, disparity information for each picture input thereto is supplied as is to the variable-length encoding unit 123.</p><p id="p0126" num="0126"><figref idrefs="f0025">Fig. 27</figref> illustrates the case of only the non-prediction type, in which prediction is not performed. <figref idrefs="f0025">Fig. 27(a)</figref> illustrates an example of display order of video slices of I pictures, P pictures, and B pictures. Disparity information for each picture (represented by "SEI" in the figure) exists for each video slice. <figref idrefs="f0025">Fig. 27(b)</figref> illustrates the decoding order (encoding order) of each picture. Disparity information for each picture undergoes variable-length encoding as is, that is, in the state of intra data (represented by "Intra" in the figure).</p><p id="p0127" num="0127">In the case of the non-prediction type, SEI prediction is not performed, and thus it is necessary to perform SEI buffering in units of access units. However, since SEI prediction is not performed, the encoding efficiency is lower than in the case of performing prediction.</p><p id="p0128" num="0128">Next, a compression encoding process of a prediction type will be described. In this case, in the encoding processing unit 120, among the pieces of disparity information for individual pictures input thereto, difference data between reference pictures and referenced pictures is obtained, and variable-length encoding is performed on the difference data. Thus, in the compression encoding process of the prediction type, in the compression encoding unit 120 illustrated in <figref idrefs="f0024">Fig. 25</figref>, difference data between reference pictures and referenced pictures is obtained by the subtracter 122, and is supplied to the variable-length encoding unit 123.</p><p id="p0129" num="0129"><!-- EPO <DP n="40"> --> As the prediction type, the type of predictively referring to SEI in display order (prediction type 0) may be used. <figref idrefs="f0026">Fig. 28</figref> illustrates the case of the prediction type 0. <figref idrefs="f0026">Fig. 28(a)</figref> illustrates an example of display order of video slices of I pictures, P pictures, and B pictures. In the figure, an arrow indicates a prediction target at the time of performing prediction. Disparity information for each picture (represented by "SEI" in the figure) exists for each video slice.</p><p id="p0130" num="0130"><figref idrefs="f0026">Fig. 28(b)</figref> illustrates the decoding order (encoding order) of each picture. Regarding disparity information for each picture, disparity information for an I picture undergoes variable-length encoding as is, that is, in the state of intra data (represented by "Intra" in the figure). Regarding disparity information for a B picture and a P picture, which follow the I picture, the immediately preceding picture in display order is regarded as a referenced picture and difference data is obtained (represented by "Delta" in the figure), and the difference data undergoes variable-length encoding. In <figref idrefs="f0026">Fig. 28(b)</figref>, the arrow from each picture indicates the referenced picture that the picture refers to.</p><p id="p0131" num="0131">In the case of the prediction type 0, SEI prediction is performed in display order, and thus the value of difference data can be suppressed to be small and the encoding efficiency can be maximized. However, SEI prediction order does not match video encoding order, and thus it is necessary to keep SEI stored in the buffer. In addition, this is not suitable for special reproduction, such as B skip.</p><p id="p0132" num="0132">Also, the type of predictively referring to SEI in decoding order may be used as the prediction type. Further, as this prediction type, the type of performing SEI prediction in conjunction with a video picture type (prediction type 1) may be used. <figref idrefs="f0027">Fig. 29</figref> illustrates the case of the prediction type 1. <figref idrefs="f0027">Fig. 29(a)</figref> illustrates an example of display order of video slices of I pictures, P pictures, and B pictures. Disparity information for each picture (represented by "SEI" in the figure) exists for each video slice.</p><p id="p0133" num="0133"><figref idrefs="f0027">Fig. 29(b)</figref> illustrates the decoding order of individual pictures. Disparity information for an I picture undergoes variable-length encoding as is, that is, in the state of intra data (represented by<!-- EPO <DP n="41"> --> "Intra" in the figure). Regarding disparity information for a B picture and a P picture, which follow the I picture, a picture with a video picture type is regarded as a referenced picture in decoding order and difference data (represented by "Delta" in the figure) is obtained, and the difference data undergoes variable-length encoding. In <figref idrefs="f0027">Fig. 29(b)</figref>, the arrow from each picture indicates the referenced picture that the picture refers to.</p><p id="p0134" num="0134">In the case of the prediction type 1, SEI prediction order matches video encoding order, including the picture type of video. This is suitable for live encoding, and is adaptable to special reproduction, such as B skip. However, SEI prediction is performed over a plurality of frames, and thus the encoding efficiency may be lower than that of the above-described prediction type 0.</p><p id="p0135" num="0135">Also, as the prediction type, the type of predictively referring to SEI in decoding order and referring to SEI that is decoded immediately previously (prediction type 2) may be used. <figref idrefs="f0028">Fig. 30</figref> illustrates the case of the prediction type 2. <figref idrefs="f0028">Fig. 30(a)</figref> illustrates an example of display order of video slices of I pictures, P pictures, and B pictures. Disparity information for each picture (represented by "SEI" in the figure) exists for each video slice.</p><p id="p0136" num="0136"><figref idrefs="f0028">Fig. 30(b)</figref> illustrates the decoding order (encoding order) of each picture. Disparity information for an I picture undergoes variable-length encoding as is, that is, in the state of intra data (represented by "Intra" in the figure). Regarding disparity information for a B picture and a P picture, which follow the I picture, the immediately preceding picture in decoding order is regarded as a referenced picture and difference data (represented by "Delta" in the figure) is obtained, and the difference data undergoes variable-length encoding. In <figref idrefs="f0028">Fig. 30(b)</figref>, the arrow from each picture indicates the referenced picture that the picture refers to.</p><p id="p0137" num="0137">In the case of the prediction type 2, SEI prediction order matches video encoding order, but SEI prediction does not depend on the picture type of video. This is suitable for live encoding, but SEI prediction is performed over a plurality of frames, and thus the encoding efficiency may be lower than that of the above-described<!-- EPO <DP n="42"> --> prediction type 0.</p><p id="p0138" num="0138">Also, as the prediction type, the type of predictively referring to SEI in decoding order, performing SEI prediction with a video picture type, and transmitting disparity information for only referenced pictures, such as an I picture and a P picture (prediction type 3), may be used. <figref idrefs="f0029">Fig. 31</figref> illustrates the case of the prediction type 3. <figref idrefs="f0029">Fig. 31(a)</figref> illustrates an example of display order of video slices of I pictures, P pictures, and B pictures. Disparity information for each picture (represented by "SEI" in the figure) exists for each video slice.</p><p id="p0139" num="0139"><figref idrefs="f0029">Fig. 31(b)</figref> illustrates the decoding order of individual pictures. Disparity information for an I picture undergoes variable-length encoding as is, that is, in the state of intra data (represented by "Intra" in the figure). Also, regarding disparity information for a P picture, and a referenced B picture (not illustrated) which follow the I picture, a picture with a video picture type is regarded as a referenced picture in decoding order and difference data (represented by "Delta" in the figure) is obtained, and the difference data undergoes variable-length encoding. In <figref idrefs="f0029">Fig. 31(b)</figref>, the arrow from each picture indicates the referenced picture that the picture refers to. SEI information for a picture in which SEI information is not encoded (B picture) is interpolated by a decoder using two pieces of SEI information encoded by the preceding and subsequent referenced pictures in display order.</p><p id="p0140" num="0140">In the case of the prediction type 3, SEI prediction order matches video encoding order, including the picture type of video. This is suitable for live encoding, and is adaptable to special reproduction, such as B skip. Disparity information for only referenced pictures, such as an I picture, a P picture, and a referenced B picture, is encoded and transmitted, and thus the encoding efficiency increases. However, SEI prediction is performed over a plurality of frames, and thus the encoding efficiency is lower than that of the above-described prediction type 0. Further, non-encoded SEI information is interpolated and is allocated to each picture, and thus it is necessary to clearly present the number of pictures corresponding to a time distance to the picture for which<!-- EPO <DP n="43"> --> disparity information is predicted.</p><p id="p0141" num="0141">In the case of transmitting an AVC video stream (frame compatible, or MVC) using an MPEG2-TS container, an AUD (Access Unit Delimiter) is attached to the head of each access unit. Information of an AUD is "primary_pic_type", and is represented by a value "primary_pic_type = 1" in the case of I or P. This means that the corresponding access unit (normally 1 picture) is a referenced picture. The packet order of video is constituted by "AUD"-"SPS"-"PPS"-"SEI"-"Slice". Therefore, the decoder uses information of an AUD in order to correctly decode information about content of SEI before decoding "Slice". Note that, in the case of AVC, referenced pictures include a referenced B picture as well as an I picture and a P picture, as described above.</p><p id="p0142" num="0142">In the case of the above-described prediction type 3, disparity information for only referenced pictures, such as an I picture, a P picture, and a referenced B picture, is encoded and transmitted. Thus, on a decoder side (receiving side), disparity information for a picture whose disparity information is not transmitted is obtained by using, for example, interpolation based on disparity information for the preceding and subsequent pictures. For example, in <figref idrefs="f0029">Fig. 31(b)</figref>, disparity information for pictures corresponding to B1 and B2 is obtained on the basis of the disparity information transmitted by "SEI0" and "SEI3". In a case where an interpolation value is a decimal fraction, a decoder (receiver) compatible with "subpixel disparity" is capable of performing dynamic update of a graphics display position more smoothly.</p><p id="p0143" num="0143">Each of <figref idrefs="f0030">Fig. 32</figref>, <figref idrefs="f0031">Fig. 33</figref>, and <figref idrefs="f0032">Fig. 34</figref> illustrates an example structure (Syntax) of "depth_information_sei()" in the case of inserting compression-encoded disparity information for each picture in units of pictures. <figref idrefs="f0017">Fig. 18</figref> illustrates the content (Semantics) of main information in these examples of structures. Although a detailed description is omitted, these example structures are the same as the above-described example structures (Syntax) illustrated in <figref idrefs="f0014">Fig. 15</figref>, <figref idrefs="f0015">Fig. 16</figref>, and <figref idrefs="f0016">Fig. 17</figref>, except that disparity information has undergone compression encoding.</p><p id="p0144" num="0144">Each of <figref idrefs="f0033">Fig. 35</figref>, <figref idrefs="f0034">Fig. 36</figref>, and <figref idrefs="f0035">Fig. 37</figref> illustrates an example<!-- EPO <DP n="44"> --> structure (Syntax) of "depth_information_sei()" in the case of collectively encoding a plurality of pictures, as in the case of inserting compression-encoded disparity information for each picture in units of <figref idrefs="f0017">Fig. 18</figref> illustrates the content (Semantics) of main information in these example structures. Although a detailed description is omitted, these example structures are the same as the above-described example structures (Syntax) illustrated in <figref idrefs="f0019">Fig. 20</figref>, <figref idrefs="f0020">Fig. 21</figref>, and <figref idrefs="f0021">Fig. 22</figref>, except that disparity information has undergone compression encoding.</p><p id="p0145" num="0145"><figref idrefs="f0036">Fig. 38</figref> illustrates an example structure (Syntax) of "depth_information_sei()" that is applicable in the case of the prediction type 3. <figref idrefs="f0017">Fig. 18</figref> illustrates the content (Semantics) of main information in the example structure. A field "picture_count_for_skipping" indicates the number of pictures up to a preceding referenced picture with which disparity information is predicted. Note that the information in this field may be inserted after variable-length encoding has been performed on the number of pictures using, for example, "Exp-Golomb code ue(v)" illustrated in <figref idrefs="f0037">Fig. 39</figref>.</p><p id="p0146" num="0146">1-bit flag information "partition_enabled_flag" indicates whether or not the screen is partitioned. When the flag information is "1", it indicates that the picture display screen is partitioned. When the flag information is "0", it indicates that the screen is not partitioned. The flag information enables a receiving side to easily determine whether transmitted disparity information corresponds to the entire picture display screen or each of a plurality of partitioned areas.</p><p id="p0147" num="0147">Note that, in the above-described individual example structures (Syntax) illustrated in <figref idrefs="f0014 f0015 f0016">Fig. 15 to Fig. 17</figref>, <figref idrefs="f0019 f0020 f0021">Fig. 20 to Fig. 22</figref>, and <figref idrefs="f0030 f0031 f0032 f0033 f0034 f0035">Fig. 32 to Fig. 37</figref>, the 3-bit field "partition_type" may be replaced with the 1-bit flag information "partition_enabled_flag". Alternatively, the 3-bit field "partition_type" may be handled as flag information similar to "partition enabled_flag". In that case, when any of the 3 bits is "1", it indicates that the picture display screen is partitioned. When all the 3 bits are "0", it indicates that the screen is not partitioned.<!-- EPO <DP n="45"> --></p><p id="p0148" num="0148">Referring back to <figref idrefs="f0036">Fig. 38</figref>, 1-bit flag information "Intra_disparity_flag" indicates whether or not the value of disparity information (disparity) is a non-prediction value (intra data). When the flag information is "1", it indicates that the value of disparity information is a non-prediction value (intra data). When the flag information is "0", it indicates that value of disparity information is prediction value (difference data). In addition, also in the above-described individual example structures (Syntax) illustrated in <figref idrefs="f0030 f0031 f0032 f0033 f0034 f0035">Fig. 32 to Fig. 37</figref>, the 1-bit flag information "Intra_disparity_flag" may further be added. In this case, a receiving side is capable of easily determining whether inserted disparity information is intra data or difference data.</p><p id="p0149" num="0149">A 4-bit field "partition_count" indicates the total number of partitioned areas (Partitions). A field "max_disparity_in_partition" indicates second disparity information about each partitioned area (Partition), that is, the maximum disparity information (disparity value) about each partitioned area. A field "min_disparity_in_partition" indicates first disparity information about each partitioned area (Partition), that is, the minimum disparity information (disparity value) about each partitioned area.</p><p id="p0150" num="0150">The example structure (Syntax) of "depth_information_sei()" illustrated in <figref idrefs="f0036">Fig. 38</figref> corresponds to the example structure (Syntax) of "depth_information_sei()" illustrated in <figref idrefs="f0030">Fig. 32</figref>. Although illustration is omitted, the structures corresponding to the example structures (Syntax) of "depth_informatino_sei()" illustrated in <figref idrefs="f0031 f0032 f0033 f0034 f0035">Fig. 33 to Fig. 37</figref> may be similarly considered. Also, instead of the example structure (Syntax) of "depth_information_sei()" illustrated in <figref idrefs="f0036">Fig. 38</figref>, the example structure (Syntax) of "depth_information_sei()" illustrated in <figref idrefs="f0038">Fig. 40</figref> may be used. In this case, the 3-bit field "partition_type" is handled as flag information similar to, for example, "partition_enabled_flag".</p><heading id="h0015">"Description of set top box"</heading><p id="p0151" num="0151">The set top box 200 receives a transport stream TS that is transmitted by broadcast waves from the broadcast station 100. Also, the set top box 200 decodes a video stream included in the transport<!-- EPO <DP n="46"> --> stream TS, and generates left-eye image data and right-eye image data which form a stereo image. Also, the set top box 200 extracts disparity information (first disparity information and second disparity information) for each picture of image data, which has been inserted into the video stream.</p><p id="p0152" num="0152">The set top box 200 checks, on the basis of the first disparity information and the second disparity information, whether or not a disparity angle with respect to the nearest object reproduction position (a disparity angle in a crossing direction) and a disparity angle with respect to the farthest object reproduction position (a disparity angle in a same-side direction) are within a certain range in which viewing does not cause any health problems. Then, if the disparity angles are out of the certain range, the set top box 200 reconfigures the left-eye image data and the right-eye image data so that the disparity angles are within the certain range, and corrects the first disparity information and the second disparity information.</p><p id="p0153" num="0153">Also, in the case of displaying graphics (STB graphics) on an image in an overlaid manner, the set top box 200 obtains the data of a left-eye image and a right-eye image on which graphics are overlaid, by using the image data, disparity information (first disparity information), and graphics data. In this case, the set top box 200 gives disparity corresponding to the display position of the graphics to the graphics to be overlaid on the left-eye image and the right-eye image in units of pictures, thereby obtaining the data of the left-eye image on which graphics are overlaid, and the data of the right-eye image on which graphics are overlaid.</p><p id="p0154" num="0154">As a result of giving disparity to the graphics in the above-described manner, the graphics (STB graphics) displayed on a stereo image in an overlaid manner can be displayed in front of an object in a stereo image at the display position. Accordingly, in the case of displaying graphics of OSD, an application, EPG of program information, or the like on an image in an overlaid manner, perspective consistency for individual objects in the image can be maintained.</p><p id="p0155" num="0155"><figref idrefs="f0039">Fig. 41</figref> illustrates a concept of controlling the depth of graphics using disparity information. In a case where disparity<!-- EPO <DP n="47"> --> information is a negative value, disparity is given so that graphics for left-eye display are shifted to the right side and graphics for right-eye display are shifted to the left side on a screen. In this case, the display position of the graphics is in front of the screen. On the other hand, in a case where disparity information is a positive value, disparity is given so that graphics for left-eye display are shifted to the left side and graphics for right-eye display are shifted to the right side on the screen. In this case, the display position of the graphics is behind the screen.</p><p id="p0156" num="0156">As described above, the video stream includes, inserted thereinto, disparity information obtained for each picture of image data. Thus, the set top box 200 is capable of accurately controlling the depth of graphics based on disparity information, by using disparity information synchronized with display timing of the graphics.</p><p id="p0157" num="0157">Also, <figref idrefs="f0039">Fig. 41</figref> illustrates a disparity angle in the same-side direction (θ0-θ2) and a disparity angle in the crossing direction (θ0-θ1). In the set top box 200, it is checked whether or not these disparity angles are within the certain range in which viewing does not cause any health problems, on the basis of the first disparity information and the second disparity information for each picture inserted into the video stream.</p><p id="p0158" num="0158"><figref idrefs="f0040">Fig. 42</figref> illustrates an example of a case where a video stream includes disparity information inserted thereinto in units of pictures. In the set top box 200, pieces of disparity information are sequentially obtained at picture timings of image data. For displaying graphics, disparity information (first disparity information) corresponding to the display timing of the graphics is used, and appropriate disparity is given to the graphics. Also, <figref idrefs="f0041">Fig. 43</figref> illustrates, for example, an example of a case where a video stream includes disparity information inserted thereinto in units of In the set top box 200, at the timing of the head of each GOP of image data, pieces of disparity information (disparity information set) for individual pictures in the GOP are collectively obtained. For displaying graphics (STB graphics), disparity information (first disparity information) corresponding to the display timing of the graphics is used, and appropriate disparity is given to the graphics.<!-- EPO <DP n="48"> --></p><p id="p0159" num="0159">"Side View" in <figref idrefs="f0042">Fig. 44(a)</figref> illustrates a display example of a caption (subtitle) and OSD graphics on an image. In this display example, a caption and graphics are overlaid on an image formed of a background, a middle-ground object, and a foreground object. "Top View" in <figref idrefs="f0042">Fig. 44(b)</figref> illustrates the perspective of the background, the middle-ground object, the foreground object, the caption, and the graphics. <figref idrefs="f0042">Fig. 44(b)</figref> illustrates that the caption and the graphics are perceived as being in front of the objects corresponding to the display position. Note that, although not illustrated, in a case where the display positions of the caption and graphics overlap, appropriate disparity is given to the graphics so that the graphics are perceived as being in front of the caption, for example.</p><heading id="h0016">"Example configuration of set top box"</heading><p id="p0160" num="0160"><figref idrefs="f0043">Fig. 45</figref> illustrates an example configuration of the set top box 200. The set top box 200 includes a container buffer 211, a demultiplexer 212, a coded buffer 213, a video decoder 214, a decoded buffer 215, a scaler 216, an L/R reconfiguration unit 263, and an overlay unit 217. Also, the set top box 200 includes a compression decoding unit 261, a disparity information buffer 218, a disparity information control unit 262, a set top box (STB) graphics generating unit 219, a depth control unit 220, and a graphics buffer 221.</p><p id="p0161" num="0161">Also, the set top box 200 includes a coded buffer 231, a subtitle decoder 232, a pixel buffer 233, a subtitle disparity information buffer 234, and a subtitle display control unit 235. Furthermore, the set top box 200 includes a coded buffer 241, an audio decoder 242, an audio buffer 243, a channel mixing unit 244, and an HDMI transmitting unit 251.</p><p id="p0162" num="0162">The container buffer 211 temporarily stores a transport stream TS received by a digital tuner or the like (not illustrated). The transport stream TS includes a video stream, a subtitle stream, and an audio stream. The video stream includes one or two video streams obtained by encoding left-eye image data and right-eye image data.</p><p id="p0163" num="0163">For example, image data of a side-by-side format or a top-and-bottom format may be formed of left-eye image data and right-eye image<!-- EPO <DP n="49"> --> data, and may be transmitted as one video stream. Also, for example, left-eye image data and right-eye image data may be transmitted as different video streams, for example, an MVC base view stream and an MVC nonbase view stream.</p><p id="p0164" num="0164">The demultiplexer 212 extracts, from the transport stream TS that is temporarily stored in the container buffer 211, individual streams of video, subtitle, and audio. Also, the demultiplexer 212 extracts, from the transport stream TS, identification information (flag information "graphics_depth_info_not_existed_flag[0]") indicating whether or not the video stream includes disparity information inserted thereinto, and transmits the identification information to a control unit (CPU) that is not illustrated. If the identification information indicates that the video stream includes disparity information, the video decoder 214 obtains the disparity information (first disparity information and second disparity information) from the video stream under the control by the control unit (CPU), as described below.</p><p id="p0165" num="0165">The coded buffer 213 temporarily stores the video stream extracted by the demultiplexer 212. The video decoder 214 performs a decoding process on the video stream stored in the coded buffer 213, thereby obtaining left-eye image data and right-eye image data. Also, the video decoder 214 obtains disparity information (first disparity information and second disparity information) for each picture of the image data inserted into the video stream. The decoded buffer 215 temporarily stores the left-eye image data and the right-eye image data obtained by the video decoder 214.</p><p id="p0166" num="0166">The compression decoding unit 261 receives the disparity information (first disparity information and second disparity information) for each picture of the image data obtained by the video decoder 214, and, if the received disparity information is compression-encoded, performs a decoding process. If the received disparity information is not compression-encoded, the compression decoding unit 261 regards the received disparity information as disparity information to be output.</p><p id="p0167" num="0167">The compression decoding unit 261 performs a process opposite to<!-- EPO <DP n="50"> --> the process performed by the compression encoding unit 120 in the transmission data generating unit 110A illustrated in <figref idrefs="f0023">Fig. 24</figref>. <figref idrefs="f0044">Fig. 46</figref> illustrates an example of a schematic configuration of the compression decoding unit 261. The compression decoding unit 261 includes a variable-length decoding unit 264, a buffer 265, and an adding unit 266. The variable-length decoding unit 264 performs variable-length decoding on the compression-encoded input disparity information. The buffer 265 temporarily stores the decoded disparity information to be output. The adding unit 266 adds difference data of a reference picture to disparity information of a referenced picture, thereby obtaining disparity information to be output for the reference picture.</p><p id="p0168" num="0168">Referring back to <figref idrefs="f0043">Fig. 45</figref>, the disparity information buffer 218 temporarily stores the compression-decoded disparity information (first disparity information and second disparity information). The disparity information control unit 262 checks, on the basis of the first disparity information and the second disparity information for each picture stored in the disparity information buffer 218, whether or not a disparity angle with respect to the nearest object reproduction position (a disparity angle in a crossing direction) and a disparity angle with respect to the farthest object reproduction position (a disparity angle in a same-side direction) are within a certain range in which viewing does not cause any health problems.</p><p id="p0169" num="0169">If the disparity angles are out of the certain range, the disparity information control unit 262 instructs the L/R reconfiguration unit 263 to reconfigure the left-eye image data and the right-eye image data so that the disparity angles are within the certain range. Also, the disparity information control unit 262 corrects the first disparity information and/or the second disparity information in accordance with the reconfigured left-eye image data and right-eye image data, and outputs the first disparity information and/or the second disparity information. Note that, in a case where the disparity angles are within the certain range, the disparity information control unit 262 does not instruct the L/R reconfiguration unit 263 to reconfigure the left-eye image data and the right-eye image data, and outputs the first disparity information and the second disparity information as they are without correcting them.</p><p id="p0170" num="0170"><!-- EPO <DP n="51"> --> The upper portion of <figref idrefs="f0045">Fig. 47</figref> illustrates an example of a temporal transition of disparity angles on the near side and the far side of received data (left-eye image data and right-eye image data). A range "d" represents the range of disparity angles at which viewing does not cause any health problems. In this example, there is a period in which the disparity angle is out of the range d on the far side.</p><p id="p0171" num="0171">The lower portion of <figref idrefs="f0045">Fig. 47</figref> illustrates an example of a temporal transition of disparity angles on the near side and the far side of reconfigured data (left-eye image data and right-eye image data). (a) is an example of the case of performing limit control when the disparity angle is out of the range d. (b) is an example of the case of reducing the entire depth volume so that the disparity angles are within the range d.</p><p id="p0172" num="0172"><figref idrefs="f0046">Fig. 48</figref> illustrates an example configuration of the disparity information control unit 262. The disparity information control unit 262 includes a maximum value obtaining unit 271, a minimum value obtaining unit 272, a disparity angle checking unit 272, and a disparity information correcting unit 274. The maximum value obtaining unit 271 selects a piece of second disparity information having a maximum value from among received pieces of second disparity information (Max disparity), and supplies it to the disparity angle checking unit 273. The number of pieces of received second disparity information is one in a case where the second disparity information is about the entire picture screen, and is plural in a case where the second disparity information is about each of a plurality of partitioned areas. The minimum value obtaining unit 272 selects a piece of first disparity information having a minimum value from among received pieces of first disparity information (Min disparity), and supplies it to the disparity angle checking unit 273. The number of pieces of received first disparity information is one in a case where the first disparity information is about the entire picture screen, and is plural in a case where the first disparity information is about each of a plurality of partitioned areas.</p><p id="p0173" num="0173">The disparity angle checking unit 273 checks, on the basis of the first disparity information and the second disparity information, whether or not the disparity angle on the near side and the disparity<!-- EPO <DP n="52"> --> angle on the far side are within the range d (see <figref idrefs="f0045">Fig. 47</figref>) of disparity angles at which viewing does not cause any health problems, and supplies the check result to the disparity information correcting unit 274. If the disparity angles are out of the range d, the disparity information correcting unit 274 instructs the L/R reconfiguration unit 263 to reconfigure the received left-eye image data and right-eye image data so that the disparity angles are within the range d.</p><p id="p0174" num="0174">Further, the disparity information correcting unit 274 is supplied with the received first disparity information (Min disparity) and second disparity information (Max disparity). The disparity information correcting unit 274 performs a correction process on the first disparity information and the second disparity information in response to the above-described instruction to reconfigure the left-eye image data and the right-eye image data, and outputs the corrected first disparity information (Corrected Min disparity) and second disparity information (Corrected Max disparity). Note that, if the disparity angles are within the range d, the disparity information correcting unit 274 does not instruct the L/R reconfiguration unit 263 to reconfigure the left-eye image data and the right-eye image data, and outputs the first disparity information and the second disparity information as they are without correcting them.</p><p id="p0175" num="0175">Referring back to <figref idrefs="f0043">Fig. 45</figref>, the scaler 216 performs a scaling process in the horizontal direction or vertical direction on the left-eye image data and the right-eye image data output from the decoded buffer 215, if necessary. For example, in a case where the left-eye image data and the right-eye image data are transmitted as image data of a side-by-side format or a top-and-bottom format in one video stream, the scaler 216 2x scales up the image data in the horizontal direction or vertical direction and outputs the image data. Also, for example, in a case where the left-eye image data and the right-eye image data are transmitted as different video streams, such as an MVC base view stream and an MVC nonbase view stream, the scaler 216 does not perform a scaling process and outputs the left-eye image data and the right-eye image data as they are.</p><p id="p0176" num="0176">The L/R reconfiguration unit 263 reconfigures left-eye image data<!-- EPO <DP n="53"> --> and right-eye image data. That is, in a case where either of a disparity angle in the same-side direction and a disparity angle in the crossing direction is out of the certain range in which viewing does not cause any health problems, the L/R reconfiguration unit 263 reconfigures the left-eye image data and the right-eye image data so that the disparity angle is within the certain range, in response to a reconfiguration instruction from the above-described disparity information control unit 262.</p><p id="p0177" num="0177">The coded buffer 231 temporarily stores the subtitle stream extracted by the demultiplexer 214. The subtitle decoder 232 performs a process opposite to the process performed by the subtitle encoder 117 of the above-described transmission data generating unit 110 (see <figref idrefs="f0007">Fig. 8</figref>). That is, the subtitle decoder 232 performs a decoding processes on the subtitle stream stored in the coded buffer 231, thereby obtaining subtitle data.</p><p id="p0178" num="0178">The subtitle data includes bitmap data of a subtitle (caption), display position information about the subtitle "Subtitle rendering position (x2, y2)", and disparity information about the subtitle (caption) "Subtitle disparity". The pixel buffer 233 temporarily stores the bitmap data of the subtitle (caption) and the display position information about the subtitle (caption) "Subtitle rendering position (x2, y2)", which are obtained by the subtitle decoder 232. The subtitle disparity information buffer 234 temporarily stores the disparity information about the subtitle (caption) "Subtitle disparity" obtained by the subtitle decoder 232.</p><p id="p0179" num="0179">The subtitle display control unit 235 generates pieces of bitmap data of a subtitle "Subtitle data" for left-eye display and right-eye display to which disparity is given, on the basis of the bitmap data of the subtitle (caption) and the display position information and disparity information about the subtitle (caption). The set top box (STB) graphics generating unit 219 generates graphics data of OSD, an application, EPG, or the like. The graphics data includes graphics bitmap data "Graphics data" and display position information about the graphics "Graphics rendering position (x1, y1)".</p><p id="p0180" num="0180">The graphics buffer 221 temporarily stores the graphics bitmap<!-- EPO <DP n="54"> --> data "Graphics data" generated by the set top box graphics generating unit 219. The overlay unit 217 respectively overlays, on the left-eye image data and the right-eye image data, the pieces of bitmap data of the subtitle "Subtitle data" for left-eye display and right-eye display generated by the subtitle display control unit 235.</p><p id="p0181" num="0181">Also, the overlay unit 217 respectively overlays, on the left-eye image data and the right-eye image data, pieces of graphics bitmap data "Graphics data" stored in the graphics buffer 221. At this time, disparity is given by the depth control unit 220 (described below) to the pieces of graphics bitmap data "Graphics data" that are overlaid on the left-eye image data and the right-eye image data, respectively. Here, in a case where the graphics bitmap data "Graphics data" shares the same pixels as the bitmap data of the subtitle "Subtitle data", the overlay unit 217 overwrites the graphics data on the subtitle data.</p><p id="p0182" num="0182">The depth control unit 220 gives disparity to the pieces of graphics bitmap data "Graphics data" overlaid on the left-eye image data and the right-eye image data, respectively. Thus, the depth control unit 220 generates display position information about graphics "Rendering position" for left-eye display and right-eye display for each picture of image data, and performs shift control of an overlay position of the pieces of graphics bitmap data "Graphics data" stored in the graphics buffer 221 on the left-eye image data and the right-eye image data.</p><p id="p0183" num="0183">As illustrated in <figref idrefs="f0047">Fig. 49</figref>, the depth control unit 220 generates display position information "Rendering position" by using the following information. That is, the depth control unit 220 uses first disparity information (Min disparity) for each picture output from the disparity information control unit 262. Also, the depth control unit 220 uses the display position information about the subtitle (caption) "Subtitle rendering position (x2, y2)" stored in the pixel buffer 233.</p><p id="p0184" num="0184">Also, the depth control unit 220 uses the disparity information about the subtitle (caption) "Subtitle disparity" stored in the subtitle disparity information buffer 234. Also, the depth control unit 220 uses the display position information about the graphics "Graphics rendering position (x1, y1)" generated by the set top box<!-- EPO <DP n="55"> --> graphics generating unit 219. Also, the depth control unit 220 uses identification information indicating whether or not the video stream includes disparity information inserted thereinto.</p><p id="p0185" num="0185">Also, the depth control unit 220 updates the first disparity information (Min disparity) for each picture, output from the disparity information control unit 262, in accordance with overlaying of a subtitle or graphics on an image. In this case, the depth control unit 220 updates the value of disparity information (Disparity) about a partitioned area corresponding to the display position of the subtitle (caption) and the display position of the graphics, to the value of disparity information (Disparity) used for giving disparity to the subtitle (caption) or the graphics, for example.</p><p id="p0186" num="0186">The flowchart in <figref idrefs="f0048">Fig. 50</figref> and <figref idrefs="f0049">Fig. 51</figref> illustrates an example of a procedure of a control process performed by the depth control unit 220. The depth control unit 220 executes the control process for each picture (frame) on which graphics display is performed. The depth control unit 220 starts the control process in step ST1. Subsequently, in step ST2, the depth control unit 220 determines, on the basis of identification information, whether or not the video stream includes disparity information for graphics inserted thereinto.</p><p id="p0187" num="0187">If the video stream includes disparity information inserted thereinto, the depth control unit 220 proceeds to the process in step ST3. In step ST3, the depth control unit 220 examines all the partitioned areas (partitions) including the coordinates at which graphics are displayed in an overlaid manner. Then, in step ST4, the depth control unit 220 compares the pieces of disparity information (disparities) about target partitioned areas (partitions), selects an optimal value such as a minimum value, and regards the selected value as a value (graphics_disparity) of graphics disparity information (disparity).</p><p id="p0188" num="0188">Subsequently, the depth control unit 220 proceeds to the process in step ST5. If the video stream does not include disparity information inserted thereinto in the foregoing step ST2, the depth control unit 220 immediately proceeds to the process in step ST5. In step ST5, the depth control unit 220 determines whether or not there<!-- EPO <DP n="56"> --> is a subtitle stream including disparity information (disparity).</p><p id="p0189" num="0189">If there is a subtitle stream including disparity information (disparity), the depth control unit 220 compares, in step ST6, the value of disparity information (disparity) for the subtitle (subtitle_disparity) with the value of disparity information for the graphics (graphics_disparity). Note that, if the video stream does not include disparity information (disparity) for graphics inserted thereinto, the value of disparity information for the graphics (graphics_disparity) is set to be, for example, "0".</p><p id="p0190" num="0190">Subsequently, in step ST7, the depth control unit 220 determines whether or not the condition "subtitle_disparity &gt; (graphics_disparity) is satisfied. If the condition is satisfied, in step ST8, the depth control unit 220 obtains pieces graphics bitmap data for left-eye display and right-eye display in which display positions have been shifted by using a value equivalent to the value of disparity information (disparity) for graphics (graphics_disparity), on the basis of the graphics bitmap data "Graphics data" stored in the graphics buffer 221, and overlays the pieces of graphics bitmap data on the left-eye image data and the right-eye image data, respectively.</p><p id="p0191" num="0191">Subsequently, in step ST9, the depth control unit 220 updates the value of disparity information (disparity) about a partitioned area (partition) corresponding to the screen position at which the subtitle or graphics has been overlaid. After the process in step ST9, the depth control unit 220 ends the control process in step ST10.</p><p id="p0192" num="0192">On the other hand, if the condition is not satisfied in step ST7, the depth control unit 220 obtains pieces graphics bitmap data for left-eye display and right-eye display in which display positions have been shifted by using a value smaller than the disparity information (disparity) for graphics, on the basis of the graphics bitmap data "Graphics data" stored in the graphics buffer 221, and overlays the pieces of graphics bitmap data on the left-eye image data and the right-eye image data, respectively in step ST10. After the process in step ST11, the depth control unit 220 performs the process in step ST9, and ends the control process in step ST10.</p><p id="p0193" num="0193"><!-- EPO <DP n="57"> --> Further, if there is not a subtitle stream including disparity information (disparity) in step ST5, the depth control unit 220 proceeds to the process in step ST12. In step ST12, the depth control unit 220 controls the depth of graphics by using the value of disparity information for graphics (graphics_disparity) obtained in step ST4 or the value of disparity information (disparity) calculated by the set top box 200.</p><p id="p0194" num="0194">That is, the depth control unit 220 obtains pieces graphics bitmap data for left-eye display and right-eye display in which display positions have been shifted by using the value of disparity information for graphics (graphics_disparity) or the calculated value of disparity information (disparity), on the basis of the graphics bitmap data "Graphics data" stored in the graphics buffer 221, and overlays the pieces of graphics bitmap data on the left-eye image data and the right-eye image data, respectively. After the process in step ST12, the depth control unit 220 performs the process in step ST9, and ends the control process in step ST10.</p><p id="p0195" num="0195"><figref idrefs="f0050">Fig. 52</figref> illustrates an example of controlling the depth of graphics in the set top box 200. In this example, regarding graphics (STB graphics), disparity is given to graphics for left-eye display and graphics for right-eye display on the basis of a piece of disparity information having a minimum value among pieces of disparity information about the eight partitioned areas on the right (Partitions 2, 3, 6, 7, 10, 11, 14, and 15). As a result, the graphics are displayed in front of an image (video) object in these eight partitioned areas.</p><p id="p0196" num="0196"><figref idrefs="f0051">Fig. 53</figref> also illustrates an example of controlling the depth of graphics in the set top box 200. In this example, regarding graphics (STB graphics), disparity is given to graphics for left-eye display and graphics for right-eye display on the basis of a piece of disparity information having a minimum value among pieces of disparity information about the eight partitioned areas on the right (Partitions 2, 3, 6, 7, 10, 11, 14, and 15) and also disparity information about a subtitle (caption).</p><p id="p0197" num="0197">As a result, the graphics are displayed in front of an image<!-- EPO <DP n="58"> --> (video) object and also a subtitle (caption) in these eight partitioned areas. Note that, in this case, the subtitle (caption) is also displayed in front of an image (video) object in the four partitioned areas (Partitions 8, 9, 10, and 11) corresponding to the display position of the subtitle, on the basis of disparity information about the subtitle (caption).</p><p id="p0198" num="0198">Note that, in the case of the example of controlling the depth in <figref idrefs="f0051">Fig. 53</figref>, a process of updating disparity information is performed in the following manner, for example. That is, first, the values of pieces of disparity information (Disparities) about the four partitioned areas (Partitions 8, 9, 10, and 11) corresponding to the display position of the subtitle are updated by the disparity information value (subtitle_disparity) used for giving disparity to the subtitle. Subsequently, the values of pieces of disparity information (Disparities) about the eight partitioned areas (Partitions 2, 3, 6, 7, 10, 11, 14, and 15) are updated by the disparity information value (graphics_disparity) used for giving disparity to the graphics.</p><p id="p0199" num="0199">Referring back to <figref idrefs="f0043">Fig. 45</figref>, the coded buffer 241 temporarily stores the audio stream extracted by the demultiplexer 212. The audio decoder 242 performs a process opposite to the process performed by the audio encoder 119 of the above-described transmission data generating unit 110 (see <figref idrefs="f0007">Fig. 8</figref>). That is, the audio decoder 242 performs a decoding process on the audio stream stored in the coded buffer 241, thereby obtaining decoded audio data. The audio buffer 243 temporarily stores the audio data obtained by the audio decoder 242. The channel mixing unit 244 generates audio data of each channel for realizing, for example, 5.1 channel surround or the like, from the audio data stored in the audio buffer 243, and outputs the generated audio data.</p><p id="p0200" num="0200">Note that reading out of information (data) from the decoded buffer 215, the disparity information buffer 218, the pixel buffer 233, the subtitle disparity information buffer 234, and the audio buffer 243 is performed on the basis of PTS, and transfer synchronization is achieved.</p><p id="p0201" num="0201"><!-- EPO <DP n="59"> --> The HDMI transmitting unit 251 transmits, to a sink apparatus of HDMI, in this embodiment, to the television receiver 300, the left-eye image data and the right-eye image data obtained through a process of overlaying a subtitle and graphics performed by the overlay unit 217, and the audio data of each channel obtained by the channel mixing unit 244, by performing communication compatible with HDMI. Here, the left-eye image data obtained by the overlay unit 217 is left-eye image data on which a subtitle (caption) and STB graphics for left-eye display are overlaid. Also, the right-eye image data obtained by the overlay unit 217 is right-eye image data on which a subtitle (caption) and STB graphics for right-eye display are overlaid.</p><p id="p0202" num="0202">Also, the HDMI transmitting unit 251 transmits, to the television receiver 300, the first disparity information (Min disparity) for each picture that has been updated by the depth control unit 220 and the second disparity information (Max disparity) for each picture output from the disparity information control unit 262, by using an HDMI interface. In this embodiment, the first disparity information and the second disparity information are transmitted after being inserted into a blanking period of image data. The details of the HDMI transmitting unit 251 will be described below.</p><p id="p0203" num="0203">The operation of the set top box 200 illustrated in <figref idrefs="f0043">Fig. 45</figref> will be briefly described. A transport stream TS received by a digital tuner or the like is temporarily stored in the container buffer 211. The transport stream TS includes a video stream, a subtitle stream, and an audio stream. The video stream includes one or two video streams obtained by encoding left-eye image data and right-eye image data.</p><p id="p0204" num="0204">In the demultiplexer 212, individual streams of video, subtitle, and audio are extracted from the transport stream TS that is temporarily stored in the container buffer 211. Also, in the demultiplexer 212, identification information (flag information "graphics_depth_info_not_existed_flag[0]") indicating whether or not the video stream includes disparity information inserted thereinto is extracted from the transport stream TS, and is transmitted to the control unit (CPU) that is not illustrated.</p><p id="p0205" num="0205"><!-- EPO <DP n="60"> --> The video stream extracted by the demultiplexer 212 is supplied to the coded buffer 213 and is temporarily stored therein. Then, in the video decoder 214, a decoding process is performed on the video stream stored in the coded buffer 213, so that left-eye image data and right-eye image data are obtained. The left-eye image data and the right-eye image data are temporarily stored in the decoded buffer 215.</p><p id="p0206" num="0206">Also, in the video decoder 214, disparity information (first disparity information and second disparity information) for each picture of image data, which has been inserted into the video stream, is obtained. The disparity information appropriately undergoes compression decoding in the compression decoding unit 261, and is temporarily stored in the disparity information buffer 218. In the disparity information control unit 262, it is checked, on the basis of the first disparity information and the second disparity information for each picture stored in the disparity information buffer 218, whether or not a disparity angle with respect to the nearest object reproduction position (a disparity angle in a crossing direction) and a disparity angle with respect to the farthest object reproduction position (a disparity angle in a same-side direction) are within the range d (see <figref idrefs="f0045">Fig. 47</figref>) in which viewing does not cause any health problems.</p><p id="p0207" num="0207">Then, if the disparity angles are out of the certain range, the disparity information control unit 262 instructs the L/R reconfiguration unit 263 to reconfigure the left-eye image data and the right-eye image data so that the disparity angles are within the range d. Further, in that case, the disparity information control unit 262 corrects the first disparity information and/or the second disparity information in accordance with the reconfigured left-eye image data and right-eye image data, and outputs the corrected first disparity information and/or second disparity information. Note that, in a case where the disparity angles are within the certain range d, the disparity information control unit 262 does not instruct the L/R reconfiguration unit 263 to reconfigure the left-eye image data and the right-eye image data, and outputs the first disparity information and the second disparity information without correcting them.</p><p id="p0208" num="0208">In the scaler 216, a scaling process in the horizontal direction<!-- EPO <DP n="61"> --> or vertical direction is performed on the left-eye image data and the right-eye image data output from the decoded buffer 215, if necessary. From the scaler 216, for example, left-eye image data and right-eye image data of a full HD size of 1920 * 1080 are obtained. The left-eye image data and the right-eye image data are supplied to the overlay unit 217 via the L/R reconfiguration unit 263.</p><p id="p0209" num="0209">The L/R reconfiguration unit 263 reconfigures the left-eye image data and the right-eye image data if necessary. That is, in a case where either of the disparity angles in the same-side direction and the crossing direction is out of the range d (see <figref idrefs="f0045">Fig. 47</figref>) in which viewing does not cause any health problems, the L/R reconfiguration unit 263 reconfigures the left-eye image data and the right-eye image data so that the disparity angle is within the certain range, on the basis of a reconfiguration instruction from the disparity information control unit 262.</p><p id="p0210" num="0210">Further, the subtitle stream extracted by the demultiplexer 212 is supplied to the coded buffer 231 and is temporarily stored therein. In the subtitle decoder 232, a decoding process is performed on the subtitle stream stored in the coded buffer 231, so that subtitle data is obtained. The subtitle data includes bitmap data of a subtitle (caption), display position information about the subtitle "Subtitle rendering position (x2, y2)", and disparity information about the subtitle (caption) "Subtitle disparity".</p><p id="p0211" num="0211">The bitmap data of the subtitle (caption) and the display position information about the subtitle (caption) "Subtitle rending position (x2, y2)" obtained by the subtitle decoder 232 are temporarily stored in the pixel buffer 233. Also, the disparity information about the subtitle (caption) "Subtitle disparity" obtained by the subtitle decoder 232 is temporarily stored in the subtitle disparity information buffer 234.</p><p id="p0212" num="0212">In the subtitle display control unit 235, pieces of bitmap data of the subtitle "Subtitle data" for left-eye display and right-eye display to which disparity has been given are generated on the basis of the bitmap data of the subtitle (caption) and the display position information and disparity information about the subtitle (caption).<!-- EPO <DP n="62"> --> The pieces of bitmap data of the subtitle "Subtitle data" for left-eye display and right-eye display generated in this manner are supplied to the overlay unit 217, and are overlaid on the left-eye image data and the right-eye image data, respectively.</p><p id="p0213" num="0213">In the set top box (STB) graphics generating unit 219, graphics data of OSD, an application, EPG, or the like is generated. The graphics data includes bitmap data of graphics "Graphics data" and display position information about the graphics "Graphics rendering position (x1, y1)". The graphics buffer 221 temporarily stores the graphics data generated by the set top box (STB) graphics generating unit 219.</p><p id="p0214" num="0214">In the overlay unit 217, pieces of graphics bitmap data "Graphics data" stored in the graphics buffer 221 are overlaid on the left-eye image data and the right-eye image data. At this time, disparity is given by the depth control unit 220 to the pieces of graphics bitmap data "Graphics data" respectively overlaid on the left-eye image data and the right-eye image data, on the basis of the disparity information corresponding to the display position of the graphics among the pieces of first disparity information about individual partitioned areas of each picture of image data output from the disparity information control unit 262. In this case, if the graphics bitmap data "Graphics data" shares the same pixels as the bitmap data of the subtitle "Subtitle data", the overlay unit 217 overwrites the graphics data on the subtitle data.</p><p id="p0215" num="0215">The left-eye image data on which the subtitle (caption) and STB graphics for left-eye display are overlaid, and the right-eye image data on which the subtitle (caption) and STB graphics for right-eye display are overlaid are obtained from the overlay unit 217. The left-eye image data and the right-eye image data are supplied to the HDMI transmitting unit 251.</p><p id="p0216" num="0216">Further, the audio stream extracted by the demultiplexer 212 is supplied to the coded buffer 241 and is temporarily stored therein. In the audio decoder 242, a decoding process is performed on the audio stream stored in the coded buffer 241, so that decoded audio data is obtained. The audio data is supplied to the channel mixing unit 244<!-- EPO <DP n="63"> --> via the audio buffer 243. In the channel mixing unit 244, audio data of each channel for realizing, for example, 5.1 channel surround or the like, is generated from the audio data. The audio data is supplied to the HDMI transmitting unit 251.</p><p id="p0217" num="0217">Further, in the depth control unit 220, first disparity information about each partitioned area of each picture of image data output from the disparity information control unit 262 is updated in accordance with overlaying of a caption or graphics on an image. In this case, the value of disparity information (Disparity) about the partitioned area (Partition) corresponding to the display position of the subtitle (caption) and the display position of the graphics is updated to, for example, the value of disparity information (Disparity) used for giving disparity to the subtitle (caption) or graphics. The updated disparity information is supplied to the HDMI transmitting unit 251. Also, second disparity information for each picture of image data output from the disparity information control unit 262 is supplied to the HDMI transmitting unit 251.</p><p id="p0218" num="0218">The HDMI transmitting unit 251 transmits, to the television receiver 300, the left-eye image data and the right-eye image data, the audio data, and also the disparity information (first disparity information and second disparity information) for each picture of image data, by performing communication compatible with HDMI. Here, the disparity information is transmitted after being inserted into an information packet located in a blanking period of the image data, in this embodiment, into an HDMI Vendor Specific InfoFrame.</p><heading id="h0017">[Description of television receiver]</heading><p id="p0219" num="0219">Referring back to <figref idrefs="f0001">Fig. 1</figref>, the television receiver 300 receives left-eye image data and right-eye image data, audio data, and also disparity information (first disparity information and second disparity information) for each picture of image data that are transmitted from the set top box 200 via the HDMI cable 400.</p><p id="p0220" num="0220">In the case of displaying graphics (TV graphics) on an image in an overlaid manner, for example, the television receiver 300 obtains data of a left-eye image and a right-eye image on which graphics are overlaid, by using image data, first disparity information, and<!-- EPO <DP n="64"> --> graphics data. In this case, the television receiver 300 gives, to the graphics to be overlaid on the left-eye image and the right-eye image, disparity corresponding to the display position of the graphics for each picture, thereby obtaining data of the left-eye image on which graphics are overlaid and data of the right-eye image on which graphics are overlaid.</p><p id="p0221" num="0221">As a result of giving disparity to the graphics in the above-described manner, the graphics (TV graphics) displayed on a stereo image in an overlaid manner can be displayed in front of an object in the stereo image at the display position. Accordingly, in the case of displaying graphics of OSD, an application, EPG of program information, or the like on an image in an overlaid manner, perspective consistency for individual objects in the image can be maintained.</p><p id="p0222" num="0222">Also, the television receiver 300 is capable of checking, on the basis of first disparity information and second disparity information, whether or not a disparity angle with respect to the nearest object reproduction position (a disparity angle in a crossing direction) and a disparity angle with respect to the farthest object reproduction position (a disparity angle in a same-side direction) are within the range d (see <figref idrefs="f0045">Fig. 47</figref>) in which viewing does not cause any health problems. If the disparity angles are out of the range, the television receiver 300 is capable of reconfiguring the left-eye image data and the right-eye image data.</p><heading id="h0018">[Example configuration of television receiver]</heading><p id="p0223" num="0223"><figref idrefs="f0052">Fig. 54</figref> illustrates an example configuration of an HDMI input system of the television receiver 300. Note that illustration of a check system for a disparity angle is omitted. The television receiver 300 includes an HDMI receiving unit 311, a scaler 312, an overlay unit 313, a depth control unit 314, a graphics buffer 315, a television (TV) graphics generating unit 316, and an audio processing unit 317.</p><p id="p0224" num="0224">The HDMI receiving unit 311 receives left-eye image data and right-eye image data which form a stereo image, and audio data, from a source apparatus of HDMI, in this embodiment, from the set top box 200, by performing communication compatible with HDMI. Also, the HDMI receiving unit 311 receives disparity information (first disparity<!-- EPO <DP n="65"> --> information and second disparity information) for each picture of image data from the set top box 200 using an HDMI interface. The details of the HDMI receiving unit 311 will be described below.</p><p id="p0225" num="0225">The scaler 312 performs a scaling process on the left-eye image data and the right-eye image data received by the HDMI receiving unit 311, if necessary. For example, the scaler 312 causes the sizes of the left-eye image data and the right-eye image data to match a display size. The television (TV) graphics generating unit 316 generates graphics data of OSD, an application, EPG, or the like. The graphics data includes graphics bitmap data "Graphics data" and display position information about the graphics "Graphics rendering position (x1, y1)".</p><p id="p0226" num="0226">The graphics buffer 315 temporarily stores the graphics bitmap data "Graphics data" generated by the television graphics generating unit 316. The overlay unit 313 overlays pieces of the graphics bitmap data "Graphics data" stored in the graphics buffer 315 on the left-eye image data and the right-eye image data, respectively. At this time, disparity is given by the depth control unit 314 described below, to the pieces of graphics bitmap data "Graphics data" respectively overlaid on the left-eye image data and the right-eye image data.</p><p id="p0227" num="0227">The depth control unit 314 gives disparity to the pieces of graphics bitmap data "Graphics data" respectively overlaid on the left-eye image data and the right-eye image data. For this purpose, the depth control unit 314 generates display position information about graphics "Rendering position" for left-eye display and right-eye display for each picture of image data, and performs shift control of overlay positions of the pieces of graphics bitmap data "Graphics data" stored in the graphics buffer 315 on the left-eye image data and the right-eye image data.</p><p id="p0228" num="0228">As illustrated in <figref idrefs="f0053">Fig. 55</figref>, the depth control unit 314 generates display position information "Rendering position" using the following information. That is, the depth control unit 314 uses the first disparity information (Min disparity) about each partitioned area (Partition) for each picture of image data, received by the HDMI receiving unit 311. Also, the depth control unit 314 uses the display<!-- EPO <DP n="66"> --> position information about graphics "Graphics rendering position (x1, y1)" generated by the television graphics generating unit 316. Also, the depth control unit 314 uses reception information indicating whether or not disparity information has been received by the HDMI receiving unit 311.</p><p id="p0229" num="0229">The flowchart in <figref idrefs="f0054">Fig. 56</figref> illustrates an example of a procedure of a control process performed by the depth control unit 314. The depth control unit 314 executes the control process for each picture (frame) on which graphics display is performed. The depth control unit 314 starts the control process in step ST21. Subsequently, in step ST22, the depth control unit 314 determines, on the basis of reception information, whether or not disparity information for graphics has been received by the HDMI receiving unit 311. Note that, if identification information "PRTY" of the packet of HDMI Vender Specific InfoFrame described below indicates the existence of disparity information as information to be referred to, the HDMI receiving unit 311 extracts the disparity information from the packet so as to be used. In this case, the reception information represents "received".</p><p id="p0230" num="0230">If the disparity information (disparity) has been received, the depth control unit 314 proceeds to the process in step ST23. In step ST23, the depth control unit 314 examines all the partitioned areas (partitions) including the coordinates at which graphics are to be displayed in an overlaid manner. Then, in step ST24, the depth control unit 314 compares the pieces of first disparity information (Min disparity) about target partitioned areas (partitions), selects an optimal value such as a minimum value, and regards the selected value as the value (graphics_disparity) of graphics disparity information (disparity).</p><p id="p0231" num="0231">Subsequently, in step ST25, the depth control unit 314 obtains pieces graphics bitmap data for left-eye display and right-eye display in which display positions have been shifted by using a value equivalent to the value of disparity information (disparity) for graphics (graphics_disparity), on the basis of the graphics bitmap data "Graphics data" stored in the graphics buffer 315, and overlays the pieces of graphics bitmap data on the left-eye image data and the<!-- EPO <DP n="67"> --> right-eye image data, respectively. After the process in step ST25, the depth control unit 314 ends the control process in step ST26.</p><p id="p0232" num="0232">On the other hand, if disparity information (disparity) is not received in step ST22, the depth control unit 314 obtains pieces graphics bitmap data for left-eye display and right-eye display in which display positions have been shifted by using a value of disparity information (disparity) calculated by the television receiver 300, on the basis of the graphics bitmap data "Graphics data" stored in the graphics buffer 315, and overlays the pieces of graphics bitmap data on the left-eye image data and the right-eye image data, respectively in step ST27. After the process in step ST27, the depth control unit 314 ends the control process in step ST26.</p><p id="p0233" num="0233"><figref idrefs="f0055">Fig. 57</figref> illustrates an example of controlling the depth of graphics in the television receiver 300. In this example, regarding TV graphics, disparity is given to graphics for left-eye display and graphics for right-eye display on the basis of the disparity information having a minimum value among the pieces of first disparity information about four partitioned areas (Partitions 10, 11, 14, and 15) on the right. As a result, the TV graphics are displayed in front of an image (video) object in these four partitioned areas. Note that, in this case, a subtitle (caption) and also STB graphics have already been overlaid on the image (video) by the set top box 200.</p><p id="p0234" num="0234">The operation of the television receiver 300 illustrated in <figref idrefs="f0052">Fig. 54</figref> will be briefly described. The HDMI receiving unit 311 receives, from the set top box 200, left-eye image data and right-eye image data, audio data, and also disparity information (first disparity information and second disparity information) for each picture of image data, by performing communication compatible with HDMI.</p><p id="p0235" num="0235">The left-eye image data and the right-eye image data received by the HDMI receiving unit 311 undergo a scaling process in the scaler 312 if necessary, and are then supplied to the overlay unit 313. In the television (TV) generating unit 316, graphics data of OSD, an application, EPG, or the like is generated. The graphics data includes bitmap data of graphics "Graphics data" and display position information about the graphics "Graphics rendering position (x1, y1)".<!-- EPO <DP n="68"> --> The graphics buffer 315 temporarily stores the graphics data generated by the television graphics generating unit 315.</p><p id="p0236" num="0236">In the overlay unit 313, pieces of graphics bitmap data "Graphics data" stored in the graphics buffer 315 are overlaid on the left-eye image data and the right-eye image data, respectively. At this time, disparity is given to the pieces of graphics bitmap data "Graphics data" respectively overlaid on the left-eye image data and the right-eye image data by the depth control unit 314, on the basis of the first disparity information (Min disparity) corresponding to the display position of the graphics.</p><p id="p0237" num="0237">The depth control unit 314 uses, for the control, the first disparity information about each partitioned area (Partition) for each picture of image data received by the HDMI receiving unit 311, and the display position information about graphics "Graphics rendering position (x1, y1)" generated by the television graphics generating unit 316.</p><p id="p0238" num="0238">The data of a left-eye image on which TV graphics for left-eye display are overlaid, and the data of a right-eye image on which TV graphics for right-eye display are overlaid are obtained from the overlay unit 313. These pieces of image data are transmitted to a processing unit for stereo image display, and stereo image display is performed.</p><p id="p0239" num="0239">Further, the audio data of each channel received by the HDMI receiving unit 311 is supplied to a speaker via the audio processing unit 317 that adjusts sound quality and volume, and audio output is performed in synchronization with stereo image display.</p><heading id="h0019">[Example configuration of HDMI transmitting unit and HDMI receiving unit]</heading><p id="p0240" num="0240"><figref idrefs="f0056">Fig. 58</figref> illustrates an example configuration of the HDMI transmitting unit 251 of the set top box 200 and the HDMI receiving unit 311 of the television receiver 300 in the image transmitting/receiving system 10 in <figref idrefs="f0001">Fig. 1</figref>.</p><p id="p0241" num="0241">The HDMI transmitting unit 251 transmits differential signals<!-- EPO <DP n="69"> --> corresponding to the pixel data of an uncompressed image for one screen to the HDMI receiving unit 311 in a unidirectional manner using a plurality of channels in an effective image period (hereinafter also referred to as an active video period as appropriate). Here, the effective image period is obtained by removing a horizontal blanking period and a vertical blanking period from the period from one vertical synchronization signal to the next vertical synchronization signal. Also, the HDMI transmitting unit 251 transmits differential signals corresponding to at least audio data accompanying an image, control data, other auxiliary data, and the like to the HDMI receiving unit 311 in a unidirectional manner using a plurality of channels in the horizontal blanking period or the vertical blanking period.</p><p id="p0242" num="0242">The transmission channels in the HDMI system including the HDMI transmitting unit 251 and the HDMI receiving unit 311 include the following transmission channels. That is, there are three TMDS channels #0 to #2 serving as transmission channels for serially transmitting pixel data and audio data from the HDMI transmitting unit 251 to the HDMI receiving unit 311 in a unidirectional manner in synchronization with a pixel clock. Also, there is a TMDS clock channel serving as a transmission channel for transmitting a pixel clock.</p><p id="p0243" num="0243">The HDMI transmitting unit 251 includes an HDMI transmitter 81. The transmitter 81 converts pixel data of an uncompressed image into corresponding differential signals and serially transmits them in a unidirectional manner to the HDMI receiving unit 311 connected via the HDMI cable 400 using a plurality of channels, that is, the three TMDS channels #0, #1, and #2, for example.</p><p id="p0244" num="0244">Also, the transmitter 81 converts audio data accompanying an uncompressed image, further, necessary control data, other auxiliary data, and the like into corresponding differential signals, and serially transmits them in a unidirectional manner to the HDMI receiving unit 311 using the three TMDS channels #0, #1, and #2.</p><p id="p0245" num="0245">Furthermore, the transmitter 81 transmits a pixel clock synchronized with the pixel data, which is transmitted using the three TMDS channels #0, #1, and #2, to the HDMI receiving unit 311 connected<!-- EPO <DP n="70"> --> via the HDMI cable 400 using the TMDS clock channel. Here, in one TMDS channel #i (i = 0, 1, or 2), 10-bit pixel data is transmitted in one clock of the pixel clock.</p><p id="p0246" num="0246">The HDMI receiving unit 311 receives the differential signals corresponding to the pixel data, transmitted in a unidirectional manner from the HDMI transmitting unit 251 using the plurality of channels, in the active video period. Also, the HDMI receiving unit 311 receives the differential signals corresponding to audio data and control data, transmitted in a unidirectional manner from the HDMI transmitting unit 251 using the plurality of channels, in the horizontal blanking period or the vertical blanking period.</p><p id="p0247" num="0247">That is, the HDMI receiving unit 311 includes an HDMI receiver 82. The HDMI receiver 82 receives a differential signal corresponding to pixel data and differential signals corresponding to audio data and control data, transmitted in a unidirectional manner from the HDMI transmitting unit 251 using the TMDS channels #0, #1, and #2. In this case, the HDMI receiver 82 receives the differential signals in synchronization with the pixel clock transmitted from the HDMI transmitting unit 251 using the TMDS clock channel.</p><p id="p0248" num="0248">The transmission channels in the HDMI system include transmission channels called a DDC (Display Data Channel) 83 and a CEC line 84, in addition to the above-described TMDS channels #0 to #2 and the TMDS clock channel. The DDC 83 is made up of two signal lines that are included in the HDMI cable 400 and that are not illustrated. The DDC 83 is used by the HDMI transmitting unit 251 to read out E-EDID (Enhanced Extended Display Identification Data) from the HDMI receiving unit 311.</p><p id="p0249" num="0249">That is, the HDMI receiving unit 311 includes, in addition to the HDMI receiver 81, an EDID ROM (Read Only Memory) 85 that stores E-EDID, which is performance information about its performance (Configuration/capability). The HDMI transmitting unit 251 reads out the E-EDID from the HDMI receiving unit 311 connected via the HDMI cable 400 using the DDC 83 in response to a request from a control unit (CPU) that is not illustrated, for example.</p><p id="p0250" num="0250"><!-- EPO <DP n="71"> --> The HDMI transmitting unit 251 transmits the read out E-EDID to the control unit (CPU). The control unit (CPU) is capable of recognizing the setting of the performance of the HDMI receiving unit 311 on the basis of the E-EDID. For example, the control unit (CPU) recognizes whether or not the television receiver 300 including the HDMI receiving unit 311 is capable of handling stereo image data, and if so, further recognizes the TMDS transmission data structure that the television receiver 300 is compatible with.</p><p id="p0251" num="0251">The CEC line 84 is made up of a single signal line (not illustrated) included in the HDMI cable 400, and is used for performing bidirectional communication of control data between the HDMI transmitting unit 251 and the HDMI receiving unit 311. The CEC line 84 constitutes a control data line.</p><p id="p0252" num="0252">Also, the HDMI cable 400 includes a line (HPD line) 86 connected to a pin called an HPD (Hot Plug Detect). A source apparatus is capable of detecting the connection of a sink apparatus using the line 86. Note that the HPD line 86 is also used as an HEAC- line constituting a bidirectional communication path. Also, the HDMI cable 400 includes a line (power supply line) 87 used for supplying power from a source apparatus to a sink apparatus. Furthermore, the HDMI cable 400 includes a utility line 88. The utility line 88 is also used as an HEAC+ line constituting a bidirectional communication path.</p><p id="p0253" num="0253"><figref idrefs="f0057">Fig. 59</figref> illustrates an example structure of TMDS transmission data. <figref idrefs="f0057">Fig. 59</figref> illustrates the periods of respective pieces of transmission data in a case where image data of horizontal 1920 pixels x vertical 1080 lines is transmitted using the TMDS channels #0, #1, and #2.</p><p id="p0254" num="0254">In a video field where transmission data is transmitted using the three TMDS channels #0, #1, and #2 of HDMI, three types of periods exist in accordance with the type of transmission data. The three types of periods include a video data period, a data island period, and a control period.</p><p id="p0255" num="0255">Here, the video field period is a period from a rising edge (active edge) of a certain vertical synchronization signal to a rising<!-- EPO <DP n="72"> --> edge of the next vertical synchronization signal. The video field period may be divided into a horizontal blanking period, a vertical blanking period, and an active video period. The active video period is a period obtained by removing the horizontal blanking period and the vertical blanking period from the video field period.</p><p id="p0256" num="0256">The video data period is allocated to the active video period. In the video data period, the data of active pixels corresponding to 1920 pixels x 1080 lines constituting uncompressed image data for one screen is transmitted.</p><p id="p0257" num="0257">The data island period and the control period are allocated to the horizontal blanking period and the vertical blanking period. In the data island period and the control period, auxiliary data is transmitted. That is, the data island period is allocated to part of the horizontal blanking period and the vertical blanking period. In the data island period, data unrelated to control in the auxiliary data, for example, packets of audio data or the like, are transmitted.</p><p id="p0258" num="0258">The control period is allocated to the other part of the horizontal blanking period and the vertical blanking period. In this control period, data related to control in the auxiliary data, for example, a vertical synchronization signal and a horizontal synchronization signal, control packets, etc. are transmitted.</p><p id="p0259" num="0259"><figref idrefs="f0058">Fig. 60</figref> illustrates an example of a pin array of an HDMI terminal. The pin array illustrated in <figref idrefs="f0058">Fig. 60</figref> is called a type-A. TMDS Data#i+ and TMDS Data#i-, which are differential signals of the TMDS channel #i, are transmitted using two lines serving as differential lines. The two lines are connected to the pins to which TMDS Data#i+ is assigned (the pins having pin numbers 1, 4, and 7) and the pins to which TMDS Data#i- is assigned (the pins having pin numbers 3, 6, and 9).</p><p id="p0260" num="0260">Also, the CEC line 84 through which a CEC signal serving as data for control is transmitted is connected to the pin having a pin number 13. Also, the line through which an SDA (Serial Data) signal, such as E-EDID, is transmitted is connected to the pin having a pin number 16. The line through which an SCL (Serial Clock) signal, which is a clock signal used for synchronization at the transmission/reception of an<!-- EPO <DP n="73"> --> SDA signal, is transmitted is connected to the pin having a pin number 15. The above-described DDC 83 is constituted by a line through which an SDA signal is transmitted and a line through which an SCL signal is transmitted.</p><p id="p0261" num="0261">Also, as described above, the HPD line (HEAC- line) 86 used by a source apparatus to detect the connection of a sink apparatus is connected to the pin having a pin number 19. Also, the utility line (HEAC+ line) 88 is connected to the pin having a pin number 14. Also, as described above, the line 87 for supplying power is connected to the pin having a pin number 18.</p><heading id="h0020">[Method for transmitting/receiving disparity information using HDMI]</heading><p id="p0262" num="0262">A description will be given of a method for transmitting/receiving disparity information (Disparity) about each partitioned area (Partition) for each picture of image data using an HDMI interface. As this method, a method for using an information packet located in a blanking period of image data, for example, HDMI Vender Specific InfoFrame (VS_Info), may be used.</p><p id="p0263" num="0263">In this method, it is assumed that "HDMI_Video_Format = "010"" and "3D_Meta_present = 1" in VS_Info, and "Vendor Specific InfoFrame extension" is specified. In that case, "3D_Metadata_type" is defined as unused, for example, "001", and disparity information (Disparity) about each partitioned area (Partition) is specified.</p><p id="p0264" num="0264"><figref idrefs="f0059">Fig. 61</figref> illustrates an example of the packet structure of VS_Info. The VS_Info is defined in CEA-861-D, and thus the detailed description thereof is omitted. <figref idrefs="f0060">Fig. 62</figref> illustrates the content of main information in the example of the packet structure illustrated in <figref idrefs="f0059">Fig. 61</figref>.</p><p id="p0265" num="0265">In the seventh bit to the fifth bit of the fourth byte (PB4), 3-bit information "HDMI_Video_Format" indicating the type of image data is located. In a case where the image data is 3D image data, the 3-bit information is "010". Also, in a case where the image data is 3D image data, 4-bit information "3D_Structure" indicating a TMDS transmission data structure is located in the seventh bit to the fourth bit of the fifth byte (PB5). For example, in the case of the frame packing method,<!-- EPO <DP n="74"> --> the 4-bit information is "0000".</p><p id="p0266" num="0266">Also, "3D_Meta_present" is located in the third bit of the fifth byte (PB5), and, in the case of specifying Vendor Specific InfoFrame extension, the one bit is "1". Also, "3D_Metadata_type" is located in the seventh bit to the fifth bit of the seventh byte (PB7). In the case of specifying disparity information (Disparity) about each partitioned area (Partition), the 3-bit information is unused, for example, "001".</p><p id="p0267" num="0267">Also, "3D_Metadata_length" is located in the fourth byte to the zeroth byte of the seventh byte (PB7). The 5-bit information indicates the size of disparity information (Disparity) about each partitioned area (Partition). The value of the "3D_Metadata_length" ranges from 0x00 to 0x1F, and the value obtained by adding 2 to the value represents the entire size of the disparity information (Disparity) after this field. For example, "00000" represents 2 (in decimal number) and "11111" represents 33 (in decimal number).</p><p id="p0268" num="0268">Also, 1-bit identification information "PRTY" is located in the zeroth bit of the sixth byte (PB6). The identification information indicates whether or not the VS_Info includes information to be referred to by an HDMI sink side, here, disparity information (Disparity). "1" indicates that information to be referred to by the HDMI sink is absolutely included. "0" indicates that information to be referred to by the HDMI sink is not necessarily included.</p><p id="p0269" num="0269">With the 1-bit identification information "PRTY" being located, the HDMI sink, in this embodiment, the television receiver 300, is capable of determining whether or not VS_Info includes information to be referred to, without examining "3D_Metadata_type" and thereafter. Thus, the identification information enables the HDMI sink to efficiently perform a process of extracting information to be referred to from VS_Info, and accordingly a processing load can be reduced.</p><p id="p0270" num="0270">Also, "partition_type" is located in the seventh bit to the fifth bit of the eighth byte (PB8). The 3-bit information indicates the partition type of the display screen of a target picture. "000" indicates that the display screen is not partitioned, "001" indicates<!-- EPO <DP n="75"> --> that the display screen is partitioned into two equal areas in each of horizontal and vertical directions, and "010" indicates that the display screen is partitioned into four equal areas in each of horizontal and vertical directions.</p><p id="p0271" num="0271">Also, 1-bit identification information "d_picture" is located in the fourth bit of the eighth byte (PB8). The identification information represents a single picture or double picture. "0" represents a single picture, that is, the mode of transmitting disparity information (Disparity) about each partitioned area (Partition) for one picture. "1" represents a double picture, that is, the mode of transmitting disparity information (Disparity) about each partitioned area (Partition) for two pictures.</p><p id="p0272" num="0272">Also, "partition_count" is located in the third bit to the zeroth bit of the eighth byte (PB8). The 4-bit information represents the total number of partitioned areas (Partitions), and is a value dependent on the above-described "partition_type". For example, "0000" represents a total number "1", and "1111" represents a total number "16".</p><p id="p0273" num="0273">Further, from the 8+1-th byte (PB8+1), pieces of disparity information (first disparity information and second disparity information) for one picture or two pictures are sequentially located. The 8-bit information "max_disparity_in_picture" indicates the second disparity information about the entire picture display screen (the entire picture), that is, the maximum disparity information (disparity value) about the entire picture. The 8-bit information "disparity_in_partition" indicates the first disparity information about each partitioned area (Partition), that is, the minimum disparity information (disparity value) about each partitioned area.</p><p id="p0274" num="0274"><figref idrefs="f0061">Fig. 63</figref> illustrates an example structure of VS_Info in a case where "d_picture = 0", that is, the mode is a single-picture mode, and "partition_type = 010", that is, the number of partitioned areas is "16". In this case, disparity information about each partitioned area for one picture is located in the 8+1-th byte (PB8+1) and thereafter. On the other hand, <figref idrefs="f0062">Fig. 64</figref> illustrates an example structure of VS_Info in a case where "d_picture = 1", that is, the mode is a double-picture<!-- EPO <DP n="76"> --> mode, and "partition_type = 010", that is, the number of partitioned areas is "16". In this case, disparity information about each partitioned area for two pictures is located in the 8+1-th byte (PB8+1) and thereafter.</p><p id="p0275" num="0275">As described above, in a case where a video stream includes disparity information inserted thereinto in units of pictures, the set top box 200 obtains disparity information for one picture at the timing of each picture of image data (see <figref idrefs="f0040">Fig. 42</figref>). Further, as described above, in a case where a video stream includes disparity information inserted into in units of GOPs, the set top box 200 collectively obtains pieces of disparity information (disparity information set) for individual pictures in a GOP at the timing of the head of the GOP of image data (see <figref idrefs="f0041">Fig. 43</figref>).</p><p id="p0276" num="0276">In any case, the set top box 200 is capable of arbitrarily selecting either a single-picture mode or a double-picture mode on the basis of, for example, negotiation using the CEC line 84 between the set top box 200 and the television receiver 300, or the setting in the EDID ROM 85. In this case, the set top box 200 is capable of selecting a mode in accordance with a transmission band for transmitting disparity information for each picture or the processing ability of the set top box 200 and the television receiver 300, and is capable of favorably transmitting disparity information to the television receiver 300.</p><p id="p0277" num="0277">In the television receiver 300, disparity information (Disparity) about all pictures can be accurately received in any transmission mode, on the basis of the mode identification information "d_picture" located in VS_Info and the above-described identification information indicating whether or not reference information "PRTY" exists.</p><p id="p0278" num="0278"><figref idrefs="f0063">Fig. 65</figref> schematically illustrates a case where the set top box 200 obtains disparity information for one picture at the timing of each picture of image data, and sequentially transmits pieces of disparity information for individual pictures to the television receiver 300 in a single-picture mode. Also, <figref idrefs="f0064">Fig. 66</figref> schematically illustrates a case where the set top box 200 obtains disparity information for one picture at the timing of each picture of image<!-- EPO <DP n="77"> --> data, and sequentially transmits pieces of disparity information for individual pictures to the television receiver 300 in a double-picture mode.</p><p id="p0279" num="0279">Also, <figref idrefs="f0065">Fig. 67</figref> schematically illustrates a case where the set top box 200 collectively obtains pieces of disparity information for individual pictures in a GOP at the timing of the head of the GOP of image data, and sequentially transmits the pieces of disparity information for the individual pictures to the television receiver 300 in a single-picture mode. Further, <figref idrefs="f0066">Fig. 68</figref> schematically illustrates a case where the set top box 200 collectively obtains pieces of disparity information for individual pictures in a GOP at the timing of the head of the GOP of image data, and sequentially transmits the pieces of disparity information for the individual pictures to the television receiver 300 in a double-picture mode.</p><p id="p0280" num="0280">Note that a description has been given above that the set top box 200 is capable of arbitrarily selecting a single-picture or a double-picture mode. However, for example, in the case of collectively obtaining pieces of disparity information for individual pictures in a GOP at the timing of the head of the GOP of image data, the pieces of disparity information may be transmitted in a single-picture mode. In this case, pieces of disparity information for individual pictures in the GOP are allocated to single pictures, and the pieces of disparity information for individual single pictures are sequentially transmitted in units of pictures (see <figref idrefs="f0065">Fig. 67</figref>). In this case, even if the transmission band for transmitting a piece of disparity information for each picture is narrow, the piece of disparity information for each picture can be favorably transmitted to the television receiver 300.</p><p id="p0281" num="0281">On the other hand, in a case where the set top box 200 is capable of transmitting VS_InfoFrame only once in two video frame periods, or in a case where the television receiver 300 is capable of receiving VS_InfoFrame only once in two video frame periods, disparity information for two video frames may be sequentially transmitted using a single VS_InfoFrame, as illustrated in <figref idrefs="f0064">Fig. 66</figref>.</p><p id="p0282" num="0282">Note that a description has been given above of an example of<!-- EPO <DP n="78"> --> transmitting pieces of disparity information for a first picture and a second picture which are sequentially adjacent to each other as they are, that is, in the state of intra data, in units of two pictures (two frames) in a double-picture mode. However, in the double-picture mode, the disparity information for the first picture or the second picture may be difference data from the disparity information for the immediately preceding picture, so as to reduce the amount of transmission data.</p><p id="p0283" num="0283"><figref idrefs="f0067">Fig. 69</figref> and <figref idrefs="f0068">Fig. 70</figref> illustrate other examples of the packet structure of VS_Info (HDMI Vendor Specific InfoFrame). Although a detailed description is omitted, the structure of the zeroth byte (PB0) to the sixth byte (PB6) is the same as the above-described example of the packet structure illustrated in <figref idrefs="f0059">Fig. 61</figref>. <figref idrefs="f0069">Fig. 71</figref> illustrates the content of main information in the examples of the packet structure illustrated in <figref idrefs="f0067">Fig. 69</figref> and <figref idrefs="f0068">Fig. 70</figref>.</p><p id="p0284" num="0284">In the seventh bit to the fifth bit of the seventh byte (PB7), "3D_Metadata_type" is located. In the case of specifying the disparity information (Disparity) about each partitioned area (Partition), the 3-bit information is unused, for example, "001".</p><p id="p0285" num="0285">Also, in the fourth byte to the zeroth byte of the seventh byte (PB7), "3D_Metadata_length" is located. The 5-bit information indicates the size of disparity information (Disparity) about each partitioned area (Partition). The value of the "3D_Metadata_length" ranges from 0x00 to 0x16. For example, "00011" represents 3 (in decimal number), and "11010" represents 26 (in decimal number).</p><p id="p0286" num="0286">In the seventh bit of the eighth byte (PB8), 1-bit identification information "d_picture" is located. The identification information represents a single picture or a double picture. "0" represents a single picture, that is, the mode of transmitting disparity information (Disparity) for one picture as disparity information (Disparity) about each partitioned area (Partition). "1" represents a double picture, that is, the mode of transmitting disparity information (Disparity) for two pictures as disparity information (Disparity) about each partitioned area (Partition).</p><p id="p0287" num="0287"><!-- EPO <DP n="79"> --> In the fifth bit of the eighth byte (PB8), 1-bit identification information "partition_enable" is located. The identification information indicates whether or not the target picture has disparity information (Disparity) about each partitioned area (Partition). "1" indicates that partitioned areas are specified in the horizontal and vertical directions, and each partitioned area has disparity information (Disparity). "0" indicates that the entire screen has one piece of disparity information (Disparity).</p><p id="p0288" num="0288">In the sixth bit of the eighth byte (PB8), 1-bit identification information "Picture_reorder" is located. The identification information indicates, in the case of transmitting a double picture, which of two pictures (N, N+1) is transmitted first, that is, N is chronologically the first and N+1 is the second, or N+1 is chronologically the first and N is the second. "1" indicates that the (N+1) picture is the first, the value of disparity information (Disparity) is represented by 8 bits, the N picture is the second, and a difference value from the disparity information (Disparity) for the (N-1) picture is represented by 4 bits. "0" indicates that the N picture is the first, the value of disparity information (Disparity) is represented by 8 bits, the (N+1) picture is the second, and a difference value from the disparity information (Disparity) for the N picture is represented by 4 bits.</p><p id="p0289" num="0289">Also, in the third bit to the zeroth bit of the eighth byte (PB8), "partition_count" is located. The 4-bit information represents the total number of partitioned areas (Partitions). For example, "0000" represents a total number "1", and "1111" represents a total number "16".</p><p id="p0290" num="0290">Then, in the 8+1-th byte (PB8+1) and thereafter, pieces of disparity information (first disparity information and second disparity information) for one picture or two pictures are sequentially located. The 8-bit information "max_disparity_in_picture" indicates the second disparity information about the entire picture display screen (the entire picture), that is, the maximum disparity information (disparity value) about the entire picture. The 8-bit information "Min_disparity_in_partition" indicates the first disparity information about the each partitioned area (Partition), that is, the<!-- EPO <DP n="80"> --> minimum disparity information (disparity value) about each partitioned area.</p><p id="p0291" num="0291">The example structure of VS_Info in <figref idrefs="f0067">Fig. 69</figref> illustrates an example structure of VS_Info in a case where "d_picture =1" and the mode is a double-picture mode, and "picture_reorder = 0" and the N picture is chronologically located before the N+1 picture. Note that this example illustrates a case where "partition_count = 1111" and the number of partitioned areas is "16".</p><p id="p0292" num="0292">In this case, "Max_disparity_in_picture", which is the second disparity information about the entire picture display screen in the N picture, that is, the maximum disparity information (disparity value) for the entire picture, is located in the 8+1-th byte (PB8+1). Also, "Min_disparity_in_partition", which is the first disparity information about each partitioned area (Partition) in the N picture, that is, the minimum disparity information (disparity value) for each partitioned area, is located in the 8+2-th byte (PB8+2) to the 8+16-th byte (PB8+16).</p><p id="p0293" num="0293">Also, in this case, "Differential_max_disparity_in_picture", which is the second disparity information about the entire picture display screen in the N+1 picture, that is, the difference data of the maximum disparity information (disparity value) for the entire picture, is located in the third bit to the zeroth bit of the 8+17-th byte (PB8+17). "Differential_min_disparity_in_partition", which is the first disparity information about each partitioned area (Partition) in the N+1 picture, that is, the difference value of the minimum disparity information (disparity value) for each partitioned area, is located in the 8+18-th byte (PB8+18) to the 8+25-th byte (PB8+25).</p><p id="p0294" num="0294">The example structure of VS_Info in <figref idrefs="f0068">Fig. 70</figref> illustrates an example structure of VS_Info in a case where "d_picture =1" and the mode is a double-picture mode, and "picture_reorder = 1" and the N+1 picture is chronologically located before the N picture. Note that this example illustrates a case where "partition_count = 1111" and the number of partitioned areas is "16".</p><p id="p0295" num="0295">In this case, "Max_disparity_in_picture", which is the second<!-- EPO <DP n="81"> --> disparity information about the entire picture display screen in the N+1 picture, that is, the maximum disparity information (disparity value) for the entire picture, is located in the 8+1-th byte (PB8+1). Also, "Min_disparity_in_partition", which is the first disparity information about each partitioned area (Partition) in the N+1 picture, that is, the minimum disparity information (disparity value) for each partitioned area, is located in the 8+2-th byte (PB8+2) to the 8+16-th byte (PB8+16).</p><p id="p0296" num="0296">Also, in this case, "Differential_max_disparity_in_picture", which is the second disparity information about the entire picture display screen in the N picture, that is, the difference data of the maximum disparity information (disparity value) for the entire picture, is located in the third bit to the zeroth bit of the 8+17-th byte (PB8+17). "Differential_min_disparity_in_partition", which is the first disparity information about each partitioned area (Partition) in the N picture, that is, the difference value of the minimum disparity information (disparity value) for each partitioned area, is located in the 8+18-th byte (PB8+18) to the 8+25-th byte (PB8+25).</p><heading id="h0021">[Determination of order of N picture and N+1 picture]</heading><p id="p0297" num="0297">Here, determination of the order of an N picture and an N+1 picture, that is, determination of whether "picture_reorder" is to be "0" or "1", is performed in the following manner, for example. Determination of the order of an N picture and an N+1 picture is performed, for example, with the configuration illustrated in <figref idrefs="f0070">Fig. 72</figref>. Disparity information is supplied to a frame memory 281 and is delayed by one frame. In a subtracter 282, difference data "D(N) - D(N+1)" between disparity information D(N+1) for an N+1 picture and disparity information D(N) for an N picture is calculated, and the difference data is transmitted to an order determining unit 283.</p><p id="p0298" num="0298">In the order determining unit 283, the absolute value of the difference data |D(N) - D(N+1)| is compared with a threshold Th, and the order of the N picture and the N+1 picture is determined. When |D(N) - D(N+1)| ≤ Th, the order determining unit 283 determines that "the N picture is the first and the N+1 picture is the second", sets "picture_reorder" of VS_Info to "0", and locates the disparity information for the N picture and the N+1 picture in VS_Info in the<!-- EPO <DP n="82"> --> manner illustrated in <figref idrefs="f0067">Fig. 69</figref>. In this case, the disparity information for the N+1 picture is difference data with respect to the disparity information for the N picture.</p><p id="p0299" num="0299"><figref idrefs="f0071">Fig. 73</figref> illustrates an example of a temporal transition of disparity information (Disparity value) in a case where |D(N) - D(N+1)| ≤ Th. In this example, disparity information significantly changes between the N-1 picture and the N picture. However, the change in disparity information is small between the N picture and the N+1 picture. Thus, |D(N) - D(N+1) | ≤ Th is satisfied. In this case, the disparity information for N+1 picture is the difference data with respect to the disparity information for the N picture, and thus the value thereof is relatively small.</p><p id="p0300" num="0300">On the other hand, when |D(N) - D(N+1)| &gt; Th, the order determining unit 283 determines that "the N+1 picture is the first and the N picture is the second", sets "picture_reorder" of VS_Info to "0", and locates the disparity information for the N+1 picture and the N picture in VS_Info in the manner illustrated in <figref idrefs="f0068">Fig. 70</figref>. In this case, the disparity information for the N picture is difference data with respect to the disparity information for the N-1 picture.</p><p id="p0301" num="0301"><figref idrefs="f0072">Fig. 74</figref> illustrates an example of a temporal transition of disparity information (Disparity value) in a case where |D(N) - D(N+1) | &gt; Th. In this example, the change in disparity information is small between the N-1 picture and the N picture, but the change in disparity information is large between the N picture and the N+1 picture. Thus, |D(N) - D(N+1) | &gt; Th is satisfied. In this case, the disparity information for the N picture is the difference data with respect to the disparity information for the N-1 picture, and thus the value thereof is relatively small.</p><p id="p0302" num="0302">Here, regarding "Min_disparity_in_partition", minimum values Min_disparity(N+1) and Min_disparity(N) of "Min_disparity_in_partition" of each partitioned area (Partition) are used as D(N+1) and D(N), as expressed by the following equations (2) and (3), respectively.</p><p id="p0303" num="0303"><!-- EPO <DP n="83"> --><maths id="math0002" num="(2)"><math display="block"><mtable columnalign="left"><mtr><mtd><mi mathvariant="normal">D</mi><mo>⁢</mo><mfenced separators=""><mi mathvariant="normal">N</mi><mo>+</mo><mn mathvariant="normal">1</mn></mfenced><mo>=</mo><mi>Min_disparity</mi><mo>⁢</mo><mfenced separators=""><mi mathvariant="normal">N</mi><mo>+</mo><mn mathvariant="normal">1</mn></mfenced></mtd></mtr><mtr><mtd><mo>=</mo><mi>Minimum</mi><mspace width="1em"/><mfenced separators=""><mi>Min_disparity_partition</mi><mspace width="1em"/><mfenced separators=""><mi mathvariant="normal">N</mi><mo>+</mo><mn mathvariant="normal">1</mn><mi mathvariant="normal">_</mi><mn mathvariant="normal">0</mn><mo>,</mo><mspace width="1em"/><mi mathvariant="normal">N</mi><mo>+</mo><mn mathvariant="normal">1</mn><mi mathvariant="normal">_</mi><mn mathvariant="normal">1</mn><mo>,</mo><mo>-</mo><mo>-</mo><mo>,</mo><mi mathvariant="normal">N</mi><mo>+</mo><mn mathvariant="normal">1</mn><mi mathvariant="normal">_</mi><mn mathvariant="normal">15</mn></mfenced></mfenced></mtd></mtr></mtable></math><img id="ib0002" file="imgb0002.tif" wi="165" he="24" img-content="math" img-format="tif"/></maths><maths id="math0003" num="(3)"><math display="block"><mtable columnalign="left"><mtr><mtd><mi mathvariant="normal">D</mi><mfenced><mi mathvariant="normal">N</mi></mfenced></mtd><mtd><mo>=</mo><mi>Min_disparity</mi><mfenced><mi mathvariant="normal">N</mi></mfenced></mtd></mtr><mtr><mtd><mspace width="1em"/></mtd><mtd><mo>=</mo><mi>Minimum</mi><mspace width="1em"/><mfenced separators=""><mi>Min_disparity_parttion</mi><mo>⁢</mo><mfenced separators=""><mi>N_</mi><mn mathvariant="normal">0</mn><mo>,</mo><mspace width="1em"/><mi>N_</mi><mn mathvariant="normal">1</mn><mo>,</mo><mo>-</mo><mo>-</mo><mo>,</mo><mi>N_</mi><mn mathvariant="normal">15</mn></mfenced></mfenced></mtd></mtr></mtable></math><img id="ib0003" file="imgb0003.tif" wi="165" he="18" img-content="math" img-format="tif"/></maths><br/>
Note that, regarding D(N), "Min_disparity_partition" of the N picture in the same partitioned area (Partition) as "Min_disparity_partition", which is Min_disparity (N+1) adopted as D(N+1) in the foregoing equation (2), may be used instead of obtaining it by using the foregoing equation (3).</p><p id="p0304" num="0304">On the other hand, regarding "Max_disparity_in_picture", "Max_disparity_in_picture" of the N+1 picture is used as D(N+1), and "Max_disparity_in_picture" of the N picture is used as D(N). Note that, regarding a determination result of comparison between |D(N) - D(N+1)| and Th, if the result regarding "Min_disparity_in_partition" does not match the result regarding "Max_disparity_in_picture", the result regarding "Min_disparity_in_partition" may be preferentially used.</p><p id="p0305" num="0305">Note that, in the above-described example structure of VS_Info illustrated in <figref idrefs="f0068">Fig. 70</figref>, the N+1 picture is chronologically located before the N picture. In this way, the structure from the 8+1-th byte (PB8+1) to the 8+25-th byte (PB+25) becomes the same as the example structure of VS_Info in <figref idrefs="f0067">Fig. 69</figref>, in which the N picture is chronologically located before the N+1 picture, and thus reading is stably performed on a receiving side. However, in the example structure of VS_Info illustrated in <figref idrefs="f0068">Fig. 70</figref>, the positions of the disparity information for the N+1 picture and the disparity information for the N picture may be reversed.</p><p id="p0306" num="0306">Also, in the description given above, an example in which the set top box 200 is capable of selecting a single-picture or a double-picture mode has been described. However, plural-picture mode may be used instead of the double-picture mode, and the number of pictures may be arbitrarily selected. Further, there may be a case where the number of selectable modes is three or more. In that case, it is possible to change the number of partitioned areas (partitions) to an appropriate number on the HDMI source side so that transmission can be performed in a given band.<!-- EPO <DP n="84"> --></p><p id="p0307" num="0307">As described above, in the image transmitting/receiving system 10 illustrated in <figref idrefs="f0001">Fig. 1</figref>, the broadcast station 100 inserts first disparity information and second disparity information that are obtained for each of certain pictures of image data into a video stream, and transmits the video stream. Here, the first disparity information is disparity information corresponding to the nearest object reproduction position in a certain area of a picture display screen, and the second disparity information is disparity information corresponding to the farthest object reproduction position in the certain area of the picture display screen. Thus, for example, on the basis of the first disparity information and the second disparity information, the set top box 200 on a receiving side is capable of checking whether or not a disparity angle is within a certain range in which viewing does not cause any health problems, and reconfiguring left-eye image data and right-eye image data if necessary.</p><p id="p0308" num="0308">Further, in the image transmitting/receiving system 10 illustrated in <figref idrefs="f0001">Fig. 1</figref>, the broadcast station 100 performs a process of compression encoding on disparity information when inserting the disparity information obtained for each of certain pictures of image data into a video stream and transmitting the video stream, and the amount of data can be reduced.</p><heading id="h0022">&lt;2. Modification&gt;</heading><p id="p0309" num="0309">Note that, in the above-described embodiment, the image transmitting/receiving system 10 is constituted by the broadcast station 100, the set top box 200, and the television receiver 300. However, as illustrates in <figref idrefs="f0073">Fig. 75</figref>, an image transmitting/receiving system 10A constituted by the broadcast station 100 and a television receiver 300A may be employed.</p><p id="p0310" num="0310"><figref idrefs="f0074">Fig. 76</figref> illustrates an example configuration of the television receiver 300A. In <figref idrefs="f0074">Fig. 76</figref>, the parts corresponding to those in <figref idrefs="f0043">Fig. 45</figref> are denoted by the same reference numerals, and the detailed description thereof is omitted. A television (TV) graphics generating unit 219A is similar to the set top box (STB) graphics generating unit 219 of the set top box 200 in <figref idrefs="f0043">Fig. 45</figref>, and generates graphics data of OSD, an application, EPG, or the like.<!-- EPO <DP n="85"> --></p><p id="p0311" num="0311">From the overlay unit 217, data of a left-eye image on which a subtitle (caption) and graphics for left-eye display are overlaid is obtained, and also data of a right-eye image on which a subtitle (caption) and graphics for right-eye display are overlaid is obtained. These pieces of image data are transmitted to a processing unit for stereo image display, and stereo image display is performed. Also, in the channel mixing unit 244, audio data of each channel for realizing, for example, 5.1 channel surround or the like, is generated from audio data. The audio data is supplied to, for example, a speaker, and audio output is performed in accordance with stereo image display.</p><p id="p0312" num="0312">Although a detailed description is omitted, the other part of the television receiver 300A illustrated in <figref idrefs="f0074">Fig. 76</figref> is configured similarly to the set top box 200 in <figref idrefs="f0043">Fig. 45</figref>, and operates similarly.</p><p id="p0313" num="0313">Also, in the above-described embodiment, the set top box 200 and the television receiver 300 are connected to each other via an HDMI digital interface. However, even in a case where they are connected to each other via a digital interface similar to the HDMI digital interface (including wireless as well as wired), the present technology is of course applicable in the same manner.</p><p id="p0314" num="0314">Also, in the above-described embodiment, a method for using an HDMI Vendor Specific InfoFrame has been described as a method for transmitting disparity information from the set top box 200 to the television receiver 300. Alternatively, a method for using an active space may be used, and furthermore, transmission may be performed through a bidirectional communication path constituted by the HPD line 86 (HEAC- line) and the utility line 88 (HEAC+ line).</p><p id="p0315" num="0315">Also, in the above-described embodiment, an example in which disparity information is transmitted from the set top box 200 to the television receiver 300 via an HDMI interface has been described. However, the technology of transmitting disparity information via an HDMI interface in this way is of course applicable to a combination of another type of source apparatus and another type of sink apparatus. For example, a disc player for a BD, a DVD, or the like, and a game machine may be used as a source apparatus, and a monitor apparatus, a<!-- EPO <DP n="86"> --> projector apparatus, or the like may be used as a sink apparatus.</p><p id="p0316" num="0316">Also, in the above-described embodiment, an example in which a container is a transport stream (MPEG-2 TS) has been described. However, the present technology is also applicable to a system having a configuration in which distribution to a receiving terminal is performed using a network, such as the Internet. In distribution on the Internet, a container of MP4 or another format may be used for distribution in many cases.</p><p id="p0317" num="0317">That is, as a container, containers of various formats, such as a transport stream (MPEG-2 TS) adopted in digital broadcast standards, and MP4 used for distribution on the Internet, may be used. Also, application in which a method for supplying a single service is divided into a plurality of methods, and the individual methods are performed in different transmission forms, that is, a case where one of views is transmitted by radio waves and the other view is transmitted on the Internet, may be employed.</p><p id="p0318" num="0318">In addition, the present technology may also provide the following configurations.
<ol><li>(1) A transmitting apparatus including:
<ul><li>an image data obtaining unit that obtains left-eye image data and right-eye image data which form a stereo image;</li><li>a disparity information obtaining unit that obtains, for each of certain pictures of the obtained image data, disparity information about one of a left-eye image and a right-eye image with respect to the other, the disparity information including first disparity information corresponding to the nearest object reproduction position in a certain area of a picture display screen, and second disparity information corresponding to the farthest object reproduction position in the certain area of the picture display screen;</li><li>a disparity information inserting unit that inserts the obtained disparity information into a video stream which is obtained by encoding the obtained image data; and</li><li>an image data transmitting unit that transmits a container of a certain format, the container including the video stream into which the disparity information has been inserted.</li></ul></li><li>(2) The transmitting apparatus according to (1), wherein the<!-- EPO <DP n="87"> --> disparity information inserting unit inserts the first disparity information and the second disparity information in units of pictures or in units of GOPs.</li><li>(3) The transmitting apparatus according to (1) or (2), wherein the disparity information inserting unit inserts the obtained disparity information into the video stream after performing a compression encoding process.</li><li>(4) The transmitting apparatus according to any of (1) to (3),<br/>
wherein the disparity information inserting unit further inserts, when inserting the disparity information into a certain picture in the video steam, identification information identifying whether the disparity information is disparity information about the entire picture display screen or disparity information about each of a certain number of partitioned areas.</li><li>(5) The transmitting apparatus according to any of (1) to (4),<br/>
wherein the disparity information obtaining unit obtains the first disparity information about each of partitioned areas that are obtained by partitioning the picture display screen using partition information, and also obtains the second disparity information about the entire picture display screen.</li><li>(6) The transmitting apparatus according to any of (1) to (4),<br/>
wherein the disparity information obtaining unit obtains the first disparity information and the second disparity information about each of partitioned areas that are obtained by partitioning the picture display screen using partition information.</li><li>(7) The transmitting apparatus according to any of (1) to (4),<br/>
wherein the disparity information obtaining unit obtains the first disparity information about each of partitioned areas that are obtained by partitioning the picture display screen using first partition information, and also obtains the second disparity information about each of partitioned areas that are obtained by partitioning the picture display screen using second partition information.</li><li>(8) A transmitting method including:
<ul><li>a step of obtaining left-eye image data and right-eye image data which form a stereo image;</li><li>a step of obtaining, for each of certain pictures of the obtained image data, disparity information about one of a left-eye image and a right-eye image with respect to the other, the disparity information<!-- EPO <DP n="88"> --> including first disparity information corresponding to the nearest object reproduction position in a certain area of a picture display screen, and second disparity information corresponding to the farthest object reproduction position in the certain area of the picture display screen;</li><li>a step of inserting the obtained disparity information into a video stream which is obtained by encoding the obtained image data; and</li><li>a step of transmitting a container of a certain format, the container including the video stream into which the disparity information has been inserted.</li></ul></li><li>(9) A receiving apparatus including:
<ul><li>an image data receiving unit that receives a container of a certain format, the container including a video stream,</li><li>wherein the video stream is obtained by encoding left-eye image data and right-eye image data which form a stereo image, and</li><li>wherein the video stream includes inserted thereinto, for each of certain pictures of the image data, disparity information about one of a left-eye image and a right-eye image with respect to the other, the disparity information including first disparity information corresponding to the nearest object reproduction position in a certain area of a picture display screen, and second disparity information corresponding to the farthest object reproduction position in the certain area of the picture display screen,</li><li>the receiving apparatus further including:
<ul><li>an information obtaining unit that obtains the left-eye image data and the right-eye image data and also obtains the first disparity information and the second disparity information from the video stream included in the container; and</li><li>a control unit that provides an instruction to reconfigure the left-eye image data and the right-eye image data so that a disparity angle is within a certain range, on the basis of the obtained first disparity information and second disparity information.</li></ul></li></ul></li><li>(10) A transmitting apparatus including:
<ul><li>an image data obtaining unit that obtains left-eye image data and right-eye image data which form a stereo image;</li><li>a disparity information obtaining unit that obtains, for each of certain pictures of the obtained image data, disparity information about one of a left-eye image and a right-eye image with respect to<!-- EPO <DP n="89"> --> the other;</li><li>a compression encoding unit that performs a compression encoding process on the obtained disparity information;</li><li>a disparity information inserting unit that inserts the compression-encoded disparity information into a video stream which is obtained by encoding the obtained image data; and</li><li>an image data transmitting unit that transmits a container of a certain format, the container including the video stream into which the disparity information has been inserted.</li></ul></li><li>(11) The transmitting apparatus according to (10), wherein the compression encoding unit performs, as the compression encoding process, a process using a variable-length code on the obtained disparity information about the individual pictures.</li><li>(12) The transmitting apparatus according to (11), wherein the compression encoding unit performs, as the compression encoding process, a process of obtaining difference data between a reference picture and a referenced picture among the obtained individual pictures, and performing variable-length encoding on the difference data.</li><li>(13) The transmitting apparatus according to (12), wherein the compression encoding unit obtains difference data by regarding a preceding picture in display order as a referenced picture.</li><li>(14) The transmitting apparatus according to (12), wherein the compression encoding unit obtains difference data by regarding a preceding picture in decoding order as a referenced picture.</li><li>(15) The transmitting apparatus according to any of (12) to (14), wherein the disparity information inserting unit further inserts, when inserting the disparity information into a certain picture in the video stream, identification information identifying whether the inserted disparity information is intra data or difference data.</li><li>(16) The transmitting apparatus according to (14), wherein the disparity information inserting unit<br/>
inserts the disparity information for an I picture, a P picture, and a referenced B picture in the video stream, and<br/>
in a case where the inserted disparity information is difference data, further inserts information representing the number of pictures up to a referenced picture.</li><li>(17) A transmitting method including:
<ul><li>a step of obtaining left-eye image data and right-eye image data<!-- EPO <DP n="90"> --> which form a stereo image;</li><li>a step of obtaining, for each of certain pictures of the obtained image data, disparity information about one of a left-eye image and a right-eye image with respect to the other;</li><li>a step of performing a compression encoding process on the obtained disparity information;</li><li>a step of inserting the compression-encoded disparity information into a video stream which is obtained by encoding the obtained image data; and</li><li>a step of transmitting a container of a certain format, the container including the video stream into which the disparity information has been inserted.</li></ul></li><li>(18) A receiving apparatus including:
<ul><li>an image data receiving unit that receives a container of a certain format, the container including a video stream,</li><li>wherein the video stream is obtained by encoding left-eye image data and right-eye image data which form a stereo image, and</li><li>wherein the video stream includes inserted thereinto, for each of certain pictures of the image data, disparity information about one of a left-eye image and a right-eye image with respect to the other,</li><li>the receiving apparatus further including:
<ul><li>an information obtaining unit that obtains the left-eye image data and the right-eye image data and also obtains the disparity information from the video stream included in the container; and</li><li>a disparity information interpolating unit that generates disparity information about a picture for which the disparity information obtained by the information obtaining unit does not exist, by performing interpolation using the obtained disparity information about a preceding picture and a subsequent picture.</li></ul></li></ul></li><li>(19) A receiving apparatus including:
<ul><li>an image data receiving unit that receives a container of a certain format, the container including a video stream,</li><li>wherein the video stream is obtained by encoding left-eye image data and right-eye image data which form a stereo image, and</li><li>wherein the video stream includes inserted thereinto, for each of certain pictures of the image data, disparity information about one of a left-eye image and a right-eye image with respect to the other, the disparity information including first disparity information corresponding to the nearest object reproduction position in a certain<!-- EPO <DP n="91"> --> area of a picture display screen, and second disparity information corresponding to the farthest object reproduction position in the certain area of the picture display screen,</li><li>the receiving apparatus further including:
<ul><li>an information obtaining unit that obtains the left-eye image data and the right-eye image data and also obtains the first disparity information and the second disparity information from the video stream included in the container; and</li><li>a transmitting unit that transmits, to an external apparatus, the obtained left-eye image data and right-eye image data and the obtained first disparity information and second disparity information in association with each other.</li></ul></li></ul></li><li>(20) The receiving apparatus according to (19), further including:
<ul><li>an information reconfiguration unit that reconfigures image data and disparity information so that a disparity angle is within a certain range, on the basis of the obtained first disparity information and second disparity information,</li><li>wherein the transmitting unit transmits, to the external apparatus, the reconfigured left-eye image data and right-eye image data and the reconfigured first disparity information and second disparity information in association with each other.</li></ul></li><li>(21) The receiving apparatus according to (1) or (20),<br/>
wherein the transmitting unit transmits, in units of two pictures, disparity information about a first picture and a second picture which are sequentially adjacent to each other, and<br/>
wherein at least the disparity information about the first picture or the second picture is difference data with respect to disparity information about an immediately preceding picture.</li><li>(22) The receiving apparatus according to (21), further including:
<ul><li>a determining unit that determines, on the basis of difference data between the disparity information about the first picture and the disparity information about the second picture, which of the disparity information about the first picture and the disparity information about the second picture is to be difference data.</li></ul></li><li>(23) The receiving apparatus according to (22), wherein the disparity information transmitted by the transmitting unit includes, added thereto, identification information indicating whether the<!-- EPO <DP n="92"> --> disparity information about the first picture is difference data and whether the disparity information about the second picture is difference data.</li></ol></p><p id="p0319" num="0319">Main features of the present technology are as follows. A maximum value (second disparity information) and a minimum value (first disparity information) of disparity information obtained for each picture are inserted into a video stream and the video stream is transmitted, so that whether or not a disparity angle is within a certain range in which viewing does not cause any health problems can be checked on a receiving side (see <figref idrefs="f0007">Fig. 8</figref> and <figref idrefs="f0014">Fig. 15</figref>). Also, in the case of inserting disparity information obtained for each picture into a video stream and transmitting the video stream, a process of compression encoding is performed on the disparity information, so as to reduce the amount of data (see <figref idrefs="f0023">Fig. 24</figref>). Also, in the case of transmitting pieces of disparity information for two sequential pictures in units of two pictures to an external apparatus using HDMI, disparity information for one of the pictures is difference data with respect to the immediately preceding picture, so that the amount of transmission data is reduced (see <figref idrefs="f0067">Fig. 69</figref>).</p><heading id="h0023">Reference Signs List</heading><p id="p0320" num="0320"><ul><li>10, 10A image transmitting/receiving system</li><li>100 broadcast station</li><li>110, 110A transmission data generating unit</li><li>111L, 111R image data output unit</li><li>112L, 112R scaler</li><li>113 video encoder</li><li>114 multiplexer</li><li>115 disparity data generating unit</li><li>116 subtitle data output unit</li><li>117 subtitle encoder</li><li>118 audio data output unit</li><li>119 audio encoder</li><li>120 compression encoding unit</li><li>121 buffer</li><li>122 subtracter</li><li>123 variable-length encoding unit</li><li>200 set top box<!-- EPO <DP n="93"> --></li><li>211 container buffer</li><li>212 demultiplexer</li><li>213 coded buffer</li><li>214 video decoder</li><li>215 decoded buffer</li><li>216 scaler</li><li>217 overlay unit</li><li>218 disparity information buffer</li><li>219 set top box (STB) graphics buffer</li><li>219A television (TV) graphics buffer</li><li>220 depth control unit</li><li>221 graphics buffer</li><li>231 coded buffer</li><li>232 subtitle decoder</li><li>233 pixel buffer</li><li>234 subtitle disparity information buffer</li><li>235 subtitle display control unit</li><li>241 coded buffer</li><li>242 audio decoder</li><li>243 audio buffer</li><li>244 channel mixing unit</li><li>251 HDMI transmitting unit</li><li>261 compression decoding unit</li><li>262 disparity information control unit</li><li>263 L/R reconfiguration unit</li><li>264 variable-length decoding unit</li><li>265 buffer</li><li>266 adder</li><li>271 maximum value obtaining unit</li><li>272 minimum value obtaining unit</li><li>273 disparity angle checking unit</li><li>274 disparity information correcting unit</li><li>281 frame memory</li><li>282 subtracter</li><li>283 order determining unit</li><li>300, 300A television receiver</li><li>311 HDMI receiving unit</li><li>312 scaler</li><li>313 overlay unit<!-- EPO <DP n="94"> --></li><li>314 depth control unit</li><li>315 graphics buffer</li><li>316 television (TV) graphics generating unit</li><li>317 audio processing unit</li><li>400 HDMI cable</li></ul></p></description><claims mxw-id="PCLM56982270" lang="EN" load-source="patent-office"><!-- EPO <DP n="95"> --><claim id="c-en-0001" num="0001"><claim-text>A transmitting apparatus comprising:
<claim-text>an image data obtaining unit that obtains left-eye image data and right-eye image data which form a stereo image;</claim-text>
<claim-text>a disparity information obtaining unit that obtains, for each of certain pictures of the obtained image data, disparity information about one of a left-eye image and a right-eye image with respect to the other, the disparity information including first disparity information corresponding to the nearest object reproduction position in a certain area of a picture display screen, and second disparity information corresponding to the farthest object reproduction position in the certain area of the picture display screen;</claim-text>
<claim-text>a disparity information inserting unit that inserts the obtained disparity information into a video stream which is obtained by encoding the obtained image data; and</claim-text>
<claim-text>an image data transmitting unit that transmits a container of a certain format, the container including the video stream into which the disparity information has been inserted.</claim-text></claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>The transmitting apparatus according to Claim 1, wherein the disparity information inserting unit inserts the first disparity information and the second disparity information in units of pictures or in units of GOPs.</claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>The transmitting apparatus according to Claim 1, wherein the disparity information inserting unit inserts the obtained disparity information into the video stream after performing a compression encoding process.</claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>The transmitting apparatus according to Claim 1, wherein the disparity information inserting unit further inserts, when inserting the disparity information into a certain picture in the video steam, identification information identifying whether the disparity information is disparity information about the entire picture display screen or disparity information about each of a certain number of partitioned areas.</claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>The transmitting apparatus according to Claim 1, wherein the<!-- EPO <DP n="96"> --> disparity information obtaining unit obtains the first disparity information about each of partitioned areas that are obtained by partitioning the picture display screen using partition information, and also obtains the second disparity information about the entire picture display screen.</claim-text></claim><claim id="c-en-0006" num="0006"><claim-text>The transmitting apparatus according to Claim 1, wherein the disparity information obtaining unit obtains the first disparity information and the second disparity information about each of partitioned areas that are obtained by partitioning the picture display screen using partition information.</claim-text></claim><claim id="c-en-0007" num="0007"><claim-text>The transmitting apparatus according to Claim 1, wherein the disparity information obtaining unit obtains the first disparity information about each of partitioned areas that are obtained by partitioning the picture display screen using first partition information, and also obtains the second disparity information about each of partitioned areas that are obtained by partitioning the picture display screen using second partition information.</claim-text></claim><claim id="c-en-0008" num="0008"><claim-text>A transmitting method comprising:
<claim-text>a step of obtaining left-eye image data and right-eye image data which form a stereo image;</claim-text>
<claim-text>a step of obtaining, for each of certain pictures of the obtained image data, disparity information about one of a left-eye image and a right-eye image with respect to the other, the disparity information including first disparity information corresponding to the nearest object reproduction position in a certain area of a picture display screen, and second disparity information corresponding to the farthest object reproduction position in the certain area of the picture display screen;</claim-text>
<claim-text>a step of inserting the obtained disparity information into a video stream which is obtained by encoding the obtained image data; and</claim-text>
<claim-text>a step of transmitting a container of a certain format, the container including the video stream into which the disparity information has been inserted.</claim-text></claim-text></claim><claim id="c-en-0009" num="0009"><claim-text>A receiving apparatus comprising:<!-- EPO <DP n="97"> -->
<claim-text>an image data receiving unit that receives a container of a certain format, the container including a video stream,</claim-text>
<claim-text>wherein the video stream is obtained by encoding left-eye image data and right-eye image data which form a stereo image, and</claim-text>
<claim-text>wherein the video stream includes inserted thereinto, for each of certain pictures of the image data, disparity information about one of a left-eye image and a right-eye image with respect to the other, the disparity information including first disparity information corresponding to the nearest object reproduction position in a certain area of a picture display screen, and second disparity information corresponding to the farthest object reproduction position in the certain area of the picture display screen,</claim-text>
<claim-text>the receiving apparatus further comprising:
<claim-text>an information obtaining unit that obtains the left-eye image data and the right-eye image data and also obtains the first disparity information and the second disparity information from the video stream included in the container; and</claim-text>
<claim-text>a control unit that provides an instruction to reconfigure the left-eye image data and the right-eye image data so that a disparity angle is within a certain range, on the basis of the obtained first disparity information and second disparity information.</claim-text></claim-text></claim-text></claim><claim id="c-en-0010" num="0010"><claim-text>A transmitting apparatus comprising:
<claim-text>an image data obtaining unit that obtains left-eye image data and right-eye image data which form a stereo image;</claim-text>
<claim-text>a disparity information obtaining unit that obtains, for each of certain pictures of the obtained image data, disparity information about one of a left-eye image and a right-eye image with respect to the other;</claim-text>
<claim-text>a compression encoding unit that performs a compression encoding process on the obtained disparity information;</claim-text>
<claim-text>a disparity information inserting unit that inserts the compression-encoded disparity information into a video stream which is obtained by encoding the obtained image data; and</claim-text>
<claim-text>an image data transmitting unit that transmits a container of a certain format, the container including the video stream into which the disparity information has been inserted.</claim-text></claim-text></claim><claim id="c-en-0011" num="0011"><claim-text>The transmitting apparatus according to Claim 10, wherein the<!-- EPO <DP n="98"> --> compression encoding unit performs, as the compression encoding process, a process using a variable-length code on the obtained disparity information about the individual pictures.</claim-text></claim><claim id="c-en-0012" num="0012"><claim-text>The transmitting apparatus according to Claim 11, wherein the compression encoding unit performs, as the compression encoding process, a process of obtaining difference data between a reference picture and a referenced picture among the obtained individual pictures, and performing variable-length encoding on the difference data.</claim-text></claim><claim id="c-en-0013" num="0013"><claim-text>The transmitting apparatus according to Claim 12, wherein the compression encoding unit obtains difference data by regarding a preceding picture in display order as a referenced picture.</claim-text></claim><claim id="c-en-0014" num="0014"><claim-text>The transmitting apparatus according to Claim 12, wherein the compression encoding unit obtains difference data by regarding a preceding picture in decoding order as a referenced picture.</claim-text></claim><claim id="c-en-0015" num="0015"><claim-text>The transmitting apparatus according to Claim 12, wherein the disparity information inserting unit further inserts, when inserting the disparity information into a certain picture in the video stream, identification information identifying whether the inserted disparity information is intra data or difference data.</claim-text></claim><claim id="c-en-0016" num="0016"><claim-text>The transmitting apparatus according to Claim 14, wherein the disparity information inserting unit<br/>
inserts the disparity information for an I picture, a P picture, and a referenced B picture in the video stream, and<br/>
in a case where the inserted disparity information is difference data, further inserts information representing the number of pictures up to a referenced picture.</claim-text></claim><claim id="c-en-0017" num="0017"><claim-text>A transmitting method comprising:
<claim-text>a step of obtaining left-eye image data and right-eye image data which form a stereo image;</claim-text>
<claim-text>a step of obtaining, for each of certain pictures of the obtained image data, disparity information about one of a left-eye image and a right-eye image with respect to the other;<!-- EPO <DP n="99"> --></claim-text>
<claim-text>a step of performing a compression encoding process on the obtained disparity information;</claim-text>
<claim-text>a step of inserting the compression-encoded disparity information into a video stream which is obtained by encoding the obtained image data; and</claim-text>
<claim-text>a step of transmitting a container of a certain format, the container including the video stream into which the disparity information has been inserted.</claim-text></claim-text></claim><claim id="c-en-0018" num="0018"><claim-text>A receiving apparatus comprising:
<claim-text>an image data receiving unit that receives a container of a certain format, the container including a video stream,</claim-text>
<claim-text>wherein the video stream is obtained by encoding left-eye image data and right-eye image data which form a stereo image, and</claim-text>
<claim-text>wherein the video stream includes inserted thereinto, for each of certain pictures of the image data, disparity information about one of a left-eye image and a right-eye image with respect to the other,</claim-text>
<claim-text>the receiving apparatus further comprising:
<claim-text>an information obtaining unit that obtains the left-eye image data and the right-eye image data and also obtains the disparity information from the video stream included in the container; and</claim-text>
<claim-text>a disparity information interpolating unit that generates disparity information about a picture for which the disparity information obtained by the information obtaining unit does not exist, by performing interpolation using the obtained disparity information about a preceding picture and a subsequent picture.</claim-text></claim-text></claim-text></claim><claim id="c-en-0019" num="0019"><claim-text>A receiving apparatus comprising:
<claim-text>an image data receiving unit that receives a container of a certain format, the container including a video stream,</claim-text>
<claim-text>wherein the video stream is obtained by encoding left-eye image data and right-eye image data which form a stereo image, and</claim-text>
<claim-text>wherein the video stream includes inserted thereinto, for each of certain pictures of the image data, disparity information about one of a left-eye image and a right-eye image with respect to the other, the disparity information including first disparity information corresponding to the nearest object reproduction position in a certain area of a picture display screen, and second disparity information corresponding to the farthest object reproduction position in the<!-- EPO <DP n="100"> --> certain area of the picture display screen,</claim-text>
<claim-text>the receiving apparatus further comprising:
<claim-text>an information obtaining unit that obtains the left-eye image data and the right-eye image data and also obtains the first disparity information and the second disparity information from the video stream included in the container; and</claim-text>
<claim-text>a transmitting unit that transmits, to an external apparatus, the obtained left-eye image data and right-eye image data and the obtained first disparity information and second disparity information in association with each other.</claim-text></claim-text></claim-text></claim><claim id="c-en-0020" num="0020"><claim-text>The receiving apparatus according to Claim 19, further comprising:
<claim-text>an information reconfiguration unit that reconfigures image data and disparity information so that a disparity angle is within a certain range, on the basis of the obtained first disparity information and second disparity information,</claim-text>
<claim-text>wherein the transmitting unit transmits, to the external apparatus, the reconfigured left-eye image data and right-eye image data and the reconfigured first disparity information and second disparity information in association with each other.</claim-text></claim-text></claim><claim id="c-en-0021" num="0021"><claim-text>The receiving apparatus according to Claim 19,<br/>
wherein the transmitting unit transmits, in units of two pictures, disparity information about a first picture and a second picture which are sequentially adjacent to each other, and<br/>
wherein at least the disparity information about the first picture or the second picture is difference data with respect to disparity information about an immediately preceding picture.</claim-text></claim><claim id="c-en-0022" num="0022"><claim-text>The receiving apparatus according to Claim 21, further comprising:
<claim-text>a determining unit that determines, on the basis of difference data between the disparity information about the first picture and the disparity information about the second picture, which of the disparity information about the first picture and the disparity information about the second picture is to be difference data.</claim-text></claim-text></claim><claim id="c-en-0023" num="0023"><claim-text>The receiving apparatus according to Claim 22, wherein the<!-- EPO <DP n="101"> --> disparity information transmitted by the transmitting unit includes, added thereto, identification information indicating whether the disparity information about the first picture is difference data and whether the disparity information about the second picture is difference data.</claim-text></claim></claims><drawings mxw-id="PDW16670655" load-source="patent-office"><!-- EPO <DP n="102"> --><figure id="f0001" num="1,2"><img id="if0001" file="imgf0001.tif" wi="165" he="227" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="103"> --><figure id="f0002" num="3"><img id="if0002" file="imgf0002.tif" wi="147" he="221" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="104"> --><figure id="f0003" num="4(a),4(b),4(c),4(d)"><img id="if0003" file="imgf0003.tif" wi="159" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="105"> --><figure id="f0004" num="5"><img id="if0004" file="imgf0004.tif" wi="165" he="226" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="106"> --><figure id="f0005" num="6"><img id="if0005" file="imgf0005.tif" wi="165" he="219" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="107"> --><figure id="f0006" num="7(a),7(b),7(c)"><img id="if0006" file="imgf0006.tif" wi="165" he="222" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="108"> --><figure id="f0007" num="8"><img id="if0007" file="imgf0007.tif" wi="165" he="198" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="109"> --><figure id="f0008" num="9"><img id="if0008" file="imgf0008.tif" wi="165" he="230" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="110"> --><figure id="f0009" num="10(a),10(b)"><img id="if0009" file="imgf0009.tif" wi="164" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="111"> --><figure id="f0010" num="11(a),11(b)"><img id="if0010" file="imgf0010.tif" wi="165" he="228" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="112"> --><figure id="f0011" num="12(a),12(b)"><img id="if0011" file="imgf0011.tif" wi="151" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="113"> --><figure id="f0012" num="13(a),13(b)"><img id="if0012" file="imgf0012.tif" wi="163" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="114"> --><figure id="f0013" num="14(a),14(b)"><img id="if0013" file="imgf0013.tif" wi="165" he="221" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="115"> --><figure id="f0014" num="15"><img id="if0014" file="imgf0014.tif" wi="139" he="210" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="116"> --><figure id="f0015" num="16"><img id="if0015" file="imgf0015.tif" wi="144" he="217" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="117"> --><figure id="f0016" num="17"><img id="if0016" file="imgf0016.tif" wi="161" he="214" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="118"> --><figure id="f0017" num="18"><img id="if0017" file="imgf0017.tif" wi="165" he="188" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="119"> --><figure id="f0018" num="19(a),19(b),19(c)"><img id="if0018" file="imgf0018.tif" wi="100" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="120"> --><figure id="f0019" num="20"><img id="if0019" file="imgf0019.tif" wi="165" he="218" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="121"> --><figure id="f0020" num="21"><img id="if0020" file="imgf0020.tif" wi="165" he="219" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="122"> --><figure id="f0021" num="22"><img id="if0021" file="imgf0021.tif" wi="165" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="123"> --><figure id="f0022" num="23(a),23(b)"><img id="if0022" file="imgf0022.tif" wi="155" he="231" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="124"> --><figure id="f0023" num="24"><img id="if0023" file="imgf0023.tif" wi="165" he="210" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="125"> --><figure id="f0024" num="25,26"><img id="if0024" file="imgf0024.tif" wi="165" he="218" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="126"> --><figure id="f0025" num="27(a),27(b)"><img id="if0025" file="imgf0025.tif" wi="165" he="230" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="127"> --><figure id="f0026" num="28(a),28(b)"><img id="if0026" file="imgf0026.tif" wi="163" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="128"> --><figure id="f0027" num="29(a),29(b)"><img id="if0027" file="imgf0027.tif" wi="161" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="129"> --><figure id="f0028" num="30(a),30(b)"><img id="if0028" file="imgf0028.tif" wi="162" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="130"> --><figure id="f0029" num="31(a),31(b)"><img id="if0029" file="imgf0029.tif" wi="156" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="131"> --><figure id="f0030" num="32"><img id="if0030" file="imgf0030.tif" wi="134" he="216" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="132"> --><figure id="f0031" num="33"><img id="if0031" file="imgf0031.tif" wi="135" he="223" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="133"> --><figure id="f0032" num="34"><img id="if0032" file="imgf0032.tif" wi="158" he="216" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="134"> --><figure id="f0033" num="35"><img id="if0033" file="imgf0033.tif" wi="163" he="216" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="135"> --><figure id="f0034" num="36"><img id="if0034" file="imgf0034.tif" wi="165" he="212" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="136"> --><figure id="f0035" num="37"><img id="if0035" file="imgf0035.tif" wi="161" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="137"> --><figure id="f0036" num="38"><img id="if0036" file="imgf0036.tif" wi="149" he="225" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="138"> --><figure id="f0037" num="39"><img id="if0037" file="imgf0037.tif" wi="147" he="139" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="139"> --><figure id="f0038" num="40"><img id="if0038" file="imgf0038.tif" wi="157" he="230" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="140"> --><figure id="f0039" num="41"><img id="if0039" file="imgf0039.tif" wi="165" he="218" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="141"> --><figure id="f0040" num="42"><img id="if0040" file="imgf0040.tif" wi="135" he="219" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="142"> --><figure id="f0041" num="43"><img id="if0041" file="imgf0041.tif" wi="145" he="229" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="143"> --><figure id="f0042" num="44(a),44(b)"><img id="if0042" file="imgf0042.tif" wi="163" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="144"> --><figure id="f0043" num="45"><img id="if0043" file="imgf0043.tif" wi="150" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="145"> --><figure id="f0044" num="46"><img id="if0044" file="imgf0044.tif" wi="165" he="110" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="146"> --><figure id="f0045" num="47(a),47(b)"><img id="if0045" file="imgf0045.tif" wi="165" he="226" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="147"> --><figure id="f0046" num="48"><img id="if0046" file="imgf0046.tif" wi="158" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="148"> --><figure id="f0047" num="49"><img id="if0047" file="imgf0047.tif" wi="165" he="229" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="149"> --><figure id="f0048" num="50"><img id="if0048" file="imgf0048.tif" wi="165" he="200" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="150"> --><figure id="f0049" num="51"><img id="if0049" file="imgf0049.tif" wi="165" he="221" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="151"> --><figure id="f0050" num="52"><img id="if0050" file="imgf0050.tif" wi="165" he="223" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="152"> --><figure id="f0051" num="53"><img id="if0051" file="imgf0051.tif" wi="165" he="227" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="153"> --><figure id="f0052" num="54"><img id="if0052" file="imgf0052.tif" wi="165" he="130" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="154"> --><figure id="f0053" num="55"><img id="if0053" file="imgf0053.tif" wi="165" he="213" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="155"> --><figure id="f0054" num="56"><img id="if0054" file="imgf0054.tif" wi="165" he="209" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="156"> --><figure id="f0055" num="57"><img id="if0055" file="imgf0055.tif" wi="165" he="215" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="157"> --><figure id="f0056" num="58"><img id="if0056" file="imgf0056.tif" wi="165" he="210" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="158"> --><figure id="f0057" num="59"><img id="if0057" file="imgf0057.tif" wi="165" he="195" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="159"> --><figure id="f0058" num="60"><img id="if0058" file="imgf0058.tif" wi="136" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="160"> --><figure id="f0059" num="61"><img id="if0059" file="imgf0059.tif" wi="165" he="221" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="161"> --><figure id="f0060" num="62"><img id="if0060" file="imgf0060.tif" wi="164" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="162"> --><figure id="f0061" num="63"><img id="if0061" file="imgf0061.tif" wi="165" he="227" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="163"> --><figure id="f0062" num="64"><img id="if0062" file="imgf0062.tif" wi="165" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="164"> --><figure id="f0063" num="65"><img id="if0063" file="imgf0063.tif" wi="151" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="165"> --><figure id="f0064" num="66"><img id="if0064" file="imgf0064.tif" wi="143" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="166"> --><figure id="f0065" num="67"><img id="if0065" file="imgf0065.tif" wi="152" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="167"> --><figure id="f0066" num="68"><img id="if0066" file="imgf0066.tif" wi="142" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="168"> --><figure id="f0067" num="69"><img id="if0067" file="imgf0067.tif" wi="165" he="223" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="169"> --><figure id="f0068" num="70"><img id="if0068" file="imgf0068.tif" wi="165" he="231" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="170"> --><figure id="f0069" num="71"><img id="if0069" file="imgf0069.tif" wi="160" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="171"> --><figure id="f0070" num="72"><img id="if0070" file="imgf0070.tif" wi="165" he="119" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="172"> --><figure id="f0071" num="73"><img id="if0071" file="imgf0071.tif" wi="165" he="209" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="173"> --><figure id="f0072" num="74"><img id="if0072" file="imgf0072.tif" wi="165" he="201" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="174"> --><figure id="f0073" num="75"><img id="if0073" file="imgf0073.tif" wi="132" he="100" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="175"> --><figure id="f0074" num="76"><img id="if0074" file="imgf0074.tif" wi="162" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="176"> --><figure id="f0075" num="77"><img id="if0075" file="imgf0075.tif" wi="151" he="148" img-content="drawing" img-format="tif"/></figure></drawings><search-report-data><doc-page id="srep0001" file="srep0001.tif" wi="165" he="232" type="tif"/><doc-page id="srep0002" file="srep0002.tif" wi="165" he="232" type="tif"/></search-report-data><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
