<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2681876-A1" country="EP" doc-number="2681876" kind="A1" date="20140108" family-id="46753241" file-reference-id="318301" date-produced="20180823" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146586412" ucid="EP-2681876-A1"><document-id><country>EP</country><doc-number>2681876</doc-number><kind>A1</kind><date>20140108</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-12708629-A" is-representative="NO"><document-id mxw-id="PAPP154848604" load-source="docdb" format="epo"><country>EP</country><doc-number>12708629</doc-number><kind>A</kind><date>20120302</date><lang>EN</lang></document-id><document-id mxw-id="PAPP220440094" load-source="docdb" format="original"><country>EP</country><doc-number>12708629.6</doc-number><date>20120302</date><lang>EN</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140555437" ucid="US-201161448525-P" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>201161448525</doc-number><kind>P</kind><date>20110302</date></document-id></priority-claim><priority-claim mxw-id="PPC140555064" ucid="US-2012027583-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>2012027583</doc-number><kind>W</kind><date>20120302</date></document-id></priority-claim><priority-claim mxw-id="PPC140553826" ucid="US-201213408964-A" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>201213408964</doc-number><kind>A</kind><date>20120229</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-1832250286" load-source="docdb">H04W  92/02        20090101ALI20170328BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1832250287" load-source="docdb">H04W  88/06        20090101ALI20170328BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1832250288" load-source="docdb">H04W  28/08        20090101ALI20170328BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1832250289" load-source="docdb">H04L  12/46        20060101AFI20170328BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-2081672959" load-source="docdb" scheme="CPC">H04W  88/06        20130101 LI20150324BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2081673727" load-source="docdb" scheme="CPC">H04L  12/4633      20130101 LI20150324BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2081679381" load-source="docdb" scheme="CPC">H04W  28/08        20130101 FI20150324BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2081684373" load-source="docdb" scheme="CPC">H04W  92/02        20130101 LI20150324BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132363869" lang="DE" load-source="patent-office">ARCHITEKTUR FÜR WLAN-OFFLOAD IN EINER DRAHTLOSEN VORRICHTUNG</invention-title><invention-title mxw-id="PT132363870" lang="EN" load-source="patent-office">ARCHITECTURE FOR WLAN OFFLOAD IN A WIRELESS DEVICE</invention-title><invention-title mxw-id="PT132363871" lang="FR" load-source="patent-office">ARCHITECTURE POUR LA DÉCHARGE DU RÉSEAU LOCAL SANS FIL DANS UN DISPOSITIF SANS FIL</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR919523906" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>QUALCOMM INC</last-name><address><country>US</country></address></addressbook></applicant><applicant mxw-id="PPAR919510819" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>QUALCOMM INCORPORATED</last-name></addressbook></applicant><applicant mxw-id="PPAR919009135" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Qualcomm Incorporated</last-name><iid>101331414</iid><address><street>5775 Morehouse Drive</street><city>San Diego, CA 92121</city><country>US</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR919541137" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>PAYYAPPILLY AJITH TOM</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR919514757" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>PAYYAPPILLY, AJITH TOM</last-name></addressbook></inventor><inventor mxw-id="PPAR919011191" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>PAYYAPPILLY, AJITH TOM</last-name><address><street>5775 Morehouse Drive</street><city>San Diego, California 92121</city><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR919512213" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>VANGALA VENKATA SATISH KUMAR</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR919541964" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>VANGALA, VENKATA SATISH KUMAR</last-name></addressbook></inventor><inventor mxw-id="PPAR919005922" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>VANGALA, VENKATA SATISH KUMAR</last-name><address><street>5775 Morehouse Drive</street><city>San Diego, California 92121</city><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR919509809" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>NAMBURI SHANTA PAVAN</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR919506044" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>NAMBURI, SHANTA PAVAN</last-name></addressbook></inventor><inventor mxw-id="PPAR919014901" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>NAMBURI, SHANTA PAVAN</last-name><address><street>5775 Morehouse Drive</street><city>San Diego, California 92121</city><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR919516511" load-source="docdb" sequence="4" format="epo"><addressbook><last-name>ZHAO SULI</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR919504198" load-source="docdb" sequence="4" format="intermediate"><addressbook><last-name>ZHAO, SULI</last-name></addressbook></inventor><inventor mxw-id="PPAR919006244" load-source="patent-office" sequence="4" format="original"><addressbook><last-name>ZHAO, SULI</last-name><address><street>5775 Morehouse Drive</street><city>San Diego, California 92121</city><country>US</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR919014396" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Wegner, Hans</last-name><iid>101259466</iid><address><street>Bardehle Pagenberg Partnerschaft mbB Patentanwälte, Rechtsanwälte Prinzregentenplatz 7</street><city>81675 München</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="US-2012027583-W"><document-id><country>US</country><doc-number>2012027583</doc-number><kind>W</kind><date>20120302</date><lang>EN</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2012119119-A1"><document-id><country>WO</country><doc-number>2012119119</doc-number><kind>A1</kind><date>20120907</date><lang>EN</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS549770608" load-source="docdb">AL</country><country mxw-id="DS549760256" load-source="docdb">AT</country><country mxw-id="DS549770617" load-source="docdb">BE</country><country mxw-id="DS549851849" load-source="docdb">BG</country><country mxw-id="DS549838065" load-source="docdb">CH</country><country mxw-id="DS549914753" load-source="docdb">CY</country><country mxw-id="DS549760261" load-source="docdb">CZ</country><country mxw-id="DS549770618" load-source="docdb">DE</country><country mxw-id="DS549914754" load-source="docdb">DK</country><country mxw-id="DS549914755" load-source="docdb">EE</country><country mxw-id="DS549838505" load-source="docdb">ES</country><country mxw-id="DS549851858" load-source="docdb">FI</country><country mxw-id="DS549838399" load-source="docdb">FR</country><country mxw-id="DS549770619" load-source="docdb">GB</country><country mxw-id="DS549914756" load-source="docdb">GR</country><country mxw-id="DS549770620" load-source="docdb">HR</country><country mxw-id="DS549760262" load-source="docdb">HU</country><country mxw-id="DS549838070" load-source="docdb">IE</country><country mxw-id="DS549914757" load-source="docdb">IS</country><country mxw-id="DS549838400" load-source="docdb">IT</country><country mxw-id="DS549914758" load-source="docdb">LI</country><country mxw-id="DS549851859" load-source="docdb">LT</country><country mxw-id="DS549760638" load-source="docdb">LU</country><country mxw-id="DS549851860" load-source="docdb">LV</country><country mxw-id="DS549851861" load-source="docdb">MC</country><country mxw-id="DS549760639" load-source="docdb">MK</country><country mxw-id="DS549760640" load-source="docdb">MT</country><country mxw-id="DS549851866" load-source="docdb">NL</country><country mxw-id="DS549838401" load-source="docdb">NO</country><country mxw-id="DS549851867" load-source="docdb">PL</country><country mxw-id="DS549838071" load-source="docdb">PT</country><country mxw-id="DS549770625" load-source="docdb">RO</country><country mxw-id="DS549838072" load-source="docdb">RS</country><country mxw-id="DS549851868" load-source="docdb">SE</country><country mxw-id="DS549838510" load-source="docdb">SI</country><country mxw-id="DS549838410" load-source="docdb">SK</country><country mxw-id="DS549851869" load-source="docdb">SM</country><country mxw-id="DS549914759" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data><office-specific-data><eptags><ep-no-a-document-published>*</ep-no-a-document-published></eptags></office-specific-data></bibliographic-data><abstract mxw-id="PA99830888" ref-ucid="WO-2012119119-A1" lang="EN" load-source="patent-office"><p num="0000">Architecture for performing WLAN offload in a wireless device is disclosed. In an exemplary embodiment, an apparatus includes an application section configured to form IP packets from data to be transmitted, a modem section configured to apply a cellular protocol to the IP packets to form cellular protocol packets, an endpoint configured to encapsulate the cellular protocol packets to form outer IP tunnel packets, and a WLAN interface configured to transmit the outer IP tunnel packets over a WLAN communication channel.In another exemplary embodiment, an apparatus includes a WLAN interface configured to receive outer IP tunnel packets over a WLAN communication channel, an endpoint configured to extract cellular protocol packets from the outer IP tunnel packets, a modem processor configured to remove a cellular protocol from the cellular protocol packets to form IP packets, and an application processor configured to extract received data from the IP packets.</p></abstract><abstract mxw-id="PA100327712" ref-ucid="WO-2012119119-A1" lang="EN" source="national office" load-source="docdb"><p>Architecture for performing WLAN offload in a wireless device is disclosed. In an exemplary embodiment, an apparatus includes an application section configured to form IP packets from data to be transmitted, a modem section configured to apply a cellular protocol to the IP packets to form cellular protocol packets, an endpoint configured to encapsulate the cellular protocol packets to form outer IP tunnel packets, and a WLAN interface configured to transmit the outer IP tunnel packets over a WLAN communication channel.In another exemplary embodiment, an apparatus includes a WLAN interface configured to receive outer IP tunnel packets over a WLAN communication channel, an endpoint configured to extract cellular protocol packets from the outer IP tunnel packets, a modem processor configured to remove a cellular protocol from the cellular protocol packets to form IP packets, and an application processor configured to extract received data from the IP packets.</p></abstract><abstract mxw-id="PA99830889" ref-ucid="WO-2012119119-A1" lang="FR" load-source="patent-office"><p num="0000">L'invention porte sur une architecture pour exécuter la décharge du réseau local sans fil (WLAN) dans un dispositif sans fil. Dans un mode de réalisation cité à titre d'exemple, un appareil comprend une section d'application configurée pour former des paquets IP à partir de données devant être transmises, une section modem configurée pour appliquer un protocole cellulaire aux paquets IP afin de former des paquets en mode protocole cellulaire, un point d'extrémité configuré pour encapsuler les paquets en mode protocole cellulaire afin de former des paquets en mode tunnel IP externe, et une interface WLAN configurée pour transmettre les paquets en mode tunnel IP externe sur un canal de communication WLAN. Dans un autre mode de réalisation cité à titre d'exemple, un appareil comprend une interface WLAN configurée pour recevoir des paquets en mode tunnel IP externe sur un canal de communication WLAN, un point d'extrémité configuré pour extraire des paquets en mode protocole cellulaire à partir des paquets en mode tunnel IP externe, un processeur de modem configuré pour retirer un protocole cellulaire des paquets en mode protocole cellulaire afin de former des paquets IP, et un processeur d'application configuré pour extraire des données reçues des paquets IP.</p></abstract><abstract mxw-id="PA100327713" ref-ucid="WO-2012119119-A1" lang="FR" source="national office" load-source="docdb"><p>L'invention porte sur une architecture pour exécuter la décharge du réseau local sans fil (WLAN) dans un dispositif sans fil. Dans un mode de réalisation cité à titre d'exemple, un appareil comprend une section d'application configurée pour former des paquets IP à partir de données devant être transmises, une section modem configurée pour appliquer un protocole cellulaire aux paquets IP afin de former des paquets en mode protocole cellulaire, un point d'extrémité configuré pour encapsuler les paquets en mode protocole cellulaire afin de former des paquets en mode tunnel IP externe, et une interface WLAN configurée pour transmettre les paquets en mode tunnel IP externe sur un canal de communication WLAN. Dans un autre mode de réalisation cité à titre d'exemple, un appareil comprend une interface WLAN configurée pour recevoir des paquets en mode tunnel IP externe sur un canal de communication WLAN, un point d'extrémité configuré pour extraire des paquets en mode protocole cellulaire à partir des paquets en mode tunnel IP externe, un processeur de modem configuré pour retirer un protocole cellulaire des paquets en mode protocole cellulaire afin de former des paquets IP, et un processeur d'application configuré pour extraire des données reçues des paquets IP.</p></abstract><description mxw-id="PDES51232392" ref-ucid="WO-2012119119-A1" lang="EN" load-source="patent-office"><!-- EPO <DP n="3"/>--><p id="p0001" num="0001"> ARCHITECTURE FOR WLAN OFFLOAD IN A WIRELESS DEVICE </p><p id="p0002" num="0002">CLAIM TO PRIORITY </p><p id="p0003" num="0003">[0001] This patent application claims the benefit of priority from U.S. Provisional Patent Application No. 61/448,525, entitled "SYSTEM AND METHOD FOR WLAN OFFLOAD IN A DUAL PROCESSOR SMART PHONE" filed on March 2, 201 1 and assigned to the assignee hereof and hereby expressly incorporated by reference herein. </p><p id="p0004" num="0004">BACKGROUND </p><p id="p0005" num="0005"> Field </p><p id="p0006" num="0006"> [0002] The present application relates generally to the design and operation of wireless devices, and more particularly, to a wireless device providing WLAN offload. </p><p id="p0007" num="0007">Background </p><p id="p0008" num="0008"> [0003] Wireless devices are becoming increasingly more sophisticated and offer many advantages over previous generations. Devices know as "smart phones" are now available that provide not only communication functions, but can also download and execute applications to provide additional features and functionality. It is now common to find smart phones that include a dual processor chipset, where a modem processor provides support for cellular communications and an applications processor provides a user interface, executes applications, and supports wireless local area network (WLAN) communications. </p><p id="p0009" num="0009"> [0004] As more wireless devices are placed into operation, network overloading is becoming an increasing concern for cellular network operators. For example, many operators provide custom services so that wireless devices utilizing those services typically need to connect back to the operator's home network. Thus, the types of services offered by network providers also have contributed to the increase in network loading. </p><p id="p0010" num="0010"> [0005] One technique used to address cellular network overloading is referred to as "Fixed mobile convergence" or "WLAN offload." For example, when a wireless device is in a WLAN coverage area, data that would normally be transmitted over the cellular 
<!-- EPO <DP n="4"/>-->
 network is offloaded to the WLAN network, thereby decreasing the loading on the cellular network. When the wireless device moves out of the WLAN coverage area, data services to the core cellular network use the cellular network as the air-interface. </p><p id="p0011" num="0011">[0006] Some network operators currently provide WLAN offload solutions. For example, in one implementation, an application executing on the device is configured to determine which air-interface is available for the application to use to communicate with the cellular home network. The application then has to specify to the Operating System which technology to use and the Operating system has to format the packets with the appropriate protocol and forward the packets for transmission using the determined air-interface. Such operation by an application is inefficient and may require modifications or updates to the operating system and/or applications that execute on the device. </p><p id="p0012" num="0012"> [0007] Unfortunately, there are several additional issues that are not satisfactorily addressed by existing techniques for providing efficient WLAN offload. For example, WLAN offload should operate independently from the processor configurations provided by different handset venders. WLAN offload should also operate independently from the operating system (OS) running on the wireless device and independently of the cellular technology used by the cellular network. Furthermore, end-user applications should not even be aware of whether the underlying air-interface used for transporting packets to and from the core network is the cellular air-interface or the WLAN air-interface. </p><p id="p0013" num="0013"> [0008] Therefore, it would be desirable to have a device architecture that facilitates efficient WLAN offload and which overcomes the problems addressed above. </p><p id="p0014" num="0014">SUMMARY </p><p id="p0015" num="0015"> [0009] In various exemplary embodiments, a novel architecture is provided for WLAN offload in a wireless device. </p><p id="p0016" num="0016"> [0010] In an aspect, apparatus is provided for performing WLAN offload. The apparatus comprises an application section configured to form IP packets from data to be transmitted, a modem section configured to apply a cellular protocol to the IP packets to form cellular protocol packets, an endpoint configured to encapsulate the 
<!-- EPO <DP n="5"/>-->
 cellular protocol packets to form outer IP tunnel packets, and a WLAN interface configured to transmit the outer IP tunnel packets over a WLAN communication channel. </p><p id="p0017" num="0017"> [0011] In an aspect, a method is provided for performing WLAN offload. The method comprises forming IP packets from data to be transmitted, applying a cellular protocol to the IP packets to form cellular protocol packets, encapsulating the cellular protocol packets to form outer IP tunnel packets, and transmitting the outer IP tunnel packets over a WLAN communication channel. </p><p id="p0018" num="0018"> [0012] In an aspect, apparatus is provided for performing WLAN offload. The apparatus comprises means for forming IP packets from data to be transmitted, means for applying a cellular protocol to the IP packets to form cellular protocol packets, means for encapsulating the cellular protocol packets to form outer IP tunnel packets, and means for transmitting the outer IP tunnel packets over a WLAN communication channel. </p><p id="p0019" num="0019"> [0013] In an aspect, a computer program product is provided for performing WLAN offload. The computer program product comprises a non-transitory computer readable medium embodying codes executable by a processor to form IP packets from data to be transmitted, apply a cellular protocol to the IP packets to form cellular protocol packets, encapsulate the cellular protocol packets to form outer IP tunnel packets, and transmit the outer IP tunnel packets over a WLAN communication channel. </p><p id="p0020" num="0020">[0014] In an aspect, apparatus is provided for performing WLAN offload. The apparatus comprises a WLAN interface configured to receive outer IP tunnel packets over a WLAN communication channel, an endpoint configured to extract cellular protocol packets from the outer IP tunnel packets, a modem processor configured to remove a cellular protocol from the cellular protocol packets to form IP packets, and an application processor configured to extract received data from the IP packets. </p><p id="p0021" num="0021">[0015] In still another aspect, a method is provided for performing WLAN offload. The method comprises receiving outer IP tunnel packets over a WLAN communication channel, extracting cellular protocol packets from the outer IP tunnel packets, removing a cellular protocol from the cellular protocol packets to form IP packets, and extracting received data from the IP packets. 
<!-- EPO <DP n="6"/>-->
 BRIEF DESCRIPTION OF THE DRAWINGS </p><p id="p0022" num="0022">[0016] The foregoing aspects described herein will become more readily apparent by reference to the following description when taken in conjunction with the accompanying drawings wherein: </p><p id="p0023" num="0023"> [0017] FIG. 1 shows an exemplary communication network that comprises a device having an exemplary embodiment of a novel WLAN offload architecture; </p><p id="p0024" num="0024">[0018] FIG. 2 shows a device that comprises an exemplary embodiment of the </p><p id="p0025" num="0025"> WLAN offload architecture; </p><p id="p0026" num="0026">[0019] FIG. 3 shows an exemplary embodiment of a network configuration comprising a device and the novel WLAN offload architecture that operates to provide WLAN offload; </p><p id="p0027" num="0027">[0020] FIG. 4 shows exemplary embodiment of protocol stacks for use with the </p><p id="p0028" num="0028"> WLAN offload architecture; </p><p id="p0029" num="0029">[0021] FIG. 5 shows an exemplary embodiment of a call flow for use with the </p><p id="p0030" num="0030"> WLAN offload architecture; </p><p id="p0031" num="0031">[0022] FIG. 6 shows an exemplary implementation of a WLAN offload architecture; </p><p id="p0032" num="0032"> [0023] FIGS. 7-18 show exemplary embodiments of message formats for use with the WLAN offload architecture; </p><p id="p0033" num="0033">[0024] FIG. 19 shows an exemplary method for transmitting data for use in exemplary embodiments of a WLAN offload architecture; </p><p id="p0034" num="0034">[0025] FIG. 20 shows an exemplary method for receiving data for use in exemplary embodiments of a WLAN offload architecture; </p><p id="p0035" num="0035">[0026] FIG. 21 shows an exemplary apparatus for performing WLAN offload; and </p><p id="p0036" num="0036">[0027] FIG. 22 shows an exemplary apparatus for performing WLAN offload. </p><p id="p0037" num="0037">DETAILED DESCRIPTION </p><p id="p0038" num="0038">[0028] The detailed description set forth below in connection with the appended drawings is intended as a description of exemplary embodiments of the invention and is not intended to represent the only embodiments in which the invention can be practiced. 
<!-- EPO <DP n="7"/>-->
 The term "exemplary" used throughout this description means "serving as an example, instance, or illustration," and should not necessarily be construed as preferred or advantageous over other exemplary embodiments. The detailed description includes specific details for the purpose of providing a thorough understanding of the exemplary embodiments of the invention. It will be apparent to those skilled in the art that the exemplary embodiments of the invention may be practiced without these specific details. In some instances, well known structures and devices are shown in block diagram form in order to avoid obscuring the novelty of the exemplary embodiments presented herein. </p><p id="p0039" num="0039"> [0029] FIG. 1 shows an exemplary communication network 100 that comprises a device 102 having an exemplary embodiment of a novel WLAN offload architecture 118. The device 102 is configured to communicate with a cellular base station 104 using a cellular channel 106. The device 102 is also configured to communicate with a WLAN hotspot 108 using WLAN channel 110. The cellular base station 104 is connected to a cellular network 112, which provides communication and data services to the device 102. The hotspot 108 is connected to the Internet 114, which can provide a variety of services to the device 102. Link 116 allows communication between the cellular network 112 and the Internet 114. </p><p id="p0040" num="0040"> [0030] The device 102 comprises the novel WLAN offload architecture 118 that is configured to offload cellular data communications from the cellular channel 106 to the WLAN communication channel 110. For example, during times when the device 102 is in the coverage area of the hotspot 108, the WLAN offload architecture 118 operates on the device 102 to route traffic to the cellular home network 112 through the hotspot 108 and the Internet 114. The result is that traffic congestion on the cellular network is reduced. </p><p id="p0041" num="0041"> [0031] In various exemplary embodiments, the WLAN offload architecture 118 is configured to provide WLAN offload independent from the processor configuration provided by the wireless device 102. The WLAN offload architecture 118 operates independent of the OS running on the wireless device 102 and independent of the cellular technology used to provide the cellular communication channel 106. Furthermore, applications running on the device 102 are not aware of whether the 
<!-- EPO <DP n="8"/>-->
 underlying air-interface used for transporting packets to and from the core network 112 is the cellular air- interface channel 106 or the WLAN air- interface channel 110. The design and operation of the WLAN offload architecture is described in more detail below. </p><p id="p0042" num="0042"> [0032] Thus, a novel WLAN offload architecture is provided that is operable to provide packet data services between a device and a cellular network using WLAN offload. For example, the novel architecture 118 operates to offload packet data traffic based on WLAN availability to relieve congestion on the cellular air-interface. The architecture can be modified and/or extended to provide WLAN offload regardless of the cellular technology or carrier. It is also applicable to any operating system or applications running on the device 102. </p><p id="p0043" num="0043"> [0033] FIG. 2 shows a device 200 that comprises an exemplary embodiment of a novel WLAN offload architecture. For example, the device 200 is suitable for use as the device 102 shown in FIG. 1. The device 200 comprises an application section 202 and a modem section 204. The application section 202 comprises an operating system module 206 that operates to execute applications 230 on the device 200. For example, the operating system module 206 runs an OS such as WindowsMobile, Android, LIMO, MeeGo, or other suitable OS. The operating system module 206 is connected to communicate with a WLAN interface 212 that provides WLAN communication with a WLAN hotspot using WLAN channel 224. The operating system module 206 is also connected to communicate with a modem interface 208. The modem interface 208 communicates with the modem section 204 using pipeline memory 222 to send and receive packets using a cellular channel 226 provided by the modem section 204. </p><p id="p0044" num="0044">[0034] The modem section 204 comprises an operating system module 214 that operates to apply communication protocols 232 to packets for transmission. For example, the protocols support various wireless technologies such as all 3gpp technologies LTE/UMTS/GSM or all 3gpp2 technologies EHRPD/EVDO/lx/IS95. In another embodiment, the protocols support all the technologies LTE/UMTS/GSM/EHRPD/EVDO/lx/IS95 to provide multimode operation. The operation system module 214 is connected to communicate with a cellular interface 220. 
<!-- EPO <DP n="9"/>-->
 The cellular interface 220 provides cellular communication with a cellular base station using the cellular channel 226 and a communication protocol. </p><p id="p0045" num="0045"> [0035] An offload module 216 is connected between the memory 222 and the operating system module 214. The offload module 216 receives data from the applications section 202 that is to be transmitted over the cellular network using the cellular interface 220. The offload module 216 is also connected to a modem endpoint 218. The modem endpoint 218 communicates with an applications endpoint 210 using the memory 222. The offload module 216 operates to route data to the operating system module 214 or the modem endpoint 218. </p><p id="p0046" num="0046"> [0036] During operation, the device 102 operates to provide WLAN offload to reduce congestion on a cellular network. For example, an application 230 communicates with the operating system 206 to output data for transmission on the cellular network. For example, data packets originating from the application 230 are processed by the operating system 206 and travel down an IP stack to form IP packets. The IP packets follow path 228. The data is received by the modem interface 208 which forwards the data to modem section 204 using the memory 222. </p><p id="p0047" num="0047">[0037] The offload module 216 receives the data from the memory 222 and makes a decision as to whether the data is to be transmitted on the cellular network or an available WLAN network. For example, the offload module 216 is aware of the current network connections available to the device and makes the decision based on the available connections. </p><p id="p0048" num="0048"> [0038] In an exemplary embodiment, the offload module 216 determines that the data is to be transmitted on the cellular network and forwards the data to the operating system 214. The operating system 214 applies the appropriate protocols and forwards the packets to the cellular interface 220 for transmission over the cellular channel 226. </p><p id="p0049" num="0049">[0039] In another exemplary embodiment, the offload module 216 determines that the data is to be transmitted over an available WLAN channel 224. The offload module then processes the IP packets to apply appropriate cellular carrier proprietary layers and/or cellular 3gpp/3gpp2 protocols. For example, the offload module 216 may communicate with the operating system 214 to apply the appropriate protocols to the packets. Thus, the packets now have carrier proprietary and/or 3gpp/3gpp2 layer 
<!-- EPO <DP n="10"/>-->
 headers on them. The offload module 216 passes the data to the modem endpoint 218 where the data is then forwarded through the memory 222 to the application endpoint 210. </p><p id="p0050" num="0050"> [0040] The application endpoint 210 applies additional IP protocols and passed the data to the WLAN interface 212, which transmits the data over the available WLAN channel 224 to the Internet. For example, the application endpoint 210 encapsulates the packets in outer tunnel IP packets and sends these outer IP tunnel packets to the WLAN interface 212 to be sent out over the WLAN channel 224 to the Internet. Once received at the Internet, the data is forwarded by a selected gateway to the cellular home network based on the applied protocols. </p><p id="p0051" num="0051"> [0041] It should be noted that the modules and functional blocks of the device 200 can be implemented in hardware and/or by hardware executing software. Accordingly, in various exemplary implementations, each of the application section 202 and the modem section 204 can be implemented by one or more processors executing the appropriate software. For example, in an exemplary embodiment, the operating system modules 206 and 214 comprise at least one of a processor, CPU, gate-array, discrete hardware, logic, memory, and/or any other suitable hardware, all of which are configured to perform the functions describe herein by operating in a standalone mode and/or by executing one or more sets of instructions or codes stored or embodied in a memory. </p><p id="p0052" num="0052"> [0042] Thus, the WLAN offload architecture of the device 200 operates to off load a cellular network by transmitting data over an available WLAN channel. The process is reversed for data received over the WLAN channel from the cellular home network. For example, data received over the WLAN channel 224 is encapsulated in the appropriate IP and cellular protocols. The data flows from the WLAN interface 212 along path 228 in the reverse direction where IP protocol headers are removed at the application endpoint 210 and cellular protocol headers are removed at the modem endpoint 218 and offload module 216. The received data then flows back through the memory 222 to the modem interface 208 and finally to the operating system 206 that passes the data to the appropriate application 230. A more detailed description of the operation of the novel WLAN offload architecture is provided below. 
<!-- EPO <DP n="11"/>-->
 [0043] FIG. 3 shows an exemplary embodiment of a network configuration 300 comprising the device 102 and the novel WLAN offload architecture 118 that operates to provide WLAN offload. During intervals when a WLAN channel 302 is available to device 102 via a WLAN hotspot 310, the offload architecture 118 provides communication with a cellular home network 304 using the WLAN channel 302 and WLAN hotspot 310 to reduce overloading on cellular channels. </p><p id="p0053" num="0053"> [0044] During WLAN offload, the offload architecture 118 operates at the device 102 to establish communication with wPDIF 308 of the cellular home network 304. The wPDIF 308 communicates with a PDSN 310. Also shown are cellular base station 314 and AN-AAA 316. During packet routing on a reverse link, an IP header is used to get the packet to the gateway 308. The gateway 308 then sees a cell header and routes the packet to the cellular home network 304 accordingly. In an exemplary embodiment, the application endpoint 210 functions to address packets to the gateway 308. </p><p id="p0054" num="0054">System Features and Functionality </p><p id="p0055" num="0055"> [0045] The novel WLAN offload architecture can be extended to a variety of WLAN offload mechanisms. Listed below are some of the key features and functionality provided by embodiments of the WLAN offload architecture. </p><p id="p0056" num="0056"> 1. Support for IP over WLAN domain </p><p id="p0057" num="0057"> 2. WLAN Access Gateway (wPDIF-WAG) discovery mechanisms </p><p id="p0058" num="0058"> 3. Proprietary tunnel establishment procedures </p><p id="p0059" num="0059"> 4. Authentication procedure: </p><p id="p0060" num="0060"> - CAVE authentication between UE and AN-AAA </p><p id="p0061" num="0061"> - MD5-CHAP authentication between UE and AN-AAA </p><p id="p0062" num="0062"> - PAP/CHAP authentication between PDSN and UE </p><p id="p0063" num="0063"> 5. Network Address Translation (NAT) Keep-alive (KA) procedures </p><p id="p0064" num="0064"> 6. Support for proprietary cdma2000 packet-switched (services supported via PDSN) </p><p id="p0065" num="0065"> 7. Support for packet encapsulation for operation of packet-switched services</p><p id="p0066" num="0066">8. Proprietary tunnel release procedures </p><p id="p0067" num="0067"> 9. Configuration using DHCP 
<!-- EPO <DP n="12"/>-->
 10. Inter- AP Handoff (HO) </p><p id="p0068" num="0068"> 1 1. Dual standby on WiFi and lx systems </p><p id="p0069" num="0069"> 12. SSD Update procedure </p><p id="p0070" num="0070"> [0046] FIG. 4 shows exemplary embodiment of protocol stacks 400 for use with the novel WLAN offload architecture. For example, the protocol stacks 400 are associated with entities shown in the network configuration of FIG. 3. </p><p id="p0071" num="0071"> [0047] The protocol stacks 400 comprise stack 402 associated with device 102, stack 404 associated with access point 308, stack 406 associated with wPDIF 310 and stack 408 associated with PDSN 310. The data being offloaded from the cellular network to the WLAN network have to traverse the illustrated protocol stacks at the device and at the key nodes on the network along its path. </p><p id="p0072" num="0072"> [0048] FIG. 5 shows an exemplary embodiment of a call flow 500 for use with the novel WLAN offload architecture. For example, the call flow 500 is described with reference to the network 300 and protocol stacks 400. For example, the call flow 500 illustrates the interactions between the device 102, base station 314, access point 308, wPDIF 308, AN-AAA 316, and PDSN 312. One or more of the operations of the call flow 500 can be performed, for example, by the device 200 shown in FIG. 2. </p><p id="p0073" num="0073"> [0049] At 502, a lx association is formed between the device 102 and the base station 314. For example, the modem section 204 operates to establish the lx association with the base station 314 using the cellular interface 220. </p><p id="p0074" num="0074"> [0050] At 504, an association is formed between the device 102 and the WLAN access point 310. For example, the application section 202 operates to establish the association with the access point 310 using the WLAN interface 212. </p><p id="p0075" num="0075"> [0051] At 506, WLAN operation is initiated. A SIP registration is performed and a</p><p id="p0076" num="0076">CT tunnel is established. For example, the application section 202 operates to perform this function using the WLAN interface 212. </p><p id="p0077" num="0077"> [0052] At 508, packet data session procedures are performed to first establish and then terminate a PPP session. For example, the application section 202 operates to perform this function using the WLAN interface 212. 
<!-- EPO <DP n="13"/>-->
 [0053] At 510, WLAN operation is terminated. For example, A SIP de-registration is performed and a CT tunnel is terminated. For example, the application section 202 operates to perform this function using the WLAN interface 212. </p><p id="p0078" num="0078"> [0054] At 512, the WLAN access point 310 is disassociated from the device 102. For example, the application section 202 operates to perform this function using the WLAN interface 212. </p><p id="p0079" num="0079">Exemplary Implementation </p><p id="p0080" num="0080"> [0055] FIG. 6 shows an exemplary embodiment of a novel WLAN offload architecture 600. For example, the architecture 600 is one exemplary implementation of the architecture 200 shown in FIG. 2. The architecture 600 comprises an application processor 602 and a modem processor 604. In this description, any suitable operating system(s) may be run on the application processor 602 and the modem processor 604. An application that needs a service from the cellular (i.e., 3gpp2) core network is represented by the block "3spp2 app" 606. The "3gpp2 app" 606 uses the sockets API provided by the OS to do data transfer with the server in the 3gpp2 core network. The API is represented by the block "BSD Sockets API" 608. </p><p id="p0081" num="0081"> [0056] The remaining blocks in the architecture 600 are explained in the following sections, which describe how a packet that is to be sent from the device on the reverse link traverses various layers and modules before being sent over the air. Additionally, a description is provided that describes how a packet that is received by the device on the forward link traverses various layers and modules before reaching the application 606. </p><p id="p0082" num="0082">Reverse Link Data Path </p><p id="p0083" num="0083"> [0057] The detailed steps involved in the transmit path (reverse link) is described as follows. The sockets API used by the 3gpp2 application 606 make use of the underlying IP protocol stack which is also part of the OS on the application processor 602. After the TCP/UDP- IP processing by the OS, the packet looks as shown in FIG. 7. </p><p id="p0084" num="0084"> [0058] SIP packets from the IMS stack for discovering the wPDIF-WAG are configured to go over the WLAN air interface. The packet looks as shown in FIG. 8. 
<!-- EPO <DP n="14"/>-->
 [0059] There is a routing table at the routing layer block 610 that determines whether IP packets should be directed to the WLAN adaptor (interface) 612 or the CDMA adaptor (interface) 614. From the routing layer, the IMS-SIP packets go to the WLAN stack 616; the MAC and physical layers of WLAN, which is indicated by the path (640) in FIG. 6. Regular data packets from the 3gpp2 application 606 will be directed by the routing table to go over the "CDMA interface/adaptor" 614. Any packets that need to go over one or more CDMA layers needs to cross over to the modem processor 604 and follow the path (642) in FIG. 6. </p><p id="p0085" num="0085"> [0060] The module that does the inter-processor data transfer is called QMLRmnet. Rmnet is for regular data and QMI (Qualcomm Messaging Interface) for control. There are peer QMI/Rmnet modules (618, 620) running on the application processor 602 and modem processor 604, respectively, and they communicate over a shared memory driver (SMD) 622. The QMLRmnet may exist for dual-processor devices but new control messages may be configured as part of these embodiments to indicate that the WLAN offload mode is active. </p><p id="p0086" num="0086"> [0061] Once these packets reach the modem processor 604 and come out of Rmnet and the Rm interface, there is a routing decision made on the modem processor 604 as to whether these packets should go on the native cellular air interface or the WLAN offload interface. In both cases, the packets would be HDLC framed and PPP encapsulated and the packets would look as shown in FIG. 9. </p><p id="p0087" num="0087"> [0062] If the device is in area of cellular coverage only (no WLAN) or the WLAN offload interface was not setup for some reason (like a failure), the packets would follow the path (644) in FIG. 6. They would be sent to the CDMA interface 624 and after PPP encapsulation at block 626 are sent to the RLP layer (Radio Link Protocol) 628. From RLP 628, the packets are sent over the CDMA protocol stack (MAC/PHY layers of CDMA) 630. The packets are as shown in FIG. 10. </p><p id="p0088" num="0088"> [0063] Alternatively, if the device is in WLAN coverage area and the WLAN offload interface was setup, the packets would follow the path (646) in FIG. 6. They would be sent to the WLAN Iface block 632. After PPP encapsulation at block 626, they would be sent to a proprietary layer 634. After the proprietary layer 634 does its processing and adds proprietary headers the packets look as shown in FIG. 11. 
<!-- EPO <DP n="15"/>-->
 [0064] The packets are then sent to a module provided as a part of these embodiments called the "modem end-point" 636. The purpose of the "modem end- point" is to open and maintain a communication channel between the modem 604 and the application 602 processors using its counterpart on the application section represented as "apps end-point" 638 using whatever physical medium is used for inter- processor communications between the sections. </p><p id="p0089" num="0089"> [0065] In this exemplary embodiment, the shared memory (SMD) 622 is used as the medium. But it could be other mechanisms such as a UART, USB, etc. The apps end- point 638 uses the IP protocol stack provided by the OS on the application processor. This time, the routing layer 610 in the OS examines the outer IP header and knows to send these packets over the WLAN adapter (interface) 612 so that the packets go over the WLAN channel to the wPDIF-WAG. The packets look as shown in FIG. 12. </p><p id="p0090" num="0090">Forward Link Data Path </p><p id="p0091" num="0091"> [0066] The detailed operations involved in the forward link are described as follows. When a packet is received by the device on the CDMA air interface, it is as shown in FIG. 13. An example would be application data if the device is in area of CDMA coverage only (no WLAN) or the WLAN offload interface was not setup for some reason (like a failure). </p><p id="p0092" num="0092"> [0067] These packets are received on the modem processor 604, go up the CDMA protocol stack 630, and the CDMA MAC headers are removed. The packets then go through the RLP layer 628 and the RLP header is removed. The packets then reach the PPP layer 626 and the packet look as shown in FIG. 14. Once PPP layer 626 does its processing, the PPP header is removed and the packets are as shown in FIG. 15 </p><p id="p0093" num="0093">[0068] The packets then follow the path (644) of FIG. 6. For example, they go through the CDMA data Um interface 624, then onto the Rm interface and Rmnet 620 as they need to be sent across to the application processor 602. The medium shown in this example is shared memory 622, but as discussed above, it can be any other medium as well. </p><p id="p0094" num="0094"> [0069] Now the packets follow the path (642) in FIG. 6. The peer Rmnet 618 on the application processor 602 receives the packets and delivers them to the CDMA 
<!-- EPO <DP n="16"/>-->
 adapter/interface 614 of the OS. The packets go up the IP stack of the OS, where the TCP/UDP/IP headers are removed and application payload delivered to the user application 606 through the sockets APIs. </p><p id="p0095" num="0095"> [0070] When packets arrive on the WLAN air-interface, they can be of two types. The first type of packet is shown in FIG. 16. An example is SIP packets intended for the IMS stack on the device from the SIP server. These packets follow the path (640) shown in FIG. 6. They go up the WLAN protocol, then onto the IP protocol stack where the TCP/UDP/IP headers are removed and the application payload is delivered to the application through the sockets API. </p><p id="p0096" num="0096"> [0071] The second type of packet that arrives on the WLAN air-interface is shown in FIG. 17. These are "WLAN offload" tunneled packets that originated in the 3gpp2 core network and are being delivered on the WLAN air-interface. These packets follow the path (646) in FIG. 6. They go up the WLAN protocol, then onto the IP protocol stack where the outer UDP/IP headers are removed and the payload delivered to the apps endpoint 638. At this point, the packets look as shown in FIG. 18. </p><p id="p0097" num="0097">[0072] The apps-end point 638 sends these packets across the SMD 622 over to its peer entity; the modem endpoint 636 on the modem processor 604. The modem end- point 636 sends the packets to the proprietary layer 634 where the proprietary header is removed. Now the packets look as shown in FIG. 14. </p><p id="p0098" num="0098"> [0073] The packets go through the PPP layer where they are HDLC de-framed and PPP de-capsulated to look the same as in FIG. 15. The packets now go to the WLAN offload interface 632, which knows that these packets are meant to go on the Rm interface 620. At the Rm interface 620 these packets have to cross the SMD to the applications processor using Rmnet. Now the packets follow the path (642) as before, the same as if they were received on the native CDMA interface. The peer Rmnet 638 on the application processor 602 receives the packets and delivers them to the CDMA adapter/interface 614 of the OS. The packets go up the IP stack of the OS, where the TCP/UDP/IP headers are removed and the application payload delivered to the user application 606 through the sockets APIs. </p><p id="p0099" num="0099">Summary 
<!-- EPO <DP n="17"/>-->
 [0074] In various exemplary embodiments, the novel WLAN offload architecture is configured to achieve the above functionality in a smart phone dual-processor architecture having the following constraints and goals. </p><p id="p0100" num="0100"> 1. The application section runs a high-level third-party OS which cannot be easily modified. </p><p id="p0101" num="0101"> 2. Applications run over the high-level OS. </p><p id="p0102" num="0102"> 3. Applications should be unaware of how they are getting service, i.e., whether it is directly over the native CDMA air-interface or over WLAN. </p><p id="p0103" num="0103"> 4. The OS on the application section may have a built-in IP protocol stack as well as a WLAN stack. </p><p id="p0104" num="0104"> 5. The cellular technologies protocol stack (for example 3gpp2 specific) runs on the modem section. </p><p id="p0105" num="0105"> 6. Any layers proprietary to the cellular carrier run on the modem section. </p><p id="p0106" num="0106"> 7. Any SIM card (CSIM or RUIM in case of 3gpp2) is attached to the modem section. </p><p id="p0107" num="0107"> 8. WLAN offload architecture can be configured for use with different product with just a few minor changes. </p><p id="p0108" num="0108"> 9. The same WLAN offload architecture can be applicable with a variety of cellular technologies, such as UMTS or LTE. </p><p id="p0109" num="0109"> [0075] FIG. 19 shows an exemplary embodiment of a method 1900 for transmitted data using an exemplary embodiment of a novel WLAN offload architecture. For example, the method 1900 is suitable for use with the novel WLAN offload architecture 200 shown in FIG. 2. In an exemplary embodiment, the operations described below are performed by the application processor 202 and the modem processor 204 executing one or more instructions stored in a memory. </p><p id="p0110" num="0110"> [0076] At block 1902, IP packets are formed from data to be transmitted. For example, the operating system 206 operates to form IP packets from data to be transmitted by the application 230. </p><p id="p0111" num="0111"> [0077] At block 1904, a cellular protocol is applied to the IP packets to form cellular protocol packets. For example, the offload module 216 applies a cellular protocol to the IP packets to form cellular protocol packets. 
<!-- EPO <DP n="18"/>-->
 [0078] At block 1906, the cellular protocol packets are encapsulated in outer IP tunnel packets. For example, the application endpoint 210 operates to encapsulate the cellular protocol packets into outer IP tunnel packets. </p><p id="p0112" num="0112"> [0079] At block 1908, the outer IP tunnel packets are transmitted over a WLAN communication channel. For example, the WLAN VF 212 operates to transmit the outer IP tunnel packets over the WLAN channel 224. </p><p id="p0113" num="0113"> [0080] Thus, the method 1900 operates to transmit data using a novel WLAN offload architecture. It should be noted that the operations of the method 1900 may be rearranged or modified within the scope of the exemplary embodiments described. </p><p id="p0114" num="0114">[0081] FIG. 20 shows an exemplary embodiment of a method 2000 for receiving data using an exemplary embodiment of a novel WLAN offload architecture. For example, the method 2000 is suitable for use with the novel WLAN offload architecture 200 shown in FIG. 2. In an exemplary embodiment, the operations described below are performed by the application processor 202 and the modem processor 204 executing one or more instructions stored in a memory. </p><p id="p0115" num="0115"> [0082] At block 2002, the outer IP tunnel packets are received over a WLAN communication channel. For example, the WLAN I/F 212 operates to receive the outer IP tunnel packets over the WLAN channel 224. </p><p id="p0116" num="0116"> [0083] At block 2004, the cellular protocol packets are extracted from the outer IP tunnel packets. For example, the application endpoint 210 operates to extract the cellular protocol packets from the outer IP tunnel packets. </p><p id="p0117" num="0117"> [0084] At block 2006, a cellular protocol is removed from the cellular protocol packets to form IP packets. For example, the offload module 216 removes a cellular protocol from the cellular protocol packets to form the IP packets. </p><p id="p0118" num="0118">[0085] At block 2008, received data is extracted from the IP packets. For example, the operating system 206 operates to extract received data from the IP packets and provided this data to the application 230. </p><p id="p0119" num="0119"> [0086] Thus, the method 2000 operates to receive data using a novel WLAN offload architecture. It should be noted that the operations of the method 2000 may be rearranged or modified within the scope of the exemplary embodiments described. 
<!-- EPO <DP n="19"/>-->
 [0087] FIG. 21 shows an exemplary apparatus for performing WLAN offload. For example, the apparatus 2100 is suitable for use in the device shown in FIG. 2 or FIG. 6. In an aspect, the apparatus 2100 is implemented by at least one integrated circuit comprising one or more modules configured to provide aspects of WLAN offload in a device as described herein. For example, in an aspect, each module comprises hardware and/or hardware executing software. </p><p id="p0120" num="0120"> [0088] The apparatus 2100 comprises a first module comprising means (2102) for forming IP packets from data to be transmitted, which in an aspect comprises the OS 206. </p><p id="p0121" num="0121"> [0089] The apparatus 2100 also comprises a second module comprising means (2104) for applying a cellular protocol to the IP packets to form cellular protocol packets, which in an aspect comprises OS 214. </p><p id="p0122" num="0122"> [0090] The apparatus 2100 also comprises a third module comprising means (2106) for encapsulating the cellular protocol packets to form outer IP tunnel packets, which in an aspect comprises application endpoint 210. </p><p id="p0123" num="0123"> [0091] The apparatus 2100 also comprises a fourth module comprising means (2108) for transmitting the outer IP tunnel packets over a WLAN communication channel, which in an aspect comprises WLAN interface 212. </p><p id="p0124" num="0124"> [0092] FIG. 22 shows an exemplary apparatus for performing WLAN offload. For example, the apparatus 2200 is suitable for use in the device shown in FIG. 2 or FIG. 6. In an aspect, the apparatus 2200 is implemented by at least one integrated circuit comprising one or more modules configured to provide aspects of WLAN offload in a device as described herein. For example, in an aspect, each module comprises hardware and/or hardware executing software. </p><p id="p0125" num="0125"> [0093] The apparatus 2200 comprises a first module comprising means (2202) for receiving outer IP tunnel packets over a WLAN communication channel, which in an aspect comprises WLAN interface 212. </p><p id="p0126" num="0126"> [0094] The apparatus 2200 also comprises a second module comprising means (2204) for extracting cellular protocol packets from the outer IP tunnel packets, which in an aspect comprises application endpoint 210. 
<!-- EPO <DP n="20"/>-->
 [0095] The apparatus 2200 also comprises a third module comprising means (2206) for removing a cellular protocol from the cellular protocol packets to form IP packets, which in an aspect comprises OS 214. </p><p id="p0127" num="0127"> [0096] The apparatus 2100 also comprises a fourth module comprising means (2108) for extracting received data from the IP packets, which in an aspect comprises the OS 206. </p><p id="p0128" num="0128"> [0097] Although described with reference to a wireless device, it should be noted that the apparatuses and methods described herein are equally applicable to a networked device, base station, cellular home network entity, or any other network entity. Thus, for example, a cellular home network may comprises any of the above described apparatuses and/or perform any of the above described methods to facilitate WLAN offload. For example, data to be transmitted from a cellular home network to a wireless device may be: formed into IP packets; a cellular protocol applied to the IP packets to form cellular protocol packets, the cellular protocol packets encapsulated in outer IP tunnel packets; and the IP tunnel packets transmitted to a wireless device over a WLAN communication channel. </p><p id="p0129" num="0129"> [0098] The various illustrative logics, logical blocks, modules, and circuits described in connection with the aspects disclosed herein may be implemented or performed with a general purpose processor, a digital signal processor (DSP), an application specific integrated circuit (ASIC), a field programmable gate array (FPGA) or other programmable logic device, discrete gate or transistor logic, discrete hardware components, or any combination thereof designed to perform the functions described herein. A general-purpose processor may be a microprocessor, but, in the alternative, the processor may be any conventional processor, controller, microcontroller, or state machine. A processor may also be implemented as a combination of computing devices, e.g., a combination of a DSP and a microprocessor, a plurality of microprocessors, one or more microprocessors in conjunction with a DSP core, or any other such configuration. </p><p id="p0130" num="0130"> [0099] The steps of a method or algorithm described in connection with the aspects disclosed herein may be embodied directly in hardware, in a software module executed by a processor, or in a combination of the two. A software module may reside in RAM 
<!-- EPO <DP n="21"/>-->
 memory, flash memory, ROM memory, EPROM memory, EEPROM memory, registers, a hard disk, a removable disk, a CD-ROM, or any other form of storage medium known in the art. An exemplary storage medium is coupled to the processor, such that the processor can read information from, and write information to, the storage medium. In the alternative, the storage medium may be integral to the processor. The processor and the storage medium may reside in an ASIC. The ASIC may reside in a wireless communication device. In the alternative, the processor and the storage medium may reside as discrete components in a wireless communication device. </p><p id="p0131" num="0131">[00100] The description of the disclosed aspects is provided to enable any person skilled in the art to make or use the present invention. Various modifications to these aspects may be readily apparent to those skilled in the art, and the generic principles defined herein may be applied to other aspects, e.g., in an instant messaging service or any general wireless data communication applications, without departing from the spirit or scope of the invention. Thus, the present invention is not intended to be limited to the aspects shown herein but is to be accorded the widest scope consistent with the principles and novel features disclosed herein. The word "exemplary" is used exclusively herein to mean "serving as an example, instance, or illustration." Any aspect described herein as "exemplary" is not necessarily to be construed as preferred or advantageous over other aspects. </p><p id="p0132" num="0132"> [00101] Accordingly, while aspects of the exemplary embodiments have been illustrated and described herein, it will be appreciated that various changes can be made to the aspects without departing from their spirit or essential characteristics. Therefore, the disclosures and descriptions herein are intended to be illustrative, but not limiting, of the scope of the invention, which is set forth in the following claims. 
</p></description><claims mxw-id="PCLM44851530" ref-ucid="WO-2012119119-A1" lang="EN" load-source="patent-office"><claim-statement><!-- EPO <DP n="22"/>-->CLAIMS WHAT IS CLAIMED IS: </claim-statement><claim id="clm-0001" num="1"><claim-text>1. Apparatus for performing WLAN offload, the apparatus comprising: an application processor configured to form IP packets from data to be transmitted; </claim-text><claim-text> a modem processor configured to apply a cellular protocol to the IP packets to form cellular protocol packets; </claim-text><claim-text> an endpoint configured to encapsulate the cellular protocol packets to form outer IP tunnel packets; and </claim-text><claim-text> a WLAN interface configured to transmit the outer IP tunnel packets over a WLAN communication channel. </claim-text></claim><claim id="clm-0002" num="2"><claim-text>2. The apparatus of claim 1, further comprising a memory configured to pass the IP packets from the application processor to the modem processor, and to pass the cellular protocol packets from the modem processor to the endpoint. </claim-text></claim><claim id="clm-0003" num="3"><claim-text>3. The apparatus of claim 1, wherein the application processor is configured to execute a selected operating system. </claim-text></claim><claim id="clm-0004" num="4"><claim-text>4. The apparatus of claim 3, wherein the data is associated with an application running under the selected operating system. </claim-text></claim><claim id="clm-0005" num="5"><claim-text>5. The apparatus of claim 1, wherein the modem processor is configured to communicate the cellular protocol packets over a cellular communication channel. </claim-text></claim><claim id="clm-0006" num="6"><claim-text>6. The apparatus of claim 5, further comprising an offload module configured to determine if the IP packets are to be transmitted over the cellular communication channel or the WLAN communication channel. </claim-text></claim><claim id="clm-0007" num="7"><claim-text>7. The apparatus of claim 6, the offload module configured to: <!-- EPO <DP n="23"/>--> determine that the IP packets are to be transmitted over the WLAN </claim-text><claim-text>communication channel if the WLAN communication channel is available; and </claim-text><claim-text> determine that the IP packets are to be transmitted over the cellular </claim-text><claim-text>communication channel if the WLAN communication channel is not available. </claim-text></claim><claim id="clm-0008" num="8"><claim-text>8. A method for performing WLAN offload, the method comprising: </claim-text><claim-text> forming IP packets from data to be transmitted; </claim-text><claim-text> applying a cellular protocol to the IP packets to form cellular protocol packets; encapsulating the cellular protocol packets to form outer IP tunnel packets; and transmitting the outer IP tunnel packets over a WLAN communication channel. </claim-text></claim><claim id="clm-0009" num="9"><claim-text>9. The method of claim 8, further comprising: </claim-text><claim-text> passing the IP packets through a memory to apply the cellular protocol; and passing the cellular protocol packets through the memory for encapsulation to form the outer IP tunnel packets. </claim-text></claim><claim id="clm-0010" num="10"><claim-text>10. The method of claim 8, further comprising obtaining the data from an application running under a selected operating system. </claim-text></claim><claim id="clm-0011" num="11"><claim-text>11. The method of claim 8, further comprising determining that the WLAN communication channel is available to perform the WLAN offload. </claim-text></claim><claim id="clm-0012" num="12"><claim-text>12. The method of claim 1 1, further comprising transmitting the outer IP tunnel packets over the WLAN communication channel to a cellular home network. </claim-text></claim><claim id="clm-0013" num="13"><claim-text>13. Apparatus for performing WLAN offload, the apparatus comprising: means for forming IP packets from data to be transmitted; </claim-text><claim-text> means for applying a cellular protocol to the IP packets to form cellular protocol packets; </claim-text><claim-text> means for encapsulating the cellular protocol packets to form outer IP tunnel packets; and <!-- EPO <DP n="24"/>--> means for transmitting the outer IP tunnel packets over a WLAN communication channel. </claim-text></claim><claim id="clm-0014" num="14"><claim-text>14. The apparatus of claim 13, further comprising: </claim-text><claim-text> means for passing the IP packets through a memory to apply the cellular protocol; and </claim-text><claim-text> means for passing the cellular protocol packets through the memory for encapsulation to form the outer IP tunnel packets. </claim-text></claim><claim id="clm-0015" num="15"><claim-text>15. The apparatus of claim 13, further comprising means for obtaining the data from an application running under a selected operating system. </claim-text></claim><claim id="clm-0016" num="16"><claim-text>16. The apparatus of claim 13, further comprising means for determining if the IP packets are to be transmitted over a cellular communication channel or the WLAN communication channel. </claim-text></claim><claim id="clm-0017" num="17"><claim-text>17. The apparatus of claim 16, further comprising: </claim-text><claim-text> means for determining that the IP packets are to be transmitted over the WLAN communication channel if the WLAN communication channel is available; and </claim-text><claim-text> means for determining that the IP packets are to be transmitted over the cellular communication channel if the WLAN communication channel is not available. </claim-text></claim><claim id="clm-0018" num="18"><claim-text>18. A computer program product for performing WLAN offload, the computer program product comprising: </claim-text><claim-text> a non-transitory computer readable medium embodying codes executable by a processor to: </claim-text><claim-text> form IP packets from data to be transmitted; </claim-text><claim-text> apply a cellular protocol to the IP packets to form cellular protocol packets; </claim-text><claim-text> encapsulate the cellular protocol packets to form outer IP tunnel packets; and <!-- EPO <DP n="25"/>--> transmit the outer IP tunnel packets over a WLAN communication channel. </claim-text></claim><claim id="clm-0019" num="19"><claim-text>19. The computer readable medium of claim 18, further comprising codes configured to cause the processor to: </claim-text><claim-text> pass the IP packets through a memory to apply the cellular protocol; and pass the cellular protocol packets through the memory for encapsulation to form the outer IP tunnel packets. </claim-text></claim><claim id="clm-0020" num="20"><claim-text>20. The computer readable medium of claim 18, further comprising codes configured to cause the processor to determine that the WLAN communication channel is available to perform the WLAN offload. </claim-text></claim><claim id="clm-0021" num="21"><claim-text>21. The computer readable medium of claim 18, further comprising codes configured to cause the processor to transmit the outer IP tunnel packets over the WLAN communication channel to a cellular home network. </claim-text></claim><claim id="clm-0022" num="22"><claim-text>22. Apparatus for performing WLAN offload, the apparatus comprising: a WLAN interface configured to receive outer IP tunnel packets over a WLAN communication channel; </claim-text><claim-text> an endpoint configured to extract cellular protocol packets from the outer IP tunnel packets; </claim-text><claim-text> a modem processor configured to remove a cellular protocol from the cellular protocol packets to form IP packets; and </claim-text><claim-text> an application processor configured to extract received data from the IP packets. </claim-text></claim><claim id="clm-0023" num="23"><claim-text>23. The apparatus of claim 22, further comprising a memory configured to pass the IP packets from the modem processor to the application processor, and to pass the cellular protocol packets from the endpoint to the modem processor. </claim-text></claim><claim id="clm-0024" num="24"><claim-text>24. The apparatus of claim 22, wherein the application processor is <!-- EPO <DP n="26"/>--> configured to execute a selected operating system. </claim-text></claim><claim id="clm-0025" num="25"><claim-text>25. The apparatus of claim 24, wherein the data is associated with an application running under the selected operating system. </claim-text></claim><claim id="clm-0026" num="26"><claim-text>26. The apparatus of claim 22, wherein the modem processor is configured to communicate the cellular protocol packets over a cellular communication channel. </claim-text></claim><claim id="clm-0027" num="27"><claim-text>27. A method for performing WLAN offload, the method comprising: </claim-text><claim-text> receiving outer IP tunnel packets over a WLAN communication channel; </claim-text><claim-text> extracting cellular protocol packets from the outer IP tunnel packets; </claim-text><claim-text> removing a cellular protocol from the cellular protocol packets to form IP packets; and </claim-text><claim-text> extracting received data from the IP packets. </claim-text></claim><claim id="clm-0028" num="28"><claim-text>28. The method of claim 27, further comprising: </claim-text><claim-text> passing the cellular protocol packets through a memory to remove the cellular protocol to form the IP packets; and </claim-text><claim-text> passing the IP packets through the memory to extract the received data. </claim-text></claim><claim id="clm-0029" num="29"><claim-text>29. The method of claim 27, further comprising extracting the received data for an application running under a selected operating system. </claim-text></claim><claim id="clm-0030" num="30"><claim-text>30. The method of claim 27, further comprising receiving the outer IP tunnel packets over the WLAN communication channel from a cellular home network. </claim-text></claim><claim id="clm-0031" num="31"><claim-text>31. Apparatus for performing WLAN offload, the apparatus comprising: means for receiving outer IP tunnel packets over a WLAN communication channel; </claim-text><claim-text> means for extracting cellular protocol packets from the outer IP tunnel packets; means for removing a cellular protocol from the cellular protocol packets to <!-- EPO <DP n="27"/>--> form IP packets; and </claim-text><claim-text> means for extracting received data from the IP packets. </claim-text></claim><claim id="clm-0032" num="32"><claim-text>32. The apparatus of claim 31, further comprising: </claim-text><claim-text> means for passing the cellular protocol packets through a memory to remove the cellular protocol to form the IP packets; and </claim-text><claim-text> means for passing the IP packets through the memory to extract the received data. </claim-text></claim><claim id="clm-0033" num="33"><claim-text>33. The apparatus of claim 31, further comprising means for extracting the received data for an application running under a selected operating system. </claim-text></claim><claim id="clm-0034" num="34"><claim-text>34. The apparatus of claim 31, further comprising means for receiving the outer IP tunnel packets over the WLAN communication channel from a cellular home network. </claim-text></claim><claim id="clm-0035" num="35"><claim-text>35. A computer program product for performing WLAN offload, the computer program product comprising: </claim-text><claim-text> a non-transitory computer readable medium embodying codes executable by a processor to: </claim-text><claim-text> receive outer IP tunnel packets over a WLAN communication channel; </claim-text><claim-text> extract cellular protocol packets from the outer IP tunnel packets; </claim-text><claim-text> remove a cellular protocol from the cellular protocol packets to form IP packets; and </claim-text><claim-text> extract received data from the IP packets. </claim-text></claim><claim id="clm-0036" num="36"><claim-text>36. The computer readable medium of claim 35, further comprising codes configured to cause the processor to: </claim-text><claim-text> pass the cellular protocol packets through a memory to remove the cellular protocol to form the IP packets; and </claim-text><claim-text> pass the IP packets through the memory to extract the received data. <!-- EPO <DP n="28"/>--> </claim-text></claim><claim id="clm-0037" num="37"><claim-text>37. The computer readable medium of claim 35, further comprising codes configured to cause the processor to extract the received data for an application running under a selected operating system. </claim-text></claim><claim id="clm-0038" num="38"><claim-text>38. The computer readable medium of claim 35, further comprising codes configured to cause the processor to receive the outer IP tunnel packets over the WLAN communication channel from a cellular home network. </claim-text></claim></claims><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
