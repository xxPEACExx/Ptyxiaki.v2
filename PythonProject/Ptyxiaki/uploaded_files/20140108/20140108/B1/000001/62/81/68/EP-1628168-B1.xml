<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-1628168-B1" country="EP" doc-number="1628168" kind="B1" date="20140108" family-id="35311780" file-reference-id="287176" date-produced="20180826" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146589126" ucid="EP-1628168-B1"><document-id><country>EP</country><doc-number>1628168</doc-number><kind>B1</kind><date>20140108</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-05017493-A" is-representative="YES"><document-id mxw-id="PAPP154851318" load-source="docdb" format="epo"><country>EP</country><doc-number>05017493</doc-number><kind>A</kind><date>20050811</date><lang>EN</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140556346" ucid="JP-2004237113-A" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>2004237113</doc-number><kind>A</kind><date>20040817</date></document-id></priority-claim><priority-claim mxw-id="PPC140551090" ucid="JP-2004378545-A" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>2004378545</doc-number><kind>A</kind><date>20041228</date></document-id></priority-claim></priority-claims><dates-of-public-availability><intention-to-grant-date><date>20130802</date></intention-to-grant-date></dates-of-public-availability><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1989327678" load-source="docdb">G03G  15/01        20060101AFI20051128BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-2135419618" load-source="docdb" scheme="CPC">G03G2215/0119      20130101 LA20141120BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2135424789" load-source="docdb" scheme="CPC">G03G  15/0194      20130101 FI20141117BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2135429656" load-source="docdb" scheme="CPC">G03G  15/0131      20130101 LI20141117BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132372011" lang="DE" load-source="patent-office">Gerät zum Steuern des Antriebs eines endlosen Bands für ein Bilderzeugungsgerät</invention-title><invention-title mxw-id="PT132372012" lang="EN" load-source="patent-office">Apparatus for controlling the driving of an endless belt for an image forming apparatus</invention-title><invention-title mxw-id="PT132372013" lang="FR" load-source="patent-office">Appareil de contrôle de l'entraînement d'un bande sans fin pour un appareil de formation d'images</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR919546119" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>RICOH CO LTD</last-name><address><country>JP</country></address></addressbook></applicant><applicant mxw-id="PPAR919526483" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>RICOH COMPANY, LTD.</last-name></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR919546040" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>MATSUDA YUJI</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919505619" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>MATSUDA, YUJI</last-name></addressbook></inventor><inventor mxw-id="PPAR919026457" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>MATSUDA, YUJI</last-name><address><street>c/o Ricoh Company, Ltd. 1-3-6, Nakamagome Ohta-ku</street><city>Tokyo 143-8555</city><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919507571" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>MATSUDA HIROMICHI</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919544496" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>MATSUDA, HIROMICHI</last-name></addressbook></inventor><inventor mxw-id="PPAR919026460" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>MATSUDA, HIROMICHI</last-name><address><street>c/o Ricoh Company, Ltd. 1-3-6, Nakamagome Ohta-ku</street><city>Tokyo 143-8555</city><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919506328" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>ANDOH TOSHIYUKI</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919504957" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>ANDOH, TOSHIYUKI</last-name></addressbook></inventor><inventor mxw-id="PPAR919026464" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>ANDOH, TOSHIYUKI</last-name><address><street>c/o Ricoh Company, Ltd. 1-3-6, Nakamagome Ohta-ku</street><city>Tokyo 143-8555</city><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919532227" load-source="docdb" sequence="4" format="epo"><addressbook><last-name>YOKOKAWA NOBUTO</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919530946" load-source="docdb" sequence="4" format="intermediate"><addressbook><last-name>YOKOKAWA, NOBUTO</last-name></addressbook></inventor><inventor mxw-id="PPAR919026463" load-source="patent-office" sequence="4" format="original"><addressbook><last-name>YOKOKAWA, NOBUTO</last-name><address><street>c/o Ricoh Company, Ltd. 1-3-6, Nakamagome Ohta-ku</street><city>Tokyo 143-8555</city><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919538001" load-source="docdb" sequence="5" format="epo"><addressbook><last-name>IMAI RYOJI</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919517623" load-source="docdb" sequence="5" format="intermediate"><addressbook><last-name>IMAI, RYOJI</last-name></addressbook></inventor><inventor mxw-id="PPAR919026459" load-source="patent-office" sequence="5" format="original"><addressbook><last-name>IMAI, RYOJI</last-name><address><street>c/o Ricoh Company, Ltd. 1-3-6, Nakamagome Ohta-ku</street><city>Tokyo 143-8555</city><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919508131" load-source="docdb" sequence="6" format="epo"><addressbook><last-name>OKAMURA HIROSHI</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919515998" load-source="docdb" sequence="6" format="intermediate"><addressbook><last-name>OKAMURA, HIROSHI</last-name></addressbook></inventor><inventor mxw-id="PPAR919026461" load-source="patent-office" sequence="6" format="original"><addressbook><last-name>OKAMURA, HIROSHI</last-name><address><street>c/o Ricoh Company, Ltd. 1-3-6, Nakamagome Ohta-ku</street><city>Tokyo 143-8555</city><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919518448" load-source="docdb" sequence="7" format="epo"><addressbook><last-name>YOKOYAMA MASATO</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919509852" load-source="docdb" sequence="7" format="intermediate"><addressbook><last-name>YOKOYAMA, MASATO</last-name></addressbook></inventor><inventor mxw-id="PPAR919026458" load-source="patent-office" sequence="7" format="original"><addressbook><last-name>YOKOYAMA, MASATO</last-name><address><street>c/o Ricoh Company, Ltd. 1-3-6, Nakamagome Ohta-ku</street><city>Tokyo 143-8555</city><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919508319" load-source="docdb" sequence="8" format="epo"><addressbook><last-name>KOBAYASHI KAZUHIKO</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919529076" load-source="docdb" sequence="8" format="intermediate"><addressbook><last-name>KOBAYASHI, KAZUHIKO</last-name></addressbook></inventor><inventor mxw-id="PPAR919026462" load-source="patent-office" sequence="8" format="original"><addressbook><last-name>KOBAYASHI, KAZUHIKO</last-name><address><street>c/o Ricoh Company, Ltd. 1-3-6, Nakamagome Ohta-ku</street><city>Tokyo 143-8555</city><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919543524" load-source="docdb" sequence="9" format="epo"><addressbook><last-name>MIURA YOHEI</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919539672" load-source="docdb" sequence="9" format="intermediate"><addressbook><last-name>MIURA, YOHEI</last-name></addressbook></inventor><inventor mxw-id="PPAR919026465" load-source="patent-office" sequence="9" format="original"><addressbook><last-name>MIURA, YOHEI</last-name><address><street>c/o Ricoh Company, Ltd. 1-3-6, Nakamagome Ohta-ku</street><city>Tokyo 143-8555</city><country>JP</country></address></addressbook></inventor></inventors><assignees><assignee mxw-id="PPAR919026466" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Ricoh Company, Ltd.</last-name><iid>100208567</iid><address><street>3-6, Nakamagome 1-chome Ohta-ku</street><city>Tokyo 143-8555</city><country>JP</country></address></addressbook></assignee></assignees><agents><agent mxw-id="PPAR919026467" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Schwabe - Sandmair - Marx</last-name><iid>100060632</iid><address><street>Patentanwälte Stuntzstraße 16</street><city>81677 München</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><designated-states><ep-contracting-states><country mxw-id="DS549890827" load-source="docdb">DE</country><country mxw-id="DS549926447" load-source="docdb">FR</country><country mxw-id="DS549890828" load-source="docdb">GB</country></ep-contracting-states></designated-states></international-convention-data></bibliographic-data><description mxw-id="PDES63961538" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001">BACKGROUND OF THE INVENTION</heading><heading id="h0002">1. Field of the Invention</heading><p id="p0001" num="0001">The present invention relates to an apparatus for controlling a driving of an endless belt included in a color image forming apparatus to keep a linear velocity of the endless belt constant.</p><heading id="h0003">2. Description of the Related Art</heading><p id="p0002" num="0002">As representative methods of forming a color image, there are a direct transfer system for transferring toner images of different colors formed on plural photoconductors directly onto transfer paper by superimposing the toner images, and an intermediate transfer system for transferring toner images of different colors formed on plural photoconductors onto an intermediate transfer unit by superimposing the toner images and thereafter<!-- EPO <DP n="2"> --> collectively transferring the toner images onto transfer paper. These systems are called a tandem system since plural photoconductors are disposed opposite to the transfer paper or the intermediate transfer unit. An electrophotographic process of a formation of an electrostatic latent image and a development is carried out for each of yellow (Y), magenta (M), cyan (C), and black (K) colors for each photoconductor. According to the direct transfer system, toner images are transferred onto running transfer paper. According to the intermediate transfer system, toner images are transferred onto a running intermediate transfer unit.</p><p id="p0003" num="0003">A color image forming apparatus of the tandem system using the direct transfer system usually uses an endless belt that runs while supporting the transfer paper. A color image forming apparatus of the tandem system using the intermediate transfer system usually uses an endless belt that receives images from photoconductors and holds these images. Image forming units including four photoconductors are disposed on one running side of the belt. In the color image forming apparatus of the tandem system, superimposing the toner images of different colors in high precision is important for preventing a color drift. In both the transfer systems, to avoid a color drift due to a variation in the speed of the transfer conveyer belt, an<!-- EPO <DP n="3"> --> encoder is fitted to one of driven axes of plural transfer units, and a rotation speed of a driving roller is feedback controlled according to the variation in the rotation speed of the encoder, as effective control means.</p><p id="p0004" num="0004">As one of the most general methods of realizing the feedback control, there is a proportional and integral control (PI control). According to the method, a position deviation e(n) is calculated based on a difference between a target angular displacement Ref(n) of the encoder and a detection angular displacement P(n-1) detected by the encoder. The result of the above calculation is lowpass filtered to remove high-frequency noise. A control gain is applied, and a constant standard driving pulse frequency is added, thereby controlling the driving pulse frequency of a driving motor connected to a driving roller. As a result, the encoder is always driven at a target angular displacement.</p><p id="p0005" num="0005">In the actual control, a counter that counts a rising edge of the output of an encoder pulse and a counter that counts each control period (for example, 1 millisecond) are used to obtain a position deviation from a difference between a calculation result of a target angular displacement that moves during the control period (1 millisecond) and a detection angular displacement that is obtained by acquiring the encoder count value during each<!-- EPO <DP n="4"> --> control period. When a roller diameter of the driven axis to which the encoder is fitted is φ15.615, a detailed calculation is carried out as follows: <maths id="math0001" num=""><math display="block"><mi mathvariant="normal">e</mi><mfenced><mi mathvariant="normal">n</mi></mfenced><mo>=</mo><msub><mi mathvariant="normal">θ</mi><mn>0</mn></msub><mo>×</mo><mi mathvariant="normal">q</mi><mo>-</mo><msub><mi mathvariant="normal">θ</mi><mn>1</mn></msub><mo>×</mo><mi>ne</mi><mo>,</mo></math><img id="ib0001" file="imgb0001.tif" wi="41" he="11" img-content="math" img-format="tif"/></maths><br/>
where
<ul><li>e(n) [rad]: A position deviation (calculated at the sampling this time);</li><li>θ<sub>0</sub> [rad]: A move angle per control period (=2π×V×10<sup>-3</sup>/15.565π [rad]);</li><li>θ<sub>1</sub> [rad]: A move angle per one pulse of encoder (=2π/p [rad]);</li><li>q: A count value of control period timer; and</li><li>V: A belt linear velocity [mm/s].</li></ul></p><p id="p0006" num="0006">Assume that a control period is 1 millisecond, and resolution of the encoder is 300 pulses per one rotation. A feedback control is carried out to operate the transfer conveyer belt at 162 mm/s. Then the move angles are obtained as follows: <maths id="math0002" num=""><math display="block"><msub><mi mathvariant="normal">θ</mi><mn>0</mn></msub><mo>=</mo><mn>2</mn><mo>⁢</mo><mi mathvariant="normal">π</mi><mo>×</mo><mn>162</mn><mo>×</mo><mn>10</mn><mo>-</mo><mn>3</mn><mo>/</mo><mn>15.615</mn><mo>⁢</mo><mi mathvariant="normal">π</mi><mo>=</mo><mn>0.0207487</mn><mspace width="1em"/><mfenced open="[" close="]"><mi>rad</mi></mfenced><mo>;</mo></math><img id="ib0002" file="imgb0002.tif" wi="102" he="9" img-content="math" img-format="tif"/></maths> and <maths id="math0003" num=""><math display="block"><msub><mi mathvariant="normal">θ</mi><mn>1</mn></msub><mo>=</mo><mn>2</mn><mo>⁢</mo><mi mathvariant="normal">π</mi><mo>/</mo><mi mathvariant="normal">p</mi><mo>=</mo><mn>2</mn><mo>⁢</mo><mi mathvariant="normal">π</mi><mo>/</mo><mn>300</mn><mo>=</mo><mn>0.0209439</mn><mspace width="1em"/><mfenced open="[" close="]"><mi>rad</mi></mfenced><mn>.</mn></math><img id="ib0003" file="imgb0003.tif" wi="82" he="8" img-content="math" img-format="tif"/></maths></p><p id="p0007" num="0007">The above calculation is carried out for each control period to obtain position deviations, thereby carrying out the feedback control.</p><p id="p0008" num="0008">The above method, however, has the following problems.<!-- EPO <DP n="5"> --> The conveyance speed of the transfer paper changes due to a fine thickness of the conveyer belt. As a result, an image is deviated from an ideal position, which degrades the image quality. Images among plural sheets of recording papers vary, and repetitive positional reproducibility among the recording papers is degraded. When it is assumed that the conveyance speed is determined at the center of the belt thickness at the belt driving position, a belt conveyance speed V is calculated as follows: <maths id="math0004" num=""><math display="block"><mi mathvariant="normal">V</mi><mo>=</mo><mfenced separators=""><mi mathvariant="normal">R</mi><mo>+</mo><mi mathvariant="normal">B</mi><mo>/</mo><mn>2</mn></mfenced><mo>×</mo><mi mathvariant="normal">ω</mi><mo>,</mo></math><img id="ib0004" file="imgb0004.tif" wi="35" he="10" img-content="math" img-format="tif"/></maths><br/>
where
<dl id="dl0001" compact="compact"><dt>R:</dt><dd>Radius of the driving roller;</dd><dt>B:</dt><dd>Thickness of the belt; and</dd><dt>ω:</dt><dd>Angular velocity of the driving roller.</dd></dl></p><p id="p0009" num="0009">However, when a belt thickness B varies, a position of a belt thickness effective line shown in <figref idrefs="f0015">Fig. 21</figref> changes. This is because a belt driving effective radius changes. It is clear that since (R+B/2) in the above expression changes, the belt conveyance speed changes even when angular velocity ω of the driving roller is constant. In other words, even when the driving roller is rotated at a constant angular velocity, the belt conveyance speed changes when the belt thickness varies.</p><p id="p0010" num="0010"><figref idrefs="f0016">Fig. 22</figref> depicts a model of a belt driving conveyance<!-- EPO <DP n="6"> --> system. <figref idrefs="f0016">Fig. 23</figref> is a conceptual diagram of a variation in the belt thickness over full circle of the belt when the driving axis is rotated at a constant angular velocity and a variation in the belt conveyance speed. When a thick part of the belt is wound around the driving axis, a belt driving effective radius shown in <figref idrefs="f0015">Fig. 21</figref> increases, and the belt conveyance speed increases. On the other hand, when a thin part of the belt is wound around the driving axis, the belt conveyance speed decreases.</p><p id="p0011" num="0011"><figref idrefs="f0017">Fig. 24</figref> is a diagram for explaining a variation in the belt thickness on the driven axis and a variation in the belt conveyance speed detected in the driven axis when the belt is conveyed at a constant conveyance speed. Even when the belt is conveyed at an ideal speed without a speed variation, when a thick part of the belt is wound around the driven axis, a driven effective radius of the belt increases, and a rotation angular velocity of the driven axis decreases. This is detected as a decrease in the belt conveyance speed. When a thin part of the belt is wound around the driven axis, the rotation angular velocity of the driven axis increases, and this is detected as an increase in the belt conveyance speed. When the belt thickness varies in this manner, when a belt conveyance speed is detected in the rotation angular displacement of the driven axis in the encoder, an error detection<!-- EPO <DP n="7"> --> component is generated. Therefore, even when the belt is conveyed at a constant speed, the belt conveyance speed is detected as if the speed is varying due to the variation in the belt thickness, in the detection of the rotation angular displacement of the driven axis. Therefore, according to the conventional feedback control of the driven axis, the variation in the belt thickness cannot be controlled.</p><p id="p0012" num="0012">As one of methods for solving the variation in the belt thickness, the following technique is known. When a driving roller is driven at a constant pulse rate, a speed profile that offsets a speed variation Vh that will occur due to a thickness profile over the whole peripheral direction of a known transfer conveyer belt is measured in advance, based on a position detected according to a belt mark. A driving motor control signal is generated at a modulated pulse rate. The motor is driven based on the generated signal. By driving the transfer conveyer belt via the driving roller, a final speed Vb of the transfer conveyer belt has no variation (see, for example, Japanese Patent Application Laid-Open No. <patcit id="pcit0001" dnum="JP2000310897A"><text>2000-310897</text></patcit>).</p><p id="p0013" num="0013">However, speed profile data requires data for each control period. Therefore, when the control is carried out in a short period, a large capacity memory is necessary. When the control is carried out in a long period,<!-- EPO <DP n="8"> --> sufficient effect cannot be obtained from the feedback control. When a belt length is 815 millimeters, when a belt driving speed is 125 mm/s, and when a control period is 1 millisecond, the belt speed is controlled by 6,520 times per one rotation of the belt as follows: <maths id="math0005" num=""><math display="block"><mn>815</mn><mo>⁢</mo><mi>mm</mi><mo>/</mo><mfenced separators=""><mn>125</mn><mo>⁢</mo><mi>mm</mi><mo>/</mo><mi mathvariant="normal">s</mi><mo>×</mo><mn>1</mn><mo>⁢</mo><mi>ms</mi></mfenced><mo>=</mo><mn>6520</mn><mspace width="1em"/><mi>times</mi><mn>.</mn></math><img id="ib0005" file="imgb0005.tif" wi="84" he="8" img-content="math" img-format="tif"/></maths></p><p id="p0014" num="0014">When a data size of the belt thickness per one point is expressed by 16 bits, a memory of 100 kilobits or more is necessary. <maths id="math0006" num=""><math display="block"><mn>6520</mn><mspace width="1em"/><mi>times</mi><mo>×</mo><mn>16</mn><mo>⁢</mo><mi>bit</mi><mo>=</mo><mn>104320</mn><mo>⁢</mo><mi>bit</mi></math><img id="ib0006" file="imgb0006.tif" wi="72" he="8" img-content="math" img-format="tif"/></maths></p><p id="p0015" num="0015">Therefore, when the control is carried out using an actual device, a memory for storing a belt thickness profile is additionally necessary as a nonvolatile memory. Even when data is stored as compressed data and when the data is uncompressed in a volatile memory when the power source is turned on, a large capacity memory is necessary. Therefore, in addition to a memory used as a normal work area, a separate memory is necessary, which is unrealistic since the cost is substantially increased.</p><p id="p0016" num="0016">According to Japanese Patent Application Laid-Open No. <patcit id="pcit0002" dnum="JP2000310897A"><text>2000-310897</text></patcit>, the belt thickness needs to be measured as profile data of the belt thickness. The thickness is measured with a laser displacement measuring device. The measured data is input at a product shipment time or by<!-- EPO <DP n="9"> --> service personnel with an input unit such as an operation panel. However, to measure a variation in the belt thickness of a few micrometers, a high-precision measuring unit is necessary. Furthermore, since data management amount of the measured result and the data amount are large, input errors can occur.<!-- EPO <DP n="10"> --></p><p id="p0017" num="0017"><patcit id="pcit0003" dnum="EP1031887A"><text>EP 1 031 887 A</text></patcit> discloses an image forming apparatus. The image forming apparatus includes a plurality of image bearing members, an image forming device for forming images of plural colors on the plurality of image bearing members, a recording material conveying belt for bearing and conveying a recording material thereon, a drive roller for transmitting a driving force to the recording material conveying belt, the images of plural colors on the plurality of image bearing members formed by the image forming device being successively transferred to the recording material formed on the recording material conveying belt in superposed relationship with one another, and a control device for controlling the rotating speed of the drive roller on the basis of the thickness information of the recording material conveying belt in the direction of movement of the recording material conveying belt.</p><p id="p0018" num="0018"><patcit id="pcit0004" dnum="US6038423A"><text>US-6,038,423 A</text></patcit> discloses an image formation system for forming multicolor images. A registration pattern is formed on an intermediate transfer belt by using one photosensitive body. Pattern parts transferred onto the intermediate transfer belt vary in spacing due to speed variation occurring at the transfer time. The passing timing of the registration pattern is read through a read section placed downstream from the photosensitive body and speed (position) variation is sensed. The sense data is gotten over several cycles of the intermediate transfer belt and a low-frequency component caused by thickness unevenness of the intermediate transfer belt is extracted. The extracted data is subjected to the effects of variations at both the formation time and read time of the registration pattern and thus is corrected of calculating true speed (position) variation data.<!-- EPO <DP n="11"> --></p><heading id="h0004">SUMMARY OF THE INVENTION</heading><p id="p0019" num="0019">It is an object of the present invention to at least solve the problems in the conventional technology.</p><p id="p0020" num="0020">The aforementioned object is solved by the subject-matters of the independent claims. The dependent claims are directed to advantageous embodiments.</p><p id="p0021" num="0021">Advantageously, an apparatus controls a driving motor that drives a driving roller based on an output signal from an encoder attached to a driven roller. The apparatus includes: an endless belt that is driven by the driving roller, the endless belt bearing a mark indicating a reference position and having a thickness of which variation is represented by a function of a phase, a maximum amplitude, and a period; a reference-position detector that detects the reference position by detecting the mark; a nonvolatile memory that stores the phase at the reference position, the maximum amplitude, and the period; a correction-value calculating unit that calculates a correction value for a position on the endless belt based on a thickness of the endless belt at the position, the thickness being determined by the phase, the<!-- EPO <DP n="12"> --> maximum amplitude, and the period; a volatile memory that stores the correction value calculated; and a target-value calculating unit that reads out a correction value for a current position from the volatile memory based on a distance from the reference position to the current position, and adjusts a target value for controlling the driving motor based on the correction value to compensate for a variation in the output signal from the encoder due to the variation in the thickness of the endless belt.</p><p id="p0022" num="0022">Advantageously, an apparatus controls a driving motor that drives a driving roller based on an output signal from an encoder attached to a driven roller so that an angular velocity of the encoder is kept at a target value. The apparatus includes: an endless belt that is driven by the driving roller, the endless belt bearing a mark indicating a reference position and having a thickness of which variation is represented by a function of a phase and a maximum amplitude; a reference-position detector that detects the reference position by detecting the mark; an angular-velocity-variation detecting unit that detects a variation in the angular velocity of the encoder due to the variation in the thickness of the endless belt; a parameter calculating unit that determines the phase at the reference position and the maximum amplitude based on the variation<!-- EPO <DP n="13"> --> in the angular velocity of the encoder; a nonvolatile memory that stores the phase at the reference position and the maximum amplitude; a correction-value calculating unit that calculates a correction value for a position on the endless belt based on a thickness of the endless belt at the position, the thickness being determined by the phase at the reference position and the maximum amplitude; a volatile memory that stores the correction value calculated; and a target-value calculating unit that reads out a correction value for a current position from the volatile memory based on a distance from the reference position to the current position, and adjusts the target value based on the correction value to compensate for a variation in the output signal from the encoder due to the variation in the thickness of the endless belt.</p><p id="p0023" num="0023">Advantageously, an image forming apparatus includes a driving motor that drives a driving roller based on an output signal from an encoder attached to a driven roller. The image forming apparatus further includes: an endless belt that is driven by the driving roller, the endless belt bearing a mark indicating a reference position and having a thickness of which variation is represented by a function of a phase, a maximum amplitude, and a period; a reference-position detector that detects the reference position by detecting<!-- EPO <DP n="14"> --> the mark; a nonvolatile memory that stores the phase at the reference position, the maximum amplitude, and the period; a correction-value calculating unit that calculates a correction value for a position on the endless belt based on a thickness of the endless belt at the position, the thickness being determined by the phase, the maximum amplitude, and the period; a volatile memory that stores the correction value calculated; and a target-value calculating unit that reads out a correction value for a current position from the volatile memory based on a distance from the reference position to the current position, and adjusts a target value for controlling the driving motor based on the correction value to compensate for a variation in the output signal from the encoder due to the variation in the thickness of the endless belt.</p><p id="p0024" num="0024">Advantageously, an image forming apparatus controls a driving motor that drives a driving roller based on an output signal from an encoder attached to a driven roller so that an angular velocity of the encoder is kept at a target value. The image forming apparatus includes: an endless belt that is driven by the driving roller, the endless belt bearing a mark indicating a reference position and having a thickness of which variation is represented by a function of a phase and a maximum amplitude; a reference-position detector that<!-- EPO <DP n="15"> --> detects the reference position by detecting the mark; an angular-velocity-variation detecting unit that detects a variation in the angular velocity of the encoder due to the variation in the thickness of the endless belt; a parameter calculating unit that determines the phase at the reference position and the maximum amplitude based on the variation in the angular velocity of the encoder; a nonvolatile memory that stores the phase at the reference position and the maximum amplitude; a correction-value calculating unit that calculates a correction value for a position on the endless belt based on a thickness of the endless belt at the position, the thickness being determined by the phase at the reference position and the maximum amplitude; a volatile memory that stores the correction value calculated; and a target-value calculating unit that reads out a correction value for a current position from the volatile memory based on a distance from the reference position to the current position, and adjusts the target value based on the correction value to compensate for a variation in the output signal from the encoder due to the variation in the thickness of the endless belt.</p><p id="p0025" num="0025">The other objects, features, and advantages of the present invention are specifically set forth in or will become apparent from the following detailed description of the invention when read in conjunction with the<!-- EPO <DP n="16"> --> accompanying drawings.</p><heading id="h0005">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p0026" num="0026"><ul><li><figref idrefs="f0001">Fig. 1</figref> is a diagram for explaining a configuration of an image forming apparatus according to an embodiment of the present invention;</li><li><figref idrefs="f0002">Fig. 2</figref> is a diagram for explaining a configuration of a transfer unit shown in <figref idrefs="f0001">Fig. 1</figref>;</li><li><figref idrefs="f0003">Fig. 3</figref> is a diagram for explaining a configuration of relevant parts of the transfer unit shown in <figref idrefs="f0001">Fig. 1</figref>;</li><li><figref idrefs="f0003">Fig. 4</figref> is a diagram for explaining a detailed configuration of a right lower roller and an encoder shown in <figref idrefs="f0003">Fig. 3</figref>;</li><li><figref idrefs="f0004">Fig. 5</figref> is a diagram for explaining a configuration of a drive control device according to the embodiment;</li><li><figref idrefs="f0005">Fig. 6</figref> is a diagram for explaining a hardware configuration of a control system of a transfer driving motor and a controlled item according to the embodiment;</li><li><figref idrefs="f0005">Fig. 7</figref> is a diagram for explaining parameters of phase, amplitude, and period of a belt stored in a volatile memory;</li><li><figref idrefs="f0006">Figs. 8</figref> and <figref idrefs="f0007">9</figref> are timing charts of control according to the embodiment;</li><li><figref idrefs="f0007">Fig. 10</figref> is a graph of coefficients in a filter calculation;<!-- EPO <DP n="17"> --></li><li><figref idrefs="f0008">Fig. 11</figref> is a list of filter coefficients;</li><li><figref idrefs="f0009">Fig. 12</figref> is an amplitude characteristic diagram of a filter;</li><li><figref idrefs="f0009">Fig. 13</figref> is a phase characteristic diagram of the filter;</li><li><figref idrefs="f0010">Fig. 14</figref> is a diagram for explaining a proportional, integral, and differential (PID) control;</li><li><figref idrefs="f0011">Fig. 15</figref> is a flowchart of an interruption processing based on an encoder pulse;</li><li><figref idrefs="f0012">Fig. 16</figref> is a flowchart of a processing performed by an encoder pulse counter;</li><li><figref idrefs="f0013">Fig. 17</figref> is a flowchart of an interruption processing performed by a control period timer;</li><li><figref idrefs="f0014">Fig. 18</figref> is a graph of profile data when control target value is changed by about 50 times per full circle of a belt;</li><li><figref idrefs="f0014">Fig. 19</figref> is a graph of profile data when control target value is changed by 100 times per full circle of the belt;</li><li><figref idrefs="f0015">Fig. 20</figref> is a graph of profile data when control target value is changed by 20 times per full circle of the belt;</li><li><figref idrefs="f0015">Fig. 21</figref> is a diagram for explaining a relationship between a driving roller and a transfer belt;</li><li><figref idrefs="f0016">Fig. 22</figref> is a diagram for explaining a concept of a variation in a belt thickness and a variation in a belt conveyance speed over full circle of a belt when a driving<!-- EPO <DP n="18"> --> axis is rotated at a constant angular velocity;</li><li><figref idrefs="f0016">Fig. 23</figref> is a graph of a variation in a belt thickness on a driven axis and a variation in a belt conveyance speed (1) detected on the driven axis when the belt is conveyed at a constant conveyance speed;</li><li><figref idrefs="f0017">Fig. 24</figref> is a graph of a variation in a belt thickness on the driven axis and a variation in a belt conveyance speed (2) detected on the driven axis when the belt is conveyed at a constant conveyance speed;</li><li><figref idrefs="f0017">Fig. 25</figref> is a graph for explaining a state in which a transfer driving motor is driven at a constant speed; and</li><li><figref idrefs="f0018">Fig. 26</figref> is a graph for explaining a speed variation when a feedback control is started.</li></ul></p><heading id="h0006">DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS</heading><p id="p0027" num="0027">Exemplary embodiments of the present invention will be explained in detail below with reference to the accompanying drawings.</p><p id="p0028" num="0028"><figref idrefs="f0001">Fig. 1</figref> is a diagram for explaining a configuration of an image forming apparatus according to an embodiment of the present invention. Specifically, the image forming apparatus is a color laser printer (hereinafter, "laser printer") adopting a direct transfer system and an electrophotographing system. In the laser printer, four toner image forming units 1Y, 1M, 1C, and 1K (hereinafter,<!-- EPO <DP n="19"> --> the subscripts Y, M, C, and K denote yellow, magenta, cyan, and black color members, respectively) that form images of yellow (Y), magenta (M), cyan (C), and black (K) are sequentially disposed in a moving direction of a transfer paper 100 (direction in which a transfer conveyer belt 60 runs in an arrow A direction in <figref idrefs="f0001">Fig. 1</figref>) from the upstream. The toner image forming units 1Y, 1M, 1C, and 1K have photoconductive drums 11Y, 11M, 11C, and 11K as image carriers, and developing units. The toner image forming units 1Y, 1M, 1C, and 1K are disposed so that rotation axes of the photoconductive drums are in parallel and that the toner image forming units are disposed at predetermined pitches in the moving direction of the transfer paper.</p><p id="p0029" num="0029">The laser printer includes an optical writing unit 2, paper feed cassettes 3 and 4, a pair of resist rollers 5, a transfer unit 6 as a belt driving device having the transfer conveyer belt 60 as a transfer conveyer member that holds and conveys the transfer paper 100 to pass through transfer positions of toner image forming units, a fixing unit 7 of a belt fixing system, a paper ejection tray 8, and the like in addition to the toner image forming units 1Y, 1M, 1C, and 1K. The laser printer also includes a manual paper feed tray MF, and a toner replenishment container TC, and also has a waste toner bottle, a double-side inverting unit, a power source unit, and the like (not<!-- EPO <DP n="20"> --> shown) in a space S indicated by a chain double-dashed line.</p><p id="p0030" num="0030">The optical writing unit 2 has a light source, a polygon mirror, an fθ lens, a reflection mirror, and the like and irradiates a laser beam while scanning the surfaces of the photoconductive drums 11Y, 11M, 11C, and 11K based on the image data.</p><p id="p0031" num="0031"><figref idrefs="f0002">Fig. 2</figref> is an enlarged diagram for explaining a configuration of the transfer unit 6. The transfer conveyer belt 60 (endless belt) used in the transfer unit 6 is a high-resistance endless single-layer belt having a volume resistance rate of 10<sup>9</sup> to 10<sup>11</sup> Ωcm. The transfer conveyer belt 60 is made of polyvinylidene fluoride (PVDF). The transfer conveyer belt 60 is hooked around supporting rollers 61 to 68 so as to pass through the transfer positions facing and in contact with the photoconductive drums 11Y, 11M, 11C, and 11K of the toner image forming units.</p><p id="p0032" num="0032">Among these supporting rollers, on an entrance roller 61 at the upstream of the transfer paper moving direction, an electrostatic attraction roller 80 applied with a predetermined voltage from a power source 65a is disposed on the external peripheral surface of the transfer conveyer belt 60 to face the entrance roller 61. The transfer paper 100 that passes through between the two rollers 61 and 65<!-- EPO <DP n="21"> --> is electrostatically attracted on the transfer conveyer belt 60. A driving roller 63 is a driving roller that frictionally drives the transfer conveyer belt 60, rotates in an arrow direction, and is connected to a driving source (not shown).</p><p id="p0033" num="0033">At positions opposite to the photoconductive drums 11Y, 11M, 11C, and 11K, transfer bias applying members 67Y, 67M, 67C, and 67K are provided so as to be in contact with the back surface of the transfer conveyer belt 60, as a transfer electric field forming unit that forms a transfer electric field at each transfer position. These are bias rollers on the external surfaces of which sponge or the like is provided. A transfer bias is applied to a roller core metal from each of transfer bias power sources 9Y, 9M, 9C, and 9K. A transfer charge is applied to the transfer conveyer belt 60 based on the work of the applied transfer bias. A transfer electric field of predetermined intensity is formed between the transfer conveyer belt 60 and the surfaces of the photoconductive drums 11Y, 11M, 11C, and 11K at each transfer position. A backup roller 68 is also provided to maintain a proper contact between the transfer paper and the photoconductive drums 11Y, 11M, 11C, and 11K and to obtain a best transfer nip in the transfer area.</p><p id="p0034" num="0034">The transfer bias applying members 67Y, 67M, and 67C and the backup roller 68 disposed near these members are<!-- EPO <DP n="22"> --> rotatably and integrally held on an oscillation bracket 93, and can be rotated around a rotation axis 94. This rotation is in a clockwise rotation based on the rotation of a cam 96 fixed to a cam axis 97 in an arrow direction.</p><p id="p0035" num="0035">The entrance roller 61 and the electrostatic attraction roller 80 are integrally supported by an entrance roller bracket 90, and can be rotated in a clockwise direction in a state shown in <figref idrefs="f0002">Fig. 2</figref> around an axis 91. A hole 95 formed on the oscillation bracket 93 and a pin 92 fixed to the entrance roller bracket 90 are engaged together, and rotate together with the rotation of the oscillation bracket 93. Based on the clockwise rotation of the brackets 90 and 93, the transfer bias applying members 67Y, 67M, and 67C and the backup roller 68 disposed near these members are separated from the photoconductive drums 11Y, 11M, and 11C, and the entrance roller 61 and the electrostatic attraction roller 80 move downward. At the time of forming an image of black only, a contact between the photoconductive drums 11Y, 11M, and 11C and the transfer conveyer belt 60 can be avoided.</p><p id="p0036" num="0036">On the other hand, the transfer bias applying member 67K and the backup roller 68 adjacent to this member are rotatably supported by an exit bracket 98, and can rotate around an axis 99 coaxial with an exit roller 62. In detaching the transfer unit 6 from the main unit, the<!-- EPO <DP n="23"> --> transfer unit 6 is rotated in the clockwise direction using a handle (not shown). With this arrangement, the transfer bias applying member 67K and the backup roller 68 adjacent to this member are separated from the photoconductive drum 11K for forming a black image.</p><p id="p0037" num="0037">A cleaning device 85 including a brush roller and a cleaning blade is brought into contact with the external peripheral surface of the transfer conveyer belt 60 wound around the driving roller 63. The cleaning device 85 removes foreign matters such as a toner that is adhered to the transfer conveyer belt 60.</p><p id="p0038" num="0038">A roller 64 is provided in a direction to push the external peripheral surface of the transfer conveyer belt 60, at the downstream of the driving roller 63 in the running direction of the transfer conveyer belt 60, thereby securing a winding angle to the driving roller 63. A tension roller 65 that applies a tension to the belt with a pressing member (spring) 69 is provided within a loop of the transfer conveyer belt 60 at further downstream of the roller 64.</p><p id="p0039" num="0039">A dashed line shown in <figref idrefs="f0001">Fig. 1</figref> indicates a conveyance route of the transfer paper 100. The transfer paper 100 fed from the paper feed cassettes 3 and 4 or the manual paper feed tray MF is conveyed with a conveyer roller while being guided by a conveyance guide (not shown), and is sent<!-- EPO <DP n="24"> --> to a temporary stop position where the pair of resist rollers 5 are provided. The transfer paper 100 that is sent at a predetermined timing by the pair of resist rollers 5 is held on the transfer conveyer belt 60, conveyed toward the toner image forming units 1Y, 1M, 1C, and 1K, and passes through each transfer nip.</p><p id="p0040" num="0040">Toner images developed on the photoconductive drums 11Y, 11M, 11C, and 11K of the toner image forming units 1Y, 1M, 1C, and 1K are superimposed on the transfer paper 100 at the respective transfer nips, and are transferred onto the transfer paper 100 by receiving the transfer electric field and nip pressures. A full-color toner image is formed on the transfer paper 100 based on the superimposed transfer. The cleaning device cleans the surfaces of the photoconductive drums 11Y, 11M, 11C, and 11K after the transfer of the toner images. Electricity is removed from these photoconductive drums, to prepare for the next formation of electrostatic latent images.</p><p id="p0041" num="0041">On the other hand, the fixing unit 7 fixes the full-color toner image formed on the transfer paper 100. The transfer paper 100 is directed to a first paper eject direction B or a second paper eject direction C corresponding to a rotation posture of a switching guide G. When the transfer paper 100 is ejected onto the paper ejection tray 8 from the first paper eject direction B, the<!-- EPO <DP n="25"> --> transfer paper 100 is stacked in what is called a face-down state with the image surface facing downward. On the other hand, when the transfer paper 100 is ejected in the second paper eject direction C, the transfer paper 100 is conveyed toward a separate post-processing device (such as a sorter, or a binder) (not shown), or is conveyed to the pair of resist rollers 5 again to print on both sides via a switch back unit.</p><p id="p0042" num="0042">A full-color image is formed on the transfer paper 100 based on the above configuration. In the color image forming apparatus of the tandem system, it is important to superimpose toner images of various colors in high precision to prevent a color drift. However, the driving roller 63, the entrance roller 61, the exit roller 62, and the transfer conveyer belt 60 that are used in the transfer unit 6 have a manufacturing error of a few dozens of micrometers when parts are manufactured. Due to this error, a variation component that occurs when each part makes one rotation is transmitted to the transfer conveyer belt 60, and the paper conveyance speed varies. As a result, a slight deviation occurs in the timing when the toners on the photoconductive drums 11Y, 11M, 11C, and 11K are transferred onto the transfer paper 100, and a color drift occurs in the sub-scan direction. Particularly, in the apparatus that forms an image in fine dots of 1200x1200<!-- EPO <DP n="26"> --> dots per inch or the like, as in the present embodiment, timing deviation of a few micrometers leads to a distinguishable color drift. According to the present embodiment, an encoder is provided on the axis of a right lower roller 66. By detecting a rotation speed of the encoder, the rotation of the driving roller 63 is feedback controlled, thereby making the transfer conveyer belt 60 run at a constant speed.</p><p id="p0043" num="0043"><figref idrefs="f0003">Fig. 3</figref> is a diagram for explaining a configuration of relevant parts of the transfer unit 6. The driving roller 63 is connected to a driving gear of a transfer driving motor 302 through a timing belt 303. When the transfer driving motor 302 is driven, the driving roller 63 is rotated in proportion to the driving speed of the transfer driving motor 302. When the driving roller 63 is rotated, the transfer conveyer belt 60 is driven, by which the right lower roller 66 is rotated. In the present embodiment, an encoder 301 is disposed on the axis of the right lower roller 66. The encoder 301 detects the rotation speed of the right lower roller 66, thereby controlling the speed of the transfer driving motor 302. Since a color drift occurs due to the variation in the speed of the transfer conveyer belt 60 as described above, this speed control minimizes the speed variation.</p><p id="p0044" num="0044"><figref idrefs="f0003">Fig. 4</figref> is a detailed diagram of the right lower roller<!-- EPO <DP n="27"> --> 66 and the encoder 301. The encoder 301 includes a disk 401, a light-emitting element 402, a light-receiving element 403, and pressing bushes 404 and 405. The disk 401 is fixed to the axis of the right lower roller 66 by pressing the pressing bushes 404 and 405 to the axis of the right lower roller 66. The disk 401 rotates together with the rotation of the right lower roller 66. The disk 401 has slits that pass light in the resolution of a few hundred units in the circumferential direction. The light-emitting element 402 and the light-receiving element 403 are disposed at both sides of the disk 401, thereby obtaining a pulse-shaped ON/OFF signal corresponding to a rotation amount of the right lower roller 66. By detecting a move angle (hereinafter, "angular displacement") of the right lower roller 66 using this pulse-shaped ON/OFF signal, a drive amount of the transfer driving motor 302 is controlled.</p><p id="p0045" num="0045">A belt mark 304 for managing a reference position of the transfer conveyer belt is fitted in a non-image forming area on the surface of the transfer conveyer belt 60. A mark sensor 305 fitted near the belt mark 304 detects ON/OFF of the belt mark 304. An effective driving radius of the right lower roller 66 changes due to a variance in the thickness of the transfer conveyer belt 60 as described later. Therefore, although the actual speed of the<!-- EPO <DP n="28"> --> transfer conveyer belt 60 is constant, the encoder 301 detects that the speed varies. To prevent such error detection, a detection angular displacement error due to the belt thickness variation measured in advance is added to a control target value. By feedback controlling using the added result as a control target value, the belt is conveyed at a constant speed. The belt mark 304 is fitted to match the actual belt position with the position of the detection angular displacement error.</p><p id="p0046" num="0046">The control target value is variably controlled according to thickness profile data measured in advance, thereby canceling the error detection due to a belt thickness and making the belt run at a constant speed. The belt mark 304 is fitted to match the actual belt position with the position of the thickness profile data.</p><p id="p0047" num="0047">According to the proportional control calculation, a difference between the target angular displacement and the detection angular displacement for each control period is multiplied by a control gain, thereby controlling the driving speed of the transfer driving motor 302, as described above. Therefore, when the detection angular displacement error due to the belt thickness is large, the driving motor is driven in a more amplified manner. As a result, a speed variation of the transfer conveyer belt 60 occurs due to the belt thickness, causing a color drift.<!-- EPO <DP n="29"> --></p><p id="p0048" num="0048">As described above, when the transfer driving motor 302 is driven at a constant speed, even when the transfer conveyer belt 60 is ideally conveyed without a speed variation, the driven effective radius of the belt increases when a thick part of the belt is wound around the driven axis. As a result, the rotation angular displacement of the driven axis per constant time decreases. This is detected as a decrease in the belt conveyance speed. When a thin part of the belt is wound around the driven axis, the rotation angular displacement of the driven axis increases, and this is detected as an increase in the belt conveyance speed.</p><p id="p0049" num="0049">A behavior of the belt when the transfer driving motor 302 is driven at a constant speed is explained above. In other words, when a result of sampling a count value of the encoder 301 at a constant timing is as shown in <figref idrefs="f0017">Fig. 25</figref>, the right lower roller 66 is rotating at a constant speed. Therefore, in the present invention, as shown in <figref idrefs="f0017">Fig. 25</figref>, a target angular displacement for each control period is generated, and the encoder 301 is controlled according to the target angular displacement, thereby making the belt speed constant.</p><p id="p0050" num="0050">Instead of preparing a control parameter by measuring the actual thickness of the transfer conveyer belt 60 in the micrometer unit, it is prepared by using a detection<!-- EPO <DP n="30"> --> angular displacement error of the encoder in a rad unit that occurs due to a belt thickness.</p><p id="p0051" num="0051">Since the control parameter is generated from a result of an output from the encoder when the transfer driving motor 302 is driven at a constant speed, an actual device can generate the control parameter. A measuring device that measures a thickness of the belt is not necessary, and the device can be configured at very low cost.</p><p id="p0052" num="0052">As described later, a belt thickness is a characteristic of a sinusoidal wave in most cases. Therefore, when a high-resolution measurement with an external tool is possible, the external tool calculates a phase and a maximum amplitude at the belt mark 304 based on the measurement result. The calculation result is input as a control parameter using the operation panel of the actual device, thereby achieving the control.</p><p id="p0053" num="0053">In the actual result of an output from the encoder 301, not only the detection angular displacement error due to a belt thickness, but also variations in the driving roller and other constituent elements and rotation eccentricity components are superimposed in the output. Therefore, only an influential component of the driven roller is extracted from the output result, and the extracted result is used as a control parameter of a detection angular displacement error.<!-- EPO <DP n="31"> --></p><p id="p0054" num="0054"><figref idrefs="f0004">Fig. 5</figref> is a diagram for explaining a configuration of a drive control device according to the present embodiment. The application of the drive control device according to the present embodiment to a rotation unit driving apparatus according to the above embodiment is explained below.</p><p id="p0055" num="0055">A difference e(n) between a target angular displacement Ref(n) of the encoder 301 and a detection angular displacement P(n-1) of the encoder 301 is input to a controller unit 501. The controller unit 501 includes a lowpass filter 502 that removes high-frequency noise, and a proportional element (gain Kp) 503. The controller unit 501 obtains a correction amount of a standard driving pulse frequency that is used to drive the transfer driving motor 302, and applies this correction amount to a calculating unit 504. The calculating unit 504 adds the correction amount to a constant standard driving pulse frequency Refp_c, and determines a driving pulse frequency f(n).</p><p id="p0056" num="0056">A control target value added with the detection angular displacement error generated due to the variation in the thickness of the transfer conveyer belt 60 is generated for the target angular displacement Ref(n). By taking a difference e(n) between the control target value and a detection angular displacement P(n-1) detected by the encoder 301, a displacement amount of the difference is obtained. The detection angular displacement error<!-- EPO <DP n="32"> --> generated due to the variation in the thickness of the transfer conveyer belt 60 is periodically and repetitively added according to the output timing of the mark sensor 305 detected by the rotation of the transfer conveyer belt 60.</p><p id="p0057" num="0057"><figref idrefs="f0005">Fig. 6</figref> is a diagram for explaining a hardware configuration of a control system of the transfer driving motor 302 and a controlled item according to the present embodiment. The control system digitally controls the driving pulse of the transfer driving motor 302 based on the output signal of the encoder 301. The control system includes a central processing unit (CPU) 601, a random access memory (RAM) 602, a read only memory (ROM) 603, an input/output (I/O) controller 604, a transfer motor driving interface (I/F) 606, a driver 607, a detection I/O unit 608, and a bus 609.</p><p id="p0058" num="0058">The CPU 601 controls a reception of image data input from an external device 610, controls a transmission and a reception of a control command, and controls the entire image forming apparatus. The RAM 602 that is used for work, the ROM 603 that stores a program, and the I/O controller 604 are connected to one another via the bus. Based on instructions from the CPU 601, the control system executes various kinds of operation of a motor that executes a read/write processing of data and drives loads, a clutch, a solenoid, and a sensor.<!-- EPO <DP n="33"> --></p><p id="p0059" num="0059">The transfer motor driving I/F 606 outputs a command signal for instructing a driving frequency of a driving pulse signal to the transfer driving motor 302 via the driver 607, based on a drive command from the CPU 601. The transfer driving motor 302 is driven according to the above frequency. Therefore, the driving speed can be variably controlled.</p><p id="p0060" num="0060">An output signal from the encoder 301 is input to the detection I/O unit 608. The detection I/O unit 608 processes the output pulse of the encoder 301, and converts the processed result into a digital value. The detection I/O unit 608 has a counter that counts an output pulse of the encoder 301. The detection I/O unit 608 multiplies a value counted by the counter with a conversion constant of a predetermined pulse number versus angular displacement, thereby converting the count value into a digital value corresponding to an angular displacement of the right lower roller axis. A signal of the digital value corresponding to the angular displacement of the disk is sent to the CPU 601 via the bus 609.</p><p id="p0061" num="0061">The transfer motor driving I/F 606 generates a pulse-shaped control signal having a driving frequency based on the command signal of the driving frequency sent from the CPU 601.</p><p id="p0062" num="0062">The driver 607 includes power semiconductor elements<!-- EPO <DP n="34"> --> (for example, transistors). The driver 607 operates based on a pulse-shaped control signal output from the transfer motor driving I/F 606, and applies the pulse-shaped driving voltage to the transfer driving motor 302. As a result, the transfer driving motor 302 is drive-controlled in a predetermined driving frequency output from the CPU 601. Accordingly, the angular displacement of the disk 401 is controlled to follow the target angular displacement, and the right lower roller 66 is rotated at a predetermined equal angular velocity. The encoder 301 and the detection I/O unit 608 detect the angular displacement of the disk 401. The CPU 601 takes in the detected angular displacement, and repeats the control.</p><p id="p0063" num="0063">The RAM 602 is used as a work area for executing a program stored in the ROM 603, and also stores detection angular displacement error data for full circle of the belt from the belt mark 304 corresponding to the variation in the thickness of the transfer conveyer belt 60 measured in advance.</p><p id="p0064" num="0064">Since the RAM 602 is a volatile memory, phase and amplitude parameters of the belt as shown in <figref idrefs="f0005">Fig. 7</figref> are stored in a volatile memory such as an electronic erasable programmable read-only memory (EEPROM) (not shown). When the power source is turned on or when the transfer driving motor 302 is started, data for one period of the belt is<!-- EPO <DP n="35"> --> developed in the RAM 602 using a Sin function or an approximate expression. An actual thickness of the belt largely depends on a manufacturing process. In most cases, the belt thickness is in the Sin shape, and it is not particularly necessary to keep the entire detection angular displacement error data of full circle of the belt. When the phase and the amplitude are calculated from the reference position at the measuring time, and when the detection angular displacement error data is calculated based on the data, the result can be used as sufficiently equivalent data.</p><p id="p0065" num="0065">Therefore, the detection angular displacement error data for each control period does not need to be stored in a nonvolatile memory. Since the detection angular displacement error data due to the belt thickness is generated based on only the phase and amplitude parameters, only the area for the volatile memory is sufficient to carry out the control. The detection angular displacement error data due to the belt thickness is generated when the power source is turned on or when the transfer motor is started, based on the following expression:
<ul><li>Δθ [rad]: A rotation angular velocity variation of the driven axis [=b×sin(2×π×ft+τ)].</li></ul></p><p id="p0066" num="0066">The above Δθ is calculated according to the control<!-- EPO <DP n="36"> --> time from the belt mark 304, and is sequentially stored into the RAM 602 as a volatile memory. In actually driving the transfer driving motor 302, data is read by switching the reference address in the RAM 602 according to the timing when the mark sensor 305 detects the belt mark 304. By adding the read data to the control target angular displacement, feedback control is carried out without the influence of the belt thickness.</p><p id="p0067" num="0067">When only the peak value of a speed variation due to the belt thickness is decreased, the detection angular displacement error data due to the belt thickness for each control period is not necessary. Therefore, to reduce the memory area, profile data is obtained when control target value is changed by about 50 points per full circle of the belt as shown in <figref idrefs="f0014">Fig. 18</figref>. When the transfer conveyer belt reaches each point, the thickness profile data is updated, thereby sufficiently reducing the peak value.</p><p id="p0068" num="0068">However, when the number of times of changing the control target value per full circle of the belt is decreased and this number becomes smaller, a value immediately before being updated has an error with respect to an ideal value, as shown by A in <figref idrefs="f0014">Fig. 18</figref>. Consequently, at least this error is output as a variation in the speed of the belt.</p><p id="p0069" num="0069">Therefore, in the present embodiment, the number of<!-- EPO <DP n="37"> --> times of changing the control target value per full circle of the belt is changed according to the quality of the image formed. When a high-definition image is printed, the number of times of changing the control target value is increased, thereby decreasing errors and minimizing a variation in the speed of the belt. On the other hand, when a low-definition image is printed, the number of times of changing the control target value is decreased, thereby reducing the control load. In this case, a permissible number is selected when the number of errors increases to some extent and when a speed variation occurs.</p><p id="p0070" num="0070">In the above operation, control is switched over depending on the image quality, such as high resolution and low resolution of printing like 1200/600 dots per inch, or a natural image and a text image.</p><p id="p0071" num="0071">When the image quality is high as shown in <figref idrefs="f0014">Fig. 19</figref>, belt thickness profile data is.changed by 100 points per full circle of the belt, and when the image quality is low as shown in <figref idrefs="f0015">Fig. 20</figref>, belt thickness profile data is changed by 20 points per full circle of the belt. In this way, the control is switched over depending on the image quality. This is effective to reduce a memory capacity and to shorten the time of developing profile data in the memory.</p><p id="p0072" num="0072">When there is no time for developing data before starting printing, plural memory areas for storing the<!-- EPO <DP n="38"> --> several kinds of profile data are prepared. The data are collectively developed when the power source is turned on. A memory area to be used for forming an image is selected, thereby obtaining the equivalent effect.</p><p id="p0073" num="0073"><figref idrefs="f0014">Fig. 19</figref> is a graph of profile data when control target value is changed by about 100 points per full circle of a belt. <figref idrefs="f0015">Fig. 20</figref> is a graph of profile data when control target value is changed by about 20 points per full circle of a belt.</p><p id="p0074" num="0074"><figref idrefs="f0006">Figs. 8</figref> and <figref idrefs="f0007">9</figref> are timing charts for achieving the above control. A count value of an encoder pulse counter 1 is increased at a rising edge of an A phase output of an encoder pulse. A control period of the above control is 1 millisecond. Each time when a control period timer interrupts the CPU 601, a count value of a control period timer counter is increased. The timer is started when a rising edge of the encoder pulse is detected for the first time after a through-up and a settling of the driving motor end. A count value of the control period timer counter is reset at the same time.</p><p id="p0075" num="0075">Each time when a microcomputer is interrupted by the control period timer, a count value ne of the encoder pulse counter 1 is obtained, a count value q of the control period timer counter is obtained, and the count values are increased. The count value of an encoder pulse counter 2<!-- EPO <DP n="39"> --> is increased at the rising edge of the A phase output of the encoder pulse, like the count value of the encoder pulse counter 1. The count value is reset at the rising edge of the first encoder pulse after the mark sensor 305 is input. Therefore, the encoder pulse counter 2 substantially counts a moving distance from the belt mark 304. According to the value, a reference address in the RAM 602 in which control target profile data per full circle of the belt is stored is switched.</p><p id="p0076" num="0076">A position deviation is calculated, based on the above count values, as follows: <maths id="math0007" num=""><math display="block"><mi mathvariant="normal">E</mi><mfenced><mi mathvariant="normal">n</mi></mfenced><mspace width="1em"/><mfenced open="[" close="]"><mi>rad</mi></mfenced><mo>=</mo><msub><mi mathvariant="normal">θ</mi><mn>0</mn></msub><mo>×</mo><mi mathvariant="normal">q</mi><mo>+</mo><mfenced separators=""><mi mathvariant="normal">Δθ</mi><mo>-</mo><msub><mi mathvariant="normal">Δθ</mi><mn>0</mn></msub></mfenced><mo>-</mo><msub><mi mathvariant="normal">θ</mi><mn>1</mn></msub><mo>×</mo><mi>ne</mi><mo>,</mo></math><img id="ib0007" file="imgb0007.tif" wi="80" he="8" img-content="math" img-format="tif"/></maths><br/>
where
<ul><li>e(n) [rad]: A position deviation (calculated at the sampling this time);</li><li>θ<sub>0</sub> [rad]: A move angle per control period 1 [millisecond] (=2π×V×10-3/1π [rad]);</li><li>Δθ [rad]: A rotation angular velocity variation of a driven axis [=b×sin(2×π×ft×τ)] (a table reference value);</li><li>Δθ<sub>0</sub> [rad]: A first obtained Δθ value after driving motor is started;</li><li>θ<sub>1</sub> [rad]: A move angle per one pulse of encoder (=2π/p [rad]);</li><li>q: A count value of control period timer;<!-- EPO <DP n="40"> --></li><li>V: A belt linear velocity [mm/s];</li><li>l: A right lower roller diameter [millimeter];</li><li>b: An amplitude that changes due to belt thickness [rad] ;</li><li>τ: A phase of belt mark of belt thickness variation [rad]; and</li><li>f: A period of belt thickness variation [Hertz].</li></ul></p><p id="p0077" num="0077">According to the present embodiment, the external diameter of the driven roller to which the encoder is fitted is φ15.515 [millimeter], and the belt thickness is 0.1 [millimeter]. While the driven roller is rotated based on the friction of the belt, approximately a half of the belt thickness is a practical core line for rotating the driven roller. Based on the above assumption, the roller diameter becomes as follows: <maths id="math0008" num=""><math display="block"><mi mathvariant="normal">l</mi><mo>=</mo><mn>15.515</mn><mo>+</mo><mn>0.1</mn><mo>=</mo><mn>15.615</mn><mspace width="1em"/><mfenced open="[" close="]"><mi>millimeter</mi></mfenced><mn>.</mn></math><img id="ib0008" file="imgb0008.tif" wi="89" he="9" img-content="math" img-format="tif"/></maths></p><p id="p0078" num="0078">According to the present embodiment, resolution p of the encoder is 300 pulses per one rotation. Furthermore, in the present embodiment, the first obtained Δθ value after the transfer driving motor 302 is started is Δθ<sub>0</sub>. The first obtained Δθ<sub>0</sub> after the transfer driving motor 302 is started is subtracted from Δθ in the calculation expression "(Δθ-Δθ<sub>0</sub>)", thereby mitigating a sudden speed variation when the feedback control is started as shown in<!-- EPO <DP n="41"> --> <figref idrefs="f0018">Fig. 26</figref>. The same Δθ<sub>0</sub> is used during the rotation of the transfer driving motor 302, and this Δθ<sub>0</sub> is updated each time when the transfer driving motor 302 is started.</p><p id="p0079" num="0079">To avoid responding to a sudden positional change, filter calculation of the following specification is carried out to the calculated deviation
<ul><li>Filter type: Butterworth IIR lowpass filter;</li><li>Sampling frequency: 1 kilohertz (= control period);</li><li>Passband ripple (Rp): 0.01 decibel;</li><li>Stopband end attenuation (Rs): 2 decibels;</li><li>Passband end frequency (Fp): 50 hertz; and</li><li>Stopband end frequency (Fs): 100 hertz.</li></ul></p><p id="p0080" num="0080"><figref idrefs="f0007">Fig. 10</figref> is a block diagram of the filter calculation, and <figref idrefs="f0008">Fig. 11</figref> is a list of filter coefficients. Filters are connected in cascade at two stages. Intermediate nodes at the stages are defined as u1(n), u1(n-1), and u1(n-2), and u2(n), u2(n-1), and u2(n-2). These indexes have the following meanings
<ul><li>(n): A current sampling;</li><li>(n-1): A sampling one before; and</li><li>(n-2): A sampling two before.</li></ul></p><p id="p0081" num="0081">The following programming calculation is carried out each time when the control timer is interrupted during the execution of the feedback:<!-- EPO <DP n="42"> --> <maths id="math0009" num=""><math display="block"><mi mathvariant="normal">u</mi><mo>⁢</mo><mn>1</mn><mfenced><mi mathvariant="normal">n</mi></mfenced><mo>=</mo><mi mathvariant="normal">a</mi><mo>⁢</mo><mn>11</mn><mo>×</mo><mi mathvariant="normal">u</mi><mo>⁢</mo><mn>1</mn><mo>⁢</mo><mfenced separators=""><mi mathvariant="normal">n</mi><mo>-</mo><mn>1</mn></mfenced><mo>+</mo><mi mathvariant="normal">a</mi><mo>⁢</mo><mn>21</mn><mo>×</mo><mi mathvariant="normal">u</mi><mo>⁢</mo><mn>1</mn><mo>⁢</mo><mfenced separators=""><mi mathvariant="normal">n</mi><mo>-</mo><mn>2</mn></mfenced><mo>+</mo><mi mathvariant="normal">e</mi><mfenced><mi mathvariant="normal">n</mi></mfenced><mo>×</mo><mi>ISF</mi><mo>;</mo></math><img id="ib0009" file="imgb0009.tif" wi="103" he="9" img-content="math" img-format="tif"/></maths> <maths id="math0010" num=""><math display="block"><mi mathvariant="normal">e</mi><mo>⁢</mo><mn>1</mn><mfenced><mi mathvariant="normal">n</mi></mfenced><mo>=</mo><mi mathvariant="normal">b</mi><mo>⁢</mo><mn>01</mn><mo>×</mo><mi mathvariant="normal">u</mi><mo>⁢</mo><mn>1</mn><mfenced><mi mathvariant="normal">n</mi></mfenced><mo>+</mo><mi mathvariant="normal">b</mi><mo>⁢</mo><mn>11</mn><mo>×</mo><mi mathvariant="normal">u</mi><mo>⁢</mo><mn>1</mn><mo>⁢</mo><mfenced separators=""><mi mathvariant="normal">n</mi><mo>-</mo><mn>1</mn></mfenced><mo>+</mo><mi mathvariant="normal">b</mi><mo>⁢</mo><mn mathvariant="normal">21</mn><mo>×</mo><mi mathvariant="normal">u</mi><mo>⁢</mo><mn mathvariant="normal">1</mn><mo>⁢</mo><mfenced separators=""><mi mathvariant="normal">n</mi><mo>-</mo><mn>2</mn></mfenced><mo>;</mo></math><img id="ib0010" file="imgb0010.tif" wi="104" he="8" img-content="math" img-format="tif"/></maths> <maths id="math0011" num=""><math display="block"><mi mathvariant="normal">u</mi><mo>⁢</mo><mn>1</mn><mo>⁢</mo><mfenced separators=""><mi mathvariant="normal">n</mi><mo>+</mo><mn>2</mn></mfenced><mo>=</mo><mi mathvariant="normal">u</mi><mo>⁢</mo><mn>1</mn><mo>⁢</mo><mfenced separators=""><mi mathvariant="normal">n</mi><mo>+</mo><mn>1</mn></mfenced><mo>;</mo></math><img id="ib0011" file="imgb0011.tif" wi="44" he="8" img-content="math" img-format="tif"/></maths> <maths id="math0012" num=""><math display="block"><mi mathvariant="normal">u</mi><mo>⁢</mo><mn>1</mn><mo>⁢</mo><mfenced separators=""><mi mathvariant="normal">n</mi><mo>+</mo><mn>1</mn></mfenced><mo>=</mo><mi mathvariant="normal">u</mi><mo>⁢</mo><mn>1</mn><mfenced><mi mathvariant="normal">n</mi></mfenced><mo>;</mo></math><img id="ib0012" file="imgb0012.tif" wi="40" he="9" img-content="math" img-format="tif"/></maths> <maths id="math0013" num=""><math display="block"><mi mathvariant="normal">u</mi><mo>⁢</mo><mn>2</mn><mfenced><mi mathvariant="normal">n</mi></mfenced><mo>=</mo><mi mathvariant="normal">a</mi><mo>⁢</mo><mn>12</mn><mo>×</mo><mi mathvariant="normal">u</mi><mo>⁢</mo><mn>2</mn><mo>⁢</mo><mfenced separators=""><mi mathvariant="normal">n</mi><mo>-</mo><mn>1</mn></mfenced><mo>+</mo><mi mathvariant="normal">a</mi><mo>⁢</mo><mn>22</mn><mo>×</mo><mi mathvariant="normal">u</mi><mo>⁢</mo><mn>2</mn><mo>⁢</mo><mfenced separators=""><mi mathvariant="normal">n</mi><mo>-</mo><mn>2</mn></mfenced><mo>+</mo><mi mathvariant="normal">e</mi><mo>⁢</mo><mn>1</mn><mfenced><mi mathvariant="normal">n</mi></mfenced><mo>;</mo></math><img id="ib0013" file="imgb0013.tif" wi="97" he="9" img-content="math" img-format="tif"/></maths> <maths id="math0014" num=""><math display="block"><msup><mi mathvariant="normal">e</mi><mo>′</mo></msup><mfenced><mi mathvariant="normal">n</mi></mfenced><mo>=</mo><mi mathvariant="normal">b</mi><mo>⁢</mo><mn>02</mn><mo>×</mo><mi mathvariant="normal">u</mi><mo>⁢</mo><mn>2</mn><mfenced><mi mathvariant="normal">n</mi></mfenced><mo>+</mo><mi mathvariant="normal">b</mi><mo>⁢</mo><mn>12</mn><mo>×</mo><mi mathvariant="normal">u</mi><mo>⁢</mo><mn>2</mn><mo>⁢</mo><mfenced separators=""><mi mathvariant="normal">n</mi><mo>-</mo><mn>1</mn></mfenced><mo>+</mo><mi mathvariant="normal">b</mi><mo>⁢</mo><mn mathvariant="normal">22</mn><mo>×</mo><mi mathvariant="normal">u</mi><mo>⁢</mo><mn>2</mn><mo>⁢</mo><mfenced separators=""><mi mathvariant="normal">n</mi><mo>-</mo><mn>2</mn></mfenced><mo>;</mo></math><img id="ib0014" file="imgb0014.tif" wi="106" he="9" img-content="math" img-format="tif"/></maths> <maths id="math0015" num=""><math display="block"><mi mathvariant="normal">u</mi><mo>⁢</mo><mn>2</mn><mo>⁢</mo><mfenced separators=""><mi mathvariant="normal">n</mi><mo>-</mo><mn>2</mn></mfenced><mo>=</mo><mi mathvariant="normal">u</mi><mo>⁢</mo><mn>2</mn><mo>⁢</mo><mfenced separators=""><mi mathvariant="normal">n</mi><mo>-</mo><mn>1</mn></mfenced><mo>;</mo></math><img id="ib0015" file="imgb0015.tif" wi="43" he="8" img-content="math" img-format="tif"/></maths> and <maths id="math0016" num=""><math display="block"><mi mathvariant="normal">u</mi><mo>⁢</mo><mn>2</mn><mo>⁢</mo><mfenced separators=""><mi mathvariant="normal">n</mi><mo>-</mo><mn>1</mn></mfenced><mo>=</mo><mi mathvariant="normal">u</mi><mo>⁢</mo><mn>2</mn><mfenced><mi mathvariant="normal">n</mi></mfenced><mn>.</mn></math><img id="ib0016" file="imgb0016.tif" wi="38" he="7" img-content="math" img-format="tif"/></maths></p><p id="p0082" num="0082"><figref idrefs="f0009">Fig. 12</figref> is an amplitude characteristic diagram of the filter, and <figref idrefs="f0009">Fig. 13</figref> is a phase characteristic diagram. A control amount of a controlled item is obtained. In the control block diagram, when a PID (P: proportional, I: integral, and D: differential) control is considered for a position controller, the following expression is obtained: <maths id="math0017" num=""><math display="block"><mi mathvariant="normal">F</mi><mfenced><mi mathvariant="normal">S</mi></mfenced><mo>=</mo><mi mathvariant="normal">G</mi><mfenced><mi mathvariant="normal">S</mi></mfenced><mo>×</mo><msup><mi mathvariant="normal">E</mi><mo>′</mo></msup><mfenced><mi mathvariant="normal">S</mi></mfenced><mo>=</mo><mi>Kp</mi><mo>×</mo><msup><mi mathvariant="normal">E</mi><mo>′</mo></msup><mfenced><mi mathvariant="normal">S</mi></mfenced><mo>+</mo><mi>Ki</mi><mo>×</mo><msup><mi mathvariant="normal">E</mi><mo>′</mo></msup><mfenced><mi mathvariant="normal">S</mi></mfenced><mo>/</mo><mi mathvariant="normal">S</mi><mo>+</mo><mi>Kd</mi><mo>×</mo><mi mathvariant="normal">S</mi><mo>×</mo><msup><mi mathvariant="normal">E</mi><mo>′</mo></msup><mfenced><mi mathvariant="normal">S</mi></mfenced><mo>,</mo></math><img id="ib0017" file="imgb0017.tif" wi="126" he="9" img-content="math" img-format="tif"/></maths> where
<ul><li>Kp denotes a proportional gain;</li><li>Ki denotes an integration gain; and</li><li>Kd denotes a differential gain, and</li></ul>
<maths id="math0018" num="(1)"><math display="block"><mi mathvariant="normal">G</mi><mfenced><mi mathvariant="normal">S</mi></mfenced><mo>=</mo><mi mathvariant="normal">F</mi><mfenced><mi mathvariant="normal">S</mi></mfenced><mo>/</mo><msup><mi mathvariant="normal">E</mi><mo>′</mo></msup><mfenced><mi mathvariant="normal">S</mi></mfenced><mo>=</mo><mi>Kp</mi><mo>+</mo><mi>Ki</mi><mo>/</mo><mi mathvariant="normal">S</mi><mo>+</mo><mi>Kd</mi><mo>×</mo><mi mathvariant="normal">S</mi><mn>.</mn></math><img id="ib0018" file="imgb0018.tif" wi="144" he="9" img-content="math" img-format="tif"/></maths></p><p id="p0083" num="0083">The expression (1) is bilinearly converted (S=(2/T)×(1-Z<sup>-1</sup>)/(1+Z<sup>-1</sup>)) to obtain the following expression: <maths id="math0019" num="(2)"><math display="block"><mi mathvariant="normal">G</mi><mfenced><mi mathvariant="normal">Z</mi></mfenced><mo>=</mo><mfenced separators=""><mi mathvariant="normal">b</mi><mo>⁢</mo><mn>0</mn><mo>+</mo><mi mathvariant="normal">b</mi><mo>⁢</mo><mn>1</mn><mo>×</mo><msup><mi mathvariant="normal">Z</mi><mrow><mo>-</mo><mn>1</mn></mrow></msup><mo>+</mo><mi mathvariant="normal">b</mi><mo>⁢</mo><mn>2</mn><mo>×</mo><msup><mi mathvariant="normal">Z</mi><mrow><mo>-</mo><mn>2</mn></mrow></msup></mfenced><mo>/</mo><mfenced separators=""><mn>1</mn><mo>-</mo><mi mathvariant="normal">a</mi><mo>⁢</mo><mn>1</mn><mo>⁢</mo><msup><mrow><mo>×</mo><mi mathvariant="normal">Z</mi></mrow><mrow><mo>-</mo><mn>1</mn></mrow></msup><mo>-</mo><mi mathvariant="normal">a</mi><mo>⁢</mo><mn>2</mn><mo>×</mo><msup><mi mathvariant="normal">Z</mi><mrow><mo>-</mo><mn>2</mn></mrow></msup></mfenced><mo>,</mo></math><img id="ib0019" file="imgb0019.tif" wi="144" he="12" img-content="math" img-format="tif"/></maths><br/>
<!-- EPO <DP n="43"> -->where <maths id="math0020" num=""><math display="block"><mi mathvariant="normal">a</mi><mo>⁢</mo><mn>1</mn><mo>=</mo><mn>0</mn></math><img id="ib0020" file="imgb0020.tif" wi="17" he="9" img-content="math" img-format="tif"/></maths> <maths id="math0021" num=""><math display="block"><mi mathvariant="normal">a</mi><mo>⁢</mo><mn>2</mn><mo>=</mo><mn>1</mn></math><img id="ib0021" file="imgb0021.tif" wi="18" he="7" img-content="math" img-format="tif"/></maths> <maths id="math0022" num=""><math display="block"><mi mathvariant="normal">b</mi><mo>⁢</mo><mn>0</mn><mo>=</mo><mi>Kp</mi><mo>+</mo><mi mathvariant="normal">T</mi><mo>×</mo><mi>Ki</mi><mo>/</mo><mn>2</mn><mo>+</mo><mn>2</mn><mo>×</mo><mi>Kd</mi><mo>/</mo><mi mathvariant="normal">T</mi><mo>;</mo></math><img id="ib0022" file="imgb0022.tif" wi="57" he="8" img-content="math" img-format="tif"/></maths> <maths id="math0023" num=""><math display="block"><mi mathvariant="normal">b</mi><mo>⁢</mo><mn>1</mn><mo>=</mo><mi mathvariant="normal">T</mi><mo>×</mo><mi>Ki</mi><mo>-</mo><mn>4</mn><mo>×</mo><mi>Kd</mi><mo>/</mo><mi mathvariant="normal">T</mi><mo>;</mo></math><img id="ib0023" file="imgb0023.tif" wi="42" he="7" img-content="math" img-format="tif"/></maths> and <maths id="math0024" num=""><math display="block"><mi mathvariant="normal">b</mi><mo>⁢</mo><mn>2</mn><mo>=</mo><mo>-</mo><mi>Kp</mi><mo>+</mo><mi mathvariant="normal">T</mi><mo>×</mo><mi>Ki</mi><mo>/</mo><mn>2</mn><mo>+</mo><mn>2</mn><mo>×</mo><mi>Kd</mi><mo>/</mo><mi mathvariant="normal">T</mi><mn>.</mn></math><img id="ib0024" file="imgb0024.tif" wi="57" he="9" img-content="math" img-format="tif"/></maths></p><p id="p0084" num="0084">The expression (2) is expressed in a block diagram as shown in <figref idrefs="f0010">Fig. 14</figref>, where e'(n) and f(n) indicate that E'(S) and F(S) are handled as discrete data respectively. In <figref idrefs="f0010">Fig. 14</figref>, when intermediate nodes are defined as w(n), w(n-1), and w(n-2), the following differential equation is obtained (general expression of the PID control). These indexes have the following meanings
<ul><li>(n): A current sampling;</li><li>(n-1): A sampling one before;</li><li>(n-2): A sampling two before;</li></ul>
<maths id="math0025" num="(3)"><math display="block"><mi mathvariant="normal">w</mi><mfenced><mi mathvariant="normal">n</mi></mfenced><mo>=</mo><mi mathvariant="normal">a</mi><mo>⁢</mo><mn>1</mn><mo>×</mo><mi mathvariant="normal">w</mi><mo>⁢</mo><mfenced separators=""><mi mathvariant="normal">n</mi><mo>-</mo><mn>1</mn></mfenced><mo>+</mo><mi mathvariant="normal">a</mi><mo>⁢</mo><mn>2</mn><mo>×</mo><mi mathvariant="normal">w</mi><mo>⁢</mo><mfenced separators=""><mi mathvariant="normal">n</mi><mo>-</mo><mn>2</mn></mfenced><mo>+</mo><msup><mi mathvariant="normal">e</mi><mo>′</mo></msup><mfenced><mi mathvariant="normal">n</mi></mfenced><mo>;</mo><mi>and</mi></math><img id="ib0025" file="imgb0025.tif" wi="142" he="8" img-content="math" img-format="tif"/></maths> <maths id="math0026" num="(4)"><math display="block"><mi mathvariant="normal">f</mi><mfenced><mi mathvariant="normal">n</mi></mfenced><mo>=</mo><mi mathvariant="normal">b</mi><mo>⁢</mo><mn>0</mn><mo>×</mo><mi mathvariant="normal">w</mi><mfenced><mi mathvariant="normal">n</mi></mfenced><mo>+</mo><mi mathvariant="normal">b</mi><mo>⁢</mo><mn>1</mn><mo>×</mo><mi mathvariant="normal">w</mi><mo>⁢</mo><mfenced separators=""><mi mathvariant="normal">n</mi><mo>-</mo><mn>1</mn></mfenced><mo>+</mo><mi mathvariant="normal">b</mi><mo>⁢</mo><mn>2</mn><mo>×</mo><mi mathvariant="normal">w</mi><mo>⁢</mo><mfenced separators=""><mi mathvariant="normal">n</mi><mo>-</mo><mn>2</mn></mfenced><mn>.</mn></math><img id="ib0026" file="imgb0026.tif" wi="141" he="9" img-content="math" img-format="tif"/></maths></p><p id="p0085" num="0085">When a proportional control is considered for a position controller, an integral gain and a differential gain are zero. Therefore, coefficients shown in <figref idrefs="f0010">Fig. 14</figref> become as follows, and the expressions (3) and (4) are simplified as follows: <maths id="math0027" num=""><math display="block"><mi mathvariant="normal">a</mi><mo>⁢</mo><mn>1</mn><mo>=</mo><mn>0</mn><mo>;</mo></math><img id="ib0027" file="imgb0027.tif" wi="17" he="8" img-content="math" img-format="tif"/></maths><!-- EPO <DP n="44"> --> <maths id="math0028" num=""><math display="block"><mi mathvariant="normal">a</mi><mo>⁢</mo><mn>2</mn><mo>=</mo><mn>1</mn><mo>;</mo></math><img id="ib0028" file="imgb0028.tif" wi="16" he="7" img-content="math" img-format="tif"/></maths> <maths id="math0029" num=""><math display="block"><mi mathvariant="normal">b</mi><mo>⁢</mo><mn>0</mn><mo>=</mo><mi>Kp</mi><mo>;</mo></math><img id="ib0029" file="imgb0029.tif" wi="19" he="7" img-content="math" img-format="tif"/></maths> <maths id="math0030" num=""><math display="block"><mi mathvariant="normal">b</mi><mo>⁢</mo><mn>1</mn><mo>=</mo><mn>0</mn><mo>;</mo></math><img id="ib0030" file="imgb0030.tif" wi="16" he="8" img-content="math" img-format="tif"/></maths> <maths id="math0031" num=""><math display="block"><mi mathvariant="normal">b</mi><mo>⁢</mo><mn>2</mn><mo>=</mo><mo>-</mo><mi>Kp</mi><mo>;</mo></math><img id="ib0031" file="imgb0031.tif" wi="22" he="7" img-content="math" img-format="tif"/></maths><maths id="math0032" num=""><math display="block"><mrow><mi mathvariant="normal">w</mi><mfenced><mi mathvariant="normal">n</mi></mfenced><mo>=</mo><mi mathvariant="normal">w</mi><mrow><mfenced separators=""><mi mathvariant="normal">n</mi><mo>-</mo><mn>2</mn></mfenced><mo>+</mo><msup><mrow><mi mathvariant="normal">e</mi></mrow><mrow><mo>′</mo></mrow></msup></mrow><mfenced><mi mathvariant="normal">n</mi></mfenced><mo>;</mo></mrow></math><img id="ib0032" file="imgb0032.tif" wi="48" he="8" img-content="math" img-format="tif"/></maths> and<maths id="math0033" num="(5)"><math display="block"><mi mathvariant="normal">f</mi><mfenced><mi mathvariant="normal">n</mi></mfenced><mo>=</mo><mi>Kp</mi><mo>×</mo><mi mathvariant="normal">w</mi><mfenced><mi mathvariant="normal">n</mi></mfenced><mo>-</mo><mi>Kp</mi><mo>×</mo><mi mathvariant="normal">w</mi><mo>⁢</mo><mfenced separators=""><mi mathvariant="normal">n</mi><mo>-</mo><mn mathvariant="normal">2</mn></mfenced><mspace width="3em"/><mfenced separators=""><mo>∴</mo><mi mathvariant="normal">f</mi><mfenced><mi mathvariant="normal">n</mi></mfenced><mo>=</mo><mi>Kp</mi><mo>×</mo><mi mathvariant="normal">eʹ</mi><mfenced><mi mathvariant="normal">n</mi></mfenced></mfenced></math><img id="ib0033" file="imgb0033.tif" wi="140" he="10" img-content="math" img-format="tif"/></maths></p><p id="p0086" num="0086">Discrete data f0(n) corresponding to F0(S) is 6105 Hertz, in other words, constant in the present embodiment. Therefore, a pulse frequency to be set to the transfer driving motor 302 is finally calculated based on the following expression: <maths id="math0034" num="(6)"><math display="block"><msup><mi mathvariant="normal">f</mi><mo>′</mo></msup><mfenced><mi mathvariant="normal">n</mi></mfenced><mo>=</mo><mi mathvariant="normal">f</mi><mfenced><mi mathvariant="normal">n</mi></mfenced><mo>+</mo><mi mathvariant="normal">f</mi><mo>⁢</mo><mn>0</mn><mfenced><mi mathvariant="normal">n</mi></mfenced><mo>=</mo><mi>Kp</mi><mo>×</mo><msup><mi mathvariant="normal">e</mi><mo>′</mo></msup><mfenced><mi mathvariant="normal">n</mi></mfenced><mo>+</mo><mn>6105</mn><mspace width="1em"/><mfenced open="[" close="]"><mi>Hertz</mi></mfenced></math><img id="ib0034" file="imgb0034.tif" wi="139" he="10" img-content="math" img-format="tif"/></maths></p><p id="p0087" num="0087"><figref idrefs="f0011">Fig. 15</figref> is a flowchart of the operation of the encoder pulse counter 1. It is determined whether a pulse input is the first input after the through-up and settling (step S1). When the determination result at step S1 is YES, the count value of the encoder pulse counter 1 is cleared to zero (step S2), the count value of the control period counter is cleared to zero (step S3), an interruption by the control period timer is permitted (step S4), the control period timer is started (step S5), and the process returns. When the determination result at step S1 is NO, the count value of the encoder pulse counter is increased (step S6), and the process returns.<!-- EPO <DP n="45"> --></p><p id="p0088" num="0088"><figref idrefs="f0012">Fig. 16</figref> is a flowchart of the operation of the encoder pulse counter 2. When the encoder pulse is input, a state of the mark sensor 305 is determined (step S11). When the determination result at step S11 is YES, the count value of the encoder pulse counter 2 is cleared to zero (step S12). When the determination result at step S11 is NO, the count value of the encoder pulse counter 2 is increased (step S13), and the process returns.</p><p id="p0089" num="0089"><figref idrefs="f0013">Fig. 17</figref> is a flowchart of an interruption processing performed by the control period timer. The count value of the control period timer counter is increased (step S21), and the encoder pulse count value ne is obtained (step S22). The Δθ value is obtained by referring to table data (step S23), and the table reference address is increased (step S24). A position deviation is calculated using these values (step S25), and the obtained position deviation is filtered (step S26). The control amount is calculated (proportional calculation) based on the filter calculation result (step S27). The frequency of the driving pulse of the stepping motor is actually changed (step S28), and the process returns.</p><p id="p0090" num="0090">Based on the above control, the control of stabilizing the speed variation that is generated due to the belt thickness can be properly carried out at low cost according to the image quality.<!-- EPO <DP n="46"> --></p><p id="p0091" num="0091">According to the present invention, the drive control device of the present invention is applied to the transfer unit 6 in the tandem system printer in which the photoconductive drums 11Y, 11M, 11C, and 11K are disposed on the transfer conveyer belt 60. The configurations of the printer and the belt driving device to which the drive control device according to the present invention can be applied are not limited thereto. The drive control device according to the present invention can be applied to any belt driving device in a printer, in which the belt driving device drives an endless belt using at least one of plural rollers with which the endless belt is stretched.</p><p id="p0092" num="0092">According to the present invention, printing paper is conveyed with the transfer conveyer belt 60, and toners of four colors are directly transferred onto the printing paper from the photoconductive drum 11. It is also possible to apply the present invention to the intermediate transfer for transferring toners of four colors onto the transfer conveyer belt 60 and transferring the superimposed four colors onto the printing paper. While a laser beam is used as an exposure light source in the present embodiment, the light source is not limited to this, and a light-emitting diode (LED) array and the like can be also used. While the belt speed and the position are detected with the rotary encoder fitted to the driven roller axis, the<!-- EPO <DP n="47"> --> detection method is not limited to this. A scale or a toner mark formed on the front surface or the back surface of the belt can be also detected. Although the controller carries out the PI control, the controller can also carry out a P (proportional) control, the PID control, or an H control.</p><p id="p0093" num="0093">According to the present invention, the drive control device for an endless belt refers to profile data stored in the volatile memory according to a distance from a mark when the endless belt is driven, and adds the profile data to the control target value, thereby stabilizing the speed variation due to a belt thickness. Therefore, the drive control device for an endless belt that can properly function at low cost can be provided.</p><p id="p0094" num="0094">According to the present invention, the drive control device for an endless belt adds the profile data to the control target value, thereby carrying out the drive control. Therefore, the drive control device for an endless belt that can stabilize the speed variation due to the belt thickness can be provided.</p><p id="p0095" num="0095">According to the present invention, the drive control device for an endless belt that can reduce a memory capacity of the volatile memory can be provided.</p><p id="p0096" num="0096">According to the present invention, the drive control device for an endless belt stores data into the volatile<!-- EPO <DP n="48"> --> memory by thinning the data. Therefore, the drive control device for an endless belt that can reduce the memory capacity of the volatile memory can be provided.</p><p id="p0097" num="0097">According to the present invention, the drive control device for an endless belt stores data into the volatile memory by thinning the data. Therefore, the drive control device for an endless belt that can reduce the memory capacity of the volatile memory can be provided.</p><p id="p0098" num="0098">According to the present invention, the drive control device for an endless belt switches the control depending on the image quality of print resolution, a natural image, and a text image. Therefore, the drive control device for an endless belt that can reduce the memory capacity and shorten the time of developing profile data in the memory can be provided.</p><p id="p0099" num="0099">According to the present invention, the image forming apparatus refers to profile data stored in the volatile memory according to a distance from a mark when the endless belt is driven, and adds the profile data to the control target value, thereby stabilizing the speed variation due to a belt thickness. Therefore, the image forming apparatus that can properly function at low cost can be provided.</p><p id="p0100" num="0100">According to the present invention, the image forming apparatus adds the profile data to the control target value,<!-- EPO <DP n="49"> --> thereby carrying out the drive control. Therefore; the image forming apparatus that can stabilize the speed variation due to the belt thickness can be provided.</p><p id="p0101" num="0101">According to the present invention, the image forming apparatus that can reduce a memory capacity of the volatile memory can be provided.</p><p id="p0102" num="0102">According to the present invention, the image forming apparatus stores data into the volatile memory by thinning the data. Therefore, the image forming apparatus that can reduce the memory capacity of the volatile memory can be provided.</p><p id="p0103" num="0103">According to the present invention, the image forming apparatus stores data into the volatile memory by thinning the data. Therefore, the image forming apparatus that can reduce the memory capacity of the volatile memory can be provided.</p><p id="p0104" num="0104">According to the present invention, the image forming apparatus switches the control depending on the image quality of print resolution, a natural image, and a text image. Therefore, the image forming apparatus that can reduce the memory capacity and shorten the time of developing profile data in the memory can be provided.</p><p id="p0105" num="0105">According to the present invention, the drive control device for an endless belt adds the profile data to the control target value, thereby carrying out the drive<!-- EPO <DP n="50"> --> control. Therefore, the drive control device for an endless belt that can stabilize the speed variation due to the belt thickness can be provided.</p><p id="p0106" num="0106">According to the present invention, the drive control device for an endless belt adds the profile data to the control target value, thereby carrying out the drive control. Therefore, the drive control device for an endless belt that can stabilize the speed variation due to the belt thickness can be provided.</p><p id="p0107" num="0107">According to the present invention, the drive control device for an endless belt that can reduce a memory capacity of the volatile memory can be provided.</p><p id="p0108" num="0108">According to the present invention, the drive control device for an endless belt stores data into the volatile memory by thinning the data. Therefore, the drive control device for an endless belt that can reduce the memory capacity of the volatile memory can be provided.</p><p id="p0109" num="0109">According to the present invention, the drive control device for an endless belt that can prevent a transient variation in the control target value at the control starting time can be provided.</p><p id="p0110" num="0110">According to the present invention, the image forming apparatus adds the profile data to the control target value, thereby carrying out the drive control. Therefore, the image forming apparatus that can stabilize the speed<!-- EPO <DP n="51"> --> variation due to the belt thickness can be provided.</p><p id="p0111" num="0111">According to the present invention, the image forming apparatus adds the profile data to the control target value, thereby carrying out the drive control. Therefore, the image forming apparatus that can stabilize the speed variation due to the belt thickness can be provided.</p><p id="p0112" num="0112">According to the present invention, the image forming apparatus that can reduce the memory capacity of the volatile memory can be provided.</p><p id="p0113" num="0113">According to the present invention, the image forming apparatus stores data into the volatile memory by thinning the data. Therefore, the image forming apparatus that can reduce the memory capacity of the volatile memory can be provided.</p><p id="p0114" num="0114">According to the present invention, the image forming apparatus that can prevent a transient variation in the control target value at the control starting time can be provided.</p><p id="p0115" num="0115">According to the present invention, operability of the image forming apparatus can be improved by the input operation using the operation panel.</p><p id="p0116" num="0116">Furthermore, the present invention can be applied to the image forming apparatus configured by four continuous tandems.</p><p id="p0117" num="0117">Moreover, the present invention can be applied to the<!-- EPO <DP n="52"> --> image forming apparatus that uses an intermediate transfer conveyer belt and a direct transfer conveyer belt.</p></description><claims mxw-id="PCLM56987354" lang="DE" load-source="patent-office"><!-- EPO <DP n="56"> --><claim id="c-de-01-0001" num="0001"><claim-text>Vorrichtung zum Steuern eines Treibmotors (302), der eine Treibrolle bzw. Treibwalze (63) treibt, und zwar basierend auf einem Ausgabesignal eines Encoders bzw. Impulsgebers (301), der an eine getriebene Rolle bzw. Walze (66) angefügt bzw. angebracht ist, wobei die Vorrichtung aufweist:
<claim-text>ein Endlosband (60), das konfiguriert ist, um durch die Treibrolle bzw. Treibwalze (63) getrieben zu werden, wobei das Endlosband (60) eine Marke bzw. Markierung (304) trägt, die eine Referenzposition anzeigt, und eine Dicke aufweist, dessen Variation durch eine Funktion einer Phase, einer maximalen Amplitude und einer Periode entlang eines vollen Kreises bzw. Umfangsdes Endlosbandes (60) repräsentiert ist;</claim-text>
<claim-text>einen Referenzpositionsdetektor (305), der konfiguriert ist, um die Referenzposition durch das Detektieren der Marke bzw. Markierung (304) zu detektieren;</claim-text>
<claim-text>einen nichtflüchtigen Speicher (306), der konfiguriert ist, um die Phase bei der Referenzposition, die maximale Amplitude, die Periode und die Funktion zu speichern;</claim-text>
<claim-text>eine Korrekturwertberechnungseinheit (601), die konfiguriert ist, um die Dicke von bzw. aus oder mittels der Funktion zu berechnen und, um einen Korrekturwert davon für eine Position auf dem Endlosband (60) basierend auf einer Dicke des Endlosbandes (60) bei der Position zu berechnen, wobei die Dicke bestimmt wird durch die Phase, die maximale Amplitude und die Periode für jede Position entlang des vollen Kreises bzw. Umfangs des Endlosbandes (60);</claim-text>
<claim-text>einen flüchtigen Speicher (602), der konfiguriert ist, um den Korrekturwert zu speichern, der für jede Position entlang des vollen Kreises bzw. Umfangs des Endlosbandes (60) berechnet wurde; und</claim-text>
<claim-text>eine Zielwertberechnungseinheit (601), die konfiguriert ist, um einen Korrekturwert für eine gegenwärtige Position von dem flüchtigten Speicher (602) auszulesen, und zwar basierend auf einer Distanz von der Referenzposition zu der gegenwärtigen Position, und konfiguriert ist, um einen Zielwert zum Steuern des Treibmotors (302) zu justieren, und zwar basierend auf dem Korrekturwert, um eine Variation in dem Ausgabesignal von dem Encoder<!-- EPO <DP n="57"> --> bzw. Impulsgeber (301) aufgrund der Variation in der Dicke des Endlosbandes (60) zu kompensieren.</claim-text></claim-text></claim><claim id="c-de-01-0002" num="0002"><claim-text>Vorrichtung nach Anspruch 1, wobei die Korrekturwertberechnungseinheit (601) konfiguriert ist, um den Korrekturwert zu einer Zeit des Anschaltens bzw. Einschaltens der Vorrichtung oder eines Treibens des Endlosbandes (60) zu berechnen.</claim-text></claim><claim id="c-de-01-0003" num="0003"><claim-text>Vorrichtung nach Anspruch 1 oder 2, wobei die Funktion eine Sinusfunktion ist.</claim-text></claim><claim id="c-de-01-0004" num="0004"><claim-text>Vorrichtung nach irgendeinem der Ansprüche 1 bis 3, wobei der flüchtige Speicher (602) konfiguriert ist, um eine Vielzahl von Korrekturwerten, die zu einer Vielzahl von Positionen korrespondieren, die durch ein vorbestimmtes Intervall bestimmt sind, zu bestimmen.</claim-text></claim><claim id="c-de-01-0005" num="0005"><claim-text>Vorrichtung nach Anspruch 4, wobei<br/>
der flüchtige Speicher (602) in eine Vielzahl von Bereichen geteilt ist, und<br/>
jeder der Bereiche konfiguriert ist, um die Korrekturwerte, die zu den Positionen korrespondieren, die durch unterschiedliche Intervalle bestimmt sind, zu speichern.</claim-text></claim><claim id="c-de-01-0006" num="0006"><claim-text>Vorrichtung nach Anspruch 5, wobei die Zielwertberechnungseinheit (601) konfiguriert ist, um einen Bereich des flüchtigen Speichers (602) aus bzw. unter den Bereichen auszuwählen, und zwar basierend auf einer Bildqualität, und um die Korrekturwerte von dem Bereich auszulesen.</claim-text></claim><claim id="c-de-01-0007" num="0007"><claim-text>Vorrichtung nach irgendeinem der Ansprüche 1 bis 4, wobei der Encoder bzw. Impulsgeber (301) zu der angetriebenen Rolle bzw. Walze (66) hinzugefügt bzw. angebracht ist, so dass eine Winkelgeschwindigkeit des Encoders bzw. Impulsgebers (301) bei einem Zielwert gehalten wird, wobei die Vorrichtung weiter aufweist:
<claim-text>eine Winkelgeschwindigkeitsvariationsdetetkionseinheit (601), die konfiguriert ist, um eine Variation in der Winkelgeschwindigkeit des Encoders bzw. Impulsgebers (301) aufgrund der Variation in der Dicke des Endlosbandes (60) zu detektieren; und<!-- EPO <DP n="58"> --></claim-text>
<claim-text>eine Parameterberechnungseinheit (601), die konfiguriert ist, um die Phase bei der Referenzposition und die maximale Amplitude zu bestimmen, und zwar basierend auf der Variation in der Winkelgeschwindigkeit des Encoders bzw. Impulsgebers (301);</claim-text>
<claim-text>wobei die Dicke durch die Phase bei der Referenzposition und der maximalen Amplitude bestimmt ist.</claim-text></claim-text></claim><claim id="c-de-01-0008" num="0008"><claim-text>Vorrichtung nach Anspruch 7, weiter aufweisend eine Korrekturwertjustiereinheit (601), die konfiguriert ist, um den Korrekturwert zu justieren, und zwar basierend auf welchem der Zielwert bei einem Start bzw. Beginn einer Steuerung des Treibmotors (302) justiert ist, und zwar zu Null.</claim-text></claim><claim id="c-de-01-0009" num="0009"><claim-text>Bilderzeugungsvornchtung mit einer Vorrichtung nach irgendeinem der Ansprüche 1 bis 8.</claim-text></claim><claim id="c-de-01-0010" num="0010"><claim-text>Bilderzeugungsvorrichtung nach Anspruch 9, wobei die Korrekturwertberechnungseinheit (601) konfiguriert ist, um den Korrekturwert bei einer Zeit des Anschaltens bzw. Einschaltens der Bilderzeugungsvorrichtung oder eines Treibens des Endlosbandes (60) zu berechnen.</claim-text></claim></claims><claims mxw-id="PCLM56987355" lang="EN" load-source="patent-office"><!-- EPO <DP n="53"> --><claim id="c-en-01-0001" num="0001"><claim-text>An apparatus for controlling a driving motor (302) that drives a driving roller (63) based on an output signal from an encoder (301) attached to a driven roller (66), the apparatus comprising:
<claim-text>an endless belt (60) configured to be driven by the driving roller (63), the endless belt (60) bearing a mark (304) indicating a reference position and having a thickness of which variation is represented by a function of a phase, a maximum amplitude, and a period along a full circle of the endless belt (60);</claim-text>
<claim-text>a reference-position detector (305) configured to detect the reference position by detecting the mark (304);</claim-text>
<claim-text>a nonvolatile memory (306) configured to store the phase at the reference position, the maximum amplitude, the period and the function;</claim-text>
<claim-text>a correction-value calculating unit (601) configured to calculate the thickness from said function and to calculate a correction value therefrom for a position on the endless belt (60) based on a thickness of the endless belt (60) at the position, the thickness being determined by the phase, the maximum amplitude, and the period for each position along the full circle of the endless belt (60);</claim-text>
<claim-text>a volatile memory (602) configured to store the correction value calculated for each position along the full circle of the endless belt (60); and</claim-text>
<claim-text>a target-value calculating unit (601) configured to read out a correction value for a current position from the volatile memory (602) based on a distance from the reference position to the current position, and configured to adjust a target value for controlling the driving motor (302) based on the correction value to compensate for a variation in the output signal from the encoder (301) due to the variation in the thickness of the endless belt (60).</claim-text><!-- EPO <DP n="54"> --></claim-text></claim><claim id="c-en-01-0002" num="0002"><claim-text>The apparatus according to claim 1, wherein the correction-value calculating unit (601) is configured to calculate the correction value at a time of turning on the apparatus or a driving of the endless belt (60).</claim-text></claim><claim id="c-en-01-0003" num="0003"><claim-text>The apparatus according to claim 1 or 2, wherein the function is a sine function.</claim-text></claim><claim id="c-en-01-0004" num="0004"><claim-text>The apparatus according to any one of claims 1 to 3, wherein the volatile memory (602) is configured to store a plurality of correction values corresponding to a plurality of positions determined by a predetermined interval.</claim-text></claim><claim id="c-en-01-0005" num="0005"><claim-text>The apparatus according to claim 4, wherein<br/>
the volatile memory (602) is divided into a plurality of areas, and<br/>
each of the areas is configured to store the correction values corresponding to the positions determined by different intervals.</claim-text></claim><claim id="c-en-01-0006" num="0006"><claim-text>The apparatus according to claim 5, wherein the target-value calculating unit (601) is configured to select an area of the volatile memory (602) from among the areas based on an image quality, and to read out the correction values from the area.</claim-text></claim><claim id="c-en-01-0007" num="0007"><claim-text>The apparatus according to any one of claim 1 to 4, wherein the encoder (301) is attached to the driven roller (66) so that an angular velocity of the encoder (301) is kept at a target value, the apparatus further comprising:
<claim-text>an angular-velocity-variation detecting unit (601) configured to detect a variation in the angular velocity of the encoder (301) due to the variation in the thickness of the endless belt (60); and</claim-text>
<claim-text>a parameter calculating unit (601) configured to determine the phase at the reference position and the maximum amplitude based on the variation in the angular velocity of the encoder (301);</claim-text>
<claim-text>wherein the thickness is determined by the phase at the reference position and the maximum amplitude.</claim-text><!-- EPO <DP n="55"> --></claim-text></claim><claim id="c-en-01-0008" num="0008"><claim-text>The apparatus according to claim 7, further comprising a correction-value adjusting unit (601) configured to adjust the correction value, based on which the target value is adjusted at a start of a control of the driving motor (302), to zero.</claim-text></claim><claim id="c-en-01-0009" num="0009"><claim-text>An image forming apparatus with an apparatus according to any one of claims 1 to 8.</claim-text></claim><claim id="c-en-01-0010" num="0010"><claim-text>The image forming apparatus according to claim 9, wherein the correction-value calculating unit (601) is configured to calculate the correction value at a time of turning on the image forming apparatus or a driving of the endless belt (60).</claim-text></claim></claims><claims mxw-id="PCLM56987356" lang="FR" load-source="patent-office"><!-- EPO <DP n="59"> --><claim id="c-fr-01-0001" num="0001"><claim-text>Appareil pour contrôler un moteur d'entraînement (302) qui entraîne un rouleau d'entraînement (63) en fonction d'un signal de sortie provenant d'un encodeur (301) fixé sur un rouleau entraîné (66), l'appareil comprenant :
<claim-text>une courroie sans fin (60) configurée pour être entraînée par le rouleau d'entraînement (63), la courroie sans fin (60) portant une marque (304) indiquant une position de référence et ayant une épaisseur dont la variation est représentée par une fonction d'une phase, une amplitude maximum et une période le long d'un cercle complet de la courroie sans fin (60) ;</claim-text>
<claim-text>un détecteur de position de référence (305) configuré pour détecter la position de référence en détectant la marque (304) ;</claim-text>
<claim-text>une mémoire non volatile (306) configurée pour mémoriser la phase dans la position de référence, l'amplitude maximum, la période et la fonction ;</claim-text>
<claim-text>une unité de calcul de valeur de correction (601) configurée pour calculer l'épaisseur d'après ladite fonction et pour calculer une valeur de correction à partir de cette dernière pour une position sur la courroie sans fin (60) en fonction d'une épaisseur de la courroie sans fin (60) dans la position, l'épaisseur étant déterminée par la phase, l'amplitude maximum et la période pour chaque position le long du cercle complet de la courroie sans fin (60) ;</claim-text>
<claim-text>une mémoire volatile (602) configurée pour mémoriser la valeur de correction calculée pour chaque position le long du cercle complet de la courroie sans fin (60) ; et</claim-text>
<claim-text>une unité de calcul de valeur cible (601) configurée pour lire une valeur de correction pour une position actuelle à partir de la mémoire volatile (602) basée sur une distance de la position de référence à la position actuelle, et configurée<!-- EPO <DP n="60"> --> pour ajuster une valeur cible afin de contrôler le moteur d'entraînement (302) en fonction de la valeur de correction pour compenser une variation du signal de sortie provenant de l'encodeur (301) due à la variation de l'épaisseur de la courroie sans fin (60).</claim-text></claim-text></claim><claim id="c-fr-01-0002" num="0002"><claim-text>Appareil selon la revendication 1, dans lequel l'unité de calcul de valeur de correction (601) est configurée pour calculer la valeur de correction à un moment de mise en marche de l'appareil ou un entraînement de la courroie sans fin (60).</claim-text></claim><claim id="c-fr-01-0003" num="0003"><claim-text>Appareil selon la revendication 1 ou 2, dans lequel la fonction est une fonction sinusoïdale.</claim-text></claim><claim id="c-fr-01-0004" num="0004"><claim-text>Appareil selon l'une quelconque des revendications 1 à 3, dans lequel la mémoire volatile (602) est configurée pour stocker une pluralité de valeurs de correction correspondant à une pluralité de positions déterminées par un intervalle prédéterminé.</claim-text></claim><claim id="c-fr-01-0005" num="0005"><claim-text>Appareil selon la revendication 4, dans lequel :
<claim-text>la mémoire volatile (602) est divisée en une pluralité de zones, et</claim-text>
<claim-text>chacune des zones est configurée pour stocker les valeurs de correction correspondant aux positions déterminées par différents intervalles.</claim-text></claim-text></claim><claim id="c-fr-01-0006" num="0006"><claim-text>Appareil selon la revendication 5, dans lequel l'unité de calcul de valeur cible (601) est configurée pour sélectionner une zone de la mémoire volatile (602) parmi les zones basées sur une qualité d'image, et pour lire les valeurs de correction à partir de la zone.<!-- EPO <DP n="61"> --></claim-text></claim><claim id="c-fr-01-0007" num="0007"><claim-text>Appareil selon l'une quelconque des revendications 1 à 4, dans lequel l'encodeur (301) est fixé au rouleau entraîné (66) de sorte qu'une vitesse angulaire de l'encodeur (301) est maintenue à une valeur cible, l'appareil comprenant en outre :
<claim-text>une unité de détection de variation de vitesse angulaire (601) configurée pour détecter une variation de la vitesse angulaire de l'encodeur (301) due à la variation de l'épaisseur de la courroie sans fin (60) ; et</claim-text>
<claim-text>une unité de calcul de paramètre (601) configurée pour déterminer la phase dans la position de référence et l'amplitude maximum en fonction de la variation de la vitesse angulaire de l'encodeur (301) ;</claim-text>
<claim-text>dans lequel l'épaisseur est déterminée par la phase dans la position de référence et l'amplitude maximum.</claim-text></claim-text></claim><claim id="c-fr-01-0008" num="0008"><claim-text>Appareil selon la revendication 7, comprenant en outre une unité d'ajustement de valeur de correction (601) configurée pour ajuster la valeur de correction, en fonction de quoi la valeur cible est réglée, au début d'un contrôle du moteur d'entraînement (302), sur zéro.</claim-text></claim><claim id="c-fr-01-0009" num="0009"><claim-text>Appareil de formation d'image avec un appareil selon l'une quelconque des revendications 1 à 8.</claim-text></claim><claim id="c-fr-01-0010" num="0010"><claim-text>Appareil de formation d'image selon la revendication 9, dans lequel l'unité de calcul de valeur de correction (601) est configurée pour calculer la valeur de correction à un moment de mise en marche de l'appareil de formation d'image ou un entraînement de la courroie sans fin (60).</claim-text></claim></claims><drawings mxw-id="PDW16672724" load-source="patent-office"><!-- EPO <DP n="62"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="165" he="209" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="63"> --><figure id="f0002" num="2"><img id="if0002" file="imgf0002.tif" wi="165" he="200" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="64"> --><figure id="f0003" num="3,4"><img id="if0003" file="imgf0003.tif" wi="163" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="65"> --><figure id="f0004" num="5"><img id="if0004" file="imgf0004.tif" wi="155" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="66"> --><figure id="f0005" num="6,7"><img id="if0005" file="imgf0005.tif" wi="164" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="67"> --><figure id="f0006" num="8"><img id="if0006" file="imgf0006.tif" wi="163" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="68"> --><figure id="f0007" num="9,10"><img id="if0007" file="imgf0007.tif" wi="161" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="69"> --><figure id="f0008" num="11"><img id="if0008" file="imgf0008.tif" wi="121" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="70"> --><figure id="f0009" num="12,13"><img id="if0009" file="imgf0009.tif" wi="165" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="71"> --><figure id="f0010" num="14"><img id="if0010" file="imgf0010.tif" wi="155" he="142" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="72"> --><figure id="f0011" num="15"><img id="if0011" file="imgf0011.tif" wi="156" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="73"> --><figure id="f0012" num="16"><img id="if0012" file="imgf0012.tif" wi="164" he="170" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="74"> --><figure id="f0013" num="17"><img id="if0013" file="imgf0013.tif" wi="106" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="75"> --><figure id="f0014" num="18,19"><img id="if0014" file="imgf0014.tif" wi="159" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="76"> --><figure id="f0015" num="20,21"><img id="if0015" file="imgf0015.tif" wi="157" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="77"> --><figure id="f0016" num="22,23"><img id="if0016" file="imgf0016.tif" wi="153" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="78"> --><figure id="f0017" num="24,25"><img id="if0017" file="imgf0017.tif" wi="136" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="79"> --><figure id="f0018" num="26"><img id="if0018" file="imgf0018.tif" wi="160" he="233" img-content="drawing" img-format="tif"/></figure></drawings><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
