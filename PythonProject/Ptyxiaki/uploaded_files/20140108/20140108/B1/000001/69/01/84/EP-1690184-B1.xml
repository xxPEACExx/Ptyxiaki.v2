<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-1690184-B1" country="EP" doc-number="1690184" kind="B1" date="20140108" family-id="34677134" file-reference-id="316317" date-produced="20180826" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146589082" ucid="EP-1690184-B1"><document-id><country>EP</country><doc-number>1690184</doc-number><kind>B1</kind><date>20140108</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-04810477-A" is-representative="NO"><document-id mxw-id="PAPP154851274" load-source="docdb" format="epo"><country>EP</country><doc-number>04810477</doc-number><kind>A</kind><date>20041104</date><lang>EN</lang></document-id><document-id mxw-id="PAPP219977173" load-source="docdb" format="original"><country>EP</country><doc-number>04810477.2</doc-number><date>20041104</date></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140548898" ucid="US-2004037060-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>2004037060</doc-number><kind>W</kind><date>20041104</date></document-id></priority-claim><priority-claim mxw-id="PPC140556015" ucid="US-72839803-A" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>72839803</doc-number><kind>A</kind><date>20031205</date></document-id></priority-claim></priority-claims><dates-of-public-availability><intention-to-grant-date><date>20130705</date></intention-to-grant-date><search-report-dispatch-date><date>20100831</date></search-report-dispatch-date></dates-of-public-availability><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1989327542" load-source="docdb">G06F  11/36        20060101AFI20100825BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1989648837" load-source="docdb">G06F  11/00        20060101A I20051110RMEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL1989629907" load-source="docdb" scheme="CPC">G06F  11/3636      20130101 FI20130101BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989650932" load-source="docdb" scheme="CPC">G06F  11/3632      20130101 LI20130101BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989651152" load-source="docdb" scheme="CPC">G06F  11/3648      20130101 LI20130101BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132371879" lang="DE" load-source="patent-office">VORRICHTUNG UND VERFAHREN ZUR ZEITLICHEN ORDNUNG VON EREIGNISSEN IN EINEM SYSTEM MIT MEHREREN ZEITDOMÄNEN</invention-title><invention-title mxw-id="PT132371880" lang="EN" load-source="patent-office">APPARATUS AND METHOD FOR TIME ORDERING EVENTS IN A SYSTEM HAVING MULTIPLE TIME DOMAINS</invention-title><invention-title mxw-id="PT132371881" lang="FR" load-source="patent-office">APPAREIL ET PROCEDE POUR L'ORDONNANCEMENT TEMPOREL D'EVENEMENTS DANS UN SYSTEME A PLUSIEURS DOMAINES TEMPORELS</invention-title><citations><non-patent-citations><nplcit><text>WILLIAM J. DALLY, JOHN W. POULTON: "Digital Systems Engineering", 1998, CAMBRIDGE UNIVERITY PRESS, Cambridge, United Kingdom, ISBN: 0-521-59292-5</text><sources><source mxw-id="PNPL66762158" load-source="docdb" name="EXA"/></sources></nplcit></non-patent-citations></citations></technical-data><parties><applicants><applicant mxw-id="PPAR919528747" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>FREESCALE SEMICONDUCTOR INC</last-name><address><country>US</country></address></addressbook></applicant><applicant mxw-id="PPAR919544414" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>FREESCALE SEMICONDUCTOR, INC.</last-name></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR919534659" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>MOYER WILLIAM C</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR919542918" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>MOYER, WILLIAM C.</last-name></addressbook></inventor><inventor mxw-id="PPAR919026245" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>MOYER, WILLIAM C.</last-name><address><street>1111 Meadow Ridge Drive</street><city>Dripping Springs, TX 78620</city><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR919539152" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>COLLINS RICHARD G</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR919527542" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>COLLINS, RICHARD G.</last-name></addressbook></inventor><inventor mxw-id="PPAR919026246" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>COLLINS, RICHARD G.</last-name><address><street>13405 Country Lake Drive</street><city>Austin, TX 78732</city><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR919529481" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>FITZSIMMONS MICHAEL D</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR919514246" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>FITZSIMMONS, MICHAEL D.</last-name></addressbook></inventor><inventor mxw-id="PPAR919026247" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>FITZSIMMONS, MICHAEL D.</last-name><address><street>819 Laurel Cir.</street><city>Crossville, TN 38555-3718</city><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR919509459" load-source="docdb" sequence="4" format="epo"><addressbook><last-name>NEARING JASON T</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR919504842" load-source="docdb" sequence="4" format="intermediate"><addressbook><last-name>NEARING, JASON T.</last-name></addressbook></inventor><inventor mxw-id="PPAR919026248" load-source="patent-office" sequence="4" format="original"><addressbook><last-name>NEARING, JASON T.</last-name><address><street>12611 Marimba Trail</street><city>Austin, TX 78729</city><country>US</country></address></addressbook></inventor></inventors><assignees><assignee mxw-id="PPAR919026249" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Freescale Semiconductor, Inc.</last-name><iid>100125500</iid><address><street>6501 William Cannon Drive West</street><city>Austin, TX 78735</city><country>US</country></address></addressbook></assignee></assignees><agents><agent mxw-id="PPAR919026250" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Ferro, Frodo Nunes</last-name><iid>101343309</iid><address><street>Freescale Semiconducteurs France SAS c/o Optimus Patents Ltd Grove House, Lutyens Close Chineham Court</street><city>Basingstoke, Hampshire RG24 8AG</city><country>GB</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="US-2004037060-W"><document-id><country>US</country><doc-number>2004037060</doc-number><kind>W</kind><date>20041104</date><lang>EN</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2005062181-A1"><document-id><country>WO</country><doc-number>2005062181</doc-number><kind>A1</kind><date>20050707</date><lang>EN</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS549791048" load-source="docdb">AT</country><country mxw-id="DS549875354" load-source="docdb">BE</country><country mxw-id="DS549884067" load-source="docdb">BG</country><country mxw-id="DS549890541" load-source="docdb">CH</country><country mxw-id="DS549793322" load-source="docdb">CY</country><country mxw-id="DS549791053" load-source="docdb">CZ</country><country mxw-id="DS549875355" load-source="docdb">DE</country><country mxw-id="DS549793323" load-source="docdb">DK</country><country mxw-id="DS549793324" load-source="docdb">EE</country><country mxw-id="DS549926334" load-source="docdb">ES</country><country mxw-id="DS549884068" load-source="docdb">FI</country><country mxw-id="DS549899318" load-source="docdb">FR</country><country mxw-id="DS549875356" load-source="docdb">GB</country><country mxw-id="DS549793337" load-source="docdb">GR</country><country mxw-id="DS549791054" load-source="docdb">HU</country><country mxw-id="DS549890542" load-source="docdb">IE</country><country mxw-id="DS549793338" load-source="docdb">IS</country><country mxw-id="DS549899319" load-source="docdb">IT</country><country mxw-id="DS549793339" load-source="docdb">LI</country><country mxw-id="DS549807091" load-source="docdb">LU</country><country mxw-id="DS549884069" load-source="docdb">MC</country><country mxw-id="DS549899320" load-source="docdb">NL</country><country mxw-id="DS549890543" load-source="docdb">PL</country><country mxw-id="DS549807092" load-source="docdb">PT</country><country mxw-id="DS549899329" load-source="docdb">RO</country><country mxw-id="DS549890544" load-source="docdb">SE</country><country mxw-id="DS549791055" load-source="docdb">SI</country><country mxw-id="DS549926335" load-source="docdb">SK</country><country mxw-id="DS549884074" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data><office-specific-data><eptags><ep-no-a-document-published>*</ep-no-a-document-published></eptags></office-specific-data></bibliographic-data><description mxw-id="PDES63961496" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001"><u>Field of the Invention</u></heading><p id="p0001" num="0001">The present invention relates generally to time ordering events, and more particularly to time ordering events in a system having multiple time domains.</p><heading id="h0002"><u>Related Art</u></heading><p id="p0002" num="0002">Timestamping is a useful technique that may be used in a system, such as, for example, in debugging a system, to indicate when a desired event occurred in the system. Some systems, including systems which are integrated on a single integrated circuit, include a plurality of time domains. For some applications, there may be no easy method for directly correlating time domains with each other and with time references external to the system.</p><p id="p0003" num="0003"><nplcit id="ncit0001" npl-type="s"><text>Mayer, A., Siebert, H., Kolof, A., el Baradie, S.: 'Debug support for complex system-on-chips', Embedded Systems Conf., April 2003, San Francisco</text></nplcit>, discloses a debug support architecture. The architecture comprises a configurable, scalable trigger, trace qualification and compression logic block named "Multi-Core Debug Solution" connected to the cores through adaptation logic. The logic block allows recording the trace of one or several cores in parallel and storing in the correct timely relationship in the trace memory. Scalable time-stamping allows a time resolution down to the cycle level. The logic block has complex trigger capabilities implemented with state-machines based on counters.</p><heading id="h0003"><u>Brief Description of the Drawings</u></heading><p id="p0004" num="0004">The present invention is illustrated by way of example and not limited by the accompanying figures, in which like references indicate similar elements, and in which:
<ul><li><figref idrefs="f0001">FIG. 1</figref> illustrates, in block diagram form, a system in accordance with one embodiment of the present invention;</li><li><figref idrefs="f0002">FIG. 2</figref> illustrates, in block diagram form, a time domain message 100 in accordance with one embodiment of the present invention;</li><li><figref idrefs="f0002">FIG. 3</figref> illustrates, in block diagram form, a time domain message 110 in accordance with one embodiment of the present invention;<!-- EPO <DP n="2"> --></li><li><figref idrefs="f0002">FIG. 4</figref> illustrates, in block diagram form, a master message 120 in accordance with one embodiment of the present invention; and</li><li><figref idrefs="f0003">FIG. 5</figref> illustrates, in flow diagram form, a method for time-ordering debug events in accordance with one embodiment of the present invention.</li></ul></p><p id="p0005" num="0005">Skilled artisans appreciate that elements in the figures are illustrated for simplicity and clarity and have not necessarily been drawn to scale. For example, the dimensions of some of the elements in the figures may be exaggerated relative to other elements to help improve the understanding of the embodiments of the present invention.</p><heading id="h0004"><u>Detailed Description</u></heading><p id="p0006" num="0006">As used herein, the term "bus" is used to refer to a plurality of signals or conductors which may be used to transfer one or more various types of information, such as, for example, data, addresses, control, or status.</p><p id="p0007" num="0007">Illustrated in <figref idrefs="f0001">FIG. 1</figref> is a data processing system 10 generally having a time domain 12, a time domain 32 and a time domain 22. The time domain 12 includes a module that represents functional circuitry 14. Contained within functional circuitry 14 is NEXUS debug circuitry 16 where "NEXUS"™ refers to the publicly available IEEE ISTO 5001 standard for debugging and/or emulating, and/or testing integrated circuits. Similarly, time domain 32 has functional circuitry 34 and NEXUS debug circuitry 36. Time domain 22 has functional circuitry 24 and NEXUS debug circuitry 26. One possible embodiment of the NEXUS debug circuitry 36 is illustrated in detail. It should be apparent that NEXUS debug circuitry 16 and NEXUS debug circuitry 26 may be implemented in the same manner or with variations. The functional circuitry 14 is coupled to a NEXUS module 70 by a debug bus 18. NEXUS debug circuitry 36 is coupled to NEXUS module 70 by a debug bus 38, and NEXUS debug circuitry 26 is coupled to NEXUS module 70 by debug bus 28.</p><p id="p0008" num="0008">The NEXUS debug circuitry 36 includes timestamp circuitry 40 having counter control circuitry 42 and a reference counter 44. NEXUS debug circuitry 36 also includes a clock status circuit 46, a time domain identifier 48, a TCODE generator 50, and other circuitry 52. The debug bus 38 is formed by a timestamp control bus 60 coupled from NEXUS module 70 to the counter control circuitry 42, timestamp signals 62 coupled from the counter control circuitry 42 to the NEXUS module 70, a domain event information bus 64 coupled from the other circuitry 52 to NEXUS module 70, and a bidirectional bus for other<!-- EPO <DP n="3"> --> signals 66. In one embodiment, the other signals 66 couple the clock status 46, time domain identifier 48, TCODE generator 50, and other circuitry 52 to the NEXUS module 70. The other signals 66 are bidirectionally coupled between the other circuitry 52 and the NEXUS module 70.</p><p id="p0009" num="0009">The NEXUS module 70 generally includes a timestamp control circuit associated with each time domain. In the illustrated form, timestamp control 72 is coupled to debug bus 18. Timestamp control 74 is coupled to each bus that forms debug bus 38, except the other signals 66 bus that couples to other control circuitry (not shown) within NEXUS module 70 that is not relevant to the debug functionality described herein. Timestamp control 76 is coupled to debug bus 28. An arbiter 78 is bidirectionally coupled to each of timestamp control 72, timestamp control 74 and timestamp control 76, and to a plurality of registers 80. Each of timestamp control 72, 74, and 76 is bidirectionally coupled to the plurality of registers 80. A bidirectional NEXUS interface port 92 is coupled to arbiter 78. A bidirectional JTAG interface 94 is coupled to the plurality of registers 80. The plurality of registers 80 is bidirectionally coupled to and from a system bus 96. System bus 96 is also bidirectionally coupled to each of time domain 12, time domain 32 and time domain 22.</p><p id="p0010" num="0010">Note that a common standard used for integrated circuit debug, emulation, and/or testing purposes is the well known JTAG (Joint Test Action Group) IEEE (Institute of Electrical and Electronic Engineers) 1194.1 test access port and boundary scan architecture. Although debug interface 90 has been illustrated as having a JTAG interface, alternate embodiments of system 10 may use any desired interface. For example, in addition to the standard JTAG interface, there are a wide variety of other debug, emulation, and/or test interfaces used for integrated circuits. Similarly, alternate embodiments may use a wide variety of other debug, emulation, and/or test interfaces in place of the NEXUS interface 92.</p><p id="p0011" num="0011">In one embodiment of system 10, debugger 93 may optionally be coupled to debug interface 90 during at least a portion of the debugging process for system 10. Alternate embodiments may not require an external debugger 93 to perform debugging functionality. In one embodiment, system 10 may be implemented on a single integrated circuit and debugger 93 may be implemented external to that integrated circuit. For some embodiments, debugger 93 is not coupled to debug interface 90 during normal operation of system 10. Debugger 93 may be implemented using any combination of hardware and software.<!-- EPO <DP n="4"> --></p><p id="p0012" num="0012">Operation of the system 10 of <figref idrefs="f0001">FIG. 1</figref> will now be described. In one embodiment that is illustrated, a plurality of time domains 12, 22, 32 may provide time-related information regarding when an event within the time domain occurred. In one embodiment, time domains are local regions in system 10 with a common power and/or clock domain. Elements within a time domain remain synchronized by design, however time domains are not typically required to remain fully synchronized with other time domains. In one embodiment, each one of time domains 12, 22, 32 includes functional circuitry 14, 24, 34, respectively, which functions using an independent clock. Functional circuitry 14, 24, and 34 may perform any desired function. Note that each time domain 12, 22, 32 also includes NEXUS debug circuitry 16, 26, and 36, respectively. Alternate embodiments may use other circuitry 16, 26, 36 which is not NEXUS debug circuitry.</p><p id="p0013" num="0013">Note that although system 10 has been illustrated to have three time domains, namely times domain 12, 22, and 32, alternate embodiments may have any number of time domains. One example of a system 10 which may have a plurality of time domains 12, 22, 32 is an integrated circuit in which time domain 12 includes a processor which operates at a very high clock rate or frequency, time domain 22 includes circuitry which operates at a lower clock rate or frequency in order to conserve power, and time domain 32 which includes peripheral modules that are designed to operate at a third clock rate or frequency. Alternate embodiments may delineate the boundaries of time domains using any desired criteria.</p><p id="p0014" num="0014">In some embodiments, circuitry in different time domains operates independently and with no relative constraints between the clock frequencies or duty cycles of other time domains. In addition, the clocking of circuitry within a time domain may be suspended or undergo a change in frequency as the state of the overall system 10 changes, and this may occur independently of the clocking of any other time domain. Time domains may function and be defined differently in alternate embodiments. In one embodiment, independent clock rates include clock rates that are separate and distinct in one or more of a variety of ways, such as, for example, clocks that are sub-multiples of a common clock, clocks that are separately generated and are not intentionally related, and a common clock source that is temporarily stopped to a particular time domain.</p><p id="p0015" num="0015">In one embodiment, independent clock rates are clocks rates that are separately controllable in some manner, thus are not guaranteed to have a specific relationship, and thus may be considered to be independent at least under certain conditions. Note that it is possible<!-- EPO <DP n="5"> --> for independent clock rates to be related to each other for a subset of possible conditions. Although the timestamp messaging functionality described herein is very useful when used with a plurality of time domains (e.g. 12, 22, 32) having independent clock rates, alternate embodiments may not require that all of the plurality of time domains have independent clock rates.</p><p id="p0016" num="0016">For some embodiments, in order to properly reconstruct the temporal ordering of events within system 10, the relationships between reference counters (e.g. 44) within individual time domains (e.g. 12, 22, 32) must be determined. Determining these relationships as the individual time domains transition through low power states, clock frequency altering events, and other factors affecting the relative rate at which individual reference counters are updated is very helpful in determining the relationship of other timestamped debug events occurring within the individual time domains of system 10. The timestamp messaging functionality described herein provides the necessary information for determining the relationship between the distributed reference counters used for applying timestamp information to other debug message types as are generated by NEXUS debug circuitry 16, 36, and 26. These other debug message types are well known in the NEXUS standard, and include messages such as Program Trace, Data Trace, and Watchpoint messaging. In one embodiment, each of these messages generated by a particular time domain may be augmented with a timestamp value related to the state of the reference counter within the particular time domain. For proper trace reconstruction of the temporal ordering of events generated across multiple time domains, the reference counter values provided within a particular debug message must be correlated to each other. The timestamp messaging described herein provides this overall coordination capability by providing a way to determine the relationships of the individual reference counters within system 10.</p><p id="p0017" num="0017">Upon the occurrence of a particular event in one or more of time domains 12, 22, and 32, the values of more than one reference counters (e.g. 44) may be captured and transmitted via a timestamp message to debugging circuitry 93 external to debug interface 90. By providing these values, the relationships of the various distributed reference counters (e.g. 44) may be maintained, and thus proper temporal ordering of other debug message types which have been annotated with a timestamp may be performed. Since for some embodiments the reference counters (e.g. 44) operate independently of one another with no fixed relationship, the rate at which one or more reference counters change state is independent of all other of<!-- EPO <DP n="6"> --> the reference counters. Reference counters (e.g. 44) may be temporarily halted while a particular time domain 12, 22, 32 enters a low power state, or may change to be incremented at a faster or slower rate as the dynamics of the particular time domain change. By messaging out information about the value and clock status of a reference counter (e.g. 44) within a particular time domain (e.g. 32), it is possible to maintain an ordering of counter values across multiple time domains 12, 22, 32.</p><p id="p0018" num="0018">In one embodiment, system 10 performs this "timestamp messaging" function in such a manner to facilitate ordering of events in system 10 which are timestamped by multiple independent reference counters (e.g. 44) operating at dynamically varying rates and to accomplish synchronization of the distributed sources' values by a tool (e.g. debugger 93) external to debug interface 90. Timestamp messaging is a new source of debug information which allows for proper temporal ordering of events in a distributed system with multiple time-varying clock domains. Timestamp messages may use either absolute or relative timing information. In some embodiments, relative timing information allows for shorter message length and message bandwidth reduction. Master Timestamp Sync Messages may also be used on a periodic basis to capture the values of some or all of the time domain reference counters (e.g. 44). This allows for a debug tool (e.g. debugger 93) to synchronize the time domain 12, 22, 32 relationships, to allow for accurate reconstruction of the actual sequence of system 10 events given individual time domain timestamped debug messages.</p><p id="p0019" num="0019">In one embodiment, a time domain Timestamp Sync Message may be messaged via debug interface 90 (provided Timestamp Messaging is enabled) for the following time domain events:
<ul><li>Initial Target Domain Timestamp Sync Message after exit from system reset or whenever Target Domain Timestamp Messaging is enabled</li><li>Upon a change in reference clock</li><li>Upon entering into a Low Power state</li><li>Upon returning from a Low Power state</li><li>Upon entering into Debug Mode</li><li>Upon returning from Debug Mode</li><li>Upon occurrence of counter overrun</li><li>Upon a periodic counter expiration<!-- EPO <DP n="7"> --></li><li>Upon occurrence of one or more User selectable events within system 10</li><li>Note that alternate embodiments may use more, fewer, or different time domain events than those listed above.</li></ul></p><p id="p0020" num="0020">In one embodiment, a Master Timestamp Sync Message may be messaged via debug interface 90 (provided Timestamp Messaging is enabled) for the following time domain events:
<ul><li>Initial Master Timestamp Sync Message after exit from system reset or whenever Master Timestamp Messaging is enabled</li><li>Upon a change in system 10 reference clock</li><li>Upon a change in any (or selected ones of) Target Domain clocks</li><li>Upon entering into a Low Power state</li><li>Upon returning from a Low Power state</li><li>Upon entering into Debug Mode</li><li>Upon returning from Debug Mode</li><li>Upon occurrence of a particular Target Domain counter overrun</li><li>Upon a periodic counter expiration</li><li>Upon an internally or externally generated system 10 event</li><li>Upon occurrence of one or more User selectable events within system 10</li><li>Note that alternate embodiments may use more, fewer, or different time domain events than those listed above.</li></ul></p><p id="p0021" num="0021">Although the illustrated form of system 10 will be described in the context of performing timestamping for debug purposes, alternate embodiments may perform timestamping for any desired purpose. Also, although the debug interface 90 is described as using standard debug interface circuitry and protocols, such as the JTAG interface 94 and the NEXUS interface 92, alternate embodiments may use any desired interface, standard or non-standard, for debug interface 90.</p><p id="p0022" num="0022">Referring now to <figref idrefs="f0003">FIG. 5, FIG. 5</figref> illustrates a method for time-ordering debug events in accordance with one embodiment of system 10. The flow 200 starts at oval 202, and proceeds to step 204 where debug registers 80 (see <figref idrefs="f0001">FIG. 1</figref>) are programmed with timestamp control information. Note that alternate embodiments of system 10 may provide the<!-- EPO <DP n="8"> --> timestamp control information directly to the time domains. For example, the timestamp control information may be received from debug interface 90, other interconnects going external to system 10 (not shown), system bus 96, or another source internal or external to system 10 (not illustrated). For some embodiments of system 10, registers 80 may be read and/or written by way of one or both of system bus 96 and debug interface 90. In alternate embodiments of system 10, registers 80 may be located anywhere within system 10.</p><p id="p0023" num="0023">The flow of <figref idrefs="f0003">FIG. 5</figref> continues from step 204 to step 206 where the timestamp control information in transmitted to one or more of NEXUS debug circuitry 16, 26, and 36. Note that for one embodiment of system 10, timestamp control signals 60 are used to provide this timestamp control information to NEXUS debug circuitry 36. For one embodiment of system 10, the timestamp control information is provided to the counter control circuitry 42. In one embodiment of system 10, the timestamp control information may include control information for enabling reference counter 44, and any other control information that may be used to affect the information provided on timestamp signals 62.</p><p id="p0024" num="0024">The flow of <figref idrefs="f0003">FIG. 5</figref> continues from step 206 to decision diamond 208 where the question is asked "has a time domain event occurred in any time domain 12, 22, 32?". If a time domain event has not occurred in any time domain 12, 22, 32, the flow stays at decision diamond 208 and continues to check whether a time domain event has occurred in any time domain 12, 22, 32. If a time domain event has occurred in any time domain 12, 22, 32, the flow continues to step 210 where a timestamp value, based on one or more selected time domain events, is transmitted to the NEXUS module 70 from more than one time domain.</p><p id="p0025" num="0025">Note that the time domain 12, 22, 32 which had the time domain event occur within it, may not necessarily be the time domains 12, 22, 32 which provide the timestamp value. For example, a time domain event which occurs in time domain 12 may trigger time domain 32 to provide a timestamp via timestamp signals 62 to NEXUS module 70. As an example, one possible use of this functionality may be to allow a power down time domain event in time domain 12 to cause time domain 32 to provide a timestamp via timestamp signals 62 so that it is possible to determine what functional circuitry 34 is doing when functional circuitry 14 is powered down. This functionality may be used for a wide variety of other purposes. One embodiment implements this functionality by way of the information shared between timestamp control circuits 72, 74, and 76. Alternate embodiments may provide other ways<!-- EPO <DP n="9"> --> for functional circuitry 14, 24, and 34 to share information, such as, for example, by one or more signals coupled between two or more of functional modules 14, 24, and 34.</p><p id="p0026" num="0026">The flow of <figref idrefs="f0003">FIG. 5</figref> continues from step 210 to step 212 where a NEXUS timestamp message is transmitted from NEXUS module 70 by way of NEXUS interface 90. In one embodiment, this NEXUS timestamp message uses the master message 120 format illustrated in <figref idrefs="f0002">FIG. 4</figref>. Alternate embodiments may use any message format. For example, one alternate embodiment may sequentially provide time domain messages (e.g. using one or more of the formats illustrated in <figref idrefs="f0002">FIG. 2 and FIG. 3</figref>) with a NEXUS TCODE indicating a start of the sequence and a NEXUS TCODE indicating an end of the sequence. Note that alternate embodiments of system 10 may use any desired format for providing timestamp information. The message formats illustrated in <figref idrefs="f0002">FIGS. 2-4</figref> are for illustrative purposes only. Alternate message formats may be independent of NEXUS and may not use TCODES. Alternate message formats may or may not relate to debug functionality.</p><p id="p0027" num="0027">The flow of <figref idrefs="f0003">FIG. 5</figref> continues from step 212 to decision diamond 214 where the question is asked "continue tracing?". If tracing is continued, the flow returns to decision diamond 208 and continues to check whether a time domain event has occurred in any time domain 12, 22, 32. If tracing is not continued, the flow continues to END oval 216 where the flow ends.</p><p id="p0028" num="0028">Referring now to <figref idrefs="f0002">FIGS. 2 and 3, FIG. 2</figref> illustrates one embodiment of a time domain message 100 format which uses an absolute time domain reference value, while <figref idrefs="f0002">FIG. 3</figref> illustrates one embodiment of a time domain message 110 format which uses a relative time domain reference value. For one embodiment, the formats for time domain messages 100 and 110 may be the same except for fields 102 and 112. In one embodiment, absolute time domain reference count bit field 102 may include the actual value of reference counter 44 (see <figref idrefs="f0001">FIG. 1</figref>) at approximately the time that the present domain event occurred. In one embodiment, relative time domain reference count bit field 112 may include the difference between: (1) the actual value of reference counter 44 at approximately the time that the present domain event occurred; and (2) the previous value of reference counter 44 at approximately the time that the previous domain event occurred. Note that for some embodiments, less bandwidth or fewer signals (e.g. in timestamp signals 62 of <figref idrefs="f0001">FIG. 1</figref>) may be required to transmit a relative time domain reference count as compared to an absolute time domain reference count.<!-- EPO <DP n="10"> --></p><p id="p0029" num="0029">Still referring to <figref idrefs="f0002">FIGS. 2 and 3</figref>, time domain messages 100, 110 include a clock status bit field 104, 114, respectively. In one embodiment, the clock status field 104, 114 may include information regarding whether clocks are enabled, what clock frequency is being used, or any other information regarding the status of clocks in the corresponding time domain 32. Time domain message formats 100, 110 also include a time domain identifier bit field 106, 116, respectively. In one embodiment, the time domain identifier 106, 116 may include information regarding which time domain 12, 22, 32 is providing the information in the time domain message. Time domain message formats 100, 110 also include a TCODE bit field 108, 118, respectively. In one embodiment, the TCODE bit field 108, 118 may include information regarding which NEXUS message type is the message type used by time domain message 100 and 110.</p><p id="p0030" num="0030">Referring to <figref idrefs="f0002">FIG. 4</figref>, master message 120 includes a time domain absolute count 122, 124, 126 for each time domain 12, 22, 32, which provided a timestamp in response to a domain event. Thus, master message 120 includes one or more time domain absolute count bit fields 122, 124, 126. Note that for one embodiment, if time domain 32 did not provide a timestamp to NEXUS module 70 (e.g. by way of timestamp signals 62), then bit field 126 will not include a useful count value, or will not be included in master message 120. Similarly, if time domain 12 did not provide a timestamp to NEXUS module 70, then bit field 122 will not include a useful count value, or will not be included in master message 120. Likewise, if time domain 22 did not provide a timestamp to NEXUS module 70, then bit field 124 will not include a useful count value, or will not be included in master message 120. Note that if one or more time domains 12, 22, 32 provide a relative time domain reference count (e.g. 112) rather than an absolute time domain reference count to NEXUS module 70, if desired, one or more relative time domain reference count values (e.g. 112) can be converted to a corresponding absolute time domain reference count (e.g. 102), for example, by way of timestamp control circuitry 72, 74, 76 (see <figref idrefs="f0001">FIG. 1</figref>). In an alternate embodiment, all time domains 12, 22, 32 which are providing a timestamp for the master message 120 may use the absolute time domain reference count (e.g. 102), instead of the relative time domain reference count (e.g. 112).</p><p id="p0031" num="0031">Still referring to <figref idrefs="f0002">FIG. 4</figref>, master message 120 includes a status bit field 128. In one embodiment of system 10, the status field 128 may include, in an encoded or non-encoded form, all or a portion of the information from one or more clock status fields 104, 114. In one<!-- EPO <DP n="11"> --> embodiment of system 10, one or more of the time domains 12, 22, 32 that provide a count value to one of time domain absolute count fields 122, 124, 126 may also provide any desired status information to status bit field 128. In one embodiment of system 10, the status bit field 128 may include more status information than that included in clock status bit fields 104, 114. This status information may relate to any desired status of circuitry within one or more time domains 12, 22, and 32.</p><p id="p0032" num="0032">Master message 120 also includes a TCODE bit field 130. In one embodiment, the TCODE bit field 130 may include information regarding which NEXUS message type is the message type used by master message 120.</p><p id="p0033" num="0033">Referring to <figref idrefs="f0001">FIG. 1</figref>, in the illustrated embodiment, one embodiment of NEXUS debug circuitry 36 and debug bus 38 is described in detail for time domain 32. Time domain 12 also has NEXUS debug circuitry 16 and debug bus 18 which may be implemented in a different manner or in the same manner as in time domain 32. Likewise, time domain 22 also has NEXUS debug circuitry 26 and debug bus 28 which may be implemented in a different manner or in the same manner as in time domain 32.</p><p id="p0034" num="0034">The operation of the illustrated embodiment for time domain 32 will now be described. In one embodiment of system 10, timestamp control circuitry 74 provides timestamp control information to counter control circuitry 42 by way of timestamp control signals 60. Counter control circuitry 42 then uses this control information to control reference counter 44. In one embodiment of system 10, other circuitry 52 provides all domain events to timestamp control 74 by way of domain event information signals 64. In alternate embodiments, timestamp control signals 60 may provide information to other circuitry 52 regarding which domain events have been selected and thus should be provided to timestamp control 74 by way of domain event information 64.</p><p id="p0035" num="0035">Once timestamp control 74 has determined that a selected domain event has occurred, timestamp control 74 provides control information to counter control circuitry 42 by way of timestamp control signals 60 to indicate that the value in reference counter 44 should be captured and provided to timestamp control 74 by way of timestamp signals 62. Note that a domain event in time domain 12 or 22 may also be used by timestamp control 74 to trigger a capture of the value in reference counter 44. This is possible because timestamp control 72, 74, and 76 may share information. Alternate embodiments may want to shorten the delay between the occurrence of the domain event and the capturing of the value in the reference<!-- EPO <DP n="12"> --> counter. One embodiment of system 10 may accomplish this by moving some of the functionality of the timestamp control circuitry 74 into the NEXUS debug circuitry 36 so that the detecting of the domain event directly triggers the capture of the value of the reference counter 44, without any involvement of circuitry (e.g. timestamp control 74) outside of the NEXUS debug circuitry 36.</p><p id="p0036" num="0036">Note that the value of reference counter 44 may be provided by the timestamp signals 62 and may be considered to provide the absolute time domain reference count 102 in time domain message 100 (see <figref idrefs="f0002">FIG. 2</figref>). The value of reference counter 44 must be appropriately modified by counter control circuitry 42 to provide a relative time domain reference count by way of timestamp signals 62 if the relative time domain reference count format of time domain message 110 is used (see <figref idrefs="f0002">FIG. 3</figref>). The format of the timestamp information provided from timestamp circuitry 40 to timestamp signals 62 may be determined in any manner. For example, registers 80 may determine this format. Alternate embodiments may use a fixed format, or may alternately select the format in any desired manner.</p><p id="p0037" num="0037">For alternate embodiments, all or some of the functionality performed by timestamp control 74 may be centralized as illustrated in <figref idrefs="f0001">FIG. 1</figref>, or may alternately be distributed within the time domains 12, 22, 32 themselves. In the embodiment of system 10 illustrated in <figref idrefs="f0001">FIG. 1</figref>, the time domain identifier circuitry 48 is used to provide the time domain identifier (see bit field 106 in <figref idrefs="f0002">FIG. 2</figref> and bit field 116 in <figref idrefs="f0002">FIG. 3</figref>) by way of other signals 66. Similarly, TCODE generator 50 is used to provide the TCODES (see bit field 108 in <figref idrefs="f0002">FIG. 2</figref>, bit field 118 in <figref idrefs="f0002">FIG. 3</figref>, and bit field 130 in <figref idrefs="f0002">FIG. 4</figref>) by way of other signals 66. Similarly, clock status 46 is used to provide the clock status information (see bit field 104 in <figref idrefs="f0002">FIG. 2</figref>, bit field 114 in <figref idrefs="f0002">FIG. 3</figref>, and bit field 128 in <figref idrefs="f0002">FIG. 4</figref>) by way of other signals 66.</p><p id="p0038" num="0038">In one embodiment of system 10, arbiter 78 may be used to arbitrate and determine which timestamp control circuit 72, 74, or 76 is allowed to provide information to debug interface 90 for transmission external to system 10.</p><p id="p0039" num="0039">In one embodiment of system 10, the clock status field 104, 114 may include information regarding whether clocks are enabled, what clock frequency is being used, or any other information regarding the status of clocks in the corresponding time domain 32. Time domain message formats 100, 110 also include a time domain identifier bit field 106, 116, respectively. In one embodiment, the time domain identifier 106, 116 may include information regarding which time domain 12, 22, 32 is providing the information in the time<!-- EPO <DP n="13"> --> domain message. Time domain message formats 100, 110 also include a TCODE bit field 108, 118, respectively. In one embodiment, the TCODE bit field 108, 118 may include information regarding which NEXUS message type is the message type used by time domain message 100 and 110.</p><p id="p0040" num="0040">Although the embodiments have been described with respect to specific conductivity types or polarity of potentials, skilled artisans appreciated that various modifications may be implemented. For example, any type of functional circuitry may be used with the NEXUS debug circuitry. Various semiconductor processes may be implemented and conductivity types and polarities of potentials may be reversed. The system 10 may be implemented either on a single integrated circuit as a system on a chip (SOC) or may be implemented with discrete components on a printed circuit board level. The physical positioning of the various fields of the timestamping messages may be arranged in differing orders than that illustrated. Various arbitration schemes may be used to implement arbiter 78. Any type of storage device may be used to implement the registers 80. The counters described herein may be implemented with various types of known hardware counter circuits and is not limited to any one particular type of counter. The bus sizes may be implemented with any of various possible bit widths. The above description of various modifications is intended for illustrative purposes only. A wide variety of other modifications are also possible.</p><p id="p0041" num="0041">In one form there has been provided a method in a system for time ordering events in the system. Control information corresponding to each of a plurality of time domains is provided. The control information indicates when a timestamp message for each of the plurality of time domains is to be generated. A determination is made when a time domain event that requires generation of a timestamp message occurs in any one of the plurality of time domains. A timestamp message is generated corresponding to predetermined time domains in response to determining that the time domain event occurred. In one form, a same port is used for all of the plurality of time domains to output timestamp messages. In one form, in response to the control information, included within the timestamp message is a time count in a message generating time domain that is an absolute count value of when the time domain event occurred in the message generating time domain. In another form, in response to the control information, included within the timestamp message is a time count in a message generating time domain that is a relative count value measured from a most recently occurring previous time domain event of when the time domain occurred in the<!-- EPO <DP n="14"> --> message generating time domain. In another form, in response to the control information, included within the timestamp message is a time count for all of the plurality of time domains corresponding to when the time domain event occurred. In yet another form, included within the timestamp message is a format identifier field that identifies one of a plurality of predetermined formats that the timestamp message has. The control information is used to specify when a time domain event that requires generation of a timestamp message occurs in a predetermined one of the plurality of time domains. A subsequent determination is made that the time domain event has occurred in the predetermined one of the plurality of time domains. In one form, the control information is programmed into a storage device. In another form the timestamp message is generated in response to the control information identifying predetermined operating conditions that create the time domain event in at least one of the plurality of time domains. In yet another form the predetermined operating conditions are identified to be at least one of a user programmable event and a programmable system event. In another form the at least one programmable system event includes at least one of entrance into or exit from a power mode of operation, a change in source of a clock, a change in clock periodicity, a predetermined change in a hardware counter value or entry into and exit from a debug mode of operation. The system, in one form, is made up of a plurality of functional circuit modules, each functional circuit module being clocked by a clock that represents a different time domain and having timestamping circuitry. The timestamping circuitry provides a message that indicates a point in time when a predetermined event occurs. An interface module is coupled to each of the plurality of functional circuit modules, the interface module providing control information to the plurality of functional circuit modules to indicate at least one operating condition that triggers the predetermined event. The interface module receives at least one timestamping message from first domains when the predetermined event occurs in one of a plurality of time domains including the first time domains. The interface module further includes storage circuitry for storing the control information as programmable control information that determines the at least one operating condition that triggers the predetermined event. In one form the at least one operating condition that triggers the predetermined event further includes at least one of: entrance into or exit from a power mode of operation, a change in source of a clock, a change in clock periodicity, a predetermined change in a hardware counter value, entry into and exit from a debug mode of operation, and occurrence of at least one user programmable event. In<!-- EPO <DP n="15"> --> another form the timestamping circuitry further includes a counter for determining either absolute or relative time in a corresponding functional circuit module, time domain identification circuitry for providing a time domain identifier, and clock status circuitry for providing one or more operating characteristics of a clock in the corresponding functional circuit module. In another form the timestamping circuitry further includes circuitry for generating a code to be included in each message to identify a format of information included in a corresponding message. The interface module further includes an arbiter having circuitry for generating a code to be included in each timestamping message to identify a format of information included in a corresponding timestamping message. In one implementation the common interface port of the interface module meets IEEE ISTO 5001 (NEXUS) compliance. In one form the message provided by at least one of the plurality of functional circuit modules has a format that includes at least a time count value that is an absolute value referenced to a known starting value, status information of a clock signal associated with one of the functional circuit modules, and an identifier that indicates a corresponding time domain associated with the timestamping message. In another form the message has a format that further includes a field that identifies that the format of the timestamping message has an absolute value time count value. In yet another form the message provided by at least one of the plurality of functional circuit modules has a format that includes at least a time count value that is a relative value referenced to a last occurring predetermined event, status information of a clock signal associated with one of the functional circuit modules, and an identifier that indicates a corresponding time domain associated with the timestamping message. In a further form, the message has a format that further includes a field that identifies that the format of the timestamping message having a relative value time count value. In another form the timestamping message has a format that includes a time count value corresponding to each of the functional circuit modules and predetermined status information associated with each of the functional circuit modules when the predetermined event occurs. As illustrated, the control information is programmable and the interface module has at least one register for storing the control information.</p><p id="p0042" num="0042">In another form there is provided a system having a plurality of functional circuit modules on a same integrated circuit. Each functional circuit module is clocked by a clock that represents a different time domain. Each functional module has timestamping circuitry operating at independent clock rates for providing timestamp messages. The timestamp<!-- EPO <DP n="16"> --> messages each indicate a point in time when a predetermined event occurs. An interface module is coupled to each of the plurality of functional circuit modules, the interface module providing control information to the plurality of functional circuit modules to indicate at least one operating condition that triggers the predetermined event. The interface module receives at least one timestamping message from first time domains when the predetermined event occurs in one of a plurality of time domains including the first time domains. In another form there is provided a method of reconstructing time ordering of events that occur in multiple time domains in a system. Multiple timestamping messages are received in one of an ordered time sequence and an unordered time sequence. Relative count values of multiple time domain counters associated with the multiple time domains and operating at independent clock rates are tracked. Debug information is sorted in time ordered sequence, the debug information being associated with a timestamp provided from one of the multiple time domains. The debug information is provided via a debug message. The debug messages are implemented as at least one of a program trace message, a data trace message and a watchpoint message. The multiple timestamp messages are generated by providing control information corresponding to each of multiple time domains, the control information indicating when a timestamp message for each of the multiple time domains is to be generated. A determination is made as to when a time domain event that requires generation of a timestamp message occurs in any one of the multiple time domains. A timestamp message is generated corresponding to predetermined time domains in response to determining that the time domain event occurred.</p><p id="p0043" num="0043">Note that elements illustrated herein may have intervening elements not illustrated that couple the illustrated elements. The term coupled, as used herein, is defined as joined or linked, although not necessarily directly, and not necessarily mechanically.</p><p id="p0044" num="0044">In the foregoing specification, the invention has been described with reference to specific embodiments. However, one of ordinary skill in the art appreciates that various modifications and changes can be made without departing from the scope of the present invention as set forth in the claims below. Accordingly, the specification and figures are to be regarded in an illustrative rather than a restrictive sense, and all such modifications are intended to be included within the scope of present invention.</p><p id="p0045" num="0045">Benefits, other advantages, and solutions to problems have been described above with regard to specific embodiments. However, the benefits, advantages, solutions to problems,<!-- EPO <DP n="17"> --> and any element(s) that may cause any benefit, advantage, or solution to occur or become more pronounced are not to be construed as a critical, required, or essential feature or element of any or all the claims. As used herein, the terms "comprises," "comprising," or any other variation thereof, are intended to cover a non-exclusive inclusion, such that a process, method, article, or apparatus that comprises a list of elements does not include only those elements but may include other elements not expressly listed or inherent to such process, method, article, or apparatus.</p><heading id="h0005"><u>Additional Text:</u></heading><p id="p0046" num="0046"><ol><li>1. In a system, a method for time ordering events in the system comprising:
<ul><li>providing control information corresponding to each of a plurality of time domains, the control information indicating when a timestamp message for each of the plurality of time domains is to be generated;</li><li>determining when a time domain event that requires generation of a timestamp message occurs in any one of the plurality of time domains; and</li><li>generating a timestamp message corresponding to predetermined time domains in response to determining that the time domain event occurred.</li></ul></li><li>2. The method of claim 1 further comprising:
<ul><li>in response to the control information, including within the timestamp message a time count in a message generating time domain that is an absolute count value of when the time domain event occurred in the message generating time domain.</li></ul></li><li>3. The method of claim 1 further comprising:
<ul><li>in response to the control information, including within the timestamp message a time count in a message generating time domain that is a relative count value measured from a most recently occurring previous time domain event of when the time domain occurred in the message generating time domain.</li></ul><!-- EPO <DP n="18"> --></li><li>4. The method of claim 1 further comprising:
<ul><li>in response to the control information, including within the timestamp message a time count for all of the plurality of time domains corresponding to when the time domain event occurred.</li></ul></li><li>5. The method of claim 1 further comprising:
<ul><li>including within the timestamp message a format identifier field that identifies one of a plurality of predetermined formats that the timestamp message has.</li></ul></li><li>6. The method of claim 1 further comprising:
<ul><li>using the control information to specify when a time domain event that requires generation of a timestamp message occurs in a predetermined one of the plurality of time domains; and</li><li>subsequently determining when the time domain event occurs in the predetermined one of the plurality of time domains.</li></ul></li><li>7. The method of claim 1 further comprising:
<ul><li>programming the control information into a storage device.</li></ul></li><li>8. The method of claim 1 further comprising:
<ul><li>generating the timestamp message in response to the control information identifying predetermined operating conditions that create the time domain event in at least one of the plurality of time domains.</li></ul></li><li>9. The method of claim 8 further comprising identifying the predetermined operating conditions to be at least one of a user programmable event and a programmable system event.</li><li>10. The method of claim 9 wherein the at least one programmable system event further comprises at least one of entrance into or exit from a power mode of operation, a change in<!-- EPO <DP n="19"> --> source of a clock, a change in clock periodicity, a predetermined change in a hardware counter value or entry into and exit from a debug mode of operation.</li><li>11. A system for time ordering events comprising:
<ul><li>a plurality of functional circuit modules, each functional circuit module being clocked by a clock that represents a different time domain and having timestamping circuitry, the timestamping circuitry providing a message that indicates a point in time when a predetermined event occurs; and</li><li>an interface module coupled to each of the plurality of functional circuit modules, the interface module providing control information to the plurality of functional circuit modules to indicate at least one operating condition that triggers the predetermined event, the interface module receiving at least one timestamping message from time domains when the predetermined event occurs in one of a plurality of time domains including the first time domain.</li></ul></li><li>12. The system of claim 11 wherein the interface module further comprises:
<ul><li>storage circuitry for storing the control information as programmable control information that determines the at least one operating condition that triggers the predetermined event.</li></ul></li><li>13. The system of claim 12 wherein the at least one operating condition that triggers the predetermined event further comprises at least one of: entrance into or exit from a power mode of operation, a change in source of a clock, a change in clock periodicity, a predetermined change in a hardware counter value, entry into and exit from a debug mode of operation, and occurrence of at least one user programmable event.</li><li>14. The system of claim 11 wherein the timestamping circuitry further comprises:
<ul><li>a counter for determining either absolute or relative time in a corresponding functional circuit module;</li><li>time domain identification circuitry for providing a time domain identifier; and<!-- EPO <DP n="20"> --></li><li>clock status circuitry for providing one or more operating characteristics of a clock in the corresponding functional circuit module.</li></ul></li><li>15. The system of claim 14 wherein the timestamping circuitry further comprises circuitry for generating a code to be included in each message to identify a format of information included in a corresponding message.</li><li>16. The system of claim 14 wherein the interface module further comprises an arbiter having circuitry for generating a code to be included in each timestamping message to identify a format of information included in a corresponding timestamping message.</li><li>17. The system of claim 11 wherein the message provided by at least one of the plurality of functional circuit modules has a format that comprises at least a time count value that is an absolute value referenced to a known starting value, status information of a clock signal associated with one of the functional circuit modules, and an identifier that indicates a corresponding time domain associated with the timestamping message.</li><li>18. The system of claim 17 wherein the message has a format that further comprises a field that identifies that the format of the timestamping message has an absolute value time count value.</li><li>19. The system of claim 11 wherein the message provided by at least one of the plurality of functional circuit modules has a format that comprises at least a time count value that is a relative value referenced to a last occurring predetermined event, status information of a clock signal associated with one of the functional circuit modules, and an identifier that indicates a corresponding time domain associated with the timestamping message.</li><li>20. The system of claim 19 wherein the message has a format that further comprises a field that identifies that the format of the timestamping message having a relative value time count value.<!-- EPO <DP n="21"> --></li><li>21. The system of claim 11 wherein the timestamping message has a format that comprises a time count value corresponding to each of the functional circuit modules and predetermined status information associated with each of the functional circuit modules when the predetermined event occurs.</li><li>22. The system of claim 11 wherein the control information is programmable.</li><li>23. The system of claim 11 wherein the interface module further comprises:
<ul><li>at least one register for storing the control information.</li></ul></li><li>24. The system of claim 11 wherein the interface module provides timestamping messages from all time domains at a common interface port.</li><li>25. The system of claim 24 wherein the common interface port of the interface module meets IEEE ISTO 5001 (NEXUS) compliance.</li><li>26. A system for time ordering events comprising:
<ul><li>a plurality of functional circuit module means, each being clocked by a clock that represents a different time domain and having timestamping circuit means, the timestamping circuit means providing a message that indicates a point in time when a predetermined event occurs; and</li><li>interface module means coupled to each of the plurality of functional circuit module means, the interface module means providing control information to the plurality of functional circuit module means to indicate at least one operating condition that triggers the predetermined event, the interface module means receiving at least one timestamping message from a first time domain when the predetermined event occurs in one of a plurality of time domains including the first time domain.</li></ul></li><li>27. The system of claim 26 wherein the timestamping messages from all time domains are provided by interface module means at a common interface port means.<!-- EPO <DP n="22"> --></li><li>28. A system comprising:
<ul><li>a plurality of functional circuit modules on a same integrated circuit, each functional circuit module being clocked by a clock that represents a different time domain, and each functional module having timestamping circuitry operating at independent clock rates for providing timestamp messages.</li></ul></li><li>29. The system of claim 28 wherein the timestamp messages each indicate a point in time when a predetermined event occurs.</li><li>30. The system of claim 29 further comprising:
<ul><li>an interface module coupled to each of the plurality of functional circuit modules, the interface module providing control information to the plurality of functional circuit modules to indicate at least one operating condition that triggers the predetermined event, the interface module receiving at least one timestamping message from a first time domain when the predetermined event occurs in one of a plurality of time domains including the first time domain.</li></ul></li><li>31. A method of reconstructing time ordering of events that occur in multiple time domains in a system, the method comprising:
<ul><li>receiving multiple timestamping messages in one of an ordered time sequence and an unordered time sequence;</li><li>tracking relative count values of multiple time domain counters associated with the multiple time domains and operating at independent clock rates; and</li><li>sorting debug information in time ordered sequence, the debug information being associated with a timestamp provided from one of the multiple time domains.</li></ul></li><li>32. The method of claim 31 further comprising providing the debug information via a debug message.<!-- EPO <DP n="23"> --></li><li>33. The method of claim 32 further comprising implementing the debug messages as at least one of a program trace message, a data trace message and a watchpoint message.</li><li>34. The method of claim 31 further comprising generating the multiple timestamp messages by:
<ul><li>providing control information corresponding to each of multiple time domains, the control information indicating when a timestamp message for each of the multiple time domains is to be generated;</li><li>determining when a time domain event that requires generation of a timestamp message occurs in any one of the multiple time domains; and</li><li>generating a timestamp message corresponding to a predetermined one of the multiple time domains in response to determining that the time domain event occurred.</li></ul></li></ol></p></description><claims mxw-id="PCLM56987228" lang="DE" load-source="patent-office"><!-- EPO <DP n="27"> --><claim id="c-de-01-0001" num="0001"><claim-text>Verfahren zum Bereitstellen von Informationen zum Einrichten des Verhältnisses zwischen Referenzzählern einer Mehrzahl von funktionalen Schaltkreismodulen (14, 24, 34) in einem Datenverarbeitungssystem (10), wobei jedes funktionale Schaltkreismodul durch einen Takt getaktet wird, der eine andere Zeitdomäne repräsentiert, wobei das System somit eine Mehrzahl von Zeitdomänen umfasst, und wobei jedes funktionale Schaltkreismodul eine Zeitstempelschaltung umfasst, wobei die Zeitstempelschaltung einen entsprechenden der Referenzzähler zum Bestimmen entweder einer absoluten oder relativen Zeit in dem funktionalen Schaltkreismodul umfasst,<br/>
wobei das Verfahren <b>dadurch gekennzeichnet ist, dass</b> es umfasst:
<claim-text>Bereitstellen (206) von Steuerinformationen, die für jede Zeitdomäne von der Mehrzahl von Zeitdomänen anzeigen, wann eine Zeitstempelnachricht erzeugt werden soll, wobei die Steuerinformationen mindestens eine Betriebsbedingung spezifizieren, die ein vorbestimmtes Zeitdomänenereignis triggert, für das eine Zeitstempelnachricht erzeugt werden soll;</claim-text>
<claim-text>Bestimmen (208), basierend auf den Steuerinformationen, dass ein Zeitdomänenereignis, das eine Erzeugung einer Zeitstempelnachricht erfordert, in der vorbestimmten Zeitdomäne von der Mehrzahl von Zeitdomänen stattfindet; und</claim-text>
<claim-text>Erzeugen (210), durch die Zeitstempelschaltung von mehreren nachrichtenerzeugende Zeitdomänen aus der Mehrzahl von Zeitdomänen, einer Zeitstempelnachricht, die einen Zeitpunkt anzeigt, an dem das Ereignis stattfand, in Reaktion auf ein Bestimmen, dass das Zeitdomänenereignis stattfand, wobei die Zeitstempelnachricht umfasst: eine Zeitzählung in der nachrichtenerzeugenden Zeitdomäne, die ein absoluter oder relativer Zählwert des Referenzzählers in der nachrichtenerzeugenden Zeitdomäne ist, wann das Zeitdomänenereignis stattfand.</claim-text></claim-text></claim><claim id="c-de-01-0002" num="0002"><claim-text>Verfahren gemäß Anspruch 1, das weiterhin umfasst:<!-- EPO <DP n="28"> -->
<claim-text>Beinhalten, in der Zeitstempelnachricht, eines Formatidentifiziererfeldes, das ein Format aus einer Mehrzahl von Formaten identifiziert, über das die Zeitstempelnachricht verfügt.</claim-text></claim-text></claim><claim id="c-de-01-0003" num="0003"><claim-text>Verfahren gemäß einem der vorangehenden Ansprüche, wobei der Takt über eine unabhängige Taktrate verfügt.</claim-text></claim><claim id="c-de-01-0004" num="0004"><claim-text>Verfahren gemäß einem der vorangehenden Ansprüche, wobei das Ereignis umfasst: einen Eintritt in eine, oder einen Austritt aus einer, Leistungsbetriebsart, einen Wechsel einer Taktquelle, einen Wechsel einer Taktperiodizität, einen vorbestimmten Wechsel eines Hardwarezählerwertes und/oder einen Eintritt in eine und einen Austritt aus einer Bereinigungsbetriebsart.</claim-text></claim><claim id="c-de-01-0005" num="0005"><claim-text>Verfahren gemäß einem der vorangehenden Ansprüche, wobei die vorbestimmte Zeitdomäne und die nachrichtenerzeugenden Zeitdomänen verschiedene Zeitdomänen sind und die funktionale Schaltung dieser verschiedenen Zeitdomänen mit Mitteln bereitgestellt wird, um Informationen zu teilen.</claim-text></claim><claim id="c-de-01-0006" num="0006"><claim-text>Verfahren gemäß einem der vorangehenden Ansprüche, das weiterhin umfasst:
<claim-text>in Reaktion auf die Steuerinformationen: Beinhalten, in der Zeitstempelnachricht, einer Zeitzählung in einer nachrichtenerzeugenden Zeitdomäne, die ein relativer Zählwert ist, gemessen von einem jüngst stattfindenden vorherigen Zeitdomänenereignis, darüber wann das Zeitdomänenereignis in der nachrichtenerzeugenden Zeitdomäne (12, 22, 32) stattfand.</claim-text></claim-text></claim><claim id="c-de-01-0007" num="0007"><claim-text>Datenverarbeitungssystem, das umfasst:
<claim-text>eine Mehrzahl funktionaler Schaltkreismodule (14, 24, 34), wobei jedes funktionale Schaltkreismodul durch einen Takt getaktet wird, der eine andere Zeitdomäne (12, 22, 32) repräsentiert, wobei das System somit eine Mehrzahl von Zeitdomänen umfasst;</claim-text>
<claim-text><b>dadurch gekennzeichnet:</b><claim-text><b>dass</b> jedes funktionale Schaltkreismodul über eine Zeitstempelschaltung (40) verfügt, die umfasst: einen Referenzzähler zum Bestimmen entweder einer absoluten oder einer relativen Zeit in dem funktionalen Schaltkreismodul und Mittel zum<!-- EPO <DP n="29"> --> Bereitstellen von Informationen zum Einrichten einer Beziehung zwischen den Referenzzählern, wobei die Mittel zum Bereitstellen umfassen:
<claim-text>Mittel zum Bestimmen (208), basierend auf den Steuerinformationen, dass ein Zeitdomänenereignis, das eine Erzeugung einer Zeitstempelnachricht erfordert, in der vorbestimmten Zeitdomäne von der Mehrzahl von Zeitdomänen stattfindet; und</claim-text>
<claim-text>ein Schnittstellenmodul (70), das an jedes funktionale Schaltkreismodul von der Mehrzahl von funktionalen Schaltkreismodulen (14, 24, 34) gekoppelt ist, wobei das Schnittstellenmodul betriebsbereit ist, um die Steuerinformationen an jedes funktionale Schaltkreismodul von der Mehrzahl von funktionalen Schaltkreismodulen (14, 24, 34) zur Verfügung zu stellen, um mindestens eine Betriebsbedingung anzuzeigen, die das vorbestimmte Zeitdomänenereignis triggert, wobei das Schnittstellenmodul betriebsbereit ist, um mindestens eine Zeitstempelnachricht von mehreren nachrichtenerzeugenden Zeitdomänen aus der Mehrzahl von Zeitdomänen zu empfangen, wann das vorbestimmte Ereignis stattfindet; und</claim-text>
<claim-text>wobei das System weiterhin <b>dadurch gekennzeichnet ist, dass</b> die Zeitstempelschaltung betriebsbereit ist, um eine Zeitstempelnachricht zur Verfügung zu stellen, die einen Zeitpunkt anzeigt, an dem das vorbestimmte Ereignis stattfand, wobei die Zeitstempelnachricht umfasst: eine Zeitzählung in der nachrichtenerzeugenden Zeitdomäne, die ein absoluter oder ein relativer Zählwert des Referenzzählers in der nachrichtenerzeugenden Zeitdomäne ist, wann das Zeitdomänenereignis stattfand.</claim-text></claim-text></claim-text></claim-text></claim><claim id="c-de-01-0008" num="0008"><claim-text>System gemäß Anspruch 7, wobei die Zeitstempelschaltung (40) weiterhin umfasst: eine Zeitdomänenidentifikationsschaltung (48) zum Bereitstellen eines Zeitdomänenidentifizierers; und<br/>
eine Taktstatusschaltung (46) zum Bereitstellen von einem oder mehreren Betriebsmerkmalen eines Taktes in dem entsprechenden funktionalen Schaltkreismodul (34).</claim-text></claim><claim id="c-de-01-0009" num="0009"><claim-text>System gemäß Anspruch 7 oder Anspruch 8, wobei das Schnittstellenmodul (70) weiterhin mindestens ein Register (80) zum Speichern der Steuerinformationen umfasst.</claim-text></claim><claim id="c-de-01-0010" num="0010"><claim-text>System gemäß einem der Ansprüche 7 - 9, wobei:
<claim-text>das Schnittstellenmodul (70) Zeitstempelnachrichten von allen Zeitdomänen (12, 22, 32) bei einem gemeinsamen Schnittstellenanschluss (92) zur Verfügung stellt<!-- EPO <DP n="30"> --> und wobei der gemeinsame Schnittstellenanschluss des Schnittstellenmoduls den IEEE ISTO 5001 (NEXUS)-Standard erfüllt.</claim-text></claim-text></claim><claim id="c-de-01-0011" num="0011"><claim-text>System gemäß einem der Ansprüche 7 - 10, wobei das Schnittstellenmodul (70) weiterhin umfasst:
<claim-text>eine Speicherschaltung zum Speichern der Steuerinformationen als programmierbare Steuerinformationen, die die mindestens eine Betriebsbedingung bestimmen, die das vorbestimmte Ereignis triggert; und</claim-text>
<claim-text>dass die mindestens eine Betriebsbedingung, die das vorbestimmte Ereignis triggert, weiterhin umfasst: einen Eintritt in eine, oder einen Austritt aus einer, Leistungsbetriebsart; einen Wechsel einer Taktquelle; einen Wechsel einer Taktperiodizität; einen vorbestimmten Wechsel eines Hartwarezählerwertes; einen Eintritt in eine und einen Austritt aus einer Bereinigungsbetriebsart; und/oder ein Vorkommen mindestens eines anwenderprogrammierbaren Ereignisses.</claim-text></claim-text></claim><claim id="c-de-01-0012" num="0012"><claim-text>System gemäß einem der Ansprüche 7 - 11, wobei:
<claim-text>die durch mindestens ein funktionales Schaltkreismodul von der Mehrzahl von funktionalen Schaltkreismodulen (14, 24, 34) bereitgestellte Nachricht über ein Format verfügt, das umfasst: einen Zeitzählwert, der ein absoluter Wert bezogen auf einen bekannten Ausgangswert ist, Statusinformationen eines Taktsignals, das mit einem der funktionalen Schalkreismodule verknüpft ist, und/oder einen Identifizierer, der eine entsprechende Zeitdomäne anzeigt, die mit der Zeitstempelnachricht verknüpft ist.</claim-text></claim-text></claim><claim id="c-de-01-0013" num="0013"><claim-text>System gemäß einem der Ansprüche 7 - 11, wobei<br/>
die durch mindestens ein funktionales Schaltkreismodul von der Mehrzahl von funktionalen Schaltkreismodulen bereitgestellte Nachricht über ein Format verfügt, das umfasst: einen Zeitzählwert, der ein relativer Wert bezogen auf ein letztes vorbestimmtes Ereignis ist, Statusinformationen eines Taktsignals, das mit einem der funktionalen Schaltkreismodule verknüpft ist, und/oder einen Identifizierer, der eine entsprechende Zeitdomäne anzeigt, die mit der Zeitstempelnachricht verknüpft ist.</claim-text></claim><claim id="c-de-01-0014" num="0014"><claim-text>System gemäß einem der Ansprüche 7 - 13, wobei:
<claim-text>die Zeitstempelnachricht über ein Format verfügt, das umfasst: einen Zeitzählwert, der zu jedem der funktionalen Schaltkreismodule gehört, und<!-- EPO <DP n="31"> --> vorbestimmte Statusinformationen, die mit jedem der funktionalen Schaltkreismodule verknüpft sind, wann das vorbestimmte Ereignis stattfindet.</claim-text></claim-text></claim><claim id="c-de-01-0015" num="0015"><claim-text>System gemäß einem der Ansprüche 7 - 14, das auf einer einzelnen integrierten Schaltung implementiert ist.</claim-text></claim></claims><claims mxw-id="PCLM56987229" lang="EN" load-source="patent-office"><!-- EPO <DP n="24"> --><claim id="c-en-01-0001" num="0001"><claim-text>A method for providing information for establishing the relationship between reference counters of a plurality of functional circuit modules (14, 24, 34) in a data-processing system (10), each functional circuit module clocked by a clock that represents a different time domain, the system thus comprising a plurality of time domains, and each functional circuit module comprising time stamping circuitry, the time stamping circuitry including a respective one of said reference counters for determining either absolute or relative time in the functional circuit module,<br/>
the method <b>characterized by</b> comprising:
<claim-text>providing (206) control information indicating for each of the plurality of time domains when a timestamp message is to be generated, the control information specifying at least one operating condition that triggers a predetermined time domain event for which a timestamp message is to be generated;</claim-text>
<claim-text>determining (208), based on the control information, that a time domain event that requires generation of a timestamp message occurs in the predetermined one of the plurality of time domains; and</claim-text>
<claim-text>generating (210) by the time-stamping circuitry of multiple message generating time domains out of said plurality of time domains a timestamp message indicating a point in time said event occurred in response to determining that said time domain event occurred, said timestamp message including a time count in the message generating time domain that is an absolute or relative count value of said reference counter in the message generating time domain when the time domain event occurred.</claim-text></claim-text></claim><claim id="c-en-01-0002" num="0002"><claim-text>The method of claim 1, further comprising:
<claim-text>including within the timestamp message a format identifier field that identifies one of a plurality of predetermined formats that the timestamp message has.</claim-text></claim-text></claim><claim id="c-en-01-0003" num="0003"><claim-text>The method of any one of the preceding claims, wherein said clock has an independent clock rate.</claim-text></claim><claim id="c-en-01-0004" num="0004"><claim-text>The method of any one of the preceding claims, wherein the event comprises at least one of entrance into or exit from a power mode of operation, a change in source of a clock, a change in clock periodicity, a predetermined change in a hardware counter value or entry into and exit from a debug mode of operation.</claim-text></claim><claim id="c-en-01-0005" num="0005"><claim-text>The method of any one of the preceding claims, wherein the predetermined time domain and the message generating time domains are different time domains and the functional circuitry of these different time domains is provided with means to share information.<!-- EPO <DP n="25"> --></claim-text></claim><claim id="c-en-01-0006" num="0006"><claim-text>The method of any previous claim further comprising, in response to the control information: including within the timestamp message a time count in a message generating time domain that is a relative count value measured from a most recently occurring previous time domain event of when the time domain event occurred in the message generating time domain (12, 22, 32).</claim-text></claim><claim id="c-en-01-0007" num="0007"><claim-text>A data processing system comprising:
<claim-text>a plurality of functional circuit modules (14, 24, 34), each functional circuit module being clocked by a clock that represents a different time domain (12, 22, 32) the system thus comprising a plurality of time domains;</claim-text>
<claim-text><b>characterized:</b><claim-text><b>by</b> each functional circuit module having time stamping circuitry (40) including a reference counter for determining either absolute or relative time in the functional circuit module and means for providing information for establishing a relationship between the reference counters, said means for providing comprising:
<claim-text>means for determining (208), based on control information, that a predetermined time domain event that requires generation of a timestamp message occurs in a predetermined one of the plurality of time domains, and</claim-text>
<claim-text>an interface module (70) coupled to each of the plurality of functional circuit modules (14, 24, 34), the interface module operable to provide the control information to each of the plurality of functional circuit modules (14, 24, 34) to indicate at least one operating condition that triggers the predetermined time domain event, the interface module operable to receive at least one timestamp message from multiple message generating time domains out of said plurality of time domains when the predetermined event occurs; and</claim-text></claim-text><claim-text>the system further <b>characterized by</b> the time-stamping circuitry operable to provide a timestamp message that indicates a point in time the predetermined event occurred, said timestamp message including a time count in the message generating time domain that is an absolute or relative count value of said reference counter in the message generating time domain when the time domain event occurred.</claim-text></claim-text></claim-text></claim><claim id="c-en-01-0008" num="0008"><claim-text>The system of claim 7, wherein the time-stamping circuitry (40) further comprises:
<claim-text>time domain identification circuitry (48) for providing a time domain identifier; and clock status circuitry (46) for providing one or more operating characteristics of a clock in the corresponding functional circuit module (34).</claim-text><!-- EPO <DP n="26"> --></claim-text></claim><claim id="c-en-01-0009" num="0009"><claim-text>The system of claim 7 or claim 8, wherein the interface module (70) further comprises:
<claim-text>at least one register (80) for storing the control information.</claim-text></claim-text></claim><claim id="c-en-01-0010" num="0010"><claim-text>The system of any of claims 7-9, wherein:
<claim-text>the interface module (70) provides timestamp messages from all time domains (12, 22, 32) at a common interface port (92) and wherein the common interface port of the interface module meets IEEE ISTO 5001 (NEXUS) compliance</claim-text></claim-text></claim><claim id="c-en-01-0011" num="0011"><claim-text>The system of any of claims 7-10, wherein the interface module (70) further comprises:
<claim-text>storage circuitry for storing the control information as programmable control information that determines the at least one operating condition that triggers the predetermined event; and</claim-text>
<claim-text>the at least one operating condition that triggers the predetermined event further comprises at least one of: entrance into or exit from a power mode of operation; a change in source of a clock; a change in clock periodicity; a predetermined change in a hardware counter value; entry into and exit from a debug mode of operation; and occurrence of at least one user programmable event.</claim-text></claim-text></claim><claim id="c-en-01-0012" num="0012"><claim-text>The system of any of claims 7-11, wherein:
<claim-text>the message provided by at least one of the plurality of functional circuit modules (14, 24, 34) has a format that comprises at least a time count value that is an absolute value referenced to a known starting value, status information of a clock signal associated with one of the functional circuit modules, and an identifier that indicates a corresponding time domain associated with the timestamp message.</claim-text></claim-text></claim><claim id="c-en-01-0013" num="0013"><claim-text>The system of any of claims 7-11, wherein:
<claim-text>the message provided by at least one of the plurality of functional circuit modules has a format that comprises at least a time count value that is a relative value referenced to a last occurring predetermined event, status information of a clock signal associated with one of the functional circuit modules, and an identifier that indicates a corresponding time domain associated with the timestamp message.</claim-text></claim-text></claim><claim id="c-en-01-0014" num="0014"><claim-text>The system of any of claims 7-13 wherein:
<claim-text>the timestamp message has a format that comprises a time count value corresponding to each of the functional circuit modules and predetermined status information associated with each of the functional circuit modules when the predetermined event occurs.</claim-text></claim-text></claim><claim id="c-en-01-0015" num="0015"><claim-text>The system of any one of claims 7-14, implemented on a single integrated circuit.</claim-text></claim></claims><claims mxw-id="PCLM56987230" lang="FR" load-source="patent-office"><!-- EPO <DP n="32"> --><claim id="c-fr-01-0001" num="0001"><claim-text>Procédé pour fournir des informations destinées à établir la relation entre des compteurs de référence d'une pluralité de modules de circuit fonctionnels (14, 24, 34) dans un système de traitement de données (10), chaque module de circuit fonctionnel étant cadencé par une horloge qui représente un domaine temporel différent, le système comprenant donc une pluralité de domaines temporels, et chaque module de circuit fonctionnel comprenant un circuit d'horodatage, le circuit d'horodatage comprenant respectivement un desdits compteurs de référence pour déterminer un temps absolu ou relatif dans le module de circuit fonctionnel,<br/>
le procédé étant <b>caractérisé en ce qu'</b>il comprend :
<claim-text>la fourniture (206) d'informations de commande indiquant pour chacun de la pluralité de domaines temporels le moment où un message d'horodatage doit être généré, les informations de commande spécifiant au moins une condition de fonctionnement qui déclenche un événement d'un domaine temporel prédéterminé pour lequel un message d'horodatage doit être généré ;</claim-text>
<claim-text>la détermination (208), sur la base des informations de commande, du fait qu'un événement de domaine temporel qui requiert la génération d'un message d'horodatage survient dans le domaine prédéterminé de la pluralité de domaines temporels; et</claim-text>
<claim-text>la génération (210), par le circuit d'horodatage de plusieurs domaines temporels de génération de messages parmi ladite pluralité de domaines temporels, d'un message d'horodatage indiquant un point dans le temps où ledit événement s'est produit en réponse à la détermination du fait que ledit événement de domaine temporel s'est produit, ledit message d'horodatage comprenant un comptage temporel dans le domaine temporel de génération de message qui est une valeur de comptage absolue ou relative dudit compteur de référence dans le domaine temporel de génération du message lorsque l'événement de domaine temporel s'est produit.</claim-text></claim-text></claim><claim id="c-fr-01-0002" num="0002"><claim-text>Procédé selon la revendication 1, comprenant en outre :
<claim-text>l'inclusion, à l'intérieur du message d'horodatage, d'un champ d'identification de format qui identifie parmi une pluralité de formats prédéterminés le format qui est celui du message d'horodatage.</claim-text><!-- EPO <DP n="33"> --></claim-text></claim><claim id="c-fr-01-0003" num="0003"><claim-text>Procédé selon l'une quelconque des revendications précédentes, dans lequel ladite horloge a une cadence d'horloge indépendante.</claim-text></claim><claim id="c-fr-01-0004" num="0004"><claim-text>Procédé selon l'une quelconque des revendications précédentes, dans lequel l'événement comprend au moins l'une parmi une entrée dans un mode de fonctionnement de puissance ou une sortie de ce mode, une modification de la source d'une horloge, une modification de la périodicité d'horloge, une modification prédéterminée d'une valeur de compteur du matériel, ou une entrée dans un mode de fonctionnement de mise au point et une sortie de ce mode.</claim-text></claim><claim id="c-fr-01-0005" num="0005"><claim-text>Procédé selon l'une quelconque des revendications précédentes, dans lequel le domaine temporel prédéterminé et les domaines temporels de génération de message sont des domaines temporels différents et le circuit fonctionnel de ces différents domaines temporels est prévu avec des moyens pour partager les informations.</claim-text></claim><claim id="c-fr-01-0006" num="0006"><claim-text>Procédé selon une quelconque revendication précédente, comprenant en outre, en réponse aux informations de commande : l'inclusion, à l'intérieur du message d'horodatage, d'un comptage temporel dans un domaine temporel de génération de message qui est une valeur de comptage relatif, mesurée à partir d'un événement de domaine temporel survenu le plus récemment, du moment où l'événement de domaine temporel s'est produit dans le domaine temporel de génération de message (12, 22, 32).</claim-text></claim><claim id="c-fr-01-0007" num="0007"><claim-text>Système de traitement de données comprenant :
<claim-text>une pluralité de modules de circuit fonctionnels (14, 24, 34), chaque module de circuit fonctionnel étant cadencé par une horloge qui représente un domaine temporel différent (12, 22, 32), le système comprenant donc une pluralité de domaines temporels ;</claim-text>
<claim-text><b>caractérisé en ce que</b> :
<claim-text>chaque module de circuit fonctionnel comprend un circuit d'horodatage (40), incluant un compteur de référence pour déterminer un temps absolu ou relatif dans le<!-- EPO <DP n="34"> --> module de circuit fonctionnel, et des moyens de fourniture d'informations destinées à établir une relation entre les compteurs de référence, lesdits moyens de fourniture comprenant :
<claim-text>des moyens pour déterminer (208), sur la base d'informations de commande, qu'un événement de domaine temporel prédéterminé qui requiert la génération d'un message d'horodatage survient dans un domaine prédéterminé parmi la pluralité de domaines temporels, et</claim-text>
<claim-text>un module d'interface (70) couplé à chacun de la pluralité de modules de circuit fonctionnels (14, 24, 34), le module d'interface étant fonctionnellement apte à fournir les informations de commande à chacun de la pluralité de modules de circuit fonctionnels (14, 24, 34) pour indiquer au moins une condition de fonctionnement qui déclenche l'événement de domaine temporel prédéterminé, le module d'interface étant fonctionnellement apte à recevoir au moins un message d'horodatage en provenance de plusieurs domaines temporels de génération de message parmi ladite pluralité de domaines temporels lorsque l'événement prédéterminé se produit ; et</claim-text></claim-text>
<claim-text>le système étant en outre <b>caractérisé en ce que</b> le circuit d'horodatage est fonctionnellement apte à fournir un message d'horodatage qui indique un point dans le temps où l'événement prédéterminé s'est produit, ledit message d'horodatage comprenant un comptage temporel dans le domaine temporel de génération de message qui est une valeur de comptage absolue ou relative dudit compteur de référence dans le domaine temporel de génération du message lorsque l'événement de domaine temporel s'est produit.</claim-text></claim-text></claim-text></claim><claim id="c-fr-01-0008" num="0008"><claim-text>Système selon la revendication 7, dans lequel le circuit d'horodatage (40) comprend en outre :
<claim-text>un circuit (48) d'identification de domaine temporel, pour fournir un identifiant de domaine temporel, et un circuit (46) d'état d'horloge, pour fournir une ou plusieurs caractéristiques de fonctionnement d'une horloge dans le module de circuit fonctionnel (34) correspondant.</claim-text><!-- EPO <DP n="35"> --></claim-text></claim><claim id="c-fr-01-0009" num="0009"><claim-text>Système selon la revendication 7 ou la revendication 8, dans lequel le module d'interface (70) comprend en outre : au moins un registre (80), pour mémoriser les informations de commande.</claim-text></claim><claim id="c-fr-01-0010" num="0010"><claim-text>Système selon l'une quelconque des revendications 7 à 9, dans lequel :
<claim-text>le module d'interface (70) fournit des messages d'horodatage en provenance de tous les domaines temporels (12, 22, 32) sur un accès d'interface (92) commun, et dans lequel l'accès d'interface commun du module d'interface est en conformité avec la norme IEEE ISTO 5001 (NEXUS).</claim-text></claim-text></claim><claim id="c-fr-01-0011" num="0011"><claim-text>Système selon l'une quelconque des revendications 7 à 10, dans lequel le module d'interface (70) comprend en outre :
<claim-text>un circuit de stockage pour mémoriser les informations de commande en tant qu'informations de commande programmables qui déterminent la au moins une condition de fonctionnement qui déclenche l'événement prédéterminé ; et</claim-text>
<claim-text>la au moins une condition de fonctionnement qui déclenche l'événement prédéterminé comprend en outre au moins l'une parmi : une entrée dans un mode de fonctionnement de puissance ou une sortie de ce mode ; une modification de la source d'une horloge ; une modification de la périodicité d'horloge ; une modification prédéterminée d'une valeur de compteur du matériel ; une entrée dans un mode de fonctionnement de mise au point et une sortie de ce mode ; et l'apparition d'au moins un événement programmable d'utilisateur.</claim-text></claim-text></claim><claim id="c-fr-01-0012" num="0012"><claim-text>Système selon l'une quelconque des revendications 7 à 11, dans lequel :
<claim-text>le message fourni par au moins l'un de la pluralité de modules de circuit fonctionnels (14, 24, 34) a un format qui comprend au moins une valeur de comptage temporel qui est une valeur absolue référencée par rapport à une valeur de départ connue, des informations d'état d'un signal d'horloge associé à l'un des modules de circuit fonctionnels, et un identifiant qui indique un domaine temporel correspondant associé au message d'horodatage.</claim-text></claim-text></claim><claim id="c-fr-01-0013" num="0013"><claim-text>Système selon l'une quelconque des revendications 7 à 11, dans lequel :<!-- EPO <DP n="36"> -->
<claim-text>le message fourni par au moins l'un de la pluralité de modules de circuit fonctionnels (14, 24, 34) a un format qui comprend au moins une valeur de comptage temporel qui est une valeur relative référencée par rapport à un événement prédéterminé survenant en dernier, des informations d'état d'un signal d'horloge associé à l'un des modules de circuit fonctionnels, et un identifiant qui indique un domaine temporel correspondant associé au message d'horodatage.</claim-text></claim-text></claim><claim id="c-fr-01-0014" num="0014"><claim-text>Système selon l'une quelconque des revendications 7 à 13, dans lequel :
<claim-text>le message d'horodatage a un format qui comprend une valeur de comptage temporel correspondant à chacun des modules de circuit fonctionnels et des informations d'état prédéterminées associées à chacun des modules de circuit fonctionnels lorsque l'événement prédéterminé survient.</claim-text></claim-text></claim><claim id="c-fr-01-0015" num="0015"><claim-text>Système selon l'une quelconque des revendications 7 à 14, mis en oeuvre sur un circuit intégré unique.</claim-text></claim></claims><drawings mxw-id="PDW16672689" load-source="patent-office"><!-- EPO <DP n="37"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="163" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="38"> --><figure id="f0002" num="2,3,4"><img id="if0002" file="imgf0002.tif" wi="165" he="218" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="39"> --><figure id="f0003" num="5"><img id="if0003" file="imgf0003.tif" wi="141" he="227" img-content="drawing" img-format="tif"/></figure></drawings><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
