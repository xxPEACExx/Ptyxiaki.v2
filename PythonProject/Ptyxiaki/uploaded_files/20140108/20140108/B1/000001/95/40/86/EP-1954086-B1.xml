<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-1954086-B1" country="EP" doc-number="1954086" kind="B1" date="20140108" family-id="38016592" file-reference-id="311111" date-produced="20180826" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146588779" ucid="EP-1954086-B1"><document-id><country>EP</country><doc-number>1954086</doc-number><kind>B1</kind><date>20140108</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-06832717-A" is-representative="NO"><document-id mxw-id="PAPP154850971" load-source="docdb" format="epo"><country>EP</country><doc-number>06832717</doc-number><kind>A</kind><date>20061116</date><lang>JA</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140554992" ucid="FR-0553531-A" load-source="docdb"><document-id format="epo"><country>FR</country><doc-number>0553531</doc-number><kind>A</kind><date>20051121</date></document-id></priority-claim><priority-claim mxw-id="PPC140556820" ucid="JP-2006322828-W" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>2006322828</doc-number><kind>W</kind><date>20061116</date></document-id></priority-claim></priority-claims><dates-of-public-availability><intention-to-grant-date><date>20130701</date></intention-to-grant-date><search-report-dispatch-date><date>20110316</date></search-report-dispatch-date></dates-of-public-availability><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1989326616" load-source="ipcr">H04L  29/06        20060101AFI20110310BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL1989620071" load-source="docdb" scheme="CPC">H04L  69/169       20130101 LI20131017BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989635203" load-source="docdb" scheme="CPC">H04L  69/16        20130101 FI20131017BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989635991" load-source="docdb" scheme="CPC">H04L  29/12924     20130101 LA20131023BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989638034" load-source="docdb" scheme="CPC">H04L  67/02        20130101 LI20131017BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989644101" load-source="docdb" scheme="CPC">H04L  61/6063      20130101 LA20131023BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132370970" lang="DE" load-source="patent-office">(U)SIM-Karte im Servermodus und Kommunikationsverfahren mit Client</invention-title><invention-title mxw-id="PT132370971" lang="EN" load-source="patent-office">(U)SIM card in server mode, and communication method with client</invention-title><invention-title mxw-id="PT132370972" lang="FR" load-source="patent-office">Carte (U)SIM en mode serveur et méthode de communication avec client</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR919523515" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>NEC CORP</last-name><address><country>JP</country></address></addressbook></applicant><applicant mxw-id="PPAR919529478" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>NEC CORPORATION</last-name></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR919508148" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>ZAPPULLA FABRICE</last-name><address><country>FR</country></address></addressbook></inventor><inventor mxw-id="PPAR919543909" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>ZAPPULLA, FABRICE</last-name></addressbook></inventor><inventor mxw-id="PPAR919024700" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>ZAPPULLA, FABRICE</last-name><address><street>47, Bussys Street</street><city>F-95600 Eaubonne</city><country>FR</country></address></addressbook></inventor><inventor mxw-id="PPAR919516191" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>DONG OLIVIER</last-name><address><country>FR</country></address></addressbook></inventor><inventor mxw-id="PPAR919505630" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>DONG, OLIVIER</last-name></addressbook></inventor><inventor mxw-id="PPAR919024701" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>DONG, OLIVIER</last-name><address><street>2-2, Leo Delibes Street</street><city>F-91210 Draveil</city><country>FR</country></address></addressbook></inventor><inventor mxw-id="PPAR919530061" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>HELAINE HUBERT</last-name><address><country>FR</country></address></addressbook></inventor><inventor mxw-id="PPAR919528835" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>HELAINE, HUBERT</last-name></addressbook></inventor><inventor mxw-id="PPAR919024699" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>HELAINE, HUBERT</last-name><address><street>30-3, Robaresses Avenue</street><city>F-78570 Andresy</city><country>FR</country></address></addressbook></inventor></inventors><assignees><assignee mxw-id="PPAR919024703" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>NEC Corporation</last-name><iid>100789576</iid><address><street>7-1, Shiba 5-chome</street><city>Minato-ku Tokyo 108-8001</city><country>JP</country></address></addressbook></assignee></assignees><agents><agent mxw-id="PPAR919024702" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>MacDougall, Alan John Shaw</last-name><suffix>et al</suffix><iid>100779070</iid><address><street>Mathys &amp; Squire LLP 120 Holborn</street><city>London EC1N 2SQ</city><country>GB</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="JP-2006322828-W"><document-id><country>JP</country><doc-number>2006322828</doc-number><kind>W</kind><date>20061116</date><lang>JA</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2007058241-A1"><document-id><country>WO</country><doc-number>2007058241</doc-number><kind>A1</kind><date>20070524</date><lang>JA</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS549896672" load-source="docdb">DE</country><country mxw-id="DS549805466" load-source="docdb">FR</country><country mxw-id="DS549896677" load-source="docdb">GB</country><country mxw-id="DS549805467" load-source="docdb">IT</country></ep-contracting-states></designated-states></international-convention-data></bibliographic-data><description mxw-id="PDES63961197" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001">TECHNICAL FIELD</heading><p id="p0001" num="0001">The present invention relates to a mobile communication, and in particular, to a field of communication utilizing a chip card in a mobile terminal.</p><heading id="h0002">RELATED ART</heading><p id="p0002" num="0002">It has been known that for example, on a GSM network, a subscriber possesses in his or her mobile terminal a chip card, so-called a Subscriber Identity Module (SIM) card including a memory and a microcontroller. The memory saves, in general, files and a directory including an operator's identifier, network associated data, an urgent call number and a telephone directory or the like.</p><p id="p0003" num="0003">Recently, the SIM card is provided with a new function in which contents of certain files can be protected as a directory by a remote server by use of a Short Message Service (SMS). A latest trend is related to roles which the SIM card is expected to play in association with a General Packet Radio Service (GPRS) network also called 2.5G and a Universal Mobile Telecommunication System (UMTS) also called 3G. In this situation, the SIM card is also referred to as a Universal Integrated Circuit Card (UICC). In the following description, to indicate a card including the SIM function regardless of its generation, a comprehensive term (U)SIM will be employed. In this category, there<!-- EPO <DP n="2"> --> has been proposed a scheme in which regardless of the connection mode of the mobile terminal, that is, even in the line switching mode (GSM in general) or in the packet mode (GPRS in general), the (U)SIM card can access the terminal and the network. The scheme is known as an abbreviated symbol BIP (Bearer Independent Protocol), and the (U)SIM card can communicate with the mobile terminal using a logical circuit. Therefore, it is called a BIP channel. Generally, it is to be considered that one or a plurality of BIP channels can be set between the card and the terminal. This terminal includes middleware software (middleware) for an application of the (U)SIM card to interact with an application of the terminal. The software is also called a Card Application Toolkit (CAT).</p><p id="p0004" num="0004">For detailed description of the BIP protocol, reference is to be made to an article <nplcit id="ncit0001" npl-type="b"><text>ETSI TS102223, in particular, 7th Edition V7.1.0 published in October 2005 (available on the site of HYPERLINK "http://www.etsi.org" www.etsi.org</text></nplcit><u>)</u><u>.</u></p><p id="p0005" num="0005">According to the BIP protocol, the (U)SIM card can operate, particularly, as a client to send various requests to a remote server. Recently, it has been proposed to contain a server in the (U)SIM card. In this case, a remote client or a local client (i.e., a local browser, an uplet, or the like in the mobile terminal) can transmit an http request to the server contained in the card to acquire, particularly, a web page saved in its memory. Regardless of the situation wherein the (U)SIM card operates in the client mode or in the server mode, the mobile terminal converts the BIP protocol into a TCP/IP protocol and vice versa by the middleware software CAT.</p><p id="p0006" num="0006"><figref idrefs="f0001">FIG. 1</figref> schematically shows communication between a (U)SIM<!-- EPO <DP n="3"> --> card operating in the server mode and a client.</p><p id="p0007" num="0007">It is known that the (U)SIM card (UICC card in this situation) includes a SmartCard Web Server (SCWS) 110, a CAT software module 120 called as an SIM Application Toolkit Server (SATS) in this case to perform a gateway function for the BIP protocol and the TCP/IP protocol, TCP/IP stacks 130 and 140 of the client and the server, and a client 150. The client may be a local client, e.g., a terminal browser or midlet, or a remote application.</p><p id="p0008" num="0008">According to the current specification of the BIP protocol, a single client connection is acceptable by a BIP channel; hence, if a card server desires to access another client connection, it is required to establish a new channel. Since the number of BIP channels is restricted (although the maximum number is seven according to TS102223 standard, the mobile terminal can support seven or less), the condition for operation is important. For example, if the card desires to open a BIP channel in the client mode when the number of BIP channels being used reaches the maximum, it is required for the card to beforehand close a BIP channel, for example, a BIP channel in the server mode.</p><p id="p0009" num="0009">Additionally, if a plurality of BIP channels has been set, data cannot be simultaneously exchanged via various channels. In other words, the communication between the mobile terminal and the card is carried out from one BIP channel to another BIP channel in a serial mode.</p><p id="p0010" num="0010"><figref idrefs="f0002">FIG. 2</figref> shows a time-series chart of sever-mode communication between the card and a client, for example, as a local browser. For simplicity, none of the TCP/IP stacks is shown.<!-- EPO <DP n="4"> --></p><p id="p0011" num="0011">It is understood that the server only sequentially supports the connection to the client. Therefore, two connection requests from one and the same client (e.g., by two connection requests HTTP GET) are successively satisfied.</p><p id="p0012" num="0012">An event message transmitted from the gateway 120 to the server 110 to notify connection/disconnection of connection to the client does not include an identifier of the pertinent connection.</p><p id="p0013" num="0013">According to the protocol specification HTTP 1.0 and preceding specifications, the TCP connection is closed after the communication of a request and a reply thereto by the default option ("connection: Close" in the request header). However, by designating a header "connection: Keep-Alive" in the request, it is possible to request holding of opening of the connection. In this situation, if the client sends another request, the request uses the previously formed connection. In the protocol specification HTTP 1.1, the opening of connection is held by the default option.</p><p id="p0014" num="0014">In a situation wherein it is desired to download, for example, the first HTML page and then other objects (video, audio), if the client transmits a plurality of HTTP 1.1 requests in a successive fashion, the requests other than the first request are not received.</p><p id="p0015" num="0015"><figref idrefs="f0003">FIG. 3</figref> shows the above situation, that is, a consecutive request 210 from the client (browser 150) to the server 110. Such consecutive request can be processed by the server if the server operates in a so-called "automatic reconnection" mode as prescribed in article 6.4.27.1. of the specification. The connection requested by the first request is<!-- EPO <DP n="5"> --> confirmed by the client in step 211. Since a single TCP connection is acceptable, the second request is rejected, which is notified to the client in step 211. After data are exchanged via the TCP connection and the BIP channel between the client and the server, the client transmits a disconnection request 213, which is confirmed in step 214.</p><p id="p0016" num="0016">The browser restarts the second request; at occurrence of a time-out of a timer 215 (of the TCP/IP stack of the browser or the client) set after the first failure in step 212, the browser again requests the connection in step 216. Actually, the timing may be adjusted to ten seconds, which remarkably suppresses the download; it is hence likely that several objects are not downloaded.</p><p id="p0017" num="0017"><figref idrefs="f0004">FIG. 4</figref> shows an attempt of communication between the card 110 operating in the server mode and two clients which are two local clients in this situation i.e., a browser in the mobile terminal 150 and a midlet 160 (for example, one set of the mobile terminal) of a Java (registered trademark) application.</p><p id="p0018" num="0018">As can be here confirmed, after the browser attempts to establish an advantageous connection in 220, a connection request from the midlet fails in 221. This is because a TCP port to be coupled with the BIP channel is not available. Additionally, in a decisive occasion, if the HTTP request of the browser is of a Keep-Alive type (e.g., HTTP1.1 request) and the browser no longer requests new data, the TCP port of the server continues operation even the server is not operating. For example, if the user determines, after downloading one page of the server, to start a new application which desires to access the server, the new application can be developed after a time-out of a (browser's) timer for the first connection.<!-- EPO <DP n="6"> --></p><p id="p0019" num="0019">After all, the current BIP protocol imposes on the server of the card to act for a single client (a case wherein at least only one BIP channel can be opened).</p><p id="p0020" num="0020"><figref idrefs="f0005">FIG. 5</figref> shows communication between the card 110 operating in the server mode and a client. The server itself is in a so-called "automatic reconnection" mode in conformity with article 6.4.27.1. In short, in a case wherein the server is in this mode, if the TCP connection to the client is disconnected and the gateway is waiting for a new connection, the BIP channel has not been closed (by a close channel command). In this occasion, the server is capable of receiving a second request from the client to set a new TCP connection. This diagram shows the TCP/IP stacks in details.</p><p id="p0021" num="0021">In the first step 230, the BIP channel is opened by a command "Open Channel" of the BIP protocol. The mobile terminal confirms the situation by an acknowledgement reply "Terminal Response".</p><p id="p0022" num="0022">In this occasion, the browser transmits the first request in step 231, and the TCP connection is set after the exchange 232. The browser 150 can exchange data with the card 110 as indicated in step 233. If the second request is sent from the browser in 234 before the exchange 233 is finished, the gateway 120 rejects the connection request in step 235 and is then set again to a state to wait for a new connection request in step 236.</p><heading id="h0003">DISCLOSURE OF THE INVENTION</heading><heading id="h0004">PROBLEM TO BE SOLVED BY THE INVENTION</heading><p id="p0023" num="0023"><!-- EPO <DP n="7"> --> It is an exemplary object of the present invention to solve the drawback described above, and in particular, to make it possible that a plurality of simultaneous requests sent from one and the same client or different clients can be processed by a (U)SIM card operating in the server mode.</p><heading id="h0005">MEANS FOR SOLVING THE PROBLEM</heading><p id="p0024" num="0024">Aspects of the invention are disclosed in the appended independent claims. Optional, but advantageous features are disclosed in the appended dependent claims.</p><p id="p0025" num="0025">Therefore, the present invention is characterized in that the invention is defined by a method of communication between a chip card including a server and one or a plurality of clients in which the card being included in a mobile terminal and communicate via at least one BIP channel with the terminal: and the terminal performs a gateway function between the BIP channel and a plurality of TCP connections for one or a plurality of clients described above.</p><p id="p0026" num="0026">Therefore, the BIP channel can support the plurality of TCP connections to the one or the plurality of clients and can respond to simultaneous requests.</p><p id="p0027" num="0027">The method of communication between the server and the gateway includes a first command (Open Channel), the command including a parameter which indicates the terminal the maximum number of TCP connections to be opened for the BIP channel.</p><p id="p0028" num="0028">In the communication method, the server requesting the terminal for data transmission from one of the TCP connections coupled with the BIP channel can transmit a second command (Receive Data), and (if the server is notified that such data are available), the command includes a parameter to identify the TCP<!-- EPO <DP n="8"> --> connection.</p><p id="p0029" num="0029">Advantageously, the communication method may be configured such that the server sends data via a BIP channel to the terminal to request by a third command (Send Data) the terminal to transmit data to the one or the plurality of clients, the command including a parameter to identify a TCP connection to be used by the terminal for transmission.</p><p id="p0030" num="0030">Advantageously, the communication method may be configured such that the server requests by a fourth command (Close Channel) the terminal to close one or a plurality of TCP connections to be coupled with the BIP channel, the command including a parameter to identify one or a plurality of TCP connections to be closed.</p><p id="p0031" num="0031">Advantageously, the communication method may be configured such that the terminal transmits "event message" (Data available event) to the server in which the message indicates that data of the one or the plurality of clients are available for the BIP channel and identifies a TCP connection to be coupled with the channel having received data.</p><p id="p0032" num="0032">Still advantageously, the communication method is configured such that the terminal transmits to the server "event message" (Channel status event) which indicates that a TCP connection to be coupled with the BIP channel has been set or closed and identifies the connection.</p><p id="p0033" num="0033">As above, the BIP protocol between the chip card and the gateway can support management of the plural TCP connections to be coupled with one and the same channel.</p><p id="p0034" num="0034">The present invention also configures a format of messages for the<!-- EPO <DP n="9"> --> protocol.</p><p id="p0035" num="0035">Additionally, to enable exemplary embodiments of the method described above, the present invention is intended to a chip card including a software unit constructed to generate a command message and a mobile terminal including a software unit constructed to generate an event message.</p><heading id="h0006">BEST MODE FOR CARRYING OUT THE INVENTION</heading><p id="p0036" num="0036">The present invention will be further understood from the description of exemplary embodiments using accompanying drawings.</p><p id="p0037" num="0037">The fundamental concept of the present invention is to make it possible to couple a plurality of TCP connections with the BIP channel. For this purpose, the BIP protocol between the server contained in the card and the gateway is enhanced to identify to which TCP connection a command is to be applied for a predetermined BIP channel.</p><p id="p0038" num="0038">Particularly, as will be described later, the present invention employs a configuration in which after this point of time, commands "Receive data", "Send data", and "Close data" of a server and event messages "Data available" and "Status channel" of a mobile terminal as stipulated in the ETSI TS102223 standard are required to include an identifier of a TCP connection to which these commands and messages are applied.</p><p id="p0039" num="0039"><figref idrefs="f0006">FIG. 6</figref> shows a table of communication in time series between a (U)SIM card operating in the server mode and a client such as a browser of, for example, a mobile terminal when the present invention is<!-- EPO <DP n="10"> --> embodied exemplarily.</p><p id="p0040" num="0040">As described above, a BIP channel is set by an exchange 240 between the card and the gateway. A successive request is transmitted by the browser in step 241. As a response thereto, the gateway 120 sets two TCP connections. That is, two TCP ports are opened for these connections. The setup of connections is confirmed by the browser in step 243, and this is notified to the server of the card by an event message "Channel status" in step 244. Thereafter, data are sent from the browser through the TCP connections to the server.</p><p id="p0041" num="0041">The gateway 120 of the mobile terminal notifies the server in steps 246 and 250 of availability of data at the two respective TCP ports by event messages "Data available". Each message "Data available" indicates an associated TCP connection. As a response thereto, the server requests the gateway by a "Receive data" command to transmit data while explicitly indicating which TCP connection (id-1, id-2) is associated with operation for each request.</p><p id="p0042" num="0042">It is to be understood that distinct from the time-series table shown in <figref idrefs="f0006">FIG. 6</figref>, the second connection request is not rejected, but is directly used.</p><p id="p0043" num="0043">If the data are completely transmitted from one port, the server is capable of independently disconnect the corresponding TCP connection according to the scheme shown in <figref idrefs="f0007">FIG. 7</figref>.</p><p id="p0044" num="0044">As a result, the communication resource is released and is available for another request. This is particularly effective if the number of communication resources has been reached the number of<!-- EPO <DP n="11"> --> TCP connections to the BIP channel.</p><p id="p0045" num="0045">In this situation, since all data of the port id-1 have been transmitted to the server, the server determines to close the port. For this purpose, the server sends in step 258 a command "Close channel" identifying a TCP connection to be closed.</p><p id="p0046" num="0046"><figref idrefs="f0008">FIG. 8</figref> shows a situation in which two clients, for example, a browser and a midlet of a mobile terminal attempt to connect to a server of a (U)SIM card. By setting two TCP connections, it is possible to immediately cope with two requests 260 and 262. The gateway 120 of the mobile terminal notifies this to the server using event messages "Status channel" 261 and 263 identifying associated TCP connections. Similarly, a disconnection request is notified in steps 265 and 267 by event messages "Status channel" identifying TCP connections to be disconnected.</p><p id="p0047" num="0047"><figref idrefs="f0009">FIG. 9</figref> shows a time-series table of communication between a (U)SIM card and a client such as a browser when the server of the (U)SIM card is in an automatic reconnection mode.</p><p id="p0048" num="0048">In this mode, the server of the card requests opening of a BIP channel from a mobile terminal using an "Open Channel" command in which the maximum number (two in the example shown) of TCP connections simultaneously supportable by the BIP channel is explicitly indicated. When a first request is sent to the browser, a TCP connection is set as an exchange 280. In this case, a second request is sent from the browser, and the second TCP connection is set as an exchange 282. The (U)SIM card and the server can communicate data with each other by use of two connections. Since the number of TCP connections has<!-- EPO <DP n="12"> --> reached the maximum number, the mobile terminal (gateway) is not required to return to a listen mode and waits for a new connection request from a server. The gateway returns to the listen mode in step 286 only if disconnection is notified from the browser in step 284.</p><p id="p0049" num="0049">To make it possible to embody the present invention exemplarily, several commands of the BIP protocol stipulated in the ETSI TS 10223V7.1.0 standard are modified in the configuration.</p><p id="p0050" num="0050">In more detail, it has been proposed to parameterize the command "Open Channel" according to the maximum number of TCP connections. The number is indicated by a field "Command Qualifier" of a TLV data element "Command details" of a command prescribed in article 6.6.27 of the standard above.</p><p id="p0051" num="0051">"Close channel" command is parameterized using
<ul><li>a first parameter indicating (a) whether only one of TCP connections is to be closed or (b) whether all of TCP connections are to be closed; and in the case of (b), the parameter indicates whether or not the BIP logical channel itself is also to be closed; and</li><li>a second parameter identifying connections to be closed in the case of (a).</li></ul></p><p id="p0052" num="0052">The two parameters are placed in a field "Command Qualifier" of a TLV data element "Command details" of a command prescribed in article 6.6.28 of the standard above.</p><p id="p0053" num="0053">A reply (TR) of a terminal to such command includes a connection identifier depending on cases.</p><p id="p0054" num="0054"><!-- EPO <DP n="13"> --> "Receive data" command is parameterized by a TCP connection (i.e., a TCP port) which is desired by a server to recollect data.</p><p id="p0055" num="0055">The connection identifier is indicated by a field "Command Qualifier" of a TLV data element "Command details" of a command prescribed in article 6.6.29 of the standard above.</p><p id="p0056" num="0056">A response (TR) of a terminal to such command includes a connection identifier depending on cases.</p><p id="p0057" num="0057">"Send data" command is parameterized by a TCP connection which is to be used by the server to transmit data.</p><p id="p0058" num="0058">The connection identifier is indicated by a field "Command Qualifier" of a TLV data element "Command details" of a command prescribed in article 6.6.30 of the standard above.</p><p id="p0059" num="0059">A reply (TR) of a terminal to such command includes a connection identifier depending on cases.</p><p id="p0060" num="0060">An event message (a message also called an "ENVELOP command" in the pertinent standard) is parameterized by a TCP connection, i.e., a TCP port at which data is available. This message is sent from a mobile terminal to a server of a (U)SIM card. Therefore, the message includes an identifier of the pertinent connection in a field "Channel status" of a TLV data element "Channel status" of a message prescribed in article 7.5.10 of the standard above.</p><p id="p0061" num="0061">The event message "Channel status" sent from a terminal to a server of a (U)SIM card indicates a state of the TCP connection.<!-- EPO <DP n="14"> --> Therefore, an identifier of the connection is included in a field "Channel status" of a TLV data element "Channel status" of a message prescribed in article 7.5.11 of the standard above.</p><heading id="h0007">BRIEF DESCRIPTION OF DRAWINGS</heading><p id="p0062" num="0062"><ul><li>[<figref idrefs="f0001">FIG. 1</figref>] A schematic diagram showing communication between a (U)SIM card operating in a server mode and a client.</li><li>[<figref idrefs="f0002">FIG. 2</figref>] A schematic time-series table showing communication between a card and a client.</li><li>[<figref idrefs="f0003">FIG. 3</figref>] A schematic diagram showing a situation in which a successive request is transmitted from a client to a (U)SIM card.</li><li>[<figref idrefs="f0004">FIG. 4</figref>] A schematic diagram showing an attempt of communication between a (U)SIM card and two clients.</li><li>[<figref idrefs="f0005">FIG. 5</figref>] A schematic time-series diagram showing an attempt of communication between a client and a server of a (U)SIM card in which the client is in an "automatic reconnection" mode.</li><li>[<figref idrefs="f0006">FIG. 6</figref>] A schematic time-series diagram showing communication between a (U)SIM card and a client in accordance with an exemplary embodiment of the present invention.</li><li>[<figref idrefs="f0007">FIG. 7</figref>] A schematic time-series diagram showing a communication disconnection scheme between a (U)SIM card and a client according to an exemplary embodiment of the present invention.</li><li>[<figref idrefs="f0008">FIG. 8</figref>] A schematic diagram showing an attempt of communication between a (U)SIM card and two clients in a range in which the present invention is embodied exemplarily.</li><li>[<figref idrefs="f0009">FIG. 9</figref>] A schematic time-series diagram showing communication between a (U)SIM card and a client in accordance with an exemplary embodiment of the present invention when the server of the (U)SIM card is in an "automatic reconnection" mode.</li></ul></p></description><claims mxw-id="PCLM56986331" lang="DE" load-source="patent-office"><!-- EPO <DP n="19"> --><claim id="c-de-01-0001" num="0001"><claim-text>Verfahren zur Kommunikation zwischen einer Chipkarte '(U)SIM', die mit einem Smartkarten-Webserver 'SCWS' versehen ist, und einem oder mehreren Clients, wobei diese Karte in einem Mobilfunkendgerät enthalten ist und durch wenigstens einen trägerunabhängigen Protokoll-, 'BIP'-, Kanal damit kommuniziert, wobei das Verfahren aufweist:
<claim-text>Ausführen einer Gateway-Funktion zwischen dem BIP-Kanal und mehreren TCP-Verbindungen für einen oder mehrere Clients durch das Endgerät;</claim-text>
<claim-text>wobei der BIP-Kanal durch ein erstes Kommando, Open Channel, von dem Server geöffnet wird, wobei das Kommando einen Parameter umfasst, der dem Endgerät die maximale Anzahl von TCP-Verbindungen, die für den BIP-Kanal geöffnet werden soll, anzeigt; und</claim-text>
<claim-text>nachdem angekündigt wurde, dass Daten von einer der TCP-Verbindungen, die mit dem BIP-Kanal verbunden sind, verfügbar sind, Senden eines zweiten Kommandos, Receive Data, das die Daten anfordert, von dem Server an das Endgerät, wobei das Kommando einen Parameter enthält, der die TCP-Verbindung identifiziert.</claim-text></claim-text></claim><claim id="c-de-01-0002" num="0002"><claim-text>Kommunikationsverfahren nach Anspruch 1, <b>dadurch gekennzeichnet, dass</b> der Server über den BIP-Kanal Daten an das Endgerät sendet und das Endgerät durch ein drittes Kommando, Send Data, auffordert, die Daten an einen oder mehrere der Clients zu senden, wobei das Kommando einen Parameter enthält, der die TCP-Verbindung identifiziert, die von dem Endgerät für die Übertragung verwendet werden soll.</claim-text></claim><claim id="c-de-01-0003" num="0003"><claim-text>Verfahren nach Anspruch 1 oder 2, <b>dadurch gekennzeichnet, dass</b> der Server das Endgerät mit einem vierten Kommando, Close Channel, auffordert, eine oder mehrere der TCP-Verbindungen, die mit dem BIP-Kanal gekoppelt werden sollen, zu schließen, wobei das Kommando einen Parameter enthält, der die eine oder mehreren der TCP-Verbindungen, die geschlossen werden sollen, identifiziert.<!-- EPO <DP n="20"> --></claim-text></claim><claim id="c-de-01-0004" num="0004"><claim-text>Verfahren nach einem der Ansprüche 1 bis 3, <b>dadurch gekennzeichnet, dass</b> der Server das Endgerät durch ein viertes Kommando, Close Channel, auffordert, eine oder alle der TCP-Verbindungen, die mit dem BIP-Kanal gekoppelt werden sollen, zu schließen, wobei das Kommando einen Parameter enthält, der dem Endgerät anzeigt, ob
<claim-text>a) nur eine der TCP-Verbindungen, die mit dem BIP-Kanal gekoppelt werden sollen, geschlossen werden soll; oder</claim-text>
<claim-text>b) alle der TCP-Verbindungen, die mit dem BIP-Kanal gekoppelt werden sollen, geschlossen werden sollen;</claim-text>
wobei der Parameter in dem Fall von a) die TCP-Verbindung, die geschlossen werden soll, identifiziert.</claim-text></claim><claim id="c-de-01-0005" num="0005"><claim-text>Verfahren nach Anspruch 4, <b>dadurch gekennzeichnet, dass</b> in dem Fall von b) das vierte Kommando ferner anzeigt, ob der BIP-Kanal ebenfalls geschlossen werden soll oder nicht.</claim-text></claim><claim id="c-de-01-0006" num="0006"><claim-text>Verfahren nach einem der Ansprüche 1 bis 5, <b>dadurch gekennzeichnet, dass</b> das Endgerät eine Ereignisnachricht, Data available event, an den Server sendet, wobei die Nachricht anzeigt, dass Daten von dem einen oder mehreren der Clients für den BIP-Kanal verfügbar sind, und eine TCP-Verbindung, die mit dem Kanal gekoppelt werden soll, über den die Daten empfangen werden, identifiziert.</claim-text></claim><claim id="c-de-01-0007" num="0007"><claim-text>Verfahren nach einem der Ansprüche 1 bis 6, <b>dadurch gekennzeichnet, dass</b> das Endgerät eine Ereignisnachricht, Channel status event, die anzeigt, dass die TCP-Verbindung, die mit dem BIP-Kanal gekoppelt werden soll, aufgebaut wurde oder geschlossen wurde, und die Verbindung identifiziert, an den Server sendet.</claim-text></claim><claim id="c-de-01-0008" num="0008"><claim-text>Chipkarte '(U)SIM', die mit einem Server 'SCWS' versehen ist und mit einem mobilen Endgerät, das eine Gateway-Funktion zwischen einem trägerunabhängigen Protokoll-, 'BIP'-, Kanal und mehreren TCP-Verbindungen für einen oder mehrere Clients durchführt, durch den BIP-Kanal kommuniziert, wobei die Chipkarte aufweist:<!-- EPO <DP n="21"> -->
<claim-text>eine Softwareeinheit, die geeignet ist, eine Kommandonachricht zu erzeugen, um von der Chipkarte an das Endgerät gesendet zu werden, und eine Ereignisnachricht zu empfangen und zu verarbeiten, um von dem Endgerät an die Chipkarte gesendet zu werden,</claim-text>
<claim-text>wobei die Softwareeinheit ein erstes Kommando, Open Channel, erzeugt, um den BIP-Kanal zwischen dem Server und dem Endgerät zu öffnen, wobei das Kommando einen Parameter umfasst, der dem Endgerät die maximale Anzahl von TCP-Verbindungen, die für den BIP-Kanal geöffnet werden soll, anzeigt; und</claim-text>
<claim-text>wobei der Server, nachdem angekündigt wurde, dass Daten von einer der TCP-Verbindungen, die mit dem BIP-Kanal verbunden sind, verfügbar sind, ein zweites Kommando (Receive Data) erzeugt, das die Daten von dem Endgerät anfordert, wobei das Kommando einen Parameter enthält, der die TCP-Verbindung identifiziert.</claim-text></claim-text></claim><claim id="c-de-01-0009" num="0009"><claim-text>Chipkarte nach Anspruch 8, wobei das erste Kommando dem Format des "Open Channel"-Kommandos aus dem ETSI TS 102223-Standard, V7.1.0, entspricht und der Parameter in seinem "Commander Qualifier"-Feld codiert ist.</claim-text></claim><claim id="c-de-01-0010" num="0010"><claim-text>Chipkarte nach Anspruch 8, wobei der Server Daten über den BIP-Kanal an das Endgerät sendet und das Endgerät durch ein drittes Kommando, Send Data, auffordert, die Daten an einen oder mehrere Clients zu senden, wobei das Kommando einen Parameter enthält, der die TCP-Verbindung identifiziert, die von dem Endgerät für die Übertragung verwendet werden soll.</claim-text></claim><claim id="c-de-01-0011" num="0011"><claim-text>Chipkarte nach Anspruch 10, wobei das dritte Kommando dem Format des "Send Data"-Kommandos aus dem ETSI TS 102223-Standard, V7.1.0, entspricht und der Parameter in seinem "Commander Qualifier"-Feld codiert ist.</claim-text></claim><claim id="c-de-01-0012" num="0012"><claim-text>Chipkarte nach Anspruch 8 oder 10, wobei der Server das Endgerät durch ein viertes Kommando, Close Channel, auffordert, die eine oder mehreren TCP-Verbindungen, die mit dem BIP-Kanal gekoppelt werden sollen, zu schließen, wobei das Kommando einen Parameter enthält, der die eine oder die mehreren TCP-Verbindungen, die geschlossen werden sollen, identifiziert.<!-- EPO <DP n="22"> --></claim-text></claim><claim id="c-de-01-0013" num="0013"><claim-text>Chipkarte nach einem der Ansprüche 8, 10 und 12, wobei der Server das Endgerät durch ein viertes Kommando, Close Channel, auffordert, eine oder alle der TCP-Verbindungen, die mit dem BIP-Kanal gekoppelt werden sollen, zu schließen, wobei das Kommando einen Parameter enthält, der dem Endgerät anzeigt, ob
<claim-text>a) nur eine der TCP-Verbindungen, die mit dem BIP-Kanal gekoppelt werden sollen, geschlossen werden soll; oder</claim-text>
<claim-text>b) alle der TCP-Verbindungen, die mit dem BIP-Kanal gekoppelt werden sollen, geschlossen werden sollen;</claim-text>
wobei der Parameter in dem Fall von a) die TCP-Verbindung, die geschlossen werden soll, identifiziert.</claim-text></claim><claim id="c-de-01-0014" num="0014"><claim-text>Chipkarte nach Anspruch 13, wobei in dem Fall von b) das vierte Kommando ferner anzeigt, ob der BIP-Kanal ebenfalls geschlossen werden soll oder nicht.</claim-text></claim><claim id="c-de-01-0015" num="0015"><claim-text>Chipkarte nach Anspruch 13 oder 14, wobei das vierte Kommando dem Format des "Close Channel"-Kommandos aus dem ETSI TS 102223-Standard, V7.1.0, entspricht und der Parameter in seinem "Commander Qualifier"-Feld codiert ist.</claim-text></claim><claim id="c-de-01-0016" num="0016"><claim-text>Chipkarte nach einem der Ansprüche 8, 10, 12, 13 und 14, wobei der Server eine Ereignisnachricht, Data available event, von dem Endgerät empfängt, wobei die Nachricht anzeigt, dass Daten von einem oder mehreren der Clients für den BIP-Kanal verfügbar sind, und eine TCP-Verbindung, die mit dem Kanal gekoppelt werden soll, über den die Daten empfangen werden, identifiziert.</claim-text></claim><claim id="c-de-01-0017" num="0017"><claim-text>Chipkarte nach Anspruch 16, wobei die Nachricht dem Format des Einhüllenden-Kommandos des "Data available event" aus dem ETSI TS 102223-Standard, V7.1.0, entspricht und der Parameter in seinem "Channel Status"-Feld codiert ist.</claim-text></claim><claim id="c-de-01-0018" num="0018"><claim-text>Chipkarte nach einem der Ansprüche 8, 10, 12, 13, 14 und 16, wobei der Server eine Ereignisnachricht (Channel status event) von dem Endgerät empfängt, wobei die Nachricht anzeigt, dass die TCP-Verbindung, die mit dem BIP-Kanal gekoppelt werden soll, aufgebaut wurde oder geschlossen wurde, und die Verbindung identifiziert.<!-- EPO <DP n="23"> --></claim-text></claim><claim id="c-de-01-0019" num="0019"><claim-text>Chipkarte nach Anspruch 18, wobei die Nachricht dem Format des Einhüllenden-Kommandos des "Channel status event" aus dem ETSI TS 102223-Standard, V7.1.0, entspricht und der Parameter in seinem "Channel Status"-Feld codiert ist.</claim-text></claim><claim id="c-de-01-0020" num="0020"><claim-text>Mobiles Endgerät, <b>dadurch gekennzeichnet, dass</b> das Endgerät eine Chipkarte nach einem der Ansprüche 8 bis 19 umfasst.</claim-text></claim><claim id="c-de-01-0021" num="0021"><claim-text>Kommunikationssystem, das eine Vorrichtung, die eine SIM-Funktion '(U)SIM' umfasst, die mit einem Server 'SCWS' versehen ist, und einem oder mehreren Clients aufweist,<br/>
wobei die Vorrichtung geeignet ist, sich mit einem Mobilfunkendgerät zu verbinden und durch wenigstens einen trägerunabhängigen Protokoll-, 'BIP'-, Kanal damit zu kommunizieren, wobei das Endgerät geeignet ist, eine Gateway-Funktion zwischen dem BIP-Kanal und mehreren TCP-Verbindungen für einen oder mehrere Clients durchzuführen;<br/>
wobei der BIP-Kanal durch ein erstes Kommando, Open Channel, von dem Server geöffnet wird, wobei das Kommando einen Parameter umfasst, der dem Endgerät die maximale Anzahl von TCP-Verbindungen, die für den BIP-Kanal geöffnet werden soll, anzeigt; und<br/>
wobei der Server geeignet ist, nachdem angekündigt wurde, dass Daten von einer der TCP-Verbindungen, die mit dem BIP-Kanal verbunden sind, verfügbar sind, ein zweites Kommando, Receive Data, das die Daten anfordert, an das Endgerät zu senden, wobei das Kommando einen Parameter enthält, der die TCP-Verbindung identifiziert.</claim-text></claim></claims><claims mxw-id="PCLM56986332" lang="EN" load-source="patent-office"><!-- EPO <DP n="15"> --><claim id="c-en-01-0001" num="0001"><claim-text>A method of communication between a chip card '(U)SIM' provided with a Smart card web server 'SCWS' and one or more clients, said card being contained in a mobile radio terminal and communicating therewith by at least one Bearer Independent Protocol BIP channel, the method comprising:
<claim-text>the terminal performing a gateway function between the BIP channel and a plurality of TCP connections for one or more clients;</claim-text>
<claim-text>the BIP channel being opened by a first command, Open Channel, from the server, the command including a parameter indicating to the terminal the maximum number of TCP connections to be opened for the BIP channel; and</claim-text>
<claim-text>on being advised that data from one of the TCP connections associated with the BIP channel are available, the server transmitting a second command, Receive Data, requesting the data to the terminal, the command including a parameter identifying the TCP connection.</claim-text></claim-text></claim><claim id="c-en-01-0002" num="0002"><claim-text>The method of communication according to claim 1, <b>characterized in that</b> the server sends data to the terminal via the BIP channel and requests the terminal to transmit the data to one or more of the clients by a third command, Send Data, the command including a parameter identifying the TCP connection to be used by the terminal for transmission.</claim-text></claim><claim id="c-en-01-0003" num="0003"><claim-text>The method according to claim 1 or 2, <b>characterized in that</b> the server requests the terminal to close one or more of the TCP connections to be coupled with the BIP channel by a fourth command, Close Channel, the command including a parameter identifying the one or more of the TCP connections to be closed.</claim-text></claim><claim id="c-en-01-0004" num="0004"><claim-text>The method according to one of claims 1 to 3, <b>characterized in that</b> the server requests the terminal to close one or all of the TCP connections to be coupled with the BIP channel by a fourth command, Close Channel, the command including a parameter indicating to the terminal whether:
<claim-text>a) only one of the TCP connections to be coupled with the BIP channel is to be closed; or</claim-text>
<claim-text>b) all of the TCP connections to be coupled with the BIP channel are to be closed;</claim-text>
the parameter, in the case of a), identifying the TCP connection to be closed.</claim-text></claim><claim id="c-en-01-0005" num="0005"><claim-text>The method according to claim 4, <b>characterized in that</b>, in the case of b), the fourth command further indicates whether or not the BIP channel is also to be closed.<!-- EPO <DP n="16"> --></claim-text></claim><claim id="c-en-01-0006" num="0006"><claim-text>The method according to one of claims 1 to 5, <b>characterized in that</b> the terminal transmits an event message, Data available event, to the server, the message indicating that data from one or more of the clients are available for the BIP channel and identifying a TCP connection to be coupled with the channel over which the data are received.</claim-text></claim><claim id="c-en-01-0007" num="0007"><claim-text>The method according to one of claims 1 to 6, <b>characterized in that</b> the terminal transmits to the server an event message, Channel status event, indicating that TCP connection to be coupled with the BIP channel has been set up or has been closed, and identifying the connection.</claim-text></claim><claim id="c-en-01-0008" num="0008"><claim-text>A chip card `(U)SIM' provided with a server 'SCWS' and communicating with a mobile terminal, which performs a gateway function between a Bearer Independent Protocol `BIP' channel and a plurality of TCP connections for one or more clients, by the BIP channel, the chip card comprising:
<claim-text>a software unit adapted to generate a command message for being sent by the chip card to the terminal, and to receive and process an event message for being sent by the terminal to the chip card,</claim-text>
<claim-text>wherein the software unit generates a first command, Open Channel, to open the BIP channel between the server and the terminal, the command including a parameter indicating to the terminal the maximum number of TCP connections to be opened for the BIP channel, and</claim-text>
<claim-text>wherein on being advised that data from one of the TCP connections associated with the BIP channel are available, the server generates a second command (Receive Data) requesting the data to the terminal, the command including a parameter identifying the TCP connection.</claim-text></claim-text></claim><claim id="c-en-01-0009" num="0009"><claim-text>The chip card according to claim 8 wherein the command first command complies with the format of the "Open Channel" command of the ETSI TS 102223 V7.1.0 standard and the parameter is encoded in the "Command Qualifier" field thereof.</claim-text></claim><claim id="c-en-01-0010" num="0010"><claim-text>The chip card according to claim 8 wherein the server sends data to the terminal via the BIP channel and requests the terminal to transmit the data to one or more of the clients by a third command, Send Data, the command including a parameter identifying the TCP connection to be used by the terminal for transmission.</claim-text></claim><claim id="c-en-01-0011" num="0011"><claim-text>The chip card according to claim 10 wherein the third command complies with the format of the "Send Data" command of the ETSI TS 102223 V7.1.0 standard and the parameter is encoded in the "Command Qualifier" field thereof.<!-- EPO <DP n="17"> --></claim-text></claim><claim id="c-en-01-0012" num="0012"><claim-text>The chip card according to claim 8 or 10 wherein the server requests the terminal to close one or more of the TCP connections to be coupled with the BIP channel by a fourth command, Close Channel, the command including a parameter identifying the one or more of the TCP connections to be closed.</claim-text></claim><claim id="c-en-01-0013" num="0013"><claim-text>The chip card according to one of claims 8, 10; and 12, wherein the server requests the terminal to close one or all of the TCP connections to be coupled with the BIP channel by a fourth command, Close Channel, the command including a parameter indicating to the terminal whether:
<claim-text>a) only one of the TCP connections to be coupled with the BIP channel is to be closed; or</claim-text>
<claim-text>b) all of the TCP connections to be coupled with the BIP channel are to be closed;</claim-text>
the parameter in the case of a) identifying the TCP connection to be closed.</claim-text></claim><claim id="c-en-01-0014" num="0014"><claim-text>The chip card according to claim 13, wherein in the case of b), the fourth command further indicates whether or not the BIP channel is also to be closed.</claim-text></claim><claim id="c-en-01-0015" num="0015"><claim-text>The chip card according to claim 13 or 14 wherein the fourth command complies with the format of the "Close Channel" command of the ETSI TS 102223 V7.1.0 standard and the parameter is encoded in the "Command Qualifier" field thereof.</claim-text></claim><claim id="c-en-01-0016" num="0016"><claim-text>The chip card according to one of claims 8, 10, 12, 13, and 14, wherein the server receives an event message, Data available event, from the terminal, the message indicating that data from one or more of the clients are available for the BIP channel and identifying a TCP connection to be coupled with the channel over which the data are received.</claim-text></claim><claim id="c-en-01-0017" num="0017"><claim-text>The chip card according to claim 16 wherein the message complies with the format of the "Data available event" envelope command of the ETSI TS 102223 V7.1.0 standard and the parameter is encoded in the "Channel Status" field thereof.</claim-text></claim><claim id="c-en-01-0018" num="0018"><claim-text>The chip card according to one of claims 8, 10, 12, 13, 14, and 16, wherein the server receives an event message (Channel status event) from the terminal, the message indicating that TCP connection to be coupled with the BIP channel has been set up or has been closed, and identifying the connection.</claim-text></claim><claim id="c-en-01-0019" num="0019"><claim-text>The chip card according to claim 18 wherein the message complies with the format of the "Channel status event" envelope command of the ETSI TS 102223 V7.1.0 standard and the parameter is encoded in the "Channel Status" field thereof.<!-- EPO <DP n="18"> --></claim-text></claim><claim id="c-en-01-0020" num="0020"><claim-text>A mobile terminal, <b>characterized in that</b>, the terminal includes a chip card according to one of claims 8 to 19.</claim-text></claim><claim id="c-en-01-0021" num="0021"><claim-text>A communication system comprising a device including a SIM function `(U)SIM', provided with a server 'SCWS', and one or more clients;<br/>
wherein the device is adapted to connect to a mobile radio terminal and to communicate therewith by at least one Bearer Independent Protocol 'BIP' channel, wherein the terminal is adapted to perform a gateway function between said BIP channel and a plurality of TCP connections for one or more clients;<br/>
wherein the BIP channel is opened by a first command, Open Channel, from the server, the command including a parameter indicating to the terminal the maximum number of TCP connections to be opened for the BIP channel; and<br/>
wherein the server is adapted to, on being advised that data from one of the TCP connections associated with the BIP channel is available, transmit a second command, Receive Data, requesting the data to the terminal, the command including a parameter identifying the TCP connection.</claim-text></claim></claims><claims mxw-id="PCLM56986333" lang="FR" load-source="patent-office"><!-- EPO <DP n="24"> --><claim id="c-fr-01-0001" num="0001"><claim-text>Procédé de communication entre une carte à puce « (U)SIM » dotée d'un serveur web de carte intelligente « SCWS », et un ou plusieurs dispositifs clients, ladite carte étant incluse dans un terminal radio mobile et communiquant avec celui-ci par le biais d'au moins un canal de protocole indépendant du support, BIP, le procédé comprenant les étapes ci-dessous dans lesquelles :
<claim-text>le terminal met en oeuvre une fonction de passerelle entre le canal de protocole BIP et une pluralité de connexions de protocole TCP pour un ou plusieurs dispositifs clients ;</claim-text>
<claim-text>le canal de protocole BIP étant ouvert par le biais d'une première commande - d'ouverture de canal -, « Open Channel », en provenance du serveur, la commande incluant un paramètre indiquant au terminal le nombre maximum de connexions de protocole TCP pouvant être ouvertes pour le canal de protocole BIP ; et</claim-text>
<claim-text>lorsqu'il est informé que des données de l'une des connexions de protocole TCP associées au canal de protocole BIP sont disponibles, le serveur transmet une deuxième commande - de réception de données -, « Receive Data », demandant les données au terminal, la commande incluant un paramètre identifiant la connexion de protocole TCP.</claim-text></claim-text></claim><claim id="c-fr-01-0002" num="0002"><claim-text>Procédé de communication selon la revendication 1, <b>caractérisé en ce que</b> le serveur envoie des données au terminal par le biais du canal de protocole BIP, et demande au terminal de transmettre les données à un ou plusieurs des dispositifs clients par le biais d'une troisième commande - d'envoi de données -, « Send Data », la commande incluant un paramètre identifiant la connexion de protocole TCP devant<!-- EPO <DP n="25"> --> être utilisée par le terminal en vue de la transmission.</claim-text></claim><claim id="c-fr-01-0003" num="0003"><claim-text>Procédé selon la revendication 1 ou 2, <b>caractérisé en ce que</b> le serveur demande au terminal de fermer une ou plusieurs des connexions de protocole TCP à coupler avec le canal de protocole BIP, par le biais d'une quatrième commande - de fermeture de canal -,« Close Channel », la commande incluant un paramètre identifiant ladite une ou lesdites plusieurs des connexions de protocole TCP devant être fermées.</claim-text></claim><claim id="c-fr-01-0004" num="0004"><claim-text>Procédé selon l'une quelconque des revendications 1 à 3, <b>caractérisé en ce que</b> le serveur demande au terminal de fermer l'une ou l'ensemble des connexions de protocole TCP à coupler avec le canal de protocole BIP, par le biais d'une quatrième commande - de fermeture de canal -,« Close Channel », la commande incluant un paramètre indiquant au terminal si :
<claim-text>a) une seule des connexions de protocole TCP à coupler avec le canal de protocole BIP doit être fermée ; ou</claim-text>
<claim-text>b) toutes les connexions de protocole TCP à coupler avec le canal de protocole BIP doivent être fermées ;</claim-text>
le paramètre, dans le cas a), identifiant la connexion de protocole TCP devant être fermée.</claim-text></claim><claim id="c-fr-01-0005" num="0005"><claim-text>Procédé selon la revendication 4, <b>caractérisé en ce que</b>, dans le cas b), la quatrième commande indique en outre si le canal de protocole BIP doit également être fermé ou non.</claim-text></claim><claim id="c-fr-01-0006" num="0006"><claim-text>Procédé selon l'une quelconque des revendications 1 à 5, <b>caractérisé en ce que</b> le terminal transmet un message d'événement, « Data available event » (Événement de données disponibles), au serveur, le message indiquant que des données en provenance d'un ou plusieurs des dispositifs<!-- EPO <DP n="26"> --> clients sont disponibles pour le canal de protocole BIP, et identifiant une connexion de protocole TCP à coupler avec le canal sur lequel les données sont reçues.</claim-text></claim><claim id="c-fr-01-0007" num="0007"><claim-text>Procédé selon l'une quelconque des revendications 1 à 6, <b>caractérisé en ce que</b> le terminal transmet au serveur un message d'événement, « Channel status event » (Événement d'état de canal), indiquant que la connexion de protocole TCP à coupler avec le canal de protocole BIP a été établie ou a été fermée, et identifiant la connexion.</claim-text></claim><claim id="c-fr-01-0008" num="0008"><claim-text>Carte à puce « (U)SIM » dotée d'un serveur « SCWS » et communiquant avec un terminal mobile qui met en oeuvre une fonction de passerelle entre un canal de protocole indépendant du support, BIP, et une pluralité de connexions de protocole TCP pour un ou plusieurs dispositifs clients, par le biais du canal de protocole BIP, la carte à puce comprenant :
<claim-text>une unité logicielle apte à générer un message de commande destiné à être envoyé par la carte à puce au terminal, et à recevoir et traiter un message d'événement destiné à être envoyé par le terminal à la carte à puce ;</claim-text>
<claim-text>dans laquelle l'unité logicielle génère une première commande - d'ouverture de canal -, « Open Channel », visant à ouvrir le canal de protocole BIP entre le serveur et le terminal, la commande incluant un paramètre indiquant au terminal le nombre maximum de connexions de protocole TCP devant être ouvertes pour le canal de protocole BIP ; et</claim-text>
<claim-text>dans laquelle, lorsqu'il a été informé que des données de l'une des connexions de protocole TCP associées au canal de protocole BIP sont disponibles, le serveur génère une deuxième commande - de réception de données -, « Receive Data », demandant les données au terminal, la commande<!-- EPO <DP n="27"> --> incluant un paramètre identifiant la connexion de protocole TCP.</claim-text></claim-text></claim><claim id="c-fr-01-0009" num="0009"><claim-text>Carte à puce selon la revendication 8, dans laquelle la première commande est conforme au format de la commande - d'ouverture de canal -, « Open Channel », de la norme ETSI TS 102223 V7.1.0, et le paramètre est codé dans le champ de qualificateur de commande « Command Qualifier » de celle-ci.</claim-text></claim><claim id="c-fr-01-0010" num="0010"><claim-text>Carte à puce selon la revendication 8, dans laquelle le serveur envoie des données au terminal par l'intermédiaire du canal de protocole BIP, et demande au terminal de transmettre les données à un ou plusieurs des dispositifs clients par le biais d'une troisième commande - d'envoi de données -, « Send Data », la commande incluant un paramètre identifiant la connexion de protocole TCP devant être utilisée par le terminal en vue de la transmission.</claim-text></claim><claim id="c-fr-01-0011" num="0011"><claim-text>Carte à puce selon la revendication 10, dans laquelle la troisième commande est conforme au format de la commande - d'envoi de données -, « Send Data » de la norme ETSI TS 102223 V7.1.0, et le paramètre est codé dans le champ de qualificateur de commande « Command Qualifier » de celle-ci.</claim-text></claim><claim id="c-fr-01-0012" num="0012"><claim-text>Carte à puce selon la revendication 8 ou 10, dans laquelle le serveur demande au terminal de fermer une ou plusieurs des connexions de protocole TCP à coupler avec le canal de protocole BIP, par le biais d'une quatrième commande
<claim-text>- de fermeture de canal -,« Close Channel », la commande incluant un paramètre identifiant ladite une ou lesdites plusieurs des connexions de protocole TCP devant être fermées.</claim-text><!-- EPO <DP n="28"> --></claim-text></claim><claim id="c-fr-01-0013" num="0013"><claim-text>Carte à puce selon l'une quelconque des revendications 8, 10 et 12, dans laquelle le serveur demande au terminal de fermer l'une ou l'ensemble des connexions de protocole TCP à coupler avec le canal de protocole BIP, par le biais d'une quatrième commande - de fermeture de canal -,« Close Channel », la commande incluant un paramètre indiquant au terminal si :
<claim-text>a) une seule des connexions de protocole TCP à coupler avec le canal de protocole BIP doit être fermée ; ou</claim-text>
<claim-text>b) toutes les connexions de protocole TCP à coupler avec le canal de protocole BIP doivent être fermées ;</claim-text>
le paramètre, dans le cas a), identifiant la connexion de protocole TCP devant être fermée.</claim-text></claim><claim id="c-fr-01-0014" num="0014"><claim-text>Carte à puce selon la revendication 13, dans laquelle, dans le cas b), la quatrième commande indique en outre si le canal de protocole BIP doit également être fermé ou non.</claim-text></claim><claim id="c-fr-01-0015" num="0015"><claim-text>Carte à puce selon la revendication 13 ou 14, dans laquelle la quatrième commande est conforme au format de la commande - de fermeture de canal -,« Close Channel » de la norme ETSI TS 102223 V7.1.0, et le paramètre est codé dans le champ de qualificateur de commande « Command Qualifier » de celle-ci.</claim-text></claim><claim id="c-fr-01-0016" num="0016"><claim-text>Carte à puce selon l'une quelconque des revendications 8, 10, 12, 13, et 14, dans laquelle le serveur reçoit un message d'événement, « Data available event » (Événement de données disponibles), en provenance du terminal, le message indiquant que des données en provenance d'un ou plusieurs des dispositifs clients sont disponibles pour le canal de protocole BIP, et identifiant une connexion de protocole TCP à coupler avec le canal sur lequel les données sont reçues.<!-- EPO <DP n="29"> --></claim-text></claim><claim id="c-fr-01-0017" num="0017"><claim-text>Carte à puce selon la revendication 16, dans laquelle le message est conforme au format de la commande d'enveloppe « Data available event » (Événement de données disponibles) de la norme ETSI TS 102223 V7.1.0, et le paramètre est codé dans le champ d'état de canal « Channel Status » de celle-ci.</claim-text></claim><claim id="c-fr-01-0018" num="0018"><claim-text>Carte à puce selon l'une quelconque des revendications 8, 10, 12, 13, 14, et 16, dans laquelle le serveur reçoit un message d'événement, « Channel status event » (Événement d'état de canal), en provenance du terminal, le message indiquant que la connexion de protocole TCP à coupler avec le canal de protocole BIP a été établie ou a été fermée, et identifiant la connexion.</claim-text></claim><claim id="c-fr-01-0019" num="0019"><claim-text>Carte à puce selon la revendication 18, dans laquelle le message est conforme au format de la commande d'enveloppe « Channel status event » (Événement d'état de canal) de la norme ETSI TS 102223 V7.1.0, et le paramètre est codé dans le champ d'état de canal « Channel Status » de celle-ci.</claim-text></claim><claim id="c-fr-01-0020" num="0020"><claim-text>Terminal mobile, <b>caractérisé en ce que</b> le terminal comprend une carte à puce selon l'une quelconque des revendications 8 à 19.</claim-text></claim><claim id="c-fr-01-0021" num="0021"><claim-text>Système de communication comprenant un dispositif incluant une fonction SIM « (U)SIM », dotée d'un serveur « SCWS », et un ou plusieurs dispositifs clients ;<br/>
dans lequel le dispositif est apte à se connecter à un terminal radio mobile et à communiquer avec celui-ci par le biais d'au moins un canal de protocole indépendant du support, BIP, dans lequel le terminal est apte à mettre en oeuvre une fonction de passerelle entre ledit canal de<!-- EPO <DP n="30"> --> protocole BIP et une pluralité de connexions de protocole TCP pour un ou plusieurs dispositifs clients ;<br/>
dans lequel le canal de protocole BIP est ouvert par le biais d'une première commande - d'ouverture de canal -, « Open Channel », en provenance du serveur, la commande incluant un paramètre indiquant au terminal le nombre maximum de connexions de protocole TCP devant être ouvertes pour le canal de protocole BIP ; et<br/>
dans lequel le serveur est apte à, lorsqu'il est informé que des données en provenance de l'une des connexions de protocole TCP associées au canal de protocole BIP sont disponibles, transmettre une deuxième commande - de réception de données -, « Receive Data », demandant les données au terminal, la commande incluant un paramètre identifiant la connexion de protocole TCP.</claim-text></claim></claims><drawings mxw-id="PDW16672422" load-source="patent-office"><!-- EPO <DP n="31"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="165" he="104" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="32"> --><figure id="f0002" num="2"><img id="if0002" file="imgf0002.tif" wi="147" he="151" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="33"> --><figure id="f0003" num="3"><img id="if0003" file="imgf0003.tif" wi="165" he="199" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="34"> --><figure id="f0004" num="4"><img id="if0004" file="imgf0004.tif" wi="162" he="145" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="35"> --><figure id="f0005" num="5"><img id="if0005" file="imgf0005.tif" wi="165" he="224" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="36"> --><figure id="f0006" num="6"><img id="if0006" file="imgf0006.tif" wi="127" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="37"> --><figure id="f0007" num="7"><img id="if0007" file="imgf0007.tif" wi="127" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="38"> --><figure id="f0008" num="8"><img id="if0008" file="imgf0008.tif" wi="165" he="227" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="39"> --><figure id="f0009" num="9"><img id="if0009" file="imgf0009.tif" wi="165" he="220" img-content="drawing" img-format="tif"/></figure></drawings><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
