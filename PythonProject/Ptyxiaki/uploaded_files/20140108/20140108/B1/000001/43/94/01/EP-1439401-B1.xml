<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-1439401-B1" country="EP" doc-number="1439401" kind="B1" date="20140108" family-id="30115375" file-reference-id="299931" date-produced="20180823" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146589211" ucid="EP-1439401-B1"><document-id><country>EP</country><doc-number>1439401</doc-number><kind>B1</kind><date>20140108</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-03026670-A" is-representative="NO"><document-id mxw-id="PAPP154851403" load-source="docdb" format="epo"><country>EP</country><doc-number>03026670</doc-number><kind>A</kind><date>20031119</date><lang>EN</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140549586" ucid="US-30050102-A" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>30050102</doc-number><kind>A</kind><date>20021119</date></document-id></priority-claim></priority-claims><dates-of-public-availability><intention-to-grant-date><date>20130813</date></intention-to-grant-date></dates-of-public-availability><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1989327943" load-source="ipcr">G01S  19/25        20100101AFI20130705BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1989644147" load-source="ipcr">G01S  19/23        20100101ALI20100101RMUS        </classification-ipcr><classification-ipcr mxw-id="PCL1989649874" load-source="ipcr">G01S   1/00        20060101A I20051008RMEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL1989651306" load-source="docdb" scheme="CPC">G01S  19/25        20130101 FI20130101BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132372266" lang="DE" load-source="patent-office">Hochempfindliche Satellitenpositionierungssystemempfänger und Empfangsverfahren</invention-title><invention-title mxw-id="PT132372267" lang="EN" load-source="patent-office">High-sensitivity satellite positioning system receivers and reception methods</invention-title><invention-title mxw-id="PT132372268" lang="FR" load-source="patent-office">Récepteurs pour système de positionnement par satellites à haute sensibilité et procédés de réception</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR919517137" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>ERIDE INC</last-name><address><country>US</country></address></addressbook></applicant><applicant mxw-id="PPAR919511117" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>ERIDE, INC.</last-name></addressbook></applicant><applicant mxw-id="PPAR919540978" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>SEIKO EPSON CORP</last-name><address><country>JP</country></address></addressbook></applicant><applicant mxw-id="PPAR919517002" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>SEIKO EPSON CORPORATION</last-name></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR919534421" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>MCBURNEY PAUL W</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR919537423" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>MCBURNEY, PAUL W.</last-name></addressbook></inventor><inventor mxw-id="PPAR919026873" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>MCBURNEY, PAUL W.</last-name><address><street>571 Secound Avenue</street><city>San Francisco California 94118</city><country>US</country></address></addressbook></inventor></inventors><assignees><assignee mxw-id="PPAR919026876" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>eRide, Inc.</last-name><iid>100118399</iid><address><street>3450 California Street</street><city>San Francisco, California 94118-1837</city><country>US</country></address></addressbook></assignee><assignee mxw-id="PPAR919026875" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>Seiko Epson Corporation</last-name><iid>100217775</iid><address><street>4-1, Nishi-shinjuku 2-chome, Shinjuku-ku</street><city>Tokyo 163</city><country>JP</country></address></addressbook></assignee></assignees><agents><agent mxw-id="PPAR919026874" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Grünecker, Kinkeldey, Stockmair &amp; Schwanhäusser Anwaltssozietät</last-name><iid>100060488</iid><address><street>Leopoldstrasse 4</street><city>80802 München</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><designated-states><ep-contracting-states><country mxw-id="DS549891201" load-source="docdb">DE</country><country mxw-id="DS549807393" load-source="docdb">FR</country><country mxw-id="DS549891202" load-source="docdb">GB</country></ep-contracting-states></designated-states></international-convention-data></bibliographic-data><description mxw-id="PDES63961622" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><p id="p0001" num="0001">The present invention relates to navigation satellite receivers, and more particularly to methods and systems for operating navigation satellite receivers in faint signal-level environments.</p><p id="p0002" num="0002">The global positioning system (GPS) is a satellite-based radio-navigation system built and operated by the United States Department of Defense at a cost of over $13 billion. Satellite positioning systems (SPS) include GPS and the Russian GLONASS navigation system. Others are proposed by Japan and the European Union.</p><p id="p0003" num="0003">In the GPS system, twenty-four satellites circling the earth at an attitude of 20,200 km are spaced in orbit such that a minimum of six satellites are in view at any one time to a user. Each such satellite transmits an accurate time and position signal. GPS receivers measure the time delay for the signal to reach it, and the apparent receiver-satellite distance is calculated from that. Measurements like this from at least four satellites allow a GPS receiver to calculate its three-dimensional position, velocity, and system time.</p><p id="p0004" num="0004">In many cases a mobile GPS receiver can have problems to determine its accurate position. <patcit id="pcit0001" dnum="US6469663B"><text>US 6,469,663</text></patcit> describes a method for accurately determining the relative position between a reference station and a mobile receiver in the vicinity of the reference station. Since the satellite signals received by the reference station and the mobile receiver will have similar error components, it is possible to reduce the errors of the signals by exchanging information about the signals with each other.<!-- EPO <DP n="2"> --></p><p id="p0005" num="0005">However, a navigation satellite receiver that has just been turned on does not yet know the exact orbital positions of satellites that are visible to it, where the receiver itself is, how much its crystal oscillator is in error and therefore its tuning frequencies, nor what time it is. It may however, know time to within a few seconds or better, and its rough position to within a hundred kilometers. Such prior knowledge, even so rough as this, can be used to great advantage.<!-- EPO <DP n="3"> --></p><p id="p0006" num="0006">The exact system time and the apparent carrier frequencies from the satellites are needed by the receiver to find and lock onto the transmissions, and so initially a search is usually needed of all the possibilities. Reducing the range of possibilities leads directly to quicker initializations. It is a commercial necessity for manufacturers of such equipment that the first position fix be well within the limited patience of the typical user.</p><p id="p0007" num="0007">A GPS receiver that is associated with a cellphone or that can communicate over the Internet can be assisted in many ways by network servers connected to other GPS receivers that already have satellite-lock and are tracking. A telephone or network communication channel can be used to contribute key bits of information to a navigation satellite receiver to help it initialize faster.</p><p id="p0008" num="0008">A list of documents describing methods and techniques for aiding GPS receiver clients is given in Table I.<!-- EPO <DP n="4"> -->
<tables id="tabl0001" num="0001"><table frame="all"><title><u>TABLE I</u></title><tgroup cols="5"><colspec colnum="1" colname="col1" colwidth="27mm"/><colspec colnum="2" colname="col2" colwidth="39mm"/><colspec colnum="3" colname="col3" colwidth="40mm"/><colspec colnum="4" colname="col4" colwidth="32mm"/><colspec colnum="5" colname="col5" colwidth="31mm"/><thead><row><entry valign="top">Docket Number</entry><entry valign="top">Title</entry><entry valign="top">Inventors</entry><entry valign="top">USPTO Filing Date</entry><entry valign="top">USPTO Serial No.</entry></row></thead><tbody><row><entry>734-01</entry><entry>Satellite Navigation satellite receiver and Method of</entry><entry>P. McBurney, A. Woo</entry><entry>1 1-Oct-00</entry><entry>09/687,044</entry></row><row><entry>734-02</entry><entry>Infrastructure-Aiding for Satellite Navigation satellite receiver and Method</entry><entry>P. McBurney, A. Woo</entry><entry>28-Feb-01</entry><entry>09/797,521</entry></row><row><entry>734-03</entry><entry>High sensitivity GPS Receiver and Reception</entry><entry>P. McBumey, A. <sub>'</sub> Woo</entry><entry>19-Feb-02</entry><entry>10/079,245</entry></row><row><entry>734-04</entry><entry>Total Correction Strategy</entry><entry>Stephen J, Edwards, P.McBurney</entry><entry>19-Feb-02</entry><entry>10/079,217</entry></row><row><entry>734-05</entry><entry>Method and System for Position Calculation from Calculated Time</entry><entry>S.Edwards, P.McBurney</entry><entry>19-Feb-02</entry><entry>10/079,244</entry></row><row><entry>734-06</entry><entry>Computing Network Path Delays so Accurate Absolute Time can be Forwarded from a Server to a Client</entry><entry>H.Matsushita, P.McBurney</entry><entry>19-Feb-02</entry><entry>10/079,251</entry></row><row><entry>734-07</entry><entry>No Preamble Frame Sync</entry><entry>Akira Kimura, P.McBurney</entry><entry>19-Feb-02</entry><entry>10/079,250</entry></row><row><entry>734-08</entry><entry>Thin Client</entry><entry>P.McBurney, C.Rasmussen, F.Vaucher, K.Victa</entry><entry>19-Feb-02</entry><entry>10/079,249</entry></row><row><entry>734-09</entry><entry>Software Crystal Oscillator</entry><entry>H.Matsushita, P.McBurney</entry><entry>19-web-02</entry><entry>10/079,248</entry></row><row><entry>734-10</entry><entry>High Sensitivity Infrequent Use of Sensors</entry><entry>P.McBurney, K.Victa</entry><entry>19-Feb-02</entry><entry>10/079,247</entry></row><row><entry>734-11</entry><entry>Real Time Clock (RTC)</entry><entry>P.McBurney</entry><entry>19-Feb-02</entry><entry>10/079,253</entry></row><row><entry>734-12</entry><entry>Shared Reference Station</entry><entry>C.Rypinski, M.Junkar</entry><entry>19-Feb-02</entry><entry>10/079,252</entry></row><row><entry>734-13</entry><entry>Client-Aided Doppler Estimation</entry><entry>P. McBurney, W.J. Morrison</entry><entry>07-Aug-02</entry><entry>10/215,138</entry></row><row><entry>734-15</entry><entry>Synthetic Nav-Data For A High-Sensitivity Satellite Positioning System Receiver</entry><entry>P. McBurney, W.J. Morrison</entry><entry>not yet filed</entry><entry/></row></tbody></tgroup></table></tables></p><p id="p0009" num="0009">The GPS satellites transmit a 50-bps navigation (NAV) data message that repeats every 12.5 minutes. It comprises system time, satellite ephemeris, and almanac information that is critical to a GPS receiver in acquiring signal lock on<!-- EPO <DP n="5"> --> enough satellites and producing its navigation solutions. There are twenty-five frames that each take 30-seconds, each frame has five subframes, and each subframe has ten words. A Z-count at the beginning of each subframe gives its transmission time from the satellite. Ephemeris is the first three subframes, and subframes 4-5 are almanac data spread over fifty pages. One whole data frame of NAV data is 1500-bits long, and thus takes thirty seconds to transmit.</p><p id="p0010" num="0010">The NAV-data cannot be reliably received and demodulated if its signal level is too weak. Such can occur indoors or below decks. So high sensitivity receivers need informational assistance from a third party over a different channel to get the current NAV-data. If local-receiver system-time is known, the z-count information can be plugged into an otherwise generic NAV-data message obtained from such third party.</p><p id="p0011" num="0011">Each data frame is divided into five subframes 1-5, and each subframe is 300-bits long, e.g., ten 30-bit words. Thus it takes six seconds to transmit each 300-bit, 10-word subframe. Every subframe starts with a telemetry (TLM) word of 30-bits, followed by a hand-over word (HOW) of 30-bits. Both 30-bit words comprise 24-bits of data and 6-bits of parity. There are eight words of data payload in each subf rame.</p><p id="p0012" num="0012">The TLM word at the front of each 300-bit subframe begins with an 8-bit preamble. The preamble allows the start of a subframe to be recognized, and thereafter provides a primary mechanism for the receiver to be synchronized.</p><p id="p0013" num="0013">The first 300-bit subframe transmits the satellite vehicle (SV) clock correction data after the TLM word and HOW. The second subframe transmits the first part of the satellite vehicle-ephemeris data. The third subframe transmits the second part of the satellite vehicle-ephemeris data. Subframes four and five are used to transmit different pages of system data. The fourth subframe also begins with the TLM<!-- EPO <DP n="6"> --> word and HOW, and the data payloads rotate over 12.5 minutes to transmit the lengthy information about the ionosphere, UTC, and other data. An entire set of twenty-five frames, e.g., 125 subframes, makes up the complete Navigation Message that is sent over such 12.5 minute period. The fifth subframe begins with the TLM word and HOW, and its data payload also rotates over 12.5 minutes to transmit the rather large almanac.</p><p id="p0014" num="0014">The clock data parameters describe the satellite vehicle-clock and its relationship to GPS time. The ephemeris data parameters describe satellite vehicle-orbits for short sections of the satellite orbits. Normally, a receiver gathers new ephemeris data each hour, but it can use old data for up to four hours without much error. The ephemeris parameters are used with an algorithm that computes the satellite vehicle position for any time within the period of the orbit described by the ephemeris parameter set. The almanacs are approximate orbital data parameters for all satellite vehicles. The ten-parameter almanacs describe satellite vehicle orbits over extended periods of time, and is sometimes useful for months.</p><p id="p0015" num="0015">The signal-acquisition time of a GPS receiver at start-up can be significantly speeded by having the current almanac available. The approximate orbital data is used to preset the receiver with the approximate position and carrier Doppler frequency of each satellite vehicle in the constellation.</p><p id="p0016" num="0016">Norman F. Krasner describes a way to deal with NAV-data messages that cannot be read because the carrier signal levels are too weak, in METHOD AND APPARATUS FOR SATELLITE POSITIONING SYSTEM BASED ON TIME MEASUREMENT, United States Patent, <patcit id="pcit0002" dnum="US6239742B1"><text>6,239,742 B1, issued May 29, 2001</text></patcit>. A base station is used to record parts of the NAV-data message and these are compared to similar data from a remote SPS receiver. The remote SPS receiver receives parts of the NAV-data message directly from satellites visible to it. The NAV-data recorded<!-- EPO <DP n="7"> --> by the base station includes with it correct time identification, so matching up the two overlapping-in-time parts can assist the remote SPS receiver in finding its correct system time. Such comparison is not done at the remote mobile receiver, but rather back at the base station.</p><heading id="h0001"><u>SUMMARY OF THE INVENTION</u></heading><p id="p0017" num="0017">It is therefore an object of the present invention to provide a method and system for assisting navigation satellite reception and receiver initialization.</p><p id="p0018" num="0018">It is another object of the present invention to provide a method and system for reducing the time necessary for GPS and SPS receivers to initialize.</p><p id="p0019" num="0019">It is a further object of the present invention to provide a satellite-navigation system that is cost effective.</p><p id="p0020" num="0020">Briefly, a navigation satellite receiver method embodiment of the present invention determines what navData is on-hand, what level of time uncertainty exists, and what position uncertainty there is for the receiver at turn-on. Indoor and outdoor search engines are used that can vary their search windows and dwell times to increase receiver sensitivity. Received signals are stored in several playback loops that can be operated in parallel to increase search sensitivity in the face of large uncertainties in time and frequency, and still reduce the time-to-first-fix. Satellite acquisition can be achieved even when the navData is too weak to be read by requesting help from a server.</p><p id="p0021" num="0021">An advantage of the present invention is that a system and method is provided that provides for initialization of navigation satellite receivers in attenuated signal<!-- EPO <DP n="8"> --> attenuation levels that would otherwise not be able to initialize.</p><p id="p0022" num="0022">Another advantage of the present invention is that a system and method is provided for reducing the cost navigation satellite receivers associated with mobile cellular telephones.</p><p id="p0023" num="0023">These and other objects and advantages of the present invention will no doubt become obvious to those of ordinary skill in the art after having read the following detailed description of the preferred SPS receivers which are illustrated in the various drawing figures.
<ul><li><figref idrefs="f0001">Fig. 1</figref> is a functional block diagram of a networked navigation system embodiment of the present invention;</li><li><figref idrefs="f0002">Fig. 2</figref> is a flowchart diagram of a method embodiment of the present invention useful in the system of <figref idrefs="f0001">Fig. 1</figref>;</li><li><figref idrefs="f0003">Fig. 3</figref> is a flowchart diagram of a generalized method embodiment of the present invention also useful in the system of <figref idrefs="f0001">Fig. 1</figref>;</li><li><figref idrefs="f0001">Fig. 4</figref> is a functional block diagram of an auto, demi, thin, and omni-client in a navigation satellite receiver network embodiment of the present invention; and</li><li><figref idrefs="f0004">Fig. 5</figref> shows a satellite positioning system receiver and support system embodiment of the present invention wherein a high-sensitivity receiver suffers from signal attenuation that does not affect a server.</li></ul><!-- EPO <DP n="9"> --></p><p id="p0024" num="0024"><figref idrefs="f0001">Fig. 1</figref> illustrates a networked navigation system 100, in an embodiment of the present invention, that includes a reference-station server system 102, a GPS measurement platform 104, and an intervening computer network 106 such as the Internet. The server system 102 includes a navigation satellite receiver that has locked onto and is tracking a constellation of navigation satellite vehicles (SV's) 108, 110, and 112. Some of these may also be visible to the GPS measurement platform 104. Another constellation of navigation satellites, including 114 and 116 is visible to client system 104. The GPS measurement platform 104 includes its own navigation satellite receiver, but such may not have yet locked onto and be tracking its constellation of navigation satellites 112, 114, and 116.</p><p id="p0025" num="0025">A navigation satellite receiver method embodiment of the present invention determines what navData is on-hand, what level of time uncertainty exists, and what position uncertainty there is for the receiver at turn-on. Indoor and outdoor search engines are used that can vary their search windows and dwell times to increase receiver sensitivity. Received signals are stored in several playback loops that can be operated in parallel to increase search sensitivity in the face of large uncertainties in time and frequency, and still reduce the time-to-first-fix. Satellite acquisition can be achieved even when the navData is too weak to be read by requesting help from a server.</p><p id="p0026" num="0026">In general, there are four types of GPS measurement platform embodiments of the present invention that are categorized by how independent of the server they can operate. An autonomous client can function and provide navigation solutions to a user with only minimal help from the server 102, e.g., differential correction data. A demi-client needs<!-- EPO <DP n="10"> --> more help, e.g., polynomial models that simplify ephemeris and time bias calculations. A thin-client lays off just about all the navigation calculations on the server 102, and basically provides only observational measurements from its point of view of the SV constellation. The navigation solutions are returned for local display if a user is there and wants to see them. The fourth type of client is a high-sensitivity GPS receiver connected as client 104, herein referred to as OMNI.</p><p id="p0027" num="0027"><figref idrefs="f0002">Fig. 2</figref> represents a search method embodiment of the present invention for acquiring and tracking navigation satellites with a receiver, and is referred to herein by the general reference numeral 200. Many of the techniques and terms used here in the following discussion that are not a part of the general skill of artisans in the field are explained in detail in several of the documents listed in Table I.</p><p id="p0028" num="0028">The method 200 begins with a navigation receiver being turned on. A step 202 determines what data is available, what gross time-uncertainty (sigmaTime) exists, and what gross position-uncertainty (sigmaPos) there is about the present location of the receiver. The data referred to in step 202 includes almanac and ephemeris information on the satellite vehicles (SV's). The data availability depends on whether a server can be connected to and how recent is any stored data.</p><p id="p0029" num="0029">Data source quality falls into a few grades:
<ol><li>a. a current ephemeris for all SV's is the best case and occurs when communication can be had with a server that has world wide coverage. After such an update, the receiver can run autonomous for 4-6 hours. Such data allows the highest elevation satellites (high-N) to be computed since the ephemeris acts like an almanac;</li><li>b. a current ephemeris for some SV's and <b>downloaded</b> ephemeris for others occurs in a receiver that has tracked recently and stored other <b>ephemerides</b> from a previous server<!-- EPO <DP n="11"> --> session or tracking session. Such can be used as long as 4-6 hours later to form the high-N and predict Dopplers;</li><li>c. no current ephemeris but still a complete almanac allows acquisition but not fixing because there is insufficient SV position and clock accuracy. If outdoors, a new ephemeris can be collected without using a server; and</li><li>d. no data occurs in clients after startup and before communicating with a server, and also in a general cold start.</li></ol></p><p id="p0030" num="0030">There are,a few different levels of time uncertainty (sigmaTime):
<ol><li>a. within 1-msec is possible with a real time clock (RTC) that has been running uncorrected for less than a day</li><li>b. a measured z-count decoded from navData or pattern match can reduce any time uncertainty to 10-msec; which is good enough to converge the position solution without U-dot V-DT terms;</li><li>c. within 20-msec is possible with a real time clock (RTC) that has been running uncorrected for a few days to a week, and this is generally good enough to avoid a no-Z fix;</li><li>d. a network latency estimate and using a server as a time base can reduce sigmaTime to 20-msec to 50-msec, and that would allow the no-Z fix and use of the classic fix type;</li><li>e. with sigmaTime in the one second level, big DT estimates larger than one second can be disqualified in a no-Z fix for increased integrity;</li><li>f. a rough time input from a human or a poor RTC accurate to five minutes is good enough to pick the high-N SV's and get a reasonable Doppler, and so this is good enough to start a search but a z-count, pattern match or latency source is needed to start the fix; and</li><li>g. no time information available at all is the default for reference station start ups and other cold starts.</li></ol><!-- EPO <DP n="12"> --></p><p id="p0031" num="0031">The bit transition time (BTT) is an estimate of the sub-twenty-millisecond portion of the integer millisecond. It can be used to filter the integer millisecond computed with pattern match or as an independent verifier. The z-count and BTT are measured by collecting NAV-data. The BTT is used to clean-up codephase roll-overs. Generally, the sub-twenty-millisecond portion should agree. There is a bit more noise on the BTT than z-count. However, the z-count can be in error by one millisecond for a short period of time near where the codephase rolls over.</p><p id="p0032" num="0032">There are three levels of position uncertainty (sigmaPos):
<ol><li>a. Less than 150-km, where a fix can be had even without a bit transition time (BTT) or a Z-count on each SV;</li><li>b. More than 150-km but less 3000-km, where some improvement can be realized by predicting the expected Doppler of the high-N SV's; and</li><li>c. More than 3000-km, where the high-N and expected Doppler information is so poor that it is better to assume no position.</li></ol></p><p id="p0033" num="0033">The 150-km threshold is a result of the physical distance the microwave transmission from a GPS-satellite travels during the time it takes to complete one whole C/A-code sequence. If the user position is known to better than 150-km uncertainty, then there will be no codephase integer ambiguity. But if the user position is not known to better than 150-km uncertainty, then the integer ambiguity problem must be solved. As a result, this 150-km threshold is highly dependent on the length of the pseudo-random number (PRN) code length and its repetition period or chip-rate. The GPS-system C/A-code repeats every millisecond, but the precision code (P-code) has<!-- EPO <DP n="13"> --> a much longer length and practically no integer ambiguity problem. Other navigation satellite systems, e.g., the Russian GLONASS-system, will have different thresholds.</p><p id="p0034" num="0034">The 3000-km threshold is a result of the Doppler effects of moving GPS-satellites. If the position uncertainty is known to be better than 3000-km, then a Doppler estimate based on that can be helpful. But if the position uncertainty is not known to be better than 3000-km, then a Doppler estimate based on that level of uncertainty can be detrimental. The 3000-km threshold is therefore characteristic of the GPS-system and its,satellites. Other systems and applications will probably have different thresholds that are appropriate.</p><p id="p0035" num="0035">If the position uncertainty is less than 150-km, a fix can be obtained without a z-count. A gridFix method can be used when the position uncertainty is under 150-km and the integer millisecond (intMs) on SV's is not available. A no-Z fix type is preferably used when sigmaTime is greater than 10-msec.</p><p id="p0036" num="0036">The signal-to-noise ratio (SNR) quality of the received signals from the SV's can vary for each SV. Five levels of SNR are defined, outdoor (OD) and four grades of indoor (ID1-ID4).<!-- EPO <DP n="14"> -->
<tables id="tabl0002" num="0002"><table frame="all"><title>TABLE</title><tgroup cols="4"><colspec colnum="1" colname="col1" colwidth="41mm"/><colspec colnum="2" colname="col2" colwidth="41mm"/><colspec colnum="3" colname="col3" colwidth="43mm"/><colspec colnum="4" colname="col4" colwidth="42mm"/><thead><row><entry namest="col1" nameend="col4" align="center" valign="top"><b>Signal Attenuation Levels</b></entry></row><row><entry align="center" valign="top"/><entry align="center" valign="top"><b>ACQUIRE</b></entry><entry align="center" valign="top"><b>TRACK</b></entry><entry align="center" valign="top"><b>COMMENT</b></entry></row></thead><tbody><row><entry align="center"><b>OD: SNR ≥-142 dBm</b></entry><entry align="center">outdoor search method (ODSM)</entry><entry align="center">time track state machine (TSM)</entry><entry align="center">reliable navData</entry></row><row><entry align="center"><b>ID1: -145 dBm</b>&lt;/= <b>SNR</b> &lt; -<b>142 dBm</b></entry><entry align="center">indoor search method (IDSM)</entry><entry align="center">handoff to track in TSM</entry><entry align="center">navData in TSM possible some ephemeris, z-count, and BTT</entry></row><row><entry align="center"><b>ID2: -150 dBm&lt;/= SNR</b> &lt;-<b>145 dBm</b></entry><entry align="center">indoor search method (IDSM)</entry><entry align="center">Handoff to TSM to carrier loop 4 (carrier from indoor search method, DLL runs)</entry><entry align="center">Can get BTT and some pattern matching, but too weak to collect NAV-data reliably</entry></row><row><entry align="center"><b>ID3: -155 dBm</b>&lt;/= <b>SNR &lt; -150 dBm</b></entry><entry align="center">indoor search method (IDSM)</entry><entry align="center">Too weak to handoff</entry><entry align="center">no NAV-data, BTT, or z-count</entry></row><row><entry align="center"><b>ID4: SNR &lt; -155 dBm</b></entry><entry align="center">cannot be acquired</entry><entry align="center">cannot be tracked</entry><entry align="center">completely obstructed</entry></row></tbody></tgroup></table></tables></p><heading id="h0002"><u>SUMMARY OF THE INVENTION</u></heading><p id="p0037" num="0037">The outdoor (OD) signal attenuation level exists where the receiver signal-to-noise ratio (SNR) is at least -142 dBm. Satellite vehicle acquisition is made with the outdoor search method defined herein, and tracking is done with the time track state machine (TSM). The indoor search method is not needed, and so the extra time and effort required of the receiver can be avoided. Such SNR's produce reliable navData, e.g., ephemeris, z-count, and BTT.</p><p id="p0038" num="0038">The first indoor signal attenuation level (ID1) exists for SNR's between-<b>145 dBm</b> and-<b>142 dBm</b>. Satellite vehicle<!-- EPO <DP n="15"> --> acquisition is made with the indoor search method, with a handoff to track in TSM. The indoor search method is disabled after handshake to save power. Obtaining the navData in TSM is possible, e.g., some ephomeris, z-count, and BTT.</p><p id="p0039" num="0039">The second indoor signal attenuation level (ID2) exists for SNR's between -150 dBm and -145 dBm. Satallite vehicle acquisition is made with the indoor search method, wich a handoff to track in TSM to carrier loop four carrier from indoor search method, DLL runs. Such can get BTT and some pattern matching, but generally the signals are coo weak to reliably collect the navData.</p><p id="p0040" num="0040">The third indoor signal attenuation level (ID3) exists for SNR's between -155 dBm and -150 dBm, Satellite vehicle acquisition is made with the indoor search method. The signals are too weak to handoff for tracking, and navData, BTT, and 2-count cannot be reliably collected.</p><p id="p0041" num="0041">The fourth indoor signal attenuation level (ID4) is defined for SNR's weaker than -155 dBm, and is tantamount to total signal obstruction. Satellite vehicle acquisition and tracking is next to impossible with signals this faint.</p><p id="p0042" num="0042">SPS receivers of the present invention described herein therefore extend the useful range of signal strengths for SPS receivers down to -150 dBm.</p><p id="p0043" num="0043">Not all the satellite vehicles visible at any one time will necessarily fit into one of the five signal attenuation level categories, e.g., OD and ID1-ID4. But if outdoors with no obstructions, as like a reference station, then all satellite vehicles above a few degrees of elevation will probably fit the outdoor signal attenuation level model. Conversely, if the receiver is really deep indoors, than the signals from all the satellite vehicles may be in the<!-- EPO <DP n="16"> --> obstructed ID4 group. More typically, the SNR environments will be mixed.</p><p id="p0044" num="0044">For example when the receiver is operating in a deep canyon, there can be a combination of direct satellite vehicles (in OD), attenuated satellite vehicles (in ID1-ID3), and obstructed satellite vehicles (in ID4). In such an environment, the strong overhead satellite vehicles can cause adverse cross-correlations on the weak and obstructed satellite vehicles because of the narrowband indoor search. It is possible that the cross-correlation peak is stronger than the satellite vehicles being searching for. The outdoor search method (ODSM) is preferably used first. The ODSM bandwidth is wider and less sensitive. Cross-correlation is more likely as the frequency window grows. The best way to minimize such likelihood is to search the smallest frequency windows possible.</p><p id="p0045" num="0045">When inside a building, but above signal attenuation level ID4, it is possible some satellite vehicles will exhibit stronger received signal levels. But the likelihood of cross-correlation problems is reduced because there are really no direct satellite vehicles, even high-elevation satellite vehicles will experience some attenuation on the direct beam. The indoor search method works well in such environment.</p><p id="p0046" num="0046">Two basic hypotheses are possible, Ho: sigmaPos&lt;150-km and small enough time error so that Dopplers are correct; and, H1: Ho is wrong.</p><p id="p0047" num="0047">. Two search methods and engines are used in receiver embodiments of the present invention, an outdoor search method/engine (ODSM) and an indoor search method/engine (IDSM).</p><p id="p0048" num="0048">In the ODSM, four types of search hypotheses are used, Ho, Ho &amp; H1, H1a, and H1na. The Ho high confidence single hypothesis uses a ±2kHz frequency search, with high-8 only, Doppler and software-compensated crystal oscillator (SCXO)<!-- EPO <DP n="17"> --> centered. It is tuned for highest sensitivity and uses the high-N satellites only.</p><p id="p0049" num="0049">For ODSM Ho&amp;H1, there is still some confidence in H0, but H1 is also tried. It uses a ±2kHz frequency search with high-8 Doppler and SCXO centered, tuned for medium sensitivity. It searches all twenty-four of the other SV's, the high-8, and uses a full ±4kHz spread among the launched and not-launched <u>SUMMARY OF THE INVENTION</u> group words. The high-N can also be searched with the same <u>SUMMARY OF THE INVENTION</u> wide frequency window without including these SV's in the other words. At least the high-N is tried first, but it is a waste of time to try them again.</p><p id="p0050" num="0050">For ODSM H1a, either the time or position is not known. The current launched SV's are known from the almanac. Information about the twenty-four SV's are spread among three group words. Some knowledge of orbit plane may be useful for optimal anywhere-search time.</p><p id="p0051" num="0051">The ODSM H1na is the same as ODSM H1a, but with no almanac available. This occurs in an autonomous client with. no battery-backed memory.</p><p id="p0052" num="0052">Each of the search parameters can be tuned for higher sensitivity or faster time-to-completion.</p><p id="p0053" num="0053">The ODSM measurements are handed-off to the TSM for tracking. The OD mode can operate quite well in ODSM and TSM. There may be certain cases with mixed SNRs, weaker SV's are acquired in IDSM while tracking stronger SV's in TSM. Such is true for the general client.</p><p id="p0054" num="0054">In IDSM, six types of search hypotheses are used. The IDSM null-hypothesis (Ho) search is the normal IDSM with the smallest reasonable frequency window and the longest reasonable dwell. Such is generally used when good prior data is on-hand. The IDSM null-hypothesis extended frequency (HoEf) search extends the frequency window when the crystal uncertainty model has been too optimistic. The IDSM null-hypothesis extended dwell (HoEd) search extends the dwell<!-- EPO <DP n="18"> --> because the attenuation level is more severe than was first anticipated and more receiver sensitivity is needed. The IDSM null-hypothesis extended frequency and dwell (HoEfd) search extends both the frequency and dwell. The IDSM null-hypothesis extended frequency and reduced dwell (HoEfRd) search increases the frequency range, but reduces the dwell when there is less confidence in the data or when not connecting to the server. Without the ephemeris, there is no value in searching with very long dwell since SV's cannot be used for which NAV-data cannot be collected.</p><p id="p0055" num="0055">The IDSM alternate hypothesis (H1) search is a backup for improving receiver sensitivity when the ODSM H1 search is not acquiring. A larger frequency window is used with a shorter dwell. For each factor of two reduction in dwell, the search can double the frequency window. For example, going from one second to 250-millisecond, 3db is given up from -153 dbm to get to -150 dBm A 4kHz window can be searched in the same time a 1kHz window is searched with a one second dwell. Such is a natural level since this is the limit of where BTT can be found. However, we cannot also get NAV-data here. So reducing the dwell further to 80-millisecond, reaches to - 148.5 dBm, and the extra factor of two can be used to search faster. The IDSM H1 search requires the client to monitor the IDSM status and determine when it has completed the window for all eight SV's. Another set of SV's must be submitted for slots that did not acquire, and repeated until all twenty-four or thirty-two SV's are completed.</p><p id="p0056" num="0056">In <figref idrefs="f0002">Fig. 2</figref>, if the sigmaPos is high confidence, e.g., better than 150-km, then a step 204 conducts an IDSM Ho. This is the correct path when ID1 through ID4 are true. If OD is true, we should be concerned about cross-correlation when we have at least one strong SV. ODSM would be better if OD is true, and thus faster to TSM. If there is no fix after a time-out and the data is trusted, then continue trying the<!-- EPO <DP n="19"> --> same SV's at the current Doppler center. However, if the drift estimate is wrong, then increase the frequency window. If the model is wrong, the search may never find the SV's, so ODSM. H1 is tried. If OD is true the search will recover, but not if indoor. All modes should try ODSM H1 at least one time after some time-out when there are no-SV's acquired. A strong SV with low elevation may indicate inclusion in the high-N set of SV's is wrong. Acquiring an SV that is not visible at the current position and time indicates the data is wrong. Such should precipitate an average SV position based on the ephemeris of a strong tracking SV.</p><p id="p0057" num="0057">In step 204, IDSM Ho is tried for a selected amount of time (Tsec) or cycles (Ncycles). If that is unsuccessful, then a step 206 tries IDSM HoE and increases drift uncertainty and/or dwell for Tsec or Ncycles. If that too is unsuccessful, then a step 208 tries ODSM H1 for Tsec or Ncycles. If that is unsuccessful, then a step 210 tries IDSM H1a and increases drift uncertainty and/or dwell for Tsec or Ncycles. If still no SV's have been acquired, then step 204 is returned to. If any step is successful, then a handoff is made to a tracking step 212, e.g., TSM.</p><p id="p0058" num="0058">Alternatively, if the sigmaPos is high confidence, ODSM Ho is tried first with handoff to TSM. If that is successful, only TSM 212 is required. If only 3-4 Sv's are acquired, then IDSM is used first. But if 5-6 SV's can be acquired, then IDSM can be avoided. When OD is true, the fastest time-to-acquisition (TimeToACQ) is realized. When ID is true, then TimeToACQ is slower than using steps 204-210 as shown in <figref idrefs="f0002">Fig. 2</figref>. If there is no fix after a time-out, ODSM H1 is periodically attempted with expanded frequency uncertainty.</p><p id="p0059" num="0059">In summary the alternative strategy does ODSM Ho in step 204. One trial uses the same frequency uncertainty model as IDSM Ho. Then IDSM Ho is substituted for step 206 for a certain amount of time (Tsec) and/or a number of cycles<!-- EPO <DP n="20"> --> (Ncycles). Step 208 substitutes IDSM HoEfd with increased drift uncertainty, and/or increased dwell for Tsec or Ncycles. Lastly, ODSM H1 is used instead in step 210 for Tsec or Ncycles as alternative hypothesis.</p><p id="p0060" num="0060">Referring to <figref idrefs="f0002">Fig. 2</figref>, if the sigmaPos is mid confidence from step 202, e.g., between 150-km and 3000-km, then a step 214 conducts an IDSM Ho. A full pseudorange fix is required, meaning an integer millisecond must be measured for each SV in the fix. The BTT and at least one z-count is needed on each. SV. So the signal must be at least <b>-150dBm</b>, e.g., ID2 or stronger. An algorithm is used to predict integer millisecond on SV's for which only BTT is available and there is at least one SV with a z-count and BTT. The integer millisecond has a bounded range of 63-85 millisecond. The smaller range only occurs for low elevation SV's. Thus, for strong SV's, the range is less than 20-milliseconds. Using SV's with good BTT confidence helps avoid modulo 300-km linearized PR errors that can be caused by BTT noise.</p><p id="p0061" num="0061">In general, SV's with SNR's better than -<b>150dBm</b>, OD, ID1 and ID2, can obtain BTT. The Z-count is possible, but unreliable for the case of ID2. However, the z-count can be obtained indirectly using the decoded z-count or a pattern match techniques described in the documents listed in Table I.</p><p id="p0062" num="0062">NAV-data pattern matching is useful for all receivers that try to operate with sensitivity greater than -<b>145dBm</b>. Because a full pseudorange solution is necessary, the mid-confidence position strategy never attempts a no-z solution. The null hypothesis is more likely to be true than any other, so the most sensitive search given the data on hand is used first.</p><p id="p0063" num="0063">If a useable ephemeris is available, or models from a server connection can be obtained, then it makes sense to search at a level where data may not be perfectly collected in<!-- EPO <DP n="21"> --> order to nevertheless get BTT and an integer millisecond. For example from a pattern match.</p><p id="p0064" num="0064">The start begins with IDSM configured for ID2, e.g., up to <b>-150 dBm.</b> The shorter dwell allows more frequency range to be used in the same amount of time, e.g., IDSM Ho ID2. If this fails, then either the assumed attenuation or the data is wrong. If the frequency window is expanded for a given position uncertainty, then the most likely failure to acquire is the attenuation is more severe than originally assumed. At this point, the dwell could be increased for more sensitivity and still keep the same frequency range.</p><p id="p0065" num="0065">Therefore, a step 214 uses IDSM Ho, ID3 level in case data is good for Tsec and/or Ncycles. If that fails to acquire, a step 216 tries IDSM HoEf ID3. Then IDSM HoEd ID2 level is tried in a step 218 for Tsec and/or Nycles. A final attempt to acquire in step 220 uses ODSM H1. If step 220 fails, then a return is made to step 214 to try the whole sequence once again.</p><p id="p0066" num="0066">When there is no confidence in the receiver's position, step 202 hands off to a step 222. A reason no confidence in the position can occur is that data since the last position has simply gotten too old and stale. A check is made in step 222 to see if a server is available that can help supply needed information. If a server is available, a search is made using IDSM HoEf indoor attenuation level-2 (ID2) for Tsec and/or Ncycles. IDSM Ho may also be tried. If that fails, then a search is made with ODSM H1.</p><p id="p0067" num="0067">In a step 224, there is a complete lack of data, time, or position information. So an Ho hypothesis cannot be produced. The search must go directly to ODSM H1a if there is a complete almanac, otherwise ODSM H1na is used. The difference in searches is significant, searching thirty-two SV's instead of only twenty-four is an increase in effort and time of 25%. Starting directly with ODSM H1 makes sense for reference<!-- EPO <DP n="22"> --> stations that do not have battery-backed RAM-memory (BBRam). IDSM H1 is useful for a high sensitivity cold start.</p><p id="p0068" num="0068">A step 226 recognizes a complete lack of prior data; e.g., a cold start. So there are two search options. The first is to run ODSM H1a assuming OD is true. For reference station in cold start, this is preferred. The second option is to run IDSM using a wide frequency window, perhaps with a shorter dwell. Then cycle the SV's through by using small group prePos to search all SV's.</p><p id="p0069" num="0069"><figref idrefs="f0003">Fig. 3</figref> represents a general state-machine method embodiment of the present invention, and is referred to herein by the general reference numeral 300. The method 300 works for all clients types including reference stations. In a step 302, a matrix of states is defined for each of the three search types based on the position sigma, (x), e.g., (a) X &lt;/= 150-km, (b)150-km &lt; X &lt;/= 3000-km, and (c) X &gt; 3000-km. In a step 304, the number and type of search can be defined independently within a search type matrix. The duration of each state can be defined to operate a minimum time period, and a minimum number of cycles. The status is monitored to see which searches have restarted. The types of searches are ODSM: Ho, Ho&amp;H1, H1a, H1na; and, IDSM: Ho, HoEf, HoEd, HoEfd, H1. In a step 306 one element is defined as the point where looping starts after the state has been reached. This element becomes the end of loop point. In a step 308, another element is defined as the point to jump to start the looping. This element defines the start loop point. In a step 310, any element is skipped in the looping state if it was already executed on the path to finding the first loop element. In a step 312, only 3-bits per state are used to define loop start point, loop end point, and state skip. In a step 314, once the first fix is encountered, that state machine can be abandoned until the position uncertainty grows to 150-km. That state machine is re-entered and re-initialized.<!-- EPO <DP n="23"> --></p><p id="p0070" num="0070"><figref idrefs="f0001">Fig. 4</figref> represents a OMNI-client navigation satellite receiver network embodiment of the present invention, and is referred to herein by the general reference numeral 400. The OMNI-client navigation satellite receiver network includes at least one navigation platform 402 supported by a network server 404.</p><p id="p0071" num="0071">Each GPS measurement platform 402 typically comprises a GPS antenna 406, a low-noise amplifier (LNA) 408, a GPS surface acoustic wave (SAW) filter 410, a radio frequency (RF) application specific integrated circuit (ASIC) 412 with an intermediate frequency (IF) SAW-filter 414, a digital signal processor (DSP) 416, a reference crystal 418, and a reference-crystal temperature sensor 420.</p><p id="p0072" num="0072">An autonomous client 422 can function and provide navigation solutions to a user with next to no help from the server 404. A demi-client 424 needs help, e.g., polynomial models that simplify ephemeris and time bias calculations. A thin-client 426 does not burden its local host with navigation solution processing. It lays off just about all the navigation calculations on the server 404, and basically provides only observational measurements from its point of view of the SV constellation. The navigation solutions are returned for local display if a user is there and wants to see them. In a thin-client 426, the DSP is a shared part with some other non-GPS application. As such, multi-threaded application programs are not needed at the client and only simple program loops are executed.</p><p id="p0073" num="0073">An OMNI client 427 runs almost fully autonomously, but periodically collects a full set of <b>ephemerides</b> over the computer network. It further operates during power off to keep its position uncertainty, sigmaPos, under 150-km when it is powered back up. These conditions allow high sensitivity operation where much finer search steps are used to find signal power and each step has a long dwell. The OMNI client<!-- EPO <DP n="24"> --> 427 also benefits greatly if the crystal oscillator 418 is software compensated using temperature measurements by temperature sensor 420. A real time clock is kept running that is accurate to better than one millisecond of true time each time the navigation platform 402 is powered-up.</p><p id="p0074" num="0074">The local reference oscillator crystal 418 will have a frequency drift error that will vary as a function of temperature. The reference-crystal temperature sensor 420 is used to measure the temperature of the local reference oscillator crystal 418. The first use is to collect data to build curve during manufacturing calibration when the navigation platform 402 is initialized and tracking SV's. The subsequent use is to provide an index value so a ninth-order polynomial equation can be computed from stored coefficients while the navigation platform 402 is initializing and trying to lock onto its first SV.</p><p id="p0075" num="0075">The server 404 typically comprises a number of reference station antennas 428 and 430 that provide GPS signal inputs to a reference station manager 432. A location server 434 can provide support information to the demi-client 424, thin-client 426, and OMNI-client 427 for improved time-to-first-fix and position solution quality. In the case of the OMNI-client 427 operating in high-sensitivity mode, the ephemerid information collected and forwarded by the server 404 enables anywhere fixes with signal levels from SV's under -150 dBm.</p><p id="p0076" num="0076">A method embodiment of the present invention determines how and when the server 404 is contacted by an OMNI client, e.g., client 104 and navigation platform 402. The server contact must be infrequent and minimized in many situations because the per-byte communication costs are high or the network is only periodically accessible.</p><p id="p0077" num="0077">When signal strengths are high, the z-count and BTT are really measured by collecting NAV-data. The BTT is used to clean-up any codephase roll-overs. Generally the sub-20msec<!-- EPO <DP n="25"> --> portion should agree. There is a bit more noise on the BTT than z-count. However, the z-count can be off by one millisecond for a short period of time near where the codephase rolls over.</p><p id="p0078" num="0078">The OMNI client needs a good time source to reduce sigmaTime to under one millisecond. The 50-Hz NAV-data can be used to do a pattern match and indirectly find time. Such can provide a GPS receiver with an adequate time source when a z-count cannot be demodulated. If there is enough confidence in the pattern match, the integer millisecond, intMs, on an SV can also be determined.</p><p id="p0079" num="0079">If the starting time uncertainty, sigmaTime, is greater than ±10msec, the so-called big delta T term (DT) has to be used in the solution fix. Such increases the number of SV's needed by one. A gridFix method can be used when the position uncertainty, sigmaPos, is under 150-km and the intMs on SV's is not available. A no-Z fix type is used when sigmaTime is greater than 10msec.</p><p id="p0080" num="0080">A complete GPS almanac, highAccAlm, is sent by the server with <b>ephemerides</b> rather than almanacs for all GPS SV's. Another complete GPS almanac, mixAccAlm, can be sent by the server and includes older ephemerides for SV's it is not currently tracking. ,</p><p id="p0081" num="0081">Preferably, a world-wide server (WWserver) is implemented that has continuous observability of the complete GPS constellation. It has enough reference stations with adequate spatial separation to view all SV's around the world at the same time.</p><p id="p0082" num="0082">Server 404 represents a local area server (LAserver) that has one or more reference stations that observe only a sub-set of the complete GPS SV-constellation. Therefore an LAserver can not provide highAccAlm, only mixAccAlm.<!-- EPO <DP n="26"> --></p><p id="p0083" num="0083">After turning on, the almanac will include <b>ephemerides</b> that are actually almanacs. After one 12-hour cycle, some of the almanacs will be replaced with ephemeris based almanacs.</p><p id="p0084" num="0084">The NAV-data from the GPS SV's can be collected directly down to signal levels as low as <b>-145 dBm.</b> Therefore, the ephemeris, z-count and BTT can be derived at this level. SV's at this level can operate independent of the server and also can be used in a fix that has no requirement on starting position accuracy, e.g., anywhere fix. Pattern matching is necessary starting at <b>-145 dBm</b> and can be carried on down to as low as <b>-150 dBm.</b> A z-count or intMs can be thereby obtained so the SV can be used in an anywhere fix. However at such signal levels, the ephemeris needs to be obtained over the network 106 from server 102, or their alternative source. Below signal levels of <b>-150 dBm</b>, the NAV-data is not reliable enough for a pattern match. The NAV-data must be obtained from the server 102 or 404, and the SV's with such weak signals can only participate in a fix when the uncertainty is less than 150-km.</p><p id="p0085" num="0085">During initial SV acquisition, ephemeris level accuracy is not needed. An almanac, or downgraded ephemeris, is adequate to predict the data needed for preposition. Ephemeris level accuracy is also not needed for fixing. A time-out is defined for the ephemeris age for positioning. Such threshold can be relaxed and still maintain respectable positioning if the accuracy degradation as a function of time is properly modeled. The age threshold can be a controllable parameter so that the customer can select the desired level of performance.</p><p id="p0086" num="0086">NAV-data subframe data from the server 102 is needed for first fix or setting time. After that, subFrames are no longer requested by client 104. The NAV-data decoded by the client 104 can be sent to the server 102 for the server to do the pattern-matching.<!-- EPO <DP n="27"> --></p><p id="p0087" num="0087">A server connection is not needed by OMNI client 104 when there are three or more SV's with signal levels all better than <b>-145 dBm.</b> The time-to-first-fix (TTFF) will be longer if the ephemeris must be collected. In some cases, previously collected <b>ephemerids</b> can be used.</p><p id="p0088" num="0088">A server connection is not needed by OMNI client 104 when previously collected <b>ephemerides</b> for SV's are on-hand and sigmaPos is less than 150-km. The minimum numbers of SV's needed depends on sigmaTime. Such time uncertainty can be reduced with a real-time clock (RTC) that is software-compensated for temperature drift. So three SV's are needed with such RTC, and four SV's without the RTC.</p><p id="p0089" num="0089">Otherwise, solving for a fix will require that the OMNI client 104 contact the server 102 and request certain information. The NAV-data subframes are needed when the SV's signals are <b>-145 dBm</b> to <b>-150 dBm</b> and sigmaPos &gt; 150 - km. The intMs for these SV's is needed for them to participate in the first fix. If only three <b>-145 dBm</b> or weaker SV's are available and no other better means of accurate time, pattern matching can be used. A so-called no-Z fix with four SV's is then used.</p><p id="p0090" num="0090">The ephemeris has to be requested when SV's signals are not stronger than <b>-145 dBm</b> and their ephemeris has timed out. In such case, the fastest TTFF possible is desired.</p><p id="p0091" num="0091">A main program application can periodically turn-on the GPS receiver and get a fix. Such decides how far the receiver has moved since the last fix, or decides simply if the GPS receiver has left a predefined zone. The time interval between fixes is selected to keep sigmaPos within 150-km so that the intMs is not needed on weak SV's under <b>-145 dBm</b>. Such extends the ability to retain high sensitivity fixes without needing a server connection to request NAV-data subFrames.<!-- EPO <DP n="28"> --> The timing of the server requests is adaptive. This is needed to provide a quiet client/server connection when there is adequate performance without it.</p><p id="p0092" num="0092">The OMNI client must evaluate the data it has, the data's age, and the likelihood of acquisition success, e.g., number of SV's and the signal levels. The OMNI client then decides whether to make the connection and what data to request. The adaptivity can be disabled and the server connection can be made by explicit commands. A master application may decide to make a server connection every one hour. Thus, for fixes done every five minutes, the twelfth one will make a server connection.</p><p id="p0093" num="0093">A broadcast type ephemeris service can be used where the master application collects the data and then pushes it into the client through generalized API's. The client can be empowered to make a server connection any time during a session.</p><p id="p0094" num="0094">Some embodiments of the present invention make the client-to-server handshake controllable and selectable. A status message to the master application is sent that indicates (a) the age of ephemeris and whether some SV's in current high-N has timed out, (b) a tracking classification of SV's and whether subframes are needed any SV, and (c) the sigmaTime and sigmaPos.</p><p id="p0095" num="0095">The indoor, high sensitivity operation can be maintained as long the <b>ephemerides</b> for SV's being tracked are available, and the position uncertainty is less than 150-km so a fix can be obtained without a z-count. An accurate time source such as a real-time clock (RTC) is preferred because the no-Z fix method increases the number of SV's by one. For example, five SV's for three-dimensional fix, and four SV's for a two-dimensional fix. A position fix can be computed using signal measurements that are otherwise too weak to demodulate the 50bps GPS Navigation data stream.<!-- EPO <DP n="29"> --></p><p id="p0096" num="0096">A software-compensated crystal oscillator (SCXO) should be included for a reasonable time-to-first fix (TTFF). If TTFF is not so important, the frequency search window can be extended to search out a larger frequency error. If the signals are strong enough to reliably demodulate the data in the receiver, then the position range can extend beyond the 150-km.</p><p id="p0097" num="0097">The RTC described in the documents listed in Table I. can typically maintain a millisecond level accuracy obtained from a previous fix even while the client application is not running. The only cost is a slight increase in the sleeping power consumption.</p><p id="p0098" num="0098">In embodiments of the present invention, the navigation data can be independently demodulated if the signal is strong enough. Such is not possible in the current STI or Global locate designs unless they also add a conventional tracking capability.</p><p id="p0099" num="0099">Without a server, high-sensitivity position fixing can only be realized if there has been outdoor like signal recently observed, e.g., within the last four hours. Such is because the visible satellites are constantly changing, and the ephemeris accuracy from previous SV orbits will degrade. The level of degradation for each orbit is an important question. The orbit of the spacecraft as well as the trajectory of the satellite clock both has to be accurately modeled. Some historical modeling could extend the usability of an ephemeris into the 12-16 hour range. Such would improve performance somewhat, but the accuracy of the fix would still be difficult to predict.</p><p id="p0100" num="0100"><figref idrefs="f0004">Fig. 5</figref> shows a satellite positioning system (SPS) receiver and support system embodiment of the present invention, and is referred to herein by the general reference numeral 500. For example, the Global Positioning System (GPS)<!-- EPO <DP n="30"> --> operated by the United States Government and the GLONASS system operated by the Russian Government are such SPS systems.</p><p id="p0101" num="0101">The system 500 receives microwave signal transmissions from an overhead constellation of SPS satellites 502. A signal 504 is reduced in strength during its line-of-sight flight by an attenuation 506, e.g., by a building when indoors. A high-sensitivity SPS receiver 508 nevertheless is able to work with such signal, even though highly attenuated. One consequence of the attenuation is the 50-Hz NAV-data message may not be discernable or reliable. So it may need to be obtained by alternative means in some SPS receivers of the present invention. A full-strength signal 510 is received by a reference station 512, and so it can and does reliably demodulate such 50-Hz NAV-data message. Such reference station 512 may also have a surveyed position which allows it to compare its SPS position solution to its true position. Such comparison will reveal the magnitude and direction of various errors, e.g., ionospheric and tropospheric induced errors.</p><p id="p0102" num="0102">The pseudoranges can be directly measured by SPS receiver 508 if it already has the NAV-data message information. Such is because code-division multiple access (CDMA) demodulation techniques allow long sample periods to be collected and worked to take advantage of correlation processing gains. A radio receiver 514 tunes to such transmissions and a correlation processor 516 measures the various pseudoranges to the visible satellites.</p><p id="p0103" num="0103">In one embodiment, a navigation processor 518 gets time information from a real-time clock (RTC) 520 and the z-count, ephemeris, and almanac NAV-data information from a NAV-data synthesizer 522. United States Patent Application serial number <patcit id="pcit0003" dnum="US10079253B"><text>10/079,253, filed 02/19/2002</text></patcit> provides more detail on the construction and use of such an RTC. Otherwise, time, z-count,<!-- EPO <DP n="31"> --> ephemeris, and almanac NAV-data information are conventionally obtained.</p><p id="p0104" num="0104">The NAV-data synthesizer 522 reconstructs a suitable 55-frame NAV-data message that would have been received by radio receiver 514 if the attenuation 506 had not been so severe. The remote reference station 512 does not provide time information to the client 524, only current ephemeris and almanac data. Since the communication channel with the remote reference station 512 will typically be much higher bandwidth than 50-Hz, the current ephemeris and almanac data can be transferred in far less time than the normal 12.5 minutes it takes the satellites 502 to transmit it.</p><p id="p0105" num="0105">A client 524 receives the ephemeris, almanac, NAV-data, and other information. The z-count and timing information is computed by NAV-data synthesizer 522 and by reading the time from RTC 520. The NAV-data synthesizer 522 formats the combined information into a message that the navigation processor 518 can accept and work with naturally.</p><p id="p0106" num="0106">The RTC 520 is accurate to within three seconds, so the z-count can be correctly written into the synthesized NAV-data and thus avoid integer ambiguities. A position solution output 526 is therefore possible from the navigation processor 518. Such is especially true when combined with the other inventions and technologies described in the documents listed in Table I.</p><p id="p0107" num="0107">The remote reference station 512 comprises its own complete navigation satellite receiver 528 that routinely and continuously tracks the navigation satellite constellation 502. A whole NAV-data message 530 is extracted over the 12.5 message transmission time and then stored in a local memory. A time-stripper 532 removes the timing information, e.g., z-count. An ephemeris and almanac NAV-data 534 is distilled and available to a network server 536. A network or other communication-system connection 538 allows the client 524 to<!-- EPO <DP n="32"> --> request information that will assist it to initialize and/or to continue computing position solutions.</p><p id="p0108" num="0108">The communication-system connection 538 may not always be available, so SPS receivers of the present invention are able to operate with infrequent connections to the remote reference station 512.</p><p id="p0109" num="0109">In a business model embodiment of the present invention, the owner/user of SPS receiver 508 is charged a per-use fee or subscription charge for such NAV-data aiding information by the operator of the remote reference station 512.</p><p id="p0110" num="0110">As a result, SPS receivers of the present invention are particularly well suited for use indoors and elsewhere where the signal levels drop below -145 dbm.</p><p id="p0111" num="0111">Receiver initialization method SPS receivers of the present invention include an indoor search method (IDSM) and an outdoor search method (ODSM). The indoor search method processes highly attenuated signals from orbiting SPS satellites that are so weak as to not be of any use to conventional SPS receivers. Each of the indoor search and outdoor search methods are implementable as a search engine embodied in application specific integrated circuits (ASIC) or as programs in microcomputers.</p><p id="p0112" num="0112">A hand-off mechanism is used to select between the indoor and outdoor methods depending on signal strength, time information, network access, etc. So key parameters are used to define the size of the initialization search of time and frequency. Key attenuation levels are used to define how signal is acquired and tracked in each level.</p><p id="p0113" num="0113">In order to increase measurement yield, each SV is handed-off to the TSM when it is strong enough to be time-tracked. But it still is kept inside IDSM to provide measurements while the TSM finds the BTT and passes the TSM integrity. For very weak SV's, the frequency loop can sometimes take longer to pull in, or not at all. Thus, both<!-- EPO <DP n="33"> --> machines operate in parallel to avoid losing any SV's in the transition between tracking state machines.</p><p id="p0114" num="0114">The time track state machine (TSM) tracks the phase precisely enough to observe the 180-degree carrier phase reversals. The NAV-data is tracked and the z-count can be extracted from the subframes. Such enables a time transfer from the satellite, a golden timing reference.</p><p id="p0115" num="0115">Ideally, all long term tracking of satellites that are around -145 dBm and stronger is done in the time tracking engine. The benefits of this are the navigation data can be observed and anywhere autonomous positioning capability can be exploited for the client because the total pseudorange can be determined. The TSM uses a high-update rate carrier frequency tracking loop, AFC or PLL, with a phase discriminator that allows observation of the 180-degree phase shifts caused by the NAV-data. The pseudorange is completed by adding the estimated millisecond travel time to the codephase, e.g., by time tagging the received z-count.</p><p id="p0116" num="0116">Another benefit is the codephase and frequency are averaged. The quantization error are reduced due to receiver processing below the other errors-in-space. Such measurements provide the best accuracy because the phase and frequency are allowed to dither around the true phase. These phases are averaged to produce a measurement whose average phase is quite accurate. The power consumption for each SV is minimized because only one playback is needed per SV and a minimal number of correlators is used.</p><p id="p0117" num="0117">The TSM has independent inputs and receives prepositioning information directly from the client, or from the other state machines when the auto-upmode, auto-allocation logic is enabled. Auto-upmode is configurable. For thin client there is some benefit from these modes, there is less delay in transferring SV's between machines. The alternative is that the client must monitor success in each message and<!-- EPO <DP n="34"> --> explicitly control the twelve TSM workspaces based on what signals merit the resources the most.</p><p id="p0118" num="0118">If there is little confidence in the prior information, the outdoor state machine (ODSM) is used to do a quick search for many satellites. A good estimate of the crystal frequency offset is required, as this sets the center frequency for all searches. High confidence, smaller searches for satellites with very precise frequency and code centers are prepositioned directly in IDSM or TSM depending on the expected signal level.</p><p id="p0119" num="0119">The ODSM uses one group input message. SV's are defined by setting a bit in one of three 32-bit group words, e.g., high-N, launched, and not-launched.
<tables id="tabl0003" num="0003"><table frame="all"><title>TABLE</title><tgroup cols="1" colsep="0"><colspec colnum="1" colname="col1" colwidth="165mm" colsep="1"/><thead><row><entry align="center" valign="top">ODSM Characteristics</entry></row></thead><tbody><row><entry>Searches from 1 to 32 SV's centered around the drift estimate.</entry></row><row><entry>Individual prepos can be added by simply adding a packet that sets or clears a bit in one of the 3 SV group words.</entry></row><row><entry>By definition, no packet is submitted with more than twelve SV bits set. Such reduces the amount of RAM needed to implement the search.</entry></row><row><entry>Additional Doppler centering is provided for the high-N group.</entry></row><row><entry>We define a common frequency step size for all groups.</entry></row><row><entry>We define a number of frequency steps for high-N group independently from the other two groups.</entry></row><row><entry>SV's can be repeated among group words. Such makes sense if we have some prior information for the high-N set and we want to try small well centered searches first.</entry></row><row><entry>Each search is a 2 record search. We don't use hypMem.</entry></row><row><entry>As for sorting, for the maximum number of verifies, we can use all 8 maxes for each frequency (4 maxes from each 10msec record).</entry></row><!-- EPO <DP n="35"> --><row><entry>All frequencies are sorted separately.</entry></row><row><entry>At the end of the two search records, any sorted maxes are removed that have identical codephase (cell). There is no further same code peak comparison logic to remove maxes.</entry></row><row><entry>We also define additional sorting parameters to reduce the number of verifies. Such is useful for the fastest overall search time, but it sacrifices sensitivity.</entry></row><row><entry>We also define some additional adaptive parameters that reduce the number of verifies based on the current best verified result.</entry></row><row><entry>The verify result is first screened for C3. If that passes, then the screened top power is saved as the best verify result.</entry></row><row><entry>After the complete verify is finished, the remaining best verify is the winner.</entry></row><row><entry>The overall top verified power is saved in the case that the C3 screening accidentally removes a strong power. If the overall top verify power does not agree with the screened verify winner, then we re-verify the overall top max and then take the best.</entry></row><row><entry>If a power is encountered above an earlyTermination threshold, then the search for that SV is considered finished, and we save that result as the measurement for that SV. Such power does not need to be verified.</entry></row><row><entry>An earlyVerifyTermination threshold is defined so that if the search power maxes are a specified level below the current top verified max, then those search maxes are not added to the verify list.</entry></row><row><entry>Another threshold is defined so that if the power is above this threshold, then only this max is added to the verify list.</entry></row><row><entry>Typical frequency search range is ±5kHz with a good drift estimate from an individual SCXO model. Search time per SV is</entry></row><!-- EPO <DP n="36"> --><row><entry>then 0.01sec (per PDI) * 2 (10msec PDI's) * 100 (freq) / 20 freq per 10msec = 0.1sec. Two records account for the NAV-data, and 100/20 record since 100 frequencies search 20 frequencies per record.</entry></row><row><entry>A Doppler estimate is included for the high-N set. Thus, if we have high confidence in the prior data, the search can be reduced and thus can be sped up.</entry></row><row><entry>Status can be configured to from 1Hz or to be output at the end of each group word and also at the end of verify.</entry></row><row><entry>Auto-upmode can prepos into TSM and IDSM according to two thresholds. SV's that pass verify can auto-upmode to TSM if the verify power is above a TSM input threshold. Similarly, SV's that did not auto-upmode to TSM that pass a second and most likely weaker threshold can auto-upmode to IDSM.</entry></row><row><entry>Auto-restart logic will automatically restart the engine when all SV's have either searched the complete frequency range or auto-upmoded so that there are no more SV's, needing a frequency search.</entry></row><row><entry>SV's can only auto-upmode into other state machines if there are slots available. If space is available, then the workspace will be generated by the firmware logic. Thus, the navigation platform needs to monitor the workspace allocation. If the SV was not able to auto-upmode, the navigation platform will monitor the relative signal strengths and make space in the appropriate engine by removing a weaker or searching SV to make space for the stronger un-allocated SV.</entry></row><row><entry>By disabling auto-upmode, the engine can be used as a kind of integrity machine that continues to search for large power on the SV. Such is needed in the urban canyon where is it likely that a tracking state machine will continue to track a reflection that is far from the true code peak (because the reflection source is very far from the antenna) even though the direct beam has become visible again. Thus, it is critical that the status message provides a method to differentiate the search peak from the tracking peak.</entry></row></tbody></tgroup><!-- EPO <DP n="37"> --></table></tables></p><p id="p0120" num="0120">The outdoor acquisition engine generates four modes in the client code with different values of the ODSM prePos parameters. For example, with an OD SNR hypothesis of SNR at least <b>-142dBm,</b> the position uncertainty hypotheses can be, Ho: Position error &lt; 150-km, small time error so that Dopplers are correct H1: Ho is wrong</p><p id="p0121" num="0121">Four types of searches can be made, Ho, Ho &amp; H1, H1a, and H1na. The Ho high confidence single hypothesis uses a ±2kHz freq search, with high-8 only, Doppler and SCXO centered. It is tuned for highest sensitivity and uses the high-N group word only.</p><p id="p0122" num="0122">For Ho&amp;H1, there is still some confidence in H0, but H1 is also tried. It uses ±2kHz with high-8 Doppler and SCXO centered, tuned for medium sensitivity. It searches all twenty-four of the other SV's, the high-8, and uses a full ±4kHz spread among the launched and not-launched group words. The high-N can also be searched with the same wide frequency window without including these SV's in the other words. At least the high-N is tried first, but it is a waste of time to try them again.</p><p id="p0123" num="0123">For H1a the time or position is not known. The current launched SV's are known from the almanac. The twenty-four are spread among three group words. Some knowledge of orbit plane may be useful for optimal anywhere-search time.</p><p id="p0124" num="0124">The H1na is the same as H1a, but with no almanac available. This occurs in an autonomous client with no battery-backed memory.<!-- EPO <DP n="38"> --></p><p id="p0125" num="0125">Each of the search parameters can be tuned for high sensitivity or fast-time-to-completion.</p><p id="p0126" num="0126">The ODSM measurements are handed-off to the TSM for tracking. The OD mode can operate quite well in ODSM and TSM. There may be certain cases with mixed SNRs, weaker SV's are acquired in IDSM while tracking stronger SV's in TSM. Such is true for the general client.</p><p id="p0127" num="0127">The IDSM firmware directs the digital signal processor to do very long integrations for each requested codephase and frequency hypothesis.</p><p id="p0128" num="0128">The IDSM has two inputs, a group packet and an individual prepos. Reception of a group prepos completely resets the state machine. Individual prepos can take an empty slot or overwrite the same SV. If the SV is tracking, the prepos can be ignored if it is not forced. The prepos can be either a search with full code window and a specified number of frequencies, or a one weakMeas window with fifteen frequencies just like is used with the indoor measurement machine The same size search window applies to all SV's in the group input packet. The integration, or dwell time, is the same for each SV. Strong SV's will finish early when the observed power exceeds a threshold. The search range is also generalized, it will search up to 256 frequency steps per SV. Strong SV's can be upmoded to timeTrack if that is allowed. Weak meas tracking has non-equal spacing to put more filters at the best frequency estimate but also cover the range needed to do the sync-function integrity.</p><p id="p0129" num="0129">Indoor search methods can be used if there is some key GPS information available that can be relied upon. E.g., the position error is less than about 200-km, and the GPS time error is less than ten seconds. But, with time and position uncertainty this high, full code searches are a necessity. And for this amount of code, the search digital signal<!-- EPO <DP n="39"> --> processor mode must be used that creates code in 31/64<sup>th</sup> chip intervals.</p><p id="p0130" num="0130">The current GPS data is used to compute the satellite position and velocity. The satellite Doppler can be predicted with an error of 1.14e-4 m/s per meter of position error. Thus, for 100km, the maximum range-rate error is 11.4 m/s, about 60Hz.</p><p id="p0131" num="0131">The uncertainty in the reference crystal oscillator must be accounted for, e.g., 27.456 MHz crystal. Assuming a precise individual model for each crystal, the SCXO model, exists that has an accuracy around 0.5 ppm. At L1, 1575.42Mz, half a part-per-million is 788 Hz.</p><p id="p0132" num="0132">Some user dynamics must be accounted for, but these effects are usually much less significant than the crystal oscillator uncertainty. A vehicle moving at 100mph (160kph) produces 45m/s = 236 Hz. Compare this to the worst case frequency error of 788 + 60 + 236 = 1084 Hz.</p><p id="p0133" num="0133">Using a rule of thumb that assumes the crystal oscillator uncertainty is 0.5PPM, the receiver must search ±1kH for each SV in indoor mode, even though this is 10% short of the model. From one viewpoint, the probability is quite small that the combination of the vehicle motion and the Doppler error would have the same sign for all SV's.</p><p id="p0134" num="0134">The indoor search and tracking state machine searches an arbitrary frequency window for eight SV's in parallel and with long integration times. Searches can be ±1kHz, or larger if the longer time it takes is acceptable. Wider searches in IDSM can use a shorter dwell.</p><p id="p0135" num="0135">Where the position uncertainty is higher than 150-km and where a shorter dwell with degraded sensitivity is used, the BTT and a z-count on each SV are needed to do a full pseudorange. A shorter dwell can generally acquire SV's up to ID2 <b>(-150dBm).</b> But if not, the dwell can be increased to improve SV acquisition.<!-- EPO <DP n="40"> --></p><p id="p0136" num="0136">Six types of IDSM searches are useful. The IDSM Ho search is the normal IDSM with the smallest reasonable frequency window and the longest reasonable dwell. Such is generally used when good prior data is on-hand. The IDSM HoEf search extends the frequency window when the crystal uncertainty model has been too optimistic. The IDSM HoEd search extends the dwell because the attenuation level is more severe than was first anticipated and more receiver sensitivity is needed. The IDSM HoEfd search extends both the frequency and dwell. The IDSM HoEfRd search increases the frequency range, but reduces the dwell when there is less confidence in the data or when not connecting to the server. Without the ephemeris, there is no value in searching with very long dwell since SV's cannot be used for which NAV-data cannot be collected.</p><p id="p0137" num="0137">The IDSM H1 search is a backup for improving receiver sensitivity when the ODSM H1 search is not acquiring. A larger frequency window is used with a shorter dwell. For each factor of two reduction in dwell, the search can double the frequency window. For example, going from one second to 250-millisecond, 3db is given up from -153 dbm to get to -150 dbm. A 4kHz window can be searched in the same time a 1kHz window is searched with a one second dwell. Such is a natural level since this is the limit of where BTT can be found. However, we cannot also get NAV-data here. So reducing the dwell further to 80-millisecond, takes us to -148.5 dBm and the extra factor of two can be used to search faster. The IDSM H1 search requires the client to monitor the IDSM status and determine when it has completed the window for all eight SV's. Another set of SV's must be submitted for slots that did not acquire, and repeated until all twenty-four or thirty-two SV's are completed.</p><p id="p0138" num="0138">There are three basic levels of received signal strength, e.g., (1) better than -145 dbm, (2) between -145 dbm and 150<!-- EPO <DP n="41"> --> dbm, and (3) weaker than -150 dbm. With a received signal strength better than -145 dbm, the NAV-data can be reliably collected and the ephemeris, z-count, and bit transition time (BTT) extracted. With a received signal strength between -145 dbm and 150 dbm, the NAV-data is just strong enough to do pattern matching if a good copy is available to match. Such pattern matching will allow the z-count and integer millisecond to be determined, and thus allow the particular satellite vehicle to be used in an " anywhere " fix. However, in such case the ephemeris information must be obtained from a third-party source because it cannot be received reliably locally with such a weak signal. If the received signal strength is weaker than -150 dbm, the position uncertainty must be less than 150-km and the NAV-data must be contributed from a third-party source, e.g., a network server.</p><p id="p0139" num="0139">For a frequency uncertainty model, the search frequencies to use are a combination of the expected Doppler plus the effects of user velocity and the error in the drift model. <maths id="math0001" num=""><math display="block"><mtable rowlines="solid" columnlines="solid" frame="solid"><mtr><mtd><mtable><mtr><mtd columnalign="left"><mi>FreqUnc</mi></mtd><mtd columnalign="left"><mo>=</mo><mi>SigmaDriftError</mi><mo>+</mo><mi>sigmaSvDoppler</mi><mo>+</mo><mi>Velocity of Vehicle</mi></mtd></mtr><mtr><mtd><mspace width="1em"/></mtd><mtd columnalign="left"><mo>=</mo><mi>function of source and model</mi><mo>+</mo><mn mathvariant="normal">1.1</mn><mo>⁢</mo><mi mathvariant="normal">e</mi><mo>-</mo><mn mathvariant="normal">4</mn><mspace width="1em"/><mi mathvariant="normal">m</mi><mo>/</mo><mi mathvariant="normal">s</mi><mo>*</mo><mi>posError</mi><mfenced><mi mathvariant="normal">m</mi></mfenced><mo>*</mo><mn mathvariant="normal">10</mn><mo>⁢</mo><mi mathvariant="normal">e</mi><mo>-</mo><mn mathvariant="normal">3</mn><mo>+</mo><mi>maxVel</mi></mtd></mtr><mtr><mtd><mspace width="1em"/></mtd><mtd columnalign="left"><mo>=</mo><mi>function of source and model</mi><mo>+</mo><mn mathvariant="normal">1.1</mn><mo>⁢</mo><mi mathvariant="normal">e</mi><mo>-</mo><mn mathvariant="normal">4</mn><mspace width="1em"/><mi mathvariant="normal">m</mi><mo>/</mo><mi mathvariant="normal">s</mi><mo>*</mo><mi>posError</mi><mfenced><mi mathvariant="normal">m</mi></mfenced><mo>*</mo><mn mathvariant="normal">10</mn><mo>⁢</mo><mi mathvariant="normal">e</mi><mo>-</mo><mn mathvariant="normal">3</mn><mo>+</mo><mi>maxVel</mi></mtd></mtr><mtr><mtd><mspace width="1em"/></mtd><mtd columnalign="left"><mo>=</mo><mi>SCXO model error</mi><mo>+</mo><mn mathvariant="normal">.6</mn><mi>Hz</mi><mo>*</mo><mi>posError</mi><mfenced><mi>km</mi></mfenced><mo>+</mo><mi>mavVel</mi></mtd></mtr></mtable></mtd></mtr></mtable></math><img id="ib0001" file="imgb0001.tif" wi="165" he="32" img-content="math" img-format="tif"/></maths> The sigmaSvDoppler term accounts for the error induced in Doppler error caused by the error in the direction cosines from position error. Typical values of frequency error as function of position error, 10km = 6Hz, 100km = 60Hz, 150-km = 90Hz, 300km=180Hz, 600km=360Hz, 3000-km=1800Hz about the halfway point where the Doppler error is half total search, and 6,000km=3600Hz which is the worst case with one SV average SV position. For 200km vehicle, max velocity = 380Hz.<br/>
<!-- EPO <DP n="42"> -->A crystal model better than a 0.5 ppm leads to 750Hz. When the position error is less than 150-km, a ±1khz frequency window is adequate. With no idea of position or time, a ±4kHz frequency search is needed to cope with the SV-Doppler sigma.</p><p id="p0140" num="0140">Ideally, all long term tracking of satellites that are around<b>-145 dBm</b> and stronger is done with the time tracking engine. Such method can observe the navigation data and thus, exploit any-where autonomous positioning capability for client because the method can determine total pseudorange. TSM uses a high-update rate carrier frequency tracking loop (AFC or PLL) with a phase discriminator that allows us to observe the 180-degree phase shifts caused by the NAV-data. The pseudorange is completed by adding the estimated millisecond travel time to the codephase by time tagging the received z-count.</p><p id="p0141" num="0141">The codephase and frequency are averaged and thus, the method can reduce the quantization error due to receiver processing below the other errors-in-space. Thus, the measurements should provide the best accuracy. Such is because the method allow the phase and frequency to dither around the true phase, and the method average these phases to <u>SUMMARY OF THE INVENTION</u> produce a measurement whose average phase is quite accurate.</p><p id="p0142" num="0142">The power consumption per SV is minimized because the method only need one playback per SV and the method use the minimal number of correlators.<!-- EPO <DP n="43"> --></p><p id="p0143" num="0143">Although the present invention has been described in terms of the presently preferred SPS receivers, it is to be understood that the disclosure is not to be interpreted as limiting. Various alterations and modifications will no doubt become apparent to those skilled in the art after having read the above disclosure. Accordingly, it is intended that the appended claims be interpreted as covering all alterations and modifications as fall within the scope of the invention.</p></description><claims mxw-id="PCLM56987606" lang="DE" load-source="patent-office"><!-- EPO <DP n="48"> --><claim id="c-de-01-0001" num="0001"><claim-text>Verfahren zum Betreiben eines Satellitenpositionsbestimmungssystem SPS-Empfängers (satellite positioning system receiver), wobei das Verfahren die folgenden Schritte umfasst:
<claim-text>Erfassen von Signalen von Satelliten-Übertragungen;</claim-text>
<claim-text><b>gekennzeichnet durch</b></claim-text>
<claim-text>Kategorisieren der Positionsunsicherheit sigmaPos des aktuellen Standorts eines Navigationssatellitenempfängers in eine erste Kategorie, wenn kein Integer-Ambiguity-Problem zu lösen ist, in eine zweite Kategorie, wenn ein Doppler-Schätzwert zum Ermitteln eines Positionsfix angewendet werden kann, und in eine dritte Kategorie, wenn ein Null-Doppler-Schätzwert ein schnelleres Positionslösungs-Ergebnis ergibt als ein Nicht-Null-Doppler-Schätzwert, wobei die Kategorisierung auf den erfassten Satellitensignalen basiert; und</claim-text>
<claim-text>Durchführen eines Verfahrens zum Initialisieren des SPS-Empfängers, das davon abhängt, zu welcher der drei Kategorien sigmaPos passt.</claim-text></claim-text></claim><claim id="c-de-01-0002" num="0002"><claim-text>Verfahren nach Anspruch 1, wobei es, wenn der Schritt des Kategorisierens sigmaPos in der ersten Kategorie ergibt, des Weiteren den folgenden Schritt umfasst:
<claim-text>Ermitteln eines Positionsfix, ohne zunächst eine Bit-Übergangszeit (bit transition time - BTT) oder einen Z-Count zu jedem Satelliten zu bestimmen.</claim-text></claim-text></claim><claim id="c-de-01-0003" num="0003"><claim-text>Verfahren nach Anspruch 1, wobei es, wenn der Schritt des Kategorisierens sigmaPos in der zweiten Kategorie ergibt, des Weiteren den folgenden Schritt umfasst:
<claim-text>Ermitteln eines Positionsfix durch Vorhersagen der erwarteten Doppler-Information über jeden der N höchsten Satelliten (high-N SV).</claim-text></claim-text></claim><claim id="c-de-01-0004" num="0004"><claim-text>Verfahren nach Anspruch 1, wobei es, wenn der Schritt des Kategorisierens sigmaPos in der dritten Kategorie ergibt, den folgenden Schritt umfasst:
<claim-text>Ermitteln eines Positionsfix, in dem keinerlei aktuelle Position angenommen wird.</claim-text></claim-text></claim><claim id="c-de-01-0005" num="0005"><claim-text>Verfahren nach einem der Ansprüche 1 bis 4, wobei die Positionsunsicherheit zu der ersten Kategorie gehört, wenn sigmaPos weniger als ungefähr 150 km beträgt, zu der zweiten Kategorie gehört, wenn sigmaPos zwischen 150 km und 3000 km beträgt, und zu der dritten Kategorie gehört, wenn sigmaPos mehr als 3000 km beträgt.<!-- EPO <DP n="49"> --></claim-text></claim><claim id="c-de-01-0006" num="0006"><claim-text>Verfahren nach einem der Ansprüche 1 bis 5, wobei das von dem Satelliten erfasste Signal ein Mikrowellensignal ist.</claim-text></claim><claim id="c-de-01-0007" num="0007"><claim-text>Verfahren nach einem der Ansprüche 1 bis 6, wobei die Kategorisierung zusätzlich auf Ephemeris-, Almanach- und Systemzeit-Informationen von Satelliten basiert, die auf andere Weise als direkt von einem erdumlaufenden Satelliten erfasst werden.</claim-text></claim><claim id="c-de-01-0008" num="0008"><claim-text>Verfahren nach einem der Ansprüche 1 bis 7, wobei der Schritt des Erfassens des Weiteren den Schritt einschließt, in dem Anfangs-Zeitunsicherheit durch Lesen einer lokalen Echtzeituhr reduziert wird.</claim-text></claim><claim id="c-de-01-0009" num="0009"><claim-text>Verfahren nach einem der Ansprüche 1 bis 8, wobei der Schritt des Erfassens oder Bestimmens des Weiteren den Schritt einschließt, in dem jegliche Anfangs-Zeitunsicherheit reduziert wird, indem ein Z-Count für einen beliebigen Satelliten durch Decodieren einer navData-Nachricht bestimmt wird.</claim-text></claim><claim id="c-de-01-0010" num="0010"><claim-text>Verfahren nach einem der Ansprüche 1 bis 9, wobei der Schritt des Bestimmens des Weiteren den folgenden Schritt einschließt:
<claim-text>Reduzieren jeglicher Anfangs-Zeitunsicherheit durch Bestimmen eines Z-Count für jeden beliebigen Satelliten mittels Musterabgleich (pattern matching) anhand durch einen Netzwerk-Server bereitgestellter Daten.</claim-text></claim-text></claim><claim id="c-de-01-0011" num="0011"><claim-text>Verfahren nach einem der Ansprüche 1 bis 10, wobei der Schritt des Bestimmens des Weiteren den folgenden Schritt einschließt:
<claim-text>Reduzieren jeglicher Anfangs-Zeitunsicherheit durch Bestimmen eines von einem Netzwerk-Server bereitgestellten Zeit-Schätzwertes, der eine Netzwerk-Latenzberechnung einschließt. <u>SUMMARY OF THE INVENTION</u></claim-text></claim-text></claim><claim id="c-de-01-0012" num="0012"><claim-text>Verfahren nach einem der Ansprüche 1 bis 11, wobei der Schritt des Erfassens des Weiteren den folgenden Schritt einschließt:
<claim-text>Suchen nach Signalen von Satelliten entsprechend Dämpfungspegeln, die von Annahmen über Außen- und Innenbetrieb abhängen.</claim-text></claim-text></claim><claim id="c-de-01-0013" num="0013"><claim-text>Verfahren nach einem der Ansprüche 1 bis 12, wobei der Schritt des Erfassens des Weiteren die folgenden Schritte einschließt:
<claim-text>Einsetzen eines ODS-Verfahrens (outdoor search method) zum Suchen nach Signalen von Satelliten, wenn ein Dämpfungspegel so ist, dass ein empfangenes Signal-RauschVerhältnis<!-- EPO <DP n="50"> --> stärker ist als ungefähr 142 dBm, und Sammeln zuverlässiger NAV-Daten ohne Einsatz eines IDS-Verfahrens (indoor search method).</claim-text></claim-text></claim><claim id="c-de-01-0014" num="0014"><claim-text>Verfahren nach einem der Ansprüche 1 bis 13, wobei der Schritt des Erfassens des Weiteren die folgenden Schritte einschließt:
<claim-text>Einsetzen eines IDS-Verfahrens (indoor search method) zum Suchen nach Signalen von Satelliten, wenn ein Dämpfungspegel so ist, dass ein empfangenes Signal-RauschVerhältnis schwächer ist als ungefähr -142 dBm, und Empfangen wenigstens einiger NAV-Daten indirekt mit Unterstützung eines Servers.</claim-text></claim-text></claim><claim id="c-de-01-0015" num="0015"><claim-text>SPS-Empfänger (satellite positioning system receiver), der umfasst:
<claim-text>eine GPS-Messungs-Plattform (104) zum Empfangen von Signalen von erdumlaufenden GPS-Satelliten (112; 114; 116) und zum Erzeugen von Navigationsfixen aus diesen Signalen; <b>gekennzeichnet durch</b></claim-text>
<claim-text>einen ersten Prozessor, der in der GPS-Messungs-Plattform (104) enthalten ist und mit dem eine Positionsunsicherheit sigmaPos des aktuellen Standorts eines Navigationssatelliten-Empfängers in eine erste Kategorie kategorisiert wird, wenn kein Integer-Ambiguity-Problem zu lösen ist, in eine zweite Kategorie kategorisiert wird, wenn ein Doppler-Schätzwert angewendet werden kann, um ein Positionsfix zu ermitteln, und in eine dritte Kategorie kategorisiert wird, wenn ein Null-Doppler-Schätzwert ein schnelleres Positionslösungs-Ergebnis ergibt als ein Nicht-Null-Doppler-Schätzwert,</claim-text>
<claim-text>einen zweiten Prozessor, der in der GPS-Messungs-Plattform (104) enthalten ist und mit dem</claim-text>
<claim-text>Signale von den erdumlaufenden GPS-Satelliten (112; 116; 116) in Abhängigkeit davon erfasst werden, welcher der drei Kategorien sigmaPos entspricht, und</claim-text>
<claim-text>ein Verfahren zum Initialisieren eines SPS-Empfängers durchgeführt wird, das davon abhängt, welcher der drei Kategorien sigmaPos entspricht.</claim-text></claim-text></claim><claim id="c-de-01-0016" num="0016"><claim-text>SPS-Empfänger nach Anspruch 15, wobei die Positionsunsicherheit zu der ersten Kategorie gehört, wenn sigmaPos weniger als ungefähr 150 km beträgt, zu der zweiten Kategorie gehört, wenn sigmaPos zwischen 150 km und 3000 km beträgt, und zu der dritten Kategorie gehört, wenn sigmaPos mehr als 3000 km beträgt.</claim-text></claim><claim id="c-de-01-0017" num="0017"><claim-text>SPS-Empfänger nach Anspruch 15 oder 16, wobei ein Netzwerk-Server (104; 402) Signale von erdumlaufenden GPS-Satelliten (108; 110; 112) empfängt und anhand dieser Signale<br/>
<!-- EPO <DP n="51"> -->Navigationsinformationen über ein Netzwerk (106) bereitstellt, um die GPS-Messungs-Plattform (104; 402) beim Bereitstellen der Navigationsfixe zu unterstützen.</claim-text></claim><claim id="c-de-01-0018" num="0018"><claim-text>SPS-Empfänger nach einem der Ansprüche 15 bis 17, wobei<br/>
die GPS-Messungs-Plattform (104) ein hochempfindlicher SPS-Empfänger (508) ist, mit dem Signale (504) von erdumlaufenden GPS-Satelliten (502) empfangen werden, die gedämpft worden sind, und anhand dieser Signale Navigationsfixe bereitgestellt werden, und wobei es des Weiteren umfasst:
<claim-text>einen Synthesizer (522) für NAV-Daten, der in dem hochempfindlichen SPS-Empfänger (508) enthalten ist, um NAV-Datennachrichten mit den bereitgestellten Navigationsinformationen von den erdumlaufenden GPS-Satelliten (502) zu rekonstruieren, die zu stark gedämpft worden sind, um sie direkt zu bestimmen.</claim-text></claim-text></claim></claims><claims mxw-id="PCLM56987607" lang="EN" load-source="patent-office"><!-- EPO <DP n="44"> --><claim id="c-en-01-0001" num="0001"><claim-text>A method for operating a satellite positioning system SPS receiver, the method comprising the steps of:
<claim-text>acquiring signals from satellite vehicle SV transmissions;</claim-text>
<claim-text><b>characterized by</b></claim-text>
<claim-text>categorizing the position uncertainty sigmaPos of the present location of a navigation satellite receiver into a first category if there is no integer ambiguity problem to solve, a second category if a Doppler estimate can be appliedto find a position fix, and a third category if a zero Doppler estimate produces a quicker position solution result than a non-zero Doppler estimate, wherein the categorization is based on the acquired satellite signals; and</claim-text>
<claim-text>performing an SPS receiver initialization method that depends on which of said three categories sigmaPos fits.</claim-text></claim-text></claim><claim id="c-en-01-0002" num="0002"><claim-text>The method of claim 1, if the step of categorizing results in said first category sigmaPos, then further comprising the step of<br/>
finding a position fix without first obtaining a bit transition time BTT or z-count on each SV,</claim-text></claim><claim id="c-en-01-0003" num="0003"><claim-text>The method of claim 1, if then step of categorizing results in said second category sigmaPos, the further comprising the step of<br/>
finding a position fix by predicting the expected Doppler on each high-N SV.</claim-text></claim><claim id="c-en-01-0004" num="0004"><claim-text>The method of claim 1, if the step of categorizing results in said third category sigmaPos, then further comprising the step of<br/>
<!-- EPO <DP n="45"> -->finding a position fix by assuming no present position at all.</claim-text></claim><claim id="c-en-01-0005" num="0005"><claim-text>The method of any of claims 1 to 4, wherein the position uncertainty belongs to the first category, if sigmaPos is less than about 150-km, the second category, if SigmaPos is between 150-km and 3000-km, and the third category, if sigmaPos is greater than 3000-km.</claim-text></claim><claim id="c-en-01-0006" num="0006"><claim-text>The method of any of claims 1 to 5, wherein the signal acquired from the satellite vehicle SV is a microwave signal.</claim-text></claim><claim id="c-en-01-0007" num="0007"><claim-text>The method of any of claims 1 to 6, wherein the categorization is additionally based on satellite vehicle SV ephemeris, almanac, and system time information that are acquired other than directly from an orbiting SV.</claim-text></claim><claim id="c-en-01-0008" num="0008"><claim-text>The method of any of claims 1 to 7, wherein the step of acquiring further includes the step of: reducing any initial time uncertainty by reading a local real time clock.</claim-text></claim><claim id="c-en-01-0009" num="0009"><claim-text>The method of any of claims 1 to 8, wherein the step of acquiring or obtaining further includes the step of: reducing any initial time uncertainty by obtaining a z-count to any SV by decoding a navData message.</claim-text></claim><claim id="c-en-01-0010" num="0010"><claim-text>The method of any of claims 1 to 9, wherein the step of obtaining further includes the step of:
<claim-text>reducing any initial time uncertainty by obtaining a z-count to any SV by pattern matching from data provided by a network server.</claim-text></claim-text></claim><claim id="c-en-01-0011" num="0011"><claim-text>The method of any of claims 1 to 10, wherein the step of obtaining further includes the step of:
<claim-text>reducing any initial time uncertainty by obtaining a time estimate provided by a network server that includes a network latency computation.</claim-text></claim-text></claim><claim id="c-en-01-0012" num="0012"><claim-text>The method of any of claims 1 to 11, wherein the step of acquiring further includes the step of:<!-- EPO <DP n="46"> -->
<claim-text>searching for signals from SV's according to attenuation levels that depend on assumptions of outdoor and indoor operation.</claim-text></claim-text></claim><claim id="c-en-01-0013" num="0013"><claim-text>The method of any of claims 1 to 12, wherein the step of acquiring further includes the steps of:
<claim-text>using an outdoor search method ODSM to search for signals from SV's if an attenuation level is such that a received signal-to-noise ratio SNR is stronger than approximately - 142 dBm; and gathering reliable navData without using an indoor search method IDSM.</claim-text></claim-text></claim><claim id="c-en-01-0014" num="0014"><claim-text>The method of any of claims 1 to 13, wherein the step of acquiring further includes the steps of:
<claim-text>using an indoor search method IDSM to search for signals from SV's if an attenuation level is such that a received signal-to-noise ratio SNR is weaker than about -142 dBm;</claim-text>
<claim-text>and receiving at least some navData indirectly with the assistance of a server.</claim-text></claim-text></claim><claim id="c-en-01-0015" num="0015"><claim-text>A satellite positioning system SPS receiver comprising:
<claim-text>a GPS measurement platform(104) for receiving signals from orbiting GPS satellites (112;114;116) and for providing navigation fixes from such signals;</claim-text>
<claim-text><b>characterized by</b></claim-text>
<claim-text>a first processor included in said GPS measurement platform (104) for categorizing a position uncertainty sigmaPos of the present location of a navigation satellite receiver into a first category if there is no integer ambiguity problem to solve, a second category if a Doppler estimate can be applied to find a position fix, and a third category if a zero Doppler estimate produces a quicker position solution result than a non-zero Doppler estimate,</claim-text>
<claim-text>a second processor included in said GPS measurement platform (104) for</claim-text>
<claim-text>acquiring signals from said orbiting GPS satellites(112;114;116) according to which of said three categories sigmaPos fits, and <u>SUMMARY OF THE INVENTION</u><!-- EPO <DP n="47"> --></claim-text>
<claim-text>for performing an SPS receiver initialization method that depends on which of said three categories sigmaPos fits.</claim-text></claim-text></claim><claim id="c-en-01-0016" num="0016"><claim-text>The satellite positioning system SPS receiver according to claim 15, wherein the position uncertainty belongs to the first category, if sigmaPos is less than about 150-km, the second category, if SigmaPos between 150-km and 3000-km, and the third category, if sigmaPos is greater than 3000-km.</claim-text></claim><claim id="c-en-01-0017" num="0017"><claim-text>A satellite positioning system SPS receiver according to claim 15 to or 16, wherein a network server (104;402) receives signals from orbiting GPS satellites (108;110;112) and provides navigation information from such signals over a network (106) to assist the GPS measurement platform (104;402) in providing said navigation fixes;</claim-text></claim><claim id="c-en-01-0018" num="0018"><claim-text>A satellite positioning system SPS receiver according to any of claims 15 to 17, wherein<br/>
the GPS measurement platform (104) is a high-sensitivity SPS receiver (508) for receiving signals (504) from orbiting GPS satellites (502) that have been attenuated and for providing navigation fixes from such signals, and further comprises<br/>
a NAV-data synthesizer (522) included in the high-sensitivity SPS receiver (508) for reconstructing NAV-data messages with said provided navigation information from said orbiting GPS satellites (502) that have been too highly attenuated to be obtained directly.</claim-text></claim></claims><claims mxw-id="PCLM56987608" lang="FR" load-source="patent-office"><!-- EPO <DP n="52"> --><claim id="c-fr-01-0001" num="0001"><claim-text>Procédé pour mettre en oeuvre un récepteur de système de positionnement par satellites SPS, soit Satellite Positioning System, le procédé comprenant l'étape :
<claim-text>d'acquisition de signaux à partir de transmissions de véhicule satellite SV, soit Satellite Vehicle ;</claim-text>
<claim-text><b>caractérisé par</b></claim-text>
<claim-text>le classement par catégories de l'incertitude de position sigmaPos sur la position actuelle d'un récepteur de navigation par satellite dans une première catégorie s'il n'y a pas de problème d'ambiguïtés entières, soit integer ambiguity, à résoudre, dans une deuxième catégorie si une estimation d'effet Doppler peut être appliquée pour déterminer un relevé de position, et dans une troisième catégorie si une estimation d'effet Doppler nul produit un résultat de solution de position plus rapide qu'une estimation d'effet Doppler non nul, dans lequel le classement par catégories est basé sur les signaux de satellite acquis ; et</claim-text>
<claim-text>la mise en oeuvre d'un procédé d'initialisation du récepteur SPS qui dépend de la catégorie parmi lesdites trois catégories à laquelle sigmaPos appartient.</claim-text></claim-text></claim><claim id="c-fr-01-0002" num="0002"><claim-text>Procédé selon la revendication 1 qui, si l'étape de classement par catégories a comme résultat ladite première catégorie sigmaPos, comprend en outre dans ce cas l'étape<br/>
de découverte d'un relevé de position sans obtenir auparavant un temps de transition de bit BTT, soit Bit<!-- EPO <DP n="53"> --> Transition Time, ou un compte z, soit z-count, pour chaque SV.</claim-text></claim><claim id="c-fr-01-0003" num="0003"><claim-text>Procédé selon la revendication 1 qui, si l'étape de classement par catégories a comme résultat ladite deuxième catégorie sigmaPos, comprend en outre l'étape<br/>
de découverte d'un relevé de position en prédisant l'effet Doppler attendu sur chacun des N plus élevés SV.</claim-text></claim><claim id="c-fr-01-0004" num="0004"><claim-text>Procédé selon la revendication 1 qui, si l'étape de classement par catégories a comme résultat ladite troisième catégorie sigmaPos, comprend en outre dans ce cas l'étape<br/>
de découverte d'un relevé de position en n'assumant aucune position actuelle.</claim-text></claim><claim id="c-fr-01-0005" num="0005"><claim-text>Procédé selon l'une quelconque des revendications 1 à 4, dans lequel l'incertitude de position appartient à la première catégorie si sigmaPos est inférieure à environ 150 km, à la deuxième catégorie si sigmaPos est comprise entre 150 km et 3.000 km, et à la troisième catégorie si sigmaPos est supérieure à 3.000 km.</claim-text></claim><claim id="c-fr-01-0006" num="0006"><claim-text>Procédé selon l'une quelconque des revendications 1 à 5, dans lequel le signal acquis du véhicule satellite SV est un signal à micro-ondes.</claim-text></claim><claim id="c-fr-01-0007" num="0007"><claim-text>Procédé selon l'une quelconque des revendications 1 à 6, dans lequel la classification par catégories est en outre basée sur des informations d'éphéméride du véhicule satellite SV, des informations d'almanach et des informations temporelles du système qui ne sont pas acquises directement d'un SV en orbite.<!-- EPO <DP n="54"> --></claim-text></claim><claim id="c-fr-01-0008" num="0008"><claim-text>Procédé selon l'une quelconque des revendications 1 à 7, dans lequel l'étape d'acquisition comprend en outre l'étape : de réduction de toute incertitude sur le temps initial en consultant une horloge de temps réel local.</claim-text></claim><claim id="c-fr-01-0009" num="0009"><claim-text>Procédé selon l'une quelconque des revendications 1 à 8, dans lequel l'étape d'acquisition ou d'obtention comprend en outre l'étape : de réduction de toute incertitude sur le temps initial en obtenant un compte z pour tout SV par décodage d'un message de données de navigation navData.</claim-text></claim><claim id="c-fr-01-0010" num="0010"><claim-text>Procédé selon l'une quelconque des revendications 1 à 9, dans lequel l'étape d'obtention comprend en outre l'étape :
<claim-text>de réduction de toute incertitude sur le temps initial en obtenant un compte z pour tout SV en effectuant un filtrage de motifs, soit pattern matching, à partir de données fournies par un serveur de réseau.</claim-text></claim-text></claim><claim id="c-fr-01-0011" num="0011"><claim-text>Procédé selon l'une quelconque des revendications 1 à 10, dans lequel l'étape d'obtention comprend en outre l'étape :
<claim-text>de réduction de toute incertitude sur le temps initial en obtenant un temps estimé procuré par un serveur de réseau qui comprend un calcul de latence du réseau.</claim-text></claim-text></claim><claim id="c-fr-01-0012" num="0012"><claim-text>Procédé selon l'une quelconque des revendications 1 à 11, dans lequel l'étape d'acquisition comprend en outre l'étape :
<claim-text>de recherche de signaux de SV en fonction de niveaux d'atténuation qui dépendent d'hypothèses de fonctionnement à l'extérieur et à l'intérieur.</claim-text><!-- EPO <DP n="55"> --></claim-text></claim><claim id="c-fr-01-0013" num="0013"><claim-text>Procédé selon l'une quelconque des revendications 1 à 12, dans lequel l'étape d'acquisition comprend en outre les étapes :
<claim-text>d'utilisation d'un procédé de recherche à l'extérieur ODSM, soit OutDoor Search Method, pour chercher des signaux de SV si le niveau d'atténuation est tel que le rapport signal sur bruit reçu SNR, soit Signal-to-Noise Ratio, est supérieur à environ - 142 dBm ; et de collecte de données navData fiables sans utiliser un procédé de recherche à l'intérieur IDSM, soit InDoor Search Method.</claim-text></claim-text></claim><claim id="c-fr-01-0014" num="0014"><claim-text>Procédé selon l'une quelconque des revendications 1 à 13, dans lequel l'étape d'acquisition comprend en outre les étapes :
<claim-text>d'utilisation d'un procédé de recherche à l'intérieur IDSM pour chercher des signaux de SV si un niveau d'atténuation est tel que le rapport signal sur bruit reçu SNR est inférieur à environ -142 dBm ; et de réception d'au moins certaines données navData indirectement avec l'assistance d'un serveur.</claim-text></claim-text></claim><claim id="c-fr-01-0015" num="0015"><claim-text>Récepteur de système de positionnement par satellites SPS comprenant :
<claim-text>une plate-forme de mesure GPS (104) pour recevoir des signaux provenant de satellites GPS en orbite (112 ; 114 ; 116) et pour fournir des relevés de navigation à partir de tels signaux ;</claim-text>
<claim-text><b>caractérisé par</b></claim-text>
<claim-text>un premier processeur compris dans ladite plate-forme de mesure GPS (104) pour effectuer un classement par catégories d'une incertitude de position sigmaPos sur la position actuelle d'un récepteur de navigation par satellite dans une première catégorie s'il n'y a pas de problème d'ambiguïtés entières à résoudre, dans une deuxième catégorie si une estimation d'effet Doppler<!-- EPO <DP n="56"> --> peut être appliquée pour déterminer un relevé de position, et dans une troisième catégorie si une estimation d'effet Doppler nul produit un résultat de solution de position plus rapide qu'une estimation d'effet Doppler non nul,</claim-text>
<claim-text>un deuxième processeur compris dans ladite plate-forme de mesure GPS (104)</claim-text>
<claim-text>pour acquérir des signaux provenant desdits satellites GPS en orbite (112 ; 114 ; 116) en fonction de la catégorie parmi lesdites trois catégories à laquelle sigmaPos appartient, et</claim-text>
<claim-text>pour mettre en oeuvre un procédé d'initialisation du récepteur SPS qui dépend de la catégorie parmi lesdites trois catégories à laquelle sigmaPos appartient.</claim-text></claim-text></claim><claim id="c-fr-01-0016" num="0016"><claim-text>Récepteur de système de positionnement par satellites SPS selon la revendication 15, dans lequel l'incertitude de position appartient à la première catégorie si sigmaPos est inférieure à environ 150 km, à la deuxième catégorie si sigmaPos est comprise entre 150 km et 3.000 km, et à la troisième catégorie si sigmaPos est supérieure à 3.000 km.</claim-text></claim><claim id="c-fr-01-0017" num="0017"><claim-text>Récepteur de système de positionnement par satellites SPS selon la revendication 15 ou 16, dans lequel un serveur de réseau (104 ; 402) reçoit des signaux de satellites GPS en orbite (108 ; 110 ; 112) et procure de l'information de navigation à partir de tels signaux via un réseau (106) pour assister la plate-forme de mesure GPS (104 ; 402) afin de fournir lesdits relevés de navigation.</claim-text></claim><claim id="c-fr-01-0018" num="0018"><claim-text>Récepteur de système de positionnement par satellites SPS selon l'une quelconque des revendications 15 à 17, dans lequel<br/>
<!-- EPO <DP n="57"> -->la plate-forme de mesure GPS (104) est un récepteur SPS à haute sensibilité (508) pour recevoir des signaux (504) de satellites GPS en orbite (502) qui ont été atténués et pour fournir des relevés de navigation à partir de tels signaux, et comprend en outre<br/>
un synthétiseur de données NAV-data (522) inclus dans le récepteur SPS à haute sensibilité (508) pour reconstruire des messages de données NAV-data avec ladite information de navigation fournie par lesdits satellites GPS en orbite (502) qui ont été trop fortement atténués pour être obtenus directement.</claim-text></claim></claims><drawings mxw-id="PDW16672797" load-source="patent-office"><!-- EPO <DP n="58"> --><figure id="f0001" num="1,4"><img id="if0001" file="imgf0001.tif" wi="165" he="184" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="59"> --><figure id="f0002" num="2"><img id="if0002" file="imgf0002.tif" wi="165" he="189" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="60"> --><figure id="f0003" num="3"><img id="if0003" file="imgf0003.tif" wi="165" he="199" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="61"> --><figure id="f0004" num="5"><img id="if0004" file="imgf0004.tif" wi="165" he="227" img-content="drawing" img-format="tif"/></figure></drawings><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
