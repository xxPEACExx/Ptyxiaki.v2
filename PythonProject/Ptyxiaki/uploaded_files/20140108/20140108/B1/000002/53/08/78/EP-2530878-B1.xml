<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2530878-B1" country="EP" doc-number="2530878" kind="B1" date="20140108" family-id="37133779" file-reference-id="299944" date-produced="20180825" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146587743" ucid="EP-2530878-B1"><document-id><country>EP</country><doc-number>2530878</doc-number><kind>B1</kind><date>20140108</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-12172420-A" is-representative="NO"><document-id mxw-id="PAPP154849935" load-source="docdb" format="epo"><country>EP</country><doc-number>12172420</doc-number><kind>A</kind><date>20061013</date><lang>EN</lang></document-id><document-id mxw-id="PAPP246865174" load-source="docdb" format="original"><country>EP</country><doc-number>12172420.7</doc-number><date>20061013</date></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140557317" ucid="CN-200510121004-A" load-source="docdb"><document-id format="epo"><country>CN</country><doc-number>200510121004</doc-number><kind>A</kind><date>20051219</date></document-id></priority-claim><priority-claim mxw-id="PPC140554939" ucid="EP-06804924-A" linkage-type="3" load-source="docdb"><document-id format="epo"><country>EP</country><doc-number>06804924</doc-number><kind>A</kind><date>20061013</date></document-id></priority-claim><priority-claim mxw-id="PPC140557812" ucid="EP-12151055-A" linkage-type="3" load-source="docdb"><document-id format="epo"><country>EP</country><doc-number>12151055</doc-number><kind>A</kind><date>20061013</date></document-id></priority-claim></priority-claims><dates-of-public-availability><intention-to-grant-date><date>20130715</date></intention-to-grant-date></dates-of-public-availability><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1989323757" load-source="docdb">H04L  12/28        20060101AFI20121029BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL1989634644" load-source="docdb" scheme="CPC">H04L  29/06027     20130101 FI20131005BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989640037" load-source="docdb" scheme="CPC">H04L  65/4076      20130101 LI20130926BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989647307" load-source="docdb" scheme="CPC">H04L  12/185       20130101 LI20131005BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132367862" lang="DE" load-source="patent-office">Verfahren zur Vorbeugung der simultanen Ausgabe von zwei Multicast-Strömen</invention-title><invention-title mxw-id="PT132367863" lang="EN" load-source="patent-office">Methods for preventing simultaneous issuance of two multicast flows</invention-title><invention-title mxw-id="PT132367864" lang="FR" load-source="patent-office">Procédés pour la prévention de délivrance simultanée de deux flux de multidiffusion</invention-title></technical-data><related-documents><relation type="division"><child-doc ucid="EP-12172420-A"><document-id load-source="patent-office" format="epo"><country>EP</country><doc-number>12172420</doc-number><kind>A</kind><date>20061013</date></document-id></child-doc><parent-doc ucid="EP-12151055.6"><document-id load-source="patent-office" format="epo"><country>EP</country><doc-number>12151055.6</doc-number><date>20120113</date></document-id><parent-grant-document ucid="EP-2458791-B1"><document-id><country>EP</country><doc-number>2458791</doc-number><kind>B1</kind><date>20150401</date></document-id></parent-grant-document></parent-doc></relation><relation type="division"><child-doc ucid="EP-12172420-A"><document-id load-source="patent-office" format="epo"><country>EP</country><doc-number>12172420</doc-number><kind>A</kind><date>20061013</date></document-id></child-doc><parent-doc ucid="EP-06804924.6"><document-id load-source="patent-office" format="epo"><country>EP</country><doc-number>06804924.6</doc-number><date>20061013</date></document-id></parent-doc></relation></related-documents><parties><applicants><applicant mxw-id="PPAR919521154" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>HUAWEI TECH CO LTD</last-name><address><country>CN</country></address></addressbook></applicant><applicant mxw-id="PPAR919541940" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>HUAWEI TECHNOLOGIES CO., LTD.</last-name></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR919516204" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>YU DAWEI</last-name><address><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR919516831" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>YU, DAWEI</last-name></addressbook></inventor><inventor mxw-id="PPAR919019858" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>YU, DAWEI</last-name><address><street>c/o Huawei Technologies Co., Ltd. Huawei Administration Building, Bantian, Longgang District</street><city>518129 Shenzhen</city><country>CN</country></address></addressbook></inventor></inventors><assignees><assignee mxw-id="PPAR919019859" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Huawei Technologies Co., Ltd.</last-name><iid>100970540</iid><address><street>Huawei Administration Building Bantian</street><city>Longgang District, Shenzhen Guangdong 518129</city><country>CN</country></address></addressbook></assignee></assignees><agents><agent mxw-id="PPAR919019860" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Kreuz, Georg Maria</last-name><suffix>et al</suffix><iid>101240797</iid><address><street>Huawei Technologies Duesseldorf GmbH Dessauerstrasse 3</street><city>80992 München</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><designated-states><ep-contracting-states><country mxw-id="DS549865396" load-source="docdb">AT</country><country mxw-id="DS549860895" load-source="docdb">BE</country><country mxw-id="DS549792657" load-source="docdb">BG</country><country mxw-id="DS549921056" load-source="docdb">CH</country><country mxw-id="DS549862987" load-source="docdb">CY</country><country mxw-id="DS549865397" load-source="docdb">CZ</country><country mxw-id="DS549884788" load-source="docdb">DE</country><country mxw-id="DS549860896" load-source="docdb">DK</country><country mxw-id="DS549862988" load-source="docdb">EE</country><country mxw-id="DS549777481" load-source="docdb">ES</country><country mxw-id="DS549792658" load-source="docdb">FI</country><country mxw-id="DS549792659" load-source="docdb">FR</country><country mxw-id="DS549884789" load-source="docdb">GB</country><country mxw-id="DS549860897" load-source="docdb">GR</country><country mxw-id="DS549862989" load-source="docdb">HU</country><country mxw-id="DS549921057" load-source="docdb">IE</country><country mxw-id="DS549860902" load-source="docdb">IS</country><country mxw-id="DS549792660" load-source="docdb">IT</country><country mxw-id="DS549860903" load-source="docdb">LI</country><country mxw-id="DS549884794" load-source="docdb">LT</country><country mxw-id="DS549865402" load-source="docdb">LU</country><country mxw-id="DS549884795" load-source="docdb">LV</country><country mxw-id="DS549884796" load-source="docdb">MC</country><country mxw-id="DS549777482" load-source="docdb">NL</country><country mxw-id="DS549777483" load-source="docdb">PL</country><country mxw-id="DS549792665" load-source="docdb">PT</country><country mxw-id="DS549777484" load-source="docdb">RO</country><country mxw-id="DS549777493" load-source="docdb">SE</country><country mxw-id="DS549921058" load-source="docdb">SI</country><country mxw-id="DS549777507" load-source="docdb">SK</country><country mxw-id="DS549865403" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data></bibliographic-data><description mxw-id="PDES63960179" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001"><b><u>Field of the Technology</u></b></heading><p id="p0001" num="0001">The present invention relates to internet protocol television technology, and particularly, to a method for preventing simultaneous issuance of two multicast flows.</p><heading id="h0002"><b><u>Background of the Invention</u></b></heading><p id="p0002" num="0002">Internet protocol television (IPTV) is a brand new media of customized interactive services based on internet technology. Broadcast TV (BTV) is the very basic service in an IPTV system and the most matured service in the industry. In consideration of program forecasts, brand advertisements and commercials, operators usually set a default switch-on channel to broadcast program forecasts, brand advertisements and commercials so that the contents broadcast through the default switch-on channel are received as soon as an IP set-top box (STB) is powered on. The default switch-on channel is usually set on Channel 1.</p><p id="p0003" num="0003">BTV is a multicast-based service and is dependent of multicast route protocol, internet group management protocol (IGMP) and IGMP Proxy protocol etc. which are supported by network devices. When an IPTV system transmits multicast program flows to an access network, routers in the network usually comply with multicast route protocol and network devices in the access network comply with IPMP Proxy protocol.</p><p id="p0004" num="0004">An IP STB is a user terminal device in an IPTV system and the storage in the IP STB usually stores a channel list which contains the multicast IP addresses, multicast port numbers and other channel related information of the channels that a user is authorized to view. When a user is receiving a BTV service, his IP STB first searches for the multicast address and multicast port number of the channel that the user wants to watch from the channel list according to the instruction from a remote controller, then the IP STB composes an IGMP Report message according to the requirements of REC2236, and applies to join a corresponding multicast group, and finally the IP STB receives the multicast flow from an IPTV service source network after network devices of all levels have performed IGMP Proxy protocol.<!-- EPO <DP n="2"> --></p><p id="p0005" num="0005">When the user wants to switch to another channel, the IP STB first composes an IGMP Leave message according to the requirements of RFC2236 to leave the current multicast group, hence the transmission of the multicast flow of the current channel is ceased; then the IP STB searches for the multicast address and multicast port of the channel that the user wants to watch from the channel list and composes an IGMP Report message according to the requirements of RFC2236 to join a corresponding new multicast group, then the multicast flow of the new channel is transmitted to the IP STB.</p><p id="p0006" num="0006">When the IP STB switches from BTV service to another service, the IP STB first composes an IGMP Leave message according to the requirements of RFC2236 to leave the current multicast group, hence the transmission of the multicast flow of the current channel is ceased; then the IP STB sends a corresponding report according to the instruction from the user to obtain a new service.</p><p id="p0007" num="0007">When an IP STB in the prior art needs to restart due to malfunction (sudden power breakdown, mis-pressing the power button by man, etc.) while carrying out BTV service, the technical solution in the prior art is sending an IGMP Report message to join the multicast group of the default switch-on channel of BTV service directly after the IP STB is powered on, no matter whether the multicast flow which was transmitted when the malfunction occurred has been ceased.</p><p id="p0008" num="0008">At the very moment when such malfunction occurs, the IP STB is not able to send an IGMP Leave message to leave the current multicast group. Meanwhile, there is a very small probability of the current multicast group being the default switch-on channel, and the probability equals to 1/total number of BTV programs that a user is authorized to watch.</p><p id="p0009" num="0009">When the IP STB switches on and directly sends an IGMP Report message to join the multicast group of the default switch-on channel, the multicast flow which was transmitted when the malfunction occurs is usually still transmitted to the IP STB, because the digital subscriber line access multiplexer (DSLAM) which sends the multicast flow to the IP STB is unable to learn the situation of the IP STB when the IP STB malfunctioned. In practical applications, a DSLAM has to send an IGMP general query and a group-specific query to make sure whether an IP STB in the current multicast group is active.</p><p id="p0010" num="0010">RFC2236 defines that the interval for IGMP Query message is 125 seconds and the maximum response time to an IGMP Query message is 10 seconds. RFC2236 does not define how long a device should wait, after a general query is transmit, and<!-- EPO <DP n="3"> --> then transmit a group-specific query (the interval length varies with devices from different manufacturers, usually a group-specific query is sent 20 seconds after an IGMP Query message is sent) or the number of sending times and interval length of group-specific queries (devices from different manufacturers make different settings, usually a group-specific query is sent twice with an interval of 4 seconds).</p><p id="p0011" num="0011">If the IP STB malfunctions after the DSLAM has sent an IGMP Query message and before the IP STB returns a corresponding response message, the DSLAM will send the IGMP Query message once again and further send a group-specific query twice to check whether the multicast group member which malfunctions has left the multicast group; then the DSLAM will cease the transmission of the multicast flow which is transmitted to the IP STB when it malfunctions. That is to say, if the IP STB malfunctions after the DSLAM has sent a general query and before the IP STB returns a corresponding report, the transmission of the multicast flow which is transmitted to the IP STB when the IP STB malfunctions will continue for about 144 seconds.</p><p id="p0012" num="0012">If the IP STB malfunctions when the DSLAM sends an IGMP Query message and the IP STB returns a corresponding response message, the DSLAM will send IGMP Query message twice again and further send a group-specific query twice to check whether the multicast group member which malfunctions has left the multicast group; then the DSLAM will cease the transmission of the multicast flow which is transmitted to the IP STB when the IP STB malfunctions. That is to say, if the IP STB malfunctions when the DSLAM sends an IGMP Query message and the IP STB returns a corresponding response message, the transmission of the multicast flow which is transmitted to the IP STB when the IP STB malfunctions will continue for about 269 seconds.</p><p id="p0013" num="0013">It can be concluded from the above that when an IP STB malfunctions, the transmission of the multicast flow to the IP STB will continue for about 144 to 269 seconds.</p><p id="p0014" num="0014">Furthermore, when malfunction occurs, an IP STB needs about 20 seconds to restart, compose an IGMP Report message and apply to join the multicast group of the default switch-on channel, after that the multicast flow of the default switch-on channel will be sent to the IP STB. Obviously, this will cause the situation in which the multicast flow which the IP STB has been receiving when the IP STB malfunctions and the multicast flow of the default switch-on channel are issued to the IP STB simultaneously, and the situation is called simultaneous issuance of two multicast flows.<!-- EPO <DP n="4"> --></p><p id="p0015" num="0015">Simultaneous issuance of two multicast flows usually lasts 124 to 249 seconds (or 119 to 254 seconds in some extreme cases). Simultaneous issuance of two multicast flows brings in two harmful consequences: firstly, the total bandwidth of two multicast flows usually exceeds the service operation bandwidth provided for a user by an IPTV system, which results in serious package loss in the multicast flows transmitted to the IP STB, reflected in frozen motions and mosaic; secondly, as there are two multicast flows transmitted to an IP STB simultaneously, the service performance of the IP STB will be affected, which causes unsmooth playback of the IP STB at least and even abnormal restart of the IP STB.</p><p id="p0016" num="0016"><patcit id="pcit0001" dnum="EP1427132A"><text>EP 1 427 132</text></patcit> discloses a fast service restoration for a last IGMP leave request.</p><p id="p0017" num="0017">To sum up, in the prior art two multicast flows may be issued to an IP STB simultaneously for a long time, which seriously degrades picture quality and may even cause the IP STB to restart abnormally. This will influence user experience to a great extent and decrease user satisfaction.</p><heading id="h0003"><b><u>Summary of the Invention</u></b></heading><p id="p0018" num="0018">The present invention provides a method for preventing simultaneous issuance of two multicast flows which causes serious damage to picture quality and even abnormal restart of an IP STB in the prior art.</p><p id="p0019" num="0019">The technical solution in accordance with the present invention is achieved as follows.</p><p id="p0020" num="0020">According to one aspect, a method for preventing simultaneous issuance of two multicast flows according to claim 1.</p><p id="p0021" num="0021">According to another aspect, a DSLAM according to claim 7.</p><p id="p0022" num="0022">According to another aspect, a method for preventing simultaneous issuance of two multicast flows according to claim 4.<!-- EPO <DP n="5"> --></p><p id="p0023" num="0023">According to another aspect, a DSLAM according to claim 10.</p><p id="p0024" num="0024">Compared with the practice in the prior art, the method provided by the present invention prevents simultaneous issuance of two multicast flows and thus eliminates unfavourable consequences resulting from simultaneous issuance of two multicast flows, including picture quality loss and even abnormal restart of an IP STB, therefore the user experiences will be improved and user satisfaction will be distinctively increased.</p><heading id="h0004"><b><u>Brief Description of the Drawings</u></b></heading><p id="p0025" num="0025"><ul><li><figref idrefs="f0001">Figure 1</figref> is the IP STB operation flowchart of a first example not forming part of this invention.</li><li><figref idrefs="f0002">Figure 2</figref> is the IP STB operation flowchart of a second example not forming part of this invention.</li><li><figref idrefs="f0003">Figure 3</figref> is the IP STB operation flowchart of a third example not forming part of this invention.</li><li><figref idrefs="f0004">Figure 4</figref> is the IP STB operation flowchart of an embodiment of this invention.</li><li><figref idrefs="f0005">Figure 5</figref> is the IP STB operation flowchart of another embodiment of this invention.</li></ul></p><heading id="h0005"><b><u>Embodiments of the Invention</u></b></heading><p id="p0026" num="0026">A detailed description of the present invention is provided hereinafter with reference to the accompanying drawings and specific embodiments.</p><p id="p0027" num="0027">The general idea of the present invention is that at the switch-on of an IP STB, firstly sending an IGMP Leave message to leave the multicast group to which the IP<!-- EPO <DP n="6"> --> STB has belonged when malfunction occurred, so that simultaneous issuance of two multicast flows is prevented at the root.</p><p id="p0028" num="0028"><figref idrefs="f0001">Figure 1</figref> is the IP STB operation flowchart of a first example not forming part of this invention. As shown in <figref idrefs="f0001">Figure 1</figref>, when an IP STB is powered on, the IP STB first composes and sends an IGMP Leave message according to the information stored in the IP STB to leave the multicast group to which the IP STB has belonged when malfunction occurred to the IP STB. The information stored in the IP STB includes the multicast IP address and the multicast port number of the multicast group of the last channel chosen by the user before the IP STB was shut down (or powered off in malfunction). Upon receiving the IGMP Leave message from the IP STB, the DSLAM ceases the transmission of the multicast flow corresponding to the IGMP Leave message to the IP STB, wherein the multicast flow is the multicast flow that was transmitted to the IP STB when malfunction occurred to the IP STB.</p><p id="p0029" num="0029">Obviously, when an IP STB was powered off accidentally while carrying out BTV service, the IP STB may smoothly leave the multicast group to which the IP STB has belonged when the IP STB was powered off through the above method upon being switched on. After that, the IP STB may further compose an IGMP Report message based on the contents of the channel list stored in the IP STB and send the IGMP Report message to join the default switch-on channel. Then the IP STB may continue with follow-up operations including switching channel, switching to non-BTV service or shutting down according to user instructions.</p><p id="p0030" num="0030"><figref idrefs="f0002">Figure 2</figref> is the IP STB operation flowchart of a second example not forming part of this invention. Usually an IP STB is equipped with a non volatile memory (NVM) in which a file system is set up, and in the file system a file named SaveInfo.txt (or other names) is usually created to store information. In practical applications, the file SaveInfo.txt can be used for storing the multicast IP address, multicast port number and the verification information of the multicast group to which the IP STB currently belongs.</p><p id="p0031" num="0031">As shown in <figref idrefs="f0002">Figure 2</figref>, upon being switched on, an IP STB firstly checks whether there is a file named SaveInfo.txt, and if there is such a file, the IP STB opens the file to obtain the information therein and then closes the file SaveInfo.txt. When the information obtained has passed verification, the IP STB composes an IGMP Leave message based on the information according to the IGMP Leave message format defined by RFC2236, and sends the IGMP Leave message. If there is no file named SaveInfo.txt, a SaveInfo.txt file should be created and then closed.<!-- EPO <DP n="7"> --></p><p id="p0032" num="0032">Hence the transmission of the multicast flow, which was transmitted to the IP STB when malfunction occurred, is ceased and simultaneous issuance of two multicast flows in the prior art is prevented.</p><p id="p0033" num="0033">When the IGMP Leave message is sent, the IP STB composes an IGMP Report message based on the multicast IP address and the multicast port information of the default switch-on channel in the channel list of the IP STB and sends the IGMP Report message so as to join the multicast group of the default switch-on channel. Then the IP STB opens the file SaveInfo.txt which is stored in the IP STB, writes the multicast IP address, the multicast port number and the verification information of the default switch-on channel into the file SaveInfo.txt and closes the file. Then the multicast flow provided by the IP STB for the user is the multicast program of the default switch-on channel.</p><p id="p0034" num="0034">While carrying out the multicast service of the default switch-on channel, the IP STB may receive the following three instructions:
<ol><li>1. channel switch instruction (switch among BTV services);</li><li>2. service switch instruction (switch between a BTV service and a non-BTV service provided by the IP STB);</li><li>3. shut down instruction.</li></ol></p><p id="p0035" num="0035">For the above three instructions, the IP STB can perform the corresponding handling processes as below:</p><p id="p0036" num="0036">When a channel switch instruction is received, the IP STB performs a first handling process which includes the steps of: sending an IGMP Leave message by the IP STB to leave the current multicast group, searching for, according to the instruction from a remote controller, the multicast address and multicast port number of the channel corresponding to the instruction from the channel list stored in the IP STB, composing an IGMP Report message based on the multicast address and multicast port number obtained and sending the IGMP Report message; then opening the file SaveInfo.txt, clearing the content of the file, writing in the file SaveInfo.txt the multicast IP address, the multicast port number and the verification information of the channel after the switch and closing the file.</p><p id="p0037" num="0037">It can be concluded that the information in the file SaveInfo.txt should be updated with the multicast IP address, the multicast port number and the verification information of the new channel each time during a channel switching. The update of the file SaveInfo.txt is important. And obviously, if the new channel to which the IP<!-- EPO <DP n="8"> --> STB switches is the default switch-on channel, the file SaveInfo.txt need not to be updated.</p><p id="p0038" num="0038">When a service switch instruction is received, the IP STB performs a second handling process which includes the steps of: sending an IGMP Leave message by the IP STB when the IP STB switches from a BTV service to a non-BTV service, to leave the current multicast group and sending a corresponding message according to the instruction received to request for a non-BTV service.</p><p id="p0039" num="0039">When a shut down instruction is received, the IP STB performs a third handling process which includes the steps of: sending an IGMP Leave message by the IP STB to leave the current multicast group and performing the shut down process.</p><p id="p0040" num="0040">When the IP STB has completed channel switch, it may further receive a service switch instruction (switch from a BTV service to a non-BTV service) or a shut down instruction. If a service switch instruction is received, the IP STB performs the second handling process above; if a shut down instruction is received, the IP STB performs the third handling process above.</p><p id="p0041" num="0041">When the IP STB has switched from a BTV service to a non-BTV service, it may further receive an instruction of switching from a non-BTV service to a BTV service or a shut down instruction. If an instruction of switching from a non-BTV service to a BTV service is received, the IP STB performs a process similar to the first handling process, wherein the step of sending an IGMP Leave message to leave the current multicast group is omitted; if a shut down instruction is received, the IP STB directly performs the shut down process.</p><p id="p0042" num="0042">The process shown in <figref idrefs="f0002">Figure 2</figref> is performed on the basis that there is a file system in the NVM. When there is no file system in the NVM, the multicast IP address and the multicast port number of the current multicast group can be stored in a block of the IP STB as in another embodiment of the present invention, and the information is stored, read and updated through Block operation interface functions.</p><p id="p0043" num="0043">Furthermore, in the process shown in <figref idrefs="f0002">Figure 2</figref>, when the multicast IP address, multicast port number and verification information are stored in the file SaveInfo.txt, the default switch-on channel and other channels are regarded as equals. In fact, if the IP STB is carrying out the BTV service of the default switch-on channel when malfunction occurs, and if the IP STB joins the multicast group of the default switch-on channel upon being switched on, according to the principle of multicast, there will not be two multicast flows of the default switch-on channel transmitted to the IP STB, so it is not necessary to store the multicast IP address, multicast port number and<!-- EPO <DP n="9"> --> verification information of the default switch-on channel in the service process of an IP STB.</p><p id="p0044" num="0044">For example, when the IP STB is switched on and joins the multicast group of the default switch-on channel for the first time, the step of writing the multicast IP address, multicast port number and verification information of the default switch-on channel into the file SaveInfo.txt (or a block) can be omitted. Moreover, after the IP STB has switched to another channel and before the multicast IP address, multicast port number and verification information of the new channel are stored in the file SaveInfo.txt, a step of determining whether the current multicast channel is the default switch-on channel can be performed and if the current multicast channel is the default switch-on channel, the step of writing the multicast IP address, multicast port number and verification information of the default switch-on channel into the file SaveInfo.txt (or a block) can be omitted; otherwise the multicast IP address, multicast port number and verification information of new channel shall be written into the file SaveInfo.txt (or a block).</p><p id="p0045" num="0045">Usually a channel list is stored in the storage of an IP STB and the channel list stores the multicast IP addresses, multicast port numbers and other channel related information of all the channels that a user is authorized to watch.</p><p id="p0046" num="0046">In the process shown in <figref idrefs="f0002">Figure 2</figref>, a method including a step of storing related information in the file system in the NVM is provided to ensure that an IGMP Leave message is sent before an IGMP Report message, an alternative solution is also provided in case there is no file system in the NVM; moreover, a method is provided in which the multicast IP addresses, multicast port numbers and verification information of the default switch-on channel need not to be stored in the file SaveInfo.txt; besides, the verification information is taken into consideration, too. Therefore, the IP STB work process shown in <figref idrefs="f0002">Figure 2</figref> is effective and steady.</p><p id="p0047" num="0047">Obviously, the process shown in <figref idrefs="f0002">Figure 2</figref> is storing the multicast IP addresses, multicast port numbers and verification information of channel while carrying out a BTV service; when an IP STB restarts after an abnormal shutdown, the IP STB accesses the stored related information to compose an IGMP Leave message, and sends the IGMP Leave message before sending an IGMP Report message, so that simultaneous issuance of two multicast flows is prevented.</p><p id="p0048" num="0048"><figref idrefs="f0003">Figure 3</figref> is the IP STB operation flowchart of a third example not forming part of this invention. As shown in <figref idrefs="f0003">Figure 3</figref>, when an IP STB is switched on in a random situation (including an abnormal situation), the IP STB composes multiple IGMP<!-- EPO <DP n="10"> --> Leave messages, each of which corresponds to a channel that the user is authorized to watch, according to the contents of the channel list stored in the IP STB and sends the IGMP Leave messages in turn. Through such a method the IP STB may initiatively leave the multicast group to which it belonged when malfunction occurred.</p><p id="p0049" num="0049">Then the IP STB composes an IGMP Report message based on the multicast IP address and the multicast port information of the default switch-on channel in its own channel list and sends the IGMP Report message and joins the multicast group of the default switch-on channel.</p><p id="p0050" num="0050">Then the IP STB may continue with follow-up operations including switching channel, switching to a non-BTV service or shutting down, according to user instructions.</p><p id="p0051" num="0051">It can be seen that the process shown in <figref idrefs="f0003">Figure 3</figref> goes through the channel list, and ensures that corresponding IGMP Leave messages of all channels which the user is authorized to watch will be sent in turn, so that the transmission of the multicast flow which continues after malfunction occurs to the IP STB could be ceased. Supposing a user is authorized to watch 100 multicast channels, the time an IP STB spends in sending an IGMP Leave message corresponding to one of the 100 channels can be less than a millisecond. With the capacity of DSLAM and network congestion in consideration, the IGMP Leave message interval can be set to be 1 millisecond so that all the IGMP Leave messages can be sent within 0.1 second after the IP STB is switched on, thus it takes very short time for the IP STB to stop the transmission of the multicast flow which continues after malfunction occurred to the STB.</p><p id="p0052" num="0052">It can be seen from the above that in the methods shown in <figref idrefs="f0001 f0002 f0003">Figures 1 to 3</figref>, an IP STB sends an IGMP Leave message initiatively to prevent simultaneous issuance of multicast flows. These methods are not covered by the claims and are presented as examples useful for understanding the invention.</p><p id="p0053" num="0053">In fact, the communication entities on the network side can also initiatively cease the transmission of the multicast flow which continues after malfunction occurred to the IP STB to prevent simultaneous issuance of multicast flows. The detailed processes are shown in <figref idrefs="f0004">Figure 4</figref> and <figref idrefs="f0005">Figure 5</figref>.</p><p id="p0054" num="0054"><figref idrefs="f0004">Figure 4</figref> is the IP STB operation flowchart of an embodiment of this invention. As shown in <figref idrefs="f0004">Figure 4</figref>, when an IP STB is switched on in a random situation (including an abnormal situation), the IP STB negotiates with a broadband access server through relevant protocols and the broadband access server allocates an IP address for the communication of the IP STB after a successful negotiation;<!-- EPO <DP n="11"> --> meanwhile, the broadband access server can also notify a DSLAM through a message or other means that the IP STB has successfully accessed the network.</p><p id="p0055" num="0055">Upon receiving the notification from the broadband access server, the DSLAM queries whether there is a multicast flow being transmitted to the IP STB currently, and, if there is a multicast flow being transmitted to the IP STB currently, the DSLAM ceases the transmission to the IP STB. And when the IP STB does not receive multicast flow from the DSLAM any more, the IP STB composes an IGMP Report message based on the contents of the channel list stored in the IP STB itself and sends the IGMP Report message to join the multicast group of the default switch-on channel.</p><p id="p0056" num="0056">Obviously, if the DSLAM determines there is no multicast flow being transmitted to the IP STB, the DSLAM may continue with other operations in the prior art. In this case, the IP STB can still composes and sends an IGMP Report message based on the contents of the channel list stored in the IP STB, and joins the multicast group of the default switch-on channel.</p><p id="p0057" num="0057"><figref idrefs="f0005">Figure 5</figref> is the IP STB operation flowchart of another embodiment of this invention. As shown in <figref idrefs="f0005">Figure 5</figref>, when an IP STB is switched on in a random situation (including an abnormal situation), the IP STB negotiates with a broadband access server through relevant protocols and the broadband access server allocates an IP address for the communication of the IP STB after a successful negotiation; then the IP STB composes an IGMP Report message based on the contents of the channel list stored in the IP STB and sends the IGMP Report message, applying to join the multicast group of the default switch-on channel.</p><p id="p0058" num="0058">Upon receiving the IGMP Report message from the IP STB, the DSLAM queries whether there is a multicast flow being transmitted to the IP STB currently, and, if there is a multicast flow being transmitted to the IP STB currently, the DSLAM ceases the transmission to the IP STB and may further refuse to allow the IP STB to join the multicast group of the default switch-on channel; otherwise the DSLAM allows the IP STB to join the multicast group of the default switch-on channel. And when the IP STB does not receive any more multicast flow from the DSLAM, the IP STB composes an IGMP Report message based on the contents of the channel list stored in the IP STB and sends the IGMP Report message to join the multicast group of the default switch-on channel.</p><p id="p0059" num="0059">It can be seen from <figref idrefs="f0004">Figure 4</figref> and <figref idrefs="f0005">Figure 5</figref> that when an IP STB is switched on after an abnormal shutdown, a DSLAM on the network side can initiatively cease the<!-- EPO <DP n="12"> --> transmission of the multicast flow which continues after malfunction occurred to the IP STB so that simultaneous issuance of two multicast flows is prevented.</p><p id="p0060" num="0060">To sum up, the method provided by the embodiments of the present invention prevents simultaneous issuance of two multicast flows in the prior art and thus eliminates unfavorable consequences of simultaneous issuance of two multicast flows, including picture quality loss and even abnormal restart of an IP STB, therefore the user experiences will be improved and user satisfaction will be distinctively increased.</p></description><claims mxw-id="PCLM56983274" lang="DE" load-source="patent-office"><!-- EPO <DP n="17"> --><claim id="c-de-01-0001" num="0001"><claim-text>Verfahren zum Vermeiden einer gleichzeitigen Ausgabe von zwei Gruppenrufströmen, das Folgendes umfasst:
<claim-text>nach Empfangen einer Meldung von einem Breitbandzugangs-Server, Abfragen durch einen Zugangsmultiplexer einer digitalen Teilnehmerleitung, DSLAM, ob es einen Gruppenrufstrom gibt, der derzeit zu einer Internetprotokoll-Set-Top-Box, IP-STB, übertragen wird;</claim-text>
<claim-text>wenn es einen Gruppenrufstrom gibt, der derzeit zu einer IP-STB übertragen wird, Einstellen der Übertragung des Gruppenrufstroms zu der IP-STB durch den DSLAM; wobei der DSLAM durch den Breitbandzugangs-Server durch eine Nachricht oder andere Mittel benachrichtigt wird, dass die IP-STB erfolgreich Zugang zu einem Netz erhalten hat, nachdem der Breitbandzugangs-Server eine IP-Adresse für die Kommunikation der IP-STB zuweist;</claim-text>
<claim-text>die IP-Adresse nach einer erfolgreichen Verhandlung zwischen der IP-STB mit dem Breitbandzugangs-Server durch relevante Protokolle zugewiesen wird; und</claim-text>
<claim-text>die Verhandlung ausgeführt wird, nachdem die IP-STB eingeschaltet ist.</claim-text></claim-text></claim><claim id="c-de-01-0002" num="0002"><claim-text>Verfahren nach Anspruch 1, wobei nach dem Einstellen der Übertragung des Gruppenrufstroms zu der IP-STB das Verfahren ferner Folgendes umfasst:
<claim-text>dann, wenn die IP-STB keinen Gruppenrufstrom von dem DSLAM mehr empfängt,</claim-text>
<claim-text>Empfangen einer Internetgruppenmanagementprotokoll-Berichtsnachricht, IGMP-Berichtsnachricht, durch den DSLAM, die von der IP-STB basierend auf Inhalten einer Kanalliste, die in der IP-STB gespeichert ist, zusammengestellt und gesendet wird, und wobei die IGMP-Berichtsnachricht dazu dient, dass die IP-STB einer Gruppenrufgruppe eines Standard-Einschaltkanals beitritt.</claim-text></claim-text></claim><claim id="c-de-01-0003" num="0003"><claim-text>Verfahren nach Anspruch 1 oder 2, wobei dann, wenn es keinen Gruppenrufstrom gibt, der zu der IP-STB übertragen wird, das Verfahren ferner Folgendes umfasst:
<claim-text>Empfangen einer IGMP-Berichtsnachricht durch den DSLAM, die durch die IP-STB basierend auf Inhalten einer Kanalliste, die in der IP-STB gespeichert ist,</claim-text>
<claim-text>zusammengestellt und gesendet wird, und Hinzufügen der IP-STB zu einer Gruppenrufgruppe eines Standard-Einschaltkanals durch den DSLAM.</claim-text></claim-text></claim><claim id="c-de-01-0004" num="0004"><claim-text>Verfahren zum Vermeiden einer gleichzeitigen Ausgabe von zwei Gruppenrufströmen, das Folgendes umfasst:<!-- EPO <DP n="18"> -->
<claim-text>nach Empfangen einer Internetgruppenmanagementprotokoll-Berichtsnachricht, IGMP-Berichtsnachricht, von einer Internetprotokoll-Set-Top-Box, IP-STB, Abfragen durch einen Zugangsmultiplexer für digitale Teilnehmerleitung, DSLAM, ob es einen Gruppenrufstrom gibt, der derzeit zu der IP-STB übertragen wird;</claim-text>
<claim-text>wenn es einen Gruppenrufstrom gibt, der derzeit zu der IP-STB übertragen wird, Einstellen der Übertragung des Gruppenrufstroms zu der IP-STB durch den DSLAM; wobei:
<claim-text>die IGMP-Berichtsnachricht durch die IP-STB basierend auf Inhalten einer Kanalliste, die in der IP-STB gespeichert ist, zusammengestellt wird und durch die IP-STB gesendet wird, die beantragt, einer Gruppenrufgruppe eines Standard-Einschaltkanals beizutreten,</claim-text>
<claim-text>wobei die IGMP-Berichtsnachricht von der IP-STB zusammengestellt wird, nachdem der Breitbandzugangs-Server eine IP-Adresse für die Kommunikation der IP-STB zuweist;</claim-text>
<claim-text>die IP-Adresse nach einer erfolgreichen Verhandlung zwischen der IP-STB mit dem Breitbandzugangs-Server durch relevante Protokolle zugewiesen wird; und</claim-text>
<claim-text>die Verhandlung ausgeführt wird, nachdem die IP-STB eingeschaltet ist.</claim-text></claim-text></claim-text></claim><claim id="c-de-01-0005" num="0005"><claim-text>Verfahren nach Anspruch 4, wobei dann, wenn es keinen Gruppenrufstrom gibt, der zu der IP-STB übertragen wird, das Verfahren ferner Folgendes umfasst: Erlauben durch den DSLAM, dass die IP-STB der Gruppenrufgruppe eines Standardeinschaltkanals beitritt.</claim-text></claim><claim id="c-de-01-0006" num="0006"><claim-text>Verfahren nach Anspruch 4 oder 5, wobei, nachdem der DSLAM die Übertragung des Gruppenrufstroms zu der IP-STB einstellt, das Verfahren ferner Folgendes umfasst:
<claim-text>dann, wenn die IP-STB keinen Gruppenrufstrom von dem DSLAM mehr empfängt, Empfangen durch den DSLAM einer IGMP-Berichtsnachricht, die von der IP-STB basierend auf Inhalten einer Kanalliste, die in der IP-STB gespeichert ist, zusammengestellt und gesendet wird, und wobei die IGMP-Berichtsnachricht dazu dient, dass die IP-STB einer Gruppenrufgruppe eines Standard-Einschaltkanals beitritt.</claim-text></claim-text></claim><claim id="c-de-01-0007" num="0007"><claim-text>Zugangsmultiplexer für digitale Teilnehmerleitung, DSLAM, der konfiguriert ist,<br/>
<!-- EPO <DP n="19"> -->abzufragen, ob es einen Gruppenrufstrom gibt, der derzeit zu einer Intemetprotokoll-Set-Top-Box, IP-STB, übertragen wird, nach Empfangen einer Meldung von einem Breitbandzugangs-Server; und<br/>
die Übertragung des Gruppenrufstroms zu der IP-STB einzustellen, wenn es einen Gruppenrufstrom gibt, der derzeit zu der IP-STB übertragen wird;<br/>
wobei der DSLAM ferner konfiguriert ist, durch den Breitbandzugangs-Server durch eine Nachricht oder andere Mittel benachrichtigt zu werden, dass die IP-STB erfolgreich Zugang zu einem Netz erhalten hat, nachdem der Breitbandzugangs-Server eine IP-Adresse für die Kommunikation der IP-STB zuweist; und<br/>
die IP-Adresse nach einer erfolgreichen Verhandlung zwischen der IP-STB mit dem Breitbandzugangs-Server durch relevante Protokolle zugewiesen wird; und<br/>
die Verhandlung ausgeführt wird, nachdem die IP-STB eingeschaltet ist.</claim-text></claim><claim id="c-de-01-0008" num="0008"><claim-text>DSLAM nach Anspruch 7, wobei der DSLAM ferner konfiguriert ist,<br/>
eine Internetgruppenmanagementprotokoll-Berichtsnachricht, IGMP-Berichtsnachricht, zu empfangen, die von der IP-STB basierend auf Inhalten einer Kanalliste, die in der IP-STB gespeichert ist, zusammengestellt und gesendet wird, wenn die IP-STB keinen Gruppenrufstrom von dem DSLAM mehr empfängt;<br/>
wobei die IGMP-Berichtsnachricht dazu dient, dass die IP-STB einer Gruppenrufgruppe eines Standard-Einschaltkanals beitritt.</claim-text></claim><claim id="c-de-01-0009" num="0009"><claim-text>DSLAM nach Anspruch 7 oder 8, wobei der DSLAM ferner konfiguriert ist:
<claim-text>eine IGMP-Berichtsnachricht zu empfangen, die von der IP-STB basierend auf Inhalten einer Kanalliste, die in der IP-STB gespeichert ist, zusammengestellt und gesendet wird, wenn es keinen Gruppenrufstrom gibt, der zu der IP-STB übertragen wird; und</claim-text>
<claim-text>die IP-STB zu einer Gruppenrufgruppe eines Standard-Einschaltkanals hinzuzufügen.</claim-text></claim-text></claim><claim id="c-de-01-0010" num="0010"><claim-text>Zugangsmultiplexer für digitale Teilnehmerleitung, DSLAM, der konfiguriert ist:
<claim-text>nach dem Empfangen einer Internetgruppenmanagementprotokoll-Berichtsnachricht, IGMP-Berichtsnachricht, von einer Internetprotokoll-Set-Top-Box, IP-STB, abzufragen, ob es einen Gruppenrufstrom gibt, der derzeit zu der IP-STB übertragen wird; und</claim-text>
<claim-text>eine Übertragung des Gruppenrufstroms, der zu der IP-STB von dem DSLAM übertragen wird, einzustellen;<!-- EPO <DP n="20"> --></claim-text>
<claim-text>wobei:
<claim-text>die IGMP-Berichtsnachricht durch die IP-STB basierend auf Inhalten einer Kanalliste, die in der IP-STB gespeichert ist, zusammengestellt wird und durch die IP-STB gesendet wird, die beantragt, einer Gruppenrufgruppe eines Standard-Einschaltkanals beizutreten,</claim-text>
<claim-text>die IGMP-Berichtsnachricht von der IP-STB zusammengestellt wird, nachdem der Breitbandzugangs-Server eine IP-Adresse für die Kommunikation der IP-STB zuweist;</claim-text>
<claim-text>die IP-Adresse nach einer erfolgreichen Verhandlung zwischen der IP-STB mit dem Breitbandzugangs-Server durch relevante Protokolle zugewiesen wird; und</claim-text>
<claim-text>die Verhandlung ausgeführt wird, nachdem die IP-STB eingeschaltet ist.</claim-text></claim-text></claim-text></claim><claim id="c-de-01-0011" num="0011"><claim-text>DSLAM nach Anspruch 10, wobei der DSLAM ferner konfiguriert ist, der IP-STB zu erlauben, der Gruppenrufgruppe eines Standard-Einschaltkanals beizutreten, wenn es keinen Gruppenrufstrom gibt, der zu der IP-STB übertragen wird.</claim-text></claim><claim id="c-de-01-0012" num="0012"><claim-text>DSLAM nach Anspruch 10 oder 11, wobei der DSLAM ferner konfiguriert ist:
<claim-text>eine IGMP-Berichtsnachricht zu empfangen, die von der IP-STB basierend auf Inhalten einer Kanalliste, die in der IP-STB gespeichert ist, zusammengestellt und</claim-text>
<claim-text>gesendet wird, wenn die IP-STB keinen Gruppenrufstrom von dem DSLAM mehr empfängt;</claim-text>
<claim-text>wobei die IGMP-Berichtsnachricht dazu dient, dass die</claim-text>
<claim-text>IP-STB einer Gruppenrufgruppe eines Standard-Einschaltkanals beitritt.</claim-text></claim-text></claim></claims><claims mxw-id="PCLM56983275" lang="EN" load-source="patent-office"><!-- EPO <DP n="13"> --><claim id="c-en-01-0001" num="0001"><claim-text>A method for preventing simultaneous issuance of two multicast flows,<br/>
comprising:
<claim-text>upon receiving a notification from a broadband access server , querying, by a digital subscriber line access multiplexer, DSLAM, whether there is a multicast flow being transmitted to an internet protocol set-top box, IP STB, currently;</claim-text>
<claim-text>if there is a multicast flow being transmitted to the IP STB currently, ceasing, by the DSLAM, the transmission of the multicast flow to the IP STB;</claim-text>
<claim-text>wherein the DSLAM is notified by the broadband access server through a message or other means that the IP STB has successfully accessed a network after the broadband access server allocates an IP address for the communication of the IP STB;</claim-text>
<claim-text>the IP address is allocated after a successful negotiation between the IP STB with the broadband access server through relevant protocols; and</claim-text>
<claim-text>the negotiation is performed upon the IP STB being switched on.</claim-text></claim-text></claim><claim id="c-en-01-0002" num="0002"><claim-text>The method of claim 1, wherein after ceasing the transmission of the<br/>
multicast flow to the IP STB, the method further comprises:
<claim-text>when the IP STB does not receive multicast flow from the DSLAM anymore,</claim-text>
<claim-text>receving, by the DSLAM, an internet group management protocol, IGMP, Report message composed and sent by the IP STB based on contents of a channel list stored in the IP STB, and the IGMP Report message is for the IP STB to join a multicast group of a default switch-on channel.</claim-text></claim-text></claim><claim id="c-en-01-0003" num="0003"><claim-text>The method of claim 1 or 2, wherein if there is no multicast flow being transmitted to the IP STB, the method further comprises:
<claim-text>receiving, by the DSLAM, an IGMP Report message composed and sent by</claim-text>
<claim-text>the IP STB based on contents of a channel list stored in the IP STB, and adding, by the DSLAM, the IP STB to a multicast group of a default switch on channel.</claim-text></claim-text></claim><claim id="c-en-01-0004" num="0004"><claim-text>A method for preventing simultaneous issuance of two multicast flows, comprising:
<claim-text>upon receiving an internet group management protocol, IGMP,<!-- EPO <DP n="14"> --></claim-text>
<claim-text>Report message from an internet protocol set-top box, IP STB, querying, by a digital subscriber line access multiplexer, DSLAM, whether there is a multicast flow being transmitted to the IP STB currently;</claim-text>
<claim-text>if there is a multicast flow being transmitted to the IP STB currently, the DSLAM ceasing a transmission of the multicast flow to the IP STB by the DSLAM;</claim-text>
<claim-text>wherein:
<claim-text>the IGMP Report message is composed by the IP STB based on contents of a channel list stored in the IP STB, and is sent by the IP STB, applying to join a multicast group of a default switch-on channel,</claim-text>
<claim-text>the IGMP Report message is composed by the IP STB after the broadband access server allocates an IP address for the communication of the IP STB;</claim-text>
<claim-text>the IP address is allocated after a successful negotiation between the IP STB with the broadband access server through relevant protocols; and</claim-text>
<claim-text>the negotiation is performed upon the IP STB being switched on.</claim-text></claim-text></claim-text></claim><claim id="c-en-01-0005" num="0005"><claim-text>The method of claim 4, wherein if the there is no multicast flow being transmitted to the IP STB, the method further comprises: allowing, by the DSLAM, the IP STB to join the multicast group of a default switch-on channel.</claim-text></claim><claim id="c-en-01-0006" num="0006"><claim-text>The method of claim 4 or 5, wherein after the DSLAM ceasing the<br/>
transmission of to the IP STB, the method further comprises:
<claim-text>when the IP STB does not receive multicast flow from the DSLAM anymore, receiving, by the DSLAM, an IGMP Report message composed and sent by the IP STB based on contents of a channel list stored in the IP STB, and the IGMP Report message is for the IP STB to a multicast group of a default switch-on channel.</claim-text></claim-text></claim><claim id="c-en-01-0007" num="0007"><claim-text>A digital subscriber line access multiplexer, DSLAM, configured to:
<claim-text>query whether there is a multicast flow being transmitted to an internet protocol set-top box, IP STB, currently, upon receiving a notification from a broadband access server; and</claim-text>
<claim-text>cease the transmission of the multicast flow to the IP STB, if there is a multicast flow being transmitted to the IP STB currently;</claim-text>
<claim-text>wherein the DSLAM is further configured to be notified by the broadband access server through a message or other means that the IP STB has successfully accessed a network after the<!-- EPO <DP n="15"> --> broadband access server allocates an IP address for the communication of the IP STB; and</claim-text>
<claim-text>the IP address is allocated after a successful negotiation between the IP STB with the broadband access server through relevant protocols; and</claim-text>
<claim-text>the negotiation is performed upon the IP STB being switched on.</claim-text></claim-text></claim><claim id="c-en-01-0008" num="0008"><claim-text>The DSLAM according to claim 7, wherein the DSLAM is further configured to:
<claim-text>receive an internet group management protocol, IGMP, Report message composed and sent by the IP STB based on contents of a channel list stored in the IP STB, when the IP STB does not receive multicast flow from the DSLAM anymore;</claim-text>
<claim-text>wherein the IGMP Report message is for the IP STB to join a multicast group of a default switch-on channel.</claim-text></claim-text></claim><claim id="c-en-01-0009" num="0009"><claim-text>The DSLAM according to claim 7 or 8, wherein the DSLAM is further configured to:
<claim-text>receive an IGMP Report message composed and sent by the IP STB based on contents of a channel list stored in the IP STB if there is no multicast flow being transmitted to the IP STB; and</claim-text>
<claim-text>add the IP STB to a multicast group of a default switch on channel.</claim-text></claim-text></claim><claim id="c-en-01-0010" num="0010"><claim-text>A digital subscriber line access multiplexer, DSLAM, configured to:
<claim-text>query whether there is a multicast flow being transmitted to the IP STB currently, upon receiving an internet group management protocol, IGMP, Report message from an internet protocol set-top box, IP STB; and</claim-text>
<claim-text>cease a transmission of the multicast flow being transmitted to the IP STB by the DSLAM;</claim-text>
<claim-text>wherein:
<claim-text>the IGMP Report message is composed by the IP STB based on contents of a channel list stored in the IP STB, and is sent by the IP STB, applying to join a multicast group of a default switch-on channel,</claim-text>
<claim-text>the IGMP Report message is composed by the IP STB after the broadband access server allocates an IP address for the communication of the IP STB;<!-- EPO <DP n="16"> --></claim-text>
<claim-text>the IP address is allocated after a successful negotiation between the IP STB with the broadband access server through relevant protocols; and</claim-text>
<claim-text>the negotiation is performed upon the IP STB being switched on.</claim-text></claim-text></claim-text></claim><claim id="c-en-01-0011" num="0011"><claim-text>The DSLAM according to claim 10, wherein the DSLAM is further configured to: allow the IP STB to join the multicast group of a default switch-on channel if there is no multicast flow being transmitted to the IP STB.</claim-text></claim><claim id="c-en-01-0012" num="0012"><claim-text>The DSLAM according to claim 10 or 11, wherein the DSLAM is further configured to:
<claim-text>receive an IGMP Report message composed and sent by the IP STB based on contents of a channel list stored in the IP STB when the IP STB does not receive multicast flow from the DSLAM anymore;</claim-text>
<claim-text>wherein the IGMP Report message is for the IP STB to a multicast group of a default switch-on channel.</claim-text></claim-text></claim></claims><claims mxw-id="PCLM56983276" lang="FR" load-source="patent-office"><!-- EPO <DP n="21"> --><claim id="c-fr-01-0001" num="0001"><claim-text>Procédé pour empêcher la délivrance simultanée de deux flux de multidiffusion, le procédé comprenant les étapes consistant à :
<claim-text>dès réception d'une notification en provenance d'un serveur d'accès à large bande, rechercher, par un multiplexeur d'accès à la ligne d'abonné numérique, dit DSLAM,</claim-text>
<claim-text>si un flux de multidiffusion est en cours de transmission vers un boîtier externe de télévision à protocole Internet, dit IP STB ;</claim-text>
<claim-text>si un flux de multidiffusion est en cours de transmission vers l'IP STB, interrompre, par le DSLAM, la transmission du flux de multidiffusion vers l'IP STB ;</claim-text>
<claim-text>lequel DSLAM est notifié par le serveur d'accès à large bande par le biais d'un message ou d'un autre moyen que l'IP STB a accédé avec succès à un réseau après que le serveur d'accès à large bande a attribué une adresse IP pour les communications de l'IP STB ;</claim-text>
<claim-text>laquelle adresse IP est attribuée après une négociation réussie entre l'IP STB et le serveur d'accès à large bande par le biais de protocoles adaptés ; et</claim-text>
<claim-text>laquelle négociation s'effectue lors de la mise sous tension de l'IP STB.</claim-text></claim-text></claim><claim id="c-fr-01-0002" num="0002"><claim-text>Procédé selon la revendication 1, comprenant en outre, suite à l'étape consistant à interrompre la transmission du flux de multidiffusion vers l'IP STB, l'étape consistant à :
<claim-text>si l'IP STB ne reçoit plus de flux de multidiffusion en provenance du DSLAM, recevoir, par le DSLAM, un message de compte rendu de protocole de gestion de groupes Internet, dit IGMP, composé et envoyé par l'IP STB sur la base d'un contenu d'une liste de canaux enregistrée dans l'IP STB, lequel message de compte rendu IGMP indique à l'IP STB de rejoindre un groupe de multidiffusion d'un canal par défaut à la mise sous tension.</claim-text></claim-text></claim><claim id="c-fr-01-0003" num="0003"><claim-text>Procédé selon la revendication 1 ou 2, comprenant en outre, si un flux de multidiffusion n'est pas en cours de transmission vers l'IP STB, les étapes consistant à :
<claim-text>recevoir, par le DSLAM, un message de compte rendu IGMP composé et envoyé par l'IP STB sur la base d'un contenu d'une liste de canaux enregistrée dans l'IP STB, et</claim-text>
<claim-text>ajouter, par le DSLAM, l'IP STB à un groupe de multidiffusion d'un canal par défaut à la mise sous tension.</claim-text><!-- EPO <DP n="22"> --></claim-text></claim><claim id="c-fr-01-0004" num="0004"><claim-text>Procédé pour empêcher le délivrance simultanée de deux flux de multidiffusion, le procédé comprenant les étapes consistant à :
<claim-text>dès réception d'un message de compte rendu de protocole de gestion de groupes Internet, dit IGMP, en provenance d'un boîtier externe de télévision à protocole Internet, dit IP STB, rechercher, par un multiplexeur d'accès à la ligne d'abonné numérique, dit DSLAM, si un flux de multidiffusion est en cours de transmission vers l'IP STB ;</claim-text>
<claim-text>si un flux de multidiffusion est en cours de transmission vers l'IP STB, interrompre, par le DSLAM, une transmission du flux de multidiffusion par le DSLAM vers l'IP STB ;</claim-text>
<claim-text>lequel message de compte rendu IGMP est composé par l'IP STB sur la base d'un contenu d'une liste de canaux enregistrée dans l'IP STB, et est envoyé par l'IP STB, pour demander de rejoindre un groupe de multidiffusion d'un canal par défaut à la mise sous tension,</claim-text>
<claim-text>lequel message de compte rendu IGMP est composé par l'IP STB après que le serveur d'accès à large bande a attribué une adresse IP pour les communications de l'IP STB ;</claim-text>
<claim-text>laquelle adresse IP est attribuée après une négociation réussie entre l'IP STB et le serveur d'accès à large bande par le biais de protocoles adaptés ; et</claim-text>
<claim-text>laquelle négociation s'effectue lors de la mise sous tension de l'IP STB.</claim-text></claim-text></claim><claim id="c-fr-01-0005" num="0005"><claim-text>Procédé selon la revendication 4, comprenant en outre, si un flux de multidiffusion n'est pas en cours de transmission vers l'IP STB, l'étape consistant à : autoriser, par le DSLAM, l'IP STB à rejoindre le groupe de multidiffusion d'un canal par défaut à la mise sous tension.</claim-text></claim><claim id="c-fr-01-0006" num="0006"><claim-text>Procédé selon la revendication 4 ou 5, comprenant en outre, suite à l'étape consistant à interrompre, par le DSLAM, la transmission du flux de multidiffusion vers l'IP STB, l'étape consistant à :
<claim-text>si l'IP STB ne reçoit plus de flux de multidiffusion en provenance du DSLAM, recevoir, par le DSLAM, un message de compte rendu IGMP composé et envoyé par l'IP STB sur la base d'un contenu d'une liste de canaux enregistrée dans l'IP STB,</claim-text>
<claim-text>lequel message de compte rendu IGMP indique à l'IP STB de rejoindre un groupe de multidiffusion d'un canal par défaut à la mise sous tension.</claim-text></claim-text></claim><claim id="c-fr-01-0007" num="0007"><claim-text>Multiplexeur d'accès à la ligne d'abonné numérique, dit DSLAM, conçu pour :<!-- EPO <DP n="23"> -->
<claim-text>rechercher si un flux de multidiffusion est en cours de transmission vers un boîtier externe de télévision à protocole Internet, dit IP STB, dès réception d'une notification en provenance d'un serveur d'accès à large bande ; et</claim-text>
<claim-text>interrompre la transmission du flux de multidiffusion vers l'IP STB, si un flux de multidiffusion est en cours de transmission vers l'IP STB ;</claim-text>
<claim-text>lequel DSLAM est conçu en outre pour être notifié par le serveur d'accès à large bande par le biais d'un message ou d'un autre moyen que l'IP STB a accédé avec succès à un réseau après que le serveur d'accès à large bande a attribué une adresse IP pour les communications de l'IP STB ; et</claim-text>
<claim-text>laquelle adresse IP est attribuée après une négociation avec succès entre l'IP STB et le serveur d'accès à large bande par le biais de protocoles adaptés ; et</claim-text>
<claim-text>laquelle négociation s'effectue lors de la mise sous tension de l'IP STB.</claim-text></claim-text></claim><claim id="c-fr-01-0008" num="0008"><claim-text>DSLAM selon la revendication 7, conçu en outre pour :
<claim-text>recevoir un message de compte rendu de protocole de gestion de groupes Internet, dit IGMP, composé et envoyé par l'IP STB sur la base d'un contenu d'une liste de canaux enregistrée dans l'IP STB, si l'IP STB ne reçoit plus de flux de multidiffusion en provenance du DSLAM,</claim-text>
<claim-text>lequel message de compte rendu IGMP indique à l'IP STB de rejoindre un groupe de multidiffusion d'un canal par défaut à la mise sous tension.</claim-text></claim-text></claim><claim id="c-fr-01-0009" num="0009"><claim-text>DSLAM selon la revendication 7 ou 8, conçu en outre pour :
<claim-text>recevoir un message de compte rendu IGMP composé et envoyé par l'IP STB sur la base d'un contenu d'une liste de canaux enregistrée dans l'IP STB, si un flux de multidiffusion n'est pas en cours de transmission vers l'IP STB ; et</claim-text>
<claim-text>ajouter l'IP STB à un groupe de multidiffusion d'un canal par défaut à la mise sous tension.</claim-text></claim-text></claim><claim id="c-fr-01-0010" num="0010"><claim-text>Multiplexeur d'accès à la ligne d'abonné numérique, dit DSLAM, conçu pour :
<claim-text>rechercher si un flux de multidiffusion est en cours de transmission vers l'IP STB, dès réception d'un message de compte rendu de protocole de gestion de groupes Internet, dit IGMP, en provenance d'un boîtier externe de télévision à protocole Internet, dit IP STB ; et</claim-text>
<claim-text>interrompre une transmission du flux de multidiffusion en cours de transmission vers l'IP STB par le DSLAM ;</claim-text>
<claim-text>lequel message de compte rendu IGMP est composé par l'IP STB sur la base d'un<!-- EPO <DP n="24"> --> contenu d'une liste de canaux enregistrée dans l'IP STB, et est envoyé par l'IP STB, pour demander de rejoindre un groupe de multidiffusion d'un canal par défaut à la mise sous tension,</claim-text>
<claim-text>lequel message de compte rendu IGMP est composé par l'IP STB après que le serveur d'accès à large bande a attribué une adresse IP pour les communications de l'IP STB ;</claim-text>
<claim-text>laquelle adresse IP est attribuée après une négociation réussie entre l'IP STB et le serveur d'accès à large bande par le biais de protocoles adaptés ; et</claim-text>
<claim-text>laquelle négociation s'effectue lors de la mise sous tension de l'IP STB.</claim-text></claim-text></claim><claim id="c-fr-01-0011" num="0011"><claim-text>DSLAM selon la revendication 10, conçu en outre pour: autoriser l'IP STB à rejoindre le groupe de multidiffusion d'un canal par défaut à la mise sous tension, si un flux de multidiffusion n'est pas en cours de transmission vers l'IP STB.</claim-text></claim><claim id="c-fr-01-0012" num="0012"><claim-text>DSLAM selon la revendication 10 ou 11, conçu en outre pour :
<claim-text>recevoir un message de compte rendu IGMP composé et envoyé par l'IP STB sur la base d'un contenu d'une liste de canaux enregistrée dans l'IP STB, si l'IP STB ne reçoit plus de flux de multidiffusion en provenance du DSLAM ;</claim-text>
<claim-text>lequel message de compte rendu IGMP indique à l'IP STB de rejoindre un groupe de multidiffusion d'un canal par défaut à la mise sous tension.</claim-text></claim-text></claim></claims><drawings mxw-id="PDW16671503" load-source="patent-office"><!-- EPO <DP n="25"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="111" he="124" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="26"> --><figure id="f0002" num="2"><img id="if0002" file="imgf0002.tif" wi="151" he="218" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="27"> --><figure id="f0003" num="3"><img id="if0003" file="imgf0003.tif" wi="151" he="112" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="28"> --><figure id="f0004" num="4"><img id="if0004" file="imgf0004.tif" wi="126" he="150" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="29"> --><figure id="f0005" num="5"><img id="if0005" file="imgf0005.tif" wi="151" he="109" img-content="drawing" img-format="tif"/></figure></drawings><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
