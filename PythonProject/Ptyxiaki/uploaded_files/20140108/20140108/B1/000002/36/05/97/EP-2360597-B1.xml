<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2360597-B1" country="EP" doc-number="2360597" kind="B1" date="20140108" family-id="35601272" file-reference-id="312912" date-produced="20180826" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146588545" ucid="EP-2360597-B1"><document-id><country>EP</country><doc-number>2360597</doc-number><kind>B1</kind><date>20140108</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-11165440-A" is-representative="NO"><document-id mxw-id="PAPP154850737" load-source="docdb" format="epo"><country>EP</country><doc-number>11165440</doc-number><kind>A</kind><date>20061124</date><lang>EN</lang></document-id><document-id mxw-id="PAPP239996235" load-source="docdb" format="original"><country>EP</country><doc-number>11165440.6</doc-number><date>20061124</date></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140553454" ucid="EP-06256039-A" linkage-type="3" load-source="docdb"><document-id format="epo"><country>EP</country><doc-number>06256039</doc-number><kind>A</kind><date>20061124</date></document-id></priority-claim><priority-claim mxw-id="PPC140551451" ucid="GB-0524099-A" load-source="docdb"><document-id format="epo"><country>GB</country><doc-number>0524099</doc-number><kind>A</kind><date>20051126</date></document-id></priority-claim></priority-claims><dates-of-public-availability><intention-to-grant-date><date>20130812</date></intention-to-grant-date></dates-of-public-availability><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1989325935" load-source="docdb">G06F   3/16        20060101ALI20110815BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1989325936" load-source="docdb">G06F  13/40        20060101AFI20110815BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1989647920" load-source="docdb">G10L  19/00        20060101A N20120713RMEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1777738394" load-source="docdb" scheme="CPC">H04B   7/2659      20130101 LI20170803BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1777738395" load-source="docdb" scheme="CPC">H04B   7/2653      20130101 LA20170803BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2090271098" load-source="docdb" scheme="CPC">H03M   1/66        20130101 LI20150226BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2090272176" load-source="docdb" scheme="CPC">H04L   5/14        20130101 LI20150226BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2090273297" load-source="docdb" scheme="CPC">H04M   1/0202      20130101 LI20150227BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2090274339" load-source="docdb" scheme="CPC">H03M   1/12        20130101 LI20150226BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2090275057" load-source="docdb" scheme="CPC">G10L  19/008       20130101 FI20150226BHEP        </classification-cpc><classification-cpc mxw-id="PCL2119717882" load-source="docdb" scheme="CPC">G06F   3/162       20130101 LI20140924BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132370268" lang="DE" load-source="patent-office">Audiogerät</invention-title><invention-title mxw-id="PT132370269" lang="EN" load-source="patent-office">Audio device</invention-title><invention-title mxw-id="PT132370270" lang="FR" load-source="patent-office">Dispositif audio</invention-title></technical-data><related-documents><relation type="division"><child-doc ucid="EP-11165440-A"><document-id load-source="patent-office" format="epo"><country>EP</country><doc-number>11165440</doc-number><kind>A</kind><date>20061124</date></document-id></child-doc><parent-doc ucid="EP-06256039.6"><document-id load-source="patent-office" format="epo"><country>EP</country><doc-number>06256039.6</doc-number><date>20061124</date></document-id></parent-doc></relation></related-documents><parties><applicants><applicant mxw-id="PPAR919529035" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>WOLFSON MICROELECTRONICS PLC</last-name><address><country>GB</country></address></addressbook></applicant><applicant mxw-id="PPAR919512906" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>WOLFSON MICROELECTRONICS PLC</last-name></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR919516254" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>SINAI DAVID</last-name><address><country>IL</country></address></addressbook></inventor><inventor mxw-id="PPAR919504276" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>SINAI, DAVID</last-name></addressbook></inventor><inventor mxw-id="PPAR919023605" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>SINAI, DAVID</last-name><address><street>2nd Histradrut St.</street><city>49540 Petah-Tiqwa</city><country>IL</country></address></addressbook></inventor></inventors><assignees><assignee mxw-id="PPAR919023607" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Wolfson Microelectronics plc</last-name><iid>101301942</iid><address><street>26 Westfield Road</street><city>Edinburgh EH11 2QB</city><country>GB</country></address></addressbook></assignee></assignees><agents><agent mxw-id="PPAR919023606" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Kennington, Eric Alasdair</last-name><iid>101114599</iid><address><street>Scott &amp; York Intellectual Property Ltd 45 Grosvenor Road</street><city>GB-St Albans, Hertfordshire AL1 3AW</city><country>GB</country></address></addressbook></agent></agents></parties><international-convention-data><designated-states><ep-contracting-states><country mxw-id="DS549803728" load-source="docdb">AT</country><country mxw-id="DS549881258" load-source="docdb">BE</country><country mxw-id="DS549877110" load-source="docdb">BG</country><country mxw-id="DS549871406" load-source="docdb">CH</country><country mxw-id="DS549924495" load-source="docdb">CY</country><country mxw-id="DS549803729" load-source="docdb">CZ</country><country mxw-id="DS549894048" load-source="docdb">DE</country><country mxw-id="DS549881259" load-source="docdb">DK</country><country mxw-id="DS549924496" load-source="docdb">EE</country><country mxw-id="DS549787188" load-source="docdb">ES</country><country mxw-id="DS549877111" load-source="docdb">FI</country><country mxw-id="DS549877112" load-source="docdb">FR</country><country mxw-id="DS549894053" load-source="docdb">GB</country><country mxw-id="DS549881260" load-source="docdb">GR</country><country mxw-id="DS549924497" load-source="docdb">HU</country><country mxw-id="DS549871407" load-source="docdb">IE</country><country mxw-id="DS549881261" load-source="docdb">IS</country><country mxw-id="DS549877113" load-source="docdb">IT</country><country mxw-id="DS549924498" load-source="docdb">LI</country><country mxw-id="DS549894054" load-source="docdb">LT</country><country mxw-id="DS549803730" load-source="docdb">LU</country><country mxw-id="DS549894055" load-source="docdb">LV</country><country mxw-id="DS549894056" load-source="docdb">MC</country><country mxw-id="DS549787201" load-source="docdb">NL</country><country mxw-id="DS549787202" load-source="docdb">PL</country><country mxw-id="DS549877118" load-source="docdb">PT</country><country mxw-id="DS549787203" load-source="docdb">RO</country><country mxw-id="DS549787204" load-source="docdb">SE</country><country mxw-id="DS549871408" load-source="docdb">SI</country><country mxw-id="DS549786632" load-source="docdb">SK</country><country mxw-id="DS549924499" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data></bibliographic-data><description mxw-id="PDES63960965" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001"><u>Field of the Invention</u></heading><p id="p0001" num="0001">The present invention relates to digital apparatus, methods and signalling for enabling communications between a number of inter-connected circuits, and is especially though not exclusively related to digital audio communications in a digital audio convergence device such as a Smartphone.</p><heading id="h0002"><u>Background of the Invention</u></heading><p id="p0002" num="0002">A bus is a shared communications path comprising a number of conductors connected to a number of devices, chips or circuits for example chips on an integrated circuit board. By using a contention protocol, a sub-set of the circuits can use the bus for their own communications purposes for a period of time. A bus therefore reduces the number of conductors needed to provide communications between a number of inter-connected circuits which is highly valued in IC and other small scale technologies, resulting in reduced size and cost. However the need for sharing the bus can preclude certain modes of communication and hence limit the range of possible system functionality.</p><p id="p0003" num="0003">Audio convergence devices are increasingly popular, and generally allow the execution of different types of audio applications, often simultaneously, on the same device. An example of an audio convergence device is a Smartphone, which provides both telephony-based audio applications such as voice calls and device-centric audio applications such as MP3 music playback. The Smartphone can be thought of as a combination of a mobile or cellular telephone and a PDA or palmtop computer. Other examples of audio convergence devices include laptop computers with telephony capability; or indeed any wireless telephony device for example a mobile phone also having device centric audio applications such as MP3 playback.</p><p id="p0004" num="0004">The audio processing required of the two types of audio signals is very different, for example with telephony applications such as a duplex phone call, real-time signal processing is required and the application is very sensitive to latency. However the fidelity of the sound or voice audio data is relatively low, typically a single or mono<!-- EPO <DP n="2"> --> 8kHz channel. On the other hand, whilst playing back stored music such as MP3 tracks does not require the same level of real-time processing ability, the quality of the audio data is often much higher, for example two or stereo channels of 44.1 or 48kHz per channel.</p><p id="p0005" num="0005">These different requirements have been handled by largely separating the two processing chains and utilising separate processors for each task, a specialised (communications) DSP core or chip for the telephony and a general purpose (applications) CPU for the device centric audio applications. Both are complex systems in their own right, and operate with largely different interfaces and protocols, so are designed largely independently, even if integrated on a common substrate. This division of hardware and processing is described in more detail in "Implementing Hi-Fi Cellular Convergence Devices Using Intel Xscale Technology", Scott Paden, Dudy Sinai, WINHEC 2004.</p><p id="p0006" num="0006">A problem with this approach however is that because of cost, size and power constraints, the two sides (communications and applications) of the device must share the audio transducer resources, for example external speaker and headphones. The above reference considers the Intel PCA chip architecture for mobile devices and analyses the pros and cons of using two codecs, each dedicated to a respective processor (communications processor or applications processor), or a single codec associated with one or other of the processors but controlled by it to provide audio transducer services for both processors. A further option is to use a "dual" codec which provides codec functionality for both processors. An example of a dual audio codec chip or IC is the Wolfson Microelectronics WM9713 Dual Codec (AC'97 Audio + PCM Voice). This has an AC'97 interface and a PCM interface. An audio system for a mobile telephone, using the WM9713 audio codec connected by a PCM bus to a communications processor, an Intel PXA27x processor, and a Bluetooth (trademark) module, and also connected by an AC-Link to the Intel PXA27x processor, is discussed in <nplcit id="ncit0001" npl-type="s"><text>Intel PXA27x Processor Reference Platform User's Guide, Version 1.4, September 2004</text></nplcit>.</p><p id="p0007" num="0007"><patcit id="pcit0001" dnum="US20030067402A"><text>US2003/0067402</text></patcit> shows an audio codec that complies with the AC '97 specification, which is intended to be controlled by an audio codec controller over an AC-Link. The audio codec and the audio controller are provided on an audio card in a notebook<!-- EPO <DP n="3"> --> computer. The audio codec may interface with a docking station for the computer. The audio codec has a digital interface block for interfacing with the AC-Link and a digital I/O interface block for interfacing with input and output devices through various input and output pins. An output mixer can receive inputs from an analog input mixer via an ADC, from an input channel of the AC-Link, and from several input pins of the digital I/O interface block, and may provide an output to the analog input mixer or to an analog line out via a DAC, to an audio capture of the AC-Link, or to several output pins of the digital I/O interface block.</p><p id="p0008" num="0008">Whether the audio codec requirement is implemented as separate circuits or integrated together, the separate processors need to communicate with each other and with the codec or codecs. However this makes further demands on the shared audio data bus which can further limit system functionality.</p><heading id="h0003"><u>Summary of the Invention</u></heading><p id="p0009" num="0009">As set out in claim 1, an aspect of the present invention provides a cellular mobile telephone comprising: a communications processor for processing a telephony call; an applications processor for processing digital audio signals; a wireless codec for wirelessly communicating audio data with a wireless peripheral device; an audio codec for converting digital audio signals to analogue audio signals and for converting analogue audio signals to digital audio signals, the audio codec comprising first and second digital audio bus interfaces for coupling to respective bidirectional digital audio buses or bus sections, and digital-to-analogue conversion means for converting digital audio signals received through the first and second digital audio bus interfaces to analogue audio signals, for output to an audio transducer; a first bidirectional digital audio bus coupling the first interface of the audio codec and the applications processor; and a second bidirectional digital audio bus, or a first section of a second bidirectional digital audio bus, coupling the second interface of the audio codec and one of the communications processor and the wireless codec, characterised in that: (a) the audio codec comprises a third digital audio bus interface for coupling to a respective bidirectional digital audio bus or bus section; (b) the audio codec comprises adding means for adding together digital audio signals received through respective ones of said digital audio bus interfaces to form a combined digital audio signal; (c) the audio codec comprises means to route the combined signal to one of the first to third digital<!-- EPO <DP n="4"> --> audio bus interfaces of the audio codec for transmission on a respective digital audio bus or bus section; and (d) the cellular mobile telephone comprises a third bidirectional digital audio bus, or a second section of the second bidirectional digital audio bus, separable from the first section of the second bidirectional digital audio bus, coupling the third interface of the audio codec and the other of the communications processor and the wireless codec.</p><p id="p0010" num="0010">As set out in claim 5, another aspect of the invention provides a method of operating a cellular mobile telephone as set out above, the method comprising: transmitting a first digital audio signal over one of the said digital audio buses or bus sections through a respective one of the first to third digital audio bus interfaces to the adding means of the audio codec; transmitting a second digital audio signal over another of the said digital audio buses or bus sections through a respective one of the first to third digital audio bus interfaces to the adding means of the audio codec; adding the first and second digital audio signals to form a combined digital audio signal; and transmitting the combined digital audio signal from the audio codec on one of the digital audio buses or bus sections through a respective one of the first to third digital audio bus interfaces of the audio codec.</p><p id="p0011" num="0011">Optional features are set out in the remaining claims.</p><p id="p0012" num="0012">Embodiments of the present invention may be used with a bus architecture which allows simultaneous communications sessions such as audio data transfers between circuits interconnected by the shared bus. The bus includes a pass device or circuit which in one mode divides the bus into two or more sections such that circuits connected to one of the sections can communicate without interference from circuits connected to the other section. The pass device in another mode allows communication across it such that the bus is effectively not sectioned.</p><p id="p0013" num="0013">In an embodiment a resistor divides a PCM bus into two sections for some applications, such that a communications processor and an audio codec can communicate on one section whilst simultaneously allowing an applications processor and a wireless codec to communicate on the other section. In another application the resistor allows communication between the communications processor and the wireless codec, "across" the resistor or pass device.<!-- EPO <DP n="5"> --></p><p id="p0014" num="0014">By providing a digital audio bus architecture with unitary and divided or dual modes of operation the embodiment reduces the number of buses required and therefore allows further miniaturisation of an audio convergence device supporting two or more types of audio, for example "lo-fi" telephony voice and hi-fi music.</p><p id="p0015" num="0015">In an embodiment of the present invention, the second bus has two bus sections controllably coupled together by a pass device; the wireless codec being coupled to a first bus section; the communications processor being coupled to a second bus section; and the audio codec being coupled to both bus sections; the second bus being operable in two modes either to allow simultaneous transmissions between the audio codec and both of the communications processor and the wireless codec using the two bus sections separately, or to allow transmissions between the communications processor and the wireless codec using the two bus sections together.</p><p id="p0016" num="0016">This allows simultaneous transmissions of two audio data communications on different bus sections, or a single transmission on both sections. This in turn allows for a greater flexibility and number of audio based applications for audio convergence devices.</p><p id="p0017" num="0017">In an embodiment, the wireless codec is for wirelessly communicating the audio data with a wireless peripheral device; the communications processor is for communicating the audio data with a phone network; the audio codec is for decoding the audio data and driving an audio transducer, and the applications processor is for recording and/or reading the audio data. The audio codec and applications processor are coupled together by the first bus independently of the second bus.</p><p id="p0018" num="0018">This means that the wireless codec and the communications processor can provide a phone call to the user in one mode of operation of the second bus; or the phone call can be directed to the audio codec and music provided from the applications processor to the wireless codec in another mode of operation of the second bus. In the latter mode the second bus is effectively split by the pass device, whereas in the former mode the bus is unitary. Various other audio applications enabled by this dual mode capability are described in detail below.<!-- EPO <DP n="6"> --></p><p id="p0019" num="0019">The pass device may be a passive device such as a resistor; which is cheap to implement. Alternatively it may be implemented by an active circuit for example utilising a switchable uni-directional buffer which provides greater isolation between the bus sections in the split mode of operation and may allow for a faster data rate on the bus in the unitary mode.</p><p id="p0020" num="0020">For the purposes of this specification a wireless codec comprises circuitry for interfacing with an audio data bus and with a local wireless device such as a headset via radio circuits. In other words it converts digital audio signals in one format (e.g. PCM) on the bus into wireless signals in another format (e.g. Bluetooth<sup>™</sup> (BT) or other wireless technologies such as Wi-Fi - the suite of IEEE802.11 air interface protocols including a, b, and g or Wi-MAX IEEE802.16). For portable audio devices typically Bluetooth will be used for transmission of audio wireless signals to a wireless headset in order to minimise power consumption, reduce silicon real-estate or size, and reduce cost. Typically this is implemented using a Bluetooth<sup>™</sup> chipset. Again suitable Bluetooth (or other wireless) codecs will be known to those skilled in the art, for example Texas Instruments BRF6100, BRF6150 and BRF6300.</p><p id="p0021" num="0021">A communications processor comprises circuitry for interfacing with the audio bus and with an external communications network such as a mobile phone network and is typically implemented with a digital signal processing (DSP) core to implement functions such as managing a traffic channel and possibly a control channel with an external network and reformatting traffic data between the audio bus data format and that used by the traffic channel to the external network. In the described embodiments, the external network is a wireless cellular network such as a GSM or CDMA based network, however other network types could be used for example those defined by the WiMax IEEE802.16 or Wi-Fi IEEE802.11 protocols; or a cordless phone protocol such as DECT. In some embodiments the communications processor may be implemented as a second wireless codec.</p><p id="p0022" num="0022">An applications processor is typically a general purpose central processing unit (CPU) configured by software to implement functions such as store/retrieve data from local memory, convert between digital formats and control other circuitry within an audio convergence device, typically including operation of the audio bus(es). In some embodiments the applications processor may include an audio bus interface such as a<!-- EPO <DP n="7"> --> hardwired PCM or AC'97 interface. Typically the applications processor will be in overall control of the audio device, for example controlling the audio and wireless codecs and the communications processor.</p><p id="p0023" num="0023">An audio codec (coder-decoder) comprises circuitry for converting digital audio signals to analogue audio signals and vice versa for coupling audio transducers such as speakers and microphones or legacy analog signal sources such as gramophone turntables to digital audio circuitry. In the described embodiments the audio codecs incorporate digital audio bus interfaces such as PCM or AC'97. Audio codecs in some embodiments also include volume/gain stages, and audio "effects" such as graphic equalisers or 3-D enhancement. Typically the audio codec is optimised for low-power consumption, and operates off low voltages, e.g. 3.3V or lower.</p><p id="p0024" num="0024">In an embodiment a component (wireless codec or audio codec) coupled to the first bus section and a (communications processor or audio codec) coupled to the second bus section each have a buffer for coupling to the second bus. Each buffer receives an input signal and has driving circuitry arranged to drive the bus to a voltage level dependent on the input signal. Each buffer also receives an independent enable or disable signal which prevents the buffer driving the bus, i.e. it places the buffer into a high-impedance or tri-state mode. This arrangement can be used to avoid contention on the second bus when a resistor is used as the pass device.</p><p id="p0025" num="0025">In an embodiment of the invention, the second bus is a digital bus circuit such as a PCM bus and comprises a bus conductor such as duplex data wires having two bus sections. Each bus section is connected to a pass circuit such as a resistor or active switchable isolating circuit, and also to two bus interfaces for respective circuits (the audio codec, and the wireless codec or the communications processor). Each of the bus interfaces comprises a tri-state output buffer having a tri-state, not outputting or enabled mode and one or more logic output modes (e.g. 1 and 0).</p><p id="p0026" num="0026">In a unitary bus mode the tri-state output buffers are arranged such that only one of said output buffers is not in a tri-state mode, it being in a high voltage or a low voltage logic output mode or state for example. In other words only one of the output buffers is "transmitting". The high and low logic output voltages may correspond to for example 5V and 0V respectively, or some other uni-polar voltage arrangement, or the low<!-- EPO <DP n="8"> --> voltage logic mode may correspond to a negative voltage such as -5V for example. In the unitary mode, the pass circuit is arranged to substantially couple said bus sections. In an embodiment this is achieved by switching an active pass circuit to connect the two bus sections together. In another embodiment, this is achieved by setting an appropriate value for a passive component or device such as a resistor or MOS device acting as a resistor. The state of the buffers may be controlled by the applications processor for example, or dedicated bus control logic.</p><p id="p0027" num="0027">In a dual bus mode the tri-state output buffers are arranged such that only one of the output buffers connected to each bus section is not in a tri-state mode and the pass circuit is arranged to substantially isolate said bus sections. In other words one of the output buffers connected to each bus section is outputting a logic value or voltage which does not interfere with the logic output on the other bus section. The pass device may be controlled or switched so as to isolate the two bus sections, for example by turning off a connecting buffer, or a passive device such as a resistor may be suitably sized in order to achieve the same practical effect.</p><p id="p0028" num="0028">In an embodiment where the pass circuit comprises a resistive circuit, device or component, the pass device is arranged to have an impedance higher than the output buffer impedances such that when one of said output buffers on one of the bus sections is in a high voltage logic output mode and the another said output buffer on the other bus section is in a low voltage logic output mode, the voltage drop across the pass circuit is more than half the voltage difference between voltages corresponding to the high voltage logic output mode and the low voltage logic output mode of the respective output buffers. In other words, the impedance of the pass device in either mode (for example a passive resistor) can be sized or arranged such that the output impedance of the output buffers is less than 50% of the impedance of the pass circuit. In an embodiment, a more stable or secure example of 2% is used, though various values above and below this could be used, for example 15% or 1%.</p><p id="p0029" num="0029">The resistive device could simply be a resistor, however other resistive components or circuits could alternatively be used, for example MOS-resistors or their JFET equivalents.<!-- EPO <DP n="9"> --></p><p id="p0030" num="0030">In an embodiment data is encoded or formatted using pulse code modulation (PCM) for communication across the bus sections of the second bus, however other digital data formats could alternatively be used, for example audio codec '97 (AC97), or formatting for a 2/3/4 wire bus such as Serial Peripheral Interface (SPI) bus, or a Microwire<sup>™</sup> (National Semiconductor) bus. The bus may be configured with duplex data conductors, with or without clock and/or control conductors. Pass circuits may be used to separate clock and/or control bus conductor sections associated with the data bus conductors, or these may be unitary.</p><p id="p0031" num="0031">The first digital bus may use different digital formatting than the second digital audio bus, for example AC and PCM respectively.</p><p id="p0032" num="0032">In an embodiment, the second bus is a digital audio bus circuit comprising: a bus conductor having two sections connected to a pass circuit; a first bus section being coupled to a communications processor for processing digital voice calls and to an audio codec for processing digital audio signals to analogue audio signals, and a second bus section being coupled to a wireless codec for wirelessly transmitting and receiving digital audio signals; wherein the digital audio bus is arranged in use to be switchable between a unitary mode in which digital audio signals on one of the bus sections are coupled by the pass circuit onto the other bus section, and a dual mode in which digital audio signals from one of the bus sections are not coupled by the pass circuit onto the other bus section.</p><p id="p0033" num="0033">Switching between the unitary mode and the dual mode may be achieved with control of the communications processor, the audio codec and the wireless codec, and using a passive device acting as the pass circuit and having an appropriate value in order to isolate the bus sections in one mode and couple them in the other mode. Control of the circuits connected to the bus sections (e.g. communications processor) comprises controlling their connections or interface with the bus sections, for example to transmit or receive or to isolate.</p><p id="p0034" num="0034">In an alternative arrangement, an active circuit may be used to implement the pass circuit in which case this may be suitably controlled together with the devices or circuits connected to the bus conductors in order to switch between the unitary and dual bus<!-- EPO <DP n="10"> --> modes. In an embodiment the pass circuit or device is switchable between a high impedance mode and a low impedance mode.</p><p id="p0035" num="0035">The bus circuit comprises a second bus conductor, a second pass circuit and corresponding second couplings to the communications processor, audio codec, and wireless codec, arranged to implement a duplex digital audio bus.</p><p id="p0036" num="0036">In an embodiment the audio codec has an audio codec architecture which is configurable or switchable into a number of functional arrangements in order to provide audio data processing functions. The audio codec comprises one or more digital to analogue converters (DAC) and/or analogue to digital converters (ADC) in order to convert digital audio signals into analogue audio signals and vice versa. The audio codec also comprises digital audio bus interfaces, for example PCM interfaces for coupling to the dual mode bus circuit described above and an AC interface for coupling to the applications processor described above. Other interface types and connections are also contemplated. In an embodiment the audio codec also comprises digital and/or analogue adders, multipliers, sample rate and digital format converters, and a switching matrix controllable to couple a number of these circuit elements between the two digital audio bus interfaces.</p><p id="p0037" num="0037">In an embodiment the audio codec comprises a digital-only signal path between two of the digital audio bus interfaces, such that no analogue processing of the audio signals occurs in the digital-only signal path. In its simplest form, where the two digital audio bus interfaces use the same sample rate and digital format, the digital audio data can be simply transferred from one interface to the other. Some simple manipulation and retiming of the signal may be employed for example involving some temporary signal storage such as a FIFO. The digital only signal path may also comprise a digital format conversion function where the two digital audio bus interfaces use different digital formats, for example PCM and AC. This may involve repeating or omitting samples if the input and output data rates are different. Some embodiments may comprise digital signal processing, for example volume control, digital filtering, or mixing of other signals, or sample-rate-conversion, involving digital addition and multiplication of the signals.<!-- EPO <DP n="11"> --></p><p id="p0038" num="0038">By appropriate configuration of the switching matrix the audio codec can add together digital audio signals received from both said digital audio bus interfaces, and transmitting the combined signal from one of said digital audio bus interfaces. This may include scaling one of the received digital audio signals compared with the other received digital audio signals before said addition of the received signals. Sample rate and/or digital format conversion may also be implemented where the digital interfaces are different.</p><p id="p0039" num="0039">The so configured audio codec may be usefully combined with other circuitry such as the applications processor, communications processor, and wireless codec mentioned above to perform audio processing functions such as combining a received call with background music.</p><p id="p0040" num="0040">The audio codec may additionally comprise an analogue signal path for processing a received digital audio signal, the analogue signal path comprising one or more signal analogue processing elements such as digital-to-analogue converters, analogue-to-digital converters, adders, and multipliers. The ADC and DAC may have different sample rates in order to implement sample rate conversion of one of the received digital audio signals.</p><p id="p0041" num="0041">The audio codec may comprise simplex or duplex digital only signal paths, and the internal configuration or connections of the audio codec may be different for the different signal paths. A path with analogue processing may be used to complement the digital only path.</p><p id="p0042" num="0042">The audio codec may also include digital sample rate conversion (SRC) in one or both input paths to the adding means. Where both input paths have sample rate conversion, one may be achieved in the analogue domain using suitable DAC and ADC conversions, and the other in the digital domain.</p><p id="p0043" num="0043">The adding may be implemented digitally or by converting to the analogue domain and using an analogue adder and/or multiplier before converting back to the digital domain.</p><p id="p0044" num="0044">In an embodiment, an AC digital audio interface is used to couple the audio codec to another circuit such as the applications processor, and this is configured with three or<!-- EPO <DP n="12"> --> more audio channels. These channels can be mapped to two or more other digital audio interfaces, for example simply to route digital audio signals to different circuits coupled to the audio codec, or additionally with audio signal processing performed by the codec. More generally the audio codec could be used to couple together circuits having incompatible digital audio interfaces, for example an applications processor with an AC only interface being coupled to a PCM digital audio bus.</p><p id="p0045" num="0045">Where the audio codec comprises two PCM digital audio interfaces, the second such interface may simply comprise data pins, the other control and clock pins being shared with the first PCM interface. This arrangement can be used to couple both sections of the above mentioned dual mode PCM bus architecture.</p><p id="p0046" num="0046">These audio codec arrangements may be advantageously combined with the digital bus and audio device arrangements outlined above, however these audio codecs can be implemented independently of these bus and audio device arrangements. For example the audio codec may be used with a bus without a pass circuit or otherwise "split-able" digital audio bus.</p><p id="p0047" num="0047">In general terms, embodiments of the present invention may be used in methods of operating the mobile telephone (which may be a smart phone or communications enabled PDA) in order to perform a number of audio processing functions.</p><p id="p0048" num="0048">Embodiments of the present invention may be used in a method comprising: receiving a voice call such as a GSM connection; receiving another digital audio signal such as an MP3 playback and which is not a voice call; mixing the two received signals; and simultaneously transmitting the mixed signal wirelessly to another device, for example using a Bluetooth (BT) connection.</p><p id="p0049" num="0049">The feature of receiving another digital audio signal which is not a voice call can include receiving this from an internal digital audio device component such as its local memory, and is not necessarily restricted to receiving the signal from an external source; although this may have occurred at an earlier time for example downloading an MP3 track from the Internet via the communications processor onto the local memory.<!-- EPO <DP n="13"> --> In an embodiment this is implemented using the dual bus mode to receive voice call signals over one bus section and transmit the mixed signal to the wireless codec over the other bus section. However other methods of implementing this functionality could alternatively be used, for example using two separate audio buses. In an embodiment the mixing is implemented in the audio codec.</p><p id="p0050" num="0050">In an embodiment the voice call is processed by the communications processor, and the other digital audio signal is a hi-fi signal from the applications processor. However other received signals could be used, for example a signal received from the wireless codec. The sample rates and/or digital formats of the two received digital audio signals can be different.</p><p id="p0051" num="0051">In an embodiment, the method further comprises wirelessly receiving another signal such as the other half of a duplex voice call and transmitting this, for example over a GSM connection.</p><p id="p0052" num="0052">Embodiments of the present invention may be used in a method comprising: receiving a wireless digital audio signal from another device, storing said signal; simultaneously transmitting a second wireless digital audio signal to the other device; and simultaneously transmitting a third digital audio signal in response to receiving a voice call.</p><p id="p0053" num="0053">In an embodiment, this is implemented using the wireless codec to receive and transmit the wireless signals, and the applications processor to transmit the third signal, the second signal being transmitted from the applications processor to the wireless codec via the audio codec.</p><p id="p0054" num="0054">In an embodiment, the first wireless digital audio signal is a digital dictation signal, the second digital audio signal is a hi-fi music signal, and the third digital signal is a predetermined outgoing message.</p><p id="p0055" num="0055">Embodiments of the present invention may be used in a method comprising: receiving a wireless digital audio signal from another device, storing said signal; simultaneously transmitting a second wireless digital audio signal to the other device; simultaneously receiving a third digital audio signal associated with a voice call, storing said signal.<!-- EPO <DP n="14"> --></p><p id="p0056" num="0056">In an embodiment, this is implemented using the wireless codec to receive and transmit the wireless signals, and the applications processor to receive the third signal, the second signal being transmitted from the applications processor to the wireless codec via an audio codec.</p><p id="p0057" num="0057">In an embodiment the first wireless digital audio signal is a digital dictation signal, the second digital audio signal is a hi-fi music signal, and the third digital signal is an incoming voice call message. The method may further comprise simultaneously mixing the received third digital audio signal with the second digital signal and transmitting the mixed signal wirelessly to the other device.</p><p id="p0058" num="0058">Embodiments of the present invention may be used in a method comprising: communicating a duplex voice call with another device and simultaneously wirelessly communicating said duplex voice call with a second other device; simultaneously and independently recording each half of said duplex voice call.</p><p id="p0059" num="0059">In an embodiment the outgoing and incoming audio signals are recorded separately by the applications processor into local memory. The signals are received by the audio codec on a PCM interface and transferred to the applications processor over an AC interface using two AC channels.</p><p id="p0060" num="0060">In an embodiment, this is implemented using the wireless codec to receive and transmit the wireless signals, and the applications processor to receive and forward for storing the two halves of the duplex call.</p><p id="p0061" num="0061">Embodiments of the present invention may be used in a method comprising: communicating a duplex voice call with another device and simultaneously wirelessly communicating said duplex voice call with a second other device; simultaneously mixing each half of the duplex voice call and storing the mixed signal, and independently processing the received wireless voice call. In an embodiment the independent processing is monitoring the voice call for voice activated commands.</p><p id="p0062" num="0062">In an embodiment, this is implemented using the wireless codec to receive and transmit the wireless signals, and the applications processor to receive and<!-- EPO <DP n="15"> --> independently processes the received wireless call, and to forward for storing the two halves of the duplex call, including in an embodiment mixing the two halves of the duplex call before storage.</p><p id="p0063" num="0063">In an embodiment the signals are received by the audio codec on a PCM interface and transferred to the applications processor over an AC interface using two AC channels.</p><p id="p0064" num="0064">Some of the audio digital processing such as converting between different sample rates and/or digital formats may be carried in the applications processor rather than the audio codec for example.</p><heading id="h0004"><u>Brief Description of the Drawings</u></heading><p id="p0065" num="0065">Embodiments will now be described with respect to the following drawings, by way of example only and without intending to be limiting, in which:
<ul><li><figref idrefs="f0001">Figure 1</figref> shows a known Smartphone audio bus architecture;</li><li><figref idrefs="f0002">Figure 2a</figref> shows waveforms on a typical PCM bus, <figref idrefs="f0002">Figure 2b</figref> shows the physical structure of an AC-link and <figref idrefs="f0002">Figure 2c</figref> shows data structure and timing of the AC-link.</li><li><figref idrefs="f0003">Figure 3a</figref> is another bus architecture, <figref idrefs="f0004">Figures 3b and 3c</figref> illustrate audio applications using this architecture;</li><li><figref idrefs="f0005">Figure 4a</figref> shows another bus architecture and <figref idrefs="f0005">Figure 4b</figref> illustrates simultaneous audio file playback and call receiving applications using this bus architecture;</li><li><figref idrefs="f0006">Figure 5a</figref> shows a known 3-wire bus, <figref idrefs="f0006">Figure 5b</figref> shows a dual-mode bus, <figref idrefs="f0006">Figure 5c</figref> shows a duplex dual-mode bus, <figref idrefs="f0006">Figure 5d</figref> shows a multi-bit dual-mode bus, <figref idrefs="f0007">Figure 5e</figref> shows a dual-mode bus with pass devices in clock lines.</li><li><figref idrefs="f0008">Figures 6a and 6b</figref> illustrate operation of the bus of <figref idrefs="f0003">Figure 3a</figref> in more detail;</li><li><figref idrefs="f0009">Figures 7a, 7b</figref>, <figref idrefs="f0010">7c and 7d</figref> illustrate operation of the bus of <figref idrefs="f0005">Figure 4a</figref> in a second (split) mode of operation;<!-- EPO <DP n="16"> --></li><li><figref idrefs="f0011">Figures 8a, 8b, and 8c</figref> are circuit diagrams of active pass devices for the bus of <figref idrefs="f0005">Figure 4</figref>;</li><li><figref idrefs="f0012">Figure 9a, 9b</figref>, <figref idrefs="f0013">9c, 9d</figref>, <figref idrefs="f0014">9e and 9f</figref> show examples of the internal components and connection paths of an audio codec</li><li><figref idrefs="f0015">Figure 10a</figref> shows a modified version of the architecture of <figref idrefs="f0005">Figure 4</figref> in which the audio codec couples to the bus on both sides of the pass device; <figref idrefs="f0015">Figures 10b</figref> and <figref idrefs="f0016">10c</figref> show applications using this modified bus architecture.</li><li><figref idrefs="f0017 f0018 f0019">Figure 11</figref> a shows a bus architecture similar to <figref idrefs="f0005">Figure 4</figref> but comprising a duplex bus; <figref idrefs="f0017">Figures 11b</figref>, <figref idrefs="f0018">11c</figref>, <figref idrefs="f0018">11d</figref>, <figref idrefs="f0019">11e</figref> show applications using this duplex bus architecture.</li><li><figref idrefs="f0020">Figure 12a</figref> shows architecture where the audio codec may monitor both directions of data on the dual bus, and <figref idrefs="f0020">Figures 12b</figref> and <figref idrefs="f0021">12c</figref> show applications using this mode of operation.</li><li><figref idrefs="f0022">Figure 13a</figref> shows a modified version of the architecture of <figref idrefs="f0017 f0018 f0019">Figure 11</figref> in which the audio codec couples to the bus on both sides of the pass device; <figref idrefs="f0022">Figures 13b</figref>, <figref idrefs="f0023">13c</figref>, <figref idrefs="f0023">13d</figref>, and <figref idrefs="f0024">13e</figref> show applications using this modified bus architecture.</li></ul></p><heading id="h0005"><u>Detailed Description</u></heading><p id="p0066" num="0066">Referring to <figref idrefs="f0001">Figure 1</figref>, the audio based architecture of an audio convergence device such as a Smartphone is shown and comprises a cellular radio 1 such as a GSM transceiver; a memory 2 for storing audio files such as MP3, MIDI, and WAV (or any program code used to run the platform); a communications processor 3 such as a specialised DSP; an applications processor 4 such as a general purpose CPU; a dual audio codec 9; various audio transducers shown generally as 10 and including a microphone, a speaker, and headphones; buses 5, 6, 7, and 8 between the communications and applications processors 3 and 4 and the codec 9.</p><p id="p0067" num="0067">The type or format of the buses (5, 6, 7, 8) or connections between the circuits will depend on their function and the types of data to be transferred as known, and will<!-- EPO <DP n="17"> --> typically include: a serial connection 5 such as a UART bus between the communications and applications processors 3 and 4; a PCM or pulse coded modulation bus 6 between the communications processor 3 and audio codec 9; an I2S or AC data link 7 between the applications processor 4 and the codec 9; and if not using an AC data link (7) to pass control information, a serial control link 8 can be used between the applications processor and the codec 9. The PCM bus 6 provides a low latency signal path between the communications processor 3 and the codec 9, which is suitable for real-time voice calls. The AC data link 7 provides a wide bandwidth suitable for high quality digital audio signals such as hi-fi music transferred from the applications processor 4 to the audio codec 9.</p><p id="p0068" num="0068">The PCM bus 6 can be a 3- or 4-wire bus, with a bit-rate clock line CLK, a frame-rate or frame-sync clock line FS, and one or two data lines DATA carrying serial digital data in say 8- or 16-bit words, synchronised to the bit and frame clocks, as shown in <figref idrefs="f0002">Figure 2a</figref>. The clocks are generated by a chosen one of the chips connected to the bus. PCM1900 is an example of an existing standard for such buses. In principle, a different clocking or bus-width might be employed, even a 8- or 16-bit parallel bus for example, though usually this would be more expensive in terms of wires and connectors, and unnecessary for the relatively slow data rates involved (typically 16bis x 8ks/s = 128ks/s)</p><p id="p0069" num="0069">Other types of audio buses that might be employed include 2/3/4 wire SPI or Microwire <sup>™</sup> buses.</p><p id="p0070" num="0070">The main data link between the audio codec 9 and the applications processor 4 could be any data link, for example an I2S link, or other known 3- or 4- wire serial or even parallel interfaces. However it will typically be an AC '97 standard compliant "AC-link". This standard 5-wire bidirectional fixed clock-rate serial digital interface comprises four clock and data lines and a codec reset line as shown in <figref idrefs="f0002">Figure 2b</figref>. It handles multiple input and output PCM audio streams, as well as control register accesses, employing a time division multiplexed (TDM) scheme that divides each audio frame into 12 outgoing and 12 incoming data streams, each with 20-bit sample resolution, together with a TAG time slot, as shown in <figref idrefs="f0002">Figure 2c</figref>. The MSBs of the TAG slot indicate which following time slots contain valid data. According to the AC '97 standard, the first two time slots are concerned with reading or writing registers on the codec, the next two are for left-channel<!-- EPO <DP n="18"> --> and right-channel audio data, and the other timeslots are also assigned various uses for other audio and modem channels or modem control, including the possibility of increasing the effective audio sample rate by using other slots for additional samples of the left and right audio signals.</p><p id="p0071" num="0071">As well as being able to carry multiple channels of audio, the AC-link can also make use of the TAG function to carry "Variable-Rate Audio" VRA, which means different sample rate of playback and recorded audio streams can be simultaneously carried over the link. As an example a stereo 44.1ksps can be played back while a mono 8ksps can be recorded. This in practice makes the AC-link a lower pin count compared with an I<sup>2</sup>S which requires as a minimum another clock (and another frame sync for the different sample rate). AC'97 can also carry control data, which can avoid the need for separate control bus pins and wires.</p><p id="p0072" num="0072">For simplicity in explanation, the following description will refer to the link between the audio codec and the applications processor as an AC-link, but it is to be understood that an alternative link may be used. This includes the emerging Mobile Industry Processor Interface (MIPI) Low-Speed Multilink (LML) standard. If an AC-link is not used, the additional control link 8 may be necessary, as many other links will generally only carry data not control information.</p><p id="p0073" num="0073">Also for clarity in the explanation of the architectures and signal flows, the clock lines associated with the various audio data links are omitted from the system diagrams below, as are most of the control links 5 and 50 and 8.</p><p id="p0074" num="0074">Referring again to <figref idrefs="f0001">Figure 1</figref>, the audio codec 9 is suitable for processing both the real-time low bandwidth audio or voice calls and the latency tolerant but high bandwidth high quality or sample rate audio from applications such as stereo MP3 music playback. This "dual functionality" codec 9 comprises: voice optimised circuitry 9a for processing voice audio data to/from the communications processor 3, including a mono DAC and ADC; Hi-Fi or music optimised circuitry 9b for processing the higher sampling rate high resolution audio data to/from the applications processor 4, including stereo DACs and ADCs, analogue mixing and amplifier circuits; and a (analogue) link 9c between the two codec circuits 9a and 9b, typically in the analogue domain. The codec 9 may or may not be integrated as a single circuit, rather than two separate circuits<!-- EPO <DP n="19"> --> <figref idrefs="f0003">Figure 3a</figref> shows a modified system architecture including wireless headphone or headset capability which is an increasingly popular requirement. Typically this is implemented using a Bluetooth<sup>™</sup> chipset, but is termed here more generally as a wireless codec 11. Other wireless technologies could alternatively be used such as Wi-Fi (the suite of IEEE802.11 air interface protocols including a, b, and g). The wireless codec 11 is advantageously coupled to the PCM bus 6 between the communications processor 3 and the audio or local codec 9. This provides a low latency path for voice calls from the communications processor 3 to the wireless codec 11. In addition wireless codecs such as Bluetooth codecs typically already include a PCM interface so that legacy equipment or circuits can be employed. This allows sharing the same interface while avoiding extra pins and/or dedicated interfaces, which requires extra software additions and/or changes, and thus reduces design costs and time to market.</p><p id="p0075" num="0075">The applications processor 4 may transfer audio data to the wireless codec via a serial bus 50 such as an internal system UART or USB link if this is available, however typically this audio data is transferred over the PCM bus 6 via segment 6a. This may be achieved as shown in <figref idrefs="f0003">Figure 3a</figref> where the applications processor 4 incorporates a PCM interface.</p><p id="p0076" num="0076">This type of audio architecture can be provided for an audio convergence device such as a Smartphone. As noted above a Smartphone typically provides both cellular wireless communications or phone functionality and PDA type functionality including playing audio (e.g. Hi-Fi music) files, dictating notes, voice commands and other audio based applications. Such devices are increasingly converged in the sense that on-board devices are shared, such as memory which stores for example both MP3 files for playback through a music player application as well as an outgoing message (OGM) for playback to a caller interfacing with the device's phone functions. Similarly the audio transducers are shared in order to reduce weight, cost and size.</p><p id="p0077" num="0077">Referring to <figref idrefs="f0003">Figure 3a</figref> in more detail, the audio system architecture includes the audio (PCM) bus 6 which inter-connects a number of circuits including the communications processor 3 which handles the Smartphone's cellular wireless functionality, the wireless codec 11 which handles the Smartphone's local wireless networking<!-- EPO <DP n="20"> --> functionality (e.g. Bluetooth), the applications processor 4 which handles the Smartphone's PDA functionality such as playing audio files from memory 2 and providing diary and contacts functions, and the audio codec 9 which handles the provision of analogue audio signals to the Smartphone's sound transducers (e.g. speaker and/or headphones 10). The wireless codec 11 interfaces wirelessly with a wireless headset 12 which may include earphone speakers and/or a voice microphone.</p><p id="p0078" num="0078">In the mode of operation or "application" of listening to music stored in memory (possibly placed there from a disc drive), Hi-fi music signals are typically transferred directly from the applications processor 4 (having retrieved them from memory 2) to the audio codec 9 via the data link 7 (e.g. I2S or AC97 AC-link), for playback over the device's speaker 10 or headphones - this is indicated by audio signal path 21 in <figref idrefs="f0004">Figure 3b</figref>. In Smartphones so equipped, this music may also be played back over wireless (e.g. Bluetooth) headsets 12. This requires the applications processor 4 to transfer the music signals to the wireless codec 11, and this can be done by utilising the shared PCM bus 6, as illustrated by dashed line 22 in <figref idrefs="f0004">Figure 3b</figref>. Using the PCM bus 6 as opposed to a UART bus 50 (where this latter option is supported by both the wireless codec 11 and applications processor 4) avoids the need for special profiles in both Applications processor 4 as well as the wireless codec (e.g. BT chipset) 11, which add substantially to the design effort, cost, and time taken to integrate the system.</p><p id="p0079" num="0079">In another application (see <figref idrefs="f0004">Figure 3c</figref>), for listening to an incoming voice call, audio signals from the communications processor 3 (e.g. the caller's voice) are transferred using the PCM bus 6 to the audio codec 9 for playing over the speaker 10 or headphones, as illustrated by signal flow line 23. These audio signals may also be played over the Bluetooth headsets 12 by transferring the signals to the wireless codec 11 using the PCM or shared audio bus 6, as illustrated by dashed line 24 in <figref idrefs="f0004">Figure 3c</figref>.</p><p id="p0080" num="0080">Increasingly users of Smartphone devices wish to make use of multiple applications or tasks simultaneously. It will be seen however that both of the wireless headset applications described above cannot be performed simultaneously, as the communications processor and the applications processor can not both use the shared bus 6 at the same time. Thus whilst the user may wish to listen to an incoming voice call and at the same time have the music still playing in the background, this is not possible with the described bus architecture when utilising wireless headsets. Indeed<!-- EPO <DP n="21"> --> even using the devices speaker/ headphones 10 for the voice call and the wireless headset for the audio playback is not possible as this would still require both applications (line 23 and line 22) to use the bus 6 at the same time. A possible solution to this problem, and more generally the problem of utilising multiple applications simultaneously, is to incorporate additional buses into the Smartphone or similar device, however this is both expensive, and runs counter to the general aim of miniaturising the components of such devices.</p><p id="p0081" num="0081"><figref idrefs="f0005">Figure 4a</figref> illustrates an audio bus architecture having a further modified arrangement which allows simultaneous use of the audio bus by two different applications. The communications processor, wireless codec, applications processor, memory and voice codec circuits described above are the same or similar, and are here referenced the same as in the previous figures. This provides the same 'User Experience' of the local or audio codec 9 with the wireless codec 11, all whilst minimising design effort (integration) and cost (including time-to-market).</p><p id="p0082" num="0082">The audio (PCM) bus 36 however includes a pass device or circuit 37 which in one mode of operation of the bus divides the bus into two sections 36x and 36y as shown. In another mode, the pass device 37 is transparent to signals on the bus 36 comprising 36x and 36y such that the bus is effectively unitary. The pass circuit 37 is located between the applications processor 4 and audio codec 9 connections to the bus 36, such that a first section of the bus 36x includes connections to the wireless codec 11 and the applications processor 4, and the other section 36y includes connections to the communications processor 3 and the audio codec 9.</p><p id="p0083" num="0083">The pass device 37 is preferably a passive device such as a resistor. This eases implementation and cost. However active circuits or devices such as transistor switches may alternatively be used in order to switch between the two modes of bus operation as described in more detail below. Such switches may be controlled by the applications processor 4, and provide greater isolation between PCM signals on the two sections 36x and 36y of the PCM bus.</p><p id="p0084" num="0084">The PCM bus will generally also comprise clock lines, for bit clock CLK and frame clock FS for example as shown in <figref idrefs="f0002">Figure 2a</figref> and <figref idrefs="f0006">Figure 5a</figref>. These could also include pass devices as shown in <figref idrefs="f0007">Figure 5e</figref>, to allow separate clock domains on either side of the<!-- EPO <DP n="22"> --> pass device 37<sub>clk</sub>, however this is not necessary. The simple dual-mode PCM bus may thus comprise three wires as shown in <figref idrefs="f0006">Figure 5b</figref>. The data wire includes a pass device 37; however the two clock wires do not in this arrangement. Duplex or parallel dual-mode buses may comprise more data wires and pass devices, as shown in <figref idrefs="f0006">Figures 5c and 5d</figref>. For simplicity, only the data wires will be shown in most diagrams below, and a serial rather than parallel data bus is described for simplicity; however the skilled person will appreciate that various modifications could be made including using a parallel data bus and various configurations of clock and/or control buses.</p><p id="p0085" num="0085">Operation of the architecture with a simple resistor as the pass circuit 37 is described with respect to <figref idrefs="f0005">Figures 4</figref>, <figref idrefs="f0008">6</figref>, and <figref idrefs="f0009 f0010">7</figref>.</p><p id="p0086" num="0086">Operation of the bus in split bus mode can be explained by first considering operation without the resistor of the bus 36, and considering the bus interfaces 103, 104, 109, 111 on the attached or respective circuits 3, 4, 9, 11 respectively in more detail. <figref idrefs="f0008">Figure 6a</figref> illustrates a system similar to <figref idrefs="f0003">Figure 3a</figref> with no pass device 37, but comprising a wireless codec 11 an applications processor 4, a communications processor 3 and an audio codec 9. These are connected by a single wire bus 36 as shown in <figref idrefs="f0008">Figure 6a</figref>.</p><p id="p0087" num="0087">Communications processor 3 comprises a bidirectional, tri-state buffer or bus interface 103 driving the wire 36. The illustrative implementation shown of bidirectional tri-state buffer 103 comprises inverter 131 which couples the logic signal on the wire 36 to the circuitry in the main body of processor 3, to provide an input buffer having a high input impedance. The corresponding output buffer comprises an inverter 132, a further inverter comprising devices PMOS 133 and NMOS 134, and a series switch 135 connected to wire 36. The sources of PMOS 133 and NMOS 134 are connected to a positive logic supply Vdd and a negative logic supply Vss (commonly ground) respectively. When switch 135 is closed, under the control of enable signal 136, a signal D1 from the main body of the processor 3 is buffered by inverters 132 and 133/134 and driven through closed switch 135 to produce a corresponding signal on wire 36, at a voltage equal to Vdd or Vss for D1 high or low respectively. This is illustrated in <figref idrefs="f0008">Figure 6b</figref>. Switch 135 will usually be implemented as a CMOS transmission gate. The output impedance of the output buffer (135 and 133/134) is low, typically of the order of 100 ohms when the switch 135 is closed and the output buffer is in a high voltage (Vdd) logic mode (e.g. D1=1) or a low voltage (Vss) logic output<!-- EPO <DP n="23"> --> mode (e.g. D1=0). In a tri-state mode when the switch 135 is open, the bi-directional buffer presents a high impedance to the bus line 36.</p><p id="p0088" num="0088">The illustrative implementation shown of buffer 103 is not meant to be restrictive. Many other implementations of bidirectional tri-state buffer 103 are well known. For example the function of switch 135 may be implemented by pass transistors coupled between the supply and common drain node of 133, 134, or by suitable logic switching the gates of 133, 134.</p><p id="p0089" num="0089">Wireless codec 11, applications processor 4, and audio codec 9 comprise similar respective buffers 111, 104, 109, connected to bus 36. Similarly these comprise respective series switches 205, 145 and 195; respective enable signal controls 206, 146, and 196; and respective PMOS and NMOS inverter devices 203/204, 143/144, and 193/194. In some cases, some of these buffers may comprise only the input or output functionality of the buffer, i.e. be input or output buffers rather than bidirectional. The logic supplies Vdd and Vss are assumed to be the same or equal for all these buffers.</p><p id="p0090" num="0090">Generally the buffers will be driven by suitable enable signals so that only one switch e.g. 135 is closed at any one time, so that only the one corresponding interface or buffer e.g. 103 is driving wire 36 at any one time. Configuration of the bus, involving the setting of the I/O modes of the various codecs' and processors' buffers' interfaces to the bus would normally be programmed by the applications processor, along with the other "control" necessary to tell the other processors (and their buffers) what is expected from them. This can be implemented by direct connections from the applications processor to the various bus interfaces, but would more typically be implemented by sending control words to registers in the processors, which would in turn control the enable logic lines to the individual buffers. For example this control communication can be provided over UART bus 5 of <figref idrefs="f0001">Figure 1</figref> to the communications processor and UART 50 of <figref idrefs="f0003">Figure 3a</figref> to the Wireless CODEC. Most of the time the buffers are enabled only when used, so no special communication is required, i.e. this enabling will happen automatically during the set-up of the data signal paths according to the selected mode or application. This control including the I/O modes required for split mode operations of the bus would be implemented in routine system-level programming.<!-- EPO <DP n="24"> --></p><p id="p0091" num="0091">Normally the bus interfaces would be controlled so that only one of them was driving the bus at once, i.e. all but one would be in high-impedance, tri-state mode. But consider the case when two switches are closed at the same time, say 135 in 103 and 145 in 104, so two buffers are trying to drive opposite polarity signals onto 36.</p><p id="p0092" num="0092">This is illustrated by the waveforms in <figref idrefs="f0008">Fig 6b</figref>. When both D1 and D2 are low, both 103 and 104 will be trying to pull 36 low, i.e. NMOS 134 and 144 will both be on, so 36 will go low, to the common negative supply rail Vss connected to these NMOS. When both D1 and D2 are high, both 103 and 104 will be trying to pull 36 high i.e. PMOS 133 and 143 will both be on, so 36 will go high, to the common positive supply rail Vdd connected to these PMOS. However if D1 is high and D2 low, NMOS 134 will try to pull 36 down to Vss and PMOS 143 will try to pull 36 high to Vdd. This has two effects. First, the voltage on 36 will end up at some voltage between Vdd and Vss. If the NMOS and PMOS have equal drive strength, this voltage will be half way between Vdd and Vss, but in practice the drive strengths will be different, so one will dominate. However because of the finite output impedance of the PMOS and NMOS, the voltage may well end up at say one-quarter of the way up from Vss to Vdd, giving an uncertain logic level depending on the input logic thresholds of any logic inputs connected to 36. Second, the PMOS and NMOS of typical processors will typically be able to output tens of milliamps, in order to drive the capacitance of a bus with fast edges. This current will pass from Vdd through the PMOS, wire 36, and the NMOS back to Vss, giving a supply current of tens of milliamps whenever these devices are fighting each other. This is undesirable from a system power dissipation perspective, especially if there are several parallel wires on the bus, and indeed continued operation in this abnormal mode may degrade the reliability of the system.</p><p id="p0093" num="0093">In order to allow simultaneous transmission of data from say communications processor 3 to audio codec 9 and from applications processor 4 to wireless codec 11, pass device 37 is connected in the section of wire 36 from communications processor 4 to wireless codec 11 between the connections to audio codec 9 and applications processor 4, thus breaking 36 into two segments 36y and 36x as shown in <figref idrefs="f0009">Figure 7a</figref>. When both D1 and D2 are low, 103 and 104 will be trying to pull 36y and 36x low, i.e. NMOS 134 and 144 will both be on, so 36x and 36y will go low, to the common negative supply rail Vss connected to these NMOS. When both D1 and D2 are high,<!-- EPO <DP n="25"> --> both 103 and 104 will be trying to pull 36x and 36y high i.e. PMOS 133 and 143 will both be on, so 36x and 36y will go high, to the common positive supply rail Vdd connected to these PMOS. However if D1 is high and D2 low, NMOS 134 will try to pull 36y down to Vss and PMOS 143 will try to pull 36x high to Vdd. The respective waveforms are illustrated in <figref idrefs="f0009">Figure 7b</figref>. The voltages on segments 36x and 36y will be determined by a potential divider action depending on the on-resistance of PMOS 143, the resistance of pass device (resistor) 37 and the on-resistance of NMOS 134. If 37 is a resistor of say 5kohms, and the on-resistance of each of 143 and 134 are say 100 ohms each, then the voltages on 36x and 36y will be within 2% (i.e. 100/(100 + 5k + 100)) of Vdd or Vss. This degradation of logic noise margin is negligible. Also the current from Vdd to Vss will be limited to (Vdd-Vss)/5kohm, say 660uA for a 3.3V logic supply, which will be small compared to the rest of the system in any active mode.</p><p id="p0094" num="0094">If the resistance of 37 is increased further, the logic levels will be even more solid, and the supply current even less. However there will be parasitic capacitances on the PCB and the logic input, and output buffers will present further capacitance to the bus. If the capacitance of each segment of the bus is say 10pf, the 5kohm pass device will give a time constant of 50ns, giving delayed edges and slow rise and fall times. For a data rate of say 3MHz (330ns period, or 165ns for each half-period) this gives 3 time constants for each 165ns half-period, which allows the waveform to safely reach above V Input High level (VIH) of the target buffer for a rising edge signal, and below V Input Low level (VIL) of the target buffer for a falling edge signal, so is acceptable. However higher data rates will require either lower resistance pass device or a reduction in the capacitances. This effect is illustrated in the logic waveforms of <figref idrefs="f0010">Figure 7c</figref> and in more detail by the wave shapes of <figref idrefs="f0010">Figure 7d</figref>. This shows the waveform on a data line at maximum data transition frequency, with various resistance or capacitance slowing down the edges. Waveform a is the ideal waveform, with negligible degradation of the edges. Waveform b shows acceptable degradation. For waveform c, the waveform only just reaches VIH or VIL by the end of the data pulse, so is marginally acceptable (in practice some extra margin may be needed to guarantee adequate switching according to set-up or hold times of the subsequent logic). The case of Figure d, represents too high a pass device resistance of the load capacitance, with a waveform never managing to reach either VIH or VIL, giving unpredictable interpretation by the subsequent logic.<!-- EPO <DP n="26"> --></p><p id="p0095" num="0095">On the other hand smaller resistance values could be used for the pass resistor 37, in order to increase the slew rate of the logic waveforms on the bus when passing through the resistor 37. However this will increase power dissipation and reduce the voltage swings on the two parts of the bus. Referring to <figref idrefs="f0009">Figure 7a</figref>, consider the case where PMOS 143 of applications processor 4 is asserting a high logic level on bus segment 36x, to be input to inverter 201 of wireless codec 11, while PMOS 193 and NMOS 194 of audio codec 9 are being switched to alternately assert high and low logic levels on bus segment 36y, to be input to inverter 131 of communications processor 3. When both PMOS 143 and PMOS 193 are on, both segments of the bus will be pulled up to Vdd, giving solid logic signals to the two inverters. However when PMOS 193 is turned off and NMOS 194 is turned on, to try to assert a logic low level on bus segment 36y, the voltages on the bus segments 36x and 36y will be determined by potential divider comprising the on resistance Ron143 of PMOS 143, the on-resistance Ron145 of switch 145, the resistance Rpass of pass device 37, the on-resistance Ron 195 of switch 195, and the on-resistance Ron194 of NMOS 194. Ignoring Ron145 and Ron195 for simplicity (or absorbing them into Ron 143, Ron 194) if say Ron143 = Ron194 = Rpass/2, then bus segment 36y will be pulled down to Vss+ (Vdd-Vss)/4 and bus segment 36x will also suffer a drop in voltage to Vdd -(Vdd-Vss)/4, giving a voltage drop across 37 of (Vdd-Vss)/2. high and low. Provided the voltage level of 36y is less than the VIL (the maximum input voltage threshold required for predictably detecting a logic low input) of 131, and the voltage level on 36x is above VIH (the minimum input voltage threshold required for predictably detecting a logic high input) of 201, proper operation may be obtained. However typically some extra voltage margin will be required to give some noise margin to allow for extraneous noise sources. Also the above calculation needs to be repeated for all combinations of receiving and transmitting drivers, and for all combinations of high and low levels, and also to allow for the effects of manufacturing tolerances, particularly on the on-resistances of the MOS switches. If Rpass is decreased further, the logic levels during contention will be further degraded, until eventually VIH or VIL is no longer safely achievable, and interpretation of the voltages by the input inverters will become unpredictable. Also the current from Vdd to Vss during contention is (Vdd-Vss)/(Ron143 + Rpass + Ron194), and will increase as Rpass is decreased. For uncorrelated digital signals on the two segments, there will be contention in one direction or the other for half the time, so this contention current is significant. Also if the voltage levels are hovering around mid-rail, the input inverters attached to the buses will also<!-- EPO <DP n="27"> --></p><p id="p0096" num="0096">The resistive pass circuit may be implemented by a simple resistor connected to each bus section, or a MOS-based resistor in an Integrated Circuit version for example.</p><p id="p0097" num="0097">Using a resistor as the pass device 37 is the simplest and cheapest solution. However if high data rate is required, or high capacitance inevitable, or even lower power required, an active pass device may be preferable. <figref idrefs="f0011">Figures 8a, 8b, and 8c</figref> show three example implementations for pass circuits 37 using active devices (e.g. tri-state buffers, transmission gates or transistor switches). In each case pass circuit 37 will have one or more additional control terminals. These will be driven typically from the applications processor, either directly or possibly via some glue logic. These control terminals on devices within the pass circuit 37 are not shown explicitly in the diagrams for simplicity; however the skilled person would appreciate how control of these active devices may be implemented.</p><p id="p0098" num="0098"><figref idrefs="f0011">Figure 8a</figref> shows a pass device 37 comprising two tri-state buffers B1 and B2 which are separately switched by signals X and Y from the applications processor 4 for example. The associated state table shows the different states available. Connections A and B are coupled to respective sections (36x and 36y) of the bus 36. When X=Y=0 both B1 and B2 are in a tri-state condition so the overall pass device 37 effectively divides the two bus sections 36x and 36y apart so that they operate separately such that signals on each bus section are isolated from each other. If X is high and Y low, one of the tri-state buffers B1 is "on", whereby a conduction path is provided from one bus section 36x to the other section 36y, effectively unifying the bus sections 36x and 36y into a single bus 36. Similarly if Y is high and X low, one of the tri-state buffers B2 is "on", whereby a conduction path is provided from one bus section 36y to the other section 36x, effectively unifying the bus sections 36x and 36y into a single bus 36. Such an arrangement only allows signals to travel in one direction at a time, i.e. the arrangement assumes a non-duplex signal path, which is the case for a PCM bus which has a separate bus for each direction of signal traffic. Note X and Y both being high is not allowed, since the pair of cross-coupled buffers would then lock up into state A=B=1 or A=B=0. The tri-state buffers B1 and B2 would be similar to the buffers already described with respect to element 103, but being unidirectional they would not require the inverter 131.<!-- EPO <DP n="28"> --></p><p id="p0099" num="0099"><figref idrefs="f0011">Figure 8b</figref> shows an implementation of pass device 37 as a transmission gate with an NMOS and PMOS driven by control signal X and its inverse. If X is low, the two segments 36x and 36y are isolated. If X is high the two segments are connected.</p><p id="p0100" num="0100"><figref idrefs="f0011">Figure 8c</figref> shows an alternative arrangement utilising a resistor and switched tri-state buffer. This acts in a similar manner to the single resistor implementation described above, but additionally includes the tri-state buffer to boost the conductivity in one direction, for example if 36y presents too much capacitance to be driven through the resistor (of high value limited by desired power dissipation) but 36x presents low enough capacitance to be driven acceptably fast from 36y through the resistor.</p><p id="p0101" num="0101">Thus utilising a pass circuit 37, it will be appreciated that separate communications can be carried out simultaneously between the communications processor 3 and the audio codec 9, as well as between the wireless codec 11 and the applications processor 4. This is because when both sections 36x and 36y of the shared audio bus 36 are being used at the same time, the pass circuit 37 acts to isolate the two bus sections, substantially suppressing any current that might pass between the two sections, at least to the extent that the bus interfaces (103, 104, 109, 111) of the various circuits (3, 4, 9, 11) can "filter" this out. However in other modes of system operation the pass circuit 37 appears transparent to signals on the bus such that data can be transferred between the communications processor 4, "over" or "through" the pass device 37, to the wireless codec 11 for example, provided that the applications processor 4 output 104 sharing the second segment of the bus is tri-stated to avoid it overriding the signal passed through the pass device.</p><p id="p0102" num="0102">Therefore by using a passive or suitably controlled active pass circuit 37, together with appropriate control of the bus interfaces, the bus can operate in a unitary or dual mode. This in turn allows for different applications or functions to share the audio bus adding to possible functionality of the audio convergence device or at least efficient implementation of this functionality using this type of audio bus architecture. In other words, this "dual mode" ability of the audio bus 36 provides for additional modes of system operation, and without major modifications to any of the components. Thus it allows for improved functionality within the device, without the need for additional hardware such as an additional audio bus and modified chips implementing the described circuits. (Minor modifications to some existing standard audio codecs might<!-- EPO <DP n="29"> --> be required to allow some additional signal paths and hence additional functionality as outlined further below, but the processors and Wireless codec would not require changes.) Furthermore there is no need for additional driver software in order to implement this architecture as the interfaces or bus protocols (e.g. PCM) used are unchanged. Furthermore control of the bus interfaces to implement the dual or unitary mode of the bus is inherent in the use of the applications using the bus. The only additional software that is required is related to the applications themselves, as opposed to utilising the dual mode audio bus arrangement. This reduces the integration complexity associated with implementing this additional functionality.</p><p id="p0103" num="0103">Referring again to <figref idrefs="f0005">Figure 4a</figref>, the communications processor circuit 3 interfaces with radio circuits (1 in <figref idrefs="f0001">Figure 1</figref>) which communicate with cellular (e.g. GSM, GPRS, 3G) base stations in order to provide telephony functionality for the device. Various circuits 3 of this type will be known to those skilled in the art, but an example includes the Intel PXA800x GSM/GPRS communications processor. The communications processor 3 includes an audio signal interface for connecting to the audio signals bus 36. This bus 36 is typically implemented as a PCM bus in order to ensure maximum interoperability with legacy chipsets and minimise latency, but may utilise any suitable protocol as is known.</p><p id="p0104" num="0104">The wireless codec circuit 11 provides an interface (Over The Air) to other wireless devices local to the Smartphone (e.g. headsets 12 and laptop computer and other remote devices), and also incorporates an audio signals interface (e.g. PCM) or connection in order to interconnect with an audio signals bus 36. The wireless codec 11 uses radio circuits (not shown) which wirelessly interconnect with other devices such as wireless headsets, as is known. Various air interface technologies can be used including Bluetooth and Wi-Fi (IEEE802.11) (or Wi-MAX IEEE802.16), however typically Bluetooth will be used for transmission of audio wireless signals to a wireless headset in order to minimise power consumption, reduce silicon real-estate or size, and reduce cost). Again suitable Bluetooth (or other wireless) codecs will be known to those skilled in the art, for example Texas Instruments BRF6100, BRF6150 and BRF6300 (latest generation)</p><p id="p0105" num="0105">The applications processor 4 is typically a general purpose processor chip which provides various PDA type functions such as calendar and contact applications, as well<!-- EPO <DP n="30"> --> as the playback of music or other audio files. The applications processor will also typically control the Smartphone device's screen including recognising input from the user, and the audio output in the sense of implementing the user's commands by controlling the configuration of itself and other devices. The processor 4 is coupled to device memory 2 which stores the calendar and contacts data as well as music (e.g. MP3) and video (MPEG4) files. In addition this circuit 4 has a connection or (PCM) interface with the audio bus 36. An example of an applications processor circuit 4 with a PCM interface is Intel's PXA27x applications processor. More general-purpose processors, without PCM interfaces, may be used in embodiments of the invention disclosed below.</p><p id="p0106" num="0106">The functions required of the audio codec 9 will vary according to the range of applications required of the system. It may contain a PCM interface for communication via the PCM bus, a DAC for conversion of digital audio signals into analogue audio signals suitable for playing over the device's loudspeaker/headphones 10, and an ADC for converting signals from microphones. It may comprise a separate interface to a data link such as an I<sup>2</sup>S or Intel AC (e.g. AC '97) for communicating with the applications processor. Also it may contain various digital or analogue mixers and programmable gain stages or multipliers for mixing together various signals as desired. The codec may also provide some digital or analogue filtering or other conditioning of the audio signals.</p><p id="p0107" num="0107">Depending on the application or mode and on the signal source, data arriving at or sent from the audio codec may be at various sample rates and word-lengths. The digital audio data received from the applications processor 4 will typically be much higher quality (e.g. Hi-Fi) compared with that from the communications processor 3, the latter typically only being a mono 8kbs of 13bint words channel for Voice applications (or up to a mono 16kbs of 14bit words for Wide-Band Voice), whereas the former will typically be two or stereo 44.1/22.05/11.025ksps of 16bit words per channel for Audio applications. In general the codec 9 will need the capability of digital-analog conversion and analog-digital conversion at various bit-widths and sampling frequencies, with mono or stereo operation. This may be by dedicated converters of various performance, connected in the appropriate signal paths. However a reduced number of ADCs and DACs will suffice, connected into various signal paths as required, and either configurable to operate at lower resolution, or just allowed to convert at higher resolution or sample<!-- EPO <DP n="31"> --> rate with appropriate digital processing to compensate if necessary. By using a reduced number of converters, silicon area will be saved.</p><p id="p0108" num="0108">In general, in addition to the basic functions of DACs and ADCs for interfacing digital data and the external input and output transducers or other analog signal sources or sinks, the requirements of the audio codec include routing signals to and from its PCM and AC-link interfaces in a configurable fashion, and possibly mixing and scaling such signals or sample-rate converting, in analogue or digital domains.</p><p id="p0109" num="0109">By way of example, <figref idrefs="f0012">Figure 9a</figref> shows components and connections within an audio codec usable in an embodiment of the present invention. It comprises a DAC 13 connectable to convert data (e.g. phone voice) received via a PCM interface 40, and a DAC 14 connectable to convert data (e.g. music hi-fi) received via an I2S or AC'97 interface 41. The DAC output analogue audio signals are mixed by an analogue mixer 15, and can be output via connection 47 to a speaker, either directly or via an on-chip or off-chip power amplifier. Alternatively or additionally the DAC output analogue audio signals may be mixed by an analogue mixer 15a and fed to an analogue to digital converter (ADC) 16. The digitised mixed audio signal (e.g. music playback and phone voice) can then be transmitted via over the AC or 12S interface 41, for example back to the applications processor which may then route this mixed signal to the wireless codec so a user can listen to a voice call from the PCM interface with background music from the incoming AC interface as illustrated in <figref idrefs="f0005">Figure 4b</figref>.</p><p id="p0110" num="0110">The audio codec will generally contain several ADCs and DACs and other possible signal paths. For instance the ADC output may be output on the PCM bus via link 49, for use by e.g. the communications processor for an outgoing call. Also shown is analogue input 42, representing an input from say an FM radio or other analogue signal source or transducer, which is provided as another input to the analogue mixers 15 and 15a.</p><p id="p0111" num="0111">The codec 9 may also comprise digital adders and multipliers, and a switching matrix to switch the various on-board components into different configurations in order to implement different audio functions. Thus a digital only signal path, such as 45 and 49 shown in bold in <figref idrefs="f0012">Figure 9a</figref>, could be implemented between the two digital audio bus interfaces 40 and 41. This digital only signal path does not include DAC's and ADC's,<!-- EPO <DP n="32"> --> nor other analogue processing elements or components. This avoids any degradation of the audio signal (e.g. additional thermal noise, distortion, crosstalk from other ambient signals) due to the conversion from analog to digital and back again to digital. It also allows the DAC, mixer, and ADC to be powered down, to save power. (The digital path will be much lower power than the analog path it replaces).</p><p id="p0112" num="0112">In its simplest form, where the two digital audio bus interfaces use the same sample rate and digital format, the digital audio data is simply transferred from one interface to the other. In practice some simple manipulation or retiming of the signal may be necessary, involving some temporary signal storage such as a FIFO. The digital only signal path may also comprise a digital format conversion function where the two digital audio bus interfaces use different digital formats, for example PCM and AC. This may involve simple operations such as repeating or omitting samples if the input and output data rates are different, or bit-stuffing, or reversing the bit order, or even serial-to parallel conversion, well known to those in the field.</p><p id="p0113" num="0113">Some embodiments may comprise digital signal processing, for example volume control, digital filtering, or mixing of other signals, or sample-rate-conversion, involving digital addition and multiplication of the signals. This may be implemented using a standard or customised ALU, or it may be by dedicated, hard-wired logic, using techniques well-known in the field.</p><p id="p0114" num="0114">This simple manipulation or digital signal processing of the signal in the digital only signal path can be performed either by suitable functional or circuitry blocks interposed in paths 45 or 49, or blocks in the other signal paths, as discussed below with reference to <figref idrefs="f0013 f0014">Figures 9c to 9f</figref>.</p><p id="p0115" num="0115">The audio signals can also be adjusted at various points in these signal flows by programmable gain elements 43, 43a, 44, 44a, and 46, inserted as shown in <figref idrefs="f0012">Figure 9b</figref>.</p><p id="p0116" num="0116">The motivation for converting from digital to analogue and back to audio again, despite the extra power and risk of signal degradation involved, is to cope with different data rates required in different parts of the system. By converting the input digital sampled data to a "smooth" continuous-time analogue waveform, and then reconverting to a new sample rate the input and output data rates can be decoupled as is known.<!-- EPO <DP n="33"> --> Suitable smoothing filtering can be added easily to the DAC amplifier and mixer functions to make the analogue waveform suitably "smooth".</p><p id="p0117" num="0117">If the data rates are the same, and if the mixing function is not required in some signal paths, these conversions can be bypassed, for example via digital only paths 45 as shown, and the digital data routed from one digital audio interface 40 to the other 41. As noted above, this will require with some reformatting and retiming to convert the input according to the outgoing bus protocol (AC) and timing for transmission where this is different from the incoming bus protocol (PCM).</p><p id="p0118" num="0118">To implement scaling and mixing functions, digital audio signals received from the PCM bus interface 40 (e.g. voice call) and from the AC bus interface 41 (e.g. MP3 music stream) may be multiplied and added in the digital domain, as illustrated in <figref idrefs="f0013">Figure 9c</figref>. The analogue mixer 15a is replaced by a digital adder 15b and the analogue amplifiers 43a and 44a are replaced by digital multipliers 43b and 44b, the DACs and the ADC being removed from the now digital only signal path.</p><p id="p0119" num="0119">Even if the digital sample-rates are different, there exist known digital techniques for the required "Sample Rate Conversion" (SRC), generally involving conversion to a very high sample rate, low-bit-width representation, using techniques such as delta-sigma modulation or noise shaping for example, and then converting back down using appropriate anti-aliasing filtering, to the required lower sample-rate, higher-resolution format, required as output. Alternatively, for lower cost but lower audio quality, such blocks may just omit or add in extra samples to try and match the bit-rates. These optional blocks are shown dashed as additional SRC elements 48a and 48b in <figref idrefs="f0013">Figure 9d</figref>. One or both of these blocks may be implemented in hardware, or only one SRC may be and which is switched to a chosen input as desired, to reduce cost. Alternatively, all the digital signal manipulation or processing, including SRC, may be undertaken by a common ALU, with signals routed to it as appropriate.</p><p id="p0120" num="0120">However these techniques tend to be very complex and involve significant digital signal processing. Given the codec already contains DACs and ADCs for other purposes, such as driving speakers via port 47 as shown, the mixed analog-digital solution provides the advantage that it does not impose significant extra cost or complexity.<!-- EPO <DP n="34"> --> Further internal routing possibilities exist. For example <figref idrefs="f0013">Figure 9c</figref> shows in bold a digital only signal path through the configurable codec 9 having a digital adder 15b for mixing digital audio signals received from the two digital audio buses 40 and 41. Digital multipliers or scalers 43b and 44b may be used to adjust the magnitude of one signal (for example to reduce background music volume) compared with the other (for example increase the voice call volume).</p><p id="p0121" num="0121">In some applications, the input sample rates presented at interfaces 40 and 41 may be different from each other, or from the required output sample rate of the output from interface 41. For example the input signal at 41 could be a high-quality signal derived from an mp3 file in memory, or a lower-quality recorded message received from memory, but still at a different sample rate from the PCM signal from the communications processor. The output from 41 could be required to be of high quality, when listening to the mp3 file, or low-quality, if this output is merely to be recorded, possibly in a further compressed format, in memory. <figref idrefs="f0013">Figure 9d</figref> illustrates a similar configuration to <figref idrefs="f0013">Figure 9c</figref> but including a sample rate conversion function 48a and/or 48b in one or both of the incoming (pre-mixing) received signals. This allows received digital audio signals at different sample rates to be mixed. A further possibility, not shown in <figref idrefs="f0013">Figure 9d</figref> would be for a SRC block to be inserted between mixer 15b and interface 41, for the case when both input signals are the same sample rate, but the output sample rate is required to be different</p><p id="p0122" num="0122"><figref idrefs="f0014">Figure 9e</figref> shows DAC 13 and ADC 16 connected in series to sample-rate-convert a signal from the PCM interface, which is then presented to adder 15b to mix this signal with one from the AC-link interface, possibly after digital sample-rate-conversion by 48b, and transmit the resulting data back over the AC-link (or over the PCM link via path 49a). Thus one received signal is sample rate converted using the analogue domain, and re-converted to digital before digital mixing with the other received signal. This avoids any degradation of the (possibly high-quality, mp3) audio signal received by 41 due to conversion from digital to analog and back to digital, and the unnecessary power consumption by these conversion, while allowing the possibly lower quality signal input to 40 to be upsampled to a higher sample rate before the digtal mixing. This may be because the codec does not include digital SRC hardware, or if the on-chip ALU, if any, is already fully occupied performing other tasks. The other received signal (shown from the AC interface 41) may or may not be sample rate converted in<!-- EPO <DP n="35"> --> the digital domain depending on implementation and design criteria or goals. This SRC function may use up a sole available hardware SRC, or may use up all the capacity of the on-chip ALU, thus requiring the sample rate conversion of the signal from 40 to be performed using DAC 13 and ADC 16 as above. The signal processing path is shown in bold.</p><p id="p0123" num="0123">Similarly, <figref idrefs="f0014">Figure 9f</figref> shows DAC 14 and ADC connected in series to sample-rate-convert a signal from the AC-link, which is then presented to adder 15b to mix this signal with one from the PCM interface, possibly after digital sample-rate-conversion by 48a and transmit the resulting data back over the AC-link (or over the PCM link via path 49a). This arrangement avoids any unnecessary digital-analog-digital conversion, especially of higher-quality signals, while avoiding the need to add extra SRC blocks or a more powerful ALU to the codec, to provide a cost-effective solution. The signal processing path is shown in bold.</p><p id="p0124" num="0124">It can be seen that these various internal configurations of the audio codec give a wide range of possible combinations of signal routing, analogue or digital sample-rate conversion, ADC or DAC functions. The operational mode of a system using such an audio codec as the hub through which most audio signals pass can thus be programmed largely by the configuration of the audio codec, rather than requiring extra software or hardware associated with components elsewhere in the system.</p><p id="p0125" num="0125">As shown in <figref idrefs="f0015">Figure 10a</figref>, the codec 9 has three digital audio interfaces, an extra PCM interface 39a having been provided to couple to the upper bus section 36x. This obviates the need for a PCM interface on the applications processor 4. This embodiment is described in more detail below.</p><p id="p0126" num="0126">Whilst the codec 9 has been described as configurable using a switching matrix, fixed architecture codecs having one of the above described arrangements could alternatively be used, for example for dedicated functions.</p><p id="p0127" num="0127">A method of operating a digital audio device is described with reference to <figref idrefs="f0005">Figure 4b</figref>, in which an application or function is enabled by the structure of <figref idrefs="f0005">Figure 4a</figref>. This figure shows how to achieve the application of simultaneous audio playback and voice call reception, in which both audio files stored in memory 2 and a voice call are played to<!-- EPO <DP n="36"> --> the user on wireless headsets 12. This is achieved by effectively splitting the audio bus into two sections 36x and 36y with separate communications on the bus between the communications processor 3 and the audio codec 9, and the applications processor 4 and the wireless codec 11 respectively. A voice call is received by the digital audio device, and voice data from a GSM call for example is transferred from the communications processor 3 to the voice codec 9 over the lower PCM bus section 36y, as indicated by solid line 23. Additionally another digital audio signal which is not a voice call is received by the device, for example Hi-Fi music or an Audio Alert, and this audio data is transferred from the applications processor 4 to the voice codec 9 over its AC data bus or link 7, as indicated by solid line 20. (In this context, for simplicity, "received" audio data is taken to include the cases where the data is input to the digital audio device some time previously, for example as an mp3 file downloaded over the cellular radio link, or via say a USB connection, or as a message recorded from the Bluetooth headset, or even where a message is stored in a read-only memory or is otherwise defined during manufacture and assembly of the digital audio device.)</p><p id="p0128" num="0128">The two received signals are then mixed. The audio codec 9 receives the audio data via its PCM and AC-link interfaces, and mixes these, with appropriate analog or digital gain control and mixing, and sample-rate conversion in analogue or digital domains, as described above, to produce output digital audio data or a mixed signal which is transmitted over the AC '97 interface and link 7 to the applications processor 4. The applications processor 4 then transfers this data to the wireless codec 11 over the upper PCM bus section 36x, as indicated by line 25; and the mixed digital audio data or signal is then transmitted wirelessly to another device such as the headset 12.</p><p id="p0129" num="0129">Thus although audio data is being simultaneously carried over bus sections 36x and 36y, the pass device 37 ensures that these are carried separately. If the music file finishes, or the user wants to stop listening to it, then the communications processor 3 may resume transfer of voice data directly to the wireless codec using both bus sections 36x and 36y with the applications processor output tri-stated.</p><p id="p0130" num="0130">The dual mode audio bus allows use of single PCM interface wireless codecs when mixing communications side (e.g. GSM voice calls) and applications side (e.g. MP3 playback) audio data streams. This allows lower power consumption, reduced CPU overhead, less new software development. Indeed no software development is<!-- EPO <DP n="37"> --> required on the communications side, and new software is introduced only for new features on the applications side, with minimum effort as it only controls the codec and is not doing any additional audio signal processing. Furthermore there are reduced hardware costs compared with say a more expensive dual PCM interface wireless codec.</p><p id="p0131" num="0131">In <figref idrefs="f0005">Figure 4b</figref> the audio codec 9 re-digitises the mixed analogue signal at the wireless codec's sampling rate which is typically 8kHz. This data is then transferred from the applications processor's PCM interface to the wireless codec 11. This can be achieved using a direct memory access (DMA) rather than using generic software code, in order to minimise loading of the applications processor 4. The DMA routine seamlessly transfers incoming data from the applications processor's AC-Link FIFO buffer (coupled to the AC data link 7) to the FIFO buffer for outgoing data at the PCM interface. Since the applications processor must already be active for applications side playback (e.g. MP3), this simple task does not noticeably affect its power consumption.</p><p id="p0132" num="0132">Whilst the application of mixing a voice call and a non-voice call and transmitting the mixed digital audio signal wirelessly has used the split bus architecture of <figref idrefs="f0005">Figure 4a</figref>, other digital audio device architectures could alternatively be used. For example two separate buses could be used.</p><p id="p0133" num="0133">In an embodiment of the present invention, illustrated in <figref idrefs="f0015">Figure 10a</figref>, the audio codec 9 is arranged to connect to the PCM bus 36 both above (x) and below (y) the pass device(s) 37 in order to provide its output signal directly to the wireless codec 11 rather than via the applications processor. This requires added complexity from the audio codec 9, but simplifies the applications processor 4 requirements, for example by removing the need for a PCM interface. The second PCM output of the audio codec can be implemented by routing the ADC digitized word into the PCM interface as per track 49 in <figref idrefs="f0012">Figure 9a or 9b</figref> and transmitting this data via another pin on the audio codec, which is then connected to the upper section of the PCM bus 36x. Usually no extra clock pins will be required, since the clock lines in the top and bottom segments of the bus will not be isolated by pass devices, so just an extra data pin rather than a complete extra PCM interface is required in audio codec 9. However it would be possible if desired also to have pass devices in the clock lines to allow separate clock<!-- EPO <DP n="38"> --> domains, at the expense of extra circuitry and pins needed to generate and output the second set of clocks.</p><p id="p0134" num="0134">Examples of applications enabled by the structure of <figref idrefs="f0015">Figure 10a</figref> are now described with reference to <figref idrefs="f0015">Figures 10b</figref> and <figref idrefs="f0016">10c</figref>.</p><p id="p0135" num="0135"><figref idrefs="f0015">Figure 10b</figref> shows a method of operating a digital audio device in order to mix and wirelessly transmit two received digital audio signals, and is similar to <figref idrefs="f0005">Figure 4b</figref>, where background music from memory is mixed in with a received voice call. However the triple digital audio interface audio codec 9 of <figref idrefs="f0015">Figure 10a</figref> is used, which obviates the need for a PCM or other audio bus interface on the applications processor 4. The signal flows are similar, except that data travels from audio codec via path 25a directly onto the upper PCM bus 36x, in place of through the applications processor via path 25 of <figref idrefs="f0005">Figure 4b</figref>.</p><p id="p0136" num="0136">Where an input to the applications processor chip from the PCM bus is needed, this audio is received by the audio codec 9 and forwarded to the applications processor 4 via the I2S or AC interface 7. The digital only signal paths described above with respect to <figref idrefs="f0012 f0013 f0014">Figure 9</figref> can be used to efficiently transfer the digital audio data or signals between the digital audio bus interfaces.</p><p id="p0137" num="0137"><figref idrefs="f0016">Figure 10c</figref> shows a "Voice Dictation" application or method of operating a digital audio device where a received wireless digital audio signal from another device is routed via the audio codec 9 to the applications processor. In the embodiment an incoming digitised voice from the wireless codec is transferred to memory, possibly after some compression (for 'Voice Dictation' applications for example). The signal path 26 flows from the Wireless codec via the PCM bus and the audio codec's second PCM data pin into the audio codec, where it is routed (and retimed and reformatted as required) for transmission on the AC '97 bus to the applications processor. Thence it is written to memory (possibly after some data compression algorithm within the application processor).</p><p id="p0138" num="0138">The above arrangements have only been described with respect to one data wire in the PCM bus. However, the PCM bus of the embodiments comprises two data wires,<!-- EPO <DP n="39"> --> allowing data propagation in both directions simultaneously, i.e. duplex operation, as in <figref idrefs="f0002">Figure 2a</figref>.</p><p id="p0139" num="0139"><figref idrefs="f0017">Figure 11a</figref> illustrates the structure of a practical duplex bus 36, having two pathways 36a comprising 36ay and 36ax and 36b comprising 36bx and 36by and respective pass devices 37a and 37b, as also shown in <figref idrefs="f0006">Figure 5c</figref>.</p><p id="p0140" num="0140">Methods of operating a digital audio device or digital audio applications using the structure of <figref idrefs="f0017 f0018 f0019">Figure 11</figref> a are now described with reference to <figref idrefs="f0017">Figures 11b</figref>, <figref idrefs="f0018">11c, and 11d</figref>.</p><p id="p0141" num="0141">One application enabled by the duplex bus is duplex voice calls, using the wireless headset to receive an incoming call while continuing to listen to background music, in a similar fashion to the application of <figref idrefs="f0005">Figure 4b</figref>, but with the capability of simultaneously sending outgoing audio messages using the headset microphone. Referring to <figref idrefs="f0017">Figure 11b</figref>, it can be seen that the user's voice is transmitted directly from the wireless codec 11 to the communications processor 3 over both sections of the second bus 36bx and 36by (and the pass device 37b) via the path 32 illustrated by the dashed line. However, in a similar fashion to <figref idrefs="f0005">Figure 4b</figref>, the caller's voice is transmitted from the communications processor 3 first to the audio codec 9 via path 23 over the lower section (y) of the first bus 36ay, where it is mixed with audio from memory 2 via path 20 before being transmitted from the applications processor 4 to the wireless codec 11 via path 25 over the upper (x) section of the first bus 36ax. Thus the first pass device 37a effectively separates the bus sections 36ax and 36ay of the first bus 36a, but the second pass device 37b effectively combines the bus sections 36bx and 36by of the second bus 36b. The local codec 9 must of course be controlled to tri-state its output onto 36by to allow the wireless codec microphone signal to pass through 37b over to the communications processor 3.</p><p id="p0142" num="0142"><figref idrefs="f0018">Figure 11c</figref> illustrates another method of operating a digital audio device in which a received wireless digital audio signal such as digital dictation is stored on the device, another digital audio signal such as MP3 music is wirelessly transmitted, and a third digital audio signal such as an outgoing message is transmitted in response to a voice call. This arrangement uses the architecture of <figref idrefs="f0017">Figure 11a</figref>, in which the user of the device (e.g. Smartphone) is using a digital dictation (DD) application in which audio data from the wireless headset 12 is recorded in memory 2, while music (e.g. from MP3<!-- EPO <DP n="40"> --> files) or other audio data is played back over the wireless headset. The system is configured such that the device may also respond to an incoming call from the communications processor 3 by playing a previously recorded automated answerphone or voice-mail type outgoing message (OGM) from memory 2.</p><p id="p0143" num="0143">The user's voice is transferred from the wireless codec 11 to the applications processor 4 and memory 2 for recording via path 26a, and additionally audio data is transferred via path 26b from the memory 2 and applications processor 4 to the wireless codec 11 for playing to the user. These transfers 26a and 26b take place over the upper sections 36ax and 36bx of the audio buses 36a and 36b. The outgoing message (OGM) stored in memory 2 is transferred to the audio codec 9 by the applications processor 4 (line 27a). If sample-rate conversion is required, the path through the audio codec 9 may include passing through a DAC 14 and ADC 16 or a digital SRC 48b as discussed above. Otherwise the data may be transferred in the digital domain from AC-link interface to the PCM interface across an internal path such as 45. The OGM, suitably re-digitised if necessary, is then transferred from the codec 9 to the communications processor 3 over the PCM bus 36by, (path 27b) for playing to the caller.</p><p id="p0144" num="0144">Far end voice signals (shown as dashed line 28) from the communications processor 3 (e.g. talking or background noise at the caller end) are ignored.</p><p id="p0145" num="0145"><figref idrefs="f0018">Figure 11d</figref> shows a similar application, but in this case the third digital audio signal is a received or incoming voice call message and is stored or recorded in memory, without disturbing the user, who is dictating and listening to music. The incoming message passes through the audio codec either directly (via the dotted by-pass path 45) or via a DAC/ADC or digital sample-rate conversion.</p><p id="p0146" num="0146"><figref idrefs="f0019">Figure 11e</figref> shows a further "call screening" type application in which music or other audio files (the second digital audio signal) are played back to a user of the device over wireless headsets, and this is mixed with the third digital audio signal such as an incoming message (ICM) from a caller so that the user can decide whether to answer the call or just record the incoming message. An incoming message or voice data is sent from the communications processor 3 to the audio codec 9 over the PCM bus 36ay (lower section) (solid line 29). This message (ICM) may be in response to the<!-- EPO <DP n="41"> --> OGM from the application of <figref idrefs="f0008">Figure 6</figref> for example. The audio codec passes this signal across the AC-link to the applications processor, which stores the incoming message (ICM) in memory 2, possibly after compressing this data.</p><p id="p0147" num="0147">The application processor also retrieves audio data (e.g. MP3 music files) from the memory 2 via path 20, and converts this data to suitable digital audio signals, which are then transferred to the wireless codec 11 via path 25 over the PCM bus 36ax (upper section). The application processor may also digitally mix in the incoming message, so that the signal on path 25 is a mix of both the music and the incoming message. The combined signal is then played to the user over the wireless headsets 12, so that the user can decide whether to answer the call or not, or just to record it, or to ignore it altogether.</p><p id="p0148" num="0148">The sample-rate of the data from the communications processor 3 will generally be different and lower than that of the hi-fi audio data retrieved from the memory 2. If the incoming message is only to be recorded, then the audio codec can send this data at the original low data rate across the AC-link, to be processed at this low data rate by the applications processor. This avoids consuming power in the audio codec due to analog or digital sample-rate conversion, and also reduces the computing bandwidth required of the applications processor 4 in its compression, or vocoder, operations. If the signals are to be mixed however, either the sample-rate conversion up to the hi-fi sample rate needs to be activated in the audio codec, or some relatively crude (but possibly adequate for communications-quality audio) sample-rate conversion, (e.g. just repeating samples until updated) will be necessary in the applications processor, requiring extra software and power consumption in the applications processor 4.</p><p id="p0149" num="0149">The communications processor 3 can be arranged to ignore an outgoing signal (i.e. mute near-end) from the wireless codec 11 (indicated by dashed line 32) in order to prevent any near-end voice (from the wireless headset 12 microphone for example) from being heard at the far end (ie on the voice call). The communications processor can then be arranged to accept these voice signals (32) in order for the user to answer and intercept the call (i.e. un-mute), which may be carried on with or without the audio file from memory still being played back depending on configuration of the device or the user's preferences.<!-- EPO <DP n="42"> --></p><p id="p0150" num="0150">It will be apparent that numerous other applications could also benefit from the dual mode nature of the audio bus 36, so that audio data from many other applications (e.g. Karaoke, with the microphone used by third parties) could be transferred simultaneously over the audio data bus, for example to play mixed audio data from different applications to a user; especially over a wireless connection. Another example is an FM receiver or other external audio source furnishing analogue signals to the local codec 9 which are then digitized to be transferred to the wireless codec 11 with or without other voice/audio signals.</p><p id="p0151" num="0151">It will also be apparent that these digital audio applications or methods of operating digital audio devices may be implemented using other architectures, for example separate digital audio and/or control buses and/or additional codecs. These digital audio applications are therefore not limited to the split mode audio bus architecture described above, but could be implemented on different digital audio devices.</p><p id="p0152" num="0152"><figref idrefs="f0020">Figure 12a</figref> shows a duplex PCM bus configuration. The PCM bus inputs of the audio codec are both set to receive signals on the duplex bus wires. There is no direct connection from the applications processor 4 to the PCM bus 36a and 36b. No pass elements (e.g. 37, 37a, 37b from previous figures) are shown, and this can be implemented by operating the bus in unitary mode, or using a standard bus without pass elements.</p><p id="p0153" num="0153">In some applications it is advantageous for the applications processor 4 to process the two (incoming and outgoing) audio signals separately. The AC97 AC-link interface operates with tagged time slots, including one normally assigned to output data from the Left channel or the (stereo) ADC and one to the right channel, as described earlier with reference to <figref idrefs="f0002">Figure 2b</figref>. So the incoming signals can be routed digitally so for example the near-end signal is communicated on the left ADC slot and the far-end signal is routed on the right ADC slot. This further extends the audio applications that may be implemented using the shared PCM audio bus architectures described - further examples are given below.</p><p id="p0154" num="0154"><figref idrefs="f0020">Figure 12b</figref> illustrates a method of operating a digital audio device to communicate a duplex voice call with another device (caller) and with a wireless other device, and to simultaneously independently record each half of the duplex call. The audio codec 9<!-- EPO <DP n="43"> --> simultaneously delivers to the applications processor 4 both near-end audio (e.g. voice from the user headset 12 to the communications processor 3 over PCM interface 36b) and far-end audio (e.g. voice from the caller/communications processor 3 to the wireless codec 11 and user headset 12 over the PCM interface 36a) signals. The near end signal path is referenced 51 and the far end signal path is referenced 52.</p><p id="p0155" num="0155">By supplying both voice streams (near and far end or transmitting and receiving) of a voice call to the applications processor 4, new audio applications or functionality are enabled. For example, this allows a voice call (both caller and user voices) to be recorded into memory 2 by the applications processor. This can be achieved without having to implement mixing of the two channels by the communications processor 3 and transfer of this mixed signal to the applications processor 4 over a serial interface (e.g. UART 5 of <figref idrefs="f0001">Figure 1</figref>). This in turn means that no special communications processor drivers are needed to implement this functionality, and that the quality of the voice signals is maintained. Further there is a much reduced processing load on the communication processor 3 as it no longer needs to mix the signals.</p><p id="p0156" num="0156">Alternatively the two voice signals could be mixed in the audio codec 9 and delivered over only one AC channel on the AC link. Whilst this may reduce audio quality slightly, it does free up one of the AC channels for other applications. This also reduces some processing load of the application processor 4 as the mix of the signals is done in the codec 9. Also the separated streams (Near End separated from the Far End) enable additional enhancement processing for each stream by itself if desired (e.g. remove Far End signal from Near End one to provide echo removal, noise suppression on Near End for digital dictation applications; enhanced streams before compression and storing in memory)</p><p id="p0157" num="0157">Also the use of two AC channels on the AC-link 7 to deliver voice to the applications processor 4 further allows additional functionality as the unmixed audio or voice channels can be used separately by the applications processor. For example whilst recording the voice call (both near and far end), the near end voice (from the wireless headset 12) may separately be used for voice activated functions such as voice activation menu or voice memo pad.<!-- EPO <DP n="44"> --></p><p id="p0158" num="0158">This is described in more detail with reference to <figref idrefs="f0021">Figure 12c</figref>. The near end signal (path 53) is routed directly using one slot of the AC link 7 (path 53a), and is also mixed (path 53b) with the far-end signal (path 54), in digital or analogue domain, and sent across another slot on the AC-link (path 55). Again a wide range of analogue or digital sample rate conversion modes are available according to the choice of internal configuration of the audio codec.</p><p id="p0159" num="0159">Note that the features just described in <figref idrefs="f0020">Figures 12b</figref> and <figref idrefs="f0021">12c</figref> can also be achieved with the pass devices 37a and 37b.</p><p id="p0160" num="0160"><figref idrefs="f0022">Fig 13a</figref> shows connections on the duplex PCM bus (36) in an embodiment of the present invention. The audio codec 9 has a dual PCM interface 9a to a dual mode PCM bus, i.e. 4 data wires in total, two for each part of the bus, and where there is no PCM link from the applications processor 4 to the PCM bus 36. This is similar to the architecture of <figref idrefs="f0015">Figure 10a</figref>, but shows two data buses instead of just one.</p><p id="p0161" num="0161"><figref idrefs="f0022">Figure 13b</figref> shows the signal flow for the application similar to that discussed in relation to <figref idrefs="f0017 f0018 f0019">Fig 11</figref> b. Signal flow is very similar, except that the output 25 from the audio codec to the wireless headset now passes directly from the audio codec 9 across the PCM bus 36ax rather than via the AC-link 7 and the applications processor 4.</p><p id="p0162" num="0162"><figref idrefs="f0023">Figure 13c</figref> shows the signal flow for the application similar to that discussed in relation to <figref idrefs="f0018">Fig 11c</figref>. Signal flow is very similar, except that the output 26d from the audio codec to the wireless headset 12 now passes directly from the audio codec 9 across the PCM bus 36bx rather than via the AC-link 7 and the applications processor 4. Similarly the signal flow 26c from the wireless headset 12 passes directly to the audio codec 9 across the PCM bus 36ax. Thus three signal flows pass between the audio codec 9 and the applications processor 4, however these can all be accommodated on the single AC bus, which as described previously includes multiple channel capability using time divided slots. Three such slots or AC channels are used in this application, one of each mapped respectively to an incoming and outgoing PCM channel on one of the PCM interfaces, and to an incoming channel on the other PCM interface.</p><p id="p0163" num="0163"><figref idrefs="f0023">Figure 13d</figref> shows the signal flow for the application similar to that discussed in relation to <figref idrefs="f0017 f0018 f0019">Fig 11</figref> d. Signal flow is very similar, except that the output 26d from the audio codec<!-- EPO <DP n="45"> --> to the wireless headset now passes directly from the audio codec across the PCM bus rather than via the AC-link and the applications processor; and the signal flow 26c from the wireless codec 11 to the audio codec 9 passes directly through the PCM bus 36ax to the audio codec rather than through the applications processor 4.</p><p id="p0164" num="0164"><figref idrefs="f0024">Figure 13e</figref> shows the signal flow for the application similar to that discussed in relation to <figref idrefs="f0019">Fig 11e</figref>. Signal flow is very similar, except that the output 25 from the audio codec to the wireless headset now passes directly from the audio codec across the PCM bus rather than via the AC-link and the applications processor.</p><p id="p0165" num="0165">The skilled person will recognise that the above-described apparatus and methods may be embodied as processor control code, for example on a carrier medium such as a disk, CD- or DVD-ROM, programmed memory such as read only memory (Firmware), or on a data carrier such as an optical or electrical signal carrier. For many applications embodiments of the invention will be implemented on a DSP (Digital Signal Processor), ASIC (Application Specific Integrated Circuit) or FPGA (Field Programmable Gate Array). Thus the code may comprise conventional programme code or microcode or, for example code for setting up or controlling an ASIC or FPGA. The code may also comprise code for dynamically configuring re-configurable apparatus such as re-programmable logic gate arrays. Similarly the code may comprise code for a hardware description language such as Verilog <sup>™</sup> or VHDL (Very high speed integrated circuit Hardware Description Language) and their analogue extensions. As the skilled person will appreciate, the code may be distributed between a plurality of coupled components in communication with one another. Where appropriate, the embodiments may also be implemented using code running on a field-(re)programmable analogue array or similar device in order to configure analogue hardware.</p><p id="p0166" num="0166">The skilled person will also appreciate that the various embodiments and specific features described with respect to them could be freely combined with the other embodiments or their specifically described features in general accordance with the above teaching. The skilled person will also recognise that various alterations and modifications can be made to specific examples described without departing from the scope of the appended claims.</p></description><claims mxw-id="PCLM56985635" lang="DE" load-source="patent-office"><!-- EPO <DP n="49"> --><claim id="c-de-01-0001" num="0001"><claim-text>Zellular-Mobiltelefon, mit:
<claim-text>einem Kommunikations-Prozessor (3) zum Verarbeiten eines Telefongespräches;</claim-text>
<claim-text>einem Anwendungs-Prozessor (4) zur Verarbeitung digitaler Audio-Signale;</claim-text>
<claim-text>einem Funk-Codec (11) zur drahtlosen Kommunikation von Audio-Daten mit einem drahtlosen Peripheriegerät;</claim-text>
<claim-text>einem Audio-Codec (9) zur Umwandlung digitaler Audio-Signale in Analog-Audio-Signale und zur Umwandlung von Analog-Audio-Signalen in digitale Audio-Signale, wobei der Audio-Codec erste und zweite digitale Audio-Bus-Schnittstellen (40, 41) zum Koppeln mit jeweiligen bidirektionalen digitalen Audio-Bussen oder Busabschnitten und Digital-/Analog-Wandlereinrichtungen (13, 14) zum Umwandeln digitaler Audio-Signale, die über die ersten und zweiten digitalen Audio-Bus-Schnittstellen empfangen werden, in Analog-Audio-Signale zur Ausgabe an einen Audio-Wandler umfasst;</claim-text>
<claim-text>einem ersten bidirektionalen digitalen Audio-Bus (7), der die erste Schnittstelle des Audio-Codec (9) und den Anwendungs-Prozessor (4) koppelt; und</claim-text>
<claim-text>einem zweiten bidirektionalen digitalen Audio-Bus oder einem ersten Abschnitt eines zweiten bidirektionalen digitalen Audio-Busses (36x, 36y), der die zweite Schnittstelle des Audio-Codec (9) und einen von dem Kommunikations-Prozessor (3) und dem Drahtlos-Codec (11) verbindet,</claim-text>
<claim-text><b>dadurch gekennzeichnet, dass</b>:
<claim-text>(a) der Audio-Codec eine dritte digitale Audio-Bus-Schnittstelle (40, 41) zum Verbinden mit einem jeweiligen bidirektionalen digitalen Audio-Bus oder Bus-Abschnitt umfasst;</claim-text><claim-text>(b) der Audio-Codec Addiereinrichtungen (15a, 15b) zum Addieren digitaler Audio-Signale, die über eine jeweilige eine der digitalen Audio-Bus-Schnittstellen empfangen werden, miteinander umfasst, um ein kombiniertes digitales Audio-Signal zu bilden;</claim-text><claim-text>(c) der Audio-Codec Einrichtungen zum Lenken des kombinierten Signals an eine der ersten bis dritten digitalen Audio-Bus-Schnittstellen des Audio-Codec<!-- EPO <DP n="50"> --> zur Übertragung auf einen jeweiligen digitalen Audio-Bus oder Bus-Abschnitt umfasst; und</claim-text><claim-text>(d) das zellulare Mobiltelefon einen dritten bidirektionalen digitalen Audio-Bus oder einen zweiten Abschnitt des zweiten bidirektionalen digitalen Audio-Busses (36x, 36y) umfasst, der von dem ersten Abschnitt des zweiten bidirektionalen digitalen Audio-Busses trennbar ist und die dritte Schnittstelle des Audio-Codecs (9) und den anderen von dem Kommunikations-Prozessor (3) und dem Drahtlos-Codec (11) koppelt.</claim-text></claim-text></claim-text></claim><claim id="c-de-01-0002" num="0002"><claim-text>Zellulares Mobiltelefon nach Anspruch 1, bei dem der Audio-Codec (9) Abtastraten-Umwandlungseinrichtungen (48a, 48b) umfasst, die zwischen einer der digitalen Audio-Bus-Schnittstellen und einem Eingang der Addiereinrichtungen (15b) einschaltbar sind.</claim-text></claim><claim id="c-de-01-0003" num="0003"><claim-text>Zellulares Mobiltelefon nach Anspruch 2, bei dem der Audio-Codec (9) eine weitere Abtastraten-Umwandlungseinrichtung (48a, 48b) umfasst, die zwischen einer der digitalen Audio-Bus-Schnittstellen und einem anderen Eingang der Addiereinrichtungen (15b) einschaltbar ist.</claim-text></claim><claim id="c-de-01-0004" num="0004"><claim-text>Zellulares Mobiltelefon nach Anspruch 1, bei dem der Audio-Codec (9) Abtastraten-Umwandlungseinrichtungen (48a, 48b) umfasst, die zwischen dem Ausgang der Addiereinrichtungen (15b) und einer der digitalen Audio-Bus-Schnittstellen einschaltbar sind.</claim-text></claim><claim id="c-de-01-0005" num="0005"><claim-text>Verfahren zum Betrieb eines zellularen Mobiltelefons nach einem der Ansprüche 1 bis 4, wobei das Verfahren Folgendes umfasst:
<claim-text>Übertragen eines ersten digitalen Audio-Signals über einen der digitalen Audio-Busse oder Bus-Abschnitte über eine jeweilige eine der ersten bis dritten digitalen Audio-Bus-Schnittstellen an die Addiereinrichtungen (15a, 15b) des Audio-Codec (9);</claim-text>
<claim-text>Übertragen eines zweiten digitalen Audio-Signals über einen anderen der digitalen Audio-Busse oder Bus-Abschnitte über einen jeweiligen einen der ersten bis dritten digitalen Audio-Bus-Schnittstellen an die Addiereinrichtungen (15a, 15b) des Audio-Codec (9);<!-- EPO <DP n="51"> --></claim-text>
<claim-text>Addieren der ersten und zweiten digitalen Audio-Signale zur Bildung eines kombinierten digitalen Audio-Signals; und</claim-text>
<claim-text>Übertragen des kombinierten digitalen Audio-Signals von dem Audio-Codec an einen der digitalen Audio-Busse oder Bus-Abschnitte über eine jeweilige eine der ersten bis dritten digitalen Audio-Bus-Schnittstellen des Audio-Codec.</claim-text></claim-text></claim><claim id="c-de-01-0006" num="0006"><claim-text>Verfahren nach Anspruch 5, bei dem der Schritt des Übertragens des kombinierten digitalen Audio-Signals dessen Übertragung über die verbleibende eine von den ersten bis dritten digitalen Audio-Bus-Schnittstellen, über die weder das erste noch das zweite digitale Audio-Signal empfangen wurde, umfasst.</claim-text></claim><claim id="c-de-01-0007" num="0007"><claim-text>Verfahren nach Anspruch 5, bei dem der Schritt der Übertragung des kombinierten digitalen Audio-Signals dessen Übertragung über eine der digitalen Audio-Bus-Schnittstellen umfasst, über die die ersten und zweiten digitalen Audio-Signale empfangen wurden.</claim-text></claim><claim id="c-de-01-0008" num="0008"><claim-text>Verfahren nach Anspruch 5, bei dem:
<claim-text>das erste digitale Audio-Signal von dem Anwendungs-Prozessor von einem Speicher (2) empfangen und von dem Anwendungs-Prozessor (4) über den ersten digitalen Audio-Bus (7) übertragen wird,</claim-text>
<claim-text>das zweite digitale Audio-Signal von dem Kommunikations-Prozessor (3) von einem zellularen Telefon-Netzwerk empfangen und von dem Kommunikations-Prozessor (3) über den dritten bidirektionalen Bus oder den zweiten Abschnitt des digitalen Audio-Busses (36y) übertragen wird, und</claim-text>
<claim-text>das kombinierte digitale Audio-Signal von dem Audio-Codec an den Drahtlos-Codec (11) über den zweiten bidirektionalen digitalen Audio-Bus oder den ersten Abschnitt des zweiten bidirektionalen digitalen Audio-Busses (36x) übertragen wird.</claim-text></claim-text></claim></claims><claims mxw-id="PCLM56985636" lang="EN" load-source="patent-office"><!-- EPO <DP n="46"> --><claim id="c-en-01-0001" num="0001"><claim-text>A cellular mobile telephone comprising:
<claim-text>a communications processor (3) for processing a telephony call;</claim-text>
<claim-text>an applications processor (4) for processing digital audio signals;</claim-text>
<claim-text>a wireless codec (11) for wirelessly communicating audio data with a wireless peripheral device;</claim-text>
<claim-text>an audio codec (9) for converting digital audio signals to analogue audio signals and for converting analogue audio signals to digital audio signals, the audio codec comprising first and second digital audio bus interfaces (40, 41) for coupling to respective bidirectional digital audio buses or bus sections, and digital-to-analogue conversion means (13, 14) for converting digital audio signals received through the first and second digital audio bus interfaces to analogue audio signals, for output to an audio transducer (10);</claim-text>
<claim-text>a first bidirectional digital audio bus (7) coupling the first interface of the audio codec (9) and the applications processor (4); and</claim-text>
<claim-text>a second bidirectional digital audio bus, or a first section of a second bidirectional digital audio bus (36x, 36y), coupling the second interface of the audio codec (9) and one of the communications processor (3) and the wireless codec (11),</claim-text>
<claim-text><b>characterised in that</b>:
<claim-text>(a) the audio codec comprises a third digital audio bus interface (40, 41) for coupling to a respective bidirectional digital audio bus or bus section;</claim-text><claim-text>(b) the audio codec comprises adding means (15a, 15b) for adding together digital audio signals received through respective ones of said digital audio bus interfaces to form a combined digital audio signal;</claim-text><claim-text>(c) the audio codec comprises means to route the combined signal to one of the first to third digital audio bus interfaces of the audio codec for transmission on a respective digital audio bus or bus section; and</claim-text><claim-text>(d) the cellular mobile telephone comprises a third bidirectional digital audio bus, or a second section of the second bidirectional digital audio bus (36x, 36y), separable from the first section of the second bidirectional digital audio bus, coupling the third interface of the audio codec (9) and the other of the communications processor (3) and the wireless codec (11).</claim-text></claim-text><!-- EPO <DP n="47"> --></claim-text></claim><claim id="c-en-01-0002" num="0002"><claim-text>A cellular mobile telephone according to claim 1 in which the audio codec (9) comprises sample rate conversion means (48a, 48b) connectable between one of the said digital audio bus interfaces and an input of the adding means (15b).</claim-text></claim><claim id="c-en-01-0003" num="0003"><claim-text>A cellular mobile telephone according to claim 2 in which the audio codec (9) comprises a further sample rate conversion means (48a, 48b) connectable between one of the said digital audio bus interfaces and another input of the adding means (15b).</claim-text></claim><claim id="c-en-01-0004" num="0004"><claim-text>A cellular mobile telephone according to claim 1 in which the audio codec (9) comprises sample rate conversion means (48a, 48b) connectable between the output of the adding means (15b) and one of the said digital audio bus interfaces.</claim-text></claim><claim id="c-en-01-0005" num="0005"><claim-text>A method of operating a cellular mobile telephone according to any one of claims 1 to 4, the method comprising:
<claim-text>transmitting a first digital audio signal over one of the said digital audio buses or bus sections through a respective one of the first to third digital audio bus interfaces to the adding means (15a, 15b) of the audio codec (9);</claim-text>
<claim-text>transmitting a second digital audio signal over another of the said digital audio buses or bus sections through a respective one of the first to third digital audio bus interfaces to the adding means (15a, 15b) of the audio codec (9);</claim-text>
<claim-text>adding the first and second digital audio signals to form a combined digital audio signal; and</claim-text>
<claim-text>transmitting the combined digital audio signal from the audio codec on one of the digital audio buses or bus sections through a respective one of the first to third digital audio bus interfaces of the audio codec.</claim-text></claim-text></claim><claim id="c-en-01-0006" num="0006"><claim-text>A method according to claim 5 in which the step of transmitting the combined digital audio signal comprises transmitting it through the remaining one, out of the first to third digital audio bus interfaces, through which neither the first nor the second digital audio signal was received.</claim-text></claim><claim id="c-en-01-0007" num="0007"><claim-text>A method according to claim 5 in which the step of transmitting the combined digital audio signal comprises transmitting it through one of the digital audio bus interfaces through which the first and second digital audio signals were received.<!-- EPO <DP n="48"> --></claim-text></claim><claim id="c-en-01-0008" num="0008"><claim-text>A method according to claim 5 in which<br/>
the first digital audio signal is received by the applications processor from a memory (2) and is transmitted from the applications processor (4) over the first digital audio bus (7),<br/>
the second digital audio signal is received by the communications processor (3) from a cellular telephone network and is transmitted from the communications processor (3) over the third bidirectional bus digital audio bus, or the second section of the second bidirectional digital audio bus (36y), and<br/>
the combined digital audio signal is transmitted from the audio codec to the wireless codec (11) over the second bidirectional bus digital audio bus, or the first section of the second bidirectional digital audio bus (36x).</claim-text></claim></claims><claims mxw-id="PCLM56985637" lang="FR" load-source="patent-office"><!-- EPO <DP n="52"> --><claim id="c-fr-01-0001" num="0001"><claim-text>Téléphone mobile cellulaire comprenant :
<claim-text>un processeur de communications (3) pour traiter un appel de téléphonie ;</claim-text>
<claim-text>un processeur d'applications (4) pour traiter des signaux audio numériques ;</claim-text>
<claim-text>un codec sans fil (11) pour communiquer de manière sans fil des données audio avec un dispositif périphérique sans fil ;</claim-text>
<claim-text>un codec audio (9) pour convertir des signaux audio numériques en signaux audio analogiques et pour convertir des signaux audio analogiques en signaux audio numériques, le codec audio comprenant des première et deuxième interfaces de bus audio numériques (40, 41) pour le couplage à des bus audio numériques bidirectionnels respectifs ou des sections de bus, et des moyens de conversion numérique-à analogique (13, 14) pour convertir des signaux audio numériques reçus par l'intermédiaire des première et deuxième interfaces de bus audio numériques en signaux audio analogiques, pour la sortie vers un transducteur audio (10) ;</claim-text>
<claim-text>un premier bus audio numérique bidirectionnel (7) couplant la première interface du codec audio (9) et le processeur d'applications (4) ; et</claim-text>
<claim-text>un deuxième bus audio numérique bidirectionnel, ou une première section d'un deuxième bus audio numérique bidirectionnel (36x, 36y), couplant la deuxième interface du codec audio (9) et un du processeur de communications (3) et du codec sans fil (11),</claim-text>
<claim-text><b>caractérisé en ce que</b> :
<claim-text>(a) le codec audio comprend une troisième interface de bus audio numérique (40, 41) pour le couplage à un bus audio numérique bidirectionnel respectif ou une section de bus ;</claim-text>
<claim-text>(b) le codec audio comprend des moyens d'addition (15a, 15b) pour additionner ensemble des signaux audio numériques reçus par l'intermédiaire d'interfaces respectives desdites interfaces de bus audio numériques pour former un signal audio numérique combiné ;</claim-text>
<claim-text>(c) le codec audio comprend des moyens pour acheminer le signal combiné jusqu'à une des première à troisième interfaces de bus audio numériques du codec audio pour la transmission sur un bus audio numérique respectif ou une section de bus ; et<!-- EPO <DP n="53"> --></claim-text>
<claim-text>(d) le téléphone mobile cellulaire comprend un troisième bus audio numérique bidirectionnel, ou une deuxième section du deuxième bus audio numérique bidirectionnel (36x, 36y), séparable de la première section du deuxième bus audio numérique bidirectionnel, couplant la troisième interface du codec audio (9) et l'autre du processeur de communications (3) et du codec sans fil (11).</claim-text></claim-text></claim-text></claim><claim id="c-fr-01-0002" num="0002"><claim-text>Téléphone mobile cellulaire selon la revendication 1, dans lequel le codec audio (9) comprend des moyens de conversion de taux d'échantillonnage (48a, 48b) connectables entre une desdites interfaces de bus audio numériques et une entrée des moyens d'addition (15b).</claim-text></claim><claim id="c-fr-01-0003" num="0003"><claim-text>Téléphone mobile cellulaire selon la revendication 2, dans lequel le codec audio (9) comprend un moyen de conversion de taux d'échantillonnage supplémentaire (48a, 48b) connectable entre une desdites interfaces de bus audio numériques et une autre entrée des moyens d'addition (15b).</claim-text></claim><claim id="c-fr-01-0004" num="0004"><claim-text>Téléphone mobile cellulaire selon la revendication 1, dans lequel le codec audio (9) comprend des moyens de conversion de taux d'échantillonnage (48a, 48b) connectables entre la sortie des moyens d'addition (15b) et une desdites interfaces de bus audio numériques.</claim-text></claim><claim id="c-fr-01-0005" num="0005"><claim-text>Méthode d'exploitation d'un téléphone mobile cellulaire selon l'une quelconque des revendications 1 à 4, la méthode comprenant :
<claim-text>la transmission d'un premier signal audio numérique sur un desdits bus audio numériques ou sections de bus par l'intermédiaire d'une interface respective des première à troisième interfaces de bus audio numériques aux moyens d'addition (15a, 15b) du codec audio (9) ;</claim-text>
<claim-text>la transmission d'un deuxième signal audio numérique sur un autre desdits bus audio numériques ou sections de bus par l'intermédiaire d'une interface respective des première à troisième interfaces de bus audio numériques aux moyens d'addition (15a, 15b) du codec audio (9) ;<!-- EPO <DP n="54"> --></claim-text>
<claim-text>l'addition des premier et deuxième signaux audio numériques pour former un signal audio numérique combiné ; et</claim-text>
<claim-text>la transmission du signal audio numérique combiné à partir du codec audio sur un des bus audio numériques ou sections de bus par l'intermédiaire d'une interface respective des première à troisième interfaces de bus audio numériques du codec audio.</claim-text></claim-text></claim><claim id="c-fr-01-0006" num="0006"><claim-text>Méthode selon la revendication 5, dans laquelle l'étape de transmission du signal audio numérique combiné comprend sa transmission par l'intermédiaire de l'interface restante, hors des première à troisième interfaces de bus audio numériques, par l'intermédiaire de laquelle ni le premier ni le deuxième signal audio numérique n'a été reçu.</claim-text></claim><claim id="c-fr-01-0007" num="0007"><claim-text>Méthode selon la revendication 5, dans laquelle l'étape de transmission du signal audio numérique combiné comprend sa transmission par l'intermédiaire d'une des interfaces de bus audio numériques par l'intermédiaire de laquelle les premier et deuxième signaux audio numériques ont été reçus.</claim-text></claim><claim id="c-fr-01-0008" num="0008"><claim-text>Méthode selon la revendication 5, dans laquelle<br/>
le premier signal audio numérique est reçu par le processeur d'applications en provenance d'une mémoire (2) et est transmis à partir du processeur d'applications (4) sur le premier bus audio numérique (7),<br/>
le deuxième signal audio numérique est reçu par le processeur de communications (3) en provenance d'un réseau téléphonique cellulaire et est transmis à partir du processeur de communications (3) sur le troisième bus audio numérique bidirectionnel, ou la deuxième section du deuxième bus audio numérique bidirectionnel (36y), et<br/>
le signal audio numérique combiné est transmis du codec audio au codec sans fil (11) sur le deuxième bus audio numérique bidirectionnel, ou la première section du deuxième bus audio numérique bidirectionnel (36x).</claim-text></claim></claims><drawings mxw-id="PDW16672219" load-source="patent-office"><!-- EPO <DP n="55"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="157" he="193" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="56"> --><figure id="f0002" num="2a,2b,2c"><img id="if0002" file="imgf0002.tif" wi="159" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="57"> --><figure id="f0003" num="3a"><img id="if0003" file="imgf0003.tif" wi="165" he="139" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="58"> --><figure id="f0004" num="3b,3c"><img id="if0004" file="imgf0004.tif" wi="165" he="230" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="59"> --><figure id="f0005" num="4a,4b"><img id="if0005" file="imgf0005.tif" wi="147" he="221" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="60"> --><figure id="f0006" num="5a,5b,5c,5d"><img id="if0006" file="imgf0006.tif" wi="122" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="61"> --><figure id="f0007" num="5e"><img id="if0007" file="imgf0007.tif" wi="100" he="83" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="62"> --><figure id="f0008" num="6a,6b"><img id="if0008" file="imgf0008.tif" wi="165" he="225" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="63"> --><figure id="f0009" num="7a,7b"><img id="if0009" file="imgf0009.tif" wi="165" he="224" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="64"> --><figure id="f0010" num="7c,7d"><img id="if0010" file="imgf0010.tif" wi="160" he="200" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="65"> --><figure id="f0011" num="8a,8b,8c"><img id="if0011" file="imgf0011.tif" wi="165" he="220" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="66"> --><figure id="f0012" num="9a,9b"><img id="if0012" file="imgf0012.tif" wi="130" he="206" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="67"> --><figure id="f0013" num="9c,9d"><img id="if0013" file="imgf0013.tif" wi="130" he="203" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="68"> --><figure id="f0014" num="9e,9f"><img id="if0014" file="imgf0014.tif" wi="124" he="226" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="69"> --><figure id="f0015" num="10a,10b"><img id="if0015" file="imgf0015.tif" wi="165" he="229" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="70"> --><figure id="f0016" num="10c"><img id="if0016" file="imgf0016.tif" wi="165" he="146" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="71"> --><figure id="f0017" num="11a,11b"><img id="if0017" file="imgf0017.tif" wi="160" he="216" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="72"> --><figure id="f0018" num="11c,11d"><img id="if0018" file="imgf0018.tif" wi="164" he="215" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="73"> --><figure id="f0019" num="11e"><img id="if0019" file="imgf0019.tif" wi="165" he="138" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="74"> --><figure id="f0020" num="12a,12b"><img id="if0020" file="imgf0020.tif" wi="165" he="231" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="75"> --><figure id="f0021" num="12c"><img id="if0021" file="imgf0021.tif" wi="165" he="118" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="76"> --><figure id="f0022" num="13a,13b"><img id="if0022" file="imgf0022.tif" wi="165" he="225" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="77"> --><figure id="f0023" num="13c,13d"><img id="if0023" file="imgf0023.tif" wi="162" he="223" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="78"> --><figure id="f0024" num="13e"><img id="if0024" file="imgf0024.tif" wi="165" he="133" img-content="drawing" img-format="tif"/></figure></drawings><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
