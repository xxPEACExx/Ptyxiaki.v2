<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2189638-B1" country="EP" doc-number="2189638" kind="B1" date="20140108" family-id="41528637" file-reference-id="315042" date-produced="20180826" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146588223" ucid="EP-2189638-B1"><document-id><country>EP</country><doc-number>2189638</doc-number><kind>B1</kind><date>20140108</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-09175087-A" is-representative="YES"><document-id mxw-id="PAPP154850415" load-source="docdb" format="epo"><country>EP</country><doc-number>09175087</doc-number><kind>A</kind><date>20091105</date><lang>EN</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140555446" ucid="JP-2008297496-A" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>2008297496</doc-number><kind>A</kind><date>20081121</date></document-id></priority-claim></priority-claims><dates-of-public-availability><intention-to-grant-date><date>20130912</date></intention-to-grant-date></dates-of-public-availability><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1989325002" load-source="ipcr">F01L   1/34        20060101ALN20130812BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1989325003" load-source="ipcr">F01L  13/00        20060101ALN20130812BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1989325004" load-source="ipcr">F02D  13/02        20060101AFI20130812BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1989325005" load-source="ipcr">F02D  41/00        20060101ALN20130812BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1989325006" load-source="ipcr">F02D  41/14        20060101ALI20130812BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1989325007" load-source="ipcr">G05B  13/04        20060101ALI20130812BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL1989626809" load-source="docdb" scheme="CPC">F01L2800/00        20130101 LA20130918BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989627670" load-source="docdb" scheme="CPC">F02D2041/1409      20130101 LA20130918BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989630466" load-source="docdb" scheme="CPC">F01L2105/00        20130101 LA20130918BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989633466" load-source="docdb" scheme="CPC">F01L  13/0063      20130101 LI20130918BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989636428" load-source="docdb" scheme="CPC">F02D  41/0002      20130101 LI20130918BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989636526" load-source="docdb" scheme="CPC">F02D  13/0238      20130101 LI20130918BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989638906" load-source="docdb" scheme="CPC">Y02T  10/42        20130101 LA20130918BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989639874" load-source="docdb" scheme="CPC">F02D2041/001       20130101 LA20130918BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989642759" load-source="docdb" scheme="CPC">F01L   1/34        20130101 LA20130918BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989646336" load-source="docdb" scheme="CPC">F02D  41/1401      20130101 FI20130918BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989648703" load-source="docdb" scheme="CPC">F01L2013/0068      20130101 LA20130918BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989650029" load-source="docdb" scheme="CPC">Y02T  10/18        20130101 LA20130723BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989651446" load-source="docdb" scheme="CPC">G05B  13/041       20130101 LI20130918BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989652975" load-source="docdb" scheme="CPC">F02D  13/023       20130101 LI20130918BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132369302" lang="DE" load-source="patent-office">Steuerungssystem für eine Anlage</invention-title><invention-title mxw-id="PT132369303" lang="EN" load-source="patent-office">Control system for plant</invention-title><invention-title mxw-id="PT132369304" lang="FR" load-source="patent-office">Système de commande pour installation</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR919536945" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>HONDA MOTOR CO LTD</last-name><address><country>JP</country></address></addressbook></applicant><applicant mxw-id="PPAR919520485" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>HONDA MOTOR CO., LTD.</last-name></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR919505577" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>IDE HIROHITO</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919539879" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>IDE, HIROHITO</last-name></addressbook></inventor><inventor mxw-id="PPAR919022111" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>IDE, HIROHITO</last-name><address><street>c/o Honda R&amp;D Co., Ltd. 4-1, Chuo 1-chome Wako-shi</street><city>Saitama 351-0193</city><country>JP</country></address></addressbook></inventor></inventors><assignees><assignee mxw-id="PPAR919022112" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Honda Motor Co., Ltd.</last-name><iid>100141024</iid><address><street>1-1, Minami-aoyama 2-chome Minato-ku</street><city>Tokyo 107-8556</city><country>JP</country></address></addressbook></assignee></assignees><agents><agent mxw-id="PPAR919022113" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Prechtel, Jörg</last-name><iid>100022355</iid><address><street>Weickmann &amp; Weickmann Patentanwälte Postfach 86 08 20</street><city>81635 München</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><designated-states><ep-contracting-states><country mxw-id="DS549890561" load-source="docdb">AT</country><country mxw-id="DS549923188" load-source="docdb">BE</country><country mxw-id="DS549783806" load-source="docdb">BG</country><country mxw-id="DS549871270" load-source="docdb">CH</country><country mxw-id="DS549800144" load-source="docdb">CY</country><country mxw-id="DS549890562" load-source="docdb">CZ</country><country mxw-id="DS549782857" load-source="docdb">DE</country><country mxw-id="DS549923189" load-source="docdb">DK</country><country mxw-id="DS549800149" load-source="docdb">EE</country><country mxw-id="DS549868275" load-source="docdb">ES</country><country mxw-id="DS549783807" load-source="docdb">FI</country><country mxw-id="DS549783808" load-source="docdb">FR</country><country mxw-id="DS549923190" load-source="docdb">GB</country><country mxw-id="DS549923191" load-source="docdb">GR</country><country mxw-id="DS549923192" load-source="docdb">HR</country><country mxw-id="DS549800150" load-source="docdb">HU</country><country mxw-id="DS549871271" load-source="docdb">IE</country><country mxw-id="DS549923193" load-source="docdb">IS</country><country mxw-id="DS549783813" load-source="docdb">IT</country><country mxw-id="DS549800151" load-source="docdb">LI</country><country mxw-id="DS549782858" load-source="docdb">LT</country><country mxw-id="DS549890563" load-source="docdb">LU</country><country mxw-id="DS549782859" load-source="docdb">LV</country><country mxw-id="DS549782860" load-source="docdb">MC</country><country mxw-id="DS549875943" load-source="docdb">MK</country><country mxw-id="DS549875944" load-source="docdb">MT</country><country mxw-id="DS549890564" load-source="docdb">NL</country><country mxw-id="DS549868276" load-source="docdb">NO</country><country mxw-id="DS549890569" load-source="docdb">PL</country><country mxw-id="DS549868277" load-source="docdb">PT</country><country mxw-id="DS549890570" load-source="docdb">RO</country><country mxw-id="DS549890571" load-source="docdb">SE</country><country mxw-id="DS549782865" load-source="docdb">SI</country><country mxw-id="DS549871272" load-source="docdb">SK</country><country mxw-id="DS549871273" load-source="docdb">SM</country><country mxw-id="DS549875945" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data></bibliographic-data><description mxw-id="PDES63960649" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001">BACKGROUND OF THE INVENTION</heading><heading id="h0002">Field of the Invention</heading><p id="p0001" num="0001">The present invention relates to a control system for a plant, and particularly to a control system which controls a plant in a feedback manner so that a controlled output of the plant coincides with a target value, and performs a hold operation of a control input to the plant when a control deviation is comparatively small.</p><heading id="h0003">Description of the Related Art</heading><p id="p0002" num="0002">Japanese Patent Laid-open No. <patcit id="pcit0001" dnum="JP2005030241A"><text>2005-30241</text></patcit> (JP '241) discloses a control system for a variable valve-actuating mechanism which continuously varies a lift amount of an intake valve of an internal combustion engine. According to this control system, a feedback control is performed so that an actual operating angle of a control shaft for changing a lift amount is made to coincide with a target operating angle. When an absolute value of a deviation between the actual operating angle and the target operation angle (this deviation will be referred to as "control deviation") is greater than a predetermined value, a feedback control input is calculated by the normal PID (Proportional, Integral, and Differential) feedback control. When the absolute value of the control deviation is equal to or less than the predetermined value, calculation of the feedback control input is inhibited, and the integrating operation of the control deviation is stopped.</p><p id="p0003" num="0003">Further, JP '241 describes, as a conventional art, a technique in which the integrated control input is output and electric power is supplied to an actuator even after the control deviation becomes "0".</p><p id="p0004" num="0004">The control system shown in Jp '241 is configured on the assumption that the controlled object has a torque transfer mechanism which permits a torque transfer from an output shaft of the actuator to the control shaft, but inhibits a torque transfer from the control shaft to the output shaft of the actuator. According to such a torque transfer mechanism, it is possible to stop supplying electric power to the actuator when the absolute value of the control deviation is equal to or less than the predetermined value. That is, if such a torque transfer mechanism is not adopted, it is necessary to supply electric power to the actuator in order to maintain the control deviation at "0".<!-- EPO <DP n="2"> --></p><p id="p0005" num="0005">When supplying electric power to the actuator in order to maintain the control deviation at "0", there may be a case wherein the power to be supplied to the actuator can be set to a value within a predetermined allowable range, depending on the characteristic of the controlled object. For example, there is a case wherein the electric current to be supplied to the actuator which is necessary to start rotation of the control shaft from a stopped state, can be set to a value within the predetermined allowable range because of a great friction between the control shaft and other components in contact with the control shaft. In such case, it is preferable that the hold current supplied to the actuator for maintaining the control deviation at "0" is set to a value as small as possible. However, if the output of the feedback control device is changed so that the hold current becomes such a small value, a problem may be caused that a time period necessary for making the actual operating angle converge to the target operating angle becomes longer, when the target operating angle changes.</p><p id="p0006" num="0006"><patcit id="pcit0002" dnum="EP0728929A2"><text>EP 0 728 929 A2</text></patcit> discloses a fuel metering control system for a plant, comprising: feedback control means for calculating a feedback control input so that a controlled output of said plant coincides with a target value. The air/fuel ratio at the exhaust system confluence point can be assumed to be an average weighted to reflect the time-based contribution of the air/fuel ratio of the individual cylinders. A specific calculation method of the air/fuel ratio at the exhaust system confluence point is disclosed, wherein averaging of the air/fuel ratio of the individual cylinders is performed. The air/fuel ratio corresponds to the controlled output. The proportional gain KP, the integral gain KI, and the differential gain KD are calculated according to the engine speed Ne and the manifold pressure PB, which are not the control input. Further, an outline of the calculation method of the feedback correction coefficient KSTR is shown which corresponds to the "feedback control input" of the present invention. The proportional gain KP, the integral gain KI, and the differential gain KD are applied to calculation of the PID correction coefficient KLAF and accordingly have no relationship with the calculation of the feedback correction coefficient KSTR. Further, the adaptive correction coefficient KSTR is used when the detected air/fuel ratio KACT is greater than a prescribed value a and less than a prescribed value b. The difference between the desired air/fuel ratio KCMD and the detected air/fuel ratio KACT corresponds to the "control deviation" of the present invention. Accordingly, the detected air/fuel ratio KACT itself or the desired air/fuel ratio KCMD itself does not correspond to the "control deviation". Further, the first feedback correction coefficient KSTR is calculated so as to bring the detected air/fuel ratio KACT to the desired air/fuel ratio KCMD, and the second feedback correction coefficient KLAF is calculated so as to cause the detected air/fuel ratio KACT to equal the desired air/fuel ratio KCMD, which is inferior in control response to the first feedback correction coefficient KSTR.</p><heading id="h0004">SUMMARY OF THE INVENTION</heading><p id="p0007" num="0007">The present invention was made contemplating the above-described points, and an object of the invention is to provide a control system for a valve operating characteristic varying mechanism, which can reduce a power consumption of the control actuator when the control deviation of the feedback control is comparatively small, and achieve good converging performance when the target value changes.</p><p id="p0008" num="0008">To attain the above object, the present invention provides a control system and method for a plant in accordance with claims 1 and 3. The system comprises feedback control means, averaging means, hold control input calculating means, corrected hold control input calculating means, and control input setting means. The feedback control means calculates a feedback control input (UFB) so that a controlled output (CSA) of the plant coincides with a target value (CSACMD). The averaging means averages the feedback control input (UFB) to calculate an averaged feedback control input (UFBAV). The hold control input calculating means calculates a hold control input (UHOLD) according to an operating condition of the plant. The corrected hold control input calculating means calculates a corrected hold control input (UHLDC) by combining the hold control input (UHOLD) with the averaged feedback control input (UFBAV) according to a preset ratio (KR). The control input setting means sets a control input (UFM) to the plant to the feedback control input (UFB) in a first state where a control deviation (ERR) between the controlled output (CSA) and<!-- EPO <DP n="3"> --><!-- EPO <DP n="4"> --> the target value (CSACMD) is greater than a predetermined threshold value (ERRHX), and setting the control input (UFM) to the corrected hold control input (UHLDC) in a second state where the control deviation (ERR) is equal to or less than the predetermined threshold value (ERRHX). Further, the feedback control means makes the feedback control input (UFB) gradually approach to or coincide with the corrected hold control input (UHLDC) in the second state.</p><p id="p0009" num="0009">With this configuration, the averaged feedback control input is calculated by averaging the feedback control input, and the hold control input is calculated according to the operating condition of the plant. By combining the hold control input with the averaged feedback control input according to the preset ratio, and the corrected hold control input is calculated. In the first state where the control deviation between the controlled output and the target is greater than the predetermined threshold value, the control input to the plant is set to the feedback control input. In the second state where the control deviation is equal to or less then the predetermined threshold value, the control input is set to the corrected hold control input, the feedback control input is set so as to gradually approach or coincide with the corrected hold control input. For example, by setting the hold control input so that the power supply to the control actuator becomes comparatively small, the corrected hold control input is similarly set (so that the power supply becomes comparatively small), and the power consumption can be reduced. Further, in the second state, by making the feedback control input gradually approach or coincide with the corrected hold control input, good converging performance is obtained when the target value changes, i.e., when the control input is switched from the corrected hold control input to the feedback control input. Further, the set value of the hold control input may deviate from the optimal value, when the operating characteristic of the plant changes due to aging. By using the corrected hold control input to which the averaged feedback control input is reflected according to the preset ratio, the influence of the deviation of the hold control input due to a change in the plant operating characteristic can be reduced to stably perform the hold operation.</p><p id="p0010" num="0010">Preferably, the feedback control means calculates the feedback control input (UFB) using a proportional term (UP) and an integral term (UI) according to the control deviation (ERR), and calculates the integral term (UI) using a control input deviation (DUFB) which is a difference between the feedback control input (UFB) and the<!-- EPO <DP n="5"> --> corrected hold control input (UHLDC), in the second state.</p><p id="p0011" num="0011">With this configuration, the feedback control input is calculated using the proportional term and the integral term which are set according to the control deviation. In the second state where the control input is set to the corrected hold control input, the integral term is calculated using the control input deviation, which is a difference between the feedback control input and the corrected hold control input. According to this calculating method of the integral term, the feedback control input can be made to gradually approach the hold control input.</p><p id="p0012" num="0012">Specifically, the plant is a valve operating characteristic varying mechanism (41) which continuously changes a lift amount of at least one intake valve of an internal combustion engine, and the valve operating characteristic varying mechanism (41) has a control shaft (56) for changing the lift amount and an actuator (43) for rotating the control shaft (56), wherein a value (IDM) of an electric current supplied to the actuator is calculated according to the control input (UFM), and the controlled output (CSA) is a rotational angle of the control shaft (56).</p><p id="p0013" num="0013">In this configuration, the valve operating characteristic varying mechanism for continuously changing the lift amount of the intake valve of the internal combustion engine, is the controlled object. If the operating condition of the engine is constant, the lift amount of the intake valve is held at the same value. Therefore, in such operating condition, the value of the electric current supplied to the actuator for rotating the control shaft of the valve operating characteristic varying mechanism, can be reduced. Further, when the target value of the lift amount changes, the actual lift amount can be made to quickly converge to the target value.</p><heading id="h0005">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p0014" num="0014"><figref idrefs="f0001">FIG. 1</figref> shows a configuration of an internal combustion engine and a control system therefor according to a first embodiment of the present invention;</p><p id="p0015" num="0015"><figref idrefs="f0002">FIG. 2</figref> shows a configuration of a valve operating characteristic varying device shown in <figref idrefs="f0001">FIG. 1</figref>;</p><p id="p0016" num="0016"><figref idrefs="f0003">FIGS. 3A and 3B</figref> illustrate a simplified configuration of the first valve operating characteristic varying mechanism shown in <figref idrefs="f0002">FIG. 2</figref>;</p><p id="p0017" num="0017"><figref idrefs="f0004">FIGS. 4A and 4B</figref> show valve operating characteristics of an intake valve;</p><p id="p0018" num="0018"><figref idrefs="f0004">FIG. 5</figref> shows a relationship between a rotational angle (CSA) of a control<!-- EPO <DP n="6"> --> shaft of the first valve operating characteristic varying mechanism and a motor output torque (TRQM);</p><p id="p0019" num="0019"><figref idrefs="f0005">FIG. 6</figref> is a block diagram showing a configuration of a module which calculates an output control input (UFM) for determining a motor drive current;</p><p id="p0020" num="0020"><figref idrefs="f0006">FIG. 7</figref> is a flowchart of a calculation process in the feedback control input calculation block of <figref idrefs="f0005">FIG. 6</figref>;</p><p id="p0021" num="0021"><figref idrefs="f0007">FIG. 8</figref> is a flowchart of a calculation process in the hold flag setting block of <figref idrefs="f0005">FIG. 6</figref>;</p><p id="p0022" num="0022"><figref idrefs="f0008">FIG. 9</figref> is a flowchart of a calculation process in the hold control input calculation block of <figref idrefs="f0005">FIG. 6</figref>;</p><p id="p0023" num="0023"><figref idrefs="f0008">FIG. 10</figref> is a flowchart of the calculation process in the averaging block and the correction block of <figref idrefs="f0005">FIG. 6</figref>;</p><p id="p0024" num="0024"><figref idrefs="f0009">FIG. 11</figref> is a block diagram showing a configuration of the output control input calculation module according to a second embodiment of the present invention;</p><p id="p0025" num="0025"><figref idrefs="f0009">FIG. 12</figref> is a block diagram showing a configuration of the feedback control input calculation block of <figref idrefs="f0009">FIG. 11</figref>;</p><p id="p0026" num="0026"><figref idrefs="f0010">FIG. 13</figref> is a flowchart of a calculation process in the feedback control input calculation block of <figref idrefs="f0009">FIG. 11</figref>;</p><p id="p0027" num="0027"><figref idrefs="f0011 f0012 f0013">FIGS.14A - 18D</figref> are time charts for illustrating examples of control operations;</p><p id="p0028" num="0028"><figref idrefs="f0013">FIG. 19</figref> is a block diagram showing a configuration of the output control input calculation module according to a third embodiment of the present invention;</p><p id="p0029" num="0029"><figref idrefs="f0014">FIG. 20</figref> is a block diagram showing a configuration of the feedback control input calculation block shown in <figref idrefs="f0013">FIG. 19</figref>;</p><p id="p0030" num="0030"><figref idrefs="f0014">FIG. 21</figref> is a block diagram showing a modification of the configuration shown in <figref idrefs="f0013">FIG. 19</figref>;</p><p id="p0031" num="0031"><figref idrefs="f0014">FIG. 22</figref> is a block diagram showing a configuration of the feedback control input calculation block shown in <figref idrefs="f0014">FIG. 21</figref>;</p><p id="p0032" num="0032"><figref idrefs="f0015">FIG. 23</figref> shows a configuration of a control system according to a fourth embodiment of the present invention;</p><p id="p0033" num="0033"><figref idrefs="f0015">FIG. 24</figref> shows a relationship between a throttle valve opening (TH) and an output torque (TRQM) of a motor for actuating the throttle valve; and</p><p id="p0034" num="0034"><figref idrefs="f0015">FIG. 25</figref> is a block diagram showing a configuration of the output control input<!-- EPO <DP n="7"> --> calculation module in the fourth embodiment.</p><heading id="h0006">DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS</heading><p id="p0035" num="0035">Preferred embodiments of the present invention will now be described with reference to the drawings.</p><heading id="h0007"><u>First Embodiment</u></heading><p id="p0036" num="0036"><figref idrefs="f0001">FIG. 1</figref> is a schematic diagram showing a configuration of an internal combustion engine and a control system therefor according to a first embodiment of the present invention, and <figref idrefs="f0002">FIG. 2</figref> is a schematic diagram showing a configuration of a valve operating characteristic varying device. Referring to <figref idrefs="f0001">FIG. 1</figref>, an internal combustion engine (hereinafter referred to as "engine") 1, having, for example, four cylinders is provided with intake valves and exhaust valves, and cams for driving the intake valves and the exhaust valves. The engine 1 is provided with a valve operating characteristic varying device 40 having a first valve operating characteristic varying mechanism 41 and a second valve operating characteristic varying mechanism 42. The first valve operating characteristic varying mechanism 41 continuously varies the valve lift amount and the opening angle (valve opening period) of the intake valve. The second valve operating characteristic varying mechanism 42 is a cam phase varying mechanism for continuously varying the operating phases of the cams for driving the intake valves with reference to a rotational angle of the crank shaft of the engine 1. The second valve operating characteristic varying mechanism 42 varies the operating phase of the cam for driving each intake valve, and consequently varies the operating phase of each intake valve.</p><p id="p0037" num="0037">The engine 1 has an intake pipe 2 provided with a throttle valve 3. A throttle valve opening (TH) sensor 4 is connected to the throttle valve 3, outputs an electrical signal corresponding to an opening of the throttle valve 3, and supplies the electrical signal to an electronic control unit (referred to as "ECU") 5. An actuator 7 for actuating the throttle valve 3 is connected to the throttle valve 3, and the operation of the actuator 7 is controlled by the ECU 5.</p><p id="p0038" num="0038">Fuel injection valves 6 are inserted into the intake pipe 2 at locations between the cylinder block of the engine 1 and the throttle valve 3 and slightly upstream of the respective intake valves (not shown). The fuel injection valves 6 are connected to a fuel pump (not shown), and electrically connected to the ECU 5. A valve opening<!-- EPO <DP n="8"> --> period of each fuel injection valve 6 is controlled by a signal output from the ECU 5.</p><p id="p0039" num="0039">An intake pressure sensor 8 for detecting an intake pressure PBA and an intake air temperature sensor 9 for detecting an intake air temperature TA are disposed downstream of the throttle valve 3. Further, an engine coolant temperature sensor 10 for detecting an engine coolant temperature TW is mounted on the body of the engine 1. The detection signals from these sensors are supplied to the ECU 5.</p><p id="p0040" num="0040">A crank angle position sensor 11 and a cam angle position sensor 12 are connected to the ECU 5. The crank angle position sensor 11 is provided to detect a rotational angle of the crankshaft (not shown) of the engine 1, and the cam angle position sensor 12 is provided to detect a rotational angle of a camshaft to which the cams for driving the intake valves of the engine 1 are fixed. A signal corresponding to the rotational angle detected by the crank angle sensor 11 and a signal corresponding to the rotational angle detected by the cam angle position sensor 12 are supplied to the ECU 5. The crank angle position sensor 11 generates one pulse (hereinafter referred to as "CRK pulse") at every constant crank angle period (e.g., a period of 30 degrees) and a pulse for specifying a predetermined angle position of the crankshaft. The cam angle position sensor 12 generates a pulse at a predetermined crank angle position for a specific cylinder of the engine 1 (this pulse will be hereinafter referred to as "CYL pulse"). The cam angle position sensor 12 further generates a pulse at a top dead center (TDC) starting the intake stroke in each cylinder (this pulse will be hereinafter referred to as "TDC pulse"). These pulses are used to control the various timings such as a fuel injection timing and an ignition timing, as well as to detect an engine rotational speed NE. An actual operating phase CAIN of the camshaft is detected based on the correlation between the TDC pulse output from the cam angle position sensor 12 and the CRK pulse output from the crank angle position sensor 11.</p><p id="p0041" num="0041">An accelerator sensor 31, a vehicle speed sensor 32, and an atmospheric pressure sensor 33 are also connected to the ECU 5. The accelerator sensor 31 detects a depression amount AP of an accelerator pedal of the vehicle driven by the engine 1 (this depression amount will be hereinafter referred to as "accelerator operation amount"). The vehicle speed sensor 32 detects a running speed (vehicle speed) VP of the vehicle. The atmospheric pressure sensor 33 detects an atmospheric pressure PA. The detection signals from these sensors are supplied to the ECU 5.<!-- EPO <DP n="9"> --></p><p id="p0042" num="0042">The valve operating characteristic varying device 40, as shown in <figref idrefs="f0002">FIG. 2</figref>, includes a first valve operating characteristic varying mechanism 41, a second valve operating characteristic varying mechanism 42, a motor 43, and a solenoid valve 44. The first valve operating characteristic varying mechanism 41 continuously varies a lift amount and an opening angle (hereinafter referred to simply as "lift amount LFT") of each intake valve. The second valve operating characteristic varying mechanism 42 continuously varies an operating phase of each intake valve. The motor 43 is provided for continuously changing the lift amount LFT of each intake valve. An opening of the solenoid valve 44 is continuously variable for changing the operating phase of each intake valve. The operating phase CAIN of the camshaft is used as a parameter indicative of the operating phase of the intake valve. A lubricating oil contained in an oil pan 46 is pressurized by an oil pump 45, and supplied to the solenoid valve 44. It is to be noted that a specific configuration of the second valve operating characteristic varying mechanism 42 is described, for example, in Japanese Patent Laid-open No. <patcit id="pcit0003" dnum="JP2000227013A"><text>2000-227013</text></patcit>.</p><p id="p0043" num="0043">As shown in <figref idrefs="f0003">FIG. 3A</figref>, the first valve operating characteristic varying mechanism 41 includes a camshaft 51, a control arm 55, a control shaft 56, a sub-cam 53, and a rocker arm 54. The camshaft 51 is provided with a cam 52. The control arm 55 is supported by the cylinder head so that the control arm 55 can pivot around a shaft 55a. The control shaft 56 is provided with a control cam 57 which pivots the control arm 55. The sub-cam 53 is supported by the control arm 55 through a supporting shaft 53b so that the sub-cam 53 can pivot around the supporting shaft 53b. The sub-cam 53 is actuated by the cam 52. The rocker arm 54 is actuated by the sub-cam 53 and drives (opens and closes) an intake valve 60. The rocker arm 54 is supported in the control arm 55 so that the rocker arm 54 can pivot.</p><p id="p0044" num="0044">The sub-cam 53 has a roller 53a abutting the cam 52, and pivots around the shaft 53b by rotation of the camshaft 51. The rocker arm 54 has a roller 54a abutting the sub-cam 53. The movement of the sub-cam 53 is transmitted to the rocker arm 54 through the roller 54a.</p><p id="p0045" num="0045">The control arm 55 has a roller 55b abutting the control cam 57, and pivots around the shaft 55a by rotation of the control shaft 56. In the state shown in <figref idrefs="f0003">FIG. 3A</figref>, the intake valve 60 maintains a substantially fully-closed state, since the movement of<!-- EPO <DP n="10"> --> the sub-cam 53 is not substantially transmitted to the rocker arm 54. On the other hand, in the state shown in <figref idrefs="f0003">FIG. 3B</figref>, the movement of the sub-cam 53 is transmitted to the intake valve 60 through the rocker arm 54, and the intake valve 60 opens to a maximum lift amount LFTMAX (e.g., 12 mm).</p><p id="p0046" num="0046">Therefore, the lift amount LFT of the intake valve 60 can be continuously varied by pivoting the control shaft 56 with the motor 43. In this embodiment, the first valve operating characteristic varying mechanism 41 includes a control shaft rotational angle sensor 14 for detecting a rotational angle (hereinafter referred to as "CS angle") CSA of the control shaft 56. The detected CS angle CSA is used as a parameter indicative of the lift amount LFT.</p><p id="p0047" num="0047">It is to be noted that the detailed configuration of the first valve operating characteristic varying mechanism 41 is described in Japanese Patent Laid-open No. <patcit id="pcit0004" dnum="JP2008025418A"><text>2008-25418</text></patcit>.</p><p id="p0048" num="0048">According to the first valve operating characteristic varying mechanism 41, as shown in <figref idrefs="f0004">FIG. 4A</figref>, the lift amount LFT (and the opening angle) of the intake valve is varied. Further, according to the second valve operating characteristic varying mechanism 42, the intake valve is driven with a phase from the most advanced phase, shown by the broken lines L1 and L2 in <figref idrefs="f0004">FIG. 4B</figref> to the most retarded phase, shown by the dot-and-dash lines L5 and L6 in <figref idrefs="f0004">FIG. 4B</figref>, depending on a change in the operating phase CAIN of the camshaft. In <figref idrefs="f0004">FIG. 4B</figref>, the characteristics shown by the solid lines L3 and L4 are the center of the variable phase range.</p><p id="p0049" num="0049">The ECU 5 can include an input circuit having various functions including a function of shaping the waveforms of input signals from the various sensors, a function of correcting the voltage levels of the input signals to a predetermined level, and a function of converting analog signal values into digital signal values. The ECU5 further includes a central processing unit (hereinafter referred to as "CPU"), a memory circuit, and an output circuit. The memory circuit preliminarily stores various operating programs to be executed by the CPU and the results of computation or the like by the CPU. The output circuit supplies drive signals to the actuator 7, the fuel injection valves 6, the motor 43, and the solenoid valve 44.</p><p id="p0050" num="0050">The CPU in the ECU 5 controls an opening of the throttle valve 3, controls an amount of fuel to be supplied to the engine 1 (the opening period of each fuel injection<!-- EPO <DP n="11"> --> valve 6), and controls the valve operating characteristic (intake air flow rate) through the motor 43 and the solenoid valve 44 according to the detected signals from the above-described sensors.</p><p id="p0051" num="0051">In the lift amount control (CS angle control) of the intake valve, a lift amount command value LFTCMD of the intake valve is calculated according to an engine operating condition, and a CS angle command value CSACMD is calculated according to the lift amount command value LFTCMD. Further, a feedback control of a drive current IMD of the motor 43 is performed so that the detected CS angle CSA coincides with the CS angle command value CSACMD.</p><p id="p0052" num="0052"><figref idrefs="f0004">FIG. 5</figref> shows a relationship between the CS angle CSA and an output torque TRQM of the motor 43 (which is proportional to the drive current IMD). When the motor output torque TRQM is between a maximum torque TRQMH as shown by the solid line L1 and a minimum torque TRQML (negative value) shown by the solid line L2, the present CS angle CSA is maintained. For example, when the CS angle CSA is equal to an angle CSA1, and the motor output torques TRQM is equal to or less than a maximum torque TRQMH1 and equal to or greater than a minimum torques TRQML1, the CS angle CSA is maintained at the angle CSA1. In other words, the CS angle CSA increases if the motor output torque TRQM exceeds the maximum torque TRQMH1, while the CS angle CSA decreases if the motor output torque TRQM becomes less than the minimum torque TRQML1.</p><p id="p0053" num="0053">Therefore, when the CS angle command value CSACMD is unchanged, the power consumption can be reduced by setting the motor output torque TRQM to a value as smaller as possible. In this embodiment, the fact that the maximum torque TRQMH and the minimum torque TRQML change due to characteristic variations of the valve operating characteristic varying mechanism 41 is taken into consideration, and the hold current value IDMHLD supplied to the motor 43 is set so as to obtain a hold torque substantially corresponding to an average value of the maximum torque TRQMH and the minimum torque TRQML.</p><p id="p0054" num="0054"><figref idrefs="f0005">FIG. 6</figref> is a block diagram showing a configuration of an output control input calculation module for calculating an output control input UFM which determines the drive current IMD supplied to the motor 43. The functions of the blocks which constitute the module are realized by the operation process executed by the CPU in the<!-- EPO <DP n="12"> --> ECU 5. The output control input UFM corresponds to the control input to the controlled object.</p><p id="p0055" num="0055">The output control input calculation module includes a feedback control input calculation block 71, a hold control input calculation block 72, a hold flag setting block 73, a switching block 74, an averaging block 75, and a correction block 76. The feedback control input calculation block 71 calculates the feedback control input UFB so that the detected CS angle CSA coincides with the CS angle command value CSACMD. It is to be noted that the output of the control shaft rotational angle sensor 14 is subjected to a low pass filtering or an epsilon filtering, and the detection value, from which noise components are removed, is used as the CS angle CSA. The epsilon filtering is a known filtering method which effectively attenuates spike-like noises.</p><p id="p0056" num="0056">The hold control input calculation block 72 calculates a hold control input UHOLD according to the CS angle CSA, the engine rotational speed NE, and the engine coolant temperature TW. The hold control input UHOLD is an control input corresponding to the hold current IDMHLD described above.</p><p id="p0057" num="0057">The hold flag setting block 73 sets a hold flag FHOLD according to the CS angle command value CSACMD and the CS angle CSA. The averaging block 75 performs the moving averaging calculation of the feedback control input UFB, to calculate an averaged feedback control input UFBAV. Specifically, the averaged feedback control input UFBAV is calculated by averaging data from a value calculated a predetermined time period (e.g., 10 milliseconds) before to a latest calculated value of the feedback operation amount UFB.</p><p id="p0058" num="0058">The correction block 76 combines the hold control input UHOLD with the averaged feedback control input UFBAV according to a preset ratio KR, to calculate a corrected hold control input UHLDC. The switching block 74 selects the feedback control input UFB if the hold flag FHOLD is "0"; selects the corrected hold control input UHLDC if the hold flag FHOLD is "1"; and outputs the selected control input as the output control input UFM.</p><p id="p0059" num="0059"><figref idrefs="f0006">FIG. 7</figref> is a flowchart of a control input calculation process for realizing the functions of the feedback control input calculation block 71 and the switching block 74 of <figref idrefs="f0005">FIG. 6</figref>. This process is executed at predetermined time intervals TCAL (e.g., 2 milliseconds) by the CPU in the ECU 5.<!-- EPO <DP n="13"> --></p><p id="p0060" num="0060">In step S11, a control deviation ERR(k) is calculated by the following equation (1). In the equation (1), "k" is a discrete time digitized with the execution period TCAL of this process. <maths id="math0001" num="(1)"><math display="block"><mi>ERR</mi><mfenced><mi mathvariant="normal">k</mi></mfenced><mo>=</mo><mi>CSACMD</mi><mfenced><mi mathvariant="normal">k</mi></mfenced><mo>-</mo><mi>CSA</mi><mfenced><mi mathvariant="normal">k</mi></mfenced></math><img id="ib0001" file="imgb0001.tif" wi="83" he="9" img-content="math" img-format="tif"/></maths></p><p id="p0061" num="0061">In step S12, the control deviation ERR(k) and a proportional term gain KP are applied to the following equation (2), to calculate a proportional term UP. <maths id="math0002" num="(2)"><math display="block"><mi>UP</mi><mo>=</mo><mi>KP</mi><mo>×</mo><mi>ERR</mi><mfenced><mi mathvariant="normal">k</mi></mfenced></math><img id="ib0002" file="imgb0002.tif" wi="84" he="9" img-content="math" img-format="tif"/></maths></p><p id="p0062" num="0062">In step S13, it is determined whether or not the hold flag FHOLD is equal to "1". If FHOLD is equal to "0", a deviation integrated value ERRI(k) is calculated by the following equation (3) (step S15).<maths id="math0003" num="(3)"><math display="block"><mi>ERRI</mi><mfenced><mi mathvariant="normal">k</mi></mfenced><mo>=</mo><mi>ERR</mi><mfenced><mi mathvariant="normal">k</mi></mfenced><mo>+</mo><mi>ERRI</mi><mo>⁢</mo><mfenced separators=""><mi mathvariant="normal">k</mi><mo>-</mo><mn mathvariant="normal">1</mn></mfenced></math><img id="ib0003" file="imgb0003.tif" wi="83" he="7" img-content="math" img-format="tif"/></maths></p><p id="p0063" num="0063">If FHOLD is equal to "1" in step S13, the proportional term UP and the corrected hold control input UHLDC are applied to the following equation (4), to set the deviation integrated value ERRI(k) (step S14). In the equation (4), "KI" is an integral term gain. <maths id="math0004" num="(4)"><math display="block"><mi>ERRI</mi><mfenced><mi mathvariant="normal">k</mi></mfenced><mo>=</mo><mfenced separators=""><mi>UHOLD</mi><mfenced><mi mathvariant="normal">k</mi></mfenced><mo>-</mo><mi>UP</mi></mfenced><mo>/</mo><mi>KI</mi></math><img id="ib0004" file="imgb0004.tif" wi="83" he="8" img-content="math" img-format="tif"/></maths></p><p id="p0064" num="0064">In step S16, an integral term UI is calculated by the following equation (5). <maths id="math0005" num="(5)"><math display="block"><mi>UI</mi><mo>=</mo><mi>KI</mi><mo>×</mo><mi>ERRI</mi><mfenced><mi mathvariant="normal">k</mi></mfenced></math><img id="ib0005" file="imgb0005.tif" wi="84" he="8" img-content="math" img-format="tif"/></maths></p><p id="p0065" num="0065">In step S17, the calculated proportional term UP and integral term UI are applied to the following equation (6), to calculate a feedback control input UFB. The output control input UFM is set to the feedback control input UFB (step S18). <maths id="math0006" num="(6)"><math display="block"><mi>UFB</mi><mo>=</mo><mi>UP</mi><mo>+</mo><mi>UI</mi></math><img id="ib0006" file="imgb0006.tif" wi="83" he="8" img-content="math" img-format="tif"/></maths></p><p id="p0066" num="0066">In step S19, the preceding value ERRI(k-1) of the deviation integrated value is set to the present value ERRI(k).</p><p id="p0067" num="0067">By applying the deviation integrated value ERRI(k) calculated by the equation (4) to the equation (5), the integral term UI is obtained by the following equation (7). Therefore, by applying the integral term UI calculated by the equation (7) to the equation (6), the feedback control input UFB becomes equal to the corrected hold control input UHLDC(k). <maths id="math0007" num="(7)"><math display="block"><mtable columnalign="left"><mtr><mtd><mi>UI</mi></mtd><mtd><mo>=</mo><mi>KI</mi><mo>×</mo><mfenced separators=""><mi>UHLDC</mi><mfenced><mi mathvariant="normal">k</mi></mfenced><mo>-</mo><mi>UP</mi></mfenced><mo>/</mo><mi>KI</mi></mtd></mtr><mtr><mtd><mspace width="1em"/></mtd><mtd><mo>=</mo><mi>UHLDC</mi><mfenced><mi mathvariant="normal">k</mi></mfenced><mo>-</mo><mi>UP</mi></mtd></mtr></mtable></math><img id="ib0007" file="imgb0007.tif" wi="84" he="17" img-content="math" img-format="tif"/></maths></p><p id="p0068" num="0068">According to the process of <figref idrefs="f0006">FIG. 7</figref>, when the hold flag FHOLD is equal to "0",<!-- EPO <DP n="14"> --> the feedback control input UFB is set with the normal PI (proportional and integral) control, and the output control input UFM is similarly set. On the other hand, when the hold flag FHOLD is equal to "1", the feedback control input UFB coincides with the corrected hold control input UHLDC(k), and the output control input UFM also coincides with the corrected hold control input UHLDC(k). That is, the output control input UFM is set to the corrected hold control input UHLDC(k).</p><p id="p0069" num="0069"><figref idrefs="f0007">FIG. 8</figref> is a flowchart of a hold flag setting process for realizing the function of the hold flag setting block 73 of <figref idrefs="f0005">FIG. 6</figref>. This process is executed at the predetermined time intervals TCAL by the CPU in the ECU 5.</p><p id="p0070" num="0070">In step S20, the control deviation ERR(k) is calculated, like step S11 of <figref idrefs="f0006">FIG. 7</figref>. In step S21, it is determined whether or not the control deviation ERR(k) is equal to or less than a predetermined threshold value ERRHX. If the answer to step S21 is negative (NO), a counter CHLD is set to "0" (step S25), and the hold flag FHOLD is set to "0" (step S28).</p><p id="p0071" num="0071">In step S21, if ERR(k) is equal to or less than ERRHX, a command value change amount DCSACMD, which indicates an amount of change in the CS angle command value CSACMD, is calculated by the following equation (8) (step S22). <maths id="math0008" num="(8)"><math display="block"><mi>DCSACMD</mi><mo>=</mo><mi>CSACMD</mi><mfenced><mi mathvariant="normal">k</mi></mfenced><mo>-</mo><mi>CSACMD</mi><mo>⁢</mo><mfenced separators=""><mi mathvariant="normal">k</mi><mo>-</mo><mn>1</mn></mfenced></math><img id="ib0008" file="imgb0008.tif" wi="95" he="9" img-content="math" img-format="tif"/></maths></p><p id="p0072" num="0072">In step S23, it is determined whether or not the command value change amount DCSACMD is equal to "0". If the answer to step S23 is affirmative (YES), it is determined whether or not the CS angle CSA(k) is in a predetermined hold control range (step S24).</p><p id="p0073" num="0073">The drive current IMD cannot be maintained at a constant value when the CS angle command value CSACMD is changing. Accordingly, if the answer to step S23 is negative (NO), the process proceeds to step S25 described above. Further, in this embodiment, even if the drive current IMD is made to be maintained at a constant value, there is an angular range in which the CS angle CSA cannot be maintained at a constant angle due to the torque applied to the control shaft 56 from peripheral components other than the motor 43. Accordingly, the predetermined hold control range is set to a range other than such angular range. Therefore, when the CS angle CSA(k) is not in the predetermined hold control range, the process proceeds to step S25.<!-- EPO <DP n="15"> --></p><p id="p0074" num="0074">If the answer to step S24 is affirmative (YES), i.e., the CS angle command value CSACMD is constant and the CS angle CSA is in the predetermined hold control range, the counter CHLD is incremented by "1" (step S26), and it is determined whether or not the value of the counter CHLD is equal to or greater than a predetermined value N0 (e.g., "5") (step S27). While the answer to step S27 is negative (NO), the process proceeds to step S28. The answer to step S27 becomes affirmative (YES), the process proceeds to the above-described step S29, in which the hold flag FHOLD is set to"1".</p><p id="p0075" num="0075"><figref idrefs="f0008">FIG. 9</figref> is a flowchart of a hold control input calculation process for realizing the function of the hold control input calculation block 72 of <figref idrefs="f0005">FIG. 6</figref>. This process is executed at the predetermined time intervals TCAL by the CPU in the ECU 5.</p><p id="p0076" num="0076">In step S31, a UHOLDM map is retrieved according to the CS angle CSA(k) and the engine rotational speed NE, to calculate a hold control input map value UHOLDM. The UHOLDM map is set so that the hold control input map value UHOLDM increases as the CS angle CSA(k) increases. Further, since an optimal value of the hold control input changes depending on the engine rotational speeds NE, the hold control input map value UHOLDM is empirically set so as to take an optimal value, according to the engine rotational speed NE.</p><p id="p0077" num="0077">In step S32, a KTW table is retrieved according to the engine coolant temperature TW, to calculate a correction coefficient KTW. The KTW table is set so that the correction coefficient KTW increases as the engine coolant temperature TW becomes higher.</p><p id="p0078" num="0078">In step S33, the hold control input map value UHOLDM and the correction coefficient KTW are applied to the following equation (9), to calculate the hold control input UHOLD(k). <maths id="math0009" num="(9)"><math display="block"><mi>UHOLD</mi><mfenced><mi mathvariant="normal">k</mi></mfenced><mo>=</mo><mi>KTW</mi><mo>×</mo><mi>UHOLDM</mi></math><img id="ib0009" file="imgb0009.tif" wi="97" he="9" img-content="math" img-format="tif"/></maths></p><p id="p0079" num="0079"><figref idrefs="f0008">FIG. 10</figref> is a flowchart of a corrected hold control input calculation process for realizing the function of the averaging block 75 and the correction block 76. This process is executed at predetermined time intervals TCAL by the CPU in the ECU 5.</p><p id="p0080" num="0080">In step S41, the averaged feedback control input UFBAV is calculated by the following equation (11).<!-- EPO <DP n="16"> --> <maths id="math0010" num="(11)"><math display="block"><mi mathvariant="italic">UFBAV</mi><mfenced><mi>k</mi></mfenced><mo>=</mo><mfrac><mn>1</mn><mi mathvariant="italic">NAV</mi></mfrac><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi mathvariant="italic">NAV</mi><mo>-</mo><mn>1</mn></mrow></munderover></mstyle><mi mathvariant="italic">UFB</mi><mo>⁢</mo><mfenced separators=""><mi>k</mi><mo>-</mo><mi>i</mi></mfenced></math><img id="ib0010" file="imgb0010.tif" wi="111" he="15" img-content="math" img-format="tif"/></maths></p><p id="p0081" num="0081">In step S42, the preset ratio KR is set to a value which is equal to or greater than "0" and equal to or less than "1". Initially (when the engine is new), the preset ratio KR is set to "0", and is made to gradually increase with the time elapsing. Preferably, the maximum ratio KRMAX (maximum value of KR), for example, is set to "0.5".</p><p id="p0082" num="0082">In step S43, the averaged feedback control input UFBAV, the hold control input UHOLD, and the preset ratio KR are applied to the following equation (12), to calculate the corrected hold control input UHLDC. According to the equation (12), the averaged feedback control input UFBAV affects the corrected hold control input UHLDC more greatly as the preset ratio KR increases. <maths id="math0011" num="(12)"><math display="block"><mi>UHLDC</mi><mfenced><mi mathvariant="normal">k</mi></mfenced><mo>=</mo><mi>KR</mi><mo>×</mo><mi>UFBAV</mi><mfenced><mi mathvariant="normal">k</mi></mfenced><mo>+</mo><mfenced separators=""><mn mathvariant="normal">1</mn><mo>-</mo><mi>KR</mi></mfenced><mo>×</mo><mi>UHOLD</mi><mfenced><mi mathvariant="normal">k</mi></mfenced></math><img id="ib0011" file="imgb0011.tif" wi="110" he="9" img-content="math" img-format="tif"/></maths></p><p id="p0083" num="0083">As described above, in this embodiment, the hold control input UHOLD is calculated according to the CS angle CSA which is a controlled output. If the control deviation ERR is greater than the predetermined threshold value ERRHX, the output control input UFM, which is a control input to the controlled object, is set to the feedback control input UFB. If the control deviation ERR is equal to or less than the predetermined threshold value ERRHX, the output control input UFM is set to the corrected hold control input UHOLDC. When the output control input UFM is set to the corrected hold control input UHLDC, the feedback control input UFB is set so as to coincide with the corrected hold control input UHLDC. In this embodiment, the hold control input UHOLD is set so that the drive current IMD of the motor 43 becomes an average value of the upper limit value and the lower limit value of the required current for maintaining the CS angle at a constant value. Therefore, the electric power supplied to the motor 43 can be reduced. Further, by making the feedback control input UFB coincide with the corrected hold control input UHLDC when the output control input UFM is set to the corrected hold control input UHLDC, good converging performance is attained when the CS angle command value CSACMD changes, i.e., when the output control input UFM is switched to the feedback control input UFB from the corrected hold control input UHLDC.<!-- EPO <DP n="17"> --></p><p id="p0084" num="0084">Further, in this embodiment, the corrected hold control input UHLDC is equal to the hold control input UHOLD if the preset ratio KR is set to "0". Accordingly, sufficient reduction effect of the power consumption can be obtained. Further, by making the preset ratio KR gradually increase with the time elapsing, the averaged feedback control input UFBAV immediately before starting the hold operation is reflected to the corrected hold control input UHLDC even if the value of the hold control input UHOLD deviates from the optimal value due to a change in the characteristic of the first valve operating characteristic varying mechanism 41. Therefore, the influence of the deviation of the hold control input UHOLD due to the characteristic change in the first valve operating characteristic varying mechanism 41 can be reduced, thereby making it possible to stably perform the hold operation.</p><p id="p0085" num="0085">In this embodiment, the ECU 5 constitutes the feedback control means, the averaging means, the hold control input calculating means, the corrected hold control input calculating means, and the control input setting means. Specifically, the feedback control input calculation block 71 of <figref idrefs="f0005">FIG. 6</figref> corresponds to the feedback control means, the averaging block 75 corresponds to the averaging means, the hold control input calculation block 72 corresponds to the hold control input calculating means, and the correction block 76 corresponds to the corrected hold control input calculating means. Further, the hold flag setting block 73 and the switching block 74 correspond to the control input setting means. That is, steps S11, S12, S16, and S17 of <figref idrefs="f0006">FIG. 7</figref> correspond to the feedback control means, steps S13 to S15 and S18 of <figref idrefs="f0006">FIG. 7</figref>, and the process of <figref idrefs="f0007">FIG. 8</figref> correspond to the control input setting means, the process of <figref idrefs="f0008">FIG. 9</figref> corresponds to the hold control input calculating means, and the process of <figref idrefs="f0008">FIG. 10</figref> corresponds to the averaging means and the corrected hold input calculating means.</p><p id="p0086" num="0086">The averaged feedback control input UFBAV may alternatively be calculated by performing the low pass filtering or the Epsilon filtering instead of the above-described moving averaging calculation to the feedback control input UFB.</p><heading id="h0008"><u>Second Embodiment</u></heading><p id="p0087" num="0087"><figref idrefs="f0009">FIG. 11</figref> is a block diagram showing a configuration of an output control input calculation module according to a second embodiment of the present invention. The configuration shown in <figref idrefs="f0009">FIG. 11</figref> is obtained by changing the feedback control input<!-- EPO <DP n="18"> --> calculation block 71 shown in <figref idrefs="f0005">FIG. 6</figref> to a feedback control input calculation block 71 a. In this configuration, the output control input UFM is fed back to the feedback control input calculation block 71 a.</p><p id="p0088" num="0088"><figref idrefs="f0009">FIG. 12</figref> is a block diagram for illustrating the configuration of the feedback control input calculation block 71 a shown in <figref idrefs="f0009">FIG. 11</figref>. The feedback control input calculation block 71 a includes multiplying blocks 81, 84, and 88, subtracting blocks 82 and 87, an adding block 85, and an integration block 83. This configuration is obtained by adding the subtracting blocks 82 and 87 and the multiplying block 88 to the feedback control input calculation block 71 which consists of the multiplying blocks 81 and 84, the integration block 83, and the adding block 85, and performs the normal PI control.</p><p id="p0089" num="0089">The subtracting block 87 subtracts the output control input UFM from the feedback control input UFB, to calculate a control input deviation DUFB. The multiplying block 88 multiplies the reciprocal (1/KP) of the proportional term gain KP with the control input deviation DUFB. The subtracting block 82 subtracts (DFUB/KP) from the control deviation ERR, to calculate a modified control deviation ERRM. The integration block 83 integrates the modified control deviation ERRM, to calculate a modified control deviation integrated value ERRMI. The multiplying block 84 multiplies the integral term gain KI with the modified control deviation integrated value ERRMI, to calculate an integral term UI. The multiplying block 81 multiplies the proportional term gain KP with the control deviation ERR, to calculate a proportional term UP. The adding block 85 adds the proportional term UP and the integral term UI, to calculate the feedback control input UFB.</p><p id="p0090" num="0090">By expressing the feedback control input UFB using a transfer function of a continuous time system based on <figref idrefs="f0009">FIG. 12</figref>, the equations (20) and (21) are obtained. In the equation (20), "s" is the Laplace operator. <maths id="math0012" num="(20)"><math display="block"><mi>UFB</mi><mo>=</mo><mi>KP</mi><mo>×</mo><mi>ERR</mi><mo>+</mo><mi>KI</mi><mo>×</mo><mi>ERRM</mi><mo>/</mo><mi mathvariant="normal">s</mi></math><img id="ib0012" file="imgb0012.tif" wi="102" he="9" img-content="math" img-format="tif"/></maths><maths id="math0013" num="(21)"><math display="block"><mi>ERRM</mi><mo>=</mo><mi>ERR</mi><mo>-</mo><mfenced separators=""><mi>UFB</mi><mo>-</mo><mi>UFM</mi></mfenced><mo>/</mo><mi>KP</mi></math><img id="ib0013" file="imgb0013.tif" wi="102" he="8" img-content="math" img-format="tif"/></maths></p><p id="p0091" num="0091">By applying the feedback control input UFB expressed by the equation (20) to the equation (21), the following equation (22) is obtained. <maths id="math0014" num="(22)"><math display="block"><mi mathvariant="italic">ERRM</mi><mo>=</mo><mfrac><mi>s</mi><mrow><mi mathvariant="italic">KP</mi><mo>⋅</mo><mi>s</mi><mo>+</mo><mi mathvariant="italic">KI</mi></mrow></mfrac><mo>⁢</mo><mi mathvariant="italic">UFM</mi></math><img id="ib0014" file="imgb0014.tif" wi="110" he="12" img-content="math" img-format="tif"/></maths><!-- EPO <DP n="19"> --></p><p id="p0092" num="0092">The transfer function in the equation (22) from the output control input UFM to the modified control deviation ERRM is a transfer function of high-pass filtering, and a steady-state gain of the transfer function is equal to "0". Therefore, if the output control input UFM is set to the corrected hold control input UHLDC, the corrected control deviation ERRM gradually approaches "0" regardless of the control deviation ERR, and the feedback control input UFB gradually approaches the corrected hold control input UHLDC. It is to be noted that when UFM is equal to UFB, the modified control deviation ERRM becomes equal to the control deviation ERR, and the normal PI control operation is performed.</p><p id="p0093" num="0093">By adopting the configuration as shown in <figref idrefs="f0009">FIG. 12</figref> wherein the control deviation ERR is modified according to the control input deviation DUFB which is a difference between the feedback control input UFB and the output control input UFM, to calculate the modified control deviation ERRM; and the modified control deviation ERRM is input to the integration block 83, the feedback control input UFB can be made to gradually approach the corrected hold control input UHLDC (i.e., the integral term UI can be prevented from being saturated) when the output control input UFM is set to the corrected hold control input UHLDC. Consequently, the CS angle CSA can be quickly made to coincide with the CS angle command value CSACMD immediately after the hold flag FHOLD has changed from "1" to "0", i.e., immediately after restarting the normal feedback control operation.</p><p id="p0094" num="0094"><figref idrefs="f0010">FIG. 13</figref> is a flowchart of a process for realizing the function of the block diagram shown in <figref idrefs="f0009">FIG. 12</figref>. This process is executed at the predetermined intervals TCAL by the CPU in the ECU 5.</p><p id="p0095" num="0095">Steps S41 and S42 are respectively the same as steps S11 and S12 of <figref idrefs="f0006">FIG. 7</figref>, and the control deviation ERR(k) and the proportional term UP are calculated.</p><p id="p0096" num="0096">In step S43, the control input deviation DUFB(k) is calculated by the following equation (23). <maths id="math0015" num="(23)"><math display="block"><mi>DUFB</mi><mfenced><mi mathvariant="normal">k</mi></mfenced><mo>=</mo><mi>UFB</mi><mo>⁢</mo><mfenced separators=""><mi mathvariant="normal">k</mi><mo>-</mo><mn mathvariant="normal">1</mn></mfenced><mo>-</mo><mi>UFM</mi><mo>⁢</mo><mfenced separators=""><mi mathvariant="normal">k</mi><mo>-</mo><mn mathvariant="normal">1</mn></mfenced></math><img id="ib0015" file="imgb0015.tif" wi="86" he="8" img-content="math" img-format="tif"/></maths></p><p id="p0097" num="0097">In step S44, the modified control deviation ERRM(k) is calculated by the following equation (24). In step S45, the modified control deviation ERRM(k) is integrated by the following equation (25), to calculate the modified deviation integrated value ERRMI(k).<!-- EPO <DP n="20"> --> <maths id="math0016" num="(24)"><math display="block"><mi>ERRM</mi><mfenced><mi mathvariant="normal">k</mi></mfenced><mo>=</mo><mi>ERR</mi><mfenced><mi mathvariant="normal">k</mi></mfenced><mo>-</mo><mi>DUFB</mi><mfenced><mi mathvariant="normal">k</mi></mfenced><mo>/</mo><mi>KP</mi></math><img id="ib0016" file="imgb0016.tif" wi="86" he="8" img-content="math" img-format="tif"/></maths> <maths id="math0017" num="(25)"><math display="block"><mi>ERRMI</mi><mfenced><mi mathvariant="normal">k</mi></mfenced><mo>=</mo><mi>ERRM</mi><mfenced><mi mathvariant="normal">k</mi></mfenced><mo>+</mo><mi>ERRMI</mi><mo>⁢</mo><mfenced separators=""><mi mathvariant="normal">k</mi><mo>-</mo><mn mathvariant="normal">1</mn></mfenced></math><img id="ib0017" file="imgb0017.tif" wi="87" he="8" img-content="math" img-format="tif"/></maths></p><p id="p0098" num="0098">In step S46, the preceding value of the modified deviation integrated value ERRMI(k-1) is set to the present value ERRMI(k). In step S47, the integral term gain KI is multiplied with the modified deviation integrated value ERRMI(k), to calculate the integral term UI. In step S48, the proportional term UP and the integral term UI are added, to calculate the feedback control input UFB(k).</p><p id="p0099" num="0099">In step S49, it is determined whether or not the hold flag FHOLD is equal to "1". IF FHOLD is equal to "0", the output control input UFM(k) is set to the feedback control input UFB(k) (step S50). On the other hand, if the hold flag FHOLD is equal to "1", the output control input UFM(k) is set to the corrected hold control input UHLDC(k) (step S51).</p><p id="p0100" num="0100">As described above, in this embodiment, when the output control input UFM is set to the corrected hold control input UHLDC, the integral term UI is calculated by using the control input deviation DUFB which is the difference between the feedback control input UFB and the corrected hold control input UHLDC, and the feedback control input UFB is controlled so as to gradually approach the corrected hold control input UHLDC. Therefore, the CS angle CSA which is the controlled output can be made to quickly converge to the CS angle command value CSACMD, immediately after the CS angle command value CSACMD is changed, and the hold flag FHOLD is changed to "0".</p><p id="p0101" num="0101">Next, examples of the above described control operation will be described with reference to <figref idrefs="f0011 f0012 f0013">FIGS. 14A to 18D</figref>. In <figref idrefs="f0011 f0012 f0013">FIGS. 14A to 18D</figref>, changes in the CS angle command value CSACMD, the CS angle CSA, the hold flag FHOLD, the feedback control input UFB, and the output control input UFM are shown. In <figref idrefs="f0011">FIGS. 14A, 15A</figref>, <figref idrefs="f0012">16A, 17A</figref>, and <figref idrefs="f0013">18A</figref>, the dashed line indicates the CS angle command value CSACMD, and the solid line indicates the CS angle CSA. It is to be noted that examples shown in <figref idrefs="f0011 f0012">FIGS. 15A to 16D</figref> correspond to the initial condition where the preset ratio KR applied to correct the hold control input UHOLD is set to "0", and the corrected hold control input UHLDC is equal to the hold control input UHOLD.</p><p id="p0102" num="0102"><figref idrefs="f0011">FIGS. 14A to 14D</figref> show an example in which the hold operation of the output control input UFM is not performed when the CS angle command value CSACMD is constant (before time t1). The motor drive current IDM is approximately 20[A]<!-- EPO <DP n="21"> --> corresponding to the output control input UFM, which means that the power consumption is comparatively great.</p><p id="p0103" num="0103"><figref idrefs="f0011">FIGS. 15A to 15D</figref> shows an example in which the hold flag FHOLD is set to "1" at time t0, and the hold operation is started. In this example, the feedback control input calculation block continues the normal PI control in the hold operation (FHOLD = 1) to calculate the feedback control input UFB. On the other hand, the output control input UFM is set to the corrected hold control input UHLDC (<figref idrefs="f0011">FIG. 15D</figref>), thereby suppressing the motor drive current IDM to about 5[A]. However, the feedback control input UFB takes a value which is different from the output control input UFM (which is equal to the corrected hold control input UHLDC) as shown in <figref idrefs="f0011">FIG. 15C</figref>, since the integral term UI becomes saturated. Consequently, a control delay occurs (refer to the portion A of <figref idrefs="f0011">FIG. 15A</figref>) immediately after time t1 when the hold flag FHOLD is switched from "1 "to "0".</p><p id="p0104" num="0104"><figref idrefs="f0012">FIGS. 16A to 16D</figref> show an example in which the control of this embodiment is applied. After time t0 when the hold operation is started, the feedback control input UFB gradually approaches the output control input UFM (which is equal to the corrected hold control input UHLDC), and the feedback control input coincides with the output control input UFM before time t1. Consequently, the control delay as shown in <figref idrefs="f0011">FIG. 15A</figref> does not occur immediately after time t1, and good converging characteristic is obtained.</p><p id="p0105" num="0105"><figref idrefs="f0012">FIGS. 17A to 17D</figref> show an example of the control operation when the characteristic of the first valve operating characteristic varying mechanism 41 has changed due to aging and the preset ratio KR is set to "0". In this example, the hold flag FHOLD is set to "1" at time t10. However, since the value of the output control input UFM (which is equal to the corrected hold control input UHLDC) has deviated from the optimal value, the hold operation cannot be maintained and the hold flag FHOLD is returned to "0" at time t11. Accordingly, the normal feedback control is restarted, and the hold flag FHOLD is set to "1" at time t12. However, the hold flag FHOLD is likewise returned to "0" again at time t13. Therefore, the hold operation cannot be performed stably.</p><p id="p0106" num="0106"><figref idrefs="f0013">FIGS. 18A to 18D</figref> show an example of the control operation when the preset ratio KR is set to "0.5" in the same condition of the example of <figref idrefs="f0012">FIGS. 17A to 17D</figref>. In<!-- EPO <DP n="22"> --> this example, the hold flag FHOLD is set to "1" at time t0 and the state is maintained until time t1, to normally perform the hold operation. It is because the averaged feedback control input UFBAV is reflected to the corrected hold control input UHLDC according to the preset ratio KR. In this example, although the output control input UFM becomes greater than that of <figref idrefs="f0012">FIG. 17D</figref>, the hold operation can be performed stably.</p><p id="p0107" num="0107">In this embodiment, the feedback control input calculation block 71a corresponds to the feedback control means.</p><heading id="h0009"><u>Third Embodiment</u></heading><p id="p0108" num="0108"><figref idrefs="f0013">FIG. 19</figref> is a block diagram showing a configuration of an output control input calculation module according to a third embodiment of the present invention. The configuration shown in <figref idrefs="f0013">FIG. 19</figref> is obtained by changing the feedback control input calculation block 71 of the configuration shown in <figref idrefs="f0005">FIG. 6</figref> to a feedback control input calculation block 71 b.</p><p id="p0109" num="0109">The feedback control input calculation block 71 b includes, as shown in <figref idrefs="f0014">FIG. 20</figref>, a sliding mode controller 101, a differentiation block 102, a subtracting block 103, and a frequency shaping controller 104.</p><p id="p0110" num="0110">The differentiation block 102 differentiates the CS angle CSA, to calculate a rate of change in the CS angle CSA (hereinafter referred to as "CS angular speed") dCSA. The sliding mode controller 101 calculates a CS angular speed command value dCSACMD which is a target value of the CS angular speed dCSA so that the CS angle CSA coincides with the CS angle command value CSACMD by the sliding mode control. The subtracting block 103 subtracts the CS angular speed dCSA from the CS angular speed command value dCSACMD, to calculate an angular speed deviation DdCSA.</p><p id="p0111" num="0111">The frequency shaping controller 104 calculates the feedback control input UFB so that the angular speed deviation DdCSA becomes "0" with the PI control (proportional and integral control).</p><p id="p0112" num="0112">It is to be noted that the feedback control input UFB is output to the motor 43 and the first valve operating characteristic varying mechanism 41, which constitute a controlled object, through the switching block 74. However in <figref idrefs="f0014">FIG. 20</figref>, a simplified configuration wherein the feedback control input UFB is directly input to the controlled object 100 is shown.<!-- EPO <DP n="23"> --></p><p id="p0113" num="0113">In this embodiment, a block, which consists of the differentiation block 102, the subtracting block 103, the frequency shaping controller 104, and the controlled object 100, is defined as an extended controlled object 110. A frequency shaping transfer function H(s), which is a transfer function of the frequency shaping controller 104, is set so that a transfer function FX(s) of the extended controlled object 110 coincide with a desired target transfer function F(s).</p><p id="p0114" num="0114">The transfer function FX(s) of the extended controlled object 110 is given by the following equation (31). G(s) is a transfer function of the controlled object 100 (hereinafter referred to as "object transfer function"), and "s" is a transfer function of the differentiation block 102. <maths id="math0018" num="(31)"><math display="block"><mi mathvariant="italic">FX</mi><mfenced><mi>s</mi></mfenced><mo>=</mo><mfrac><mrow><mi>G</mi><mfenced><mi>s</mi></mfenced><mo>⋅</mo><mi>H</mi><mfenced><mi>s</mi></mfenced></mrow><mrow><mn>1</mn><mo>+</mo><mi>s</mi><mo>⋅</mo><mi>G</mi><mfenced><mi>s</mi></mfenced><mo>⋅</mo><mi>H</mi><mfenced><mi>s</mi></mfenced></mrow></mfrac></math><img id="ib0018" file="imgb0018.tif" wi="109" he="13" img-content="math" img-format="tif"/></maths></p><p id="p0115" num="0115">The frequency shaping transfer function H(s), which makes the transfer function FX(s) coincide with the target transfer function F(s), is obtained as the following equation (32) by replacing FX(s) in the equation (31) with F(s) and solving the modified equation with respect to H(s). <maths id="math0019" num="(32)"><math display="block"><mi>H</mi><mfenced><mi>s</mi></mfenced><mo>=</mo><mfrac><mrow><mi>F</mi><mfenced><mi>s</mi></mfenced></mrow><mrow><mn>1</mn><mo>-</mo><mi>s</mi><mo>⋅</mo><mi>F</mi><mfenced><mi>s</mi></mfenced></mrow></mfrac><mo>⋅</mo><mfrac><mn>1</mn><mrow><mi>G</mi><mfenced><mi>s</mi></mfenced></mrow></mfrac></math><img id="ib0019" file="imgb0019.tif" wi="110" he="14" img-content="math" img-format="tif"/></maths></p><p id="p0116" num="0116">Next, how the target transfer function F(s) is set will be described. The object transfer function G(s), which is a transfer function of the first valve operating characteristic varying mechanism 41 (more properly, a transfer function of a controlled object model obtained by modeling the first valve operating characteristic varying mechanism 41) can be expressed with the following equation (33). In the equation (33), "J" and "B" are constants determined by the characteristics of the motor 43 and the first valve operating characteristic varying mechanism 41, for example, a motor torque constant, a gear reduction ratio, an inertia moment of the motor 43, an inertia moment of the control shaft 56, and the like. <maths id="math0020" num="(33)"><math display="block"><mi>G</mi><mfenced><mi>s</mi></mfenced><mo>=</mo><mfrac><mn>1</mn><mrow><mi>J</mi><mo>⋅</mo><msup><mi>s</mi><mn>2</mn></msup><mo>+</mo><mi>B</mi><mo>⋅</mo><mi>s</mi></mrow></mfrac></math><img id="ib0020" file="imgb0020.tif" wi="110" he="15" img-content="math" img-format="tif"/></maths><!-- EPO <DP n="24"> --></p><p id="p0117" num="0117">In order to obtain the extended controlled object 110 expressed by the similar transfer function even if there exist error factors such as a change in the dynamic characteristic of the controlled object and/or a great disturbance, the target transfer function F(s) is given, for example, by the following equation (34). Then, the frequency shaping transfer function H(s) is given by the following equation (35). <maths id="math0021" num="(34)"><math display="block"><mi>F</mi><mfenced><mi>s</mi></mfenced><mo>=</mo><mfrac><mn>1</mn><mrow><mi>τ</mi><mo>⋅</mo><msup><mi>s</mi><mn>2</mn></msup><mo>+</mo><mi>s</mi></mrow></mfrac></math><img id="ib0021" file="imgb0021.tif" wi="109" he="13" img-content="math" img-format="tif"/></maths> <maths id="math0022" num="(35)"><math display="block"><mi>H</mi><mfenced><mi>s</mi></mfenced><mo>=</mo><mfrac><mrow><mi>J</mi><mo>⋅</mo><mi>s</mi><mo>+</mo><mi>B</mi></mrow><mrow><mi>τ</mi><mo>⋅</mo><mi>s</mi></mrow></mfrac></math><img id="ib0022" file="imgb0022.tif" wi="110" he="12" img-content="math" img-format="tif"/></maths></p><p id="p0118" num="0118">The transfer function H(s) corresponds to a transfer function of the PI (proportional and integral) control. Accordingly, the feedback control input UFB can be calculated by the same calculation as that in the feedback control input calculation block 71 in the first embodiment described above. That is, the angular speed deviation DdCSA in this embodiment corresponds to the control deviation ERR in the first embodiment. Therefore, by deleting step S11 in <figref idrefs="f0006">FIG. 7</figref>, and replacing the control deviations ERR of steps S12 and S15 with the angular speed deviations DdCSA, the feedback control input UFB can be calculated.</p><p id="p0119" num="0119">Next, a calculation method of the CS angular speed command value dCSACMD in the sliding mode controller 101 will be described. The CS angular speed command value dCSACMD is calculated as a sum of an equivalent control input UEQ and a reaching law control input URCH, as shown by the following equation (41). <maths id="math0023" num="(41)"><math display="block"><mi>dCSACMD</mi><mfenced><mi mathvariant="normal">k</mi></mfenced><mo>=</mo><mi>UEQ</mi><mfenced><mi mathvariant="normal">k</mi></mfenced><mo>+</mo><mi>URCH</mi><mfenced><mi mathvariant="normal">k</mi></mfenced></math><img id="ib0023" file="imgb0023.tif" wi="123" he="8" img-content="math" img-format="tif"/></maths></p><p id="p0120" num="0120">Further, by converting the transfer function F(s) of the extended controlled object 110 to a corresponding transfer function of the discrete time system and expressing the CS angle CSA(k), which is the control output, using past values of the CS angle CSA and the CS angular speed command value dCSACMD which is the control input, the following equation (42) for defining the controlled object model is obtained. <maths id="math0024" num="(42)"><math display="block"><mi>CSA</mi><mfenced><mi mathvariant="normal">k</mi></mfenced><mo>=</mo><mi mathvariant="normal">a</mi><mo>⁢</mo><mn mathvariant="normal">11</mn><mo>×</mo><mi>CSA</mi><mo>⁢</mo><mfenced separators=""><mi mathvariant="normal">k</mi><mo>-</mo><mn mathvariant="normal">1</mn></mfenced><mo>+</mo><mi mathvariant="normal">a</mi><mo>⁢</mo><mn mathvariant="normal">12</mn><mo>×</mo><mi>CSA</mi><mo>⁢</mo><mfenced separators=""><mi mathvariant="normal">k</mi><mo>-</mo><mn mathvariant="normal">2</mn></mfenced><mo>+</mo><mi mathvariant="normal">b</mi><mo>⁢</mo><mn mathvariant="normal">11</mn><mo>×</mo><mi>dCSACMD</mi><mo>⁢</mo><mfenced separators=""><mi mathvariant="normal">k</mi><mo>-</mo><mn mathvariant="normal">1</mn></mfenced><mo>+</mo><mi mathvariant="normal">b</mi><mo>⁢</mo><mn mathvariant="normal">12</mn><mo>×</mo><mi>dCSACMD</mi><mo>⁢</mo><mfenced separators=""><mi mathvariant="normal">k</mi><mo>-</mo><mn mathvariant="normal">2</mn></mfenced></math><img id="ib0024" file="imgb0024.tif" wi="127" he="17" img-content="math" img-format="tif"/></maths> where a11, a12, b11, and b12 are model parameters calculated by a well-known<!-- EPO <DP n="25"> --> method using the constant τ contained in the transfer function F(s) and the control period TCAL.</p><p id="p0121" num="0121">Further, a switching function value σ (k) is defined by the following equation (44) using a control deviation DCSA calculated by the equation (43). <maths id="math0025" num="(43)"><math display="block"><mi>DCSA</mi><mfenced><mi mathvariant="normal">k</mi></mfenced><mo>=</mo><mi>CSACMD</mi><mfenced><mi mathvariant="normal">k</mi></mfenced><mo>-</mo><mi>CSA</mi><mfenced><mi mathvariant="normal">k</mi></mfenced></math><img id="ib0025" file="imgb0025.tif" wi="122" he="8" img-content="math" img-format="tif"/></maths> <maths id="math0026" num="(44)"><math display="block"><mi mathvariant="normal">σ</mi><mfenced><mi mathvariant="normal">k</mi></mfenced><mo>=</mo><mi>DCSA</mi><mfenced><mi mathvariant="normal">k</mi></mfenced><mo>+</mo><mi>VPOLE</mi><mo>×</mo><mi>DCSA</mi><mo>⁢</mo><mfenced separators=""><mi mathvariant="normal">k</mi><mo>-</mo><mn mathvariant="normal">1</mn></mfenced></math><img id="ib0026" file="imgb0026.tif" wi="123" he="8" img-content="math" img-format="tif"/></maths> where VPOLE is a switching function setting parameter which determines a damping characteristic of the control deviation DCSA. The switching function setting parameter VPOLW is set to a value greater than "-1" and less than "0".</p><p id="p0122" num="0122">The equivalent control input UEQ is a control input which satisfies the following equation (45). <maths id="math0027" num="(45)"><math display="block"><mi mathvariant="normal">σ</mi><mfenced><mi mathvariant="normal">k</mi></mfenced><mo>=</mo><mi mathvariant="normal">σ</mi><mo>⁢</mo><mfenced separators=""><mi mathvariant="normal">k</mi><mo>+</mo><mn mathvariant="normal">1</mn></mfenced></math><img id="ib0027" file="imgb0027.tif" wi="120" he="7" img-content="math" img-format="tif"/></maths></p><p id="p0123" num="0123">By applying the equations (42), (43), and (44) to the equation (45), the following equation (46) for calculating the equivalent control input UEQ is obtained. <maths id="math0028" num="(46)"><math display="block"><mi>UEQ</mi><mfenced><mi mathvariant="normal">k</mi></mfenced><mo>=</mo><mfenced separators=""><mn mathvariant="normal">1</mn><mo>/</mo><mi mathvariant="normal">b</mi><mo>⁢</mo><mn mathvariant="normal">11</mn></mfenced><mfenced open="{" close="}" separators=""><mfenced separators=""><mn mathvariant="normal">1</mn><mo>-</mo><mi mathvariant="normal">a</mi><mo>⁢</mo><mn mathvariant="normal">11</mn><mo>-</mo><mi>VPOLE</mi></mfenced><mo>⁢</mo><mi>CSA</mi><mfenced><mi mathvariant="normal">k</mi></mfenced><mo>+</mo><mfenced separators=""><mi>VPOLE</mi><mo>-</mo><mi mathvariant="normal">a</mi><mo>⁢</mo><mn mathvariant="normal">12</mn></mfenced><mo>⁢</mo><mi>CSA</mi><mo>⁢</mo><mfenced separators=""><mi mathvariant="normal">k</mi><mo>-</mo><mn mathvariant="normal">1</mn></mfenced><mo>-</mo><mi mathvariant="normal">b</mi><mo>⁢</mo><mn mathvariant="normal">12</mn><mo>×</mo><mi>dCSACMD</mi><mo>⁢</mo><mfenced separators=""><mi mathvariant="normal">k</mi><mo>-</mo><mn mathvariant="normal">1</mn></mfenced><mo>+</mo><mi>CSACMD</mi><mo>⁢</mo><mfenced separators=""><mi mathvariant="normal">k</mi><mo>+</mo><mn mathvariant="normal">1</mn></mfenced><mo>+</mo><mfenced separators=""><mi>VPOLE</mi><mo>-</mo><mn mathvariant="normal">1</mn></mfenced><mo>⁢</mo><mi>CSACMD</mi><mfenced><mi mathvariant="normal">k</mi></mfenced><mo>-</mo><mi>VPOLE</mi><mo>×</mo><mi>CSACMD</mi><mo>⁢</mo><mfenced separators=""><mi mathvariant="normal">k</mi><mo>-</mo><mn mathvariant="normal">1</mn></mfenced></mfenced></math><img id="ib0028" file="imgb0028.tif" wi="121" he="31" img-content="math" img-format="tif"/></maths></p><p id="p0124" num="0124">Further, the reaching law control input URCH is calculated by the following equation (47). <maths id="math0029" num="(47)"><math display="block"><mi>URCH</mi><mfenced><mi mathvariant="normal">k</mi></mfenced><mo>=</mo><mfenced separators=""><mo>-</mo><mi mathvariant="normal">F</mi><mo>/</mo><mi mathvariant="normal">b</mi><mo>⁢</mo><mn mathvariant="normal">11</mn></mfenced><mo>⁢</mo><mi mathvariant="normal">σ</mi><mfenced><mi mathvariant="normal">k</mi></mfenced></math><img id="ib0029" file="imgb0029.tif" wi="119" he="9" img-content="math" img-format="tif"/></maths> where "F" is a reaching law control gain.</p><p id="p0125" num="0125">By configuring the control system as described above, a stable control can be performed by the sliding mode controller 101 even if there exist error factors such as a change in the dynamic characteristic of the controlled object 100, a great disturbance, and/or an influence of nonlinear elements. That is, the above error factors can be removed with the feedback control by the subtracting block 103 and the frequency shaping controller 104, thereby realizing a stable control by the sliding mode controller 101. Further, by performing the calculation in the frequency shaping controller 104 similarly to the calculation in the feedback control input calculation block 71 of the first embodiment, an effect which is the same as that of the first embodiment, can be obtained.<!-- EPO <DP n="26"> --></p><p id="p0126" num="0126">That is, the electric power supplied to the motor 43 can be reduced by setting the hold control input UHOLD so that the drive current IMD of the motor 43 takes an average value of the upper limit value and the lower limit value of the required current for maintaining the CS angle at a constant value. Further, by making the feedback control input UFB coincide with the corrected hold control input UHLDC when the output control input UFM is set to the corrected hold control input UHLDC, good converging performance is obtained when the CS angle command value CSACMD changes, i.e., when the output control input UFM is switched from the hold control input UHOLD to the feedback control input UFB.</p><p id="p0127" num="0127">In this embodiment, the feedback control input calculation block 71 b corresponds to the feedback control means. That is, the sliding mode controller 101, the subtracting block 103, the frequency shaping controller 104, and the differentiation block 102 correspond to the feedback control means.</p><heading id="h0010"><u>Modification</u></heading><p id="p0128" num="0128">Alternatively, the frequency shaping controller 104 may be changed to a frequency shaping controller 104a as shown in <figref idrefs="f0014">FIG. 21</figref>, and the frequency shaping controller 104a may be configured like the feedback control input calculation block 71 a as shown in <figref idrefs="f0014">FIG. 22</figref>. That is, by replacing the control deviation ERR with the angular speed deviation DdCSA and inputting the angular speed deviation DdCSA to the multiplying block 81 and the subtracting block 82, the feedback control input UFB in the hold operation can be made to gradually approach the corrected hold control input UHLDC.</p><heading id="h0011"><u>Fourth Embodiment</u></heading><p id="p0129" num="0129"><figref idrefs="f0015">FIG. 23</figref> is a diagram showing a configuration of a throttle valve actuating device and a control system therefor according to a fourth embodiment of the present invention.</p><p id="p0130" num="0130">A throttle valve 103 is provided in an intake passage 102 of an engine 101. A return spring 104 for biasing the throttle valve 103 in the closing direction, and a resilient member 105 for biasing the throttle valve 103 in the opening direction are mounted on the throttle valve 103. The throttle valve 103 is configured so as to be actuated by a motor 106 via a gear mechanism (not shown). The throttle valve 103, the return spring 104, the resilient member 105, the motor 106, and the gear<!-- EPO <DP n="27"> --> mechanism (not shown) constitute the throttle valve actuating device 110 which is a controlled object.</p><p id="p0131" num="0131">The motor 106 is connected to an ECU 107 and the operation is controlled by the ECU 107. The throttle valve 103 is provided a throttle valve opening sensor 108 for detecting a throttle valve opening TH, and the detection signal is supplied to the ECU 107.</p><p id="p0132" num="0132">The ECU 107 is connected to an accelerator sensor 109 for detecting a depression amount ACC of an accelerator pedal indicative of a demand output of the driver of the vehicle on which the engine 101 is mounted. The detection signal of the accelerator sensor 109 is supplied to the ECU 7.</p><p id="p0133" num="0133">The ECU 107 includes an input circuit, a CPU, a memory circuit, an output circuit, and the like, similarly to the ECU 5 in the first embodiment. The ECU 107 calculates a target opening THR of the throttle valve 103 according to the depression amount ACC of the accelerator pedal, and calculates an control input UFM to the motor 106 so that the detected throttle valve opening TH coincides with the target opening THR. The ECU 107 supplies an electrical signal according to the control input UFM, specifically, a pulse-width modulation (PWM) signal of a duty ratio proportional to the control input UFM to the motor 106.</p><p id="p0134" num="0134"><figref idrefs="f0015">FIG. 24</figref> shows a relationship between the opening TH of the throttle valve 103 and an output torque TRQM of the motor 106. That is, when the throttle valve opening TH is equal to the opening TH1, the throttle valve opening TH increases if the output torque TRQM exceeds the maximum torque TRQMH shown by the solid line L11; the throttle valve opening TH decreases if the output torque TRQM becomes less than the minimum torque TRQML shown by the solid line L12; and the throttle valve opening TH is maintained at the opening TH1 if the output torque TRQM is between the maximum torque TRQMH and the minimum torque TRQML. Therefore, when the target opening THR is constant, the power consumption can be reduced by appropriately setting the hold control input UHOLD for reducing the duty ratio of the PWM signal, like the first embodiment.</p><p id="p0135" num="0135"><figref idrefs="f0015">FIG. 25</figref> is a block diagram showing a configuration of an output control input calculation module in this embodiment. This module is configured similarly to that in the first embodiment, and includes a feedback control input calculation block 121, a hold<!-- EPO <DP n="28"> --> control input calculation block 122, a hold flag setting block 123, a switching block 124, an averaging block 125, and a correction block 126.</p><p id="p0136" num="0136">The feedback control input calculation block 121 calculates the feedback control input UFB so that the detected throttle valve opening TH coincides with the target opening THR with the proportional and integral (PI) control. Specifically, the feedback control input UFB is calculated by the calculation process obtained by replacing the CS angle command value CSACMD and the CS angle CSA in the process of <figref idrefs="f0006">FIG. 7</figref> or <figref idrefs="f0010">FIG. 13</figref>, respectively with the target opening THR and the throttle valve opening TH.</p><p id="p0137" num="0137">The hold control input calculation block 122 calculates the hold control input UHOLD according to the throttle valve opening TH. The hold control input UHOLD is set, for example, to a value corresponding to the average value of the maximum torque TRQMH and the minimum torque TRQML, like the first embodiment. Therefore, the hold control input UHOLD is set so as to increase as the throttle valve opening TH increases.</p><p id="p0138" num="0138">The hold flag setting block 123 sets the hold flag FHOLD according to the target opening THR and the throttle valve opening TH by the process similar to the process shown in <figref idrefs="f0007">FIG. 8</figref>. The averaging block 125 and the correction block 126 calculate the corrected hold control input UHLDC by the process similar to the process shown in <figref idrefs="f0008">FIG. 10</figref>. The switching block 124 selects the feedback control input UFB when the hold flag FHOLD is equal to "0; selects the hold control input UHOLD when the hold flag FHOLD is set to "1"; and outputs the selected control input as the output control input UFM.</p><p id="p0139" num="0139">By configuring the output control input calculation module as described above, the same effect as the first embodiment or the second embodiment is obtained.</p><p id="p0140" num="0140">In this embodiment, the feedback control input calculation block 121 corresponds to the feedback control means, the averaging block 125 corresponds to the averaging means, the hold control input calculation block 122 corresponds to the hold control input calculating means, the correction block 126 corresponds to the corrected hold control input calculating means, and the hold flag setting block 123 and the switching block 124 correspond to the control input setting means.</p><heading id="h0012"><u>Other Embodiments</u></heading><!-- EPO <DP n="29"> --><p id="p0141" num="0141">The present invention is not limited to the embodiments described above, and various modifications may be made. For example, in the above-described embodiments, the preset ratio KR is initially set to "0" and is made to increase with the time elapsing. Alternatively, a characteristic change in the controlled object may be detected, and the preset ratio KR may be made to increase according to the detected result of the characteristic change in the controlled object as described below.</p><p id="p0142" num="0142">If the hold flag FHOLD is returned to "0" after the hold flag FHOLD is set to "1", although the control target value (CSACMD) is maintained at the same value, it is determined that the characteristic of the controlled object has changed (the characteristic change determination condition is satisfied), and the preset ratio KR is made to increase by a predetermined amount ΔKR (for example, 0.1). Thereafter, when the characteristic change determination execution condition is satisfied, the preset ratio KR is made to increase by the predetermined amount Δ KR. With this setting method, the preset ratio KR can be set to an appropriate value according to the change in the characteristic of the controlled object.</p><p id="p0143" num="0143">Further, in the first to fourth embodiments described above, the hold control input UHOLD applied during the hold operation is set so that the drive current IMD of the motor 43 is set to an average value of the upper limit value and the lower limit value of the current required for holding. Alternatively, the drive current IMD may be set to a value which greater than the minimum current value and less than the average value. By such setting of the drive current, the power consumption of the motor 43 can be further reduced.<!-- EPO <DP n="30"> --></p><p id="p0144" num="0144">A control system for a plant is provided. A feedback control input is calculated so that a controlled output of the plant coincides with a target value. The feedback control input is averaged to calculate an averaged feedback control input. A hold control input is calculated according to an operating condition of the plant. A corrected hold control input is calculated by combining the hold control input with the averaged feedback control input according to a preset ratio. A control input to the plant is set to the feedback control input in a first state where a control deviation between the controlled output and the target value is greater than a predetermined threshold value, and setting the control input to the corrected hold control input in a second state where the control deviation is equal to or less than the predetermined threshold value. The feedback control input is made to gradually approach to or coincide with the corrected hold control input in the second state.</p></description><claims mxw-id="PCLM56984684" lang="DE" load-source="patent-office"><!-- EPO <DP n="34"> --><claim id="c-de-01-0001" num="0001"><claim-text>Steuersystem für eine Anlage, welches umfasst:
<claim-text>ein Rückkopplungsregelmittel (71; S11, S12, S16, S17) zum Berechnen einer Rückkopplungsregeleingabe (UFB), so dass eine geregelte Ausgabe (CSA) der Anlage mit einem Sollwert (CSACMD) übereinstimmt;</claim-text>
<claim-text>ein Aufmittelungsmittel (75) zum Aufmitteln der Rückkopplungsregeleingabe (UFB) zum Berechnen einer aufgemittelten Rückkopplungsregeleingabe (UFBAV);</claim-text>
<claim-text>ein Halte-Regeleingabeberechnungsmittel (72) zum Berechnen einer Halteregeleingabe (UHOLD) gemäß einem Betriebszustand der Anlage;</claim-text>
<claim-text>ein Korrigierte-Halte-Regeleingabeberechnungsmittel (76) zum Berechnen einer korrigierten Halte-Regeleingabe (UHLDC) durch Kombinieren der Halte-Regeleingabe (UHOLD) mit der aufgemittelten Rückkopplungsregeleingabe (UFBAV) entsprechend einem voreingestellten Verhältnis (KR); und</claim-text>
<claim-text>ein Regeleingabesetzmittel (73, 74; S13 - S15, S18) zum Schalten einer Regeleingabe (UFM) zur Anlage auf die Rückkopplungsregeleingabe (UFB) in einem ersten Zustand, wo eine Regelabweichung (ERR) zwischen der geregelten Ausgabe (CSA) und dem Sollwert (CSACMO) größer als ein vorbestimmter Schwellenwert (ERRHX) ist,</claim-text>
<claim-text>und Schalten der Regeleingabe (UFM) auf die korrigierte Halte-Regeleingabe (UHLDC) in einem zweiten Zustand, wo die Regelabweichung (ERR) gleich oder kleiner als der vorbestimmte Schwellenwert (ERRHX) ist,</claim-text>
<claim-text>worin im zweiten Zustand das Rückkopplungsregelmittel die Rückkopplungsregeleingabe (UFB) der korrigierten Halte-Regeleingabe (UHLDC) allmählich annähert oder damit in Übereinstimmung bringt,<!-- EPO <DP n="35"> --> <b>dadurch gekennzeichnet, dass</b> die Anlage einen Ventilbetriebscharakteristik-Veränderungsmechanismus (41) aufweist, der einen Hubbetrag (LFTMAX) von zumindest einem Einlassventil (60) des Verbrennungsmotors (1) kontinuierlich ändert, und der Ventilbetriebscharakteristik-Veränderungsmechanismus (41) eine Steuerwelle (56) zum Ändern des Hubbetrags (LFTMAX) sowie einen Aktuator (43) zum Drehen der Steuerwelle (56) aufweist,</claim-text>
<claim-text>worin ein Wert (IDM) eines dem Aktuator (43) zugeführten elektrischen Stroms gemäß der Regeleingabe (UFM) gerechnet wird, und die geregelte Ausgabe (CSA) ein Drehwinkel der Steuerwelle (56) ist.</claim-text></claim-text></claim><claim id="c-de-01-0002" num="0002"><claim-text>Steuersystem nach Anspruch 1, worin im zweiten Zustand das Rückkopplungsregelmittel die Rückkopplungsregeleingabe (UFB) unter Verwendung eines Proportionalterms (UP) und eines Integralterms (UI) gemäß der Regelabweichung (ERR) berechnet, und den Integralterm (UI) unter Verwendung einer Regeleingabeabweichung (DUFB) errechnet, die eine Differenz zwischen der Rückkopplungsregeleingabe (UFB) und der korrigierten Halte-Regeleingabe (UHLDC) ist.</claim-text></claim><claim id="c-de-01-0003" num="0003"><claim-text>Steuerverfahren für eine Anlage, welches die Schritte umfasst:
<claim-text>a) Berechnen einer Rückkopplungsregeleingabe (UFB) derart, dass eine geregelte Ausgabe (CSA) der Anlage mit einem Sollwert (CSACMD) übereinstimmt;</claim-text>
<claim-text>b) Aufmitteln der Rückkopplungsregeleingabe (UFB) zum Berechnen einer aufgemittelten Rückkopplungsregeleingabe (UFBAV);</claim-text>
<claim-text>c) Berechnen einer Halte-Regeleingabe (UHOLD) gemäß einem Betriebszustand der Anlage;</claim-text>
<claim-text>d) Berechnen einer korrigierten Halte-Regeleingabe (UHLDC) durch Kombinieren der Halte-Regeleingabe (UHOLD) mit der aufgemittelten Rückkopplungsregeleingabe (UFBAV) gemäß einem voreingestellten Verhältnis (KR); und</claim-text>
<claim-text>e) Schalten einer Regeleingabe (UFM) zur Anlage auf die Rückkopplungsregeleingabe (UFB) in einem ersten Zustand, wo eine<!-- EPO <DP n="36"> --> Regelabweichung (ERR) zwischen der geregelten Ausgabe (CSA) und dem Sollwert (CSACMD) größer als ein vorbestimmter Schwellenwert (ERRHX) ist, und Schalten der Regeleingabe (UFM) zu der korrigierten Halte-Regeleingabe (UHLDC) in einem zweiten Zustand, wo die Regelabweichung (ERR) gleich oder kleiner als der vorbestimmte Schwellenwert (ERRHX) ist,</claim-text>
worin im zweiten Zustand die Rückkopplungsregeleingabe (UFB) der korrigierten Halte-Regeleingabe (UHLDC) allmählich angenähert wird oder mit dieser in Übereinstimmung gebracht wird,<br/>
<b>dadurch gekennzeichnet, dass</b> die Anlage einen Ventilbetriebscharakteristik-Veränderungsmechanismus (41) aufweist, der einen Hubbetrag (LFTMAX) von zumindest einem Einlassventil (60) des Verbrennungsmotors (1) kontinuierlich ändert, und der Ventilbetriebscharakteristik-Veränderungsmechanismus (41) eine Steuerwelle (56) zum Ändern des Hubbetrags (LFTMAX) sowie einen Aktuator (43) zum Drehen der Steuerwelle (56) aufweist,<br/>
worin ein Wert (IDM) eines dem Aktuator (43) zugeführten elektrischen Stroms gemäß der Regeleingabe (UFM) gerechnet wird, und die geregelte Ausgabe (CSA) ein Drehwinkel der Steuerwelle (56) ist.</claim-text></claim><claim id="c-de-01-0004" num="0004"><claim-text>Steuerverfahren nach Anspruch 3, worin im zweiten Zustand die Rückkopplungsregeleingabe unter Verwendung eines Proportionalterms (UP) und eines Integralterms (UI) gemäß der Regelabweichung (ERR) berechnet wird, und der Integralterm (UI) unter Verwendung einer Regeleingabeabweichung (DVFB) berechnet wird, die eine Differenz zwischen der Rückkopplungsregeleingabe (UFB) und der korrigierten Halte-Regeleingabe (UHLDC) ist.</claim-text></claim></claims><claims mxw-id="PCLM56984685" lang="EN" load-source="patent-office"><!-- EPO <DP n="31"> --><claim id="c-en-01-0001" num="0001"><claim-text>A control system for a plant, comprising:
<claim-text>feedback control means (71; S11, S12, S16, S17) for calculating a feedback control input (UFB) so that a controlled output (CSA) of said plant coincides with a target value (CSACMD);</claim-text>
<claim-text>averaging means (75) for averaging the feedback control input (UFB) to calculate an averaged feedback control input (UFBAV);</claim-text>
<claim-text>hold control input calculating means (72) for calculating a hold control input (UHOLD) according to an operating condition of said plant;</claim-text>
<claim-text>corrected hold control input calculating means (76) for calculating a corrected hold control input (UHLDC) by combining the hold control input (UHOLD) with the averaged feedback control input (UFBAV) according to a preset ratio (KR); and</claim-text>
<claim-text>control input setting means (73, 74; S13 - S15, S18) for switching a control input (UFM) to said plant to the feedback control input (UFB) in a first state where a control deviation (ERR) between the controlled output (CSA) and the target value (CSACMO) is greater than a predetermined threshold value (ERRHX), and switching the control input (UFM) to the corrected hold control input (UHLDC) in a second state where the control deviation (ERR) is equal to or less than the predetermined threshold value (ERRHX),</claim-text>
<claim-text>wherein the feedback control means makes the feedback control input (UFB) gradually approach to or coincide with the corrected hold control input (UHLDC) in the second state,</claim-text>
<claim-text><b>characterized in that</b> said plant comprises a valve operating characteristic varying mechanism (41) which continuously changes a lift amount (LFTMAX) of at least one intake valve (60) of an integral<!-- EPO <DP n="32"> --> combustion engine (1), and the valve operating characteristic varying mechanism (41) has control shaft (56) for changing the lift amount (LFTMAX) and an actuator (43) for rotating the control shaft (56),</claim-text>
<claim-text>wherein a value (IDM) of an electric current supplied to said actuator (43) is calculated according to the control input (UFM), and the controlled output (CSA) is an rotational angle of the control shaft (56).</claim-text></claim-text></claim><claim id="c-en-01-0002" num="0002"><claim-text>A control system according to claim 1, wherein the feedback control means calculates the feedback control input (UFB) using a proportional term (UP) and an integral term (UI) according to the control deviation (ERR), and calculates the integral term (UI) using a control input deviation (DUFB) which is a difference between the feedback control input (UFB) and the corrected hold control input (UHLDC), in the second state.</claim-text></claim><claim id="c-en-01-0003" num="0003"><claim-text>A control method for a plant, comprising the steps of:
<claim-text>a) calculating a feedback control input (UFB) so that a controlled output (CSA) of said plant coincides with a target value (CSACMD);</claim-text>
<claim-text>b) averaging the feedback control input (UFB) to calculate an average feedback control input (UFBAV);</claim-text>
<claim-text>c) calculating a hold control input (UHOLD) according to an operating condition of said plant;</claim-text>
<claim-text>d) calculating a corrected hold control input (UHLDC) by combining the hold control input (UHOLD) with the averaged feedback control input (UFBAV) according to a preset ratio (KR); and</claim-text>
<claim-text>e) switching a control input (UFM) to said plant to the feedback control input (UFB) in a first state where a control deviation (ERR) between the controlled output (CSA) and the target<!-- EPO <DP n="33"> --> value (CSACMD) is greater than a predetermined threshold value (ERRHX), and switching the control input (UFM) to the corrected hold control input (UHLDC) in a second state where the control deviation (ERR) is equal to or less than the predetermined threshold value (ERRHX),</claim-text>
wherein the feedback control input (UFB) is made to gradually approach to or coincide with the corrected hold control input (UHLDC) in the second state,<br/>
<b>characterized in that</b> said plant comprises a valve operating characteristic varying mechanism (41) which continuously changes a lift amount (LFTMAX) of at least one intake valve (60) of an integral combustion engine (1), and the valve operating characteristic varying mechanism (41) has a control shaft (56) for changing a lift amount (LFTMAX) and an actuator (43) for rotating the control shaft (56),<br/>
wherein a value (IDM) of an electric current supplied to said actuator (43) is calculated according to the control input (UFM), and the controlled output (CSA) is a rotational angle of the control shaft (56).</claim-text></claim><claim id="c-en-01-0004" num="0004"><claim-text>A control method according to claim 3, wherein the feedback control input is calculated using a proportional term (UP) and an integral term (UI) according to the control deviation(ERR), and calculates the integral term (UI) using a control input deviation (DVFB) which is a difference between the feedback control input (UFB) and the corrected hold control input (UHLDC), in the second state.</claim-text></claim></claims><claims mxw-id="PCLM56984686" lang="FR" load-source="patent-office"><!-- EPO <DP n="37"> --><claim id="c-fr-01-0001" num="0001"><claim-text>Système de commande pour une installation, comprenant:
<claim-text>des moyens de commande de rétroaction (71; S11, S12, S16, S17) pour calculer une entrée de commande de rétroaction (UFB) de telle manière qu'une sortie commandée (CSA) de ladite installation coïncide avec une valeur cible (CSACMD);</claim-text>
<claim-text>des moyens de formation de moyenne (75) pour former la moyenne de l'entrée de commande de rétroaction (UFB) pour calculer une entrée de commande de rétroaction moyenne (UFBAV);</claim-text>
<claim-text>des moyens de calcul d'entrée de commande de maintien (72) pour calculer une entrée de commande de maintien (UHOLD) conformément à une condition de fonctionnement de ladite installation;</claim-text>
<claim-text>des moyens de calcul d'entrée de commande de maintien corrigée (76) pour calculer une entrée de commande de maintien corrigée (UHLDC) en combinant l'entrée de commande de maintien (UHOLD) avec l'entrée de commande de rétroaction moyenne (UFBAV) conformément à un rapport préréglé (KR); et</claim-text>
<claim-text>des moyens de réglage d'entrée de commande (73, 74; S13-S15, S18) pour commuter une entrée de commande (UFM) pour ladite installation vers l'entrée de commande de rétroaction (UFB) dans un premier état dans lequel un écart de commande (ERR) entre la sortie commandée (CSA) et la valeur cible (CSACMD) est supérieur à une valeur de seuil prédéterminée (ERRHX), et commuter l'entrée de commande (UFM) vers l'entrée de commande de maintien corrigée (UHLDC) dans un deuxième<!-- EPO <DP n="38"> --> état dans lequel l'écart de commande (ERR) est égal ou inférieur à la valeur de seuil prédéterminée (ERRHX),</claim-text>
<claim-text>dans lequel les moyens de commande de rétroaction font en sorte que l'entrée de commande de rétroaction (UFB) s'approche graduellement de ou coïncide avec l'entrée de commande de maintien corrigée (UHLDC) dans le deuxième état,</claim-text>
<claim-text><b>caractérisé en ce que</b> ladite installation comprend un mécanisme faisant varier la caractéristique de fonctionnement de soupape (41) qui change en continu un degré de levée (LFTMAX) d'au moins une soupape d'admission (60) d'un moteur à combustion interne (1), et le mécanisme faisant varier la caractéristique de fonctionnement de soupape (41) comporte un arbre de commande (56) pour changer le degré de levée (LFTMAX) et un actionneur (43) pour faire tourner l'arbre de commande (56),</claim-text>
<claim-text>dans lequel une valeur (IDM) d'un courant électrique fourni audit actionneur (43) est calculée conformément à l'entrée de commande (UFM), et la sortie commandée (CSA) est un angle de rotation de l'arbre de commande (56).</claim-text></claim-text></claim><claim id="c-fr-01-0002" num="0002"><claim-text>Système de commande selon la revendication 1, dans lequel les moyens de commande de rétroaction calculent l'entrée de commande de rétroaction (UFB) en utilisant un terme proportionnel (UP) et un terme intégral (UI) conformément à l'écart de commande (ERR), et calculent le terme intégral (UI) en utilisant un écart d'entrée de commande (DUFB) qui est une différence entre l'entrée de commande de rétroaction (UFB) et l'entrée de commande de maintien corrigée (UHLDC), dans le deuxième état.<!-- EPO <DP n="39"> --></claim-text></claim><claim id="c-fr-01-0003" num="0003"><claim-text>Procédé de commande pour une installation, comprenant les étapes suivantes:
<claim-text>a) calculer une entrée de commande de rétroaction (UFB) de telle manière qu'une sortie commandée (CSA) de ladite installation coïncide avec une valeur cible (CSACMD);</claim-text>
<claim-text>b) former la moyenne de l'entrée de commande de rétroaction (UFB) pour calculer une entrée de commande de rétroaction moyenne (UFBAV);</claim-text>
<claim-text>c) calculer une entrée de commande de maintien (UHOLD) conformément à une condition de fonctionnement de ladite installation;</claim-text>
<claim-text>d) calculer une entrée de commande de maintien corrigée (UHLDC) en combinant l'entrée de commande de maintien (UHOLD) avec l'entrée de commande de rétroaction moyenne (UFBAV) conformément à un rapport préréglé (KR);</claim-text>
<claim-text>e) commuter une entrée de commande (UFM) pour ladite installation vers l'entrée de commande de rétroaction (UFB) dans un premier état dans lequel un écart de commande (ERR) entre la sortie commandée (CSA) et la valeur cible (CSACMD) est supérieur à une valeur de seuil prédéterminée (ERRHX), et commuter l'entrée de commande (UFM) vers l'entrée de commande de maintien corrigée (UHLDC) dans un deuxième état dans lequel l'écart de commande (ERR) est égal ou inférieur à la valeur de seuil prédéterminée (ERRHX),</claim-text>
dans lequel l'entrée de commande de rétroaction (UFB) est réalisée de façon à s'approcher graduellement de ou à coïncider avec l'entrée de commande de maintien corrigée (UHLDC) dans le deuxième état,<br/>
<!-- EPO <DP n="40"> --><b>caractérisé en ce que</b> ladite installation comprend un mécanisme faisant varier la caractéristique de fonctionnement de soupape (41) qui change en continu un degré de levée (LFTMAX) d'au moins une soupape d'admission (60) d'un moteur à combustion interne (1), et le mécanisme faisant varier la caractéristique de fonctionnement de soupape (41) comporte un arbre de commande (56) pour changer un degré de levée (LFTMAX) et un actionneur (43) pour faire tourner l'arbre de commande (56),<br/>
dans lequel une valeur (IDM) d'un courant électrique fourni audit actionneur (43) est calculée conformément à l'entrée de commande (UFM), et la sortie commandée (CSA) est un angle de rotation de l'arbre de commande (56).</claim-text></claim><claim id="c-fr-01-0004" num="0004"><claim-text>Procédé de commande selon la revendication 3, dans lequel on calcule l'entrée de commande de rétroaction en utilisant un terme proportionnel (UP) et un terme intégral (UI) conformément à l'écart de commande (ERR), et on calcule le terme intégral (UI) en utilisant un écart d'entrée de commande (DVFB) qui est une différence entre l'entrée de commande de rétroaction (UFB) et l'entrée de commande de maintien corrigée (UHLDC), dans le deuxième état.</claim-text></claim></claims><drawings mxw-id="PDW16671931" load-source="patent-office"><!-- EPO <DP n="41"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="156" he="176" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="42"> --><figure id="f0002" num="2"><img id="if0002" file="imgf0002.tif" wi="158" he="117" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="43"> --><figure id="f0003" num="3A,3B"><img id="if0003" file="imgf0003.tif" wi="164" he="183" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="44"> --><figure id="f0004" num="4A,4B,5"><img id="if0004" file="imgf0004.tif" wi="135" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="45"> --><figure id="f0005" num="6"><img id="if0005" file="imgf0005.tif" wi="165" he="80" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="46"> --><figure id="f0006" num="7"><img id="if0006" file="imgf0006.tif" wi="144" he="188" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="47"> --><figure id="f0007" num="8"><img id="if0007" file="imgf0007.tif" wi="146" he="177" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="48"> --><figure id="f0008" num="9,10"><img id="if0008" file="imgf0008.tif" wi="94" he="188" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="49"> --><figure id="f0009" num="11,12"><img id="if0009" file="imgf0009.tif" wi="165" he="182" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="50"> --><figure id="f0010" num="13"><img id="if0010" file="imgf0010.tif" wi="121" he="216" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="51"> --><figure id="f0011" num="14A,14B,14C,15A,15B,15C,15D"><img id="if0011" file="imgf0011.tif" wi="165" he="227" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="52"> --><figure id="f0012" num="16A,16B,16C,16D,17A,17B,17C,17D"><img id="if0012" file="imgf0012.tif" wi="161" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="53"> --><figure id="f0013" num="18A,18B,18C,18D,19"><img id="if0013" file="imgf0013.tif" wi="165" he="200" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="54"> --><figure id="f0014" num="20,21,22"><img id="if0014" file="imgf0014.tif" wi="165" he="223" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="55"> --><figure id="f0015" num="23,24,25"><img id="if0015" file="imgf0015.tif" wi="151" he="233" img-content="drawing" img-format="tif"/></figure></drawings><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
