<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2008240-B1" country="EP" doc-number="2008240" kind="B1" date="20140108" family-id="36722577" file-reference-id="318240" date-produced="20180826" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146588724" ucid="EP-2008240-B1"><document-id><country>EP</country><doc-number>2008240</doc-number><kind>B1</kind><date>20140108</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-06742842-A" is-representative="NO"><document-id mxw-id="PAPP154850916" load-source="docdb" format="epo"><country>EP</country><doc-number>06742842</doc-number><kind>A</kind><date>20060412</date><lang>EN</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140551866" ucid="EP-2006004316-W" load-source="docdb"><document-id format="epo"><country>EP</country><doc-number>2006004316</doc-number><kind>W</kind><date>20060412</date></document-id></priority-claim></priority-claims><dates-of-public-availability><intention-to-grant-date><date>20130919</date></intention-to-grant-date></dates-of-public-availability><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1989326450" load-source="ipcr">G06T   3/40        20060101AFI20071210BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL1989651421" load-source="docdb" scheme="CPC">G06T   3/4007      20130101 FI20130101BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132370805" lang="DE" load-source="patent-office">VERFAHREN UND VORRICHTUNG ZUR ROBUSTEN SUPERAUFLÖSUNG VIDEOSKALIERUNG</invention-title><invention-title mxw-id="PT132370806" lang="EN" load-source="patent-office">METHOD AND APPARATUS FOR ROBUST SUPER-RESOLUTION VIDEO SCALING</invention-title><invention-title mxw-id="PT132370807" lang="FR" load-source="patent-office">METHODE ET APPAREIL DE MISE A L'ECHELLE D'IMAGES VIDEO ROBUSTES ET A TRES HAUTE RESOLUTION</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR919539720" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>ZORAN FRANCE</last-name><address><country>FR</country></address></addressbook></applicant><applicant mxw-id="PPAR919531899" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>ZORAN (FRANCE)</last-name></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR919517801" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>BRUNA JOAN</last-name><address><country>FR</country></address></addressbook></inventor><inventor mxw-id="PPAR919527402" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>BRUNA, JOAN</last-name></addressbook></inventor><inventor mxw-id="PPAR919024433" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>BRUNA, JOAN</last-name><address><street>25 rue Mouton Duvernet</street><city>F-75014 Paris</city><country>FR</country></address></addressbook></inventor><inventor mxw-id="PPAR919510934" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>MALLAT STEPHANE</last-name><address><country>FR</country></address></addressbook></inventor><inventor mxw-id="PPAR919517060" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>MALLAT, STEPHANE</last-name></addressbook></inventor><inventor mxw-id="PPAR919024434" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>MALLAT, Stéphane</last-name><address><street>11, rue Bonaparte</street><city>F-75006 Paris</city><country>FR</country></address></addressbook></inventor></inventors><assignees><assignee mxw-id="PPAR919024436" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Zoran (France)</last-name><iid>101069253</iid><address><street>8-16, rue Paul-Vaillant-Couturier</street><city>92240 Malakoff</city><country>FR</country></address></addressbook></assignee></assignees><agents><agent mxw-id="PPAR919024435" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Cabinet Plasseraud</last-name><iid>100784233</iid><address><street>52, rue de la Victoire</street><city>75440 Paris Cedex 09</city><country>FR</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="EP-2006004316-W"><document-id><country>EP</country><doc-number>2006004316</doc-number><kind>W</kind><date>20060412</date><lang>EN</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2007115583-A1"><document-id><country>WO</country><doc-number>2007115583</doc-number><kind>A1</kind><date>20071018</date><lang>EN</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS549925198" load-source="docdb">AT</country><country mxw-id="DS549895787" load-source="docdb">BE</country><country mxw-id="DS549873023" load-source="docdb">BG</country><country mxw-id="DS549879700" load-source="docdb">CH</country><country mxw-id="DS549805149" load-source="docdb">CY</country><country mxw-id="DS549925199" load-source="docdb">CZ</country><country mxw-id="DS549895788" load-source="docdb">DE</country><country mxw-id="DS549805150" load-source="docdb">DK</country><country mxw-id="DS549805151" load-source="docdb">EE</country><country mxw-id="DS549788077" load-source="docdb">ES</country><country mxw-id="DS549873024" load-source="docdb">FI</country><country mxw-id="DS549873025" load-source="docdb">FR</country><country mxw-id="DS549895793" load-source="docdb">GB</country><country mxw-id="DS549805156" load-source="docdb">GR</country><country mxw-id="DS549925200" load-source="docdb">HU</country><country mxw-id="DS549879701" load-source="docdb">IE</country><country mxw-id="DS549895794" load-source="docdb">IS</country><country mxw-id="DS549873030" load-source="docdb">IT</country><country mxw-id="DS549805157" load-source="docdb">LI</country><country mxw-id="DS549883413" load-source="docdb">LT</country><country mxw-id="DS549925201" load-source="docdb">LU</country><country mxw-id="DS549883418" load-source="docdb">LV</country><country mxw-id="DS549883419" load-source="docdb">MC</country><country mxw-id="DS549925202" load-source="docdb">NL</country><country mxw-id="DS549925203" load-source="docdb">PL</country><country mxw-id="DS549883420" load-source="docdb">PT</country><country mxw-id="DS549925204" load-source="docdb">RO</country><country mxw-id="DS549925205" load-source="docdb">SE</country><country mxw-id="DS549883421" load-source="docdb">SI</country><country mxw-id="DS549805158" load-source="docdb">SK</country><country mxw-id="DS549789622" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data><office-specific-data><eptags><ep-no-a-document-published>*</ep-no-a-document-published></eptags></office-specific-data></bibliographic-data><description mxw-id="PDES63961143" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001"><b>BACKGROUND OF INVENTION</b></heading><p id="p0001" num="0001">The present invention relates generally to the processing of video images and more particularly to techniques for converting video sequence formats with scaling. The multiplicity of video formats requires to adapt the format of an incoming video to the format required by a display device or for transmission. In an interlaced video, each successive image, also called field, provide alternatively in time even and odd lines. Simple Definition television (SDTV) such as NTSC, PAL and SECAM television format, are interlaced. An interlaced monitor such as a cathode ray tube (CRT) is designed to display these fields, with an interlaced scanning of even and odd lines. Progressive video image formats incorporate all lines (even and odd) in each image. LCD video monitors are designed to display progressive videos. For an input interlaced video it is thus necessary to perform a deinterlacing that compute respectively the missing odd and even lines in each field of the interlaced video sequence, to output a progressive video. Several High Definition Television formats have also been adopted, with a progressive format 720p of 720 lines or an interlaced format 1080i of 1080 lines. Converting an SDTV video format to an HDTV video format typically requires to perform a deinterlacing and change the number of lines from say 486 for NTSC to 720 for 720p HDTV.</p><p id="p0002" num="0002">Deinterlacing and changing the number of lines of a video sequences is a scaling operation that converts an input video defined on an interlaced sampling grid to an output video defined on a output sampling grid. A deinterlacing is a scaling where the output sampling grid include both even and odd lines. A further modification of the number of lines further modifies the output sampling grid. Scaling videos requires to compute pixel values on a prescribed output sampling grid from the pixel values of the input video defined on a different input sampling grid.</p><p id="p0003" num="0003">A first approach is to compute each output video image at a time t from the input video<!-- EPO <DP n="2"> --> image at t using an FIR filtering to perform a spatial interpolation that computes samples on the output grid from the input sample values. When the input image is interlaced, it is sampled much below the Shannon sampling rate, and interpolations thus produce artifacts that are highly visible in the resulting video. Directional interpolations can partly reduce these artifacts but not completely because the information necessary to perform the interpolation is not available. If the input image is progressive, increasing the sampling density also produce a blurred image. <patcit id="pcit0001" dnum="US6614489B"><text>US Patent 6,614,489</text></patcit> provides an example of this approach.</p><p id="p0004" num="0004">A second approach called "motion adaptive" performs a time interpolation if no motion is locally detected in the image or a spatial interpolation if a significant motion is detected. In presence of significant motion, these techniques implement a spatial interpolations and thus produce the same type of artifacts as spatial interpolation techniques. <patcit id="pcit0002" dnum="US5428398A"><text>US Patent 5,428,398</text></patcit> provides an example of this approach.</p><p id="p0005" num="0005">A third approach called "motion compensated," measures the displacement in the image and perform an interpolation in time that takes into account the measure motion By combining the information of several images in time, such techniques can improve the spatial resolution of the image after scaling and restore finer details. This is called a super-resolution processing. Yet, existing motion compensated techniques are unstable and introduce visible artifacts. Indeed, computing precisely the displacement of image pixels is difficult, specially with interlaced images that are undersampled. Motion discontinuities at occlusions or fine scale motions such as produced by dust, or motion transparencies produce motion estimation errors that yield artifacts when using these motion vectors for time interpolation. To reduce these artifacts, motion compensated scaling procedures perform a spatial interpolation when the confidence in the measured motion is not sufficient. The reduction of motion artifacts is then performed at the cost of introducing artifacts introduced by the spatial scaling. <patcit id="pcit0003" dnum="US6940557B"><text>US Patent 6,940,557</text></patcit> provides an example of this approach.</p><p id="p0006" num="0006">None of the state of the art procedures for video scaling fully takes fully advantage of the space-time information provided by an input-video sequence in order to perform a super-resolution scaling of high quality. Therefore, it is an object of the present invention to obviate<!-- EPO <DP n="3"> --> or mitigate at least some of the above-mentioned disadvantages to convert video sequences with a scaling procedure.</p><heading id="h0002"><b>SUMMARY OF THE INVENTION</b></heading><p id="p0007" num="0007">It is a primary object of this invention to devise a method and means to perform a robust super-resolution scaling of an input video, that may include a deinterlacing.</p><p id="p0008" num="0008">The method according to the invention processes a video signal with input images defined on a spatio-temporal input grid. It outputs a video on a predefined spatio-temporal output grid. Calculations are performed on a spatio-temporal new grid of new points that are points of the output grid that are not in the input grid.</p><p id="p0009" num="0009">The invention applies a predefined family of parameterized interpolators which are linear operators that implement a parameterized weighted averaging of the input video values in spatio temporal neighborhoods of each new point of the new grid, to output a parameterized interpolation at each new point. As opposed to motion adaptive or motion compensated techniques that estimate the motion and make a decision between spatial or time interpolation along the estimated motion to compute an interpolation, no motion estimation is required in this invention and errors commonly generated bu such motion estimation are thus alleviated. Instead of estimating a motion to optimize an interpolation, a whole family of possible interpolators are computed and a best interpolator is selected with a robust maximum likelihood technique, which minimizes a loss defined from a negative log-likelihood.</p><p id="p0010" num="0010">At each new point, the method estimates a conditional probability distribution of the new point value given the input video values in a spatio-temporal neighborhood. Because of the limited amount of data available in such a neighborhood and the large variability of the video values, an interval insensitive probability distribution is used to obtain robust results. For each new point, an interval is estimated from input image values in a spatio-temporal neighborhood of this new point, such that the probability density of the output image value at this new point is estimated to have its maximum within this interval of values.<!-- EPO <DP n="4"> --></p><p id="p0011" num="0011">For each new point, the invention computes for each parameterized interpolation an insensitive loss value based on an second probability distribution, which is is constant and maximum within the interval of values associated with said new point. The second probability distribution is also referred to herein as "interval-insensitive". This insensitive loss can be representative of a negative log-likelihood of said interpolated value relatively to the interval-insensitive probability distribution defined from the interval of values associated with said new point.</p><p id="p0012" num="0012">For each parameterized interpolator, the insensitive loss is filtered spatially in order to be regularized with a weighted sum in a spatial neighborhood of each new point and this regularized loss is provided in input of a minimum loss selection process.</p><p id="p0013" num="0013">For each new point of said new grid, the invention selects a best parameterized interpolation which minimizes the regularized loss among all parameterized interpolations at this new point. It then outputs a video whose value at each output point of the output grid is either equal to the input video value if this output point is in the input grid or is equal to the best parameterized interpolation at this output point if this output point is a new point.</p><p id="p0014" num="0014">In this invention, for each new point the insensitive interval can be estimated with a robust process that divides the spatio-temporal neighborhood of the new point into a plurality of sub-neighborhoods. For each sub-neighborhood a partial insensitive interval is estimated from two values of specified rank obtained by sorting input image values in this sub-neighborhood, and a single insensitive interval is obtained by combining this plurality of partial insensitive intervals.</p><p id="p0015" num="0015">In this invention, the interval-insensitive probability distribution can be the Vapnik interval insensitive probability distribution that has an exponential decay outside the insensitive interval.</p><p id="p0016" num="0016">The method according to the invention can further comprise a penalization of the insensitive loss by a total variation increment. This penalization provides a control over the oscillations introduced by the selected best interpolation. For each parameterized interpolator and for each new point the method can include the computation of a total variation increment resulting from an aggregation of input image values and interpolated values calculated by the parameterized interpolator, in a one-dimensional neighborhood of the new point. This one-dimensional neigh-borhood can be chosen to be horizontal or vertical. For each parameterized interpolator this<!-- EPO <DP n="5"> --> total variation increment is filtered spatially with a weighted sum in a spatial neighborhood of each new point and this regularized total variation increment is provided in input of the minimum loss selection process. For each new point, the regularized insensitive loss can be penalized by the regularized total variation increment at said new point so that the selected best parameterized directional interpolation minimizes this penalized regularized insensitive loss among all parameterized interpolations at the new point.</p><p id="p0017" num="0017">In this invention, the parameterized interpolators can be parameterized directional interpolators that compute linear interpolations along parameterized spatio-temporal directions of the input grid.</p><p id="p0018" num="0018">The method according to the invention can further comprise a penalization of the insensitive loss by a directional matching error. For directional penalized interpolators, this penalization ensures that input image values have little variations in the spatio-temporal direction of the selected best interpolation. For each parameterized directional interpolator along a parameterized spatio-temporal direction and for each new point, a directional matching error is computed from the difference of interpolated input video values aligned with the new point along the spatio-temporal direction. For each parameterized directional interpolator, the directional matching error is filtered with a weighted sum in a spatial neighborhood of each new point and this regularized matching error is provided in input of the minimum loss selection process. For each new point the regularized insensitive loss is penalized by the regularized matching error to select a best parameterized directional interpolation which minimizes this penalized regularized insensitive loss among all parameterized interpolations at this new point. For each new point the regularized insensitive loss can also be penalized both by the regularized total variation increment and by the regularized matching error at this new point, to select a best parameterized directional interpolation.</p><p id="p0019" num="0019">The method of the present invention applies in particular to input video which are interlaced in order to output a video that is progressive. For such a deinterlacing, the method according to the invention can further comprise a classification of the input image into "Telecined Film Type", or "Interlaced Video Type" and which specifies if the input image is mostly similar<!-- EPO <DP n="6"> --> to the "Previous" input image or to the "Next" input image. It then modifies the selection of the best parameterized directional interpolation at each new point, which either minimizes the penalized regularized insensitive loss at this new point or which is a copy from the "Next" or "Previous" image value at this new point location, depending upon the image class.</p><p id="p0020" num="0020">Another aspect of the invention relates to a digital video scaling method for processing an input video signal having respective input image values at points of a space-time input grid to deliver an output video signal having respective output image values at points of a space-time output grid including points of said input grid and new points. The method comprises the following steps for each of these new points. Applying a predefined family of parameterized linear interpolators to the input images values in a respective space-time neighborhood of the new point to provide an interpolated value at the new point for each interpolator of the family. For each interpolator of the family, computing a total variation increment resulting from an aggregation of input image values and interpolated values calculated with the interpolator in a one-dimensional spatial neighborhood of the new point. For each interpolator of the family, filtering spatially the total variation increment in a spatial neighborhood of the new point. Selecting an interpolator of the family which fulfills a minimization criterion depending on the filtered total variation increment, wherein the interpolated value for the selected interpolator is taken as the output image value at the new point. Such minimization criterion typically combines the filtered total variation increment with another cost or loss value which advantageously consists of the filtered loss value derived from the interval-insensitive probability distribution as described hereabove. However, other cost or loss functions can also be used in alternative embodiments of the invention.</p><p id="p0021" num="0021">The invention also includes a television system for displaying images on a television display comprising means for receiving an input video signal, means for processing the input video signal in accordance with a method as disclosed above, and means for displaying an output video signal produced by the processing means.</p><p id="p0022" num="0022">The invention also includes a video scaling apparatus, comprising computer means arranged to carry out a method as disclosed above.<!-- EPO <DP n="7"> --></p><p id="p0023" num="0023">The invention also includes a computer program product, comprising instructions to carry out a method as disclosed above, when the program is run in a computer processing unit.</p><heading id="h0003"><b>BRIEF DESCRIPTION OF THE DRAWINGS</b></heading><p id="p0024" num="0024">The foregoing and other objects of this invention, the various features thereof, as well as the invention itself, may be more fully understood from the following description, when read together with the accompanying drawings in which:
<ul><li><figref idrefs="f0001">FIG. 1</figref> shows, in block diagram form, an exemplary embodiment of the invention which takes in input a video and computes an output video on a predefined output grid by minimizing an interval insensitive loss.</li><li><figref idrefs="f0002">FIG. 2</figref> shows, in block diagram form, an exemplary configuration of the invention which takes in input a video and computes an output video on a predefined output grid by minimizing an interval insensitive loss penalized by a regularized total variation increment.</li><li><figref idrefs="f0003">FIG. 3</figref> shows, in block diagram form, an exemplary configuration of the invention which takes in input a video and computes an output video on a predefined output grid by minimizing an insensitive loss penalized by total variation increment and directional matching errors.</li><li><figref idrefs="f0004">FIG. 4</figref> is a schematic diagram illustrating input grid point and new point configurations for the calculation of total variation increments.</li><li><figref idrefs="f0004">FIG. 5</figref> is a schematic diagram illustrating input grid point and new point configurations for the calculation of total variation increments for a deinterlacing system.</li><li><figref idrefs="f0005">FIG. 6</figref> is a schematic diagram illustrating input grid points used for spatial directional interpolations at a new point.</li><li><figref idrefs="f0005">FIG. 7</figref> is a schematic diagram illustrating input grid points used for spatio-temporal directional interpolations at a new point.</li></ul><!-- EPO <DP n="8"> --></p><heading id="h0004"><b>DETAILED DESCRIPTION</b></heading><p id="p0025" num="0025"><figref idrefs="f0001">FIG. 1</figref> shows a first apparatus exemplifying the present invention. The apparatus processes a video signal of 2D images defined on a spatio-temporal input grid <i>g</i> For each time index <i>t</i>, where <i>t</i> is an integer parameter, the spatio-temporal input-grid <i>g</i> is a grid of points whose coordinates in <b>R<sup>3</sup></b> are <i>x</i>(<i>n</i><sub>1</sub>,<i>n</i><sub>2</sub>,<i>t</i>) = <i>n</i><sub>1</sub>τ<sub>1</sub> + α<i>n</i><sub>2</sub>τ<sub>2</sub> + <i>t</i>τ<sub>3</sub> + τ<sub>4</sub>(<i>t</i>) where τ<sub>1</sub> = (1, 0, 0) and τ<sub>2</sub> = (0,1,0) are normalized horizontal and vertical spatial vectors, τ<sub>3</sub> = (0, 0, 1) is a vector along time, and τ<sub>4</sub>(<i>t</i>) is a spatial shift that depends if the video is interlaced or progressive. If the input video is interlaced then it is composed of two fields at two time instant <i>t</i> and <i>t</i> + 1, where for <i>t</i> even the first one includes the even rows and the second one the odd row. In this case the input grid are defined in <b>R<sup>3</sup></b> by α = 2 and τ<sub>4</sub>(<i>t</i>) = (0, 0, 0) if <i>t</i> is even and τ<sub>4</sub>(<i>t</i>) = (0, 1, 0) if <i>t</i> is odd. If the input video is progressive then α = 1 and τ<sub>4</sub>(<i>t</i>) = (0,0,0) for all <i>t</i>. To each input grid point <i>x</i>(<i>n</i><sub>1</sub>, <i>n</i><sub>2</sub>, <i>t</i>) the input video gives an image value <i>v</i>(<i>n</i><sub>1</sub>, <i>n</i><sub>2</sub>, <i>t</i>). For example, for the PAL standard, the integers <i>n</i><sub>1</sub>,<i>n</i><sub>2</sub> are respectively in the range from 1 to 720 and from 1 to 288, α is equal to 2 and the time increment corresponding to one unit of <i>t</i> is 20 ms.</p><p id="p0026" num="0026">The image value is typically a multicomponent value. For example, in the YCbCr colorspace, each grid point has a Y component that specifies the luminance and two chroma component Cb and Cr that together specify the color. The processing is described herein on a single component and thus the image value <i>v</i>(<i>n</i><sub>1</sub>, <i>n</i><sub>2</sub>, <i>t</i>) is used to specify any single component value. However, several alternatives that process simultaneously all the components are possible and are described further below.</p><p id="p0027" num="0027">The super-resolution system of <figref idrefs="f0001">FIG. 1</figref> outputs a video stream of 2D images defined on a spatio-temporal output grid <img id="ib0001" file="imgb0001.tif" wi="4" he="6" img-content="character" img-format="tif" inline="yes"/>. At each time instant <i>t</i>, the output-grid <img id="ib0002" file="imgb0002.tif" wi="4" he="7" img-content="character" img-format="tif" inline="yes"/> is a uniform spatial grid of points <i>x̂</i>(<i>n</i><sub>1</sub>, <i>n</i><sub>2</sub>, <i>t</i>) = α<sub>1</sub> <i>n</i><sub>1</sub>τ<sub>1</sub>+α<sub>2</sub> α <i>n</i><sub>2</sub>τ<sub>2</sub>+<i>t</i>τ<sub>3</sub>+τ<sub>5</sub>(<i>t</i>) where <i>n</i><sub>1</sub>, <i>n</i><sub>2</sub> and <i>t</i> are integers, (α<sub>1</sub>, α<sub>2</sub>) are spatial scaling parameters relatively to the input grid, which may be larger or smaller than 1 and τ<sub>5</sub>(<i>t</i>) is a spatial shift. If the output grid is an interlaced grid then τ<sub>5</sub>(<i>t</i>) = (0, 0, 0) if <i>t</i> is even and τ<sub>s</sub>(<i>t</i>) (0,1,0) if <i>t</i> is odd. If the output grid is a progressive grid then τ<sub>5</sub>(<i>t</i>) = (0, 0, 0) for all <i>t</i>. In the following, we write <i>n</i> = (<i>n</i><sub>1</sub>, <i>n</i><sub>2</sub>). For each output grid point <i>x̂</i>(<i>n</i>, <i>t</i>) the output<!-- EPO <DP n="9"> --> video is specified by a value <i>v̂</i>(<i>n</i>, <i>t</i>). A scaling system is said to be a deinterlacing system if the input grid is interlaced and the output grid is progressive. It is said to be deinterlacing with unit scale if α<sub>1</sub> = α<sub>2</sub> = 1. For example, for the 720p HDTV standard, the integers <i>n</i><sub>1</sub>,<i>n</i><sub>2</sub> are respectively in the range from 1 to 1280 and from 1 to 720. If the input video is a PAL standard, the parameters are α<sub>1</sub> = 576/720 and α<sub>2</sub> = 720/1280.</p><p id="p0028" num="0028">At each time <i>t</i>, the super-resolution scaling system takes in input an image <i>v</i>(<i>n</i>, <i>t</i> + <i>d</i>) and it outputs an image <i>v̂</i>(<i>n</i>, <i>t</i>) with a delay <i>d</i> that is typically between 1 and 5. A new grid <img id="ib0003" file="imgb0003.tif" wi="4" he="8" img-content="character" img-format="tif" inline="yes"/>is defined as the set of all points of the output grid <img id="ib0004" file="imgb0004.tif" wi="6" he="8" img-content="character" img-format="tif" inline="yes"/> which do not belong to <img id="ib0005" file="imgb0005.tif" wi="6" he="10" img-content="character" img-format="tif" inline="yes"/>. A new point is a point of the new grid.</p><p id="p0029" num="0029">The calculation of <i>v̂</i>(<i>n</i>, <i>t</i>) is performed with a maximum likelihood approach. A family of interpolators that is defined a priori provides a family of image values at each new point. A conditional probability distribution for the unknown new point values is estimated from the observed input image values in the neighborhood of each new point.</p><p id="p0030" num="0030">The apparatus includes a parameterized interpolation module (101) which takes in input the input video and apply a family of linear interpolators {<i>E</i><sub>γ</sub>},<sub>γ∈Γ</sub>, indexed by a multiparameter γ in a predefined parameter set Γ. The module (101) outputs at each new grid point <i>x̂</i>(<i>n</i>, <i>t</i>) ∈ <img id="ib0006" file="imgb0006.tif" wi="5" he="7" img-content="character" img-format="tif" inline="yes"/> a family of interpolated values {<i>v̂</i><sub>γ</sub>(<i>n</i>, <i>t</i>)}<sub>γ∈Γ</sub>. A linear interpolator <i>E</i><sub>γ</sub> computes <i>v̂</i><sub>γ</sub>(<i>n</i>, <i>t</i>) in <i>x̂</i>(<i>n</i>, <i>t</i>) ∈ <img id="ib0007" file="imgb0007.tif" wi="5" he="8" img-content="character" img-format="tif" inline="yes"/>with a parameterized weighted averaging of the input image values <i>v</i>(<i>n</i>', <i>t</i> - <i>s</i>) for |<i>s</i>| ≤ <i>d</i>: <maths id="math0001" num="(1)"><math display="block"><mtable><mtr><mtd><msub><mover><mi>υ</mi><mo>^</mo></mover><mi>γ</mi></msub><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced></mtd><mtd columnalign="left"><mo>=</mo><msub><mi>E</mi><mi>γ</mi></msub><mfenced separators=""><mover><mi>x</mi><mo>^</mo></mover><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced><mo>,</mo><mi>υ</mi></mfenced></mtd></mtr><mtr><mtd><mspace width="1em"/></mtd><mtd columnalign="left"><mo>=</mo><mstyle displaystyle="false"><mstyle displaystyle="false"><munder><mo>∑</mo><mi mathvariant="italic">nʹ</mi></munder></mstyle><mstyle displaystyle="false"><munderover><mo>∑</mo><mrow><mi>s</mi><mo>=</mo><mo>-</mo><mi>d</mi></mrow><mi>d</mi></munderover></mstyle><msub><mi>K</mi><mi>γ</mi></msub><mo>⁢</mo><mfenced separators=""><mover><mi>x</mi><mo>^</mo></mover><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced><mo>-</mo><mi>x</mi><mo>⁢</mo><mfenced separators=""><mi mathvariant="italic">nʹ</mi><mo>,</mo><mi>t</mi><mo>-</mo><mi>s</mi></mfenced></mfenced><mo>⁢</mo><mi>υ</mi><mo>⁢</mo><mfenced separators=""><mi mathvariant="italic">nʹ</mi><mo>,</mo><mi>t</mi><mo>-</mo><mi>s</mi></mfenced><mn>.</mn></mstyle></mtd></mtr></mtable></math><img id="ib0008" file="imgb0008.tif" wi="141" he="18" img-content="math" img-format="tif"/></maths><br/>
The two-dimensional interpolation kernel <i>K</i><sub>γ</sub>(<i>x</i>) has a finite support so the sum (1) is evaluated on a finite number of terms where <i>x</i>(<i>n</i>', <i>t - s</i>)) is sufficiently close to <i>x̂</i>(<i>n, t</i>). Any state of the art interpolators may be used in the present invention. An exemplary embodiment of directional spatio-temporal interpolators is described later. The interpolations are implemented with separable one-dimensional linear interpolations along different directions. A one-dimensional<!-- EPO <DP n="10"> --> linear interpolation at u from values <i>f</i>(<i>p</i>) can be calculated with an FIR linear filtering: <maths id="math0002" num=""><math display="block"><mover><mi>f</mi><mo>^</mo></mover><mfenced><mi>u</mi></mfenced><mo>=</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>p</mi><mo>=</mo><mo>-</mo><mi mathvariant="normal">Δ</mi></mrow><mi mathvariant="normal">Δ</mi></munderover></mstyle><mi>K</mi><mo>⁢</mo><mfenced separators=""><mi>u</mi><mo>-</mo><mi>p</mi></mfenced><mo>⁢</mo><mi>f</mi><mfenced><mi>p</mi></mfenced></math><img id="ib0009" file="imgb0009.tif" wi="56" he="17" img-content="math" img-format="tif"/></maths><br/>
where the interpolation kernel <i>K</i> has a support included in [-Δ, Δ] and satisfies <maths id="math0003" num=""><math display="inline"><msubsup><mi mathvariant="normal">Σ</mi><mrow><mi>p</mi><mo>=</mo><mo>-</mo><mi mathvariant="normal">Δ</mi></mrow><mi mathvariant="normal">Δ</mi></msubsup><mo>⁢</mo><mi>K</mi><mrow><mo>(</mo></mrow><mi>u</mi><mo>-</mo></math><img id="ib0010" file="imgb0010.tif" wi="26" he="8" img-content="math" img-format="tif" inline="yes"/></maths> <maths id="math0004" num=""><math display="inline"><mi>p</mi><mrow><mo>)</mo></mrow><mo>=</mo><mn>1</mn></math><img id="ib0011" file="imgb0011.tif" wi="13" he="8" img-content="math" img-format="tif" inline="yes"/></maths> for all <i>u</i> ∈ [0,1]. Typically, Δ is between 1 and 8.</p><heading id="h0005"><b>Insensitive Log-likelihood</b></heading><p id="p0031" num="0031">The choice of a best interpolation at each new point <i>x̂</i>(<i>n</i>, <i>t</i>) is advantageously performed by minimizing a negative log-likelihood calculated from the neighborhood input video values <i>v</i>(<i>p</i>, <i>t</i>). The conditional probability distribution of a new point image value knowing neighborhood input image values is estimated with an insensitive interval inside which this probability distribution is estimated to be maximum and constant because of a lack of data that can discriminate the probability distribution value inside this interval. The distance between a point <i>x</i> and an interval <i>I</i> = [<i>a</i>, <i>b</i>] is written: <maths id="math0005" num=""><math display="block"><mfenced open="|" close="|" separators=""><mi>x</mi><mo>-</mo><mi>I</mi></mfenced><mo>=</mo><mrow><mo>{</mo><mtable><mtr><mtd columnalign="left"><mi>a</mi><mo>-</mo><mi>x</mi></mtd><mtd><mi>if</mi><mspace width="1em"/><mi>x</mi><mo>&lt;</mo><mi>a</mi></mtd></mtr><mtr><mtd columnalign="left"><mn>0</mn></mtd><mtd><mi>if</mi><mspace width="1em"/><mi>x</mi><mo>∈</mo><mi>I</mi></mtd></mtr><mtr><mtd columnalign="left"><mi>x</mi><mo>-</mo><mi>b</mi></mtd><mtd><mi>if</mi><mspace width="1em"/><mi>x</mi><mo>&gt;</mo><mi>b</mi></mtd></mtr></mtable></mrow></math><img id="ib0012" file="imgb0012.tif" wi="55" he="29" img-content="math" img-format="tif"/></maths><br/>
An interval insensitive probability distribution <i>p<sub>I</sub></i>(<i>u</i>) is defined for <i>I</i> = [<i>a</i>, <i>b</i>] and ∈ = <i>b - a</i> by <maths id="math0006" num="(2)"><math display="block"><msub><mi>p</mi><mi>I</mi></msub><mfenced><mi>u</mi></mfenced><mo>=</mo><mi>η</mi><mrow><mo>{</mo><mtable columnalign="left"><mtr><mtd><mn>1</mn></mtd><mtd><mi>if</mi><mspace width="1em"/><mi>u</mi><mo>∈</mo><mi>I</mi></mtd></mtr><mtr><mtd><mi>f</mi><mo>⁢</mo><mfenced separators=""><mfenced open="|" close="|" separators=""><mi>u</mi><mo>-</mo><mi>I</mi></mfenced><mo>⁢</mo><mi>ϵ</mi></mfenced></mtd><mtd><mi>if</mi><mspace width="1em"/><mi>u</mi><mspace width="1em"/><mo>∉</mo><mi>I</mi></mtd></mtr></mtable></mrow></math><img id="ib0013" file="imgb0013.tif" wi="117" he="22" img-content="math" img-format="tif"/></maths><br/>
where for any fixed ∈, <i>f</i>(0, ∈) = 1 and <i>f</i>(<i>u</i>, ∈) is a monotonically decreasing function of <i>u</i>, and η is adjusted so that ∫ <i>p<sub>I</sub></i>(<i>u</i>)<i>dx</i> = 1. Any choice of <i>f</i>(<i>u</i>, ∈) is possible. Vapnik robust interval<!-- EPO <DP n="11"> --> insensitive probability distribution is defined by <maths id="math0007" num="(3)"><math display="block"><msub><mi>p</mi><mi>I</mi></msub><mfenced><mi>u</mi></mfenced><mo>=</mo><mfrac><mn>1</mn><mrow><mn>2</mn><mo>+</mo><mi>ϵ</mi></mrow></mfrac><mrow><mo>{</mo><mtable columnalign="left"><mtr><mtd><mn>1</mn></mtd><mtd><mi>if</mi><mspace width="1em"/><mi>u</mi><mo>∈</mo><mi>I</mi></mtd></mtr><mtr><mtd><mi mathvariant="italic">exp</mi><mfenced separators=""><mo>-</mo><mfenced open="|" close="|" separators=""><mi>u</mi><mo>-</mo><mi>I</mi></mfenced></mfenced></mtd><mtd><mi>if</mi><mspace width="1em"/><mi>u</mi><mspace width="1em"/><mo>∉</mo><mi>I</mi></mtd></mtr></mtable></mrow></math><img id="ib0014" file="imgb0014.tif" wi="123" he="22" img-content="math" img-format="tif"/></maths><br/>
which corresponds to <i>f</i>(∈, <i>u</i>) = exp(-<i>u</i>). One may also choose <i>f</i>(∈, <i>u</i>) = exp(-<i>u</i>/∈).</p><p id="p0032" num="0032">The apparatus has an insensitive interval estimation module (102) to compute for each new point <i>x̂</i>(<i>n</i>, <i>t</i>) ∈ <img id="ib0015" file="imgb0015.tif" wi="5" he="7" img-content="character" img-format="tif" inline="yes"/> an insensitive interval <i>I</i>(<i>n</i>, <i>t</i>) = [<i>a</i>(<i>n</i>, <i>t</i>) , <i>b</i>(<i>n</i>, <i>t</i>)] in which the output image value at <i>x̂</i>(<i>n</i>, <i>t</i>) is likely to be located but inside which there is no significant information to discriminate the probability of different values. The interval <i>I</i>(<i>n</i>, <i>t</i>) is calculated from input image values <i>v</i>(<i>n</i>', <i>t</i>') where <i>x</i>(<i>n</i>', <i>t</i>') is in a specified neighborhood <i>N</i>(<i>n</i>, <i>t</i>) of <i>x̂</i>(<i>n</i>, <i>t</i>). Let <i>C</i>(<i>n</i>, <i>t</i>) be the number of points in this neighborhood. In an exemplary embodiment, a neighborhood <i>N</i>(<i>n</i>, <i>t</i>) of <i>x̂</i>(<i>n</i>, <i>t</i>) is defined as a set of input grid points <i>x</i>(<i>n</i>', <i>t</i>') with |<i>t</i> - <i>t'</i>| ≤ <i>d</i> and where the spatial coordinates of <i>x</i>(<i>n</i>', <i>t</i>') are in a spatial square of width 2Δ centered in the spatial coordinates of <i>x̂</i>(<i>n</i>, <i>t</i>), where Δ is a predefined parameter. Typically, Δ is between 1 and 5.</p><p id="p0033" num="0033">In an exemplary embodiment, an insensitive interval is computed from the mean <i>m</i>(<i>n</i>, <i>t</i>) and the standard deviation σ(<i>n</i>, <i>t</i>) of all points in the neighborhood <maths id="math0008" num=""><math display="block"><mi>m</mi><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced><mo>=</mo><mfrac><mn>1</mn><mrow><mi>C</mi><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced></mrow></mfrac><mstyle displaystyle="false"><mstyle displaystyle="true"><munder><mo>∑</mo><mrow><mfenced separators=""><mi mathvariant="italic">nʹ</mi><mo>⁢</mo><mi mathvariant="italic">tʹ</mi></mfenced><mo>∈</mo><mi mathvariant="script">N</mi><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced></mrow></munder></mstyle><mi>υ</mi><mfenced separators=""><mi mathvariant="italic">nʹ</mi><mo>⁢</mo><mi mathvariant="italic">tʹ</mi></mfenced><mo>,</mo></mstyle></math><img id="ib0016" file="imgb0016.tif" wi="76" he="17" img-content="math" img-format="tif"/></maths> <maths id="math0009" num=""><math display="block"><msup><mi>σ</mi><mn>2</mn></msup><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced><mo>=</mo><mfrac><mn>1</mn><mrow><mi>C</mi><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced></mrow></mfrac><mstyle displaystyle="false"><mstyle displaystyle="true"><munder><mo>∑</mo><mrow><mfenced separators=""><mi mathvariant="italic">nʹ</mi><mo>⁢</mo><mi mathvariant="italic">tʹ</mi></mfenced><mo>∈</mo><mi mathvariant="script">N</mi><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced></mrow></munder></mstyle><msup><mfenced separators=""><mi>υ</mi><mfenced separators=""><mi mathvariant="italic">nʹ</mi><mo>⁢</mo><mi mathvariant="italic">tʹ</mi></mfenced><mo>-</mo><mi>m</mi><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced></mfenced><mn>2</mn></msup></mstyle><mn>.</mn></math><img id="ib0017" file="imgb0017.tif" wi="94" he="16" img-content="math" img-format="tif"/></maths><br/>
The module (102) sets <i>I</i>(<i>n</i>, <i>t</i>) = [<i>m</i>(<i>n</i>, <i>t</i>) - βσ(<i>n</i>, <i>t</i>), <i>m</i>(<i>n</i>, <i>t</i>) + βσ(<i>n, t</i>)] where β is a constant typically smaller than 3. In another embodiment, the module (102) estimates an insensitive interval from the ranked statistics of the points in <i>N</i>(<i>n</i>, <i>t</i>). We denote by {<i>v<sub>k</sub></i>}<sub>1≤<i>k</i>≤<i>C</i>(<i>n</i>,<i>t</i>)</sub> the <i>C</i>(<i>n</i>, <i>t</i>) ranked values of <i>N</i>(<i>n</i>, <i>t</i>) with <i>v<sub>k</sub></i> ≥ <i>v</i><sub><i>k</i>+1</sub>. Let <i>p</i> be a positive integer with <i>p</i> &lt; <i>C</i>(<i>n</i>, <i>t</i>)/2. If <i>C</i>(<i>n</i>, <i>t</i>) is even then <i>k</i><sub>1</sub> = <i>C</i>(<i>n</i>, <i>t</i>)/2 - <i>p</i> + 1 and <i>k</i><sub>2</sub> = <i>C</i>(<i>n</i>, <i>t</i>)/2 + <i>p</i> and if <i>C</i>(<i>n</i>, <i>t</i>) is odd then <i>k</i><sub>1</sub> = (<i>C</i>(<i>n</i>, <i>t</i>) + 1)/2 - <i>p</i> and <i>k</i><sub>2</sub> = (<i>C</i>(<i>n</i>, <i>t</i>) + 1)/2 + <i>p</i>. A ranked statistics insensitive interval <i>I</i>(<i>n</i>, <i>t</i>) = [<i>a</i>(<i>n</i>, <i>t</i>), <i>b</i>(<i>n</i>, <i>t</i>)] is defined by <i>a</i>(<i>n</i>, <i>t</i>) = <i>v</i><sub><i>k</i><sub2>1</sub2></sub> and <i>b</i>(<i>n</i>, <i>t</i>) = <i>v</i><sub><i>k</i><sub2>2</sub2></sub>.<!-- EPO <DP n="12"> --> Typically, <i>p</i> is between 1 and 3.</p><p id="p0034" num="0034">In yet another exemplary embodiment, the insensitive interval estimation is implemented by partitioning <i>N</i>(<i>n</i>, <i>t</i>) into a plurality of disjoint subsets <maths id="math0010" num=""><math display="inline"><mi mathvariant="script">N</mi><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced><mo>=</mo><msubsup><mo>∪</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>k</mi></msubsup><mo>⁢</mo><msub><mi mathvariant="script">N</mi><mi>i</mi></msub><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced><mn>.</mn></math><img id="ib0018" file="imgb0018.tif" wi="43" he="7" img-content="math" img-format="tif" inline="yes"/></maths> An insensitive interval <i>I<sub>i</sub></i>(<i>n</i>, <i>t</i>) is calculated from each <i>N<sub>i</sub></i>(<i>n</i>, <i>t</i>) with any procedure such as a mean and standard-deviation procedure or a ranked statistics procedure. These insensitive intervals are then combined to form a single insensitive interval. In an exemplary embodiment, <i>N</i>(<i>n</i>, <i>t</i>) is separated into the set <i>N</i><sub>1</sub>(<i>n, t</i>) of all points <i>x</i>(<i>n</i>', <i>t</i>') ∈ <i>N</i>(<i>n, t</i>) for <i>t</i>' = <i>t</i> and the set <i>N</i><sub>2</sub>(<i>n</i>, <i>t</i>) of all points <i>x</i>(<i>n</i>', <i>t</i>') ∈ <i>N</i>(<i>n</i>, <i>t</i>) for <i>t</i>' ≠ <i>t</i>. If the two insensitive intervals <i>I</i><sub>1</sub> (<i>n</i>, <i>t</i>) and <i>I</i><sub>2</sub>(<i>n</i>, <i>t</i>) have a non-empty intersection the final insensitive interval <i>I</i>(<i>n</i>, <i>t</i>) is defined as this intersection, otherwise the interval <i>I</i>(<i>n</i>, <i>t</i>) can be set as the union of the two intervals.</p><p id="p0035" num="0035">The apparatus further includes an insensitive loss calculation module (103) which outputs for each interpolator <i>E</i><sub>γ</sub> and each new point <i>x̂</i>(<i>n</i>, <i>t</i>) ∈ <img id="ib0019" file="imgb0019.tif" wi="5" he="8" img-content="character" img-format="tif" inline="yes"/>the negative log likelihood of <i>v̂</i><sub>γ</sub>(<i>n</i>, <i>t</i>) relatively to the the interval insensitive probability distribution calculated for <i>I</i>(<i>n</i>, <i>t</i>) = [<i>a</i>(<i>n</i>, <i>t</i>), <i>b</i>(<i>n</i>, <i>t</i>)]. The goal is to minimize this loss so additive constants can be removed from the log-likelihood. As a result of (2), this loss becomes for ∈(<i>n</i>, <i>t</i>) = <i>b</i>(<i>n</i>, <i>t</i>) - <i>a</i>(<i>n</i>, <i>t</i>): <maths id="math0011" num=""><math display="block"><msub><mi>l</mi><mi>γ</mi></msub><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced><mo>=</mo><mrow><mo>{</mo><mtable columnalign="left"><mtr><mtd><mn>0</mn><mspace width="1em"/><mi>if</mi><mspace width="1em"/><msub><mi>υ</mi><mi>γ</mi></msub><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced><mo>∈</mo><mi>I</mi><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced></mtd><mtd><mspace width="1em"/></mtd></mtr><mtr><mtd><mo>-</mo><mi>log</mi><mspace width="1em"/><mi>f</mi><mo>⁢</mo><mfenced separators=""><mfenced open="|" close="|" separators=""><msub><mi>υ</mi><mi>γ</mi></msub><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced><mo>-</mo><mi>I</mi><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced></mfenced><mo>,</mo><mi>ϵ</mi><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced></mfenced></mtd><mtd><mi>otherwise</mi></mtd></mtr></mtable></mrow></math><img id="ib0020" file="imgb0020.tif" wi="111" he="22" img-content="math" img-format="tif"/></maths><br/>
For Vapnik robust interval insensitive probability distribution (3), this loss becomes <maths id="math0012" num=""><math display="block"><msub><mi>l</mi><mi>γ</mi></msub><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced><mo>=</mo><mrow><mo>{</mo><mtable columnalign="left"><mtr><mtd><mn>0</mn></mtd><mtd><mi>if</mi><mspace width="1em"/><msub><mi>υ</mi><mi>γ</mi></msub><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced><mo>∈</mo><mi>I</mi><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced></mtd></mtr><mtr><mtd><mfenced open="|" close="|" separators=""><msub><mi>υ</mi><mi>γ</mi></msub><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced><mo>-</mo><mi>I</mi><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced></mfenced></mtd><mtd><mi>otherwise</mi></mtd></mtr></mtable></mrow></math><img id="ib0021" file="imgb0021.tif" wi="98" he="23" img-content="math" img-format="tif"/></maths></p><p id="p0036" num="0036">A spatial regularization module (104) takes in input the insensitive loss <i>l</i><sub>γ</sub>(<i>n</i>, <i>t</i>) calculated at each new point <i>x̂</i>(<i>n</i>, <i>t</i>) ∈ <img id="ib0022" file="imgb0022.tif" wi="5" he="7" img-content="character" img-format="tif" inline="yes"/>and for each γ ∈ Γ and performs a spatial low-pass filtering to compute a regularized loss over a spatial neighborhood <i>Ñ</i><sub>1</sub>(<i>n</i>, <i>t</i>) by making a weighted sum over this neighborhood. In an exemplary embodiment, <i>Ñ</i><sub>1</sub>(<i>n</i>, <i>t</i>) is a rectangle centered at <i>x̂</i>(<i>n</i>, <i>t</i>) which contains a fixed number <i>C</i><sub>1</sub> of new grid point, and all weights are set to 1. The<!-- EPO <DP n="13"> --> regularization is thus calculated as a sum over these C<sub>1</sub> points, typically between 16 and 256, <maths id="math0013" num="(4)"><math display="block"><msub><mover><mi>l</mi><mo>^</mo></mover><mi>γ</mi></msub><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced><mo>=</mo><mstyle displaystyle="false"><mstyle displaystyle="true"><munder><mo>∑</mo><mrow><mover><mi>x</mi><mo>^</mo></mover><mfenced separators=""><mi mathvariant="italic">p</mi><mo>⁢</mo><mi mathvariant="italic">t</mi></mfenced><mo>∈</mo><msub><mover><mi mathvariant="script">N</mi><mo> ‾</mo></mover><mn>1</mn></msub><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced></mrow></munder></mstyle><msub><mi>l</mi><mi>γ</mi></msub><mfenced separators=""><mi mathvariant="italic">p</mi><mo>⁢</mo><mi mathvariant="italic">t</mi></mfenced><mn>.</mn></mstyle></math><img id="ib0023" file="imgb0023.tif" wi="110" he="17" img-content="math" img-format="tif"/></maths><br/>
Any state of the art fast algorithm can be used to evaluate this sum. In another exemplary embodiment this sum is replaced by a weighted sum where the sum of all weights in <i>Ñ</i><sub>1</sub>(<i>n, t</i>) is equal to a constant that remains the same for all new points <i>x̂</i>(<i>n</i>, <i>t</i>) ∈ <img id="ib0024" file="imgb0024.tif" wi="4" he="6" img-content="character" img-format="tif" inline="yes"/>.</p><p id="p0037" num="0037">The apparatus shown in <figref idrefs="f0001">FIG. 1</figref> has a minimum loss selection module (105) which takes in input <i>l̂</i><sub>γ</sub>(<i>n</i>, <i>t</i>) for each new point <i>x̂</i>(<i>n</i>, <i>t</i>) ∈ <img id="ib0025" file="imgb0025.tif" wi="5" he="8" img-content="character" img-format="tif" inline="yes"/>and all γ ∈ Γ and finds the parameter φ(<i>n</i>, <i>t</i>) ∈ Γ of the best interpolator which minimizes the loss <i>l̂</i><sub>γ</sub>(<i>n</i>, <i>t</i>) over all interpolators: <maths id="math0014" num=""><math display="block"><msub><mover><mi>l</mi><mo>^</mo></mover><mrow><mi>φ</mi><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced></mrow></msub><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced><mo>=</mo><munder><mi>min</mi><mrow><mi>γ</mi><mo>∈</mo><mi mathvariant="normal">Γ</mi></mrow></munder><mstyle displaystyle="false"><msub><mover><mi>l</mi><mo>^</mo></mover><mi>γ</mi></msub><mfenced separators=""><mi mathvariant="italic">n</mi><mo>⁢</mo><mi mathvariant="italic">t</mi></mfenced><mn>.</mn></mstyle></math><img id="ib0026" file="imgb0026.tif" wi="50" he="13" img-content="math" img-format="tif"/></maths><br/>
The loss selection module (105) outputs for each new point the minimum loss interpolation <i>v̂</i><sub>φ(<i>n,t</i>)</sub>(<i>n,t</i>).</p><p id="p0038" num="0038">The input/new grids aggregation module (106) takes in input the minimum loss interpolation <i>v</i><sub>φ(<i>n</i>,<i>t</i>)</sub>(<i>n</i>, <i>t</i>) at each new point <i>x̂</i>(<i>n</i>, <i>t</i>) ∈ <img id="ib0027" file="imgb0025.tif" wi="5" he="8" img-content="character" img-format="tif" inline="yes"/> and the input video values <i>v</i>(<i>p</i>, <i>t</i>) and it outputs a super-resolution video defined over the output grid <img id="ib0028" file="imgb0025.tif" wi="5" he="8" img-content="character" img-format="tif" inline="yes"/>. For each new point <i>x̂</i>(<i>n</i>, <i>t</i>) ∈ <img id="ib0029" file="imgb0025.tif" wi="5" he="8" img-content="character" img-format="tif" inline="yes"/>, the aggregation module (106) outputs the minimum loss interpolation <i>ṽ</i>(<i>n</i>, <i>t</i>) = <i>v̂</i><sub>φ(<i>n</i>,<i>t</i>)</sub>(<i>n</i>, <i>t</i>). For each output point that is in the input grid <i>x̂</i>(<i>n, t</i>) = <i>x</i>(<i>p, t</i>) ∈ <img id="ib0030" file="imgb0030.tif" wi="4" he="13" img-content="character" img-format="tif" inline="yes"/>, the aggregation module(106) outputs the corresponding input video value <i>v̂</i>(<i>n</i>, <i>t</i>) = <i>v</i>(<i>p</i>, <i>t</i>).</p><p id="p0039" num="0039">While a detailed description of exemplary embodiments of <figref idrefs="f0001">FIG. 1</figref> has been given above, various alternative, modifications, and equivalents will be apparent to those skilled in the art. For example, any state of the art optimization and ordering of the calculations, exploiting the spatial localization of the calculations in the modules (101), (102), (103), (104) and (105), to reduce the memory requirements, performs the same functions without varying from the spirit of the invention.</p><p id="p0040" num="0040">The apparatus described above process a single component of the video image. For mul-ticomponents<!-- EPO <DP n="14"> --> image, all components can be processed independently. Another possibility included in this invention is to process simultaneously all the components and define the insensitive loss of module (103) as a weighted sum of the insensitive loss obtained for each component, and thus choose the same best interpolator <i>E</i><sub>γ</sub> for all components at any given new grid point.</p><heading id="h0006"><b>Total variation penalization</b></heading><p id="p0041" num="0041">The method according to the invention can further comprise a penalization of the insensitive loss by a total variation increment. This penalization provides a control over the oscillations introduced by the selected best interpolation.</p><p id="p0042" num="0042"><figref idrefs="f0002">FIG. 2</figref> shows another apparatus according to the present invention. In this embodiment, the loss function used to select the parameterized interpolation is penalized by a total variation increment. The modules (201), (202), (203) and (204) in <figref idrefs="f0002">FIG. 2</figref> are respectively identical to the modules (101), (102), (103) and (104) in <figref idrefs="f0001">FIG. 1</figref>. The module (208) in <figref idrefs="f0002">FIG. 2</figref>. is also identical to the module (106) in <figref idrefs="f0001">FIG. 1</figref>.</p><p id="p0043" num="0043">The apparatus illustrated in <figref idrefs="f0002">FIG. 2</figref> comprises a total variation increment module (205) to compute for each interpolator <i>E</i><sub>γ</sub> a total variation increment produced by inserting a grid of interpolated new point values in a grid of input video values, in a neighborhood of each new point <i>x̂</i>(<i>n, t</i>) ∈ <img id="ib0031" file="imgb0031.tif" wi="3" he="6" img-content="character" img-format="tif" inline="yes"/>. In a preferred embodiment, the neighborhood is chosen to be one-dimensional and either horizontal or vertical. For a deinterlacing system, this neighborhood is chosen to be vertical to control the vertical total image variation increment produced by the deinterlacing. An exemplary embodiment with a vertical one-dimensional neighborhood is described below. The same procedure applies for a horizontal neighborhood by exchanging the roles of image rows and columns.</p><p id="p0044" num="0044">A vertical one-dimensional neighborhood of <i>x̂</i>(<i>n</i>, <i>t</i>) ∈ <i>g̃</i> is a vertical segment of size <i>L</i> centered at <i>x̂</i>(<i>n</i>, <i>t</i>). The value of <i>L</i> is a parameter that is typically between 1 and 15. ¿From top to bottom, we denote by {<i>ĥ<sub>l</sub></i>}<i><sub>l</sub></i> the vertical coordinates of the new points of <i>g̃</i> that are in the vertical neighborhood of <i>x̂</i>(<i>n</i>, <i>t</i>), and by {<i>ṽ<sub>l</sub></i>}<i><sub>l</sub></i> the corresponding interpolated values calculated with <i>E</i><sub>γ</sub>. <figref idrefs="f0004">FIG. 4</figref> illustrates the position of input points <i>x</i>(<i>p</i>, <i>t</i>) with crosses, the new point<!-- EPO <DP n="15"> --> <i>x̂</i>(<i>n</i>, <i>t</i>) is shown as a black circle and other new points <i>x̂</i>(<i>n</i>', <i>t</i>) with white circles, and the one-dimensional vertical neighborhood with a vertical dashed segment. For each input image row that intersects this vertical segment, an input image value is calculated at the intersection location with a one-dimensional interpolation operation along the image row. ¿From top to bottom, we denote by {<i>h<sub>k</sub></i>}<i><sub>k</sub></i> the vertical coordinates of these intersections locations, and by {<i>v<sub>k</sub></i>}<i><sub>k</sub></i> the corresponding input image values. The position of these interpolated points are shown in <figref idrefs="f0004">FIG. 4</figref> as triangles. If the input grid is an interlaced grid and the output grid is a progressive grid with scaling factors α<sub>1</sub> = α<sub>2</sub> = 1 then the new points are on the same columns as input points so the values <i>v<sub>k</sub></i> correspond to input video values, as illustrated by <figref idrefs="f0004">FIG. 5</figref>.</p><p id="p0045" num="0045">For each new point in the vertical neighborhood of vertical coordinate <i>ĥ<sub>l</sub></i>, either there are two consecutive input image points of coordinates <i>h<sub>k</sub></i> and <i>h</i><sub><i>k</i>+1</sub> such that <i>h<sub>k</sub></i> &gt; <i>h<sub>l</sub></i> ≥ <i>h</i><sub><i>k</i>+1</sub> or this points corresponds to the bottom-most or top-most point in the vertical segment. If the first condition is satisfied, the total variation increment produced by the insertion of <i>v̂</i><sub>l</sub> between <i>v<sub>k</sub></i> and <i>v</i><sub><i>k</i>+1</sub> is equal to the distance between <i>v̂<sub>l</sub></i> and the interval <i>I<sub>k</sub></i> = [min(<i>v<sub>k</sub></i>, <i>v</i><sub><i>k</i>+1</sub>), max(<i>v<sub>k</sub></i>, <i>v</i><sub><i>k</i>+1</sub>)], written |<i>v̂<sub>l</sub></i> - <i>I<sub>k</sub></i>|. This distance is calculated for each new points in the vertical neighborhood located between two input image points values.</p><p id="p0046" num="0046">Conversely, for each input point in the vertical neighborhood of vertical coordinate <i>h<sub>k</sub></i>, either there are two consecutive new points of coordinates <i>ĥ</i><sub><i>l</i>'</sub> and <i>ĥ</i><sub><i>l</i>'+1</sub> such that <i>ĥ</i><sub><i>l</i>'</sub> &gt; <i>h<sub>k</sub></i> ≥ <i>ĥ</i><sub><i>l</i>'+1</sub> or this points corresponds to the bottom-most or top-most point in the vertical segment. The total variation increment produced by the insertion of <i>v</i><sub>k</sub> between <i>v̂</i><sub><i>l</i>'-1</sub> and <maths id="math0015" num=""><math display="inline"><msubsup><mover><mi>υ</mi><mo>^</mo></mover><mi>l</mi><mi>ʹ</mi></msubsup></math><img id="ib0032" file="imgb0032.tif" wi="4" he="6" img-content="math" img-format="tif" inline="yes"/></maths> is equal to the distance between <i>v<sub>k</sub></i> and the interval <i>Î<sub>l'</sub></i> = [min(<i>v̂</i><sub><i>l</i>'</sub>, <i>v̂</i><sub><i>l</i>'</sub>-1), max(<i>v̂</i><sub><i>l</i>'</sub>, <i>v̂</i><sub><i>l</i>'-1</sub>)], written |<i>v<sub>k</sub></i> - <i>Î<sub>l'</sub></i>|. This distance is calculated for each <i>v<sub>k</sub></i> located between two new point image values <i>v̂</i><sub><i>l</i>'1</sub> and <maths id="math0016" num=""><math display="inline"><msubsup><mover><mi>υ</mi><mo>^</mo></mover><mi>l</mi><mi>ʹ</mi></msubsup><mn>.</mn></math><img id="ib0033" file="imgb0033.tif" wi="6" he="7" img-content="math" img-format="tif" inline="yes"/></maths></p><p id="p0047" num="0047">The resulting total variation increment measure of the estimator <i>E</i><sub>γ</sub> in the vertical neighborhood of <i>x̂</i>(<i>n</i>, <i>t</i>) is written <i>w</i><sub>γ</sub>(<i>n</i>, <i>t</i>). It is calculated by aggregating the total variation increments obtained for all input points <i>v<sub>k</sub></i> located between two new point image values <i>v̂</i><sub><i>l</i>'-1</sub> and <maths id="math0017" num=""><math display="inline"><msubsup><mover><mi>υ</mi><mo>^</mo></mover><mi>l</mi><mi>ʹ</mi></msubsup></math><img id="ib0034" file="imgb0034.tif" wi="4" he="7" img-content="math" img-format="tif" inline="yes"/></maths> and all interpolated values <i>v̂<sub>l</sub></i> located between two input image points values <i>v<sub>k</sub></i> and <i>v</i><sub><i>k</i>+1</sub> in this vertical neighborhood. In an exemplary embodiment, <i>w</i><sub>γ</sub>(<i>n</i>, <i>t</i>) is a weighted average of all these<!-- EPO <DP n="16"> --> total variation increments. In yet another exemplary embodiment it is obtained from a ranked statistics over all these total variations increments. The <i>w</i><sub>γ</sub>(<i>n</i>, <i>t</i>) value is obtained as the <i>p</i> value in the ranked list of all total variations increments with <i>p</i> a fixed positive integer.</p><p id="p0048" num="0048">The spatial regularization module (206) shown in <figref idrefs="f0002">FIG. 2</figref> takes in input the total variation <i>w</i><sub>γ</sub>(<i>n</i>, <i>t</i>) calculated at each new point <i>x̂</i>(<i>n</i>, <i>t</i>) ∈ <i>g̃</i> for each parameterized interpolator <i>E</i><sub>γ</sub> and performs spatial low-pass filtering to compute a regularized total variation increment with a weighted sum over a larger spatial neighborhood. In an exemplary embodiment, the module (206) computes a sum over a rectangular spatial neighborhood <i>Ñ</i><sub>2</sub>(<i>n</i>, <i>t</i>) of <i>x̂</i>(<i>n</i>, <i>t</i>) that contains a fixed number <i>C</i><sub>2</sub>, typically between 4 and 64, of new grid points: <maths id="math0018" num="(5)"><math display="block"><msub><mover><mi>w</mi><mo>^</mo></mover><mi>γ</mi></msub><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced><mo>=</mo><mstyle displaystyle="true"><munder><mo>∑</mo><mrow><mover><mi>x</mi><mo>^</mo></mover><mfenced separators=""><mi mathvariant="italic">p</mi><mo>⁢</mo><mi mathvariant="italic">t</mi></mfenced><mo>∈</mo><msub><mover><mi mathvariant="script">N</mi><mo> ‾</mo></mover><mn>2</mn></msub><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced></mrow></munder></mstyle><mstyle displaystyle="false"><msub><mi>w</mi><mi>γ</mi></msub><mfenced separators=""><mi mathvariant="italic">p</mi><mo>⁢</mo><mi mathvariant="italic">t</mi></mfenced></mstyle><mn>.</mn></math><img id="ib0035" file="imgb0035.tif" wi="111" he="15" img-content="math" img-format="tif"/></maths><br/>
In another exemplary embodiment this sum is replaced by a weighted sum where the sum of all weights in <i>N<sub>2</sub></i>(<i>n, t</i>) is equal to a constant that remains the same for all new points <i>x̂</i>(<i>n</i>, <i>t</i>) ∈ <i>g̃</i>.</p><p id="p0049" num="0049">The minimum loss selection module (207) takes in input for each new point <i>x̂</i>(<i>n</i>, <i>t</i>) ∈ <i>g̃</i> and for each interpolator <i>E</i><sub>γ</sub> the regularized interval insensitive loss <i>l̂</i><sub>γ</sub>(<i>n</i>, <i>t</i>) and the regularized total variation <i>ŵ</i><sub>γ</sub>(<i>n</i>, <i>t</i>) and computes a penalized loss <maths id="math0019" num=""><math display="block"><msub><mover><mi>l</mi><mo> ‾</mo></mover><mi>γ</mi></msub><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced><mo>=</mo><msub><mover><mi>l</mi><mo>^</mo></mover><mi>γ</mi></msub><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced><mo>+</mo><mi>λ</mi><mo>⁢</mo><msub><mover><mi>w</mi><mo>^</mo></mover><mi>γ</mi></msub><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced></math><img id="ib0036" file="imgb0036.tif" wi="58" he="12" img-content="math" img-format="tif"/></maths><br/>
where A is a predefined penalization constant, typically between 1 and 10. The module (207) finds the parameter φ(<i>n</i>, <i>t</i>) ∈ Γ of the best interpolator which minimizes the penalized loss <i>l̂</i><sub>γ</sub>(<i>n</i>, <i>t</i>) over all interpolators: <maths id="math0020" num=""><math display="block"><msub><mover><mi>l</mi><mo> ‾</mo></mover><mrow><mi>φ</mi><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced></mrow></msub><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced><mo>=</mo><munder><mi>min</mi><mrow><mi>γ</mi><mo>∈</mo><mi mathvariant="normal">Γ</mi></mrow></munder><mstyle displaystyle="false"><msub><mover><mi>l</mi><mo> ‾</mo></mover><mi>γ</mi></msub><mfenced separators=""><mi mathvariant="italic">n</mi><mo>⁢</mo><mi mathvariant="italic">t</mi></mfenced></mstyle><mo>,</mo></math><img id="ib0037" file="imgb0037.tif" wi="54" he="13" img-content="math" img-format="tif"/></maths><br/>
and it outputs for each new point the minimum loss estimation <i>v̂</i><sub>φ(<i>n</i>,<i>t</i>)</sub>(<i>n</i>, <i>t</i>).</p><p id="p0050" num="0050">The total variation penalization can be applied to a loss measure that is different from the interval insensitive loss described with reference to <figref idrefs="f0001">FIG. 1</figref>, in order to improve the choice of a<!-- EPO <DP n="17"> --> best interpolator. It can thus be used in a different configuration than the present invention.</p><p id="p0051" num="0051">As in the apparatus described in <figref idrefs="f0001">FIG. 1</figref>, the apparatus described above processes a single component of the video image. For multicomponents image, all components can be processed independently. Another possibility included in this invention is to process simultaneously all the components and define the penalized loss of module (207) as a weighted sum of the penalized loss obtained for each component, and thus choose the same best interpolator <i>E</i><sub>γ</sub> for all components at any given new grid point.</p><heading id="h0007"><b>Parameterized Directional Interpolations</b></heading><p id="p0052" num="0052"><figref idrefs="f0003">FIG. 3</figref> shows another embodiment of an apparatus according to the present invention. The interpolations are performed along parameterized directions, and a directional matching loss gives a measure of the input image variations along these directions. The modules (302), (303), (304), (306) in <figref idrefs="f0003">FIG. 3</figref> are respectively identical to the modules (202), (203), (204), (206) in <figref idrefs="f0002">FIG. 2</figref> and the module (311) is identical to the module (208).</p><p id="p0053" num="0053">The parameterized directional interpolators module (301) takes in input the input video and computes at each new grid point <i>x̂</i>(<i>n</i>,<i>t</i>) ∈ <img id="ib0038" file="imgb0031.tif" wi="3" he="6" img-content="character" img-format="tif" inline="yes"/>a family of interpolation values {<i>v̂</i><sub>γ</sub>(<i>n</i>, <i>t</i>)}<sub>γ∈Γ</sub> obtained by applying a family of linear interpolators {<i>E</i><sub>γ</sub>}<sub>γ∈Γ</sub>, indexed by a multiparameter γ, that includes a direction parameter. In a preferred embodiment, these parameterized directional interpolators are calculated with one-dimensional interpolations along the rows or columns of the input image and with directional interpolations along parameterized spatio-temporal directions. Any state of the art procedure may be used for the one-dimensional interpolations.</p><p id="p0054" num="0054">The directional matching error module (307) receives the input video and computes at each new grid point <i>x̂</i>(<i>n</i>, <i>t</i>) ∈ <img id="ib0039" file="imgb0031.tif" wi="3" he="6" img-content="character" img-format="tif" inline="yes"/>a family of directional matching errors {<i>e</i><sub>γ</sub>(<i>n</i>, <i>t</i>)}<sub>γ∈Γ</sub> associated to the parameterized directional interpolators {<i>E</i><sub>γ</sub>}<sub>γ∈Γ</sub>. In a preferred embodiment, these matching errors are calculated from differences between input image values along each parameterized direction. These directional matching errors quantify the input video variations in the spatio-temporal direction of each directional interpolator.</p><p id="p0055" num="0055">In a preferred implementation, interpolators are parameterized by a spatio-temporal direction<!-- EPO <DP n="18"> --> that is specified by a spatial vector <i>w</i> = <i>w</i><sub>1</sub>τ<sub>1</sub> + <i>w</i><sub>2</sub>τ<sub>2</sub> = (<i>w</i><sub>1</sub>, <i>w</i><sub>2</sub>, 0) and a time increment s which specifies input images <i>v</i>(<i>p</i>, <i>t - s</i>) and <i>v</i>(<i>p, t</i> + <i>s</i>) from which the interpolated value at <i>x̂</i>(<i>n</i>, <i>t</i>) is calculated. These interpolators are thus specified by the multiparameter value γ = (<i>w</i><sub>1</sub>, <i>w</i><sub>2</sub>, <i>s</i>) that is chosen among a predefined family of Γ of spatio-temporal parameters.</p><p id="p0056" num="0056">The maximum value of the time-shift s over Γ is the delay <i>d</i> of the super-resolution system. The images <i>x</i>(<i>n</i>, <i>t</i> + <i>s</i>) up to <i>s</i> = <i>d</i> are needed to estimate the new point values <i>v</i><sub>γ</sub>(<i>n</i>, <i>t</i>) and we must keep in memory the 2<i>d</i> + 1 images <i>x</i>(<i>n</i>, <i>t</i>') for <i>t</i> - <i>d</i> ≤ <i>t'</i> ≤ <i>t</i> + <i>d</i> to perform these estimations.</p><p id="p0057" num="0057">If <i>s</i> = 0 then <i>v̂</i><sub>γ</sub>(<i>n</i>, <i>t</i>) is calculated with a spatial interpolator from the input image <i>v</i>(<i>n</i>', <i>t</i>). This spatial interpolation is performed with a separable interpolations along first a preferential orientation that is either horizontal or vertical, and then along the spatial direction <i>w</i> = (<i>w</i><sub>1</sub>, <i>w</i><sub>2</sub>, 0). If the input video is interlaced, the preferential interpolation direction is chosen to be horizontal because the sampling distribution is twice larger along rows than columns. If the input video is progressive, the preferential interpolation direction can be chosen to be vertical if the angle of (<i>w</i><sub>1</sub>, <i>w</i><sub>2</sub>) with the horizontal (1, 0) is smaller than π/4 in which case we normalize <i>w</i><sub>1</sub> = 1, and the preferential interpolation direction is horizontal if the angle of (<i>w</i><sub>1</sub>, <i>w</i><sub>2</sub>) with the horizontal is bigger than π/4, in which case we normalize <i>w</i><sub>2</sub> = 1.</p><p id="p0058" num="0058">Suppose that the preferential interpolation direction is horizontal at <i>x̂</i>(<i>n</i>, <i>t</i>) and hence that <i>w</i> = (<i>w</i><sub>1</sub>, 1). If <i>x̂</i>(<i>n</i>, <i>t</i>) is located on a row of the input grid, then <i>v</i><sub>γ</sub>(<i>n</i>, <i>t</i>) can be calculated with a one-dimensional linear interpolation along this row at <i>x̂</i>(<i>n</i>, <i>t</i>). If <i>x̂</i>(<i>n</i>, <i>t</i>) is not located on a row of the input grid then its position can be written <i>x̂</i>(<i>n</i>, <i>t</i>) = <i>x̂</i><sub>1</sub>τ<sub>1</sub> + α<i>x</i><sub>2</sub>τ<sub>2</sub> + τ<sub>4</sub>(<i>t</i>) + <i>t</i>τ<sub>3</sub>, and let <i>n</i><sub>2</sub> be the unique integer such that <i>n</i><sub>2</sub> &lt; <i>x<sub>2</sub></i> &lt; <i>n</i><sub>2</sub> + 1. Let <i>y</i> = <i>x̂</i>(<i>n</i>, <i>t</i>) + α(<i>n</i><sub>2</sub> + 1- <i>x</i><sub>2</sub>)<i>w</i> and <i>z</i> = x̂(<i>n</i>, <i>t</i>) - α(<i>x</i><sub>2</sub> - <i>n</i><sub>2</sub>)<i>w</i> be the projection of <i>x̂</i>(<i>n</i>, <i>t</i>) in the direction of <i>w</i>, on the input image row just above and just below. The image values <i>v<sub>y</sub></i> at <i>y</i> is obtained by interpolating the input image value along the row <i>v</i>(<i>n</i>', <i>t</i>) for <i>n</i>' = (<i>p</i>, <i>n</i><sub>2</sub>) with a one-dimensional interpolation along the variable <i>p</i>, and the image value <i>v<sub>z</sub></i> at z is obtained by with a one-dimensional interpolation of the input image values along the row <i>v</i>(<i>n</i>', <i>t</i>) for <i>n</i>' = (<i>p</i>, <i>n</i><sub>2</sub>+1). In an exemplary embodiment, the image interpolation at <i>x̂</i>(<i>n</i>, <i>t</i>) is defined with a first order linear interpolation between <i>v<sub>y</sub></i><!-- EPO <DP n="19"> --> and <i>v<sub>z</sub></i>: <maths id="math0021" num="(6)"><math display="block"><msub><mover><mi>υ</mi><mo>^</mo></mover><mi>γ</mi></msub><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced><mo>=</mo><mfenced separators=""><msub><mi>n</mi><mn>2</mn></msub><mo>+</mo><mn>1</mn><mo>-</mo><msub><mi>x</mi><mn>2</mn></msub></mfenced><mo>⁢</mo><msub><mi>υ</mi><mi>y</mi></msub><mo>+</mo><mfenced separators=""><msub><mi>x</mi><mn>2</mn></msub><mo>-</mo><msub><mi>n</mi><mn>2</mn></msub></mfenced><mo>⁢</mo><msub><mi>υ</mi><mi>z</mi></msub><mn>.</mn></math><img id="ib0040" file="imgb0040.tif" wi="123" he="11" img-content="math" img-format="tif"/></maths><br/>
The directional matching error calculated by the module (307) for the interpolator <i>E</i><sub>γ</sub> at <i>x̂</i>(<i>n</i>, <i>t</i>) is the directional variation in the direction of <i>w</i>, between <i>v<sub>y</sub></i> and <i>v<sub>z</sub></i>: <maths id="math0022" num="(7)"><math display="block"><msub><mi>e</mi><mi>γ</mi></msub><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced><mo>=</mo><msup><mfenced open="|" close="|" separators=""><msub><mi>υ</mi><mi>y</mi></msub><mo>-</mo><msub><mi>υ</mi><mi>z</mi></msub></mfenced><mi>η</mi></msup></math><img id="ib0041" file="imgb0041.tif" wi="103" he="11" img-content="math" img-format="tif"/></maths><br/>
where η &gt; 0 is a fixed exponent that is chosen a priori, typically equal to 1 or 2. In the particular case of a deinterlacing with unit scale then <i>x</i><sub>2</sub> = <i>n</i><sub>2</sub> + 1/2 and hence <i>v̂</i><sub>γ</sub>(<i>n</i>, <i>t</i>) = (<i>v<sub>y</sub></i> + <i>v<sub>z</sub></i>)/2. This case is illustrated in <figref idrefs="f0005">FIG. 6</figref>.</p><p id="p0059" num="0059">When the preferential interpolation direction is vertical rather than horizontal, <i>w</i> = (1; <i>w</i><sub>2</sub>) and the same computations apply for the interpolators, by exchanging the roles of the horizontal and vertical coordinate axes, as well as of the input image rows and columns and by replacing α by 1.</p><p id="p0060" num="0060">If <i>s</i> &gt; 0, the spatio-temporal projection of <i>x̂</i>(<i>n</i>, <i>t</i>) in the images at <i>t</i> - <i>s</i> and <i>t</i> + <i>s</i> are located at <i>y</i> = <i>x̂</i>(<i>n</i>, <i>t</i>) - <i>w</i> - <i>s</i>τ<sub>3</sub> and <i>z</i> = <i>x̂</i>(<i>n</i>, <i>t</i>) + <i>w</i> + <i>sτ</i><sub>3</sub>. The image value <i>v<sub>y</sub></i> at the position <i>y</i> is calculated with a separable interpolations along the rows and columns of the input image values <i>v</i>(<i>n'</i>, <i>t - s</i>) at the grid points <i>x</i>(<i>n</i>', <i>t</i> - <i>s</i>). Similarly the image value <i>v<sub>z</sub></i> at the position <i>z</i> is calculated with separable interpolations along the rows and columns of the input image values <i>v</i>(<i>n'</i>, <i>t</i> + <i>s</i>) at the grid points <i>x</i>(<i>n</i>', <i>t</i> - <i>s</i>). The estimated image value at <i>x̂</i>(<i>n</i>, <i>t</i>) is <i>v̂</i><sub>γ</sub>(<i>n</i>, <i>t</i>) = (<i>v<sub>y</sub></i> + <i>v<sub>z</sub></i>)/2 and the directional matching error is <i>e</i><sub>γ</sub> (<i>n</i>, <i>t</i>) = |<i>v<sub>y</sub></i> - <i>v<sub>z</sub></i>|<sup>η</sup>.</p><p id="p0061" num="0061">In a preferred embodiment, the set of all possible directions w are chosen so that for each new point <i>x̂</i>(<i>n</i>, <i>t</i>) the projected positions <i>y</i> and <i>z</i> at <i>t</i> - <i>s</i> and <i>t</i> + <i>s</i> are located on a uniform grid that is precalculated by oversampling the input images <i>v</i>(<i>n</i>', <i>t - s</i>) and v(n', <i>t+s)</i> by fixed factors along their rows and columns.</p><p id="p0062" num="0062">For a deinterlacing system, the preferential spatial interpolation direction is horizontal. In an exemplary embodiment, with unit scale, for <i>s</i> = 0 the family of spatial direction vectors <i>w</i> is {(<i>k</i>/<i>q</i>,1,0)}-<sub><i>K</i>≤<i>k</i>≤<i>K</i></sub> where <i>q</i> is a fixed integer. <figref idrefs="f0005">FIG. 6</figref> shows the oversampling needed<!-- EPO <DP n="20"> --> to perform these spatial interpolations, with a typical choice of <i>q</i> = 2 and <i>K</i> = 4. The crosses indicated input image points <i>x</i>(<i>p</i>, <i>t</i>), the white circles are intermediate interpolated points and the black circle is a new point from which are shown 9 different directions. The family of spatio-temporal direction vectors depend upon the parity of the time-shift. If s is odd, then the family of spatio-temporal direction vectors is {<i>w</i> = (<i>k</i>/<i>q</i>,2<i>l</i>,0)}-<i><sub>Kl≤k≤Kl,-L≤l≤L</sub></i> and if <i>s</i> &gt; 0 is even then the family of spatio-temporal direction vectors is {<i>w</i> = (<i>k</i>/<i>q</i>, 2<i>l</i> + 1,0)}<sub>-<i>Kl≤k≤Kl,-L≤l≤L</i></sub> where the <i>K<sub>l</sub></i> may depend upon <i>l</i> or be chosen to be constant with a value typically between 2 and 8. The value of <i>q</i> is typically between 1 and 8 and <i>L</i> between 1 and 5. For such family of directions, all projected positions <i>y</i> and <i>z</i> are along a uniform grid obtained by oversampling the input image rows <i>v</i>(<i>n'</i>, <i>t-s)</i> and <i>v</i>(<i>n'</i>, <i>t+s</i>) by the factor <i>q</i>. <figref idrefs="f0005">FIG. 7</figref> illustrates spatio-temporal interpolations directions corresponding to an oversampling factor <i>q</i> = 2. The crosses indicated input image points <i>x</i>(<i>p</i>, <i>t</i>), the white circles are intermediate interpolated points and the black circle is a new point <i>x̂</i>(<i>n</i>, <i>t</i>).</p><p id="p0063" num="0063">The spatial regularization module (308) shown in <figref idrefs="f0003">FIG. 3</figref> takes in input the directional matching error <i>e</i><sub>γ</sub>(<i>n</i>, <i>t</i>) calculated at each new point <i>x̂</i>(<i>n</i>, <i>t</i>) ∈ <img id="ib0042" file="imgb0042.tif" wi="4" he="7" img-content="character" img-format="tif" inline="yes"/>for each parameterized interpolator <i>E</i><sub>γ</sub> and performs spatial low-pass filtering to compute a regularized directional matching error with a weighted sum over a larger spatial neighborhood. In an exemplary embodiment, the module (308) computes a sum over a rectangular spatial neighborhood <i>N<sub>3</sub></i>(<i>n</i>, <i>t</i>) of <i>x̂</i>(<i>n</i>, <i>t</i>) that contains a fixed number <i>C</i><sub>3</sub> of new grid points, typically between 16 and 256: <maths id="math0023" num="(8)"><math display="block"><msub><mover><mi>e</mi><mo>^</mo></mover><mi>γ</mi></msub><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced><mo>=</mo><mstyle displaystyle="true"><munder><mo>∑</mo><mrow><mover><mi>x</mi><mo>^</mo></mover><mfenced separators=""><mi mathvariant="italic">p</mi><mo>⁢</mo><mi mathvariant="italic">t</mi></mfenced><mo>∈</mo><msub><mover><mi mathvariant="script">N</mi><mo> ‾</mo></mover><mn>3</mn></msub><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced></mrow></munder></mstyle><mstyle displaystyle="false"><msub><mi>e</mi><mi>γ</mi></msub><mfenced separators=""><mi mathvariant="italic">p</mi><mo>⁢</mo><mi mathvariant="italic">t</mi></mfenced></mstyle><mn>.</mn></math><img id="ib0043" file="imgb0043.tif" wi="113" he="16" img-content="math" img-format="tif"/></maths><br/>
In another exemplary embodiment this sum is replaced by a weighted sum where the sum of all weights in <i>Ñ</i><sub>3</sub>(<i>n</i>, <i>t</i>) is equal to a constant that remains the same for all new points <i>x̂</i>(<i>n</i>, <i>t</i>) ∈ <img id="ib0044" file="imgb0044.tif" wi="4" he="9" img-content="character" img-format="tif" inline="yes"/>.</p><p id="p0064" num="0064">For a deinterlacing system with unit scale, to incorporate the case of deinterlacing input videos that are in a telecined film format, two simple interpolators that perform a copy from a previous and a next image are incorporated. We write <i>E</i><sub>γ<i>p</i></sub> the interpolator that copies from the previous image, and <i>E</i><sub>γ<i>p</i></sub> sets <i>v</i><sub>γ<i>p</i></sub>(<i>n</i>, <i>t</i>) = <i>v</i>(<i>n'</i>, <i>t</i> - 1) where <i>x</i>(<i>n'</i>, <i>t</i> - 1) has the same spatial<!-- EPO <DP n="21"> --> position as <i>x̂</i>(<i>n</i>, <i>t</i>). We write <i>E</i><sub>γ<i>n</i></sub> the interpolator that copies from the next image, and <i>E</i><sub>γ<i>n</i></sub> sets <i>v</i><sub>γ<i>n</i></sub> (<i>n</i>, <i>t</i>) = <i>v</i>(<i>n'</i>, <i>t</i> + 1) where <i>x</i>(<i>n</i>', <i>t</i> + 1) has the same spatial position as <i>x̂</i>(<i>n</i>, <i>t</i>).</p><p id="p0065" num="0065">For a deinterlacing system, the scaling system can include a global video/film classifier (309) which outputs for each input image <i>v</i>(<i>n</i>, <i>t</i>) an image class <i>c</i>(<i>t</i>), which specifies if the image belongs to an "Interlaced Video Type" sequence or a "Telecined Film Type" sequence. The "Interlaced Video Type" category indicates that the image is a field of an interlaced video. The "Telecined Film Type" category indicates that the input image is a telecined film field. Each of these classes are refined by specifying if the image <i>v</i>(<i>n</i>, <i>t</i>) is mostly similar to the "Previous" input image or to the "Next" input image. The four classes are thus "Telecined Film Type, Next", "Telecined Film Type, Previous", "Interlaced Video, Next" and "Interlaced Video, Previous".</p><p id="p0066" num="0066">In a first embodiment, the global video/film classifier (309) has a user interface that allows a user to specify if the image is an "Interlaced Video Type" image or a "Telecined film Type" image. In an automatic embodiment of the module (309), the classification is performed with global total variation increment measures. For each new point <i>x̂</i>(<i>n</i>, <i>t</i>) the total variation increment module (305) outputs the total variation increment <i>w</i><sub>γ</sub>(<i>n</i>, <i>t</i>) corresponding to each interpolator <i>E</i><sub>γ</sub> and in particular for γ = γ<i><sub>p</sub></i> and γ = γ<i><sub>n</sub></i>, which correspond to copy from previous and next images The module (309) takes in input these total variation increments <i>w</i><sub>γ<i>p</i></sub>(<i>n</i>, <i>t</i>) and <i>w</i><sub>γ<i>n</i></sub> (<i>n</i>, <i>t</i>) and computes global total variation increments over the whole new grid: <maths id="math0024" num=""><math display="block"><msub><mi>W</mi><msub><mi>γ</mi><mi>p</mi></msub></msub><mfenced><mi>t</mi></mfenced><mo>=</mo><mstyle displaystyle="false"><mstyle displaystyle="true"><munder><mo>∑</mo><mtable><mtr><mtd><mi>n</mi></mtd></mtr><mtr><mtd><mover><mi>x</mi><mo>^</mo></mover><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced><mo>∈</mo><mover><mi mathvariant="script">G</mi><mo> ‾</mo></mover></mtd></mtr></mtable></munder></mstyle><msub><mi>w</mi><msub><mi>γ</mi><mi>p</mi></msub></msub></mstyle><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced><mo>,</mo></math><img id="ib0045" file="imgb0045.tif" wi="58" he="17" img-content="math" img-format="tif"/></maths> <maths id="math0025" num=""><math display="block"><msub><mi>W</mi><msub><mi>γ</mi><mi>n</mi></msub></msub><mfenced><mi>t</mi></mfenced><mo>=</mo><mstyle displaystyle="false"><mstyle displaystyle="true"><munder><mo>∑</mo><mtable><mtr><mtd><mi>n</mi></mtd></mtr><mtr><mtd><mover><mi>x</mi><mo>^</mo></mover><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced><mo>∈</mo><mover><mi mathvariant="script">G</mi><mo> ‾</mo></mover></mtd></mtr></mtable></munder></mstyle><msub><mi>w</mi><msub><mi>γ</mi><mi>n</mi></msub></msub></mstyle><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced><mo>,</mo></math><img id="ib0046" file="imgb0046.tif" wi="53" he="17" img-content="math" img-format="tif"/></maths><br/>
and <maths id="math0026" num=""><math display="block"><msub><mi>W</mi><mrow><msub><mi>γ</mi><mi>n</mi></msub><mo>,</mo><msub><mi>γ</mi><mi>p</mi></msub></mrow></msub><mfenced><mi>t</mi></mfenced><mo>=</mo><mstyle displaystyle="false"><mstyle displaystyle="true"><munder><mo>∑</mo><mtable><mtr><mtd><mi>n</mi></mtd></mtr><mtr><mtd><mover><mi>x</mi><mo>^</mo></mover><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced><mo>∈</mo><mover><mi mathvariant="script">G</mi><mo> ‾</mo></mover></mtd></mtr></mtable></munder></mstyle><mi>min</mi><mfenced separators=""><msub><mi>w</mi><msub><mi>γ</mi><mi>n</mi></msub></msub><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced><mo>,</mo><msub><mi>w</mi><msub><mi>γ</mi><mi>p</mi></msub></msub><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced></mfenced></mstyle><mn>.</mn></math><img id="ib0047" file="imgb0047.tif" wi="87" he="15" img-content="math" img-format="tif"/></maths><br/>
If <maths id="math0027" num=""><math display="block"><mrow><mo>{</mo><mtable columnalign="left"><mtr><mtd><mi>min</mi><mfenced separators=""><msub><mi>W</mi><msub><mi>γ</mi><mi>n</mi></msub></msub><mfenced><mi>t</mi></mfenced><mo>,</mo><msub><mi>W</mi><msub><mi>γ</mi><mi>p</mi></msub></msub><mfenced><mi>t</mi></mfenced></mfenced><mo>≤</mo><msub><mi>η</mi><mn>1</mn></msub><mo>⁢</mo><msub><mi>W</mi><mrow><msub><mi>γ</mi><mi>n</mi></msub><mo>,</mo><msub><mi>γ</mi><mi>p</mi></msub></mrow></msub><mfenced><mi>t</mi></mfenced></mtd></mtr><mtr><mtd><mi>and min</mi><mfenced separators=""><msub><mi>W</mi><msub><mi>γ</mi><mi>n</mi></msub></msub><mfenced><mi>t</mi></mfenced><mo>,</mo><msub><mi>W</mi><msub><mi>γ</mi><mi>p</mi></msub></msub><mfenced><mi>t</mi></mfenced></mfenced><mo>≤</mo><mi>max</mi><mfenced separators=""><msub><mi>W</mi><msub><mi>γ</mi><mi>n</mi></msub></msub><mfenced><mi>t</mi></mfenced><mo>,</mo><msub><mi>W</mi><msub><mi>γ</mi><mi>p</mi></msub></msub><mfenced><mi>t</mi></mfenced></mfenced><mo>/</mo><msub><mi>η</mi><mn>2</mn></msub></mtd></mtr></mtable></mrow></math><img id="ib0048" file="imgb0048.tif" wi="104" he="21" img-content="math" img-format="tif"/></maths><br/>
<!-- EPO <DP n="22"> -->with η<sub>1</sub> &gt; 1 typically smaller than 10 and with η<sub>2</sub> &gt; 1 typically smaller than 10, then the image class <i>c</i>(<i>t</i>) is set to be a "Telecined Type" image. Otherwise, for a threshold <i>T</i>, that is set a priori typically between 1 and 50 for I byte images, if <maths id="math0028" num=""><math display="block"><mstyle displaystyle="false"><mstyle displaystyle="true"><munder><mo>∑</mo><mtable><mtr><mtd><mi>n</mi></mtd></mtr><mtr><mtd><mover><mi>x</mi><mo>^</mo></mover><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced><mo>∈</mo><mover><mi mathvariant="script">G</mi><mo> ‾</mo></mover></mtd></mtr></mtable></munder><mo>⁢</mo><mfenced open="|" close="|" separators=""><mi>υ</mi><mo>⁢</mo><mfenced separators=""><mi>n</mi><mo>,</mo><mi>t</mi><mo>-</mo><mn>1</mn></mfenced><mo>-</mo><mi>υ</mi><mo>⁢</mo><mfenced separators=""><mi>n</mi><mo>,</mo><mi>t</mi><mo>+</mo><mn>1</mn></mfenced></mfenced></mstyle><mo>&lt;</mo><mstyle displaystyle="true"><munder><mo>∑</mo><mtable><mtr><mtd><mi>n</mi></mtd></mtr><mtr><mtd><mover><mi>x</mi><mo>^</mo></mover><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced><mo>∈</mo><mover><mi mathvariant="script">G</mi><mo> ‾</mo></mover></mtd></mtr></mtable></munder></mstyle></mstyle><mn>1</mn></math><img id="ib0049" file="imgb0049.tif" wi="87" he="18" img-content="math" img-format="tif"/></maths><br/>
then <i>c</i>(<i>t</i>) is also set to be "Telecined Film Type". Otherwise <i>c</i>(<i>t</i>) is set to be an "Interlaced Video Type" image. In either cases, if <i>W</i><sub><i>γn</i>(<i>t</i>)</sub> &lt; <i>W</i><sub>γ<i>p</i>(<i>t</i>)</sub> then the sub-class is "Next" indicating that the image is more similar to the next one and otherwise the sub-class is "Previous".</p><p id="p0067" num="0067">The minimum loss selection module (310) takes in input for each new point <i>x̂</i>(<i>n</i>, <i>t</i>) ∈<img id="ib0050" file="imgb0031.tif" wi="3" he="6" img-content="character" img-format="tif" inline="yes"/> and for each interpolator <i>E</i><sub>γ</sub> the regularized interval insensitive loss <i>l̂</i><sub>γ</sub>(<i>n</i>, <i>t</i>), the regularized total variation increment <i>ŵ</i><sub>γ</sub> (<i>n</i>, <i>t</i>) and the regularized directional matching error <i>ê</i><sub>γ</sub>(<i>n</i>, <i>t</i>). It computes a penalized loss and given the image class <i>c</i>(<i>t</i>) it performs a conditional minimization that finds the parameter φ(<i>n</i>, <i>t</i>) of the best interpolator. The module (310) outputs for each new point the minimum loss estimation <i>v̂</i><sub>φ(<i>n</i>,<i>t</i>)</sub>(<i>n</i>, <i>t</i>).</p><p id="p0068" num="0068">If the scaling system is not a deinterlacing system with unit scale, then for each new point <i>x̂</i>(<i>n</i>, <i>t</i>) the regularized insensitive loss is penalized by the input total variation increment and the directional matching error: <maths id="math0029" num=""><math display="block"><msub><mover><mi>l</mi><mo> ‾</mo></mover><mi>γ</mi></msub><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced><mo>=</mo><msub><mover><mi>l</mi><mo>^</mo></mover><mi>γ</mi></msub><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced><mo>+</mo><mi>λ</mi><mo>⁢</mo><msub><mover><mi>w</mi><mo>^</mo></mover><mi>γ</mi></msub><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced><mo>+</mo><mi>μ</mi><mo>⁢</mo><msub><mover><mi>e</mi><mo>^</mo></mover><mi>γ</mi></msub><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced><mo>,</mo></math><img id="ib0051" file="imgb0051.tif" wi="79" he="10" img-content="math" img-format="tif"/></maths><br/>
where λ and µ are two penalization constants. Typical choices for λ and µ is between 1 and 10. The minimum loss selection module (310) finds the parameters ξ which minimizes this penalized loss excluding the two copy interpolators: <maths id="math0030" num="(9)"><math display="block"><msub><mover><mi>l</mi><mo> ‾</mo></mover><mi>ξ</mi></msub><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced><mo>=</mo><munder><munder><mi>min</mi><mrow><mi>γ</mi><mo>∈</mo><mi mathvariant="normal">Γ</mi></mrow></munder><mrow><mi>γ</mi><mo>≠</mo><msub><mi>γ</mi><mi>p</mi></msub><mo>,</mo><mi>γ</mi><mo>≠</mo><msub><mi>γ</mi><mi>n</mi></msub></mrow></munder><mstyle displaystyle="false"><msub><mover><mi>l</mi><mo> ‾</mo></mover><mi>γ</mi></msub><mfenced separators=""><mi mathvariant="italic">n</mi><mo>⁢</mo><mi mathvariant="italic">t</mi></mfenced></mstyle></math><img id="ib0052" file="imgb0052.tif" wi="108" he="14" img-content="math" img-format="tif"/></maths><br/>
and it sets φ(<i>n</i>, <i>t</i>) = ξ.</p><p id="p0069" num="0069">If the scaling system is a deinterlacing system with unit scale, then the best interpolator<!-- EPO <DP n="23"> --> choice depends upon the output of the global video/film classifier (309). If the image class <i>c</i>(<i>t</i>) is "Telecined Film Type, Next" then it sets φ(<i>n</i>, <i>t</i>) = γ<i><sub>n</sub></i> which corresponds to a copy from the next image. If the image class <i>c</i>(<i>t</i>) is "Telecined Film Type, Previous" then φ(<i>n</i>, <i>t</i>) = γ<i><sub>p</sub></i> which corresponds to a copy from the previous image. If the image class is "Interlaced Video Type" then the minimum loss interpolator index ξ is calculated as in (9). If the image class <i>c</i>(<i>t</i>) is "Interlaced Video Type, Next" then this best interpolator is compared with a copy from the next image interpolator for locally telecined sequence. If <maths id="math0031" num=""><math display="block"><msub><mover><mi>l</mi><mo>^</mo></mover><mi>ξ</mi></msub><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced><mo>+</mo><mi>λʹ</mi><mo>⁢</mo><msub><mover><mi>w</mi><mo>^</mo></mover><mi>ξ</mi></msub><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced><mo>&lt;</mo><msub><mover><mi>l</mi><mo>^</mo></mover><msub><mi>γ</mi><mi>n</mi></msub></msub><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced><mo>+</mo><mi>λʹ</mi><mo>⁢</mo><msub><mover><mi>w</mi><mo>^</mo></mover><msub><mi>γ</mi><mi>n</mi></msub></msub><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced></math><img id="ib0053" file="imgb0053.tif" wi="82" he="11" img-content="math" img-format="tif"/></maths><br/>
where λ' is a penalization constant then φ(<i>n</i>, <i>t</i>) = ξ, otherwise φ(<i>n</i>, <i>t</i>) = γ<i><sub>n</sub></i>. A typical choice for λ' is between 1 and 10. In a similar way, if the image class <i>c</i>(<i>t</i>) is "Interlaced Video Type, Previous" then if <maths id="math0032" num=""><math display="block"><msub><mover><mi>l</mi><mo>^</mo></mover><mi>ξ</mi></msub><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced><mo>+</mo><mi>λʹ</mi><mo>⁢</mo><msub><mover><mi>w</mi><mo>^</mo></mover><mi>ξ</mi></msub><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced><mo>&lt;</mo><msub><mover><mi>l</mi><mo>^</mo></mover><msub><mi>γ</mi><mi>p</mi></msub></msub><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced><mo>+</mo><mi>λʹ</mi><mo>⁢</mo><msub><mover><mi>w</mi><mo>^</mo></mover><msub><mi>γ</mi><mi>p</mi></msub></msub><mfenced separators=""><mi>n</mi><mo>⁢</mo><mi>t</mi></mfenced></math><img id="ib0054" file="imgb0054.tif" wi="83" he="10" img-content="math" img-format="tif"/></maths><br/>
where λ' is a penalization constant then φ(<i>n</i>, <i>t</i>) = ξ and otherwise φ(<i>n</i>, <i>t</i>) = γ<i><sub>p</sub></i>.</p><p id="p0070" num="0070">As in the apparatus described in <figref idrefs="f0001">FIG. 1</figref> and <figref idrefs="f0002">FIG. 2</figref>, the apparatus described above processes a single component of the video image.</p><p id="p0071" num="0071">For multicomponents image, all components can be processed independently. Another possibility included in this invention is to process simultaneously all the components and define the penalized loss of module (3 10) as a weighted sum of the penalized loss obtained for each component, and thus choose the same best interpolator <i>E</i><sub>γ</sub> for all components at any given new grid point.</p><p id="p0072" num="0072">The present invention may be embodied as software run by general-purpose microprocessor or digital signal processor, in which case the modules described above with reference to <figref idrefs="f0001 f0002 f0003">FIG. 1-3</figref> are understood to be or form part of software modules or routines. It may also be implemented as a hardware component, for example in an ASIC or an FPGA, in which case the above-mentioned modules can form regions of the solid-state component. These embodiments of the present invention can be incorporated in various units such as a set-top box or a<!-- EPO <DP n="24"> --> high definition television set that receives an interlaced SDTV video and outputs or displays an HDTV video. The present invention can also be incorporated in up/cross/down converters to modify the format of an input video and output any prescribed video format.</p><p id="p0073" num="0073">While a detailed description of exemplary embodiments of the invention has been given above, various alternative, modifications, and equivalents will be apparent to those skilled in the art. For example, while different components of the parameterized interpolator module or the minimum loss selection modules of the present invention are described herein as performing certain specific functions, one skilled in the art will appreciate that other components or circuits in the service module may perform some or all of such functions without varying from the spirit of the invention. Therefore the above description should not be taken as limiting the scope of the invention which is defined by the appended claims.</p></description><claims mxw-id="PCLM56986169" lang="DE" load-source="patent-office"><!-- EPO <DP n="29"> --><claim id="c-de-01-0001" num="0001"><claim-text>Digitales Videoskalierungsverfahren zur Verarbeitung eines Eingangsvideosignals mit entsprechenden Eingangsbildwerten an Punkten eines Raum-Zeit-Eingangsrasters, um ein Ausgangsvideosignal mit entsprechenden Ausgangsbildwerten an Punkten eines Raum-Zeit-Ausgangsrasters mit Punkten des Eingangsrasters und neuen Punkten bereitzustellen, wobei das Verfahren für jeden der neuen Punkte folgende Schritte umfasst:
<claim-text>(a) Anwenden einer vorgegebenen Schar parametrisierter linearer Interpolatoren auf die Eingangsbildwerte in einer entsprechenden Raum-Zeit-Nachbarschaft des neuen Punkts, um am neuen Punkt pro Interpolator der Schar einen interpolierten Wert bereitzustellen;</claim-text>
<claim-text>(b) Schätzen eines dem neuen Punkt zugeordneten Werteintervalls aus den Eingangsbildwerten in einer Raum-Zeit-Nachbarschaft des neuen Punkts, derart dass eine Wahrscheinlichkeitsverteilung der Ausgangsbildwerte am neuen Punkt schätzungsweise ein globales Maximum innerhalb des Werteintervalls aufweist;</claim-text>
<claim-text>(c) Berechnen eines Verlustwerts für jeden interpolierten Wert am neuen Punkt auf der Grundlage einer zweiten Wahrscheinlichkeitsverteilung, die innerhalb des dem neuen Punkt zugeordneten Werteintervalls konstant und maximal ist;</claim-text>
<claim-text>(d) räumliches Tiefpassfiltern des Verlustwerts, der in Bezug auf jeden Interpolator der Schar berechnet wurde, in einer räumlichen Nachbarschaft des neuen Punkts; und</claim-text>
<claim-text>(e) Auswählen eines Interpolators der Schar, der ein vom gefilterten Verlustwert abhängendes Minimierungskriterium erfüllt, wobei der interpolierte Wert für den ausgewählten Interpolator als Ausgangsbildwert am neuen Punkt genommen wird.</claim-text></claim-text></claim><claim id="c-de-01-0002" num="0002"><claim-text>Skalierungsverfahren nach Anspruch 1, wobei der Verlustwert, der für einen interpolierten Wert an einem neuen Punkt berechnet wurde, repräsentativ für eine negative Log-Likelihood des interpolierten Werts in Bezug auf die zweite Wahrscheinlichkeitsverteilung ist.</claim-text></claim><claim id="c-de-01-0003" num="0003"><claim-text>Skalierungsverfahren nach einem der vorangehenden Ansprüche, wobei der Schritt des Schätzens des Werteintervalls für einen neuen Punkt umfasst:<!-- EPO <DP n="30"> -->
<claim-text>(a) Unterteilen der zum Schätzen des Werteintervalls genutzten Raum-Zeit-Nachbarschaft in eine Vielzahl von Unternachbarschaften;</claim-text>
<claim-text>(b) Sortieren der Eingangsbildwerte in jeder der Unternachbarschaften;</claim-text>
<claim-text>(c) für jede der Unternachbarschaften Schätzen eines Teilintervalls aus zwei Werten bestimmter Ränge unter den sortierten Eingangsbildwerten; und</claim-text>
<claim-text>(d) Kombinieren der Vielzahl von Teilintervallen, um das dem neuen Punkt zugeordnete Werteintervall zu bilden.</claim-text></claim-text></claim><claim id="c-de-01-0004" num="0004"><claim-text>Skalierungsverfahren nach einem der vorangehenden Ansprüche, wobei die zweite Wahrscheinlichkeitsverteilung eine Exponentialabnahme außerhalb des Werteintervalls aufweist.</claim-text></claim><claim id="c-de-01-0005" num="0005"><claim-text>Skalierungsverfahren nach einem der vorangehenden Ansprüche, das ferner für jeden der neuen Punkte und jeden Interpolator der Schar folgende Schritt umfasst:
<claim-text>(a) Berechnen einer Gesamtänderungsschrittweite, die sich aus einer Aggregation von Eingangsbildwerten und interpolierten Werten, die mit dem Interpolator in einer eindimensionalen räumlichen Nachbarschaft des neuen Punkts berechnet werden, ergibt; und</claim-text>
<claim-text>(b) räumliches Filtern der Gesamtänderungsschrittweite in einer räumlichen Nachbarschaft des neuen Punkts,</claim-text>
und wobei das Minimierungskriterium zum Auswählen eines Interpolators der Schar für einen neuen Punkt ferner von der gefilterten Gesamtänderungsschrittweite abhängt.</claim-text></claim><claim id="c-de-01-0006" num="0006"><claim-text>Skalierungsverfahren nach Anspruch 5, wobei die eindimensionale räumliche Nachbarschaft eine vertikale oder horizontale räumliche Nachbarschaft ist.</claim-text></claim><claim id="c-de-01-0007" num="0007"><claim-text>Skalierungsverfahren nach Anspruch 5 oder 6, wobei das Minimierungskriterium zum Auswählen eines Interpolators der Schar für einen neuen Punkt eine gewichtete Summe des gefilterten Verlustwerts und der gefilterten Gesamtänderungsschrittweite umfasst.</claim-text></claim><claim id="c-de-01-0008" num="0008"><claim-text>Skalierungsverfahren nach einem der vorangehenden Ansprüche, wobei die Interpolatoren der Schar parametrisierte gerichtete Interpolatoren umfassen, um lineare<!-- EPO <DP n="31"> --> Interpolationen entlang entsprechender parametrisierter Raum-Zeit-Richtungen des Eingangsrasters zu berechnen.</claim-text></claim><claim id="c-de-01-0009" num="0009"><claim-text>Skalierungsverfahren nach Anspruch 8, das ferner für jeden der neuen Punkte und jeden gerichteten Interpolator der Schar folgende Schritte umfasst:
<claim-text>(a) Berechnen eines gerichteten Anpassungsfehlers aus einer Differenz interpolierter Eingangsbildwerte, die entlang der dem Interpolator entsprechenden Raum-Zeit-Richtung am neuen Punkt ausgerichtet sind; und</claim-text>
<claim-text>(b) räumliches Filtern des gerichteten Anpassungsfehlers in einer räumlichen Nachbarschaft des neuen Punkts,</claim-text>
und wobei das Minimierungskriterium zum Auswählen eines Interpolators der Schar für einen neuen Punkt ferner vom gefilterten gerichteten Anpassungsfehler abhängt.</claim-text></claim><claim id="c-de-01-0010" num="0010"><claim-text>Skalierungsverfahren nach Anspruch 9, wobei das Minimierungskriterium zum Auswählen eines Interpolators der Schar für einen neuen Punkt eine gewichtete Summe des gefilterten Verlustwerts und des gefilterten gerichteten Anpassungsfehlers umfasst.</claim-text></claim><claim id="c-de-01-0011" num="0011"><claim-text>Skalierungsverfahren nach Anspruch 5 und Anspruch 9, wobei das Minimierungskriterium zum Auswählen eines Interpolators der Schar für einen neuen Punkt eine gewichtete Summe des gefilterten Verlustwerts, der gefilterten Gesamtänderungsschrittweite und des gefilterten gerichteten Anpassungsfehlers umfasst.</claim-text></claim><claim id="c-de-01-0012" num="0012"><claim-text>Skalierungsverfahren nach einem der vorangehenden Ansprüche, wobei das Eingangsvideosignal ein Zeilensprungsignal ist und das Ausgangsvideosignal progressiv ist.</claim-text></claim><claim id="c-de-01-0013" num="0013"><claim-text>Skalierungsverfahren nach Anspruch 12, das ferner folgende Schritte umfasst:
<claim-text>(a) Klassifizieren jedes Bilds des Eingangsvideosignals als "Zeilensprungvideo-Typ" oder "Telecine-Typ" ;</claim-text>
<claim-text>(b) Feststellen, ob das Bild einem vorherigen Bild des Eingangsvideosignals ähnlicher ist als einem darauffolgenden Bild des Eingangsvideosignals;</claim-text><!-- EPO <DP n="32"> -->
wobei Werte neuer Punkte zwischen aufeinanderfolgenden Bildern, die als "Telecine-Typ" klassifiziert wurden, durch Kopieren aus dem darauffolgenden bzw. vorherigen Bild an der neuen Punktposition synthetisiert werden, während Werte neuer Punkte von Bildern, die als "Zeilensprungvideo-Typ" klassifiziert wurden, mit Hilfe der ausgewählten Interpolatoren der Schar synthetisiert werden.</claim-text></claim><claim id="c-de-01-0014" num="0014"><claim-text>Fernsehsystem zum Anzeigen von Bildern auf einem Fernsehbildschirm, umfassend Mittel zum Empfangen eines Eingangsvideosignals, Mittel zum Verarbeiten des Eingangsvideosignals gemäß einem Verfahren nach einem der vorangehenden Ansprüche und Mittel zum Anzeigen eines durch die Verarbeitungsmittel erzeugten Ausgangsvideosignals.</claim-text></claim><claim id="c-de-01-0015" num="0015"><claim-text>Videoskalierungsvorrichtung, umfassend Computermittel, die zum Ausführen eines Verfahrens nach einem der Ansprüche 1 bis 13 ausgelegt sind.</claim-text></claim><claim id="c-de-01-0016" num="0016"><claim-text>Computerprogrammprodukt, umfassend Befehle zum Ausführen eines Verfahrens nach einem der Ansprüche 1 bis 13, wenn das Programmprodukt in einer Computerverarbeitungseinheit ausgeführt wird.</claim-text></claim></claims><claims mxw-id="PCLM56986170" lang="EN" load-source="patent-office"><!-- EPO <DP n="25"> --><claim id="c-en-01-0001" num="0001"><claim-text>A digital video scaling method for processing an input video signal having respective input image values at points of a space-time input grid to deliver an output video signal having respective output image values at points of a space-time output grid including points of said input grid and new points, the method comprising the following steps for each of said new points:
<claim-text>(a) applying a predefined family of parameterized linear interpolators to the input images values in a respective space-time neighborhood of said new point to provide an interpolated value at said new point for each interpolator of said family;</claim-text>
<claim-text>(b) estimating an interval of values associated with said new point from the input image values in a space-time neighborhood of said new point, such that a probability distribution of the output image values at said new point is estimated to have a global maximum within said interval of values;</claim-text>
<claim-text>(c) computing a loss value for each interpolated value at said new point, based on a second probability distribution which is constant and maximum within the interval of values associated with said new point;</claim-text>
<claim-text>(d) applying spatial low-pass filtering to the loss value computed in respect of each interpolator of said family, in a spatial neighborhood of said new point; and</claim-text>
<claim-text>(e) selecting an interpolator of said family which fulfills a minimization criterion depending on the filtered loss value, wherein the interpolated value for the selected interpolator is taken as the output image value at said new point.</claim-text></claim-text></claim><claim id="c-en-01-0002" num="0002"><claim-text>A scaling method according to claim I, wherein the loss value computed for an interpolated value at a new point is representative of a negative log-likelihood of said interpolated value relatively to the second probability distribution.</claim-text></claim><claim id="c-en-01-0003" num="0003"><claim-text>A scaling method according to any one of the preceding claims, wherein the step of estimating the interval of values for a new point comprises:<!-- EPO <DP n="26"> -->
<claim-text>(a) dividing the space-time neighborhood used to estimate said interval of values into a plurality of sub-neighborhoods;</claim-text>
<claim-text>(b) sorting the input image values in each of said sub-neighborhoods;</claim-text>
<claim-text>(c) for each of said sub-neighborhoods, estimating a partial interval from two values of specified ranks among the sorted input image values; and</claim-text>
<claim-text>(d) combining the plurality of partial intervals to form the interval of values associated with said new point.</claim-text></claim-text></claim><claim id="c-en-01-0004" num="0004"><claim-text>A scaling method according to any one of the preceding claims, wherein said second-probability distribution has an exponential decay outside said interval of values.</claim-text></claim><claim id="c-en-01-0005" num="0005"><claim-text>A scaling method according to any one of the preceding claims, further comprising the following steps for each of said new points and each interpolator of said family:
<claim-text>(a) computing a total variation increment resulting from an aggregation of input image values and interpolated values calculated with said interpolator in a one-dimensional spatial neighborhood of said new point; and</claim-text>
<claim-text>(b) filtering spatially said total variation increment in a spatial neighborhood of said new point,</claim-text>
and wherein the minimization criterion for selecting an interpolator of said family for a new point further depends on the filtered total variation increment.</claim-text></claim><claim id="c-en-01-0006" num="0006"><claim-text>A scaling method according to claim 5, wherein said one-dimensional spatial neighborhood is a vertical or horizontal spatial neighborhood.</claim-text></claim><claim id="c-en-01-0007" num="0007"><claim-text>A scaling method according to claim 5 or 6, wherein the minimization criterion for selecting an interpolator of said family for a new point comprises a weighted sum of the filtered loss value and of the filtered total variation increment.</claim-text></claim><claim id="c-en-01-0008" num="0008"><claim-text>A scaling method according to any one of the preceding claims, wherein the interpolators<!-- EPO <DP n="27"> --> of said family comprise parameterized directional interpolators to compute linear interpolations along respective parameterized spatio-temporal directions of the input grid.</claim-text></claim><claim id="c-en-01-0009" num="0009"><claim-text>A scaling method according to claim 8, further comprising the following steps for each of said new points and each directional interpolator of said family:
<claim-text>(a) computing a directional matching error from a difference of interpolated input image values aligned with said new point along the spatio-temporal direction corresponding to said interpolator; and</claim-text>
<claim-text>(b) filtering spatially said directional matching error in a spatial neighborhood of said new point,</claim-text>
and wherein the minimization criterion for selecting an interpolator of said family for a new point further depends on the filtered directional matching error.</claim-text></claim><claim id="c-en-01-0010" num="0010"><claim-text>A scaling method according to claim 9, wherein the minimization criterion for selecting an interpolator of said family for a new point comprises a weighted sum of the filtered loss value and of the filtered directional matching error.</claim-text></claim><claim id="c-en-01-0011" num="0011"><claim-text>A scaling method according to both claim 5 and claim 9, wherein the minimization criterion for selecting an interpolator of said family for a new point comprises a weighted sum of the filtered loss value, of the filtered total variation increment and of the filtered directional matching error.</claim-text></claim><claim id="c-en-01-0012" num="0012"><claim-text>A scaling method according to any one of the preceding claims, wherein the input video signal is interlaced and the output video signal is progressive.</claim-text></claim><claim id="c-en-01-0013" num="0013"><claim-text>A scaling method according to claim 12, further comprising the steps of:
<claim-text>(a) classifying each image of the input video signal as "Interlaced Video Type" or "Telecined Type";</claim-text>
<claim-text>(b) determining whether said image is more similar to a previous image of the input video signal than to a next image of the input video signal;</claim-text><!-- EPO <DP n="28"> -->
wherein values of new points between consecutive images classified as "Telecined Type" are synthesized by copying from the next or previous image at said new point location while values of new points of images classified as "Interlaced Video Type" are synthesized by means of the selected interpolators of said family.</claim-text></claim><claim id="c-en-01-0014" num="0014"><claim-text>A television system for displaying images on a television display, comprising means for receiving an input video signal, means for processing the input video signal in accordance with a method as claimed in any one of the preceding claims and means for displaying an output video signal produced by the processing means.</claim-text></claim><claim id="c-en-01-0015" num="0015"><claim-text>A video scaling apparatus, comprising computer means arranged to carry out a method according to any one of claims 1 to 13.</claim-text></claim><claim id="c-en-01-0016" num="0016"><claim-text>A computer program product, comprising instructions to carry out a method according to any one of claims 1 to 13 when said program product is run in a computer processing unit.</claim-text></claim></claims><claims mxw-id="PCLM56986171" lang="FR" load-source="patent-office"><!-- EPO <DP n="33"> --><claim id="c-fr-01-0001" num="0001"><claim-text>Procédé numérique de mise à échelle vidéo pour traiter un signal vidéo d'entrée ayant des valeurs d'image d'entrée respectives en des points d'une grille d'entrée spatio-temporelle pour délivrer un signal vidéo de sortie ayant des valeurs d'image de sortie respectives en des points d'une grille de sortie spatio-temporelle incluant des points de ladite grille d'entrée et des points nouveaux, le procédé comprenant les étapes suivantes pour chacun desdits points nouveaux:
<claim-text>(a) appliquer une famille prédéfinie d'interpolateurs linéaires paramétrés aux valeurs d'image d'entrée dans un voisinage spatio-temporel respectif dudit point nouveau pour fournir une valeur interpolée audit point nouveau pour chaque interpolateur de ladite famille ;</claim-text>
<claim-text>(b) estimer un intervalle de valeurs associé audit point nouveau à partir des valeurs d'image d'entrée dans un voisinage spatio-temporel dudit point nouveau, de telle sorte qu'une distribution de probabilité des valeurs d'image de sortie audit point nouveau soit estimée avoir un maximum global au sein dudit intervalle de valeurs ;</claim-text>
<claim-text>(c) calculer une valeur de perte pour chaque valeur interpolée audit point nouveau, en fonction d'une seconde distribution de probabilité qui est constante et maximum au sein de l'intervalle de valeurs associé audit point nouveau ;</claim-text>
<claim-text>(d) appliquer un filtrage passe-bas spatial à la valeur de perte calculée relativement à chaque interpolateur de ladite famille, dans un voisinage spatial dudit point nouveau ; et</claim-text>
<claim-text>(e) sélectionner un interpolateur de ladite famille qui satisfait un critère de minimisation dépendant de la valeur de perte filtrée, la valeur interpolée pour l'interpolateur sélectionné étant prise en tant que valeur d'image de sortie audit point nouveau.</claim-text><!-- EPO <DP n="34"> --></claim-text></claim><claim id="c-fr-01-0002" num="0002"><claim-text>Procédé de mise à échelle selon la revendication 1, dans lequel la valeur de perte calculée pour une valeur interpolée en un point nouveau est représentative d'une vraisemblance logarithmique négative de ladite valeur interpolée par rapport à la seconde distribution de probabilité.</claim-text></claim><claim id="c-fr-01-0003" num="0003"><claim-text>Procédé de mise à échelle selon l'une quelconque des revendications précédentes, dans lequel l'étape de l'estimation de l'intervalle de valeurs pour un point nouveau comprend :
<claim-text>(a) diviser le voisinage spatio-temporel utilisé pour estimer ledit intervalle de valeurs en une pluralité de sous-voisinages ;</claim-text>
<claim-text>(b) trier les valeurs d'image d'entrée dans chacun desdits sous-voisinages ;</claim-text>
<claim-text>(c) pour chacun desdits sous-voisinages, estimer un intervalle partiel à partir de deux valeurs de rangs spécifiés parmi les valeurs d'image d'entrée triées ; et</claim-text>
<claim-text>(d) combiner la pluralité d'intervalles partiels pour former l'intervalle de valeurs associé audit point nouveau.</claim-text></claim-text></claim><claim id="c-fr-01-0004" num="0004"><claim-text>Procédé de mise à échelle selon l'une quelconque des revendications précédentes, dans lequel ladite seconde distribution de probabilité présente une décroissance exponentielle en dehors dudit intervalle de valeurs.</claim-text></claim><claim id="c-fr-01-0005" num="0005"><claim-text>Procédé de mise à échelle selon l'une quelconque des revendications précédentes, comprenant en outre les étapes suivantes pour chacun desdits nouveaux points et chaque interpolateur de ladite famille :
<claim-text>(a) calculer un incrément de variation totale résultant d'une agrégation de valeurs d'image d'entrée et de valeurs interpolées calculées avec ledit interpolateur dans un voisinage spatial unidimensionnel dudit point nouveau ; et</claim-text>
<claim-text>(b) filtrer spatialement ledit incrément de variation totale dans un voisinage spatial dudit point nouveau,</claim-text><!-- EPO <DP n="35"> -->
et dans lequel le critère de minimisation pour sélectionner un interpolateur de ladite famille pour un point nouveau dépend en outre de l'incrément de variation totale filtré.</claim-text></claim><claim id="c-fr-01-0006" num="0006"><claim-text>Procédé de mise à échelle selon la revendication 5, dans lequel ledit voisinage spatial unidimensionnel est un voisinage spatial vertical ou horizontal.</claim-text></claim><claim id="c-fr-01-0007" num="0007"><claim-text>Procédé de mise à échelle selon la revendication 5 ou 6, dans lequel le critère de minimisation pour sélectionner un interpolateur de ladite famille pour un point nouveau comprend une somme pondérée de la valeur de perte filtrée et de l'incrément de variation totale filtré.</claim-text></claim><claim id="c-fr-01-0008" num="0008"><claim-text>Procédé de mise à échelle selon l'une quelconque des revendications précédentes, dans lequel les interpolateurs de ladite famille comprennent des interpolateurs directionnels paramétrés pour calculer des interpolations linéaires le long de directions spatio-temporelles paramétrées respectives de la grille d'entrée.</claim-text></claim><claim id="c-fr-01-0009" num="0009"><claim-text>Procédé de mise à échelle selon la revendication 8, comprenant en outre les étapes suivantes pour chacun desdits nouveaux points et chaque interpolateur directionnel de ladite famille :
<claim-text>(a) calculer une erreur d'appariement directionnel à partir d'une différence de valeurs d'image d'entrée interpolées alignées avec ledit point nouveau le long de la direction spatio-temporelle correspondant audit interpolateur ; et</claim-text>
<claim-text>(b) filtrer spatialement ladite erreur d'appariement directionnel dans un voisinage spatial dudit point nouveau,</claim-text>
et dans lequel le critère de minimisation pour sélectionner un interpolateur de ladite famille pour un point nouveau dépend en outre de l'erreur d'appariement directionnel filtrée.<!-- EPO <DP n="36"> --></claim-text></claim><claim id="c-fr-01-0010" num="0010"><claim-text>Procédé de mise à échelle selon la revendication 9, dans lequel le critère de minimisation pour sélectionner un interpolateur de ladite famille pour un point nouveau comprend une somme pondérée de la valeur de perte filtrée et de l'erreur d'appariement directionnel filtrée.</claim-text></claim><claim id="c-fr-01-0011" num="0011"><claim-text>Procédé de mise à échelle selon la revendication 5 et selon la revendication 9, dans lequel le critère de minimisation pour sélectionner un interpolateur de ladite famille pour un point nouveau comprend une somme pondérée de la valeur de perte filtrée, de l'incrément de variation totale filtré et de l'erreur d'appariement directionnel filtrée.</claim-text></claim><claim id="c-fr-01-0012" num="0012"><claim-text>Procédé de mise à échelle selon l'une quelconque des revendications précédentes, dans lequel le signal vidéo d'entrée est entrelacé et le signal vidéo de sortie est progressif.</claim-text></claim><claim id="c-fr-01-0013" num="0013"><claim-text>Procédé de mise à échelle selon la revendication 12, comprenant en outre les étapes suivantes :
<claim-text>(a) classer chaque image du signal vidéo d'entrée comme étant « Type Vidéo Entrelacé » ou « Type Télécinéma » ;</claim-text>
<claim-text>(b) déterminer si ladite image est plus similaire à une image précédente du signal vidéo d'entrée qu'à une image suivante du signal vidéo d' entrée ;</claim-text>
dans lequel des valeurs de points nouveaux entre des images consécutives classées « Type Télécinéma » sont synthétisées en recopiant à partir de l'image suivante ou précédente à l'emplacement dudit point nouveau tandis que des valeurs de points nouveaux d'images classées « Type Vidéo Entrelacé » sont synthétisées au moyen des interpolateurs sélectionnés de ladite famille.</claim-text></claim><claim id="c-fr-01-0014" num="0014"><claim-text>Système de télévision pour afficher des images sur un écran de télévision, comprenant des moyens pour recevoir un signal vidéo d'entrée, des moyens pour traiter le signal vidéo d'entrée conformément à un procédé selon l'une quelconque<!-- EPO <DP n="37"> --> des revendications précédentes et des moyens pour afficher un signal vidéo de sortie produit par les moyens de traitement.</claim-text></claim><claim id="c-fr-01-0015" num="0015"><claim-text>Appareil de mise à échelle vidéo, comprenant des moyens informatiques agencés pour mettre en oeuvre un procédé selon l'une quelconque des revendications 1 à 13.</claim-text></claim><claim id="c-fr-01-0016" num="0016"><claim-text>Produit programme d'ordinateur, comprenant des instructions pour mettre en oeuvre un procédé selon l'une quelconque des revendications 1 à 13 lorsque ledit produit programme est exécuté dans une unité de traitement informatique.</claim-text></claim></claims><drawings mxw-id="PDW16672375" load-source="patent-office"><!-- EPO <DP n="38"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="148" he="230" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="39"> --><figure id="f0002" num="2"><img id="if0002" file="imgf0002.tif" wi="154" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="40"> --><figure id="f0003" num="3"><img id="if0003" file="imgf0003.tif" wi="165" he="225" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="41"> --><figure id="f0004" num="4,5"><img id="if0004" file="imgf0004.tif" wi="65" he="217" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="42"> --><figure id="f0005" num="6,7"><img id="if0005" file="imgf0005.tif" wi="138" he="233" img-content="drawing" img-format="tif"/></figure></drawings><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
