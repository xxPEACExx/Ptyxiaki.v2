<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2128763-B1" country="EP" doc-number="2128763" kind="B1" date="20140108" family-id="40349421" file-reference-id="302648" date-produced="20180826" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146588979" ucid="EP-2128763-B1"><document-id><country>EP</country><doc-number>2128763</doc-number><kind>B1</kind><date>20140108</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-09170518-A" is-representative="NO"><document-id mxw-id="PAPP154851171" load-source="docdb" format="epo"><country>EP</country><doc-number>09170518</doc-number><kind>A</kind><date>20001115</date><lang>EN</lang></document-id><document-id mxw-id="PAPP246855750" load-source="docdb" format="original"><country>EP</country><doc-number>09170518.6</doc-number><date>20001115</date></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140556013" ucid="EP-00991744-A" linkage-type="3" load-source="docdb"><document-id format="epo"><country>EP</country><doc-number>00991744</doc-number><kind>A</kind><date>20001115</date></document-id></priority-claim><priority-claim mxw-id="PPC140551561" ucid="US-16713199-P" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>16713199</doc-number><kind>P</kind><date>19991123</date></document-id></priority-claim><priority-claim mxw-id="PPC140549311" ucid="US-62002100-A" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>62002100</doc-number><kind>A</kind><date>20000720</date></document-id></priority-claim></priority-claims><dates-of-public-availability><intention-to-grant-date><date>20130726</date></intention-to-grant-date></dates-of-public-availability><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1989327244" load-source="docdb">G01R  31/3181      20060101ALI20130506BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1989327245" load-source="docdb">G01R  31/3183      20060101ALI20130506BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1989327246" load-source="docdb">G01R  31/3185      20060101ALI20130506BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1989327247" load-source="docdb">G06F  11/00        20060101AFI20130506BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1989622088" load-source="docdb">G01R  31/28        20060101AFI20051220RMJP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL1989625620" load-source="docdb" scheme="CPC">G01R  31/318547    20130101 FI20130101BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989633589" load-source="docdb" scheme="CPC">G01R  31/31813     20130101 LI20130101BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989652190" load-source="docdb" scheme="CPC">G01R  31/318335    20130101 LI20130101BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132371570" lang="DE" load-source="patent-office">Ständige Anwendung und Dekompression von Prüfmustern zu einer zu testenden integrierten Schaltung</invention-title><invention-title mxw-id="PT132371571" lang="EN" load-source="patent-office">Continuous application and decompression of test patterns to a circuit-under-test</invention-title><invention-title mxw-id="PT132371572" lang="FR" load-source="patent-office">Application continue et décompression de configuration d'essai a un circuit en cours d'essai</invention-title></technical-data><related-documents><relation type="division"><child-doc ucid="EP-09170518-A"><document-id load-source="patent-office" format="epo"><country>EP</country><doc-number>09170518</doc-number><kind>A</kind><date>20001115</date></document-id></child-doc><parent-doc ucid="EP-00991744.4"><document-id load-source="patent-office" format="epo"><country>EP</country><doc-number>00991744.4</doc-number><date>20001115</date></document-id></parent-doc></relation></related-documents><parties><applicants><applicant mxw-id="PPAR919531220" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>MENTOR GRAPHICS CORP</last-name><address><country>US</country></address></addressbook></applicant><applicant mxw-id="PPAR919530957" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>MENTOR GRAPHICS CORPORATION</last-name></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR919539782" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>RAJSKI JANUSZ</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR919510217" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>RAJSKI, JANUSZ</last-name></addressbook></inventor><inventor mxw-id="PPAR919025728" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>RAJSKI, JANUSZ</last-name><address><street>6502 Horton Road</street><city>West Linn OR 97068</city><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR919535426" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>TYSZER JERZY</last-name><address><country>PL</country></address></addressbook></inventor><inventor mxw-id="PPAR919512596" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>TYSZER, JERZY</last-name></addressbook></inventor><inventor mxw-id="PPAR919025729" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>TYSZER, JERZY</last-name><address><street>Os Stare Zegrze 89C/2</street><city>61-249 Poznan</city><country>PL</country></address></addressbook></inventor><inventor mxw-id="PPAR919517659" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>KASSAB MARK</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR919533152" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>KASSAB, MARK</last-name></addressbook></inventor><inventor mxw-id="PPAR919025726" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>KASSAB, MARK</last-name><address><street>28911 SW Cascade Loop</street><city>Wisonville OR 97070</city><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR919516110" load-source="docdb" sequence="4" format="epo"><addressbook><last-name>MUKHERJEE NILANJAN</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR919539144" load-source="docdb" sequence="4" format="intermediate"><addressbook><last-name>MUKHERJEE, NILANJAN</last-name></addressbook></inventor><inventor mxw-id="PPAR919025727" load-source="patent-office" sequence="4" format="original"><addressbook><last-name>MUKHERJEE, NILANJAN</last-name><address><street>Apartment 92 29290 S.W. Parkway Court</street><city>Wilsonville OR 97070</city><country>US</country></address></addressbook></inventor></inventors><assignees><assignee mxw-id="PPAR919025730" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Mentor Graphics Corporation</last-name><iid>100964573</iid><address><street>8005 SW Boeckman Road</street><city>Wilsonville, OR 97070-7777</city><country>US</country></address></addressbook></assignee></assignees><agents><agent mxw-id="PPAR919025731" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Hoarton, Lloyd Douglas Charles</last-name><suffix>et al</suffix><iid>101298673</iid><address><street>Forresters Skygarden Erika-Mann-Strasse 11</street><city>80636 München</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><designated-states><ep-contracting-states><country mxw-id="DS549883083" load-source="docdb">AT</country><country mxw-id="DS549889814" load-source="docdb">BE</country><country mxw-id="DS549926052" load-source="docdb">CH</country><country mxw-id="DS549874805" load-source="docdb">CY</country><country mxw-id="DS549898641" load-source="docdb">DE</country><country mxw-id="DS549874810" load-source="docdb">DK</country><country mxw-id="DS549792409" load-source="docdb">ES</country><country mxw-id="DS549806808" load-source="docdb">FI</country><country mxw-id="DS549806809" load-source="docdb">FR</country><country mxw-id="DS549889815" load-source="docdb">GB</country><country mxw-id="DS549874811" load-source="docdb">GR</country><country mxw-id="DS549926053" load-source="docdb">IE</country><country mxw-id="DS549806810" load-source="docdb">IT</country><country mxw-id="DS549874812" load-source="docdb">LI</country><country mxw-id="DS549883084" load-source="docdb">LU</country><country mxw-id="DS549898642" load-source="docdb">MC</country><country mxw-id="DS549792410" load-source="docdb">NL</country><country mxw-id="DS549926054" load-source="docdb">PT</country><country mxw-id="DS549792411" load-source="docdb">SE</country><country mxw-id="DS549874813" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data></bibliographic-data><description mxw-id="PDES63961395" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001"><b>TECHNICAL FIELD</b></heading><p id="p0001" num="0001">This invention relates generally to testing of integrated circuits and, more particularly, to the generation and application of test data in the form of patterns, or vectors, to scan chains within a circuit-under-test.</p><heading id="h0002"><b>BACKGROUND</b></heading><p id="p0002" num="0002">As integrated circuits are produced with greater and greater levels of circuit density, efficient testing schemes that guarantee very high fault coverage while minimizing test costs and chip area overhead have become essential. However, as the complexity of circuits continues to increase, high fault coverage of several types of fault models becomes more difficult to achieve with traditional testing paradigms. This difficultly arises for several reasons. First, larger integrated circuits have a very high and still increasing logic-to-pin ratio that creates a test data transfer bottleneck at the chip pins. Second, larger circuits require a prohibitively large volume of test data that must be then stored in external testing equipment. Third, applying the test data to a large circuit requires an increasingly long test application time. And fourth, present external testing equipment is unable to test such larger circuits at their speed of operation.</p><p id="p0003" num="0003">Integrated circuits are presently tested using a number of structured design for testability (DFT) techniques. These techniques rest on the general concept of making all or some state variables (memory elements like flip-flops and latches) directly controllable and observable. If this can be arranged, a circuit can be treated, as far as testing of combinational faults is concerned, as a combinational network. The most-often used DFT methodology is based on scan chains. It assumes that during testing, all (or almost all) memory elements are connected into one or more shift registers, as shown in the United States Patent No. <patcit id="pcit0001" dnum="US4503537A"><text>4,503,537</text></patcit>. A circuit that has been designed for test has two modes of operation: a normal mode and a test, or scan, mode. In the normal<!-- EPO <DP n="2"> --> mode, the memory elements perform their regular functions. In the scan mode, the memory elements become scan cells that are connected to form a number of shift registers called scan chains. These scan chains are used to shift a set of test patterns into the circuit and to shift out circuit, or test, responses to the test patterns. The test responses are then compared to fault-free responses to determine if the circuit-under-test (CUT) works properly.</p><p id="p0004" num="0004">Scan design methodology has gained widespread adoption by virtue of its simple automatic test pattern generation (ATPG) and silicon debugging capabilities. Today, ATPG software tools are so efficient that it is possible to generate test sets (a collection of test patterns) that guarantee almost complete fault coverage of several types of fault models including stuck-at, transition, path delay faults, and bridging faults. Typically, when a particular potential fault in a circuit is targeted by an ATPG tool, only a small number of scan cells, e.g., 2-5%, must be specified to detect the particular fault (deterministically specified cells). The remaining scan cells in the scan chains are filled with random binary values (randomly specified cells). This way the pattern is fully specified, more likely to detect some additional faults, and can be stored on a tester.</p><p id="p0005" num="0005">Because of the random fill requirement, however, the test patterns are grossly over-specified. These large test patterns require extensive tester memory to store and a considerable time to apply from the tester to a circuit-under-test. <figref idrefs="f0001">Fig. 1</figref> is a block diagram of a conventional system 18 for testing digital circuits with scan chains. External automatic testing equipment (ATE), or tester, 20 applies a set of fully specified test patterns 22 one by one to a CUT 24 in scan mode via scan chains 26 within the circuit. The circuit is then run in normal mode using the test pattern as input, and the test response to the test pattern is stored in the scan chains. With the circuit again in scan mode, the response is then routed to the tester 20, which compares the response with a fault-free reference response 28, also one by one. For large circuits, this approach becomes infeasible because of large test set sizes and long test application times. It has been reported that the volume of test data can exceed one kilobit per single logic gate in<!-- EPO <DP n="3"> --> a large design. The significant limitation of this approach is that it requires an expensive, memory-intensive tester and a long test time to test a complex circuit.</p><p id="p0006" num="0006">These limitations of time and storage can be overcome to some extent by adopting a built-in self-test (BIST) framework, as shown in the United States Patent No. <patcit id="pcit0002" dnum="US4503537A"><text>4,503,537</text></patcit>. In BIST, additional on-chip circuitry is included to generate test patterns, evaluate test responses, and control the test. In conventional logic BIST, where pseudo-random patterns are used as test patterns, 95-96% coverage of stuck-at faults can be achieved provided that test points are employed to address random-pattern resistant faults. On average, one to two test points may be required for every 1000 gates. In BIST, all responses propagating to observable outputs and the signature register have to be known. Unknown values corrupt the signature and therefore must be bounded by additional test logic. Even though pseudo-random test patterns appear to cover a significant percentage of stuck-at faults, these patterns must be supplemented by deterministic patterns that target the remaining, random pattern resistant faults. Very often the tester memory required to store the supplemental patterns in BIST exceeds 50% of the memory required in the deterministic approach described above. Another limitation of BIST is that other types of faults, such as transition or path delay faults, are not handled efficiently by pseudo-random patterns. Because of the complexity of the circuits and the limitations inherent in BIST, it is extremely difficult, if not impossible, to provide a set of specified test patterns that fully covers hard-to-test faults.</p><p id="p0007" num="0007">Weighted pseudo-random testing is another method that is used to address the issue of the random pattern resistant faults. In principle, this approach expands the pseudo-random test pattern generators by biasing the probabilities of the input bits so that the tests needed for hard-to-test faults are more likely to occur. In general, however, a circuit may require a very large number of sets of weights, and, for each weight set, a number of random patterns have to be applied. Thus, although the volume of test data is usually reduced in comparison to fully specified deterministic test patterns, the resultant test application time increases. Moreover, weighted pseudo-random testing still leaves a fraction of the fault list left uncovered. Details of weighted random pattern test systems<!-- EPO <DP n="4"> --> and related methods can be found in a number of references including United States Patents Nos. <patcit id="pcit0003" dnum="US4687988A"><text>4,687,988</text></patcit>; <patcit id="pcit0004" dnum="US4801870A"><text>4,801,870</text></patcit>; <patcit id="pcit0005" dnum="US5394405A"><text>5,394,405</text></patcit>; <patcit id="pcit0006" dnum="US5414716A"><text>5,414,716</text></patcit>; and <patcit id="pcit0007" dnum="US5612963A"><text>5,612,963</text></patcit>. Weighted random patterns have been primarily used as a solution to compress the test data on the tester. The generation hardware appears to be too complex to place it on the chip. Consequently, the voluminous test data is produced off-chip and must pass through relatively slow tester channels to the circuit-under-test. Effectively, the test application time can be much longer than that consumed by the conventional deterministic approach-using ATPG patterns;</p><p id="p0008" num="0008">Several methods to compress test data before transmitting it to the circuit-under-test have been suggested. They are based on the observation that the test cubes (i.e., the arrangement of test patterns bits as they are stored within the scan chains of a circuit-under-test) frequently feature a large number of unspecified (don't care) positions. One method, known as reseeding of linear feedback shift registers (LFSRs), was first proposed in<nplcit id="ncit0001" npl-type="s"><text> B. Koenemann, "LFSR-Coded Test Patterns For Scan Designs," Proc. European Test Conference, pp. 237-242 (1991</text></nplcit>). Consider an n-bit LFSR with a fixed polynomial. Its output sequence is then completely determined by the initial seed. Thus, applying the feedback equations recursively provides a system of linear equations depending only on the seed variables. These equations can be associated with the successive positions of the LFSR output sequence. Consequently, a seed corresponding to the actual test pattern can be determined by solving the system of linear equations, where each equation represents one of the specified positions in the test pattern. Loading the resultant seed into the LFSR and subsequently clocking it will produce the desired test pattern. A disadvantage of this approach, however, is that seed, which encodes the contents of the test cube, is limited to approximately the size of the LFSR. If the test cube has more specified positions than the number of stages in LFSR, the test cube cannot be easily encoded with a seed. Another disadvantage of this approach is the time it requires. A tester cannot fill the LFSR with a seed concurrently with the LFSR generating a test pattern from the seed. Each of these acts must be done at mutually exclusive times. This makes the operation of the tester very inefficient, i.e., when the<!-- EPO <DP n="5"> --> seed is serially loaded to the LFSR the scan chains do not operate; and when the loading of the scan chains takes place, the tester cannot transfer a seed to the LFSR.</p><p id="p0009" num="0009">Another compression method is based on reseeding of multiple polynomial LFSRs (MP-LFSRs) as proposed in <nplcit id="ncit0002" npl-type="s"><text>S. Hellebrand et al., "Built-In Test For Circuits With Scan Based On Reseeding of Multiple Polynomial Linear Feedback Shift Registers," IEEE Trans. On Computers, vol. C-44, pp. 223-233 (1995</text></nplcit>). In this method, a concatenated group of test cubes is encoded with a number of bits specifying a seed and a polynomial identifier. The content of the MP-LFSR is loaded for each test group and has to be preserved during the decompression of each test cube within the group. The implementation of the decompressor involves adding extra memory elements to avoid overwriting the content of the MP-LFSR during the decompression of a group of test patterns. A similar technique has been also discussed in<nplcit id="ncit0003" npl-type="s"><text> S. Hellebrand et al., "Pattern generation for a deterministic BIST scheme," Proc. ICCAD, pp. 88-94 (1995</text></nplcit>). Reseeding of MP-LFSRs was further enhanced by adopting the concept of variable-length seeds as described in <nplcit id="ncit0004" npl-type="s"><text>J. Rajski et al., "Decompression of test data using variable-length seed LFSRs", Proc. VLSI Test Symposium, pp. 426-433 (1995</text></nplcit>) and in <nplcit id="ncit0005" npl-type="s"><text>J. Rajski et al., "Test Data Decompression for Multiple Scan Designs with Boundary Scan", IEEE Trans. on Computers, vol. C-47, pp. 1188-1200 (1998</text></nplcit>). This technique has a potential for significant improvement of test pattern encoding efficiency, even for test cubes with highly varying number of specified positions. The same documents propose decompression techniques for circuits with multiple scan chains and mechanisms to load seeds into the decompressor structure through the boundary-scan. Although this scheme significantly improves encoding capability, it still suffers from the two drawbacks noted above: seed-length limitations and mutually exclusive times for loading the seed and generating test patterns therefrom.</p><p id="p0010" num="0010">The above reseeding methods thus suffer from the following limitations. First, the encoding capability of reseeding is limited by the length of the LFSR. In general, it is very difficult to encode a test cube that has more specified positions than the length of the LFSR. Second, the loading of the seed and test pattern generation therefrom are<!-- EPO <DP n="6"> --> done in two separate, non-overlapping phases. This results in poor utilization of the tester time.</p><p id="p0011" num="0011">A different attempt to reduce test application time and test data volume is described in 1. <nplcit id="ncit0006" npl-type="s"><text>Hamzaoglu et al., "Reducing Test Application Time For Full Scan Embedded Cores," Proc. FTCS-29, pp. 260-267 (1999</text></nplcit>). This so-called parallel-serial full scan scheme divides the scan chain into multiple partitions and shifts in the same test pattern to each scan chain through a single scan input. Clearly, a given test pattern must not contain contradictory values on corresponding cells in different chains loaded through the same input. Although partially specified test cubes may allow such operations, the performance of this scheme strongly relies on the scan chain configuration, i.e., the number of the scan chains used and the assignment of the memory elements to the scan chains. In large circuits such a mapping is unlikely to assume any desired form, and thus the solution is not easily scalable. Furthermore, a tester using this scheme must be able to handle test patterns of different scan chain lengths, a feature not common to many testers.</p><p id="p0012" num="0012"><nplcit id="ncit0007" npl-type="s"><text>ZACHARIA N ET AL: "TWO-DIMENSIONAL TEST DATA DECOMPRESSOR FOR MULTIPLE SCAN DESIGNS" PROCEEDINGS OF THE INTERNATIONAL TEST CONFERENCE. WASHINGTON, OCT. 20 19961020 NEW YORK, IEEE, US, 20 October 1996 (1996-10-20), pages 186-194, XP000799909 ISBN: 978-0-7803-3541-7</text></nplcit>, discloses a scheme to decompress in parallel deterministic test patterns for circuits with multiple scan chains. Two implementations of the scheme are discussed. In the first one, the patterns are generated by the reseeding of a hardware structure which is mostly comprised of the already existing DFT environment. In the second approach, the patterns are generated through the execution of a program on a simple embedded processor.</p><p id="p0013" num="0013"><patcit id="pcit0008" dnum="US5883906A"><text>US5,883,906</text></patcit> discloses a compression and decompression apparatus to be used for transferring test pattern data from a storage device of a host computer to a pattern memory in a semiconductor test system for testing a semiconductor device to decrease the time required for the data transfer. The compression and decompression apparatus includes: a compression means for classifying vector data in the test pattern data into a first group to be compressed to a short code and a second group not to be compressed, and for producing a look-up table showing relationship between the short code and the vector data in the first group; a compressed test pattern file storing compressed test pattern including the short code, data vector in the second group and the look-up table; and a hardware decompression circuit provided in the semiconductor test system or proximity thereto for decompressing the compressed test pattern based on the short code and the relationship shown in the look-up table and for sending decompressed test pattern to the pattern memory in the semiconductor test system.</p><p id="p0014" num="0014"><nplcit id="ncit0008" npl-type="s"><text>JAS A ET AL: "TEST VECTOR DECOMPRESSION VIA CYCLICAL SCAN CHAINS AND ITS APPLICATION TO TESTING CORE-BASED DESIGNS" PROCEEDINGS OF THE INTERNATIONAL TEST CONFERENCE 1998. ITC '98. WASHINGTON, DC, OCT. 19 - 20, 1998; [INTERNATIONAL TEST CONFERENCE], NEW YORK, NY : IEEE, US, vol. CONF. 29, 19 October 1998 (1998-10-19), pages 458-464, XP000822384 ISBN: 978-0-7803-5093-9</text></nplcit>, discloses a test vector compression/decompression technique for reducing the amount of test data that must be stored on a tester and transferred to each core when testing a core-based design. A small amount of on-chip circuitry is used to reduce both the test storage and test time required for testing a core-based design. The fully specified test vectors provided by the core vendor are stored in compressed form in the tester memory and transferred to the chip where they are decompressed and applied to the core (the compression is lossless). Instead of having to transfer each entire test vector from the tester to the core, a smaller amount of compressed data is transferred instead. This reduces the amount of test data that must be stored on the tester and hence reduces the total amount of test time required for transferring the data with a given test data bandwidth.</p><heading id="h0003"><b>SUMMARY</b></heading><p id="p0015" num="0015">Aspects of embodiments of the present invention are recited by the appended claims.</p><p id="p0016" num="0016">A method is described for applying test patterns to scan chains in a circuit-under-test includes providing a compressed test pattern of bits; decompressing the compressed test pattern into a decompressed test pattern of bits as the compressed test pattern is being provided; and applying the decompressed test pattern to scan chains of the circuit-under-test. If desired, the method may further include applying the decompressed test pattern to scan chains of the circuit-under-test as the compressed test pattern is being provided.</p><p id="p0017" num="0017">The method may also include providing the compressed test pattern, decompressing the compressed test pattern, and applying the decompressed pattern synchronously. These acts may be performed at a same clock rate. Alternatively, the compressed test pattern may be provided at a lower clock rate and the compressed test pattern decompressed and applied at a higher clock rate. In yet another alternative, the<!-- EPO <DP n="7"> --><!-- EPO <DP n="8"> --> compressed pattern may be provided and decompressed at a higher clock rate and the decompressed pattern applied at a lower clock rate.</p><p id="p0018" num="0018">Decompressing the compressed test pattern may comprise generating during a time period a greater number of decompressed test pattern bits than the number of compressed test pattern bits provided during the same time period. One way the greater number of bits may be generated is by providing a greater number of outputs for decompressed test pattern bits than the number of inputs to which the compressed test pattern bits are provided. Another way the greater number of bits may be generated is by generating the decompressed test pattern bits at a higher clock rate than the clock rate at which the compressed test pattern bits are provided.</p><p id="p0019" num="0019">Decompressing the compressed test pattern may further comprise generating each bit of the decompressed pattern by logically combining two or more bits of the compressed test pattern. This logically combining may include combining the bits with an XOR operation, an XNOR operation or a combination of the two operations.</p><p id="p0020" num="0020">In one embodiment of the invention, the providing and decompressing occur within the circuit-under-test. In another embodiment of the invention, the providing and decompressing occur within a tester, the tester applying the decompressed test pattern to scan chains of the circuit-under-test.</p><p id="p0021" num="0021">A circuit is described which may comprise a decompressor, circuit logic, and scan chains for testing the circuit logic. The decompressor is adapted to receive a compressed test pattern of bits and decompress the test pattern into a decompressed test pattern of bits as the compressed test pattern is being received. The scan chains are coupled to the decompressor and are adapted to receive the decompressed test pattern. The decompressor may comprise a linear finite state machine adapted to receive the compressed test pattern.</p><p id="p0022" num="0022">A tester is described which may comprise storage, a decompressor, and one or more tester channels. The storage is adapted to store a set of compressed test patterns of bits. The decompressor is coupled to the storage and adapted to receive a compressed test pattern of bits provided from the storage and to decompress the test<!-- EPO <DP n="9"> --> pattern into a decompressed test pattern of bits as the compressed test pattern is being received. The tester channels are coupled to the decompressor and adapted to receive a decompressed test pattern and apply the decompressed test pattern to a circuit-under-test.</p><p id="p0023" num="0023">These and other aspects and features of the invention are described below with reference to the accompanying drawings.</p><heading id="h0004"><b>BRIEF DESCRIPTION OF THE DRAWINGS</b></heading><p id="p0024" num="0024"><ul><li><figref idrefs="f0001">Fig. 1</figref> is a block diagram of a conventional system for testing digital circuits with scan chains.</li><li><figref idrefs="f0002">Fig. 2</figref> is a block diagram of a test system according to the invention for testing digital circuits with scan chains.</li><li><figref idrefs="f0003">Fig. 3</figref> is a block diagram of a second embodiment of a system according to the invention for testing digital circuits with scan chains.</li><li><figref idrefs="f0004 f0005">Figs. 4A-B </figref>are block diagrams of a test system according to the invention include timing diagrams illustrating different possible timing relationships possible between the components of the system.</li><li><figref idrefs="f0006">Fig. 5</figref> is a block diagram of a decompressor according to the invention, including a linear finite state machine (LFSM) and phase shifter.</li><li><figref idrefs="f0007">Fig. 6</figref> shows in more detail a first embodiment of the decompressor of <figref idrefs="f0006">Fig. 5</figref> coupled to a scan chain.</li><li><figref idrefs="f0008">Fig. 7</figref> shows the logical expressions for the bits stored in each scan cell in the scan chain of <figref idrefs="f0006">Fig. 5</figref></li><li><figref idrefs="f0009">Figs. 8A-8D</figref> illustrate alternative embodiments of the LFSM of <figref idrefs="f0006">Fig. 5</figref>.</li><li><figref idrefs="f0010">Fig. 9</figref> illustrates a preferred embodiment of a 32-bit LFSM</li><li><figref idrefs="f0011">Figs. 10</figref> illustrates an alternative embodiment of the phase shifter of <figref idrefs="f0006">Fig. 5</figref>.</li><li><figref idrefs="f0012">Fig. 11</figref> illustrates the use of parallel-to-serial conversion for applying a compressed test pattern to the decompressor.<!-- EPO <DP n="10"> --></li><li><figref idrefs="f0013">Fig. 12</figref> is a block diagram of a tester according to the invention for testing digital circuits with scan chains.</li></ul></p><heading id="h0005"><b>DETAILED DESCRIPTION</b></heading><p id="p0025" num="0025"><figref idrefs="f0002">Fig. 2</figref> is a block diagram of a system 30 according to the invention for testing digital circuits with scan chains. The system includes a tester 21 such as external automatic testing equipment (ATE) and a circuit 34 that includes as all or part of it a circuit-under-test (CUT) 24. The tester 21 provides from storage a set of compressed test patterns 32 of bits, one pattern at a time, through tester channels 40 to the circuit 34 such as an IC. A compressed pattern, as will be described, contains far fewer bits than a conventional uncompressed test pattern. A compressed pattern need contain only enough information to recreate deterministically specified bits. Consequently, a compressed pattern is typically 2% to 5% of the size of a conventional test pattern and requires much less tester memory for storage than conventional patterns. As importantly, compressed test patterns require much less time to transmit from a tester to a CUT 24.</p><p id="p0026" num="0026">Unlike in the prior reseeding techniques described above, the compressed test patterns 32 are continuously provided from the tester 21 to scan chains 26 within the CUT 24 without interruption. As the compressed test pattern is being provided by the tester 21 to the input channels of a decompressor 36 within the circuit 34, the decompressor decompresses the compressed pattern into a decompressed pattern of bits. The decompressed test pattern is then applied to the scan chains 26. This application is preferably done while the compressed test pattern is being provided to the circuit 34, but it need not be so. After circuit logic within the CUT 24 is clocked with a decompressed test pattern in the scan chains 26, the test response to that pattern is captured in the scan chains and transmitted to the tester 21 for comparison with the compressed fault-free reference responses 41 stored therein.</p><p id="p0027" num="0027">In a typical configuration, the decompressor 36 has one output per scan chain 26, and there are more scan chains than input channels to the decompressor. However,<!-- EPO <DP n="11"> --> as will be described, other configurations are also possible in which the decompressor outputs are fewer than or equal to the input channels. The decompressor generates in a given time period a greater number of decompressed bits at its outputs than the number of compressed pattern bits it receives during the same time period. This is the act of decompression, whereby the decompressor 36 generates a greater number of bits than are provided to it in a given time period.</p><p id="p0028" num="0028">To reduce the data volume of the test response and the time for sending the response to the tester, the circuit 34 can include means for compressing the test response that is read from the scan chains 26. One structure for providing such compression is one or more spatial compactors 38. The compressed test responses produced by the compactors 38 are then compared one by one with compressed reference responses 40. A fault is detected if a reference response does not match an actual response. <figref idrefs="f0003">Fig. 3</figref> shows another structure that can be used for compressing the test response. A multiple input signature register (MISR) 42 compresses multiple test pattern responses into a signature that is then sent to the tester. There it is compared to a reference signature 44. Compacting the test response in the above ways is desirable but not necessary to the present decompression method and system.</p><p id="p0029" num="0029">The providing of a compressed test pattern to a circuit, its decompression into a decompressed test pattern, and the application of the decompressed test pattern to the scan chains is performed synchronously, continuously, and substantially concurrently. The rate at which each act occurs, however, can vary. All acts can be performed synchronously at a same clock rate if desired. Or the acts can be performed at different clock rates. If the acts are performed at the same clock rate, or if the compressed test patterns are provided and decompressed at a higher clock rate than at which the decompressed test patterns are applied to the scan chains, then the number of outputs of decompressor 36 and associated scan chains will exceed the number of input channels of the decompressor, as in <figref idrefs="f0002">Fig. 2</figref>. In this first case, decompression is achieved by providing more decompressor outputs than input channels. If the compressed test patterns are provided at a lower clock rate and decompressed and applied to the scan<!-- EPO <DP n="12"> --> chains at a higher clock rate, then the number of outputs and associated scan chains can be the same, fewer, or greater than the number of input channels. In this second case, decompression is achieved by generating the decompressed test pattern bits at a higher clock rate than the clock rate at which the compressed test pattern bits are provided.</p><p id="p0030" num="0030"><figref idrefs="f0004">Fig. 4A</figref> illustrates an embodiment of the first case in which the compressed pattern is provided and decompressed at a higher clock rate and the decompressed pattern is applied synchronously to the scan chains at a lower clock rate. The tester 21 provides the bits of the compressed pattern through a tester channel 40 to an input channel 37 of the decompressor 36 at a higher rate set by clock 0 (C0). The decompressor is clocked by clock 1 (C1) at the same rate as the tester and produces at outputs 39 the bits of the decompressed pattern at that rate. These decompressed bits, however, are applied to the scan chains 26 at a lower rate set by clock 2 (C2), which clocks the bits into the scan chains. This difference in rates is illustrated in the exemplary timing diagram in <figref idrefs="f0004">Fig. 4A</figref> (the actual difference can be much greater). Because of the difference therein, only every other output of the decompressor is written to the scan chains. But that is taken into account in the initial test pattern generation. One advantage of clocking the tester, decompressor, and scan chains as shown is that the tester requires fewer channels than the number of scan chains to provide the test pattern to the CUT 24. By clocking the tester at a higher clock rate C0, the time required to apply the compressed test pattern to the circuit 34 is significantly reduced. Another advantage is in low power applications, where the power dissipated during test mode has to be controlled. This can be done by reducing the clock rate C2 at which bits are shifted into the scan chains.</p><p id="p0031" num="0031"><figref idrefs="f0005">Fig. 4B</figref> illustrates an embodiment of the second case in which the compressed test pattern is provided at a lower clock rate and decompressed and applied synchronously at a higher clock rate. Here, the tester 21 provides the bits of the compressed pattern through channels 40 to the input channels 37 of the decompressor 36 at a lower rate set by clock 0 (C0). The decompressor is clocked by clock 1 (C1) at a higher rate. The decompressed bits are applied through its outputs 39 to the scan chains<!-- EPO <DP n="13"> --> 26 by clock 2 (C2) at the same rate as clock 1. This difference in rates is illustrated in the exemplary timing diagram in <figref idrefs="f0005">Fig. 4B</figref> (the actual difference can be much greater). Because of the difference, the decompressor 36 reads the same bits from the tester 21 twice before they change. The decompressor, however, includes a state machine, as will be described, and its outputs change each clock cycle because its internal states change. One advantage of clocking the tester, decompressor, and scan chains as shown in <figref idrefs="f0005">Fig. 4B</figref> is that one can utilize a tester 21 that has many channels but with little memory behind them. By providing bits on more tester channels per clock cycle, the lack of memory depth is overcome and the time required for applying the compressed test pattern is reduced.</p><p id="p0032" num="0032"><figref idrefs="f0006">Fig. 5</figref> is a block diagram of a decompressor according to the invention. In a preferred embodiment, decompressor 36 comprises a linear finite state machine (LFSM) 46 coupled, if desired, through its taps 48 to a phase shifter 50. The LFSM through the phase shifter provides highly linearly independent test patterns to the inputs of numerous scan chains in the CUT 24. The LFSM can be built on the basis of the canonical forms of linear feedback shift registers, cellular automata, or transformed LFSRs that can be obtained by applying a number of <i>m</i>-sequence preserving transformations. The output of the LFSM is applied to the phase shifter, which ensures that the decompressed pattern bits present within each of the multiple scan chains 26 at any given time do not overlap in pattern (i.e., are out of phase).</p><p id="p0033" num="0033">The concept of continuous flow decompression described herein rests on the fact noted above that deterministic test patterns typically have only between 2 to 5 % of bits deterministically specified, with the remaining bits randomly filled during test pattern generation. (Test patterns with partially specified bit positions are called test cubes, an example of which appears in Table 2.) These partially specified test cubes are compressed so that the test data volume that has to be stored externally is significantly reduced. The fewer the number of specified bits in a test cube, the better is the ability to encode the information into a compressed pattern. The ability to encode test cubes into a compressed pattern is exploited by having a few decompressor input channels driving<!-- EPO <DP n="14"> --> the circuit-under-test, which are viewed by the tester as virtual scan chains. The actual CUT 24, however, has its memory elements connected into a large number of real scan chains. Under these circumstances, even a low-cost tester that has few scan channels and sufficiently small memory for storing test data can drive the circuit externally.</p><p id="p0034" num="0034"><figref idrefs="f0007">Fig. 6</figref> shows in more detail a first embodiment of the decompressor of <figref idrefs="f0006">Fig. 5</figref>. The LFSM is embodied in an eight stage Type 1 LFSR 52 implementing primitive polynomial <i>h</i>(<i>x</i>) = <i>x</i><sup>8</sup> + <i>x</i><sup>4</sup> + <i>x</i><sup>3</sup> + <i>x</i><sup>2</sup> + 1. The phase shifter 50, embodied in a number of XOR gates, drives eight scan chains 26, each eight bits long. The structure of the phase shifter is selected in such a way that a mutual separation between its output channels C0-C7 is at least eight bits, and all output channels are driven by 3-input (tap) XOR functions having the following forms:
<tables id="tabl0001" num="0001"><table frame="none"><title>Table 1</title><tgroup cols="2" colsep="0" rowsep="0"><colspec colnum="1" colname="col1" colwidth="27mm"/><colspec colnum="2" colname="col2" colwidth="27mm"/><tbody><row><entry>C<sub>0</sub> = s<sub>4</sub> ⊕ s<sub>3</sub> ⊕ s<sub>1</sub></entry><entry>C<sub>4</sub> = s<sub>4</sub> ⊕ s<sub>2</sub> ⊕ s<sub>1</sub></entry></row><row><entry>C<sub>1</sub> = s<sub>7</sub> ⊕ s<sub>6</sub> ⊕ s<sub>5</sub></entry><entry>C<sub>5</sub> = s<sub>5</sub> ⊕ s<sub>2</sub> ⊕ s<sub>0</sub></entry></row><row><entry>C<sub>2</sub> = s<sub>7</sub> ⊕ s<sub>3</sub> ⊕ s<sub>2</sub></entry><entry>C<sub>6</sub> = s<sub>6</sub> ⊕ s<sub>5</sub> ⊕ s<sub>3</sub></entry></row><row><entry>C<sub>3</sub> = s<sub>6</sub> ⊕ s<sub>1</sub> ⊕ s<sub>0</sub></entry><entry>C<sub>7</sub> = s<sub>7</sub> ⊕ s<sub>2</sub> ⊕ s<sub>0</sub></entry></row></tbody></tgroup></table></tables>
where <i>C</i><sub>i</sub> is the <i>i</i>th output channel and <i>s</i><sub>k</sub> indicates the <i>k</i>th stage of the LFSR. Assume that the LFSR is fed every clock cycle through its two input channels 37a, 37b and input injectors 48a, 48b (XOR gates) to the second and the sixth stages of the register. The input variables "a" (compressed test pattern bits) received on channel 37a are labeled with even subscripts (a<sub>0</sub>, a<sub>2</sub>, a<sub>4</sub>,..) and the variables "a" received on channel 37b are labeled with odd subscripts (a<sub>1</sub>, a<sub>3</sub>, a<sub>5</sub>, ...). Treating these external variables as Boolean, all scan cells can be conceptually filled with symbolic expressions being linear functions of input variables injected by tester 21 into the LFSR 52. Given the feedback polynomial, the phase shifter 50, the location of injectors 48a, b as well as an additional initial period of four clock cycles during which only the LFSR is supplied by test data, the contents of each scan cell within the scan chains 26 in <figref idrefs="f0007">Fig. 6</figref> can be logically determined. <figref idrefs="f0008">Fig. 7</figref> gives the expressions for the 64 scan cells in <figref idrefs="f0007">Fig. 6</figref>, with the scan<!-- EPO <DP n="15"> --> chains numbered 0 through 7 in <figref idrefs="f0007">Fig. 6</figref> corresponding to the scan chains C7, C1, C6, ... identified in <figref idrefs="f0007">Fig. 6</figref>. The expressions for each scan chain in <figref idrefs="f0008">Fig. 7</figref> are listed in the order in which the information is shifted into the chain, i.e., the topmost expression represents the data shifted in first.</p><p id="p0035" num="0035">Assume that the decompressor 36 in <figref idrefs="f0007">Fig. 6</figref> is to generate a test pattern based on the following partially specified test cube in Table 2 (the contents of the eight scan chains are shown here horizontally, with the leftmost column representing the information that is shifted first into the scan chains):
<tables id="tabl0002" num="0002"><table frame="none"><title>Table 2</title><tgroup cols="2" colsep="0" rowsep="0"><colspec colnum="1" colname="col1" colwidth="22mm"/><colspec colnum="2" colname="col2" colwidth="23mm"/><tbody><row><entry>x x x x x x x x</entry><entry>scan chain 0</entry></row><row><entry>x x x x x x x x</entry><entry>scan chain 1</entry></row><row><entry>x x x x 1 1 x x</entry><entry>scan chain 2</entry></row><row><entry>x x 0 x x x 1 x</entry><entry>scan chain 3</entry></row><row><entry>x x x x 0 x x 1</entry><entry>scan chain 4</entry></row><row><entry>x x 0 x 0 x x x</entry><entry>scan chain 5</entry></row><row><entry>x x 1 x 1 x x x</entry><entry>scan chain 6</entry></row><row><entry>x x x x x x x x</entry><entry>scan chain 7</entry></row></tbody></tgroup></table></tables>
The variable <i>x</i> denotes a "don't care" condition. Then a corresponding compressed test pattern can be determined by solving the following system of ten equations from <figref idrefs="f0008">Fig. 7</figref> using any of a number of well-known techniques such as Gauss-Jordan elimination techniques. The selected equations correspond to the deterministically specified bits:
<tables id="tabl0003" num="0003"><table frame="none"><title>Table 3</title><tgroup cols="1" colsep="0" rowsep="0"><colspec colnum="1" colname="col1" colwidth="92mm"/><tbody><row><entry align="right"><i>a</i><sub>2</sub> ⊕ <i>a</i><sub>6</sub> ⊕ <i>a</i><sub>11</sub> = 1</entry></row><row><entry align="right"><i>a</i><sub>0</sub> ⊕ <i>a</i><sub>1</sub> ⊕ <i>a</i><sub>4</sub> ⊕ <i>a</i><sub>8</sub> ⊕ <i>a</i><sub>13</sub> = 1</entry></row><row><entry align="right"><i>a</i><sub>4</sub> ⊕ <i>a</i><sub>5</sub> ⊕ <i>a</i><sub>9</sub> ⊕ <i>a</i><sub>11</sub> = 0</entry></row><row><entry align="right"><i>a</i><sub>0</sub> ⊕ <i>a</i><sub>2</sub> ⊕ <i>a</i><sub>5</sub> ⊕ <i>a</i><sub>12</sub> ⊕ <i>a</i><sub>13</sub> ⊕ <i>a</i><sub>17</sub> ⊕ <i>a</i><sub>19</sub> = 1</entry></row><row><entry align="right"><i>a</i><sub>1</sub> ⊕ <i>a</i><sub>2</sub> ⊕ <i>a</i><sub>4</sub> ⊕ <i>a</i><sub>5</sub> ⊕ <i>a</i><sub>6</sub> ⊕ <i>a</i><sub>8</sub> ⊕ <i>a</i><sub>12</sub> ⊕ <i>a</i><sub>15</sub> = 0</entry></row><row><entry align="right"><i>a</i><sub>0</sub> ⊕ <i>a</i><sub>1</sub> ⊕ <i>a</i><sub>3</sub> ⊕ <i>a</i><sub>5</sub> ⊕ <i>a</i><sub>7</sub> ⊕ <i>a</i><sub>8</sub> ⊕ <i>a</i><sub>10</sub> ⊕ <i>a</i><sub>11</sub> ⊕ <i>a</i><sub>12</sub> ⊕ <i>a</i><sub>14</sub> ⊕ <i>a</i><sub>18</sub> ⊕ <i>a</i><sub>21</sub> = 1</entry></row><row><entry align="right"><i>a</i><sub>2</sub> ⊕ <i>a</i><sub>3</sub> ⊕ <i>a</i><sub>4</sub> ⊕ <i>a</i><sub>9</sub> ⊕ <i>a</i><sub>10</sub> = 0</entry></row><row><entry align="right"><i>a</i><sub>0</sub> ⊕ <i>a</i><sub>1</sub> ⊕ <i>a</i><sub>2</sub> ⊕ <i>a</i><sub>6</sub> ⊕ <i>a</i><sub>7</sub> ⊕ <i>a</i><sub>8</sub> ⊕ <i>a</i><sub>13</sub> ⊕ <i>a</i><sub>14</sub> = 0</entry></row><row><entry align="right"><i>a</i><sub>3</sub> ⊕ <i>a</i><sub>4</sub> ⊕ <i>a</i><sub>5</sub> ⊕ <i>a</i><sub>6</sub> ⊕ <i>a</i><sub>10</sub> = 1</entry></row><row><entry align="right"><i>a</i><sub>0</sub> ⊕ <i>a</i><sub>1</sub> ⊕ <i>a</i><sub>3</sub> ⊕ <i>a</i><sub>7</sub> ⊕ <i>a</i><sub>8</sub> ⊕ <i>a</i><sub>9</sub> ⊕ <i>a</i><sub>10</sub> ⊕ <i>a</i><sub>14</sub> = 1</entry></row></tbody></tgroup></table></tables><!-- EPO <DP n="16"> -->
It can be verified that the resulting seed variables <i>a</i><sub>0</sub>, <i>a</i><sub>1</sub>, <i>a</i><sub>2</sub>, <i>a</i><sub>3</sub> and <i>a</i><sub>13</sub> are equal to the value of one while the remaining variables assume the value of zero. This seed will subsequently produce a fully specified test pattern in the following form (the initial specified positions are underlined):
<tables id="tabl0004" num="0004"><table frame="none"><title>Table 4</title><tgroup cols="1" colsep="0" rowsep="0"><colspec colnum="1" colname="col1" colwidth="23mm"/><tbody><row><entry>1 0 1 0 0 1 0 0</entry></row><row><entry>1 1 0 0 0 1 0 0</entry></row><row><entry>1 1 1 1 <u>1</u> <u>1</u> 1 0</entry></row><row><entry>0 0 <u>0</u> 1 0 0 <u>1</u> 1</entry></row><row><entry>1 0 1 0 <u>0</u> 0 0 <u>1</u></entry></row><row><entry>1 1 <u>0</u> 1 <u>0</u> 0 0 0</entry></row><row><entry>1 1 <u>1</u> 1 <u>1</u> 1 1 1</entry></row><row><entry>0 1 0 0 1 1 0 0</entry></row></tbody></tgroup></table></tables>
As can be observed, the achieved compression ratio (defined as the number of scan cells divided by the number of compressed pattern bits) is 64 / (2 × 8 + 2 × 4) ≈ 2.66.</p><p id="p0036" num="0036"><figref idrefs="f0009">Figs. 8A-D</figref> illustrate various embodiments for the LFSM 46 of <figref idrefs="f0006">Fig. 5</figref>. <figref idrefs="f0009">Fig. 8A</figref> is a Type I LFSR 60. <figref idrefs="f0009">Fig. 8B</figref> is a Type II LFSR 62. <figref idrefs="f0009">Fig 8C</figref> is a transformed LFSR 64. And <figref idrefs="f0009">Fig. 8D</figref> is a cellular automaton 66. All of them implement primitive polynomials. Except for the cellular automaton 66, in each case the LFSM includes a number of memory elements connected in a shift register configuration. In addition, there are several feedback connections between various memory cells that uniquely determine the next state of the LFSM. The feedback connections are assimilated into the design by introducing injectors in the form of XOR gates near the destination memory elements. The input channels 37 provide the bits of a compressed pattern to the LFSM through input injectors 48a, b. The injectors are handled similarly as the other feedback connections within the LFSM except that their sources of bits are the input channels. The input channels 37 may have multiple fan-outs driving different LFSM injectors 48 to improve the encoding efficiency.<!-- EPO <DP n="17"> --></p><p id="p0037" num="0037"><figref idrefs="f0010">Fig. 9</figref> shows a preferred embodiment of a 32-bit LFSM in the form of a re-timed LFSR 68. The injectors are spaced equally so that the input variables are distributed optimally once they are injected into the LFSM. In practice, the size of the LFSM depends on the number of real scan chains in a circuit, the desired compression ratio of encoding, and on certain structural properties of the circuit-under-test.</p><p id="p0038" num="0038"><figref idrefs="f0011">Fig. 10</figref> illustrates an alternative embodiment of a phase shifter 50, constructed with an array of XNOR gates rather than XOR gates. Phase shifters can be constructed with combinations of XNOR and XOR gates as well.</p><p id="p0039" num="0039"><figref idrefs="f0012">Fig. 11</figref> illustrates the use of parallel-to-serial conversion for applying a compressed test pattern to the decompressor. If the input channels 37 to the decompressor 36 are fewer in number than the number of channels 40 of the tester 21, it can be advantageous to provide a parallel-to-serial converter such as registers 70 at the input to the decompressor. The registers 70 are clocked such that their contents are shifted out before the next set of bits is applied to the register from the tester 21. The continuous flow of the test patterns is thus preserved.</p><p id="p0040" num="0040"><figref idrefs="f0013">Fig. 12</figref> is a block diagram of a tester 21 embodiment that includes the decompressor 36, rather than providing it in the circuit 34. The tester decompresses the test pattern internally and transmits the decompressed test pattern to the CUT 24. Such a tester has advantages where testing time is not as critical and it is preferred not to add a decompressor to each circuit-under-test. Storage requirements are still reduced because compressed test patterns (rather than full test patterns) need only be stored. In addition, in a variation of the above tester embodiment, the compactors 38 can also be included in the tester 21 rather than the circuit 34. The circuit then returns uncompressed test responses to the tester. This further simplifies the circuit's design.</p><p id="p0041" num="0041">The process of decompressing a test pattern will now be described in more detail, with reference to <figref idrefs="f0006">Fig. 5</figref>. The LFSM 46 starts its operation from an initial all-zero state. Assuming an <i>n</i>-bit LFSM and <i>m</i> input injectors, <sup>┌</sup>n/m<sup>┐</sup> clock cycles may be used to initialize the LFSM before it starts generating bits corresponding to the actual test patterns. After initialization of the LFSM and assuming clocks C0 and C1 are running at<!-- EPO <DP n="18"> --> the same rate, a new bit is loaded in parallel into each scan chain 26 every clock cycle via the phase shifter 50. At this time, the circuit-under-test 34 is operated in the scan mode, so that the decompressed test pattern fills the scan chains 26 with 0s and 1s (and shifts out any previous test response stored there). A small number of bit positions in the scan chains, therefore, get deterministically specified values while the remaining positions are filled with random bits generated by the LFSM. The number of clock cycles for which a test pattern is shifted is determined by the length of the longest scan chain within the circuit, the number being at least as great as the number of cells in the longest scan chain. A scan-shift signal is therefore held high for all the scan chains until the longest scan chain gets the entire test pattern. The shorter scan chains in the circuit are left justified so that the first few bits that are shifted are overwritten without any loss of information.</p><p id="p0042" num="0042">Patterns from the LFSM may be linearly dependent. In other words, it is possible to determine various bit positions within the two-dimensional structure of multiple scan chains that are significantly correlated. This causes testability problems, as it is often not possible to provide the necessary stimulus for fault excitation to the gates driven by positions that have some form of dependency between them. Consequently, the phase shifter 50 (such as an array of XOR gates or XNOR gates) may be employed at the taps (outputs) of the LFSM to reduce linear dependencies between various bit positions within the scan chains. The XOR logic can be two-level or multilevel depending on the size of the XOR gates. Every scan chain in the CUT 24 is driven by signals that are obtained by XOR-ing a subset of taps 48 from the LFSM. These taps are determined so that the encoding efficiency of the test cubes is still preserved. In addition, the taps are selected in a manner so that all memory cells in the LFSM have approximately equal number of fan-out signals and the propagation delays are suitably optimized. Once a decompressed test pattern is completely loaded into the scan chains during test mode, the CUT 24 is switched to the normal mode of operation. The CUT then performs its normal operation under the stimulus provided by the test pattern in the scan chains. The test response of the CUT is captured in the scan chains. During the<!-- EPO <DP n="19"> --> capture the LFSM is reset to the all-zero state before a new initialization cycle begins for loading the next test pattern.</p><p id="p0043" num="0043">Having illustrated and described the principles of the invention in exemplary embodiments, it should be apparent to those skilled in the art that the illustrative embodiments can be modified in arrangement and detail without departing from such principles. In view of the many possible embodiments to which the principles of the invention may be applied, it should be understood that the illustrative embodiment is intended to teach these principles.</p><p id="p0044" num="0044">We therefore claim as our invention all that comes within the scope of the following claims.</p></description><claims mxw-id="PCLM56986925" lang="DE" load-source="patent-office"><!-- EPO <DP n="23"> --><claim id="c-de-01-0001" num="0001"><claim-text>Schaltung, umfassend:
<claim-text>einen linearen endlichen Automaten (46), der Eingabelogikgatter aufweist, die zum logischen Kombinieren von Bits eingerichtet sind, die in dem linearen endlichen Automaten mit von einem komprimierten Testmuster empfangenen Bits gespeichert sind, wobei der lineare endliche Automat daraus eine Reihe von Bits erzeugt;</claim-text>
<claim-text>einen Phasenschieber (50), der mit dem linearen endlichen Automaten (46) gekoppelt ist, wobei der Phasenschieber (50) zum logischen Kombinieren von zwei oder mehr Bits eingerichtet ist, die von dem linearen endlichen Automaten (46) erzeugt werden, um ein dekomprimiertes Muster von Bits (39) zu erzeugen; und</claim-text>
<claim-text>Scan-Ketten (26), die mit dem Phasenschieber (50) gekoppelt und dazu eingerichtet sind, von diesem das dekomprimierte Muster von Bits (39) zu empfangen;</claim-text>
<claim-text>wobei die Schaltung <b>dadurch gekennzeichnet ist, dass</b> die Scan-Ketten (26) zum kontinuierlichen Empfangen des dekomprimierten Musters von Bits (39) eingerichtet sind, während der lineare endliche Automat (46) Bits von dem komprimierten Testmuster empfängt,</claim-text></claim-text></claim><claim id="c-de-01-0002" num="0002"><claim-text>Schaltung nach Anspruch 1, wobei der Phasenschieber (50) eine Anordnung von XOR- oder XNOR-Gattern umfasst.</claim-text></claim><claim id="c-de-01-0003" num="0003"><claim-text>Schaltung nach irgendeinem der Ansprüche 1 oder 2, wobei der lineare endliche Automat (46) ein lineares Feedbackschieberegister beinhaltet.</claim-text></claim><claim id="c-de-01-0004" num="0004"><claim-text>Schaltung nach irgendeinem der Ansprüche 1 oder 2, wobei der lineare endliche Automat (46) mehrere Speicherelemente beinhaltet, die in einer Schieberegisterkonfiguration mit Feedbackverbindungen zwischen den Speicherelementen verbunden sind.<!-- EPO <DP n="24"> --></claim-text></claim><claim id="c-de-01-0005" num="0005"><claim-text>Schaltung nach Anspruch 4, ferner mit XOR-Gattern, die zwischen den Feedbackverbindungen und den Speicherelementen zum Arbeiten als Injektoren in die Speicherelemente gekoppelt sind.</claim-text></claim><claim id="c-de-01-0006" num="0006"><claim-text>Schaltung nach Anspruch 5, ferner mit zumindest einem Eingabekanal, der zwischen dem linearen endlichen Automaten (46) und einer Testvorrichtung (20) gekoppelt ist, die das komprimierte Testmuster zuführt.</claim-text></claim><claim id="c-de-01-0007" num="0007"><claim-text>Schaltung nach irgendeinem der Ansprüche 1-6, ferner mit einem oder mehreren räumlichen Kompaktierern (38), die mit den Scan-Ketten (26) gekoppelt sind.</claim-text></claim><claim id="c-de-01-0008" num="0008"><claim-text>Schaltung nach irgendeinem der Ansprüche 1-6, ferner mit einem Mehrfacheingabesignaturregister (42), das mit den Scan-Ketten (26) gekoppelt ist.</claim-text></claim><claim id="c-de-01-0009" num="0009"><claim-text>Schaltung nach irgendeinem der Ansprüche 1-8, wobei der lineare endliche Automat (46) und der Phasenschieber (50) einen Dekompressor bilden und wobei der Dekompressor mehrere Eingabekanäle und mehrere Ausgaben aufweist, wobei die Eingabekanäle parallel die Bits der komprimierten Testmuster empfangen.</claim-text></claim><claim id="c-de-01-0010" num="0010"><claim-text>Schaltung nach irgendeinem der Ansprüche 1-9, wobei das komprimierte Testmuster durch Eingabekanäle bereitgestellt wird, die mit dem linearen endlichen Automaten (46) gekoppelt sind, und die Anzahl der Eingabekanäle geringer als die Anzahl von Scan-Ketten (26) ist, bei denen das dekomprimierte Testmuster angewendet wird.</claim-text></claim><claim id="c-de-01-0011" num="0011"><claim-text>Schaltung nach irgendeinem der Ansprüche 1-10, wobei die vom komprimierten Testmuster empfangenen Bits, das Dekomprimieren des komprimierten Testmusters und der Empfang des dekomprimierten Musters in den Scan-Ketten (26) synchron mit derselben Taktgeberrate durchgeführt werden.</claim-text></claim><claim id="c-de-01-0012" num="0012"><claim-text>Schaltung nach irgendeinem der Ansprüche 1-10, wobei das komprimierte Testmuster mit einer niedrigeren Taktgeberrate versehen ist und das komprimierte<!-- EPO <DP n="25"> --> Testmuster dekomprimiert und mit einer höheren Taktgeberrate synchron angewendet wird.</claim-text></claim><claim id="c-de-01-0013" num="0013"><claim-text>Schaltung nach irgendeinem der Ansprüche 1-10, wobei das komprimierte Muster vorgesehen und mit einer höheren Taktgeberrate dekomprimiert wird und das dekomprimierte Muster mit einer niedrigeren Taktgeberrate synchron angewendet wird.</claim-text></claim><claim id="c-de-01-0014" num="0014"><claim-text>Schaltung nach irgendeinem der Ansprüche 1-13, wobei das Dekomprimieren des komprimierten Testmusters während einer Zeitdauer das Erzeugen einer größeren Anzahl von dekomprimierten Testmusterbits als die Anzahl komprimierter Testmusterbits umfasst, die während derselben Zeitdauer bereitgestellt werden.</claim-text></claim><claim id="c-de-01-0015" num="0015"><claim-text>Verfahren zum Anwenden von Testmustern auf eine zu testende Schaltung, umfassend:
<claim-text>Bereitstellen eines komprimierten Testmusters für einen linearen endlichen Automaten (46) mit Eingabelogikgattern, der zum logischen Kombinieren von Bits eingerichtet ist, die in dem linearen endlichen Automaten (46) mit Bits des komprimierten Testmusters gespeichert sind;</claim-text>
<claim-text>Erzeugen eines dekomprimierten Musters von Bits von einem Phasenschieber (50), der mit dem linearen endlichen Automaten (46) gekoppelt ist, wobei der Phasenschieber (50) zum logischen Kombinieren von zwei oder mehr Bits eingerichtet ist, die durch den linearen endlichen Automaten (46) erzeugt werden, um das dekomprimierte Muster von Bits herzustellen; und</claim-text>
<claim-text>Empfangen des dekomprimierten Musters von Bits in Scan-Ketten (26), die mit dem Phasenschieber (50) gekoppelt sind;</claim-text>
<claim-text>wobei das Verfahren <b>gekennzeichnet ist durch</b> das simultane kontinuierliche Bereitstellen von Bits des komprimierten Testmusters für den linearen endlichen Automaten (46), während die dekomprimierten Muster von Bits in den Scan-Ketten empfangen werden.</claim-text></claim-text></claim></claims><claims mxw-id="PCLM56986926" lang="EN" load-source="patent-office"><!-- EPO <DP n="20"> --><claim id="c-en-01-0001" num="0001"><claim-text>A circuit comprising:
<claim-text>a linear finite state machine (46) having input logic gates adapted to logically combine bits stored within the linear finite state machine with bits received from a compressed test pattern, the linear finite state machine generating therefrom a series of bits;</claim-text>
<claim-text>a phase shifter (50) coupled to the linear finite state machine (46), the phase shifter (50) adapted to logically combine two or more bits generated by the linear finite state machine (46) to produce a decompressed pattern of bits (39); and</claim-text>
<claim-text>scan chains (26) coupled to the phase shifter (50) and adapted to receive therefrom the decompressed pattern of bits (39);</claim-text>
<claim-text>the circuit <b>characterised in that</b> the scan chains (26) are adapted to receive the decompressed pattern of bits (39) continuously while the linear finite state machine (46) is receiving bits from the compressed test pattern.</claim-text></claim-text></claim><claim id="c-en-01-0002" num="0002"><claim-text>The circuit of claim 1, wherein the phase shifter (50) comprises an array of XOR or XNOR gates.</claim-text></claim><claim id="c-en-01-0003" num="0003"><claim-text>The circuit of any of claims 1 or 2, wherein the linear finite state machine (46) includes a linear feedback shift register.</claim-text></claim><claim id="c-en-01-0004" num="0004"><claim-text>The circuit of any of claims 1 or 2, wherein the linear finite state machine (46) includes multiple memory elements connected in a shift register configuration with feedback connections between the memory elements.</claim-text></claim><claim id="c-en-01-0005" num="0005"><claim-text>The circuit of claim 4, further including XOR gates coupled between the feedback connections and the memory elements for acting as injectors to the memory elements.<!-- EPO <DP n="21"> --></claim-text></claim><claim id="c-en-01-0006" num="0006"><claim-text>The circuit of claim 5, further including at least one input channel coupled between the linear finite state machine (46) and a tester (20), which supplies the compressed test pattern.</claim-text></claim><claim id="c-en-01-0007" num="0007"><claim-text>The circuit of any of claims 1-6, further including one or more spatial compactors (38) coupled to the scan chains (26).</claim-text></claim><claim id="c-en-01-0008" num="0008"><claim-text>The circuit of any of claims 1-6, further including a multiple input signature register (42) coupled to the scan chains (26).</claim-text></claim><claim id="c-en-01-0009" num="0009"><claim-text>The circuit of any of claims 1-8, wherein the linear finite state machine (46) and phase shifter (50) form a decompressor, and wherein the decompressor has a plurality of input channels and a plurality of outputs, the input channels receiving in parallel the bits of the compressed test patterns.</claim-text></claim><claim id="c-en-01-0010" num="0010"><claim-text>The circuit of any of claims 1-9, wherein the compressed test pattern is provided through input channels coupled to the linear finite state machine (46), and the number of input channels is fewer than the number of scan chains (26) to which the decompressed test pattern is applied.</claim-text></claim><claim id="c-en-01-0011" num="0011"><claim-text>The circuit of any of claims 1-10, wherein the bits received from the compressed test pattern, the decompressing the compressed test pattern, and receipt of the decompressed pattern in the scan chains (26) are performed synchronously at a same clock rate.</claim-text></claim><claim id="c-en-01-0012" num="0012"><claim-text>The circuit of any of claims 1-10, wherein the compressed test pattern is provided at a lower clock rate and the compressed test pattern is decompressed and applied synchronously at a higher clock rate.<!-- EPO <DP n="22"> --></claim-text></claim><claim id="c-en-01-0013" num="0013"><claim-text>The circuit of any of claims 1-10, wherein the compressed pattern is provided and decompressed at a higher clock rate and the decompressed pattern is applied synchronously at a lower clock rate.</claim-text></claim><claim id="c-en-01-0014" num="0014"><claim-text>The circuit of any of claims 1-13, wherein decompressing the compressed test pattern comprises generating, during a time period, a greater number of decompressed test pattern bits than the number of compressed test pattern bits provided during the same time period.</claim-text></claim><claim id="c-en-01-0015" num="0015"><claim-text>A method of applying test patterns to a circuit under test, comprising:
<claim-text>providing a compressed test pattern to a linear finite state machine (46) having input logic gates adapted to logically combine bits stored within the linear finite state (46) machine with bits of the compressed test pattern;</claim-text>
<claim-text>producing a decompressed pattern of bits from a phase shifter (50) coupled to the linear finite state machine (46), the phase shifter (50) adapted to logically combine two or more bits generated by the linear finite state machine (46) to produce the decompressed pattern of bits; and</claim-text>
<claim-text>receiving the decompressed pattern of bits in scan chains (26) coupled to the phase shifter (50);</claim-text>
<claim-text>the method <b>characterised by</b> simultaneously providing bits of the compressed test pattern to the linear finite state machine (46) continuously while receiving the decompressed pattern of bits in the scan chains.</claim-text></claim-text></claim></claims><claims mxw-id="PCLM56986927" lang="FR" load-source="patent-office"><!-- EPO <DP n="26"> --><claim id="c-fr-01-0001" num="0001"><claim-text>Circuit comprenant :
<claim-text>une machine à états finis linéaires (46) présentant des portes logiques d'entrée prévues pour combiner logiquement des bits stockés dans la machine à états finis linéaires avec les bits reçus d'une séquence de test compressée, une série de bits étant générée à partir de la machine à états finis linéaires ;</claim-text>
<claim-text>un déphaseur (50) raccordé à la machine à états finis linéaires (46), le déphaseur (50) étant prévu pour combiner logiquement deux bits ou plus générés par la machine à états finis linéaires (46) afin de produire une séquence de bits décompressée (39) ; et</claim-text>
<claim-text>des chaînes d'analyse (26) raccordées au déphaseur (50) et prévues pour recevoir dudit déphaseur la séquence de bits décompressée (39) ;</claim-text>
<claim-text>le circuit étant <b>caractérisé en ce que</b> les chaînes d'analyse (26) sont prévues pour recevoir la séquence de bits décompressée (39) de façon continue pendant que la machine à états finis linéaires (46) reçoit les bits de la séquence de test décompressée.</claim-text></claim-text></claim><claim id="c-fr-01-0002" num="0002"><claim-text>Circuit selon la revendication 1, dans lequel le déphaseur (50) comprend une matrice de portes logiques OU exclusif et NON-OU exclusif.</claim-text></claim><claim id="c-fr-01-0003" num="0003"><claim-text>Circuit selon l'une quelconque des revendications 1 et 2, dans lequel la machine à états finis linéaires (46) comprend un registre linéaire à décalage à boucle fermée.</claim-text></claim><claim id="c-fr-01-0004" num="0004"><claim-text>Circuit selon l'une quelconque des revendications 1 et 2, dans lequel la machine à états finis linéaires (46) comprend plusieurs éléments de mémoire connectés dans une configuration de registre à décalage avec des connections à boucle fermée entre les éléments de mémoire.</claim-text></claim><claim id="c-fr-01-0005" num="0005"><claim-text>Circuit selon la revendication 4, comprenant en outre des portes OU exclusif connectées entre les connexions à boucle fermée et les éléments de mémoire afin de servir d'injecteurs pour les éléments de mémoire.<!-- EPO <DP n="27"> --></claim-text></claim><claim id="c-fr-01-0006" num="0006"><claim-text>Circuit selon la revendication 5, comprenant en outre au moins un canal d'entrée connecté entre la machine à états finis linéaires (46) et un testeur (20), qui alimente la séquence de test compressée.</claim-text></claim><claim id="c-fr-01-0007" num="0007"><claim-text>Circuit selon l'une quelconque des revendications 1 à 6, comprenant en outre un ou plusieurs compacteurs spatiaux (38) connectés aux chaînes d'analyse (26).</claim-text></claim><claim id="c-fr-01-0008" num="0008"><claim-text>Circuit selon l'une quelconque des revendications 1 à 6, comprenant en outre un registre de signature à plusieurs entrées (42) connecté aux chaînes d'analyse (26).</claim-text></claim><claim id="c-fr-01-0009" num="0009"><claim-text>Circuit selon l'une quelconque des revendications 1 à 8, dans lequel la machine à états finis linéaires (46) et le déphaseur (50) forment un décompresseur, ledit décompresseur présentant une pluralité de canaux d'entrée et une pluralité de sorties, les canaux d'entrée recevant en parallèle les bits des séquences de test compressées.</claim-text></claim><claim id="c-fr-01-0010" num="0010"><claim-text>Circuit selon l'une quelconque des revendications 1 à 9, dans lequel la séquence de test compressée est prévue au moyen de canaux d'entrée connectés à la machine à états finis linéaires (46), et le nombre de canaux d'entrée est inférieur au nombre de chaînes d'analyse (26) auxquelles s'applique la séquence de test décompressée.</claim-text></claim><claim id="c-fr-01-0011" num="0011"><claim-text>Circuit selon l'une quelconque des revendications 1 à 10, dans lequel les bits reçus de la séquence de test compressée, la décompression de la séquence de test compressée et la réception de la séquence décompressée dans les chaînes d'analyse (26) sont effectués de manière synchrone à la même fréquence d'horloge.</claim-text></claim><claim id="c-fr-01-0012" num="0012"><claim-text>Circuit selon l'une quelconque des revendications 1 à 10, dans lequel la séquence de test compressée est fournie à une fréquence d'horloge inférieure, et la séquence de test compressée est décompressée et appliquée de manière synchrone à une fréquence d'horloge supérieure.</claim-text></claim><claim id="c-fr-01-0013" num="0013"><claim-text>Circuit selon l'une quelconque des revendications 1 à 10, dans lequel la<!-- EPO <DP n="28"> --> séquence compressée est fournie et décompressée à une fréquence d'horloge supérieure, et la séquence de test décompressée est appliquée de manière synchrone à une fréquence d'horloge inférieure.</claim-text></claim><claim id="c-fr-01-0014" num="0014"><claim-text>Circuit selon l'une quelconque des revendications 1 à 13, dans lequel la décompression de la séquence de test compressée consiste à générer, pendant une période de temps, un nombre de bits de séquence de test décompressée supérieur au nombre de bits de séquence de test compressée fournie pendant la même période de temps.</claim-text></claim><claim id="c-fr-01-0015" num="0015"><claim-text>Procédé d'application de séquences de test à circuit en cours de test, consistant à :
<claim-text>fournir une séquence de test compressée à une machine à états finis linéaires (46) présentant des portes logiques d'entrée prévues pour combiner logiquement des bits stockés dans la machine à états finis linéaires (46) avec des bits de la séquence de test compressée ;</claim-text>
<claim-text>produire une séquence de bits décompressée à partir d'un déphaseur (50) raccordé à la machine à états finis linéaires (46), le déphaseur (50) étant prévu pour combiner logiquement deux bits ou plus générés par la machine à états finis linéaires (46) afin de produire une séquence de bits décompressée ; et</claim-text>
<claim-text>recevoir la séquence de bits décompressée dans des chaînes d'analyse (26) connectées au déphaseur (50) ;</claim-text>
<claim-text>le procédé étant <b>caractérisé en ce qu'</b>il fournit simultanément et de manière continue des bits de la séquence de test compressée à la machine à états finis linéaires (46) tout en recevant la séquence de bits décompressée dans les chaînes d'analyse.</claim-text></claim-text></claim></claims><drawings mxw-id="PDW16672596" load-source="patent-office"><!-- EPO <DP n="29"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="122" he="175" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="30"> --><figure id="f0002" num="2"><img id="if0002" file="imgf0002.tif" wi="142" he="180" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="31"> --><figure id="f0003" num="3"><img id="if0003" file="imgf0003.tif" wi="142" he="180" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="32"> --><figure id="f0004" num="4A"><img id="if0004" file="imgf0004.tif" wi="154" he="200" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="33"> --><figure id="f0005" num="4B"><img id="if0005" file="imgf0005.tif" wi="154" he="200" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="34"> --><figure id="f0006" num="5"><img id="if0006" file="imgf0006.tif" wi="165" he="191" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="35"> --><figure id="f0007" num="6"><img id="if0007" file="imgf0007.tif" wi="142" he="176" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="36"> --><figure id="f0008" num="7"><img id="if0008" file="imgf0008.tif" wi="165" he="200" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="37"> --><figure id="f0009" num="8A,8B,8C,8D"><img id="if0009" file="imgf0009.tif" wi="165" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="38"> --><figure id="f0010" num="9"><img id="if0010" file="imgf0010.tif" wi="165" he="89" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="39"> --><figure id="f0011" num="10"><img id="if0011" file="imgf0011.tif" wi="114" he="169" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="40"> --><figure id="f0012" num="11"><img id="if0012" file="imgf0012.tif" wi="155" he="175" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="41"> --><figure id="f0013" num="12"><img id="if0013" file="imgf0013.tif" wi="131" he="179" img-content="drawing" img-format="tif"/></figure></drawings><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
