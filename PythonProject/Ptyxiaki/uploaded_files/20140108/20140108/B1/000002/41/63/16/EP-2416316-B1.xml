<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2416316-B1" country="EP" doc-number="2416316" kind="B1" date="20140108" family-id="42828407" file-reference-id="318277" date-produced="20180826" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146588469" ucid="EP-2416316-B1"><document-id><country>EP</country><doc-number>2416316</doc-number><kind>B1</kind><date>20140108</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-10758890-A" is-representative="NO"><document-id mxw-id="PAPP154850661" load-source="docdb" format="epo"><country>EP</country><doc-number>10758890</doc-number><kind>A</kind><date>20100402</date><lang>JA</lang></document-id><document-id mxw-id="PAPP176645721" load-source="docdb" format="original"><country>EP</country><doc-number>10758890.7</doc-number><date>20100402</date></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140549833" ucid="JP-2009091396-A" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>2009091396</doc-number><kind>A</kind><date>20090403</date></document-id></priority-claim><priority-claim mxw-id="PPC140549680" ucid="JP-2009146831-A" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>2009146831</doc-number><kind>A</kind><date>20090619</date></document-id></priority-claim><priority-claim mxw-id="PPC140547821" ucid="JP-2009162238-A" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>2009162238</doc-number><kind>A</kind><date>20090708</date></document-id></priority-claim><priority-claim mxw-id="PPC140557977" ucid="JP-2010004419-A" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>2010004419</doc-number><kind>A</kind><date>20100112</date></document-id></priority-claim><priority-claim mxw-id="PPC140547164" ucid="JP-2010056077-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>2010056077</doc-number><kind>W</kind><date>20100402</date></document-id></priority-claim></priority-claims><dates-of-public-availability><intention-to-grant-date><date>20131118</date></intention-to-grant-date><search-report-dispatch-date><date>20120816</date></search-report-dispatch-date></dates-of-public-availability><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1989325736" load-source="docdb">G10L  19/06        20130101ALI20130619BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1989325737" load-source="docdb">G10L  19/24        20130101AFI20130619BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1989325738" load-source="docdb">G10L  21/038       20130101ALI20130619BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1989325739" load-source="docdb">G10L  21/04        20130101ALI20130619BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1865079865" load-source="docdb" scheme="CPC">G10L  19/26        20130101 LI20161215BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1865079866" load-source="docdb" scheme="CPC">G10L  19/03        20130101 FI20161220BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1865079867" load-source="docdb" scheme="CPC">G10L  19/0208      20130101 LI20161220BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1869731982" load-source="docdb" scheme="CPC">G10L  21/04        20130101 LI20161213BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1869731984" load-source="docdb" scheme="CPC">G10L  19/0212      20130101 LI20161208BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1869731986" load-source="docdb" scheme="CPC">G10L  19/167       20130101 LI20161208BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2044377349" load-source="docdb" scheme="CPC">G10L  21/038       20130101 LI20150625BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2044378535" load-source="docdb" scheme="CPC">G10L  19/24        20130101 LI20150625BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2044383340" load-source="docdb" scheme="CPC">G10L  19/06        20130101 LI20150625BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132370040" lang="DE" load-source="patent-office">SPRACHCODIERVORRICHTUNG, SPRACHDECODIERVORRICHTUNG, SPRACHCODIERVERFAHREN, SPRACHDECODIERVERFAHREN, SPRACHCODIERPROGRAMM UND SPRACHDECODIERPROGRAMM</invention-title><invention-title mxw-id="PT132370041" lang="EN" load-source="patent-office">SPEECH ENCODING DEVICE, SPEECH DECODING DEVICE, SPEECH ENCODING METHOD, SPEECH DECODING METHOD, SPEECH ENCODING PROGRAM, AND SPEECH DECODING PROGRAM</invention-title><invention-title mxw-id="PT132370042" lang="FR" load-source="patent-office">DISPOSITIF DE CODAGE DE PAROLE, DISPOSITIF DE DÉCODAGE DE PAROLE, PROCÉDÉ DE CODAGE DE PAROLE, PROCÉDÉ DE DÉCODAGE DE PAROLE, PROGRAMME DE CODAGE DE PAROLE ET PROGRAMME DE DÉCODAGE DE PAROLE</invention-title></technical-data><related-documents><relation type="division-into"><child-doc ucid="EP-12171597.3"><document-id load-source="patent-office" format="epo"><country>EP</country><doc-number>12171597.3</doc-number><date>20120612</date></document-id></child-doc><parent-doc ucid="EP-10758890-A"><document-id load-source="patent-office" format="epo"><country>EP</country><doc-number>10758890</doc-number><kind>A</kind><date>20100402</date></document-id><parent-grant-document ucid="EP-2416316-B1"><document-id><country>EP</country><doc-number>2416316</doc-number><kind>B1</kind><date>20140108</date></document-id></parent-grant-document></parent-doc></relation><relation type="division-into"><child-doc ucid="EP-12171603.9"><document-id load-source="patent-office" format="epo"><country>EP</country><doc-number>12171603.9</doc-number><date>20120612</date></document-id></child-doc><parent-doc ucid="EP-10758890-A"><document-id load-source="patent-office" format="epo"><country>EP</country><doc-number>10758890</doc-number><kind>A</kind><date>20100402</date></document-id><parent-grant-document ucid="EP-2416316-B1"><document-id><country>EP</country><doc-number>2416316</doc-number><kind>B1</kind><date>20140108</date></document-id></parent-grant-document></parent-doc></relation><relation type="division-into"><child-doc ucid="EP-12171612.0"><document-id load-source="patent-office" format="epo"><country>EP</country><doc-number>12171612.0</doc-number><date>20120612</date></document-id></child-doc><parent-doc ucid="EP-10758890-A"><document-id load-source="patent-office" format="epo"><country>EP</country><doc-number>10758890</doc-number><kind>A</kind><date>20100402</date></document-id><parent-grant-document ucid="EP-2416316-B1"><document-id><country>EP</country><doc-number>2416316</doc-number><kind>B1</kind><date>20140108</date></document-id></parent-grant-document></parent-doc></relation><relation type="division-into"><child-doc ucid="EP-12171613.8"><document-id load-source="patent-office" format="epo"><country>EP</country><doc-number>12171613.8</doc-number><date>20120612</date></document-id></child-doc><parent-doc ucid="EP-10758890-A"><document-id load-source="patent-office" format="epo"><country>EP</country><doc-number>10758890</doc-number><kind>A</kind><date>20100402</date></document-id><parent-grant-document ucid="EP-2416316-B1"><document-id><country>EP</country><doc-number>2416316</doc-number><kind>B1</kind><date>20140108</date></document-id></parent-grant-document></parent-doc></relation></related-documents><parties><applicants><applicant mxw-id="PPAR919509465" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>NTT DOCOMO INC</last-name><address><country>JP</country></address></addressbook></applicant><applicant mxw-id="PPAR919512652" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>NTT DOCOMO, INC.</last-name></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR919528686" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>TSUJINO KOSUKE</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919528527" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>TSUJINO, KOSUKE</last-name></addressbook></inventor><inventor mxw-id="PPAR919023261" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>TSUJINO, KOSUKE</last-name><address><street>c/o Intellectual Property Department, NTT DoCoMo, Inc., SANNO PARK TOWER, 11-1, Nagatacho 2-chome, Chiyoda-ku</street><city>Tokyo 100-6150</city><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919545353" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>KIKUIRI KEI</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919512817" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>KIKUIRI, KEI</last-name></addressbook></inventor><inventor mxw-id="PPAR919023259" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>KIKUIRI, KEI</last-name><address><street>c/o Intellectual Property Department, NTT DOCOMO INC., Sanno Park Tower, 11-1, Nagatacho 2-chome, Chiyoda-ku</street><city>Tokyo 100-6150</city><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919523715" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>NAKA NOBUHIKO</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919505012" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>NAKA, NOBUHIKO</last-name></addressbook></inventor><inventor mxw-id="PPAR919023258" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>NAKA, NOBUHIKO</last-name><address><street>c/o Intellectual Property Department, NTT DOCOMO INC., Sanno Park Tower, 11-1, Nagatacho 2-chome, Chiyoda-ku</street><city>Tokyo 100-6150</city><country>JP</country></address></addressbook></inventor></inventors><assignees><assignee mxw-id="PPAR919023260" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>NTT DoCoMo, Inc.</last-name><iid>100954298</iid><address><street>11-1, Nagatacho 2-chome,</street><city>Chiyoda-ku Tokyo 100-6150</city><country>JP</country></address></addressbook></assignee></assignees><agents><agent mxw-id="PPAR919023262" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Viering, Jentschura &amp; Partner</last-name><iid>101265175</iid><address><street>Am Brauhaus 8</street><city>01099 Dresden</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="JP-2010056077-W"><document-id><country>JP</country><doc-number>2010056077</doc-number><kind>W</kind><date>20100402</date><lang>JA</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2010114123-A1"><document-id><country>WO</country><doc-number>2010114123</doc-number><kind>A1</kind><date>20101007</date><lang>JA</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS549785908" load-source="docdb">AT</country><country mxw-id="DS549803059" load-source="docdb">BE</country><country mxw-id="DS549880129" load-source="docdb">BG</country><country mxw-id="DS549893256" load-source="docdb">CH</country><country mxw-id="DS549785855" load-source="docdb">CY</country><country mxw-id="DS549785921" load-source="docdb">CZ</country><country mxw-id="DS549803064" load-source="docdb">DE</country><country mxw-id="DS549785856" load-source="docdb">DK</country><country mxw-id="DS549785865" load-source="docdb">EE</country><country mxw-id="DS549875615" load-source="docdb">ES</country><country mxw-id="DS549880134" load-source="docdb">FI</country><country mxw-id="DS549880135" load-source="docdb">FR</country><country mxw-id="DS549803065" load-source="docdb">GB</country><country mxw-id="DS549785866" load-source="docdb">GR</country><country mxw-id="DS549803066" load-source="docdb">HR</country><country mxw-id="DS549785922" load-source="docdb">HU</country><country mxw-id="DS549893329" load-source="docdb">IE</country><country mxw-id="DS549803067" load-source="docdb">IS</country><country mxw-id="DS549880136" load-source="docdb">IT</country><country mxw-id="DS549785867" load-source="docdb">LI</country><country mxw-id="DS549924164" load-source="docdb">LT</country><country mxw-id="DS549785923" load-source="docdb">LU</country><country mxw-id="DS549924165" load-source="docdb">LV</country><country mxw-id="DS549924166" load-source="docdb">MC</country><country mxw-id="DS549870529" load-source="docdb">MK</country><country mxw-id="DS549870542" load-source="docdb">MT</country><country mxw-id="DS549875616" load-source="docdb">NL</country><country mxw-id="DS549880137" load-source="docdb">NO</country><country mxw-id="DS549870543" load-source="docdb">PL</country><country mxw-id="DS549893330" load-source="docdb">PT</country><country mxw-id="DS549875617" load-source="docdb">RO</country><country mxw-id="DS549875622" load-source="docdb">SE</country><country mxw-id="DS549893331" load-source="docdb">SI</country><country mxw-id="DS549880142" load-source="docdb">SK</country><country mxw-id="DS549870544" load-source="docdb">SM</country><country mxw-id="DS549785868" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data></bibliographic-data><description mxw-id="PDES63960890" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001"><b>Technical Field</b></heading><p id="p0001" num="0001">The present invention relates to a speech encoding device, a speech decoding device, a speech encoding method, a speech decoding method, a speech encoding program, and a speech decoding program.</p><heading id="h0002"><b>Background Art</b></heading><p id="p0002" num="0002">Speech and audio coding techniques for compressing the amount of data of signals into a few tenths by removing information not required for human perception by using psychoacoustics are extremely important in transmitting and storing signals. Examples of widely used perceptual audio coding techniques include "MPEG4 AAC" standardized by "ISO/IEC MPEG".</p><p id="p0003" num="0003">A bandwidth extension technique for generating high frequency components by using low frequency components of speech has been widely used in recent years as a method for improving the performance of speech encoding and obtaining a high speech quality at a low bit rate. Typical examples of the bandwidth extension technique include SBR (Spectral Band Replication) technique used in "MPEG4 AAC". In SBR, a high frequency component is generated by converting a signal into a spectral region by using a QMF (Quadrature Mirror Filter) filterbank and copying spectral coefficients from a low frequency band<!-- EPO <DP n="2"> --> to a high frequency band with respect to the transformed signal, and the high frequency component is adjusted by adjusting the spectral envelope and tonality of the copied coefficients. Because a speech encoding method using the bandwidth extension technique can reproduce the high frequency components of a signal by using only a small amount of supplementary information, it is effective in reducing the bit rate of speech encoding see e.g. <nplcit id="ncit0001" npl-type="s"><text>S. Meltzer and G. Maser., "MPEG-4 HE-AAC v2-audio coding for today's digital media world", EBU Technical Review, Jan. 2006</text></nplcit>.</p><p id="p0004" num="0004">In the bandwidth extension technique in the frequency domain represented by SBR, the spectral envelope and tonality of the spectral coefficients represented in the frequency domain are adjusted, by adjusting a gain for the spectral coefficients, performing linear prediction inverse filtering in a temporal direction, and superimposing noise on the spectral coeffcient. As a result of this adjustment process, upon encoding a signal having a large variation in temporal envelope such as a speech signal, hand-clapping, or castanets, a reverberation noise called a pre-echo or a post-echo may be perceived in the decoded signal. This problem is caused because the temporal envelope of the high frequency component is transformed during the adjustment process, and in many cases, the temporal envelope is smoother after the adjustment process than before the adjustment process. The temporal envelope of the high frequency component after the adjustment process does not match with the temporal envelope of the high frequency component of an original signal before being encoded, thereby causing the pre-echo and post-echo.</p><p id="p0005" num="0005">A problem similar to that of the pre-echo and post-echo also occurs in multi-channel audio coding using a parametric process<!-- EPO <DP n="3"> --> represented by "MPEG Surround" and Parametric Stereo. A decoder used in multi-channel audio coding includes means for performing decorrelation on a decoded signal using a reverberation filter. However, the temporal envelope of the signal is transformed during the decorrelation, thereby causing degradation of a reproduction signal similar to that of the pre-echo and post-echo. Solutions for the problem include a TES (Temporal Envelope Shaping) technique (Patent Literature 1). In the TES technique, a linear prediction analysis is performed in a frequency direction on a signal represented in a QMF domain on which decorrelation has not yet been performed to obtain linear prediction coefficients, and, using the linear prediction coefficients, linear prediction synthesis filtering is performed in the frequency direction on the signal on which decorrelation has been performed. This process allows the TES technique to extract the temporal envelope of a signal on which decorrelation has not yet been performed, and in accordance with the exacted temporal envelope, adjust the temporal envelope of the signal on which decorrelation has been performed. Because the signal on which decorrelation has not yet been performed has a less distorted temporal envelope, the temporal envelope of the signal on which decorrelation has been performed is adjusted to a less distorted shape, thereby obtaining a reproduction signal in which the pre-echo and post-echo is improved.</p><heading id="h0003"><b>Citation List</b></heading><heading id="h0004"><b>Patent Literature</b></heading><p id="p0006" num="0006">Patent Literature 1: United States Patent Application Publication No. <patcit id="pcit0001" dnum="US20060239473A"><text>2006/0239473</text></patcit><!-- EPO <DP n="4"> --></p><heading id="h0005"><b>Summary of Invention</b></heading><heading id="h0006"><b>Technical Problem</b></heading><p id="p0007" num="0007">The TES technique described above is a technique utilizing the fact that a signal on which decorrelation has not yet been performed has a less distorted temporal envelope. However, in an SBR decoder, the high frequency component of a signal is copied from the low frequency component of the signal. Accordingly, it is not possible to obtain a less distorted temporal envelope with respect to the high frequency component. One of the solutions for this problem is a method of analyzing the high frequency component of an input signal in an SBR encoder, quantizing the linear prediction coefficients obtained as a result of the analysis, and multiplexing them into a bit stream to be transmitted. This method allows the SBR decoder to obtain linear prediction coefficients including information with less distorted temporal envelope of the high frequency component. However, in this case, a large amount of information is required to transmit the quantized linear prediction coefficients, thereby significantly increasing the bit rate of the whole encoded bit stream. Thus, the present invention is intended to reduce the occurrence of pre-echo and post-echo and improve the subjective quality of the decoded signal, without significantly increasing the bit rate in the bandwidth extension technique in the frequency domain represented by SBR.</p><heading id="h0007"><b>Solution to Problem</b></heading><p id="p0008" num="0008">A speech encoding device of a reference example is a speech encoding device for encoding a speech signal and including: core encoding means for encoding a low frequency component of the speech<!-- EPO <DP n="5"> --> signal; temporal envelope supplementary information calculating means for calculating temporal envelope supplementary information to obtain an approximation of a temporal envelope of a high frequency component of the speech signal by using a temporal envelope of the low frequency component of the speech signal; and bit stream multiplexing means for generating a bit stream in which at least the low frequency component encoded by the core encoding means and the temporal envelope supplementary information calculated by the temporal envelope supplementary information calculating means are multiplexed.</p><p id="p0009" num="0009">In the speech encoding device of the reference example, the temporal envelope supplementary information preferably represents a parameter indicating a sharpness of variation in the temporal envelope of the high frequency component of the speech signal in a predetermined analysis interval.</p><p id="p0010" num="0010">It is preferable that the speech encoding device of the reference example further includes frequency transform means for transforming the speech signal into a frequency domain, and the temporal envelope supplementary information calculating means calculate the temporal envelope supplementary information based on high frequency linear prediction coefficients obtained by performing linear prediction analysis in a frequency direction on coefficients in high frequencies of the speech signal transformed into the frequency domain by the frequency transform means.</p><p id="p0011" num="0011">In the speech encoding device of the reference example, the temporal envelope supplementary information calculating means preferably performs linear prediction analysis in a frequency direction<!-- EPO <DP n="6"> --> on a coefficient in low frequencies of the speech signal transformed into the frequency domain by the frequency transform means to obtain low frequency linear prediction coefficients, and calculates the temporal envelope supplementary information based on the low frequency linear prediction coefficients and the high frequency linear prediction coefficients.</p><p id="p0012" num="0012">In the speech encoding device of the reference example, the temporal envelope supplementary information calculating means preferably obtains a prediction gain from each of the low frequency linear prediction coefficients and the high frequency linear prediction coefficients, and calculates the temporal envelope supplementary information based on magnitudes of the two prediction gains.</p><p id="p0013" num="0013">In the speech encoding device of the reference example, the temporal envelope supplementary information calculating means preferably separates the high frequency component from the speech signal, obtains temporal envelope information represented in a time domain from the high frequency component, and calculates the temporal envelope supplementary information based on magnitude of temporal variation of the temporal envelope information.</p><p id="p0014" num="0014">In the speech encoding device of the reference example, the temporal envelope supplementary information preferably includes differential information for obtaining high frequency linear prediction coefficients by using low frequency linear prediction coefficients obtained by performing linear prediction analysis in a frequency direction on the low frequency component of the speech signal.</p><p id="p0015" num="0015">It is preferable that the speech encoding device of the<!-- EPO <DP n="7"> --> reference example further includes frequency transform means for converting the speech signal into a frequency domain, and the temporal envelope supplementary information calculating means perform linear prediction analysis in a frequency direction on each of the low frequency component and the high frequency component of the speech signal transformed into the frequency domain by the frequency transform means to obtain low frequency linear prediction coefficients and high frequency linear prediction coeffcients, and obtain the differential information by obtaining a difference between the low frequency linear prediction coefficients and the high frequency linear prediction coefficients.</p><p id="p0016" num="0016">In the speech encoding device of the reference example, the differential information preferably represents a difference between linear prediction coefficients in at least any domain of LSP (Linear Spectrum Pair), ISP (Immittance Spectrum Pair), LSF (Linear Spectrum Frequency), ISF (Immittance Spectrum Frequency), and PARCOR coefficient.</p><p id="p0017" num="0017">A speech encoding device of the reference example is a speech encoding device for encoding a speech signal and including: core encoding means for encoding a low frequency component of the speech signal; frequency transform means for transforming the speech signal to a frequency domain; linear prediction analysis means for performing linear prediction analysis in a frequency direction on coeffcients in high frequencies of the speech signal transformed into the frequency domain by the frequency transform means to obtain high frequency linear prediction coefficients; prediction coeffcient decimation means for<!-- EPO <DP n="8"> --> decimating the high frequency linear prediction coefficients obtained by the linear prediction analysis means in a temporal direction; prediction coefficient quantizing means for quantizing the high frequency linear prediction coefficients decimated by the prediction coefficient decimation means; and bit stream multiplexing means for generating a bit stream in which at least the low frequency component encoded by the core encoding means and the high frequency linear prediction coefficients quantized by the prediction coefficient quantizing means are multiplexed.</p><p id="p0018" num="0018">A speech decoding device of the reference example is a speech decoding device for decoding an encoded speech signal and including: bit stream separating means for separating a bit stream received from outside the speech decoding device that includes the encoded speech signal into an encoded bit stream and temporal envelope supplementary information; core decoding means for decoding the encoded bit stream separated by the bit stream separating means to obtain a low frequency component; frequency transform means for transforming the low frequency component obtained by the core decoding means to a frequency domain; high frequency generating means for generating a high frequency component by copying the low frequency component transformed into the frequency domain by the frequency transform means from low frequency bands to high frequency bands; low frequency temporal envelope calculation means for calculating the low frequency component transformed into the frequency domain by the frequency transform means to obtain temporal envelope information; temporal envelope adjusting means for adjusting the temporal envelope<!-- EPO <DP n="9"> --> information obtained by the low frequency temporal envelope analysis means by using the temporal envelope supplementary information, and temporal envelope shaping means for shaping a temporal envelope of the high frequency component generated by the high frequency generating means by using the temporal envelope information adjusted by the temporal envelope adjusting means.</p><p id="p0019" num="0019">It is preferable that the speech decoding device of the reference example further include high frequency adjusting means for adjusting the high frequency component, and the frequency transform means may be a 64-division QMF filterbank with a real or complex coefficient, and the frequency transform means, the high frequency generating means, and the high frequency adjusting means operate based on a Spectral Band Replication (SBR) decoder for "MPEG4 AAC" defined in "ISO/IEC 14496-3".</p><p id="p0020" num="0020">In the speech decoding device of the reference example, it is preferable that the low frequency temporal envelope analysis means perform linear prediction analysis in a frequency direction on the low frequency component transformed into the frequency domain by the frequency transform means to obtain low frequency linear prediction coefficients, the temporal envelope adjusting means may adjust the low frequency linear prediction coefficients by using the temporal envelope supplementary information, and the temporal envelope shaping means may perform linear prediction filtering in a frequency direction on the high frequency component in the frequency domain generated by the high frequency generating means, by using linear prediction coefficients adjusted by the temporal envelope adjusting means, to shape a temporal<!-- EPO <DP n="10"> --> envelope of a speech <b>signal.</b></p><p id="p0021" num="0021">In the speech decoding device of the reference example, it is preferable that the low frequency temporal envelope analysis means obtain temporal envelope information of a speech signal by obtaining power of each time slot of the low frequency component transformed into the frequency domain by the frequency transform means, the temporal envelope adjusting means adjust the temporal envelope information by using the temporal envelope supplementary information, and the temporal envelope shaping means superimpose the adjusted temporal envelope information on the high frequency component in the frequency domain generated by the high frequency generating means to shape a temporal envelope of a high frequency component.</p><p id="p0022" num="0022">In the speech decoding device of the reference example, it is preferable that the low frequency temporal envelope analysis means obtain temporal envelope information of a speech signal by obtaining power of each QMF subband sample of the low frequency component transformed into the frequency domain by the frequency transform means, the temporal envelope adjusting means adjust the temporal envelope information by using the temporal envelope supplementary information, and the temporal envelope shaping means shape a temporal envelope of a high frequency component by multiplying the high frequency component in the frequency domain generated by the high frequency generating means by the adjusted temporal envelope information.</p><p id="p0023" num="0023">In the speech decoding device of the reference example, the temporal envelope supplementary information preferably represents a<!-- EPO <DP n="11"> --> filter strength parameter used for adjusting strength of linear prediction coefficients.</p><p id="p0024" num="0024">In the speech decoding device of the reference example, the temporal envelope supplementary information preferably represents a parameter indicating magnitude of temporal variation of the temporal envelope information.</p><p id="p0025" num="0025">In the speech decoding device of the reference example, the temporal envelope supplementary information preferably includes differential information of linear prediction coefficients with respect to the low frequency linear prediction coefficients.</p><p id="p0026" num="0026">In the speech decoding device of the reference example, the differential information preferably represents a difference between linear prediction coefficients in at least any domain of LSP (Linear Spectrum Pair), ISP (Immittance Spectrum Pair), LSF (Linear Spectrum Frequency), ISF (Immittance Spectrum Frequency), and PARCOR coefficient.</p><p id="p0027" num="0027">In the speech decoding device of the reference example, it is preferable that the low frequency temporal envelope analysis means perform linear prediction analysis in a frequency direction on the low frequency component transformed into the frequency domain by the frequency transform means to obtain the low frequency linear prediction coefficients, and obtain power of each time slot of the low frequency component in the frequency domain to obtain temporal envelope information of a speech signal, the temporal envelope adjusting means adjust the low frequency linear prediction coefficients by using the temporal envelope supplementary information and adjust the temporal<!-- EPO <DP n="12"> --> envelope information by using the temporal envelope supplementary information, and the temporal envelope shaping means perform linear prediction filtering in a frequency direction on the high frequency component in the frequency domain generated by the high frequency generating means by using the linear prediction coefficients adjusted by the temporal envelope adjusting means to shape a temporal envelope of a speech signal, and shape a temporal envelope of the high frequency component by convolving the high frequency component in the frequency domain with the temporal envelope information adjusted by the temporal envelope adjusting means.</p><p id="p0028" num="0028">In the speech decoding device of the reference example, it is preferable that the low frequency temporal envelope analysis means perform linear prediction analysis in a frequency direction on the low frequency component transformed into the frequency domain by the frequency transform means to obtain the low frequency linear prediction coefficients, and obtain temporal envelope information of a speech signal by obtaining power of each QMF subband sample of the low frequency component in the frequency domain, the temporal envelope adjusting means adjust the low frequency linear prediction coefficient by using the temporal envelope supplementary information and adjust the temporal envelope information by using the temporal envelope supplementary information, and the temporal envelope shaping means perform linear prediction filtering in a frequency direction on a high frequency component in the frequency domain generated by the high frequency generating means by using linear prediction coefficients adjusted by the temporal envelope adjusting means to shape a temporal<!-- EPO <DP n="13"> --> envelope of a speech signal, and shape a temporal envelope of the high frequency component by multiplying the high frequency component in the frequency domain by the temporal envelope information adjusted by the temporal envelope adjusting means.</p><p id="p0029" num="0029">In the speech decoding device of the reference example, the temporal envelope supplementary information preferably represents a parameter indicating both filter strength of linear prediction coefficients and magnitude of temporal variation of the temporal envelope information.</p><p id="p0030" num="0030">A speech decoding device of the reference example is a speech decoding device for decoding an encoded speech signal and including: bit stream separating means for separating a bit stream received from outside the speech decoding device that includes the encoded speech signal into an encoded bit stream and linear prediction coefficients, linear prediction coefficient interpolation/extrapolation means for interpolating or extrapolating the linear prediction coefficients in a temporal direction, and temporal envelope shaping means for performing linear prediction filtering in a frequency direction on a high frequency component represented in a frequency domain by using linear prediction coefficients interpolated or extrapolated by the linear prediction coeffcients interpolation/extrapolation means to shape a temporal envelope of a speech signal.</p><p id="p0031" num="0031">A speech encoding method of the reference example is a speech encoding method using a speech encoding device for encoding a speech signal and including: a core encoding step in which the speech encoding device encodes a low frequency component of the speech signal; a<!-- EPO <DP n="14"> --> temporal envelope supplementary information calculating step in which the speech encoding device calculates temporal envelope supplementary information for obtaining an approximation of a temporal envelope of a high frequency component of the speech signal by using a temporal envelope of a low frequency component of the speech signal; and a bit stream multiplexing step in which the speech encoding device generates a bit stream in which at least the low frequency component encoded in the core encoding step and the temporal envelope supplementary information calculated in the temporal envelope supplementary information calculating step are multiplexed.</p><p id="p0032" num="0032">A speech encoding method of the reference example is a speech encoding method using a speech encoding device for encoding a speech signal and including: a core encoding step in which the speech encoding device encodes a low frequency component of the speech signal; a frequency transform step in which the speech encoding device transforms the speech signal into a frequency domain; a linear prediction analysis step in which the speech encoding device obtains high frequency linear prediction coefficients by performing linear prediction analysis in a frequency direction on coefficients in high frequencies of the speech signal transformed into the frequency domain in the frequency transform step; a prediction coefficient decimation step in which the speech encoding device decimates the high frequency linear prediction coefficients obtained in the linear prediction analysis step in a temporal direction; a prediction coefficient quantizing step in which the speech encoding device quantizes the high frequency linear prediction coefficients decimated in the prediction coefficient<!-- EPO <DP n="15"> --> decimation means step; and a bit stream multiplexing step in which the speech encoding device generates a bit stream in which at least the low frequency component encoded in the core encoding step and the high frequency linear prediction coefficients quantized in the prediction coefficient quantizing step are multiplexed.</p><p id="p0033" num="0033">A speech decoding method of the reference example is a speech decoding method using a speech decoding device for decoding an encoded speech signal and including: a bit stream separating step in which the speech decoding device separates a bit stream received from outside the speech decoding device that includes the encoded speech signal into an encoded bit stream and temporal envelope supplementary information; a core decoding step in which the speech decoding device obtains a low frequency component by decoding the encoded bit stream separated in the bit stream separating step; a frequency transform step in which the speech decoding device transforms the low frequency component obtained in the core decoding step into a frequency domain; a high frequency generating step in which the speech decoding device generates a high frequency component by copying the low frequency component transformed into the frequency domain in the frequency transform step from a low frequency band to a high frequency band; a low frequency temporal envelope analysis step in which the speech decoding device obtains temporal envelope information by analyzing the low frequency component transformed into the frequency domain in the frequency transform step; a temporal envelope adjusting step in which the speech decoding device adjusts the temporal envelope information obtained in the low frequency temporal envelope analysis<!-- EPO <DP n="16"> --> step by using the temporal envelope supplementary information; and a temporal envelope shaping step in which the speech decoding device shapes a temporal envelope of the high frequency component generated in the high frequency generating step by using the temporal envelope information adjusted in the temporal envelope adjusting step.</p><p id="p0034" num="0034">A speech decoding method of the reference example is a speech decoding method using a speech decoding device for decoding an encoded speech signal and including: a bit stream separating step in which the speech decoding device separates a bit stream received from outside the speech decoding device that includes the encoded speech signal into an encoded bit stream and linear prediction coefficients; a linear prediction coefficient interpolating/extrapolating step in which the speech decoding device interpolates or extrapolates the linear prediction coefficients in a temporal direction; and a temporal envelope shaping step in which the speech decoding device shapes a temporal envelope of a speech signal by performing linear prediction filtering in a frequency direction on a high frequency component represented in a frequency domain by using the linear prediction coefficients interpolated or extrapolated in the linear prediction coefficient interpolating/extrapolating step.</p><p id="p0035" num="0035">A speech encoding program of the reference example for encoding a speech signal causes a computer device to function as: core encoding means for encoding a low frequency component of the speech signal; temporal envelope supplementary information calculating means for calculating temporal envelope supplementary information to obtain an approximation of a temporal envelope of a high frequency<!-- EPO <DP n="17"> --> component of the speech signal by using a temporal envelope of the low frequency component of the speech signal; and bit stream multiplexing means for generating a bit stream in which at least the low frequency component encoded by the core encoding means and the temporal envelope supplementary information calculated by the temporal envelope supplementary information calculating means are multiplexed.</p><p id="p0036" num="0036">A speech encoding program of the reference example for encoding a speech signal causes a computer device to function as: core encoding means for encoding a low frequency component of the speech signal; frequency transform means for converting the speech signal into a frequency domain; linear prediction analysis means for performing linear prediction analysis in a frequency direction on coefficients in high frequencies of the speech signal transformed into the frequency domain by the frequency transform means to obtain high frequency linear prediction coefficients; prediction coefficient decimation means for decimating the high frequency linear prediction coefficients obtained by the linear prediction analysis means in a temporal direction; prediction coefficient quantizing means for quantizing the high frequency linear prediction coefficients decimated by the prediction coefficient decimation means; and bit stream multiplexing means for generating a bit stream in which at least the low frequency component encoded by the core encoding means and the high frequency linear prediction coefficients quantized by the prediction coeffcient quantizing means are multiplexed.</p><p id="p0037" num="0037">A speech decoding program of the reference example for decoding an encoded speech signal causes a computer device to<!-- EPO <DP n="18"> --> function as: bit stream separating means for separating a bit stream received from outside the speech decoding program that includes the encoded speech signal into an encoded bit stream and temporal envelope supplementary information; core decoding means for decoding the encoded bit stream separated by the bit stream separating means to obtain a low frequency component; frequency transform means for transforming the low frequency component obtained by the core decoding means into a frequency domain; high frequency generating means for generating a high frequency component by copying the low frequency component transformed into the frequency domain by the frequency transform means from a low frequency band to a high frequency band; low frequency temporal envelope analysis means for analysing the low frequency component transformed into the frequency domain by the frequency transform means to obtain temporal envelope information; temporal envelope adjusting means for adjusting the temporal envelope information obtained by the low frequency temporal envelope analysis means by using the temporal envelope supplementary information; and temporal envelope shaping means for shaping a temporal envelope of the high frequency component generated by the high frequency generating means by using the temporal envelope information adjusted by the temporal envelope adjusting means.</p><p id="p0038" num="0038">A speech decoding program of the reference example for decoding an encoded speech signal causes a computer device to function as: bit steam separating means for separating a bit stream that includes the encoded speech signal into an encoded bit stream and linear prediction coefficients. The bit stream received from outside the<!-- EPO <DP n="19"> --> speech decoding program. In addition, the speech decoding program further causing a computer device to function as; linear prediction coefficient interpolation/extrapolation means for interpolating or extrapolating the linear prediction coefficients in a temporal direction; and temporal envelope shaping means for performing linear prediction filtering in a frequency direction on a high frequency component represented in a frequency domain by using linear prediction coefficients interpolated or extrapolated by the linear prediction coefficient interpolation/extrapolation means to shape a temporal envelope of a speech signal.</p><p id="p0039" num="0039">In the speech decoding device of the reference example, the temporal envelope shaping means, after performing the linear prediction filtering in the frequency direction on the high frequency component in . the frequency domain generated by the high frequency generating means, preferably adjusts power of a high frequency component obtained as a result of the linear prediction filtering to a value equivalent to that before the linear prediction filtering.</p><p id="p0040" num="0040">In the speech decoding device of the reference example, the temporal envelope shaping means, after performing the linear prediction filtering in the frequency direction on the high frequency component in the frequency domain generated by the high frequency generating means, preferably adjusts power in a certain frequency range of a high frequency component obtained as a result of the linear prediction filtering to a value equivalent to that before the linear prediction filtering.</p><p id="p0041" num="0041">In the speech decoding device of the reference example, the<!-- EPO <DP n="20"> --> temporal envelope supplementary information is preferably a ratio of a minimum value to an average value of the adjusted temporal envelope information.</p><p id="p0042" num="0042">In the speech decoding device of the reference example, the temporal envelope shaping means, after controlling a gain of the adjusted temporal envelope so that power of the high frequency component in the frequency domain in an SBR envelope time segment is equivalent before and after shaping of the temporal envelope, preferably shape a temporal envelope of the high frequency component by multiplying the temporal envelope whose gain is controlled by the high frequency component in the frequency domain.</p><p id="p0043" num="0043">In the speech decoding device of the reference example, the low frequency temporal envelope analysis means preferably obtains power of each QMF subband sample of the low frequency component transformed to the frequency domain by the frequency transform means, and obtains temporal envelope information represented as a gain coefficient to be multiplied by each of the QMF subband samples, by normalizing the power of each of the QMF subband samples by using average power in an SBR envelope time segment.</p><p id="p0044" num="0044">A speech decoding device of the present invention is a speech decoding device for decoding an encoded speech signal and including: core decoding means for obtaining a low frequency component by decoding a bit stream received from outside the decoding device that includes the encoded speech signal; frequency transform means for transforming the low frequency component obtained by the core decoding means into a frequency domain; high frequency generating<!-- EPO <DP n="21"> --> means for generating a high frequency component by copying the low frequency component transformed into the frequency domain by the frequency transform means from a low frequency band to a high frequency band; low frequency temporal envelope analysis means for analyzing the low frequency component transformed into the frequency domain by the frequency transform means to obtain temporal envelope information; temporal envelope supplementary information generating means for analyzing the bit stream to generate temporal envelope supplementary information; temporal envelope adjusting means for adjusting the temporal envelope information obtained by the low frequency temporal envelope analysis means by using the temporal envelope supplementary information; and temporal envelope shaping means for shaping a temporal envelope of the high frequency component generated by the high frequency generating means by using the temporal envelope information adjusted by the temporal envelope adjusting means.</p><p id="p0045" num="0045">It is preferable that the speech decoding device of the reference example include primary high frequency adjusting means and secondary high frequency adjusting means, both corresponding to the high frequency adjusting means, the primary high frequency adjusting means may execute a process including a part of a process corresponding to the high frequency adjusting means, the temporal envelope shaping means may shape a temporal envelope of an output signal of the primary high frequency adjusting means, the secondary high frequency adjusting means may execute a process not executed by the primary high frequency adjusting means among processes<!-- EPO <DP n="22"> --> corresponding to the high frequency adjusting means on an output signal of the temporal envelope shaping means, and the secondary high frequency adjusting means may be an addition process of a sine wave during SBR decoding.</p><heading id="h0008"><b>Advantageous Effects of Invention</b></heading><p id="p0046" num="0046">According to the present invention, the occurrence of pre-echo and post-echo can be reduced and the subjective quality of a decoded signal can be improved without significantly increasing the bit rate in the bandwidth extension technique in the frequency domain represented by SBR.</p><heading id="h0009"><b>Brief Description of Drawings</b></heading><p id="p0047" num="0047"><ul><li><figref idrefs="f0001">FIG. 1</figref> is a diagram illustrating a speech encoding device according to a first reference example;</li><li><figref idrefs="f0002">FIG. 2</figref> is a flowchart to describe an operation of the speech encoding device according to the first reference example;</li><li><figref idrefs="f0003">FIG 3</figref> is a diagram illustrating a speech decoding device according to the first reference example;</li><li><figref idrefs="f0004">FIG 4</figref> is a flowchart to describe an operation of the speech decoding device according to the first reference example;</li><li><figref idrefs="f0005">FIG 5</figref> is a diagram illustrating a speech encoding device according to a first modification of the first reference example;</li><li><figref idrefs="f0006">FIG 6</figref> is a diagram illustrating a speech encoding device according to a second reference example;</li><li><figref idrefs="f0007">FIG 7</figref> is a flowchart to describe an operation of the speech encoding device according to the second reference example;</li><li><figref idrefs="f0008">FIG 8</figref> is a diagram illustrating a speech decoding device<!-- EPO <DP n="23"> --> according to the second reference example;</li><li><figref idrefs="f0009">FIG 9</figref> is a flowchart to describe an operation of the speech decoding device according to the second reference example;</li><li><figref idrefs="f0010">FIG. 10</figref> is a diagram illustrating a speech encoding device according to a third reference example;</li><li><figref idrefs="f0011">FIG. 11</figref> is a flowchart to describe an operation of the speech encoding device according to the third reference example;</li><li><figref idrefs="f0012">FIG 12</figref> is a diagram illustrating a speech decoding device according to the third reference example;</li><li><figref idrefs="f0013">FIG. 13</figref> is a flowchart to describe an operation of the speech decoding device according to the third reference example;</li><li><figref idrefs="f0014">FIG 14</figref> is a diagram illustrating a speech decoding device according to a first embodiment;</li><li><figref idrefs="f0015">FIG 15</figref> is a diagram illustrating a speech decoding device according to a modification of the first embodiment;</li><li><figref idrefs="f0016">FIG. 16</figref> is a diagram illustrating a speech decoding device according to another modification of the first embodiment;</li><li><figref idrefs="f0017">FIG. 17</figref> is a flowchart to describe an operation of the speech decoding device according to the other modification of the first embodiment;</li><li><figref idrefs="f0018">FIG. 18</figref> is a diagram illustrating a speech decoding device according to another modification of the first reference example;</li><li><figref idrefs="f0019">FIG. 19</figref> is a flowchart to describe an operation of the speech decoding device according to the other modification of the first reference example;</li><li><figref idrefs="f0020">FIG. 20</figref> is a diagram illustrating a speech decoding device<!-- EPO <DP n="24"> --> according to another modification of the first reference example;</li><li><figref idrefs="f0021">FIG 21</figref> is a flowchart to describe an operation of the speech decoding device according to the other modification of the first reference example;</li><li><figref idrefs="f0022">FIG 22</figref> is a diagram illustrating a speech decoding device according to a modification of the second reference example;</li><li><figref idrefs="f0023">FIG. 23</figref> is a flowchart to describe an operation of the speech decoding device according to the modification of the second reference example;</li><li><figref idrefs="f0024">FIG. 24</figref> is a diagram illustrating a speech decoding device according to another modification of the second reference example;</li><li><figref idrefs="f0025">FIG 25</figref> is a flowchart to describe an operation of the speech decoding device according to the other modification of the second reference example;</li><li><figref idrefs="f0026">FIG. 26</figref> is a diagram illustrating a speech decoding device according to another modification of the first embodiment;</li><li><figref idrefs="f0027">FIG 27</figref> is a flowchart to describe an operation of the speech decoding device according to the other modification of the first embodiment;</li><li><figref idrefs="f0028">FIG. 28</figref> is a diagram illustrating a speech decoding device according to another modification of the first embodiment;</li><li><figref idrefs="f0029">FIG. 29</figref> is a flowchart to describe an operation of the speech decoding device according to the other modification of the first embodiment;</li><li><figref idrefs="f0030">FIG. 30</figref> is a diagram illustrating a speech decoding device according to another modification of the first embodiment;<!-- EPO <DP n="25"> --></li><li><figref idrefs="f0031">FIG 31</figref> is a diagram illustrating a speech decoding device according to another modification of the first embodiment;</li><li><figref idrefs="f0032">FIG 32</figref> is a flowchart to describe an operation of the speech decoding device according to the other modification of the first embodiment;</li><li><figref idrefs="f0033">FIG 33</figref> is a diagram illustrating a speech decoding device according to another modification of the first embodiment;</li><li><figref idrefs="f0034">FIG 34</figref> is a flowchart to describe an operation of the speech decoding device according to the other modification of the first embodiment;</li><li><figref idrefs="f0035">FIG. 35</figref> is a diagram illustrating a speech decoding device according to another modification of the first embodiment;</li><li><figref idrefs="f0036">FIG 36</figref> is a flowchart to describe an operation of the speech decoding device according to the other modification of the first embodiment;</li><li><figref idrefs="f0037">FIG. 37</figref> is a diagram illustrating a speech decoding device according to another modification of the first embodiment;</li><li><figref idrefs="f0038">FIG 38</figref> is a diagram illustrating a speech decoding device according to another modification of the first embodiment;</li><li><figref idrefs="f0039">FIG. 39</figref> is a flowchart to describe an operation of the speech decoding device according to the other modification of the first embodiment;</li><li><figref idrefs="f0040">FIG 40</figref> is a diagram illustrating a speech decoding device according to another modification of the first embodiment;</li><li><figref idrefs="f0041">FIG 41</figref> is a flowchart to describe an operation of the speech decoding device according to the other modification of the first<!-- EPO <DP n="26"> --> embodiment;</li><li><figref idrefs="f0042">FIG 42</figref> is a diagram illustrating a speech decoding device according to another modification of the first embodiment;</li><li><figref idrefs="f0043">FIG. 43</figref> is a flowchart to describe an operation of the speech decoding device according to the other modification of the first embodiment;</li><li><figref idrefs="f0044">FIG 44</figref> is a diagram illustrating a speech encoding device according to another modification of the first reference example;</li><li><figref idrefs="f0045">FIG 45</figref> is a diagram illustrating a speech encoding device according to still another modification of the first reference example;</li><li><figref idrefs="f0046">FIG 46</figref> is a diagram illustrating a speech encoding device according to a modification of the second reference example;</li><li><figref idrefs="f0047">FIG 47</figref> is a diagram illustrating a speech encoding device according to another modification of the second reference example;</li><li><figref idrefs="f0048">FIG. 48</figref> is a diagram illustrating a speech encoding device according to the first embodiment;</li><li><figref idrefs="f0049">FIG 49</figref> is a diagram illustrating a speech encoding device according to a modification of the first embodiment; and</li><li><figref idrefs="f0050">FIG 50</figref> is a diagram illustrating a speech encoding device according to another modification of the first embodiment.</li></ul></p><heading id="h0010"><b>Description of Embodiments</b></heading><p id="p0048" num="0048">Preferable embodiments according to the present invention and reference examples are described below in detail with reference to the accompanying drawings. The reference examples do not form part of the present invention but are useful for understanding the present invention. In the description of the drawings, elements that are the<!-- EPO <DP n="27"> --> same are labeled with the same reference symbols, and the duplicated description thereof is omitted, of applicable.<!-- EPO <DP n="28"> --></p><heading id="h0011">(First reference example)</heading><p id="p0049" num="0049"><figref idrefs="f0001">FIG 1</figref> is a diagram illustrating a speech encoding device 11 according to a first reference example. The speech encoding device 11 physically includes a CPU, a ROM, a RAM, a communication device, and the like, which are not illustrated, and the CPU integrally controls the speech encoding device 11 by loading and executing a predetermined computer program (such as a computer program for performing processes illustrated in the flowchart of <figref idrefs="f0002">FIG 2</figref>) stored in a built-in memory of the speech encoding device 11 such as the ROM into the RAM. The communication device of the speech encoding device 11 receives a speech signal to be encoded from outside the speech encoding device 11, and outputs an encoded multiplexed bit stream to the outside of the speech encoding device 11.</p><p id="p0050" num="0050">The speech encoding device 11 functionally includes a frequency transform unit 1a (frequency transform means), a frequency inverse transform unit 1b, a core codec encoding unit 1c (core encoding means), an SBR encoding unit 1d, a linear prediction analysis unit 1e (temporal envelope supplementary information calculating means), a filter strength parameter calculating unit If (temporal envelope supplementary information calculating means), and a bit stream multiplexing unit 1g (bit stream multiplexing means). The frequency transform unit 1a to the bit stream multiplexing unit 1g of the speech encoding device 11 illustrated in <figref idrefs="f0001">FIG 1</figref> are functions realized when the CPU of the speech encoding device 11 executes the computer program stored in the built-in memory of the speech encoding device 11. The CPU of the speech encoding device 11 sequentially executes processes<!-- EPO <DP n="29"> --> (processes from Step Sa1 to Step Sa7) illustrated in the flowchart of <figref idrefs="f0002">FIG. 2</figref>, by executing the computer program (or by using the frequency transform unit 1 a to the bit stream multiplexing unit 1g illustrated in <figref idrefs="f0001">FIG 1</figref>). Various types of data required to execute the computer program and various types of data generated by executing the computer program are all stored in the built-in memory such as the ROM and the RAM of the speech encoding device 11.</p><p id="p0051" num="0051">The frequency transform unit 1a analyzes an input signal received from outside the speech encoding device 11 via the communication device of the speech encoding device 11 by using a multi-division QMF filterbank to obtain a signal q (k, r) in a QMF domain (process at Step Sa1). It is noted that k (0≤k≤63) is an index in a frequency direction, and r is an index indicating a time slot. The frequency inverse transform unit 1b synthesize a half of coefficients on the low frequency side in the signal of the QMF domain obtained by the frequency transform unit 1a by using the QMF filterbank to obtain a down-sampled time domain signal that includes only low-frequency components of the input signal (process at Step Sa2). The core codec encoding unit 1c encodes the down-sampled time domain signal to obtain an encoded bit stream (process at Step Sa3). The encoding performed by the core codec encoding unit 1c may be based on a speech coding method represented by a CELP method, or may be based on a audio coding method such as a transformation coding represented by AAC or a TCX (Transform Coded Excitation) method.</p><p id="p0052" num="0052">The SBR encoding unit 1d receives the signal in the QMF domain from the frequency transform unit 1a, and performs SBR<!-- EPO <DP n="30"> --> encoding based on analyzing the power, signal change, tonality, and the like of the high frequency components to obtain SBR supplementary information (process at Step Sa4). The QMF analyzing method in the frequency transform unit 1a and the SBR encoding method in the SBR encoding unit 1d are described in detail in, for example, a Literature "3GPP TS 26.404: Enhanced aacPlus encoder SBR part".</p><p id="p0053" num="0053">The linear prediction analysis unit 1e receives the signal in the QMF domain from the frequency transform, unit 1a, and performs linear prediction analysis in the frequency direction on the high frequency components of the signal to obtain high frequency linear prediction coefficients a<sub>H</sub> (n, r) (1≤n≤N) (process at Step Sa5). It is noted that N is a linear prediction order. The index r is an index in a temporal direction for a sub-sample of the signals in the QMF domain. A covariance method or an autocorrelation method may be used for the signal linear prediction analysis. The linear prediction analysis to obtain a<sub>H</sub> (n, r) is performed on the high frequency components that satisfy k<sub>x</sub>&lt;k≤63 in q (k, r). It is noted that k<sub>x</sub> is a frequency index corresponding to an upper limit frequency of the frequency band encoded by the core codec encoding unit 1c. The linear prediction analysis unit 1e may also perform linear prediction analysis on low frequency components different from those analyzed when a<sub>H</sub> (n, r) are obtained to obtain low frequency linear prediction coefficients a<sub>L</sub> (n, r) different from a<sub>H</sub> (n, r) (linear prediction coefficients according to such low frequency components correspond to temporal envelope information, and is the same in the first reference example as in the below). The linear prediction analysis to obtain a<sub>L</sub> (n, r) is performed<!-- EPO <DP n="31"> --> on low frequency components that satisfy 0≤k&lt;k<sub>x</sub>. The linear prediction analysis may also be performed on a part of the frequency band included in a section of 0≤k&lt;k<sub>x</sub>.</p><p id="p0054" num="0054">The filter strength parameter calculating unit 1f, for example, utilizes the linear prediction coefficients obtained by the linear prediction analysis unit 1e to calculate a filter strength parameter (the filter strength parameter corresponds to temporal envelope supplementary information and is the same in the first reference example as in the below) (process at Step Sa6). A prediction gain G<sub>H</sub>(r) is first calculated from a<sub>H</sub> (n, r). The method for calculating the prediction gain is, for example, described in detail in "Speech Coding, Takehiro Moriya, The Institute of Electronics, Information and Communication Engineers". If a<sub>L</sub> (n, r) has been calculated, a prediction gain G<sub>L</sub>(r) is calculated similarly. The filter strength parameter K(r) is a parameter that increases as G<sub>H</sub>(r) is increased, and for example, can be obtained according to the following expression (1). Here, max (a, b) indicates the maximum value of a and b, and min (a, b) indicates the minimum value of a and b. <maths id="math0001" num="(1)"><math display="block"><mi mathvariant="normal">K</mi><mfenced><mi mathvariant="normal">r</mi></mfenced><mo>=</mo><mi>max</mi><mo>⁢</mo><mfenced separators=""><mn mathvariant="normal">0</mn><mo>,</mo><mi>min</mi><mo>⁢</mo><mfenced separators=""><mn mathvariant="normal">1</mn><mo>,</mo><mi>GH</mi><mfenced><mi mathvariant="normal">r</mi></mfenced><mo>-</mo><mn mathvariant="normal">1</mn></mfenced></mfenced></math><img id="ib0001" file="imgb0001.tif" wi="102" he="12" img-content="math" img-format="tif"/></maths></p><p id="p0055" num="0055">If G<sub>L</sub>(r) has been calculated, K(r) can be obtained as a parameter that increases as G<sub>H</sub>(r) is increased, and decreases as G<sub>L</sub>(r) is increased. In this case, for example, K can be obtained according to the following expression (2). <maths id="math0002" num="(2)"><math display="block"><mi mathvariant="normal">K</mi><mfenced><mi mathvariant="normal">r</mi></mfenced><mo>=</mo><mi>max</mi><mo>⁢</mo><mfenced separators=""><mn mathvariant="normal">0</mn><mo>,</mo><mi>min</mi><mo>⁢</mo><mfenced separators=""><mn mathvariant="normal">1</mn><mo>,</mo><mi>GH</mi><mfenced><mi mathvariant="normal">r</mi></mfenced><mo>/</mo><mi>GL</mi><mfenced><mi mathvariant="normal">r</mi></mfenced><mo>-</mo><mn mathvariant="normal">1</mn></mfenced></mfenced></math><img id="ib0002" file="imgb0002.tif" wi="116" he="11" img-content="math" img-format="tif"/></maths></p><p id="p0056" num="0056">K(r) is a parameter indicating the strength for adjusting the<!-- EPO <DP n="32"> --> temporal envelope of the high frequency components during the SBR decoding. A value of the prediction gain with respect to the linear prediction coefficients in the frequency direction is increased as the variation of the temporal envelope of a signal in the analysis interval .... becomes sharp. K(r) is a parameter for instructing a decoder to strengthen the process for sharpening the variation of the temporal envelope of the high frequency components generated by SBR, with the increase of its value. K(r) may also be a parameter for instructing a decoder (such as a speech decoding device 21) to weaken the process for sharpening the variation of the temporal envelope of the high frequency components generated by SBR, with the decrease of its value, or may include a value for not executing the process for sharpening the variation of the temporal envelope. Instead of transmitting K(r) to each time slot, K(r) representing a plurality of time slots may be transmitted. To determine the segment of the time slots in which the same value of K(r) is shared, it is preferable to use information on time borders of SBR envelope (SBR envelope time border) included in the SBR supplementary information.</p><p id="p0057" num="0057">K(r) is transmitted to the bit stream multiplexing unit 1g after being quantized. It is preferable to calculate K(r) representing the plurality of time slots, for example, by calculating an average of K(r) of a plurality of time slots r before quantization is performed. To transmit K(r) representing the plurality of time slots, K(r) may also be obtained from the analysis result of the entire segment formed of the plurality of time slots, instead of independently calculating K(r) from the result of analyzing each time slot such as the expression (2). In this case, K(r)<!-- EPO <DP n="33"> --> may be calculated, for example, according to the following expression (3). Here, mean(·) indicates an average value in the segment of the time slots represented by K(r). <maths id="math0003" num="(3)"><math display="block"><mi>K</mi><mfenced><mi>r</mi></mfenced><mo>=</mo><mi>max</mi><mo>⁢</mo><mfenced separators=""><mn>0</mn><mo>,</mo><mi>min</mi><mo>⁢</mo><mfenced separators=""><mn>1</mn><mo>,</mo><mi>mean</mi><mo>⁢</mo><mfenced separators=""><msub><mi>G</mi><mi>H</mi></msub><mfenced><mi>r</mi></mfenced><mo>/</mo><mi>mean</mi><mfenced separators=""><msub><mi>G</mi><mi>L</mi></msub><mfenced><mi>r</mi></mfenced></mfenced><mo>-</mo><mn>1</mn></mfenced></mfenced></mfenced></math><img id="ib0003" file="imgb0003.tif" wi="145" he="18" img-content="math" img-format="tif"/></maths></p><p id="p0058" num="0058">K(r) may be exclusively transmitted with inverse filter mode information included in the SBR supplementary information described in "ISO/IEC 14496-3 subpart 4 General Audio Coding". In other words, K(r) is not transmitted for the time slots for which the inverse filter mode information in the SBR supplementary information is transmitted, and the inverse filter mode information (bs_invf_mode in "ISO/IEC 14496-3 subpart 4 General Audio Coding") in the SBR supplementary information need not be transmitted for the time slot for which K(r) is transmitted. Information indicating that either K(r) or the inverse filter mode information included in the SBR supplementary information is transmitted may also be added. K(r) and the inverse filter mode information included in the SBR supplementary information may be combined to handle as vector information, and perform entropy coding on the vector. In this case, the combination of K(r) and the value of the inverse filter mode information included in the SBR supplementary information may be restricted.</p><p id="p0059" num="0059">The bit stream multiplexing unit 1g multiplexes the encoded bit stream calculated by the core codec encoding unit 1c, the SBR supplementary information calculated by the SBR encoding unit 1d, and K(r) calculated by the filter strength parameter calculating unit 1f, and outputs a multiplexed bit stream (encoded multiplexed bit stream)<!-- EPO <DP n="34"> --> through the communication device of the speech encoding device 11 (process at Step Sa7).</p><p id="p0060" num="0060"><figref idrefs="f0003">FIG 3</figref> is a diagram illustrating a speech decoding device 21 according to the first reference example. The speech decoding device 21 physically includes a CPU, a ROM, a RAM, a communication device, and the like, which are not illustrated, and the CPU integrally controls the speech decoding device 21 by loading and executing a predetermined computer program (such as a computer program for performing processes illustrated in the flowchart of <figref idrefs="f0004">FIG 4</figref>) stored in a built-in memory of the speech decoding device 21 such as the ROM into the RAM. The communication device of the speech decoding device 21 receives the encoded multiplexed bit stream output from the speech encoding device 11, a speech encoding device 11a of a modification 1, which will be described later, or a speech encoding device of a modification 2, which will be described later, and outputs a decoded speech signal to outside the speech decoding device 21. The speech decoding device 21, as illustrated in <figref idrefs="f0003">FIG 3</figref>, functionally includes a bit stream separating unit 2a (bit stream separating means), a core codec decoding unit 2b (core decoding means), a frequency transform unit 2c (frequency transform means), a low frequency linear prediction analysis unit 2d (low frequency temporal envelope analysis means), a signal change detecting unit 2e, a filter strength adjusting unit 2f (temporal envelope adjusting means), a high frequency generating unit 2g (high frequency generating means), a high frequency linear prediction analysis unit 2h, a linear prediction inverse filter unit 2i, a<!-- EPO <DP n="35"> --> high frequency adjusting unit 2j (high frequency adjusting means), a<!-- EPO <DP n="36"> --> linear prediction filter unit 2k (temporal envelope shaping means), a coefficient adding unit 2m, and a frequency inverse transform unit 2n. The bit stream separating unit 2a to an a frequency inverse transform unit 2n of the speech decoding device 21 illustrated in <figref idrefs="f0003">FIG 3</figref> are functions realized when the CPU of the speech decoding device 21 executes the computer program stored in the built-in memory of the speech decoding device 21. The CPU of the speech decoding device 21 sequentially executes processes (processes from Step Sb1 to Step Sb11) illustrated in the flowchart of <figref idrefs="f0004">FIG 4</figref>, by executing the computer program (or by using the bit stream separating unit 2a to the a frequency inverse transform unit 2n illustrated in <figref idrefs="f0003">FIG 3</figref>). Various types of data required to execute the computer program and various types of data generated by executing the computer program are all stored in the built-in memory such as the ROM and the RAM of the speech decoding device 21.</p><p id="p0061" num="0061">The bit stream separating unit 2a separates the multiplexed bit stream supplied through the communication device of the speech decoding device 21 into a filter strength parameter, SBR supplementary information, and the encoded bit stream. The core codec decoding unit 2b decodes the encoded bit stream received from the bit stream separating unit 2a to obtain a decoded signal including only the low frequency components (process at Step Sb1). At this time, the decoding method may be based on the speech coding method represented by the CELP method, or may be based on audio coding such as the AAC or the TCX (Transform Coded Excitation) method.</p><p id="p0062" num="0062">The frequency transform unit 2c analyzes the decoded signal<!-- EPO <DP n="37"> --> received from the core codec decoding unit 2b by using the multi-division QMF filter bank to obtain a signal q<sub>dec</sub>(k, r) in the QMF domain (process at Step Sb2). It is noted that k (0≤k≤63) is an index in the frequency direction, and r is an index indicating an index for the sub-sample of the signal in the QMF domain in the temporal direction.</p><p id="p0063" num="0063">The low frequency linear prediction analysis unit 2d performs linear prediction analysis in the frequency direction on q<sub>dec</sub> (k, r) of each time slot r, obtained from the frequency transform unit 2c, to obtain low frequency linear prediction coefficients a<sub>dec</sub>(n, r) (process at Step Sb3). The linear prediction analysis is performed for a range of 0≤k&lt;k<sub>x</sub> corresponding to a signal bandwidth of the decoded signal obtained from the core codec decoding unit 2b. The linear prediction analysis may be performed on a part of frequency band included in the section of 0≤k&lt;k<sub>x</sub>.</p><p id="p0064" num="0064">The signal change detecting unit 2e detects the temporal variation of the signal in the QMF domain received from the frequency transform unit 2c, and outputs it as a detection result T(r). The signal change may be detected, for example, by using the method described below.
<ol><li>1. Short-term power p(r) of a signal in the time slot r is obtained according to the following expression (4). <maths id="math0004" num="(4)"><math display="block"><mi>p</mi><mfenced><mi>r</mi></mfenced><mo>=</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>0</mn></mrow><mn>63</mn></munderover></mstyle><msup><mfenced open="|" close="|" separators=""><msub><mi>q</mi><mi mathvariant="italic">dec</mi></msub><mfenced><mi>k</mi><mi>r</mi></mfenced></mfenced><mn>2</mn></msup></math><img id="ib0004" file="imgb0004.tif" wi="87" he="18" img-content="math" img-format="tif"/></maths></li><li>2. An envelope p<sub>env</sub>(r) obtained by smoothing p(r) is obtained according to the following expression (5). It is noted that α is a constant that satisfies 0&lt;α&lt;1.<!-- EPO <DP n="38"> --> <maths id="math0005" num="(5)"><math display="block"><msub><mi>p</mi><mi mathvariant="italic">env</mi></msub><mfenced><mi>r</mi></mfenced><mo>=</mo><mi>α</mi><mo>⋅</mo><msub><mi>p</mi><mi mathvariant="italic">env</mi></msub><mo>⁢</mo><mfenced separators=""><mi>r</mi><mo>-</mo><mn>1</mn></mfenced><mo>+</mo><mfenced separators=""><mn>1</mn><mo>-</mo><mi>α</mi></mfenced><mo>⋅</mo><mi>p</mi><mfenced><mi>r</mi></mfenced></math><img id="ib0005" file="imgb0005.tif" wi="133" he="16" img-content="math" img-format="tif"/></maths></li><li>3. T(r) is obtained according to the following expression (6) by using p(r) and p<sub>env</sub>(r), where β is a constant. <maths id="math0006" num="(6)"><math display="block"><mi>T</mi><mfenced><mi>r</mi></mfenced><mo>=</mo><mi>max</mi><mfenced separators=""><mn>1</mn><mo>,</mo><mi>p</mi><mfenced><mi>r</mi></mfenced><mo>/</mo><mfenced separators=""><mi>β</mi><mo>⋅</mo><msub><mi>p</mi><mi mathvariant="italic">env</mi></msub><mfenced><mi>r</mi></mfenced></mfenced></mfenced></math><img id="ib0006" file="imgb0006.tif" wi="119" he="15" img-content="math" img-format="tif"/></maths></li></ol></p><p id="p0065" num="0065">The methods described above are simple examples for detecting the signal change based on the change in power, and the signal change may be detected by using other more sophisticated methods. In addition, the signal change detecting unit 2e may be omitted.</p><p id="p0066" num="0066">The filter strength adjusting unit 2f adjusts the filter strength with respect to a<sub>dec</sub> (n, r) obtained from the low frequency linear prediction analysis unit 2d to obtain adjusted linear prediction coefficients a<sub>adj</sub> (n, r), (process at Step Sb4). The filter strength is adjusted, for example, according to the following expression (7), by using a filter strength parameter K received through the bit stream separating unit 2a. <maths id="math0007" num="(7)"><math display="block"><msub><mi>a</mi><mi mathvariant="italic">adj</mi></msub><mfenced><mi>n</mi><mi>r</mi></mfenced><mo>=</mo><msub><mi>a</mi><mi mathvariant="italic">dec</mi></msub><mfenced><mi>n</mi><mi>r</mi></mfenced><mo>⋅</mo><mi>K</mi><mo>⁢</mo><msup><mfenced><mi>r</mi></mfenced><mi>n</mi></msup><mspace width="2em"/><mfenced separators=""><mn>1</mn><mo>≦</mo><mi mathvariant="normal">n</mi><mo>≦</mo><mi mathvariant="normal">N</mi></mfenced></math><img id="ib0007" file="imgb0007.tif" wi="131" he="14" img-content="math" img-format="tif"/></maths></p><p id="p0067" num="0067">If an output T(r) is obtained from the signal change detecting unit 2e, the strength may be adjusted according to the following expression (8). <maths id="math0008" num="(8)"><math display="block"><msub><mi>a</mi><mi mathvariant="italic">adj</mi></msub><mfenced><mi>n</mi><mi>r</mi></mfenced><mo>=</mo><msub><mi>a</mi><mi mathvariant="italic">dec</mi></msub><mfenced><mi>n</mi><mi>r</mi></mfenced><mo>⋅</mo><msup><mfenced separators=""><mi>K</mi><mfenced><mi>r</mi></mfenced><mo>⋅</mo><mi>T</mi><mfenced><mi>r</mi></mfenced></mfenced><mi>n</mi></msup><mspace width="3em"/><mfenced separators=""><mn>1</mn><mo>≦</mo><mi mathvariant="normal">n</mi><mo>≦</mo><mi mathvariant="normal">N</mi></mfenced></math><img id="ib0008" file="imgb0008.tif" wi="133" he="14" img-content="math" img-format="tif"/></maths></p><p id="p0068" num="0068">The high frequency generating unit 2g copies the signal in the QMF domain obtained from the frequency transform unit 2c from the<!-- EPO <DP n="39"> --> low frequency band to the high frequency band to generate a signal q<sub>exp</sub> (k, r) in the QMF domain of the high frequency components (process at Step Sb5). The high frequency components are generated according to the HF generation method in SBR in "MPEG4 AAC" ("ISO/IEC - 14496-3 subpart 4 General Audio Coding").</p><p id="p0069" num="0069">The high frequency linear prediction analysis unit 2h performs linear prediction analysis in the frequency direction on q<sub>exp</sub>(k, r) of each of the time slots r generated by the high frequency generating unit 2g to obtain high frequency linear prediction coefficients a<sub>exp</sub>(n, r) (process at Step Sb6). The linear prediction analysis is performed for a range of k<sub>x</sub>≤k≤63 corresponding to the high frequency components generated by the high frequency generating unit 2g.</p><p id="p0070" num="0070">The linear prediction inverse filter unit 2i performs linear prediction inverse filtering in the frequency direction on a signal in the QMF domain of the high frequency band generated by the high frequency generating unit 2g, using a<sub>exp</sub> (n, r) as coefficients (process at Step Sb7). The transfer function of the linear prediction inverse filter can be expressed as the following expression (9). <maths id="math0009" num="(9)"><math display="block"><mi>f</mi><mfenced><mi>z</mi></mfenced><mo>=</mo><mn>1</mn><mo>+</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>n</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover></mstyle><msub><mi>a</mi><mi>exp</mi></msub><mfenced><mi>n</mi><mi>r</mi></mfenced><mo>⁢</mo><msup><mi>z</mi><mrow><mo>-</mo><mi>n</mi></mrow></msup></math><img id="ib0009" file="imgb0009.tif" wi="89" he="18" img-content="math" img-format="tif"/></maths></p><p id="p0071" num="0071">The linear prediction inverse filtering may be performed from a coefficient at a lower frequency towards a coefficient at a higher frequency, or may be performed in the opposite direction. The linear prediction inverse filtering is a process for temporarily flattening the temporal envelope of the high frequency components, before the temporal envelope shaping is performed at the subsequent stage, and the<!-- EPO <DP n="40"> --> linear prediction inverse filter unit 2i may be omitted. It is also possible to perform linear prediction analysis and inverse filtering on outputs from the high frequency adjusting unit 2j, which will be described later, by the high frequency linear prediction analysis unit 2h and the linear prediction inverse filter unit 2i, instead of performing linear prediction analysis and inverse filtering on the high frequency components of the outputs from the high frequency generating unit 2g. The linear prediction coefficients used for the linear prediction inverse filtering may also be a<sub>dec</sub>(n, r) or 3<sub>adj</sub>(n, r), instead of a<sub>exp</sub>(n, r). The linear prediction coefficients used for the linear prediction inverse filtering may also be linear prediction coefficients a<sub>exp,adj</sub>(n, r) obtained by performing filter strength adjustment on a<sub>exp</sub>(n, r). The strength adjustment is performed according to the following expression (10), similar to that when a<sub>adj</sub> (n, r) is obtained. <maths id="math0010" num="(10)"><math display="block"><msub><mi>a</mi><mrow><mi>exp</mi><mo>,</mo><mi mathvariant="italic">adj</mi></mrow></msub><mfenced><mi>n</mi><mi>r</mi></mfenced><mo>=</mo><msub><mi>a</mi><mi>exp</mi></msub><mfenced><mi>n</mi><mi>r</mi></mfenced><mo>⋅</mo><mi>K</mi><mo>⁢</mo><msup><mfenced><mi>r</mi></mfenced><mi>n</mi></msup><mspace width="2em"/><mfenced separators=""><mn>1</mn><mo>≦</mo><mi mathvariant="normal">n</mi><mo>≦</mo><mi mathvariant="normal">N</mi></mfenced></math><img id="ib0010" file="imgb0010.tif" wi="133" he="11" img-content="math" img-format="tif"/></maths></p><p id="p0072" num="0072">The high frequency adjusting unit 2j adjusts the frequency characteristics and tonality of the high frequency components of an output from the linear prediction inverse filter unit 2i (process at Step Sb8). The adjustment is performed according to the SBR supplementary information received from the bit stream separating unit 2a. The processing by the high frequency adjusting unit 2j is performed according to "HF adjustment" step in SBR in "MPEG4 AAC", and is adjusted by performing linear prediction inverse filtering in the temporal direction, the gain adjustment, and the noise addition on the signal in the QMF domain of the high frequency band. The details of the processes in the steps described above are described in "ISO/IEC<!-- EPO <DP n="41"> --> 14496-3 subpart 4 General Audio Coding". As described above, the frequency transform unit 2c, the high frequency generating unit 2g, and the high frequency adjusting unit 2j all operate according to the SBR decoder in "MPEG4 AAC" defined in "ISO/IEC 14496-3".</p><p id="p0073" num="0073">The linear prediction filter unit 2k performs linear prediction synthesis filtering in the frequency direction on a high frequency components q<sub>adj</sub> (n, r) of a signal in the QMF domain output from the high frequency adjusting unit 2j, by using a<sub>adj</sub>(n, r) obtained from the filter strength adjusting unit 2f (process at Step Sb9). The transfer function of the linear prediction synthesis filtering can be expressed as the following expression (11). <maths id="math0011" num="(11)"><math display="block"><mi>g</mi><mfenced><mi>z</mi></mfenced><mo>=</mo><mfrac><mn>1</mn><mrow><mn>1</mn><mo>+</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>n</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover></mstyle><msub><mi>a</mi><mi mathvariant="italic">adj</mi></msub><mfenced><mi>n</mi><mi>r</mi></mfenced><mo>⁢</mo><msup><mi>z</mi><mrow><mo>-</mo><mi>n</mi></mrow></msup></mrow></mfrac></math><img id="ib0011" file="imgb0011.tif" wi="106" he="27" img-content="math" img-format="tif"/></maths></p><p id="p0074" num="0074">By performing the linear prediction synthesis filtering, the linear prediction filter unit 2k shapes the temporal envelope of the high frequency components generated based on SBR.</p><p id="p0075" num="0075">The coefficient adding unit 2m adds a signal in the QMF domain including the low frequency components output from the frequency transform unit 2c and a signal in the QMF domain including the high frequency components output from the linear prediction filter unit 2k, and outputs a signal in the QMF domain including both the low frequency components and the high frequency components (process at Step Sb10).</p><p id="p0076" num="0076">The frequency inverse transform unit 2n processes the signal in the QMF domain obtained from the coefficient adding unit 2m by using<!-- EPO <DP n="42"> --> a QMF synthesis filter bank. Accordingly, a time domain decoded speech signal including both the low frequency components obtained by the core codec decoding and the high frequency components generated by SBR and whose temporal envelope is shaped by the linear prediction filter is obtained, and the obtained speech signal is output to outside the speech decoding device 21 through the built-in communication device (process at Step Sb11). If K(r) and the inverse filter mode information of the SBR supplementary information described in "ISO/IEC 14496-3 subpart 4 General Audio Coding" are exclusively transmitted, the frequency inverse transform unit 2n may generate inverse filter mode information of the SBR supplementary information for a time slot to which K(r) is transmitted but the inverse filter mode information of the SBR supplementary information is not transmitted, by using inverse filter mode information of the SBR supplementary information with respect to at least one time slot of the time slots before and after the time slot. It is also possible to set the inverse filter mode information of the SBR supplementary information of the time slot to a predetermined mode in advance. The frequency inverse transform unit 2n may generate K(r) for a time slot to which the inverse filter data of the SBR supplementary information is transmitted but K(r) is not transmitted, by using K(r) for at least one time slot of the time slots before and after the time slot. It is also possible to set K(r) of the time slot to a predetermined value in advance. The frequency inverse transform unit 2n may also determine whether the transmitted information is K(r) or the inverse filter mode information of the SBR supplementary information, based on information indicating whether K(r) or the<!-- EPO <DP n="43"> --> inverse filter mode information of the SBR supplementary information is transmitted.</p><heading id="h0012">(Modification 1 of First reference example)</heading><p id="p0077" num="0077"><figref idrefs="f0005">FIG. 5</figref> is a diagram illustrating a modification (speech encoding device 11a) of the speech encoding device according to the first reference example. The speech encoding device 11a physically includes a CPU, a ROM, a RAM, a communication device, and the like, which are not illustrated, and the CPU integrally controls the speech encoding device 11a by loading and executing a predetermined computer program stored in a built-in memory of the speech encoding device 11a such as the ROM into the RAM. The communication device of the speech encoding device 11a receives a speech signal to be encoded from outside the speech encoding device 11a, and outputs an encoded multiplexed bit stream to the outside of the speech encoding device 11a.</p><p id="p0078" num="0078">The speech encoding device 11a, as illustrated in <figref idrefs="f0005">FIG. 5</figref>, functionally includes a high frequency inverse transform unit 1h, a short-term power calculating unit 1i (temporal envelope supplementary information calculating means), a filter strength parameter calculating unit 1f1 (temporal envelope supplementary information calculating means), and a bit stream multiplexing unit 1g1 (bit stream multiplexing means), instead of the linear prediction analysis unit 1e, the filter strength parameter calculating unit 1f, and the bit stream multiplexing unit 1g of the speech encoding device 11. The bit stream multiplexing unit 1g1 has the same function as that of the bit stream multiplexing unit 1g. The frequency transform unit 1a to the SBR encoding unit 1d, the<!-- EPO <DP n="44"> --> high frequency inverse transform unit 1h, the short-term power calculating unit 1i, the filter<!-- EPO <DP n="45"> --> strength parameter calculating unit 1f1, and the bit stream multiplexing unit 1g1 of the speech encoding device 11a illustrated in <figref idrefs="f0005">FIG 5</figref> are functions realized when the CPU of the speech encoding device 11a executes the computer program stored in the built-in memory of the speech encoding device 11a. Various types of data required to execute the computer program and various types of data generated by executing the computer program are all stored in the built-in memory such as the ROM and the RAM of the speech encoding device 11a.</p><p id="p0079" num="0079">The high frequency inverse transform unit 1h replaces the coefficients of the signal in the QMF domain obtained from the frequency transform unit 1a with "0", which correspond to the low frequency components encoded by the core codec encoding unit 1c, and processes the coefficients by using the QMF synthesis filter bank to obtain a time domain signal that includes only the high frequency components. The short-term power calculating unit 1i divides the high frequency components in the time domain obtained from the high frequency inverse transform unit 1h into short segments, calculates the power, and calculates p(r). As an alternative method, the short-term power may also be calculated according to the following expression (12) by using the signal in the QMF domain. <maths id="math0012" num="(12)"><math display="block"><mi>p</mi><mfenced><mi>r</mi></mfenced><mo>=</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>0</mn></mrow><mn>63</mn></munderover></mstyle><msup><mfenced open="|" close="|" separators=""><mi>q</mi><mfenced><mi>k</mi><mi>r</mi></mfenced></mfenced><mn>2</mn></msup></math><img id="ib0012" file="imgb0012.tif" wi="77" he="23" img-content="math" img-format="tif"/></maths></p><p id="p0080" num="0080">The filter strength parameter calculating unit 1f1 detects the changed portion of p(r), and determines a value of K(r), so that K(r) is increased with the large change. The value of K(r), for example, can<!-- EPO <DP n="46"> --> also be calculated by the same method as that of calculating T(r) by the signal change detecting unit 2e of the speech decoding device 21. The signal change may also be detected by using other more sophisticated methods. The filter strength parameter calculating unit 1f1 may also obtain short-term power of each of the low frequency components and the high frequency components, obtain signal changes Tr(r) and Th(r) of each of the low frequency components and the high frequency components using the same method as that of calculating T(r) by the signal change detecting unit 2e of the speech decoding device 21, and determine the value of K(r) using these. In this case, for example, K(r) can be obtained according to the following expression (13), where ε is a constant such as 3.0. <maths id="math0013" num="(13)"><math display="block"><mi mathvariant="normal">K</mi><mfenced><mi mathvariant="normal">r</mi></mfenced><mo>=</mo><mi>max</mi><mo>⁢</mo><mfenced separators=""><mn mathvariant="normal">0</mn><mo>,</mo><mi mathvariant="italic">ε</mi><mo>•</mo><mfenced separators=""><mi>Th</mi><mfenced><mi mathvariant="normal">r</mi></mfenced><mo>-</mo><mi>Tr</mi><mfenced><mi mathvariant="normal">r</mi></mfenced></mfenced></mfenced></math><img id="ib0013" file="imgb0013.tif" wi="103" he="11" img-content="math" img-format="tif"/></maths></p><heading id="h0013">(Modification 2 of First reference example)</heading><p id="p0081" num="0081">A speech encoding device (not illustrated) of a modification 2 of the first reference example-physically includes a CPU, a ROM, a RAM, a communication device, and the like, which are not illustrated, and the CPU integrally controls the speech encoding device of the modification 2 by loading and executing a predetermined computer program stored in a built-in memory of the speech encoding device of the modification 2 such as the ROM into the RAM. The communication device of the speech encoding device of the modification 2 receives a speech signal to be encoded from outside the speech encoding device, and outputs an encoded multiplexed bit stream to the outside of the speech encoding device.<!-- EPO <DP n="47"> --></p><p id="p0082" num="0082">The speech encoding device of the modification 2 functionally includes a linear prediction coefficient differential encoding unit (temporal envelope supplementary information calculating means) and a bit stream multiplexing unit (bit stream multiplexing means) that receives an output from the linear prediction coefficient differential encoding unit, which are not illustrated, instead of the filter strength parameter calculating unit 1f and the bit stream multiplexing unit 1g of the speech encoding device 11. The frequency transform unit 1a to the linear prediction analysis unit 1e, the linear prediction coefficient differential encoding unit, and the bit stream multiplexing unit of the speech encoding device of the modification 2 are functions realized when the CPU of the speech encoding device of the modification 2 executes the computer program stored in the built-in memory of the speech encoding device of the modification 2. Various types of data required to execute the computer program and various types of data generated by executing the computer program are all stored in the built-in memory such as the ROM and the RAM of the speech encoding device of the modification 2.</p><p id="p0083" num="0083">The linear prediction coefficient differential encoding unit calculates differential values a<sub>D</sub>(n, r) of the linear prediction coefficient according to the following expression (14), by using a<sub>H</sub>(n, r) of the input signal and a<sub>L</sub>(n, r) of the input signal. <maths id="math0014" num="(14)"><math display="block"><msub><mi mathvariant="normal">a</mi><mi mathvariant="normal">D</mi></msub><mfenced><mi mathvariant="normal">n</mi><mi mathvariant="normal">r</mi></mfenced><mo>=</mo><msub><mi mathvariant="normal">a</mi><mi mathvariant="normal">H</mi></msub><mfenced><mi mathvariant="normal">n</mi><mi mathvariant="normal">r</mi></mfenced><mo>-</mo><msub><mi mathvariant="normal">a</mi><mi mathvariant="normal">L</mi></msub><mfenced><mi mathvariant="normal">n</mi><mi mathvariant="normal">r</mi></mfenced><mspace width="2em"/><mfenced separators=""><mn mathvariant="normal">1</mn><mo>≦</mo><mi mathvariant="normal">n</mi><mo>≦</mo><mi mathvariant="normal">N</mi></mfenced></math><img id="ib0014" file="imgb0014.tif" wi="122" he="10" img-content="math" img-format="tif"/></maths></p><p id="p0084" num="0084">The linear prediction coefficient differernial encoding unit then quantizes a<sub>D</sub> (n, r), and transmits them to the bit stream multiplexing unit (structure corresponding to the bit stream multiplexing unit 1g).<!-- EPO <DP n="48"> --> The bit stream multiplexing unit multiplexes a<sub>D</sub>(n, r) into the bit stream instead of K(r), and outputs the multiplexed bit stream to outside the speech encoding device through the built-in communication device.</p><p id="p0085" num="0085">A speech decoding device (not illustrated) of the modification 2 of the first reference example physically includes a CPU, a ROM, a RAM, a communication device, and the like, which are not illustrated, and the CPU integrally controls the speech decoding device of the modification 2 by loading and executing a predetermined computer program stored in a built-in memory of the speech decoding device of the modification 2 such as the ROM into the RAM. The communication device of the speech decoding device of the modification 2 receives the encoded multiplexed bit stream output from the speech encoding device 11, the speech encoding device 11a according to the modification 1, or the speech encoding device according to the modification 2, and outputs a decoded speech signal to the outside of the speech decoding device.</p><p id="p0086" num="0086">The speech decoding device of the modification 2 functionally includes a linear prediction coefficient differential decoding unit, which is not illustrated, instead of the filter strength adjusting unit 2f of the speech decoding device 21. The bit stream separating unit 2a to the signal change detecting unit 2e, the linear prediction coefficient differential decoding unit, and the high frequency generating unit 2g to the frequency inverse transform unit 2n of the speech decoding device of the modification 2 are functions realized when the CPU of the speech decoding device of the modification 2 executes the computer program stored in the built-in memory of the speech decoding device of the<!-- EPO <DP n="49"> --> modification 2. Various types of data required to execute the computer<!-- EPO <DP n="50"> --> program and various types of data generated by executing the computer program are all stored in the built-in memory such as the ROM and the RAM of the speech decoding device of the modification 2.</p><p id="p0087" num="0087">The linear prediction coefficient differential decoding unit obtains a<sub>adj</sub> (n, r) differentially decoded according to the following expression (15), by using a<sub>L</sub> (n, r) obtained from the low frequency linear prediction analysis unit 2d and a<sub>D</sub> (n, r) received from the bit stream separating unit 2a. <maths id="math0015" num="(15)"><math display="block"><msub><mi mathvariant="normal">a</mi><mi>adj</mi></msub><mfenced><mi mathvariant="normal">n</mi><mi mathvariant="normal">r</mi></mfenced><mo>=</mo><msub><mi mathvariant="normal">a</mi><mi>dec</mi></msub><mfenced><mi mathvariant="normal">n</mi><mi mathvariant="normal">r</mi></mfenced><mo>+</mo><msub><mi mathvariant="normal">a</mi><mi mathvariant="normal">D</mi></msub><mfenced><mi mathvariant="normal">n</mi><mi mathvariant="normal">r</mi></mfenced><mo>,</mo><mspace width="2em"/><mn mathvariant="normal">1</mn><mo>≦</mo><mi mathvariant="normal">n</mi><mo>≦</mo><mi mathvariant="normal">N</mi></math><img id="ib0015" file="imgb0015.tif" wi="117" he="10" img-content="math" img-format="tif"/></maths></p><p id="p0088" num="0088">The linear prediction coefficient differential decoding unit transmits a<sub>adj</sub> (n, r) differentially decoded in this manner to the linear prediction filter unit 2k. a<sub>D</sub>(n, r) may be a differential value in the domain of prediction coefficients as illustrated in the expression (14). But, after converting prediction coefficients to the other expression form such as LSP (Linear Spectrum Pair), ISP (Immittance Spectrum Pair), LSF (Linear Spectrum Frequency), ISF (Immittance Spectrum Frequency), and PARCOR coefficient, a<sub>D</sub>(n, r) may be a value taking a difference of them. In this case, the differential decoding also has the same expression form.</p><heading id="h0014">(Second Reference example)</heading><p id="p0089" num="0089"><figref idrefs="f0006">FIG 6</figref> is a diagram illustrating a speech encoding device 12 according to a second reference example. The speech encoding device 12 physically includes a CPU, a ROM, a RAM, a communication device, and the like, which are not illustrated, and the CPU integrally controls the speech encoding device 12 by loading and executing a predetermined computer program (such as a computer program for<!-- EPO <DP n="51"> --> performing processes illustrated in the flowchart of <figref idrefs="f0007">FIG 7</figref>) stored in a built-in memory of the speech encoding device 12 such as the ROM into the RAM. The communication device of the speech encoding device 12 receives a speech signal to be encoded from outside the speech encoding device 12, and outputs an encoded multiplexed bit stream to the outside of the speech encoding device 12.</p><p id="p0090" num="0090">The speech encoding device 12 functionally includes a linear prediction coefficient decimation unit 1j (prediction coefficient decimation means), a linear prediction coefficient quantizing unit 1k (prediction coefficient quantizing means), and a bit stream multiplexing unit 1g2 (bit stream multiplexing means), instead of the filter strength parameter calculating unit 1f and the bit stream multiplexing unit 1g of the speech encoding device 11. The frequency transform unit 1 a to the linear prediction analysis unit 1e (linear prediction analysis means), the linear prediction coefficient decimation unit 1j, the linear prediction coefficient quantizing unit 1k, and the bit stream multiplexing unit 1g2 of the speech encoding device 12 illustrated in <figref idrefs="f0006">FIG 6</figref> are functions realized when the CPU of the speech encoding device 12 executes the computer program stored in the built-in memory of the speech encoding device 12. The CPU of the speech encoding device 12 sequentially executes processes (processes from Step Sa1 to Step Sa5, and processes from Step Scl to Step Sc3) illustrated in the flowchart of <figref idrefs="f0007">FIG 7</figref>, by executing the computer program (or by using the frequency transform unit 1a to the linear prediction analysis unit 1e, the linear prediction coefficient decimation unit 1j, the linear prediction coefficient quantizing unit 1k, and the bit stream multiplexing unit 1g2 of the<!-- EPO <DP n="52"> --> speech encoding device 12 illustrated in <figref idrefs="f0006">FIG 6</figref>). Various types of data required to execute the computer program and various types of data generated by executing the computer program are all stored in the built-in memory such as the ROM and the RAM of the speech encoding device 12.</p><p id="p0091" num="0091">The linear prediction coefficient decimation unit 1j decimates a<sub>H</sub> (n, r) obtained from the linear prediction analysis unit 1e in the temporal direction, and transmits a value of a<sub>H</sub>(n, r) for a part of time slot r<sub>i</sub> and a value of the corresponding r<sub>i</sub>, to the linear prediction coefficient quantizing unit 1k (process at Step Sc1). It is noted that 0≤i&lt;N<sub>ts</sub>, and N<sub>ts</sub> is the number of time slots in a frame for which a<sub>H</sub> (n, r) is transmitted. The decimation of the linear prediction coefficients may be performed at a predetermined time interval, or may be performed at nonuniform time interval based on the characteristics of a<sub>H</sub>(n, r). For example, a method is possible that compares G<sub>H</sub>(r) of a<sub>H</sub>(n, r) in a frame having a certain length, and makes a<sub>H</sub>(n, r), of which G<sub>H</sub>(r) exceeds a certain value, an object of quantization. If the decimation interval of the linear prediction coefficients is a predetermined interval instead of using the characteristics of a<sub>H</sub>(n, r), a<sub>H</sub>(n, r) need not be calculated for the time slot at which the transmission is not performed.</p><p id="p0092" num="0092">The linear prediction coefficient quantizing unit 1k quantizes the decimated high frequency linear prediction coefficients a<sub>H</sub>(n, r<sub>i</sub>) received from the linear prediction coefficient decimation unit 1j and indices r<sub>i</sub> of the corresponding time slots, and transmits them to the bit stream multiplexing unit 1g2 (process at Step Sc2). As an alternative structure, instead of quantizing a<sub>H</sub>(n, r<sub>i</sub>), differential values a<sub>D</sub>(n, r<sub>i</sub>) of<!-- EPO <DP n="53"> --> the linear prediction coefficients may be quantized as the speech encoding device according to the modification 2 of the first reference example.</p><p id="p0093" num="0093">The bit stream multiplexing unit 1g2 multiplexes the encoded bit stream calculated by the core codec encoding unit 1c, the SBR supplementary information calculated by the SBR encoding unit 1d, and indices {r<sub>i</sub>} of time slots corresponding to a<sub>H</sub>(n, r<sub>i</sub>) being quantized and received from the linear prediction coefficient quantizing unit 1k into a bit stream, and outputs the multiplexed bit stream through the communication device of the speech encoding device 12 (process at Step Sc3).</p><p id="p0094" num="0094"><figref idrefs="f0008">FIG 8</figref> is a diagram illustrating a speech decoding device 22 according to the second reference example. The speech decoding device 22 physically includes a CPU, a ROM, a RAM, a communication device, and the like, which are not illustrated, and the CPU integrally controls the speech decoding device 22 by loading and executing a predetermined computer program (such as a computer program for performing processes illustrated in the flowchart of <figref idrefs="f0009">FIG. 9</figref>) stored in a built-in memory of the speech decoding device 22 such as the ROM into the RAM. The communication device of the speech decoding device 22 receives the encoded multiplexed bit stream output from the speech encoding device 12, and outputs a decoded speech signal to outside the speech encoding device 12.</p><p id="p0095" num="0095">The speech decoding device 22 functionally includes a bit stream separating unit 2a1 (bit stream separating means), a linear prediction coefficient interpolation/extrapolation unit 2p (linear<!-- EPO <DP n="54"> --> prediction coefficient interpolation/extrapolation means), and a linear prediction filter unit 2k1 (temporal envelope shaping means) instead of the bit stream separating unit 2a, the low frequency linear prediction analysis unit 2d, the signal change detecting unit 2e, the filter strength adjusting unit 2f, and the linear prediction filter unit 2k of the speech decoding device 21. The bit stream separating unit 2a1, the core codec decoding unit 2b, the frequency transform unit 2c, the high frequency generating unit 2g to the high frequency adjusting unit 2j, the linear prediction filter unit 2k1, the coefficient adding unit 2m, the frequency inverse transform unit 2n, and the linear prediction coefficient interpolation/extrapolation unit 2p of the speech decoding device 22 illustrated in <figref idrefs="f0008">FIG 8</figref> are functions realized when the CPU of the speech encoding device 12 executes the computer program stored in the built-in memory of the speech encoding device 12. The CPU of the speech decoding device 22 sequentially executes the processes (processes from Step Sb1 to Step Sd2, Step Sd1, from Step Sb5 to Step Sb8, Step Sd2, and from Step Sb10 to Step Sb11) illustrated in the flowchart of <figref idrefs="f0009">FIG. 9</figref>, by executing the computer program (or by using the bit stream separating unit 2a1, the core codec decoding unit 2b, the frequency transform unit 2c, the high frequency generating unit 2g to the high frequency adjusting unit 2j, the linear prediction filter unit 2k1, the coefficient adding unit 2m, the frequency inverse transform unit 2n, and the linear prediction coefficient interpolation/extrapolation unit 2p illustrated in <figref idrefs="f0008">FIG. 8</figref>). Various types of data required to execute the computer program and various types of data generated by executing the computer program are all stored in the built-in memory such as the<!-- EPO <DP n="55"> --> ROM and the RAM of the speech decoding device 22.</p><p id="p0096" num="0096">The speech decoding device 22 includes the bit stream separating unit 2a1, the linear prediction coefficient interpolation/extrapolation unit 2p, and the linear prediction filter unit 2k1, instead of the bit stream separating unit 2a, the low frequency linear prediction analysis unit 2d, the signal change detecting unit 2e, the filter strength adjusting unit 2f, and the linear prediction filter unit 2k of the speech decoding device 22.</p><p id="p0097" num="0097">The bit stream separating unit 2a1 separates the multiplexed bit stream supplied through the communication device of the speech decoding device 22 into the indices r<sub>i</sub> of the time slots corresponding to a<sub>H</sub>(n, r<sub>i</sub>) being quantized, the SBR supplementary information, and the encoded bit stream.</p><p id="p0098" num="0098">The linear prediction coefficient interpolation/extrapolation unit 2p receives the indices r<sub>i</sub> of the time slots corresponding to a<sub>H</sub>(n, r<sub>i</sub>) being quantized from the bit stream separating unit 2a1, and obtains a<sub>H</sub> (n, r) corresponding to the time slots of which the linear prediction coefficients are not transmitted, by interpolation or extrapolation (processes at Step Sd1). The linear prediction coefficient interpolation/extrapolation unit 2p can extrapolate the linear prediction coefficients, for example, according to the following expression (16). <maths id="math0016" num="(16)"><math display="block"><msub><mi>a</mi><mi>H</mi></msub><mfenced><mi>n</mi><mi>r</mi></mfenced><mo>=</mo><msup><mi>δ</mi><mfenced open="|" close="|" separators=""><mi>r</mi><mo>-</mo><msub><mi>r</mi><mrow><mi>i</mi><mo>⁢</mo><mn>0</mn></mrow></msub></mfenced></msup><mo>⁢</mo><msub><mi>a</mi><mi>H</mi></msub><mfenced><mi>n</mi><msub><mi>r</mi><mrow><mi>i</mi><mo>⁢</mo><mn>0</mn></mrow></msub></mfenced><mspace width="3em"/><mfenced separators=""><mn mathvariant="normal">1</mn><mo>≦</mo><mi mathvariant="normal">n</mi><mo>≦</mo><mi mathvariant="normal">N</mi></mfenced></math><img id="ib0016" file="imgb0016.tif" wi="134" he="16" img-content="math" img-format="tif"/></maths><br/>
where r<sub>i0</sub> is the nearest value to r in the time slots {r<sub>i</sub>} of which the linear prediction coefficients are transmitted. δ is a constant that satisfies 0&lt;δ&lt;1.<!-- EPO <DP n="56"> --></p><p id="p0099" num="0099">The linear prediction coefficient interpolation/extrapolation unit 2p can interpolate the linear prediction coefficients, for example, according to the following expression (17), where r<sub>i0</sub>&lt;r&lt;r<sub>i0+1</sub> is satisfied. <maths id="math0017" num="(17)"><math display="block"><msub><mi>a</mi><mi>H</mi></msub><mfenced><mi>n</mi><mi>r</mi></mfenced><mo>=</mo><mfrac><mrow><msub><mi>r</mi><mrow><mi>i</mi><mo>⁢</mo><mn>0</mn><mo>+</mo><mn>1</mn></mrow></msub><mo>-</mo><mi>r</mi></mrow><mrow><msub><mi>r</mi><mrow><mi>i</mi><mo>⁢</mo><mn>0</mn><mo>+</mo><mn>1</mn></mrow></msub><mo>-</mo><msub><mi>r</mi><mi>i</mi></msub></mrow></mfrac><mo>⋅</mo><msub><mi>a</mi><mi>H</mi></msub><mfenced><mi>n</mi><msub><mi>r</mi><mi>i</mi></msub></mfenced><mo>+</mo><mfrac><mrow><mi>r</mi><mo>-</mo><msub><mi>r</mi><mrow><mi>i</mi><mo>⁢</mo><mn>0</mn></mrow></msub></mrow><mrow><msub><mi>r</mi><mrow><mi>i</mi><mo>⁢</mo><mn>0</mn><mo>+</mo><mn>1</mn></mrow></msub><mo>-</mo><msub><mi>r</mi><mrow><mi>i</mi><mo>⁢</mo><mn>0</mn></mrow></msub></mrow></mfrac><mo>⋅</mo><msub><mi>a</mi><mi>H</mi></msub><mo>⁢</mo><mfenced><mi>n</mi><msub><mi>r</mi><mrow><mi>i</mi><mo>⁢</mo><mn>0</mn><mo>+</mo><mn>1</mn></mrow></msub></mfenced><mspace width="1em"/><mfenced separators=""><mn mathvariant="normal">1</mn><mo>≦</mo><mi mathvariant="normal">n</mi><mo>≦</mo><mi mathvariant="normal">N</mi></mfenced></math><img id="ib0017" file="imgb0017.tif" wi="144" he="24" img-content="math" img-format="tif"/></maths></p><p id="p0100" num="0100">The linear prediction coefficient interpolation/extrapolation unit 2p may convert the linear prediction coefficients into other expression forms such as LSP (Linear Spectrum Pair), ISP (Immittance Spectrum Pair), LSF (Linear Spectrum Frequency), ISF (Immittance Spectrum Frequency), and PARCOR coefficient, interpolate or extrapolate them, and convert the obtained values into the linear prediction coefficients to be used. a<sub>H</sub> (n, r) being interpolated or extrapolated are transmitted to the linear prediction filter unit 2k1 and used as linear prediction coefficients for the linear prediction synthesis filtering, but may also be used as linear prediction coefficients in the linear prediction inverse filter unit 2i. If a<sub>D</sub>(n, r<sub>i</sub>) is multiplexed into a bit stream instead of a<sub>H</sub> (n, r), the linear prediction coefficient interpolation/extrapolation unit 2p performs the differential decoding similar to that of the speech decoding device according to the modification 2 of the first reference example, before performing the interpolation or extrapolation process described above.</p><p id="p0101" num="0101">The linear prediction filter unit 2k1 performs linear prediction synthesis filtering in the frequency direction on q<sub>adj</sub> (n, r) output from the high frequency adjusting unit 2j, by using a<sub>H</sub>(n, r) being interpolated or extrapolated obtained from the linear prediction coefficient<!-- EPO <DP n="57"> --> interpolation/extrapolation unit 2p (process at Step Sd2). A transfer<!-- EPO <DP n="58"> --> function of the linear prediction filter unit 2k1 can be expressed as the following expression (18). The linear prediction filter unit 2k1 shapes the temporal envelope of the high frequency components generated by the SBR by performing linear prediction synthesis filtering, as the linear prediction filter unit 2k of the speech decoding device 21. <maths id="math0018" num="(18)"><math display="block"><mi>g</mi><mfenced><mi>z</mi></mfenced><mo>=</mo><mfrac><mn>1</mn><mrow><mn>1</mn><mo>+</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>n</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover></mstyle><msub><mi>a</mi><mi>H</mi></msub><mfenced><mi>n</mi><mi>r</mi></mfenced><mo>⁢</mo><msup><mi>z</mi><mrow><mo>-</mo><mi>n</mi></mrow></msup></mrow></mfrac></math><img id="ib0018" file="imgb0018.tif" wi="91" he="24" img-content="math" img-format="tif"/></maths></p><heading id="h0015">(Third Reference example)</heading><p id="p0102" num="0102"><figref idrefs="f0010">FIG. 10</figref> is a diagram illustrating a speech encoding device 13 according to a third reference example. The speech encoding device 13 physically includes a CPU, a ROM, a RAM, a communication device, and the like, which are not illustrated, and the CPU integrally controls the speech encoding device 13 by loading and executing a predetermined computer program (such as a computer program for performing processes illustrated in the flowchart of <figref idrefs="f0011">FIG. 11</figref>) stored in a built-in memory of the speech encoding device 13 such as the ROM into the RAM. The communication device of the speech encoding device 13 receives a speech signal to be encoded from outside the speech encoding device 13, and outputs an encoded multiplexed bit stream to the outside of the speech encoding device 13.</p><p id="p0103" num="0103">The speech encoding device 13 functionally includes a temporal envelope calculating unit 1m (temporal envelope supplementary information calculating means), an envelope shape parameter calculating unit 1n (temporal envelope supplementary information calculating means), and a bit stream multiplexing unit 1g3 (bit stream<!-- EPO <DP n="59"> --> multiplexing means), instead of the linear prediction analysis unit 1e, the filter strength parameter calculating unit 1f, and the bit stream multiplexing unit 1g of the speech encoding device 11. The frequency transform unit 1a to the SBR encoding unit 1d, the temporal envelope calculating unit 1m, the envelope shape parameter calculating unit 1n, and the bit stream multiplexing unit 1g3 of the speech encoding device 13 illustrated in <figref idrefs="f0010">FIG 10</figref> are functions realized when the CPU of the speech encoding device 13 executes the computer program stored in the built-in memory of the speech encoding device 13. The CPU of the speech encoding device 13 sequentially executes processes (processes from Step Sa1 to Step Sa 4 and from Step Se1 to Step Se3) illustrated in the flowchart of <figref idrefs="f0011">FIG 11</figref>, by executing the computer program (or by using the frequency transform unit 1a to the SBR encoding unit 1d, the temporal envelope calculating unit 1m, the envelope shape parameter calculating unit In, and the bit stream multiplexing unit 1g3 of the speech encoding device 13 illustrated in <figref idrefs="f0010">FIG. 10</figref>). Various types of data required to execute the computer program and various types of data generated by executing the computer program are all stored in the built-in memory such as the ROM and the RAM of the speech encoding device 13.</p><p id="p0104" num="0104">The temporal envelope calculating unit 1m receives q (k, r), and for example, obtains temporal envelope information e(r) of the high frequency components of a signal, by obtaining the power of each time slot of q (k, r) (process at Step Se1). In this case, e(r) is obtained according to the following expression (19).<!-- EPO <DP n="60"> --> <maths id="math0019" num="(19)"><math display="block"><mi>e</mi><mfenced><mi>r</mi></mfenced><mo>=</mo><msqrt><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mi mathvariant="italic">kx</mi></mrow><mn>63</mn></munderover></mstyle><msup><mfenced open="|" close="|" separators=""><mi>q</mi><mfenced><mi>k</mi><mi>r</mi></mfenced></mfenced><mn>2</mn></msup></msqrt></math><img id="ib0019" file="imgb0019.tif" wi="88" he="30" img-content="math" img-format="tif"/></maths></p><p id="p0105" num="0105">The envelope shape parameter calculating unit In receives e(r) from the temporal envelope calculating unit 1m and receives SBR envelope time borders {b<sub>i</sub>} from the SBR encoding unit 1d. It is noted that 0≤i≤Ne, and Ne is the number of SBR envelopes in the encoded frame. The envelope shape parameter calculating unit 1n obtains an envelope shape parameter s(i) (0≤i&lt;Ne) of each of the SBR envelopes in the encoded frame according to the following expression (20) (process at Step Se2). The envelope shape parameter s(i) corresponds to the temporal envelope supplementary information, and is similar in the third reference example. <maths id="math0020" num="(20)"><math display="block"><mi>s</mi><mfenced><mi>i</mi></mfenced><mo>=</mo><mfrac><mn>1</mn><mrow><msub><mi>b</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>-</mo><msub><mi>b</mi><mi>i</mi></msub><mo>-</mo><mn>1</mn></mrow></mfrac><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>r</mi><mo>=</mo><mi mathvariant="italic">bi</mi></mrow><mrow><msub><mi>b</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>-</mo><mn>1</mn></mrow></munderover></mstyle><msup><mfenced separators=""><mover><mrow><mi>e</mi><mfenced><mi>i</mi></mfenced></mrow><mo>‾</mo></mover><mo>-</mo><mi>e</mi><mfenced><mi>r</mi></mfenced></mfenced><mn>2</mn></msup></math><img id="ib0020" file="imgb0020.tif" wi="119" he="24" img-content="math" img-format="tif"/></maths></p><p id="p0106" num="0106">It is noted that: <maths id="math0021" num="(21)"><math display="block"><mover><mrow><mi>e</mi><mfenced><mi>i</mi></mfenced></mrow><mo>‾</mo></mover><mo>=</mo><mfrac><mrow><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>r</mi><mo>=</mo><mi mathvariant="italic">bi</mi></mrow><mrow><msub><mi>b</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>-</mo><mn>1</mn></mrow></munderover></mstyle><mi>e</mi><mfenced><mi>r</mi></mfenced></mrow><mrow><msub><mi>b</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>-</mo><msub><mi>b</mi><mi>i</mi></msub></mrow></mfrac></math><img id="ib0021" file="imgb0021.tif" wi="62" he="27" img-content="math" img-format="tif"/></maths><br/>
where s(i) in the above expression is a parameter indicating the magnitude of the variation of e(r) in the i-th SBR envelope satisfying b<sub>i</sub>≤r&lt;b<sub>i+1</sub>, and e(r) has a larger number as the variation of the temporal envelope is increased. The expressions (20) and (21) described above are examples of method for calculating s(i), and for example, s(i) may also be obtained by using, for example, SMF (Spectral Flatness<!-- EPO <DP n="61"> --> Measure) of e(r), a ratio of the maximum value to the minimum value, and the like. s(i) is then quantized, and transmitted to the bit stream multiplexing unit 1g3.</p><p id="p0107" num="0107">The bit stream multiplexing unit 1g3 multiplexes the encoded bit stream calculated by the core codec encoding unit 1c, the SBR supplementary information calculated by the SBR encoding unit 1d, and s(i) into a bit stream, and outputs the multiplexed bit stream through the communication device of the speech encoding device 13 (process at Step Se3).</p><p id="p0108" num="0108"><figref idrefs="f0012">FIG 12</figref> is a diagram illustrating a speech decoding device 23 according to the third reference example. The speech decoding device 23 physically includes a CPU, a ROM, a RAM, a communication device, and the like, which are not illustrated, and the CPU integrally controls the speech decoding device 23 by loading and executing a predetermined computer program (such as a computer program for performing processes illustrated in the flowchart of <figref idrefs="f0013">FIG. 13</figref>) stored in a built-in memory of the speech decoding device 23 such as the ROM into the RAM. The communication device of the speech decoding device 23 receives the encoded multiplexed bit stream output from the speech encoding device 13, and outputs a decoded speech signal to outside the speech decoding device 13.</p><p id="p0109" num="0109">The speech decoding device 23 functionally includes a bit stream separating unit 2a2 (bit stream separating means), a low frequency temporal envelope calculating unit 2r (low frequency temporal envelope analysis means), an envelope shape adjusting unit 2s (temporal envelope adjusting means), a high frequency temporal<!-- EPO <DP n="62"> --> envelope calculating unit 2t, a temporal envelope flattening unit 2u, and a temporal envelope shaping unit 2v (temporal envelope shaping means), instead of the bit stream separating unit 2a, the low frequency linear prediction analysis unit 2d, the signal change detecting unit 2e, the filter strength adjusting unit 2f, the high frequency linear prediction analysis unit 2h, the linear prediction inverse filter unit 2i, and the linear prediction filter unit 2k of the speech decoding device 21. The bit stream separating unit 2a2, the core codec decoding unit 2b to the frequency transform unit 2c, the high frequency generating unit 2g, the high frequency adjusting unit 2j, the coefficient adding unit 2m, the frequency inverse transform unit 2n, and the low frequency temporal envelope calculating unit 2r to the temporal envelope shaping unit 2v of the speech decoding device 23 illustrated in <figref idrefs="f0012">FIG 12</figref> are functions realized when the CPU of the speech encoding device 23 executes the computer program stored in the built-in memory of the speech encoding device 23. The CPU of the speech decoding device 23 sequentially executes processes (processes from Step Sb1 to Step Sb2, from Step Sf1 to Step Sf2, Step Sb5, from Step Sf3 to Step Sf4, Step Sb8, Step Sf5, and from StepSb10 to Step Sb11) illustrated in the flowchart of <figref idrefs="f0013">FIG 13</figref>, by executing the computer program (or by using the bit stream separating unit 2a2, the core codec decoding unit 2b to the frequency transform unit 2c, the high frequency generating unit 2g, the high frequency adjusting unit 2j, the coefficient adding unit 2m, the frequency inverse transform unit 2n, and the low frequency temporal envelope calculating unit 2r to the temporal envelope shaping unit 2v of the speech decoding device 23 illustrated in <figref idrefs="f0012">FIG 12</figref>). Various types of<!-- EPO <DP n="63"> --> data required to execute the computer program and various types of data generated by executing the computer program are all stored in the built-in memory such as the ROM and the RAM of the speech decoding device 23.</p><p id="p0110" num="0110">The bit stream separating unit 2a2 separates the multiplexed bit stream supplied through the communication device of the speech decoding device 23 into s(i), the SBR supplementary information, and the encoded bit stream. The low frequency temporal envelope calculating unit 2r receives q<sub>dec</sub> (k, r) including the low frequency components from the frequency transform unit 2c, and obtains e(r) according to the following expression (22) (process at Step Sf1). <maths id="math0022" num="(22)"><math display="block"><mi>e</mi><mfenced><mi>r</mi></mfenced><mo>=</mo><msqrt><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>0</mn></mrow><mn>63</mn></munderover></mstyle><msup><mfenced open="|" close="|" separators=""><msub><mi>q</mi><mi mathvariant="italic">dec</mi></msub><mfenced><mi>k</mi><mi>r</mi></mfenced></mfenced><mn>2</mn></msup></msqrt></math><img id="ib0022" file="imgb0022.tif" wi="75" he="17" img-content="math" img-format="tif"/></maths></p><p id="p0111" num="0111">The envelope shape adjusting unit 2s adjusts e(r) by using s(i), and obtains the adjusted temporal envelope information e<sub>adj</sub>(r) (process at Step Sf2). e(r) can be adjusted, for example, according to the following expressions (23) to (25). <maths id="math0023" num="(23)"><math display="block"><mtable columnalign="left"><mtr><mtd><msub><mi>e</mi><mi mathvariant="italic">adj</mi></msub><mfenced><mi>r</mi></mfenced><mo>=</mo><mover><mrow><mi>e</mi><mfenced><mi>i</mi></mfenced></mrow><mo>‾</mo></mover><mo>+</mo><msqrt><mi>s</mi><mfenced><mi>i</mi></mfenced><mo>-</mo><mi>v</mi><mfenced><mi>i</mi></mfenced></msqrt><mo>⋅</mo><mfenced separators=""><mi>e</mi><mfenced><mi>r</mi></mfenced><mo>-</mo><mover><mrow><mi>e</mi><mfenced><mi>i</mi></mfenced></mrow><mo>‾</mo></mover></mfenced></mtd><mtd><mfenced separators=""><mi mathvariant="normal">s</mi><mfenced><mi mathvariant="normal">i</mi></mfenced><mo>&gt;</mo><mi mathvariant="normal">v</mi><mfenced><mi mathvariant="normal">i</mi></mfenced></mfenced></mtd></mtr><mtr><mtd><msub><mi>e</mi><mi mathvariant="italic">adj</mi></msub><mfenced><mi>r</mi></mfenced><mo>=</mo><mi>e</mi><mfenced><mi>r</mi></mfenced></mtd><mtd><mfenced><mi>otherwise</mi></mfenced></mtd></mtr></mtable></math><img id="ib0023" file="imgb0023.tif" wi="134" he="26" img-content="math" img-format="tif"/></maths></p><p id="p0112" num="0112">It is noted that: <maths id="math0024" num="(24)"><math display="block"><mover><mrow><mi>e</mi><mfenced><mi>i</mi></mfenced></mrow><mo>‾</mo></mover><mo>=</mo><mfrac><mrow><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>r</mi><mo>=</mo><mi mathvariant="italic">bi</mi></mrow><mrow><msub><mi>b</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>-</mo><mn>1</mn></mrow></munderover></mstyle><mi>e</mi><mfenced><mi>r</mi></mfenced></mrow><mrow><msub><mi>b</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>-</mo><msub><mi>b</mi><mi>i</mi></msub></mrow></mfrac></math><img id="ib0024" file="imgb0024.tif" wi="75" he="31" img-content="math" img-format="tif"/></maths><!-- EPO <DP n="64"> --> <maths id="math0025" num="(25)"><math display="block"><mi>v</mi><mfenced><mi>i</mi></mfenced><mo>=</mo><mfrac><mn>1</mn><mrow><msub><mi>b</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>-</mo><msub><mi>b</mi><mi>i</mi></msub><mo>-</mo><mn>1</mn></mrow></mfrac><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>r</mi><mo>=</mo><mi mathvariant="italic">bi</mi></mrow><mrow><msub><mi>b</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>-</mo><mn>1</mn></mrow></munderover></mstyle><msup><mfenced separators=""><mover><mrow><mi>e</mi><mfenced><mi>i</mi></mfenced></mrow><mo>‾</mo></mover><mo>-</mo><mi>e</mi><mfenced><mi>r</mi></mfenced></mfenced><mn>2</mn></msup></math><img id="ib0025" file="imgb0025.tif" wi="120" he="24" img-content="math" img-format="tif"/></maths></p><p id="p0113" num="0113">The expressions (23) to (25) described above are examples of adjusting method, and the other adjusting method by which the shape of e<sub>adj</sub>(r) becomes similar to the shape illustrated by s(i) may also be used.</p><p id="p0114" num="0114">The high frequency temporal envelope calculating unit 2t calculates a temporal envelope e<sub>exp</sub>(r) by using q<sub>exp</sub>(k, r) obtained from the high frequency generating unit 2g, according to the following expression (26) (process at Step Sf3). <maths id="math0026" num="(26)"><math display="block"><msub><mi>e</mi><mi>exp</mi></msub><mfenced><mi>r</mi></mfenced><mo>=</mo><msqrt><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mi mathvariant="italic">kx</mi></mrow><mn>63</mn></munderover></mstyle><msup><mfenced open="|" close="|" separators=""><msub><mi>q</mi><mi>exp</mi></msub><mfenced><mi>k</mi><mi>r</mi></mfenced></mfenced><mn>2</mn></msup></msqrt></math><img id="ib0026" file="imgb0026.tif" wi="88" he="18" img-content="math" img-format="tif"/></maths></p><p id="p0115" num="0115">The temporal envelope flattening unit 2u flattens the temporal envelope of q<sub>exp</sub>(k, r) obtained from the high frequency generating unit 2g according to the following expression (27), and transmits the obtained signal q<sub>flat</sub>(k, r) in the QMF domain to the high frequency adjusting unit 2j (process at Step Sf4). <maths id="math0027" num="(27)"><math display="block"><msub><mi>q</mi><mi mathvariant="italic">flat</mi></msub><mfenced><mi>k</mi><mi>r</mi></mfenced><mo>=</mo><mfrac><mrow><msub><mi>q</mi><mi>exp</mi></msub><mfenced><mi>k</mi><mi>r</mi></mfenced></mrow><mrow><msub><mi>e</mi><mi>exp</mi></msub><mfenced><mi>r</mi></mfenced></mrow></mfrac><mspace width="3em"/><mfenced separators=""><msub><mi mathvariant="normal">k</mi><mi mathvariant="normal">x</mi></msub><mo>≦</mo><mi mathvariant="normal">k</mi><mo>≦</mo><mn>63</mn></mfenced></math><img id="ib0027" file="imgb0027.tif" wi="122" he="23" img-content="math" img-format="tif"/></maths></p><p id="p0116" num="0116">The flattening of the temporal envelope by the temporal envelope flattening unit 2u may also be omitted. Instead of calculating the temporal envelope of the high frequency components of the output from the high frequency generating unit 2g and flattening the temporal envelope thereof, the temporal envelope of the high frequency components of an output from the high frequency adjusting unit 2j may<!-- EPO <DP n="65"> --> be calculated, and the temporal envelope thereof may be flattened. The temporal envelope used in the temporal envelope flattening unit 2u may also be e<sub>adj</sub>(r) obtained from the envelope shape adjusting unit 2s, instead of e<sub>exp</sub>(r) obtained from the high frequency temporal envelope calculating unit 2t.</p><p id="p0117" num="0117">The temporal envelope shaping unit 2v shapes q<sub>adj</sub> (k, r) obtained from the high frequency adjusting unit 2j by using e<sub>adj</sub>(r) obtained from the envelope shape adjusting unit 2s, and obtains a signal q<sub>envadj</sub> (k, r) in the QMF domain in which the temporal envelope is shaped (process at Step Sf5). The shaping is performed according to the following expression (28). q<sub>envadj</sub>(k, r) is transmitted to the coefficient adding unit 2m as a signal in the QMF domain corresponding to the high frequency components. <maths id="math0028" num="(28)"><math display="block"><msub><mi>q</mi><mi mathvariant="italic">envadj</mi></msub><mfenced><mi>k</mi><mi>r</mi></mfenced><mo>=</mo><msub><mi>q</mi><mi mathvariant="italic">adj</mi></msub><mfenced><mi>k</mi><mi>r</mi></mfenced><mo>⋅</mo><msub><mi>e</mi><mi mathvariant="italic">adj</mi></msub><mfenced><mi>r</mi></mfenced><mspace width="2em"/><mfenced separators=""><msub><mi mathvariant="normal">k</mi><mi mathvariant="normal">x</mi></msub><mo>≦</mo><mi mathvariant="normal">k</mi><mo>≦</mo><mn>63</mn></mfenced></math><img id="ib0028" file="imgb0028.tif" wi="131" he="15" img-content="math" img-format="tif"/></maths></p><heading id="h0016">(First Embodiment)</heading><p id="p0118" num="0118"><figref idrefs="f0014">FIG. 14</figref> is a diagram illustrating a speech decoding device 24 according to a first embodiment. The speech decoding device 24 physically includes a CPU, a ROM, a RAM, a communication device, and the like, which are not illustrated, and the CPU integrally controls the speech decoding device 24 by loading and executing a predetermined computer program stored in a built-in memory of the speech decoding device 24 such as the ROM into the RAM. The communication device of the speech decoding device 24 receives the encoded multiplexed bit stream output from the speech encoding device 11 or the speech encoding device 13, and outputs a decoded speech<!-- EPO <DP n="66"> --> signal to outside of the speech decoding device 24.</p><p id="p0119" num="0119">The speech decoding device 24 functionally includes the structure of the speech decoding device 21 (the core codec decoding unit 2b, the frequency transform unit 2c, the low frequency linear prediction analysis unit 2d (low frequency temporal envelope analysis means), the signal change detecting unit 2e, the filter strength adjusting unit 2f (temporal envelope adjusting means), the high frequency generating unit 2g, the high frequency linear prediction analysis unit 2h, the linear prediction inverse filter unit 2i, the high frequency adjusting unit 2j, the linear prediction filter unit 2k, the coefficient adding unit 2m, and the frequency inverse transform unit 2n) and the structure of the speech decoding device 23 (the low frequency temporal envelope calculating unit 2r (low frequency temporal envelope analysis means), the envelope shape adjusting unit 2s (temporal envelope adjusting means), and the temporal envelope shaping unit 2v). The speech decoding device 24 also includes a bit stream separating unit 2a3 (bit stream separating means) and a supplementary information conversion unit 2w. The order of the linear prediction filter unit 2k and the temporal envelope shaping unit 2v may be opposite to that illustrated in <figref idrefs="f0014">FIG 14</figref>. The speech decoding device 24 preferably receives the bit stream encoded by the speech encoding device 11 or the speech encoding device 13. The structure of the speech decoding device 24 illustrated in <figref idrefs="f0014">FIG. 14</figref> is a function realized when the CPU of the speech decoding device 24 executes the computer program stored in the built-in memory of the speech decoding device 24. Various types of data required to execute the computer program and various types of data<!-- EPO <DP n="67"> --> generated by executing the computer program are all stored in the built-in memory such as the ROM and the RAM of the speech decoding device 24.<!-- EPO <DP n="68"> --></p><p id="p0120" num="0120">The bit stream separating unit 2a3 separates the multiplexed bit stream supplied through the communication device of the speech decoding device 24 into the temporal envelope supplementary information, the SBR supplementary information, and the encoded bit stream. The temporal envelope supplementary information may also be K(r) described in the first reference example or s(i) described in the third embodiment. The temporal envelope supplementary information may also be another parameter X(r) that is neither K(r) nor s(i).</p><p id="p0121" num="0121">The supplementary information conversion unit 2w converts the supplied temporal envelope supplementary information to obtain K(r) and s(i). If the temporal envelope supplementary information is K(r), the supplementary information conversion unit 2w converts K(r) into s(i). The supplementary information conversion unit 2w may also obtain, for example, an average value of K(r) in a section of b<sub>i</sub>≤r&lt;b<sub>i+1</sub> <maths id="math0029" num="(29)"><math display="block"><mover><mi>K</mi><mo>‾</mo></mover><mfenced><mi>i</mi></mfenced></math><img id="ib0029" file="imgb0029.tif" wi="47" he="13" img-content="math" img-format="tif"/></maths> and convert the average value represented in the expression (29) into s(i) by using a predetermined table. If the temporal envelope supplementary information is s(i), the supplementary information conversion unit 2w converts s(i) into K(r). The supplementary information conversion unit 2w may also perform the conversion by converting s(i) into K(r), for example, by using a predetermined table. It is noted that i and r are associated with each other so as to satisfy the relationship of b<sub>i</sub>≤r&lt;b<sub>i+1</sub>.</p><p id="p0122" num="0122">If the temporal envelope supplementary information is a parameter X(r) that is neither s(i) nor K(r), the supplementary<!-- EPO <DP n="69"> --> information conversion unit 2w converts X(r) into K(r) and s(i). It is preferable that the supplementary information conversion unit 2w converts X(r) into K(r) and s(i), for example, by using a predetermined table. It is also preferable that the supplementary information conversion unit 2w transmits X(r) as a representative value every SBR envelope. The tables for converting X(r) into K(r) and s(i) may be different from each other.</p><heading id="h0017">(Modification 3 of First reference example)</heading><p id="p0123" num="0123">In the speech decoding device 21 of the first reference example, the linear prediction filter unit 2k of the speech decoding device 21 may include an automatic gain control process. The automatic gain control process is a process to adjust the power of the signal in the QMF domain output from the linear prediction filter unit 2k to the power of the signal in the QMF domain being supplied. In general, a signal q<sub>syn,pow</sub> (n, r) in the QMF domain whose gain has been controlled is realized by the following expression. <maths id="math0030" num="(30)"><math display="block"><msub><mi>q</mi><mrow><mi mathvariant="italic">syn</mi><mo>,</mo><mi mathvariant="italic">pow</mi></mrow></msub><mfenced><mi>n</mi><mi>r</mi></mfenced><mo>=</mo><msub><mi>q</mi><mi mathvariant="italic">syn</mi></msub><mfenced><mi>n</mi><mi>r</mi></mfenced><mo>⋅</mo><msqrt><mfrac><mrow><msub><mi>P</mi><mn>0</mn></msub><mfenced><mi>r</mi></mfenced></mrow><mrow><msub><mi>P</mi><mn>1</mn></msub><mfenced><mi>r</mi></mfenced></mrow></mfrac></msqrt></math><img id="ib0030" file="imgb0030.tif" wi="118" he="23" img-content="math" img-format="tif"/></maths></p><p id="p0124" num="0124">Here, P<sub>0</sub>(r) and P<sub>1</sub>(r) are expressed by the following expression (31) and the expression (32). <maths id="math0031" num="(31)"><math display="block"><msub><mi>P</mi><mn>0</mn></msub><mfenced><mi>r</mi></mfenced><mo>=</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>n</mi><mo>=</mo><mi mathvariant="italic">kx</mi></mrow><mn>63</mn></munderover></mstyle><msup><mfenced open="|" close="|" separators=""><msub><mi>q</mi><mi mathvariant="italic">adj</mi></msub><mfenced><mi>n</mi><mi>r</mi></mfenced></mfenced><mn>2</mn></msup></math><img id="ib0031" file="imgb0031.tif" wi="90" he="26" img-content="math" img-format="tif"/></maths><!-- EPO <DP n="70"> --> <maths id="math0032" num="(32)"><math display="block"><msub><mi>P</mi><mn>1</mn></msub><mfenced><mi>r</mi></mfenced><mo>=</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>n</mi><mo>=</mo><mi mathvariant="italic">kx</mi></mrow><mn>63</mn></munderover></mstyle><msup><mfenced open="|" close="|" separators=""><msub><mi>q</mi><mi mathvariant="italic">syn</mi></msub><mfenced><mi>n</mi><mi>r</mi></mfenced></mfenced><mn>2</mn></msup></math><img id="ib0032" file="imgb0032.tif" wi="104" he="27" img-content="math" img-format="tif"/></maths></p><p id="p0125" num="0125">By carrying out the automatic gain control process, the power of the high frequency components of the signal output from the linear prediction filter unit 2k is adjusted to a value equivalent to that before the linear prediction filtering. As a result, for the output signal of the linear prediction filter unit 2k in which the temporal envelope of the high frequency components generated based on SBR is shaped, the effect of adjusting the power of the high frequency signal performed by the high frequency adjusting unit 2j can be maintained. The automatic gain control process can also be performed individually on a certain frequency range of the signal in the QMF domain. The process performed on the individual frequency range can be realized by limiting n in the expression (30), the expression (31), and the expression (32) within a certain frequency range. For example, i-th frequency range can be expressed as F<sub>i</sub>≤n&lt;F<sub>i+1</sub> (in this case, i is an index indicating the number of a certain frequency range of the signal in the QMF domain). F<sub>i</sub> indicates the frequency range boundary, and it is preferable that Fi be a frequency boundary table of an envelope scale factor defined in SBR in "MPEG4 AAC". The frequency boundary table is defined by the high frequency generating unit 2g based on the definition of SBR in "MPEG4 AAC". By performing the automatic gain control process, the power of the output signal from the linear prediction filter unit 2k in a certain frequency range of the high frequency components is adjusted to a value equivalent to that before the linear prediction filtering. As a<!-- EPO <DP n="71"> --> result, the effect for adjusting the power of the high frequency signal performed by the high frequency adjusting unit 2j on the output signal from the linear prediction filter unit 2k in which the temporal envelope of the high frequency components generated based on SBR is shaped, is maintained per unit of frequency range. The changes made to the present modification 3 of the first reference example may also be made to the linear prediction filter unit 2k of the first embodiment.</p><heading id="h0018">[Modification I of Third Reference example]</heading><p id="p0126" num="0126">The envelope shape parameter calculating unit 1n in the speech encoding device 13 of the third reference example can also be realized by the following process. The envelope shape parameter calculating unit 1n obtains an envelope shape parameter s(i) (0≤i&lt;Ne) according to the following expression (33) for each SBR envelope in the encoded frame. <maths id="math0033" num="(33)"><math display="block"><mi>s</mi><mfenced><mi>i</mi></mfenced><mo>=</mo><mn>1</mn><mo>-</mo><mi>min</mi><mfenced><mfrac><mrow><mi>e</mi><mfenced><mi>r</mi></mfenced></mrow><mover><mrow><mi>e</mi><mfenced><mi>i</mi></mfenced></mrow><mo>‾</mo></mover></mfrac></mfenced></math><img id="ib0033" file="imgb0033.tif" wi="92" he="23" img-content="math" img-format="tif"/></maths></p><p id="p0127" num="0127">It is noted that: <maths id="math0034" num="(34)"><math display="block"><mover><mrow><mi>e</mi><mfenced><mi>i</mi></mfenced></mrow><mo>‾</mo></mover></math><img id="ib0034" file="imgb0034.tif" wi="47" he="15" img-content="math" img-format="tif"/></maths> is an average value of e(r) in the SBR envelope, and the calculation method is based on the expression (21). It is noted that the SBR envelope indicates the time segment satisfying b<sub>i</sub>≤r&lt;b<sub>i+1</sub>. {b<sub>i</sub>} are the time borders of the SBR envelopes included in the SBR supplementary information as information, and are the boundaries of the time segment for which the SBR envelope scale factor representing the average signal<!-- EPO <DP n="72"> --> energy in a certain time segment and a certain frequency range is given.<!-- EPO <DP n="73"> --> min (·) represents the minimum value within the range of b<sub>i</sub>≤r&lt;b<sub>i+1</sub>. Accordingly, in this case, the envelope shape parameter s(i) is a parameter for indicating a ratio of the minimum value to the average value of the adjusted temporal envelope information in the SBR envelope. The envelope shape adjusting unit 2s in the speech decoding device 23 of the third reference example may also be realized by the following process. The envelope shape adjusting unit 2s adjusts e(r) by using s(i) to obtain the adjusted temporal envelope information e<sub>adj</sub>(r). The adjusting method is based on the following expression (35) or expression (36). <maths id="math0035" num="(35)"><math display="block"><msub><mi>e</mi><mi mathvariant="italic">adj</mi></msub><mfenced><mi>r</mi></mfenced><mo>=</mo><mover><mrow><mi>e</mi><mfenced><mi>i</mi></mfenced></mrow><mo>‾</mo></mover><mo>⁢</mo><mfenced separators=""><mn>1</mn><mo>+</mo><mi>s</mi><mfenced><mi>i</mi></mfenced><mo>⁢</mo><mfrac><mfenced separators=""><mi>e</mi><mfenced><mi>r</mi></mfenced><mo>-</mo><mover><mrow><mi>e</mi><mfenced><mi>i</mi></mfenced></mrow><mo>‾</mo></mover></mfenced><mrow><mover><mrow><mi>e</mi><mfenced><mi>i</mi></mfenced></mrow><mo>‾</mo></mover><mo>-</mo><mi>min</mi><mfenced separators=""><mi>e</mi><mfenced><mi>r</mi></mfenced></mfenced></mrow></mfrac></mfenced></math><img id="ib0035" file="imgb0035.tif" wi="133" he="25" img-content="math" img-format="tif"/></maths> <maths id="math0036" num="(36)"><math display="block"><msub><mi>e</mi><mi mathvariant="italic">adj</mi></msub><mfenced><mi>r</mi></mfenced><mo>=</mo><mover><mrow><mi>e</mi><mfenced><mi>i</mi></mfenced></mrow><mo>‾</mo></mover><mo>⁢</mo><mfenced separators=""><mn>1</mn><mo>+</mo><mi>s</mi><mfenced><mi>i</mi></mfenced><mo>⁢</mo><mfrac><mfenced separators=""><mi>e</mi><mfenced><mi>r</mi></mfenced><mo>-</mo><mover><mrow><mi>e</mi><mfenced><mi>i</mi></mfenced></mrow><mo>‾</mo></mover></mfenced><mover><mrow><mi>e</mi><mfenced><mi>i</mi></mfenced></mrow><mo>‾</mo></mover></mfrac></mfenced></math><img id="ib0036" file="imgb0036.tif" wi="132" he="25" img-content="math" img-format="tif"/></maths></p><p id="p0128" num="0128">The expression 35 adjusts the envelope shape so that the ratio of the minimum value to the average value of the adjusted temporal envelope information e<sub>adj</sub>(r) in the SBR envelope becomes equivalent to the value of the envelope shape parameter s(i). The changes made to the modification 1 of the third reference example described above may also be made to the first embodiment.</p><heading id="h0019">[Modification 2 of Third Embodiment]</heading><p id="p0129" num="0129">The temporal envelope shaping unit 2v may also use the following expression instead of the expression (28). As indicated in the expression (37), e<sub>adj, scaled</sub>(r) is obtained by controlling the gain of the<!-- EPO <DP n="74"> --> adjusted temporal envelope information e<sub>adj</sub>(r), so that the power of q<sub>envadj</sub> (k,r) maintains that of q<sub>adj</sub> (k, r) within the SBR envelope. As indicated in the expression (38), in the present modification 2 of the third embodiment, q<sub>envadj</sub> (k, r) is obtained by multiplying the signal q<sub>adj</sub> (k, r) in the QMF domain by e<sub>adj, scaled</sub>(r) instead of e<sub>adj</sub>(r). Accordingly, the temporal envelope shaping unit 2v can shape the temporal envelope of the signal q<sub>adj</sub> (k, r) in the QMF domain, so that the signal power within the SBR envelope becomes equivalent before and after the shaping of the temporal envelope. It is noted that the SBR envelope indicates the time segment satisfying b<sub>i</sub>≤r&lt;b<sub>i+1</sub>. {b<sub>i</sub>} are the time borders of the SBR envelopes included in the SBR supplementary information as information, and are the boundaries of the time segment for which the SBR envelope scale factor representing the average signal energy of a certain time segment and a certain frequency range is given. The terminology "SBR envelope" in the embodiments of the present invention corresponds to the terminology "SBR envelope time segment" in "MPEG4 AAC" defined in "ISO/IEC 14496-3", and the "SBR envelope" has the same contents as the "SBR envelope time segment" throughout the embodiments. <maths id="math0037" num="(37)"><math display="block"><mtable columnalign="left"><mtr><mtd><msub><mi>e</mi><mrow><mi mathvariant="italic">adj</mi><mo>,</mo><mi mathvariant="italic">scaled</mi></mrow></msub><mfenced><mi>r</mi></mfenced><mo>=</mo><msub><mi>e</mi><mi mathvariant="italic">adj</mi></msub><mfenced><mi>r</mi></mfenced><mo>⋅</mo><msqrt><mfrac><mrow><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><msub><mi>k</mi><mi>x</mi></msub></mrow><mn>63</mn></munderover></mstyle><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>r</mi><mo>=</mo><msub><mi>b</mi><mi>i</mi></msub></mrow><mrow><msub><mi>b</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>-</mo><mn>1</mn></mrow></munderover></mstyle><msup><mfenced open="|" close="|" separators=""><msub><mi>q</mi><mi mathvariant="italic">adj</mi></msub><mfenced><mi>k</mi><mi>r</mi></mfenced></mfenced><mn>2</mn></msup></mrow><mrow><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><msub><mi>k</mi><mi>x</mi></msub></mrow><mn>63</mn></munderover></mstyle><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>r</mi><mo>=</mo><msub><mi>b</mi><mi>i</mi></msub></mrow><mrow><msub><mi>b</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>-</mo><mn>1</mn></mrow></munderover></mstyle><msup><mfenced open="|" close="|" separators=""><msub><mi>q</mi><mi mathvariant="italic">adj</mi></msub><mfenced><mi>k</mi><mi>r</mi></mfenced><mo>⋅</mo><msub><mi>e</mi><mi mathvariant="italic">adj</mi></msub><mfenced><mi>r</mi></mfenced></mfenced><mn>2</mn></msup></mrow></mfrac></msqrt></mtd></mtr><mtr><mtd><mfenced separators=""><msub><mi>k</mi><mi>x</mi></msub><mo>≤</mo><mi>k</mi><mo>≤</mo><mn>63</mn><mo>,</mo><msub><mi>b</mi><mi>i</mi></msub><mo>≤</mo><mi>r</mi><mo>&lt;</mo><msub><mi>b</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mfenced></mtd></mtr></mtable></math><img id="ib0037" file="imgb0037.tif" wi="136" he="53" img-content="math" img-format="tif"/></maths><!-- EPO <DP n="75"> --> <maths id="math0038" num="(38)"><math display="block"><mtable columnalign="left"><mtr><mtd><msub><mi>q</mi><mi mathvariant="italic">envadj</mi></msub><mfenced><mi>k</mi><mi>r</mi></mfenced><mo>=</mo><msub><mi>q</mi><mi mathvariant="italic">adj</mi></msub><mfenced><mi>k</mi><mi>r</mi></mfenced><mo>⋅</mo><msub><mi>e</mi><mrow><mi mathvariant="italic">adj</mi><mo>,</mo><mi mathvariant="italic">scaled</mi></mrow></msub><mfenced><mi>r</mi></mfenced></mtd></mtr><mtr><mtd><mspace width="1em"/><mfenced separators=""><msub><mi>k</mi><mi>x</mi></msub><mo>≤</mo><mi>k</mi><mo>≤</mo><mn>63</mn><mo>,</mo><msub><mi>b</mi><mi>i</mi></msub><mo>≤</mo><mi>r</mi><mo>&lt;</mo><msub><mi>b</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mfenced></mtd></mtr></mtable></math><img id="ib0038" file="imgb0038.tif" wi="125" he="27" img-content="math" img-format="tif"/></maths></p><p id="p0130" num="0130">The changes made to the present modification 2 of the third embodiment described above may also be made to the first embodiment.</p><heading id="h0020">(Modification 3 of Third Embodiment)</heading><p id="p0131" num="0131">The expression (19) may also be the following expression (39). <maths id="math0039" num="(39)"><math display="block"><mi>e</mi><mfenced><mi>r</mi></mfenced><mo>=</mo><msqrt><mfrac><mrow><mfenced separators=""><msub><mi>b</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>-</mo><msub><mi>b</mi><mi>i</mi></msub></mfenced><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>0</mn></mrow><mn>63</mn></munderover></mstyle><msup><mfenced open="|" close="|" separators=""><mi>q</mi><mfenced><mi>k</mi><mi>r</mi></mfenced></mfenced><mn>2</mn></msup></mrow><mrow><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>r</mi><mo>=</mo><msub><mi>b</mi><mi>i</mi></msub></mrow><mrow><msub><mi>b</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>-</mo><mn>1</mn></mrow></munderover></mstyle><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>0</mn></mrow><mn>63</mn></munderover></mstyle><msup><mfenced open="|" close="|" separators=""><mi>q</mi><mfenced><mi>k</mi><mi>r</mi></mfenced></mfenced><mn>2</mn></msup></mrow></mfrac></msqrt></math><img id="ib0039" file="imgb0039.tif" wi="132" he="40" img-content="math" img-format="tif"/></maths></p><p id="p0132" num="0132">The expression (22) may also be the following expression (40). <maths id="math0040" num="(40)"><math display="block"><mi>e</mi><mfenced><mi>r</mi></mfenced><mo>=</mo><msqrt><mfrac><mrow><mfenced separators=""><msub><mi>b</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>-</mo><msub><mi>b</mi><mi>i</mi></msub></mfenced><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>0</mn></mrow><mn>63</mn></munderover></mstyle><msup><mfenced open="|" close="|" separators=""><msub><mi>q</mi><mi mathvariant="italic">dec</mi></msub><mspace width="1em"/><mfenced><mi>k</mi><mi>r</mi></mfenced></mfenced><mn>2</mn></msup></mrow><mrow><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>r</mi><mo>=</mo><msub><mi>b</mi><mi>i</mi></msub></mrow><mrow><msub><mi>b</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>-</mo><mn>1</mn></mrow></munderover></mstyle><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>0</mn></mrow><mn>63</mn></munderover></mstyle><msup><mfenced open="|" close="|" separators=""><msub><mi>q</mi><mi mathvariant="italic">dec</mi></msub><mspace width="1em"/><mfenced><mi>k</mi><mi>r</mi></mfenced></mfenced><mn>2</mn></msup></mrow></mfrac></msqrt></math><img id="ib0040" file="imgb0040.tif" wi="137" he="40" img-content="math" img-format="tif"/></maths></p><p id="p0133" num="0133">The expression (26) may also be the following expression (41). <maths id="math0041" num="(41)"><math display="block"><msub><mi>e</mi><mi>exp</mi></msub><mfenced><mi>r</mi></mfenced><mo>=</mo><msqrt><mfrac><mrow><mfenced separators=""><msub><mi>b</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>-</mo><msub><mi>b</mi><mi>i</mi></msub></mfenced><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mi mathvariant="italic">kx</mi></mrow><mn>63</mn></munderover></mstyle><msup><mfenced open="|" close="|" separators=""><msub><mi>q</mi><mi>exp</mi></msub><mspace width="1em"/><mfenced><mi>k</mi><mi>r</mi></mfenced></mfenced><mn>2</mn></msup></mrow><mrow><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>r</mi><mo>=</mo><msub><mi>b</mi><mi>i</mi></msub></mrow><mrow><msub><mi>b</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>-</mo><mn>1</mn></mrow></munderover></mstyle><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mi mathvariant="italic">kx</mi></mrow><mn>63</mn></munderover></mstyle><msup><mfenced open="|" close="|" separators=""><msub><mi>q</mi><mi>exp</mi></msub><mspace width="1em"/><mfenced><mi>k</mi><mi>r</mi></mfenced></mfenced><mn>2</mn></msup></mrow></mfrac></msqrt></math><img id="ib0041" file="imgb0041.tif" wi="135" he="41" img-content="math" img-format="tif"/></maths></p><p id="p0134" num="0134">When the expression (39) and the expression (40) are used, the<!-- EPO <DP n="76"> --> temporal envelope information e(r) is information in which the power of each QMF subband sample is normalized by the average power in the SBR envelope, and the square root is extracted. However, the QMF subband sample is a signal vector corresponding to the time index "r" in the QMF domain signal, and is one subsample in the QMF domain. In all the embodiments of the present invention, the terminology "time slot" has the same contents as the "QMF subband sample". In this case, the temporal envelope information e(r) is a gain coefficient that should be multiplied.by each QMF subband sample, and the same applies to the adjusted temporal envelope information e<sub>adj</sub>(r).</p><heading id="h0021">(Modification 1 of First embodiment)</heading><p id="p0135" num="0135">A speech decoding device 24a (not illustrated) of a modification 1 of the first embodiment physically includes a CPU, a ROM, a RAM, a communication device, and the like, which are not illustrated, and the CPU integrally controls the speech decoding device 24a by loading and executing a predetermined computer program stored in a built-in memory of the speech decoding device 24a such as the ROM into the RAM. The communication device of the speech decoding device 24a receives the encoded multiplexed bit stream output from the speech encoding device 11 or the speech encoding device 13, and outputs a decoded speech signal to outside the speech decoding device 24a. The speech decoding device 24a functionally includes a bit stream separating unit 2a4 (not illustrated) instead of the bit stream separating unit 2a3 of the speech decoding device 24, and also includes a temporal envelope supplementary information generating unit 2y (not illustrated), instead of the supplementary information conversion unit 2w. The bit<!-- EPO <DP n="77"> --> stream separating unit 2a4 separates the multiplexed bit stream into the SBR information and the encoded bit stream. The temporal envelope supplementary information generating unit 2y generates temporal envelope supplementary information based on the information included in the encoded bit stream and the SBR supplementary information.</p><p id="p0136" num="0136">To generate the temporal envelope supplementary information in a certain SBR envelope, for example, the time width (b<sub>i+1</sub>-b<sub>i</sub>) of the SBR envelope, a frame class, a strength parameter of the inverse filter, a noise floor, the amplitude of the high frequency power, a ratio of the high frequency power to the low frequency power, a autocorrelation coefficient or a prediction gain of a result of performing linear prediction analysis in the frequency direction on a low frequency signal represented in the QMF domain, and the like may be used. The temporal envelope supplementary information can be generated by determining K(r) or s(i) based on one or a plurality of values of the parameters. For example, the temporal envelope supplementary information can be generated by determining K(r) or s(i) based on (b<sub>i+1</sub>-b<sub>i</sub>) so that K(r) or s(i) is reduced as the time width (b<sub>i+1</sub>-b<sub>i</sub>) of the SBR envelope is increased, or K(r) or s(i) is increased as the time width (b<sub>i+1</sub>-b<sub>i</sub>) of the SBR envelope is increased. The similar changes may also be made to the first reference example and the third reference example.</p><heading id="h0022">(Modification 2 of First embodiment)</heading><p id="p0137" num="0137">A speech decoding device 24b (see <figref idrefs="f0015">FIG. 15</figref>) of a modification 2 of the first embodiment physically includes a CPU, a ROM, a RAM, a communication device, and the like, which are not illustrated, and the<!-- EPO <DP n="78"> --> CPU integrally controls the speech decoding device 24b by loading and<!-- EPO <DP n="79"> --> executing a predetermined computer program stored in a built-in memory of the speech decoding device 24b such as the ROM into the RAM. The communication device of the speech decoding device 24b receives the encoded multiplexed bit stream output from the speech encoding device 11 or the speech encoding device 13, and outputs a decoded speech signal to outside the speech decoding device 24b. The speech decoding device 24b, as illustrated in <figref idrefs="f0015">FIG 15</figref>, includes a primary high frequency adjusting unit 2j1 and a secondary high frequency adjusting unit 2j2 instead of the high frequency adjusting unit 2j.</p><p id="p0138" num="0138">Here, the primary high frequency adjusting unit 2j1 adjusts a signal in the QMF domain of the high frequency band by performing linear prediction inverse filtering in the temporal direction, the gain adjustment, and noise addition, described in The "HF generation" step and the "HF adjustment" step in SBR in "MPEG4 AAC". At this time, the output signal of the primary high frequency adjusting unit 2j1 corresponds to a signal W<sub>2</sub> in the description in "SBR tool" in "ISO/IEC 14496-3:2005", clauses 4.6.18.7.6 of "Assembling HF signals". The linear prediction filter unit 2k (or the linear prediction filter unit 2k1) and the temporal envelope shaping unit 2v shape the temporal envelope of the output signal from the primary high frequency adjusting unit. The secondary high frequency adjusting unit 2j2 performs an addition process of sinusoids in the "HF adjustment" step in SBR in "MPEG4 AAC". The process of the secondary high frequency adjusting unit corresponds to a process of generating a signal Y from the signal W<sub>2</sub> in the description in "SBR tool" in "ISO/IEC 14496-3:2005", clauses 4.6.18.7.6 of<!-- EPO <DP n="80"> --> "Assembling HF signals", in which the signal W<sub>2</sub> is replaced with an output signal of the temporal envelope shaping unit 2v.</p><p id="p0139" num="0139">In the above description, only the process for adding sinusoids is performed by the secondary high frequency adjusting unit 2j2. However, any one of the processes in the "HF adjustment" step may be performed by the secondary high frequency adjusting unit 2j2. Similar modifications may also be made to the first reference example, the second reference example, and the third reference example. In these cases, the linear prediction filter unit (linear prediction filter units 2k and 2k1) is included in the first reference example and the second reference example, but the temporal envelope shaping unit is not included. Accordingly, an output signal from the primary high frequency adjusting unit 2j1 is processed by the linear prediction filter unit, and then an output signal from the linear prediction filter unit is processed by the secondary high frequency adjusting unit 2j2.</p><p id="p0140" num="0140">In the third reference example, the temporal envelope shaping unit 2v is included but the linear prediction filter unit is not included. Accordingly, an output signal from the primary high frequency adjusting unit 2j1 is processed by the temporal envelope shaping unit 2v, and then an output signal from the temporal envelope shaping unit 2v is processed by the secondary high frequency adjusting unit.</p><p id="p0141" num="0141">In the speech decoding device (speech decoding device 24, 24a, or 24b) of the first embodiment, the processing order of the linear prediction filter unit 2k and the temporal envelope shaping unit 2v may be reversed. In other words, an output signal from the high frequency adjusting unit 2j or the primary high frequency adjusting unit 2j 1 may<!-- EPO <DP n="81"> --> be processed first by the temporal envelope shaping unit 2v, and then an output signal from the temporal envelope shaping unit 2v may be processed by the linear prediction filter unit 2k.</p><p id="p0142" num="0142">In addition, only if the temporal envelope supplementary information includes binary control information for indicating whether the process is performed by the linear prediction filter unit 2k or the temporal envelope shaping unit 2v, and the control information indicates to perform the process by the linear prediction filter unit 2k or the temporal envelope shaping unit 2v, the temporal envelope supplementary information may employ a form that further includes at least one of the filer strength parameter K(r), the envelope shape parameter s(i), or X(r) that is a parameter for determining both K(r) and s(i) as information.</p><heading id="h0023">(Modification 3 of First embodiment)</heading><p id="p0143" num="0143">A speech decoding device 24c (see <figref idrefs="f0016">FIG. 16</figref>) of a modification 3 of the first embodiment physically includes a CPU, a ROM, a RAM, a communication device, and the like, which are not illustrated, and the CPU integrally controls the speech decoding device 24c by loading and executing a predetermined computer program (such as a computer program for performing processes illustrated in the flowchart of <figref idrefs="f0017">FIG 17</figref>) stored in a built-in memory of the speech decoding device 24c such as the ROM into the RAM. The communication device of the speech decoding device 24c receives the encoded multiplexed bit stream and outputs a decoded speech signal to outside the speech decoding device 24c. As illustrated in <figref idrefs="f0016">FIG. 16</figref>, the speech decoding device 24c includes a primary high frequency adjusting unit 2j3 and a secondary<!-- EPO <DP n="82"> --> high frequency adjusting unit 2j4 instead of the high frequency adjusting unit 2j, and also includes individual signal component adjusting units 2z1, 2z2, and 2z3 instead of the linear prediction filter unit 2k and the temporal envelope shaping unit 2v (individual signal component adjusting units correspond to the temporal envelope shaping means).</p><p id="p0144" num="0144">The primary high frequency adjusting unit 2j3 outputs a signal in the QMF domain of the high frequency band as a copy signal component. The primary high frequency adjusting unit 2j3 may output a signal on which at least one of the linear prediction inverse filtering in the temporal direction and the gain adjustment (frequency characteristics adjustment) is performed on the signal in the QMF domain of the high frequency band, by using the SBR supplementary information received from the bit stream separating unit 2a3, as a copy signal component. The primary high frequency adjusting unit 2j3 also generates a noise signal component and a sinusoid signal component by using the SBR supplementary information supplied from the bit stream separating unit 2a3, and outputs each of the copy signal component, the noise signal component, and the sinusoid signal component separately (process at Step Sg1). The noise signal component and the sinusoid signal component may not be generated, depending on the contents of the SBR supplementary information.</p><p id="p0145" num="0145">The individual signal component adjusting units 2z1, 2z2, and 2z3 perform processing on each of the plurality of signal components included in the output from the primary high frequency adjusting unit (process at Step Sg2). The process with the individual signal<!-- EPO <DP n="83"> --> component adjusting units 2z1, 2z2, and 2z3 may be linear prediction synthesis filtering in the frequency direction obtained from the filter strength adjusting unit 2f by using the linear prediction coefficients, similar to that of the linear prediction filter unit 2k (process 1). The process with the individual signal component adjusting units 2z1, 2z2, and 2z3 may also be a process of multiplying each QMF subband sample by a gain coefficient by using the temporal envelope obtained from the envelope shape adjusting unit 2s, similar to that of the temporal envelope shaping unit 2v (process 2). The process with the individual signal component adjusting units 2z1, 2z2, and 2z3 may also be a process of performing linear prediction synthesis filtering in the frequency direction on the input signal by using the linear prediction coefficients obtained from the filter strength adjusting unit 2f similar to that of the linear prediction filter unit 2k, and then multiplying each QMF subband sample by a gain coefficient by using the temporal envelope obtained from the envelope shape adjusting unit 2s, similar to that of the temporal envelope shaping unit 2v (process 3). The process with the individual signal component adjusting units 2z1, 2z2, and 2z3 may also be a process of multiplying each QMF subband sample with respect to the input signal by a gain coefficient by using the temporal envelope obtained from the envelope shape adjusting unit 2s, similar to that of the temporal envelope shaping unit 2v, and then performing linear prediction synthesis filtering in the frequency direction on the output signal by using the linear prediction coefficients obtained from the filter strength adjusting unit 2f, similar to that of the linear prediction filter unit 2k (process 4). The individual signal component<!-- EPO <DP n="84"> --> adjusting units 2z1, 2z2, and 2z3 may not perform the temporal envelope shaping process on the input signal, but may output the input signal as it is (process 5). The process with the individual signal component adjusting units 2z1, 2z2, and 2z3 may include any process for shaping the temporal envelope of the input signal by using a method other than the processes 1 to 5 (process 6). The process with the individual signal component adjusting units 2z1, 2z2, and 2z3 may also be a process in which a plurality of processes among the processes 1 to 6 are combined in an arbitrary order (process 7).</p><p id="p0146" num="0146">The processes with the individual signal component adjusting units 2z1, 2z2, and 2z3 may be the same, but the individual signal component adjusting units 2z1, 2z2, and 2z3 may shape the temporal envelope of each of the plurality of signal components included in the output of the primary high frequency adjusting unit by different methods. For example, different processes may be performed on the copy signal, the noise signal, and the sinusoid signal, in such a manner that the individual signal component adjusting unit 2z1 performs the process 2 on the supplied copy signal, the individual signal component adjusting unit 2z2 performs the process 3 on the supplied noise signal component, and the individual signal component adjusting unit 2z3 performs the process 5 on the supplied sinusoid signal. In this case, the filter strength adjusting unit 2f and the envelope shape adjusting unit 2s may transmit the same linear prediction coefficients and the temporal envelopes to the individual signal component adjusting units 2z1, 2z2, and 2z3, but may also transmit different linear prediction coefficients and the temporal envelopes. It is also possible to transmit the same<!-- EPO <DP n="85"> --> linear prediction coefficients and the temporal envelopes to at least two of the individual signal component adjusting units 2z1, 2z2, and 2z3. Because at least one of the individual signal component adjusting units 2z1, 2z2, and 2z3 may not perform the temporal envelope shaping process but output the input signal as it is (process 5), the individual signal component adjusting units 2z1, 2z2, and 2z3 perform the temporal envelope process on at least one of the plurality of signal components output from the primary high frequency adjusting unit 2j3 as a whole (if all the individual signal component adjusting units 2z1, 2z2, and 2z3 perform the process 5, the temporal envelope shaping process is not performed on any of the signal components, and the effects of the present invention are not exhibited).</p><p id="p0147" num="0147">The processes performed by each of the individual signal component adjusting units 2z1, 2z2, and 2z3 may be fixed to one of the process 1 to the process 7, but may be dynamically determined to perform one of the process 1 to the process 7 based on the control information received from outside the speech decoding device 24c. At this time, it is preferable that the control information is included in the multiplexed bit stream. The control information may be an instruction to perform any one of the process 1 to the process 7 in a specific SBR envelope time segment, the encoded frame, or in the other time segment, or may be an instruction to perform any one of the process 1 to the process 7 without specifying the time segment of control.</p><p id="p0148" num="0148">The secondary high frequency adjusting unit 2j4 adds the processed signal components output from the individual signal component adjusting units 2z1, 2z2, and 2z3, and outputs the result to<!-- EPO <DP n="86"> --> the coefficient adding unit (process at Step Sg3). The secondary high frequency adjusting unit 2j4 may perform at least one of the linear prediction inverse filtering in the temporal direction and gain adjustment (frequency characteristics adjustment) on the copy signal component, by using the SBR supplementary information received from the bit stream separating unit 2a3.</p><p id="p0149" num="0149">The individual signal component adjusting units 2z1, 2z2, and 2z3 may operate in cooperation with one another, and generate an output signal at an intermediate stage by adding at least two signal components on which any one of the processes 1 to 7 is performed, and further performing any one of the processes 1 to 7 on the added signal. At this time, the secondary high frequency adjusting unit 2j4 adds the output signal at the intermediate stage and a signal component that has not yet been added to the output signal at the intermediate stage, and outputs the result to the coefficient adding unit. More specifically, it is preferable to generate an output signal at the intermediate stage by performing the process 5 on the copy signal component, applying the process 1 on the noise component, adding the two signal components, and further applying the process 2 on the added signal. At this time, the secondary high frequency adjusting unit 2j4 adds the sinusoid signal component to the output signal at the intermediate stage, and outputs the result to the coefficient adding unit.</p><p id="p0150" num="0150">The primary high frequency adjusting unit 2j3 may output any one of a plurality of signal components in a form separated from each other in addition to the three signal components of the copy signal component, the noise signal component, and the sinusoid signal<!-- EPO <DP n="87"> --> component. In this case, the signal component may be obtained by adding at least two of the copy signal component, the noise signal component, and the sinusoid signal component. The signal component may also be a signal obtained by dividing the band of one of the copy signal component, the noise signal component, and the sinusoid signal. The number of signal components may be other than three, and in this case, the number of the individual signal component adjusting units may be other than three.</p><p id="p0151" num="0151">The high frequency signal generated by SBR consists of three elements of the copy signal component obtained by copying from the low frequency band to the high frequency band, the noise signal, and the sinusoid signal. Because the copy signal, the noise signal, and the sinusoid signal have the temporal envelopes different from one another, if the temporal envelope of each of the signal components is shaped by using different methods as the individual signal component adjusting units of the present modification, it is possible to further improve the subjective quality of the decoded signal compared with the reference examples. In particular, because the noise signal generally has a smooth temporal envelope, and the copy signal has a temporal envelope close to that of the signal in the low frequency band, the temporal envelopes of the copy signal and the noise signal can be independently controlled, by handling them separately and applying different processes thereto. Accordingly, it is effective in improving the subject quality of the decoded signal. More specifically, it is preferable to perform a process of shaping the temporal envelope on the noise signal (process 3 or process 4), perform a process different from<!-- EPO <DP n="88"> --> that for the noise signal on the copy signal (process 1 or process 2), and perform the process 5 on the sinusoid signal (in other words, the temporal envelope shaping process is not performed). It is also preferable to perform a shaping process (process 3 or process 4) of the temporal envelope on the noise signal, and perform the process 5 on the copy signal and the sinusoid signal (in other words, the temporal envelope shaping process is not performed).</p><heading id="h0024">(Modification 4 of First Reference example)</heading><p id="p0152" num="0152">A speech encoding device 11b (<figref idrefs="f0044">FIG. 44</figref>) of a modification 4 of the first reference example physically includes a CPU, a ROM, a RAM, a communication device, and the like, which are not illustrated, and the CPU integrally controls the speech encoding device 11b by loading and executing a predetermined computer program stored in a built-in memory of the speech encoding device 11b such as the ROM into the RAM. The communication device of the speech encoding device 11b receives a speech signal to be encoded from outside the speech encoding device 11b, and outputs an encoded multiplexed bit stream to the outside the speech encoding device 11b. The speech encoding device 11b includes a linear prediction analysis unit 1e1 instead of the linear prediction analysis unit 1e of the speech encoding device 11b, and further includes a time slot selecting unit 1p.</p><p id="p0153" num="0153">The time slot selecting unit 1p receives a signal in the QMF domain from the frequency transform unit 1a and selects a time slot at which the linear prediction analysis by the linear prediction analysis unit 1e1 is performed. The linear prediction analysis unit 1e1 performs linear prediction analysis on the QMF domain signal in the selected<!-- EPO <DP n="89"> --> time slot as the linear prediction analysis unit 1e, based on the selection result transmitted from the time slot selecting unit 1p, to obtain at least one of the high frequency linear prediction coefficients and the low frequency linear prediction coefficients. The filter strength parameter calculating unit 1f calculates a filter strength parameter by using linear prediction coefficients of the time slot selected by the time slot selecting unit 1p, obtained by the linear prediction analysis unit 1e1. To select a time slot by the time slot selecting unit 1p, for example, at least one selection methods using the signal power of the QMF domain signal of the high frequency components, similar to that of a time slot selecting unit 3a.in a decoding device 21 a of the present modification, which will be described later, may be used. At this time, it is preferable that the QMF domain signal of the high frequency components in the time slot selecting unit 1p be a frequency component encoded by the SBR encoding unit 1d, among the signals in the QMF domain received from the frequency transform unit 1a. The time slot selecting method may be at least one of the methods described above, may include at least one method different from those described above, or may be the combination thereof.</p><p id="p0154" num="0154">A speech decoding device 21a (see <figref idrefs="f0018">FIG 18</figref>) of the modification 4 of the first reference example physically includes a CPU, a ROM, a RAM, a communication device, and the like, which are not illustrated, and the CPU integrally controls the speech decoding device 21a by loading and executing a predetermined computer program (such as a computer program for performing processes illustrated in the flowchart of <figref idrefs="f0019">FIG. 19</figref>) stored in a built-in memory of the speech decoding device<!-- EPO <DP n="90"> --> 21a such<!-- EPO <DP n="91"> --> as the ROM into the RAM. The communication device of the speech decoding device 21a receives the encoded multiplexed bit stream and outputs a decoded speech signal to outside the speech decoding device 21 a. The speech decoding device 21a, as illustrated in <figref idrefs="f0018">FIG 18</figref>, includes a low frequency linear prediction analysis unit 2d1, a signal change detecting unit 2e1, a high frequency linear prediction analysis unit 2h1, a linear prediction inverse filter unit 2i1, and a linear prediction filter unit 2k3 instead of the low frequency linear prediction analysis unit 2d, the signal change detecting unit 2e, the high frequency linear prediction analysis unit 2h, the linear prediction inverse filter unit 2i, and the linear prediction filter unit 2k of the speech decoding device 21, and further includes the time slot selecting unit 3a.</p><p id="p0155" num="0155">The time slot selecting unit 3a determines whether linear prediction synthesis filtering in the linear prediction filter unit 2k is to be performed on the signal q<sub>exp</sub> (k, r) in the QMF domain of the high frequency components of the time slot r generated by the high frequency generating unit 2g, and selects a time slot at which the linear prediction synthesis filtering is performed (process at Step Sh1). The time slot selecting unit 3a notifies, of the selection result of the time slot, the low frequency linear prediction analysis unit 2d1, the signal change detecting unit 2e1, the high frequency linear prediction analysis unit 2h1, the linear prediction inverse filter unit 2i1, and the linear prediction filter unit 2k3. The low frequency linear prediction analysis unit 2d1 performs linear prediction analysis on the QMF domain signal in the selected time slot r1, in the same manner as the low frequency linear prediction analysis unit 2d, based on the selection result transmitted<!-- EPO <DP n="92"> --> from the time slot selecting unit 3a, to obtain low frequency linear prediction coefficients (process at Step Sh2). The signal change detecting unit 2e1 detects the temporal variation in the QMF domain signal in the selected time slot, as the signal change detecting unit 2e, based on the selection result transmitted from the time slot selecting unit 3a, and outputs a detection result T (rl).</p><p id="p0156" num="0156">The filter strength adjusting unit 2f performs filter strength adjustment on the low frequency linear prediction coefficients of the time slot selected by the time slot selecting unit 3a obtained by the low frequency linear prediction analysis unit 2d1, to obtain an adjusted linear prediction coefficients a<sub>dec</sub> (n, r1). The high frequency linear prediction analysis unit 2h1 performs linear prediction analysis in the frequency direction on the QMF domain signal of the high frequency components generated by the high frequency generating unit 2g for the selected time slot r1, based on the selection result transmitted from the time slot selecting unit 3a, as the high frequency linear prediction analysis unit 2h, to obtain a high frequency linear prediction coefficients a<sub>exp</sub> (n, p1) (process at Step Sh3). The linear prediction inverse filter unit 2i1 performs linear prediction inverse filtering, in which a<sub>exp</sub> (n, r1) are coefficients, in the frequency direction on the signal q<sub>exp</sub>(k, r) in the QMF domain of the high frequency components of the selected time slot r1, as the linear prediction inverse filter unit 2i, based on the selection result transmitted from the time slot selecting unit 3a (process at Step Sh4).</p><p id="p0157" num="0157">The linear prediction filter unit 2k3 performs linear prediction synthesis filtering in the frequency direction on a signal q<sub>adj</sub>(k, r1) in the<!-- EPO <DP n="93"> --> QMF domain of the high frequency components output from the high frequency adjusting unit 2j in the selected time slot r1 by using a<sub>adj</sub> (n, r1) obtained from the filter strength adjusting unit 2f, as the linear prediction filter unit 2k, based on the selection result transmitted from the time slot selecting unit 3a (process at Step Sh5). The changes made to the linear prediction filter unit 2k described in the modification 3 may also be made to the linear prediction filter unit 2k3. To select a time slot at which the linear prediction synthesis filtering is performed, for example, the time slot selecting unit 3 a may select at least one time slot r in which the signal power of the QMF domain signal q<sub>exp</sub>(k, r) of the high frequency components is greater than a predetermined value P<sub>exp,Th</sub>. It is preferable to calculate the signal power of q<sub>exp</sub>(k,r) according to the following expression. <maths id="math0042" num="(42)"><math display="block"><msub><mi>P</mi><mi>exp</mi></msub><mfenced><mi>r</mi></mfenced><mo>=</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><msub><mi>k</mi><mi>x</mi></msub></mrow><mrow><msub><mi>k</mi><mi>x</mi></msub><mo>+</mo><mi>M</mi><mo>-</mo><mn>1</mn></mrow></munderover></mstyle><msup><mfenced open="|" close="|" separators=""><msub><mi>q</mi><mi>exp</mi></msub><mfenced><mi>k</mi><mi>r</mi></mfenced></mfenced><mn>2</mn></msup></math><img id="ib0042" file="imgb0042.tif" wi="91" he="20" img-content="math" img-format="tif"/></maths> where M is a value representing a frequency range higher than a lower limit frequency k<sub>x</sub> of the high frequency components generated by the high frequency generating unit 2g, and the frequency range of the high frequency components generated by the high frequency generating unit 2g may be represented as k<sub>x</sub>≤k&lt;k<sub>x</sub>+M. The predetermined value P<sub>exp,Th</sub> may also be an average value of P<sub>exp</sub>(r) of a predetermined time width including the time slot r. The predetermined time width may also be the SBR envelope.</p><p id="p0158" num="0158">The selection may also be made so as to include a time slot at which the signal power of the QMF domain signal of the high frequency components reaches its peak. The peak signal power may be<!-- EPO <DP n="94"> --> calculated, for example, by using a moving average value: <maths id="math0043" num="(43)"><math display="block"><msub><mi mathvariant="italic">P</mi><mrow><mi mathvariant="italic">exp</mi><mo>,</mo><mi mathvariant="italic">MA</mi></mrow></msub><mfenced><mi>r</mi></mfenced></math><img id="ib0043" file="imgb0043.tif" wi="63" he="15" img-content="math" img-format="tif"/></maths> of the signal power, and the peak signal power may be the signal power in the QMF domain of the high frequency components of the time slot r at which the result of: <maths id="math0044" num="(44)"><math display="block"><msub><mi mathvariant="italic">P</mi><mrow><mi mathvariant="italic">exp</mi><mo>,</mo><mi mathvariant="italic">MA</mi></mrow></msub><mo>⁢</mo><mfenced separators=""><mi>r</mi><mo>+</mo><mn>1</mn></mfenced><mo>-</mo><msub><mi mathvariant="italic">P</mi><mrow><mi mathvariant="italic">exp</mi><mo>,</mo><mi mathvariant="italic">MA</mi></mrow></msub><mfenced><mi>r</mi></mfenced></math><img id="ib0044" file="imgb0044.tif" wi="105" he="16" img-content="math" img-format="tif"/></maths> changes from the positive value to the negative value. The moving average value of the signal power, <maths id="math0045" num="(45)"><math display="block"><msub><mi mathvariant="italic">P</mi><mrow><mi mathvariant="italic">exp</mi><mo>,</mo><mi mathvariant="italic">MA</mi></mrow></msub><mfenced><mi>r</mi></mfenced></math><img id="ib0045" file="imgb0045.tif" wi="62" he="15" img-content="math" img-format="tif"/></maths> for example, may be calculated by the following expression. <maths id="math0046" num="(46)"><math display="block"><msub><mi mathvariant="italic">P</mi><mrow><mi mathvariant="italic">exp</mi><mo>,</mo><mi mathvariant="italic">MA</mi></mrow></msub><mfenced><mi>r</mi></mfenced><mo>=</mo><mfrac><mn>1</mn><mi>c</mi></mfrac><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi mathvariant="italic">rʹ</mi><mo>=</mo><mi>r</mi><mo>-</mo><mfrac><mi>c</mi><mn>2</mn></mfrac></mrow><mrow><mi>r</mi><mo>+</mo><mfrac><mi>c</mi><mn>2</mn></mfrac><mo>-</mo><mn>1</mn></mrow></munderover></mstyle><msub><mi mathvariant="italic">P</mi><mi mathvariant="italic">exp</mi></msub><mfenced><mi mathvariant="italic">rʹ</mi></mfenced></math><img id="ib0046" file="imgb0046.tif" wi="93" he="29" img-content="math" img-format="tif"/></maths> where c is a predetermined value for defining a range for calculating the average value. The peak signal power may be calculated by the method described above, or may be calculated by a different method.</p><p id="p0159" num="0159">At least one time slot may be selected from time slots included in a time width t during which the QMF domain signal of the high frequency components transits from a steady state with a small variation of its signal power to a transient state with a large variation of its signal power, and that is smaller than a predetermined value t<sub>th</sub>. At least one time slot may also be selected from time slots included in a time width t<!-- EPO <DP n="95"> --> during which the signal power of the QMF domain signal of the high frequency components is changed from a transient state with a large variation to a steady state with a small variation, and that are larger than the predetermined value t<sub>th</sub>. The time slot r in which |P<sub>exp</sub>(r+1)-P<sub>exp</sub>(r)| is smaller than a predetermined value (or equal to or smaller than a predetermined value) may be the steady state, and the time slot r in which |P<sub>exp</sub>(r+1)-P<sub>exp</sub>(r)| is equal to or larger than a predetermined value (or larger than a predetermined value) may be the transient state. The time slot r in which |P<sub>exp,MA</sub>(r+1)-P<sub>exp,MA</sub>(r)| is smaller than a predetermined value (or equal to or smaller than a predetermined value) may be the steady state, and the time slot r in which |P<sub>exp,MA</sub>(r+1)-P<sub>exp,MA</sub>(r)| is equal to or larger than a predetermined value (or larger than a predetermined value) may be the transient state. The transient state and the steady state may be defined using the method described above, or may be defined using different methods. The time slot selecting method may be at least one of the methods described above, may include at least one method different from those described above, or may be the combination thereof.</p><heading id="h0025">(Modification 5 of First Reference-example)</heading><p id="p0160" num="0160">A speech encoding device 11c (<figref idrefs="f0045">FIG. 45</figref>) of a modification 5 of the first reference example physically includes a CPU, a ROM, a RAM, a communication device, and the like, which are not illustrated, and the CPU integrally controls the speech encoding device 11c by loading and executing a predetermined computer program stored in a built-in memory of the speech encoding device 11c such as the ROM into the RAM. The communication device of the speech encoding device 11c<!-- EPO <DP n="96"> --> receives a speech signal to be encoded from outside the speech encoding device 11c, and outputs an encoded multiplexed bit stream to the outside of the speech encoding device 11c. The speech encoding device 11c includes a time slot selecting unit 1p1 and a bit stream multiplexing unit 1g4, instead of the time slot selecting unit 1p and the bit stream multiplexing unit 1g of the speech encoding device 11b of the modification 4.</p><p id="p0161" num="0161">The time slot selecting unit 1p1 selects a time slot as the time slot selecting unit 1p described in the modification 4 of the first reference example, and transmits time slot selection information to the bit stream multiplexing unit 1g4. The bit stream multiplexing unit 1g4 multiplexes the encoded bit stream calculated by the core codec encoding unit 1c, the SBR supplementary information calculated by the SBR encoding unit 1d, and the filter strength parameter calculated by the filter strength parameter calculating unit 1f as the bit stream multiplexing unit 1g, also multiplexes the time slot selection information received from the time slot selecting unit 1p1, and outputs the multiplexed bit stream through the communication device of the speech encoding device 11c. The time slot selection information is time slot selection information received by a time slot selecting unit 3a1 in a speech decoding device 21 b, which will be describe later, and for example, an index r1 of a time slot to be selected may be included.. The time slot selection information may also be a parameter used in the time slot selecting method of the time slot selecting unit 3a1. The speech decoding device 21b (see <figref idrefs="f0020">FIG 20</figref>) of the modification 5 of the first reference example physically includes a CPU, a ROM, a RAM, a<!-- EPO <DP n="97"> --> communication device, and the like, which are not illustrated, and the CPU integrally controls the speech decoding device 21b by loading and executing a predetermined computer program (such as a computer program for performing processes illustrated in the flowchart of <figref idrefs="f0021">FIG. 21</figref>) stored in a built-in memory of the speech decoding device 21b such as the ROM into the RAM. The communication device of the speech decoding device 21b receives the encoded multiplexed bit stream and outputs a decoded speech signal to outside the speech decoding device 21b.</p><p id="p0162" num="0162">The speech decoding device 21b, as illustrated in <figref idrefs="f0020">FIG 20</figref>, includes a bit stream separating unit 2a5 and the time slot selecting unit 3a1 instead of the bit stream separating unit 2a and the time slot selecting unit 3a of the speech decoding device 21 a of the modification 4, and time slot selection information is supplied to the time slot selecting unit 3a1 The bit stream separating unit 2a5 separates the multiplexed bit stream into the filter strength parameter, the SBR supplementary information, and the encoded bit stream as the bit stream separating unit 2a, and further separates the time slot selection information. The time slot selecting unit 3a1 selects a time slot based on the time slot selection information transmitted from the bit stream separating unit 2a5 (process at Step Si1). The time slot selection information is information used for selecting a time slot, and for example, may include the index r1 of the time slot to be selected. The time slot selection information may also be a parameter, for example, used in the time slot selecting method described in the modification 4. In this case, although not illustrated, the QMF domain signal of the high<!-- EPO <DP n="98"> --> frequency components generated by the high frequency generating unit 2g may be supplied to the time slot selecting unit 3a1, in addition to the time slot selection information. The parameter may also be a predetermined value (such as P<sub>exp,Th</sub> and t<sub>Th</sub>) used for selecting the time slot.</p><heading id="h0026">(Modification 6 of First Reference example)</heading><p id="p0163" num="0163">A speech encoding device 11 d (not illustrated) of a modification 6 of the first reference example physically includes a CPU, a ROM, a RAM, a communication device, and the like, which are not illustrated, and the CPU integrally controls the speech encoding device 11d by loading and executing a predetermined computer program stored in a built-in memory of the speech encoding device 11d such as the ROM into the RAM. The communication device of the speech encoding device 11d receives a speech signal to be encoded from outside the speech encoding device 11d, and outputs an encoded multiplexed bit stream to the outside of the speech encoding device 11d The speech encoding device 11d includes a short-term power calculating unit 1i1, which is not illustrated, instead of the short-term power calculating unit 1i of the speech encoding device 11a of the modification 1, and further includes a time slot selecting unit 1p2.</p><p id="p0164" num="0164">The time slot selecting unit 1p2 receives a signal in the QMF domain from the frequency transform unit 1a, and selects a time slot corresponding to the time segment at which the short-term power calculation process is performed by the short-term power calculating unit 1i. The short-term power calculating unit 1i1 calculates the short-term power of a time segment corresponding to the selected time<!-- EPO <DP n="99"> --> slot based on the selection result transmitted from the time slot selecting unit 1p2, as the short-term power calculating unit 1i of the speech encoding device 11a of the modification 1.</p><heading id="h0027">(Modification 7 of First Reference example)</heading><p id="p0165" num="0165">A speech encoding device 11e (not illustrated) of a modification 7 of the first reference example physically includes a CPU, a ROM, a RAM, a communication device, and the like, which are not illustrated, and the CPU integrally controls the speech encoding device 11e by loading and executing a predetermined computer program stored in a built-in memory of the speech encoding device 11e such as the ROM into the RAM. The communication device of the speech encoding device 11e receives a speech signal to be encoded from outside the speech encoding device 11e, and outputs an encoded multiplexed bit stream to the outside of the speech encoding device 11e. The speech encoding device 11e includes a time slot selecting unit 1p3, which is not illustrated, instead of the time slot selecting unit 1p2 of the speech encoding device 11d of the modification 6. The speech encoding device 11e also includes a bit stream multiplexing unit that further receives an output from the time slot selecting unit 1p3, instead of the bit stream multiplexing unit 1g1. The time slot selecting unit 1p3 selects a time slot as the time slot selecting unit 1p2 described in the modification 6 of the first reference example, and transmits time slot selection information to the bit stream multiplexing unit.</p><heading id="h0028">(Modification 8 of First Reference example)</heading><p id="p0166" num="0166">A speech encoding device (not illustrated) of a modification 8 of the first reference example physically includes a CPU, a ROM, a RAM,<!-- EPO <DP n="100"> --> a<!-- EPO <DP n="101"> --> communication device, and the like, which are not illustrated, and the CPU integrally controls the speech encoding device of the modification 8 by loading and executing a predetermined computer program stored in a built-in memory of the speech encoding device of the modification 8 such as the ROM into the RAM. The communication device of the speech encoding device of the modification 8 receives a speech signal to be encoded from outside the speech encoding device, and outputs an encoded multiplexed bit stream to the outside of the speech encoding device. The speech encoding device of the modification 8 further includes the time slot selecting unit 1p in addition to those of the speech encoding device described in the modification 2.</p><p id="p0167" num="0167">A speech decoding device (not illustrated) of the modification 8 of the first reference example physically includes a CPU, a ROM, a RAM, a communication device, and the like, which are not illustrated, and the CPU integrally controls the speech decoding device of the modification 8 by loading and executing a predetermined computer program stored in a built-in memory of the speech decoding device of the modification 8 such as the ROM into the RAM. The communication device of the speech decoding device of the modification 8 receives the encoded multiplexed bit stream, and outputs a decoded speech signal to the outside of the speech decoding device. The speech decoding device of the modification 8 further includes the low frequency linear prediction analysis unit 2d1 the signal change detecting unit 2e1, the high frequency linear prediction analysis unit 2h1, the linear prediction inverse filter unit 2i1, and the linear prediction filter unit 2k3, instead of the low frequency linear prediction analysis<!-- EPO <DP n="102"> --> unit 2d, the signal change<!-- EPO <DP n="103"> --> detecting unit 2e, the high frequency linear prediction analysis unit 2h, the linear prediction inverse filter unit 2i, and the linear prediction filter unit 2k of the speech decoding device described in the modification 2, and further includes the time slot selecting unit 3a.</p><heading id="h0029">(Modification 9 of First Reference example)</heading><p id="p0168" num="0168">A speech encoding device (not illustrated) of a modification 9 of the first reference example physically includes a CPU, a ROM, a RAM, a communication device, and the like, which are not illustrated, and the CPU integrally controls the speech encoding device of the modification 9 by loading and executing a predetermined computer program stored in a built-in memory of the speech encoding device of the modification 9 such as the ROM into the RAM. The communication device of the speech encoding device of the modification 9 receives a speech signal to be encoded from outside the speech encoding device, and outputs an encoded multiplexed bit stream to the outside of the speech encoding device. The speech encoding device of the modification 9 includes the time slot selecting unit 1p1 instead of the time slot selecting unit 1p of the speech encoding device described in the modification 8. The speech encoding device of the modification 9 further includes a bit stream multiplexing unit that receives an output from the time slot selecting unit 1p1 in addition to the input supplied to the bit stream multiplexing unit described in the modification 8, instead of the bit stream multiplexing unit described in the modification 8.</p><p id="p0169" num="0169">A speech decoding device (not illustrated) of the modification 9 of the first reference example physically includes a CPU, a ROM, a RAM, a communication device, and the like, which are not illustrated,<!-- EPO <DP n="104"> --> and the<!-- EPO <DP n="105"> --> CPU integrally controls the speech decoding device of the modification 9 by loading and executing a predetermined computer program stored in a built-in memory of the speech decoding device of the modification 9 such as the ROM into the RAM. The communication device of the speech decoding device of the modification 9 receives the encoded multiplexed bit stream, and outputs a decoded speech signal to the outside of the speech decoding device. The speech decoding device of the modification 9 includes the time slot selecting unit 3a1 instead of the time slot selecting unit 3a of the speech decoding device described in the modification 8. The speech decoding device of the modification 9 further includes a bit stream separating unit that separates a<sub>D</sub> (n, r) described in the modification 2 instead of the filter strength parameter of the bit stream separating unit 2a5, instead of the bit stream separating unit 2a.</p><heading id="h0030">(Modification 1 of Second Reference example)</heading><p id="p0170" num="0170">A speech encoding device 12a (<figref idrefs="f0046">FIG 46</figref>) of a modification 1 of the second reference example physically includes a CPU, a ROM, a RAM, a communication device, and the like, which are not illustrated, and the CPU integrally controls the speech encoding device 12a by loading and executing a predetermined computer program stored in a built-in memory of the speech encoding device 12a such as the ROM into the RAM. The communication device of the speech encoding device 12a receives a speech signal to be encoded from outside the speech encoding device 12a, and outputs an encoded multiplexed bit stream to the outside of the speech encoding device 12a.. The speech encoding device 12a includes the linear prediction analysis unit 1e1<!-- EPO <DP n="106"> --> instead of the<!-- EPO <DP n="107"> --> linear prediction analysis unit 1e of the speech encoding device 12, and further includes the time slot selecting unit 1p.</p><p id="p0171" num="0171">A speech decoding device 22a (see <figref idrefs="f0022">FIG 22</figref>) of the modification 1 of the second reference example physically includes a CPU, a ROM, a RAM, a communication device, and the like, which are not illustrated, and the CPU integrally controls the speech decoding device 22a by loading and executing a predetermined computer program (such as a computer program for performing processes illustrated in the flowchart of <figref idrefs="f0023">FIG. 23</figref>) stored in a built-in memory of the speech decoding device 22a such as the ROM into the RAM. The communication device of the speech decoding device 22a receives the encoded multiplexed bit stream, and outputs a decoded speech signal to the outside of the speech decoding device 22a. The speech decoding device 22a, as illustrated in <figref idrefs="f0022">FIG 22</figref>, includes the high frequency linear prediction analysis unit 2h1, the linear prediction inverse filter unit 2i1, a linear prediction filter unit 2k2, and a linear prediction interpolation/extrapolation unit 2p1, instead of the high frequency linear prediction analysis unit 2h, the linear prediction inverse filter unit 2i, the linear prediction filter unit 2k1, and the linear prediction interpolation/extrapolation unit 2p of the speech decoding device 22 of the second reference example, and further includes the time slot selecting unit 3a.</p><p id="p0172" num="0172">The time slot selecting unit 3a notifies, of the selection result of the time slot, the high frequency linear prediction analysis unit 2h1, the linear prediction inverse filter unit 2i1, the linear prediction filter unit<!-- EPO <DP n="108"> --> 2k2, and the linear prediction coefficient interpolation/extrapolation unit 2p1. The linear prediction coefficient interpolation/extrapolation unit 2p1 obtains a<sub>H</sub> (n, r) corresponding to the time slot r1 that is the selected time slot and of which linear prediction coefficients are not transmitted by interpolation or extrapolation, as the linear prediction coefficient interpolation/extrapolation unit 2p, based on the selection result transmitted from the time slot selecting unit 3a (process at Step Sj1). The linear prediction filter unit 2k2 performs linear prediction synthesis filtering in the frequency direction on q<sub>adj</sub> (n, r1) output from the high frequency adjusting unit 2j for the selected time slot r1 by using a<sub>H</sub> (n, r1) being interpolated or extrapolated and obtained from the linear prediction coefficient interpolation/extrapolation unit 2p1, as the linear prediction filter unit 2k1 (process at Step Sj2), based on the selection result transmitted from the time slot selecting unit 3a. The changes made to the linear prediction filter unit 2k described in the modification 3 of the first reference example may also be made to the linear prediction filter unit 2k2.</p><heading id="h0031">(Modification 2 of Second Reference example)</heading><p id="p0173" num="0173">A speech encoding device 12b (<figref idrefs="f0047">FIG. 47</figref>) of a modification 2 of the second reference example physically includes a CPU, a ROM, a RAM, a communication device, and the like, which are not illustrated, and the CPU integrally controls the speech encoding device 11b by loading and executing a predetermined computer program stored in a built-in memory of the speech encoding device 12b such as the ROM into the RAM. The communication device of the speech encoding device 12b receives a speech signal to be encoded from outside the<!-- EPO <DP n="109"> --> speech<!-- EPO <DP n="110"> --> encoding device 12b, and outputs an encoded multiplexed bit stream to the outside of the speech encoding device 12b. The speech encoding device 12b includes the time slot selecting unit 1p and a bit stream multiplexing unit 1g5 instead of the time slot selecting unit 1p and the bit stream multiplexing unit 1g2 of the speech encoding device 12a of the modification 1. The bit stream multiplexing unit 1g5 multiplexes the encoded bit stream calculated by the core codec encoding unit 1c, the SBR supplementary information calculated by the SBR encoding unit 1d, and indices of the time slots corresponding to the quantized linear prediction coefficients received from the linear prediction coefficient quantizing unit 1k as the bit stream multiplexing unit 1g2, further multiplexes the time slot selection information received from the time slot selecting unit 1p1, and outputs the multiplexed bit stream through the communication device of the speech encoding device 12b.</p><p id="p0174" num="0174">A speech decoding device 22b (see <figref idrefs="f0024">FIG. 24</figref>) of the modification 2 of the second reference example physically includes a CPU, a ROM, a RAM, a communication device, and the like, which are not illustrated, and the CPU integrally controls the speech decoding device 22b by loading and executing a predetermined computer program (such as a computer program for performing processes illustrated in the flowchart of <figref idrefs="f0025">FIG. 25</figref>) stored in a built-in memory of the speech decoding device 22b such as the ROM into the RAM. The communication device of the speech decoding device 22b receives the encoded multiplexed bit stream, and outputs a decoded speech signal to the outside of the speech decoding device 22b. The speech decoding device 22b, as illustrated in <figref idrefs="f0024">FIG 24</figref>, includes a bit stream separating unit 2a6 and the time slot<!-- EPO <DP n="111"> --> selecting unit 3a1 instead of the bit stream separating unit 2a1 and the time slot selecting unit 3a of the speech decoding device 22a described in the modification 1, and time slot selection information is supplied to the time slot selecting unit 3a1. The bit stream separating unit 2a6 separates the multiplexed bit stream into a<sub>H</sub> (n, r<sub>i</sub>) being quantized, the index r<sub>i</sub> of the corresponding time slot, the SBR supplementary information, and the encoded bit stream as the bit stream separating unit 2a1, and further separates the time slot selection, information.</p><heading id="h0032">(Modification 4 of Third Reference example)</heading><p id="p0175" num="0175"><maths id="math0047" num="(47)"><math display="block"><mover><mrow><mi>e</mi><mfenced><mi>i</mi></mfenced></mrow><mo>‾</mo></mover></math><img id="ib0047" file="imgb0047.tif" wi="32" he="11" img-content="math" img-format="tif"/></maths> described in the modification 1 of the third reference example may be an average value of e (r) in the SBR envelope, or may be a value defined in some other manner.</p><heading id="h0033">(Modification 5 of Third Reference example)</heading><p id="p0176" num="0176">As described in the modification 3 of the third reference example, it is preferable that the envelope shape adjusting unit 2s control e<sub>adj</sub>(r) by using a predetermined value e<sub>adj,Th</sub>(r), considering that the adjusted temporal envelope e<sub>adj</sub>(r) is a gain coefficient multiplied by the QMF subband sample, for example; as the expression (28) and the expressions (37) and (38). <maths id="math0048" num="(48)"><math display="block"><msub><mi>e</mi><mi mathvariant="italic">adj</mi></msub><mfenced><mi>r</mi></mfenced><mo>≥</mo><msub><mi>e</mi><mrow><mi mathvariant="italic">adj</mi><mo>,</mo><mi mathvariant="italic">Th</mi></mrow></msub></math><img id="ib0048" file="imgb0048.tif" wi="77" he="15" img-content="math" img-format="tif"/></maths></p><heading id="h0034">(First embodiment)</heading><p id="p0177" num="0177">A speech encoding device 14 (<figref idrefs="f0048">FIG 48</figref>) of the first embodiment physically includes a CPU, a ROM, a RAM, a communication device, and the like, which are not illustrated, and the<!-- EPO <DP n="112"> --> CPU integrally controls the speech encoding device 14 by loading and executing a predetermined computer program stored in a built-in memory of the speech encoding device 14 such as the ROM into the RAM. The communication device of the speech encoding device 14 receives a speech signal to be encoded from outside the speech encoding device 14, and outputs an encoded multiplexed bit stream to the outside of the speech encoding device 14. The speech encoding device 14 includes a bit stream multiplexing unit 1g7 instead of the bit stream multiplexing unit 1g of the speech encoding device 11b of the modification 4 of the first reference example, and further includes the temporal envelope calculating unit 1m and the envelope shape parameter calculating unit 1n of the speech encoding device 13.</p><p id="p0178" num="0178">The bit stream multiplexing unit 1g7 multiplexes the encoded bit stream calculated by the core codec encoding unit 1c and the SBR supplementary information calculated by the SBR encoding unit 1d as the bit stream multiplexing unit 1g, converts the filter strength parameter calculated by the filter strength parameter calculating unit and the envelope shape parameter calculated by the envelope shape parameter calculating unit 1n into the temporal envelope supplementary information, multiplexes them, and outputs the multiplexed bit stream (encoded multiplexed bit stream) through the communication device of the speech encoding device 14.</p><heading id="h0035">(Modification 4 of First embodiment)</heading><p id="p0179" num="0179">A speech encoding device 14a (<figref idrefs="f0049">FIG. 49</figref>) of a modification 4 of the first embodiment physically includes a CPU, a ROM, a RAM, a communication device, and the like, which are not illustrated, and the<!-- EPO <DP n="113"> --> CPU integrally controls the speech encoding device 14a by loading and executing a predetermined computer program stored in a built-in memory of the speech encoding device 14a such as the ROM into the RAM. The communication device of the speech encoding device 14a receives a speech signal to be encoded from outside the speech encoding device 14a, and outputs an encoded multiplexed bit stream to the outside of the speech encoding device 14a. The speech encoding device 14a includes the linear prediction analysis unit 1e1 instead of the linear prediction analysis unit 1e of the speech encoding device 14 of the first embodiment, and further includes the time slot selecting unit 1p.</p><p id="p0180" num="0180">A speech decoding device 24d (see <figref idrefs="f0026">FIG. 26</figref>) of the modification 4 of the first embodiment physically includes a CPU, a ROM, a RAM, a communication device, and the like, which are not illustrated, and the CPU integrally controls the speech decoding device 24d by loading and executing a predetermined computer program (such as a computer program for performing processes illustrated in the flowchart of <figref idrefs="f0027">FIG. 27</figref>) stored in a built-in memory of the speech decoding device 24d such as the ROM into the RAM. The communication device of the speech decoding device 24d receives the encoded multiplexed bit stream, and outputs a decoded speech signal to the outside of the speech decoding device 24d. The speech decoding device 24d, as illustrated in <figref idrefs="f0026">FIG. 26</figref>, includes the low frequency linear prediction analysis unit 2d1, the signal change detecting unit 2e1, the high frequency linear prediction analysis unit 2h1, the linear prediction inverse filter unit 2i1, and the linear prediction filter unit 2k3 instead of the low frequency linear prediction<!-- EPO <DP n="114"> --> analysis unit 2d, the signal change detecting unit 2e, the high frequency linear prediction analysis unit 2h, the linear prediction inverse filter unit 2i, and the linear prediction filter unit 2k of the speech decoding device 24, and further includes the time slot selecting unit 3a. The temporal envelope shaping unit 2v shapes the signal in the QMF domain obtained from the linear prediction filter unit 2k3 by using the temporal envelope information obtained from the envelope shape adjusting unit 2s, as the temporal envelope shaping unit or of the third reference example, the first embodiment, and the modifications thereof (process at Step Sk1).</p><heading id="h0036">(Modification 5 of First embodiment)</heading><p id="p0181" num="0181">A speech decoding device 24e (see <figref idrefs="f0028">FIG 28</figref>) of a modification 5 of the first embodiment physically includes a CPU, a ROM, a RAM, a communication device, and the like, which are not illustrated, and the CPU integrally controls the speech decoding device 24e by loading and executing a predetermined computer program (such as a computer program for performing processes illustrated in the flowchart of <figref idrefs="f0029">FIG. 29</figref>) stored in a built-in memory of the speech decoding device 24e such as the ROM into the RAM. The communication device of the speech decoding device 24e receives the encoded multiplexed bit stream, and outputs a decoded speech signal to the outside of the speech decoding device 24e. In the modification 5, as illustrated in <figref idrefs="f0028">FIG 28</figref>, the speech decoding device 24e omits the high frequency linear prediction analysis unit 2h1 and the linear prediction inverse filter unit 2i1 of the speech decoding device 24d described in the modification 4 that can be omitted throughout the first embodiment as the first reference example, and includes a time slot selecting unit 3a2 and a temporal envelope shaping<!-- EPO <DP n="115"> --> unit 2v1<!-- EPO <DP n="116"> --> instead of the time slot selecting unit 3a and the temporal envelope shaping unit 2v of the speech decoding device 24d. The speech decoding device 24e also changes the order of the linear prediction synthesis filtering performed by the linear prediction filter unit 2k3 and the temporal envelope shaping process performed by the temporal envelope shaping unit 2v1 whose processing order is interchangeable throughout the first embodiment.</p><p id="p0182" num="0182">The temporal envelope shaping unit 2v1 shapes q<sub>adj</sub> (k, r) obtained from the high frequency adjusting unit 2j by using e<sub>adj</sub>(r) obtained from the envelope shape adjusting unit 2s, as the temporal envelope shaping unit 2v, and obtains a signal q<sub>envadj</sub> (k, r) in the QMF domain in which the temporal envelope is shaped The temporal envelope shaping unit 2v1 also notifies the time slot selecting unit 3a2 of parameters obtained when the temporal envelope is being shaped, or parameters calculated by at least using the parameters obtained when the temporal envelope is being shaped as time slot selection information. The time slot selection information may be e(r) of the expression (22) or the expression (40), or |e(r)|<sup>2</sup> to which the square root operation is not applied during the calculation process. A plurality of time slot sections (such as SBR envelopes) <maths id="math0049" num="(49)"><math display="block"><msub><mi>b</mi><mi>i</mi></msub><mo>≤</mo><mi>r</mi><mo>&lt;</mo><msub><mi>b</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></math><img id="ib0049" file="imgb0049.tif" wi="64" he="16" img-content="math" img-format="tif"/></maths> may also be used, and the expression (24) that is the average value thereof <maths id="math0050" num="(50)"><math display="block"><mover><mrow><mi>e</mi><mfenced><mi>i</mi></mfenced></mrow><mo>‾</mo></mover><mo>,</mo><msup><mfenced open="|" close="|"><mover><mrow><mi>e</mi><mfenced><mi>i</mi></mfenced></mrow><mo>‾</mo></mover></mfenced><mn>2</mn></msup></math><img id="ib0050" file="imgb0050.tif" wi="49" he="15" img-content="math" img-format="tif"/></maths><!-- EPO <DP n="117"> --> may also be used as the time slot selection information. It is noted that: <maths id="math0051" num="(51)"><math display="block"><msup><mfenced open="|" close="|"><mover><mrow><mi>e</mi><mfenced><mi>i</mi></mfenced></mrow><mo>‾</mo></mover></mfenced><mn>2</mn></msup><mo>=</mo><mfrac><mrow><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>r</mi><mo>=</mo><msub><mi mathvariant="italic">b</mi><mi>i</mi></msub></mrow><mrow><msub><mi>b</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>-</mo><mn>1</mn></mrow></munderover></mstyle><msup><mfenced open="|" close="|" separators=""><mi>e</mi><mfenced><mi>r</mi></mfenced></mfenced><mn>2</mn></msup></mrow><mrow><msub><mi>b</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>-</mo><msub><mi>b</mi><mi>i</mi></msub></mrow></mfrac></math><img id="ib0051" file="imgb0051.tif" wi="77" he="28" img-content="math" img-format="tif"/></maths></p><p id="p0183" num="0183">The time slot selection information may also be e<sub>exp</sub>(r) of the expression (26) and the expression (41), or |e<sub>exp</sub>(r)|<sup>2</sup> to which the square root operation is not applied during the calculation process. A plurality of time slot segments (such as SBR envelopes) <maths id="math0052" num="(52)"><math display="block"><msub><mi>b</mi><mi>i</mi></msub><mo>≤</mo><mi>r</mi><mo>&lt;</mo><msub><mi>b</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></math><img id="ib0052" file="imgb0052.tif" wi="63" he="14" img-content="math" img-format="tif"/></maths> and the average value thereof <maths id="math0053" num="(53)"><math display="block"><msub><mover><mi>e</mi><mo>‾</mo></mover><mi mathvariant="italic">exp</mi></msub><mfenced><mi>i</mi></mfenced><mo>,</mo><msup><mfenced open="|" close="|" separators=""><msub><mover><mi>e</mi><mo>‾</mo></mover><mi mathvariant="italic">exp</mi></msub><mfenced><mi>i</mi></mfenced></mfenced><mn>2</mn></msup></math><img id="ib0053" file="imgb0053.tif" wi="76" he="17" img-content="math" img-format="tif"/></maths> may also be used as the time slot selection information. It is noted that: <maths id="math0054" num="(54)"><math display="block"><msub><mover><mi>e</mi><mo>‾</mo></mover><mi mathvariant="italic">exp</mi></msub><mfenced><mi>i</mi></mfenced><mo>=</mo><mfrac><mrow><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>r</mi><mo>=</mo><msub><mi mathvariant="italic">b</mi><mi>i</mi></msub></mrow><mrow><msub><mi>b</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>-</mo><mn>1</mn></mrow></munderover></mstyle><msub><mi>e</mi><mi mathvariant="italic">exp</mi></msub><mfenced><mi>r</mi></mfenced></mrow><mrow><msub><mi>b</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>-</mo><msub><mi>b</mi><mi>i</mi></msub></mrow></mfrac></math><img id="ib0054" file="imgb0054.tif" wi="91" he="32" img-content="math" img-format="tif"/></maths> <maths id="math0055" num="(55)"><math display="block"><msup><mfenced open="|" close="|" separators=""><msub><mover><mi>e</mi><mo>‾</mo></mover><mi mathvariant="italic">exp</mi></msub><mfenced><mi>i</mi></mfenced></mfenced><mn>2</mn></msup><mo>=</mo><mfrac><mrow><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>r</mi><mo>=</mo><msub><mi mathvariant="italic">b</mi><mi>i</mi></msub></mrow><mrow><msub><mi>b</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>-</mo><mn>1</mn></mrow></munderover></mstyle><msup><mfenced open="|" close="|" separators=""><msub><mi>e</mi><mi mathvariant="italic">exp</mi></msub><mfenced><mi>r</mi></mfenced></mfenced><mn>2</mn></msup></mrow><mrow><msub><mi>b</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>-</mo><msub><mi>b</mi><mi>i</mi></msub></mrow></mfrac></math><img id="ib0055" file="imgb0055.tif" wi="89" he="33" img-content="math" img-format="tif"/></maths> The time slot selection information may also be e<sub>adj</sub>(r) of the expression<!-- EPO <DP n="118"> --> (23), the expression (35) or the expression (36), or may be |e<sub>adj</sub>(r)|<sup>2</sup> to which the square root operation is not applied during the calculation process. A plurality of time slot segments (such as SBR envelopes) <maths id="math0056" num="(56)"><math display="block"><msub><mi>b</mi><mi>i</mi></msub><mo>≤</mo><mi>r</mi><mo>&lt;</mo><msub><mi>b</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></math><img id="ib0056" file="imgb0056.tif" wi="63" he="10" img-content="math" img-format="tif"/></maths> and the average value thereof <maths id="math0057" num="(57)"><math display="block"><msub><mover><mi>e</mi><mo>‾</mo></mover><mi mathvariant="italic">adj</mi></msub><mfenced><mi>i</mi></mfenced><mo>,</mo><msup><mfenced open="|" close="|" separators=""><msub><mover><mi>e</mi><mo>‾</mo></mover><mi mathvariant="italic">adj</mi></msub><mfenced><mi>i</mi></mfenced></mfenced><mn>2</mn></msup></math><img id="ib0057" file="imgb0057.tif" wi="80" he="16" img-content="math" img-format="tif"/></maths> may also be used as the time slot selection information. It is noted that: <maths id="math0058" num="(58)"><math display="block"><msub><mover><mi>e</mi><mo>‾</mo></mover><mi mathvariant="italic">adj</mi></msub><mfenced><mi>i</mi></mfenced><mo>=</mo><mfrac><mrow><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>r</mi><mo>=</mo><msub><mi mathvariant="italic">b</mi><mi>i</mi></msub></mrow><mrow><msub><mi>b</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>-</mo><mn>1</mn></mrow></munderover></mstyle><msub><mi>e</mi><mi mathvariant="italic">adj</mi></msub><mfenced><mi>r</mi></mfenced></mrow><mrow><msub><mi>b</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>-</mo><msub><mi>b</mi><mi>i</mi></msub></mrow></mfrac></math><img id="ib0058" file="imgb0058.tif" wi="78" he="29" img-content="math" img-format="tif"/></maths> <maths id="math0059" num="(59)"><math display="block"><msup><mfenced open="|" close="|" separators=""><msub><mover><mi>e</mi><mo>‾</mo></mover><mi mathvariant="italic">adj</mi></msub><mfenced><mi>i</mi></mfenced></mfenced><mn>2</mn></msup><mo>=</mo><mfrac><mrow><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>r</mi><mo>=</mo><msub><mi mathvariant="italic">b</mi><mi>i</mi></msub></mrow><mrow><msub><mi>b</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>-</mo><mn>1</mn></mrow></munderover></mstyle><msup><mfenced open="|" close="|" separators=""><msub><mi>e</mi><mi mathvariant="italic">adj</mi></msub><mfenced><mi>r</mi></mfenced></mfenced><mn>2</mn></msup></mrow><mrow><msub><mi>b</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>-</mo><msub><mi>b</mi><mi>i</mi></msub></mrow></mfrac></math><img id="ib0059" file="imgb0059.tif" wi="92" he="33" img-content="math" img-format="tif"/></maths> The time slot selection information may also be e<sub>adj,scaled</sub>(r) of the expression (37), or may be |e<sub>adi</sub>, <sub>scaled</sub>(r)|<sup>2</sup> to which the square root operation is not applied during the calculation process. In a plurality of time slot segments (such as SBR envelopes) <maths id="math0060" num="(60)"><math display="block"><msub><mi>b</mi><mi>i</mi></msub><mo>≤</mo><mi>r</mi><mo>&lt;</mo><msub><mi>b</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></math><img id="ib0060" file="imgb0060.tif" wi="68" he="15" img-content="math" img-format="tif"/></maths> and the average value thereof <maths id="math0061" num="(61)"><math display="block"><msub><mover><mi>e</mi><mo>‾</mo></mover><mrow><mi mathvariant="italic">adj</mi><mo>,</mo><mi mathvariant="italic">scaled</mi></mrow></msub><mfenced><mi>i</mi></mfenced><mo>,</mo><mspace width="2em"/><msup><mfenced open="|" close="|" separators=""><msub><mover><mi>e</mi><mo>‾</mo></mover><mrow><mi mathvariant="italic">adj</mi><mo>,</mo><mi mathvariant="italic">scaled</mi></mrow></msub><mfenced><mi>i</mi></mfenced></mfenced><mn>2</mn></msup></math><img id="ib0061" file="imgb0061.tif" wi="123" he="17" img-content="math" img-format="tif"/></maths> may also be used as the time slot selection information. It is noted<!-- EPO <DP n="119"> --> that: <maths id="math0062" num="(62)"><math display="block"><msub><mover><mi>e</mi><mo>‾</mo></mover><mrow><mi mathvariant="italic">adj</mi><mo>,</mo><mi mathvariant="italic">scaled</mi></mrow></msub><mfenced><mi>i</mi></mfenced><mo>=</mo><mfrac><mrow><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>r</mi><mo>=</mo><msub><mi mathvariant="italic">b</mi><mi>i</mi></msub></mrow><mrow><msub><mi>b</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>-</mo><mn>1</mn></mrow></munderover></mstyle><msub><mi>e</mi><mrow><mi mathvariant="italic">adj</mi><mo>,</mo><mi mathvariant="italic">scaled</mi></mrow></msub><mfenced><mi>r</mi></mfenced></mrow><mrow><msub><mi>b</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>-</mo><msub><mi>b</mi><mi>i</mi></msub></mrow></mfrac></math><img id="ib0062" file="imgb0062.tif" wi="105" he="30" img-content="math" img-format="tif"/></maths> <maths id="math0063" num="(63)"><math display="block"><msup><mfenced open="|" close="|" separators=""><msub><mover><mi>e</mi><mo>‾</mo></mover><mrow><mi mathvariant="italic">adj</mi><mo>,</mo><mi mathvariant="italic">scaled</mi></mrow></msub><mfenced><mi>i</mi></mfenced></mfenced><mn>2</mn></msup><mo>=</mo><mfrac><mrow><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>r</mi><mo>=</mo><msub><mi mathvariant="italic">b</mi><mi>i</mi></msub></mrow><mrow><msub><mi>b</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>-</mo><mn>1</mn></mrow></munderover></mstyle><msup><mfenced open="|" close="|" separators=""><msub><mi>e</mi><mrow><mi mathvariant="italic">adj</mi><mo>,</mo><mi mathvariant="italic">scaled</mi></mrow></msub><mfenced><mi>r</mi></mfenced></mfenced><mn>2</mn></msup></mrow><mrow><msub><mi>b</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>-</mo><msub><mi>b</mi><mi>i</mi></msub></mrow></mfrac></math><img id="ib0063" file="imgb0063.tif" wi="116" he="34" img-content="math" img-format="tif"/></maths> The time slot selection information may also be a signal power P<sub>envadj</sub>(r) of the time slot r of the QMF domain signal corresponding to the high frequency components in which the temporal envelope is shaped or a signal amplitude value thereof to which the square root operation is applied <maths id="math0064" num="(64)"><math display="block"><msqrt><msub><mi>P</mi><mi mathvariant="italic">envadj</mi></msub><mfenced><mi>r</mi></mfenced></msqrt></math><img id="ib0064" file="imgb0064.tif" wi="61" he="16" img-content="math" img-format="tif"/></maths> In a plurality of time slot segments (such as SBR envelopes) <maths id="math0065" num="(65)"><math display="block"><msub><mi>b</mi><mi>i</mi></msub><mo>≤</mo><mi>r</mi><mo>&lt;</mo><msub><mi>b</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></math><img id="ib0065" file="imgb0065.tif" wi="62" he="14" img-content="math" img-format="tif"/></maths> and the average value thereof <maths id="math0066" num="(66)"><math display="block"><msub><mover><mi>P</mi><mo>‾</mo></mover><mi mathvariant="italic">envadj</mi></msub><mfenced><mi>i</mi></mfenced><mo>,</mo><mspace width="2em"/><msqrt><msub><mover><mi>P</mi><mo>‾</mo></mover><mi mathvariant="italic">envadj</mi></msub><mfenced><mi>i</mi></mfenced></msqrt></math><img id="ib0066" file="imgb0066.tif" wi="91" he="16" img-content="math" img-format="tif"/></maths> may also be used as the time slot selection information. It is noted that: <maths id="math0067" num="(67)"><math display="block"><msub><mi>P</mi><mi mathvariant="italic">envadj</mi></msub><mfenced><mi>r</mi></mfenced><mo>=</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><msub><mi>k</mi><mi>x</mi></msub></mrow><mrow><msub><mi>k</mi><mi>x</mi></msub><mo>+</mo><mi>M</mi><mo>-</mo><mn>1</mn></mrow></munderover></mstyle><msup><mfenced open="|" close="|" separators=""><msub><mi>q</mi><mi mathvariant="italic">envadj</mi></msub><mfenced><mi>k</mi><mi>r</mi></mfenced></mfenced><mn>2</mn></msup></math><img id="ib0067" file="imgb0067.tif" wi="107" he="21" img-content="math" img-format="tif"/></maths><!-- EPO <DP n="120"> --> <maths id="math0068" num="(68)"><math display="block"><msub><mover><mi>P</mi><mo>‾</mo></mover><mi mathvariant="italic">envadj</mi></msub><mfenced><mi>i</mi></mfenced><mo>=</mo><mfrac><mrow><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>r</mi><mo>=</mo><msub><mi mathvariant="italic">b</mi><mi>i</mi></msub></mrow><mrow><msub><mi>b</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>-</mo><mn>1</mn></mrow></munderover></mstyle><msub><mi>P</mi><mi mathvariant="italic">envadj</mi></msub><mfenced><mi>r</mi></mfenced></mrow><mrow><msub><mi>b</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>-</mo><msub><mi>b</mi><mi>i</mi></msub></mrow></mfrac></math><img id="ib0068" file="imgb0068.tif" wi="106" he="35" img-content="math" img-format="tif"/></maths> M is a value representing a frequency range higher than that of the lower limit frequency k<sub>x</sub> of the high frequency components generated by the high frequency generating unit 2g, and the frequency range of the high frequency components generated by the high frequency generating unit 2g may also be represented as k<sub>x</sub>≤k≤k<sub>x</sub>+M.</p><p id="p0184" num="0184">The time slot selecting unit 3a2 selects time slots at which the linear prediction synthesis filtering by the linear prediction filter unit 2k is performed, by determining whether linear prediction synthesis filtering is performed on the signal q<sub>envadj</sub> (k, r) in the QMF domain of the high frequency components of the time slot r in which the temporal envelope is shaped by the temporal envelope shaping unit 2v1, based on the time slot selection information transmitted from the temporal envelope shaping unit 2v1 (process at Step Sp1).</p><p id="p0185" num="0185">To select time slots at which the linear prediction synthesis filtering is performed by the time slot selecting unit 3a2 in the present modification, at least one time slot r in which a parameter u(r) included in the time slot selection information transmitted from the temporal envelope shaping unit 2v 1 is larger than a predetermined value u<sub>Th</sub> may be selected, or at least one time slot r in which u(r) is equal to or larger than a predetermined value u<sub>Th</sub> may be selected. u(r) may include at least one of e(r), |e(r)|<sup>2</sup>, e<sub>exp</sub>(r), |e<sub>exp</sub>(r)|<sup>2</sup>, e<sub>adj</sub>(r), |<sub>adi</sub>(r)|<sup>2</sup>, e<sub>adj</sub>,<sub>scaled</sub>(r), |e<sub>adj</sub>,<sub>scaled</sub>(r)|<sup>2</sup>, and P<sub>envadj</sub>(r) described above, and;<!-- EPO <DP n="121"> --> <maths id="math0069" num="(69)"><math display="block"><msqrt><msub><mi>P</mi><mi mathvariant="italic">envadj</mi></msub><mfenced><mi>r</mi></mfenced></msqrt></math><img id="ib0069" file="imgb0069.tif" wi="65" he="20" img-content="math" img-format="tif"/></maths> and u<sub>Th</sub> may include at least one of; <maths id="math0070" num="(70)"><math display="block"><mtable columnalign="left"><mtr><mtd><mover><mrow><mi>e</mi><mfenced><mi>i</mi></mfenced></mrow><mo>‾</mo></mover><mo>,</mo><msup><mfenced open="|" close="|"><mover><mrow><mi>e</mi><mfenced><mi>i</mi></mfenced></mrow><mo>‾</mo></mover></mfenced><mn>2</mn></msup><mo>,</mo><msub><mi>e</mi><mi>exp</mi></msub><mfenced><mi>i</mi></mfenced><mo>,</mo></mtd></mtr><mtr><mtd><msup><mfenced open="|" close="|" separators=""><msub><mover><mi>e</mi><mo>‾</mo></mover><mi>exp</mi></msub><mfenced><mi>i</mi></mfenced></mfenced><mn>2</mn></msup><mo>,</mo><msub><mover><mi>e</mi><mo>‾</mo></mover><mi mathvariant="italic">adj</mi></msub><mfenced><mi>i</mi></mfenced><mo>,</mo><msup><mfenced open="|" close="|" separators=""><msub><mover><mi>e</mi><mo>‾</mo></mover><mi mathvariant="italic">adj</mi></msub><mfenced><mi>i</mi></mfenced></mfenced><mn>2</mn></msup></mtd></mtr><mtr><mtd><msub><mover><mi>e</mi><mo>‾</mo></mover><mrow><mi mathvariant="italic">adj</mi><mo>,</mo><mi mathvariant="italic">scaled</mi></mrow></msub><mfenced><mi>i</mi></mfenced><mo>,</mo><msup><mfenced open="|" close="|" separators=""><msub><mover><mi>e</mi><mo>‾</mo></mover><mrow><mi mathvariant="italic">adj</mi><mo>,</mo><mi mathvariant="italic">scaled</mi></mrow></msub><mfenced><mi>i</mi></mfenced></mfenced><mn>2</mn></msup><mo>,</mo></mtd></mtr><mtr><mtd><msub><mover><mi>P</mi><mo>‾</mo></mover><mi mathvariant="italic">envadj</mi></msub><mfenced><mi>i</mi></mfenced><mo>,</mo><msqrt><msub><mover><mi>P</mi><mo>‾</mo></mover><mi mathvariant="italic">envadj</mi></msub><mfenced><mi>i</mi></mfenced></msqrt><mo>,</mo></mtd></mtr></mtable></math><img id="ib0070" file="imgb0070.tif" wi="96" he="61" img-content="math" img-format="tif"/></maths> u<sub>Th</sub> may also be an average value of u(r) of a predetermined time width (such as SBR envelope) including the time slot r. The selection may also be made so that time slots at which u(r) reaches its peaks are included. The peaks of u(r) may be calculated as calculating the peaks of the signal power in the QMF domain signal of the high frequency components in the modification 4 of the first reference example. The steady state and the transient state in the modification 4 of the first reference example may be determined similar to those of the modification 4 of the first reference example by using u(r), and time slots may be selected based on this. The time slot selecting method may be at least one of the methods described above, may include at least one method different from those described above, or may be the combination thereof.</p><heading id="h0037">(Modification 6 of First embodiment)</heading><p id="p0186" num="0186">A speech decoding device 24f (see <figref idrefs="f0030">FIG. 30</figref>) of a modification 6 of the first embodiment physically includes a CPU, a ROM, a RAM, a<!-- EPO <DP n="122"> --> communication device, and the like, which are not illustrated, and the<!-- EPO <DP n="123"> --> CPU integrally controls the speech decoding device 24f by loading and executing a predetermined computer program (such as a computer program for performing processes illustrated in the flowchart of <figref idrefs="f0029">FIG. 29</figref>) stored in a built-in memory of the speech decoding device 24f such as the ROM into the RAM. The communication device of the speech decoding device 24f receives the encoded multiplexed bit stream and outputs a decoded speech signal to outside the speech decoding device 24f. In the modification 6, as illustrated in <figref idrefs="f0030">FIG 30</figref>, the speech decoding device 24f omits the signal change detecting unit 2e1, the high frequency linear prediction analysis unit 2h1, and the linear prediction inverse filter unit 2i 1 of the speech decoding device 24d described in the modification 4 that can be omitted throughout the first embodiment as the first reference example, and includes the time slot selecting unit 3a2 and the temporal envelope shaping unit 2v1 instead of the time slot selecting unit 3a and the temporal envelope shaping unit 2v of the speech decoding device 24d. The speech decoding device 24f also changes the order of the linear prediction synthesis filtering performed by the linear prediction filter unit 2k3 and the temporal envelope shaping process performed by the temporal envelope shaping unit 2v1 whose processing order is interchangeable throughout the first embodiment.</p><p id="p0187" num="0187">The time slot selecting unit 3a2 determines whether linear prediction synthesis filtering is performed by the linear prediction filter unit 2k3, on the signal q<sub>envadj</sub> (k, r) in the QMF domain of the high frequency components of the time slots r in which the temporal envelope is shaped by the temporal envelope shaping unit 2v1, based on<!-- EPO <DP n="124"> --> the time slot selection information transmitted from the temporal<!-- EPO <DP n="125"> --> envelope shaping unit 2v1, selects time slots at which the linear prediction synthesis filtering is performed, and notifies, of the selected time slots, the low frequency linear prediction analysis unit 2d1 and the linear prediction filter unit 2k3.</p><heading id="h0038">(Modification 7 of First embodiment)</heading><p id="p0188" num="0188">A speech encoding device 14b (<figref idrefs="f0050">FIG 50</figref>) of a modification 7 of the first embodiment physically includes a CPU, a ROM, a RAM, a communication device, and the like, which are not illustrated, and the CPU integrally controls the speech encoding device 14b by loading and executing a predetermined computer program stored in a built-in memory of the speech encoding device 14b such as the ROM into the RAM. The communication device of the speech encoding device 14b receives a speech signal to be encoded from outside the speech encoding device 14b, and outputs an encoded multiplexed bit stream to the outside of the speech encoding device 14b. The speech encoding device 14b includes a bit stream multiplexing unit 1g6 and the time slot selecting unit 1p1 instead of the bit stream multiplexing unit 1g7 and the time slot selecting unit 1p of the speech encoding device 14a of the modification 4.</p><p id="p0189" num="0189">The bit stream multiplexing unit 1g6 multiplexes the encoded bit stream calculated by the core codec encoding unit 1c, the SBR supplementary information calculated by the SBR encoding unit 1d, and the temporal envelope supplementary information in which the filter strength parameter calculated by the filter strength parameter calculating unit and the envelope shape parameter calculated by the envelope shape parameter calculating unit 1n are converted, also multiplexes the time<!-- EPO <DP n="126"> --> slot selection information received from the time slot selecting unit 1p1, and outputs the multiplexed bit stream (encoded multiplexed bit stream) through the communication device of the speech encoding device 14b.</p><p id="p0190" num="0190">A speech decoding device 24g (see <figref idrefs="f0031">FIG 31</figref>) of the modification 7 of the first embodiment physically includes a CPU, a ROM, a RAM, a communication device, and the like, which are not illustrated, and the CPU integrally controls the speech decoding device 24g by loading and executing a predetermined computer program (such as a computer program for performing processes illustrated in the flowchart of <figref idrefs="f0032">FIG. 32</figref>) stored in a built-in memory of the speech decoding device 24g such as the ROM into the RAM. The communication device of the speech decoding device 24g receives the encoded multiplexed bit stream and outputs a decoded speech signal to outside the speech decoding device 24g. The speech decoding device 24g includes a bit stream separating unit 2a7 and the time slot selecting unit 3a1 instead of the bit stream separating unit 2a3 and the time slot selecting unit 3a of the speech decoding device 24d described in the modification 4.</p><p id="p0191" num="0191">The bit stream separating unit 2a7 separates the multiplexed bit stream supplied through the communication device of the speech decoding device 24g into the temporal envelope supplementary information, the SBR supplementary information, and the encoded bit stream, as the bit stream separating unit 2a3, and further separates the time slot selection information.</p><heading id="h0039">(Modification 8 of First embodiment)</heading><p id="p0192" num="0192">A speech decoding device 24h (see <figref idrefs="f0033">FIG. 33</figref>) of a modification 8 of the first embodiment physically includes a CPU, a ROM, a RAM, a<!-- EPO <DP n="127"> --> communication device, and the like, which are not illustrated, and the CPU integrally controls the speech decoding device 24h by loading and executing a predetermined computer program (such as a computer program for performing processes illustrated in the flowchart of <figref idrefs="f0034">FIG 34</figref>) stored in a built-in memory of the speech decoding device 24h such as the ROM into the RAM. The communication device of the speech decoding device 24h receives the encoded multiplexed bit stream and outputs a decoded speech signal to outside the speech decoding device 24h. The speech decoding device 24h, as illustrated in <figref idrefs="f0033">FIG. 33</figref>, includes the low frequency linear prediction analysis unit 2d1, the signal change detecting unit 2e1, the high frequency linear prediction analysis unit 2h1, the linear prediction inverse filter unit 2i1, and the linear prediction filter unit 2k3 instead of the low frequency linear prediction analysis unit 2d, the signal change detecting unit 2e, the high frequency linear prediction analysis unit 2h, the linear prediction inverse filter unit 2i, and the linear prediction filter unit 2k of the speech decoding device 24b of the modification 2, and further includes the time slot selecting unit 3a. The primary high frequency adjusting unit 2j1 performs at least one of the processes in the "HF Adjustment" step in SBR in "MPEG-4 AAC", as the primary high frequency adjusting unit 2j 1 of the modification 2 of the first embodiment (process at Step Sm1). The secondary high frequency adjusting unit 2j2 performs at least one of the processes in the "HF Adjustment" step in SBR in "MPEG-4 AAC", as the secondary high frequency adjusting unit 2j2 of the modification 2 of the first embodiment (process at Step Sm2). It is preferable that the process performed by the secondary high frequency adjusting unit 2j2<!-- EPO <DP n="128"> --> be a process not performed by the primary high frequency adjusting unit 2j1 among the processes in the "HF Adjustment" step in SBR in "MPEG-4 AAC".</p><heading id="h0040">(Modification 9 of First embodiment)</heading><p id="p0193" num="0193">A speech decoding device 24i (see <figref idrefs="f0035">FIG. 35</figref>) of the modification 9 of the first embodiment physically includes a CPU, a ROM, a RAM, a communication device, and the like, which are not illustrated, and the CPU integrally controls the speech decoding device 24i by loading and executing a predetermined computer program (such as a computer program for performing processes illustrated in the flowchart of <figref idrefs="f0036">FIG. 36</figref>) stored in a built-in memory of the speech decoding device 24i such as the ROM into the RAM. The communication device of the speech decoding device 24i receives the encoded multiplexed bit stream and outputs a decoded speech signal to outside the speech decoding device 24i. The speech decoding device 24i, as illustrated in <figref idrefs="f0035">FIG 35</figref>, omits the high frequency linear prediction analysis unit 2h1 and the linear prediction inverse filter unit 2i1 of the speech decoding device 24h of the modification 8 that can be omitted throughout the first embodiment as the first reference example, and includes the temporal envelope shaping unit 2v1 and the time slot selecting unit 3a2 instead of the temporal envelope shaping unit 2v and the time slot selecting unit 3a of the speech decoding device 24h of the modification 8. The speech decoding device 24i also changes the order of the linear prediction synthesis filtering performed by the linear prediction filter unit 2k3 and the temporal envelope shaping process performed by the temporal envelope shaping unit 2v 1 whose processing order is interchangeable<!-- EPO <DP n="129"> --> throughout the first embodiment.</p><heading id="h0041">(Modification 10 of First embodiment)</heading><p id="p0194" num="0194">A speech decoding device 24j (see <figref idrefs="f0037">FIG. 37</figref>) of a modification 10 of the first embodiment physically includes a CPU, a ROM, a RAM, a communication device, and the like, which are not illustrated, and the CPU integrally controls the speech decoding device 24j by loading and executing a predetermined computer program (such as a computer program for performing processes illustrated in the flowchart of <figref idrefs="f0036">FIG. 36</figref>) stored in a built-in memory of the speech decoding device 24j such as the ROM into the RAM. The communication device of the speech decoding device 24j receives the encoded multiplexed bit stream and outputs a decoded speech signal to outside the speech decoding device 24j. The speech decoding device 24j, as illustrated in <figref idrefs="f0037">FIG 37</figref>, omits the signal change detecting unit 2e1 the high frequency linear prediction analysis unit 2h1, and the linear prediction inverse filter unit 2i1 of the speech decoding device 24h of the modification 8 that can be omitted throughout the first embodiment as the first reference example, and includes the temporal envelope shaping unit 2v1 and the time slot selecting unit 3a2 instead of the temporal envelope shaping unit 2v and the time slot selecting unit 3a of the speech decoding device 24h of the modification 8. The order of the linear prediction synthesis filtering performed by the linear prediction filter unit 2k3 and the temporal envelope shaping process performed by the temporal envelope shaping unit 2v1 is changed, whose processing order is interchangeable throughout the first embodiment.</p><heading id="h0042">(Modification 11 of First embodiment)</heading><!-- EPO <DP n="130"> --><p id="p0195" num="0195">A speech decoding device 24k (see <figref idrefs="f0038">FIG. 38</figref>) of a modification 11 of the first embodiment physically includes a CPU, a ROM, a RAM, a communication device, and the like, which are not illustrated, and the CPU integrally controls the speech decoding device 24k by loading and executing a predetermined computer program (such as a computer program for performing processes illustrated in the flowchart of <figref idrefs="f0039">FIG. 39</figref>) stored in a built-in memory of the speech decoding device 24k such as the ROM into the RAM. The communication device of the speech decoding device 24k receives the encoded multiplexed bit stream and outputs a decoded speech signal to outside the speech decoding device 24k. The speech decoding device 24k, as illustrated in <figref idrefs="f0038">FIG. 38</figref>, includes the bit stream separating unit 2a7 and the time slot selecting unit 3a1 instead of the bit stream separating unit 2a3 and the time slot selecting unit 3a of the speech decoding device 24h of the modification 8.</p><heading id="h0043">(Modification 12 of First embodiment)</heading><p id="p0196" num="0196">A speech decoding device 24q (see <figref idrefs="f0040">FIG. 40</figref>) of a modification 12 of the first embodiment physically includes a CPU, a ROM, a RAM, a communication device, and the like, which are not illustrated, and the CPU integrally controls the speech decoding device 24q by loading and executing a predetermined computer program (such as a computer program for performing processes illustrated in the flowchart of <figref idrefs="f0041">FIG. 41</figref>) stored in a built-in memory of the speech decoding device 24q such as the ROM into the RAM. The communication device of the speech decoding device 24q receives the encoded multiplexed bit stream and outputs a decoded speech signal to outside the speech decoding device<!-- EPO <DP n="131"> --> 24q. The speech decoding device 24q, as illustrated in <figref idrefs="f0040">FIG 40</figref>, includes the low frequency linear prediction analysis unit 2d1, the signal change detecting unit 2e1, the high frequency linear prediction analysis unit 2h1, the linear prediction inverse filter unit 2i1, and individual signal component adjusting units 2z4, 2z5, and 2z6 (individual signal component adjusting units correspond to the temporal envelope shaping means) instead of the low frequency linear prediction analysis unit 2d, the signal change detecting unit 2e, the high frequency linear prediction analysis unit 2h, the linear prediction inverse filter unit 2i, and the individual signal component adjusting units 2z1, 2z2, and 2z3 of the speech decoding device 24c of the modification 3, and further includes the time slot selecting unit 3a.</p><p id="p0197" num="0197">At least one of the individual signal component adjusting units 2z4, 2z5, and 2z6 performs processing on the QMF domain signal of the selected time slot, for the signal component included in the output of the primary high frequency adjusting unit, as the individual signal component adjusting units 2z1, 2z2, and 2z3, based on the selection result transmitted from the time slot selecting unit 3a (process at Step Sn1). It is preferable that the process using the time slot selection information include at least one process including the linear prediction synthesis filtering in the frequency direction, among the processes of the individual signal component adjusting units 2z1, 2z2, and 2z3 described in the modification 3 of the first embodiment.</p><p id="p0198" num="0198">The processes performed by the individual signal component adjusting units 2z4, 2z5, and 2z6 may be the same as the processes performed by the individual signal component adjusting units 2z1, 2z2,<!-- EPO <DP n="132"> --> and 2z3 described in the modification 3 of the first embodiment, but the individual signal component adjusting units 2z4, 2z5, and 2z6 may shape the temporal envelope of each of the plurality of signal components included in the output of the primary high frequency adjusting unit by different methods (if all the individual signal component adjusting units 2z4, 2z5, and 2z6 do not perform processing based on the selection result transmitted from the time slot selecting unit 3a, it is the same as the modification 3 of the first embodiment of the present invention).</p><p id="p0199" num="0199">All the selection results of the time slot transmitted to the individual signal component adjusting units 2z4, 2z5, and 2z6 from the time slot selecting unit 3a need not be the same, and all or a part thereof may be different.</p><p id="p0200" num="0200">In <figref idrefs="f0040">FIG 40</figref>, the result of the time slot selection is transmitted to the individual signal component adjusting units 2z4, 2z5, and 2z6 from one time slot selecting unit 3a. However, it is possible to include a plurality of time slot selecting units for notifying, of the different results of the time slot selection, each or a part of the individual signal component adjusting units 2z4, 2z5, and 2z6. At this time, the time slot selecting unit relative to the individual signal component adjusting unit among the individual signal component adjusting units 2z4, 2z5, and 2z6 that performs the process 4 (the process of multiplying each QMF subband sample by the gain coefficient is performed on the input signal by using the temporal envelope obtained from the envelope shape adjusting unit 2s as the temporal envelope shaping unit 2v, and then the linear prediction synthesis filtering in the frequency direction is also<!-- EPO <DP n="133"> --> performed on the output signal by using the linear prediction coefficients received from the filter strength adjusting unit 2f as the linear prediction filter unit 2k) described in the modification 3 of the first embodiment may select the time slot by using the time slot selection information supplied from the temporal envelope shaping unit.</p><heading id="h0044">(Modification 13 of First embodiment)</heading><p id="p0201" num="0201">A speech decoding device 24m (see <figref idrefs="f0042">FIG 42</figref>) of a modification 13 of the first embodiment physically includes a CPU, a ROM, a RAM, a communication device, and the like, which are not illustrated, and the CPU integrally controls the speech decoding device 24m by loading and executing a predetermined computer program (such as a computer program for performing processes illustrated in the flowchart of <figref idrefs="f0043">FIG. 43</figref>) stored in a built-in memory of the speech decoding device 24m such as the ROM into the RAM. The communication device of the speech decoding device 24m receives the encoded multiplexed bit stream and outputs a decoded speech signal to outside the speech decoding device 24m. The speech decoding device 24m, as illustrated in <figref idrefs="f0042">FIG. 42</figref>, includes the bit stream separating unit 2a7 and the time slot selecting unit 3a1 instead of the bit stream separating unit 2a3 and the time slot selecting unit 3a of the speech decoding device 24q of the modification 12.</p><heading id="h0045">(Modification 14 of First embodiment)</heading><p id="p0202" num="0202">A speech decoding device 24n (not illustrated) of a modification 14 of the first embodiment physically includes a CPU, a ROM, a RAM, a communication device, and the like, which are not illustrated, and the CPU integrally controls the speech decoding device 24n by<!-- EPO <DP n="134"> --> loading and executing a predetermined computer program stored in a built-in memory of the speech decoding device 24n such as the ROM into the RAM. The communication device of the speech decoding device 24n receives the encoded multiplexed bit stream and outputs a decoded speech signal to outside the speech decoding device 24n. The speech decoding device 24n functionally includes the low frequency linear prediction analysis unit 2d1, the signal change detecting unit 2e1, the high frequency linear prediction analysis unit 2h1, the linear prediction inverse filter unit 2i1, and the linear prediction filter unit 2k3 instead of the low frequency linear prediction analysis unit 2d, the signal change detecting unit 2e, the high frequency linear prediction analysis unit 2h, the linear prediction inverse filter unit 2i, and the linear prediction filter unit 2k of the speech decoding device 24a of the modification 1, and further includes the time slot selecting unit 3a.</p><heading id="h0046">(Modification 15 of First embodiment)</heading><p id="p0203" num="0203">A speech decoding device 24p (not illustrated) of a modification 15 of the first embodiment physically includes a CPU, a ROM, a RAM, a communication device, and the like, which are not illustrated, and the CPU integrally controls the speech decoding device 24p by loading and executing a predetermined computer program stored in a built-in memory of the speech decoding device 24p such as the ROM into the RAM. The communication device of the speech decoding device 24p receives the encoded multiplexed bit stream and outputs a decoded speech signal to outside the speech decoding device 24p. The speech decoding device 24p functionally includes the time slot selecting unit 3a1 instead of the time slot selecting unit 3a of the speech decoding<!-- EPO <DP n="135"> --> device 24n of the modification 14. The speech decoding device 24p also includes a bit stream separating unit 2a8 (not illustrated) instead of the bit stream separating unit 2a4.</p><p id="p0204" num="0204">The bit stream separating unit 2a8 separates the multiplexed bit stream into the SBR supplementary information and the encoded bit stream as the bit stream separating unit 2a4, and further into the time slot selection information.</p><heading id="h0047"><b>Industrial Applicability</b></heading><p id="p0205" num="0205">The present invention provides a technique applicable to the bandwidth extension technique in the frequency domain represented by SBR, and to reduce the occurrence of pre-echo and post-echo and improve the subjective quality of the decoded signal without significantly increasing the bit rate.</p><heading id="h0048"><b>Reference Signs List</b></heading><p id="p0206" num="0206"><dl id="dl0001" compact="compact"><dt>11, 11a, 11b, 11c, 12, 12a, 12b, 13, 14, 14a, 14b</dt><dd>speech encoding device</dd><dt>1a</dt><dd>frequency transform unit</dd><dt>1b</dt><dd>frequency inverse transform unit</dd><dt>1c</dt><dd>core codec encoding unit</dd><dt>1d</dt><dd>SBR encoding unit</dd><dt>1e, 1e1</dt><dd>linear prediction analysis unit</dd><dt>1f</dt><dd>filter strength parameter calculating unit</dd><dt>1f1</dt><dd>filter strength parameter calculating unit</dd><dt>1g, 1g1, 1g2, 1g3, 1g4, 1g5, 1g6, 1g7</dt><dd>bit stream multiplexing unit</dd><dt>1h</dt><dd>high frequency inverse transform unit<!-- EPO <DP n="136"> --></dd><dt>1i</dt><dd>short-term power calculating unit</dd><dt>1j</dt><dd>linear prediction coefficient decimation unit</dd><dt>1k</dt><dd>linear prediction coefficient quantizing unit</dd><dt>1m</dt><dd>temporal envelope calculating unit</dd><dt>1n</dt><dd>envelope shape parameter calculating unit</dd><dt>1p, 1p1</dt><dd>time slot selecting unit</dd><dt>21, 22, 23, 24, 24b, 24c</dt><dd>speech decoding device</dd><dt>2a, 2a1, 2a2, 2a3, 2a5, 2a6, 2a7</dt><dd>bit stream separating unit</dd><dt>2b</dt><dd>core codec decoding unit</dd><dt>2c</dt><dd>frequency transform unit</dd><dt>2d, 2d1</dt><dd>low frequency linear prediction analysis unit</dd><dt>2e, 2e1</dt><dd>signal change detecting unit</dd><dt>2f</dt><dd>filter strength adjusting unit</dd><dt>2g</dt><dd>high frequency generating unit</dd><dt>2h, 2h1</dt><dd>high frequency linear prediction analysis unit</dd><dt>2i, 2i1</dt><dd>linear prediction inverse filter unit</dd><dt>2j, 2j1, 2j2, 2j3, 2j4</dt><dd>high frequency adjusting unit</dd><dt>2k, 2k1, 2k2, 2k3</dt><dd>linear prediction filter unit</dd><dt>2m</dt><dd>coefficient adding unit</dd><dt>2n</dt><dd>frequency inverse transform unit</dd><dt>2p, 2p1</dt><dd>linear prediction coefficient interpolation/extrapolation unit</dd><dt>2r</dt><dd>low frequency temporal envelope calculating unit</dd><dt>2s</dt><dd>envelope shape adjusting unit</dd><dt>2t</dt><dd>high frequency temporal envelope calculating unit</dd><dt>2u</dt><dd>temporal envelope smoothing unit<!-- EPO <DP n="137"> --></dd><dt>2v, 2v1</dt><dd>temporal envelope shaping unit</dd><dt>2w</dt><dd>supplementary information conversion unit</dd><dt>2z1, 2z2, 2z3, 2z4, 2z5, 2z6</dt><dd>individual signal component adjusting unit</dd><dt>3a, 3a1, 3a2</dt><dd>time slot selecting unit</dd></dl></p></description><claims mxw-id="PCLM56985410" lang="DE" load-source="patent-office"><!-- EPO <DP n="145"> --><claim id="c-de-01-0001" num="0001"><claim-text>Eine Sprachdecodiervorrichtung zum Decodieren eines codierten Sprachsignals, die Sprachdecodiervorrichtung aufweisend:
<claim-text>Bitstrom-Aufteilung-Mittel zum Aufteilen eines Bitstroms, der das codierte Sprachsignal aufweist, in einen codierten Bitstrom, Spektralbandreplikation (SBR) - Zusatzinformation und zeitliche Einhüllende-Zusatzinformation, wobei der Bitstrom von außerhalb der Sprachdecodiervorrichtung empfangen wird;</claim-text>
<claim-text>Kern-Decodier-Mittel zum Decodieren des codierten Bitstroms, welcher von dem Bitstrom-Aufteilung-Mittel aufgeteilt wurde, um eine Niederfrequenzkomponente zu erhalten;</claim-text>
<claim-text>Frequenz-Transformation-Mittel zum Transformieren der Niederfrequenzkomponente, welche von dem Kern-Decodier-Mittel erhalten wurde, in einen Frequenzbereich;</claim-text>
<claim-text>Hochfrequenz-Erzeugung-Mittel zum Erzeugen einer Hochfrequenzkomponente mittels Kopierens der Niederfrequenzkomponente, welche in den Frequenzbereich von dem Frequenz-Transformation-Mittel transformiert wurde, von einem Niederfrequenzband in ein Hochfrequenzband;</claim-text>
<claim-text>Hochfrequenz-Anpassung-Mittel zum Anpassen der Hochfrequenzkomponente, welche von dem Hochfrequenz-Erzeugung-Mittel erzeugt wurde, um eine angepasste Hochfrequenzkomponente zu erzeugen, gemäß zu der SBR-Zusatzinformation;</claim-text>
<claim-text>Niederfrequenz-Zeitliche-Einhüllende-Analyse-Mittel zum Analysieren der Niederfrequenzkomponente, welche in den Frequenzbereich von dem Frequenz-Transformation-Mittel transformiert wurde, um eine zeitliche Einhüllende-Information zu erhalten;<!-- EPO <DP n="146"> --></claim-text>
<claim-text>Zusatzinformation-Konvertierung-Mittel zum Konvertieren der zeitlichen Einhüllende-Zusatzinformation in einen Parameter zum Anpassen der zeitlichen Einhüllende-Information;</claim-text>
<claim-text>Zeitliche-Einhüllende-Anpassung-Mittel zum Anpassen der zeitlichen Einhüllende-Information, welche von dem Niederfrequenz-Zeitliche-Einhüllende-Analyse-Mittel erhalten wurde, um angepasste zeitliche Einhüllende-Information zu erzeugen, wobei das Zeitliche-Einhüllende-Anpassung-Mittel den Parameter bei dem Anpassen der zeitlichen Einhüllende-Information verwendet; und</claim-text>
<claim-text>Zeitliche-Einhüllende-Formgebung-Mittel zum Form Geben einer zeitlichen Einhüllenden der angepassten Hochfrequenzkomponente unter Verwendung der angepassten zeitlichen Einhüllende-Information.</claim-text></claim-text></claim><claim id="c-de-01-0002" num="0002"><claim-text>Eine Sprachdecodiervorrichtung zum Decodieren eines codierten Sprachsignals, die Sprachdecodiervorrichtung aufweisend:
<claim-text>Bitstrom-Aufteilung-Mittel zum Aufteilen eines Bitstroms, der das codierte Sprachsignal aufweist, in einen codierten Bitstrom und Spektralbandreplikation (SBR)-Zusatzinformation, wobei der Bitstrom von außerhalb der Sprachdecodiervorrichtung empfangen wird;</claim-text>
<claim-text>Kern-Decodier-Mittel zum Decodieren des codierten Bitstroms, welcher von dem Bitstrom-Aufteilung-Mittel aufgeteilt wurde, um eine Niederfrequenzkomponente zu erhalten;</claim-text>
<claim-text>Frequenz-Transformation-Mittel zum Transformieren der Niederfrequenzkomponente, welche von dem Kern-Decodier-Mittel erhalten wurde, in einen Frequenzbereich;</claim-text>
<claim-text>Hochfrequenz-Erzeugung-Mittel zum Erzeugen einer Hochfrequenzkomponente mittels Kopierens der<!-- EPO <DP n="147"> --> Niederfrequenzkomponente, welche in den Frequenzbereich von dem Frequenz-Transformation-Mittel transformiert wurde, von einem Niederfrequenzband in ein Hochfrequenzband;</claim-text>
<claim-text>Hochfrequenz-Anpassung-Mittel zum Anpassen der Hochfrequenzkomponente, welche von dem Hochfrequenz-Erzeugung-Mittel erzeugt wurde, um eine angepasste Hochfrequenzkomponente zu erzeugen, gemäß zu der SBR-Zusatzinformation;</claim-text>
<claim-text>Niederfrequenz-Zeitliche-Einhüllende-Analyse-Mittel zum Analysieren der Niederfrequenzkomponente, welche in den Frequenzbereich von dem Frequenz-Transformation-Mittel transformiert wurde, um eine zeitliche Einhüllende-Information zu erhalten;</claim-text>
<claim-text>Zeitliche-Einhüllende-Zusatzinformation-Erzeugung-Mittel zum Analysieren des Bitstroms, um einen Parameter zum Anpassen der zeitlichen Einhüllende-Information zu erzeugen;</claim-text>
<claim-text>Zeitliche-Einhüllende-Anpassung-Mittel zum Anpassen der zeitlichen Einhüllende-Information, welche von dem Niederfrequenz-Zeitliche-Einhüllende-Analyse-Mittel erhalten wurde, um angepasste zeitliche Einhüllende-Information zu erzeugen, wobei das Zeitliche-Einhüllende-Anpassung-Mittel den Parameter bei dem Anpassen der zeitlichen Einhüllende-Information verwendet; und</claim-text>
<claim-text>Zeitliche-Einhüllende-Formgebung-Mittel zum Form Geben einer zeitlichen Einhüllenden der angepassten Hochfrequenzkomponente unter Verwendung der angepassten zeitlichen Einhüllende-Information.</claim-text></claim-text></claim><claim id="c-de-01-0003" num="0003"><claim-text>Die Sprachdecodiervorrichtung gemäß Anspruch 1 oder 2, wobei das Hochfrequenz-Anpassung-Mittel basierend auf einem SBR-Decodierer für "MPEG 4 AAC" arbeitet, welches in "ISO/IEC 14496-3" definiert ist.<!-- EPO <DP n="148"> --></claim-text></claim><claim id="c-de-01-0004" num="0004"><claim-text>Die Sprachdecodiervorrichtung gemäß einem der Ansprüche 1 bis 3, wobei die angepasste Hochfrequenzkomponente eine kopierte Signalkomponente aufweist, welche auf die Hochfrequenzkomponente, die von dem Hochfrequenz-Erzeugung-Mittel erzeugt wurde, und eine Rauschsignalkomponente basiert ist.</claim-text></claim><claim id="c-de-01-0005" num="0005"><claim-text>Ein Sprachdecodierverfahren, welches eine Sprachdecodiervorrichtung verwendet, zum Decodieren eines codierten Sprachsignals, das Sprachdecodierverfahren aufweisend:
<claim-text>einen Bitstrom-Aufteilung-Schritt, in welchem die Sprachdecodiervorrichtung einen Bitstrom aufteilt, der das codierte Sprachsignal aufweist, in einen codierten Bitstrom, Spektralbandreplikation (SBR)-Zusatzinformation und zeitliche Einhüllende-Zusatzinformation, wobei der Bitstrom von außerhalb der Sprachdecodiervorrichtung empfangen wird;</claim-text>
<claim-text>einen Kern-Decodier-Schritt, in welchem die Sprachdecodiervorrichtung eine Niederfrequenzkomponente erhält mittels Decodierens des codierten Bitstroms, welcher in dem Bitstrom-Aufteilung-Schritt aufgeteilt wurde;</claim-text>
<claim-text>einen Frequenz-Transformation-Schritt, in welchem die Sprachdecodiervorrichtung die Niederfrequenzkomponente, welche in dem Kern-Decodier-Schritt erhalten wurde, in einen Frequenzbereich transformiert;</claim-text>
<claim-text>einen Hochfrequenz-Erzeugung-Schritt, in welchem die Sprachdecodiervorrichtung eine Hochfrequenzkomponente mittels Kopierens der Niederfrequenzkomponente erzeugt, welche in den Frequenzbereich in dem Frequenz-Transformation-Schritt transformiert wurde, von einem Niederfrequenzband in ein Hochfrequenzband;</claim-text>
<claim-text>einen Hochfrequenz-Anpassung-Schritt, in welchem die Sprachdecodiervorrichtung die Hochfrequenzkomponente anpasst,<!-- EPO <DP n="149"> --> die in dem Hochfrequenz-Erzeugung-Schritt erzeugt wurde, um eine angepasste Hochfrequenzkomponente zu erzeugen, gemäß zu der SBR-Zusatzinformation;</claim-text>
<claim-text>einen Niederfrequenz-Zeitliche-Einhüllende-Analyse-Schritt, in welchem die Sprachdecodiervorrichtung eine zeitliche Einhüllende-Information mittels Analysierens der Niederfrequenzkomponente erhält, welche in den Frequenzbereich in dem Frequenz-Transformation-Schritt transformiert wurde;</claim-text>
<claim-text>einen Zusatzinformation-Konvertierung-Schritt, in welchem die Sprachdecodiervorrichtung die zeitlichen Einhüllende-Zusatzinformation in einen Parameter zum Anpassen der zeitlichen Einhüllende-Information konvertiert;</claim-text>
<claim-text>einen Zeitliche-Einhüllende-Anpassung-Schritt, in welchem die Sprachdecodiervorrichtung die zeitliche Einhüllende-Information anpasst, welche in dem Niederfrequenz-Zeitliche-Einhüllende-Analyse-Schritt erhalten wurde, um angepasste zeitliche Einhüllende-Information zu erzeugen, wobei der Parameter bei dem Anpassen der zeitlichen Einhüllende-Information verwendet wird; und</claim-text>
<claim-text>einen Zeitliche-Einhüllende-Formgebung-Schritt, in welchem die Sprachdecodiervorrichtung einer zeitlichen Einhüllenden der angepassten Hochfrequenzkomponente unter Verwendung der angepassten zeitlichen Einhüllende-Information Form gibt.</claim-text></claim-text></claim><claim id="c-de-01-0006" num="0006"><claim-text>Ein Sprachdecodierverfahren, welches eine Sprachdecodiervorrichtung verwendet, zum Decodieren eines codierten Sprachsignals, das Sprachdecodierverfahren aufweisend:
<claim-text>einen Bitstrom-Aufteilung-Schritt, in welchem die Sprachdecodiervorrichtung einen Bitstrom aufteilt, der das codierte Sprachsignal aufweist, in einen codierten Bitstrom<!-- EPO <DP n="150"> --> und Spektralbandreplikation (SBR)-Zusatzinformation, wobei der Bitstrom von außerhalb der Sprachdecodiervorrichtung empfangen wird;</claim-text>
<claim-text>einen Kern-Decodier-Schritt, in welchem die Sprachdecodiervorrichtung den codierten Bitstrom decodiert, welcher in dem Bitstrom-Aufteilung-Schritt aufgeteilt wurde, um eine Niederfrequenzkomponente zu erhalten;</claim-text>
<claim-text>einen Frequenz-Transformation-Schritt, in welchem die Sprachdecodiervorrichtung die Niederfrequenzkomponente, welche in dem Kern-Decodier-Schritt erhalten wurde, in einen Frequenzbereich transformiert;</claim-text>
<claim-text>einen Hochfrequenz-Erzeugung-Schritt, in welchem die Sprachdecodiervorrichtung eine Hochfrequenzkomponente mittels Kopierens der Niederfrequenzkomponente erzeugt, welche in den Frequenzbereich in dem Frequenz-Transformation-Schritt transformiert wurde, von einem Niederfrequenzband in ein Hochfrequenzband;</claim-text>
<claim-text>einen Hochfrequenz-Anpassung-Schritt, in welchem die Sprachdecodiervorrichtung die Hochfrequenzkomponente anpasst, die in dem Hochfrequenz-Erzeugung-Schritt erzeugt wurde, um eine angepasste Hochfrequenzkomponente zu erzeugen, gemäß zu der SBR-Zusatzinformation;</claim-text>
<claim-text>einen Niederfrequenz-Zeitliche-Einhüllende-Analyse-Schritt, in welchem die Sprachdecodiervorrichtung eine zeitliche Einhüllende-Information mittels Analysierens der Niederfrequenzkomponente erhält, welche in den Frequenzbereich in dem Frequenz-Transformation-Schritt transformiert wurde;</claim-text>
<claim-text>einen Zeitliche-Einhüllende-Zusatzinformation-Erzeugung-Schritt, in welchem die Sprachdecodiervorrichtung den Bitstrom analysiert, um einen Parameter zum Anpassen der zeitlichen Einhüllende-Information zu erzeugen;<!-- EPO <DP n="151"> --></claim-text>
<claim-text>einen Zeitliche-Einhüllende-Anpassung-Schritt, in welchem die Sprachdecodiervorrichtung die zeitliche Einhüllende-Information anpasst, welche in dem Niederfrequenz-Zeitliche-Einhüllende-Analyse-Schritt erhalten wurde, um angepasste zeitliche Einhüllende-Information zu erzeugen, wobei der Parameter bei dem Anpassen der zeitlichen Einhüllende-Information verwendet wird; und</claim-text>
<claim-text>einen Zeitliche-Einhüllende-Formgebung-Schritt, in welchem die Sprachdecodiervorrichtung einer zeitlichen Einhüllenden der angepassten Hochfrequenzkomponente unter Verwendung der angepassten zeitlichen Einhüllende-Information Form gibt.</claim-text></claim-text></claim><claim id="c-de-01-0007" num="0007"><claim-text>Ein Sprachdecodierprogramm zum Decodieren eines codierten Sprachsignals, welches eine Computervorrichtung veranlasst, zu arbeiten als:
<claim-text>Bitstrom-Aufteilung-Mittel zum Aufteilen eines Bitstroms, der das codierte Sprachsignal aufweist, in einen codierten Bitstrom, Spektralbandreplikation (SBR)-Zusatzinformation und zeitliche Einhüllende-zusatzinformation, wobei der Bitstrom von außerhalb der Sprachdecodiervorrichtung empfangen wird;</claim-text>
<claim-text>Kern-Decodier-Mittel zum Decodieren des codierten Bitstroms, welcher von dem Bitstrom-Aufteilung-Mittel aufgeteilt wurde, um eine Niederfrequenzkomponente zu erhalten;</claim-text>
<claim-text>Frequenz-Transformation-Mittel zum Transformieren der Niederfrequenzkomponente, welche von dem Kern-Decodier-Mittel erhalten wurde, in einen Frequenzbereich;</claim-text>
<claim-text>Hochfrequenz-Erzeugung-Mittel zum Erzeugen einer Hochfrequenzkomponente mittels Kopierens der Niederfrequenzkomponente, welche in den Frequenzbereich von<!-- EPO <DP n="152"> --> dem Frequenz-Transformation-Mittel transformiert wurde, von einem Niederfrequenzband in ein Hochfrequenzband;</claim-text>
<claim-text>Hochfrequenz-Anpassung-Mittel zum Anpassen der Hochfrequenzkomponente, welche von dem Hochfrequenz-Erzeugung-Mittel erzeugt wurde, um eine angepasste Hochfrequenzkomponente zu erzeugen, gemäß zu der SBR-Zusatzinformation;</claim-text>
<claim-text>Niederfrequenz-Zeitliche-Einhüllende-Analyse-Mittel zum Analysieren der Niederfrequenzkomponente, welche in den Frequenzbereich von dem Frequenz-Transformation-Mittel transformiert wurde, um eine zeitliche Einhüllende-Information zu erhalten;</claim-text>
<claim-text>Zusatzinformation-Konvertierung-Mittel zum Konvertieren der zeitlichen Einhüllende-Zusatzinformation in einen Parameter zum Anpassen der zeitlichen Einhüllende-Information;</claim-text>
<claim-text>Zeitliche-Einhüllende-Anpassung-Mittel zum Anpassen der zeitlichen Einhüllende-Information, welche von dem Niederfrequenz-Zeitliche-Einhüllende-Analyse-Mittel erhalten wurde, um angepasste zeitliche Einhüllende-Information zu erzeugen, wobei das Zeitliche-Einhüllende-Anpassung-Mittel den Parameter bei dem Anpassen der zeitlichen Einhüllende-Information verwendet; und</claim-text>
<claim-text>Zeitliche-Einhüllende-Formgebung-Mittel zum Form Geben einer zeitlichen Einhüllenden der angepassten Hochfrequenzkomponente unter Verwendung der angepassten zeitlichen Einhüllende-Information.</claim-text></claim-text></claim><claim id="c-de-01-0008" num="0008"><claim-text>Ein Sprachdecodierprogramm zum Decodieren eines codierten Sprachsignals, welches eine Computervorrichtung veranlasst, zu arbeiten als:
<claim-text>Bitstrom-Aufteilung-Mittel zum Aufteilen eines Bitstroms, der das codierte Sprachsignal aufweist, in einen<!-- EPO <DP n="153"> --> codierten Bitstrom und Spektralbandreplikation (SBR)-Zusatzinformation, wobei der Bitstrom von außerhalb der Sprachdecodiervorrichtung empfangen wird;</claim-text>
<claim-text>Kern-Decodier-Mittel zum Decodieren des codierten Bitstroms, welcher von dem Bitstrom-Aufteilung-Mittel aufgeteilt wurde, um eine Niederfrequenzkomponente zu erhalten;</claim-text>
<claim-text>Frequenz-Transformation-Mittel zum Transformieren der Niederfrequenzkomponente, welche von dem Kern-Decodier-Mittel erhalten wurde, in einen Frequenzbereich;</claim-text>
<claim-text>Hochfrequenz-Erzeugung-Mittel zum Erzeugen einer Hochfrequenzkomponente mittels Kopierens der Niederfrequenzkomponente, welche in den Frequenzbereich von dem Frequenz-Transformation-Mittel transformiert wurde, von einem Niederfrequenzband in ein Hochfrequenzband;</claim-text>
<claim-text>Hochfrequenz-Anpassung-Mittel zum Anpassen der Hochfrequenzkomponente, welche von dem Hochfrequenz-Erzeugung-Mittel erzeugt wurde, um eine angepasste Hochfrequenzkomponente zu erzeugen, gemäß zu der SBR-Zusatzinformation;</claim-text>
<claim-text>Niederfrequenz-Zeitliche-Einhüllende-Analyse-Mittel zum Analysieren der Niederfrequenzkomponente, welche in den Frequenzbereich von dem Frequenz-Transformation-Mittel transformiert wurde, um eine zeitliche Einhüllende-Information zu erhalten;</claim-text>
<claim-text>Zeitliche-Einhüllende-Zusatzinformation-Erzeugung-Mittel zum Analysieren des Bitstroms, um einen Parameter zum Anpassen der zeitlichen Einhüllende-Information zu erzeugen;</claim-text>
<claim-text>Zeitliche-Einhüllende-Anpassung-Mittel zum Anpassen der zeitlichen Einhüllende-Information, welche von dem Niederfrequenz-Zeitliche-Einhüllende-Analyse-Mittel erhalten wurde, um angepasste zeitliche Einhüllende-Information zu erzeugen, wobei das Zeitliche-Einhüllende-Anpassung-Mittel<!-- EPO <DP n="154"> --> den Parameter bei dem Anpassen der zeitlichen Einhüllende-Information verwendet; und</claim-text>
<claim-text>Zeitliche-Einhüllende-Formgebung-Mittel zum Form Geben einer zeitlichen Einhüllenden der angepassten Hochfrequenzkomponente unter Verwendung der angepassten zeitlichen Einhüllende-Information.</claim-text></claim-text></claim></claims><claims mxw-id="PCLM56985411" lang="EN" load-source="patent-office"><!-- EPO <DP n="138"> --><claim id="c-en-01-0001" num="0001"><claim-text>A speech decoding device for decoding an encoded speech signal, the speech decoding device comprising:
<claim-text>bit stream separating means for separating a bit stream that includes the encoded speech signal into an encoded bit stream, Spectral Band Replication (SBR) supplementary information and temporal envelope supplementary information, the bit stream received from outside the speech decoding device;</claim-text>
<claim-text>core decoding means for decoding the encoded bit stream separated by the bit stream separating means to obtain a low frequency component;</claim-text>
<claim-text>frequency transform means for transforming the low frequency component obtained by the core decoding means into a frequency domain;</claim-text>
<claim-text>high frequency generating means for generating a high frequency component by copying the low frequency component transformed into the frequency domain by the frequency transform means from a low frequency band to a high frequency band;</claim-text>
<claim-text>high frequency adjusting means for adjusting the high frequency component generated by the high frequency generating means to generate an adjusted high frequency component, according to the SBR supplementary information;</claim-text>
<claim-text>low frequency temporal envelope analysis means for analyzing the low frequency component transformed into the frequency domain by the frequency transform means to obtain temporal envelope information;</claim-text>
<claim-text>supplementary information converting means for converting the temporal envelope supplementary information into a parameter for adjusting the temporal envelope information;</claim-text>
<claim-text>temporal envelope adjusting means for adjusting the temporal envelope information obtained by the low frequency temporal envelope analysis means to generate adjusted temporal envelope information, the temporal envelope adjusting means using the parameter in said adjusting the temporal envelope information; and</claim-text>
<claim-text>temporal envelope shaping means for shaping a temporal envelope of the adjusted high frequency component, using the adjusted temporal envelope information.</claim-text><!-- EPO <DP n="139"> --></claim-text></claim><claim id="c-en-01-0002" num="0002"><claim-text>A speech decoding device for decoding an encoded speech signal, the speech decoding device comprising:
<claim-text>bit stream separating means for separating a bit stream that includes the encoded speech signal into an encoded bit stream and Spectral Band Replication (SBR) supplementary information, the bit stream received from outside the speech decoding device;</claim-text>
<claim-text>core decoding means for decoding the encoded bit stream separated by the bit stream separating means to obtain a low frequency component;</claim-text>
<claim-text>frequency transform means for transforming the low frequency component obtained by the core decoding means into a frequency domain;</claim-text>
<claim-text>high frequency generating means for generating a high frequency component by copying the low frequency component transformed into the frequency domain by the frequency transform means from a low frequency band to a high frequency band;</claim-text>
<claim-text>high frequency adjusting means for adjusting the high frequency component generated by the high frequency generating means to generate an adjusted high frequency component, according to the SBR supplementary information;</claim-text>
<claim-text>low frequency temporal envelope analysis means for analyzing the low frequency component transformed into the frequency domain by the frequency transform means to obtain temporal envelope information;</claim-text>
<claim-text>temporal envelope supplementary information generating means for analyzing the bit stream to generate a parameter for adjusting the temporal envelope information;</claim-text>
<claim-text>temporal envelope adjusting means for adjusting the temporal envelope information obtained by the low frequency temporal envelope analysis means to generate adjusted temporal envelope information, the temporal envelope adjusting means using the parameter in said adjusting the temporal envelope information; and</claim-text>
<claim-text>temporal envelope shaping means for shaping a temporal envelope of the adjusted high frequency component, using the adjusted temporal envelope information.</claim-text></claim-text></claim><claim id="c-en-01-0003" num="0003"><claim-text>The speech decoding device according to claim 1 or 2, wherein the high frequency adjusting means operate based on SBR decoder for "MPEG4 AAC" defined in "ISO/EEC 14496-3".<!-- EPO <DP n="140"> --></claim-text></claim><claim id="c-en-01-0004" num="0004"><claim-text>The speech decoding device according to one of claims 1-3, wherein the adjusted high frequency component include a copy signal component based on the high frequency component generated by the high frequency generating means and a noise signal component.</claim-text></claim><claim id="c-en-01-0005" num="0005"><claim-text>A speech decoding method using a speech decoding device for decoding an encoded speech signal, the speech decoding method comprising:
<claim-text>a bit stream separating step in which the speech decoding device separates a bit stream that includes the encoded speech signal into an encoded bit stream, Spectral Band Replication (SBR) supplementary information and temporal envelope supplementary information, the bit stream received from outside the speech decoding device;</claim-text>
<claim-text>a core decoding step in which the speech decoding device obtains a low frequency component by decoding the encoded bit stream separated in the bit stream separating step;</claim-text>
<claim-text>a frequency transform step in which the speech decoding device transforms the low frequency component obtained in the core decoding step into a frequency domain;</claim-text>
<claim-text>a high frequency generating step in which the speech decoding device generates a high frequency component by copying the low frequency component transformed into the frequency domain in the frequency transform step from a low frequency band to a high frequency band;</claim-text>
<claim-text>a high frequency adjusting step in which the speech decoding device adjusts the high frequency component generated in the high frequency generating step to generate an adjusted high frequency component, according to the SBR supplementary information;</claim-text>
<claim-text>a low frequency temporal envelope analysis step in which the speech decoding device obtains temporal envelope information by analyzing the low frequency components transformed into the frequency domain in the frequency transform step;</claim-text>
<claim-text>a supplementary information converting step in which the speech decoding device converts the temporal envelope supplementary information into a parameter for adjusting the temporal envelope information;<!-- EPO <DP n="141"> --></claim-text>
<claim-text>a temporal envelope adjusting step in which the speech decoding device adjusts the temporal envelope information obtained in the low frequency temporal envelope analysis step to generate adjusted temporal envelope information, wherein the parameter is utilized in said adjusting the temporal envelope information; and</claim-text>
<claim-text>a temporal envelope shaping step in which the speech decoding device shapes a temporal envelope of the adjusted high frequency component, using the adjusted temporal envelope information,</claim-text></claim-text></claim><claim id="c-en-01-0006" num="0006"><claim-text>A speech decoding method using a speech decoding device for decoding an encoded speech signal, the speech decoding method comprising:
<claim-text>a bit stream separating step in which the speech decoding device separates a bit stream that includes the encoded speech signal into an encoded bit stream and Spectral Band Replication (SBR) supplementary information, the bit stream received from outside the speech decoding device;</claim-text>
<claim-text>a core decoding step in which the speech decoding device decodes the encoded bit stream separated by the bit stream separating.means to obtain a low frequency component;</claim-text>
<claim-text>a frequency transform step in which the speech decoding device transforms the low frequency component obtained in the core decoding step into a frequency domain;</claim-text>
<claim-text>a high frequency generating step in which the speech decoding device generates a high frequency component by copying the low frequency component transformed into the frequency domain in the frequency transform step from a low frequency band to a high frequency band;</claim-text>
<claim-text>a high frequency adjusting step in which the speech decoding device adjusts the high frequency component generated in the high frequency generating step to generate an adjusted high frequency component, according to the SBR supplementary information;</claim-text>
<claim-text>a low frequency temporal envelope analysis step in which the speech decoding device obtains temporal envelope information by analyzing the low frequency component transformed into the frequency domain in the frequency transform step;<!-- EPO <DP n="142"> --></claim-text>
<claim-text>a temporal envelope supplementary information generating step in which the speech decoding device analyzes the bit stream to generate a parameter for adjusting the temporal envelope information;</claim-text>
<claim-text>a temporal envelope adjusting step in which the speech decoding device adjusts the temporal envelope information obtained in the low frequency temporal envelope analysis step to generate adjusted temporal envelope information, wherein the parameter is utilized in said adjusting the temporal envelope information; and</claim-text>
<claim-text>a temporal envelope shaping step in which the speech decoding device shapes a temporal envelope of the adjusted high frequency component, using the adjusted temporal, envelope information.</claim-text></claim-text></claim><claim id="c-en-01-0007" num="0007"><claim-text>A speech decoding program for decoding an encoded speech signal causing a computer device to function as:
<claim-text>bit stream separating means for separating a bit stream that includes the encoded speech signal into an encoded bit stream, Spectral Band Replication (SBR) supplementary information and temporal envelope supplementary information, the bit stream received from outside the speech decoding device;</claim-text>
<claim-text>core decoding means for decoding the encoded bit stream separated by the bit stream separating means to obtain a low frequency component;</claim-text>
<claim-text>frequency transform means for transforming the low frequency component obtained by the core decoding means into a frequency domain;</claim-text>
<claim-text>high frequency generating means for generating a high frequency component by copying the low frequency component transformed into the frequency domain by the frequency transform means from a low frequency band to a high frequency band;</claim-text>
<claim-text>high frequency adjusting means for adjusting the high frequency component generated by the high frequency generating means to generate an adjusted high frequency component, according to the SBR supplementary information;</claim-text>
<claim-text>low frequency temporal envelope analysis means for analyzing the low frequency component transformed into the frequency domain by the frequency transform means to obtain temporal envelope information;</claim-text>
<claim-text>supplementary information converting means for converting the<!-- EPO <DP n="143"> --> temporal envelope supplementary information into a parameter for adjusting the temporal envelope information;</claim-text>
<claim-text>temporal envelope adjusting means for adjusting the temporal envelope information obtained by the low frequency temporal envelope analysis means to generate adjusted temporal envelope information, the temporal envelope adjusting means using the parameter in said adjusting the temporal envelope information; and of</claim-text>
<claim-text>temporal envelope shaping means for shaping a temporal envelope of the adjusted high frequency component, using the adjusted temporal envelope information.</claim-text></claim-text></claim><claim id="c-en-01-0008" num="0008"><claim-text>A speech decoding program for decoding an encoded speech signal causing a computer device to function as:
<claim-text>bit stream separating means for separating a bit stream that includes the encoded speech signal into an encoded bit stream and Spectral Band Replication (SBR) supplementary information, the bit stream received from outside the speech decoding device;</claim-text>
<claim-text>core decoding means for decoding the encoded bit stream separated by the bit stream separating means to obtain a low frequency component;</claim-text>
<claim-text>frequency transform means for transforming the low frequency component obtained by the core decoding means into a frequency domain;</claim-text>
<claim-text>high frequency generating means for generating a high frequency component by copying the low frequency component transformed into the frequency domain by the frequency transform means from a low frequency band to a high frequency band;</claim-text>
<claim-text>high frequency adjusting means for adjusting the high frequency component generated by the high frequency generating means to generate an adjusted high frequency component, according to the SBR supplementary information;</claim-text>
<claim-text>low frequency temporal envelope analysis means for analyzing the low frequency component transformed into the frequency domain by the frequency transform means to obtain temporal envelope information;</claim-text>
<claim-text>temporal envelope supplementary information generating means for analyzing the bit stream to generate a parameter for adjusting the temporal envelope information;<!-- EPO <DP n="144"> --></claim-text>
<claim-text>temporal envelope adjusting means for adjusting the temporal envelope information obtained by the low frequency temporal envelope analysis means to generate adjusted temporal envelope information, the temporal envelope adjusting means using the parameter in said adjusting the temporal envelope information; and</claim-text>
<claim-text>temporal envelope shaping means for shaping a temporal envelope of the adjusted high frequency component, using the adjusted temporal envelope information.</claim-text></claim-text></claim></claims><claims mxw-id="PCLM56985412" lang="FR" load-source="patent-office"><!-- EPO <DP n="155"> --><claim id="c-fr-01-0001" num="0001"><claim-text>Dispositif de décodage vocal destiné à décoder un signal vocal codé, le dispositif de décodage vocal comprenant :
<claim-text>un moyen de séparation d'un train de bits destiné à séparer un train de bits qui inclut le signal vocal codé dans un train de bits codé, des informations supplémentaires de Reconstruction de bande spectrale (SBR - <i>Spectral Band Replication</i>) et des informations supplémentaires d'enveloppe temporelle, le train de bits étant reçu en provenance de l'extérieur du dispositif de décodage vocal ;</claim-text>
<claim-text>un moyen de décodage de noyau destiné à décoder le train de bits codé séparé par le moyen de séparation du train de bits pour obtenir un composant à basse fréquence ;</claim-text>
<claim-text>un moyen de transformation d'une fréquence destiné à transformer le composant à basse fréquence obtenu par le moyen de décodage de noyau dans un domaine fréquentiel ;</claim-text>
<claim-text>un moyen de génération d'une haute fréquence destiné à générer un composant à haute fréquence en copiant le composant à basse fréquence transformé dans le domaine fréquentiel par le moyen de transformation d'une fréquence à partir d'une bande à basse fréquence en une bande à haute fréquence ;</claim-text>
<claim-text>un moyen de réglage d'une haute fréquence destiné à régler le composant à haute fréquence généré par le moyen de génération d'une haute fréquence pour générer un composant à haute fréquence réglé, selon les informations supplémentaires de SBR ;</claim-text>
<claim-text>un moyen d'analyse d'enveloppe temporelle de basse fréquence destiné à analyser le composant à basse fréquence transformé dans le domaine fréquentiel par le moyen de transformation d'une fréquence pour obtenir des informations d'enveloppe temporelle ;</claim-text>
<claim-text>un moyen de conversion d'informations supplémentaires destiné à convertir les informations supplémentaires d'enveloppe temporelle en un paramètre destiné à régler les informations d'enveloppe temporelle ;<!-- EPO <DP n="156"> --></claim-text>
<claim-text>un moyen de réglage d'enveloppe temporelle destiné à régler les informations d'enveloppe temporelle obtenues par le moyen d'analyse d'enveloppe temporelle de basse fréquence pour générer des informations d'enveloppe temporelle réglées, le moyen de réglage d'enveloppe temporelle utilisant le paramètre dans ledit réglage d'informations d'enveloppe temporelle ; et</claim-text>
<claim-text>un moyen de mise en forme d'enveloppe temporelle destiné à mettre en forme une enveloppe temporelle du composant à haute fréquence réglé, en utilisant les informations d'enveloppe temporelle réglées.</claim-text></claim-text></claim><claim id="c-fr-01-0002" num="0002"><claim-text>Dispositif de décodage vocal destiné à décoder un signal vocal codé, le dispositif de décodage vocal comprenant :
<claim-text>un moyen de séparation d'un train de bits destinés à séparer un train de bits qui inclut le signal vocal codé dans un train de bits codé et des informations supplémentaires de Reconstruction de bande spectrale (SBR), le train de bits étant reçu en provenance de l'extérieur du dispositif de décodage vocal ;</claim-text>
<claim-text>un moyen de décodage de noyau destiné à décoder le train de bits codé séparé par le moyen de séparation d'un train de bits pour obtenir un composant à basse fréquence ;</claim-text>
<claim-text>un moyen de transformation d'une fréquence destiné à transformer le composant à basse fréquence obtenu par le moyen de décodage de noyau dans un domaine fréquentiel ;</claim-text>
<claim-text>un moyen de génération de haute fréquence destiné à générer un composant à haute fréquence en copiant le composant à basse fréquence transformé dans le domaine fréquentiel par le moyen de transformation d'une fréquence à partir d'une bande à basse fréquence en une bande à haute fréquence ;</claim-text>
<claim-text>un moyen de réglage de haute fréquence destiné à régler le composant à haute fréquence généré par le moyen de génération d'une haute fréquence pour générer un composant à haute fréquence réglé, selon les informations supplémentaires de SBR ;<!-- EPO <DP n="157"> --></claim-text>
<claim-text>un moyen d'analyse d'enveloppe temporelle de basse fréquence destiné à analyser le composant à basse fréquence transformé dans le domaine fréquentiel par le moyen de transformation d'une fréquence pour obtenir des informations d'enveloppe temporelle ;</claim-text>
<claim-text>un moyen de génération d'informations supplémentaires d'enveloppe temporelle destiné à analyser le train de bits pour générer un paramètre destiné à régler les informations d'enveloppe temporelle ;</claim-text>
<claim-text>un moyen de réglage d'enveloppe temporelle destiné à régler les informations d'enveloppe temporelle obtenues par le moyen d'analyse d'enveloppe temporelle de basse fréquence pour générer des informations d'enveloppe temporelle réglées, le moyen de réglage d'enveloppe temporelle utilisant le paramètre dans ledit réglage des informations d'enveloppe temporelle; et</claim-text>
<claim-text>un moyen de mise en forme d'enveloppe destiné à mettre en forme une enveloppe temporelle du composant à haute fréquence réglé, en utilisant les informations d'enveloppe temporelle réglées.</claim-text></claim-text></claim><claim id="c-fr-01-0003" num="0003"><claim-text>Dispositif de décodage vocal selon la revendication 1 ou 2, dans lequel le moyen de réglage de haute fréquence fonctionne sur la base d'un décodeur de SBR pour « MPEG4 AAC » défini selon la norme « ISO/EEC 14496 - 3 ».</claim-text></claim><claim id="c-fr-01-0004" num="0004"><claim-text>Dispositif de décodage vocal selon l'une quelconque des revendications 1 à 3, dans lequel le composant à haute fréquence réglé comprend un composant de signal de copie basé sur le composant à haute fréquence généré par le moyen de génération d'une haute fréquence et sur un composant de signal de bruit.</claim-text></claim><claim id="c-fr-01-0005" num="0005"><claim-text>Procédé de décodage vocal utilisant un dispositif de décodage vocal destiné à décoder un signal vocal codé, le procédé de décodage vocal comprenant :
<claim-text>une étape de séparation d'un train de bits dans laquelle le dispositif de décodage vocal sépare un train de bits qui inclut le signal vocal codé dans un train<!-- EPO <DP n="158"> --> de bits codé, des informations supplémentaires de Reconstruction de bande spectrale (SBR) et des informations supplémentaires d'enveloppe temporelle, le train de bits étant reçu en provenance de l'extérieur du dispositif de décodage vocal ;</claim-text>
<claim-text>une étape de décodage de noyau dans laquelle le dispositif de décodage vocal permet d'obtenir un composant à basse fréquence en décodant le train de bits codé séparé lors de l'étape de séparation d'un train de bits ;</claim-text>
<claim-text>une étape de transformation d'une fréquence dans laquelle le dispositif de décodage vocal transforme le composant à basse fréquence obtenue dans l'étape de décodage de noyau dans un domaine fréquentiel ;</claim-text>
<claim-text>une étape de génération d'une haute fréquence dans laquelle le dispositif de décodage vocal génère un composant à haute fréquence en copiant le composant à basse fréquence transformé dans le domaine fréquentiel lors de l'étape de transformation d'une fréquence à partir d'une bande à basse fréquence en une bande à haute fréquence ;</claim-text>
<claim-text>une étape de réglage de haute fréquence dans laquelle le dispositif de décodage vocal règle le composant à haute fréquence généré lors de l'étape de génération d'une haute fréquence pour générer un composant à haute fréquence réglé, selon les informations supplémentaires de SBR ;</claim-text>
<claim-text>une étape d'analyse d'enveloppe temporelle de basse fréquence dans laquelle le dispositif de décodage vocal permet d'obtenir des informations d'enveloppe temporelle en analysant le composant à basse fréquence transformé dans le domaine fréquentiel lors de l'étape de transformation d'une fréquence ;</claim-text>
<claim-text>une étape de conversion d'informations supplémentaires dans laquelle le dispositif de décodage vocal convertit les informations supplémentaires d'enveloppe temporelle en un paramètre destiné à régler les informations d'enveloppe temporelle ;</claim-text>
<claim-text>une étape de réglage d'enveloppe temporelle dans laquelle le dispositif de décodage vocal règle les informations d'enveloppe temporelle obtenues lors de l'étape d'analyse d'enveloppe temporelle de basse fréquence pour générer des<!-- EPO <DP n="159"> --> informations d'enveloppe temporelle réglées, dans lequel le paramètre est utilisé dans ledit réglage des informations d'enveloppe temporelle ; et</claim-text>
<claim-text>une étape de mise en forme d'enveloppe temporelle dans laquelle le dispositif de décodage vocal met en forme une enveloppe temporelle du composant à haute fréquence réglée, en utilisant les informations d'enveloppe temporelle réglées.</claim-text></claim-text></claim><claim id="c-fr-01-0006" num="0006"><claim-text>Procédé de décodage vocal utilisant un dispositif de décodage vocal destiné à décoder un signal vocal codé, le procédé de décodage vocal comprenant :
<claim-text>une étape de séparation d'un train de bits dans laquelle le dispositif de décodage vocal sépare un train de bits qui inclut le signal vocal codé dans un train de bits codé et des informations supplémentaires de Reconstruction de bande spectrale (SBR), le train de bits étant reçu en provenance de l'extérieur du dispositif de décodage vocal ;</claim-text>
<claim-text>une étape de décodage de noyau dans laquelle le dispositif de décodage vocal décode le train de bits codé séparé par le moyen de séparation d'un train de bits pour obtenir un composant à basse fréquence ;</claim-text>
<claim-text>une étape de transformation d'une fréquence dans laquelle le dispositif de décodage vocal transforme le composant à basse fréquence obtenu lors de l'étape de décodage de noyau dans un domaine fréquentiel ;</claim-text>
<claim-text>une étape de génération d'une haute fréquence dans laquelle le dispositif de décodage vocal génère un composant à haute fréquence en copiant le composant à basse fréquence transformé dans le domaine fréquentiel lors de l'étape de transformation d'une fréquence à partir d'une bande à basse fréquence en une bande à haute fréquence ;</claim-text>
<claim-text>une étape de réglage de haute fréquence dans laquelle le dispositif de décodage vocal règle le composant à haute fréquence généré lors de l'étape de génération d'une haute fréquence pour générer un composant à haute fréquence réglé, selon les informations supplémentaires de SBR ;<!-- EPO <DP n="160"> --></claim-text>
<claim-text>une étape d'analyse d'enveloppe temporelle de basse fréquence dans laquelle le dispositif de décodage vocal permet d'obtenir des informations d'enveloppe temporelle en analysant le composant à basse fréquence transformé dans le domaine fréquentiel lors de l'étape de transformation d'une fréquence ;</claim-text>
<claim-text>une étape de génération d'informations supplémentaires d'enveloppe temporelle dans laquelle le dispositif de décodage vocal analyse le train de bits pour générer un paramètre destiné à régler les informations d'enveloppe temporelle ;</claim-text>
<claim-text>une étape de réglage d'enveloppe temporelle dans laquelle le dispositif de décodage vocal règle les informations d'enveloppe temporelle obtenues lors de l'étape d'analyse d'enveloppe temporelle de basse fréquence pour générer des informations d'enveloppe temporelle réglées, dans lequel le paramètre est utilisé dans ledit réglage des informations d'enveloppe temporelle ; et</claim-text>
<claim-text>une étape de mise en forme d'enveloppe temporelle dans laquelle le dispositif de décodage vocal met en forme une enveloppe temporelle du composant à haute fréquence réglé, en utilisant les informations d'enveloppe temporelle réglées.</claim-text></claim-text></claim><claim id="c-fr-01-0007" num="0007"><claim-text>Programme de décodage vocal destiné à décoder un signal vocal codé faisant fonctionner un dispositif informatique en tant que :
<claim-text>moyen de séparation d'un train de bits destinés à séparer un train de bits qui inclut le signal vocal codé dans un train de bits codé, des informations supplémentaires de Reconstruction de bande spectrale (SBR) et des informations supplémentaires d'enveloppe temporelle, le train de bits étant reçu en provenance de l'extérieur du dispositif de décodage vocal ;</claim-text>
<claim-text>moyen de décodage de noyau destiné à décoder le train de bits codé séparé par le moyen de séparation d'un train de bits pour obtenir un composant à basse fréquence ;</claim-text>
<claim-text>moyen de transformation d'une fréquence destiné à transformer le composant à basse fréquence obtenu par le moyen de décodage de noyau dans un domaine fréquentiel ;<!-- EPO <DP n="161"> --></claim-text>
<claim-text>moyen de génération de haute fréquence destiné à générer un composant à haute fréquence en copiant le composant à basse fréquence transformé dans le domaine fréquentiel par le moyen de transformation d'une fréquence à partir d'une bande à basse fréquence en une bande à haute fréquence ;</claim-text>
<claim-text>moyen de réglage de haute fréquence destiné à régler le composant à haute fréquence généré par le moyen de génération d'une haute fréquence pour générer un composant à haute fréquence réglé, selon les informations supplémentaires de SBR;</claim-text>
<claim-text>moyen d'analyse d'enveloppe temporelle de basse fréquence destiné à analyser le composant à basse fréquence transformé dans le domaine fréquentiel par le moyen de transformation d'une fréquence pour obtenir des informations d'enveloppe temporelle ;</claim-text>
<claim-text>moyen de conversion d'informations supplémentaires destiné à convertir les informations supplémentaires d'enveloppe temporelle en un paramètre destiné à régler les informations d'enveloppe temporelle ;</claim-text>
<claim-text>moyen de réglage d'enveloppe temporelle destiné à régler les informations d'enveloppe temporelle obtenues par le moyen d'analyse d'enveloppe temporelle de basse fréquence pour générer des informations d'enveloppe temporelle réglées, le moyen de réglage d'enveloppe temporelle utilisant le paramètre dans ledit réglage des informations d'enveloppe temporelle ; et</claim-text>
<claim-text>moyen de mise en forme d'enveloppe temporelle destiné à mettre en forme une enveloppe temporelle du composant à haute fréquence réglé, en utilisant les informations d'enveloppe temporelle réglées.</claim-text></claim-text></claim><claim id="c-fr-01-0008" num="0008"><claim-text>Programme de décodage vocal destiné à décoder un signal vocal codé faisant fonctionner un dispositif informatique en tant que :
<claim-text>moyen de séparation d'un train de bits destiné à séparer un train de bits qui inclut le signal vocal codé dans un train de bits codé et des informations supplémentaires de Reconstruction de bande spectrale (SBR), le train de bits étant reçu en provenance de l'extérieur du dispositif de décodage vocal ;<!-- EPO <DP n="162"> --></claim-text>
<claim-text>moyen de décodage de noyau destiné à décoder le train de bits codé séparé par le moyen de séparation d'un train de bits pour obtenir un composant à basse fréquence ;</claim-text>
<claim-text>moyen de transformation d'une fréquence destiné à transformer le composant à basse fréquence obtenu par le moyen de décodage de noyau dans un domaine fréquentiel ;</claim-text>
<claim-text>moyen de génération de haute fréquence destiné à générer un composant à haute fréquence en copiant le composant à basse fréquence transformé dans le domaine fréquentiel par le moyen de transformation d'une fréquence à partir d'une bande à basse fréquence en une bande à haute fréquence ;</claim-text>
<claim-text>moyen de réglage de haute fréquence destiné à régler le composant à haute fréquence généré par le moyen de génération d'une haute fréquence pour générer un composant à haute fréquence réglé, selon les informations supplémentaires de SBR;</claim-text>
<claim-text>moyen d'analyse d'enveloppe temporelle de basse fréquence destiné à analyser le composant à basse fréquence transformé dans le domaine fréquentiel par le moyen de transformation d'une fréquence pour obtenir des informations d'enveloppe temporelle ;</claim-text>
<claim-text>moyen de génération d'informations supplémentaires d'enveloppe temporelle destiné à analyser le train de bits pour générer un paramètre destiné à régler les informations d'enveloppe temporelle ;</claim-text>
<claim-text>moyen de réglage d'enveloppe temporelle destiné à régler les informations d'enveloppe temporelle obtenues par le moyen d'analyse d'enveloppe temporelle de basse fréquence pour générer des informations d'enveloppe temporelle réglées, le moyen de réglage d'enveloppe temporelle utilisant le paramètre dans ledit réglage des informations d'enveloppe temporelle ; et</claim-text>
<claim-text>moyen de mise en forme d'enveloppe temporelle destiné à mettre en forme une enveloppe temporelle du composant à haute fréquence réglé, en utilisant les informations d'enveloppe temporelle réglée.</claim-text></claim-text></claim></claims><drawings mxw-id="PDW16672154" load-source="patent-office"><!-- EPO <DP n="163"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="120" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="164"> --><figure id="f0002" num="2"><img id="if0002" file="imgf0002.tif" wi="164" he="156" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="165"> --><figure id="f0003" num="3"><img id="if0003" file="imgf0003.tif" wi="163" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="166"> --><figure id="f0004" num="4"><img id="if0004" file="imgf0004.tif" wi="155" he="206" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="167"> --><figure id="f0005" num="5"><img id="if0005" file="imgf0005.tif" wi="124" he="232" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="168"> --><figure id="f0006" num="6"><img id="if0006" file="imgf0006.tif" wi="121" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="169"> --><figure id="f0007" num="7"><img id="if0007" file="imgf0007.tif" wi="163" he="172" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="170"> --><figure id="f0008" num="8"><img id="if0008" file="imgf0008.tif" wi="159" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="171"> --><figure id="f0009" num="9"><img id="if0009" file="imgf0009.tif" wi="165" he="204" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="172"> --><figure id="f0010" num="10"><img id="if0010" file="imgf0010.tif" wi="122" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="173"> --><figure id="f0011" num="11"><img id="if0011" file="imgf0011.tif" wi="158" he="155" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="174"> --><figure id="f0012" num="12"><img id="if0012" file="imgf0012.tif" wi="148" he="224" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="175"> --><figure id="f0013" num="13"><img id="if0013" file="imgf0013.tif" wi="159" he="213" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="176"> --><figure id="f0014" num="14"><img id="if0014" file="imgf0014.tif" wi="164" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="177"> --><figure id="f0015" num="15"><img id="if0015" file="imgf0015.tif" wi="161" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="178"> --><figure id="f0016" num="16"><img id="if0016" file="imgf0016.tif" wi="158" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="179"> --><figure id="f0017" num="17"><img id="if0017" file="imgf0017.tif" wi="159" he="222" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="180"> --><figure id="f0018" num="18"><img id="if0018" file="imgf0018.tif" wi="141" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="181"> --><figure id="f0019" num="19"><img id="if0019" file="imgf0019.tif" wi="165" he="212" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="182"> --><figure id="f0020" num="20"><img id="if0020" file="imgf0020.tif" wi="142" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="183"> --><figure id="f0021" num="21"><img id="if0021" file="imgf0021.tif" wi="158" he="225" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="184"> --><figure id="f0022" num="22"><img id="if0022" file="imgf0022.tif" wi="141" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="185"> --><figure id="f0023" num="23"><img id="if0023" file="imgf0023.tif" wi="165" he="211" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="186"> --><figure id="f0024" num="24"><img id="if0024" file="imgf0024.tif" wi="140" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="187"> --><figure id="f0025" num="25"><img id="if0025" file="imgf0025.tif" wi="159" he="212" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="188"> --><figure id="f0026" num="26"><img id="if0026" file="imgf0026.tif" wi="165" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="189"> --><figure id="f0027" num="27"><img id="if0027" file="imgf0027.tif" wi="165" he="220" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="190"> --><figure id="f0028" num="28"><img id="if0028" file="imgf0028.tif" wi="165" he="230" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="191"> --><figure id="f0029" num="29"><img id="if0029" file="imgf0029.tif" wi="165" he="220" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="192"> --><figure id="f0030" num="30"><img id="if0030" file="imgf0030.tif" wi="165" he="231" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="193"> --><figure id="f0031" num="31"><img id="if0031" file="imgf0031.tif" wi="165" he="228" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="194"> --><figure id="f0032" num="32"><img id="if0032" file="imgf0032.tif" wi="165" he="206" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="195"> --><figure id="f0033" num="33"><img id="if0033" file="imgf0033.tif" wi="165" he="229" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="196"> --><figure id="f0034" num="34"><img id="if0034" file="imgf0034.tif" wi="165" he="229" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="197"> --><figure id="f0035" num="35"><img id="if0035" file="imgf0035.tif" wi="165" he="217" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="198"> --><figure id="f0036" num="36"><img id="if0036" file="imgf0036.tif" wi="165" he="203" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="199"> --><figure id="f0037" num="37"><img id="if0037" file="imgf0037.tif" wi="163" he="225" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="200"> --><figure id="f0038" num="38"><img id="if0038" file="imgf0038.tif" wi="165" he="226" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="201"> --><figure id="f0039" num="39"><img id="if0039" file="imgf0039.tif" wi="165" he="212" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="202"> --><figure id="f0040" num="40"><img id="if0040" file="imgf0040.tif" wi="165" he="231" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="203"> --><figure id="f0041" num="41"><img id="if0041" file="imgf0041.tif" wi="165" he="220" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="204"> --><figure id="f0042" num="42"><img id="if0042" file="imgf0042.tif" wi="165" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="205"> --><figure id="f0043" num="43"><img id="if0043" file="imgf0043.tif" wi="165" he="219" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="206"> --><figure id="f0044" num="44"><img id="if0044" file="imgf0044.tif" wi="140" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="207"> --><figure id="f0045" num="45"><img id="if0045" file="imgf0045.tif" wi="139" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="208"> --><figure id="f0046" num="46"><img id="if0046" file="imgf0046.tif" wi="135" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="209"> --><figure id="f0047" num="47"><img id="if0047" file="imgf0047.tif" wi="135" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="210"> --><figure id="f0048" num="48"><img id="if0048" file="imgf0048.tif" wi="136" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="211"> --><figure id="f0049" num="49"><img id="if0049" file="imgf0049.tif" wi="157" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="212"> --><figure id="f0050" num="50"><img id="if0050" file="imgf0050.tif" wi="160" he="233" img-content="drawing" img-format="tif"/></figure></drawings><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
