<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2157714-B1" country="EP" doc-number="2157714" kind="B1" date="20140108" family-id="39688873" file-reference-id="287035" date-produced="20180826" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146588274" ucid="EP-2157714-B1"><document-id><country>EP</country><doc-number>2157714</doc-number><kind>B1</kind><date>20140108</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-09173265-A" is-representative="NO"><document-id mxw-id="PAPP154850466" load-source="docdb" format="epo"><country>EP</country><doc-number>09173265</doc-number><kind>A</kind><date>20080424</date><lang>EN</lang></document-id><document-id mxw-id="PAPP246855746" load-source="docdb" format="original"><country>EP</country><doc-number>09173265.1</doc-number><date>20080424</date></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140555205" ucid="EP-08007926-A" linkage-type="3" load-source="docdb"><document-id format="epo"><country>EP</country><doc-number>08007926</doc-number><kind>A</kind><date>20080424</date></document-id></priority-claim><priority-claim mxw-id="PPC140554634" ucid="JP-2007120059-A" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>2007120059</doc-number><kind>A</kind><date>20070427</date></document-id></priority-claim></priority-claims><dates-of-public-availability><intention-to-grant-date><date>20130731</date></intention-to-grant-date></dates-of-public-availability><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1989325142" load-source="docdb">H04B  10/61        20130101AFI20130524BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL2076380343" load-source="docdb">H04B  10/58        20130101ALI20140402RHJP        </classification-ipcr><classification-ipcr mxw-id="PCL2076381095" load-source="docdb">H04B  10/548       20130101ALI20140402RHJP        </classification-ipcr><classification-ipcr mxw-id="PCL2076382261" load-source="docdb">H04B  10/516       20130101AFI20140402RHJP        </classification-ipcr><classification-ipcr mxw-id="PCL2076383413" load-source="docdb">H04B  10/07        20130101ALI20140402RHJP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL1989622771" load-source="docdb" scheme="CPC">H04B  10/611       20130101 FI20130101BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989623853" load-source="docdb" scheme="CPC">H04B  10/6165      20130101 LI20130101BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989652462" load-source="docdb" scheme="CPC">H04B  10/60        20130101 LI20130101BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132369455" lang="DE" load-source="patent-office">Optischer Empfänger</invention-title><invention-title mxw-id="PT132369456" lang="EN" load-source="patent-office">Optical receiver</invention-title><invention-title mxw-id="PT132369457" lang="FR" load-source="patent-office">Récepteur optique</invention-title></technical-data><related-documents><relation type="division"><child-doc ucid="EP-09173265-A"><document-id load-source="patent-office" format="epo"><country>EP</country><doc-number>09173265</doc-number><kind>A</kind><date>20080424</date></document-id></child-doc><parent-doc ucid="EP-08007926.2"><document-id load-source="patent-office" format="epo"><country>EP</country><doc-number>08007926.2</doc-number><date>20080424</date></document-id><parent-grant-document ucid="EP-1986352-B1"><document-id><country>EP</country><doc-number>1986352</doc-number><kind>B1</kind><date>20161012</date></document-id></parent-grant-document></parent-doc></relation></related-documents><parties><applicants><applicant mxw-id="PPAR919519536" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>FUJITSU LTD</last-name><address><country>JP</country></address></addressbook></applicant><applicant mxw-id="PPAR919520375" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>FUJITSU LIMITED</last-name></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR919506923" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>NAKASHIMA HISAO</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919510398" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>NAKASHIMA, HISAO</last-name></addressbook></inventor><inventor mxw-id="PPAR919022347" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>NAKASHIMA, HISAO</last-name><address><street>c/o Fujitsu Limited 1-1, Kamikodanaka 4-chome Nakahara-ku Kawasaki-shi</street><city>Kanagawa 211-8588</city><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919538953" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>HOSHIDA TAKESHI</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919526266" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>HOSHIDA, TAKESHI</last-name></addressbook></inventor><inventor mxw-id="PPAR919022348" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>HOSHIDA, TAKESHI</last-name><address><street>c/o Fujitsu Limited 1-1, Kamikodanaka 4-chome Nakahara-ku Kawasaki-shi</street><city>Kanagawa 211-8588</city><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919509711" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>TANIMURA TAKAHITO</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919508179" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>TANIMURA, TAKAHITO</last-name></addressbook></inventor><inventor mxw-id="PPAR919022349" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>TANIMURA, TAKAHITO</last-name><address><street>c/o Fujitsu Limited 1-1, Kamikodanaka 4-chome Nakahara-ku Kawasaki-shi</street><city>Kanagawa 211-8588</city><country>JP</country></address></addressbook></inventor></inventors><assignees><assignee mxw-id="PPAR919022350" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>FUJITSU LIMITED</last-name><iid>100126510</iid><address><street>1-1, Kamikodanaka 4-chome, Nakahara-ku</street><city>Kawasaki-shi, Kanagawa 211-8588</city><country>JP</country></address></addressbook></assignee></assignees><agents><agent mxw-id="PPAR919022351" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>HOFFMANN EITLE</last-name><iid>100061036</iid><address><street>Patent- und Rechtsanwälte Arabellastrasse 4</street><city>81925 München</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><designated-states><ep-contracting-states><country mxw-id="DS549783473" load-source="docdb">DE</country><country mxw-id="DS549868809" load-source="docdb">FR</country><country mxw-id="DS549783474" load-source="docdb">GB</country></ep-contracting-states></designated-states></international-convention-data></bibliographic-data><description mxw-id="PDES63960699" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001">TECHNICAL FIELD</heading><p id="p0001" num="0001">The present invention relates to an optical receiver.</p><heading id="h0002">DESCRIPTION OF THE RELATED ART</heading><p id="p0002" num="0002">Demand for achievement of a transmission capacity of 40 Gbit/sec or more in a backbone communication system has increased with the advance of popularization of the Internet in recent years. Various modulation format excellent in frequency utilization efficiency, optical-signal-to-noise ratio (OSNR) tolerance and nonlinear tolerance have been grouped so as to be used for satisfying this demand in place of an NRZ (Non Return to Zero) modulation format heretofore used in an optical communication system having a transmission capacity of 10 Gbit/sec or less. Among them, an RZ-DQPSK (Return to Zero - Differential Quadrature Phase-Shift Keying) modulation format is a major candidate for a modulation format having dispersion tolerance, PMD tolerance and filtering tolerance.</p><p id="p0003" num="0003">A receiving method using coherent reception and digital<!-- EPO <DP n="2"> --> signal processing (DSP) in combination has been noticed as a technique for improving optical-signal-to-noise ratio (OSNR) tolerance and wavelength dispersion tolerance in the RZ-DQPSK modulation format in resent years.</p><p id="p0004" num="0004">A technique for correcting a phase shift in a 90° hybrid circuit has been disclosed in Patent Document 1 where phase shift means difference from 90° phase of 90° hybrid circuit. A configuration of the 90° hybrid circuit and a receiver using coherent reception and digital signal processing (DSP) in combination have been described in Non-Patent Documents 1 and 2.
<ul><li>[Patent Document 1] <patcit id="pcit0001" dnum="US6917031B"><text>U.S. Patent No. 6,917,031</text></patcit></li><li>[Non-Patent Document 1] <nplcit id="ncit0001" npl-type="s"><text>S.Tsukamoto et al, "Optical Homodyne Receiver Comprising Phase and Polarization Diversities with Digital Signal Processing", ECOC, 2006, MO-4,2,1</text></nplcit></li><li>[Non-Patent Document 2] <nplcit id="ncit0002" npl-type="s"><text>M.Seimetz et al, "Options, Feasibility, and Availability of 2x4 90° Hybrids for Coherent Optical Systems", Journal of Lightwave Technology, Vol. 24, No. 3, March 2006, pp. 1317-1322</text></nplcit></li></ul></p><p id="p0005" num="0005">Document D1 <nplcit id="ncit0003" npl-type="b"><text>Leonid G Kazovsky et al: "Homodyne Phase-Shift-Keying Systems: Past Challenges and Future Opportunities", Journal of Lightwave Technology, IEEE Service Center, New York, US, vol. 24, no. 12, 1 December 2006, pages 4876-4884, XP011155998, ISSN: 0733-8724</text></nplcit> describes a coherent receiver including a voltage-control polarization controller, a polarization beam splitter, a polarization control unit and balance detectors. The received electrical signals are sampled and digitized by high-speed ADC and processed by subsequent DSP electronics. The DSP generates feedback control signals to tune a laser wavelength close to the wavelength of the received signal.<!-- EPO <DP n="3"> --></p><heading id="h0003">Summary</heading><p id="p0006" num="0006"><figref idrefs="f0019">Figs. 19A and 19B</figref> are views for explaining the basic configuration of a receiver using coherent reception and<!-- EPO <DP n="4"> --> digital signal processing (DSP) in combination and a problem therein.<br/>
As shown in <figref idrefs="f0019">Fig. 19A</figref>, signal light Es having orthogonal polarized wave components Ex and Ey and local oscillated light (local oscillator light) ELo are inputted to a 90° hybrid circuit 10 for mixing the received optical signal with the local oscillated light per se and with the local oscillated light 90° phase-shifted from the received optical signal, respectively, and extracting components of real part and imaginary part of the optical signal, so that a real component Ex_Re of Ex, an imaginary component Ex_Im of Ex, a real component Ey_Re of Ey and an imaginary component Ey_Im of Ey are extracted. The respective components are converted into electric signals by Twin-PDs 11-1 to 11-4. The electric signals are amplified by AMPs (amplifiers) 12-1 to 12-4 and then converted into digital signals by ADCs (analog-to-digital converters) 13-1 to 13-4, respectively. The digital signals are processed by a DSP 14.</p><p id="p0007" num="0007">The signal received by the receiver using coherent reception and DSP in combination cannot be demodulated accurately in the DSP when the phase of the 90° hybrid circuit is 90° shifted or when the respective AMPs have different gains. As a result, phase error occurs so that signal quality deteriorates. <figref idrefs="f0019">Fig. 19B</figref> shows deterioration of signal quality<!-- EPO <DP n="5"> --> against phase error in the case where a four-value phase modulation format is used. As shown in <figref idrefs="f0019">Fig. 19B</figref>, it has been found that the degree of deterioration of signal quality (Q penalty) increases in proportion to phase error as the phase error increases.</p><p id="p0008" num="0008">The output signals (Ex_Re, Ex_Im, Ey_Re and Ey_Im) of a polarization diversity 90° hybrid circuit in the case where a phase modulation format is used are expressed as follows: <maths id="math0001" num=""><math display="block"><mi>Ex_Re</mi><mspace width="1em"/><mo>∝</mo><mspace width="1em"/><mfenced open="|" close="|"><mi>Ex</mi></mfenced><mspace width="1em"/><mfenced open="|" close="|"><mi>ELO</mi></mfenced><mspace width="1em"/><mi>cos</mi><mspace width="1em"/><mfenced separators=""><mi mathvariant="normal">Δωt</mi><mo>+</mo><mi mathvariant="normal">θ</mi><mfenced><mi mathvariant="normal">t</mi></mfenced></mfenced></math><img id="ib0001" file="imgb0001.tif" wi="86" he="8" img-content="math" img-format="tif"/></maths> <maths id="math0002" num=""><math display="block"><mi>Ex_Im</mi><mspace width="1em"/><mo>∝</mo><mfenced open="|" close="|"><mi>Ex</mi></mfenced><mspace width="1em"/><mfenced open="|" close="|"><mi>ELO</mi></mfenced><mspace width="1em"/><mi>sin</mi><mspace width="1em"/><mfenced separators=""><mi mathvariant="normal">Δωt</mi><mo>+</mo><mi mathvariant="normal">θ</mi><mfenced><mi mathvariant="normal">t</mi></mfenced></mfenced><mo>×</mo><mi>cos</mi><mspace width="1em"/><mfenced><mi mathvariant="normal">θh</mi></mfenced><mo>+</mo><mfenced open="|" close="|"><mi>Ex</mi></mfenced><mspace width="1em"/><mfenced open="|" close="|"><mi>ELO</mi></mfenced><mspace width="1em"/><mi>cos</mi><mspace width="1em"/><mfenced separators=""><mi mathvariant="normal">Δωt</mi><mo>+</mo><mi mathvariant="normal">θ</mi><mfenced><mi mathvariant="normal">t</mi></mfenced></mfenced><mo>×</mo><mi>sin</mi><mspace width="1em"/><mfenced><mi mathvariant="normal">θh</mi></mfenced></math><img id="ib0002" file="imgb0002.tif" wi="133" he="17" img-content="math" img-format="tif"/></maths> <maths id="math0003" num=""><math display="block"><mi>Ey_Re</mi><mo>∝</mo><mfenced open="|" close="|"><mi>Ey</mi></mfenced><mspace width="1em"/><mfenced open="|" close="|"><mi>ELO</mi></mfenced><mspace width="1em"/><mi>cos</mi><mspace width="1em"/><mfenced separators=""><mi mathvariant="normal">Δωt</mi><mo>+</mo><mi mathvariant="normal">θ</mi><mfenced><mi mathvariant="normal">t</mi></mfenced><mo>+</mo><mi mathvariant="normal">θp</mi></mfenced></math><img id="ib0003" file="imgb0003.tif" wi="102" he="8" img-content="math" img-format="tif"/></maths> <maths id="math0004" num=""><math display="block"><mi>Ey_Im</mi><mo>∝</mo><mfenced open="|" close="|"><mi>Ey</mi></mfenced><mspace width="1em"/><mfenced open="|" close="|"><mi>ELO</mi></mfenced><mspace width="1em"/><mi>sin</mi><mspace width="1em"/><mfenced separators=""><mi mathvariant="normal">Δωt</mi><mo>+</mo><mi mathvariant="normal">θ</mi><mfenced><mi mathvariant="normal">t</mi></mfenced><mo>+</mo><mi mathvariant="normal">θp</mi></mfenced><mo>×</mo><mi>cos</mi><mspace width="1em"/><mfenced><mi>qh</mi></mfenced><mo>+</mo><mfenced open="|" close="|"><mi>Ey</mi></mfenced><mspace width="1em"/><mfenced open="|" close="|"><mi>ELO</mi></mfenced><mspace width="1em"/><mi>cos</mi><mspace width="1em"/><mfenced separators=""><mfenced separators=""><mi mathvariant="normal">Δωt</mi><mo>+</mo><mi mathvariant="normal">θ</mi><mfenced><mi mathvariant="normal">t</mi></mfenced><mo>+</mo><mi mathvariant="normal">θp</mi></mfenced><mo>⁢</mo><mi mathvariant="normal">x</mi></mfenced><mo>×</mo><mi>sin</mi><mspace width="1em"/><mfenced><mi mathvariant="normal">θh</mi></mfenced></math><img id="ib0004" file="imgb0004.tif" wi="148" he="17" img-content="math" img-format="tif"/></maths><br/>
in which:
<ul><li>Ex is the amplitude of x polarized wave of the signal light;</li><li>Ey is the amplitude of y polarized wave of the signal light;</li><li>ELO is the amplitude of the local oscillated light;</li><li>θh is the phase error of the 90° hybrid circuit;</li><li>θp is the phase difference between Ex and Ey (to be compensated by a phase error cancel circuit)*1; and</li><li>Δω is the frequency difference between the signal light<!-- EPO <DP n="6"> --> and the local oscillated light (to be compensated by the phase error cancel circuit)*1.</li><li>*1: S.Tukamoto et al, ECOC2006, Mo.4.2.1</li></ul></p><p id="p0009" num="0009">If Δω is 0, using Ex_Re, Ex_Im, Ey_Re and Ey_Im, the received signal can be demodulated as follows: <maths id="math0005" num=""><math display="block"><mi>Es</mi><mspace width="1em"/><mo>=</mo><mspace width="1em"/><mfenced separators=""><mi>Ex_Re</mi><mo>+</mo><mi>jEx_Im</mi></mfenced><mo>+</mo><mfenced separators=""><mi>Ey_Re</mi><mo>+</mo><mi>jEy_Im</mi></mfenced></math><img id="ib0005" file="imgb0005.tif" wi="105" he="9" img-content="math" img-format="tif"/></maths> <maths id="math0006" num=""><math display="block"><mi mathvariant="normal">θs</mi><mo>=</mo><mi>arg</mi><mspace width="1em"/><mfenced><mi>Es</mi></mfenced></math><img id="ib0006" file="imgb0006.tif" wi="36" he="9" img-content="math" img-format="tif"/></maths><br/>
In the case of θh ≠ 0, phase error occurs because the imaginary part components of the received signal cannot be received correctly.</p><p id="p0010" num="0010">Patent Document 1 is a commonly known technique for compensating the phase error of the 90° hybrid circuit. In such feed-forward control as shown in Patent Document 1, accuracy in detection of a control signal however must be high not only when the control signal is near a target value but also when the control signal is far from the target value, because the detected control signal is directly used for the feed-forward control.</p><p id="p0011" num="0011"><figref idrefs="f0020">Fig. 20</figref> is a graph showing the phase error of the 90° hybrid circuit and the difference between the actual phase error and the estimate.<br/>
The graph of <figref idrefs="f0020">Fig. 20</figref> is a graph showing control error<!-- EPO <DP n="7"> --> in the case where feed-forward control is used in consideration of quantization error of the ADCs. As shown in this graph, it has been found that when the number of quantization bits is limited, control error increases in the case where the phase of the 90° hybrid circuit is shifted largely.</p><p id="p0012" num="0012">Accordingly, even the configuration of Patent Document 1 is insufficient as means for correcting the phase error sufficiently.<br/>
Moreover, the input signal power (AMP gain) of each ADC which varies in accordance with a variation of received light power, etc. needs to be controlled optimally in order to minimize the quantization error based on the ADCs.</p><p id="p0013" num="0013">The demodulated signal in consideration of the gains of the AMPs is expressed as follows: <maths id="math0007" num=""><math display="block"><mi>Es</mi><mo>=</mo><mfenced separators=""><mi>Ex_Re</mi><mo>*</mo><mi mathvariant="normal">G</mi><mo>+</mo><mi>jEx_Im</mi><mo>*</mo><mi mathvariant="normal">G</mi></mfenced><mo>+</mo><mfenced separators=""><mi>Ey_Re</mi><mo>*</mo><mi mathvariant="normal">G</mi><mo>+</mo><mi>jEy_Im</mi><mo>*</mo><mi mathvariant="normal">G</mi></mfenced></math><img id="ib0007" file="imgb0007.tif" wi="129" he="10" img-content="math" img-format="tif"/></maths> <maths id="math0008" num=""><math display="block"><mi mathvariant="normal">θs</mi><mo>=</mo><mi>arg</mi><mspace width="1em"/><mfenced><mi>Es</mi></mfenced></math><img id="ib0008" file="imgb0008.tif" wi="34" he="8" img-content="math" img-format="tif"/></maths></p><p id="p0014" num="0014">Because Es cannot be demodulated accurately when the gains of the respective AMPs are different from one another, the gains of the respective AMPs must be equal to one another at the time of gain control of the AMPs.<br/>
Particularly a receiver having a polarization diversity configuration needs controlling for optimizing the input<!-- EPO <DP n="8"> --> signal light power of the ADCs and equalizing the AMP gains of Ex and Ey because the signal power of Ex and Ey varies temporally in accordance with a polarized wave variation generated in a transmission path.</p><p id="p0015" num="0015">When four symbols appear in the same probabilities in the case where the four-value phase modulation format is used, the signal power of the real part and the signal power of the imaginary part are made equal to each other so that the gains of the AMPs are made nearly equal to one another even when the AMPs are controlled individually. Accordingly, this function has a large effect in the receiver having the polarization diversity.</p><heading id="h0004">SUMMARY</heading><p id="p0016" num="0016">According to an aspect of an embodiment, an optical receiver uses coherent reception and digital signal processing in combination, and has excellent in receiving accuracy. According to an aspect of an embodiment, an optical receiver includes:<!-- EPO <DP n="9"> -->
<ul><li>a polarization diversity optical mixing part having four output ports and arranged to mix a received phase-modulated optical signal and local oscillator light in at least two phases and to extract at least two output optical signals corresponding to each phase for demodulating the phase-modulated optical signal, wherein each phase corresponds to an orthogonal polarized wave of the phase-modulated optical signal and the at least two output optical signals have components of a real part and an imaginary part; a photoelectric conversion part arranged to convert the at least two output optical signals obtained in the optical mixing part into electric signals; an amplification part arranged to amplify the electric signals obtained by the photoelectric conversion part, with set gains; an analog-to-digital conversion part arranged to convert the electric signals obtained by the amplification part into digital signals; and a control part arranged to detect strength of the phase-modulated optical signal and to optimally control the gains of the amplification part in accordance with the strength, wherein the gains for each electric signal are the same gain.</li></ul></p><p id="p0017" num="0017">The above aspects of embodiments are only intended as examples. All aspects of all embodiments are not limited to including all the features described above.</p><heading id="h0005">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p0018" num="0018"><!-- EPO <DP n="10"> --><ul><li><figref idrefs="f0001">Fig. 1</figref> is a diagram showing the overall configuration of an optical receiver according to an embodiment of the invention;</li><li><figref idrefs="f0002">Fig. 2</figref> is a (first) view for explaining a phase control method for a 90° hybrid circuit;</li><li><figref idrefs="f0003">Figs. 3A and 3B</figref> are (second) views for explaining the phase control method for the 90° hybrid circuit;</li><li><figref idrefs="f0004">Fig. 4</figref> is a (first) view for explaining a gain control<!-- EPO <DP n="11"> --> method for AMPs;</li><li><figref idrefs="f0005">Fig. 5</figref> is a (second) view for explaining the gain control method for the AMPs;</li><li><figref idrefs="f0006">Fig. 6</figref> is a (first) view for explaining a second example of the phase control method for the 90° hybrid circuit;</li><li><figref idrefs="f0007">Figs. 7A and 7B</figref> are (second) views for explaining the second example of the phase control method for the 90° hybrid circuit;</li><li><figref idrefs="f0008">Fig. 8</figref> is a (first) view for explaining a third example of the phase control method for the 90° hybrid circuit;</li><li><figref idrefs="f0009">Figs. 9A and 9B</figref> are (second) views for explaining the third example of the phase control method for the 90° hybrid circuit;</li><li><figref idrefs="f0010">Fig. 10</figref> is a view for detailed explanation of the 90° hybrid circuit and the gain control method for the AMPs;</li><li><figref idrefs="f0011">Fig. 11</figref> is a view for explaining a control method for a quarter-wave plate;</li><li><figref idrefs="f0012">Fig. 12</figref>, which does not form part of the invention but represents related art that is useful for understanding the invention, is a diagram showing an example of overall configuration of the optical receiver in the case where phase error of the 90° hybrid circuit shown in <figref idrefs="f0003">Figs. 3A and 3B</figref> or in <figref idrefs="f0009">Figs. 9A and 9B</figref> is corrected;</li><li><figref idrefs="f0013">Fig. 13</figref>, which does not form part of the invention but represents related art that is useful for understanding the invention, is a, diagram showing an example of overall configuration of the optical receiver in the case where phase error of the 90° hybrid circuit shown in <figref idrefs="f0007">Figs. 7A</figref> and 75- is corrected;<!-- EPO <DP n="12"> --></li><li><figref idrefs="f0014">Fig. 14</figref>, which does not form part of the invention but represents related art that is useful for understanding the invention, is a diagram showing another example of overall configuration of the optical receiver in the case where phase error of the 90° hybrid circuit shown in <figref idrefs="f0003">Figs. 3A and 3B</figref> or in <figref idrefs="f0009">Figs. 9A and 9B</figref> is corrected;</li><li><figref idrefs="f0015">Fig. 15</figref> is a diagram showing an example of overall configuration of the optical receiver in the case where the gain control of the AMPs as shown in <figref idrefs="f0005">Fig. 5</figref> is performed;</li><li><figref idrefs="f0016">Fig. 16</figref> is a diagram showing an example of overall configuration of the optical receiver in the case where analog values of an optical signal are detected and the gains of the AMPs are controlled;</li><li><figref idrefs="f0017">Fig. 17</figref> is a diagram showing an example of a circuit for detecting a photocurrent of a Twin-PD;</li><li><figref idrefs="f0018">Fig. 18</figref> is a diagram for explanation concerned with a modulator-demodulator according to the embodiment;</li><li><figref idrefs="f0019">Figs. 19A and 19B</figref> are views for explaining the basic configuration of a receiver using coherent reception and DSP in combination and a problem in the receiver; and</li><li><figref idrefs="f0020">Fig. 20</figref> is a graph showing the phase error of a 90° hybrid circuit and the difference between the actual phase error and the estimate.</li></ul></p><heading id="h0006">DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS</heading><p id="p0019" num="0019"><figref idrefs="f0001">Fig. 1</figref> is a diagram showing the overall configuration<!-- EPO <DP n="13"> --> of an optical receiver according to an embodiment of the invention. Incidentally, the following embodiment will be described while instancing a 90° hybrid circuit for mixing between two optical phases of 0° and 90° and optical signal in an optical mixer and extracting two-system signals corresponding to the optical phases of 0° and 90°. However, when an optical mixer for mixing optical phases of 0°, 120° and 240° is used, the same effect as described above can be obtained by use of a DSP (digital signal processor) for extracting signals corresponding to 0° and 90° from the obtained three-system signals.</p><p id="p0020" num="0020">To compensate for deterioration of signal quality caused by the phase shift of the 90° hybrid circuit 10, a phase shift signal of the 90° hybrid circuit 10 is detected to thereby perform feedback control of the phase of the 90° hybrid circuit. To compensate for deterioration of signal quality caused by gain shifts of AMPs 12-1 to 12-4, light intensity is calculated from four electric signals outputted from the 90° hybrid circuit to thereby perform feedback control of the gains of the respective AMPs so that the calculated light intensity becomes equal to a target value.</p><p id="p0021" num="0021">In <figref idrefs="f0001">Fig. 1</figref>, the same configuration as in <figref idrefs="f0019">Fig. 19A</figref> is referred to by the same reference number. Inside a DSP circuit<!-- EPO <DP n="14"> --> 14, an AMP gain control circuit 15 is provided for detecting digitized AMP outputs and controlling the gains of the AMPs by feedback control. The AMPs 12-1 to 12-4 are controlled so that all have the same gain. Also in the DSP circuit 14, a 90° hybrid circuit phase control circuit 16 is provided for detecting Ex_Re, Ex_Im, Ey_Re and Ey_Im as digital signals, generating a phase control signal for the 90° hybrid circuit 10 and correcting the phase error of the 90° hybrid circuit 10. A phase error cancel circuit 17 is a circuit in which phase error due to unsynchronized phase between signal and local oscillated laser. A decision circuit 18 is a circuit for discriminating between signal phases.</p><p id="p0022" num="0022">An example of the internal configuration of the 90° hybrid circuit 10 shown in <figref idrefs="f0001">Fig. 1</figref> will be described.<br/>
Inputted signal light is split into orthogonal polarized waves by a polarization beam splitter (PBS) 20. On the other hand, local oscillated light is converted into circularly polarized wave by a quarter-wave plate 25. The circularly polarized wave is made to branch into two by a half-silvered mirror. The respective polarized waves of the signal light and the respective circularly polarized waves of the converted local oscillated light are mixed by half-silvered mirrors, split into polarized waves by polarization beam splitters 21, 22, 23 and 24 and received by Twin-PDs 1-1 to 11-4 respectively.<!-- EPO <DP n="15"> --> The optical component detected by the Twin-PD 11-1 is Ex-Re, the optical component detected by the Twin-PD 11-2 is Ex-Im, the optical component detected by the Twin-PD 11-3 is Ey_Re, and the optical component detected by the Twin-PD 11-4 is Ey_Im.</p><p id="p0023" num="0023"><figref idrefs="f0002">Figs. 2</figref>, <figref idrefs="f0003">3A and 3B</figref> are views for explaining a method for controlling the phase of the 90° hybrid circuit.<br/>
<figref idrefs="f0002">Fig. 2</figref> shows a constellation of received signals in the cases where phase shifts of the 90° hybrid circuit are 0°, 20° and -20°. When there is a phase shift, a correlation between real part and imaginary part appears. When the phase shift is plus, the correlation between real part and imaginary part becomes plus. When the phase shift is minus, the correlation between real part and imaginary part becomes minus. When there is no phase shift, the correlation between real part and imaginary part becomes zero. Accordingly, the phase of the 90° hybrid circuit is feedback-controlled so that a correlation coefficient of zero can be obtained.</p><p id="p0024" num="0024">The correlation coefficient <u>r</u> is expressed as follows: <maths id="math0009" num=""><math display="block"><mtable><mtr><mtd columnalign="left"><mi mathvariant="normal">r</mi><mo>=</mo><mstyle displaystyle="false"><mo>∑</mo><mfenced open="{" close="}" separators=""><mi>Ex_Re</mi><mo>*</mo><mi>Ex_Im</mi><mo>+</mo><mi>Ey_Re</mi><mo>*</mo><mi>Ey_Im</mi></mfenced></mstyle></mtd></mtr><mtr><mtd columnalign="left"><mo>=</mo><mstyle displaystyle="false"><munder><mo>∑</mo><mspace width="1em"/></munder><mfenced open="{" close="}" separators=""><mrow><mo>(</mo><mfenced open="|" close="|"><mi>Ex</mi></mfenced><mspace width="1em"/><mfenced open="|" close="|"><mi>ELO</mi></mfenced><mo>/</mo><mn mathvariant="normal">2</mn><mo>⁢</mo><mfenced separators=""><mi>sin</mi><mfenced separators=""><mn mathvariant="normal">2</mn><mo>⁢</mo><mi mathvariant="normal">θx</mi></mfenced><mo>⁢</mo><mi>cos</mi><mfenced><mi mathvariant="normal">θh</mi></mfenced><mo>+</mo><mi>cos</mi><mfenced separators=""><mn mathvariant="normal">2</mn><mo>⁢</mo><mi mathvariant="normal">θx</mi></mfenced><mo>⁢</mo><mi>sin</mi><mfenced><mi mathvariant="normal">θh</mi></mfenced><mo>+</mo><mi>sin</mi><mfenced><mi mathvariant="normal">θh</mi></mfenced></mfenced><mo>+</mo><mfenced open="|" close="|"><mi>Ey</mi></mfenced><mo>⁢</mo><mfenced open="|" close="|"><mi>ELO</mi></mfenced></mrow><mo>/</mo><mn mathvariant="normal">2</mn><mo>⁢</mo><mfenced separators=""><mi>sin</mi><mspace width="1em"/><mfenced separators=""><mn mathvariant="normal">2</mn><mo>⁢</mo><mi mathvariant="normal">θy</mi></mfenced><mo>⁢</mo><mi>cos</mi><mfenced><mi mathvariant="normal">θh</mi></mfenced><mo>+</mo><mi>cos</mi><mfenced separators=""><mn mathvariant="normal">2</mn><mo>⁢</mo><mi mathvariant="normal">θy</mi></mfenced><mo>⁢</mo><mi>sin</mi><mspace width="1em"/><mfenced><mi mathvariant="normal">θh</mi></mfenced><mo>+</mo><mi>sin</mi><mspace width="1em"/><mfenced><mi mathvariant="normal">θh</mi></mfenced></mfenced></mfenced></mstyle></mtd></mtr><mtr><mtd columnalign="left"><mo>=</mo><mstyle displaystyle="false"><munder><mo>∑</mo><mspace width="1em"/></munder><mfenced open="{" close="}" separators=""><mfenced separators=""><mfenced open="|" close="|"><mi>Ex</mi></mfenced><mo>+</mo><mfenced open="|" close="|"><mi>Ey</mi></mfenced></mfenced><mo>*</mo><mfenced open="|" close="|"><mi>ELO</mi></mfenced><mo>/</mo><mn mathvariant="normal">2</mn><mo>*</mo><mi>sin</mi><mspace width="1em"/><mfenced><mi mathvariant="normal">θh</mi></mfenced></mfenced><mo>+</mo></mstyle></mtd></mtr></mtable></math><img id="ib0009" file="imgb0009.tif" wi="156" he="49" img-content="math" img-format="tif"/></maths><!-- EPO <DP n="16"> --> <maths id="math0010" num=""><math display="block"><mstyle displaystyle="false"><munder><mo>∑</mo><mspace width="1em"/></munder><mfenced open="{" close="}" separators=""><mfenced open="|" close="|"><mi>Ex</mi></mfenced><mspace width="1em"/><mfenced open="|" close="|"><mi>ELO</mi></mfenced><mo>/</mo><mn mathvariant="normal">2</mn><mrow><mo>(</mo><mrow><mi>sin</mi><mfenced separators=""><mn mathvariant="normal">2</mn><mo>⁢</mo><mi mathvariant="normal">θx</mi></mfenced><mo>⁢</mo><mi>cos</mi><mfenced><mi mathvariant="normal">θh</mi></mfenced><mo>+</mo><mi>cos</mi><mfenced separators=""><mn mathvariant="normal">2</mn><mo>⁢</mo><mi mathvariant="normal">θx</mi></mfenced><mo>⁢</mo><mi>sin</mi><mfenced><mi mathvariant="normal">θh</mi></mfenced><mo>)</mo></mrow></mrow><mo>+</mo><mfenced open="|" close="|"><mi>Ey</mi></mfenced><mo>⁢</mo><mfenced open="|" close="|"><mi>ELO</mi></mfenced><mo>/</mo><mn mathvariant="normal">2</mn><mo>⁢</mo><mfenced separators=""><mi>sin</mi><mspace width="1em"/><mfenced separators=""><mn mathvariant="normal">2</mn><mo>⁢</mo><mi mathvariant="normal">θy</mi></mfenced><mo>⁢</mo><mi>cos</mi><mfenced><mi mathvariant="normal">θh</mi></mfenced><mo>+</mo><mi>cos</mi><mfenced separators=""><mn mathvariant="normal">2</mn><mo>⁢</mo><mi mathvariant="normal">θy</mi></mfenced><mo>⁢</mo><mi>sin</mi><mspace width="1em"/><mfenced><mi mathvariant="normal">θh</mi></mfenced></mfenced></mfenced></mstyle></math><img id="ib0010" file="imgb0010.tif" wi="136" he="18" img-content="math" img-format="tif"/></maths> <maths id="math0011" num=""><math display="block"><mi mathvariant="normal">θx</mi><mo>=</mo><mi mathvariant="normal">Δωt</mi><mo>+</mo><mi mathvariant="normal">θ</mi><mfenced><mi mathvariant="normal">t</mi></mfenced><mo>,</mo><mi mathvariant="normal">θy</mi><mo>=</mo><mi mathvariant="normal">Δωt</mi><mo>+</mo><mi mathvariant="normal">θ</mi><mfenced><mi mathvariant="normal">t</mi></mfenced><mo>+</mo><mi mathvariant="normal">θp</mi></math><img id="ib0011" file="imgb0011.tif" wi="100" he="10" img-content="math" img-format="tif"/></maths></p><p id="p0025" num="0025">When probabilities of occurrence of respective symbols (θ(t)) are equal, the second term of the correlation coefficient becomes zero and the correlation coefficient <u>r</u> is expressed as follows. <maths id="math0012" num=""><math display="block"><mi mathvariant="normal">r</mi><mo>=</mo><mstyle displaystyle="false"><munder><mo>∑</mo><mspace width="1em"/></munder><mfenced open="{" close="}" separators=""><mfenced separators=""><mfenced open="|" close="|"><mi>Ex</mi></mfenced><mo>*</mo><mfenced open="|" close="|"><mi>ELO</mi></mfenced><mo>+</mo><mfenced open="|" close="|"><mi>Ey</mi></mfenced><mo>*</mo><mfenced open="|" close="|"><mi>ELO</mi></mfenced></mfenced><mo>/</mo><mn mathvariant="normal">2</mn><mo>*</mo><mi>sin</mi><mspace width="1em"/><mfenced><mi mathvariant="normal">θh</mi></mfenced></mfenced></mstyle></math><img id="ib0012" file="imgb0012.tif" wi="113" he="9" img-content="math" img-format="tif"/></maths><br/>
Accordingly, to make <u>r</u> zero is to make sin(θh) zero. This is to make θh zero, that is, to make the phase error of the 90° hybrid circuit zero.</p><p id="p0026" num="0026"><figref idrefs="f0003">Fig. 3A</figref> shows the aforementioned equation of <u>r</u> as a graph which shows the magnitude of a normalized phase error signal versus the phase shift of the 90° hybrid circuit. Here, since the phase error signal has a value proportional to the correlation coefficient <u>r</u>, the magnitude of the normalized phase error signal also expresses the normalized correlation coefficient.</p><p id="p0027" num="0027"><figref idrefs="f0003">Fig. 3B</figref> shows an example of configuration of the 90° hybrid circuit phase control circuit.<br/>
To calculate the aforementioned correlation coefficient, Ex_Re and Ex_Im are multiplied together by a multiplier 30,<!-- EPO <DP n="17"> --> Ey_Re and Ey_Im are multiplied together by a multiplier 31, and these products are added by an adder 32. The obtained correlation coefficient values corresponding to symbols are averaged by an averaging circuit 33, and a 90° hybrid circuit phase control signal proportional to the average correlation coefficient is generated by a control signal generating circuit 34. The generated phase control signal which is a digital signal is converted into an analog signal by a digital-to-analog converter 35, so that the analog signal is supplied to the 90° hybrid circuit. The phase control signal has a value proportional to the average correlation coefficient. The coefficient of proportionality can be decided by those skilled in the art.</p><p id="p0028" num="0028"><figref idrefs="f0004">Figs. 4</figref> and <figref idrefs="f0005">5</figref> are views for explaining a method for controlling gains of the AMPs.<br/>
Input signal light power is calculated from four ADC output signals. Four AGC amplifiers are set to have the same gain so that the calculated value becomes equal to a target value. The expression for calculating the input signal light power from the ADC output signals is given by the following expression. <maths id="math0013" num=""><math display="block"><mfenced separators=""><msup><mi>Ex_Re</mi><mo>∧</mo></msup><mo>⁢</mo><mn>2</mn><mo>+</mo><msup><mi>Ex_Im</mi><mo>∧</mo></msup><mo>⁢</mo><mn>2</mn></mfenced><mo>+</mo><mfenced separators=""><msup><mi>Ey_Re</mi><mo>∧</mo></msup><mo>⁢</mo><mn>2</mn><mo>+</mo><msup><mi>Ey_Im</mi><mo>∧</mo></msup><mo>⁢</mo><mn>2</mn></mfenced></math><img id="ib0013" file="imgb0013.tif" wi="130" he="11" img-content="math" img-format="tif"/></maths></p><p id="p0029" num="0029">The target value is a value which is set so that the<!-- EPO <DP n="18"> --> dynamic range of each ADC can be used effectively. That is, target value is made so that the maximum power of signal light becomes equal to the highest value of the dynamic range of the ADC. For example, the optimum gain is determined from the relation between received light power and the maximum amplitude of an electric signal in consideration of degradation of waveform due to dispersion or DGD (Differential Group Delay) so that the upper limit of the electric signal is not cut by each AMP. When the characteristic of gain control signal versus AMP gain of each AMP varies, the AMP gain is controlled with reference to a table of control signal versus gain in accordance with each AMP.</p><p id="p0030" num="0030"><figref idrefs="f0004">Fig. 4</figref> is a view showing an example of configuration of the AMP gain control circuit.<br/>
To execute the aforementioned calculation of the input signal light power, respective squares of Ex_Re, Ex_Im, Ey_Re and Ey_Im obtained from the ADCs are calculated by squarers 40-1 to 40-4. These squares are added by adders 41, 42 and 43, so that the obtained value is inputted to a gain control signal decision circuit 44. The gain control signal generation circuit 44 compares the inputted value with the target value and generates gain control signals for changing the gains of the four AMPs so that each ADC output value becomes equal to the target value. The gain control signals are<!-- EPO <DP n="19"> --> converted into analog signals by a DAC 45, so that the analog signals are supplied to the AMPs respectively. The gains of the four AMPs are set at the same value. Accordingly, the gain control signals equalize the gains of the four AMPs to one another and change the gains of the four AMPs equally so that the output value of each ADC becomes close to the target value.</p><p id="p0031" num="0031">Alternatively, an LUT (look-up table) indicating values of signals to be used as control signals for obtaining predetermined gains in accordance with the AMPs may be provided in the gain control signal generation circuit 44 in advance so that the gain control signal generation circuit 44 can generate values of gain control signals given to the AMPs respectively by referring to the LUT.</p><p id="p0032" num="0032"><figref idrefs="f0005">Fig. 5</figref> is a diagram for explaining a method for making a table of control signal vs. gain.<br/>
Before shipment, the table of control signal vs. gain is made based on the following adjustment. First, in the condition that local oscillated light in a coherent receiver is turned off, CW light which is polarization-scrambled is inputted to thereby equalize signal light power of Ex Re, Ex_Im, Ey_Re and Ey_Im. Then, a gain control signal is changed and four amounts of signal power versus gain control signal are measured to thereby generate the LUT of gain control signal<!-- EPO <DP n="20"> --> vs. gain in accordance with each signal.</p><p id="p0033" num="0033"><figref idrefs="f0006">Figs. 6</figref>, <figref idrefs="f0007">7A and 7B</figref> are views for explaining a second example of the 90° hybrid circuit phase control method.<br/>
In this case, a phase difference between phases before and after decision in each of real part and imaginary part of each digitized polarized wave is used as a phase error signal. <figref idrefs="f0006">Fig. 6</figref> shows a temporal change of the phase difference between phases before and after decision in the case where there is some phase shift in the 90° hybrid circuit. When there is some phase shift, error occurs in the phase to be compensated by the phase error cancel circuit since the phase of the received signal on a complex plane is not on a concentric circle (see <figref idrefs="f0002">Fig. 2</figref>). As a result, phase error fluctuates in a period of Δω/2 where Δω is frequency difference between signal and local oscillated laser. In this method, the variation of phase error is used as a phase error signal.</p><p id="p0034" num="0034"><figref idrefs="f0007">Fig. 7A</figref> is a diagram showing an example of configuration of the 90° hybrid circuit phase control circuit.<br/>
A difference between a phase θb which is an output of the phase error cancel circuit 17 and which is before decision in the decision circuit 18, and a phase θa after decision is computed by a subtracter 50. A square of the difference is computed by a squarer 51 and passed through a low-pass filter<!-- EPO <DP n="21"> --> 52. A multiplier 53 is a circuit for synchronously detecting a signal superposed on a control signal to thereby detect the phase of the superposed signal. The multiplier 53 detects the sign of the phase error by multiplying -1*cos(2πf<sub>0</sub>t)</p><p id="p0035" num="0035"><figref idrefs="f0007">Fig. 7B</figref> is a graph showing the relation between the 90° hybrid circuit phase shift and the value of the phase error signal. Since whether the 90° hybrid circuit phase shift is on a plus side or on a minus side can be discriminated by synchronous detection, a signed error signal is inputted to a control signal generating circuit 54. Here, the frequency of dithering is f<sub>0</sub>. A control signal generated based on the detected signal is outputted from the control signal generating circuit 54. A multiplier 55 multiplies the control signal by a signal of cos(2πf<sub>0</sub>t) for performing dithering. The resulting signal is converted into an analog signal by a DAC 56, so that the analog signal is provided as a phase control signal for the 90° hybrid circuit. Since dithering is applied to the phase control signal given to the 90° hybrid circuit, the phase of the 90° hybrid circuit vibrates in the vicinity of a value set by the phase control signal. When the phase error signal is viewed after passage through the phase error cancel circuit 17, the subtracter 50, the squarer 51 and the low-pass filter 52, the phase error signal still vibrates at the frequency f<sub>0</sub> in the vicinity of a predetermined value because of dithering.<!-- EPO <DP n="22"> --> This signal and -1*cos (2πf<sub>0</sub>t) are multiplied by the multiplier 53 to thereby cancel the vibration and obtain a direct-current (DC) value having a sign corresponding to the plus or minus of the 90° hybrid circuit phase error, so that the DC value is received by the control signal generating circuit 54. Incidentally, assume that the cutoff frequency of the low-pass filter 52 satisfies the relation f<sub>0</sub> &lt; cutoff frequency &lt; Δw/2.</p><p id="p0036" num="0036"><figref idrefs="f0008">Figs. 8</figref>, <figref idrefs="f0009">9A and 9B</figref> are views for explaining a third example of the 90° hybrid circuit phase control method.<br/>
This method is a method using received signal strength as a phase error signal. <figref idrefs="f0008">Fig. 8</figref> shows a temporal change of signal strength in the case where there is some phase error in the 90° hybrid circuit. When there is some phase error, a change of strength occurs because the phase of the received signal is not on a concentric circle (see <figref idrefs="f0002">Fig. 2</figref>). As a result, signal strength fluctuates in a period of Δω/2 where Δω is frequency difference between signal and local oscillated laser. In this method, the variation of strength is used as a phase error signal.</p><p id="p0037" num="0037"><figref idrefs="f0009">Fig. 9B</figref> is a graph showing the relation between the 90° hybrid circuit phase error and the phase error signal. This graph is like <figref idrefs="f0007">Fig. 7B</figref>. It is found that applying dithering to the phase error signal is effective in detecting whether<!-- EPO <DP n="23"> --> the 90° hybrid circuit phase error is plus or minus. <figref idrefs="f0009">Fig. 9A</figref> shows an example of configuration of the 90° hybrid circuit phase control circuit. Only description about Ex_Re and Ex Im is shown here. A square of Ex_Re and a square of Ex_Im are computed by squarers 60-1 and 60-2, respectively. The resulting signals are added by an adder 61. A DC component is cut from the resulting signal by a DC cutting part 62. A square of the resulting signal is computed by a squarer 63. A high-frequency component is removed from the resulting signal by a low-pass filter 64 having a cutoff frequency satisfying the relation f<sub>0</sub> &lt; cutoff frequency &lt; Δω/2. To remove vibration caused by dithering, the resulting signal is multiplied by -1*cos(2πf<sub>0</sub>t) by a multiplier 65, so that a result of the multiplication is inputted into a control signal generating circuit 66. The control signal generating circuit 66 generates a control signal and outputs it. The outputted control signal is multiplied by dithering of cos(2πf<sub>0</sub>t) by a multiplier 67. The resulting signal is converted into an analog signal by a DAC 68, so that the analog signal is inputted to the 90° hybrid circuit.</p><p id="p0038" num="0038">Alternatively, AMP gain control can be performed as follows.<br/>
That is, photocurrents IX_Re, IX_Im, IY_Re and IY_Im flowing in four Twin-PDs are detected to thereby calculate<!-- EPO <DP n="24"> --> received light power. An expression of the calculation is given as follows. <maths id="math0014" num=""><math display="block"><mfenced separators=""><msup><mi>IX_Re</mi><mo>∧</mo></msup><mo>⁢</mo><mn>2</mn><mo>+</mo><msup><mi>IX_Im</mi><mo>∧</mo></msup><mo>⁢</mo><mn>2</mn></mfenced><mo>+</mo><mfenced separators=""><msup><mi>IY_Re</mi><mo>∧</mo></msup><mo>⁢</mo><mn>2</mn><mo>+</mo><msup><mi>IY_Im</mi><mo>∧</mo></msup><mo>⁢</mo><mn>2</mn></mfenced></math><img id="ib0014" file="imgb0014.tif" wi="131" he="12" img-content="math" img-format="tif"/></maths></p><p id="p0039" num="0039">After received light power is detected, AMP gain control is performed in the same manner as in <figref idrefs="f0004">Fig. 4</figref>. That is, although <figref idrefs="f0004">Fig. 4</figref> shows the case where digitized signals are used for performing control, here is shown the case where analog signal values of photocurrents are directly used for performing control. Although a method of monitoring the strength of the optical signal from four output signals (Ex_Re, Ex_Im, My_Re and Ey_Im) of the 90° hybrid circuit has been described as a configuration for performing AMP gain control, a method of splitting the optical signal in front of the 90° hybrid circuit and monitoring the strength of the optical signal by means of a light power monitor so that the monitored strength of the optical signal is used for AMP gain control may be used.</p><p id="p0040" num="0040"><figref idrefs="f0010">Fig. 10</figref> is a diagram for detailed explanation of a control method for the 90° hybrid circuit and AMP gain control.<br/>
An operation in the control signal generating circuit for the 90° hybrid circuit and the AMP gain control method will be described. Since both the 90° hybrid circuit and the AMP gain control are similar in processing in the control signal generating circuit, the processing method will be described<!-- EPO <DP n="25"> --> while generalized as follows. Incidentally, the description of <figref idrefs="f0010">Fig. 10</figref> does not include the case where ΔMP gain control is performed by use of an LUT.</p><p id="p0041" num="0041"><figref idrefs="f0010">Fig. 10</figref> is a simple block diagram for generalization. A control signal generating circuit receives an error signal detected by an error signal detecting part provided as a prior stage and generates a control signal. For example, in control of the 90° hybrid circuit, the error signal detecting part is a block which calculates a correlation signal. For example, in AMP control, the error signal detecting part is a block which calculates input signal light power. The control signal generating circuit generates a control signal in accordance with the expression of Kp*ErrorSignal. This expression is a basic control method called P (Proportional) control, and Kp is called proportional gain and decided by characteristic of a subject of control (90° phase or AMP gain), required response speed, etc. Further, PI (Proportional Integral) control which is a combination of P control and I (Integral) control using an integrated value of error signal or PID (Proportional Integral Differential) control which is a combination of P control, I control and D (Differential) control using a differentiated value of error signal can be used in the control signal generating circuit to thereby improve control accuracy and control speed.<!-- EPO <DP n="26"> --></p><p id="p0042" num="0042"><figref idrefs="f0011">Fig. 11</figref> is a view for explaining a method for controlling a quarter-wave plate.<br/>
A quarter-wave plate can be realized in such a manner that light is made incident on a birefringent medium adjusted to form a phase difference of π/2 between a horizontal direction and a vertical direction so that a deviation axis is inclined at an angle of 45° with respect to an optical axis. When the quarter-wave plate is used in the 90° hybrid circuit, it is necessary to adjust the optical axis of incident light (local oscillated light) in the case where the optical axis must be adjusted, and it is necessary to adjust the phase difference of the birefringent medium in the case where the phase difference of the birefringent medium is shifted from π/2 because of a temperature variation, etc.</p><p id="p0043" num="0043">As an example of the method for adjusting the optical axis, there is a method of mechanically rotating the wave plate by using a stepping motor or a method of adjusting the optical axis of incident light based on a magnetic field by using a Faraday rotator.</p><p id="p0044" num="0044">As an example of the method for adjusting the phase difference of the birefringent medium, there is a method in which two birefringent media as shown in <figref idrefs="f0011">Fig. 11</figref> are prepared<!-- EPO <DP n="27"> --> and the positions of the two birefringent media are controlled by a stepping motor to thereby adjust the total thickness of the birefringent media.</p><p id="p0045" num="0045">Although the aforementioned embodiment uses a 90° hybrid circuit using PBSs (polarization beam splitters), such a 90° hybrid circuit can be also realized by an MMI (multimode interface) coupler or four 3dB couplers and a 90° phase delay part.These 90° hybrid circuits may be used in the aforementioned embodiment.</p><p id="p0046" num="0046">A 90° hybrid circuit using an MMI coupler can be realized by a PLC (planar lightwave circuit) technique. In this case, the phases of the received signal and the local oscillated light can be controlled based on temperature control due to a Peltier element or a heater. A 90° hybrid circuit having four 3dB couplers and a 90° phase delay part can be realized by an LW (LiNbO<sub>3</sub>) technique. In this case, the phases of the received signal and the local oscillated light can be controlled by a voltage.</p><p id="p0047" num="0047"><figref idrefs="f0012">Fig. 12</figref>, which does not form part of the invention but represents related art that is useful for understanding the invention, is a diagram showing an example of overall configuration of the optical receiver in the case where the phase error of the 90° hybrid circuit is corrected as shown in <figref idrefs="f0003">Figs. 3A and 3B</figref> or in <figref idrefs="f0009">Figs. 9A and 9B</figref>.<!-- EPO <DP n="28"> --></p><p id="p0048" num="0048">In <figref idrefs="f0012">Fig. 12</figref>, constituent parts the same as in <figref idrefs="f0001">Fig. 1</figref> are referred to by the same reference numerals and description of the parts will be omitted.</p><p id="p0049" num="0049">In <figref idrefs="f0012">Fig. 12</figref>, a 90° hybrid circuit phase control circuit 16 is provided in the DSP circuit 14. Since the phase error correction method shown in <figref idrefs="f0003">Figs. 3A</figref> and 33 is used, the 90° hybrid circuit phase control circuit 16 receives outputs of four ADCs 13-1 to 13-4 as inputs, generates a phase control signal and supplies the phase control signal to the 90° hybrid circuit 10. As is obvious from this configuration diagram, feedback control is performed herein.</p><p id="p0050" num="0050"><figref idrefs="f0013">Fig. 13</figref>, which does not form part of the invention but represents related art that is useful for understanding the invention, is a diagram showing an example of overall configuration of the optical receiver in the case where the phase error of the 90° hybrid circuit is corrected as shown in <figref idrefs="f0007">Figs. 7A and 7B</figref>.</p><p id="p0051" num="0051">In <figref idrefs="f0013">Fig. 13</figref>, constituent parts the same as in <figref idrefs="f0001">Fig. 1</figref> are referred to by the same reference numerals and description of the parts will be omitted</p><p id="p0052" num="0052">In <figref idrefs="f0013">Fig. 13</figref>, a 90° hybrid circuit phase control circuit 16 receives input and output signals of a discrimination circuit 18 and generates a phase control signal by computing a phase difference between the input and output signals of the discrimination circuit 18. Also in this case, configuration<!-- EPO <DP n="29"> --> is made so that feedback control is performed.</p><p id="p0053" num="0053"><figref idrefs="f0014">Fig. 14</figref>, which does not form part of the invention but represents related art that is useful for understanding the invention, is a diagram showing another example of overall configuration of the optical receiver in the case where the phase error of the 90° hybrid circuit is corrected as shown in <figref idrefs="f0003">Figs. 3A and 3B</figref> or in <figref idrefs="f0009">Figs. 9A</figref> band 9B.</p><p id="p0054" num="0054">In <figref idrefs="f0014">Fig. 14</figref>, constituent parts the same as in <figref idrefs="f0001">Fig. 1</figref> are referred to by the same reference numerals and description of the parts will be omitted.</p><p id="p0055" num="0055"><figref idrefs="f0014">Fig. 14</figref> shows an example of configuration in the case where a 90° hybrid circuit has no polarization beam splitter. Signal light is split into orthogonal polarized waves by a polarization beam splitter 70 which is provided separately. The polarized waves of the signal light are inputted to 90° hybrid circuits 10-1 and 10-2 respectively. Local oscillated light is split into two by a 3dB coupler 71. The split parts of local oscillated light are inputted to the 90° hybrid circuits 10-1 and 10-2 respectively. Signals of real part and imaginary part of x polarized wave obtained by the 90° hybrid circuit 10-1 are converted into electric signals by Twin-PDs 11-1 and 11-2 respectively. The electric signals are amplified by AMPs 12-1 and 12-2 and converted into digital signals by ADCs 13-1 and 13-2, respectively. The digital signals are inputted to a 90° hybrid circuit phase control<!-- EPO <DP n="30"> --> circuit 16-1. The 90° hybrid circuit phase control circuit 16-1 generates a phase control signal by the method shown in <figref idrefs="f0003">Figs. 3A and 3B</figref> or in <figref idrefs="f0009">Figs. 9A and 9B</figref> and supplies the phase control signal to the 90° hybrid circuit 10-1. Similarly, signals of real part and imaginary part of y polarized wave obtained by the 90° hybrid circuit 10-2 are converted into electric signals by Twin-PDs 11-3 and 11-4 respectively. The electric signals are amplified by AMPs 12-3 and 12-4 and converted into digital signals by ADCs 13-3 and 13-4, respectively. The digital signals are inputted to a 90° hybrid circuit phase control circuit 16-2. The 90° hybrid circuit phase control circuit 16-2 generates a phase control signal by the method shown in <figref idrefs="f0003">Figs. 3A and 3B</figref> or in <figref idrefs="f0009">Figs. 9A and 9B</figref> and supplies the phase control signal to the 90° hybrid circuit 10-2. Also in this case, feedback control is performed.</p><p id="p0056" num="0056"><figref idrefs="f0015">Fig. 15</figref> is a diagram showing an example of overall configuration of the optical receiver in the case where AMP gain control is performed as shown in <figref idrefs="f0005">Fig. 5</figref>.</p><p id="p0057" num="0057">In <figref idrefs="f0015">Fig. 15</figref>, constituent parts the same as in <figref idrefs="f0001">Fig. 1</figref> are referred to by the same reference numerals and description of the parts will be omitted.</p><p id="p0058" num="0058">An AMP gain cont.rol circuit 15 is Provided in the DSP circuit 14 and performs AMP gain control by using outputs of the ADCs 13-1 to 13-4 described above with reference to <figref idrefs="f0005">Fig.<!-- EPO <DP n="31"> --> 5</figref>. That is, light intensity is calculated from optical signals converted into digital signals so that gains of AMPs are controlled on the basis of the light intensity. Control serves as feedback control.</p><p id="p0059" num="0059"><figref idrefs="f0016">Fig. 16</figref> is a diagram showing an example of overall configuration of the optical receiver in the case where analog values of optical signals are detected to thereby perform AMP gain control.<br/>
In <figref idrefs="f0016">Fig. 16</figref>, constituent parts the same as in <figref idrefs="f0001">Fig. 1</figref> are referred to by the same reference numerals and description of the parts will be omitted.<br/>
In <figref idrefs="f0016">Fig. 16</figref>, an AMP gain control circuit 15 detects not signals digitized by a stage posterior to ADCs 13-1 to 13-4 but photocurrents directly from Twin-PDs 11-1 to 11-4 to thereby obtain light intensity. Then, gains of AMPs 12-1 to 12-4 are controlled on the basis of the light intensity so that strengths of signals outputted from the AMPs 12-1 to 12-4 are made equal to target strength values. In this case, an LUT may be used for controlling the AMPs 12-1 to 12-4. Although <figref idrefs="f0016">Fig. 16</figref> shows the case where the AMP gain control circuit 15 is provided outside of the DSP circuit 14, the AMP gain control circuit 15 per se may be incorporated in the DSP circuit 14 in such a manner that ADCs (analog-to-digital converters) are provided in the DSP circuit 14 and the AMP gain control circuit<!-- EPO <DP n="32"> --> 15 is provided as a stage posterior to the ADCs.</p><p id="p0060" num="0060"><figref idrefs="f0017">Fig. 17</figref> is a diagram showing an example of a circuit for detecting a photocurrent of a Twin-PD.<br/>
An optical signal outputted from the 90° hybrid circuit 10 is converted into an electric signal by a Twin-PD 11 which is composed of PDs 75 and 76. Whether the voltage appearing as an input of a TIA (TransImpedance Amplifier) 72 is plus or minus is decided by which of the PDs 75 and 76 is turned on. This electric signal is amplified by the TIA 72 and supplied to an AMP 12. A photocurrent which flows in the Twin-PD 11 appears as a voltage in a part of a resistor 73. This voltage is amplified by an amplifier 74 and inputted to an AMP gain control circuit 15.</p><p id="p0061" num="0061"><figref idrefs="f0018">Fig. 18</figref> is a diagram for explanation about a modulator-demodulator according to the embodiment.<br/>
In <figref idrefs="f0018">Fig. 18</figref>, a proposal for a modulation-demodulation mode used in a system is made on the basis of a principle of operation of a phase error cancel circuit.</p><p id="p0062" num="0062">In <figref idrefs="f0018">Fig. 18</figref>, a client signal is encoded by a framer/FEC encoder 80 on a transmission side and converted into electric signals coded to DQPSK signals by a DQPSK precoder 81. The electric signals are applied to electrodes of phase modulators<!-- EPO <DP n="33"> --> 84-1 and 84-2. Light emitted from a light source 82 is made to branch into two. One is delayed by a π/2 delay unit 83. The two are modulated by phase modulators 84-1 and 84-2 respectively. A DQPSK signal from the phase modulators 84-1 and 84-2 is modulated to an RZ pulse signal by an RZ-pulsed intensity modulator 85. The RZ pulse signal is transmitted as an RZ-DQPSK signal from the RZ-pulsed intensity modulator 85. The transmitted RZ-DQPSK signal is mixed with local oscillator light 87 in a 90° hybrid circuit 86 so as to be received as coherent light. The coherent-received optical signals are converted into electric signals by Twin-PDs 88. The electric signals are amplified by AMPs 89 and converted into digital signals by ADCs 90. The digital signals are inputted to a DSP 91. In the DSP 91, a phase error cancel circuit 92 performs an arithmetic operation for canceling phase error and a decision circuit 93 outputs a phase difference between a signal after phase discrimination and a signal 1-bit ago. The proposed method which will be described below has a feature in that a phase difference between a signal after phase discrimination and a signal 1-bit ago is computed in the decision circuit 93 provided as a stage posterior to the phase error cancel circuit 92. The discriminated signal is decoded by a framer/FEC decoder 94 and processed as a client signal.</p><p id="p0063" num="0063">A Δω compensating method (feed-forward control) in the<!-- EPO <DP n="34"> --> phase error cancel circuit is based on an arithmetic operation represented by the following expression. <maths id="math0015" num=""><math display="block"><mi>Es</mi><mo>=</mo><mi>exp</mi><mspace width="1em"/><mfenced separators=""><mi mathvariant="normal">j</mi><mo>⁢</mo><mfenced separators=""><mi mathvariant="normal">Δωt</mi><mo>+</mo><mi mathvariant="normal">q</mi><mfenced><mi mathvariant="normal">t</mi></mfenced></mfenced></mfenced></math><img id="ib0015" file="imgb0015.tif" wi="63" he="8" img-content="math" img-format="tif"/></maths> <maths id="math0016" num=""><math display="block"><mtable columnalign="left"><mtr><mtd><mi mathvariant="normal">Δωt</mi></mtd><mtd><mo>=</mo></mtd><mtd><mfenced separators=""><mi>arg</mi><mfenced separators=""><msup><mfenced><mi>Es</mi></mfenced><mo>∧</mo></msup><mo>⁢</mo><mn mathvariant="normal">4</mn></mfenced><mo>-</mo><mi mathvariant="normal">p</mi></mfenced><mo>/</mo><mn mathvariant="normal">4</mn></mtd></mtr><mtr><mtd><msup><mfenced open="{" close="}"><mi>Es</mi></mfenced><mo>∧</mo></msup><mo>⁢</mo><mn mathvariant="normal">4</mn></mtd><mtd><mo>=</mo></mtd><mtd><mi>exp</mi><mfenced separators=""><mi mathvariant="normal">j</mi><mo>⁢</mo><mfenced separators=""><mn mathvariant="normal">4</mn><mo>⁢</mo><mi mathvariant="normal">Δωt</mi><mo>+</mo><mn mathvariant="normal">4</mn><mo>⁢</mo><mi mathvariant="normal">q</mi><mfenced><mi mathvariant="normal">t</mi></mfenced></mfenced></mfenced></mtd></mtr><mtr><mtd><mi mathvariant="normal">q</mi><mfenced><mi mathvariant="normal">t</mi></mfenced></mtd><mtd><mo>=</mo></mtd><mtd><mi mathvariant="normal">π</mi><mo>/</mo><mn mathvariant="normal">4</mn><mo>,</mo><mspace width="1em"/><mn mathvariant="normal">3</mn><mo>⁢</mo><mi mathvariant="normal">π</mi><mo>/</mo><mn mathvariant="normal">4</mn><mo>,</mo><mspace width="1em"/><mn mathvariant="normal">5</mn><mo>⁢</mo><mi mathvariant="normal">π</mi><mo>/</mo><mn mathvariant="normal">4</mn><mo>,</mo><mspace width="1em"/><mn mathvariant="normal">7</mn><mo>⁢</mo><mi mathvariant="normal">π</mi><mo>/</mo><mn mathvariant="normal">4</mn><mo>,</mo><mspace width="1em"/><mn mathvariant="normal">4</mn><mo>⁢</mo><mi mathvariant="normal">g</mi><mfenced><mi mathvariant="normal">t</mi></mfenced><mo>=</mo><mfenced separators=""><mn mathvariant="normal">2</mn><mo>⁢</mo><mi mathvariant="normal">N</mi><mo>-</mo><mn mathvariant="normal">1</mn></mfenced><mo>⁢</mo><mi mathvariant="normal">π</mi></mtd></mtr></mtable></math><img id="ib0016" file="imgb0016.tif" wi="141" he="28" img-content="math" img-format="tif"/></maths><br/>
Δω t is calculated from an average value of several bits. <maths id="math0017" num=""><math display="block"><mi mathvariant="normal">q</mi><mfenced><mi mathvariant="normal">t</mi></mfenced><mo>=</mo><mi>arg</mi><mspace width="1em"/><mfenced><mi>Es</mi></mfenced><mo>-</mo><mi mathvariant="normal">Δωt</mi></math><img id="ib0017" file="imgb0017.tif" wi="57" he="8" img-content="math" img-format="tif"/></maths></p><p id="p0064" num="0064">When Δω t is not smaller than π/4, it is however necessary to exercise ingenuity because there is a possibility that the phase after discrimination may be mistaken for another symbol.<br/>
For example, in the case of a transmission symbol of 45°, <maths id="math0018" num=""><math display="block"><mi mathvariant="normal">Δωt</mi><mo>=</mo><mn mathvariant="normal">42</mn><mo>⁢</mo><mi mathvariant="normal">° q</mi><mfenced><mi mathvariant="normal">t</mi></mfenced><mo>=</mo><mn mathvariant="normal">87</mn><mo>-</mo><mfenced separators=""><mn mathvariant="normal">348</mn><mfenced><mn mathvariant="normal">348</mn></mfenced><mo>-</mo><mn mathvariant="normal">180</mn></mfenced><mo>/</mo><mn mathvariant="normal">4</mn><mo>=</mo><mn mathvariant="normal">45</mn><mo>,</mo><mi mathvariant="normal">Δωt</mi><mo>=</mo><mn mathvariant="normal">42</mn></math><img id="ib0018" file="imgb0018.tif" wi="158" he="17" img-content="math" img-format="tif"/></maths> <maths id="math0019" num=""><math display="block"><mi mathvariant="normal">Δωt</mi><mo>=</mo><mn mathvariant="normal">48</mn><mo>⁢</mo><mi mathvariant="normal">° q</mi><mfenced><mi mathvariant="normal">t</mi></mfenced><mo>=</mo><mn mathvariant="normal">93</mn><mo>-</mo><mfenced separators=""><mn mathvariant="normal">12</mn><mfenced><mn mathvariant="normal">372</mn></mfenced><mo>-</mo><mn mathvariant="normal">180</mn></mfenced><mo>/</mo><mn mathvariant="normal">4</mn><mo>=</mo><mn mathvariant="normal">135</mn><mo>,</mo><mi mathvariant="normal">Δωt</mi><mo>=</mo><mo>-</mo><mn mathvariant="normal">42</mn></math><img id="ib0019" file="imgb0019.tif" wi="157" he="15" img-content="math" img-format="tif"/></maths><br/>
For example, in the case of a transmission symbol of 135°, <maths id="math0020" num=""><math display="block"><mi mathvariant="normal">Δωt</mi><mo>=</mo><mn mathvariant="normal">42</mn><mo>⁢</mo><mi mathvariant="normal">° q</mi><mfenced><mi mathvariant="normal">t</mi></mfenced><mo>=</mo><mn mathvariant="normal">177</mn><mo>-</mo><mfenced separators=""><mn mathvariant="normal">348</mn><mfenced><mn mathvariant="normal">708</mn></mfenced><mo>-</mo><mn mathvariant="normal">180</mn></mfenced><mo>/</mo><mn mathvariant="normal">4</mn><mo>=</mo><mn mathvariant="normal">135</mn><mo>,</mo><mi mathvariant="normal">Δωt</mi><mo>=</mo><mn mathvariant="normal">42</mn></math><img id="ib0020" file="imgb0020.tif" wi="157" he="18" img-content="math" img-format="tif"/></maths> <maths id="math0021" num=""><math display="block"><mi mathvariant="normal">Δωt</mi><mo>=</mo><mn mathvariant="normal">48</mn><mo>⁢</mo><mi mathvariant="normal">° q</mi><mfenced><mi mathvariant="normal">t</mi></mfenced><mo>=</mo><mn mathvariant="normal">183</mn><mo>-</mo><mfenced separators=""><mn mathvariant="normal">12</mn><mfenced><mn mathvariant="normal">732</mn></mfenced><mo>-</mo><mn mathvariant="normal">180</mn></mfenced><mo>/</mo><mn mathvariant="normal">4</mn><mo>=</mo><mn mathvariant="normal">225</mn><mo>,</mo><mi mathvariant="normal">Δωt</mi><mo>=</mo><mo>-</mo><mn mathvariant="normal">42</mn></math><img id="ib0021" file="imgb0021.tif" wi="157" he="17" img-content="math" img-format="tif"/></maths><br/>
The aforementioned symbol shift is insignificant in the<!-- EPO <DP n="35"> --> case of DQPSK demodulation in which a phase difference between a signal after discrimination and a signal 1-bit ago is outputted from the discrimination circuit.<br/>
When, for example, symbols of 45° and 135° are transmitted successively, the phase difference is 90° in both cases of Δωt = 42° and 48°, judging from the aforementioned example.</p><p id="p0065" num="0065">Accordingly, to prevent the phase error cancel circuit from making the aforementioned mistake, configuration may be made so that a signal is transmitted in a DQPSK modulation mode on a transmission side whereas a phase difference between a current symbol and a previous symbol is outputted in processing in the phase error cancel circuit on a reception side. In this case, the following prerequisites are required.
<ol><li>(1) Δω is sufficiently small compared with the bit rate.</li><li>(2) DQPSK precoding is performed on a transmission side.</li></ol></p><p id="p0066" num="0066">When the aforementioned configuration is used, reduction in the circuit scale can be expected because the circuit for compensating the 90° symbol shift is not required, and the advantage of easy upgrading of the DSP circuit can be obtained because the input-output interface for the DQSPK modulation mode of direct detection is compatible. Although an embodiment of the DQSPK modulation mode has been described above, the invention can be applied to other differential coded<!-- EPO <DP n="36"> --> signals such as a DPSK modulation mode and a DMPSK modulation mode. In this case, a precoder corresponding to each modulation mode is required.</p><p id="p0067" num="0067">As described above, in feedback control in the aforementioned embodiment, control accuracy is decided by accuracy in detection of a control signal near a target value because controlling is performed so that a value inputted to the control circuit converges at the target value. On the contrary, in feed-forward control in Patent Document 1, accuracy in detection of a control signal must be high not only when the control signal is near to a target value but also when the control signal is far from the target value because the detected control signal is used directly. In an optical communication system kept in mind in the aforementioned embodiment, there is however a possibility that quantization error in each ADC may become large because a high-speed signal close to a limit of an electric circuit must be handled so that the number of quantization bits in each ADC is limited.</p><p id="p0068" num="0068">Accordingly, the configuration using feedback control proposed in the aforementioned embodiment can expect great improvement of characteristic compared with the configuration using feed-forward control in Patent Document 1.<br/>
The aforementioned graph of <figref idrefs="f0020">Fig. 20</figref> is a graph showing<!-- EPO <DP n="37"> --> control error in the case where feed-forward control is used in consideration of quantization error of each ADC. As is obvious from the graph, it is found that control error becomes large in the case where the phase of the 90° hybrid circuit is shifted largely when the number of quantization bits is limited. In this embodiment, the case where control error becomes large can be eliminated so that the phase error of the 90° hybrid circuit and the gain of each AMP can be controlled with high accuracy at high speed.</p><p id="p0069" num="0069">Incidentally, in the aforementioned embodiment, the three methods of controlling the phase of the 90° hybrid circuit and the two methods of controlling the gain of each AMP can be reciprocally implemented in any combination.</p><p id="p0070" num="0070">According to another embodiment an optical receiver has the following components:
<ol><li>1) An optical receiver comprising an optical mixing part mixing a received optical signal and local oscillator light in at least two kinds of phases and extracting at least two-system optical signals corresponding to each light phase; a photoelectric conversion part converting the at least two-system optical signals obtained in the optical mixing part into electric analog signals; an analog-to-digital conversion part converting the electric analog signals obtained by the photoelectric conversion part into digital signals; and a control part processing the digital signals obtained by the analog-to-digital conversion part thereby detecting a light phase difference between the respective systems in the optical mixing part and supplying a signal for correcting the light phase between the systems to the optical mixing part to control the optical mixing part so that the light phase difference becomes to zero or close to a desired value when the light phase difference has a shift from the desired value.<!-- EPO <DP n="38"> --></li><li>2) An optical receiver according to 1), wherein a coherent reception part extracting real part and imaginary part of each of orthogonal polarized wave components of the optical signal.</li><li>3) An optical receiver according to 2), wherein the control part includes a multiplication part multiplying at least two-system signal components of each of the orthogonal polarized wave components of the optical signal; an addition part adding at least two-system multiplication results of the orthogonal polarized wave components; an averaging part averaging results of the addition; and a control signal generating part generating a signal for controlling at least one phase between the respective systems of the optical mixing part so that a result of the averaging becomes zero or close to zero.</li><li>4) An optical receiver according to 2), wherein the control part is provided individually in accordance with each of signals of the orthogonal polarized wave components.</li><li>5) An optical receiver according to 1), wherein the control part computes a correlation value between at least two-system signals of the optical signals obtained as digital signals and controls the phase between the systems of the optical mixing part so that the correlation value becomes zero or close to zero.</li><li>6) An optical receiver according to 1), further comprising a decision part which discriminates between the digital signals, wherein the control part detects a phase difference between each digital signal before discrimination by the discrimination part and each digital signal after discrimination by the decision part and uses a control signal corresponding to the magnitude of a variation of the phase difference for phase shift control between the respective systems of the coherent reception part.<!-- EPO <DP n="39"> --></li><li>7) An optical receiver according to 6), wherein dithering is applied to the control signal, so that whether the phase shift in the coherent reception part has a plus direction or a minus direction is detected based on a sign of the phase difference.</li><li>8) An optical receiver according to 7), wherein the control part includes: a subtraction part which computes a phase difference between a signal in a stage prior to the decision part and a signal in a stage posterior to the decision part; a square part which squares a result of the subtraction; a dithering elimination part which eliminates signal vibration caused by dithering; a control signal generating part generating a phase shift control signal between the systems of the optical mixing part on the basis of a signal after the dithering elimination; and a dithering part applying dithering to the phase control signal.</li><li>9) An optical receiver according to 1), wherein the control part obtains strength of the optical signal from the digital signals and uses a control signal corresponding to magnitude of a variation of the strength for controlling a phase shift between the respective systems in the optical mixing part.</li><li>10) An optical receiver according to 9), wherein dithering is applied to the control signal, so that whether the phase shift in the optical mixing part has a plus direction or a minus direction is detected based on a sign of the variation of the strength of the optical signal.</li><li>11) An optical receiver according to 10), wherein the control part includes: a square part which computes squares of real part and imaginary part of an optical signal calculated from each of respective-system signals extracted by the optical mixing part; an addition part which adds the square of the real part and the square of the imaginary part;<!-- EPO <DP n="40"> --> a DC component removal part which removes a DC component from a result of the addition; a dithering elimination part which eliminates signal vibration caused by dithering from an output of the DC component removal part; a control signal generating part which generates a phase control signal for controlling a phase shift between respective systems in the optical mixing part from a signal after elimination of dithering; and a dithering part which applies dithering to the phase control signal.</li></ol></p><p id="p0071" num="0071">According to another embodiment an optical receiver has the following components:
<ul><li>12) An optical receiver, comprising: an optical mixing part mixing a received optical signal and local oscillator light in at least two phases and extracting at least two-system optical signals corresponding to each phase; a photoelectric conversion part converting the at least two-system optical signals obtained in the optical mixing part into electric signals; an amplification part amplifying the electric signals obtained by the photoelectric conversion part, with set gains; an analog-to-digital conversion part converting the electric signals obtained by the photoelectric conversion part into digital signals; and a control part detecting strength of the optical signal and optimally controls the gains of the amplification part in accordance with the strength.</li><li>13) An optical receiver according to 12), wherein the control part calculates the strength of the optical signal from the digital signals converted by the analog-to-digital conversion part.</li><li>14) An optical receiver according to 12), wherein a coherent reception part extracts at least two-system signals for each of orthogonal polarized waves of the optical signal.<!-- EPO <DP n="41"> --></li><li>15) An optical receiver according to 14), wherein the control part includes: a square part which squares real part and imaginary part of each of polarized wave components of an optical signal calculated from each of the respective system signals extracted by the optical mixing part; an addition part which adds the square of real part and the square of imaginary part of each polarized wave; and a control signal generating part which generates a gain control signal for controlling each gain of the amplification part, from a result of the addition.</li><li>16) An optical receiver according to 15), wherein the control signal generating part gives a gain control signal to the amplification part so that the result of the addition becomes close to a target value.</li><li>17) An optical receiver according to 15), wherein: the control signal generating part has a table in which each gain of the amplification part is stored in association with magnitude of the gain control signal; and the control signal generating part sets the magnitude of the gain control signal for obtaining a predetermined gain based on the result of the addition by referring to the table.</li><li>18) An optical receiver according to 12), wherein the control part calculates strength of the optical signal from a current value generated in the photoelectric conversion part.</li><li>19) An optical receiver according to 18), wherein: the photoelectric conversion part is a photodiode; and the current value is magnitude of a photocurrent.</li><li>20) An optical receiver according to 12), wherein the amplification part includes a plurality of amplifiers which amplify respective system signals of the optical signal, respectively.</li></ul><!-- EPO <DP n="42"> --></p><p id="p0072" num="0072">According to another embodiment an optical receiver has the following components:
<ul><li>21) An optical receiver for receiving an optical signal coded by a differential coding mode as coherent light and extracting data from the optical signal by digital processing, comprising: an optical mixing part mixing the received optical signal and local oscillator light in at least two phases and extracts at least two-system signals corresponding to each phase; a photoelectric conversion part converting the at least two-system signals obtained in the optical mixing part into electric signals; an amplification part amplifying the electric signals obtained by the photoelectric conversion part, with set gains; an analog-to-digital conversion part converting the electric signals obtained by the photoelectric conversion part into digital signals; a phase error cancel part cancelling phase error of the digital signals; and a discrimination part performing signal discrimination of an output of the phase error cancel part and outputting a difference between a currently discriminated signal and a previous signal discriminated one bit ago as a result of discrimination.</li><li>22) An optical receiver according to 21), wherein the differential coding mode is a DQPSK mode.</li></ul></p><p id="p0073" num="0073">According to another embodiment an optical receiver has the following components:
<ul><li>23) An optical receiver comprising: an optical mixing part mixing a received optical signal and local oscillator light in at least two kinds of phases and extracting at least two-system signals corresponding to each phase; a photoelectric conversion part converting the at least two-system signals obtained in the optical mixing part into electric signals; an amplification part amplifying the electric signals obtained by the photoelectric conversion part with set gains; an<!-- EPO <DP n="43"> --> analog-to-digital conversion part converting the electric signals obtained by the photoelectric conversion part into digital signals; a first control part detecting a phase shift between systems of the received optical signals and the local oscillator light used in the optical mixing part by processing the digital signals obtained by the analog-to-digital conversion part, and supplying at least one inter-system phase shift correction signal to the optical mixing part to control each inter-system phase of the optical mixing part so as to eliminate the inter-system phase shift when there is some inter-system phase shift; and a second control part detection strength of the optical signal and optimally control gains of the amplification part in accordance with the detected strength.</li></ul></p><p id="p0074" num="0074">The many features and advantages of the embodiments are apparent from the detailed specification and, thus, it is intended by the appended claims to cover all such features and advantages of the embodiments that fall within the true scope thereof. Further, since numerous modifications and changes will readily occur to those skilled in the art, it is not desired to limit the inventive embodiments to the exact construction and operation illustrated and described, and accordingly all suitable modifications and equivalents may be resorted to, falling within the scope of the claims.</p></description><claims mxw-id="PCLM56984834" lang="DE" load-source="patent-office"><!-- EPO <DP n="46"> --><claim id="c-de-01-0001" num="0001"><claim-text>Optischer Empfänger, umfassend:
<claim-text>ein optisches Polarisationsvielfalt-Mischteil (10), das vier Ausgangsöffnungen hat und dafür ausgelegt ist, ein empfangenes phasenmoduliertes optisches Signal und lokales Oszillatorlicht in mindestens zwei Phasen zu mischen und mindestens zwei Ausgangssignale zu extrahieren, die jeder Phase entsprechen, zum Demodulieren des phasenmodulierten optischen Signals, wobei jede Phase einer orthogonalen polarisierten Welle des phasenmodulierten optischen Signals entspricht und die mindestens zwei optischen Ausgangssignale Komponenten eines Realteils und eines Imaginärteils haben;</claim-text>
<claim-text>ein fotoelektrisches Konversionsteil (11-1, 11-2, 11-3, 11-4), das zum Konvertieren der mindestens zwei optischen Ausgangssignale, welche im optischen Mischteil erhalten werden, in elektrische Signale ausgelegt ist;</claim-text>
<claim-text><b>gekennzeichnet durch</b></claim-text>
<claim-text>ein Verstärkungsteil (12-1, 12-2, 12-3, 12-4), das zum Verstärken der elektrischen Signale mit eingestellten Gewinnwerten ausgelegt ist, die <b>durch</b> das fotoelektrische Konversionsteil erhalten werden;</claim-text>
<claim-text>ein Analog-Digital-Konversionsteil (13-1, 13-2, 13-3, 13-4), das zum Konvertieren der elektrischen Signale, die <b>durch</b> das Verstärkungsteil erhalten werden, in digitale Signale ausgelegt ist; und<!-- EPO <DP n="47"> --></claim-text>
<claim-text>ein Kontrollteil (14), das zum Feststellen der Stärke des phasenmodulierten optischen Signals und zum optimalen Steuern des Gewinns des Verstärkungsteils entsprechend der Stärke ausgelegt ist, wobei der Gewinn für jedes elektrische Signal derselbe ist.</claim-text></claim-text></claim><claim id="c-de-01-0002" num="0002"><claim-text>Optischer Empfänger nach Anspruch 1, wobei das Kontrollteil Folgendes umfasst:
<claim-text>ein Quadrierteil (40-1, 40-2, 40-3, 40-4), das zum Quadrieren der Realteile und der Imaginärteile ausgelegt ist, die von dem optischen Polarisationsvielfalt-Mischteil extrahiert wurden;</claim-text>
<claim-text>ein Additionsteil (41, 42), das das Quadrat der Realteile und das Quadrat der Imaginärteile addiert; und</claim-text>
<claim-text>ein Kontrollsignal erzeugendes Teil (44), das zum Erzeugen eines Gewinnkontrollsignals zum Steuern jedes Gewinns des Verstärkungsteils aus dem Ergebnis der Addition ausgelegt ist.</claim-text></claim-text></claim><claim id="c-de-01-0003" num="0003"><claim-text>Optischer Empfänger nach Anspruch 2, wobei:
<claim-text>das Kontrollsignal erzeugende Teil (44) eine Tabelle hat, in der jeder Gewinn des Verstärkungsteils (12-1, 12-2, 12-3, 12-4) in Verbindung mit der Größe des Gewinnkontrollsignals gespeichert ist; und</claim-text>
<claim-text>das Kontrollsignal erzeugende Teil (44) zum Einstellen der Größe des Gewinnkontrollsignals ausgelegt ist, um einen vorgegebenen Gewinn auf der Basis der Ergebnisse der Addition durch Rückgriff auf die Tabelle zu erhalten.</claim-text></claim-text></claim><claim id="c-de-01-0004" num="0004"><claim-text>Optischer Empfänger nach Anspruch 1, wobei das<!-- EPO <DP n="48"> --> Kontrollteil (14) zum Berechnen der Stärke des phasenmodulierten optischen Signals aus einem aktuellen Wert ausgelegt ist, der im fotoelektrischen Konversionsteil (11-1, 11-2, 11-3, 11-4) erzeugt wird.</claim-text></claim></claims><claims mxw-id="PCLM56984835" lang="EN" load-source="patent-office"><!-- EPO <DP n="44"> --><claim id="c-en-01-0001" num="0001"><claim-text>An optical receiver, comprising:
<claim-text>a polarization diversity optical mixing part (10) having four output ports and arranged to mix a received phase-modulated optical signal and local oscillator light in at least two phases and to extract at least two output optical signals corresponding to each phase for demodulating the phase-modulated optical signal, wherein each phase corresponds to an orthogonal polarized wave of the phase-modulated optical signal and the at least two output optical signals have components of a real part and an imaginary part;</claim-text>
<claim-text>a photoelectric conversion part (11-1, 11-2, 11-3, 11-4) arranged to convert the at least two output optical signals obtained in the optical mixing part into electric signals;</claim-text>
<claim-text><b>characterized by</b></claim-text>
<claim-text>an amplification part (12-1, 12-2, 12-3, 12-4) arranged to amplify the electric signals obtained by the photoelectric conversion part, with set gains;</claim-text>
<claim-text>an analog-to-digital conversion part (13-1, 13-2, 13-3, 13-4) arranged to convert the electric signals obtained by the amplification part into digital signals; and</claim-text>
<claim-text>a control part (14) arranged to detect strength of the phase-modulated optical signal and to optimally control the gains of the amplification part in accordance with<!-- EPO <DP n="45"> --> the strength, wherein the gains for each electric signal are the same gain.</claim-text></claim-text></claim><claim id="c-en-01-0002" num="0002"><claim-text>An optical receiver according to claim 1, wherein the control part includes:
<claim-text>a square part (40-1, 40-2, 40-3, 40-4) arranged to square the real parts and the imaginary parts extracted by the polarization diversity optical mixing part;</claim-text>
<claim-text>an addition part (41, 42) add the square of the real parts and the square of the imaginary parts; and</claim-text>
<claim-text>a control signal generating part (44) arranged to generate a gain control signal for controlling each gain of the amplification part, from a result of the addition.</claim-text></claim-text></claim><claim id="c-en-01-0003" num="0003"><claim-text>An optical receiver according to claim 2, wherein:
<claim-text>the control signal generating part (44) has a table in which each gain of the amplification part (12-1, 12-2, 12-3, 12-4) is stored in association with magnitude of the gain control signal; and</claim-text>
<claim-text>the control signal generating part (44) is arranged to set the magnitude of the gain control signal for obtaining a predetermined gain based on the results of the addition by referring to the table.</claim-text></claim-text></claim><claim id="c-en-01-0004" num="0004"><claim-text>An optical receiver according to claim 1, wherein the control part (14) is arranged to calculate strength of the phase-modulated optical signal from a current value generated in the photoelectric conversion part (11-1, 11-2, 11-3, 11-4).</claim-text></claim></claims><claims mxw-id="PCLM56984836" lang="FR" load-source="patent-office"><!-- EPO <DP n="49"> --><claim id="c-fr-01-0001" num="0001"><claim-text>Récepteur optique, comprenant :
<claim-text>une partie de mélange optique à diversité de polarisations (10) ayant quatre ports de sortie et conçue pour mélanger un signal optique à phase modulée reçu et une lumière d'oscillateur local dans au moins deux phases et pour extraire au moins deux signaux optiques de sortie correspondant à chaque phase pour démoduler le signal optique à phase modulée, où chaque phase correspond à une onde polarisée orthogonale du signal optique à phase modulée et les au moins deux signaux optiques de sortie ont des composantes d'une partie réelle et d'une partie imaginaire ;</claim-text>
<claim-text>une partie de conversion photoélectrique (11-1, 11-2, 11-3, 11-4) conçue pour convertir les au moins deux signaux optiques de sortie obtenus dans la partie de mélange optique en signaux électriques ;</claim-text>
<claim-text><b>caractérisé par</b></claim-text>
<claim-text>une partie d'amplification (12-1, 12-2, 12-3, 12-4) conçue pour amplifier les signaux électriques obtenus par la partie de conversion photoélectrique, avec des gains définis ;</claim-text>
<claim-text>une partie de conversion analogique-numérique (13-1, 13-2, 13-3, 13-4) conçue pour convertir les signaux électriques obtenus par la partie d'amplification en signaux numériques ; et</claim-text>
<claim-text>une partie de contrôle (14) conçue pour détecter une intensité du signal optique à phase modulée et pour contrôler de manière optimale les gains de la partie d'amplification conformément à l'intensité, où les gains pour chaque signal électrique sont les mêmes.</claim-text></claim-text></claim><claim id="c-fr-01-0002" num="0002"><claim-text>Récepteur optique selon la revendication 1, dans lequel la partie de contrôle comprend :
<claim-text>une partie d'élévation au carré (40-1, 40-2, 40-3, 40-4) conçue pour élever au carré les parties réelles et les parties imaginaires extraites par la partie de mélange optique à diversité de polarisations ;<!-- EPO <DP n="50"> --></claim-text>
<claim-text>une partie d'addition (41, 42) pour additionner le carré des parties réelles et le carré des parties imaginaires ; et</claim-text>
<claim-text>une partie de génération de signal de contrôle (44) conçue pour générer un signal de contrôle de gain pour contrôler chaque gain de la partie d'amplification, à partir d'un résultat de l'addition.</claim-text></claim-text></claim><claim id="c-fr-01-0003" num="0003"><claim-text>Récepteur optique selon la revendication 2, dans lequel :
<claim-text>la partie de génération de signal de contrôle (44) dispose d'une table dans laquelle chaque gain de la partie d'amplification (12-1, 12-2, 12-3, 12-4) est stocké en association avec une importance du signal de contrôle de gain ; et</claim-text>
<claim-text>la partie de génération de signal de contrôle (44) est conçue pour définir l'importance du signal de contrôle de gain pour obtenir un gain prédéterminé sur la base des résultats de l'addition en se référant à la table.</claim-text></claim-text></claim><claim id="c-fr-01-0004" num="0004"><claim-text>Récepteur optique selon la revendication 1, dans lequel la partie de contrôle (14) est conçue pour calculer une intensité du signal optique à phase modulée à partir d'une valeur courante générée dans la partie de conversion photoélectrique (11-1, 11-2, 11-3, 11-4).</claim-text></claim></claims><drawings mxw-id="PDW16671973" load-source="patent-office"><!-- EPO <DP n="51"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="134" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="52"> --><figure id="f0002" num="2"><img id="if0002" file="imgf0002.tif" wi="135" he="157" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="53"> --><figure id="f0003" num="3A,3B"><img id="if0003" file="imgf0003.tif" wi="138" he="204" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="54"> --><figure id="f0004" num="4"><img id="if0004" file="imgf0004.tif" wi="132" he="216" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="55"> --><figure id="f0005" num="5"><img id="if0005" file="imgf0005.tif" wi="89" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="56"> --><figure id="f0006" num="6"><img id="if0006" file="imgf0006.tif" wi="153" he="169" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="57"> --><figure id="f0007" num="7A,7B"><img id="if0007" file="imgf0007.tif" wi="143" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="58"> --><figure id="f0008" num="8"><img id="if0008" file="imgf0008.tif" wi="137" he="153" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="59"> --><figure id="f0009" num="9A,9B"><img id="if0009" file="imgf0009.tif" wi="147" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="60"> --><figure id="f0010" num="10"><img id="if0010" file="imgf0010.tif" wi="77" he="183" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="61"> --><figure id="f0011" num="11"><img id="if0011" file="imgf0011.tif" wi="88" he="188" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="62"> --><figure id="f0012" num="12"><img id="if0012" file="imgf0012.tif" wi="136" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="63"> --><figure id="f0013" num="13"><img id="if0013" file="imgf0013.tif" wi="125" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="64"> --><figure id="f0014" num="14"><img id="if0014" file="imgf0014.tif" wi="116" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="65"> --><figure id="f0015" num="15"><img id="if0015" file="imgf0015.tif" wi="122" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="66"> --><figure id="f0016" num="16"><img id="if0016" file="imgf0016.tif" wi="122" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="67"> --><figure id="f0017" num="17"><img id="if0017" file="imgf0017.tif" wi="129" he="165" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="68"> --><figure id="f0018" num="18"><img id="if0018" file="imgf0018.tif" wi="142" he="228" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="69"> --><figure id="f0019" num="19A,19B"><img id="if0019" file="imgf0019.tif" wi="143" he="209" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="70"> --><figure id="f0020" num="20"><img id="if0020" file="imgf0020.tif" wi="156" he="176" img-content="drawing" img-format="tif"/></figure></drawings><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
