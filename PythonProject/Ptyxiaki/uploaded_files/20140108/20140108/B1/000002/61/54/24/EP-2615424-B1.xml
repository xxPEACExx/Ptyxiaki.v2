<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2615424-B1" country="EP" doc-number="2615424" kind="B1" date="20140108" family-id="45463488" file-reference-id="315081" date-produced="20180825" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146588044" ucid="EP-2615424-B1"><document-id><country>EP</country><doc-number>2615424</doc-number><kind>B1</kind><date>20140108</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-12151124-A" is-representative="YES"><document-id mxw-id="PAPP154850236" load-source="docdb" format="epo"><country>EP</country><doc-number>12151124</doc-number><kind>A</kind><date>20120113</date><lang>EN</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140550716" ucid="EP-12151124-A" load-source="docdb"><document-id format="epo"><country>EP</country><doc-number>12151124</doc-number><kind>A</kind><date>20120113</date></document-id></priority-claim></priority-claims><dates-of-public-availability><intention-to-grant-date><date>20130919</date></intention-to-grant-date></dates-of-public-availability><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1989324592" load-source="ipcr">G01B   7/00        20060101ALI20130806BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1989324593" load-source="ipcr">G01D   5/244       20060101AFI20130806BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1989324594" load-source="ipcr">G06F  17/16        20060101ALI20130806BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL1989621642" load-source="docdb" scheme="CPC">G01D   5/24495     20130101 LI20130720BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989628869" load-source="docdb" scheme="CPC">G01B   7/003       20130101 FI20130711BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989640221" load-source="docdb" scheme="CPC">G06F  17/16        20130101 LI20130711BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132368765" lang="DE" load-source="patent-office">Verfahren zur Überwachung der korrekten Funktion eines periodisch modulierten Sensors zur Steuerung der Position eines rotierenden Systems und Steuerungsvorrichtung zur Durchführung des Verfahrens</invention-title><invention-title mxw-id="PT132368766" lang="EN" load-source="patent-office">Method for supervising the correct function of a periodically modulated sensor controlling the position of a rotating system and controller device for performing this method</invention-title><invention-title mxw-id="PT132368767" lang="FR" load-source="patent-office">Procédé pour la supervision d'une fonction correcte d'un capteur modulé périodique de contrôle de la position d'un système de rotation et dispositif de contrôle pour réaliser ce procédé</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR919538846" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>SICK STEGMANN GMBH</last-name><address><country>DE</country></address></addressbook></applicant><applicant mxw-id="PPAR919544613" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>SICK STEGMANN GMBH</last-name></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR919542556" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>FRANCESCON MASSIMO</last-name><address><country>IT</country></address></addressbook></inventor><inventor mxw-id="PPAR919504808" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>FRANCESCON, MASSIMO</last-name></addressbook></inventor><inventor mxw-id="PPAR919021282" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>FRANCESCON, MASSIMO</last-name><address><street>strada comunale del Cartman, 133</street><city>10132 Torino</city><country>IT</country></address></addressbook></inventor></inventors><assignees><assignee mxw-id="PPAR919021284" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>SICK STEGMANN GmbH</last-name><iid>100220711</iid><address><street>Dürrheimer Strasse 36</street><city>78166 Donaueschingen</city><country>DE</country></address></addressbook></assignee></assignees><agents><agent mxw-id="PPAR919021283" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Patentanwälte Westphal, Mussgnug &amp; Partner</last-name><iid>100060253</iid><address><street>Am Riettor 5</street><city>78048 Villingen-Schwenningen</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><designated-states><ep-contracting-states><country mxw-id="DS549780703" load-source="docdb">AL</country><country mxw-id="DS549868963" load-source="docdb">AT</country><country mxw-id="DS549780704" load-source="docdb">BE</country><country mxw-id="DS549797139" load-source="docdb">BG</country><country mxw-id="DS549888350" load-source="docdb">CH</country><country mxw-id="DS549781735" load-source="docdb">CY</country><country mxw-id="DS549781736" load-source="docdb">CZ</country><country mxw-id="DS549922395" load-source="docdb">DE</country><country mxw-id="DS549780709" load-source="docdb">DK</country><country mxw-id="DS549780710" load-source="docdb">EE</country><country mxw-id="DS549872420" load-source="docdb">ES</country><country mxw-id="DS549797140" load-source="docdb">FI</country><country mxw-id="DS549797149" load-source="docdb">FR</country><country mxw-id="DS549922396" load-source="docdb">GB</country><country mxw-id="DS549780711" load-source="docdb">GR</country><country mxw-id="DS549922397" load-source="docdb">HR</country><country mxw-id="DS549781749" load-source="docdb">HU</country><country mxw-id="DS549888351" load-source="docdb">IE</country><country mxw-id="DS549780712" load-source="docdb">IS</country><country mxw-id="DS549797150" load-source="docdb">IT</country><country mxw-id="DS549780717" load-source="docdb">LI</country><country mxw-id="DS549922398" load-source="docdb">LT</country><country mxw-id="DS549868964" load-source="docdb">LU</country><country mxw-id="DS549797151" load-source="docdb">LV</country><country mxw-id="DS549922399" load-source="docdb">MC</country><country mxw-id="DS549868965" load-source="docdb">MK</country><country mxw-id="DS549868970" load-source="docdb">MT</country><country mxw-id="DS549872421" load-source="docdb">NL</country><country mxw-id="DS549866490" load-source="docdb">NO</country><country mxw-id="DS549872426" load-source="docdb">PL</country><country mxw-id="DS549868971" load-source="docdb">PT</country><country mxw-id="DS549888352" load-source="docdb">RO</country><country mxw-id="DS549868972" load-source="docdb">RS</country><country mxw-id="DS549872427" load-source="docdb">SE</country><country mxw-id="DS549781750" load-source="docdb">SI</country><country mxw-id="DS549866491" load-source="docdb">SK</country><country mxw-id="DS549866492" load-source="docdb">SM</country><country mxw-id="DS549797152" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data></bibliographic-data><description mxw-id="PDES63960472" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><p id="p0001" num="0001">Periodically modulated sensors, especially periodically modulated capacitive sensors, controlling the position of a rotating system are known e.g. from <patcit id="pcit0001" dnum="EP1538422B1"><text>EP 1 538 422 B1</text></patcit>. They are usually based on two differential excitation signals that provide the periodic modulations in quadrature which are combined by the sensor depending on the angle to be measured to a sensor signal. Usually, the signal is amplified and converted into the digital domain, leading to a time discrete signal a<sub>i</sub>. By application of digital algorithms involving bandpass filtering and performing a discrete Fourier transform on a series of thus obtained time discrete signals is converted to a complex number m, whose phase corresponds to the angular position of the rotating system that is the aim of the measurement, whereas the amplitude depends on other physical parameters of the system and is essentially constant unless axial displacement of the sensor rotor occurs. In practice, m is represented by its components along two orthogonal axes that essentially correspond to the cosine and the sine of the angle to be measured in an ideal case.</p><p id="p0002" num="0002">In general, whenever a sensor is used in a safety-related application, it is of crucial importance to supervise the correct function of the sensor. Ideally, it should be possible to check correctness and functionality of the sensor on-line. In the state of the art, this is achieved by adding diagnostic features to a sensor, i.e. means that supervise the functionality of the respective sensor components.<!-- EPO <DP n="2"> --></p><p id="p0003" num="0003">However, the addition of such diagnostic features is expensive and cumbersome. In <patcit id="pcit0002" dnum="GB2330889A"><text>GB 2330889A</text></patcit> a plausibility check is performed by forming an estimated value from other measured values of different parameters and comparing this estimated value with the measured value. In <patcit id="pcit0003" dnum="DE4413098A1"><text>DE4413098 A1</text></patcit> an expected value for a first sensor is based on measurement of an additional sensor. In <patcit id="pcit0004" dnum="US2002183909A"><text>US2002/183909</text></patcit> a plausibility-check is performed based on a control measurement between two measurements. Accordingly, the problem addressed by this invention is providing a method for controlling the correct function of a capacitive sensor supervising the position of a rotating system that does not require additional diagnostic features.</p><p id="p0004" num="0004">This problem is solved by am method with the features of claim 1 and a controller device for performing this method with the features of claim 6. Advantageous embodiments of the method and the device are obtained by the features of the respective dependent claims.</p><p id="p0005" num="0005">The method for supervising the correct function of a periodically modulated sensor controlling the position of a rotating system according to the invention comprises the steps of
<ol><li>a) determining a response <o><i>g<sub>l</sub></i></o> = (<i>g<sub>ci</sub></i>, <i>g<sub>si</sub></i>) of the periodically modulated sensor,</li><li>b) determining the inverse K=W<sup>-1</sup> of a 2x2 matrix W describing gains and rotations induced by a digital signal processing routine applied to the raw sensor data to extract the position data,</li><li>c) determining the complex number m=m<sub>cos</sub>+im<sub>sin</sub> obtained by processing a raw sensor data value a<sub>i</sub> corresponding to a first position of the rotating system with the digital signal processing routine,</li><li>d) calculating an estimate a'<sub>i</sub> for the next raw sensor data value a<sub>i+1</sub> based on the formula <maths id="math0001" num="(1)"><math display="block"><msub><msup><mi>a</mi><mi>ʹ</mi></msup><mi>i</mi></msub><mo>=</mo><msub><mi>g</mi><mi>i</mi></msub><mo>⁢</mo><mi>K</mi><mo>⁢</mo><mover><mi>m</mi><mo>→</mo></mover></math><img id="ib0001" file="imgb0001.tif" wi="35" he="9" img-content="math" img-format="tif"/></maths><br/>
where <maths id="math0002" num=""><math display="inline"><mover><mi>m</mi><mo>→</mo></mover><mo>=</mo><mfenced><mtable><mtr><mtd><msub><mi>m</mi><mi mathvariant="italic">cos</mi></msub></mtd></mtr><mtr><mtd><msub><mi>m</mi><mi mathvariant="italic">sin</mi></msub></mtd></mtr></mtable></mfenced><mo>,</mo></math><img id="ib0002" file="imgb0002.tif" wi="25" he="10" img-content="math" img-format="tif" inline="yes"/></maths> and<!-- EPO <DP n="3"> --></li><li>e) comparing the estimate and the next raw sensor data value and creating an alert if the result of this comparison exceeds a predetermined value.</li></ol></p><p id="p0006" num="0006">A key feature of periodically modulated sensors controlling the position of a rotating system in general and especially of periodically modulated capacitive sensors is that they are typically driven with periodic modulation functions that have a significantly higher frequency than the frequency of the rotating system and with as small a signal lag as possible. As a consequence, the position data (i.e. usually the angular position of or phase information on the rotating system) are updated at points of time, between which the controlled position of the rotating system has changed only by a small amount and, accordingly, the output obtained from the sensor is not expected to be subject to drastic changes, but changing only slowly.</p><p id="p0007" num="0007">The key concept of the invention is based on the insight that as a consequence of this behavior, it should be possible to construct a black box model of the sensor and use data obtained as result of the preceding sensor data and their subsequent processing as input for the black box model so that the model provides an expected result obtained from the next sensor data. If the sensor continues to work as designed, this expected result obtained from the black box model based on the processed result of the last measurement should be a good approximation of the measured result of the next measurement, because of the expected slow change of the output obtained from subsequent measurements. A big deviation between expected result and processed result, which is readily determined by comparing these results, is indicative of a sensor failure and<!-- EPO <DP n="4"> --> can be used to trigger a security alert. The threshold for acceptable deviations is dependent on the properties of the rotating system to be controlled using the sensor and the fre- , quency of the periodic modulation functions driving the sensor that essentially determine the update rate for measured sensor data.</p><p id="p0008" num="0008">The black box model is constructed during steps a) and b) of the method, which usually need to be performed only once unless the rotating system or sensor operating conditions (e.g. the periodic modulation functions used) are changed. The construction of the black box model is discussed in more detail below. Once the black box model has been constructed and a first measured sensor data value is available, steps c), d) and e) may be repeated for each further measured sensor data value.</p><p id="p0009" num="0009">In a preferred embodiment of the invention, the 2x2 matrix K is determined by determination of a set of numbers k<sub>11</sub>, k<sub>12</sub>, k<sub>21</sub>, k<sub>22</sub> so that the combination of k<sub>11</sub>g<sub>ci</sub> and k<sub>21</sub>g<sub>si</sub> called h<sub>ci</sub> leads to <maths id="math0003" num=""><math display="inline"><mover><mi>m</mi><mo>→</mo></mover><mo>=</mo><mfenced><mtable><mtr><mtd><mn>1</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd></mtr></mtable></mfenced></math><img id="ib0003" file="imgb0003.tif" wi="17" he="10" img-content="math" img-format="tif" inline="yes"/></maths> and that the combination of k<sub>21</sub>g<sub>ci</sub> and k<sub>22</sub>g<sub>si</sub> called h<sub>si</sub> leads to <maths id="math0004" num=""><math display="inline"><mover><mi>m</mi><mo>→</mo></mover><mo>=</mo><mfenced><mtable><mtr><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>1</mn></mtd></mtr></mtable></mfenced></math><img id="ib0004" file="imgb0004.tif" wi="16" he="9" img-content="math" img-format="tif" inline="yes"/></maths> and setting <maths id="math0005" num=""><math display="inline"><mi mathvariant="normal">K</mi><mo>=</mo><mfenced><mtable><mtr><mtd><msub><mi>k</mi><mn>11</mn></msub></mtd><mtd><msub><mi>k</mi><mn>12</mn></msub></mtd></mtr><mtr><mtd><msub><mi>k</mi><mn>21</mn></msub></mtd><mtd><msub><mi>k</mi><mn>22</mn></msub></mtd></mtr></mtable></mfenced><mo>,</mo></math><img id="ib0005" file="imgb0005.tif" wi="28" he="12" img-content="math" img-format="tif" inline="yes"/></maths> so that <maths id="math0006" num="(2)."><math display="block"><mover><msub><mi>h</mi><mi>ι</mi></msub><mo>→</mo></mover><mo>=</mo><mfenced separators=""><msub><mi mathvariant="italic">h</mi><mi mathvariant="italic">ci</mi></msub><mo>⁢</mo><msub><mi mathvariant="italic">h</mi><mi mathvariant="italic">si</mi></msub></mfenced><mo>=</mo><mover><msub><mi>g</mi><mi>ι</mi></msub><mo>→</mo></mover><mo>⁢</mo><mi>K</mi><mo>=</mo><mover><msub><mi>g</mi><mi>ι</mi></msub><mo>→</mo></mover><mfenced><mtable><mtr><mtd><msub><mi>k</mi><mn>11</mn></msub></mtd><mtd><msub><mi>k</mi><mn>12</mn></msub></mtd></mtr><mtr><mtd><msub><mi>k</mi><mn>21</mn></msub></mtd><mtd><msub><mi>k</mi><mn>22</mn></msub></mtd></mtr></mtable></mfenced><mo>=</mo><mfenced separators=""><msub><mi>g</mi><mi mathvariant="italic">ci</mi></msub><mo>⁢</mo><msub><mi>k</mi><mn>11</mn></msub><mo>+</mo><msub><mi>g</mi><mi mathvariant="italic">si</mi></msub><mo>⁢</mo><msub><mi>k</mi><mn>21</mn></msub><mo>,</mo><msub><mi>g</mi><mi mathvariant="italic">ci</mi></msub><mo>⁢</mo><msub><mi>k</mi><mn>12</mn></msub><mo>+</mo><msub><mi>g</mi><mi mathvariant="italic">si</mi></msub><mo>⁢</mo><msub><mi>k</mi><mn>22</mn></msub></mfenced></math><img id="ib0006" file="imgb0006.tif" wi="139" he="14" img-content="math" img-format="tif"/></maths></p><p id="p0010" num="0010">In other words, after the determination of the response <o><i>g<sub>l</sub></i></o> = (<i>g<sub>ci</sub></i>, <i>g<sub>si</sub></i>) of the sensor, which may e.g. be done by measurement when just one excitation signal is driven, the coordinate system in which the estimate <i>a'<sub>i</sub></i> is calculated is changed in such a way that the calculation of the estimate requires a smaller number of operations at runtime, as <i>a'<sub>i</sub></i> = <i><o>g</o><sub>l</sub>K<o>m</o></i> = <o><i>h<sub>l</sub>m</i></o>. This is important,<!-- EPO <DP n="5"> --> because the high rate of measurements to be processed requires that the estimate is known as quickly as possible.</p><p id="p0011" num="0011">In another preferred embodiment of the method that also contributes to the possibility to provide the estimate as quickly as possible, raw output of the discrete Fourier transform is used as input data for step d). However, it turns out that this can cause a small systematic error proportional to the rotation speed for the calculated estimate, because the thus obtained sine and cosine signals contain demodulation terms with double frequency of the frequency of the periodic modulation function used for excitation of the sensor. The estimator essentially performs a further modulation operation, which reflects these terms back into the base band. Therefore, it is advantageous to filter either the input data for the estimator or the output data of the estimator.</p><p id="p0012" num="0012">The ideal way to filter is a notch filter that is applied to both the sine and the cosine input data. A much cheaper possibility that leads to good results is using a high pass filter on the output. The threshold frequency for the high pass filter should be chosen to be lower than the frequency of the periodic modulation function.</p><p id="p0013" num="0013">The controller device according to the invention comprises a periodically modulated sensor, a signal generator for providing periodic excitation functions for the periodically modulated sensor and a data processing device for performing a discrete Fourier transform on data provided by the sensor and for filtering of data provided by the sensor.</p><p id="p0014" num="0014">Furthermore, according to the invention the controller device further also comprises an estimator device for calculating an<!-- EPO <DP n="6"> --> estimate <i>a'<sub>i</sub></i> for the next raw sensor data value a<sub>i+i</sub> based on the formula <i>a'<sub>i</sub></i> = <i>g<sub>i</sub>K<o>m</o></i>, where <maths id="math0007" num=""><math display="inline"><mover><mi>m</mi><mo>→</mo></mover><mo>=</mo><mfenced><mtable><mtr><mtd><msub><mi>m</mi><mi mathvariant="italic">cos</mi></msub></mtd></mtr><mtr><mtd><msub><mi>m</mi><mi mathvariant="italic">sin</mi></msub></mtd></mtr></mtable></mfenced></math><img id="ib0007" file="imgb0007.tif" wi="23" he="9" img-content="math" img-format="tif" inline="yes"/></maths> is the vector representation of complex number m=m<sub>cos</sub>+im<sub>sin</sub> obtained by processing a raw sensor data value a<sub>i</sub> corresponding to a first position of the rotating system with the digital signal processing routine, <o><i>g<sub>l</sub></i></o> = (<i>g<sub>ci</sub></i>, <i>g<sub>si</sub></i>) represents a response of the sensor and K=W<sup>-1</sup> is the inverse of a 2x2 matrix W describing gains and rotations induced by a digital signal processing routine applied to the raw sensor data to extract the position data.</p><p id="p0015" num="0015">In a preferred embodiment of the controller device that leads to more reliable data, the controller device comprises amplification means for amplifying the raw output data of the sensor output.</p><p id="p0016" num="0016">In another preferred embodiment, the controller device comprises A/D conversion means for providing digitalized input data to the data processing device.</p><p id="p0017" num="0017">In general, the data processing device and/or the estimator device may be realized by hardware-based circuitry or, alternatively, be realized by software executed by a CPU. A software-based realization both the data processing device and the estimator device is attractive because it allows for the cheap addition of the estimator relying essentially on hardware that is already present.</p><p id="p0018" num="0018">The reliability of the estimate used by the controller device to supervise the proper function of the sensor can be increased if the controller device comprises filtering means for filtering the input data provided to the estimator device and/or for filtering the output data of the estimator.<!-- EPO <DP n="7"> --></p><p id="p0019" num="0019">Next, the invention is explained in more detail using a figure showing a block diagram of a periodically modulated sensor system according to an embodiment of the invention. The figure shows
<dl id="dl0001" compact="compact"><dt>Fig. 1:</dt><dd>a controller device for supervising the correct function of a periodically modulated capacitive sensor controlling the position of a rotating system by the method according to the invention.</dd></dl></p><p id="p0020" num="0020">The controller device 100 shown in <figref idrefs="f0001">Figure 1</figref> comprises a periodically modulated sensor 110 realized as a periodically modulated capacitive sensor, a signal generator 120 for providing periodic excitation functions for the periodically modulated sensor 110, a data processing device 130 for performing a discrete Fourier transform on data provided by the sensor and for filtering of data provided by the sensor and an estimator device 140 for calculating an estimate a'<sub>i</sub> for the next raw sensor data value a<sub>i+1</sub>. Furthermore, the controller device 100 comprises amplification means 111 for amplifying the raw output data of the sensor that can be realized e.g. as amplifier and A/D conversion means 112 that may be realized as A/D converter providing digitalized input data to the data processing device 130.</p><p id="p0021" num="0021"><figref idrefs="f0001">Figure 1</figref> can also be used to explain the black box model that is created according to the invention in more detail. As indicated in <figref idrefs="f0001">Figure 1</figref>, three variables are relevant for the value that is measured by the periodically modulated sensor 110, especially if the periodically modulated sensor 110 is a capacitive rotation sensor: the current position α (specifically angle or phase)of the rotating system, the axial displacement z<!-- EPO <DP n="8"> --> of the rotor of the periodically modulated sensor 110, and the periodic modulation function that is used as excitation <i><o>e</o></i>. As the modulation function is periodic and time discrete - preferably created by combination of four time discrete periodic signals with period P that are shifted relative to each other by P/4-, it may be described in terms of a complexvalued function <maths id="math0008" num=""><math display="inline"><mover><mi>e</mi><mo>→</mo></mover><mo>=</mo><mfenced><mtable><mtr><mtd><msub><mi>e</mi><mi mathvariant="italic">ci</mi></msub></mtd></mtr><mtr><mtd><msub><mi>e</mi><mi mathvariant="italic">si</mi></msub></mtd></mtr></mtable></mfenced><mn>.</mn></math><img id="ib0008" file="imgb0008.tif" wi="20" he="11" img-content="math" img-format="tif" inline="yes"/></maths></p><p id="p0022" num="0022">Accordingly, the complex output value a<sub>i</sub> of the periodically modulated sensor 110 for a given data sampling i can be written as <i>a<sub>i</sub></i> = <i>S(α,z,<o>e</o></i>), where S is the sensor function describing the dependence of the output of the periodically modulated sensor 110 on the three variables mentioned above.</p><p id="p0023" num="0023">In order to arrive at the result <maths id="math0009" num=""><math display="inline"><mover><mi>m</mi><mo>→</mo></mover><mo>=</mo><mfenced><mtable><mtr><mtd><msub><mi>m</mi><mi mathvariant="italic">cos</mi></msub></mtd></mtr><mtr><mtd><msub><mi>m</mi><mi mathvariant="italic">sin</mi></msub></mtd></mtr></mtable></mfenced></math><img id="ib0009" file="imgb0009.tif" wi="23" he="11" img-content="math" img-format="tif" inline="yes"/></maths> that is used for the extraction of the desired position data, specifically angle or phase, from the raw sensor data represented by a<sub>i</sub>, filtering and an operation of discrete Fourier transform type, whose roots are advantageously also provided by the signal generator 120, are performed. These actions may be summarized in terms of a digital algorithm function D acting on a<sub>i</sub>. Accordingly, <maths id="math0010" num="(3)"><math display="block"><mover><mi>m</mi><mo>→</mo></mover><mo>=</mo><mfenced><mtable><mtr><mtd><msub><mi mathvariant="italic">m</mi><mi mathvariant="italic">cos</mi></msub></mtd></mtr><mtr><mtd><msub><mi mathvariant="italic">m</mi><mi mathvariant="italic">sin</mi></msub></mtd></mtr></mtable></mfenced><mo>=</mo><mi>D</mi><mfenced><msub><mi>a</mi><mi>i</mi></msub></mfenced><mo>=</mo><mi>D</mi><mfenced separators=""><mi>S</mi><mfenced separators=""><mi>α</mi><mo>⁢</mo><mi>z</mi><mo>⁢</mo><mover><mi>e</mi><mo>→</mo></mover></mfenced></mfenced></math><img id="ib0010" file="imgb0010.tif" wi="76" he="13" img-content="math" img-format="tif"/></maths></p><p id="p0024" num="0024">A periodically modulated sensor 110, specifically if it is a capacitive rotation sensor, acts mainly as a modulator. This means that the sensor function <i>S</i>(α,<i>z</i>,<o><i>e</i></o>) can be defined more precisely, leading to the relation <maths id="math0011" num="(4),"><math display="block"><msub><mi>a</mi><mi>i</mi></msub><mo>=</mo><mi>S</mi><mfenced separators=""><mi>α</mi><mo>⁢</mo><mi>z</mi><mo>⁢</mo><mover><mi>e</mi><mo>→</mo></mover></mfenced><mrow><mo>)</mo></mrow><mo>=</mo><mi>F</mi><mfenced><mi>z</mi></mfenced><mo>⁢</mo><mfenced separators=""><msub><mi mathvariant="italic">g</mi><mi mathvariant="italic">ci</mi></msub><mspace width="1em"/><mi>cos</mi><mspace width="1em"/><mi>α</mi><mo>+</mo><msub><mi mathvariant="italic">g</mi><mi mathvariant="italic">si</mi></msub><mspace width="1em"/><mi mathvariant="italic">sin</mi><mspace width="1em"/><mi>α</mi></mfenced><mo>=</mo><mfenced separators=""><msub><mi>g</mi><mi mathvariant="italic">ci</mi></msub><mo>⁢</mo><msub><mi>A</mi><mi>c</mi></msub><mo>+</mo><msub><mi>g</mi><mi mathvariant="italic">si</mi></msub><mo>⁢</mo><msub><mi>A</mi><mi>s</mi></msub></mfenced><mo>=</mo><mover><msub><mi>g</mi><mi>ι</mi></msub><mo>→</mo></mover><mo>⁢</mo><mover><mi>A</mi><mo>→</mo></mover></math><img id="ib0011" file="imgb0011.tif" wi="132" he="11" img-content="math" img-format="tif"/></maths><br/>
<!-- EPO <DP n="9"> -->where <o><i>g<sub>l</sub></i></o> = (<i>g<sub>ci</sub></i>, <i>g<sub>si</sub></i>) represents the response of the physical system to the excitation, which can be measured when just one excitation signal is driven. Because linearity and time invariance are given, these functions are also periodical and shifted by one quarter of a period.</p><p id="p0025" num="0025">Next, the effects of the digital algorithm function are analyzed. The discrete Fourier transform is a linear and time-invariant operation that leads to a demodulation of the signal it is applied to in two orthogonal components. Analog and digital filtering may lead to gains and phase rotations. The generical form to describe these operations is a matrix W, which yields: <maths id="math0012" num="(5)."><math display="block"><mover><mi>m</mi><mo>→</mo></mover><mo>=</mo><mfenced><mtable><mtr><mtd><msub><mi mathvariant="italic">m</mi><mi mathvariant="italic">cos</mi></msub></mtd></mtr><mtr><mtd><msub><mi mathvariant="italic">m</mi><mi mathvariant="italic">sin</mi></msub></mtd></mtr></mtable></mfenced><mo>=</mo><mi>W</mi><mfenced><mtable><mtr><mtd><msub><mi>A</mi><mi>c</mi></msub></mtd></mtr><mtr><mtd><msub><mi>A</mi><mi>s</mi></msub></mtd></mtr></mtable></mfenced><mo>=</mo><mi>W</mi><mo>⁢</mo><mover><mi>A</mi><mo>→</mo></mover></math><img id="ib0012" file="imgb0012.tif" wi="66" he="13" img-content="math" img-format="tif"/></maths></p><p id="p0026" num="0026">Once the matrix W is determined, its inverse K=W<sup>-1</sup> can be determined and applied to equation 5 from the left hand side, leading to <maths id="math0013" num=""><math display="inline"><mi>K</mi><mo>⁢</mo><mover><mi>m</mi><mo>→</mo></mover><mo>=</mo><msup><mi>W</mi><mrow><mo>-</mo><mn>1</mn></mrow></msup><mo>⁢</mo><mi>W</mi><mfenced><mtable><mtr><mtd><msub><mi>A</mi><mi>c</mi></msub></mtd></mtr><mtr><mtd><msub><mi>A</mi><mi>s</mi></msub></mtd></mtr></mtable></mfenced><mo>=</mo><mover><mi>A</mi><mo>→</mo></mover><mn>.</mn></math><img id="ib0013" file="imgb0013.tif" wi="43" he="11" img-content="math" img-format="tif" inline="yes"/></maths> As mentioned above, <o><i>g<sub>l</sub></i></o> = (<i>g<sub>ci</sub></i>, <i>g<sub>si</sub></i>) can be measured when just one excitation signal is driven and thus a<sub>i+1</sub> can be calculated using formula (4) if the periodically modulated sensor 110 is read at a sufficiently high frequency to justify the assumption that <o><i>m</i></o> does change significantly between two readings of the sensor output value.<!-- EPO <DP n="10"> --></p><heading id="h0001">Reference numerals</heading><p id="p0027" num="0027"><dl id="dl0002"><dt>100</dt><dd>controller device</dd><dt>110</dt><dd>periodically modulated sensor</dd><dt>111</dt><dd>amplification means</dd><dt>112</dt><dd>A/D conversion means</dd><dt>120</dt><dd>internal signal generator</dd><dt>130</dt><dd>data processing circuit</dd><dt>140</dt><dd>estimator device</dd></dl></p></description><claims mxw-id="PCLM56984153" lang="DE" load-source="patent-office"><!-- EPO <DP n="14"> --><claim id="c-de-01-0001" num="0001"><claim-text>Verfahren zur Überwachung der korrekten Funktion eines periodisch modulierten Sensors (110), der die Position eines rotierenden Systems steuert, wobei das Verfahren die Schritte umfasst
<claim-text>a) Bestimmen einer Reaktion <o><i>g<sub>l</sub></i></o> = (<i>g<sub>ci</sub>, g<sub>si</sub></i>) des periodisch modulierten Sensors (110),</claim-text>
<claim-text>b) Bestimmen des Kehrwertes K=W<sup>-1</sup> einer 2 x 2-Matrix W, die Verstärkungen und Rotationen beschreibt, die von einer digitalen Signalverarbeitungsroutine induziert werden, die auf die Rohsensordaten angewandt wird, um die Positionsdaten zu extrahieren,</claim-text>
<claim-text>c) Bestimmen der komplexen Zahl m=m<sub>cos</sub>+im<sub>sin</sub>, die durch Verarbeiten eines Rohsensordatenwertes a<sub>i</sub> erhalten wird, der einer ersten Position des rotierenden Systems entspricht, mit der digitalen Signalverarbeitungsroutine,</claim-text>
<claim-text>d) Berechnen eines Schätzwertes a'<sub>i</sub> für den nächsten Rohsensordatenwert a<sub>i+1</sub>, basierend auf der Formel <i>a'<sub>i</sub></i> = <i>g<sub>i</sub>K<o>m</o></i>, wo<br/>
<maths id="math0021" num=""><math display="inline"><mover><mi>m</mi><mo>→</mo></mover><mo>=</mo><mfenced><mtable><mtr><mtd><msub><mi>m</mi><mi mathvariant="italic">cos</mi></msub></mtd></mtr><mtr><mtd><msub><mi>m</mi><mi mathvariant="italic">sin</mi></msub></mtd></mtr></mtable></mfenced><mo>,</mo></math><img id="ib0021" file="imgb0021.tif" wi="29" he="19" img-content="math" img-format="tif" inline="yes"/></maths> und</claim-text>
<claim-text>e) Vergleichen des Schätzwertes und der nächsten Rohsensordaten und Erzeugen eines Alarms, wenn das Ergebnis dieses Vergleichs einen vorbestimmten Wert übersteigt.</claim-text></claim-text></claim><claim id="c-de-01-0002" num="0002"><claim-text>Verfahren nach Anspruch 1,<br/>
<b>dadurch gekennzeichnet, dass</b> die 2 x 2-Matrix K durch Bestimmen einer Reihe von Zahlen k<sub>11</sub>, k<sub>12</sub>, k<sub>21</sub>, k<sub>22</sub>, so dass die Kombination von k<sub>11</sub>g<sub>ci</sub> und k<sub>21</sub>g<sub>si</sub>, genannt h<sub>ci</sub>, zu <maths id="math0022" num=""><math display="inline"><mover><mi>m</mi><mo>→</mo></mover><mo>=</mo><mfenced><mtable><mtr><mtd><mn>1</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd></mtr></mtable></mfenced></math><img id="ib0022" file="imgb0022.tif" wi="20" he="15" img-content="math" img-format="tif" inline="yes"/></maths> führt, und dass die Kombination von k<sub>21</sub>g<sub>ci</sub> und k<sub>22</sub>g<sub>si</sub>, genannt h<sub>si</sub>, zu <maths id="math0023" num=""><math display="inline"><mover><mi>m</mi><mo>→</mo></mover><mo>=</mo><mfenced><mtable><mtr><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>1</mn></mtd></mtr></mtable></mfenced></math><img id="ib0023" file="imgb0023.tif" wi="21" he="14" img-content="math" img-format="tif" inline="yes"/></maths> führt, und Einstellen von <maths id="math0024" num=""><math display="inline"><mi>K</mi><mo>=</mo><mfenced><mtable><mtr><mtd><msub><mi mathvariant="italic">k</mi><mn mathvariant="italic">11</mn></msub></mtd><mtd><msub><mi mathvariant="italic">k</mi><mn mathvariant="italic">12</mn></msub></mtd></mtr><mtr><mtd><msub><mi mathvariant="italic">k</mi><mn mathvariant="italic">21</mn></msub></mtd><mtd><msub><mi mathvariant="italic">k</mi><mn mathvariant="italic">22</mn></msub></mtd></mtr></mtable></mfenced><mo>,</mo></math><img id="ib0024" file="imgb0024.tif" wi="34" he="17" img-content="math" img-format="tif" inline="yes"/></maths> so dass <maths id="math0025" num=""><math display="inline"><mover><msub><mi>h</mi><mi>l</mi></msub><mo>→</mo></mover><mo>=</mo><mfenced separators=""><msub><mi mathvariant="italic">h</mi><mi mathvariant="italic">ci</mi></msub><mo>⁢</mo><msub><mi mathvariant="italic">h</mi><mi mathvariant="italic">si</mi></msub></mfenced><mo>=</mo><mover><msub><mi>g</mi><mi>l</mi></msub><mo>→</mo></mover><mo>⁢</mo><mi>K</mi><mo>=</mo><mover><msub><mi>g</mi><mi>l</mi></msub><mo>→</mo></mover><mfenced><mtable><mtr><mtd><msub><mi mathvariant="italic">k</mi><mn mathvariant="italic">11</mn></msub></mtd><mtd><msub><mi mathvariant="italic">k</mi><mn mathvariant="italic">12</mn></msub></mtd></mtr><mtr><mtd><msub><mi mathvariant="italic">k</mi><mn mathvariant="italic">21</mn></msub></mtd><mtd><msub><mi mathvariant="italic">k</mi><mn mathvariant="italic">22</mn></msub></mtd></mtr></mtable></mfenced><mo>=</mo><mfenced separators=""><msub><mi>g</mi><mi mathvariant="italic">ci</mi></msub><mo>⁢</mo><msub><mi>k</mi><mn mathvariant="italic">11</mn></msub><mo>+</mo><msub><mi>g</mi><mi mathvariant="italic">si</mi></msub><mo>⁢</mo><msub><mi>k</mi><mn mathvariant="italic">21</mn></msub><mo>,</mo><msub><mi>g</mi><mi mathvariant="italic">ci</mi></msub><mo>⁢</mo><msub><mi>k</mi><mn mathvariant="italic">12</mn></msub><mo>+</mo><msub><mi>g</mi><mi mathvariant="italic">si</mi></msub><mo>⁢</mo><msub><mi>k</mi><mn mathvariant="italic">22</mn></msub></mfenced><mo>,</mo></math><img id="ib0025" file="imgb0025.tif" wi="115" he="17" img-content="math" img-format="tif" inline="yes"/></maths> bestimmt wird.</claim-text></claim><claim id="c-de-01-0003" num="0003"><claim-text>Verfahren nach Anspruch 1 oder 2,<br/>
<b>dadurch gekennzeichnet, dass</b> die Rohausgabe der diskreten Fourier-Transformation als Eingabedaten für Schritt d) verwendet wird.<!-- EPO <DP n="15"> --></claim-text></claim><claim id="c-de-01-0004" num="0004"><claim-text>Verfahren nach Anspruch 3,<br/>
<b>dadurch gekennzeichnet, dass</b> die Eingabedaten für Schritt d) unter Verwendung eines Sperrfilters gefiltert werden.</claim-text></claim><claim id="c-de-01-0005" num="0005"><claim-text>Verfahren nach Anspruch 3,<br/>
<b>dadurch gekennzeichnet, dass</b> der berechnete Schätzwert unter Verwendung eines Hochpassfilters gefiltert wird.</claim-text></claim><claim id="c-de-01-0006" num="0006"><claim-text>Steuervorrichtung (100) zum Durchführen des Verfahrens nach einem der Ansprüche 1 bis 5, wobei die Steuervorrichtung (100) einen periodisch modulierten Sensor (110), einen Signalgenerator (120) zum Bereitstellen periodischer Anregungsfunktionen für den periodisch modulierten Sensor (110) und eine Datenverarbeitungsvorrichtung (130) zum Durchführen einer diskreten Fourier-Transformation an Daten, die von dem Sensor bereitgestellt werden, und zum Filtern von Daten, die von dem periodisch modulierten Sensor (110) bereitgestellt werden, umfasst,<br/>
<b>dadurch gekennzeichnet, dass</b> die Steuervorrichtung (100) ferner eine Kalkulatorvorrichtung (140) zum Berechnen eines Schätzwertes a'<sub>i</sub> für den nächsten Rohsensordatenwert a<sub>i+1</sub>, basierend auf der Formel <i>a'<sub>i</sub></i> = <i>g<sub>i</sub>K<o>m</o></i> umfasst, wobei <maths id="math0026" num=""><math display="inline"><mover><mi>m</mi><mo>→</mo></mover><mo>=</mo><mfenced><mtable><mtr><mtd><msub><mi>m</mi><mi mathvariant="italic">cos</mi></msub></mtd></mtr><mtr><mtd><msub><mi>m</mi><mi mathvariant="italic">sin</mi></msub></mtd></mtr></mtable></mfenced></math><img id="ib0026" file="imgb0026.tif" wi="27" he="19" img-content="math" img-format="tif" inline="yes"/></maths> die Vektordarstellung der komplexen Zahl m=m<sub>cos</sub>+im<sub>sin</sub> ist, die durch Verarbeiten eines Rohsensordatenwertes a<sub>i</sub> erhalten wird, der einer ersten Position des rotierenden Systems entspricht, mit der digitalen Signalverarbeitungsroutine, <o><i>g<sub>l</sub></i></o> = (<i>g<sub>ci</sub>, g<sub>si</sub></i>) eine Reaktion des Sensors darstellt und K=W<sup>-1</sup> der Kehrwert einer 2 x 2-Matrix W ist, die Verstärkungen und Rotationen beschreibt, die von einer digitalen Signalverarbeitungsroutine induziert werden, die auf die Rohsensordaten angewandt wird, um die Positionsdaten zu extrahieren.</claim-text></claim><claim id="c-de-01-0007" num="0007"><claim-text>Steuervorrichtung (100) nach Anspruch 6,<br/>
<b>dadurch gekennzeichnet, dass</b> die Steuervorrichtung (100) Verstärkungsmittel (111) zum Verstärken der Rohausgabedaten, die von dem periodisch modulierten Sensor (110) erhältlich sind, umfasst.</claim-text></claim><claim id="c-de-01-0008" num="0008"><claim-text>Steuervorrichtung (100) nach Anspruch 6 oder 7,<br/>
<b>dadurch gekennzeichnet, dass</b> die Steuervorrichtung (100) A/D-Wandlungsmittel (112) zum Bereitstellen digitalisierter Eingabedaten für die Datenverarbeitungsvorrichtung umfasst.<!-- EPO <DP n="16"> --></claim-text></claim><claim id="c-de-01-0009" num="0009"><claim-text>Steuervorrichtung (100) nach einem der Ansprüche 6 bis 8,<br/>
<b>dadurch gekennzeichnet, dass</b> die Steuervorrichtung (100) Filtermittel zum Filtern der Eingabedaten, die der Kalkulatorvorrichtung (140) bereitgestellt werden, und/oder zum Filtern der Ausgabedaten der Kalkulatorvorrichtung (140) umfasst.</claim-text></claim></claims><claims mxw-id="PCLM56984154" lang="EN" load-source="patent-office"><!-- EPO <DP n="11"> --><claim id="c-en-01-0001" num="0001"><claim-text>Method for supervising the correct function of a periodically modulated sensor (110) controlling the position of a rotating system, said method comprising the steps of
<claim-text>a) determining a response <o><i>g<sub>l</sub></i></o> = (<i>g<sub>ci</sub></i>, <i>g<sub>si</sub></i>) of the periodically modulated sensor (110),</claim-text>
<claim-text>b) determining the inverse K=W<sup>-1</sup> of a 2x2 matrix W describing gains and rotations induced by a digital signal processing routine applied to the raw sensor data to extract the position data,</claim-text>
<claim-text>c) determining the complex number m=m<sub>cos</sub>+im<sub>sin</sub> obtained by processing a raw sensor data value a<sub>i</sub> corresponding to a first position of the rotating system with the digital signal processing routine,</claim-text>
<claim-text>d) calculating an estimate a'<sub>i</sub> for the next raw sensor data value ai+i based on the formula <i>a'<sub>i</sub></i> = <i>g<sub>i</sub>K<o>m</o></i>, where<br/>
<maths id="math0014" num=""><math display="inline"><mover><mi>m</mi><mo>→</mo></mover><mo>=</mo><mfenced><mtable><mtr><mtd><msub><mi>m</mi><mi mathvariant="italic">cos</mi></msub></mtd></mtr><mtr><mtd><msub><mi>m</mi><mi mathvariant="italic">sin</mi></msub></mtd></mtr></mtable></mfenced><mo>,</mo></math><img id="ib0014" file="imgb0014.tif" wi="24" he="10" img-content="math" img-format="tif" inline="yes"/></maths><br/>
and</claim-text>
<claim-text>e) comparing the estimate and the next raw sensor data and creating an alert if the result of this comparison exceeds a predetermined value.</claim-text></claim-text></claim><claim id="c-en-01-0002" num="0002"><claim-text>Method according to claim 1,<br/>
<b>characterized in that</b> the 2x2 matrix K is determined by determination of a set of numbers k<sub>11</sub>, k<sub>12</sub>, k<sub>21</sub>, K<sub>22</sub> so that the combination of k<sub>11</sub>g<sub>ci</sub> and k<sub>21</sub>g<sub>si</sub> called h<sub>ci</sub> leads to <maths id="math0015" num=""><math display="inline"><mover><mi>m</mi><mo>→</mo></mover><mo>=</mo><mfenced><mtable><mtr><mtd><mn>1</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd></mtr></mtable></mfenced></math><img id="ib0015" file="imgb0015.tif" wi="17" he="10" img-content="math" img-format="tif" inline="yes"/></maths> and that the combination of k<sub>21</sub>g<sub>ci</sub> and k<sub>22</sub>g<sub>si</sub> called h<sub>si</sub> leads to <maths id="math0016" num=""><math display="inline"><mover><mi>m</mi><mo>→</mo></mover><mo>=</mo><mfenced><mtable><mtr><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>1</mn></mtd></mtr></mtable></mfenced></math><img id="ib0016" file="imgb0016.tif" wi="17" he="10" img-content="math" img-format="tif" inline="yes"/></maths> and setting <maths id="math0017" num=""><math display="inline"><mi mathvariant="normal">K</mi><mo>=</mo><mfenced><mtable><mtr><mtd><msub><mi>k</mi><mn>11</mn></msub></mtd><mtd><msub><mi>k</mi><mn>12</mn></msub></mtd></mtr><mtr><mtd><msub><mi>k</mi><mn>21</mn></msub></mtd><mtd><msub><mi>k</mi><mn>22</mn></msub></mtd></mtr></mtable></mfenced><mo>,</mo></math><img id="ib0017" file="imgb0017.tif" wi="27" he="13" img-content="math" img-format="tif" inline="yes"/></maths> so that <maths id="math0018" num=""><math display="inline"><mover><msub><mi>h</mi><mi>ι</mi></msub><mo>→</mo></mover><mo>=</mo><mfenced separators=""><msub><mi mathvariant="italic">h</mi><mi mathvariant="italic">ci</mi></msub><mo>⁢</mo><msub><mi mathvariant="italic">h</mi><mi mathvariant="italic">si</mi></msub></mfenced><mo>=</mo><mover><msub><mi>g</mi><mi>ι</mi></msub><mo>→</mo></mover><mo>⁢</mo><mi>K</mi><mo>=</mo><mover><msub><mi>g</mi><mi>ι</mi></msub><mo>→</mo></mover><mfenced><mtable><mtr><mtd><msub><mi>k</mi><mn>11</mn></msub></mtd><mtd><msub><mi>k</mi><mn>12</mn></msub></mtd></mtr><mtr><mtd><msub><mi>k</mi><mn>21</mn></msub></mtd><mtd><msub><mi>k</mi><mn>22</mn></msub></mtd></mtr></mtable></mfenced><mo>=</mo><mrow><mo>(</mo><msub><mi>g</mi><mi mathvariant="italic">ci</mi></msub><mo>⁢</mo><msub><mi>k</mi><mn>11</mn></msub></mrow></math><img id="ib0018" file="imgb0018.tif" wi="87" he="11" img-content="math" img-format="tif" inline="yes"/></maths> <maths id="math0019" num=""><math display="inline"><mrow><mo>+</mo><msub><mi>g</mi><mi mathvariant="italic">si</mi></msub><mo>⁢</mo><msub><mi>k</mi><mn>21</mn></msub><mo>,</mo><msub><mi>g</mi><mi mathvariant="italic">ci</mi></msub><mo>⁢</mo><msub><mi>k</mi><mn>12</mn></msub><mo>+</mo><msub><mi>g</mi><mi mathvariant="italic">si</mi></msub><mo>⁢</mo><msub><mi>k</mi><mn>22</mn></msub><mo>)</mo></mrow></math><img id="ib0019" file="imgb0019.tif" wi="42" he="7" img-content="math" img-format="tif" inline="yes"/></maths><!-- EPO <DP n="12"> --></claim-text></claim><claim id="c-en-01-0003" num="0003"><claim-text>Method according to claim 1 or 2,<br/>
<b>characterized in that</b> the raw output of the discrete Fourier transform is used as input data for step d).</claim-text></claim><claim id="c-en-01-0004" num="0004"><claim-text>Method according to claim 3,<br/>
<b>characterized in that</b> the input data for step d) are filtered using a notch filter.</claim-text></claim><claim id="c-en-01-0005" num="0005"><claim-text>Method according to claim 3,<br/>
<b>characterized in that</b> the calculated estimate is filtered using a high pass filter.</claim-text></claim><claim id="c-en-01-0006" num="0006"><claim-text>Controller device (100) for performing the method according to one of claims 1 to 5, said controller device (100) comprising a periodically modulated sensor (110), a signal generator (120),for providing periodic excitation functions for the periodically modulated sensor (110) and a data processing device (130) for performing a discrete Fourier transform on data provided by the sensor and for filtering of data provided by the periodically modulated sensor (110),<br/>
<b>characterized in that</b> the controller device (100) further comprises an estimator device (140) for calculating an estimate a'<sub>i</sub> for the next raw sensor data value a<sub>i+i</sub> based on the formula <i>a'<sub>i</sub></i> = <i>g<sub>i</sub>K<o>m</o></i>, wherein <maths id="math0020" num=""><math display="inline"><mover><mi>m</mi><mo>→</mo></mover><mo>=</mo><mfenced><mtable><mtr><mtd><msub><mi>m</mi><mi mathvariant="italic">cos</mi></msub></mtd></mtr><mtr><mtd><msub><mi>m</mi><mi mathvariant="italic">sin</mi></msub></mtd></mtr></mtable></mfenced></math><img id="ib0020" file="imgb0020.tif" wi="23" he="10" img-content="math" img-format="tif" inline="yes"/></maths> is the vector representation of complex number m=m<sub>cos</sub>+im<sub>sin</sub> obtained by processing a raw sensor data value a<sub>i</sub> corresponding to a first position of the rotating system with the digital signal processing routine, <o><i>g<sub>l</sub></i></o> = (<i>g<sub>ci</sub></i>, <i>g<sub>si</sub></i>) represents a response of the sensor and K=W<sup>-1</sup> is the inverse of a 2x2 matrix W describing gains and rotations<!-- EPO <DP n="13"> --> induced by a digital signal processing routine applied to the raw sensor data to extract the position data.</claim-text></claim><claim id="c-en-01-0007" num="0007"><claim-text>Controller device (100) according to claim 6,<br/>
<b>characterized in that</b> the controller device (100) comprises amplification means (111) for amplifying the raw output data obtainable from the periodically modulated sensor (110).</claim-text></claim><claim id="c-en-01-0008" num="0008"><claim-text>Controller (100) device according to claim 6 or 7,<br/>
<b>characterized in that</b> the controller device (100) comprises A/D conversion means (112) for providing digitalized input data to the data processing device.</claim-text></claim><claim id="c-en-01-0009" num="0009"><claim-text>Controller device(100) according to one of claims 6 to 8,<br/>
<b>characterized in that</b> the controller device (100) comprises filtering means for filtering the input data provided to the estimator device (140) and/or for filtering the output data of the estimator device (140) .</claim-text></claim></claims><claims mxw-id="PCLM56984155" lang="FR" load-source="patent-office"><!-- EPO <DP n="17"> --><claim id="c-fr-01-0001" num="0001"><claim-text>Procédé permettant de superviser le fonctionnement correct d'un capteur (110) à modulation périodique commandant la position d'un système rotatif, ce procédé comprenant les étapes consistant à :
<claim-text>a) déterminer la réponse <o>g<sub>t</sub></o> =(g<sub>ci</sub>, g<sub>si</sub>) du capteur (110) à modulation périodique,</claim-text>
<claim-text>b) déterminer l'inverse K = W<sup>-1</sup> d'une matrice 2 x 2 W décrivant les gains et les rotations induites par une routine de traitement d'un signal numérique appliquée aux données du capteur brutes pour extraire des données de position,</claim-text>
<claim-text>c) déterminer le nombre complexe m = m<sub>cos</sub> + im<sub>sin</sub> obtenu en traitant une valeur des données du capteur brutes a<sub>i</sub> correspondant à une première position du système rotatif avec la routine de traitement d'un signal numérique,</claim-text>
<claim-text>d) calculer une estimation a'<sub>i</sub> de la valeur des données de capteur brutes a<sub>i+1</sub> suivante à partir de la formule a'<sub>i</sub> = g<sub>i</sub>K<o>m</o>, dans laquelle<br/>
<maths id="math0027" num=""><math display="inline"><mover><mi mathvariant="normal">m</mi><mo>→</mo></mover><mo>=</mo><mfenced><mtable><mtr><mtd><msub><mi mathvariant="normal">m</mi><mi>cos</mi></msub></mtd></mtr><mtr><mtd><msub><mi mathvariant="normal">m</mi><mi>sin</mi></msub></mtd></mtr></mtable></mfenced><mo>,</mo></math><img id="ib0027" file="imgb0027.tif" wi="23" he="16" img-content="math" img-format="tif" inline="yes"/></maths><br/>
et</claim-text>
<claim-text>e) comparer la donnée estimée et la donnée du capteur brute suivante et créer une alerte si le résultat de cette comparaison excède une valeur prédéfinie.</claim-text></claim-text></claim><claim id="c-fr-01-0002" num="0002"><claim-text>Procédé conforme à la revendication 1,<br/>
<b>caractérisé en ce que</b><br/>
la matrice 2 x 2 K est déterminée en déterminant un jeu de nombres k<sub>11</sub>, k<sub>12</sub>, k<sub>21</sub>, k<sub>22</sub> de sorte que la combinaison de k<sub>11</sub>g<sub>ci</sub> et k<sub>21</sub>g<sub>si</sub> nommée h<sub>ci</sub> conduise à <maths id="math0028" num=""><math display="inline"><mover><mi mathvariant="normal">m</mi><mo>→</mo></mover><mo>=</mo><mfenced><mtable><mtr><mtd><mn mathvariant="normal">1</mn></mtd></mtr><mtr><mtd><mn mathvariant="normal">0</mn></mtd></mtr></mtable></mfenced></math><img id="ib0028" file="imgb0028.tif" wi="16" he="13" img-content="math" img-format="tif" inline="yes"/></maths> et que la combinaison de k<sub>21</sub>g<sub>ci</sub> et k<sub>22</sub>g<sub>si</sub> nommée k<sub>si</sub> conduise à <maths id="math0029" num=""><math display="inline"><mover><mi mathvariant="normal">m</mi><mo>→</mo></mover><mo>=</mo><mfenced><mtable><mtr><mtd><mn mathvariant="normal">0</mn></mtd></mtr><mtr><mtd><mn mathvariant="normal">1</mn></mtd></mtr></mtable></mfenced></math><img id="ib0029" file="imgb0029.tif" wi="17" he="15" img-content="math" img-format="tif" inline="yes"/></maths> et régler <maths id="math0030" num=""><math display="inline"><mi mathvariant="normal">K</mi><mo>=</mo><mfenced><mtable><mtr><mtd><msub><mi mathvariant="normal">k</mi><mn mathvariant="normal">11</mn></msub></mtd><mtd><msub><mi mathvariant="normal">k</mi><mn mathvariant="normal">12</mn></msub></mtd></mtr><mtr><mtd><msub><mi mathvariant="normal">k</mi><mn mathvariant="normal">21</mn></msub></mtd><mtd><msub><mi mathvariant="normal">k</mi><mn mathvariant="normal">22</mn></msub></mtd></mtr></mtable></mfenced><mo>,</mo></math><img id="ib0030" file="imgb0030.tif" wi="28" he="15" img-content="math" img-format="tif" inline="yes"/></maths> de sorte que <maths id="math0031" num=""><math display="inline"><msub><mi mathvariant="normal">h</mi><mi mathvariant="normal">i</mi></msub><mo>=</mo><mfenced separators=""><msub><mi mathvariant="normal">h</mi><mi>ci</mi></msub><mo>⁢</mo><msub><mi mathvariant="normal">h</mi><mi>si</mi></msub></mfenced><mo>=</mo><msub><mi mathvariant="normal">g</mi><mi mathvariant="normal">i</mi></msub><mo>⁢</mo><mi mathvariant="normal">K</mi><mo>=</mo><msub><mi mathvariant="normal">g</mi><mi mathvariant="normal">i</mi></msub><mfenced><mtable><mtr><mtd><msub><mi mathvariant="normal">k</mi><mn mathvariant="normal">11</mn></msub></mtd><mtd><msub><mi mathvariant="normal">k</mi><mn mathvariant="normal">12</mn></msub></mtd></mtr><mtr><mtd><msub><mi mathvariant="normal">k</mi><mn mathvariant="normal">21</mn></msub></mtd><mtd><msub><mi mathvariant="normal">k</mi><mn mathvariant="normal">22</mn></msub></mtd></mtr></mtable></mfenced><mo>=</mo><mfenced separators=""><msub><mi mathvariant="normal">g</mi><mi>ci</mi></msub><mo>⁢</mo><msub><mi mathvariant="normal">k</mi><mn mathvariant="normal">11</mn></msub><mo>+</mo><msub><mi mathvariant="normal">g</mi><mi mathvariant="normal">s</mi></msub><mo>⁢</mo><msub><mi>ik</mi><mn mathvariant="normal">21</mn></msub><mo>,</mo><msub><mi mathvariant="normal">g</mi><mi>ci</mi></msub><mo>⁢</mo><msub><mi mathvariant="normal">k</mi><mn mathvariant="normal">12</mn></msub><mo>+</mo><msub><mi mathvariant="normal">g</mi><mi>si</mi></msub><mo>⁢</mo><msub><mi mathvariant="normal">k</mi><mn mathvariant="normal">22</mn></msub></mfenced></math><img id="ib0031" file="imgb0031.tif" wi="110" he="14" img-content="math" img-format="tif" inline="yes"/></maths></claim-text></claim><claim id="c-fr-01-0003" num="0003"><claim-text>Procédé conforme à la revendication 1 ou 2,<br/>
<!-- EPO <DP n="18"> --><b>caractérisé en ce que</b><br/>
la sortie brute de la transformation de Fourier discrète est utilisée entant que donnée d'entrée pour l'étape d).</claim-text></claim><claim id="c-fr-01-0004" num="0004"><claim-text>Procédé conforme à la revendication 3,<br/>
<b>caractérisé en ce que</b><br/>
les données d'entrée pour l'étape d) sont filtrées en utilisant un filtre coupe bande.</claim-text></claim><claim id="c-fr-01-0005" num="0005"><claim-text>Procédé conforme à la revendication 3,<br/>
<b>caractérisé en ce que</b><br/>
l'estimation calculée est filtrée en utilisant un filtre passe haut.</claim-text></claim><claim id="c-fr-01-0006" num="0006"><claim-text>Dispositif de contrôle (100) permettant la mise en oeuvre du procédé conforme à l'une des revendications 1 à 5, comprenant un capteur (110) à modulation périodique, un générateur de signal (120) permettant de fournir des fonctions d'excitation périodique au capteur (110) à modulation périodique et un système de traitement de données (130) permettant d'effectuer une transformation de Fourier discrète de données fournies par le capteur et de filtrer les données fournies par le capteur (110) à modulation périodique,<br/>
<b>caractérisé en ce que</b><br/>
le dispositif de contrôle (100) comporte en outre un dispositif d'estimation (140) permettant de calculer une estimation a'<sub>i</sub> de la valeur des données de capteur brutes suivante a<sub>i+i</sub> à partir de la formule a'<sub>i</sub> = g<sub>i</sub>K<o>m</o>,<br/>
dans laquelle <maths id="math0032" num=""><math display="inline"><mover><mi mathvariant="normal">m</mi><mo>→</mo></mover><mo>=</mo><mfenced><mtable><mtr><mtd><msub><mi mathvariant="normal">m</mi><mi>cos</mi></msub></mtd></mtr><mtr><mtd><msub><mi mathvariant="normal">m</mi><mi>sin</mi></msub></mtd></mtr></mtable></mfenced></math><img id="ib0032" file="imgb0032.tif" wi="21" he="16" img-content="math" img-format="tif" inline="yes"/></maths> est la représentation vectorielle du nombre complexe m = m<sub>cos</sub> + im<sub>sin</sub> obtenu par le traitement d'une valeur des données du capteur brutes a<sub>i</sub> correspondant à une première position du système rotatif avec la routine de traitement de signal numérique, <o>g<sub>t</sub></o> = (g<sub>ci</sub>, g<sub>si</sub>) représente la réponse du capteur et K = W<sup>-1</sup> est l'inverse d'une matrice 2 x 2 W décrivant les gains et les rotations induites par une routine de traitement de signal numérique appliquée aux données du capteur brutes pour extraire des données de position.<!-- EPO <DP n="19"> --></claim-text></claim><claim id="c-fr-01-0007" num="0007"><claim-text>Dispositif de contrôle (100) conforme à la revendication 6,<br/>
<b>caractérisé en ce que</b><br/>
le dispositif de contrôle (100) comporte des moyens d'amplification (111) permettant d'amplifier les données de sortie brutes pouvant être obtenues à partir du capteur à modulation périodique (110).</claim-text></claim><claim id="c-fr-01-0008" num="0008"><claim-text>Dispositif de contrôle (100) conforme à la revendication 6 ou 7,<br/>
<b>caractérisé en ce que</b><br/>
le dispositif de contrôle (100) comporte des moyens de conversion A/D (112) permettant de fournir des données d'entrée numérisées au dispositif de traitement de données.</claim-text></claim><claim id="c-fr-01-0009" num="0009"><claim-text>Dispositif de contrôle (100) conforme à l'une des revendications 6 à 8,<br/>
<b>caractérisé en ce que</b><br/>
le dispositif de contrôle (100) comporte des moyens de filtration permettant de filtrer les données d'entrée fournies au dispositif d'estimation (140) et/ou de filtrer les données de sortie du dispositif d'estimation (140).</claim-text></claim></claims><drawings mxw-id="PDW16671766" load-source="patent-office"><!-- EPO <DP n="20"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="127" he="163" img-content="drawing" img-format="tif"/></figure></drawings><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
