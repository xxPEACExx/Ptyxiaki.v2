<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2556633-B1" country="EP" doc-number="2556633" kind="B1" date="20140108" family-id="44461871" file-reference-id="318290" date-produced="20180825" status="corrected" lang="DE"><bibliographic-data><publication-reference fvid="146588102" ucid="EP-2556633-B1"><document-id><country>EP</country><doc-number>2556633</doc-number><kind>B1</kind><date>20140108</date><lang>DE</lang></document-id></publication-reference><application-reference ucid="EP-11719144-A" is-representative="NO"><document-id mxw-id="PAPP154850294" load-source="docdb" format="epo"><country>EP</country><doc-number>11719144</doc-number><kind>A</kind><date>20110407</date><lang>DE</lang></document-id><document-id mxw-id="PAPP176648350" load-source="docdb" format="original"><country>EP</country><doc-number>11719144.5</doc-number><date>20110407</date></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140557353" ucid="AT-2011000167-W" load-source="docdb"><document-id format="epo"><country>AT</country><doc-number>2011000167</doc-number><kind>W</kind><date>20110407</date></document-id></priority-claim><priority-claim mxw-id="PPC140549390" ucid="AT-5572010-A" load-source="docdb"><document-id format="epo"><country>AT</country><doc-number>5572010</doc-number><kind>A</kind><date>20100407</date></document-id></priority-claim></priority-claims><dates-of-public-availability><intention-to-grant-date><date>20130729</date></intention-to-grant-date></dates-of-public-availability><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1989324721" load-source="docdb">H04J   3/06        20060101ALI20130715BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1989324722" load-source="docdb">H04L  12/70        20130101AFI20130715BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-2044368635" load-source="docdb" scheme="CPC">H04L  49/206       20130101 LI20150625BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2044372010" load-source="docdb" scheme="CPC">H04L  49/552       20130101 LI20150625BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2044372090" load-source="docdb" scheme="CPC">H04L  49/1523      20130101 LI20150625BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2044373759" load-source="docdb" scheme="CPC">G06F   1/14        20130101 LI20150625BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2044374926" load-source="docdb" scheme="CPC">H04J   3/0688      20130101 LI20150625BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989621853" load-source="docdb" scheme="CPC">G06F  11/004       20130101 FI20130425BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132368939" lang="DE" load-source="patent-office">VERFAHREN UND APPARAT ZUR FEHLERTOLERANTEN ZEITGESTEUERTEN ECHTZEITKOMMUNIKATION</invention-title><invention-title mxw-id="PT132368940" lang="EN" load-source="patent-office">METHOD AND DEVICE FOR FAULT-TOLERANT, TIME-CONTROLLED REAL-TIME COMMUNICATION</invention-title><invention-title mxw-id="PT132368941" lang="FR" load-source="patent-office">PROCÉDÉ ET APPAREIL POUR LA COMMUNICATION EN TEMPS RÉEL TOLÉRANTE AUX ERREURS ET RÉGULÉE DANS LE TEMPS</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR919543891" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>FTS COMPUTERTECHNIK GMBH</last-name><address><country>AT</country></address></addressbook></applicant><applicant mxw-id="PPAR919542622" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>FTS COMPUTERTECHNIK GMBH</last-name></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR919522416" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>BAUER GUENTHER</last-name><address><country>AT</country></address></addressbook></inventor><inventor mxw-id="PPAR919520929" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>BAUER, GUENTHER</last-name></addressbook></inventor><inventor mxw-id="PPAR919021528" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>BAUER, GUENTHER</last-name><address><street>Ennsgasse 18/DG3</street><city>A-1020 Wien</city><country>AT</country></address></addressbook></inventor><inventor mxw-id="PPAR919523383" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>POLEDNA STEFAN</last-name><address><country>AT</country></address></addressbook></inventor><inventor mxw-id="PPAR919529022" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>POLEDNA, STEFAN</last-name></addressbook></inventor><inventor mxw-id="PPAR919021529" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>POLEDNA, STEFAN</last-name><address><street>Dr.-Teichmann-Gasse 29</street><city>A-3400 Klosterneuburg</city><country>AT</country></address></addressbook></inventor><inventor mxw-id="PPAR919508793" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>STEINER WILFRIED</last-name><address><country>AT</country></address></addressbook></inventor><inventor mxw-id="PPAR919521459" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>STEINER, WILFRIED</last-name></addressbook></inventor><inventor mxw-id="PPAR919021530" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>STEINER, WILFRIED</last-name><address><street>Schalthausgasse 27</street><city>A-2225 Zistersdorf</city><country>AT</country></address></addressbook></inventor></inventors><assignees><assignee mxw-id="PPAR919021532" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>FTS Computertechnik GmbH</last-name><iid>101224490</iid><address><street>Schonbrunner Strasse 7</street><city>1040 Wien</city><country>AT</country></address></addressbook></assignee></assignees><agents><agent mxw-id="PPAR919021531" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Patentanwaltskanzlei Matschnig &amp; Forsthuber OG</last-name><iid>100061333</iid><address><street>Siebensterngasse 54</street><city>1071 Wien</city><country>AT</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="AT-2011000167-W"><document-id><country>AT</country><doc-number>2011000167</doc-number><kind>W</kind><date>20110407</date><lang>DE</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2011123877-A1"><document-id><country>WO</country><doc-number>2011123877</doc-number><kind>A1</kind><date>20111013</date><lang>DE</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS549798201" load-source="docdb">AL</country><country mxw-id="DS549873766" load-source="docdb">AT</country><country mxw-id="DS549798202" load-source="docdb">BE</country><country mxw-id="DS549781391" load-source="docdb">BG</country><country mxw-id="DS549867128" load-source="docdb">CH</country><country mxw-id="DS549922668" load-source="docdb">CY</country><country mxw-id="DS549873767" load-source="docdb">CZ</country><country mxw-id="DS549782528" load-source="docdb">DE</country><country mxw-id="DS549798203" load-source="docdb">DK</country><country mxw-id="DS549922669" load-source="docdb">EE</country><country mxw-id="DS549869557" load-source="docdb">ES</country><country mxw-id="DS549781392" load-source="docdb">FI</country><country mxw-id="DS549781401" load-source="docdb">FR</country><country mxw-id="DS549782533" load-source="docdb">GB</country><country mxw-id="DS549798204" load-source="docdb">GR</country><country mxw-id="DS549798217" load-source="docdb">HR</country><country mxw-id="DS549922670" load-source="docdb">HU</country><country mxw-id="DS549867129" load-source="docdb">IE</country><country mxw-id="DS549798218" load-source="docdb">IS</country><country mxw-id="DS549781402" load-source="docdb">IT</country><country mxw-id="DS549922671" load-source="docdb">LI</country><country mxw-id="DS549782534" load-source="docdb">LT</country><country mxw-id="DS549873768" load-source="docdb">LU</country><country mxw-id="DS549782535" load-source="docdb">LV</country><country mxw-id="DS549782536" load-source="docdb">MC</country><country mxw-id="DS549889106" load-source="docdb">MK</country><country mxw-id="DS549889107" load-source="docdb">MT</country><country mxw-id="DS549798219" load-source="docdb">NL</country><country mxw-id="DS549781403" load-source="docdb">NO</country><country mxw-id="DS549798220" load-source="docdb">PL</country><country mxw-id="DS549781404" load-source="docdb">PT</country><country mxw-id="DS549798233" load-source="docdb">RO</country><country mxw-id="DS549781413" load-source="docdb">RS</country><country mxw-id="DS549798234" load-source="docdb">SE</country><country mxw-id="DS549867134" load-source="docdb">SI</country><country mxw-id="DS549782541" load-source="docdb">SK</country><country mxw-id="DS549782542" load-source="docdb">SM</country><country mxw-id="DS549922672" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data><office-specific-data><eptags><ep-no-a-document-published>*</ep-no-a-document-published></eptags></office-specific-data></bibliographic-data><description mxw-id="PDES63960530" lang="DE" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001"><b>Zitierte Patente</b></heading><p id="p0001" num="0001"><ol><li>[1] <patcit id="pcit0001" dnum="EP1512254A"><text>EP 1 512 254</text></patcit> vom 10.5.2005: Zeitgesteuertes (Time-Triggered (TT)) Ethernet.</li><li>[2] <patcit id="pcit0002" dnum="EP2145431A"><text>EP 2 145 431</text></patcit> vom 07.04.2008: Kommunikationsverfahren und Apparat zur effizienten und sicheren Übertragung von TT-Ethernet Nachrichten.</li><li>[3] <patcit id="pcit0003" dnum="US7334014B"><text>US 7,334,014</text></patcit> vom 19.02.2008: Consistent time service for fault-tolerant distributed systems.</li><li>[4] <patcit id="pcit0004" dnum="US7649912B"><text>US 7,649,912</text></patcit> vom 19.01.2010: Time synchronization, deterministic data delivery and redundancy for cascaded nodes on full duplex Ethernet networks</li></ol></p><heading id="h0002"><b>Sonstige Literatur:</b></heading><p id="p0002" num="0002"><ul><li>[5] Kopetz, H. (1997). <i>Real-Time Systems, Design Principles for Distributed Embedded Applications; ISBN: 0-7923-9894-7.</i> Boston. Kluwer Academic Publishers.</li></ul></p><heading id="h0003"><b>TECHNISCHES UMFELD</b></heading><p id="p0003" num="0003">Diese Erfindung betrifft ein Verfahren und einen Apparat zur fehlertoleranten zeitgesteuerten Kommunikation und zum Aufbau einer fehlertoleranten globalen Zeit von bekannter Präzision im Kommunikationssystem eines verteilten Echtzeitcomputersystems.</p><heading id="h0004"><b>HINTERGRUND DIESER ERFINDUNG</b></heading><p id="p0004" num="0004">Ein verteiltes Echtzeitsystem besteht aus einer Anzahl von Rechnerknoten, den <i>Endsystemen,</i> in denen die Applikationssoftware abläuft und einem generischen Kommunikationssystem, über das die Nachrichten der Endsysteme untereinander ausgetauscht werden. In verteilten Echtzeitsystemen muss eine globale fehlertolerante Zeitbasis von guter Präzision aufgebaut werden, damit die Endsysteme die zeitliche Gültigkeit der Echtzeitinformation überprüfen können und synchronisierte verteilte Aktionen ausführen können. Der Aufbau einer fehlertoleranten globalen Zeitbasis erfordert die Ausführung aufwendiger Synchronisationsalgorithmen. Um die Endsysteme von diesen Synchronisationsaufgaben zu entlasten, wird erfindungsgemäß die-verteilte fehlertolerante Uhrensynchronisation im generischen Kommunikationssystem vorgenommen, so dass die Endsysteme über eine einfache fehlertolerante <i>Master-Slave Synchronisation</i> (siehe Lehrbuch [5], Kapitel 3) mit der globalen Zeit versorgt werden können.<!-- EPO <DP n="2"> --></p><p id="p0005" num="0005">Viele der bekannten Verfahren der Uhrensynchronisation, wie z.B. die in den zitierten Patenten [1]-[4] veröffentlichen Verfahren, verwenden die Uhren der Endsysteme, um eine globale Zeit aufzubauen. Um dies zu erreichen, müssen in den Endsystemen aufwendige Synchronisationsalgorithmen ausgeführt werden. Entsprechend der vorliegenden Erfindung wird eine fehlertolerante Zeit nicht in den Endsystemen, sondern innerhalb des Kommunikationssystems aufgebaut. Zu diesem Zweck wird eine fehlertoleranter Vermittlungseinheit <i>(fehlertoleranter Switch)</i> vorgestellt, die vier unabhängige Vermittlungseinheiten enthält, wobei jede Vermittlungseinheit eine autonome Fehlereindämmungseinheit (<i>Fault-Containment Unit-FCU</i>) bildet. Diese vier Vermittlungseinheiten bauen gemeinsam durch den Austausch von Nachrichten eine fehlertolerante Zeitbasis auf. Jeweils zwei der vier Vermittlungseinheiten bilden ein <i>Switchpaar,</i> so dass in der fehlertoleranten Vermittlungseinheit zwei Switchpaare enthalten sind. Jede der beiden Vermittlungseinheiten eines Switchpaares sendet periodisch je eine Synchronisationsnachricht an einen Vergleicher, der eine Synchronisationsnachricht nur dann an ein Endsystem weiterleitet, wenn beide empfangene Synchronisationsnachrichten nahezu gleichzeitig eintreffen und inhaltlich identisch sind. Da sich in der fehlertoleranten Vermittlungseinheit zwei Switchpaare befinden, wird durch dieses Verfahren ein beliebiger Fehler in einem Switchpaar toleriert.</p><p id="p0006" num="0006">Weitere relevante Veröffentlichungen sind <patcit id="pcit0005" dnum="US2008122503A1"><text>US2008/122503 A1</text></patcit> vom 29.05.2008 und <patcit id="pcit0006" dnum="US6195758B1"><text>US 6,195,758 B1</text></patcit> vom 27.02.2001.</p><p id="p0007" num="0007">Der genaue Ablauf des neuen Verfahrens zur fehlertoleranten Kommunikation und fehlertoleranten Uhrensynchronisation wird im folgenden Abschnitt anhand der Abbildungen genau beschrieben.</p><p id="p0008" num="0008">Die Aufgabe der Erfindung wird gelöst durch ein Verfahren zur fehlertoleranten Uhrensynchronisation und zur fehlertoleranten zeitgesteuerten Echtzeitkommunikation unter Verwendung einer Anzahl von Endsystemen und einem oder mehreren fehlertoleranten Switches, die je über mindesten zwei Kommunikationskanäle verbunden sind, wobei jeder fehlertolerante Switch ein erstes und ein zweites Switchpaar enthält und wo das erste Switchpaar einen ersten und einen zweiten Switch enthält und wo das zweite Switchpaar einen dritten und einen vierten Switch enthält, und wo jeder der vier Switches über Kommunikationskanäle mit den anderen drei Switches verbunden ist, und wo die vier Switches über einen bekannten nachrichtenbasierten internen fehlertoleranten Synchronisationsalgorithmus über die Kommunikationskanäle eine interne globale fehlertolerante Zeitbasis mit bekannter Präzision aufbauen, und wo eine Vielzahl von Endsystemen jeweils über einen einem Endsystem zugeordneten Vergleicher an die beiden Switchpaare angeschlossen werden kann, und wo ein erstes Endsystem jeweils eine Kopie einer an ein Endsystem zu sendenden Nachricht über den ersten Kommunikationskanal an das erste Switchpaar und über den zweiten Kommunikationskanal an das zweite Switchpaar sendet und wo der erste Vergleicher die eintreffende Nachricht über einen Kommunikationskanal an den ersten Switch und über einen Kommunikationskanal an den zweiten Switch sendet und wo der dritte Vergleicher die eintreffende Nachricht über einen Kommunikationskanal an den dritten Switch und über einen Kommunikationskanal an den vierten Switch sendet und wo die vier Switches die eintreffenden Nachrichten vermitteln und falls eine Nachricht an das zweite Endsystem adressiert ist die Switches je eine Kopie der Nachricht über Kommunikationskanäle an den dem zweiten Endsystem zugeordneten zweiten Vergleicher senden und wo der zweite Vergleicher unmittelbar nach Eintreffen der zeitlich ersten Nachricht ein Zeitfenster von der Dauer D öffnet und<!-- EPO <DP n="3"> --> falls in diesem Intervall <b><i>D</i></b> keine zweite Kopie dieser Nachricht beim zweiten Vergleicher eintrifft der zweite Vergleicher die Nachricht verwirft und falls in diesem Intervall <b><i>D</i></b> eine zweite Kopie der Nachricht eintrifft der zweite Vergleicher die beiden Nachrichten bitweise vergleicht und falls der Vergleich einen Bitfehler offenbart die Nachrichtenübertragung unterbricht und die Nachricht verwirft und falls alle Bits dieser Nachricht identisch sind, die vollständige Nachricht über den zweiten Kommunikationskanal an das zweite Endsystem sendet und wo das zweite Switchpaar analog vorgeht und somit im fehlerfreien Fall beim Endsystem zwei überprüfte Kopien einer Nachricht eintreffen und falls eines der beiden Switchpaare fehlerhaft ist oder einen Fehler erkennt und die Nachricht verwirft noch immer eine korrekte Nachricht beim zweiten Endsystem eintrifft und wo der fehlertolerante Switch zusätzlich zu den von den Endsystemen empfangen Nachrichten periodisch zwei im Switch generierte Synchronisationsnachrichten an alle angeschlossenen Endsysteme sendet, wobei eine Synchronisationsnachricht vom ersten Switchpaar gesendet wird und die andere Synchronisationsnachricht vom zweiten Switchpaar gesendet wird, und wo der Zeitpunkt des Eintreffens einer Synchronisationsnachricht bei einem Endsystem dem Zeitpunkt entspricht, der im Datenfeld der Synchronisationsnachricht enthalten ist.</p><p id="p0009" num="0009">Günstigerweise sind die beiden Switchpaare räumlich getrennt voneinander angeordnet.</p><p id="p0010" num="0010">In einer Variante des Verfahrens werden im Rahmen der Uhrensynchronisation signierte Nachrichten verwendet.</p><p id="p0011" num="0011">In einer weiteren Variante passt ein fehlertoleranter Switch nach dem Empfang einer externen Synchronisationsnachricht seine interne synchronisierte Zeit an die durch die externe Synchronisationsnachricht vorgegebene Zeit an.</p><p id="p0012" num="0012">Günstigerweise verzögern die Switches die Nachrichten nur um einige Bitlängen und im übermitteln sie im <i>cut-through</i> Verfahren an die Vergleicher.</p><p id="p0013" num="0013">In einer Variante der Erfindung verzögern die Vergleicher die Nachrichten nur um einige Bitlängen und übermitteln sie im <i>error-free-cut-through</i> Verfahren an das Endsystem.</p><p id="p0014" num="0014">Vorteilhafterweise senden die an einen fehlertoleranten Switch angeschlossenen Endsysteme eine Mischung von ereignisgesteuerten, bandbreitenbegrenzten, oder zeitgesteuerten Nachrichten.</p><p id="p0015" num="0015">In die Switches werden <i>a priori</i> Planungsinformationen über das erlaubte zeitliche Verhalten der Endsysteme geladen, so dass ein Switch ein fehlerhaftes zeitliches Verhalten eines Endsystems erkennen kann.</p><p id="p0016" num="0016">Vorteilhafterweise werden die a priori Planungsinformationen an den Switch mit einer elektronischen Unterschrift des Senders versehen.</p><p id="p0017" num="0017">Es ist weiters günstig, wenn die a priori Planungsinformationen an den Switch verschlüsselt werden.</p><p id="p0018" num="0018">In einer Variante der Erfindung können die a priori Planungsinformationen dynamisch während des Betriebes geändert werden.</p><p id="p0019" num="0019">Günstigerweise werden die Vergleicher im Multiplex-Verfahren betrieben.<!-- EPO <DP n="4"> --></p><p id="p0020" num="0020">In einer weiteren Variante der Erfindung werden die unterschiedlichen Signallaufzeiten auf den Kommunikationskanälen von den Switchpaaren kompensiert.</p><p id="p0021" num="0021">Vorteilhafterweise entsprechen die von den Endsystemen produzierten und konsumierten Nachrichten dem Ethernet Standard.</p><p id="p0022" num="0022">Die Aufgabe der Erfindung wird weiters gelöst durch einen Apparat zur fehlertoleranten zeitgesteuerten Echtzeitkommunikation bestehend aus einem oder mehreren fehlertoleranten Switches die je über mindesten zwei Kommunikationskanäle verbunden sind, wobei jeder fehlertoleranten Switch zwei Switchpaare enthält und wo das erste Switchpaar einen ersten und einen zweiten Switch enthält und wo das zweite Switchpaar einen dritten und einen vierten Switch enthält, und wo jeder der vier Switches über die Kommunikationskanäle mit den anderen drei Switches verbunden ist, und wo eine Vielzahl von Endsystemen jeweils über ein dem Endsystem zugeordnetes dediziertes Vergleicher an die beiden Switchpaare angeschlossen werden kann, und wo in diesem Apparat einer oder mehrere der oben angeführten Verfahrenschritte realisiert werden.</p><heading id="h0005"><b>ZUSAMMENFASSUNG</b></heading><p id="p0023" num="0023">Die vorliegende Erfindung hat zum Ziel in einem fehlertoleranten Kommunikationssystem eines verteilten Echtzeitsystems eine fehlertolerante globale Zeit aufzubauen. Zu diesem Zweck wird eine <i>fehlertolerante Nachrichtenvermittlungseinheit</i> vorgestellt, die aus vier unabhängigen Vermittlungseinheiten besteht. Diese vier unabhängigen Vermittlungseinheiten bauen gemeinsam eine fehlertolerante Zeit auf. Die Endsysteme werden über zwei unabhängige <i>fail-silent</i> Kommunikationskanäle an eine fehlertolerante Nachrichtenvermittlungseinheit angebunden, so dass selbst bei Ausfall eines Teils der fehlertoleranten Vermittlungseinheit oder eines Kommunikationskanals die Uhrensynchronisation und die Netzwerkverbindungen aufrecht bleiben.<!-- EPO <DP n="5"> --></p><heading id="h0006"><b>KURZE BESCHREIBUNG DER ABBILDUNGEN</b></heading><p id="p0024" num="0024">Das vorab beschriebene Ziel und andere neue Eigenschaften der vorliegenden Erfindung werden an Hand der angeführten Abbildungen erläutert.
<ul><li><figref idrefs="f0001">Fig. 1</figref> zeigt ein Beispiel für die Struktur fehlertoleranten Kommunikationssystems, das aus mehreren fehlertoleranten Vermittlungseinheiten besteht.</li><li><figref idrefs="f0001">Fig. 2</figref> zeigt den inneren Aufbau einer fehlertoleranten Vermittlungseinheit.</li></ul></p><heading id="h0007"><b>BESCHREIBUNG EINER REALISIERUNG</b></heading><p id="p0025" num="0025">Im folgenden Abschnitt wird eine mögliche Realisierung des neuen Verfahrens an einem Beispiel mit drei Switches und einer Anzahl von Endsystemen gezeigt. Dieses Beispiel zeigt eine konkrete von vielen möglichen Realisierungen des in den Patentansprüchen beschriebenen Verfahrens.
<ul><li><figref idrefs="f0001">Fig. 1</figref> zeigt eine Konfiguration mit drei fehlertoleranten Vermittlungseinheiten <b>101,102</b> und <b>103</b>-im folgenden <i>Switches</i> genannt-und acht Endsystemen <b>111</b> bis <b>118.</b> Ein <i>Endsystem</i> ist ein <i>Knotenrecher,</i> in dem ein Teil einer verteilten Echtzeitapplikation abläuft. Die drei Switches <b>101, 102</b> und <b>103</b> sind untereinander mittels jeweils zwei Kommunikationskanäle <b>121</b> und <b>122</b> verbunden, da der Ausfall eines Kommunikationskanals toleriert werden muss. Jeder Switch, z.B., der Switch <b>101</b> beinhaltet zwei Switchpaare, <b>151</b> und <b>152,</b> wobei jedes Switchpaar aus zwei Switches besteht. Jeder Switch bildet eine autonome Fehlereindämmungseinheit (<i>Fault-Containment Unit-FCU</i>). Das Endsystem <b>111</b> ist über den Kommunikationskanal <b>121</b> mit dem linken Switchpaar <b>151</b> und über den Kommunikationskanal <b>122</b> mit dem rechten Switchpaar <b>152</b> des fehlertoleranten Switches <b>101</b> verbunden. Analog sind die anderen Endsysteme <b>112</b> bis <b>118</b> über jeweils einen Kommunikationskanal mit dem einen Switchpaar und mit dem anderen Kommunikationskanal mit dem anderen Switchpaar eines fehlertoleranten Switches verbunden.</li><li><figref idrefs="f0001">Fig. 2</figref> zeigt den inneren Aufbau eines fehlertoleranten Switches <b>200.</b> Die Anzahl <b><i>n</i></b> der Endsysteme, die an einem Switch angeschlossen werden können, wird durch diese Erfindung nicht fest gelegt und hängt von dem konkreten Aufbau des fehlertoleranten Switches ab. Typischerweise liegt <b><i>n</i></b> zwischen 8 und 16. Zum Beispiel lassen sich im fehlertoleranten Switch <b>101</b> auf der oberen und unteren Seite jeweils vier Endsysteme anschließen. Um die <figref idrefs="f0001">Fig. 2</figref> zu vereinfachen sind im fehlertoleranten Switch <b>200</b> nur zwei Endsysteme, das erste Endsystem <b>221</b> und das zweite Endsystem <b>222</b> angeführt.</li></ul></p><p id="p0026" num="0026">Der fehlertolerante Switch <b>200</b> besteht aus den beiden Switchpaaren <b>201</b> und <b>202.</b> Das erste Switchpaar <b>201</b> besteht aus den beiden (nicht fehlertoleranten) Switches <b>211</b> und <b>213,</b> dem ersten Switch <b>211</b> und dem zweiten Switch <b>213</b> sowie den Vergleichern <b>231</b> und <b>233,</b> dem ersten Vergleicher <b>231</b> und dem zweiten Vergleicher <b>233.</b> Das zweite Switchpaar <b>202</b> besteht aus den beiden (nicht fehlertoleranten)<!-- EPO <DP n="6"> --> Switches <b>212</b> und <b>214,</b> dem dritten Switch <b>212</b> und dem vierten Switch <b>214</b> sowie den Vergleichern <b>232</b> und <b>234,</b> dem dritten Vergleicher <b>232</b> und dem vierten Vergleicher <b>234.</b></p><p id="p0027" num="0027">Jedem Endsystem sind somit zwei Vergleicher zugeordnet, einer vom rechten und einer vom linken Switchpaar. Erfindungsgemäß können die Vergleicher auch <i>multiplexed</i> werden, so dass sich je ein Vergleicher mit <b><i>n</i></b> Ein/Ausgängen <b>251</b> bzw. <b>252</b> zu <b><i>n</i></b> Endsystemen <b>221</b> bzw. <b>222</b> in einem Switchpaar befindet. Jeder der vier Switches <b>211, 212, 213, 214</b> bildet eine autonome Fehlereindämmungseinheit <i>(Fault Containment Unit).</i> Die vier Switches <b>211, 212, 213, 214</b> sind über Kommunikationskanäle <b>240, 241</b> miteinander verbunden.</p><p id="p0028" num="0028">Am Beispiel des ersten Switches <b>211:</b> Der erste Switch <b>211</b> ist entweder über die Kommunikationskanäle <b>240</b> mit den horizontal und vertikal benachbarten Switches, in diesem Fall den zweiten Switch <b>213</b> und den dritten Switch <b>212,</b> verbunden, und über diese mit dem vierten Switch <b>214.</b> Oder der erste Switch <b>211</b> ist über den Kommunikationskanal <b>241</b> mit dem vierten Switch <b>214</b> verbunden und über diesen, bzw. entsprechende Kommunikationskanäle <b>240, 241,</b> mit den anderen Switches. Des Weiteren kann der erste Switch <b>211</b> wie in <figref idrefs="f0001">Fig. 2</figref> über Kommunikationskanäle <b>240</b> mit den horizontal und vertikal benachbarten Switches (zweiter Switch <b>213</b> und dritter Switch <b>212)</b> verbunden sein und über einen Kommunikationskanal <b>241</b> mit dem vierten Switch <b>214</b> verbunden sein.</p><p id="p0029" num="0029">Es sind also zumindest Kommunikationskanäle <b>240</b> vorzusehen, auf die Kommunikationskanäle <b>241</b> kann verzichtet werden (siehe unten).</p><p id="p0030" num="0030">Über diese Kommunikationskanäle <b>240</b> und <b>241</b> werden periodisch interne Synchronisationsnachrichten ausgetauscht, um eine interne globale fehlertolerante Zeit mit der bekannten Präzision <b><i>P</i></b> aufzubauen. Dies geschieht mittels eines fehlertoleranten nachrichtenbasierten Uhrensynchronisationsalgorithmus für die interne Uhrensynchronisation, wie er z.B. in Kapitel 3 des Lehrbuchs [5] erklärt ist.</p><p id="p0031" num="0031">Wenn die internen Synchronisationsnachrichten mit einer elektronischen Unterschrift des Senders ausgestattet werden, so sind erfindungsgemäß die beiden Verbindungen <b>241</b> nicht erforderlich. In sicherheitskritischen Applikationen ist es vorteilhaft die beiden Switchpaare <b>201</b> und <b>202,</b> die einen fehlertoleranten Switch bilden, räumlich entfernt anzuordnen, damit Fehler die an einem Ort im Raum auftreten (<i>spatial proximity faults</i>) toleriert werden können. In einem solchen Fall ist es vorteilhaft, wenn die Anzahl der Verbindungsleitungen zwischen den Switchpaaren auf die beiden Kanäle <b>240</b> reduziert wird.</p><p id="p0032" num="0032">Ein ausgewählter Switch, z.B., Switch <b>103</b> in <figref idrefs="f0001">Fig. 1</figref>, oder ein Endsystem das mit einer Zeitquelle, z.B. einen GPS Zeitempfänger ausgerüstet ist, kann an die angeschlossenen Switches eine externe Zeitbasis vorgeben. Dies geschieht über <i>externe Synchronisationsnachrichten,</i> die die externe Zeit enthalten. Nach dem Empfang einer solchen externen Synchronisationsnachricht muss der empfangende fehlertolerante Switch seine interne Uhrensynchronisation an die extern vorgegebene Zeit anpassen. Wenn die externe Zeitquelle ausfällt, so hält der fehlertolerante interne Synchronisationsalgorithmus die globale Zeit aufrecht. Die externe Zeitquelle kann auch benutzt werden, um den Uhrengang der Switches <b>211, 212, 213, 214</b> dynamisch an den Gang der externen Zeit anzupassen.<!-- EPO <DP n="7"> --></p><p id="p0033" num="0033">Wenn das erste Endsystem <b>221</b> eine Nachricht an das zweite Endsystem <b>222</b> zu senden beabsichtigt, so wird diese Nachrichte parallel über den ersten Kommunikationskanal <b>251</b> an den ersten Vergleicher <b>231</b> im ersten Switchpaar <b>201</b> und über den dritten Kommunikationskanal <b>253</b> an den dritten Vergleicher <b>232</b> im zweiten Switchpaar <b>202</b> gesendet. Das Format dieser Nachricht kann einem gegeben Standard entsprechen, z.B. dem weit verbreiteten Ethernet Standard oder dem AFDX Standard, aber auch jedem anderen Standard der vorgibt, dass die Adressinformation im <i>Header</i> der Nachricht enthalten sein muss damit die Nachrichten von den Switches <b>211, 212, 213, 214</b> im schnellen <i>cut-through</i> Verfahren vermittelt werden können.</p><p id="p0034" num="0034">Die Nachrichten können vom ersten Endsystem <b>221</b> zeitgesteuert, bandbreitenbegrenzt oder ereignisgesteuert gesendet werden. Bei zeitgesteuerten Nachrichten können die Switches <b>211, 212, 213, 214</b> <i>a priori</i> mit <i>Planungsinformationen</i> versorgt werden, die die erlaubten Zeitpunkte des Sendens einer zeitgesteuerten Nachricht von einem Endsystem vorgeben. Eine zu einem falschen Zeitpunkt vom ersten Endsystem <b>221</b> gesendete zeitgesteuerte Nachricht kann dann von den Switches <b>211, 212, 213, 214</b> erkannt und verworfen werden. Bei bandbreitenbegrenzten Nachrichten können die Switches <b>211, 212, 213, 214</b> <i>a priori</i> mit Planungsinformationen versorgt werden, die die erlaubte Bandbreite des Sendens von bandbreitenbegrenzten Nachrichten vorgeben. Wenn die vom ersten Endsystem <b>221</b> gesendete bandbreitenbegrenzten Nachrichten über die erlaubte Bandbreite hinausgehen, können die Switches <b>211, 212, 213, 214</b> die Annahme von weiteren Nachrichten verweigern.</p><p id="p0035" num="0035">Die <i>a priori Planungsinformationen,</i> die an die Switches <b>211, 212, 213, 214</b> vor der Durchführung einer Nachrichtenübertragung von einem Entwurfssystem zur gesendet werden, können mit einer elektronischen Unterschrift versehen werden, so dass die Switches <b>211, 212, 213, 214</b> überprüfen können, ob diese Informationen von einem autorisierten Entwurfssystem stammen. Alternativ können die Planungsinformationen verschlüsselt gesendet werden. Die a priori Planungsinformationen können während des Betriebs durch das Senden einer neuen Nachricht mit den neuen Planungsinformationen und dem Zeitpunkt, ab wann diese neue Planungsinformationen anzuwenden sind, dynamisch geändert werden.</p><p id="p0036" num="0036">Im Folgenden wird die Nachrichtenbearbeitung im ersten Switchpaar <b>201</b> genau beschrieben. Eine vom ersten Kommunikationskanal <b>251</b> im ersten Vergleicher <b>231</b> eintreffende Nachricht wird vom ersten Vergleicher <b>231</b> über den Kommunikationskanal <b>242</b> an den ersten Switch <b>211</b> und über den Kommunikationskanal <b>243</b> an den zweiten Switch <b>213</b> zur Vermittlung weitergeleitet. Aufgrund der im <i>Header</i> einer Nachricht enthaltenen Adressinformation wird die Nachricht vom ersten Switch <b>211</b> über den Kommunikationskanal <b>244</b> und vom zweiten Switch <b>213</b> über den Kommunikationskanal <b>245</b> an den adressierten Vergleicher-im Beispiel an den zweiten Vergleicher <b>233</b>-weitergeleitet. Sobald die zeitlich erste an den zweiten Vergleicher <b>233</b> adressierte Nachricht von einem der beiden Switches <b>211</b> oder <b>213</b> beim zweiten Vergleicher <b>233</b> eintrifft, eröffnet der zweite Vergleicher <b>233</b> ein Zeitfenster von der <i>a priori</i> vorgegebenen Dauer <b><i>D.</i></b> Wenn innerhalb dieses Zeitfensters <b><i>D</i></b> die zeitlich zweite Nachricht vom anderen Switch des ersten Switchpaares <b>201</b> nicht eintrifft, verwirft der Vergleicher die erste Nachricht und in der Folge auch die zweite Nachricht (falls sie jemals eintrifft). Wenn innerhalb dieses Zeitfensters <b><i>D</i></b> die zweite Nachricht vom anderen Switch des ersten Switchpaares <b>201</b> eintrifft, dann vergleicht der zweite Vergleicher <b>233</b> die beiden<!-- EPO <DP n="8"> --> Nachrichten bitweise und leitet sie umgehend über den zweiten Kommunikationskanal <b>252</b> an das adressierte (zweite) Endsystem <b>222</b> weiter. Dieser Vergleich der beiden Nachrichten kann im <i>error-free-cut-through</i> Verfahren erfolgen, d.h. die eintreffenden Bitströme werden im zweiten Vergleicher <b>233</b> nur kurz verzögert, laufend verglichen und sofort weitergeleitet falls der Bitvergleich richtig ist. Im Fehlerfall wird der Bitstrom zum (zweiten) Endsystem 222 abgebrochen. Da jede Nachricht ein CRC Feld enthält, kann das (zweite) Endsystem <b>222</b> eine abgebrochene Nachricht erkennen und verwerfen.</p><p id="p0037" num="0037">Die Dauer der notwendigen Verzögerung einer Nachricht im zweiten Vergleicher <b>233</b> hängt von der Präzision <b><i>P</i></b> der Uhrensynchronisation ab, die im wesentlichen von der Dauer der Synchronisationsperiode und der Qualität der verwendeten Oszillatoren bestimmt wird. Die Anzahl der Bits, die im Vergleicher gespeichert werden müssen, hängt von der Präzision <b><i>P</i></b> und der Bandbreite der Datenübertragung ab.</p><p id="p0038" num="0038">Die Vergleicher <b>231, 232, 233, 234</b> sind so ausgelegt, dass keine vollständige Nachricht in einem Vergleicher gespeichert werden kann und kein Vergleicher über die Informationen verfügt, wie ein korrektes CRC Feld einer Nachricht zu bilden ist. Es ist somit äußerst unwahrscheinlich, dass ein fehlerhafter Vergleicher eine <i>syntaktische korrekte aber inhaltlich falsche Nachricht</i> erzeugen kann oder eine <i>syntaktische korrekte aber inhaltlich falsche Nachricht</i> zu einem anderen als vom ersten 211 oder dritten Switch 212 produzierten Zeitpunkt senden kann. Vom ersten Switchpaar <b>201</b> wird somit nur dann eine syntaktisch korrekte Nachricht an das (zweite) Endsystem <b>222</b> über den zweiten Kommunikationskanal <b>252</b> weitergeleitet, wenn alle vier Subsysteme <b>231, 211, 213</b> und <b>233</b> fehlerfrei funktionieren und der Nachrichtentransport über die Kanäle <b>251, 242, 243, 244, 245,</b> und <b>252</b> fehlerfrei abläuft. Das erste Switchpaar 201 realisiert somit am zweiten Kommunikationskanal <b>252</b> die f<i>ail-silent Abstrakion:</i> es produziert entweder Nachrichten die im Wertebereich und im Zeitbereich richtig sind oder es produziert keine Nachrichten. Das zweite Switchpaar <b>202</b> funktioniert analog zum ersten Switchpaar <b>201.</b></p><p id="p0039" num="0039">Zusätzlich zu den von den Endsystemen empfangen Nachrichten sendet der fehlertolerante Switch <b>200</b> periodisch zwei intern generierte Synchronisationsnachrichten an alle angeschlossenen Endsystemen, wobei nahezu gleichzeitig eine Synchronisationsnachricht vom linken (ersten) Switchpaar <b>201</b> über den ersten 251 und zweiten Kommunikationskanal <b>252</b> und eine zweite Synchronisationsnachricht vom rechten (zweiten) Switchpaar über den dritten 253 und vierten Kommunikationskanal <b>254</b> gesendet wird. Der Zeitpunkt des Eintreffens einer Synchronisationsnachricht bei einem Endsystem entspricht jenem Zeitpunkt, der im Datenfeld der Synchronisationsnachricht enthalten ist. Da die Signallaufzeiten auf den Kommunikationskanälen <b>251, 252, 253, 254</b> aufgrund der unterschiedlichen Länge diese Signallaufzeiten auf den Kommunikationskanäle unterschiedlich sind, kann eine Korrektur des Eintreffenszeitpunkts eine Synchronisationsnachricht beim Endsystem erforderlich werden. Diese Korrektur kann entweder im Endsystem oder in den Switchpaaren <b>201, 202</b> erfolgen.</p><p id="p0040" num="0040">Im fehlerfreien Fall erhält das (zweite) Endsystem <b>222</b> somit zwei richtige Synchronisationsnachrichten, eine über den (zweiten) Kommunikationskanal <b>252</b> und die andere über den (vierten) Kommunikationskanal <b>254,</b> deren Eintreffenszeitpunkte sich maximal um die Präzision <b><i>P</i></b> unterscheiden. Wenn in einem Switchpaar ein<!-- EPO <DP n="9"> --> Fehler auftritt, so erhält das (zweite) Endsystem <b>222</b> noch immer eine richtige Synchronisationsnachricht.</p><heading id="h0008"><b>WIRTSCHAFTLICHE VORTEILE</b></heading><p id="p0041" num="0041">Die vorliegende Erfindung ermöglicht es mit Standardkomponenten, d.h., Komponenten die nicht die <i>self-checking</i> Eigenschaft besitzen, eine fehlertolerante Zeitbasis und einen fehlertoleranten Switch aufzubauen, der <i>einen beliebigen <b>Fehler</b></i> in einer Fehlereindämmungseinheit (<i>Fault-Containment Unit-FCU</i>) toleriert. In <figref idrefs="f0001">Fig. 2</figref> sind folgende Subsysteme <i>Fehlereindämmungseinheiten:</i> die vier Switches <b>211, 212, 213, 214</b> und die vier Vergleicher <b>231, 232, 233, 234.</b> Besonderes Augenmerk verdient das letzte Subsystem, der Vergleicher, der vor der Ausgabe einer Nachricht an das Endsystem angeordnet ist. Durch die beschriebenen Konstruktionsmaßnahmen kann ausgeschlossen werden, dass ein fehlerhafter Vergleicher eine syntaktisch korrekte aber inhaltlich falsche Nachricht produziert, obwohl der Vergleicher selbst nicht als <i>self-checking Checker</i> ausgeführt werden muss.</p><p id="p0042" num="0042">Durch den erfindungsgemäßen Aufbau eines fehlertoleranten Switches, der eine fehlertolerante Uhrensynchronisation beinhaltet, ergeben sich folgende weitere wesentliche wirtschaftliche Vorteile:
<ul><li>Es wird verhindert, dass im Fehlerfall falsche Ergebnisse produziert werden. Diese Eigenschaft ist in sicherheitskritischen Systemen von besonderer Wichtigkeit.</li></ul>
<ul><li>Durch die Tolerierung eines Fehlers wird die Zuverlässigkeit eines fehlertoleranten Switches im Vergleich mit einem nicht-fehlertoleranten Switch wesentlich verbessert.</li><li>Der Uhrensynchronisationsalgorithmus muss nur einmal entwickelt, getestet und zertifiziert und kann in einer Vielzahl von Anwendungen eingesetzt werden.</li><li>Durch die Verlagerung der fehlertoleranten Uhrensynchronisation von den Endsystemen in das Kommunikationssystem werden die Endsysteme wesentlich einfacher und kostengünstiger.</li><li>Eine generische Lösung der Uhrensynchronisation im Kommunikationssystem kann in einem VLSI Chip sehr kostengünstig implementiert werden.</li></ul></p></description><claims mxw-id="PCLM56984327" lang="DE" load-source="patent-office"><!-- EPO <DP n="10"> --><claim id="c-de-01-0001" num="0001"><claim-text>Verfahren zur fehlertoleranten Uhrensynchronisation und zur fehlertoleranten zeitgesteuerten Echtzeitkommunikation unter Verwendung einer Anzahl von Endsystemen <b>(221, 222)</b> und einem oder mehreren fehlertoleranten Switches <b>(200)</b> die je über mindesten zwei Kommunikationskanäle verbunden sind, <b>dadurch gekennzeichnet, dass</b> jeder fehlertolerante Switch <b>(200)</b> ein erstes <b>(201)</b> und ein zweites Switchpaar <b>(202)</b> enthält, wobei das erste Switchpaar <b>(201)</b> einen ersten <b>(211)</b> und einen zweiten Switch <b>(213)</b> enthält und das zweite Switchpaar <b>(202)</b> einen dritten <b>(212)</b> und einen vierten Switch <b>(214)</b> enthält, und wobei jeder der vier Switches <b>(211, 212, 213, 214)</b> über Kommunikationskanäle <b>(240, 241)</b> mit den anderen drei Switches verbunden ist, wobei die vier Switches über einen bekannten nachrichtenbasierten internen fehlertoleranten Synchronisationsalgorithmus über die Kommunikationskanäle <b>(240, 241)</b> eine interne globale fehlertolerante Zeitbasis mit bekannter Präzision <b>(<i>P</i>)</b> aufbauen, und wobei eine Vielzahl von Endsystemen <b>(221, 222)</b> jeweils über einen einem Endsystem zugeordneten Vergleicher an die beiden Switchpaare <b>(201, 202)</b> angeschlossen werden kann, wobei ein erstes Endsystem <b>(221)</b> jeweils eine Kopie einer an ein Endsystem zu sendenden Nachricht über den ersten Kommunikationskanal <b>(251)</b> an das erste Switchpaar <b>(201)</b> und über den zweiten Kommunikationskanal <b>(253)</b> an das zweite Switchpaar <b>(202)</b> sendet, wobei der erste Vergleicher <b>(231)</b> die eintreffende Nachricht über einen Kommunikationskanal <b>(242)</b> an den ersten Switch <b>(211)</b> und über einen Kommunikationskanal <b>(243)</b> an den zweiten Switch <b>(213)</b> sendet und der dritte Vergleicher <b>(232)</b> die eintreffende Nachricht über einen Kommunikationskanal <b>(246)</b> an den dritten Switch <b>(212)</b> und über einen Kommunikationskanal <b>(247)</b> an den vierten Switch <b>(214)</b> sendet, und wobei die vier Switches die eintreffenden Nachrichten vermitteln und, falls eine Nachricht an das zweite Endsystem <b>(222)</b> adressiert ist, die Switches <b>(211, 213)</b> je eine Kopie der Nachricht über Kommunikationskanäle <b>(244, 245)</b> an den dem zweiten Endsystem <b>(222)</b> zugeordneten zweiten Vergleicher <b>(233)</b> senden, wobei der zweite Vergleicher <b>(233)</b> unmittelbar nach Eintreffen der zeitlich ersten Nachricht ein Zeitfenster von der Dauer <b><i>D</i></b> öffnet und, falls in diesem Intervall <b><i>D</i></b> keine zweite Kopie dieser Nachricht beim zweiten Vergleicher (233) eintrifft, der zweite Vergleicher <b>(233)</b> die Nachricht verwirft und, falls in diesem Intervall <b><i>D</i></b> eine zweite Kopie der Nachricht eintrifft, der zweite Vergleicher (233) die beiden Nachrichten bitweise vergleicht und, falls der Vergleich einen Bitfehler offenbart, die Nachrichtenübertragung unterbricht und die Nachricht verwirft und, falls alle Bits dieser Nachricht identisch sind, die vollständige Nachricht über den zweiten<!-- EPO <DP n="11"> --> Kommunikationskanal <b>(252)</b> an das zweite Endsystem <b>(222)</b> sendet, wobei das zweite Switchpaar <b>(202)</b> analog vorgeht, und somit im fehlerfreien Fall beim Endsystem zwei überprüfte Kopien einer Nachricht eintreffen und, falls eines der beiden Switchpaare <b>(201, 202)</b> fehlerhaft ist oder einen Fehler erkennt und die Nachricht verwirft, noch immer eine korrekte Nachricht beim zweiten Endsystem <b>(222)</b> eintrifft, wobei der fehlertolerante Switch <b>(200)</b> zusätzlich zu den von den Endsystemen empfangen Nachrichten periodisch zwei im Switch <b>(200)</b> generierte Synchronisationsnachrichten an alle angeschlossenen Endsysteme sendet, wobei eine Synchronisationsnachricht vom ersten Switchpaar <b>(201)</b> gesendet wird und die andere Synchronisationsnachricht vom zweiten Switchpaar <b>(202)</b> gesendet wird, und wobei der Zeitpunkt des Eintreffens einer Synchronisationsnachricht bei einem Endsystem dem Zeitpunkt entspricht, der im Datenfeld der Synchronisationsnachricht enthalten ist.</claim-text></claim><claim id="c-de-01-0002" num="0002"><claim-text>Verfahren nach Anspruch 1, <b>dadurch gekennzeichnet, dass</b> die beiden Switchpaare (201, 202) räumlich getrennt voneinander angeordnet sind.</claim-text></claim><claim id="c-de-01-0003" num="0003"><claim-text>Verfahren nach Anspruch 1 oder 2, <b>dadurch gekennzeichnet, dass</b> im Rahmen der Uhrensynchronisation signierte Nachrichten verwendet werden und daher auf die beiden Kommunikationskanäle <b>(241)</b> verzichtet werden kann.</claim-text></claim><claim id="c-de-01-0004" num="0004"><claim-text>Verfahren nach einem der Ansprüche 1 bis 3, <b>dadurch gekennzeichnet, dass</b> ein fehlertoleranter Switch (200) nach dem Empfang einer externen Synchronisationsnachricht seine interne synchronisierte Zeit an die durch die externe Synchronisationsnachricht vorgegebene Zeit anpasst.</claim-text></claim><claim id="c-de-01-0005" num="0005"><claim-text>Verfahren nach einem der Ansprüche 1 bis 4, <b>dadurch gekennzeichnet, dass</b> die Switches <b>(211, 212, 213, 214)</b> die Nachrichten nur um einige Bitlängen verzögern und im <i>cut-through</i> Verfahren an die Vergleicher <b>(231, 232, 233, 234)</b> übermitteln.</claim-text></claim><claim id="c-de-01-0006" num="0006"><claim-text>Verfahren nach einem der Ansprüche 1 bis 5, <b>dadurch gekennzeichnet, dass</b> die Vergleicher <b>(231, 232, 233, 234)</b> die Nachrichten nur um einige Bitlängen verzögern und im <i>error-free-cut-through</i> Verfahren an das Endsystem übermitteln.</claim-text></claim><claim id="c-de-01-0007" num="0007"><claim-text>Verfahren nach einem der Ansprüche 1 bis 6, <b>dadurch gekennzeichnet, dass</b> die an einen fehlertoleranten Switch <b>(200)</b> angeschlossenen Endsysteme <b>(221, 222)</b> eine Mischung von ereignisgesteuerten, bandbreitenbegrenzten, oder zeitgesteuerten Nachrichten senden.<!-- EPO <DP n="12"> --></claim-text></claim><claim id="c-de-01-0008" num="0008"><claim-text>Verfahren nach einem der Ansprüche 1 bis 7, <b>dadurch gekennzeichnet, dass</b> in die Switches (211, 212, 213, 214) <i>a priori</i> Planungsinformationen über das erlaubte zeitliche Verhalten der Endsysteme (221, 222) geladen werden, so dass ein Switch ein fehlerhaftes zeitliches Verhalten eines Endsystems erkennen kann.</claim-text></claim><claim id="c-de-01-0009" num="0009"><claim-text>Verfahren nach Anspruch 8, <b>dadurch gekennzeichnet, dass</b> die a-priori Planungsinformationen an den Switch mit einer elektronischen Unterschrift des Senders versehen werden.</claim-text></claim><claim id="c-de-01-0010" num="0010"><claim-text>Verfahren nach Anspruch 8 oder 9, <b>dadurch gekennzeichnet dass</b> die a-priori Planungsinformationen an den Switch verschlüsselt werden.</claim-text></claim><claim id="c-de-01-0011" num="0011"><claim-text>Verfahren nach einem der Ansprüche 8 bis 10, <b>dadurch gekennzeichnet, dass</b> die a-priori Planungsinformationen dynamisch während des Betriebes geändert werden können.</claim-text></claim><claim id="c-de-01-0012" num="0012"><claim-text>Verfahren nach einem der Ansprüche 1 bis 11, <b>dadurch gekennzeichnet, dass</b> die Vergleicher (231, 232, 233, 234) im Multiplex-Verfahren betrieben werden.</claim-text></claim><claim id="c-de-01-0013" num="0013"><claim-text>Verfahren nach einem der Ansprüche 1 bis 12, <b>dadurch gekennzeichnet, dass</b> die unterschiedlichen Signallaufzeiten auf den Kommunikationskanälen (251, 252, 253, 254) von den Switchpaaren (201, 202) kompensiert werden.</claim-text></claim><claim id="c-de-01-0014" num="0014"><claim-text>Verfahren nach einem der Ansprüche 1 bis 13, <b>dadurch gekennzeichnet, dass</b> die von den Endsystemen produzierten und konsumierten Nachrichten dem Ethernet Standard entsprechen.</claim-text></claim><claim id="c-de-01-0015" num="0015"><claim-text>Apparat zur fehlertoleranten zeitgesteuerten Echtzeitkommunikation bestehend aus einem oder mehreren fehlertoleranten Switches die je über mindesten zwei Kommunikationskanäle verbunden sind, <b>dadurch gekennzeichnet, dass</b> jeder fehlertoleranten Switch <b>(200)</b> zwei Switchpaare <b>(201, 202)</b> enthält, wobei das erste Switchpaar <b>(201)</b> einen ersten <b>(211)</b> und einen zweiten Switch <b>(213)</b> enthält und das zweite Switchpaar <b>(202)</b> einen dritten <b>(212)</b> und einen vierten Switch <b>(214)</b> enthält, und wobei jeder der vier Switches <b>(211, 212, 213, 214)</b> über die Kommunikationskanäle <b>(240, 241)</b> mit den anderen drei Switches verbunden ist, und wobei eine Vielzahl von Endsystemen jeweils über ein dem<!-- EPO <DP n="13"> --> Endsystem zugeordnetes dediziertes Vergleicher an die beiden Switchpaare <b>(201, 202)</b> angeschlossen werden kann,<br/>
wobei der Apparat dazu eingerichtet ist, dass für jeweils eine Kopie einer an ein Endsystem zu sendenden Nachricht, die von einem ersten Endsystem <b>(221)</b> über den ersten Kommunikationskanal <b>(251)</b> an das erste Switchpaar <b>(201)</b> und über den zweiten Kommunikationskanal <b>(253)</b> an das zweite Switchpaar <b>(202)</b> gesendet wird,<br/>
der erste Vergleicher <b>(231)</b> die eintreffende Nachricht über einen Kommunikationskanal <b>(242)</b> an den ersten Switch <b>(211)</b> und über einen Kommunikationskanal <b>(243)</b> an den zweiten Switch <b>(213)</b> sendet und der dritte Vergleicher <b>(232)</b> die eintreffende Nachricht über einen Kommunikationskanal <b>(246)</b> an den dritten Switch <b>(212)</b> und über einen Kommunikationskanal <b>(247)</b> an den vierten Switch <b>(214)</b> sendet, wobei die vier Switches die eintreffenden Nachrichten vermitteln und, falls eine Nachricht an das zweite Endsystem <b>(222)</b> adressiert ist, die Switches <b>(211, 213)</b> je eine Kopie der Nachricht über Kommunikationskanäle <b>(244, 245)</b> an den dem zweiten Endsystem <b>(222)</b> zugeordneten zweiten Vergleicher <b>(233)</b> senden, wobei der zweite Vergleicher <b>(233)</b> unmittelbar nach Eintreffen der zeitlich ersten Nachricht ein Zeitfenster von der Dauer <b><i>D</i></b> öffnet und, falls in diesem Intervall <b><i>D</i></b> keine zweite Kopie dieser Nachricht beim zweiten Vergleicher <b>(233)</b> eintrifft, der zweite Vergleicher (233) die Nachricht verwirft und, falls in diesem Intervall <b><i>D</i></b> eine zweite Kopie der Nachricht eintrifft, der zweite Vergleicher <b>(233)</b> die beiden Nachrichten bitweise vergleicht und, falls der Vergleich einen Bitfehler offenbart, die Nachrichtenübertragung unterbricht und die Nachricht verwirft und, falls alle Bits dieser Nachricht identisch sind, die vollständige Nachricht über den zweiten Kommunikationskanal <b>(252)</b> an das zweite Endsystem <b>(222)</b> sendet, wobei das zweite Switchpaar <b>(202)</b> analog vorgeht, und somit im fehlerfreien Fall beim Endsystem zwei überprüfte Kopien einer Nachricht eintreffen und, falls eines der beiden Switchpaare <b>(201, 202)</b> fehlerhaft ist oder einen Fehler erkennt und die Nachricht verwirft, noch immer eine korrekte Nachricht beim zweiten Endsystem <b>(222)</b> eintrifft, wobei der fehlertolerante Switch <b>(200)</b> zusätzlich zu den von den Endsystemen empfangenen Nachrichten periodisch zwei im Switch <b>(200)</b> generierte Synchronisationsnachrichten an alle angeschlossenen Endsysteme sendet, wobei eine Synchronisationsnachricht vom ersten Switchpaar <b>(201)</b> gesendet wird und die andere Synchronisationsnachricht vom zweiten Switchpaar <b>(202)</b> gesendet wird, und wobei der Zeitpunkt des Eintreffens einer Synchronisationsnachricht bei einem Endsystem dem Zeitpunkt entspricht, der im Datenfeld der Synchronisationsnachricht enthalten ist.</claim-text></claim></claims><claims mxw-id="PCLM56984328" lang="EN" load-source="patent-office"><!-- EPO <DP n="14"> --><claim id="c-en-01-0001" num="0001"><claim-text>A method for fault-tolerant clock synchronisation and for fault-tolerant time-triggered real-time communication using a number of terminal systems (221, 222) and one or more fault-tolerant switches (200), which are in each case connected via at least two communication channels, <b>characterised in that</b> each fault-tolerant switch (200) contains a first switch pair (201) and a second switch pair (202), wherein the first switch pair (201) contains a first switch (211) and a second switch (213) and the second switch pair (202) contains a third switch (212) and a fourth switch (214), and wherein each of the four switches (211, 212, 213, 214) are connected to the other three switches via communication channels (240, 241), wherein the four switches, via a known message-based internal fault-tolerant synchronisation algorithm, establish an internal global fault-tolerant time base of known precision (P) via the communication channels (240, 241), and wherein each of a plurality of terminal systems (221, 222) can be connected to the two switch pairs (201, 202) via a comparator associated with a particular terminal system, wherein a first terminal system (221) transmits to the first switch pair (201)via the first communication channel (251) and to the second switch pair (202) via the second communication channel (253) a copy of a message to be transmitted to a terminal system, wherein the first comparator (231) transmits the incoming message to the first switch (211) via a communication channel (242) and to the second switch (213) via a communication channel (243), and the third comparator (232) transmits the incoming message to the third switch (212) via a communication channel (246) and to the fourth switch (214) via a communication channel (247), and<!-- EPO <DP n="15"> --> wherein the four switches impart the incoming messages and, if a message is addressed to the second terminal system (222), the switches (211, 213) each transmit a copy of the message via communication channels (244, 245) to the second comparator (233) associated with the second terminal system (222), wherein the second comparator (233) opens a time window of duration D immediately after arrival of the chronologically first message, and, if no second copy of this message arrives at the second comparator (233) during this interval D, the second comparator (233) discards the message, and, if a second copy of the message arrives during this interval D, the second comparator (233) compares the two messages bit by bit and, if the comparison reveals a bit error, interrupts the transmission of the message and discards the message, and, if all bits of this message are identical, transmits the entire message via the second communication channel (252) to the second terminal system (222), wherein the second switch pair (202) proceeds analogously, and therefore, in the fault-free case, two checked copies of a message arrive at the terminal system and, if one of the two switch pairs (201, 202) is faulty or identifies a fault and discards the message, a correct message still arrives at the second terminal system (222), wherein the fault-tolerant switch (200), in addition to the messages received by the terminal systems, periodically transmits two synchronisation messages generated in the switch (200) to all connected terminal systems, wherein one synchronisation message is transmitted by the first switch pair (201) and the other synchronisation message is transmitted by the second switch pair (202), and wherein the time at which a synchronisation message arrives at a terminal system<!-- EPO <DP n="16"> --> corresponds to the time that is contained in the data field of the synchronisation message.</claim-text></claim><claim id="c-en-01-0002" num="0002"><claim-text>The method according to Claim 1, <b>characterised in that</b> the two switch pairs (201, 202) are arranged spatially separate from each other.</claim-text></claim><claim id="c-en-01-0003" num="0003"><claim-text>The method according Claim 1 or 2, <b>characterised in that</b> signed messages are used as part of the clock synchronisation and the two communication channels (241) therefore can be omitted.</claim-text></claim><claim id="c-en-01-0004" num="0004"><claim-text>The method according to one of Claims 1 to 3, <b>characterised in that</b>, after receiving an external synchronisation message, a fault-tolerant switch (200) adapts its internal synchronised time to the time predetermined by the external synchronisation message.</claim-text></claim><claim id="c-en-01-0005" num="0005"><claim-text>The method according to one of Claims 1 to 4, <b>characterised in that</b> the switches (211, 212, 213, 214) delay the messages only by a few bit lengths and transmit the messages to the comparators (231, 232, 233, 234) using the cut-through method.</claim-text></claim><claim id="c-en-01-0006" num="0006"><claim-text>The method according to one of Claims 1 to 5, <b>characterised in that</b> the comparators (231, 232, 233, 234) delay the messages only by a few bit lengths and transmit the messages to the terminal system using the error-free cut-through method.</claim-text></claim><claim id="c-en-01-0007" num="0007"><claim-text>The method according to one of Claims 1 to 6, <b>characterised in that</b> the terminal systems (221, 222) connected to a fault-tolerant switch (200) transmit a<!-- EPO <DP n="17"> --> mixture of event-triggered, bandwidth-limited, or time-triggered messages.</claim-text></claim><claim id="c-en-01-0008" num="0008"><claim-text>The method according to one of Claims 1 to 7, <b>characterised in that</b> <i>a priori</i> planning information concerning the allowed temporal behaviour of the terminal systems (221, 222) is loaded into the switches (211, 212, 213, 214), such that a switch can detect a faulty temporal behaviour of a terminal systems.</claim-text></claim><claim id="c-en-01-0009" num="0009"><claim-text>The method according to Claim 8, <b>characterised in that</b> the <i>a priori</i> planning information for the switch is provided with an electronic signature of the sender.</claim-text></claim><claim id="c-en-01-0010" num="0010"><claim-text>The method according to Claim 8 or 9, <b>characterised in that</b> the <i>a priori</i> planning information for the switch is encrypted.</claim-text></claim><claim id="c-en-01-0011" num="0011"><claim-text>The method according to one of Claims 8 to 10, <b>characterised in that</b> the <i>a</i> priori planning information can be dynamically altered during operation.</claim-text></claim><claim id="c-en-01-0012" num="0012"><claim-text>The method according to one of Claims 1 to 11, <b>characterised in that</b> the comparators (231, 232, 233, 234) are operated in the multiplex method.</claim-text></claim><claim id="c-en-01-0013" num="0013"><claim-text>The method according to one of Claims 1 to 12, <b>characterised in that</b> the different signal propagation times on the communication channels (251, 252, 253, 254) are compensated for by the switch pairs (201, 202).</claim-text></claim><claim id="c-en-01-0014" num="0014"><claim-text>The method according to one of Claims 1 to 13, <b>characterised in that</b> the messages produced and consumed<!-- EPO <DP n="18"> --> by the terminal systems correspond to the Ethernet standard.</claim-text></claim><claim id="c-en-01-0015" num="0015"><claim-text>A device for fault-tolerant, time-triggered real-time communication, consisting of one or more fault-tolerant switches, which are in each case connected via at least two communication channels, <b>characterised in that</b> each fault-tolerant switch (200) contains two switch pairs (201, 202), wherein the first switch pair (201) contains a first switch (211) and a second switch (213) and the second switch pair (202) contains a third switch (212) and a fourth switch (214), and wherein each of the four switches (211, 212, 213, 214) is connected via the communication channels (240, 241) to the other three switches, and wherein a plurality of terminal systems can each be connected via a dedicated comparator associated with the terminal system to the two switch pairs (201, 202),<br/>
wherein the device is designed such that, for each copy of a message that is to be transmitted to a terminal system and that is transmitted from a first terminal system (221) via the first communication channel (251) to the first switch pair (201) and via the second communication channel (253) to the second switch pair (202),<br/>
the first comparator (231) transmits the incoming message to the first switch (211) via a communication channel (242) and to the second switch (213)via a communication channel (243), and the third comparator (232) transmits the incoming message to the third switch (212)via a communication channel (246) and to the fourth switch (214)via a communication channel (247), wherein the four switches impart the incoming messages and, if a message is addressed to the second terminal system (222), the<!-- EPO <DP n="19"> --> switches (211, 213) each transmit a copy of the message via communication channels (244, 245) to the second comparator (233) associated with the second terminal system (222), wherein the second comparator (233) opens a time window of duration D immediately after arrival of the chronologically first message, and, if no second copy of this message arrives at the second comparator (233) during this interval D, the second comparator (233) discards the message, and, if a second copy of the message arrives during this interval D, the second comparator (233) compares the two messages bit by bit and, if the comparison reveals a bit error, interrupts the transmission of the message and discards the message, and, if all bits of this message are identical, transmits the entire message via the second communication channel (252) to the second terminal system (222), wherein the second switch pair (202) proceeds analogously, and therefore, in the fault-free case, two checked copies of a message arrive at the terminal system and, if one of the two switch pairs (201, 202) is faulty or identifies a fault and discards the message, a correct message still arrives at the second terminal system (222), wherein the fault-tolerant switch (200), in addition to the messages received by the terminal systems, periodically transmits two synchronisation messages generated in the switch (200) to all connected terminal systems, wherein one synchronisation message is transmitted by the first switch pair (201) and the other synchronisation message is transmitted by the second switch pair (202), and wherein the time at which a synchronisation message arrives at a terminal system corresponds to the time that is contained in the data field of the synchronisation message.</claim-text></claim></claims><claims mxw-id="PCLM56984329" lang="FR" load-source="patent-office"><!-- EPO <DP n="20"> --><claim id="c-fr-01-0001" num="0001"><claim-text>Procédé servant à la synchronisation des pendules tolérante aux erreurs et servant à la communication en temps réel régulée dans le temps, tolérante aux erreurs en utilisant un certain nombre de systèmes terminaux (221, 222) et un ou plusieurs commutateurs (200) tolérants aux erreurs, lesquels sont respectivement reliés par l'intermédiaire d'au moins deux canaux de communication, <b>caractérisé en ce que</b> chaque commutateur (200) tolérant aux erreurs comporte une première paire de commutateurs (201) et une deuxième paire de commutateurs (202), sachant que la première paire de commutateurs (201) comporte un premier commutateur (211) et un deuxième commutateur (213) et que la deuxième paire de commutateurs (202) comporte un troisième commutateur (212) et un quatrième commutateur (214), et sachant que chacun des quatre commutateurs (211, 212, 213, 214) est relié aux trois autres commutateurs par l'intermédiaire de canaux de communication (240, 241), sachant que les quatre commutateurs établissent par l'intermédiaire d'un algorithme connu de synchronisation interne, basé sur<!-- EPO <DP n="21"> --> les messages, tolérant aux erreurs, par l'intermédiaire des canaux de communication (240, 241) une base temporelle interne globale tolérante aux erreurs présentant une précision (P) connue, et sachant qu'une pluralité de systèmes terminaux (221, 222) peut être raccordée respectivement par l'intermédiaire d'un comparateur associé à un système terminal aux deux paires de commutateurs (201, 202), sachant qu'un premier système terminal (221) envoie respectivement une copie d'un message à envoyer à un système terminal à la première paire de commutateurs (201) par l'intermédiaire du premier canal de communication (251) et à la deuxième paire de commutateurs (202) par l'intermédiaire du deuxième canal de communication (253), sachant que le premier comparateur (231) envoie le message entrant au premier commutateur (211) par l'intermédiaire d'un canal de communication (242) et au deuxième commutateur (213) par l'intermédiaire d'un canal de communication (243) et que le troisième comparateur (232) envoie le message entrant au troisième commutateur (212) par l'intermédiaire d'un canal de communication (246) et au quatrième commutateur (214) par l'intermédiaire d'un canal de communication (247), et sachant que les quatre commutateurs transmettent les messages entrants, et si un message est adressé au deuxième système terminal (222), les commutateurs (211, 213) envoient respectivement une copie du message au deuxième comparateur (233) associé au deuxième système terminal (222) par l'intermédiaire de canaux de communication (244, 245), sachant que le deuxième comparateur (233)<!-- EPO <DP n="22"> --> ouvre directement à réception du premier message dans le temps une fenêtre temporelle de durée D, et si dans cet intervalle D, aucune deuxième copie dudit message ne parvient au deuxième comparateur (233), le deuxième comparateur (233) refuse le message, et si dans ledit intervalle D, une deuxième copie du message arrive, le deuxième comparateur (233) compare de manière binaire les deux messages, et interrompt la transmission des messages et rejette le message si la comparaison révèle une erreur sur les bits, et si tous les bits dudit message sont identiques, envoie l'intégralité du message par l'intermédiaire du deuxième canal de communication (252) au deuxième système terminal (222), sachant que la deuxième paire de commutateurs (202) procède de la même manière, et donc, dans le cas exempt d'erreur, deux copies vérifiées d'un message parviennent au système terminal et, si une des deux paires de commutateur (201, 202) est erronée ou identifie une erreur et rejette le message, un message correct parvient tout de même au deuxième système terminal (222), sachant que le commutateur (200) tolérant aux erreurs envoie, en plus des messages reçus par les systèmes terminaux, par période deux messages de synchronisation générés dans le commutateur (200), à tous les systèmes terminaux raccordés, sachant qu'un message de synchronisation est envoyé par la première paire de commutateurs (201) et que l'autre message de synchronisation est envoyé par la deuxième paire de commutateurs (202), et sachant que le moment où un message de synchronisation parvient à un système<!-- EPO <DP n="23"> --> terminal correspond au moment qui est contenu dans le champ de données du message de synchronisation.</claim-text></claim><claim id="c-fr-01-0002" num="0002"><claim-text>Procédé selon la revendication 1, <b>caractérisé en ce que</b> les deux paires de commutateurs (201, 202) sont disposées de manière séparée l'une de l'autre spatialement.</claim-text></claim><claim id="c-fr-01-0003" num="0003"><claim-text>Procédé selon la revendication 1 ou 2, <b>caractérisé en ce qu'</b>on utilise dans le cadre de la synchronisation de pendule des messages signés et qu'en conséquence il est possible de renoncer aux deux canaux de communication (241).</claim-text></claim><claim id="c-fr-01-0004" num="0004"><claim-text>Procédé selon l'une quelconque des revendications 1 à 3, <b>caractérisé en ce qu'</b>un commutateur (200) tolérant aux erreurs adapte, à réception d'un message de synchronisation extérieur, son horloge interne synchronisée au temps prédéfini par le message de synchronisation extérieur.</claim-text></claim><claim id="c-fr-01-0005" num="0005"><claim-text>Procédé selon l'une quelconque des revendications 1 à 4, <b>caractérisé en ce que</b> les commutateurs (211, 212, 213, 214) retardent les messages uniquement de quelques longueurs de bits et les transmettent aux comparateurs (231, 232, 233, 234) lors d'un procédé de traversée transparente.</claim-text></claim><claim id="c-fr-01-0006" num="0006"><claim-text>Procédé selon l'une quelconque des revendications 1 à 5, <b>caractérisé en ce que</b> les comparateurs (231, 232, 233, 234) retardent les messages seulement de quelques longueurs de bits et les transmettent au système terminal lors d'un procédé de traversée transparente sans erreur.</claim-text></claim><claim id="c-fr-01-0007" num="0007"><claim-text>Procédé selon l'une quelconque des revendications 1 à 6, <b>caractérisé en ce que</b> les<!-- EPO <DP n="24"> --> systèmes terminaux (221, 222) raccordés à un commutateur (200) tolérant aux erreurs envoient un mélange de messages dépendant des événements, à largeur de bande limitée ou à régulation de temps.</claim-text></claim><claim id="c-fr-01-0008" num="0008"><claim-text>Procédé selon l'une quelconque des revendications 1 à 7, <b>caractérisé en ce qu'</b>a priori des informations de planification sont chargées dans les commutateurs (211, 212, 213, 214) par l'intermédiaire du comportement dans le temps autorisé des systèmes terminaux (221, 222) de sorte qu'un commutateur puisse identifier un comportement erroné dans le temps d'un système terminal.</claim-text></claim><claim id="c-fr-01-0009" num="0009"><claim-text>Procédé selon la revendication 8, <b>caractérisé en ce que</b> les informations de planification a priori sont pourvues au niveau du commutateur d'une signature électronique de l'expéditeur.</claim-text></claim><claim id="c-fr-01-0010" num="0010"><claim-text>Procédé selon la revendication 8 ou 9, <b>caractérisé en ce que</b> les informations de planification a priori au niveau du commutateur sont chiffrées.</claim-text></claim><claim id="c-fr-01-0011" num="0011"><claim-text>Procédé selon l'une quelconque des revendications 8 à 10, <b>caractérisé en ce que</b> les informations de planification a priori peuvent être modifiées de manière dynamique au cours du fonctionnement.</claim-text></claim><claim id="c-fr-01-0012" num="0012"><claim-text>Procédé selon l'une quelconque des revendications 1 à 11, <b>caractérisé en ce que</b> les comparateurs (231, 232, 233, 234) fonctionnent lors du procédé de multiplexage.</claim-text></claim><claim id="c-fr-01-0013" num="0013"><claim-text>Procédé selon l'une quelconque des revendications 1 à 12, <b>caractérisé en ce que</b> les diverses durées de propagation du signal sont<!-- EPO <DP n="25"> --> compensées sur les canaux de communication (251, 252, 253, 254) par les paires de commutateurs (201, 202).</claim-text></claim><claim id="c-fr-01-0014" num="0014"><claim-text>Procédé selon l'une quelconque des revendications 1 à 13, <b>caractérisé en ce que</b> les messages produits et absorbés par les systèmes terminaux correspondent à la norme Ethernet.</claim-text></claim><claim id="c-fr-01-0015" num="0015"><claim-text>Appareil servant à la communication en temps réel à régulation de temps, tolérante aux erreurs constitué d'un ou de plusieurs commutateurs tolérants aux erreurs, qui sont respectivement reliés par l'intermédiaire d'au moins deux canaux de communication, <b>caractérisé en ce que</b> chaque commutateur (200) tolérant aux erreurs comporte deux paires de commutateurs (201, 202), sachant que la première paire de commutateurs (201) comporte un premier commutateur (211) et un deuxième commutateur (213) et que la deuxième paire de commutateurs (202) comporte un troisième commutateur (212) et un quatrième commutateur (214), et sachant que chacun des quatre commutateurs (211, 212, 213, 214) est relié aux trois autres commutateurs par l'intermédiaire des canaux de communication (240, 241), et sachant qu'une pluralité de systèmes terminaux peut être raccordée aux deux paires de commutateurs (201, 202) par l'intermédiaire d'un comparateur dédié associé au système terminal,<br/>
sachant que l'appareil est mis au point de sorte que pour respectivement une copie d'un message à envoyer à un système terminal, lequel message est envoyé par un premier système terminal (221) par l'intermédiaire du premier canal de communication (251) à la première paire de commutateurs (201) et par<!-- EPO <DP n="26"> --> l'intermédiaire du deuxième canal de communication (253) à la deuxième paire de commutateurs (202), le premier comparateur (231) envoie le message entrant au premier commutateur (211) par l'intermédiaire d'un canal de communication (242) et au deuxième commutateur (213) par l'intermédiaire d'un canal de communication (243), et que le troisième comparateur (232) envoie le message entrant par l'intermédiaire d'un canal de communication (246) au troisième commutateur (212) et par l'intermédiaire d'un canal de communication (247) au quatrième commutateur (214), sachant que les quatre commutateurs transmettent les messages entrants, et que si un message est adressé au deuxième système terminal (222), les commutateurs (211, 213) envoient respectivement une copie du message au deuxième comparateur (233) associé au deuxième système terminal (222) par l'intermédiaire de canaux de communication (244, 245), sachant que le deuxième comparateur (233) ouvre directement à réception du premier message dans le temps une fenêtre temporelle de durée D, et que si dans cet intervalle D aucune deuxième copie dudit message ne parvient au deuxième comparateur (233), le deuxième comparateur (233) rejette le message, et que si dans ledit intervalle D une deuxième copie du message arrive, le deuxième comparateur (233) compare de manière binaire les deux messages et que si la comparaison révèle une erreur de bits, il interrompt la transmission des messages et rejette le message, et que si tous les bits dudit message sont identiques, il envoie l'intégralité du message au deuxième système terminal (222) par l'intermédiaire du deuxième canal de<!-- EPO <DP n="27"> --> communication (252), sachant que la deuxième paire de commutateurs (202) procède de la même manière et qu'ainsi dans le cas sans erreur deux copies vérifiées d'un message parviennent au système terminal, et que si une des deux paires de commutateurs (201, 202) est erronée ou identifie une erreur et rejette le message, un message correct parvient tout de même au deuxième système terminal (222), sachant que le commutateur (200) tolérant aux erreurs envoie, en plus des messages reçus par les systèmes terminaux, de manière périodique deux messages de synchronisation générés dans le commutateur (200) à tous les systèmes terminaux raccordés, sachant qu'un message de synchronisation est envoyé par la première paire de commutateurs (201) et que l'autre message de synchronisation est envoyé par la deuxième paire de commutateurs (202), et sachant que le moment de l'arrivée d'un message de synchronisation dans un système terminal correspond au moment qui est contenu dans le champ de données du message de synchronisation.</claim-text></claim></claims><drawings mxw-id="PDW16671822" load-source="patent-office"><!-- EPO <DP n="28"> --><figure id="f0001" num="1,2"><img id="if0001" file="imgf0001.tif" wi="161" he="229" img-content="drawing" img-format="tif"/></figure></drawings><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
