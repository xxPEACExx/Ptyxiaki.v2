<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2055585-B1" country="EP" doc-number="2055585" kind="B1" date="20140108" family-id="40430204" file-reference-id="311885" date-produced="20180826" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146588362" ucid="EP-2055585-B1"><document-id><country>EP</country><doc-number>2055585</doc-number><kind>B1</kind><date>20140108</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-08019073-A" is-representative="YES"><document-id mxw-id="PAPP154850554" load-source="docdb" format="epo"><country>EP</country><doc-number>08019073</doc-number><kind>A</kind><date>20081031</date><lang>EN</lang></document-id><document-id mxw-id="PAPP233654706" load-source="docdb" format="original"><country>EP</country><doc-number>08019073.9</doc-number><date>20081031</date></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140552180" ucid="US-25398208-A" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>25398208</doc-number><kind>A</kind><date>20081019</date></document-id></priority-claim><priority-claim mxw-id="PPC140550351" ucid="US-98526007-P" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>98526007</doc-number><kind>P</kind><date>20071104</date></document-id></priority-claim></priority-claims><dates-of-public-availability><intention-to-grant-date><date>20130722</date></intention-to-grant-date></dates-of-public-availability><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1989325388" load-source="docdb">B60K   1/02        20060101ALI20130624BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1989325389" load-source="docdb">B60K   6/26        20071001ALI20130624BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1989325390" load-source="docdb">B60K   6/365       20071001ALI20130624BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1989325391" load-source="docdb">B60K   6/445       20071001ALI20130624BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1989325392" load-source="docdb">B60K   6/547       20071001ALI20130624BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1989325393" load-source="docdb">B60W  10/06        20060101ALN20130624BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1989325394" load-source="docdb">B60W  10/08        20060101ALN20130624BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1989325395" load-source="docdb">B60W  10/115       20120101ALI20130624BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1989325396" load-source="docdb">B60W  20/00        20060101AFI20130624BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1989325397" load-source="docdb">F16H   3/72        20060101ALI20130624BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1989325398" load-source="docdb">F16H  37/08        20060101ALI20130624BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1989325399" load-source="docdb">F16H  37/10        20060101ALI20130624BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1989650817" load-source="docdb">B60W  10/10        20120101A I20120928RHCN        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1627988457" load-source="docdb" scheme="CPC">B60W  20/00        20130101 LI20180609BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1796781493" load-source="docdb" scheme="CPC">Y02T  10/84        20130101 LA20170627BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1815429375" load-source="docdb" scheme="CPC">B60K   6/26        20130101 LI20170511BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1815429989" load-source="docdb" scheme="CPC">B60W2510/0657      20130101 LA20170510BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1815434564" load-source="docdb" scheme="CPC">B60W  20/10        20130101 FI20170510BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1815434875" load-source="docdb" scheme="CPC">B60W2510/083       20130101 LA20170510BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1815435448" load-source="docdb" scheme="CPC">B60W  50/04        20130101 LI20170510BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989620586" load-source="docdb" scheme="CPC">B60W  10/115       20130101 LI20131122BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989622033" load-source="docdb" scheme="CPC">F16H2037/104       20130101 LA20131122BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989622656" load-source="docdb" scheme="CPC">B60K   6/445       20130101 LI20131122BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989625277" load-source="docdb" scheme="CPC">F16H2037/0866      20130101 LA20131122BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989625576" load-source="docdb" scheme="CPC">B60L2240/425       20130101 LA20131122BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989627152" load-source="docdb" scheme="CPC">Y02T  10/6239      20130101 LA20131118BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989629377" load-source="docdb" scheme="CPC">Y02T  10/56        20130101 LA20131122BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989629676" load-source="docdb" scheme="CPC">B60W2540/10        20130101 LA20131122BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989631426" load-source="docdb" scheme="CPC">B60K   1/02        20130101 LA20131122BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989635634" load-source="docdb" scheme="CPC">B60W2540/12        20130101 LA20131122BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989636318" load-source="docdb" scheme="CPC">F16H2037/102       20130101 LA20131122BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989637479" load-source="docdb" scheme="CPC">Y02T  10/6286      20130101 LA20131122BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989638296" load-source="docdb" scheme="CPC">F16H2037/106       20130101 LA20131122BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989639391" load-source="docdb" scheme="CPC">B60W2710/0644      20130101 LA20131122BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989640877" load-source="docdb" scheme="CPC">Y02T  10/642       20130101 LA20131122BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989643053" load-source="docdb" scheme="CPC">F16H   3/728       20130101 LA20131122BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989645560" load-source="docdb" scheme="CPC">B60W  10/08        20130101 LI20131122BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989646378" load-source="docdb" scheme="CPC">B60W2510/087       20130101 LA20131122BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989646388" load-source="docdb" scheme="CPC">B60K   6/547       20130101 LI20131122BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989648966" load-source="docdb" scheme="CPC">B60K   6/365       20130101 LI20131122BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989649097" load-source="docdb" scheme="CPC">B60W2710/086       20130101 LA20131122BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989651070" load-source="docdb" scheme="CPC">B60W  10/06        20130101 LI20131122BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989651261" load-source="docdb" scheme="CPC">B60W2710/0666      20130101 LA20131122BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989651424" load-source="docdb" scheme="CPC">B60W2510/244       20130101 LA20131122BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132369719" lang="DE" load-source="patent-office">Verfahren zur Drehmomentmaschinentemperatur basierten Steuerung eines Antriebsstrangsystems</invention-title><invention-title mxw-id="PT132369720" lang="EN" load-source="patent-office">Method for controlling a powertrain system based upon torque machine temperature</invention-title><invention-title mxw-id="PT132369721" lang="FR" load-source="patent-office">Procédé de contrôle d'un système de transmission basé sur la température de machine de couple</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR919519123" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>GM GLOBAL TECH OPERATIONS INC</last-name><address><country>US</country></address></addressbook></applicant><applicant mxw-id="PPAR919534646" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>GM Global Technology Operations LLC</last-name></addressbook></applicant><applicant mxw-id="PPAR919525743" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>DAIMLER AG</last-name><address><country>DE</country></address></addressbook></applicant><applicant mxw-id="PPAR919545902" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>DAIMLER AG</last-name></addressbook></applicant><applicant mxw-id="PPAR919524424" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>CHRYSLER LLC</last-name><address><country>US</country></address></addressbook></applicant><applicant mxw-id="PPAR919516573" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>CHRYSLER LLC</last-name></addressbook></applicant><applicant mxw-id="PPAR919504570" load-source="docdb" sequence="4" format="epo"><addressbook><last-name>BAYERISCHE MOTOREN WERKE AG</last-name><address><country>DE</country></address></addressbook></applicant><applicant mxw-id="PPAR919518335" load-source="docdb" sequence="4" format="intermediate"><addressbook><last-name>BAYERISCHE MOTOREN WERKE AKTIENGESELLSCHAFT</last-name></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR919539028" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>HEAP ANTHONY H</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR919541511" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>HEAP, ANTHONY H.</last-name></addressbook></inventor><inventor mxw-id="PPAR919022760" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>HEAP, ANTHONY H.</last-name><address><street>2969 Leslie Park Circle</street><city>Ann Arbor Michigan 48105</city><country>US</country></address></addressbook></inventor></inventors><assignees><assignee mxw-id="PPAR919022763" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>GM Global Technology Operations LLC</last-name><iid>101248150</iid><address><street>300 Renaissance Center</street><city>Detroit, MI 48265-3000</city><country>US</country></address></addressbook></assignee><assignee mxw-id="PPAR919022765" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>Daimler AG</last-name><iid>101005852</iid><address><city>70546 Stuttgart</city><country>DE</country></address></addressbook></assignee><assignee mxw-id="PPAR919022764" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>Chrysler LLC</last-name><iid>101287207</iid><address><street>800 Chrysler Drive</street><city>Auburn Hills, MI 48326-2757</city><country>US</country></address></addressbook></assignee><assignee mxw-id="PPAR919022762" load-source="patent-office" sequence="4" format="original"><addressbook><last-name>Bayerische Motoren Werke Aktiengesellschaft</last-name><iid>100084590</iid><address><street>Petuelring 130</street><city>80788 München</city><country>DE</country></address></addressbook></assignee></assignees><agents><agent mxw-id="PPAR919022761" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Manitz, Finsterwald &amp; Partner GbR</last-name><iid>100060401</iid><address><street>Postfach 31 02 20</street><city>80102 München</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><designated-states><ep-contracting-states><country mxw-id="DS549923692" load-source="docdb">DE</country></ep-contracting-states></designated-states></international-convention-data></bibliographic-data><description mxw-id="PDES63960785" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001">CROSS REFERENCE TO RELATED APPLICATION</heading><heading id="h0002">TECHNICAL FIELD</heading><p id="p0001" num="0001">This disclosure is related to power control within a powertrain system.</p><heading id="h0003">BACKGROUND</heading><p id="p0002" num="0002">The statements in this section merely provide background information related to the present disclosure and may not constitute prior art.</p><p id="p0003" num="0003">Known powertrain architectures include torque-generative devices, including internal combustion engines and electric machines, which transmit torque through a transmission device to an output member. One exemplary powertrain includes a two-mode, compound-split, electro-mechanical transmission which utilizes an input member for receiving motive torque from a prime mover power source, preferably an internal combustion engine, and an output member. The output member can be operatively connected to a driveline for a motor vehicle for transmitting tractive torque thereto. Electric<!-- EPO <DP n="2"> --> machines, operative as motors or generators, generate a torque input to the transmission, independently of a torque input from the internal combustion engine. The electric machines may transform vehicle kinetic energy, transmitted through the vehicle driveline, to electrical energy that is storable in an electrical energy storage device. A control system monitors various inputs from the vehicle and the operator and provides operational control of the powertrain, including controlling transmission operating state and gear shifting, controlling the torque-generative devices, and regulating the electrical power interchange among the electrical energy storage device and the electric machines to manage outputs of the transmission, including torque and rotational speed.</p><p id="p0004" num="0004"><patcit id="pcit0001" dnum="EP1950787A1"><text>EP 1 950 787 A1</text></patcit>, considered the closest Prior Art, relates to a drive system of an AC motor in which a motor current is feedback-controlled. During a regenerative operation of the AC motor, an inverter converts the regenerative power supplied from the AC motor into a DC voltage, which can be used for charging a DC power supply. The AC motor may generate a power exceeding an acceptable power of the input side (DC power supply side) and thereby may generate a surplus power. In this case, an excessively large regenerative power may generate an overvoltage inside the motor drive system. Therefore, a control structure is required that increases power consumption in the AC motor when required, and thereby suppresses the generative power on the input side. The temperatures of a plurality of AC motors are monitored and utilized to distribute the power consumption among the AC motors to suppress the generative power.</p><p id="p0005" num="0005"><patcit id="pcit0002" dnum="GB2290634A"><text>GB 2 290 634 A</text></patcit> teaches an asynchronous motor speed-regulation system which is temperature-compensated and adjusted to the actual rotor temperature by calculation of the motor torque actually, developed at a predetermined reference temperature. The calculated torque is compared with an error signal which is the difference between the actual and desired speed of the rotor. The comparison provides an actual rotor temperature which is used to compensate the error signal.</p><p id="p0006" num="0006"><patcit id="pcit0003" dnum="JP11027806A"><text>JP 11027806 A</text></patcit> relates to a device, which operates a motor installed on the drive system of an engine and also serving as a generator, using the decelerating energy of a vehicle for charging a battery. This device is also provided with a control means, which controls the developed and absorbed torque of the motor, and a temperature sensor which detects the temperature of the motor. The developed and absorbed torque of the motor is controlled according to the temperature detected by the temperature sensor.</p><p id="p0007" num="0007"><patcit id="pcit0004" dnum="JP2007244072A"><text>JP 2007244072 A</text></patcit> provides a motor drive controller wherein temperature rise due to the overload operation of a motor is more reliably prevented. The solution lies in that in certain temperature ranges, a torque limit value is set so as to limit output torque based on motor temperature, and in another temperature range, the torque output of the motor is inhibited.</p><heading id="h0004">SUMMARY</heading><p id="p0008" num="0008">A powertrain system includes an engine coupled to an input member of a transmission device operative to transmit torque between the input member and a torque machine and an output member. The torque machine is connected to an energy storage device. A method of the invention for controlling the powertrain system includes monitoring a temperature of the torque machine, selecting a candidate powertrain system operating point, determining an electrical power input and a motor power output of the torque machine for the candidate powertrain system operating point, determining a power loss for the torque machine associated with the motor power output of the torque machine and the electrical power input, and determining operating costs for operating the powertrain system at the candidate powertrain system operating point<!-- EPO <DP n="3"> --><!-- EPO <DP n="4"> --> associated with the power loss from the torque machine and based upon the temperature of the torque machine.</p><heading id="h0005">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p0009" num="0009">One or more embodiments will now be described, by way of example, with reference to the accompanying drawings, in which:</p><p id="p0010" num="0010"><figref idrefs="f0001">Fig. 1</figref> is a schematic diagram of an exemplary hybrid powertrain, in accordance with the present disclosure;</p><p id="p0011" num="0011"><figref idrefs="f0002">Fig. 2</figref> is a schematic diagram of an exemplary architecture for a control system and hybrid powertrain, in accordance with the present disclosure;</p><p id="p0012" num="0012"><figref idrefs="f0003 f0004 f0005 f0006 f0007 f0008 f0009 f0010 f0011">Figs. 3 -9</figref> are schematic flow diagrams of a control scheme, in accordance with the present disclosure;</p><p id="p0013" num="0013"><figref idrefs="f0012">Fig. 10</figref> is a schematic power flow diagram, in accordance with the present disclosure; and</p><p id="p0014" num="0014"><figref idrefs="f0013 f0014">Figs. 11-12</figref> depict a penalty cost determination scheme in accordance with the present disclosure.</p><heading id="h0006">DETAILED DESCRIPTION</heading><p id="p0015" num="0015">Referring now to the drawings, wherein the showings are for the purpose of illustrating certain exemplary embodiments only and not for the purpose of limiting the same, <figref idrefs="f0001">Figs. 1</figref> and <figref idrefs="f0002">2</figref> depict an exemplary hybrid powertrain system. The exemplary hybrid powertrain system in accordance with the present disclosure is depicted in <figref idrefs="f0001">Fig. 1</figref>, comprising a two-mode, compound-split, electro-mechanical hybrid transmission 10 operatively<!-- EPO <DP n="5"> --> connected to an engine 14 and torque machines comprising first and second electric machines ('MG-A') 56 and ('MG-B') 72. The engine 14 and first and second electric machines 56 and 72 each generate mechanical power which can be transferred to the transmission 10. The power generated by the engine 14 and the first and second electric machines 56 and 72 and transferred to the transmission 10 is described in terms of input and motor torques, referred to herein as T<sub>I</sub>, T<sub>A</sub>, and T<sub>B</sub> respectively, and speed, referred to herein as N<sub>I</sub>, N<sub>A</sub>, and N<sub>B</sub>, respectively.</p><p id="p0016" num="0016">The exemplary engine 14 comprises a multi-cylinder internal combustion engine selectively operative in several states to transfer torque to the transmission 10 via an input shaft 12, and can be either a spark-ignition or a compression-ignition engine. The engine 14 includes a crankshaft (not shown) operatively coupled to the input shaft 12 of the transmission 10. A rotational speed sensor 11 monitors rotational speed of the input shaft 12. Power output from the engine 14, comprising rotational speed and engine torque, can differ from the input speed N<sub>I</sub> and the input torque T<sub>I</sub> to the transmission 10 due to placement of torque-consuming components on the input shaft 12 between the engine 14 and the transmission 10, e.g., a hydraulic pump (not shown) and/or a torque management device (not shown).</p><p id="p0017" num="0017">The exemplary transmission 10 comprises three planetary-gear sets 24, 26 and 28, and four selectively engageable torque-transferring devices, i.e., clutches C1 70, C2 62, C3 73, and C4 75. As used herein, clutches refer to any type of friction torque transfer device including single or compound plate clutches or packs, band clutches, and brakes, for example. A hydraulic control circuit 42, preferably controlled by a transmission control module (hereafter<!-- EPO <DP n="6"> --> 'TCM') 17, is operative to control clutch states. Clutches C2 62 and C4 75 preferably comprise hydraulically-applied rotating friction clutches. Clutches C1 70 and C3 73 preferably comprise hydraulically-controlled stationary devices that can be selectively grounded to a transmission case 68. Each of the clutches C1 70, C2 62, C3 73, and C4 75 is preferably hydraulically applied, selectively receiving pressurized hydraulic fluid via the hydraulic control circuit 42.</p><p id="p0018" num="0018">The first and second electric machines 56 and 72 preferably comprise three-phase AC machines, each including a stator (not shown) and a rotor (not shown), and respective resolvers 80 and 82. The motor stator for each machine is grounded to an outer portion of the transmission case 68, and includes a stator core with coiled electrical windings extending therefrom. The rotor for the first electric machine 56 is supported on a hub plate gear that is operatively attached to shaft 60 via the second planetary gear set 26. The rotor for the second electric machine 72 is fixedly attached to a sleeve shaft hub 66.</p><p id="p0019" num="0019">Each of the resolvers 80 and 82 preferably comprises a variable reluctance device including a resolver stator (not shown) and a resolver rotor (not shown). The resolvers 80 and 82 are appropriately positioned and assembled on respective ones of the first and second electric machines 56 and 72. Stators of respective ones of the resolvers 80 and 82 are operatively connected to one of the stators for the first and second electric machines 56 and 72. The resolver rotors are operatively connected to the rotor for the corresponding first and second electric machines 56 and 72. Each of the resolvers 80 and 82 is signally and operatively connected to a transmission<!-- EPO <DP n="7"> --> power inverter control module (hereafter 'TPIM') 19, and each senses and monitors rotational position of the resolver rotor relative to the resolver stator, thus monitoring rotational position of respective ones of first and second electric machines 56 and 72. Additionally, the signals output from the resolvers 80 and 82 are interpreted to provide the rotational speeds for first and second electric machines 56 and 72, i.e., N<sub>A</sub> and N<sub>B</sub>, respectively.</p><p id="p0020" num="0020">The transmission 10 includes an output member 64, e.g. a shaft, which is operably connected to a driveline 90 for a vehicle (not shown), to provide output power to the driveline 90 that is transferred to vehicle wheels 93, one of which is shown in <figref idrefs="f0001">Fig. 1</figref>. The output power at the output member 64 is characterized in terms of an output rotational speed No and an output torque To. A transmission output speed sensor 84 monitors rotational speed and rotational direction of the output member 64. Each of the vehicle wheels 93 is preferably equipped with a friction brake 94 and a sensor (not shown) adapted to monitor wheel speed, the output of which is monitored by a control module of a distributed control module system described with respect to <figref idrefs="f0002">Fig. 2</figref>, to determine vehicle speed, and absolute and relative wheel speeds for braking control, traction control, and vehicle acceleration management.</p><p id="p0021" num="0021">The input torque from the engine 14 and the motor torques from the first and second electric machines 56 and 72 (T<sub>I</sub>, T<sub>A</sub>, and T<sub>B</sub> respectively) are generated as a result of energy conversion from fuel or electrical potential stored in an electrical energy storage device (hereafter 'ESD') 74. The ESD 74 is high voltage DC-coupled to the TPIM 19 via DC transfer conductors 27. The transfer conductors 27 include a contactor switch 38. When the contactor switch 38 is closed, under normal operation, electric current can flow between<!-- EPO <DP n="8"> --> the ESD 74 and the TPIM 19. When the contactor switch 38 is opened electric current flow between the ESD 74 and the TPIM 19 is interrupted. The TPIM 19 transmits electrical power to and from the first electric machine 56 by transfer conductors 29, and the TPIM 19 similarly transmits electrical power to and from the second electric machine 72 by transfer conductors 31 to meet the torque commands for the first and second electric machines 56 and 72 in response to the motor torque commands T<sub>A</sub> and T<sub>B</sub>. Electrical current is transmitted to and from the ESD 74 in accordance with whether the ESD 74 is being charged or discharged.</p><p id="p0022" num="0022">The TPIM 19 includes the pair of power inverters (not shown) and respective motor control modules (not shown) configured to receive the motor torque commands and control inverter states therefrom for providing motor drive or regeneration functionality to meet the commanded motor torques T<sub>A</sub> and T<sub>B</sub>. The power inverters comprise known complementary three-phase power electronics devices, and each includes a plurality of insulated gate bipolar transistors (not shown) for converting DC power from the ESD 74 to AC power for powering respective ones of the first and second electric machines 56 and 72, by switching at high frequencies. The insulated gate bipolar transistors form a switch mode power supply configured to receive control commands. There is typically one pair of insulated gate bipolar transistors for each phase of each of the three-phase electric machines. States of the insulated gate bipolar transistors are controlled to provide motor drive mechanical power generation or electric power regeneration functionality. The three-phase inverters receive or supply DC electric power via DC transfer conductors 27 and transform it to or from three-phase AC power, which is<!-- EPO <DP n="9"> --> conducted to or from the first and second electric machines 56 and 72 for operation as motors or generators via transfer conductors 29 and 31 respectively.</p><p id="p0023" num="0023"><figref idrefs="f0002">Fig. 2</figref> is a schematic block diagram of the distributed control module system. The elements described hereinafter comprise a subset of an overall vehicle control architecture, and provide coordinated system control of the exemplary hybrid powertrain described in <figref idrefs="f0001">Fig. 1</figref>. The distributed control module system synthesizes pertinent information and inputs, and executes algorithms to control various actuators to meet control objectives, including objectives related to fuel economy, emissions, performance, drivability, and protection of hardware, including batteries of ESD 74 and the first and second electric machines 56 and 72. The distributed control module system includes an engine control module (hereafter 'ECM') 23, the TCM 17, a battery pack control module (hereafter 'BPCM') 21, and the TPIM 19. A hybrid control module (hereafter 'HCP') 5 provides supervisory control and coordination of the ECM 23, the TCM 17, the BPCM 21, and the TPIM 19. A user interface ('UI') 13 is operatively connected to a plurality of devices through which a vehicle operator controls or directs operation of the electro-mechanical hybrid powertrain. The devices include an accelerator pedal 113 ('AP'), an operator brake pedal 112 ('BP'), a transmission gear selector 114 ('PRNDL'), and a vehicle speed cruise control (not shown). The transmission gear selector 114 may have a discrete number of operator-selectable positions, including the rotational direction of the output member 64 to enable one of a forward and a reverse direction.<!-- EPO <DP n="10"> --></p><p id="p0024" num="0024">The aforementioned control modules communicate with other control modules, sensors, and actuators via a local area network (hereafter 'LAN') bus 6. The LAN bus 6 allows for structured communication of states of operating parameters and actuator command signals between the various control modules. The specific communication protocol utilized is application-specific. The LAN bus 6 and appropriate protocols provide for robust messaging and multi-control module interfacing between the aforementioned control modules, and other control modules providing functionality including e.g., antilock braking, traction control, and vehicle stability. Multiple communications buses may be used to improve communications speed and provide some level of signal redundancy and integrity. Communication between individual control modules can also be effected using a direct link, e.g., a serial peripheral interface ('SPI') bus (not shown).</p><p id="p0025" num="0025">The HCP 5 provides supervisory control of the hybrid powertrain, serving to coordinate operation of the ECM 23, TCM 17, TPIM 19, and BPCM 21. Based upon various input signals from the user interface 13 and the hybrid powertrain, including the ESD 74, the HCP 5 determines an operator torque request, an output torque command, an engine input torque command, clutch torque(s) for the applied torque-transfer clutches C1 70, C2 62, C3 73, C4 75 of the transmission 10, and the motor torque commands T<sub>A</sub> and T<sub>B</sub> for the first and second electric machines 56 and 72.</p><p id="p0026" num="0026">The ECM 23 is operatively connected to the engine 14, and functions to acquire data from sensors and control actuators of the engine 14 over a plurality of discrete lines, shown for simplicity as an aggregate bi-directional interface cable 35. The ECM 23 receives the engine input torque command<!-- EPO <DP n="11"> --> from the HCP 5. The ECM 23 determines the actual engine input torque, T<sub>I</sub>, provided to the transmission 10 at that point in time based upon monitored engine speed and load, which is communicated to the HCP 5. The ECM 23 monitors input from the rotational speed sensor 11 to determine the engine input speed to the input shaft 12, which translates to the transmission input speed, N<sub>I</sub>. The ECM 23 monitors inputs from sensors (not shown) to determine states of other engine operating parameters including, e.g., a manifold pressure, engine coolant temperature, ambient air temperature, and ambient pressure. The engine load can be determined, for example, from the manifold pressure, or alternatively, from monitoring operator input to the accelerator pedal 113. The ECM 23 generates and communicates command signals to control engine actuators, including, e.g., fuel injectors, ignition modules, and throttle control modules, none of which are shown.</p><p id="p0027" num="0027">The TCM 17 is operatively connected to the transmission 10 and monitors inputs from sensors (not shown) to determine states of transmission operating parameters. The TCM 17 generates and communicates command signals to control the transmission 10, including controlling the hydraulic control circuit 42. Inputs from the TCM 17 to the HCP 5 include estimated clutch torques for each of the clutches, i.e., C1 70, C2 62, C3 73, and C4 75, and rotational output speed, No, of the output member 64. Other actuators and sensors may be used to provide additional information from the TCM 17 to the HCP 5 for control purposes. The TCM 17 monitors inputs from pressure switches (not shown) and selectively actuates pressure control solenoids (not shown) and shift solenoids (not shown) of the hydraulic control circuit 42 to<!-- EPO <DP n="12"> --> selectively actuate the various clutches C1 70, C2 62, C3 73, and C4 75 to achieve various transmission operating range states, as described hereinbelow.</p><p id="p0028" num="0028">The BPCM 21 is signally connected to sensors (not shown) to monitor the ESD 74, including states of electrical current and voltage parameters, to provide information indicative of parametric states of the batteries of the ESD 74 to the HCP 5. The parametric states of the batteries preferably include battery state-of-charge, battery voltage, battery temperature, and available battery power, referred to as a range P<sub>BAT_MIN</sub> to P<sub>BAT_MAX</sub>.</p><p id="p0029" num="0029">A brake control module (hereafter 'BrCM') 22 is operatively connected to the friction brakes 94 on each of the vehicle wheels 93. The BrCM 22 monitors the operator input to the brake pedal 112 and generates control signals to control the friction brakes 94 and sends a control signal to the HCP 5 to operate the first and second electric machines 56 and 72 based thereon, to effect vehicle braking through a process referred to as blended braking.</p><p id="p0030" num="0030">Each of the control modules ECM 23, TCM 17, TPIM 19, BPCM 21, and BrCM 22 is preferably a general-purpose digital computer comprising a microprocessor or central processing unit, storage mediums comprising read only memory ('ROM'), random access memory ('RAM'), electrically programmable read only memory ('EPROM'), a high speed clock, analog to digital ('A/D') and digital to analog ('D/A') circuitry, and input/output circuitry and devices ('I/O') and appropriate signal conditioning and buffer circuitry. Each of the control modules has a set of control algorithms, comprising resident program instructions and calibrations stored in one of the storage mediums and executed to provide the respective functions of each<!-- EPO <DP n="13"> --> computer. Information transfer between the control modules is preferably accomplished using the LAN bus 6 and SPI buses. The control algorithms are executed during preset loop cycles such that each algorithm is executed at least once each loop cycle. Algorithms stored in the non-volatile memory devices are executed by one of the central processing units to monitor inputs from the sensing devices and execute control and diagnostic routines to control operation of the actuators, using preset calibrations. Loop cycles are executed at regular intervals, for example each 3.125, 6.25, 12.5, 25 and 100 milliseconds during ongoing operation of the hybrid powertrain. Alternatively, algorithms may be executed in response to the occurrence of an event.</p><p id="p0031" num="0031">The exemplary hybrid powertrain selectively operates in one of several states that can be described in terms of engine states comprising one of an engine-on state ('ON') and an engine-off state ('OFF'), and transmission operating range states comprising a plurality of fixed gears and continuously variable operating modes, described with reference to Table 1, below.<!-- EPO <DP n="14"> -->
<tables id="tabl0001" num="0001"><table frame="topbot"><title>Table 1</title><tgroup cols="5" colsep="0"><colspec colnum="1" colname="col1" colwidth="23mm"/><colspec colnum="2" colname="col2" colwidth="23mm"/><colspec colnum="3" colname="col3" colwidth="57mm"/><colspec colnum="4" colname="col4" colwidth="14mm"/><colspec colnum="5" colname="col5" colwidth="14mm"/><thead><row><entry valign="top">Description</entry><entry valign="top">Engine State</entry><entry valign="top">Transmission Operating Range State</entry><entry namest="col4" nameend="col5" align="center" valign="middle">Applied Clutches</entry></row></thead><tbody><row><entry>M1_Eng_Off</entry><entry>OFF</entry><entry>EVT Mode 1</entry><entry>C1 70</entry><entry/></row><row><entry>M1_Eng_On</entry><entry>ON</entry><entry>EVT Mode 1</entry><entry>C1 70</entry><entry/></row><row><entry>G1</entry><entry>ON</entry><entry>Fixed Gear Ratio 1</entry><entry>C1 70</entry><entry>C4 75</entry></row><row><entry>G2</entry><entry>ON</entry><entry>Fixed Gear Ratio 2</entry><entry>C1 70</entry><entry>C2 62</entry></row><row><entry>M2_Eng_Off</entry><entry>OFF</entry><entry>EVT Mode 2</entry><entry>C2 62</entry><entry/></row><row><entry>M2_Eng_On</entry><entry>ON</entry><entry>EVT Mode 2</entry><entry>C2 62</entry><entry/></row><row><entry>G3</entry><entry>ON</entry><entry>Fixed Gear Ratio 3</entry><entry>C2 62</entry><entry>C4 75</entry></row><row><entry>G4</entry><entry>ON</entry><entry>Fixed Gear Ratio 4</entry><entry>C2 62</entry><entry>C3 73</entry></row></tbody></tgroup></table></tables></p><p id="p0032" num="0032">Each of the transmission operating range states is described in the table and indicates which of the specific clutches C1 70, C2 62, C3 73, and C4 75 are applied for each of the operating range states. A first continuously variable mode, i.e., EVT Mode 1, or M1, is selected by applying clutch C1 70 only in order to "ground" the outer gear member of the third planetary gear set 28. The engine state can be one of ON ('M1_Eng_On') or OFF ('M1_Eng_Off'). A second continuously variable mode, i.e., EVT Mode 2, or M2, is selected by applying clutch C2 62 only to connect the shaft 60 to the carrier of the third planetary gear set 28. The engine state can be one of ON ('M2_Eng_On') or OFF ('M2_Eng_Off'). For purposes of this description, when the engine state is OFF, the engine input speed is equal to zero revolutions per minute ('RPM'), i.e., the engine crankshaft is not rotating. A fixed gear operation provides a fixed ratio operation of input-to-output speed of the transmission 10, i.e., N<sub>I</sub>/N<sub>O</sub>. A first fixed gear operation ('G1') is selected by applying clutches C1 70 and C4 75. A second fixed gear operation<!-- EPO <DP n="15"> --> ('G2') is selected by applying clutches C1 70 and C2 62. A third fixed gear operation ('G3') is selected by applying clutches C2 62 and C4 75. A fourth fixed gear operation ('G4') is selected by applying clutches C2 62 and C3 73. The fixed ratio operation of input-to-output speed increases with increased fixed gear operation due to decreased gear ratios in the planetary gears 24, 26, and 28. The rotational speeds of the first and second electric machines 56 and 72, N<sub>A</sub> and N<sub>B</sub> respectively, are dependent on internal rotation of the mechanism as defined by the clutching and are proportional to the input speed measured at the input shaft 12.</p><p id="p0033" num="0033">In response to operator input via the accelerator pedal 113 and brake pedal 112 as captured by the user interface 13, the HCP 5 and one or more of the other control modules determine torque commands to control the torque generative devices comprising the engine 14 and the first and second electric machines 56 and 72 to meet the operator torque request at the output member 64 and transferred to the driveline 90. Based upon input signals from the user interface 13 and the hybrid powertrain including the ESD 74, the HCP 5 determines the operator torque request, a commanded output torque from the transmission 10 to the driveline 90, an input torque from the engine 14, clutch torques for the torque-transfer clutches C1 70, C2 62, C3 73, C4 75 of the transmission 10; and the motor torques for the first and second electric machines 56 and 72, respectively, as is described hereinbelow.</p><p id="p0034" num="0034">Final vehicle acceleration can be affected by other factors including, e.g., road load, road grade, and vehicle mass. The engine state and the transmission operating range state are determined based upon a variety of operating characteristics of the hybrid powertrain. This includes the operator<!-- EPO <DP n="16"> --> torque request communicated through the accelerator pedal 113 and brake pedal 112 to the user interface 13 as previously described. The transmission operating range state and the engine state may be predicated on a hybrid powertrain torque demand caused by a command to operate the first and second electric machines 56 and 72 in an electrical energy generating mode or in a torque generating mode. The transmission operating range state and the engine state can be determined by an optimization algorithm or routine which determines optimum system efficiency based upon operator demand for power, battery state of charge, and energy efficiencies of the engine 14 and the first and second electric machines 56 and 72. The control system manages torque inputs from the engine 14 and the first and second electric machines 56 and 72 based upon an outcome of the executed optimization routine, and system efficiencies are optimized thereby, to manage fuel economy and battery charging. Furthermore, operation can be determined based upon a fault in a component or system. The HCP 5 monitors the torque-generative devices, and determines the power output from the transmission 10 at output member 64 that is required to meet the operator torque request while meeting other powertrain operating demands, e.g., charging the ESD 74. As should be apparent from the description above, the ESD 74 and the first and second electric machines 56 and 72 are electrically-operatively coupled for power flow therebetween. Furthermore, the engine 14, the first and second electric machines 56 and 72, and the electro-mechanical transmission 10 are mechanically-operatively coupled to transfer power therebetween to generate a power flow to the output member 64.<!-- EPO <DP n="17"> --></p><p id="p0035" num="0035"><figref idrefs="f0003">Fig. 3</figref> shows a control system architecture for controlling and managing signal flow in a hybrid powertrain system having multiple torque generative devices, described hereinbelow with reference to the hybrid powertrain system of <figref idrefs="f0001">Figs. 1</figref> and <figref idrefs="f0002">2</figref>, and residing in the aforementioned control modules in the form of executable algorithms and calibrations. The control system architecture is applicable to alternative hybrid powertrain systems having multiple torque generative devices, including, e.g., a hybrid powertrain system having an engine and a single electric machine, a hybrid powertrain system having an engine and multiple electric machines. Alternatively, the hybrid powertrain system can utilize non-electric torque-generative machines and energy storage systems, e.g., hydraulic-mechanical hybrid transmissions (not shown).</p><p id="p0036" num="0036">In operation, the operator inputs to the accelerator pedal 113 and the brake pedal 112 are monitored to determine the operator torque request. The operator inputs to the accelerator pedal 113 and the brake pedal 112 comprise individually determinable operator torque request inputs including an immediate accelerator output torque request ('Output Torque Request Accel Immed'), a predicted accelerator output torque request ('Output Torque Request Accel Prdtd'), an immediate brake output torque request ('Output Torque Request Brake Immed'), a predicted brake output torque request ('Output Torque Request Brake Prdtd') and an axle torque response type ('Axle Torque Response Type'). As used herein, the term 'accelerator' refers to an operator request for forward propulsion preferably resulting in increasing vehicle speed over the present vehicle speed, when the operator<!-- EPO <DP n="18"> --> selected position of the transmission gear selector 114 commands operation of the vehicle in the forward direction. The terms 'deceleration' and 'brake' refer to an operator request preferably resulting in decreasing vehicle speed from the present vehicle speed. The immediate accelerator output torque request, the predicted accelerator output torque request, the immediate brake output torque request, the predicted brake output torque request, and the axle torque response type are individual inputs to the control system. Additionally, operation of the engine 14 and the transmission 10 are monitored to determine the input speed ('Ni') and the output speed ('No').</p><p id="p0037" num="0037">The immediate accelerator output torque request comprises an immediate torque request determined based upon the operator input to the accelerator pedal 113. The control system controls the output torque from the hybrid powertrain system in response to the immediate accelerator output torque request to cause positive acceleration of the vehicle. The immediate brake output torque request comprises an immediate braking request determined based upon the operator input to the brake pedal 112. The control system controls the output torque from the hybrid powertrain system in response to the immediate brake output torque request to cause deceleration, or negative acceleration, of the vehicle. Vehicle deceleration effected by control of the output torque from the hybrid powertrain system is combined with vehicle deceleration effected by a vehicle braking system (not shown) to decelerate the vehicle to achieve the immediate braking request.</p><p id="p0038" num="0038">The immediate accelerator output torque request is determined based upon a presently occurring operator input to the accelerator pedal 113,<!-- EPO <DP n="19"> --> and comprises a request to generate an immediate output torque at the output member 64 preferably to accelerate the vehicle. The immediate accelerator output torque request is unshaped, but can be shaped by events that affect vehicle operation outside the powertrain control. Such events include vehicle level interruptions in the powertrain control for antilock braking, traction control and vehicle stability control, which can be used to unshape or rate-limit the immediate accelerator output torque request.</p><p id="p0039" num="0039">The predicted accelerator output torque request is determined based upon the operator input to the accelerator pedal 113 and comprises an optimum or preferred output torque at the output member 64. The predicted accelerator output torque request is preferably equal to the immediate accelerator output torque request during normal operating conditions, e.g., when any one of antilock braking, traction control, or vehicle stability is not being commanded. When any one of antilock braking, traction control or vehicle stability is being commanded the predicted accelerator output torque request remains the preferred output torque with the immediate accelerator output torque request being decreased in response to output torque commands related to the antilock braking, traction control, or vehicle stability control.</p><p id="p0040" num="0040">The immediate brake output torque request is determined based upon the operator input to the brake pedal 112 and the control signal to control the friction brakes 94 to generate friction braking torque.</p><p id="p0041" num="0041">The predicted brake output torque request comprises an optimum or preferred brake output torque at the output member 64 in response to an<!-- EPO <DP n="20"> --> operator input to the brake pedal 112 subject to a maximum brake output torque generated at the output member 64 allowable regardless of the operator input to the brake pedal 112. In one embodiment the maximum brake output torque generated at the output member 64 is limited to -0.2g. The predicted brake output torque request can be phased out to zero when vehicle speed approaches zero regardless of the operator input to the brake pedal 112. As desired by a user, there can be operating conditions under which the predicted brake output torque request is set to zero, e.g., when the operator setting to the transmission gear selector 114 is set to a reverse gear, and when a transfer case (not shown) is set to a four-wheel drive low range. The operating conditions whereat the predicted brake output torque request is set to zero are those in which blended braking is not preferred due to vehicle operating factors.</p><p id="p0042" num="0042">The axle torque response type comprises an input state for shaping and rate-limiting the output torque response through the first and second electric machines 56 and 72. The input state for the axle torque response type can be an active state, preferably comprising one of a pleasability limited state a maximum range state, and an inactive state. When the commanded axle torque response type is the active state, the output torque command is the immediate output torque. Preferably the torque response for this response type is as fast as possible.</p><p id="p0043" num="0043">Blended braking includes generating friction braking torque at the wheels 93 and generating output torque at the output member 64 to react with the driveline 90 to decelerate the vehicle in response to the operator input to the brake pedal 112. The BrCM 22 commands the friction brakes 94 to apply braking torque and generates a command for the transmission 10 to create a<!-- EPO <DP n="21"> --> negative output torque which reacts with the driveline 90 in response to the immediate braking request. Preferably the applied braking torque and the negative output torque can decelerate and stop the vehicle so long as they are sufficient to overcome vehicle kinetic power at wheel(s) 93. The negative output torque reacts with the driveline 90, thus transferring torque to the electro-mechanical transmission 10 and the engine 14. The negative output torque reacted through the electro-mechanical transmission 10 can be transferred to one or both of the first and second electric machines 56 and 72 to generate electric power for storage in the ESD 74.</p><p id="p0044" num="0044">A strategic optimization control scheme ('Strategic Control') 310 determines a preferred input speed ('Ni_Des') and a preferred engine state and transmission operating range state ('Hybrid Range State Des') based upon the output speed and the operator torque request and based upon other operating parameters of the hybrid powertrain, including battery power limits and response limits of the engine 14, the transmission 10, and the first and second electric machines 56 and 72. The predicted accelerator output torque request and the predicted brake output torque request are input to the strategic optimization control scheme 310. The strategic optimization control scheme 310 is preferably executed by the HCP 5 during each 100 ms loop cycle and each 25 ms loop cycle. The desired operating range state for the transmission 10 and the desired input speed from the engine 14 to the transmission 10 are inputs to the shift execution and engine start/stop control scheme 320.</p><p id="p0045" num="0045">The shift execution and engine start/stop control scheme 320 commands changes in the transmission operation ('Transmission Commands')<!-- EPO <DP n="22"> --> including changing the operating range state based upon the inputs and operation of the powertrain system. This includes commanding execution of a change in the transmission operating range state if the preferred operating range state is different from the present operating range state by commanding changes in application of one or more of the clutches C1 70, C2 62, C3 73, and C4 75 and other transmission commands. The present operating range state ('Hybrid Range State Actual') and an input speed profile ('Ni_Prof) can be determined. The input speed profile is an estimate of an upcoming input speed and preferably comprises a scalar parametric value that is a targeted input speed for the forthcoming loop cycle. The engine operating commands and the operator torque request are based upon the input speed profile during a transition in the operating range state of the transmission.</p><p id="p0046" num="0046">A tactical control scheme ('Tactical Control and Operation') 330 is repeatedly executed during one of the control loop cycles to determine engine commands ('Engine Commands') for operating the engine 14, including a preferred input torque from the engine 14 to the transmission 10 based upon the output speed, the input speed, and the operator torque request comprising the immediate accelerator output torque request, the predicted accelerator output torque request, the immediate brake output torque request, the predicted brake output torque request, the axle torque response type, and the present operating range state for the transmission. The engine commands also include engine states including one of an all-cylinder operating state and a cylinder deactivation operating state wherein a portion of the engine cylinders are deactivated and unfueled, and engine states including one of a fueled state and a fuel cutoff state. An engine command comprising the preferred input torque<!-- EPO <DP n="23"> --> of the engine 14 and a present input torque ('Ti') reacting between the engine 14 and the input member 12 are preferably determined in the ECM 23. Clutch torques ('Tcl') for each of the clutches C1 70, C2 62, C3 73, and C4 75, including the presently applied clutches and the non-applied clutches are estimated, preferably in the TCM 17.</p><p id="p0047" num="0047">An output and motor torque determination scheme ('Output and Motor Torque Determination') 340 is executed to determine the preferred output torque from the powertrain ('To_cmd'). This includes determining motor torque commands ('T<sub>A</sub>', 'T<sub>B</sub>') to transfer a net commanded output torque to the output member 64 of the transmission 10 that meets the operator torque request, by controlling the first and second electric machines 56 and 72 in this embodiment. The immediate accelerator output torque request, the immediate brake output torque request, the present input torque from the engine 14 and the estimated applied clutch torque(s), the present operating range state of the transmission 10, the input speed, the input speed profile, and the axle torque response type are inputs. The output and motor torque determination scheme 340 executes to determine the motor torque commands during each iteration of one of the loop cycles. The output and motor torque determination scheme 340 includes algorithmic code which is regularly executed during the 6.25 ms and 12.5 ms loop cycles to determine the preferred motor torque commands.</p><p id="p0048" num="0048">The hybrid powertrain is controlled to transfer the output torque to the output member 64 to react with the driveline 90 to generate tractive torque at wheel(s) 93 to forwardly propel the vehicle in response to the operator input<!-- EPO <DP n="24"> --> to the accelerator pedal 113 when the operator selected position of the transmission gear selector 114 commands operation of the vehicle in the forward direction. Similarly, the hybrid powertrain is controlled to transfer the output torque to the output member 64 to react with the driveline 90 to generate tractive torque at wheel(s) 93 to propel the vehicle in a reverse direction in response to the operator input to the accelerator pedal 113 when the operator selected position of the transmission gear selector 114 commands operation of the vehicle in the reverse direction. Preferably, propelling the vehicle results in vehicle acceleration so long as the output torque is sufficient to overcome external loads on the vehicle, e.g., due to road grade, aerodynamic loads, and other loads.</p><p id="p0049" num="0049"><figref idrefs="f0004">Fig. 4</figref> details signal flow in the tactical control scheme ('Tactical Control and Operation') 330 for controlling operation of the engine 14, described with reference to the hybrid powertrain system of <figref idrefs="f0001">Figs. 1</figref> and <figref idrefs="f0002">2</figref> and the control system architecture of <figref idrefs="f0003">Figs. 3</figref> and <figref idrefs="f0004">4</figref>. The tactical control scheme 330 includes a tactical optimization control path 350 and a system constraints control path 360 which are preferably executed concurrently. The outputs of the tactical optimization control path 350 are input to an engine state control scheme 370. The outputs of the engine state control scheme 370 and the system constraints control path 360 are input to an engine response type determination scheme ('Engine Response Type Determination') 380 for controlling the engine state, the immediate engine torque request, the predicted engine torque request, and the engine response type.<!-- EPO <DP n="25"> --></p><p id="p0050" num="0050">The input from the engine 14 can be described in terms of an engine operating point including engine speed and engine torque which can be converted into the input speed and input torque which react with the input member from the transmission 10. When the engine 14 comprises a spark-ignition engine, a change in the engine operating point can be effected by changing mass of intake air to the engine 14, by controlling position of an engine throttle (not shown) utilizing an electronic throttle control system (not shown), including opening the engine throttle to increase engine torque and closing the engine throttle to decrease engine torque. Changes in the engine operating point can be effected by adjusting ignition timing, including retarding spark timing from a mean-best-torque spark timing to decrease engine torque. When the engine 14 comprises a compression-ignition engine, the engine operating point is controlled by controlling the mass of injected fuel and adjusted by retarding injection timing from a mean-best-torque injection timing to decrease the engine torque. The engine operating point can also be changed to effect a change in the input torque by controlling the engine state between the all-cylinder state and the cylinder deactivation state, and, by controlling the engine state between the engine-fueled state and the fuel cutoff state wherein the engine is rotating and unfueled.</p><p id="p0051" num="0051">The tactical optimization control path 350 acts on substantially steady-state inputs to select a preferred engine state and to determine a preferred input torque from the engine 14 to the transmission 10. The tactical optimization control path 350 includes an optimization scheme ('Tactical Optimization') 354 to determine preferred input torques for operating the<!-- EPO <DP n="26"> --> engine 14 in the all-cylinder state ('Input Torque Full'), in the cylinder deactivation state ('Input Torque Deac'), the all-cylinder state with fuel cutoff ('Input Torque Full FCO'), in the cylinder deactivation state with fuel cutoff ('Input Torque Deac FCO'), and a preferred engine state ('Preferred Engine State'). Inputs to the optimization scheme 354 include a lead operating range state of the transmission 10 ('Lead Hybrid Range State') a lead predicted input acceleration profile ('Lead Input Acceleration Profile Predicted') and a predicted range of clutch reactive torques ('Predicted Clutch Reactive Torque Min/Max') across each applied clutch in the lead operating range state, which are preferably generated in the shift execution and engine start/stop control scheme 320. Further inputs include predicted electric power limits ('Predicted Battery Power Limits'), a predicted accelerator output torque request ('Output Torque Request Accel Prdtd') and a predicted brake output torque request ('Output Torque Request Brake Prdtd'). The predicted output torque request for acceleration is shaped through a predicted output torque shaping filter 352 while considering the axle torque response type to yield a predicted accelerator output torque ('To Accel Prdtd') and combined with the predicted output torque request for braking to determine the net predicted output torque ('To Net Prdtd'), which are inputs to the optimization scheme 354. The lead operating range state of the transmission 10 comprises a time-shifted lead of the operating range state of the transmission 10 to accommodate a response time lag between a commanded change in the operating range state and the actual operating range state. Thus the lead operating range state of the transmission 10 is the commanded operating<!-- EPO <DP n="27"> --> range state. The lead predicted input acceleration profile comprises a time-shifted lead of the predicted input acceleration profile of the input member 12 to accommodate a response time lag between a commanded change in the predicted input acceleration profile and a measured change in the predicted input acceleration profile. Thus the lead predicted input acceleration profile is the predicted input acceleration profile of the input member 12 occurring after the time shift. The parameters designated as 'lead' are used to accommodate concurrent transfer of torque through the powertrain converging at the common output member 64 using devices having varying response times. Specifically, the engine 14 can have a response time of an order of magnitude of 300 - 600 ms, and each of the torque transfer clutches C1 70, C2 62, C3 73, and C4 75 can have response times of an order of magnitude of 150-300 ms, and the first and second electric machines 56 and 72 can have response time of an order of magnitude of 10 ms.</p><p id="p0052" num="0052">The optimization scheme 354 determines costs for operating the engine 14 in the engine states, which comprise operating the engine fueled and in the all-cylinder state ('P<sub>COST FULL FUEL</sub>'), operating the engine unfueled and in the all-cylinder state ('P<sub>COST FULL FCO</sub>'), operating the engine fueled and in cylinder deactivation state ('P<sub>COST DEAC FUEL</sub>'), and operating the engine unfueled and in the cylinder deactivation state ('P<sub>COST DEAC FCO</sub>'). The aforementioned costs for operating the engine 14 are input to a stabilization analysis scheme ('Stabilization and Arbitration') 356 along with the actual engine state ('Actual Engine State') and allowable or permissible engine<!-- EPO <DP n="28"> --> state(s) ('Engine State Allowed') to select one of the engine states as the preferred engine state ('Preferred Engine State').</p><p id="p0053" num="0053">The preferred input torques for operating the engine 14 in the all-cylinder state and in the cylinder deactivation state with and without fuel cutoff are input to an engine torque conversion calculator 355 and converted to preferred engine torques in the all-cylinder state and in the cylinder deactivation state ('Engine Torque Full' and 'Engine Torque Deac') and with fuel cutoff in the all-cylinder state and in the cylinder deactivation state ('Engine Torque Full FCO' and 'Engine Torque Deac FCO') respectively, by taking into account torque-consuming components, e.g., a hydraulic pump, between the engine 14 and the transmission 10. The preferred engine torques and the preferred engine state comprise inputs to the engine state control scheme 370.</p><p id="p0054" num="0054">The costs for operating the engine 14 include operating costs which are determined based upon factors that include vehicle driveability, fuel economy, emissions, and battery usage. Costs are assigned and associated with fuel and electrical power consumption and are associated with specific operating conditions of the hybrid powertrain. Lower operating costs can be associated with lower fuel consumption at high conversion efficiencies, lower battery power usage and lower emissions and take into account the present operating state of the engine 14.</p><p id="p0055" num="0055">The preferred engine state and the preferred engine torques in the all-cylinder state and in the cylinder deactivation state are input to the engine state control scheme 370, which includes an engine state machine ('Engine<!-- EPO <DP n="29"> --> State Machine') 372. The engine state machine 372 determines a target engine torque ('Target Engine Torque') and an engine state ('Target Engine State') based upon the preferred engine torques and the preferred engine state. The target engine torque and the engine state are input to a transition filter 374 which filters the target engine torque to provide a filtered target engine torque ('Filtered Target Engine Torque') and which enables transitions between engine states. The engine state machine 372 outputs a command that indicates selection of one of the cylinder deactivation state and the all-cylinder state ('DEAC Selected') and indicates selection of one of the engine-fueled state and the deceleration fuel cutoff state ('FCO Selected').</p><p id="p0056" num="0056">The selection of one of the cylinder deactivation state and the all-cylinder state and the selection of one of the engine-fueled state and the deceleration fuel cutoff state, the filtered target engine torque, and the minimum and maximum engine torques are input to the engine response type determination scheme 380.</p><p id="p0057" num="0057">The system constraints control path 360 determines the constraints on the input torque, comprising minimum and maximum input torques ('Input Torque Hybrid Minimum' and 'Input Torque Hybrid Maximum') that can be reacted by the transmission 10. The minimum and maximum input torques are determined based upon constraints to the transmission 10, the first and second electric machines 56 and 72, and the ESD 74, which affect the capacity of the transmission 10 and the electric machines 56 and 72.</p><p id="p0058" num="0058">Inputs to the system constraints control path 360 include the immediate output torque request as measured by the accelerator pedal 113<!-- EPO <DP n="30"> --> combined with the torque intervention control ('Output Torque Request Accel Immed') and the immediate output torque request as measured by the brake pedal 112 combined with the torque intervention control ('Output Torque Request Brake Immed'). The immediate output torque request is shaped through an immediate output torque shaping filter 362 while considering the axle torque response type to yield an immediate accelerator output torque ('To Accel Immed') and is combined with the immediate output torque request for braking to determine the net immediate output torque ('To Net Immed'). The net immediate output torque and the immediate accelerator output torque are inputs to a constraints scheme ('Output and Input Torque Constraints') 364. Other inputs to the constraints scheme 364 include the lead operating range state of the transmission 10, an immediate lead input acceleration profile ('Lead Input Acceleration Profile Immed'), a lead immediate clutch reactive torque range ('Lead Immediate Clutch Reactive Torque Min/Max') for each applied clutch in the lead operating range state, and the tactical control electric power constraints ('Tactical Control Electric Power Constraints') comprising the range from the minimum tactical control electric power constraint P<sub>BAT_MIN_TC</sub> to the maximum tactical control electric power constraint P<sub>BAT_MAX_TC</sub>. The tactical control electric power constraints are outputted from a battery power function ('Battery Power Control') 366. A targeted lead input acceleration profile comprises a time-shifted lead of the immediate input acceleration profile of the input member 12 to accommodate a response time lag between a commanded change in the immediate input acceleration profile and a<!-- EPO <DP n="31"> --> measured change in the immediate input acceleration profile. The lead immediate clutch reactive torque range comprises a time-shifted lead of the immediate clutch reactive torque range of the clutches to accommodate a response time lag between a commanded change in the immediate clutch torque range and a measured change in the immediate clutch reactive torque range. The constraints scheme 364 determines an output torque range for the transmission 10, and then determines the minimum and maximum input torques that can be reacted by the transmission 10 based upon the aforementioned inputs.</p><p id="p0059" num="0059">Further, the constraints scheme 364 inputs an immediate engine torque request and outputs an immediate electric power P<sub>BATT_IMMED</sub> that is an estimated battery output power of the ESD 74 when the engine 14 is operating at the immediate engine torque and when the electric machines 56, 72 are operating at preferred motor torques based upon the operator torque request and the other inputs of the constraints scheme 364.</p><p id="p0060" num="0060">The minimum and maximum input torques are input to the engine torque conversion calculator 355 and converted to minimum and maximum engine torques ('Engine Torque Hybrid Minimum' and 'Engine Torque Hybrid Maximum' respectively), by taking into account torque-consuming components, e.g., a hydraulic pump, parasitic and other loads introduced between the engine 14 and the transmission 10.</p><p id="p0061" num="0061">The filtered target engine torque, the output of the engine state machine 372 and the minimum and maximum engine torques are input to the engine response type determination scheme 380. The engine response type<!-- EPO <DP n="32"> --> determination scheme 380 limits the filtered target engine torque to the minimum and maximum hybrid engine torques and outputs the engine commands to the ECM 23 for controlling the engine torques to an immediate engine torque request ('Engine Torque Request Immed') and a predicted engine torque request ('Engine Torque Request Prdtd'). Other commands control the engine state to one of the engine fueled state and the fuel cutoff state ('FCO Request') and to one of the cylinder deactivation state and the all-cylinder state ('DEAC Request'). Another output comprises an engine response type ('Engine Response Type'). When the filtered target engine torque is within the range between the minimum and maximum engine torques, the engine response type is inactive. When the filtered target engine torque drops below the maximum constraint of the engine torque ('Engine Torque Hybrid Maximum') the engine response type is active, indicating a need for an immediate change in the engine torque, e.g., through engine spark control to change the engine torque to fall within the constraints of the minimum and maximum engine torques.</p><p id="p0062" num="0062"><figref idrefs="f0006">Fig. 5</figref> shows details of the tactical optimization scheme 354 of the tactical optimization control path 350. The tactical optimization scheme ('Tactical Optimization') 354 is executed to determine preferred input torques and associated power costs for operating the engine 14 in the all-cylinder state ('Input Torque Full'), in the cylinder deactivation state ('Input Torque Deac'), the all-cylinder state with fuel cutoff ('Input Torque Full FCO'), and in the cylinder deactivation state with fuel cutoff ('Input Torque Deac FCO'). The system inputs to the tactical optimization scheme 354, as<!-- EPO <DP n="33"> --> shown in <figref idrefs="f0004">Fig. 4</figref>, include the net predicted output torque ('To Net Prdtd') and the predicted accelerator output torque ('To Accel Prdtd'). In operation, the predicted accelerator output torque request ('Output Torque Request Accel Prdtd') and the predicted braking output torque request ('Output Torque Request Brake Prdtd') are monitored. The predicted output torque requests for acceleration and braking are combined and shaped with the axle torque response type through a predicted output torque shaping filter 352. The net predicted output torque comprises a sum of the operator torque requests communicated through the accelerator pedal 113 and the brake pedal 112.<br/>
Other inputs include a lead operating range state of the transmission 10 ('Lead Hybrid Range State') a lead predicted input acceleration profile ('Lead Input Acceleration Profile Predicted'), a predicted range of clutch reactive torques ('Predicted Clutch Reactive Torque Min/Max') across each applied clutch in the lead operating range state, and predicted battery power limits ('Predicted Battery Power Limits').</p><p id="p0063" num="0063">The lead operating range state of the transmission 10 comprises a time-shifted lead of the operating range state of the transmission 10 to accommodate a response time lag, for example, between the engine torque request and the actual engine torque response. Thus the lead operating range state of the transmission 10 becomes the commanded operating range state. The lead predicted input acceleration profile comprises a time-shifted lead of the desired predicted input acceleration profile of the input member 12 to accommodate the response time lag. Thus the lead predicted input acceleration profile is the predicted input acceleration profile of the input<!-- EPO <DP n="34"> --> member 12 occurring after the time shift. The parameters designated as 'lead' are used to accommodate concurrent transfer of torque through the powertrain converging at the common output member 64 using devices having varying response times. Specifically, the engine 14 can have a response time of an order of magnitude of 300 - 600 ms, and each of the torque transfer clutches C1 70, C2 62, C3 73, and C4 75 can have response times of an order of magnitude of 150-300 ms, and the first and second electric machines 56 and 72 can have response time of an order of magnitude of 10 ms.</p><p id="p0064" num="0064">The tactical optimization scheme 354 includes an optimization manager 420 which manages and generates power cost inputs, penalty costs, and optimization inputs for search schemes 402 and 406 and evaluation schemes 404 and 408. The search schemes 402 and 406 and evaluation schemes 404 and 408 determine preferred input torques and corresponding output torques at minimum power costs for operating the powertrain at each of the engine states.</p><p id="p0065" num="0065">The search scheme 402 executes a one-dimensional search of the input torque to determine a preferred input torque which minimizes power costs when operating the engine fueled and in the all-cylinder state. At each input torque, a preferred output torque is determined. This includes determining a range of input torques comprising minimum and maximum input torques with the engine 14 operating in the fueled state and in the all-cylinder state ('Input Torque Minimum Full', 'Input Torque Maximum Full') which are input to a one-dimensional search engine 430. The search engine<!-- EPO <DP n="35"> --> 430 generates a candidate input torque ('Ti(j)') within the range of input torques that is input to an optimization function 440. The optimization function 440 calculates outputs including an output torque ('To(j)') and torque outputs from the first and second electric machines 56 and 72 ('Ta(j)', 'Tb(j)'), and output power from the ESD 74 ('P<sub>BAT</sub>(j)'), electrical power from the first and second electric machines 56 and 72 ('Pa(j)', 'Pb(j)') and clutch torque outputs ('Tcl1(j)'), ('Tcl2(j)') of applied clutches of the transmission device 10 based upon the candidate input torque and the optimization inputs and the system inputs. The outputs of the optimization function 440 are input to a cost function 450 which calculates a power cost ('P<sub>COST</sub>(j)')for the candidate input torque. The search engine iteratively generates candidate input torques and executes over the range of input torques to identify a preferred input torque and corresponding output torque which achieves a minimum power cost ('P<sub>COST FULL FUEL</sub>') when operating the engine fueled and in the all-cylinder state.</p><p id="p0066" num="0066">The search scheme 406 executes a one-dimensional search of the input torque to determine a preferred input torque which minimizes power costs when operating the engine fueled and in the cylinder deactivation state. This includes determining a range of input torques comprising minimum and maximum input torques with the engine 14 operating in the fueled state and in the cylinder deactivation state ('Input Torque Minimum Deac', 'Input Torque Maximum Deac') which are input to the one-dimensional search engine 430. The search engine 430 generates a candidate input torque ('Ti(j)') within the range of input torques that is input to the optimization<!-- EPO <DP n="36"> --> function 440. The optimization function 440 calculates outputs including an output torque ('To(j)') and torque outputs from the first and second electric machines 56 and 72 ('Ta(j)', 'Tb(j)'), and output power from the ESD 74 ('P<sub>BAT</sub>(j)') and electrical power from the first and second electric machines 56 and 72 ('Pa(j)', 'Pb(j)') based upon the candidate input torque and the optimization inputs and the system input. The outputs of the optimization function 440 are input to the cost function 450 which calculates a power cost ('P<sub>COST</sub>(j)')for the candidate input torque ('Ti(j)'). The search engine iteratively generates candidate input torques and executes over the range of input torques to identify a preferred input torque and corresponding output torque which achieves a minimum power cost ('P<sub>COST DEAC FUEL</sub>') when operating the engine in the fueled state and in the cylinder deactivation state.</p><p id="p0067" num="0067">The evaluation scheme 404 evaluates the input torque to determine a preferred output torque and a power cost when operating the engine in the unfueled state and in the all-cylinder state. The candidate input torque ('Input Torque FCO Full') is input to the optimization function 440. The optimization function 440 calculates the outputs including an output torque ('To') and torque outputs from the first and second electric machines 56 and 72 ('Ta', 'Tb'), and output power from the ESD 74 ('P<sub>BAT</sub>') and power from the first and second electric machines 56 and 72 ('Pa', 'Pb') based upon the input torque and the optimization inputs and the system inputs. The outputs of the optimization function 440 are input to the cost function 450 which calculates a power cost ('P<sub>COST FULL FCO</sub>') when operating the engine unfueled and in the all-cylinder state.<!-- EPO <DP n="37"> --></p><p id="p0068" num="0068">The evaluation scheme 408 evaluates the input torque to determine a preferred output torque and a power cost when operating the engine in the unfueled state and in the cylinder deactivation state. The candidate input torque ('Input Torque FCO Deac') is input to the optimization function 440. The optimization function 440 calculates the outputs including an output torque ('To') and torque outputs from the first and second electric machines 56 and 72 ('Ta', 'Tb'), and output power from the ESD 74 ('P<sub>BAT</sub>') and power from the first and second electric machines 56 and 72 ('Pa', 'Pb') based upon the input torque and the optimization inputs and the system inputs. The outputs of the optimization function 440 are input to the cost function 450 which calculates a power cost ('P<sub>COST DEAC FCO</sub>') for the input torque when operating the engine unfueled and in the cylinder deactivation state.</p><p id="p0069" num="0069">The optimization function 440 has inputs including a single input torque, the optimization inputs and the system inputs. The system inputs include the net predicted output torque ('To Net Prdtd') and the predicted accelerator output torque ('To Accel Prdtd'). The optimization inputs include the lead operating range state of the transmission 10 ('Lead Hybrid Range State') the lead predicted input acceleration profile ('Lead Input Acceleration Profile Predicted'), the predicted range of clutch reactive torques ('Predicted Clutch Reactive Torque Min/Max') across each applied clutch in the lead operating range state, and predicted battery power limits ('Predicted Battery Power Limits'). Other limits include maximum and minimum motor torque outputs from the first and second electric machines 56 and 72, and<!-- EPO <DP n="38"> --> system inertias, damping, clutch slippages, and electric/mechanical power conversion efficiencies. For each candidate input torque, the optimization function 440 calculates powertrain system outputs that are responsive to the system inputs comprising the aforementioned output torque commands and are within the maximum and minimum motor torque outputs from the first and second electric machines 56 and 72, and within the available battery power, and within the range of clutch reactive torques from the applied clutches for the present operating range state of the transmission 10, and take into account the system inertias, damping, clutch slippages, and electric/mechanical power conversion efficiencies. The powertrain system outputs include a maximum achievable output torque ('To') and achievable torque outputs from the first and second electric machines 56 and 72 ('Ta', 'Tb').</p><p id="p0070" num="0070">The cost function 450 determines power costs for operating the powertrain system responsive to the system inputs including the net predicted output torque and the predicted accelerator output torque and with the engine 14 at the candidate input torque. The power costs are determined based upon factors that include mechanical power loss in the form of friction and spin losses, electrical power losses related to heat generation, internal resistances, and current flow, and parasitic losses. During braking event, the power costs include kinetic power loss due to unrecovered kinetic energy that is expended in the form of heat generation in the friction brakes 94, which can be recovered as electric power through regenerative braking. Costs are assigned and associated with fuel and electrical power consumption<!-- EPO <DP n="39"> --> and are associated with a specific operating point of the hybrid powertrain. Lower power costs are associated with lower fuel consumption at high conversion efficiencies, lower battery power usage, and lower emissions for each engine speed/load operating point, and take into account the present operating state of the engine 14. The search schemes 402 and 406 include additional power costs comprising engine power costs associated with operating the engine 14 in the all-cylinder fueled state ('Full Cylinder Engine Power Loss Inputs') and in the cylinder deactivation fueled state ('Deac Cylinder Engine Power Loss Inputs').</p><p id="p0071" num="0071"><figref idrefs="f0008">Fig. 6</figref> details signal flow in the strategic optimization control scheme 310, which includes a strategic manager ('Strategic Manager') 220, an operating range state analyzer 260, and a state stabilization and arbitration block 280 to determine the preferred input speed ('Ni_Des') and the preferred transmission operating range state ('Hybrid Range State Des'). The strategic manager ('Strategic Manager') 220 monitors the output speed N<sub>o</sub>, the predicted accelerator output torque request ('Output Torque Request Accel Prdtd'), the predicted brake output torque request ('Output Torque Request Brake Prdtd'), and available battery power P<sub>BAT_MIN</sub> to P<sub>BAT_MAX</sub>. The strategic manager 220 determines which of the transmission operating range states are allowable, and determines output torque requests comprising a strategic accelerator output torque request ('Output Torque Request Accel Strategic') and a strategic net output torque request ('Output Torque Request Net Strategic'), all of which are input the operating range state analyzer 260 along with penalty costs ('Penalty Costs'), system inputs ('System Inputs')<!-- EPO <DP n="40"> --> and power cost inputs ('Power Cost Inputs'). The operating range state analyzer 260 generates a preferred power cost ('P*cost') and associated input speed ('N*i') for each of the allowable operating range states based upon the operator torque requests, the system inputs, the available battery power and the power cost inputs. The preferred power costs and associated input speeds for the allowable operating range states are input to the state stabilization and arbitration block 280 which selects the preferred operating range state and preferred input speed based thereon.</p><p id="p0072" num="0072"><figref idrefs="f0009">Fig 7</figref> show the operating range state analyzer 260 which executes searches in each candidate operating range state comprising the allowable ones of the operating range states, including M1 (262), M2 (264), G1 (270), G2 (272), G3 (274), and G4 (276) to determine preferred operation of the torque actuators, i.e., the engine 14 and the first and second electric machines 56 and 72 in this embodiment. The preferred operation preferably comprises a minimum power cost for operating the hybrid powertrain system and an associated engine input for operating in the candidate operating range state in response to the operator torque request. The associated engine input comprises at least one of a preferred engine input speed ('Ni*'), a preferred engine input power ('Pi*'), and a preferred engine input torque ('Ti*') that is responsive to and preferably meets the operator torque request. The operating range state analyzer 260 evaluates M1-Engine Off (264) and M2-Engine Off (266) to determine a preferred cost ('P*cost') for operating the powertrain system responsive to and preferably meeting the operator torque request when the engine 14 is in the engine-off state.<!-- EPO <DP n="41"> --></p><p id="p0073" num="0073">The preferred operation in each of G1 (270), G2 (272), G3 (274), and G4 (276) can be determined by executing a 1-dimensional search scheme 610.</p><p id="p0074" num="0074"><figref idrefs="f0010">Fig. 8</figref> schematically shows signal flow for the 1-dimension search scheme 610. The operator torque request ('Operator Torque Request'), and a range of one controllable input, in this embodiment comprising minimum and maximum input torques ('TiMin/Max'), are input to a 1-D search engine 415. The 1-D search engine 415 iteratively generates candidate input torques ('Ti(j)') which range between the minimum and maximum input torques, each which is input to an optimization function ('Opt To/Ta/Tb') 440, for n search iterations. Other inputs to the optimization function 440 include system inputs preferably comprise parametric states for battery power, clutch torques, electric motor operation, transmission and engine operation, and the specific operating range state. The optimization function 440 determines transmission operation comprising an output torque, motor torques, and associated battery and electrical powers (`To(j), Ta(j), Tb(j), Pbat(j), Pa(j), Pb(j)') associated with the candidate input torque based upon the system inputs in response to the operator torque request for the candidate operating range state. The output torque, motor torques, and associated battery powers, penalty costs, and power cost inputs are input to a cost function 450, which executes to determine a power cost ('Pcost(j)') for operating the powertrain in the candidate operating range state at the candidate input torque in response to the operator torque request. The 1-D search engine 415 iteratively generates candidate input torques over the range of input torques. The candidate input torques are inputted to the optimization function 440 and the cost function 450<!-- EPO <DP n="42"> --> to determine the power costs associated therewith to identify a preferred input torque ('Ti*') and associated preferred cost ('P*cost'). The preferred input torque ('Ti*') comprises the candidate input torque within the range of input torques that results in a minimum power cost of the candidate operating range state, i.e., the preferred cost.</p><p id="p0075" num="0075">The preferred operation in each of M1 (262) and M2 (264) can be determined by executing a 2-dimensional search scheme 620. <figref idrefs="f0011">Fig. 9</figref> schematically shows signal flow for the 2-dimension search scheme 620. Ranges of two controllable inputs, in this embodiment comprising minimum and maximum input speeds ('Ni Min/Max') and minimum and maximum input powers ('Pi Min/Max'), are input to a 2-D search engine 410. In another embodiment, the two controllable inputs can comprise minimum and maximum input speeds and minimum and maximum input torques. The 2-D search engine 410 iteratively generates candidate input speeds ('Ni(j)') and candidate input powers ('Pi(j)') which range between the minimum and maximum input speeds and powers. The candidate input power is preferably converted to a candidate input torque ('Ti(j)') (412). Each candidate input speed ('Ni(j)') and candidate input torque ('Ti(j)') are input to an optimization function ('Opt To/Ta/Tb') 440, for n search iterations. Other inputs to the optimization function 440 include system inputs preferably comprising parametric states for battery power, clutch torques, electric motor operation, transmission and engine operation, the specific operating range state and the operator torque request. The optimization function 440 determines transmission operation comprising an output torque, motor torques, and associated battery and electrical powers ('To(j), Ta(j), Tb(j), Pbat(j), Pa(j),<!-- EPO <DP n="43"> --> Pb(j)') associated with the candidate input power and candidate input speed based upon the system inputs and the operating torque request for the candidate operating range state. The output torque, motor torques, and associated battery powers, penalty costs and power cost inputs are input to a cost function 450, which executes to determine a power cost ('Pcost(j)') for operating the powertrain at the candidate input power and candidate input speed in response to the operator torque request in the candidate operating range state. The 2-D search engine 410 iteratively generates the candidate input speeds and candidate input powers over the range of input speeds and range of input powers and determines the power costs associated therewith to identify a preferred input power ('Pi*') and preferred input speed ('Ni*') and associated preferred cost ('P*cost'). The preferred input power ('Pi*') and preferred input speed ('Ni*') comprises the candidate input power and candidate input speed that result in a minimum power cost for the candidate operating range state.</p><p id="p0076" num="0076"><figref idrefs="f0012">Fig. 10</figref> schematically shows power flow and power losses through hybrid powertrain system, in context of the exemplary powertrain system described above. There is a first power flow path from a fuel storage system 9 which transfers fuel power ('P<sub>FUEL</sub>') to the engine 14 which transfers input power ('P<sub>I</sub>') to the transmission 10. The power loss in the first flow path comprises engine power losses ('P<sub>LOSS ENG</sub>'). There is a second power flow path which transfers electric power ('P<sub>BAT</sub>') from the ESD 74 to the TPIM 19 which transfers electric power ('P<sub>INV ELEC</sub>') to the first and second electric machines 56 and 72 which transfer motor mechanical power ('P<sub>MOTOR MECH</sub>')<!-- EPO <DP n="44"> --> to the transmission 10. The power losses in the second power flow path include battery power losses ('P<sub>LOSS BATT</sub>') and electric motor power losses ('P<sub>LOSS MOTOR</sub>'). The TPIM 19 has an electric power load ('P<sub>HV LOAD</sub>') that services electric loads in the system ('HV Loads'), which can include a low voltage battery storage system (not shown). The transmission 10 has a mechanical inertia power input ('P<sub>INERTIA</sub>') in the system ('Inertia Storage') that preferably include inertias from the engine 14 and the transmission 10. The transmission 10 has mechanical power losses ('P<sub>LOSS MECH</sub>') and power output ('P<sub>OUT</sub>'). The brake system 94 has brake power losses ('P<sub>LOSS BRAKE</sub>') and the remaining power is transferred to the driveline as axle power ('P<sub>AXLE</sub>').</p><p id="p0077" num="0077">The power cost inputs to the cost function 450 are determined based upon factors related to vehicle driveability, fuel economy, emissions, and battery usage. Power costs are assigned and associated with fuel and electrical power consumption and are associated with a specific operating points of the hybrid powertrain. Lower operating costs can be associated with lower fuel consumption at high conversion efficiencies, lower battery power usage, and lower emissions for each engine speed/load operating point, and take into account the candidate operating state of the engine 14. As described hereinabove, the power costs may include the engine power losses ('P<sub>LOSS ENG</sub>'), electric motor power losses ('P<sub>LOSS MOTOR</sub>'), battery power losses ('P<sub>LOSS BATT</sub>'), brake power losses ('P<sub>LOSS BRAKE</sub>'), and mechanical power losses ('P<sub>LOSS MECH</sub>') associated with operating the hybrid powertrain at a specific operating point which includes input speed, motor speeds, input<!-- EPO <DP n="45"> --> torque, motor torques, a transmission operating range state and an engine state.</p><p id="p0078" num="0078">The state stabilization and arbitration block 280 selects a preferred transmission operating range state ('Hybrid Range State Des') which preferably is the transmission operating range state associated with the minimum preferred cost for the allowed operating range states output from the operating range state analyzer 260, taking into account factors related to arbitrating effects of changing the operating range state on the operation of the transmission to effect stable powertrain operation. The preferred input speed ('Ni_Des') is the engine input speed associated with the preferred engine input comprising the preferred engine input speed ('Ni*'), the preferred engine input power ('Pi*'), and the preferred engine input torque ('Ti*') that is responsive to and preferably meets the operator torque request for the selected preferred operating range state.</p><p id="p0079" num="0079"><figref idrefs="f0013">Fig. 11</figref> schematically shows the cost function 450 used by the strategic optimization control scheme 310 and the tactical control scheme 330 to determine a power loss cost P<sub>COST</sub> (j) for iteratively selected candidate powertrain system operating points. The cost function 450 determines operating costs in units of power (for example, kilowatts of power) for each candidate powertrain system operating point. The cost function 450 includes an input torque cost function 508 ('Input Torque Cost'), a clutch torque cost function 510 ('Clutch Torque Cost'), an ESD cost function 512 ('Energy Storage Device Cost'), an electric machine cost function 514 ('Electric Machine Motor Torque Cost'), and a cost summation function 518.<!-- EPO <DP n="46"> --></p><p id="p0080" num="0080">The input torque cost function 508 determines an engine input torque power cost P <sub>COST_TI</sub>(j) for operating the engine to achieve the candidate input torque T<sub>1</sub> (j). The clutch torque cost function 510 determines a clutch torque power cost P<sub>COST_CL</sub>(j) associated with the transmission clutch torque T<sub>CL</sub> (j) corresponding to the candidate powertrain operating point (j). The ESD cost function 512 determines an ESD power cost P <sub>COST_BAT</sub>(j) associated with the ESD output power P<sub>BAT</sub> (j) corresponding to the candidate powertrain operating point (j). The electric machine cost function 514 determines an electric machine cost P<sub>COST_EM</sub> (j) associated with operating the electric machine(s) corresponding to the candidate powertrain operating point (j). Inputs include the first electric machine motor torque T<sub>A</sub> (j), the second electric machine motor torque T<sub>B</sub> (j), the ESD 74 output power to the first electric machine P<sub>ELEC_A</sub> (j), and the ESD 74 output power to the second electric machine P<sub>ELEC_B</sub>(j), each of which corresponds to the candidate powertrain operating point (j). Other inputs include the first electric machine motor speed N<sub>A</sub> and the second electric machine motor speed N<sub>B</sub>, a first electric machine temperature cost multiplier ('TempA Cost Multiplier'), and a second electric machine temperature cost multiplier ('TempB Cost Multiplier').</p><p id="p0081" num="0081"><figref idrefs="f0014">Fig. 12</figref> schematically shows details of the electric machine cost function 514, including a first mechanical power determination 556 ('Mechanical Power Determination A'), a second mechanical power determination 558 ('Mechanical Power Determination B'), a first power loss function 560 ('Electric Machine Power Loss Function A'), a second power<!-- EPO <DP n="47"> --> loss function 562 ('Electric Machine Power Loss Function B'), a first cost function 564 ('Power Loss Cost Function A'), a second cost function 566 (Tower Loss Cost Function B') and a summation function 568 ('Summation').</p><p id="p0082" num="0082">Temperatures of the first and second electric machines 56 and 72 are monitored ('TempA', 'TempB') and input to corresponding predetermined calibrations 552 and 554 ('TempA Cost. Mult. Determination' and 'TempB Cost. Mult. Determination') to determine the first electric machine temperature cost multiplier ('TempA Cost Mult.') and the second electric machine temperature cost multiplier ('TempB Cost Mult.'). The first electric machine temperature is input into the first cost multiplier determination 552 and the second electric machine temperature is input into the second cost multiplier determination 554. The first electric machine temperature and the second electric machine temperature can comprise temperatures monitored at any of a plurality of locations within the first and second electric machines 56 and 72, respectively. Exemplary locations include the stator, the rotor, resolvers 80, 82, and the TPIM 19 including within various electronic components within the TPIM 19, e.g., electronic components proximate to integrated gate bipolar transistors (IGBTs) (not shown.) Further, temperature can be monitored in multiple locations and the electric machine cost function 514 can utilize multiple temperature inputs when determining operating electric machine cost P<sub>COST_EM</sub> (j).</p><p id="p0083" num="0083">The first and second cost multiplier determinations 552 and 554 each access a lookup table to determine a first cost multiplier ('TempA Cost Mult.')<!-- EPO <DP n="48"> --> and a second cost multiplier ('TempB Cost Mult.'), respectively, based upon the first electric machine temperature and the second electric machine temperature, respectively. The first and second cost multipliers generally increase with increasing temperature. In one embodiment, the cost multipliers increase with increasing temperature for temperatures below a first threshold temperature, and are relatively constant for temperatures between the first threshold temperature and a second threshold temperature, and generally increase with increasing temperature above the second threshold temperature. The cost multipliers reflect electric power costs associated with operating an electric machine associated with operating temperature. The cost multipliers are executed to bias operation away from powertrain system operating points that generate increased amounts of heat within the first and second electric machines 56 and 72 operating at high temperatures.</p><p id="p0084" num="0084">The first mechanical power determination 556 determines an actual motor power output Pa(j) from the first electric machine 56 by multiplying the motor speed N<sub>A</sub> by the motor torque T<sub>A</sub> (j). The second mechanical power determination 558 determines an actual motor power output Pb(j) from the second electric machine 72 by multiplying motor speed N<sub>B</sub> by the motor torque T<sub>B</sub> (j).</p><p id="p0085" num="0085">The power loss function 560 determines a power loss (Tower Loss A') within the first electric machine 56 by subtracting the ESD power input to the first electric machine ('P<sub>A</sub> (j)') from the actual motor power output Pa(j) from the first electric machine 56. The power loss function 566 determines a second power loss ('Power Loss B') within the second electric machine 72 by<!-- EPO <DP n="49"> --> subtracting the ESD power output to the second electric machine ('P<sub>B</sub> (j)') from actual motor power output Pb(j) from the second electric machine 72.</p><p id="p0086" num="0086">The first cost function 564 determines a first electric machine operating cost ('Cost A') by multiplying the first power loss ('Power Loss A') by the first cost multiplier ('TempA Cost Mult.'). The cost function 566 determines a second electric machine operating cost ('Cost B') by multiplying the second power loss ('Power Loss B') by the second cost multiplier ('TempB Cost Mult.'). The summation function 568 determines the total electric machine cost ('P<sub>COST_EM</sub> (j)') for the operating point by summing the first electric machine cost and the second electric machine cost.</p><p id="p0087" num="0087">Referring again to <figref idrefs="f0013">FIG. 11</figref>, the cost summation function 518 ('Cost Summation') determines the cost for each powertrain system point ('P<sub>COST</sub> (j)') by summing the transmission clutch torque cost, the engine input torque cost, the electric machine cost, and the ESD power cost.</p><p id="p0088" num="0088">The cost function 450 determines power costs power associated with operating the engine 14 and the first and second electric machines 56 and 72 to in response to the output torque request for candidate engine states and candidate transmission operating range states. The first and second cost multiplier allows the cost function 450 to consider first and second electric machine temperatures in addition to power losses when determining the preferred powertrain system operating point. The first and second cost multiplier can multiply first and second electric machine temperatures by a small number, for example a number less than one, when the first and second electric machine temperatures are less than the preferred temperature range to<!-- EPO <DP n="50"> --> determine electric machine costs, thereby decreasing the electric machine cost. When motor power outputs P<sub>A</sub> and P<sub>B</sub> increase the first and second electric machine temperatures generally increase, thereby controlling the first and second electric machine temperatures to the preferred temperature range. The first and second cost multiplier can multiply first and second electric machine temperatures by a large number, for example a number greater than one, when the first and second electric machine temperatures is greater than the preferred temperature range to determine electric machine costs, thereby decreasing the electric machine cost. When motor power outputs P<sub>A</sub> and P<sub>B</sub> decrease the first and second electric machine temperatures generally decrease, thereby controlling the first and second electric machine temperatures to the preferred temperature range.</p><p id="p0089" num="0089">The disclosure has described certain preferred embodiments and modifications thereto. Further modifications and alterations may occur to others upon reading and understanding the specification. Therefore, it is intended that the disclosure not be limited to the particular embodiment(s) disclosed as the best mode contemplated for carrying out this disclosure, but that the disclosure will include all embodiments falling within the scope of the appended claims.</p></description><claims mxw-id="PCLM56985092" lang="DE" load-source="patent-office"><!-- EPO <DP n="56"> --><claim id="c-de-01-0001" num="0001"><claim-text>Verfahren zum Steuern eines Antriebsstrangsystems mit einer Kraftmaschine (14), die mit einem Eingangselement (12) einer Getriebevorrichtung (10) gekoppelt ist, die dazu dient, Drehmoment zwischen dem Eingangselement (12) und einer Drehmomentmaschine (56, 72) und einem Ausgangselement (64) zu übertragen, wobei die Drehmomentmaschine (56, 72) mit einer Energiespeichervorrichtung (74) verbunden ist, wobei das Verfahren umfasst:
<claim-text>Überwachen einer Temperatur der Drehmomentmaschine (56, 72);</claim-text>
<claim-text>Auswählen eines Kandidatenantriebsstrangsystem-Betriebspunkts;</claim-text>
<claim-text>Bestimmen eines elektrischen Leistungseingangs und eines Motorleistungsausgangs der Drehmomentmaschine (56, 72) für den Kandidatenantriebsstrangsystem-Betriebspunkt;</claim-text>
<claim-text>Bestimmen eines Leistungsverlustes für die Drehmomentmaschine (56, 72), der dem Motorleistungsausgang der Drehmomentmaschine (56, 72) und dem elektrischen Leistungseingang zugeordnet ist; und <b>gekennzeichnet durch</b>;</claim-text>
<claim-text>Bestimmen von Betriebskosten für den Betrieb des Antriebsstrangsystems bei dem Kandidatenantriebsstrangsystem-Betriebspunkt, die dem Leistungsverlust von der Drehmomentmaschine (56, 72) zugeordnet sind und auf der Temperatur der Drehmomentmaschine (56, 72) basieren.</claim-text></claim-text></claim><claim id="c-de-01-0002" num="0002"><claim-text>Verfahren nach Anspruch 1, wobei das Überwachen einer Temperatur der Drehmomentmaschine (56, 72) ein Überwachen einer Temperatur eines Motors der Drehmomentmaschine (56, 72) und/oder eines Wechselrichters einer Drehmomentmaschine (56, 72) umfasst.<!-- EPO <DP n="57"> --></claim-text></claim><claim id="c-de-01-0003" num="0003"><claim-text>Verfahren nach Anspruch 1, ferner umfassend:
<claim-text>Bestimmen eines Kostenmodifikatorwertes auf Grundlage der Temperatur der Drehmomentmaschine (56, 72); und</claim-text>
<claim-text>Bestimmen von Betriebskosten auf Grundlage der Drehmomentmaschine (56, 72) durch Multiplizieren des Kostenmodifikatorwertes mit dem Leistungsverlustwert der Drehmomentmaschine (56, 72).</claim-text></claim-text></claim><claim id="c-de-01-0004" num="0004"><claim-text>Verfahren nach Anspruch 3, ferner umfassend:
<claim-text>Bestimmen eines bevorzugten Temperaturbereiches für die Drehmomentmaschine (56, 72); und</claim-text>
<claim-text>Bestimmen des Kostenmodifikatorwertes auf Grundlage einer Nähe der Temperatur der Drehmomentmaschine (56, 72) zu dem bevorzugten Temperaturbereich.</claim-text></claim-text></claim><claim id="c-de-01-0005" num="0005"><claim-text>Verfahren nach Anspruch 1, ferner umfassend:
<claim-text>Überwachen mehrerer Temperaturen der Drehmomentmaschine (56, 72); und</claim-text>
<claim-text>Bestimmen von Betriebskosten für den Betrieb des Antriebsstrangsystems bei dem Kandidatenantriebsstrangsystem-Betriebspunkt, die dem Leistungsverlust von der Drehmomentmaschine (56, 72) zugeordnet sind und auf mehreren Temperaturen der Drehmomentmaschine (56, 72) basieren.</claim-text></claim-text></claim><claim id="c-de-01-0006" num="0006"><claim-text>Verfahren nach Anspruch 1, ferner umfassend:
<claim-text>iteratives Auswählen von Kandidatenantriebsstrangsystem-Betriebspunkten;</claim-text>
<claim-text>Bestimmen von Betriebskosten zum Betrieb des Antriebsstrangsystems bei jedem Kandidatenantriebsstrangsystem-Betriebspunkt, die dem Leistungsverlust von der Drehmomentmaschine (56, 72) zugeordnet sind und auf der Temperatur der Drehmomentmaschine (56, 72) basieren; und<!-- EPO <DP n="58"> --></claim-text>
<claim-text>Auswählen eines bevorzugten Antriebsstrangsystem-Betriebspunkts, der den Kandidatenantriebsstrangsystem-Betriebspunkt umfasst, der minimale Betriebskosten zum Betrieb des Antriebsstrangsystems besitzt.</claim-text></claim-text></claim><claim id="c-de-01-0007" num="0007"><claim-text>Verfahren nach Anspruch 6, ferner:
<claim-text>iteratives Auswählen von Kandidatenkraftmaschinen-Betriebspunkten;</claim-text>
<claim-text>Bestimmen von Betriebskosten zum Betrieb des Antriebsstrangsystems bei jedem Kandidatenkraftmaschinen-Betriebspunkt, die dem Leistungsverlust von der Drehmomentmaschine (56, 72) zugeordnet sind und auf der Temperatur der Drehmomentmaschine (56, 72) basieren; und</claim-text>
<claim-text>Auswählen eines bevorzugten Kraftmaschinenbetriebspunktes, der den Kandidatenkraftmaschinen-Betriebspunkt umfasst, der minimale Betriebskosten zum Betrieb des Antriebsstrangsystems besitzt.</claim-text></claim-text></claim><claim id="c-de-01-0008" num="0008"><claim-text>Verfahren nach Anspruch 7, ferner umfassend:
<claim-text>iteratives Auswählen von Kandidatenkraftmaschinen-Betriebspunkten, die Kandidatenkraftmaschinenzustände und eine Kandidatenkraftmaschineneingangsleistung aufweisen;</claim-text>
<claim-text>Bestimmen von Betriebskosten zum Betrieb des Antriebsstrangsystems bei jedem Kandidatenkraftmaschinenzustand und jeder Kandidatenkraftmaschineneingangsleistung, die dem Leistungsverlust von der Drehmomentmaschine (56, 72) zugeordnet sind und auf der Temperatur der Drehmomentmaschine (56, 72) basieren; und</claim-text>
<claim-text>Auswählen eines bevorzugten Kraftmaschinenzustandes und einer Kraftmaschineneingangsleistung, die den Kandidatenkraftmaschinenzustand und die Kandidatenkraftmaschineneingangsleistung umfassen, die minimale Betriebskosten zum Betrieb des Antriebsstrangsystems besitzen,</claim-text>
<claim-text>wobei der Kandidatenkraftmaschinenzustand bevorzugt einen mit Kraftstoff belieferten Kraftmaschinenzustand mit allen Zylindern, einen<!-- EPO <DP n="59"> --> Kraftstoffabsperr-Kraftmaschinenzustand mit Abschaltung, einen Kraftstoffabsperr-Kraftmaschinenzustand mit allen Zylindern und einen Kraftstoffabsperr-Kraftmaschinenzustand mit Zylinderabschaltung aufweist.</claim-text></claim-text></claim><claim id="c-de-01-0009" num="0009"><claim-text>Verfahren nach Anspruch 6, ferner umfassend:
<claim-text>iteratives Auswählen von Getriebebetriebsbereichszuständen;</claim-text>
<claim-text>Bestimmen von Betriebskosten zum Betrieb des Antriebsstrangsystems bei jedem Kandidatengetriebebetriebsbereichszustand, die dem Leistungsverlust von der Drehmomentmaschine (56, 72) zugeordnet sind basieren und auf der Temperatur der Drehmomentmaschine (56, 72) basieren; und</claim-text>
<claim-text>Auswählen eines bevorzugten Getriebebetriebsbereichszustandes, der den Kandidatengetriebebetriebsbereichszustand umfasst, der minimale Betriebskosten zum Betrieb des Antriebsstrangsystems besitzt,</claim-text>
<claim-text>wobei der Kandidatengetriebebetriebsbereichszustand bevorzugt einen Festgang-Betriebsbereichszustand und einen Zustand mit kontinuierlich variablem Betriebsbereich umfasst.</claim-text></claim-text></claim><claim id="c-de-01-0010" num="0010"><claim-text>Verfahren nach einem der Ansprüche 1 bis 9, wobei die Drehmomentmaschine (56, 72) eine erste elektrische Maschine (56) und eine zweite elektrische Maschine (72) umfasst, wobei das Verfahren umfasst:
<claim-text>Überwachen einer Temperatur der ersten elektrischen Maschine (56);</claim-text>
<claim-text>Überwachen einer Temperatur der zweiten elektrischen Maschine (72);</claim-text>
<claim-text>Auswählen eines Kandidatenantriebsstrang-Betriebspunkts;</claim-text>
<claim-text>Bestimmen eines elektrischen Leistungsausgangs und eines Motorleistungsausgangs der ersten elektrischen Maschine (56) für den Kandidatenantriebsstrangsystem-Betriebspunkt;<!-- EPO <DP n="60"> --></claim-text>
<claim-text>Bestimmen eines elektrischen Leistungsausgangs und eines Motorleistungsausgangs der zweiten elektrischen Maschine (72) für den Kandidatenantriebsstrangsystem-Betriebspunkt;</claim-text>
<claim-text>Bestimmen eines Leistungsverlustwertes der ersten elektrischen Maschine (56) auf Grundlage des ersten Motorleistungsausgangs und des ersten elektrischen Leistungsausgangs;</claim-text>
<claim-text>Bestimmen eines Leistungsverlustwertes der zweiten elektrischen Maschine (72) auf Grundlage des zweiten Motorleistungsausgangs und des zweiten elektrischen Leistungsausgangs; und</claim-text>
<claim-text>Bestimmen von Betriebskosten zum Betrieb des Antriebsstrangsystems, die dem Leistungsverlustwert von der ersten elektrischen Maschine (56), dem Leistungsverlustwert von der zweiten elektrischen Maschine (72), der Temperatur der ersten elektrischen Maschine (56) und der Temperatur der zweiten elektrischen Maschine (72) zugeordnet sind.</claim-text></claim-text></claim><claim id="c-de-01-0011" num="0011"><claim-text>Verfahren nach Anspruch 10, wobei das Überwachen einer Temperatur der ersten elektrischen Maschine (56) ein Überwachen einer Temperatur eines Motors der ersten elektrischen Maschine (56) und/oder eines Wechselrichters der ersten elektrischen Maschine (56) umfasst.</claim-text></claim><claim id="c-de-01-0012" num="0012"><claim-text>Verfahren nach Anspruch 10, ferner umfassend:
<claim-text>Bestimmen eines bevorzugten Temperaturbereiches für die erste elektrische Maschine (56); und</claim-text>
<claim-text>Bestimmen des Kostenmodifikatorwertes auf Grundlage einer Nähe der Temperatur der ersten elektrischen Maschine (56) zum dem bevorzugten Temperaturbereich.</claim-text></claim-text></claim><claim id="c-de-01-0013" num="0013"><claim-text>Verfahren nach Anspruch 12, wobei der Kandidatenantriebsstrangsystem-Betriebspunkt zumindest eines von einem Kandidatenkraftmaschinenbetriebspunkt<!-- EPO <DP n="61"> --> und einem Kandidatengetriebebetriebsbereichszustand umfasst,<br/>
wobei der Kandidatenkraftmaschinenbetriebspunkt bevorzugt zumindest eines von einem Kandidatenkraftmaschinenzustand, einer Kandidatenkraftmaschinendrehzahl, einem Kandidatenkraftmaschinendrehmoment und einer Kandidatenkraftmaschinenleistung umfasst.</claim-text></claim><claim id="c-de-01-0014" num="0014"><claim-text>Verfahren nach einem der Ansprüche 10 bis 13, ferner umfassend:
<claim-text>iteratives Auswählen von Kandidatenantriebsstrang-Betriebspunkten;</claim-text>
<claim-text>Auswählen eines bevorzugten Antriebsstrangbetriebspunktes, der den Kandidatenantriebsstrang-Betriebspunkt umfasst, der minimale Betriebskosten zum Betrieb des Antriebsstrangsystems besitzt; und</claim-text>
<claim-text>Steuern eines Betriebs des Antriebsstrangsystems auf Grundlage des bevorzugten Antriebsstrangbetriebspunktes.</claim-text></claim-text></claim><claim id="c-de-01-0015" num="0015"><claim-text>Verfahren nach Anspruch 14, wobei der Kandidatenantriebsstrangbetriebspunkt einen Kandidatenkraftmaschinenzustand, eine Kandidatenkraftmaschinenleistung und einen Kandidatengetriebebetriebsbereichszustand umfasst.</claim-text></claim></claims><claims mxw-id="PCLM56985093" lang="EN" load-source="patent-office"><!-- EPO <DP n="51"> --><claim id="c-en-01-0001" num="0001"><claim-text>Method for controlling a powertrain system comprising an engine (14) coupled to an input member (12) of a transmission device (10) operative to transmit torque between the input member (12) and a torque machine (56, 72) and an output member (64), the torque machine (56, 72) connected to an energy storage device (74), the method comprising:
<claim-text>monitoring a temperature of the torque machine (56, 72);</claim-text>
<claim-text>selecting a candidate powertrain system operating point;</claim-text>
<claim-text>determining an electrical power input and a motor power output of the torque machine (56, 72) for the candidate powertrain system operating point;</claim-text>
<claim-text>determining a power loss for the torque machine (56, 72) associated with the motor power output of the torque machine (56, 72) and the electrical power input; and</claim-text>
<claim-text><b>characterized in that</b>;</claim-text>
<claim-text>determining operating costs for operating the powertrain system at the candidate powertrain system operating point associated with the power loss from the torque machine (56, 72) and based upon the temperature of the torque machine (56, 72).</claim-text></claim-text></claim><claim id="c-en-01-0002" num="0002"><claim-text>The method of claim 1, wherein monitoring a temperature of the torque machine (56, 72) comprises monitoring a temperature of a motor of the torque machine (56, 72) and/or of an inverter of a torque machine (56, 72).</claim-text></claim><claim id="c-en-01-0003" num="0003"><claim-text>The method of claim 1, further comprising:
<claim-text>determining a cost modifier value based on the temperature of the torque machine (56, 72); and</claim-text>
<claim-text>determining an operating cost based upon torque machine (56, 72) by multiplying the cost modifier value by the power loss value of the torque machine (56, 72).</claim-text><!-- EPO <DP n="52"> --></claim-text></claim><claim id="c-en-01-0004" num="0004"><claim-text>The method of claim 3, further comprising:
<claim-text>determining a preferred temperature range for the torque machine (56, 72); and</claim-text>
<claim-text>determining the cost modifier value based on a proximity of the temperature of the torque machine (56, 72) to the preferred temperature range.</claim-text></claim-text></claim><claim id="c-en-01-0005" num="0005"><claim-text>The method of claim 1, further comprising:
<claim-text>monitoring multiple temperatures of the torque machine (56, 72); and</claim-text>
<claim-text>determining operating costs for operating the powertrain system at the candidate powertrain system operating point associated with the power loss from the torque machine (56, 72) and based upon multiple temperatures of the torque machine (56, 72).</claim-text></claim-text></claim><claim id="c-en-01-0006" num="0006"><claim-text>The method of claim 1, further comprising<br/>
iteratively selecting candidate powertrain system operating points;<br/>
determining operating costs for operating the powertrain system at each candidate powertrain system operating point associated with the power loss from the torque machine (56, 72) and based upon the temperature of the torque machine (56, 72); and<br/>
selecting a preferred powertrain system operating point comprising the candidate powertrain system operating point having a minimum operating cost for operating the powertrain system.</claim-text></claim><claim id="c-en-01-0007" num="0007"><claim-text>The method of claim 6, further comprising:
<claim-text>iteratively selecting candidate engine operating points;</claim-text>
<claim-text>determining operating costs for operating the powertrain system at each candidate engine operating point associated with the power loss from the torque machine (56, 72) and based upon the temperature of the torque machine (56, 72); and<!-- EPO <DP n="53"> --></claim-text>
<claim-text>selecting a preferred engine operating point comprising the candidate engine operating point having a minimum operating cost for operating the powertrain system.</claim-text></claim-text></claim><claim id="c-en-01-0008" num="0008"><claim-text>The method of claim 7, further comprising:
<claim-text>iteratively selecting candidate engine operating points including candidate engine states and candidate engine input power;</claim-text>
<claim-text>determining operating costs for operating the powertrain system at each candidate engine state and candidate engine input power associated with the power loss from the torque machine (56, 72) and based upon the temperature of the torque machine (56, 72); and</claim-text>
<claim-text>selecting a preferred engine state and engine input power comprising the candidate engine state and candidate engine input power having a minimum operating cost for operating the powertrain system,</claim-text>
<claim-text>wherein the candidate engine state preferably includes a fueled, all-cylinder engine state, a fuel-cutoff deactivation engine state, an fuel-cutoff all-cylinder engine state, and a fuel-cutoff cylinder deactivation engine state.</claim-text></claim-text></claim><claim id="c-en-01-0009" num="0009"><claim-text>The method of claim 6, further comprising<br/>
iteratively selecting transmission operating range states;<br/>
determining operating costs for operating the powertrain system at each candidate transmission operating range state based associated with power loss from the torque machine (56, 72) and based upon the temperature of the torque machine (56, 72); and<br/>
selecting a preferred transmission operating range state comprising the candidate transmission operating range state having a minimum operating cost for operating the powertrain system,<br/>
wherein the candidate transmission operating range state preferably includes a fixed gear operating range state and a continuously variable operating range state.<!-- EPO <DP n="54"> --></claim-text></claim><claim id="c-en-01-0010" num="0010"><claim-text>The method of any one of claims 1 to 9, wherein the torque machine (56, 72) comprises a first electric machine (56) and a second electric machine (72), the method comprising:
<claim-text>monitoring a temperature of the first electric machine (56);</claim-text>
<claim-text>monitoring a temperature of the second electric machine (72);</claim-text>
<claim-text>selecting a candidate powertrain system operating point;</claim-text>
<claim-text>determining a electric power output and a motor power output of the first electric machine (56) for the candidate powertrain system operating point;</claim-text>
<claim-text>determining a electric power output and a motor power output of the second electric machine (72) for the candidate powertrain system operating point;</claim-text>
<claim-text>determining a power loss value of the first electric machine (56) based upon the first motor power output and the first electric power output;</claim-text>
<claim-text>determining a power loss value of the second electric machine (72) based upon the second motor power output and the second electric power output; and</claim-text>
<claim-text>determining an operating cost for operating the powertrain system associated with the power loss value from the first electric machine (56), the power loss value from the second electric machine (72), the temperature of the first electric machine (56), and the temperature of the second electric machine (72).</claim-text></claim-text></claim><claim id="c-en-01-0011" num="0011"><claim-text>The method of claim 10, wherein monitoring a temperature of the first electric machine (56) comprises monitoring a temperature of a motor of the first electric machine (56) and/or of an inverter of the first electric machine (56).</claim-text></claim><claim id="c-en-01-0012" num="0012"><claim-text>The method of claim 10, further comprising:
<claim-text>determining a preferred temperature range for the first electric machine (56); and<!-- EPO <DP n="55"> --></claim-text>
<claim-text>determining the cost modifier value based on a proximity of the temperature of the first electric machine (56) to the preferred temperature range.</claim-text></claim-text></claim><claim id="c-en-01-0013" num="0013"><claim-text>The method of claim 12, wherein the candidate powertrain system operating point comprises at least one of a candidate engine operating point and a candidate transmission operating range state,<br/>
wherein the candidate engine operating point preferably comprises at least one of a candidate engine state, a candidate engine speed, a candidate engine torque, and a candidate engine power.</claim-text></claim><claim id="c-en-01-0014" num="0014"><claim-text>The method of any one of claims 10 to 13, further comprising:
<claim-text>iteratively selecting candidate powertrain operating points;</claim-text>
<claim-text>selecting a preferred powertrain operating point comprising the candidate powertrain operating point having a minimum operating cost for operating the powertrain system; and</claim-text>
<claim-text>controlling operation of the powertrain system based upon the preferred powertrain operating point.</claim-text></claim-text></claim><claim id="c-en-01-0015" num="0015"><claim-text>The method of claim 14, wherein the candidate powertrain operating point comprises a candidate engine state, a candidate engine power, and a candidate transmission operating range state.</claim-text></claim></claims><claims mxw-id="PCLM56985094" lang="FR" load-source="patent-office"><!-- EPO <DP n="62"> --><claim id="c-fr-01-0001" num="0001"><claim-text>Procédé pour commander un système de train d'entraînement comprenant un moteur (14) couplé à un élément d'entrée (12) d'un dispositif de transmission (10) dont la fonction est de transmettre un couple entre l'élément d'entrée (12) et un moteur-couple (56, 72) et un élément de sortie (64), le moteur-couple (56, 72) étant connecté à un dispositif de stockage d'énergie (74), le procédé comprenant les étapes consistant à :
<claim-text>surveiller une température du moteur-couple (56, 72) ;</claim-text>
<claim-text>sélectionner un point de fonctionnement candidat pour le système de train d'entraînement ;</claim-text>
<claim-text>déterminer une entrée de puissance électrique et une sortie de puissance motrice du moteur-couple (56, 72) pour le point de fonctionnement candidat du système de train d'entraînement ;</claim-text>
<claim-text>déterminer une perte de puissance pour le moteur-couple (56, 72) associée avec la sortie de puissance motrice du moteur-couple (56, 72) et avec l'entrée de puissance électrique ; et</claim-text>
<claim-text><b>caractérisé en ce que</b>,</claim-text>
<claim-text>on détermine les coûts de fonctionnement pour faire fonctionner le système de train d'entraînement au point de fonctionnement candidat du système de train d'entraînement associé avec la perte de puissance depuis le moteur-couple (56, 72) et sur la base de la température du moteur-couple (56, 72).</claim-text></claim-text></claim><claim id="c-fr-01-0002" num="0002"><claim-text>Procédé selon la revendication 1, dans lequel la surveillance d'une température du moteur-couple (56, 72) comprend la surveillance d'une température d'un moteur du moteur-couple (56, 72) et/ou d'un inverseur d'un moteur-couple (56, 72).</claim-text></claim><claim id="c-fr-01-0003" num="0003"><claim-text>Procédé selon la revendication 1, comprenant en outre les étapes consistant à :
<claim-text>déterminer une valeur de modification de coût sur la base de la température du moteur-couple (56, 72) ; et<!-- EPO <DP n="63"> --></claim-text>
<claim-text>déterminer un coût de fonctionnement sur la base du moteur-couple (56, 72) en multipliant la valeur de modification de coût par la valeur de perte de puissance du moteur-couple (56, 72).</claim-text></claim-text></claim><claim id="c-fr-01-0004" num="0004"><claim-text>Procédé selon la revendication 3, comprenant en outre les étapes consistant à :
<claim-text>déterminer une plage de température préférée pour le moteur-couple (56, 72) ; et</claim-text>
<claim-text>déterminer la valeur de modification de coût sur la base d'une proximité de la température du moteur-couple (56, 72) à la plage de température préférée.</claim-text></claim-text></claim><claim id="c-fr-01-0005" num="0005"><claim-text>Procédé selon la revendication 1, comprenant en outre les étapes consistant à :
<claim-text>surveiller une multiplicité de températures du moteur-couple (56, 72) ; et</claim-text>
<claim-text>déterminer des coûts de fonctionnement pour faire fonctionner le système de train d'entraînement au point de fonctionnement candidat du système de train d'entraînement associé avec la perte de puissance du moteur-couple (56, 72) et basés sur la multiplicité de températures du moteur-couple (56, 72).</claim-text></claim-text></claim><claim id="c-fr-01-0006" num="0006"><claim-text>Procédé selon la revendication 1, comprenant en outre les étapes consistant à :
<claim-text>sélectionner par itération des points de fonctionnement candidats du système de train d'entraînement ;</claim-text>
<claim-text>déterminer des coûts de fonctionnement pour faire fonctionner le système de train d'entraînement à chaque point de fonctionnement candidat du système de train d'entraînement associé avec la perte de puissance du moteur-couple (56, 72) et basés sur la température du moteur-couple (56, 72) ; et</claim-text>
<claim-text>sélectionner un point de fonctionnement préféré du système de train d'entraînement comprenant le point de fonctionnement candidat du système de train d'entraînement ayant un coût de fonctionnement minimum pour le fonctionnement du système de train d'entraînement.</claim-text><!-- EPO <DP n="64"> --></claim-text></claim><claim id="c-fr-01-0007" num="0007"><claim-text>Procédé selon la revendication 6, comprenant en outre les étapes consistant à :
<claim-text>sélectionner par itération des points de fonctionnement candidats du moteur ;</claim-text>
<claim-text>déterminer des coûts de fonctionnement pour faire fonctionner le système de train d'entraînement à chaque point de fonctionnement candidat du moteur associé avec la perte de puissance depuis le moteur-couple (56, 72) et basés sur la température du moteur-couple (56, 72) ; et</claim-text>
<claim-text>sélectionner un point de fonctionnement préféré du moteur comprenant le point de fonctionnement candidat du moteur ayant un coût de fonctionnement minimum pour faire fonctionner le système de train d'entraînement.</claim-text></claim-text></claim><claim id="c-fr-01-0008" num="0008"><claim-text>Procédé selon la revendication 7, comprenant en outre les étapes consistant à :
<claim-text>sélectionner par itération des points de fonctionnement candidats incluant des états candidats du moteur et une puissance d'entrée candidate du moteur ;</claim-text>
<claim-text>déterminer des coûts de fonctionnement pour faire fonctionner le système de train d'entraînement à chaque état candidat du moteur et à chaque puissance d'entrée candidate du moteur associés avec la perte de puissance depuis le moteur-couple (56, 72) et basés sur la température du moteur-couple (56, 72) ; et</claim-text>
<claim-text>sélectionner un état préféré du moteur et une puissance d'entrée préférée du moteur comprenant l'état candidat du moteur et la puissance d'entrée candidate du moteur ayant un coût de fonctionnement minimum pour faire fonctionner le système de train d'entraînement,</claim-text>
<claim-text>dans lequel l'état candidat du moteur inclut de préférence un état du moteur avec alimentation en carburant sur tous les cylindres, un état du moteur désactivé avec coupure du carburant, un état du moteur avec coupure du carburant sur tous les cylindres, et un état du moteur avec désactivation des cylindres par coupure du carburant.</claim-text><!-- EPO <DP n="65"> --></claim-text></claim><claim id="c-fr-01-0009" num="0009"><claim-text>Procédé selon la revendication 6, comprenant en outre les étapes consistant à :
<claim-text>sélectionner par itération des états de gamme de fonctionnement de la transmission ;</claim-text>
<claim-text>déterminer des coûts de fonctionnement pour faire fonctionner le système de train d'entraînement à chaque état de gamme de fonctionnement candidat de la transmission basés de façon associée avec la perte de puissance depuis le moteur-couple (56, 72) et basés sur la température du moteur-couple (56, 72) ; et</claim-text>
<claim-text>sélectionner un état de gamme de fonctionnement préféré de la transmission comprenant l'état de gamme de fonctionnement candidat de la transmission ayant un coût de fonctionnement minimum pour faire fonctionner le système de train d'entraînement,</claim-text>
<claim-text>dans lequel l'état de gamme de fonctionnement candidat de la transmission inclut de préférence un état de gamme de fonctionnement à rapport fixe et un état de gamme de fonctionnement continûment variable.</claim-text></claim-text></claim><claim id="c-fr-01-0010" num="0010"><claim-text>Procédé selon l'une quelconque des revendications 1 à 9, dans lequel le moteur-couple (56, 72) comprend un premier moteur électrique (56) et un second moteur électrique (72), le procédé comprenant les étapes consistant à :
<claim-text>surveiller une température du premier moteur électrique (56) ;</claim-text>
<claim-text>surveiller une température du second moteur électrique (72) ;</claim-text>
<claim-text>sélectionner un point de fonctionnement candidat du système de train d'entraînement ;</claim-text>
<claim-text>déterminer une sortie de puissance électrique et une sortie de puissance motrice du premier moteur électrique (56) pour le point de fonctionnement candidat du système de train d'entraînement ;</claim-text>
<claim-text>déterminer une sortie de puissance électrique et une sortie de puissance motrice du second moteur électrique (72) pour le point de fonctionnement candidat du système de train l'entraînement ;</claim-text>
<claim-text>déterminer une valeur de perte de puissance du premier moteur électrique (56) basée sur la sortie de puissance du premier moteur et la première sortie de puissance électrique ;<!-- EPO <DP n="66"> --></claim-text>
<claim-text>déterminer une valeur de perte de puissance du second moteur électrique (72) basée sur la sortie de puissance du second moteur et la seconde sortie de puissance électrique ; et</claim-text>
<claim-text>déterminer un coût de fonctionnement pour faire fonctionner le système de train d'entraînement associé avec la valeur de perte de puissance depuis le premier moteur électrique (56), la valeur de perte de puissance depuis le second moteur électrique (72), la température du premier moteur électrique (56), et la température du second moteur électrique (72).</claim-text></claim-text></claim><claim id="c-fr-01-0011" num="0011"><claim-text>Procédé selon la revendication 10, dans lequel la surveillance d'une température du premier moteur électrique (56) comprend la surveillance d'une température d'un moteur du premier moteur électrique (56) et/ou d'un inverseur du premier moteur électrique (56).</claim-text></claim><claim id="c-fr-01-0012" num="0012"><claim-text>Procédé selon la revendication 10, comprenant en outre les étapes consistant à :
<claim-text>déterminer une gamme de température préférée pour le premier moteur électrique (56) ; et</claim-text>
<claim-text>déterminer la valeur de modification de coût basée sur une proximité de la température du premier moteur électrique (56) à la gamme de température préférée.</claim-text></claim-text></claim><claim id="c-fr-01-0013" num="0013"><claim-text>Procédé selon la revendication 12, dans lequel le point de fonctionnement candidat du système de train d'entraînement comprend au moins un parmi un point de fonctionnement candidat du moteur et un état de gamme de fonctionnement candidat de la transmission,<br/>
dans lequel le point de fonctionnement candidat du moteur comprend de préférence au moins un paramètre parmi un état candidat du moteur, une vitesse candidate du moteur, un couple candidat du moteur, et une puissance candidate du moteur.</claim-text></claim><claim id="c-fr-01-0014" num="0014"><claim-text>Procédé selon l'une quelconque des revendications 10 à 13, comprenant en outre les étapes consistant à :<!-- EPO <DP n="67"> -->
<claim-text>sélectionner par itération des points de fonctionnement candidats du train d'entraînement ;</claim-text>
<claim-text>sélectionner un point de fonctionnement préféré du train d'entraînement comprenant le point de fonctionnement candidat du train d'entraînement ayant un coût de fonctionnement minimum pour faire fonctionner le système de train d'entraînement ; et</claim-text>
<claim-text>commander le fonctionnement du système de train d'entraînement sur la base du point de fonctionnement préféré du train d'entraînement.</claim-text></claim-text></claim><claim id="c-fr-01-0015" num="0015"><claim-text>Procédé selon la revendication 14, dans lequel le point de fonctionnement candidat du train d'entraînement comprend un état candidat du moteur, une puissance candidate du moteur, et un état de gamme de fonctionnement candidat de la transmission.</claim-text></claim></claims><drawings mxw-id="PDW16672056" load-source="patent-office"><!-- EPO <DP n="68"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="163" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="69"> --><figure id="f0002" num="2"><img id="if0002" file="imgf0002.tif" wi="165" he="216" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="70"> --><figure id="f0003" num="3"><img id="if0003" file="imgf0003.tif" wi="157" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="71"> --><figure id="f0004" num="4,4A"><img id="if0004" file="imgf0004.tif" wi="165" he="214" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="72"> --><figure id="f0005" num="4B"><img id="if0005" file="imgf0005.tif" wi="165" he="227" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="73"> --><figure id="f0006" num="5,5A"><img id="if0006" file="imgf0006.tif" wi="164" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="74"> --><figure id="f0007" num="5B"><img id="if0007" file="imgf0007.tif" wi="149" he="226" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="75"> --><figure id="f0008" num="6"><img id="if0008" file="imgf0008.tif" wi="159" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="76"> --><figure id="f0009" num="7"><img id="if0009" file="imgf0009.tif" wi="165" he="221" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="77"> --><figure id="f0010" num="8"><img id="if0010" file="imgf0010.tif" wi="165" he="218" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="78"> --><figure id="f0011" num="9"><img id="if0011" file="imgf0011.tif" wi="165" he="218" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="79"> --><figure id="f0012" num="10"><img id="if0012" file="imgf0012.tif" wi="153" he="211" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="80"> --><figure id="f0013" num="11"><img id="if0013" file="imgf0013.tif" wi="158" he="171" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="81"> --><figure id="f0014" num="12"><img id="if0014" file="imgf0014.tif" wi="165" he="225" img-content="drawing" img-format="tif"/></figure></drawings><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
