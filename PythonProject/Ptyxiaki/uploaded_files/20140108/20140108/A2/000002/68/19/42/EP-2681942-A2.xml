<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2681942-A2" country="EP" doc-number="2681942" kind="A2" date="20140108" family-id="46753972" file-reference-id="299096" date-produced="20180823" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146586346" ucid="EP-2681942-A2"><document-id><country>EP</country><doc-number>2681942</doc-number><kind>A2</kind><date>20140108</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-12755382-A" is-representative="NO"><document-id mxw-id="PAPP154848538" load-source="docdb" format="epo"><country>EP</country><doc-number>12755382</doc-number><kind>A</kind><date>20120224</date><lang>EN</lang></document-id><document-id mxw-id="PAPP220440066" load-source="docdb" format="original"><country>EP</country><doc-number>12755382.4</doc-number><date>20120224</date></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140549725" ucid="US-201113286607-A" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>201113286607</doc-number><kind>A</kind><date>20111101</date></document-id></priority-claim><priority-claim mxw-id="PPC140554373" ucid="US-201161449288-P" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>201161449288</doc-number><kind>P</kind><date>20110304</date></document-id></priority-claim><priority-claim mxw-id="PPC140550714" ucid="US-2012026431-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>2012026431</doc-number><kind>W</kind><date>20120224</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL2100272412" load-source="docdb">H04W   4/00        20090101ALI20140708BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL2100275127" load-source="docdb">H04L  12/24        20060101ALI20140708BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL2100275142" load-source="docdb">H04W   8/24        20090101AFI20140708BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL2100280401" load-source="docdb">G06F   9/455       20060101ALI20140708BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1687189631" load-source="docdb" scheme="CPC">H04W   4/50        20180201 LI20180219BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2092282783" load-source="docdb" scheme="CPC">G06F   9/45558     20130101 LI20150209BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2092285495" load-source="docdb" scheme="CPC">H04L  67/125       20130101 FI20150209BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2092288116" load-source="docdb" scheme="CPC">H04L  41/0856      20130101 LI20150209BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2092288617" load-source="docdb" scheme="CPC">H04L  41/082       20130101 LI20150209BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2092292490" load-source="docdb" scheme="CPC">G06F2009/45579     20130101 LA20150209BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132363671" lang="DE" load-source="patent-office">SYSTEM UND VERFAHREN ZUR BEREITSTELLUNG EINES REMOTE-GERÄTEMANAGEMENTS FÜR MOBILE VIRTUALISIERTE PLATTFORMEN</invention-title><invention-title mxw-id="PT132363672" lang="EN" load-source="patent-office">SYSTEM AND METHOD TO PROVIDE REMOTE DEVICE MANAGEMENT FOR MOBILE VIRTUALIZED PLATFORMS</invention-title><invention-title mxw-id="PT132363673" lang="FR" load-source="patent-office">SYSTÈME ET PROCÉDÉ PERMETTANT DE FOURNIR UNE GESTION DE DISPOSITIFS À DISTANCE À DES PLATES-FORMES MOBILES VIRTUALISÉES</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR919545523" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>MFORMATION TECHNOLOGIES INC</last-name><address><country>US</country></address></addressbook></applicant><applicant mxw-id="PPAR919524806" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>MFORMATION TECHNOLOGIES, INC.</last-name></addressbook></applicant><applicant mxw-id="PPAR919017666" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>MFormation Technologies, Inc.</last-name><iid>101149343</iid><address><street>379 Thornall Street 10th Floor</street><city>Edison, NJ 08837</city><country>US</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR919541111" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>NATH BADRI</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR919506217" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>NATH, BADRI</last-name></addressbook></inventor><inventor mxw-id="PPAR919018815" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>NATH, BADRI</last-name><address><street>13 Renee Court</street><city>Edison, New Jersey 08820</city><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR919545835" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>KUSHWAHA RAKESH</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR919533548" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>KUSHWAHA, RAKESH</last-name></addressbook></inventor><inventor mxw-id="PPAR919014085" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>KUSHWAHA, RAKESH</last-name><address><street>6 Kilt Court</street><city>Marlboro, New Jersey 07746</city><country>US</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR919010424" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Wihlsson, Joakim Per Magnus</last-name><iid>100046290</iid><address><street>Bjerkéns Patentbyrå KB</street><city>P.O. Box 5366 102 49 Stockholm</city><country>SE</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="US-2012026431-W"><document-id><country>US</country><doc-number>2012026431</doc-number><kind>W</kind><date>20120224</date><lang>EN</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2012121899-A2"><document-id><country>WO</country><doc-number>2012121899</doc-number><kind>A2</kind><date>20120913</date><lang>EN</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS549836857" load-source="docdb">AL</country><country mxw-id="DS549759498" load-source="docdb">AT</country><country mxw-id="DS549836862" load-source="docdb">BE</country><country mxw-id="DS549837232" load-source="docdb">BG</country><country mxw-id="DS549914445" load-source="docdb">CH</country><country mxw-id="DS549837061" load-source="docdb">CY</country><country mxw-id="DS549759499" load-source="docdb">CZ</country><country mxw-id="DS549836863" load-source="docdb">DE</country><country mxw-id="DS549837066" load-source="docdb">DK</country><country mxw-id="DS549837067" load-source="docdb">EE</country><country mxw-id="DS549769675" load-source="docdb">ES</country><country mxw-id="DS549837233" load-source="docdb">FI</country><country mxw-id="DS549837238" load-source="docdb">FR</country><country mxw-id="DS549836864" load-source="docdb">GB</country><country mxw-id="DS549837068" load-source="docdb">GR</country><country mxw-id="DS549836865" load-source="docdb">HR</country><country mxw-id="DS549759500" load-source="docdb">HU</country><country mxw-id="DS549914446" load-source="docdb">IE</country><country mxw-id="DS549837069" load-source="docdb">IS</country><country mxw-id="DS549837239" load-source="docdb">IT</country><country mxw-id="DS549837074" load-source="docdb">LI</country><country mxw-id="DS549850704" load-source="docdb">LT</country><country mxw-id="DS549759505" load-source="docdb">LU</country><country mxw-id="DS549850705" load-source="docdb">LV</country><country mxw-id="DS549850746" load-source="docdb">MC</country><country mxw-id="DS549759911" load-source="docdb">MK</country><country mxw-id="DS549759912" load-source="docdb">MT</country><country mxw-id="DS549836870" load-source="docdb">NL</country><country mxw-id="DS549837240" load-source="docdb">NO</country><country mxw-id="DS549850747" load-source="docdb">PL</country><country mxw-id="DS549914447" load-source="docdb">PT</country><country mxw-id="DS549836871" load-source="docdb">RO</country><country mxw-id="DS549914448" load-source="docdb">RS</country><country mxw-id="DS549850748" load-source="docdb">SE</country><country mxw-id="DS549914449" load-source="docdb">SI</country><country mxw-id="DS549837241" load-source="docdb">SK</country><country mxw-id="DS549850749" load-source="docdb">SM</country><country mxw-id="DS549837075" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data><office-specific-data><eptags><ep-no-a-document-published>*</ep-no-a-document-published></eptags></office-specific-data></bibliographic-data><abstract mxw-id="PA100067004" ref-ucid="WO-2012121899-A2" lang="EN" load-source="patent-office"><p num="0000">A virtualization aware device management (VADM) server manages mobile devices, including mobile devices that have been virtualized. Each virtualized mobile device supports multiple virtual devices. Each virtual device can be managed independently by the VADM server, in similar manner to non-virtualized devices. The VADM server interacts with one or more device management clients (DMCs) running on a virtualized mobile device to manage the virtual devices installed thereon. In a mobile virtualized device, a DMC can run exclusively within the virtual machine monitor (VMM) for remote management of some or all of the virtual devices on the mobile virtualized device; within each virtual device for remote management of the respective virtual device; or a combination thereof, with a DMC in the VMM acting as a bridge for DMCs within the virtual devices.</p></abstract><abstract mxw-id="PA100336081" ref-ucid="WO-2012121899-A2" lang="EN" source="national office" load-source="docdb"><p>A virtualization aware device management (VADM) server manages mobile devices, including mobile devices that have been virtualized. Each virtualized mobile device supports multiple virtual devices. Each virtual device can be managed independently by the VADM server, in similar manner to non-virtualized devices. The VADM server interacts with one or more device management clients (DMCs) running on a virtualized mobile device to manage the virtual devices installed thereon. In a mobile virtualized device, a DMC can run exclusively within the virtual machine monitor (VMM) for remote management of some or all of the virtual devices on the mobile virtualized device; within each virtual device for remote management of the respective virtual device; or a combination thereof, with a DMC in the VMM acting as a bridge for DMCs within the virtual devices.</p></abstract><abstract mxw-id="PA100067005" ref-ucid="WO-2012121899-A2" lang="FR" load-source="patent-office"><p num="0000">Un serveur de gestion de dispositifs tenant compte de la virtualisation (VADM) gère des dispositifs mobiles, y compris des dispositifs mobiles aynat été virtualisés. Chaque dispositif mobile virtualisé accepte de multiples dispositifs virtuels. Chaque dispositif virtuel peut être géré indépendamment par le serveur VADM, d'une manière similaire à des dispositifs non virtualisés. Le serveur VADM interagit avec un ou plusieurs clients de gestion de dispositifs (DMC) exécuté(s) sur un dispositif mobile virtualisé afin de gérer les dispositifs virtuels installés sur celui-ci. Dans un dispositif mobile virtualisé, un DMC peut être exécuté: exclusivement dans le moniteur de machine virtuelle (VMM) en vue de gérer à distance tout ou partie des dispositifs virtuels sur le dispositif mobile virtualisé; dans chaque dispositif virtuel pour gérer distance le dispositif virtuel respectif; ou de manière combinée, un DMC du VMM servant de pont aux DMC dans les dispositifs virtuels.</p></abstract><abstract mxw-id="PA100336082" ref-ucid="WO-2012121899-A2" lang="FR" source="national office" load-source="docdb"><p>Un serveur de gestion de dispositifs tenant compte de la virtualisation (VADM) gère des dispositifs mobiles, y compris des dispositifs mobiles aynat été virtualisés. Chaque dispositif mobile virtualisé accepte de multiples dispositifs virtuels. Chaque dispositif virtuel peut être géré indépendamment par le serveur VADM, d'une manière similaire à des dispositifs non virtualisés. Le serveur VADM interagit avec un ou plusieurs clients de gestion de dispositifs (DMC) exécuté(s) sur un dispositif mobile virtualisé afin de gérer les dispositifs virtuels installés sur celui-ci. Dans un dispositif mobile virtualisé, un DMC peut être exécuté: exclusivement dans le moniteur de machine virtuelle (VMM) en vue de gérer à distance tout ou partie des dispositifs virtuels sur le dispositif mobile virtualisé; dans chaque dispositif virtuel pour gérer distance le dispositif virtuel respectif; ou de manière combinée, un DMC du VMM servant de pont aux DMC dans les dispositifs virtuels.</p></abstract><description mxw-id="PDES51372996" ref-ucid="WO-2012121899-A2" lang="EN" load-source="patent-office"><!-- EPO <DP n="2"/>--><p id="p0001" num="0001"> SYSTEM AND METHOD TO PROVIDE REMOTE DEVICE MANAGEMENT FOR MOBILE VIRTUALIZED PLATFORMS </p><p id="p0002" num="0002">Related Patent Applications </p><p id="p0003" num="0003"> [001] The present application claims priority from U.S. Provisional Patent Application No. 61/449,288, filed on March 4, 2011, and U.S. Patent Application No. 13/286,607, filed on November 1, 2011, both of which are incorporated herein by reference in their entireties. </p><p id="p0004" num="0004">Field of Invention </p><p id="p0005" num="0005"> [002] The present invention relates to systems and methods of providing remote device management of wireless devices that support virtualization. </p><p id="p0006" num="0006">Background Information </p><p id="p0007" num="0007"> [003] A non-virtualized wireless device typically supports one operating environment and one device management client that interacts with a device management (DM) server to provide device management functionality. Such an interaction is illustrated in FIG. 1. With a non-virtualized device 110, a single device management client (DMC) 115 interacts with a DM server 120. As there is only one operating environment executing in such a device, DMC 115 carries out management tasks related to all components of the device that are to be managed. Typical components of a mobile wireless device that can be managed remotely include hardware components such as wireless network interfaces and input/output components; firmware; and application software that executes on the device. Management functions relating to hardware components may include, for example, configuration, diagnostics and control. Software and firmware management may include remote installation of application software as well as supervisory software and firmware, such as software for implementing DMC 115, among others. </p><p id="p0008" num="0008"> [004] Existing remote wireless DM servers manage non-virtualized devices, which support single operating systems. With a non-virtualized device, there is a one-to-one mapping between the device and a device identifier that the DM server associates with the device. The device identifier may be, for example, the device's International Mobile Equipment Identity (IMEI), Electronic Serial Number (ESN), Mobile Equipment Identifier (MEID), Globally Unique Identifier (GUID), Serial Number, Stock Keeping Unit (SKU), or any identifier or combination thereof that uniquely identifies a hardware platform. Typically, 
<!-- EPO <DP n="3"/>-->
 during each transaction between a device and a DM server, the device identifier is exchanged between the device and the server so that credentials, which are typically indexed based on the device identifier, can be checked with respect to the device. In addition, a routing identifier—such as a Mobile Subscriber Integrated Services Digital Network (MSISDN) number, Media Access Control (MAC) address, or Internet Protocol (IP) address—is typically associated with the device so that a DM server can send messages to the device using the routing identifier. </p><p id="p0009" num="0009"> [005] A virtualized device is a device that supports multiple virtual environments. Each virtual environment or operating system that is installed on the device is an instance of an operating system. Typically, with a virtualized device, there is more than one instance of an operating system executing on the same device. Monitoring software, termed the virtual machine monitor (VMM) or hypervisor executes on the hardware and multiplexes multiple operating systems so that hardware resources, such as CPU, memory and I/O resources, can be shared among the virtual environments. At the same time, the multiple operating systems offer isolation for applications that execute within each virtual environment. Each virtual environment that multiplexes the underlying hardware resources is generally referred to as a virtual machine or virtual device. </p><p id="p0010" num="0010"> [006] Because multiple virtual devices requiring remote management can exist on a virtualized device, it is not possible for a conventional DM server which is limited to interacting with only the underlying platform device to manage multiple virtual devices individually. A need exists, therefore, for methods and apparatus allowing remote device management of each of the multiple virtual devices supported by a mobile virtualized platform. </p><p id="p0011" num="0011">Summary </p><p id="p0012" num="0012"> [007] In exemplary embodiments, the present invention provides methods and apparatus for managing virtual environments or virtual devices on mobile virtualized devices. </p><p id="p0013" num="0013">[008] In exemplary embodiments, the present invention provides a virtualization aware device management (VADM) server that identifies the different virtual devices on a mobile virtualized device and interacts with a device management client executing in each of the virtual devices. The VADM server automatically associates a management command with a given virtual environment and embeds in the command an identifier associated with the 
<!-- EPO <DP n="4"/>-->
 virtual environment so that management commands are directed to the device management client for that virtual environment. When the mobile virtualized device is registered at the VADM server, the server notes that the device is virtualized and creates as many entries in a device table as there are virtual environments installed on the virtualized device. Using a unique identifier associated with each virtual environment, the VADM server sends the command to the appropriate device management client on the virtualized device. The device management client will then execute the command. </p><p id="p0014" num="0014"> [009] In exemplary embodiments, the VADM server interacts with a device management client executing in a virtual machine monitor (VMM) of a virtualized device. In such embodiments, the device management client handles management communications for the multiple virtual devices supported on the virtualized device and executes commands for a virtual device within the context of the virtual device. In exemplary embodiments, in addition to a device management client in the VMM, one or more virtual devices has its own device management client. </p><p id="p0015" num="0015"> [010] An aspect of an exemplary embodiment is directed to representing multiple virtual devices existing on the same mobile virtualized device. An exemplary method includes deriving the identifier of a virtual device as a combination of a unique identifier associated with the underlying mobile device hardware and an extension identifier that is locally unique within the mobile device. The derivation of the identifier can be accomplished by each device management client within the virtual devices or by the device management client within the VMM when individual operating systems register at boot time. </p><p id="p0016" num="0016">[011] Another aspect of an exemplary embodiment involves representing and maintaining, at a VADM server, the virtualization status of a mobile device. By firmware updates or the like, a non-virtualized mobile device can become virtualized, or a virtualized mobile device can become non-virtualized. Additionally, virtual devices can be installed or uninstalled on a virtualized mobile device. An exemplary VADM server tracks such changes in the virtualization status of a mobile device. </p><p id="p0017" num="0017"> [012] Yet another aspect of an exemplary embodiment is directed to a VADM server that is capable of managing both virtualized and non-virtualized devices. </p><p id="p0018" num="0018"> [013] Yet another aspect of an exemplary embodiment is directed to a mobile virtualized device that can support a single management client executing on the monitor software, 
<!-- EPO <DP n="5"/>-->
 multiple management clients executing in each virtual environment, or a combination thereof. </p><p id="p0019" num="0019">Brief Description of the drawings </p><p id="p0020" num="0020"> [014] FIG. 1 is a high-level block diagram of an illustrative system in which a mobile device and a device management (DM) server interact; </p><p id="p0021" num="0021"> [015] FIG. 2 is a high-level block diagram of a system in which an exemplary virtualization aware device management (VADM) server interacts with a non-virtualized mobile device and mobile virtualized devices; </p><p id="p0022" num="0022"> [016] FIG. 3 is a diagram illustrating an exemplary sequence of events by which a VADM server becomes aware of virtual devices installed on a virtualized device; </p><p id="p0023" num="0023"> [017] FIG. 4 is a diagram illustrating a further exemplary sequence of events by which a</p><p id="p0024" num="0024">VADM server becomes aware of virtual devices installed on a virtualized device; and </p><p id="p0025" num="0025"> [018] FIG. 5 is a flow chart showing an exemplary interaction between a VADM server and a mobile virtualized device. </p><p id="p0026" num="0026">Detailed Description </p><p id="p0027" num="0027"> [019] FIG. 1 is a high-level block diagram of an illustrative system in which a conventional, non-virtualized mobile device 110 and a device management (DM) server 120 interact via a wireless network 130. Mobile device 110 may include, for example, a cellphone, smartphone, tablet, PDA, laptop or any other device that is capable of communicating via a wireless interface. Typically, mobile device 110 has a wireless interface module (WIM) 112 that can wirelessly connect to wireless network 130 using any one or more wireless bearers such as GPRS, WLAN, WIMAX, EVDO, LTE, and mobile broadband, among others. Mobile device 110 may have multiple wireless interfaces allowing for communication using any combination of the available wireless interfaces. DM server 120 may interconnect to wireless network 130 over any suitable wired or wireless connection or connections. </p><p id="p0028" num="0028">[020] As a non non-virtualized device, mobile device 110 supports a single operating system environment with a single device management client (DMC) 115 for interacting with DM server 120. For remote management purposes it is assumed that DMC 115 is capable of interacting with DM server 120, including executing management commands and responding to notification messages received from DM server 120. In a typical interaction, DM server 120 sends a management command to mobile device 110 that is executed by DMC 115. 
<!-- EPO <DP n="6"/>-->
 DMC 115 will then typically send a response back to the DM server that may include, for example, the results and/or execution status of the management command. Examples of management commands may include, but are not limited to configuring a password for accessing a wireless network, installing applications, configuring applications, providing remote backup of data, and performing lock and/or wipe operations, among others. In a further typical interaction, DM server 120 may send to mobile device 110 a notification message, which notifies the device that one or more management commands for the device have been queued by DM server 120. In response, DMC 115 of mobile device 110 initiates a connection to DM server 120 to obtain the management command(s) queued for the device. In some instances, DMC 115 of mobile device 110 may also initiate a connection to DM server 120 without first receiving a notification message. </p><p id="p0029" num="0029"> [021] In a typical implementation, DM server 120 includes a management software module that operates in accordance with a device management protocol to remotely manage wireless devices; a device database; and an interface for interfacing the server to network 130 in order to communicate with devices such as mobile device 110. </p><p id="p0030" num="0030"> [022] In a mobile virtualized device that supports remote device management, multiple virtual environments requiring management simultaneously exist on the same device. For example, in the case of software component management, various applications can be installed, configured and removed remotely for each virtual environment. In order to direct management messages and commands to the appropriate virtual environment, an exemplary embodiment of a virtualization aware device management (VADM) server, described in greater detail below, identifies and keeps track of the different virtual environments on the mobile virtualized device, and interacts with the device management client or clients for those virtual environments. Furthermore, the exemplary VADM server can do so even as the virtual environments executing on a device change during the lifecycle of the device. </p><p id="p0031" num="0031">[023] FIG. 2 is a high-level block diagram of an illustrative system in which an exemplary VADM server 220 interacts with a non- virtualized mobile device 110, a mobile virtualized device 210, a mobile virtualized device 211, and a mobile virtualized device 212 over wireless network 130. VADM server 220 can be implemented using similar or different hardware as that of DM server 120. </p><p id="p0032" num="0032"> [024] Each of mobile devices 110, 210, 211 and 212 is a processor-based device and includes one or more processors and associated memory (not shown). In this context, 
<!-- EPO <DP n="7"/>-->
 computer programs in firmware and/or software, are stored in the memory for execution by the one or more processors. The latter is representative of one, or more, stored-program control processors and these do not have to be dedicated to one function, such as the DMC. Rather, the one or more processors may control multiple functions of the mobile device. The associated memory is representative of any suitable data storage device, e.g., random-access memory (RAM), read-only memory (ROM), etc.; may be internal and/or external to the mobile device; and may be volatile and/or non-volatile as necessary. Additionally, each of servers 120 and 220 is a processor-based device and includes one or more processors and associated memory (not shown). In this context, computer programs in firmware and/or software, are stored in the memory for execution by the one or more processors. The latter is representative of one, or more, stored-program control processors and these do not have to be dedicated to one function, such as device management. Rather, the one or more processors may control multiple functions of the server. The associated memory is representative of any suitable data storage device, e.g., random-access memory (RAM), read-only memory (ROM), etc.; may be internal and/or external to the mobile device; and may be volatile and/or non-volatile as necessary. </p><p id="p0033" num="0033"> [025] Each mobile virtualized device 210-212 is a mobile device that implements a mobile virtualized platform. A mobile virtualized platform refers to the hardware device, the monitoring software, and any virtual environments that execute on the monitoring software. The monitoring software can run directly on the hardware or on a host operating system that executes on the underlying hardware. </p><p id="p0034" num="0034"> [026] Unlike mobile devices that support a single operating system, mobile virtualized devices 210-212 are capable of supporting multiple operating systems or virtual environments on the same hardware. A virtual machine monitor (VMM) or hypervisor running on the hardware platform multiplexes the multiple operating systems, thereby creating multiple virtual environments or multiple virtual machines (VMs), also referred to herein as virtual devices. In terms of hardware implementations, non-virtualized mobile device 110 and mobile virtualized devices 210-212 can be similar or different. </p><p id="p0035" num="0035">[027] In a virtualized device, a device management client can run exclusively within the VMM, for remote management of some or all of the virtual devices in the mobile virtualized device; within each virtual device for remote management of the respective virtual device; or 
<!-- EPO <DP n="8"/>-->
 combinations thereof. Typically, the architecture of the mobile virtualized device will determine how device management clients are implemented on the virtualized device. </p><p id="p0036" num="0036">[028] In the exemplary embodiment of FIG. 2, mobile virtualized device 210 supports two virtual devices, 21 OA and 21 OB, with DMC 215 running in the VMM for the remote management of virtual devices 21 OA and 21 OB. In such an arrangement, management DMC 215 handles device management communications (e.g., commands, messages, and/or responses) for virtual device 21 OA, 21 OB. Management commands from VADM server 220 intended for a target virtual device are executed by DMC 215 in the context of the target virtual device. Additionally, DMC 215 may also handle device management communications relating to the management of the underlying device platform. In an exemplary embodiment, more than one DMC may be provided in the VMM, with one DMC handling device management communications for virtual device 21 OA, 21 OB and another DMC handling device management communications for the underlying device platform. </p><p id="p0037" num="0037">[029] Mobile virtualized device 211 supports virtual devices 211 A and 21 IB, but with respective device management clients (DMC) 216A and 216B for interacting with VADM server 220. In this case, each DMC 216A, 216B handles device management communications for its respective virtual device 211 A, 211B. </p><p id="p0038" num="0038"> [030] Mobile virtualized device 212 supports virtual devices 212A and 212B, with a DMC 217 running in the VMM as well as respective DMCs 217A and 217B running in virtual devices 212A and 212B. In this case, DMC 217 handles management communications related to the underlying platform (e.g., such as hardware-related management commands) and acts as a bridge for virtual-device-related management communications (e.g., software installation commands) to and from DMCs 217A and 217B of virtual devices 212A and 212B. Thus, for example, a management command to update a hardware driver for mobile virtualized device 212 would be handled by DMC 217, whereas a management command to install application software for virtual device 212B would be forwarded by DMC 217 to DMC 217B for execution by DMC 217B. </p><p id="p0039" num="0039"> [031] In an exemplary embodiment, VADM Server 220 is capable of bootstrapping the one or more device management clients running on mobile virtualized devices 210-212. </p><p id="p0040" num="0040">[032] In the exemplary embodiment of FIG. 2, VADM server 220 is preferably capable of managing both virtualized and non-virtualized mobile devices, particularly since a device can be converted multiple times through its life cycle between virtualized and non-virtualized 
<!-- EPO <DP n="9"/>-->
 configurations. In doing so, VADM server 220 maintains a representation of each operating environment that it manages, whether the operating environment is a single environment on a non-virtualized device such as device 110 or one of several environments on a virtualized device such as device 210, 211 or 212. Moreover, VADM server 220 is also preferably capable of managing platform-related functions of mobile devices that have been virtualized, in similar manner to non-virtualized mobile devices. </p><p id="p0041" num="0041"> [033] In order to keep track of the devices under its management, VADM server 220 maintains device table 225 which includes information for each device being managed. In addition to a device identifier (DEVID), device table 225 may also include additional information for each managed device, such as whether or not the device is virtualized (DEVTYPE), each device's make and model, as well as information on the software and/or firmware running on each device, such as the device management client(s), among others. </p><p id="p0042" num="0042">[034] The device identifier (DEVID) for a non-virtualized device can be, for example, the hardware identifier associated with the device. Examples of hardware identifiers include but are not limited to International Mobile Equipment Identity (IMEI), Electronic Serial Number (ESN), Mobile Equipment Identifier (MEID), Globally Unique Identifier (GUID), Serial Number, Stock Keeping Unit (SKU), or any identifier or combination thereof that uniquely identifies a hardware platform. In the illustrative example of FIG. 2, the DEVID of mobile device 110 is "ABC" and its DEVTYPE is "NV", for non-virtualized. </p><p id="p0043" num="0043"> [035] For virtualized devices, such as device 210, 211 or 212, VADM Server 220 distinguishes between the multiple virtual environments installed on the same hardware platform. In this case, there are multiple instances of a device, or virtual devices (or virtual machines), each with its own DEVID derived from the DEVID of the underlying hardware platform. In the illustrative example of FIG. 2, the DEVID of mobile device 211 is "GHI." The DEVID for mobile device 211, which is derived from a unique hardware identifier as described above, will be the same ("GHI") regardless of whether or not device 211 is virtualized. In this case, mobile device 211 has been virtualized, creating virtual devices 211A and 21 IB, each with its own DEVID, "GHI-A" and "GHI-B", respectively. The DEVIDs of these virtual machines, along with that of the underlying device are maintained in device table 225 of VADM server 220. In the embodiment illustrated, VADM server 220 is capable of remotely managing three different environments for each of mobile virtualized devices 210 and 212: the underlying platform device, and the two virtual devices installed on 
<!-- EPO <DP n="10"/>-->
 the device. In addition, the corresponding device types (DEVTYPE) are indicated in this case as virtual or virtualized ("V"). It should be noted that in the case of device 211, for which no DMC is shown in the VMM, VADM server 220 can remotely manage the virtual devices 211A and 21 IB, but may not be able to remotely manage the underlying platform device. Alternatively, it may be possible for the DMC of one or more of the virtual devices 211 A, 21 IB to be used to manage the underlying platform device, or portions thereof. </p><p id="p0044" num="0044">[036] In exemplary embodiments, a basic rule for generating the DEVID of a virtual device is to include the globally unique hardware identifier of the underlying platform device together with an extension identifier that is locally unique to the virtual device. This ensures a globally unique identifier for each virtual or non-virtual device managed. The generation of DEVIDs can be carried out by each DMC within the virtual devices or by the DMC within the VMM. </p><p id="p0045" num="0045"> [037] In exemplary embodiments, the VADM server is able to distinguish between nonvirtual devices (i.e., mobile devices that have not been virtualized or the underlying platform of a mobile virtualized device) and virtual devices based on their DEVIDs. For example, the DEVID for a virtual device may be formatted as a concatenation of the DEVID of the underlying device that is Nl symbols long (e.g., "XYZ"), and an additional, typically shorter, identifier that is N2 symbols long (e.g., "A"), to distinguish it from other virtual devices on the same underlying device. Thus, when the VADM server encounters a DEVID that is N1+N2 symbols long, the VADM server can infer that the DEVID relates to a virtual device and when it encounters an identifier that is only Nl symbols long, the VADM server can infer that the DEVID relates to a non- virtualized device. In such an embodiment, the VADM server need not separately maintain the aforementioned DEVTYPE information. As can be appreciated, a variety of different functions and/or formats can be used for combining the globally unique hardware identifier of the underlying platform device and the locally unique identifier of a virtual device to generate the DEVID of the virtual device. Moreover, DEVIDs can be formed from a variety of suitable symbols, alphanumeric or otherwise. </p><p id="p0046" num="0046">[038] The DEVID associated with each device, virtual or non-virtual, can be used by VADM server 220 as an index into a routing table to determine a routing identifier (e.g., MSISDN, MAC, IP address) associated with the device. The type of routing identifier stored in the routing table for a given device indicates the routing mechanism to be employed. Thus, for example, if the routing identifier stored for a device is the MSISDN associated with 
<!-- EPO <DP n="11"/>-->
 the device, a management communication to the device can be sent as a Short Message, which is sent via a SMS gateway. As another example, if the routing identifier for a device is an IP address, then the management communication is sent to an IP Push notification gateway. The particular conduit for routing may change, however, based on the preferred wireless network interface, for instance, of the device. Moreover, the routing identifier associated with a device may also change dynamically, as in the case of IP addresses assigned dynamically via DHCP. </p><p id="p0047" num="0047"> [039] In exemplary embodiments, the routing information is included in device table 225, thereby eliminating the need to maintain a separate routing table. During updates of device table 225, however, it is typically advisable to lock device table 225 in order to prevent inconsistencies as the data therein changes. Locking device table 225 would also prevent access to the routing information which may not change as frequently as other data in device table 225 or may change independently of such data. As such, it may be preferable to maintain the device and routing information in separate tables. </p><p id="p0048" num="0048"> [040] Using the routing identifier associated with a device, VADM server 220 can initiate a device management transaction with the device. It is possible for two or more virtual devices on the same virtualized device to be associated with the same routing identifier, or for each virtual device to be associated with a different routing identifier. </p><p id="p0049" num="0049"> [041] Implementations of the present invention allow a mobile virtualized device to be treated as multiple virtual devices. This makes extending the management functionality to mobile virtualized devices scalable as each virtual environment appears as a device. Any management functionality that can be provided for non-virtualized devices—other than management functionality that cannot be carried out by virtual devices, such as hardware configuration commands, or the like—can also be used for virtual devices by directing the management action to the appropriate virtual device. </p><p id="p0050" num="0050"> [042] A non-virtualized mobile device can be turned into a mobile virtualized device such as by changing firmware on the device via a firmware update. Such a firmware update when installed on the device will provide supervisory software, i.e., a hypervisor or VMM that executes on the bare hardware or on existing operating system software, referred to as the host operating system. In either case, multiple virtual environments can be created by installing guest operating systems once the supervisory software capable of virtualizing the device is installed. After virtualization of a mobile device, the DMC(s) for the newly created 
<!-- EPO <DP n="12"/>-->
 virtual devices register with the VADM server, as described in greater detail below. Upon registration, the VADM server managing the device creates a new entry in its device table 225 for each new virtual device created, each with its own DEVID (and DEVTYPE = "V", if used). As such, each mobile virtualized device, such as devices 210-212, is represented at the VADM server as multiple devices. If a virtual device is uninstalled from a virtualized device, the VADM server removes the uninstalled virtual device's entry from device table 225. </p><p id="p0051" num="0051"> [043] When a DMC registers with VADM server 220, the DMC provides the DEVID of the device or devices associated with the client. The DMC may also provide additional information such as credentials associated with the device, including, for example usernames, passwords, and/or certificates installed on the device. Based on the type of identifier, VADM server 220 determines the type of device and manages it accordingly. </p><p id="p0052" num="0052">[044] VADM server 220 may or may not be involved in the process of converting a non- virtualized device into a virtualized device, such as by enabling or participating in an over- the-air firmware update. If VADM server 220 is involved, the firmware package that includes the components to support device virtualization can be provided by VADM server 220 or by some other server (not shown). </p><p id="p0053" num="0053"> [045] There may be devices, however, that have already been virtualized before coming under the management of VADM server 220, or that are virtualized by other means in which VADM server 220 is not involved. For instance, a device may be virtualized at the factory, by user programming, or by some third party programming, among other possibilities. Similarly, virtual devices may be installed or uninstalled on a virtualized device without the involvement of the VADM server. In any case, the VADM server needs to know whether a device to be managed is virtualized and to keep track of changes in the device's virtualization status (i.e., whether the device is virtualized and if so, the virtual devices supported thereon). </p><p id="p0054" num="0054">[046] How a VADM server becomes aware of the virtualization status of a device will depend on the device management client configuration of the device. As mentioned above, a DMC may be installed and run in the VMM of the virtualized device for management of the multiple virtual machines of the device (e.g., device 210), or each virtual machine may have its own DMC (e.g., device 211). FIG. 3 shows an exemplary sequence of operations by which a VADM server becomes aware of the virtual devices in the first case, while FIG. 4 shows an exemplary sequence of operations by which a VADM server becomes aware of the 
<!-- EPO <DP n="13"/>-->
 virtual devices in the second case. For mobile virtualized devices having a DMC in the VMM as well as DMCs in each virtual device (e.g., device 212), either sequence of operations shown in FIGs. 3 and 4 can apply. </p><p id="p0055" num="0055"> [047] As shown in FIG. 3, at some point 320 a non- virtualized mobile device becomes virtualized. In the scenario illustrated, the mobile device becomes virtualized through involvement of a VADM server, although as discussed above, a device can become virtualized by other means as well. As shown, at 310 the mobile device receives a firmware update command from the VADM server. Upon installation of the updated firmware at 320, the mobile device becomes virtualized, thereby creating two or more virtual devices. Additionally, a virtualization-capable DMC is installed on the virtualized device as part of the updated firmware installation. As mentioned, in this case the DMC runs in the VMM. </p><p id="p0056" num="0056">[048] In an exemplary embodiment, each of the virtual devices installed as part of the firmware update that virtualizes the mobile device and installs the DMC are already registered (or pre-registered) with the DMC. Any virtual devices that are later installed will register with the DMC. Similarly, when a virtual device is uninstalled, it will be de- registered with the DMC. The registration or pre-registration of the virtual devices with the DMC provides the DMC with information for each virtual device including, for example, one or more of: the type of guest operating system of the virtual device; the presence or absence of a separate DMC running within the guest operating system of the virtual device; and/or other book keeping information such as the location of files for the virtual device. </p><p id="p0057" num="0057">[049] Additionally, once a virtual device has registered with the DMC, the DMC uses the DEVID associated with the underlying mobile device to generate the DEVID of the virtual device, as described above. </p><p id="p0058" num="0058"> [050] At 330, once the device is virtualized and the virtual devices have registered with the DMC in the VMM, the DMC informs the VADM server of the device's new device type- namely, that its DEVTYPE is now virtualized ("V")— by sending a device type change message (DEVTYPE CHANGE) to the VADM server. The DEVTYPE CHANGE message can be, for example, a gratuitous message or an alert that the DMC sends to the VADM server using bootstrap information. The bootstrap information, which is typically stored in a file as part of the installation of the DMC, may include the name (or URL) of the VADM server as well as any security credentials that may be needed to initiate secure transactions between the DMC and the VADM server. 
<!-- EPO <DP n="14"/>-->
 [051] At 340, the VADM server then sends a GET DEVICE DETAIL command to the DMC of the virtualized device. By sending the GET DEVICE DETAIL command, the VADM server queries the DMC for information about the mobile virtualized device. In an exemplary embodiment, the GET DEVICE DETAIL command is as defined in the Open Mobile Alliance DM 1.2 protocol. Preferably, whenever the VADM server sends a communication to the DMC, such as a GET DEVICE DETAIL command, it also sends security credentials to the DMC so that the DMC can confirm the authenticity of the server as part of a mutual authentication arrangement. </p><p id="p0059" num="0059"> [052] In response to the GET DEVICE DETAIL command from the VADM server, the DMC responds at 350 with a device information message containing a list of device identifiers (DEVIDs) associated with the underlying platform device and the virtual devices supported thereon. The DMC may also provide additional information such as the make and model of the underlying platform device, and/or information about software or firmware running on each device, among other possibilities. </p><p id="p0060" num="0060"> [053] After receiving this information, the VADM server can update its device table accordingly. Thus, in the case illustrated in FIG. 3, the VADM server becomes aware of the existence of the virtual devices by receiving a DEVTYPE CHANGE message from the DMC running in the VMM of the mobile virtualized device, and then querying the DMC to obtain information about the virtual devices. By virtue of the device information message received at 350 in response to the query, the VADM server becomes aware of the virtual devices currently installed on the mobile virtualized device. At this point, it can be said that the virtual devices are "registered" with the VADM server. Once a device has registered with the VADM server, the device can be remotely managed by the VADM server. </p><p id="p0061" num="0061">[054] Similarly, for cases in which virtual devices are added or deleted from an already virtualized mobile device, the DMC sends a change message analogous to that sent at 330 to inform the VADM server that there has been a change. The VADM server can then send a GET DEVICE DETAIL command to determine what changes were made. After receiving the device information from the DMC, the VADM server can update its device table accordingly. </p><p id="p0062" num="0062"> [055] For cases in which a mobile virtualized device becomes non-virtualized, the mobile device sends a DEVTYPE CHANGE message to the VADM server indicating that the device is now non-virtualized ("NV"). After receiving such a message, the VADM server can 
<!-- EPO <DP n="15"/>-->
 update its device table accordingly, including deleting the entries for the virtual devices uninstalled from the now non-virtualized mobile device. </p><p id="p0063" num="0063"> [056] Note that while the procedure described with reference to FIG. 3 entails the VADM server sending a GET DEVICE DETAIL command in response to a DEVTYPE CHANGE message from the DMC, the VADM server preferably can send a GET DEVICE DETAIL command to a device at other times as well, without having to first receive a DEVTYPE CHANGE message. For example, a VADM server can send a GET DEVICE DETAIL command periodically, or whenever an update of the device information at the VADM server is needed or deemed appropriate. </p><p id="p0064" num="0064"> [057] FIG. 4 shows an exemplary sequence of operations by which a VADM server becomes aware of virtual devices on a mobile virtualized device by DMCs running within the virtual devices. After a device has been virtualized (with or without VADM server involvement), a DMC is installed in one or more of the virtual devices thus created. Although operation with respect to only one virtual device (A) is shown in FIG. 4 for simplicity, operation with respect to additional virtual devices having their own DMC will be similar. At 420, the DMC of virtual device A registers with the VMM of the mobile virtualized device and requests from the VMM the unique hardware identifier associated with the mobile device. For virtualized devices such as device 212 which also have a DMC in the VMM, the DMCs of the virtual devices register with the DMC in the VMM. </p><p id="p0065" num="0065">[058] At 430, the VMM provides the DMC of virtual device A with the unique hardware identifier ("XYZ") associated with the mobile device. Using the device identifier, the DMC generates the DEVID ("XYZ-A") associated with virtual device A, and at 450 uses this identifier to register virtual device A with the VADM server. Thus, in an exemplary embodiment, a mobile virtualized device may have multiple virtual devices, one or more of which having a DMC that can register independently with the VADM server as a separate device. </p><p id="p0066" num="0066"> [059] As in the case of any DMC interacting with a DM server, it is contemplated that the various DMCs running on a mobile virtualized device and the VADM server preferably will mutually authenticate each other when interacting, such as in the above-described registration procedure, among other interactions. Moreover, it is contemplated that the various DMCs running on a mobile virtualized device can employ the same or different security credentials. Likewise, it is contemplated that the VADM server will accordingly employ the same or 
<!-- EPO <DP n="16"/>-->
 different security credentials when interacting with the various DMCs running on a mobile virtualized device. It is also contemplated that while security credentials based on bootstrap information will typically used for initial interactions, security credentials can change from their initial values. </p><p id="p0067" num="0067"> [060] After a VADM server becomes aware of virtual devices on a mobile virtualized device, it can then interact with the virtual devices to carry out device management transactions. For embodiments in which virtual devices have their own DMC, which directly interact with the VADM server, the VADM server will send management communications directly to each intended target virtual device, and in particular to the DMC of the target virtual device, using the DEVID of the target virtual device. The DMC of the target virtual device will carry out any management commands and interact with the VADM server. For embodiments in which there is a DMC in the VMM serving multiple virtual devices, the VADM server directs management communications to that DMC. Each management communication identifies the intended target virtual device using its DEVID. Preferably, the DMC implementation in a mobile virtualized device is transparent to the VADM server. </p><p id="p0068" num="0068">[061] FIG. 5 is a flow chart showing an exemplary embodiment of a process performed by a VADM server in sending a communication, such as a management command or notification message, to a mobile virtualized device. </p><p id="p0069" num="0069"> [062] At step 510, the VADM server receives from a higher level management authority, such as from a customer service or account management entity, a desired management action or actions for a target virtual device under the management of the VADM server. The higher level authority may specify actions such as installing application software to be executed by the target virtual device, locking the virtual device, and/or wiping data from the virtual device, among other possibilities. The interaction between the VADM server and the higher level authority can be by any suitable means such as, for example, via an administrative user interface or a programmatic interface that specifies desired actions for targeted devices. </p><p id="p0070" num="0070">[063] The identity of the target virtual device may be specified by the higher level management authority, or the VADM server can infer its identity from other information provided by the higher level management authority. As an illustrative example, consider a mobile virtualized device with a first virtual device running an operating system supporting use of the device within an enterprise and a second virtual device running another operating system supporting personal use, unrelated to the enterprise. The enterprise virtual device is 
<!-- EPO <DP n="17"/>-->
 managed in accordance with actions specified by an enterprise-related authority whereas the personal use virtual device is managed in accordance with actions specified by a different, personal-use-related authority. It is contemplated that the higher level authority requesting a management action will specify the action and the mobile virtualized device of the target virtual device but not necessarily the target virtual device itself. Depending on the source of the request (i.e., the enterprise or personal use authority) the VADM server can determine the appropriate target virtual device and address the management communication(s) accordingly, as described below. It should be noted that the higher level authority may or may not be aware that the target of its requested actions is a virtual device. </p><p id="p0071" num="0071"> [064] The VADM server may also be able to determine the target virtual device based on the type of communication to be sent. For example, an executable file will typically have a file name extension (.exe, .jar, .cab, etc.) and/or metadata that can be used to identify the target execution environment. If a higher authority requests the installation of an application on a device, the VADM server can infer the target virtual device by parsing the extension of the executable file name and/or the file's metadata. For example, applications for Windows and Apple operating systems will have different extensions. If a virtualized device has one virtual environment running a Windows operating system and another running an Apple operating system, the VADM server can identify the target virtual device in accordance with the extension of the application to be installed. </p><p id="p0072" num="0072"> [065] At step 520, in response to the desired management action, the VADM server generates the communication (e.g., management command or notification message) that is to be sent to the mobile virtualized device. For example, carrying out a desired management action such as installing an application, locking a virtual device or wiping data from a virtual device, may entail sending one or more commands from the VADM server to the target virtual device. At step 520, the VADM server generates the set of one or more commands, or a corresponding notification message, to be sent to the target virtual device for carrying out the desired action. </p><p id="p0073" num="0073"> [066] At step 530, the VADM server obtains details pertaining to the target virtual device, including, for example, a routing identifier and/or security credentials associated with the virtual device. As discussed above, the routing identifier is stored in a routing table indexed by the device identifier (DEVID) associated with the target device. For example, if the 
<!-- EPO <DP n="18"/>-->
 device can be reached by sending a SMS message, the MSISDN of the device acts as a routing identifier. </p><p id="p0074" num="0074"> [067] At step 540, the VADM server encapsulates the communication to be sent with the identifier of the virtual device. The encapsulated communication contains the identifier (e.g., "XYZ") of the mobile device in an outer header and the local extension identifier (e,g, "A" or "B") of the target virtual device in an inner header. </p><p id="p0075" num="0075"> [068] At step 550, the VADM server sends the communication to the mobile virtualized device using the routing identifier determined in step 530. In the case where the mobile virtualized device has a DMC running in the VMM, the DMC strips the outer header and uses the local extension identifier in the inner header to direct the device management communication to the correct target virtual device. In the case where DMCs execute in each virtual device, the management communication is delivered to the DMC of each virtual device but only the DMC of the virtual device whose identifier matches the identifier in the communication will respond to the communication. The other DMCs can ignore and/or discard the communication. </p><p id="p0076" num="0076"> [069] At step 560, if the communication sent from the VADM server to the virtual device was a management command, the VADM server will receive a status message from the mobile device indicating the result of the execution of the management command. The status message will be generated by the DMC in the VMM or the DMC of the target virtual device. If the communication from the VADM server to the virtual device was a notification message, the applicable DMC will initiate a new management transaction with the VADM server in order to obtain from the server any management commands queued for the target virtual device. </p><p id="p0077" num="0077"> [070] In view of the above, the foregoing merely illustrates the principles of the invention and it will thus be appreciated that those skilled in the art will be able to devise numerous alternative arrangements which, although not explicitly described herein, embody the principles of the invention and are within its spirit and scope. It is therefore to be understood that numerous modifications may be made to the illustrative embodiments and that other arrangements may be devised without departing from the spirit and scope of the present invention as defined by the appended claims. 
</p></description><claims mxw-id="PCLM44997577" ref-ucid="WO-2012121899-A2" lang="EN" load-source="patent-office"><claim-statement><!-- EPO <DP n="19"/>--> What is claimed is: </claim-statement><claim id="clm-0001" num="1"><claim-text> 1. A method for remote management of a mobile virtualized device comprising: </claim-text><claim-text> representing each of a plurality of virtual devices installed on the mobile virtualized device by a device identifier; </claim-text><claim-text> encoding at a device management server a device management communication for one of the plurality of virtual devices with the device identifier of the one virtual device; and sending the device management communication from the device management server to a device management client on the mobile virtualized device. </claim-text></claim><claim id="clm-0002" num="2"><claim-text>2. The method of claim 1, wherein the unique identifier associated with the mobile virtualized device includes at least one of an International Mobile Equipment Identity (IMEI), Electronic Serial Number (ESN), Mobile Equipment Identifier (MEID), Globally Unique Identifier (GUID), Serial Number, Stock Keeping Unit (SKU), Mobile Subscriber Integrated Services Digital Network (MSISDN) number, Media Access Control (MAC) address, and Internet Protocol (IP) address. </claim-text></claim><claim id="clm-0003" num="3"><claim-text>3. The method of claim 1 comprising determining at the device management server a routing identifier associated with the mobile virtualized device, wherein the device management communication is sent from the device management server to the mobile virtualized device in accordance with the routing identifier. </claim-text></claim><claim id="clm-0004" num="4"><claim-text>4. The method of claim 1 comprising registering each of the plurality of virtual devices at the device management server. </claim-text></claim><claim id="clm-0005" num="5"><claim-text>5. The method of claim 4 comprising maintaining a device table at the device management server, wherein the device table contains an entry for each of the plurality of virtual devices. </claim-text></claim><claim id="clm-0006" num="6"><claim-text>6. The method of claim 5 comprising: </claim-text><claim-text> querying the mobile virtualized device for device information; </claim-text><claim-text> receiving the device information at the device management server, wherein the device information includes information about the plurality of virtual devices; and <!-- EPO <DP n="20"/>--> updating the device table in accordance with the device information. </claim-text></claim><claim id="clm-0007" num="7"><claim-text>7. The method of claim 6 comprising: </claim-text><claim-text> receiving a device change message at the device management server from the mobile virtualized device before querying the mobile virtualized device. </claim-text></claim><claim id="clm-0008" num="8"><claim-text>8. The method of claim 7, wherein receiving the device change message is preceded by a firmware update on the mobile virtualized device. </claim-text></claim><claim id="clm-0009" num="9"><claim-text>9. The method of claim 7, wherein receiving the device change message is preceded by installing or uninstalling a virtual device on the mobile virtualized device. </claim-text></claim><claim id="clm-0010" num="10"><claim-text>10. The method of claim 1 comprising classifying managed mobile devices as being virtualized or non- virtualized. </claim-text></claim><claim id="clm-0011" num="11"><claim-text>11. The method of claim 1, wherein the device manage client executes in a virtual machine monitor of the mobile virtualized device. </claim-text></claim><claim id="clm-0012" num="12"><claim-text>12. The method of claim 1, where the device management client executes within a virtual device. </claim-text></claim><claim id="clm-0013" num="13"><claim-text>13. The method of claim 1, wherein the device identifier is a function of a unique identifier associated with the mobile virtualized device and a further identifier that is locally unique within the mobile virtualized device. </claim-text></claim><claim id="clm-0014" num="14"><claim-text>14. The method of claim 13, wherein the device identifier is generated by the device management client. </claim-text></claim></claims><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
