<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2682786-A2" country="EP" doc-number="2682786" kind="A2" date="20140108" family-id="48790189" file-reference-id="315100" date-produced="20180824" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146584966" ucid="EP-2682786-A2"><document-id><country>EP</country><doc-number>2682786</doc-number><kind>A2</kind><date>20140108</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-13174741-A" is-representative="YES"><document-id mxw-id="PAPP154847158" load-source="docdb" format="epo"><country>EP</country><doc-number>13174741</doc-number><kind>A</kind><date>20130702</date><lang>EN</lang></document-id><document-id mxw-id="PAPP199048044" load-source="docdb" format="original"><country>EP</country><doc-number>13174741.2</doc-number><date>20130702</date></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140553632" ucid="US-201213541752-A" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>201213541752</doc-number><kind>A</kind><date>20120704</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1989322514" load-source="docdb">G01V   1/50        20060101AFI20131126BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1962104204" load-source="docdb" scheme="CPC">G01V2210/6222      20130101 LA20160308BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1962110280" load-source="docdb" scheme="CPC">G01V2210/52        20130101 LA20160307BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1962112475" load-source="docdb" scheme="CPC">G01V   1/50        20130101 FI20160308BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132359531" lang="DE" load-source="patent-office">Verfahren und Vorrichtung zur Bestimmung der Langsamkeit von Wellenfronten</invention-title><invention-title mxw-id="PT132359532" lang="EN" load-source="patent-office">Methods and apparatus for determining slowness of wavefronts</invention-title><invention-title mxw-id="PT132359533" lang="FR" load-source="patent-office">Procédés et appareil permettant de déterminer la lenteur de fronts d'ondes</invention-title><citations><patent-citations><patcit mxw-id="PCIT242942737" load-source="docdb" ucid="US-6308137-B1"><document-id format="epo"><country>US</country><doc-number>6308137</doc-number><kind>B1</kind><date>20011023</date></document-id><sources><source name="APP" created-by-npl="N"/></sources></patcit></patent-citations></citations></technical-data><parties><applicants><applicant mxw-id="PPAR919508883" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>SCHLUMBERGER TECHNOLOGY BV</last-name><address><country>NL</country></address></addressbook></applicant><applicant mxw-id="PPAR919528005" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>SCHLUMBERGER TECHNOLOGY B.V.</last-name></addressbook></applicant><applicant mxw-id="PPAR919010936" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>SCHLUMBERGER TECHNOLOGY B.V.</last-name><iid>100215715</iid><address><street>Parkstraat 83-89</street><city>2514 JG The Hague</city><country>NL</country></address></addressbook></applicant><applicant mxw-id="PPAR919541674" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>SCHLUMBERGER SERVICES PETROL</last-name><address><country>FR</country></address></addressbook></applicant><applicant mxw-id="PPAR919531735" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>SERVICES PETROLIERS SCHLUMBERGER SA</last-name></addressbook></applicant><applicant mxw-id="PPAR919019069" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>Services Petroliers Schlumberger SA</last-name><iid>100218777</iid><address><street>42 rue St. Dominique</street><city>75007 Paris</city><country>FR</country></address></addressbook></applicant><applicant mxw-id="PPAR919532417" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>SCHLUMBERGER HOLDINGS</last-name><address><country>VG</country></address></addressbook></applicant><applicant mxw-id="PPAR919509116" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>SCHLUMBERGER HOLDINGS LIMITED</last-name></addressbook></applicant><applicant mxw-id="PPAR919017241" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>Schlumberger Holdings Limited</last-name><iid>101195260</iid><address><street>P.O. Box 71 Craigmuir Chambers Road Town</street><city>Tortola 1110</city><country>VG</country></address></addressbook></applicant><applicant mxw-id="PPAR919513900" load-source="docdb" sequence="4" format="epo"><addressbook><last-name>PRAD RES &amp; DEV LTD</last-name><address><country>VG</country></address></addressbook></applicant><applicant mxw-id="PPAR919507830" load-source="docdb" sequence="4" format="intermediate"><addressbook><last-name>PRAD RESEARCH AND DEVELOPMENT LIMITED</last-name></addressbook></applicant><applicant mxw-id="PPAR919009213" load-source="patent-office" sequence="4" format="original"><addressbook><last-name>PRAD Research and Development Limited</last-name><iid>101180365</iid><address><street>P.O. Box 71 Craigmuir Chambers</street><city>Road Town, Tortola 1110</city><country>VG</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR919535168" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>BENNETT NICHOLAS N</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR919510978" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>BENNETT, NICHOLAS N.</last-name></addressbook></inventor><inventor mxw-id="PPAR919018565" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>BENNETT, NICHOLAS N.</last-name><address><street>822 Ridge Road</street><city>Hamden, CT Connecticut 06517</city><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR919535512" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>COATES RICHARD T</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR919546112" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>COATES, RICHARD T.</last-name></addressbook></inventor><inventor mxw-id="PPAR919013904" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>COATES, RICHARD T.</last-name><address><street>24106 Laureumont Court</street><city>Katy, TX Texas 77494</city><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR919539754" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>HALDORSEN JAKOB BRANDT UTNE</last-name><address><country>NO</country></address></addressbook></inventor><inventor mxw-id="PPAR919522852" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>HALDORSEN, JAKOB BRANDT UTNE</last-name></addressbook></inventor><inventor mxw-id="PPAR919009214" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>HALDORSEN, JAKOB BRANDT UTNE</last-name><address><street>Elveveien 22</street><city>1394 Nesbru</city><country>NO</country></address></addressbook></inventor><inventor mxw-id="PPAR919540630" load-source="docdb" sequence="4" format="epo"><addressbook><last-name>MILLER DOUGLAS E</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR919516277" load-source="docdb" sequence="4" format="intermediate"><addressbook><last-name>MILLER, DOUGLAS E.</last-name></addressbook></inventor><inventor mxw-id="PPAR919013794" load-source="patent-office" sequence="4" format="original"><addressbook><last-name>MILLER, DOUGLAS E.</last-name><address><street>224 Marlborough, No: 52</street><city>Boston, MA Massachusetts 02116</city><country>US</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR919019360" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Ford, Michael Frederick</last-name><iid>101020297</iid><address><street>Schlumberger Cambridge Research Limited High Cross Madingley Road</street><city>Cambridge CB3 0EL</city><country>GB</country></address></addressbook></agent></agents></parties><international-convention-data><designated-states><ep-contracting-states><country mxw-id="DS549740540" load-source="docdb">AL</country><country mxw-id="DS549741825" load-source="docdb">AT</country><country mxw-id="DS549740542" load-source="docdb">BE</country><country mxw-id="DS549813692" load-source="docdb">BG</country><country mxw-id="DS549812158" load-source="docdb">CH</country><country mxw-id="DS549743117" load-source="docdb">CY</country><country mxw-id="DS549741826" load-source="docdb">CZ</country><country mxw-id="DS549740543" load-source="docdb">DE</country><country mxw-id="DS549743118" load-source="docdb">DK</country><country mxw-id="DS549743119" load-source="docdb">EE</country><country mxw-id="DS549815857" load-source="docdb">ES</country><country mxw-id="DS549813693" load-source="docdb">FI</country><country mxw-id="DS549812159" load-source="docdb">FR</country><country mxw-id="DS549740544" load-source="docdb">GB</country><country mxw-id="DS549743120" load-source="docdb">GR</country><country mxw-id="DS549740549" load-source="docdb">HR</country><country mxw-id="DS549741827" load-source="docdb">HU</country><country mxw-id="DS549815866" load-source="docdb">IE</country><country mxw-id="DS549743129" load-source="docdb">IS</country><country mxw-id="DS549812160" load-source="docdb">IT</country><country mxw-id="DS549743130" load-source="docdb">LI</country><country mxw-id="DS549813702" load-source="docdb">LT</country><country mxw-id="DS549907835" load-source="docdb">LU</country><country mxw-id="DS549813703" load-source="docdb">LV</country><country mxw-id="DS549813704" load-source="docdb">MC</country><country mxw-id="DS549907836" load-source="docdb">MK</country><country mxw-id="DS549907837" load-source="docdb">MT</country><country mxw-id="DS549907838" load-source="docdb">NL</country><country mxw-id="DS549741828" load-source="docdb">NO</country><country mxw-id="DS549907839" load-source="docdb">PL</country><country mxw-id="DS549743131" load-source="docdb">PT</country><country mxw-id="DS549813034" load-source="docdb">RO</country><country mxw-id="DS549743132" load-source="docdb">RS</country><country mxw-id="DS549907840" load-source="docdb">SE</country><country mxw-id="DS549740551" load-source="docdb">SI</country><country mxw-id="DS549741841" load-source="docdb">SK</country><country mxw-id="DS549741842" load-source="docdb">SM</country><country mxw-id="DS549815867" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA128673138" lang="EN" load-source="patent-office"><p id="pa01" num="0001">Methods and apparatus for determining slowness of wavefronts. An example apparatus includes one or more sources spaced from a receiver. The one or more sources are to transmit one or more signals and the receiver is to receive at least a portion of the one or more signals. The apparatus includes a processor to process waveform data associated with the one or more signals by stacking waveforms of the waveform data based on to linear moveout and sinusoidal moveout.
<img id="iaf01" file="imgaf001.tif" wi="72" he="69" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA128737287" lang="EN" source="EPO" load-source="docdb"><p>Methods and apparatus for determining slowness of wavefronts. An example apparatus includes one or more sources spaced from a receiver. The one or more sources are to transmit one or more signals and the receiver is to receive at least a portion of the one or more signals. The apparatus includes a processor to process waveform data associated with the one or more signals by stacking waveforms of the waveform data based on to linear moveout and sinusoidal moveout.</p></abstract><description mxw-id="PDES63959126" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001">BACKGROUND</heading><p id="p0001" num="0001">Determining slowness of a wavefront as the wavefront propagates along a length of a receiver array is used for various well placement and reservoir characterization tasks.</p><heading id="h0002">SUMMARY</heading><p id="p0002" num="0002">This summary is provided to introduce a selection of concepts that are further described below in the detailed description. This summary is not intended to identify key or essential features of the claimed subject matter, nor is it intended to be used as an aid in limiting the scope of the claimed subject matter.</p><p id="p0003" num="0003">An example method includes transmitting signals from a plurality of sources. The sources are spaced from an array of receivers of the downhole tool. The receivers are spaced around a circumference of the downhole tool. The method also includes obtaining waveform data associated with the signals received at one or more of the receivers and processing the waveform data to determine three-dimensional slowness-time coherence representation of the waveforms.</p><p id="p0004" num="0004">An example method includes transmitting a signal from a monopole source. The monopole source is spaced from an array of receivers of the downhole tool. The receivers are spaced around a circumference of the downhole tool. The method also includes obtaining waveform data associated with the signal received at one or more of the receivers and filtering the waveform data to substantially remove data associated with direct arrivals. The method also includes processing the filtered waveform data to determine three-dimensional slowness-time coherence representation of the waveforms and parameters of one or more non-direct wavefronts.<!-- EPO <DP n="2"> --></p><p id="p0005" num="0005">An example apparatus includes one or more sources spaced from a receiver. The one or more sources are to transmit one or more signals and the receiver is to receive at least a portion of the one or more signals. The apparatus includes a processor to process waveform data associated with the one or more signals by stacking waveforms of the waveform data based on linear moveout and sinusoidal moveout.</p><heading id="h0003">FIGURES</heading><p id="p0006" num="0006">Embodiments of methods and apparatus for determining the slowness of a wavefront are described with reference to the following figures. The same numbers are used throughout the figures to reference like features and components.
<ul><li><figref idrefs="f0001">FIG. 1</figref> is a ray tracing diagram depicting a borehole-guided wavefront.</li><li><figref idrefs="f0002">FIG. 2</figref> is a ray tracing diagram depicting a wavefront reflecting off a nearby Earth formation layer boundary.</li><li><figref idrefs="f0003">FIG. 3</figref> is a ray tracing diagram depicting a wavefront refracting along a nearby Earth formation layer boundary.</li><li><figref idrefs="f0004">FIG. 4</figref> depicts a one-dimensional slowness time coherence representation of several tool-borne and borehole-borne direct arrival wavefronts.</li><li><figref idrefs="f0005">FIG. 5</figref> illustrates an example system in which embodiments of the methods and apparatus for determining slowness of wavefronts can be implemented.</li><li><figref idrefs="f0006">FIGS. 6</figref>, <figref idrefs="f0007">7</figref>, <figref idrefs="f0008">8</figref>, and <figref idrefs="f0009">9</figref> represent 2D slices of a 3D slowness time coherence array as depicted using a 2D viewer application. <figref idrefs="f0006">FIGS. 6</figref>, <figref idrefs="f0007">7</figref>, and <figref idrefs="f0008">8</figref> depict direct borehole-borne arrival events, while <figref idrefs="f0009">FIG. 9</figref> depicts a non-direct reflected wavefront arrival.</li><li><figref idrefs="f0010">FIG. 10</figref> depicts an Earth formation with two layer boundaries, a borehole, and sonic logging device.<!-- EPO <DP n="3"> --></li><li><figref idrefs="f0011">FIGS. 11</figref>, <figref idrefs="f0012">12</figref>, and <figref idrefs="f0013">13</figref> depict results of using a CSG filtering technique to remove interference of borehole-borne direct arrival events.</li><li><figref idrefs="f0014">FIGS. 14, 15, and 16</figref> are logs of parameters automatically extracted from 3D slowness time coherence representations of waveforms produced using monopole sources and collected by a sonic logging device at different depth positions between, for example, the two boundaries depicted in <figref idrefs="f0012">Figure 12</figref>.</li><li><figref idrefs="f0015">FIG. 17</figref> depicts a curtain plot produced by a ray-tracer using the logs depicted in <figref idrefs="f0014">FIGS. 14, 15, and 16</figref>.</li><li><figref idrefs="f0016">FIGS. 18 and 19</figref> depict the wavefronts transmitted by a monopole and dipole source, respectively.</li><li><figref idrefs="f0017">FIG. 20</figref> depicts the results of applying the 1 D slowness time coherence algorithm to waveforms obtained using a dipole source.</li><li><figref idrefs="f0018">FIG. 21</figref> illustrates a finite difference model of an eccentered tool sonde in a borehole with acoustic receiver sensors distributed around the tool sonde and the relative orientation of a single dipole source firing.</li><li><figref idrefs="f0018">FIG. 22</figref> describes a tool sonde eccenterings and dipole source orientations associated with finite difference models such as that depicted in <figref idrefs="f0018">FIG. 21</figref>.</li><li><figref idrefs="f0019">FIG. 23</figref> represent a 2D slice of the 3D slowness time coherence array for waveforms generated according to the finite difference model depicted in <figref idrefs="f0018">FIG. 21</figref>.</li><li><figref idrefs="f0020">FIGS. 24</figref>, <figref idrefs="f0021">25</figref>, and <figref idrefs="f0022">26</figref> represent 2D slices of the 3D slowness time coherence array for waveforms generated according to two, three, and six dipole source firings at different azimuths as depicted using a 2D viewer application.</li><li><figref idrefs="f0023">FIG. 27</figref> represents a 2D scoring array indexed by inclination and azimuth angles used for automatically extracting parameter estimates from a 3D slowness time<!-- EPO <DP n="4"> --> coherence representation of waveforms produced using dipole source firings and formation models depicted in <figref idrefs="f0018">FIG. 22</figref>.</li><li><figref idrefs="f0024">FIG. 28</figref> illustrates an example system in which embodiments of the methods and apparatus methods and apparatus for determining slowness of wavefronts can be implemented.</li><li><figref idrefs="f0025">FIG. 29</figref> illustrates another example system in which embodiments of the methods and apparatus for determining slowness of wavefronts can be implemented can be implemented.</li><li><figref idrefs="f0026">FIG. 30</figref> depicts an example process that can be implemented using the example apparatus for methods and apparatus for determining slowness of wavefronts can be implemented.</li><li><figref idrefs="f0027">FIG. 31</figref> is a schematic illustration of an example processor platform that may be used and/or programmed to implement any or all of the example methods and apparatus described herein.</li></ul></p><heading id="h0004">DETAILED DESCRIPTION</heading><p id="p0007" num="0007">In the following detailed description of the preferred embodiments, reference is made to the accompanying drawings, which form a part hereof, and within which are shown by way of illustration specific embodiments by which the examples described herein may be practiced. It is to be understood that other embodiments may be utilized and structural changes may be made without departing from the scope of the disclosure.</p><p id="p0008" num="0008">Changes in layer velocity may be used to determine a state (e.g., a liquid state, a gas state) of hydrocarbons contained in nearby Earth formation layers. Additionally or alternatively, changes in layer velocity may indicate the presence of a nearby high pressure zone that can represent a drilling hazard or the location of a fault or fracture.<!-- EPO <DP n="5"> --> Identifying these Earth formation features can assist in determining optimal wellbore placement and in reservoir characterization when drilling exploration and/or production wells.</p><p id="p0009" num="0009">The examples disclosed herein relate to example methods and systems for processing and/or interpreting wavefront arrival events (e.g., direct and/or non-direct arrivals) and/or waveform measurements to determine arrival times and slowness propagation information for directions orthogonal to an axis of a tool sonde. The slowness propagation information may be used to determine directions of propagation of non-direct reflected and refracted arrivals in three spatial directions at an array of receivers. Obtaining information concerning propagation directions orthogonal to the axis of the tool sonde includes an observation concerning the variations in the arrival times at the receivers distributed around the circumference of the tool of a reflected wavefront as it propagates across a receiver array.</p><p id="p0010" num="0010">Wavefronts, initially generated by a sonic source, probe numerous Earth formation features by propagating, reflecting, and refracting across the fluid/borehole interface as well as various faults, fractures, and formation layer boundaries. <figref idrefs="f0001">FIGS. 1</figref>, <figref idrefs="f0002">2</figref>, and <figref idrefs="f0003">3</figref> depict example ray tracing diagrams that can be used to implement the examples disclosed herein.</p><p id="p0011" num="0011"><figref idrefs="f0001">FIG. 1</figref> shows a ray tracing diagram depicting a propagation and/or ray path 301 of a direct or primary borehole-guided wavefront that refracts along a borehole/fluid interface 302 from an acoustic source 303 to an array of receiver sensors 304. Compressional and shear wavefronts are two examples of such borehole-borne wavefronts. Other examples of direct wavefronts include a wavefront that propagates through the fluid contained in the borehole (e.g., the Stoneley wave) and the wavefront that propagates through a tool sonde.<!-- EPO <DP n="6"> --></p><p id="p0012" num="0012"><figref idrefs="f0002">FIG. 2</figref> is a ray tracing diagram depicts a propagation and/or ray path 401 of an indirect or non-direct wavefront emanating from an acoustic source 403 refracting across a borehole/fluid interface 402, reflecting off a nearby formation layer boundary 405 and arriving at an array of receivers 404.</p><p id="p0013" num="0013"><figref idrefs="f0003">FIG. 3</figref> is ray tracing diagram depicting a propagation, ray path and/or refracted wavefront 501 of an indirect or non-direct wavefront emanating from an acoustic source 503 refracting across a borehole/fluid interface 502, refracting along a nearby formation layer boundary 505 and arriving at an array of receivers 504. Other non-direct sonic wavefronts include those associated with fractures and geologic faults.</p><p id="p0014" num="0014">When using a monopole source, in some examples, slownesses of the direct wavefronts recorded at one of the receiver arrays 304 may be determined using a one-dimensional slowness time coherence algorithm. <i>w<sub>j</sub></i>(<i>t</i>) is the waveform associated with the j<sup>th</sup> of <i>M</i> source-receiver offsets (305 depicts the 7<sup>th</sup> source-receiver offset). <i>E<sub>c</sub></i>(τ,<i>s<sub>z</sub></i>) in Equation 1 estimates coherent energy of any wavefront arrival event with arrival time τ, duration <i>T<sub>W</sub></i>, and slowness <i>s<sub>z</sub></i> measured along the axis of a tool 306, while <i>E<sub>i</sub></i>(τ,<i>s<sub>z</sub></i>) shown in Equation 2 measures the total energy of the wavefront arrival event. Equation 3 is the ratio of Equations 2 and 3 which is the coherence of the wavefront arrival event. <maths id="math0001" num="equation 1"><math display="block"><msub><mi>E</mi><mi>c</mi></msub><mfenced separators=""><mi>τ</mi><mo>⁢</mo><msub><mi>s</mi><mi>z</mi></msub></mfenced><mo>=</mo><msubsup><mo>∫</mo><mn>0</mn><msub><mi>T</mi><mi>W</mi></msub></msubsup><mo>⁢</mo><msup><mfenced open="[" close="]" separators=""><mstyle displaystyle="false"><mstyle displaystyle="false"><munder><mo>∑</mo><mi>j</mi></munder></mstyle><msub><mi>w</mi><mi>j</mi></msub></mstyle><mfenced separators=""><mi>t</mi><mo>-</mo><mi>τ</mi><mo>-</mo><msub><mi>s</mi><mi>z</mi></msub><mo>⁢</mo><mfenced separators=""><msub><mi>z</mi><mi>j</mi></msub><mo>-</mo><msub><mi>z</mi><mn>1</mn></msub></mfenced></mfenced></mfenced><mn>2</mn></msup><mo>ⅆ</mo><mi>t</mi></math><img id="ib0001" file="imgb0001.tif" wi="117" he="12" img-content="math" img-format="tif"/></maths> <maths id="math0002" num="equation 2"><math display="block"><msub><mi>E</mi><mi>i</mi></msub><mfenced separators=""><mi>τ</mi><mo>⁢</mo><msub><mi>s</mi><mi>z</mi></msub></mfenced><mo>=</mo><mstyle displaystyle="false"><mstyle displaystyle="false"><munder><mo>∑</mo><mi>j</mi></munder></mstyle><msubsup><mo>∫</mo><mn>0</mn><msub><mi>T</mi><mi>W</mi></msub></msubsup><mo>⁢</mo><msubsup><mi>w</mi><mi>j</mi><mn>2</mn></msubsup></mstyle><mfenced separators=""><mi>t</mi><mo>-</mo><mi>τ</mi><mo>-</mo><msub><mi>s</mi><mi>z</mi></msub><mo>⁢</mo><mfenced separators=""><msub><mi>z</mi><mi>j</mi></msub><mo>-</mo><msub><mi>z</mi><mn>1</mn></msub></mfenced></mfenced><mo>ⅆ</mo><mi>t</mi></math><img id="ib0002" file="imgb0002.tif" wi="117" he="13" img-content="math" img-format="tif"/></maths> <maths id="math0003" num="equation 3"><math display="block"><mi mathvariant="italic">coh</mi><mfenced separators=""><mi>τ</mi><mo>⁢</mo><msub><mi>s</mi><mi>z</mi></msub></mfenced><mo>=</mo><msqrt><mfrac><mrow><msub><mi>E</mi><mi>c</mi></msub><mfenced separators=""><mi>τ</mi><mo>⁢</mo><msub><mi>s</mi><mi>z</mi></msub></mfenced></mrow><mrow><mi>M</mi><mo>⁢</mo><msub><mi>E</mi><mi>i</mi></msub><mfenced separators=""><mi>τ</mi><mo>⁢</mo><msub><mi>s</mi><mi>z</mi></msub></mfenced></mrow></mfrac></msqrt></math><img id="ib0003" file="imgb0003.tif" wi="73" he="15" img-content="math" img-format="tif"/></maths></p><p id="p0015" num="0015">Differences in arrival times at the receivers distributed around the circumference of the tool can be modeled explicitly when the non-direct wavefront is the refracted wavefront 501 depicted in <figref idrefs="f0003">FIG. 3</figref> and when, for purposes of modeling, the borehole 502<!-- EPO <DP n="7"> --> is treated as a thin fluid-filled Earth formation layer. Thus, the effects of diffraction around the borehole may be neglected. Equation 4 represents a time of arrival at the circular array of receivers 504 (also 704-708 of <figref idrefs="f0005">FIG. 5</figref>) around a circumference of a tool sonde, where α corresponds to a receiver azimuth 506, 712 (<figref idrefs="f0005">FIG. 5</figref>) of the receiver sensor around the circumference of the tool; α<sub>0</sub> corresponds to the azimuth direction to the nearby formation layer boundary 505; <i>r<sub>borhole</sub></i> corresponds to the radii of the borehole 502; <i>r<sub>tool</sub></i> corresponds to the radii of a tool 508; <i>v<sub>fluid</sub></i> corresponds to compressional wavespeed of the wellbore fluid; θ corresponds to an angle of incidence and/or inclination angle 507 of a wave at one or more of the circular arrays of receivers 504; and To corresponds to a number independent of the receiver azimuth (α) that depends on transmitter receiver spacing. <maths id="math0004" num="equation 4"><math display="block"><msub><mi>T</mi><mi mathvariant="italic">Refraction</mi></msub><mfenced><mi>α</mi></mfenced><mo>=</mo><msub><mi>T</mi><mn>0</mn></msub><mo>+</mo><mfrac><mrow><mi>cos</mi><mspace width="1em"/><mi>θ</mi></mrow><msub><mi>v</mi><mi mathvariant="italic">fluid</mi></msub></mfrac><mo>⁢</mo><mfenced separators=""><msub><mi>r</mi><mi mathvariant="italic">borhole</mi></msub><mo>-</mo><msub><mi>r</mi><mi mathvariant="italic">tool</mi></msub><mspace width="1em"/><mi>sin</mi><mfenced separators=""><mi>α</mi><mo>-</mo><msub><mi>α</mi><mn>0</mn></msub></mfenced></mfenced></math><img id="ib0004" file="imgb0004.tif" wi="157" he="14" img-content="math" img-format="tif"/></maths></p><p id="p0016" num="0016">When <i>v<sub>fluid</sub></i> = 1500 meters per second, when the tool radius is 3 inches, and when the inclination angle 507 made by the refracted wavefront arrival event arriving at the receiver array 504 is 45 degrees, the total variation in the arrival times predicted by Equation 4 is approximately 70 microseconds. Thus, Equation 4 shows that the arrival times of the wavefronts received at the receivers 504 vary sinusoidally as a function of the receiver azimuth α 506 (e.g., have a sinusoidal moveout) and linearly as a function of receiver-source offset distance 305 (e.g., have a linear moveout).</p><p id="p0017" num="0017">To obtain slowness propagation information for directions orthogonal to the axis of a tool sonde, 3D slowness-time coherence algorithm can be constructed where slowness is represented in three spatial dimensions by a vector <b><i>s</i></b> = (<i>s<sub>x</sub></i>,<i>s<sub>y</sub></i>,<i>s<sub>z</sub></i>) in 3-D Cartesian coordinates where z is the direction along an axis of the tool sonde 508. Further, the coordinates <i><b>x</b><sub>j,α<sub2>k</sub2></sub></i>, represented by Equation 5 below, identify the 3-D spatial<!-- EPO <DP n="8"> --> locations of the receiver sensors around the circumference of the tool sonde 508 having a radius, <i>r<sub>tool</sub></i>. The waveform data recorded at those sensors is represented by <i>w</i><sub><i>j</i>,α<i><sub>k</sub></i></sub>(<i>t</i>)<i>.</i> <maths id="math0005" num="equation 5"><math display="block"><msub><mi mathvariant="bold-italic">x</mi><mrow><mi>j</mi><mo>,</mo><msub><mi>α</mi><mi>k</mi></msub></mrow></msub><mo>=</mo><mfenced separators=""><msub><mi>r</mi><mi mathvariant="italic">tool</mi></msub><mspace width="1em"/><mi>cos</mi><mspace width="1em"/><msub><mi>α</mi><mi>k</mi></msub><mo>,</mo><msub><mi>r</mi><mi mathvariant="italic">tool</mi></msub><mspace width="1em"/><mi>sin</mi><mspace width="1em"/><msub><mi>α</mi><mi>k</mi></msub><mo>,</mo><msub><mi>z</mi><mi>j</mi></msub><mo>-</mo><msub><mi>z</mi><mn>1</mn></msub></mfenced></math><img id="ib0005" file="imgb0005.tif" wi="110" he="13" img-content="math" img-format="tif"/></maths></p><p id="p0018" num="0018"><i>E<sub>c</sub></i>(τ,<b><i>s</i></b>) in Equation 6 estimates the coherent energy of any wavefront arrival event with arrival time τ, duration <i>T<sub>W</sub>,</i> and slowness s in 3-D Cartesian coordinates, while <i>E<sub>i</sub></i>(τ,<b><i>s</i></b>) shown in Equation 7 measures the total energy of the wavefront arrival event. Their ratio in shown in Equation 8 is the coherence of the arrival event. Ω represents the collection of receiver azimuth angles α<i><sub>k</sub></i> where waveforms are received. Equations 6, 7, and 8 can be computed for waveform data <i>w</i><sub><i>j,</i>α<i><sub>k</sub></i></sub>(<i>t</i>) recorded using one or more firings of a monopole source. <maths id="math0006" num="equation 6"><math display="block"><msub><mi>E</mi><mi>c</mi></msub><mfenced separators=""><mi>τ</mi><mo>⁢</mo><mi mathvariant="bold-italic">s</mi></mfenced><mo>=</mo><msubsup><mo>∫</mo><mn>0</mn><msub><mi>T</mi><mi>W</mi></msub></msubsup><mo>⁢</mo><msup><mfenced open="[" close="]" separators=""><mstyle displaystyle="false"><mstyle displaystyle="false"><munder><mo>∑</mo><mrow><mi>j</mi><mo>,</mo><mi>k</mi></mrow></munder></mstyle><msub><mi>w</mi><mrow><mi>j</mi><mo>,</mo><msub><mi>α</mi><mi>k</mi></msub></mrow></msub></mstyle><mfenced separators=""><mi>t</mi><mo>-</mo><mi>τ</mi><mo>-</mo><mi mathvariant="bold-italic">s</mi><mo>⋅</mo><msub><mi mathvariant="bold-italic">x</mi><mrow><mi>j</mi><mo>,</mo><msub><mi>α</mi><mi>k</mi></msub></mrow></msub></mfenced></mfenced><mn>2</mn></msup><mo>ⅆ</mo><mi>t</mi></math><img id="ib0006" file="imgb0006.tif" wi="123" he="14" img-content="math" img-format="tif"/></maths> <maths id="math0007" num="equation 7"><math display="block"><msub><mi>E</mi><mi>i</mi></msub><mfenced separators=""><mi>τ</mi><mo>⁢</mo><mi mathvariant="bold-italic">s</mi></mfenced><mo>=</mo><mstyle displaystyle="false"><mstyle displaystyle="false"><munder><mo>∑</mo><mrow><mi>j</mi><mo>,</mo><mi>k</mi></mrow></munder></mstyle><msubsup><mo>∫</mo><mn>0</mn><msub><mi>T</mi><mi>W</mi></msub></msubsup><mo>⁢</mo><msubsup><mi>w</mi><mrow><mi>j</mi><mo>,</mo><msub><mi>α</mi><mi>k</mi></msub></mrow><mn>2</mn></msubsup></mstyle><mfenced separators=""><mi>t</mi><mo>-</mo><mi>τ</mi><mo>-</mo><mi mathvariant="bold-italic">s</mi><mo>⋅</mo><msub><mi mathvariant="bold-italic">x</mi><mrow><mi>j</mi><mo>,</mo><msub><mi>α</mi><mi>k</mi></msub></mrow></msub></mfenced><mo>ⅆ</mo><mi>t</mi></math><img id="ib0007" file="imgb0007.tif" wi="123" he="12" img-content="math" img-format="tif"/></maths> <maths id="math0008" num="equation 8"><math display="block"><mi mathvariant="italic">coh</mi><mfenced separators=""><mi>τ</mi><mo>⁢</mo><mi mathvariant="bold-italic">s</mi></mfenced><mo>=</mo><msqrt><mfrac><mrow><msub><mi>E</mi><mi>c</mi></msub><mfenced separators=""><mi>τ</mi><mo>⁢</mo><mi mathvariant="bold-italic">s</mi></mfenced></mrow><mrow><mi>M</mi><mfenced open="|" close="|"><mi mathvariant="normal">Ω</mi></mfenced><mo>⁢</mo><msub><mi>E</mi><mi>i</mi></msub><mfenced separators=""><mi>τ</mi><mo>⁢</mo><mi mathvariant="bold-italic">s</mi></mfenced></mrow></mfrac></msqrt></math><img id="ib0008" file="imgb0008.tif" wi="79" he="16" img-content="math" img-format="tif"/></maths></p><p id="p0019" num="0019">The slowness <b><i>s</i></b> may be parameterized in Cartesian coordinates, cylindrical coordinates and/or spherical coordinates. Additionally, the examples may employ a subset of the 3D slowness-time coherence representation either for reasons of computational or memory capacity limitations or to incorporate prior knowledge of the location of various Earth formation features of interest, for example.</p><p id="p0020" num="0020">Equation 9 shows that the coherent energy estimator in Equation 6 stacks the waveform measurements <i>w</i><sub><i>j,</i>α<i><sub>k</sub></i></sub>(<i>t</i>) with a sinusoidal moveout as a function of the receiver azimuth α<i><sub>k</sub></i> 506 and with a linear moveout as a function of the source receiver offset <i>z<sub>j</sub></i> - <i>z</i><sub>1</sub> 305. <maths id="math0009" num="equation 9"><math display="block"><msub><mrow><mi mathvariant="bold-italic">s</mi><mo>⋅</mo><mi mathvariant="bold-italic">x</mi></mrow><mrow><mi>j</mi><mo>,</mo><msub><mi>α</mi><mi>k</mi></msub></mrow></msub><mo>=</mo><mfenced separators=""><msub><mi>s</mi><mi>x</mi></msub><mspace width="1em"/><mi>cos</mi><mspace width="1em"/><msub><mi>α</mi><mi>k</mi></msub><mo>+</mo><msub><mi>s</mi><mi>y</mi></msub><mspace width="1em"/><mi>sin</mi><mspace width="1em"/><msub><mi>α</mi><mi>k</mi></msub><mo>,</mo></mfenced><mo>⁢</mo><msub><mi>r</mi><mi mathvariant="italic">tool</mi></msub><mo>+</mo><msub><mi>s</mi><mi>z</mi></msub><mo>⁢</mo><mfenced separators=""><msub><mi>z</mi><mi>j</mi></msub><mo>-</mo><msub><mi>z</mi><mn>1</mn></msub></mfenced></math><img id="ib0009" file="imgb0009.tif" wi="133" he="15" img-content="math" img-format="tif"/></maths><!-- EPO <DP n="9"> --></p><p id="p0021" num="0021">The coherence estimator <i>coh</i>(τ<i>,<b>s</b></i>) of Equation 8 may be used to detect and characterize both the refracted and reflected waves from nearby formation layer boundaries as well as the direct compressional, shear, and Stoneley arrivals.</p><p id="p0022" num="0022"><figref idrefs="f0004">FIG. 4</figref> shows a one-dimensional slowness time coherence representation including a viewer panel 601 produced by the processing described in Equations 1-3 for the waveform measurements including several direct arrival wavefronts received at the receiver arrays 304 (<figref idrefs="f0001">FIG. 1</figref>). An x-axis 604 corresponds to the wavefront arrival time, τ, while a y-axis 605 corresponds to the wavefront slowness, <i>s<sub>z</sub></i> as measured along the axis of the tool 306. The most coherent arrival events are indicated with a high coherence value (e.g., adjacent the Stoneley, Shear, compressional arrival events and the tool). These arrival events include the direct primary compressional and shear arrivals, as well as the fluid arrival (Stoneley) and the tool-borne direct arrival. Estimates of the slownesses of the individual direct arrival wavefronts may be obtained by a peak finding algorithm. In this example, slider 603 corresponds to azimuth angle 509.</p><p id="p0023" num="0023"><figref idrefs="f0005">FIG. 5</figref> depicts an example downhole tool and/or tool sonde 700 that may be used to implement the examples disclosed herein. The tool sonde 700 includes a plurality of receiver arrays 704 - 708, each having receivers distributed about a circumference of the tool sonde 700. A non-direct reflected or refracted wavefront 710 is depicted as approaching the receiver arrays 704 - 708. The wavefront 710 first arrives at receivers facing and/or closest to the formation boundary and later arrives at receivers facing away and/or farther from the formation boundary.</p><p id="p0024" num="0024"><figref idrefs="f0006">FIGS. 6</figref>, <figref idrefs="f0007">7</figref>, <figref idrefs="f0008">8</figref>, and <figref idrefs="f0009">9</figref> represent 2D slices of a coherence array <i>coh</i>(τ<i>,<b>s</b></i>) of Equation 8 where 3D slowness s is given in cylindrical coordinates as defined in<!-- EPO <DP n="10"> --> Equation 10. <figref idrefs="f0006 f0007 f0008 f0009">FIGS. 6 - 9</figref> represent example uses of an example viewer application that may show the possible 2-D slices of a 4-dimensional coherence cube <i>coh</i>(τ<i>,<b>s</b></i>)<i>.</i> <maths id="math0010" num="equation 10"><math display="block"><mi mathvariant="bold-italic">s</mi><mo>=</mo><mfenced separators=""><msub><mi>s</mi><mi>ρ</mi></msub><mo>⁢</mo><mi>φ</mi><mo>⁢</mo><msub><mi>s</mi><mi>z</mi></msub></mfenced><mo>=</mo><mfenced separators=""><msqrt><msubsup><mi>s</mi><mi>x</mi><mi>z</mi></msubsup><mo>+</mo><msubsup><mi>s</mi><mi>y</mi><mn>2</mn></msubsup></msqrt><mo>,</mo><mi>atan</mi><mo>⁢</mo><mfrac><msub><mi>s</mi><mi>y</mi></msub><msub><mi>s</mi><mi>x</mi></msub></mfrac><mo>,</mo><msub><mi>s</mi><mi>z</mi></msub></mfenced><mn>.</mn></math><img id="ib0010" file="imgb0010.tif" wi="125" he="13" img-content="math" img-format="tif"/></maths></p><p id="p0025" num="0025"><figref idrefs="f0006">FIGS. 6</figref>, <figref idrefs="f0007">7</figref>, and <figref idrefs="f0008">8</figref> represent example uses of a 2D viewer application to characterize compressional, shear, and Stoneley direct arrivals, respectively. The arrival events shown in 2D viewer panels 801, 901, and 1001 are described in terms of their propagation slowness along the tool axis, as indicated by an x-axes 804, 904, 1004 and in terms of their azimuthal resolution as indicated by a y-axes 805 905 1005. A 2D viewer slider bar settings 802, 902, and 1002 for radial slowness <i>s<sub>ρ</sub></i> are zero, indicating that events propagating along the tool axis direction (the z-direction) will be shown in the viewer panels 801, 901, and 1001, respectively. The 2D viewer settings for arrival times τ shown made using a second slider bar 803, 903, and 1003 are 980, 2020, and 2620 in microseconds, indicating the arrival times of the displayed direct arrival events. The arrival events shown in 2D viewer panels 801, 901, and 1001 are vertical bands positioned at different <i>s<sub>z</sub></i> slowness values indicating their coherence is essentially constant as a function of the azimuth angle ϕ 509 . This vertical band is consistent with the fact that the propagation direction of these three direct arrival wavefronts is along the borehole wall or within the borehole fluid and parallel with the axis of the tool 508. Thus, each direct wavefront arrives simultaneously at the receivers with the fixed source-receiver offset 305.</p><p id="p0026" num="0026"><figref idrefs="f0009">FIG. 9</figref> represents an example use of a 2D viewer application to characterize a reflected arrival. A first slider bar 1102 indicates that the radial slowness is <i>s<sub>ρ</sub></i> = 130 microseconds per foot. This indicates that the propagation direction of the events shown in a viewer panel 1101 is not parallel to the tool 508 axis but rather crosses the<!-- EPO <DP n="11"> --> tool axis. A second slider bar setting 1103 indicates that the arrival time (τ = 1540 microseconds) of the reflected event arrives approximately between the arrival times of the compressional and shear arrivals as indicated by reference numbers 803 and 903. The localization of the arrival event along a vertical and/or y-axis axis 1105 of the viewer panel 1101 indicates that the 3D slowness-time coherence representation <i>coh</i>(τ<i>,<b>s</b></i>) is able to characterize the azimuth angle ϕ 509 of the wavefront's propagation direction.</p><p id="p0027" num="0027"><figref idrefs="f0004">FIG. 4</figref> described above also represents an example use of a 2D viewer application to characterize the compressional, shear, Stoneley, and tool-borne direct arrivals. In this example, the 3D slowness s in the 3D slowness time coherence representation <i>coh</i>(τ<i>,<b>s</b></i>) has been parameterized in spherical coordinates as defined in Equation 11. The slider bar 602 indicates that the inclination angle θ 507 is zero degrees, so that events propagating along the tool 508 axis direction (the z-direction) will be shown in the viewer panels 601 and radial slowness displayed on the y-axis 605 is equal to slowness measured along the tool axis direction <i>s<sub>r</sub></i> = <i>s<sub>z</sub>.</i> In this way, the 1 D-slowness time coherence algorithm representation <i>coh</i>(τ,<i>s<sub>z</sub></i>) obtained using Equations 1, 2, and 3 is also a particular subset of the 3D-slowness time coherence representation obtained using Equations 6, 7, and 8. <maths id="math0011" num="equation 11"><math display="block"><mi mathvariant="bold-italic">s</mi><mo>=</mo><mfenced separators=""><msub><mi>s</mi><mi>r</mi></msub><mo>⁢</mo><mi>θ</mi><mo>⁢</mo><mi>φ</mi></mfenced><mo>=</mo><mfenced separators=""><msqrt><msubsup><mi>s</mi><mi>x</mi><mn>2</mn></msubsup><mo>+</mo><msubsup><mi>s</mi><mi>y</mi><mn>2</mn></msubsup><mo>+</mo><msubsup><mi>s</mi><mi>z</mi><mn>2</mn></msubsup></msqrt><mo>,</mo><mfrac><mi>π</mi><mn>2</mn></mfrac><mo>-</mo><mi>acos</mi><mo>⁢</mo><mfrac><msub><mi>s</mi><mi>z</mi></msub><msub><mi>s</mi><mi>r</mi></msub></mfrac><mo>,</mo><mi>atan</mi><mo>⁢</mo><mfrac><msub><mi>s</mi><mi>y</mi></msub><msub><mi>s</mi><mi>x</mi></msub></mfrac></mfenced></math><img id="ib0011" file="imgb0011.tif" wi="149" he="14" img-content="math" img-format="tif"/></maths></p><p id="p0028" num="0028">In some examples, the precision with which the slowness orthogonal to an axis of the tool sonde 508, <i>s<sub>x</sub></i>,<i>s<sub>y</sub></i> can be estimated or characterized. For example, for an acoustic source 503 whose bandwidth, B, is equal to 26 kHz, a radius of the tool, <i>r<sub>tool</sub></i>, is equal to 6 inches and a receiver aperture 406, A, is equal to 2 feet. The precision with which the arrival time τ of a wavefront received at a receiver array 504 may be obtained is given by <maths id="math0012" num=""><math display="inline"><mfrac><mn>1</mn><mi>B</mi></mfrac><mo>=</mo><mn>40</mn><mo>⁢</mo><mi mathvariant="italic">μs</mi><mn>.</mn></math><img id="ib0012" file="imgb0012.tif" wi="20" he="11" img-content="math" img-format="tif" inline="yes"/></maths> The precision with which the slowness estimate <i>s<sub>z</sub></i> along<!-- EPO <DP n="12"> --> the tool 508 axis may be obtained is described by <maths id="math0013" num=""><math display="inline"><mfrac><mn>1</mn><mi mathvariant="italic">AB</mi></mfrac><mo>=</mo><mn>20</mn><mo>⁢</mo><mfrac><mi mathvariant="italic">μs</mi><mi mathvariant="italic">ft</mi></mfrac><mn>.</mn></math><img id="ib0013" file="imgb0013.tif" wi="23" he="11" img-content="math" img-format="tif" inline="yes"/></maths> The precision with which slownesses in directions orthogonal to the tool axis, <i>s<sub>x</sub></i> and <i>s<sub>y</sub></i>, may be obtained is described by <maths id="math0014" num=""><math display="inline"><mfrac><mn>1</mn><mrow><mn>2</mn><mo>⁢</mo><msub><mi mathvariant="italic">Br</mi><mi mathvariant="italic">tool</mi></msub></mrow></mfrac><mo>=</mo><mn>40</mn><mo>⁢</mo><mfrac><mi mathvariant="italic">μs</mi><mi mathvariant="italic">ft</mi></mfrac><mn>.</mn></math><img id="ib0014" file="imgb0014.tif" wi="31" he="13" img-content="math" img-format="tif" inline="yes"/></maths> The precision estimate depends inversely on the radius of the tool sonde <i>r<sub>tool</sub></i> is indicative that the examples disclosed herein may be used in connection with larger diameter tool sondes that may be used in connection with logging-while-drilling operations.</p><p id="p0029" num="0029">In some examples, only the Fourier Transform of the recorded waveform measurements <i>w</i><sub><i>j,</i>α<i><sub>k</sub></i></sub>(<i>t</i>), denoted by <i>ŵ</i><sub><i>j,</i>α<i><sub>k</sub></i></sub>(ξ)<i>,</i> may be available where ξ may represent frequency in Hertz. Equations 12, 13, and 14 describe a 3D slowness representation that may be used as an alternative to the 3D slowness time coherence representation described in Equations 6, 7, and 8. <maths id="math0015" num="equation 12"><math display="block"><msub><mi>E</mi><mi>c</mi></msub><mfenced><mi mathvariant="bold-italic">s</mi></mfenced><mo>=</mo><mo>∫</mo><msup><mfenced open="|" close="|" separators=""><mstyle displaystyle="false"><mstyle displaystyle="false"><munder><mo>∑</mo><mrow><mi>j</mi><mo>,</mo><mi>k</mi></mrow></munder></mstyle><mspace width="1em"/><mi>exp</mi><mfenced separators=""><mo>-</mo><mn>2</mn><mo>⁢</mo><mi mathvariant="italic">πiξ</mi><mfenced separators=""><mi mathvariant="bold-italic">s</mi><mo>⋅</mo><msub><mi mathvariant="bold-italic">x</mi><mrow><mi>j</mi><mo>,</mo><msub><mi>α</mi><mi>k</mi></msub></mrow></msub></mfenced></mfenced><mo>⁢</mo><msub><mover><mi>w</mi><mo>^</mo></mover><mrow><mi>j</mi><mo>,</mo><msub><mi>α</mi><mi>k</mi></msub></mrow></msub></mstyle><mfenced><mi mathvariant="italic">ξ</mi></mfenced></mfenced><mn>2</mn></msup><mo>ⅆ</mo><mi mathvariant="italic">ξ</mi></math><img id="ib0015" file="imgb0015.tif" wi="126" he="16" img-content="math" img-format="tif"/></maths> <maths id="math0016" num="equation 13"><math display="block"><msub><mi>E</mi><mi>i</mi></msub><mfenced><mi mathvariant="bold-italic">s</mi></mfenced><mo>=</mo><mstyle displaystyle="false"><munder><mo>∑</mo><mrow><mi>j</mi><mo>,</mo><mi>k</mi></mrow></munder></mstyle><mo>∫</mo><msup><mfenced open="|" close="|" separators=""><mstyle displaystyle="false"><msub><mover><mi>w</mi><mo>^</mo></mover><mrow><mi>j</mi><mo>,</mo><msub><mi>α</mi><mi>k</mi></msub></mrow></msub></mstyle><mfenced><mi mathvariant="italic">ξ</mi></mfenced></mfenced><mn>2</mn></msup><mo>ⅆ</mo><mi mathvariant="italic">ξ</mi></math><img id="ib0016" file="imgb0016.tif" wi="85" he="12" img-content="math" img-format="tif"/></maths> <maths id="math0017" num="equation 14"><math display="block"><mi mathvariant="italic">coh</mi><mfenced><mi mathvariant="bold-italic">s</mi></mfenced><mo>=</mo><msqrt><mfrac><mrow><msub><mi>E</mi><mi>c</mi></msub><mfenced><mi mathvariant="bold-italic">s</mi></mfenced></mrow><mrow><mi>M</mi><mfenced open="|" close="|"><mi mathvariant="normal">Ω</mi></mfenced><mo>⁢</mo><msub><mi>E</mi><mi>i</mi></msub><mfenced><mi mathvariant="bold-italic">s</mi></mfenced></mrow></mfrac></msqrt></math><img id="ib0017" file="imgb0017.tif" wi="76" he="15" img-content="math" img-format="tif"/></maths></p><p id="p0030" num="0030">The coherent energy estimator <i>E<sub>c</sub></i>(<i>s</i>) described in Equation 12 also stacks the waveform measurements <i>w</i><sub><i>j,</i>α<i><sub>k</sub></i></sub>(<i>t</i>) with a sinusoidal moveout as a function of the receiver azimuth α<i><sub>k</sub></i> 506 and with a linear moveout as a function of the source receiver offset <i>z<sub>j</sub></i> - <i>z</i><sub>1</sub> 305, but, in this example, this operation is done in the Fourier domain.</p><p id="p0031" num="0031">For the example described in <figref idrefs="f0006">FIGS. 6</figref>, <figref idrefs="f0007">7</figref>, <figref idrefs="f0008">8</figref>, and <figref idrefs="f0009">9</figref>, the reflected arrival is readily identifiable and not strongly interfered with by the compressional, shear, and Stoneley direct arrival events. Depending on the relative distance of the nearby formation layer boundary 505 to the acoustic tool 508, the direct arrivals can sometimes strongly interfere with the reflected arrival event. To enable the reflected arrivals to be more<!-- EPO <DP n="13"> --> easily identified, direct arrivals may be removed from the waveform data using a wideband common source gather (CSG) filter represented by Equations 15 and 16. Equation 15 is used to determine a projection of the input waveforms <i>w</i><sub><i>j,</i>α<i><sub>k</sub></i></sub>(<i>t</i>) according to moveout velocity, υ, which is subtracted from the input waveforms to form a residual using Equation 16. In some examples, Equations 15 and 16 may be used for each of the Stoneley velocity, <i>v<sub>fluid</sub>,</i> the compressional velocity, <i>v<sub>c</sub></i> and the shear velocity, <i>v<sub>s</sub></i>, which may be obtained from acoustic logging results produced by projecting results of a 1-D slowness-time coherence algorithm described in Equations 1, 2, and 3 onto a slowness axis. <maths id="math0018" num="equation 15"><math display="block"><msubsup><mi>w</mi><mi>j</mi><mi mathvariant="italic">projection</mi></msubsup><mfenced separators=""><mi>t</mi><mo>⁢</mo><mi>v</mi></mfenced><mo>=</mo><mfrac><mn>1</mn><mrow><mi>M</mi><mfenced open="|" close="|"><mi mathvariant="normal">Ω</mi></mfenced></mrow></mfrac><mstyle displaystyle="false"><munder><mo>∑</mo><mrow><mi>l</mi><mo>⁢</mo><msub><mi>α</mi><mi>k</mi></msub></mrow></munder><mo>⁢</mo><msubsup><mi>w</mi><mrow><mi>l</mi><mo>,</mo><msub><mi>α</mi><mi>k</mi></msub></mrow><mi mathvariant="italic">input</mi></msubsup></mstyle><mfenced separators=""><mi>t</mi><mo>+</mo><mfrac><mrow><msub><mi>z</mi><mi>l</mi></msub><mo>-</mo><msub><mi>z</mi><mi>j</mi></msub></mrow><mi>v</mi></mfrac></mfenced></math><img id="ib0018" file="imgb0018.tif" wi="120" he="11" img-content="math" img-format="tif"/></maths> <maths id="math0019" num="equation 16"><math display="block"><msubsup><mi>w</mi><mrow><mi>j</mi><mo>,</mo><msub><mi>α</mi><mi>k</mi></msub></mrow><mi mathvariant="italic">residual</mi></msubsup><mfenced separators=""><mi>t</mi><mo>⁢</mo><mi>v</mi></mfenced><mo>=</mo><msubsup><mi>w</mi><mrow><mi>l</mi><mo>,</mo><msub><mi>α</mi><mi>k</mi></msub></mrow><mi mathvariant="italic">input</mi></msubsup><mfenced><mi>t</mi></mfenced><mo>-</mo><msubsup><mi>w</mi><mi>j</mi><mi mathvariant="italic">projection</mi></msubsup><mfenced separators=""><mi>t</mi><mo>⁢</mo><mi>v</mi></mfenced></math><img id="ib0019" file="imgb0019.tif" wi="120" he="15" img-content="math" img-format="tif"/></maths></p><p id="p0032" num="0032"><figref idrefs="f0010">FIG. 10</figref> depicts a formation 1200 having layer boundaries 1201, 1202 and <figref idrefs="f0011">FIGS. 11</figref>, <figref idrefs="f0012">12</figref>, and <figref idrefs="f0013">13</figref> illustrate the results of using the CSG filtering technique described by Equations 15 and 16. In operation, waveforms are collected at a receiver array 1203 after firing a monopole source located at location 1204.</p><p id="p0033" num="0033"><figref idrefs="f0013">FIG.13</figref> shows a 2D slice of a coherence array <i>coh</i>(τ,<b><i>s</i></b>) where the slowness s is parameterized in spherical coordinates defined in Equation 11. The arrival events shown in a 2D viewer panel 1301 are described in terms of their inclination angle 507 as indicated by a viewer panel y-axis label 1305 and by their azimuth angle 509 as indicated by a x-axis label 1304. The radial slowness <i>s<sub>r</sub></i> shown on a slider bar 1302 is set to 130 us/ft which is equal to the compressional wavespeed computed using the 1 D slowness time coherence algorithm via Equations 1, 2, and 3. A slider bar 1303 is set to 150x10<sup>-5</sup> seconds, the approximate arrival time for both the reflections from the top boundary 1201 and bottom boundary 1202. The interference of the direct arrivals<!-- EPO <DP n="14"> --> strongly obscures the reflected arrivals from the top and bottom boundaries, so no arrival events are evident in the 2D viewer display panel 1301.</p><p id="p0034" num="0034"><figref idrefs="f0012">FIG. 12</figref> illustrates the results of first filtering the waveforms using Equations 15 and 16 for compressional, shear, and Stoneley velocities <i>v<sub>c</sub></i> = 130 us/ft, <i>v<sub>s</sub></i> = 240 us/ft, and <i>v<sub>fluid</sub></i> = 320 us/ft and then computing the 3D slowness-time coherence algorithm representation described in Equations 6, 7, and 8 for slowness <b><i>s</i></b> in spherical coordinates. In this example, the 2D slice selected using slider controls 1402 and 1403 is the same as was selected in <figref idrefs="f0011">FIG. 11</figref>. Filtering the waveforms enables the reflections to be more apparent in a viewer panel 1401 such as, for example, reflections from the water sand boundary and/or bottom boundary 1202 below the tool at azimuth ϕ = -90° and a cap rock boundary and/or top boundary 1201 above the tool at azimuth ϕ = 90°. In this example, the x-axis 1404 corresponds to azimuth angle.</p><p id="p0035" num="0035"><figref idrefs="f0013">FIG. 13</figref> illustrates the use of three applications of the CSG filter described in Equations 15 and 16, once for the three direct arrival event velocities <i>v<sub>c</sub></i>, = 130 us/ft, <i>v<sub>s</sub></i> = 240 us/ft, and <i>v<sub>fluid</sub></i> = 320 us/ft, a second application for the velocities <i>v<sub>c</sub></i> = 134 us/ft, <i>v<sub>s</sub></i> = 244 us/ft, and <i>v<sub>fluid</sub></i> = 324 us/ft, and a third time for the velocities <i>v<sub>c</sub></i> = 126 us/ft, <i>v<sub>s</sub></i> = 236 us/ft, and <i>v<sub>fluid</sub></i> = 316 us/ft. This filtering procedure was followed by computation of the 3D slowness-time coherence algorithm representation described in Equations 6, 7, and 8 for slowness <b><i>s</i></b> in spherical coordinates. A 2D viewer panel 1501 shows the same 2D slice of the 3D STC array representation <i>coh</i>(<sub>τ</sub><i>,<b>s</b></i>) as was selected in <figref idrefs="f0011">FIGS. 11</figref> and <figref idrefs="f0012">12</figref> using slider bars 1502 and 1503. The two reflected arrival events from the two nearby Earth formation layer boundaries 1201 and 1202 are quite apparent in the display and/or viewer panel 1501. In this example, the x-axis 1504 corresponds to azimuth angle and the y-axis 1505 corresponds to inclination angle.<!-- EPO <DP n="15"> --></p><p id="p0036" num="0036">In addition to the interference of the borehole-borne direct compressional, shear, and Stoneley arrivals, the tool-borne direct arrival can also cause significant interference effects and obscure the reflected arrival. A semblance modification technique may be used to remove the signature of the tool-borne direct arrival from the 3D slowness time coherence representation <i>coh</i>(τ<i>,<b>s</b></i>) as follows. Because the coherent energy of the tool arrival may often be very low, an energy threshold value <i>E<sub>t</sub></i> may be chosen and Equation 17 may be used to define <i>coh</i>(τ<i>,<b>s</b></i>) instead of Equation 8. Note that when <maths id="math0020" num=""><math display="inline"><msqrt><msub><mi>E</mi><mi>C</mi></msub><mfenced separators=""><mi>τ</mi><mo>⁢</mo><mi mathvariant="bold-italic">s</mi></mfenced></msqrt><mo>&gt;</mo><msub><mi>E</mi><mi>t</mi></msub><mo>,</mo></math><img id="ib0020" file="imgb0020.tif" wi="29" he="10" img-content="math" img-format="tif" inline="yes"/></maths> this definition of <i>coh</i>(τ<i>,<b>s</b></i>) in Equation 17 is the same as the definition provided in Equation 8, however, when <maths id="math0021" num=""><math display="inline"><mn>2</mn><mo>⁢</mo><msqrt><msub><mi>E</mi><mi>C</mi></msub><mfenced separators=""><mi>τ</mi><mo>⁢</mo><mi mathvariant="bold-italic">s</mi></mfenced></msqrt><mo>&lt;</mo><msub><mi>E</mi><mi>t</mi></msub><mo>,</mo></math><img id="ib0021" file="imgb0021.tif" wi="34" he="10" img-content="math" img-format="tif" inline="yes"/></maths> <i>coh</i>(τ,<b><i>s</i></b>) = 0. This method may allow for the reduction or removal of the tool-borne direct arrival event from the 3D slowness time coherence representation. <maths id="math0022" num="equation 17"><math display="block"><mi mathvariant="italic">coh</mi><mfenced separators=""><mi>τ</mi><mo>⁢</mo><mi>s</mi></mfenced><mo>=</mo><msqrt><mfrac><mrow><mi>max</mi><mo>⁢</mo><mfenced separators=""><mn>0</mn><mo>,</mo><mi>max</mi><mfenced separators=""><msub><mi>E</mi><mi>t</mi></msub><mo>⁢</mo><msqrt><msub><mi>E</mi><mi>c</mi></msub><mfenced separators=""><mi>τ</mi><mo>⁢</mo><mi>s</mi></mfenced></msqrt></mfenced><mo>*</mo><mfenced separators=""><mn>2</mn><mo>⁢</mo><msqrt><msub><mi>E</mi><mi>c</mi></msub><mfenced separators=""><mi>τ</mi><mo>⁢</mo><mi>s</mi></mfenced></msqrt><mo>-</mo><mi>max</mi><mfenced separators=""><msub><mi>E</mi><mi>t</mi></msub><mo>⁢</mo><msqrt><msub><mi>E</mi><mi>c</mi></msub><mfenced separators=""><mi>τ</mi><mo>⁢</mo><mi>s</mi></mfenced></msqrt></mfenced></mfenced></mfenced></mrow><mrow><mi>M</mi><mfenced open="|" close="|"><mi>Ω</mi></mfenced><mo>⁢</mo><msub><mi>E</mi><mi>i</mi></msub><mfenced separators=""><mi>τ</mi><mo>⁢</mo><mi>s</mi></mfenced></mrow></mfrac></msqrt></math><img id="ib0022" file="imgb0022.tif" wi="165" he="17" img-content="math" img-format="tif"/></maths></p><p id="p0037" num="0037">While using the 2D viewer application to examine the 3D slowness time coherence representation <i>coh</i>(τ<i>,<b>s</b></i>) (obtained, for example, using Equation 8) of the recorded waveforms <i>w</i><sub><i>j,</i>α<i><sub>k</sub></i></sub>(<i>t</i>) may be helpful to detect and characterize direct and non-direct wavefront arrival events, a more automated detection algorithm is helpful for some applications, particularly real-time logging-while-drilling operations. The parameters of the most coherent reflection (e.g., an arrival time τ, an inclination angle θ 507, the azimuth angle ϕ 509 and/or slownesses s) may be determined by locating the global maximum of a suitably chosen subspace of the 3D slowness time coherence representation <i>coh</i>(τ<i>,<b>s</b></i>) of the waveform measurements. For example, the slowness s may be parameterized in spherical coordinates using Equation 11 <b><i>s</i></b> = (<i>s<sub>r</sub></i>,θ,ϕ). The radial slowness <maths id="math0023" num=""><math display="inline"><msubsup><mi>s</mi><mi>r</mi><mo>*</mo></msubsup></math><img id="ib0023" file="imgb0023.tif" wi="5" he="8" img-content="math" img-format="tif" inline="yes"/></maths> may be set to be equal to the compressional slowness obtained using a 1 D slowness time coherence algorithm via Equations 1, 2, and 3. Reflected<!-- EPO <DP n="16"> --> non-direct arrivals whose inclination angle θ 507 may be greater than 25 degrees may be searched for. The arrival event search may be restricted to those arrival times τ &lt; 175 <i>x</i> 10<sup>-5</sup> seconds, so the wavefronts arriving at the receiver array 504 before the direct Shear arrival are considered. This automated search may be accomplished using Equation 18. <maths id="math0024" num="equation 18"><math display="block"><mfenced separators=""><msup><mi>τ</mi><mo>*</mo></msup><mo>⁢</mo><msup><mi>θ</mi><mo>*</mo></msup><mo>⁢</mo><msup><mi>φ</mi><mo>*</mo></msup></mfenced><mo>=</mo><mi>argmax</mi><mspace width="1em"/><munder><mrow><mi>θ</mi><mo>&gt;</mo><mn>25</mn></mrow><mrow><mi>τ</mi><mo>&lt;</mo><mn>175</mn></mrow></munder><mspace width="1em"/><mi mathvariant="italic">coh</mi><mfenced separators=""><mi>τ</mi><mo>⁢</mo><msubsup><mi>s</mi><mi>r</mi><mo>*</mo></msubsup><mo>⁢</mo><mi>θ</mi><mo>⁢</mo><mi>φ</mi></mfenced></math><img id="ib0024" file="imgb0024.tif" wi="133" he="13" img-content="math" img-format="tif"/></maths></p><p id="p0038" num="0038"><figref idrefs="f0014">FIGS. 14, 15, and 16</figref> represent the results of using Equation 18 for waveforms recorded by the receiver array 1203 of the sonic measurement device shown in <figref idrefs="f0010">FIG. 10</figref> where a tool and borehole 1205 occupy different depths relative to the top and bottom boundaries 1201, 1202. The waveforms were filtered using a CSG filtering algorithm described by Equations 15 and 16 and then a 3D slowness time coherence representation <i>coh</i>(τ<i>,<b>s</b></i>) of the filtered waveforms was computed using Equations 6, 7, and 8 with slowness <b><i>s</i></b> parameterized in spherical coordinates. Vertical segments 1601 in <figref idrefs="f0014">FIG. 14</figref> represent the arrival time values τ*obtained using Equation 18, while the log values shown in <figref idrefs="f0014">FIGS. 15 and 16</figref> represent the values of the azimuth angle 509 ϕ* and inclination angle 507 θ* obtained, respectively, using Equation 18. The determined parameters (τ*, <maths id="math0025" num=""><math display="inline"><msubsup><mi>s</mi><mi>r</mi><mo>*</mo></msubsup><mo>,</mo></math><img id="ib0025" file="imgb0025.tif" wi="6" he="8" img-content="math" img-format="tif" inline="yes"/></maths> θ*,ϕ*) along with any other information may be transmitted to the surface using mud pulse telemetry.</p><p id="p0039" num="0039">At the surface, a ray tracer can use the determined parameter values (τ*,<i>s<sub>r</sub></i>*,) θ<i>*</i>,ϕ<i>*</i>) that have been telemetered to the surface to determine an orientation of and distance to a nearby boundary. <figref idrefs="f0015">FIG. 17</figref> shows the results of this ray tracing operation performed on the logs shown in <figref idrefs="f0014">FIGS. 14, 15, and 16</figref>. The arrival times τ* shown in <figref idrefs="f0014">FIG. 14</figref> at first get later and later and then become earlier and earlier, and the determined azimuth parameters ϕ* are equal to -90 degrees and then abruptly change<!-- EPO <DP n="17"> --> value to +90 degrees at location 1701. The ray tracer produces a curtain image shown in <figref idrefs="f0015">FIG. 17</figref> of a well trajectory that at first is moving away from the formation layer boundary 1201 above the tool and then later approaching a formation layer boundary 1202 below the tool.</p><p id="p0040" num="0040"><figref idrefs="f0016">FIGS. 18 and 19</figref> help illustrate the some differences between the wavefronts produced by a dipole source from those produced by a monopole source. <figref idrefs="f0016">FIGS. 18 and 19</figref> show a schematic view of the monopole and dipole source looking down the axis of tool sondes 2001 and 2101. The monopole source produces a spherical wavefront 2002 that propagates away from the tool sonde as shown by the dashed arrows, while the dipole source produces non-spherical wavefronts 2102, 2103 that have different polarities (+ and - signs) and an orientation angle β.</p><p id="p0041" num="0041">When using a dipole or multi-pole source, <i>E<sub>c</sub></i>(τ,<b><i>s</i></b>) in Equation 19 estimates the coherent energy of any wavefront arrival event with arrival time τ, duration <i>T<sub>W</sub>,</i> and slowness <b><i>s</i></b> = (<i>s<sub>x</sub>,s<sub>y</sub>,s<sub>z</sub></i>) in 3-D Cartesian coordinates. The sign term sgn(cos(<i>m</i>(ϕ<i><sub>s</sub></i> -β))) was added because the polarity of the source (i.e. the different signs of the transmitted wavefronts 2102 and 2103) means that the sign or polarity of a non-direct reflected or refracted wavefront received at the receiver array 504 is a function of the source orientation angle β. For example, when using a dipole source, the polarity or sign of the wavefront reflected from a nearby boundary when the positive pole of the dipole source faces the nearby boundary is opposite the polarity or sign of the wavefront reflected from the same nearby boundary when the negative pole of the dipole source faces the nearby boundary. The sign term sgn(cos(<i>m</i>(ϕ<i><sub>s</sub></i> - β))) enables the two reflected wavefronts to have a mutually constructive contribution in Equation 19. Here <i>m</i> is the number of poles in the multi-pole acoustic source (<i>m</i> = 0 is monopole, <i>m</i> = 1 is<!-- EPO <DP n="18"> --> quadrupole, etc.), ϕ<i><sub>s</sub></i> is the stacking azimuth defined in Equation 22, and (α,β) ∈ Ω represents the pairs of receiver-source azimuths 506. <maths id="math0026" num="equation 19"><math display="block"><msub><mi>E</mi><mi>c</mi></msub><mfenced separators=""><mi>τ</mi><mo>⁢</mo><mi mathvariant="bold-italic">s</mi></mfenced><mo>=</mo><msubsup><mo>∫</mo><mn>0</mn><msub><mi>T</mi><mi>W</mi></msub></msubsup><mo>⁢</mo><msup><mfenced open="[" close="]" separators=""><mstyle displaystyle="false"><mstyle displaystyle="false"><munder><mo>∑</mo><munder><mrow><mfenced separators=""><mi>α</mi><mo>⁢</mo><mi>β</mi></mfenced><mo>∈</mo><mi mathvariant="normal">Ω</mi><mo>,</mo></mrow><mrow><mi>offset</mi><mspace width="1em"/><mi>j</mi></mrow></munder></munder></mstyle></mstyle><mi>sgn</mi><mo>⁢</mo><mfenced separators=""><mi>cos</mi><mfenced separators=""><mi>m</mi><mo>⁢</mo><mfenced separators=""><msub><mi>φ</mi><mi>s</mi></msub><mo>-</mo><mi>β</mi></mfenced></mfenced></mfenced><mo>⁢</mo><msub><mi>w</mi><mrow><mi>j</mi><mo>,</mo><mi>α</mi><mo>,</mo><mi>β</mi></mrow></msub><mo>⁢</mo><mfenced separators=""><mi>t</mi><mo>-</mo><mi>τ</mi><mo>-</mo><mi mathvariant="bold-italic">s</mi><mo>⋅</mo><msub><mi mathvariant="bold-italic">x</mi><mrow><mi>j</mi><mo>,</mo><mi>α</mi></mrow></msub></mfenced></mfenced><mn>2</mn></msup><mo>ⅆ</mo><mi>t</mi></math><img id="ib0026" file="imgb0026.tif" wi="145" he="17" img-content="math" img-format="tif"/></maths> <maths id="math0027" num="equation 20"><math display="block"><msub><mi>E</mi><mi>i</mi></msub><mfenced separators=""><mi>τ</mi><mo>⁢</mo><mi mathvariant="bold-italic">s</mi></mfenced><mo>=</mo><mstyle displaystyle="false"><mstyle displaystyle="false"><munder><mo>∑</mo><mrow><mi>j</mi><mo>,</mo><mfenced separators=""><mi>α</mi><mo>⁢</mo><mi>β</mi></mfenced><mo>∈</mo><mi mathvariant="normal">Ω</mi></mrow></munder></mstyle></mstyle><msubsup><mo>∫</mo><mn>0</mn><msub><mi>T</mi><mi>W</mi></msub></msubsup><mo>⁢</mo><msubsup><mi>w</mi><mrow><mi>j</mi><mo>,</mo><mi>α</mi><mo>,</mo><mi>β</mi></mrow><mn>2</mn></msubsup><mo>⁢</mo><mfenced separators=""><mi>t</mi><mo>-</mo><mi>τ</mi><mo>-</mo><mi mathvariant="bold-italic">s</mi><mo>⋅</mo><msub><mi mathvariant="bold-italic">x</mi><mrow><mi>j</mi><mo>,</mo><mi>α</mi></mrow></msub></mfenced><mo>ⅆ</mo><mi>t</mi></math><img id="ib0027" file="imgb0027.tif" wi="145" he="12" img-content="math" img-format="tif"/></maths> <maths id="math0028" num="equation 21"><math display="block"><mi mathvariant="italic">coh</mi><mfenced separators=""><mi>τ</mi><mo>⁢</mo><mi mathvariant="bold-italic">s</mi></mfenced><mo>=</mo><msqrt><mfrac><mrow><msub><mi>E</mi><mi>c</mi></msub><mfenced separators=""><mi>τ</mi><mo>⁢</mo><mi>s</mi></mfenced></mrow><mrow><mi>M</mi><mfenced open="|" close="|"><mi mathvariant="normal">Ω</mi></mfenced><mo>⁢</mo><msub><mi>E</mi><mi>i</mi></msub><mfenced separators=""><mi>τ</mi><mo>⁢</mo><mi>s</mi></mfenced></mrow></mfrac></msqrt></math><img id="ib0028" file="imgb0028.tif" wi="79" he="17" img-content="math" img-format="tif"/></maths> <maths id="math0029" num="equation 22"><math display="block"><msub><mi>φ</mi><mi>s</mi></msub><mo>=</mo><mi>atan</mi><mo>⁢</mo><mfrac><msub><mi>s</mi><mi>y</mi></msub><msub><mi>s</mi><mi>x</mi></msub></mfrac></math><img id="ib0029" file="imgb0029.tif" wi="66" he="13" img-content="math" img-format="tif"/></maths></p><p id="p0042" num="0042">Because the sign term sgn(cos(<i>m</i>(ϕ<i><sub>s</sub></i> - β))) in Equation 19 has unit magnitude, <i>E<sub>i</sub></i>(τ,<b><i>s</i></b>) shown in Equation 20 is nearly identical to Equation 7 and measures the total energy of the wavefront arrival event. The coherence of the arrival event <i>coh</i>(τ<i>,<b>s</b></i>) is estimated in Equation 21 and closely resembles Equation 8.</p><p id="p0043" num="0043">The slowness <b><i>s</i></b> in the 3D slowness-time coherence representation <i>coh</i>(τ<i>,<b>s</b></i>) described in Equations 19, 20, and 21 may be parameterized in Cartesian coordinates, cylindrical coordinates (Equation 10) and/or spherical coordinates (Equation 11). Additionally, the examples may employ a subset of the 3D slowness-time coherence representation for reasons of computational or memory capacity limitations or to incorporate prior knowledge of the location of various Earth formation features of interest.</p><p id="p0044" num="0044">Using 3D slowness-time coherence representation described in Equations 19, 20, and 21 with a dipole or multi-pole source (1) the direct arrival events (compressional, shear, Stoneley, tool, etc.) have small coherence values and thus are largely incoherent; and (2) use of multiple dipole source azimuths β means that there is a strong destructive interference amongst the arrival events associated with formation<!-- EPO <DP n="19"> --> and borehole features that are rotationally symmetric with respect to the tool sonde 508. These rotationally symmetric arrival events include the direct arrival events.</p><p id="p0045" num="0045">The opposing polarities of the two wavefronts 2102 and 2103 generated by the dipole source leads to very low coherence for the direct arrival events in their 3D slowness time coherence representation <i>coh</i>(τ<i>,<b>s</b></i>)<i>.</i> <figref idrefs="f0004">FIGS. 4</figref> and <figref idrefs="f0017">20</figref> show the 1 D slowness time coherence representation obtained using Equations 1, 2, and 3 when using a monopole and dipole source, respectively, for an acoustic tool eccentered in a borehole within the same Earth formation. The viewer panel 601 (<figref idrefs="f0004">FIG. 4</figref>) shows very coherent indications of the major direct arrival events (tool, compressional, shear, Stoneley, etc.) while viewer panel 2201 shows indications of the tool arrival and a non-direct reflection from a nearby formation layer boundary. The other arrival events are largely incoherent. In this example, slider 2202 corresponds to inclination angle, slider 2203 corresponds to azimuth angle, an x-axis 2204 corresponds to arrival time τ and the y-axis 2205 corresponds to slowness measured along the axis of the tool 508.</p><p id="p0046" num="0046">The asymmetries in the wavefronts 2102 and 2103 generated by a dipole source for different source azimuth angles β causes there to be a strong destructive interference between the arrival events associated with formation and borehole features that are rotationally symmetric with respect to the tool sonde 508, including the direct arrival events. <figref idrefs="f0018">FIG. 21</figref> illustrates a finite difference model for an eccentered tool sonde 2301 with a mud channel 2302 eccentered within a borehole 2303. Twelve acoustic receiver sensors 2305 are shown distributed around the circumference of the tool sonde. The orientation of the dipole source, β = 30 degrees, is indicated by line segment 2306. Also, a formation layer boundary (not shown) is located below the tool at azimuth 509 ϕ = -90 at a distance of 3 feet from a borehole 2303. The tool eccentering distance and orientation of the tool sonde 2301 within the borehole 2303 is<!-- EPO <DP n="20"> --> also depicted in <figref idrefs="f0018">FIG. 22</figref> by the indexed point #2. Finite difference models similar to the one depicted in <figref idrefs="f0018">FIG. 21</figref> may be generated for the other points indexed in <figref idrefs="f0018">FIG. 22</figref>. The orientation of the dipole source azimuths for the finite difference models indicated by the indexed points in <figref idrefs="f0018">FIG. 22</figref> is equal to the 30 degrees times the index minus one.</p><p id="p0047" num="0047"><figref idrefs="f0019">FIG. 23</figref> shows a 2D slice of a 3-D slowness time coherence representation <i>coh</i>(τ<i>,<b>s</b></i>) computed using Equations 19, 20, and 21 for the waveforms generated using a dipole source and a finite difference simulation where the material properties of the simulation are depicted in <figref idrefs="f0018">FIG. 21</figref>. Here 3D slowness s is represented in spherical coordinates from Equation 11. 2D viewer slider bars 2502 and 2503 indicate that the inclination angle 507 is θ = 33 degrees and radial slowness is <i>s<sub>r</sub></i> = 85 us/ft. While a viewer panel 2501 shows that the tool arrival with its lack of azimuthal resolution is quite evident, the signature of the reflected arrival from the nearby formation layer boundary is not well determined. <figref idrefs="f0020">FIG. 24</figref> shows the same 2D slice of the 3-D slowness time coherence representation <i>coh</i>(τ<i>,<b>s</b></i>) for the waveforms generated using two dipole source firings at β = 30 and β = 60. 2D viewer panel 2601 indicates the presence of two very strong low coherence horizontal streaks whose width each covers about 30 degrees of azimuth angles 509 between ϕ = 30 and ϕ = 60 degrees. These two symmetry cancellations arise because of the asymmetries in the direct wavefields generated by the two dipole source firings at different source azimuths β = 30 and β = 60. There is a destructive interference that occurs when computing the coherent energy of these direct wavefront arrival events using Equation 19. <figref idrefs="f0021">FIG. 25</figref> shows the same 2D slice of the 3-D slowness time coherence representation as displayed in <figref idrefs="f0019">FIG. 23</figref> but for the waveforms generated using three dipole source firings at azimuths β = 30, β = 60, and β = 90. The two symmetry cancellations represented by the two very strong low coherence horizontal streaks shown in a 2D viewer panel 2701 are each now<!-- EPO <DP n="21"> --> nearly 60 degrees in width between ϕ = 0 and ϕ = 60 degrees. <figref idrefs="f0022">FIG. 26</figref> shows the same 2D slice of the 3-D slowness time coherence representation as displayed in <figref idrefs="f0019">FIG. 23</figref> but for waveforms generated by six dipole source firings between β = 30 and β = 180 degrees. In viewer panel 2801 of <figref idrefs="f0022">FIG. 26</figref> there are two arrival events that remain - a tool arrival and a non-direct reflected arrival. The azimuth 509 of the reflected arrival is ϕ = -90 degrees and corresponds to the formation layer approximately three feet below the borehole/tool model described in <figref idrefs="f0018">FIG. 21</figref>. The azimuth of the tool arrival is ϕ = -130 degrees and approximately corresponds to tool eccentering positions 2401 depicted in <figref idrefs="f0018">FIG. 22</figref>.</p><p id="p0048" num="0048">The results of using of multiple dipole source azimuths as described in <figref idrefs="f0017 f0018 f0019 f0020 f0021 f0022">FIGS. 20-26</figref> indicate that (1) the natural destructive interference between the direct arrival events means that use of the CSG filtering algorithm described by Equations 15 and 16 is not used when using multiple dipole source azimuths; (2) no prior knowledge of the azimuth of the formation layer boundary is used for the processing method. Useful information about the formation layer boundary non-direct reflected arrival event is to be obtained by processing the waveforms recorded from the dipole source azimuths, β.</p><p id="p0049" num="0049">The semblance modification methods presented in Equation 17 can be used instead of using Equation 21 as a means of removing the signature of the tool-borne direct arrival visible, for example, in 2801 from the 3D slowness time coherence representation <i>coh</i>(τ<i>,<b>s</b></i>)<i>.</i></p><p id="p0050" num="0050">While using the 2D viewer application to examine the 3D slowness time coherence representation <i>coh</i>(τ<i>,<b>s</b></i>) of recorded waveforms <i>w</i><sub><i>j,</i>α,β</sub>(<i>t</i>) obtained using Equations 19, 20, and 21 or using Equations 19, 20, and 17 when employing a dipole or multi-pole source may be helpful to detect and characterize direct and non-direct wavefront arrival events, a more automated detection algorithm is helpful for some<!-- EPO <DP n="22"> --> applications, particularly real-time logging-while-drilling operations. The parameters of the most coherent reflections (e.g. arrival times, the inclination 507 and the azimuth 509 angles, and/or slownesses <b><i>s</i></b>) may be determined by locating a suitable number of local maxima of a suitably chosen subspace of the 3D slowness time coherence representation <i>coh</i>(τ<i>,<b>s</b></i>) of the waveform measurements. For example, to parameterize the slowness <b><i>s</i></b> = (<i>s<sub>r</sub></i>,θ,ϕ) in spherical coordinates from Equation 11, the radial slowness <maths id="math0030" num=""><math display="inline"><msubsup><mi>s</mi><mi>r</mi><mo>*</mo></msubsup></math><img id="ib0030" file="imgb0030.tif" wi="5" he="7" img-content="math" img-format="tif" inline="yes"/></maths> may be set equal to the compressional slowness obtained via Equation 3 and the arrival event search may be restricted to those arrival times τ &lt; 175 <i>x</i> 10<sup>-5</sup> seconds. A first estimate of a number (e.g. 5) of local maxima of the various arrival time τ-slices of <i>coh</i>(τ<sub><i>i</i>,</sub> <maths id="math0031" num=""><math display="inline"><msubsup><mi>s</mi><mi>r</mi><mo>*</mo></msubsup><mo>,</mo></math><img id="ib0031" file="imgb0031.tif" wi="6" he="7" img-content="math" img-format="tif" inline="yes"/></maths> θ<i><sub>ij</sub>,</i>ϕ<i><sub>ij</sub></i>) for each value of τ<i><sub>i</sub></i> may be estimated. Once obtained, the local maxima may be ordered in order of increasing coherence for each value of τ<i><sub>i</sub></i> so that <i>coh</i>(τ<i><sub>i</sub></i>, <maths id="math0032" num=""><math display="inline"><msubsup><mi>s</mi><mi>r</mi><mo>*</mo></msubsup><mo>,</mo></math><img id="ib0032" file="imgb0032.tif" wi="6" he="7" img-content="math" img-format="tif" inline="yes"/></maths> θ<i><sub>ij</sub>,</i>ϕ<i><sub>ij</sub></i>) ≤ <i>coh</i>(τ<i><sub>i</sub>,</i> <maths id="math0033" num=""><math display="inline"><msubsup><mi>s</mi><mi>r</mi><mo>*</mo></msubsup><mo>,</mo></math><img id="ib0033" file="imgb0033.tif" wi="6" he="7" img-content="math" img-format="tif" inline="yes"/></maths> θ<sub><i>ij</i>+1</sub>, ϕ<sub><i>ij</i>+1</sub>). Then a 2-D scoring array may be constructed using Equation 23. <figref idrefs="f0023">FIG. 27</figref> shows the results of constructing this 2-D scoring array for the waveforms recorded for dipole source firings depicted in <figref idrefs="f0018">FIG. 22</figref>. A mean arrival time for each of a number (e.g. 5) of the local maxima of the 2-D scoring array <i>G</i>(θ,ϕ) may be determined so that the inclination and azimuth angle parameters of the local maxima of the 2-D scoring array <i>G</i>(θ,ϕ) along with their mean arrival times may be transmitted to the surface using a mud pulse telemetry. At surface, the telemetered parameters may be used in performing a ray tracing to determine an orientation and distance to a nearby boundary. <maths id="math0034" num="equation 23"><math display="block"><mi>G</mi><mfenced separators=""><mi>θ</mi><mo>⁢</mo><mi>φ</mi></mfenced><mo>=</mo><mstyle displaystyle="false"><mstyle displaystyle="false"><munder><mo>∑</mo><munder><mrow><mi>θ</mi><mo>=</mo><msub><mi>θ</mi><mi mathvariant="italic">ij</mi></msub></mrow><mrow><mi>φ</mi><mo>=</mo><msub><mi>φ</mi><mi mathvariant="italic">ij</mi></msub></mrow></munder></munder><mo>⁢</mo><mi>j</mi></mstyle></mstyle></math><img id="ib0034" file="imgb0034.tif" wi="87" he="16" img-content="math" img-format="tif"/></maths></p><p id="p0051" num="0051"><figref idrefs="f0024">FIG. 28</figref> illustrates a wellsite system in which the examples disclosed herein can be employed. The wellsite can be onshore or offshore. In this example system, a borehole 11 is formed in subsurface formations by rotary drilling. However, the<!-- EPO <DP n="23"> --> examples described herein can also use directional drilling, as will be described hereinafter.</p><p id="p0052" num="0052">A drill string 12 is suspended within the borehole 11 and has a bottom hole assembly 100 that includes a drill bit 105 at its lower end. The surface system includes a platform and derrick assembly 10 positioned over the borehole 11. The assembly 10 includes a rotary table 16, a kelly 17, a hook 18 and a rotary swivel 19. The drill string 12 is rotated by the rotary table 16. The rotatory table 16 may be energized by a device or system not shown. The rotary table 16 may engage the kelly 17 at the upper end of the drill string 12. The drill string 12 is suspended from the hook 18, which is attached to a traveling block (also not shown). Additionally, the drill string 12 is positioned through the kelly 17 and the rotary swivel 19, which permits rotation of the drill string 12 relative to the hook 18. Additionally or alternatively, a top drive system may be used to impart rotation to the drill string 12.</p><p id="p0053" num="0053">In this example, the surface system further includes drilling fluid or mud 26 stored in a pit 27 formed at the well site. A pump 29 delivers the drilling fluid 26 to the interior of the drill string 12 via a port in the swivel 19, causing the drilling fluid 26 to flow downwardly through the drill string 12 as indicated by the directional arrow 8. The drilling fluid 26 exits the drill string 12 via ports in the drill bit 105, and then circulates upwardly through the annulus region between the outside of the drill string 12 and the wall of the borehole 11, as indicated by the directional arrows 9. In this manner, the drilling fluid 26 lubricates the drill bit 105 and carries formation cuttings up to the surface as it is returned to the pit 27 for recirculation.</p><p id="p0054" num="0054">The bottom hole assembly 100 of the example illustrated in <figref idrefs="f0024">FIG. 28</figref> includes a logging-while-drilling (LWD) module 120, a measuring-while-drilling (MWD) module 130, a roto-steerable system and motor 150, and the drill bit 105.<!-- EPO <DP n="24"> --></p><p id="p0055" num="0055">The LWD module 120 may be housed in a special type of drill collar and can contain one or more logging tools. In some examples, the bottom hole assembly 100 may include additional LWD and/or MWD modules. As such, references throughout this description to reference numeral 120 may additionally or alternatively include 120A. The LWD module 120 may include capabilities for measuring, processing, and storing information, as well as for communicating with the surface equipment. Additionally or alternatively, the LWD module 120 includes a sonic measuring device.</p><p id="p0056" num="0056">The MWD module 130 may also be housed in a drill collar and can contain one or more devices for measuring characteristics of the drill string 12 and/or the drill bit 105. The MWD tool 130 further may include an apparatus (not shown) for generating electrical power for at least portions of the bottom hole assembly 100. The apparatus for generating electrical power may include a mud turbine generator powered by the flow of the drilling fluid. However, other power and/or battery systems may be employed. In this example, the MWD module 130 includes one or more of the following types of measuring devices: a weight-on-bit measuring device, a torque measuring device, a vibration measuring device, a shock measuring device, a stick slip measuring device, a direction measuring device and/or an inclination measuring device.</p><p id="p0057" num="0057">Although the components of <figref idrefs="f0024">FIG. 28</figref> are shown and described as being implemented in a particular conveyance type, the examples disclosed herein are not limited to a particular conveyance type but, instead, may be implemented in connection with different conveyance types including, for example, coiled tubing, wireline wired drillpipe and/or any other conveyance types known in the industry.</p><p id="p0058" num="0058"><figref idrefs="f0025">FIG. 29</figref> illustrates a sonic logging-while-drilling tool that can be used to implement the LWD tool 120 or may be a part of an LWD tool suite 120A of the type described in <patcit id="pcit0001" dnum="US6308137B"><text>U.S. Patent No. 6,308,137</text></patcit>, which is hereby incorporated herein by<!-- EPO <DP n="25"> --> reference in its entirety. An offshore rig 210 having a sonic transmitting source or array 214 may be deployed near the surface of the water. Additionally or alternatively, any other type of uphole or downhole source or transmitter may be provided to transmit sonic signals. In some examples, an uphole processor controls the firing of the transmitter 214.</p><p id="p0059" num="0059">Uphole equipment can also include acoustic receivers (not shown) and a recorder (not shown) for capturing reference signals near the source of the signals (e.g., the transmitter 204). The uphole equipment may also include telemetry equipment (not shown) for receiving MWD signals from the downhole equipment. The telemetry equipment and the recorder may be coupled to a processor (not shown) so that recordings may be synchronized using uphole and downhole clocks. The downhole LWD module 200 includes at least acoustic receivers 230 and 231, which are coupled to a signal processor so that recordings may be made of signals detected by the receivers in synchronization with the firing of the signal source.</p><p id="p0060" num="0060">The uphole source 214 or a downhole source 215 may be a monopole, dipole, or multi-pole source. The waveform data associated with the signals is detected by the receivers 230 and 231. Using one or more processors 232 and/or 234, the waveform data may then be filtered using the CSG filtering procedure described in Equations 15 and 16 to remove the direct wavefront arrival events from the waveform measurements. The CSG filtering procedure may be carried out for one or more of the compressional, shear, and Stoneley velocities as well as for the velocities plus or minus 4 microseconds per foot, for example. The compressional, shear, and Stoneley velocities used for the CSG filtering procedure may be computed using the 1 D-slowness time coherence algorithm described in Equations 1, 2, and 3.<!-- EPO <DP n="26"> --></p><p id="p0061" num="0061">One or more processors 232 and/or 234 may then process the waveform data to determine a 3D slowness time coherence representation <i>coh</i>(τ<i>,<b>s</b></i>) of the waveforms. The processors may process the waveform data in substantially real time while drilling the formation. When using a monopole source, the 3D slowness time coherence representation may be determined using Equations 6, 7, and 8 or using Equations 6, 7, and 17 if a semblance modification is desired to remove the tool-borne direct arrival. When using a dipole or multi-pole source, the 3D slowness time coherence representation <i>coh</i>(τ<i>,<b>s</b></i>) may be determined using Equations 19, 20, and 21 or using Equations 19, 20, and 17 if a semblance modification is desired to remove the tool-borne direct arrival. The 3D slowness s may be represented in Cartesian, cylindrical, and/or spherical coordinates. Further, a subset of the 3D slowness time coherence representation may be computed in order to incorporate prior knowledge of the Earth formation or drilling operation or to manage the computing and/or memory requirements of the available computing hardware.</p><p id="p0062" num="0062">To identify the non-direct wavefront arrivals, the one or more processors 232 and/or 234 may identify local maxima of the 3D slowness time coherence representation <i>coh</i>(τ,<b><i>s</i></b>) of the waveform data. When using a monopole source, this may be accomplished, for example, using Equation 18. When using a dipole or multi-pole source, this may be accomplished by identifying the local maxima of the 2D scoring array constructed in Equation 23. The parameters of these local maxima that describe any detected non-direct reflected wavefront arrivals may include approximate arrival times and slownesses given in Cartesian coordinates, cylindrical coordinates, or spherical coordinates. These determined parameters may then be transmitted to the surface using, for example, a mud pulse telemetry system or other conveyance method<!-- EPO <DP n="27"> --> where they may be used in performing a ray tracing to determine an orientation and distance to a nearby boundary.</p><p id="p0063" num="0063"><figref idrefs="f0026">FIG. 30</figref> depicts an example flow diagram representative of a process that may be implemented using, for example, computer readable and executable instructions that may be used to determine the slowness of wavefronts associated with an Earth formation feature. The example operations of <figref idrefs="f0026">FIG. 30</figref> may be performed using a processor, a controller and/or any other suitable processing device. For example, the example operations of <figref idrefs="f0026">FIG. 30</figref> may be implemented using coded instructions (e.g., computer readable instructions) stored on a tangible computer readable medium such as a flash memory, a read-only memory (ROM), and/or a random-access memory (RAM). As used herein, the term tangible computer readable medium is expressly defined to include any type of computer readable storage and to exclude propagating signals. Additionally or alternatively, the example operations of <figref idrefs="f0026">FIG. 30</figref> may be implemented using coded instructions (e.g., computer readable instructions) stored on a non-transitory computer readable medium such as a flash memory, a read-only memory (ROM), a random-access memory (RAM), a cache, or any other storage media in which information is stored for any duration (e.g., for extended time periods, permanently, brief instances, for temporarily buffering, and/or for caching of the information). As used herein, the term non-transitory computer readable medium is expressly defined to include any type of computer readable medium and to exclude propagating signals.</p><p id="p0064" num="0064">Alternatively, some or all of the example operations of <figref idrefs="f0026">FIG. 30</figref> may be implemented using any combination(s) of application specific integrated circuit(s) (ASIC(s)), programmable logic device(s) (PLD(s)), field programmable logic device(s) (FPLD(s)), discrete logic, hardware, firmware, etc. Also, one or more of the example operations of <figref idrefs="f0026">FIG. 30</figref> may be implemented manually or as any combination(s) of any of<!-- EPO <DP n="28"> --> the foregoing techniques, for example, any combination of firmware, software, discrete logic and/or hardware. Further, although the example operations of <figref idrefs="f0026">FIG. 30</figref> are described with reference to the flow diagram of <figref idrefs="f0026">FIG. 30</figref>, other methods of implementing the operations of <figref idrefs="f0026">FIG. 30</figref> may be employed. For example, the order of execution of the blocks may be changed, and/or some of the blocks described may be changed, eliminated, sub-divided, or combined. Additionally, any or all of the example operations of <figref idrefs="f0026">FIG. 30</figref> may be performed sequentially and/or in parallel by, for example, separate processing threads, processors, devices, discrete logic, circuits, etc.</p><p id="p0065" num="0065">The example process 3000 of <figref idrefs="f0026">FIG. 30</figref> may begin by transmitting signals (e.g., acoustic or sonic signals) from one or more transmitters and/or sources (block 3002). In some examples, the source may be one or more monopole sources and/or one or more dipole sources and/or one or more multi-pole sources.</p><p id="p0066" num="0066">Thereafter, at least a portion of the signals transmitted by the acoustic source are received at one or more receiver sensors at least one azimuth location around the circumference of the tool sonde and spaced from the transmitters. The received signals may be recorded and/or logged to generate waveform data associated with the signals (block 3004).</p><p id="p0067" num="0067">The example process 3000 may then process the received waveforms by, for example, using the CSG filtering procedure described in Equations 15 and 16 to remove the direct wavefront arrival events from the waveform measurements (block 3006). The filtering procedure may be used when using a monopole acoustic source. The CSG filtering procedure may be carried out for one or more of the compressional, shear, and Stoneley velocities as well as for the velocities plus or minus 4 microseconds per foot. The compressional, shear, and Stoneley velocities for the CSG filtering procedure may<!-- EPO <DP n="29"> --> be computed using the 1 D-slowness time coherence algorithm described in Equations 1, 2, and 3.</p><p id="p0068" num="0068">One or more processors may process the waveform data to determine a 3D slowness time coherence representation of the waveforms (block 3008). The processors may process the waveform data in substantially real time while drilling the formation. When using a monopole source, the 3D slowness time coherence representation <i>coh</i>(τ<i>,<b>s</b></i>) may be determined using Equations 6, 7, and 8 or using Equations 6, 7, and 17 if a semblance modification is desired to remove the tool-borne direct arrival. When using a dipole or multi-pole source, the 3D slowness time coherence representation <i>coh</i>(τ,<b><i>s</i></b>) may be determined using Equations 19, 20, and 21 or using Equations 19, 20, and 17 if a semblance modification is desired to remove the tool-borne direct arrival. The 3D slowness s may be represented in Cartesian, cylindrical, and/or spherical coordinates. Further, a subset of the 3D slowness time coherence representation may be computed in order to incorporate prior knowledge of the Earth formation or drilling operation or to manage the computing and/or memory requirements of the available computing hardware.</p><p id="p0069" num="0069">To identify the non-direct wavefront arrivals, the one or more processors may identify local maxima of the 3D slowness time coherence representation <i>coh</i>(τ<i>,<b>s</b></i>) of the waveform data (block 3010). When using a monopole source, this may be accomplished, for example, using Equation 18. When using a dipole or multi-pole source, this may be accomplished by identifying the local maxima of the 2D scoring array constructed in Equation 23. The parameters of these local maxima that describe any detected non-direct reflected or refracted wavefront arrivals may include approximate arrival times and slownesses given in Cartesian coordinates, cylindrical<!-- EPO <DP n="30"> --> coordinates, or spherical coordinates. These parameters may then be transmitted to the surface using, for example, a mud pulse telemetry system (block 3012).</p><p id="p0070" num="0070">At the surface, these telemetered parameters describing any non-direct reflected wavefront arrivals may then be used with a ray tracing algorithm to determine an orientation to and distance to one or more Earth formation features relative to the downhole tool (block 3014). These features may include Earth formation layer boundaries, fractures, or geologic faults. In some examples, to assist in geosteering decisions, a curtain plot may be produced using at least some of the information obtained. The curtain plot depicts nearby Earth formation layers, fractures, or geologic faults relative to the well trajectory. Additionally or alternatively, constraints of real-time acoustics measurements may be combined with similar information derived from electromagnetic measurements to assist in geosteering decisions.</p><p id="p0071" num="0071">In some examples, the telemetered arrival times, slownesses and/or other information may be also displayed in a log plot as shown, for example, in <figref idrefs="f0014">Figures 14-16</figref>. At block 3016, the example process 3000 determines whether or not to end.</p><p id="p0072" num="0072"><figref idrefs="f0027">FIG. 31</figref> is a schematic diagram of an example processor platform P100 that may be used and/or programmed to implement to implement a logging and control computer and/or any of the examples described herein. For example, the processor platform P100 can be implemented by one or more general purpose processors, processor cores, microcontrollers, etc.</p><p id="p0073" num="0073">The processor platform P100 of the example of <figref idrefs="f0027">FIG. 31</figref> includes at least one general purpose programmable processor P105. The processor P105 executes coded instructions P110 and/or P112 present in main memory of the processor P105 (e.g., within a RAM P115 and/or a ROM P120). The processor P105 may be any type of processing unit, such as a processor core, a processor and/or a microcontroller. The<!-- EPO <DP n="31"> --> processor P105 may execute, among other things, the example methods and apparatus described herein.</p><p id="p0074" num="0074">The processor P105 is in communication with the main memory (including a ROM P120 and/or the RAM P115) via a bus P125. The RAM P115 may be implemented by dynamic random-access memory (DRAM), synchronous dynamic random-access memory (SDRAM), and/or any other type of RAM device, and ROM may be implemented by flash memory and/or any other desired type of memory device. Access to the memory P115 and the memory P120 may be controlled by a memory controller (not shown).</p><p id="p0075" num="0075">The processor platform P100 also includes an interface circuit P130. The interface circuit P130 may be implemented by any type of interface standard, such as an external memory interface, serial port, general purpose input/output, etc. One or more input devices P135 and one or more output devices P140 are connected to the interface circuit P130.</p><p id="p0076" num="0076">The input device P135 may, for example, provide waveform data associated with the signals detected by acoustic receiver sensors 504. The processor platform P100 may process said waveform data to produce a 3D slowness-time coherence representation <i>coh</i>(τ<i>,<b>s</b></i>) of the waveform data, slowness s being represented in Cartesian, cylindrical, or spherical coordinates. The output devices P140 may display various 2D slices of the 3D slowness time coherence representation using an example 2D viewer application, as shown for example by <figref idrefs="f0006 f0007 f0008 f0009">FIGS. 6 - 9</figref>.</p><p id="p0077" num="0077">The examples disclosed herein provide methods to detect direct or non-direct reflected or refracted wavefronts at an array of receivers and to determine their approximate arrival times and slownesses in three spatial directions. In operation, compressional, shear and Stoneley waves arrive initially at receivers closest to a source<!-- EPO <DP n="32"> --> (e.g., monopole, dipole, quadrupole and/or multi-pole) and later at more distant receivers. Non-direct reflected and/or refracted waves may reflect or refract from a formation boundary and propagate across a receiver array. These reflected and/or refracted waves first arrive at receivers facing the formation boundary and later arrive at receivers facing away from the formation boundary. Thus, the arrival times of the wavefronts at the receivers vary linearly as a function of receiver-source distance (e.g., linear moveout) and sinusoidally as a function of receiver azimuth (e.g., sinusoidal moveout). To enable the determination of arrival times, inclination angles, azimuth angles and/or slownesses, the received waveforms may be stacked with respect to linear moveout and sinusoidal moveout.</p><p id="p0078" num="0078">The examples disclosed herein relate to the detection and imaging of formation layer velocity changes using sonic waveform measurements. More specifically, the examples disclosed herein relate to example methods and systems for processing and/or interpreting arrival events (e.g., direct, reflected and/or refracted arrivals) and/or waveform measurements to determine arrival times and slowness propagation information for directions orthogonal to an axis of a tool sonde. The slowness propagation information may be used to determine directions of propagation of reflected and refracted arrivals in three spatial directions at an array of receivers. Additionally, the slowness propagation information may be used to determine an orientation of and distance to nearby formation layer interfaces associated with the arrivals (e.g., reflected arrivals).</p><p id="p0079" num="0079">The example methods and apparatus disclosed herein may be used to produce a three-dimensional (3-D) slowness-time coherence array representation of sonic waveform measurements obtained using one or more monopole sources, dipole sources and/or multi-pole sources. The slowness may be parameterized in Cartesian<!-- EPO <DP n="33"> --> coordinates, cylindrical coordinates and/or spherical coordinates. Arrival times, inclination angles, azimuth angles and/or slownesses associated with the direct and non-direct wavefront arrivals may be determined from the one or more local maxima identified within the 3-D slowness time coherence array representation.</p><p id="p0080" num="0080">When using a monopole source, reflections may be obscured because reflections can arrive at receivers at substantially the same time as the larger amplitude primary direct arrivals (e.g., compressional, shear and/or Stoneley). To enable the reflections to be more readily identifiable, the examples disclosed herein may filter the waveforms using a time domain median filtering algorithm in the common source gather (CSG) domain. For each of the Stoneley, compressional and shear velocities, the filtering algorithm may compute a projection of an input waveform according to a moveout velocity that is subtracted from the input waveforms to form a residual. A wideband filter may be used that computes a projection of an input waveform according to a moveout velocity for each velocity and plus and minus of that velocity (e.g., <sup>+</sup>/-4 microseconds per foot) that is subtracted from the input waveforms to form a residual. Such an approach significantly reduces the presence of primary direct arrivals while leaving the reflections substantially intact.</p><p id="p0081" num="0081">Non-direct reflected and refracted wavefront arrival events may be obscured because of the interference of the direct tool arrival event. To remove a signature of a tool borne direct arrival from the three-dimensional (3-D) slowness-time coherence representation of received sonic waveform measurements, a semblance modification technique may be applied.</p><p id="p0082" num="0082">A subset of the three-dimensional (3-D) slowness-time coherence representation of sonic waveform measurements may be obtained when parameterizing slowness using spherical coordinates by setting or fixing the radial slowness to be equal to the<!-- EPO <DP n="34"> --> slowness of the direct compressional arrival (determined using the slowness-time coherence log), and/or restricting an inclination angle to be greater than 25 degrees, and/or considering arrival times less than 175 x 10<sup>-5</sup> seconds. A subset of the three-dimensional (3-D) slowness-time coherence representation may be computed in order to incorporate prior knowledge of the Earth formation or drilling operation and/or to manage the computing and/or memory requirements of the available computing hardware.</p><p id="p0083" num="0083">The three-dimensional (3-D) slowness-time coherence representation of sonic waveform measurements collected at a single measurement station may be used to determine the arrival time, inclination and azimuth angles of the most coherent reflection. Determined parameters relating to the one or more identified reflections may be transmitted uphole using mud pulse telemetry. A ray tracing may be performed at the surface using at least some of the information transmitted uphole to determine an orientation and distance to a nearby boundary. The ray tracing results for several measurement stations may be collected together to produce a curtain plot display that may depict nearby Earth formation layers, fractures, or geologic faults relative to the well trajectory.</p><p id="p0084" num="0084">In some examples, a 3-D slowness time coherence algorithm can be used to process waveforms received from multiple firings of a dipole source at different source azimuths. A 3-D slowness time coherence representation of the received waveform measurements may measure coherence of arrival events associated with formation and borehole features that are not rotationally symmetric relative to the tool sonde (i.e., not direct arrivals). By processing waveforms received from multiple source azimuths, waveform measurements associated with dipole source azimuths oriented with respect<!-- EPO <DP n="35"> --> to the formation layer boundary may be processed and no special provisions may be used to locate the nearby formation layer boundary.</p><p id="p0085" num="0085">To identify parameters associated with a reflection when using dipole or multi-pole sources, local maxima of the 3-D slowness-time array representation of the received waveform measurements may be obtained for each fixed arrival time value. In some such examples, slowness may be represented in spherical coordinates. In some examples, a position of a point in spherical coordinates is specified by a radial distance from the point to a fixed origin, a polar angle measured from a fixed zenith direction and an azimuth angle of an orthogonal projection on a reference plane that passes through the origin and is orthogonal to the zenith, measured from a fixed reference direction on the reference plane. When performing such processing, the radial slowness may be set to be equal to slowness of the compressional slowness of direct arrivals that may be determined from monopole waveform measurements using a slowness-time coherence algorithm.</p><p id="p0086" num="0086">A two-dimensional (2-D) scoring array indexed by azimuth and inclination angle may then be constructed that accounts for each of the local maxima identified for each corresponding arrival time. Local maxima of this two-dimensional scoring array with the corresponding set of arrival times may determine parameters that may include one or more arrival times, inclination angles, azimuth angles and/or slownesses describing non-direct refracted or reflected wavefront arrival events. Slownesses may be represented in Cartesian coordinates, cylindrical coordinates, and or spherical coordinates. The determined parameters may be transmitted uphole using mud pulse telemetry. A ray tracing may be performed at the surface using at least some of the information transmitted uphole to determine an orientation and distance to a nearby boundary.<!-- EPO <DP n="36"> --></p><p id="p0087" num="0087">An example method includes transmitting signals from a plurality of sources, the sources spaced from an array of receivers of the downhole tool. The receivers spaced around a circumference of the downhole tool. The method also includes obtaining waveform data associated with the signals received at one or more of the receivers and processing the waveform data to determine three-dimensional slowness-time coherence representation of the waveforms. The example method also includes processing the waveform data comprises processing the waveform data using spatial positions of the receivers. In some examples, processing the waveform data includes stacking waveforms based on linear moveout and sinusoidal moveout.</p><p id="p0088" num="0088">In some examples, the linear moveout is associated with a source-receiver offset and the sinusoidal moveout is associated with receiver azimuth. In some examples, the sources are multi-pole sources, and processing the waveform data from the multi-pole sources is to reduce coherence between direct arrivals. In some examples, the sources are multi-pole sources, and processing the waveform data from the multi-pole sources includes using azimuths of the multi-pole sources. In some examples, processing the waveform data is to further determine parameters of one or more non-direct wavefronts. In some examples, the one or more non-direct wavefronts comprise the non-direct wavefronts having the highest coherence. In some examples, the one or more non-direct wavefronts includes local maxima in a coherence array associated with the waveform data.</p><p id="p0089" num="0089">In some examples, the method also includes constructing a ray tracing based on the parameters of the non-direct wavefronts. In some examples, the parameters include approximate arrival times and slowness in three spatial directions of the non-direct wavefronts. In some examples, the method also includes parameterizing the slowness in one or more of Cartesian coordinates, cylindrical coordinates, or spherical<!-- EPO <DP n="37"> --> coordinates. In some examples, processing the waveform data includes processing the waveform data in substantially real time. In some examples, processing the waveform data includes processing the waveform data in substantially real time while drilling the formation. In some examples, the method also includes substantially removing a signature of a tool borne direct arrival using a semblance modification process. In some examples, when processing the wavefront data, a radial slowness is to be equal to a slowness of a direct compressional arrival.</p><p id="p0090" num="0090">Another example method includes transmitting a signal from a monopole source. The monopole source is spaced from an array of receivers of the downhole tool. The receivers are spaced around a circumference of the downhole tool. The method also includes obtaining waveform data associated with the signal received at one or more of the receivers and filtering the waveform data to substantially remove data associated with direct arrivals. The method also includes processing the filtered waveform data to determine three-dimensional slowness-time coherence representation of the waveforms and parameters of one or more non-direct wavefronts. In some examples, processing the filtered waveform data includes processing the filtered waveform data using spatial positions of the receivers. In some examples, processing the waveform data includes stacking waveforms according to linear moveout and sinusoidal moveout. In some examples, the one or more non-direct wavefronts includes local maxima in a coherence array associated with the waveform data.</p><p id="p0091" num="0091">An example apparatus includes one or more sources spaced from a receiver. The one or more sources are to transmit one or more signals and the receiver to receive at least a portion of the one or more signals. The apparatus includes a processor to process waveform data associated with the one or more signals by stacking waveforms of the waveform data based on to linear moveout and sinusoidal moveout. In some<!-- EPO <DP n="38"> --> examples, the one or more sources include a plurality of multi-pole sources. The processor is to identify relative arrival times and slowness of non-direct wavefronts using the processed waveform data.</p><p id="p0092" num="0092">Although only a few example embodiments have been described in detail above, those skilled in the art will readily appreciate that many modifications are possible in the example embodiments without materially departing from this invention. Accordingly, all such modifications are intended to be included within the scope of this disclosure as defined in the following claims. In the claims, means-plus-function clauses are intended to cover the structures described herein as performing the recited function and not only structural equivalents, but also equivalent structures. Thus, although a nail and a screw may not be structural equivalents in that a nail employs a cylindrical surface to secure wooden parts together, whereas a screw employs a helical surface, in the environment of fastening wooden parts, a nail and a screw may be equivalent structures. It is the express intention of the applicant not to invoke 35 U.S.C. § 112, paragraph 6 for any limitations of any of the claims herein, except for those in which the claim expressly uses the words 'means for' together with an associated function.</p></description><claims mxw-id="PCLM56982151" lang="EN" load-source="patent-office"><!-- EPO <DP n="39"> --><claim id="c-en-0001" num="0001"><claim-text>A method, comprising:
<claim-text>transmitting signals from a plurality of sources, the sources spaced from an array of receivers of the downhole tool, the receivers spaced around a circumference of the downhole tool;</claim-text>
<claim-text>obtaining waveform data associated with the signals received at one or more of the receivers; and</claim-text>
<claim-text>processing the waveform data to determine three-dimensional slowness-time coherence representation of the waveforms.</claim-text></claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>The method of claim 1, wherein processing the waveform data comprises: (1) processing the waveform data using spatial positions of the receivers; or (2) stacking waveforms based on linear moveout associated with a source-receiver offset and sinusoidal moveout associated with receiver azimuth.</claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>The method of claim 1, wherein the sources comprise multi-pole sources, and processing the waveform data from the multi-pole sources comprises using azimuths of the multi-pole sources.</claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>The method of claim 1, wherein processing the waveform data is to further determine parameters of one or more non-direct wavefronts</claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>The method of claim 4, wherein the one or more non-direct wavefronts comprise:
<claim-text>(1) the non-direct wavefronts having the highest coherence; or (2) local maxima in a coherence array associated with the waveform data.</claim-text></claim-text></claim><claim id="c-en-0006" num="0006"><claim-text>The method of claim 4, wherein the parameters comprise approximate arrival times and slowness in three spatial directions of the non-direct wavefronts, wherein the slowness is parameterized in one or more of Cartesian coordinates, cylindrical coordinates, or spherical coordinates.<!-- EPO <DP n="40"> --></claim-text></claim><claim id="c-en-0007" num="0007"><claim-text>The method of claim 1, wherein processing the waveform data comprises processing the waveform data in substantially real time while drilling the formation.</claim-text></claim><claim id="c-en-0008" num="0008"><claim-text>The method of claim 1, further comprising substantially removing a signature of a tool borne direct arrival using a semblance modification process.</claim-text></claim><claim id="c-en-0009" num="0009"><claim-text>The method of claim 1, wherein, when processing the wavefront data, a radial slowness is to be equal to a slowness of a direct compressional arrival.</claim-text></claim><claim id="c-en-0010" num="0010"><claim-text>A method, comprising:
<claim-text>transmitting a signal from a monopole source, the monopole source spaced from an array of receivers of the downhole tool, the receivers spaced around a circumference of the downhole tool;</claim-text>
<claim-text>obtaining waveform data associated with the signal received at one or more of the receivers;</claim-text>
<claim-text>filtering the waveform data to substantially remove data associated with direct arrivals; and</claim-text>
<claim-text>processing the filtered waveform data to determine three-dimensional slowness-time coherence representation of the waveforms and parameters of one or more non-direct wavefronts.</claim-text></claim-text></claim><claim id="c-en-0011" num="0011"><claim-text>The method of claim 10, wherein processing the filtered waveform data comprises processing the filtered waveform data using spatial positions of the receivers.</claim-text></claim><claim id="c-en-0012" num="0012"><claim-text>The method of claim 10, wherein the one or more non-direct wavefronts comprise local maxima in a coherence array associated with the waveform data.</claim-text></claim><claim id="c-en-0013" num="0013"><claim-text>An apparatus, comprising:
<claim-text>one or more sources spaced from a receiver, the one or more sources to transmit one or more signals and the receiver to receive at least a portion of the one or more signals; and<!-- EPO <DP n="41"> --></claim-text>
<claim-text>a processor to process waveform data associated with the one or more signals by stacking waveforms of the waveform data based on to linear moveout and sinusoidal moveout.</claim-text></claim-text></claim><claim id="c-en-0014" num="0014"><claim-text>The apparatus of claim 13, wherein the one or more sources comprise a plurality of multi-pole sources.</claim-text></claim><claim id="c-en-0015" num="0015"><claim-text>The apparatus of claim 13, wherein the processor is to identify relative arrival times and slowness of non-direct wavefronts using the processed waveform data.</claim-text></claim></claims><drawings mxw-id="PDW16670540" load-source="patent-office"><!-- EPO <DP n="42"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="115" he="225" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="43"> --><figure id="f0002" num="2"><img id="if0002" file="imgf0002.tif" wi="132" he="230" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="44"> --><figure id="f0003" num="3"><img id="if0003" file="imgf0003.tif" wi="139" he="230" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="45"> --><figure id="f0004" num="4"><img id="if0004" file="imgf0004.tif" wi="165" he="183" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="46"> --><figure id="f0005" num="5"><img id="if0005" file="imgf0005.tif" wi="165" he="172" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="47"> --><figure id="f0006" num="6"><img id="if0006" file="imgf0006.tif" wi="165" he="149" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="48"> --><figure id="f0007" num="7"><img id="if0007" file="imgf0007.tif" wi="165" he="159" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="49"> --><figure id="f0008" num="8"><img id="if0008" file="imgf0008.tif" wi="165" he="159" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="50"> --><figure id="f0009" num="9"><img id="if0009" file="imgf0009.tif" wi="165" he="165" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="51"> --><figure id="f0010" num="10"><img id="if0010" file="imgf0010.tif" wi="165" he="172" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="52"> --><figure id="f0011" num="11"><img id="if0011" file="imgf0011.tif" wi="165" he="165" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="53"> --><figure id="f0012" num="12"><img id="if0012" file="imgf0012.tif" wi="165" he="175" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="54"> --><figure id="f0013" num="13"><img id="if0013" file="imgf0013.tif" wi="165" he="178" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="55"> --><figure id="f0014" num="14,15,16"><img id="if0014" file="imgf0014.tif" wi="165" he="180" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="56"> --><figure id="f0015" num="17"><img id="if0015" file="imgf0015.tif" wi="165" he="148" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="57"> --><figure id="f0016" num="18,19"><img id="if0016" file="imgf0016.tif" wi="130" he="229" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="58"> --><figure id="f0017" num="20"><img id="if0017" file="imgf0017.tif" wi="165" he="184" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="59"> --><figure id="f0018" num="21,22"><img id="if0018" file="imgf0018.tif" wi="165" he="224" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="60"> --><figure id="f0019" num="23"><img id="if0019" file="imgf0019.tif" wi="161" he="158" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="61"> --><figure id="f0020" num="24"><img id="if0020" file="imgf0020.tif" wi="164" he="181" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="62"> --><figure id="f0021" num="25"><img id="if0021" file="imgf0021.tif" wi="161" he="184" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="63"> --><figure id="f0022" num="26"><img id="if0022" file="imgf0022.tif" wi="161" he="184" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="64"> --><figure id="f0023" num="27"><img id="if0023" file="imgf0023.tif" wi="165" he="169" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="65"> --><figure id="f0024" num="28"><img id="if0024" file="imgf0024.tif" wi="137" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="66"> --><figure id="f0025" num="29"><img id="if0025" file="imgf0025.tif" wi="140" he="223" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="67"> --><figure id="f0026" num="30"><img id="if0026" file="imgf0026.tif" wi="154" he="209" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="68"> --><figure id="f0027" num="31"><img id="if0027" file="imgf0027.tif" wi="150" he="197" img-content="drawing" img-format="tif"/></figure></drawings><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
