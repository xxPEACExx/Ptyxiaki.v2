<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2681936-A2" country="EP" doc-number="2681936" kind="A2" date="20140108" family-id="46753256" file-reference-id="313847" date-produced="20180823" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146586352" ucid="EP-2681936-A2"><document-id><country>EP</country><doc-number>2681936</doc-number><kind>A2</kind><date>20140108</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-12755236-A" is-representative="NO"><document-id mxw-id="PAPP154848544" load-source="docdb" format="epo"><country>EP</country><doc-number>12755236</doc-number><kind>A</kind><date>20120302</date><lang>EN</lang></document-id><document-id mxw-id="PAPP168045798" load-source="docdb" format="original"><country>EP</country><doc-number>12755236.2</doc-number><date>20120302</date></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140552089" ucid="US-201113041302-A" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>201113041302</doc-number><kind>A</kind><date>20110304</date></document-id></priority-claim><priority-claim mxw-id="PPC140555227" ucid="US-2012027598-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>2012027598</doc-number><kind>W</kind><date>20120302</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL2102372435" load-source="docdb">H04W   4/18        20090101AFI20140724BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL2102372720" load-source="docdb">H04W   4/16        20090101ALI20140724BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL2102372782" load-source="docdb">H04W   4/24        20090101ALI20140724BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL2102372799" load-source="docdb">H04W  88/18        20090101ALI20140724BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL2102373836" load-source="docdb">H04M  15/24        20060101ALN20140724BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL2102374300" load-source="docdb">H04M  15/00        20060101ALN20140724BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL2102376873" load-source="docdb">H04W  76/00        20090101ALN20140724BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL2102378214" load-source="docdb">H04W   8/02        20090101ALI20140724BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL2102378784" load-source="docdb">H04W  92/02        20090101ALN20140724BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL2102379523" load-source="docdb">H04W  84/04        20090101ALN20140724BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1777723607" load-source="docdb" scheme="CPC">H04W   4/24        20130101 LI20170804BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1777723608" load-source="docdb" scheme="CPC">H04W   4/18        20130101 LI20170804BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1777723609" load-source="docdb" scheme="CPC">H04M  15/80        20130101 LI20170803BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1777723610" load-source="docdb" scheme="CPC">H04M  15/63        20130101 LI20170804BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1777723611" load-source="docdb" scheme="CPC">H04M  15/41        20130101 LI20170804BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1777723612" load-source="docdb" scheme="CPC">H04M  15/39        20130101 LI20170804BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1777723613" load-source="docdb" scheme="CPC">H04L  65/1016      20130101 LA20170803BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1777723614" load-source="docdb" scheme="CPC">H04L  65/1006      20130101 LA20170803BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1777723615" load-source="docdb" scheme="CPC">H04L  12/1425      20130101 FI20170803BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1894802725" load-source="docdb" scheme="CPC">H04W  92/02        20130101 LA20160922BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1894803037" load-source="docdb" scheme="CPC">H04M  15/43        20130101 LA20160922BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1894803263" load-source="docdb" scheme="CPC">H04M2215/20        20130101 LA20160922BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1894803931" load-source="docdb" scheme="CPC">H04W  84/042       20130101 LA20160922BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1894805699" load-source="docdb" scheme="CPC">H04W  76/00        20130101 LA20160922BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2142245902" load-source="docdb" scheme="CPC">H04W  88/18        20130101 LI20141031BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2142246628" load-source="docdb" scheme="CPC">H04M  15/24        20130101 LA20141031BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132363689" lang="DE" load-source="patent-office">PAKETGESTEUERTE KERNNETZWERKARCHITEKTUR FÜR SPRACHDIENSTLEISTUNGEN IN DRAHTLOSEN ZUGRIFFSNETZWERKEN DER ZWEITEN UND DRITTEN GENERATION</invention-title><invention-title mxw-id="PT132363690" lang="EN" load-source="patent-office">PACKET SWITCHED CORE NETWORK ARCHITECTURE FOR VOICE SERVICES ON SECOND-AND THIRD-GENERATION WIRELESS ACCESS NETWORKS</invention-title><invention-title mxw-id="PT132363691" lang="FR" load-source="patent-office">ARCHITECTURE DE C UR DE RÉSEAU À COMMUTATION DE PAQUETS POUR SERVICES VOCAUX SUR RÉSEAUX D'ACCÈS SANS FIL DE DEUXIÈME ET TROISIÈME GÉNÉRATIONS</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR919526578" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>T MOBILE USA INC</last-name><address><country>US</country></address></addressbook></applicant><applicant mxw-id="PPAR919529137" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>T-MOBILE USA, INC.</last-name></addressbook></applicant><applicant mxw-id="PPAR919012116" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>T-Mobile USA, Inc.</last-name><iid>101013747</iid><address><street>12920 SE 38th Street</street><city>Bellevue, WA 98006-1350</city><country>US</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR919544541" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>TAPIA PABLO</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR919521912" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>TAPIA, PABLO</last-name></addressbook></inventor><inventor mxw-id="PPAR919005664" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>TAPIA, PABLO</last-name><address><street>12920 SE 38th Street</street><city>Bellevue, WA 98006-1350</city><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR919507149" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>JOUL CHRISTOPHER HARVEY</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR919505074" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>JOUL, CHRISTOPHER, HARVEY</last-name></addressbook></inventor><inventor mxw-id="PPAR919015694" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>JOUL, CHRISTOPHER, HARVEY</last-name><address><street>12920 SE 38th Street</street><city>Bellevue, WA 98006-1350</city><country>US</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR919013996" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Grünecker, Kinkeldey, Stockmair &amp; Schwanhäusser Anwaltssozietät</last-name><iid>100060488</iid><address><street>Leopoldstrasse 4</street><city>80802 München</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="US-2012027598-W"><document-id><country>US</country><doc-number>2012027598</doc-number><kind>W</kind><date>20120302</date><lang>EN</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2012122055-A2"><document-id><country>WO</country><doc-number>2012122055</doc-number><kind>A2</kind><date>20120913</date><lang>EN</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS549851166" load-source="docdb">AL</country><country mxw-id="DS549914471" load-source="docdb">AT</country><country mxw-id="DS549851167" load-source="docdb">BE</country><country mxw-id="DS549837120" load-source="docdb">BG</country><country mxw-id="DS549837369" load-source="docdb">CH</country><country mxw-id="DS549769769" load-source="docdb">CY</country><country mxw-id="DS549769770" load-source="docdb">CZ</country><country mxw-id="DS549837292" load-source="docdb">DE</country><country mxw-id="DS549851168" load-source="docdb">DK</country><country mxw-id="DS549851169" load-source="docdb">EE</country><country mxw-id="DS549759958" load-source="docdb">ES</country><country mxw-id="DS549837121" load-source="docdb">FI</country><country mxw-id="DS549837126" load-source="docdb">FR</country><country mxw-id="DS549837293" load-source="docdb">GB</country><country mxw-id="DS549851174" load-source="docdb">GR</country><country mxw-id="DS549837314" load-source="docdb">HR</country><country mxw-id="DS549769771" load-source="docdb">HU</country><country mxw-id="DS549837402" load-source="docdb">IE</country><country mxw-id="DS549851175" load-source="docdb">IS</country><country mxw-id="DS549837127" load-source="docdb">IT</country><country mxw-id="DS549851176" load-source="docdb">LI</country><country mxw-id="DS549837315" load-source="docdb">LT</country><country mxw-id="DS549914472" load-source="docdb">LU</country><country mxw-id="DS549837128" load-source="docdb">LV</country><country mxw-id="DS549837316" load-source="docdb">MC</country><country mxw-id="DS549914473" load-source="docdb">MK</country><country mxw-id="DS549914474" load-source="docdb">MT</country><country mxw-id="DS549914475" load-source="docdb">NL</country><country mxw-id="DS549769772" load-source="docdb">NO</country><country mxw-id="DS549914476" load-source="docdb">PL</country><country mxw-id="DS549851177" load-source="docdb">PT</country><country mxw-id="DS549759594" load-source="docdb">RO</country><country mxw-id="DS549851182" load-source="docdb">RS</country><country mxw-id="DS549914477" load-source="docdb">SE</country><country mxw-id="DS549837317" load-source="docdb">SI</country><country mxw-id="DS549769781" load-source="docdb">SK</country><country mxw-id="DS549769782" load-source="docdb">SM</country><country mxw-id="DS549759959" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data><office-specific-data><eptags><ep-no-a-document-published>*</ep-no-a-document-published></eptags></office-specific-data></bibliographic-data><abstract mxw-id="PA100065984" ref-ucid="WO-2012122055-A2" lang="EN" load-source="patent-office"><p num="0000">Communications systems and methods with an evolved packet-switched core network architecture to enable voice services on second- and third- generation wireless access networks. The systems and methods permit unmodified 2G and 3G mobile devices to conduct voice calls using conventional circuit-switched user-plane and control-plane protocols at the air interface while the voice calls are switched at the back-end using a packet-switched core network. The system may include a translation module at a controller component that is configured to provide both user- plane and control-plane translation functions between an unmodified 2G/3G mobile device that utilizes circuit-switched protocols for a voice call and the packet-switched core network that utilizes packet-switched protocols to switch the voice call.</p></abstract><abstract mxw-id="PA100335092" ref-ucid="WO-2012122055-A2" lang="EN" source="national office" load-source="docdb"><p>Communications systems and methods with an evolved packet-switched core network architecture to enable voice services on second- and third- generation wireless access networks. The systems and methods permit unmodified 2G and 3G mobile devices to conduct voice calls using conventional circuit-switched user-plane and control-plane protocols at the air interface while the voice calls are switched at the back-end using a packet-switched core network. The system may include a translation module at a controller component that is configured to provide both user- plane and control-plane translation functions between an unmodified 2G/3G mobile device that utilizes circuit-switched protocols for a voice call and the packet-switched core network that utilizes packet-switched protocols to switch the voice call.</p></abstract><abstract mxw-id="PA100065985" ref-ucid="WO-2012122055-A2" lang="FR" load-source="patent-office"><p num="0000">L'invention porte sur des systèmes et sur des procédés de communication ayant une architecture de cœur de réseau à commutation de paquets évoluée afin de permettre des services vocaux sur des réseaux d'accès sans fil de deuxième et troisième générations. Les systèmes et les procédés permettent à des dispositifs mobiles de 2G et de 3G non modifiés d'effectuer des communications vocales à l'aide de protocoles de plan utilisateur et de plan de commande à commutation de circuits classiques au niveau de l'interface radio, pendant que les communications vocales sont commutées à l'extrémité dorsale utilisant un cœur de réseau à commutation de paquets. Le système peut comprendre un module de traduction au niveau d'un composant contrôleur qui est configuré pour offrir des fonctions de traduction au plan utilisateur et au plan de commande entre un dispositif mobile de 2G/3G non modifié, qui utilise des protocoles de commutation de circuits pour une communication vocale, et le cœur de réseau à commutation de paquets, qui utilise des protocoles de commutation de paquets pour commuter la communication vocale.</p></abstract><abstract mxw-id="PA100335093" ref-ucid="WO-2012122055-A2" lang="FR" source="national office" load-source="docdb"><p>L'invention porte sur des systèmes et sur des procédés de communication ayant une architecture de coeur de réseau à commutation de paquets évoluée afin de permettre des services vocaux sur des réseaux d'accès sans fil de deuxième et troisième générations. Les systèmes et les procédés permettent à des dispositifs mobiles de 2G et de 3G non modifiés d'effectuer des communications vocales à l'aide de protocoles de plan utilisateur et de plan de commande à commutation de circuits classiques au niveau de l'interface radio, pendant que les communications vocales sont commutées à l'extrémité dorsale utilisant un coeur de réseau à commutation de paquets. Le système peut comprendre un module de traduction au niveau d'un composant contrôleur qui est configuré pour offrir des fonctions de traduction au plan utilisateur et au plan de commande entre un dispositif mobile de 2G/3G non modifié, qui utilise des protocoles de commutation de circuits pour une communication vocale, et le coeur de réseau à commutation de paquets, qui utilise des protocoles de commutation de paquets pour commuter la communication vocale.</p></abstract><description mxw-id="PDES51372648" ref-ucid="WO-2012122055-A2" lang="EN" load-source="patent-office"><!-- EPO <DP n="2"/>--><p id="p0001" num="0001"> PACKET-SWITCHED CORE NETWORK ARCHITECTURE FOR VOICE </p><p id="p0002" num="0002"> SERVICES ON SECOND- AND THIRD- GENERATION WIRELESS </p><p id="p0003" num="0003"> ACCESS NETWORKS </p><p id="p0004" num="0004">BACKGROUND </p><p id="p0005" num="0005">[0001] Third-Generation Partnership Project (3GPP) Long Term Evolution (LTE) is a new standard mobile network technology that uses only packet-switched (PS) protocols, including at the radio or air interface. It has been posited that the simplified architecture of LTE systems will reduce operating expenses for mobile service providers. Increasingly, mobile service providers are integrating LTE networks with pre-existing second-generation (2G) and third-generation (3G) networks that utilize a combination of circuit-switched (CS) and packet-switched protocols, such as Global System for Mobile Communications (GSM), General Packet Radio Service (GPRS), Enhanced Data Rates for GSM Evolution (EDGE), and Universal Mobile Telecommunications System (UMTS) networks. For example, both GSM and UMTS networks utilize circuit-switched protocols for voice services. </p><p id="p0006" num="0006"> [0002] Mobile service providers may find it difficult to gracefully transition to LTE technologies because they must continue to support legacy 2G/3G hardware in which the service provider or its customers invested, even after new LTE infrastructure is deployed. For example, service providers will need to continue to support customers who have legacy 2G/3G mobile devices that are not capable of interacting with LTE radio access networks. Additionally, service providers may continue to maintain their 2G/3G radio access networks for some period of time before fully replacing them with LTE radio access networks, since these legacy networks represent a substantial prior capital investment. </p><p id="p0007" num="0007"> [0003] In existing approaches, the legacy circuit-switched core network architecture must be maintained to support voice calls conducted using legacy 2G/3G mobile devices and 2G/3G radio access networks. Furthermore, the 3GPP has suggested that in order to interface LTE subsystems with 2G/3G subsystems, voice calls between a mobile device on an LTE subsystem and a mobile device on a 2G/3G subsystem should be circuit-switched by the circuit-switched core network of 
<!-- EPO <DP n="3"/>-->
 the 2G/3G subsystem. The suggested approach would require that mobile service providers indefinitely maintain two separate core networks: the legacy circuit- switched core network and a packet-switched core network. Maintaining two separate core networks leads to increased operating and capital expenses. Service providers could realize savings in their operating and capital expenses if 2G/3G circuit-switched core network hardware could be gracefully decommissioned. </p><p id="p0008" num="0008"> [0004] One previous approach to eliminate a circuit-switched core network is described in U.S. Patent Application Publication No. 2004/0029615, titled "Transmission of Voice Over Packet-Switched Systems," PCT No. PCT/EP01 /1 1 164, filed September 10, 2001 , the entirety of which is incorporated herein by reference. In the previous approach, transmission of voice over Internet Protocol (IP) is performed in a UMTS system by using a hybrid mode of attach where the speech bearer path from the mobile device is transported to the network controller in circuit- switched mode and from there onwards in packet-switched mode. The control signaling from the mobile device is sent over IP to the core network. Unfortunately, in the previous approach, the mobile device must be capable of generating and interpreting session initiation protocol (SIP) signaling messages, e.g., via an installed SIP architecture or application. Thus, unmodified 2G/3G mobile devices that do not include a SIP application may not utilize the previous approach. </p><p id="p0009" num="0009">BRIEF DESCRIPTION OF THE DRAWINGS </p><p id="p0010" num="0010">[0005] Figure 1 illustrates a communications system that may employ an evolved packet-switched core network architecture for voice services on second- and third-generation access networks. </p><p id="p0011" num="0011"> [0006] Figure 2 shows a simplified flow diagram of the control signaling for a call setup process for a mobile-originated 2G/3G voice call. </p><p id="p0012" num="0012"> [0007] Figure 3 shows a simplified flow diagram of the control signaling for a call setup process for a mobile-terminated 2G/3G voice call. </p><p id="p0013" num="0013"> [0008] Figure 4 shows a process for charging for a 2G or 3G voice call that is switched via a packet-switched core network. </p><p id="p0014" num="0014"> [0009] Figure 5 shows a block diagram of a translation module. 
<!-- EPO <DP n="4"/>-->
 DETAILED DESCRIPTION </p><p id="p0015" num="0015">[0010] Described herein are communications systems with an evolved packet- switched core network architecture for voice services on second- and third- generation wireless access networks and related methods. The systems and methods permit unmodified 2G and 3G mobile devices to conduct voice calls using conventional circuit-switched user-plane and control-plane protocols at the air interface while the voice calls are switched at the back-end using a packet-switched core network. As described in greater detail herein, since the packet-switched core network manages both control-plane signaling and user-plane data for 2G/3G voice calls using a packet-switched core network, there is no need to maintain a legacy circuit-switched core network. Thus, the systems and methods described herein may reduce capital and operating expenses. Furthermore, by moving 2G/3G voice calls off of dedicated circuits and onto Voice-Over-IP (VOIP) or similar packet- switched services, the systems and methods may provide greater efficiency and capacity than conventional 2G/3G technologies. </p><p id="p0016" num="0016"> [0011] As described herein, the system includes a translation module at a controller component. The translation module is configured to provide both user- plane and control-plane translation functions between an unmodified 2G/3G mobile device that utilizes circuit-switched protocols for a voice call and the packet-switched core network that utilizes packet-switched protocols to switch the voice call. Since the translation module provides the interworking needed between the packet- switched and circuit-switched modes, the methods described herein may be entirely transparent to the mobile devices. Therefore, the methods described herein may be implemented even with unmodified 2G/3G mobile devices that are incapable of providing SIP-based control of a voice call. </p><p id="p0017" num="0017"> [0012] Additionally, various systems and methods are described herein for charging for 2G/3G voice calls that are switched over a packet-switched core network. Also, various systems and methods are described herein for supporting both outbound and inbound roaming 2G/3G mobile devices. </p><p id="p0018" num="0018"> [0013] Various embodiments of the invention will now be described. The following description provides specific details for a thorough understanding and an enabling description of these embodiments. One skilled in the art will understand, 
<!-- EPO <DP n="5"/>-->
 however, that the invention may be practiced without many of these details. Additionally, some well-known structures or functions may not be shown or described in detail, so as to avoid unnecessarily obscuring the relevant description of the various embodiments. The terminology used in the description presented below is intended to be interpreted in its broadest reasonable manner, even though it is being used in conjunction with a detailed description of certain specific embodiments of the invention. </p><p id="p0019" num="0019">A. Communications System </p><p id="p0020" num="0020"> [0014] Figure 1 illustrates a communications system 100 that may employ an evolved packet-switched core network architecture for voice services on second- and third-generation access networks. The communications system 100 includes mobile devices 102, a 2G (e.g., GSM) radio access network that comprises a base station (BTS) 140 and a Base Station Controller (BSC) 142, a 3G (e.g., UMTS) radio access network that comprises a Node-B 141 and a Radio Network Controller (RNC) 143, a Serving GPRS Support Node (SGSN) 1 18, a Gateway GPRS Support Node (GGSN) 120, an LTE radio access network that comprises an eNode-B 144, a Mobility Management Entity (MME) 160, an access gateway (AGW) 134, a media gateway (MGW) 130, and an IP Multimedia Subsystem (IMS) 161 . As described herein, some examples of the communications system 100 may include a legacy mobile switching center (MSC) 122, while other examples may not. The communications system 100 may couple to one or more external networks such as a public switched telephone network (PSTN) 132, IP-based networks 1 10 such as the Internet and VOIP networks, and public land mobile networks (PLMN) 1 12, including circuit-switched PLMNs. Although not shown, the communications system 100 may also include various security components, e.g., between the GGSN 120 and IP networks 1 10, to protect the system from network attacks. While the communications system 100 is illustrated and described in terms of GSM/GPRS/EDGE/UMTS/LTE network components and architectures, the technologies described herein are not limited to such architectures. Any suitable communications system may employ aspects of the technology described herein. </p><p id="p0021" num="0021"> [0015] Mobile devices 102 may include virtually any devices for communicating over a wireless network. Such devices include mobile telephones, such as Global 
<!-- EPO <DP n="6"/>-->
 System for Mobile Communications (GSM) telephones, Time Division Multiple Access (TDMA) telephones, Universal Mobile Telecommunications System (UMTS) telephones, Evolution-Data Optimized (EVDO) telephones, Long Term Evolution (LTE) telephones, Generic Access Network (GAN) telephones, Unlicensed Mobile Access (UMA) telephones, and other mobile computers or devices, such as Voice over Internet Protocol (VoIP) devices, Secure User-plane Location (SUPL) Enabled Terminals (SETs), Personal Digital Assistants (PDAs), handheld computers, laptop computers, wearable computers, tablet computers, pagers, integrated devices combining one or more of the preceding devices, and/or the like. As such, mobile devices may range widely in terms of capabilities and features. For example, a mobile telephone may have a numeric keypad, the capability to display only a few lines of text and be configured to interoperate with only GSM networks. However, other mobile devices (e.g., smart phones) may have a touch-sensitive screen, a stylus, an embedded GPS receiver, and a relatively high-resolution display and be configured to interoperate with multiple types of networks. Mobile devices may also include SIM-less devices (i.e., mobile devices that do not contain a functional subscriber identity module (SIM), roaming mobile devices (i.e., mobile devices operating outside of their home networks), and/or mobile software applications. </p><p id="p0022" num="0022"> [0016] Users may employ mobile devices 102 to communicate with other users or devices, e.g., via voice calls, messaging, multimedia data communications, or otherwise. Mobile devices typically include a processing unit, volatile memory and/or nonvolatile memory, a power supply, one or more network interfaces, an audio interface, a display, a keypad or keyboard, a GPS receiver and/or other location determination component, and other input and/or output interfaces. The various components of mobile devices may be interconnected via a bus. The volatile and nonvolatile memories generally include storage media for storing information such as processor-readable instructions, data structures, program modules, or other data. Some examples of information that may be stored include basic input/output systems (BIOS), operating systems, and applications. In addition, the memories may be employed to store operational data, content, contexts, and/or the like. The memories may also store one or more applications configured to receive and/or provide messages to and/or from another device or component. These messages may also be displayed and/or stored on a mobile device. Such messages may include short 
<!-- EPO <DP n="7"/>-->
 message service (SMS) messages, multi-media message service (MMS) messages, instant messaging (IM) messages, enhanced message service (EMS) messages, rich communication service content, and/or any other content directed toward a user of mobile devices. </p><p id="p0023" num="0023"> [0017] The various mobile devices 102 include "modified" and "unmodified' mobile devices. Unmodified mobile devices (102a, 102b, 102c), such as 2G/3G mobile devices, do not include a native VOIP application that is configured to provide native support of VOIP calls. In contrast, "modified" mobile devices (102d), such as 4G or LTE mobile devices, include a native VOIP application that is configured to provide native support of VOIP calls when a user initiates or receives a voice call. The user plane data and control signaling for a VOIP call on a modified mobile device may be transmitted entirely via packet-switched protocols, even at the air interface. </p><p id="p0024" num="0024"> [0018] A BTS 140 and a Node-B 141 are each configured to provide a radio or air interface to mobile devices 102 under the control of BSC 142 and RNC 143, respectively. For example, the BTS may provide a GSM radio interface (Urn) while Node-B provides a GPRS and/or UMTS radio interface (Uu). The BTS and Node-B typically include limited command and control functionality (e.g., retransmission) or no command and control functionality. Instead, the BSC and/or RNC provide such command and control functionality while the BTS and Node-B provide physical layer interfaces to associated mobile devices. BTSs and Node-Bs may be positioned at distributed locations to provide network coverage throughout a geographical area. In some examples, the node-B and RNC may be combined into a single device. </p><p id="p0025" num="0025"> [0019] As described in greater detail herein, the communications system 100 switches some or all voice calls terminating or originating at a mobile device roaming on the 2G or 3G radio access networks (a "2G/3G voice call") over a packet- switched core network. To facilitate packet-switching of 2G/3G voice calls, the BSC and/or RNC includes or is coupled to a translation module 108, which is described in greater detail herein. As shown in Figure 5, the translation module 108 may comprise a control-plane translation module 502 configured to perform various translation tasks related to control plane signaling for voice calls and a user-plane translation module 504 configured to perform various translation tasks related to user-plane data for voice calls. Although not shown in Figure 1 , in some examples, 
<!-- EPO <DP n="8"/>-->
 such as systems that implement HSPA technologies such as Internet HSPA, the BTS may alternatively or additionally include a translation module. </p><p id="p0026" num="0026"> [0020] The BSC 142 and RNC 143 are both coupled to the SGSN 1 18 over the Gb and lu-PS interfaces, respectively. The SGSN distributes data packets to and from the mobile devices 102 in its service area. The SGSN also performs mobility management duties, authentication functions, and/or other tasks. The SGSN may maintain location and profile information for mobile devices registered with it, such as a current cell identifier and an address. The SGSN may detunnel packets (e.g., GPRS Tunneling Protocol (GTP) packets) from the GGSN 120 and tunnel IP packets to the GGSN. </p><p id="p0027" num="0027"> [0021] The SGSN 1 18 is coupled to the GGSN 120. In some examples (e.g., where direct tunneling is supported), the RNC 143 may also couple directly to the GGSN 120. The GGSN provides packet-based interworking between the (1 ) 2G/3G networks and (2) packet-switched components and packet-switched networks, including IP-based networks 1 10 such as the Internet and VOIP networks, the IMS 161 , the media gateway 130, the access gateway 134, and/or other system components. The GGSN performs various data routing functions as a mobile device 102 roams within the 2G and 3G access networks. To implement its routing functions, the GGSN may manage and assign IP addresses and may maintain the current SGSN address of a mobile device 102. </p><p id="p0028" num="0028"> [0022] The GGSN 120 forwards incoming data packets addressed to a specific mobile device 102 that originated from another mobile device 102, another system component, or an external network to the specific mobile device. To do so, the GGSN may tunnel received packets to the SGSN 1 18 that services the specified mobile device. The GGSN may translate the Packet Data Protocol (PDP) address of received data packets into the access network address of the specified mobile device and send the packets to the SGSN that the specified mobile device is registered with. If direct tunneling is supported, the GGSN may directly tunnel received packets to an RNC 143 that services the specified mobile device. </p><p id="p0029" num="0029"> [0023] The GGSN 120 also forwards data packets received from the SGSN 1 18, such as packets originating from a mobile device 102, BSC 142, or RNC 143, to another packet-switched network or component such as an IP 
<!-- EPO <DP n="9"/>-->
 network 1 10, the IMS 161 , the media gateway 130, the access gateway 134, another GGSN 120, or other packet-switched system components. To do so, the GGSN may convert packets received from the SGSN into a PDP format (e.g., IP format) that is suitable for the destination and transmit the packets to the appropriate network or component. If direct tunneling is supported, the GGSN 120 may also forward data packets received from the RNC 143 to another packet-switched network or component. </p><p id="p0030" num="0030"> [0024] An eNode-B 144 is employed as a consolidated LTE counterpart of the BTS 140, Node-B 141 , BSC 142, and RNC 143. For example, the eNode-B provides low-level LTE radio interfacing and various command and control functionalities, including radio resource management. </p><p id="p0031" num="0031"> [0025] The eNode-B 144 is coupled to the MME 160 and AGW 134. The dashed line connecting the MME to the eNode-B, AGW, and SGSN indicates that the MME provides control-plane signaling. The MME is a control point for the LTE access network that may provide functionalities within the LTE access networks that are analogous to the SGSN 1 18 and GGSN 120. The MME may track idle mode mobile devices 102 and provide paging functionalities. The MME may also implement bearer activation/deactivation, selecting an AGW for a particular mobile device, authentication, and authorization. An MME may be a MME as described by the System Architecture Evolution (SAE) standards available from the 3GPP such as by TS 33.401 . </p><p id="p0032" num="0032"> [0026] The AGW 134, which in some examples may comprise a serving gateway and packet data network gateway, routes user-plane packets to and from the eNode-B 144. The AGW acts as a mobility anchor for the user-plane during eNode-B handovers. The AGW may also act as a mobility anchor between the LTE access network and the 2G/3G access networks. The AGW may initiate paging when it receives downlink data for a mobile device 102. The AGW may also manage mobile device contexts, such as IP bearer service information and routing information. In some examples, the AGW is responsible for routing some or all traffic exchanged with IP networks 1 10. In some examples, the AGW may be collapsed with the GGSN 120 into a single device. 
<!-- EPO <DP n="10"/>-->
 [0027] The MGW 130 connects the communications system 100 to external networks and acts as an exit and entry point for user-plane traffic, such as VOIP or data traffic exchanged with external networks. As part of its function, the MGW may provide transcoding services by converting digital media streams between different transmission and coding techniques. The MGW may also act as the anchor for mobility between 3GPP and non-3GPP networks, e.g., networks that utilize WiMAX and 3GPP2 technologies (not shown in Figure 1 ). </p><p id="p0033" num="0033"> [0028] The GGSN 120, AGW 134, and MGW 130 couple to the IMS 161 . The dashed line connecting the IMS to these components indicates that the IMS provides control-plane signaling. The IMS permits mobile devices 102 roaming in the 2G, 3G, and LTE access networks to access multimedia, messaging, and voice applications and services. To do so, the IMS provides a control layer that isolates the access networks from the service layer. The IMS may comprise various Call Session Control Functions and other components that, inter alia, provide processing of SIP signaling packets in the IMS. The IMS may also include or be coupled to a Home Subscriber Server (HSS) (not shown). The basic functionalities of the IMS components are described by standards promulgated by the 3GPP, including 3GPP TS 23.002, version 9.5.0 Release 9, which is hereby incorporated by reference herein in its entirety. The IMS may also include a CS-charging module 126 configured to perform various functions to ensure that subscribers who use mobile devices on 2G/3G access networks are correctly charged for 2G/3G voice calls. The IMS may also include a CS-spoofing module 128 configured to perform various functions to interact with other PMLNs in order to support inbound and outbound roaming and other services. The CS-charging module and CS-spoofing module are both described in greater detail herein. In some examples, the IMS may not be an IMS as described by the 3GPP, but may be another network that is configured to control voice calls and/or data transfers using SIP- or IP- based protocols. In such examples, the SIP voice control network may perform its various control functionalities in accordance with some, but not all, aspects of 3GPP standards. </p><p id="p0034" num="0034">B. Conventional Circuit-Switched Voice Calls </p><p id="p0035" num="0035"> [0029] In conventional 2G and 3G systems, a mobile terminated (MT) or mobile originated (MO) voice call is typically implemented using circuit-switched protocols 
<!-- EPO <DP n="11"/>-->
 and is switched via the MSC 122. To illustrate, in a conventional 3G UMTS system, when a user initiates a voice call on a mobile device 102, the mobile device 102 communicates over the air interface Uu to the Node-B 141 using circuit-switched protocols, including e.g., the frame protocol for user-plane data. The control for the call is provided by the MSC communicating with the RNC 143 using circuit-switched protocols over the lu-CS interface. During the voice call, the user-plane voice data is typically routed between the RNC and the MSC over the lu-CS interface using circuit-switched protocols, e.g. the frame protocol, but may be encapsulated in either ATM or IP. Such conventional approaches to voice call control and user-plane routing require the active participation of the legacy MSC. As described above, a mobile service provider must expend additional resources to maintain a legacy MSC, which increases operating and capital expenses. For 3G calls that use ATM or IP encapsulation, it is also necessary to translate back from the IP or ATM protocols. </p><p id="p0036" num="0036">C. Translation Module to Support Packet-Switching of 2G/3G Voice Calls </p><p id="p0037" num="0037"> [0030] Although unmodified mobile devices 102 continue to use circuit-switched protocols at the air interface, some or all 2G/3G voice calls in the depicted communication system 100 are switched using a packet-switched core network comprised of the SGSN, GGSN and/or IMS. The packet-switched core network provides both control signaling and user-plane data routing for 2G/3G voice calls. By using a packet-switched core network to switch 2G/3G voice calls, the communications system does not need to include a separate legacy circuit-switched MSC 122 to support unmodified 2G/3G mobile devices. In some examples, the communications system may continue to switch some 2G/3G calls via the legacy MSC, for example to provide additional switching capacity that supplements the capacity of the packet-switched core network. In other examples, the MSC may be decommissioned entirely and the packet-switched core network may switch all 2G/3G voice calls. </p><p id="p0038" num="0038"> [0031] During voice calls, unmodified mobile devices 102 interact with 2G/3G radio access networks using circuit-switched protocols at the air interface. In order to switch 2G/3G voice calls over a packet-switched core network without modifying mobile devices, a translation module 108 is introduced into the communications system 100 at the BSC 142 and/or RNC 143. The translation module is configured 
<!-- EPO <DP n="12"/>-->
 to provide both user-plane and control-plane translation functions between (1 ) an unmodified mobile device that utilizes circuit-switched protocols at the air interface during a voice call, and (2) the packet-switched core network that utilizes packet- switched protocols for both control-plane and user-plane data. During a 2G/3G voice call, the translation module bypasses the MSC 122 both in the user-plane and the control-plane. Instead, as described in greater detail herein, the translation module may route user-plane data through and exchange control signaling messages with the packet-switched core network. Although the translation module may frame and/or packetize previously encoded voice data as described in greater detail herein, the translation module does not need to modify the encoding of voice data. </p><p id="p0039" num="0039">D. Packet-Switching of User-Plane Voice Data For 2G/3G Voice Calls </p><p id="p0040" num="0040"> [0032] The translation module 108 performs various translation functions to facilitate the transfer of user-plane data for 2G/3G voice calls via the packet-switched core network. On uplink, the translation module encapsulates uplink circuit-switched voice data (e.g., voice data in a circuit-switched frame protocol format) generated by the mobile device 102 into packet-switched format voice data packets (e.g., IP packets) and sends the generated packets to other system components. To illustrate, during a 2G/3G voice call, the following steps may occur. First, uplink user-plane voice data originates from a mobile device 102 that uses conventional 2G or 3G (e.g., GSM or UMTS) techniques to encode the voice signal. The mobile device sends the voice data over the air interface (i.e., Urn or Uu interface) using conventional circuit-switched 2G or 3G air interface protocol stacks, e.g., a protocol stack that utilizes the frame protocol. Second, the circuit-switched format voice data is received by the BTS 140 or Node-B 141 . The BTS or Node-B forwards the received voice data to the BSC 142 or RNC 143, over the Abis or lub interface, respectively, using protocol stacks, e.g., the defined 2G/3G protocols. Third, when the BSC or RNC receives the circuit-switched format voice data, the translation module 108 converts the received data from a circuit-switched format (e.g., frame format) into a packet-switched format (e.g. IP packet format). For example, the translation module may encapsulate the circuit-switched format data into packet- switched format data as described in U.S. Patent Application No. 10/380,790, titled "Transmission of Voice Over Packet-Switched Systems," filed March 14, 2003, now U.S. Patent Application Publication No. 2004/0029615, which is hereby incorporated 
<!-- EPO <DP n="13"/>-->
 herein in its entirety. Fourth, the voice data packets generated by the translation module 108 are then forwarded to the SGSN 1 18 and then to the GGSN 120 using packet-switched protocols. Alternatively, the voice packets generated by the translation module may be directly forwarded from an RNC 143 (or combination RNC/node-B) to the GGSN 120, bypassing an SGSN. Fifth, the GGSN and/or the MGW 130 forwards the voice data packets to the network on which the intended recipient (i.e., the other party on the call) is located. For example, the GGSN may forward the packets to the MGW 130, which in turn forwards the voice data in the packets to a recipient that is located on a PSTN 132, a different PLMN 1 12, an IP network 1 10, or the LTE access network. The MGW may also perform transcoding on the packets prior to forwarding the voice data, e.g., if the recipient is on a PSTN. Alternatively, the GGSN may forward the packets to a different GGSN, SGSN, BSC, RNC (or combined RNC/node-B), AGW 134, or IP networks 1 10 using packet- switched protocols. </p><p id="p0041" num="0041"> [0033] On downlink, the translation module 108 converts or unencapsulates downlink packet-switched voice data (e.g., VOIP packets) received from the packet- switched core network into a circuit-switched format (e.g., frame formatted voice data). To illustrate, on downlink, the following steps may occur. First, the GGSN 120 receives packet-switched voice data directed to the mobile device 102 from the other party to the call via packet-switched protocols (e.g. IP protocols). The voice packets may be received from the MGW 130, another GGSN 120 or SGSN 1 18, AGW 134, IP networks 1 10 (e.g., a VOIP network), or another system component. Second, using packet-switched protocols, the GGSN forwards the received packets to the correct SGSN or RNC (or combined RNC/node-B) to which the mobile device is attached. In turn, the SGSN forwards the voice packets to the BSC 142 or RNC 143 over the Gb or lu-PS interfaces, respectively, using packet- switched protocol stacks. Third, the translation module 108 then converts the received voice data packets (e.g. VOIP packets) to circuit-switched format voice data (e.g. frame format). Fourth, the module sends the circuit-switched format voice data (e.g. voice frames) to the BTS 140 or Node-B 141 using circuit-switched protocols. Fifth, the BTS or Node-B transmits the circuit-switched format voice data to the mobile device using the defined protocols, e.g., conventional circuit-switched 2G or 3G air interface protocol stacks. 
<!-- EPO <DP n="14"/>-->
 E. Control Signaling For 2G/3G Voice Calls over a Packet-Switched Core Network </p><p id="p0042" num="0042"> [0034] The translation module 108 may also perform various translation functions to facilitate the control signaling for a 2G/3G voice call. As described in greater detail with respect to Figures 2 and 3, the translation module may intercept a circuit-switched format signaling message originating from the mobile device via circuit-switched protocols, interpret the circuit-switched message, generate a packet- switched format signaling message (e.g., a SIP message) that is related to or analogous to the received circuit-switched message, and send the generated packet- switched signaling message to the IMS or another component using packet-switched protocols. Similarly, the translation module may also intercept a packet-switched format signaling message originating from the IMS or another component via packet- switched protocols, interpret the packet-switched message, generate an analogous or related circuit-switched format signaling message, and send the generated message to the mobile device via the radio access network using circuit-switched protocols. Since the translation module performs translation functions (e.g., between circuit-switched signaling messages and SIP messages), legacy 2G/3G mobile devices do not need an installed SIP application or any other modifications in order to provide signaling for a 2G/3G voice call. Instead, the packet-based switching of a voice call is transparent to the mobile device. Additionally, since the translation module performs translation functions, the SGSN and GGSN do not need modifications in order to switch 2G/3G voice calls. The various control-plane functionalities of the translation module are illustrated further herein with respect to Figures 2 and 3. </p><p id="p0043" num="0043"> [0035] Figure 2 shows a simplified flow diagram of the control signaling for a call setup process 200 for a mobile-originated (MO) 2G/3G voice call. The call setup process 200 begins at step 202, when the mobile device 102 sends a circuit- switched Service request message to and receives a circuit-switched response from the translation module 108 located at the RNC 143 or BSC 142. At step 204, the mobile device then sends a circuit-switched Setup message to and receives a circuit- switched response from the translation module. Although not shown in Figure 2, the translation module establishes a packet-switched signaling bearer for SIP signaling, mobility management and authentication. At step 206, the translation module sends 
<!-- EPO <DP n="15"/>-->
 a packet-switched SIP Invite message to the IMS 161 , which triggers the IMS to send an Initial Address Message (IAM) to the PSTN 1 32. At step 208, the IMS sends the translation module a packet-switched SIP Response message, which may include or otherwise indicate an IP address and/or another address associated with the recipient of the call (a "destination address"). The destination address may also be indicated to the translation module by a different SIP message. The translation module maps or associates the call's session to the destination address, e.g., by storing the destination address in a local session table. Moreover, at different points after the initiation of the call, e.g., during RNC and/or node-B handoffs of a destination mobile device, the translation module may receive an indication of a different address (e.g., IP address or other address) associated with the recipient of the call and may update its stored destination address to reflect the new, different address. At step 210, the IMS initiates a packet-switched media bearer assignment for the call, via the GGSN 120, SGSN 1 18 and translation module. The packet- switched media bearer assigned is typically separate from the packet-switched SIP signaling bearer, and may have stringent quality-of-service (QoS) parameters (e.g., a QoS parameter suitable for voice conversation) or other bearer parameters suitable for a voice call. To ensure sufficient call quality for example, the media bearer may have a higher QoS than the packet-switched signaling bearer or the signaling bearers used for non-voice data. At step 212, the translation module initiates a radio bearer assignment with the mobile device using circuit-switched protocols. The translation module then triggers the completion of the packet-switched media bearer assignment. When an Address Complete Message (ACM) is received from the PSTN, the IMS sends a packet-switched SIP: 180 Ringing message to notify the translation module. In turn, at step 216, the translation module notifies the mobile device by sending a circuit-switched Alerting message. Once an Answer Message (ANS) is received from the PSTN, the IMS notifies the translation module via a packet-switched SIP: 200 OK message. In turn, the translation module sends a circuit-switched Connect message to the mobile device, which responds with circuit- switched acknowledgment. </p><p id="p0044" num="0044"> [0036] Figure 3 shows a simplified flow diagram of the control signaling for a call setup process 300 for a mobile-terminated (MT) 2G/3G voice call. The call setup process 300 begins at step 302, when in response to receiving an IAM message 
<!-- EPO <DP n="16"/>-->
 from the PSTN, the IMS 161 sends a packet-switched SIP: Invite message to the translation module 108 at the RNC 143 or BSC 142. The Invite message (or another SIP message from the IMS) may indicate a destination address. The translation module may take various steps to store the destination address (e.g., in association with the call's session) and to update the stored destination address at various points during the call, as previously described. Although not shown in Figure 3, the translation module may also establish a packet-switched signaling bearer for SIP signaling, mobility management and authentication. At step 304, the translation module then sends a circuit-switched Setup message to and receives a circuit- switched response from the mobile device 102. Next, at step 306, the translation module sends a packet-switched SIP Response message to the IMS. At step 308, the IMS initiates, via the GGSN 120, SGSN 1 18 and translation module, a packet- switched media bearer assignment for the call. The packet-switched media bearer assigned is typically separate from the SIP signaling bearer, and may, for example, have stringent QoS bearer parameters as previously described. At step 310, the translation module initiates a circuit-switched radio bearer assignment with the mobile device. Then the translation module completes the packet-switched media bearer assignment. At step 312, the mobile device sends a circuit-switched Alerting message to the translation module. In response, the translation module sends a packet-switched SIP: 180 Ringing message to the IMS, which in turn sends an Address Complete Message (ACM) to the PSTN. At step 316, the mobile device sends a circuit-switched Connect message to the translation module. At step 318, the translation module sends a packet-switched SIP: 200 OK message to the IMS, which then sends an Answer Message (ANS) to the PSTN. The translation module also responds to the circuit-switched Connect message received from the mobile device. </p><p id="p0045" num="0045"> [0037] As illustrated by Figures 2 and 3, since the translation module 108 translates control-plane messages, the mobile devices 102 do not need to deviate from conventional circuit-switched 2G or 3G signaling behavior in order to make a voice call that is switched on a packet-switched core network. Instead, the mobile device continues to perform as it would in a conventional 2G or 3G system, by using conventional circuit-switched signaling protocols to communicate with the BTS 140 or Node-B 141 over the air interfaces, Urn or Uu. For example, the mobile devices 
<!-- EPO <DP n="17"/>-->
 may continue to send and receive Direct Transfer Application Sub-Part (DTAP) messages. Therefore, legacy 2G/3G mobile devices do not need modifications, such as an installed SIP application, to make a voice call that is switched on a packet- switched core network. </p><p id="p0046" num="0046"> [0038] The processes 200 and 300 also highlight several examples of how the communications system 100 diverges from the voice call setup used in conventional 2G/3G circuit-switched systems. As a first example, the IMS 161 , and not the MSC 122 manages the setup of the voice call. As another example, the system 100 uses a packet-switched mode for mobility management with messages sent between the mobile device 102 and the SGSN, instead of between the mobile device and the MSC 122. As yet another example, the network, rather than the mobile device 102, initiates media bearer activation. </p><p id="p0047" num="0047"> [0039] To implement the processes 200 and 300, the GGSN 120, SGSN 1 18, BSC 142, and RNC 143 may implement a packet-switched paging mechanism. Additionally, routing areas and BSCs/RNCs may be aligned. In some examples, discrete access point names ("APN") are used, with separate packet-switched bearers for voice and for signaling. </p><p id="p0048" num="0048"> [0040] Figures 2 and 3 do not show all signaling steps that would be performed during a 2G/3G voice call. For example, these figures do not show the signaling steps needed to terminate a voice call. However, the translation module 108 may similarly intercept and translate any other signaling messages related to a 2G/3G voice call, not just those shown in Figures 2 and 3. Furthermore, although Figures 2 and 3 show signaling flows diagrams for a 2G/3G voice call with a party on a PSTN 132, the call could be directed to or received from another mobile device on the same communications system or a different PLMN 1 12, or from any other type of device (such as a VOIP client), without departing substantially from the steps shown in Figures 2 and 3. </p><p id="p0049" num="0049">F. Charging For 2G/3G Voice Calls Over a Packet-switched Core Network </p><p id="p0050" num="0050"> [0041] Figure 4 shows a process 400 for charging for a 2G or 3G voice call that is switched via a packet-switched core network. The process 400 is described as being performed by the CS-charging module 126, however, it may also be performed by other system components or in other systems. The process 400 begins at 
<!-- EPO <DP n="18"/>-->
 block 402, when the CS-charging module detects the first relevant packet in a 2G/3G voice call session that is being packet-switched via the packet-switched core network. A packet is relevant to voice call charging if it provides information that either directly or indirectly forms a basis for how a mobile service provider charges a user for a voice call. A relevant packet may be generated by the IMS 161 or received by the IMS (e.g., from the RNC 143 or BSC 142). The "first" relevant packet is an initial relevant packet sent or received during call setup, and may, for example, provide an indication of the time at which a voice call was initiated or set up. For example, if a mobile service provider charges a user on the basis of when a call is connected, the first relevant packet may carry a SIP: 200 OK message, such as the message shown at steps 218 and 318, since these are sent or received in close temporal proximity to a circuit-switched Connect message. In other approaches of charging, the first relevant packet may occur at any other steps shown in Figures 2 and 3 or call setup steps that are not shown in the Figures. For example, if a service provider's customers are charged even for calls that go unconnected (e.g., unanswered), the packet carrying a SIP: Invite or SIP: Response message may be the first relevant packet. </p><p id="p0051" num="0051"> [0042] At block 404, the CS-charging module 126 extracts information from the packet that is relevant to charging, either directly or indirectly. For example, the CS- charging module may determine the time that a packet (e.g. a SIP 200 OK packet) was received or generated, e.g., in order to indirectly estimate the time that a call was initiated or connected. As another example, the CS-charging module may determine characteristics of the voice call that will be used as a basis for charging for the call, such as a destination phone number that will dictate the rate for the voice call, or a cell identifier that indicates the mobile device's current location and/or time zone. To perform the extraction, the CS-charging module may immediately or subsequently (e.g., at block 410) utilize a session identifier or other information within the packet to look up characteristics of the voice call session, e.g., in a session table. Other system components may perform such a lookup at the request of the CS-charging module. </p><p id="p0052" num="0052"> [0043] At block 406, the CS-charging module 126 continues to monitor for other relevant packets in the voice call session and continues to extract information from the other packets, as described herein. 
<!-- EPO <DP n="19"/>-->
 [0044] At decision block 408, the CS-charging module 126 determines if the last relevant packet has already been received. For example, the CS-charging module may determine that a SIP Bye message (or a response to a Bye message) has been sent or received, indicating that the call is being terminated. If the last relevant packet has been received, the process 400 proceeds to block 410, otherwise, it returns to block 406. </p><p id="p0053" num="0053"> [0045] At block 410, the CS-charging module 126 generates a charging data record (CDR) for the voice call that contains information related to charging the user for the voice call. The generated CDR provides sufficient information such that a conventional circuit-switched charging schema could be applied to charge a subscriber for the call. Conventional schemas include charging for a voice call based on the call's duration instead of the quantity of packet-switched voice data that is transferred during the call. In some examples, the CDR may indicate the start time, end time, billable duration, start location, end location, origin/destination IP address, supplementary services utilized during a call which may be indicated by extended codes (e.g., call waiting, three-way calling, etc.), the original destination number dialed, and a connected-to number. It will be appreciated that a CDR that is generated for a voice call will therefore typically differ from a CDR that is generated for a web browsing session, even though the same packet-switched core network is utilized and the same quantity of data may be transmitted via that network. </p><p id="p0054" num="0054"> [0046] Additionally, at block 410, or at another time, the CS-charging module or another system component may take corrective steps to ensure that a subscriber is not overcharged for the packet-switched data that is exchanged during the voice call. For example, if the subscriber has both a voice call service plan and a data service plan, the subscriber may receive a credit against his data service plan to account for the volume of data packets that were transferred during the call. As another example, the CS-charging module or another system component might take a different action to ensure that the packets associated with the voice call are not charged against the subscriber's data plan. Otherwise, without such corrective action, the subscriber might be over-charged for the call, if in addition to being charged for a voice call in accordance with the CDR (e.g., on a per-minute basis), he is also charged for the data packet transfers under his data plan (e.g,. on a per- kilobyte basis). 
<!-- EPO <DP n="20"/>-->
 [0047] In some examples, during the process 400, the CS-charging module 126 may also detect and utilize packets that contain information that is relevant to the mobile service provider's recordkeeping processes, even if the information will not be used for charging purposes. For example, a mobile service provider might not charge its users for unconnected voice calls but may track the occurrence of unconnected voice calls for recordkeeping purposes. In such an example, the CS- charging module may detect all packets that are relevant to both charging and/or unconnected calls and use these packets to generate a CDR and/or similar records. </p><p id="p0055" num="0055"> [0048] In some examples, the RNC 143, BSC 142 and/or IMS 161 may embed additional charging or other relevant information into control-plane packet-switched (e.g., SIP) messages related to call management, authentication, mobility management, or similar primary control-plane tasks; the extra information embedded is not necessary to perform the primary control-plane task. During the process 400, the additional information may be extracted and utilized by the CS-charging module 162. For example, the RNC or BSC may embed information into a SIP: Invite message (or a response thereto) indicative of a time zone. Additionally or alternatively, some or all of the relevant packets detected and utilized during the process 400 may be generated by the RNC or BSC solely to facilitate charging functions, not other control-plane tasks. </p><p id="p0056" num="0056"> [0049] Although the process 400 has primarily described the detection and use of control-plane packets for charging, in some examples, during the process 400, the CS-charging module 162 may additionally or alternatively detect and utilize user- plane packets carrying voice payload data. </p><p id="p0057" num="0057">G. Roaming </p><p id="p0058" num="0058"> [0050] The communications system may include a CS-spoofing module 128 to facilitate outbound and inbound roaming of 2G/3G mobile devices. The module performs various translation tasks so that the communications system 100 externally appears to mimic the mobility management and other core procedures that would normally be implemented by a conventional circuit-switched 2G or 3G core network, such as an MSC 122. These translation tasks may include (1 ) accepting, interpreting, and responding to incoming control-plane messages received from other communications systems, including messages related to mobility management, 
<!-- EPO <DP n="21"/>-->
 and (2) sending outgoing control-plane messages to other communications systems, including messages related to mobility management. As one example, when a subscriber of the mobile service provider that operates the communications system 100 roams into a different visited communications system, the CS-spoofing module in the subscriber's home communications system may be configured to receive, interpret, and respond to messages from the visited network that request subscription information for the subscriber. When responding, the CS-spoofing module may use a messaging format that spoofs or mimics the signaling of a 2G or 3G core network, e.g., the MSC 122. As another example, when a subscriber of the operator of a different communications system, e.g., a different PLMN, roams into the communications system 100, the CS-spoofing module may be configured to send a request for subscription information for the mobile device 102 using a messaging format that spoofs or mimics the signaling of a 2G or 3G core network, e.g., the MSC 122. </p><p id="p0059" num="0059"> [0051] Additionally, the CS-spoofing module 128 may perform various translation tasks to support authentication, profile translation, emergency services support, and/or translation of other services of the home network. The CS-spoofing module may also support extended services for 2G/3G voice calls that are not typically available for circuit-switched voice calls. </p><p id="p0060" num="0060">H. Conclusion </p><p id="p0061" num="0061"> [0052] The above Detailed Description of embodiments of the system is not intended to be exhaustive or to limit the system to the precise form disclosed above. While specific embodiments of, and examples for, the system are described above for illustrative purposes, various equivalent modifications are possible within the scope of the system, as those skilled in the relevant art will recognize. For example, while processes or steps are presented in a given order, alternative embodiments may perform routines having steps, or employ systems having steps, in a different order, and some processes or steps may be deleted, moved, added, subdivided, combined, and/or modified to provide alternative or subcombinations. Each of these processes or steps may be implemented in a variety of different ways. Also, while processes or steps are at times shown as being performed in series, these 
<!-- EPO <DP n="22"/>-->
 processes or steps may instead be performed in parallel, or may be performed at different times. </p><p id="p0062" num="0062"> [0053] While certain aspects of the invention are presented below in certain claim forms, the applicant contemplates the various aspects of the invention in any number of claim forms. Accordingly, the applicant reserves the right to add additional claims after filing the application to pursue such additional claim forms for other aspects of the invention. 
</p></description><claims mxw-id="PCLM44997216" ref-ucid="WO-2012122055-A2" lang="EN" load-source="patent-office"><claim-statement><!-- EPO <DP n="23"/>-->[0054] CLAIMS I/We claim: </claim-statement><claim id="clm-0001" num="1"><claim-text>1 . In a wireless telecommunications system having a packet-switched core network, a subsystem for conveying voice traffic within the telecommunications system from mobile devices that send uplink voice data using a circuit-switched protocol, the subsystem comprising: </claim-text><claim-text> a user-plane translation module configured to: </claim-text><claim-text> convert circuit-switched format uplink voice data into uplink packets, the uplink voice data originating from a mobile device that sends the uplink voice data over an air interface via a circuit-switched protocol; </claim-text><claim-text> transmit the uplink packets to a packet-switched core network using packet-switched protocols; </claim-text><claim-text> convert packet-switched downlink voice data packets into circuit- switched format downlink voice data, the packet-switched downlink voice data packets being received from the packet- switched core network using packet-switched protocols; and transmit the circuit-switched format downlink voice data to the mobile device via the air interface using circuit-switched protocols; and a control-plane translation module configured to: </claim-text><claim-text> convert circuit-switched format signaling messages received from the mobile device into analogous packet-switched format signaling messages; and </claim-text><claim-text> transmit the analogous packet-switched format signaling messages to a Session Initiation Protocol (SIP) voice control network using packet-switched protocols, </claim-text><claim-text> wherein the user-plane translation module and control-plane translation module are associated with a controller component. </claim-text></claim><claim id="clm-0002" num="2"><claim-text>2. The subsystem of claim 1 , wherein the controller component does not transmit voice call data or voice call signaling messages to a mobile switching center <!-- EPO <DP n="24"/>--> or receive voice call data or voice call signaling messages from a mobile switching center. </claim-text></claim><claim id="clm-0003" num="3"><claim-text>3. The subsystem of claim 1 , wherein the circuit-switched format uplink voice data is uplink voice data formatted in accordance with a frame protocol. </claim-text></claim><claim id="clm-0004" num="4"><claim-text>4. The subsystem of claim 1 , wherein the packet-switched downlink voice data is downlink voice data formatted in accordance with an Internet Protocol. </claim-text></claim><claim id="clm-0005" num="5"><claim-text>5. The subsystem of claim 1 , further comprising at least one of an SGSN, GGSN, and controller component configured to implement a packet-switched paging mechanism to facilitate voice calls at the mobile device. </claim-text></claim><claim id="clm-0006" num="6"><claim-text>6. The subsystem of claim 1 , further comprising a circuit-switched charging module configured to generate a charging data record for a voice call terminating in or originating from the mobile device, the charging data record being generated based on an analysis of packet-switched messages. </claim-text></claim><claim id="clm-0007" num="7"><claim-text>7. The subsystem of claim 1 , wherein the mobile device is associated with a user who is not a subscriber of a mobile service provider that operates the communications system, but instead is a subscriber of a different mobile service provider that operates another different communications system, the subsystem further comprising a roaming module configured to interact with the other communications system in order to implement mobility management functions, the roaming module mimicking signaling used by a mobile switching center. </claim-text></claim><claim id="clm-0008" num="8"><claim-text>8. The subsystem of claim 1 , wherein the communications system is operated by a mobile service provider that provides service subscriptions to one or more subscribers, the subsystem further comprising a roaming module configured to interact with another different communications system in order to implement mobility management functions, the roaming module mimicking signaling used by a mobile switching center and interacting with the other communications system when a <!-- EPO <DP n="25"/>--> mobile device associated with a subscriber roams into the other communications system. </claim-text></claim><claim id="clm-0009" num="9"><claim-text>9. The subsystem of claim 1 , wherein the control-plane translation module is further configured to: </claim-text><claim-text> convert packet-switched format signaling messages received from the SIP voice control network into analogous circuit-switched format signaling messages; and, </claim-text><claim-text> transmit the analogous circuit-switched format signaling messages to the mobile device via the air interface using circuit-switched protocols. </claim-text></claim><claim id="clm-0010" num="10"><claim-text>10. The subsystem of claim 1 , wherein the analogous packet-switched format signaling messages are in a SIP format. </claim-text></claim><claim id="clm-0011" num="11"><claim-text>1 1 . The subsystem of claim 1 , wherein the SIP voice control network is an IP Multimedia Subsystem. </claim-text></claim><claim id="clm-0012" num="12"><claim-text>12. A method in a communications system for providing voice services to a mobile device that sends and receives voice data over an air interface via a circuit- switched protocol, the method comprising: </claim-text><claim-text> receiving uplink voice data from a mobile device over an air interface via a circuit-switched protocol; </claim-text><claim-text> converting the received circuit-switched protocol uplink voice data into uplink packets; </claim-text><claim-text> transmitting the uplink packets to a packet-switched core network using packet-switched protocols; </claim-text><claim-text> receiving packet-switched downlink voice data packets transmitted over the packet-switched core network using packet-switched protocols; </claim-text><claim-text> converting the received packet-switched downlink voice data packets into circuit-switched format downlink voice data; </claim-text><claim-text> transmitting the circuit-switched format downlink voice data to the mobile device via the air interface using circuit-switched protocols; <!-- EPO <DP n="26"/>--> converting circuit-switched format signaling messages received from the mobile device into analogous packet-switched format signaling messages; and, </claim-text><claim-text> transmitting the analogous packet-switched format signaling messages to a Session Initiation Protocol (SIP) voice control network using packet- switched protocols. </claim-text></claim><claim id="clm-0013" num="13"><claim-text>13. The method of claim 12, further comprising: </claim-text><claim-text> converting packet-switched format signaling messages received from the packet-switched core network into analogous circuit-switched format signaling messages; and, </claim-text><claim-text> transmitting the analogous circuit-switched format signaling messages to the mobile device over the air interface using circuit-switched protocols. </claim-text></claim><claim id="clm-0014" num="14"><claim-text>14. A method in a communications system for conveying a voice call from a mobile device, the method comprising: </claim-text><claim-text> receiving, via a circuit-switched signaling protocol, a first signaling message from a mobile device related to controlling a voice call, the mobile device transmitting circuit-switched format uplink voice data for the voice call over an air interface to the communications system using a circuit-switched protocol; </claim-text><claim-text> translating the received first signaling message into a second packet-switched format signaling message that is analogous to the received first signaling message; and </claim-text><claim-text> sending the second packet-switched format signaling message to a Session Initiation Protocol (SIP) voice control network using a packet-switched protocol. </claim-text></claim><claim id="clm-0015" num="15"><claim-text>15. The method of claim 14, further comprising: </claim-text><claim-text> receiving a third signaling message from the SIP voice control network related to controlling the voice call, wherein the third signaling message is received using a packet-switched signaling protocol; <!-- EPO <DP n="27"/>--> translating the received third signaling message into a fourth circuit-switched format signaling message that is analogous to the third signaling message received; and, </claim-text><claim-text> sending the fourth circuit-switched format signaling message to the mobile device via the air interface using a circuit-switched protocol. </claim-text></claim><claim id="clm-0016" num="16"><claim-text>16. The method of claim 14, further comprising assigning a media bearer to the voice call, separate from a signaling bearer for the voice call, to carry packet- switched voice data for the voice call, the assigned media bearer providing a higher quality of service than the communications system provides for packet-switched non- voice data. </claim-text></claim><claim id="clm-0017" num="17"><claim-text>17. The method of claim 14, wherein the packet-switched format is a Session Initiation Protocol (SIP) format. </claim-text></claim><claim id="clm-0018" num="18"><claim-text>18. The method of claim 14, wherein the mobile device is associated with a user who is not a subscriber of a mobile service provider that operates the communications system, but instead is a subscriber of a different mobile service provider that operates another different communications system, the method further comprising implementing mobility management functions to mimic the signaling of a mobile switching center. </claim-text></claim><claim id="clm-0019" num="19"><claim-text>19. The method of claim 14, wherein the SIP voice control network is an IP Multimedia Subsystem. </claim-text></claim><claim id="clm-0020" num="20"><claim-text>20. A method in a communications system of charging for a voice call on a mobile device, the method comprising: </claim-text><claim-text> detecting, at a Session Initiation Protocol (SIP) voice control network, packets related to signaling for a voice call on a mobile device that is associated with a subscriber of a mobile service provider, the detected packets indicating information that forms a basis for the mobile service provider to charge the subscriber for the voice call, <!-- EPO <DP n="28"/>--> wherein, during the voice call, the mobile device uses circuit-switched protocols to send and receive voice data and signaling for the call over an air interface to the communication system; </claim-text><claim-text> using the detected packets to extract information that forms a basis for the mobile service provider to charge the subscriber for the voice call; and, generating a charging data record for the voice call from the extracted information. </claim-text></claim><claim id="clm-0021" num="21"><claim-text>21 . The method of claim 20, wherein the SIP voice control network is an IP Multimedia Subsystem. </claim-text></claim><claim id="clm-0022" num="22"><claim-text>22. The method of claim 20, further comprising taking corrective action to ensure that the subscriber is not charged for the voice call under a data plan subscription. </claim-text></claim><claim id="clm-0023" num="23"><claim-text>23. A tangible computer-readable medium containing instructions, that when executed by a processor, perform a method in a communications system for controlling a voice call on a mobile device, the method comprising: </claim-text><claim-text> converting, at a translation module associated with a controller component, circuit-switched format uplink voice data into uplink packets, the uplink voice data originating from a mobile device sending the uplink voice data over an air interface via a circuit-switched protocol; transmitting the uplink packets to a packet-switched core network using packet-switched protocols; </claim-text><claim-text> converting packet-switched downlink voice data packets into circuit-switched format downlink voice data, the packet-switched downlink voice data packets being received from the packet-switched core network using packet-switched protocols; </claim-text><claim-text> transmitting the circuit-switched format downlink voice data to the mobile device via the air interface using circuit-switched protocols; converting circuit-switched format signaling messages received from the mobile device into analogous packet-switched format signaling messages; and, <!-- EPO <DP n="29"/>--> transmitting the analogous packet-switched format signaling messages to a Session Initiation Protocol (SIP) voice control network using packet- switched protocols. </claim-text></claim><claim id="clm-0024" num="24"><claim-text>24. The tangible computer-readable medium of claim 23, wherein the method further comprises: </claim-text><claim-text> receiving, at the translation module, a third signaling message from the SIP voice control network related to controlling the voice call, wherein the third signaling message is received using a packet-switched signaling protocol; </claim-text><claim-text> translating the received third signaling message into a fourth circuit-switched format signaling message that is analogous to the third signaling message received; and, </claim-text><claim-text> sending the fourth circuit-switched format signaling message to the mobile device via the air interface using a circuit-switched protocol. </claim-text></claim></claims><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
