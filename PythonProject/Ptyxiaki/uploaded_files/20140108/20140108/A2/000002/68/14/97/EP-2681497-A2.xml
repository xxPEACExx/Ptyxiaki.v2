<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2681497-A2" country="EP" doc-number="2681497" kind="A2" date="20140108" family-id="46719542" file-reference-id="313847" date-produced="20180823" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146586472" ucid="EP-2681497-A2"><document-id><country>EP</country><doc-number>2681497</doc-number><kind>A2</kind><date>20140108</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-12752872-A" is-representative="NO"><document-id mxw-id="PAPP154848664" load-source="docdb" format="epo"><country>EP</country><doc-number>12752872</doc-number><kind>A</kind><date>20120228</date><lang>EN</lang></document-id><document-id mxw-id="PAPP180844626" load-source="docdb" format="original"><country>EP</country><doc-number>12752872.7</doc-number><date>20120228</date><lang>EN</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140549052" ucid="US-201161447681-P" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>201161447681</doc-number><kind>P</kind><date>20110228</date></document-id></priority-claim><priority-claim mxw-id="PPC140552918" ucid="US-201161548009-P" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>201161548009</doc-number><kind>P</kind><date>20111017</date></document-id></priority-claim><priority-claim mxw-id="PPC140548044" ucid="US-2012026973-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>2012026973</doc-number><kind>W</kind><date>20120228</date></document-id></priority-claim><priority-claim mxw-id="PPC140555110" ucid="US-201213407180-A" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>201213407180</doc-number><kind>A</kind><date>20120228</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1989317860" load-source="docdb">F24F  11/02        20060101AFI20120917BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1989319314" load-source="docdb">H04L  12/12        20060101ALI20120917BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1623805846" load-source="docdb" scheme="CPC">F24F  11/62        20180101 LI20180626BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1623805847" load-source="docdb" scheme="CPC">F24F  11/58        20180101 LA20180626BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1623805848" load-source="docdb" scheme="CPC">F24F  11/32        20180101 LA20180626BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1623805849" load-source="docdb" scheme="CPC">F24F  11/30        20180101 LI20180626BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2032823745" load-source="docdb" scheme="CPC">G05B  23/0224      20130101 LI20150801BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2145962498" load-source="docdb" scheme="CPC">G05B  23/0221      20130101 FI20141017BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132364049" lang="DE" load-source="patent-office">HVAC-ÜBERWACHUNG UND DIAGNOSE FÜR HAUSHALTSANWENDUNGEN</invention-title><invention-title mxw-id="PT132364050" lang="EN" load-source="patent-office">RESIDENTIAL SOLUTIONS HVAC MONITORING AND DIAGNOSIS</invention-title><invention-title mxw-id="PT132364051" lang="FR" load-source="patent-office">SOLUTIONS DE CONTRÔLE ET DE DIAGNOSTIC D'UN SYSTÈME HVAC DESTINÉES À DES HABITATIONS</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR919510742" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>EMERSON ELECTRIC CO</last-name><address><country>US</country></address></addressbook></applicant><applicant mxw-id="PPAR919527961" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>EMERSON ELECTRIC CO.</last-name></addressbook></applicant><applicant mxw-id="PPAR919005940" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Emerson Electric Co.</last-name><iid>101257653</iid><address><street>8000 West Florissant Avenue</street><city>St. Louis, MO 63136</city><country>US</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR919536010" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>ARENSMEIER JEFFREY N</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR919513150" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>ARENSMEIER, JEFFREY N.</last-name></addressbook></inventor><inventor mxw-id="PPAR919007391" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>ARENSMEIER, JEFFREY N.</last-name><address><street>1208 Konert Valley Dr.</street><city>Fenton, Missouri 63026</city><country>US</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR919006803" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Roberts, Mark Peter</last-name><suffix>et al</suffix><iid>101297143</iid><address><street>J A Kemp 14 South Square Gray's Inn</street><city>LONDON WC1R 5JJ</city><country>GB</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="US-2012026973-W"><document-id><country>US</country><doc-number>2012026973</doc-number><kind>W</kind><date>20120228</date><lang>EN</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2012118830-A2"><document-id><country>WO</country><doc-number>2012118830</doc-number><kind>A2</kind><date>20120907</date><lang>EN</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS549761001" load-source="docdb">AL</country><country mxw-id="DS549839463" load-source="docdb">AT</country><country mxw-id="DS549761002" load-source="docdb">BE</country><country mxw-id="DS549771252" load-source="docdb">BG</country><country mxw-id="DS549853060" load-source="docdb">CH</country><country mxw-id="DS549761363" load-source="docdb">CY</country><country mxw-id="DS549839464" load-source="docdb">CZ</country><country mxw-id="DS549761003" load-source="docdb">DE</country><country mxw-id="DS549761364" load-source="docdb">DK</country><country mxw-id="DS549761369" load-source="docdb">EE</country><country mxw-id="DS549840006" load-source="docdb">ES</country><country mxw-id="DS549771257" load-source="docdb">FI</country><country mxw-id="DS549771258" load-source="docdb">FR</country><country mxw-id="DS549761004" load-source="docdb">GB</country><country mxw-id="DS549761370" load-source="docdb">GR</country><country mxw-id="DS549761009" load-source="docdb">HR</country><country mxw-id="DS549839465" load-source="docdb">HU</country><country mxw-id="DS549853061" load-source="docdb">IE</country><country mxw-id="DS549761010" load-source="docdb">IS</country><country mxw-id="DS549771259" load-source="docdb">IT</country><country mxw-id="DS549761371" load-source="docdb">LI</country><country mxw-id="DS549915049" load-source="docdb">LT</country><country mxw-id="DS549839470" load-source="docdb">LU</country><country mxw-id="DS549915050" load-source="docdb">LV</country><country mxw-id="DS549915051" load-source="docdb">MC</country><country mxw-id="DS549839289" load-source="docdb">MK</country><country mxw-id="DS549839290" load-source="docdb">MT</country><country mxw-id="DS549840007" load-source="docdb">NL</country><country mxw-id="DS549839471" load-source="docdb">NO</country><country mxw-id="DS549840008" load-source="docdb">PL</country><country mxw-id="DS549761372" load-source="docdb">PT</country><country mxw-id="DS549840009" load-source="docdb">RO</country><country mxw-id="DS549761381" load-source="docdb">RS</country><country mxw-id="DS549840014" load-source="docdb">SE</country><country mxw-id="DS549761382" load-source="docdb">SI</country><country mxw-id="DS549839291" load-source="docdb">SK</country><country mxw-id="DS549839292" load-source="docdb">SM</country><country mxw-id="DS549853074" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data><office-specific-data><eptags><ep-no-a-document-published>*</ep-no-a-document-published></eptags></office-specific-data></bibliographic-data><abstract mxw-id="PA99831360" ref-ucid="WO-2012118830-A2" lang="EN" load-source="patent-office"><p num="0000">A monitoring system for a heating, ventilation, and air conditioning (HVAC) system of a residence includes a monitoring device installed at the residence and a server located remotely from the residence. The monitoring device measures an aggregate current supplied to a plurality of components of the HVAC system and transmits current data based on the measured aggregate current. The server receives the transmitted current data and, based on the received current, assesses whether a failure has occurred in a first component of the plurality of components of the HVAC system and assesses whether a failure has occurred in a second component of the plurality of components of the HVAC system.</p></abstract><abstract mxw-id="PA100328183" ref-ucid="WO-2012118830-A2" lang="EN" source="national office" load-source="docdb"><p>A monitoring system for a heating, ventilation, and air conditioning (HVAC) system of a residence includes a monitoring device installed at the residence and a server located remotely from the residence. The monitoring device measures an aggregate current supplied to a plurality of components of the HVAC system and transmits current data based on the measured aggregate current. The server receives the transmitted current data and, based on the received current, assesses whether a failure has occurred in a first component of the plurality of components of the HVAC system and assesses whether a failure has occurred in a second component of the plurality of components of the HVAC system.</p></abstract><abstract mxw-id="PA99831361" ref-ucid="WO-2012118830-A2" lang="FR" load-source="patent-office"><p num="0000">Un système de contrôle pour un système de chauffage, ventilation et climatisation (HVAC) d'une habitation comprend un dispositif de contrôle installé au niveau de l'habitation et un serveur situé à distance de l'habitation. Le dispositif de contrôle mesure un courant total fourni à une pluralité d'éléments du système HVAV et transmet les données de courant sur la base du courant total mesuré. Le serveur reçoit les données de courant transmises et, sur la base du courant reçu, évalue si oui ou non une panne s'est produite dans un premier élément de la pluralité d'éléments du système HVAC et évalue si oui ou non une panne s'est produite dans un second élément de la pluralité d'éléments du système HVAC.</p></abstract><abstract mxw-id="PA100328184" ref-ucid="WO-2012118830-A2" lang="FR" source="national office" load-source="docdb"><p>Un système de contrôle pour un système de chauffage, ventilation et climatisation (HVAC) d'une habitation comprend un dispositif de contrôle installé au niveau de l'habitation et un serveur situé à distance de l'habitation. Le dispositif de contrôle mesure un courant total fourni à une pluralité d'éléments du système HVAV et transmet les données de courant sur la base du courant total mesuré. Le serveur reçoit les données de courant transmises et, sur la base du courant reçu, évalue si oui ou non une panne s'est produite dans un premier élément de la pluralité d'éléments du système HVAC et évalue si oui ou non une panne s'est produite dans un second élément de la pluralité d'éléments du système HVAC.</p></abstract><description mxw-id="PDES51232546" ref-ucid="WO-2012118830-A2" lang="EN" load-source="patent-office"><!-- EPO <DP n="2"/>--><p id="p0001" num="0001"> RESIDENTIAL SOLUTIONS HVAC MONITORING AND DIAGNOSIS </p><p id="p0002" num="0002">CROSS-REFERENCE TO RELATED APPLICATIONS </p><p id="p0003" num="0003">[0001] This application claims priority to U.S. Utility Application No. 13/407,180, filed on February 28, 2012, and the benefit of U.S. Provisional Application No. 61 /447,681 filed on February 28, 201 1 and U.S. Provisional Application No. 61 /548,009 filed on October 17, 201 1 . The disclosures of the above applications are incorporated herein by reference in their entirety. </p><p id="p0004" num="0004">FIELD </p><p id="p0005" num="0005"> [0002] The present disclosure relates to environmental comfort systems and more particularly to remote monitoring and diagnosis of residential environmental comfort systems. </p><p id="p0006" num="0006">BACKGROUND </p><p id="p0007" num="0007"> [0003] The background description provided herein is for the purpose of generally presenting the context of the disclosure. Work of the presently named inventors, to the extent it is described in this background section, as well as aspects of the description that may not otherwise qualify as prior art at the time of filing, are neither expressly nor impliedly admitted as prior art against the present disclosure. </p><p id="p0008" num="0008"> [0004] A residential HVAC (heating, ventilation, and air conditioning) system controls environmental parameters, such as temperature and humidity, of a residence. The HVAC system may include, but is not limited to, components that provide heating, cooling, humidification, and dehumidification. The target values for the environmental parameters, such as a temperature set point, may be specified by a homeowner. </p><p id="p0009" num="0009">[0005] Referring now to FIG. 1 , a block diagram of an example HVAC system is presented. In this particular example, a forced air system with a gas furnace is shown. Return air is pulled from the residence through a filter 1 10 by a blower 1 14. The blower 1 14, also referred to as a fan, is controlled by a control module 1 18. The control module 1 18 receives signals from a thermostat 122. For 
<!-- EPO <DP n="3"/>-->
 example only, the thermostat 122 may include one or more temperature set points specified by the homeowner. </p><p id="p0010" num="0010"> [0006] The thermostat 122 may direct that the blower 1 14 be turned on at all times or only when a heat request or cool request is present. The blower 1 14 may also be turned on at a scheduled time or on demand. In various implementations, the blower 1 14 can operate at multiple speeds or at any speed within a predetermined range. One or more switching relays (not shown) may be used to control the blower 1 14 and/or to select a speed of the blower 1 14. </p><p id="p0011" num="0011">[0007] The thermostat 122 also provides the heat and/or cool requests to the control module 1 18. When a heat request is made, the control module 1 18 causes a burner 126 to ignite. Heat from combustion is introduced to the return air provided by the blower 1 14 in a heat exchanger 130. The heated air is supplied to the residence and is referred to as supply air. </p><p id="p0012" num="0012">[0008] The burner 126 may include a pilot light, which is a small constant flame for igniting the primary flame in the burner 126. Alternatively, an intermittent pilot may be used in which a small flame is first lit prior to igniting the primary flame in the burner 126. A sparker may be used for an intermittent pilot implementation or for direct burner ignition. Another ignition option includes a hot surface igniter, which heats a surface to a high enough temperature that when gas is introduced, the heated surface causes combustion to begin. Fuel for combustion, such as natural gas, may be provided by a gas valve (not shown). </p><p id="p0013" num="0013"> [0009] The products of combustion are exhausted outside of the residence, and an inducer blower 134 may be turned on prior to ignition of the burner 126. The inducer blower 134 provides a draft to remove the products of combustion from the burner 126. The inducer blower 134 may remain running while the burner 126 is operating. In addition, the inducer blower 134 may continue running for a set period of time after the burner 1 26 turns off. In a high efficiency furnace, the products of combustion may not be hot enough to have sufficient buoyancy to exhaust via conduction. Therefore, the inducer blower 134 creates a draft to exhaust the products of combustion. </p><p id="p0014" num="0014"> [0010] A single enclosure, which will be referred to as an air handler 208, may include the filter 1 10, the blower 1 14, the control module 1 18, the burner 
<!-- EPO <DP n="4"/>-->
 126, the heat exchanger 130, the inducer blower 134, the expansion valve 188, the evaporator 192, and the condensate pan 196. </p><p id="p0015" num="0015"> [0011] In the HVAC system of FIG. 1 , a split air conditioning system is also shown. Refrigerant is circulated through a compressor 180, a condenser 184, an expansion valve 188, and an evaporator 192. The evaporator 192 is placed in series with the supply air so that when cooling is desired, the evaporator removes heat from the supply air, thereby cooling the supply air. During cooling, the evaporator 192 is cold, which causes water vapor to condense. This water vapor is collected in a condensate pan 196, which drains or is pumped out. </p><p id="p0016" num="0016">[0012] A compressor control module 200 receives a cool request from the control module 1 18 and controls the compressor 180 accordingly. The compressor control module 200 also controls a condenser fan 204, which increases heat exchange between the condenser 184 and outside air. In such a split system, the compressor 180, the condenser 184, the compressor control module 200, and the condenser fan 204 are located outside of the residence, often in a single outdoor enclosure 212. </p><p id="p0017" num="0017"> [0013] In various implementations, the compressor control module 200 may simply include a run capacitor, a start capacitor, and a contactor or relay. In fact, in certain implementations, the start capacitor may be omitted, such as when a scroll compressor instead of a reciprocating compressor is being used. The compressor 180 may be a variable capacity compressor and may respond to a multiple-level cool request. For example, the cool request may indicate a mid- capacity call for cool or a high capacity call for cool. </p><p id="p0018" num="0018"> [0014] The electrical lines provided to the outdoor enclosure 212 may include a 240 volt mains power line and a 24 volt switched control line. The 24 volt control line may correspond to the cool request shown in FIG. 1 . The 24 volt control line controls operation of the contactor. When the control line indicates that the compressor should be on, the contactor contacts close, connecting the 240 volt power supply to the compressor. In addition, the contactor may connect the 240 volt power supply to a condenser fan 204. In various implementations, such as when the outdoor enclosure 212 is located in the ground as part of a geothermal system, the condenser fan 204 may be omitted. When the 240 volt mains power supply arrives in two legs, as is common in the U.S., the contactor 
<!-- EPO <DP n="5"/>-->
 may have two sets of contacts, and is referred to as a double-pole single-throw switch. </p><p id="p0019" num="0019"> [0015] Monitoring of operation of components in the outdoor enclosure 212 and the air handler 208 has traditionally been performed by multiple discrete sensors, measuring current individually to each component. For example, a sensor may sense the current drawn by a motor, another sensor measures resistance or current flow of an igniter, and yet another sensor monitors a state of a gas valve. However, the cost of these sensors and the time required for installation has made monitoring cost prohibitive. SUMMARY </p><p id="p0020" num="0020"> [0016] A monitoring system for a heating, ventilation, and air conditioning (HVAC) system of a residence includes a monitoring device installed at the residence and a server located remotely from the residence. The monitoring device measures an aggregate current supplied to a plurality of components of the HVAC system and transmits current data based on the measured aggregate current. The server receives the transmitted current data and, based on the received current, assesses whether a failure has occurred in a first component of the plurality of components of the HVAC system and assesses whether a failure has occurred in a second component of the plurality of components of the HVAC system. </p><p id="p0021" num="0021"> [0017] In other features, the monitoring device samples the aggregate current over a time period, performs a frequency domain analysis on the samples over the time period, and transmits frequency domain data to the server. The server identifies transition points in the current data and analyzes the frequency domain data around the identified transition points. The server determines whether the failure has occurred in the first component by comparing the frequency domain data to baseline data. The server adapts the baseline data based on normal operation of the HVAC system. The monitoring device determines a single current value for the time period and transmits the single current value to the server without transmitting the samples to the server. </p><p id="p0022" num="0022"> [0018] In further features, the single current value is one of a root mean squared current, an average current, and a peak current. The monitoring device 
<!-- EPO <DP n="6"/>-->
 measures the aggregate current over a series of consecutive time periods and transmits a frame of information to the server for each of the time periods. For a first period of the time periods, the monitoring device transmits a first frame including (i) a single value of the aggregate current during the first period and (ii) a frequency domain representation of the aggregate current during the first period. </p><p id="p0023" num="0023"> [0019] In still other features, the first frame does not include individual samples of the aggregate current. The first frame includes a voltage measurement of power arriving at the HVAC system, a temperature measurement, and a representation of status of HVAC control lines during the first period. The monitoring device records control signals from a thermostat and transmits information based on the control signals to the server. The control signals include at least one of call for heat, call for fan, and call for cool. </p><p id="p0024" num="0024">[0020] In other features, the monitoring device is located in close proximity to an air handler unit of the HVAC system. A second monitoring device is located in close proximity to a second enclosure of the HVAC system, wherein the second enclosure includes at least one of a compressor and a heat pump heat exchanger. The second monitoring device (i) measures an aggregate current supplied to a plurality of components of the second enclosure and (ii) transmits current data based on the measured aggregate current to the server. The second monitoring device transmits the current data to the server via the monitoring device. </p><p id="p0025" num="0025"> [0021] In further features, the monitoring device includes a switch that selectively interrupts an enabling signal to a compressor of the HVAC system. The monitoring device interrupts the enabling signal in response to at least one of (i) a value from a water sensor, (ii) a locked rotor condition of the compressor, and (iii) a command from the server. The server (i) generates an alert in response to determining presence of a fault of either the first component or the second component and (ii) sends the alert to at least one of a homeowner of the residence and an installation contractor. </p><p id="p0026" num="0026"> [0022] In still other features, the server (i) selectively predicts an impeding failure of the first component based on the received current data, (ii) selectively predicts an impeding failure of the second component based on the received 
<!-- EPO <DP n="7"/>-->
 current data, and (iii) generates an alert in response to prediction of impending failure. The plurality of components of the HVAC system includes at least two components selected from: a flame sensor, a solenoid-operated gas valve, a hot surface igniter, a circulator blower motor, an inducer blower motor, a compressor, a pressure switch, a capacitor, an air filter, a condensing coil, an evaporating coil, and a contactor. </p><p id="p0027" num="0027"> [0023] A method of monitoring a heating, ventilation, and air conditioning (HVAC) system of a residence includes using a monitoring device installed at the residence, measuring an aggregate current supplied to a plurality of components of the HVAC system, and transmitting current data based on the measured aggregate current to a server located remotely from the residence. The method includes receiving the transmitted current data at the server and based on the received current, assessing whether a failure has occurred in a first component of the plurality of components of the HVAC system. The method further includes, based on the received current, assessing whether a failure has occurred in a second component of the plurality of components of the HVAC system. </p><p id="p0028" num="0028"> [0024] In other features, the method includes sampling the aggregate current over a time period, performing a frequency domain analysis on the samples over the time period, and transmitting frequency domain data to the server. The method includes identifying transition points in the current data, and analyzing the frequency domain data around the identified transition points. The method further includes determining whether the failure has occurred in the first component by comparing the frequency domain data to baseline data, and adapting the baseline data based on normal operation of the HVAC system. </p><p id="p0029" num="0029"> [0025] In still other features, the method includes determining a single current value for the time period and transmitting the single current value to the server without transmitting the samples to the server. The single current value is one of a root mean squared current, an average current, and a peak current. The method includes measuring the aggregate current over a series of consecutive time periods, and transmitting a frame of information to the server for each of the time periods. 
<!-- EPO <DP n="8"/>-->
 [0026] In still further features, the method includes, for a first period of the time periods, transmitting a first frame including (i) a single value of the aggregate current during the first period and (ii) a frequency domain representation of the aggregate current during the first period. The first frame does not include individual samples of the aggregate current. The first frame includes a voltage measurement of power arriving at the HVAC system, a temperature measurement, and a representation of status of HVAC control lines during the first period. </p><p id="p0030" num="0030"> [0027] In other features, the method includes recording control signals from a thermostat, and transmitting information based on the control signals to the server. The control signals include at least one of call for heat, call for fan, and call for cool. The monitoring device is located in close proximity to an air handler unit of the HVAC system, and the method further includes measuring an aggregate current supplied to a plurality of components of a second enclosure of the HVAC system. The second enclosure includes at least one of a compressor and a heat pump heat exchanger, and the method includes transmitting current data based on the measured aggregate current to the server. </p><p id="p0031" num="0031">[0028] In still other features, the method includes transmitting the current data from the second monitoring device to the server via the monitoring device, and communicating with the monitoring device using power line communication. The method includes selectively interrupting an enabling signal to a compressor of the HVAC system in response to at least one of (i) a value from a water sensor, (ii) a locked rotor condition of the compressor, and (iii) a command from the server. The method includes sending an alert in response to determining presence of a fault of either the first component or the second component, wherein the alert is sent to at least one of a homeowner of the residence and an installation contractor. </p><p id="p0032" num="0032"> [0029] In further features, the method includes selectively predicting an impeding failure of the first component based on the received current data, selectively predicting an impeding failure of the second component based on the received current data, and generating an alert in response to prediction of impending failure. The plurality of components of the HVAC system includes at least two components selected from: a flame sensor, a solenoid-operated gas 
<!-- EPO <DP n="9"/>-->
 valve, a hot surface igniter, a circulator blower motor, an inducer blower motor, a compressor, a pressure switch, a capacitor, an air filter, a condensing coil, an evaporating coil, and a contactor. The method includes transmitting the current data to a gateway wirelessly, wherein the gateway forwards the current data to the server over the Internet. </p><p id="p0033" num="0033">BRIEF DESCRIPTION OF THE DRAWINGS </p><p id="p0034" num="0034">[0030] The present disclosure will become more fully understood from the detailed description and the accompanying drawings, wherein: </p><p id="p0035" num="0035">[0031] FIG. 1 is a block diagram of an example HVAC system according to the prior art; </p><p id="p0036" num="0036"> [0032] FIG. 2 is a functional block diagram of an example system showing an HVAC system of a single residence; </p><p id="p0037" num="0037"> [0033] FIGs. 3A-3C are functional block diagrams of control signal interaction with the air handler monitor module; </p><p id="p0038" num="0038">[0034] FIG. 4A is a functional block diagram of an example implementation of the air handler monitor module; </p><p id="p0039" num="0039"> [0035] FIG. 4B is a functional block diagram of an example implementation of the compressor monitor module; </p><p id="p0040" num="0040"> [0036] FIGs. 5A-5I are block diagrams of example implementations of the air handler monitor module; </p><p id="p0041" num="0041"> [0037] FIG. 5J is a data flow diagram of a monitor module according to the principles of the present disclosure; </p><p id="p0042" num="0042"> [0038] FIG. 6 is a flowchart depicting a brief overview of an example module installation in a retrofit application; </p><p id="p0043" num="0043">[0039] FIG. 7 is a flowchart of example operation in capturing frames of data; </p><p id="p0044" num="0044">[0040] FIG. 8 is an example functional schematic of example HVAC components; </p><p id="p0045" num="0045"> [0041] FIG. 9 is an example time domain trace of aggregate current for a beginning of a heat cycle; </p><p id="p0046" num="0046">[0042] FIGs. 10A-10C are example time domain representations of aggregate current related to the hot surface igniter; 
<!-- EPO <DP n="10"/>-->
 [0043] FIGs. 1 1 A-1 1 B show example frequency content corresponding to FIGs. 10A and 10C, respectively; </p><p id="p0047" num="0047"> [0044] FIG. 1 1 C shows a frequency domain comparison of FIGs. 1 1 A and 1 1 B; </p><p id="p0048" num="0048">[0045] FIGs. 12A-12B are example time domain plots depicting a solenoid- operated gas valve functioning and failing to function, respectively; </p><p id="p0049" num="0049">[0046] FIG. 12C is a frequency domain comparison of FIGs. 12A and 12B; </p><p id="p0050" num="0050">[0047] FIGs. 13A-13B are time domain traces of current and voltage of a motor; </p><p id="p0051" num="0051">[0048] FIG. 13C is a time domain subtraction of FIGs. 13A and 13B; </p><p id="p0052" num="0052"> [0049] FIGs. 14A-14B are frequency domain analyses of FIG. 13A and 13B, respectively; </p><p id="p0053" num="0053"> [0050] FIG. 14C is a frequency domain comparison of FIGs. 14A and 14B; </p><p id="p0054" num="0054">[0051] FIGs. 15A-15G depict example implementation of cloud processing of captured data; and </p><p id="p0055" num="0055"> [0052] FIGs. 16A and 16B present example failures and features for indoor and outdoor units, respectively, that can be detected and/or predicted in addition to example data used in various implementations to perform the detection and/or prediction. DETAILED DESCRIPTION </p><p id="p0056" num="0056"> [0053] According to the present disclosure, sensing/monitoring modules can be integrated with a residential HVAC (heating, ventilation, and air conditioning) system. As used in this application, the term HVAC encompasses all environmental comfort systems in a home or business, including heating, cooling, humidifying, and dehumidifying, and covers devices such as furnaces, heat pumps, humidifiers, dehumidifiers, and air conditioners. The term HVAC is a broad term, in that an HVAC system according to this application does not necessarily include both heating and air conditioning, and may instead have only one or the other. </p><p id="p0057" num="0057">[0054] In split HVAC systems with an air handler unit (often, indoors) and a compressor unit (often, outdoors), an air handler monitor module and a compressor monitor module, respectively, can be used. The air handler monitor 
<!-- EPO <DP n="11"/>-->
 module and the compressor monitor module may be integrated by the manufacturer of the HVAC system, may be added at the time of the installation of the HVAC system, and/or may be retrofitted to an existing system. </p><p id="p0058" num="0058">[0055] The air handler monitor and compressor monitor modules monitor operating parameters of associated components of the HVAC system. For example, the operating parameters may include power supply current, power supply voltage, operating and ambient temperatures, fault signals, and control signals. The air handler monitor and compressor monitor modules may communicate data between each other, while one or both of the air handler monitor and compressor monitor modules uploads data to a remote location. The remote location may be accessible via any suitable network, including the Internet. </p><p id="p0059" num="0059"> [0056] The remote location includes one or more computers, which will be referred to as servers. The servers execute a monitoring system on behalf of a monitoring company. The monitoring system receives and processes the data from the air handler monitor and compressor monitor modules of homeowners who have such systems installed. The monitoring system can provide performance information, diagnostic alerts, and error messages to a homeowner and/or third parties, such as a designated HVAC contractor. </p><p id="p0060" num="0060">[0057] The air handler monitor and compressor monitor modules may each sense an aggregate current for the respective unit without measuring individual currents of individual components. The aggregate current data may be processed using frequency domain analysis, statistical analysis, and state machine analysis to determine operation of individual components based on the aggregate current data. This processing may happen partially or entirely in a server environment, outside of the homeowner's residence. </p><p id="p0061" num="0061">[0058] Based on measurements from the air handler monitor and compressor monitor modules, the monitoring company can determine whether HVAC components are operating at their peak performance and can advise the homeowner and the contractor when performance is reduced. This performance reduction may be measured for the system as a whole, such as in terms of efficiency, and/or may be monitored for one or more individual components. 
<!-- EPO <DP n="12"/>-->
 [0059] In addition, the monitoring system may detect and/or predict failures of one or more components of the system. When a failure is detected, the homeowner can be notified and potential remediation steps can be taken immediately. For example, components of the HVAC system may be shut down to minimize damage or HVAC components and/or prevent water damage. The contractor can also be notified that a service call will be required. Depending on the contractual relationship between the homeowner and the contractor, the contractor may immediately schedule a service call to the residence. </p><p id="p0062" num="0062">[0060] The monitoring system may provide specific information to the contractor, including identifying information of the homeowner's HVAC system, including make and model numbers, as well as indications of the specific part numbers that appear to be failing. Based on this information, the contractor can allocate the correct repair personnel that have experience with the specific HVAC system and/or component. In addition, the service technician is able to bring replacement parts, avoiding return trips after diagnosis. </p><p id="p0063" num="0063"> [0061] Depending on the severity of the failure, the homeowner and/or contractor may be advised of relevant factors in determining whether to repair the HVAC system or replace some or all of the components of the HVAC system. For example only, these factors may include relative costs of repair versus replacement, and may include quantitative or qualitative information about advantages of replacement equipment. For example, expected increases in efficiency and/or comfort with new equipment may be provided. Based on historical usage data and/or electricity or other commodity prices, the comparison may also estimate annual savings resulting from the efficiency improvement. </p><p id="p0064" num="0064"> [0062] As mentioned above, the monitoring system may also predict impending failures. This allows for preventative maintenance and repair prior to an actual failure. Alerts regarding detected or impending failures reduce the time when the HVAC system is out of operation and allows for more flexible scheduling for both the homeowner and contractor. If the homeowner is out of town, these alerts may prevent damage from occurring when the homeowner is not present to detect the failure of the HVAC system. For example, failure of heat in winter may lead to pipes freezing and bursting. 
<!-- EPO <DP n="13"/>-->
 [0063] Alerts regarding potential or impending failures may specify statistical timeframes before the failure is expected. For example only, if a sensor is intermittently providing bad data, the monitoring system may specify an expected amount of time before it is likely that the sensor effectively stops working due to the prevalence of bad data. Further, the monitoring system may explain, in quantitative or qualitative terms, how the current operation and/or the potential failure will affect operation of the HVAC system. This enables the homeowner to prioritize and budget for repairs. </p><p id="p0065" num="0065"> [0064] For the monitoring service, the monitoring company may charge a periodic rate, such as a monthly rate. This charge may be billed directly to the homeowner and/or may be billed to the contractor. The contractor may pass along these charges to the homeowner and/or may make other arrangements, such as by requiring an up-front payment upon installation and/or applying surcharges to repairs and service visits. </p><p id="p0066" num="0066">[0065] For the air handler monitor and compressor monitor modules, the monitoring company or contractor may charge the homeowner the equipment cost, including the installation cost, at the time of installation and/or may recoup these costs as part of the monthly fee. Alternatively, rental fees may be charged for the air handler monitor and compressor monitor modules, and once the monitoring service is stopped, the air handler monitor and compressor monitor modules may be returned. </p><p id="p0067" num="0067"> [0066] The monitoring service may allow a homeowner and/or contractor to remotely monitor and/or control HVAC components, such as setting temperature, enabling or disabling heating and/or cooling, etc. In addition, the homeowner may be able to track energy usage, cycling times of the HVAC system, and/or historical data. Efficiency and/or operating costs of the homeowner's HVAC system may be compared against HVAC systems of neighbors, whose homes will be subject to the same environmental conditions. This allows for direct comparison of HVAC system and overall home efficiency because environmental variables, such as temperature and wind, are controlled. </p><p id="p0068" num="0068"> [0067] The monitoring system can be used by the contractor during and after installation and during and after repair to verify operation of the air handler monitor and compressor monitor modules as well as to verify correct installation 
<!-- EPO <DP n="14"/>-->
 of the components of the HVAC system. In addition, the homeowner may review this data in the monitoring system for assurance that the contractor correctly installed and configured the HVAC system. In addition to being uploaded to the cloud, monitored data may be transmitted to a local device in the residence. For example, a smartphone, laptop, or proprietary portable device may receive monitoring information to diagnose problems and receive real-time performance data. Alternatively, data may be uploaded to the cloud and then downloaded onto a local computing device, such as via the Internet from an interactive web site. </p><p id="p0069" num="0069">[0068] The historical data collected by the monitoring system may allow the contractor to properly specify new HVAC components and to better tune configuration, including dampers and set points of the HVAC system. The information collected may be helpful in product development and assessing failure modes. The information may be relevant to warranty concerns, such as determining whether a particular problem is covered by a warranty. Further, the information may help to identify conditions, such as unauthorized system modifications, that could potentially void warranty coverage. </p><p id="p0070" num="0070">[0069] Original equipment manufacturers may subsidize partially or fully the cost of the monitoring system and air handler and compressor monitor modules in return for access to this information. Installation and service contractors may also subsidize some or all of these costs in return for access to this information, and for example, in exchange for being recommended by the monitoring system. Based on historical service data and homeowner feedback, the monitoring system may provide contractor recommendations to homeowners. </p><p id="p0071" num="0071">[0070] Referring now to FIG. 2, a functional block diagram of an example system showing a single homeowner residence 300 is presented. The homeowner residence 300 includes, for example only, a split system with an air handler unit 304 and a compressor/condenser unit 308. The compressor/condenser unit 308 includes a compressor, a condenser, a condenser fan, and associated electronics. In many systems, the air handler unit 304 is located inside the homeowner residence 300, while the compressor/condenser unit 308 is located outside the homeowner residence 300, such as in an outdoor enclosure 312. 
<!-- EPO <DP n="15"/>-->
 [0071] The present disclosure is not limited, and applies to other systems including, as examples only, systems where the components of the air handler unit 304 and the compressor/condenser unit 308 are located in close proximity to each other or even in a single enclosure. The single enclosure may be located inside or outside of the homeowner residence 300. In various implementations, the air handler unit 304 may be located in a basement, garage, or attic. In ground source systems, where heat is exchanged with the earth, the air handler unit 304 and the compressor/condenser unit 308 may be located near the earth, such as in a basement, crawlspace, garage, or on the first floor, such as when the first floor is separated from the earth by only a concrete slab. </p><p id="p0072" num="0072"> [0072] According to the principles of the present disclosure, a compressor monitor module 316 is interconnected with the compressor/condenser unit 308, and may be located within or in close proximity to the outdoor enclosure 312. The compressor monitor module 316 monitors parameters of the compressor/condenser unit 308 including current, voltage, and temperatures. </p><p id="p0073" num="0073"> [0073] In one implementation, the current measured is a single power supply current that represents the aggregate current draw of the entire outdoor enclosure 312 from an electrical panel 318. A current sensor 320 measures the current supplied to the compressor/condenser unit 308 and provides measured data to the compressor monitor module 316. For example only, the compressor/condenser unit 308 may receive an AC line voltage of approximately 240 volts. The current sensor 320 may sense current of one of the legs of the 240 volt power supply. A voltage sensor (not shown) may sense the voltage of one or both of the legs of the AC voltage supply. The current sensor 320 may include a current transformer, a current shunt, and/or a hall effect device. In various implementations, a power sensor may be used in addition to or in place of the current sensor 320. Current may be calculated based on the measured power, or profiles of the power itself may be used to evaluate operation of components of the compressor/condenser unit 308. </p><p id="p0074" num="0074">[0074] An air handler monitor module 322 monitors the air handler unit 304. For example, the air handler monitor module 322 may monitor current, voltage, and various temperatures. In one implementation, the air handler monitor module 322 monitors an aggregate current drawn by the entire air handler unit 
<!-- EPO <DP n="16"/>-->
 304, and when the air handler unit 304 provides power to an HVAC control module 360, also the current drawn by the HVAC control module 360. A current sensor 324 measures current delivered to the air handler unit 304 by the electrical panel 318. The current sensor 324 may be similar to the current sensor 320. Voltage sensors (not shown) may be located near the current sensors 324 and 320. The voltage sensors provide voltage data to the air handler unit 304 and the compressor/condenser unit 308. </p><p id="p0075" num="0075">[0075] The air handler unit 304 and the compressor/condenser unit 308 may evaluate the voltage to determine various parameters. For example, frequency, amplitude, RMS voltage and DC offset may be calculated based on the measured voltage. In situations where 3-phase power is used, the order of the phases may be determined. Information about when the voltage crosses zero may be used to synchronize various measurements and to determine frequency based on counting the number of zero crossings within a predetermine time period. </p><p id="p0076" num="0076"> [0076] The air handler unit 304 includes a blower, a burner, and an evaporator. In various implementations, the air handler unit 304 includes an electrical heating device instead of or in addition to the burner. The electrical heating device may provide backup or secondary heat. The compressor monitor module 316 and the air handler monitor module 322 share collected data with each other. When the current measured is the aggregate current draw, in either the air handler monitor module 322 or the compressor monitor module 316, contributions to the current profile are made by each component. It may be difficult, therefore, to easily determine in the time domain how the measured current corresponds to individual components. However, when additional processing is available, such as in a monitoring system, which may include server and other computing resources, additional analysis, such as frequency domain analysis, can be performed. </p><p id="p0077" num="0077"> [0077] The frequency domain analysis may allow individual contributions of HVAC system components to be determined. Some of the advantages of using an aggregate current measurement may include reducing the number of current sensors that would otherwise be necessary to monitor each of the HVAC system components. This reduces bill of materials costs, as well as installation costs 
<!-- EPO <DP n="17"/>-->
 and potential installation problems. Further, providing a single time domain current stream may reduce the amount of bandwidth necessary to upload the current data. Nevertheless, the present disclosure could also be used with additional current sensors. </p><p id="p0078" num="0078">[0078] Further, although not shown in the figures, additional sensors, such as pressure sensors, may be included and connected to the air handler monitor module 322 and/or the compressor monitor module 316. The pressure sensors may be associated with return air pressure or supply air pressure, and/or with pressures at locations within the refrigerant loop. Air flow sensors may measure mass air flow of the supply air and/or the return air. Humidity sensors may measure relative humidity of the supply air and/or the return air, and may also measure ambient humidity inside or outside the homeowner residence 300. </p><p id="p0079" num="0079">[0079] In various implementations, the principles of the present disclosure may be applied to monitoring other systems, such as a hot water heater, a boiler heating system, a refrigerator, a refrigeration case, a pool heater, a pool pump/filter, etc.. As an example, the hot water heater may include an igniter, a gas valve (which may be operated by a solenoid), an igniter, an inducer blower, and a pump. Aggregate current readings can be analyzed by the monitoring company to assess operation of the individual components of the hot water heater. Aggregate loads, such as the hot water heater or the air handler unit 304, may be connected to an AC power source via a smart outlet, a smart plug, or a high amp load control switch, each of which may provide an indication when a connected device is activated. </p><p id="p0080" num="0080"> [0080] In one implementation, which is shown in FIG. 2, the compressor monitor module 316 provides data to the air handler monitor module 322, and the air handler monitor module 322 provides data from both the air handler monitor module 322 and the compressor monitor module 316 to a remote monitoring system 330. The monitoring system 330 is reachable via a distributed network such as the Internet 334. Alternatively, any other suitable network, such as a wireless mesh network or a proprietary network, may be used. </p><p id="p0081" num="0081"> [0081] In various other implementations, the compressor monitor module 316 may transmit data from the air handler monitor module 322 and the compressor 
<!-- EPO <DP n="18"/>-->
 monitor module 316 to an external wireless receiver. The external wireless receiver may be a proprietary receiver for a neighborhood in which the homeowner residence 300 is located, or may be an infrastructure receiver, such as a metropolitan area network (such as WiMAX), a WiFi access point, or a mobile phone base station. </p><p id="p0082" num="0082"> [0082] In the implementation of FIG. 2, the air handler monitor module 322 relays data between the compressor monitor module 316 and the monitoring system 330. For example, the air handler monitor module 322 may access the Internet 334 using a router 338 of the homeowner. The homeowner router 338 may already be present to provide Internet access to other devices within the homeowner residence 300, such as a homeowner computer 342 and/or various other devices having Internet connectivity, such as a DVR (digital video recorder) or a video gaming system. </p><p id="p0083" num="0083"> [0083] The air handler monitor module 322 may communicate with the homeowner router 338 via a gateway 346. The gateway 346 translates information received from the air handler monitor module 322 into TCP/IP (Transmission Control Protocol/Internet Protocol) packets and vice versa. The gateway 346 then forwards those packets to the homeowner router 338. The gateway 346 may connect to the homeowner router 338 using a wired or wireless connection. The air handler monitor module 322 may communicate with the gateway 346 using a wired or wireless connection. For example, the interface between the gateway 346 and the homeowner router 338 may be Ethernet (IEEE 802.3) or WiFi (IEEE 802.1 1 ). </p><p id="p0084" num="0084"> [0084] The interface between the air handler monitor module 322 and the gateway 346 may include a wireless protocol, such as Bluetooth, ZigBee (IEEE 802.15.4), 900 Megahertz, 2.4 Gigahertz, WiFi (IEEE 802.1 1 ), and proprietary protocols. The air handler monitor module 322 may communicate with the compressor monitor module 316 using wired or wireless protocols. For example only, the air handler monitor module 322 and the compressor monitor module 316 may communicate using power line communications, which may be sent over a line voltage (such as 240 volts) or a stepped-down voltage, such as 24 volts, or a dedicated communications line. 
<!-- EPO <DP n="19"/>-->
 [0085] The air handler monitor module 322 and the compressor monitor module 316 may transmit data within frames conforming to the ClimateTalk™ standard, which may include the ClimateTalk Alliance HVAC Application Profile v1 .1 , released June 23, 201 1 , the ClimateTalk Alliance Generic Application Profile, v1 .1 , released June 23, 201 1 , and the ClimateTalk Alliance Application Specification, v1 .1 , released June 23, 201 1 , the disclosures of which are hereby incorporated by reference in their entirety. In various implementations, the gateway 346 may encapsulate ClimateTalk™ frames into IP packets, which are transmitted to the monitoring system 330. The monitoring system 330 then extracts the ClimateTalk™ frames and parses the data contained within the ClimateTalk™ frames. The monitoring system 330 may send return information, including monitoring control signals and/or HVAC control signals, using ClimateTalk™. </p><p id="p0085" num="0085"> [0086] The HVAC control module 360 controls operation of the air handler unit 304 and the compressor/condenser unit 308. The HVAC control module 360 may operate based on control signals from a thermostat 364. The thermostat 364 may transmit requests for fan, heat, and cool to the HVAC control module 360. One or more of the control signals may be intercepted by the air handler monitor module 322. Various implementations of interaction between the control signals and the air handler monitor module 322 are shown below in FIGs. 3A-3C. </p><p id="p0086" num="0086"> [0087] Additional control signals may be present in various HVAC systems. For example only, a heat pump may include additional control signals, such as a control signal for a reversing valve. The thermostat 364 and/or the HVAC control module 360 may include control signals for secondary heating and/or secondary cooling, which may be activated when the primary heating or primary cooling is insufficient. In dual fuel systems, such as systems operating from either electricity or natural gas, control signals related to the selection of the fuel may be monitored. Further, additional status and error signals may be monitored, such as a defrost status signal, which may be asserted when the compressor is shut off and a defrost heater operates to melt frost from an evaporator. </p><p id="p0087" num="0087">[0088] In various implementations, the thermostat 364 may use the gateway 346 to communicate with the Internet 334. In one implementation, the 
<!-- EPO <DP n="20"/>-->
 thermostat 364 does not communicate directly with the air handler monitor module 322 or the compressor monitor module 316. Instead, the thermostat 364 communicates with the monitoring system 330, which may then provide information or control signals to the air handler monitor module 322 and/or the compressor monitor module 316 based on information from the thermostat 364. Using the monitoring system 330, the homeowner or contractor may send signals to the thermostat 364 to manually enable heating or cooling (regardless of current temperature settings), or to change set points, such as desired instant temperature and temperature schedules. In addition, information from the thermostat 364, such as current temperature and historical temperature trends, may be viewed. </p><p id="p0088" num="0088"> [0089] The monitoring system 330 may provide alerts for situations such as detected or predicted failures to the homeowner computer 342 and/or to any other electronic device of the homeowner. For example, the monitoring system 330 may provide an alert to a mobile device 368 of the homeowner, such as a mobile phone or a tablet. The alerts are shown in FIG. 2 with dashed lines indicating that the alerts may not travel directly to the homeowner computer 342 or the mobile device 368 but may traverse, for example, the Internet 334 and/or a mobile provider network (not shown). The alerts may take any suitable form, including text messages, emails, social networking messages, voicemails, phone calls, etc. </p><p id="p0089" num="0089"> [0090] The monitoring system 330 also interacts with a contractor computer 372. The contractor computer 372 may then interface with mobile devices carried by individual contractors. Alternatively, the monitoring system 330 may directly provide alerts to predetermined mobile devices of the contractor. In the event of an impending or detected failure, the monitoring system 330 may provide information regarding identification of the homeowner, identification of the HVAC system, the part or parts related to the failure, and/or the skills required to perform the maintenance. </p><p id="p0090" num="0090">[0091] In various implementations, the monitoring system 330 may transmit a unique identifier of the homeowner or the residence to the contractor computer 372. The contractor computer 372 may include a database indexed by the unique identifier, which stores information about the homeowner including the 
<!-- EPO <DP n="21"/>-->
 homeowner's address, contractual information such as service agreements, and detailed information about the installed HVAC equipment. </p><p id="p0091" num="0091">[0092] The air handler monitor module 322 and the compressor monitor module 316 may receive respective sensor signals, such as water sensor signals. For example, the air handler monitor module 322 may receive signals from a float switch 376, a condensate sensor 380, and a conduction sensor 384. The condensate sensor 380 may include a device as described in commonly assigned Patent Application No. 13/162,798, filed June 17, 201 1 , titled Condensate Liquid Level Sensor and Drain Fitting, the disclosure of which is hereby incorporated by reference in its entirety. </p><p id="p0092" num="0092"> [0093] Where the air handler unit 304 is performing air conditioning, condensation occurs and is captured in a condensate pan. The condensate pan drains, often via a hose, into a floor drain or a condensate pump, which pumps the condensate to a suitable drain. The condensate sensor 380 detects whether the drain hose has been plugged, a condition which will eventually cause the condensate pan to overflow, potentially causing damage to the HVAC system and to surrounding portions of the homeowner residence 300. </p><p id="p0093" num="0093">[0094] The air handler unit 304 may be located on a catch pan, especially in situations where the air handler unit 304 is located above living space of the homeowner residence 300. A catch pan may include the float switch 376. When enough liquid accumulates in the catch pan, the float switch 376 provides an over-level signal to the air handler monitor module 322. </p><p id="p0094" num="0094"> [0095] The conduction sensor 384 may be located on the floor or other surface where the air handler unit 304 is located. The conduction sensor 384 may sense water leaks that are for one reason or another not detected by the float switch 376 or the condensate sensor 380, including leaks from other systems such as a hot water heater. </p><p id="p0095" num="0095"> [0096] Referring now to FIG. 3A, an example of control signal interaction with the air handler monitor module 322 is presented. In this example, the air handler monitor module 322 taps into the fan and heat request signals. For example only, the HVAC control module 360 may include terminal blocks where the fan and heat signals are received. These terminals blocks may include additional 
<!-- EPO <DP n="22"/>-->
 connections where leads can be attached between these additional connections and the air handler monitor module 322. </p><p id="p0096" num="0096"> [0097] Alternatively, leads from the air handler monitor module 322 may be attached to the same location as the fan and heat signals, such as by putting multiple spade lugs underneath a signal screw head. The cool signal from the thermostat 364 may be disconnected from the HVAC control module 360 and attached to the air handler monitor module 322. The air handler monitor module 322 then provides a switched cool signal to the HVAC control module 360. This allows the air handler monitor module 322 to interrupt operation of the air conditioning system, such as upon detection of water by one of the water sensors. The air handler monitor module 322 may also interrupt operation of the air conditioning system based on information from the compressor monitor module 316, such as detection of a locked rotor condition in the compressor. </p><p id="p0097" num="0097">[0098] Referring now to FIG. 3B, the fan, heat, and cool signals are connected to the air handler monitor module 322 instead of to the HVAC control module 360. The air handler monitor module 322 then provides fan, heat, and switched cool signals to the HVAC control module 360. In various other implementations, the air handler monitor module 322 may also switch the fan and/or heat signals. </p><p id="p0098" num="0098">[0099] Referring now to FIG. 3C, the thermostat 400 may use a proprietary or digital form of communication instead of discrete request lines such as those used by the thermostat 364. Especially in installations where the thermostat 400 is added after the HVAC control module 360 has been installed, an adapter 404 may translate the proprietary signals into individual fan, heat, and cool request signals. The air handler monitor module 322 can then be connected similarly to FIG. 3A (as shown) or FIG. 3B. </p><p id="p0099" num="0099"> [0100] Referring now to FIG. 4A, a functional block diagram of an example implementation of the air handler monitor module 322 is presented. A control line monitor module 504 receives the fan, heat, and cool request signals. A compressor interrupt module 508 also receives the cool request signal. Based on a disable signal, the compressor interrupt module 508 deactivates the switched cool signal. Otherwise, the compressor interrupt module 508 may pass the cool signal through as the switched cool signal. 
<!-- EPO <DP n="23"/>-->
 [0101] The control line monitor module 504 may also receive additional control signals, depending on application, including second stage heat, second stage cool, reversing valve direction, defrost status signal, and dual fuel selection. </p><p id="p0100" num="0100">[0102] A wireless transceiver 512 communicates using an antenna 516 with a wireless host, such as a gateway 346, a mobile phone base station, or a WiFi (IEEE 802.1 1 ) or WiMax (IEEE 802.16) base station. A formatting module 520 forms data frames, such as ClimateTalk™ frames, including data acquired by the air handler monitor module 322. The formatting module 520 provides the data frames to the wireless transceiver 512 via a switching module 524. </p><p id="p0101" num="0101"> [0103] The switching module 524 receives data frames from the monitoring system 330 via the wireless transceiver 512. Additionally or alternatively, the data frames may include control signals. The switching module 524 provides the data frames received from the wireless transceiver 512 to the formatting module 520. However, if the data frames are destined for the compressor monitor module 316, the switching module 524 may instead transmit those frames to a power-line communication module 528 for transmission to the compressor monitor module 316. </p><p id="p0102" num="0102"> [0104] A power supply 532 provides power to some or all of the components of the air handler monitor module 322. The power supply 532 may be connected to line voltage, which may be single phase 120 volt AC power. Alternatively, the power supply 532 may be connected to a stepped down voltage, such as a 24 volt power supply already present in the HVAC system. When the power received by the power supply 532 is also provided to the compressor monitor module 316, the power-line communication module 528 can communicate with the compressor monitor module 316 via the power supply 532. In other implementations, the power supply 532 may be distinct from the power-line communication module 528. The power-line communication module 528 may instead communicate with the compressor monitor module 316 using another connection, such as the switched cool signal (which may be a switched 24 volt line) provided to the compressor monitor module 316, another control line, a dedicated communications line, etc. 
<!-- EPO <DP n="24"/>-->
 [0105] In various implementations, power to some components of the air handler monitor module 322 may be provided by 24 volt power from the thermostat 364. For example only, the cool request from the thermostat 364 may provide power to the compressor interrupt module 508. This may be possible when the compressor interrupt module 508 does not need to operate (and therefore does not need to be powered) unless the cool request is present, thereby powering the compressor interrupt module 508. </p><p id="p0103" num="0103"> [0106] Data frames from the compressor monitor module 316 are provided to the switching module 524, which forwards those frames to the wireless transceiver 512 for transmission to the gateway 346. In various implementations, data frames from the compressor monitor module 316 are not processed by the air handler monitor module 322 other than to forward the frames to the gateway 346. In other implementations, the air handler monitor module 322 may combine data gathered by the air handler monitor module 322 with data gathered by the compressor monitor module 316 and transmit combined data frames. </p><p id="p0104" num="0104"> [0107] In addition, the air handler monitor module 322 may perform data gathering or remedial operations based on the information from the compressor monitor module 316. For example only, the compressor monitor module 316 may transmit a data frame to the air handler monitor module 322 indicating that the air handler monitor module 322 should monitor various inputs. For example only, the compressor monitor module 316 may signal that the compressor is about to start running or has started running. The air handler monitor module 322 may then monitor related information. </p><p id="p0105" num="0105">[0108] Therefore, the formatting module 520 may provide such a monitoring indication from the compressor monitor module 316 to a trigger module 536. The trigger module 536 determines when to capture data, or if data is being continuously captured, which data to store, process, and/or forward data. The trigger module 536 may also receive a signal from an error module 540. The error module 540 may monitor an incoming current and generate an error signal when the current is at too high of a level for too long of a time. </p><p id="p0106" num="0106">[0109] The compressor monitor module 316 may be configured similarly to the air handler monitor module 322. In the compressor monitor module 316, a 
<!-- EPO <DP n="25"/>-->
 corresponding error module may determine that a high current level indicates a locked rotor condition of the compressor. For example only, a baseline run current may be stored, and a current threshold calculated by multiplying the baseline run current by a predetermined factor. The locked rotor condition may then be determined when a measurement of current exceeds the current threshold. This processing may occur locally because a quick response time to a locked rotor is beneficial. </p><p id="p0107" num="0107"> [0110] The error module 540 may instruct the trigger module 536 to capture information to help diagnose this error and/or may send a signal to the compressor interrupt module 508 to disable the compressor. The disable signal received by the compressor interrupt module 508 may cause disabling of the compressor interrupt module 508 when either the error module 540 or the formatting module 520 indicates that the interruption is required. This logical operation is illustrated with an OR gate 542. </p><p id="p0108" num="0108">[0111] The formatting module 520 may disable the compressor based on an instruction from the monitoring system 330 and/or the compressor monitor module 316. For example, the monitoring system 330 may instruct the formatting module 520 to disable the compressor based on a request by a utility company. For example, during peak load times, the utility company may request air conditioning to be turned off in return for a discount on electricity prices. This shut off can be implemented via the monitoring system 330. </p><p id="p0109" num="0109">[0112] A water monitoring module 544 may monitor the conduction sensor 384, the float switch 376, and the condensate sensor 380. For example, when a resistivity of the conduction sensor 384 decreases below a certain value, which would happen in the presence of water, the water monitoring module 544 may signal to the error module 540 that water is present. </p><p id="p0110" num="0110"> [0113] The water monitoring module 544 may also detect when the float switch 376 detects excessive water, which may be indicated by a closing or an opening of the float switch 376. The water monitoring module 544 may also detect when resistivity of the condensate sensor 380 changes. In various implementations, detection of the condensate sensor 380 may not be armed until a baseline current reading is made, such as at the time when the air handler monitor module 322 is powered on. Once the condensate sensor 380 is armed, 
<!-- EPO <DP n="26"/>-->
 a change in current may be interpreted as an indication that a blockage has occurred. Based on any of these water signals, the water monitoring module 544 may signal to the error module 540 that the compressor should be disabled. </p><p id="p0111" num="0111">[0114] A temperature tracking module 548 tracks temperatures of one or more HVAC components. For example, the temperature tracking module 548 may monitor the temperature of supply air and of return air. The temperature tracking module 548 may provide average values of temperature to the formatting module 520 . For example only, the averages may be running averages. The filter coefficients of the running averages may be predetermined and may be modified by the monitoring system 330. </p><p id="p0112" num="0112"> [0115] The temperature tracking module 548 may monitor one or more temperatures related to the air conditioning system. For example, a liquid line provides refrigerant to an expansion valve of the air handler unit 304 from a condenser of the compressor/condenser unit 308. A temperature may be measured along the refrigerant line before and/or after the expansion valve. The expansion valve may include, for example, a thermostatic expansion valve, a capillary tube, or an automatic expansion valve. </p><p id="p0113" num="0113"> [0116] The temperature tracking module 548 may additionally or alternatively monitor one or more temperatures of an evaporator coil of the air handler unit 304. The temperatures may be measured along the refrigerant line at or near the beginning of the evaporator coil, at or near an end of the evaporator coil, or at one or more midpoints. In various implementations, the placement of the temperature sensor may be dictated by physical accessibility of the evaporator coil. The temperature tracking module 548 may be informed of the location of the temperature sensor. Alternatively, data about temperature location may be stored as part of installation data, which may be available to the formatting module 520 and/or to the monitoring system, which can use this information to accurately interpret the received temperature data. </p><p id="p0114" num="0114"> [0117] A power calculation module 552 monitors voltage and current. In one implementation, these are the aggregate power supply voltage and the aggregate power supply current, which represents the total current consumed by all of the components of the air handler unit 304. The power calculation module 552 may perform a point-by-point power calculation by multiplying the voltage 
<!-- EPO <DP n="27"/>-->
 and current. Point-by-point power values and/or an average value of the point- by-point power is provided to the formatting module 520. </p><p id="p0115" num="0115"> [0118] A current recording module 556 records values of the aggregate current over a period of time. The aggregate current may be sensed by a current sensor that is installed within the air handler unit 304 or along the electrical cable providing power to the air handler unit 304 (see current sensor 324 In FIG. 2). For example only, the current sensor may be located at a master switch that selectively supplies the incoming power to the air handler unit 304. Alternatively, the current sensor may be located closer to, or inside of, an electrical distribution panel. The current sensor may be installed in line with one or more of the electrical wires feeding current from the electrical distribution panel to the air handler unit 304. </p><p id="p0116" num="0116"> [0119] The aggregate current includes current drawn by all energy consuming components of the air handler unit 304. For example only, the energy consuming components can include a gas valve solenoid, an igniter, a circulator blower motor, an inducer blower motor, a secondary heat source, an expansion valve controller, a furnace control panel, a condensate pump, and a transformer, which may provide power to a thermostat. The energy consuming components may also include the air handler monitor module 322 itself and the compressor monitor module 316. </p><p id="p0117" num="0117"> [0120] It may be difficult to isolate the current drawn by any individual energy consuming component. Further, it may be difficult to quantify or remove distortion in the aggregate current, such as may be caused by fluctuations of the voltage level of incoming AC power. As a result, processing is applied to the current, which includes, for example only, filtering, statistical processing, and frequency domain processing. </p><p id="p0118" num="0118"> [0121] In the implementation of FIG. 4A, the time domain series of currents from the current recording module 556 is provided to a fast Fourier transform (FFT) module 560, which generates a frequency spectrum from the time domain current values. The length of time and the frequency bins used by the FFT module 560 may be configurable by the monitoring system 330. The FFT module 560 may include, or be implemented by, a digital signal processor (DSP). In various implementations, the FFT module 560 may perform a discrete 
<!-- EPO <DP n="28"/>-->
 Fourier transform (DFT). The current recording module 556 may also provide raw current values, an average current value (such as an average of absolute values of the current), or an RMS current value to the formatting module 520. </p><p id="p0119" num="0119">[0122] A clock 564 allows the formatting module 520 to apply a time stamp to each data frame that is generated. In addition, the clock 564 may allow the trigger module 536 to periodically generate a trigger signal. The trigger signal may initiate collection and/or storage and processing of received data. Periodic generation of the trigger signal may allow the monitoring system 330 to receive data from the air handler monitor module 322 frequently enough to recognize that the air handler monitor module 322 is still functioning. </p><p id="p0120" num="0120"> [0123] A voltage tracking module 568 measures the AC line voltage, and may provide raw voltage values or an average voltage value (such as an average of absolute values of the voltage) to the formatting module 520. Instead of average values, other statistical parameters may be calculated, such as RMS (root mean squared) or mean squared. </p><p id="p0121" num="0121"> [0124] Based on the trigger signal, a series of frames may be generated and sent. For example only, the frames may be generated contiguously for 105 seconds and then intermittently for every 15 seconds until 15 minutes has elapsed. Each frame may include a time stamp, RMS voltage, RMS current, real power, average temperature, conditions of status signals, status of liquid sensors, FFT current data, and a flag indicating the source of the trigger signal. Each of these values may correspond to a predetermined window of time, or, frame length. </p><p id="p0122" num="0122"> [0125] The voltage and current signals may be sampled by an analog-to- digital converter at a certain rate, such as 1920 samples per second. The frame length may be measured in terms of samples. When a frame is 256 samples long, at a sample rate of 1920 samples per second, there are 7.5 frames every second (or, 0.1333 seconds per frame). Generation of the trigger signal is described in more detail below in FIG. 7. The sampling rate of 1920 Hz has a Nyquist frequency of 960 Hz and therefore allows an FFT bandwidth of up to approximately 960 Hz. An FFT limited to the time span of a single frame may be calculated by the FFT module 560 for each of the frames. 
<!-- EPO <DP n="29"/>-->
 [0126] The formatting module 520 may receive a request for a single frame from the monitoring system 330. The formatting module 520 therefore provides a single frame in response to the request. For example only, the monitoring system 330 may request a frame every 30 seconds or some other periodic interval, and the corresponding data may be provided to a contractor monitoring the HVAC system in real time. </p><p id="p0123" num="0123"> [0127] Referring now to FIG. 4B, an example implementation of the compressor monitor module 316 is shown. Components of the compressor monitor module 316 may be similar to components of the air handler monitor module 322 of FIG. 4A. For example only, the compressor monitor module 316 may include the same hardware components as the air handler monitor module 322, where unused components, such as the wireless transceiver 512, are simply disabled or deactivated. In various other implementations, a circuit board layout may be shared between the air handler monitor module 322 and the compressor monitor module 316, with various locations on the printed circuit board being depopulated (corresponding to components present in the air handler monitor module 322 but not implemented in the compressor monitor module 316). </p><p id="p0124" num="0124"> [0128] The current recording module 556 of FIG. 4B receives an aggregate current value (such as from current sensor 320 of FIG. 2) that represents the current to multiple energy consuming components of the compressor/condenser unit 308. The energy consuming components may include start windings, run windings, capacitors, and contactors/relays for a condenser fan motor and a compressor motor. The energy consuming components may also include a reversing valve solenoid, a control board, and in some implementations the compressor monitor module 316 itself. </p><p id="p0125" num="0125"> [0129] In the compressor monitoring module 316, the temperature tracking module 548 may track an ambient temperature. When the compressor monitor module 316 is located outdoors, the ambient temperature represents an outside temperature. As discussed above, the temperature sensor supplying the ambient temperature may be located outside of an enclosure housing a compressor or condenser. Alternatively, the temperature sensor may be located within the enclosure, but exposed to circulating air. In various implementations 
<!-- EPO <DP n="30"/>-->
 the temperature sensor may be shielded from direct sunlight and may be exposed to an air cavity that is not directly heated by sunlight. </p><p id="p0126" num="0126">[0130] The temperature tracking module 548 may monitor temperatures of the refrigerant line at various points, such as before the compressor (referred to as a suction line temperature), after the compressor (referred to as a compressor discharge temperature), after the condenser (referred to as a liquid line out temperature), and/or at one or more points along the condenser coil. The location of temperature sensors may be dictated by a physical arrangement of the condenser coils. During installation, the location of the temperature sensors may be recorded. </p><p id="p0127" num="0127"> [0131] Additionally or alternatively, a database may be available that specifies where temperature sensors are placed. This database may be referenced by installers and may allow for accurate cloud processing of the temperature data. The database may be used for both air handler sensors and compressor/condenser sensors. The database may be prepopulated by the monitoring company or may be developed by trusted installers, and then shared with other installation contractors. The temperature tracking module 548 and/or a cloud processing function may determine an approach temperature, which is a measurement of how close the condenser has been able to make the liquid line out temperature to the ambient air temperature. </p><p id="p0128" num="0128"> [0132] Referring now to FIGs. 5A-5I, block diagrams of example implementations of the air handler monitor module 322 are shown. Although the functions depicted in FIG. 4A may be performed by various circuitry blocks of FIGs. 5A-5I, there may not be a one-to-one correspondence between the functional blocks of FIG. 4A and the circuitry blocks of any of FIGs. 5A-5I. </p><p id="p0129" num="0129"> [0133] Referring now to FIG. 5A, temperatures are received by signal scaling blocks 572-1 , 572-2, and 572-3 (collectively, signal scaling blocks 572). For example only, the signal scaling blocks 572 may include resistive dividers and/or amplifiers to scale the input signals appropriately and provide the scaled signals to analog-to-digital (A/D) converters 574-1 , 574-2, and 574-3, respectively (collectively, A/D converters 574). A microprocessor 576 may include the A/D converters 574. The microprocessor executes code from memory 578. Signal scaling blocks 572-4 and 572-5 scale voltage and current, respectively. 
<!-- EPO <DP n="31"/>-->
 [0134] A power supply 580 provides power to components of the air handler monitor module 322. A communications module 582 includes a communications controller 584, a radio 586 for wireless communication, and a power line communications module 588 for power line communications. A power monitor chip 590 may monitor the scaled voltage and current and provide current and voltage information, as well as power information and phase information, to the microprocessor 576. </p><p id="p0130" num="0130"> [0135] Referring now to FIG. 5B, signal scaling blocks 572-6 and 572-7 receive the voltage and current, respectively, and provide those values to a microprocessor 592. For example only, the microprocessor 592 may include comparators to determine zero-crossing events of the voltage and/or current in response to the analog signals from the signal scaling blocks 572-6 and 572-7. A/D converters 574-4 and 574-5 convert scaled voltage and current signals, respectively, into digital values that are provided to a microprocessor 592. In the implementation shown in FIG. 5B, the A/D converters 574-1 , 574-2, and 574-3 are not integrated with microprocessor 592 and are instead stand-alone. </p><p id="p0131" num="0131">[0136] Although 10-bit and 12-bit A/D converters are shown, A/D converters having more or less resolution may be chosen. In various implementations, such as shown in FIG. 5B, higher-resolution A/D converters may be used for values, such as current and voltage, where higher precision is desired and where the source analog signals themselves are of higher precision. </p><p id="p0132" num="0132">[0137] Referring now to FIG. 5C, an implementation similar to that of FIG. 5B is shown. In FIG. 5C, the A/D converters 574-1 , 574-2, and 574-3 are integrated in a microprocessor 594. </p><p id="p0133" num="0133">[0138] Referring now to FIG. 5D, programmable gain modules 596-1 and 596-2 allow programmable gains to be applied to the voltage and current. This may allow for features such as automatic gain control. A microprocessor 596 controls the programmable gain module 596-1 and 596-2 using a common value or using individual values. In FIG. 5D, the A/D converters 574-4 and 5745 are integrated in a microprocessor 596. In various implementations, the microprocessor 596 may offer only a certain resolution of A/D converters, such as 10-bit, in which case the A/D converters 574-4 and 574-5 may have 10-bit resolution instead of 12-bit resolution. 
<!-- EPO <DP n="32"/>-->
 [0139] Referring now to FIG. 5E, a microprocessor 598 integrates the communications controller 584. </p><p id="p0134" num="0134"> [0140] Referring now to FIG. 5F, a microprocessor 600 further integrates the A/D converters 574-4 and 574-5, and in this case, maintains the 12-bit resolution. </p><p id="p0135" num="0135"> [0141] Referring now to FIG. 5G, a microprocessor 602 integrates the memory 578 on chip. Additional memory (not shown) may be provided off chip. </p><p id="p0136" num="0136">[0142] Referring now to FIG. 5H, a custom integrated circuit 604 may integrate many of the functions described above, including the power supply 580, the power line communications module 588, the radio 586, and the memory 578. The custom integrated circuit 604 includes a multiplexer 608, which provides sensed data to a microprocessor 606 over a multiplexed bus. The microprocessor 606 may also implement the communications controller 584. To provide voltage compatible with the custom integrated circuit 604, a voltage divider 616 is located prior to the voltage signal entering the custom integrated circuit 604. </p><p id="p0137" num="0137"> [0143] Referring now to FIG. 5I, a custom integrated circuit 630 may implement the modules of the custom integrated circuit 604 of FIG. 5H as well as integrating the microprocessor 606 by using a microprocessor core 640. </p><p id="p0138" num="0138">[0144] Referring now to FIG. 5J, a data flow diagram is shown for a monitoring module, such as the air handler monitor module 322. A power line 650 supplies power to a power supply 652. The voltage of the power line 650 is conditioned by a signal conditioning block 654 and then provided to a voltage log 656 and a power calculator 658. Zero crossings of the voltage are monitored by a zero cross block 660 and transmitted to a phase calculation module 662. The phase calculation module 662 determines phase difference between voltage and current based on zero crossing information from the zero cross block 660 and a current zero cross block 664. </p><p id="p0139" num="0139"> [0145] The current zero cross block 664 receives current from a current sensor 666, which also provides current values to a signal conditioning block 668, which conditions the current values, such as by applying filters, and provides them to a current monitor 670 and a power calculation block 658. The 
<!-- EPO <DP n="33"/>-->
 power calculation block determines power based on the current and voltage and supplies the result to a power log 674. </p><p id="p0140" num="0140"> [0146] The current log 672, the power log 674, a phase log 676, and the voltage log 656 provide information to an information packaging block 678. The information packaging block 678 packages information for transmission by a transmit block 680. The information packaging block 678 may provide identifying information such as a module ID number 682. A temperature log 684 receives one or more temperature signals 686, while a pressure log 688 receives one or more pressures 690. </p><p id="p0141" num="0141">[0147] A key recognition block 692 monitors inputs from a variety of sources, which may include the power calculation block 658, the phase calculation block 662, the voltage log 656, the temperature log 684, the pressure log 688, and state inputs 694, such as call for heat and call for cool control lines. The key recognition block 692 may identify which portions of each of the logs is transmitted by the transmit block 680. </p><p id="p0142" num="0142"> [0148] The key recognition block 692 identifies occurrence of certain events, such as the beginning of a call for heat or call for cool. In addition, the key recognition block 692 may recognize when anomalous situations have occurred, such as over-voltage, over-current, or temperatures or pressures out of bounds. In response to identification of events by the key recognition block 692, a log control block 694 may control the information packaging block 678 to discard or only locally store low priority information, to delay transmitting medium priority information, and to transmit higher priority information more quickly or even immediately. </p><p id="p0143" num="0143">[0149] Referring now to FIG. 6, a brief overview of an example monitoring system installation, such as in a retrofit application, is presented. Although FIGs. 6 and 7 are drawn with arrows indicating a specific order of operation, the present disclosure is not limited to this specific order. At 704, mains power to the air handler is disconnected. If there is no outside disconnect for the mains power to the compressor/condenser unit, mains power to the compressor/condenser unit should also be disconnected at this point. At 708, the cool line is disconnected from the HVAC control module and connected to the air handler monitor module. At 712, the switched cool line from the air 
<!-- EPO <DP n="34"/>-->
 handler monitor module is connected to the HVAC control module where the cool line was previously connected. </p><p id="p0144" num="0144"> [0150] At 716, fan, heat, and common lines from the air handler monitor module are connected to terminals on the HVAC control module. In various implementations, the fan, heat, and common lines originally going to the HVAC control module may be disconnected and connected to the air handler monitor module. This may be done for HVAC control modules where additional lines cannot be connected in parallel with the original fan, heat, and common lines. </p><p id="p0145" num="0145">[0151] At 720, a current sensor such as a snap-around current transformer, is connected to mains power to the HVAC system. At 724, power and common leads are connected to the HVAC transformer, which may provide 24 volt power to the air handler monitor module. In various implementations, the common lead may be omitted, relying on the common lead discussed at 716. Continuing at 728, a temperature sensor is placed in the supply air duct work and connected to the air handler monitor module. At 732, a temperature sensor is placed in the return air duct work and connected to the air handler monitor module. At 734, a temperature sensor is placed in a predetermined location, such as a middle loop, of the evaporator coil. At 736, water sensors are installed and connected to the air handler monitor module. </p><p id="p0146" num="0146">[0152] At 740, mains power to the compressor/condenser unit is disconnected. At 744, the power supply of the compressor monitor module is connected to the compressor/condenser unit's input power. For example, the compressor monitor module may include a transformer that steps down the line voltage into a voltage usable by the compressor monitor module. At 748, a current sensor is attached around the compressor/condenser unit's power input. At 752, a voltage sensor is connected to the compressor/condenser unit's power input. </p><p id="p0147" num="0147"> [0153] At 756, a temperature sensor is installed on the liquid line, such as at the input or the output to the condenser. The temperature sensor may be wrapped with insulation to thermally couple the temperature sensor to the liquid in the liquid line and thermally isolate the temperature sensor from the environment. At 760, the temperature sensor is placed in a predetermined location of the condenser coil and insulated. At 764, the temperature sensor is 
<!-- EPO <DP n="35"/>-->
 placed to measure ambient air. The temperature sensor may be located outside of the outdoor enclosure 312 or in a space of the outdoor enclosure 312 in which outside air circulates. At 768, mains power to the air handler and the compressor/condenser unit is restored. </p><p id="p0148" num="0148">[0154] Referring now to FIG. 7, a flowchart depicts example operation in capturing frames of data. Control begins upon startup of the air handler monitor module at 800, where an alive timer is reset. The alive timer ensures that a signal is periodically sent to the monitoring system so that the monitoring system knows that the air handler monitor module is still alive and functioning. In the absence of this signal, the monitoring system 330 will infer that the air handler monitor module is malfunctioning or that there is connectivity issue between the air handler monitor module and the monitoring system. </p><p id="p0149" num="0149"> [0155] Control continues at 804, where control determines whether a request for a frame has been received from the monitoring system. If such a request has been received, control transfers to 808; otherwise, control transfers to 812. At 808, a frame is logged, which includes measuring voltage, current, temperatures, control lines, and water sensor signals. Calculations are performed, including averages, powers, RMS, and FFT. Then a frame is transmitted to the monitoring system. In various implementations, monitoring of one or more control signals may be continuous. Therefore, when a remote frame request is received, the most recent data is used for the purpose of calculation. </p><p id="p0150" num="0150"> [0156] Control then returns to 800. Referring now to 812, control determines whether one of the control lines has turned on. If so, control transfers to 816; otherwise, control transfers to 820. Although 812 refers to the control line being turned on, in various other implementations, control may transfer to 816 when a state of a control line changes - i.e., when the control line either turns on or turns off. This change in status may be accompanied by signals of interest to the monitoring system. Control may also transfer to 816 in response to an aggregate current of either the air handler unit or the compressor/condenser unit. </p><p id="p0151" num="0151">[0157] At 820, control determines whether a remote window request has been received. If so, control transfers to 816; otherwise, control transfers to 824. The window request is for a series of frames, such as is described below. At 824, control determines whether current is above a threshold, and if so, control 
<!-- EPO <DP n="36"/>-->
 transfers to 816; otherwise, control transfers to 828. At 828, control determines whether the alive timer is above a threshold such as 60 minutes. If so, control transfers to 808; otherwise, control returns to 804. </p><p id="p0152" num="0152"> [0158] At 816, a window timer is reset. A window of frames is a series of frames, as described in more detail here. At 832, control begins logging frames continuously. At 836, control determines whether the window timer has exceeded a first threshold, such as 105 seconds. If so, control continues at 840; otherwise, control remains at 836, logging frames continuously. At 840, control switches to logging frames periodically, such as every 15 seconds. </p><p id="p0153" num="0153">[0159] Control continues at 844, where control determines whether the HVAC system is still on. If so, control continues at 848; otherwise, control transfers to 852. Control may determine that the HVAC system is on when an aggregate current of the air handler unit and/or of the compressor unit exceeds a predetermined threshold. Alternatively, control may monitor control lines of the air handler unit and/or the compressor unit to determine when calls for heat or cool have ended. At 848, control determines whether the window timer now exceeds a second threshold, such as 15 minutes. If so, control transfers to 852; otherwise, control returns to 844 while control continues logging frames periodically. </p><p id="p0154" num="0154">[0160] At 852, control stops logging frames periodically and performs calculations such as power, average, RMS, and FFT. Control continues at 856 where the frames are transmitted. Control then returns to 800. Although shown at the end of frame capture, 852 and 856 may be performed at various times throughout logging of the frames instead of at the end. For example only, the frames logged continuously up until the first threshold may be sent as soon as the first threshold is reached. The remaining frames up until the second threshold is reached may each be sent out as it is captured. </p><p id="p0155" num="0155">[0161] In various implementations, the second threshold may be set to a high value, such as an out of range high, which effectively means that the second threshold will never be reached. In such implementations, the frames are logged periodically for as long as the HVAC system remains on. </p><p id="p0156" num="0156"> [0162] A server of the monitoring system includes a processor and memory, where the memory stores application code that processes data received from the 
<!-- EPO <DP n="37"/>-->
 air handler monitor and compressor monitor modules and determines existing and/or impending failures, as described in more detail below. The processor executes this application code and stores received data either in the memory or in other forms of storage, including magnetic storage, optical storage, flash memory storage, etc. While the term server is used in this application, the application is not limited to a single server. </p><p id="p0157" num="0157"> [0163] A collection of servers, which may together operate to receive and process data from the air handler monitor and compressor monitor modules of multiple residences. A load balancing algorithm may be used between the servers to distribute processing and storage. The present application is not limited to servers that are owned, maintained, and housed by a monitoring company. Although the present disclosure describes diagnostics and processing and alerting occurring in the monitoring system 330, some or all of these functions may be performed locally using installed equipment and/or homeowner resources, such as a homeowner computer. </p><p id="p0158" num="0158"> [0164] The servers may store baselines of frequency data for the HVAC system of a residence. The baselines can be used to detect changes indicating impending or existing failures. For example only, frequency signatures of failures of various components may be pre-programmed, and may be updated based on observed evidence from contractors. For example, once a malfunctioning HVAC system has been diagnosed, the monitoring system may note the frequency data leading up to the malfunction and correlate that frequency signature with the diagnosed cause of the malfunction. For example only, a computer learning system, such as a neural network or a genetic algorithm, may be used to refine frequency signatures. The frequency signatures may be unique to different types of HVAC systems and/or may share common characteristics. These common characteristics may be adapted based on the specific type of HVAC system being monitored. </p><p id="p0159" num="0159"> [0165] The monitoring system may also receive current data in each frame. For example, when 7.5 frames per seconds are received, current data having a 7.5 Hz resolution is available. The current and/or the derivative of this current may be analyzed to detect impending or existing failures. In addition, the current and/or the derivative may be used to determine when to monitor certain data, or 
<!-- EPO <DP n="38"/>-->
 points at which to analyze obtained data. For example, frequency data obtained at a predetermined window around a certain current event may be found to correspond to a particular HVAC system component, such as activation of a hot surface igniter. </p><p id="p0160" num="0160">[0166] Components of the present disclosure may be connected to metering systems, such as utility (including gas and electric) metering systems. Data may be uploaded to the monitoring system 330 using any suitable method, including communications over a telephone line. These communications may take the form of digital subscriber line (DSL) or may use a modem operating at least partially within vocal frequencies. Uploading to the monitoring system 330 may be confined to certain times of day, such as at night time or at times specified by the contractor or homeowner. Further, uploads may be batched so that connections can be opened and closed less frequently. Further, in various implementations, uploads may occur only when a fault or other anomaly has been detected. </p><p id="p0161" num="0161"> [0167] Methods of notification are not restricted to those disclosed above. For example, notification of HVAC problems may take the form of push or pull updates to an application, which may be executed on a smart phone or other mobile device or on a standard computer. Notifications may also be viewed using web applications or on local displays, such as the thermostat 364 or other displays located throughout the residence or on the air handler monitor module 322 or the compressor monitor module 316. </p><p id="p0162" num="0162"> [0168] Referring now to FIG. 8, a functional schematic of example HVAC components is shown. An air conditioning unit controller 902 receives power from a first power line 904, a second power line 906, and a neutral line 908 (also called a center tap CT). Current sensors 910 measure current arriving on the first power line 904 and the second power line 906. A condenser fan 912 is controlled by a switch 914. A current sensor 916 that monitors current to the condenser fan may be eliminated according to the principles of the present disclosure. </p><p id="p0163" num="0163"> [0169] A compressor motor 918 includes a start winding 920 and a run winding 922 and is controlled by a switch 924. A run capacitor 926 may be connected across terminals of the compressor motor 918. Current sensors 928, 
<!-- EPO <DP n="39"/>-->
 930, and 931 , which measure currents supplied to the compressor motor 918, may be eliminated in accordance with the principles of the present disclosure. A mid-capacity solenoid 932 may be actuated by a switch 934. The mid-capacity solenoid 932 may alter the capacity of the compressor motor 918, for example from a high capacity to a medium capacity. </p><p id="p0164" num="0164"> [0170] A reversing valve 936 may be controlled by a switch 938 and/or by a switch 940. A processor 942 controls switches 914, 924, 934, 938, and 940. The processor 942 may provide visual indicators of operation, such as on a screen or via a blinking multicolor light-emitting diode 944. The processor 942 may communicate with a furnace control processor 946 via a network port 948 over networking lines 950. The processor 942 may operate in response to a high side refrigerant processor 952 and a low side refrigerant processor 954. The processor 942 may also operate in response to an outside ambient temperature sensor 956 and a condenser coil temperature sensor 958. </p><p id="p0165" num="0165">[0171] A blower motor controller 960 communicates over the network using the networking lines 950. The blower motor controller 960 may include a blower control processor 962 and a inverter driver 964. The inverter driver 964 drives a circulator blower motor 966. A circulator blower controller 968 controls the blower motor controller 960 over the network using the networking lines 950. The circulator blower controller includes a relay 970 and a circulator control processor 972. </p><p id="p0166" num="0166"> [0172] A furnace controller 974 includes the furnace control processor 946 and switches 976, 978, and 980. The furnace controller 974 receives power from one of the lines 904 or 906 and the neutral line 908. The furnace control processor 946 receives control signals from a thermostat 982 and actuates the switches 976, 978, and 980 in response. The switch 976 may be a relay and controls a gas valve 984, which regulates combustion fuel to the furnace. The switch 978 controls an inducer motor 986, which exhausts combustion gases. The switch 980 controls an igniter 988, which ignites the fuel. The furnace controller 974 and the thermostat 982 are powered by a transformer 990. </p><p id="p0167" num="0167"> [0173] Referring now to FIG. 9, an aggregate current level begins at a nonzero current 1004 indicating that at least one energy consuming component is consuming energy. A spike in current 1008 may indicate that another 
<!-- EPO <DP n="40"/>-->
 component is turning on. Elevated current 1012 may correspond to operation of the inducer blower. This is followed by a spike 1016, which may indicate the beginning of operation of a hot surface igniter. After opening of a solenoid- operated gas valve, the hot surface igniter may turn off, which returns current to a level corresponding to the inducer blower at 1018. The current may remain approximately flat 1020 until a current ramp 1024 begins, indicating the beginning of circulator blower operation. A spike 1028 may indicate transition from starting to running of the circulator blower. </p><p id="p0168" num="0168"> [0174] Referring now to FIG. 10A, another example current trace begins at 1050. A spike at 1054 indicates operation of a component, such as a hot surface igniter. Transitions at 1058 and 1062 may indicate operation of other energy consuming components or operating changes of the hot surface igniter. A spike 1066 may indicate the beginning of operation of another energy consuming component, such as a circulator blower. </p><p id="p0169" num="0169">[0175] Referring now to FIG. 10B, the transitions shown in FIG. 10A may be isolated to allow the data at these transitions to be carefully inspected, as the data at these times may have greater diagnostic value. In order to identify transitions, such as 1054, 1058, 1062, and 1066, mathematical algorithms, which may include averages and derivatives, are applied to the current trace of FIG. 10A to produce corresponding spikes 1080, 1084, 1088, and 1092. </p><p id="p0170" num="0170"> [0176] Referring now to FIG. 10C, another example current trace is shown. While the current trace of FIG. 10C is visually different from that of FIG. 10A, it may be difficult to quantify this difference. It may be especially difficult to develop a universal pattern for distinguishing the current trace of FIG. 10C from the current trace of FIG. 10A. The current trace of FIG. 10C may represent a change in operation, such as degradation of the hot surface igniter. In order to more clearly distinguish FIG. 10C from FIG. 10A, frequency domain analysis may be used. </p><p id="p0171" num="0171"> [0177] Referring now to FIG. 1 1 A, a bar chart 1 100 depicts relative frequency content in each of 33 frequency bins, which is obtained by a frequency domain analysis of FIG. 10A. For example only, an FFT was performed over a specified period of the time domain trace of FIG. 10A. For example only, the specified time may be keyed to one of the transitions identified in FIG. 10B. 
<!-- EPO <DP n="41"/>-->
 [0178] Referring now to FIG. 1 1 B, the bar chart 1 104 depicts frequency content corresponding to the time domain trace of FIG. 10C. Referring now to FIG. 1 1 C, a comparison between the frequency domain data of FIGs. 1 1 A and 1 1 B is shown. In various implementations, this difference may be calculated simply by subtracting, bin by bin, the value of FIG. 1 1 B from the value of FIG. 1 1 A. The resulting frequency domain data 1 108 may be indicative of a failing igniter. For example only, when certain frequency bins in the difference spectrum 1 108 exceed a certain threshold, the monitoring system may determine that the igniter has failed or is failing. </p><p id="p0172" num="0172">[0179] Referring now to FIG. 12A, an example current trace has an approximately constant level 1 140 until a spike 1 144 indicates operation of a hot surface igniter. A second spike 1 148 indicates actuation of a solenoid-operated gas valve. Referring now to FIG. 12B, another example current trace shows operation of the hot surface igniter that appears to be missing operation of the solenoid-operated gas valve. Referring now to FIG. 12C, a frequency domain analysis is performed on both FIG. 12A and FIG. 12B, and a difference spectrum between the two frequency domain spectra is shown in FIG. 12C. This frequency domain difference may indicate to the monitoring system that the solenoid-operated gas valve has failed to function. </p><p id="p0173" num="0173">[0180] Referring now to FIG. 13A, voltage and current for a normally operated motor are shown, where the voltage trace appears sinusoidal and the current trace is more jagged. In FIG. 13B, voltage and current traces for a compressor motor with a faulty run capacitor are shown. Visually, it is difficult to determine any difference between the time domain representations in FIGs. 13A and 13B. FIG. 13C shows a time domain subtraction of the current traces of FIGs. 13A and 13B. The difference simply appears to be noise and in the time domain, it may be impossible to distinguish a normally operating motor from one having a faulty run capacitor. </p><p id="p0174" num="0174"> [0181] Referring now to FIG. 14A, frequency domain content of the current of the normally operating motor of FIG. 13A is shown. Frequency bins are shown along one axis, while relative size of the frequency bin is shown on the vertical axis. Each slice 1 180 may correspond to a different time window. In other words, FIG. 14A displays a series of FFTs performed over a number of time 
<!-- EPO <DP n="42"/>-->
 windows, which may be consecutive time windows. Meanwhile, FIG. 14B displays frequency domain content 1 184 corresponding to the current of the faulty motor of FIG. 13B. In FIG. 14C, a difference 1 188 between the frequency domain data of FIGs. 14A and 14B is shown. When a difference at a certain frequency exceeds a threshold, faulty operation of the motor can be diagnosed. Based on which frequency bins exhibit the greatest difference, the source of the problem may be suggested. For example only, the difference spectrum 1 188 may indicate a faulty run capacitor. </p><p id="p0175" num="0175"> [0182] Referring now FIG. 15A, a data flow diagram represents the air handler monitor module and compressor monitor module as being a triggered data logger 1200, which supplies logged data to a cloud processor 1204. Although referred to as a cloud processor in this application, one or more of the processes described as being performed by the cloud processor 1204 may instead be performed locally by the triggered data logger 1200. For example, this processing may be performed by the triggered data logger 1200 to reduce the amount of data that needs to be uploaded to cloud processor 1204. </p><p id="p0176" num="0176">[0183] The cloud processor 1204 receives the logged data and identifies key points in the data 1208, such as transitions between operating modes. These transitions may be identified by current spikes, such as are depicted in FIG. 10B. Device identification 1212 specifies characteristics of the HVAC system being monitored, which can be used to interpret the received data. Logger pattern forms 1216 may establish equipment specific operating characteristics from which an operation pattern 1220 is selected. </p><p id="p0177" num="0177"> [0184] A base case pattern log 1224 may learn normal operation of the device in question and thereby establish a baseline. Pattern comparison 1228 receives data corresponding to key points and compares that data with base cases and selected operation patterns. Deviations by more than a predetermined amount may result in fault notification 1232. Further, anomalies that may be not be sufficient to trigger a fault may impact performance 1236. Performance 1236 may monitor even properly running equipment to determine if performance has degraded through normal wear and tear or through issues with the home itself, such as low insulation value. An information channel 1240 
<!-- EPO <DP n="43"/>-->
 provides information about identified faults and performance, such as alerts of decreased performance, to a contractor or homeowner, represented at 1244. </p><p id="p0178" num="0178">[0185] Referring now to FIG. 15B, an FFT 1260 is used to analyze HVAC operation in the frequency domain. This may allow for identification of problems that are difficult or impossible to reliably identify in the time domain. </p><p id="p0179" num="0179"> [0186] Referring now to FIG. 15C, a global knowledge base 1280 may be populated by the monitoring company and/or installation contractors to identify proper operation of installed systems. The global knowledge base 1280 may also be updated with base cases determined by ongoing monitoring. The global knowledge base 1280 may therefore be informed by all of the monitored installation systems of a given HVAC system configuration. </p><p id="p0180" num="0180">[0187] Referring now to FIG. 15D, FFT processing 1300 is shown being performed locally at the triggered data logger. The FFT 1300 may be performed locally to reduce the amount of data uploaded to the cloud processor 1204. For example only, granular time domain current data over a time window may be converted to frequency domain data by the FFT 1300. The triggered data logger 1200 may then upload only an average value of the current over that time window to the cloud processor 1204, not all of the granular current domain data. In addition, performing the FFT 1300 locally may allow for some local detection and diagnosis of faults. This may allow the triggered data logger 1200 to better prioritize uploaded data, such as by immediately uploading data that appears to be related to an impending or present failure. </p><p id="p0181" num="0181"> [0188] Referring now to FIG. 15E, FFT interpretation 1320 is performed in the cloud processor 1204 before being operated on by key point identification 1208. </p><p id="p0182" num="0182">[0189] Referring now to FIG. 15F, the global knowledge base 1280 of FIG. 15C is combined with the FFT interpretation 1320 of FIG. 15E in the cloud processor 1204. </p><p id="p0183" num="0183"> [0190] Referring now to FIG. 15G, another example representation of cloud processing is shown, where a processing module 1400 receives event data in the form of frames. The processing module 1400 uses various input data for detection and prediction of faults. Identified faults are passed to an error communication system 1404. The event data 1402 may be stored upon receipt from the air handler monitor module and the compressor monitor module. 
<!-- EPO <DP n="44"/>-->
 [0191] The processing module 1400 may then perform each prediction or detection task with relevant data from the event data 1402. In various implementations, certain processing operations are common to more than one detection or prediction operation. This data may therefore be cached and reused. The processing module 1400 receives information about equipment configuration 1410, such as control signal mapping. </p><p id="p0184" num="0184"> [0192] Rules and limits 1414 determine whether sensor values are out of bounds, which may indicate sensor failures. In addition, the rules and limits 1414 may indicate that sensor values cannot be trusted when parameters such as current and voltage are outside of predetermined limits. For example only, if the AC voltage sags, such as during a brownout, data taken during that time may be discarded as unreliable. </p><p id="p0185" num="0185"> [0193] De-bouncing and counter holds 1418 may store counts of anomaly detection. For example only, detection of a single solenoid-operated gas valve malfunction may increment a counter, but not trigger a fault. Only if multiple solenoid-operated gas valve failures are detected is an error signaled. This can eliminate false positives. For example only, a single failure of energy consuming component may cause a corresponding counter to be incremented by one, while detection of proper operation may lead to the corresponding counter being decremented by one. In this way, if faulty operation is prevalent, the counter will eventually increase to a point where an error is signaled. Records and reference files 1422 may store frequency and time domain data establishing baselines for detection and prediction. </p><p id="p0186" num="0186"> [0194] A basic failure-to-function fault may be determined by comparing control line state against operational state based on current and/or power. Basic function may be verified by temperature, and improper operation may contribute to a counter being incremented. This analysis may rely on return air temperature, supply air temperature, liquid line in temperature, voltage, current, real power, control line status, compressor discharge temperature, liquid line out temperature, and ambient temperature. </p><p id="p0187" num="0187"> [0195] Sensor error faults may be detected by checking sensor values for anomalous operation, such as may occur for open-circuit or short-circuit faults. The values for those determinations may be found in the rules and limits 1414. 
<!-- EPO <DP n="45"/>-->
 This analysis may rely on return air temperature, supply air temperature, liquid line in temperature (which may correspond to a temperature of the refrigerant line in the air handler, before or after the expansion valve), control line status, compressor discharge temperature, liquid line out temperature, and ambient temperature. </p><p id="p0188" num="0188"> [0196] When the HVAC system is off, sensor error faults may also be diagnosed. For example, based on control lines indicating that the HVAC system has been off for an hour, processing module 1400 may check whether the compressor discharge temperature, liquid line out temperature, and ambient temperature are approximately equal. In addition, the processing module 1400 may also check that the return air temperature, the supply air temperature, and the liquid line in temperature are approximately equal. </p><p id="p0189" num="0189"> [0197] The processing module 1400 may compare temperature readings and voltages against predetermined limits to determine voltage faults and temperature faults. These faults may cause the processing module 1400 to ignore various faults that could appear present when voltages or temperatures are outside of the predetermined limits. </p><p id="p0190" num="0190"> [0198] The processing module 1400 may check the status of discrete sensors to determine whether specifically-detected fault conditions are present. For example only, the status of condensate, float switch, and floor sensor water sensors are checked. The water sensors may be cross-checked against operating states of the HVAC system. For example only, if the air conditioning system is not running, it would not be expected that the condensate tray would be filling with water. This may instead indicate that one of the water sensors is malfunctioning. Such a determination could initiate a service call to fix the sensor so that it can properly identify when an actual water problem is present. </p><p id="p0191" num="0191">[0199] The processing module 1400 may determine whether the proper sequence of furnace initiation is occurring. This may rely on event and daily accumulation files 1426. The processing module 1400 may perform state sequence decoding, such as by looking at transitions as shown in FIG. 10B and expected times during which those transitions are expected. Detected furnace sequences are compared against a reference case and errors are generated based on exceptions. The furnace sequence may be verified with temperature 
<!-- EPO <DP n="46"/>-->
 readings, such as observing whether, while the burner is on, the supply air temperature is increasing with respect to the return air temperature. The processing module 1400 may also use FFT processing to determine that the sparker or igniter operation and solenoid-operated gas valve operation are adequate. </p><p id="p0192" num="0192"> [0200] The processing module 1400 may determine whether a flame probe or flame sensor is accurately detecting flame. State sequence decoding may be followed by determining whether a series of furnace initiations are performed. If so, this may indicate that the flame probe is not detecting flame and the burner is therefore being shut off. The frequency of retries may increase over time when the flame probe is not operating correctly. </p><p id="p0193" num="0193"> [0201] The processing module 1400 may evaluate heat pump performance by comparing thermal performance against power consumption and unit history. This may rely on equipment configuration data 1410, including compressor maps when available. </p><p id="p0194" num="0194"> [0202] The processing module 1400 may determine refrigerant level of the air conditioning system. For example, the processing module 1400 may analyze the frequency content of the compressor current and extract frequencies at the third, fifth, and seventh harmonics of the power line frequencies. This data may be compared, based on ambient temperature, to historical data from when the air conditioning system was known to be fully charged. Generally, as charge is lost, the surge frequency may decrease. Additional data may be used for reinforcement of a low refrigerant level determination, such as supply air temperature, return air temperature, liquid line in temperature, voltage, real power, control line status, compressor discharge temperature, and liquid line out temperature. </p><p id="p0195" num="0195"> [0203] The processing module 1400 may alternatively determine a low refrigerant charge by monitoring deactivation of the compressor motor by a protector switch, may indicate a low refrigerant charge condition. To prevent false positives, the processing module 1400 may ignore compressor motor deactivation that happens sooner than a predetermined delay after the compressor motor is started, as this may instead indicate another problem, such as a stuck rotor. 
<!-- EPO <DP n="47"/>-->
 [0204] The processing module 1400 may determine the performance of a capacitor in the air handler unit, such as a run capacitor for the circulator blower. Based on return air temperature, supply air temperature, voltage, current, real power, control line status, and FFT data, the processing module 1400 determines the time and magnitude of the start current and checks the start current curve against a reference. In addition, steady state current may be compared over time to see whether an increase results in a corresponding increase in the difference between the return air temperature and the supply air temperature. </p><p id="p0196" num="0196">[0205] Similarly, the processing module 1400 determines whether the capacitor in the compressor/condenser unit is functioning properly. Based on compressor discharge temperature, liquid line out temperature, ambient temperature, voltage, current, real power, control line status, and FFT current data, control determines a time and magnitude of start current. This start current is checked against a reference in the time and/or frequency domains. The processing module 1400 may compensate for changes in ambient temperature and in liquid line in temperature. The processing module 1400 may also verify that increases in steady state current result in a corresponding increase in the difference between the compressor discharge temperature and the liquid line in temperature. </p><p id="p0197" num="0197"> [0206] The processing module may calculate and accumulate energy consumption data over time. The processing module may also store temperatures on a periodic basis and at the end of heat and cool cycles. In addition, the processing module 1400 may record lengths of run times. An accumulation of run times may be used in determining the age of wear items, which may benefit from servicing, such as oiling, or preemptive replacing. </p><p id="p0198" num="0198">[0207] The processing module 1400 may also grade the homeowner's equipment. The processing module 1400 compares heat flux generated by the HVAC equipment against energy consumption. The heat flux may be indicated by return air temperature and/or indoor temperature, such as from a thermostat. The processing module 1400 may calculate the envelope of the residence to determine the net flux. The processing module 1400 may compare the 
<!-- EPO <DP n="48"/>-->
 equipment's performance, when adjusted for residence envelope, against other similar systems. Significant deviations may cause an error to be indicated. </p><p id="p0199" num="0199">[0208] The processing module 1400 uses a change in current or power and the type of circulator blower motor to determine the change in load. This change in load can be used to determine whether the filter is dirty. The processing module 1400 may also use power factor, which may be calculated based on the difference in phase between voltage and current. Temperatures may be used to verify reduced flow and eliminate other potential reasons for observed current or power changes in the circulator blower motor. The processing module 1400 may also determine when an evaporator coil is closed. The processing module 1400 uses a combination of loading and thermal data to identify the signature of a coil that is freezing or frozen. This can be performed even when there is no direct temperature measurement of the coil itself. </p><p id="p0200" num="0200"> [0209] FFT analysis may show altered compressor load from high liquid fraction. Often, a frozen coil is caused by a fan failure, but the fan failure itself may be detected separately. The processing module 1400 may use return air temperature, supply air temperature, liquid line in temperature, voltage, current, real power, and FFT data from both the air handler unit and the compressor condenser unit. In addition, the processing module 1400 may monitor control line status, switch statuses, compressor discharge temperature, liquid line out temperature, and ambient temperature. When a change in loading occurs that might be indicative of a clogged filter, but the change happened suddenly, a different cause may be to blame. </p><p id="p0201" num="0201"> [0210] The processing module 1400 identifies a condenser blockage by examining the approach temperature, which is the difference between the liquid line out temperature and the ambient temperature. When the refrigerant has not been sufficiently cooled from the condenser discharge temperature (the input to the condenser) to the liquid line out temperature (output of the condenser), adjusted based on ambient temperature, the condenser may be blocked. Other data can be used to exclude other possible causes of this problem. The other data may include supply air temperature, return air temperature, voltage, current, real power, FFT data, and control line status both of the air handler unit and the compressor condenser unit. 
<!-- EPO <DP n="49"/>-->
 [0211] The processing module 1400 determines whether the installed equipment is oversized for the residence. Based on event and daily accumulation files, the processing module evaluates temperature slopes at the end of the heating and/or cooling run. Using run time, duty cycle, temperature slopes, ambient temperature, and equipment heat flux versus home flux, appropriateness of equipment sizing can be determined. When equipment is oversized, there are comfort implications. For example, in air conditioning, short runs do not circulate air sufficiently, so moisture is not pulled out of the air. Further, the air conditioning system may never reach peak operating efficiency during a short cycle. </p><p id="p0202" num="0202"> [0212] The processing module 1400 evaluates igniter positive temperature coefficient based on voltage, current, real power, control line status, and FFT data from the air handler unit. The processing module compares current level and slope during warm-up to look for increased resistance. Additionally, the processing module may use FFT data on warm-up to detect changes in the curve shape and internal arcing. </p><p id="p0203" num="0203"> [0213] The processing module also evaluates igniter negative temperature coefficient based on voltage, current, real power, control line status, and FFT data from the air handler unit. The processing module 1400 compares current level and slope during warm-up to look for increased resistance. The processing module 1400 checks initial warm-up and trough currents. In addition, the processing module 1400 may use FFT data corresponding to warm-up to detect changes in the curve shape and internal arcing. </p><p id="p0204" num="0204"> [0214] The processing module 1400 can also evaluate the positive temperature coefficient of a nitride igniter based on voltage, current, real power, control line status, and FFT data from the air handler unit. The processing module 1400 compares voltage level and current slope during warm-up to look for increased resistance. In addition, the processing module 1400 uses FFT data corresponding to warm-up to detect changes in the curve shape, drive voltage pattern, and internal arcing. Changes in drive voltage may indicate igniter aging, so those adjustments should be distinguished from changes to compensate for gas content and other furnace components. 
<!-- EPO <DP n="50"/>-->
 [0215] Referring now to FIG. 16A, a table depicts example faults and features, with respect to the air handler unit, that can be detected and/or predicted. Each row corresponds to a fault or feature that may be detected or predicted, and an asterisk is located in each column used to make the detection or prediction. For both detection and prediction, some data may be used as the primary data for making the determination, while other data is used for compensation. Temperatures and voltages are used to perform compensation for those rows having an asterisk in the corresponding column. </p><p id="p0205" num="0205">[0216] The primary columns include timing of when events are detected, time domain current information, temperatures (including residence temperature as measured by the thermostat), pressures (such as refrigerant system pressures and/or air pressures), FFT data, and direct detection. Direct detection may occur when a status or control line directly indicates the fault or feature, such as when a water sensor indicates an overfull condensate tray. </p><p id="p0206" num="0206">[0217] Referring now to FIG. 16B, a table depicts example faults and features, with respect to the compressor/condenser unit, that can be detected and/or predicted. In FIG. 16B, outside ambient temperature and voltages may be used to compensate primary data. </p><p id="p0207" num="0207"> [0218] The foregoing description is merely illustrative in nature and is in no way intended to limit the disclosure, its application, or uses. The broad teachings of the disclosure can be implemented in a variety of forms. Therefore, while this disclosure includes particular examples, the true scope of the disclosure should not be so limited since other modifications will become apparent upon a study of the drawings, the specification, and the following claims. For purposes of clarity, the same reference numbers will be used in the drawings to identify similar elements. As used herein, the phrase at least one of A, B, and C should be construed to mean a logical (A or B or C), using a nonexclusive logical OR. It should be understood that one or more steps within a method may be executed in different order (or concurrently) without altering the principles of the present disclosure. </p><p id="p0208" num="0208"> [0219] As used herein, the term module may refer to, be part of, or include an Application Specific Integrated Circuit (ASIC); an electronic circuit; a combinational logic circuit; a field programmable gate array (FPGA); a processor 
<!-- EPO <DP n="51"/>-->
 (shared, dedicated, or group) that executes code; other suitable hardware components that provide the described functionality; or a combination of some or all of the above, such as in a system-on-chip. The term module may include memory (shared, dedicated, or group) that stores code executed by the processor. For example only, the processor may be a 16-bit PIC24 MCU microprocessor manufactured by Michrochip Technology, Inc. </p><p id="p0209" num="0209">[0220] The term code, as used above, may include software, firmware, and/or microcode, and may refer to programs, routines, functions, classes, and/or objects. The term shared, as used above, means that some or all code from multiple modules may be executed using a single (shared) processor. In addition, some or all code from multiple modules may be stored by a single (shared) memory. The term group, as used above, means that some or all code from a single module may be executed using a group of processors. In addition, some or all code from a single module may be stored using a group of memories. </p><p id="p0210" num="0210"> [0221] The apparatuses and methods described herein may be implemented by one or more computer programs executed by one or more processors. The computer programs include processor-executable instructions that are stored on a non-transitory tangible computer readable medium. The computer programs may also include stored data. Non-limiting examples of the non-transitory tangible computer readable medium are nonvolatile memory, magnetic storage, and optical storage. 
</p></description><claims mxw-id="PCLM44851698" ref-ucid="WO-2012118830-A2" lang="EN" load-source="patent-office"><claim-statement><!-- EPO <DP n="52"/>-->CLAIMS What is claimed is: </claim-statement><claim id="clm-0001" num="1"><claim-text>1 . A monitoring system for a heating, ventilation, and air conditioning (HVAC) system of a residence, the monitoring system comprising: </claim-text><claim-text> a monitoring device installed at the residence, wherein the monitoring device (i) measures an aggregate current supplied to a plurality of components of the HVAC system and (ii) transmits current data based on the measured aggregate current; and </claim-text><claim-text> a server, located remotely from the residence, that receives the transmitted current data and, based on the received current, assesses whether a failure has occurred in a first component of the plurality of components of the HVAC system and assesses whether a failure has occurred in a second component of the plurality of components of the HVAC system. </claim-text></claim><claim id="clm-0002" num="2"><claim-text>2. The monitoring system of claim 1 wherein the monitoring device samples the aggregate current over a time period, performs a frequency domain analysis on the samples over the time period, and transmits frequency domain data to the server. </claim-text></claim><claim id="clm-0003" num="3"><claim-text>3. The monitoring system of claim 2 wherein the server identifies transition points in the current data and analyzes the frequency domain data around the identified transition points. </claim-text></claim><claim id="clm-0004" num="4"><claim-text>4. The monitoring system of claim 2 wherein the server determines whether the failure has occurred in the first component by comparing the frequency domain data to baseline data. </claim-text></claim><claim id="clm-0005" num="5"><claim-text>5. The monitoring system of claim 4 wherein the server adapts the baseline data based on normal operation of the HVAC system. <!-- EPO <DP n="53"/>--> </claim-text></claim><claim id="clm-0006" num="6"><claim-text>6. The monitoring system of claim 2 wherein the monitoring device determines a single current value for the time period and transmits the single current value to the server without transmitting the samples to the server. </claim-text></claim><claim id="clm-0007" num="7"><claim-text>7. The monitoring system of claim 6 wherein the single current value is one of a root mean squared current, an average current, and a peak current. </claim-text></claim><claim id="clm-0008" num="8"><claim-text>8. The monitoring system of claim 1 wherein the monitoring device measures the aggregate current over a series of consecutive time periods and transmits a frame of information to the server for each of the time periods. </claim-text></claim><claim id="clm-0009" num="9"><claim-text>9. The monitoring system of claim 8 wherein, for a first period of the time periods, the monitoring device transmits a first frame including (i) a single value of the aggregate current during the first period and (ii) a frequency domain representation of the aggregate current during the first period. </claim-text></claim><claim id="clm-0010" num="10"><claim-text>10. The monitoring system of claim 9 wherein the first frame does not include individual samples of the aggregate current. </claim-text></claim><claim id="clm-0011" num="11"><claim-text>1 1 . The monitoring system of claim 9 wherein the first frame includes a voltage measurement of power arriving at the HVAC system, a temperature measurement, and a representation of status of HVAC control lines during the first period. </claim-text></claim><claim id="clm-0012" num="12"><claim-text>12. The monitoring system of claim 1 wherein the monitoring device records control signals from a thermostat and transmits information based on the control signals to the server. </claim-text></claim><claim id="clm-0013" num="13"><claim-text>13. The monitoring system of claim 12 wherein the control signals include at least one of call for heat, call for fan, and call for cool. </claim-text></claim><claim id="clm-0014" num="14"><claim-text>14. The monitoring system of claim 1 wherein the monitoring device is located in close proximity to an air handler unit of the HVAC system. <!-- EPO <DP n="54"/>--> </claim-text></claim><claim id="clm-0015" num="15"><claim-text>15. The monitoring system of claim 14 further comprising a second monitoring device located in close proximity to a second enclosure of the HVAC system, wherein the second enclosure includes at least one of a compressor and a heat pump heat exchanger. </claim-text></claim><claim id="clm-0016" num="16"><claim-text>16. The monitoring system of claim 15 wherein the second monitoring device (i) measures an aggregate current supplied to a plurality of components of the second enclosure and (ii) transmits current data based on the measured aggregate current to the server. </claim-text></claim><claim id="clm-0017" num="17"><claim-text>17. The monitoring system of claim 16 wherein the second monitoring device transmits the current data to the server via the monitoring device. </claim-text></claim><claim id="clm-0018" num="18"><claim-text>18. The monitoring system of claim 1 wherein the monitoring device includes a switch that selectively interrupts an enabling signal to a compressor of the HVAC system. </claim-text></claim><claim id="clm-0019" num="19"><claim-text>19. The monitoring system of claim 18 wherein the monitoring device interrupts the enabling signal in response to at least one of (i) a value from a water sensor, (ii) a locked rotor condition of the compressor, and (iii) a command from the server. </claim-text></claim><claim id="clm-0020" num="20"><claim-text>20. The monitoring system of claim 1 wherein the server (i) generates an alert in response to determining presence of a fault of either the first component or the second component and (ii) sends the alert to at least one of a homeowner of the residence and an installation contractor. </claim-text></claim><claim id="clm-0021" num="21"><claim-text>21 . The monitoring system of claim 1 wherein the server (i) selectively predicts an impeding failure of the first component based on the received current data, (ii) selectively predicts an impeding failure of the second component based on the received current data, and (iii) generates an alert in response to prediction of impending failure. <!-- EPO <DP n="55"/>--> </claim-text></claim><claim id="clm-0022" num="22"><claim-text>22. The monitoring system of claim 1 wherein the plurality of components of the HVAC system includes at least two components selected from: a flame sensor, a solenoid-operated gas valve, a hot surface igniter, a circulator blower motor, an inducer blower motor, a compressor, a pressure switch, a capacitor, an air filter, a condensing coil, an evaporating coil, and a contactor. </claim-text></claim></claims><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
