<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2682829-A2" country="EP" doc-number="2682829" kind="A2" date="20140108" family-id="48740888" file-reference-id="312919" date-produced="20180824" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146584923" ucid="EP-2682829-A2"><document-id><country>EP</country><doc-number>2682829</doc-number><kind>A2</kind><date>20140108</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-13173899-A" is-representative="YES"><document-id mxw-id="PAPP154847115" load-source="docdb" format="epo"><country>EP</country><doc-number>13173899</doc-number><kind>A</kind><date>20130626</date><lang>EN</lang></document-id><document-id mxw-id="PAPP212131050" load-source="docdb" format="original"><country>EP</country><doc-number>13173899.9</doc-number><date>20130626</date><lang>EN</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140548435" ucid="JP-2012149352-A" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>2012149352</doc-number><kind>A</kind><date>20120703</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-1880667877" load-source="docdb">G06F   9/455       20060101ALI20161028BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1880667878" load-source="docdb">G05B  19/042       20060101AFI20161028BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1697566927" load-source="docdb" scheme="CPC">G06F   9/45533     20130101 LI20180216BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1697566928" load-source="docdb" scheme="CPC">G05B  19/042       20130101 LI20180216BHEP        </classification-cpc><classification-cpc mxw-id="PCL2001017102" load-source="docdb" scheme="CPC">G05B  15/02        20130101 FI20140102BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132359402" lang="DE" load-source="patent-office">Prozesssteuervorrichtung, Prozesssteuersystem, und Prozesssteuerverfahren</invention-title><invention-title mxw-id="PT132359403" lang="EN" load-source="patent-office">Process control device, process control system, and process control method</invention-title><invention-title mxw-id="PT132359404" lang="FR" load-source="patent-office">Dispositif, système et procédé de commande de processus</invention-title><citations><patent-citations><patcit mxw-id="PCIT242942626" load-source="docdb" ucid="JP-4399773-B2"><document-id format="epo"><country>JP</country><doc-number>4399773</doc-number><kind>B2</kind><date>20100120</date></document-id><sources><source name="APP" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT242942624" load-source="docdb" ucid="US-20070078980-A1"><document-id format="epo"><country>US</country><doc-number>20070078980</doc-number><kind>A1</kind><date>20070405</date></document-id><sources><source name="APP" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT242942625" load-source="docdb" ucid="WO-2005050336-A1"><document-id format="epo"><country>WO</country><doc-number>2005050336</doc-number><kind>A1</kind><date>20050602</date></document-id><sources><source name="APP" created-by-npl="N"/></sources></patcit></patent-citations></citations></technical-data><parties><applicants><applicant mxw-id="PPAR919544330" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>YOKOGAWA ELECTRIC CORP</last-name><address><country>JP</country></address></addressbook></applicant><applicant mxw-id="PPAR919532647" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>YOKOGAWA ELECTRIC CORPORATION</last-name></addressbook></applicant><applicant mxw-id="PPAR919006874" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Yokogawa Electric Corporation</last-name><iid>101233367</iid><address><street>9-32, Naka-cho 2-chome Musashino-shi</street><city>Tokyo 180-8750</city><country>JP</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR919533721" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>KANBE TAKAHIRO</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919533976" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>KANBE, TAKAHIRO</last-name></addressbook></inventor><inventor mxw-id="PPAR919005688" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>KANBE, TAKAHIRO</last-name><address><street>c/o Yokogawa Electric Corporation 9-32, Naka-cho; 2-chome, Musashino-shi</street><city>Tokyo 180-8750</city><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919515489" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>YAMAMOTO MITSUHIRO</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919531754" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>YAMAMOTO, MITSUHIRO</last-name></addressbook></inventor><inventor mxw-id="PPAR919008116" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>YAMAMOTO, MITSUHIRO</last-name><address><street>c/o Yokogawa Electric Corporation 9-32, Naka-cho; 2-chome, Musashino-shi</street><city>Tokyo 180-8750</city><country>JP</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR919010069" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Henkel, Feiler &amp; Hänzel</last-name><iid>100060244</iid><address><street>Patentanwälte Maximiliansplatz 21</street><city>80333 München</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><designated-states><ep-contracting-states><country mxw-id="DS549742526" load-source="docdb">AL</country><country mxw-id="DS549907630" load-source="docdb">AT</country><country mxw-id="DS549742527" load-source="docdb">BE</country><country mxw-id="DS549813144" load-source="docdb">BG</country><country mxw-id="DS549812421" load-source="docdb">CH</country><country mxw-id="DS549740308" load-source="docdb">CY</country><country mxw-id="DS549740309" load-source="docdb">CZ</country><country mxw-id="DS549740783" load-source="docdb">DE</country><country mxw-id="DS549742528" load-source="docdb">DK</country><country mxw-id="DS549742533" load-source="docdb">EE</country><country mxw-id="DS549814957" load-source="docdb">ES</country><country mxw-id="DS549813145" load-source="docdb">FI</country><country mxw-id="DS549813150" load-source="docdb">FR</country><country mxw-id="DS549740784" load-source="docdb">GB</country><country mxw-id="DS549742534" load-source="docdb">GR</country><country mxw-id="DS549740785" load-source="docdb">HR</country><country mxw-id="DS549740310" load-source="docdb">HU</country><country mxw-id="DS549812426" load-source="docdb">IE</country><country mxw-id="DS549742535" load-source="docdb">IS</country><country mxw-id="DS549813151" load-source="docdb">IT</country><country mxw-id="DS549742536" load-source="docdb">LI</country><country mxw-id="DS549740786" load-source="docdb">LT</country><country mxw-id="DS549907631" load-source="docdb">LU</country><country mxw-id="DS549813152" load-source="docdb">LV</country><country mxw-id="DS549740787" load-source="docdb">MC</country><country mxw-id="DS549907632" load-source="docdb">MK</country><country mxw-id="DS549907633" load-source="docdb">MT</country><country mxw-id="DS549907634" load-source="docdb">NL</country><country mxw-id="DS549812427" load-source="docdb">NO</country><country mxw-id="DS549907635" load-source="docdb">PL</country><country mxw-id="DS549814986" load-source="docdb">PT</country><country mxw-id="DS549740596" load-source="docdb">RO</country><country mxw-id="DS549814987" load-source="docdb">RS</country><country mxw-id="DS549907636" load-source="docdb">SE</country><country mxw-id="DS549740789" load-source="docdb">SI</country><country mxw-id="DS549812428" load-source="docdb">SK</country><country mxw-id="DS549812429" load-source="docdb">SM</country><country mxw-id="DS549742541" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA128673095" lang="EN" load-source="patent-office"><p id="pa01" num="0001">A process control device (20, 20a, 20b) according to one aspect of the present invention is configured to control an industrial process implemented in a plant. The process control device includes: a virtualizer (22) configured to run over a hardware (21) in lieu of the hardware; and first and second controllers (23a, 24a, 23b, 24b) configured to run over the virtualizer and control operations of a plurality of field apparatuses configured to perform at least one of measurement and operation which are required to control the industrial process; an input distributor (41) included in the virtualizer, the input distributor being configured to distribute a signal output from the filed apparatus to the first and second controllers; and an output acquirer (42, 43) included in the virtualizer, and the output acquirer being configured to acquire outputs of the first and second controllers, and output any one of the outputs to at least one of the field apparatuses.
<img id="iaf01" file="imgaf001.tif" wi="78" he="111" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA128737240" lang="EN" source="EPO" load-source="docdb"><p>A process control device (20, 20a, 20b) according to one aspect of the present invention is configured to control an industrial process implemented in a plant. The process control device includes: a virtualizer (22) configured to run over a hardware (21) in lieu of the hardware; and first and second controllers (23a, 24a, 23b, 24b) configured to run over the virtualizer and control operations of a plurality of field apparatuses configured to perform at least one of measurement and operation which are required to control the industrial process; an input distributor (41) included in the virtualizer, the input distributor being configured to distribute a signal output from the filed apparatus to the first and second controllers; and an output acquirer (42, 43) included in the virtualizer, and the output acquirer being configured to acquire outputs of the first and second controllers, and output any one of the outputs to at least one of the field apparatuses.</p></abstract><description mxw-id="PDES63959083" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001">BACKGROUND OF THE INVENTION</heading><heading id="h0002">Field of the Invention</heading><p id="p0001" num="0001">The present invention relates to a process control device, a process control system, and a process control method.</p><p id="p0002" num="0002">Priority is claimed on Japanese Patent Application No. <patcit id="pcit0001" dnum="JP2012149352A"><text>2012-149352, filed July 3, 2012</text></patcit>, the content of which is incorporated herein by reference.</p><heading id="h0003">Description of the Related Art</heading><p id="p0003" num="0003">Conventionally, process control systems that control various quantities of states (such as the pressure, the temperature, the flow amount, or the like) for industrial processes performed in plants have been established, and sophisticated automatic operations have been implemented. As shown in, for example, <figref idrefs="f0007">FIG. 7</figref> of Japanese Patent No. <patcit id="pcit0002" dnum="JP4399773B"><text>4399773</text></patcit> (hereinafter, "Patent Document 1"), <figref idrefs="f0001">FIG. 1</figref> of International Publication No. <patcit id="pcit0003" dnum="WO2005050336A"><text>2005/050336</text></patcit> (hereinafter, "Patent Document 2"), and <figref idrefs="f0001">FIG. 1</figref> of United States Patent Application Publication No. <patcit id="pcit0004" dnum="US20070078980A"><text>US 2007/0078980</text></patcit> (hereinafter, "Patent Document 3"), process control systems of the related art have a configuration such that multiple sensors such as a flowmeter and a thermometer, and an actuator are coupled directly to a controller. The controller controls the actuator in accordance with results of the detection by the sensors, thereby controlling the above various quantities of states.</p><p id="p0004" num="0004">Here, plants are often designed to have an approximately 30-year lifetime. On the other hand, various devices constituting a process control system (such as the above controller, the sensors, and the actuator) are constituted of versatile electronic components in many cases. For this reason, the lifetimes of the devices depend on the<!-- EPO <DP n="2"> --> lifetimes of the electronic components, and are therefore approximately 10 years. A sensor alone can be exchanged when the lifetime thereof expires. However, versatile electronic components are mounted on an I/O card that is an interface of the controller, thereby limiting the lifetime of the controller to approximately 10 years, and also limiting the lifetime of the process control system.</p><p id="p0005" num="0005">Thus, various devices constituting the process control system have shorter lifetimes than the plant. Therefore, it is necessary to replace the process control system before the lifetime of the plant expires. For this reason, as shown in <figref idrefs="f0001">FIG. 1</figref> of Patent Document 1, <figref idrefs="f0002">FIG. 2</figref> of Patent Document 2, and <figref idrefs="f0002">FIG. 2</figref> of Patent Document 3, it is conceivable to make a configuration such that various devices constituting a process control system are connected to the same network, and the above I/O card is removed, thereby extending the lifetime of the process control system.</p><p id="p0006" num="0006">Regarding various devices constituting a process control system, versatile electronic components are used for other parts than the I/O card of the controller. Additionally, recently, an allowable period for providing software used for the process control system, such as operating systems (OS) and application programs, has been becoming shorter to approximately 5 to 10 years. For this reason, as explained above, even if the lifetime of the process control system is extended as a result of removing the I/O card, it is eventually necessary to replace the process control system from the view points of both software and hardware.</p><p id="p0007" num="0007">Further, recently, there has been increasing demands for not only mainlining the functions of process control systems, but also aggressively enhancing the functions thereof, for various purposes (such as to save energy, to comply with environmental regulations, or to enhance the production efficiency). To meet such demands, it is necessary to replace the process control system already established in a plant with a new<!-- EPO <DP n="3"> --> process control system before the lifetime of the plant expires.</p><p id="p0008" num="0008">Here, when a process control system is replaced, it is preferable to employ a reliable and safe replacement procedure such that controllability before and after the replacement is ensured, and thereafter enhancement of the existing functions or installment of new functions is performed. For this reason, it is necessary to ensure that the controllability of the process control system before the replacement is maintained even after the replacement. For this reason, when a process control system is replaced, it is necessary to make sufficient evaluation of the controllability of the process control system after the replacement, thereby requiring a long time and a large cost for the evaluation.</p><p id="p0009" num="0009">Regarding the replacement of the process control system, it is conceivable to temporarily make the existing system and the new system co-exist to evaluate the controllability of each system, and remove the existing system after the evaluation, thereby reducing the evaluating time. In the case where the existing and new systems co-exist, however, it is necessary to manage various devices used for each system (such as controllers) by different tag names, thereby causing difficulty with operation after the removal of the existing system.</p><heading id="h0004">SUMMARY</heading><p id="p0010" num="0010">A process control device (20, 20a, 20b) according to one aspect of the present invention is configured to control an industrial process implemented in a plant. The process control device includes: a virtualizer (22) configured to run over a hardware (21) in lieu of the hardware; and first and second controllers (23a, 24a, 23b, 24b) configured to run over the virtualizer and control operations of a plurality of field apparatuses configured to perform at least one of measurement and operation which are required to<!-- EPO <DP n="4"> --> control the industrial process; an input distributor (41) included in the virtualizer, the input distributor being configured to distribute a signal output from the filed apparatus to the first and second controllers; and an output acquirer (42, 43) included in the virtualizer, and the output acquirer being configured to acquire outputs of the first and second controllers, and output any one of the outputs to at least one of the filed apparatuses.</p><p id="p0011" num="0011">Regarding the above process control device, the output acquirer may include an output comparator configured (42a) to compare the outputs of the first and second controllers.</p><p id="p0012" num="0012">Regarding the above process control device, each of the first and second controllers may include an operating system configured to run over the virtualizer and an application configured to run over the operating system.</p><p id="p0013" num="0013">A process control system (1, 2) according to another aspect of the present invention is configured to control an industrial process implemented in a plant, the process control system includes: a network (N1) provided in the plant; a plurality of field apparatuses (10) connected to the network, the plurality of field apparatuses being configured to perform at least one of measurement and operation which are required to control the industrial process; and a process control device (20, 20a, 20b) connected to the network. The process control device includes: a virtualizer (22) configured to run over a hardware (21) in lieu of the hardware; and first and second controllers (23 a, 24a, 23b, 24b) configured to run over the virtualizer and control operations of the field apparatuses; an input distributor (41) included in the virtualizer, the input distributor being configured to distribute a signal output from the filed apparatus to the first and second controllers; and an output acquirer (42, 43) included in the virtualizer, and the output acquirer being configured to acquire outputs of the first and second controllers, and output any one of the outputs to at least one of the filed apparatuses.<!-- EPO <DP n="5"> --></p><p id="p0014" num="0014">The above process control system may further include an output comparison device (50) connected to the network, the output comparison device being configured to compare the outputs of the first and second controllers acquired by the output acquirer of the process control device.</p><p id="p0015" num="0015">Regarding the process control system, the output acquirer of the process control device may be configured to transmit the outputs of the first and second controllers to the output comparison device via the network.</p><p id="p0016" num="0016">A process control method for a first process control device according to one aspect of the present invention includes: acquiring first data measured by a first field apparatus of a plurality of field apparatuses; distributing the first data to first and second controllers included in the first process control device; acquiring from the first and second controllers, first and second signals for controlling the field apparatuses, which are generated by the first and second controllers based on the first data; and outputting at least one of the first and second signals to a second field apparatus of the field apparatuses.</p><p id="p0017" num="0017">The process control method may further include, after outputting the at least one of the first and second signals, controlling the second field apparatus based on the at least one of the first and second signals.</p><p id="p0018" num="0018">The process control method may further include, before outputting the at least one of the first and second signals, comparing the first and second signals to determine whether or not to terminate the first controller.</p><p id="p0019" num="0019">Regarding the process control method, comparing the first and second signals may include: acquiring a difference in controllability between the first and second signals; and determining whether or not the difference is within a reference range. The process control method may further include, if the difference is within the reference<!-- EPO <DP n="6"> --> range, terminating the first operating system.</p><p id="p0020" num="0020">The process control method may further include: before acquiring the first data, installing a first software in the first controller; and before acquiring the first data, installing in the second controller, a second software that is newer in version than the first software.</p><p id="p0021" num="0021">Regarding the process control method, outputting the at least one of the first and second signals may include outputting the second signal after terminating the first controller.</p><p id="p0022" num="0022">Regarding the process control method, acquiring the first data may include acquiring the first data from the first field apparatus via a network to which the first process control device and the field apparatuses are connected. Outputting the at least one of the first and second signals may include outputting the at least one of the first and second signals to the second field apparatus via the network.</p><p id="p0023" num="0023">The process control method may further include: before outputting at least one of the first and second signals, outputting the first and second signals to an output comparison device connected to the network; acquiring via the network, a result of comparison of whether or not a difference in controllability between the first and second signals is within a reference range, the comparison being performed by the output comparison device; and if the result indicates that the difference is within the reference range, terminating the first controller.</p><p id="p0024" num="0024">The process control method may further include: before acquiring the first data, replacing with the first process control device, a second process control device connected to a network to which the first process control device and the field apparatuses are connected, the second process control device including the first controller.</p><p id="p0025" num="0025">According to the aspects of the present invention, it is possible to easily evaluate<!-- EPO <DP n="7"> --> controllability at the time of replacing an existing system with a new system, using the outputs of the first and second controllers acquired by the output acquires, while any one of the first and second controllers controls the quantities of states in an industrial process.</p><heading id="h0005">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p0026" num="0026">The above features and advantages of the present invention will be more apparent from the following description of certain preferred embodiments taken in conjunction with the accompanying drawings.
<ul><li><figref idrefs="f0001">FIG. 1</figref> is a block diagram illustrating a primary part of a process control system according to a first embodiment of the present invention.</li><li><figref idrefs="f0002">FIGS. 2A to 2C</figref> are diagrams schematically illustrating a procedure of replacing a controller according to the first embodiment of the present invention.</li><li><figref idrefs="f0003">FIG. 3</figref> is a flowchart illustrating operation of the controller according to the first embodiment of the present invention.</li><li><figref idrefs="f0004">FIGS. 4A and 4B</figref> are diagrams illustrating flow of data in the controller according to the first embodiment of the present invention.</li><li><figref idrefs="f0005">FIG. 5</figref> is a block diagram illustrating a primary part of a process control system according to a second embodiment of the present invention.</li><li><figref idrefs="f0006">FIG. 6</figref> is a diagram illustrating flow of data in the controller according to the second embodiment of the present invention.</li><li><figref idrefs="f0007">FIGS. 7A to 7C</figref> are diagrams illustrating first application of the process control systems of the first and second embodiments of the present invention.</li><li><figref idrefs="f0008">FIGS. 8A to 8C</figref> are diagrams illustrating second application of the process control systems of the first and second embodiments of the present invention.</li></ul><!-- EPO <DP n="8"> --></p><heading id="h0006">DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS</heading><p id="p0027" num="0027">The present invention will now be described herein with reference to illustrative embodiments. The accompanying drawings explain process control systems in the embodiments. The size, the thickness, and the like of each illustrated portion might be different from those of each portion of an actual process control system.</p><p id="p0028" num="0028">Those skilled in the art will recognize that many alternative embodiments can be accomplished using the teachings of the present invention and that the present invention is not limited to the embodiments illustrated herein for explanatory purposes.</p><p id="p0029" num="0029">Hereinafter, process control systems according to embodiments of the present invention are explained in detail with reference to drawings.</p><heading id="h0007">(First Embodiment)</heading><p id="p0030" num="0030"><figref idrefs="f0001">FIG. 1</figref> is a block diagram illustrating a process control system according to a first embodiment of the present invention. As shown in <figref idrefs="f0001">FIG. 1</figref>, a process control system 1 of the first embodiment includes: a field apparatus 10; a controller 20 (process control device); and a monitoring device 30. The controller 20 controls the field apparatus 10 while being monitored by the monitoring device 30, thereby controlling an industrial process implemented in a plant (not shown).</p><p id="p0031" num="0031">Here, the field apparatus 10 and the controller 20 are connected to a field network N1, and the controller 20 and the monitoring device 30 are connected to a control network N2. The field network N1 is a wired network provided in a site of the plant. On the other hand, the control network N2 is a wired network connecting the site of the plant and the monitoring room. Here, the field network N1 and the control network N2 may be wireless networks.</p><p id="p0032" num="0032">The field apparatus 10 includes, for example, a sensor apparatus such as a flowmeter and a thermometer, a valve apparatus such as a flow amount control valve and<!-- EPO <DP n="9"> --> an on-off valve, an actuator apparatus such as a fan and a motor, and other apparatuses provided in the site of the plant. Here, for easy understanding, a sensor apparatus 11 (first filed apparatus) and a valve apparatus 12 (second field apparatus), which are included in the field apparatus 10 provided in the plant, are shown in <figref idrefs="f0001">FIG. 1</figref>. The sensor apparatus 11 measures the amount of flow of a fluid. The valve apparatus 12 controls the amount of flow of the fluid.</p><p id="p0033" num="0033">The field apparatus 10 operates in accordance with control data transmitted from the controller 20 via the field network N1. For example, in a case where a request for transmitting measurement data (data indicating a result of measurement of the amount of flow of the fluid) is transmitted from the controller 20 to the sensor apparatus 11, the sensor apparatus 11 transmits the measurement data to the controller 20 via the field network N1. Additionally, in a case where control data (data that controls the degree of opening of the valve) is transmitted from the controller 20 to the valve, the valve apparatus 12 sets the degree of opening of the valve through which the fluid passes, in accordance with the instruction given by the control data.</p><p id="p0034" num="0034">The controller 20 collects measurement data from the field apparatus 10 (such as the sensor apparatus 11) while being monitored by the monitoring device 30, and controls the field apparatus 10 (such as the valve apparatus 12) based on the collected measurement data. Here, the function of the controller 20 is implemented by a computer reading software and thus software and hardware resources cooperating.</p><p id="p0035" num="0035">Specifically, the function of the controller 20 is implemented by a hardware 21, which includes an MPU (micro-processing unit), a memory, and the like, executing an installed program. Here, a program for implementing a hypervisor 22 (virtualizer); a program for implementing an operating system (OS) 23a (first controller); a program for implementing an operating system 23b (second controller); a program for implementing<!-- EPO <DP n="10"> --> an application 24a (first controller); and a program for implementing an application 24b (second controller) have been installed in the controller 20.</p><p id="p0036" num="0036">The above hypervisor 22 virtually runs over the hardware 21 in lieu of the hardware. The hypervisor 22 is provided for the purpose of replacing the hardware 21 without changing the operating systems 23a and 23b, and the applications 24a and 24b. Additionally, the hypervisor 22 is provided for another purpose of causing the operating system 23a and the application 24a to run independently from the operating system 23b and the application 24b.</p><p id="p0037" num="0037">In other words, even when the hardware 21 is replaced with a hardware having a MPU architecture, the memory size, the cache size, a memory map, a device interface, and the like, which differ from those of the replaced hardware 21, the hypervisor 22 provides to the operating systems 23a and 23b, a similar interface to that before the replacement. Thus, the operating systems 23a and 23b, which run over the hypervisor 22, are not affected by the replacement of the hardware 21. Therefore, the same operating systems 23a and 23b and the same applications 24a and 24b as used before the replacement can run over the new hardware 21.</p><p id="p0038" num="0038">Additionally, by the provision of the hypervisor 22, the operating systems 23a and 23b, and the applications 24a and 24b can run as follows.
<ul><li>· Only the operating system 23a and the application 24a run</li><li>· Only the operating system 23b and the application 24b run</li><li>· The operating system 23 a and the application 24a run independently from the operating system 23b and the application 24b</li></ul></p><p id="p0039" num="0039">As shown in <figref idrefs="f0001">FIG. 1</figref>, the hypervisor 22 includes an input distributor 41 (distributor) and an output acquirer 42 (acquirer). The input distributor 41 distributes measurement data and status data (first data) collected from the field apparatus 10 (such<!-- EPO <DP n="11"> --> as the sensor apparatus 11) to the applications 24a and 24b via the operating systems 23 a and 23b, respectively. The output acquirer 42 acquires two control data (first and second signals) respectively output from the applications 24a and 24b via the operating systems 23a and 23b. Then, the output acquirer 42 outputs any one of the two acquired control data (here, the control data output from the application 24a) to the field apparatus 10 (such as the valve apparatus 12). Then, the field apparatus 10 (such as the valve apparatus 12) is controlled based on the output control data. Here, the output acquirer 42 includes an output comparator 42a that compares the two acquired control data (two control data respectively output from the applications 24a and 24b). As will be explained in detail later, the reason that the input distributor 41 and the output acquirer 42 are provided in the hypervisor 22 is to make it easy to evaluate controllability at the time of replacing the existing system with a new system.</p><p id="p0040" num="0040">The operating systems 23a and 23b independently run over the hypervisor 22. For example, the operating systems 23a and 23b perform various managements, such as a process management and a memory management, which are required to cause the applications 24a and 24b to run. The applications 24a and 24b independently run over the operating systems 23a and 23b, respectively. The applications 24a and 24b perform control of the field apparatus 10, which is required for controlling a process (such as collection of measurement data or the like from the sensor apparatus 11, transmission of control data to the valve apparatus 12, and the like).</p><p id="p0041" num="0041">The monitoring device 30 is implemented by, for example, a computer. The monitoring device 30 is operated by an operator and used for monitoring a process. Specifically, the monitoring device 30 monitors or manages operating states of the operating systems 23a and 23b, and the applications 24a and 24b, which run in the controller 20. Then, the monitoring device 30 controls the controller 20 in accordance<!-- EPO <DP n="12"> --> with a result of the monitoring (or in accordance with operational instructions from the operator).</p><p id="p0042" num="0042">Next, a procedure of replacing the controller provided in the process control system 1 having the above configuration is explained. Here, replacement of the controller is performed in a case where the processing performance of the controller is enhanced, in a case where an additional function is added to the controller, or the like. <figref idrefs="f0002">FIGS. 2A to 2C</figref> are diagrams schematically illustrating the procedure of replacing the controller according to the first embodiment of the present invention. Here, the monitoring device 30 and the control network N2 shown in <figref idrefs="f0001">FIG. 1</figref> are omitted in <figref idrefs="f0002">FIGS. 2A to 2C</figref>.</p><p id="p0043" num="0043">It is assumed here that the aforementioned operating systems 23a and the application 24a are software (first software) used by an existing controller before the replacement (the controller 100 shown in <figref idrefs="f0002">FIG. 2A</figref>; a second process control device). Conversely, the aforementioned operating systems 23b and the application 24b are software (second software) to be used by a new controller after the replacement (the controller 20 shown in <figref idrefs="f0001">FIGS. 1</figref>, <figref idrefs="f0002">2B, and 2C</figref>; a first process control device).</p><p id="p0044" num="0044">When the operation of replacing the controller is initiated, first, an operator at a site specifies a controller to be replaced. It is assumed here that the controller 100 shown in <figref idrefs="f0002">FIG. 2A</figref> is specified as the controller to be replaced. The controller 100 is a controller in which the operating system 23a and the application 24a run over the hardware 101.</p><p id="p0045" num="0045">Then, the operator removes the specified existing controller 100 from the field network N1, and connects a new controller 20 to the field network N1. The controller 20 is a controller in which a program for implementing the hypervisor 22, programs for implementing the operating systems 23a and 23b, and programs for implementing the<!-- EPO <DP n="13"> --> applications 24a and 24b have been installed.</p><p id="p0046" num="0046">When the operator turns on the controller 20 after the above work, the installed programs run, and thus the hypervisor 22, the operating systems 23 a and 23b, and the applications 24a and 24b run as shown in <figref idrefs="f0002">FIG. 2B</figref>. Thus, the controller 20 enters a state in which the first software executed by the existing controller 100 (the operating system 23a and the application 24a) is installed in the first controller, and the second software (the operating system 23b and the application 24b) that is newer in version than the first software is installed in the second controller, and the first and second controllers are independently executed.</p><p id="p0047" num="0047"><figref idrefs="f0003">FIG. 3</figref> is a flowchart illustrating operation of the controller according to the first embodiment of the present invention. Additionally, <figref idrefs="f0004">FIGS. 4A and 4B</figref> illustrate flow of data in the controller according to the first embodiment of the present invention. Here, the flowchart shown in <figref idrefs="f0003">FIG. 3</figref> starts when measurement data or status data (first data) collected from the sensor apparatus 11 is input after the operator finishes the replacement work and turns on the controller 20.</p><p id="p0048" num="0048">When the process of the flowchart shown in <figref idrefs="f0003">FIG. 3</figref> starts, first, a process of distributing the measurement data collected from the sensor apparatus 11 to the old and new applications (step S11). Specifically, as shown in <figref idrefs="f0004">FIG. 4A</figref>, the input distributor 41 distributes the measurement data, which is output from the sensor apparatus 11 and is input to the controller 20 via the field network N1, to the applications 24a and 24b via the operating systems 23a and 23b.</p><p id="p0049" num="0049">When the measurement data (first data) collected from the field apparatus 10 (first field apparatus) is input, each of the applications 24a and 24b calculates the amount of control for the valve apparatus 12 (second field apparatus) according to the input measurement data, and outputs control data indicating that amount of control (first and<!-- EPO <DP n="14"> --> second signals for controlling the field apparatuses). Then, a process of acquiring outputs (first and second signals) of the old and new applications (step S12), a process of outputting the acquired output of the old application to the valve apparatus 12 (step S13), and a process of outputting the acquired output (first signal) of the old application to the valve apparatus 12 (step S13), and a process of comparing the outputs of the old and new applications (step S14) are performed sequentially.</p><p id="p0050" num="0050">Specifically, as shown in <figref idrefs="f0004">FIG. 4B</figref>, the acquirer 42 acquires two control data (first and second signals) respectively output from the applications 24a and 24b via the operating systems 23a and 23b. Then, the output acquirer 42 outputs to the valve apparatus 12 via the field network N1, the control data (first signal) output from the application 24a which is one of the two acquired control data. Then, the valve apparatus 12 is controlled based on the control data output from the application 24a. Additionally, the two control data output from the applications 24a and 24b, which are acquired by the output acquirer 42, are input to the output comparator 42a. Then, the output comparator 42a compares control values or output timings of the two control data.</p><p id="p0051" num="0051">Then, the output comparator 42a determines whether or not, as a result of the comparison in step S14, the difference in controllability between the old and new applications is within a predetermined reference value (step S15). If it is determined that the difference in controllability between the old and new applications is within a predetermined reference value (step S15: YES), the hypervisor 22 performs a process of replacing the old application with the new application (step S16).</p><p id="p0052" num="0052">Specifically, a process of terminating execution of the programs for implementing the operating system 23a and the application 24a (a process of terminating the first controller) is performed. By this process, as shown in <figref idrefs="f0002">FIG. 2C</figref>, the controller 20 enters a state in which only the programs for implementing the operating system 23b<!-- EPO <DP n="15"> --> and the application 24b run over the hypervisor 22 of the controller 20. Here, the replacement of the old application with the new application may be performed after the operator of the monitoring device 30 gives allowance of the replacement. After the old application is replaced with the new application, the control data (second signal) output from the application 24b is output from the output acquirer 42 to the valve apparatus 12 via the field network N1. Then, the valve apparatus 12 is controlled based on the output control data.</p><p id="p0053" num="0053">On the other hand, if it is determined that the difference in controllability is not within the predetermined reference value (step S15: NO), a process of reporting the result of the comparison performed in step S14 to the monitoring device 30 is performed (step S17). Upon receiving the report, the operator of the monitoring device 30 refers to the reported result of the comparison, and determines whether or not to order replacement of the old application with the new application, whether or not to order replacement of the old application with the new application after changing parameters for the new application and thus improving the controllability, and the like. Here, in a case where the replacement of the old application with the new application is instructed by the operator, a similar process to that in step S16 is performed to replace the old application with the new application.</p><p id="p0054" num="0054">As explained above, in the first embodiment, the hypervisor 22 runs over the hardware 21 in lieu of the hardware. The distributor 41 distributes measurement data or the like output from the sensor apparatus 11, to the applications 24a and 24b that run over the hypervisor 22. The output acquire 42 acquires outputs of the applications 24a and 24b, outputs any one of the acquired outputs (the output of the application 24a) to the valve apparatus 12, and compares the acquired outputs. Thus, it is possible to easily evaluate the controllability at the time of replacing the application used by the old system<!-- EPO <DP n="16"> --> (application 24a) with the application to be used by the new system (application 24b). Further, the controllability can be evaluated while the amount of control in an industrial process is controlled by the application used by the old system (application 24a), thereby enabling safer updating of the plant in a shorter time.</p><heading id="h0008">(Second Embodiment)</heading><p id="p0055" num="0055"><figref idrefs="f0005">FIG. 5</figref> is a block diagram illustrating a configuration of a primary part of a process control system 2 according to a second embodiment of the present invention. Here, like reference numerals denote like blocks between <figref idrefs="f0001">FIGS. 1</figref> and <figref idrefs="f0005">5</figref>. As shown in <figref idrefs="f0005">FIG. 5</figref>, the process control system 2 of the second embodiment is configured such that comparison of two control data output from the applications 24a and 24b is performed outside the controller 20. Specifically, the process control system 2 has a configuration such that an output acquirer 43 is included in lieu of the output acquirer 42 shown in <figref idrefs="f0001">FIG. 1</figref>, and a output comparison device 50 is newly added.</p><p id="p0056" num="0056">Similar to the output acquirer 42 shown in <figref idrefs="f0001">FIG. 1</figref>, the output acquirer 43 acquires two control data output from the applications 24a and 24b via the operating systems 23a and 23b. Then, the output acquirer 43 outputs any one of the two acquired control data (control data output from the application 24a in this case) to the field apparatus 10 (such as the valve apparatus 12). Here, the output acquirer 43 differs from the output acquirer 42 shown in <figref idrefs="f0001">FIG. 1</figref> in that the output acquirer 43 does not include the output comparator 42a, and transmits both the two acquired control data to the output comparison device 50.</p><p id="p0057" num="0057">The output comparison device 50 is connected to the field network N1, and compares the two control data transmitted from the controller 20 via the field network N1 (two control data respectively output from the applications 24a and 24b). The output comparison device 50 need not always be connected to the field network N1. For<!-- EPO <DP n="17"> --> example, the output comparison device 50 is connected to the field network N1 only when the controllability at the time of replacement of the old application with the new application is evaluated. Additionally, the output comparison device 50 can be connected to the control network N1 or the field network N2.</p><p id="p0058" num="0058">Operation of the process control system 2 having the above configuration is similar to the operation of the process control system 1 shown in <figref idrefs="f0001">FIG. 1</figref>, except for that comparison of the two control data output from the applications 24a and 24b is performed by the output comparison device 50 provided outside the controller 20. In other words, as shown in the flowchart shown in <figref idrefs="f0003">FIG. 3</figref>, first, a process of distributing the measurement data collected from the sensor apparatus 11 to the old and new applications is performed (step S11). Thus, each of the applications 24a and 24b outputs control data according to the distributed control data.</p><p id="p0059" num="0059">Then, the process of acquiring outputs of the old and new applications (step S12), the process of outputting the acquired output of the old application to the valve apparatus 12 (step S13), and the process of comparing the outputs of the old and new applications (step S14) are performed sequentially. Specifically, as shown in <figref idrefs="f0006">FIG. 6</figref>, the acquirer 43 acquires two control data respectively output from the applications 24a and 24b via the operating systems 23a and 23b. Then, the output acquirer 43 outputs to the valve apparatus 12 via the field network N1, the control data output from the application 24a which is one of the two acquired control data. Additionally, the two control data respectively output from the applications 24a and 24b, which are acquired by the output acquirer 42, are transmitted to the output comparison device 50 via the field network N1. Then, the output comparison device 50 compares control values or output timings of the two control data. <figref idrefs="f0006">FIG. 6</figref> is a diagram illustrating flow of data in the controller according to the second embodiment of the present invention.<!-- EPO <DP n="18"> --></p><p id="p0060" num="0060">After the above process, the output comparison device 50 determines whether or not the difference in controllability between the old and new applications (difference in the control value or the output timing of the control data) is within a predetermined reference value (step S15). If it is determined that the difference in controllability between the old and new applications is within the predetermined reference value (step S15: YES), the hypervisor 22 performs a process of replacing the old application with the new application (step S16). Conversely, if it is determined that the difference in controllability between the old and new applications is not within the predetermined reference value (step S15: NO), a process of reporting a result of the comparison performed in step S14 to the monitoring device 30 via a gateway (not shown) that connects the networks N1 and N2 (step S17).</p><p id="p0061" num="0061">As explained above, the second embodiment differs from the first embodiment in that the comparison of the outputs of the applications 24a and 24b is performed by the output comparison device 50 provided outside the controller 20. Similar to the first embodiment, however, the hypervisor 22 runs over the hardware 21, the input distributor 41 distributes the measurement data or the like, the output acquirer 43 acquires the outputs of the applications 24a and 24b, and the like. For this reason, it is possible to easily evaluate the controllability at the time of replacing the application used by the old system (application 24a) with the application to be used by the new system (application 24b). Further, the controllability can be evaluated while the amount of control in an industrial process is controlled by the application used by the old system (application 24a), thereby enabling safer updating of the plant in a shorter time.</p><heading id="h0009">(Applications)</heading><p id="p0062" num="0062">Hereinafter, applications of the process control systems of the above first and second embodiments are explained. In the above first and second embodiments, as<!-- EPO <DP n="19"> --> shown in <figref idrefs="f0002">FIG. 2B</figref>, the controller 22 has the configuration that the hypervisor 22 runs, and two applications 24a and 24b run over the hypervisor 22, thereby enabling the existing controller 100 (see <figref idrefs="f0002">FIG. 2A</figref>) to be replaced with the new controller 20 (see <figref idrefs="f0002">FIG. 2C</figref>). In the present applications, on the other hand, a configuration is made such that the hypervisor 22 runs, and three or more applications can run over the hypervisor 22, thereby enabling multiple existing controllers to be replaced with one new controller.</p><heading id="h0010">(First Application)</heading><p id="p0063" num="0063"><figref idrefs="f0007">FIGS. 7A to 7C</figref> are diagrams illustrating a first application of the process control systems of the first and second embodiments of the present invention. As shown in <figref idrefs="f0007">FIGS. 7A to 7C</figref>, in the present application, a controller 20, in which the hypervisor 22 runs, and four applications (old AP1 to old AP3, and new AP) can run over the hypervisor 22, is used, thereby replacing three existing controllers 111 to 113 with one new controller 20. Here, for an explanatory purpose, an application is denoted as "AP" in <figref idrefs="f0007">FIGS. 7A to 7C</figref>. Additionally, the output acquirer 42, 43 shown in <figref idrefs="f0007">FIGS. 7A to 7C</figref> denote the output acquirer 42 shown in <figref idrefs="f0001">FIG. 1</figref> or the output acquirer 43 shown in <figref idrefs="f0005">FIG. 5</figref>.</p><p id="p0064" num="0064">The existing controllers 111 to 113 are controllers in which one operating system and one application run over the hardware. Specifically, as shown in <figref idrefs="f0007">FIG. 7A</figref>, the controller 111 has a configuration such that the operating system (old OS1) and the application (old AP1) run. The controller 112 has a configuration such that the operating system (old OS2) and the application (old AP2) run. The controller 113 has a configuration such that the operating system (old OS3) and the application (old AP3) run.</p><p id="p0065" num="0065">The three existing controllers 111 to 113 are removed from the field network N1, and the new controller 20 is connected to the field network N1. Here, the new controller 20 is a controller in which a program for implementing the hypervisor 22, programs for implementing the operating systems (old OS1 to old OS3, and new OS),<!-- EPO <DP n="20"> --> and programs for implementing the applications (old AP1 to old AP3, and new AP) have been installed.</p><p id="p0066" num="0066">When the controller 20 is powered on after the above replacement, the installed programs run, and thus the hypervisor 22, the operating systems (old OS1 to old OS3, and new OS), and the applications (old AP1 to old AP3, and new AP) run over the hardware 21, as shown in <figref idrefs="f0007">FIG. 7B</figref>. Here, the input distributor 41 in the hypervisor 22 distributes to the applications (old AP1 to old AP3, and new AP), measurement data and status data which are collected from the sensor apparatus 11. Additionally, the output acquirer 42 or 43 in the hypervisor 22 acquires outputs of the applications (old AP1 to old AP3, and new AP), and outputs to the valve apparatus 12, the acquired outputs of the applications (old AP1 to old AP3).</p><p id="p0067" num="0067">In the state shown in <figref idrefs="f0007">FIG. 7B</figref>, the outputs of the applications (old AP1 to old AP3) and the output of the application (new AP) are compared, thereby making it possible to evaluate the controllability at the time of the replacement. Then, the programs for implementing the operating systems (old OS1 to old OS3) and the applications (old AP1 to old AP3) are terminated. Thus, the controller 20 enters a state in which only the programs for implementing the operating system (new OS) and the application (new AP) run over the hypervisor 22 of the controller 20 (see <figref idrefs="f0007">FIG. 7C</figref>).</p><heading id="h0011">(Second Application)</heading><p id="p0068" num="0068"><figref idrefs="f0008">FIGS. 8A to 8C</figref> are diagrams illustrating a second application of the process control systems of the first and second embodiments of the present invention. As shown in <figref idrefs="f0008">FIGS. 8A to 8C</figref>, in the present application, a controller 20a in which the hypervisor 22 runs, and four applications (old AP1 to old AP3, and new AP11) can run over the hypervisor 22, and a controller 20b (first process control device) in which three applications (old AP4, old AP5, and new AP12) can run over the hypervisor 22, are used,<!-- EPO <DP n="21"> --> thereby replacing five existing controllers 121 to 125 (controllers 124 and 125 correspond to second and third process control devices) with two new controllers 20a and 20b. Here, for an explanatory purpose, an application is denoted as "AP" in <figref idrefs="f0008">FIGS. 8A to 8C</figref>. Additionally, the output acquirer 42, 43 shown in <figref idrefs="f0008">FIGS. 8A to 8C</figref> denote the output acquirer 42 shown in <figref idrefs="f0001">FIG. 1</figref> or the output acquirer 43 shown in <figref idrefs="f0005">FIG. 5</figref>.</p><p id="p0069" num="0069">The existing controllers 121 to 125 are controllers in which one operating system and one application run over the hardware. Specifically, as shown in <figref idrefs="f0008">FIG. 8A</figref>, the controller 121 has a configuration such that the operating system (old OS1) and the application (old AP1) run. The controller 122 has a configuration such that the operating system (old OS2) and the application (old AP2) run. The controller 123 has a configuration such that the operating system (old OS3) and the application (old AP3) run. The controller 124 has a configuration such that the operating system (old OS4) and the application (old AP4) (first controller) run. The controller 125 has a configuration such that the operating system (old OS5) and the application (old AP5) (second controller) run.</p><p id="p0070" num="0070">The five existing controllers 121 to 125 (controllers 124 and 125 respectively correspond to second and third process control devices) are removed from the field network N1, and the new controllers 20a and 20b are connected to the field network N1. Here, the new controller 20a is a controller in which a program for implementing the hypervisor 22, programs for implementing the operating systems (old OS1 to old OS3, and new OS11), and programs for implementing the applications (old AP1 to old AP3, and new AP11) have been installed. Additionally, the new controller 20b (first process control device) is a controller in which a program for implementing the hypervisor 22, programs for implementing the operating systems (old OS4, old OS5, and new OS12), and programs for implementing the applications (old AP4, old AP5, and new AP12) have<!-- EPO <DP n="22"> --> been installed. Thus, the controller 20b enters a state in which a first software executed by the existing controller 124 (the operating system (old OS4) and the application (old AP4)) is installed in the first controller, a second software executed by the existing controller 125 (the operating system (old OS5) and the application (old AP5)) is installed in the second controller, and a third software that is newer in version than the first and second softwares is installed in the third controller, and the first to third softwares are independently executed.</p><p id="p0071" num="0071">When the controllers 20a and 20b are powered on after the above replacement, the installed programs are executed. In other words, in the controller 20a, the hypervisor 22, the operating systems (old OS1 to old OS3, and new OS11), and the applications (old AP1 to old AP3, and new AP11) run over the hardware 21, as shown in <figref idrefs="f0008">FIG. 8B</figref>. Additionally, in the controller 20b, the hypervisor 22, the operating systems (old OS4, old OS5, and new OS12), and the applications (old AP4, old AP5, and new AP12) run over the hardware 21.</p><p id="p0072" num="0072">Here, the input distributor 41 in the hypervisor 22 that runs in the controller 20a distributes to the applications (old AP1 to old AP3, and new AP11), measurement data and status data which are collected from the sensor apparatus 11. Additionally, the output acquirer 42 or 43 in the hypervisor 22 acquires outputs of the applications (old AP1 to old AP3, and new AP11), and outputs to the valve apparatus 12, the outputs of the applications (old AP1 to old AP3) which are of the acquired outputs.</p><p id="p0073" num="0073">Similarly, the input distributor 41 in the hypervisor 22 that run in the controller 20b distributes to the applications (old AP1, old AP5, and new AP12), measurement data and status data which are collected from the sensor apparatus 11. Additionally, the output acquirer 42 or 43 in the hypervisor 22 acquires outputs of the applications (old AP4, old AP5, and new AP12), and outputs to the valve apparatus 12, the outputs of the<!-- EPO <DP n="23"> --> applications (old AP4 and old AP5) which are of the acquired outputs.</p><p id="p0074" num="0074">In the state shown in <figref idrefs="f0008">FIG. 8B</figref>, the outputs of the applications (old AP1 to old AP3) and the output of the application (new AP11) in the controller 20a are compared. Additionally, the outputs (first and second signals) of the applications (old AP4 and old AP5) and the output (third signal) of the application (new AP12) in the controller 20b are compared. Thus, it is possible to evaluate the controllability at the time of the replacement. More specifically, the difference (first difference) in controllability between the output (first signal) of the old application (old AP4) and the output (third signal) of the new application (new AP12) is within a predetermined reference value. If the difference (first difference) in controllability is within a predetermined reference value, a process of replacing the old application (old AP4) with the new application (new AP12) (process of terminating the first controller) is performed. Similarly, the difference (second difference) in controllability between the output (second signal) of the old application (old AP4) and the output (third signal) of the new application (new AP12) is within the predetermined reference value. If the difference (second difference) in controllability is within the predetermined reference value, a process of replacing the old application (old AP5) with the new application (new AP12) (process of terminating the second controller) is performed.</p><p id="p0075" num="0075">Then, the programs for implementing the operating systems (old OS1 to old OS3) and the applications (old AP1 to old AP3) are terminated in the controller 20a. Thus, the controller 20a enters a state in which only the programs for implementing the operating system (new OS11) and the application (new AP11) run over the hypervisor 22 of the controller 20a. Additionally, the programs for implementing the operating systems (old OS4 and old OS5) and the applications (old AP4 and old AP5) are terminated in the controller 20b. Thus, the controller 20b enters a state in which only<!-- EPO <DP n="24"> --> the programs for implementing the operating system (new OS12) and the application (new AP12) run over the hypervisor 22 of the controller 20b (see <figref idrefs="f0008">FIG. 8C</figref>).</p><p id="p0076" num="0076">Although the process control systems according to the embodiments of the present invention have been explained, the present invention is not limited thereto, and various modifications may be made without departing from the scope of the present invention. For example, explanation has been given in the above embodiments with respect to the case where virtual environments that enable multiple operating systems and applications to run are implemented in each of the controllers 20, 20a, and 20b by the hypervisor 22. However, a means for implementing such virtual environments is not limited to the hyper visor 22. For example, the above virtual environments may be implemented by hardware.</p><p id="p0077" num="0077">Additionally, explanation has been given in the first and second embodiments and the applications thereof with respect to the case where replacement of the controller is performed off-line (with the process control system being temporarily terminated). However, replacement of the controller may be performed on-line (without terminating the process control system). Specifically, a new controller is connected to the field network N1 while an existing controller is connected to the field network N1. Then, the new controller is powered on to run, and then the existing controller is removed from the field network N1. Thus, it is possible to perform the replacement without terminating the plant control system.</p><p id="p0078" num="0078">Additionally, even in a case where redundant controllers are provided, it is possible to replace the redundant controllers on-line. Specifically, a new controller is connected to the field network N1 to run while the existing redundant controllers (a controlling controller and an idle controller) are connected to the field controllers. Then, the idle controller is removed from the field network N1. Then, another new controller<!-- EPO <DP n="25"> --> is connected to the field network N1 to run, and the controlling controller transfers control to one of the new controllers. Then, the controlling controller is removed from the field network N1. Thus, even in a case where the redundant controllers are provided, it is possible to perform replacement without terminating the plant control system.</p><p id="p0079" num="0079">Further, explanation has been given in the above embodiments with respect to the cases where the field apparatus 10 can perform digital communication via the field network N1. However, a field apparatus 10 that inputs and outputs analog signals may be used. In a case where such a field apparatus is used, an IO node is connected to the field network N1. The IO node converts between signals input to or output from the field apparatus (analog signals), and the signals transferred by communication via the field network N1 (digital signals). Then, the IO node and the field apparatus are connected by an analog transmission path (such as a transmission line used for transmitting signals of "4 mA to 20 mA").</p><p id="p0080" num="0080">Moreover, the first and second embodiments may be combined to make a configuration such that the controller including the output comparator 42a shown in <figref idrefs="f0001">FIG. 1</figref> and the output comparison device 50 shown in <figref idrefs="f0005">FIG. 5</figref> are connected to the field network N1. In such a configuration, which of the output comparator 42a and the output comparison device 50 is to perform comparison can be selected, thereby achieving flexible application according to the configuration of the system.</p><p id="p0081" num="0081">As used herein, the following directional terms "forward," "rearward," "above," "downward," "vertical," "horizontal," "below," and "transverse," as well as any other similar directional terms refer to those directions of an apparatus equipped with the present invention. Accordingly, these terms, as utilized to describe the present invention should be interpreted relative to an apparatus equipped with the present invention.<!-- EPO <DP n="26"> --></p><p id="p0082" num="0082">The term "configured" is used to describe a component, section or part of a device which includes hardware and/or software that is constructed and/or programmed to carry out the desired function.</p><p id="p0083" num="0083">The terms of degree such as "substantially," "about," and "approximately" as used herein mean a reasonable amount of deviation of the modified term such that the end result is not significantly changed. For example, these terms can be construed as including a deviation of at least ± 5 percent of the modified term if this deviation would not negate the meaning of the word it modifies.</p><p id="p0084" num="0084">It is apparent that the present invention is not limited to the above embodiments, and may be modified and changed without departing from the scope and spirit of the invention.</p></description><claims mxw-id="PCLM56982108" lang="EN" load-source="patent-office"><!-- EPO <DP n="27"> --><claim id="c-en-0001" num="0001"><claim-text>A process control device (20, 20a, 20b) configured to control an industrial process implemented in a plant, the process control device comprising:
<claim-text>a virtualizer (22) configured to run over a hardware in lieu of the hardware; and</claim-text>
<claim-text>first and second controllers (23a, 24a, 23b, 24b) configured to run over the virtualizer and control operations of a plurality of field apparatuses configured to perform at least one of measurement and operation which are required to control the industrial process;</claim-text>
<claim-text>an input distributor (41) included in the virtualizer, the input distributor being configured to distribute a signal output from the filed apparatus to the first and second controllers; and</claim-text>
<claim-text>an output acquirer (42, 43) included in the virtualizer, and the output acquirer being configured to acquire outputs of the first and second controllers, and output any one of the outputs to at least one of the filed apparatuses.</claim-text></claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>The process control device according to claim 1, wherein the output acquirer comprises an output comparator (42a, 43) configured to compare the outputs of the first and second controllers.</claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>The process control device according to claim 1 or 2, wherein each of the first and second controllers comprises an operating system configured to run over the virtualizer and an application configured to run over the operating system.</claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>A process control system configured to control an industrial process<!-- EPO <DP n="28"> --> implemented in a plant, the process control system comprising:
<claim-text>a network (N1) provided in the plant;</claim-text>
<claim-text>a plurality of field apparatuses (10) connected to the network, the plurality of field apparatuses being configured to perform at least one of measurement and operation which are required to control the industrial process; and</claim-text>
<claim-text>a process control device (20) connected to the network,</claim-text>
<claim-text>wherein the process control device comprises:
<claim-text>a virtualizer (22) configured to run over a hardware in lieu of the hardware; and</claim-text>
<claim-text>first and second controllers (23a, 24a, 23b, 24b) configured to run over the virtualizer and control operations of the field apparatuses;</claim-text>
<claim-text>an input distributor (41) included in the virtualizer, the input distributor being configured to distribute a signal output from the filed apparatus to the first and second controllers; and</claim-text>
<claim-text>an output acquirer (42, 43) included in the virtualizer, and the output acquirer being configured to acquire outputs of the first and second controllers, and output any one of the outputs to at least one of the filed apparatuses.</claim-text></claim-text></claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>The process control system according to claim 4, further comprising:
<claim-text>an output comparison device (50) connected to the network, the output comparison device being configured to compare the outputs of the first and second controllers acquired by the output acquirer of the process control device.</claim-text></claim-text></claim><claim id="c-en-0006" num="0006"><claim-text>The process control system according to claim 5, wherein the output acquirer of the process control device is configured to transmit the outputs of the first and second controllers to the output comparison device via the network.<!-- EPO <DP n="29"> --></claim-text></claim><claim id="c-en-0007" num="0007"><claim-text>A process control method for a first process control device (20, 20a, 20b), comprising:
<claim-text>acquiring first data measured by a first field apparatus (11) of a plurality of field apparatuses (10);</claim-text>
<claim-text>distributing the first data to first and second controllers (23a, 24a, 23b, 24b) included in the first process control device;</claim-text>
<claim-text>acquiring from the first and second controllers, first and second signals for controlling the field apparatuses, which are generated by the first and second controllers based on the first data; and</claim-text>
<claim-text>outputting at least one of the first and second signals to a second field apparatus (12) of the field apparatuses.</claim-text></claim-text></claim><claim id="c-en-0008" num="0008"><claim-text>The process control method according to claim 7, further comprising:
<claim-text>after outputting the at least one of the first and second signals, controlling the second field apparatus based on the at least one of the first and second signals.</claim-text></claim-text></claim><claim id="c-en-0009" num="0009"><claim-text>The process control method according to claim 7, further comprising:
<claim-text>before outputting the at least one of the first and second signals, comparing the first and second signals to determine whether or not to terminate the first controller.</claim-text></claim-text></claim><claim id="c-en-0010" num="0010"><claim-text>The process control method according to claim 9, wherein comparing the first and second signals comprises:
<claim-text>acquiring a difference in controllability between the first and second signals; and</claim-text>
<claim-text>determining whether or not the difference is within a reference range, and<!-- EPO <DP n="30"> --></claim-text>
<claim-text>the process control method further comprises:
<claim-text>if the difference is within the reference range, terminating the first operating system.</claim-text></claim-text></claim-text></claim><claim id="c-en-0011" num="0011"><claim-text>The process control method according to claim 10, further comprising:
<claim-text>before acquiring the first data, installing a first software in the first controller; and</claim-text>
<claim-text>before acquiring the first data, installing in the second controller, a second software that is newer in version than the first software.</claim-text></claim-text></claim><claim id="c-en-0012" num="0012"><claim-text>The process control method according to claim 10, wherein outputting the at least one of the first and second signals comprises outputting the second signal after terminating the first controller.</claim-text></claim><claim id="c-en-0013" num="0013"><claim-text>The process control method according to claim 7, wherein acquiring the first data comprises acquiring the first data from the first field apparatus via a network (N1) to which the first process control device and the field apparatuses are connected, and<br/>
outputting the at least one of the first and second signals comprises outputting the at least one of the first and second signals to the second field apparatus via the network.</claim-text></claim><claim id="c-en-0014" num="0014"><claim-text>The process control method according to claim 7, further comprising:
<claim-text>before outputting at least one of the first and second signals, outputting the first and second signals to an output comparison device (50) connected to the network;</claim-text>
<claim-text>acquiring via the network, a result of comparison of whether or not a difference<!-- EPO <DP n="31"> --> in controllability between the first and second signals is within a reference range, the comparison being performed by the output comparison device; and</claim-text>
<claim-text>if the result indicates that the difference is within the reference range, terminating the first controller.</claim-text></claim-text></claim><claim id="c-en-0015" num="0015"><claim-text>The process control method according to claim 7, further comprising:
<claim-text>before acquiring the first data, replacing with the first process control device, a second process control device (100) connected to a network (N1) to which the first process control device and the field apparatuses are connected, the second process control device comprising the first controller.</claim-text></claim-text></claim></claims><drawings mxw-id="PDW16670498" load-source="patent-office"><!-- EPO <DP n="32"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="165" he="217" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="33"> --><figure id="f0002" num="2A,2B,2C"><img id="if0002" file="imgf0002.tif" wi="160" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="34"> --><figure id="f0003" num="3"><img id="if0003" file="imgf0003.tif" wi="156" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="35"> --><figure id="f0004" num="4A,4B"><img id="if0004" file="imgf0004.tif" wi="151" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="36"> --><figure id="f0005" num="5"><img id="if0005" file="imgf0005.tif" wi="165" he="206" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="37"> --><figure id="f0006" num="6"><img id="if0006" file="imgf0006.tif" wi="165" he="205" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="38"> --><figure id="f0007" num="7A,7B,7C"><img id="if0007" file="imgf0007.tif" wi="157" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="39"> --><figure id="f0008" num="8A,8B,8C"><img id="if0008" file="imgf0008.tif" wi="147" he="233" img-content="drawing" img-format="tif"/></figure></drawings><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
