<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2683150-A2" country="EP" doc-number="2683150" kind="A2" date="20140108" family-id="39747029" file-reference-id="287040" date-produced="20180824" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146585099" ucid="EP-2683150-A2"><document-id><country>EP</country><doc-number>2683150</doc-number><kind>A2</kind><date>20140108</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-13187244-A" is-representative="NO"><document-id mxw-id="PAPP154847291" load-source="docdb" format="epo"><country>EP</country><doc-number>13187244</doc-number><kind>A</kind><date>20090727</date><lang>EN</lang></document-id><document-id mxw-id="PAPP220439885" load-source="docdb" format="original"><country>EP</country><doc-number>13187244.2</doc-number><date>20090727</date></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140549810" ucid="EP-09785396-A" linkage-type="3" load-source="docdb"><document-id format="epo"><country>EP</country><doc-number>09785396</doc-number><kind>A</kind><date>20090727</date></document-id></priority-claim><priority-claim mxw-id="PPC140547259" ucid="GB-0813751-A" load-source="docdb"><document-id format="epo"><country>GB</country><doc-number>0813751</doc-number><kind>A</kind><date>20080728</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL2074513579" load-source="docdb">G01S  19/14        20100101ALI20140506BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL2074513580" load-source="docdb">G01S  19/21        20100101ALI20140506BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL2074513581" load-source="docdb">H04N   1/00        20060101ALI20140506BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL2074513582" load-source="docdb">H04N   1/21        20060101AFI20140506BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL2074513583" load-source="docdb">H04N   1/32        20060101ALI20140506BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL2074513584" load-source="docdb">H04N 101/00        20060101ALN20140506BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL1989623151" load-source="docdb" scheme="CPC">H04N2201/0084      20130101 LA20130101BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989624832" load-source="docdb" scheme="CPC">G01S  19/14        20130101 LI20130101BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989632847" load-source="docdb" scheme="CPC">G01S  19/21        20130101 LI20130101BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989637522" load-source="docdb" scheme="CPC">H04N   1/32128     20130101 LI20130101BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989641090" load-source="docdb" scheme="CPC">H04N2101/00        20130101 LA20130101BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989641502" load-source="docdb" scheme="CPC">H04N   1/2112      20130101 FI20130101BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989642157" load-source="docdb" scheme="CPC">H04N   1/00323     20130101 LI20130101BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989647918" load-source="docdb" scheme="CPC">H04N   1/00933     20130101 LI20130101BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989650376" load-source="docdb" scheme="CPC">H04N2201/3253      20130101 LA20130101BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132359930" lang="DE" load-source="patent-office">Satellitenpositionierung für Kameras</invention-title><invention-title mxw-id="PT132359931" lang="EN" load-source="patent-office">Satellite positioning for cameras</invention-title><invention-title mxw-id="PT132359932" lang="FR" load-source="patent-office">Positionnement par satellite pour caméras</invention-title></technical-data><related-documents><relation type="division"><child-doc ucid="EP-13187244-A"><document-id load-source="patent-office" format="epo"><country>EP</country><doc-number>13187244</doc-number><kind>A</kind><date>20090727</date></document-id></child-doc><parent-doc ucid="EP-09785396.4"><document-id load-source="patent-office" format="epo"><country>EP</country><doc-number>09785396.4</doc-number><date>20090727</date></document-id><parent-grant-document ucid="EP-2311247-B1"><document-id><country>EP</country><doc-number>2311247</doc-number><kind>B1</kind><date>20131120</date></document-id></parent-grant-document></parent-doc></relation></related-documents><parties><applicants><applicant mxw-id="PPAR919507343" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>UBLOX AG</last-name><address><country>CH</country></address></addressbook></applicant><applicant mxw-id="PPAR919509501" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>U-BLOX AG</last-name></addressbook></applicant><applicant mxw-id="PPAR919019488" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>U-BLOX A.G.</last-name><iid>100243555</iid><address><street>Zürcherstrasse 68</street><city>8800 Thalwil</city><country>CH</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR919516320" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>BOWERN JOHN</last-name><address><country>GB</country></address></addressbook></inventor><inventor mxw-id="PPAR919519784" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>BOWERN, JOHN</last-name></addressbook></inventor><inventor mxw-id="PPAR919008439" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>BOWERN, JOHN</last-name><address><street>u-blox UK Ltd Foundation House 42-48 London Road</street><city>Reigate, Surrey RH2 9QQ</city><country>GB</country></address></addressbook></inventor><inventor mxw-id="PPAR919524463" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>BUTTERFIELD STUART</last-name><address><country>GB</country></address></addressbook></inventor><inventor mxw-id="PPAR919518805" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>BUTTERFIELD, STUART</last-name></addressbook></inventor><inventor mxw-id="PPAR919012775" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>BUTTERFIELD, STUART</last-name><address><street>u-blox UK Ltd Foundation House 42-48 London Road</street><city>Reigate, Surrey RH2 9QQ</city><country>GB</country></address></addressbook></inventor><inventor mxw-id="PPAR919543753" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>GOUGH PAUL</last-name><address><country>GB</country></address></addressbook></inventor><inventor mxw-id="PPAR919543177" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>GOUGH, PAUL</last-name></addressbook></inventor><inventor mxw-id="PPAR919011827" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>GOUGH, PAUL</last-name><address><street>u-blox UK Ltd Foundation House 42-48 London Road</street><city>Reigate, Surrey RH2 9QQ</city><country>GB</country></address></addressbook></inventor><inventor mxw-id="PPAR919540910" load-source="docdb" sequence="4" format="epo"><addressbook><last-name>DOOLEY SAUL</last-name><address><country>GB</country></address></addressbook></inventor><inventor mxw-id="PPAR919525262" load-source="docdb" sequence="4" format="intermediate"><addressbook><last-name>DOOLEY, SAUL</last-name></addressbook></inventor><inventor mxw-id="PPAR919015228" load-source="patent-office" sequence="4" format="original"><addressbook><last-name>DOOLEY, SAUL</last-name><address><street>u-blox UK Ltd Foundation House 42-48 London Road</street><city>Reigate, Surrey RH2 9QQ</city><country>GB</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR919005791" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>O'Callaghan, Robert James</last-name><iid>101271389</iid><address><street>Elkington and Fife LLP Prospect House 8 Pembroke Road</street><city>Sevenoaks, Kent TN13 1XR</city><country>GB</country></address></addressbook></agent></agents></parties><international-convention-data><designated-states><ep-contracting-states><country mxw-id="DS549744736" load-source="docdb">AT</country><country mxw-id="DS549815651" load-source="docdb">BE</country><country mxw-id="DS549818428" load-source="docdb">BG</country><country mxw-id="DS549744330" load-source="docdb">CH</country><country mxw-id="DS549815652" load-source="docdb">CY</country><country mxw-id="DS549814148" load-source="docdb">CZ</country><country mxw-id="DS549816180" load-source="docdb">DE</country><country mxw-id="DS549815653" load-source="docdb">DK</country><country mxw-id="DS549815658" load-source="docdb">EE</country><country mxw-id="DS549908485" load-source="docdb">ES</country><country mxw-id="DS549818429" load-source="docdb">FI</country><country mxw-id="DS549818434" load-source="docdb">FR</country><country mxw-id="DS549816181" load-source="docdb">GB</country><country mxw-id="DS549815659" load-source="docdb">GR</country><country mxw-id="DS549816186" load-source="docdb">HR</country><country mxw-id="DS549814149" load-source="docdb">HU</country><country mxw-id="DS549744331" load-source="docdb">IE</country><country mxw-id="DS549815660" load-source="docdb">IS</country><country mxw-id="DS549818435" load-source="docdb">IT</country><country mxw-id="DS549815661" load-source="docdb">LI</country><country mxw-id="DS549818436" load-source="docdb">LT</country><country mxw-id="DS549744749" load-source="docdb">LU</country><country mxw-id="DS549818437" load-source="docdb">LV</country><country mxw-id="DS549818450" load-source="docdb">MC</country><country mxw-id="DS549744750" load-source="docdb">MK</country><country mxw-id="DS549744751" load-source="docdb">MT</country><country mxw-id="DS549744752" load-source="docdb">NL</country><country mxw-id="DS549744332" load-source="docdb">NO</country><country mxw-id="DS549744757" load-source="docdb">PL</country><country mxw-id="DS549908486" load-source="docdb">PT</country><country mxw-id="DS549742444" load-source="docdb">RO</country><country mxw-id="DS549744758" load-source="docdb">SE</country><country mxw-id="DS549816187" load-source="docdb">SI</country><country mxw-id="DS549744353" load-source="docdb">SK</country><country mxw-id="DS549744354" load-source="docdb">SM</country><country mxw-id="DS549815666" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA128673271" lang="EN" load-source="patent-office"><p id="pa01" num="0001">A method of receiving satellite signals for estimating the location of capture of a photograph by a camera. The method comprises receiving a signal relating to the timing of capture of the photograph; waiting for an interval of non-zero duration; and, after the interval, receiving the satellite signals.
<img id="iaf01" file="imgaf001.tif" wi="92" he="97" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA128737422" lang="EN" source="EPO" load-source="docdb"><p>A method of receiving satellite signals for estimating the location of capture of a photograph by a camera. The method comprises receiving a signal relating to the timing of capture of the photograph; waiting for an interval of non-zero duration; and, after the interval, receiving the satellite signals.</p></abstract><description mxw-id="PDES63959259" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><p id="p0001" num="0001">This invention relates to satellite positioning systems. In particular, it relates to "geo-tagging" of photographs (recording the location of capture of the image) using a satellite positioning receiver.</p><p id="p0002" num="0002">Geo-tagging is an increasingly popular way to annotate and organize images and videos. By adding location metadata to the media, users can search and browse an image collection in interesting and intuitive ways - for example by plotting the locations on a map.</p><p id="p0003" num="0003">To avoid the labour-intensive task of manually typing the location names or geographic coordinates necessary to create such annotations, many camera users are turning to satellite positioning to provide precise location metadata.</p><p id="p0004" num="0004">Satellite positioning systems, such as the Global Positioning System (GPS), enable a receiver to calculate its position based on the measured time of arrival of signals from a set of orbiting satellites.</p><p id="p0005" num="0005">It is known to integrate a GPS receiver in a digital camera. With this arrangement, the receiver estimates a position fix each time a photo is taken. The resulting estimate is typically added to the image file - for example as part of the Exchangeable Image File (Exif) metadata.</p><p id="p0006" num="0006">However, a problem with this arrangement is that the electronics in the camera subsystem can cause electromagnetic (EM) interference which disrupts the clear reception of signals from the satellites by the GPS receiver. The noise created by the camera electronics may make the position fix more difficult or impossible to achieve, or it may simply decrease the accuracy of the result.</p><p id="p0007" num="0007"><patcit id="pcit0001" dnum="EP1411721A"><text>EP 1 411 721</text></patcit> discloses a camera which records positional data obtained by a GPS unit. After an image signal is recorded the main CPU stops supplying the image pickup circuit and the recording circuit with electricity.<!-- EPO <DP n="2"> --> Then, the main CPU turns on the GPS power switch to supply the GPS unit with electricity.</p><p id="p0008" num="0008">According to an aspect of the current invention, there is provided a method of receiving satellite signals for estimating the location of capture of a first photograph by a camera, according to claim 1.</p><p id="p0009" num="0009">By introducing a delay or offset greater than zero between the taking of a picture and the sampling of GPS signals to determine position, the method reduces the interference by the camera electronics with GPS reception. The method relies on the availability of just a single trigger signal, relating to the timing of capture of the photograph - for example the pressing of the "shutter release" button. The delay accounts for the duration of the period in which the camera is producing EM interference. Thus, no additional signal (for example, to indicate image capture is complete) is necessary from the camera. This allows the GPS and camera subsystems to be simple and modular in design, by minimizing the complexity of interconnections or communications interfaces between them.</p><p id="p0010" num="0010">In some embodiments, the duration of the interval comprises a predetermined delay.</p><p id="p0011" num="0011">Preferably, the duration is manually adjustable.</p><p id="p0012" num="0012">This ensures flexibility. Manual configuration of the delay means the GPS receiver can be customized depending on the circumstances in which it is used. For an external GPS receiver, the manual adjustment may be by a user. For an integrated GPS receiver, the customization may be carried out in the factory when a camera is assembled using a third-party GPS receiver.</p><p id="p0013" num="0013">The duration may be determined based upon parameters of the camera.</p><p id="p0014" num="0014">Different cameras produce different amounts of interference and do so for different durations after the shutter has been released. In order to minimise the timing delay of GPS reception for every camera, it may be advantageous to select or calculate the delay based on camera parameters such as make, model, capture mode or more detailed information.<!-- EPO <DP n="3"> --></p><p id="p0015" num="0015">The duration may be automatically determined based on parameters received from the camera.</p><p id="p0016" num="0016">If the camera is capable of transmitting information about itself, the customization of the GPS timing delay can be achieved automatically. This<!-- EPO <DP n="4"> --> avoids the need (by way of example) for manual customization or user input of the camera model parameters into a GPS receiver. It can also allow more refined adjustment of the delay, based on the camera parameters associated with an individual photograph. For example, the camera mode (flash/no flash; compressed/uncompressed file; resolution, among others) may have an impact on the duration and quantity of noise generated during capture.</p><p id="p0017" num="0017">The method may further comprise measuring electromagnetic interference associated with the capture of a photograph, wherein the duration of the interval is determined based upon the measured interference.</p><p id="p0018" num="0018">As an alternative, or in addition to, the camera transmitting its parameters, the actual interference generated by a particular camera can be measured and analysed to deduce a suitable delay-duration. This direct measurement can avoid inaccurate predictions or the need to maintain a database relating camera model parameters to interference periods and appropriate delays.</p><p id="p0019" num="0019">Note that the duration determined by measuring the interference could be used to set the delay for the current photograph, or it may be used to set the delay for subsequent photographs. The first alternative involves dynamically setting the delay-duration for each photo, such that the system adapts to the prevailing interference conditions in "real-time". The second alternative allows for "offline" analysis, if necessary - that is, the delay-duration determined from one photograph is used to set the delay for other later photographs. Thus, the photograph used in measuring the interference may be the same as, or different from, the photograph with which the delay is then applied.</p><p id="p0020" num="0020">The step of measuring the electromagnetic interference may comprise one or both of: performing a Fourier transform on a sequence of received IF signal samples; and mixing a sequence of received IF signal samples with generated signal samples at a frequency of interest.</p><p id="p0021" num="0021">The duration of the interval may be determined by repeatedly or continuously measuring the level of interference, wherein the interval ends as soon as the measured level of interference falls below a threshold.<!-- EPO <DP n="5"> --></p><p id="p0022" num="0022">This threshold may be chosen based on a previously measured level of interference corresponding to the capture of at least one earlier photograph.</p><p id="p0023" num="0023">The duration may be chosen such that the step of receiving the satellite signals is executed as soon as possible after the expected subsidence of electromagnetic interference associated with the capture of the photograph.</p><p id="p0024" num="0024">It is beneficial to keep the delay as brief as possible in all cases. The longer the delay after image capture the greater the error in the location estimate (since the camera may have moved from the position in which the photograph was taken). Also, there is a risk that the camera will have been put away (for example in a pocket, bag or car) and so it will be more difficult to receive satellite signals. By way of example, the delay may be between 0.1s and 10s, more preferably between 0.5s and 5s.</p><p id="p0025" num="0025">The step of receiving the satellite signals may be repeated a predetermined number of times.</p><p id="p0026" num="0026">This increases the chances of at least one successful position fix.</p><p id="p0027" num="0027">The method may further comprise: during the interval receiving a further signal relating to the timing of the capture of an additional photograph; and in response, adjusting the duration of the interval.</p><p id="p0028" num="0028">If another photograph is taken shortly after the first, there may be little or no break in the EM interference from the camera electronics. The reception of GPS signals should therefore be rescheduled. For example a timer controlling the delay could be reset.</p><p id="p0029" num="0029">The adjustment of the duration may comprise extending the duration of the interval by a predetermined amount.</p><p id="p0030" num="0030">The delay necessary to avoid interference may be cumulative as the number of photos captured increases. Simply restarting a timer (for example) upon the subsequent shutter release may therefore not be sufficient to reduce the interference.</p><p id="p0031" num="0031">The method may further comprise storing the received satellite signals in a memory so as to enable later processing to estimate the location of capture.<!-- EPO <DP n="6"> --></p><p id="p0032" num="0032">Storage of the samples is an alternative to immediate (real-time) processing to derive a position fix. This "capture and process later" approach allows the GPS receiver to be simplified and also to consume less power. Since the delayed capture of satellite signal samples gives increased confidence that a position fix will be possible, the invention makes it safer to store the samples without having fully processed them. In other words, the invention has particular benefits for a capture and process later GPS receiver, because this type of receiver is otherwise unaware of interference at the time of capture. For a real-time GPS receiver, the cost of interference may be the extra power consumed by a repeated attempt to receive satellite signals and compute a position fix. For a capture-and-process receiver, however, the interference may destroy the ability to compute a position fix at all.</p><p id="p0033" num="0033">According to another aspect of the invention there is provided a method of configuring a satellite signal receiver apparatus according to claim 12.</p><p id="p0034" num="0034">This is a method of automatically configuring the delay duration in the previous method above. Camera parameters are received automatically and the corresponding correct delay is downloaded automatically to the GPS receiver device. This allows configuration of an optimal delay without any user interaction. This method can also be an alternative to automatic self-calibration by the receiver when it is connected to a camera (described above). Compared to that approach, this method can remove a burden on the receiver device to store a database of delays and camera parameters.</p><p id="p0035" num="0035">According to yet another aspect of the invention there is provided a satellite signal receiver apparatus adapted to perform one of the methods described earlier above, the apparatus comprising: receiving means, for receiving the signal relating to the timing of capture of the photograph; and receiving means, for receiving the satellite signals.<!-- EPO <DP n="7"> --></p><p id="p0036" num="0036">The invention will now be described by way of example, with reference to the accompanying drawings, in which:
<ul><li><figref idrefs="f0001">Figure 1</figref> is a diagram of a GPS receiver and camera operating according to an embodiment of the invention;</li><li><figref idrefs="f0001">Figure 2</figref> shows how a GPS receiver can be configured according to an embodiment of the invention;</li><li><figref idrefs="f0002">Figure 3</figref> is a flowchart showing a method of receiving satellite signals according to an embodiment of the invention;</li><li><figref idrefs="f0002">Figure 4</figref> is a flowchart of a method of configuring a satellite signal receiver according to an embodiment of another aspect;</li><li><figref idrefs="f0003">Figure 5</figref> is a flowchart showing a method of receiving satellite signals according to an embodiment in which the duration of the delay is determined dynamically;</li><li><figref idrefs="f0004">Figure 6</figref> shows additional detail of the GPS receiver according to one embodiment of the method of <figref idrefs="f0003">Fig. 5</figref>; and</li><li><figref idrefs="f0005">Figure 7</figref> shows a GPS receiver according to another, related embodiment of the method of <figref idrefs="f0003">Fig. 5</figref>.</li></ul></p><p id="p0037" num="0037">A GPS receiver can be combined with a camera to enable photos to be tagged with location metadata corresponding to the place at which the image was taken. This combination can be achieved by integrating a GPS subsystem internally in a camera, or by connecting an external GPS device to a conventional camera. The latter connection could be by means of the camera hot-shoe, which is traditionally used to connect devices such as an external flash. The conventional hot-shoe therefore already provides a trigger signal corresponding to shutter release (to allow flash synchronisation). The very same trigger signal can be used to trigger a GPS receiver to tag a position.</p><p id="p0038" num="0038">The GPS receiver can be a standard "real-time" GPS or of the recently developed capture-and-process-later (hereinafter "capture and process") type. This latter type of GPS separates the operations of receiving a GPS signal and processing it to derive position. The basic approach is to capture a short (for example 200ms) burst of unprocessed GPS Intermediate Frequency (IF) data<!-- EPO <DP n="8"> --> at the time a photo is taken. The processing is carried out later and may be on a separate device (for example, a personal computer, after upload of the photos and samples). It is therefore particularly important in a capture and process scenario to guarantee the integrity of the captured signal samples as far as possible - if the captured signals are corrupted or absent, then there will be no opportunity to re-capture good signals (as would be the case for real-time GPS).</p><p id="p0039" num="0039">The current inventors have discovered that while capture triggered by shutter release often works very well, some modern cameras generate a lot of electromagnetic interference at the time a picture is taken. This interference is then received by the GPS antenna (and/or the GPS RF circuitry) and reduces the quality of the recorded raw IF data; in some cases the interference is sufficient to make it impossible to obtain a position fix, or worse, to detect any GPS signals at all.</p><p id="p0040" num="0040">It is possible to use well known RF design techniques to make the GPS module more immune to interference; however, total isolation is impossible since the module must still be able to receive the desired GPS signals. Equally, one could redesign the camera to emit less interference, but that is often out of the control of the GPS manufacturer and/or would have a major impact on the camera design (making it larger or increasing cost).</p><p id="p0041" num="0041">The current invention provides a better way of reducing the interference from camera electronics. The idea is to delay the capture of the GPS IF data after the photo is taken so that the capture takes place as soon as possible after the interference caused by the camera's electronics has died down to an acceptable level. The taking of the photo is indicated by the pressing of the shutter-release button. In some embodiments, the delay may comprise, or consist exclusively of, a programmable delay that is predetermined before taking of the photo.</p><p id="p0042" num="0042">Adding a delay may diminish the accuracy of the resulting position fix as the user may move between taking the photo and the capture taking place. Also there is a risk that the camera may be "put away" between the photo and the capture, reducing the quality of the GPS signals recorded (either due to<!-- EPO <DP n="9"> --> rapid acceleration during the capture or due to obscuration of the antenna). Therefore, keeping the delay to a minimum is desirable. Experiments have shown that with many captures a delay of only 1 s is sufficient but, importantly, the optimum delay will vary from camera to camera. Furthermore, the majority of interference has been found to be due to data transfer, whose duration and speed depends on various parameters of the camera in addition to the type/model. These include whether the user is shooting compressed (JPEG) or uncompressed (RAW) images; what resolution has been selected; whether internal or external memory is being used; the type of memory (for example, Compact Flash versus Secure Digital) and its write speed; and how many pictures are in the "transient" memory.</p><p id="p0043" num="0043">The advantage of the delayed capture approach is that damage to the quality of the recorded signal can be minimised and the likelihood of providing a sufficiently accurate position can be maximised. At the same time, interaction between the camera and the GPS receiver is simplified as there is no need to signal to the GPS that the noise-generating (that is interference-generating) activities of the camera electronics have finished.</p><p id="p0044" num="0044"><figref idrefs="f0001">Fig. 1</figref> shows a system operating according to one embodiment of a method of the invention. A camera 10 is connected to a GPS receiver 20. The connection allows the receiver 20 to be triggered to receive (capture) GPS signal samples in response to a shutter-release action on the camera. If the GPS receiver 20 is a real-time receiver, then a position fix is calculated immediately after the samples are received. If it is a capture and process receiver, then the samples are stored. The receiver 20 may be embedded (integrated) in the camera housing or may be a separate external device connected to the camera 10 by means of a communications link. One candidate for this link is connection via the camera hot-shoe; however, more advanced connections, such as wireless connection via Bluetooth, are also possible.</p><p id="p0045" num="0045"><figref idrefs="f0001">Fig. 2</figref> shows the GPS receiver 20 being configured with the correct delay for a given camera 10. The camera 10 is connected to a personal computer (PC) 30, for example by a Universal Serial Bus (USB) link. The<!-- EPO <DP n="10"> --> receiver 20 is also connected by some suitable connection. The PC 30 may interrogate the camera 10, which in any case provides parameter information to the PC. This may include the model and make of the camera, or more detailed information about its image capture specifications. Based on this information, the PC 30 calculates or selects the optimum delay which should be used by the receiver 20 when capturing GPS samples after a shutter-release event. This delay is then downloaded to the receiver 20. In order to calculate the delay, the receiver 20 may contact a central database server 40 which maintains a list of camera models and corresponding optimal delay data.</p><p id="p0046" num="0046">The configuration of the receiver 20 may be carried out using a PC 30, when the receiver is to be used with a new camera 10 for the first time. This will be the case if the receiver 20 is an external accessory. In this case the configuration can be fully automatic. For example, when a receiver accessory is connected to the PC at the same time as a camera with which it has not previously been used, software could ask the user if the receiver 20 is to be configured for use with the camera 10. If so, the software will automatically determine the necessary camera parameters to deduce or look up the proper delay value.</p><p id="p0047" num="0047">On the other hand, if the receiver is integrated in a camera, the configuration step will typically be carried out in the factory, when the camera is being assembled. This means that the camera manufacturer can purchase a generic GPS receiver and customise it appropriately for the parameters of its own camera. In this case, the receiver 20 can obviously be customized directly - there is no need to look up parameter information related to the camera, since this will be known to the manufacturer already.</p><p id="p0048" num="0048"><figref idrefs="f0002">Fig. 3</figref> illustrates an example of the method steps carried out by the receiver 20 when in use. At step 50, a shutter-release signal is received or detected from the camera. This indicates that the photo is being captured. At step 60, the receiver pauses for the pre-programmed delay to allow time for the capture. The delay should also include time for the data transfer activity associated with storing the image file to the camera's memory. When the<!-- EPO <DP n="11"> --> preset time has elapsed, the receiver captures GPS signals, free from interference from the camera electronics.</p><p id="p0049" num="0049">It is of course possible that the camera takes a number of photos in quick succession and that subsequent photos have been taken before the completion of the delay started by the first photo (that is, before the capture of GPS signals associated with the first photo). In such circumstances, making a capture a rigidly fixed delay after each photo is unlikely to be successful (because the early captures will contain significant interference due to the camera still being active as it takes the subsequent photos). Several approaches can be adopted to manage this:</p><p id="p0050" num="0050">In a first approach, notification (shutter-trigger) of subsequent photos merely causes the delay countdown to be restarted. This will result in a single capture taking place with the usual programmed delay after the final photo of the sequence. For example, if the delay is set at 2s and photos are taken at times t, t+0.5s and t+1.5s, then the capture will take place at t+1.5+2 = t+3.5s.</p><p id="p0051" num="0051">In a second alternative approach, a single capture is taken after the last photo in the sequence, but the delay timer is increased for each new photo taken. This would work well if (as is the case for some cameras) the interference is principally caused by data transfer and so each photo taken creates a certain additional amount of work for the camera to do. The result is that the delay is calculated from the initial photo, but grows every time another photo is taken. For example, if the delay is set at 2s and photos are taken at times t, t+0.5s and t+1.5s, then the capture will take place at t+3*2s = t+6s.</p><p id="p0052" num="0052">In a third approach the programming of the delay involves explicit setting of different delays for rapid sequences of photos (by the user or via a data base).</p><p id="p0053" num="0053">More sophisticated approaches to calculating the delay in the case of multiple image captures are also possible - including, but not limited to, combinations of the above rules.</p><p id="p0054" num="0054">In another variant of the invention, multiple captures (at different delays) are made for each photo taken. In circumstances where the interference is variable or unpredictable, having several captures may improve the likelihood<!-- EPO <DP n="12"> --> of providing a sufficiently accurate position - even if one capture is badly damaged a second may not be. In addition, different captures could use different settings of the RF front-end (such as changing the frequency plan and/or altering filter parameters).</p><p id="p0055" num="0055"><figref idrefs="f0002">Fig. 4</figref> illustrates a configuration method according to an embodiment of an aspect of the invention. At step 80, camera parameters are received (for example, by a PC 30). The correct duration of the GPS delay is determined at step 90 and this information is downloaded to the GPS receiver in step 100.</p><p id="p0056" num="0056">Many variations are possible on this basic process. The PC 30 may not be necessary, if the GPS receiver 20 has a communications interface directly with the camera 10. In this case, the receiver 20 may receive parameters directly from the camera, compute the optimal delay duration itself and then use it when a photograph is next taken. One advantage of this direct communication from camera 10 to GPS receiver 20 is that parameters can be delivered more often - for example when the user of the camera selects a different mode. As noted above, the interference generated by the camera depends on factors such as image resolution and whether JPEG or RAW files are being stored. If the receiver 20 can obtain this information, the delay can be optimised to a greater degree. Another example of optimisation based on photographic parameters is adaptation of the delay depending on the orientation (that is, between portrait and landscape modes). A fixed GPS antenna in a camera is likely to receive satellite signals less effectively in the "wrong" orientation; thus, when a portrait photo is taken, it may be beneficial to have a longer delay, to allow time for the camera to be returned to its normal (landscape) orientation before attempting to receive signals.</p><p id="p0057" num="0057">Naturally, such arrangements require a more sophisticated interface between camera and receiver than would otherwise be used (in the simple case, the only signal is the shutter/trigger). However, for an internal GPS, there will be at least some flexibility in the definition of the interface with the camera electronics. Even for an external GPS accessory, sufficiently advanced interfaces already exist. These include wireless connections such as Bluetooth<!-- EPO <DP n="13"> --> and wired connections such as intelligent hot-shoes, which have already been designed to pass camera parameters to external flash devices.</p><p id="p0058" num="0058">If the PC 30 and/or server 40 are eliminated from the configuration method, it may be necessary to store a database of cameras in the memory of the GPS receiver. This will enable the correct duration to be determined for a given camera make and model when it is connected. The storage of even a small list of cameras and durations would enable a GPS accessory to be used with different cameras without the need for the user to manually reconfigure it.</p><p id="p0059" num="0059">Any database, whether stored in a GPS receiver or on a PC, may be incomplete or contain out of date information. In a receiver accessory it may also introduce an unwanted memory burden. As an alternative, therefore, the current invention also provides for direct measurements of interference to be used to derive the delay duration. In this variation on the configuration method, the GPS receiver conducts an experiment to determine the interference associated with photo-capture. For example, the receiver may receive a relatively long, continuous stream of GPS signal data while a "test" photo is being taken; this data can then be processed to assess the duration and severity of interference from the camera electronics. The processing could be carried out in the GPS receiver, or (especially in the case of a capture and process accessory) on a PC, after upload. In any case, once the interference observed in the experiment has been analysed, an appropriate delay-duration can be set for subsequent photos. The experiment could be carried out upon first use of the GPS receiver or each time a new camera is used/detected.</p><p id="p0060" num="0060">Although it is beneficial to automate the customisation of the GPS receiver as far as possible, there may also be circumstances where a manual "override" is required. It is therefore preferably possible to adjust the duration of the capture-delay manually. This will allow the user to program a GPS receiver when an unfamiliar camera (that is, one not listed in the usual database) is connected. It will also allow adjustment of the delay depending on the mode of capture of photos, even when an interface is not available from camera to receiver to communicate the mode information. Direct, manual<!-- EPO <DP n="14"> --> configuration will also be normal for a camera manufacturer embedding a standard GPS receiver in a large number of cameras.</p><p id="p0061" num="0061">In the embodiments described above, the duration of the delay is determined before the photo is captured (that is, before receipt of the shutter-release signal). In this case, the duration of the delay is predetermined with respect to the capture of the photograph. In other embodiments, however, it is possible to dynamically adapt the duration to the prevailing conditions, after the photo has been taken. Thus, the delay may include, or may consist exclusively of, a variable-duration delay that is determined based on the interference actually detected after a given photo has been taken. In this case, the duration of the delay is still predetermined with respect to the receipt of the satellite positioning signals, but is no longer predetermined with respect to the shutter-release or capture of the photograph.</p><p id="p0062" num="0062">One such embodiment will now be described, by way of example and with reference to <figref idrefs="f0003 f0004 f0005">Figs. 5-7</figref>.</p><p id="p0063" num="0063">In this embodiment, upon triggering via the camera hot-shoe in step 50, the GPS radio (also known as the RF front-end) 100, 110, 120 in the receiver 20 is enabled and starts producing down-converted (IF) signal samples. In step 62, about 1ms worth of this data is stored to an internal memory 130 of the GPS receiver 20. This data is analysed in step 64, to assess the level of interference. In this example, the 1ms duration of the initial capture is too short to allow full processing to derive a position fix. Instead, the intention is to quickly obtain an estimate of the interference. In step 66, if the interference is detected to be above an allowed threshold, then the receiver waits (step 68) for a short period, typically of the order of 1-10ms, and repeats a further initial capture. The process repeats until the interference detected in the samples of the initial capture falls below the threshold. When this happens, it is safe to capture the burst of GPS signal samples to be used in the position calculation. The method therefore proceeds with step 70, as in the previous embodiments.</p><p id="p0064" num="0064">This approach has the advantages described earlier above, of increased reliability of the resulting "full" GPS capture, from step 70. It is also relatively energy efficient, because the sampling 62 and testing 64 used to<!-- EPO <DP n="15"> --> detect interference can be kept to a minimum. It is more efficient, for example, than repeatedly capturing "full" 200ms bursts of GPS data in the hope that at least one will lead to a successful position fix. The efficient use of resources can help to prolong battery life in portable devices.</p><p id="p0065" num="0065">Note that the method is beneficial for both real-time GPS receivers and capture and process later receivers. In the former case, the computationally intensive step of fully processing the GPS IF signal samples is delayed until there is a good chance that it will succeed. Thus effort and energy are potentially saved. For a capture-and-process system, the benefits are in the increased reliability of the GPS signal samples stored.</p><p id="p0066" num="0066">A variety of techniques can be used to estimate the level of interference in the 1ms initial GPS capture, in step 64. One approach is to perform frequency domain analysis - for example, using a Fast Fourier Transform (FFT). An FFT of 256 points would give approximately 20 KHz noise bandwidth per point, assuming a typical sampling rate in the region of 5MHz. At this sampling rate, the 1ms capture will comprise approximately 5000 data samples. The 256-point FFT can be repeated across the capture and the results averaged (or simply summed). For example, given 5000 samples a 256-point FFT can be performed on samples 1-256, a second on samples 257-512, a third on samples 513-768, and so on. The results of all these FFTs are summed, providing an average of about 20 values for each bin. It is possible to perform a single FFT on the whole capture (5000 samples); however, the computational complexity of such a large FFT would often be prohibitive.</p><p id="p0067" num="0067">The maximum amplitude among the FFT points can be taken to indicate the largest interferer. If this amplitude is above a predefined threshold, the interference is deemed too great for a full capture to be reliable. The choice of threshold will depend on the implementation, but will typically depend on such factors as the number of points in the FFT; the number of FFTs averaged; and the characteristics of the RF front-end. The goal of the threshold is to discriminate between normal background noise (low) and the interference produced by the camera electronics (high). Optionally, interference that is well separated from the signal (for example, at least 0.5MHz away) may be<!-- EPO <DP n="16"> --> accepted. Thus, it may only be necessary to compute the FFT bins near to the expected GPS signal. As a further alternative, two thresholds could be employed: one for in-band (within 0.5 MHz) interference; and another for out-of-band interference (beyond 0.5MHz).</p><p id="p0068" num="0068"><figref idrefs="f0004">Fig. 6</figref> illustrates an embodiment of a GPS receiver 20a which estimates interference by means of an FFT. The microprocessor 140a receives the shutter release trigger signal from the camera 10 and, in response, activates the front-end. The front-end comprises an analogue amplification, filtering, and mixing unit 100; a local oscillator (LO) 110 which supplies the signal for down-mixing; and an analogue to digital converter (A/D) 120 which samples the resulting down-mixed IF signal. These are all conventional RF front-end components for standard GPS receivers, as will be well known to those skilled in the art. The IF samples output by the analogue to digital converter (A/D) 120 are stored in the memory 130 as described above. The microprocessor 140a retrieves the samples from memory and performs the FFT. The microprocessor may be a general purpose processor, but is preferably specialised for digital signal processing (DSP) operations. Such chips will typically provide optimised on-board FFT functions. If the microprocessor determines, based on the FFT, that the interference is below the allowed threshold it will control the front-end and memory to store a "full" 200ms capture. If the interference is above the threshold, the microprocessor will initiate the capture of another short burst of IF data after a suitable pause (as discussed above with reference to steps 66, 68 and 70).</p><p id="p0069" num="0069">Another way to estimate interference is to mix the received signal samples with signal samples generated by a programmable frequency source. This frequency source generates a reference signal which is a sinusoid at a centre-frequency of interest. The frequency of interest will correspond to the expected frequency of the satellite signals in the IF data samples. This in turn will depend on the frequency of the local oscillator (LO) that was used in down-mixing the signals. Thus, the frequency of the programmable frequency source will be chosen in conjunction with the LO frequency, such that the generated signal samples correspond in frequency to the expected position of the satellite<!-- EPO <DP n="17"> --> signals in the spectrum of the IF signal data. In this way, the mixing operation examines the portion of the frequency spectrum centred on the expected location of the satellite signals. The magnitude of the interference can be determined, for example, by simply summing the output of the mixing operation.</p><p id="p0070" num="0070">This mixing to detect interference at the satellite frequency may advantageously be carried out by the same or similar hardware used to perform the correlation function during carrier and code phase measurement. This is because the generated samples of the reference signal correspond to the signal used for correlation, but without the spreading code of a particular satellite modulated on top of the carrier. Thus, depending on the hardware implementation of a given GPS receiver, it may be possible to simply disable the code mixing part in the correlator to turn it into a device suitable for estimating interference.</p><p id="p0071" num="0071"><figref idrefs="f0005">Fig. 7</figref> illustrates an embodiment of a GPS receiver 20b suitable for implementing this approach. Compared with the receiver 20a of <figref idrefs="f0004">Fig. 6</figref>, this receiver has a simpler processor 140b, which is used mainly to control the other hardware components in the device. The estimation of interference 64 is performed by the correlator 145 as described above.</p><p id="p0072" num="0072">As will be readily apparent to those skilled in the art, it is necessary to search for satellite signals at a range of frequencies, to take account of Doppler effects due to relative motion of the receiver and the different satellites and also to ensure robustness to frequency deviations of practical local oscillators. The same principle applies to the measurement of interference. Therefore, it may be beneficial to test for interference centred at a set of discrete frequencies, corresponding to the frequencies that will be searched for satellite signals. This will comprise mixing with sinusoidal reference signals at each of these discrete frequencies. A single programmable frequency source and mixer (that is, a single correlator) could be used to step though the discrete frequencies of the frequency plan in sequence. This is the case for the embodiment of <figref idrefs="f0005">Fig. 7</figref>. Alternatively, multiple different correlators could be used to implement the different tests in parallel for different centre frequencies.<!-- EPO <DP n="18"> --></p><p id="p0073" num="0073">The basic approach of waiting until interference drops below a threshold can optionally be augmented in various ways.</p><p id="p0074" num="0074">For example, it has been observed that some cameras have permanent interferers present (for example, due to a clock harmonic). Thus, it may be beneficial to set some maximum timeout (for example, 2 seconds) by which time the full capture must be performed. Otherwise, the interference detector may repeat its test indefinitely - never meeting the threshold criterion. In addition as noted previously above, the longer the delay, the greater the chance of the user putting the camera away before the GPS signal burst has been captured.</p><p id="p0075" num="0075">To save power consumption (and thus increase battery life), it may also be beneficial to set a minimum delay (for example, 1 second), so that the interference testing is first enabled after a 1 second delay. With both of these variations implemented, the "full" capture will happen at some time between 1 and 2 seconds after the shutter, with the precise timing dependent on the detected interference.</p><p id="p0076" num="0076">In a further variation of this embodiment, the GPS receiver can store a history of interference estimates over time. This can allow the use of previous observations of the interference level to adjust the timing for future captures.</p><p id="p0077" num="0077">For example, in the embodiments already described, an estimate of interference is generated 64 for each repeated capture 62 of a short burst of IF data samples. Each of these estimates can be stored in the memory 130. If the maximum delay is reached without the last estimate having fallen below the required threshold, then the stored history of estimates can be analysed to adjust the threshold value. This will hopefully ensure that when the next photograph is taken, the timing of the capture 70 of GPS signal samples will be better optimised. In other words, the fact that a timeout has occurred can be taken as an indication that the current setting of the threshold is too low for the current level of interference. By way of example, the new threshold could be set as the average of the estimates observed. More complex analysis could be used to search for a sudden fall in the level of interference. This might include clustering the estimates into two classes ("high" and "low" interference), or<!-- EPO <DP n="19"> --> analysing the difference between successive estimates and choosing the threshold to correspond to the largest single drop.</p><p id="p0078" num="0078">By using the history of estimates, the method allows the threshold for one photo to be determined based on a level or levels of interference previously measured after the shutter signal of an earlier photo. In this way, the system can adapt to changes in the interference characteristics over time or in different photographic modes.</p><p id="p0079" num="0079">Similar principles can equally be used to reduce the threshold if it is too high. For example, if the first estimate of interference is below the threshold, the threshold can be reduced for subsequent photos.</p><p id="p0080" num="0080">Other thresholds might also be varied similarly. For example, if the first estimate of interference is consistently found to be below the threshold, the minimum delay could be reduced, since it may be causing the system to wait too long after each shutter signal.</p><p id="p0081" num="0081">In a real-time GPS receiver, it may be possible to adapt the thresholds based on feedback from the position calculation algorithm: if a position fix is possible, this can indicate that the interference level is acceptable. If a position fix failed, this may indicate that the interference was too great. Of course, other factors, such as obscured visibility of satellites will also affect the ability to compute a position fix and these should also be taken into account.</p><p id="p0082" num="0082">Even in a capture and process receiver, a similar feedback mechanism can be implemented if the interference estimation process is also applied to the full (200ms) capture of GPS signal samples. This estimation may be performed on-board the GPS receiver, or later, when the stored samples are transferred to another device for further processing. In either case, such feedback may help to identify interferers that become active later in time after the shutter signal. Late interferers might include hardware events such as reactivation of the camera display screen after a photograph has been taken and the image data has been written to the camera memory.</p><p id="p0083" num="0083">For longer term analysis, the delay actually employed and/or the associated thresholds could be recorded with the captured GPS signal<!-- EPO <DP n="20"> --> samples (the "full" capture). This may facilitate convergence to a robust average set of parameters for the method, over time.</p><p id="p0084" num="0084">As will be apparent from the foregoing description, the current invention is equally applicable to real-time conventional GPS systems and to capture-and-process systems. It should also be noted that the invention is not limited to GPS satellite positioning, but may be applied to any other global navigation satellite system (GNSS), including, for example, GLONASS and Galileo.</p><p id="p0085" num="0085">References to "intermediate frequency" signals are not intended to exclude the possibility of a direct conversion satellite-positioning receiver, which is simply regarded as having an intermediate frequency of zero (or approximately zero). Thus, "intermediate frequency" signal refers to a signal down-mixed from the satellite frequency to some lower frequency, which may result directly in recovery of the base-band spreading code. "Intermediate frequency" is therefore a generic term for the signal input to the correlation calculation in order to perform the carrier- and code-phase measurements necessary to derive pseudo-ranges.</p><p id="p0086" num="0086">Various other modifications will be apparent to those skilled in the art.</p><p id="p0087" num="0087">The following aspects are disclosed:
<ol><li>1. A method of receiving satellite signals for estimating the location of capture of a first photograph by a camera, the method comprising:
<ul><li>receiving a signal relating to the timing of capture of the first photograph;</li><li>waiting for an interval of non-zero duration; and</li><li>after the interval, receiving the satellite signals.</li></ul></li><li>2. The method of aspect 1, wherein the duration is manually adjustable.</li><li>3. The method of aspect 1 or aspect 2, wherein the duration is determined based upon parameters of the camera, preferably automatically.<!-- EPO <DP n="21"> --></li><li>4. The method of aspect 3, further comprising:
<ul><li>measuring electromagnetic interference associated with the capture of a second photograph, whether the same photograph as the first or a different photograph to the first,</li><li>wherein the duration of the interval is determined based upon the measured interference.</li></ul></li><li>5. The method of aspect 4, wherein the step of measuring the electromagnetic interference comprises at least one of:
<ul><li>performing a Fourier transform on a sequence of received IF signal samples; and</li><li>mixing a sequence of received IF signal samples with generated signal samples at a frequency of interest.</li></ul></li><li>6. The method of aspect 4 or aspect 5, wherein the duration of the interval is determined by repeatedly or continuously measuring the level of interference, wherein the interval ends as soon as the measured level of interference falls below a threshold.</li><li>7. The method of aspect 6, wherein the threshold is chosen based on a previously measured level of interference corresponding to the capture of at least one earlier photograph.</li><li>8. The method of any preceding aspect, further comprising repeating the step of receiving the satellite signals a predetermined number of times.</li><li>9. The method of any preceding aspect, further comprising:
<ul><li>during the interval, receiving a further signal relating to the timing of the capture of an additional photograph; and</li><li>in response, adjusting the duration of the interval.</li></ul><!-- EPO <DP n="22"> --></li><li>10. The method of aspect 9, wherein the adjustment of the duration comprises extending the duration of the interval by a predetermined amount.</li><li>11. The method of any preceding aspect, further comprising storing the received satellite signals in a memory so as to enable later processing to estimate the location of capture.</li><li>12. A method of configuring a satellite signal receiver apparatus comprising:
<ul><li>receiving parameters of a camera with which the receiver apparatus is associated;</li><li>automatically determining based upon the received parameters the duration of a period of electromagnetic interference associated with capture of a photograph by the camera; and</li><li>transmitting the determined duration to the receiver apparatus.</li></ul></li><li>13. Satellite signal receiver apparatus comprising:
<ul><li>an input, for receiving a signal relating to the timing of capture of a photograph;</li><li>a receiver, for receiving satellite signals; and</li><li>a processor, adapted to control the apparatus to perform a method according to any of aspects 1 to 11.</li></ul></li><li>14. A computer program comprising computer program code means adapted to perform all the steps of any of aspects 1 to 12 when said program is run on a computer.</li><li>15. A computer program as disclosed in aspect 14 embodied on a computer readable medium.</li></ol></p></description><claims mxw-id="PCLM56982288" lang="EN" load-source="patent-office"><!-- EPO <DP n="23"> --><claim id="c-en-0001" num="0001"><claim-text>A method of receiving satellite signals for estimating the location of capture of a first photograph by a camera, the method comprising:
<claim-text>receiving a signal relating to the timing of capture of the first photograph;</claim-text>
<claim-text>upon receipt of the signal, waiting for an interval of non-zero duration, wherein the duration of the interval comprises a predetermined delay and/or is determined based upon measured electromagnetic interference associated with the capture of a photograph; and</claim-text>
<claim-text>after the interval, receiving the satellite signals.</claim-text></claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>The method of claim 1, wherein the duration is manually adjustable.</claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>The method of claim 1 or claim 2, wherein the duration is determined based upon parameters of the camera, preferably automatically.</claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>The method of claim 3, comprising:
<claim-text>measuring electromagnetic interference associated with the capture of a second photograph, whether the same photograph as the first or a different photograph to the first,</claim-text>
<claim-text>wherein the duration of the interval is determined based upon the measured interference.</claim-text></claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>The method of claim 4, wherein the step of measuring the electromagnetic interference comprises at least one of:
<claim-text>performing a Fourier transform on a sequence of received IF signal samples; and</claim-text>
<claim-text>mixing a sequence of received IF signal samples with generated signal samples at a frequency of interest.</claim-text><!-- EPO <DP n="24"> --></claim-text></claim><claim id="c-en-0006" num="0006"><claim-text>The method of claim 4 or claim 5, wherein the duration of the interval is determined by repeatedly or continuously measuring the level of interference, wherein the interval ends as soon as the measured level of interference falls below a threshold.</claim-text></claim><claim id="c-en-0007" num="0007"><claim-text>The method of claim 6, wherein the threshold is chosen based on a previously measured level of interference corresponding to the capture of at least one earlier photograph.</claim-text></claim><claim id="c-en-0008" num="0008"><claim-text>The method of any preceding claim, further comprising repeating the step of receiving the satellite signals a predetermined number of times.</claim-text></claim><claim id="c-en-0009" num="0009"><claim-text>The method of any preceding claim, further comprising:
<claim-text>during the interval, receiving a further signal relating to the timing of the capture of an additional photograph; and</claim-text>
<claim-text>in response, adjusting the duration of the interval.</claim-text></claim-text></claim><claim id="c-en-0010" num="0010"><claim-text>The method of claim 9, wherein the adjustment of the duration comprises extending the duration of the interval by a predetermined amount.</claim-text></claim><claim id="c-en-0011" num="0011"><claim-text>The method of any preceding claim, further comprising storing the received satellite signals in a memory so as to enable later processing to estimate the location of capture.</claim-text></claim><claim id="c-en-0012" num="0012"><claim-text>A method of configuring a satellite signal receiver apparatus comprising:
<claim-text>receiving parameters of a camera with which the receiver apparatus is associated;</claim-text>
<claim-text>automatically determining, based upon the received parameters, the duration of a period of electromagnetic interference associated with capture of a photograph by the camera, by using a database relating the camera parameters to interference periods; and</claim-text>
<claim-text>transmitting the determined duration to the receiver apparatus.</claim-text><!-- EPO <DP n="25"> --></claim-text></claim><claim id="c-en-0013" num="0013"><claim-text>Satellite signal receiver apparatus comprising:
<claim-text>an input, for receiving a signal relating to the timing of capture of a photograph;</claim-text>
<claim-text>a receiver, for receiving satellite signals; and</claim-text>
<claim-text>a processor, adapted to control the apparatus to perform a method according to any of claims 1 to 11.</claim-text></claim-text></claim><claim id="c-en-0014" num="0014"><claim-text>A computer program comprising computer program code means adapted to perform all the steps of any of claims 1 to 12 when said program is run on a computer.</claim-text></claim><claim id="c-en-0015" num="0015"><claim-text>A computer program as claimed in claim 14 embodied on a computer readable medium.</claim-text></claim></claims><drawings mxw-id="PDW16670673" load-source="patent-office"><!-- EPO <DP n="26"> --><figure id="f0001" num="1,2"><img id="if0001" file="imgf0001.tif" wi="107" he="188" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="27"> --><figure id="f0002" num="3,4"><img id="if0002" file="imgf0002.tif" wi="108" he="220" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="28"> --><figure id="f0003" num="5"><img id="if0003" file="imgf0003.tif" wi="146" he="179" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="29"> --><figure id="f0004" num="6"><img id="if0004" file="imgf0004.tif" wi="142" he="161" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="30"> --><figure id="f0005" num="7"><img id="if0005" file="imgf0005.tif" wi="157" he="172" img-content="drawing" img-format="tif"/></figure></drawings><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
