<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2681684-A2" country="EP" doc-number="2681684" kind="A2" date="20140108" family-id="46753916" file-reference-id="250187" date-produced="20180822" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146586122" ucid="EP-2681684-A2"><document-id><country>EP</country><doc-number>2681684</doc-number><kind>A2</kind><date>20140108</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-12779511-A" is-representative="NO"><document-id mxw-id="PAPP154848314" load-source="docdb" format="epo"><country>EP</country><doc-number>12779511</doc-number><kind>A</kind><date>20120228</date><lang>EN</lang></document-id><document-id mxw-id="PAPP174953048" load-source="docdb" format="original"><country>EP</country><doc-number>12779511.0</doc-number><date>20120228</date></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140553720" ucid="US-201113041253-A" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>201113041253</doc-number><kind>A</kind><date>20110304</date></document-id></priority-claim><priority-claim mxw-id="PPC140548002" ucid="US-2012026927-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>2012026927</doc-number><kind>W</kind><date>20120228</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1989316376" load-source="docdb">G01N  21/00        20060101ALI20121120BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1989319367" load-source="docdb">G06N   3/02        20060101ALI20121120BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1989323242" load-source="docdb">G06F  19/00        20110101AFI20121120BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1877551014" load-source="docdb" scheme="CPC">G06N   3/0454      20130101 LI20161115BHEP        </classification-cpc><classification-cpc mxw-id="PCL2007295983" load-source="docdb" scheme="CPC">G06N   3/08        20130101 FI20140123BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132362999" lang="DE" load-source="patent-office">GENAUES UND SCHNELLES TRAINING EINES NEURONALEN NETZWERKS FÜR BIBLIOTHEKSBASIERTE METROLOGIE MIT KRITISCHER DIMENSION</invention-title><invention-title mxw-id="PT132363000" lang="EN" load-source="patent-office">ACCURATE AND FAST NEURAL NETWORK TRAINING FOR LIBRARY-BASED CRITICAL DIMENSION (CD) METROLOGY</invention-title><invention-title mxw-id="PT132363001" lang="FR" load-source="patent-office">ENTRAÎNEMENT PRÉCIS ET RAPIDE DE RÉSEAU DE NEURONES POUR MÉTROLOGIE DE DIMENSIONS CRITIQUES (CD) FONDÉE SUR BIBLIOTHÈQUE</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR919504241" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>TOKYO ELECTRON LTD</last-name><address><country>JP</country></address></addressbook></applicant><applicant mxw-id="PPAR919510263" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>TOKYO ELECTRON LIMITED</last-name></addressbook></applicant><applicant mxw-id="PPAR919007150" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Tokyo Electron Limited</last-name><iid>101047451</iid><address><street>Akasaka Biz Tower 3-1 Akasaka 5-chome Minato-ku</street><city>Tokyo 107-6325</city><country>JP</country></address></addressbook></applicant><applicant mxw-id="PPAR919545215" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>KLA TENCOR CORP</last-name><address><country>US</country></address></addressbook></applicant><applicant mxw-id="PPAR919544353" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>KLA-TENCOR CORPORATION</last-name></addressbook></applicant><applicant mxw-id="PPAR919010336" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>KLA-Tencor Corporation</last-name><iid>101340019</iid><address><street>One Technology Drive</street><city>Milpitas, California 95035</city><country>US</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR919519995" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>JIN WEN</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR919505406" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>JIN, WEN</last-name></addressbook></inventor><inventor mxw-id="PPAR919008756" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>JIN, WEN</last-name><address><street>215 Quinault Way</street><city>Fremont, CA 94539</city><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR919510844" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>YUONG VI</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR919529413" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>YUONG, Vi</last-name></addressbook></inventor><inventor mxw-id="PPAR919018449" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>YUONG, Vi</last-name><address><street>5398 Twilight Common</street><city>Fremont, CA 94555</city><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR919538824" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>BAO JUNWEI</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR919533244" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>BAO, JUNWEI</last-name></addressbook></inventor><inventor mxw-id="PPAR919019758" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>BAO, JUNWEI</last-name><address><street>68 Pine Ln.</street><city>Los Altos, CA 94022</city><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR919534106" load-source="docdb" sequence="4" format="epo"><addressbook><last-name>LEE LIE-QUAN</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR919505871" load-source="docdb" sequence="4" format="intermediate"><addressbook><last-name>LEE, LIE-QUAN</last-name></addressbook></inventor><inventor mxw-id="PPAR919007524" load-source="patent-office" sequence="4" format="original"><addressbook><last-name>LEE, LIE-QUAN</last-name><address><street>34212 Oneil Ter.</street><city>Fremont, CA 94555</city><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR919515568" load-source="docdb" sequence="5" format="epo"><addressbook><last-name>POSLAVSKY LEONID</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR919518145" load-source="docdb" sequence="5" format="intermediate"><addressbook><last-name>POSLAVSKY, LEONID</last-name></addressbook></inventor><inventor mxw-id="PPAR919017575" load-source="patent-office" sequence="5" format="original"><addressbook><last-name>POSLAVSKY, LEONID</last-name><address><street>2636 Monte Cresta Drive</street><city>Belmont, CA 94002</city><country>US</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR919012054" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Manley, Nicholas Michael</last-name><iid>100027938</iid><address><street>WP Thompson Coopers Building Church Street</street><city>Liverpool L1 3AB</city><country>GB</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="US-2012026927-W"><document-id><country>US</country><doc-number>2012026927</doc-number><kind>W</kind><date>20120228</date><lang>EN</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2012150993-A2"><document-id><country>WO</country><doc-number>2012150993</doc-number><kind>A2</kind><date>20121108</date><lang>EN</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS549834361" load-source="docdb">AL</country><country mxw-id="DS549833200" load-source="docdb">AT</country><country mxw-id="DS549834366" load-source="docdb">BE</country><country mxw-id="DS549764642" load-source="docdb">BG</country><country mxw-id="DS549757216" load-source="docdb">CH</country><country mxw-id="DS549845116" load-source="docdb">CY</country><country mxw-id="DS549845117" load-source="docdb">CZ</country><country mxw-id="DS549913386" load-source="docdb">DE</country><country mxw-id="DS549834367" load-source="docdb">DK</country><country mxw-id="DS549834368" load-source="docdb">EE</country><country mxw-id="DS549756594" load-source="docdb">ES</country><country mxw-id="DS549764643" load-source="docdb">FI</country><country mxw-id="DS549764644" load-source="docdb">FR</country><country mxw-id="DS549913387" load-source="docdb">GB</country><country mxw-id="DS549834369" load-source="docdb">GR</country><country mxw-id="DS549913388" load-source="docdb">HR</country><country mxw-id="DS549845122" load-source="docdb">HU</country><country mxw-id="DS549757229" load-source="docdb">IE</country><country mxw-id="DS549834374" load-source="docdb">IS</country><country mxw-id="DS549764657" load-source="docdb">IT</country><country mxw-id="DS549834375" load-source="docdb">LI</country><country mxw-id="DS549913389" load-source="docdb">LT</country><country mxw-id="DS549833201" load-source="docdb">LU</country><country mxw-id="DS549764658" load-source="docdb">LV</country><country mxw-id="DS549913390" load-source="docdb">MC</country><country mxw-id="DS549833206" load-source="docdb">MK</country><country mxw-id="DS549833207" load-source="docdb">MT</country><country mxw-id="DS549756595" load-source="docdb">NL</country><country mxw-id="DS549833465" load-source="docdb">NO</country><country mxw-id="DS549756596" load-source="docdb">PL</country><country mxw-id="DS549833208" load-source="docdb">PT</country><country mxw-id="DS549756605" load-source="docdb">RO</country><country mxw-id="DS549833209" load-source="docdb">RS</country><country mxw-id="DS549756606" load-source="docdb">SE</country><country mxw-id="DS549845123" load-source="docdb">SI</country><country mxw-id="DS549833470" load-source="docdb">SK</country><country mxw-id="DS549833471" load-source="docdb">SM</country><country mxw-id="DS549764659" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data><office-specific-data><eptags><ep-no-a-document-published>*</ep-no-a-document-published></eptags></office-specific-data></bibliographic-data><abstract mxw-id="PA101742392" ref-ucid="WO-2012150993-A2" lang="EN" load-source="patent-office"><p num="0000">Approaches for accurate neural network training for library-based critical dimension (CD) metrology are described. Approaches for fast neural network training for library-based CD metrology are also described.</p></abstract><abstract mxw-id="PA101957338" ref-ucid="WO-2012150993-A2" lang="EN" source="national office" load-source="docdb"><p>Approaches for accurate neural network training for library-based critical dimension (CD) metrology are described. Approaches for fast neural network training for library-based CD metrology are also described.</p></abstract><abstract mxw-id="PA101742393" ref-ucid="WO-2012150993-A2" lang="FR" load-source="patent-office"><p num="0000">L'invention concerne des approches pour effectuer un entraînement précis de réseau de neurones pour la métrologie de dimensions critiques (CD) fondée sur bibliothèque. L'invention concerne également des approches d'entraînement rapide de réseau de neurones pour métrologie de dimensions critiques (CD) fondée sur bibliothèque.</p></abstract><abstract mxw-id="PA101957339" ref-ucid="WO-2012150993-A2" lang="FR" source="national office" load-source="docdb"><p>L'invention concerne des approches pour effectuer un entraînement précis de réseau de neurones pour la métrologie de dimensions critiques (CD) fondée sur bibliothèque. L'invention concerne également des approches d'entraînement rapide de réseau de neurones pour métrologie de dimensions critiques (CD) fondée sur bibliothèque.</p></abstract><description mxw-id="PDES52410957" ref-ucid="WO-2012150993-A2" lang="EN" load-source="patent-office"><!-- EPO <DP n="3"/>--><p id="p0001" num="0001"> Accurate and Fast Neural network Training for Library-Based Critical</p><p id="p0002" num="0002">Dimension (CD) Metrology </p><p id="p0003" num="0003">TECHNICAL FIELD </p><p id="p0004" num="0004"> [0001] Embodiments of the present invention are in the field of optical metrology, and, more particularly, relate to approaches for accurate and fast neural network training for library-based critical dimension (CD) metrology. </p><p id="p0005" num="0005">BACKGROUND </p><p id="p0006" num="0006"> [0002] Optical metrology techniques generally referred to as scatterometry offer the potential to characterize parameters of a workpiece during a manufacturing process. In practice, light is directed onto a periodic grating formed in a workpiece and spectra of reflected light is measured and analyzed to characterize the grating parameters. Characterization parameters may include critical dimensions (CD), sidewall angle (SWA), feature height (HT), etc. which effect a material's reflectivity and refractive index. Characterization of the grating may thereby characterize the workpiece as well as a manufacturing process employed in the formation of the grating and the workpiece. </p><p id="p0007" num="0007"> [0003] For the past several years, a rigorous couple wave approach (RCWA) and similar algorithms have been widely used for the study and design of diffraction structures. In the RCWA approach, the profiles of periodic structures are </p><p id="p0008" num="0008">approximated by a given number of sufficiently thin planar grating slabs. Specifically, RCWA involves three main operations, namely, the Fourier expansion of the field inside the grating, calculation of the eigenvalues and eigenvectors of a constant coefficient matrix that characterizes the diffracted signal, and solution of a linear system deduced from the boundary matching conditions. RCWA divides the problem into three distinct spatial regions: 1) the ambient region supporting the incident plane wave field and a summation over all reflected diffracted orders, 2) the grating structure and underlying non-patterned layers in which the wave field is treated as a superposition of modes associated with each diffracted order, and 3) the substrate containing the transmitted wave field. </p><p id="p0009" num="0009"> [0004] The accuracy of the RCWA solution depends, in part, on the number of terms retained in the space-harmonic expansion of the wave fields, with conservation of energy being satisfied in general. The number of terms retained is a function of the 
<!-- EPO <DP n="4"/>-->
 number of diffraction orders considered during the calculations. Efficient generation of a simulated diffraction signal for a given hypothetical profile involves selection of the optimal set of diffraction orders at each wavelength for both transverse-magnetic (TM) and/or transverse-electric (TE) components of the diffraction signal. </p><p id="p0010" num="0010">Mathematically, the more diffraction orders selected, the more accurate the </p><p id="p0011" num="0011">simulations. However, the higher the number of diffraction orders, the more computation is required for calculating the simulated diffraction signal. Moreover, the computation time is a nonlinear function of the number of orders used. </p><p id="p0012" num="0012">SUMMARY </p><p id="p0013" num="0013"> [0005] Embodiments of the present invention include approaches for accurate and fast neural network training for library-based CD metrology. </p><p id="p0014" num="0014">[0006] In an embodiment, a method of accurate neural network training for library-based CD metrology includes optimizing a threshold for a principal component analysis (PCA) of a spectrum data set to provide a principal component (PC) value. A training target for one or more neural networks is estimated. The one or more neural networks are trained based both on the training target and on the PC value provided from optimizing the threshold for the PCA. A spectral library is provided based on the one or more trained neural networks. </p><p id="p0015" num="0015"> [0007] In another embodiment, a machine-accessible storage medium has instructions stored thereon which cause a data processing system to perform a method of accurate neural network training for library-based CD metrology. The method includes optimizing a threshold for a principal component analysis (PCA) of a spectrum data set to provide a principal component (PC) value. A training target for one or more neural networks is estimated. The one or more neural networks are trained based both on the training target and on the PC value provided from </p><p id="p0016" num="0016">optimizing the threshold for the PCA. A spectral library is provided based on the one or more trained neural networks. </p><p id="p0017" num="0017"> [0008] In an embodiment, a method of fast neural network training for library- based CD metrology includes providing a training target for a first neural network. The first neural network is trained. The training includes starting with a </p><p id="p0018" num="0018">predetermined number of neurons and iteratively increasing the number of neurons until an optimized total number of neurons is reached. A second neural network is 
<!-- EPO <DP n="5"/>-->
 generated based on the training and the optimized total number of neurons. A spectral library is provided based on the second neural network. </p><p id="p0019" num="0019"> [0009] In another embodiment, a machine-accessible storage medium has instructions stored thereon which cause a data processing system to perform a method of fast neural network training for library-based CD metrology. The method providing a training target for a first neural network. The first neural network is trained. The training includes starting with a predetermined number of neurons and iteratively increasing the number of neurons until an optimized total number of neurons is reached. A second neural network is generated based on the training and the optimized total number of neurons. A spectral library is provided based on the second neural network. </p><p id="p0020" num="0020">BRIEF DESCRIPTION OF THE DRAWINGS </p><p id="p0021" num="0021"> [0010] Figure 1 depicts a flowchart representing an exemplary series of operations for accurate neural network training for library-based CD metrology, in accordance with an embodiment of the present invention. </p><p id="p0022" num="0022"> [0011] Figure 2A is a plot demonstrating library-regression matching with a dynamic increasing sample library approach in an OFF state. </p><p id="p0023" num="0023">[0012] Figure 2B is a plot demonstrating library-regression matching with a dynamic increasing sample library approach in an ON state, in accordance with an embodiment of the present invention. </p><p id="p0024" num="0024"> [0013] Figure 2C includes a pair of plots of a 3-sigma error range as compared with conventional versus an increasing library sample size, in accordance with an embodiment of the present invention. </p><p id="p0025" num="0025"> [0014] Figure 3 depicts a flowchart representing an exemplary series of operations for fast neural network training for library-based CD metrology, in accordance with an embodiment of the present invention. </p><p id="p0026" num="0026"> [0015] Figure 4A illustrates a two-hidden layer neural network, in accordance with an embodiment of the present invention. </p><p id="p0027" num="0027"> [0016] Figure 4B illustrates a Matlab plot of an actual response surface for a fast neural network training for library-based CD metrology, in accordance with an embodiment of the present invention. 
<!-- EPO <DP n="6"/>-->
 [0017] Figure 4C is a plot comparing convergence history of the incremental algorithm and the one- shot Levenberg-Marquardt algorithm, in accordance with an embodiment of the present invention. </p><p id="p0028" num="0028"> [0018] Figure 4D is a plot illustrating a performance comparison for a fast neural network training for library-based CD metrology, in accordance with an embodiment of the present invention. </p><p id="p0029" num="0029"> [0019] Figure 4E includes a pair of plots comparing the results for one spectrum for a fast neural network training for library-based CD metrology, in accordance with an embodiment of the present invention. </p><p id="p0030" num="0030"> [0020] Figure 4F includes a pair of plots comparing the results for a second spectrum for a fast neural network training for library-based CD metrology, in accordance with an embodiment of the present invention. </p><p id="p0031" num="0031"> [0021] Figure 5 depicts select elements of an exemplary neural network for generating a library of spectral information, in accordance with an embodiment of the present invention. </p><p id="p0032" num="0032"> [0022] Figure 6A depicts a periodic grating having a profile that varies in the x-y plane, in accordance with an embodiment of the present invention. </p><p id="p0033" num="0033">[0023] Figure 6B depicts a periodic grating having a profile that varies in the x-direction but not in the y-direction, in accordance with an embodiment of the present invention. </p><p id="p0034" num="0034"> [0024] Figure 7 depicts a flowchart representing an exemplary series of operations for determining and utilizing structural parameters for automated process and equipment control, in accordance with an embodiment of the present invention. </p><p id="p0035" num="0035">[0025] Figure 8 is an exemplary block diagram of a system for determining and utilizing structural parameters for automated process and equipment control, in accordance with an embodiment of the present invention. </p><p id="p0036" num="0036"> [0026] Figure 9 is an architectural diagram illustrating the utilization of optical metrology to determine the profiles of structures on a semiconductor wafer, in accordance with an embodiment of the present invention. </p><p id="p0037" num="0037"> [0027] Figure 10 illustrates a block diagram of an exemplary computer system, in accordance with an embodiment of the present invention. </p><p id="p0038" num="0038"> [0028] Figure 11 is a flowchart representing operations in a method for a building parameterized model and a spectral library beginning with sample spectra, in accordance with an embodiment of the present invention. 
<!-- EPO <DP n="7"/>-->
 DETAILED DESCRIPTION </p><p id="p0039" num="0039"> [0029] Approaches for accurate and fast neural network training for library- based CD metrology are described herein. In the following description, numerous specific details are set forth, such as examples of neural networks, in order to provide a thorough understanding of embodiments of the present invention. It will be apparent to one skilled in the art that embodiments of the present invention may be practiced without these specific details. In other instances, well-known processing operations, such as operations involved with fabricating grating structures, are not described in detail in order to not unnecessarily obscure embodiments of the present invention. Furthermore, it is to be understood that the various embodiments shown in the figures are illustrative representations and are not necessarily drawn to scale. </p><p id="p0040" num="0040">[0030] With the increasing complexity of semiconductor and related structures, library formation for optical critical dimension simulation faces challenges of obtaining good accuracy for many recent applications. For example, a user may spend weeks to build different libraries only to have difficulty in achieving good library-regression matching and good total metrology uncertainty (TMU) to reference metrology. Aspects of the present invention may provide high accuracy libraries, yet with small library sizes and fast solutions for a user. A user may not need to spend weeks to build a plethora of different libraries but yet obtain good accuracy. </p><p id="p0041" num="0041">[0031] A number of training methods with an iterative nature have been implemented for library development and comparison. They include variations of Levenberg-Marquardt, back-propagation, and N2X algorithms. The issue with such approaches may be that they can be very time-consuming. If the number of neurons is guessed right, the algorithms will converge with a large number of iterations. If the number of neurons is too small, they will not converge and stop until they hit the maximal number of iterations. </p><p id="p0042" num="0042"> [0032] In an aspect of the present invention, an accurate neural network training approach is provided. Figure 1 depicts a flowchart 100 representing an exemplary series of operations for accurate neural network training for library-based CD metrology, in accordance with an embodiment of the present invention. </p><p id="p0043" num="0043">[0033] Referring to operation 102 of flowchart 100, a method includes optimizing a threshold for a principal component analysis (PCA) of a spectrum data set. In an embodiment, the optimizing is to provide a principal component (PC) 
<!-- EPO <DP n="8"/>-->
 value. In an embodiment, the optimizing is to minimize an error introduced by the PCA. The spectrum data set may be based on a measured or simulated spectrum derived from a diffraction measurement of a grating structure, as described in more detail below. </p><p id="p0044" num="0044"> [0034] In accordance with an embodiment of the present invention, the PCA threshold is automatically optimized. The optimizing may minimize the error introduced by PCA into subsequent neural network training. For example, conventional approaches typically utilize a constant value for PCA threshold, e.g., with a PCA-introduced error having a magnitude of approximately 10<sup>"5</sup>. In one embodiment, optimizing the threshold for the PCA includes determining a lowest level spectrum domain. In one specific such embodiment, the PCA-introduced error has a magnitude less than 10 -<sup>"</sup>5 , e.g., a magnitude of approximately 10 -<sup>"</sup>8 to 10 -<sup>"</sup>9. </p><p id="p0045" num="0045">[0035] In an embodiment, optimizing the threshold for the PCA includes determining a first PCA threshold. For example, a given PCA threshold or fraction number may be set at a threshold of t = 10<sup>"5</sup>. The PCA is applied to a spectrum data set. For example, PCA is applied to a spectrum data set S to obtain PC values P = T*S, where T is a matrix. A spectrum error introduced by applying the PCA is calculated. For example, AS = S - T'*P, where T' is the transpose of T. The spectrum error is then compared to a spectrum noise level. In one embodiment, the spectrum noise level is based on optical critical dimension (OCD) hardware specification information. Hardware specification information may be associated with hardware such as the system described in association with Figure 9, below. </p><p id="p0046" num="0046">[0036] When comparing the spectrum error to a spectrum noise level, the following criteria may be applied: ε is given criteria or spectrum noise level as default, if AS &lt;ε output t, otherwise t=t/10 and the optimizing is repeated. Thus, in one embodiment, if the spectrum error is less than the spectrum noise level, the first PCA threshold is set to the PC value. In another embodiment, if the spectrum error is greater than or equal to the spectrum noise level, a second PCA threshold is determined, and the applying, the calculating, and the comparing is repeated. </p><p id="p0047" num="0047">[0037] In an embodiment, optimizing the training target for the PCA includes using a Mueller domain error tolerance. For example, for current art in library training, an error target for each PCA may be set to 10<sup>"5</sup>. There is no clear reason for the setting of the error target at such a value and there is no relation between the PCA 10<sup>"5</sup> error target and an associated spectrum error. And, it is not necessarily 
<!-- EPO <DP n="9"/>-->
 advantageous to set every PCA to the same error target since their contribution to the spectrum may be different. In the following exemplary approach, the Mueller domain error tolerance is converted to each PCA domain error tolerance and set as the PCA training target. </p><p id="p0048" num="0048"> [0038] Prior to training, the neural network training profile is converted to</p><p id="p0049" num="0049">Mueller. From Mueller Elements (ME), a normalization is performed for each wavelength based on the training sample data. Then, PCA is performed on the normalized Mueller Elements (NME) to obtain PC signals for training. So, 1<sup>th</sup> sample at <sup>th</sup> wavelength Mueller Elements (My) can be written as the following: </p><p id="p0050" num="0050"> PC# </p><p id="p0051" num="0051"> Mij =∑ Pdp * tpj * Stdj + Meanj PC#: total PC number </p><p id="p0052" num="0052"> Stdj , Meanj : jth Wavelength standard deviation and mean value </p><p id="p0053" num="0053">For every sample I, P <sub>P</sub> is always multiplied by the same factor to form Mueller Elements. If the My error tolerance is set to 0.001, then pt PC will have the error budget as the following: </p><p id="p0054" num="0054"><img id="imgf000009_0001" he="17" wi="39" file="imgf000009_0001.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="no"/>
 where ETp is the error tolerance of the p principal component value. During training, each PC will have its own training target, and the neuron number is increased for the network in order to meet the training error target. </p><p id="p0055" num="0055"> [0039] Referring to operation 104 of flowchart 100, the method further includes estimating a training target for one or more neural networks. </p><p id="p0056" num="0056"> [0040] In accordance with an embodiment of the present invention, a more accurate training target is used for each neural network. In one such embodiment, the</p><p id="p0057" num="0057">PCA and normalization are taken into account to estimate the training target for each neural network. In an embodiment, the training target is estimated based on PCA transformation and hardware signal noise level. 
<!-- EPO <DP n="10"/>-->
 [0041] Referring to operation 106 of flowchart 100, the method further includes training the one or more neural networks based on the training target and on the PC value. </p><p id="p0058" num="0058"> [0042] In accordance with an embodiment of the present invention, overtraining detection and control is performed. The approach may be used to detect and control overtraining while increasing the number of neurons and overtraining during Levenberg-Marquardt (LM) iterations. In an embodiment, the training is also based on the training target of operation 104 above. It is to be understood that the training may be based on more than one optimized PC value and, likely, on many optimized PC values. Also a combination of unoptimized and optimized PC values may be used. </p><p id="p0059" num="0059"> [0043] Referring to operation 108 of flowchart 100, the method further includes providing a spectral library based on the one or more trained neural networks. In an embodiment, the spectral library is a high accuracy spectral library. </p><p id="p0060" num="0060">[0044] In accordance with an embodiment of the present invention, a high accuracy library with good generalization is provided. In one such embodiment, based on the individual error target for each training output domain, a dynamic increasing neuron number method is developed by checking both training set error and validation set error method to have high accuracy and good generalization neuron net based library. Previous neuron number iteration weights may be used as initial weights for current neural network structures to speed up training. </p><p id="p0061" num="0061"> [0045] In an exemplary embodiment, a method has been developed to improve neuron net training in several different areas in the whole library training method for CD metrology. From the testing, substantial improvements on library regression matching has been achieved. For example, library error ranges (such as 3-sigma error ranges) can be more than 10 times smaller than the library generated from previous training approaches. The range of error may be close to precision level while implementing a much smaller training set. Using a dynamic increasing sample library approach may provide improved convergence behavior versus conventional methods, and may only require a much smaller sample set for building an improved library. A benefit of a dynamic increasing sample library approach is that high accuracy to precision level, smaller library size and fast solution for user to obtain a very good library as the final solution. 
<!-- EPO <DP n="11"/>-->
 [0046] Figure 2A is a plot 200 demonstrating library-regression matching with a dynamic increasing sample library approach in an OFF state. Figure 2B is a plot 210 demonstrating library-regression matching with a dynamic increasing sample library approach in an ON state, in accordance with an embodiment of the present invention. Referring to Figures 2A and 2B, with a dynamic increasing sample library approach ON significantly fewer samples (e.g., 8000 vs. 30000) are required to achieve good matching. </p><p id="p0062" num="0062"> [0047] Figure 2C includes a pair of plots 220 and 230 of a 3-sigma error range as compared with increasing library sample size, in accordance with an embodiment of the present invention. Referring to Figure 2C, a 3-sigma error range changes in response to sample size (e.g. dynamic increasing sample library approach OFF, 5 hours, conventional approach; versus dynamic increasing sample library approach ON, 3 hours, in an embodiment of the present invention). Thus, using a dynamic increasing sample library approach, the time to achieve a desired result may be significantly reduced. </p><p id="p0063" num="0063"> [0048] In an embodiment, referring again to flowchart 100, the high accuracy spectral library includes a simulated spectrum, and the method described in association with flowchart 100 further includes an operation of comparing the simulated spectrum to a sample spectrum. In one embodiment, the simulated spectrum is obtained from a set of spatial harmonics orders. In one embodiment, the sample spectrum is collected from a structure such as, but not limited to, a physical reference sample or a physical production sample. In an embodiment, the comparison is performed by using a regression calculation. In one embodiment, one or more non- differential signals are used simultaneously in the calculation. The one or more non- differential signals may be one such as, but not limited to, azimuth angles, angles of incidence, polarizer/analyzer angles, or additional measurement targets. </p><p id="p0064" num="0064">[0049] In another aspect of the present invention, a fast neural network training approach is provided. Figure 3 depicts a flowchart 300 representing an exemplary series of operations for fast neural network training for library-based CD metrology, in accordance with an embodiment of the present invention. Figures 4A- 4F further illustrate aspects of the method depicted in Figure 3. </p><p id="p0065" num="0065">[0050] Referring to operation 302 of flowchart 300, a method includes providing a training target for a first neural network. Referring to operation 304 of flowchart 300, the first neural network is trained, the training including starting with a 
<!-- EPO <DP n="12"/>-->
 predetermined number of neurons and iteratively increasing the number of neurons until an optimized total number of neurons is reached. Referring to operation 306 of flowchart 300, a second neural network is generated based on the training and the optimized total number of neurons. It is to be understood that many such iterations may be performed in order to reach the optimized total number of neurons. Referring to operation 308 of flowchart 300, a spectral library is provided based on the second neural network. </p><p id="p0066" num="0066"> [0051] In an embodiment, regarding "fast" training, a feed-forward neural network is used to implement a nonlinear mapping function F so that y~F(p). The nonlinear mapping function F is used as a meta-model in determining a spectrum or spectra to associate with a given profile. The determining may be performed relatively quickly in regard to computational time and cost. In one embodiment, the function is determined in a training procedure with a set of training data (pi, yi). A neural network may be used to approximate such an arbitrary nonlinear function. For example, Figure 4A illustrates a two-hidden layer neural network, in accordance with an embodiment of the present invention. </p><p id="p0067" num="0067"> [0052] Referring to Figure 4A, the true mapping function Ftrue(p) from input p to output y can be approximated with the two-hidden layer neural network 400 in a mathematical way, according to eq. 1: </p><p id="p0068" num="0068">Y: =Ftrue(p)~F(p)=V *Gi[h*G<sub>2</sub>(W * p + d) + e] +q where Gl and G2 are nonlinear functions. Given a set of training data (pi, yi), finding out a set of W, h, d, e, v , and q that make F(p) best represents F^^p) is referred to as training. The training can be viewed as solving an optimization problem for minimizing the mean squared error, according to eq. 2: </p><p id="p0069" num="0069"><img id="imgf000012_0001" he="16" wi="92" file="imgf000012_0001.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="no"/></p><p id="p0070" num="0070">Follow-up questions or determinations include, (1) how many number of neurons in the hidden layers should be used?, and (2) how should the neural network be trained to have a prescribed accuracy? 
<!-- EPO <DP n="13"/>-->
 [0053] Regarding a determination of the number of neurons, there are two methods to answer the first question above. The first method is a heuristic approach. The heuristic approach involves setting set two numbers, 18 and 30, for the minimal and maximal number of neurons to be used. When the number of principal components for the training data is smaller than or equals to 25, 18 neurons are used. When the number of principal components is larger than or equals to 80, 30 neurons are used. When the number of principal components falls in between, linear interpolation is used to decide on a suitable number of neurons. One potential issue with the heuristic approach may be that the number of principal components is unrelated to the number of neurons should be used. </p><p id="p0071" num="0071"> [0054] The second method for determining an answer to the first question above is a method coupled with various training methods. First, the maximal number of neurons that can be used is estimated, e.g., denoting the number as Mmax. Then, the following iterative procedure is used to decide the number of neurons and train the corresponding network: set m=10, then (1) train a network with m neurons; if the approach converges, stop, otherwise (2) if (m+5) is larger than Mmax, stop, otherwise (3) increase m by 5, go to operation 1. The above method, however, can be very time- consuming. </p><p id="p0072" num="0072"> [0055] Guessing the optimal number of neurons in a feed-forward neural network to fit a nonlinear function is an NP-complete problem (i.e., a class of problems that have no known solution with polynomial-time complexity). Thus, in accordance with an embodiment of the present invention, and as described in more detail below, a fast method of optimization includes gradually increasing the number of neurons in the network during the training until an optimized number of neurons is determined that will provide a specified accuracy. </p><p id="p0073" num="0073"> [0056] With respect to an algorithmic description, in an embodiment, an incremental training algorithm is a composite method utilizing an algorithm to train a neural network. In one embodiment, a modified Levenberg-Marquardt algorithm is used. The original Levenberg-Marquardt algorithm for the problem is briefly </p><p id="p0074" num="0074"> 8 </p><p id="p0075" num="0075">described as follows: denote the Jacobian J= where w is element in W, h, d, e, </p><p id="p0076" num="0076"> W </p><p id="p0077" num="0077">v<sup>T</sup>, and q for a neural network. Evaluate J and find 5w at iteration i so that: </p><p id="p0078" num="0078">(FJ+ μΐ) δχυ 
<!-- EPO <DP n="14"/>-->
 where I is an identity matrix and μ is a scaling constant adjusted in every iteration. Update w by w<sup>1+1</sup>= w<sup>1</sup> + 5w. Evaluate the cost with the new w's; if the cost is less than a prescribed value (e.g. 10<sup>~5</sup>), stop. Otherwise, continue the next iteration until the number of iterations is larger than a prescribed number (e.g., 200). In other words, there are two possible cases that the algorithm will stop iterating. The first is that the cost function is less than a prescribed value. The second is that the number of iterations is larger than the maximal number of iterations. One observation is that the Levenberg-Marquardt algorithm is very effective in reducing the cost (mean squared value) in the first lO's of iterations. After that, the reduction rate slows down significantly. </p><p id="p0079" num="0079"> [0057] Instead, in an embodiment, the modification of the above Levenberg-</p><p id="p0080" num="0080">Marquardt algorithm for application herein is made at the stopping criteria. That is, one more criterion is added: if the cost does not reduce by x% compared with the cost of the previous iteration for 'r' consecutive iterations, stop. The additional criterion is performed to detect under- fitting. The incremental training algorithm is then presented: a given training set (pi, y in provided as input and a number of neurons n, the weights of the 2-hidden layer network, is provided as output. From there, the following operations are executed: (1) the maximal number of neurons is estimated, e.g., denoted Nmax, (2) the number of neurons n is set to be 4, (3) the Nguyen- Widrow algorithm is used to initialize the weight w's, (4) while ( n &lt; Nmax), (a) the network is trained using the modified Levenberg-Marquardt approach, (b) if cost is less than a prescribed value, the determination is stopped, (c) if cost does not reduce by x% compared with the previous cost with 'r' consecutive trials, the determination is stopped, (d) optionally, a validation data set is used: if the error of validation data increases for t consecutive trials, the determination is stopped, (e) n is set to n + 2, and the new neural network is constructed by using the trained weights in the old neural network. Random numbers are then assigned to new weights, and operations 4a-e are repeated. </p><p id="p0081" num="0081"> [0058] It is to be understood that the modification of Levenberg-Marquardt may be important for fast training approaches. The modification may permit that the algorithm stops when reduction rate is small and increases the number of neurons instead. Namely, modification amounts to detection under-fitting. In practice, in one embodiment, x = 10 and r =4 are found to be a good selection. Algorithms other than 
<!-- EPO <DP n="15"/>-->
 Levenberg-Marquardt can be used, provided that the modification is done properly. Regarding the operation, 4e, the operation permits the search to jump out of a local minima that are often led to by those gradient-based optimization algorithms, such as Levenberg-Marquardt. The Levenberg-Marquardt approach provides a good set of starting values for weights. Operations 4c and 4d above are methods to prevent overtraining with larger number of neurons. </p><p id="p0082" num="0082"> [0059] In an embodiment, a further extension of the incremental algorithm can be implemented as follows, assuming for simplicity that the raw data is trained, which includes Mueller elements of different profiles, instead of the principal components. The further extension can be described in the following set of operations: (1) given a set of profiles, say Np, a neural network is trained using the above new algorithm to represent the nonlinear mapping from a profile to one Mueller element, (2) an Np + = δΝρ approach is used to train the network defined with Np profiles, (a) if the Np + = δΝρ approach stagnates, the number of neurons is increased to more accurately represent the nonlinear mapping, (b) if the Np + = δΝρ approach converges, the current network is used, (3) the accuracy of the current neural network model is evaluated for the nonlinear mapping, (a) if the desired accuracy is satisfied, the method is stopped here, (b) otherwise, the number of profiles is increased by δΝρ, and the method includes reverting again to operation 2. </p><p id="p0083" num="0083"> [0060] Figure 4B illustrates a Matlab plot 410 of an actual response surface for a fast neural network training for library-based CD metrology, in accordance with an embodiment of the present invention. Referring to Figure 4B, a function with two unknowns is used to generate 1000 training samples along with 100 validation samples using Halton quasi-random number generator. </p><p id="p0084" num="0084">[0061] Figure 4C is a plot 420 comparing convergence history of the incremental algorithm and the one- shot Levenberg-Marquardt algorithm, in accordance with an embodiment of the present invention. Referring to Figure 4C, the convergence history of the incremental training algorithm is compared with original Levenberg-Marquardt algorithm (tagged as one- shot method since the method provides one-shot training with an estimated number of neurons, e.g., 12 neurons in each hidden layer). The incremental training portion of plot 420 exhibits spikes because of operations in 4e, but the algorithm is very effective in reducing the cost back to previous level. The one-shot method stagnates and does not converge within 200 iterations. The computational complexity of one iteration of the Levenberg- 
<!-- EPO <DP n="16"/>-->
 Marquardt is 0(n<sup>6</sup>), where n is the number of neurons in the two-hidden layer network. For the incremental algorithm, the execution time is dominated by the training of the last value of the number of neurons. Thus, the performance of incremental algorithm projected may be an order magnitude better than one- shot method by comparing with the number of iterations in the last stage of the incremental training and the number of iterations used in the one-shot method. </p><p id="p0085" num="0085">[0062] Figure 4D is a plot 430 illustrating a performance comparison for a fast neural network training for library-based CD metrology, in accordance with an embodiment of the present invention. Referring to Figure 4D, in a two-dimensional testing example there are four degrees of freedom, one for the top dimension, one for the bottom dimension, and two for the heights. The ranges of those parameters are also shown. Automatic truncation order is used for RCWA simulation. There are 251 wavelengths. A dynamic increasing sample library approach is enabled and there were more than 14,000 profiles generated in order to create a library. </p><p id="p0086" num="0086">[0063] Figure 4E includes a pair of plots 440 and 450 comparing the results for one spectrum for a fast neural network training for library-based CD metrology, in accordance with an embodiment of the present invention. Referring to Figure 4E, only the cost values at the end of each stage were plotted, for the purpose of clarity. With incremental training, the application converged with 127 total iterations and the final number of neurons was 22. Note that there were only 7 iterations at the last stage, which is the dominating portion. With training algorithm using a dynamic increasing sample library, the approach converged with 712 iterations and the final number of neurons was 25. Note that the approach utilized 111 iterations at the last stage. </p><p id="p0087" num="0087"> [0064] Figure 4F includes a pair of plots 460 and 470 comparing the results for a second spectrum for a fast neural network training for library-based CD metrology, in accordance with an embodiment of the present invention. Referring to Figure 4F, results for another spectrum in the same testing example as Figure 4E are presented. With incremental training, the approach required 240 total iterations for a final number of neurons of 40, where the last stage only used 9 iterations. With the conventional training method, the approach did not converge after 1200 iterations. </p><p id="p0088" num="0088">[0065] More generally, pertaining at least to some embodiments of the present invention, a new training method has been found for neural networks. During the execution of the algorithm, an optimized number of neurons for the hidden layers is 
<!-- EPO <DP n="17"/>-->
 determined. The algorithm can be an order of magnitude faster than one-shot Levenberg-Marquardt especially if one can estimate the correct number of neurons. The algorithm may be orders of magnitude faster than conventional approaches. In one embodiment, an optimized number of neurons in the hidden layer is determined. In one embodiment, the above approach trains the network in very fast way. </p><p id="p0089" num="0089">[0066] In an embodiment, referring again to flowchart 300, the spectral library generated includes a simulated spectrum, and the method described in association with flowchart 300 further includes an operation of comparing the simulated spectrum to a sample spectrum. In one embodiment, the simulated spectrum is obtained from a set of spatial harmonics orders. In one embodiment, the sample spectrum is collected from a structure such as, but not limited to, a physical reference sample or a physical production sample. In an embodiment, the comparison is performed by using a regression calculation. In one embodiment, one or more non-differential signals are used simultaneously in the calculation. The one or more non-differential signals may be one such as, but not limited to, azimuth angles, angles of incidence, </p><p id="p0090" num="0090">polarizer/analyzer angles, or additional measurement targets. </p><p id="p0091" num="0091">[0067] Any suitable neural network may be used to perform one or more approaches described in association with flowcharts 100 and 300. As an example, Figure 5 depicts select elements of an exemplary neural network for generating a library of spectral information, in accordance with an embodiment of the present invention. </p><p id="p0092" num="0092"> [0068] Referring to Figure 5, a neural network 500 uses a back-propagation algorithm. Neural network 500 includes an input layer 502, an output layer 504, and a hidden layer 506 between input layer 502 and output layer 504. Input layer 502 and hidden layer 506 are connected using links 508. Hidden layer 506 and output layer 504 are connected using links 510. It should be recognized, however, that neural network 500 can include any number of layers connected in various configurations commonly known in the neural network art. </p><p id="p0093" num="0093"> [0069] As depicted in Figure 5, input layer 502 includes one or more input nodes 512. In the present exemplary implementation, an input node 512 in input layer 502 corresponds to a profile parameter of the profile model that is inputted into neural network 500. Thus, the number of input nodes 512 corresponds to the number of profile parameters used to characterize the profile model. For example, if a profile model is characterized using two profile parameters (e.g., top and bottom critical 
<!-- EPO <DP n="18"/>-->
 dimensions), input layer 502 includes two input nodes 512, where a first input node 512 corresponds to a first profile parameter (e.g., a top critical dimension) and a second input node 512 corresponds to a second profile parameter (e.g., a bottom critical dimension). </p><p id="p0094" num="0094"> [0070] In neural network 500, output layer 504 includes one or more output nodes 514. In the present exemplary implementation, each output node 514 is a linear function. It should be recognized, however, that each output node 514 can be various types of functions. Additionally, in the present exemplary implementation, an output node 514 in output layer 504 corresponds to a dimension of the simulated diffraction signal that is outputted from neural network 500. Thus, the number of output nodes 514 corresponds to the number of dimensions used to characterize the simulated diffraction signal. For example, if a simulated diffraction signal is characterized using five dimensions corresponding to, for example, five different wavelengths, output layer 504 includes five output nodes 514, wherein a first output node 514 corresponds to a first dimension (e.g., a first wavelength), a second output node 514 corresponds to a second dimension (e.g., a second wavelength), etc. Additionally, for increased performance, neural network 500 can be separated into a plurality of sub networks based on separate components of the simulated diffraction signal and/or dimensions of the components of the simulated diffraction signal. </p><p id="p0095" num="0095"> [0071] In neural network 500, hidden layer 506 includes one or more hidden nodes 516. In the present exemplary implementation, each hidden node 516 is a sigmoidal transfer function or a radial basis function. It should be recognized, however, that each hidden node 516 can be various types of functions. Additionally, in the present exemplary implementation, the number of hidden nodes 516 is determined based on the number of output nodes 514. More particularly, the number of hidden nodes 516(m) is related to the number of output nodes 514(n) by a predetermined ratio (r = m/n). For example, when r = 10, there are 10 hidden nodes 516 for each output node 514. It should be recognized, however, that the </p><p id="p0096" num="0096">predetermined ratio can be a ratio of the number of output nodes 514 to the number of hidden nodes 516 (i.e., r = n/m). Additionally, it should be recognized that the number of hidden nodes 516 in neural network 500 can be adjusted after the initial number of hidden nodes 516 is determined based on the predetermined ratio. </p><p id="p0097" num="0097">Furthermore, the number of hidden nodes 516 in neural network 500 can be 
<!-- EPO <DP n="19"/>-->
 determined based on experience and/or experimentation rather than based on the predetermined ratio. </p><p id="p0098" num="0098"> [0072] Libraries described above described above may include, in an embodiment, one or more parameters of an individual feature of a two-dimensional or three-dimensional grating structure. The term "three-dimensional grating structure" is used herein to refer to a structure having an x-y profile that varies in two dimensions in addition to a depth in the z-direction. For example, Figure 6A depicts a periodic grating 600 having a profile that varies in the x-y plane, in accordance with an embodiment of the present invention. The profile of the periodic grating varies in the z-direction as a function of the x-y profile. </p><p id="p0099" num="0099"> [0073] The term "two-dimensional grating structure" is used herein to refer to a structure having an x-y profile that varies in only one dimension in addition to a depth in the z-direction. For example, Figure 6B depicts a periodic grating 602 having a profile that varies in the x-direction but not in the y-direction, in accordance with an embodiment of the present invention. The profile of the periodic grating varies in the z-direction as a function of the x profile. It is to be understood that the lack of variation in the y-direction for a two-dimensional structure need not be infinite, but any breaks in the pattern are considered long range, e.g., any breaks in the pattern in the y-direction are spaced substantially further apart than the brakes in the pattern in the x-direction. </p><p id="p0100" num="0100"> [0074] In an embodiment, where the individual feature is of a two- dimensional or three-dimensional grating structure, the first parameter is one such as, but not limited to, width, height, length, top corner rounding, bottom footing, or sidewall angle of the individual feature. Optical properties of materials, such as index of refractivity and coefficient of extinction, (n &amp; k), in wafer structures may also be modeled for use in optical metrology. </p><p id="p0101" num="0101"> [0075] Regarding the use of spectral libraries as provided from the methods of flowcharts 100 and 300, in an embodiment, one such method includes altering parameters of a process tool based on the agreement or non-agreement with simulated parameters in the spectral library. Altering the parameters of the process tool may be performed by using a technique such as, but not limited to, a feedback technique, a feed-forward technique, and an in situ control technique. In an embodiment, the spectral library can be used to more accurately set up a device structure profile and 
<!-- EPO <DP n="20"/>-->
 geometry in a CD metrology tool recipe. In an embodiment, the spectral library is used as a part of CD metrology tool validation, diagnostic and characterization. </p><p id="p0102" num="0102">[0076] As described above, use of a spectral library may include comparing a simulated spectrum to a sample spectrum. In one embodiment, a set of diffraction orders is simulated to represent diffraction signals generated by an ellipsometric optical metrology system from a two- or three-dimensional grating structure. Such an optical metrology system is described below in association with Figure 9. However, it is to be understood that the same concepts and principles equally apply to the other optical metrology systems, such as reflectometric systems. The diffraction signals represented may account for features of the two- or three-dimensional grating structure such as, but not limited to, profile, dimensions or material composition. </p><p id="p0103" num="0103">[0077] Calculations based simulated diffraction orders may be indicative of profile parameters for a patterned film, such as a patterned semiconductor film or photo-resist layer, and may be used for calibrating automated processes or equipment control. Figure 7 depicts a flowchart 700 representing an exemplary series of operations for determining and utilizing structural parameters, such as profile parameters, for automated process and equipment control, in accordance with an embodiment of the present invention. </p><p id="p0104" num="0104"> [0078] Referring to operation 702 of flowchart 700, a spectral library or trained machine learning systems (MLS) is developed to extract profile parameters from a set of measured diffraction signals. In operation 704, at least one profile parameter of a structure is determined using the spectral library or the trained MLS. In operation 706, the at least one profile parameter is transmitted to a fabrication cluster configured to perform a processing operation, where the processing operation may be executed in the semiconductor manufacturing process flow either before or after measurement operation 704 is made. In operation 708, the at least one transmitted profile parameter is used to modify a process variable or equipment setting for the processing operation performed by the fabrication cluster. </p><p id="p0105" num="0105">[0079] For a more detailed description of machine learning systems and algorithms, see U.S. Patent No. 7,831,528, entitled OPTICAL METROLOGY OF STRUCTURES FORMED ON SEMICONDUCTOR WAFERS USING MACHINE LEARNING SYSTEMS, filed on June 27, 2003, which is incorporated herein by reference in its entirety. For a description of diffraction order optimization for two dimensional repeating structures, see U.S. Patent No. 7,428,060, entitled 
<!-- EPO <DP n="21"/>-->
 OPTIMIZATION OF DIFFRACTION ORDER SELECTION FOR TWO- DIMENSIONAL STRUCTURES, filed on March 24, 2006, which is incorporated herein by reference in its entirety. </p><p id="p0106" num="0106"> [0080] Figure 8 is an exemplary block diagram of a system 800 for determining and utilizing structural parameters, such as profile parameters, for automated process and equipment control, in accordance with an embodiment of the present invention. System 800 includes a first fabrication cluster 802 and optical metrology system 804. System 800 also includes a second fabrication cluster 806. Although the second fabrication cluster 806 is depicted in Figure 8 as being subsequent to first fabrication cluster 802, it should be recognized that second fabrication cluster 806 can be located prior to first fabrication cluster 802 in system 800 (and, e.g., in the manufacturing process flow). </p><p id="p0107" num="0107"> [0081] A photolithographic process, such as exposing and developing a photoresist layer applied to a wafer, can be performed using first fabrication cluster 802. In one exemplary embodiment, optical metrology system 804 includes an optical metrology tool 808 and processor 810. Optical metrology tool 808 is configured to measure a diffraction signal obtained from the structure. If the measured diffraction signal and the simulated diffraction signal match, one or more values of the profile parameters are determined to be the one or more values of the profile parameters associated with the simulated diffraction signal. </p><p id="p0108" num="0108"> [0082] In one exemplary embodiment, optical metrology system 804 can also include a spectral library 812 with a plurality of simulated diffraction signals and a plurality of values of one or more profile parameters associated with the plurality of simulated diffraction signals. As described above, the spectral library can be generated in advance. Metrology processor 810 can compare a measured diffraction signal obtained from a structure to the plurality of simulated diffraction signals in the spectral library. When a matching simulated diffraction signal is found, the one or more values of the profile parameters associated with the matching simulated diffraction signal in the spectral library is assumed to be the one or more values of the profile parameters used in the wafer application to fabricate the structure. </p><p id="p0109" num="0109">[0083] System 800 also includes a metrology processor 816. In one exemplary embodiment, processor 810 can transmit the one or more values of the one or more profile parameters to metrology processor 816. Metrology processor 816 can then adjust one or more process parameters or equipment settings of first fabrication 
<!-- EPO <DP n="22"/>-->
 cluster 802 based on the one or more values of the one or more profile parameters determined using optical metrology system 804. Metrology processor 816 can also adjust one or more process parameters or equipment settings of the second fabrication cluster 806 based on the one or more values of the one or more profile parameters determined using optical metrology system 804. As noted above, fabrication cluster 806 can process the wafer before or after fabrication cluster 802. In another exemplary embodiment, processor 810 is configured to train machine learning system 814 using the set of measured diffraction signals as inputs to machine learning system 814 and profile parameters as the expected outputs of machine learning system 814. </p><p id="p0110" num="0110">[0084] Figure 9 is an architectural diagram illustrating the utilization of optical metrology to determine the profiles of structures on a semiconductor wafer, in accordance with embodiments of the present invention. The optical metrology system 900 includes a metrology beam source 902 projecting a metrology beam 904 at the target structure 906 of a wafer 908. The metrology beam 904 is projected at an incidence angle Θ towards the target structure 906. The diffraction beam 910 is measured by a metrology beam receiver 912. The diffraction beam data 914 is transmitted to a profile application server 916. The profile application server 916 compares the measured diffraction beam data 914 against a spectral library 918 of simulated diffraction beam data representing varying combinations of critical dimensions of the target structure and resolution. </p><p id="p0111" num="0111"> [0085] In accordance with an embodiment of the present invention, at least a portion of the simulated diffraction beam data is based on a difference determined for two or more azimuth angles. In accordance with another embodiment of the present invention, at least a portion of the simulated diffraction beam data is based on a difference determined for two or more angles of incidence. In one exemplary embodiment, the spectral library 918 instance best matching the measured diffraction beam data 914 is selected. It is to be understood that although a spectral library of diffraction spectra or signals and associated hypothetical profiles is frequently used to illustrate concepts and principles, the present invention applies equally to a spectral data space including simulated diffraction signals and associated sets of profile parameters, such as in regression, neural network, and similar methods used for profile extraction. The hypothetical profile and associated critical dimensions of the selected spectral library 916 instance is assumed to correspond to the actual cross- sectional profile and critical dimensions of the features of the target structure 906. 
<!-- EPO <DP n="23"/>-->
 The optical metrology system 900 may utilize a reflectometer, an ellipsometer, or other optical metrology device to measure the diffraction beam or signal. </p><p id="p0112" num="0112">[0086] The set of profile models stored in spectral library 918 can be generated by characterizing a profile model using a set of profile parameters and then varying the set of profile parameters to generate profile models of varying shapes and dimensions. The process of characterizing a profile model using a set of profile parameters is referred to as parameterizing. For example, assume that a profile model can be characterized by profile parameters hi and wl that define its height and width, respectively. Additional shapes and features of the profile model can be characterized by increasing the number of profile parameters. For example, the profile model can be characterized by profile parameters hi, wl, and w2 that define its height, bottom width, and top width, respectively. Note that the width of the profile model can be referred to as the critical dimension (CD). For example, profile parameters wl and w2 can be described as defining the bottom CD and top CD, respectively, of the profile model. It should be recognized that various types of profile parameters can be used to characterize the profile model, including but not limited to angle of incidence (AOI), pitch, n &amp; k, hardware parameters (e.g., polarizer angle). </p><p id="p0113" num="0113">[0087] As described above, the set of profile models stored in spectral library</p><p id="p0114" num="0114">918 can be generated by varying the profile parameters that characterize the profile model. For example, by varying profile parameters hi, wl, and w2, profile models of varying shapes and dimensions can be generated. Note that one, two, or all three profile parameters can be varied relative to one another. As such, the profile parameters of the profile model associated with a matching simulated diffraction signal can be used to determine a feature of the structure being examined. For example, a profile parameter of the profile model corresponding to a bottom CD can be used to determine the bottom CD of the structure being examined. </p><p id="p0115" num="0115">[0088] Embodiments of the present invention may be suitable for a variety of film stacks. For example, in an embodiment, a film stack includes a single layer or multiple layers. Also, in an embodiment, an analyzed or measured grating structure includes both a three-dimensional component and a two-dimensional component. For example, the efficiency of a computation based on simulated diffraction data may be optimized by taking advantage of the simpler contribution by the two-dimensional component to the over all structure and the diffraction data thereof. 
<!-- EPO <DP n="24"/>-->
 [0089] In order to facilitate the description of embodiments of the present invention, an ellipsometric optical metrology system is used to illustrate the above concepts and principles. It is to be understood that the same concepts and principles apply equally to the other optical metrology systems, such as reflectometric systems. In a similar manner, a semiconductor wafer may be utilized to illustrate an application of the concept. Again, the methods and processes apply equally to other work pieces that have repeating structures. In an embodiment, the optical scatterometry is a technique such as, but not limited to, optical spectroscopic ellipsometry (SE), beam profile reflectometry (BPR), and enhanced ultra-violet reflectometry (eUVR). </p><p id="p0116" num="0116">[0090] The present invention may be provided as a computer program product, or software, that may include a machine-readable medium having stored thereon instructions, which may be used to program a computer system (or other electronic devices) to perform a process according to the present invention. A machine-readable medium includes any mechanism for storing or transmitting information in a form readable by a machine (e.g., a computer). For example, a machine-readable (e.g., computer-readable) medium includes a machine (e.g., a computer) readable storage medium (e.g., read only memory ("ROM"), random access memory ("RAM"), magnetic disk storage media, optical storage media, flash memory devices, etc.), a machine (e.g., computer) readable transmission medium (electrical, optical, acoustical or other form of propagated signals (e.g., carrier waves, infrared signals, digital signals, etc.)), etc. </p><p id="p0117" num="0117"> [0091] Figure 10 illustrates a diagrammatic representation of a machine in the exemplary form of a computer system 1000 within which a set of instructions, for causing the machine to perform any one or more of the methodologies discussed herein, may be executed. In alternative embodiments, the machine may be connected (e.g., networked) to other machines in a Local Area Network (LAN), an intranet, an extranet, or the Internet. The machine may operate in the capacity of a server or a client machine in a client-server network environment, or as a peer machine in a peer- to-peer (or distributed) network environment. The machine may be a personal computer (PC), a tablet PC, a set-top box (STB), a Personal Digital Assistant (PDA), a cellular telephone, a web appliance, a server, a network router, switch or bridge, or any machine capable of executing a set of instructions (sequential or otherwise) that specify actions to be taken by that machine. Further, while only a single machine is illustrated, the term "machine" shall also be taken to include any collection of 
<!-- EPO <DP n="25"/>-->
 machines (e.g., computers) that individually or jointly execute a set (or multiple sets) of instructions to perform any one or more of the methodologies discussed herein. </p><p id="p0118" num="0118">[0092] The exemplary computer system 1000 includes a processor 1002, a main memory 1004 (e.g., read-only memory (ROM), flash memory, dynamic random access memory (DRAM) such as synchronous DRAM (SDRAM) or Rambus DRAM (RDRAM), etc.), a static memory 1006 (e.g., flash memory, static random access memory (SRAM), etc.), and a secondary memory 1018 (e.g., a data storage device), which communicate with each other via a bus 1030. </p><p id="p0119" num="0119"> [0093] Processor 1002 represents one or more general-purpose processing devices such as a microprocessor, central processing unit, or the like. More particularly, the processor 1002 may be a complex instruction set computing (CISC) microprocessor, reduced instruction set computing (RISC) microprocessor, very long instruction word (VLIW) microprocessor, processor implementing other instruction sets, or processors implementing a combination of instruction sets. Processor 1002 may also be one or more special-purpose processing devices such as an application specific integrated circuit (ASIC), a field programmable gate array (FPGA), a digital signal processor (DSP), network processor, or the like. Processor 1002 is configured to execute the processing logic 1026 for performing the operations discussed herein. </p><p id="p0120" num="0120">[0094] The computer system 1000 may further include a network interface device 1008. The computer system 1000 also may include a video display unit 1010 (e.g., a liquid crystal display (LCD) or a cathode ray tube (CRT)), an alphanumeric input device 1012 (e.g., a keyboard), a cursor control device 814 (e.g., a mouse), and a signal generation device 1016 (e.g., a speaker). </p><p id="p0121" num="0121"> [0095] The secondary memory 1018 may include a machine-accessible storage medium (or more specifically a computer-readable storage medium) 1031 on which is stored one or more sets of instructions (e.g., software 1022) embodying any one or more of the methodologies or functions described herein. The software 1022 may also reside, completely or at least partially, within the main memory 1004 and/or within the processor 1002 during execution thereof by the computer system 1000, the main memory 1004 and the processor 1002 also constituting machine-readable storage media. The software 1022 may further be transmitted or received over a network 1020 via the network interface device 1008. </p><p id="p0122" num="0122"> [0096] While the machine-accessible storage medium 1031 is shown in an exemplary embodiment to be a single medium, the term "machine-readable storage 
<!-- EPO <DP n="26"/>-->
 medium" should be taken to include a single medium or multiple media (e.g., a centralized or distributed database, and/or associated caches and servers) that store the one or more sets of instructions. The term "machine-readable storage medium" shall also be taken to include any medium that is capable of storing or encoding a set of instructions for execution by the machine and that cause the machine to perform any one or more of the methodologies of the present invention. The term "machine- readable storage medium" shall accordingly be taken to include, but not be limited to, solid-state memories, and optical and magnetic media. </p><p id="p0123" num="0123"> [0097] In accordance with an embodiment of the present invention, a machine- accessible storage medium has instructions stored thereon which cause a data processing system to perform a method of accurate neural network training for library- based CD metrology. The method includes optimizing a threshold for a principal component analysis (PCA) of a spectrum data set to provide a principal component (PC) value. A training target for one or more neural networks is estimated based on the PC value. The one or more neural networks are trained based on the training target and on the PC value. A spectral library is provided based on the one or more trained neural networks. </p><p id="p0124" num="0124"> [0098] In an embodiment, optimizing the threshold for the PCA includes determining a lowest level spectrum domain. </p><p id="p0125" num="0125"> [0099] In an embodiment, optimizing the threshold for the PCA includes determining a first PCA threshold, applying the PCA to a spectrum data set, calculating a spectrum error introduced by applying the PCA, and comparing the spectrum error to a spectrum noise level. In one such embodiment, if the spectrum error is less than the spectrum noise level, the first PCA threshold is set to the PC value. In another one such embodiment, if the spectrum error is greater than or equal to than the spectrum noise level, a second PCA threshold is determined, and the applying, the calculating, and the comparing is repeated. </p><p id="p0126" num="0126"> [00100] In an embodiment, optimizing the threshold for the PCA includes using a Mueller domain error tolerance. </p><p id="p0127" num="0127"> [00101] In an embodiment, the high accuracy spectral library includes a simulated spectrum, and the method further includes comparing the simulated spectrum to a sample spectrum. </p><p id="p0128" num="0128"> [00102] In accordance with another embodiment of the present invention, a machine-accessible storage medium has instructions stored thereon which cause a data 
<!-- EPO <DP n="27"/>-->
 processing system to perform a method of fast neural network training for library- based CD metrology. The method includes providing a training target for a first neural network. The first neural network is trained. The training includes starting with a predetermined number of neurons and iteratively increasing the number of neurons until an optimized total number of neurons is reached. A second neural network is generated based on the training and the optimized total number of neurons. A spectral library is provided based on the second neural network. </p><p id="p0129" num="0129">[00103] In an embodiment, iteratively increasing the number of neurons until the optimized total number of neurons is reached includes using a modified </p><p id="p0130" num="0130">Levenberg-Marquardt approach. </p><p id="p0131" num="0131"> [00104] In an embodiment, iteratively increasing the number of neurons includes increasing the number of neurons in a hidden layer of the first neural network. </p><p id="p0132" num="0132"> [00105] In an embodiment, the spectral library includes a simulated spectrum, and the method further includes comparing the simulated spectrum to a sample spectrum. </p><p id="p0133" num="0133"> [00106] Analysis of measured spectra generally involves comparing the measured sample spectra to simulated spectra to deduce a model's parameter values that best describe the measured sample. Figure 11 is a flowchart 1100 representing operations in a method for a building parameterized model and a spectral library beginning with sample spectra (e.g., originating from one or more workpieces), in accordance with an embodiment of the present invention. </p><p id="p0134" num="0134">[00107] At operation 1101, a set of material files are defined by a user to specify characteristics (e.g., n, k values) of the material(s) from which the measured sample feature is formed. </p><p id="p0135" num="0135"> [00108] At operation 1102, a scatterometry user defines a nominal model of the expected sample structure by selecting one or more of the material files to assemble a stack of materials corresponding to those present in the periodic grating features to be measured. Such a user-defined model may be further parameterized through definition of nominal values of model parameters, such as thicknesses, critical dimension (CD), sidewall angle (SWA), height (HT), edge roughness, corner rounding radius, etc. which characterize the shape of the feature being measured. Depending on whether a 2D model (i.e., a profile) or 3D model is defined, it is not uncommon to have 30-50, or more, such model parameters. 
<!-- EPO <DP n="28"/>-->
 [00109] From a parameterized model, simulated spectra for a given set of grating parameter values may be computed using rigorous diffraction modeling algorithms, such as Rigorous Coupled Wave Analysis (RCWA). Regression analysis is then performed at operation 1103 until the parameterized model converges on a set of parameter values characterizing a final profile model (for 2D) that corresponds to a simulated spectrum which matches the measured diffraction spectra to a predefined matching criterion. The final profile model associated with the matching simulated diffraction signal is presumed to represent the actual profile of the structure from which the model was generated. </p><p id="p0136" num="0136"> [00110] The matching simulated spectra and/or associated optimized profile model can then be utilized at operation 1104 to generate a library of simulated diffraction spectra by perturbing the values of the parameterized final profile model. The resulting library of simulated diffraction spectra may then be employed by a scatterometry measurement system operating in a production environment to determine whether subsequently measured grating structures have been fabricated according to specifications. Library generation 1104 may include a machine learning system, such as a neural network, generating simulated spectral information for each of a number of profiles, each profile including a set of one or more modeled profile parameters. In order to generate the library, the machine learning system itself may have to undergo some training based on a training data set of spectral information. Such training may be computationally intensive and/or may have to be repeated for different models and/or profile parameter domains. Considerable inefficiency in the computational load of generating a library may be introduced by a user' s decisions regarding the size of a training data set. For example, selection of an overly large training data set may result in unnecessary computations for training while training with a training data set of insufficient size may necessitate a retraining to generate a library. </p><p id="p0137" num="0137"> [00111] Some embodiments described herein include an automated </p><p id="p0138" num="0138">determination of a training data set size to be used in training a machine learning system. Generally, the training data set is sized based on convergence of a data set characterization metric and may be further based on an estimate of the final solution error. The training data set is incrementally expanded and tested to identify convergence and, in certain embodiments, estimate the final solution error such a sample size will provide. The incremental expansion and testing is performed until 
<!-- EPO <DP n="29"/>-->
 convergence criteria are met and/or the estimate of final solution error meets a threshold. </p><p id="p0139" num="0139"> [00112] Because the training matrix sizing methods described herein may not require a separate training, a good training data sample set for neural network training is identified quickly, efficiently, and with good control of the final solution error. With the training data sample set identified, a machine learning system may then be trained to generate the desired target function information. In one particular embodiment, the machine learning system is trained to generate a library of simulated spectral information (e.g., diffraction signals) which may be utilized to deduce parameters of an unknown sample (e.g., diffraction grating or a wafer periodic structure) measured with a scratterometry system. </p><p id="p0140" num="0140"> [00113] It is to be understood that the above methodologies may be applied under a variety of circumstances within the spirit and scope of embodiments of the present invention. For example, in an embodiment, a method described above is performed in a semiconductor, solar, light-emitting diode (LED), or a related fabrication process. In an embodiment, a method described above is used in a standalone or an integrated metrology tool. In an embodiment, a method described above is used in single- or multiple-measurement target regressions. </p><p id="p0141" num="0141">[00114] Thus, approaches for accurate and fast neural network training for library-based CD metrology have been disclosed. In accordance with an embodiment of the present invention, a method of accurate neural network training for library- based CD metrology includes optimizing a threshold for a principal component analysis (PCA) of a spectrum data set to provide a principal component (PC) value. The method also includes estimating a training target for one or more neural networks. The method also includes training the one or more neural networks based on the PC value and the training target. The method also includes providing a spectral library based on the one or more trained neural networks. In one embodiment, optimizing the threshold for the PCA includes determining a lowest level spectrum domain. In accordance with an embodiment of the present invention, a method of fast neural network training for library-based CD metrology includes providing a training target for a first neural network. The method also includes training the first neural network, the training including starting with a predetermined number of neurons and iteratively increasing the number of neurons until an optimized total number of neurons is reached. The method also includes generating a second neural network based on the 
<!-- EPO <DP n="30"/>-->
 training and the optimized total number of neurons. The method also includes providing a spectral library based on the second neural network. In one embodiment, iteratively increasing the number of neurons until the optimized total number of neurons is reached includes using a modified Levenberg-Marquardt approach. 
</p></description><claims mxw-id="PCLM46061881" ref-ucid="WO-2012150993-A2" lang="EN" load-source="patent-office"><claim-statement><!-- EPO <DP n="31"/>-->CLAIMS What is claimed is: </claim-statement><claim id="clm-0001" num="1"><claim-text>1. A method of accurate neural network training for library-based critical dimension (CD) metrology, the method comprising: </claim-text><claim-text> optimizing a threshold for a principal component analysis (PCA) of a spectrum data set to provide a principal component (PC) value; </claim-text><claim-text> estimating a training target for one or more neural networks; </claim-text><claim-text> training, based both on the training target and on the PC value provided from optimizing the threshold for the PCA, the one or more neural networks; and providing a spectral library based on the one or more trained neural networks. </claim-text></claim><claim id="clm-0002" num="2"><claim-text>2. The method of claim 1, wherein optimizing the threshold for the PCA comprises determining a lowest level spectrum domain. </claim-text></claim><claim id="clm-0003" num="3"><claim-text>3. The method of claim 1, wherein optimizing the threshold for the PCA of the spectrum data set comprises: </claim-text><claim-text> determining a first PCA threshold; </claim-text><claim-text> applying the PCA to the spectrum data set using the first PCA threshold; </claim-text><claim-text> calculating a spectrum error introduced by applying the PCA using the first PCA threshold; and </claim-text><claim-text> comparing the spectrum error to a spectrum noise level. </claim-text></claim><claim id="clm-0004" num="4"><claim-text>4. The method of claim 3, further comprising: </claim-text><claim-text> if the spectrum error is less than the spectrum noise level, setting the first PCA threshold to the PC value. </claim-text></claim><claim id="clm-0005" num="5"><claim-text>5. The method of claim 3, further comprising: </claim-text><claim-text> if the spectrum error is greater than or equal to than the spectrum noise level, determining a second PCA threshold, and repeating the applying, the calculating, and the comparing. </claim-text></claim><claim id="clm-0006" num="6"><claim-text>6. The method of claim 1, wherein optimizing the threshold for the PCA comprises using a Mueller domain error tolerance. <!-- EPO <DP n="32"/>--> </claim-text></claim><claim id="clm-0007" num="7"><claim-text>7. The method of claim 1, wherein the high accuracy spectral library comprises a simulated spectrum, the method further comprising: </claim-text><claim-text> comparing the simulated spectrum to a sample spectrum. </claim-text></claim><claim id="clm-0008" num="8"><claim-text>8. A machine-accessible storage medium having instructions stored thereon which cause a data processing system to perform a method of accurate neural network training for library-based critical dimension (CD) metrology, the method comprising: optimizing a threshold for a principal component analysis (PCA) of a spectrum data set to provide a principal component (PC) value; </claim-text><claim-text> estimating a training target for one or more neural networks; </claim-text><claim-text> training, based both on the training target and on the PC value provided from optimizing the threshold for the PCA, the one or more neural networks; and providing a spectral library based on the one or more trained neural networks.</claim-text></claim><claim id="clm-0009" num="9"><claim-text>9. The storage medium as in claim 8, wherein optimizing the threshold for the PCA comprises determining a lowest level spectrum domain. </claim-text></claim><claim id="clm-0010" num="10"><claim-text>10. The storage medium as in claim 8, wherein optimizing the threshold for the PCA of the spectrum data set comprises: </claim-text><claim-text> determining a first PCA threshold; </claim-text><claim-text> applying the PCA to the spectrum data set using the first PCA threshold; </claim-text><claim-text> calculating a spectrum error introduced by applying the PCA using the first PCA threshold; and </claim-text><claim-text> comparing the spectrum error to a spectrum noise level. </claim-text></claim><claim id="clm-0011" num="11"><claim-text>11. The storage medium as in claim 10, the method further comprising: </claim-text><claim-text> if the spectrum error is less than the spectrum noise level, setting the first PCA threshold to the PC value. </claim-text></claim><claim id="clm-0012" num="12"><claim-text>12. The storage medium as in claim 10, the method further comprising: </claim-text><claim-text> if the spectrum error is greater than or equal to than the spectrum noise level, determining a second PCA threshold, and repeating the applying, the calculating, and the comparing. <!-- EPO <DP n="33"/>--> </claim-text></claim><claim id="clm-0013" num="13"><claim-text>13. The storage medium as in claim 8, wherein optimizing the threshold for the PC A comprises using a Mueller domain error tolerance. </claim-text></claim><claim id="clm-0014" num="14"><claim-text>14. The storage medium as in claim 8, wherein the high accuracy spectral library comprises a simulated spectrum, the method further comprising: </claim-text><claim-text> comparing the simulated spectrum to a sample spectrum. </claim-text></claim><claim id="clm-0015" num="15"><claim-text>15. A method of fast neural network training for library-based critical dimension (CD) metrology, the method comprising: </claim-text><claim-text> providing a training target for a first neural network; </claim-text><claim-text> training the first neural network, the training comprising starting with a </claim-text><claim-text> predetermined number of neurons and iteratively increasing the number of neurons until an optimized total number of neurons is reached; </claim-text><claim-text> generating a second neural network based on the training and the optimized total number of neurons; and </claim-text><claim-text> providing a spectral library based on the second neural network. </claim-text></claim><claim id="clm-0016" num="16"><claim-text>16. The method of claim 15, wherein iteratively increasing the number of neurons until the optimized total number of neurons is reached comprises using a modified Levenberg-Marquardt approach. </claim-text></claim><claim id="clm-0017" num="17"><claim-text>17. The method of claim 15, wherein iteratively increasing the number of neurons comprises increasing the number of neurons in a hidden layer of the first neural network. </claim-text></claim><claim id="clm-0018" num="18"><claim-text>18. The method of claim 15, wherein the spectral library comprises a simulated spectrum, the method further comprising: </claim-text><claim-text> comparing the simulated spectrum to a sample spectrum. </claim-text></claim><claim id="clm-0019" num="19"><claim-text> 19. A machine-accessible storage medium having instructions stored thereon which cause a data processing system to perform a method of fast neural network training for library-based critical dimension (CD) metrology, the method comprising: </claim-text><claim-text> providing a training target for a first neural network; <!-- EPO <DP n="34"/>--> training the first neural network, the training comprising starting with a predetermined number of neurons and iteratively increasing the number of neurons until an optimized total number of neurons is reached; </claim-text><claim-text> generating a second neural network based on the training and the optimized total number of neurons; and </claim-text><claim-text> providing a spectral library based on the second neural network. </claim-text></claim><claim id="clm-0020" num="20"><claim-text>20. The storage medium as in claim 19, wherein iteratively increasing the number of neurons until the optimized total number of neurons is reached comprises using a modified Levenberg-Marquardt approach. </claim-text></claim><claim id="clm-0021" num="21"><claim-text>21. The storage medium as in claim 19, wherein iteratively increasing the number of neurons comprises increasing the number of neurons in a hidden layer of the first neural network. </claim-text></claim><claim id="clm-0022" num="22"><claim-text>22. The storage medium as in claim 19, wherein the spectral library comprises a simulated spectrum, the method further comprising: </claim-text><claim-text> comparing the simulated spectrum to a sample spectrum. </claim-text></claim></claims><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
