<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2683119-A2" country="EP" doc-number="2683119" kind="A2" date="20140108" family-id="37865741" file-reference-id="297131" date-produced="20180824" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146585130" ucid="EP-2683119-A2"><document-id><country>EP</country><doc-number>2683119</doc-number><kind>A2</kind><date>20140108</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-13179143-A" is-representative="NO"><document-id mxw-id="PAPP154847322" load-source="docdb" format="epo"><country>EP</country><doc-number>13179143</doc-number><kind>A</kind><date>20061101</date><lang>EN</lang></document-id><document-id mxw-id="PAPP246867085" load-source="docdb" format="original"><country>EP</country><doc-number>13179143.6</doc-number><date>20061101</date></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140550582" ucid="EP-06836745-A" linkage-type="3" load-source="docdb"><document-id format="epo"><country>EP</country><doc-number>06836745</doc-number><kind>A</kind><date>20061101</date></document-id></priority-claim><priority-claim mxw-id="PPC140551148" ucid="US-73321705-P" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>73321705</doc-number><kind>P</kind><date>20051103</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1989316207" load-source="docdb">H04W  74/04        20090101ALI20131129BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1989316208" load-source="docdb">H04W  84/12        20090101ALI20131129BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1989316336" load-source="docdb">H04W  92/18        20090101ALI20131129BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1989319092" load-source="docdb">H04W  76/02        20090101ALI20131129BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1989319322" load-source="docdb">H04L  12/28        20060101AFI20131129BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1989321192" load-source="docdb">H04W  72/04        20090101ALI20131129BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1699682451" load-source="docdb" scheme="CPC">H04W  76/14        20180201 LI20180203BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989623319" load-source="docdb" scheme="CPC">H04W  76/023       20130101 FI20130919BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989623524" load-source="docdb" scheme="CPC">H04W  72/0406      20130101 LI20130927BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989637225" load-source="docdb" scheme="CPC">H04W  74/04        20130101 LA20130927BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989646829" load-source="docdb" scheme="CPC">H04W  84/12        20130101 LA20130927BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989651581" load-source="docdb" scheme="CPC">H04W  92/18        20130101 LA20130927BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132360023" lang="DE" load-source="patent-office">Verfahren und Vorricthtung zur Durchführung von Peer-to-Peer-Kommunikation zwischen Stationen in einem Basisdienstset</invention-title><invention-title mxw-id="PT132360024" lang="EN" load-source="patent-office">Method and apparatus for performing peer-to-peer communication between stations within a basic service set</invention-title><invention-title mxw-id="PT132360025" lang="FR" load-source="patent-office">Procédé et dispositif permettant d'effectuer une communication entre homologues entre des stations à l'intérieur d'un ensemble de services de base</invention-title><citations><non-patent-citations><nplcit><text>None</text><sources><source mxw-id="PNPL45210895" load-source="docdb" name="APP"/></sources></nplcit></non-patent-citations></citations></technical-data><related-documents><relation type="division"><child-doc ucid="EP-13179143-A"><document-id load-source="patent-office" format="epo"><country>EP</country><doc-number>13179143</doc-number><kind>A</kind><date>20061101</date></document-id></child-doc><parent-doc ucid="EP-06836745.7"><document-id load-source="patent-office" format="epo"><country>EP</country><doc-number>06836745.7</doc-number><date>20061101</date></document-id></parent-doc></relation></related-documents><parties><applicants><applicant mxw-id="PPAR919520207" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>INTERDIGITAL TECH CORP</last-name><address><country>US</country></address></addressbook></applicant><applicant mxw-id="PPAR919526729" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>INTERDIGITAL TECHNOLOGY CORPORATION</last-name></addressbook></applicant><applicant mxw-id="PPAR919014077" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>InterDigital Technology Corporation</last-name><iid>101366613</iid><address><street>200 Bellevue Parkway Suite 300</street><city>Wilmington, DE 19809</city><country>US</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR919521414" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>RUDOLF MARIAN</last-name><address><country>CA</country></address></addressbook></inventor><inventor mxw-id="PPAR919538535" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>RUDOLF, MARIAN</last-name></addressbook></inventor><inventor mxw-id="PPAR919008113" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>RUDOLF, MARIAN</last-name><address><street>1958 Rue Workman</street><city>Montreal, Québec H3J 2P3</city><country>CA</country></address></addressbook></inventor><inventor mxw-id="PPAR919526619" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>MARINIER PAUL</last-name><address><country>CA</country></address></addressbook></inventor><inventor mxw-id="PPAR919542121" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>MARINIER, PAUL</last-name></addressbook></inventor><inventor mxw-id="PPAR919010636" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>MARINIER, PAUL</last-name><address><street>1805 Stravinski</street><city>Brossard, J4X 2J7</city><country>CA</country></address></addressbook></inventor><inventor mxw-id="PPAR919537425" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>ROY VINCENT</last-name><address><country>CA</country></address></addressbook></inventor><inventor mxw-id="PPAR919515841" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>ROY, VINCENT</last-name></addressbook></inventor><inventor mxw-id="PPAR919017345" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>ROY, VINCENT</last-name><address><street>6254 De La Roche</street><city>Montreal, H2S 2E1</city><country>CA</country></address></addressbook></inventor><inventor mxw-id="PPAR919525702" load-source="docdb" sequence="4" format="epo"><addressbook><last-name>ZAKI MAGED</last-name><address><country>CA</country></address></addressbook></inventor><inventor mxw-id="PPAR919510361" load-source="docdb" sequence="4" format="intermediate"><addressbook><last-name>ZAKI, MAGED</last-name></addressbook></inventor><inventor mxw-id="PPAR919006402" load-source="patent-office" sequence="4" format="original"><addressbook><last-name>ZAKI, MAGED</last-name><address><street>9260 Ceres, Apt 202</street><city>Pierrefonds, Québec H8Y 3N5</city><country>CA</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR919011179" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Hjalmarsson, Magnus Axel</last-name><iid>101320120</iid><address><street>Awapatent AB P.O. Box 99</street><city>351 04 Växjö</city><country>SE</country></address></addressbook></agent></agents></parties><international-convention-data><designated-states><ep-contracting-states><country mxw-id="DS549908629" load-source="docdb">AT</country><country mxw-id="DS549745129" load-source="docdb">BE</country><country mxw-id="DS549816369" load-source="docdb">BG</country><country mxw-id="DS549814990" load-source="docdb">CH</country><country mxw-id="DS549744857" load-source="docdb">CY</country><country mxw-id="DS549908630" load-source="docdb">CZ</country><country mxw-id="DS549745130" load-source="docdb">DE</country><country mxw-id="DS549744858" load-source="docdb">DK</country><country mxw-id="DS549744859" load-source="docdb">EE</country><country mxw-id="DS549818897" load-source="docdb">ES</country><country mxw-id="DS549816378" load-source="docdb">FI</country><country mxw-id="DS549816379" load-source="docdb">FR</country><country mxw-id="DS549745131" load-source="docdb">GB</country><country mxw-id="DS549744860" load-source="docdb">GR</country><country mxw-id="DS549908631" load-source="docdb">HU</country><country mxw-id="DS549814991" load-source="docdb">IE</country><country mxw-id="DS549744869" load-source="docdb">IS</country><country mxw-id="DS549816380" load-source="docdb">IT</country><country mxw-id="DS549744870" load-source="docdb">LI</country><country mxw-id="DS549742810" load-source="docdb">LT</country><country mxw-id="DS549908632" load-source="docdb">LU</country><country mxw-id="DS549742811" load-source="docdb">LV</country><country mxw-id="DS549742812" load-source="docdb">MC</country><country mxw-id="DS549908633" load-source="docdb">NL</country><country mxw-id="DS549744871" load-source="docdb">PL</country><country mxw-id="DS549742825" load-source="docdb">PT</country><country mxw-id="DS549908634" load-source="docdb">RO</country><country mxw-id="DS549744872" load-source="docdb">SE</country><country mxw-id="DS549816381" load-source="docdb">SI</country><country mxw-id="DS549745132" load-source="docdb">SK</country><country mxw-id="DS549816855" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA128673302" lang="EN" load-source="patent-office"><p id="pa01" num="0001">A method and apparatus for performing peer-to-peer wireless communication between a first station (STA) and a second STA. The method comprises a first STA setting up a direct link on a first channel to communicate with a second STA, wherein messages for setting up the direct link are delivered through an access point (AP); the first STA negotiating with the second STA to switch a channel for the direct link to a second channel, wherein messages for switching the channel are exchanged directly between the first STA and the second STA without going through the AP; and the first STA periodically switching between the first channel and the second channel to maintain connectivity with the AP.
<img id="iaf01" file="imgaf001.tif" wi="85" he="78" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA128737453" lang="EN" source="EPO" load-source="docdb"><p>A method and apparatus for performing peer-to-peer wireless communication between a first station (STA) and a second STA. The method comprises a first STA setting up a direct link on a first channel to communicate with a second STA, wherein messages for setting up the direct link are delivered through an access point (AP); the first STA negotiating with the second STA to switch a channel for the direct link to a second channel, wherein messages for switching the channel are exchanged directly between the first STA and the second STA without going through the AP; and the first STA periodically switching between the first channel and the second channel to maintain connectivity with the AP.</p></abstract><description mxw-id="PDES63959290" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><p id="p0001" num="0001">FIELD OF INVENTION</p><p id="p0002" num="0002">The present invention is related to a wireless communication system. More particularly, the present invention is related to a method and system for performing peer-to-peer wireless communication between stations (STAs) within a basic service set (BSS) while maintaining connectivity with an access point (AP) in the BSS.</p><p id="p0003" num="0003">BACKGROUND</p><p id="p0004" num="0004">There are two different types of wireless local area network (WLAN). One is an infrastructure mode WLAN which includes an AP and a STA, and the other is an ad hoc mode WLAN which includes only peer STAs. The ad hoc mode WLAN is also called an independent BSS (IBSS).</p><p id="p0005" num="0005"><figref idrefs="f0001">Figure 1</figref> shows a conventional infrastructure mode WLAN 100 including two BSSs 112a, 112b which are connected via a distribution system (DS) 114. The BSSs are served by APs 102a, 102b, respectively. In the infrastructure mode WLAN 100, all packets generated by a source STA, such as STA 104a, is first sent to the AP 102a. If the packets are destined outside the BSS 112a, the AP 102a forwards the packets through the DS 114. If the packets are destined to another STA, such as STA 102b, inside the BASS 112a, the AP 102a, after receiving the packets from the source STA 104a, forwards the packets over the air interface to the destination STA 104b in the BSS 112a. Therefore, the same packets are sent twice over the air.</p><p id="p0006" num="0006">Duplicating such peer-to-peer traffic, (i.e., sending the packets sent from one STA in the BSS to another STA in the same BSS), is an inefficient usage of the wireless medium since any peer-to-peer STA traffic within the BSS<!-- EPO <DP n="2"> --> requires twice as much bandwidth compared to traffic to or from a STA outside the BSS.</p><p id="p0007" num="0007">In order to solve this problem, the IEEE 802.11e provides a feature called direct link setup (DLS). With the IEEE 802.11e DLS, a STA first initiates a direct link through the AP and exchanges packets with other STA directly. However, in an IEEE 802.11-based WLAN, STAs within a BSS share the same frequency channel, (i.e., BSS channel), to communicate with each other, and all traffic, (both traffic between a STA and an AP and traffic between STAs), must still be sent over the BSS channel. With this limitation to a single BSS channel, the amount of peer-to-peer traffic in a BSS that can be supported by a single frequency channel is limited by the overall throughput of the BSS. For example, a conventional IEEE 802.11g or 802.11a BSS will not be able to support more than 30-32 spore Mbps at the medium access control (MAC) level (corresponding to a net data rate of 54 Mbps at the physical layer) aggregate throughput.</p><p id="p0008" num="0008">Furthermore, it is difficult to manage peer-to-peer links in a conventional IEEE 802-11e DLS system. For conventional BSS traffic, (i.e., traffic between STAs and AP), the overall BSS radio range, (where packets can be reliably received), is essentially determined by the AP's radio range. An interference range of the BSS, (where packets cannot be reliably received, but will still create interference to other STAs operating on the same channel), is determined by both the STA's range and the AP's range. However, with DLS, depending on the position of the participating STAs, the interference range associated by a pair of STAs can be quite different to the interference range of the AP. Interaction and impacts of these different interference ranges is complex and has been shown to have large negative effects on network capacity in IEEE 802.11 systems.</p><p id="p0009" num="0009">Moreover, with conventional IEEE 802.11 systems, peer-to-peer traffic cannot be off-loaded to a different channel than the BSS channel without the involved peer-to-peer STAs losing layer 2 connectivity to the network. Trading off layer 2 connectivity for capacity is not necessarily an attractive alternative, because many of the devices in a WLAN environment need IP<!-- EPO <DP n="3"> --> connectivity to support various services. For example, a TV receiving a video playback from a DVD player could not download online DVD info, titles, recommendations, or the like during playback. Losing layer 2 connectivity to the AP implies losing the possibility of supporting all services except the on-going peer-to-peer services.</p><p id="p0010" num="0010">Therefore, it is desirable to provide a method and system for peer-to-peer wireless communication between STAs within the BSS while maintaining layer 2 connectivity and manageability with an AP in the BSS.</p><p id="p0011" num="0011">SUMMARY</p><p id="p0012" num="0012">The present invention is related to a method and system for performing peer-to-peer wireless communication between STAs in the same BSS while maintaining layer 2 connectivity and manageability with an AP in the BSS. A source STA, an AP and a destination STA negotiate a DLS channel for performing peer-to-peer communication between the source STA and the destination STA. The DLS channel may be different from a BSS channel used for communication between the AP and each of the STAs. The source STA and the destination STA then perform peer-to-peer communication on the negotiated DLS channel. The peer-to-peer traffic is offloaded to a different channel, (i.e., DLS channel), than the BSS channel while still ensuring layer 2 connectivity from the AP to the STAs.</p><p id="p0013" num="0013">BRIEF DESCRIPTION OF THE DRAWINGS</p><p id="p0014" num="0014"><figref idrefs="f0001">Figure 1</figref> shows a conventional infrastructure mode WLAN.</p><p id="p0015" num="0015"><figref idrefs="f0001">Figure 2</figref> shows a signaling diagram of a DLS setup procedure in a wireless communication system including an AP, a first STA and a second STA in accordance with the present invention.</p><p id="p0016" num="0016">DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS</p><p id="p0017" num="0017">When referred to hereafter, the terminology "STA" includes but is not limited to a user equipment (UE), a wireless transmit/receive unit (WTRU), a<!-- EPO <DP n="4"> --> fixed or mobile subscriber unit, a pager, or any other type of device capable of operating in a wireless environment. When referred to hereafter, the terminology "AP" includes but is not limited to a base station, a Node-B, a site controller, or any other type of interfacing device in a wireless environment.</p><p id="p0018" num="0018">The features of the present invention may be incorporated into an integrated circuit (IC) or be configured in a circuit comprising a multitude of interconnecting components.</p><p id="p0019" num="0019">When referred to hereinafter, the terminology "BSS channel" refers to the channel used by the AP in the BSS to communicate with its associated STAs and the terminology "DLS channel" refers to the channel that are used by the STAs for their peer-to-peer communication. In the conventional WLAN system, (including IEEE 802-11e DLS system), the BSS channel is same as the DLS channel. In accordance with the present invention, the BSS channel may be different from the DLS channel and there may be multiple DLS channels in the BSS. Alternatively, more than one particular pair of STAs may use one DLS channel.</p><p id="p0020" num="0020">In accordance with the present invention, a pair of STAs and an AP negotiate a DLS channel for peer-to-peer communication between the STAs. Once the DLS channel is negotiated, the STAs perform peer-to-peer communication on the negotiated DLS channel. The STAs communicate with each other directly via the negotiated DLS channel while maintaining their BSS association with the AP at all times. Layer 2 connectivity between the AP and each of the STAs is ensured so that the AP retains full control over the STAs.</p><p id="p0021" num="0021"><figref idrefs="f0001">Figure 2</figref> shows a signaling diagram of a DLS setup process 210 in a wireless communication system 200 including an AP 202, a first STA 204a and a second STA 204b in accordance with the present invention. The first STA 204a identifies a list of suitable DLS channels among all of the available channels in a BSS (step 212). The list of suitable DLS channels may be identified in many different ways as described hereinafter.</p><p id="p0022" num="0022">The list of suitable DLS channels may be stored in a database ofthe first STA 204a semi-statically. The database may be management information<!-- EPO <DP n="5"> --> base (MIB). Alternatively, the list of suitable DLS channels may be set by the user manually using a user interface, such as hypertext markup language (HTML), extended markup language (XML) or equivalent user interfaces. Alternatively, the list of suitable DLS channels may be set by a network management entity remotely by using a communication protocol, such as simple network management protocol (SNMP), XML, a layer 3 (or higher) protocol, or a layer 2 protocol, (e.g., by using a layer 2 management frame).</p><p id="p0023" num="0023">The STA 204a, 204b may be configured to check, on a regular or triggered basis, for updates of the suitable DLS channels and related parameters contained in the STA's database. Alternatively, the STA 204a, 204b may be configured to check, on a regular or triggered basis, for updates of the list of suitable DLS channels and related parameters in a remote database.</p><p id="p0024" num="0024">Alternatively, the first STA 204a may generate the list by observing and evaluating the channels in the BSS. The first STA 204a observes and evaluates the channels available in the BSS based on predetermined criteria including, but not limited to, channel occupancy, interference levels or activity by other STAs on each of the channels. The first STA 204a then generates the list based on the evaluation of the channels. The first STA 204a may use dual-radios to observe and evaluate the channels. Alternatively, the first STA 204a may use non-transmission time periods on the BSS channel to evaluate other channels or use clear-to-send (CTS)-to-self and equivalent mechanisms to obtain measurement periods without interrupting its ongoing transmissions on the BSS channel.</p><p id="p0025" num="0025">Alternatively, the first STA 204a may determine the list of suitable DLS channels by randomly selecting channel(s) among the possible channels in the BSS.</p><p id="p0026" num="0026">Alternatively, the first STA 204a may obtain the list of suitable DLS channels from the AP 202. The AP 202 manages at least one DLS channel and administers policies in the BSS. The AP 202 generates a list of suitable DLS channels by using any methods described hereinbefore and sends the list containing one or more suitable DLS channels to be used in the BSS to the STAs<!-- EPO <DP n="6"> --> 204a, 204b. Optionally, the list may include preference values for each or a set of entries in the list. The list of suitable DLS channels in the BSS may be signaled as part of a beacon frame, a probe response frame, an association response frame or any other frame. The frame may be a management frame, an action frame, a control frame, a data frame, or any other type of frame. The list may be sent to STAs 204a, 204b either by broadcasting/multicasting or by unicasting. Preferably, the first STA 204a obtains the list from the AP 202 during an association procedure or by soliciting the AP 202 to send the list.</p><p id="p0027" num="0027">In addition to the list of DLS channels, the AP 202 may send configuration information regarding multi-channel DLS policy in the BSS. The configuration information includes, but is not limited to, multi-channel DLS capability implemented in the BSS, multi-channel DLS capability enabled in the BSS and dwell times, maximum transmission times, channel access times, quality of service (QoS) settings, channel access schedules for one or more DLS channels.</p><p id="p0028" num="0028">The first STA 204a then sends a DLS request message to an AP 202 to initiate a DLP setup by negotiating for the DLS channel with the AP 202 and the second STA 204b (step 214). The DLS request message includes the list of suitable DLS channels proposed by the first STA 204a for a peer-to-peer communication with the second STA 204b. The list of suitable DLS channels may include a preference among the DLS channels included in the list. The preference may be indicated implicitly by the order of the channels in the list. The DLS request message may also include a switch time indicating a start time for the peer-to-peer communication on a negotiated DLS channel. The DLS request message may be used in extension with the conventional IEEE 802.11e DLS request message. In such case, the list of parameters is to be understood as an extension compared to the conventional IEEE 802.11e DLS messages.</p><p id="p0029" num="0029">Upon reception of the DLS request message from the first STA 204a, the AP 202 chooses the best DLS channel and synchronization schedule (step 216). The AP 202 may select the best DLS channel among the channels proposed by the first STA 204a, or may reject all the channels proposed by the first STA<!-- EPO <DP n="7"> --> 204a. Alternatively, the AP 202 may maintain its own list of suitable DLS channels and compare its own list to the list proposed by the first STA 204a to select the best DLS channel. The AP 202 may observe and evaluate the channels available in the BSS based on predetermined criteria including, but not limited to, channel occupancy, interference levels or activity by STAs on each of the channels. Alternatively, the AP 202 may select the DLS channel based on pre-configuration. The AP 202 may use other information, (e.g., capability information), obtained from the first STA 204a and the second STA 204b to select the best DLS channel,</p><p id="p0030" num="0030">If the AP 202 selects the best DLS channel from the list proposed by the first STA 204a, the process 210 proceeds to step 222. If the AP 202 rejects the DLS channels proposed by the first STA 204a, the AP 202 sends a DLS response message to the first STA 204a (step 218). The DLS response message may include a list of DLS channels proposed by the AP 202. The DLS response message may include an alternative switch time suggested by the AP 202 in the switch time suggested by the first STA 204a is not acceptable. The DLS response message may include a synchronization schedule indicating a time schedule for the first STA 204a and the second STA 204b to switch back from the DLS channel to the BSS channel for the purpose of BSS connectivity once the DLS is setup. The DLS response message may also include the reason for the rejection.</p><p id="p0031" num="0031">Upon receipt of the DLS response message indicating an alternative suggestions by the AP 202 for any of the DLS parameters, (i.e., DLS channels, switch time), the first STA 204a may accept the DLS parameters proposed by the AP 202 or may terminate the DLS setup procedure. If the first STA 204a chooses to accept the alternative DLS parameters proposed by the AP 202, the first STA 204a replies to the AP 202 using another DLS request which includes the accepted DLS parameters (step 220).</p><p id="p0032" num="0032">Upon receipt of the second DLS request message including the accepted DLS parameters, (which have been suggested by the AP 202), or when the AP 202 accepts the original DLS request at step 216, the AP 202 sends a DLS request message to the second STA 204b (step 222). The DLS request message<!-- EPO <DP n="8"> --> includes at least one of the best DLS channel selected by the AP 202, a switch time selected by the AP 202, and a synchronization schedule for the first STA 204a and the second STA 204b to switch back from the DLS channel to the BSS channel for the purpose of BSS connectivity once the DLS is setup.</p><p id="p0033" num="0033">The synchronization schedule may be provided by time intervals (or time periods) linked to the beacon intervals, (e.g., switch back every N beacons), a dwell time (or time periods) on the BSS channel, (e.g., remain on the BSS channel for M time units), or transmission schedule for the DLS channel, (e.g., start time, end time and transmission periods describing which time intervals the first STA and the second STA may spend on the DLS channel and which time intervals the first STA and the second STA must return to the BSS channel).</p><p id="p0034" num="0034">Upon receipt of the DLS request, the second STA 204b determines if the second STA 204b is willing to accept the peer-to-peer communication and may support the DLS parameters proposed by the AP 202 (step 224). The second STA 204b then sends a DLS response message indicating either acceptance or rejection to the AP 202 (step 226).</p><p id="p0035" num="0035">If the second STA 204b rejects the peer-to-peer communication request or any of the proposed DLS parameters, the second STA 204b sends a DLS response message indicating rejection to the AP 202. Optionally, the second STA 204b may specify the cause of the rejection. Alternatively, the second STA 204b may send suggestions for any of DLS setup parameters. If the second STA 204b accepts the proposed DLS parameters, the second STA 204b sends a DLS response message indicating acceptance to the AP 202.</p><p id="p0036" num="0036">Upon reception of the DLS response from the second STA 204b, the AP 202 checks for acceptance or rejection of the proposed DLS set-up by the second STA 204b and sends a DLS response message to the first STA 204a (steps 228, 230). If the second STA 204b rejected the DLS set-up, the AP 202 sends a DLS response message indicating rejection to the first STA 204a. Optionally, the AP 202 may forward the reason for rejection or alternative suggestions made by the second STA 204b. Upon reception of the DLS response message indicating rejection, the procedure 200 terminates. The first STA 204a may re-initiate the<!-- EPO <DP n="9"> --> DLS setup procedure 200 by returning to step 212.</p><p id="p0037" num="0037">If the second STA 204b accepted the DLS set-up, the AP 202 sends a DLS response message indicating acceptance to the first STA 204a. The first STA 204a and the second STA 204b then execute the key exchange procedure according to IEEE 802.11i, switch to the negotiated DLS channel at the specified channel switch time, and return to the BSS channel at the time periods (or time intervals) as specified in the synchronization schedule.</p><p id="p0038" num="0038">In accordance with another embodiment of the present invention, instead of initiating a procedure for setting up a DLS link via the DLS channel, the first STA 204a and the second STA 204b may first establish a DLS link via a conventional BSS channel. Once the first STA 204a and the second STA 204b have setup a DLS link on the BSS channel, one of the STAs 204a, 204b may request the other STA for switch to a DLS channel. Once the first STA 204a and the second STA 204b agree on a DLS channel, one of them notifies the AP 202, which may agree or not. Once the AP 202 agrees on the switch of the channel, the first STA 204a and the second STA 204b perform a peer-to-peer communication via the negotiated DLS channel.</p><p id="p0039" num="0039">In selecting the best DLS channel, the AP 202 may implement different decision policies regarding its preference of the DLS channels to be used. For example, the AP 202 may allocate each new requested DLS link to a different DLS channel, or allocate a subsequently requested DLS link to a DLS channel that is already allocated for another pair of STAs.</p><p id="p0040" num="0040">The DLS channel may be a sub-channel of the BSS channel. For example, with a 40MHz bandwidth BSS channel, STAs may choose to set-up a DLS channel with a 20MHz bandwidth similar to the IEEE 802.11n legacy support mode.</p><p id="p0041" num="0041">Embodiments.</p><p id="p0042" num="0042">1. A method for performing peer-to-peer wireless communication between a first STA and a second STA within a BSS in a wireless local area network including an AP and a plurality of STAs.<!-- EPO <DP n="10"> --></p><p id="p0043" num="0043">2. The method of embodiment 1, comprising the step of (a) the first STA, the AP and the second STA negotiating a DLS channel for performing peer-to-peer communication between the first STA and the second STA.</p><p id="p0044" num="0044">3. The method of embodiment 2, wherein the DLS channel is different from a BSS channel used for communication between the AP and each of the STAs.</p><p id="p0045" num="0045">4. The method as in any of the embodiments 2-3, comprising the step of (b) the first STA and the second STA performing peer-to-peer communication on the negotiated DLS channel.</p><p id="p0046" num="0046">5. The method as in any of the embodiments 2-4, wherein step (a) comprises the first STA sending a first DLS request message to the AP including DLS parameters which include a list of at least one DLS channel selected by the first STA, whereby negotiation of the DLS channel is initiated by the first DLS request message.</p><p id="p0047" num="0047">6. The method of embodiment 5, wherein the DLS parameters include a switch time indicating a start time for a DLS link.</p><p id="p0048" num="0048">7. The method as in any of the embodiments 5-6, wherein the first DLS request message includes a preference of the DLS channel in the list if at least two DLS channels are included in the list.</p><p id="p0049" num="0049">8. The method as in any of the embodiments 5-7, wherein the list of DLS channel is semi-statically programmable.</p><p id="p0050" num="0050">9. The method as in any of the embodiments 5-8, wherein the list of DLS channel is stored in an MIB of the first STA.</p><p id="p0051" num="0051">10. The method as in any of the embodiments 5-9, wherein the list of DLS channels is programmable by a user manually.</p><p id="p0052" num="0052">11. The method as in any of the embodiments 5-9, wherein the list of DLS channels is programmable by using a communication protocol from a remote location.</p><p id="p0053" num="0053">12. The method of embodiment 11, wherein the communication protocol includes at least one of SNMP, XML, a layer 3 protocol and a layer 2 protocol.<!-- EPO <DP n="11"> --></p><p id="p0054" num="0054">13. The method as in any of the embodiments 5-12, wherein the first STA obtains the list of DLS channels from the AP.</p><p id="p0055" num="0055">14. The method of embodiment 13, wherein the AP provides the list of DLS channels to the first STA by one of broadcasting, multicasting and unicasting.</p><p id="p0056" num="0056">15. The method as in any of the embodiments 13-14, wherein the list of DLS channels is included in one of a beacon frame, a probe response frame and an association response frame.</p><p id="p0057" num="0057">16. The method as in any of the embodiments 5-12, wherein the first STA obtains the list of DLS channels by observing and evaluating channels available in the BSS.</p><p id="p0058" num="0058">17. The method of embodiment 16, wherein the first STA evaluates the channels based on at least one of channel occupancy, interference levels of each channel and activity by other STAs in each channel.</p><p id="p0059" num="0059">18. The method as in any of the embodiments 16-17, wherein the first STA uses dual-radio for evaluating the channels.</p><p id="p0060" num="0060">19. The method as in any of the embodiments 16-17, wherein the first STA uses non-transmission time periods on the BSS channel to evaluate other channels.</p><p id="p0061" num="0061">20. The method as in any of the embodiments 16-17, wherein the first STA uses CTS-to-self to obtain a period to evaluate the channels.</p><p id="p0062" num="0062">21. The method as in any of the embodiments 5-12, wherein the first STA generates the list of DLS channel by randomly drawing among available channels in the BSS.</p><p id="p0063" num="0063">22. The method as in any of the embodiments 5-21, wherein the DLS request is an extension of IEEE 802.11e DLS request.</p><p id="p0064" num="0064">23. The method as in any of the embodiments 5-22, comprising the step of the AP determining whether or not accept DLS parameters included in the first DLS request message.</p><p id="p0065" num="0065">24. The method of embodiment 23, comprising the step of if the AP determines to accept the DLS parameters in the first DLS request message,<!-- EPO <DP n="12"> --> the AP sending a second DLS request message to the second STA.</p><p id="p0066" num="0066">25. The method as in any of the embodiments 23-24, comprising the step of if the AP determines to reject the DLS parameters in the first DLS request message, the AP sending a first DLS response message to the first STA.</p><p id="p0067" num="0067">26. The method of embodiment 25, wherein the first DLS response message includes alternative DLS parameters which include a list of at least one DLS channel suggested by the AP.</p><p id="p0068" num="0068">27. The method of embodiment 26, wherein the alternative DLS parameters include at least one of a switch time indicating a start time for DLS link suggested by the AP and a synchronization schedule indicating a time schedule for the first STA and the second STA to switch back to the BSS channel once a DLS link is setup.</p><p id="p0069" num="0069">28. The method as in any of the embodiments 24-27, comprising the step of the first STA sending a third DLS request message to the AP, the third DLS request message including DLS parameters selected based on the alternative DLS parameters suggested by the AP.</p><p id="p0070" num="0070">29. The method as in any of the embodiments 24-28, wherein the second DLS request message includes DLS parameters which include at least one DLS channel selected by the AP.</p><p id="p0071" num="0071">30. The method as in any of the embodiments 24-29, wherein the second DLS request message includes a switch time selected by the AP.</p><p id="p0072" num="0072">31. The method as in any of the embodiments 24-29, wherein the second DLS request message includes a synchronization schedule indicating a time schedule for the first STA and the second STA to switch back to the BSS channel once a DLS link is setup.</p><p id="p0073" num="0073">32. The method of embodiment 31, wherein the synchronization schedule is provided by at least one of a time period linked to a beacon interval, a dwell time on the BSS channel, and a transmission schedule for the negotiated DLS channel.</p><p id="p0074" num="0074">33. The method as in any of the embodiments 28-32, comprising the step of the second STA determining whether or not accept DLS parameters in<!-- EPO <DP n="13"> --> the third DLS request messages.</p><p id="p0075" num="0075">34. The method of embodiment 33, comprising the step of the second STA sending a second DLS response message to the AP indicating one of acceptance and rejection of the DLS parameters in the third DLS request message.</p><p id="p0076" num="0076">35. The method of embodiment 34, comprising the step of the AP sending a third DLS response message to the first STA based on the second DLS response message.</p><p id="p0077" num="0077">36. The method of embodiment 35, wherein if the second STA rejects the DLS parameters in the third DLS request, the second STA includes at least one of a cause of rejection and suggestion for DLS parameters in the second DLS response.</p><p id="p0078" num="0078">37. The method as in any of the embodiments 35-36, comprising the step of the first STA and the second STA executing a key exchange procedure if the second STA accepts the DLS parameters in the third DLS request message.</p><p id="p0079" num="0079">38. The method as in any of the embodiments 2-37, comprising the step of the first STA and the second STA establishing a DLS link on the BSS channel, whereby the negotiation for the DLS channel is performed via the DLS link on the BSS channel between the first STA and the second STA.</p><p id="p0080" num="0080">39. The method as in any of the embodiments 2-38, wherein the AP sends configuration information regarding multi-channel DLS policy in the BSS to the STAs.</p><p id="p0081" num="0081">40. The method of embodiment 39, wherein the configuration information includes at least one of multi-channel DLS capability implemented in the BSS, multi-channel DLS capability enabled in the BSS, and at least one of dwell times, maximum transmission times, channel access times, QoS settings and channel access schedules for a DLS channel.</p><p id="p0082" num="0082">41. The method as in any of the embodiments 2-39, wherein the DLS channel is a sub-channel of the BSS channel.</p><p id="p0083" num="0083">42. A wireless communication system which supports peer-to-peer wireless communication between STAs within a BSS.<!-- EPO <DP n="14"> --></p><p id="p0084" num="0084">43. The system of embodiment 42 comprising an AP configured to negotiate a DLS channel for performing peer-to-peer communication between STAs.</p><p id="p0085" num="0085">44. The system of embodiment 43, wherein the DLS channel is different from a BSS channel used for performing communication between the AP and each of the STAs.</p><p id="p0086" num="0086">45. The system as in any of the embodiments 43-44, comprising a plurality of STAs, each STA being configured to negotiate a DLS channel to perform peer-to-peer communication on the negotiated DLS channel.</p><p id="p0087" num="0087">46. The system of embodiment 45, wherein a source STA is configured to send a DLS request message to the AP including DLS parameters which include a list of at least one DLS channel selected by the source STA, whereby negotiation of the DLS channel is initiated by the first DLS request message.</p><p id="p0088" num="0088">47. The system of embodiment 46, wherein the DLS parameters include a switch time indicating a start time for a DLS link.</p><p id="p0089" num="0089">48. The system as in any of the embodiments 46-47, wherein the first DLS request message includes preference of the DLS channel in the list if at least two DLS channels are included in the list.</p><p id="p0090" num="0090">49. The system as in any of the embodiments 46-48, wherein the list of DLS channels is semi-statically programmable.</p><p id="p0091" num="0091">50. The system as in any of the embodiments 46-49, wherein the list of DLS channels is stored in an MIB of the source STA.</p><p id="p0092" num="0092">51. The system as in any of the embodiments 46-50, wherein the list of DLS channels is programmable by a user manually.</p><p id="p0093" num="0093">52. The system as in any of the embodiments 46-50, wherein the list of DLS channels is programmable by using a communication protocol from a remote location.</p><p id="p0094" num="0094">53. The system of embodiment 52, wherein the communication protocol includes at least one of SNMP, XML, a layer 3 protocol and a layer 2 protocol.<!-- EPO <DP n="15"> --></p><p id="p0095" num="0095">54. The system as in any of the embodiments 46-53, wherein the source STA obtains the list of DLS channels from the AP.</p><p id="p0096" num="0096">55. The system as in any of the embodiments 46-53, wherein the AP provides the list of DLS channels to the source STA by one of broadcasting, multicasting and unicasting.</p><p id="p0097" num="0097">56. The system as in any of the embodiments 54-55, wherein the list of DLS channels is included in one of a beacon frame, a probe response frame and an association response frame.</p><p id="p0098" num="0098">57. The system as in any of the embodiments 46-53, wherein the source STA obtains the list of DLS channels by observing and evaluating channels available in the BSS.</p><p id="p0099" num="0099">58. The system of embodiment 57, wherein the source STA evaluates the channels based on at least one of channel occupancy, interference levels of each channel and activity by other STAs in each channel.</p><p id="p0100" num="0100">59. The system as in any of the embodiments 57-58, wherein the source STA uses dual-radio for evaluating the channels.</p><p id="p0101" num="0101">60. The system as in any of the embodiments 57-58, wherein the source STA uses non-transmission time periods on the BSS channel to evaluate other channels.</p><p id="p0102" num="0102">61. The system as in any ofthe embodiments 57-60, wherein the source STA uses CTS-to-self to obtain a period to evaluate the channels.</p><p id="p0103" num="0103">62. The system as in any of the embodiments 46-53, wherein the source STA generates the list of DLS channels by randomly drawing amongst available channels in the BSS.</p><p id="p0104" num="0104">63. The system as in any of the embodiments 46-62, wherein the DLS request is an extension of IEEE 802.11e DLS request.</p><p id="p0105" num="0105">64. The system as in any of the embodiments 46-63, wherein the AP is configured to determine whether or not to accept the DLS parameters included in the DLS request message received from the source STA.</p><p id="p0106" num="0106">65. The system of embodiment 64, wherein the AP is configured to send a second DLS request message to a destination STA if the AP determines<!-- EPO <DP n="16"> --> to accept the DLS parameters in the first DLS request message.</p><p id="p0107" num="0107">66. The system of embodiment 65, wherein the AP is configured to send a first DLS response message to the source STA if the AP determines to reject the DLS parameters in the first DLS request message.</p><p id="p0108" num="0108">67. The system of embodiment 66, wherein the first DLS response message includes alternative DLS parameters which include a list of at least one DLS channel suggested by the AP.</p><p id="p0109" num="0109">68. The system of embodiment 67, wherein the alternative DLS parameters include at least one of a switch time indicating a start time for DLS link suggested by the AP and a synchronization schedule indicating a time schedule for the source SPA to switch back to the BSS channel once a DLS link is setup.</p><p id="p0110" num="0110">69. The system as in any of the embodiments 65-68, wherein the source STA is configured to send a third DLS request message to the AP, the third DLS request message including DLS parameters selected from the alternative DLS parameters suggested by the AP.</p><p id="p0111" num="0111">70. The system as in any ofthe embodiments 65-69, wherein the second DLS request message includes DLS parameters which include at least one DLS channel selected by the AP.</p><p id="p0112" num="0112">71. The system of embodiment 70, wherein the DLS parameters include a switch time selected by the AP.</p><p id="p0113" num="0113">72. The system as in any of the embodiments 65-71, wherein the second DLS request message includes a synchronization schedule indicating a time schedule for the source STA and the destination STA to switch back to the BSS channel once a DLS link is setup.</p><p id="p0114" num="0114">73. The system of embodiment 72, wherein the synchronization schedule is provided by at least one of a time period linked to a beacon interval, a dwell time on the BSS channel, and a transmission schedule for the negotiated DLS channel.</p><p id="p0115" num="0115">74. The system as in any of the embodiments 65-73, wherein the destination STA is configured to determine whether or not to accept DLS<!-- EPO <DP n="17"> --> parameters in the third DLS request messages.</p><p id="p0116" num="0116">75. The system of embodiment 74, wherein the destination STA is configured to send a second DLS response message to the AP indicating one of acceptance and rejection of the DLS parameters in the third DLS request message.</p><p id="p0117" num="0117">76. The system of embodiment 75, wherein the AP is configured to send a third DLS response message to the first STA based on the second DLS response message.</p><p id="p0118" num="0118">77. The system as in any of the embodiments 74-76, wherein the destination STA is configured to include at least one of a cause of rejection and suggestion for DLS parameters in the second DLS response if the destination STA rejects the DLS parameters in the third DLS request.</p><p id="p0119" num="0119">78. The system as in any of the embodiments 74-77, wherein the source STA and the destination STA are configured to execute a key exchange procedure if the destination STA accepts the DLS parameters in the third DLS request message.</p><p id="p0120" num="0120">79. The system as in any of the embodiments 45-78, wherein a source STA and a destination STA are configured to establish a DLS link on the BSS channel, and perform negotiation for the DLS channel via the DLS link on the BSS channel.</p><p id="p0121" num="0121">80. The system as in any of the embodiments 43-79, wherein the AP is configured to send configuration information regarding multi-channel DLS policy in the BSS to the STAs.</p><p id="p0122" num="0122">81. The system of embodiment 80, wherein the configuration information includes at least one of multi-channel DLS capability implemented in the BSS, multi-channel DLS capability enabled in the BSS, and at least one of dwell times, maximum transmission times, channel access times, QoS settings and channel access schedules for a DLS channel.</p><p id="p0123" num="0123">82. The system as in any of the embodiments 43-81, wherein the DLS channel is a sub-channel of the BSS channel.</p><p id="p0124" num="0124">Although the features and elements of the present invention are<!-- EPO <DP n="18"> --> described in the preferred emodiments in particular combinations, each feature or element can be used alone without the other features and elements of the preferred embodiments or in various combinations with or without other features and elements of the present invention.
<ul><li>83. In a wireless local area network including an access point (AP) and a plurality of stations (STAs), a method for performing peer-to-peer wireless communication betweeen a first station (STA) and a second STA within a basic service set (BSS), the method comprising:
<ol><li>(a) the first STA, the AP and the second STA negotiation a direct link Setup (DLS) channel for performing peer-to-peer communication between the first STA and the second STA, the DLS channel being different from a BSS channel used for communication between the AP and each of the STA; and</li><li>(b) the first STA and the second STA performing peer-to-peer comunication on the negotiated DLS channel.</li></ol></li><li>84. The method of embodiment 83 wherein step (a) comprises:
<ul><li>the first STA sending a first DLS request message to the AP including DLS parameters which include a list of at least one DLS channel selected by the first STA, whereby negotiation of the DLS channel is initaiated by the first DLS request message.</li></ul></li><li>85. The method of embodiment 84 wherein the DLS parameters include a switch time indicating a start time for a DLS link.</li><li>86. The method of embodiment 84 wherein the first DLS request a message includes a preference of the DLS channel in the list if at least two DLS channels are included in the list.</li><li>87. The method of embodiment 84 wherein the list of DLS channel is semistatically programmable.</li><li>88. The method of embodiment 87 wherein the list of DLS channel is stored in a management information base (MIB) of the first STA.<!-- EPO <DP n="19"> --></li><li>89. The method of embodiment 84 wherein the list of DLS channels is programmable by a user manually.</li><li>90. The method of embodiment 84 wherein the list of DLS channels is programmable by using a communication protocol from a remote location.</li><li>91. The method of embodiment 90 wherein the communication protocol includes at least one small network management protocol (SNMP), extended markup language (XML), a layer 3 protocol and a layer 2 protocol.</li><li>92. The method of embodiment 84 wherein the first STA obtains the list of DLS channels from the AP.</li><li>93. The method of embodiment 92 wherein the AP provides the list of DLS channels to the first STA by one of braodcasting, multicasting and unicasting.</li><li>94. The method of embodiment 92 wherein the list of DLS channels is included in one of a beacon frame, a probe response frame and an association response frame.</li><li>95. The method of embodiment 84 wherein the first STA obtains the list of DLS channels by observing and evaluating channels available in the BSS.</li><li>96. The method of embodiment 95 wherein the first STA evaluates the channels based on at least one of channel occupancy, interference levels of each channel and activity by other STAs in each channel.</li><li>97. The meyhod of embodiment 95 wherein the first STA uses dual-radio for evaluating the channels.</li><li>98. The method of embodiment 95 wherein the first STA uses non-transmission time periods on the BSS channel to evaluate other channels.</li><li>99. The method of embodiment 95 wherein the first STA uses clear-to-send (CTS)-to-self to obtain a period to evaluate the channels.<!-- EPO <DP n="20"> --></li><li>100. The method of embodiment 84 wherein the first STA generates the list of DLS channels by randomly drawing among available channels in the BSS.</li><li>101. The method of embodiment 84 wherein the DLS request is an extension of IEEE 802.11e DLS request.</li><li>102. The method of embodiment 84 further comprising:
<ul><li>the AP determining wheteher or not accept DLS parameters included in the first DLS request message;</li><li>if the AP determines to accept the DLS parameters in the first DLS request message, the AP sending a second DLS request message to the second STA ; and</li><li>if the AP determines to recejt the DLS parameters in the first DLS request message, the AP sending a first DLS response message to the first STA.</li></ul></li><li>103. The method of embodiment 102 wherein the first DLS response message includes alternative DLS parameters which include a list of at least one DLS channel suggested by the AP.</li><li>104. The method of embodiment 103 wherein the alternative DLS parameters include at least one of a switch time indicating a start time for DLS link suggested by the AP and a synchronization schedule indicating a time schedule for the first STA and the second STA to switch back to the BSS channel once a DLS link is setup.</li><li>105. The method of embodiment 103 further comprising:
<ul><li>the first STA sending a third DLS request message to the AP, the third DLS request message including DLS parameters selected based on the alternative DLS parameters suggested by the AP.</li></ul></li><li>106. The method of embodiment 102 wherein the second DLS request message includes DLS parameters which include at least one DLS channel selected by the AP.</li><li>107. The method of embodiment 106 wherein the second DLS request message includes a switch time selected by the AP.<!-- EPO <DP n="21"> --></li><li>108. The method of embodiment 102 wherein the second DLS request message includes a synchronization schedule indicating a time schedule for the first STA and the second STA to switch back to the BSS channel once a DLS link is setup.</li><li>109. The method of embodiment 108 wherein the synchronization schedule is provided by at least one of a time period linked to a beacon interval, a dwell time on the BSS channel, and a transmission schedule for the negotiated DLS channel.</li><li>110. The method of embodiment 105 further comprising:
<ul><li>the second STA determining whether or not accept DLS parameters in the third DLS request messages;</li><li>the second STA sending a second DLS response message to the AP indicating one of acceptance and rejection of the DLS parameters in the third DLS request message; and</li><li>the AP sending a third DLS response message to the first STA based on the second DLS response message.</li></ul></li><li>111. The method of embodiment 110 wherein if the second STA rejects the DLS parameters in the third DLS request, the second STA includes at least one of a cause of rejection and suggestion for DLS parameters in the second DLS response.</li><li>112. The method of embodiment 110 further comprising the first STA and the second STA executing a key exchange procedure if the second STA accepts the DLS parameters in the third DLS request message.</li><li>113. The method of embodiment 83 further comprising:
<ul><li>the first STA and the second STA establishing a DLS link on the BSS channel, whereby the negotiation for the DLS channel is performed via the DLS link on the BSS channel between the first STA and the second STA.</li></ul></li><li>114. The method of embodiment 83 wherein the AP sends configuration information regarding multi-channel DLS policy in the BSS to the STAs.</li><li>115. The method of embodiment 114 wherein the configuration information includes at least one of multi-channel DLS capability implemented in the BSS, multi-channel DLS<!-- EPO <DP n="22"> --> capability enabled in the BSS, and at least one of dwell times, maximum transmission times, channel access times, quality of service (QoS) settings and channel access schedules for a DLS channel.</li><li>116. The method of embodiment 83 wherein the DLS channel is a sub-channel of the BSS channel.</li><li>117. A wireless communication system which supports peer-to-peer wireless communication between stations (STAs) whithin a basic service set (BSS), the system comprising;<br/>
an access point (AP) configured to negotiate a direct link setup (DLS) channel for performing peer-to-peer communication between STAs, the DLS channel being different from a BSS channel used for performing communication between the AP and each of the STAs; and<br/>
a plurality of STAs, each STA being configured to negotiate a DLS channel to perform peer-to-peer communication on the negotiated DLS channel.</li><li>118. The system of embodiment 117 wherein a source STA is configured to send a DLS request message to the AP including DLS parameters which include a list of at least one DLS channel selected by the source STA, whereby negotiation of the DLS channel is initiated by the first DLS request message.</li><li>119. The system of embodiment 118 wherein the DLS parameters include a switch time indicating a start time for a DLS link.</li><li>120. The system of embodiment 118 wherein the first DLS request message includes preference of the DLS channel in the list if at least two DLS channels are included in the list.</li><li>121. The system of embodiment 118 whereing the list of DLS channels is semistatically programmable.</li><li>122. The system of embodiment 121 wherein the list of DLS channelsis stored in a management information base (MIB) of the source STA.<!-- EPO <DP n="23"> --></li><li>123. The system of embodiment 118 wherein the list of DLS channels is programmable by a user manually.</li><li>124. The system of embodiment 118 wherein the list of DLS channels is programmable by using a communication protocol from a remote location.</li><li>125. The system of embodiment 124 wherein the communication protocol includes at least one of small network management protocol (SNMP), extended markup language (XML), a layer 3 protocol and a layer 2 protocol.</li><li>126. The system of embodiment 118 wherein the source STA obtains the list of DLS channels from the AP.</li><li>127. The system of embodiment 126 wherein the AP provides the list of DLS channels to the source STA by one of broadcasting, multicasting and unicasting.</li><li>128. The system of embodiment 126 wherein the list of DLS channels is included in one of a beacon frame, a probe response frame and an association response frame.</li><li>129. The system of embodiment 118 wherein the source STA obtains the list of DLS channels by observing and evaluating channels available in the BSS.</li><li>130. The system of embodiment 129 wherein the source STA evaluates the channels based on at least one of channel occupancy, interference levels of each channel and activity by other STAs in each channel.</li><li>131. The system of embodiment 129 wherein the source STA uses dual-radio for evaluating the channels.</li><li>132. The system of embodiment 129 wherein the source STA uses non-transmission time periods on the BSS channel to evaluate other channls.</li><li>133. The system of embodiment 129 wherein the source STA uses clear-to-send (CTS)-to-self to obtain a period to evaluate the channels.<!-- EPO <DP n="24"> --></li><li>134. The system of embodiment 118 wherein the source STA generates the list of DLS channels by randomly drawing amongst available channels in the BSS.</li><li>135. The system of embodiment 118 wherein the DLS request is an extension of IEEE 802.11e DLS request.</li><li>136. The system of embodiment 118 wherein the AP is configured to determine whether or not to accept the DLS parameters included in the DLS request message received from the source STA, send a second DLS request message to a destination STA if the AP determines to accept the DLS parameters in the first DLS message, and send a first DSL request message.</li><li>137. The system of embodiment 136 wherein the first DLS response message includes a alternative DLS parameters which include a list of at least one DLS channel suggested by the AP.</li><li>138. The system of embodiment 137 wherein the alternative DLS parameters include at least one of a switch time indicationg a start time for DLS link suggested by the AP and a synchronization schedule indicating a time scheduling for the source STA to switch back to the BSS channel once a DLS link is setup.</li><li>139. The system of embodiment 137 wherein the source STA is configured to send a third DLS request message to the AP, the third DLS request message including DLS parameterd selected from the alternative DLS parameters suggested by the AP.</li><li>140. The system of embodiment 136 wherein the second DLS request message includes DLS parameters which include at least one DLS channel selected by the AP.</li><li>141. The system of embodiment 140 wherein the DLS parameters include a switch time selected by the AP.</li><li>142. The system of embodiment 136 wherein the second DLS message includes a synchronization schedule indicating a time schedule for the source STA and the destination STA to switch back to the BSS channel once a DLS link is setup.<!-- EPO <DP n="25"> --></li><li>143. The system of embodiment 142 wherein the synchronization schedule os provided by at least one of a time period linked ti a beacon interval, a dwell time on the BSS channel, and a transmission schedule for the negotiated DLS channel.</li><li>144. The system of embodiment 136 wherein the destination STA is configured to determine whether or not to accept DLS parameters in the third DLS request messages, and send a second DLS response message to the AP indicating one of acceptance and rejection of the DLS parameters in the third DLS request message.</li><li>145. The system of embodiment 144 wherein the AP is configured to send a third DLS response message to the first STA based on the second DLS response message.</li><li>146. The system of embodiment 144 wherein the destination STA is configured to include at least one of a cause of rejection and suggestion for DLS parameters in the second DLS response if the destination STA recejts the DLS parameters in the third RLS request.</li><li>147. The system of embodiment 144 wherein the source STA and the destination STA are configured to execute a key exvhange procedure if the destination STA are configured to execute a key exchange procedure if the destination STA accepts the DLS parameters in the third DLS request message.</li><li>148. The system of embodiment 117 wherein a source STA and a destination STA are configured to establish a DLS link on the BSS channel, and perform negotiation for the DLS channel via the DLS link on the BSS channel.</li><li>149. The system of embodiment 117 wherein the AP is configured to send configuration information regardingmulti-channel DLS policy in the BSS to the STAs.</li><li>150. The system of embodiment 149 wherein the configuration information includes at least one of multi-channel DLS capability implemented inthje BSS, multi-channel DLS capability enabled in the BSS, and at least one of dwell times, maxumum transmission times, channel access times, quality of service (QoS) settings and channel access scheduled for a DLS channel.<!-- EPO <DP n="26"> --></li><li>151. The system of embodiment 117 wherein the DLS channel is a sub-channel of the BSS channel.</li></ul></p></description><claims mxw-id="PCLM56982323" lang="EN" load-source="patent-office"><!-- EPO <DP n="27"> --><claim id="c-en-0001" num="0001"><claim-text>A method for performing peer-to-peer wireless communication between a first station (STA) and a second STA, the method comprising:
<claim-text>a first STA setting up a direct link on a first channel to communicate with a second STA, wherein messages for setting up the direct link are delivered through an access point (AP);</claim-text>
<claim-text>the first STA negotiating with the second STA to switch a channel for the direct link to a second channel, wherein messages for switching the channel are exchanged directly between the first STA and the second STA without going through the AP; and</claim-text>
<claim-text>the first STA periodically switching between the first channel and the second channel to maintain connectivity with the AP.</claim-text></claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>The method of claim 1 wherein the first STA or the second STA indicates a switch time for switching the direct link to the second channel.</claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>The method of claim 1 wherein the first STA or the second STA provides a list of at least one target channel to switch the channel for the direct link.</claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>The method of claim 3 wherein the list is generated by observing and evaluating channels available in a basic service set (BSS).</claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>The method of claim 1 wherein the first STA switches back and forth between the first channel and the second channel in accordance with a schedule agreed with the second STA.</claim-text></claim><claim id="c-en-0006" num="0006"><claim-text>The method of claim 1 wherein the second channel is a sub-channel of the first channel.</claim-text></claim><claim id="c-en-0007" num="0007"><claim-text>The method of claim 1 further comprising the first STA executing a key exchange procedure with the second STA for security.<!-- EPO <DP n="28"> --></claim-text></claim><claim id="c-en-0008" num="0008"><claim-text>A station (STA) for performing peer-to-peer wireless communication with a peer STA in a basic service set (BSS), the STA comprising:
<claim-text>a transceiver for transmitting and receiving messages;</claim-text>
<claim-text>a controller configured to set up a direct link on a first channel to communicate with a second STA, wherein messages for setting up the direct link are delivered through an access point (AP);</claim-text>
<claim-text>the controller configured to negotiate with the second STA to switch a channel for the direct link to a second channel, wherein messages for switching the channel are exchanged directly between the first STA and the second STA without going through the AP; and</claim-text>
<claim-text>the controller configured to periodically switch between the first channel and the second channel to maintain connectivity with the AP.</claim-text></claim-text></claim><claim id="c-en-0009" num="0009"><claim-text>The STA of claim 8 wherein the controller is configured to indicate a switch time for switching the direct link to the second channel.</claim-text></claim><claim id="c-en-0010" num="0010"><claim-text>The STA of claim 8 wherein the controller is configured to provide a list of at least one target channel to switch the channel for the direct link.</claim-text></claim><claim id="c-en-0011" num="0011"><claim-text>The STA of claim 10 wherein the controller is configured to generate the list by observing and evaluating channels available in a basic service set (BSS).</claim-text></claim><claim id="c-en-0012" num="0012"><claim-text>The STA of claim 8 wherein the controller is configured to switch back and forth between the first channel and the second channel in accordance with a schedule agreed with the second STA.</claim-text></claim><claim id="c-en-0013" num="0013"><claim-text>The STA of claim 8 wherein the second channel is a sub-channel of the first channel.</claim-text></claim><claim id="c-en-0014" num="0014"><claim-text>The STA of claim 8 wherein the controller is configured to execute a key exchange procedure with the peer STA for security.</claim-text></claim></claims><drawings mxw-id="PDW16670704" load-source="patent-office"><!-- EPO <DP n="29"> --><figure id="f0001" num="1,2"><img id="if0001" file="imgf0001.tif" wi="157" he="233" img-content="drawing" img-format="tif"/></figure></drawings><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
