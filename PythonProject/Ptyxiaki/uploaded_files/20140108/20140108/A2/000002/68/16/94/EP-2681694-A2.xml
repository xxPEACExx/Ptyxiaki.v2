<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2681694-A2" country="EP" doc-number="2681694" kind="A2" date="20140108" family-id="46758475" file-reference-id="315082" date-produced="20180822" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146586112" ucid="EP-2681694-A2"><document-id><country>EP</country><doc-number>2681694</doc-number><kind>A2</kind><date>20140108</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-12752195-A" is-representative="NO"><document-id mxw-id="PAPP154848304" load-source="docdb" format="epo"><country>EP</country><doc-number>12752195</doc-number><kind>A</kind><date>20120229</date><lang>EN</lang></document-id><document-id mxw-id="PAPP191887696" load-source="docdb" format="original"><country>EP</country><doc-number>12752195.3</doc-number><date>20120229</date></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140550499" ucid="US-201113038341-A" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>201113038341</doc-number><kind>A</kind><date>20110301</date></document-id></priority-claim><priority-claim mxw-id="PPC140551848" ucid="US-2012027128-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>2012027128</doc-number><kind>W</kind><date>20120229</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL2032328596" load-source="docdb">G06K  19/07        20060101ALI20140214BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL2032328597" load-source="docdb">G06K  19/073       20060101ALI20140214BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL2032328598" load-source="docdb">G06K  19/077       20060101AFI20140214BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1674483323" load-source="docdb" scheme="CPC">Y02D  70/00        20180101 LA20180227BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1713566675" load-source="docdb" scheme="CPC">Y02D  70/166       20180101 LA20180102BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1713568043" load-source="docdb" scheme="CPC">Y02D  70/142       20180101 LA20180102BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1713572509" load-source="docdb" scheme="CPC">Y02D  70/42        20180101 LA20180102BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1844959348" load-source="docdb" scheme="CPC">H04B   5/0062      20130101 LI20170216BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1844959349" load-source="docdb" scheme="CPC">G06K  19/0715      20130101 LI20170216BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1844959350" load-source="docdb" scheme="CPC">G06Q  20/3278      20130101 LI20170216BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2085585678" load-source="docdb" scheme="CPC">G06K  19/07749     20130101 LI20150312BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2094105614" load-source="docdb" scheme="CPC">H04B   1/3816      20130101 LI20150205BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2094109098" load-source="docdb" scheme="CPC">G06K  19/0723      20130101 LI20150206BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2094110228" load-source="docdb" scheme="CPC">G06K  19/0726      20130101 LI20150205BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2094110539" load-source="docdb" scheme="CPC">G06K  19/0727      20130101 FI20150206BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2094118385" load-source="docdb" scheme="CPC">H04B   5/0025      20130101 LI20150205BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2094118934" load-source="docdb" scheme="CPC">G06Q  20/204       20130101 LI20150205BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2144258108" load-source="docdb" scheme="CPC">G06K  19/07732     20130101 LI20141022BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2144260351" load-source="docdb" scheme="CPC">G06K  19/07769     20130101 LI20141022BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2144263097" load-source="docdb" scheme="CPC">G06K  19/0701      20130101 LI20141022BHEP        </classification-cpc><classification-cpc mxw-id="PCL1989634213" load-source="docdb" scheme="CPC">G06K  19/073       20130101 LI20130905BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132362969" lang="DE" load-source="patent-office">SCHALTUNGEN UND SYSTEME ZUR VERBESSERUNG DER LEISTUNG EINER CHIPKARTE</invention-title><invention-title mxw-id="PT132362970" lang="EN" load-source="patent-office">SMARTCARD PERFORMANCE ENHANCEMENT CIRCUITS AND SYSTEMS</invention-title><invention-title mxw-id="PT132362971" lang="FR" load-source="patent-office">CIRCUITS ET SYSTÈMES D'AMÉLIORATION DES PERFORMANCES D'UNE CARTE À PUCE INTELLIGENTE</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR919523349" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>TYFONE INC</last-name><address><country>US</country></address></addressbook></applicant><applicant mxw-id="PPAR919521447" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>TYFONE, INC.</last-name></addressbook></applicant><applicant mxw-id="PPAR919006646" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Tyfone, Inc.</last-name><iid>101335527</iid><address><street>5520 SW Macadam Ave., Suite 250</street><city>Portland, OR 97239</city><country>US</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR919525882" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>NARENDRA SIVA</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR919519509" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>NARENDRA, SIVA</last-name></addressbook></inventor><inventor mxw-id="PPAR919007346" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>NARENDRA, SIVA</last-name><address><street>7180 SW 84th Ave.</street><city>Portland, Oregon 97223</city><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR919512147" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>CHAKRABORTY SAURAV</last-name><address><country>IN</country></address></addressbook></inventor><inventor mxw-id="PPAR919540405" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>CHAKRABORTY, SAURAV</last-name></addressbook></inventor><inventor mxw-id="PPAR919017916" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>CHAKRABORTY, SAURAV</last-name><address><street>Sristi Apartment (Block-B) Flat No. D-1 89 G.T. Road (W) Mallickpara Srirampur</street><city>West Bengal 712203</city><country>IN</country></address></addressbook></inventor><inventor mxw-id="PPAR919515994" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>TADEPALLI PRABHAKAR</last-name><address><country>IN</country></address></addressbook></inventor><inventor mxw-id="PPAR919534576" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>TADEPALLI, PRABHAKAR</last-name></addressbook></inventor><inventor mxw-id="PPAR919013638" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>TADEPALLI, PRABHAKAR</last-name><address><street>Villa A186 Prestige Ozone Varthar Whitefield Road</street><city>Bangalore 560066</city><country>IN</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR919014840" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Harrison Goddard Foote</last-name><iid>101146956</iid><address><street>4th Floor Merchant Exchange 17-19 Whitworth Street West</street><city>Manchester M1 5WG</city><country>GB</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="US-2012027128-W"><document-id><country>US</country><doc-number>2012027128</doc-number><kind>W</kind><date>20120229</date><lang>EN</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2012118895-A2"><document-id><country>WO</country><doc-number>2012118895</doc-number><kind>A2</kind><date>20120907</date><lang>EN</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS549764391" load-source="docdb">AL</country><country mxw-id="DS549756467" load-source="docdb">AT</country><country mxw-id="DS549764392" load-source="docdb">BE</country><country mxw-id="DS549834262" load-source="docdb">BG</country><country mxw-id="DS549833292" load-source="docdb">CH</country><country mxw-id="DS549913335" load-source="docdb">CY</country><country mxw-id="DS549756468" load-source="docdb">CZ</country><country mxw-id="DS549764405" load-source="docdb">DE</country><country mxw-id="DS549913336" load-source="docdb">DK</country><country mxw-id="DS549913337" load-source="docdb">EE</country><country mxw-id="DS549833094" load-source="docdb">ES</country><country mxw-id="DS549834263" load-source="docdb">FI</country><country mxw-id="DS549834264" load-source="docdb">FR</country><country mxw-id="DS549764406" load-source="docdb">GB</country><country mxw-id="DS549913338" load-source="docdb">GR</country><country mxw-id="DS549764407" load-source="docdb">HR</country><country mxw-id="DS549756473" load-source="docdb">HU</country><country mxw-id="DS549833293" load-source="docdb">IE</country><country mxw-id="DS549913339" load-source="docdb">IS</country><country mxw-id="DS549834265" load-source="docdb">IT</country><country mxw-id="DS549913340" load-source="docdb">LI</country><country mxw-id="DS549844944" load-source="docdb">LT</country><country mxw-id="DS549756474" load-source="docdb">LU</country><country mxw-id="DS549844945" load-source="docdb">LV</country><country mxw-id="DS549844962" load-source="docdb">MC</country><country mxw-id="DS549757131" load-source="docdb">MK</country><country mxw-id="DS549757132" load-source="docdb">MT</country><country mxw-id="DS549764408" load-source="docdb">NL</country><country mxw-id="DS549834278" load-source="docdb">NO</country><country mxw-id="DS549844963" load-source="docdb">PL</country><country mxw-id="DS549833298" load-source="docdb">PT</country><country mxw-id="DS549764421" load-source="docdb">RO</country><country mxw-id="DS549833299" load-source="docdb">RS</country><country mxw-id="DS549844964" load-source="docdb">SE</country><country mxw-id="DS549833300" load-source="docdb">SI</country><country mxw-id="DS549834279" load-source="docdb">SK</country><country mxw-id="DS549844965" load-source="docdb">SM</country><country mxw-id="DS549913341" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data><office-specific-data><eptags><ep-no-a-document-published>*</ep-no-a-document-published></eptags></office-specific-data></bibliographic-data><abstract mxw-id="PA99830428" ref-ucid="WO-2012118895-A2" lang="EN" load-source="patent-office"><p num="0000">An RFID card includes a smartcard controller that receives power from a host device. The RFID card also includes a small inductive device capable of inductive coupling with an RFID reader. The small inductive device is small enough to fit in the form factor of a memory card or SIM card. Enhancement circuits enhance the usable read and write distance of the RFID card.</p></abstract><abstract mxw-id="PA100327256" ref-ucid="WO-2012118895-A2" lang="EN" source="national office" load-source="docdb"><p>An RFID card includes a smartcard controller that receives power from a host device. The RFID card also includes a small inductive device capable of inductive coupling with an RFID reader. The small inductive device is small enough to fit in the form factor of a memory card or SIM card. Enhancement circuits enhance the usable read and write distance of the RFID card.</p></abstract><abstract mxw-id="PA99830429" ref-ucid="WO-2012118895-A2" lang="FR" load-source="patent-office"><p num="0000">Une carte RFID comprend un contrôleur de carte à puce intelligente qui est alimenté en courant électrique par un dispositif hôte. Ladite carte RFID comporte également un petit dispositif inductif pouvant assurer un couplage inductif avec un lecteur RFID. Ce petit dispositif inductif est assez petit pour s'adapter au facteur de forme d'une carte mémoire ou d'une carte SIM. Ces circuits d'amélioration améliorent la distance de lecture et d'écriture utilisable de la carte RFID.</p></abstract><abstract mxw-id="PA100327257" ref-ucid="WO-2012118895-A2" lang="FR" source="national office" load-source="docdb"><p>Une carte RFID comprend un contrôleur de carte à puce intelligente qui est alimenté en courant électrique par un dispositif hôte. Ladite carte RFID comporte également un petit dispositif inductif pouvant assurer un couplage inductif avec un lecteur RFID. Ce petit dispositif inductif est assez petit pour s'adapter au facteur de forme d'une carte mémoire ou d'une carte SIM. Ces circuits d'amélioration améliorent la distance de lecture et d'écriture utilisable de la carte RFID.</p></abstract><description mxw-id="PDES51232244" ref-ucid="WO-2012118895-A2" lang="EN" load-source="patent-office"><!-- EPO <DP n="2"/>--><p id="p0001" num="0001"> SMARTCARD PERFORMANCE ENHANCEMENT CIRCUITS AND </p><p id="p0002" num="0002"> SYSTEMS </p><p id="p0003" num="0003">Field </p><p id="p0004" num="0004"> The present invention relates generally to contactless communications devices, and more specifically to contactless smartcard devices. Background </p><p id="p0005" num="0005"> RFID "tags" can be separated into two broad categories: active tags and passive tags. Active tags are characterized by a local power source such as a battery. Active tags generally transmit information by broadcasting on an RF carrier frequency of choice using a locally generated RF carrier. Active tags are typically used to transmit over long distances, often referred to as "far field communications" (FFC). Antennas used with active RFID tags tend to be large to allow for the communications over long distances. </p><p id="p0006" num="0006"> Passive tags are not powered. Passive tags derive the energy needed to power the tag from an interrogating RF field, and use that energy to transmit response codes by modulating the impedance that the antenna presents to the interrogating field, thereby modulating the signal reflected back to the reader antenna. Passive tags are typically used to transmit over short distances, often referred to as "near field communications" (NFC). For example, passive tags operating at 13.56 MHz are typically designed to communicate with RFID readers a few centimeters away. </p><p id="p0007" num="0007"> Passive tags are typically connected to "loop antennas." One example of a loop antenna is shown in U.S. Patent No. 6,568,600, issued to Carpier et al. on May 27, 2003 (the '600 patent). The device described in the '600 patent is recognizable as a "credit card sized" passive RFID card (more specifically, a card that conforms to ISO 7816 size requirements). The loop antenna is necessarily large because 
<!-- EPO <DP n="3"/>-->
 passive tags are powered using energy received by the antenna from signals transmitted by the RFID reader. </p><p id="p0008" num="0008"> Figure 12 shows a power supply voltage developed over time by rectifying a voltage induced in a loop antenna in the presence of an interrogating RF field. Once the power supply voltage reaches a critical value, the tag is powered up and can operate. As the antenna size is reduced, it takes longer for the power supply voltage to reach the critical value, and the tag operation may not meet response time specifications. Below a certain antenna size, the power supply voltage may never reach the critical value, and the tag may never power up. </p><p id="p0009" num="0009"> Antenna design for RFID applications is described in a Microchip </p><p id="p0010" num="0010"> Technology, Inc. application note entitled "Antenna Circuit Design for RFID Applications" by Youbok Lee, Ph.D., published in 2003 (no month given). Dr. Lee's application note describes in great detail how to determine size requirements for a passive RFID tag antenna to operate at 13.56 MHz. On page 5 of the application note, Dr. Lee shows that the optimum radius of the loop antenna coil is equal to 1.414 times the required read range. This analysis confirms that for a read range on the order of a few centimeters, a credit card sized loop antenna can be made near optimal. </p><p id="p0011" num="0011"> Passive tags are seeing widespread use in many applications. For example, mobile device manufacturers are embedding passive RFID tags in mobile devices for NFC applications. Example mobile applications include, but are not limited to, ticketing and mobile payments. U.S. Patent No. 7,333,062 issued to Leizerovich et al. on February 19, 2008 (the Ό62 patent) shows a mobile phone with an integrated loop antenna for an NFC device. As shown in the Ό62 patent, the mobile phone provides the real estate necessary to implement a loop antenna at 13.56 MHz. </p><p id="p0012" num="0012"> There have been attempts to implement passive tags in smaller mobile devices. These attempts have met with limited success due in part to the size of the loop antenna. For example, Figure 13 shows an RFID tag implementation in a secure digital (SD) memory card manufactured by Wireless Dynamics, Inc. of Calgary, Alberta Canada. Card 1300 includes an antenna, but the SD card is 
<!-- EPO <DP n="4"/>-->
 significantly oversized as a result. Also for example, U.S. Patent Application Publication No.: US 2006/0124755 Al shows a memory card having a passive tag, but the card must be inserted into a slot to access a loop antenna on a different device. In this implementation, mobile device real estate is still relied upon for loop antenna implementation. It can be seen, therefore, that the size of antennas are proving to be a barrier to further miniaturization of passive RFID tags. </p><p id="p0013" num="0013"> Figure 14 shows a prior art smartcard controller and antenna in combination. Smartcard controller 330 includes a contactless interface that includes two pads 1472 and 1474 intended for connection to a coil (antenna 1480). Smartcard controller 330 also includes bridge rectifier 1420 to rectify an alternating voltage present on pads 1472 and 1474 when antenna 1480 is inductively coupled to another device and in the presence of an interrogating RF field. Capacitor 1440 is typically tuned to create a resonant circuit at the frequency of interest (e.g., 13.56 MHz). When antenna 1480 is a large loop antenna, then bridge rectifier 1420 provides power to internal circuits as shown in Figure 12. Demodulator 1430 demodulates data present in the interrogating RF field, and load modulation circuit 1410 modulates an impedance seen by the device presenting the interrogating RF field when the coil (antenna 1480) is inductively coupled to a separate device that is presenting the interrogating RF field. This creates a half-duplex communications path between the device presenting the interrogating RF field and smartcard controller 330. Examples of smartcard controllers are the "SmartMX" controllers sold by NXP Semiconductors N.V. of Eindhoven, The Netherlands. </p><p id="p0014" num="0014"> A need exists for a small footprint RFID tag that does not rely on an external device to house an antenna. A need also exists for a memory card compatible RFID tag that is compatible with standard memory card slots on mobile devices. </p><p id="p0015" num="0015">Brief Description of the Drawings </p><p id="p0016" num="0016"> Figure 1 shows a mobile computing device and a small RFID card compatible with a memory card slot; </p><p id="p0017" num="0017"> Figure 2 shows a block diagram of a mobile computing device; 
<!-- EPO <DP n="5"/>-->
 Figures 3A-3B show block diagrams of memory card compatible RFID cards with integrated inductive elements; </p><p id="p0018" num="0018"> Figure 4 shows a memory card compatible RFID card with an integrated inductive element; </p><p id="p0019" num="0019"> Figure 5 shows a data portion of a memory card write command; </p><p id="p0020" num="0020"> Figure 6-11 show flowcharts of methods in accordance with various embodiments of the present invention; </p><p id="p0021" num="0021"> Figure 12 shows a power supply voltage developed over time by rectifying a voltage induced in a loop antenna in the presence of an interrogating RF field; </p><p id="p0022" num="0022"> Figure 13 shows a prior art RFID tag implementation in a secure digital (SD) memory card; </p><p id="p0023" num="0023"> Figure 14 shows a prior art smartcard controller and antenna in combination; Figure 15 shows a smartcard controller with performance enhancement circuits including load modulation and a single antenna in accordance with various embodiments of the present invention; </p><p id="p0024" num="0024"> Figure 16 shows frequency spectrum used in RFID communications; </p><p id="p0025" num="0025"> Figure 17 shows a smartcard controller with performance enhancement circuits including load modulation and separate receive and transmit antennas in accordance with various embodiments of the present invention; </p><p id="p0026" num="0026"> Figure 18 shows frequency spectrum used in RFID communications; </p><p id="p0027" num="0027"> Figure 19 shows a smartcard controller with performance enhancement circuits including load modulation and multiple transmit antennas in accordance with various embodiments of the present invention; </p><p id="p0028" num="0028"> Figure 20 shows frequency spectrum used in RFID communications; </p><p id="p0029" num="0029"> Figure 21 shows a smartcard controller with performance enhancement circuits including active transmit circuits and a single antenna in accordance with various embodiments of the present invention; </p><p id="p0030" num="0030"> Figure 22 shows a smartcard controller with performance enhancement circuits including active transmit circuits and separate receive and transmit antennas in accordance with various embodiments of the present invention; 
<!-- EPO <DP n="6"/>-->
 Figure 23 shows a smartcard controller with performance enhancement circuits including active transmit circuits and multiple transmit antennas in accordance with various embodiments of the present invention; </p><p id="p0031" num="0031"> Figure 24 shows a smartcard controller with a pad to provide a baseband digital data output; </p><p id="p0032" num="0032"> Figure 25 shows a smartcard controller with baseband digital data output and performance enhancement circuits including load modulation and a single antenna in accordance with various embodiments of the present invention; </p><p id="p0033" num="0033"> Figure 26 shows a smartcard controller with baseband digital data output and performance enhancement circuits including load modulation and separate receive and transmit antennas in accordance with various embodiments of the present invention; </p><p id="p0034" num="0034"> Figure 27 shows a smartcard controller with baseband digital data output and performance enhancement circuits including load modulation and multiple transmit antennas in accordance with various embodiments of the present invention; </p><p id="p0035" num="0035"> Figure 28 shows a smartcard controller with baseband digital data output and performance enhancement circuits including active transmit circuits and a single antenna in accordance with various embodiments of the present invention; </p><p id="p0036" num="0036"> Figure 29 shows a smartcard controller with baseband digital data output and performance enhancement circuits including transmit circuits and separate receive and transmit antennas in accordance with various embodiments of the present invention; </p><p id="p0037" num="0037"> Figure 30 shows a smartcard controller with baseband digital data output and performance enhancement circuits including transmit circuits and multiple transmit antennas in accordance with various embodiments of the present invention; </p><p id="p0038" num="0038"> Figures 31-34 show performance enhancing application specific integrated circuits (ASICs) coupled to various smartcard controllers in accordance with various embodiments of the present invention; 
<!-- EPO <DP n="7"/>-->
 Figure 35 shows a memory card with integrated smartcard controller, performance enhancement circuits and antennas in accordance with various embodiments of the present invention; </p><p id="p0039" num="0039"> Figure 36 shows a memory card with integrated smartcard controller and performance enhancement circuits in accordance with various embodiments of the present invention; </p><p id="p0040" num="0040"> Figure 37 shows a subscriber identity module (SIM) card with integrated smartcard controller, performance enhancement circuits and antennas in accordance with various embodiments of the present invention; </p><p id="p0041" num="0041"> Figure 38 shows a subscriber identity module (SIM) card with integrated smartcard controller and performance enhancement circuits in accordance with various embodiments of the present invention; and </p><p id="p0042" num="0042"> Figure 39 shows a mobile device with a smartcard controller, enhancement circuits, and antenna(s). </p><p id="p0043" num="0043">Description of Embodiments </p><p id="p0044" num="0044"> In the following detailed description, reference is made to the accompanying drawings that show, by way of illustration, various embodiments of an invention. These embodiments are described in sufficient detail to enable those skilled in the art to practice the invention. It is to be understood that the various embodiments of the invention, although different, are not necessarily mutually exclusive. For example, a particular feature, structure, or characteristic described in connection with one embodiment may be implemented within other embodiments without departing from the spirit and scope of the invention. In addition, it is to be understood that the location or arrangement of individual elements within each disclosed embodiment may be modified without departing from the spirit and scope of the invention. The following detailed description is, therefore, not to be taken in a limiting sense, and the scope of the present invention is defined only by the appended claims, appropriately interpreted, along with the full range of equivalents 
<!-- EPO <DP n="8"/>-->
 to which the claims are entitled. In the drawings, like numerals refer to the same or similar functionality throughout the several views. </p><p id="p0045" num="0045"> Figure 1 shows a mobile computing device and a small RFID card compatible with a memory card slot. Mobile computing device 110 is shown as a mobile phone in Figure 1 , but this is not a limitation of the present invention. For example, mobile computing device 110 may be a personal digital assistant (PDA), a smartphone, a mobile phone, a handheld computer, a desktop computer, or any other device capable of operating as described herein. </p><p id="p0046" num="0046"> Mobile computing device 110 includes memory card slot 112. Memory card slot 112 is a slot capable of accepting RFID card 120. For example, memory card slot 112 may have physical dimensions compatible with RFID card 120, and may have a communications interface that operates using a protocol compatible with RFID card 120. In some embodiments of the present invention, memory card slot 112 is a memory card slot designed to accept and communicate with memory cards. As used herein, the term "memory card slot" refers to any add-on slot capable of accepting a card having memory accessible by a mobile computing device such as that shown in Figure 1. For example, a memory card slot may be compatible with an industry standard communications protocol, or may be compatible with a widely accepted communications protocol that is not necessarily formally documented as an industry standard. Examples include slots that are compatible with the </p><p id="p0047" num="0047"> Multimedia Memory Card (MMC) protocol, Memory Stick DUO protocol, secure digital (SD) protocol, and Smart Media protocol. The foregoing list is meant to be exemplary, and not exhaustive. Memory card slot 112 may be compatible with many memory card slot protocols other than those explicitly listed above without departing from the scope of the invention. Further, in some embodiments, memory card slot 112 accepts a subscriber identity module (SIM) card. Memory card slot 112 may be exposed on an edge of mobile computing device 110 as shown, or may be behind a cover. For example, memory card slot 112 may be behind a battery cover, behind a battery, or anywhere else on mobile computing device 110. 
<!-- EPO <DP n="9"/>-->
 RFID card 120 includes electrical contacts 122 as part of a host interface that communicates with memory card slot 112. For example, electrical contacts 122 may provide connectivity compliant with a communications protocol for memory cards. RFID card 120 includes RFID functionality, and may also include memory accessible by mobile computing device 110. For example, in some embodiments, RFID card 120 includes a smartcard controller and an inductive element capable of interacting with an NFC reader (e.g., an ISO 14443 compliant interface). In other embodiments, RFID card 120 does not include memory accessible by mobile computing device 110. RFID card 120 may include functionality beyond memory and RFID. Electrical contacts 122 may also be compliant with a smartcard </p><p id="p0048" num="0048">"contact" interface (e.g., ISO 7816). </p><p id="p0049" num="0049"> In various embodiments of the present invention, the RFID functionality in RFID card 120 is accessed by mobile computing device 110 using memory card access commands already defined for use in memory card slot 112. Accordingly, the various embodiments of the present invention enable the implementation of RFID functions beyond memory accesses without defining new commands. In some embodiments, new commands for the RFID card are embedded inside the data bits subsequent to memory card read/write commands. RFID card 120 then decides if the incoming data bits are meant for regular read/write memory functions or for RFID functions. In other words, functions in addition to standard memory card functions may be accessed through commands "hidden" in the data stream that can be exchanged using existing memory card access commands and functions. </p><p id="p0050" num="0050">According to the various embodiments of the invention, both existing memory card functions and RFID functions may be implemented without requiring changes in how the host protocol is built. </p><p id="p0051" num="0051"> The combination of mobile computing device 110 and RFID card 120 may be used for any purpose. For example, in some embodiments, RFID card 120 may interact with a point-of-sale payment device to effect mobile payments. Also for example, in some embodiments, RFID card 120 may be used in wave-and-pay ticketing in mass transit environments, such as MIFARE. 
<!-- EPO <DP n="10"/>-->
 Figure 2 shows a block diagram of a mobile computing device. Mobile computing device 110 includes antenna 240, radio circuits 230, processor 210, memory 220, and memory card slot 112. In some embodiments, mobile computing device 110 is a mobile phone, or includes mobile phone functionality. For example, antenna 240 and radio circuits 230 may be utilized to communicate with a cellular telephone network. Further, in some embodiments, mobile computing device 110 is a wireless local area network (WLAN) or wireless wide area network (WW AN) device. For example, antenna 240 and radio circuits 230 may be utilized to communicate with a wireless access point. In some embodiments, antenna 240 and radio circuits 230 are omitted, and mobile computing device 110 does not utilize wireless connectivity. </p><p id="p0052" num="0052"> Processor 210 represents a processor capable of communicating with the other blocks shown in mobile computing device 110. For example, processor 210 may be a microprocessor, a digital signal processor (DSP), a microcontroller, or the like. Further, processor 210 may be formed from state machines or other sequential logic. In operation, processor 210 may read instructions from memory 220 and perform actions in response thereto. For example, processor 210 may execute program instructions that influence communications between mobile computing device 110 and a device coupled to memory card slot 112. </p><p id="p0053" num="0053"> Memory card slot 112 is described above with reference to Figure 1. </p><p id="p0054" num="0054"> Memory card slot 112 includes circuitry compatible with RFID card 120. Mobile computing device 110 may communicate with RFID card 120 by using a standard set of memory card access commands. For example, processor 210 may use memory card write commands to write to memory in RFID card 120, and may use memory card read commands to read from memory in RFID card 120. Mobile computing device 110 may also communicate with RFID card 120 using a ISO 7816 compatible interface or the like. For example, when RFID card 120 is a SIM card, mobile computing device 110 may communicate with a smartcard controller within the SIM card. 
<!-- EPO <DP n="11"/>-->
 Mobile computing device 110 may access the RFID functionality in RFID card 120 using "hidden" commands embedded in memory card access commands. For example, a memory card write command may include a unique data string to identify the memory card write command as a command to be diverted for purposes other than a memory write. In addition, the sector address provided with the memory card write command may be set to a particular address value to further identify the memory card write command as a command to be diverted. In addition to specific address/data values to identify the memory card access command as a command to be diverted for a purpose other than a memory access, the memory access command may include data bits to further specify the type and function of hidden command. Example formats of hidden commands are described further below. In some embodiments, a read command is issued right after a write command to enable data flow from the non-memory card functions to the host, where the write command's data had the hidden commands. The combination of a memory card write command and a memory card read command can be used in this manner to form a hidden read command. </p><p id="p0055" num="0055"> In some embodiments, memory card slot 112 is powered down after periods of inactivity to save power. For example, memory card slot 112 may be powered up when processor 210 issues a memory card write or read command, but may then be powered down to save power. When memory card slot 112 is powered down, any device coupled to the memory card slot is also powered down. For example, if RFID card 120 (Figure 1) is coupled to the memory card slot, then RFID card 120 is powered down when memory card slot 112 is powered down. </p><p id="p0056" num="0056"> In various embodiments of the present invention, processor 210 executes software resident in memory 220 to maintain power to memory card slot 112 (and to RFID card 120). For example, periodic hidden commands may be sent to RFID card 120 for the purpose of keeping power applied while RFID card 120 is expected to be providing RFID functionality. Also for example, a hidden command may be sent to RFID card 120 for the purpose of cycling power to a smartcard controller 
<!-- EPO <DP n="12"/>-->
 resident on the card. These hidden commands are described further below with respect to later figures. </p><p id="p0057" num="0057"> Figure 3 A shows a block diagram of a memory card compatible RFID card with an integrated inductive element. RFID card 300 represents possible embodiments of RFID card 120 (Figure 1). RFID card 300 includes host interface 310, memory card controller 340, memory 360, smartcard controller 340, program memory 332, and small inductive element 350. RFID card 300 is capable of communicating with a memory card slot in a mobile computing device. Further, RFID card 300 does not require memory card slots to implement extended input/output functions. For example, and not by way of limitation, in SD and micro SD embodiments, RFID card 300 is operable in any SD or microSD memory card slot, and does not require a secure digital input output (SDIO) memory card slot. </p><p id="p0058" num="0058"> Host interface 310 includes electrical contacts to interface with a memory card slot. For example, host interface 310 includes contacts such as contacts 122 (Figure 1). Also for example, in some embodiments, host interface 310 includes recessed electrical contacts. Host interface 310 may also include circuitry such as drivers, receivers, terminations, and the like. </p><p id="p0059" num="0059"> In embodiments represented by Figure 3A, memory card controller 340 communicates with the mobile device using memory card access commands. </p><p id="p0060" num="0060">Memory card controller 340 also communicates with memory 360. Memory card controller 340 determines whether each command should result in a memory operation with memory 360, whether a hidden command should be diverted to smartcard controller 330, or whether memory card controller 340 should take action in response to a hidden command. In some embodiments, memory card controller 340 executes instructions that are stored in an internal memory or stored in memory 360. In some embodiments, memory card controller 340 includes special purpose hardware useful to determine whether a command should be diverted. In other embodiments, memory card controller 340 may be a microcontroller identical in all respects to a controller found in memory cards, except for the program that it executes. 
<!-- EPO <DP n="13"/>-->
 Memory 360 may be any type of volatile or non- volatile memory. For example, memory 360 may be volatile memory such as static random access memory (SRAM) or dynamic random access memory (DRAM). Also for example, memory 360 may be nonvolatile memory such as NOR FLASH memory or NAND FLASH memory. In various embodiments of the present invention, memory 360 represents memory that is accessed by a mobile computing device using memory card access commands defined for that purpose. </p><p id="p0061" num="0061"> When RFID card 300 is communicating with a memory card slot in a mobile computing device, the mobile computing device may send a memory card access command in order to access memory 360. Also for example, the mobile computing device may send a memory card access command that contains a hidden command. Memory card controller 340 detects the presence of the hidden command, and diverts all or a portion of the memory access command to smartcard controller 330 using communication bus 342. Communication bus 342 may have any number of conductors and may take any form. For example, communication bus 342 may be a serial port, a parallel port, or may include multiple data conductors, multiple address conductors, and/or conductors to carry control signals such as clock signals. In some embodiments, memory card controller 340 takes one or more actions in response to a hidden command. For example, memory card controller 340 may modify clock signals in response to a hidden command. </p><p id="p0062" num="0062"> Memory card controller 340 can detect the hidden command in many ways. For example, in some embodiments, the memory card access command may include a specific address value or a specific data value. Memory card controller 340 detects commands that include one or both of the specific address value or specific data value and routes the command appropriately. The specific address value and specific data value used for this purpose are referred to herein as the hidden command address value and the hidden command data value. </p><p id="p0063" num="0063"> In some embodiments, memory card controller 340 detects the presence of hidden commands based only on the hidden command address value. In these embodiments, memory card controller 340 checks the address value included in a 
<!-- EPO <DP n="14"/>-->
 memory card access command, and diverts the command (or takes some other action) if it matches the hidden command address value. In some embodiments, memory card controller 340 detects the presence of hidden commands based only on the hidden command data value. In these embodiments, memory card controller 340 checks a data value included in the memory card access command, and diverts all or a portion of the command if it matches the hidden command data value. In still further embodiments, memory card controller 340 detects the presence of hidden commands based on both the hidden command address value and the hidden command data value. In these embodiments, memory card controller 340 diverts the command only if both the memory card access address and data match the hidden command address value and data value, respectively. </p><p id="p0064" num="0064"> The hidden command address value and hidden command data value may be specified in many ways. For example, all RFID cards may be issued with fixed values. In these embodiments, each time the RFID functions are accessed, the same hidden command address and/or data value is included in the memory card access command. Also for example, different RFID cards may be issued with unique values. In these embodiments, each RFID card may provide these values to a mobile computing device when queried. Also for example, hidden command address and/or data values may be specified by the mobile computing device. In still further embodiments, hidden command address and data values may be dynamic. The hidden command address and data values may change each time power is applied or on a periodic basis. </p><p id="p0065" num="0065"> Smartcard controller 330 receives hidden commands diverted by memory card controller 340. Smartcard controller 330 further interprets the hidden commands and performs actions in response thereto. Smartcard controller 330 executes instructions stored in program memory 332. In some embodiments, program memory 332 is embedded in smartcard controller 330, and in other embodiments, program memory 332 is part of memory 360. </p><p id="p0066" num="0066"> Smartcard controller 330 is a dual interface smartcard controller with one of the interfaces including RFID functionality. In some embodiments, smartcard 
<!-- EPO <DP n="15"/>-->
 controller 330 is compatible with passive RFID tag readers in NFC applications. For example, smartcard controller 330 may be a device capable of implementing all or part of the ISO 14443 standard for contactless NFC devices. Also for example, smartcard controller 330 may be a dual interface smartcard controller capable of implementing both ISO 7816 and ISO 14443 standards for contact/contactless requirements. The "SmartMX" family of controllers available from NXP </p><p id="p0067" num="0067">Semiconductors N.V. of The Netherlands are examples of suitable dual interface smartcard controllers. These controllers provide RFID functionality at 13.56 MHz. The various embodiments of the present invention operate at 13.56 MHz, but are not limited to operation at this frequency. In some embodiments, smartcard controller interoperates with MIFARE systems for ticketing applications. </p><p id="p0068" num="0068"> Smartcard controller 330 receives power from the host interface. By not receiving power from the interrogating RF field, the necessity of a loop antenna for power generation is negated. Smartcard controller 330 includes a contactless interface that in turn includes antenna port 334. Antenna port 334 includes at least two pads for connection to an antenna, shown as 1742 and 1744 in Figure 14 and later figures. In Figure 3A, antenna port 334 is coupled to small inductive element 350. </p><p id="p0069" num="0069"> Small inductive element 350 includes a coil wound around a magnetic core. As described with reference to later figures, small inductive element may include one or more coils or antennas. The coil of small inductive element is too small to draw power from the interrogating RF field, but this is not necessary since smartcard controller 330 is powered by the host device through host interface 310. Small inductive element 350 interacts with an antenna in an RFID reader similar to the way that primary and secondary coils in a transformer interact. The RFID reader has a coil resonant at 13.56 MHz functioning as the primary coil of a transformer. Small inductive element 350 functions as the secondary coil of the transformer. Accordingly, the transmitter "sees" the impedance of the secondary coil (small inductive element 350). Smartcard controller 330 is able to modulate 
<!-- EPO <DP n="16"/>-->
 reflected RF signals using circuitry to modify the impedance at the antenna port 334. </p><p id="p0070" num="0070"> Small inductive element 350 can be made very small. For example, in some embodiments, RFID card 120 is a miniSD card, microSD card, or SIM card, and small inductive element 350 is small enough to be completely contained in the miniSD, microSD, or SIM form factor. A specific embodiment of a small inductive element in a memory card form factor is described below with reference to Figure 4. </p><p id="p0071" num="0071"> In various embodiments of the invention, memory card controller 340 and smartcard controller 330 are implemented in many different ways. For example, in some embodiments, the various components are implemented in hardware. In these embodiments, the various components may be implemented as separate integrated circuits, or in a combined integrated circuit. Also for example, in some </p><p id="p0072" num="0072">embodiments, the various components may be implemented in software, or in a combination of hardware and software. In some embodiments, RFID card 300 may include a microprocessor, and the components may be implemented as software modules running on the microprocessor. In other embodiments, RFID card 300 may include multiple processors, and the components may be implemented as software modules distributed across the multiple processors. </p><p id="p0073" num="0073"> Figure 3B shows a block diagram of a memory card compatible RFID card with an integrated inductive element. RFID card 302 represents possible </p><p id="p0074" num="0074">embodiments of RFID card 120 (Figure 1). RFID card 302 includes host interface 310, memory card controller 340, memory 360, smartcard controller 340, program memory 332, and small inductive element 350, all of which are described above with reference to Figure 3 A. RFID card 302 is capable of communicating with a memory card slot in a mobile computing device. Further, RFID card 302 does not require memory card slots to implement extended input/output functions. For example, and not by way of limitation, in SD and microSD embodiments, RFID card 302 is operable in any SD or microSD memory card slot, and does not require a secure digital input output (SDIO) memory card slot. 
<!-- EPO <DP n="17"/>-->
 In embodiments represented by Figure 3B, smartcard controller 330 receives power from memory controller 340. In these embodiments, memory controller 340 has direct control over the power provided to smartcard controller 330. Memory controller 340 may apply and/or remove power from smartcard controller 330 in response to commands received over the host interface. For example, memory controller 340 may receive a hidden command to reset smartcard controller 330 by causing a reboot through a power cycle. </p><p id="p0075" num="0075"> Figure 4 shows a memory card compatible RFID card with an integrated inductive element. RFID card 120 is shown in an SD card form factor, although this is not a limitation of the present invention. For example, other form factors within the scope of the present invention include, but are not limited to, microSD form factors and SIM card form factors. RFID card 120 includes electrical contacts 122, memory card controller 340, smartcard controller 330, memory 360, magnetic core 450, and coil 452, all affixed to circuit board 402. </p><p id="p0076" num="0076"> Magnetic core 450 and coil 452 implement small inductive element 350</p><p id="p0077" num="0077">(Figures 3A, 3B). As can be seen in Figure 4, the small inductive element fits entirely within the memory card form factor. The small inductive element does not provide power generation for smartcard controller 330, and so does not need to be made large for that purpose. </p><p id="p0078" num="0078"> Figure 5 shows a data portion of a memory card write command. Included are hidden command data value 510, status field 520, password field 530, device ID 532, command index 540, and hidden command related data 550. In the example of Figure 5, the data portion is 512 bytes in length, although this is not a limitation of the present invention. Any amount of data may be included in the write command, and each field shown in Figure 5 may be any length. </p><p id="p0079" num="0079"> In the example of Figure 5, the hidden command data value is 256 bits long, although any length may be used without departing from the scope of the present invention. In some embodiments, hidden command data value 510 is used to identify a memory write command as a hidden command. When a write command is received having data in the first 256 bits that match the hidden command data 
<!-- EPO <DP n="18"/>-->
 value, the command is identified as one to be diverted to the smartcard controller. As described above, a hidden command address value may be used in conjunction with, or instead of, a hidden command data value to identify the memory write command as a hidden command. </p><p id="p0080" num="0080"> The remaining fields have significance when the memory write is a hidden command. For example, if the first 256 bits do not match the hidden command data value (or if the write address does not match the hidden command address value, or both) then the remaining bits in the data field are to be treated as data in a normal memory write command. In contrast, when the memory write is a hidden command, the remaining fields are used to further interpret the hidden command. </p><p id="p0081" num="0081"> Memory card controller 340 (Figures 3, 4) inspect the hidden command data value 510, status field 520, and possibly password field 530 and device ID 532. In some embodiments, if the command is identified as a hidden command, memory card controller 340 forwards the password 530, command index 540, and related data 550 to smartcard controller 330. In other embodiments, memory card controller 340 may directly take actions based on the hidden command. </p><p id="p0082" num="0082"> Status field 520 may include any information relating to the status of the hidden command. For example, status field 520 may include one more bits to signify to memory card controller 340 whether the host (mobile computing device) is expecting the smartcard controller to return data in response to the hidden command. For example, when status field 520 signifies a write, memory card controller 340 forwards the password, device ID, command index, and related data without expecting to return any data to the host. Also for example, when status field 520 signifies a read, memory card controller 340 forwards the password, device ID, command index, and related data with the expectation that smartcard controller 330 will provide data to be sent to the host in response to a memory card read command. The combination of a memory card write command followed shortly thereafter by a memory card read command may be used to provide "read" functionality to the smartcard controller. Read operations from the smartcard controller are described further below with reference to Figure 8. 
<!-- EPO <DP n="19"/>-->
 Password field 530 includes a password to allow smartcard controller 330 to authenticate the host to the RFID card. In some embodiments, every hidden command includes a password. Each time the password, device ID, command index, and related data is diverted to the smartcard controller, the password is checked to authenticate the host to the RFID card. </p><p id="p0083" num="0083"> Device ID 532 uniquely identifies the host (mobile computing device). The device ID may be checked by the smartcard controller to ensure that the RFID card is inserted in the host to which it is authenticated. Some embodiments of the present invention enforce a unique host/card pairing using the device ID, and other embodiments allow smartcard controller functions to be accessed by any host. </p><p id="p0084" num="0084"> Command index 540 identifies the type of hidden command. The number of possible hidden commands is limited only by the number of bits allocated thereto. Any number of bits may be allocated to command index 540 without departing from the scope of the present invention. Hidden command related data 550 may be utilized differently for each type of hidden command. Any number of bits may be used for hidden command related data 550. </p><p id="p0085" num="0085"> The data shown in Figure 5 is provided as an example, and the data field of a memory card access command may include more or fewer data fields than those shown in Figure 5. The present invention is not limited by the number or content of the fields in a memory card access command. </p><p id="p0086" num="0086"> Figure 6 shows a flowchart in accordance with various embodiments of the present invention. In some embodiments, method 600 may be used by a mobile computing device to communicate with an RFID card in a memory card slot. In some embodiments, method 600, or portions thereof, is performed by a mobile computing device with a memory card slot, and in other embodiments, method 600, or portions thereof, is performed by software. The various actions in method 600 may be performed in the order presented, in a different order, or simultaneously. Further, in some embodiments, some actions listed in Figure 6 are omitted from method 600. 
<!-- EPO <DP n="20"/>-->
 Method 600 begins at 610 in which a data pattern and an address value are received from an RFID card in a memory card slot. The data pattern corresponds to the hidden command data value, and the address value corresponds to the hidden command address value. In some embodiments, the mobile device only receives the data value and in other embodiments, the mobile device only receives the address value. In some embodiments, the actions of 610 may occur once when the RFID card is first inserted in the memory card slot. The mobile computing device may then use the address and data values each time it creates a hidden command. In other embodiments, the actions of 610 may occur each time the RFID card is inserted in the memory slot. In still further embodiments, the actions of 610 may occur periodically. Each time the actions 610 occur, the data pattern may be the same or different, and the address value may be the same or different. </p><p id="p0087" num="0087"> At 620, a data field of a memory card access command is populated with the data pattern to cause the command to be diverted to a smartcard controller on the RFID card. For example, the data pattern may be written to the data field as the hidden command data value 510 (Figure 5). </p><p id="p0088" num="0088"> At 630, an address field of the memory card access command is populated with the address value to further cause the command to be diverted to the smartcard controller. In some embodiments, only one of 620 or 630 is utilized. In these embodiments, the presence of a hidden command is signified by the data pattern alone, or the address value alone. </p><p id="p0089" num="0089"> At 640, the data field of the memory card access command is populated with a command string to specify a purpose other than a memory card access. For example, the command string may be written to the data field as the command index 540 for the smart card controller. This command may be used for any purpose. For example, one or more hidden commands may have as a sole purpose keeping power provided to the memory card slot so that the RFID card continues to receive power. </p><p id="p0090" num="0090"> At 650, the data field of a memory card access command is populated with a password to authenticate access to the RFID card coupled to the memory card slot. In some embodiments, a password is included in the data field for every hidden 
<!-- EPO <DP n="21"/>-->
 command. In other embodiments, a password is only included at the beginning of an exchange. </p><p id="p0091" num="0091"> At 660, the memory card access command is sent to the RFID card coupled to the memory card slot. For example, a mobile computing device (110, Figures 1, 2) may send the memory card access command to an RFID card (120, Figures 1, 3, 4) in a memory card slot (112, Figures 1, 2). The RFID card includes a memory card controller (340, Figure 3) to divert the command (or take some other action) based on the data fields populated in method 600. </p><p id="p0092" num="0092"> Figure 7 shows a flowchart in accordance with various embodiments of the present invention. In some embodiments, method 700 may be used by an RFID card in a memory card slot. In some embodiments, method 700, or portions thereof, is performed by a memory card controller within a memory card compatible RFID card, and in other embodiments, method 700, or portions thereof, is performed by software. The various actions in method 700 may be performed in the order presented, in a different order, or simultaneously. Further, in some embodiments, some actions listed in Figure 7 are omitted from method 700. </p><p id="p0093" num="0093"> Method 700 begins at 710 in which a memory card access command is received from a mobile computing device via a host interface. The actions of 710 correspond to an RFID card in a memory card slot of a mobile computing device receiving a memory card access command. </p><p id="p0094" num="0094"> At 720, the memory card controller checks criteria in the memory card access command to determine if the memory card access command should be diverted to a smartcard controller resident on the RFID card. The criteria may be one or both of a hidden command data value, a hidden command address value, or both. If there is a criteria match at 730, then a hidden command is present, and at least a portion of the memory card access command is diverted at 740. If there is not a criteria match, then no hidden command is present, and a memory access is performed at 750. </p><p id="p0095" num="0095"> Figure 8 shows a flowchart in accordance with various embodiments of the present invention. In some embodiments, method 800 may be used by an RFID 
<!-- EPO <DP n="22"/>-->
 card in a memory card slot. In some embodiments, method 800, or portions thereof, is performed by a memory card controller within an RFID card, and in other embodiments, method 800, or portions thereof, is performed by software. The various actions in method 800 may be performed in the order presented, in a different order, or simultaneously. Further, in some embodiments, some actions listed in Figure 8 are omitted from method 800. </p><p id="p0096" num="0096"> Method 800 begins at 810 in which a memory card write command is received from a mobile computing device via a host interface. If the memory card write command is determined to be a hidden command, processing continues with 840; otherwise, a memory write is performed at 830. </p><p id="p0097" num="0097"> At 840, the hidden command is diverted to a smartcard controller. In some embodiments, this corresponds to sending command index 540 and hidden command related data 550 (Figure 5) to the smartcard controller. If the hidden command is determined to be a "read" at 850, processing continues at 860; </p><p id="p0098" num="0098">otherwise, the hidden command processing is done. At 860, the memory card controller retrieves non-memory data from the smartcard controller, and at 870, a memory card read command is received from the mobile computing device. At 880, the non-memory data is returned to the mobile computing device. </p><p id="p0099" num="0099"> Method 800 demonstrates how a mobile computing device can perform a read from a smartcard controller in a memory card compatible RFID card. The mobile computing device issues a memory card write command with a hidden command having a status field designating a read, and then the mobile computing device issues a memory card read command. The processing in the card receives the hidden command, identifies it as a read, and then returns data to the mobile computing device in response to a subsequent memory card read command. </p><p id="p0100" num="0100"> Figure 9 shows a flowchart in accordance with various embodiments of the present invention. In some embodiments, method 900 may be used by an RFID card in a memory card slot. In some embodiments, method 900, or portions thereof, is performed by a smartcard controller within an RFID card, and in other </p><p id="p0101" num="0101">embodiments, method 900, or portions thereof, is performed by software. The 
<!-- EPO <DP n="23"/>-->
 various actions in method 900 may be performed in the order presented, in a different order, or simultaneously. Further, in some embodiments, some actions listed in Figure 9 are omitted from method 900. </p><p id="p0102" num="0102"> Method 900 begins at 910 in which a smartcard controller receives a command from the memory card controller. This command corresponds to a hidden command received by the memory card controller. At 950, the smartcard controller determines whether the command is a "dummy" command used solely for the purpose of maintaining power to the memory card slot. If no, then the smartcard function specified in the command is performed at 930. If yes, then the command is disregarded at 960. </p><p id="p0103" num="0103"> Method 900 allows a memory card compatible RFID card in a memory card slot to remain powered during periods when the memory card slot in the host device would otherwise remove power to save energy. This is a coordinated effort between software building hidden commands in a memory card access command, the memory card controller diverting the hidden command to the smartcard controller, and the smartcard controller disregarding the command. According to embodiments represented by Figure 3 A, providing power to the RFID card also provides power the smartcard controller, thereby allowing the use of a small inductive device such as those shown in Figures 3 and 4. </p><p id="p0104" num="0104"> Figure 10 shows a flowchart in accordance with various embodiments of the present invention. In some embodiments, method 1000 may be used by an RFID card in a memory card slot. In some embodiments, method 1000, or portions thereof, is performed by a memory card controller within an RFID card, and in other embodiments, method 1000, or portions thereof, is performed by software. The various actions in method 1000 may be performed in the order presented, in a different order, or simultaneously. Further, in some embodiments, some actions listed in Figure 10 are omitted from method 1000. </p><p id="p0105" num="0105"> Method 1000 begins at 1010 in which a memory card controller receives a hidden command from a mobile computing device. If at 1020, the memory card controller determines that the hidden command is to be diverted to the smartcard 
<!-- EPO <DP n="24"/>-->
 controller, then the command is diverted at 1030. In some embodiments, this corresponds to sending command index 540 and hidden command related data 550 (Figure 5) to the smartcard controller. If the command is not to be diverted, then the memory card controller does not divert the command; however, the memory card controller may take other actions at 1040 based on the hidden command. For example, the memory card controller may modify a clock signal provided to the smartcard controller. Also for example, the memory card controller may assert a reset signal to the smartcard controller. Still for example, the memory card controller may cycle power to the smartcard controller. The memory card controller is able to cycle power to the smartcard controller in embodiments represented by Figure 3B. </p><p id="p0106" num="0106"> Cycling power to the smartcard controller may be a coordinated effort between the hosting computing device and the memory card controller in the RFID card. For example, power to the memory card slot may be maintained by supplying dummy hidden commands to the RFID card as described above with reference to Figure 9. While power is maintained to the memory card slot, hidden commands may be used to cause the memory card controller to cycle power to the smartcard controller. </p><p id="p0107" num="0107"> Figure 11 shows a method authenticating a mobile computing device to one or more functions in a memory card compatible RFID card. Method 1100 begins at block 1110 in which an activation code is received at an RFID card from a mobile computing device. At 1120, the received activation code is compared to a code stored in the RFID card. If the activation code matches, the RFID card receives a password from the mobile computing device at 1140, and stores the password in the RFID card for later use at 1150. If the activation code does not match, the RFID card determines whether a number of allowable tries has been exceeded at 1160. If the number of allowable tries has been exceeded, the RFID card issuer is contacted at 1170, and if the number of allowable tries has not been exceeded, the method repeats until either the activation code matches or the number of allowable tries has been exceeded. 
<!-- EPO <DP n="25"/>-->
 Method 1100 may be performed when an RFID card is issued to a user. For example, the RFID card may be a mobile payment card issued by a financial institution. The user may be provided an activation code to "activate" the RFID card. When the user successfully enters the activation code, the user is prompted for a password, and that password is stored for use in future hidden commands. </p><p id="p0108" num="0108"> In some embodiments, multiple non-memory functions in an RFID card are authenticated using method 1100. For example, each of multiple non-memory functions may have stored activation codes, and each is activated separately. Each of the separately activated functions may have a different password, or the multiple functions may share a password. </p><p id="p0109" num="0109"> Embodiments described thus far include a power delivery mechanism from the host to the smartcard controller that allow the antenna or coil to be very small. The small antenna or coil allows for higher levels of integration, but may also reduce the maximum distance at which the RFID card will function. For example, referring to Figure 14, the voltage produced by the antenna needs to overcome the diode drops of the bridge rectifier before data can be demodulated within the smartcard controller. As the antenna shrinks in size, the RFID card needs to be closer to the device producing the interrogating RF field in order to produce a large enough voltage to overcome the bridge rectifier diode drops, thereby reducing the maximum usable distance. </p><p id="p0110" num="0110"> Figure 15 shows a smartcard controller with performance enhancement circuits including load modulation and a single antenna in accordance with various embodiments of the present invention. Antenna 1542 is a small inductive element as described above. Capacitor 1544 is in parallel with antenna 1542 and together they form tuned circuit 1540 that is tuned to be resonant at the frequency of operation (e.g., 13.56 MHz). The performance enhancement circuits include an amplifier 1510, outgoing data extraction circuit 1520, and load modulation circuit 1530. Amplifier 1510 amplifies the voltage received at antennal542, and the amplified voltage is provided to the smartcard controller. This increases the maximum distance at which the RFID card can operate while receiving data, but 
<!-- EPO <DP n="26"/>-->
 also creates a unidirectional data path where a bidirectional data path previously existed. In other words, amplifier 1510 forms a simplex communication path where a half duplex path previously existed. </p><p id="p0111" num="0111"> In order to restore the outgoing data path and re-create a half duplex communications system, the RFID card includes outgoing data extraction circuit 1520 and load modulation circuits 1530. Outgoing data extraction circuit 1520 receives a signal that is formed by the interrogating RF field having been load modulated by the smartcard controller. For example, the impedance of the antenna port is modulated by load modulation circuit 1410 (Figure 14), where the modulating signal is the baseband data. Outgoing data extraction circuit 1520 recovers the baseband data, and then load modulation circuit 1530 modulates the impedance of the tuned circuit 1540 to form the outgoing data path. </p><p id="p0112" num="0112"> Outgoing data extraction circuit 1520 may include one or more filters to extract the baseband data. For example, referring now to Figure 16, the load modulation circuit within the smartcard controller creates frequency sidebands 1610 about the carrier frequency 1620 of the interrogating RF field. Outgoing data extraction circuit 1520 may include conventional filters to isolate one or more sidebands and extract the baseband data. As shown in Figure 16, in some 13.56 MHz embodiments, the bandwidth of the carrier frequency of the interrogating RF field may be on the order of 850 KHz and the bandwidth of the sidebands may be on the order of 100-200 KHz, although this is not a limitation of the present invention. </p><p id="p0113" num="0113"> Load modulation circuit 1530 receives the extracted baseband data from outgoing data extraction circuit 1520, and load modulates the tuned circuit 1540 in response thereto. Load modulation circuits are generally well known, and may be as simple as a switched transistor that adds and removes a reactive element from tuned circuit 1540. In some embodiments, load modulation circuit 1530 </p><p id="p0114" num="0114">substantially duplicates the load modulation circuit 1410 within smartcard controller 330. </p><p id="p0115" num="0115"> Amplifier 1510 is shown coupled to smartcard controller pad 1472, and data extraction circuit 1520 is shown coupled to smartcard controller pad 1474, but this 
<!-- EPO <DP n="27"/>-->
 is not a limitation of the present invention. For example, outgoing data extraction circuit 1520 may be coupled to smartcard controller pad 1472 while amplifier 1510 may be coupled to smartcard controller pad 1474. Also for example, both circuit 1520 and amplifier 1510 may be coupled to either pad 1472 or pad 1474 without departing from the scope of the present invention. </p><p id="p0116" num="0116"> Figure 17 shows a smartcard controller with performance enhancement circuits including load modulation and separate receive and transmit antennas in accordance with various embodiments of the present invention. Figure 17 shows smartcard controller 330, amplifier 1510, outgoing data extraction circuit 1520, and load modulation circuit 1530, all of which are described above. Figure 17 also shows tuned circuits 1740 and 1750. Tuned circuit 1740 includes receive antenna 1742 and capacitor 1744. Tuned circuit 1750 includes transmit antenna 1752 and capacitor 1754. In some embodiments, receive antenna 1742 and transmit antenna 1752 are small inductive elements as described above. </p><p id="p0117" num="0117"> Separate transmit and receive antennas allow for different tuning, both in frequency and bandwidth, or "Q." For example, tuned circuit 1740 may be tuned with relatively high Q for receive as shown at 1820 in Figure 18, while tuned circuit 1750 may be tuned for a lower Q to envelope both sidebands for transmit as shown at 1830 in Figure 18. The higher Q tuning for the receive antenna may further increase the maximum usable distance when the RFID card is receiving. </p><p id="p0118" num="0118"> Figure 19 shows a smartcard controller with performance enhancement circuits including load modulation and multiple transmit antennas in accordance with various embodiments of the present invention. Figure 19 shows smartcard controller 330, amplifier 1510, outgoing data extraction circuit 1520, load modulation circuit 1530, and tuned receive circuit 1740, all of which are described above. Figure 19 also shows two tuned transmit circuits 1950 and 1960. Tuned circuit 1950 includes antenna 1952 and capacitor 1954, and tuned circuit 1960 includes antenna 1962 and capacitor 1964. Antennas 1952 and 1962 may be small inductive elements as described above. 
<!-- EPO <DP n="28"/>-->
 Separate transmit antennas allow separate tuning for the two sidebands. For example, tuned circuit 1950 may be tuned for the lower sideband tuned circuit 1960 may be tuned for the upper sideband as shown in Figure 20. Higher Q tuning of the transmit antennas for the separate sidebands may further increase the maximum usable distance when the RFID card is transmitting. </p><p id="p0119" num="0119"> Figure 21 shows a smartcard controller with performance enhancement circuits including active transmit circuits and a single antenna in accordance with various embodiments of the present invention. The circuits shown in Figure 21 are similar to Figure 15 except the load modulation is replaced with an active transmit circuit 2130. Active transmit circuit 2130 may include circuits to actively transmit a signal rather than simply load modulate tuned circuit 1540. For example, active transmit circuit 2130 may include one or more amplifiers filters, oscillators, modulators, etc., to form a signal that mimics the sidebands 1610 (Figure 16) as if the interrogating RF field experienced load modulation. Active transmission can make use of power available on the RFID card and can further increase the usable distance when smartcard controller 330 is transmitting. </p><p id="p0120" num="0120"> Figure 22 shows a smartcard controller with performance enhancement circuits including active transmit circuits and separate receive and transmit antennas in accordance with various embodiments of the present invention. The circuits shown in Figure 22 are similar to Figure 17 except the load modulation is replaced with an active transmit circuit 2130. Active transmit circuit 2130 is described above with reference to Figure 21. </p><p id="p0121" num="0121"> Figure 23 shows a smartcard controller with performance enhancement circuits including active transmit circuits and multiple transmit antennas in accordance with various embodiments of the present invention. The circuits shown in Figure 23 are similar to Figure 19 except the load modulation is replaced with an active transmit circuit 2130. Active transmit circuit 2130 is described above with reference to Figure 21. </p><p id="p0122" num="0122"> Figure 24 shows a smartcard controller with a pad to provide a baseband digital data output. Smartcard controller 2430 includes the antenna pads 1472 and 
<!-- EPO <DP n="29"/>-->
 1474 as described above. Smartcard controller 2430 also includes pad 2410 which provides the baseband digital data output directly. By providing the baseband digital data output directly, smartcard controller 2430 enables various embodiments of the invention to eliminate the outgoing data extraction circuit. </p><p id="p0123" num="0123"> Figure 25 shows a smartcard controller with baseband digital data output and performance enhancement circuits including load modulation and a single antenna in accordance with various embodiments of the present invention. Figure 25 shows smartcard controller 2430, amplifier 1510, load modulation circuits 1530, and tuned circuit 1540, all of which are described above. Note that because smartcard controller 2430 provides digital baseband data directly, the outgoing data extraction circuit 1520 (Figure 15) can be omitted, thereby reducing parts count and cost. </p><p id="p0124" num="0124"> Figure 26 shows a smartcard controller with baseband digital data output and performance enhancement circuits including load modulation and separate receive and transmit antennas in accordance with various embodiments of the present invention. Figure 26 shows circuits similar to those shown in Figure 25, except that separate transmit and receive antennas are provided. Separate transmit and receive antennas (and associated tuned circuits) allow for a higher Q tuning of the receive antenna, thereby increasing the maximum usable distance when RFID card is receiving. See Figure 18. </p><p id="p0125" num="0125"> Figure 27 shows a smartcard controller with baseband digital data output and performance enhancement circuits including load modulation and multiple transmit antennas in accordance with various embodiments of the present invention. Figure 27 shows circuits similar to those shown in Figure 26, except that multiple transmit antennas antennas are provided. Multiple separate transmit antennas (and associated tuned circuits) allow for a higher Q tuning of each transmit antenna, thereby increasing the maximum usable distance when RFID card is transmitting. See Figure 20. </p><p id="p0126" num="0126"> Figure 28 shows a smartcard controller with baseband digital data output and performance enhancement circuits including active transmit circuits and a single antenna in accordance with various embodiments of the present invention. The 
<!-- EPO <DP n="30"/>-->
 circuits shown in Figure 28 are similar to Figure 25 except the load modulation is replaced with an active transmit circuit 2130. Active transmit circuit 2130 is described above with reference to Figure 21. </p><p id="p0127" num="0127"> Figure 29 shows a smartcard controller with baseband digital data output and performance enhancement circuits including transmit circuits and separate receive and transmit antennas in accordance with various embodiments of the present invention. The circuits shown in Figure 29 are similar to Figure 26 except the load modulation is replaced with an active transmit circuit 2130. Active transmit circuit 2130 is described above with reference to Figure 21. </p><p id="p0128" num="0128"> Figure 30 shows a smartcard controller with baseband digital data output and performance enhancement circuits including transmit circuits and multiple transmit antennas in accordance with various embodiments of the present invention. The circuits shown in Figure 30 are similar to Figure 27 except the load modulation is replaced with an active transmit circuit 2130. Active transmit circuit 2130 is described above with reference to Figure 21. </p><p id="p0129" num="0129"> Figures 31-34 show performance enhancing application specific integrated circuits (ASICs) coupled to various smartcard controllers in accordance with various embodiments of the present invention. Figures 31 and 32 show ASICs coupled to smartcard controller 330. Both ASICs include amplifier 1510 and outgoing data extraction circuits 1520. The ASIC of Figure 31 includes load modulation circuits 1530 and the ASIC of Figure 32 includes active transmit circuit 2130. Figures 33 and 34 show ASICs coupled to receive direct digital baseband data from smartcard controller 2430. Accordingly, the outgoing data extraction circuits are omitted. The ASIC of Figure 33 includes amplifier 1510 and load modulation circuits 1530, and the ASIC of Figure 34 includes amplifier 1510 and active transmit circuits 2130. </p><p id="p0130" num="0130"> By combining a smartcard controller and an ASIC as described herein, the performance of an RFID card may be enhanced with a reduced parts count. Further, any of ASICs shown may be used with separate receive and transmit antennas, multiple transmit antennas, or any combination. Further, one ASIC may be provided with all of the functionality shown in Figures 31-34 and the manner in 
<!-- EPO <DP n="31"/>-->
 which it is connected to a smartcard controller will dictate which functional blocks (e.g., data extraction, load modulation, active transmit) are utilized. </p><p id="p0131" num="0131"> Figure 35 shows a memory card with integrated smartcard controller, performance enhancement circuits, and antennas in accordance with various embodiments of the present invention. Host interface 310, memory card controller 340, and memory 360 are described above. Smartcard controller 3520 may be any smartcard controller described herein, including smartcard controller 330 or smartcard controller 2430. Enhancement circuits 3550 may include any of the enhancement circuits described herein including any combination of amplifier 1510, outgoing data extraction circuits 1520, load modulation circuits 1530 and active transmit circuits 2130. Antenna(s) 3560 may include any number or type of antennas. For example, antenna(s) 3560 may include one antenna, separate transmit and receive antennas, or a receive antenna and multiple transmit antennas. </p><p id="p0132" num="0132"> Figure 36 shows a memory card with integrated smartcard controller and performance enhancement circuits in accordance with various embodiments of the present invention. The memory card of Figure 36 shows circuits similar to Figure</p><p id="p0133" num="0133">35 with the exception of antenna(s) 3560. Instead, the memory card of Figure 36 is intended for use with a host device that includes antenna(s). In some embodiments, antenna(s) 3560 are included in the memory card of Figure 36, thereby allowing the host device to decide whether to use the antennas on the memory card, or the antennas on the host device. The form factor of the memory card in Figures 35 and</p><p id="p0134" num="0134">36 is shown as a microSD card, but this is not a limitation of the present invention. Any form factor may be employed. </p><p id="p0135" num="0135"> Figure 37 shows a subscriber identity module (SIM) card with integrated smartcard controller, performance enhancement circuits and antennas in accordance with various embodiments of the present invention. Smartcard controller 3520, enhancement circuits 3550, and antenna(s) 3560 are described above with reference to Figure 35. </p><p id="p0136" num="0136"> Figure 38 shows a subscriber identity module (SIM) card with integrated smartcard controller and performance enhancement circuits in accordance with 
<!-- EPO <DP n="32"/>-->
 various embodiments of the present invention. The SIM card of Figure 38 shows circuits similar to Figure 37 with the exception of antenna(s) 3560. Instead, the SIM card of Figure 38 is intended for use with a host device that includes antenna(s). In some embodiments, antenna(s) 3560 are included in the SIM card of Figure 38, thereby allowing the host device to decide whether to use the antennas on the SIM card, or the antennas on the host device. </p><p id="p0137" num="0137"> Figure 39 shows a mobile device with a smartcard controller, enhancement circuits, and antenna(s). The mobile device of Figure 39 includes a built-in smartcard controller for RFID functionality as opposed to accepting a separate RFID card as described above. The mobile device may be any electronic device including a mobile phone, a tablet computer, or the like. </p><p id="p0138" num="0138"> Although the present invention has been described in conjunction with certain embodiments, it is to be understood that modifications and variations may be resorted to without departing from the spirit and scope of the invention as those skilled in the art readily understand. Such modifications and variations are considered to be within the scope of the invention and the appended claims. 
</p></description><claims mxw-id="PCLM44851378" ref-ucid="WO-2012118895-A2" lang="EN" load-source="patent-office"><claim-statement><!-- EPO <DP n="33"/>-->What is claimed is: </claim-statement><claim id="clm-0001" num="1"><claim-text>1. A memory card comprising: </claim-text><claim-text> a dual interface smartcard chip coupled to receive power from a host device; an amplifier to receive a signal from a receive antenna when the receive antenna is inductively coupled to another device, the amplifier providing a simplex communication path from the receive antenna to a contactless interface on the dual interface smartcard chip; and </claim-text><claim-text> a transmit circuit to receive outgoing data from the contactless interface and to drive a transmit antenna. </claim-text></claim><claim id="clm-0002" num="2"><claim-text>2. The memory card of claim 1 wherein the transmit antenna and receive antenna are one antenna. </claim-text></claim><claim id="clm-0003" num="3"><claim-text>3. The memory card of claim 1 wherein the transmit antenna and receive antenna are affixed to the memory card. </claim-text></claim><claim id="clm-0004" num="4"><claim-text>4. The memory card of claim 1 wherein the transmit and receive antennas are external to the memory card, the memory card comprising contacts to couple the transmit and receive antennas. </claim-text></claim><claim id="clm-0005" num="5"><claim-text>5. The memory card of claim 1 further comprising an extraction circuit coupled between the contactless interface and the transmit circuit to extract and provide outgoing data to the transmit circuit. </claim-text></claim><claim id="clm-0006" num="6"><claim-text>6. The memory card of claim 1 wherein the smartcard chip includes a pad coupled to the transmit circuit to output baseband data. </claim-text></claim><claim id="clm-0007" num="7"><claim-text>7. The memory card of claim 1 wherein the memory card is a microSD card. <!-- EPO <DP n="34"/>--> </claim-text></claim><claim id="clm-0008" num="8"><claim-text>8. A subscriber identity module (SIM) card comprising: </claim-text><claim-text> a dual interface smartcard chip coupled to receive power from a host device; an amplifier to receive a signal from a receive antenna when the receive antenna is inductively coupled to another device, the amplifier providing a simplex communication path from the receive antenna to a contactless interface on the dual interface smartcard chip; and </claim-text><claim-text> a transmit circuit to receive outgoing data from the contactless interface and to drive a transmit antenna. </claim-text></claim><claim id="clm-0009" num="9"><claim-text>9. The SIM card of claim 8 wherein the transmit antenna and receive antenna are one antenna. </claim-text></claim><claim id="clm-0010" num="10"><claim-text>10. The SIM card of claim 8 wherein the transmit antenna and receive antenna are affixed to the SIM card. </claim-text></claim><claim id="clm-0011" num="11"><claim-text>11. The SIM card of claim 8 wherein the transmit and receive antennas are external to the SIM card, the SIM card comprising contacts to couple the transmit and receive antennas. </claim-text></claim><claim id="clm-0012" num="12"><claim-text>12. The SIM card of claim 8 further comprising an extraction circuit coupled between the contactless interface and the transmit circuit to extract and provide outgoing data to the transmit circuit. </claim-text></claim><claim id="clm-0013" num="13"><claim-text>13. The SIM card of claim 8 wherein the smartcard chip includes a pad coupled to the transmit circuit to output baseband data. </claim-text></claim><claim id="clm-0014" num="14"><claim-text>14. A mobile device comprising: </claim-text><claim-text> a secure element with a contactless interface that receives power from the mobile device; </claim-text><claim-text> an antenna; <!-- EPO <DP n="35"/>--> an amplifier coupled to form a simplex communication path from the antenna to the contactless interface; and </claim-text><claim-text> a transmit circuit coupled to receive outgoing data from the contactless interface and drive the antenna. </claim-text></claim><claim id="clm-0015" num="15"><claim-text>15. The mobile device of claim 14 wherein the transmit circuit includes a load modulation circuit. </claim-text></claim><claim id="clm-0016" num="16"><claim-text>16. The mobile device of claim 14 wherein the transmit circuit includes an active transmit circuit. </claim-text></claim><claim id="clm-0017" num="17"><claim-text>17. The mobile device of claim 14 wherein the mobile device comprises a mobile phone. </claim-text></claim></claims><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
