<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2682856-A2" country="EP" doc-number="2682856" kind="A2" date="20140108" family-id="48576237" file-reference-id="298574" date-produced="20180824" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146584896" ucid="EP-2682856-A2"><document-id><country>EP</country><doc-number>2682856</doc-number><kind>A2</kind><date>20140108</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-13169459-A" is-representative="YES"><document-id mxw-id="PAPP154847088" load-source="docdb" format="epo"><country>EP</country><doc-number>13169459</doc-number><kind>A</kind><date>20130528</date><lang>EN</lang></document-id><document-id mxw-id="PAPP174953026" load-source="docdb" format="original"><country>EP</country><doc-number>13169459.8</doc-number><date>20130528</date><lang>EN</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140557861" ucid="JP-2012149949-A" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>2012149949</doc-number><kind>A</kind><date>20120703</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-1890320701" load-source="docdb">G06F   1/32        20060101ALI20160929BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1890320702" load-source="docdb">G06F   3/06        20060101AFI20160929BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1687189674" load-source="docdb" scheme="CPC">Y02D  10/154       20180101 LA20180219BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1852739728" load-source="docdb" scheme="CPC">G06F   1/3225      20130101 LI20170130BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1892482283" load-source="docdb" scheme="CPC">G06F   3/0653      20130101 LI20160926BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2051727601" load-source="docdb" scheme="CPC">G06F   3/0689      20130101 LI20150519BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2051736392" load-source="docdb" scheme="CPC">G06F   3/067       20130101 LI20150519BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2051737401" load-source="docdb" scheme="CPC">G06F   3/0625      20130101 LI20150519BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2051738377" load-source="docdb" scheme="CPC">G06F   3/0634      20130101 LI20150519BHEP        </classification-cpc><classification-cpc mxw-id="PCL2001017092" load-source="docdb" scheme="CPC">G06F  12/00        20130101 FI20140102BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132359321" lang="DE" load-source="patent-office">Steuerungsvorrichtung, Speichervorrichtung und von der Steuerungsvorrichtung durchgeführtes Steuerungsverfahren</invention-title><invention-title mxw-id="PT132359322" lang="EN" load-source="patent-office">Control device, storage device, and control method performed by control device</invention-title><invention-title mxw-id="PT132359323" lang="FR" load-source="patent-office">Dispositif de commande, dispositif de stockage et procédé de commande effectué par un dispositif de commande</invention-title><citations><patent-citations><patcit mxw-id="PCIT242942540" load-source="docdb" ucid="JP-2010146215-A"><document-id format="epo"><country>JP</country><doc-number>2010146215</doc-number><kind>A</kind><date>20100701</date></document-id><sources><source name="APP" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT242942539" load-source="docdb" ucid="JP-H10177494-A"><document-id format="epo"><country>JP</country><doc-number>H10177494</doc-number><kind>A</kind><date>19980630</date></document-id><sources><source name="APP" created-by-npl="N"/></sources></patcit></patent-citations></citations></technical-data><parties><applicants><applicant mxw-id="PPAR919512613" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>FUJITSU LTD</last-name><address><country>JP</country></address></addressbook></applicant><applicant mxw-id="PPAR919508882" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>FUJITSU LIMITED</last-name></addressbook></applicant><applicant mxw-id="PPAR919009801" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>FUJITSU LIMITED</last-name><iid>100126510</iid><address><street>1-1, Kamikodanaka 4-chome, Nakahara-ku</street><city>Kawasaki-shi, Kanagawa 211-8588</city><country>JP</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR919513940" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>YOSHIDA AKIMASA</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919546490" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>YOSHIDA, AKIMASA</last-name></addressbook></inventor><inventor mxw-id="PPAR919005781" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>YOSHIDA, AKIMASA</last-name><address><street>c/o FUJITSU LIMITED 1-1, Kamikodanaka 4-chome Nakahara-ku Kawasaki-shi</street><city>Kanagawa, 211-8588</city><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919513011" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>TAKI SATOSHI</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919509505" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>TAKI, SATOSHI</last-name></addressbook></inventor><inventor mxw-id="PPAR919006965" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>TAKI, SATOSHI</last-name><address><street>c/o FUJITSU LIMITED 1-1, Kamikodanaka 4-chome Nakahara-ku Kawasaki-shi</street><city>Kanagawa, 211-8588</city><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919515610" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>FUJITA KENICHI</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919537047" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>FUJITA, KENICHI</last-name></addressbook></inventor><inventor mxw-id="PPAR919013580" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>FUJITA, KENICHI</last-name><address><street>c/o FUJITSU LIMITED 1-1, Kamikodanaka 4-chome Nakahara-ku Kawasaki-shi</street><city>Kanagawa, 211-8588</city><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919527369" load-source="docdb" sequence="4" format="epo"><addressbook><last-name>NAGASHIMA CHIAKI</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919536829" load-source="docdb" sequence="4" format="intermediate"><addressbook><last-name>Nagashima, Chiaki</last-name></addressbook></inventor><inventor mxw-id="PPAR919012854" load-source="patent-office" sequence="4" format="original"><addressbook><last-name>Nagashima, Chiaki</last-name><address><street>c/o FUJITSU LIMITED 1-1, Kamikodanaka 4-chome Nakahara-ku Kawasaki-shi</street><city>Kanagawa, 211-8588</city><country>JP</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR919012820" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>HOFFMANN EITLE</last-name><iid>100061036</iid><address><street>Patent- und Rechtsanwälte Arabellastrasse 4</street><city>81925 München</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><designated-states><ep-contracting-states><country mxw-id="DS549742213" load-source="docdb">AL</country><country mxw-id="DS549812845" load-source="docdb">AT</country><country mxw-id="DS549742215" load-source="docdb">BE</country><country mxw-id="DS549907500" load-source="docdb">BG</country><country mxw-id="DS549738475" load-source="docdb">CH</country><country mxw-id="DS549739480" load-source="docdb">CY</country><country mxw-id="DS549812850" load-source="docdb">CZ</country><country mxw-id="DS549742216" load-source="docdb">DE</country><country mxw-id="DS549739481" load-source="docdb">DK</country><country mxw-id="DS549739482" load-source="docdb">EE</country><country mxw-id="DS549814218" load-source="docdb">ES</country><country mxw-id="DS549907501" load-source="docdb">FI</country><country mxw-id="DS549907502" load-source="docdb">FR</country><country mxw-id="DS549742225" load-source="docdb">GB</country><country mxw-id="DS549739483" load-source="docdb">GR</country><country mxw-id="DS549742226" load-source="docdb">HR</country><country mxw-id="DS549812851" load-source="docdb">HU</country><country mxw-id="DS549738476" load-source="docdb">IE</country><country mxw-id="DS549739484" load-source="docdb">IS</country><country mxw-id="DS549907503" load-source="docdb">IT</country><country mxw-id="DS549739485" load-source="docdb">LI</country><country mxw-id="DS549740169" load-source="docdb">LT</country><country mxw-id="DS549812852" load-source="docdb">LU</country><country mxw-id="DS549740170" load-source="docdb">LV</country><country mxw-id="DS549740171" load-source="docdb">MC</country><country mxw-id="DS549812050" load-source="docdb">MK</country><country mxw-id="DS549812051" load-source="docdb">MT</country><country mxw-id="DS549812853" load-source="docdb">NL</country><country mxw-id="DS549742227" load-source="docdb">NO</country><country mxw-id="DS549739486" load-source="docdb">PL</country><country mxw-id="DS549740173" load-source="docdb">PT</country><country mxw-id="DS549812858" load-source="docdb">RO</country><country mxw-id="DS549740174" load-source="docdb">RS</country><country mxw-id="DS549739487" load-source="docdb">SE</country><country mxw-id="DS549907504" load-source="docdb">SI</country><country mxw-id="DS549742228" load-source="docdb">SK</country><country mxw-id="DS549739488" load-source="docdb">SM</country><country mxw-id="DS549812052" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA128673068" lang="EN" load-source="patent-office"><p id="pa01" num="0001">A control device (30), receives an access request to data stored in a memory device (21a~21d) from an information processing device (10a~10c) and controls access to the data, includes a selector (38a), a changing unit (38b), a notification unit (38c), and a power supply controller (38d). When the number of accesses to a memory device is out of a range of a predetermined threshold, the selector (38a) selects a piece of data from pieces of data controlled by the control device itself or another control device. The changing unit (38b) changes a control device for controlling access to the selected a piece of data. The notification unit (38c) notifies an information processing device of a changed control device and the selected a piece of data to be controlled by the changed control device. The power supply controller (38d) controls a power supply of the changed control device or a power supply of a control device that has controlled access to the selected a piece of data.
<img id="iaf01" file="imgaf001.tif" wi="78" he="110" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA128737213" lang="EN" source="EPO" load-source="docdb"><p>A control device (30), receives an access request to data stored in a memory device (21a~21d) from an information processing device (10a~10c) and controls access to the data, includes a selector (38a), a changing unit (38b), a notification unit (38c), and a power supply controller (38d). When the number of accesses to a memory device is out of a range of a predetermined threshold, the selector (38a) selects a piece of data from pieces of data controlled by the control device itself or another control device. The changing unit (38b) changes a control device for controlling access to the selected a piece of data. The notification unit (38c) notifies an information processing device of a changed control device and the selected a piece of data to be controlled by the changed control device. The power supply controller (38d) controls a power supply of the changed control device or a power supply of a control device that has controlled access to the selected a piece of data.</p></abstract><description mxw-id="PDES63959056" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001">FIELD</heading><p id="p0001" num="0001">The embodiments discussed herein are related to a control device, a storage device, and a control method performed by the control device.</p><heading id="h0002">BACKGROUND</heading><p id="p0002" num="0002">In recent years, cluster storage devices have come into use. For example, one of the plurality of nodes of this type of storage devices that includes a disk device functions as a control node. When the control node receives an access request to data from a server, the control node specifies a node holding the requested data and notifies the server of it. This makes the server accessible to the node holding the target data.</p><p id="p0003" num="0003">Furthermore, known is a technique of transferring the function of the control node to another node depending on the load in the control node. For example, in the storage device, when the load on the control node is increased, a node with a low load is changed to be set as the control node (for example, see Japanese Laid-open Patent Publication No. <patcit id="pcit0001" dnum="JP2010146215A"><text>2010-146215</text></patcit>).<!-- EPO <DP n="2"> --></p><p id="p0004" num="0004">Patent Document 1: Japanese Laid-open Patent Publication No. <patcit id="pcit0002" dnum="JP2010146215A"><text>2010-146215</text></patcit></p><p id="p0005" num="0005">Patent Document 2: Japanese Laid-open Patent Publication No. <patcit id="pcit0003" dnum="JP10177494A"><text>10-177494</text></patcit></p><p id="p0006" num="0006">The above-mentioned technique, however, fails to reduce power consumption.</p><p id="p0007" num="0007">In the cluster storage device according to the above-mentioned technique, for example, when one node powers OFF functional units other than the disk device, the server becomes inaccessible to data stored in the node of which functional units have been powered OFF. For this reason, in the storage device, all the nodes power ON the functional units thereof even when the number of accesses to data is small and an input/output (I/O) load is low. This makes it impossible to reduce power consumed by the storage device.</p><p id="p0008" num="0008">Accordingly, it is an object in one aspect of an embodiment of the invention to provide a control device, a storage device, and a control method performed by the control device that can reduce power consumption.</p><heading id="h0003">SUMMARY</heading><p id="p0009" num="0009">According to an aspect of an embodiment, a control device, which receives an access request to data stored in a memory device from an information processing device and<!-- EPO <DP n="3"> --> controls access to the data, includes a selector, a changing unit, a notification unit, and a power supply controller. When the number of accesses to a memory device is out of a range of a predetermined threshold, the selector selects a piece of data from pieces of data controlled by the control device itself or another control device. The changing unit changes a control device for controlling access to the selected a piece of data. The notification unit notifies an information processing device of a control device after changed and the selected a piece of data to be controlled by the control device after changed. The power supply controller controls a power supply of the control device after changed or a power supply of a control device that has controlled access to the selected a piece of data.</p><heading id="h0004">BRIEF DESCRIPTION OF DRAWINGS</heading><p id="p0010" num="0010"><ul><li><figref idrefs="f0001">FIG. 1</figref> is a diagram illustrating a configuration example of an information processing system according to a first embodiment;</li><li><figref idrefs="f0002">FIG. 2</figref> is a table illustrating an example of a data structure that is stored in a logical volume management table;</li><li><figref idrefs="f0003">FIG. 3</figref> is a table illustrating an example of a data structure that is stored in a storage controller management<!-- EPO <DP n="4"> --> table;</li><li><figref idrefs="f0003">FIG. 4</figref> is a table illustrating an example of the data structure that is stored in the logical volume management table;</li><li><figref idrefs="f0004">FIG. 5</figref> is a diagram illustrating an example of active paths in the normal state;</li><li><figref idrefs="f0005">FIG. 6</figref> is a diagram illustrating an example of active paths when an I/O amount is larger than a threshold;</li><li><figref idrefs="f0006">FIG. 7</figref> is a diagram illustrating an example of active paths when the I/O amount is smaller than the threshold;</li><li><figref idrefs="f0007">FIG. 8</figref> is a sequence diagram illustrating processing operations when the I/O amount is smaller than the threshold;</li><li><figref idrefs="f0008">FIG. 9</figref> is a sequence diagram illustrating processing operations when the I/O amount is larger than the threshold;</li><li><figref idrefs="f0009">FIG. 10</figref> is a sequence diagram illustrating processing operations at the time of scale-out;</li><li><figref idrefs="f0010">FIG. 11</figref> is a flowchart illustrating processing procedures of path change processing by a manager unit; and</li><li><figref idrefs="f0011">FIG. 12</figref> is a flowchart illustrating processing procedures of processing when a job server receives a notification.</li></ul></p><heading id="h0005">DESCRIPTION OF EMBODIMENTS</heading><!-- EPO <DP n="5"> --><p id="p0011" num="0011">Preferred embodiments of the present invention will be explained with reference to accompanying drawings. It is to be noted that the invention is not limited by the embodiments. The respective embodiments can be combined appropriately in the range where processing contents are consistent.</p><heading id="h0006">[a] First Embodiment</heading><heading id="h0007">Configuration of Information Processing System 1 according to First Embodiment</heading><p id="p0012" num="0012"><figref idrefs="f0001">FIG. 1</figref> is a diagram illustrating a configuration example of an information processing system 1 according to a first embodiment. As illustrated in <figref idrefs="f0001">FIG. 1</figref>, the information processing system 1 according to the first embodiment includes an operation terminal 2, a job server 10a, a job server 10b, a job server 10c, and a storage device 20. In the following description, when the job server 10a, the job server 10b, and the job server 10c are not distinguished from one another, they are referred to as job server(s) 10.</p><p id="p0013" num="0013">In the information processing system 1 according to the first embodiment, the operation terminal 2, the job servers 10, and the storage device 20 are connected with an internet small computer system (iSCSI), for example, so as to communicate with one another. The number of operation terminals 2, the number of job servers 10, and the number<!-- EPO <DP n="6"> --> of storage devices 20 that are included in the information processing system 1 according to the first embodiment are not limited to those as illustrated in <figref idrefs="f0001">FIG. 1</figref>.</p><p id="p0014" num="0014">The operation terminal 2 provides a graphical user interface (GUI) and receives various types of settings from a user. For example, the operation terminal 2 receives creation of a logical volume from the user and notifies a master storage controller, which will be described later, of the creation of the logical volume. Furthermore, the operation terminal 2 receives a direction to perform scale-out from the user and notifies the master storage controller, which will be described later, of start of the scale-out. It is to be noted that the scale-out indicates processing of additionally installing a disk device and a storage controller included in the storage device 20, which will be described later.</p><p id="p0015" num="0015">The job server 10 accesses to data on the logical volumes included in the storage device 20 to execute various pieces of job processing. The storage device 20 includes the disk devices to store various types of data.</p><heading id="h0008">Configuration of Job Server 10</heading><p id="p0016" num="0016">The job server 10 includes a communication control interface unit 11, a memory unit 12, and a controller 13. The communication control interface unit 11 is an interface to the storage device 20 connected to the job server 10<!-- EPO <DP n="7"> --> through network or communication wires.</p><p id="p0017" num="0017">The memory unit 12 is a memory device such as a semiconductor memory element, for example, and includes a logical volume management table 12a. The logical volume management table 12a stores information indicating IP addresses of active paths of the logical volumes to be accessed. It is to be noted that a data structure of the logical volume management table 12a is described in detail later with reference to <figref idrefs="f0002">FIG. 2</figref>.</p><p id="p0018" num="0018">The controller 13 is an electronic circuit such as a central processing unit (CPU) and a micro processing unit (MPU) and executes various types of arithmetic processing. The controller 13 has a path selector 13a. When the job server 10 accesses to data in the logical volume stored in the storage device 20, the path selector 13a selects an active path by referring to the logical volume management table 12a.</p><heading id="h0009">Configuration of Storage Device 20</heading><p id="p0019" num="0019">The storage device 20 includes a disk device 21a, a disk device 21b, a disk device 21c, a disk device 21d, and a switch 22. Furthermore, the storage device 20 includes a storage controller 30, a storage controller 40a, a storage controller 40b, and a storage controller 40c.</p><p id="p0020" num="0020">It is to be noted that the storage controller 40a, the storage controller 40b, and the storage controller 40c are<!-- EPO <DP n="8"> --> referred to as storage controller(s) 40 appropriately while they are not distinguished from one another. The number of disk devices, the number of switches, and the number of storage controllers that are included in the storage device 20 are not limited to those as illustrated in <figref idrefs="f0001">FIG. 1</figref>. Furthermore, the power supplies of the storage controller 30 and the storage controllers 40 are controlled independently in the storage device 20.</p><p id="p0021" num="0021">The disk device 21a is a memory device that has a hard disk drive (HDD), for example, and stores data. The disk device 21b, the disk device 21c, and the disk device 21d are memory devices that have HDDs, for example, and store data like the disk device 21a. It is to be noted that when the disk device 21a to the disk device 21d are not distinguished from one another, they are referred to as disk device(s) 21.</p><p id="p0022" num="0022">The switch 22 connects the storage controller 30, the storage controllers 40, and the disk devices 21. The switch 22 enables all the storage controllers to be accessible to all the disk devices 21.</p><p id="p0023" num="0023">The storage controller 30 receives access to data in the logical volume from the job server 10 and controls the received access to the data in the logical volume. Furthermore, the storage controller 30 manages the storage device 20 overall. In the following description, the<!-- EPO <DP n="9"> --> storage controller 30 is referred to as the "master storage controller" appropriately.</p><p id="p0024" num="0024">The storage controller 40 receives access to data in the logical volume from the job server 10 and controls the received access to the data in the logical volume.</p><heading id="h0010">Functional Configuration of Storage Controller 30</heading><p id="p0025" num="0025">As illustrated in <figref idrefs="f0001">FIG. 1</figref>, the storage controller 30 includes a communication control interface unit 31, an I/O interface unit 32, a memory unit 33, and a controller 34. The communication control interface unit 31 is an interface to the operation terminal 2, the job server 10, and the storage controller 40 that are connected to the storage controller 30 through network or communication wires. The I/O interface unit 32 is an interface to the disk devices 21 and controls I/O to/from the disk devices 21.</p><p id="p0026" num="0026">The memory unit 33 is a memory device such as a semiconductor memory element, for example, and includes a storage controller management table 33a, a logical volume management table 33b, and an access log 33c.</p><p id="p0027" num="0027">The storage controller management table 33a stores states of the storage controllers included in the storage device 20, IP addresses assigned to the storage controllers, and information indicating logical volumes allocated to the storage controllers for control. It is to be noted that a data structure of the storage controller management table<!-- EPO <DP n="10"> --> 33a will be described later with reference to <figref idrefs="f0003">FIG. 3</figref>.</p><p id="p0028" num="0028">The logical volume management table 33b stores states of logical volumes and information indicating storage controllers that are active paths for the logical volumes for the respective logical volumes. It is to be noted that a data structure of the logical volume management table 33b will be described later with reference to <figref idrefs="f0003">FIG. 4</figref>.</p><p id="p0029" num="0029">The access log 33c stores access information indicating access patterns for the respective logical volumes. For example, the access log 33c stores, as the access information, access dates, IP addresses of the job servers 10 as the access sources, identifiers of the logical volumes as the access destinations, and data amounts.</p><p id="p0030" num="0030">The controller 34 is an electronic circuit such as a CPU and an MPU, for example, and includes an access information collecting unit 35, an agent unit 36, an access information analyzer 37, and a manager unit 38.</p><p id="p0031" num="0031">The access information collecting unit 35 collects the access information in the respective storage controllers when I/O is performed on the storage device 20 from the job server 10. For example, the access information collecting unit 35 collects, as the access information, the access date, the IP address of the job server 10 as the access source, the identifier of the logical volume as the access<!-- EPO <DP n="11"> --> destination, and the data amount. The access information collecting unit 35 stores the collected access information in the access log 33c.</p><p id="p0032" num="0032">The agent unit 36 executes creation of a logical volume and deletion of a logical volume when notified from the manager unit 38. When the agent unit 36 has finished the creation of the logical volume or the deletion of the logical volume, the agent unit 36 notifies the manager unit 38 of the finish of the processing. Furthermore, the agent unit 36 executes I/O control requested from the job server 10.</p><p id="p0033" num="0033">The access information analyzer 37 analyzes the collected access information. The access information analyzer 37 checks an access mount to the disk devices 21 overall after having waited for a constant period of time. Then, when the number of accesses is out of a range of a predetermined threshold, the access information analyzer 37 notifies the manager unit 38 of it.</p><p id="p0034" num="0034">For example, the access information analyzer 37 determines whether the data amount per unit time is out of the range of the predetermined threshold. The access information analyzer 37 determines whether a usage amount of a network bandwidth for the access data amount is out of the range of the predetermined threshold, for example. For example, the range of the predetermined threshold is "50%<!-- EPO <DP n="12"> --> to 70%". It is to be noted that the range of the predetermined threshold is not limited to "50% to 70%" and can be changed.</p><p id="p0035" num="0035">The manager unit 38 has a selector 38a, a changing unit 38b, a notification unit 38c, and a power supply controller 38d. The manager unit 38 manages the storage device 20 overall when it has been notified of a fact that the number of accesses to the disk devices 21 is out of the range of the predetermined threshold from the access information analyzer 37.</p><p id="p0036" num="0036">The manager unit 38 manages the storage device 20 overall when it has been directed to start the scale-out from the operation terminal 2.</p><p id="p0037" num="0037">When the number of accesses to the disk devices 21 is out of the range of the predetermined threshold, the selector 38a selects, as a change source, data in any logical volume from the data in the logical volumes controlled by the storage controller 30 or other storage controllers 40. Then, the selector 38a notifies the changing unit 38b of the selected data in the logical volume.</p><p id="p0038" num="0038">For example, the selector 38a executes the following processing when it has been notified of the fact that the number of accesses to the disk devices 21 is smaller than the range of the predetermined threshold from the access<!-- EPO <DP n="13"> --> information analyzer 37. That is to say, the selector 38a determines a storage controller to be stopped among the storage controller 30 or other storage controllers 40. For example, the selector 38a determines a storage controller to which the number of accesses is small among the storage controller 30 or other storage controllers 40 to be the storage controller to be stopped. Then, the selector 38a selects, as the change source, the data in the logical volume that is controlled by the storage controller to be stopped by referring to the storage controller management table 33a. It is to be noted that the selector 38a notifies the power supply controller 38d of the storage controller to be stopped.</p><p id="p0039" num="0039">On the other hand, the selector 38a executes the following processing when it has been notified of the fact that the number of accesses to the disk devices 21 is larger than the range of the predetermined threshold from the access information analyzer 37. That is to say, the selector 38a selects, as the change source, data in any logical volume from data in the logical volumes to be controlled by the storage controller 30 or other storage controllers 40 by referring to the logical volume management table 33b.</p><p id="p0040" num="0040">In addition, the selector 38a executes the following processing when it has been directed to start the scale-out<!-- EPO <DP n="14"> --> from the operation terminal 2, in other words, when the number of accesses to the disk devices 21 is larger than the range of the predetermined threshold and a storage controller is installed additionally. That is to say, the selector 38a selects, as the change source, data in any logical volume from data in the logical volumes controlled by the storage controller 30 or other storage controllers 40 by referring to the logical volume management table 33b.</p><p id="p0041" num="0041">When the number of accesses to the disk devices 21 is out of the range of the predetermined threshold, the changing unit 38b changes the storage controller for controlling access to the data in the logical volume that has been selected by the selector 38a so as to change an active path of the logical volume.</p><p id="p0042" num="0042">For example, the changing unit 38b executes the following processing when it has been notified of the fact that the number of accesses to the disk devices 21 is smaller than the range of the predetermined threshold from the access information analyzer 37. That is to say, the changing unit 38b selects, as the change destination, a storage controller that has been powered ON by the power supply controller 38d as the storage controller for controlling access to the data in the logical volume that has been selected by the selector 38a.</p><p id="p0043" num="0043">For example, the changing unit 38b executes the<!-- EPO <DP n="15"> --> following processing when it has been notified of the fact that the number of accesses to the disk devices 21 is larger than the range of the predetermined threshold from the access information analyzer 37. That is to say, the changing unit 38b selects, as the change destination, a storage controller other than the storage controller to be stopped as the controller for controlling access to the data in the logical volume that has been selected by the selector 38a. It is to be noted that in this case, the changing unit 38b selects an arbitrary storage controller. Then, the changing unit 38b determines whether the logical volume selected by the selector 38a can be moved to the selected storage controller based on past access trends by referring to the access log 33c indicating the access patterns for the respective logical volumes. Then, the changing unit 38b determines the selected storage controller to the change destination when the logical volume selected by the selector 38a can be moved thereto.</p><p id="p0044" num="0044">When the changing unit 38b has been directed to start the scale-out from the operation terminal 2, the changing unit 38b selects, as the change destination, the additionally-installed storage controller as the controller for controlling access to the data in the logical volume that has been selected by the selector 38a.</p><p id="p0045" num="0045">The changing unit 38b notifies an agent unit included<!-- EPO <DP n="16"> --> in the storage controller selected as the change destination so as to create the logical volume selected by the selector 38a. In addition, the changing unit 38b notifies an agent unit included in the storage controller as the changed destination so as to delete the logical volume selected by the selector 38a. In this manner, the changing unit 38b changes the active path of the logical volume.</p><p id="p0046" num="0046">The notification unit 38c notifies the job server 10 of the storage controller after changed and the data of the logical volume to be controlled by the storage controller after changed. With this, the job server 10 stops access to the logical volume as the change target.</p><p id="p0047" num="0047">The notification unit 38c notifies the job server 10 of the fact that the changing unit 38b has changed the active path of the logical volume completely. With this, the job server 10 restarts access to the logical volume with the active path after changed.</p><p id="p0048" num="0048">Furthermore, the notification unit 38c notifies the job server 10 of the storage controller to be stopped that has been determined by the selector 38a. With this, the job server 10 sets a "path state" corresponding to the storage controller to be stopped to "off-line" on the logical volume management table 12a.</p><p id="p0049" num="0049">When the notification unit 38c has been directed to<!-- EPO <DP n="17"> --> start the scale-out from the operation terminal 2, the notification unit 38c notifies the job server 10 of addition of a new storage controller. With this, the job server 10 sets a "path ID address" corresponding to the storage controller to be added and sets the "path state" thereof to "stand-by" on the logical volume management table 12a.</p><p id="p0050" num="0050">When the number of accesses to the disk devices 21 is out of the range of the predetermined threshold, the power supply controller 38d controls the power supply of the storage controller after changed or the power supply of the storage controller before changed. For example, when the power supply controller 38d has been notified of the fact that the number of accesses to the disk devices 21 is larger than the range of the predetermined threshold from the access information analyzer 37, the power supply controller 38d powers ON the storage controller that is being stopped.</p><p id="p0051" num="0051">For example, when the power supply controller 38d has been notified of the fact that the number of accesses to the disk devices 21 is smaller than the range of the predetermined threshold from the access information analyzer 37, the power supply controller 38d powers OFF the storage controller to be stopped that has been determined by the selector 38a.<!-- EPO <DP n="18"> --></p><p id="p0052" num="0052">When the power supply controller 38d has been directed to start the scale-out from the operation terminal 2, the power supply controller 38d powers ON the additionally-installed storage controller.</p><p id="p0053" num="0053">Functional Configuration of Storage Controller 40</p><p id="p0054" num="0054">The storage controller 40 includes a communication control interface unit 41, an I/O interface unit 42, a memory unit 43, and a controller 44. The function of the communication control interface unit 41 is similar to the function of the communication control interface unit 31. The function of the I/O interface unit 42 is similar to the function of the I/O interface unit 32.</p><p id="p0055" num="0055">The memory unit 43 is a memory device such as a semiconductor memory element, for example, and includes an access log 43a. It is to be noted that a data structure stored in the access log 43a is similar to the data structure stored in the access log 33c.</p><p id="p0056" num="0056">The controller 44 is an electronic circuit such as a CPU and an MPU, for example, and includes an access information collecting unit 45 and an agent unit 46. The function of the access information collecting unit 45 is similar to the function of the access information collecting unit 35 and the function of the agent unit 46 is similar to the function of the agent unit 36.</p><p id="p0057" num="0057">Data Structure Stored in Logical Volume Management<!-- EPO <DP n="19"> --> Table 12a</p><p id="p0058" num="0058">Next, an example of the data structure stored in the logical volume management table 12a is described with reference to <figref idrefs="f0002">FIG. 2. FIG. 2</figref> is a table illustrating an example of the data structure stored in the logical volume management table 12a.</p><p id="p0059" num="0059">As illustrated in <figref idrefs="f0002">FIG. 2</figref>, the logical volume management table 12a stores information in which "logical volume IDs", "path IP addresses", and "path states" are made to correspond to one another. Note that the "logical volume ID" stored in the logical volume management table 12a indicates an identifier of a logical volume. For example, a value of a "logical volume A", or a "logical volume B" is stored as the "logical volume ID".</p><p id="p0060" num="0060">The "path IP address" stored in the logical volume management table 12a indicates an IP address of a path. For example, a value of "10.20.40.50", "10.20.40.51", or the like is stored as the "path IP address".</p><p id="p0061" num="0061">The "path state" stored in the logical volume management table 12a indicates a type of a path state. For example, a value of "active" indicating that a path is being operated, "stand-by" indicating that the path is in a stand-by state, "off-line" indicating that the path is stopped, or the like is stored as the "path state".</p><p id="p0062" num="0062">In the example as illustrated in <figref idrefs="f0002">FIG. 2</figref>, the logical<!-- EPO <DP n="20"> --> volume management table 12a indicates that the IP address of the active path of the logical volume A is "10.20.40.50". The logical volume management table 12a also indicates that there is no active path of the logical volume B and paths of which IP addresses are "10.20.40.50", "10.20.40.51", and "10.20.40.52" are stand-by paths.</p><p id="p0063" num="0063">Data Structure Stored in Storage Controller Management Table 33a</p><p id="p0064" num="0064">Next, an example of the data structure stored in the storage controller management table 33a is described with reference to <figref idrefs="f0003">FIG. 3. FIG. 3</figref> is a table illustrating the example of the data structure stored in the storage controller management table 33a. It is to be noted that the storage controller management table 33a is generated by the manager unit 38 when the storage device is powered ON.</p><p id="p0065" num="0065">As illustrated in <figref idrefs="f0003">FIG. 3</figref>, the storage controller management table 33a stores information in which "storage controller IDs", "storage controller states", "assigned IP addresses" and "allocated logical volume IDs" are made to correspond to one another. Note that the "storage controller ID" stored in the storage controller management table 33a indicates an identifier of a storage controller. For example, a value of "1", "2", or the like is stored as the "storage controller ID".</p><p id="p0066" num="0066">The "storage controller state" stored in the storage<!-- EPO <DP n="21"> --> controller management table 33a indicates whether the type of the storage controller state is being operated or is being stopped. For example, "active" indicating that the storage controller is being operated or "stop" indicating that the storage controller is being stopped is stored as the "storage controller state".</p><p id="p0067" num="0067">The "assigned IP address" stored in the storage controller management table 33a indicates an IP address assigned to a storage controller. For example, a value of "10.20.40.50", "10.20.40.51", or the like is stored as the "assigned IP address".</p><p id="p0068" num="0068">The "allocated logical volume ID" stored in the storage controller management table 33a indicates an identifier of a logical volume to be controlled by the storage controller. In other words, the "allocated logical volume ID" indicates a logical volume of which storage controllers is the active path. For example, a value of a "logical volume A", a "logical volume B", or the like is stored as the "allocated logical volume ID".</p><p id="p0069" num="0069">In the example as illustrated in <figref idrefs="f0003">FIG. 3</figref>, the storage controller management table 33a indicates that the storage controller "1" to which the IP address "10.20.40.50" is assigned is being operated and corresponds to an active path of the logical volume A and the logical volume D. The storage controller management table 33a also indicates that<!-- EPO <DP n="22"> --> the storage controller "2" to which the IP address "10.20.40.51" is assigned is being operated and corresponds to an active path of the logical volume B and the logical volume E.</p><p id="p0070" num="0070">The "storage controller state" in the information stored in the storage controller management table 33a is updated by the power supply controller 38d and the "allocated logical volume ID" therein is updated by the changing unit 38b.</p><p id="p0071" num="0071">Data Structure Stored in Logical Volume Management Table 33b</p><p id="p0072" num="0072">Next, an example of the data structure stored in the logical volume management table 33b is described with reference to <figref idrefs="f0003">FIG. 4. FIG. 4</figref> is a table illustrating the example of the data structure stored in the logical volume management table 33b.</p><p id="p0073" num="0073">As illustrated in <figref idrefs="f0003">FIG. 4</figref>, the logical volume management table 33b stores information in which "logical volume IDs", "logical volume states", "allocated storage controller IDs" and "IP addresses of assigned job servers" are made to correspond to one another. Note that the "logical volume ID" stored in the logical volume management table 33b indicates an identifier of a logical volume. For example, a value of a "logical volume A", a "logical volume B", or the like is stored as the "logical volume ID".<!-- EPO <DP n="23"> --></p><p id="p0074" num="0074">The "logical volume state" stored in the logical volume management table 33b indicates a type of a logical volume state. For example, a value of "normal" indicating that the logical volume is normal, "creating" indicating that the logical volume is being created, or "deleting" indicating that the logical volume is being deleted is stored as the "logical volume state". When the "logical volume state" is the "creating", the logical volume is being moved from another storage controller. Furthermore, when the "logical volume state" is the "deleting", the logical volume is being moved to another storage controller. When the logical volume is not normal, "error" is stored as the "logical volume state" stored in the logical volume management table 33b.</p><p id="p0075" num="0075">Furthermore, the "allocated storage controller ID" stored in the logical volume management table 33b indicates an identifier of a storage controller that is an active path for the logical volume. For example, a value of "1", "2", or the like is stored as the allocated storage controller ID".</p><p id="p0076" num="0076">The "assigned job server IP address" stored in the logical volume management table 33b indicates an IP address assigned to the job server. For example, a value of "10.20.30.40", "10.20.30.41", or the like is stored as the "assigned job server IP address".<!-- EPO <DP n="24"> --></p><p id="p0077" num="0077">In the example as illustrated in <figref idrefs="f0003">FIG. 4</figref>, the logical volume management table 33b indicates that the logical volume A is normal, the storage controller "1" is an active path, and an access is received from the job server 10 of which IP address is "10.20.30.40". The logical volume management table 33b also indicates that the logical volume B is being deleted, the storage controller "2" is an active path, and an access is received from the job server 10 of which IP address is "10.20.30.40".</p><p id="p0078" num="0078">It is to be noted that the "logical volume state", the "allocated storage controller ID" and the "assigned job server IP address" in the information stored in the logical volume management table 33b are updated by the changing unit 38b.</p><p id="p0079" num="0079">Active Paths in Information Processing System 1</p><p id="p0080" num="0080">Next, an example of active paths in the information processing system 1 is described with reference to <figref idrefs="f0004 f0005 f0006">FIG. 5 to FIG. 7</figref>. An example of active paths in the normal state is described with reference to <figref idrefs="f0004">FIG. 5</figref>, an example of active paths when the I/O amount is larger than the range of the predetermined threshold is described with reference to <figref idrefs="f0005">FIG. 6</figref>, and an example of active paths when the I/O amount is smaller than the range of the predetermined threshold is described with reference to <figref idrefs="f0006">FIG. 7</figref>.</p><p id="p0081" num="0081">Active Paths in Normal State<!-- EPO <DP n="25"> --></p><p id="p0082" num="0082"><figref idrefs="f0004">FIG. 5</figref> is a diagram illustrating the example of the active paths in the normal state. As illustrated in <figref idrefs="f0004">FIG. 5</figref>, in the storage device 20, the storage controller 30 is an active path of the logical volume A and the logical volume D. The storage controller 40a is an active path of the logical volume B and the storage controller 40b is an active path of the logical volume C. It is to be noted that in the example as illustrated in <figref idrefs="f0004">FIG. 5</figref>, the storage controller 40c is being stopped.</p><p id="p0083" num="0083">Active Paths when I/O Amount is Larger than Range of Threshold</p><p id="p0084" num="0084"><figref idrefs="f0005">FIG. 6</figref> is a diagram illustrating the example of the active paths when the I/O amount is larger than the threshold. <figref idrefs="f0005">FIG. 6</figref> illustrates the case when the I/O amount is larger than the range of the threshold from the active paths in the normal state as illustrated in <figref idrefs="f0004">FIG. 5</figref>. In this case, the master storage controller 30 powers ON the storage controller 40c. Then, the master storage controller 30 selects a logical volume D controlled by itself and changes the storage controller 40c to be an active path of the logical volume D.</p><p id="p0085" num="0085">Active Paths when I/O Amount is Smaller than Range of Threshold</p><p id="p0086" num="0086"><figref idrefs="f0006">FIG. 7</figref> is a diagram illustrating the example of the active paths when the I/O amount is smaller than the<!-- EPO <DP n="26"> --> threshold. <figref idrefs="f0006">FIG. 7</figref> illustrates the case where the I/O amount is smaller than the range of the threshold from the active paths in the normal state as illustrated in <figref idrefs="f0004">FIG. 5</figref>. In this case, the master storage controller 30 determines to stop the storage controller 40b, for example. Furthermore, the master storage controller 30 changes the active path of the logical volume C controlled by the storage controller 40b to the storage controller 40a. Then, the master storage controller 30 powers OFF the storage controller 40b.</p><heading id="h0011">Processing Operations in Information Processing System 1</heading><p id="p0087" num="0087">Processing operations in the information processing system 1 are described with reference to <figref idrefs="f0007 f0008 f0009">FIG. 8 to FIG. 10</figref>. The processing operations when the I/O amount is smaller than the threshold are described with reference to <figref idrefs="f0007">FIG. 8</figref>, the processing operations when the I/O amount is larger than the threshold are described with reference to <figref idrefs="f0008">FIG. 9</figref>, and the processing operations at the time of the scale-out are described with reference to <figref idrefs="f0009">FIG. 10</figref>.</p><heading id="h0012">Processing Operations When I/O Amount is Smaller than Range of Threshold</heading><p id="p0088" num="0088"><figref idrefs="f0007">FIG. 8</figref> is a sequence diagram illustrating the processing operations when the I/O amount is smaller than the threshold. <figref idrefs="f0007">FIG. 8</figref> illustrates the processing<!-- EPO <DP n="27"> --> operations when the active paths in the normal state as illustrated in <figref idrefs="f0004">FIG. 5</figref> are changed to the active paths as illustrated in <figref idrefs="f0006">FIG. 7</figref>.</p><p id="p0089" num="0089">As illustrated in <figref idrefs="f0007">FIG. 8</figref>, when the storage controller 30 determines that the I/O amount is smaller than the range of the threshold, the storage controller 30 determines a storage controller to be stopped (step S101). For example, the storage controller 30 determines to stop the storage controller 40b.</p><p id="p0090" num="0090">Subsequently, the storage controller 30 determines a movement destination of the logical volume C of which active path is the storage controller 40b to be stopped (step S102). Then, the storage controller 30 notifies the storage controller 40a of the path change of the determined logical volume C (step S103).</p><p id="p0091" num="0091">The storage controller 40a changes the active path of the determined logical volume C (step S104). Subsequently, when the storage controller 40a has notified the storage controller 30 of the fact that the active path of the logical volume C has been changed, the storage controller 30 notifies the job server 10 of the path change of the determined logical volume C. Then, the job server 10 stops access to the notified logical volume C (step S105).</p><p id="p0092" num="0092">The storage controller 30 notifies the job server 10 of completion of the path change (step S106). With this,<!-- EPO <DP n="28"> --> the job server 10 restarts access to the logical volume C with a new path (step S107). That is to say, the job server 10 requests the storage controller 40a to access to the logical volume C. The storage controller 30 stops the storage controller 40b (step S108).</p><p id="p0093" num="0093">Processing Operations When I/O Amount is Larger than Range of Threshold</p><p id="p0094" num="0094"><figref idrefs="f0008">FIG. 9</figref> is a sequence diagram illustrating the processing operations when the I/O amount is larger than the threshold. <figref idrefs="f0008">FIG. 9</figref> illustrates the processing operations when the active paths in the normal state as illustrated in <figref idrefs="f0004">FIG. 5</figref> are changed to the active paths as illustrated in <figref idrefs="f0005">FIG. 6</figref>.</p><p id="p0095" num="0095">As illustrated in <figref idrefs="f0008">FIG. 9</figref>, when the storage controller 30 determines that the I/O amount is larger than the range of the threshold, the storage controller 30 activates the stopped storage controller (step S201). For example, the storage controller 30 activates the stopped storage controller 40c.</p><p id="p0096" num="0096">Subsequently, the storage controller 30 determines a logical volume of which active path is to be changed (step S202). For example, the storage controller 30 selects a logical volume D. Then, the storage controller 30 notifies the storage controller 40c of the path change of the determined logical volume D (step S203).<!-- EPO <DP n="29"> --></p><p id="p0097" num="0097">The storage controller 40c changes the active path of the determined logical volume D (step S204). Subsequently, when the storage controller 40c has notified the storage controller 30 of the fact that the active path of the logical volume D has been changed, the storage controller 30 notifies the job server 10 of the path change of the determined logical volume D. Then, the job server 10 stops access to the notified logical volume C (step S205).</p><p id="p0098" num="0098">The storage controller 30 notifies the job server 10 of the completion of the path change (step S206). With this, the job server 10 restarts access to the logical volume D with a new path (step S207). That is to say, the job server 10 requests the storage controller 40c to access to the logical volume D.</p><p id="p0099" num="0099">Processing Operations at the Time of Scale-Out</p><p id="p0100" num="0100"><figref idrefs="f0009">FIG. 10</figref> is a sequence diagram illustrating the processing operations at the time of the scale-out. As illustrated in <figref idrefs="f0009">FIG. 10</figref>, the operation terminal 2 receives connection of a new storage controller and a new disk device from a user (step S301). Subsequently, the operation terminal 2 directs the storage controller 30 to perform scale-out (step S302).</p><p id="p0101" num="0101">The storage controller 30 notifies the job server 10 of addition of a new storage controller (step S303). The job server 10 adds stand-by paths to all the existing<!-- EPO <DP n="30"> --> logical volumes (step S304). That is to say, the job server 10 stores an IP address assigned to the new storage controller as the "path IP address" so as to correspond to each "logical volume ID" and stores standby as the "path state" in the logical volume management table 12a.</p><p id="p0102" num="0102">It is to be noted that pieces of subsequent processing to be executed in the information processing system 1 are the same as the pieces of processing at step S202 to step S207 as illustrated in <figref idrefs="f0008">FIG. 9</figref>.</p><heading id="h0013">Processing Procedures of Processing in Information Processing System 1</heading><p id="p0103" num="0103">Next, processing procedures of processing in the information processing system 1 are described with reference to <figref idrefs="f0010">FIG. 11</figref> and <figref idrefs="f0011">FIG. 12</figref>. Path change processing by the manager unit 38 is described with reference to <figref idrefs="f0010">FIG. 11</figref>, and processing when the job server 10 receives a notification is described with reference to <figref idrefs="f0011">FIG. 12</figref>.</p><p id="p0104" num="0104">Path Changing Processing by Manager Unit 38</p><p id="p0105" num="0105"><figref idrefs="f0010">FIG. 11</figref> is a flowchart illustrating the processing procedures of the path change processing by the manager unit 38. As illustrated in <figref idrefs="f0010">FIG. 11</figref>, each part included in the manager unit 38 determines whether it has received a direction from the access information analyzer 37 (step S401). When each part included in the manager unit 38 has determined that it has received a direction from the access<!-- EPO <DP n="31"> --> information analyzer 37 (Yes at step S401), each part determines whether the direction is an increase direction (step S402). On the other hand, when each part included in the manager unit 38 has determined that it has not received a direction from the access information analyzer 37 (No at step S401), each part determines whether it has received a direction from the access information analyzer 37 after a predetermined period of time has passed.</p><p id="p0106" num="0106">When each part included in the manager unit 38 has determined that the direction is the increase direction (Yes at step S402), the power supply controller 38d selects one stopped storage controller and activates it (step S403). Then, the selector 38a determines a logical volume of which active path is to be changed (step S404).</p><p id="p0107" num="0107">Subsequently, the notification unit 38c notifies the job server 10 of the path change of the determined logical volume (step S405). Then, the changing unit 38b changes the path of the determined logical volume to the activated storage controller (step S406). Subsequently, the notification unit 38c notifies the job server 10 of completion of the path change (step S407).</p><p id="p0108" num="0108">On the other hand, when each part included in the manager unit 38 has determined that the direction is not the increase direction (No at step S402), the selector 38a selects one storage controller that is being activated and<!-- EPO <DP n="32"> --> selects it to a target to be stopped (step S408). Then, the changing unit 38b determines a movement destination of a logical volume of which active path is the storage controller selected by the selector 38a (step S409).</p><p id="p0109" num="0109">The notification unit 38c notifies the job server 10 of the path change of the determined logical volume (step S410). Then, the changing unit 38b moves the active path to the determined storage controller (step S411).</p><p id="p0110" num="0110">Subsequently, the notification unit 38c notifies the job server 10 of the completion of the path change (step S412). Then, the notification unit 38c notifies the job server 10 of stop of the storage controller (step S413). Thereafter, the power supply controller 38d stops the storage controller as the target to be stopped (step S414).</p><p id="p0111" num="0111">Processing when Job Server 10 Receives Notification</p><p id="p0112" num="0112"><figref idrefs="f0011">FIG. 12</figref> is a flowchart illustrating the processing procedures when the job server 10 receives a notification. As illustrated in <figref idrefs="f0011">FIG. 12</figref>, the job server 10 determines whether it has received a notification from the manager unit 38 (step S501). When the job server 10 has determined that it has not received a notification from the manager unit 38 (No at step S501), the job server 10 determines whether it has received a notification from the manager unit 38 after a predetermined period of time has passed.</p><p id="p0113" num="0113">On the other hand, when the job server 10 has<!-- EPO <DP n="33"> --> determined that it has received a notification from the manager unit 38 (Yes at step S501), the job server 10 determines whether the received notification is a notification of path change (step S502). When the job server 10 has determined that the received notification is a notification of path change (Yes at step S502), the job server 10 stops access to the logical volume as the change target (step S503).</p><p id="p0114" num="0114">On the other hand, when the job server 10 has determined that the received notification is not a notification of path change (No at step S502), the job server 10 determines whether the received notification is a notification of completion of path change (step S504). When the job server 10 has determined that the received notification is a notification of completion of path change (Yes at step S504), the job server 10 restarts access to the stopped logical volume while which the path after changed is set to the active path (step S505).</p><p id="p0115" num="0115">On the other hand, when the job server 10 has determined that the received notification is not a notification of completion of path change (No at step S504), the job server 10 determines whether the received notification is a stop notification (step S506). When the job server 10 has determined that the job server 10 received notification is a stop notification (Yes at step<!-- EPO <DP n="34"> --> S506), the job server 10 sets the notified storage controller to off-line (step S507).</p><p id="p0116" num="0116">On the other hand, when the job server 10 has determined that the received notification is not a stop notification (No at step S506), the job server 10 determines that the received notification is a notification of addition of a new storage controller (step S508). Then, the job server 10 adds stand-by paths to all the existing logical volumes (step S509).</p><p id="p0117" num="0117">It is to be noted that after the step S503, the step S505, the step S507, and the step S509, the job server 10 shifts to the step S501.</p><heading id="h0014">Effects of First Embodiment</heading><p id="p0118" num="0118">As described above, in the first embodiment, in the scale-out-type storage device 20 including the disk devices 21 and the storage controllers, the disk devices 21 and the storage controllers are connected to one another with the switch 22. This makes all the storage controllers be accessible to all the disk devices 21.</p><p id="p0119" num="0119">Furthermore, the power supplies of the storage controller 30 and the storage controllers 40 are controlled independently in the storage device 20. This makes it possible to stop the storage controller only in the storage device 20.</p><p id="p0120" num="0120">When the access amount is smaller than the range of<!-- EPO <DP n="35"> --> the predetermined threshold and the storage controller is stopped, the storage device 20 notifies the job server 10 of the stopped storage controller. When the access amount is larger than the range of the predetermined threshold and the storage controller is activated, the storage device 20 notifies the job server 10 of the activated storage controller. This enables the job server 10 to switch the active path during I/O.</p><p id="p0121" num="0121">In this manner, the storage device 20 can change the number of storage controllers to be operated when it can be operated with the small number of storage controllers. In other words, the storage device 20 can operate the minimum number of storage controllers only in accordance with a data access amount from the job server 10. As a result, the storage device 20 powers OFF the storage controllers that are not operated so as to reduce a system operation electric power amount and CO<sub>2</sub>.</p><p id="p0122" num="0122">In the above-mentioned first embodiment, the storage controllers 40a to 40c have configurations different from that of the storage controller 30 for the convenience of explanation. The invention is not, however, limited thereto and the storage controllers 40a to 40c may have the same configuration as that of the storage controller 30.</p><heading id="h0015">[b] Second Embodiment</heading><p id="p0123" num="0123">The invention may be carried out in various different<!-- EPO <DP n="36"> --> forms other than the above-mentioned embodiment. In a second embodiment, other examples included in the invention are described.</p><heading id="h0016">System Configuration and Others</heading><p id="p0124" num="0124">All or a part of the pieces of processing that have been described to be executed automatically among the respective pieces of processing described in the embodiment can be performed manually. Alternatively, all or a part of the pieces of processing that have been described to be executed manually can be performed automatically with a well-known method. In addition, processing procedures, control procedures, and specific technical terms in the above-mentioned description and drawings can be changed arbitrarily unless otherwise specified.</p><p id="p0125" num="0125">In addition, orders of the processing at the respective steps in the respective pieces of processing described in the embodiments may be changed depending on various loads and usage conditions.</p><p id="p0126" num="0126">The invention can be also applied in a cluster storage device including a plurality of storage devices in which disk devices and storage controllers are stored in the same housing by controlling the power supplies of the disk devices and the power supplies of the storage controllers separately.</p><p id="p0127" num="0127">The constituent components as illustrated in the<!-- EPO <DP n="37"> --> drawings are functionally conceptual and are not limited to be configured as illustrated in the drawings physically. For example, the selector 38a and the changing unit 38b may be integrated in the manager unit 38. In addition, all or an arbitrary part of the processing functions in the respective devices may be made to operate with a CPU and programs to be analyzed and executed on the CPU, or may be executed as hardware with a wired logic.</p><p id="p0128" num="0128">The aspect of the invention makes it possible to reduce power consumption.</p></description><claims mxw-id="PCLM56982079" lang="EN" load-source="patent-office"><!-- EPO <DP n="38"> --><claim id="c-en-0001" num="0001"><claim-text>A control device (30) that receives an access request to data stored in a memory device (21a∼21d) from an information processing device (10a∼10c) and controls access to the data, the control device (30) comprising:
<claim-text>a selector (38a) that selects a piece of data from pieces of data controlled by the control device (30) or another control device (40a∼40c) when the number of accesses to the memory device is out of a range of a predetermined threshold;</claim-text>
<claim-text>a changing unit(38b) that changes a control device for controlling access to a selected data selected by the selector;</claim-text>
<claim-text>a notification unit (38c) that notifies the information processing device of a changed control device changed by the changing unit and data to be controlled by the changed control device, and</claim-text>
<claim-text>a power supply controller (38d) that controls a power supply of the changed control device or a power supply of a control device that has controlled access to the selected data.</claim-text></claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>The control device (30) according to claim 1, wherein the power supply controller (38d) powers ON a control<!-- EPO <DP n="39"> --> device that is being stopped when the number of accesses to the memory device is larger than the range of the predetermined threshold, and<br/>
the changing unit (38b) changes a control device for controlling access to the selected data to a powered ON control device powered ON by the power supply controller.</claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>The control device (30) according to claim 1, wherein the selector (38a) selects data controlled by a control device to be stopped among the control device or another control device when the number of accesses to the memory device is smaller than the range of the predetermined threshold,<br/>
the changing unit (38b) changes the control device for controlling access to a selected data that has been selected by the selector to a control device other than the control device to be stopped, and<br/>
the power supply controller (38d) powers OFF a control device to be stopped.</claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>The control device (30) according to claim 1, wherein the power supply controller (38d) powers ON an additional control device when the number of accesses to the memory device is larger than the range of the predetermined threshold and the additional control device has been<!-- EPO <DP n="40"> --> installed additionally, and<br/>
the changing unit (38b) changes a control device for controlling access to the selected data selected by the selector to the additional control device.</claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>A storage device (20) comprising:
<claim-text>a memory device (21a∼21d), and</claim-text>
<claim-text>a plurality of control devices (30, 40a∼40c) that receive an access request to data stored in the memory device (21a∼21d) from an information processing device (10a∼10c) and control access to the data, wherein</claim-text>
<claim-text>a first control device (30) includes:
<claim-text>a selector (38a) that selects a piece of data from pieces of data controlled by the first control device or another control device when the number of accesses to the memory device is out of a range of a predetermined threshold,</claim-text>
<claim-text>a changing unit (38b) that changes a control device for controlling access to a selected data selected by the selector,</claim-text>
<claim-text>a notification unit (38c) that notifies the information processing device of a changed control device changed by the changing unit and data to be controlled by the changed control device, and</claim-text>
<claim-text>a power supply controller (38d) that controls a<!-- EPO <DP n="41"> --> power supply of the changed control device or a power supply of a control device that has controlled access to the selected data.</claim-text></claim-text></claim-text></claim><claim id="c-en-0006" num="0006"><claim-text>The storage device (20) according to claim 5, wherein the power supply controller (38d) powers ON a control device that is being stopped when the number of accesses to the memory device is larger than the range of the predetermined threshold, and<br/>
the changing unit (38b) changes a control device for controlling access to the selected data to a powered ON control device powered ON by the power supply controller.</claim-text></claim><claim id="c-en-0007" num="0007"><claim-text>The storage device (20) according to claim 5, wherein the selector (38a) selects data controlled by a control device to be stopped among the first control device or another control device when the number of accesses to the memory device is smaller than the range of the predetermined threshold,<br/>
the changing unit (38b) changes the control device for controlling access to a selected data that has been selected by the selector to a control device other than the control device to be stopped, and<br/>
the power supply controller (38d) powers OFF a control device to be stopped.<!-- EPO <DP n="42"> --></claim-text></claim><claim id="c-en-0008" num="0008"><claim-text>The storage device (20) according to claim 5, wherein the power supply controller (38d) powers ON an additional control device when the number of accesses to the memory device is larger than the range of the predetermined threshold and the additional control device has been installed additionally, and<br/>
the changing unit (38b) changes a control device for controlling access to the selected data selected by the selector to the additional control device.</claim-text></claim><claim id="c-en-0009" num="0009"><claim-text>A control method performed by a control device (30) that receives an access request to data stored in a memory device (21a∼21d) from an information processing device (10a∼10c) and controls access to the data, the control method comprising:
<claim-text>selecting a piece of data from pieces of data controlled by the control device or another control device when the number of accesses to the memory device is out of a range of a predetermined threshold;</claim-text>
<claim-text>changing a control device for controlling access to a selected data selected at the selecting;</claim-text>
<claim-text>notifying the information processing device of a changed control device changed at the changing and data to be controlled by the changed control device, and<!-- EPO <DP n="43"> --></claim-text>
<claim-text>controlling a power supply of the changed control device or a power supply of a control device that has controlled access to the selected data.</claim-text></claim-text></claim><claim id="c-en-0010" num="0010"><claim-text>The control method performed by the control device according to claim 9, wherein the controlling of the power supply includes powering ON a control device that is being stopped when the number of accesses to the memory device is larger than the range of the predetermined threshold, and<br/>
the changing includes changing a control device for controlling access to the selected data to a powered ON control device powered ON at the controlling.</claim-text></claim><claim id="c-en-0011" num="0011"><claim-text>The control method performed by the control device according to claim 9, wherein the selecting includes selecting data to be controlled by a control device to be stopped among the control device or another control device when the number of accesses to the memory device is smaller than the range of the predetermined threshold,<br/>
the changing includes changing the control device for controlling access to a selected data that has been selected to a control device other than the control device to be stopped, and<br/>
the controlling of the power supply includes powering OFF a control device to be stopped.<!-- EPO <DP n="44"> --></claim-text></claim><claim id="c-en-0012" num="0012"><claim-text>The control method performed by the control device according to claim 9, wherein the controlling of the power supply includes powering ON an additional control device when the number of accesses to the memory device is larger than the range of the predetermined threshold and the additional control device has been installed additionally, and<br/>
the changing includes changing a control device for controlling access to the selected data selected at the selecting to the additional control device.</claim-text></claim></claims><drawings mxw-id="PDW16670471" load-source="patent-office"><!-- EPO <DP n="45"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="165" he="226" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="46"> --><figure id="f0002" num="2"><img id="if0002" file="imgf0002.tif" wi="165" he="130" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="47"> --><figure id="f0003" num="3,4"><img id="if0003" file="imgf0003.tif" wi="165" he="200" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="48"> --><figure id="f0004" num="5"><img id="if0004" file="imgf0004.tif" wi="165" he="209" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="49"> --><figure id="f0005" num="6"><img id="if0005" file="imgf0005.tif" wi="165" he="181" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="50"> --><figure id="f0006" num="7"><img id="if0006" file="imgf0006.tif" wi="165" he="180" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="51"> --><figure id="f0007" num="8"><img id="if0007" file="imgf0007.tif" wi="165" he="194" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="52"> --><figure id="f0008" num="9"><img id="if0008" file="imgf0008.tif" wi="165" he="163" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="53"> --><figure id="f0009" num="10"><img id="if0009" file="imgf0009.tif" wi="165" he="202" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="54"> --><figure id="f0010" num="11"><img id="if0010" file="imgf0010.tif" wi="165" he="205" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="55"> --><figure id="f0011" num="12"><img id="if0011" file="imgf0011.tif" wi="165" he="215" img-content="drawing" img-format="tif"/></figure></drawings><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
