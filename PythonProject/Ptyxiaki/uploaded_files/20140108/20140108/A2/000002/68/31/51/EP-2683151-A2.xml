<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2683151-A2" country="EP" doc-number="2683151" kind="A2" date="20140108" family-id="48740906" file-reference-id="318320" date-produced="20180824" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146585098" ucid="EP-2683151-A2"><document-id><country>EP</country><doc-number>2683151</doc-number><kind>A2</kind><date>20140108</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-13174374-A" is-representative="YES"><document-id mxw-id="PAPP154847290" load-source="docdb" format="epo"><country>EP</country><doc-number>13174374</doc-number><kind>A</kind><date>20130628</date><lang>EN</lang></document-id><document-id mxw-id="PAPP189754564" load-source="docdb" format="original"><country>EP</country><doc-number>13174374.2</doc-number><date>20130628</date><lang>EN</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140548684" ucid="JP-2012148085-A" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>2012148085</doc-number><kind>A</kind><date>20120701</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-1987650352" load-source="docdb">H04N   1/23        20060101AFI20151211BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-2001301774" load-source="docdb" scheme="CPC">H04N   1/2166      20130101 FI20151107BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2001304073" load-source="docdb" scheme="CPC">H04N   1/04        20130101 LI20151107BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2092282398" load-source="docdb" scheme="CPC">H04N   1/233       20130101 LI20150210BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2092288200" load-source="docdb" scheme="CPC">H04N2201/3271      20130101 LA20150210BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2092289260" load-source="docdb" scheme="CPC">H04N2201/212       20130101 LA20150210BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2092289456" load-source="docdb" scheme="CPC">H04N2201/3243      20130101 LA20150210BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2092289573" load-source="docdb" scheme="CPC">H04N2201/325       20130101 LA20150210BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2092292355" load-source="docdb" scheme="CPC">H04N2201/3266      20130101 LA20150210BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2092293383" load-source="docdb" scheme="CPC">H04N2201/3254      20130101 LA20150210BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132359927" lang="DE" load-source="patent-office">Bildverarbeitungsvorrichtung und Computerprogramm</invention-title><invention-title mxw-id="PT132359928" lang="EN" load-source="patent-office">Image processing apparatus and computer program</invention-title><invention-title mxw-id="PT132359929" lang="FR" load-source="patent-office">Appareil de traitement dýimage et programme informatique</invention-title><citations><patent-citations><patcit mxw-id="PCIT417579613" load-source="docdb" ucid="JP-2010187056-A"><document-id format="epo"><country>JP</country><doc-number>2010187056</doc-number><kind>A</kind><date>20100826</date></document-id><sources><source name="APP" created-by-npl="N"/></sources></patcit></patent-citations></citations></technical-data><parties><applicants><applicant mxw-id="PPAR919540117" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>BROTHER IND LTD</last-name><address><country>JP</country></address></addressbook></applicant><applicant mxw-id="PPAR919504348" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>BROTHER KOGYO KABUSHIKI KAISHA</last-name></addressbook></applicant><applicant mxw-id="PPAR919015329" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Brother Kogyo Kabushiki Kaisha</last-name><iid>100092005</iid><address><street>15-1 Naeshiro-cho, Mizuho-ku</street><city>Nagoya, Aichi 467-8561</city><country>JP</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR919539327" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>HASEGAWA TOMOHIKO</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919536992" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>HASEGAWA, TOMOHIKO</last-name></addressbook></inventor><inventor mxw-id="PPAR919011818" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>HASEGAWA, TOMOHIKO</last-name><address><street>c/o Brother Kogyo Kabushiki Kaisha Intellectual Property Dept. 1-1-1 Kawagishi Mizuho-ku</street><city>Nagoya, Aichi 467-8562</city><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919527537" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>KONDO MASAKI</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR919514865" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>KONDO, MASAKI</last-name></addressbook></inventor><inventor mxw-id="PPAR919010366" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>KONDO, MASAKI</last-name><address><street>c/o Brother Kogyo Kabushiki Kaisha Intellectual Property Dept. 1-1-1 Kawagishi Mizuho-ku</street><city>Nagoya, Aichi 467-8562</city><country>JP</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR919007441" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Smith, Samuel Leonard</last-name><iid>101277506</iid><address><street>J A Kemp 14 South Square</street><city>Gray's Inn London WC1R 5JJ</city><country>GB</country></address></addressbook></agent></agents></parties><international-convention-data><designated-states><ep-contracting-states><country mxw-id="DS549744714" load-source="docdb">AL</country><country mxw-id="DS549908478" load-source="docdb">AT</country><country mxw-id="DS549744716" load-source="docdb">BE</country><country mxw-id="DS549815643" load-source="docdb">BG</country><country mxw-id="DS549814146" load-source="docdb">CH</country><country mxw-id="DS549744312" load-source="docdb">CY</country><country mxw-id="DS549908479" load-source="docdb">CZ</country><country mxw-id="DS549742429" load-source="docdb">DE</country><country mxw-id="DS549744725" load-source="docdb">DK</country><country mxw-id="DS549744317" load-source="docdb">EE</country><country mxw-id="DS549818427" load-source="docdb">ES</country><country mxw-id="DS549815644" load-source="docdb">FI</country><country mxw-id="DS549815645" load-source="docdb">FR</country><country mxw-id="DS549742430" load-source="docdb">GB</country><country mxw-id="DS549744726" load-source="docdb">GR</country><country mxw-id="DS549744727" load-source="docdb">HR</country><country mxw-id="DS549744318" load-source="docdb">HU</country><country mxw-id="DS549814147" load-source="docdb">IE</country><country mxw-id="DS549744728" load-source="docdb">IS</country><country mxw-id="DS549815650" load-source="docdb">IT</country><country mxw-id="DS549744319" load-source="docdb">LI</country><country mxw-id="DS549742431" load-source="docdb">LT</country><country mxw-id="DS549908480" load-source="docdb">LU</country><country mxw-id="DS549742432" load-source="docdb">LV</country><country mxw-id="DS549742441" load-source="docdb">MC</country><country mxw-id="DS549816173" load-source="docdb">MK</country><country mxw-id="DS549816178" load-source="docdb">MT</country><country mxw-id="DS549908481" load-source="docdb">NL</country><country mxw-id="DS549744733" load-source="docdb">NO</country><country mxw-id="DS549908482" load-source="docdb">PL</country><country mxw-id="DS549744734" load-source="docdb">PT</country><country mxw-id="DS549908483" load-source="docdb">RO</country><country mxw-id="DS549744735" load-source="docdb">RS</country><country mxw-id="DS549908484" load-source="docdb">SE</country><country mxw-id="DS549742443" load-source="docdb">SI</country><country mxw-id="DS549744320" load-source="docdb">SK</country><country mxw-id="DS549744329" load-source="docdb">SM</country><country mxw-id="DS549816179" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA128673270" lang="EN" load-source="patent-office"><p id="pa01" num="0001">An image processing apparatus includes a document image acquiring unit configured to acquire document image data which is generated by optically reading a document and represents a document image, an area image generating unit configured to use the document image data to generate plural area image data representing plural area images that are included in the document image, and a file generating unit configured to generate a file including the plural area image data such that the plural area images are disposed in different pages.
<img id="iaf01" file="imgaf001.tif" wi="165" he="111" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA128737421" lang="EN" source="EPO" load-source="docdb"><p>An image processing apparatus includes a document image acquiring unit configured to acquire document image data which is generated by optically reading a document and represents a document image, an area image generating unit configured to use the document image data to generate plural area image data representing plural area images that are included in the document image, and a file generating unit configured to generate a file including the plural area image data such that the plural area images are disposed in different pages.</p></abstract><description mxw-id="PDES63959258" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001"><u>CROSS-REFERENCE TO RELATED APPLICATION</u></heading><p id="p0001" num="0001">This application claims priority from Japanese Patent Application No. <patcit id="pcit0001" dnum="JP2012148085A"><text>2012-148085, filed on July 1, 2012</text></patcit>, the entire subject matter of which is incorporated herein by reference.</p><heading id="h0002"><u>TECHNICAL FIELD</u></heading><p id="p0002" num="0002">Aspects of the present invention relate to a technique of using document image data representing document images to generate a file including plural pages.</p><heading id="h0003"><u>BACKGROUND</u></heading><p id="p0003" num="0003">It is common to read sheets (documents) by a scanner and store document image data representing document images. In order to store document images in a form convenient for a user, various image processing techniques of processing document image data have been proposed. For example, <patcit id="pcit0002" dnum="JP2010187056A"><text>JP-A-2010-187056</text></patcit> describes a technique of using one document image data obtained by reading one page of a document having plural images printed thereon to generate plural image data representing the plural images, respectively.</p><heading id="h0004"><u>SUMMARY</u></heading><p id="p0004" num="0004">It is demanded to improve user convenience in storing a document image including plural images.</p><p id="p0005" num="0005">An aspect of the present invention provides a technique of storing a document image including plural images in a convenient form.</p><p id="p0006" num="0006">The present invention has been made in view of the above circumstances and provides the following illustrative embodiment.</p><p id="p0007" num="0007">According to an illustrative embodiment, there is provided an image processing apparatus comprising: a document image acquiring unit configured to acquire document image data which is generated by optically reading a document and represents a document image; an area image generating unit configured to use the document image data to generate plural area image data representing plural area images<!-- EPO <DP n="2"> --> that are included in the document image; and a file generating unit configured to generate a file including the plural area image data such that the plural area images are disposed in different pages.</p><p id="p0008" num="0008">According to the above-mentioned configuration, it is possible to use the document image data to generate a file in which the plural area images included in the document image are disposed on different pages. Therefore, it is possible to store the document image including the plural area images in a convenient form.</p><p id="p0009" num="0009">The present invention can be implemented in various forms such as a method of implementing the function of the above-mentioned apparatus, a computer program for implementing the function of the above-mentioned apparatus, and a recording medium having the computer program recorded thereon.</p><heading id="h0005"><u>BRIEF DESCRIPTION OF THE DRAWINGS</u></heading><p id="p0010" num="0010">The above and other aspects of the present invention will become more apparent and more readily appreciated from the following description of illustrative embodiments of the present invention taken in conjunction with the attached drawings, in which:
<ul><li><figref idrefs="f0001">FIG. 1</figref> is a block diagram illustrating a configuration of a document storing system 1000;</li><li><figref idrefs="f0002">FIG. 2</figref> is a flow chart illustrating a template image data generating process;</li><li><figref idrefs="f0003">FIG. 3A to 3C</figref> are views illustrating examples of a template image TI;</li><li><figref idrefs="f0004">FIGS. 4A and 4B</figref> are views illustrating use modes of a memo sheet MS;</li><li><figref idrefs="f0005">FIG. 5</figref> is a flow chart illustrating a division document generating process;</li><li><figref idrefs="f0006">FIG. 6</figref> is an explanatory view illustrating the division document generating process;</li><li><figref idrefs="f0007">FIG. 7</figref> is an explanatory view illustrating the division document generating process;</li><li><figref idrefs="f0008">FIG. 8</figref> is a view illustrating an example of a management table MT;</li><li><figref idrefs="f0009">FIG. 9</figref> is a flow chart illustrating an area image data generating process; and</li><li><figref idrefs="f0010">FIG. 10</figref> is a view illustrating generation of a PDF file.</li></ul></p><heading id="h0006"><u>DETAILED DESCRIPTION</u></heading><!-- EPO <DP n="3"> --><p id="p0011" num="0011">A. Illustrative Embodiment</p><p id="p0012" num="0012">A-1. Configuration of Document Storing System 1000</p><p id="p0013" num="0013"><figref idrefs="f0001">FIG. 1</figref> is a block diagram illustrating a configuration of a document storing system 1000. The document storing system 1000 includes an image process server 200, a multi-function apparatus 300, a personal computer 400, and a storage server 500. The multi-function apparatus 300 and the personal computer 400 are used by the same user, and are connected to each other through a LAN 600 to be communicable with each other. The multi-function apparatus 300 and the personal computer 400 are connected to the Internet 700 through the LAN 600. Each of the image process server 200 and the storage server 500 is connected to the Internet 700.</p><p id="p0014" num="0014">The multi-function apparatus 300 includes a CPU 310 for controlling the entire multi-function apparatus 300, a volatile storage device 330 such as a RAM, a non-volatile storage device 340 such as a flash memory, a communication unit 320 for connection with an external device (such as a device to which the multi-function apparatus 300 can be connected through a network, or an external storage device such as a USB memory), an operating unit 350 including various buttons, a display unit 360 such as a liquid crystal panel, a printing unit 370 which is an ink-jet or laser printer engine, and an image reading unit 380.</p><p id="p0015" num="0015">The image reading unit 380 is a scanner which uses a one-dimensional image sensor having plural photoelectric conversion elements such as CCDs or CMOSs lined up in row to optically read a document to generate document image data (scan data). The image reading unit 380 may include, for example, an automatic document feeder to sequentially read plural pages of a document, thereby automatically generating plural document image data.</p><p id="p0016" num="0016">The non-volatile storage device 340 stores a computer program 341. The computer program 341 can be recorded on a CD-ROM or the like to be provided. The CPU 310 executes the program 341 to function as an apparatus control unit 312 for controlling the entire multi-function apparatus 300. The apparatus control unit 312 includes a template image acquiring unit 314, and a document image transmitting unit 316. These functional units perform processes to be described below.</p><p id="p0017" num="0017">The image process server 200 includes a CPU 210, a volatile storage device 230 such as a RAM, a non-volatile storage device 240 such as a hard disk, and a<!-- EPO <DP n="4"> --> communication unit 220 including an interface for connection with the Internet 700. The non-volatile storage device 240 stores a computer program 241. The computer program 241 can be recorded on a CD-ROM or the like to be provided.</p><p id="p0018" num="0018">The CPU 210 executes the computer program 241 to function as a template image generating unit 50 and a document image processing unit 100. The document image processing unit 100 includes a document image acquiring unit 110, an image information acquiring unit 120, a page number acquiring unit 130, a generation order specifying unit 140, an unnecessity condition determining unit 150, an area image generating unit 160, and a file generating unit 170. These functional units perform processes to be described below.</p><p id="p0019" num="0019">The storage server 500 is a general computer, and includes a CPU 510 which executes a server program (not shown) to provide a service to store or save user's data. Specifically, a user can store document image data representing a document in the storage server 500 through the multi-function apparatus 300 and the image process server 200 as will be described below.</p><p id="p0020" num="0020">The personal computer 400 includes a CPU 410 which executes a program to function as a driver (not shown) for controlling the multi-function apparatus 300, or a client to access the image process server 200. The user can use the personal computer 400 to access to document image data stored in the storage server 500.</p><p id="p0021" num="0021">A-2. Operation of Document Storing System 1000</p><p id="p0022" num="0022">The operation of the document storing system 1000 will be described with a focus on a process which the image process server 200 performs.</p><p id="p0023" num="0023">A-2-1: Template Image Data Generating Process</p><p id="p0024" num="0024"><figref idrefs="f0002">FIG. 2</figref> is a flow chart illustrating a template image data generating process. The template image data generating process is a process of generating template image data for generating a memo sheet. If the image process server 200 receives a generation request to request generation of template image data, the template image data generating process is performed by the template image generating unit 50 of the image process server 200. The template image acquiring unit 314 of the multi-function apparatus 300 transmits the generation request to the image process server 200 according to an instruction of the user of the multi-function apparatus 300. For example, the user's instruction is a print instruction to cause the printing unit 370 of the<!-- EPO <DP n="5"> --> multi-function apparatus 300 to print a template image of a memo sheet.</p><p id="p0025" num="0025">If receiving the generation request from the multi-function apparatus 300 in Step S110, in Step S120, the template image generating unit 50 acquires setting information included in the received generation request. As shown in <figref idrefs="f0002">FIG. 2</figref>, the setting information includes layout information designated by the user. The layout information includes an allocation number AN, a sheet size PS, and a ruled line type LT to be described below. The sheet size PS is the size of sheet predetermined to be used for printing a template image, and is any one of general sheet sizes for printing, such as A4, A3, B5, B4, and so on. Examples of the ruled line type LT include ruled lines of writing sheet (horizontal ruled lines), ruled lines of graph sheet or manuscript sheet (square ruled lines), and so on. All or part of the layout information may be predetermined and fixed values. The setting information may include other information such as keyword information, in addition to the layout information.</p><p id="p0026" num="0026">In Step S130, the template image generating unit 50 uses the setting information including the layout information to determine the layout of a template image and the contents of unit images 10 to be disposed in the template image. In Step S140, the template image generating unit 50 generates template image data having the unit image 10 representing the determined contents and disposed in the determined layout.</p><p id="p0027" num="0027"><figref idrefs="f0003">FIGS. 3A to 3C</figref> are views illustrating examples of a template image TI which is represented by template image data. <figref idrefs="f0004">FIGS. 4A and 4B</figref> are view illustrating use modes of a memo sheet MS. <figref idrefs="f0003">FIG. 3A</figref> shows an example of the unit image 10. <figref idrefs="f0003">FIG. 3B</figref> shows a first type of template image TIA having an allocation number AN of 2, and <figref idrefs="f0003">FIG. 3C</figref> shows a second type of template image TIB having an allocation number AN of 4. <figref idrefs="f0004">FIG. 4A</figref> shows a use mode of a first type of memo sheet MSA having the first type of template image TIA printed thereon, and <figref idrefs="f0004">FIG. 4B</figref> shows a use mode of a second type of memo sheet MSB having the second type of template image TIB printed thereon. Incidentally, in a case of distinguishing specific types of template images TI and memo sheets MS, alphabets (for example, 'A' or 'B') are further added to the ends of their reference symbols.</p><p id="p0028" num="0028">As shown in <figref idrefs="f0003">FIGS. 3B and 3C</figref>, a template image TI includes (AN-number of) unit images 10, the number of which corresponds to the allocation number AN. In<!-- EPO <DP n="6"> --> other words, in a case of printing the template image TI on a sheet to generate a memo sheet MS, the allocation number AN is the number of unit images 10 to be printed on (one side of) one sheet. The first type of template image TIA includes two unit images 10A and 10B, and the second type of template image TIB includes four unit images 10C, 10D, 10E, and 10F. Incidentally, in a case of distinguishing specific unit images 10, alphabets (for example, 'A' or 'B') are further added to the ends of their reference symbols. This is similarly applied to areas SA of the memo sheets MS to be described below.</p><p id="p0029" num="0029">The memo sheet MS having the template images TI printed thereon is folded as shown in <figref idrefs="f0004">FIGS. 4A and 4B</figref> and is used in the folded state. Specifically, the first type of memo sheet MSA (<figref idrefs="f0004">FIG. 4A</figref>) is folded along a first folding line which is a line connecting the middle points CP1 and CP2 of two long sides of rectangular sheet, one time, and is used in the folded state. The second type of memo sheet MSB (<figref idrefs="f0004">FIG. 4B</figref>) is folded along a second folding line which is a line connecting the middle points CP3 and CP4 of two long sides of the sheet folded one time (which were short sides before the folding), one more time, and is used in the folded state. By the folding lines when the memo sheet MS has been folded, one face of the memo sheet MS is divided into plural areas SA. Specifically, one face of the first type of memo sheet MSA is divided into two areas SAA and SAB (<figref idrefs="f0004">FIG. 4A</figref>), and one face of the second type of memo sheet MSB is divided into four areas SAC, SAD, SAE, and SAF (<figref idrefs="f0004">FIG. 4B</figref>).</p><p id="p0030" num="0030">It is assumed that each area SA of the memo sheet MS is used as a memo area for one page. For example, in the first type of memo sheet MSA, the area SAA is used as a memo area of a first page, and the area SAB is used as a memo area of a second page. In the second type of memo sheet MSB, the four areas SAC, SAD, SAE, and SAF are used as memo areas of first to fourth pages, respectively.</p><p id="p0031" num="0031">The unit image 10 is printed to each of the areas SA of the memo sheet MS, one per area. That is, one unit image 10 is configured to be convenient when used as a memo area of one page. Specifically, as shown in <figref idrefs="f0003">FIG. 3A</figref>, one unit image 10 includes a ruled line area MA which includes ruled lines RL of the type designated by the layout information, a header area HA which is adjacent to the upper side of the ruled line area MA, and a footer area FA which is adjacent to the lower side of the ruled line area MA. The ruled line area MA is also called a body text area, and the header area HA and the<!-- EPO <DP n="7"> --> footer area FA are also called peripheral areas positioned at the periphery of the ruled line area MA. The ruled line area MA is a substantially blank area which includes the ruled lines RL but does not include any substantial objects such as characters, figures, and drawings.</p><p id="p0032" num="0032">The header area HA includes a top marker 11, a page information area 12, a title area 13, and an unnecessity check box 14. The top marker 11 may be disposed at the left corner of the header area HA (the upper left corner of the unit image 10), and have a shape including a part parallel to a horizontal direction, and a part parallel to a vertical direction (a shape obtained by rotating the character "L" 90 degrees clockwise). In the page information area 12, the page number of the unit image 10 in the template image TI is written. The title area 13 is an area for allowing the user to write a title for each unit image 10. The unnecessity check box 14 is an area for allowing the user to write a check mark in a case where it is not necessary to store the unit image 10.</p><p id="p0033" num="0033">The footer area FA includes plural keywords 15, mark areas 16 which correspond to the plural keywords 15, respectively, and a bottom marker 17. The keywords 15 are keywords which the user can associate with the unit image 10. The specific contents of the keywords 15 (such as 'MEMO', 'MINUTES', 'SEMINAR', and 'IDEA') may be determined in advance, or may be specified according to the keyword information which can be included in the setting information designated by the user. The mark areas 16 are areas which the user can fill to specify all or some of the plural keywords 15. The bottom marker 17 may have a shape obtained by rotating the top marker 11 180 degrees clockwise. As can be seen from the above, even if the ruled line area MA is substantially blank, in other words, even if the contents of the ruled line area MA has not been determined, candidates of the keywords 15 to be associated are printed onto the memo sheet MS having the template image TI printed thereon.</p><p id="p0034" num="0034">Each unit image 10 is disposed inside the template image TI such that it is convenient in a case of using a memo sheet MS having the template image TI printed thereon in a folded state as described with reference to <figref idrefs="f0004">FIGS. 4A and 4B</figref>.</p><p id="p0035" num="0035">Specifically, as shown in <figref idrefs="f0003">FIG. 3B</figref>, two unit images 10A and 10B of the first type of template image TIA are disposed in areas corresponding to the two areas SAA and SAB shown in <figref idrefs="f0004">FIG. 4A</figref>, respectively. The two unit images 10A and 10B are disposed in the same direction inside the first type of template image TIA such that an<!-- EPO <DP n="8"> --> upper side (an arrow in <figref idrefs="f0004">FIG. 4A</figref>) which is assumed in a case where the first template image is used in the folded state and the upper sides (arrows in <figref idrefs="f0003">FIG. 3B</figref>) of the two unit images 10A and 10B match with each other.</p><p id="p0036" num="0036">Also, as shown in <figref idrefs="f0003">FIG. 3C</figref>, four unit images 10C to 10F of the second type of template image TIB are disposed in areas corresponding to the four areas SAC to SAF shown in <figref idrefs="f0004">FIG. 4B</figref>, respectively. Two unit images 10C and 10F and two unit images 10D and 10E are disposed in opposite direction to each other inside the second type of template image TIB such that an upper side (an arrow in <figref idrefs="f0004">FIG. 4B</figref>) which is assumed in a case where the second type of template image TIB is used in the folded state and the upper sides of the four unit images 10C to 10F (arrows in <figref idrefs="f0003">FIG. 3C</figref>) match with each other. In other words, the two unit images 10C and 10F and the two unit images 10D and 10E are in opposite directions to each other with a line inside the second type of template image TIB corresponding to the above-mentioned first folding line and interposed between the two unit images 10C and 10F and the two unit images 10D and 10E.</p><p id="p0037" num="0037">In <figref idrefs="f0003">FIGS. 3B and 3C</figref>, numerals (following "P-") shown in the unit images 10 show page numbers assigned to the corresponding unit images 10 inside the template image TI. As can be seen from those numerals, the page numbers of the unit images 10 are assigned according to an order of use which is assumed in the above-mentioned folded state. As described above, each page number is shown in the page information area 12 (<figref idrefs="f0003">FIG. 3A</figref>).</p><p id="p0038" num="0038">Also, the template image TI may include a QR code (registered trademark) 18 as shown in <figref idrefs="f0003">FIGS 3B</figref> ad 3C. The QR code includes various information usable in a division document generating process to be described below.</p><p id="p0039" num="0039">As can be appreciated from the above explanation, the sizes of unit images included in one template image TI are the same each other. In a case where the sheet size is fixed, as the allocation number AN increases, the sizes of unit images 10 decrease, and as the allocation number AN decreases, the sizes of unit images 10 increase. Specifically, in the case where the sheet size is fixed, if the allocation number AN doubles, the area of each unit image 10 becomes nearly half. Also, in a case where the allocation number AN is fixed, that is, in a case where the number of unit images 10 to be included in one template image TI is fixed, as the sheet size<!-- EPO <DP n="9"> --> increases, the size of each unit image 10 increases, and as the sheet size decreases, the size of each unit image 10 decreases. Specifically, if the sheet area doubles, the area of each unit image 10 also doubles. Also, as can be appreciated from the explanation on the folded states of <figref idrefs="f0004">FIGS. 4A and 4B</figref>, in the present illustrative embodiment, the number of unit images 10 to be included in one template image TI (the allocation number AN) has a value of the Z power of 2 (here, Z is a natural number). In other words, the allocation number AN has any one of 2, 4, 8, 16, 32, ···.</p><p id="p0040" num="0040">If the template image data is generated in Step S140, in Step S150, the template image generating unit 50 transmits the template image data to the multi-function apparatus 300 in response to the generation request from the multi-function apparatus 300, and terminates the process. As the transmitted template image data, data of various formats can be used, for example, print data subjected to a rasterizing process or a halftone process may be used, and vector data such as image data described in a page description language may also be used.</p><p id="p0041" num="0041">The apparatus control unit 312 of the multi-function apparatus 300 uses the received template image data to print the template image TI on a sheet to generate a memo sheet MS. The generated memo sheet MS can be used by the user.</p><p id="p0042" num="0042">A-2-2: Division Document Generating Process</p><p id="p0043" num="0043"><figref idrefs="f0005">FIG. 5</figref> is a flow chart illustrating the division document generating process. The document generating process is a process of generating a file for storing image data representing the contents of the memo sheet MS having various information (referred to as write information) written (handwritten) thereon by the user. The document generating process is performed by the document image processing unit 100 of the image process server 200 if the image process server 200 receives document image data from the multi-function apparatus 300. The image reading unit 380 of the multi-function apparatus 300 reads the written memo sheet MS to generate document image data. The document image data may be stored in one transmission file to be transmitted to the image process server 200. In a case where there are plural document image data to be transmitted, the plural document image data are disposed or arranged in a transmission file in an order of generation (an order of read). That is, the plural document image data are transmitted such that the generation order specifying unit 140 of the image process server 200 can specify the order of generation of the plural<!-- EPO <DP n="10"> --> document image data.</p><p id="p0044" num="0044"><figref idrefs="f0006">FIGS. 6</figref> and <figref idrefs="f0007">7</figref> are explanatory views illustrating the division document generating process. First, a document image SI which is represented by document image data will be described. <figref idrefs="f0006">FIG. 6(A)</figref> shows a first type of document image SIA which is represented by a first type of document image data generated by reading a first type of memo sheet MSA, and <figref idrefs="f0007">FIG. 7(A)</figref> shows a second type of document image SIB which is represented by a second type of document image data generated by reading a second type of memo sheet MSB. Incidentally, in a case of distinguishing document images SI of specific types, alphabets (for example, 'A' or 'B') are further added to the ends of their reference symbols. A document image SI includes plural area images 20 corresponding to plural unit images 10 which is included in one template image TI printed on one memo sheet MS. Therefore, the number of area images 20 which are included in one document image SI is the same as the number of unit images 10 which are included in one template image TI, and is the Z power of 2 (here, Z is a natural number), specifically, any one of 2, 4, 8, 16, 32, ···. Also, the sizes of multiple area images 20 which are included in one document image SI are almost the same, and are almost the same as the sizes of corresponding unit images 10. Specifically, the first type of document image SIA shown in <figref idrefs="f0006">FIG. 6</figref> includes two area images 20A and 20B, and the second type of document image SIB shown in <figref idrefs="f0007">FIG. 7</figref> includes four area images 20C to 20F. Incidentally, in a case of distinguishing specific area images 20, alphabets (for example, 'A' or 'B') are further added to the ends of their reference symbols. The area image 20 may include corresponding unit image 10 (see <figref idrefs="f0003">FIGS. 3A to 3C</figref>) and include write information 19 (also referred to as write image) written on the memo sheet MS by the user. The write information 19 can be included in the ruled line area MA of each unit image 10 (see <figref idrefs="f0003">FIG. 3A</figref>), and can also be included in the peripheral areas of each unit image 10 (the header area HA and the footer area FA (see <figref idrefs="f0003">FIG. 3A</figref>)). Specifically, the write information 19 written by the user includes characters written in the ruled line area MA, main information such as figures (contents to be stored), and various sub-information (such as checking of the unnecessity check box 14, filling of the mark areas 16, and writing in the title area 13) (<figref idrefs="f0006">FIG. 6(A)</figref>). Hereinafter, a case where three document image data each of which represents a document image SI including four area images 20 are processed will be described as an example. In this<!-- EPO <DP n="11"> --> case, twelve area images 20 are processed.</p><p id="p0045" num="0045">If the document image acquiring unit 110 receives one or more document image data from the multi-function apparatus 300 in Step S300, in Step S310, the document image processing unit 100 selects one document image data to be processed. In a case where there are plural document image data to be processed, the document image data are selected one by one in the order of generation of the document image data. For example, in a case where the document image data are arranged in the order of generation in a transmission file, the document image data are selected one by one in the order of arrangement in the transmission file.</p><p id="p0046" num="0046">In Step S320, the generation order specifying unit 140 determines a number for the selected document image data (a document image number SN). Here, document image numbers SN are numbers to specify the document image data, and are attached in the order of generation. In the present illustrative embodiment, since the document image data are selected in the order of generation in Step S320, the document image numbers SN are attached in the order of selection in Step S320. In other words, the document image numbers SN make it possible to specify the order of generation of the document image data.</p><p id="p0047" num="0047">In Step S330, the area image generating unit 160 detects markers included in the document image SI, and specifies the layout of the document image SI. Specifically, the image information acquiring unit 120 analyzes the document image data to detect the top marker 11 and bottom marker 17 (see <figref idrefs="f0003">FIGS. 3A to 3C</figref>) of each unit image 10 included in the document image SI. As the analyzing method to detect the markers, known pattern matching can be used. The area image generating unit 160 specifies the number and positions of area images 20 (which are the same as the number and positions of unit images 10) included in the document image SI, on the basis of positions where the markers 11 and 17 are detected.</p><p id="p0048" num="0048">In Step S340, the page number acquiring unit 130 acquires a page number (a document image page number SPN) corresponding to each area image 20 which is inside the document image SI and is represented by a document image data to be processed. Specifically, the page number acquiring unit 130 analyzes the document image data to acquire the page number included in the page information area 12 (see <figref idrefs="f0003">FIG. 3A</figref>) corresponding to each area image 20. The page number of each area image<!-- EPO <DP n="12"> --> 20 may be included in the information embedded in the QR code 18 (see <figref idrefs="f0003">FIG. 3A</figref>) such that correspondence to the corresponding area image 20 can be specified. In this case, the page number acquiring unit 130 may read the QR code 18 to acquire a page number corresponding to each area image 20.</p><p id="p0049" num="0049">In Step S350, the document image processing unit 100 determines whether each area image 20 is a subject of skip. Specifically, the image information acquiring unit 120 analyzes the document image data to detect whether there is write information (specifically, a check mark) written in an unnecessity check box 14 (see <figref idrefs="f0003">FIG. 3A</figref>) included in each area image 20. The unnecessity condition determining unit 150 determines that an area image 20 corresponding to a unnecessity check box 14 having write information written therein is a subject of skip, and determines that an area image 20 corresponding to an unnecessity check box 14 having no write information written therein is not a subject of skip. An area image 20 determined as a subject of skip is excluded from objects to be stored in a PDF file to be generated later as will be described below.</p><p id="p0050" num="0050">In Step S360, the image information acquiring unit 120 acquires a keyword associated with each area image 20 (an associated keyword KW). Specifically, the image information acquiring unit 120 analyzes the document image data to detect whether there are write information (specifically, filling) written in plural mark areas 16 (see <figref idrefs="f0003">FIG. 3A</figref>) included in each area image 20. The image information acquiring unit 120 acquires keywords 15 (see <figref idrefs="f0003">FIG. 3A</figref>) corresponding to the mark areas 16 having write information written therein, as the associated keywords KW associated with corresponding area images 20. The contents of the keywords 15 corresponding to the mark areas 16 are specified on the basis of the predetermined correspondence between the positions of the mark areas 16 and the contents of the keywords 15. In a case where the correspondence between the mark areas 16 and the keywords 15 is not recognized by the image process server 200, the image information acquiring unit 120 may perform a known character recognition process (an OCR process) on areas represented by the keywords 15 of image data which are objects to acquire the contents of the keywords 15.</p><p id="p0051" num="0051">In Step S370, the document image processing unit 100 determines whether all document image data received from the multi-function apparatus 300 have been<!-- EPO <DP n="13"> --> selected. In a case where there is any unselected document image data (NO in Step S370), the document image processing unit 100 returns to Step S310 to select a new document image data, and repeats the processes of Steps S320 to S360. Meanwhile, in a case where all document image data have been selected (YES in Step S370), the document image processing unit 100 proceeds to Step S380.</p><p id="p0052" num="0052">Also, various information acquired or specified until Step S370 are recorded in the management table MT temporarily generated in the volatile storage device 230. <figref idrefs="f0008">FIG. 8</figref> is a view illustrating an example of the management table MT. In the management table MT, for each of the twelve area images 20 processed, the document image number SN, the document image page number SPN, skip information SK, a PDF file number PN, a PDF page number PPN, and the associated keyword KW are recorded. As described above, the document image number SN is specified in Step S320, and the document image page number SPN is acquired in Step S340. The skip information SK is information representing the result of the determination on whether each area image 20 is a subject of skip performed in Step S350. In the management table MT of <figref idrefs="f0008">FIG. 8</figref>, with respect to an area image 20 which is a subject of skip, as the skip information SK, information representing that the corresponding area image is a subject of skip is recorded, and with respect to an area image 20 which is not a subject of skip, any information is not recorded. As described above, the associated keyword KW is acquired in Step S360. The PDF file number PN and the PDF page number PPN have not been recorded until the process of Step S370 is terminated.</p><p id="p0053" num="0053">In Step S380, the file generating unit 170 determines a specification of a PDF file to be generated. Specifically, the file generating unit 170 determines a PDF file number PN and a PDF page number PPN for each area image 20 specified by the combination of a document image number SN and a document image page number SPN, on the basis of the information having been recorded in the management table MT (<figref idrefs="f0008">FIG. 8</figref>). Hereinafter, a description (SN-SPN) may be used to represent an area image 20 specified by the combination of a document image number SN and a document image page number SPN of the area image 20. For example, an area image 20 specified by the combination of a document image number SN of 1 and a document image page number SPN of 2 may be represented by an area image 20 of (1-2).</p><p id="p0054" num="0054">Specifically, PDF file numbers PN and the PDF page numbers PPN are<!-- EPO <DP n="14"> --> determined using the order of arrangement of the twelve area images 20 in the management table MT, and the associated keyword KW of the twelve area images 20. As can be seen from <figref idrefs="f0008">FIG. 8</figref>, each of the twelve area images 20 is earlier in the order of arrangement as the corresponding area image 20 is earlier in the order of generation represented by the document image numbers SN, and in four area images 20 of the same document image SI, each area image 20 is earlier in the order of arrangement as the document image page number SPN of the corresponding area image 20 is smaller. First, an area image 20 determined as a subject of skip is excluded from the process, and with respect to the corresponding area image 20, any PDF file number PN and any PDF page number PPN are not attached. For two or more area images 20 (an area image group) which are consecutive in the order of arrangement of them, and have the same associated keyword KW, the same PDF file number PN is attached. Also, for two or more area images 20 having different associated keywords KW, different PDF file numbers PN are attached. In a case where there are two area images 20 having the same associated keyword KW, and an area image 20 having a different associated keyword KW is included in area images 20 positioned between the two area images 20 in the order of arrangement, different PDF file numbers PN are attached to the two area images 20. In the example shown in <figref idrefs="f0008">FIG. 8</figref>, five area images 20 of (1-1) to (2-1) are consecutive in the order of arrangement, and their associated keywords KW are the same as 'MINUTES'. Therefore, the PDF file numbers PN of the five area images 20 are determined to 1. Two area images 20 of (2-2) and (2-3) are consecutive in the order of arrangement, and their associated keywords KW are the same as 'MEMO'. Therefore, the PDF file numbers PN of the two area images 20 are determined to 2. Four area images 20 from (2-4) to (3-3) are consecutive in the order of arrangement, and their associated keywords KW are the same as 'IDEA'. Therefore, the PDF file numbers PN of the four area images 20 are determined to 3.</p><p id="p0055" num="0055">Also, the file generating unit 170 attaches PDF page numbers PPN beginning with 1 to one or more area images 20 having the same PDF file number PN, in the order of arrangement. Specifically, as shown in <figref idrefs="f0008">FIG. 8</figref>, to five area images 20 having PDF file numbers PN of 1, PDF page numbers PPN of 1 to 5 are attached in the order of arrangement. To two area images 20 having PDF file numbers PN of 2, PDF page numbers PPN of 1 and 2 are attached in the order of arrangement. To four area<!-- EPO <DP n="15"> --> images 20 having PDF file numbers PN of 3, PDF page numbers PPN of 1 to 4 are attached in the order of arrangement.</p><p id="p0056" num="0056">In Step S390, the area image generating unit 160 performs an area image data generating process on the three document image data to generate area image data representing the twelve area images 20 included in the three document images SI. However, an area image data representing an area image 20 of (3-4) determined as a subject of skip may not be generated.</p><p id="p0057" num="0057"><figref idrefs="f0009">FIG. 9</figref> is a flow chart illustrating the area image data generating process. In Step S391, the area image generating unit 160 selects one document image data to be processed. In Step S392, the area image generating unit 160 performs a tilt correcting process on the selected document image data to correct the tilt of a document image SI represented by the document image data. The tilt correcting process includes a process of computing a tilt angle based on the coordinates of the markers 11 and 17 included in the document image SI, and a rotating process of rotating the document image SI by the computed tilt angle. A specific computing method may be performed using a known technique.</p><p id="p0058" num="0058">In Step S393, the area image generating unit 160 uses the document image data subjected to the tilt correcting process to specify a division position in the document image SI. For example, the division position may be specified on the basis of the coordinates of the markers 11 and 17 included in the document image SI. In a case where the document image SI is a first type of document image SIA including two area images 20 as shown in <figref idrefs="f0006">FIG. 6(B)</figref>, a division position is a straight line connecting two middle points dividing two long sides of the first type of document image SIA almost equally, respectively. Also, in a case where the document image SI is a second type of document image SIB including four area images 20C to 20F as shown in <figref idrefs="f0007">FIG. 7(B)</figref>, division positions are a straight line connecting two middle points dividing two long sides of the second type of document image SIB almost equally, respectively, and a straight line connecting two middle points dividing two short sides of the second type of document image SIB almost equally, respectively.</p><p id="p0059" num="0059">In Step S394, the area image generating unit 160 divides the document image SI at the specified division position, and generates area image data representing individual area images 20 included in the document image SI. In the case where the<!-- EPO <DP n="16"> --> document image SI is a first type of document image SIA including two area images 20 as shown in <figref idrefs="f0006">FIG. 6(B)</figref>, two area image data representing the two area images 20A and 20B are generated. Also, in the case where the document image SI is a second type of document image SIB including four area images 20C to 20F as shown in <figref idrefs="f0007">FIG. 7(B)</figref>, four area image data representing the four area images 20C to 20F are generated.</p><p id="p0060" num="0060">In Step S395, the area image generating unit 160 specifies an area image 20 to be rotated, according to the layout of the document image SI. Specifically, in a case where the document image SI is the first type of document image SIA shown in <figref idrefs="f0006">FIG. 6</figref>, all area images, that is, the two area images 20A and 20B are specified as area images to be rotated. In a case where the document image SI is the second type of document image SIB shown in <figref idrefs="f0007">FIG. 7</figref>, some area images, that is, two area images 20D and 20E having document image page numbers SPN of 2 and 3 are specified as area images to be rotated.</p><p id="p0061" num="0061">In Step S396, the area image generating unit 160 performs the rotating process of rotating the specified area image 20 by an amount of rotation according to the layout, on the area image data representing the specified area image 20. Specifically, in the case where the document image SI is the first type of document image SIA shown in <figref idrefs="f0006">FIG. 6</figref>, the two area images 20A and 20B are rotated 90 degrees clockwise. Also, if the reading direction of the image reading unit 380 during generating of document image data is reversed, a first type of document image SIA may be in an opposite direction to the state shown in <figref idrefs="f0006">FIG. 6(B)</figref>. In this case, the area image generating unit 160 needs only to rotate the two area images 20A and 20B 90 degrees counterclockwise. As a result, the two area image data are converted to represent the two area images 20A and 20B in a state where the area images are oriented in appropriate directions. A state where an image is oriented in an appropriate direction may be a state where the image is oriented in a direction in which a user feels that the image should be oriented upward as seeing the image. For example, in a case of a character image, a state where the image is oriented in an appropriate direction is a state where the upper sides of characters in the character image are oriented upward. For example, in a case of a unit image 10 included in an area image 20, a state where a direction shown by a broken line arrow in <figref idrefs="f0003">FIG. 3A</figref> is oriented upward is a state where the unit image is oriented in an appropriate direction.<!-- EPO <DP n="17"> --></p><p id="p0062" num="0062">Similarly, in a case where the document image SI is the second type of document image SIB shown in <figref idrefs="f0007">FIG. 7</figref>, the two area images 20D and 20E are rotated 180 degrees. As a result, the four area images 20C to 20F are oriented in the same direction, and the four area image data are converted such that the four area images 20C to 20F are oriented in appropriate directions. Also, if the reading direction of the image reading unit 380 during generating of document image data is reversed, a second type of document image SIB may be in an opposite direction to the state shown in <figref idrefs="f0007">FIG. 7(B)</figref>. In other words, in the document image SIB, the area images 20C and 20F corresponding to page numbers of 1 and 4 may be positioned on the upper side in <figref idrefs="f0007">FIG. 7</figref>, and the area images 20D and 20E corresponding to page numbers of 2 and 3 may be positioned on the lower side in <figref idrefs="f0007">FIG. 7</figref>. In this case, the area image generating unit 160 needs only to rotate the two area images 20C and 20F 180 degrees.</p><p id="p0063" num="0063">In Step S397, the area image generating unit 160 determines whether all document image data have been selected. In a case where there is any unselected document image data (NO in Step S397), the area image generating unit 160 returns to Step S391 to select a new document image data, and repeat the processes of Steps S392 to S396. Meanwhile, in a case where all document image data have been selected (YES in Step S397), the area image generating unit 160 terminates the area image data generating process.</p><p id="p0064" num="0064">If the area image data generating process terminates, in Step S400 of <figref idrefs="f0005">FIG. 5</figref>, the file generating unit 170 uses the plural generated area image data to generate a file in a portable document format (PDF) (a PDF file). The PDF file is a file having the concept of pages, and can store one or more image data in association with an arbitrary page. In the PDF file, with respect to an image represented by each image data associated with a page, it is possible to designate the layout position on the page, a layout angle, and so on. The user can use a browsing program (viewer) to browse images represented by the image data stored in the PDF file like plural pages of sheets, on a display.</p><p id="p0065" num="0065"><figref idrefs="f0010">FIG. 10</figref> is a view illustrating generation of a PDF file. Specifically, the file generating unit 170 generates three PDF files PFA, PFB, and PFC according to the PDF file number PN and the PDF page number PPN recorded for each area image 20 in the management table MT shown in <figref idrefs="f0008">FIG. 8</figref>. In the PDF file PFA, five area image data<!-- EPO <DP n="18"> --> having PDF file numbers PN of 1 are stored. Five area images 20 represented by the five area image data stored in the PDF file PFA are disposed in pages of corresponding PDF page numbers PPN. Similarly, in the PDF file PFB, two area image data having PDF file numbers PN of 2 are stored, and the two area image data are disposed in pages of corresponding PDF page numbers PPN. In the PDF file PFC, four area image data having PDF file numbers PN of 3 are stored, and the four area image data are disposed in pages of corresponding PDF page numbers PPN. Here, an area image data corresponding to one area image 20 determined as a subject of skip is not stored in the generated PDF files.</p><p id="p0066" num="0066">As a result, among the twelve area images 20 included in an image group SIG (<figref idrefs="f0010">FIG. 10</figref>) composed of the three document images SI, eleven area images 20 except for one area image 20 determined as a subject of skip are classified into and stored in the three PDF files PFA, PFB, and PFC (<figref idrefs="f0010">FIG. 10(B)</figref>).</p><p id="p0067" num="0067">In Step S410 of <figref idrefs="f0005">FIG. 5</figref>, the document image processing unit 100 transmits the three PDF files PFA, PFB, and PFC to a storage destination, and terminates the division document generating process. In the present illustrative embodiment, the storage destination is the storage server 500. The document image processing unit 100 associates user identification information (specifically, a user ID for using the storage server 500) with the three PDF files PFA, PFB, and PFC, and transmits them to the storage server 500. The CPU 510 of the storage server 500 stores the three PDF files PFA, PFB, and PFC in a storage unit (not shown) of the storage server 500. The user can use a client device such as the personal computer 400 or a portable terminal (not shown) to access to the PDF files PFA, PFB, and PFC stored in the storage server 500.</p><p id="p0068" num="0068">According to the present illustrative embodiment described above, it is possible to generate PDF files including plural area images 20 of a document image SI disposed in different pages. Therefore, it is possible to store the document image SI including the plural area images 20 in a convenient form.</p><p id="p0069" num="0069">Also, the page number acquiring unit 130 acquires plural page number information (specifically, numerals in page information areas 12 (<figref idrefs="f0003">FIGS. 3A to 3C</figref>)) corresponding to plural area image data by image analysis. Then, the file generating unit 170 generates PDF files including the area image data disposed in the acquired page number order (<figref idrefs="f0008">FIGS. 8</figref> and <figref idrefs="f0010">10</figref>). Therefore, it is possible to generate convenient<!-- EPO <DP n="19"> --> PDF files including the area image data disposed in the page number order.</p><p id="p0070" num="0070">Further, in the present illustrative embodiment, the document image processing unit 100 generates N-number of (eleven in the examples of <figref idrefs="f0008">FIGS. 8</figref> and <figref idrefs="f0010">10</figref>) area image data, and generates M-number of (three in the examples of <figref idrefs="f0008">FIGS. 8</figref> and <figref idrefs="f0010">10</figref>) PDF files each of which includes one or more area image data of the N-number of area image data. At least one file (three PDF files in the examples of <figref idrefs="f0008">FIGS. 8</figref> and <figref idrefs="f0010">10</figref>) of the M-number of PDF files includes two or more area images 20 corresponding to two or more area image data of the N-number of area image data and disposed in different pages. That is, it is possible to use document image data to generate two or more PDF files. As a result, it is possible to generate a convenient number of PDF files according to document image data. Also, it is preferable that N should be an integer equal to or greater than 3, and it is preferable that M should be an integer from 2 to (N-1). It can be seen from <figref idrefs="f0008">FIG. 8</figref> that two area images 20 corresponding to two area image data included in the PDF file PFB are area images having consecutive page numbers (document image page numbers SPN) in the document image SI.</p><p id="p0071" num="0071">The image information acquiring unit 120 analyzes the document image data to acquire plural associated keywords KW corresponding to the plural area image data. The document image processing unit 100 can use the plural associated keywords KW to generate the PDF file PFA including plural area image data corresponding to plural area images 20 having associated keywords KW of 'MINUTES', and the PDF file PFB including plural area image data corresponding to plural area images 20 having associated keywords KW of 'MEMO' (<figref idrefs="f0008">FIGS. 8</figref> and <figref idrefs="f0010">10</figref>). That is, it is possible to use specific type information such as an associated keyword KW included in each area image 20 to generate plural PDF files. Therefore, it is possible to store a document image SI in a more convenient form.</p><p id="p0072" num="0072">The document image acquiring unit 110 acquires two ore more document image data (for example, document image data having document image numbers SN of 2 (<figref idrefs="f0008">FIG. 8</figref>)) including first document image data representing first document images (for example, document image data having document image numbers SN of 1 (<figref idrefs="f0008">FIG. 8</figref>)) and second document image data representing second document images. Then, the area image generating unit 160 uses the first document image data to generate P-number of (for example, four (<figref idrefs="f0008">FIG. 8</figref>)) first area image data (for example, four area image data<!-- EPO <DP n="20"> --> which are generated by dividing document image data having document image numbers SN of 1) representing P-number of area images 20 included in the first document images, respectively. The area image generating unit 160 uses the second document image data to generate P-number of second area image data (for example, four area image data which are generated by dividing document image data having document image numbers SN of 2) representing P-number of area images 20 included in the second document images, respectively.</p><p id="p0073" num="0073">Also, the file generating unit 170 generates files (for example, the three PDF files PFA, PFB, and PFC (<figref idrefs="f0010">FIG. 10</figref>)) which include the P-number of first area image data of the first document images and the P-number of second area image data of the second document images disposed in 2×P -number of different pages. As a result, it is possible to generate files including 2×P -number of area image data included in two or more document image data. In this case, the 2×P -number of area images 20 are disposed in the PDF files in the page order determined on the basis of first page number information, second page number information, and the order of generation of the first document image data and the second document image data (the order of document image numbers SN). Therefore, it is possible to store plural document images SI in a convenient form according to the order of generation and the page numbers.</p><p id="p0074" num="0074">A document image SI including four area images 20 includes first area images disposed in opposite directions to each other (for example, the area images 20C and 20F having page numbers of 1 and 4 (<figref idrefs="f0007">FIG. 7</figref>)), and second area images (for example, the area images 20D and 20E having page numbers of 2 and 3 (<figref idrefs="f0007">FIG. 7</figref>)). According to the present illustrative embodiment, the file generating unit 170 generates PDF files such that the first area images and the second area images are oriented in the same direction. As a result, it is possible to generate files capable of conspicuously displaying document images including first area images and second area images disposed in opposite directions to each other in a document image SI.</p><p id="p0075" num="0075">Also, the unnecessity condition determining unit 150 determines whether each of plural area images satisfies a condition to become a subject of skip, on the basis of existence or non-existence of a check mark in an unnecessity check box 14 included in each area image 20. In a case where there is an area image 20 satisfying the skip condition, the file generating unit 170 generates PDF files which do not include an area<!-- EPO <DP n="21"> --> image data representing the area image 20 satisfying the skip condition. As a result, in a case of displaying the contents of the PDF files, the unnecessary image is not displayed, and thus convenience is further improved.</p><p id="p0076" num="0076">B. Modification</p><p id="p0077" num="0077">(1) In the above-mentioned illustrative embodiment, a page number is printed in the page information area 12. Alternatively, the page information area 12 may be printed as a blank, and the user may write a page number therein. In this case, the user can easily designate a page, so that convenience can be improved.</p><p id="p0078" num="0078">(2) In the above-mentioned illustrative embodiment, as the specific type information, the associated keywords KW are used to determine the number of PDF files to be generated, and area image data to be stored in each PDF file. The specific type information is not limited to the associated keywords KW, but may be a title written in the title area 13. Here, as shown in Modification (1), in a case where the user can write a page number, as the specific type information, the page number written by the user may be used. For example, in a case where four page numbers written in four page information areas 12 of four area images 20 included in a second type of memo sheet MSB are 1, 2, 1, and 2, respectively, and a pair of 1 and 2 is written in red, and the other pair of 1 and 2 is written in blue, the file generating unit 170 may generate a file corresponding to the page numbers written in red, and a file corresponding to the page numbers written in blue.</p><p id="p0079" num="0079">(3) In the above-mentioned illustrative embodiment, the file generating unit 170 does not store an area image data representing an area image 20 satisfying the skip condition, in PDF files. Alternatively, the file generating unit 170 may store an area image data representing an area image 20 satisfying the skip condition, in a PDF file, and store information (comment) representing that the area image 20 satisfying the skip condition will not be disposed (displayed) in any page, in the header of the PDF file. Even in this case, in a case of displaying the contents of the PDF file, the unnecessary image is not displayed. Also, the skip condition may be whether the page information area 12 is filled, whether an "X" mark larger than a reference is written in the ruled line area MA, or whether any information is not actually written in the ruled line area MA by the user. Generally, it is preferable that the unnecessity condition determining unit 150 determine whether each of plural area images satisfies a specific<!-- EPO <DP n="22"> --> skip condition, on the basis of write information of a specific area included in each of plural area images, and in a case where a specific area image satisfying the specific skip condition is included, the file generating unit 170 generate files such that the specific area image will not be displayed.</p><p id="p0080" num="0080">(4) In Step S396 of the above-mentioned illustrative embodiment, the area image generating unit 160 performs the rotating process of rotating a specific area image 20 by an amount of rotation (angle) according to the layout. Alternatively, the file generating unit 170 may store an area image data representing the specific area image 20, in a PDF file, without performing the rotating process, and store information representing that the specific area image 20 will be rotated by the amount of rotation according to the layout and be displayed in the rotated state, in the header of the PDF file. Even in this case, the file generating unit 170 can generate a PDF file such that all area images represented by plural area image data in the PDF file are displayed in the same direction.</p><p id="p0081" num="0081">(5) The file generating unit 170 may generate files having other file formats, in place of PDF files. Other file formats have the concept of pages, and may include file formats in which it is possible to dispose plural image data in a plural different pages, for example, a XML Paper Specification (XPS) format.</p><p id="p0082" num="0082">(6) The image reading unit for generating document image data needs only to be a device for optically reading a document. Therefore, the image reading unit is not limited to the scanner of the illustrative embodiment, but may be a digital camera.</p><p id="p0083" num="0083">(7) In the above-mentioned illustrative embodiment, the image information acquiring unit 120 analyzes document image data representing a document image SI to perform acquisition of various information, such as detection of the markers 11 and 17, and detection of existence or non-existence of write information into the mark areas 16 and the unnecessity check box 14. Alternatively, the image information acquiring unit 120 may analyze area image data generated by dividing the document image SI by the area image generating unit 160 to acquire the same various information. The image information acquiring unit 120 may analyze at least one of the document image data and the area image data to acquire the same various information.</p><p id="p0084" num="0084">(8) The function of the document image processing unit 100 of the image process server 200 in the above-mentioned illustrative embodiment may be provided in<!-- EPO <DP n="23"> --> the multi-function apparatus 300. In this case, the multi-function apparatus 300 uses the function of the document image processing unit 100 which the multi-function apparatus 300 has, to perform the above-mentioned process on the document image data which the image reading unit 380 has generated in response to an instruction of the user to generate a PDF file. Also, the personal computer 400 may have the function of the document image processing unit 100. The PDF file storage destination is not limited to the storage server 500, but may be a storage device included in the case of the personal computer 400 or the multi-function apparatus 300, a memory card such as a USB memory connected to the personal computer 400 or the multi-function apparatus 300, or the image process server 200.</p><p id="p0085" num="0085">(9) The image process server 200 is not limited to a device housed in one casing, but may be a device configured by plural computers housed in individual casings (so-called cloud server).</p><p id="p0086" num="0086">(10) A part of a configuration implemented by hardware in the above-mentioned illustrative embodiment may be replaced with software, and in contrast, a part of a configuration implemented by software in the above-mentioned illustrative embodiment may be replaced with hardware.<br/>
While the present invention has been shown and described with reference to certain illustrative embodiments thereof, it will be understood by those skilled in the art that various changes in form and details may be made therein without departing from the spirit and scope of the invention as defined by the appended claims.</p></description><claims mxw-id="PCLM56982287" lang="EN" load-source="patent-office"><!-- EPO <DP n="24"> --><claim id="c-en-0001" num="0001"><claim-text>An image processing apparatus comprising:
<claim-text>a document image acquiring unit configured to acquire document image data which is generated by optically reading a document and represents a document image;</claim-text>
<claim-text>an area image generating unit configured to use the document image data to generate plural area image data representing plural area images that are included in the document image; and</claim-text>
<claim-text>a file generating unit configured to generate a file including the plural area image data such that the plural area images are disposed in different pages.</claim-text></claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>The image processing apparatus according to claim 1, further comprising:
<claim-text>a page number acquiring unit configured to acquire plural page number information corresponding to the plural area image data by analyzing at least one of the document image data and the plural area image data,</claim-text>
<claim-text>wherein the file generating unit is configured to use the plural page number information to generate the file including the plural area images disposed in an order of page numbers.</claim-text></claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>The image processing apparatus according to claim 1 or 2,<br/>
wherein the area image generating unit is configured to use one document image data to generate N-number of area image data, where N is an integer equal to or greater than 3,<br/>
wherein the file generating unit is configured to generate M-number of files each of which includes one or more of the N-number of area image data, where M is an integer from 2 to (N-1), and<br/>
wherein at least one of the M-number of files is a file in which two or more area images corresponding to two or more area image data of the N-number of area image data are disposed in different pages.</claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>The image processing apparatus according to claim 3, further comprising:
<claim-text>a specific type acquiring unit configured to acquire plural specific type<!-- EPO <DP n="25"> --> information corresponding to the plural area image data by analyzing at least one of the document image data and the plural area image data,</claim-text>
<claim-text>wherein the file generating unit is configured to use the plural specific type information to generate the M-number of files comprising a first file including two or more area image data of a first type and a second file including one or more area image data of a second type,</claim-text>
<claim-text>wherein each of two or more first-type area images represented by the two or more area image data of the first type includes first information as the specific type information, and</claim-text>
<claim-text>wherein each of one or more second-type area images represented by the one or more area image data of the second type includes second information as the specific type information.</claim-text></claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>The image processing apparatus according to any one of claims 1 to 4,<br/>
wherein the document image acquiring unit is configured to acquire two or more document image data including first document image data representing a first document image, and second document image data representing a second document image,<br/>
wherein the area image generating unit is configured to use the first document image data to generate P-number of first area image data representing P-number of area images that are included in the first document image, and configured to use the second document image data to generate P-number of second area image data representing P-number of area images that are included in the second document image, and<br/>
wherein the file generating unit is configured to generate a file including the P-number of first area image data and the P-number of second area image data such that the P-number of area images included in the first document images and the P-number of area images included in the second document images are disposed in 2×P-number of different pages.</claim-text></claim><claim id="c-en-0006" num="0006"><claim-text>The image processing apparatus according to claim 5, further comprising:
<claim-text>a page number acquiring unit configured to acquire P-number of first page number information corresponding to the P-number of first area image data by<!-- EPO <DP n="26"> --> analyzing at least one of the first document image data and the P-number of first area image data, and configured to acquire P-number of second page number information corresponding to the P-number of second area image data by analyzing at least one of the second document image data and the P-number of second area image data; and</claim-text>
<claim-text>a generation order specifying unit configured to specify an order of generation of the first document image data and the second document image data,</claim-text>
<claim-text>wherein the file generating unit is configured to generate a file including the P-number of area images included in the first document image and the P-number of area images included in the second document image which are disposed in an order of pages determined based on the first page number information, the second page number information, and the order of generation of the first document image data and the second document image data.</claim-text></claim-text></claim><claim id="c-en-0007" num="0007"><claim-text>The image processing apparatus according to any one of claims 1 to 6,<br/>
wherein the document image includes a first area image and a second area image oriented in different directions, and<br/>
wherein the file generating unit is configured to generate the file such that the first area image and the second area image are displayed in a same direction.</claim-text></claim><claim id="c-en-0008" num="0008"><claim-text>The image processing apparatus according to any one of claims 1 to 7,<br/>
wherein the document image includes write information written in the document,<br/>
wherein the image processing apparatus further comprises:
<claim-text>a condition determining unit configured to determine whether each of the plural area images satisfies a specific condition based on the write information in a specific area that is included in a corresponding area image, and</claim-text>
<claim-text>wherein if the plural area images includes a specific area image satisfying the specific condition, the file generating unit is configured to generate the file such that the specific area image is not displayed.</claim-text></claim-text></claim><claim id="c-en-0009" num="0009"><claim-text>A computer program configured to cause a computer to function as:
<claim-text>a document image acquiring unit configured to acquire document image data<!-- EPO <DP n="27"> --> which is generated by optically reading a document and represents a document image;</claim-text>
<claim-text>an area image generating unit configured to use the document image data to generate plural area image data representing plural area images that are included in the document image; and</claim-text>
<claim-text>a file generating unit configured to generate a file including the plural area image data such that the plural area images are disposed in different pages.</claim-text></claim-text></claim></claims><drawings mxw-id="PDW16670672" load-source="patent-office"><!-- EPO <DP n="28"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="153" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="29"> --><figure id="f0002" num="2"><img id="if0002" file="imgf0002.tif" wi="165" he="164" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="30"> --><figure id="f0003" num="3A,3B,3C"><img id="if0003" file="imgf0003.tif" wi="161" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="31"> --><figure id="f0004" num="4A,4B"><img id="if0004" file="imgf0004.tif" wi="165" he="120" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="32"> --><figure id="f0005" num="5"><img id="if0005" file="imgf0005.tif" wi="163" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="33"> --><figure id="f0006" num="6(A),6(B),6(C)"><img id="if0006" file="imgf0006.tif" wi="165" he="194" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="34"> --><figure id="f0007" num="7(A),7(B),7(C)"><img id="if0007" file="imgf0007.tif" wi="165" he="204" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="35"> --><figure id="f0008" num="8"><img id="if0008" file="imgf0008.tif" wi="165" he="162" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="36"> --><figure id="f0009" num="9"><img id="if0009" file="imgf0009.tif" wi="164" he="168" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="37"> --><figure id="f0010" num="10(A),10(B)"><img id="if0010" file="imgf0010.tif" wi="165" he="227" img-content="drawing" img-format="tif"/></figure></drawings><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
