<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-1195345-B1" country="EP" doc-number="1195345" kind="B1" date="20140101" family-id="11735915" file-reference-id="318216" date-produced="20180822" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146554342" ucid="EP-1195345-B1"><document-id><country>EP</country><doc-number>1195345</doc-number><kind>B1</kind><date>20140101</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-00915496-A" is-representative="YES"><document-id mxw-id="PAPP154828265" load-source="docdb" format="epo"><country>EP</country><doc-number>00915496</doc-number><kind>A</kind><date>20000412</date><lang>JA</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140452600" ucid="JP-0002387-W" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>0002387</doc-number><kind>W</kind><date>20000412</date></document-id></priority-claim></priority-claims><dates-of-public-availability><intention-to-grant-date><date>20130716</date></intention-to-grant-date><search-report-dispatch-date><date>20091111</date></search-report-dispatch-date></dates-of-public-availability><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1988110728" load-source="ipcr">B66B   3/00        20060101ALI20130306BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1988121535" load-source="ipcr">H04L  29/14        20060101ALI20130306BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1988126178" load-source="ipcr">H04L  12/28        20060101AFI20130306BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1988131862" load-source="ipcr">B66B   1/34        20060101ALI20130306BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1988133410" load-source="ipcr">H04L  12/403       20060101ALI20130306BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL1988111051" load-source="docdb" scheme="CPC">H04L  12/403       20130101 FI20130712BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988116656" load-source="docdb" scheme="CPC">B66B   1/3423      20130101 LI20130412BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988123532" load-source="docdb" scheme="CPC">H04L2012/4026      20130101 LA20130712BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988128225" load-source="docdb" scheme="CPC">B66B   1/3438      20130101 LI20130306BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132195510" lang="DE" load-source="patent-office">KOMMUNIKATION - STEUERUNGSEINHEIT FÜR EIN AUFZUGSSYSTEM</invention-title><invention-title mxw-id="PT132195511" lang="EN" load-source="patent-office">COMMUNICATION CONTROL UNIT FOR ELEVATOR SYSTEM</invention-title><invention-title mxw-id="PT132195512" lang="FR" load-source="patent-office">CONTRÔLEUR DE COMMUNICATION POUR UN SYSTÈME D'ASCENSEUR</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR918165244" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>MITSUBISHI ELECTRIC CORP</last-name><address><country>JP</country></address></addressbook></applicant><applicant mxw-id="PPAR918171319" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>MITSUBISHI DENKI KABUSHIKI KAISHA</last-name></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR918166462" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>KOURA KUNIKAZU</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918145664" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>KOURA, KUNIKAZU</last-name></addressbook></inventor><inventor mxw-id="PPAR918999506" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>KOURA, Kunikazu Mitsubishi Denki Kabushiki Kaisha</last-name><address><street>2-3, Marunouchi 2-chome Chiyoda-ku</street><city>Tokyo 100-8310</city><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918160672" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>TAKEUCHI NOBUKAZU</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918160334" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>TAKEUCHI, NOBUKAZU</last-name></addressbook></inventor><inventor mxw-id="PPAR918999507" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>TAKEUCHI, Nobukazu Mitsubishi Denki K. K.</last-name><address><street>2-3, Marunouchi 2-chome Chiyoda-ku</street><city>Tokyo 100-8310</city><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918141322" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>TATSUMI SHOUGO</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918170343" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>TATSUMI, SHOUGO</last-name></addressbook></inventor><inventor mxw-id="PPAR918999508" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>TATSUMI, Shougo Mitsubishi Denki Kabushiki Kaisha</last-name><address><street>2-3, Marunouchi 2-chome Chiyoda-ku</street><city>Tokyo 100-8310</city><country>JP</country></address></addressbook></inventor></inventors><assignees><assignee mxw-id="PPAR918999510" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>MITSUBISHI DENKI KABUSHIKI KAISHA</last-name><iid>100767444</iid><address><street>7-3, Marunouchi 2-chome</street><city>Chiyoda-ku Tokyo 100-8310</city><country>JP</country></address></addressbook></assignee></assignees><agents><agent mxw-id="PPAR918999509" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>HOFFMANN EITLE</last-name><iid>100061036</iid><address><street>Patent- und Rechtsanwälte Arabellastrasse 4</street><city>81925 München</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="JP-0002387-W"><document-id><country>JP</country><doc-number>0002387</doc-number><kind>W</kind><date>20000412</date><lang>JA</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2001079102-A1"><document-id><country>WO</country><doc-number>2001079102</doc-number><kind>A1</kind><date>20011025</date><lang>JA</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS548993199" load-source="docdb">DE</country><country mxw-id="DS548832876" load-source="docdb">FI</country><country mxw-id="DS548993200" load-source="docdb">NL</country></ep-contracting-states></designated-states></international-convention-data></bibliographic-data><description mxw-id="PDES63957748" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001"><u>TECHNICAL FIELD</u></heading><p id="p0001" num="0001">The present invention relates to a communications control system for elevators such as a communications control system for a group management of elevators, which are organically joined a plurality of elevators via a network (a common transmission line).</p><heading id="h0002"><u>BACKGROUND ART</u></heading><p id="p0002" num="0002">Description will be made of a conventional communications control system for elevators with reference to the drawings. <figref idrefs="f0012">Fig. 12</figref> shows a structure of a conventional communications control system for elevators disclosed in Japanese Patent Application Laid-open No. <patcit id="pcit0001" dnum="JP6319312A"><text>6-319312</text></patcit>.</p><p id="p0003" num="0003">Further <patcit id="pcit0002" dnum="GB2195791A"><text>GB-A-2195791</text></patcit> also shows a communication control system.</p><p id="p0004" num="0004">In the conventional elevator communications control system, as shown in <figref idrefs="f0012">Fig. 12</figref>, three control units 91, 92 and 93 for controlling three elevators are provided as an example.</p><p id="p0005" num="0005">The respective control units 91, 92 and 93 have car control units CCa, CCb and CCc, respectively, for controlling its own elevator. In addition, the respective control units 91, 92 and 93 are integrally provided with group control units GCa, GCb and GCc for group management control processing being made into compact<!-- EPO <DP n="2"> --> for distributed processing, and hall control units HCa, HCb and HCc for hall call control processing, respectively.</p><p id="p0006" num="0006">The respective control units 91, 92 and 93 additionally have an LSI (large-scale integrated circuit) Sa, Sb and Sc for transmitting, and information output from those is transmitted via a bus-form high speed transmission line 94.</p><p id="p0007" num="0007">On the hall side, corresponding to this example in which the system is configured into two series, a hall controller 95 consisting of a one-chip microcomputer (one-chip micon) is provided for each series of each hall. Each hall controller 95 is expressed by both a number (1 or 2) following the symbol S for indicating the series type and a number (1-m) for indicating the hall type, which are connected in series. For example, the hall controller 95 on series 1 side at floor m is specified as Slm.</p><p id="p0008" num="0008">These hall controllers 95 perform, for example, input processing of a hall call registration signal from a hall call registration button 96 and output processing of a lighting signal to a hall call registration lamp 97. Further, these hall controllers 95 are connected in a parallel fashion to each master node CPU Ma, Mb and Mc of the respective control units 91, 92 and 93 via transmission lines 98, 99 in the respective series.</p><p id="p0009" num="0009">In recent years, uses of buildings have been varied and an improvement in system functions, performance and expandability of elevator communications control systems applied therein is<!-- EPO <DP n="3"> --> necessary.</p><p id="p0010" num="0010">In a conventional elevator communications control system described above a centralized processing method is used such that control units 91, 92 and 93 each have car control units CCa, CCb and CCc, respectively, for controlling their own respective elevators, and the elevator communications control system is integrally equipped with the group control units GCa, GCb and GCc for group management control processing, which are made compact for distributed processing, and the hall control units HCa, HCb and HCc for hall call control processing. In this conventional case, however, there was a problem in that the control units were complicated, and the processing power or availability of the system as a whole was diminished.</p><p id="p0011" num="0011">The present invention has been made in order to solve the above-mentioned problems, and therefore has an object of the present invention to provide a communications control system for elevators capable of optimally distributing functions of the system as a whole and assigning them to subsystems, and further capable of achieving improvement of total processing ability.</p><heading id="h0003"><u>DISCLOSURE OF THE INVENTION</u></heading><p id="p0012" num="0012">A communications control system for elevators according to Claim 1 of the present invention is a communications control system for elevators, which is adapted so that a plurality of control units<!-- EPO <DP n="4"> --> are inter-connected via a network, and that each control unit inputs its own logical destination from an external location in advance, wherein the elevator communications control system is equipped with: a first control unit for detecting an initialized state of the network and operating as a network master node governing synchronization controls among the plurality of control units when the first control unit is the first to send, to the network, a network master node candidate request command having the logical destination of the first control unit attached thereto; and a second control unit for operating as a sub-node obeying the network, master node when the initialized state of the network is not detected.</p><p id="p0013" num="0013">A communications control system for elevators according to Claim 2 of the present invention is such that when the first control unit detects a network master node candidate request command from another control unit, when the logical destination of the first control unit and the logical destination attached to the network master node candidate request command of the other control unit conform to specified conditions, the first control unit acts as the network master node; and when the logical destination of the first control unit and the logical destination attached to the network master node candidate request command of the other control unit do not conform to the specified conditions, the first control unit operates as a sub-node.</p><p id="p0014" num="0014">The elevator communications control system according to Claim<!-- EPO <DP n="5"> --> 3 of the present invention is such that when the control unit operating as the sub-node detects that the network master node is failing, when the control unit is the first to send to the network, a network master node candidate request command having its logical destination attached thereto, the control unit operates as a network master node governing the synchronization controls among the plurality of control units.</p><p id="p0015" num="0015">A communications control system for elevators according to Claim 4 of the present invention is such that the control unit operating as the sub-node detects the network master node candidate request command from the other control unit operating as a sub-node, and operates as the network master node when its own logical destination and the logical destination attached to the network master node candidate request command from the other control unit conform to specified conditions.</p><p id="p0016" num="0016">A communications control system for elevators according to Claim 5 of the present invention is a communications control system for elevators which is adapted so that the plurality of control units are inter-connected via the network; and each control unit inputs its own primary logical destination from an external location in advance, and each has a first correspondence table establishing correspondence among: the primary logical destination used for identifying the control unit, an elevator control function and a secondary logical destination for identifying information used by<!-- EPO <DP n="6"> --> the control unit; and a second correspondence table establishing correspondence between the secondary logical destination and the information used by the control unit, wherein the elevator communications control system is equipped with a plurality of control units for referencing the first correspondence table and acting as an elevator control function corresponding to their own primary logical destination.</p><p id="p0017" num="0017">A communications control system for elevators according to Claim 6 of the present invention is equipped with a first control unit which references the first correspondence table and corresponds to its own first primary logical destination therein, and which acts as an each elevator control unit for controlling ascending and descending of an elevator car; a second control unit which references the first correspondence table and corresponds to its own second primary logical destination therein, and which acts as an elevator hall registration control unit for controlling input processing of elevator hall call registration information from an elevator hall button registration device installed at an elevator hall on each floor, and output processing of elevator hall registration lamp information corresponding to the elevator hall call; and a third control unit which references the first correspondence table and corresponds to its own third primary logical destination therein, and which operates as a group management control unit for performing allocation controls for<!-- EPO <DP n="7"> --> allocating an elevator in response to an elevator hall call registered based on the elevator hall call registration information.</p><p id="p0018" num="0018">A communications control system for elevators according to Claim 7 of the present invention is such that each control unit refers to the second correspondence table; extracts the secondary logical destination corresponding to the information inputted from the external location; adds the secondary logical destination to the sending data and sends it to the network; and also extracts the secondary logical destination from data received from the network, and when the extracted secondary logical destination exists at a location in the first correspondence table corresponding to a primary logical destination the control unit takes in the received data.</p><p id="p0019" num="0019">A communications control system for elevators according to Claim 8 of the present invention is such that, in Claim 7, one of the plurality of control units detects an initialized state of the network, and operates as the network master node governing the synchronization controls among the plurality of control units when the control unit is the first to send out, to the network, a network master node candidate request command having the primary logical destination of the control unit attached thereto; and the rest of the plurality of control units operate as sub-nodes obeying the network master node when the initialized state of the network is<!-- EPO <DP n="8"> --> not detected.</p><p id="p0020" num="0020">A communications control system for elevators according to Claim 9 of the present invention is such that, in Claim 8, when one of the plurality of control units detects a network master node candidate request command from another control unit, when its own primary logical destination and the primary logical destination attached to the network master node candidate request command from the other control unit conform to specified conditions, the control unit acts as the network master node; and when they do not conform to the specified conditions the control unit acts as a sub-node.</p><p id="p0021" num="0021">A communications control system for elevators according to Claim 10 of the present invention is such that, in Claim 9, when the control unit operating as a sub-node detects that the network master node is failing, the control unit operates as the network master node governing the synchronization controls among the plurality of control units when the control unit is the first to send out, to the network, a network master node candidate request command having the primary logical destination of the control unit attached thereto.<!-- EPO <DP n="9"> --></p><heading id="h0004"><u>BRIEF DESCRIPTION OF THE DRAWINGS</u></heading><p id="p0022" num="0022">In the accompanying drawings:
<ul><li><figref idrefs="f0001">Fig. 1</figref> is a block diagram showing a structure of a communications control system for elevators according to Embodiment 1 of the present invention;</li><li><figref idrefs="f0002">Fig. 2</figref> is a diagram showing a construction of a communications device of a communications control system for elevators according to Embodiment 1 of the present invention;</li><li><figref idrefs="f0003">Fig. 3</figref> is a diagram showing a function code correspondence table;</li><li><figref idrefs="f0004">Fig. 4</figref> is a diagram showing a data type code table;</li><li><figref idrefs="f0005">Fig. 5</figref> is a flow chart showing a method of determining a network master in the elevator communications control system according to Embodiment 1 of the present invention;</li><li><figref idrefs="f0006">Fig. 6</figref> is a flow chart showing a method of determining a subsequent network master when the network master is failing, in the elevator communications control system according to Embodiment 1 of the present invention;</li><li><figref idrefs="f0007">Fig. 7</figref> is a diagram showing a synchronization control<!-- EPO <DP n="10"> --> operation of the elevator communications control system according to Embodiment 1 of the present invention;</li><li><figref idrefs="f0008">Fig. 8</figref> is a diagram showing a data format of the elevator communications control system according to Embodiment 1 of the present invention;</li><li><figref idrefs="f0009">Fig. 9</figref> is a flow chart showing a main operation of a control unit of the elevator communications control system according to Embodiment 1 of the present invention;</li><li><figref idrefs="f0010">Fig. 10</figref> is a flow chart showing a sending operation of the control unit of the elevator communications control system according to Embodiment 1 of the present invention;</li><li><figref idrefs="f0011">Fig. 11</figref> is flow chart showing a receiving operation of the control device of the elevator communications control system according to Embodiment 1 of the present invention; and</li><li><figref idrefs="f0012">Fig. 12</figref> is a diagram showing a structure of a conventional communications control system for elevators.</li></ul></p><heading id="h0005"><u>BEST MODE FOR CARRYING OUT THE INVENTION</u></heading><heading id="h0006">Embodiment 1</heading><p id="p0023" num="0023">Description will be made of a communications control system for elevators according to Embodiment 1 of the present invention, making reference to the drawings. <figref idrefs="f0001">Fig. 1</figref> is a diagram showing a structure of the elevator communications control system according to Embodiment 1 of the present invention. Note, as will be described<!-- EPO <DP n="11"> --> below, <figref idrefs="f0001">Fig. 1</figref> shows the structure in a state that for each control unit the network master node and the sub-nodes are determined and each control function, such as a group management control function, are determined. Further, in each of the drawings the same reference numerals refer to the same or equivalent portions.</p><p id="p0024" num="0024">In <figref idrefs="f0001">Fig. 1</figref>, the communications control system for elevators is equipped with a group management control unit 1; respective car control unit 2; respective car control unit 3; respective car control unit 4; elevator hall registration control unit 5; elevator hall registration control unit 6; elevator hall registration control unit 7; and an expansion control unit 8, which are connected via a transmission channel 31.</p><p id="p0025" num="0025">Further, in the same figure, the group management control unit 1 has a communications device 10 and a group management control device 20A. The group management control unit 1 performs an allocation control of elevator car (not shown) in response to a registered elevator hall call based on an elevator hall call registration signal.</p><p id="p0026" num="0026">Further, in the same figure, the respective car control unit 2 has the communications device 10 and a respective car control device 20B. The respective car control unit 2 controls ascending and descending of the elevator car based on a car allocation signal originating from the group management control unit 1 for allocating cars in response to the elevator car call registration signal, and<!-- EPO <DP n="12"> --> a car call signal originating from the car.</p><p id="p0027" num="0027">Similarly, the respective car control unit 3 has the communications device 10 and a respective car control unit 20C, and the respective car control unit 4 has the communications device 10 and a respective car control unit 20D. These respective car control units 3 and 4 have the same function as the function of the respective car control unit 2. Note that, the respective car control units 2, 3 and 4 and the car apparatus are joined by means of a transmission line, though this is not shown in the figure of this example.</p><p id="p0028" num="0028">Further, in the same figure, the elevator car registration control unit 5 has the communications device 10 and an elevator hall registration control device 20E. The elevator hall registration control unit 5 controls, via the transmission line 32, input processing of the elevator hall call registration signal from an elevator hall button registration device 41 installed on each floor, and output processing of an elevator hall registration light signal from the group management control unit 1 responding to the elevator hall call. Note that, in this example the elevator hall registration control unit 5 handles the elevator hall call registration information and the elevator hall registration light information of the three elevators of series A controlled by the respective car control units 2-4.</p><p id="p0029" num="0029">Similarly, the elevator hall registration control unit 6 has<!-- EPO <DP n="13"> --> the communications device 10 and an elevator hall registration control device 20F. The elevator hall registration control unit 6 has the same functions as the functions of the elevator hall registration control unit 5. Note that, in this example the elevator hall registration control unit 6 handles the elevator hall call registration information and the elevator hall registration light information of the three elevators of series B controlled by the respective car control units 2-4.</p><p id="p0030" num="0030">Further, in the same figure, an elevator hall display control unit 7 has the communications device 10 and an elevator hall display control device 20G. The elevator hall display control unit 7 controls, via a transmission line 34, input processing of a destination floor registration signal originating from a destination floor registration device 43 installed at the elevator hall, and output processing of the car allocation signal and a destination floor registration light signal in response to the destination floor registration signal originating from the group management control unit 1. Note that, in this example the elevator hall display control unit 7 handles the destination floor registration information and the destination floor registration light information and the like, of the three elevators controlled by the respective car control units 2-4.</p><p id="p0031" num="0031">An elevator hall display device 42 installed on each floor performs display control of a display and the like of serial numbers<!-- EPO <DP n="14"> --> of cars actually allocated, based on the car allocation signal originating from the elevator hall display control unit 7.</p><p id="p0032" num="0032">The destination floor registration device 43 installed on each floor performs input processing of an ON/OFF contact point signal originating from the destination registration button, and control of actual turning on and turning off of the light based on the destination registration light signal originating from the elevator hall display control unit 7.</p><p id="p0033" num="0033">Further, in <figref idrefs="f0001">Fig. 1</figref> the expansion control unit 8 has the communications device 10 and an expansion control device 20H. The expansion control unit 8 is mutually joined with another network via a transmission line 35, and performs a bridge function for joining with another communications control system for group management of elevators. Further, the expansion control unit 8 is connected via the transmission line 35 to a personal computer installed in a management room, and the personal computer monitors a plurality of elevator group management communications control systems established throughout the building.</p><p id="p0034" num="0034">Next, description will be made of a detailed structure of a communications device of each control unit, making reference to the drawings. <figref idrefs="f0002">Fig. 2</figref> is a diagram showing the structure of the communications device of each control unit in the elevator communications control system according to Embodiment 1 of the present invention.<!-- EPO <DP n="15"> --></p><p id="p0035" num="0035">As shown in <figref idrefs="f0002">Fig. 2</figref>, the communications device 10 has a transmission control CPU 11 for controlling the communications device as a whole; a transmission LSI 12, being connected to a transmission line 31 joining each control unit, adapted to automatically conduct sending, receiving and transmission irregularity checking of transmission data under the control of the CPU 11; a shared memory 13 constructed of, for example, a two-port RAM accessible from both the CPU 11 and a control device 20 explained below; a readable non-volatile memory (ROM) 14 for storing programs and charts; a readable/writeable volatile memory (RAM) 15 for temporarily storing data; an output port 16; and input port 17; and a multi-bus for tightly coupling the above-mentioned components 11-17 and the control device 20.</p><p id="p0036" num="0036">Further, the shared memory 13 includes an FIFO format output queue for the CPU 11 to write data, and an FIFO format input queue for the CPU 11 to read data.</p><p id="p0037" num="0037">Further, the control device 20 in <figref idrefs="f0002">Fig. 2</figref> corresponds to each control device 20A-20H shown in <figref idrefs="f0001">Fig. 1</figref>.</p><p id="p0038" num="0038">The communication device 10 performs sending and receiving processing of transmission data over the transmission line 31 via the transmission LSI 12 and the multi-bus 18, which are connected to the transmission line 31. Further, the communication device 10 performs exchange of data with the control device 20 through the shared memory 13 tightly coupled via the multi-bas 18. Furthermore,<!-- EPO <DP n="16"> --> the primary logical destination for distinguishing between the control units, and setting information of, for example, function code are inputted from the input port 17 from an external setting device (such as a jumper line or a rotary switch: not shown in the diagram). Output control to an external display device (for example, an LED : not shown in the diagram) is performed from the output port 16.</p><p id="p0039" num="0039"><figref idrefs="f0003">Fig. 3</figref> is a diagram showing a "function code correspondence table" of the control units. The table is for establishing correspondence among a "control unit function code", a "control function" and a "data type code" used by the control unit. The "control unit function code" is equivalent to the primary logical destination, and the "data type code" is equivalent to the secondary logical destination. The table is stored in advance in the ROM 14 of each communications device 10. Further, the table establishes a correspondence such that the "control unit function code" is "1" and the "control function" is a "group management control unit 1"; however, this is merely one example. A correspondence such that the "control unit function code" is "1" and the "control function" is a "elevator hall display control unit 7" is also possible, for example.</p><p id="p0040" num="0040">The function code for determining the control function of each control unit may be set via the input port 17, as explained above. For example, when the function code of a given control unit is set<!-- EPO <DP n="17"> --> at "10" the control unit operates as an elevator hall registration control unit 5. The above description was made with the function code being inputted via the input port 17; however, it is also possible to input the function code first into the control device 20, and then take the function code into the RAM 15 of the communications device 10 via the shared memory 13.</p><p id="p0041" num="0041"><figref idrefs="f0004">Fig. 4</figref> is a diagram showing a "data type code table". The table is also stored in advance in the ROM 14 of the communications device 10. The table establishes correspondence between the data type code and the meaning of the data actually being used.</p><p id="p0042" num="0042">In other words, the communications device 10 of the elevator hall registration control unit 5 uses a series A (data type code "1") of elevator hall call registration information which is data sent to the transmission line 31, and series A (data type code "3") of elevator hall registration lamp information which is data received from the transmission line 31.</p><p id="p0043" num="0043">Here, series A indicates an elevator hall call registration signal and elevator hall registration lamp signal for general use (for persons who are not physically handicapped), and series B indicates those for handicapped persons.</p><p id="p0044" num="0044">Further, series a and series α noted in <figref idrefs="f0004">Fig. 4</figref> indicate destination floor registration information, for example, for a specific floor.</p><p id="p0045" num="0045">Next, description will be made of operations of the<!-- EPO <DP n="18"> --> communications control system for elevators according to Embodiment 1, making reference to the drawings.</p><p id="p0046" num="0046">First, description is made, making reference to the flowchart of <figref idrefs="f0005">Fig. 5</figref>, of the network master node for governing the synchronization controls among each control unit joined by the transmission line 31, and a method for determining a sub-node for obeying the network master node. The program represented in the flow chart is stored in the ROM 14 of the communications device 10.</p><p id="p0047" num="0047">The communications device 10 of each control unit proceeds to step 100 from its state upon having its power source turned on (i.e., at a time of booting).</p><p id="p0048" num="0048">At step 100, a judgment is made as to whether the communications device 10 is in an initialized state or not. Here, judgment is made as to whether other control units are already booted and communications controls via the transmission line 31 has become definite or not (i.e., whether the network has already been built or not). For this purpose, the communications device 10 monitors the transmission line 31 for a predetermined duration of time T1, and when no data is flowing therein judgment is made that the communications device 10 is in the initialized state, and the procedure advances to step 101. On the other hand, when the communications device 10 is not in the initialized state (i.e., when it joined the network mid-way through), processing of a<!-- EPO <DP n="19"> --> procedure for new joining is performed at step 106 and the communications device 10 operates as a sub-node. Note, at this point, the communications device 10 of the control unit inputs in advance via the input port 17 the control unit function code having been set before the booting of the system</p><p id="p0049" num="0049">Next, at step 101 a self-control unit sends out to the transmission line 31 a candidate request command to become the network master node. Further, the transmission format of the network master node candidate request command is, for example, the same as that shown in <figref idrefs="f0008">Fig. 8 (a)</figref> explained below such that a data type field is a code for indicating the network master node candidate request command; a data head portion of the data field is the control unit function code inputted in advance indicating a candidate originator; and an application data portion of the data field is some appropriate value. Note, that the application data portion is not necessary, so it does not need to exist.</p><p id="p0050" num="0050">Next, there is a possibility that at step 100 other control unit were judged to be in the initialized state at the same time. Therefore, at step 102 the transmission line 31 is monitored for a predetermined duration of time T2 to determine whether there is a network master node candidate request command from another control unit.</p><p id="p0051" num="0051">Next, at step 103 judgement is made as to whether the network master node candidate request command from another control unit<!-- EPO <DP n="20"> --> was detected or not. When one was not detected, the self-control unit becomes the network master node at step 104. When one was detected, at least one control unit other than the self-control unit sends out a network master node candidate request command all at the same time, and the procedure advances to step 105.</p><p id="p0052" num="0052">At step 105 judgment is made as to whether it is possible for the self-control unit to become the network master node or not. Here, the smallest control unit function code set in advance and inputted in advance by the communications device 10 of the control unit via the input port 17 becomes the network, master node. In other words, the self-control unit becomes the network master node in the case where the control unit function code of the self-control unit is the smallest of the control unit function code of the self-control unit and the control unit function codes attached to the network master node candidate request commands from the other control units. When the self-control unit is judged not to be able to become the network master node, the self-control unit operates as the sub-node. Further, if the respective numeric sizes of the control unit function codes are set in the opposite pattern, then the inputted control unit function code having the greatest value becomes the network master node.</p><p id="p0053" num="0053">Next, description is made making use of the flow chart of <figref idrefs="f0006">Fig. 6</figref>, of a method for determining a subsequent network master node when the network master node fails. The program represented in the<!-- EPO <DP n="21"> --> flow chart is also stored in the ROM 14 of the communications device 10.</p><p id="p0054" num="0054">At step 200 the communications device 10 of each control unit operating as a sub-node makes a timer T3 for detecting the network master failure start.</p><p id="p0055" num="0055">Next, at step 201 a judgment is made as to whether a predetermined duration of time T3 has elapsed or not. When the duration of time T3 has not elapsed, the procedure advances to step 206. On the other hand, when the duration of time T3 has elapsed, that is when a synchronization signal from another network master node is not received, this indicates a failure of the network master node, so the procedure advances to step 202. After the step 202, operations of steps 202-205 step 209 are the same as steps 101-104 and step 105 in <figref idrefs="f0005">Fig. 5</figref>. Further, the synchronization signal may be a token, for example, as described further below.</p><p id="p0056" num="0056">At step 206, which occurs when the network master node exists and is not in the initialized state, judgment is made as to whether a synchronization signal to the self-control unit has been received or not. When it has been received the procedure advances to step 207. On the other hand, when it has not been received, a loop is formed from step 201 to step 206 to step 201, and the program waits for the receipt of the synchronization signal.</p><p id="p0057" num="0057">Next, at step 207, data sending and receiving processing are performed according to the flow charts in <figref idrefs="f0009 f0010 f0011">Figs. 9-11</figref>.<!-- EPO <DP n="22"> --></p><p id="p0058" num="0058">Next, at step 208, the timer T3 for detecting the network master node failure is reset and made to start again.</p><p id="p0059" num="0059">Note that the set values of the amount of time for the timers T1, T2 and T3 are reset at appropriate places.</p><p id="p0060" num="0060">In the flowchart of <figref idrefs="f0006">Fig. 6</figref>, a control unit that does not advance to step 205 becomes a sub-node and operates in obedience to the synchronization signal of the network master node.</p><p id="p0061" num="0061">Further, when all the control units are in the initialized state all the control units have a right to become the network master node, and the control unit that outputs the network master node candidate request command to the other control units the soonest becomes the network master node. When the network master node is determined the remaining control units operate as sub-nodes.</p><p id="p0062" num="0062">When the network master node fails, too, in the processings of and after step 202, the sub-node (control unit) from among the remaining sub-nodes (control units) that outputs the network master node candidate request command to the other control units the soonest becomes the network master node.</p><p id="p0063" num="0063">The synchronization control of the network master node may use a token polling/selecting format or a token passing format, for example, which are known technologies. <figref idrefs="f0007">Fig. 7</figref> is a diagram showing an example of a token polling/selecting format for the synchronization control of the network master node.</p><p id="p0064" num="0064">In <figref idrefs="f0007">Fig. 7</figref> the network master node (control unit) provides a<!-- EPO <DP n="23"> --> token (a network occupation right) to a sub-node 1 (control unit).</p><p id="p0065" num="0065">Next, the sub-node 1 recognizes (receives) the token, and after that, acquires the network occupation right and sends necessary data to the network.</p><p id="p0066" num="0066">Next, after completing the sending of the data, the sub-node 1 performs a token release (notification of completion) to the network master node. Note that the transmission format of the token and the token release is, for example, the same as that shown in <figref idrefs="f0008">Fig. 8 (a)</figref> explained further below, such that the data type field is a code indicating the token and the token release; the data head portion of the data field is the control unit function code indicating a sending source an a sending destination; and the application data portion of the data field is some appropriate value. Note that the application data portion is not necessary and does not need to exist.</p><p id="p0067" num="0067">Next, the network master node recognizes (receives) the notification of completion (the token release) from the sub-node 1, and after that, provides the token (the network occupation right) to a subsequent sub-node 2 (control unit).</p><p id="p0068" num="0068">Thereafter, the network master node repeats a similar sequence with each sub-node. That is, only the sub-node that has acquired the token (the network occupation right) may send data to the transmission line 31, and the network master node may send data to the transmission line 31 after receiving the token release.<!-- EPO <DP n="24"> --></p><p id="p0069" num="0069"><figref idrefs="f0008">Fig. 8</figref> is a diagram showing a data format. Reference numeral (a) in the same figure shows a transmission format being constructed of a data type field and a data field. Further, reference numeral (b) in the same figure indicates a shared memory format being constructed of a data header portion and an application data portion. The data header portion and the application data portion correspond to the data fields explained above.</p><p id="p0070" num="0070">Now description will be made of operations of the control unit, making reference to <figref idrefs="f0009 f0010 f0011">Figs. 9-11</figref>. The following description will be made using the elevator hall registration control unit 5 shown in <figref idrefs="f0001">Fig. 1</figref> as an example.</p><p id="p0071" num="0071"><figref idrefs="f0009">Fig. 9</figref> is a flow chart showing a main operation of the control unit to become the elevator hall registration control unit 5.</p><p id="p0072" num="0072">At step 300, the communications device 10 of the control unit inputs the control unit function code via the input port 17. In this example, the function code that is set in advance is inputted as "10"; therefore, as shown in <figref idrefs="f0003">Fig. 3</figref>, it may be understood that the communications device 10 operates as the elevator hall registration control unit 5 and the data used by the communications device 10 are the data type codes "1" and "3". Note, however, that if the network master node, and the control unit function code inputted before the determination of the sub-node--both of which were explained above--are stored in the RAM 15, for example, then the processing here of inputting the control unit function code<!-- EPO <DP n="25"> --> may be omitted.</p><p id="p0073" num="0073">Next, at step 301 the communications device 10 of the control unit is determined to operate as the elevator hall registration control unit 5.</p><p id="p0074" num="0074">Then at step 302, the send data and receive data to use are selected from <figref idrefs="f0004">Fig. 4</figref> and recognized. In this example these data comprises the elevator call hall registration information and the elevator hall registration lamp information of series A corresponding to the data type codes "1" and "3".</p><p id="p0075" num="0075"><figref idrefs="f0010">Fig. 10</figref> is a flow chart showing a data transmission from an elevator hall registration control device 20E to the communications device 10 to the transmission line 31, being conducted by the multi-bus 18.</p><p id="p0076" num="0076">At step 400 the communication device 10 inside the elevator hall registration control unit 5 inputs the elevator hall call registration information by means of the elevator hall registration control device 20E. The elevator hall registration control device 20E inputs the elevator hall call registration signal via the transmission line 32 from an elevator hall button registration device 41 installed at the elevator hall on each floor, and writes the information in advance to an input queue inside the shared memory 13 via the multi-bas 18. The transmission control CPU 11 inside the above-mentioned communications device 10 inputs the elevator hall call registration information to the RAM 15 from the input<!-- EPO <DP n="26"> --> queue inside the shared memory 13 via the multi-bas 18. One example of a format of the input data is shown in the shared memory format shown in <figref idrefs="f0008">Fig. 8(b)</figref>.</p><p id="p0077" num="0077">Next, at step 401 analysis is performed of the data header portion of the data read from the input queue inside the shared memory 13. In this example, as shown in <figref idrefs="f0008">Fig. 8(b)</figref>, the data header portion is the elevator hall call registration information series A; therefore, the above-mentioned communications device 10 extracts the data type code of "1" from the "data type code table" shown in <figref idrefs="f0004">Fig. 4</figref>.</p><p id="p0078" num="0078">Next, at step 402 the above-mentioned communications device 10 adds the data type code of "1" extracted at previous step 401 to the data type field in the transmission format shown in <figref idrefs="f0008">Fig. 8(a)</figref>, and prepares the sending data.</p><p id="p0079" num="0079">Then, at step 403 the transmission control CPU 11 inside the above-mentioned communications device 10 sends the data indicated in the transmission format shown in <figref idrefs="f0008">Fig. 8(a)</figref> to the transmission line 31 via the transmission LSI 12. Further, the elevator hall registration control unit 5 sends the above data to the transmission line 31 while it has the token (the network occupation right). Note, however, that processing other than the sending processing is performed according to a different timing.</p><p id="p0080" num="0080"><figref idrefs="f0011">Fig. 11</figref> is a flow chart showing receiving of data from the transmission line 31 to the communications device 10 to the shared<!-- EPO <DP n="27"> --> memory 13 to the elevator hall registration control device 20E.</p><p id="p0081" num="0081">At step 500 the communications device 10 inside the elevator hall registration control unit 5 receives data from the transmission line 31 via the transmission LSI 12. The transmission format at the time of receiving is the one shown in <figref idrefs="f0008">Fig. 8(a)</figref>.</p><p id="p0082" num="0082">Next, at step 501 the data type field of the received data is analyzed. The data type code being used is already known from the "function code correspondence table" shown in <figref idrefs="f0003">Fig. 3</figref>. Therefore, a judgment is made as to whether the data should be used for the received data as well, or not. In the present example, the data which the elevator hall registration control unit 5 should use are the data type codes "1" and "3", as shown in <figref idrefs="f0003">Fig. 3</figref>. Therefore, only the received data of the data type field of "1" or "3" is used. Note that in actual application the data type code of "1" is for sending; therefore, only the received data of the data type code of "3" would be used.</p><p id="p0083" num="0083">Then, when the judgment was made at step 501 that the received data is data which should be inputted, at step 502 the data is written to the input queue of the shared memory 13 in the shared memory format shown in <figref idrefs="f0008">Fig. 8(b)</figref>. That is, the above-mentioned received data is outputted to the elevator hall registration control device 20E via the shared memory 13. Note that in the case depicted in the present example the data header portion of the above-mentioned received data becomes the series A of the elevator hall registration<!-- EPO <DP n="28"> --> lamp information.</p><p id="p0084" num="0084">Operations of the other control units are similar. Points of difference are merely that the data header portion of the shared memory format and the application data portion shown in <figref idrefs="f0008">Fig. 8 (b)</figref> change due to the data type code, so description is omitted here.</p><p id="p0085" num="0085">Further, the programs represented by the operation flow charts shown in <figref idrefs="f0009 f0010 f0011">Figs. 9-11</figref> are stored in the ROM 14 in each communications device 10.</p><p id="p0086" num="0086">As stated in the description of the above embodiment, all the data used by the control units is used as data representing the meaning of data type codes. In other words, the present system (elevator communications control system) is not a communication format such that a specific control unit is designated as a transmission partner from among the control units joined to the transmission line 31 and transmission is performed one-to-one with the partner. Rather, the present system is a format for designating the logical destination (i.e., the primary and the secondary logical destinations).</p><p id="p0087" num="0087">According to the present embodiment that adopt a format for designating the logical destination, each control unit may output meaningful data (logical data) via the transmission line 31 at the time of data sending and receive only the necessary data to the control unit at the time of data receiving.</p><p id="p0088" num="0088">The data that is necessary to each control unit is set in<!-- EPO <DP n="29"> --> advance by means of the "function code correspondence table" shown in <figref idrefs="f0003">Fig. 3</figref> and the "data type code table" shown in <figref idrefs="f0004">Fig. 4</figref>. Therefore, each control unit can be devoted to processing for sending and receiving the necessary data only, and it is possible to improve the processing power thereof.</p><p id="p0089" num="0089">In the conventional example, on the other hand, in addition to the car control unit a group control unit for group management control and a hall control unit for hall call control processing were also integrated into each control unit, so processing became complicated and processing power diminished.</p><p id="p0090" num="0090">Furthermore, according to the present embodiment, the method for determining the network master node for governing the synchronization controls among each control unit and the sub-node for obeying the network master node is configured in such a format that the network master node candidate request command is outputted to the bus; therefore, the time for booting the communications control system for group management of elevators being connected as a bus may be shortened.</p><p id="p0091" num="0091">In other words, the present embodiment is a group management elevator communications control system being inter-connected as a bus via the transmission line 31 (i.e., a bus), wherein functions of each control unit comprising the system are turned into sub-systems, and the group management elevator communications control system is equipped with these control units having a group<!-- EPO <DP n="30"> --> management control function, a respective car control function, an elevator hall registration control function, an elevator hall display control function and an expansions control function. Further, the group management elevator communications control system is equipped with a back up function for the time of failure of the network master node governing the synchronization controls among each control unit.</p><heading id="h0007"><u>INDUSTRIAL APPLICABILITY</u></heading><p id="p0092" num="0092">As explained above, in a communications control system for elevators according to Claim 1 of the present invention, a plurality of control units are inter-connected via a network and each control unit inputs its own logical destination from an external location in advance, the system comprises: a first control unit for detecting an initialized state of the network and operating as a network master node governing synchronization control among the plurality of control units when the control unit is the first to send out, to the network, a network master node candidate request having a logical destination of the first control unit attached thereto; and a second control unit for operating as a sub-node obeying the network master node when the initialized state of the network is not detected, whereby an effect is produced such that the time needed to boot the communications control system being connected as a bus is shortened.<!-- EPO <DP n="31"> --></p><p id="p0093" num="0093">As explained above, in a communications control system for elevators according to Claim 2 of the present invention, when the above-mentioned first control unit detects the network master node candidate request command from another control unit, if its own logical destination and the logical destination attached to the network master node candidate request command from the other control unit conform to specified conditions the first control unit operates as a network master node; and if specified conditions are not met, the first control unit operates as a sub-node, whereby an effect is produced such that the time needed to boot the communications control system being connected as a bus is shortened.</p><p id="p0094" num="0094">As explained above, in a communications control system for elevators according to Claim 3 of the present invention, when a control unit operating as a sub-node detects that the network master node is failing, if the control unit operating as the sub-node is the first to send out, to the network, a network master node candidate request command having the logical destination of the control unit attached thereto, the control unit operates as the network master node governing the synchronization controls among the plurality of control units, whereby an effect is produced such that the time needed for booting the communications control system being connected as a bus is shortened.</p><p id="p0095" num="0095">As explained above, in a communications control system for elevators according to Claim 4 of the present invention, when the<!-- EPO <DP n="32"> --> control unit operating as the sub-node detects the network master node candidate request command from another control unit and its own logical destination and the logical destination attached to the network master node candidate request command from the other control unit conform to the specified conditions, the control unit functions as the network master node, whereby an effect is produced such that the time needed for booting the communications control system being connected as a bus is shortened.</p><p id="p0096" num="0096">As explained above, in a communications control system for elevators according to Claim 5 of the present invention, the plurality of control units are inter-connected via the network; each control unit inputs its own primary logical destination from an external location in advance; and each has a first correspondence table establishing correspondence among the primary logical destination used for identifying the control unit, an elevator control function and a secondary logical destination for identifying information used by the control unit, and a second correspondence table establishing correspondence between the secondary logical destination and the information used by the control unit, the elevator communications control system is equipped with a plurality of control units for referencing the first correspondence table and acting as an elevator control function corresponding to their own primary logical destination, whereby an effect is produced such that the control units may be devoted<!-- EPO <DP n="33"> --> to sending and receiving of necessary data only and the processing power thereof may be improved.</p><p id="p0097" num="0097">As explained above, in a communications control system for elevators according to Claim 6 of the present invention, the system comprises: a first control unit which references the first correspondence table and corresponds to its own first primary logical destination therein, and which acts as a respective car control unit for controlling ascending and descending of an elevator car; a second control unit which references the first correspondence table and corresponds to its own second primary logical destination therein, and which acts as an elevator hall registration control unit for controlling input processing of elevator hall call registration information from an elevator hall button registration device installed at an elevator hall on each floor, and output processing of elevator hall registration lamp information corresponding to the elevator hall call; and a third control unit which references the first correspondence table and corresponds to its own third primary logical destination therein, and which operates as a group management control unit for performing allocation controls for allocating an elevator in response to an elevator hall call registered based on the elevator hall call registration information, whereby an effect is produced such that the control units may be devoted to sending and receiving of necessary data only and the processing power may be improved.<!-- EPO <DP n="34"> --></p><p id="p0098" num="0098">As explained above, in a communications control system for elevators according to Claim 7 of the present invention, each control unit refers to the second correspondence table; extracts the secondary logical destination corresponding to the information inputted from the external location; adds the secondary destination to the sending data and sends it to the network; and also extracts the secondary logical destination from data received from the network, and when the extracted secondary logical destination exists at a location corresponding to its own primary logical destination in the first correspondence table the control unit takes in the received data, whereby an effect is produced such that the control units may be devoted to sending and receiving of necessary data only and the processing power may be improved.</p><p id="p0099" num="0099">As explained above, in a communications control system for elevators according to Claim 8 of the present invention, in Claim 7, one of the plurality of control units detects an initialized state of the network and operates as the network master node governing the synchronization controls among the plurality of control units when the control unit is the first to send out, to the network, a network master node candidate request command having the primary logical destination of the control unit attached thereto; and the rest of the plurality of control units operate as sub-nodes obeying the network master node when the initialized state of the network is not detected, whereby an effect is produced<!-- EPO <DP n="35"> --> such that the control units may be devoted to sending and receiving of necessary data only to improve the processing power, and also, the time needed for booting the communications control system being connected as a bus is shortened.</p><p id="p0100" num="0100">As explained above, in a communications control system for elevators according to Claim 9 of the present invention, in Claim 8, when one of the plurality of control units detects a network master node candidate request command from another control unit, if its own primary logical destination and the primary logical destination attached to the network master node candidate request command from the other control unit conform to specified conditions, the control unit acts as the network master node; and if they do not conform to the specified conditions the control unit acts as a sub-node, whereby an effect is produced such that the control units may be devoted to sending and receiving of necessary data only to improve the processing power, and also, the time needed for booting the communications control system being connected as a bus is shortened.</p><p id="p0101" num="0101">As explained above, in a communications control system for elevators according to Claim 10 of the present invention, in Claim 9, when the control unit operating as a sub-node detects that the network master node is failing, the control unit operates as the network master node governing the synchronization controls among the plurality of control units when the control unit is the first<!-- EPO <DP n="36"> --> to send out, to the network, a network master node candidate request command having the primary logical destination of the control unit attached thereto, whereby an effect is produced such that the control units may be devoted to sending and receiving of necessary data only to improve the processing power, and also, the time needed for booting the communications control system being connected as a bus is shortened.</p><p id="p0102" num="0102">As explained above, in a communications control system for elevators according to Claim 11 of the present invention, in Claim 10, the control unit operating as a sub-node operates as the network master node when the control unit detects a network master node candidate request command from another control unit operating as a sub-node, and its own primary logical destination and the primary logical destination attached to the network master node candidate request command from the other control unit conform to specified conditions, whereby an effect is produced such that the control units may be devoted to sending and receiving of necessary data only to improve the processing power, and also, the time needed for booting the communications control system being connected as a bus is shortened.</p></description><claims mxw-id="PCLM56980733" lang="DE" load-source="patent-office"><!-- EPO <DP n="45"> --><claim id="c-de-01-0001" num="0001"><claim-text>Kommunikationssteuersystem für Aufzüge, in welchem eine Mehrzahl von Steuereinheiten (20) über ein Netzwerk (31) miteinander verbunden sind, wobei an jeder Steuereinheit (20) vorab ihr eigenes primäres logisches Ziel, um sie von den anderen Steuereinheiten (20) zu unterscheiden, und ihre Funktion einzustellen, aus einer externen Einstellvorrichtung eingegeben worden ist, wobei das System <b>gekennzeichnet ist durch</b>:
<claim-text>eine erste Steuereinheit, die als ein Netzwerkhauptknoten arbeitet, welcher die Synchronisationssteuerung zwischen der Mehrzahl von Steuereinheiten reguliert, wenn</claim-text>
<claim-text>die erste Steuereinheit einen initialisierten Zustand des Netzwerks detektiert, und</claim-text>
<claim-text>die erste Steuereinheit die erste der Mehrzahl von Steuereinheiten ist, die an das Netzwerk einen Kandidatenanforderungsbefehl auszusenden haben, der Netzwerkhauptknoten zu werden, wobei die Kandidatenanforderung das logische Ziel der ersten Steuereinheit daran angebracht aufweist; und</claim-text>
<claim-text>eine zweite Steuereinheit, die als ein Unterknoten arbeitet, welcher dem Synchronisationssignal des Netzwerkhauptknotens gehorcht, wenn<!-- EPO <DP n="46"> --></claim-text>
<claim-text>der initialisierte Zustand des Netzwerks nicht detektiert wird.</claim-text></claim-text></claim><claim id="c-de-01-0002" num="0002"><claim-text>Kommunikationssteuersystem für Aufzüge gemäß Anspruch 1, wobei, wenn die erste Steuereinheit den Netzwerkhauptknotenkandidaten-Anforderungsbefehl aus einer anderen Steuereinheit detektiert, falls ihr eigenes logisches Ziel und das an dem Netzwerkhauptknotenkandidaten-Anforderungsbefehl angebrachte logische Ziel aus der anderen Steuereinheit spezifizierten Bedingungen entsprechen, die erste Steuereinheit als Netzwerkhauptknoten arbeitet, und falls die spezifizierten Bedingungen nicht erfüllt sind, die erste Steuereinheit als ein Unterknoten arbeitet.</claim-text></claim><claim id="c-de-01-0003" num="0003"><claim-text>Kommunikationssteuersystem für Aufzüge gemäß Anspruch 2, wenn eine als ein Unterknoten arbeitende Steuereinheit detektiert, dass der Netzwerkhauptknoten ausfällt, falls die als der Unterknoten arbeitende Steuereinheit die erste ist, die an das Netzwerk einen Netzwerkhauptknotenkandidaten-Anforderungsbefehl mit dem logischen Ziel der daran angebrachten Steuereinheit auszusenden hat, die Steuereinheit als der Netzwerkhauptknoten arbeitet, der die Synchronisationssteuerungen zwischen der Mehrzahl von Steuereinheiten reguliert.</claim-text></claim><claim id="c-de-01-0004" num="0004"><claim-text>Kommunikationssteuersystem für Aufzüge gemäß Anspruch 3, wenn die Steuereinheit, die als der Unterknoten arbeitet, den Netzwerkhauptknotenkandidaten-Anforderungsbefehl aus einer anderen Steuereinheit detektiert, und ihr eigenes logisches Ziel und das an dem Netzwerkhauptknotenkandidaten-Anforderungsbefehl aus<!-- EPO <DP n="47"> --> der anderen Steuereinheit angebrachte logische Ziel den spezifizierten Bedingungen genügen, die Steuereinheit als der Netzwerkhauptknoten fungiert.</claim-text></claim><claim id="c-de-01-0005" num="0005"><claim-text>Kommunikationssteuersystem für Aufzüge, in dem eine Mehrzahl von Steuereinheiten (20) über ein Netzwerk (31) miteinander verbunden sind; wobei an jeder Steuereinheit vorab ihr eigenes primäres logisches Ziel, um sie von den anderen Steuereinheiten zu unterscheiden, aus einer externen Einstellvorrichtung eingegeben worden ist, <b>gekennzeichnet durch</b><br/>
eine erste Korrespondenztabelle, welche eine Korrespondenz zwischen den zum Identifizieren der Steuereinheit verwendeten primären logischen Ziel, einer Aufzugssteuerfunktion und einem sekundären logischen Ziel zum Identifizieren von Einstellinformationen, welche <b>durch</b> die Steuereinheit verwendet werden, etabliert; und<br/>
eine zweite Korrespondenztabelle, welche eine Korrespondenz zwischen dem zweiten logischen Ziel und der <b>durch</b> die Steuereinheit verwendeten Information etabliert,<br/>
wobei das System eine Mehrzahl von Steuerinhalten zum Referenzieren der ersten Korrespondenztabelle und Agieren als einer Aufzugsteuerfunktion entsprechend ihrem eigenen primären logischen Ziel umfasst.</claim-text></claim><claim id="c-de-01-0006" num="0006"><claim-text>Kommunikationssteuersystem für Aufzüge gemäß Anspruch 5, umfassend:<!-- EPO <DP n="48"> -->
<claim-text>eine erste Steuereinheit, welche die erste Korrespondenztabelle referenziert und ihrem eigenen ersten primären logischen Ziel darin entspricht, und die als eine entsprechende Kabinensteuereinheit zum Steuern des Aufwärtsfahrens und Abwärtsfahrens einer Aufzugskabine agiert;</claim-text>
<claim-text>eine zweite Steuereinheit, welche die erste Korrespondenztabelle referenziert und ihrem eigenen zweiten primären logischen Ziel darin entspricht, und die als eine Aufzugshallenregistrierungssteuereinheit zum Steuern der Eingabeverarbeitung von Aufzugshallenherbeiruf-Registrierungsinformationen aus einer in einer Aufzugshalle auf jedem Stockwerk installierten Aufzugshallentasten-Registrierungsvorrichtung, und zum Ausgabeverarbeiten einer Aufzugshallen-Registrierungslampeninformation entsprechend dem Aufzugshallenherbeiruf agiert; und</claim-text>
<claim-text>eine dritte Steuereinheit, welche die erste Korrespondenztabelle referenziert und ihrem eigenen dritten primären logischen Ziel darin entspricht, und die als eine Gruppenverwaltungssteuereinheit zum Durchführen von Allozierungssteuerungen zum Allozieren eines Aufzugs in Reaktion auf einen Aufzugshallenherbeiruf arbeitet, registriert basierend auf den Aufzugshallenherbeiruf-Registrierungsinformationen.</claim-text></claim-text></claim><claim id="c-de-01-0007" num="0007"><claim-text>Kommunikationssteuersystem für Aufzüge gemäß Anspruch 6, wobei jede der Steuereinheiten sich auf die zweite Korrespondenztabelle bezieht; das der aus dem externen Ort eingegebenen Information entsprechende sekundäre<!-- EPO <DP n="49"> --> logische Ziel extrahiert; das sekundäre Ziel zu den Sendedaten hinzufügt und über das Netzwerk sendet; und auch das sekundäre logische Ziel aus, aus dem Netzwerk empfangenen Daten extrahiert, und falls das extrahierte sekundäre logische Ziel an einem Ort entsprechend dem eigenen primären logischen Ziel in der ersten Korrespondenztabelle existiert, die Steuereinheit die empfangenen Daten aufnimmt.</claim-text></claim><claim id="c-de-01-0008" num="0008"><claim-text>Kommunikationssteuersystem für Aufzüge gemäß Anspruch 7, wobei eine der Mehrzahl von Steuereinheiten einen initialisierten Zustand des Netzwerks detektiert und als der Netzwerkhauptknoten arbeitet, der die Synchronisationssteuerungen zwischen der Mehrzahl von Steuereinheiten reguliert, wenn die Steuereinheit die erste ist, die an das Netzwerk einen Netzwerkhauptknotenkandidaten-Anforderungsbefehl mit dem daran angebrachten primären logischen Ziel der Steuereinheit auszusenden hat; und der Rest der Mehrzahl von Steuereinheiten als Unterknoten arbeitet, die dem Netzwerkhauptknoten gehorchen, wenn der initialisierte Zustand des Netzwerks nicht detektiert wird.</claim-text></claim><claim id="c-de-01-0009" num="0009"><claim-text>Kommunikationssteuersystem für Aufzüge gemäß Anspruch 8, wobei, wenn eine der Mehrzahl von Steuereinheiten einen Netzwerkhauptknotenkandidaten-Anforderungsbefehl aus einer anderen Steuereinheit detektiert, falls ihr eigenes primäres logisches Ziel und das an dem Netzwerkhauptknotenkandidaten-Anforderungsbefehl aus der anderen Steuereinheit angebrachte primäre logische Ziel zu den spezifizierten Bedingungen entsprechen, die Steuereinheit als der Netzwerkhauptknoten agiert; und falls sie nicht den spezifizierten Bedingungen<!-- EPO <DP n="50"> --> entsprechen, die Steuereinheit als ein Unterknoten agiert.</claim-text></claim><claim id="c-de-01-0010" num="0010"><claim-text>Kommunikationssteuersystem für Aufzüge gemäß Anspruch 9, wobei, wenn die als ein Unterknoten arbeitende Steuereinheit detektiert, dass der Netzwerkhauptknoten ausfällt, die Steuereinheit als der Netzwerkhauptknoten arbeitet, der die Synchronisationssteuerung zwischen der Mehrzahl von Steuereinheiten reguliert, wenn die Steuereinheit die erste ist, die an das Netzwerk den Netzwerkhauptknotenkandidaten-Anforderungsbefehl mit dem primären logischen Ziel der Steuereinheit daran angebracht auszusenden hat.</claim-text></claim></claims><claims mxw-id="PCLM56980734" lang="EN" load-source="patent-office"><!-- EPO <DP n="37"> --><claim id="c-en-01-0001" num="0001"><claim-text>A communications control system for elevators, in which a plurality of control units (20) are inter-connected via a network (31), wherein to each control unit (20) has been inputted in advance its own primary logical destination for distinguishing it from the other control units (20) and for setting its function, from an external setting device, the system being <b>characterized by</b>:
<claim-text>a first control unit operating as a network master node governing synchronization control among the plurality of control units, when
<claim-text>- the first control unit detects an initialized state of the network, and</claim-text>
<claim-text>- the first control unit is the first of the plurality of control units to send out, to the network, a candidate request command to become the network master node, the candidate request having the logical destination of the first control unit attached thereto; and</claim-text></claim-text>
<claim-text>a second control unit operating as a sub-node obeying the synchronisation signal of the network master node, when
<claim-text>- the initialized state of the network is not detected.</claim-text></claim-text><!-- EPO <DP n="38"> --><!-- EPO <DP n="39"> --></claim-text></claim><claim id="c-en-01-0002" num="0002"><claim-text>A communications control system for elevators according to Claim 1, wherein, when the first control unit detects the network master node candidate request command from another control unit, if its own logical destination and the logical destination attached to the network master node candidate request command from the other control unit conform to specified conditions, the first control unit operates as a network master node; and if the specified conditions are not met, the first control unit operates as a<!-- EPO <DP n="40"> --> sub-node.</claim-text></claim><claim id="c-en-01-0003" num="0003"><claim-text>A communications control system for elevators according to Claim 2, when a control unit operating as a sub-node detects that the network master node is failing, if the control unit operating as the sub-node is the first to send out, to the network, a network master node candidate request command having the logical destination of the control unit attached thereto, the control unit operates as the network master node governing the synchronization controls among the plurality of control units.</claim-text></claim><claim id="c-en-01-0004" num="0004"><claim-text>A communications control system for elevators according to Claim 3, when the control unit operating as the sub-node detects the network master node candidate request command from another control unit and its own logical destination and the logical destination attached to the network master node candidate request command from the other control unit conform to the specified conditions, the control unit functions as the network master node.</claim-text></claim><claim id="c-en-01-0005" num="0005"><claim-text>A communications control system for elevators, in which a plurality of control units (20) are inter-connected via a network (31); wherein to each control unit has been inputted in advance its own primary logical destination for distinguishing it from the other control units from an external setting device, <b>characterized by</b><br/>
a first correspondence table establishing correspondence among the primary logical destination used for identifying the control unit, an elevator control function and a secondary logical destination for identifying setting information used by the control unit; and<br/>
a second correspondence table establishing correspondence between the secondary logical destination and the information used by the control unit,<br/>
the system comprising a plurality of control units for referencing the first correspondence table and acting as an elevator control function corresponding to their own primary logical destination.<!-- EPO <DP n="41"> --></claim-text></claim><claim id="c-en-01-0006" num="0006"><claim-text>A communications control system for elevators according to Claim 5, comprising:
<claim-text>a first control unit which references the first correspondence table and corresponds to its own first primary logical destination therein, and which acts as a respective car control unit for controlling ascending and descending of an elevator car;</claim-text>
<claim-text>a second control unit which references the first correspondence table and corresponds to its own second primary logical destination therein, and which acts as an elevator hall registration control unit for controlling input processing of elevator hall call registration information from an elevator hall button registration device installed at an elevator hall on each floor, and output processing of elevator hall registration lamp<!-- EPO <DP n="42"> --> information corresponding to the elevator hall call; and</claim-text>
<claim-text>a third control unit which references the first correspondence table and corresponds to its own third primary logical destination therein, and which operates as a group management control unit for performing allocation controls for allocating an elevator in response to an elevator hall call registered based on the elevator hall call registration information.</claim-text></claim-text></claim><claim id="c-en-01-0007" num="0007"><claim-text>A communications control system for elevators according to Claim 6, wherein each the control unit refers to the second correspondence table; extracts the secondary logical destination corresponding to the information inputted from the external location; adds the secondary destination to the sending data and sends it to the network; and also extracts the secondary logical destination from data received from the network, and if the extracted secondary logical destination exists at a location corresponding to its own primary logical destination in the first correspondence table, the control unit takes in the received data.</claim-text></claim><claim id="c-en-01-0008" num="0008"><claim-text>A communications control system for elevators according to Claim 7, wherein one of the plurality of control units detects an initialized state of the network and operates as the network master node governing the synchronization controls among the<!-- EPO <DP n="43"> --> plurality of control units when the control unit is the first to send out, to the network, a network master node candidate request command having the primary logical destination of the control unit attached thereto; and the rest of the plurality of control units operate as sub-nodes obeying the network master node when the initialized state of the network is not detected.</claim-text></claim><claim id="c-en-01-0009" num="0009"><claim-text>A communications control system for elevators according to Claim 8, wherein when one of the plurality of control units detects a network master node candidate request command from another control unit, if its own primary logical destination and the primary logical destination attached to the network master node candidate request command from the other control unit conform to the specified conditions, the control unit acts as the network master node; and if they do not conform to the specified conditions, the control unit acts as a sub-node.</claim-text></claim><claim id="c-en-01-0010" num="0010"><claim-text>A communications control system for elevators according to Claim 9, wherein when the control unit operating as a sub-node detects that the network master node is failing, the control unit operates as the network master node governing the synchronization controls among the plurality of control units when the control unit is the first to send out, to the network, a network master node candidate request command having the primary logical destination<!-- EPO <DP n="44"> --> of the control unit attached thereto.</claim-text></claim></claims><claims mxw-id="PCLM56980735" lang="FR" load-source="patent-office"><!-- EPO <DP n="51"> --><claim id="c-fr-01-0001" num="0001"><claim-text>Système de commande de communication pour ascenseur, dans lequel une pluralité d'unités de commande (20) sont connectées entre elles via un réseau (31), dans lequel chaque unité de commande (20) a reçu en entrée à l'avance sa propre destination logique primaire pour la différencier des autres unités de commande (20) et pour établir sa fonction, depuis un dispositif d'établissement externe, le système étant <b>caractérisé par</b> :
<claim-text>une première unité de commande fonctionnant comme un noeud maître de réseau régissant la commande de synchronisation parmi la pluralité d'unités de commande, lorsque
<claim-text>- la première unité de commande détecte un état initialisé du réseau, et</claim-text>
<claim-text>- la première unité de commande est la première de la pluralité d'unités de commande à envoyer, au réseau, une commande de demande candidate pour qu'elle devienne le noeud maître de réseau, la destination logique de la première unité de commande étant jointe à la demande candidate, et</claim-text></claim-text>
<claim-text>une deuxième unité de commande fonctionnant comme un sous-noeud obéissant au signal de synchronisation du noeud maître de réseau, lorsque
<claim-text>- l'état initialisé du réseau n'est pas détecté.</claim-text></claim-text></claim-text></claim><claim id="c-fr-01-0002" num="0002"><claim-text>Système de commande de communication pour ascenseur selon la revendication 1, dans lequel, lorsque la première unité de commande détecte la commande de demande candidate de noeud maître de réseau<!-- EPO <DP n="52"> --> en provenance d'une autre unité de commande, si sa propre destination logique et la destination logique jointe à la commande de demande candidate de noeud maître de réseau en provenance de l'autre unité de commande sont conformes à des conditions spécifiées, la première unité de commande fonctionne comme un noeud maître de réseau ; et si les conditions spécifiées ne sont pas remplies, la première unité de commande fonctionne comme un sous-noeud.</claim-text></claim><claim id="c-fr-01-0003" num="0003"><claim-text>Système de commande de communication pour ascenseur selon la revendication 2, dans lequel lorsqu'une unité de commande fonctionnant comme un sous-noeud détecte que le noeud maître de réseau est défaillant, si l'unité de commande fonctionnant comme le sous-noeud est la première à envoyer, au réseau, une commande de demande candidate de noeud maître de réseau à laquelle la destination logique de l'unité de commande est jointe, l'unité de commande fonctionne comme le noeud maître de réseau régissant les commandes de synchronisation parmi la pluralité d'unités de commande.</claim-text></claim><claim id="c-fr-01-0004" num="0004"><claim-text>Système de commande de communication pour ascenseur selon la revendication 3, dans lequel lorsque l'unité de commande fonctionnant comme le sous-noeud détecte que la commande de demande candidate de noeud maître de réseau en provenance d'une autre unité de commande et sa propre destination logique et la destination logique jointe à la commande de demande candidate de noeud maître de réseau en provenance de<!-- EPO <DP n="53"> --> l'autre unité de commande sont conformes aux conditions spécifiées, l'unité de commande fonctionne comme le noeud maître de réseau.</claim-text></claim><claim id="c-fr-01-0005" num="0005"><claim-text>Système de commande de communication pour ascenseur, dans lequel une pluralité d'unités de commande (20) sont connectées entre elles via un réseau (31) ; dans lequel chaque unité de commande a reçu en entrée à l'avance sa propre destination logique primaire pour la différencier des autres unités de commande d'un dispositif d'établissement externe, <b>caractérisé par</b> :
<claim-text>un premier tableau de correspondance établissant une correspondance parmi la destination logique primaire utilisée pour identifier l'unité de commande, une fonction de commande d'ascenseur et une destination logique secondaire pour identifier des informations d'établissement utilisées par l'unité de commande ; et</claim-text>
<claim-text>un deuxième tableau de correspondance établissant une correspondance entre la destination logique secondaire et les informations utilisées par l'unité de commande,</claim-text>
<claim-text>le système comprenant une pluralité d'unités de commande pour référencer le premier tableau de correspondance et agissant comme une fonction de commande d'ascenseur correspondant à leur propre destination logique primaire.</claim-text></claim-text></claim><claim id="c-fr-01-0006" num="0006"><claim-text>Système de commande de communication pour ascenseur selon la revendication 5, comprenant :<!-- EPO <DP n="54"> -->
<claim-text>une première unité de commande qui référence le premier tableau de correspondance et correspond à sa propre première destination logique primaire dans celui-ci, et qui agit comme une unité de commande de cabine respective pour commander la montée et la descente d'une cabine d'ascenseur ;</claim-text>
<claim-text>une deuxième unité de commande qui référence le premier tableau de correspondance et correspond à sa propre deuxième destination logique primaire dans celui-ci, et qui agit comme une unité de commande d'enregistrement de hall d'ascenseur pour commander le traitement d'entrée d'informations d'enregistrement d'appel de hall d'ascenseur en provenance d'un dispositif d'enregistrement de bouton de hall d'ascenseur installé au niveau d'un hall d'ascenseur à chaque étage, et le traitement de sortie d'informations de voyant d'enregistrement de hall d'ascenseur correspondant à l'appel de hall d'ascenseur ; et</claim-text>
<claim-text>une troisième unité de commande qui référence le premier tableau de correspondance et correspond à sa propre troisième destination logique primaire dans celui-ci, et qui fonctionne comme une unité de commande de gestion de groupe pour réaliser des commandes d'attribution pour attribuer un ascenseur en réponse à un appel de hall d'ascenseur enregistré sur la base des informations d'enregistrement d'appel de hall d'ascenseur.</claim-text></claim-text></claim><claim id="c-fr-01-0007" num="0007"><claim-text>Système de commande de communication pour ascenseur selon la revendication 6, dans lequel chacune des unités de commande se réfère au deuxième tableau de<!-- EPO <DP n="55"> --> correspondance ; extrait la destination logique secondaire correspondant aux informations fournies en entrée depuis l'emplacement externe ; ajoute la destination secondaire aux données d'envoi et l'envoie au réseau ; et extrait également la destination logique secondaire de données reçues en provenance du réseau, et si la destination logique secondaire extraite existe à un emplacement correspondant à sa propre destination logique primaire dans le premier tableau de correspondance, l'unité de commande intègre les données reçues.</claim-text></claim><claim id="c-fr-01-0008" num="0008"><claim-text>Système de commande de communication pour ascenseur selon la revendication 7, dans lequel l'une de la pluralité d'unités de commande détecte un état initialisé du réseau et fonctionne comme le noeud maître de réseau régissant les commandes de synchronisation parmi la pluralité d'unités de commande lorsque l'unité de commande est la première à envoyer, au réseau, une commande de demande candidate de noeud maître de réseau à laquelle est jointe la destination logique primaire de l'unité de commande ; et le reste de la pluralité d'unités de commande fonctionne comme des sous-noeuds obéissant au noeud maître de réseau lorsque l'état initialisé du réseau n'est pas détecté.</claim-text></claim><claim id="c-fr-01-0009" num="0009"><claim-text>Système de commande de communication pour ascenseur selon la revendication 8, dans lequel lorsque l'une de la pluralité d'unités de commande détecte une commande de demande candidate de noeud maître de réseau en provenance d'une autre unité de commande, si sa<!-- EPO <DP n="56"> --> propre destination logique primaire et la destination logique primaire jointe à la commande de demande candidate de noeud maître de réseau en provenance de l'autre unité de commande sont conformes aux conditions spécifiées, l'unité de commande agit comme le noeud maître de réseau ; et si elles ne sont pas conformes aux conditions spécifiées, l'unité de commande agit comme un sous-noeud.</claim-text></claim><claim id="c-fr-01-0010" num="0010"><claim-text>Système de commande de communication pour ascenseur selon la revendication 9, dans lequel lorsque l'unité de commande fonctionnant comme un sous-noeud détecte que le noeud maître de réseau est défaillant, l'unité de commande agit comme le noeud maître de réseau régissant les commandes de synchronisation parmi la pluralité d'unités de commande lorsque l'unité de commande est la première à envoyer, au réseau, une commande de demande candidate de noeud maître de réseau à laquelle la destination logique primaire de l'unité de commande est jointe.</claim-text></claim></claims><drawings mxw-id="PDW16669247" load-source="patent-office"><!-- EPO <DP n="57"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="151" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="58"> --><figure id="f0002" num="2"><img id="if0002" file="imgf0002.tif" wi="165" he="131" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="59"> --><figure id="f0003" num="3"><img id="if0003" file="imgf0003.tif" wi="165" he="184" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="60"> --><figure id="f0004" num="4"><img id="if0004" file="imgf0004.tif" wi="157" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="61"> --><figure id="f0005" num="5"><img id="if0005" file="imgf0005.tif" wi="157" he="195" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="62"> --><figure id="f0006" num="6"><img id="if0006" file="imgf0006.tif" wi="165" he="205" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="63"> --><figure id="f0007" num="7"><img id="if0007" file="imgf0007.tif" wi="80" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="64"> --><figure id="f0008" num="8(a),8(b)"><img id="if0008" file="imgf0008.tif" wi="81" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="65"> --><figure id="f0009" num="9"><img id="if0009" file="imgf0009.tif" wi="91" he="143" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="66"> --><figure id="f0010" num="10"><img id="if0010" file="imgf0010.tif" wi="91" he="176" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="67"> --><figure id="f0011" num="11"><img id="if0011" file="imgf0011.tif" wi="91" he="146" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="68"> --><figure id="f0012" num="12"><img id="if0012" file="imgf0012.tif" wi="152" he="214" img-content="drawing" img-format="tif"/></figure></drawings><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
