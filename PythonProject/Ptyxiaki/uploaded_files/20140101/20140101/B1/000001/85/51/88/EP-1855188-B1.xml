<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-1855188-B1" country="EP" doc-number="1855188" kind="B1" date="20140101" family-id="38353895" file-reference-id="316848" date-produced="20180826" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146553697" ucid="EP-1855188-B1"><document-id><country>EP</country><doc-number>1855188</doc-number><kind>B1</kind><date>20140101</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-06255872-A" is-representative="YES"><document-id mxw-id="PAPP154827620" load-source="docdb" format="epo"><country>EP</country><doc-number>06255872</doc-number><kind>A</kind><date>20061116</date><lang>EN</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140446986" ucid="JP-2006128847-A" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>2006128847</doc-number><kind>A</kind><date>20060508</date></document-id></priority-claim></priority-claims><dates-of-public-availability><intention-to-grant-date><date>20130614</date></intention-to-grant-date></dates-of-public-availability><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1988118147" load-source="ipcr">G06F   3/06        20060101AFI20070827BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL1988096680" load-source="docdb" scheme="CPC">G06F   3/0605      20130101 LI20130101BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988097376" load-source="docdb" scheme="CPC">G06F   3/0607      20130101 LI20130101BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988105328" load-source="docdb" scheme="CPC">G06F   3/0619      20130101 LI20130101BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988105617" load-source="docdb" scheme="CPC">G06F   3/0644      20130101 FI20130101BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988108971" load-source="docdb" scheme="CPC">G06F   3/0685      20130101 LI20130101BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988137108" load-source="docdb" scheme="CPC">G06F   3/0637      20130101 LI20130101BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132193575" lang="DE" load-source="patent-office">Speichersystem</invention-title><invention-title mxw-id="PT132193576" lang="EN" load-source="patent-office">Storage system</invention-title><invention-title mxw-id="PT132193577" lang="FR" load-source="patent-office">Syst√®me de stockage</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR918143571" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>HITACHI LTD</last-name><address><country>JP</country></address></addressbook></applicant><applicant mxw-id="PPAR918172228" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>HITACHI, LTD.</last-name></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR918156348" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>KITO DAISUKE</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918155451" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>KITO, DAISUKE</last-name></addressbook></inventor><inventor mxw-id="PPAR918997604" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Kito, Daisuke,c/o Hitachi Ltd., Intellectual Property Group</last-name><address><street>12th Floor, Marunouchi Cntr Bldg. 6-1 Marunouchi 1-chome</street><city>Chiyoda-ku Tokyo 100-8220</city><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918171131" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>FUJII KENJI</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918136234" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>FUJII, KENJI</last-name></addressbook></inventor><inventor mxw-id="PPAR918997602" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>Fujii, Kenji,c/o Hitachi Ltd., Intellectual Property Group</last-name><address><street>12th Floor, Marunouchi Cntr Bldg. 6-1 Marunouchi 1-chome</street><city>Chiyoda-ku Tokyo 100-8220</city><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918163604" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>KANEDA YASUNORI</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918154388" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>KANEDA, YASUNORI</last-name></addressbook></inventor><inventor mxw-id="PPAR918997603" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>Kaneda, Yasunori,c/o Hitachi Ltd., Intellectual Property Group</last-name><address><street>12th Floor, Marunouchi Cntr Bldg. 6-1 Marunouchi 1-chome</street><city>Chiyoda-ku Tokyo 100-8220</city><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918161557" load-source="docdb" sequence="4" format="epo"><addressbook><last-name>ARAI MASATO</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918141695" load-source="docdb" sequence="4" format="intermediate"><addressbook><last-name>ARAI, MASATO</last-name></addressbook></inventor><inventor mxw-id="PPAR918997601" load-source="patent-office" sequence="4" format="original"><addressbook><last-name>Arai, Masato,c/o Hitachi Ltd., Intellectual Property Group</last-name><address><street>12th Floor, Marunouchi Cntr Bldg. 6-1 Marunouchi 1-chome</street><city>Chiyoda-ku Tokyo 100-8220</city><country>JP</country></address></addressbook></inventor></inventors><assignees><assignee mxw-id="PPAR918997606" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Hitachi, Ltd.</last-name><iid>100140072</iid><address><street>6-6, Marunouchi 1-chome Chiyoda-ku</street><city>Tokyo 100-8280</city><country>JP</country></address></addressbook></assignee></assignees><agents><agent mxw-id="PPAR918997605" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Moore, Graeme Patrick</last-name><suffix>et al</suffix><iid>101083754</iid><address><street>Mewburn Ellis LLP 33 Gutter Lane</street><city>London EC2V 8AS</city><country>GB</country></address></addressbook></agent></agents></parties><international-convention-data><designated-states><ep-contracting-states><country mxw-id="DS548829847" load-source="docdb">DE</country><country mxw-id="DS548989513" load-source="docdb">FR</country><country mxw-id="DS548829848" load-source="docdb">GB</country><country mxw-id="DS548884928" load-source="docdb">IE</country></ep-contracting-states></designated-states></international-convention-data></bibliographic-data><description mxw-id="PDES63957357" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><p id="p0001" num="0001">This invention relates to a technique for managing a plurality of data storage apparatuses of a computer system, or in particular to a technique for managing the data storage apparatuses hierarchically connected.</p><p id="p0002" num="0002">With the increase in the amount of digital data held by companies, a storage area network for connecting the data storage apparatuses to each other or data storage apparatuses to a computer by an exclusive network (mainly fiber channel) has come to spread. In order to efficiently manage the data ever on the increase, on the other hand, a technique is available in which the storage areas of a plurality of data storage apparatuses are virtualized and supplied to a computer as one or a plurality of virtual storage areas.</p><p id="p0003" num="0003">As shown in <patcit id="pcit0001" dnum="JP2005208967A"><text>JP-A-2005-208967</text></patcit>, for example, a plurality of data storage apparatuses are hierarchized and connected to a computer. In a computer system having the data storage apparatuses in hierarchical configuration, a given data storage apparatus can virtualize the storage area of another data storage apparatus and supply it to the computer as one or a plurality of virtual storage areas. In the case where the operation is performed to change the configuration<!-- EPO <DP n="2"> --> of the data storage apparatuses such as to delete the storage area supplied by a data storage apparatus in this system, a manager is required to recognize the particular configuration. This is by reason of the fact that assuming that the manager deletes the storage area of a lower data storage apparatus without recognizing the hierarchical configuration of the data storage apparatuses, for example, the storage area of an upper data storage apparatus hierarchically related to the particular lower data storage apparatus may also be deleted. In this computer system having the data storage apparatuses having a hierarchical configuration, a technique is provided to prevent the manager from performing the erroneous operation on a storage area without recognizing the hierarchical configuration of the data storage apparatuses.</p><p id="p0004" num="0004">The methods of managing the data storage apparatuses include a method, like <patcit id="pcit0002" dnum="JP2005208967A"><text>JP-A-2005-208967</text></patcit>, in which an exclusive console provided by software or a program installed in advance in a management computer is used by the manager to manage the data storage apparatuses, and a method in which the manager manages the data storage apparatuses using an individual console of a management computer not installed with the particular software or program without an exclusive console provided by the software or the program.</p><p id="p0005" num="0005">According to the technique of <patcit id="pcit0003" dnum="JP2005208967A"><text>JP-A-2005-208967</text></patcit>, the manager engaged in managing the data<!-- EPO <DP n="3"> --> storage apparatuses from a console supplied by an exclusive software or program for management of the data storage apparatuses can be informed of the hierarchical relation of the data storage apparatuses and therefore can prevent the erroneous operation on the storage area which otherwise might be caused by the failure to recognize the hierarchical configuration of the storage areas on the part of the manager.</p><p id="p0006" num="0006">In the technique of <patcit id="pcit0004" dnum="JP2005208967A"><text>JP-A-2005-208967</text></patcit>, assume that the manager manages the data storage apparatuses from an individual console without using the console supplied by the exclusive software or program for management of the data storage apparatuses. The manager would not be informed of the hierarchical relation of the data storage apparatuses and therefore could not avoid the erroneous operation.</p><p id="p0007" num="0007">Also, in the case where the manager of an upper data storage apparatus and the manager of a lower data storage apparatus are different from each other in a computer system having the data storage apparatuses in a hierarchical configuration, the operation on the storage area by the manager of the lower data storage apparatus may be different from the operation intended by the manager of the upper data storage apparatus. Assuming that the manager of the lower data storage apparatus deletes the storage area of a lower data<!-- EPO <DP n="4"> --> storage apparatus without recognizing the hierarchical configuration of the data storage apparatuses, for example, the storage area of an upper data storage apparatus hierarchically related to the particular lower data storage apparatus may also be deleted.</p><p id="p0008" num="0008">In the case where the storage area of the upper data storage apparatus actually holds no data while the data is stored in the storage area of the lower data storage apparatus in virtual form, the particular storage area, though managed by the manager of the upper data storage apparatus, exists in the lower data storage apparatus and therefore can be managed also by the manager of the lower data storage apparatus, with the result that the particular storage area may be erroneously deleted.</p><p id="p0009" num="0009"><patcit id="pcit0005" dnum="EP1647880A"><text>EP 1,647,880</text></patcit> discloses a control device which is a device which can be connected to an external device that transmits data, comprising a computer program which analyzes data received from the abovementioned external device using data format information related to the format of the data, wherein the abovementioned data format information is stored in a separate location from said computer program.</p><p id="p0010" num="0010">In view of the points described above, an object of this invention is to provide a computer system including<!-- EPO <DP n="5"> --> data storage apparatuses in hierarchical configuration, wherein the managers capable of managing the data storage apparatuses are appropriately limited taking the hierarchical configuration of the data storage apparatuses into consideration.</p><p id="p0011" num="0011">According to an aspect of this invention, there is provided a computer system according to claim 1 and an access control method for a computer system according to claim 6.</p><p id="p0012" num="0012">The data storage apparatus has the authorization definition information for setting the correspondence between the role of the manager (hereinafter referred to simply as the role) and the operational authorization and, upon receipt of a control request for the local data storage apparatus from the manager through an input means of the management computer, grants or rejects the control request of the manager based on the authorization definition information.</p><p id="p0013" num="0013">In the computer system including the data storage apparatuses having a hierarchical configuration according to aspects of this invention, the erroneous operation of a manager other than an authorized manager is prevented for the storage area of the data storage apparatuses having the hierarchical configuration.<!-- EPO <DP n="6"> --></p><p id="p0014" num="0014">Other objects, features and advantages of the invention will become apparent from the following description of the embodiment of the invention taken in conjunction with the accompanying drawings.</p><heading id="h0001">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p0015" num="0015"><ul><li><figref idrefs="f0001">Fig. 1</figref> is a diagram for explaining an outline of a first embodiment.</li><li><figref idrefs="f0002">Fig. 2</figref> is a diagram showing a system configuration according to the first embodiment.</li><li><figref idrefs="f0003">Fig. 3A</figref> is a diagram showing an example of the program and the data held in a memory 223 of a data storage apparatus 201 according to the first embodiment.</li><li><figref idrefs="f0003">Fig. 3B</figref> is a diagram showing an example of the program and the data held in a memory 123 of a data storage apparatus 101 according to the first embodiment.</li><li><figref idrefs="f0004">Fig. 4A</figref> is a diagram showing an example of the program held in a memory 513 of a management computer 501 according to the first embodiment an second example.</li><li><figref idrefs="f0004">Fig. 4B</figref> is a diagram showing an example of the program held in a memory 613 of a management computer 601 according to the first embodiment an second example.</li><li><figref idrefs="f0004">Fig. 5</figref> is a diagram showing an example of the identifier format information 650 used in the first embodiment an second example.</li><li><figref idrefs="f0005">Fig. 6A</figref> is a diagram showing an example of<!-- EPO <DP n="7"> --> the storage area information 245 according to the first and second embodiments.</li><li><figref idrefs="f0005">Fig. 6B</figref> is a diagram showing an example of the storage area information 145 according to the first embodiment and second example.</li><li><figref idrefs="f0006">Fig. 7A</figref> is a diagram showing an example of the hierarchy information 246 according to the first embodiment and second example.</li><li><figref idrefs="f0006">Fig. 7B</figref> is a diagram showing an example of the hierarchy information 146 according to the first embodiment and second example.</li><li><figref idrefs="f0007">Fig. 8</figref> is a diagram showing an example of the log setting information according to the first embodiment and second example.</li><li><figref idrefs="f0007">Fig. 9</figref> is a diagram showing an example of the account information according to the first embodiment and second example.</li><li><figref idrefs="f0008">Fig. 10</figref> is a diagram showing an example of the role definition information according to the first embodiment and second example.</li><li><figref idrefs="f0009">Fig. 11</figref> is a flowchart showing an example of the process for determining a control request from a management computer of the data storage apparatuses according to the first embodiment.</li><li><figref idrefs="f0010">Fig. 12</figref> is a flowchart showing an example of the process for updating the hierarchy information between the data storage apparatuses according to the first embodiment.<!-- EPO <DP n="8"> --></li><li><figref idrefs="f0011">Fig. 13</figref> is a diagram showing an example of the system configuration according to the second example.</li><li><figref idrefs="f0012">Fig. 14A</figref> is a diagram showing an example of the program and data held in the memory 223 of the data storage apparatus 201 according to the second example.</li><li><figref idrefs="f0013">Fig. 14B</figref> is a diagram showing an example of the program and data held in the memory 123 of the data storage apparatus 101 according to the second example.</li><li><figref idrefs="f0013">Fig. 15</figref> is a diagram showing an example of the access control information according to the second example.</li><li><figref idrefs="f0014">Fig. 16</figref> is a flowchart showing an example of the process for determining a control request from a management computer of the data storage apparatuses according to the second example.</li><li><figref idrefs="f0015">Fig. 17</figref> is a diagram showing a modification of the system configuration according to the first embodiment and second example.</li></ul></p><p id="p0016" num="0016">This invention is explained below with reference to first embodiment.</p><heading id="h0002">[First embodiment]</heading><p id="p0017" num="0017">The first embodiment is explained below with<!-- EPO <DP n="9"> --> reference to <figref idrefs="f0001 f0002 f0003 f0004 f0005 f0006 f0007 f0008 f0009 f0010">Figs. 1 to 12</figref>.</p><p id="p0018" num="0018">In the management of a computer system having data storage apparatuses in a hierarchical configuration, in order to limit the managers capable of managing the storage areas of the lower data storage apparatus, it is necessary to grasp the hierarchical relation between the storage areas of the data storage apparatuses and to manage the right to access the storage areas in accordance with the hierarchical relation between the data storage apparatuses.</p><p id="p0019" num="0019">The hierarchization of data storage apparatuses is defined as a state in which a plurality of data storage apparatuses are connected to each other in multiple levels as viewed from the computer.</p><heading id="h0003">&lt;Outline&gt;</heading><p id="p0020" num="0020">An outline of the first embodiment is explained below with reference to <figref idrefs="f0001">Fig. 1</figref>.</p><p id="p0021" num="0021">As shown in <figref idrefs="f0001">Fig. 1</figref>, the computer system according to this embodiment includes a plurality of hierarchized data storage apparatuses. In this case, four computers 301 to 304, one data storage apparatus 201 making up a first hierarchical level and one data storage apparatus 101 making up a second hierarchical level are shown.</p><p id="p0022" num="0022">The data storage apparatus making up the first hierarchical level has only storage areas directly recognizable by the computer, while the data storage apparatus making up the second hierarchical<!-- EPO <DP n="10"> --> level has storage areas recognizable by the computer through the data storage apparatus making of the first hierarchical level. In the hierarchical configuration of the data storage apparatuses described hereinafter, the term "upper" indicates a level relatively near to the computer, and the term "lower" a level relatively distant from the computer. In this embodiment, although the hierarchical configuration of two levels is explained, the hierarchy may have a multiplicity of levels.</p><p id="p0023" num="0023">The computer 301 can recognize the storage area 211 supplied by the data storage apparatus 201. The storage area 211 supplied by the data storage apparatus 201 responds to the data read request or the data write request from the computer 301. The storage area 211 holds the program used by the computer 301 and the data used by the particular program and the data generated.</p><p id="p0024" num="0024">In similar fashion, the computer 302 can recognize the storage area 212 supplied by the data storage apparatus 201, and the storage area 212 responds to the data read request and the data write request from the computer 302. Also, the computer 302 can recognize the storage area 111 supplied by the data storage apparatus 101, through the data storage apparatus 201, and the storage area 111 responds to the data read request and the data write request from the computer 302 through the data storage apparatus 201.<!-- EPO <DP n="11"> --> The storage area 212 and the storage area 111 both hold the data.</p><p id="p0025" num="0025">The computer 303 can recognize the storage area 213 supplied by the data storage apparatus 201, and the storage area 213 responds to the data read request and the data write request from the computer 303. Also, the computer 303 can recognize the storage area 112 supplied by the data storage apparatus 101, through the data storage apparatus 201, and the storage area 112 responds to the data read request and the data write request from the computer 303 through the data storage apparatus 201. According to this embodiment, the storage area 213 is a virtualized storage area holding no data, and the actual data is stored in the storage area 112. So the storage area 213 is indicated by dashed lines.</p><p id="p0026" num="0026">The computer 304 can recognize the storage area 113 supplied by the data storage apparatus 101, and the storage area 113 responds to the data read request and the data write request from the computer 304. The storage area 113 holds the program used by the computer 304 and the data used by the particular program and the data generated.</p><p id="p0027" num="0027">The data storage apparatuses 101, 102 of the computer system shown in <figref idrefs="f0001">Fig. 1</figref> include management interfaces 120, 220, respectively. The data storage apparatuses 101, 201 are connected to management computers 501, 601, respectively, through the<!-- EPO <DP n="12"> --> management interfaces 120, 220.</p><p id="p0028" num="0028">The management computer 501 has a data storage apparatus setting request program 515 for issuing a setting request to the data storage apparatus 201 in cooperation with the data storage apparatus 201 connected to the management computer 501. The management computer 601 has a data storage apparatus setting request program 615 for issuing a setting request to the data storage apparatus 101 in cooperation with the data storage apparatus 101 connected to the management computer 601. The manager of the lower data storage apparatus 101, for example, sends a management operation execution request to the storage area 113 of the data storage apparatus 101 through a management I/F 120 using the data storage apparatus setting request program 615 of the management computer 601. The data storage apparatus 101 determines whether the storage area constituting an object of operation of the data storage apparatus 101 has a hierarchical relation with the upper data storage apparatus 201 and the operation has an effect on the upper data storage apparatus or not and whether the manager is authorized or not to operate the particular storage area. The data storage apparatus 101 thus executes the operation in the case where the manager is authorized to operate the particular storage area and rejects to execute the operation in the case where the manager is not authorized to operate the storage area.<!-- EPO <DP n="13"> --></p><p id="p0029" num="0029">As a result, the manager of the lower data storage apparatus is prevented from executing the erroneous or illegal operation of the lower data storage apparatus affecting the upper data storage apparatus. A novel configuration for realizing this function is mainly explained in detail below.</p><heading id="h0004">&lt;System configuration&gt;</heading><p id="p0030" num="0030"><figref idrefs="f0002">Fig. 2</figref> shows a system configuration according to this embodiment.</p><p id="p0031" num="0031">The computer system according to this embodiment includes computers 301, 302, 303, 304, data storage apparatuses 101, 201, management computers 501, 601, and fiber channel switches (hereinafter referred to as the FC switches) 401, 402 connecting the computers 301 to 304 and the data storage apparatuses 101, 201.</p><p id="p0032" num="0032">The computers 301 to 303 are connected to the data storage apparatus 201 through the FC switch 401. The computer 304 is connected to the data storage apparatus 101 through the FC switch 402.</p><p id="p0033" num="0033">The computers 301 to 304 each include a CPU 310, a memory 320 and a fiber channel interface (hereinafter referred to as the FC interface) 330. The memory 320 holds the program executed by the CPU 310, the data read by the data storage apparatus and the data to be written into the data storage apparatus.<br/>
The computers 301 to 304 are connected to the FC switches 401, 402 through the FC interface 330.<!-- EPO <DP n="14"> --></p><p id="p0034" num="0034">The data storage apparatus 201 has three FC interfaces 230 for connection to the FC switch 401.<br/>
The FC interfaces 230 are arranged in the number corresponding to the number of the computers connected through the FC switch 401. The data storage apparatus 201 receives a read/write request from the computer through the FC interface 230, returns the requested data from the corresponding storage area, and writes the received data in the storage area. The FC interfaces 230 are not limited to 3 but may be plural number.</p><p id="p0035" num="0035">The data storage apparatus 201 has the storage areas 211, 212 for holding the data used by the computer. Further, the data storage apparatus 201 has two FC interfaces 235 for connection with other data storage apparatuses. The FC interfaces are provided in the number corresponding to the number of other data storage apparatuses connected thereto. The FC interfaces 235 are not limited to 2 in number but may be more than 2.</p><p id="p0036" num="0036">Further, though not shown, the data of the storage area 212 and the storage area 111 are assumed to be synchronized with each other. The storage area 213, as described later, is a virtualized version of the storage area 113 and therefore indicated by dashed lines.</p><p id="p0037" num="0037">The data storage apparatus 201 is further connected to one another data storage apparatus 101<!-- EPO <DP n="15"> --> through the FC switch 402.</p><p id="p0038" num="0038">The data storage apparatus 101 includes FC interfaces 130 for connection to the FC switch 402.</p><p id="p0039" num="0039">The data storage apparatus 101 includes a storage area 111 for storing a copy of the data stored in the storage area 212 in the data storage apparatus 201, a storage area 112 for storing the data used by the computer 303 through the data storage apparatus 201, and a storage area 113 for holding the data used by the computer 304.</p><p id="p0040" num="0040">The data storage apparatuses 101, 201 include management interfaces 220, 120 for connection to the management network 410, CPUs 221, 121 for controlling the program stored in the data storage apparatuses 101, 201 and the management interface, and memories 223, 123 for holding the program executed by the CPUs 221, 121 and the data transmitted/received by the management interfaces 220, 120. The data storage apparatuses 101, 201 are connected to the management computers 501, 601 through the management network 410.</p><p id="p0041" num="0041">The management computer 501 includes the network interface 510 for connecting to the management network 410, the CPU 511 for internal processing of the management computer 501, and the memory 513 for holding the program executed by the CPU 511 and the data transmitted and received by the network interface 510.</p><p id="p0042" num="0042">The manager can request the data storage apparatus 201 to create or delete a storage area or to<!-- EPO <DP n="16"> --> execute the operation of managing the configuration and the state of the data storage apparatus 201 using the data storage apparatus setting request program, described later, on the management computer 501.</p><p id="p0043" num="0043">The management computer 601 includes the network interface 610 for connection to the management network 410, the CPU 611 for internal processing of the management computer 601, and the memory 613 for holding the program executed by the CPU 611 and the data transmitted and received by the network interface 610.</p><p id="p0044" num="0044">The manager can request the data storage apparatus 101 to create or delete a storage area or to execute the operation of managing the configuration and the state of the data storage apparatus 101 using the data storage apparatus setting request program 515, described later, on the management computer 601.</p><p id="p0045" num="0045"><figref idrefs="f0003">Fig. 3A</figref> shows the program and data stored in the memory 223 of the data storage apparatus 201, and <figref idrefs="f0003">Fig. 3B</figref> the program and data stored in the memory 123 of the data storage apparatus 101. The memory 223 of the data storage apparatus 201 has stored therein a data storage apparatus configuration program 225, a data storage apparatus cooperation program 226, an account authentication and authorization program 227, storage area information 245, hierarchy information 246, log setting information 247, account information 248 and role definition information 249.</p><p id="p0046" num="0046">The data storage apparatus configuration<!-- EPO <DP n="17"> --> program 225 is for the management of the configuration of the data storage apparatuses including the creation or deletion of the storage area and the setting of the hierarchy information, the account information, the role definition information and the log setting information of the data storage apparatuses. The data storage apparatus cooperation program 226 is for the cooperation with other data storage apparatuses in hierarchical relation including the notification of the hierarchy information to the lower data storage apparatus 101 and the issue of an approval request, described later, to a data storage apparatus, if any, higher in level than the data storage apparatus 201, though not shown. The account authentication and authorization program 227 is for determining whether the manager is authorized to operate the data storage apparatus or not.</p><p id="p0047" num="0047">The memory 123 of the data storage apparatus 101 has stored therein a data storage apparatus configuration program 125, a data storage apparatus cooperation program 126, an account authentication and authorization program 127, storage area information 145, hierarchy information 146, log setting information 147, account information 148 and role definition information 149. The detail of each program stored in the memory 123 of the data storage apparatus 101 is similar to that of the data storage apparatus configuration program 225, the data storage apparatus cooperation<!-- EPO <DP n="18"> --> program 226 and the account authentication and authorization program 227.</p><p id="p0048" num="0048"><figref idrefs="f0004">Fig. 4</figref> shows the data and the programs held in the memories 513, 613 of the management computers 501, 601.</p><p id="p0049" num="0049">The memory 513 of the management computer 501 has stored therein a data storage apparatus setting request program 515 for acquiring the data storage apparatus configuration information for and issuing a setting request to the data storage apparatus 201.</p><p id="p0050" num="0050">The memory 613 of the management computer 601 has stored therein a data storage apparatus setting request program 615 for acquiring the data storage apparatus configuration information for and issuing a setting request to the data storage apparatus 201.</p><p id="p0051" num="0051">The programs held in the memories 223, 123 of the data storage apparatuses 101, 201 are recorded in a nonvolatile recording medium such as a magnetic disk device of the data storage apparatuses, and at the time of actuation of the data storage apparatus, executed by being loaded to the memories 223, 123. The medium for recording the program may be other than the magnetic disk device, such as the nonvolatile memory, the CD-ROM or the floppy (registered trade mark) disk. Further, the program can be executed by being loaded to the data storage apparatus from the particular recording medium or loaded by accessing the particular recording medium through a network.<!-- EPO <DP n="19"> --></p><p id="p0052" num="0052">The various programs held in the memory 513 of the management computer 501 are recorded in a nonvolatile recording medium such as a magnetic disk device of the management computer 501, and at the time of actuation of the management computer 501, executed by being loaded to the memory 513. The program may be recorded in a medium other than the magnetic disk device, such as the CD-ROM or the floppy disk. Further, the program can be executed by being loaded to the management computer from the particular recording medium or loaded by accessing the particular data storage apparatus through the network.</p><p id="p0053" num="0053">According to this embodiment, the management computer includes the data storage apparatus setting request program. As an alternative, a configuration can be employed in which the program is arranged in the data storage apparatus with the related information so that the program in the data storage apparatus is executed by being accessed through a network from the management computer.</p><p id="p0054" num="0054">Next, the data held in the data storage apparatuses 201, 101 and the management computers 501, 601 are explained.</p><heading id="h0005">&lt;Identifier format information&gt;</heading><p id="p0055" num="0055">According to this embodiment, in order to specify and manage the data storage apparatuses 201, 101 and the storage areas 211, 212, 111, 112, 113 supplied by the data storage apparatuses, an identifier<!-- EPO <DP n="20"> --> is assigned to each data storage apparatus. This identifier is assigned in accordance with a specified format. The identifier format information 650 is the data indicating the format of the identifier assigned, i.e. the meaning of each component element of the identifier.</p><p id="p0056" num="0056"><figref idrefs="f0004">Fig. 5</figref> shows an example of the identifier format information 650 used in this embodiment.</p><p id="p0057" num="0057">As shown in <figref idrefs="f0004">Fig. 5</figref>, in the computer system according to this embodiment, the identifier format information 650 is assumed to use a specified character string. Specifically, the character string is defined by a defining code 659 (dot ".") and includes a vendor name 651, an apparatus name 652, a serial number 653 and a storage area number 654 arranged in that order. The data storage apparatuses 201, 101 are specified by the vendor name 651, the apparatus name 652 and the serial number 653.</p><p id="p0058" num="0058">According to this embodiment, the data storage apparatus 201 is assigned the vendor name "ABC", the apparatus name "XX200" and the serial number "0123". Also, the data storage apparatus 101 is assigned a vendor name "DEF", an apparatus name "YY100" and a serial number "0456". Further, the data storage apparatus 102 is assigned a vendor name "GHI", an apparatus name "ZZ100" and a serial number "0789".</p><p id="p0059" num="0059">Also, according to this embodiment, the number assigned to each storage area as in <figref idrefs="f0002">Fig. 2</figref>, for<!-- EPO <DP n="21"> --> example, is used as the storage area number 654. In this case, the storage area 221 of the data storage apparatus 201 is expressed by a character string "ABC. XX200. 0123. 211".</p><p id="p0060" num="0060">According to this embodiment, this identifier format information 650 is held in the data storage apparatuses 101 201, and in accordance with the data storage apparatus cooperation programs 126, 226, the identifiers acquired from the data storage apparatuses 201, 101 are analyzed thereby to specify the data storage apparatus and the storage area.</p><p id="p0061" num="0061">In the computer system according to this embodiment, the very information for identifying each storage area assigned in advance can also be used as an identifier format. In the case where the identifier format is not unique, i.e. in the case where the configuration is different from one identifier to another, however, the storage area information acquired from each data storage apparatus cannot be matched with the hierarchy information. In the case where the format of the information assigned in advance fails to satisfy the aforementioned conditions, therefore, the data storage apparatuses 101, 201 are required to be equipped with a format conversion program by which the information for identifying the storage area acquired from the data storage apparatuses 101, 201 is converted to a format matched with the hierarchy information according to this embodiment.<!-- EPO <DP n="22"> --></p><heading id="h0006">&lt;Storage area information&gt;</heading><p id="p0062" num="0062">The storage area information 245, 145 held by the data storage apparatuses 101, 201 as information on the storage areas 211, 212, 111, 112, 113 supplied to the computer, etc. are explained. According to this embodiment, the data storage apparatus 201 has storage area information 245, and the data storage apparatus 101 storage area information 145.</p><p id="p0063" num="0063"><figref idrefs="f0005">Fig. 6A</figref> is a diagram showing an example of the storage area information 245 and <figref idrefs="f0005">Fig. 6B</figref> an example of the storage area information 145 according to this embodiment.</p><p id="p0064" num="0064">As shown in <figref idrefs="f0005">Figs. 6A</figref>, the storage area information 245 includes the storage area number 245a of the data storage apparatus 201, the management interface identification number 245b of the data storage apparatus 201, the identifier 245c for specifying each storage area, and the capacity 245d thereof. Similarly, the storage area information 145 includes the respective items of the storage area number 145a, the identification number 145b and the identifier 145c.</p><p id="p0065" num="0065">The identifiers 245c, 145c for specifying the storage areas are configured and assigned in accordance with the format explained above with reference to the identifier format information 650.</p><heading id="h0007">&lt;Hierarchy information&gt;</heading><p id="p0066" num="0066">Next, the hierarchy information 146, 246 are<!-- EPO <DP n="23"> --> explained. According to this embodiment, each data storage apparatus connected to this computer system has hierarchy information. For example, the upper data storage apparatus 201 having a lower storage area as another storage area and the lower data storage apparatus 101 of which the storage area is used by the upper data storage apparatus have hierarchy information 146, 246, respectively. This hierarchy information include information on the existence of the lower storage area, information for specifying the lower storage area, if any, a storage area control level for limiting the operation executable by the manager in the lower storage area, a data storing method, the existence of the upper data storage apparatus using the particular storage area and the information for specifying the upper data storage apparatus, if any.</p><p id="p0067" num="0067"><figref idrefs="f0006">Fig. 7A</figref> shows an example of the hierarchy information 246 according to this embodiment, and <figref idrefs="f0006">Fig. 7B</figref> an example of the hierarchy information 146 according to this embodiment. This embodiment is explained below with reference to the hierarchy information 246 held in the memory 223 of the data storage apparatus 201.</p><p id="p0068" num="0068">As shown in <figref idrefs="f0006">Figs. 7A, 7B</figref>, the hierarchy information 246 include a total storage area number 246a, 146a, an identifier 246b, 146b for specifying a data storage apparatus, a storage area control level 246c, 146c for limiting the operation executable by the<!-- EPO <DP n="24"> --> manager in the storage area of the lower data storage apparatus, a lower storage area existence flag 246d, 146d indicating whether a hierarchically lower storage area exists or not, an identifier 246e, 146e for specifying a lower storage area, an upper storage area existence flag 246f, 146f indicating whether an upper storage area exists or not and an upper storage area identifier 246g, 146g for specifying the upper storage area, respectively.</p><p id="p0069" num="0069">The identifiers 246b, 246e, 246g are configured in accordance with the format explained above with reference to the identifier format information 650.</p><p id="p0070" num="0070">The storage area control level 246c is an identifier corresponding to the data protection level to control the operation performed by the lower role of the lower data storage apparatus on the particular storage area. The lower role, as described later, is defined as a role for managing the storage area in the lower data storage apparatus. Also, the operation of update type is defined as an operation to change the existing setting such as by creating a new storage area or deleting the storage area, while the operation of reference type is an operation for only accessing the existing setting.</p><p id="p0071" num="0071">As shown in <figref idrefs="f0006">Fig. 7A</figref>, with regard to the storage area with the storage area control level thereof set to "1", the lower role is authorized to<!-- EPO <DP n="25"> --> execute the operation of both update and reference types, while with regard to the storage area with the storage area control level set to "2", on the other hand, it is authorized to execute the operation of reference type and to execute the operation of update type with the approval of the upper data storage apparatus. With regard to the storage area with the storage level control level set to "3", on the other hand, the lower role is authorized only to perform the operation of reference type, while with regard to the storage area with the storage area control level set to "4", it is authorized to execute the operation of neither update nor reference type.</p><p id="p0072" num="0072">The storage area control level is set to "1", for example, in the case where the storage area in the lower data storage apparatus is covered by the upper data storage apparatus and the data are stored in both the storage area of the upper data storage apparatus and the storage area of the lower data storage apparatus. The storage area control level is set to "2", on the other hand, in the case where the storage area of the lower data storage apparatus is covered by the upper data storage apparatus and the data stored in the storage area of the lower data storage apparatus is virtualized and provided in the storage area of the upper data storage apparatus.</p><p id="p0073" num="0073">The storage area control level "3" is set, for example, in the case where the data stored in the<!-- EPO <DP n="26"> --> storage area of the lower data storage apparatus is held as what is called WORM (write once read many) in which the data, once written, cannot be deleted or altered. The storage area control level is set to "4" in the case where the data is stored in a storage area in such a form that even the manager having a lower role cannot access or update the data in the storage area for a predetermined length of period.</p><p id="p0074" num="0074">According to this embodiment, the lower storage area existence flag 246d can assume any of three values "0", "1", "2". "0" indicates the inexistence of the lower storage area, "1" the existence of the lower storage area with the upper and lower storage areas holding the data synchronized with each other, and "2" the existence of the lower storage area with the actual data stored therein. The upper storage area existence flag 246f, on the other hand, can assume two values of "0" and "1" according to this embodiment, where "0" indicates the inexistence of the upper data storage apparatus and "1" the existence thereof.</p><p id="p0075" num="0075">Specifically, the hierarchy information 246 shown in <figref idrefs="f0006">Fig. 7A</figref> can be interpreted as follows:
<ul><li>The storage area "ABC. XX200. 0123. 211", of which the lower storage area existence flag 246d is "0", has no lower storage area. Also, since the upper storage area existence flag 246f is "0", it has no upper storage area.</li><li>The storage area "ABC. XX200. 0123. 212", of<!-- EPO <DP n="27"> --> which the lower storage area existence flag 246d is "1", has the lower storage area defined by the identifier 246d as "DEF. YY100. 0456. 111". The storage area 212 is synchronized with the storage area 111 of the lower data storage apparatus 100, and the storage area control level 246c is set to "1" to permit the manager having the lower role to execute the operation of update type for the storage area 111. Also, since the upper storage area existence flag 246f is "0", the storage area "ABC. XX200. 0123. 211" has no upper storage area.</li><li>The storage area "ABC. XX200. 0123. 213", of which the lower storage area existence flag 246d is "2", has the lower storage area "DEF. YY100. 0456. 112". The storage area 213 actually holds no data and the data is stored in the storage area 112. Therefore, the storage area control level 246c is set to "2" so that the manager having the lower role is required to acquire the approval for executing the operation of update type for the storage area 112. The data storage apparatus 201 holds no data in the storage area 213, and upon receipt of the write instruction and the write data for the storage area 213 from the computer 303, transmits the received write data to the data storage apparatus 101 and requests the data storage apparatus 101 to write the data into the storage area 112.</li></ul></p><p id="p0076" num="0076">After that, the data storage apparatus 101 stores the data in the storage area 112. Also, the<!-- EPO <DP n="28"> --> data storage apparatus 201, upon receipt of the request to read the storage area 213 from the computer 303, reads and acquires the data from the storage area 112 holding the particular data, and transmits it to the computer 303. The storage area "ABC. XX200. 0123. 213", of which the upper storage area existence flag is "0", has no upper storage area.</p><p id="p0077" num="0077">Specifically, the storage area 213 is indicated by dashed line as what may be called an imaginary area in <figref idrefs="f0001">Figs. 1</figref> and <figref idrefs="f0002">2</figref>. To the computer 303, the storage area 112 formed in the data storage apparatus 101 appears to be a storage area formed in the data storage apparatus 201 (this function is called "virtualization").</p><heading id="h0008">&lt;Log setting information&gt;</heading><p id="p0078" num="0078">Next, the log setting information 147, 247 are explained. The log setting information 247, 147 are for setting the type and the destination of the log output from the data storage apparatuses 201, 102. In this embodiment, the log setting information 147 held in the memory 123 of the data storage apparatus 101 is explained as an example.</p><p id="p0079" num="0079"><figref idrefs="f0007">Fig. 8</figref> shows an example of the log setting information according to this embodiment. As shown in <figref idrefs="f0007">Fig. 8</figref>, the log setting information includes a category 821 indicating the type of the log output from the data storage apparatus, a severity 822 indicating the degree of importance of the log output from the data storage<!-- EPO <DP n="29"> --> apparatus, and a syslog destination address 823 for outputting the log from the data storage apparatus to a syslog server. For example, only a log related to security can be output by setting a category, or only a log high in emergency degree such as the one for notifying a trouble can be output by setting the severity.</p><heading id="h0009">&lt;Account information&gt;</heading><p id="p0080" num="0080">Next, the account information 148, 248 are explained.</p><p id="p0081" num="0081">The account information 148, 248 have stored therein the information including the user ID of the manager, the password and the role. According to this embodiment, the account information 148 held in the memory 123 of the data storage apparatus 101 is explained as an example.</p><p id="p0082" num="0082"><figref idrefs="f0007">Fig. 9</figref> shows an example of the account information 148 according to this embodiment. As shown in <figref idrefs="f0007">Fig. 9</figref>, the account information include a user ID 901 and a password 902 used by the manager for giving a setting request to the data storage apparatus and a role 903 indicating the operation executable by the manager in the data storage apparatus. The account information 148 may take the form of a plurality of roles 903 for one user ID 901. The role 903 is explained in detail later with reference to <figref idrefs="f0008">Fig. 10</figref>.</p><p id="p0083" num="0083">Although this embodiment uses the user ID and the password as the account information to identify the<!-- EPO <DP n="30"> --> manager, a session ID or the like may also be used.</p><heading id="h0010">&lt;Role definition information&gt;</heading><p id="p0084" num="0084">The role definition information 149, 249 define the operation executable by the manager in the data storage apparatus. According to this embodiment, the role definition information 149 held in the memory 123 of the data storage apparatus 101 is explained as an example.</p><p id="p0085" num="0085"><figref idrefs="f0008">Fig. 10</figref> shows an example of the role definition information 149 according to this embodiment. As shown in <figref idrefs="f0008">Fig. 10</figref>, the role definition information identifying an operation executable by each role includes a role name 1001, an operation 1002 for the storage area covered by the upper data storage apparatus, an operation 1003 for the storage area not covered by the upper storage apparatus, an operation 1004 for the log setting information and an operation 1005 for the account information. These operations include the operations 1002a, 1003a, 1004a, 1005a of update type and the operations 1002b, 1003b, 1004b, 1005b of reference type. Other operations include an approval operation 1006 for determining the approval or disapproval of the approval request from the lower data storage apparatus.</p><p id="p0086" num="0086">The upper role is for managing the lower storage area covered by the upper data storage apparatus. The manager having the upper role can execute the operation of update and reference types for<!-- EPO <DP n="31"> --> the lower storage area in the lower data storage apparatus covered by the upper data storage apparatus, but cannot execute the operation of update or reference type for the other storage areas in the lower data storage apparatus and the log setting information.</p><p id="p0087" num="0087">The lower role is for managing the storage area located in the lower data storage apparatus but not covered by the upper data storage apparatus. The manager having the lower role can execute the operation of update and reference types for the storage area not covered by the lower data storage apparatus. With regard to the operation of update and reference types for the storage area covered by the upper data storage apparatus, however, the manager having the lower role is authorized to execute the operation corresponding to the storage area control level as described above. As for the log setting information, the manager having the lower role, though permitted to execute the operation of reference type, is required to acquire the approval of the manager having the approval role for the operation of update type.</p><p id="p0088" num="0088">The account management role sets the account information such as the user ID of the manager. The manager having the account management role is not permitted to perform the operation of update and reference types for the storage area but authorized to execute the operation of update and reference types for the account information.<!-- EPO <DP n="32"> --></p><p id="p0089" num="0089">The audit role is for auditing to determine whether the account information and the log setting information are correctly set or not. The manager having the audit role is authorized to execute the operation of reference type for the storage area, the operation of reference type for the log setting information and the operation of reference type for the account information.</p><p id="p0090" num="0090">The approval role is for giving an approval to an approval request from the lower data storage apparatus. The manager having the approval role is authorized to give the approval to the lower data storage apparatus to perform the operation of update type for the storage area covered by the upper data storage apparatus or the operation of update type for the log setting information. In the case where a trouble occurs in the data stored in the storage area of the lower data storage apparatus covered by the upper data storage apparatus, for example, the manager having the upper role would originally perform the trouble-shooting operation (operation of update type). Nevertheless, the manager having the lower role, in order to perform the trouble-shooting operation provisionally on behalf of the manager having the upper role, transmits an approval request to the manager having the approval role and upon acquisition of the approval, can perform the trouble-shooting operation. The manager having the approval role may receive the<!-- EPO <DP n="33"> --> contents of the approval request together with the approval request. Also, the contents of the approval request may be confirmed by other means such as telephone or mail.</p><p id="p0091" num="0091">In <figref idrefs="f0007">Fig. 9</figref>, assume that the upper role is registered for the user ID of a given manager and, though not expressly shown in <figref idrefs="f0007">Fig. 9</figref>, the approval role is registered in the upper data storage apparatus.<br/>
This manager, upon receipt of an approval request from the lower data storage apparatus, can access the lower storage area in the lower data storage apparatus covered by the upper data storage apparatus by means of the upper role and give the approval to the lower data storage apparatus by means of the approval role.</p><p id="p0092" num="0092">Also, in the case where the storage area of the upper data storage apparatus hierarchically related to the storage area of the lower data storage apparatus is converted by a still upper data storage apparatus, for example, a given manager may have the approval role, the upper role and the lower role for the lower data storage apparatus.</p><heading id="h0011">&lt;Process to determine execution of control request to data storage apparatus&gt;</heading><p id="p0093" num="0093">Next, the process executed by the data storage apparatus 101 upon receipt of the setting request from the management computer to the data storage apparatus in the computer system according to this embodiment is explained.<!-- EPO <DP n="34"> --></p><heading id="h0012">[Step 1101]</heading><p id="p0094" num="0094">The CPU 121 of the data storage apparatus executes the account authentication and authorization program 127 and, through the management interface 120, receives the setting request from the management computer 601 connected to the management network 410. The information transmitted from the management computer 601 contains the information on the user ID, the password, the setting operation and the object of the setting operation.</p><heading id="h0013">[Step 1102]</heading><p id="p0095" num="0095">The CPU 121, upon receipt of the setting request from the management computer 601, determines whether the user ID and the password transmitted thereto are correct or not based on the account information of <figref idrefs="f0007">Fig. 9</figref> in accordance with the account authentication and authorization program 127, and upon determination that they are correct, the process proceeds to step 1103. Otherwise, the process proceeds to step 1116.</p><heading id="h0014">[Step 1103]</heading><p id="p0096" num="0096">The CPU 121 determines whether the object of the setting operation requested by the management computer 601 is a storage area or not in accordance with the account authentication and authorization program 127. Upon determination that the object of the setting operation is the setting request for the storage area, the process proceeds to step 1104.<!-- EPO <DP n="35"> --> Otherwise, the process proceeds to step 1111.</p><p id="p0097" num="0097">In the case where the setting request from the management computer concerns an operation for the storage area such as the deletion of the existing storage area or the creation of a new storage area, for example, the process proceeds to step 1104. Otherwise, or in the case of an operation for other than the storage area such as the change in the password, for example, the process proceeds to step 1111.</p><heading id="h0015">[Step 1104]</heading><p id="p0098" num="0098">The CPU 121 executes the data storage apparatus configuration program 125 in accordance with the account authentication and authorization program 127, and acquires by accessing the hierarchy information 146 of the storage area constituting the object of the setting operation requested by the management computer 601.</p><heading id="h0016">[Step 1105]</heading><p id="p0099" num="0099">The CPU 121 determines, in accordance with the account authentication and authorization program 127, whether the storage area constituting the object of the setting operation requested by the management computer 601 is covered by the upper data storage apparatus. Specifically, the CPU 121 accesses the upper data storage area existence flag 146f of the hierarchy information 146. In the case where the storage area is covered by the upper data storage apparatus, the process proceeds to step 1106, otherwise,<!-- EPO <DP n="36"> --> to step 1114.</p><heading id="h0017">[Step 1106]</heading><p id="p0100" num="0100">The CPU 121, in accordance with the account authentication and authorization program 127, acquires the storage area control level 146c for the storage area constituting the object of the setting operation requested by the management computer 601 based on the hierarchy information 146 acquired in step 1104.</p><p id="p0101" num="0101">In the case of a setting request for the storage area 111, for example, the storage area level is "1" as understood from <figref idrefs="f0006">Fig. 7B</figref>.</p><heading id="h0018">[Step 1107]</heading><p id="p0102" num="0102">The CPU 121, in accordance with the account authentication and authorization program 127, determines whether the setting operation requested by the management computer 501 is the operation for the storage area with the storage area level of "2", and upon determination that the setting operation is for the storage area of the storage area level "2", the process proceeds to step 1108. Otherwise, the process proceeds to step 1114.</p><heading id="h0019">[Step 1108]</heading><p id="p0103" num="0103">The CPU 121, in accordance with the account authentication and authorization program 127, accesses the upper storage area identifier 146g of the hierarchy information 146 acquired in step 1110 and acquires the data storage apparatus identifier for identifying the upper data storage apparatus higher than the data<!-- EPO <DP n="37"> --> storage apparatus 101.</p><heading id="h0020">[Step 1109]</heading><p id="p0104" num="0104">The CPU 121, in accordance with the account authentication and authorization program 127, gives an approval request to the upper data storage apparatus having the data storage apparatus identifier acquired in step 1108, asking whether the setting operation requested by the management computer 601 can be executed or not.</p><p id="p0105" num="0105">In the case of the data storage apparatus 101, for example, the CPU 121 sends an approval request to the upper data storage apparatus 201 requesting the approval to execute the setting operation requested by the management computer 601.</p><p id="p0106" num="0106">The upper data storage apparatus having received the approval request in step 1109 gives an inquiry to the management computer (not expressly shown) used by the manager having the approval role in the account information of the particular data storage apparatus, and returns the result thereof to the lower data storage apparatus.</p><heading id="h0021">[Step 1110]</heading><p id="p0107" num="0107">In the case where the CPU 121 acquires the approval from the upper data storage apparatus to the approval request in step 1109 in accordance with the account authentication and authorization program 127, the process proceeds to step 1115. Otherwise, the process proceeds to step 1116.<!-- EPO <DP n="38"> --></p><heading id="h0022">[Step 1111]</heading><p id="p0108" num="0108">The CPU 121, in accordance with the account authentication and authorization program 127, determines whether the setting operation requested by the management computer 601 is the operation of update type for the log information or not. In the case where the setting operation is the one of the update operation for the log information, the process proceeds to step 1112. Otherwise, the process proceeds to step 1115.</p><p id="p0109" num="0109">In the case where the setting operation requested by the management computer is the operation of update type for the log information such as to change the type of the log (Refer to <figref idrefs="f0007">Fig. 8</figref>) output from the data storage apparatus, for example, the process proceeds to step 1112.</p><heading id="h0023">[Step 1112]</heading><p id="p0110" num="0110">The CPU 121, in accordance with the account authentication and authorization program 127, executes the data storage apparatus configuration program 125 and acquires the hierarchy information 146 of the data storage apparatus 101.</p><heading id="h0024">[Step 1113]</heading><p id="p0111" num="0111">The CPU 121, in accordance with the account authentication and authorization program 127, determines whether the data storage apparatus 101 has the storage area covered by the upper data storage apparatus based on the hierarchy information 146<!-- EPO <DP n="39"> --> acquired in step 1110. Specifically, the upper data storage area existence flag 146f of the hierarchy information 146 is accessed. In the case where the storage area covered by the upper data storage apparatus is so existent, the process proceeds to step 1108. Otherwise, the process proceeds to step 1115.</p><p id="p0112" num="0112">The data storage apparatus 101 has the storage area covered by the upper data storage apparatus, for example, and therefore the process proceeds to step 1108. According to this embodiment, the data storage apparatus 101 is taken as an example. In the case where the request is addressed to the data storage apparatus 201, on the other hand, the process proceeds to step 1115 due to the fact that the particular data storage apparatus has no storage area covered by the upper data storage apparatus.</p><heading id="h0025">[Step 1114]</heading><p id="p0113" num="0113">The CPU 121 executes the data storage apparatus configuration program 125 and determines whether the manager given the setting request from the management computer 601 is authorized to execute the particular operation or not, based on the account information 148 shown in <figref idrefs="f0007">Fig. 9</figref>, the hierarchy information 146 of the data storage area acquired in step 1104 and the the role definition information 149 of the manager shown in <figref idrefs="f0008">Fig. 10</figref>, and upon determination that the manager is so authorized, the particular operation is executed (step 1115), while in the case<!-- EPO <DP n="40"> --> where the manager is not so authorized, the execution of the particular operation is rejected (step 1116).</p><p id="p0114" num="0114">In the case where the object of operation requested by the management computer is the storage area 111, for example, as shown in <figref idrefs="f0006">Fig. 7B</figref>, the particular storage area is covered by the upper data storage apparatus and the storage area control level 146c is "1". In this case, the account information 148 is accessed, and in the case where the role of the manager registered in the account information 148 is the upper or lower role, the manager is authorized to execute the operation of reference and update types for the particular storage area, and the process proceeds to step 1115.</p><p id="p0115" num="0115">In the case where the storage area level of the storage area constituting the object of operation requested by the management computer is "3", on the other hand, the manager is authorized to execute the operation of reference and update types as long as the manager registered in the account information 148 has the upper role. Therefore, the process proceeds to step 1115. In the case where the storage area level is "3" and the role of the manager registered in the account information 148 is the lower role, however, the manager, though authorized to execute the operation of reference type for the storage area, is not authorized to execute the operation of update type. Therefore, the process proceeds to step 1116.<!-- EPO <DP n="41"> --></p><heading id="h0026">[Step 1115]</heading><p id="p0116" num="0116">The CPU 121, in accordance with the account authentication and authorization program 127, executes the data storage apparatus configuration program and performs the setting operation requested by the management computer.</p><heading id="h0027">[Step 1116]</heading><p id="p0117" num="0117">The CPU 121, in accordance with the account authentication and authorization program 127, rejects to execute the setting operation requested by the management computer.</p><p id="p0118" num="0118">According to this embodiment, the setting request from the management computer for the data storage apparatus is processed in the manner described above.</p><p id="p0119" num="0119">In step 1103, the CPU 121, based on the user ID and the password information transmitted thereto, may specify the role corresponding to the user ID, after which the GUI screen corresponding to the particular role is displayed thereby to prevent the execution of illegal operation by the manager.</p><p id="p0120" num="0120">In the case where the answer in step 1105 is NO, the answer in step 1110 is YES, the answer in step 1111 is NO and the answer in step 1113 is NO, then the CPU 121 accesses the account information 148 in step 1105, and after confirming whether the user has a legitimate role or not, may execute the control request. &lt;Process of changing hierarchical relation&gt;<!-- EPO <DP n="42"> --></p><p id="p0121" num="0121">Next, the process for updating the hierarchy information 149 is explained.</p><p id="p0122" num="0122">With reference to the flowchart of <figref idrefs="f0010">Fig. 12</figref>, the process of the data storage apparatuses 101, 201 for covering the storage area of the lower data storage apparatus by a data storage apparatus or canceling the hierarchy relation is explained.</p><p id="p0123" num="0123">The process executed by the data storage apparatuses 201, 101 to cover the storage area of the data storage apparatus 101 by the data storage apparatus 201 or cancel the hierarchy relation is explained. In this explanation, the authentication and authorization by the manager in &lt;process in data storage apparatus&gt; described above is omitted, and the manager is assumed to be authorized to execute the operation for the data storage apparatus. Also, according to this invention, an example in which the storage area of the lower data storage apparatus is covered is explained. Nevertheless, the process of canceling the hierarchical relation is similar to the process explained above.</p><heading id="h0028">[Step 1201]</heading><p id="p0124" num="0124">The CPU 221 of the data storage apparatus 201 executes the account authentication and authorization program 227, and through the management interface 220, receives the setting request from the management computer 501 connected to the management network 410. The information transmitted from the management<!-- EPO <DP n="43"> --> computer 501 contains the user ID, the password, the information on the operation of setting the storage area of the lower data storage apparatus in the lower storage area, the information for identifying the storage area constituting the object of operation and the information on the storage area level described later.</p><heading id="h0029">[Step 1202]</heading><p id="p0125" num="0125">The CPU 221 of the data storage apparatus, in accordance with the account authentication and authorization program 227, executes the data storage apparatus configuration program 225, acquires the hierarchy information 246 of the data storage apparatus 201 and updates the particular hierarchy information based on the setting request information acquired from the management computer 501.</p><p id="p0126" num="0126">In the case where a request to cover the storage area 111 of the data storage apparatus 101 by the storage area 212 of the data storage apparatus 201 is received from the management computer 501, for example, the storage area control level 246c, the lower storage area existence flag 246d and the identifier 246e of the storage area of the lower data storage apparatus shown in <figref idrefs="f0006">Fig. 7A</figref> are set accordingly.</p><heading id="h0030">[Step 1203]</heading><p id="p0127" num="0127">The CPU 221 of the data storage apparatus, in accordance with the account authentication and authorization program 227, executes the data storage<!-- EPO <DP n="44"> --> apparatus cooperation program 226 and notifies the lower data storage apparatus that the storage area of particular lower data storage apparatus is covered by the upper data storage apparatus. The information thus notified contains an identifier 246b of the storage area of the upper data storage apparatus corresponding to the storage area covered, a storage area control level 246c of the storage area and an identifier 246e of the lower data storage area covered.</p><p id="p0128" num="0128">In the case where the storage area 111 is covered by the storage area 212, for example, the information including the storage area identifier "ABC. XX200. 0123. 212", the storage area level "1" and the lower storage area identifier "DEF. YY100. 0456. 111" are sent to the lower data storage apparatus.</p><heading id="h0031">[Step 1204]</heading><p id="p0129" num="0129">The CPU 121 of the lower data storage apparatus 101 notified from the upper data storage apparatus 201 executes the data storage apparatus configuration program 125 and updates the hierarchy information 146 based on the notified information.</p><p id="p0130" num="0130">In the case where the storage area 112 is covered, for example, the value of the storage area control level 146c of the storage area having the storage area identifier being "DEF. YY100. 0456. 112" in <figref idrefs="f0006">Fig. 7B</figref> is updated, and so are the information on the upper storage area existence flag 146f and the identifier 146g of the upper data storage apparatus.<!-- EPO <DP n="45"> --></p><p id="p0131" num="0131">According to this embodiment, the upper data storage apparatus is not authenticated in the lower data storage apparatus notified from the upper data storage apparatus. As an alternative, the upper data storage apparatus may be authenticated using the ID, the password or the ID address.</p><p id="p0132" num="0132">According to this embodiment, the aforementioned process makes it possible to cover the storage area of a data storage apparatus.</p><p id="p0133" num="0133">According to this embodiment, the aforementioned configuration can prevent the erroneous operation or illegal operation of the manager in a hierarchical configuration of the data storage apparatuses.</p><p id="p0134" num="0134">The embodiment is explained above with reference to a case in which the data storage apparatus setting request program corresponding to each data storage apparatus is prepared for each management computer. Nevertheless, this invention is not limited to such a configuration. For example, a single data storage apparatus setting request program may correspond to a plurality of data storage apparatuses, and in the case where the identification numbers of the management interfaces of a plurality of data storage apparatuses can be managed and the communication is possible between the management computer and each data storage apparatus, the data storage apparatus setting request program corresponding to a plurality of data<!-- EPO <DP n="46"> --> storage apparatuses detected from a single management computer can be activated.</p><heading id="h0032">[Second example]</heading><p id="p0135" num="0135">A second example is explained below with reference to <figref idrefs="f0011 f0012 f0013 f0014 f0015">Figs. 13 to 17</figref>.</p><heading id="h0033">&lt;System configuration&gt;</heading><p id="p0136" num="0136">With reference to <figref idrefs="f0011">Fig. 13</figref>, the system configuration according to the second example is explained. According to the second example, the management computer is adapted to be connected to the data storage apparatus 101 only through the data storage apparatus 201. This is by reason of the fact that the data storage apparatus 101 has the function not to receive the access from other than the legitimate data storage apparatus registered in advance. As in the first embodiment, the management computer 501 manages the data storage apparatus 201, and the management computer 601 the data storage apparatus 101. Also, according to this embodiment, the lower data storage apparatus has the function not to receive the access from other than the upper data storage apparatus. As another system configuration, however, as shown in <figref idrefs="f0011">Fig. 13</figref>, the upper data storage apparatus and the lower data storage apparatus may be installed in a secure room 900 so that an external access is received only by the upper data storage apparatus. In this way, the access to the lower data storage apparatus can be made physically impossible from other than the upper data<!-- EPO <DP n="47"> --> storage apparatus.</p><p id="p0137" num="0137">A method of managing the data storage apparatus in the computer system having the hierarchized data storage apparatuses is explained below. In the description of this example, the component parts having similar functions and configuration to those of the first embodiment are designated by the same reference numerals, respectively, and not described in detail.</p><p id="p0138" num="0138">The computer system according to this example, as compared with the computer system according to the first embodiment, is so configured that the setting request cannot be directly given to the data storage apparatus 101 from the management computer.</p><p id="p0139" num="0139"><figref idrefs="f0012">Fig. 14A</figref> shows the program and data held in the memory 223 of the data storage apparatus 201 according to this example, and <figref idrefs="f0013">Fig. 14B</figref> the program and data held in the memory 123 of the data storage apparatus 101 according to this example.</p><p id="p0140" num="0140">The memory 223 of the data storage apparatus 201, in addition to the data and program held according to the first embodiment, has stored therein a lower data storage apparatus account authentication and authorization program 228 for receiving the setting request to the lower data storage apparatus from the management computer and determining whether the particular request can be executed or not, a lower data<!-- EPO <DP n="48"> --> storage apparatus setting request program 229 for requesting the data storage apparatus configuration program 125 of the lower data storage apparatus to execute the operation requested by the management computer, the account information 241 of the lower data storage apparatus and the role definition information 242 of the lower data storage apparatus. In the data storage apparatus 201, the account authentication and authorization program 227 responds to the setting request to the upper data storage apparatus 201, while the lower data storage apparatus account authentication and authorization program 228 responds to the setting request to the lower data storage apparatus.</p><p id="p0141" num="0141">Also, the memory 123 of the data storage apparatus 101 has stored therein a data storage apparatus configuration program 125, an access control program 128 for limiting the data storage apparatus and the management computer connectable to the data storage apparatus 101 as a new program, storage area information 145, log setting information 147 and access control information 155. The memory 123 has stored therein no other data and program held in the first embodiment.</p><heading id="h0034">&lt;Access control information&gt;</heading><p id="p0142" num="0142">The lower data storage apparatus includes the access control information 155 for identifying the upper data storage apparatus. According to this example the access control information 155 held in<!-- EPO <DP n="49"> --> the data storage apparatus 101 is explained as an example. As shown in <figref idrefs="f0013">Fig. 15</figref>, the access control information 155 is configured of an upper data storage apparatus name 1501 and an IP address 1502 of the upper data storage apparatus.</p><heading id="h0035">&lt;Process of determining execution of control request to data storage apparatus&gt;</heading><p id="p0143" num="0143">Next, with reference to the flowchart of <figref idrefs="f0014">Fig. 16</figref>, the process in the data storage apparatus 201 for receiving the setting request from the management computer 501 in the computer system according to this example is explained.</p><p id="p0144" num="0144">Unlike the first embodiment for processing the setting request to the data storage apparatus (Fiq. 11), the upper data storage apparatus determines whether the setting request from the management computer 501 can be executed or not, and in the case where the execution of the requested operation is permitted, an operation execution request is sent from the upper data storage apparatus to the lower data storage apparatus. As long as the execution requester is a legitimate upper data storage apparatus, the lower data storage apparatus executes the requested operation. In this way, the manager is not authenticated and authorized in the lower data storage apparatus.</p><heading id="h0036">[Step 1601]</heading><p id="p0145" num="0145">The CPU 221 of the data storage apparatus executes the account authentication and the<!-- EPO <DP n="50"> --> authorization program 228 of the lower data storage apparatus and receives the setting request from the management computer like in step 1101.</p><heading id="h0037">[Step 1602]</heading><p id="p0146" num="0146">The CPU 221, upon receipt of the setting request from the management computer 501, determines whether the transmitted account information is correct or not based on the lower data storage apparatus account information 241 in accordance with the account authentication and the authorization program 228 of the lower data storage apparatus, and upon determination that the account information is not correct, rejects the execution of the requested operation (step 1615).</p><heading id="h0038">[Step 1603]</heading><p id="p0147" num="0147">The CPU 221, in accordance with the account authentication and the authorization program 228 of the lower data storage apparatus, determines whether the object of the setting operation requested by the management computer 501 is a storage area or not. In the case where the setting request is for the storage area, the process proceeds to step 1604. Otherwise, the process proceeds to step 1610.</p><heading id="h0039">[Step 1604]</heading><p id="p0148" num="0148">The CPU 221, in accordance with the account authentication and the authorization program 228 of the lower data storage apparatus, executes the data storage apparatus configuration program, and acquires the hierarchy information 246 of the storage area<!-- EPO <DP n="51"> --> constituting the object of the setting operation requested by the management computer 501.</p><heading id="h0040">[Step 1605]</heading><p id="p0149" num="0149">The CPU 221, in accordance with the account authentication and the authorization program 228 of the lower data storage apparatus, determines whether the storage area constituting the object of the setting operation requested by the management computer 501 is covered by the upper data storage apparatus or not. Specifically, the lower storage area identifier 246e of the hierarchy information 246 is accessed. In the case where the storage area is covered by the upper data storage apparatus, the process proceeds to step 1606. Otherwise, the process proceeds to step 1614.</p><heading id="h0041">[Step 1606]</heading><p id="p0150" num="0150">The CPU 221, in accordance with the account authentication and the authorization program 228 of the lower data storage apparatus, acquires the storage area control level 246c of the storage area constituting the object of the setting operation requested by the management computer 501 based on the hierarchy information 246 acquired in step 1604.</p><heading id="h0042">[Step 1607]</heading><p id="p0151" num="0151">The CPU 221, in accordance with the account authentication and the authorization program 228 of the lower data storage apparatus, determines whether the setting operation requested by the management computer 501 is for the storage area of the storage area level<!-- EPO <DP n="52"> --> "2" or not, and in the case of the operation for the storage area of the storage area level "2", the process proceeds to step 1608. Otherwise, the process proceeds to step 1613.</p><heading id="h0043">[Step 1613]</heading><p id="p0152" num="0152">The CPU 221, in accordance with the account authentication and authorization program 228 of the lower data storage apparatus, determines whether the manager giving the setting request from the management computer 501 is authorized to execute the particular operation, based on the hierarchy information 246 of the storage area acquired in step 1604 and the role information of the manager shown in <figref idrefs="f0008">Fig. 10</figref>, and in the case where the manager is authorized to execute the operation, the process proceeds to step 1614. Otherwise, the process proceeds to step 1615.</p><heading id="h0044">[Step 1610]</heading><p id="p0153" num="0153">The CPU 221, in accordance with the account authentication and the authorization program 228 of the lower data storage apparatus, determines whether the setting operation requested by the management computer 501 is of update type for the log setting information 147 or not, and in the case of the operation of update type for the log setting information 147, the process proceeds to step 1611. Otherwise, the process proceeds to step 1614.</p><heading id="h0045">[Step 1611]</heading><p id="p0154" num="0154">The CPU 221, in accordance with the account<!-- EPO <DP n="53"> --> authentication and the authorization program 228 of the lower data storage apparatus, executes the data storage apparatus configuration program 225 and acquires the hierarchy information 246 of the data storage apparatus.</p><heading id="h0046">[Step 1612]</heading><p id="p0155" num="0155">The CPU 221, in accordance with the account authentication and the authorization program 228 of the lower data storage apparatus, determines whether the data storage apparatus having the storage area constituting the object of the setting operation requested by the management computer 501 has the storage area covered by the upper data storage apparatus, based on the hierarchy information 246 acquired in step 1611. Specifically, the lower storage area identifier 246e of the hierarchy information 246 is accessed. In the case where the storage area is covered by the upper data storage apparatus, the process proceeds to step 1608. Otherwise, the process proceeds to step 1614.</p><heading id="h0047">[Step 1608]</heading><p id="p0156" num="0156">The CPU 221, in accordance with the account authentication and the authorization program 228 of the lower data storage apparatus, gives an approval request to the data storage apparatus as to whether the setting operation requested by the management computer 501 can be executed or not.</p><p id="p0157" num="0157">In the approval request in step 1608, the data storage apparatus 201 makes an inquiry to the<!-- EPO <DP n="54"> --> management computer (not expressly shown) used by the manager having the approval role in the account information, and returns the result thereof to the lower data storage apparatus.</p><heading id="h0048">[Step 1609]</heading><p id="p0158" num="0158">The CPU 221, upon acquisition of the approval in the upper data storage apparatus to the approval request in step 1608 in accordance with the account authentication and the authorization program 228 of the lower data storage apparatus, proceeds to step 1614. Otherwise, the process proceeds to step 1615.</p><heading id="h0049">[Step 1614]</heading><p id="p0159" num="0159">The CPU 221, in accordance with the account authentication and the authorization program 228 of the lower data storage apparatus, executes the lower data storage apparatus setting request program 229 and requests the lower data storage apparatus to execute the setting operation requested by the management computer.</p><p id="p0160" num="0160">The CPU 121 of the lower data storage apparatus, upon receipt of the request to execute the setting operation from the upper data storage apparatus 201 in step 1614, executes the access control program 128, and by referring to the access control information 155 shown in <figref idrefs="f0013">Fig. 15</figref>, determines whether the requesting upper data storage apparatus is a legitimate upper data storage apparatus using the IP address thereof. In the case where the requester is a legitimate upper data<!-- EPO <DP n="55"> --> storage apparatus, the data storage apparatus configuration program 125 is executed to carry out the setting operation requested by the management computer. Otherwise, the execution of the setting operation requested by the management computer is rejected.</p><heading id="h0050">[Step 1615]</heading><p id="p0161" num="0161">The CPU 221, in accordance with the account authentication and the authorization program 228 of the lower data storage apparatus; rejects to execute the setting operation requested by the management computer.</p><p id="p0162" num="0162">According to this embodiment, the setting request from the management computer to the lower data storage apparatus through the upper data storage apparatus is processed as described above.</p><p id="p0163" num="0163">In step 1603, for example, the CPU 221 may specify the role corresponding to the user ID transmitted thereto based on the particular user ID and the password information transmitted thereto and display the GUI screen corresponding to the particular role thereby to prevent the execution of the illegal operation by the manager.</p><p id="p0164" num="0164">In the case where the determination is NO in step 1605, YES in step 1609, NO in step 1610 and NO in step 1612, then the CPU 121 may access the lower data storage apparatus account information 241 in step 1614 and thus confirming whether the user has a legitimate role or not, may execute the control request.</p><heading id="h0051">&lt;Process for changing hierarchical relation&gt;</heading><!-- EPO <DP n="56"> --><p id="p0165" num="0165">Next, the process executed for the data storage apparatus 201 to cover the storage area of the lower data storage apparatus 101 is explained with reference to <figref idrefs="f0010">Fig. 12</figref>. This process executed for the data storage apparatus 201 to cover the storage area of the lower data storage apparatus 101 is different from the similar process in the first embodiment (Refer to <figref idrefs="f0010">Fig. 12</figref>) in the lack of the notification process from the upper data storage apparatus to the lower data storage apparatus after the storage area of the lower data storage apparatus is covered.</p><p id="p0166" num="0166">In the explanation of this example, as in the first embodiment, the authentication and authorization of the manager for processing the setting request received from the management computer is omitted, and the manager is authorized to execute the operation for the data storage apparatus. Although this description refers to a case in which the storage area of the lower data storage apparatus is covered, the process for canceling the hierarchical relation is similar to the aforementioned process.</p><heading id="h0052">[Step 1201 in second example]</heading><p id="p0167" num="0167">This step is similar to step 1201 in the first embodiment.</p><heading id="h0053">[Step 1202 in second example]</heading><p id="p0168" num="0168">The CPU 221 of the data storage apparatus, in accordance with the account authentication and the authorization program 227, executes the data storage<!-- EPO <DP n="57"> --> apparatus configuration program 225, acquires the hierarchy information 246 of the data storage apparatus and updates the hierarchy information based on the setting request information acquired from the management computer 501.</p><p id="p0169" num="0169">Upon receipt of a request from the management computer 501 to cover the storage area of the data storage apparatus 101 by the storage area of the data storage apparatus 201, for example, the CPU 221 sets the storage area control level 246c for the particular storage area, the lower storage area existence flag 246d and the identifier 246e of the storage area of the lower data storage apparatus as shown in <figref idrefs="f0006">Fig. 7A</figref>. The storage area control level is for controlling the operation of the lower role for the storage area of the lower data storage apparatus in the lower data storage apparatus role definition information 242 held in the upper data storage apparatus. The storage area control level is similar to the one described in detail with reference to <figref idrefs="f0006">Fig. 7A</figref>.</p><p id="p0170" num="0170">According to this example the storage area of one data storage apparatus can be covered by another data storage apparatus by the process described above.</p><p id="p0171" num="0171">As explained above, according to this embodiment, even in the case where the data storage apparatus 101 is connected to the management computers 501, 601 through the data storage apparatus 201 and the<!-- EPO <DP n="58"> --> storage areas thereof have a hierarchical relation to each other, the erroneous operation and illegal operation of the manager from the management computer can be prevented.</p><p id="p0172" num="0172">Also, according to this example access control program 128 of the lower data storage apparatus, upon receipt of the request to execute the setting operation from the upper data storage apparatus, determines the legitimacy thereof based on the IP address of the requester. Nevertheless, the upper data storage apparatus may be authenticated using an ID, a password or a certificate.</p><p id="p0173" num="0173">Although this example includes the data storage apparatus setting request program in the management computer, the particular program may alternatively be included in the data storage apparatus like in the first embodiment to access the program of the particular apparatus from the management computer through a network.</p><p id="p0174" num="0174">Further, although this example explained above with reference to a case in which the data storage apparatus setting request program corresponding to each data storage apparatus is prepared for each management computer, the invention is not limited to this configuration. Like in the first embodiment, for example, a single data storage apparatus setting request program may correspond to a plurality of data storage apparatuses to manage the<!-- EPO <DP n="59"> --> identification numbers of the management interfaces of a plurality of data storage apparatuses, and in the case where a setting request can be issued to the plurality of the data storage apparatuses from a management computer, a data storage apparatus setting request program corresponding to the plurality of the data storage apparatuses detected from a single management computer can be started.</p><heading id="h0054">(First modification)</heading><p id="p0175" num="0175">In the first embodiment and second example above, the programs and the related information are all held in the memory of the data storage apparatuses. Alternatively, as shown in <figref idrefs="f0015">Fig. 17</figref>, the data storage apparatuses can be operated through an exclusive computer such as a server including the data storage apparatus setting request receiving computers 701, 801 for receiving the operation request from the manager to the data storage apparatuses. The data storage apparatus setting request receiving computers 701, 801 can be implemented as a maintenance terminal (service processor) for managing the data storage apparatuses. In this case, the memories 713, 813 have stored therein the programs and information stored in the memories 123, 223, respectively. The programs are executed by CPUs 701, 801, respectively. As an alternative, a single data storage apparatus setting receiving computer 701 (801) may be connected to the management network 410 via a management I/F 710 (810) to receive the operation<!-- EPO <DP n="60"> --> request to either the data storage apparatus 101 or 201 from the manager.</p><p id="p0176" num="0176">Although the first embodiment and second example described above represent a case in which a fiber channel network is used for connection between the computer and the data storage apparatuses and between the data storage apparatuses, the invention is not limited to this type of network. As long as proper devices are selected for the network in place of the FC switches and the FC interface, other networks is also applicable with equal effect. Also, the FC switches 401, 402 can be connected in cascade through a communication path 409.</p><p id="p0177" num="0177">The operating error and the illegal operation bv the manager for the storage area of the hierarchized data storage apparatuses is avoided in a computer system.</p></description><claims mxw-id="PCLM56979560" lang="DE" load-source="patent-office"><!-- EPO <DP n="66"> --><claim id="c-de-01-0001" num="0001"><claim-text>Computersystem, umfassend:
<claim-text>einen Computer (301-304);</claim-text>
<claim-text>ein erstes Speichersystem (101) mit mehreren ersten Speicherbereichen (111-113) zum Speichern der durch den Computer (301-304) verwendeten Daten; und</claim-text>
<claim-text>ein zweites Speichersystem (201), das mit dem ersten Speichersystem (101) und dem Computer (301-304) verbunden ist, wobei das zweite Speichersystem mehrere zweite Speicherbereiche (211-213) enth√§lt, die dem Computer (301-304) zur Verf√ºgung stehen, wobei die zweiten Speicherbereiche einen virtuellen Speicherbereich (213) enthalten, wobei der virtuelle Speicherbereich mit einem der ersten Speicherbereiche (112) verkn√ºpft ist, sodass der eine verkn√ºpfte der ersten Speicherbereiche dem Computer als der virtuelle Speicherbereich erscheint mit dem er verkn√ºpft ist,</claim-text>
<claim-text>wobei das Computersystem ferner umfasst:
<claim-text>einen ersten Verwaltungscomputer (601), der mit dem ersten Speichersystem verbunden ist und das erste Speichersystem sowie in den ersten Speicherbereichen gespeicherte Daten steuert; und</claim-text>
<claim-text>einen zweiten Verwaltungscomputer (501), der mit dem zweiten Speichersystem (201) verbunden ist und das zweite Speichersystem sowie die in dem virtuellen Speicherbereich (213) gespeicherten Daten steuert;</claim-text></claim-text>
<claim-text>und <b>dadurch gekennzeichnet, dass</b>:
<claim-text>das erste Speichersystem dazu ausgelegt ist, erste Hierarchieinformationen (146) zu speichern, die eine Korrespondenz zwischen den ersten Speicherbereichen (111-113) und den zweiten Speicherbereichen (211-213) angeben, und wobei das erste Speichersystem (101) Verwalter-Identifizierinformationen aufweist, die in Form von Korrespondenz zwischen mehreren ersten Verwaltern des ersten Verwaltungscomputers (601) und mindestens einer Vorgangsautorisation, die den mehreren ersten Verwaltern erteilt wurde, registriert sind;<!-- EPO <DP n="67"> --></claim-text>
<claim-text>das zweite Speichersystem dazu ausgelegt ist, zweite Hierarchieinformationen (246) zu speichern, die eine Korrespondenz zwischen den zweiten Speicherbereichen (211-213) und den ersten Speicherbereichen (111-113) angeben;</claim-text>
<claim-text>der erste Verwaltungscomputer (601) dazu ausgelegt ist, Identifizierinformationen eines ersten Verwalters, der das erste Speichersystem (101) verwaltet, und eine Steueranfrage f√ºr einen Einstellvorgang f√ºr einen gegebenen ersten Speicherbereich (111-113) der ersten Speicherbereiche (111-113) an das erste Speichersystem zu √ºbertragen, wobei der Einstellvorgang ein Vorgang ist, um die Korrespondenz zwischen einem ersten Speicherbereich und einem zweiten Speicherbereich zu √§ndern;</claim-text>
<claim-text>das erste Speichersystem (101) dazu ausgelegt ist, bei Empfang der Identifizierinformationen und der Steueranfrage von dem ersten Verwaltungscomputer (601) festzustellen, ob der mit den empfangenen Identifizierinformationen verkn√ºpfte erste Verwalter in den Verwalter-Identifizierinformationen registriert ist oder nicht,</claim-text>
<claim-text>und, wenn der erste Verwalter nicht registriert ist, das erste Speichersystem (101) dazu ausgelegt ist, eine Anweisung an den ersten Verwaltungscomputer (601) zu √ºbertragen, um die Steueranfrage zur√ºckzuweisen,</claim-text>
<claim-text>jedoch, wenn der erste Verwalter registriert ist, dann das erste Speichersystem dazu ausgelegt ist, festzustellen, ob der gegebene erste Speicherbereich anhand der ersten Hierarchieinformationen einem der zweiten Speicherbereiche (211-213) entspricht, und bei Feststellen, dass der gegebene erste Speicherbereich einem zweiten Speicherbereich (211-213) entspricht, aber nicht mit dem virtuellen Speicherbereich (213) verkn√ºpft ist, den Einstellvorgang auszuf√ºhren,</claim-text>
<claim-text>wobei, falls anhand der ersten Hierarchieinformationen festgestellt wird, dass der gegebene erste Speicherbereich mit dem virtuellen Speicherbereich (213) verkn√ºpft ist, dann das erste Speichersystem (101) dazu ausgelegt ist, eine Genehmigungsanfrage an das zweite Speichersystem (201) zu √ºbertragen,<!-- EPO <DP n="68"> --> um eine Genehmigung zum Ausf√ºhren des Einstellvorgangs, der der Gegenstand der Steueranfrage ist, anzufragen;</claim-text>
<claim-text>das zweite Speichersystem (201) dazu ausgelegt ist, die Genehmigungsanfrage zu empfangen und die Genehmigungsanfrage an den zweiten Verwaltungscomputer (501) zu √ºbertragen, um einen zweiten Verwalter, der eine Genehmigungsfunktion hat, anzufragen, die Ausf√ºhrung des Einstellvorgangs zu genehmigen;</claim-text>
<claim-text>der zweite Verwaltungscomputer dazu ausgelegt ist, eine Antwort auf die Genehmigungsanfrage an das zweite Speichersystem zu √ºbertragen, wobei die Antwort angibt, ob eine Ausf√ºhrung des Einstellvorgangs genehmigt ist oder nicht;</claim-text>
<claim-text>das erste Speichersystem (101) dazu ausgelegt ist, die Antwort von dem zweiten Speichersystem zu empfangen und, falls die Antwort eine Genehmigung des Einstellvorgangs angibt, das erste Speichersystem dazu ausgelegt ist, den Einstellvorgang, der Gegenstand der Steueranfrage ist, auszuf√ºhren, anderenfalls das erste Speichersystem dazu ausgelegt ist, die Steueranfrage f√ºr den Einstellvorgang zur√ºckzuweisen.</claim-text></claim-text></claim-text></claim><claim id="c-de-01-0002" num="0002"><claim-text>Computersystem nach Anspruch 1, wobei das zweite Speichersystem (201) bei Empfang einer Steueranfrage f√ºr einen Einstellvorgang von dem zweiten Verwaltungscomputer (501) dazu ausgelegt ist:
<claim-text>die zweiten Hierarchieinformationen (246) anhand der Steueranfrage zu aktualisieren; und</claim-text>
<claim-text>zugestellte Informationen, die die √Ñnderung der Korrespondenz zwischen den ersten Speicherbereichen (112) und den zweiten Speicherbereichen (211-213) angeben, an das erste Speichersystem (101) zu √ºbertragen, und</claim-text>
<claim-text>wobei das erste Speichersystem (101) dazu ausgelegt ist, bei Empfang der zugestellten Informationen die ersten Hierarchieinformationen (146) anhand der zugestellten Informationen zu aktualisieren.</claim-text><!-- EPO <DP n="69"> --></claim-text></claim><claim id="c-de-01-0003" num="0003"><claim-text>Computersystem nach Anspruch 1, wobei die ersten Hierarchieinformationen (146) zu jedem der mehreren ersten Speicherbereiche (111-113) zugewiesene Level-Attributinformationen enth√§lt, und<br/>
wobei das erste Speichersystem (101) dazu ausgelegt ist, bei Feststellen, dass der gegebene erste Speicherbereich (111-113) einem der zweiten Speicherbereiche (211-213) entspricht, auf die Level-Attributinformationen der ersten Hierarchieinformationen zuzugreifen, w√§hrend bei einem Feststellen, dass der gegebene erste Speicherbereiche (111-113) keine Genehmigung des zweiten Verwalters von dem zweiten Speichersystem (101, 201) erfordert, die Steueranfrage auszuf√ºhren.</claim-text></claim><claim id="c-de-01-0004" num="0004"><claim-text>Computersystem nach Anspruch 1, wobei das erste Speichersystem (101) Autorisier-Definitionsinformationen zum Einstellen der Korrespondenz zwischen einem Typ der von dem ersten Verwaltungscomputer (601) empfangenen Steueranfrage und einer den mehreren ersten Verwaltern erteilten Vorgangsautorisation aufweist, um den ersten Verwaltungscomputer (601) zu betreiben, und<br/>
wobei das erste Speichersystem (101) dazu ausgelegt ist, vor einem Ausf√ºhren der durch den ersten Verwaltungscomputer (601) empfangenen Steueranfrage auf die Autorisier-Definitionsinformationen zuzugreifen und feststellen, ob der erste Verwalter autorisiert ist, einen in der Steueranfrage f√ºr den gegebenen ersten Speicherbereich (111-113) enthaltenen Vorgang durchzuf√ºhren, und bei Feststellen, dass der erste Verwalter so autorisiert ist, die Steueranfrage auszuf√ºhren.</claim-text></claim><claim id="c-de-01-0005" num="0005"><claim-text>Computersystem nach Anspruch 1, wobei das zweite Speichersystem (201) dazu ausgelegt ist, bei Empfang einer Steueranfrage von dem zweiten Verwaltungscomputer (501) die Korrespondenz eines anderen ersten Speicherbereichs (111-113) der mehreren ersten Speicherbereiche (111-113) in dem ersten Speichersystem (101) auf einen anderen zweiten Speicherbereich (211-213) in dem zweiten Speichersystem (201) einzustellen,<!-- EPO <DP n="70"> --> Einstellanweisungen an das erste Speichersystem (101) zu √ºbertragen, um die Korrespondenz von dem anderen ersten Speicherbereich (111-113) auf den anderen zweiten Speicherbereich (211-213) in dem zweiten Speichersystem (201) einzustellen, und<br/>
wobei das erste Speichersystem (101) dazu ausgelegt ist, die ersten Hierarchieinformationen anhand der Einstellanweisungen zu aktualisieren.</claim-text></claim><claim id="c-de-01-0006" num="0006"><claim-text>Zugriffssteuerverfahren f√ºr ein Computersystem, wobei das Computersystem umfasst: einen Computer (301-304), ein erstes Speichersystem (101, 201) mit durch den Computer (301-304) verwendeten mehreren ersten Speicherbereichen (111-113), ein zweites Speichersystem (201), das mit dem ersten Speichersystem (101) und dem Computer (301-304) verbunden ist, wobei das zweite Speichersystem mehrere zweite Speicherbereiche (211-213) enth√§lt, die dem Computer (301-304) zur Verf√ºgung stehen, wobei der zweite Speicherbereich einen virtuellen Speicherbereich (213) enth√§lt, wobei der virtuelle Speicherbereich mit einem der ersten Speicherbereiche (112) verkn√ºpft ist, sodass der eine verkn√ºpfte der ersten Speicherbereiche dem Computer als der virtuelle Speicherbereich erscheint mit dem er verkn√ºpft ist, einen ersten Verwaltungscomputer (601), der mit dem ersten Speichersystem (101) und mit in dem ersten Speichersystem gespeicherten Daten verbunden ist, und einen zweiten Verwaltungscomputer (501), der mit dem zweiten Speichersystem (201) verbunden ist und das zweite Speichersystem sowie die in dem virtuellen Speicherbereich (213) gespeicherten Daten steuert, wobei das Verfahren <b>dadurch gekennzeichnet ist, dass</b>:
<claim-text>in dem ersten Speichersystem (101) erste Hierarchieinformationen (146), die eine Korrespondenz zwischen den ersten Speicherbereichen (112) und den zweiten Speicherbereichen (211-213) angeben, und Verwalter-Identifizierinformationen gespeichert werden, die in Form von Korrespondenz zwischen mehreren ersten Verwaltern des ersten Verwaltungscomputers<!-- EPO <DP n="71"> --> (601) und mindestens einer Vorgangsautorisation, die den mehreren der ersten Verwalter erteilt wurde, registriert sind;</claim-text>
<claim-text>in dem zweiten Speichersystem (201) zweite Hierarchieinformationen (246) gespeichert werden, die eine Korrespondenz zwischen den zweiten Speicherbereichen (211-213) und den ersten Speicherbereichen (111-113) angeben;</claim-text>
<claim-text>der erste Verwaltungscomputer (601) Identifizierinformationen eines ersten Verwalters zum Verwalten des ersten Speichersystems (101) und eine Steueranfrage f√ºr einen Einstellvorgang f√ºr einen gegebenen ersten Speicherbereich (111-113) der mehreren ersten Speicherbereiche (111-113) an das erste Speichersystem √ºbertr√§gt, wobei der Einstellvorgang ein Vorgang zum √Ñndern der Korrespondenz zwischen einem ersten Speicherbereich und einem zweiten Speicherbereich ist;</claim-text>
<claim-text>das erste Speichersystem (101) die Identifizierinformationen des ersten Verwalters und die Steueranfrage von dem ersten Verwaltungscomputer (601) empf√§ngt;</claim-text>
<claim-text>bei Empfangen der Identifizierinformationen und der Steueranfrage von dem ersten Verwaltungscomputer (601) festgestellt wird, ob der mit den empfangenen Identifizierinformationen verkn√ºpfte erste Verwalter in den Verwalter-Identifizierinformationen registriert ist oder nicht,</claim-text>
<claim-text>und, wenn der erste Verwalter nicht registriert ist, das erste Speichersystem (101) eine Anweisung an den ersten Verwaltungscomputer (601) √ºbermittelt, um die Steueranfrage zur√ºckzuweisen,</claim-text>
<claim-text>jedoch, wenn der erste Verwalter registriert ist, dann das erste Speichersystem feststellt, ob der gegebene erste Speicherbereich anhand der ersten Hierarchieinformationen einem der zweiten Speicherbereiche (211-213) entspricht,</claim-text>
<claim-text>und bei Feststellen, dass der gegebene erste Speicherbereich einem zweiten Speicherbereich (211-213) entspricht, aber nicht mit dem virtuellen Speicherbereich (213) verkn√ºpft ist, dann der Einstellvorgang ausgef√ºhrt wird,</claim-text>
<claim-text>wobei, falls anhand der ersten Hierarchieinformationen (146) festgestellt wird, dass der gegebene erste Speicherbereich mit dem virtuellen Speicherbereich (213) verkn√ºpft ist,<!-- EPO <DP n="72"> --> dann eine Genehmigungsanfrage an das zweite Speichersystem (201) √ºbertragen wird, um eine Genehmigung zum Ausf√ºhren des Einstellvorgangs, der Gegenstand der Steueranfrage ist, anzufragen, wenn festgestellt wird, dass der gegebene erste Speicherbereich (111-113) mit dem virtuellen Speicherbereich (213) verkn√ºpft ist;</claim-text>
<claim-text>das zweite Speichersystem (201) die Genehmigungsanfrage empf√§ngt und die Genehmigungsanfrage an den zweiten Verwaltungscomputer (501) √ºbertr√§gt, um einen zweiten Verwalter, der eine Genehmigungsfunktion hat, anzufragen, die Ausf√ºhrung des Einstellvorgangs zu genehmigen;</claim-text>
<claim-text>der zweite Verwaltungscomputer eine Antwort auf die Genehmigungsanfrage an das zweite Speichersystem √ºbertr√§gt, wobei die Antwort enth√§lt, ob eine Ausf√ºhrung des Einstellvorgangs genehmigt ist oder nicht;</claim-text>
<claim-text>und das erste Speichersystem (101) von dem zweiten Speichersystem die Antwort auf die Genehmigungsanfrage empf√§ngt und, falls die Antwort eine Genehmigung des Einstellvorgangs angibt, das erste Speichersystem dann den Einstellvorgang ausf√ºhrt, der Gegenstand der Steueranfrage ist, anderenfalls das erste Speichersystem die Steueranfrage f√ºr den Einstellvorgang zur√ºckweist.</claim-text></claim-text></claim></claims><claims mxw-id="PCLM56979561" lang="EN" load-source="patent-office"><!-- EPO <DP n="61"> --><claim id="c-en-01-0001" num="0001"><claim-text>A computer system comprising:
<claim-text>a computer (301-304);</claim-text>
<claim-text>a first storage system (101) having a plurality of first storage areas (111-113) for storing the data used by the computer (301-304); and</claim-text>
<claim-text>a second storage system (201) connected to the first storage system (101) and the computer (301-304), the second storage system including a plurality of second storage areas (211-213) supplied to the computer (301-304), the second storage areas including a virtual storage area (213), the virtual storage area being associated with one of the first storage areas (112) such that to the computer the associated one of the first storage areas appears to be the virtual storage area with which it is associated,</claim-text>
<claim-text>the computer system further comprises:
<claim-text>a first management computer (601) connected to the first storage system and controlling the first storage system and data stored in the first storage areas; and</claim-text>
<claim-text>a second management computer (501) connected to the second storage system (201) and controlling the second storage system and the data stored in the virtual storage area (213);</claim-text></claim-text>
<claim-text>and <b>characterized in that</b>:
<claim-text>the first storage system is arranged to store first hierarchy information (146) that indicates a correspondence between the first storage areas (111-113) and the second storage areas (211-213), and the first storage system (101) having manager identification information, registered in the form of correspondence between a plurality of first managers of the first management computer (601) and at least one operational authorization granted to the plurality of the first managers;</claim-text>
<claim-text>the second storage system is arranged to store second hierarchy information (246) that indicates a correspondence between the second storage areas (211-213) and the first storage areas (111-113);</claim-text>
<claim-text>the first management computer (601) is arranged to transmit identification information of a first manager managing the first storage system (101) and a control request for a setting operation to a given first storage area (111-113) of the first storage areas (111-113) to the first storage system, the setting operation being an operation to change the correspondence between a first storage area and a second storage area;</claim-text>
<claim-text>the first storage system (101) is arranged to determine, upon receipt of the identification information and control request from the first management computer (601),<!-- EPO <DP n="62"> --> whether the first manager associated with the received identification information is registered in the manager identification information or not,</claim-text>
<claim-text>and, when the first manager is not registered, the first storage system (101) is arranged to transmit an instruction to the first management computer (601) to reject the control request,</claim-text>
<claim-text>but, when the first manager is registered, then the first storage system is arranged to determine whether the given first storage area corresponds to one of the second storage areas (211-213) based on the first hierarchy information, and upon determination that the given first storage area corresponds to a second storage area (211-213), but is not associated with the virtual storage area (213), then to execute the setting operation,</claim-text>
<claim-text>wherein if the given first storage area is determined to be associated with the virtual storage area (213) based on the first hierarchy information, then the first storage system (101) is arranged to transmit an approval request to the second storage system (201) to request approval to execute the setting operation which is the subject of the control request;</claim-text>
<claim-text>the second storage system (201) is arranged to receive the approval request, and to transmit the approval request to the second management computer (501) to request a second manager having an approval role to approve the execution of the setting operation;</claim-text>
<claim-text>the second management computer is arranged to transmit to the second storage system a response to the approval request, the response indicating whether or not execution of the setting operation is approved;</claim-text>
<claim-text>the first storage system (101) is arranged to receive the response from the second storage system, and if the response indicates approval of the setting operation, the first storage system is arranged to execute the setting operation which is the subject of the control request, otherwise the first storage system is arranged to reject the control request for the setting operation.</claim-text></claim-text></claim-text></claim><claim id="c-en-01-0002" num="0002"><claim-text>The computer system according to Claim 1, wherein the second storage system (201), upon receipt of a control request for a setting operation from the second management computer (501), is arranged to:
<claim-text>update the second hierarchy information (246) based on the control request; and</claim-text>
<claim-text>transmit notified information that indicates the change of the correspondence between the first storage areas (112) and the second storage areas (211-213) to the first storage system (101), and</claim-text>
<claim-text>wherein the first storage system (101) is arranged to, upon receipt of the notified<!-- EPO <DP n="63"> --> information, update the first hierarchy information (146) based on the notified information.</claim-text></claim-text></claim><claim id="c-en-01-0003" num="0003"><claim-text>The computer system according to Claim 1, wherein the first hierarchy information (146) includes level attribute information assigned to each of the plurality of first storage areas (111-113), and<br/>
wherein the first storage system (101) is arranged to acdcess, upon determination that the given first storage area (111-113) corresponds to one of the second storage areas (211-213), the level attribute information of the first hierarchy information, while upon determination that the given first storage area (111-113) requires no approval of the second manager of the second storage system (101,201), process the control request.</claim-text></claim><claim id="c-en-01-0004" num="0004"><claim-text>The computer system according to Claim 1, wherein the first storage system (101) has authorization definition information for setting the correspondence between a type of the control request received from the first management computer (601) and an operational authorization granted to the plurality of first managers to operate the first management computer (601), and<br/>
wherein the first storage system (101) is arranged to, before executing the control request received by the first management computer (601), access the authorization definition information and determine whether the first manager is authorized to perform an operation included in the control request for the given first storage area (111-113), and upon determination that the first manager is so authorized, execute the control request.</claim-text></claim><claim id="c-en-01-0005" num="0005"><claim-text>The computer system according to Claim 1, wherein the second storage system (201) is arranged to, upon receipt of a control request from the second management computer (501) to set the correspondence of another first storage area (111-113) of the plurality of first storage areas (111-113) in the first storage system (101) to another second storage area (211-213) in the second storage system (201), transmit a setting instruction to the first storage system (101) to set the correspondence of the another first storage area (111-113) to the another second storage area (211-213) in the second storage system (201), and<br/>
wherein the first storage system (101) is arranged to update the first hierarchy information based on the setting instruction.</claim-text></claim><claim id="c-en-01-0006" num="0006"><claim-text>An access control method for a computer system, the computer system including a computer (301-304), a first storage system (101,201) having a plurality of first storage areas (111-113) used by the computer (301-304), a second storage system (201) connected to the first storage system (101) and the computer (301-304), the second storage system including<!-- EPO <DP n="64"> --> a plurality of second storage area (211-213) supplied to the computer (301-304), the second storage area including a virtual storage area (213), the virtual storage area being associated with one of the first storage areas (112) such that to the computer the associated one of the first storage areas appears to be the virtual storage area with which it is associated, a first management computer (601) connected to the first management computer (601) connected to the first storage system (101) and data stored in the first storage system, and a second management computer (501) connected to the second storage system (201) and controlling the second storage system and the data stored in the virtual storage area (213), the method <b>characterized in</b> comprising the steps of:
<claim-text>storing, in the first storage system (101), a first hierarchy information (146) that indicates a correspondence between the first storage areas (112) and the second storage areas (211-213), and manager identification information, registered in the form of correspondence between a plurality of first managers of the first management computer (601) and at least one operational authorization granted to the plurality of the first managers;</claim-text>
<claim-text>storing, in the second storage system (201), a second hierarchy information (246) that indicates a correspondence between the second storage areas (211-213) and the first storage areas (111-113);</claim-text>
<claim-text>the first management computer (601) transmitting identification information of a first manager for managing the first storage system (101) and a control request for a setting operation to a given first storage area (111-113) of the plurality of first storage areas (111-113) to the first storage system, the setting operation being an operation to change the correspondence between a first storage area and a second storage area;</claim-text>
<claim-text>the first storage system (101) receiving the identification information of the first manager and the control request from the first management computer (601);</claim-text>
<claim-text>determining, upon receipt of the identification information and control request from the first management computer (601), whether the first manager associated with the received identification information is registered in the manager identification information or not,</claim-text>
<claim-text>and, when the first manager is not registered, the first storage system (101) transmitting an instruction to the first management computer (601) to reject the control request,</claim-text>
<claim-text>but, when the first manager is registered, then the first storage system determining whether the given first storage area corresponds to one of the second storage areas (211-213) based on the first hierarchy information,</claim-text>
<claim-text>and, upon determination that the given first storage area corresponds to a second<!-- EPO <DP n="65"> --> storage area (211-213), but is not associated with the virtual storage area (213), then executing the setting operation,</claim-text>
<claim-text>wherein if it is determined that the given first storage area, is associated with the virtual storage area (213), based on the first hierarchy information (146) then transmitting an approval request to the second storage system (201) to request approval to execute the setting operation which is the subject of the control request when the given first storage area (111-113) is determined to be associated with the virtual storage area (213);</claim-text>
<claim-text>the second storage system (201) receiving the approval request, and transmitting the approval request to the second management computer (501) to request a second manager having an approval role to approve the execution of the setting operation;</claim-text>
<claim-text>the second management computer transmitting to the second storage system a response to the approval request, the response indicating whether or not execution of the setting operation is approved;</claim-text>
<claim-text>and the first storage system (101) receiving from the second storage system the response to the approval request and if the response indicates approval of the setting operation then the first storage system executing the setting operation which is the subject of the control request, otherwise the first storage system rejects the control request for the setting operation..</claim-text></claim-text></claim></claims><claims mxw-id="PCLM56979562" lang="FR" load-source="patent-office"><!-- EPO <DP n="73"> --><claim id="c-fr-01-0001" num="0001"><claim-text>Syst√®me informatique comportant :
<claim-text>un ordinateur (301 - 304),</claim-text>
<claim-text>un premier syst√®me de m√©morisation (101) ayant une pluralit√© de premi√®res zones de m√©morisation (111 - 113) pour m√©moriser des donn√©es utilis√©es par l'ordinateur (301 - 304), et</claim-text>
<claim-text>un second syst√®me de m√©morisation (201) reli√© au premier syst√®me de m√©morisation (101) et √† l'ordinateur (301 - 304), le second syst√®me de m√©morisation comprenant une pluralit√© de secondes zones de m√©morisation (211 - 213) fournies √† l'ordinateur (301 - 304), les secondes zones de m√©morisation comprenant une zone de m√©morisation virtuelle (213), la zone de m√©morisation virtuelle √©tant associ√©e √† l'une des premi√®res zones de m√©morisation (112) de sorte que pour l'ordinateur, la zone associ√©e parmi les premi√®res zones de m√©morisation appara√Æt comme √©tant la zone de m√©morisation virtuelle avec laquelle il est associ√©,</claim-text>
<claim-text>le syst√®me informatique comporte en outre :
<claim-text>un premier ordinateur de gestion (601) reli√© au premier syst√®me de m√©morisation et commandant le premier syst√®me de m√©morisation et des donn√©es m√©moris√©es dans les premi√®res zones de m√©morisation, et</claim-text>
<claim-text>un second ordinateur de gestion (501) reli√© au second syst√®me de m√©morisation (201) et commandant le second syst√®me de m√©morisation et les donn√©es m√©moris√©es dans la zone de m√©morisation virtuelle (213),</claim-text></claim-text>
<claim-text>et <b>caract√©ris√© en ce que</b> :
<claim-text>le premier syst√®me de m√©morisation est con√ßu pour m√©moriser des premi√®res informations de hi√©rarchie (146) qui indiquent une correspondance entre les premi√®res zones de m√©morisation (111 - 113) et les secondes zones de m√©morisation (211 - 213), et le premier syst√®me de m√©morisation (101) ayant des informations d'identification<!-- EPO <DP n="74"> --> de gestionnaire, enregistr√©es sous la forme d'une correspondance entre une pluralit√© de premiers gestionnaires du premier ordinateur de gestion (601) et au moins une autorisation op√©rationnelle octroy√©e √† la pluralit√© des premiers gestionnaires,</claim-text>
<claim-text>le second syst√®me de m√©morisation est con√ßu pour m√©moriser des secondes informations de hi√©rarchie (246) qui indiquent une correspondance entre les secondes zones de m√©morisation (211 - 213) et les premi√®res zones de m√©morisation (111 - 113),</claim-text>
<claim-text>le premier ordinateur de gestion (601) est con√ßu pour transmettre des informations d'identification d'un premier gestionnaire g√©rant le premier syst√®me de m√©morisation (101) et une demande de commande pour une op√©ration d'√©tablissement dans une premi√®re zone de m√©morisation donn√©e (111 - 113) parmi les premi√®res zones de m√©morisation (111 - 113) dans le premier syst√®me de m√©morisation, l'op√©ration d'√©tablissement √©tant une op√©ration pour changer la correspondance entre une premi√®re zone de m√©morisation et une seconde zone de m√©morisation,</claim-text>
<claim-text>le premier syst√®me de m√©morisation (101) est con√ßu pour d√©terminer, √† la r√©ception des informations d'identification et d'une demande de commande en provenance du premier ordinateur de gestion (601), si le premier gestionnaire associ√© aux informations d'identification re√ßues est oui ou non enregistr√© dans les informations d'identification de gestionnaire,</claim-text>
<claim-text>et, lorsque le premier gestionnaire n'est pas enregistr√©, le premier syst√®me de m√©morisation (101) est con√ßu pour transmettre une instruction au premier ordinateur de gestion (601) pour rejeter la demande de commande,</claim-text>
<claim-text>mais, lorsque le premier gestionnaire est enregistr√©, alors le premier syst√®me de m√©morisation est con√ßu pour d√©terminer si la premi√®re zone de m√©morisation<!-- EPO <DP n="75"> --> donn√©e correspond √† l'une des secondes zones de m√©morisation (211 - 213) sur la base des premi√®res informations de hi√©rarchie, et lorsqu'il est d√©termin√© que la premi√®re zone de m√©morisation donn√©e correspond √† une seconde zone de m√©morisation (211 - 213), mais n'est pas associ√©e √† la zone de m√©morisation virtuelle (213), alors ex√©cuter l'op√©ration d'√©tablissement,</claim-text>
<claim-text>dans lequel si la premi√®re zone de m√©morisation donn√©e est d√©termin√©e comme √©tant associ√©e √† la zone de m√©morisation virtuelle (213) sur la base des premi√®res informations de hi√©rarchie, alors le premier syst√®me de m√©morisation (101) est con√ßu pour transmettre une demande d'autorisation au second syst√®me de m√©morisation (201) pour demander l'autorisation d'ex√©cuter l'op√©ration d'√©tablissement qui fait l'objet de la demande de commande,</claim-text>
<claim-text>le second syst√®me de m√©morisation (201) est con√ßu pour recevoir la demande d'autorisation, et pour transmettre la demande d'autorisation au second ordinateur de gestion (501) pour demander √† un second gestionnaire ayant un r√¥le d'autorisation d'autoriser l'ex√©cution de l'op√©ration d'√©tablissement,</claim-text>
<claim-text>le second ordinateur de gestion est con√ßu pour transmettre au second syst√®me de m√©morisation une r√©ponse √† la demande d'autorisation, la r√©ponse indiquant si oui ou non l'ex√©cution de l'op√©ration d'√©tablissement est autoris√©e,</claim-text>
<claim-text>le premier syst√®me de m√©morisation (101) est con√ßu pour recevoir la r√©ponse en provenance du second syst√®me de m√©morisation, et si la r√©ponse indique l'autorisation de l'op√©ration d'√©tablissement, le premier syst√®me de m√©morisation est con√ßu pour ex√©cuter l'op√©ration d'√©tablissement qui fait l'objet de la demande de commande, sinon le premier syst√®me de m√©morisation est con√ßu<!-- EPO <DP n="76"> --> pour rejeter la demande de commande pour l'op√©ration d'√©tablissement</claim-text></claim-text></claim-text></claim><claim id="c-fr-01-0002" num="0002"><claim-text>Syst√®me informatique selon la revendication 1, dans lequel le second syst√®me de m√©morisation (201), √† la r√©ception d'une demande de commande pour une op√©ration d'√©tablissement en provenance du second ordinateur de gestion (501), est con√ßu pour :
<claim-text>mettre √† jour les secondes informations de hi√©rarchie (246) sur la base de la demande de commande, et</claim-text>
<claim-text>transmettre des informations notifi√©es qui indiquent le changement de la correspondance entre les premi√®res zones de m√©morisation (112) et les secondes zones de m√©morisation (211 - 213) au premier syst√®me de m√©morisation (101), et</claim-text>
<claim-text>dans lequel le premier syst√®me de m√©morisation (101) est con√ßu pour, √† la r√©ception des informations notifi√©es, mettre √† jour les premi√®res informations de hi√©rarchie (146) sur la base des informations notifi√©es.</claim-text></claim-text></claim><claim id="c-fr-01-0003" num="0003"><claim-text>Syst√®me informatique selon la revendication 1, dans lequel les premi√®res informations de hi√©rarchie (146) comprennent des informations d'attribut de niveau attribu√©es √† chaque zone parmi la pluralit√© de premi√®res zones de m√©morisation (111 - 113), et<br/>
dans lequel le premier syst√®me de m√©morisation (101) est con√ßu pour acc√©der, lorsqu'il est d√©termin√© que la premi√®re zone de m√©morisation donn√©e (111 - 113) correspond √† l'une des secondes zones de m√©morisation (211 - 213), aux informations d'attribut de niveau des premi√®res informations de hi√©rarchie, alors que lorsqu'il est d√©termin√© que la premi√®re zone de m√©morisation donn√©e (111 - 113) ne n√©cessite pas d'autorisation du second gestionnaire du second syst√®me de m√©morisation (101,201), il est con√ßu pour traiter la demande de commande.</claim-text></claim><claim id="c-fr-01-0004" num="0004"><claim-text>Syst√®me informatique selon la revendication 1, dans lequel le premier syst√®me de m√©morisation (101) a<!-- EPO <DP n="77"> --> des informations de d√©finition d'autorisation pour √©tablir la correspondance entre un type de la demande de commande re√ßue en provenance du premier ordinateur de gestion (601) et une autorisation op√©rationnelle octroy√©e √† la pluralit√© de premiers gestionnaires pour mettre en fonctionnement le premier ordinateur de gestion (601), et<br/>
dans lequel le premier syst√®me de m√©morisation (101) est con√ßu pour, avant d'ex√©cuter la demande de commande re√ßue par le premier ordinateur de gestion (601), acc√©der aux informations de d√©finition d'autorisation et d√©terminer si le premier gestionnaire est autoris√© √† ex√©cuter une op√©ration comprise dans la demande de commande pour la premi√®re zone de m√©morisation donn√©e (111 - 113), et lorsqu'il est d√©termin√© que le premier gestionnaire est ainsi autoris√©, ex√©cuter la demande de commande.</claim-text></claim><claim id="c-fr-01-0005" num="0005"><claim-text>Syst√®me informatique selon la revendication 1, dans lequel le second syst√®me de m√©morisation (201) est con√ßu pour, √† la r√©ception d'une demande de commande en provenance du second ordinateur de gestion (501), √©tablir la correspondance d'une autre premi√®re zone de m√©morisation (111 - 113) parmi la pluralit√© de premi√®res zones de m√©morisation (111 - 113) dans le premier syst√®me de m√©morisation (101) avec une autre seconde zone de m√©morisation (211 - 213) dans le second syst√®me de m√©morisation (201), transmettre une instruction d'√©tablissement au premier syst√®me de m√©morisation (101) pour √©tablir la correspondance de l'autre premi√®re zone de m√©morisation (111 - 113) avec l'autre seconde zone de m√©morisation (211 - 213) dans le second syst√®me de m√©morisation (201), et<br/>
dans lequel le premier syst√®me de m√©morisation (101) est con√ßu pour mettre √† jour les premi√®res informations de hi√©rarchie sur la base de l'instruction d'√©tablissement.<!-- EPO <DP n="78"> --></claim-text></claim><claim id="c-fr-01-0006" num="0006"><claim-text>Proc√©d√© de commande d'acc√®s pour un syst√®me informatique, le syst√®me informatique comprenant un ordinateur (301 - 304), un premier syst√®me de m√©morisation (101, 201) ayant une pluralit√© de premi√®res zones de m√©morisation (111 - 113) utilis√©es par l'ordinateur (301 - 304), un second syst√®me de m√©morisation (201) reli√© au premier syst√®me de m√©morisation (101) et √† l'ordinateur (301 - 304), le second syst√®me de m√©morisation comprenant une pluralit√© de secondes zones de m√©morisation (211 - 213) fournies √† l'ordinateur (301 - 304), la seconde zone de m√©morisation comprenant une zone de m√©morisation virtuelle (213), la zone de m√©morisation virtuelle √©tant associ√©e √† l'une des premi√®res zones de m√©morisation (112), de sorte que pour l'ordinateur, la zone associ√©e parmi les premi√®res zones de m√©morisation appara√Æt comme √©tant la zone de m√©morisation virtuelle avec laquelle il est associ√©, un premier ordinateur de gestion (601) reli√© au premier ordinateur de gestion (601) reli√© au premier syst√®me de m√©morisation (101) et des donn√©es m√©moris√©es dans le premier syst√®me de m√©morisation, et un second ordinateur de gestion (501) reli√© au second syst√®me de m√©morisation (201) et commandant le second syst√®me de m√©morisation et les donn√©es m√©moris√©es dans la zone de m√©morisation virtuelle (213), le proc√©d√© √©tant <b>caract√©ris√© en ce qu'</b>il comporte les √©tapes consistant √† :
<claim-text>m√©moriser, dans le premier syst√®me de m√©morisation (101), des premi√®res informations de hi√©rarchie (146) qui indiquent une correspondance entre les premi√®res zones de m√©morisation (112) et les secondes zones de m√©morisation (211 - 213), et des informations d'identification de gestionnaire, enregistr√©es sous la forme d'une correspondance entre une pluralit√© de premiers gestionnaires du premier ordinateur de gestion (601) et au moins une autorisation op√©rationnelle octroy√©e √† la pluralit√© des premiers gestionnaires,<!-- EPO <DP n="79"> --></claim-text>
<claim-text>m√©moriser, dans le second syst√®me de m√©morisation (201), des secondes informations de hi√©rarchie (246) qui indiquent une correspondance entre les secondes zones de m√©morisation (211 - 213) et les premi√®res zones de m√©morisation (111 - 113),</claim-text>
<claim-text>le premier ordinateur de gestion (601) transmettant des informations d'identification d'un premier gestionnaire pour g√©rer le premier syst√®me de m√©morisation (101) et une demande de commande pour une op√©ration d'√©tablissement dans une premi√®re zone de m√©morisation donn√©e (111 - 113) parmi la pluralit√© de premi√®res zones de m√©morisation (111 - 113) dans le premier syst√®me de m√©morisation, l'op√©ration d'√©tablissement √©tant une op√©ration pour changer la correspondance entre une premi√®re zone de m√©morisation et une seconde zone de m√©morisation,</claim-text>
<claim-text>le premier syst√®me de m√©morisation (101) recevant les informations d'identification du premier gestionnaire et la demande de commande en provenance du premier ordinateur de gestion (601),</claim-text>
<claim-text>d√©terminer, √† la r√©ception des informations d'identification et de la demande de commande en provenance du premier ordinateur de gestion (601), si le premier gestionnaire associ√© aux informations d'identification re√ßues est oui ou non enregistr√© dans les informations d'identification de gestionnaire,</claim-text>
<claim-text>et, lorsque le premier gestionnaire n'est pas enregistr√©, le premier syst√®me de m√©morisation (101) transmettant une instruction au premier ordinateur de gestion (601) pour rejeter la demande de commande,</claim-text>
<claim-text>mais lorsque le premier gestionnaire est enregistr√©, alors le premier syst√®me de m√©morisation d√©terminant si la premi√®re zone de m√©morisation donn√©e correspond √† l'une des secondes zones de m√©morisation (211 - 213) sur la base des premi√®res informations de hi√©rarchie,<!-- EPO <DP n="80"> --></claim-text>
<claim-text>et, lorsqu'il est d√©termin√© que la premi√®re zone de m√©morisation donn√©e correspond √† une seconde zone de m√©morisation (211 - 213), mais n'est pas associ√©e √† la zone de m√©morisation virtuelle (213), alors ex√©cuter l'op√©ration d'√©tablissement,</claim-text>
<claim-text>dans lequel si il est d√©termin√© que la premi√®re zone de m√©morisation donn√©e, est associ√©e √† la zone de m√©morisation virtuelle (213), sur la base des premi√®res informations de hi√©rarchie (146), alors transmettre une demande d'autorisation au second syst√®me de m√©morisation (201) pour demander l'autorisation d'ex√©cuter l'op√©ration d'√©tablissement qui fait l'objet de la demande de commande lorsque la premi√®re zone de m√©morisation donn√©e (111 - 113) est d√©termin√©e comme √©tant associ√©e √† la zone de m√©morisation virtuelle (213),</claim-text>
<claim-text>le second syst√®me de m√©morisation (201) recevant la demande d'autorisation, et transmettant la demande d'autorisation au second ordinateur de gestion (501) pour demander √† un second gestionnaire ayant un r√¥le d'autorisation d'autoriser l'ex√©cution de l'op√©ration d'√©tablissement,</claim-text>
<claim-text>le second ordinateur de gestion transmettant au second syst√®me de m√©morisation une r√©ponse √† la demande d'autorisation, la r√©ponse indiquant si oui ou non l'ex√©cution de l'op√©ration d'√©tablissement est autoris√©e,</claim-text>
<claim-text>et le premier syst√®me de m√©morisation (101) recevant en provenance du second syst√®me de m√©morisation la r√©ponse √† la demande d'autorisation et, si la r√©ponse indique l'autorisation de l'op√©ration d'√©tablissement, alors le premier syst√®me de m√©morisation ex√©cutant l'op√©ration d'√©tablissement qui fait l'objet de la demande de commande, sinon le premier syst√®me de m√©morisation rejette la demande de commande pour l'op√©ration d'√©tablissement.</claim-text></claim-text></claim></claims><drawings mxw-id="PDW16668902" load-source="patent-office"><!-- EPO <DP n="81"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="165" he="173" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="82"> --><figure id="f0002" num="2"><img id="if0002" file="imgf0002.tif" wi="165" he="220" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="83"> --><figure id="f0003" num="3A,3B"><img id="if0003" file="imgf0003.tif" wi="132" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="84"> --><figure id="f0004" num="4A,4B,5"><img id="if0004" file="imgf0004.tif" wi="144" he="209" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="85"> --><figure id="f0005" num="6A,6B"><img id="if0005" file="imgf0005.tif" wi="143" he="230" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="86"> --><figure id="f0006" num="7A,7B"><img id="if0006" file="imgf0006.tif" wi="165" he="205" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="87"> --><figure id="f0007" num="8,9"><img id="if0007" file="imgf0007.tif" wi="125" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="88"> --><figure id="f0008" num="10"><img id="if0008" file="imgf0008.tif" wi="165" he="229" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="89"> --><figure id="f0009" num="11"><img id="if0009" file="imgf0009.tif" wi="163" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="90"> --><figure id="f0010" num="12"><img id="if0010" file="imgf0010.tif" wi="146" he="100" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="91"> --><figure id="f0011" num="13"><img id="if0011" file="imgf0011.tif" wi="165" he="220" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="92"> --><figure id="f0012" num="14A"><img id="if0012" file="imgf0012.tif" wi="142" he="178" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="93"> --><figure id="f0013" num="14B,15"><img id="if0013" file="imgf0013.tif" wi="140" he="199" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="94"> --><figure id="f0014" num="16"><img id="if0014" file="imgf0014.tif" wi="165" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="95"> --><figure id="f0015" num="17"><img id="if0015" file="imgf0015.tif" wi="165" he="233" img-content="drawing" img-format="tif"/></figure></drawings><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
