<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-1528735-B1" country="EP" doc-number="1528735" kind="B1" date="20140101" family-id="34422249" file-reference-id="299934" date-produced="20180822" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146553874" ucid="EP-1528735-B1"><document-id><country>EP</country><doc-number>1528735</doc-number><kind>B1</kind><date>20140101</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-04300665-A" is-representative="YES"><document-id mxw-id="PAPP154827797" load-source="docdb" format="epo"><country>EP</country><doc-number>04300665</doc-number><kind>A</kind><date>20041008</date><lang>EN</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140449841" ucid="US-68123803-A" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>68123803</doc-number><kind>A</kind><date>20031009</date></document-id></priority-claim></priority-claims><dates-of-public-availability><intention-to-grant-date><date>20130812</date></intention-to-grant-date></dates-of-public-availability><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1988118477" load-source="ipcr">H04L  12/56        20060101A I20051008RMEP        </classification-ipcr><classification-ipcr mxw-id="PCL1988124765" load-source="ipcr">G06F  11/20        20060101AFI20130723BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1988137974" load-source="ipcr">H04L  12/70        20130101ALI20130723BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL1988906475" load-source="docdb" scheme="CPC">H04L  45/22        20130101 LI20140103BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988907271" load-source="docdb" scheme="CPC">H04L  45/00        20130101 LI20140103BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988907459" load-source="docdb" scheme="CPC">H04L  49/557       20130101 LI20140103BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988909124" load-source="docdb" scheme="CPC">H04L  45/60        20130101 LI20140103BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988909409" load-source="docdb" scheme="CPC">H04L  45/28        20130101 LI20140103BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988909500" load-source="docdb" scheme="CPC">H04L  45/586       20130101 LI20140103BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988912350" load-source="docdb" scheme="CPC">G06F  11/2097      20130101 LI20140103BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988912985" load-source="docdb" scheme="CPC">H04L  43/0817      20130101 LI20140103BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988913907" load-source="docdb" scheme="CPC">H04L  45/50        20130101 LI20140103BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988914375" load-source="docdb" scheme="CPC">G06F  11/1675      20130101 LA20140103BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988918295" load-source="docdb" scheme="CPC">G06F  11/2038      20130101 FI20140103BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132194106" lang="DE" load-source="patent-office">Hochverfügbarkeit von Betriebsmitteln in einem Telekommunikationsnetz durch synchronisierte Redundanz</invention-title><invention-title mxw-id="PT132194107" lang="EN" load-source="patent-office">High availability of recources in telecommunications network using synchronized redundancy mechanism</invention-title><invention-title mxw-id="PT132194108" lang="FR" load-source="patent-office">Haute disponibilité des ressources dans un réseau de télécommunication par redondance synchronisée</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR918143844" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>ALCATEL LUCENT</last-name><address><country>FR</country></address></addressbook></applicant><applicant mxw-id="PPAR918156133" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>ALCATEL LUCENT</last-name></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR918136614" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>RUSMISEL JASON DIRK</last-name><address><country>CA</country></address></addressbook></inventor><inventor mxw-id="PPAR918153647" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>RUSMISEL, JASON DIRK</last-name></addressbook></inventor><inventor mxw-id="PPAR918998279" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>RUSMISEL, JASON DIRK</last-name><address><street>3241 Carriage Hill Place</street><city>K1T 3X1, Ottawa</city><country>CA</country></address></addressbook></inventor><inventor mxw-id="PPAR918164283" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>LIU JANE JINHUA</last-name><address><country>CA</country></address></addressbook></inventor><inventor mxw-id="PPAR918169586" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>LIU, JANE JINHUA</last-name></addressbook></inventor><inventor mxw-id="PPAR918998278" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>LIU, JANE JINHUA</last-name><address><street>3 Tyne Court</street><city>K2K 3H7, Kanata</city><country>CA</country></address></addressbook></inventor><inventor mxw-id="PPAR918141047" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>EYRE KEVEN JULES</last-name><address><country>CA</country></address></addressbook></inventor><inventor mxw-id="PPAR918160917" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>EYRE, KEVEN JULES</last-name></addressbook></inventor><inventor mxw-id="PPAR918998277" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>EYRE, KEVEN JULES</last-name><address><street>283 Westhill Avenue</street><city>K1Z 7H7, Ottawa</city><country>CA</country></address></addressbook></inventor></inventors><assignees><assignee mxw-id="PPAR918998280" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Alcatel Lucent</last-name><iid>101190217</iid><address><street>3, Avenue Octave Gréard</street><city>75007 Paris</city><country>FR</country></address></addressbook></assignee></assignees><agents><agent mxw-id="PPAR918998281" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Sciaux, Edmond</last-name><suffix>et al</suffix><iid>101317085</iid><address><street>Alcatel-Lucent International Intellectual Property &amp; Standards 32 Avenue Kléber</street><city>92700 Colombes</city><country>FR</country></address></addressbook></agent></agents></parties><international-convention-data><designated-states><ep-contracting-states><country mxw-id="DS548981039" load-source="docdb">AT</country><country mxw-id="DS548990791" load-source="docdb">BE</country><country mxw-id="DS548830343" load-source="docdb">BG</country><country mxw-id="DS548980968" load-source="docdb">CH</country><country mxw-id="DS548885701" load-source="docdb">CY</country><country mxw-id="DS548981040" load-source="docdb">CZ</country><country mxw-id="DS548990792" load-source="docdb">DE</country><country mxw-id="DS548885702" load-source="docdb">DK</country><country mxw-id="DS548885703" load-source="docdb">EE</country><country mxw-id="DS548983769" load-source="docdb">ES</country><country mxw-id="DS548830344" load-source="docdb">FI</country><country mxw-id="DS548830345" load-source="docdb">FR</country><country mxw-id="DS548990793" load-source="docdb">GB</country><country mxw-id="DS548885704" load-source="docdb">GR</country><country mxw-id="DS548981041" load-source="docdb">HU</country><country mxw-id="DS548980969" load-source="docdb">IE</country><country mxw-id="DS548830346" load-source="docdb">IT</country><country mxw-id="DS548885705" load-source="docdb">LI</country><country mxw-id="DS548981042" load-source="docdb">LU</country><country mxw-id="DS548987329" load-source="docdb">MC</country><country mxw-id="DS548990794" load-source="docdb">NL</country><country mxw-id="DS548987330" load-source="docdb">PL</country><country mxw-id="DS548980974" load-source="docdb">PT</country><country mxw-id="DS548990795" load-source="docdb">RO</country><country mxw-id="DS548987331" load-source="docdb">SE</country><country mxw-id="DS548980975" load-source="docdb">SI</country><country mxw-id="DS548830347" load-source="docdb">SK</country><country mxw-id="DS548885706" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data></bibliographic-data><description mxw-id="PDES63957490" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001"><b>Field of Invention</b></heading><p id="p0001" num="0001">The invention resides generally in the field of management of telecommunications network involving nodes consisting of routers, packet forwarding engines, switches, etc. In particular, it relates to hot standby redundancy mechanisms at a node and to realization of improved availability in network resources.</p><heading id="h0002"><b>Background of Invention</b></heading><p id="p0002" num="0002">Telecommunications networks employ a wide variety of redundancy mechanisms in order to provide high resource availability. Redundancy is currently implemented in client-server architectures, as disclosed in document <patcit id="pcit0001" dnum="US6324572B1"><text>US-B1-6 324 572</text></patcit>, to ensure the continuity of a service delivered to a client in case of failure. Generally speaking, a redundancy mechanism involves an active device and one or more inactive devices (standbys) and it improves resource availability by switching over to activate an inactive device when an active device fails or is taken off service due to a variety of reasons. As disclosed in document <patcit id="pcit0002" dnum="WO03061222A"><text>WO 03/061222</text></patcit>, active and inactive devices are implemented in network elements, such as switches, so that routing and applications can restart correctly in case of failure. However, routing and bridging protocol devices are not designed to easily allow dual or synchronous standby architecture within routers and switches to provide high availability. TCP/IP (Transmission Control Protocol/Internet Protocol), MPLS (Multi-Protocol Label Switching) BGP (Border Gateway Protocol) and OSPF (Open Shortest Path First) are examples of such routing and bridging protocols and are presently widely in use throughout the telecommunications network. The difficulty in implementing redundancy mechanisms in such protocols stems from the fact that such protocols exchange messages over telecommunications paths or connections which span over a wide geographical areas. As disclosed in document <patcit id="pcit0003" dnum="US2001002193A"><text>US 2001/002193</text></patcit> routing information, including setup/teardown of connections, must be constantly updated with co-operation by many nodes spread over the network. The active device uses such information to control the connections among nodes. When activated, the inactive device must also have same information to maintain the proper operation of the network. It is desired that no connections are dropped by an activity switch.<!-- EPO <DP n="2"> --></p><p id="p0003" num="0003">One known redundancy technique for addressing process failures involves configuring two or more devices from different vendors in parallel. It is assumed that devices from different vendors are susceptible to different types of failures, such as those that might be caused by an offending message, a hardware fault, or a software fault. This type of redundancy technique is generally expensive due to the inherent cost of the multiple devices and because using equipment from multiple vendors causes additional operation, support, network management, and training costs. Additionally, the technique requires additional messages to be exchanged to move through paths onto tandem devices, if any, thus increasing cost, complexity, and network traffic.</p><p id="p0004" num="0004">Among the redundancy techniques, some keep the inactive module or device (control card) in cold standby and others keep the inactive control card in hot standby with the active card. In the cold standby, an activity switch (switch-over from an active card to an inactive or standby card) requires starting of the inactive card from cold. The starting of the standby card generally involves discovering routes, connections or paths, loading the routing information and re-establishing connections. These operations flood the network and also take a substantial amount of time, resulting in dropped connections or other undesirable effects. In the hot standby scheme, some or all of the protocol stacks are run by both the active and inactive modules concurrently for at least a certain required period of time so that they both hold same routing information and other necessary data. An activity switch does not involve discovery of routes, connections or paths before the take-over by the inactive card but the active and inactive cards must be synchronous with one another so that a hitless (faultless) switch-over can be performed. The synchronization between two cards in the execution of the protocol stacks is important. Running a protocol stack in identical active and inactive control cards does not necessarily ensure synchrony due to the fact that the active card may have additional tasks that the inactive card needs not perform. It is also possible that both cards are of different releases or of different venders. In such cases, the same protocol stacks may not be<!-- EPO <DP n="3"> --> executed synchronously and may result in different decisions to be made on a same stimulus.</p><p id="p0005" num="0005">United States Patent Application No. <patcit id="pcit0004" dnum="US20020141429A"><text>20020141429 published on October 3, 2002, Pegrum et al</text></patcit>, is entitled "High Availability Packet Forwarding Apparatus and Method". Its abstract states:
<ul><li>A high availability packet forwarding router for an internet protocol (IP) network, includes two control processors, one or more service termination cards (STCs) with forwarding information bases (FIBs), and a packet forwarding engine. The two processors run asynchronously in a master/standby relationship. Integrity of processes running on the control processors is monitored and the forwarding engine forwards packets according to a FIB maintained by an in-service one of the control processors. Hitless failover and hitless software upgrades are supported.</li><li>This application does not address how the control processors are kept in the master/standby relationship, particularly with respect to RSVP, RSVP being part of MPLS protocol. It is silent about how the two controllers are kept in hot standby to provide control processor protection to a single LSP (Label Switched Path).</li></ul></p><p id="p0006" num="0006">Applicant's United States Patent Application No. <patcit id="pcit0005" dnum="US10350817B"><text>10/350,817 filed on Jan. 24, 2003</text></patcit> entitled "Method and Apparatus for Facilitating Routing Protocol Redundancy in a Network Element" by Kendall Harvey et al discloses a method and apparatus for synchronizing routing protocol information associated with a plurality of routing modules of a network element. The application describes cases of adding an additional routing module to a network element or switching over to a standby module. One disclosed embodiment facilitates synchronization of redundant routing modules in a network element. In that embodiment, lower layer protocol (e.g., TCP) and higher layer protocol (e.g., BGP) tasks of a first routing module are synchronized with respective lower layer protocol (e.g., TCP) and higher layer protocol (e.g., BGP) tasks of a second routing module. The first routing module and the second routing module are redundant routing modules within a network element. Protocol information (e.g., TCP packets,<!-- EPO <DP n="4"> --> BGP packets, etc) that is processed on the first routing module (e.g., an active one of a plurality of redundant routing modules) is similarly processed on the second routing module (e.g., an inactive one of the plurality of redundant routing modules). Accordingly, this arrangement can be called a hot standby scheme in which both modules are kept synchronous because they both run concurrently on all the received messages.</p><p id="p0007" num="0007">The described technique allows an activity switch without adversely affecting service. For example, after such an activity switch, a newly active routing module (i.e., previously the inactive routing module) processes routing updates that would normally be received by a newly inactive routing module (i.e., previously the active routing module). Furthermore, the newly active routing module does not become out of date with respect to routing information maintained on other network elements. In this manner, the network is not burdened by a burst of updates in response to the activity switch. Limiting the burden of such a burst of updates eliminates "churn" in the routing tables of network elements, thus improving performance of the network. Significantly, service of existing routes is maintained, and change to existing routes, deletion of routes, and addition of routes can continue uninterrupted; the switchover is transparent to neighboring routers. By being transparent to neighboring routers, a technique disclosed herein need not require cooperation of neighboring routers to enable an activity switch. Accordingly, neighboring routers need not be made aware of such an activity switch, nor do they need to support protocol extensions to enable such an activity switch.</p><p id="p0008" num="0008">As mentioned earlier, running the both modules concurrently will not necessarily result in same decisions to be made on the same stimulus. The invention ensures that the active and inactive modules stay synchronized.</p><p id="p0009" num="0009">The invention will be described in connection with the problem of improving availability in MPLS networks, particularly to providing high availability on LSPs that are set up and maintained using RSVP-TE (Resource Reservation Protocol-Traffic Engineering). It should, however, be noted that though the description below deals primarily with MPLS<!-- EPO <DP n="5"> --> environment, the concept is equally applicable to any other network architectures that exhibit similar difficulties.</p><p id="p0010" num="0010"><figref idrefs="f0001">Figure 1</figref> illustrates the essence of the problems that can be encountered in the network under discussion. In the Figure, an MPLS network 10 is shown as an example but as mentioned earlier, discussion should apply to similar networks. Nodes 1, 2 and 3 along the path of an LSP 12 continually send and receive messages, e.g., status messages 14, concerning the status of the LSP. Node 2 is shown in more detail as comprising an active card 20 and an inactive card 22, each of which contains a control module including, among other blocks, a block containing an MPLS state machine. When an activity switch 24 occurs from an active control card to an inactive control card in cold standby, the MPLS state machine in the newly active card performs a complete MPLS restart. This causes dropped connections.</p><p id="p0011" num="0011"><figref idrefs="f0002">Figure 2</figref> shows the nature of the messaging used for LSPs between two nodes. Each messaging consists of exchanges of traffic e.g., query-response or instruction-acknowledgement. The setup and teardown messaging each happen only once for an LSP, whereas the refresh related messaging happens often. The problem with a direct implementation of hot standby between the control cards by using e.g., the protocol hooks, is that with so much messaging it is difficult to maintain synchronization between the cards.</p><heading id="h0003"><b>Summary of Invention</b></heading><p id="p0012" num="0012">In accordance with one aspect, the invention realizes improvement in resource availability in telecommunications networks, by employing a hot standby scheme of the redundancy technique. The invention keeps the active and inactive devices in synchrony by the use of synchronization messages between them. The synchronization messages are sent only when a connection status changes.</p><p id="p0013" num="0013">In accordance with a further aspect, the invention permits to retain synchronization of the inactive MPLS block with the active one so that activity switch can be performed in a hitless manner.<!-- EPO <DP n="6"> --></p><p id="p0014" num="0014">In accordance with yet another aspect, the invention achieves a hitless (or substantially hitless) activity switch by keeping the inactive device in synchrony with the active device only when a connection status changes, by the use of decisions made by the active device.</p><p id="p0015" num="0015">In a further aspect, the invention uses synchronization messages to update the inactive device whenever the status of a connection changes and the active device makes decisions based upon the change in the status.</p><p id="p0016" num="0016">In one aspect, the invention resides in the field of MPLS networks and employs a hot standby scheme in the redundancy mechanism. The active device processes the routing information related to a label switched path and makes necessary decisions based on it. Whenever the status of the path changes, the active device additionally sends synchronization messages to the inactive device so that the latter updates its state machine and forwarding table with the routing information and decisions.</p><p id="p0017" num="0017">In another aspect, the invention is the result of realization that it is difficult to maintain an inactive MPLS controller in hot standby mode in synchrony with an active controller. It has been realized that RSVP-TE refresh related messages can be filtered out and yet the inactive controller can be kept synchronized with the active using messages concerning changes of connection status.</p><p id="p0018" num="0018">In a further aspect, the invention resides in a node of a telecommunications network, which node comprises redundant routing processor modules, one module being an active module and the other an inactive module. The invention is particular is directed to a method of maintaining the inactive module in hot standby mode with the active module. The method comprises steps of sending from the active module to the inactive module only a status affecting message which affects the status of a connection being held by the active module and updating the inactive module in response to the status affecting message so that the inactive module is maintained in hot standby with the active module.<!-- EPO <DP n="7"> --></p><p id="p0019" num="0019">In one embodiment, the node comprises redundant MPLS processor modules, one module being an active module and the other an inactive module. The invention is directed to a method of maintaining the inactive module in hot standby mode with the active module. The method comprises a step of sending from the active module to the inactive module only a status affecting message which affects the status of an label switched connection being held by the active module. The method further comprises steps of updating the inactive module in response to the status affecting message so that the inactive module is maintained in hot standby with the active module, and performing an activity switch from the active module to the inactive module to reverse the roles of both modules so that the label switched connection is now held by the newly active module and the newly inactive module is maintained in hot standby.</p><p id="p0020" num="0020">In accordance with a further aspect, the invention is directed to a telecommunications node comprising two routing control cards which are interchangeably maintained as active and inactive at any one time. Each of the control cards comprises a distributed processor for running protocols for managing a communications path and a message processor for sending synchronization messages to the other control card to update the distributed processor of the other control card. While being maintained active, the distributed processor processes all signaling messages concerning the communications path and generates the synchronization messages indicating new status when the status of the communications path has changed. While being maintained inactive, the distributed processor for receiving the synchronization messages from the other control card to stay synchronized with the distributed processor of the other control card.</p><heading id="h0004"><b>Brief Description of Drawings</b></heading><p id="p0021" num="0021"><ul><li><figref idrefs="f0001">Figure 1</figref> is a schematic illustration of a telecommunications network showing nodes through which an LSP has been established.</li><li><figref idrefs="f0002">Figure 2</figref> is a diagram showing messaging mechanisms, RSVP-TE, of MPLS protocol.<!-- EPO <DP n="8"> --></li><li><figref idrefs="f0003">Figure 3</figref> is a view of a control card in accordance with one embodiment, showing a variety of processor blocks.</li><li><figref idrefs="f0004">Figure 4</figref> is a schematic illustration of synchronization of MPLS state machines in the active and inactive devices, in accordance with one embodiment of the invention.</li></ul></p><heading id="h0005"><b>Detailed Description of Embodiments of Invention</b></heading><p id="p0022" num="0022">The invention is the result of realization that the active and inactive cards do not have to be in total synchrony throughout the execution of the their protocols. In fact it is difficult to maintain both the active and inactive cards in total synchrony. They may not be identical in construction because they may be of different release of the same product or they may be from different vendors. It is required that the inactive card should contain an updated state machine and necessary routing information at the time of an activity switch. In the MPLS environment, at least the MPLS state machine within the inactive control card needs to be in hot standby with the active control card. According to this embodiment, a hot-standby mechanism is introduced to MPLS control. This function reduces, or eliminates, dropped connections that normally result from a switch-over in MPLS control.</p><p id="p0023" num="0023">According to one embodiment of the invention, the active control card filters out all refresh related messaging, and sends only setup and teardown messaging to the inactive control card, which is sufficient to maintain the inactive card in hot-standby with the active card. That is, the active card only propagates RSVP-TE messages when there is a change in the state of an LSP, instead of propagating all protocol messaging. It should be noted that in RSVP-TE, the refresh related messages are repeated transmission of the original setup message. In other protocols, other forms of messages may be used for refreshing the LSP. Furthermore, whenever there is an LSP state change, the inactive control card updates its forwarding tables accordingly.</p><p id="p0024" num="0024"><figref idrefs="f0003">Figure 3</figref> illustrates one of the embodiments and it is a view of a control card for handling traffic e.g., MPLS traffic on LSP. In the <figref idrefs="f0003">Figure 3</figref>, the control card contains various processors, e.g., a control processor, a run time control processor, distributed layer 3 (DL3) processors, a centralized layer 2<!-- EPO <DP n="9"> --> (CL2) processor and an IP routing processor. The blocks are identified by the processor they contain. It should, however, be noted that the blocks also contain all the necessary modules and devices to perform designed functions with the identified processors. The centralized layer 2 processor controls layer 2 connections such as ATM, PPP (point-to-point) connections. The DL3-1 processor executes the layer 3 protocol state machine such as MPLS state machine. In this particular embodiment, a second DL3 processor DL3-2 is provided to also handle ATM protocols. IP Routing processor runs IP routing protocols and holds forwarding tables. Run Time Control (RTC) processor is dedicated to allocating resources. Control (CTL) processor coordinates all the operations of various processors. In accordance with one embodiment, there are two control cards, each of which contains the above modules. One control card is active and another inactive. DL3-1 of the active card generates synchronization messages as needed. The Message processor of the active card sends them to the inac tive card to keep DL3-1 of the inactive card in synchrony with DL-1 of the active card. The DL3-1 of the inactive card is therefore updated from time to time by the active card with respect to the information needed for hitless activity switch.</p><p id="p0025" num="0025"><figref idrefs="f0004">Figure 4</figref> depicts schematically synchronization of the MPLS state machine in the DL3 processors of the active control card 60 and inactive control card 62. The figure schematically shows running of MPLS state machine 64 and 66 in DL3 processors of the active and inactive cards. The DL3 processor with MPLS state machine on the active card runs the required protocols to operate the network, including sending updated forwarding tables to the IP routing processor when an LSP is setup or taken down as shown by an arrow 68. At the same time, the active card sends a state machine synchronization message 70 to the inactive card only when a change of state of an LSP occurs, e.g., LSP setup or tear-down completed. The inactive card 62 updates its MPLS state machine and forwarding tables accordingly. After an activity switch, the role of control cards 60 and 62 changes and newly activated card 62 performs the same functions as did the card 60 as indicated at 72. Instead of processing all the signaling messages as done in atypical hot standby mechanism, the inactive card does not<!-- EPO <DP n="10"> --> process signaling messages but only updates its state machine and routing table in accordance with the message received from the active card, thereby avoiding the problem of different decisions being made by two controllers. Synchronization of the state machines of the active and inactive cards eliminates or reduces the number of dropped connections during an activity switch-over of the control cards.</p><p id="p0026" num="0026">The state machine synchronization message should contain the LSP information which includes resources (e.g. bandwidth, colour/preferences, explicit route), endpoint information (e.g. MPLS label, egress interface), FECs (forwarding table entries), and the LSP ID.</p><p id="p0027" num="0027">Since the inactive control card is kept in hot-standby, its MPLS state machine is synchronized to that of the active control card. Therefore, when an activity switch occurs there is no disruption to the state of the LSPs.</p><p id="p0028" num="0028">After the activity switch, the CTL processor starts an audit on the newly active DL3 processor. It does this by comparing information on connections to that stored in its database. The CTL stores LSP information if it is the source node of the LSP. Midpoint nodes of an LSP will clean-up their connections in response to refresh related messages.</p></description><claims mxw-id="PCLM56979959" lang="DE" load-source="patent-office"><!-- EPO <DP n="14"> --><claim id="c-de-01-0001" num="0001"><claim-text>Verfahren zum Halten eines inaktiven Moduls (22, 62) im Hot-Standby-Modus mit einem aktiven Modul (20, 60), wobei das besagte inaktive Modul (22, 62) und das besagte aktive Modul (20, 60)<br/>
in einem Knoten eines Telekommunikationsnetzwerks umfasste redundante Routingprozessor-Module sind, <b>dadurch gekennzeichnet, dass</b> es die folgenden Schritte umfasst:
<claim-text>Senden, von dem aktiven Modul (20, 60) an das inaktive Modul (22, 62), lediglich einer statusbeeinflussenden Nachricht, welche den Status einer von dem aktiven Modul (20, 60) gehaltenen Verbindung beeinflusst, und</claim-text>
<claim-text>Aktualisieren des inaktiven Moduls (22, 62) in Reaktion auf die statusbeeinflussende Nachricht, so dass das inaktive Modul (22, 62) mit dem aktiven Modul (20, 60) im Hot-Standby-Modus gehalten wird.</claim-text></claim-text></claim><claim id="c-de-01-0002" num="0002"><claim-text>Verfahren nach Anspruch 1, wobei das aktive Modul (20, 60) die Verbindung durch Austauschen von Signalisierungsnachrichten (14) hält, wobei das Verfahren weiterhin die folgenden Schritt umfasst:
<claim-text>Herausfilten, durch das aktive Modul (20, 60), von ausschließlich statusbeeinflussenden Nachrichten aus den Signalisierungsnachrichten (14), und</claim-text>
<claim-text>Senden einer Synchronisationsnachricht (70) an das inaktive Modul (22, 62), wobei die Synchronisationsnachricht (70) Informationen darüber, wie der Status der Verbindungen geändert wurde, enthält.</claim-text></claim-text></claim><claim id="c-de-01-0003" num="0003"><claim-text>Verfahren nach Anspruch 2, wobei das aktive Modul (20, 60) Routing-Informationen hält, Entscheidungen auf der Basis der ausgetauschten Signalisierungsnachrichten (14) trifft und die Routing-Informationen aktualisiert, wobei das Verfahren weiterhin den folgenden Schritt umfasst:
<claim-text>Senden, durch das aktive Modul (20, 60), der Synchronisationsnachricht (70) an das inaktive Modul (22, 62), wobei die Synchronisationsnachricht (70) die Entscheidungen, welche den Status der Verbindung beeinflussen, enthält.</claim-text></claim-text></claim><claim id="c-de-01-0004" num="0004"><claim-text>Verfahren nach Anspruch 3, wobei der Status von Verbindungen durch den Aufbau, die Modifikation und den Abbau einer Verbindung beeinflusst wird.<!-- EPO <DP n="15"> --></claim-text></claim><claim id="c-de-01-0005" num="0005"><claim-text>Verfahren nach Anspruch 4, wobei die Verbindung ein labelvermittelter Pfad (12) ist und das Routing-Prozessormodul Protokolle zur Verwaltung des labelvermittelten Pfads ausführt.</claim-text></claim><claim id="c-de-01-0006" num="0006"><claim-text>Verfahren nach Anspruch 5, wobei das Prozessormodul ein MPLS-Prozessormodul (64, 66) zur Verwaltung des labelvermittelten Pfads (12) ist, die Signalisierungsnachrichten (14) RSVP-Nachrichten sind, und die statusbeeinflussenden Nachrichten Nachrichten sind, die den Aufbau, die Modifikation und den Abbau der Verbindung anzeigen.</claim-text></claim><claim id="c-de-01-0007" num="0007"><claim-text>Verfahren nach Anspruch 6, wobei die zu filternden Signalisierungsnachrichten (14) aktualisierungsbezogene Nachrichten sind.</claim-text></claim><claim id="c-de-01-0008" num="0008"><claim-text>Verfahren nach Anspruch 7, wobei die Synchronisationsnachrichten (70) Informationen enthalten, welche Ressourcen, Endpunkt-Informationen, Weiterleitungstabelleneinträge und die Kennung des labelvermittelten Pfads einschließen.</claim-text></claim><claim id="c-de-01-0009" num="0009"><claim-text>Verfahren nach Anspruch 6, weiterhin umfassend einen Schritt des Durchführens einer Aktivitätsumschaltung von dem aktiven Modul (20, 60) zu dem inaktiven Modul (22, 62), um die Rollen der beiden Module umzukehren, so dass der labelvermittelte Pfad (12) nunmehr von dem neuerdings aktiven Modul (22, 62) gehalten und das neuerdings inaktive Modul (20, 60) im Hot-Standby-Modus gehalten wird.</claim-text></claim><claim id="c-de-01-0010" num="0010"><claim-text>Verfahren nach Anspruch 9, weiterhin den folgenden Schritt umfassend:
<claim-text>Durchführen, durch das neuerdings aktive Modul (22,62), eines Audits der labelvermittelten Pfade (12) vor dem Durchführen der Aktivitätsumschaltung.</claim-text></claim-text></claim><claim id="c-de-01-0011" num="0011"><claim-text>Telekommunikationsknoten mit zwei Routing-Steuerungskarten (20, 60; 22, 62), welche zu jedem beliebigen Zeitpunkt abwechselnd als aktiv oder inaktiv gehalten werden, wobei eine jede der Steuerungskarten umfasst:
<claim-text>einen verteilten Prozessor zum Ausführen von Protokollen für die Verwaltung eines Kommunikationspfads, und</claim-text>
<claim-text>einen Nachrichtenprozessor zum Senden von Synchronisationsnachrichten (70) an die andere Steuerungskarte, um den verteilten Prozessor der anderen Steuerungskarte zu aktualisieren,</claim-text>
<claim-text><b>dadurch gekennzeichnet, dass</b>,<!-- EPO <DP n="16"> --></claim-text>
<claim-text>der verteilte Prozessor, während er aktiv gehalten wird, alle den Kommunikationspfad betreffenden Signalisierungsnachrichten verarbeitet und die Synchronisationsnachrichten (70), welche den neuen Status, nachdem der Status des Kommunikationspfads geändert wurde, anzeigt, erzeugt, und</claim-text>
<claim-text>der verteilte Prozessor, während er inaktiv gehalten wird, die Synchronisationsnachrichten von der anderen Steuerungskarte empfängt, um mit dem verteilten Prozessor der anderen Steuerungskarte synchron zu bleiben.</claim-text></claim-text></claim><claim id="c-de-01-0012" num="0012"><claim-text>Knoten nach Anspruch 11, wobei der Kommunikationspfad ein labelvermittelter Pfad (12) ist und die aktive und die inaktive Steuerungskarte jeweils eine Zustandsmaschine (64, 66) und eine Weiterleitungstabelle für die Verwaltung des labelvermittelten Pfads (12) und die Synchronisationsnachrichten (70), welche von der aktiven Steuerungskarte (20, 60) getroffene neue Entscheidungen und eine neue Weiterleitungstabelle umfassen, wobei die inaktive Steuerungskarte (22, 62) dazu ausgelegt ist, ihre Zustandsmaschine und ihre Weiterleitungstabelle gemäß den Entscheidungen und der neuen Weiterleitungstabelle zu aktualisieren.</claim-text></claim><claim id="c-de-01-0013" num="0013"><claim-text>Knoten nach Anspruch 12, wobei beide Zustandsmaschinen (64, 66) ein MPLS-Protokoll ausführen, wobei der Knoten weiterhin einen Steuerungsprozessor zum Durchführen einer Aktivitätsumschaltung von der aktiven Steuerungskarte (20, 60) zu der inaktiven Steuerungskarte (22, 62) umfasst, um die Rollen der Steuerungskarten umzukehren, so dass der labelvermittelte Pfad nunmehr von der jetzt inaktiven Steuerungskarte (22, 62) gehalten und die dann aktive Steuerungskarte (20, 60) im Hot-Standby-Modus gehalten wird.</claim-text></claim><claim id="c-de-01-0014" num="0014"><claim-text>Knoten nach Anspruch 13, wobei die Synchronisationsnachrichten (70) Informationen enthalten, welche Ressourcen, Endpunkt-Informationen, Weiterleitungstabelleneingaben und die Kennung des labelvermittelten Pfads einschließen.</claim-text></claim></claims><claims mxw-id="PCLM56979960" lang="EN" load-source="patent-office"><!-- EPO <DP n="11"> --><claim id="c-en-01-0001" num="0001"><claim-text>A method of maintaining an inactive module (22, 62) in hot standby mode with an active module (20, 60), said inactive module (22, 62) and said active module (20, 60) being redundant routing processor modules comprised in a node of a telecommunications network, <b>characterized in that</b> it comprises the steps of:
<claim-text>sending from the active module (20, 60) to the inactive module (22, 62) only a status affecting message which affects the status of a connection being held by the active module (20, 60), and</claim-text>
<claim-text>updating the inactive module (22, 62) in response to the status affecting message so that the inactive module (22, 62) is maintained in hot standby with the active module (20, 60).</claim-text></claim-text></claim><claim id="c-en-01-0002" num="0002"><claim-text>The method according to claim 1, wherein the active module (20, 60) holds the connection by exchanging signaling messages (14), the method further comprising steps of:
<claim-text>the active module (20, 60) filtering out among the signaling messages (14) only status affecting message, and</claim-text>
<claim-text>sending a synchronization message (70) to the inactive module (22, 62), the synchronization message (70) containing information on how the status of the connection has been changed.</claim-text></claim-text></claim><claim id="c-en-01-0003" num="0003"><claim-text>The method according to claim 2, wherein the active module (20, 60) holds routing information, makes decision based on the exchanged signaling messages (14) and updates the routing information, the method further comprising a step of:
<claim-text>the active module (20, 60) sending the synchronization message (70) to the inactive module (22, 62), the synchronization message (70) containing the decisions which affect the status of the connection.</claim-text><!-- EPO <DP n="12"> --></claim-text></claim><claim id="c-en-01-0004" num="0004"><claim-text>The method according to claim 3, wherein the status of connections is affected by setup, modification, and teardown of a connection.</claim-text></claim><claim id="c-en-01-0005" num="0005"><claim-text>The method according to claim 4, wherein the connection is a label switched path (12) and the routing processor module performs protocols for managing the label switched path.</claim-text></claim><claim id="c-en-01-0006" num="0006"><claim-text>The method according to claim 5, wherein the processor module is an MPLS processor module (64, 66) for managing the label switched path (12), the signaling messages (14) are RSVP messages, and the status affecting messages are messages indicating connection setup, modification, and teardown.</claim-text></claim><claim id="c-en-01-0007" num="0007"><claim-text>The method according to claim 6, wherein the signaling messages (14) to be filtered are refresh related messages.</claim-text></claim><claim id="c-en-01-0008" num="0008"><claim-text>The method according to claim 7; wherein the synchronization messages (70) contain information which includes resources, endpoint information, forwarding table entries, and label switched path ID.</claim-text></claim><claim id="c-en-01-0009" num="0009"><claim-text>The method according to claim 6, further comprising a step of performing an activity switch from the active module (20, 60) to the inactive module (22, 62) to reverse the roles of both modules so that the label switched path (12) is now held by the newly active module (22, 62) and the newly inactive module (20, 60) is maintained in hot standby.</claim-text></claim><claim id="c-en-01-0010" num="0010"><claim-text>The method according to claim 9, further comprising a step of:
<claim-text>the newly active module (22, 62) performing an audit of the label switched paths (12) before the activity switch is performed.</claim-text></claim-text></claim><claim id="c-en-01-0011" num="0011"><claim-text>A telecommunications node comprising two routing control cards (20, 60 ; 22, 62) which are interchangeably maintained as active and inactive at any one time, each of the control cards comprising:<!-- EPO <DP n="13"> -->
<claim-text>a distributed processor for running protocols for managing a communications path, and</claim-text>
<claim-text>a message processor for sending synchronization messages (70) to the other control card to update the distributed processor of the other control card,</claim-text>
<claim-text><b>characterized in that</b>,</claim-text>
<claim-text>while being maintained active, the distributed processor processes all signaling messages concerning the communications path and generates the synchronization messages (70) indicating new status when the status of the communications path has changed, and</claim-text>
<claim-text>while being maintained inactive, the distributed processor for receiving the synchronization messages from the other control card to stay synchronized with the distributed processor of the other control card.</claim-text></claim-text></claim><claim id="c-en-01-0012" num="0012"><claim-text>The node according to claim 11, wherein the communications path is a label switched path (12) and the active and inactive control cards comprise state machine (64, 66) and forwarding table for managing the label switched path (12) and, the synchronization messages (70) containing new decisions made by the active control card (20, 60) and new forwarding table, the inactive control card (22, 62) is adapted to update its state machine and its forwarding table in accordance with the decisions and the new forwarding table.</claim-text></claim><claim id="c-en-01-0013" num="0013"><claim-text>The node according to claim 12, wherein the both state machines (64, 66) run MPLS protocol, the node further comprising a control processor for performing an activity switch from the active control card (20, 60) to the inactive control card (22, 62) to reverse the roles of the control cards so that the label switched path is now held by the then inactive control (22, 62) card and the then active control (20, 60) card is maintained in hot standby.</claim-text></claim><claim id="c-en-01-0014" num="0014"><claim-text>The node according to claim 13, wherein the synchronization messages (70) contain information which includes resources, endpoint information, forwarding table entries, and label switched path ID.</claim-text></claim></claims><claims mxw-id="PCLM56979961" lang="FR" load-source="patent-office"><!-- EPO <DP n="17"> --><claim id="c-fr-01-0001" num="0001"><claim-text>Procédé de maintien d'un module inactif (22, 62) en mode de secours automatique avec un module actif (20, 60), ledit module inactif (22, 62) et ledit module actif (20, 60) étant des modules de traitement d'acheminement redondants<br/>
compris dans un noeud d'un réseau de télécommunication, <b>caractérisé en ce qu'</b>il comprend les étapes suivantes :
<claim-text>envoyer à partir du module actif (20, 60) vers le module inactif (22, 62) seulement un message affectant l'état qui affecte l'état d'une connexion maintenu par le module actif (20, 60), et</claim-text>
<claim-text>mettre à jour le module inactif (22, 62) en réponse au message affectant l'état de sorte que le module inactif (22, 62) soit maintenu en mode de secours automatique avec le module actif (20, 60).</claim-text></claim-text></claim><claim id="c-fr-01-0002" num="0002"><claim-text>Procédé selon la revendication 1, dans lequel le module actif (20, 60) maintient la connexion en échangeant des messages de signalisation (14), le procédé comprenant en outre les étapes suivantes :
<claim-text>le module actif (20, 60) filtre parmi les messages de signalisation (14) seulement le message affectant l'état, et</claim-text>
<claim-text>envoie un message de synchronisation (70) au module inactif (22, 62), le message de synchronisation (70) contenant des informations sur la manière dont l'état de la connexion a changé.</claim-text></claim-text></claim><claim id="c-fr-01-0003" num="0003"><claim-text>Procédé selon la revendication 2, dans lequel le module actif (20, 60) conserve des informations d'acheminement, prend une décision basée sur les messages de signalisation (14) échangés, et met à jour les informations d'acheminement, le procédé comprenant en outre l'étape suivante :
<claim-text>le module actif (20, 60) envoie le message de synchronisation (70) au module inactif (22, 62), le message de synchronisation (70) contenant les décisions qui affectent l'état de la connexion.</claim-text></claim-text></claim><claim id="c-fr-01-0004" num="0004"><claim-text>Procédé selon la revendication 3, dans lequel l'état des connexions est affecté par l'établissement, la modification et l'arrêt d'une connexion.<!-- EPO <DP n="18"> --></claim-text></claim><claim id="c-fr-01-0005" num="0005"><claim-text>Procédé selon la revendication 4, dans lequel la connexion est un chemin de commutation d'étiquettes (12) et le module de traitement d'acheminement exécute des protocoles pour gérer le chemin de commutation d'étiquettes.</claim-text></claim><claim id="c-fr-01-0006" num="0006"><claim-text>Procédé selon la revendication 5, dans lequel le module de traitement est un module de traitement MPLS (64, 66) pour gérer le chemin de commutation d'étiquettes (12), les messages de signalisation (14) sont des messages RSVP, et les messages affectant l'état sont des messages indiquant un établissement, une modification et un arrêt de connexion.</claim-text></claim><claim id="c-fr-01-0007" num="0007"><claim-text>Procédé selon la revendication 6, dans lequel les messages de signalisation (14) devant être filtrés sont des messages relatifs au rafraîchissement.</claim-text></claim><claim id="c-fr-01-0008" num="0008"><claim-text>Procédé selon la revendication 7, dans lequel les messages de synchronisation (70) contiennent des informations qui comprennent des ressources, des informations de point d'extrémité, des entrées de table d'acheminement et l'ID du chemin de commutation d'étiquettes.</claim-text></claim><claim id="c-fr-01-0009" num="0009"><claim-text>Procédé selon la revendication 6, comprenant en outre une étape d'exécution d'une commutation d'activité entre le module actif (20, 60) et le module inactif (22, 62) pour inverser les rôles des deux modules de sorte que le chemin de commutation d'étiquettes (12) soit dès lors maintenu par le module qui vient de passer à l'état actif (22, 62) et le module qui vient de passer à l'état inactif (20, 60) est maintenu en mode de secours automatique.</claim-text></claim><claim id="c-fr-01-0010" num="0010"><claim-text>Procédé selon la revendication 9, comprenant en outre l'étape suivante : le module qui vient de passer à l'état actif (22, 62) exécute un audit des chemins de commutation d'étiquettes (12) avant que la commutation d'activité ne soit exécutée.</claim-text></claim><claim id="c-fr-01-0011" num="0011"><claim-text>Noeud de télécommunication comprenant deux cartes de commande d'acheminement (20, 60 ; 22, 62) qui sont maintenues de manière interchangeable à l'état actif et inactif à tout moment, chacune des cartes de commande comprenant :
<claim-text>une unité de traitement répartie pour exécuter des protocoles de gestion d'une voie de communication, et<!-- EPO <DP n="19"> --></claim-text>
<claim-text>un processeur de messages pour envoyer des messages de synchronisation (70) à l'autre carte de commande pour mettre à jour l'unité de traitement répartie de l'autre carte de commande,</claim-text>
<claim-text><b>caractérisé en ce que</b>,</claim-text>
<claim-text>lorsqu'elle est maintenue à l'état actif, l'unité de traitement répartie traite tous les messages de signalisation concernant la voie de communication et génère les messages de synchronisation (70) indiquant un nouvel état lorsque l'état de la voie de communication a changé, et</claim-text>
<claim-text>lorsqu'elle est maintenue à l'état inactif, l'unité de traitement répartie destinée à recevoir les messages de synchronisation à partir de l'autre carte de commande reste synchronisée avec l'unité de traitement répartie de l'autre carte de commande.</claim-text></claim-text></claim><claim id="c-fr-01-0012" num="0012"><claim-text>Noeud selon la revendication 11, dans lequel la voie de communication est un chemin de commutation d'étiquettes (12) et les cartes de commande active et inactive comprennent une machine d'états (64, 66) et une table d'acheminement pour gérer le chemin de commutation d'étiquettes (12) et, les messages de synchronisation (70) contenant de nouvelles décisions prises par la carte de commande active (20, 60) et la nouvelle table d'acheminement, la carte de commande inactive (22, 62) étant adaptée pour mettre à jour sa machine d'états et sa table d'acheminement en fonction des décisions et de la nouvelle table d'acheminement.</claim-text></claim><claim id="c-fr-01-0013" num="0013"><claim-text>Noeud selon la revendication 12, dans lequel les deux machines d'états (64, 66) exécutent un protocole MPLS, le noeud comprenant en outre un processeur de commande pour exécuter une commutation d'activité entre la carte de commande active (20, 60) et la carte de commande inactive (22, 62) pour inverser les rôles des cartes de commande de sorte que le chemin de commutation d'étiquettes soit dès lors maintenu par la carte de commande qui vient de passer à l'état inactif (22, 62) et que la carte de commande qui vient de passer à l'état actif (20, 60) soit maintenue en mode de secours automatique.</claim-text></claim><claim id="c-fr-01-0014" num="0014"><claim-text>Noeud selon la revendication 13, dans lequel les messages de synchronisation (70) contiennent des informations qui comprennent des ressources, des informations de point d'extrémité, des entrées de table d'acheminement et l'ID du chemin de commutation d'étiquettes.</claim-text></claim></claims><drawings mxw-id="PDW16669018" load-source="patent-office"><!-- EPO <DP n="20"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="141" he="137" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="21"> --><figure id="f0002" num="2"><img id="if0002" file="imgf0002.tif" wi="113" he="135" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="22"> --><figure id="f0003" num="3"><img id="if0003" file="imgf0003.tif" wi="114" he="164" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="23"> --><figure id="f0004" num="4"><img id="if0004" file="imgf0004.tif" wi="125" he="162" img-content="drawing" img-format="tif"/></figure></drawings><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
