<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-1989835-B1" country="EP" doc-number="1989835" kind="B1" date="20140101" family-id="38471957" file-reference-id="311113" date-produced="20180826" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146553499" ucid="EP-1989835-B1"><document-id><country>EP</country><doc-number>1989835</doc-number><kind>B1</kind><date>20140101</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-07749977-A" is-representative="NO"><document-id mxw-id="PAPP154827422" load-source="docdb" format="epo"><country>EP</country><doc-number>07749977</doc-number><kind>A</kind><date>20070206</date><lang>EN</lang></document-id><document-id mxw-id="PAPP190120375" load-source="docdb" format="original"><country>EP</country><doc-number>07749977.0</doc-number><date>20070206</date></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140448143" ucid="US-2007003075-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>2007003075</doc-number><kind>W</kind><date>20070206</date></document-id></priority-claim><priority-claim mxw-id="PPC140451330" ucid="US-36673206-A" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>36673206</doc-number><kind>A</kind><date>20060302</date></document-id></priority-claim></priority-claims><dates-of-public-availability><intention-to-grant-date><date>20130802</date></intention-to-grant-date><search-report-dispatch-date><date>20110315</date></search-report-dispatch-date></dates-of-public-availability><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1988107116" load-source="docdb">H04L  12/703       20130101ALI20130628BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1988114790" load-source="docdb">H04L  12/705       20130101ALI20130628BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1988122593" load-source="docdb">H04L  12/771       20130101ALI20130628BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1988136710" load-source="docdb">H04L  12/707       20130101AFI20130628BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1713637070" load-source="docdb" scheme="CPC">Y02D  50/30        20180101 LA20180103BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1999899421" load-source="docdb" scheme="CPC">H04L  45/245       20130101 LI20151114BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1999902725" load-source="docdb" scheme="CPC">H04Q2011/0081      20130101 LA20151112BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1999903601" load-source="docdb" scheme="CPC">H04L  45/58        20130101 LI20151114BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1999904461" load-source="docdb" scheme="CPC">H04L  45/28        20130101 LI20151114BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1999904762" load-source="docdb" scheme="CPC">H04Q2213/13162     20130101 LA20151112BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1999907291" load-source="docdb" scheme="CPC">H04L  41/0663      20130101 LA20151112BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1999911519" load-source="docdb" scheme="CPC">H04L  45/00        20130101 LI20151114BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1999911743" load-source="docdb" scheme="CPC">H04L  45/60        20130101 LI20151114BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1999912150" load-source="docdb" scheme="CPC">H04L  45/22        20130101 LI20151114BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1999912974" load-source="docdb" scheme="CPC">H04L  45/24        20130101 LI20151114BHEP        </classification-cpc><classification-cpc mxw-id="PCL2000994902" load-source="docdb" scheme="CPC">H04L  43/10        20130101 FI20140109BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132192981" lang="DE" load-source="patent-office">TECHNIK ZUR EFFIZIENTEN UND DYNAMISCHEN AUFRECHTERHALTUNG DER BIDIREKTIONALEN WEITERLEITUNGSERFASSUNG AN EINEM BÜNDEL VON VERKNÜPFUNGEN</invention-title><invention-title mxw-id="PT132192982" lang="EN" load-source="patent-office">A TECHNIQUE FOR EFFICIENTLY AND DYNAMICALLY MAINTAINING BIDIRECTIONAL FORWARDING DETECTION ON A BUNDLE OF LINKS</invention-title><invention-title mxw-id="PT132192983" lang="FR" load-source="patent-office">PROCÉDÉ PERMETTANT DE CONSERVER DE MANIÈRE EFFICACE ET DYNAMIQUE UNE DETECTION D'ÉMISSION BIDIRECTIONELLE SUR UN FAISCEAU DE LIAISONS</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR918146735" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>CISCO TECH INC</last-name><address><country>US</country></address></addressbook></applicant><applicant mxw-id="PPAR918132419" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>CISCO TECHNOLOGY, INC.</last-name></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR918144780" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>RAHMAN RESHAD A</last-name><address><country>CA</country></address></addressbook></inventor><inventor mxw-id="PPAR918157680" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>RAHMAN, RESHAD, A.</last-name></addressbook></inventor><inventor mxw-id="PPAR918997019" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>RAHMAN, RESHAD, A.</last-name><address><street>59 Gentle Gate Cr.</street><city>Ottawa, Ontario, K1T 1Z9</city><country>CA</country></address></addressbook></inventor><inventor mxw-id="PPAR918157363" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>TOSCANO DAVID P</last-name><address><country>CA</country></address></addressbook></inventor><inventor mxw-id="PPAR918153879" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>TOSCANO, DAVID, P.</last-name></addressbook></inventor><inventor mxw-id="PPAR918997021" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>TOSCANO, DAVID, P.</last-name><address><street>12 Oakbriar Crescent</street><city>Ottawa, Ontario K2J 5E9</city><country>CA</country></address></addressbook></inventor><inventor mxw-id="PPAR918171888" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>MASSE SYLVAIN</last-name><address><country>CA</country></address></addressbook></inventor><inventor mxw-id="PPAR918172602" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>MASSE, SYLVAIN</last-name></addressbook></inventor><inventor mxw-id="PPAR918997017" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>MASSE, SYLVAIN</last-name><address><street>73 Lynn Street</street><city>Gatineau, Quebec J9H 1B5</city><country>CA</country></address></addressbook></inventor><inventor mxw-id="PPAR918143861" load-source="docdb" sequence="4" format="epo"><addressbook><last-name>WARD DAVID D</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR918133236" load-source="docdb" sequence="4" format="intermediate"><addressbook><last-name>WARD, DAVID, D.</last-name></addressbook></inventor><inventor mxw-id="PPAR918997018" load-source="patent-office" sequence="4" format="original"><addressbook><last-name>WARD, DAVID, D.</last-name><address><street>32460 Loma Chiquita Rd</street><city>Los Gatos, CA 95033</city><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR918156476" load-source="docdb" sequence="5" format="epo"><addressbook><last-name>KETLEY NEIL R</last-name><address><country>GB</country></address></addressbook></inventor><inventor mxw-id="PPAR918173623" load-source="docdb" sequence="5" format="intermediate"><addressbook><last-name>KETLEY, NEIL, R.</last-name></addressbook></inventor><inventor mxw-id="PPAR918997020" load-source="patent-office" sequence="5" format="original"><addressbook><last-name>KETLEY, NEIL, R.</last-name><address><street>2 Roseness 19 Salisbury Avenue, Harpenden</street><city>Hertfordshire, AI5 2QF</city><country>GB</country></address></addressbook></inventor></inventors><assignees><assignee mxw-id="PPAR918997023" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Cisco Technology, Inc.</last-name><iid>100778333</iid><address><street>170 West Tasman Drive</street><city>San Jose, CA 95134-1706</city><country>US</country></address></addressbook></assignee></assignees><agents><agent mxw-id="PPAR918997022" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Kazi, Ilya</last-name><suffix>et al</suffix><iid>100042044</iid><address><street>Mathys &amp; Squire LLP 120 Holborn</street><city>London EC1N 2SQ</city><country>GB</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="US-2007003075-W"><document-id><country>US</country><doc-number>2007003075</doc-number><kind>W</kind><date>20070206</date><lang>EN</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2007106258-A2"><document-id><country>WO</country><doc-number>2007106258</doc-number><kind>A2</kind><date>20070920</date><lang>EN</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS548987465" load-source="docdb">AT</country><country mxw-id="DS548828926" load-source="docdb">BE</country><country mxw-id="DS548977393" load-source="docdb">BG</country><country mxw-id="DS548975586" load-source="docdb">CH</country><country mxw-id="DS548883876" load-source="docdb">CY</country><country mxw-id="DS548987466" load-source="docdb">CZ</country><country mxw-id="DS548973062" load-source="docdb">DE</country><country mxw-id="DS548828927" load-source="docdb">DK</country><country mxw-id="DS548883877" load-source="docdb">EE</country><country mxw-id="DS548978276" load-source="docdb">ES</country><country mxw-id="DS548977502" load-source="docdb">FI</country><country mxw-id="DS548977503" load-source="docdb">FR</country><country mxw-id="DS548973063" load-source="docdb">GB</country><country mxw-id="DS548828928" load-source="docdb">GR</country><country mxw-id="DS548883878" load-source="docdb">HU</country><country mxw-id="DS548975587" load-source="docdb">IE</country><country mxw-id="DS548828929" load-source="docdb">IS</country><country mxw-id="DS548977504" load-source="docdb">IT</country><country mxw-id="DS548883879" load-source="docdb">LI</country><country mxw-id="DS548973064" load-source="docdb">LT</country><country mxw-id="DS548987467" load-source="docdb">LU</country><country mxw-id="DS548973065" load-source="docdb">LV</country><country mxw-id="DS548973066" load-source="docdb">MC</country><country mxw-id="DS548978277" load-source="docdb">NL</country><country mxw-id="DS548978278" load-source="docdb">PL</country><country mxw-id="DS548977505" load-source="docdb">PT</country><country mxw-id="DS548978279" load-source="docdb">RO</country><country mxw-id="DS548978280" load-source="docdb">SE</country><country mxw-id="DS548975588" load-source="docdb">SI</country><country mxw-id="DS548862682" load-source="docdb">SK</country><country mxw-id="DS548883880" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data><office-specific-data><eptags><ep-no-a-document-published>*</ep-no-a-document-published></eptags></office-specific-data></bibliographic-data><description mxw-id="PDES63957237" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001"><b><i>Field of the Invention</i></b></heading><p id="p0001" num="0001">The present invention relates to computer networks and more particularly to maintaining bidirectional forwarding detection (BFD) on a bundle of links in a computer network.</p><heading id="h0002"><b><i>Background Information</i></b></heading><p id="p0002" num="0002">A computer network is a geographically distributed collection of interconnected subnetworks, such as local area networks (LAN) that transport data between network nodes. As used herein, a network node is any device adapted to send and/or receive data in the computer network. Thus, in this context, "node" and "device" may be used interchangeably. The network topology is defined by an arrangement of network nodes that communicate with one another, typically through one or more intermediate nodes, such as routers and switches. In addition to intra-network communications, data also may be exchanged between neighboring (i.e., adjacent) networks. To that end, "edge devices" located at the logical outer-bound of the computer network may be adapted to send and receive inter-network communications. Both inter-network and intra-network communications are typically effected by exchanging discrete packets of data according to predefined protocols. In this context, a protocol consists of a set of rules defining how network nodes interact with each other.</p><p id="p0003" num="0003">Each data packet typically comprises "payload" data prepended ("encapsulated") by at least one network header formatted in accordance with a network communication protocol. The network headers include information that enables network nodes to efficiently route the packet through the computer network. Often, a packet's network headers<!-- EPO <DP n="2"> --> include a data-link (layer 2) header, an internetwork (layer 3) header and a transport (layer 4) header as defined by the Transmission Control Protocol/ Internet Protocol (TCP/IP) Reference Model. The TCP/IP Reference Model is generally described in more detail in Section 1.4.2 of the reference book entitled <nplcit id="ncit0001" npl-type="b"><text>Computer Networks, Fourth Edition, by Andrew Tanenbaum, published 2003</text></nplcit>. A data packet may originate at a source node and subsequently "hop" from node to node along a logical data path until it reaches its addressed destination node. The network addresses defining the logical data path of a data flow are most often stored as Internet Protocol (IP) addresses in the packet's internetwork header.</p><p id="p0004" num="0004">A computer network may contain smaller groups of one or more subnetworks which may be managed as separate routing domains. As used herein, a routing domain is broadly construed as a collection of interconnected network nodes under a common administration. Often, a routing domain is managed by a single administrative entity, such as a company, an academic institution or a branch of government. Such a centrally-managed routing domain is sometimes referred to as an "autonomous system." In general, a routing domain may operate as an enterprise network, a service provider or any other type of network or subnetwork. Further, the routing domain may contain one or more edge devices having "peer" connections to edge devices in adjacent routing domains.</p><p id="p0005" num="0005">Network nodes within a routing domain are typically configured to forward data using predetermined paths from "interior gateway" routing protocols, such as conventional link-state protocols and distance-vector protocols. These interior gateway protocols (IGPs) define the manner with which routing information and network-topology information are exchanged and processed in the routing domain. The routing information exchanged (e.g., by IGP messages) typically includes destination address prefixes, i.e., the portions of destination addresses used by the routing protocol to render routing ("next hop") decisions. Examples of such destination addresses include IP version 4 (IPv4) and version 6 (IPv6) addresses. As such, each intermediate node receives a consistent "view" of the domain's topology. Examples of link-state and distance-vectors protocols known in the art, such as the Open Shortest Path First (OSPF) protocol and Routing Information Protocol (RIP), are described in Sections 12.1-12.3 of the reference book entitled <nplcit id="ncit0002" npl-type="b"><text>Interconnections,<!-- EPO <DP n="3"> --> Second Edition, by Radia Perlman, published January 2000</text></nplcit>.</p><p id="p0006" num="0006">The Border Gateway Protocol (BGP) is usually employed as an "external gateway" routing protocol for routing data between autonomous systems. BGP is well known and generally described in Request for Comments (RFC) 1771, entitled <nplcit id="ncit0003" npl-type="b"><text>A Border Gateway Protocol 4 (BGP-4), by Y. Rekhter et al., published March 1995</text></nplcit>, which is publicly available through the Internet Engineering Task Force (IETF). BGP generally operates over a reliable transport protocol, such as TCP, to establish a TCP connection/BGP session. BGP also may be extended for compatibility with services other than standard Internet connectivity. For instance, Multi-Protocol BGP (MP-BGP) supports various address family identifier (AFI) fields that permit BGP messages to transport multi-protocol information.</p><p id="p0007" num="0007">A network node within a routing domain may detect a change in the domain's topology. For example, the node may become unable to communicate with one of its neighboring nodes, e.g., due to a link failure between the nodes or the neighboring node failing, such as going "off line," etc. If the detected node or link failure occurred within the routing domain, the detecting node may advertise the intra-domain topology change to other nodes in the domain using IGP messages. Similarly, if an edge device detects a node or link failure that prevents communications with a neighboring routing domain, the edge device may disseminate the inter-domain topology change to other edge devices within its routing domain (e.g., using BGP messages). In either case, propagation of the network-topology change occurs within the routing domain and nodes in the domain thus converge on a consistent view of the new network topology, i.e., without the failed node or link.</p><p id="p0008" num="0008">As those skilled in the art will understand, it is desirable to quickly detect the failure of a node or link so that minimal traffic is lost. Conventionally, since a BGP session is often employed between the two inter-domain devices, BGP KEEPALIVE messages may be used to determine whether the peers are reachable (e.g., for link or node failure). For instance, BGP may specify a Hold Time interval, the expiration of which indicating that an error has occurred within the BGP session (e.g., at least three seconds). Each<!-- EPO <DP n="4"> --> BGP message received at a device resets the Hold Time. A BGP KEEPALIVE message may be exchanged between the devices of the BGP session to reset the Hold Time. As such, the interval between exchanged KEEPALIVE messages must be often enough as not to cause the Hold Timer to expire. Conventionally, a reasonable maximum time between KEEPALIVE messages would be one third of the Hold Time interval. However, according to the BGP standard set forth in RFC 1771, the KEEPALIVE messages must not be sent more frequently than one per second, e.g., in order to minimize traffic between the BGP devices. Notably, in the event the Hold Time has expired, the devices may "break" (i.e., tear down or close) the BGP session. Similarly, as those skilled in the art will understand, IGP nodes within a network may exchange IGP HELLO messages to determine whether internal peers (intradomain nodes) are reachable.</p><p id="p0009" num="0009">Because of the increasing need for faster network response time and convergence, administrators often require the ability of individual network devices to quickly detect failures. Bidirectional Forwarding Detection (BFD) provides rapid failure detection times between devices, while maintaining low overhead. For instance, BFD failure detection may be as fast as 50 milliseconds (ms), while the BGP (and IGP) method described above is on the order of seconds (e.g., three seconds). BFD verifies connectivity between two devices based on the rapid transmission of BFD control packets between the two devices (e.g., little to no BFD holdtime, as will be understood by those skilled in the art). Notably, BFD also provides a single, standardized method of link/device/protocol failure detection at any protocol layer and over any media. A secondary benefit of BFD, in addition to fast failure detection, is that it provides network administrators with a consistent method of detecting failures. Thus, one availability methodology could be used, regardless of the protocol (e.g., IGP, BGP, etc.) or the topology of the network. BFD is further described in <nplcit id="ncit0004" npl-type="s"><text>Katz, et al. Bidirectional Forwarding Detection &lt;draft-ietf-bfd-base-04.txt&gt;, Internet Draft, October, 2005</text></nplcit>. Generally, BFD sessions may be established between network nodes (e.g., routers) in order to monitor connectivity of the nodes over a particular link between the nodes.</p><p id="p0010" num="0010">Often, users organize links as a group or "bundle" for a variety of reasons known to those skilled in the art. For example, link groups may be used for redundancy, load<!-- EPO <DP n="5"> --> balancing, and/or increasing the available bandwidth between two points in the network, e.g., by combining multiple smaller/slower links into a single group of links that produces a greater bandwidth value than the smaller/slower links individually. Various forms of link bundles include link bonding/aggregation, EtherChannel, and multilink point-to-point protocol (PPP), which is described in <nplcit id="ncit0005" npl-type="s"><text>RFC 1990, entitled The PPP Multilink Protocol (MP), published August 1996</text></nplcit>, etc. Other examples of link bundles will be understood by those skilled in the art, and those mentioned herein are merely examples. For instance, links of VLANs (Virtual LANs, or a group of network devices/elements on different physical LAN segments operating as though they were on the same physical LAN segment) may also be bundled.</p><p id="p0011" num="0011">Just as BFD may be used to very rapidly determine connectivity between two nodes, it may also be desirable to rapidly determine the maintained operation (i.e., connectivity) of a link bundle between two nodes (or more, as will be understood by those skilled in the art). A BFD session on a link bundle should remain active while the bundle is active, i.e., still able to transmit traffic. In other words, so long as one or more (configurable) links of the bundle ("bundle links") are operational, the bundle, and hence the BFD session, should remain active. Accordingly, none of the following events should cause the BFD session on the bundle to fail if other links of the bundle are still operational: failure of a bundle link; online insertion and removal (OIR) of a line card (LC) that hosts one or more bundle links; addition of a link to the bundle; removal of a bundle link; shutdown of a bundle link; failure of a centralized route processor (RP) or control card of a node (RP failover); etc.</p><p id="p0012" num="0012">One solution that offers BFD for link bundles is a centralized BFD session, such as an RP-based BFD session. In a centralized BFD session, the RP (or control card) monitors the status of the BFD session and each of the bundle links. BFD messages may be sent on each bundle link so that while at least one bundle link is operational, so is the bundle, and consequently so is the centralized BFD session. In many situations, however, the large number of BFD messages sent between the nodes may violate various BFD parameters, such as, e.g., maximum packet transmissions or time between packets as agreed upon during BFD session initialization (negotiation). Also, two nodes at either end of a link bundle, e.g., routers (layer 3), may be separated by one or more intermediate<!-- EPO <DP n="6"> --> switches (layer 2). The one or more switches may receive a plurality of BFD messages from one router, but based on routing/forwarding decisions at the switch (e.g., layer 2 hashing algorithms), the switch may only continue the transmission of BFD messages over a single bundle link, leaving the other bundle links unmonitored. Furthermore, the two routers may be connected to the switch by a different number of links (e.g., a link bundle from each router terminates at the switch), so a one-to-one mapping of BFD messages on individual links is not possible.</p><p id="p0013" num="0013">Alternatively, to address some of the limitations of sending BFD messages over all bundle links, the centralized BFD session may instead send and receive BFD messages over a single link. While the BFD messages are received by that single link, the link bundle is still operational. When BFD messages are no longer received on that link, the centralized BFD session must select a different link of the bundle to send and receive BFD messages.</p><p id="p0014" num="0014">A major disadvantage to operating a centralized BFD session for link bundles is that if the RP (control card) fails, the centralized BFD session also fails, resulting in a false indication of link bundle failure where at least one LC hosting the link bundle is still operational. Clearly, for many applications, the centralized BFD session approach is unreliable. Further disadvantages include poor scalability for multiple link bundles, and decreased performance. For instance, the RP is often tasked with many different operations of the node, such as updating routing tables, generating advertisement messages, etc., as will be understood by those skilled in the art. As such, the time dedicated to the BFD session may be less than necessary to maintain the high-demand reaction time of the BFD protocol (i.e., sub-second failure detection). To compensate for the centralized BFD session's potentially slower reaction time (e.g., for selecting new links during single-link BFD sessions), it may be necessary to use longer timeout values (hold timers) to allow the RP to adjust to changes in the network. There remains a need, therefore, for a technique that efficiently maintains BFD on a bundle of links to address the problems mentioned above.</p><p id="p0015" num="0015">An article entitled "<nplcit id="ncit0006" npl-type="s"><text>Bidirectional Forwarding Detection; draft-ietf-bfd-base-04.txt" by D. Katz et al, published as a Standard Working Draft of the Internet Engineering Task Force (IETF)</text></nplcit>, XP 015042305 describes a protocol intended to detect faults in the bidirectional path between two forwarding engines. It operates independently of media, data protocols, and routing protocols. <patcit id="pcit0001" dnum="US2005083928A"><text>US Patent Application Publication No. 2005/083928</text></patcit> discloses local rerouting around a failed component link of a link bundle by immediately substituting one or more other component links of the same link bundle. The substitution of component links is performed at the point of failure without signaling to other nodes. This minimizes signaling traffic particularly when large numbers of LSPs are impacted by a single component link failure.<!-- EPO <DP n="7"> --></p><heading id="h0003"><b>SUMMARY OF THE INVENTION</b></heading><p id="p0016" num="0016">The present invention is directed to a technique for efficiently and dynamically maintaining bidirectional forwarding detection (BFD) on a bundle of links in a computer network. According to the novel technique, one or more "standby" BFD sessions may be established on one or more corresponding line cards (LCs), the LCs having one or more links of the bundle (bundle links). Once established, one of the standby BFD sessions may be selected as an "active" BFD session based on activity of one of the bundle links of the corresponding LC. For example, the active BFD session may be selected in response receiving a BFD message on a bundle link of the corresponding LC. Also, BFD messages may be transmitted from one of the bundle links of the active BFD session, e.g., the link receiving BFD messages. In response to inactivity of the transmitting link (e.g., failure, removal, etc.), the active BFD session may switch to another available active bundle link, and if no other active bundle links are available to the active BFD session, one of the standby BFD sessions is selected as the new active BFD session. In the event no other standby BFD sessions exist, the link bundle is determined to have failed.</p><p id="p0017" num="0017">Advantageously, the novel technique efficiently and dynamically maintains BFD on a bundle of links in a computer network. By alternating between one or more standby BFD sessions on corresponding LCs as the active BFD session for a bundle of links, the novel technique provides greater performance, scalability, and reliability over a centralized BFD session. For instance, the BFD sessions on LCs may continue to operate regardless of a failure of a centralized process (e.g., a route processor, RP) managing the LCs. Also, by maintaining standby BFD sessions, more rapid handling of link and/or LC failure is possible, thus more aggressive BFD timeouts may be used. Further, the dynamic nature of the novel technique (e.g., selecting the active BFD session) alleviates the need for cumbersome manual configuration.</p><heading id="h0004"><b>BRIEF DESCRIPTION OF THE DRAWINGS</b></heading><p id="p0018" num="0018">The above and further advantages of the invention may be better understood by referring to the following description in conjunction with the accompanying drawings in<!-- EPO <DP n="8"> --> which like reference numerals indicate identically or functionally similar elements, of which:
<ul><li><figref idrefs="f0001">Fig. 1</figref> is a schematic block diagram of an exemplary computer network that may be advantageously used with the present invention;</li><li><figref idrefs="f0002">Fig. 2</figref> is a schematic block diagram of an exemplary node that may be advantageously used with the present invention;</li><li><figref idrefs="f0003">Fig. 3</figref> is a schematic block diagram of an exemplary BFD message that may be used in accordance with the present invention;</li><li><figref idrefs="f0004">Fig. 4</figref> is a flowchart illustrating a procedure for establishing BFD sessions for a bundle of links in accordance with the present invention;</li><li><figref idrefs="f0005">Fig. 5</figref> is a flowchart illustrating a procedure for use with punting received BFD messages in accordance with the present invention;</li><li><figref idrefs="f0006">Fig. 6</figref> is a flowchart illustrating a procedure for switching active BFD sessions based on received BFD messages in accordance with the present invention;</li><li><figref idrefs="f0007">Fig. 7</figref> is a flowchart illustrating a procedure for responding to a determined possible bundle link failure in accordance with the present invention; and</li><li><figref idrefs="f0008">Fig. 8</figref> is a schematic block diagram of an exemplary computer network having a link bundle between three nodes that may be advantageously used with the present invention.</li></ul></p><heading id="h0005"><b>DETAILED DESCRIPTION OF AN ILLUSTRATIVE EMBODIMENT</b></heading><p id="p0019" num="0019"><figref idrefs="f0001">Fig. 1</figref> is a schematic block diagram of an exemplary computer network 100 comprising a plurality of nodes A-C, such as routers, switches, or other network devices, interconnected as shown. For instance, node A may be connected to node C via a plurality of links arranged as a first bundle interface (link bundle), and node B may be connected to node C via a plurality of links arranged as a second link bundle. Illustratively, nodes A and B may be embodied as routers (layer 3), while node C may be embodied as a switch<!-- EPO <DP n="9"> --> (layer 2). As such, the link bundles may appear to each of the routers A and B as a single link bundle (layer 3) from A to B, as will be understood by those skilled in the art. The nodes may be a part of one or more autonomous systems, routing domains, or other networks or subnetworks. These examples are merely representative. Those skilled in the art will understand that any number of routers, switches, nodes, links, etc. may be used in the computer network 100 and connected in a variety of ways, and that the view shown herein is for simplicity. For example, the nodes may be configured with connections embodied as virtual local area networks (VLANs), as will be understood by those skilled in the art.</p><p id="p0020" num="0020">Data packets may be communicated by the nodes A-C using predefined network communication protocols such as the Transmission Control Protocol/Internet Protocol (TCP/IP), User Datagram Protocol (UDP), Asynchronous Transfer Mode (ATM) protocol, Frame Relay protocol, Internet Packet Exchange (IPX) protocol, etc. Routing decisions within a particular network may rely on predetermined "interior" gateway protocols (IGPs), such as conventional link-state or distance-vector protocols. In addition, data packets containing network topology information may be exchanged among networks using "external" gateway protocols, such as the Border Gateway Protocol (BGP). Those skilled in the art will understand that other communication protocols may be used within and among the networks, and that those mentioned above are merely representative.</p><p id="p0021" num="0021"><figref idrefs="f0002">Fig. 2</figref> is a schematic block diagram of an exemplary node 200 that may be advantageously used with the present invention, such as a router. The node comprises a plurality of network interfaces 210 (e.g., line cards, LCs), a processor 220, and a memory 240 interconnected by a system bus 250. The network interfaces 210 contain the mechanical, electrical and signaling circuitry for communicating data over one or more physical links coupled to the network 100. The network interfaces may be further configured to transmit and/or receive data using a variety of different communication protocols, including, <i>inter alia,</i> TCP/IP, UDP, ATM, synchronous optical networks (SONET), wireless protocols, Frame Relay, Ethernet, Fiber Distributed Data Interface (FDDI), etc. Notably, a physical network interface 210 may also be used to implement one or more virtual network interfaces, such as for VPN access, known to those skilled in the art.<!-- EPO <DP n="10"> --></p><p id="p0022" num="0022">The memory 240 comprises a plurality of storage locations that are addressable by the processor 220 (e.g., a route processor, RP) and the network interfaces 210 for storing software programs and data structures associated with the present invention. The processor 220 may comprise necessary elements or logic adapted to execute the software programs and manipulate the data structures, such as routing tables or virtual routing tables (not shown). A router operating system 242 (e.g., the Internetworking Operating System, or IOS™, of Cisco Systems, Inc.), portions of which are typically resident in memory 240 and executed by the processor, functionally organizes the router by, <i>inter alia,</i> invoking network operations in support of software processes and/or services executing on the router. These software processes and/or services may comprise routing services 247, bidirectional forwarding detection (BFD) services 244 (e.g., a centralized BFD service), and Inter-Interface Relationships (IIR) module 249. It will be apparent to those skilled in the art that other processor and memory means, including various computer-readable media, may be used to store and execute program instructions pertaining to the inventive technique described herein.</p><p id="p0023" num="0023">Routing services 247 contain computer executable instructions executed by processor 220 to perform functions provided by one or more routing protocols, such as OSPF, IS-IS, BGP, etc. These functions may be configured to manage a forwarding information database (not shown) containing, e.g., data used to make forwarding decisions. Routing services 247 may also perform functions related to virtual routing protocols, such as maintaining virtual routing/forwarding (VRF) instances (not shown), etc., as will be understood by those skilled in the art.</p><p id="p0024" num="0024">IIR module 249 (or a "bundle membership service") contains computer executable instructions executed by processor 220 to exchange and interpret information regarding bundles for which the node 200 hosts one or more bundle links. For instance, routers A and B may exchange IIR notifications to respectively inform each other of bundle-related events, such as link creation, link deletion, and state change (e.g., active, inactive) of a link within the bundle (i.e. link integrity control messages). The nodes hosting one or more bundle links may synchronize their information by exchanging notifications (similar to IGP and/or BGP notifications) that may comprise, e.g., interface handles, interface states, interface types, member bandwidths, member identifiers (IDs), etc., as will<!-- EPO <DP n="11"> --> be understood by those skilled in the art. Those skilled in the art will also understand that the use of an IIR module herein is merely representative, and that other means known to those skilled in the art to obtain link bundle information may be used in accordance with the present invention.</p><p id="p0025" num="0025">BFD services (or process) 244 contain computer executable instructions executed by processor 220 to verify connectivity between two systems/devices, depending on the transmission of BFD control packets ("BFD messages") between the two devices. Assume, for example, that router A wishes to verify its connectivity to router B (i.e., through switch C) using BFD. Router A may transmit a BFD message to router B, and router A verifies connectivity based on a response/non-response from router B, e.g., within a particular time period. If router A does not receive a response from router B within the time period, router A determines that the BFD session has failed or "timed out" (or is "down"), accordingly. (Notably, a more detailed description of this process for link bundles in accordance with the present invention is provided below.)</p><p id="p0026" num="0026"><figref idrefs="f0003">Fig. 3</figref> illustrates an exemplary BFD message 300 that may be transmitted by BFD nodes/routers 200. Illustratively, the BFD message 300 is a generic BFD message, and those skilled in the art will understand that other BFD messages may comprise other fields accordingly. The message 300 includes an encapsulation protocol header 310, an optional BFD header field 315, a discriminator values (e.g., a "My Discriminator" and/or "Your Discriminator) field 320, and a field for other BFD information 325. As those skilled in the art will understand, BFD messages 300 are sent in an encapsulation appropriate to the environment (e.g., TCP/IP, MPLS, etc.). Thus, the encapsulation protocol header 310 contains information standard for the specific type of encapsulation. A source address 312 and destination address 313 within the header may be network addresses for the sending device and receiving device, respectively.</p><p id="p0027" num="0027">The BFD header field 315 may comprise standard BFD header information, such as, e.g., a BFD version number, a message length, certain flags, etc., or other information (more or less) as configured by the sending device. For example, a state field 316 may be included within the header 315 that indicates a state of the BFD session at the sending node (e.g., UP, DOWN, INIT, or ADMINDOWN, maintained by a BFD state machine of<!-- EPO <DP n="12"> --> BFD services 244), which may then be used by the receiving node to update its BFD session state accordingly. Because a sending device may have more than one BFD session established at a time (e.g., with the same receiving device, or other receiving devices), the discriminator fields 320 contain sufficient information to demultiplex the BFD messages 300 to the correct BFD session once it has been received by the receiving device. An example discriminator may be an opaque value that identifies each BFD session, and which is unique among all BFD sessions at each device. For instance, a "My Discriminator" value must be unique at the sending device, while a "Your Discriminator" value must be unique at the receiving device. Also, the other BFD information field 325 may be used according to the BFD protocol, such as, e.g., timer interval values, authentication, etc. Notably, BFD may operate across any number of links and at any protocol layer, e.g., Physical, Data Link, Network, Virtual, etc., as will be understood by those skilled in the art. As mentioned above, the BFD protocol is further described in the above-mentioned Internet Draft entitled <i>Bidirectional Forwarding Detection &lt;draft-ietf-bfd-base-04.txt&gt;.</i></p><p id="p0028" num="0028">The present invention is directed to a technique for efficiently and dynamically maintaining BFD on a bundle of links in a computer network. According to the novel technique, one or more "standby" BFD sessions may be established on one or more corresponding LCs, the LCs having one or more links of the bundle (bundle links). Once established, one of the standby BFD sessions may be selected as an "active" BFD session based on activity of one of the bundle links of the corresponding LC. For example, the active BFD session may be selected in response receiving a BFD message on a bundle link of the corresponding LC. Also, BFD messages may be transmitted from one of the bundle links of the active BFD session, e.g., the link receiving BFD messages. In response to inactivity of the transmitting link (e.g., failure, removal, etc.), the active BFD session may switch to another available active bundle link, and if no other active bundle links are available to the active BFD session, one of the standby BFD sessions is selected as the new active BFD session. In the event no other standby BFD sessions exist, the link bundle is determined to have failed.</p><p id="p0029" num="0029">In accordance with the present invention, BFD services 244, e.g., a "master" BFD process executing on the RP 220 of a node 200, initiates a link bundle BFD session by<!-- EPO <DP n="13"> --> creating one or more "agent" BFD sessions executing on BFD services 212a-n of each LC 210a-n hosting a link of the bundle. For example, router A of <figref idrefs="f0001">Fig. 1</figref> may wish to monitor connectivity to router B (e.g., either over a link bundle or a bundle VLAN). As such, each LC 210 of router A hosting a link of the bundle connected to router B (e.g., through switch C, as will be understood by those skilled in the art) establishes an agent BFD session. Once the agent BFD sessions are established, BFD responsibilities may be given to those sessions, such that the agent BFD sessions are completely (100%) autonomous from the master BFD session. Accordingly, in the event the RP (or control card) fails, is changed, restarted, etc., (i.e., master BFD services 244 is brought "off-line"), the link bundle BFD session remains operational on the BFD services 212 of LCs 210.</p><p id="p0030" num="0030">Also in accordance with the present invention, a new state, "STANDBY," is added to the states (i.e., UP, DOWN, INIT, and ADMINDOWN) of the BFD protocol. The novel STANDBY state is an internal state of the BFD state machine of the BFD sessions 212a-n, i.e., the state is not signaled to receiving nodes of the BFD session (e.g., in state field 316 of BFD messages 300). During the establishment of the agent BFD sessions, each agent BFD session is placed in the STANDBY state, i.e., is established as a standby BFD session.</p><p id="p0031" num="0031">Once established, each of the standby BFD sessions determines whether it should be designated as the active BFD session according to an algorithm used by all of the standby BFD sessions. By using the same algorithm, it can be substantially assured that only one standby BFD session will determine that it is the active BFD session. For example, a simple algorithm may consist of selecting the BFD session on an LC having a lowest identifier value (e.g., "1"). Other algorithms may be used to initially select the active BFD session in accordance with the present invention, as will be understood by those skilled in the art. Also, the initial selection algorithm may be a slower algorithm than typically necessary in the high-speed demand of BFD since the BFD session (and the transmission of BFD messages) has yet to be activated (i.e., to be "UP"). Upon determining that it should be the active BFD session, the designated active BFD session may notify the remaining standby BFD sessions of its active status, thus preventing any disagreements (notably, e.g., as a worst case with a "race condition" as will be understood by those skilled in the art). Communication among the active and standby BFD<!-- EPO <DP n="14"> --> sessions, e.g., the active status notification above, may be performed by "Notifier" processes 213a-n of the active and standby BFD sessions. (The master BFD session 244 may also have a Notifier process 245 to communicate with the agent (active and/or standby) BFD sessions.) Notably, in the event a new link is added to the link bundle on a new LC, the new LC establishes a standby BFD session accordingly.</p><p id="p0032" num="0032">Upon selecting the active BFD session (e.g., on LC 210 of router A), the active BFD session may transmit BFD messages 300 to the receiving node (e.g., router B) in accordance with the BFD protocol. In the event the active BFD session hosts more than one bundle link, a single link is selected as the transmitting link. Those skilled in the art will understand that active (distributing) bundle links may be used with the BFD sessions, unless, however, there are no active links, in which case the BFD sessions may be configured to use inactive (collecting) links (e.g., for a short period of time until an active link becomes available, as will be further understood by those skilled in the art). As mentioned above, the state field 316 of the BFD message 300 only contains one of either UP, DOWN, INIT, and ADMINDOWN states. Notably, the state of the active BFD session may be shared with (e.g., by Notifier processes 213) with the standby BFD sessions.</p><p id="p0033" num="0033">Due to the characteristics of link bundles as will be understood by those skilled in the art (e.g., especially two link bundles on either side of a layer 2 switch between two nodes, as in <figref idrefs="f0001">Fig. 1</figref>), an asymmetric path may result during the transmission of the BFD messages. In other words, the active BFD session of a node may have selected a transmitting link to send the BFD messages, but the node may receive returned BFD messages on another link, possibly on another LC. In response to this, the present invention may either "punt" (forward) the received BFD messages from the receiving LC to the active (transmitting) LC, or switch the active BFD session to the standby BFD session of the receiving LC.</p><p id="p0034" num="0034">To punt the received BFD message, the receiving BFD session may quickly forward the received BFD messages to the active BFD session for processing. A more optimal approach may be to punt received BFD messages during initial establishment of the link bundle BFD session, but then to only send notification from the receiving standby BFD sessions when a BFD event occurs. For instance, once a standby BFD session begins<!-- EPO <DP n="15"> --> receiving BFD messages, it may notify the active BFD session (e.g., through Notifier processes 213) that it is receiving BFD messages. Subsequently, the receiving standby BFD session may only send further notifications to the active BFD session if the received BFD messages stop arriving (i.e., the BFD session times-out).</p><p id="p0035" num="0035">Alternatively, the standby BFD session receiving the returned BFD messages may select itself as the active BFD session, which may then begin transmitting BFD messages over the same link upon which the returned messages were received. By doing this, the originally asymmetric path may become a symmetric path (at least as seen by the node), transmitting and receiving BFD messages on the same bundle link. Also, by maintaining a single active BFD session (for both transmitting and receiving), multiple LCs are not required to share information and resources with other LCs. The new active BFD session may notify the other BFD sessions (i.e., standby BFD sessions and the previously active BFD session) that it has assumed the role of the active BFD session. Also, when a standby BFD session assumes the role as the active BFD session, the previously active BFD session may be configured to continue transmitting BFD messages on the previous bundle link until the new link of the new active BFD session is confirmed as transmitting messages (e.g., learned through a notification from Notifier process 213). This helps prevent against false failure notification of the link bundle due to any latency involved with switching to a new active BFD session. Further, upon receiving notification that a new active BFD session has been selected, the previously active BFD session enters the STANDBY state, thus becoming a standby BFD session.</p><p id="p0036" num="0036">Notably, when switching the active BFD session based on received BFD messages, the peer BFD node (i.e., the node sending the received BFD messages) may change links frequently, e.g., due to a problem or other reason generally unknown to the receiving BFD node. If this happens, the receiving BFD node may regularly re-host the BFD session to a new active BFD session, which is undesirable. Furthermore, should both BFD nodes oscillate in this manner, the BFD session may never synchronize and may never be functional (i.e., UP). To prevent this, an optional timer may be introduced whereby a minimum amount of time must pass prior to switching active sessions in response to receiving a BFD message.<!-- EPO <DP n="16"> --></p><p id="p0037" num="0037">With the active BFD session selected and transmitting BFD messages 300, possible link failure may be detected when a returned BFD message is not received, or by some other internal detection mechanism (i.e., when the link fails internally). Note that a returned BFD message received on another link may also indicate a possible link failure, and may be responded to in the manner described above. In the event of a possible link failure, the active BFD session quickly selects another available bundle link upon which to begin transmitting the BFD messages. If the active BFD session hosts no other bundle links, another standby BFD session quickly assumes the role of the active BFD session, e.g., as notified by the previously active BFD session, or in response to the standby session's own selection algorithm (e.g., after learning of a possible link failure from the active BFD session). In this case, as mentioned above, the new active BFD session may notify the other BFD sessions of its state change (e.g., to ensure that there is no disagreement between active BFD sessions). Further, the LC 210 having previously active BFD session 212 may subsequently remove the previously active BFD session, since the LC no longer hosts any links of the bundle. Those skilled in the art will appreciate that an active link's becoming inactive may be treated in the same manner as a link failure, except the inactive link remains associated with the bundle (i.e., is not deleted).</p><p id="p0038" num="0038">Removal of an LC hosting an active BFD session for one or more bundle links is treated in a manner similar to that of a possible link failure. For instance, notification may generally be sent to other LCs hosting bundle links that an LC has been removed (e.g., online insertion and removal, OIR removal) in order to mark those removed links as deleted (i.e., no longer part of the bundle). If the LC was hosting the active BFD session, the remaining standby BFD sessions must select which among them is to become the new active BFD session. Typically, removal of an LC may be a "graceful" occurrence, where either the removed LC itself or the RP (control card) may send notification to remaining LCs either before removal or quickly thereafter. An LC failure, on the other hand, requires that the RP quickly inform the other LCs of the failure, else possibly causing false failure detection by the peer BFD node. This may occur more frequently, for example, when an LC is "brain-dead" (non-responsive), since the RP and/or other LCs may be unaware of its failure for a time longer than the high-speed BFD time-out period.<!-- EPO <DP n="17"> --></p><p id="p0039" num="0039">Once the active BFD session is switched to a new LC (e.g., in response to link failure, LC removal/failure, etc.), the active BFD session begins transmitting BFD messages over one of its available bundle links. In response, the received BFD messages no longer utilize the previous LC. If the received messages are received on the LC of the newly active BFD session, a symmetric path has been achieved. Otherwise, where the BFD messages are received at a standby BFD session, an asymmetric path results, which may be accommodated as described above (e.g., punting messages or switching the active session).</p><p id="p0040" num="0040">It is important that the peer BFD node also adapt quickly to a link/LC failure or removal. For instance, if the peer BFD node continues to send BFD messages to a failed LC, a false failure detection may result when the active BFD session does not receive a returned BFD message (or notification of a received BFD message at a standby BFD session). Also for example, if an LC fails, multiple bundle links may correspondingly become unavailable. Because timing is so important to BFD, it is highly desirable that an up-to-date topology of the link bundle exist at each of the BFD sessions. Otherwise, when switching from one link/LC to another link/LC, non-existent links/LCs may be attempted prior to finding one that exists and may be used appropriately. IIR module 249 (described above) may be used to convey the updated bundle information between peer BFD nodes as quickly as possible. Furthermore, because of the high-speed demands of BFD, prior to adjusting anything in accordance with the present invention described above (e.g., switching links or active BFD sessions) in response to a received IIR messages, the BFD node receiving the IIR message processes all information of the message, i.e., to ensure that multiple events (e.g., multiple links failing) are accounted for during calculations.</p><p id="p0041" num="0041">In accordance with the present invention, in the event no BFD sessions remain for the link bundle (e.g., no LCs host a bundle link) that may assume the active BFD session role, or no BFD sessions (active or standby) have received a returned BFD message for a configurable time-out period, the active BFD session (e.g., last remaining active BFD session) may determine that the link bundle has failed (i.e., is "down"). As those skilled in the art will understand, various bundle/node protection techniques may then be applied,<!-- EPO <DP n="18"> --> routes may be updated, error messages may be generated, etc., in response to the rapid link bundle BFD failure detection.</p><p id="p0042" num="0042"><figref idrefs="f0004">Fig. 4</figref> is a flowchart illustrating a procedure for establishing BFD sessions for a bundle of links in accordance with the present invention. The procedure 400 starts at step 405, and continues to step 410, where a link bundle is configured on peer BFD nodes, e.g., routers A and B. At step 415, one or more standby BFD sessions are established (e.g., by the RP or control card of router A) on LCs hosting at least one link of the bundle. Subsequently, one of the standby BFD sessions is selected as an active BFD session, such as, e.g., according to an algorithm as described above. Notably, the active BFD session may notify the standby BFD sessions that it is the active BFD session. At step 425, the active BFD session begins transmitting BFD messages from a particular link of the bundle, e.g., exchanging BFD initialization messages and BFD messages with the peer BFD router (e.g., router B). The procedure 400 to establish the BFD sessions then ends at step 430. Depending upon the configuration of the BFD node (router A), received BFD messages may either be punted (<figref idrefs="f0005">Fig. 5</figref>), or used to switch the active BFD session (<figref idrefs="f0006">Fig. 6</figref>), as described above.</p><p id="p0043" num="0043"><figref idrefs="f0005">Fig. 5</figref> is a flowchart illustrating a procedure for use with punting received BFD messages in accordance with the present invention. The procedure 500 starts at step 505, and continues to step 510, where the active BFD session (e.g., of router A) transmits BFD messages from a particular link of the bundle. If a BFD message is returned from the peer BFD node (e.g., router B) at step 515 and is received at the active BFD session (e.g., on the transmitting link or other link) in step 520, then the procedure continues to transmit BFD messages from the active BFD session in step 510. In the event, however, a returned BFD message is not received at the active BFD session at step 520, i.e., it is received at another (standby) BFD session, the receiving standby BFD session may punt the BFD message to the active BFD session (not shown). As described above, an optimization to punting begins at step 525, where if the received BFD message at the standby BFD session is the first BFD message received at the standby BFD session (e.g., first ever or first after a time-out), or if the BFD message is part of a BFD initialization message exchange, the standby BFD session notifies the active BFD session of the received BFD message (or punts the message to the active BFD session, e.g., for initialization<!-- EPO <DP n="19"> --> messages) at step 530. If at step 525 the received BFD message at the standby BFD session is not the first BFD message received at the standby BFD session, the procedure 500 continues to step 510 to transmit BFD messages from the active BFD session (i.e., the session has not timed-out).</p><p id="p0044" num="0044">Further to the optimization for punting BFD messages, if at step 515 a returned BFD message is not received, and the BFD session (e.g., a standby BFD session) had been previously receiving BFD messages at step 535, the BFD session notifies the active BFD session of the BFD time-out at step 540. Notably, the active BFD session may also determine that the BFD session has timed-out at step 540 if the active BFD session was previously receiving the BFD messages. Moreover, if at step 535 the BFD session was not previously receiving BFD messages, no action is taken by that BFD session, and the procedure 500 continues to transmit BFD messages from the active BFD session in step 510. After the time-out notification at step 540, if another BFD session has received a returned BFD message in time at step 545, the procedure 500 continues to transmit BFD messages from the active BFD session in step 510. Otherwise, no BFD sessions (active or standby) have received a returned BFD message at step 545, and the active BFD session may determine a possible failure of (at least) the transmitting link at step 550. The procedure 500 ends at step 555, e.g., to respond to the possible failed link as in <figref idrefs="f0007">Fig. 7</figref> below.</p><p id="p0045" num="0045"><figref idrefs="f0006">Fig. 6</figref> is a flowchart illustrating a procedure for switching active BFD sessions based on received BFD messages in accordance with the present invention. The procedure 600 starts at step 605, and continues to step 610, where the active BFD session (e.g., of router A) transmits BFD messages from a particular link of the bundle. If a BFD message is returned from the peer BFD node (e.g., router B) at step 615 and is received on the transmitting link (i.e., at the active BFD session) in step 620, then the procedure continues to transmit BFD messages from the active BFD session in step 610. If at step 620 the BFD message is not received on the transmitting link, but is received on the LC of the active BFD session at step 625, then the active BFD session configures itself to transmit future BFD messages over the receiving link at step 630, and continues to transmit BFD messages in step 610. If, however, at step 625 the BFD messages are received on an LC of a standby BFD session, the active BFD session changes to a standby BFD session in<!-- EPO <DP n="20"> --> step 635, and the receiving standby BFD session changes to the active BFD session in step 640. The new active BFD session configures itself to transmit future BFD messages over the receiving link at step 630, and continues to transmit BFD messages in step 610. If no BFD sessions (active or standby) have received a returned BFD message at step 615 in time, the active BFD session may determine a possible failure of (at least) the transmitting link at step 645. The procedure 600 ends at step 650, e.g., to respond to the possible failed link as in <figref idrefs="f0007">Fig. 7</figref>.</p><p id="p0046" num="0046"><figref idrefs="f0007">Fig. 7</figref> is a flowchart illustrating a procedure for responding to a determined possible bundle link failure in accordance with the present invention. The procedure 700 starts at step 705, and continues to step 710, where possible link failure is determined, e.g., as in <figref idrefs="f0005">Fig. 5</figref> or <figref idrefs="f0006">Fig. 6</figref> above (or by other internal link failure detection mechanisms). If at step 715 there are other links available at the active BFD session, the active BFD session configures itself to transmit future BFD messages over another available link at step 630, and the procedure 700 ends at step 750 (e.g., returning to <figref idrefs="f0005">Fig. 5</figref> or <figref idrefs="f0006">Fig. 6</figref> to transmit/process BFD messages). If at step 715 there are no other links available at the active BFD session, the corresponding LC removes the active BFD session (i.e., since the LC no longer hosts operational links of the bundle) at step 725. If there are remaining standby BFD sessions available at step 730, one of the standby sessions is selected as the new active BFD session in step 735. The new active BFD session then transmits BFD messages in step 740, and the procedure 700 ends at step 750 (e.g., returning to <figref idrefs="f0005">Fig. 5</figref> or <figref idrefs="f0006">Fig. 6</figref> to transmit/process BFD messages). On the other hand, if at step 730 there are no remaining standby BFD sessions, either the last active BFD session (prior to removal) or the master BFD session (e.g., on the RP) determines that the link bundle has failed in step 745, and the procedure 700 ends as step 750, e.g., for the BFD node to perform node protection techniques, etc.</p><p id="p0047" num="0047">Notably, those skilled in the art will understand that while the above description uses conventional BFD messages, the techniques described herein may also be applied to BFD Echo messages (returned to transmitting BFD node without being processed/used by peer node). As described above, however, the Echo messages may not return to the same LC (or BFD session) transmitting the messages, and needs to be dealt with accordingly.<!-- EPO <DP n="21"> --></p><p id="p0048" num="0048">Also, in an alternative embodiment of the present invention, the master BFD session executing on the RP (control card) may operate as the active BFD session, with at least one other standby BFD session executing on an LC hosting a bundle link. In this manner, RP failover may be treated just as an active BFD session failure/removal as described above. This alternative embodiment, however, still utilizes valuable RP resources and may not be optimal in terms of performance and/or scalability. However, in various situations and configurations as will be understood by those skilled in the art, this may provide a beneficial approach.</p><p id="p0049" num="0049">Advantageously, the novel technique efficiently and dynamically maintains BFD on a bundle of links in a computer network. By alternating between one or more standby BFD sessions on corresponding LCs as the active BFD session for a bundle of links, the novel technique provides greater performance, scalability, and reliability over a centralized BFD session. For instance, the BFD sessions on LCs may continue to operate regardless of a failure of a centralized process (e.g., a route processor, RP) managing the LCs. Also, by maintaining standby BFD sessions, more rapid handling of link and/or LC failure is possible, thus more aggressive BFD timeouts may be used. Further, the dynamic nature of the novel technique (e.g., selecting the active BFD session) alleviates the need for cumbersome manual configuration.</p><p id="p0050" num="0050">While there has been shown and described an illustrative embodiment that efficiently and dynamically maintains BFD on a bundle of links in a computer network, it is to be understood that various other adaptations and modifications may be made within the scope of the present invention. For example, the invention has been shown and described herein for maintaining BFD on a bundle of links between two nodes. However, the invention in its broader sense is not so limited, and may, in fact, apply to link bundles between multiple nodes as well. <figref idrefs="f0008">Fig. 8</figref> shows an exemplary computer network 800 having a link bundle between three nodes, where a node X has a link bundle to both nodes Y and Z as shown. In accordance with the present invention, line cards on both node Y and node Z must rapidly communicate the states of the standby and active BFD sessions as described above, such as via a communication protocol between Notifier processes 245 in both nodes. Those skilled in the art will understand that <figref idrefs="f0008">Fig. 8</figref> is merely<!-- EPO <DP n="22"> --> an example of link bundles between three or more nodes, and that other configurations may be used with the present invention.</p><p id="p0051" num="0051">Moreover, while the above description with reference to <figref idrefs="f0001">Fig. 1</figref> mentions a switch (switch C) between BFD peers, a switch is not necessary for the present invention, and is merely an example. Those skilled in the art will understand that the present invention may be used for back-to-back nodes (routers) sharing an equal number of bundle links (i.e., a one-to-one link mapping). Those skilled in the art will also understand that while the examples given above refer to interfaces and links generally, both physical and virtual interfaces and/or links may be used in accordance with the present invention, including, for example, links for bundle VLANs, as described above. Further, while the above examples refer to routers as the peer BFD nodes, any network node capable of performing BFD services may be used in accordance with the present invention.</p><p id="p0052" num="0052">The foregoing description has been directed to specific embodiments of this invention. It will be apparent, however, that other variations and modifications may be made to the described embodiments, with the attainment of some or all of their advantages. For instance, it is expressly contemplated that the teachings of this invention can be implemented as software, including a computer-readable medium having program instructions executing on a computer, hardware, firmware, or a combination thereof. Also, electromagnetic signals may be generated to carry computer executable instructions that implement aspects of the present invention over, e.g., a wireless data link or a data network, such as the Internet. Accordingly this description is to be taken only by way of example and not to otherwise limit the scope of the invention. Therefore, it is the object of the appended claims to cover all such variations and modifications as come within the scope of the invention.</p></description><claims mxw-id="PCLM56979200" lang="DE" load-source="patent-office"><!-- EPO <DP n="26"> --><claim id="c-de-01-0001" num="0001"><claim-text>Verfahren zur effizienten und dynamischen Aufrechterhaltung der bidirektionalen Weiterleitungserfassung, BFD, an einem Bündel von Verknüpfungen in einem Computernetzwerk, umfassend:
<claim-text>Aufrechterhalten einer Mehrzahl von BFD-Zustand-Maschinen, wobei jede BFD-Zustandsmaschine einen oder mehrere eines Up-Zustands, eines Down-Zustands, eines Init-Zustands und/oder eines Admindown-Zustands, sowie ferner einen Standby-Zustand aufweist, der einen internen Zustand der BFD-Zustand-Maschine der BFD-Sitzung darstellt,</claim-text>
<claim-text>Einrichten (415) einer Mehrzahl von Standby-BFD-Sitzungen auf entsprechenden Leitungskarten, LCs, die eine oder mehrere Verknüpfungen des Bündels, Bündelverknüpfungen, aufweisen, wobei jede BFD-Sitzung durch Platzieren der BFD-Sitzung in einen Standby-Zustand als Standby-BFD-Sitzung eingerichtet wird;</claim-text>
<claim-text>Auswählen (420) einer der Mehrzahl von BFD-Sitzungen als aktive BFD-Sitzung aufgrund einer Aktivität einer der einen oder der mehreren Bündelverknüpfungen einer entsprechenden LC;</claim-text>
<claim-text>Senden (425) von BFD-Nachrichten von einer sendenden Bündelverknüpfung einer entsprechenden LC der aktiven BFD-Sitzung;</claim-text>
<claim-text>Empfangen (615) von zurückgegebenen BFD-Nachrichten auf entweder der sendenden Bündelverknüpfung oder einer anderen Bündelverknüpfung der LC der aktiven BFD-Sitzung oder einer Bündelverknüpfung einer entsprechenden LC einer Standby-BFD-Sitzung.</claim-text></claim-text></claim><claim id="c-de-01-0002" num="0002"><claim-text>Verfahren nach Anspruch 1, ferner umfassend:
<claim-text>Anfängliches Auswählen der aktiven BFD-Sitzung aus irgendeiner Standby-BFD-Sitzung mit einer aktiven Bündelverknüpfung.</claim-text><!-- EPO <DP n="27"> --></claim-text></claim><claim id="c-de-01-0003" num="0003"><claim-text>Verfahren nach Anspruch 1, wobei das Auswählen umfasst:
<claim-text>Auswählen der aktiven BFD-Sitzung in Antwort auf das Empfangen einer BFD-Nachricht auf einer Bündelverknüpfung der aktiven BFD-Sitzung auf einer Bündelverknüpfung der entsprechenden LC.</claim-text></claim-text></claim><claim id="c-de-01-0004" num="0004"><claim-text>Verfahren nach Anspruch 1, wobei das Senden ferner umfasst:
<claim-text>Senden von BFD-Nachrichten von einer BFD-Nachrichten empfangenden Bündelverknüpfung.</claim-text></claim-text></claim><claim id="c-de-01-0005" num="0005"><claim-text>Verfahren nach Anspruch 1, ferner umfassend:
<claim-text>in Antwort auf Inaktivität der sendenden Bündelverknüpfung, wobei die aktive BFD-Sitzung eine oder mehrere andere aktiven Bündelverknüpfungen aufweist, Senden der BFD-Nachrichten von einer der einen oder der mehreren anderen aktiven Bündelverknüpfungen.</claim-text></claim-text></claim><claim id="c-de-01-0006" num="0006"><claim-text>Verfahren nach Anspruch 1, ferner umfassend:
<claim-text>in Antwort auf Inaktivität der sendenden Bündelverknüpfung, wobei die aktive BFD-Sitzung keine anderen aktiven Bündelverknüpfungen aufweist, Auswählen einer anderen aus der Mehrzahl von Standby-BFD-Sitzungen als aktive BFD-Sitzung.</claim-text></claim-text></claim><claim id="c-de-01-0007" num="0007"><claim-text>Verfahren nach Anspruch 1, wobei die Empfangende die zurückgegebene BFD-Nachricht auf einer Bündelverknüpfung einer entsprechenden LC einer Standby-BFD-Sitzung empfängt, und das Verfahren ferner umfasst:
<claim-text>Weiterleiten der BFD-Nachricht von der Standby-BFD-Sitzung an die aktive BFD-Sitzung.</claim-text><!-- EPO <DP n="28"> --></claim-text></claim><claim id="c-de-01-0008" num="0008"><claim-text>Verfahren nach Anspruch 1, ferner umfassend:
<claim-text>Einrichten der aktiven BFD-Sitzung als Standby-BFD-Sitzung in Antwort auf das Auswählen einer neuen aktiven BFD-Sitzung.</claim-text></claim-text></claim><claim id="c-de-01-0009" num="0009"><claim-text>Verfahren nach Anspruch 1, ferner umfassend:
<claim-text>Entfernen einer BFD-Sitzung von einer LC in Antwort darauf, dass die LCs keine aktiven Verknüpfungen für das Bündel haben.</claim-text></claim-text></claim><claim id="c-de-01-0010" num="0010"><claim-text>Verfahren nach Anspruch 9, ferner umfassend:
<claim-text>Bestimmen, dass das Bündel von Verknüpfungen ausgefallen ist, falls keine aktiven bzw. keine Standby-BFD-Sitzungen existieren.</claim-text></claim-text></claim><claim id="c-de-01-0011" num="0011"><claim-text>Verfahren nach Anspruch 1, ferner umfassend:
<claim-text>Bestimmen, dass das Bündel von Verknüpfungen ausgefallen ist, falls keine BFD-Nachrichten weder von aktive noch von Standby-BFD-Sitzungen über Bündelverknüpfungen empfangen werden.</claim-text></claim-text></claim><claim id="c-de-01-0012" num="0012"><claim-text>Verfahren nach Anspruch 1, ferner umfassend:
<claim-text>Zuordnen einer neuen Verknüpfung zu einer neuen LC des Bündels; und</claim-text>
<claim-text>Einrichten einer neuen Standby-BFD-Sitzung auf der neuen LC.</claim-text></claim-text></claim><claim id="c-de-01-0013" num="0013"><claim-text>Verfahren nach Anspruch 1, ferner umfassend:
<claim-text>Betrachten einer Bündelverknüpfung als inaktiv in Antwort auf ein aus der folgenden Gruppe ausgewähltes Ereignis: einen Ausfall einer Bündelverknüpfung, eine Entfernung einer Bündelverknüpfung, einen entsprechenden Ausfall einer LC, und eine entsprechende Entfernung einer LC.</claim-text><!-- EPO <DP n="29"> --></claim-text></claim><claim id="c-de-01-0014" num="0014"><claim-text>Verfahren nach Anspruch 1, wobei das Verknüpfungsbündel entweder ein Internet Protocol, IP, Bündel oder ein virtuellen privates Netzwerk, VPN, Bündel ist.</claim-text></claim><claim id="c-de-01-0015" num="0015"><claim-text>Vorrichtung (200) zur effizienten und dynamischen Aufrechterhaltung der bidirektionalen Weiterleitungserfassung, BFD, an einem Bündel von Verknüpfungen in einem Computernetzwerk, wobei die Vorrichtung umfasst:
<claim-text>Mittel (220) zur Durchführung aller Schritte des Verfahrens nach einem der vorhergehenden Ansprüche.</claim-text></claim-text></claim><claim id="c-de-01-0016" num="0016"><claim-text>Computerlesbares Medium, enthaltend ausführbare Programmanweisungen zur effizienten und dynamischen Aufrechterhaltung der bidirektionalen Weiterleitungserfassung, BFD, an einem Bündel von Verknüpfungen in einem Computernetzwerk, wobei es sich bei den ausführbaren Programmanweisungen um Programmanweisungen handelt, die bei Ausführung auf einem oder mehreren Prozessoren alle Schritte des Verfahrens nach einem der Ansprüche 1 bis 14 durchführen.</claim-text></claim><claim id="c-de-01-0017" num="0017"><claim-text>Knoten (200) zur effizienten und dynamischen Aufrechterhaltung der bidirektionalen Weiterleitungserfassung, BFD, an einem Bündel von Verknüpfungen in einem Computernetzwerk, umfassend:
<claim-text>eine oder mehrere Leitungskarten, LCs, (210) mit einer oder mehreren Verknüpfungen des Bündels, Bündelverknüpfungen,</claim-text>
<claim-text>eine Vorrichtung nach Anspruch 15, wobei das Mittel einen oder mehrere Prozessoren umfasst, wobei jeder Prozessor an eine der einen oder der mehreren LCs gekoppelt und angepasst ist, zur Durchführung aller Schritte des Verfahrens nach einem der Ansprüche 1 bis 14 Software-Prozesse auszuführen.</claim-text></claim-text></claim></claims><claims mxw-id="PCLM56979201" lang="EN" load-source="patent-office"><!-- EPO <DP n="23"> --><claim id="c-en-01-0001" num="0001"><claim-text>A method for efficiently and dynamically maintaining bidirectional forwarding detection, BFD, on a bundle of links in a computer network, the method comprising:
<claim-text>maintaining a plurality of BFD state machines, each BFD state machine having one or more of an up state, a down state, an init state, and an admindown state, and also having a standby state which is an internal state of the BFD state machine of the BFD session,</claim-text>
<claim-text>establishing (415) a plurality of standby BFD sessions on corresponding line cards, LCs, the LCs having one or more links of the bundle, bundle links, each BFD session configured as a standby BFD session by placing the BFD session in the standby state;</claim-text>
<claim-text>selecting (420) one of the plurality of standby BFD sessions as an active BFD session based on an activity of one of the one or more bundle links of a corresponding LC;</claim-text>
<claim-text>transmitting (425) BFD messages from a transmitting bundle link of a corresponding LC of the active BFD session;</claim-text>
<claim-text>receiving (615) returned BFD messages on either the transmitting bundle link, or another bundle link of the LC of the active BFD session or a bundle link of a corresponding LC of a standby BFD session.</claim-text></claim-text></claim><claim id="c-en-01-0002" num="0002"><claim-text>The method as in claim 1, further comprising:
<claim-text>initially selecting the active BFD session from any standby BFD session with an active bundle link.</claim-text></claim-text></claim><claim id="c-en-01-0003" num="0003"><claim-text>The method as in claim 1, wherein the selecting comprises:
<claim-text>selecting the active BFD session in response to receiving a BFD message on a bundle link of the corresponding LC.</claim-text></claim-text></claim><claim id="c-en-01-0004" num="0004"><claim-text>The method as in claim 1, wherein the transmitting further comprises:
<claim-text>transmitting BFD messages from the bundle link receiving BFD messages.</claim-text></claim-text></claim><claim id="c-en-01-0005" num="0005"><claim-text>The method as in claim 1, further comprising:
<claim-text>in response to inactivity of the transmitting bundle link, wherein the active BFD session has one or more other active bundle links, transmitting the BFD messages from one of the one or more other active bundle links.</claim-text><!-- EPO <DP n="24"> --></claim-text></claim><claim id="c-en-01-0006" num="0006"><claim-text>The method as in claim 1, further comprising:
<claim-text>in response to inactivity of the transmitting bundle link, wherein the active BFD session has no other active bundle links, selecting another of the plurality of standby BFD sessions as the active BFD session.</claim-text></claim-text></claim><claim id="c-en-01-0007" num="0007"><claim-text>The method as in claim 1, wherein the<br/>
receiving receives the returned BFD message on a bundle link of a corresponding LC of a standby BFD session, and the method further comprises:
<claim-text>punting the BFD message from the standby BFD session to the active BFD session.</claim-text></claim-text></claim><claim id="c-en-01-0008" num="0008"><claim-text>The method as in claim 1, further comprising:
<claim-text>configuring the active BFD session as a standby BFD session in response to selecting a new active BFD session.</claim-text></claim-text></claim><claim id="c-en-01-0009" num="0009"><claim-text>The method as in claim 1, further comprising:
<claim-text>removing a BFD session from an LC in response to the LCs having no active links for the bundle.</claim-text></claim-text></claim><claim id="c-en-01-0010" num="0010"><claim-text>The method as in claim 9, further comprising:
<claim-text>determining that the bundle of links has failed in the event no active or standby BFD sessions exist.</claim-text></claim-text></claim><claim id="c-en-01-0011" num="0011"><claim-text>The method as in claim 1, further comprising:
<claim-text>determining that the bundle of links has failed in the event no active or standby BFD sessions receive BFD messages over bundle links.</claim-text></claim-text></claim><claim id="c-en-01-0012" num="0012"><claim-text>The method as in claim 1, further comprising:
<claim-text>associating a new link of a new LC to the bundle; and</claim-text>
<claim-text>establishing a new standby BFD session on the new LC.</claim-text></claim-text></claim><claim id="c-en-01-0013" num="0013"><claim-text>The method as in claim 1, further comprising:<!-- EPO <DP n="25"> -->
<claim-text>considering a bundle link to be inactive in response to an event selected from a group comprising: a bundle link failure, a bundle link removal, a corresponding LC failure, and a corresponding LC removal.</claim-text></claim-text></claim><claim id="c-en-01-0014" num="0014"><claim-text>The method as in claim 1, wherein the bundle of links is one of either an Internet Protocol, IP, bundle or a virtual private network, VPN, bundle.</claim-text></claim><claim id="c-en-01-0015" num="0015"><claim-text>An apparatus (200) for efficiently and dynamically maintaining bidirectional forwarding detection, BFD, on a bundle of links in a computer network, the apparatus comprising:
<claim-text>means (220) for carrying out all the steps of the method of any preceding claim.</claim-text></claim-text></claim><claim id="c-en-01-0016" num="0016"><claim-text>A computer readable medium containing executable program instructions for efficiently and dynamically maintaining bidirectional forwarding detection, BFD, on a bundle of links in a computer network, the executable program instructions comprising program instructions, which, when executed on one or more processors, carry out all the steps of the method of any one of claims 1 to 14.</claim-text></claim><claim id="c-en-01-0017" num="0017"><claim-text>A node (200) for efficiently and dynamically maintaining bidirectional forwarding detection, BFD, on a bundle of links in a computer network, the node comprising:
<claim-text>one or more line cards, LCs, (210) having one or more links of the bundle, bundle links;</claim-text>
<claim-text>an apparatus according to claim 15, wherein the means comprises one or more processors, each processor coupled to one of the one or more LCs and adapted to execute software processes to carry out all the steps of the method of any one of claims 1 to 14.</claim-text></claim-text></claim></claims><claims mxw-id="PCLM56979202" lang="FR" load-source="patent-office"><!-- EPO <DP n="30"> --><claim id="c-fr-01-0001" num="0001"><claim-text>Procédé permettant de conserver de manière efficace et dynamique une détection d'émission bidirectionnelle, BFD, sur un faisceau de liaisons dans un réseau informatique, le procédé comportant :
<claim-text>l'étape consistant à maintenir une pluralité de machines à états de BFD, chaque machine à états de BFD ayant un ou plusieurs parmi un état de disponibilité, un état d'indisponibilité, un état d'initialisation, et un état d'indisponibilité d'administration, et ayant aussi un état de mise en attente qui est un état interne de la machine à états de BFD de la session de BFD ;</claim-text>
<claim-text>l'étape consistant à établir (415) une pluralité de sessions de BFD en attente sur des cartes de lignes, LC, correspondantes, les LC ayant une ou plusieurs liaisons du faisceau, des liaisons de faisceau, chaque session de BFD étant configurée comme étant une session de BFD en attente en plaçant la session de BFD dans l'état de mise en attente ;</claim-text>
<claim-text>l'étape consistant à sélectionner (420) l'une de la pluralité de sessions de BFD en attente comme étant une session de BFD active en fonction d'une activité de l'une desdites une ou plusieurs liaisons de faisceau d'une LC correspondante ;</claim-text>
<claim-text>l'étape consistant à transmettre (425) des messages de BFD en provenance d'une liaison de faisceau de transmission d'une LC correspondante de la session de BFD active ;</claim-text>
<claim-text>l'étape consistant à recevoir (615) des messages de BFD retournés soit sur la liaison de faisceau de transmission, soit sur une autre liaison de faisceau de la LC de la session de BFD active ou une liaison de faisceau d'une LC correspondante d'une session de BFD en attente.</claim-text><!-- EPO <DP n="31"> --></claim-text></claim><claim id="c-fr-01-0002" num="0002"><claim-text>Procédé selon la revendication 1, comportant par ailleurs :
<claim-text>l'étape consistant à sélectionner initialement la session de BFD active parmi toute session de BFD en attente avec une liaison de faisceau active.</claim-text></claim-text></claim><claim id="c-fr-01-0003" num="0003"><claim-text>Procédé selon la revendication 1, dans lequel l'étape consistant à sélectionner comporte :
<claim-text>l'étape consistant à sélectionner la session de BFD active en réponse à la réception d'un message de BFD sur une liaison de faisceau de la LC correspondante.</claim-text></claim-text></claim><claim id="c-fr-01-0004" num="0004"><claim-text>Procédé selon la revendication 1, dans lequel l'étape consistant à transmettre comporte par ailleurs :
<claim-text>l'étape consistant à transmettre des messages de BFD en provenance de la liaison de faisceau recevant des messages de BFD.</claim-text></claim-text></claim><claim id="c-fr-01-0005" num="0005"><claim-text>Procédé selon la revendication 1, comportant par ailleurs :
<claim-text>en réponse à l'inactivité de la liaison de faisceau de transmission, dans lequel la session de BFD active a une ou plusieurs autres liaisons de faisceau actives, l'étape consistant à transmettre des messages de BFD en provenance de l'une parmi lesdites une ou plusieurs autres liaisons de faisceau actives.</claim-text></claim-text></claim><claim id="c-fr-01-0006" num="0006"><claim-text>Procédé selon la revendication 1, comportant par ailleurs :
<claim-text>en réponse à l'inactivité de la liaison de faisceau de transmission, dans lequel la session de BFD active n'a pas d'autres liaisons de faisceau actives, l'étape consistant à<!-- EPO <DP n="32"> --> sélectionner une autre parmi la pluralité de sessions de BFD en attente comme étant la session de BFD active.</claim-text></claim-text></claim><claim id="c-fr-01-0007" num="0007"><claim-text>Procédé selon la revendication 1, dans lequel l'étape consistant à recevoir reçoit le message de BFD retourné sur une liaison de faisceau d'une LC correspondante d'une session de BFD en attente, et le procédé comporte par ailleurs :
<claim-text>l'étape consistant à pousser le message de BFD de la session de BFD en attente jusqu'à la session de BFD active.</claim-text></claim-text></claim><claim id="c-fr-01-0008" num="0008"><claim-text>Procédé selon la revendication 1, comportant par ailleurs :
<claim-text>l'étape consistant à configurer la session de BFD active comme étant une session de BFD en attente en réponse à l'étape consistant à sélectionner une nouvelle session de BFD active.</claim-text></claim-text></claim><claim id="c-fr-01-0009" num="0009"><claim-text>Procédé selon la revendication 1, comportant par ailleurs :
<claim-text>l'étape consistant à supprimer une session de BFD d'une LC en réponse aux LC n'ayant pas de liaisons actives pour le faisceau.</claim-text></claim-text></claim><claim id="c-fr-01-0010" num="0010"><claim-text>Procédé selon la revendication 9, comportant par ailleurs :
<claim-text>l'étape consistant à déterminer que le faisceau de liaisons a échoué si aucune session de BFD active ou en attente n'existe.</claim-text></claim-text></claim><claim id="c-fr-01-0011" num="0011"><claim-text>Procédé selon la revendication 1, comportant par ailleurs :<!-- EPO <DP n="33"> -->
<claim-text>l'étape consistant à déterminer que le faisceau de liaisons a échoué si aucune session de BFD active ou en attente ne reçoit de messages de BFD sur des liaisons de faisceau.</claim-text></claim-text></claim><claim id="c-fr-01-0012" num="0012"><claim-text>Procédé selon la revendication 1, comportant par ailleurs :
<claim-text>l'étape consistant à associer une nouvelle liaison d'une nouvelle LC sur le faisceau ; et</claim-text>
<claim-text>l'étape consistant à établir une nouvelle session de BFD en attente sur la nouvelle LC.</claim-text></claim-text></claim><claim id="c-fr-01-0013" num="0013"><claim-text>Procédé selon la revendication 1, comportant par ailleurs :
<claim-text>l'étape consistant à considérer une liaison de faisceau comme étant inactive en réponse à un événement sélectionné dans un groupe constitué par : une panne de liaison de faisceau, une suppression de liaison de faisceau, une panne de LC correspondante, et une suppression de LC correspondante.</claim-text></claim-text></claim><claim id="c-fr-01-0014" num="0014"><claim-text>Procédé selon la revendication 1, dans lequel le faisceau de liaisons est l'un parmi soit un faisceau à protocole Internet, IP, soit un faisceau à réseau privé virtuel, VPN.</claim-text></claim><claim id="c-fr-01-0015" num="0015"><claim-text>Appareil (200) permettant de conserver de manière efficace et dynamique une détection d'émission bidirectionnelle, BFD, sur un faisceau de liaisons dans un réseau informatique, l'appareil comportant :
<claim-text>un moyen (220) permettant d'effectuer toutes les étapes du procédé selon l'une quelconque des revendications précédentes.</claim-text><!-- EPO <DP n="34"> --></claim-text></claim><claim id="c-fr-01-0016" num="0016"><claim-text>Support lisible par un ordinateur contenant des instructions de programme exécutables permettant de conserver de manière efficace et dynamique une détection d'émission bidirectionnelle, BFD, sur un faisceau de liaisons dans un réseau informatique, les instructions de programme exécutables comportant des instructions de programme, qui, quand elles sont exécutées sur un ou plusieurs processeurs, effectuent toutes les étapes du procédé selon l'une quelconque des revendications 1 à 14.</claim-text></claim><claim id="c-fr-01-0017" num="0017"><claim-text>Noeud (200) permettant de conserver de manière efficace et dynamique une détection d'émission bidirectionnelle, BFD, sur un faisceau de liaisons dans un réseau informatique, le noeud comportant :
<claim-text>une ou plusieurs cartes de lignes, LC, (210) ayant une ou plusieurs liaisons du faisceau, des liaisons de faisceau ;</claim-text>
<claim-text>un appareil selon la revendication 15, dans lequel le moyen comporte un ou plusieurs processeurs, chaque processeur étant couplé à l'une desdites une ou plusieurs LC et adapté pour exécuter les processus logiciel pour effectuer toutes les étapes du procédé selon l'une quelconque des revendications 1 à 14.</claim-text></claim-text></claim></claims><drawings mxw-id="PDW16668797" load-source="patent-office"><!-- EPO <DP n="35"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="128" he="104" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="36"> --><figure id="f0002" num="2"><img id="if0002" file="imgf0002.tif" wi="165" he="198" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="37"> --><figure id="f0003" num="3"><img id="if0003" file="imgf0003.tif" wi="122" he="168" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="38"> --><figure id="f0004" num="4"><img id="if0004" file="imgf0004.tif" wi="120" he="153" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="39"> --><figure id="f0005" num="5"><img id="if0005" file="imgf0005.tif" wi="165" he="180" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="40"> --><figure id="f0006" num="6"><img id="if0006" file="imgf0006.tif" wi="165" he="180" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="41"> --><figure id="f0007" num="7"><img id="if0007" file="imgf0007.tif" wi="165" he="195" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="42"> --><figure id="f0008" num="8"><img id="if0008" file="imgf0008.tif" wi="121" he="109" img-content="drawing" img-format="tif"/></figure></drawings><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
