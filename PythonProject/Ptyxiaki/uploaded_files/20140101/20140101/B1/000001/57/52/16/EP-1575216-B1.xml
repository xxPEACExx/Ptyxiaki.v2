<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-1575216-B1" country="EP" doc-number="1575216" kind="B1" date="20140101" family-id="32076033" file-reference-id="287164" date-produced="20180822" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146553866" ucid="EP-1575216-B1"><document-id><country>EP</country><doc-number>1575216</doc-number><kind>B1</kind><date>20140101</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-03737859-A" is-representative="NO"><document-id mxw-id="PAPP154827789" load-source="docdb" format="epo"><country>EP</country><doc-number>03737859</doc-number><kind>A</kind><date>20030630</date><lang>ZH</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140452308" ucid="CN-02158016-A" load-source="docdb"><document-id format="epo"><country>CN</country><doc-number>02158016</doc-number><kind>A</kind><date>20021220</date></document-id></priority-claim><priority-claim mxw-id="PPC140445844" ucid="CN-0300518-W" load-source="docdb"><document-id format="epo"><country>CN</country><doc-number>0300518</doc-number><kind>W</kind><date>20030630</date></document-id></priority-claim></priority-claims><dates-of-public-availability><intention-to-grant-date><date>20130612</date></intention-to-grant-date><search-report-dispatch-date><date>20090123</date></search-report-dispatch-date></dates-of-public-availability><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1988097677" load-source="ipcr">H04L  12/66        20060101A I20070721RMEP        </classification-ipcr><classification-ipcr mxw-id="PCL1988106570" load-source="ipcr">H04L  12/24        20060101A I20070224RMEP        </classification-ipcr><classification-ipcr mxw-id="PCL1988110083" load-source="ipcr">H04L  12/28        20060101AFI20040715BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1988118968" load-source="ipcr">H04L  29/06        20060101A I20070224RMEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL1988096499" load-source="docdb" scheme="CPC">H04L  12/2809      20130101 FI20130101BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988105504" load-source="docdb" scheme="CPC">H04L  12/66        20130101 LI20130101BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988112945" load-source="docdb" scheme="CPC">H04L  12/2836      20130101 LI20130101BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132194082" lang="DE" load-source="patent-office">VERFAHREN ZUM DIENSTAUFRUF UNTER VORRICHTUNGEN IN EINEM HEIMNETZWERK</invention-title><invention-title mxw-id="PT132194083" lang="EN" load-source="patent-office">METHOD TO INVOKE SERVICE AMONG DEVICES IN HOME NETWORK</invention-title><invention-title mxw-id="PT132194084" lang="FR" load-source="patent-office">PROCEDE D'APPEL DE SERVICE PARMI DES DISPOSITIFS D'UN RESEAU LOCAL</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR918150102" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>LENOVO BEIJING LTD</last-name><address><country>CN</country></address></addressbook></applicant><applicant mxw-id="PPAR918158731" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>LENOVO (BEIJING) LIMITED</last-name></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR918142551" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>LIU XIANGDONG</last-name><address><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR918134694" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>LIU, XIANGDONG</last-name></addressbook></inventor><inventor mxw-id="PPAR918998233" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>LIU, XIANGDONG</last-name><address><street>No. 6 Chuang Ye Road, Shangdi Inf. Ind. Base</street><city>Haidian District, Beijing 100085</city><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR918161143" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>LUO YUJIN</last-name><address><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR918152890" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>LUO, YUJIN</last-name></addressbook></inventor><inventor mxw-id="PPAR918998234" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>LUO, YUJIN</last-name><address><street>No. 6 Chuang Ye Road, Shangdi Inf. Ind. Base</street><city>Haidian District, Beijing 100085</city><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR918140673" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>ZHANG YUANYI</last-name><address><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR918149746" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>ZHANG, YUANYI</last-name></addressbook></inventor><inventor mxw-id="PPAR918998237" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>ZHANG, YUANYI</last-name><address><street>No. 6 Chuang Ye Road, Shangdi Inf. Ind. Base</street><city>Haidian District, Beijing 100085</city><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR918156198" load-source="docdb" sequence="4" format="epo"><addressbook><last-name>HUANG JINGNAN</last-name><address><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR918168185" load-source="docdb" sequence="4" format="intermediate"><addressbook><last-name>HUANG, JINGNAN</last-name></addressbook></inventor><inventor mxw-id="PPAR918998232" load-source="patent-office" sequence="4" format="original"><addressbook><last-name>HUANG, JINGNAN</last-name><address><street>No. 6 Chuang Ye Road, Shangdi Inf. Ind. Base</street><city>Haidian District, Beijing 100085</city><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR918132667" load-source="docdb" sequence="5" format="epo"><addressbook><last-name>ZHUANG WEIFENG</last-name><address><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR918139829" load-source="docdb" sequence="5" format="intermediate"><addressbook><last-name>ZHUANG, WEIFENG</last-name></addressbook></inventor><inventor mxw-id="PPAR918998238" load-source="patent-office" sequence="5" format="original"><addressbook><last-name>ZHUANG, WEIFENG</last-name><address><street>No. 6 Chuang Ye Road, Shangdi Inf. Ind. Base</street><city>Haidian District, Beijing 100085</city><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR918149046" load-source="docdb" sequence="6" format="epo"><addressbook><last-name>ZHANG DEKUI</last-name><address><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR918172089" load-source="docdb" sequence="6" format="intermediate"><addressbook><last-name>ZHANG, DEKUI</last-name></addressbook></inventor><inventor mxw-id="PPAR918998236" load-source="patent-office" sequence="6" format="original"><addressbook><last-name>ZHANG, DEKUI</last-name><address><street>No. 6 Chuang Ye Road, Shangdi Inf. Ind. Base</street><city>Haidian District, Beijing 100085</city><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR918162260" load-source="docdb" sequence="7" format="epo"><addressbook><last-name>REN YANPIN</last-name><address><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR918153841" load-source="docdb" sequence="7" format="intermediate"><addressbook><last-name>REN, YANPIN</last-name></addressbook></inventor><inventor mxw-id="PPAR918998231" load-source="patent-office" sequence="7" format="original"><addressbook><last-name>REN, YANPIN</last-name><address><street>No. 6 Chuang Ye Road, Shangdi Inf. Ind. Base</street><city>Haidian District, Beijing 100085</city><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR918136256" load-source="docdb" sequence="8" format="epo"><addressbook><last-name>LI MING</last-name><address><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR918165980" load-source="docdb" sequence="8" format="intermediate"><addressbook><last-name>LI, MING</last-name></addressbook></inventor><inventor mxw-id="PPAR918998229" load-source="patent-office" sequence="8" format="original"><addressbook><last-name>LI, MING</last-name><address><street>No. 6 Chuang Ye Road, Shangdi Inf. Ind. Base</street><city>Haidian District, Beijing 100085</city><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR918155416" load-source="docdb" sequence="9" format="epo"><addressbook><last-name>MENG CHUANG</last-name><address><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR918155151" load-source="docdb" sequence="9" format="intermediate"><addressbook><last-name>MENG, CHUANG</last-name></addressbook></inventor><inventor mxw-id="PPAR918998235" load-source="patent-office" sequence="9" format="original"><addressbook><last-name>MENG, CHUANG</last-name><address><street>No. 6 Chuang Ye Road, Shangdi Inf. Ind. Base</street><city>Haidian District, Beijing 100085</city><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR918173553" load-source="docdb" sequence="10" format="epo"><addressbook><last-name>JIANG SHAN</last-name><address><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR918154033" load-source="docdb" sequence="10" format="intermediate"><addressbook><last-name>JIANG, SHAN</last-name></addressbook></inventor><inventor mxw-id="PPAR918998230" load-source="patent-office" sequence="10" format="original"><addressbook><last-name>JIANG, SHAN</last-name><address><street>No. 6 Chuang Ye Road, Shangdi Inf. Ind. Base</street><city>Haidian District, Beijing 100085</city><country>CN</country></address></addressbook></inventor></inventors><assignees><assignee mxw-id="PPAR918998240" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Lenovo (Beijing) Limited</last-name><iid>100165771</iid><address><street>6 Chuang Ye Road, Shangdi Information Industry Base</street><city>Haidian District, Beijing 100085</city><country>CN</country></address></addressbook></assignee></assignees><agents><agent mxw-id="PPAR918998239" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Alton, Andrew</last-name><iid>100047850</iid><address><street>Urquhart-Dykes &amp; Lord LLP Tower North Central Merrion Way</street><city>Leeds LS2 8PA</city><country>GB</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="CN-0300518-W"><document-id><country>CN</country><doc-number>0300518</doc-number><kind>W</kind><date>20030630</date><lang>ZH</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2004057800-A1"><document-id><country>WO</country><doc-number>2004057800</doc-number><kind>A1</kind><date>20040708</date><lang>ZH</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS548980907" load-source="docdb">DE</country><country mxw-id="DS548990713" load-source="docdb">FR</country><country mxw-id="DS548980908" load-source="docdb">GB</country></ep-contracting-states></designated-states></international-convention-data></bibliographic-data><description mxw-id="PDES63957482" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001"><u>TECHNICAL FIELD</u></heading><p id="p0001" num="0001">This invention relates to a technology of calling service in home network. More particularly, the invention provides a method of calling service among devices in home network.</p><heading id="h0002"><u>BACKGROUND OF THE INVENTION</u></heading><p id="p0002" num="0002">As the improvement of the human life, the use of devices such as information devices, communication devices, entertainment devices, home electronic appliances, automating devices, security monitoring devices and the likes in home is increased. Meanwhile, as the personal computers (PCs) and Internet are widely used in home, and with the development of telecommunication technology and smart devices, home network is paid more and more attention. The need for a simple, flexible, and reliable home network enters into human life. Therefore, a lot of home network concepts such as Smart Home, Electronic Home (e-Home), Digital Family, Network Home, Intelligent Home are proposed. More specifically, home network has four meanings: 1) the devices such as information devices, communication devices, entertainment devices, home electronic appliances, automating devices, security monitoring devices and the likes in home are interconnected, share resources, and combine a home smart network system; 2) the devices in home connect to local community network and internet through gateway so that information can be exchanged with the environment out of home; 3) the devices in home and the network to which the devices connect can satisfy the basic requirements of human for security, convenience, comfort, health and environment protection so as to provide the experience to make human enjoyment; and 4) the home network can be easily used, safety and reliable, easily maintained, reasonable price, and satisfy the home life.</p><p id="p0003" num="0003">In view of above-mentioned problems, another patent application filed by the applicant of this application proposed a digital home network system. As shown in <figref idrefs="f0001">FIG 1</figref>, the system disclosed in the another patent application comprises a gateway 11, one or more backbone network devices 12 and a plurality of control subnetwork devices 13. The gateway 11 may comprises two sections, a door-gateway 110 and a control gateway 111. The door-gateway 110 connects the control gateway 111 through a wideband interface. According to the configuration of the system, the digital home network comprises two subnetworks, i.e., backbone network and control subnetwork. The network composed of the home gateway 110 and the home devices connected to the home gateway 110 is called as backbone network. The backbone network is used for carrying out the interconnection of the home devices such as information devices, communication devices, entertainment devices and the likes. The network composed<!-- EPO <DP n="2"> --> of the control gateway 111 and the home devices connected to the control gateway 111 is called as control subnetwork. The control subnetwork is used for carrying out the interconnection of the home devices such as home electronic appliances, automating devices, security monitoring devices and the likes. The digital home network has a function to have the home devices interconnected and to share resource. In the home network system, the home gateway, the control gateway and the server are called as resource management device for managing the network resource.</p><p id="p0004" num="0004">According to network configuration as described above, the interconnection and the sharing of resource among the network devices are implemented with following manners.</p><p id="p0005" num="0005">When a device A applies for accessing the home network, first, the device A looks for a resource management device, then sends a registering request to the resource management device. After receiving an authorization from the resource management device, the device A establishes a connection with the resource management device based on the security authorization from the resource management device. The device A registers into the resource management device in the network if the connection is successful. That is, the device A sends its device information to the resource management device and then registers the service which can be provided by the device A itself into the resource management device. The resource management device stores all of device registering information and service registering information so that the information of the devices accessed to the network can be searched easily.</p><p id="p0006" num="0006">When two devices which have accessed to the home network communicate with each other, the device A which originates the communication first sends a device searching request to the resource management device. The resource management device searches the device registering information into a storing unit in the resource management device to determine whether or not there is an appropriate device to communicate with the device A. If there is an appropriate device B, the information of the device B is sent to the device A. Then, the device A sends a request to device B in response to the reception of the information of device B from the resource management device. The device A calls the service from device B. The device A automatically disconnects with device B after the operation is complete.</p><p id="p0007" num="0007">The device will perform a logout operation to cancel its relative information, which includes device information and service information, from the resource management device when the device disconnect with the network.</p><p id="p0008" num="0008">In above operation, the resource management device may exist or not in the network. The devices can perform communication through equity connection formed by self-negotiating among the devices after the mutual searching among the devices is performed. If there is a resource management device in the network, the resource<!-- EPO <DP n="3"> --> management device would announce the information of itself periodically to other devices. The devices other than the resource management device would also announce their information in various cases.</p><p id="p0009" num="0009"><patcit id="pcit0001" dnum="WO0186423A2"><text>WO-01/86423-A2</text></patcit> discloses a system and method for providing message-based leasing of resources in a distributed computing environment. Services may issue leases to clients and provide operations on those leases. Leases may be granted for a period that may be negotiated.</p><p id="p0010" num="0010"><patcit id="pcit0002" dnum="US20020147611A1"><text>US-2002/0147611-A1</text></patcit> discloses a method and system for realizing a rendezvous service in a management operation centre implemented in a global ecosystem of inter-related services.</p><p id="p0011" num="0011"><patcit id="pcit0003" dnum="WO0205085A2"><text>WO-02/05085-A2</text></patcit> discloses methods and apparatus for data distribution among servers in a grouped server system. Each server in the group includes a device manager which is responsible for brokering devices to services. A service communicates to a device manager on the same server through an inter-process communication mechanism.</p><p id="p0012" num="0012">It can be seen form the operation as described above, various applications based on the home network are implemented by calling services. That is, the service call is a very important step to achieve the interconnection and the sharing of resources in home network.</p><p id="p0013" num="0013">It is therefore an object of the present invention to provide a method of calling service among devices in home network, which is capable of sharing the resources among the devices and ensuring the reliability of the service calling.</p><p id="p0014" num="0014">In order to achieve above object, the present invention provides a method of calling service among devices in home network, comprising the steps of: (a) a service calling party obtaining a service handle of a called service by using characteristic information of the called service, and sending service calling request information to a called party by using the obtained service handle; (b) the protocol stack of the called party<!-- EPO <DP n="4"> --> determining whether or not the called service exists in the called party based on the service handle of the called service contained in the service calling request information and whether or not the called party has established a renting relationship with the service calling party after receiving the service calling request information, if it has, the called party sends a service call response message containing a service call result to the service calling party, otherwise the flow is ended; and (c) after receiving the service call response message, the protocol stack of the service calling party determines whether or not the called service exists in the calling party based on the service handle of the called service included in the service call response message, and whether or not the calling service has established a renting relationship with the called party, if it has, the service calling party and the called party start processing the service call, otherwise the flow is ended; wherein determining whether the service calling party and the called party have established a renting relationship comprises determining whether or not the current number of times for which the service has been called exceeds a parallel-sending control threshold of the called service, if yes the called party sets a denying-call to the service call result, otherwise, the called party sets an allowing-call to the service call result.</p><p id="p0015" num="0015">The method further comprises the step of obtaining a service handle for uniquely identifying the service after the service registration of the each of the services is successful.</p><p id="p0016" num="0016">Preferably, in.the method as described above, the step of obtaining the service handle further comprising:
<ul><li>the service calling party determining whether or not the called service exists in the local protocol stack by using the characteristic information of the called service, if it does, the service handle of the called service is returned, and the searching process ends;</li><li>the service calling party determining whether or not the called service exists in other home network devices by using the characteristic information of the called service, if it does, the service handle of the called service is returned, and the party which can provide the called service is set as the called party.</li></ul></p><p id="p0017" num="0017">Preferably, the actual interacting process of the service call in said step c comprises at least a basic service call process, each of the basic service call processes<!-- EPO <DP n="5"> --> comprises steps of:
<ul><li>the service calling party sending a service call request message to the service called party through the protocol stack of the service calling party and the protocol stack of the called party sequentially; and</li><li>after receiving the request message, the called party returning a service call response message containing the information required by the calling party to the service calling party through the protocol stack of the service called party and the protocol stack of the service calling party sequentially.</li></ul></p><p id="p0018" num="0018">Preferably, the protocol stack of the service calling party stack and the protocol stack of the called party process the service call request message and the service call response message by using a service call request call-back function and a service call response call-back function which are provided by the called party and service calling party respectively.<br/>
The service call request call-back function and the service call response call-back function are transferred to the local protocol stack by an application corresponding to the current registered service when the service is registered.</p><p id="p0019" num="0019">Therefore, according to the method of calling service among devices in home network provided by the present invention, it can checks whether or not the called service is currentingly available, is registered, establishes renting relationship, or conform to the parallel-sending control before each of services is normally called since the service call is associated with service registration, service searching and service renting. Thus, the method according to the present invention can ensure the security, reliability and cooperativity of the service call operation.<!-- EPO <DP n="6"> -->
<ul><li><figref idrefs="f0001">Figure 1</figref> is a schematic diagram showing the configuration of the home network system according to the invention;</li><li><figref idrefs="f0002">Figure 2</figref> is a flowing chart showing a simple example for implementing the service call process;</li><li><figref idrefs="f0003">Figure 3</figref> is a timing chart showing the signaling for implementing the service call process according to the invention; and</li><li><figref idrefs="f0004">Figure 4</figref> is a flowing chart showing the service call process according to the invention.</li></ul></p><heading id="h0003"><u>Detailed Description of the Preferred Embodiments</u></heading><p id="p0020" num="0020">The present invention will be described referring to the accompanying drawings.</p><p id="p0021" num="0021">As shown in <figref idrefs="f0002">figure 2</figref>, a simple service call process will be described below by way of example. A service calling party sends a service call request message to a service called party. The request message is transferred to the service called party through the protocol stack of the calling party and the protocol stack of the called party. After receiving the request message, the called party returns a service call response message containing the information desired by the calling party to the calling party through the protocol stack of the called party and the protocol stack of the calling party. In practical, the process shown in <figref idrefs="f0002">figure 2</figref> is only one interactive process between the calling party and the called party for the service call operation (hereinafter referred as to a basic service call process). Generally, it is necessary to perform a plurality of basic service call processes between the calling party and the called party for a complete service call process.</p><p id="p0022" num="0022">Further, in the home network, the service call should be associated with the operations such as service registration, service searching, service authorization, service renting and the like so as to adapt the dynamic change of the services and satisfy the requirements for security. The combination of the service registration and the service searching may adapt the dynamic change of the service, and the combination of the service authorization and service renting may satisfy the requirements for security. Therefore, the service call in home network should satisfy following conditions:
<ol><li>1) Each of applications should perform service registration in advance if it wish to run as a service. The information such as name and type of the service is informed to the protocol stack at the local end, and it is possible to collectively manage the service and service searching. The protocol stack at the local end returns a service handle to the application after the service registration is successful. The service handle may uniquely identify the service and will be used for service searching, service authorization, service renting and service call in later process.<!-- EPO <DP n="7"> -->
<br/>
The application also transfers other information to the protocol stack at the local end during the service registration. Following two items of content included in the information relate to service call:
<ol><li>a. a service call request call-back function which the protocol stack of the calling party service calls this function to perform the actual service call operation after the protocol stack of the calling party receives the service call request sent to the called service.</li><li>b. a service call response call-back function which the protocol stack of the called party which responds for feeding the result for service call to the protocol stack of the calling party calls this function to inform the service calling party of the performing result after the protocol stack of the calling party receives the fed information.</li></ol>
</li><li>2) The service calling party may indicate the information such as name or type of the service to be searched in the searching request to determine the object to be searched so that the service searching is performed. The protocol stack of the service calling party searches the desired service in the registered services based on the indicated information, and the service handle of the searched service is transferred to the service calling party if the corresponding service is found. It is only necessary for the service calling party to indicate the service handle of the called service in the service call, the concrete transferring process is performed by the protocol stack.</li><li>3) In view of security transmission, each of the services has respective security attributes. The services can be classified into public service and private service according to their security attributes. The public service means a type of service which anyone can call it. The private service means a type of service which can only be called after receiving the authorization from the owner of the service.</li><li>4) In order to guarantee the quality of service, the number of times for which a same service is simultaneously called should be limited. A parallel-sending control exists in the home network. That is, the number of times for which a same service is simultaneously called is controlled. The control operation is performed by service renting. Therefore, it is necessary for the service calling party to rent the service before the service is called. The service call is performed only after the service renting, is successful. The detail process is as follows: the service calling party sends service renting request to the called service; after receiving the request, the called service determines whether or not to lease the service based on the maximal allowable parallel-sending number of times itself and the currently using status of the called service; denying the renting of the service if the using number of times of the service has reached the maximal allowable parallel-sending number of times which is supported by the service; otherwise, allowing the renting of the service so that the parallel-sending control can be implemented in the home network.</li></ol><!-- EPO <DP n="8"> --></p><p id="p0023" num="0023">Based on various conditions as described above, <figref idrefs="f0004">figure 4</figref> shows the flow chart for implementing the concrete service call process, comprising following steps:
<ul><li>Step 401: when a service is called, first, the service calling party searches the service handle corresponding to the called service, sends a service call request to the called party after finding the service handle.
<br/>
The service calling party also transfers the buffer area address and data length containing concrete calling information to the local protocol stack while the service call request is sent. The protocol stack of the service calling party transfers the call information to the protocol stack of the called party based on the service handle of the called party.
<br/>
Each of the services will register its service into the device to which the service belongs and the resource management device in the home network when the device accesses into the home network, as shown in <figref idrefs="f0003">figure 3</figref>. After the registration is successful, each of the services will have its own service handle. The service registration response contains the service handle of service which is registered currently. Therefore, the service handle of the service calling party and the service handle of the service called party should be indicated in the service call process so that the service handle is used to complete the interaction of the messages.
<br/>
For example, the service handles of calling service and called service is searched with following method: if service A calls service B and service A is then the service calling party and service B is the service called party. Service A do not know the existence of the service B, it only knows the characteristics to be searched. Therefore, the service calling party searches whether or not the service B exists in the protocol stack of the calling party by using the description of service characteristics. If it exists, the service handle of the service B is returned. After that, the service handle of the service A continuously communicates with the service handle of the service B. Otherwise, the service calling party searches whether or not the service B exists in other devices in the home network by using the description of service characteristics. If it exists, the service handle of the service B is returned, and it determines the party to which the service B belongs is the called party. If the service B does not exist in all devices in the home network, the searching flow is ended.
</li><li>Steps 402-404: after receiving the service call request, the protocol stack of the called party searches whether or not corresponding service exists in the registered services based on the service handle of the called service included in the service call request. If it does not exist, an error indication code B_E_SERVICE_NOT_EXIST indicating the inexistence of the service is returned to the service calling party. The service calling party ends the calling flow after receiving the error indication code. Otherwise, the flow proceeds into step 405.<!-- EPO <DP n="9"> --></li><li>Steps 405-406: the protocol stack of the called party judges whether or not the currently called service has established a renting relationship with service calling party. If not, the service called party returns an error indication code B_E_SERVICE_RENT_DENIED indicating a service renting error to the service calling party. The service calling party ends the calling flow after receiving this error indication code. Otherwise, the flow proceeds into step 407.</li><li>Step 407: the called party sends the service call result in the form of service call response to the service calling party, i.e., returning a indication to allow the service calling party to call the service. After obtaining the service call response, the protocol stack of the service called party sends the response to the protocol stack of the service calling party protocol stack.</li><li>Steps 408-412: after receiving the service call response, the protocol stack of the service calling party protocol stack checks the service search and the renting relationship based on the service handle to determine whether or not any one of steps of the both is error. That is, in the case where currently called service is not found, or renting relationship between the called party and the calling party is not established, the response message will be discarded, no process will be carried out. Otherwise, the flow will proceed into step 413.</li><li>Step 413: if the checking results for the service search and the renting relationship by the service calling party indicate that the service handle has been found and the renting relationship has been established, the service calling party and the service called party will start the actual service call process. In the sequent service call process, the protocol stack of the service calling party and the protocol stack of the service called party process the call request and the response information by using the service call and call-back function provided by the calling service and called service respectively. The service call and call-back function includes a service call request call-back function and a service call response call-back function. The service call and call-back function is transferred to the respective protocol stacks by the applications corresponding to the registered service when the service is registered.</li></ul></p><p id="p0024" num="0024">At least one basic service call process is interacted between the service calling party and the service called party until the service call which is completed once ends.</p><p id="p0025" num="0025">In the steps as described above, the method may comprises the step of performing parallel-sending control after the service calling party or the service called party has confirmed that the renting relationship between the service calling party and the service called party has established. That is, it judges whether or not the number of times currently calling the called service exceeds the parallel-send control threshold of the called service. If it is, the called party set the service call result as call denial. Otherwise, the called party set the service call result as call allowance.<!-- EPO <DP n="10"> --></p><p id="p0026" num="0026">It can be seen from the description for the basic service call process that the use of the services by unauthorized users can be avoided and the security of the service call can be guaranteed because the renting relationship is checked during the service call process.</p><p id="p0027" num="0027">The formats of service call request message and the service call response message, which are used in above steps, are shown in following table 1 and table 2, respectively. Table 1 shows the detail format of the service call request message, including name of field, content of field, type of field and the range of value of the field.
<tables id="tabl0001" num="0001"><table frame="all"><title>Table 1</title><tgroup cols="4"><colspec colnum="1" colname="col1" colwidth="37mm"/><colspec colnum="2" colname="col2" colwidth="50mm"/><colspec colnum="3" colname="col3" colwidth="29mm"/><colspec colnum="4" colname="col4" colwidth="51mm"/><thead><row><entry valign="top">Name of field</entry><entry valign="top">Content</entry><entry valign="top">Type</entry><entry valign="top">Range of Value</entry></row></thead><tbody><row><entry>Message type</entry><entry>Type of message</entry><entry>Character string</entry><entry>Fixed to: ServiceUsingRequest</entry></row><row><entry>Message sequence No.</entry><entry>Sequence No. of message</entry><entry>Signless integers</entry><entry>0 to 0xFFFFFFFF</entry></row><row><entry>Target device ID</entry><entry>Device ID of called party</entry><entry>Character string</entry><entry>Character string with 32 bytes in length</entry></row><row><entry>Target function ID</entry><entry>Service ID of called party</entry><entry>Character string</entry><entry>Character string with 8 bytes in length</entry></row><row><entry>Source device ID</entry><entry>Device ID of calling party</entry><entry>Character string</entry><entry>Character string with 32 bytes in length</entry></row><row><entry>Source service ID</entry><entry>Service ID of calling party</entry><entry>Character string</entry><entry>Character string with 8 bytes in length</entry></row><row><entry>Action name</entry><entry>Indicating name of detail action of called service, it can be omitted if not necessary</entry><entry>Character string</entry><entry>Character string with 256 bytes in maximal length</entry></row><row><entry>Parameter name</entry><entry>Name of parameters corresponding to the actions, may include a plurality of names. The name of parameters may not be provided if no name of actions is indicated.</entry><entry>Character string</entry><entry>Character string with 256 bytes in maximal length</entry></row><row><entry>Parameter value</entry><entry>Parameter value, appearing as a pair with the name of parameter</entry><entry>Character string</entry><entry>Character string with 256 bytes in maximal length</entry></row><row><entry>Binary data length</entry><entry>Length of binary data contained in calling request message</entry><entry>integers</entry><entry>0 to 0x7FFFFFFF</entry></row><row><entry>Binary data content</entry><entry>Content of binary data contained in calling request message</entry><entry>binary</entry><entry>Arbitrary value</entry></row></tbody></tgroup></table></tables><!-- EPO <DP n="11"> --></p><p id="p0028" num="0028">Table 2 shows the detail format of the service call response message, including name of field, content of field, type of field and the range of value of the field.
<tables id="tabl0002" num="0002"><table frame="all"><title>Table 2</title><tgroup cols="4"><colspec colnum="1" colname="col1" colwidth="37mm"/><colspec colnum="2" colname="col2" colwidth="50mm"/><colspec colnum="3" colname="col3" colwidth="29mm"/><colspec colnum="4" colname="col4" colwidth="51mm"/><thead><row><entry valign="top">Name of field</entry><entry valign="top">Content</entry><entry valign="top">Type</entry><entry valign="top">Range of Value</entry></row></thead><tbody><row><entry>Message type</entry><entry>Type of message</entry><entry>Character string</entry><entry>Fixed to: ServiceUsingResponse</entry></row><row><entry>Message sequence No.</entry><entry>Sequence No. of message</entry><entry>Signless integers</entry><entry>0 to 0xFFFFFFFF</entry></row><row><entry>Target device ID</entry><entry>Device ID of calling party</entry><entry>Character string</entry><entry>Character string with 32 bytes in length</entry></row><row><entry>Target function ID</entry><entry>Service ID of calling party</entry><entry>Character string</entry><entry>Character string with 8 bytes in length</entry></row><row><entry>Source device ID</entry><entry>Device ID of called party</entry><entry>Character string</entry><entry>Character string with 32 bytes in length</entry></row><row><entry>Source service ID</entry><entry>Service ID of called party</entry><entry>Character string</entry><entry>Character string with 8 bytes in length</entry></row><row><entry>Action name</entry><entry>Indicating name of detail action of calling party service, it can be omitted if not necessary</entry><entry>Character string</entry><entry>Character string with 256 bytes in maximal length</entry></row><row><entry>Parameter name</entry><entry>Name of parameters corresponding to the actions, may include a plurality of names. The name of parameters may not be provided if no name of actions is indicated.</entry><entry>Character string</entry><entry>Character string with 256 bytes in maximal length</entry></row><row><entry>Parameter value</entry><entry>Parameter value, appearing as a pair with the name of parameter</entry><entry>Character string</entry><entry>Character string with 256 bytes in maximal length</entry></row><row><entry>Binary data length</entry><entry>Length of binary data contained in calling request message</entry><entry>integers</entry><entry>0 to 0x7FFFFFFF</entry></row><row><entry>Binary data content</entry><entry>Content of binary data contained in calling request message</entry><entry>binary</entry><entry>Arbitrary value</entry></row></tbody></tgroup></table></tables></p><p id="p0029" num="0029">It can be seen from table 1 and table 2, the first six fields included in each of the messages are same. That is, the first field is message type, the second field is message sequence number used for retransmission of the message and correspondence of<!-- EPO <DP n="12"> --> response message and request message. The third to sixth fields indicate the service calling party and the service called party.<br/>
In practice, the service call request message and the service call response message may be implemented by using XML language. According to the present invention, the actual called data, for example, the description and the likes for the content or function of the service to be called, sent by the applications can be transmitted with the manner of Hypertext transfer Protocol (HTTP) plus simple object access protocol (SOAP). For data with simple format, i.e., general data which is necessary to be filled when any service is called, for example, basic information of the called service, it may transfer the calling information by indicating the called name of the action, parameter name corresponding to the action and parameter value. The data with other formats are transmitted as general binary data. The concrete meanings of the data are analyzed by the service calling party and the service called party. The protocol stack only responds for transmission.</p><p id="p0030" num="0030">Although the present invention has been described by way of exemplary embodiments, it should be understood that many changes and modifications may further be made by those skilled in the art without departing from the scope of the present invention which is defined by the appended claims.</p></description><claims mxw-id="PCLM56979935" lang="DE" load-source="patent-office"><!-- EPO <DP n="15"> --><claim id="c-de-01-0001" num="0001"><claim-text>Verfahren zum Aufrufen eines Dienstes unter Vorrichtungen in einem Heimnetzwerk, mit den Schritten:
<claim-text>(a) Erhalten (401) durch eine einen Dienst aufrufende Partei eines Dienstidentifikators eines aufgerufenen Dienstes unter Verwendung von charakteristischen Informationen des aufgerufenen Dienstes, und Senden (401) von Dienstaufruf-Anforderungsinformationen an eine aufgerufene Partei unter Verwendung des erhaltenen Dienstidentifikators;</claim-text>
<claim-text>(b) Bestimmen (402, 403, 404, 405) durch einen Protokollstapel der aufgerufenen Partei, ob der aufgerufene Dienst in der aufgerufenen Partei vorliegt oder nicht basierend auf dem Dienstidentifikator des in den Dienstaufruf-Anforderungsinformationen enthaltenen aufgerufenen Dienstes, und ob die aufgerufene Partei ein Mietverhältnis mit der einen Dienst aufrufenden Partei errichtet hat oder nicht, nachdem die Dienstaufruf-Anforderungsinformationen empfangen worden sind, und falls dem so ist, Senden (407) durch die aufgerufene Partei einer Dienstaufruf-Antwortnachricht, die ein Dienstaufrufergebnis enthält, an die einen Dienst aufrufende Partei, andernfalls Beenden (406) des Flusses; und</claim-text>
<claim-text>(c) nach einem Empfangen der Dienstaufruf-Antwortnachricht, Bestimmen (408, 409, 410, 411) durch einen Protokollstapel der einen Dienst aufrufenden Partei basierend auf dem in der Dienstaufruf-Antwortnachricht enthaltenen Dienstidentifikator des aufgerufenen Dienstes, ob der aufgerufene Dienst in der aufrufenden Partei vorliegt oder nicht, und ob der aufgerufene Dienst ein Mietverhältnis mit der aufgerufenen Partei errichtet hat oder nicht, und falls dem so ist, Beginnen mit einer Verarbeitung (413) durch die<!-- EPO <DP n="16"> --> einen Dienst aufrufende Partei und die aufgerufene Partei des Dienstaufrufs, andernfalls Beenden (412) des Flusses;</claim-text>
wobei ein Bestimmen, ob die einen Dienst aufrufende Partei und die aufgerufene Partei ein Mietverhältnis errichtet haben, ein Bestimmen (405, 411) aufweist, ob die Häufigkeit, dass der Dienst aufgerufen worden ist, einen Steuerungsschwellenwert eines parallelen Sendens des aufgerufenen Dienstes überschreitet oder nicht, und falls dem so ist, die aufgerufene Partei einen Ablehnungsaufruf als Dienstaufrufergebnis einstellt, andernfalls die aufgerufene Partei einen Zulassungsaufruf als Dienstaufrufergebnis einstellt.</claim-text></claim><claim id="c-de-01-0002" num="0002"><claim-text>Verfahren nach Anspruch 1, ferner mit dem Schritt zum Erhalten eines Dienstidentifikators zum einmaligen Identifizieren des Dienstes, nachdem die Dienstregistrierung jedes Dienstes erfolgreich erfolgt ist.</claim-text></claim><claim id="c-de-01-0003" num="0003"><claim-text>Verfahren nach Anspruch 1, wobei der Schritt zum Erhalten (401) des Dienstidentifikators ferner die Schritte aufweist:
<claim-text>Bestimmen durch die einen Dienst aufrufende Partei, ob der aufgerufene Dienst in dem lokalen Protokollstapel vorliegt oder nicht unter Verwendung der charakteristischen Informationen des aufgerufenen Dienstes, und falls dem so ist, Zurückgeben des Dienstidentifikators des aufgerufenen Dienstes, und Beenden des Suchprozesses;</claim-text>
<claim-text>Bestimmen durch die einen Dienst aufrufende Partei, ob der aufgerufene Dienst in anderen Heimnetzwerkvorrichtungen vorliegt oder nicht unter Verwendung der charakteristischen Informationen des aufgerufenen Dienstes, und falls dem so ist, Zurückgeben des Dienstidentifikators des aufgerufenen Dienstes, und Einstellen der Partei, welche den aufgerufenen Dienst bereitstellen kann, als die aufgerufene Partei.</claim-text></claim-text></claim><claim id="c-de-01-0004" num="0004"><claim-text>Verfahren nach Anspruch 1, wobei der Schritt (c) zumindest einen einfachen Dienstaufrufprozess aufweist, der die Schritte aufweist:<!-- EPO <DP n="17"> -->
<claim-text>Sequentielles Senden durch die einen Dienst aufrufende Partei einer Dienstaufruf-Anforderungsnachricht an die dienstaufgerufene Partei durch den Protokollstapel der einen Dienst aufrufenden Partei und den Protokollstapel der aufgerufenen Partei; und</claim-text>
<claim-text>nach einem Empfangen der Anforderungsnachricht, sequentielles Zurückgeben durch die aufgerufene Partei einer Dienstaufruf-Antwortnachricht, welche die von der aufrufenden Partei benötigten Informationen enthält, an die einen Dienst aufrufende Partei durch den Protokollstapel der dienstaufgerufenen Partei und den Protokollstapel der einen Dienst aufrufenden Partei.</claim-text></claim-text></claim><claim id="c-de-01-0005" num="0005"><claim-text>Verfahren nach Anspruch 4, wobei der Protokollstapel der einen Dienst aufrufenden Partei und der Protokollstapel der aufgerufenen Partei die Dienstaufruf-Anforderungsnachricht und die Dienstaufruf-Antwortnachricht unter Verwendung einer Dienstaufrufanforderungs-Rückruffunktion und einer Dienstaufrufantwort-Rückruffunktion, welche jeweils von der aufgerufenen Partei und der einen Dienst aufrufenden Partei bereitgestellt werden, verarbeitet.</claim-text></claim><claim id="c-de-01-0006" num="0006"><claim-text>Verfahren nach Anspruch 5, wobei die Dienstaufrufanforderungs-Rückruffunktion und die Dienstaufrufantwort-Rückruffunktion an den lokalen Protokollstapel durch eine Anwendung entsprechend dem gegenwärtig registrierten Dienst übertragen werden, wenn der Dienst registriert ist.</claim-text></claim></claims><claims mxw-id="PCLM56979936" lang="EN" load-source="patent-office"><!-- EPO <DP n="13"> --><claim id="c-en-01-0001" num="0001"><claim-text>A method of calling service among devices in home network, comprising the steps of:
<claim-text>(a) a service calling party obtaining (401) a service handle of a called service by using characteristic information of the called service, and sending (401) service calling request information to a called party by using the obtained service handle;</claim-text>
<claim-text>(b) the protocol stack of the called party determining (402, 403, 404, 405) whether or not the called service exists in the called party based on the service handle of the called service contained in the service calling request information and whether or not the called party has established a renting relationship with the service calling party after receiving the service calling request information, if it has, the called party sends (407) a service call response message containing a service call result to the service calling party, otherwise the flow is ended (406); and</claim-text>
<claim-text>(c) after receiving the service call response message, the protocol stack of the service calling party determines (408, 409, 410, 411) whether or not the called service exists in the calling party based on the service handle of the called service included in the service call response message, and whether or not the calling service has established a renting relationship with the called party, if it has, the service calling party and the called party start processing (413) the service call, otherwise the flow is ended (412);</claim-text>
wherein determining whether the service calling party and the called party have established a renting relationship comprises determining (405, 411) whether or not the current number of times for which the service has been called exceeds a parallel-sending control threshold of the called service, if yes the called party sets a denying-call to the service call result, otherwise, the called party sets an allowing-call to the service call result.</claim-text></claim><claim id="c-en-01-0002" num="0002"><claim-text>The method according to claim 1, further comprising the step of obtaining a service handle for uniquely identifying the service after the service registration of the each of the services is successful.</claim-text></claim><claim id="c-en-01-0003" num="0003"><claim-text>The method according to claim 1, wherein the step of obtaining (401) said service handle further comprising the steps of:<!-- EPO <DP n="14"> -->
<claim-text>the service calling party determining whether or not the called service exists in the local protocol stack by using the characteristic information of the called service, if it does, the service handle of the called service is returned, and the searching process ends;</claim-text>
<claim-text>the service calling party determining whether or not the called service exists in other home network devices by using the characteristic information of the called service, if it does, the service handle of the called service is returned, and the party which can provide the called service is set as the called party.</claim-text></claim-text></claim><claim id="c-en-01-0004" num="0004"><claim-text>The method according to claim 1, wherein said step (c) comprises at least a basic service call process comprising steps of:
<claim-text>the service calling party sending a service call request message to the service called party through the protocol stack of the service calling party and the protocol stack of the called party sequentially; and</claim-text>
<claim-text>after receiving the request message, the called party returning a service call response message containing the information required by the calling party to the service calling party through the protocol stack of the service called party and the protocol stack of the service calling party sequentially.</claim-text></claim-text></claim><claim id="c-en-01-0005" num="0005"><claim-text>The method according to claim 4, wherein the protocol stack of the service calling party and the protocol stack of the called party process the service call request message and the service call response message by using a service call request call-back function and a service call response call-back function which are provided by the called party and service calling party respectively.</claim-text></claim><claim id="c-en-01-0006" num="0006"><claim-text>The method according to claim 5, wherein the service call request call-back function and the service call response call-back function are transferred to the local protocol stack by an application corresponding to the current registered service when the service is registered.</claim-text></claim></claims><claims mxw-id="PCLM56979937" lang="FR" load-source="patent-office"><!-- EPO <DP n="18"> --><claim id="c-fr-01-0001" num="0001"><claim-text>Procédé d'appel de service parmi des dispositifs dans un réseau domestique, comprenant les étapes ci-dessous dans lesquelles :
<claim-text>(a) une partie appelante de service obtient (401) un descripteur de service d'un service appelé en utilisant des informations caractéristiques du service appelé, et envoie (401) des informations de demande d'appel de service à une partie appelée, en utilisant le descripteur de service obtenu ;</claim-text>
<claim-text>(b) la pile de protocoles de la partie appelée détermine (402, 403, 404, 405) si le service appelé existe ou non dans la partie appelée, sur la base du descripteur de service du service appelé contenu dans les informations de demande d'appel de service, et si la partie appelée a ou non établi une relation de location avec la partie appelante de service, suite à la réception des informations de demande d'appel de service, et le cas échéant, la partie appelée envoie (407) un message de réponse d'appel de service contenant un résultat d'appel de service à la partie appelante de service, sinon, le flux est interrompu (406) ; et</claim-text>
<claim-text>(c) suite à la réception du message de réponse d'appel de service, la pile de protocoles de la partie appelante de service détermine (408, 409, 410, 411) si le service appelé existe ou non dans la partie appelante sur la base du descripteur de service du service appelé inclus dans le message de réponse d'appel de service, et si le service d'appel a établi ou non une relation de location avec la partie appelée, et le cas échéant, la partie appelante de service et la partie appelée initient le traitement (413) de l'appel de service, sinon le flux est interrompu (412) ;</claim-text>
dans lequel l'étape consistant à déterminer si la partie appelante de service et la partie appelée ont établi une relation de location consiste à déterminer (405, 411) si le nombre de tentatives d'appel du service dépasse ou non un seuil de commandes d'appels en parallèle du service appelé, le cas échéant la partie appelée définit un refus d'appel en guise de résultat d'appel de service, et sinon, la partie appelée définit une autorisation d'appel en guise de résultat d'appel de service.</claim-text></claim><claim id="c-fr-01-0002" num="0002"><claim-text>Procédé selon la revendication 1, comprenant en outre l'étape consistant à obtenir un descripteur de service en vue d'identifier de manière unique le service dès lors que l'enregistrement de service de chacun des services a réussi.</claim-text></claim><claim id="c-fr-01-0003" num="0003"><claim-text>Procédé selon la revendication 1, dans lequel l'étape d'obtention (401) dudit descripteur de service comporte en outre les étapes ci-dessous dans lesquelles :
<claim-text>la partie appelante de service détermine si le service appelé existe ou non dans la pile de protocoles locale, en utilisant les informations caractéristiques du service appelé, le cas échéant, le descripteur de service du service appelé est renvoyé, et le processus de recherche est interrompu ;<!-- EPO <DP n="19"> --></claim-text>
<claim-text>la partie appelante de service détermine si le service appelé existe ou non dans d'autres dispositifs de réseau domestique, en utilisant les informations caractéristiques du service appelé, et le cas échéant, le descripteur de service du service appelé est renvoyé, et la partie en mesure de fournir le service appelé est définie en qualité de partie appelée.</claim-text></claim-text></claim><claim id="c-fr-01-0004" num="0004"><claim-text>Procédé selon la revendication 1, dans lequel ladite étape (c) comprend au moins un processus d'appel de service de base comprenant les étapes ci-dessous dans lesquelles :
<claim-text>la partie appelante de service envoie un message de demande d'appel de service à la partie appelée de service à travers la pile de protocoles de la partie appelante de service et la pile de protocoles de la partie appelée, séquentiellement ; et</claim-text>
<claim-text>suite à la réception du message de demande, la partie appelée renvoie un message de réponse d'appel de service contenant les informations requises par la partie appelante à la partie appelante de service, à travers la pile de protocoles de la partie appelée de service et la pile de protocoles de la partie appelante de service, séquentiellement.</claim-text></claim-text></claim><claim id="c-fr-01-0005" num="0005"><claim-text>Procédé selon la revendication 4, dans lequel la pile de protocoles de la partie appelante de service et la pile de protocoles de la partie appelée traitent le message de demande d'appel de service et le message de réponse d'appel de service en utilisant une fonction de rappel de demande d'appel de service et une fonction de rappel de réponse d'appel de service lesquelles sont fournies par la partie appelée et la partie appelante de service, respectivement.</claim-text></claim><claim id="c-fr-01-0006" num="0006"><claim-text>Procédé selon la revendication 5, dans lequel la fonction de rappel de demande d'appel de service et la fonction de rappel de réponse d'appel de service sont transférées vers la pile de protocoles locale par une application correspondant au service enregistré en cours lorsque le service est enregistré.</claim-text></claim></claims><drawings mxw-id="PDW16669011" load-source="patent-office"><!-- EPO <DP n="20"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="165" he="173" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="21"> --><figure id="f0002" num="2"><img id="if0002" file="imgf0002.tif" wi="165" he="166" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="22"> --><figure id="f0003" num="3"><img id="if0003" file="imgf0003.tif" wi="163" he="223" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="23"> --><figure id="f0004" num="4"><img id="if0004" file="imgf0004.tif" wi="156" he="233" img-content="drawing" img-format="tif"/></figure></drawings><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
