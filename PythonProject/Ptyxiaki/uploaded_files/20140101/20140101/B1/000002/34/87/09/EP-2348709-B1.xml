<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2348709-B1" country="EP" doc-number="2348709" kind="B1" date="20140101" family-id="35782625" file-reference-id="318236" date-produced="20180826" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146552899" ucid="EP-2348709-B1"><document-id><country>EP</country><doc-number>2348709</doc-number><kind>B1</kind><date>20140101</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-11163853-A" is-representative="NO"><document-id mxw-id="PAPP154826822" load-source="docdb" format="epo"><country>EP</country><doc-number>11163853</doc-number><kind>A</kind><date>20050621</date><lang>EN</lang></document-id><document-id mxw-id="PAPP172239491" load-source="docdb" format="original"><country>EP</country><doc-number>11163853.2</doc-number><date>20050621</date></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140445423" ucid="EP-05753278-A" linkage-type="3" load-source="docdb"><document-id format="epo"><country>EP</country><doc-number>05753278</doc-number><kind>A</kind><date>20050621</date></document-id></priority-claim><priority-claim mxw-id="PPC140445668" ucid="JP-2004195476-A" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>2004195476</doc-number><kind>A</kind><date>20040701</date></document-id></priority-claim><priority-claim mxw-id="PPC140451055" ucid="JP-2004205250-A" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>2004205250</doc-number><kind>A</kind><date>20040712</date></document-id></priority-claim><priority-claim mxw-id="PPC140453963" ucid="JP-2004214080-A" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>2004214080</doc-number><kind>A</kind><date>20040722</date></document-id></priority-claim><priority-claim mxw-id="PPC140454898" ucid="JP-2004229683-A" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>2004229683</doc-number><kind>A</kind><date>20040805</date></document-id></priority-claim><priority-claim mxw-id="PPC140448389" ucid="JP-2004238482-A" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>2004238482</doc-number><kind>A</kind><date>20040818</date></document-id></priority-claim></priority-claims><dates-of-public-availability><intention-to-grant-date><date>20131016</date></intention-to-grant-date></dates-of-public-availability><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-2063008204" load-source="docdb">H04N  19/503       20140101ALI20150402RHJP        </classification-ipcr><classification-ipcr mxw-id="PCL-2063009986" load-source="docdb">H04N  19/46        20140101ALI20150402RHJP        </classification-ipcr><classification-ipcr mxw-id="PCL-2063013242" load-source="docdb">H04N  19/50        20140101ALI20150402RHJP        </classification-ipcr><classification-ipcr mxw-id="PCL-2063016825" load-source="docdb">H04N  19/70        20140101ALI20150402RHJP        </classification-ipcr><classification-ipcr mxw-id="PCL1988096945" load-source="docdb">G11B  20/10        20060101ALI20130903BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1988105048" load-source="docdb">G11B  20/12        20060101ALI20130903BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1988118468" load-source="docdb">G11B  27/00        20060101AFI20130903BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1988119531" load-source="docdb">H04N   5/85        20060101ALI20130903BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1988125071" load-source="docdb">H04N   9/82        20060101ALI20130903BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1988126333" load-source="docdb">H04N   5/783       20060101ALI20130903BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1988128080" load-source="docdb">H04N   9/804       20060101ALI20130903BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1988130754" load-source="docdb">G11B  27/10        20060101ALI20130903BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1988139063" load-source="docdb">H04N   5/92        20060101ALI20130903BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1988139114" load-source="docdb">G11B  27/32        20060101ALI20130903BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL2076388377" load-source="docdb">H04N   5/76        20060101ALI20140318RHJP        </classification-ipcr><classification-ipcr mxw-id="PCL2076390291" load-source="docdb">H04N  19/00        20140101ALI20140318RHJP        </classification-ipcr><classification-ipcr mxw-id="PCL2076393715" load-source="docdb">H04N   5/91        20060101ALI20140318RHJP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1984746559" load-source="docdb" scheme="CPC">H04N   5/91        20130101 FI20160107BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1984752202" load-source="docdb" scheme="CPC">G11B  27/005       20130101 LI20160108BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2050389269" load-source="docdb" scheme="CPC">G11B  27/10        20130101 LI20150521BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2050389703" load-source="docdb" scheme="CPC">H04N  19/44        20141101 LI20150521BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2050391335" load-source="docdb" scheme="CPC">H04N  19/593       20141101 LI20150521BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2050392468" load-source="docdb" scheme="CPC">H04N   9/87        20130101 LI20150521BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2050393474" load-source="docdb" scheme="CPC">H04N  19/52        20141101 LI20150523BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2092318801" load-source="docdb" scheme="CPC">H04N  19/177       20141101 LI20150213BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2092318802" load-source="docdb" scheme="CPC">H04N  19/114       20141101 LI20150213BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2122401739" load-source="docdb" scheme="CPC">H04N  19/577       20141101 LI20150106BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2122401878" load-source="docdb" scheme="CPC">H04N  19/50        20130101 LI20150106BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2133838050" load-source="docdb" scheme="CPC">H04N  19/115       20141101 LI20141127BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2133845092" load-source="docdb" scheme="CPC">H04N  19/513       20130101 LI20141125BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2135389558" load-source="docdb" scheme="CPC">H04N  19/587       20141101 LI20141118BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2135393913" load-source="docdb" scheme="CPC">H04N  19/117       20141101 LI20141121BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2135397981" load-source="docdb" scheme="CPC">H04N  19/107       20141101 LI20141117BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2137561552" load-source="docdb" scheme="CPC">H04N  19/109       20141101 LI20141111BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2137562607" load-source="docdb" scheme="CPC">H04N  19/172       20130101 LI20141111BHEP        </classification-cpc><classification-cpc mxw-id="PCL2007273798" load-source="docdb" scheme="CPC">H04N   9/8045      20130101 LI20140130BHEP        </classification-cpc><classification-cpc mxw-id="PCL2032306345" load-source="docdb" scheme="CPC">H04N   9/8042      20130101 LI20140215BHEP        </classification-cpc><classification-cpc mxw-id="PCL2032307664" load-source="docdb" scheme="CPC">G11B  27/002       20130101 LI20140206BHEP        </classification-cpc><classification-cpc mxw-id="PCL2032308269" load-source="docdb" scheme="CPC">G11B  27/102       20130101 LI20140215BHEP        </classification-cpc><classification-cpc mxw-id="PCL2060928135" load-source="docdb" scheme="CPC">H04N   9/8082      20130101 LI20140310BHEP        </classification-cpc><classification-cpc mxw-id="PCL2072215089" load-source="docdb" scheme="CPC">H04N   9/8205      20130101 LI20140501BHEP        </classification-cpc><classification-cpc mxw-id="PCL2072228905" load-source="docdb" scheme="CPC">H04N   5/783       20130101 LI20140501BHEP        </classification-cpc><classification-cpc mxw-id="PCL2072230796" load-source="docdb" scheme="CPC">G11B  27/329       20130101 LI20140501BHEP        </classification-cpc><classification-cpc mxw-id="PCL2072232907" load-source="docdb" scheme="CPC">G11B  27/322       20130101 LI20140501BHEP        </classification-cpc><classification-cpc mxw-id="PCL2109718952" load-source="docdb" scheme="CPC">G11B  27/105       20130101 LI20140903BHEP        </classification-cpc><classification-cpc mxw-id="PCL2109720019" load-source="docdb" scheme="CPC">H04N   5/85        20130101 LA20140903BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132191181" lang="DE" load-source="patent-office">Kodierungsverfahren und Aufzeichnungsgerät für Videoinformationsaufzeichnungsmedium mit Direktzugriffsfähigkeit</invention-title><invention-title mxw-id="PT132191182" lang="EN" load-source="patent-office">Encoding method and recording apparatus for randomly accessible video recording medium</invention-title><invention-title mxw-id="PT132191183" lang="FR" load-source="patent-office">Procédé de codage et appareil d'enregistrement de données video sur un support permettant un accès aléatoire</invention-title></technical-data><related-documents><relation type="division"><child-doc ucid="EP-11163853-A"><document-id load-source="patent-office" format="epo"><country>EP</country><doc-number>11163853</doc-number><kind>A</kind><date>20050621</date></document-id></child-doc><parent-doc ucid="EP-05753278.0"><document-id load-source="patent-office" format="epo"><country>EP</country><doc-number>05753278.0</doc-number><date>20050621</date></document-id><parent-grant-document ucid="EP-1763240-B1"><document-id><country>EP</country><doc-number>1763240</doc-number><kind>B1</kind><date>20130424</date></document-id></parent-grant-document></parent-doc></relation></related-documents><parties><applicants><applicant mxw-id="PPAR918168617" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>MITSUBISHI ELECTRIC CORP</last-name><address><country>JP</country></address></addressbook></applicant><applicant mxw-id="PPAR918173268" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>MITSUBISHI ELECTRIC CORPORATION</last-name></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR918136780" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>RYU TOMOAKI</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918143899" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>RYU, TOMOAKI</last-name></addressbook></inventor><inventor mxw-id="PPAR918995772" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>RYU, TOMOAKI</last-name><address><street>c/o Mitsubishi Electric Corporation 7-3, Marunouchi 2-chome Chiyoda-ku</street><city>Tokyo 100-8310</city><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918143903" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>NAKANE KAZUHIKO</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918138950" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>NAKANE, KAZUHIKO</last-name></addressbook></inventor><inventor mxw-id="PPAR918995771" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>NAKANE, KAZUHIKO</last-name><address><street>c/o Mitsubishi Electric Corporation 7-3, Marunouchi 2-chome Chiyoda-ku</street><city>Tokyo 100-8310</city><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918148040" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>SHIMADA MASAAKI</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918166532" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>SHIMADA, MASAAKI</last-name></addressbook></inventor><inventor mxw-id="PPAR918995770" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>SHIMADA, MASAAKI</last-name><address><street>c/o Mitsubishi Electric Corporation 7-3, Marunouchi 2-chome Chiyoda-ku</street><city>Tokyo 100-8310</city><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918159475" load-source="docdb" sequence="4" format="epo"><addressbook><last-name>YAMADA YOSHIHISA</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918171137" load-source="docdb" sequence="4" format="intermediate"><addressbook><last-name>YAMADA, YOSHIHISA</last-name></addressbook></inventor><inventor mxw-id="PPAR918995769" load-source="patent-office" sequence="4" format="original"><addressbook><last-name>YAMADA, YOSHIHISA</last-name><address><street>c/o Mitsubishi Electric Corporation 7-3, Marunouchi 2-chome Chiyoda-ku</street><city>Tokyo 100-8310</city><country>JP</country></address></addressbook></inventor></inventors><assignees><assignee mxw-id="PPAR918995774" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Mitsubishi Electric Corporation</last-name><iid>100785331</iid><address><street>7-3, Marunouchi 2-chome</street><city>Chiyoda-ku Tokyo 100-8310</city><country>JP</country></address></addressbook></assignee></assignees><agents><agent mxw-id="PPAR918995773" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>HOFFMANN EITLE</last-name><iid>100061036</iid><address><street>Patent- und Rechtsanwälte Arabellastrasse 4</street><city>81925 München</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><designated-states><ep-contracting-states><country mxw-id="DS548960193" load-source="docdb">DE</country><country mxw-id="DS548960334" load-source="docdb">GB</country></ep-contracting-states></designated-states></international-convention-data></bibliographic-data><description mxw-id="PDES63956984" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001">FIELD OF THE INVENTION</heading><p id="p0001" num="0001">The present invention relates to a randomly accessible video information recording medium, a recording device for recording video data on a video information recording medium, the recording method, a reproducing device for reproducing video data from a randomly accessible video information recording medium, and the reproducing method.</p><heading id="h0002">BACKGROUND ART</heading><p id="p0002" num="0002">A proposed system for writing encoded image data in packets formatted according to the MPEG system on a storage medium to enable trick reproduction of image data by a simple and efficient method without increasing the capacity of the storage medium is to set up an I picture index of packets in which at least part of the I picture data is stored and, during trick reproduction, to read only the packets on which the I picture index is set (for example, Patent Document No. 1).
<ul><li>Patent Document No. 1: Japanese Patent Application Publication No. <patcit id="pcit0001" dnum="JPH998430B"><text>H9-98430</text></patcit> (pp. 4-10, <figref idrefs="f0001 f0002 f0003 f0004 f0005 f0006 f0007 f0008 f0009 f0010 f0011 f0012 f0013 f0014">Figs. 1-15</figref>)</li></ul></p><p id="p0003" num="0003">Also known are MPEG recording systems setting up an I, P, B picture index used for special reproduction modes, see documents <patcit id="pcit0002" dnum="WO9730544A"><text>WO 97/30544</text></patcit> and <patcit id="pcit0003" dnum="EP1388862A"><text>EP 1388862</text></patcit>.</p><heading id="h0003">DISCLOSURE OF THE INVENTION</heading><heading id="h0004">Problems to be Solved by the Invention</heading><p id="p0004" num="0004">In recent years, MPEG4-AVC (H.264) and other new encoding methods by which even low-bit-rate encoding can provide adequate image quality have come into use. To obtain high image quality with a low bit rate, it is necessary to minimize the number of intra-coded (I) pictures, which require relatively much encoded data.</p><p id="p0005" num="0005">Because the first frame in a group of pictures (GOP)<!-- EPO <DP n="2"> --> must be an I picture, reducing the number of I pictures is equivalent to increasing the GOP length. For example, a 1-seg broadcast, which is a television broadcast for mobile terminals, allows up to a five-second GOP length. If the GOP length is increased in this manner, the number of positions that can be designated as access points for random access is greatly reduced, because random access must start from an I picture, which can be decoded without reference to other frames. In a time search etc. of a video image recorded by a user, accordingly, because the only positions designated as accessible points are the I pictures at which GOPs begin, although the user may want to reproduce the image starting from a certain point in time, access to precisely that point of time may be difficult; to the user's inconvenience, it may only be possible to reproduce the image starting from a time offset from the desired point in time. Another problem is that if the GOP length is set to five seconds, for example, in random access to a point within that interval, in the worst case more than two seconds passes before the desired picture is reproduced.</p><p id="p0006" num="0006">The present invention addresses the above problems, with the object of providing a video information recording medium, a video information recording apparatus and recording method, and a reproducing apparatus and reproducing method with which random access is possible even if the GOP length is increased.</p><p id="p0007" num="0007">The object is achieved by the subject-matter of the independent claims. Further examples are provided for facilitating the understanding of the invention.</p><heading id="h0005">Means of Solution of the Problems</heading><!-- EPO <DP n="3"> --><p id="p0008" num="0008">An example provides a video information recording medium on which are recorded video data organized into video units including intra-coded (I) pictures coded intra-frame, predictive coded (P) pictures each including a group of blocks predicted from one frame, and bidirectionally predictive coded (B) pictures each including a group of blocks predicted from two frames, the video information<!-- EPO <DP n="4"> --> recording medium being randomly accessible and having disposed thereon information indicating a decoding sequence of pictures designated as randomly accessible positions and thus functioning as access points, and attribute information indicating whether a picture functions as an access point or is necessary for decoding of the access point following a given access point.</p><heading id="h0006">Effect of the Invention</heading><p id="p0009" num="0009">According to this invention, video reproduction can be carried out smoothly from the point in time desired by the user even if the GOP length is increased, and random access is possible.</p><heading id="h0007">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p0010" num="0010"><ul><li><figref idrefs="f0001">FIG. 1(a) and FIG. 1(b)</figref> are diagrams illustrating the structure of a GOP according to a first example.</li><li><figref idrefs="f0002">FIG. 2</figref> shows an example of the GOP structure when two P picture access points are set in one GOP.</li><li><figref idrefs="f0003">FIG. 3</figref> illustrates the structure of index information for accessing a P picture used as an access point.</li><li><figref idrefs="f0004">FIG. 4</figref> is a block diagram illustrating the structure of a reproducing device .</li><li><figref idrefs="f0005">FIG. 5</figref> illustrates the relationship between a video file on an optical disc and the management data in <i>Entry_map()</i> in the first example.</li><li><figref idrefs="f0006">FIG. 6</figref> illustrates the structure of index information for accessing a P picture used as an access point in a second example.</li><li><figref idrefs="f0007">FIG. 7</figref> illustrates the relationship between picture references and <i>frame_num</i> in a GOP in the second example.</li><li><figref idrefs="f0008">FIG. 8</figref> illustrates the structure of a GOP according to an embodiment of the invention.<!-- EPO <DP n="5"> --></li><li><figref idrefs="f0009">FIG. 9</figref> is a block diagram showing the structure of a reproducing device according to the embodiment.</li><li><figref idrefs="f0010">FIG. 10</figref> illustrates the structure of GOP access_info, which describes access information in each GOP in the embodiment.</li><li><figref idrefs="f0010">FIG. 11</figref> illustrates another example of the structure of the <i>GOP_access_info</i> describing access information in each GOP in the embodiment.</li><li><figref idrefs="f0011">FIG. 12</figref> illustrates the structure of index information for accessing a P picture used as an access point in the embodiment.</li><li><figref idrefs="f0012">FIG. 13</figref> illustrates the relationship between the picture sequence arranged in presentation order and the sequence rearranged at the time of recording for random access in a fourth example.</li><li><figref idrefs="f0013">FIG. 14</figref> illustrates the structure of <i>GOP_structure()</i> in the fourth example.</li><li><figref idrefs="f0014">FIG. 15</figref> illustrates the relationship between Entry_map ()and the picture sequence in the fourth embodiment.</li><li><figref idrefs="f0015">FIG. 16</figref> illustrates the relationship between the picture sequence arranged in presentation order and the sequence rearranged at the time of recording for random access and fast-forward reproduction in a fifth example.</li><li><figref idrefs="f0016">FIG. 17</figref> illustrates the structure of index information supporting random access and fast-forward reproduction in the fifth example.</li></ul></p><heading id="h0008">Explanation of Reference Characters</heading><p id="p0011" num="0011">AP, AP1, AP2 access points, 1 navigation data, 2 video data, 3 video file, 4 GOP(k) 100, 120 reproducing device, 101 user interface, 102 CPU, 103 drive, 104 drive controller, 105 work memory, 106 system bus, 107 decoder, 108 buffer memory, 109 display device, 110 picture selector<!-- EPO <DP n="6"> --></p><heading id="h0009">BEST MODE OF PRACTICING THE INVENTION</heading><p id="p0012" num="0012">The invention will now be described with reference to the attached drawings.</p><p id="p0013" num="0013">The description illustrate mainly the case in which the video information recording medium is an optical disc, but it may be another recording medium such as a hard disc or semiconductor memory.</p><p id="p0014" num="0014">The invention will be described for the case in which a 30 frames per second picture is compressed to digital video data by the MPEG4-AVC (Advanced Video Codec) encoding system. Each frame of digital video data consists of one of three types of coded picture: an I picture, a P picture, or a B picture. An I picture is an intra-coded picture coded within one frame. A P picture is a predictive coded picture; one frame is divided into a group of blocks, each block being predicted from one other frame; that is, a P picture is a group of blocks predicted from one frame. A B picture is also a predictive coded picture in which one frame is divided into a group of blocks, but each block is predicted with reference to two other frames; that is, a B picture is a group of blocks predicted from two frames. A group of pictures (GOP) is structured as a unit comprising at least one I picture followed by one or more P pictures and one or more B pictures, and the video data consist of a plurality of such GOPs. The MPEG4-AVC standard provides no definition of GOPs, but the term GOP will be used herein to denote this concept as applied to MPEG4-AVC, and the following description will assume that the length of a GOP is 1.0 second.</p><heading id="h0010">First example</heading><p id="p0015" num="0015"><figref idrefs="f0001">FIG. 1(a) and FIG. 1(b)</figref> are diagrams illustrating the structure of a GOP. In these <figref idrefs="f0001">figures, 1 </figref>represents an I picture, P represents a P picture, and B represents a B<!-- EPO <DP n="7"> --> picture. The leftmost picture Il is the oldest picture, and subsequent pictures are arranged temporally from left to right in their presentation sequence. In the figures, arrows represent predictive and referencing encoding relationships among the pictures. The numbers after the letters I, P, and B are picture identification numbers, given in temporal sequence.</p><p id="p0016" num="0016"><figref idrefs="f0001">FIG. 1(a)</figref> is an example of the MPEG4-AVC coded GOP structure. How the pictures are decoded will be described with reference to <figref idrefs="f0001">FIG. 1(a)</figref>. The pictures are displayed in the order shown in the figure, but are recorded on a recording or other medium in the decoding sequence, such as in the order of Il, P1, B1, B2, B3, B4, P2... in <figref idrefs="f0001">FIG. 1(a)</figref> for example.</p><p id="p0017" num="0017">In <figref idrefs="f0001">FIG. 1(a)</figref>, Il is an independently decodable picture, and because it is the first picture, it is decoded first. The decoded I picture is necessary for later decoding, so it is temporarily stored in a frame memory in the decoder. Next, P1 is decoded, and the decoded P picture is also temporarily stored in the frame memory. Then B1 is decoded with reference to Il and P1, which are already decoded, and is temporarily stored in the frame memory. Il is deleted from the frame memory at this time. Next B2 is decoded with reference to B1 and P1, and is temporarily stored in the frame memory. B3 is decoded with reference to P1 and B2 and is temporarily stored in the frame memory, but is then deleted from the frame memory. B4 is decoded with reference to P1 and B3 and is temporarily stored in the frame memory, and all the pictures in the frame memory except B4 are discarded. Next P2, which is predicted from B4, is decoded and temporarily stored in the frame memory. Decoding proceeds in a similar manner.</p><p id="p0018" num="0018">As described above, to decode one picture, a temporally preceding picture and/or a following picture is necessary,<!-- EPO <DP n="8"> --> which poses a significant problem for random access. Consider P2: in order to decode P2, B4 is necessary, and in order to decode B4, B3, and P1 are necessary. In order to decode B3, P1, and B2 are necessary, and in order to decode B2, B1, and P1 are necessary. In order to decode B1 T1, and P1 are necessary. Therefore, if one wants to start reproducing from P2, one finds that P2 can be decoded only after decoding all of pictures Il, B1, B2, P1, B3, and B4. (In MPEG2, which, unlike MPEG4-AVC, does not permit the pictures used for reference and prediction to be selected arbitrarily, P2 could be decoded and reproduced by decoding Il and P1.) This means that a picture encoded by MPEG4-AVC lacks random accessibility. In low-bit-rate encoding, the GOP length tends to be set high in order to improve the coding efficiency. If, for example, the length of a GOP is about five seconds, then in random access to a picture in the interior of the GOP, in the worst case, more than two seconds passes before the desired picture is reproduced.</p><p id="p0019" num="0019">Therefore, in an encoding scheme such as MPEG4-AVC which allows arbitrary selection of the pictures used for reference and prediction, many pictures have to be decoded in order to access a picture in the interior of a GOP, and time is necessary before reproduction begins. As a result, problems arise in starting reproduction from the point desired by the user: it may take time for reproduction to begin, or reproduction may start from a point different than the desired point.</p><p id="p0020" num="0020">To solve these problems, it is necessary to add some constraints on encoding. Adding strong constraints, however, would weaken the advantages of MPEG4-AVC, so the constraints should be minimized. <figref idrefs="f0001">FIG. 1(b)</figref> shows the structure of a GOP in which a picture to be used as an access point (AP) has been coded with certain constraints. The pictures are arranged in their presentation sequence from left to right.<!-- EPO <DP n="9"> --> For this GOP, the following three constraints are added as conditions for coding pictures following the access point AP:
<ol><li>1. A picture used as an access point AP must be an I or P picture;</li><li>2. A P picture used as an access point AP must always be predicted from the initial I picture of the GOP; and</li><li>3. Pictures following a P picture used as an access point AP must not be predicted or referenced from pictures preceding the access point AP, other than the initial I picture of the GOP.</li></ol></p><p id="p0021" num="0021">An access point AP is a position (point) accessible in random access reproduction, in which reproduction starts from an arbitrary point in the video information, e.g., a point desired by the user. For a read-only optical disc, these points are designated at the time of authoring of the disc, while for a recordable or rewritable optical disc, the points are designated by the recording device when it records video data on the disc.</p><p id="p0022" num="0022">In <figref idrefs="f0001">FIG. 1(b)</figref>, in order to start reproduction from P4, which is an access point AP, all that is necessary is to decode I1 at the start of the GOP, and then decode P4. Pictures following P4 do not use pictures preceding P4 for reference or prediction, so subsequent pictures can be reproduced continuously by decoding them in the usual sequence.</p><p id="p0023" num="0023">When encoding is carried out with the above constraints, in order to start reproduction from P4, which is an access point AP, it is only necessary to read and decode the data of I1 at the start of the GOP; it is not necessary to read or decode other pictures preceding P4. Let it be assumed that the disc read-out rate is 10 Mbps, the coding rate is 10 Mbps, the coding ratio of I pictures to B pictures to P pictures is 10:6:1, and the seek time is 100 msec. In this<!-- EPO <DP n="10"> --> case, the total data size of I1 and P4 will be about 1.3 Mbits under the above conditions, and the time necessary to read out all this data will be 130 msec. After reading I1, an additional 100 msec is needed to access P4, so about 230 msec will be necessary in all.</p><p id="p0024" num="0024">The above discussion deals with a case in which there is a single P picture access point AP in the GOP, but it is also possible to set a plurality of P pictures as access points in the GOP. <figref idrefs="f0002">FIG. 2</figref> shows an exemplary GOP structure with two P picture access points AP1 and AP2 in one GOP. P4, which is the first P picture access point AP1, is the same as in the example above with a single P picture access point AP, so an explanation will be omitted. The second access point AP2 is P8. P4 is encoded by prediction from I1, but P8, the second access point AP2, is temporally more remote from I1. In general, the more temporally remote the picture to be predicted is, the less accurate the prediction becomes, resulting in degradation of picture quality. Therefore, it is better for P pictures at and after the second access point AP2 to be predicted from the P picture at the immediately preceding access point (e.g., AP1) than from the I picture. P8, positioned at the second access point AP2, is encoded by prediction from P4 at the first access point AP1. It is not always necessary to predict from the immediately preceding access point, however, because prediction from I1 may sometimes allow more efficient encoding.</p><p id="p0025" num="0025">Therefore, the encoding constraints for the second and subsequent P picture access points are as follows:
<ol><li>1. A picture used as an access point must be an I or P picture;</li><li>2. A P picture used as an access point must be predicted from the initial I picture of the GOP, or another P picture used as an access point; and</li><li>3. Pictures following a P picture used as an access point<!-- EPO <DP n="11"> --> must not be predicted or referenced from pictures preceding the access point, other than the initial I picture of the GOP or a P picture used as an access point.</li></ol></p><p id="p0026" num="0026">When the user wants to start reproduction from P8, which is used as the second access point AP2, I1 at the start of the GOP is reproduced first. Next, P4, which is the first access point AP1, is read and decoded; then P8 is read and decoded. Subsequent reproduction can be performed in the usual manner. Differing from the case of a single access point AP, when there are a plurality of access points, it is necessary to reproduce the initial I picture of the GOP and the P pictures at access points preceding the intended access point, so the farther back in the GOP the access point is, the more time is needed before reproduction begins. Nevertheless, the pictures can be reproduced considerably more quickly than if they had been encoded without these constraints.</p><p id="p0027" num="0027">Under the above encoding conditions, the following index information is added to the picture data to facilitate reproduction from an access point in the interior of a GOP. <figref idrefs="f0003">FIG. 3</figref> is shows the structure of the index information for accessing a P picture used as an access point. In <figref idrefs="f0003">FIG. 3</figref>, <i>Entry_map()</i> is a data area in which information necessary for access points is stored; <i>Entry_map ()</i> constitutes part of the navigation data. Navigation data refers in general to control information and management information for controlling reproduction of contents such as video files on a recoding medium, and includes the access point index information.</p><p id="p0028" num="0028"><i>number_of_IAP</i> in <figref idrefs="f0003">FIG. 3</figref> gives the total number of I pictures in a motion video file. A motion video file consists of a plurality of GOPs. The initial I picture of a GOP is not necessarily used as an access point, and accordingly the value indicated in <i>number_of_IAP</i> need not be<!-- EPO <DP n="12"> --> the same as the number of the GOPs, but it never exceeds the total number of the GOPs.</p><p id="p0029" num="0029">The for loop statement following <i>number_of_IAP</i> in <figref idrefs="f0003">FIG. 3</figref> is a loop repeated this <i>(number_of_IAP)</i> number of times. The following access point information is coded therein, for the interval from one I picture access point to the next I picture access point. This may be regarded as per GOP access point information, because in a GOP on the order of several seconds long, the I picture at the beginning of the GOP is always designated as an access point.</p><p id="p0030" num="0030">The <i>I_PTS_AP[IAP_id]</i> in <figref idrefs="f0003">FIG. 3</figref> gives the presentation time of an I picture, which is display time information indicating the reproduction timing at the start of the access point. The presentation time may be either the PTS given for each picture in MPEG2, or the relative time from the initial picture in the video file. The bracketed <i>[IAP_id]</i> is the number of a particular I picture access point among the <i>number_of_IAP</i> I picture access points. <i>I_PTS_AP[IAP_id],</i> for example, gives <i>I_PTS_AP</i> information for the I picture access point designated by <i>[IAP_id].</i> The meaning of this notation is the same below, so subsequent explanations will be omitted.</p><p id="p0031" num="0031">The next item, I_SCN_AP, is information giving the position in the video file or on the disc of the initial I picture access point. In this example, the sector offset of the I picture relative to the start of the video file is given. It will be appreciated that a byte offset or the like can be used instead of a sector offset: any information may be used that can identify the position of the I picture relative to the start of the video file, or the absolute position of the I picture on the disc. Size_of <i>IAP</i> is information giving the data size of the initial I picture access point. In this example, the sector offset of the sector containing the last byte of the I picture relative to<!-- EPO <DP n="13"> --> the start of the GOP including the I picture is given. From these three items of access point information, the starting point, presentation time, and data size of the initial I picture access point can be identified.</p><p id="p0032" num="0032">In <i>number_of_PAP</i> in <figref idrefs="f0003">FIG. 3</figref>, the total number of P picture access points from one I picture access point to next I picture access point, that is, the total number of P picture access points until the start of the next GOP, is given. The following for loop statement is a loop repeated this <i>(number_of_PAP)</i> number of times.<br/>
<i>P_PTS_AP[IAP_id][PAP_id]</i> is similar to <i>I_PTS_AP</i> above, giving the presentation time, indicating the display timing, of a P picture used as an access point. In this example, the presentation time may be the PTS given for each picture in MPEG2, or the relative time from the start of the video file. In general, the less data other than video data there is, the better. For a clock frequency of 90 kHz, an absolute PTS requires 33 bits of data, but if the maximum GOP length is five seconds, the amount of data required for a relative PTS is reduced to 19 bits, so the value of<br/>
<i>P_PTS_AP[IAP_id][PAP_id]</i> is preferably the relative time from the start of the GOP. In this example, the presentation time is relative to the start of the video file. The bracketed <i>[IAP_id] [PAP_id]</i> gives information that corresponds to the number of a particular P picture access point among the <i>(number_of_PAP)</i> P picture access points from the I picture identified by <i>IAP_id</i> to the next I picture access point. For example, <i>P_PTS_AP[IAP_id][PAP_id]</i> designates the <i>P_PTS_AP</i> information of the P picture access point identified by <i>[PAP_id]</i> among the P picture access points from the single I picture access point identified by <i>[IAP_id]</i> to the next I picture access point. The meaning of this notation is the same below, so subsequent explanations will be omitted.<!-- EPO <DP n="14"> --></p><p id="p0033" num="0033">The next item, <i>P_SCN_AP,</i> is similar to the above <i>I_SCN_AP,</i> giving information about the position at which a P picture access point starts in a GOP, or in the video file. The sector offset relative to the start of the I picture access point is given here. The <i>Size_of_PAP</i> information is similar to <i>Size_of_IAP,</i> giving the data size of the P picture access point. The sector offset of the sector including the last byte of the P picture used as an access point, relative to the start of the P picture, is given. From the above three items of information, the video image starting position, presentation time, and data size of a P picture used as an access point can be identified.</p><p id="p0034" num="0034">Structuring the access point index information as described above enables positional information, temporal information, and the picture size of each access point to be identified. Next, a procedure for using the above index information to start reproduction from an access point will be described. <figref idrefs="f0004">FIG. 4</figref> shows the structure of a reproducing device 100, and <figref idrefs="f0005">FIG. 5</figref> shows the relationship between a picture file on an optical disc and the management data in <i>Entry_map () .</i></p><p id="p0035" num="0035">First, an example of the ordinary reproduction sequence will be described. When a reproduce instruction from the user is input through the user interface (I/F) 101 to the CPU 102, a command to read navigation data 1 is output to the drive controller 104, which controls the drive 103 that reads data from an optical disc. The read-out navigation data 1 are transferred via the drive controller 104 to a work memory 105. The drive controller 104 and the work memory 105 are connected to the CPU 102 via a system bus 106 comprising an address bus and a data bus, which is used to transfer commands from the CPU 102 and transfer data between blocks. The CPU 102 extracts management information regarding the program designated for reproduction by the<!-- EPO <DP n="15"> --> user from the navigation data 1 deployed in the work memory 105. Based on the extracted management information, the CPU 102 instructs the drive controller 104 to read the data of the video file 3 required for reproduction from the video data 2, and the drive 103 reads out the desired data. The read-out data are temporarily stored, via the system bus 106, in a buffer memory 108 of the decoder 107, which decodes the coded data. The CPU 102 controls this process to prevent the buffer memory 108 from being exhausted or overflowing, in order to achieve reproduction without interruption in picture or sound. The data stored temporarily in the buffer memory 108 are decoded by the decoder 107 into a video signal, which is output to a display device 109 such as a TV monitor.</p><p id="p0036" num="0036">Next, the flow of processing in a time search, in which the user designates a time, will be described. When the user interface 101 outputs a search instruction having a time specified by the user, the CPU 102 refers to the <i>Entry_map ()</i> of the navigation data 1 stored in the work memory 105. Among the <i>I_PTS_AP</i> in <i>Entry_map (),</i> let <i>I_PTS_AP (k)</i> be the time information of the I picture access point closest to the time specified by the user. Among the <i>P_PTS_AP,</i> let <i>P_PTS_AP (j)</i> be the time information of the closest P picture access point (where j is an integer equal to or greater than one, indicating the j-th P picture access point counted from the I picture). The above I picture will be assumed to belong to GOP (k) 4.</p><p id="p0037" num="0037">The starting address of the video file 3 currently being reproduced can be recognized from the file system in the storage medium. Therefore, the absolute address of the initial I picture in the GOP(k) 4 containing the intended access point will be the starting address of the video file 3 plus the I picture position information <i>I_SCN_AP (k).</i> The CPU 102 instructs the drive controller 104 to read data from<!-- EPO <DP n="16"> --> this absolute address. The amount of data read is equivalent to the number of sectors given in <i>Size of_IAP</i>, which is the data size of the I picture. The I picture data read according to the position information and data size are temporarily loaded from the drive controller 104 into the buffer memory 108.</p><p id="p0038" num="0038">when the reading of the I picture is completed, the CPU 102 instructs the drive controller 104 to read data from an address determined by adding the following three addresses: the starting address of the video file, the I picture position information <i>I_SCN_AP(k),</i> and the position information of the next P picture access point <i>(P_SCN_AP(1)</i> , not shown). The amount of data read is equivalent to the number of the sectors given in <i>Size_of_PAP(1).</i> The data of the P picture thus read according to the position information and data size is temporarily loaded from the drive controller 104 into the buffer memory 108.</p><p id="p0039" num="0039">In order to reproduce P picture j, it suffices to read the I picture in GOP(K) 4 and the P pictures at the following access points AP(1) to AP(j), so the above process is repeated j times. The intended access point <i>P_PTS_AP(j)</i> is thereby reached.</p><p id="p0040" num="0040">The CPU 102 calculates timings to output video from the intended access point within the shortest period, transfers data stored in the buffer memory 108 to the decoder 107, and starts decoding. Reproduction from the user-specified time is carried out in the above manner. The above description is for a time search process in which the user specifies the time at which to start reproduction, but it will be appreciated that the user can specify the picture or address at which reproduction is to start; the specified reproduction position in the present invention includes positions specified by time, address, or picture etc.</p><p id="p0041" num="0041">As described above, using I pictures and P pictures as<!-- EPO <DP n="17"> --> access points designated as randomly accessible positions enables access points to be designated at reasonable intervals, without reducing the number of access points, even in low-bit-rate coding systems such as MPEG4-AVC.</p><p id="p0042" num="0042">When a picture used as an access point is a P picture, coding efficiency can be maintained by coding the picture by prediction either from a temporally preceding P picture or from the initial picture in the GOP.</p><p id="p0043" num="0043">Furthermore, reproduction following the access point can proceed smoothly because pictures temporally following an I picture or a P picture used as an access point are not coded by prediction from pictures temporally preceding the I picture or the P picture used as the access point, other than the initial I picture in the GOP and other pictures used as access points.</p><p id="p0044" num="0044">Storing information on the optical disc or other video information recording medium giving the presentation time, position, and data size of pictures used as access points enables quick reproduction from access points in the interiors of GOPs.</p><p id="p0045" num="0045">According to the present example, compression efficiency can be improved by increasing the GOP length without compromising random accessibility.</p><heading id="h0011">Second example</heading><p id="p0046" num="0046">In the first example, <i>P_PTS_AP[IAP_id], [PAP_id]</i> which indicates relative time from the start of the GOP, was used as information giving the presentation time of the access points in the GOP, but a method of obtaining time information by using information with a smaller data size will now be described. <figref idrefs="f0006">FIG. 6</figref> shows a new structure of Entry_map () which differs from the Entry_map () shown in <figref idrefs="f0003">FIG. 3</figref> in that frame <i>num[IAP</i> id][PAP id] is used instead of <i>P_PTS_AP [IAP_id] [PAP_id]. frame_num</i> is a parameter given in the slice header in an MPEG4-AVC stream. frame_num is<!-- EPO <DP n="18"> --> incremented every time a reference picture is decoded, and takes on 4-bit to 16-bit values. <figref idrefs="f0007">FIG. 7</figref> shows the relationship between <i>frame_</i>num and the picture references in a GOP. As shown in <figref idrefs="f0007">FIG. 7</figref>, the value of <i>frame_num</i> is incremented by one every time a reference picture is decoded. The display order of an access point is calculated by the following equation. <maths id="math0001" num=""><math display="block"><mi mathvariant="italic">Display_order</mi><mfenced open="[" close="]"><mi mathvariant="italic">IAP_id</mi></mfenced><mspace width="1em"/><mfenced open="[" close="]"><mi mathvariant="italic">PAP_id</mi></mfenced><mo>=</mo><mfenced separators=""><mi mathvariant="italic">frame_num</mi><mfenced open="[" close="]"><mi mathvariant="italic">IAP_id</mi></mfenced><mspace width="1em"/><mfenced open="[" close="]"><mi mathvariant="italic">PAP_id</mi></mfenced><mo>-</mo><mi mathvariant="italic">frame_num</mi><mfenced open="[" close="]"><mi mathvariant="italic">IAP_id</mi></mfenced></mfenced><mo>*</mo><mi mathvariant="italic">M</mi></math><img id="ib0001" file="imgb0001.tif" wi="126" he="13" img-content="math" img-format="tif"/></maths><br/>
<i>M</i> in this equation is a value indicating the interval between P pictures: in <figref idrefs="f0007">FIG. 7</figref>, <i>M</i> = 3. When calculated according to the above equation, the indicated access point works out to be fifteenth in the display order. On the assumption that the PTS clock frequency is 90 kHz and the frame frequency is 24 Hz, the PTS difference between frames is 90000/24 = 3750, so the PTS value relative to the initial picture of the GOP is calculated by the following equation. <maths id="math0002" num=""><math display="block"><mi mathvariant="italic">P_PTS_AP</mi><mspace width="1em"/><mfenced open="[" close="]"><mi mathvariant="italic">IAP_id</mi></mfenced><mspace width="1em"/><mfenced open="[" close="]"><mi mathvariant="italic">PAP_id</mi></mfenced><mo>=</mo><mi mathvariant="italic">Display order</mi><mspace width="1em"/><mfenced open="[" close="]"><mi mathvariant="italic">IAP_id</mi></mfenced><mspace width="1em"/><mfenced open="[" close="]"><mi mathvariant="italic">PAP_id</mi></mfenced><mo>*</mo><mn mathvariant="italic">3750</mn></math><img id="ib0002" file="imgb0002.tif" wi="106" he="14" img-content="math" img-format="tif"/></maths></p><p id="p0047" num="0047">To make calculations such as in the two equations above possible, the following encoding constraints must be satisfied.
<ol><li>1. No B picture is used as a reference picture.</li><li>2. No reference is made that causes a reordering of reference pictures.</li><li>3. The number of B pictures between two reference pictures in the GOP is fixed.</li></ol>
When the above conditions are satisfied, the presentation time of an access point can be calculated easily from the value of <i>frame_num.</i> The data size of <i>frame_num</i> is 16 bits at maximum, but it is not necessary for all the <i>frame_num</i> bits to be used. For example, if the maximum GOP length is five seconds, the frame frequency is 30 Hz, and M = 3, then the maximum number of frames in a GOP is 150, of which 50 are P<!-- EPO <DP n="19"> --> pictures. Therefore, the relative frame offset from the I picture can be calculated using the least significant six bits in frame_num.</p><p id="p0048" num="0048">As described above, if predetermined constraints are satisfied during encoding, the presentation time of a P picture used as an access point can be calculated easily from <i>frame_num</i> and the amount of data other than video data can be reduced, compared with use of PTS. Although the presentation time of an access point is calculated from <i>frame_num</i> in this example, the presentation time of an access point can be similarly calculated from any information that indicates the decoding order.</p><heading id="h0012">Embodiment of the invention</heading><p id="p0049" num="0049">In the first example, a method of accessing an access point at a P picture in the interior of a GOP was described. In the present embodiment, a reproducing method with high image quality as well as high access speed, obtained by control of the encoding system, will be described.</p><p id="p0050" num="0050">In the first example, the picture used for prediction of a P picture at an access point was a P picture at another access point or the initial I picture in the GOP. In general, in order to reduce the amount of code in a P picture, it should be predicted from a picture as temporally close as possible. Therefore, for the same coding bit rate, a picture can be encoded with higher image quality if it is predicted from a picture closer than the initial I picture. Access points are set at intervals such as 0.5 seconds or 1.0 second, but when a P picture is predicted from a picture this temporally remote, the amount of coded data is quite likely to increase. It can therefore be anticipated that image quality will be inferior to that obtained when no access points are set in the interiors of GOPs.</p><p id="p0051" num="0051">In the description of the first example, bits were<!-- EPO <DP n="20"> --> read from the disc at a rate comparatively close to the coding bit rate. When reading is performed at a considerably higher rate than the coding rate, the data in the interval preceding the intended access point can be read within a relatively short time without a seek operation. Therefore, if the following encoding constraints are imposed, access points can be predicted from P pictures relatively close by, and image quality will be improved:
<ol><li>1. A picture used as an access point must be an I picture or a P picture;</li><li>2. A P picture used as an access point must be predicted from the initial I picture of the GOP, or a P picture temporally preceding the access point, and the pictures necessary for decoding a P picture used as an access point must not include any B pictures;</li><li>3. Pictures following a P picture used as an access point must not be predicted or referenced from pictures preceding the access point, other than the initial I picture of the GOP or a P picture used as an access point.</li></ol></p><p id="p0052" num="0052">The difference from the first example is that when a P picture used as an access point is encoded it may be predicted from any P picture disposed between the I picture and the access point, provided the previous pictures necessary for decoding the P picture at the access point do not include any B pictures. <figref idrefs="f0008">FIG. 8</figref> shows the structure of a GOP encoded under the above constraints. In <figref idrefs="f0008">FIG. 8</figref>, P5, which is an access point, is predicted from P4, P4 from P3, P3 from P2, and P2 from I1. Owing to the above encoding constraints, to decode access point P5, only four other pictures (I1 P2, P3, and P4) have to be decoded. P1 in <figref idrefs="f0008">FIG. 8</figref> is not a picture necessary for decoding access point P5, so P1 could be predicted from a B picture.</p><p id="p0053" num="0053">As described in the first example, when no encoding constraints are imposed, eighteen pictures preceding P5 may<!-- EPO <DP n="21"> --> have to be decoded in order to decode P5. The present embodiment can significantly decrease the number of pictures to be decoded.</p><p id="p0054" num="0054">It will assumed here that the reading rate from the disc is 10 Mbps, the coding rate is 2 Mbps, the coding ratio of I pictures to B pictures to P pictures is 10:6:1, and the time necessary for decoding a P picture is 20 msec. The amount of data from I1 to P5 is about 1.5 Mbits, which takes about 150 msec to read. Decoding up to P5 takes about 100 msec. In this case, as more time is necessary for reading than decoding, P5 can be decoded in 150 msec. In this manner, when the coding rate is considerably lower than the reading rate, access points can be reproduced quickly if the above constraints are imposed when the data are encoded. This would be impractical if the coding rate were 10 Mbps, as in the first example, because then reading the data would take about 750 msec, which is five times 150 msec.</p><p id="p0055" num="0055">Next, a method of selecting the P pictures necessary for decoding access point P5 from the continuously read sequence of picture data will be described with reference to <figref idrefs="f0009">FIGs. 9</figref>, <figref idrefs="f0010">10</figref> and <figref idrefs="f0010">11</figref>. <figref idrefs="f0009">FIG. 9</figref> shows the structure of the reproducing device 120, and <figref idrefs="f0010">FIG. 10</figref> shows the structure of <i>GOP_access_info,</i> which gives information about access within each GOP. The reproducing device 120 in <figref idrefs="f0009">FIG. 9</figref> differs from the reproducing device 100 in <figref idrefs="f0004">FIG. 4</figref> in that when data stored in the buffer memory 108 are output to the decoder 107, the output pictures are selected by a picture selector 110 that selects pictures necessary for decoding access points based on information indicating whether the pictures are necessary or not.</p><p id="p0056" num="0056">As the pictures are automatically selected in the LSI chip, <i>GOP_access_info</i> precedes each I picture access point in the video file 3 in <figref idrefs="f0005">FIG. 5</figref>. In the case of MPEG4-AVC, GOP access_info is commonly recorded in a user region in the<!-- EPO <DP n="22"> --> SEI (Supplemental Enhancement Information). SEI is a management information region dispersed in the video file, preceding the I picture at each access point.</p><p id="p0057" num="0057">In <figref idrefs="f0010">FIG. 10</figref>, <i>ref_IAP_id</i> gives a number for identifying an I picture access point in, for example, the <i>Entry_map()</i> shown in <figref idrefs="f0003">FIG. 3</figref>. However, <i>ref_IAP_id</i> is not particularly necessary information. The next item, <i>number_of_P_picture_in_GOP,</i> gives the total number of P pictures present from the I picture at the access point identified by <i>ref_IAP_id</i> up to the last access point in the GOP. The following for loop statement is a loop repeated this <i>(number_of_P_picture_in_GOP)</i> number of times. frame_num gives information from which the presentation time of a P picture is calculated as described in the second example. Although frame_num is used for the calculation here, PTS can be used instead, as in the first example. <i>P_SCN_AP</i> gives information indicating the sector offset of the intended picture relative to the start of the GOP. Use of <i>P_SCN_AP</i> enables the location of the P picture data for the intended access point to be calculated directly and accessed rapidly.</p><p id="p0058" num="0058">picture_type gives attribute information that indicates if each P picture is an access point, or is necessary for decoding the next P picture access point. <i>picture_type</i> has the value '2' when the P picture is an access point itself, the value '1' when the P picture is a P picture necessary for decoding the next access point, and the value '0' otherwise. From the above information, the presentation time and position of a P picture used as an access point in a GOP and the presentation time and position of the P pictures necessary for decoding the access point can be obtained.</p><p id="p0059" num="0059">In <figref idrefs="f0010">FIG. 11</figref>, <i>ref_IAP_id</i> gives a number for identifying an I picture, which is an access point, in, for example, the <i>Entry_map()</i> shown in <figref idrefs="f0003">FIG. 3</figref>. The <i>number_of_PAP</i> item gives the total number of P picture access points from the I<!-- EPO <DP n="23"> --> picture access point identified by <i>ref_IAP_id</i> to the next I picture access point. The following for loop statement is a loop repeated this <i>(number_of_PAP)</i> number of times. <i>P_PTS_AP[PAP_id]</i> and <i>P_SCN_AP[PAP_id]</i> give information specifying the presentation time and position of the P picture identified by the identification number <i>[PAP_id]</i> , which identifies a P picture used as an access point, as described in the first example. <i>P_PTS_AP</i> is necessary to identify the P picture access point closest to the time specified by the user in a time search, but the P_SCN_AP information is not particularly necessary. <i>P_SCN_AP</i> can, however, be used instead of or together with <i>P__PTS_AP. number_of_P_picture</i> gives the total number of P pictures present between two access points. The following for loop statement is a loop repeated this (number_of_P_picture) number of times. <i>picture_type</i> gives attribute information indicating if each P picture is necessary for decoding the next P picture access point, taking, for example, the value '1' when the P picture is necessary and the value '0' when it is not. The appended <i>[PAP_id] [P_id]</i> means that the picture may be identified by either its P picture access point identifier <i>[PAP_id]</i> or its P picture identifier <i>[P_id].</i></p><p id="p0060" num="0060">In <figref idrefs="f0009">FIG. 9</figref>, the data read out from the address given in <i>I_SCN_AP</i> in <i>Entry_map ()</i> are temporarily stored in the buffer memory 108, then sent to the picture selector 110. The picture selector 110 selects the pictures necessary for decoding access point P5 according to the <i>picture_type</i> information and transfers them to the decoder 107. As the picture boundaries can generally be identified by header information present at the start of each picture, positional information does not have to be added for each picture, but if there is no such header information, positional information for each picture may be added in <i>GOP_access_info.</i></p><p id="p0061" num="0061">The same effect can be obtained in this embodiment if<!-- EPO <DP n="24"> --> the picture selector 110 precedes the buffer memory 108 instead of the decoder 107, and selects the picture data necessary for decoding before storing the data in the buffer memory 108.</p><p id="p0062" num="0062">Next, the operation in a time search in which the user specifies a presentation time will be described. <figref idrefs="f0011">FIG. 12</figref> shows the <i>Entry_map()</i> in the embodiment. The differences from the first example are that no information follows <i>number_of_PAP,</i> and that <i>SEI_SCN_AP[IAP_id]</i> replaces <i>I_SCN_AP[IAP_id]. SEI_SCN_AP[IAP_id]</i> gives positional information about the SEI that immediately precedes the I picture at the access point identified by the number <i>[IAP_id],</i> specifying the position of the SEI in the video file or on the disc. In this embodiment, the sector offset of the SEI immediately preceding the I picture access point is given relative to the start of the video file. A byte offset may be used instead of a sector offset: any information may be used that can identify the position of the SEI relative to the start of the video file, or the absolute position of the SEI on the disc.</p><p id="p0063" num="0063">In this embodiment, there is no need for a direct seek to a P picture access point in the GOP, because the data are read from the I picture access point to the P picture access point without a seek operation. Therefore, only information about I picture access points is necessary in <i>Entry_map().</i> In order to read an I picture at an access point, its SEI, which gives management information from the I picture access point to the next I picture access point, must be read first, so the <i>SEI_SCN_AP</i> information that gives the position of the SEI is recorded in <i>Entry_map ().</i></p><p id="p0064" num="0064">When the user specifies a time or an image to be reproduced, <i>Entry_map (),</i> which is a management region separate from the content data region, is accessed, and the<!-- EPO <DP n="25"> --> I picture access point closest to the specified time is identified as in the first embodiment. Next, the GOP_access_info identified by the ref_IAP_id number corresponding to this I picture access point is accessed, based on the access point information of the identified I picture, particularly on the <i>SEI_SCN_AP</i> information giving the position of the SEI.</p><p id="p0065" num="0065">A difference from the first example is that data are now read continuously, starting from the address specified by <i>I_PTS_AP(k)</i> for the identified I picture access point. From among the data read preceding the P picture access point closest to the intended time, the P pictures necessary for decoding the access point are decoded; then the access point data and all of the data read thereafter are decoded to perform reproduction starting from the P picture access point closest to the intended time.</p><p id="p0066" num="0066"><figref idrefs="f0010">FIGs. 10 and 11</figref> illustrate the case in which <i>GOP_access_info ()</i> is present in the video file, but a similar function can be realized if this information is given in <i>Entry_map()</i> in the navigation information. Note that as the navigation information is commonly interpreted by the CPU 102, if <i>GOP_access_info()</i> is given in <i>Entry_map(),</i> picture selection information needs to be sent from the CPU 102 to the picture selector 110 every time the start of a GOP, for example, is accessed.</p><p id="p0067" num="0067">As described above, when the bit rate is considerably higher in reading than in encoding, access points can be specified at appropriate intervals without reducing the number of the access points, even in a low-bit-rate encoding scheme such as MPEG4-AVC, by using I pictures and P pictures as access point pictures designated as randomly accessible positions.</p><p id="p0068" num="0068">When a picture used as an access point is a P picture, coding efficiency and high image quality can both be<!-- EPO <DP n="26"> --> achieved by coding the picture by prediction either from a temporally preceding P picture or from the initial I picture in the GOP.</p><p id="p0069" num="0069">Furthermore, reproduction following the access point can proceed smoothly because pictures temporally following an I picture or a P picture used as an access point are not coded by prediction from pictures temporally preceding the I picture or the P picture used as the access point, other than the initial I picture in the GOP and other pictures used as access points.</p><p id="p0070" num="0070">Storing information on the optical disc or other video information recording medium giving the presentation time of pictures used as access points enables quick reproduction from access points in the interiors of GOPs. Furthermore, whether a picture is necessary for decoding the next access point or not can be determined easily because attribute information indicating if the picture is necessary or not is recorded.</p><p id="p0071" num="0071">According to the present embodiment, compression efficiency can be improved by increasing the GOP length without compromising image quality or random accessibility.</p><heading id="h0013">Fourth example</heading><p id="p0072" num="0072">In the case described in the embodiment, the coding rate was lower than the reading rate, but when the coding rate does not differ significantly from the reading rate, the data reading time becomes impractically long. Suppose that the coding bit rate is 8 Mbps, and the coding ratio of I pictures to B pictures to P pictures is 4:2:1. The amount of data preceding access point P5 in <figref idrefs="f0008">FIG. 8</figref> will then be about 5 Mbits, which takes 500 msec to read; this is considerably longer than the time necessary for reading when low-bit-rate encoding is performed. To resolve this problem, it is necessary to read only the data needed for decoding the P picture access point and omit other data. For example,<!-- EPO <DP n="27"> --> removing the data not needed for decoding P5 from the data preceding the access point at P5 in <figref idrefs="f0008">FIG. 8</figref> can reduce the reading time by half by reducing the amount of data to about 2.5 Mbits. Reading of only the data needed for decoding an access point can be realized by encoding under the following constraints:
<ol><li>1. A picture used as an access point must be an I or P picture;</li><li>2. A P picture used as an access point must always be predicted from the initial I picture of the GOP or a P picture preceding the access point, and the pictures necessary for decoding a P picture used as an access point must not include any B pictures;</li><li>3. Pictures following a P picture used as an access point must not be predicted or referenced from pictures preceding the access point, other than the initial I picture of the GOP or a P picture used as an access point; and</li><li>4. The P pictures used for predictively encoding a P picture used as an access point, that is, the P pictures necessary for decoding, must be arranged in continuous succession immediately following an I picture or a P picture used as an access point.</li></ol></p><p id="p0073" num="0073">The fourth example differs from the first example in that the fourth constraint is added, and that in the second constraint, an access point can be predicted from a P picture not used as an access point. In the first example, predictions were made from an I or P picture access point in order to avoid time-consuming seek operations. In the fourth example, however, because the P pictures necessary for decoding an access point are arranged in a continuous series, predictions can be made from closer P pictures, and the amount of code at a P picture access point can be reduced.</p><p id="p0074" num="0074">In MPEG4-AVC, although pictures must be input to the decoder in the order in which they should be decoded, the<!-- EPO <DP n="28"> --> pictures may be arranged arbitrarily when recorded. This example resolves this inconsistency by proposing a new GOP structure. <figref idrefs="f0012">FIG. 13</figref> shows the relationship between a sequence of pictures arranged in their presentation order (reproduction order, upper sequence), and the sequence is reordered at the time of recording for random access reproduction (lower sequence).</p><p id="p0075" num="0075">In <figref idrefs="f0012">FIG. 13</figref>, P4 at the position of access point AP is encoded by prediction from P3, P3 is encoded by prediction from P1, and P1 is encoded by prediction from I1. Therefore, since I1, P1, and P3 have to be decoded in this order to decode P4, P1, and P3 follow I1. P2, which is not necessary for decoding P4, need not be included in this sequence. Pictures following P3 are arranged in the order in which they are decoded. That is, the P pictures necessary for decoding P4 at access point AP have been extracted from the sequence of pictures arranged in the decoding order, the extracted P pictures have been placed immediately after the I picture, and the gaps in the picture sequence left by the extraction of the extracted P pictures have been closed up.</p><p id="p0076" num="0076">When, as above, the pictures are not arranged in their decoding order, they must be reordered in the decoding order before being sent to the decoder. <figref idrefs="f0013">FIG. 14</figref> shows the configuration of a <i>GOP_structure()</i> which gives information necessary for reordering. <i>GOP_structure()</i> forms a part of the navigation data 1 (<figref idrefs="f0005">FIG. 5</figref>). This example will be described on the assumption that there is one GOP_structure () per motion video file. number_of_GOP gives the total number of GOPs in the motion video file. The following for loop statement is a loop repeated this <i>(number_of_GOP)</i> number of times. <i>GOP_PTS[GOP_id]</i> is a presentation time that gives the reproduction timing of the initial picture of the GOP. <i>[GOP_id]</i> is a number specifying the specific GOP to which the data pertains; the meaning of<!-- EPO <DP n="29"> --> this notation is the same below, so subsequent explanations will be omitted. <i>number_of_picture</i> gives the total number of pictures in the GOP. The next for loop statement is a loop repeated this (number_of_picture) number of times. <i>decode_order [GOP_id] [picture_id]</i> gives the order in which the pictures in the GOP are decoded. <i>[GOP_id] [picture_id]</i> indicates that the data pertain to <i>[picture_id],</i> which specifies a particular picture in the GOP identified by <i>[GOP_id];</i> the meaning of this notation is the same below, so subsequent explanations will be omitted. The CPU 102 rearranges the read data in the buffer memory 108, based on the picture decoding order information, and transfers the reordered pictures to the decoder 107 in the decoding order. This example is described on the assumption that <i>GOP_structure()</i> is located in the navigation data 1 in <figref idrefs="f0005">FIG. 5</figref>, but <i>GOP_structure()</i> does not necessarily have to be treated as navigation data 1. For example, <i>GOP_structure()</i> may be stored in a region for recording control information specially reserved at the start of each GOP (preceding the video data) or, in the case of MPEG4-AVC, in user regions in the SEI (Supplemental Enhancement Information); either scheme has the same effect. In these schemes number_of <i>GOP</i> is not necessary; it is only necessary to give the information given in the <i>number_of_GOP</i> loop.</p><p id="p0077" num="0077">Next, the operation in a time search in which the user specifies a presentation time will be described. <figref idrefs="f0014">FIG. 15</figref> shows the relationship between <i>Entry_map()</i> and the sequence of pictures. When the user specifies a desired time or a desired image to be reproduced, data reading starts from the address identified by <i>I_PTS_AP(k)</i> which is closest to the specified time, as in the first example. The amount of data read is the number of sectors given in <i>Size_of_IAP,</i> but whereas in the first example this was the total number of the sectors in the I picture, in the fourth example<!-- EPO <DP n="30"> --> <i>Size_of_IAP</i> gives the data size of the pictures necessary for decoding the next access point AP after the I picture access point, that is, the data size of the pictures necessary for decoding P4. In <figref idrefs="f0014">FIG. 15</figref>, this is the total number of sectors in I1 plus the total number of following sectors in P1, P2, and P3. Similarly, <i>Size_of_PAP</i> gives the data size of the pictures necessary for decoding the next access point (not shown) after P4, the picture located at access point AP: in this case, the total number of sectors in P4, P5, P6, and P7. The operation of this example is similar to the operation of the first example, so further description will be omitted.</p><p id="p0078" num="0078">As described above, using I pictures and P pictures as access points designated as randomly accessible positions enables access points to be designated at reasonable intervals, without reducing the number of access points, even in low-bit-rate coding systems such as MPEG4-AVC.</p><p id="p0079" num="0079">When a picture used as an access point is a P picture, coding efficiency and high image quality can both be achieved by coding the picture by prediction either from a temporally preceding P picture or from the initial I picture in the GOP.</p><p id="p0080" num="0080">Furthermore, reproduction following the access point can proceed smoothly because pictures temporally following an I picture or a P picture used as an access point are not coded by prediction from pictures temporally preceding the I picture or the P picture used as the access point, other than the initial I picture in the GOP and other pictures used as access points.</p><p id="p0081" num="0081">When a P picture in the interior of a GOP is used as an access point, re-arranging the sequence of pictures so that the I picture and any other P pictures used for predictively encoding the P picture, that is, the I and P pictures necessary for decoding the P picture, are bunched together<!-- EPO <DP n="31"> --> can shorten the access time to the access point.</p><p id="p0082" num="0082">Storing information on the optical disc or other video information recording medium giving the presentation time, position, and data size of pictures used as access points enables quick reproduction from access points in the interiors of GOPs.</p><p id="p0083" num="0083">Furthermore, re-arrangement of pictures at the time of decoding is facilitated by the recording of the decoding order of the pictures for each GOP (video unit).</p><p id="p0084" num="0084">According to the present example, compression efficiency can be improved by increasing the GOP length without compromising image quality or random accessibility.</p><heading id="h0014">Fifth example</heading><p id="p0085" num="0085">Increasing the GOP length has an effect not only on random access reproduction as described above; it also has considerable effect on trick reproduction modes such as fast-forward reproduction. When the GOP length is increased in the MPEG4-AVC scheme, the interval between I pictures extends to a few seconds, which adversely affects video quality in a fast-forward reproduction mode in which, for example, only I pictures are reproduced. In this example, a method of fast-forward reproduction with high quality, obtained by adding improvements to the fourth example, will be described. In the following explanation, descriptions of elements similar to elements in the fourth example will be omitted.</p><p id="p0086" num="0086">In general, in order for fast-forward reproduction to proceed smoothly, not only I pictures but also P pictures in the interiors of GOPs must be reproduced. In DVD, for example, smooth fast-forward reproduction is realized by use of positional information about the first three P pictures in each GOP, which is given in the navigation data. In DVD, one GOP generally lasts 0.5 second and has about four P pictures. Therefore, if the given positional information is<!-- EPO <DP n="32"> --> used to reproduce the first three P pictures in a GOP, that covers almost all of the P pictures in the GOP, making smooth fast-forward reproduction possible. When the length of the GOP is increased to a few seconds or more, however, the number of P pictures in the GOP increases, and smooth reproduction becomes difficult if reproduction is based only on the positional information about the first three pictures. Also, even if positional information for all P pictures is known, reading all the P pictures is impractical, because of the low seek speed of an optical disc. In the fourth example, in order to achieve random accessibility, an access point picture is immediately followed by the P pictures necessary for decoding the next access point. The P pictures necessary for decoding access points are not exactly the same as the P pictures necessary for fast-forward reproduction, so smooth fast-forward reproduction cannot be obtained from this arrangement alone, but if the P pictures necessary for fast-forward reproduction are incorporated into in this arrangement, the P pictures in the GOP can be read without repeated seek operations.</p><p id="p0087" num="0087">In this example, the constraints imposed on the encoding for realizing both random accessibility and fast-forward reproduction are as follows:
<ol><li>1. A picture used as an access point or in fast-forward reproduction must be an I picture or P picture;</li><li>2. A P picture used as an access point or in fast-forward reproduction must always be predicted from the initial I picture of the GOP or another P picture, and the pictures necessary for decoding a P picture used as an access point must not include any B pictures;</li><li>3. Pictures following a P picture used as an access point must not be predicted or referenced from pictures preceding the access point, other than the initial I picture of the GOP or a P picture used as an access point; and<!-- EPO <DP n="33"> --></li><li>4. The P pictures necessary for decoding access points and the pictures displayed in fast-forward reproduction must be arranged in continuous succession immediately following an I picture or a P picture used as an access point.</li></ol></p><p id="p0088" num="0088">A method of arranging and reproducing data for high quality fast-forward reproduction, obtained by adding improvements to the fourth example, will be described with reference to <figref idrefs="f0015">FIG. 16. FIG. 16</figref> shows the relationship between a sequence of pictures arranged in their display order (upper sequence), and the picture sequence re-arranged for random access and fast-forward reproduction at the time of recording, (lower sequence). It will be assumed that the P pictures necessary for decoding P5 at access point AP are P1 and P3, and the P pictures to be decoded in fast-forward reproduction are P1 and P4. In this case, P1, P3, and P4 follow I1 in continuous succession as shown in the lower sequence. P pictures such as P2, which are used for neither purpose, are not included in this sequence. I1, P1, and P3 are decoded for access to access point AP, while I1, P1, and P4 are decoded in fast-forward reproduction. Since the P pictures to be decoded must be selected according to the purpose, the <i>Entry_map()</i> structure described in the above examples must be modified. <figref idrefs="f0016">FIG. 17</figref> shows an index information structure modified for random access and fast-forward reproduction.</p><p id="p0089" num="0089">The italics in <figref idrefs="f0016">FIG. 17</figref> indicate parts that differ from <i>Entry_map()</i> in the fourth example; the following description will be limited to these parts. In <figref idrefs="f0016">FIG. 17</figref>, <i>number_of_P_picture</i> gives the total number of P pictures necessary for random access and fast-forward reproduction. The following for loop statement is a loop repeated this <i>(number_of_P_picture)</i> number of times. attribute is a flag giving picture attribute information by indicating whether the picture is used in random access and/or fast-forward<!-- EPO <DP n="34"> --> reproduction, by taking, for example, the value '01' when the picture is used in trick reproduction, the value '10' when the picture is used in random access, and the value '11' when the picture is used in both modes. For example, P1, P3, and P4 in <figref idrefs="f0015">FIG. 16</figref> have attribute values of '11', '10', and '01', respectively. The addition of this type of information indicating whether a picture is necessary in trick reproduction or random access makes it easy to identify the P pictures necessary for random access or fast-forward production. In <figref idrefs="f0016">FIG. 17</figref>, the notation <i>[IAP_id][P_id]</i> or <i>[IAP_id] [PAP_id] [P_id]</i> following attribute indicates that the attribute pertains to the P picture identified by <i>[P_id]</i> in the interval from the I picture access point identified by <i>[IAP_id]</i> to next I picture access point, or to the P picture identified by <i>[P_id]</i> in the interval from the P picture access point identified by <i>[PAP_id]</i> to the next P picture access point within the range from the I picture access point identified by [IAP_id] to the next I picture access point.</p><p id="p0090" num="0090">In the fourth example <i>Size_of</i> IAP and <i>Size_of PAP</i> gave the total number of sectors necessary for random access, that is, the data size of the pictures necessary for decoding the next access point after a given access point, but in the present example, <i>Size_of_IAP</i> and Size_of_PAP give the total data size (total number of sectors) of the pictures necessary for decoding the next access point after the current access point and the pictures necessary for fast-forward reproduction.</p><p id="p0091" num="0091">When a user specifies fast-forward reproduction, the transition to fast-forward reproduction occurs at the start of the next GOP. The operation through the reading of the amount of data specified by <i>Size_of_IAP</i> is exactly the same as in random access. The pictures thus read are all decoded, in order to decode from the next access point, but the<!-- EPO <DP n="35"> --> pictures actually reproduced are only those with attribute flags specifying fast-forward reproduction. When the reading of the amount of data specified by <i>Size_of_IAP</i> is completed, a seek operation is performed to read the amount of data specified by <i>Size_of_PAP</i> from the next P picture access point. Similar operations are repeated until an instruction to stop fast-forward reproduction is received from the user. Smooth fast-forward reproduction is realized by the above operations. The operations during random access are exactly the same except that, based on the attribute values, the pictures necessary for decoding the next access point are selected from among the pictures read according to the data size specified by <i>Size_of IAP</i> or <i>Size_of_PAP;</i> a description will be omitted. Incidentally, although the preceding description assumes that the decoder 107 in <figref idrefs="f0004">FIG. 4</figref> selects pictures from among the decoded pictures according to the value of attribute, the pictures may be selected by the picture selector 110 shown in the embodiment before being sent to the decoder 107.</p><p id="p0092" num="0092">A method of improving image quality in fast-forward reproduction by adding further improvements to the fourth example has been described in the present example, but fast-forward reproduction can also be realized in the third example, in which the pictures do not have to be reordered, by adding an attribute flag indicating whether or not a picture is used in random access and/or fast-forward reproduction, in place of the picture_type item shown in the embodiment.</p><p id="p0093" num="0093">As described above, using I pictures and P pictures as access points designated as randomly accessible positions and as pictures necessary for trick reproduction such as fast-forward reproduction enables access points to be designated at reasonable intervals and makes smooth trick reproduction possible, even in low-bit-rate coding systems<!-- EPO <DP n="36"> --> such as MPEG4-AVC.</p><p id="p0094" num="0094">When a picture used as an access point or a picture necessary for trick reproduction is a P picture, coding efficiency and high image quality can both be achieved by coding the picture by prediction either from a temporally preceding P picture or from the initial I picture in the GOP.</p><p id="p0095" num="0095">Furthermore, reproduction following the access point can proceed smoothly because pictures temporally following an I picture or a P picture used as an access point are not coded by prediction from pictures temporally preceding the I picture or the P picture used as the access point, other than the initial I picture in the GOP and other pictures used as access points.</p><p id="p0096" num="0096">When a P picture in the interior of a GOP is used as an access point or is necessary for trick reproduction, or both, re-arranging the sequence of pictures so that the I picture and any other P pictures used for predictively encoding the P picture, that is, the I and P pictures necessary for decoding the P picture, are bunched together can shorten the access time to the access point.</p><p id="p0097" num="0097">Storing information on the optical disc or other video information recording medium giving the presentation time, position, and data size of pictures used as access points enables quick reproduction from access points in the interiors of GOPs.</p><p id="p0098" num="0098">Recording attribute information indicating whether a picture is a picture necessary for decoding of the next access point, a picture necessary for trick reproduction such as fast-forward reproduction, or a picture necessary for both of these purposes permits easy determination of whether a picture is a P picture used in random access or trick reproduction, and facilitates reordering when pictures are reordered during decoding.</p><p id="p0099" num="0099">As shown in the fourth example, reordering of<!-- EPO <DP n="37"> --> pictures at the time of decoding is facilitated by the recording of the decoding order of the pictures for each GOP (video unit).</p><p id="p0100" num="0100">According to the present example, compression efficiency can be improved by increasing the GOP length without compromising image quality, random accessibility, or smooth trick reproduction.</p><p id="p0101" num="0101">According to further embodiments of the present invention the following exemplary embodiments are provided. These exemplary embodiments are denoted as examples "E".</p><p id="p0102" num="0102">E1. A video information recording medium on which are recorded video data organized into video units including intra-coded (I) pictures coded intra-frame, predictive coded (P) pictures each including a group of blocks predicted from one frame, and bidirectionally predictive coded (B) pictures each including a group of blocks predicted from two frames, the video information recording medium being randomly accessible and having disposed thereon: information indicating a decoding sequence of pictures designated as randomly accessible positions and thus functioning as access points; and attribute information indicating whether a picture functions as an access point or is necessary for decoding of the access point following a given access point.</p><p id="p0103" num="0103">E2. The video information recording medium of E1, wherein only the I pictures and the P pictures can function as access points.</p><p id="p0104" num="0104">E3. A video information recording method that records video data organized into video units including I pictures coded intra-frame, P pictures each including a group of blocks predicted from one frame, and B pictures each including a group of blocks predicted from two frames, wherein there is recorded: information indicating a decoding sequence of pictures designated as randomly accessible positions and thus functioning as access points; and attribute information indicating whether a picture functions as an access point or is necessary for decoding of the access point following a given access point.<!-- EPO <DP n="38"> --></p><p id="p0105" num="0105">E4. The video information recording method of E3, wherein only the I pictures and the P pictures can function as access points.</p><p id="p0106" num="0106">E5. An information reproducing device for reproducing video data recorded on the video information recording medium of E1, comprising: means for obtaining the information indicating the decoding sequence and the attribute information from the video information recording medium; means for identifying, on a basis of the obtained presentation time information, an access point closest to a reproducing position designated by the user, and obtaining the relevant pictures; and means for selecting the pictures to be reproduced from among the obtained pictures, on a basis of the attribute information, and reproducing them, starting from the picture functioning as the access point.</p><p id="p0107" num="0107">E6. An information reproducing method for reproducing video data recorded on the video information recording medium of E1 comprising: obtaining the presentation time information and the attribute information from the video information recording medium; identifying, on a basis of the obtained information indicating the decoding sequence, an access point closest to a reproducing position designated by the user, and obtaining the relevant pictures; and means for selecting the pictures to be reproduced from among the obtained pictures, on a basis of the attribute information, and reproducing them, starting from the picture functioning as the access point.</p></description><claims mxw-id="PCLM56978441" lang="DE" load-source="patent-office"><!-- EPO <DP n="41"> --><claim id="c-de-01-0001" num="0001"><claim-text>Videoinformationscodierverfahren zum Codieren von Videodaten (3), die gemäß MPEG4-AVC codiert wurden, wobei die Videodaten Folgendes umfassen: mehrere Videoeinheiten (GOP), die jeweils ein intracodiertes I-Bild (I) enthalten; ein prädiktives codiertes P-Bild (P), das eine Gruppe von Blöcken enthält, die jeweils aus einem einzelnen Bild vorhergesagt wurden; und ein bidirektional-prädiktives codiertes B-Bild (B), das eine Gruppe von Blöcken enthält, die jeweils aus zwei Bildern vorhergesagt wurden, wobei das Verfahren folgende Schritte umfasst:
<claim-text>Codieren mindestens eines Zugangspunkt-P-Bildes (P5, AP), das eine Gruppe von Blöcken enthält, die jeweils durch Bewegungskompensationsprädiktion unter Verwendung eines I-Bildes (I1), das sich am Anfang einer der Videoeinheiten befindet, oder eines ausgewählten von vorangegangenen P-Bildern (P4) codiert wurden, wobei Bilder, die zum Decodieren des Zugangspunkt-P-Bildes (P5, AP) notwendig sind, kein B-Bild enthalten;</claim-text>
<claim-text>Codieren eines P-Bildes oder eines B-Bildes, das durch Bewegungskompensationsprädiktion unter Verwendung des Zugangspunkt-P-Bildes (P5, AP), das dem P-Bild oder dem B-Bild voraus ging, als ein Referenzbild codiert wurde,</claim-text>
<claim-text>wobei alle P-Bilder außer Zugangspunkt-P-Bildern und</claim-text>
<claim-text>alle B-Bilder, die dem Zugangspunkt-P-Bild (P5, AP) in derselben Videoeinheit folgen, alle ohne Bezug auf ein Bild codiert werden, das dem Zugangspunkt-P-Bild (P5, AP) vorausging; und<!-- EPO <DP n="42"> --></claim-text>
<claim-text>Generieren von Bildtyp-Informationen mit einem ersten Wert, der jedem Zugangspunkt-P-Bild zugeordnet ist, das in der Videodateneinheit enthalten ist, und von Bildtyp-Informationen mit einem zweiten Wert, der sich von dem ersten Wert unterscheidet und jedem P-Bild zugeordnet ist, das in der Videoeinheit enthalten ist und kein Zugangspunkt-P-Bild ist, aber das zum Decodieren des nächsten Zugangspunkt-P-Bildes (P5, AP) notwendig ist.</claim-text></claim-text></claim><claim id="c-de-01-0002" num="0002"><claim-text>Videoinformationsaufzeichnungsvorrichtung, die Videodaten (3) codiert, die gemäß MPEG4-AVC codiert wurden, wobei die Videodaten Folgendes umfassen: mehrere Videoeinheiten (GOP), die jeweils ein intracodiertes I-Bild (I) enthalten; ein prädiktives codiertes P-Bild (p), das eine Gruppe von Blöcken enthält, die jeweils aus einem einzelnen Bild vorhergesagt wurden; und ein bidirektional-prädiktives codiertes B-Bild (B), das eine Gruppe von Blöcken enthält, die jeweils aus zwei Bildern vorhergesagt wurden, wobei die Vorrichtung Folgendes umfasst:
<claim-text>ein Mittel zum Codieren mindestens eines Zugangspunkt-P-Bildes (P5, AP), das eine Gruppe von Blöcken enthält,</claim-text>
<claim-text>die jeweils durch Bewegungskompensationsprädiktion unter Verwendung eines I-Bildes (I1), das sich am Anfang einer der Videoeinheiten befindet, oder eines ausgewählten von vorangegangenen P-Bildern (P4) codiert wurden, wobei Bilder, die zum Decodieren des Zugangspunkt-P-Bildes (P5, AP) notwendig sind, kein B-Bild enthalten;</claim-text>
<claim-text>ein Mittel zum Codieren eines P-Bildes oder eines B-Bildes, das durch Bewegungskompensationsprädiktion unter Verwendung des Zugangspunkt-P-Bildes (P5, AP), das dem P-Bild oder dem B-Bild voraus ging, als ein Referenzbild codiert wurde, wobei alle P-Bilder außer Zugangspunkt-P-Bildern und alle B-Bilder (B14, B15, B16), die dem Zugangspunkt-P-Bild in derselben Videoeinheit folgen,<!-- EPO <DP n="43"> --> alle ohne Bezug auf ein Bild codiert werden, das dem Zugangspunkt-P-Bild (P5, AP) vorausging; und</claim-text>
<claim-text>ein Mittel zum Generieren von Bildtyp-Informationen mit einem ersten Wert, der jedem Zugangspunkt-P-Bild zugeordnet ist, das in der Videodateneinheit enthalten ist, und von Bildtyp-Informationen mit einem zweiten Wert, der sich von dem ersten Wert unterscheidet und</claim-text>
<claim-text>jedem P-Bild zugeordnet ist, das in der Videoeinheit enthalten ist und kein Zugangspunkt-P-Bild ist, aber das zum Decodieren des nächsten Zugangspunkt-P-Bildes (P5, AP) notwendig ist.</claim-text></claim-text></claim></claims><claims mxw-id="PCLM56978442" lang="EN" load-source="patent-office"><!-- EPO <DP n="39"> --><claim id="c-en-01-0001" num="0001"><claim-text>A video information encoding method for coding video data (3) encoded according to MPEG4-AVC, the video data comprising a plurality of video units (GOP) each of which includes an intra-coded I-picture (I), a predictive coded P-picture (P) including a group of blocks each of which is predicted from one picture and a bi-directionally-predictive coded B-picture (B) including a group of blocks each of which is predicted from two pictures, said method comprising steps of:
<claim-text>coding at least an access point P-picture (P5, AP) including a group of blocks each of which is coded by motion compensation prediction using an I-picture (I1) located at the beginning of one of said video units or a selected one of preceding P-pictures (P4), wherein pictures necessary for decoding said access point P-picture (P5, AP) do not include any B-picture;</claim-text>
<claim-text>coding a P-picture or a B-picture coded by motion compensation prediction using said access point P-picture (P5, AP) preceding said P-picture or said B-picture as a reference picture, wherein any P-pictures, other than access point P-pictures, and any B-pictures following said access point P-picture (P5, AP)in the same video unit are all coded without referring to any picture preceding said access point P-picture (P5, AP); and</claim-text>
<claim-text>creating picture type information having a first value associated with each access point P-picture included in said video data unit, and including a picture type information having a second value different from the first value associated with each P-picture included in said video unit that is not an access point P-picture but which is necessary to decode the next access point P-picture (P5, AP).</claim-text><!-- EPO <DP n="40"> --></claim-text></claim><claim id="c-en-01-0002" num="0002"><claim-text>A video information recording apparatus that encodes video data (3) encoded according to MPEG4-AVC, the video data comprising a plurality of video units (GOP) each of which includes an intra-coded I-picture (I), a predictive coded P-picture (P) including a group of blocks each of which is predicted from one picture and a bi-directionally-predictive coded B-picture (B) including a group of blocks each of which is predicted from two pictures, said apparatus comprising:
<claim-text>means for coding at least an access point P-picture (P5, AP) including a group of blocks each of which is coded by motion compensation prediction using an I-picture (I1) located at the beginning of one of said video units or a selected one of preceding P-pictures (P4), wherein pictures necessary for decoding said access point P-picture (P5, AP) do not include any B-picture;</claim-text>
<claim-text>means for coding a P-picture or a B-picture coded by motion compensation prediction using said access point P-picture (P5, AP) preceding said P-picture and said B-picture as a reference picture, wherein any P-pictures other than access point P-pictures, and any B-pictures (B14, B15, B16) following said access point P-picture in the same video unit are all coded without referring to any picture preceding said access point P-picture (P5, AP); and</claim-text>
<claim-text>means for creating picture type information having a first value associated with each access point P-picture included in said video unit, and including a picture type information having a second value different from the first value associated with each P-picture included in said video unit that is not an access point P-picture but which is necessary to decode the next access point P-picture (P5, AP).</claim-text></claim-text></claim></claims><claims mxw-id="PCLM56978443" lang="FR" load-source="patent-office"><!-- EPO <DP n="44"> --><claim id="c-fr-01-0001" num="0001"><claim-text>Procédé de codage d'informations vidéo permettant de coder des données vidéo (3) codées selon MPEG4-AVC, les données vidéo comprenant une pluralité d'unités vidéo (GOP), chacune desquelles comprend une image I intracodée (I), une image P codée par prédiction (P) comprenant un groupe de blocs, chacun desquels est prédit à partir d'une image et une image B codée par prédiction bidirectionnelle (B) comprenant un groupe de blocs, chacun desquels est prédit à partir de deux images, ledit procédé comprenant des étapes :
<claim-text>de codage d'au moins une image P de point d'accès (P5, AP) comprenant un groupe de blocs, chacun desquels est codé par prédiction de compensation de mouvement en utilisant une image I (I1) située au début de l'une desdites unités vidéo ou une sélectionnée d'images P précédentes (P4), où des images nécessaires pour décoder ladite image P de point d'accès (P5, AP) ne comprennent aucune image B ;</claim-text>
<claim-text>de codage d'une image P ou d'une image B codée par prédiction de compensation de mouvement en utilisant ladite image P de point d'accès (P5, AP) précédant ladite image P ou ladite image B en tant qu'image de référence, où toute image P, autre que des images P de point d'accès, et toute image B suivant ladite image P de point d'accès (P5, AP) dans la même unité vidéo sont toutes codées sans référence à aucune image précédant ladite image P de point d'accès (P5, AP) ; et</claim-text>
<claim-text>de création d'informations de type d'image ayant une première valeur associée à chaque image P de point<!-- EPO <DP n="45"> --> d'accès comprise dans ladite unité de données vidéo, et comprenant des informations de type d'image ayant une seconde valeur différente de la première valeur associée à chaque image P comprise dans ladite unité vidéo qui n'est pas une image P de point d'accès mais qui est nécessaire pour décoder l'image P de point d'accès (P5, AP) suivante.</claim-text></claim-text></claim><claim id="c-fr-01-0002" num="0002"><claim-text>Appareil d'enregistrement d'informations vidéo qui code des données vidéo (3) codées selon MPEG4-AVC, les données vidéo comprenant une pluralité d'unités vidéo (GOP), chacune desquelles comprend une image I intracodée (I), une image P codée par prédiction (P) comprenant un groupe de blocs, chacun desquels est prédit à partir d'une image et une image B codée par prédiction bidirectionnelle (B) comprenant un groupe de blocs, chacun desquels est prédit à partir de deux images, ledit appareil comprenant :
<claim-text>des moyens permettant de coder au moins une image P de point d'accès (P5, AP) comprenant un groupe de blocs, chacun desquels est codé par prédiction de compensation de mouvement en utilisant une image I (I1) située au début d'une desdites unités vidéo ou d'une sélectionnée d'images P précédentes (P4), où des images nécessaires pour décoder ladite image P de point d'accès (P5, AP) ne comprennent aucune image B ;</claim-text>
<claim-text>des moyens permettant de coder une image P ou une image B codée par prédiction de compensation de mouvement en utilisant ladite image P de point d'accès (P5, AP), précédant ladite image P et ladite image B en tant qu'image de référence, où toute image P<!-- EPO <DP n="46"> --> autre que des images P de point d'accès, et toute image B (B14, B15, B16) suivant ladite image P de point d'accès dans la même unité vidéo sont toutes codées sans référence à aucune image précédant ladite image P de point d'accès (P5, AP) ; et</claim-text>
<claim-text>des moyens permettant de créer des informations de type d'image ayant une première valeur associée à chaque image P de point d'accès comprise dans ladite unité vidéo, et comprenant des informations de type d'image ayant une seconde valeur différente de la première valeur associée à chaque image P comprise dans ladite unité vidéo qui n'est pas une image P de point d'accès mais qui est nécessaire pour décoder l'image P de point d'accès (P5, AP) suivante.</claim-text></claim-text></claim></claims><drawings mxw-id="PDW16668578" load-source="patent-office"><!-- EPO <DP n="47"> --><figure id="f0001" num="1(a),1(b)"><img id="if0001" file="imgf0001.tif" wi="137" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="48"> --><figure id="f0002" num="2"><img id="if0002" file="imgf0002.tif" wi="118" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="49"> --><figure id="f0003" num="3"><img id="if0003" file="imgf0003.tif" wi="161" he="151" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="50"> --><figure id="f0004" num="4"><img id="if0004" file="imgf0004.tif" wi="165" he="225" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="51"> --><figure id="f0005" num="5"><img id="if0005" file="imgf0005.tif" wi="165" he="201" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="52"> --><figure id="f0006" num="6"><img id="if0006" file="imgf0006.tif" wi="157" he="148" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="53"> --><figure id="f0007" num="7"><img id="if0007" file="imgf0007.tif" wi="147" he="221" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="54"> --><figure id="f0008" num="8"><img id="if0008" file="imgf0008.tif" wi="115" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="55"> --><figure id="f0009" num="9"><img id="if0009" file="imgf0009.tif" wi="159" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="56"> --><figure id="f0010" num="10,11"><img id="if0010" file="imgf0010.tif" wi="160" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="57"> --><figure id="f0011" num="12"><img id="if0011" file="imgf0011.tif" wi="155" he="101" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="58"> --><figure id="f0012" num="13"><img id="if0012" file="imgf0012.tif" wi="133" he="189" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="59"> --><figure id="f0013" num="14"><img id="if0013" file="imgf0013.tif" wi="131" he="179" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="60"> --><figure id="f0014" num="15"><img id="if0014" file="imgf0014.tif" wi="124" he="231" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="61"> --><figure id="f0015" num="16"><img id="if0015" file="imgf0015.tif" wi="124" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="62"> --><figure id="f0016" num="17"><img id="if0016" file="imgf0016.tif" wi="160" he="213" img-content="drawing" img-format="tif"/></figure></drawings><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
