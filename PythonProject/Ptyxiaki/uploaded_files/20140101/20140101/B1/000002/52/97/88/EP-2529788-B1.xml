<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2529788-B1" country="EP" doc-number="2529788" kind="B1" date="20140101" family-id="44582615" file-reference-id="315074" date-produced="20180823" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146552108" ucid="EP-2529788-B1"><document-id><country>EP</country><doc-number>2529788</doc-number><kind>B1</kind><date>20140101</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-11180696-A" is-representative="YES"><document-id mxw-id="PAPP154826031" load-source="docdb" format="epo"><country>EP</country><doc-number>11180696</doc-number><kind>A</kind><date>20110909</date><lang>EN</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140454929" ucid="US-201161491634-P" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>201161491634</doc-number><kind>P</kind><date>20110531</date></document-id></priority-claim></priority-claims><dates-of-public-availability><intention-to-grant-date><date>20130807</date></intention-to-grant-date></dates-of-public-availability><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1988101206" load-source="docdb">A61N   1/365       20060101AFI20130712BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1988107210" load-source="docdb">A61N   1/368       20060101ALN20130712BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1988135282" load-source="docdb">A61N   1/372       20060101ALN20130712BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL2104278233" load-source="docdb" scheme="CPC">A61N   1/36507     20130101 FI20140806BHEP        </classification-cpc><classification-cpc mxw-id="PCL2104282521" load-source="docdb" scheme="CPC">A61N   1/3684      20130101 LA20140806BHEP        </classification-cpc><classification-cpc mxw-id="PCL2104283096" load-source="docdb" scheme="CPC">A61N   1/3682      20130101 LA20140806BHEP        </classification-cpc><classification-cpc mxw-id="PCL2104283379" load-source="docdb" scheme="CPC">A61N   1/37252     20130101 LA20140806BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132188808" lang="DE" load-source="patent-office">Bestimmung der Therapieeinstellungen zur Herzneusynchronisierung</invention-title><invention-title mxw-id="PT132188809" lang="EN" load-source="patent-office">Determination of cardiac resynchronization therapy settings</invention-title><invention-title mxw-id="PT132188810" lang="FR" load-source="patent-office">Détermination de paramètres de thérapie de resynchronisation cardiaque</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR918173298" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>ST JUDE MEDICAL</last-name><address><country>SE</country></address></addressbook></applicant><applicant mxw-id="PPAR918138255" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>ST. JUDE MEDICAL AB</last-name></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR918147445" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>NOREN KJELL</last-name><address><country>SE</country></address></addressbook></inventor><inventor mxw-id="PPAR918157643" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>NOREN, KJELL</last-name></addressbook></inventor><inventor mxw-id="PPAR918994663" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Norén, Kjell</last-name><address><street>St. Jude Medical AB Karolinagatan 10 C</street><city>SE-171 58 Solna</city><country>SE</country></address></addressbook></inventor><inventor mxw-id="PPAR918163290" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>BJOERLING ANDERS</last-name><address><country>SE</country></address></addressbook></inventor><inventor mxw-id="PPAR918155639" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>BJOERLING, ANDERS</last-name></addressbook></inventor><inventor mxw-id="PPAR918994664" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>Björling, Anders</last-name><address><street>St. Jude Medical AB Näckrosvägen 35</street><city>SE-169 37 Solna</city><country>SE</country></address></addressbook></inventor><inventor mxw-id="PPAR918147045" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>SVENSSON TOMAS</last-name><address><country>SE</country></address></addressbook></inventor><inventor mxw-id="PPAR918171721" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>SVENSSON, TOMAS</last-name></addressbook></inventor><inventor mxw-id="PPAR918994660" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>SVENSSON, TOMAS</last-name><address><street>St. Jude Medical AB Parkgatan 10</street><city>SE-112 30 Stockholm</city><country>SE</country></address></addressbook></inventor><inventor mxw-id="PPAR918166890" load-source="docdb" sequence="4" format="epo"><addressbook><last-name>HEDBERG SVEN-ERIK</last-name><address><country>SE</country></address></addressbook></inventor><inventor mxw-id="PPAR918139211" load-source="docdb" sequence="4" format="intermediate"><addressbook><last-name>HEDBERG, SVEN-ERIK</last-name></addressbook></inventor><inventor mxw-id="PPAR918994661" load-source="patent-office" sequence="4" format="original"><addressbook><last-name>HEDBERG, SVEN-ERIK</last-name><address><street>St. Jude Medical AB Odonstigen 5</street><city>SE-196 32 Kungsängen</city><country>SE</country></address></addressbook></inventor><inventor mxw-id="PPAR918165890" load-source="docdb" sequence="5" format="epo"><addressbook><last-name>KEEL ALLEN</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR918149014" load-source="docdb" sequence="5" format="intermediate"><addressbook><last-name>KEEL, ALLEN</last-name></addressbook></inventor><inventor mxw-id="PPAR918994666" load-source="patent-office" sequence="5" format="original"><addressbook><last-name>KEEL, ALLEN</last-name><address><street>St. Jude Medical 893 Rhode Island St</street><city>San Francisco, California 94107</city><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR918146225" load-source="docdb" sequence="6" format="epo"><addressbook><last-name>ROSENBERG STUART</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR918156033" load-source="docdb" sequence="6" format="intermediate"><addressbook><last-name>ROSENBERG, STUART</last-name></addressbook></inventor><inventor mxw-id="PPAR918994662" load-source="patent-office" sequence="6" format="original"><addressbook><last-name>ROSENBERG, STUART</last-name><address><street>St. Jude Medical 31413 Arena Drive</street><city>Castaic, California 91384</city><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR918137659" load-source="docdb" sequence="7" format="epo"><addressbook><last-name>RYU KYUNGMOO</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR918141829" load-source="docdb" sequence="7" format="intermediate"><addressbook><last-name>RYU, KYUNGMOO</last-name></addressbook></inventor><inventor mxw-id="PPAR918994665" load-source="patent-office" sequence="7" format="original"><addressbook><last-name>RYU, KYUNGMOO</last-name><address><street>St. Jude Medical 37460 Ruby Red Ln</street><city>Palmdale, California 93551</city><country>US</country></address></addressbook></inventor></inventors><assignees><assignee mxw-id="PPAR918994667" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>St. Jude Medical AB</last-name><iid>100226473</iid><address><city>175 84 Järfälla</city><country>SE</country></address></addressbook></assignee></assignees><agents><agent mxw-id="PPAR918994668" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Sjölander, Henrik</last-name><iid>100833185</iid><address><street>Aros Patent AB P.O. Box 1544</street><city>751 45 Uppsala</city><country>SE</country></address></addressbook></agent></agents></parties><international-convention-data><designated-states><ep-contracting-states><country mxw-id="DS548936639" load-source="docdb">AL</country><country mxw-id="DS548946197" load-source="docdb">AT</country><country mxw-id="DS548936640" load-source="docdb">BE</country><country mxw-id="DS548872489" load-source="docdb">BG</country><country mxw-id="DS548954806" load-source="docdb">CH</country><country mxw-id="DS548943528" load-source="docdb">CY</country><country mxw-id="DS548943529" load-source="docdb">CZ</country><country mxw-id="DS548820742" load-source="docdb">DE</country><country mxw-id="DS548936641" load-source="docdb">DK</country><country mxw-id="DS548936646" load-source="docdb">EE</country><country mxw-id="DS548844574" load-source="docdb">ES</country><country mxw-id="DS548872490" load-source="docdb">FI</country><country mxw-id="DS548872491" load-source="docdb">FR</country><country mxw-id="DS548820743" load-source="docdb">GB</country><country mxw-id="DS548936647" load-source="docdb">GR</country><country mxw-id="DS548820744" load-source="docdb">HR</country><country mxw-id="DS548943534" load-source="docdb">HU</country><country mxw-id="DS548954807" load-source="docdb">IE</country><country mxw-id="DS548936648" load-source="docdb">IS</country><country mxw-id="DS548872492" load-source="docdb">IT</country><country mxw-id="DS548936649" load-source="docdb">LI</country><country mxw-id="DS548820745" load-source="docdb">LT</country><country mxw-id="DS548946206" load-source="docdb">LU</country><country mxw-id="DS548872493" load-source="docdb">LV</country><country mxw-id="DS548820746" load-source="docdb">MC</country><country mxw-id="DS548946207" load-source="docdb">MK</country><country mxw-id="DS548946208" load-source="docdb">MT</country><country mxw-id="DS548946209" load-source="docdb">NL</country><country mxw-id="DS548943535" load-source="docdb">NO</country><country mxw-id="DS548946218" load-source="docdb">PL</country><country mxw-id="DS548936658" load-source="docdb">PT</country><country mxw-id="DS548949979" load-source="docdb">RO</country><country mxw-id="DS548936659" load-source="docdb">RS</country><country mxw-id="DS548946219" load-source="docdb">SE</country><country mxw-id="DS548820747" load-source="docdb">SI</country><country mxw-id="DS548943536" load-source="docdb">SK</country><country mxw-id="DS548943537" load-source="docdb">SM</country><country mxw-id="DS548844575" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data></bibliographic-data><description mxw-id="PDES63956750" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001">TECHNICAL FIELD</heading><p id="p0001" num="0001">The present embodiments generally relate to cardiac resynchronization therapy settings, and in particular to determining such settings for a system with multiple available pacing sites.</p><heading id="h0002">BACKGROUND</heading><p id="p0002" num="0002">The conventional approach in cardiac resynchronization therapy (CRT) involves pacing from an electrode provided close to the right ventricular (RV) apex, an electrode on a transvenous left ventricular (LV) lead, typically in the lateral or postero-lateral vein, and optionally an electrode in the right atrium (RA).</p><p id="p0003" num="0003">In such a case, the optimal interventricular (VV) delay between RV and LV pacing pulses and the optimal atrioventricular (AV) delay between atrial and ventricular pacing need to be determined. Several prior art solutions to such an optimization problem have been suggested. <patcit id="pcit0001" dnum="US5514163A"><text>U.S. Patent No. 5,514,163</text></patcit> optimizes an AV delay based on far field R wave sense (FFRS) duration. <patcit id="pcit0002" dnum="US6751504B"><text>U.S. Patent Nos. 6,751,504</text></patcit>; <patcit id="pcit0003" dnum="US6804555B"><text>6,804,555</text></patcit> use the width of the QRS in order to set optimal W delays. In another document, <patcit id="pcit0004" dnum="US7848807B"><text>U.S. Patent No. 7,848,807</text></patcit>, optimal AV and W delays are determined based on the width of a P wave from a sensed far-field electrocardiogram.</p><p id="p0004" num="0004">Recent studies have suggested that biventricular pacing from two LV sites results in an improved clinical outcome in CRT patients, likely due to improved hemodynamic response from dual-LV pacing, in comparison with conventional biventricular pacing. However, the number of possibilities to select electrodes and to set delays between electrodes increase dramatically with increasing number of electrodes required for having multiple pacing sites within a ventricle.</p><p id="p0005" num="0005">For instance, assume a case with two independent LV pacing pulses and that there are ten possible stimulation vectors to choose from for each pulse. In such a case, there are two separate W delays (or expressed differently one W delay and one intraventricular delay) to be tested. Further assume, that the W delay could be according to one out of ten defined values and the intraventricular delay could be one out of 16 different values. The two ventricles can be paced in two different ways: RV first or LV first. This ends up with 10×10×10×16×2=32 000 different combinations. It is obvious that it is not possible in real applications to test each such combination in order to find the optimal W and intraventricular delays. Efficient optimization procedures are thereby needed.<!-- EPO <DP n="2"> --></p><p id="p0006" num="0006"><patcit id="pcit0005" dnum="US6522923B"><text>U.S. Patent No. 6,522,923</text></patcit> is directed towards finding optimal AV and VV delays by testing a set of randomly selected AV and VV delays within a defined AVNV space. The most optimal of the tested AV and VV combinations is found and a new set of randomly selected AV and VV delays are tested within a smaller AVNV space centered at the most optimal AVNV-combination. This procedure is repeated multiple times with ever smaller AVNV spaces until a final optimal combination of AV and VV delays is found.</p><p id="p0007" num="0007"><patcit id="pcit0006" dnum="US7778706B"><text>U.S. Patent No. 7,778,706</text></patcit> discloses an implantable device that determines a base state AV delay based on width of an atrial event measured during a base state of a patient and an active state AV delay based a base state interval measured during the base state and an active state interval measured during an active state of the patient.</p><p id="p0008" num="0008">There is, however, still a need for efficient techniques to determine optimal VV delays for a system having multiple pacing sites.</p><heading id="h0003">SUMMARY</heading><p id="p0009" num="0009">It is a general objective to provide an efficient determination of interchamber delays as cardiac resynchronization (CRT) settings.</p><p id="p0010" num="0010">It is a particular objective to provide such an efficient determination when multiple pacing sites are available for a heart chamber.</p><p id="p0011" num="0011">These and other objectives are met by embodiments disclosed herein.</p><p id="p0012" num="0012">An aspect of the embodiments relates to a system for determining CRT settings. The system comprises an electrode connector connectable to a first electrode configured to be arranged in or in connection with a first heart chamber and <i>N</i> ≥ 2 electrodes configured to be arranged in or in connection with a second heart chamber. A pulse generator generates pacing pulses that are applied to the heart chambers using the first electrode and the <i>N</i> electrodes. The system comprises a pulse generator controller configured to control the pulse generator to generate pacing pulses according to a defined scheme of interchamber delays. The scheme defines a respective maximum interchamber delay, a minimum interchamber delay and an intermediate interchamber delay for each electrode of the <i>N</i> electrodes with regard to the timing of applying a pacing pulse to the first electrode. A width processor determines a respective width parameter value for each electrode of the <i>N</i> electrodes. The<!-- EPO <DP n="3"> --> width parameter value represents a width of a resulting R wave, if the first and second chambers are the ventricles, or of a resulting P wave, if the first and second chambers are the atria. The R or P wave widths are determined from an electrocardiogram representing signal recorded for the heart. A model processor of the system estimates an <i>n<sup>th</sup></i> order parametric model based on the width parameter<!-- EPO <DP n="4"> --> values from the width processor. The parametric model defines the width parameter as a function of a respective interchamber delay for each electrode of the <i>N</i> electrodes. The parametric model is a second or higher order model, i.e. <i>n</i>≥2. A delay processor processes the parametric model in order to determine a respective candidate interchamber delay for each electrode of the <i>N</i> electrodes. The respective candidate interchamber delays minimize the width parameter as determined from the parametric model. CRT settings are then determined based on these <i>N</i> candidate interchamber delays and are stored in a memory of the system.</p><p id="p0013" num="0013">In this description it is also disclosed a method for determining CRT settings. The method comprises applying pacing pulses to a first electrode arranged in or in connection with a first heart chamber and <i>N</i> ≥ 2 electrodes arranged in or in connection with a second heart chamber. The pacing pulses are applied according to a defined scheme of interchamber delays defining, for each electrode of the <i>N</i> electrodes, a maximum interchamber delay, a minimum interchamber delay and an intermediate interchamber delay with regard to the timing of applying a pacing pulse to the first electrode. A width parameter value is determined, for each combination of <i>N</i> interchamber delays of the defined scheme, and represents a width of a resulting R wave or of a resulting P wave. An <i>n<sup>th</sup></i> order parametric model defining the width parameter as a function of a respective interchamber delay for each electrode of the <i>N</i> electrodes is estimated based on the determined width parameter values. The parametric model is employed to determine, for each electrode of the <i>N</i> electrodes, a candidate interchamber delay that minimizes the width parameter. CRT settings are then obtained based on the <i>N</i> candidate interchamber delays.</p><heading id="h0004">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p0014" num="0014">The invention, together with further objects and advantages thereof, may best be understood by making reference to the following description taken together with the accompanying drawings, in which:
<ul><li><figref idrefs="f0001">Fig. 1</figref> is a schematic block diagram of a system for determining cardiac resynchronization therapy settings according to an embodiment;</li><li><figref idrefs="f0002">Fig. 2</figref> is an illustration of a human subject and a system for determining cardiac resynchronization therapy settings according to an embodiment;</li><li><figref idrefs="f0002">Fig. 3</figref> is an illustration of a human subject and a system for determining cardiac resynchronization therapy settings according to another embodiment;<!-- EPO <DP n="5"> --></li><li><figref idrefs="f0003">Fig. 4</figref> is a schematic block diagram of an implantable medical device according to an embodiment;</li><li><figref idrefs="f0004">Fig. 5</figref> schematically illustrates selection of interventricular delays of a defined scheme of interventricular delays according to an embodiment;</li><li><figref idrefs="f0005">Fig. 6</figref> is a flow diagram illustrating an method for determining cardiac resynchronization therapy settings; and</li><li><figref idrefs="f0004">Fig. 7</figref> is a flow diagram illustrating additional, optional steps of the method in <figref idrefs="f0005">Fig. 6</figref>.</li></ul></p><heading id="h0005">DETAILED DESCRIPTION</heading><p id="p0015" num="0015">Throughout the drawings, the same reference numbers are used for similar or corresponding elements.</p><p id="p0016" num="0016">The present embodiments generally refer to cardiac resynchronization therapy (CRT) and in particular to the determination of CRT settings for implantable medical devices (IMDs), such as pacemakers, cardioverters and intracardiac defibrillators (ICDs). The embodiments in particular determine such CRT settings for situations where multiple pacing sites are available in a heart chamber.</p><p id="p0017" num="0017">Recently, studies have been conducted on human heart failure (HF) patients where it was demonstrated that CRT with multiple pacing sites in one heart chamber generally lead to improvements for the patient in terms of improved left ventricular (LV) ejection fraction and end-systolic volume indicating significantly more reverse remodeling as compared to conventional CRT. Furthermore, the responder rate for the patients was higher as compared to a control group receiving traditional CRT treatment.</p><p id="p0018" num="0018">Thus, there is a clinical desire to enable CRT with multiple pacing sites within a heart chamber, such as a ventricle or atrium. However, having multiple possible pacing sites implies that the procedure of selecting CRT settings in the form of pacing delays, such as interventricular (VV) and interatrial (AA) delays, will become much more complex and time consuming. For instance, having two LV pacing sites and one right ventricular (RV) pacing site and with interventricular delays in the range of -60 ms to +60 ms in 10 ms steps would take a total search time of about 28 minutes if each interventricular measurement takes 10 s. The total CRT settings search time will increase much more with one additional LV pacing site, making an exhaustive CRT setting search almost infeasible in practice. Long<!-- EPO <DP n="6"> --> CRT settings search times with the accompanying processing in the IMD will drain a significant amount of battery power from the IMD and thereby shorten the total operating time of the IMD.</p><p id="p0019" num="0019">The embodiments provide a highly efficient technique that enables usage of multiple pacing sites in a heart chamber with CRT and can still determine suitable CRT settings for the IMD but without the long and complex CRT setting search of the prior art.</p><p id="p0020" num="0020"><figref idrefs="f0001">Fig. 1</figref> is a schematic block diagram of a system 100 for determining CRT settings according to an embodiment. The system 100 comprises an electrode connector 110 that is connectable to a first electrode configured to be arranged in or in connection with a first chamber of a subject's heart to thereby apply pacing pulses to the first heart chamber. The electrode connector 110 is also connectable to <i>N</i> electrodes configured to be arranged in or in connection with a second heart chamber. This number <i>N</i> is a positive integer equal to or larger than two. This means that multiple electrodes are available in or at the second heart chamber for delivery of pacing pulses to different sites of that heart chamber.</p><p id="p0021" num="0021">In a particular embodiment, the first electrode is provided on a first cardiac lead connectable to the electrode connector 110 and having the first electrode arranged in connection with its distal end and with its opposite proximal end connected to the electrode connector 110. Correspondingly, the <i>N</i> electrodes are advantageously arranged on a second cardiac lead connectable to the electrode connector 110. Alternatively, at least one of the <i>N</i> electrodes could be arranged on a second cardiac lead with the remaining electrode(s) of the <i>N</i> electrodes arranged on a third cardiac lead connectable to the electrode connector 110. In such a case, both the second and third cardiac leads are arranged in or in connection with the second heart chamber.</p><p id="p0022" num="0022">The first and second heart chambers are advantageously the right and left ventricles or the right and left atria. In such a case, the <i>N</i> electrodes are advantageously arranged in connection with the left ventricle or the left atrium but could, in other embodiments, instead be arranged in the right ventricle or the right atrium.</p><p id="p0023" num="0023">The system 100 illustrated in <figref idrefs="f0001">Fig. 1</figref> also comprises a pulse generator 120, 125 connected to the electrode connector 110 and configured to generate pacing pulses that are applied by the first electrode and the <i>N</i> electrodes to the respective heart chambers. If the electrodes are provided in the right and left ventricles, the pulse generator is in the form of a ventricular pulse generator 120 and if the<!-- EPO <DP n="7"> --> electrodes are provided in the right and left atria, the pulse generator is instead an atrial pulse generator 125. In some embodiments, electrodes are provided both in the atria and in the ventricles and then the system 100 could be provided with both a ventricular pulse generator 120 and an atrial pulse generator 125 as illustrated in <figref idrefs="f0001">Fig. 1</figref>. In an alternative embodiment, a single pulse generator is arranged in the system 100 for generating pacing pulses regardless of whether they are applied by electrodes to the atria or to the ventricles. There is then no need for a dedicated ventricular pulse generator 120 and a dedicated atrial pulse generator 125.</p><p id="p0024" num="0024">A pulse generator controller 130 is arranged in the system 100 connected to the pulse generator 120, 125 to control the pulse generator 120, 125 to generate pacing pulses according to a defined scheme of interchamber delays. According to the embodiments, the defined scheme defines a maximum interchamber delay, a minimum interchamber delay and an intermediate interchamber delay for each electrode of the <i>N</i> electrodes. These interchamber delays of the defined scheme are with regard to the timing of applying a pacing pulse to the first electrode. Hence, the defined scheme defines three possible interchamber delays for each electrode and thereby each pacing site of the second heart chamber.</p><p id="p0025" num="0025">The system 100 further comprises a width processor 140 that is configured to process an electrocardiogram (ECG) representing signal recorded for the heart in order to determine respective width parameter values. Thus, for each combination of <i>N</i> interchamber delays of the defined scheme the width processor 140 determines a width parameter value representative of a width of a resulting specific wave characteristic in the ECG representing signal. This resulting specific wave characteristic is a resulting R wave if the first and second heart chambers are the right and left ventricles and is a resulting P wave if the first and second heart chambers are the right and left atria.</p><p id="p0026" num="0026">Measurements of the width of R and P waves can be done in several ways by the width processor 140. For example, the width parameter can be defined as the time the R or P wave is above a defined threshold. Another way to define the width parameter is the rise and fall time, i.e. the time the R or P wave is above a threshold set at, for instance, 10 % of the wave amplitude. Yet another embodiment of a width parameter is the time from detection of electric activity in the first heart chamber to the peak of the R or P wave or the time difference between detection of electric activity in the first and second heart chambers. In the case of a width parameter value that is representative of the width of a resulting R wave, the width parameter value could represent the width of the QRS complex in the ECG<!-- EPO <DP n="8"> --> representing signal. Generally, the R wave is the main feature of the QRS complex and using QRS width as a representation of R width is possible according to the embodiments.</p><p id="p0027" num="0027">Thus, the embodiments are not limited to a particular technique of defining and measuring the width parameter value and can use any R or P width parameter known in the art, such as any of the ones mentioned above. However, once such a particular technique and parameter type have been selected it is consistently employed by the system 100 and the width processor 140 for the different combinations of <i>N</i> interchamber delays of the defined scheme.</p><p id="p0028" num="0028">The determined width parameter values from the width processor 140 are employed by a model processor 150 of the system 100 for estimating an <i>n<sup>th</sup></i> order parametric model. This <i>n<sup>th</sup></i> order parametric model defines the width parameter as a function of a respective interchamber delay for each electrode of the <i>N</i> electrodes.</p><p id="p0029" num="0029">The parameter <i>n</i> is a positive integer equal to or larger than two. This means that the parametric model is a second or higher order model. In a particular embodiment, the parametric model is a second order, i.e. quadratic, parametric model. Such a second order parametric model can efficiently be used to find suitable CRT settings in terms of interchamber delays that are at least close to the true optimal CRT settings. That is not possible with linear models since in such a case the optimal CRT settings found from a linear parametric model would always be found on the border, i.e. when at least one of the interchamber delays is set to its maximum interchamber delay value or its minimum interchamber delay value. Hence, second and higher order parametric models are needed in order to be able to find suitable CRT settings. Third, fourth and higher order parametric models are possible and can be used according to the embodiments. However, in such a case more width parameter values and thereby more combinations of <i>N</i> interchamber delays need to be tested. Additionally, the computational power is higher when defining and using higher order parametric models as compared to a second order parametric model. In addition, higher orders parametric models have the risk of finding local optimal CRT settings, which makes it more difficult to find the global optimal CRT settings. In a particular embodiment, the parametric model is thereby a quadratic parametric model.</p><p id="p0030" num="0030">The quadratic parametric model estimated by the model processor 150 is advantageously defined as <maths id="math0001" num=""><math display="inline"><msub><mi>W</mi><mi>R</mi></msub><mo>=</mo><mi>a</mi><mo>+</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover></mstyle><msub><mi>b</mi><mi>i</mi></msub><mo>⁢</mo><msub><mi>D</mi><mi>i</mi></msub><mo>+</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover></mstyle><msub><mi>c</mi><mi>i</mi></msub><mo>⁢</mo><msubsup><mi>D</mi><mi>i</mi><mn>2</mn></msubsup><mo>+</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow><mi>N</mi><mo>-</mo><mn>1</mn></mrow></munderover></mstyle><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mi>i</mi><mo>+</mo><mn>1</mn></mrow><mi>N</mi></munderover></mstyle><msub><mi>e</mi><mi mathvariant="italic">ij</mi></msub><mo>⁢</mo><msub><mi>D</mi><mi>i</mi></msub><mo>⁢</mo><msub><mi>D</mi><mi>j</mi></msub><mo>,</mo></math><img id="ib0001" file="imgb0001.tif" wi="72" he="14" img-content="math" img-format="tif" inline="yes"/></maths>, wherein <i>W<sub>R</sub></i> represents the width parameter and <i>D<sub>i</sub></i>, <i>D<sub>j</sub></i> represents an interchamber delay for electrode <i>i, j</i> of the <i>N</i> electrodes. The model processor 150<!-- EPO <DP n="9"> --> thereby estimates the coefficients <i>a</i>, <i>b<sub>i</sub></i>, <i>c<sub>i</sub></i>, <i>e<sub>ij</sub></i> of the quadratic parametric model based on the width parameter values obtained from the width processor 140 and based on information of the interchamber delays that are employed for the input width parameter values.</p><p id="p0031" num="0031">The system 100 also comprises a delay processor 160 that processes the <i>n<sup>th</sup></i> order parametric model estimated by the model processor 150. In more detail, the delay processor 160 determines, based on the <i>n<sup>th</sup></i> order parametric model and for each electrode of the <i>N</i> electrodes, the candidate interchamber delay that minimizes the width parameter. This means that the delay processor 160 uses the determined parametric model in order to find the candidate interchamber delay for each of the <i>N</i> electrodes that gives the smallest R or P width.</p><p id="p0032" num="0032">The candidate interchamber delays can be found by setting all partial derivatives to zero and solving the resulting equation systems with regard to the delays. It is also possible to use numerical methods, such as the Nelder-Mead algorithm, to find the candidate interchamber delays that minimize the width parameter from the parametric model.</p><p id="p0033" num="0033">The system 100 additionally comprises a memory 170 that stores CRT settings to be used by an IMD and where these CRT settings are obtained based on the <i>N</i> candidate interchamber delays determined by the delay processor 160.</p><p id="p0034" num="0034">In an embodiment, the CRT settings stored in the memory 170 are the <i>N</i> candidate interchamber delays as determined by the delay processor 160. The pulse generator controller 130 then controls the pulse generator 120, 125 to generate pacing pulses that are applied to the first electrode and the <i>N</i> electrodes based on the <i>N</i> candidate interchamber delays as CRT settings for the IMD.</p><p id="p0035" num="0035">In an embodiment, the <i>N</i> candidate interchamber delays determined by the delay processor 160 are stored directly in the memory 170 and used as CRT settings for the IMD as mentioned above. In an alternative approach, the <i>N</i> candidate interchamber delays are first tested and verified that they indeed result in the optimal R or P wave width. In such a case, the width processor 140 is configured to determine a candidate width parameter value occurring in the ECG representing signal recorded for the heart in response to the pulse generator controller 130 using the <i>N</i> candidate interchamber delays to control the pulse generator 120, 125. Thus, the pulse generator controller 130 controls the pulse generator 120, 125 to generate pacing pulses that are applied to the first electrode and the <i>N</i><!-- EPO <DP n="10"> --> electrodes based on the <i>N</i> candidate interchamber delays determined by the delay processor 160. This candidate width parameter value then represents the width of a resulting R or P wave obtained in the ECG representing signal when using the <i>N</i> candidate interchamber delays as CRT settings.</p><p id="p0036" num="0036">This embodiment of the system 100 preferably comprises a value comparator 145 configured to compare the candidate width parameter value with the width parameter values obtained in response to the pulse generator controller 130 controlling the pulse generator 120, 125 to generate pacing pulses applied to the first electrode and the <i>N</i> electrodes according to the defined scheme. Thus, the value comparator 145 compares the candidate width parameter value with the width parameter values obtained during the processes of estimating the parametric model when the different combinations of <i>N</i> interchamber delays of the defined scheme are tested. These previously determined width parameter values are then stored by the width processor 140 in the memory 170 during the model estimating processes described in the foregoing.</p><p id="p0037" num="0037">If the candidate width parameter value is smaller than the previously determined width parameter values, the value comparator 145 generates a grant signal. This grant signal indicates that the memory 170 can store the <i>N</i> candidate interchamber delays as CRT settings. Thus, in this case, the <i>N</i> candidate interchamber delays determined by the delay processor 160 from the parametric model are the most optimal or suitable CRT settings as assessed by the minimization of the R or P wave width.</p><p id="p0038" num="0038">If the <i>N</i> candidate interchamber delays would not be the most suitable as determined when the candidate parameter width value is not smaller than all the stored width parameter values from the model estimation processes various actions can be taken. In an embodiment, the model estimation process can be repeated once more by testing the different combinations of <i>N</i> interchamber delays of the defined scheme or at least testing a portion thereof. New width parameter values are thereby available and can be used together with the previously determined width parameter values to determine a new <i>n<sup>th</sup></i> order parametric model or an updated version of the present parametric model. The new or updated parametric model is then processed by the delay processor 160 to determine new candidate interchamber delays for the <i>N</i> electrodes. These new <i>N</i> candidate interchamber delays are then used by the pulse generator controller 130 to cause the pulse generator 120, 125 to apply pacing pulses to the first electrode and the <i>N</i> electrodes while an ECG representing signal is recorded for the subject. A new candidate width parameter value representing the width of the R or P wave in the ECG representing signal is determined by the width processor 140 and is tested by the value comparator 145 with the previously determined and stored parameter width values. If the new<!-- EPO <DP n="11"> --> candidate width parameter value is the smallest, the new <i>N</i> candidate interchamber delays are stored in the memory 170 and employed as CRT settings. If they still would not be smallest a new test procedure testing at least a portion of the interchamber delays in the defined scheme can be started.</p><p id="p0039" num="0039">An alternative embodiment, which can be used in combination with the above described embodiment, is to allow the physician to inspect the <i>N</i> candidate interchamber delays before they are implemented as CRT settings. In such a case, the system 100 preferably comprises a transceiver (TRX) 190 or a transmitter and a receiver for enabling wireless, preferably RF-based, communication with a non-implantable data processing unit, such as a programmer or a physician's workstation equipped with a communication interface. The transceiver 190 transmits a notification of the <i>N</i> candidate interchamber delays determined by the delay processor 160 to the data processing unit. There the physician can inspect them and modify them slightly if deemed, based on his/her medical experience and the particular subject, necessary and appropriate. The data processing unit then returns an implementation signal to the transceiver 190 of the system 100. In an embodiment, the implementation signal simply indicates to the system 100 that the determined <i>N</i> candidate interchamber delays can be stored and employed as CRT settings. In another embodiment, the implementation signal additional comprises any updated candidate interchamber delays as modified by the physician or information of the modification selected by the physician. In the former case, the system 100 stores and uses these updated candidate interchamber delays obtained based on the <i>N</i> candidate interchamber delays as CRT settings. In the latter case, the system 100 first updates the <i>N</i> candidate interchamber delays with the information in the implementation signal before storing and using them as CRT settings.</p><p id="p0040" num="0040">The ECG representing signal employed by the width processor 140 in order to determine the width of the R or P waves for the different combinations of interchamber delays is advantageously a surface ECG or a surface-like ECG. <figref idrefs="f0002">Fig. 3</figref> illustrates an embodiment where the subject 10 is connected to standard ECG cables with electrodes 60, 62, 64 placed on the skin surface of the subject 10 to record a surface ECG on the connected data processing unit 200, such as a programmer. The determination of the width parameter values can then be performed by the data processing unit 200 or the IMD 300 in the subject 10, which is further described herein.</p><p id="p0041" num="0041">If no surface ECG measurements are available implanted electrodes can be used to generate surface-like ECG signals. For instance, intracardiac electrogram (IEGM) signals can be recorded between implanted electrodes. In an embodiment, the IEGM signal is a global IEGM in terms of having a measurement vector selected to capture global cardiac events. For example, the IEGM signal can be<!-- EPO <DP n="12"> --> measured between a superior vena cava (SVC) coil, RV coil, RA electrode or LV electrode and a case electrode on the IMD using an EGM processor 180 of the system 100. Another alternative is to have an IMD 300 with multiple case electrodes 50, 52 as indicated in <figref idrefs="f0002">Fig. 2</figref>. The IEGM signal recorded over these two case electrodes 50, 52 by the EGM processor 180 can then be used as surface-like ECG signal. A further alternative is to have a cardiac lead with a special sensing electrode close to the proximal end that is connectable to the electrode connector 110. The sensing electrode will then be positioned a distance from the heart and rather close to the device pocket in the subject. An IEGM signal that is recorded by the EGM processor 180 between the sensing electrode and a case electrode can be used as a surface-like ECG signal. Yet another solution is to have the electrode connector 110 connected to an extra lead that is placed in the device pocket in the subject or subcutaneously inferior to the IMD of the system 100. The extra lead then has a sensing electrode that can be used together with a case electrode to record an IEGM signal by the EGM processor 180 that can be used as surface-like ECG. Still a further alternative is to record multiple unipolar IEGM signals between different electrodes provided in or in connection with different heart chambers and the case electrode. The average of these multiple unipolar EGM signals will be a good representative of a surface-like ECG signal.</p><p id="p0042" num="0042">The defined scheme of interchamber delays used by the pulse generator controller 130 when controlling the pulse generator 120, 125 preferably comprises, for each electrode of the <i>N</i> electrodes, a maximum interchamber delay, a minimum interchamber delay and an intermediate interchamber delay equal to the average of the maximum and minimum delays for that electrode. Table 1 below illustrates an embodiment of such a defined scheme for a situation with <i>N</i> = 3 3 and where the electrodes are ventricular electrodes and the interchamber delays are therefore interventricular delays.
<tables id="tabl0001" num="0001"><table frame="all"><title>Table 1 - defined scheme of interventricular delays</title><tgroup cols="3"><colspec colnum="1" colname="col1" colwidth="25mm"/><colspec colnum="2" colname="col2" colwidth="25mm"/><colspec colnum="3" colname="col3" colwidth="25mm"/><thead><row><entry align="center" valign="top">V<sub>R</sub>V<sub>L1</sub></entry><entry align="center" valign="top">V<sub>R</sub>V<sub>L2</sub></entry><entry align="center" valign="top">V<sub>R</sub>V<sub>L3</sub></entry></row></thead><tbody><row><entry align="center">Max</entry><entry align="center">Max</entry><entry align="center">Max</entry></row><row><entry align="center">Max</entry><entry align="center">Max</entry><entry align="center">Min</entry></row><row><entry align="center">Max</entry><entry align="center">Min</entry><entry align="center">Max</entry></row><row><entry align="center">Max</entry><entry align="center">Min</entry><entry align="center">Min</entry></row><row><entry align="center">Min</entry><entry align="center">Max</entry><entry align="center">Max</entry></row><row><entry align="center">Min</entry><entry align="center">Max</entry><entry align="center">Min</entry></row><row><entry align="center">Min</entry><entry align="center">Min</entry><entry align="center">Max</entry></row><!-- EPO <DP n="13"> --><row><entry align="center">Min</entry><entry align="center">Min</entry><entry align="center">Min</entry></row><row><entry align="center">Max</entry><entry align="center">(Max+Min)/2</entry><entry align="center">(Max+Min)/2</entry></row><row><entry align="center">(Max+Min)/2</entry><entry align="center">(Max+Min)/2</entry><entry align="center">Max</entry></row><row><entry align="center">(Max+Min)/2</entry><entry align="center">Max</entry><entry align="center">(Max+Min)/2</entry></row><row><entry align="center">Min</entry><entry align="center">(Max+Min)/2</entry><entry align="center">(Max+Min)/2</entry></row><row><entry align="center">(Max+Min)/2</entry><entry align="center">(Max+Min)/2</entry><entry align="center">Min</entry></row><row><entry align="center">(Max+Min)/2</entry><entry align="center">Min</entry><entry align="center">(Max+Min)/2</entry></row><row><entry align="center">(Max+Min)/2</entry><entry align="center">(Max+Min)/2</entry><entry align="center">(Max+Min)/2</entry></row><row><entry align="center">(Max+Min)/2</entry><entry align="center">(Max+Min)/2</entry><entry align="center">(Max+Min)/2</entry></row><row><entry align="center">(Max+Min)/2</entry><entry align="center">(Max+Min)/2</entry><entry align="center">(Max+Min)/2</entry></row></tbody></tgroup></table></tables></p><p id="p0043" num="0043">The defined scheme is also visually illustrated in <figref idrefs="f0004">Fig. 5</figref>. In this embodiment, interchamber delays will be tested in a full factorial design. In Table 1 the three last rows have identical interchamber delays. This can be used in order to detect any variations within the data set that can occur due to naturally occurring variations between heart beats. Thus, although the defined scheme may test one or more combinations of interchamber delays several times, the defined scheme preferably only consists of the combinations according to a full factorial design with a maximum interchamber delay, a minimum interchamber delay and one intermediate interchamber delay per electrode of the <i>N</i> electrodes.</p><p id="p0044" num="0044">In an alternative or additional approach to compensate for such naturally occurring variations each combination of interchamber delays is tested over multiple cardiac cycles. For instance, the pulse generator controller 130 can control the pulse generator 120, 125 to generate pacing pulses according to each combination of <i>N</i> interchamber delays of the defined scheme during at least one respiratory cycle. The ECG representing signal could then be processed to determine an average ECG waveform over a cardiac cycle and the width parameter value is then determined for this average ECG waveform. An alternative is to determine one width parameter value for each cardiac cycle in the ECG signal for the particular combination of <i>N</i> interchamber delays and then calculate an average of these width parameter values.</p><p id="p0045" num="0045">The minimum and maximum values for the interchamber delays in the defined scheme could be the same for all interchamber delays. Alternatively, the maximum and/or minimum values for one interchamber delay can be different from the maximum and/or minimum values for another interchamber delay in the defined scheme.<!-- EPO <DP n="14"> --></p><p id="p0046" num="0046">The minimum and maximum values in the defined scheme can be predefined and stored in the memory 170 of the system 100. In such a case, basically the same minimum and maximum values and defined scheme are employed for all subjects for whom the system 100 determines CRT settings. In an alternative approach, the physician of the subject can set the maximum and minimum values to thereby get individually adjusted defined schemes. The system 100 then preferably receives a notification with its transceiver 190. The notification originates from the physician's data processing unit and defines the maximum interchamber delay and the minimum interchamber delay for each electrode of the <i>N</i> electrodes. This information of the maximum and minimum delays is entered in the memory 170, where they are available to the pulse generator controller 130.</p><p id="p0047" num="0047">The interchamber delays of the defined set could also be defined based on the paced interchamber conduction time if such a testing is performed by the system 100. The system 100 then preferably comprises a time processor 185 configured to determine a conduction time corresponding to a time from application of a pacing pulse at the first electrode and up to a time when a depolarization pulse is sensed at a given electrode of the <i>N</i> electrodes. The pulse generator controller 130 could then be configured to determine the maximum interchamber delay for the given electrode to be equal to the conduction time subtracted by a defined time value, such as 5-10 ms.</p><p id="p0048" num="0048">In a further embodiment, the system 100 has access to both a maximum interchamber delay value stored in the memory 170 or set by the physician and received from the transceiver and information of the conduction time. In such a case, the pulse generator controller 130 could be configured to determine the maximum interchamber delay for the given electrode to be equal to the smallest of the conduction time subtracted by the defined time value and the maximum interchamber delay value stored in the memory 170 or set by the physician. This approach significantly prevents any intrinsic depolarization in the second ventricle, which otherwise could interfere with and thereby prolong the testing of the different interchamber delays of the defined scheme.</p><p id="p0049" num="0049">A further variant is that the system 100 transmits, using its transceiver 190, information of the conduction time and optionally the maximum interchamber delay value stored in the memory 170 to the physician's data processing unit. Their the physician can decide which of the conduction time subtracted by the defined time value and the maximum interchamber delay value to use as the maximum interchamber delay for the given electrode. Information of the selected interchamber delay is<!-- EPO <DP n="15"> --> then returned to the transceiver 190 and the system 100 and will be used by the pulse generator controller 130.</p><p id="p0050" num="0050">The values of the interchamber delays in the defined scheme are defined relative the timing of applying a pacing pulse to the first electrode. For instance, if the first electrode is a RV electrode and the <i>N</i> electrodes are different LV electrodes the defined scheme defines different values for the <i>N</i> interventricular delay. However, this is equivalent to define one interventricular delay and then <i>N-1</i> intraventricular delays. Thus, instead of defining V<sub>R</sub>V<sub>L1</sub>, V<sub>R</sub>V<sub>L2</sub>, ..., V<sub>R</sub>V<sub>LN</sub> the delays can be defined as V<sub>R</sub>V<sub>L1</sub>, V<sub>L1</sub>V<sub>L2</sub>, ..., V<sub>L1</sub>V<sub>LN</sub>. This is in fact equivalent since V<sub>L1</sub>V<sub>L2</sub>=V<sub>R</sub>V<sub>L1</sub>-V<sub>R</sub>V<sub>L2</sub>. Hence, a defined scheme of the embodiments setting values of interchamber delays also encompasses setting values of interchamber delay(s) and intrachamber delay(s).</p><p id="p0051" num="0051">The interchamber delays of the defined scheme can be positive, zero or even negative. A negative delay value implies that a pacing pulse is applied to the electrode of the <i>N</i> electrode prior application of a pacing pulse to the first electrode. For instance, an interchamber delay of -50 ms implies that the pacing pulse should be applied at the particular electrode at 50 ms before the application of a pacing pulse at the first electrode. Correspondingly, an interchamber delay of +60 ms implies that the pacing pulse is applied 60 ms after the application of the pacing pulse at the first electrode. This means that the first electrode can be paced first, last and theoretically also in the middle with regard to the <i>N</i> electrodes.</p><p id="p0052" num="0052">For some interchamber delay combinations, there may be spontaneous depolarization on one or more electrodes of the <i>N</i> electrodes. This effectively resembles no stimulation of this or these electrode(s). Determining which electrode(s) to stimulate will then implicitly be determined by the presence of inhibition.</p><p id="p0053" num="0053">The presence of inhibition by spontaneous depolarization during the evaluation phase when the system 100 determined the parametric model can be treated differently depending on IMD type and subject's disease. For instance, in case of a left bundle branch block (LBBB) HF subject it may be assumed a priori that the subject should have 100 % LV pacing. In case inhibition occurs in this subject, the maximum value of the interventricular delays should be modified, typically reduced, to not create inhibition.<!-- EPO <DP n="16"> --></p><p id="p0054" num="0054">As an example, if the delay set (V<sub>R</sub>V<sub>L1</sub>, V<sub>R</sub>V<sub>L2</sub>, V<sub>R</sub>V<sub>L3</sub>) = (Min, Max, Max) = (-80 ms, 80 ms, 80 ms) cause spontaneous depolarization on the electrodes LV2 and LV3 after 60 ms and 100 ms counting from the LV1 stimulation pulse, the maximum V<sub>R</sub>V<sub>L2</sub> delay should be set to the minimum of Max and V<sub>R</sub>V<sub>L1</sub>+60 ms and the maximum V<sub>R</sub>V<sub>L3</sub> delay to the minimum of Max and V<sub>R</sub>V<sub>L1</sub>+100 ms.</p><p id="p0055" num="0055">For other subjects, where stimulation on all LV electrodes is not an a priori requirement, the setting is typically kept and the pacing pulse simply inhibited.</p><p id="p0056" num="0056">The system 100 can be used, as previously mentioned, to determine CRT settings in terms of optimal interventricular delays, interatrial delays or both interventricular delays and interatrial delays. In the latter case, the system 100 can first generate an atrial parametric model and determine optimal interatrial delays and then determine a ventricular parametric model and determine optimal interventricular delays. The opposite order is also possible. Furthermore, since changing the interatrial delays will only affect the P wave width and changing the interventricular delays will only affect the R wave width, the interatrial and interventricular delay optimization can be made in any order, or even in parallel.</p><p id="p0057" num="0057">Generally, the width of the R wave can be influenced by the intrinsic atrioventricular (AV) conduction. This can be handled by setting the AV delay employed by the pulse generator controller 130 to a very small value during the optimization process when determining interventricular delays to thereby avoid intrinsic AV conduction. In such a case, fusion beats will not occur or at least occur very seldom as ventricular pacing occurs before intrinsic AV conduction. In such a case, the pulse generator controller 130 controls an atrial pulse generator 125 of the system 100 to generate pacing pulses to be applied to an atrial electrode connected to the electrode connector 110 and controls the ventricular pulse generator 120 to generate pacing pulses to be applied to the first ventricular electrode and the <i>N</i> ventricular electrodes according to the defined scheme after expiry of a defined AV delay with regard to the timing of applying a pacing pulse to the atrial electrode. This defined AV delay is then set to be smaller than an average intrinsic AV conduction time of the heart.</p><p id="p0058" num="0058">Another way is to use whatever AV delay that has been programmed into the system 100. This AV delay may then lead to intrinsic AV conduction but that poses no limitations on the determination of the parametric model and the candidate interventricular delays. In this approach, it is preferred that suitable AV delays are first determined according to well known techniques or set by the physician before the optimization of interventricular delays.<!-- EPO <DP n="17"> --></p><p id="p0059" num="0059">The system 100 can be configured to determine CRT settings in connection with implantation of an IMD of the system 100 in a subject. In such a case, the subject can be connected to surface ECG electrodes connected to a programmer that can communicate with the IMD of the system 100. The system 100 can alternatively or in addition operate for determining the CRT settings at one or more occasions after implantation. In such a case, the system 100 could be responsive to a trigger signal received by the transceiver 190 and originating from a non-implantable data processing unit, typically the physician's workstation or programmer. The trigger signal then triggers the pulse generator controller 130 to control the pulse generator 120, 125 to start pacing according to the defined scheme of interchamber delays. This trigger signal can then also include information of the minimum and maximum interchamber delays to use for the defined scheme.</p><p id="p0060" num="0060">In an alternative approach, the system 100 itself triggers determination of CRT settings. Such a trigger could be the elapse of a defined timer. This approach implies that the system 100 periodically updates its CRT settings. The value of the defined timer can optionally be set by the physician and determined based on the particular heart condition and the particular subject. Example of suitable periods for updating the CRT settings could be once per week, once per month, one or a few times per year or even more seldom.</p><p id="p0061" num="0061">A further alternative is to determine CRT settings as described in the foregoing in connection with implantation of an IMD or upon reception of a trigger signal. Then the system 100 could update the CRT settings, optionally without any feedback or trigger signal from the physician. In such a case, the width processor 140 is configured to determine a candidate width parameter value representative of a width of a resulting wave in an ECG representing signal in response to the pulse generator controller 130 controlling the pulse generator 120, 125 to generate pacing pulses to be applied to the first electrode and the <i>N</i> electrodes based on the <i>N</i> candidate interchamber delays, unless such a candidate width parameter value already has been determined and stored in the memory 170. Thus, this candidate width parameter value is obtained when using the <i>N</i> interchamber delays determined by the delay processor 160, optionally modified slightly by the physician as previous mentioned.</p><p id="p0062" num="0062">The pulse generator controller 130 also controls the pulse generator 120, 125 to generate pacing pulses to be applied to the first electrode and the <i>N</i> electrodes based on a candidate interchamber delay of the <i>N</i> candidate interchamber delays modified with a delta delay. Thus, one of the candidate interchamber delays is modified slightly with a delta delay that could either be positive or negative. The<!-- EPO <DP n="18"> --> value of this delta delay can be set by the physician and notified to the system 100 by a control signal received by the transceiver 190. In an alternative approach, the delta delay has a magnitude that is a fixed percentage, such as 1-5 %, of the magnitude of the candidate interchamber delay to be tested. The width processor 140 then determines an updated width parameter value representative of the width of a resulting R or P wave in the ECG representing signal recorded for the heart. This updated width parameter value thus reflects the updated R or P wave width obtained when using the <i>N</i> candidate interchamber delays with at least one of the interchamber delays modified with the delta delay.</p><p id="p0063" num="0063">The <i>N</i> interchamber delays stored as CRT settings in the memory 170 are then updated with the modified candidate interchamber delay if the updated width parameter value is smaller than the candidate width parameter value.</p><p id="p0064" num="0064">If the updated width parameter value instead would be larger than the candidate width parameter value the same interchamber delay can be tested anew but modified with the delta delay but with the opposite sign, i.e. negative value if the previous modification was with a positive value and vice versa. If instead the updated width parameter value is indeed smaller than the candidate width parameter value, the procedure can be repeated by adding a new delta delay to the particular interchamber delay and test whether this modified interchamber delay leads to even smaller R or P wave widths. This procedure can then be repeated with all interchamber delays or several such interchamber delays can be modified and tested together.</p><p id="p0065" num="0065">Another way to vary the interchamber delays is to test <i>N</i>+1 interchamber delay combinations, such as obtained by modifying different candidate interchamber delays with delta delays, and evaluate the result to see which interchamber delay combination that resulted in the worst result in terms of largest R or P wave width. This combination is then discarded and replaced by a new combination of interchamber delays that is perpendicular to the hyperplane spanned by the other combinations of interchamber delays. Out of these new delay combinations, the worst performing combination is again replaced by a new delay combination and the process is repeated. This type of optimization is called Nedler-Mead optimization.</p><p id="p0066" num="0066">In an embodiment, the system 100 is configured to determine interventricular delays as CRT settings. With reference to <figref idrefs="f0001 f0002">Figs. 1-3</figref>, the electrode connector 110 is then connectable to a first ventricular lead<!-- EPO <DP n="19"> --> 20 comprising the first ventricular electrode 22 and configured to be arranged in a first ventricle of the heart 15, the right ventricle in <figref idrefs="f0002">Figs. 2 and 3</figref>. A second ventricular lead 30 comprising <i>N</i> ventricular electrodes 32, 34, 36 is configured to be arranged in or in connection with a second ventricle, the left ventricle in this example. The pulse generator is then a ventricular pulse generator 120 and the pulse generator controller 130 controls the ventricular pulse generator 120 to generate pacing pulses to be applied to the first ventricular electrode 22 and the <i>N</i> ventricular electrodes 32, 34, 36 according to a defined scheme of interventricular delays. The width processor 140 determines an R width parameter value for each combination of <i>N</i> interventricular delays of the defined scheme based on the ECG representing signal recorded for the heart. The model processor 150 estimates a parametric model based on the R width parameter values and where this parametric model defines the R width parameter as a function of a respective interventricular delay for each ventricular electrode of the N ventricular electrodes 32, 34, 36. The parametric model is processed by the delay processor 160 in order to determine the <i>N</i> candidate interventricular delays that minimize the R width parameter. These determined <i>N</i> candidate interventricular delays are stored as CRT settings or employed to determine CRT settings, which are entered in the memory 170.</p><p id="p0067" num="0067">In another embodiment, the system 100 is configured to determine interatrial delays as CRT settings. The electrode connector 110 is then connectable to a first atrial lead 40 comprising the first atrial electrode 42 and configured to be arranged in a first atrium of the heart. A lead comprising <i>N</i> atrial electrodes is configured to be arranged in or in connection with a second atrium. The pulse generator is then an atrial pulse generator 125 and the pulse generator controller 130 controls the atrial pulse generator 125 to generate pacing pulses to be applied to the first atrial electrode 42 and the <i>N</i> atrial electrodes according to a defined scheme of interatrial delays. The width processor 140 then determines a P width parameter value for each combination of <i>N</i> interatrial delays of the defined scheme based on the ECG representing signal recorded for the heart. The model processor 150 estimates a parametric model based on the P width parameter values and where this parametric model defines the P width parameter as a function of a respective interatrial delay for each atrial electrode of the <i>N</i> atrial electrodes. The parametric model is processed by the delay processor 160 in order to determine the <i>N</i> candidate interatrial delays that minimize the P width parameter. These determined <i>N</i> candidate interatrial delays are stored as CRT settings or employed to determine CRT settings, which are entered in the memory 170.</p><p id="p0068" num="0068">In a further embodiment, the system 100 determines both optimal interventricular delays as described above and interatrial delays. In a particular embodiment, a first atrial electrode 42 is configured to be<!-- EPO <DP n="20"> --> arranged in or in connection with a first atrium of the heart, whereas <i>M</i> atrial electrodes 38 are arranged in or in connection with a second atrium of the heart, where <i>M</i> is a positive integer equal to or larger than one. The operation of the system 100 with regard to determining interatrial delays is basically the same as disclosed above.</p><p id="p0069" num="0069">This approach is possible with a so-called multipolar lead, such as a quadropolar lead 30 that is implanted in connection with the left ventricle. A left ventricular lead 30 is typically implanted in the coronary venous system, e.g. a left lateral or postero-lateral vein. In such a case and depending on the anatomy of the particular subject's heart the most distal electrodes 32, 34, 36 (see <figref idrefs="f0002">Fig. 2</figref>) of the quadropolar LV lead 30 can sense and pace the left ventricle and the more proximal electrode(s) 38 can sense and pace the left atrium. Thus, it is possible to determine both interventricular and interatrial delays with a single right atrial lead 40 having at least one electrode 42, a single right ventricular lead 20 with at least one electrode 22, 24 and a multipolar, such as quadropolar, LV lead 30 having some of its electrodes 32, 34, 36 positioned for ventricular pacing and some of the electrodes 38 for atrial pacing.</p><p id="p0070" num="0070">As mentioned in the foregoing, the system 100 comprises an IMD 300, see <figref idrefs="f0002">Figs. 2 and 3</figref>, which can be in the form of a pacemaker, cardioverter or an intracardiac defibrillator. In an embodiment, the electrode connector 110, the pulse generator 120, 125, the pulse generator controller 130 and the memory 170 of the system 100 are implemented in the IMD 300. The IMD 300 additionally comprises a transceiver 190 configured to conduct wireless communication with a non-implantable data processing unit or device 200 of the system 100. In particular, the transceiver 190 is configured to receive a notification of the candidate interchamber delays. The optional time processor 185 can be arranged in the IMD 300. The width processor 140, the model processor 150 and the delay processor 160 are implemented in the data processing unit 200. The data processing unit 200 additionally comprises or is connected to a transceiver 210 or communication module that is configured to wirelessly communicate with the IMD 300 and in particular transmit notifications of the candidate interchamber delays determined by the delay processor 160 to the IMD for usage therein as CRT settings. The optional EGM processor 180 can be implemented either in the data processing unit in the case of surface ECG measurements, see <figref idrefs="f0002">Fig. 3</figref>, or in the IMD 300 in the case of using surface-like ECG measurements based on IEGM signals, see <figref idrefs="f0002">Fig. 2</figref>.</p><p id="p0071" num="0071">In this embodiment, the processing required in order to determine the width parameter values, the parametric model and the candidate interchamber delays is conducted in the data processing unit 200.<!-- EPO <DP n="21"> --> The data processing unit 200 generally has superior data processing capability as compared to the IMD 300 which is limited in size since it needs to be implanted and is powered by a battery. This embodiment therefore efficiently determines the CRT settings but without draining too much battery power from the IMD 300 since the processing is conducted elsewhere, i.e. in the data processing unit 200.</p><p id="p0072" num="0072">In an alternative embodiment, the IMD 300 comprises the electrode connector 110, the pulse generator 120, 125, the pulse generator controller 130, the width processor 140, the memory 170, the optional EGM processor 180 and the transceiver 190. The transceiver 190 then transmits width parameter values determined by the width processor 140 to the data processing unit 200 and in turn receives a notification of the candidate interchamber delays. The data processing unit 200 comprises the model processor 150, the delay processor 160 and the transceiver 210 required to communicate with the IMD 300 and receive the width parameter values and transmit the notification of the candidate interchamber delays.</p><p id="p0073" num="0073">The above disclosed embodiment is particularly suitable when the IMD 300 comprises the EGM processor 180 and the ECG representing signal is obtained from IEGM signals recorded by the IMD 300. In such a case, no communication of this ECG representing signal to the data processing unit 200 is needed since the width processor 140 is already implemented in the IMD 300.</p><p id="p0074" num="0074">A further variant is to have a complete implantable system 100 with all the functions of the system 100 implemented in the IMD 300. This is schematically illustrated in <figref idrefs="f0003">Fig. 4</figref>. The figure is a simplified block diagram depicting various components of the IMD 300. While a particular multi-chamber device is shown in the figure, it is to be appreciated and understood that this is done merely for illustrative purposes. Thus, the techniques and methods described below can be implemented in connection with other suitably configured IMDs. Accordingly, the person skilled in the art can readily duplicate, eliminate, or disable the appropriate circuitry in any desired combination to provide an IMD capable of treating the appropriate heart chamber(s) with pacing stimulation and optionally also cardioversion and/or defibrillation.</p><p id="p0075" num="0075">The IMD 300 comprises a housing, often denoted as can or case in the art. The housing or a portion thereof can act as return electrode for unipolar leads, which is well known in the art. The IMD 300 also comprises the electrode connector 310 having a plurality of terminals 311-319. With reference to <figref idrefs="f0002">Figs. 2</figref> and <figref idrefs="f0003">4</figref>, the electrode connector 310 is configured to be, during operation in the subject body,<!-- EPO <DP n="22"> --> electrically connectable to, in this particular example, a left ventricular lead 30, a right ventricular lead 20 and optionally also to a right atrial lead 40. The electrode connector 310 consequently comprises a terminal 311 that is electrically connected to matching electrode terminals of the atrial lead 40 when the atrial lead 40 is introduced in the electrode connector 310.</p><p id="p0076" num="0076">In an alternative implementation, the IMD 100 is not connectable to a right atrial lead 40 but instead to a left atrial lead configured for implantation in the left atrium. A further possibility is to have an IMD 300 with an electrode connector 310 having sufficient terminals to allow the IMD 300 to be electrically connectable to both a right atrial lead 40 and a left atrial lead. Alternatively, left atrial pacing and sensing can be achieved with at least one of the electrodes 38 of the left ventricular lead 30.</p><p id="p0077" num="0077">The embodiments, however, do not necessarily have to use any atrial leads unless atrial sensing and pacing are desired. Thus, in such a case, the electrode connector 310 is only connected to a right ventricular lead 20 and a left ventricular lead 30. The terminal 311 of the electrode connector 310 can then be omitted.</p><p id="p0078" num="0078">In order to support right chamber sensing and pacing, the electrode connector 310 further comprises a right ventricular tip terminal 313 and a right ventricular ring terminal 312, which are adapted for connection to a right ventricular tip electrode 22 and a right ventricular ring electrode 24 of the right ventricular lead 20 implantable in the right ventricle, see <figref idrefs="f0002">Fig. 2</figref>.</p><p id="p0079" num="0079">The electrode connector 310 is also connectable to a left ventricular lead 30. A left ventricular lead 30 is typically implanted in the coronary venous system for safety reasons although implantation inside the left ventricle has been proposed in the art. "Left ventricular lead" 30 is used herein to describe a cardiac lead designed to provide sensing and pacing functions to the left ventricle regardless of its particular implantation site, i.e. inside the left ventricle or in the coronary venous system. The left ventricular lead 30 preferably also comprises multiple electrodes 32-38 that are electrically connectable to corresponding terminals 314-317 of the electrode connector 310.</p><p id="p0080" num="0080">In the figure, the left ventricular lead 30 is exemplified as multi-electrode or multipolar lead and more correctly a quadropolar lead 30, i.e. having, in total, four electrodes 32-38. The embodiments are, however, not limited to using left ventricular leads of multipolar type, i.e. leads having three or more electrodes. In clear contrast, the left ventricular lead 30 can alternatively be a bipolar lead having a tip<!-- EPO <DP n="23"> --> electrode and one ring electrode. The number of terminals of the electrode connector 310 should then be reduced to match the number of electrodes of the left ventricular lead 30.</p><p id="p0081" num="0081">The right ventricular lead 20 could also be a multipolar lead, such as quadropolar lead. The electrode connector 310 would then need to comprise at least three, such as four, terminals to be connected to matching electrode terminals at the proximal end of the multipolar right ventricular lead. Also a combination of multipolar right and ventricular leads are possible and within the scope of the embodiments.</p><p id="p0082" num="0082">If any of the cardiac leads 20, 30, 40 comprises a shock electrode the electrode connector 310 has a matching terminal configured to be electrically connectable to the shock electrode.</p><p id="p0083" num="0083">The housing can act as return electrode as mentioned above. In such a case, the electrode connector 310 can have one or more dedicated terminals 318, 319 connected to the housing or the case electrode(s) 50, 52 of the housing illustrated in <figref idrefs="f0002">Fig. 2</figref>.</p><p id="p0084" num="0084">The IMD 300 as illustrated in <figref idrefs="f0003">Fig. 4</figref> comprises an optional atrial pulse generator 325 and a ventricular pulse generator 320 that generate pacing pulses for delivery by the optional atrial lead(s) and the ventricular leads preferably through an electrode configuration switch 321.</p><p id="p0085" num="0085">It is understood that in order to provide stimulation therapy in different heart chambers, the ventricular and atrial pulse generators 320, 325 may include dedicated, independent pulse generators, multiplexed pulse generators, or shared pulse generators. The pulse generators 320, 325 are controlled by a controller 330 via appropriate control signals, respectively, to trigger or inhibit the stimulating pulses.</p><p id="p0086" num="0086">The controller 330 is preferably in the form of a programmable microcontroller 330 that controls the operation of the IMD 300. The controller 330 typically includes a microprocessor, or equivalent control circuitry, designed specifically for controlling the delivery of pacing therapy, and may further include RAM or ROM memory, logic and timing circuitry, state machine circuitry, and I/O circuitry. Typically, the controller 330 is configured to process or monitor input signal as controlled by a program code stored in a designated memory block. The type of controller 330 is not critical to the described implementations. In clear contrast, any suitable controller may be used that carries out the functions described herein. The use of microprocessor-based control circuits for performing timing and data analysis functions are well known in the art.<!-- EPO <DP n="24"> --></p><p id="p0087" num="0087">The controller 330 further controls the timing of the stimulating pulses, such as pacing rate, atrioventricular delay, atrial escape interval, etc. as well as to keep track of the timing of refractory periods, blanking periods, noise detection windows, evoked response windows, alert intervals, marker channel timing, etc.</p><p id="p0088" num="0088">A preferred electronic configuration switch 321 includes a plurality of switches for connecting the desired terminals 311-319 to the appropriate I/O circuits, thereby providing complete electrode programmability. Accordingly, the electronic configuration switch 321, in response to a control signal from the controller 330, determines the polarity of the stimulating pulses (e.g., unipolar, bipolar, combipolar, etc.) by selectively closing the appropriate combination of switches (not shown) as is known in the art.</p><p id="p0089" num="0089">An optional atrial sensing circuit or detector 324 and a ventricular sensing circuit or detector 322 are also selectively coupled to the optional atrial lead(s) and the ventricular leads through the switch 321 for detecting the presence of cardiac activity in the heart chambers. Accordingly, the ventricular and atrial sensing circuits 322, 324 may include dedicated sense amplifiers, multiplexed amplifiers, or shared amplifiers. The switch 321 determines the "sensing polarity" of the cardiac signal by selectively closing the appropriate switches, as is also known in the art. In this way, the clinician may program the sensing polarity independent of the stimulation polarity. The sensing circuits are optionally capable of obtaining information indicative of tissue capture.</p><p id="p0090" num="0090">Each sensing circuit 322, 324 preferably employs one or more low power, precision amplifiers with programmable gain and/or automatic gain control, band-pass filtering, and a threshold detection circuit, as known in the art, to selectively sense the cardiac signal of interest.</p><p id="p0091" num="0091">The outputs of the ventricular and atrial sensing circuits 322, 324 are connected to the controller 330, which, in turn, is able to trigger or inhibit the ventricular and atrial pulse generators 320, 325, respectively, in a demand fashion in response to the absence or presence of cardiac activity in the appropriate chambers of the heart.</p><p id="p0092" num="0092">Furthermore, the controller 330 is also capable of analyzing information output from the sensing circuits 322, 324 and/or a data acquisition unit or EGM processor 380 to determine or detect whether and to what degree tissue capture has occurred and to program a pulse, or pulse sequence, in response to<!-- EPO <DP n="25"> --> such determinations. The sensing circuits 322, 324, in turn, receive control signals over signal lines from the controller 330 for purposes of controlling the gain, threshold, polarization charge removal circuitry, and the timing of any blocking circuitry coupled to the inputs of the sensing circuits 322, 324 as is known in the art.</p><p id="p0093" num="0093">According to the embodiments cardiac signals are applied to inputs of the EGM processor 380 connected to the electrode connector 310. The EGM processor 380 is preferably in the form of an analog-to-digital (A/D) data acquisition unit configured to acquire intracardiac electrogram (IEGM) signals, convert the raw analog data into a digital signal that is used directly or further processed in order to generate the ECG representing signal.</p><p id="p0094" num="0094">The controller 330 of the IMD 300 is coupled to a memory 370 by a suitable data/address bus, wherein the programmable operating parameters used by the controller 330 are stored and modified, as required, in order to customize the operation of the IMD 300 to suit the needs of a particular patient. Such operating parameters define, for example, time threshold, pacing pulse amplitude, pulse duration, electrode polarity, rate, sensitivity, automatic features, and time interval between pacing pulse of an applied pacing pulse sequence.</p><p id="p0095" num="0095">The memory 370 may also advantageously store width parameter values, maximum and minimum interchamber delays of the defined scheme and candidate interchamber delays determined by the delay processor 360.</p><p id="p0096" num="0096">Advantageously, the operating parameters of the IMD 300 may be non-invasively programmed into the memory 370 through the transceiver 390 in communication via a communication link with the previously described communication unit of the programmer. The controller 330 activates the transceiver 390 with a control signal. The transceiver 390 can alternatively be implemented as a dedicated receiver and a dedicated transmitter connected to separate antennas or a common antenna, preferably a radio frequency (RF) antenna 394.</p><p id="p0097" num="0097">The IMD 300 additionally includes a battery 392 that provides operating power to all of the circuits shown in <figref idrefs="f0003">Fig. 4</figref>.<!-- EPO <DP n="26"> --></p><p id="p0098" num="0098">In the figure the width processor 340, the model processor 350, the delay processor 360 and the optional value comparator 345 and the optional time processor 385 have been exemplified as being run by the controller 330.</p><p id="p0099" num="0099">These units can then be implemented as a computer program product stored on the memory 370 and loaded and run on a general purpose or specially adapted computer, processor or microprocessor, represented by the controller 330 in the figure. The software includes computer program code elements or software code portions effectuating the operation of the width processor 340, the model processor 350, the delay processor 360 and the optional value comparator 345 and the optional time processor 385. The program may be stored in whole or part, on or in one or more suitable computer readable media or data storage means that can be provided in an IMD 300.</p><p id="p0100" num="0100">In an alternative embodiment, the width processor 340, the model processor 350, the delay processor 360 and the optional value comparator 345 and the optional time processor 385 are implemented as hardware units either forming part of the controller 330 or provided elsewhere in the IMD 300.</p><p id="p0101" num="0101"><figref idrefs="f0005">Fig. 6</figref> is a flow diagram illustrating a method of determining CRT settings. The method starts in step S1, where a counter <i>k</i> is set to a start value, such as <i>k</i> = 1. A next step S2 investigates whether all combinations of <i>N</i> interchamber delays in the defined scheme have been tested, i.e. whether <i>k</i> = <i>P</i>, where <i>P</i> represents the number of such combinations in the defined scheme. If <i>k ≠ P</i> the method continues to step S3 where pacing pulses are applied to a first electrode arranged in or in connection with a first heart chamber and to <i>N</i> ≥ 2 electrodes arranged in or in connection with a second heart chamber according to the <i>k<sup>th</sup></i> combination of interchamber delays of the defined scheme. A next step S4 records an ECG representing signal for the subject from which the width of an R or P wave is determined in step S5 and employed as width parameter value as previously described. The counter <i>k</i> is then increased by one in step S6 and the method returns to step S2. Thus, steps S3 to S5 is repeated once for each combination of <i>N</i> interchamber delays in the defined scheme to thereby obtain the width parameter values. Once all these combinations have been tested and <i>k</i> = <i>P</i>, the method continues from step S2 to step S7. Step S7 estimates an <i>n<sup>th</sup></i> order parametric model based on the determined width parameter values from step S5. This parametric model, defining the width parameter as a function of the respective <i>N</i> interchamber delays, is employed in step S8 to determine the <i>N</i> candidate interchamber delays that minimize the width parameter. Finally, CRT settings to use in an IMD are determined based on the <i>N</i> candidate interchamber delays from step S8. The method then ends.<!-- EPO <DP n="27"> --></p><p id="p0102" num="0102"><figref idrefs="f0004">Fig. 7</figref> is a flow diagram illustrating additional optional steps of the method illustrated in <figref idrefs="f0005">Fig. 6</figref>. The method continues from step S8 in <figref idrefs="f0005">Fig. 6</figref>. A next step S10 applies pacing pulses to the first electrode and the <i>N</i> electrodes according to the <i>N</i> candidate delays determined in step S8 from the parametric model. An ECG signal is then recorded for the subject in step S11 and processed in step S12 in order to determine the candidate width parameter value representing the width of the R or P wave when using the <i>N</i> candidate electrodes as CRT settings. A next step S13 compares this new or candidate width parameter value with the width parameter values determined in step S5 of <figref idrefs="f0005">Fig. 6</figref> when testing the different combination of interchamber delays. If the candidate width parameter value is smaller than all the previously determined width parameter values the method continues to step S9 of <figref idrefs="f0005">Fig. 6</figref>, where the <i>N</i> candidate interchamber delays are employed as CRT settings. If the candidate width parameter value, however, is not smaller than all the previous width parameter values in step S13, the method returns to step S1 of <figref idrefs="f0005">Fig. 6</figref> and a new test procedure is initiated in order to generate a new or updated parametric model.</p><p id="p0103" num="0103">The embodiments described above are to be understood as a few illustrative examples of the present invention. It will be understood by those skilled in the art that various modifications, combinations and changes may be made to the embodiments without departing from the scope of the present invention. In particular, different part solutions in the different embodiments can be combined in other configurations, where technically possible. The scope of the present invention is, however, defined by the appended claims.</p></description><claims mxw-id="PCLM56977739" lang="DE" load-source="patent-office"><!-- EPO <DP n="35"> --><claim id="c-de-01-0001" num="0001"><claim-text>System (100) zur Bestimmung der Therapieeinstellungen zur Herzneusynchronisierung, umfassend:
<claim-text>einen Elektrodenanschluss (110, 310), der mit einer ersten Elektrode (22) verbindbar ist, die so eingerichtet ist, dass sie in oder in Verbindung mit einer ersten Kammer eines Herzens (15) einer Person (10) angeordnet ist, und <i>N</i> ≥ 2 Elektroden (32, 34, 36), die so eingerichtet sind, dass sie in oder in Verbindung mit einer zweiten Kammer des Herzens (15) angeordnet sind; und</claim-text>
<claim-text>einen Impulsgenerator (120, 125, 320, 325), der mit dem Elektrodenanschluss (110, 310) verbunden und so eingerichtet ist, dass er Stimulationsimpulse erzeugt, die an die erste Elektrode (22) und die N Elektroden (32, 34, 36) anzulegen sind, <b>gekennzeichnet durch</b>:
<claim-text>eine Impulsgenerator-Steuerung (130, 330), die mit dem Impulsgenerator (120, 125, 320, 325) verbunden und so eingerichtet ist, dass sie den Impulsgenerator (120, 125, 320, 325) so steuert, dass er die Stimulationsimpulse, die an die erste Elektrode (22) und die <i>N</i> Elektroden (32, 34, 36) anzulegen sind, nach einem definierten Schema aus Zwischenkammerintervallen erzeugt, das für jede Elektrode der N Elektroden (32, 34, 36) ein Zwischenkammer-Höchstintervall, ein Zwischenkammer-Mindestintervall und ein Zwischenkammer-Zwischenintervall hinsichtlich des Zeitpunkts des Anlegens eines Stimulationsimpulses an die erste Elektrode (22) definiert;</claim-text>
<claim-text>einen Breitenprozessor (140, 340), der so eingerichtet ist, dass er, für jede Kombination aus <i>N</i> Zwischenkammerintervallen des definierten Schemas, einen Breitenparameterwert bestimmt, der eine Breite einer sich ergebenden R-Welle darstellt, wenn die erste und zweite Kammer eine erste und zweite Herzkammer sind, oder einer sich ergebenden P-Welle, wenn die erste und zweite Kammer ein erster und zweiter Vorhof sind, die in einem ein Elektrokardiogramm darstellenden Signal zu finden sind, das für das Herz (15) aufgezeichnet wird;</claim-text>
<claim-text>einen Modellprozessor (150, 350), der so eingerichtet ist, dass er auf der Grundlage der Breitenparameterwerte ein parametrisches Modell n-ter Ordnung<!-- EPO <DP n="36"> --> schätzt, das den Breitenparameter als Funktion eines jeweiligen Zwischenkammerintervalls für jede Elektrode der <i>N</i> Elektroden (32, 34, 36) definiert, wobei <i>n</i> ≥ 2;</claim-text>
<claim-text>einen Intervallprozessor (160, 360), der so eingerichtet ist, dass er auf der Grundlage des parametrischen Modells <i>n</i>-ter Ordnung und für jede Elektrode der <i>N</i> Elektroden (32, 34, 36) ein in Frage kommendes Zwischenkammerintervall bestimmt, das den Breitenparameter minimiert; und</claim-text>
<claim-text>einen Speicher (170, 370), der so eingerichtet ist, dass er Herzneusynchronisierungseinstellungen speichert, die auf der Grundlage der <i>N</i> in Frage kommenden Zwischenkammerintervalle erhalten wurden.</claim-text></claim-text></claim-text></claim><claim id="c-de-01-0002" num="0002"><claim-text>System nach Anspruch 1, wobei die Impulsgenerator-Steuerung (130, 330) so eingerichtet ist, dass sie den Impulsgenerator (120, 125, 320, 325) so steuert, dass er die Stimulationsimpulse, die an die erste Elektrode (22) und die <i>N</i> Elektroden (32, 34, 36) anzulegen sind, auf der Grundlage der <i>N</i> in Frage kommenden Zwischenkammerintervalle als die Therapieeinstellungen zur Herzneusynchronisierung erzeugt.</claim-text></claim><claim id="c-de-01-0003" num="0003"><claim-text>System nach Anspruch 1 oder 2, wobei <i>n</i> = 2 und der Modellprozessor (150, 350) so eingerichtet ist, dass er auf der Grundlage der Breitenparameterwerte ein quadratisches parametrisches Modell<br/>
<maths id="math0003" num=""><math display="inline"><msub><mi>W</mi><mi>R</mi></msub><mo>=</mo><mi>a</mi><mo>+</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover></mstyle><msub><mi>b</mi><mi>i</mi></msub><mo>⁢</mo><msub><mi>D</mi><mi>i</mi></msub><mo>+</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover></mstyle><msub><mi>c</mi><mi>i</mi></msub><mo>⁢</mo><msubsup><mi>D</mi><mi>i</mi><mn>2</mn></msubsup><mo>+</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow><mi>N</mi><mo>-</mo><mn>1</mn></mrow></munderover></mstyle><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mi>i</mi><mo>+</mo><mn>1</mn></mrow><mi>N</mi></munderover></mstyle><msub><mi>e</mi><mi mathvariant="italic">ij</mi></msub><mo>⁢</mo><msub><mi>D</mi><mi>i</mi></msub><mo>⁢</mo><msub><mi>D</mi><mi>j</mi></msub></math><img id="ib0003" file="imgb0003.tif" wi="68" he="14" img-content="math" img-format="tif" inline="yes"/></maths> durch Schätzen der Koeffizienten <i>a</i>, <i>b<sub>i</sub></i>, <i>c<sub>i</sub></i>, <i>e<sub>ij</sub></i> des quadratischen parametrischen Modells schätzt, wobei <i>W<sub>R</sub></i> den Breitenparameter darstellt und <i>D<sub>i</sub></i>, <i>D<sub>j</sub></i> ein Zwischenkammerintervall für die Elektrode <i>i, j</i> der <i>N</i> Elektroden (32, 34, 36) darstellt.</claim-text></claim><claim id="c-de-01-0004" num="0004"><claim-text>System nach einem der Ansprüche 1 bis 3, wobei der Elektrodenanschluss (110, 310) mit zwei Gehäuseelektroden (50, 52) verbindbar ist, die an einem Gehäuse eines implantierbaren Medizinprodukts (300) angeordnet sind, das den Elektrodenanschluss (110, 310) umfasst, wobei das System (100) Folgendes umfasst:<!-- EPO <DP n="37"> -->
<claim-text>einen Elektrokardiogrammprozessor (180, 380), der so eingerichtet ist, dass er das ein Elektrokardiogramm darstellende Signal auf der Grundlage von elektrischen Signalen erzeugt, die von dem Herzen (15) stammen und von den zwei Gehäuseelektroden (50, 52) wahrgenommen werden.</claim-text></claim-text></claim><claim id="c-de-01-0005" num="0005"><claim-text>System nach einem der Ansprüche 1 bis 4, wobei die Impulsgenerator-Steuerung (130, 330) so eingerichtet ist, dass sie den Impulsgenerator (120, 125, 320, 325) so steuert, dass er die Stimulationsimpulse, die an die erste Elektrode (22) und die <i>N</i> Elektroden (32, 34, 36) anzulegen sind, nach dem definierten Schema erzeugt, das für jede Elektrode der <i>N</i> Elektroden (32, 34, 36) das Zwischenkammer-Höchstintervall, das Zwischenkammer-Mindestintervall und das Zwischenkammer-Zwischenintervall, das einem Durchschnitt aus dem Zwischenkammer-Höchstintervall und dem Zwischenkammer-Mindestintervall entspricht, hinsichtlich des Zeitpunkts des Anlegens des Stimulationsimpulses an die erste Elektrode (22) definiert.</claim-text></claim><claim id="c-de-01-0006" num="0006"><claim-text>System nach einem der Ansprüche 1 bis 5, ferner umfassend:
<claim-text>einen Sender-Empfänger (190, 390), der so eingerichtet ist, dass er eine Meldung über das Zwischenkammer-Höchstintervall und das Zwischenkammer-Mindestintervall für jede Elektrode der <i>N</i> Elektroden (32, 34, 36) empfängt, wobei</claim-text>
<claim-text>der Speicher (170, 370) so eingerichtet ist, dass er die empfangenen Meldungen über das Zwischenkammer-Höchstintervall und das Zwischenkammer-Mindestintervall speichert, und</claim-text>
<claim-text>die Impulsgenerator-Steuerung (130, 330) so eingerichtet ist, dass sie die Meldungen über das Zwischenkammer-Höchstintervall und das Zwischenkammer-Mindestintervall aus dem Speicher (170, 370) abruft.</claim-text></claim-text></claim><claim id="c-de-01-0007" num="0007"><claim-text>System nach Anspruch 6, ferner umfassend einen Zeitprozessor (185, 385), der so eingerichtet ist, dass er eine Überleitungszeit bestimmt, die einer Zeit ab dem Anlegen eines Stimulationsimpulses an die erste Elektrode und bis zu einer Zeit, wenn ein Depolarisationsimpuls an einer Elektrode der <i>N</i> Elektroden (32, 34, 36) wahrgenommen wird, entspricht, wobei<br/>
<!-- EPO <DP n="38"> -->die Impulsgenerator-Steuerung (130, 330) so eingerichtet ist, dass sie das Zwischenkammer-Höchstintervall für die Elektrode der <i>N</i> Elektroden (32, 34, 36) als die Zeit bestimmt, die von der Überleitungszeit minus einen definierten Zeitwert und der empfangenen Meldung über das Zwischenkammer-Höchstintervall der kürzesten Zeit entspricht.</claim-text></claim><claim id="c-de-01-0008" num="0008"><claim-text>System nach einem der Ansprüche 1 bis 7, wobei die Impulsgenerator-Steuerung (130, 330) so eingerichtet ist, dass sie den Impulsgenerator (120, 125, 320, 325) so steuert, dass er die Stimulationsimpulse entsprechend jeder Kombination aus <i>N</i> Zwischenkammerintervallen des definierten Schemas während mindestens eines Atemzyklus erzeugt.</claim-text></claim><claim id="c-de-01-0009" num="0009"><claim-text>System nach einem der Ansprüche 1 bis 8, ferner umfassend einen Sender-Empfänger (190, 390), der so eingerichtet ist, dass er eine Meldung über die <i>N</i> in Frage kommenden Zwischenkammerintervalle an eine nicht implantierbare Datenverarbeitungseinheit (200) sendet und ein Anwendungssignal von der nicht implantierbaren Datenverarbeitungseinheit (200) empfängt, wobei<br/>
der Speicher (170, 370) so eingerichtet ist, dass er die <i>N</i> in Frage kommenden Zwischenkammerintervalle als die Therapieeinstellungen für die Herzneusynchronisierung auf der Grundlage des Anwendungssignals speichert.</claim-text></claim><claim id="c-de-01-0010" num="0010"><claim-text>System nach einem der Ansprüche 1 bis 9, wobei der Breitenprozessor (140, 340) so eingerichtet ist, dass er einen in Frage kommenden Breitenparameterwert, der in einem ein Elektrokardiogramm darstellenden Signal zu finden ist, das für das Herz (15) aufgezeichnet ist, als Reaktion darauf bestimmt, dass die Impulsgenerator-Steuerung (130, 330) den Impulsgenerator (120, 125, 320, 325) so steuert, dass er die Stimulationsimpulse, die an die erste Elektrode (22) und die <i>N</i> Elektroden (32, 34, 36) anzulegen sind, auf der Grundlage der <i>N</i> in Frage kommenden Zwischenkammerintervalle erzeugt, wobei das System (100) Folgendes umfasst:
<claim-text>einen Wertevergleicher (145, 345), der so eingerichtet ist, dass er den in Frage kommenden Breitenparameterwert mit Breitenparameterwerten vergleicht, die als Reaktion darauf erhalten wurden, dass die ImpulsgeneratorSteuerung (130, 330) den Impulsgenerator (120, 125, 320, 325) so steuert, dass<!-- EPO <DP n="39"> --> er die Stimulationsimpulse, die an die erste Elektrode (22) und die <i>N</i> Elektroden (32, 34, 36) anzulegen sind, nach dem definierten Schema erzeugt, und ein Erlaubnissignal erzeugt, wenn der in Frage kommende Breitenparameterwert geringer ist als die Breitenparameterwerte, wobei</claim-text>
<claim-text>der Speicher (170, 370) so eingerichtet ist, dass er die <i>N</i> in Frage kommenden Zwischenkammerintervalle als die Therapieeinstellungen für die Herzneusynchronisierung auf der Grundlage des Erlaubnissignals speichert.</claim-text></claim-text></claim><claim id="c-de-01-0011" num="0011"><claim-text>System nach einem der Ansprüche 1 bis 10, wobei<br/>
der Breitenprozessor (140, 340) so eingerichtet ist, dass er einen in Frage kommenden Breitenparameterwert, der eine Breite einer sich ergebenden Welle darstellt, die in einem ein Elektrokardiogramm darstellenden Signal zu finden ist, das für das Herz (15) aufgezeichnet ist, als Reaktion darauf bestimmt, dass die Impulsgenerator-Steuerung (130, 330) den Impulsgenerator (120, 125, 320, 325) so steuert, dass er die Stimulationsimpulse, die an die erste Elektrode (22) und die <i>N</i> Elektroden (32, 34, 36) anzulegen sind, auf der Grundlage der <i>N</i> in Frage kommenden Zwischenkammerintervalle erzeugt,<br/>
die Impulsgenerator-Steuerung (130, 330) so eingerichtet ist, dass sie den Impulsgenerator (120, 125, 320, 325) so steuert, dass er die Stimulationsimpulse, die an die erste Elektrode (22) und die <i>N</i> Elektroden (32, 34, 36) anzulegen sind, auf der Grundlage eines in Frage kommenden Zwischenkammerintervalls der <i>N</i> in Frage kommenden Zwischenkammerintervalle, das mit einem Delta-Intervall modifiziert ist, erzeugt,<br/>
der Breitenprozessor (140, 340) so eingerichtet ist, dass er einen aktualisierten Breitenparameterwert, der eine Breite einer sich ergebenden R-Welle darstellt, wenn es sich bei der ersten und zweiten Kammer um eine erste und zweite Herzkammer handelt, oder einer sich ergebenden P-Welle, wenn es sich bei der ersten und zweiten Kammer um einen ersten und zweiten Vorhof handelt, die in einem ein Elektrokardiogramm darstellenden Signal zu finden sind, das für das Herz (15) aufgezeichnet ist, als Reaktion darauf bestimmt, dass die Impulsgenerator-Steuerung (130, 330) den Impulsgenerator (120, 125, 320, 325) so steuert, dass er die Stimulationsimpulse, die an die Elektrode (22) und die <i>N</i> Elektroden<!-- EPO <DP n="40"> --> (32, 34, 36) anzulegen sind, auf der Grundlage des in Frage kommenden Zwischenkammerintervalls erzeugt, das mit dem Delta-Intervall modifiziert ist, und<br/>
der Speicher (170, 370) so eingerichtet ist, dass er die Therapieeinstellungen für die Herzneusynchronisierung auf der Grundlage des in Frage kommenden Zwischenkammerintervalls, das mit dem Delta-Intervall modifiziert ist, aktualisiert, wenn der aktualisierte Breitenparameterwert geringer ist als der in Frage kommende Breitenparameterwert.</claim-text></claim><claim id="c-de-01-0012" num="0012"><claim-text>System nach einem der Ansprüche 1 bis 11, wobei<br/>
der Elektrodenanschluss (110, 310) mit einer ersten Herzkammerleitung (20) verbindbar ist, die eine erste Herzkammerelektrode (22) umfasst und so eingerichtet ist, dass sie in einer ersten Herzkammer des Herzens (15) angeordnet ist, und einer zweiten Herzkammerleitung (30), die <i>N</i> Herzkammerelektroden (32, 34, 36) umfasst und so eingerichtet ist, dass sie in einer zweiten Herzkammer des Herzens (15) angeordnet ist;<br/>
es sich bei dem Impulsgenerator (120, 125, 320, 325) um einen Herzkammer-Impulsgenerator (120, 320) handelt, der so eingerichtet ist, dass er Stimulationsimpulse erzeugt, die an die erste Herzkammerelektrode (22) und die <i>N</i> Herzkammerelektroden (32, 34, 36) anzulegen sind;<br/>
die Impulsgenerator-Steuerung (130, 330) so eingerichtet ist, dass sie den Herzkammer-Impulsgenerator (120, 320) so steuert, dass er die Stimulationsimpulse, die an die erste Herzkammerelektrode (22) und die <i>N</i> Herzkammerelektroden (32, 34, 36) anzulegen sind, nach einem definierten Schema aus interventrikulären Intervallen erzeugt, das für jede Herzkammerelektrode der <i>N</i> Herzkammerelektroden (32, 34, 36) ein interventrikuläres Höchstintervall, ein interventrikuläres Mindestintervall und ein interventrikuläres Zwischenintervall hinsichtlich des Zeitpunkts des Anlegens eines Stimulationsimpulses an die erste Herzkammerelektrode (22) definiert;<br/>
der Breitenprozessor (140, 340) so eingerichtet ist, dass er, für jede Kombination aus <i>N</i> interventrikulären Intervallen des definierten Schemas, einen R-Breitenparameterwert bestimmt, der eine Breite einer sich ergebenden R-Welle<!-- EPO <DP n="41"> --> darstellt, die in einem ein Elektrokardiogramm darstellenden Signal zu finden ist, das für das Herz (15) aufgezeichnet ist;<br/>
der Modellprozessor (150, 350) so eingerichtet ist, dass er auf der Grundlage der R-Breitenparameterwerte das parametrische Modell <i>n</i>-ter Ordnung schätzt, das den R-Breitenparameter als Funktion eines jeweiligen interventrikulären Intervalls für jede Herzkammerelektrode der <i>N</i> Herzkammerelektroden (32, 34, 36) definiert, wobei <i>n</i> ≥ 2;<br/>
der Intervallprozessor (160, 360) so eingerichtet ist, dass er auf der Grundlage des parametrischen Modells <i>n</i>-ter Ordnung und für jede Herzkammerelektrode der <i>N</i> Herzkammerelektroden (32, 34, 36) ein in Frage kommendes interventrikuläres Intervall bestimmt, das den R-Breitenparameter minimiert; und<br/>
der Speicher (170, 370) so eingerichtet ist, dass er Herzneusynchronisierungseinstellungen speichert, die auf der Grundlage der <i>N</i> in Frage kommenden Zwischenherzkammerintervalle erhalten wurden.</claim-text></claim><claim id="c-de-01-0013" num="0013"><claim-text>System nach Anspruch 12, wobei der Elektrodenanschluss (110, 310) mit einer Vorhofelektrode (42) verbindbar ist, die so eingerichtet ist, dass sie in oder in Verbindung mit einem Vorhof des Herzens (15) angeordnet ist, wobei das System (100) Folgendes umfasst:
<claim-text>einen Vorhof-Impulsgenerator (125, 325), der mit dem Elektrodenanschluss (110, 310) verbunden und so eingerichtet ist, dass er Stimulationsimpulse erzeugt, die an die Vorhofelektrode (42) anzulegen sind, wobei</claim-text>
<claim-text>die Impulsgenerator-Steuerung (130, 330) mit dem Vorhof-Impulsgenerator (125, 325) verbunden und so eingerichtet ist, dass sie den Vorhof-Impulsgenerator (125, 325) so steuert, dass er Stimulationsimpulse erzeugt, die an die Vorhofelektrode (42) anzulegen sind, und den Herzkammer-Impulsgenerator (120, 320) so steuert, dass er die Stimulationsimpulse erzeugt, die an die erste Herzkammerelektrode (22) und die <i>N</i> Herzkammerelektroden (32, 34, 36) anzulegen sind, nach dem definierten Schema nach Ablauf eines definierten atrioventrikulären Intervalls hinsichtlich des Zeitpunkts des Anlegens eines Stimulationsimpulses an die Vorhofelektrode (42), wobei das definierte atrioventrikuläre<!-- EPO <DP n="42"> --> Intervall kürzer als eine durchschnittliche atrioventrikuläre Eigenüberleitungszeit des Herzens (15) ist.</claim-text></claim-text></claim><claim id="c-de-01-0014" num="0014"><claim-text>System nach Anspruch 12 oder 13, wobei<br/>
der Elektrodenanschluss (110, 310) mit einer ersten Vorhofelektrode (42) verbindbar ist, die so eingerichtet ist, dass sie in oder in Verbindung mit einem ersten Vorhof des Herzens (15) angeordnet ist, und <i>M</i> ≥ 1 Vorhofelektroden (38), die so eingerichtet sind, dass sie in oder in Verbindung mit einem zweiten Vorhof des Herzens (15) angeordnet sind, wobei das System (100) Folgendes umfasst:
<claim-text>einen Vorhof-Impulsgenerator (125, 325), der mit dem Elektrodenanschluss (110, 310) verbunden und so eingerichtet ist, dass er Stimulationsimpulse erzeugt, die an die erste Vorhofelektrode (42) und die <i>M</i> Vorhofelektroden (38) anzulegen sind, wobei</claim-text>
<claim-text>die Impulsgenerator-Steuerung (130, 330) mit dem Vorhof-Impulsgenerator (125, 325) verbunden und so eingerichtet ist, dass sie den Vorhof-Impulsgenerator (125, 325) so steuert, dass er die Stimulationsimpulse, die an die erste Vorhofelektrode (42) und die <i>M</i> Vorhofelektroden (38) anzulegen sind, nach einem definierten Schema aus interatrialen Intervallen erzeugt, das für jede Vorhofelektrode der <i>M</i> Vorhofelektroden (38) ein interatriales Höchstintervall, ein interatriales Mindestintervall und ein interatriales Zwischenintervall hinsichtlich des Zeitpunkts des Anlegens eines Stimulationsimpulses an die erste Vorhofelektrode (42) definiert,</claim-text>
<claim-text>der Breitenprozessor (140, 340) so eingerichtet ist, dass er, für jede Kombination aus <i>M</i> interatrialen Intervallen des definierten Schemas einen P-Breitenparameterwert bestimmt, der eine Breite einer sich ergebenden P-Welle darstellt, die in einem ein Elektrokardiogramm darstellendes Signal zu finden ist, das für das Herz (15) aufgezeichnet ist,</claim-text>
<claim-text>der Modellprozessor (150, 350) so eingerichtet ist, dass er auf der Grundlage der P-Breitenparameterwerte ein parametrisches Modell <i>n</i>-ter Ordnung schätzt, das den P-Breitenparameter als Funktion eines jeweiligen interatrialen Intervalls<!-- EPO <DP n="43"> --> für jede Vorhofelektrode der <i>M</i> Vorhofelektroden (38) definiert, wobei <i>n</i> ≥ 2,</claim-text>
<claim-text>der Intervallprozessor (160, 360) so eingerichtet ist, dass er auf der Grundlage des parametrischen Modells <i>n</i>-ter Ordnung und für jede Vorhofelektrode der <i>M</i> Vorhofelektroden (38) ein in Frage kommendes interatriales Intervall bestimmt, das den P-Breitenparameter minimiert, und</claim-text>
<claim-text>der Speicher (170, 370) so eingerichtet ist, dass er die Therapieeinstellungen für die Herzneusynchronisierung auf der Grundlage der <i>M</i> in Frage kommenden interatrialen Intervalle aktualisiert.</claim-text></claim-text></claim><claim id="c-de-01-0015" num="0015"><claim-text>System nach Anspruch 14, wobei der Elektrodenanschluss (110, 310) so eingerichtet ist, dass er mit einer rechten Herzkammerleitung (20) verbunden ist, die die erste Herzkammerelektrode (22) umfasst, einer rechten Vorhofleitung (40), die die erste Vorhofelektrode (42) umfasst, und einer linken Herzkammerleitung (30), die die <i>N</i> Herzkammerelektroden (32, 34, 36) und die <i>M</i> Vorhofelektroden (38) umfasst.</claim-text></claim><claim id="c-de-01-0016" num="0016"><claim-text>System nach einem der Ansprüche 1 bis 15, wobei das System (100) Folgendes umfasst:
<claim-text>ein implantierbares Medizinprodukt (300), das den Elektrodenanschluss (310), den Impulsgenerator (320, 325), die Impulsgenerator-Steuerung (330), den Speicher (370) und einen Sender-Empfänger (390) umfasst, der so eingerichtet ist, dass er eine Meldung über die in Frage kommenden Zwischenkammerintervalle empfängt; und</claim-text>
<claim-text>eine nicht implantierbare Datenverarbeitungseinheit (200), die den Breitenprozessor (140), den Modellprozessor (150), den Intervallprozessor (160) und einen Sender-Empfänger (210) umfasst, der so eingerichtet ist, dass er die Meldung über die in Frage kommenden Zwischenkammerintervalle sendet.</claim-text></claim-text></claim><claim id="c-de-01-0017" num="0017"><claim-text>System nach einem der Ansprüche 1 bis 15, wobei das System (100) Folgendes umfasst:<!-- EPO <DP n="44"> -->
<claim-text>ein implantierbares Medizinprodukt (300), das den Elektrodenanschluss (310), den Impulsgenerator (320, 325), die Impulsgenerator-Steuerung (330), den Breitenprozessor (340), den Speicher (370) und einen Sender-Empfänger (390) umfasst, der so eingerichtet ist, dass er die Breitenparameterwerte sendet und eine Meldung über die in Frage kommenden Zwischenkammerintervalle empfängt; und</claim-text>
<claim-text>eine nicht implantierbare Datenverarbeitungseinheit (200), die den Modellprozessor (150), den Intervallprozessor (160) und einen Sender-Empfänger (210) umfasst, der so eingerichtet ist, dass er die Breitenparameterwerte empfängt und die Meldung über die in Frage kommenden Zwischenkammerintervalle sendet.</claim-text></claim-text></claim><claim id="c-de-01-0018" num="0018"><claim-text>System nach einem der Ansprüche 1 bis 15, wobei das System (100) ein implantierbares Medizinprodukt (300) umfasst, das den Elektrodenanschluss (310), den Impulsgenerator (320, 325), die Impulsgenerator-Steuerung (330), den Breitenprozessor (340), den Modellprozessor (350), den Intervallprozessor (360) und den Speicher (370) umfasst.</claim-text></claim></claims><claims mxw-id="PCLM56977740" lang="EN" load-source="patent-office"><!-- EPO <DP n="28"> --><claim id="c-en-01-0001" num="0001"><claim-text>A system (100) for determining cardiac resynchronization therapy settings comprising:
<claim-text>an electrode connector (110, 310) connectable to a first electrode (22) configured to be arranged in or in connection with a first chamber of a heart (15) of a subject (10) and <i>N</i> ≥ 2 electrodes (32, 34, 36) configured to be arranged in or in connection with a second chamber of said heart (15); and</claim-text>
<claim-text>a pulse generator (120, 125, 320, 325) connected to said electrode connector (110, 310) and configured to generate pacing pulses to be applied to said first electrode (22) and said <i>N</i> electrodes (32, 34, 36), <b>characterized by</b>:
<claim-text>a pulse generator controller (130, 330) connected to said pulse generator (120, 125, 320, 325) and configured to control said pulse generator (120, 125, 320, 325) to generate said pacing pulses to be applied to said first electrode (22) and said <i>N</i> electrodes (32, 34, 36) according to a defined scheme of interchamber delays defining, for each electrode of said <i>N</i> electrodes (32, 34, 36), a maximum interchamber delay, a minimum interchamber delay and an intermediate interchamber delay with regard to the timing of applying a pacing pulse to said first electrode (22);</claim-text>
<claim-text>a width processor (140, 340) configured to determine, for each combination of <i>N</i> interchamber delays of said defined scheme, a width parameter value representative of a width of a resulting R wave, if said first and second chambers are first and second ventricles, or of a resulting P wave, if said first and second chambers are first and second atria, occurring in an electrocardiogram representing signal recorded for said heart (15);</claim-text>
<claim-text>a model processor (150, 350) configured to estimate, based on said width parameter values, an <i>n<sup>th</sup></i> order parametric model defining said width parameter as a function of a respective interchamber delay for each electrode of said <i>N</i> electrodes (32, 34, 36), <i>n</i> ≥ 2 ;</claim-text>
<claim-text>a delay processor (160, 360) configured to determine, based on said <i>n<sup>th</sup></i> order parametric model and for each electrode of said <i>N</i> electrodes (32, 34, 36), a candidate interchamber delay that minimizes said width parameter; and</claim-text>
<claim-text>a memory (170, 370) configured to store cardiac resynchronization settings obtained based on said <i>N</i> candidate interchamber delays.</claim-text></claim-text></claim-text></claim><claim id="c-en-01-0002" num="0002"><claim-text>The system according to claim 1, wherein said pulse generator controller (130, 330) is configured to control said pulse generator (120, 125, 320, 325) to generate said pacing pulses to be applied to said first electrode (22) and said <i>N</i> electrodes (32, 34, 36) based on said <i>N</i> candidate interchamber delays as said cardiac resynchronization therapy settings.<!-- EPO <DP n="29"> --></claim-text></claim><claim id="c-en-01-0003" num="0003"><claim-text>The system according to claim 1 or 2, wherein <i>n</i> = 2 and said model processor (150, 350) is configured to estimate, based on said width parameter values, a quadratic parametric model <maths id="math0002" num=""><math display="inline"><msub><mi>W</mi><mi>R</mi></msub><mo>=</mo><mi>a</mi><mo>+</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover></mstyle><msub><mi>b</mi><mi>i</mi></msub><mo>⁢</mo><msub><mi>D</mi><mi>i</mi></msub><mo>+</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover></mstyle><msub><mi>c</mi><mi>i</mi></msub><mo>⁢</mo><msubsup><mi>D</mi><mi>i</mi><mn>2</mn></msubsup><mo>+</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow><mi>N</mi><mo>-</mo><mn>1</mn></mrow></munderover></mstyle><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mi>i</mi><mo>+</mo><mn>1</mn></mrow><mi>N</mi></munderover></mstyle><msub><mi>e</mi><mi mathvariant="italic">ij</mi></msub><mo>⁢</mo><msub><mi>D</mi><mi>i</mi></msub><mo>⁢</mo><msub><mi>D</mi><mi>j</mi></msub></math><img id="ib0002" file="imgb0002.tif" wi="72" he="13" img-content="math" img-format="tif" inline="yes"/></maths>by estimating the coefficients <i>a</i>,<i>b<sub>i</sub></i>,<i>c<sub>i</sub></i>,<i>e<sub>ij</sub></i> of said quadratic parametric model, <i>W<sub>R</sub></i> represents said width parameter and <i>D<sub>i</sub></i>, <i>D<sub>j</sub></i> represents an interchamber delay for electrode <i>i</i>, <i>j</i> of said <i>N</i> electrodes (32, 34, 36).</claim-text></claim><claim id="c-en-01-0004" num="0004"><claim-text>The system according to any of the claims 1 to 3, wherein said electrode connector (110, 310) is connectable to two case electrodes (50, 52) provided on a housing of an implantable medical device (300) comprising said electrode connector (110, 310), said system (100) comprising:
<claim-text>an electrocardiogram processor (180, 380) configured to generate said electrocardiogram representing signal based on electric signals originating from said heart (15) and sensed by said two case electrodes (50, 52).</claim-text></claim-text></claim><claim id="c-en-01-0005" num="0005"><claim-text>The system according to any of the claims 1 to 4, wherein said pulse generator controller (130, 330) is configured to control said pulse generator (120, 125, 320, 325) to generate said pacing pulses to be applied to said first electrode (22) and said <i>N</i> electrodes (32, 34, 36) according to said defined scheme defining, for each electrode of said <i>N</i> electrodes (32, 34, 36), said maximum interchamber delay, said minimum interchamber delay and said intermediate interchamber delay equal to an average of said maximum interchamber delay and said minimum interchamber delay with regard to said timing of applying said pacing pulse to said first electrode (22).</claim-text></claim><claim id="c-en-01-0006" num="0006"><claim-text>The system according to any of the claims 1 to 5, further comprising:
<claim-text>a transceiver (190, 390) configured to receive a notification of said maximum interchamber delay and said minimum interchamber delay for each electrode of said <i>N</i> electrodes (32, 34, 36), wherein</claim-text>
<claim-text>said memory (170, 370) is configured to store said received notifications of said maximum interchamber delay and said minimum interchamber delay, and</claim-text>
<claim-text>said pulse generator controller (130, 330) is configured to retrieve said notifications of said maximum interchamber delay and said minimum interchamber delay from said memory (170, 370).</claim-text></claim-text></claim><claim id="c-en-01-0007" num="0007"><claim-text>The system according to claim 6, further comprising a time processor (185, 385) configured to determine a conduction time corresponding to a time from application of a pacing pulse at said first<!-- EPO <DP n="30"> --> electrode and up to a time when a depolarization pulse is sensed at an electrode of said N electrodes (32, 34, 36), wherein<br/>
said pulse generator controller (130, 330) is configured to determine said maximum interchamber delay for said electrode of said <i>N</i> electrodes (32, 34, 36) to be equal to the smallest of said conduction time subtracted by a defined time value and said received notification of said maximum interchamber delay.</claim-text></claim><claim id="c-en-01-0008" num="0008"><claim-text>The system according to any of the claims 1 to 7, wherein said pulse generator controller (130, 330) is configured to control said pulse generator (120, 125, 320, 325) to generate said pacing pulses according to each combination of <i>N</i> interchamber delays of said defined scheme during at least one respiratory cycle.</claim-text></claim><claim id="c-en-01-0009" num="0009"><claim-text>The system according to any of the claims 1 to 8, further comprising a transceiver (190, 390) configured to transmit a notification of said <i>N</i> candidate interchamber delays to a non-implantable data processing unit (200) and receive an implementation signal from said non-implantable data processing unit (200), wherein<br/>
said memory (170, 370) is configured to store said <i>N</i> candidate interchamber delays as said cardiac resynchronization therapy settings based on said implementation signal.</claim-text></claim><claim id="c-en-01-0010" num="0010"><claim-text>The system according to any of the claims 1 to 9, wherein said width processor (140, 340) is configured to determine a candidate width parameter value occurring in an electrocardiogram representing signal recorded for said heart (15) in response to said pulse generator controller (130, 330) controlling said pulse generator (120, 125, 320, 325) to generate said pacing pulses to be applied to said first electrode (22) and said <i>N</i> electrodes (32, 34, 36) based on said <i>N</i> candidate interchamber delays, said system (100) comprising:
<claim-text>a value comparator (145, 345) configured to compare said candidate width parameter value with width parameter values obtained in response to said pulse generator controller (130, 330) controlling said pulse generator (120, 125, 320, 325) to generate said pacing pulses to be applied to said first electrode (22) and said <i>N</i> electrodes (32, 34, 36) according to said defined scheme and generate a grant signal if said candidate width parameter value is smaller than said width parameter values, wherein</claim-text>
<claim-text>said memory (170, 370) is configured to store said <i>N</i> candidate interchamber delays as said cardiac resynchronization therapy settings based on said grant signal.</claim-text><!-- EPO <DP n="31"> --></claim-text></claim><claim id="c-en-01-0011" num="0011"><claim-text>The system according to any of the claims 1 to 10, wherein<br/>
said width processor (140, 340) is configured to determine a candidate width parameter value representative of a width of a resulting wave occurring in an electrocardiogram representing signal recorded for said heart (15) in response to said pulse generator controller (130, 330) controlling said pulse generator (120, 125, 320, 325) to generate said pacing pulses to be applied to said first electrode (22) and said <i>N</i> electrodes (32, 34, 36) based on said <i>N</i> candidate interchamber delays,<br/>
said pulse generator controller (130, 330) is configured to control said pulse generator (120, 125, 320, 325) to generate said pacing pulses to be applied to said first electrode (22) and said <i>N</i> electrodes (32, 34, 36) based on a candidate interchamber delay of said <i>N</i> candidate interchamber delays modified with a delta delay,<br/>
said width processor (140, 340) is configured to determine an updated width parameter value representative of a width of a resulting R wave, if said first and second chambers are first and second ventricles, or of a resulting P wave, if said first and second chambers are first and second atriums, occurring in an electrocardiogram representing signal recorded for said heart (15) in response to said pulse generator controller (130, 330) controlling said pulse generator (120, 125, 320, 325) to generate said pacing pulses to be applied to said electrode (22) and said <i>N</i> electrodes (32, 34, 36) based on said candidate interchamber delay modified with said delta delay, and<br/>
said memory (170, 370) is configured to update said cardiac resynchronization therapy settings based on said candidate interchamber delay modified with said delta delay if said updated width parameter value is smaller than said candidate width parameter value.</claim-text></claim><claim id="c-en-01-0012" num="0012"><claim-text>The system according to any of the claims 1 to 11, wherein<br/>
said electrode connector (110, 310) is connectable to a first ventricular lead (20) comprising a first ventricular electrode (22) and configured to be arranged in a first ventricle of said heart (15) and a second ventricular lead (30) comprising <i>N</i> ventricular electrodes (32, 34, 36) and configured to be arranged in a second ventricle of said heart (15);<br/>
said pulse generator (120, 125, 320, 325) is a ventricular pulse generator (120, 320) configured to generate pacing pulses to be applied to said first ventricular electrode (22) and said <i>N</i> ventricular electrodes (32, 34, 36);<br/>
said pulse generator controller (130, 330) is configured to control said ventricular pulse generator (120, 320) to generate said pacing pulses to be applied to said first ventricular electrode (22) and said <i>N</i> ventricular electrodes (32, 34, 36) according to a defined scheme of interventricular delays defining, for each ventricular electrode of said <i>N</i> ventricular electrodes (32, 34, 36), a maximum<!-- EPO <DP n="32"> --> interventricular delay, a minimum interventricular delay and an intermediate interventricular delay with regard to the timing of applying a pacing pulse to said first ventricular electrode (22);<br/>
said width processor (140, 340) is configured to determine, for each combination of <i>N</i> interventricular delays of said defined scheme, an R width parameter value representative of a width of a resulting R wave occurring in an electrocardiogram representing signal recorded for said heart (15);<br/>
said model processor (150, 350) is configured to estimate, based on said R width parameter values, said <i>n<sup>th</sup></i> order parametric model defining said R width parameter as a function of a respective interventricular delay for each ventricular electrode of said <i>N</i> ventricular electrodes (32, 34, 36), <i>n</i> ≥ 2 ;<br/>
said delay processor (160, 360) is configured to determine, based on said <i>n<sup>th</sup></i> order parametric model and for each ventricular electrode of said <i>N</i> ventricular electrodes (32, 34, 36), a candidate interventricular delay that minimizes said R width parameter; and<br/>
said memory (170, 370) is configured to store cardiac resynchronization settings obtained based on said <i>N</i> candidate interventricular delays.</claim-text></claim><claim id="c-en-01-0013" num="0013"><claim-text>The system according to claim 12, wherein said electrode connector (110, 310) is connectable to an atrial electrode (42) configured to be arranged in or in connection with an atrium of said heart (15), said system (100) comprising:
<claim-text>an atrial pulse generator (125, 325) connected to said electrode connector (110, 310) and configured to generate pacing pulses to be applied to said atrial electrode (42), wherein</claim-text>
<claim-text>said pulse generator controller (130, 330) is connected to said atrial pulse generator (125, 325) and configured to control said atrial pulse generator (125, 325) to generate pacing pulses to be applied to said atrial electrode (42) and control said ventricular pulse generator (120, 320) to generate said pacing pulses to be applied to said first ventricular electrode (22) and said <i>N</i> ventricular electrodes (32, 34, 36) according to said defined scheme after expiry of a defined atrioventricular delay with regard to the timing of applying a pacing pulse to said atrial electrode (42), said defined atrioventricular delay being smaller than an average intrinsic atrioventricular conduction time of said heart (15).</claim-text></claim-text></claim><claim id="c-en-01-0014" num="0014"><claim-text>The system according to claim 12 or 13, wherein<br/>
said electrode connector (110, 310) is connectable to a first atrial electrode (42) configured to be arranged in or in connection with a first atrium of said heart (15) and <i>M</i> ≥ 1 atrial electrodes (38) configured to be arranged in or in connection with a second atrium of said heart (15), said system (100) comprising:<!-- EPO <DP n="33"> -->
<claim-text>an atrial pulse generator (125, 325) connected to said electrode connector (110, 310) and configured to generate pacing pulses to be applied to said first atrial electrode (42) and said <i>M</i> atrial electrodes (38), wherein</claim-text>
<claim-text>said pulse generator controller (130, 330) is connected to said atrial pulse generator (125, 325) and configured to control said atrial pulse generator (125, 325) to generate said pacing pulses to be applied to said first atrial electrode (42) and said <i>M</i> atrial electrodes (38) according to a defined scheme of interatrial delays defining, for each atrial electrode of said <i>M</i> atrial electrodes (38), a maximum interatrial delay, a minimum interatrial delay and an intermediate interatrial delay with regard to the timing of applying a pacing pulse to said first atrial electrode (42),</claim-text>
<claim-text>said width processor (140, 340) is configured to determine, for each combination of <i>M</i> interatrial delays of said defined scheme, a P width parameter value representative of a width of a resulting P wave occurring in an electrocardiogram representing signal recorded for said heart (15),</claim-text>
<claim-text>said model processor (150, 350) is configured to estimate, based on said P width parameter values, an <i>n<sup>th</sup></i> order parametric model defining said P width parameter as a function of a respective interatrial delay for each atrial electrode of said <i>M</i> atrial electrodes (38), <i>n</i> ≥ 2,</claim-text>
<claim-text>said delay processor (160, 360) is configured to determine, based on said <i>n<sup>th</sup></i> order parametric model and for each atrial electrode of said <i>M</i> atrial electrodes (38), a candidate interatrial delay that minimizes said P width parameter, and</claim-text>
<claim-text>said memory (170, 370) is configured to update said cardiac resynchronization therapy settings based on said <i>M</i> candidate interatrial delays.</claim-text></claim-text></claim><claim id="c-en-01-0015" num="0015"><claim-text>The system according to claim 14, wherein said electrode connector (110, 310) is configured to be connected to a right ventricular lead (20) comprising said first ventricular electrode (22), a right atrial lead (40) comprising said first atrial electrode (42) and a left ventricular lead (30) comprising said <i>N</i> ventricular electrodes (32, 34, 36) and said <i>M</i> atrial electrodes (38).</claim-text></claim><claim id="c-en-01-0016" num="0016"><claim-text>The system according to any of the claims 1 to 15, wherein said system (100) comprises:
<claim-text>an implantable medical device (300) comprising said electrode connector (310), said pulse generator (320, 325), said pulse generator controller (330), said memory (370) and a transceiver (390) configured to receive a notification of said candidate interchamber delays; and</claim-text>
<claim-text>a non-implantable data processing unit (200) comprising said width processor (140), said model processor (150), said delay processor (160) and a transceiver (210) configured to transmit said notification of said candidate interchamber delays.</claim-text><!-- EPO <DP n="34"> --></claim-text></claim><claim id="c-en-01-0017" num="0017"><claim-text>The system according to any of the claims 1 to 15, wherein said system (100) comprises:
<claim-text>an implantable medical device (300) comprising said electrode connector (310), said pulse generator (320, 325), said pulse generator controller (330), said width processor (340), said memory (370) and a transceiver (390) configured to transmit said width parameter values and receive a notification of said candidate interchamber delays; and</claim-text>
<claim-text>a non-implantable data processing unit (200) comprising said model processor (150), said delay processor (160) and a transceiver (210) configured to receive said width parameter values and transmit said notification of said candidate interchamber delays.</claim-text></claim-text></claim><claim id="c-en-01-0018" num="0018"><claim-text>The system according to any of the claims 1 to 15, wherein said system (100) comprises an implantable medical device (300) comprising said electrode connector (310), said pulse generator (320, 325), said pulse generator controller (330), said width processor (340), said model processor (350), said delay processor (360) and said memory (370).</claim-text></claim></claims><claims mxw-id="PCLM56977741" lang="FR" load-source="patent-office"><!-- EPO <DP n="45"> --><claim id="c-fr-01-0001" num="0001"><claim-text>Système (100) de détermination de paramètres de thérapie de resynchronisation cardiaque comprenant :
<claim-text>un connecteur d'électrodes (110, 310) pouvant être connecté à une première électrode (22) configurée pour être agencée dans ou en liaison avec une première cavité d'un coeur (15) d'un sujet (10) et <i>N</i> ≥ 2 électrodes (32, 34, 36) configurées pour être agencées dans ou en liaison avec une seconde cavité dudit coeur (15) ; et</claim-text>
<claim-text>un générateur d'impulsions (120, 125, 320, 325) connecté audit connecteur d'électrodes (110, 310) et configuré pour générer des impulsions de stimulation destinées à être appliquées à ladite première électrode (22) et auxdites <i>N</i> électrodes (32, 34, 36), <b>caractérisé par</b> :
<claim-text>une commande de générateur d'impulsions (130, 330) connectée audit générateur d'impulsions (120, 125, 320, 325) et configurée pour commander ledit générateur d'impulsions (120, 125, 320, 325) de façon à ce qu'il génère lesdites impulsions de stimulation destinées à être appliquées à ladite première électrode (22) et auxdites <i>N</i> électrodes (32, 34, 36) selon un plan défini de délais intercavitaires définissant, pour chaque électrode desdites <i>N</i> électrodes (32, 34, 36), un délai intercavitaire maximal, un délai intercavitaire minimal et un délai intercavitaire intermédiaire en ce qui concerne le moment d'application d'une impulsion de stimulation à ladite première électrode (22) ;</claim-text>
<claim-text>un processeur de largeur (140, 340) configuré pour déterminer, pour chaque combinaison de <i>N</i> délais intercavitaires dudit plan défini, une valeur de paramètre de largeur représentant une largeur d'une onde R résultante, si lesdites première et seconde cavités sont un premier et un second ventricule, ou d'une onde P résultante, si lesdites première et seconde cavités sont une première et une seconde oreillette, apparaissant dans un signal représentant un électrocardiogramme enregistré pour ledit coeur (15) ;</claim-text>
<claim-text>un processeur de modèle (150, 350) configuré pour estimer, sur la base desdites valeurs de paramètre de largeur, un modèle paramétrique de <i>n<sup>ième</sup></i> ordre<!-- EPO <DP n="46"> --> définissant ledit paramètre de largeur comme fonction d'un délai intercavitaire respectif pour chaque électrode desdites <i>N</i> électrodes (32, 34, 36), où <i>n</i> ≥ 2 ;</claim-text>
<claim-text>un processeur de délai (160, 360) configuré pour déterminer, sur la base dudit modèle paramétrique de <i>n<sup>ième</sup></i> ordre et pour chaque électrode desdites <i>N</i> électrodes (32, 34, 36), un délai intercavitaire candidat qui minimise ledit paramètre de largeur ; et</claim-text>
<claim-text>une mémoire (170, 370) configurée pour stocker des paramètres de resynchronisation cardiaque obtenus sur la base desdits <i>N</i> délais intercavitaires candidats.</claim-text></claim-text></claim-text></claim><claim id="c-fr-01-0002" num="0002"><claim-text>Système selon la revendication 1, dans lequel ladite commande de générateur d'impulsions (130, 330) est configurée pour commander ledit générateur d'impulsions (120, 125, 320, 325) de façon à ce qu'il génère lesdites impulsions de stimulation destinées à être appliquées à ladite première électrode (22) et auxdites <i>N</i> électrodes (32, 34, 36) sur la base desdits <i>N</i> délais intercavitaires candidats en guise desdits paramètres de thérapie de resynchronisation cardiaque.</claim-text></claim><claim id="c-fr-01-0003" num="0003"><claim-text>Système selon la revendication 1 ou 2, dans lequel <i>n</i> = 2 et ledit processeur de modèle (150, 350) est configuré pour estimer, sur la base desdites valeurs de paramètre de largeur, un modèle paramétrique du second degré <maths id="math0004" num=""><math display="inline"><msub><mi>W</mi><mi>R</mi></msub><mo>=</mo><mi>a</mi><mo>+</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover></mstyle><msub><mi>b</mi><mi>i</mi></msub><mo>⁢</mo><msub><mi>D</mi><mi>i</mi></msub><mo>+</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover></mstyle><msub><mi>c</mi><mi>i</mi></msub><mo>⁢</mo><msubsup><mi>D</mi><mi>i</mi><mn>2</mn></msubsup><mo>+</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow><mi>N</mi><mo>-</mo><mn>1</mn></mrow></munderover></mstyle><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mi>i</mi><mo>+</mo><mn>1</mn></mrow><mi>N</mi></munderover></mstyle><msub><mi>e</mi><mi mathvariant="italic">ij</mi></msub><mo>⁢</mo><msub><mi>D</mi><mi>i</mi></msub><mo>⁢</mo><msub><mi>D</mi><mi>j</mi></msub></math><img id="ib0004" file="imgb0004.tif" wi="58" he="13" img-content="math" img-format="tif" inline="yes"/></maths>en estimant les coefficients <i>a</i>, <i>b<sub>i</sub></i>, <i>c<sub>i</sub></i>, <i>e<sub>ij</sub></i> dudit modèle paramétrique de second degré, <i>W<sub>R</sub></i> représentant ledit paramètre de largeur et <i>D<sub>i</sub></i>, <i>D<sub>j</sub></i> représentant un délai intercavitaire pour l'électrode <i>i,j</i> desdites <i>N</i> électrodes (32, 34, 36).</claim-text></claim><claim id="c-fr-01-0004" num="0004"><claim-text>Système selon l'une quelconque des revendications 1 à 3, dans lequel ledit connecteur d'électrodes (110, 310) peut être connecté à deux électrodes sur boîtier (50, 52) placées sur un boîtier d'un dispositif médical implantable (300) comprenant ledit connecteur d'électrodes (110, 310), ledit système (100) comprenant :<!-- EPO <DP n="47"> -->
<claim-text>un processeur d'électrocardiogramme (180, 380) configuré pour générer ledit signal représentant un électrocardiogramme sur la base de signaux électriques provenant dudit coeur (15) et détectés par lesdites deux électrodes sur boîtier (50, 52).</claim-text></claim-text></claim><claim id="c-fr-01-0005" num="0005"><claim-text>Système selon l'une quelconque des revendications 1 à 4, dans lequel ladite commande de générateur d'impulsions (130, 330) est configurée pour commander ledit générateur d'impulsions (120, 125, 320, 325) de façon à ce qu'il génère lesdites impulsions de stimulation destinées à être appliquées à ladite première électrode (22) et auxdites <i>N</i> électrodes (32, 34, 36) selon ledit plan défini définissant, pour chaque électrode desdites <i>N</i> électrodes (32, 34, 36), ledit délai intercavitaire maximal, ledit délai intercavitaire minimal et ledit délai intercavitaire intermédiaire égal à une moyenne dudit délai intercavitaire maximal et dudit délai intercavitaire minimal en ce qui concerne ledit moment d'application de ladite impulsion de stimulation à ladite première électrode (22).</claim-text></claim><claim id="c-fr-01-0006" num="0006"><claim-text>Système selon l'une des revendications 1 à 5, comprenant en outre :
<claim-text>un émetteur-récepteur (190, 390) configuré pour recevoir une notification dudit délai intercavitaire maximal et dudit délai intercavitaire minimal pour chaque électrode desdites <i>N</i> électrodes (32, 34, 36), dans lequel</claim-text>
<claim-text>ladite mémoire (170, 370) est configurée pour stocker lesdites notifications reçues dudit délai intercavitaire maximal et dudit délai intercavitaire minimal, et</claim-text>
<claim-text>ladite commande de générateur d'impulsions (130, 330) est configurée pour extraire lesdites notifications dudit délai intercavitaire maximal et dudit délai intercavitaire minimal de ladite mémoire (170, 370).</claim-text></claim-text></claim><claim id="c-fr-01-0007" num="0007"><claim-text>Système selon la revendication 6, comprenant en outre un processeur de temps (185, 385) configuré pour déterminer un temps de conduction correspondant à un temps entre l'application d'une impulsion de stimulation à ladite première électrode et un temps auquel une impulsion de dépolarisation est détectée sur une électrode desdites <i>N</i> électrodes (32, 34, 36), dans lequel<br/>
ladite commande de générateur d'impulsions (130, 330) est configurée pour déterminer ledit délai intercavitaire maximal pour ladite électrode desdites <i>N</i><!-- EPO <DP n="48"> --> électrodes (32, 34, 36) comme étant égal au plus faible entre ledit temps de conduction auquel est soustrait une valeur de temps définie et ladite notification reçue dudit délai intercavitaire maximal.</claim-text></claim><claim id="c-fr-01-0008" num="0008"><claim-text>Système selon l'une quelconque des revendications 1 à 7, dans lequel ladite commande de générateur d'impulsions (130, 330) est configurée pour commander ledit générateur d'impulsions (120, 125, 320, 325) de façon à ce qu'il génère lesdites impulsions de stimulation selon chaque combinaison de <i>N</i> délais intercavitaires dudit plan défini pendant au moins un cycle respiratoire.</claim-text></claim><claim id="c-fr-01-0009" num="0009"><claim-text>Système selon l'une quelconque des revendications 1 à 8, comprenant en outre un émetteur-récepteur (190, 390) configuré pour transmettre une notification desdits <i>N</i> délais intercavitaires candidats à une unité de traitement de données non implantable (200) et recevoir un signal de mise en oeuvre de ladite unité de traitement de données non implantable (200), dans lequel<br/>
ladite mémoire (170, 370) est configurée pour stocker lesdits <i>N</i> délais intercavitaires candidats en tant que lesdits paramètres de thérapie de resynchronisation cardiaque sur la base dudit signal de mise en oeuvre.</claim-text></claim><claim id="c-fr-01-0010" num="0010"><claim-text>Système selon l'une quelconque des revendications 1 à 9, dans lequel ledit processeur de largeur (140, 340) est configuré pour déterminer une valeur de paramètre de largeur candidate apparaissant dans un signal représentant un électrocardiogramme enregistré pour ledit coeur (15) en réaction au fait que ladite commande de générateur d'impulsions (130, 330) commande ledit générateur d'impulsions (120, 125, 320, 325) de façon à ce qu'il génère lesdites impulsions de stimulation destinées à être appliquées à ladite première électrode (22) et auxdites <i>N</i> électrodes (32, 34, 36) sur la base desdits <i>N</i> délais intercavitaires candidats, ledit système (100) comprenant :
<claim-text>un comparateur de valeurs (145, 345) configuré pour comparer ladite valeur de paramètre de largeur candidate et des valeurs de paramètre de largeur obtenues en réaction au fait que ladite commande de générateur d'impulsions (130, 330) commande ledit générateur d'impulsions (120, 125, 320, 325) de façon à ce qu'il génère lesdites impulsions de stimulation destinées à être appliquées à ladite première électrode (22) et auxdites <i>N</i> électrodes (32, 34, 36) selon ledit plan<!-- EPO <DP n="49"> --> défini et générer un signal d'autorisation si ladite valeur de paramètre de largeur candidate est inférieure auxdites valeurs de paramètre de largeur, dans lequel</claim-text>
<claim-text>ladite mémoire (170, 370) est configurée pour stocker lesdits <i>N</i> délais intercavitaires candidats en tant que lesdits paramètres de thérapie de resynchronisation cardiaque sur la base dudit signal d'autorisation.</claim-text></claim-text></claim><claim id="c-fr-01-0011" num="0011"><claim-text>Système selon l'une des revendications 1 à 10, dans lequel<br/>
ledit processeur de largeur (140, 340) est configuré pour déterminer une valeur de paramètre de largeur candidate représentant une largeur d'une onde résultante apparaissant dans un signal représentant un électrocardiogramme enregistré pour ledit coeur (15) en réaction au fait que ladite commande de générateur d'impulsions (130, 330) commande ledit générateur d'impulsions (120, 125, 320, 325) de façon à ce qu'il génère lesdites impulsions de stimulation destinées à être appliquées à ladite première électrode (22) et auxdites <i>N</i> électrodes (32, 34, 36) sur la base desdits <i>N</i> délais intercavitaires candidats,<br/>
ladite commande de générateur d'impulsions (130, 330) est configurée pour commander ledit générateur d'impulsions (120, 125, 320, 325) de façon à ce qu'il génère lesdites impulsions de stimulation destinées à être appliquées à ladite première électrode (22) et auxdites <i>N</i> électrodes (32, 34, 36) sur la base d'un délai intercavitaire candidat desdits <i>N</i> délais intercavitaires candidats modifié d'un délai delta,<br/>
ledit processeur de largeur (140, 340) est configuré pour déterminer une valeur de paramètre de largeur actualisée représentant une largeur d'une onde R résultante, si lesdites première et seconde cavités sont un premier et un second ventricule, ou d'une onde P résultante, si lesdites première et seconde cavités sont une première et une seconde oreillette, apparaissant dans un signal représentant un électrocardiogramme enregistré pour ledit coeur (15) en réaction au fait que ladite commande de générateur d'impulsions (130, 330) commande ledit générateur d'impulsions (120, 125, 320, 325) de manière à ce qu'il génère lesdites impulsions de stimulation destinées à être appliquées à ladite électrode (22) et auxdites <i>N</i> électrodes (32, 34, 36) sur la base dudit délai intercavitaire candidat modifié dudit délai delta, et<br/>
<!-- EPO <DP n="50"> -->ladite mémoire (170, 370) est configurée pour actualiser lesdits paramètres de thérapie de resynchronisation cardiaque sur la base dudit délai intercavitaire candidat modifié dudit délai delta si ladite valeur de paramètre de largeur actualisée est inférieure à ladite valeur de paramètre de largeur candidate.</claim-text></claim><claim id="c-fr-01-0012" num="0012"><claim-text>Système selon l'une des revendications 1 à 11, dans lequel<br/>
ledit connecteur d'électrodes (110, 310) peut être connecté à une première dérivation ventriculaire (20) comprenant une première électrode ventriculaire (22) et configurée pour être agencée dans un premier ventricule dudit coeur (15) et à une seconde dérivation ventriculaire (30) comprenant <i>N</i> électrodes ventriculaires (32, 34, 36) et configurée pour être agencée dans un second ventricule dudit coeur (15) ;<br/>
ledit générateur d'impulsions (120, 125, 320, 325) est un générateur d'impulsions ventriculaires (120, 320) configuré pour générer des impulsions de stimulation destinées à être appliquées à ladite première électrode ventriculaire (22) et auxdites <i>N</i> électrodes ventriculaires (32, 34, 36) ;<br/>
ladite commande de générateur d'impulsions (130, 330) est configurée pour commander ledit générateur d'impulsions ventriculaires (120, 320) de façon à ce qu'il génère lesdites impulsions de stimulation destinées à être appliquées à ladite première électrode ventriculaire (22) et auxdites <i>N</i> électrodes ventriculaires (32, 34, 36) selon un plan défini de délais interventriculaires définissant, pour chaque électrode ventriculaire desdites <i>N</i> électrodes ventriculaires (32, 34, 36), un délai interventriculaire maximal, un délai interventriculaire minimal et un délai interventriculaire intermédiaire en ce qui concerne le moment d'application d'une impulsion de stimulation à ladite première électrode ventriculaire (22) ;<br/>
ledit processeur de largeur (140, 340) est configuré pour déterminer, pour chaque combinaison de <i>N</i> délais interventriculaires dudit plan défini, une valeur de paramètre de largeur R représentant une largeur d'une onde R résultante apparaissant dans un signal représentant un électrocardiogramme enregistré pour ledit coeur (15) ;<br/>
<!-- EPO <DP n="51"> -->ledit processeur de modèle (150, 350) est configuré pour estimer, sur la base desdites valeurs de paramètre de largeur R, ledit modèle paramétrique de <i>n<sup>ième</sup></i> ordre définissant ledit paramètre de largeur R comme fonction d'un délai interventriculaire respectif pour chaque électrode ventriculaire desdites <i>N</i> électrodes ventriculaires (32, 34, 36), où <i>n</i> ≥ 2 ;<br/>
ledit processeur de délai (160, 360) est configuré pour déterminer, sur la base dudit modèle paramétrique de <i>n<sup>ième</sup></i> ordre et pour chaque électrode ventriculaire desdites <i>N</i> électrodes ventriculaires (32, 34, 36), un délai interventriculaire candidat qui minimise ledit paramètre de largeur R ; et<br/>
ladite mémoire (170, 370) est configurée pour stocker des paramètres de resynchronisation cardiaque obtenus sur la base desdits <i>N</i> délais interventriculaires candidats.</claim-text></claim><claim id="c-fr-01-0013" num="0013"><claim-text>Système selon la revendication 12, dans lequel ledit connecteur d'électrodes (110, 310) peut être connecté à une électrode auriculaire (42) configurée pour être agencée dans ou en liaison avec une oreillette dudit coeur (15), ledit système (100) comprenant :
<claim-text>un générateur d'impulsions auriculaires (125, 325) connecté audit connecteur d'électrodes (110, 310) et configuré pour générer des impulsions de stimulation destinées à être appliquées à ladite électrode auriculaire (42), dans lequel</claim-text>
<claim-text>ladite commande de générateur d'impulsions (130, 330) est connectée audit générateur d'impulsions auriculaires (125, 325) et configurée pour commander ledit générateur d'impulsions auriculaires (125, 325) de façon à ce qu'il génère des impulsions de stimulation destinées à être appliquées à ladite électrode auriculaire (42) et commander ledit générateur d'impulsions ventriculaires (120, 320) de façon à ce qu'il génère lesdites impulsions de stimulation destinées à être appliquées à ladite première électrode ventriculaire (22) et auxdites <i>N</i> électrodes ventriculaires (32, 34, 36) selon ledit plan défini après l'expiration d'un délai auriculo-ventriculaire défini en ce qui concerne le moment d'application d'une impulsion de stimulation à ladite électrode auriculaire<!-- EPO <DP n="52"> --> (42), ledit délai auriculo-ventriculaire défini étant inférieur à un temps de conduction auriculo-ventriculaire intrinsèque moyen dudit coeur (15).</claim-text></claim-text></claim><claim id="c-fr-01-0014" num="0014"><claim-text>Système selon la revendication 12 ou 13, dans lequel<br/>
ledit connecteur d'électrodes (110, 310) peut être connecté à une première électrode auriculaire (42) configurée pour être agencée dans ou en liaison avec une première oreillette dudit coeur (15) et <i>M</i> ≥ <i>1</i> électrodes auriculaires (38) configurées pour être agencées dans ou en liaison avec une seconde oreillette dudit coeur (15), ledit système (100) comprenant :
<claim-text>un générateur d'impulsions auriculaires (125, 325) connecté audit connecteur d'électrodes (110, 310) et configuré pour générer des impulsions de stimulation destinées à être appliquées à ladite première électrode auriculaire (42) et auxdites <i>M</i> électrodes auriculaires (38), dans lequel</claim-text>
<claim-text>ladite commande de générateur d'impulsions (130, 330) est connectée audit générateur d'impulsions auriculaires (125, 325) et configurée pour commander ledit générateur d'impulsions auriculaires (125, 325) de façon à ce qu'il génère lesdites impulsions de stimulation destinées à être appliquées à ladite première électrode auriculaire (42) et auxdites <i>M</i> électrodes auriculaires (38) selon un plan défini de délais interauriculaires définissant, pour chaque électrode auriculaire desdites <i>M</i> électrodes auriculaires (38), un délai interauriculaire maximal, un délai interauriculaire minimal et un délai interauriculaire intermédiaire en ce qui concerne le moment d'application d'une impulsion de stimulation à ladite première électrode auriculaire (42),</claim-text>
<claim-text>ledit processeur de largeur (140, 340) est configuré pour déterminer, pour chaque combinaison de <i>M</i> délais interauriculaires dudit plan défini, une valeur de paramètre de largeur P représentant une largeur d'une onde P résultante apparaissant dans un signal représentant un électrocardiogramme enregistré pour ledit coeur (15),</claim-text>
<claim-text>ledit processeur de modèle (150, 350) est configuré pour estimer, sur la base desdites valeurs de paramètre de largeur P, un modèle paramétrique de <i>n<sup>ième</sup></i> ordre définissant ledit paramètre de largeur P comme fonction d'un délai<!-- EPO <DP n="53"> --> interauriculaire respectif pour chaque électrode auriculaire desdites <i>M</i> électrodes auriculaires (38), où <i>n</i> ≥ <i>2</i>,</claim-text>
<claim-text>ledit processeur de délai (160, 360) est configuré pour déterminer, sur la base dudit modèle paramétrique de <i>n<sup>ième</sup></i> ordre et pour chaque électrode auriculaire desdites <i>M</i> électrodes auriculaires (38), un délai interauriculaire candidat qui minimise ledit paramètre de largeur P, et</claim-text>
<claim-text>ladite mémoire (170, 370) est configurée pour actualiser lesdits paramètres de thérapie de resynchronisation cardiaque sur la base desdits <i>M</i> délais interauriculaires candidats.</claim-text></claim-text></claim><claim id="c-fr-01-0015" num="0015"><claim-text>Système selon la revendication 14, dans lequel ledit connecteur d'électrodes (110, 310) est configuré pour être connecté à une dérivation ventriculaire droite (20) comprenant ladite première électrode ventriculaire (22), une dérivation auriculaire droite (40) comprenant ladite première électrode auriculaire (42) et une dérivation ventriculaire gauche (30) comprenant lesdites <i>N</i> électrodes ventriculaires (32, 34, 36) et lesdites <i>M</i> électrodes auriculaires (38).</claim-text></claim><claim id="c-fr-01-0016" num="0016"><claim-text>Système selon l'une quelconque des revendications 1 à 15, dans lequel ledit système (100) comprend :
<claim-text>un dispositif médical implantable (300) comprenant ledit connecteur d'électrodes (310), ledit générateur d'impulsions (320, 325), ladite commande de générateur d'impulsions (330), ladite mémoire (370) et un émetteur-récepteur (390) configuré pour recevoir une notification desdits délais intercavitaires candidats ; et</claim-text>
<claim-text>une unité de traitement de données non implantable (200) comprenant ledit processeur de largeur (140), ledit processeur de modèle (150), ledit processeur de délai (160) et un émetteur-récepteur (210) configuré pour transmettre ladite notification desdits délais intercavitaires candidats.</claim-text></claim-text></claim><claim id="c-fr-01-0017" num="0017"><claim-text>Système selon l'une quelconque des revendications 1 à 15, dans lequel ledit système (100) comprend :<!-- EPO <DP n="54"> -->
<claim-text>un dispositif médical implantable (300) comprenant ledit connecteur d'électrodes (310), ledit générateur d'impulsions (320, 325), ladite commande de générateur d'impulsions (330), ledit processeur de largeur (340), ladite mémoire (370) et un émetteur-récepteur (390) configuré pour transmettre lesdites valeurs de paramètre de largeur et recevoir une notification desdits délais intercavitaires candidats ; et</claim-text>
<claim-text>une unité de traitement de données non implantable (200) comprenant ledit processeur de modèle (150), ledit processeur de délai (160) et un émetteur-récepteur (210) configuré pour recevoir lesdites valeurs de paramètre de largeur et transmettre ladite notification desdits délais intercavitaires candidats.</claim-text></claim-text></claim><claim id="c-fr-01-0018" num="0018"><claim-text>Système selon l'une quelconque des revendications 1 à 15, dans lequel ledit système (100) comprend un dispositif médical implantable (300) comprenant ledit connecteur d'électrodes (310), ledit générateur d'impulsions (320, 325), ladite commande de générateur d'impulsions (330), ledit processeur de largeur (340), ledit processeur de modèle (350), ledit processeur de délai (360) et ladite mémoire (370).</claim-text></claim></claims><drawings mxw-id="PDW16668368" load-source="patent-office"><!-- EPO <DP n="55"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="139" he="230" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="56"> --><figure id="f0002" num="2,3"><img id="if0002" file="imgf0002.tif" wi="157" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="57"> --><figure id="f0003" num="4"><img id="if0003" file="imgf0003.tif" wi="161" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="58"> --><figure id="f0004" num="5,7"><img id="if0004" file="imgf0004.tif" wi="158" he="205" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="59"> --><figure id="f0005" num="6"><img id="if0005" file="imgf0005.tif" wi="155" he="213" img-content="drawing" img-format="tif"/></figure></drawings><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
