<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2541970-B1" country="EP" doc-number="2541970" kind="B1" date="20140101" family-id="44582751" file-reference-id="315070" date-produced="20180823" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146552706" ucid="EP-2541970-B1"><document-id><country>EP</country><doc-number>2541970</doc-number><kind>B1</kind><date>20140101</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-11305831-A" is-representative="YES"><document-id mxw-id="PAPP154826629" load-source="docdb" format="epo"><country>EP</country><doc-number>11305831</doc-number><kind>A</kind><date>20110629</date><lang>EN</lang></document-id><document-id mxw-id="PAPP207569808" load-source="docdb" format="original"><country>EP</country><doc-number>11305831.7</doc-number><date>20110629</date></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140451149" ucid="EP-11305831-A" load-source="docdb"><document-id format="epo"><country>EP</country><doc-number>11305831</doc-number><kind>A</kind><date>20110629</date></document-id></priority-claim></priority-claims><dates-of-public-availability><intention-to-grant-date><date>20130711</date></intention-to-grant-date></dates-of-public-availability><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1988105934" load-source="docdb">H04R   3/00        20060101AFI20111121BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1934610940" load-source="docdb" scheme="CPC">H04R   3/002       20130101 LA20160603BHEP        </classification-cpc><classification-cpc mxw-id="PCL2081239159" load-source="docdb" scheme="CPC">H04R   3/007       20130101 FI20140531BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132190602" lang="DE" load-source="patent-office">Vorfilterung zum Lautsprecherschutz</invention-title><invention-title mxw-id="PT132190603" lang="EN" load-source="patent-office">Pre-filtering for loudspeakers protection</invention-title><invention-title mxw-id="PT132190604" lang="FR" load-source="patent-office">Préfiltrage pour la protection de haut-parleurs</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR918139392" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>ST ERICSSON SA</last-name><address><country>CH</country></address></addressbook></applicant><applicant mxw-id="PPAR918146045" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>ST-ERICSSON SA</last-name></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR918160867" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>MARGUERY PHILIPPE</last-name><address><country>FR</country></address></addressbook></inventor><inventor mxw-id="PPAR918163653" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>MARGUERY, PHILIPPE</last-name></addressbook></inventor><inventor mxw-id="PPAR918995400" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>MARGUERY, PHILIPPE</last-name><address><street>15 rue Chamechaude</street><city>38320 Poisat</city><country>FR</country></address></addressbook></inventor><inventor mxw-id="PPAR918169288" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>NAGARI ANGELO</last-name><address><country>FR</country></address></addressbook></inventor><inventor mxw-id="PPAR918151002" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>NAGARI, ANGELO</last-name></addressbook></inventor><inventor mxw-id="PPAR918995398" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>NAGARI, ANGELO</last-name><address><street>12 Rue de la Poste</street><city>38000 Grenoble</city><country>FR</country></address></addressbook></inventor><inventor mxw-id="PPAR918134042" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>SIRITO-OLIVIER PHILIPPE</last-name><address><country>FR</country></address></addressbook></inventor><inventor mxw-id="PPAR918144239" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>SIRITO-OLIVIER, PHILIPPE</last-name></addressbook></inventor><inventor mxw-id="PPAR918995399" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>SIRITO-OLIVIER, PHILIPPE</last-name><address><street>Parc symphonie, 13 2bis rue de Bellevue</street><city>38120 Saint Egreve</city><country>FR</country></address></addressbook></inventor></inventors><assignees><assignee mxw-id="PPAR918995402" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>ST-Ericsson SA</last-name><iid>101105885</iid><address><street>Chemin du Champ-des-Filles 39</street><city>1228 Plan-les-Ouates</city><country>CH</country></address></addressbook></assignee></assignees><agents><agent mxw-id="PPAR918995401" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Cabinet Plasseraud</last-name><iid>100784233</iid><address><street>52, rue de la Victoire</street><city>75440 Paris Cedex 09</city><country>FR</country></address></addressbook></agent></agents></parties><international-convention-data><designated-states><ep-contracting-states><country mxw-id="DS548955330" load-source="docdb">AL</country><country mxw-id="DS548967302" load-source="docdb">AT</country><country mxw-id="DS548964893" load-source="docdb">BE</country><country mxw-id="DS548824524" load-source="docdb">BG</country><country mxw-id="DS548960424" load-source="docdb">CH</country><country mxw-id="DS548964894" load-source="docdb">CY</country><country mxw-id="DS548878722" load-source="docdb">CZ</country><country mxw-id="DS548955331" load-source="docdb">DE</country><country mxw-id="DS548964895" load-source="docdb">DK</country><country mxw-id="DS548964896" load-source="docdb">EE</country><country mxw-id="DS548955275" load-source="docdb">ES</country><country mxw-id="DS548824525" load-source="docdb">FI</country><country mxw-id="DS548824526" load-source="docdb">FR</country><country mxw-id="DS548955332" load-source="docdb">GB</country><country mxw-id="DS548964897" load-source="docdb">GR</country><country mxw-id="DS548955333" load-source="docdb">HR</country><country mxw-id="DS548878723" load-source="docdb">HU</country><country mxw-id="DS548960425" load-source="docdb">IE</country><country mxw-id="DS548964898" load-source="docdb">IS</country><country mxw-id="DS548824527" load-source="docdb">IT</country><country mxw-id="DS548964899" load-source="docdb">LI</country><country mxw-id="DS548824528" load-source="docdb">LT</country><country mxw-id="DS548967303" load-source="docdb">LU</country><country mxw-id="DS548824529" load-source="docdb">LV</country><country mxw-id="DS548824530" load-source="docdb">MC</country><country mxw-id="DS548967304" load-source="docdb">MK</country><country mxw-id="DS548967305" load-source="docdb">MT</country><country mxw-id="DS548964900" load-source="docdb">NL</country><country mxw-id="DS548955338" load-source="docdb">NO</country><country mxw-id="DS548964901" load-source="docdb">PL</country><country mxw-id="DS548824531" load-source="docdb">PT</country><country mxw-id="DS548878724" load-source="docdb">RO</country><country mxw-id="DS548824532" load-source="docdb">RS</country><country mxw-id="DS548964902" load-source="docdb">SE</country><country mxw-id="DS548960426" load-source="docdb">SI</country><country mxw-id="DS548955339" load-source="docdb">SK</country><country mxw-id="DS548955340" load-source="docdb">SM</country><country mxw-id="DS548967314" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data></bibliographic-data><description mxw-id="PDES63956905" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001"><b>TECHNICAL FIELD</b></heading><p id="p0001" num="0001">The present invention generally relates to protections of loudspeakers, especially in electro-dynamic applications for avoiding damages and destructions of the mechanical parts of the loudspeakers.</p><heading id="h0002"><b>BACKGROUND</b></heading><p id="p0002" num="0002">Inductive loudspeakers often include a coil arranged around a magnetic core which is mechanically coupled with a membrane. Sound is produced by membrane displacements caused by magnetic core motion through inductive coupling to the coil which is controlled by an electrical signal oscillating at given frequencies.</p><p id="p0003" num="0003">Loudspeakers converting thus an electrical signal into an acoustic signal can be endangered to malfunction or permanent destruction when they are solicited beyond their acceptable limits. If the electrical signal level is too high at specific frequencies, membrane displacement can be such that damage can occur, either by self-heating, mechanical constraint, or by demagnetization of the magnetic core. For instance, the coil of a<!-- EPO <DP n="2"> --> loudspeaker can hit the mechanical structures of the device or the mobile membrane can be torn if the constraints are too high.</p><p id="p0004" num="0004">In particular, these issues are very complex to solve for small inductive loudspeakers such as those in mobile devices such as mobiles or smart phones. Dimensions of those loudspeakers impact the heat dissipation and mechanical constraints.</p><p id="p0005" num="0005">Moreover, being a mechanical oscillator, the loudspeaker may have a resonant frequency which amplifies the amplitude of the control signal at said frequency.</p><p id="p0006" num="0006">In order to protect inductive loudspeakers against damages due to self-heating and excessive mechanical displacement of the membrane, non adaptive systems have been developed based on an <i>"a priori"</i> prediction of the frequency response of the inductive loudspeakers.</p><p id="p0007" num="0007"><patcit id="pcit0001" dnum="US4113983A"><text>US patents n°4113983</text></patcit>, <patcit id="pcit0002" dnum="US4327250A"><text>4327250 </text></patcit>and <patcit id="pcit0003" dnum="US5481617A"><text>5481617</text></patcit> propose to use variable cut-off frequency filters driven by a membrane displacement predictor. The filter parameters are set according to a prediction of the loudspeaker membrane displacement response over frequency. Parameters are predicted based on a static model of the loudspeaker which is defined once in the life of the product.</p><p id="p0008" num="0008"><patcit id="pcit0004" dnum="US5577126A"><text>US patent n °5577126</text></patcit> proposes to use attenuators. The output of the displacement predictor is fed-back into the input signal, according to a feedback parameter computed by a threshold calculator, this parameter being calculated once in the life of the product.</p><p id="p0009" num="0009">International patent application n° <patcit id="pcit0005" dnum="WO01003466A"><text>WO 01003466</text></patcit> proposes to use multifrequency band dynamic range controllers. The input signal is divided into N frequency bands by a bank of band-pass filters. The energy of each frequency band is controlled by a variable gain before being summed together and input to the loudspeaker. A processor monitors the signal level<!-- EPO <DP n="3"> --> in each frequency band and acts on parameters of each of the variable gain subsystems in order to limit the membrane displacement based on precalculated frequency response.</p><p id="p0010" num="0010">Other documents useful for understanding the present invention are the published patent documents: <patcit id="pcit0006" dnum="US20080212818A1"><text>US 2008/0212818 A1</text></patcit> and <patcit id="pcit0007" dnum="US20080030277A1"><text>US 2008/0030277 A1</text></patcit>.</p><p id="p0011" num="0011">Nevertheless, in case of variations of the loudspeaker transfer function over time, these solutions could not be able to adapt their parameters, as these parameters are calculated once in the life of the product. These variations may result from several factors: temperature, atmospheric pressure, ageing, humidity variations, etc. In contrast, an <i>"a priori"</i> based compensation can not track the real time loudspeaker response, and a compensation filter can not be able to avoid loudspeaker damages in certain conditions.</p><heading id="h0003"><b>SUMMARY</b></heading><p id="p0012" num="0012">A first aspect of the present invention thus relates to a method of protecting an inductive loudspeaker (108) arranged to consume a current of a given value during reproduction of an audio stream.</p><p id="p0013" num="0013">The method comprises:
<ol><li>a/ filtering (801) a first part of the audio stream by applying a compensation filter to said first part of the audio stream;</li><li>b/ inputting the filtered first part (OUT) of the audio stream to the inductive loudspeaker;</li><li>c/ computing (802) at least a first estimation of a impedance frequency response of the inductive loudspeaker based at least on:
<ul><li>a voltage across the loudspeaker during reproduction of the filtered first part; and</li><li>the value of the current consumed (RET) by the inductive loudspeaker during reproduction of the filtered first part;</li></ul></li><li>d/ updating (805) characteristics of the compensation filter so as to attenuate a resonant frequency in the first estimated impedance frequency response of the inductive loudspeaker.</li></ol></p><p id="p0014" num="0014">A part of an audio stream is a temporal subset of the audio stream. For instance, this subset can be an extract of 100 milliseconds of the audio<!-- EPO <DP n="4"> --><!-- EPO <DP n="5"> --> stream. In one other embodiment, the subset can be, for instance, an extract of 23 ms (corresponding to 1024 samples at 44.1 kHz): this can relax memory size keeping low constraints on real time processing</p><p id="p0015" num="0015">To "apply a compensation filter to the part of the audio stream" generally means that the frequencies of the part of the audio stream are filtered according to the compensation filter.</p><p id="p0016" num="0016">When it is stated that the filtered part of the audio stream is input to the inductive loudspeaker, it is to be construed that the inputting can be direct or indirect to the inductive loudspeaker. For instance, and as described in <figref idrefs="f0001">Figure 1</figref>, the filtered part can transit via a "digital to analog converter" and/or an amplifier before the inductive loudspeaker.</p><p id="p0017" num="0017">To "attenuate a resonant frequency in the estimated frequency response" means that the frequencies near the resonant frequency (or equal to this resonant frequency) is attenuated. For instance, the logarithm module of the filter can be substantially below "zero" for frequencies near the resonant frequency.</p><p id="p0018" num="0018">To "update characteristics of the compensation filter" consists, for instance, in replacing the first compensation filter (respectively its parameters) with a second compensation filter (respectively its parameters) or in merging the first compensation filter with information of the second compensation filter (for instance, result of this modification can be the average filter computed with the first and second compensation filter).</p><p id="p0019" num="0019">Hence, the updating of the compensation filter enables a feedback loop which can dynamically remove the resonant frequency of a loudspeaker. It ensures that the compensation filter evolves during time and life time of the loudspeaker (for instance due to heat or humidity) and avoiding any loudspeakers damages or deteriorations.<!-- EPO <DP n="6"> --></p><p id="p0020" num="0020">For instance, the updated characteristics of the compensation filter can define a band-stop filter adapted to attenuate the resonant frequency in the first estimated frequency response of the inductive loudspeaker.</p><p id="p0021" num="0021">Thus, the implementation (circuit implementation or programming implementation) can be simple as this type of filter is common in electronics and filter domain.</p><p id="p0022" num="0022">According to another embodiment, steps a/ to d/ can be repeated for a second part of the audio stream.</p><p id="p0023" num="0023">For instance, this second part of the audio stream is a temporal subset of the audio stream following the above mentioned part (in step a/). Thus, the method can be reapplied, in a loop, for all subsets of the audio stream.</p><p id="p0024" num="0024">Moreover, the compensation filter evolves while the reproducing of the audio stream and ensures a dynamic protection all over the reproduction of the audio.</p><p id="p0025" num="0025">According to another embodiment, compensation filter is updated at step d/ only if a second estimated response of the loudspeaker is lower than a threshold. The second estimated response can be, for instance, computed by applying the estimation of a frequency response of the inductive loudspeaker to a third part of the audio stream.</p><p id="p0026" num="0026">The threshold can be adjusted for a given loudspeaker. This threshold value can be fixed for a given type of loudspeaker and is not to be changed from one loudspeaker sample to another. It can be fixed before production on some phone during the tuning procedure.</p><p id="p0027" num="0027">The third part of the audio stream can be advantageously the second part mentioned above.</p><p id="p0028" num="0028">Consecutively, the compensation filter can be updated only if needed, i.e. only if the compensation performed by the previous compensation filter is<!-- EPO <DP n="7"> --> not sufficient. In particular, if the second estimated response is lower than the threshold, it can mean that the frequency response of the loudspeaker has not changed significantly and that there is no need to change the second compensation filter to a new one. The threshold can also avoid equalization if spectral density of the signal is low and thus if there is no risk to damage the loudspeaker. This can offer optimum audio rendering avoiding cutting some frequencies of the audio signal if it is not needed.</p><p id="p0029" num="0029">According to another embodiment, the value of the current consumed by the inductive loudspeaker during reproduction of the filtered part of the audio stream can be sensed by electronic circuit coupled to the inductive loudspeaker through a current mirror circuit.</p><p id="p0030" num="0030">Current mirror circuit is a circuit designed to copy a current through one active device. For instance, such circuit can be a "Wilson mirror" made with simple transistors.</p><p id="p0031" num="0031">Thus, there is no need to use an element in series with the loudspeaker (sense resistor) which can decrease the maximum electrical power expected in the load and thus the maximum sound pressure level.</p><p id="p0032" num="0032">A second aspect relates to a processing device, connected with a mixing signal unit comprising an inductive loudspeaker. The processing device includes:<!-- EPO <DP n="8"> -->
<ul><li>an input interface (112) configured to receive a part of an audio stream ;</li><li>an input interface (111) configured to receive a value of a current consumed by the inductive loudspeaker (108);</li><li>an output interface (110) configured to send a filtered part of an audio stream ;</li></ul>
the processing device (103) being configured to:
<ol><li>a/ filter (801) a first part of the audio stream by applying a compensation filter to said first part of the audio stream;</li><li>b/ input the filtered first part (OUT) of the audio stream to the inductive loudspeaker;</li><li>c/ compute (802) at least a first estimation of a impedance frequency response of the inductive loudspeaker based at least on:
<ul><li>a voltage across the loudspeaker during reproduction of the filtered first part ; and</li><li>the value of the current consumed (RET) by the inductive loudspeaker during reproduction of the filtered first part of the audio stream;</li></ul></li><li>d/ update (805) characteristics of the compensation filter so as to attenuate a resonant frequency in the first estimated impedance frequency response of the inductive loudspeaker.</li></ol><!-- EPO <DP n="9"> --></p><p id="p0033" num="0033">A third aspect relates to an electronic device comprising a processing device as mentioned above. An electronic apparatus can be for instance a mobile phone, a smart phone, a PDA (for "Personal Digital Assistant"), a touch pad, or a personal stereo.</p><p id="p0034" num="0034">A fourth aspect relates to a computer program product comprising a computer readable medium, having thereon a computer program comprising program instructions, the computer program being loadable into a data-processing unit and adapted to cause the data-processing unit to carry out the steps, when the computer program is run by the data-processing unit :
<ul><li>a/ filtering (801) a first part of the audio stream by applying a compensation filter to said first part of the audio stream;</li><li>b/ outputting the filtered first part (OUT) of the audio stream;</li><li>e/ receiving the value of the current consumed (RET) and a voltage across the loudspeaker during reproduction of the filtered first part;</li><li>c/ computing (802) at least a first estimation of a impedance frequency response based at least on:
<ul><li>the received voltage; and</li><li>the received value of the current;</li></ul></li><li>d/ updating (805) characteristics of the compensation filter so as to attenuate a resonant frequency in the first estimated impedance frequency response.</li></ul></p><heading id="h0004"><b>BRIEF DESCRIPTION OF THE DRAWINGS</b></heading><p id="p0035" num="0035">The present invention is illustrated by way of example, and not by way of limitation, in the figures of the accompanying drawings, in which like reference numerals refer to similar elements and in which:
<ul><li><figref idrefs="f0001">Figure 1</figref> is a possible data flow for filtering an audio stream in a processing unit and in a mixing signal unit;</li><li><figref idrefs="f0002">Figure 2</figref> shows chart examples of different frequency responses of an inductive loudspeaker upon temperature variations;</li><li><figref idrefs="f0003">Figures 3a and 3b</figref> present the module and the phase of a possible modelled frequency response for an inductive loudspeaker;</li><li><figref idrefs="f0004">Figures 4a and 4b</figref> present the module and the phase of a possible "adaptive loudspeaker protection" ("ALP") filter;<!-- EPO <DP n="10"> --><!-- EPO <DP n="11"> --></li><li><figref idrefs="f0005">Figures 5a and 5b</figref> present the module and the phase of a possible modelled frequency response for an inductive loudspeaker when the ALP filter is applied to the input audio stream;</li><li><figref idrefs="f0006">Figures 6a, 6b</figref> and <figref idrefs="f0007">6c</figref> present respectively the module of a possible frequency response of a loudspeaker when solicited with a white noise (ideal pattern for transfer function estimation), the module of the corresponding compensation filter and the module of the loudspeaker when solicited with a white noise filtered with the compensation filter;</li><li><figref idrefs="f0008">Figures 7a, 7b</figref> and <figref idrefs="f0009">7c</figref> present respectively the module of a possible frequency response of a loudspeaker when solicited with a jazz audio stream, the module of the corresponding compensation filter and the module of the loudspeaker when solicited with the jazz audio stream filtered with the compensation filter;</li><li><figref idrefs="f0010">Figure 8</figref> is an example of a flow chart illustrating steps of a process to filter dynamically an audio stream;</li><li><figref idrefs="f0010">Figure 9</figref> presents a module of a possible second order under-damped filter.</li></ul></p><heading id="h0005"><b>DESCRIPTION OF PREFERRED EMBODIMENTS</b></heading><p id="p0036" num="0036">In order to illustrate variations of the impedance frequency responses due to temperature, multiple impedance frequency responses are presented in <figref idrefs="f0002">Figure 2</figref>:
<ul><li>Chart 2p85 represents the impedance frequency response of an inductive loudspeaker for a temperature of 85°C;</li><li>Chart 2p50 represents the impedance frequency response of the same inductive loudspeaker for a temperature of 50 °C;</li><li>Chart 2p25 represents the impedance frequency response of the same inductive loudspeaker for a temperature of 25 °C;</li><li>Chart 2p00 represents the impedance frequency response of the same inductive loudspeaker for a temperature of 00°C;</li><li>Chart 2m30 represents the impedance frequency response of the same inductive loudspeaker for a temperature of -30 °C.</li></ul><!-- EPO <DP n="12"> --></p><p id="p0037" num="0037"><figref idrefs="f0001">Figure 1</figref> presents a control device for an inductive loudspeaker in order to avoid damages in a possible embodiment of the invention.</p><p id="p0038" num="0038">A processing unit 100 includes:
<ul><li>a non-volatile memory 102,</li><li>a cache memory 104,</li><li>a buffer memory 110,</li><li>a core processor 109, and</li><li>a digital signal processing 103 or DSP.</li></ul></p><p id="p0039" num="0039">When it is needed to reproduce a song or an audio file, the core processor 109 retrieves a compressed music file stored on the non-volatile memory 102 and performs the needed transcoding from compressed format to uncompressed one. After transcoding, the data is sent to the DSP 103 through a buffer memory 110 able to store some hundreds of milliseconds of uncompressed data.</p><p id="p0040" num="0040">The DSP 103 is able to perform digital filtering, Fourier transforms (FFT for instance) and Power Spectral Density algorithms (or PSD algorithms).</p><p id="p0041" num="0041">After data processing, the DSP 103 sends the data to the mixed signal block 101. This data (being in a digital format) is then converted in analog format by a DAC 105 (for <i>"Digital to Analog Converter</i>") before being amplified by an amplifier 107 and being transmitted to the inductive loudspeaker 108.</p><p id="p0042" num="0042">It has to be noted that, in the case of an inductive loudspeaker, the electrical impedance frequency response of the loudspeaker is very similar to the mechanical/acoustic impedance frequency response. These two impedance frequency response are coupled. Consecutively, by monitoring the current flowing inside the loudspeaker, it is possible to determine the acoustic impedance frequency response of the loudspeaker (and vice and versa). The processing unit 100 computes the membrane displacement frequency response through the electrical impedance frequency response.<!-- EPO <DP n="13"> --></p><p id="p0043" num="0043">It is to be noted that the monitoring of the current flowing inside the loudspeaker can be performed without using a sensor in series with the loudspeaker. Indeed, a sense resistor in series can decrease the maximum electrical power expected in the load and thus the maximum sound pressure level. This can be a weakness for mobile phone application since maximum acoustic loudness is a target for mobile phone manufacturers. Advantageously, the monitoring can be performed with a copy of the current with transistors laying (also known as "current mirrors").</p><p id="p0044" num="0044">The information drawn from this monitoring/sensing is sent to an ADC 106 (for "Analog to Digital Converter) that converts the analog measurement to a digital format to be sent back to the DSP 103 in the processing unit 100.</p><p id="p0045" num="0045">As the processing is performed on part of the stream (for instance, about ten milliseconds), there is no constraint on ADC 106 and DAC 105 latency, time realignment can be done before computation.</p><p id="p0046" num="0046">When the DSP 103 receives the measurement of the current, the DSP 103 processes it in regards with the previous sent signal(s) in order to determine the impedance frequency response of the loudspeaker.</p><p id="p0047" num="0047">This is achievable because both the instantaneous current and voltage across the loudspeaker are known, for instance:
<ul><li>instantaneous current is known by measurement performed onto the amplifier 107,</li><li>instantaneous voltage is known by converting the input signal in volt.</li></ul></p><p id="p0048" num="0048">The electrical impedance frequency response is computed inside the audio band (roughly from 20Hz to 20kHz). For instance, about ten millisecond of signal are analyzed, allowing having an accurate estimation of the impedance frequency response.<!-- EPO <DP n="14"> --></p><p id="p0049" num="0049">The electrical impedance transfer response LS (<i>f</i>) is computed by the ratio between the <i>"voltage power spectral density" P<sub>v,v</sub></i>(<i>f</i>) over the <i>"voltage</i>/<i>current cross power spectral density" P<sub>i,v</sub></i> (<i>f</i>), i.e. <maths id="math0001" num=""><math display="inline"><mi mathvariant="italic">LS</mi><mfenced><mi>f</mi></mfenced><mo>=</mo><mfrac><mrow><msub><mi>P</mi><mrow><mi>v</mi><mo>,</mo><mi>v</mi></mrow></msub><mfenced><mi>f</mi></mfenced></mrow><mrow><msub><mi>P</mi><mrow><mi>i</mi><mo>,</mo><mi>v</mi></mrow></msub><mfenced><mi>f</mi></mfenced></mrow></mfrac><mn>.</mn></math><img id="ib0001" file="imgb0001.tif" wi="30" he="12" img-content="math" img-format="tif" inline="yes"/></maths></p><p id="p0050" num="0050">The <i>"voltage power spectral density"</i> (often called "the spectrum of the power of a signal") can be defined as <maths id="math0002" num=""><math display="inline"><msub><mi>P</mi><mrow><mi>v</mi><mo>,</mo><mi>v</mi></mrow></msub><mfenced><mi>f</mi></mfenced><mo>=</mo><mfrac><mn>1</mn><mrow><msub><mi>F</mi><mi>s</mi></msub><mo>⁢</mo><mi>N</mi></mrow></mfrac><mo>⁢</mo><msup><mfenced><mfenced open="|" close="|" separators=""><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>n</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover></mstyle><msub><mi>ν</mi><mi>n</mi></msub><mo>⁢</mo><msup><mi>e</mi><mrow><mo>-</mo><mi>j</mi><mfenced separators=""><mn>2</mn><mo>⁢</mo><mi>π</mi><mo>⁢</mo><mfrac><mi>f</mi><msub><mi>F</mi><mi>s</mi></msub></mfrac></mfenced><mo>⁢</mo><mi>n</mi></mrow></msup></mfenced></mfenced><mn>2</mn></msup></math><img id="ib0002" file="imgb0002.tif" wi="56" he="16" img-content="math" img-format="tif" inline="yes"/></maths> for a signal v = [v<sub>1</sub>...v<sub>N</sub>] of length N sampled at a frequency F<sub>S</sub>.</p><p id="p0051" num="0051">The <i>"voltage</i>/<i>current cross power spectral density"</i> is the cross-power spectral density between i and v (i.e. the Fourier transform of the cross-correlation between the voltage and the current across the loudspeaker) and can be defined as <maths id="math0003" num=""><math display="inline"><msub><mi>P</mi><mrow><mi>i</mi><mo>,</mo><mi>v</mi></mrow></msub><mfenced><mi>f</mi></mfenced><mo>=</mo><mfrac><mn>1</mn><mrow><msub><mi>F</mi><mi>s</mi></msub><mo>⁢</mo><mi>N</mi></mrow></mfrac><mo>⁢</mo><mfenced separators=""><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>n</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover></mstyle><mi>R</mi><mo>⁢</mo><msub><mfenced><mi>n</mi></mfenced><mrow><mi>i</mi><mo>,</mo><mi>v</mi></mrow></msub><mo>⁢</mo><msup><mi>e</mi><mrow><mo>-</mo><mi>j</mi><mfenced separators=""><mn>2</mn><mo>⁢</mo><mi>π</mi><mo>⁢</mo><mfrac><mi>f</mi><msub><mi>F</mi><mi>s</mi></msub></mfrac></mfenced><mo>⁢</mo><mi>n</mi></mrow></msup></mfenced></math><img id="ib0003" file="imgb0003.tif" wi="60" he="16" img-content="math" img-format="tif" inline="yes"/></maths> with <maths id="math0004" num=""><math display="inline"><mi>R</mi><mo>⁢</mo><msub><mfenced><mi>m</mi></mfenced><mrow><mi>i</mi><mo>,</mo><mi>v</mi></mrow></msub><mo>=</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>p</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover></mstyle><msub><mi>i</mi><mrow><mi>p</mi><mo>+</mo><mi>m</mi></mrow></msub><mo>⁢</mo><mover><msub><mi>v</mi><mi>p</mi></msub><mo>‾</mo></mover></math><img id="ib0004" file="imgb0004.tif" wi="35" he="12" img-content="math" img-format="tif" inline="yes"/></maths> for a signal v = [v<sub>1</sub>...v<sub>N</sub>] of length N sampled at a frequency F<sub>S</sub> and a signal i = [i<sub>1</sub>...i<sub>N</sub>] of length N sampled at a frequency F<sub>S</sub> and where <i><o>v<sub>n</sub></o></i> is the complex conjugate of <i>v<sub>n</sub></i>.</p><p id="p0052" num="0052">Once the electrical impedance transfer response <i>LS</i>(<i>f</i>) determined (discrete function), the DSP 103 is able to compute the modelled inductive loudspeaker impedance (continuous function). This modelled impedance is an approximation of the real electrical impedance transfer response and can be, for instance, a second order under-damped transfer function whose expression is, in the "s" domain, <maths id="math0005" num=""><math display="inline"><msub><mi mathvariant="italic">LS</mi><mi>m</mi></msub><mfenced><mi>s</mi></mfenced><mo>=</mo><msub><mi>K</mi><mi mathvariant="italic">LS</mi></msub><mo>⁢</mo><mfrac><mn>1</mn><mrow><msup><mfenced><msub><mi>ω</mi><mi mathvariant="italic">LS</mi></msub></mfenced><mn>2</mn></msup><mo>+</mo><mfrac><mrow><mi>s</mi><mo>⁢</mo><msub><mi>ω</mi><mi mathvariant="italic">LS</mi></msub></mrow><msub><mi>Q</mi><mi mathvariant="italic">LS</mi></msub></mfrac><mo>+</mo><msup><mi>s</mi><mn>2</mn></msup></mrow></mfrac></math><img id="ib0005" file="imgb0005.tif" wi="58" he="18" img-content="math" img-format="tif" inline="yes"/></maths> with <maths id="math0006" num=""><math display="inline"><msub><mi>Q</mi><mi mathvariant="italic">LS</mi></msub><mo>&gt;</mo><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></math><img id="ib0006" file="imgb0006.tif" wi="20" he="12" img-content="math" img-format="tif" inline="yes"/></maths> (because it is anticipated that the modelled impedance function has a resonant frequency). Even if the real impedance function <i>LS</i>(<i>f</i>) is not<!-- EPO <DP n="15"> --> an under-damped transfer function, this approximation has no impact on the result of the present method.</p><p id="p0053" num="0053">The coefficients ω<i><sub>LS</sub></i>, <i>Q<sub>LS</sub></i>, and <i>K<sub>LS</sub></i> can be determined from the electrical impedance transfer response <i>LS</i>(<i>f</i>). <i>K<sub>LS</sub></i> is the value of <i>LS</i>(<i>f</i>) when f is close to 0Hz (see point 902 of the <figref idrefs="f0010">Figure 9</figref>). ω<i><sub>LS</sub></i> is the frequency where <i>LS</i>(<i>f</i>) is maximal (see point 901 of the <figref idrefs="f0010">Figure 9</figref>). <i>Q<sub>LS</sub></i> is determined as <maths id="math0007" num=""><math display="inline"><msub><mi>Q</mi><mi mathvariant="italic">LS</mi></msub><mo>=</mo><mfrac><mfenced open="|" close="|" separators=""><msub><mi mathvariant="italic">LS</mi><mi>m</mi></msub><mfenced separators=""><mi>j</mi><mn>.</mn><msub><mi>ω</mi><mi mathvariant="italic">LS</mi></msub></mfenced></mfenced><msub><mi>K</mi><mi mathvariant="italic">LS</mi></msub></mfrac><mn>.</mn></math><img id="ib0007" file="imgb0007.tif" wi="36" he="14" img-content="math" img-format="tif" inline="yes"/></maths></p><p id="p0054" num="0054">For instance, <figref idrefs="f0003">Figure 3a</figref> illustrates a possible loudspeaker response module and <figref idrefs="f0003">Figure 3b</figref> illustrates a possible loudspeaker response phase.</p><p id="p0055" num="0055">It is noted that it is also possible to model the impedance function with other transfer functions such as third or even higher order under-damped transfer function. The generalization is simple in regard of the explanation of the second order transfer function and curve fitting principles (for instance, the least squares methods, polynomial interpolations, or multiple regressions).</p><p id="p0056" num="0056">The modelled transfer function can also be from other types (i.e. non under-damped transfer function).</p><p id="p0057" num="0057">In the case of a second order impedance function, the peaking (i.e. the resonance shown on <figref idrefs="f0010">Figure 9</figref>) can be compensated with a second order notch filter (or band-stop filter) whose transfer function is for instance: <maths id="math0008" num=""><math display="block"><msub><mi>H</mi><mi>m</mi></msub><mfenced><mi>s</mi></mfenced><mo>=</mo><msub><mi>K</mi><mi mathvariant="italic">ALP</mi></msub><mo>⁢</mo><mfrac><mrow><msup><mfenced><msub><mi>ω</mi><mi mathvariant="italic">LS</mi></msub></mfenced><mn>2</mn></msup><mo>+</mo><mfrac><mrow><mi>s</mi><mo>⁢</mo><msub><mi>ω</mi><mi mathvariant="italic">LS</mi></msub></mrow><msub><mi>Q</mi><mi mathvariant="italic">LS</mi></msub></mfrac><mo>+</mo><msup><mi>s</mi><mn>2</mn></msup></mrow><mrow><msup><mfenced><msub><mi>ω</mi><mi mathvariant="italic">ALP</mi></msub></mfenced><mn>2</mn></msup><mo>+</mo><mfrac><mrow><mi>s</mi><mo>⁢</mo><msub><mi>ω</mi><mi mathvariant="italic">ALP</mi></msub></mrow><msub><mi>Q</mi><mi mathvariant="italic">ALP</mi></msub></mfrac><mo>+</mo><msup><mi>s</mi><mn>2</mn></msup></mrow></mfrac><mn>.</mn></math><img id="ib0008" file="imgb0008.tif" wi="66" he="26" img-content="math" img-format="tif"/></maths></p><p id="p0058" num="0058">It has been determined that, in order to provide a good compensation, the coefficient ω<i><sub>ALP</sub></i> can be equal to ω<i><sub>LS</sub></i>, <i>K<sub>ALP</sub></i> = 1 and <maths id="math0009" num=""><math display="inline"><msub><mi>Q</mi><mi mathvariant="italic">ALP</mi></msub><mo>=</mo><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac><mn>.</mn></math><img id="ib0009" file="imgb0009.tif" wi="22" he="12" img-content="math" img-format="tif" inline="yes"/></maths><!-- EPO <DP n="16"> --></p><p id="p0059" num="0059">Consecutively, the equalized transfer function is <maths id="math0010" num=""><math display="inline"><msub><mi mathvariant="italic">LS</mi><mi>m</mi></msub><mfenced><mi>s</mi></mfenced><mo>⁢</mo><msub><mi>H</mi><mi>m</mi></msub><mfenced><mi>s</mi></mfenced><mo>=</mo><msub><mi>K</mi><mi mathvariant="italic">LS</mi></msub><mo>⁢</mo><mfrac><mn>1</mn><mrow><msup><mfenced><msub><mi>ω</mi><mi mathvariant="italic">LS</mi></msub></mfenced><mn>2</mn></msup><mo>+</mo><mi>s</mi><mo>⁢</mo><msub><mi>ω</mi><mi mathvariant="italic">LS</mi></msub><mo>⁢</mo><msqrt><mn>2</mn></msqrt><mo>+</mo><msup><mi>s</mi><mn>2</mn></msup></mrow></mfrac><mn>.</mn></math><img id="ib0010" file="imgb0010.tif" wi="73" he="13" img-content="math" img-format="tif" inline="yes"/></maths> This formula represents a second order under-damped transfer function without any resonance. The transfer function <i>H<sub>m</sub></i>(<i>s</i>) can be classically converted into frequency space and, then a transfer function <i>H</i>(<i>f</i>) can be constructed.</p><p id="p0060" num="0060">For instance, <figref idrefs="f0004">Figure 4a</figref> illustrates a possible response module for <i>H<sub>m</sub></i>(<i>s</i>) and <figref idrefs="f0004">Figure 4b</figref> illustrates a possible response phase for <i>H<sub>m</sub></i>(<i>s</i>).</p><p id="p0061" num="0061">The transfer function <i>H<sub>m</sub></i>(<i>s</i>) is named "compensation filter" or "Adaptive Loudspeaker Protection (ALP) filter" as it aims at compensating the resonance of the response function of the inductive loudspeaker.</p><p id="p0062" num="0062">It is noted that for implementation purposes, it is possible to execute exactly the same process in the "z" domain. For the above description, the process has been detailed with the "s" domain only but the generalization to the "z" domain is possible to the person skilled in the art.</p><p id="p0063" num="0063">If the DSP 103 implements an ALP (for "Adaptive Loudspeakers Protection") system, <i>H</i>(<i>f</i>)<i>LS</i>(<i>f</i>) corresponds to the loudspeaker membrane displacement frequency response when is running.</p><p id="p0064" num="0064">The update of the compensation filter (or its coefficients) can be done as soon as a new loudspeaker impedance frequency response is computed from a part of the audio stream.</p><p id="p0065" num="0065">For instance, <figref idrefs="f0005">Figure 5a</figref> illustrates a possible response module for the equalized loudspeaker (<i>LS<sub>m</sub></i>(<i>s</i>)<i>H<sub>m</sub></i>(<i>s</i>)) and <figref idrefs="f0005">Figure 5b</figref> illustrates a possible response phase for the equalized loudspeaker (<i>LS<sub>m</sub></i>(<i>s</i>)<i>H<sub>m</sub></i>(<i>s</i>)).<!-- EPO <DP n="17"> --></p><p id="p0066" num="0066">Thus, membrane displacement can not induce destructive damages as the displacement can be totally anticipated and controlled. No mechanical resonance can occur.</p><p id="p0067" num="0067">To summarize the effects of the ALP system, <figref idrefs="f0006">Figures 6a, 6b</figref> and <figref idrefs="f0007">6c</figref> present an example of ALP equalization from a white noise music file.</p><p id="p0068" num="0068"><figref idrefs="f0006">Figure 6a</figref> represents the loudspeaker frequency response for a sample of a white noise music file. It is noted that the loudspeaker have a resonant frequency at about 400Hz.</p><p id="p0069" num="0069">In order to control the response module, an ALP system is installed in the DSP 103 and its compensation module (shown in <figref idrefs="f0006">Figure 6b</figref>) presents an absorption between 150Hz and 700Hz with a maximum at 400Hz.</p><p id="p0070" num="0070">When the ALP system is active, the equalized frequency response module of the loudspeaker is the multiplication between the loudspeaker response module (<figref idrefs="f0006">Figure 6a</figref>) and the ALP response module (<figref idrefs="f0006">Figure 6b</figref>). The equalized response module is presented in <figref idrefs="f0007">Figure 6c</figref>.</p><p id="p0071" num="0071">It is to be noted that no resonant frequency is visible on the equalized response module and thus, the membrane displacement is controlled: no mechanical resonance can occur.</p><p id="p0072" num="0072"><figref idrefs="f0008">Figure 7a, 7b</figref> and <figref idrefs="f0009">7c</figref> are similar to the <figref idrefs="f0006">Figure 6a, 6b</figref> and <figref idrefs="f0007">6c</figref> but present instead an example of ALP equalization from a jazz music file. This example is quite representative of a real situation.</p><p id="p0073" num="0073">It is to be noted that no resonant frequency is visible in <figref idrefs="f0009">Figure 7c</figref>. The response module is quite flat on barely all audible frequencies.</p><p id="p0074" num="0074"><figref idrefs="f0010">Figure 8</figref> is an example of a flow chart illustrating steps of a process to implement an adaptive loudspeakers protection.</p><p id="p0075" num="0075">This flow chart can represent steps of an example of a computer program which may be executed by the DSP 103.<!-- EPO <DP n="18"> --></p><p id="p0076" num="0076">Upon reception of a part of an audio file (arrow IN), the audio stream extracted from this part is filtered with a given "ALP filter" (step 801). This "ALP filter" is updated regularly by a process described below. At the initialization of the DSP, the "ALP filter" can be a filter which does not modify the input stream (i.e. <i>H<sub>m</sub></i>(<i>s</i>)=1) or can be a pre-computed filter computed once for all in the factory.</p><p id="p0077" num="0077">Then, the DSP 103 transmits the filtered audio stream to the DAC 105 in order to be rendered on the loudspeaker 108 (arrow OUT).</p><p id="p0078" num="0078">Upon reception of information about consumed current in the loudspeaker (arrow RET), the DSP 103 computes (step 802) the estimated transfer function of the loudspeaker thanks to this information and the filtered audio stream. This computation is for instance described above when describing the computation of <i>LS</i>(<i>f</i>) and <i>LS<sub>m</sub></i>(<i>s</i>)</p><p id="p0079" num="0079">Thus, the DSP 103 filters (step 803) the input audio stream (before equalization) with the estimated transfer function.</p><p id="p0080" num="0080">If (step 804) the result of the multiplication is higher than a given threshold, the given "ALP filter" is updated by computing a new "ALP filter" from the estimated transfer function (step 805) as described above (see description of <figref idrefs="f0001">Figure 1</figref>).</p><p id="p0081" num="0081">This threshold value can be fixed for a given type of loudspeaker and has not to be changed from one loudspeaker sample to another. It can be fixed before production on loudspeakers during the tuning procedure.</p><p id="p0082" num="0082">Consecutively, the ALP filter is regularly and dynamically updated in regard of the current transfer function of the loudspeaker. The "ALP filter" compensates the resonances of the loudspeaker and modifications of the characteristics of this resonance (frequency, amplitude) are dynamically taken in account.</p></description><claims mxw-id="PCLM56978204" lang="DE" load-source="patent-office"><!-- EPO <DP n="23"> --><claim id="c-de-01-0001" num="0001"><claim-text>Verfahren zum Schützen eines induktiven Lautsprechers (108), der dafür konfiguriert ist, während der Wiedergabe eines Audiostroms einen Strom mit einem vorgegebenen Wert zu verbrauchen,<br/>
wobei das Verfahren die Schritte aufweist:
<claim-text>a) Filtern (801) eines ersten Teils des Audiostroms durch Anwenden eines Kompensationsfilters auf den ersten Teil des Audiostroms;</claim-text>
<claim-text>b) Zuführen des gefilterten ersten Teils (OUT) des Audiostroms zum induktiven Lautsprecher;</claim-text>
<claim-text>c) Berechnen (802) mindestens einer ersten Schätzung eines Impedanzfrequenzgangs des induktiven Lautsprechers basierend mindestens auf:
<claim-text>- einer Spannung über den Lautsprecher während der Wiedergabe des gefilterten ersten Teils; und</claim-text>
<claim-text>- dem Wert des durch den induktiven Lautsprecher während der Wiedergabe des gefilterten ersten Teils verbrauchten Stroms (RET);</claim-text></claim-text>
<claim-text>d) Aktualisieren (805) von Kenngrößen des Kompensationsfilters derart, dass eine Resonanzfrequenz im ersten geschätzten Impedanzfrequenzgang des induktiven Lautsprechers gedämpft wird.</claim-text></claim-text></claim><claim id="c-de-01-0002" num="0002"><claim-text>Verfahren nach Anspruch 1, wobei die aktualisierten Kenngrößen des Kompensationsfilters ein Bandsperrfilter definieren, das dazu geeignet ist, die Resonanzfrequenz im ersten geschätzten Impedanzfrequenzgang des induktiven Lautsprechers zu dämpfen.</claim-text></claim><claim id="c-de-01-0003" num="0003"><claim-text>Verfahren nach einem der vorangehenden Ansprüche, wobei die Schritte a) bis d) für einen zweiten Teil des Audiostroms wiederholt werden.<!-- EPO <DP n="24"> --></claim-text></claim><claim id="c-de-01-0004" num="0004"><claim-text>Verfahren nach einem der vorangehenden Ansprüche, wobei<br/>
das Kompensationsfilter in Schritt d) nur dann aktualisiert wird, wenn ein zweiter geschätzter Frequenzgang des Lautsprechers niedriger ist als ein Schwellenwert (804), und<br/>
wobei der zweite geschätzte Frequenzgang durch Anwenden (803) der ersten Schätzung eines Impedanzfrequenzgangs des induktiven Lautsprechers (108) auf einen dritten Teil des Audiostroms berechnet wird.</claim-text></claim><claim id="c-de-01-0005" num="0005"><claim-text>Verfahren nach einem der vorangehenden Ansprüche, wobei der Wert des durch den induktiven Lautsprecher während der Wiedergabe des gefilterten Teils des Audiostroms verbrauchten Stroms durch eine über eine Stromspiegelschaltung mit dem induktiven Lautsprecher gekoppelte elektronische Schaltung erfasst wird.</claim-text></claim><claim id="c-de-01-0006" num="0006"><claim-text>Verarbeitungsvorrichtung (103), die mit einer Mischsignaleinheit (101) verbunden ist, die einen induktiven Lautsprecher (108) aufweist, mit:
<claim-text>- einer Eingangsschnittstelle (112), die dafür konfiguriert ist, einen Teil eines Audiostroms zu empfangen;</claim-text>
<claim-text>- einer Eingangsschnittstelle (111), die dafür konfiguriert ist, einen Wert eines durch den induktiven Lautsprecher (108) verbrauchten Stroms zu empfangen; und</claim-text>
<claim-text>- einer Ausgangsschnittstelle (110), die dafür konfiguriert ist, einen gefilterten Teil eines Audiostroms zu übertragen,</claim-text>
wobei die Verarbeitungsvorrichtung (103) dafür konfiguriert ist:
<claim-text>a) einen ersten Teil des Audiostroms durch Anwenden eines Kompensationsfilters auf den ersten Teil des Audiostroms zu filtern (801);</claim-text>
<claim-text>b) den ersten gefilterten Teil (OUT) des Audiostroms dem induktiven Lautsprecher zuzuführen;</claim-text>
<claim-text>c) mindestens eine erste Schätzung eines Impedanzfrequenzgangs des induktiven Lautsprechers zu berechnen (802) basierend mindestens auf:
<claim-text>- einer Spannung über den Lautsprecher während der Wiedergabe des gefilterten ersten Teils; und<!-- EPO <DP n="25"> --></claim-text>
<claim-text>- dem Wert des durch den induktiven Lautsprecher während der Wiedergabe des gefilterten ersten Teils des Audiostroms verbrauchten Stroms (RET); und</claim-text></claim-text>
<claim-text>d) Kenngrößen des Kompensationsfilters derart zu aktualisieren (805), dass eine Resonanzfrequenz im ersten geschätzten Impedanzfrequenzgang des induktiven Lautsprechers gedämpft wird.</claim-text></claim-text></claim><claim id="c-de-01-0007" num="0007"><claim-text>Verarbeitungsvorrichtung (103) nach Anspruch 6, wobei die Verarbeitungsvorrichtung ferner dafür konfiguriert ist, Kenngrößen des Kompensationsfilters basierend auf einem zweiten Kompensationsfilter zu aktualisieren (805), wobei die aktualisierten Kenngrößen des Kompensationsfilters ein Bandsperrfilter definieren, das dazu geeignet ist, die Resonanzfrequenz im ersten geschätzten Impedanzfrequenzgang des induktiven Lautsprechers zu dämpfen.</claim-text></claim><claim id="c-de-01-0008" num="0008"><claim-text>Verarbeitungsvorrichtung (103) nach Anspruch 6 oder 7, wobei die Verarbeitungsvorrichtung ferner dafür konfiguriert ist, die Schritte a) bis d) für einen zweiten Teil des Audiostroms zu wiederholen.</claim-text></claim><claim id="c-de-01-0009" num="0009"><claim-text>Verarbeitungsvorrichtung (103) nach einem der Ansprüche 6 bis 8, wobei die Verarbeitungsvorrichtung ferner dafür konfiguriert ist, das Kompensationsfilter in Schritt d) nur dann zu aktualisieren (805), wenn ein zweiter geschätzter Frequenzgang des Lautsprechers niedriger ist als ein Schwellenwert (804),<br/>
wobei der zweite geschätzte Frequenzgang durch Anwenden (803) der ersten Schätzung eines Impedanzfrequenzgangs des induktiven Lautsprechers (108) auf einen dritten Teil des Audiostroms berechnet wird.</claim-text></claim><claim id="c-de-01-0010" num="0010"><claim-text>Elektronische Vorrichtung mit einer Verarbeitungsvorrichtung (103) nach einem der Ansprüche 6 bis 9.</claim-text></claim><claim id="c-de-01-0011" num="0011"><claim-text>Computerprogrammprodukt mit einem computerlesbaren Medium, auf dem ein Computerprogramm gespeichert ist, das Programmanweisungen enthält, wobei das<!-- EPO <DP n="26"> --> Computerprogramm in eine Datenverarbeitungseinheit ladbar und dazu geeignet ist, zu veranlassen, dass die Datenverarbeitungseinheit die folgenden Schritte ausführt, wenn das Computerprogramm durch die Datenverarbeitungseinheit ausgeführt wird:
<claim-text>a) Filtern (801) eines ersten Teils des Audiostroms durch Anwenden eines Kompensationsfilters auf den ersten Teil des Audiostroms;</claim-text>
<claim-text>b) Ausgeben des gefilterten ersten Teils (OUT) des Audiostroms;</claim-text>
<claim-text>e) Empfangen des Wertes des verbrauchten Stroms (RET) und einer Spannung über den Lautsprecher während der Wiedergabe des gefilterten ersten Teils;</claim-text>
<claim-text>c) Berechnen (802) mindestens einer ersten Schätzung eines Impedanzfrequenzgangs des induktiven Lautsprechers basierend mindestens auf:
<claim-text>- der empfangenen Spannung; und</claim-text>
<claim-text>- dem empfangenen Stromwert; und</claim-text></claim-text>
<claim-text>d) Aktualisieren (805) von Kenngrößen des Kompensationsfilters derart, dass eine Resonanzfrequenz im ersten geschätzten Impedanzfrequenzgang gedämpft wird.</claim-text></claim-text></claim></claims><claims mxw-id="PCLM56978205" lang="EN" load-source="patent-office"><!-- EPO <DP n="19"> --><claim id="c-en-01-0001" num="0001"><claim-text>A method of protecting an inductive loudspeaker (108) arranged to consume a current of a given value during reproduction of an audio stream,<br/>
wherein the method comprises:
<claim-text>a/ filtering (801) a first part of the audio stream by applying a compensation filter to said first part of the audio stream;</claim-text>
<claim-text>b/ inputting the filtered first part (OUT) of the audio stream to the inductive loudspeaker;</claim-text>
<claim-text>c/ computing (802) at least a first estimation of a impedance frequency response of the inductive loudspeaker based at least on:
<claim-text>- a voltage across the loudspeaker during reproduction of the filtered first part; and</claim-text>
<claim-text>- the value of the current consumed (RET) by the inductive loudspeaker during reproduction of the filtered first part;</claim-text></claim-text>
<claim-text>d/ updating (805) characteristics of the compensation filter so as to attenuate a resonant frequency in the first estimated impedance frequency response of the inductive loudspeaker.</claim-text></claim-text></claim><claim id="c-en-01-0002" num="0002"><claim-text>The method of claim 1, wherein the updated characteristics of the compensation filter define a band-stop filter adapted to attenuate the resonant frequency in the first estimated impedance frequency response of the inductive loudspeaker.</claim-text></claim><claim id="c-en-01-0003" num="0003"><claim-text>The method of any one of the preceding claims, wherein steps a/ to d/ are repeated for a second part of the audio stream.</claim-text></claim><claim id="c-en-01-0004" num="0004"><claim-text>The method of any one of the preceding claims, wherein the compensation filter is updated at step d/ only if a second estimated response of the loudspeaker is lower than a threshold (804),<br/>
<!-- EPO <DP n="20"> -->the second estimated response being computed by applying (803) the first estimation of a impedance frequency response of the inductive loudspeaker (108) to a third part of the audio stream.</claim-text></claim><claim id="c-en-01-0005" num="0005"><claim-text>The method according to anyone of the preceding claims, wherein the value of the current consumed by the inductive loudspeaker during reproduction of the filtered part of the audio stream is sensed by electronic circuit coupled to the inductive loudspeaker through a current mirror circuit.</claim-text></claim><claim id="c-en-01-0006" num="0006"><claim-text>A processing device (103), connected with a mixing signal unit (101) comprising an inductive loudspeaker (108), comprising:
<claim-text>- an input interface (112) configured to receive a part of an audio stream ;</claim-text>
<claim-text>- an input interface (111) configured to receive a value of a current consumed by the inductive loudspeaker (108);</claim-text>
<claim-text>- an output interface (110) configured to send a filtered part of an audio stream ;</claim-text>
the processing device (103) being configured to:
<claim-text>a/ filter (801) a first part of the audio stream by applying a compensation filter to said first part of the audio stream;</claim-text>
<claim-text>b/ input the filtered first part (OUT) of the audio stream to the inductive loudspeaker;</claim-text>
<claim-text>c/ compute (802) at least a first estimation of a impedance frequency response of the inductive loudspeaker based at least on:
<claim-text>- a voltage across the loudspeaker during reproduction of the filtered first part ; and</claim-text>
<claim-text>- the value of the current consumed (RET) by the inductive loudspeaker during reproduction of the filtered first part of the audio stream;</claim-text></claim-text>
<claim-text>d/ update (805) characteristics of the compensation filter so as to attenuate a resonant frequency in the first estimated impedance frequency response of the inductive loudspeaker.</claim-text><!-- EPO <DP n="21"> --></claim-text></claim><claim id="c-en-01-0007" num="0007"><claim-text>The processing device (103) of claim 6, wherein the processing device is further configured to update (805) characteristics of the compensation filter based upon a second compensation filter, the updated characteristics of the compensation filter define a band-stop filter adapted to attenuate the resonant frequency in the first estimated impedance frequency response of the inductive loudspeaker.</claim-text></claim><claim id="c-en-01-0008" num="0008"><claim-text>The processing device (103) of anyone of the claims 6 to 7, wherein the processing device is further configured to repeat steps a/ to d/ for a second part of the audio stream.</claim-text></claim><claim id="c-en-01-0009" num="0009"><claim-text>The processing device (103) of anyone of the claims 6 to 8, wherein the processing device is further configured to update (805) the compensation filter at step d/ only if a second estimated response of the loudspeaker is lower than a threshold (804),<br/>
the second estimated response being computed by applying (803) the first estimation of a impedance frequency response of the inductive loudspeaker (108) to a third part of the audio stream.</claim-text></claim><claim id="c-en-01-0010" num="0010"><claim-text>An electronic device comprising a processing device (103) according to anyone of the claims 6 to 9.</claim-text></claim><claim id="c-en-01-0011" num="0011"><claim-text>A computer program product comprising a computer readable medium, having thereon a computer program comprising program instructions, the computer program being loadable into a data-processing unit and adapted to cause the data-processing unit to carry out the steps, when the computer program is run by the data-processing unit :<!-- EPO <DP n="22"> -->
<claim-text>a/ filtering (801) a first part of the audio stream by applying a compensation filter to said first part of the audio stream;</claim-text>
<claim-text>b/ outputting the filtered first part (OUT) of the audio stream;</claim-text>
<claim-text>e/ receiving the value of the current consumed (RET) and a voltage across the loudspeaker during reproduction of the filtered first part;</claim-text>
<claim-text>c/ computing (802) at least a first estimation of a impedance frequency response based at least on:
<claim-text>- the received voltage; and</claim-text>
<claim-text>- the received value of the current;</claim-text></claim-text>
<claim-text>d/ updating (805) characteristics of the compensation filter so as to attenuate a resonant frequency in the first estimated impedance frequency response.</claim-text></claim-text></claim></claims><claims mxw-id="PCLM56978206" lang="FR" load-source="patent-office"><!-- EPO <DP n="27"> --><claim id="c-fr-01-0001" num="0001"><claim-text>Procédé de protection d'un haut-parleur inductif (108) agencé pour consommer un courant d'une valeur donnée durant la reproduction d'un flux audio,<br/>
dans lequel le procédé comprend :
<claim-text>a/ le filtrage (801) d'une première partie du flux audio en appliquant un filtre de compensation sur ladite première partie du flux audio ;</claim-text>
<claim-text>b/ l'entrée de la première partie filtrée (OUT) du flux audio dans le haut-parleur inductif ;</claim-text>
<claim-text>c/ le calcul (802) d'au moins une première estimation d'une réponse de fréquence d'impédance du haut-parleur inductif au moins en fonction :
<claim-text>- d'une tension sur le haut-parleur durant reproduction de la première partie filtrée ; et</claim-text>
<claim-text>- de la valeur du courant consommé (RET) par le haut-parleur inductif durant la reproduction de la première partie filtrée ;</claim-text></claim-text>
<claim-text>d/ la mise à jour (805) de caractéristiques du filtre de compensation afin d'atténuer une fréquence résonante dans la première réponse de fréquence d'impédance estimée du haut-parleur inductif.</claim-text></claim-text></claim><claim id="c-fr-01-0002" num="0002"><claim-text>Procédé selon la revendication 1, dans lequel les caractéristiques mises à jour du filtre de compensation définissent un filtre coupe-bande adapté pour atténuer la fréquence résonante dans la première réponse de fréquence d'impédance estimée du haut-parleur inductif.</claim-text></claim><claim id="c-fr-01-0003" num="0003"><claim-text>Procédé selon une quelconque des revendications précédentes, dans lequel les étapes a/ à d/ sont répétées pour une deuxième partie du flux audio.</claim-text></claim><claim id="c-fr-01-0004" num="0004"><claim-text>Procédé selon une quelconque des revendications précédentes, dans lequel le filtre de compensation est mis à jour à l'étape d/ seulement si une seconde réponse estimée du haut-parleur est inférieure à un seuil (804),<br/>
la seconde réponse estimée étant calculée en appliquant (803) la première estimation d'une réponse de fréquence d'impédance du haut-parleur inductif(108) sur une troisième partie du flux audio.<!-- EPO <DP n="28"> --></claim-text></claim><claim id="c-fr-01-0005" num="0005"><claim-text>Procédé selon une quelconque des revendications précédentes, dans lequel la valeur du courant consommé par le haut-parleur inductif durant la reproduction de la partie filtrée du flux audio est détectée par un circuit électronique couplé au haut-parleur inductif par l'intermédiaire d'un circuit miroir de courant.</claim-text></claim><claim id="c-fr-01-0006" num="0006"><claim-text>Dispositif de traitement (103), connecté à une unité de signal de mélange (101) comprenant un haut-parleur inductif (108), comprenant :
<claim-text>- une interface d'entrée (112) configurée pour recevoir une partie d'un flux audio ;</claim-text>
<claim-text>- une interface d'entrée (111) configurée pour recevoir une valeur d'un courant consommé par le haut-parleur inductif (108) ;</claim-text>
<claim-text>- une interface de sortie (110) configurée pour envoyer une partie filtrée d'un flux audio ;</claim-text>
le dispositif de traitement (103) étant configuré pour :
<claim-text>a/ filtrer (801) une première partie du flux audio en appliquant un filtre de compensation sur ladite première partie du flux audio ;</claim-text>
<claim-text>b/ entrer la première partie filtrée (OUT) du flux audio dans le haut-parleur inductif ;</claim-text>
<claim-text>c/ calculer (802) au moins une première estimation d'une réponse de fréquence d'impédance du haut-parleur inductif au moins en fonction :
<claim-text>- d'une tension sur le haut-parleur durant la reproduction de la première partie filtrée ; et</claim-text>
<claim-text>- de la valeur du courant consommé (RET) par le haut-parleur inductif durant la reproduction de la première partie filtrée du flux audio ;</claim-text></claim-text>
<claim-text>d/ mettre à jour (805) des caractéristiques du filtre de compensation afin d'atténuer une fréquence résonante dans la première réponse de fréquence d'impédance estimée du haut-parleur inductif.</claim-text></claim-text></claim><claim id="c-fr-01-0007" num="0007"><claim-text>Dispositif de traitement (103) selon la revendication 6, dans lequel le dispositif de traitement est en outre configuré pour mettre à jour (805) des caractéristiques du filtre de compensation en fonction d'un second filtre de compensation, les caractéristiques mises à jour du filtre de compensation définissent un filtre coupe-bande adapté pour atténuer la fréquence résonante dans la première réponse de fréquence d'impédance estimée du haut-parleur inductif.<!-- EPO <DP n="29"> --></claim-text></claim><claim id="c-fr-01-0008" num="0008"><claim-text>Dispositif de traitement (103) selon une quelconque des revendications 6 à 7, dans lequel le dispositif de traitement est en outre configuré pour répéter les étapes a/ à d/ pour une deuxième partie du flux audio.</claim-text></claim><claim id="c-fr-01-0009" num="0009"><claim-text>Dispositif de traitement (103) selon une quelconque des revendications 6 à 8, dans lequel le dispositif de traitement est en outre configuré pour mettre à jour (805) le filtre de compensation à l'étape d/ seulement si une seconde réponse estimée du haut-parleur est inférieure à un seuil (804),<br/>
la seconde réponse estimée étant calculée en appliquant (803) la première estimation d'une réponse de fréquence d'impédance du haut-parleur inductif(108) sur une troisième partie du flux audio.</claim-text></claim><claim id="c-fr-01-0010" num="0010"><claim-text>Dispositif électronique comprenant un dispositif de traitement (103) selon une quelconque des revendications 6 à 9.</claim-text></claim><claim id="c-fr-01-0011" num="0011"><claim-text>Produit programme d'ordinateur comprenant un support lisible par ordinateur, comportant, sur celui-ci, un programme d'ordinateur comprenant des instructions de programme, le programme d'ordinateur étant chargeable dans une unité de traitement de données et adapté pour faire en sorte que l'unité de traitement de données réalise les étapes, lorsque le programme d'ordinateur est exécuté par l'unité de traitement de données :
<claim-text>a/ le filtrage (801) d'une première partie du flux audio en appliquant un filtre de compensation sur ladite première partie du flux audio ;</claim-text>
<claim-text>b/ la sortie de la première partie filtrée (OUT) du flux audio ;</claim-text>
<claim-text>e/ la réception de la valeur du courant consommé (RET) et d'une tension sur le haut-parleur durant la reproduction de la première partie filtrée ;</claim-text>
<claim-text>c/ le calcul (802) d'au moins une première estimation d'une réponse de fréquence d'impédance au moins en fonction de :
<claim-text>- la tension reçue ; et</claim-text>
<claim-text>- la valeur reçue du courant ;</claim-text></claim-text>
<claim-text>d/ la mise à jour (805) de caractéristiques du filtre de compensation afin d'atténuer une fréquence résonante dans la première réponse de fréquence d'impédance estimée.</claim-text></claim-text></claim></claims><drawings mxw-id="PDW16668510" load-source="patent-office"><!-- EPO <DP n="30"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="106" he="220" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="31"> --><figure id="f0002" num="2"><img id="if0002" file="imgf0002.tif" wi="131" he="183" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="32"> --><figure id="f0003" num="3a,3b"><img id="if0003" file="imgf0003.tif" wi="141" he="219" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="33"> --><figure id="f0004" num="4a,4b"><img id="if0004" file="imgf0004.tif" wi="139" he="224" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="34"> --><figure id="f0005" num="5a,5b"><img id="if0005" file="imgf0005.tif" wi="140" he="220" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="35"> --><figure id="f0006" num="6a,6b"><img id="if0006" file="imgf0006.tif" wi="148" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="36"> --><figure id="f0007" num="6c"><img id="if0007" file="imgf0007.tif" wi="66" he="227" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="37"> --><figure id="f0008" num="7a,7b"><img id="if0008" file="imgf0008.tif" wi="137" he="227" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="38"> --><figure id="f0009" num="7c"><img id="if0009" file="imgf0009.tif" wi="64" he="227" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="39"> --><figure id="f0010" num="8,9"><img id="if0010" file="imgf0010.tif" wi="165" he="230" img-content="drawing" img-format="tif"/></figure></drawings><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
