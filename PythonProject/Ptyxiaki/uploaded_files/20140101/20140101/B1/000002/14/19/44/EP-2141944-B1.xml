<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2141944-B1" country="EP" doc-number="2141944" kind="B1" date="20140101" family-id="41210859" file-reference-id="318266" date-produced="20180822" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146554049" ucid="EP-2141944-B1"><document-id><country>EP</country><doc-number>2141944</doc-number><kind>B1</kind><date>20140101</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-09157696-A" is-representative="YES"><document-id mxw-id="PAPP154827972" load-source="docdb" format="epo"><country>EP</country><doc-number>09157696</doc-number><kind>A</kind><date>20090409</date><lang>EN</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140452642" ucid="JP-2008175580-A" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>2008175580</doc-number><kind>A</kind><date>20080704</date></document-id></priority-claim></priority-claims><dates-of-public-availability><intention-to-grant-date><date>20130724</date></intention-to-grant-date></dates-of-public-availability><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1988113508" load-source="ipcr">H04W   8/26        20090101AFI20111206BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL1988096043" load-source="docdb" scheme="CPC">H04L  29/12367     20130101 LI20130101BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988098915" load-source="docdb" scheme="CPC">H04W  80/04        20130101 LA20130101BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988110459" load-source="docdb" scheme="CPC">H04W  84/045       20130101 LA20130101BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988122022" load-source="docdb" scheme="CPC">H04W   8/26        20130101 FI20130101BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988124234" load-source="docdb" scheme="CPC">H04L  29/12386     20130101 LI20130101BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988137373" load-source="docdb" scheme="CPC">H04L  61/2521      20130101 LI20130101BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988137979" load-source="docdb" scheme="CPC">H04L  61/2514      20130101 LI20130101BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132194631" lang="DE" load-source="patent-office">Basisstation zur Umwandlung einer lokalen Netz-Adresse eines mobilen Endgerätes in eine Mobilfunknetz-Adresse des mobilen Endgerätes</invention-title><invention-title mxw-id="PT132194632" lang="EN" load-source="patent-office">Base station adapted to convert a local network address of a mobile terminal into a mobile network address of the mobile terminal</invention-title><invention-title mxw-id="PT132194633" lang="FR" load-source="patent-office">Station de base adaptée pour la conversion d'une adresse de réseau local d'un terminal mobile dans une addresse de réseau mobile du terminal mobile</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR918169332" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>FUJITSU LTD</last-name><address><country>JP</country></address></addressbook></applicant><applicant mxw-id="PPAR918151305" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>FUJITSU LIMITED</last-name></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR918151306" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>SHINOZAKI ATSUSHI</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918153786" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>SHINOZAKI, ATSUSHI</last-name></addressbook></inventor><inventor mxw-id="PPAR918998733" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>SHINOZAKI, ATSUSHI</last-name><address><street>c/o FUJITSU LIMITED, 1-1, Kamikodanaka 4-chome, Nakahara-ku</street><city>Kawasaki-shi, Kanagawa 211-8588</city><country>JP</country></address></addressbook></inventor></inventors><assignees><assignee mxw-id="PPAR918998735" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Fujitsu Limited</last-name><iid>101019726</iid><address><street>1-1, Kamikodanaka 4-chome Nakahara-ku</street><city>Kawasaki-shi, Kanagawa 211-8588</city><country>JP</country></address></addressbook></assignee></assignees><agents><agent mxw-id="PPAR918998734" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Fenlon, Christine Lesley</last-name><iid>100029810</iid><address><street>Haseltine Lake LLP Lincoln House, 5th Floor 300 High Holborn</street><city>London WC1V 7JH</city><country>GB</country></address></addressbook></agent></agents></parties><international-convention-data><designated-states><ep-contracting-states><country mxw-id="DS548992147" load-source="docdb">AT</country><country mxw-id="DS548983010" load-source="docdb">BE</country><country mxw-id="DS548986793" load-source="docdb">BG</country><country mxw-id="DS548984075" load-source="docdb">CH</country><country mxw-id="DS548886789" load-source="docdb">CY</country><country mxw-id="DS548992148" load-source="docdb">CZ</country><country mxw-id="DS548983011" load-source="docdb">DE</country><country mxw-id="DS548886790" load-source="docdb">DK</country><country mxw-id="DS548886791" load-source="docdb">EE</country><country mxw-id="DS548831399" load-source="docdb">ES</country><country mxw-id="DS548986794" load-source="docdb">FI</country><country mxw-id="DS548986795" load-source="docdb">FR</country><country mxw-id="DS548983012" load-source="docdb">GB</country><country mxw-id="DS548886792" load-source="docdb">GR</country><country mxw-id="DS548983013" load-source="docdb">HR</country><country mxw-id="DS548992149" load-source="docdb">HU</country><country mxw-id="DS548984076" load-source="docdb">IE</country><country mxw-id="DS548886793" load-source="docdb">IS</country><country mxw-id="DS548986796" load-source="docdb">IT</country><country mxw-id="DS548886794" load-source="docdb">LI</country><country mxw-id="DS548873125" load-source="docdb">LT</country><country mxw-id="DS548992150" load-source="docdb">LU</country><country mxw-id="DS548873234" load-source="docdb">LV</country><country mxw-id="DS548873235" load-source="docdb">MC</country><country mxw-id="DS548990162" load-source="docdb">MK</country><country mxw-id="DS548990163" load-source="docdb">MT</country><country mxw-id="DS548831400" load-source="docdb">NL</country><country mxw-id="DS548986797" load-source="docdb">NO</country><country mxw-id="DS548990164" load-source="docdb">PL</country><country mxw-id="DS548984077" load-source="docdb">PT</country><country mxw-id="DS548831401" load-source="docdb">RO</country><country mxw-id="DS548990165" load-source="docdb">SE</country><country mxw-id="DS548983014" load-source="docdb">SI</country><country mxw-id="DS548986798" load-source="docdb">SK</country><country mxw-id="DS548886795" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data></bibliographic-data><description mxw-id="PDES63957584" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001">FIELD</heading><p id="p0001" num="0001">The embodiment discussed herein is related to a base station and a data transferring method that execute wireless communication.</p><heading id="h0002">BACKGROUND</heading><p id="p0002" num="0002">Recently, provision of a mobile telephone service area that employs a small-scale base station called "femto-cell" is conceived. A "femto-cell" is generally formed by connecting a gateway for a femto-cell (FGW) installed on a mobile telephone service provider side and a small-scale base station for a femto-cell (femtocell Access Point (femtoAP)) by an IP broadband line such as an ADSL or an FTTH.</p><p id="p0003" num="0003">As femto-cell services, the provision of various services are considered including a low-priced flat-rate service by the mobile telephone service provider in addition to provision of a signal receiving environment that is better than that of a macro-cell, a high-speed data communication environment associated therewith, effecting improved efficiency of frequency usage by allowing a monopoly of specific users of frequencies.</p><p id="p0004" num="0004">In an environment having a broadband line, the femto-cell services can be easily adopted by merely connecting the environment to a femtoAP. A femtoAP is installed in the residence of a user who adopts the services. Therefore, it is expected that control by mobile telephone service providers will be mitigated such that the management restrictions imposed by the mobile telephone service providers will be mitigated and users will be able to freely move the location of and turn on and off the femtoAP.<!-- EPO <DP n="2"> --></p><p id="p0005" num="0005">Femto-cell services have a potential for realizing a communication link between an information terminal and home appliances in addition to provision of services associated with the above advantages. For example, communication between a personal computer (PC) and a mobile telephone is usually realized using a memory card, or a dedicated communication cable and software as a medium. However, the manipulation of inserting and pulling out a memory card or a communication cable is very troublesome for a user.</p><p id="p0006" num="0006">With the prevalence of broadband communication and the increase of content types and content sizes handled in recent years, data places a heavy burden on the memory of mobile telephones and cannot be completely stored in the memory when directly downloaded from, for example, a site on the Internet. Use of a mobile telephone as a music player is prevailing due to the integration of mobile telephones with a portable music player function, resulting in a demand for storage of music files downloaded at a fee.</p><p id="p0007" num="0007">On average, mobile telephone users purchase a new mobile telephone approximately every two years. However, to transfer files downloaded to the mobile telephone to a newly purchased mobile telephone, the user must transfer and store the files of the old mobile telephone on a PC and subsequently transfer the files later to the mobile telephone newly purchased. Therefore, increased simplification of the communication between the mobile telephone and the PC is demanded (see, e.g., Japanese Laid-Open Patent Application Publication No. <patcit id="pcit0001" dnum="JP2007282255A"><text>2007-282255</text></patcit>).</p><p id="p0008" num="0008">"WiFi" (a wireless local area network (LAN)) is conceivable as an ordinary approach of communication between a mobile telephone and a PC; and a mobile terminal of a 3GPP scheme that includes the WiFi is actually exists. However, this dual terminal has a problem in terms of power<!-- EPO <DP n="3"> --> consumption and price. Although the femto cell solves these problems, the wireless scheme that the femto cell supports includes only wireless schemes for mobile communication (for example, 3GPP).</p><p id="p0009" num="0009">However, for the femto-cell service, it is basically assumed that communication in a residence between a mobile communication network and a mobile terminal is realized through the femtoAP installed in the residence while the communication between a PC and the mobile terminal in the residence is not basically assumed. Therefore, a problem has arisen in that transmission of a packet from the PC to the mobile terminal in the residence is difficult.</p><p id="p0010" num="0010">For an ordinary femto-cell service, a mobile network-use address for a mobile terminal is assigned from a mobile communication network to the mobile terminal each time a data communication request is issued to the mobile terminal. Therefore, at the residence of a user, when the user tries to transmit a packet from a PC to the mobile terminal, the user cannot obtain the mobile network-use address assigned to the mobile terminal at that time.</p><p id="p0011" num="0011">Even if the PC is successful in obtaining the mobile network-use address assigned to the mobile terminal, when the PC transmits the packet using the mobile network-use address as the destination address of the packet, the transmitted packet arrives at the mobile terminal through the mobile communication network because, for example, according to the 3GPP, a tunnel is created between the femtoAP and the mobile communication network and, a communication path is formed between the femtoAP and the mobile terminal. Therefore, the communication resources of the mobile communication network are burdened and the time necessary for transmitting the packet from the PC to the mobile terminal becomes long.<!-- EPO <DP n="4"> --></p><p id="p0012" num="0012"><patcit id="pcit0002" dnum="US2007105568A"><text>US 2007/105568</text></patcit> discloses a method and apparatus to provide paging control to a femto radio base station of a radio access network.</p><p id="p0013" num="0013"><patcit id="pcit0003" dnum="WO2005107279A"><text>WO 2005/107279</text></patcit> discloses methods and apparatus for facilitating the mobility of a mobile station in a wireless local area network with uninterrupted communications.</p><p id="p0014" num="0014">The document "3G HNB Access Network Architecture Considerations" published by the 3GPP group (document R3-080698) discusses the functions needed to address the large scale deployment of 3G HNBs.</p><p id="p0015" num="0015">The document "3rd Generation Partnership Project; Technical Specification Group; Radio Access Network; Home (e)NodeB; Network Aspects (Release 8)" discusses issues related to 3G HNB.</p><heading id="h0003">SUMMARY</heading><p id="p0016" num="0016">It is desirable to at least solve the above problems in the conventional technologies.</p><p id="p0017" num="0017">The present invention is defined in the independent claims, to which reference should now be made. Specific embodiments are defined in the dependent claims.</p><p id="p0018" num="0018">According to the configuration described, a communication terminal can use a local-network address to transmit packets to a mobile terminal. Meanwhile, the mobile terminal can receive packets from the communication terminal by using a mobile-network address. Further, at a base station communicating directly with the mobile terminal, by converting the destination of data from a local-network address to a mobile-network address, the data can be transmitted directly to the mobile terminal without passing through the mobile communication network.</p><p id="p0019" num="0019">The desirable outcomes and advantages of the invention will be realized and attained by means of the elements and combinations particularly pointed out in the claims.</p><p id="p0020" num="0020">It is to be understood that both the foregoing general<!-- EPO <DP n="5"> --> description and the following detailed description are exemplary and explanatory and are not restrictive of embodiments of the invention, as claimed.</p><heading id="h0004">BRIEF DESCRIPTION OF DRAWINGS</heading><p id="p0021" num="0021">Preferred features of the present invention will now be described, purely by way of example, with reference to the accompanying drawings, in which:-
<ul><li><figref idrefs="f0001">FIG. 1</figref> is a block diagram of an overview of a communication system according to an embodiment;</li><li><figref idrefs="f0002">FIG. 2</figref> is a block diagram of an exemplary configuration of an indoor base station depicted in <figref idrefs="f0001">FIG. 1</figref>;</li><li><figref idrefs="f0003">FIG. 3</figref> is a diagram of an example of a conversion table depicted in <figref idrefs="f0002">FIG. 2</figref>;</li><li><figref idrefs="f0003">FIG. 4</figref> is a diagram of a state table depicted in <figref idrefs="f0002">FIG. 2</figref>;</li><li><figref idrefs="f0003">FIG. 5</figref> is a block diagram of an exemplary configuration of a communicating apparatus depicted in <figref idrefs="f0001">FIG. 1</figref>;</li><li><figref idrefs="f0004">FIG. 6</figref> is a flowchart of an exemplary conversion-table generation operation executed by the indoor base station;</li><li><figref idrefs="f0005">FIG. 7</figref> is a diagram of an exemplary conversion table generated according to the generation operation depicted in <figref idrefs="f0004">FIG. 6</figref>;</li><li><figref idrefs="f0005">FIG. 8</figref> is a flowchart of an exemplary packet transfer operation by the indoor base station;<!-- EPO <DP n="6"> --></li><li><figref idrefs="f0006">FIG. 9</figref> is a flowchart of another exemplary conversion-table generation operation by the indoor base station;</li><li><figref idrefs="f0007">FIG. 10</figref> is a diagram of the conversion table generated according to the generation operation depicted in <figref idrefs="f0006">FIG. 9</figref>;</li><li><figref idrefs="f0008">FIG. 11</figref> is a diagram of a first exemplary functional configuration of the communication system;</li><li><figref idrefs="f0008">FIG. 12</figref> is another diagram of the first exemplary functional configuration of the communication system;</li><li><figref idrefs="f0009">FIG. 13</figref> is a block diagram of a configuration of the indoor base station in the first exemplary functional configuration;</li><li><figref idrefs="f0010">FIG. 14</figref> is a block diagram of a configuration of the communicating apparatus in the first exemplary functional configuration;</li><li><figref idrefs="f0011">FIG. 15</figref> is a sequence chart of an exemplary location registration operation of the communication system in the first exemplary functional configuration;</li><li><figref idrefs="f0012">FIG. 16</figref> is a sequence chart of a location registration cancellation operation of the communication system in the first exemplary functional configuration;</li><li><figref idrefs="f0013">FIG. 17</figref> is a sequence chart of a generation operation for the 3GPP Context in the first exemplary functional configuration;</li><li><figref idrefs="f0014">FIG. 18</figref> is a diagram of a second exemplary functional configuration of the communication system;</li><li><figref idrefs="f0014">FIG. 19</figref> is another diagram of the second exemplary functional configuration of the communication system;</li><li><figref idrefs="f0015">FIG. 20</figref> is a block diagram of a configuration of the indoor base station in the second exemplary functional configuration;</li><li><figref idrefs="f0016">FIG. 21</figref> is a sequence chart of an exemplary location registration operation of the communication system in the second exemplary functional configuration;<!-- EPO <DP n="7"> --></li><li><figref idrefs="f0017">FIG. 22</figref> is a sequence chart of a generation operation of the 3GPP Context in the second exemplary functional configuration;</li><li><figref idrefs="f0018">FIG. 23</figref> is a sequence chart of an exemplary packet transfer operation in the second exemplary functional configuration;</li><li><figref idrefs="f0019">FIG. 24</figref> is a sequence chart of another exemplary packet transfer operation in the second exemplary functional configuration;</li><li><figref idrefs="f0020">FIG. 25</figref> is a diagram of a third exemplary functional configuration of the communication system;</li><li><figref idrefs="f0020">FIG. 26</figref> is another diagram of the third exemplary functional configuration of the communication system;</li><li><figref idrefs="f0021">FIG. 27</figref> is a block diagram of a configuration of the indoor base station in the third exemplary functional configuration; and</li><li><figref idrefs="f0022">FIG. 28</figref> is a sequence chart of an exemplary location registration operation of the communication system in the third exemplary functional configuration.</li></ul></p><heading id="h0005">DESCRIPTION OF EMBODIMENTS</heading><p id="p0022" num="0022">Preferred embodiments of the present invention will be explained with reference to the accompanying drawings.</p><p id="p0023" num="0023"><figref idrefs="f0001">FIG. 1</figref> is a block diagram of an overview of a communication system according to an embodiment. As depicted in <figref idrefs="f0001">FIG. 1</figref>, a communication system 10 according to the embodiment includes a LAN 11 and a mobile communication network 12. The LAN 11 (a network on the premises) includes a BB router 13, an indoor base station 14, a mobile terminal 15, and a PC 17. The mobile communication network includes a communication apparatus 18.</p><p id="p0024" num="0024">The communication apparatus 18 is connected to the BB router 13 of the LAN 11. The communication apparatus 18 is<!-- EPO <DP n="8"> --> a FGW and has a function of managing data communication in the mobile communication network 12. More specifically, the communication apparatus 18 has a function of assigning a mobile-network address that is used in data communication in the mobile communication network 12.</p><p id="p0025" num="0025">The BB router 13 is connected to the mobile communication network 12, which is external of the LAN 11. The BB router 13 is connected to the indoor base station 14 and the PC 17. The connection between the BB router 13 and the indoor base station 14 and the connection between the BB router 13 and the PC 17 may be a wired connection such as Ethernet (a registered trademark) or may be a wireless connection such as IEEE802.11. The indoor base station 14 may be incorporated in the BB router 13.</p><p id="p0026" num="0026">The indoor base station 14 is a femtoAP. The indoor base station 14 forms a communication area 16 (femto-cell) by emitting an electro-magnetic wave around the indoor base station 14. In the communication area 16, the mobile terminal 15 is communicable with the mobile communication network 12 through the LAN 11. The indoor base station 14 and the mobile terminal 15 are connected by a wireless interface such as wideband code division multiple access (W-CDMA).</p><p id="p0027" num="0027">The mobile terminal 15 executes location registration when the mobile terminal 15 moves into the communication area 16 of the indoor base station 14. More specifically, the mobile terminal 15 transmits a location registration request to the indoor base station 14. The location registration request transmitted from the mobile terminal 15 is received by the communication apparatus 18 through the indoor base station 14 and the BB router 13. When the communication apparatus 18 receives the location registration request, the communication apparatus 18<!-- EPO <DP n="9"> --> executes the location registration of the mobile terminal 15, assigns a mobile-network address to the mobile terminal 15, and transmits the mobile-network address to the mobile terminal 15.</p><p id="p0028" num="0028">The mobile-network address is an IP address that is assigned to the mobile terminal 15 for the mobile terminal 15 to execute packet communication with the mobile communication network 12. The mobile-network address transmitted from the communication apparatus 18 is received by the mobile terminal 15 through the BB router 13 and the indoor base station 14. The mobile terminal 15 executes packet communication with the mobile communication network 12 using the received mobile-network address as the IP address of the mobile terminal 15.</p><p id="p0029" num="0029">The mobile terminal 15 stores therein the mobile-network address until the mobile terminal 15 moves out of the coverage of the indoor base station 14. The indoor base station 14 obtains the address that is assigned by the communication apparatus 18 to the mobile terminal 15. For example, the indoor base station 14 obtains the mobile-network address by intercepting the address when the indoor base station 14 relays the address transmitted from the communication apparatus 18 to the mobile terminal 15. Alternatively, the communication apparatus 18 may transmit the mobile-network address to the indoor base station 14 in addition to the mobile terminal 15, and thereby, the indoor base station 14 may obtain the mobile-network address.</p><p id="p0030" num="0030">The indoor base station 14 obtains a LAN address (address for use in the local network) for the mobile terminal 15 to execute communication with the PC 17 in the LAN 11. For example, the BB router 13 has a dynamic host configuration protocol (DHCP) function. In this case, the indoor base station 14 obtains a LAN address from the BB<!-- EPO <DP n="10"> --> router 13. The indoor base station 14 generates a conversion table that correlates the mobile-network address received from the communication apparatus 18 with the LAN address obtained from the BB router 13.</p><p id="p0031" num="0031">The PC 17 is a communication terminal that includes a communication function. When the LAN address is assigned to the mobile terminal 15, the LAN address assigned to the mobile terminal 15 is reported throughout the LAN 11 through the BB router 13. The PC 17 transmits an IP packet (data) to be transmitted to the mobile terminal 15, using the LAN address assigned to the mobile terminal 15 as the destination address of the IP packet.</p><p id="p0032" num="0032">The IP packet transmitted from the PC 17 is received by the indoor base station 14 through the BB router 13. The indoor base station 14 converts the destination address of the received IP packet from the LAN address to the mobile-network address based on the conversion table generated by the indoor base station 14. The indoor base station 14 transmits the IP packet whose destination address has been converted into the mobile-network address, to the mobile terminal 15. The mobile terminal 15 receives the IP packet transmitted from the indoor base station 14.</p><p id="p0033" num="0033">In this manner, the conversion table is generated in advance by the indoor base station 14 and the conversion between the LAN address and the mobile-network address is executed. Thereby, the PC 17 can transmit the IP packet to the mobile terminal 15 using the LAN address reported throughout the LAN 11 as the destination address even without obtaining the mobile-network address assigned by the communication apparatus 18 to the mobile terminal 15.</p><p id="p0034" num="0034">On the other hand, the mobile terminal 15 can receive the IP packet from the PC 17 in the femto-cell scheme using the mobile-network address even without having a data<!-- EPO <DP n="11"> --> communication function supporting the LAN 11. Therefore, without adding any further function to the mobile terminal 15, the IP packet can be transmitted from the PC 17 to the mobile terminal 15 through the indoor base station 14 in the LAN 11.</p><p id="p0035" num="0035">By converting the destination address of the data from the LAN address to the mobile-network address in the indoor base station 14 that executes direct communication with the mobile terminal 15, data having the mobile-network address as a destination address can be directly transmitted to the mobile terminal 15 without passing through the mobile communication network 12. Thus, the data can be transferred at a high speed from the PC 17 to the mobile terminal 15 in the LAN 11 without burdening the communication resources of the mobile communication network 12.</p><p id="p0036" num="0036">By obtaining the mobile-network address when the location registration of the mobile terminal 15 is executed in the communication apparatus 18 of the mobile communication network 12, the indoor base station 14 can transfer, to the mobile terminal 15, the IP packet transmitted from the PC 17 as soon as the mobile terminal 15 becomes communicable in the LAN 11. The indoor base station 14 can store therein the obtained LAN address and the mobile-network address until the mobile terminal 15 leaves the communication area 16.</p><p id="p0037" num="0037">Thereby, from the time when the mobile terminal 15 enters the communication area 16 to the time when the mobile terminal 15 leaves the communication area 16, the IP packet transmitted from the PC 17 can be transferred to the mobile terminal 15. Alternatively, when the mobile terminal 15 leaves the communication area 16, the indoor base station 14, without retaining the mobile-network<!-- EPO <DP n="12"> --> address, may return the mobile-network address to the communication apparatus 18. Thereby, a shortage of mobile-network addresses for use in the mobile communication network 12 can be prevented.</p><p id="p0038" num="0038">When the indoor base station 14 receives the IP packet transmitted from the PC 17, the communication mode used by the mobile terminal 15 may be switched to another communication mode that enables reception of the data. Thereby, even when the communication mode of the mobile terminal 15 is "stand by" or "power saving", the IP packet transmitted from the PC 17 may be transferred to the mobile terminal 15.</p><p id="p0039" num="0039">A configuration described in Figure 6.1.2.1-3. of "<nplcit id="ncit0001" npl-type="s"><text>Detailed 3G HNB System Architecture", 3GPP TR R3.020 V0.7.0(2008-05</text></nplcit>), etc., is employable as a basic configuration of the communication system 10. In the Figure 6.1.2.1-3., "UE" is the mobile terminal 15, "3G HNB" is the indoor base station 14, and "HNB-GW" is the communication apparatus 18.</p><p id="p0040" num="0040"><figref idrefs="f0002">FIG. 2</figref> is a block diagram of an exemplary configuration of the indoor base station depicted in <figref idrefs="f0001">FIG. 1</figref>. As depicted in <figref idrefs="f0002">FIG. 2</figref>, the indoor base station 14 includes a LAN communication unit 21, a wireless communication unit 22, an address managing unit 23, a storing unit 24, a transferring unit 25, and a terminal state managing unit 26. The LAN communication unit 21 is connected to the BB router 13 (see <figref idrefs="f0001">FIG. 1</figref>) and communicates with the BB router 13.</p><p id="p0041" num="0041">The wireless communication unit 22 forms the communication area 16 (see <figref idrefs="f0001">FIG. 1</figref>) by emitting an electro-magnetic wave around the wireless communication unit 22 and wirelessly communicates with the mobile terminal 15 (see <figref idrefs="f0001">FIG. 1</figref>). The address managing unit 23 obtains the LAN address from the BB router 13 through the LAN communication<!-- EPO <DP n="13"> --> unit 21 (first obtaining unit). The address managing unit 23 obtains the mobile-network address that is transmitted from the communication apparatus 18 and passes through the BB router 13, through the LAN communication unit 21 (second obtaining unit).</p><p id="p0042" num="0042">The address managing unit 23 generates a conversion table 24a that correlates the obtained LAN address with the mobile-network address, and stores the conversion table 24a in the storing unit 24. The address managing unit 23 stores in the storing unit 24, a state table 24b storing therein the LAN address of the conversion table 24a. The address managing unit 23 may return to the communication apparatus 18 through the LAN communication unit 21, a mobile-network address that becomes unnecessary when the mobile terminal 15 leaves the communication area 16.</p><p id="p0043" num="0043">The transferring unit 25 transmits to the BB router 13 through the LAN communication unit 21, the IP packet received from the mobile terminal 15 through the wireless communication unit 22. The transferring unit 25 transmits to the mobile terminal 15 through the wireless communication unit 22, the IP packet received from the BB router 13 through the LAN communication unit 21. The transferring unit 25 includes an address converting unit 25a. When the destination address of an IP packet received from the BB router 13 is the LAN address assigned to the mobile terminal 15, the converting unit 25a converts the destination address of the IP packet into the mobile-network address.</p><p id="p0044" num="0044">More specifically, the address converting unit 25a converts the LAN address of the IP packet into the mobile-network address that is correlated with the LAN address in the conversion table 24a stored in the storing unit 24. In this case, the transferring unit 25 outputs to the wireless<!-- EPO <DP n="14"> --> communication unit 22, the IP packet whose the destination address has been converted by the address converting unit 25a into the mobile-network address.</p><p id="p0045" num="0045">The terminal state managing unit 26 manages information concerning the mobile terminal 15 in the communication area 16. More specifically, the terminal state managing unit 26 detects the entrance of the mobile terminal 15 into the communication area 16. For example, the wireless communication unit 22 continuously transmits identification information concerning the indoor base station 14 to the communication area 16. When the mobile terminal 15 enters the communication area 16, the mobile terminal 15 receives the identification information concerning the indoor base station 14.</p><p id="p0046" num="0046">When the mobile terminal 15 receives the identification information concerning the indoor base station 14, the mobile terminal 15 transmits a signal such as the location registration request to the indoor base station 14. The terminal state managing unit 26 receives the signal from the mobile terminal 15 through the wireless communication unit 22 and thereby, detects the entrance of the mobile terminal 15 into the communication area 16. When the terminal state managing unit 26 ceases to receive the signal from the mobile terminal 15, the terminal state managing unit 26 detects the leaving of the mobile terminal 15 from the communicating area 16.</p><p id="p0047" num="0047">The terminal state managing unit 26 manages communication modes of the mobile terminal 15 in the communicating area 16. For example, the mobile terminal 15 transmits a signal indicating the communication mode of the mobile terminal 15 to the indoor base station 14. The terminal state managing unit 26 obtains the signal indicating the communication mode of the mobile terminal 15<!-- EPO <DP n="15"> --> transmitted from, for example, an RRC (not depicted) through the LAN communication unit 21 and thereby, identifies the communication mode of the mobile terminal 15.</p><p id="p0048" num="0048">The terminal state managing unit 26 executes paging through the wireless communication unit 22 and thereby, switches the communication mode of the mobile terminal 15. Alternatively, the terminal state managing unit 26 may issue a request to the RRC and thereby, switch the communication mode of the mobile terminal 15. The terminal state managing unit 26 correlates information concerning the mobile terminal 15 in the communication area 16 with the LAN address of the mobile terminal 15 in the state table 24b and stores the information in the storing unit 24.</p><p id="p0049" num="0049"><figref idrefs="f0003">FIG. 3</figref> is a diagram of an example of the conversion table depicted in <figref idrefs="f0002">FIG. 2</figref>. As depicted in <figref idrefs="f0003">FIG. 3</figref>, a mobile-network address 31 and a LAN address 32 are correlated and stored in the conversion table 24a (see <figref idrefs="f0002">FIG. 2</figref>) stored in the storing unit 24. The address converting unit 25a of the transferring unit 25 converts the destination address of the IP packet whose destination address is the LAN address 32, into the mobile-network address 31 that corresponds to the LAN address 32.</p><p id="p0050" num="0050">An example of storing the mobile-network address 31 and the LAN address 32 into the conversion table 24a has been described with respect to only the mobile terminal 15. However, when a mobile terminal other than the mobile terminal 15 is present in the communication area 16, for each mobile terminal, a combination of a mobile network address 31 and a LAN address 32 is stored in the conversion table 24a.</p><p id="p0051" num="0051"><figref idrefs="f0003">FIG. 4</figref> is a diagram of the state table depicted in <figref idrefs="f0002">FIG. 2</figref>. As depicted in <figref idrefs="f0003">FIG. 4</figref>, in the state table 24b (see <figref idrefs="f0002">FIG. 2</figref>) stored in the storing unit 24, a valid/invalid flag 42<!-- EPO <DP n="16"> --> and a communication mode flag 43 are stored correlated with a LAN address 41 that is assigned to the mobile terminal 15. The valid/invalid flag 42 is a flag that indicates whether the LAN address 41 assigned to the mobile terminal 15 is valid.</p><p id="p0052" num="0052">When the address managing unit 23 assigns the LAN address 41 to the mobile terminal 15, the terminal state managing unit 26 sets the valid/invalid flag 42 that corresponds to the LAN address 41 assigned to the mobile terminal 15, to "valid". When the terminal state managing unit 26 detects that the mobile terminal 15 leaves the communication area 16, the terminal state managing unit 26 sets the valid/invalid flag 42 that corresponds to the LAN address 41 assigned to the mobile terminal 15, to "invalid".</p><p id="p0053" num="0053">The terminal state managing unit 26 records the detected communication mode of the mobile terminal 15 in the communication mode flag 43 that corresponds to the LAN address 41. It is assumed herein that the communication modes include three that are "stand by", "power saving", and "normal". The "stand by" and the "power saving" modes are waiting states and communication modes that, as far as remaining as is, enable no reception of data from the wireless communication unit 22. The "normal" mode is a communication mode that enables reception of data from the wireless communication unit 22.</p><p id="p0054" num="0054"><figref idrefs="f0003">FIG. 5</figref> is a block diagram of an exemplary configuration of the communicating apparatus depicted in <figref idrefs="f0001">FIG. 1</figref>. As depicted in <figref idrefs="f0003">FIG. 5</figref>, the communication apparatus 18 includes an IF unit 51, a location registration processing unit 52, a location information storing unit 53, a packet service managing unit 54, and an address assigning unit 55. The IF unit 51 is connected to and communicates with the BB router 13.<!-- EPO <DP n="17"> --></p><p id="p0055" num="0055">The location registration processing unit 52 receives, through the IF unit 51, a location registration request transmitted from the indoor base station 14 through the BB router 13, and the location registration processing unit 52 executes location registration of the mobile terminal 15 in response to the location registration request received. More specifically, the location registration processing unit 52 causes the location information storing unit 53 to store therein information indicating that the mobile terminal 15 is present in the communication area 16. When the location registration is completed, the location registration processing unit 52 notifies the packet service managing unit 54 of the completion of registration.</p><p id="p0056" num="0056">When notification of the completion of the registration is output from the location registration processing unit 52, the packet service managing unit 54 invokes the address assigning unit 55 and causes the address assigning unit 55 to assign a mobile-network address to the mobile terminal 15. The packet service managing unit 54 transmits the mobile-network address obtained from the address assigning unit 55, through the IF unit 51.</p><p id="p0057" num="0057">The mobile-network address transmitted from the packet service managing unit 54 is received by the mobile terminal 15 through the BB router 13 and the indoor base station 14. In response to the invocation of the packet service managing unit 54, the address assigning unit 55 assigns the mobile-network address, and the address assigning unit 55 outputs the address to the packet service managing unit 54. The address assigning unit 55 is, for example, a DHCP.</p><p id="p0058" num="0058"><figref idrefs="f0004">FIG. 6</figref> is a flowchart of an exemplary conversion-table generation operation executed by the indoor base station. The address managing unit 23 obtains multiple LAN addresses<!-- EPO <DP n="18"> --> from the BB router 13 through the LAN communication unit 21, and pools the LAN addresses obtained (step S601). The terminal state managing unit 26 determines whether the mobile terminal 15 has entered the communication area 16 (step S602), and the terminal state managing unit 26 waits for the mobile terminal 15 to enter the communication area 16 (step S602: NO).</p><p id="p0059" num="0059">If the mobile terminal 15 has entered the communication area 16 at step S602 (step S602: YES), the terminal state managing unit 26 confirms that the location registration of the mobile terminal 15 by the communication apparatus 18 has been executed (step S603). At step S603, the terminal state managing unit 26 confirms that the location registration of the mobile terminal 15 has been executed, using, for example, the notification from the communication apparatus 18. In this example, it is assumed that the communication mode of the mobile terminal 15 is "normal".</p><p id="p0060" num="0060">As a result of the location registration of the mobile terminal 15, the address managing unit 23 obtains the mobile-network address that is assigned by the communication apparatus 18, through the LAN communication unit 21 (step S604). The terminal state managing unit 26 assigns one of the LAN addresses obtained at step S601, to the mobile terminal 15 (step S605).</p><p id="p0061" num="0061">The address managing unit 23 generates the conversion table 24a for the mobile-network address obtained at step S604 and the LAN address assigned to the mobile terminal 15 at step S605 (step S606). At step S606, the address managing unit 23 causes the storing unit 24 to store therein the conversion table generated 24a.</p><p id="p0062" num="0062">The terminal state managing unit 26 generates the state table 24b concerning the mobile terminal 15 (step<!-- EPO <DP n="19"> --> S607). More specifically, the terminal state managing unit 26 causes the storing unit 24 to store therein the state table 24b in which the valid/invalid flag 42 and the communication mode flag 43 that respectively correspond to the LAN address 41 assigned to the mobile terminal 15 at step S605 are respectively set to "valid" and "normal". Thereby, preparation is completed for transferring, to the mobile terminal 15 and using the indoor base station 14, the IP packet addressed to the mobile terminal 15 and transmitted from the PC 17.</p><p id="p0063" num="0063">The terminal state managing unit 26 determines whether the communication mode of the mobile terminal 15 has switched (step S608). When the communication mode of the mobile terminal 15 has not switched (step S608: NO), the process advances to step S610 and continues. When the communication mode of the mobile terminal 15 has switched (step S608: YES), the communication flag 43 in the conversion table 24a is changed from "normal" to the communication mode after the switching (step S609).</p><p id="p0064" num="0064">The terminal state managing unit 26 determines whether the mobile terminal 15 has left the communication area 16 (step S610). When the mobile terminal 15 has not left the communication area 16 (step S610: NO), the process returns to step S608 and continues. When the mobile terminal 15 has left the communication area 16 (step S610: YES), the terminal state managing unit 26 sets the valid/invalid flag 42 in the conversion table 24a to "invalid" (step S611).</p><p id="p0065" num="0065">The address managing unit 23 causes the storing unit 24 to correlate the mobile-network address and the LAN address stored in the conversion table 24a with an international mobile subscriber identity (IMSI) of the mobile terminal 15, the IMSI being a subscriber identifier, and to further store the addresses (step S612), and a<!-- EPO <DP n="20"> --> series of the process comes to an end.</p><p id="p0066" num="0066"><figref idrefs="f0005">FIG. 7</figref> is a diagram of an exemplary conversion table generated according to the generation operation depicted in <figref idrefs="f0004">FIG. 6</figref>. When the terminal state managing unit 26 is to store the mobile-network address and the LAN address after the mobile terminal 15 leaves the communication area 16 (see <figref idrefs="f0004">FIG. 6</figref>), the address managing unit 23 generates the conversion table 24a as depicted in <figref idrefs="f0005">FIG. 7</figref> and causes the storing unit 24 to store the conversion table 24a therein.</p><p id="p0067" num="0067">As depicted in <figref idrefs="f0005">FIG. 7</figref>, the conversion table 24a stores therein the mobile-network address 31 and the LAN address 32 correlated with an IMSI 71 of the mobile terminal 15. The conversion table 24a further stores therein the valid/invalid flag 72 indicating whether the mobile-network address 31 is valid and a valid/invalid flag 73 indicating whether the LAN address 32 is valid.</p><p id="p0068" num="0068">When both the mobile-network address and the LAN address after the mobile terminal 15 leaves the communication area 16, the address managing unit 23 sets both of the valid/invalid flags 72 and 73 to "valid". Alternatively, the mobile-network address may be returned to the communication apparatus 18 at an arbitrary timing after the mobile terminal 15 leaves the communication area 16. In this case, the address managing unit 23 sets the valid/invalid flag 72 to "invalid" after the return of the mobile-network address.</p><p id="p0069" num="0069">When the mobile terminal 15 or another mobile terminal enters the communication area 16 after the mobile terminal 15 leaves the communication area 16, if the valid/invalid flag 72 indicates "valid", the address managing unit 23 obtains the mobile-network address 31 in the conversion table 24a instead of obtaining a new mobile-network address from the communication apparatus 18.<!-- EPO <DP n="21"> --></p><p id="p0070" num="0070">When the mobile terminal 15 or another mobile terminal enters the communication area 16 after the mobile terminal 15 leaves the communication area 16, if the valid/invalid flag 72 indicates "invalid", the address managing unit 23 obtains a new mobile-network address assigned by the communication apparatus 18 and generates the conversion table 24a.</p><p id="p0071" num="0071"><figref idrefs="f0005">FIG. 8</figref> is a flowchart of an exemplary packet transfer operation by the indoor base station. The indoor base station 14 repeatedly executes the following packet transfer operation during the looping from steps S608 to S610 of <figref idrefs="f0004">FIG. 6</figref>. The transferring unit 25 determines whether the LAN communication unit 21 has received an IP packet transmitted from the PC 17 (step S801), waiting occurs for an IP packet to be received (step S801: NO).</p><p id="p0072" num="0072">When an IP packet is received at step S801 (step S801: YES), in the state table 24b, whether the valid/invalid flag 42 for the LAN address 41 corresponding to the destination address of the received IP packet indicates "valid" is determined (step S802). When the valid/invalid flag 42 indicates "invalid" (step S802: NO), the IP packet received at step S801 is discarded (step S803) and a series of the process comes to an end.</p><p id="p0073" num="0073">When the valid/invalid flag 42 indicates "valid" at step S802 (step S802: YES), in the state table 24b, whether the communication mode flag 43 for the LAN address 41 corresponding to the destination address of the received IP packet indicates "normal" is determined (step S804). When the communication mode flag 43 indicates "normal" (step S804: YES), the process advances to step S807 and continues.</p><p id="p0074" num="0074">When the communication mode flag 43 does not indicate "normal" ("power saving" or "stand by") at step S804 (step S804: NO), the IP packet received at step S801 is stored in<!-- EPO <DP n="22"> --> a buffer 25b (step S805) and the communication mode of the mobile terminal 15 is switched to "normal" (step S806).</p><p id="p0075" num="0075">The address converting unit 25a converts the destination address of the IP packet received at step S801 into the mobile-network address 31 that is correlated with the LAN address 32 in the conversion table 24a (step S807). The wireless communication unit 22 transmits to the mobile terminal 15, the IP packet whose destination address has been converted into the mobile-network address 31 at step S807 (step S808) and a series of the process comes to an end.</p><p id="p0076" num="0076"><figref idrefs="f0006">FIG. 9</figref> is a flowchart of another exemplary conversion-table generation operation by the indoor base station. Steps S901 to S912 depicted in <figref idrefs="f0006">FIG. 9</figref> are substantially identical to steps S601 to S612 (see <figref idrefs="f0004">FIG. 6</figref>); hence, only portions different from steps S601 to S612 will be described. An example where the mobile-network address used in the mobile communication network 12 is for "IPv6" and the mobile-network address that the mobile terminal 15 supports is for "IPv4" will be described.</p><p id="p0077" num="0077">At step S901, the address managing unit 23 obtains multiple IPv4 addresses for the mobile network from a DHCP in the LAN 11, obtains multiple LAN addresses from the BB router 13 through the LAN communication unit 21, and pools the IPv4 mobile-network addresses and the LAN addresses obtained.</p><p id="p0078" num="0078">At step S905, the terminal state managing unit 26 assigns, to the mobile terminal 15, one of the IPv4 mobile-network addresses obtained at step S901 and one of the LAN addresses obtained at step S901. At step S906, as the result of the location registration of the mobile terminal 15, the address managing unit 23 obtains, through the LAN communication unit 21, the IPv6 mobile-network address<!-- EPO <DP n="23"> --> assigned by the communication apparatus 18.</p><p id="p0079" num="0079">At step S906, the address managing unit 23 generates the conversion table 24a for the IPv6 mobile-network address obtained at step S904, the IPv4 mobile-network address assigned to the mobile terminal 15 at step S905, and the LAN address assigned to the mobile terminal 15 at step S905.</p><p id="p0080" num="0080"><figref idrefs="f0007">FIG. 10</figref> is a diagram of the conversion table generated according to the generation operation depicted in <figref idrefs="f0006">FIG. 9</figref>. In <figref idrefs="f0007">FIG. 10</figref>, components identical to those depicted in <figref idrefs="f0005">FIG. 7</figref> are given the same reference numerals respectively given in <figref idrefs="f0005">FIG. 7</figref> and description thereof is omitted. At step S906 of the generation operation depicted in <figref idrefs="f0006">FIG. 9</figref>, for example, the conversion table 24a depicted in <figref idrefs="f0007">FIG. 10</figref> is generated. The conversion table 24a is stored in the storing unit 24.</p><p id="p0081" num="0081">In the conversion table 24a, an IPv4 mobile-network address 101 is correlated and stored in addition to the IMSI 71, the IPv6 mobile-network address 31, and the LAN address 32. A valid/invalid flag 75 that indicates whether the IPv4 mobile-network address 101 is valid is also stored. The packet transfer operation by the indoor base station 14 in this example is substantially identical to that depicted in <figref idrefs="f0005">FIG. 8</figref>.</p><p id="p0082" num="0082">In this example, at step S807 depicted in <figref idrefs="f0005">FIG. 8</figref>, the address converting unit 25a converts the destination address of the IP packet received at step S801 into the mobile-network IPv4 address 101 that is correlated with the original LAN address 32 in the conversion table 24a (see <figref idrefs="f0007">FIG. 10</figref>). Thus, the IP packet transmitted from the PC 17 can be transferred to the mobile terminal 15 even when the mobile-network address used in the mobile communication network 12 is for IPv6 and the mobile-network address that the mobile terminal supports is for IPv4.<!-- EPO <DP n="24"> --></p><p id="p0083" num="0083"><figref idrefs="f0008">FIG. 11</figref> is a diagram of a first exemplary functional configuration of the communication system. <figref idrefs="f0008">FIG. 12</figref> is another diagram of the first exemplary functional configuration of the communication system. <figref idrefs="f0008">FIGs. 11 and 12</figref> depict protocol stacks of a control-plane (C-Plane), which is a control data layer, and a user-plane (U-Plane), which is a user data layer, respectively formed when radio resource control (RRC) termination is executed by the communication apparatus 18.</p><p id="p0084" num="0084">The first exemplary functional configurations respectively depicted in <figref idrefs="f0008">FIGs. 11 and 12</figref> differ in the respect of whether the communication apparatus 18 has a GPRS tunneling protocol (GTP) function in the U-Plane. In the first exemplary functional configuration depicted in <figref idrefs="f0008">FIG. 11</figref>, the communication apparatus 18 has the GTP function in the U-Plane and the communication apparatus 18 terminates the GTP. In the first exemplary functional configuration depicted in <figref idrefs="f0008">FIG. 12</figref>, the communication apparatus 18 has no GTP function and the communication apparatus 18 does not terminate GTP.</p><p id="p0085" num="0085">"L2" denotes a Layer2 protocol. "PDCP" denotes a packet data control protocol. The indoor base station 14 has a function of a femtoAP such as a Node B Application Part (NBAP), a W-CDMA, and a PIIY/Medium Access Control (MAC).</p><p id="p0086" num="0086">The indoor base station 14 has at least a portion of the functions incorporated to a base station control apparatus (radio network controller (RNC)) or an apparatus at a higher level than that of the base station control apparatus such as a serving GPRS support node (SGSN), and a gateway GPRS support node (GGSN).</p><p id="p0087" num="0087">To return the data using the indoor base station 14, the indoor base station 14 has a function of terminating a<!-- EPO <DP n="25"> --> protocol as the mobile communication network 12 necessary for a data path and a function of invoking the mobile terminal 15 due to a request from the PC 17. The indoor base station 14 mainly has functions such as the RNC and the SGSN/GGSN.</p><p id="p0088" num="0088">In the first exemplary functional configuration depicted in <figref idrefs="f0008">FIG. 11</figref>, to utilize the packet service provided by the mobile communication network 12, the GTP tunnel provided by the mobile communication network 12 can be utilized. Therefore, the mobile terminal 15 can establish a communication path to the mobile communication network 12 using the GTP tunnel without use of the Internet.</p><p id="p0089" num="0089">In the first exemplary functional configuration depicted in <figref idrefs="f0008">FIG. 12</figref>, because the data is returned by the indoor base station 14, a Gi interface may be provided by, for example, executing the termination of the GTP in the indoor base station 14. A "Gi interface" is a connecting point of a GGSN (relaying packet switching machine) under the 3GPP and a packet data network (PDN).</p><p id="p0090" num="0090">Thus, the mobile terminal 15 can communicate data with the PC 17 without passing the data through the mobile communication network 12. In the first exemplary functional configuration, the configuration is switched to the first exemplary functional configuration depicted in <figref idrefs="f0008">FIG. 11</figref> when the mobile terminal 15 executes data communication with the mobile communication network 12, and the configuration is switched to the first exemplary functional configuration depicted in <figref idrefs="f0008">FIG. 12</figref> when the mobile terminal 15 executes data communication with the PC 17. Thus, the mobile terminal 15 can execute data communication with both the mobile communication network 12 and the PC 17.</p><p id="p0091" num="0091">By terminating a paging function that the RRC has by<!-- EPO <DP n="26"> --> the communication apparatus 18, the mobile terminal 15 can be invoked by a request from the PC 17. In this case, for example, when the indoor base station 14 receives, from the PC 17, an IP packet that is addressed to the mobile terminal 15, the indoor base station 14 requests the communication apparatus 18 to issue paging.</p><p id="p0092" num="0092"><figref idrefs="f0009">FIG. 13</figref> is a block diagram of a configuration of the indoor base station in the first exemplary functional configuration. In <figref idrefs="f0009">FIG. 13</figref>, components identical to those depicted in <figref idrefs="f0002">FIG. 2</figref> are given the same reference numerals respectively given in <figref idrefs="f0002">FIG. 2</figref> and the description thereof will be omitted. As depicted in <figref idrefs="f0009">FIG. 13</figref>, the indoor base station 14 includes a terminating unit 131 in addition to the components depicted in <figref idrefs="f0002">FIG. 2</figref>.</p><p id="p0093" num="0093">The wireless communication unit 22 executes a protocol concerning wireless communication (such as the 3GPP: MAC/RLC/PDCP). The LAN communication unit 21 executes a protocol concerning wired communication (such as IEEE802). The terminal state managing unit 26 manages the state of the mobile terminal 15 by obtaining the RRC state of the mobile terminal 15 from the RRC incorporated in the communication apparatus 18.</p><p id="p0094" num="0094">The terminal state managing unit 26 determines whether a mode of the mobile terminal 15 is Cell_DCH (power consumption mode), Cell_HSDSCH (ordinary mode), Cell_PCH (power saving mode), etc. to determine the state of the mobile terminal 15. The terminating unit 131 controls the transferring unit 25 and executes a protocol process concerning packet transmission under the 3GPP, such as the GTP. The terminating unit 131 provides the Gi interface by terminating the GTP when the mobile terminal 15 executes data communication with the PC 17.</p><p id="p0095" num="0095">When the transferring unit 25 receives the IP packet<!-- EPO <DP n="27"> --> through the LAN communication unit 21, the transferring unit 25 determines whether the valid/invalid flag 42 indicates "valid" in the state table 24b for the LAN address of the received IP packet. When the valid/invalid flag 42 indicates "valid", the transferring unit 25 refers to the communication mode flag 43 in the state table 24b for the LAN address of the received IP packet.</p><p id="p0096" num="0096">When the communication mode flag 43 referred to indicates "power saving", the transferring unit 25 stores the received IP packet in the buffer 25b and requests the terminal state managing unit 26 to switch the communication mode of the mobile terminal 15 from "power saving" to "normal". In response, the terminal state managing unit 26 transmits, to the communication apparatus 18 through the LAN communication unit 21, a signal to request a switching of the communication mode of the mobile terminal 15 to "normal".</p><p id="p0097" num="0097">Consequently, the communication apparatus 18 transmits RRC paging to the mobile terminal 15 through the BB router 13 and the indoor base station 14. When the mobile terminal 15 receives the RRC paging, the mobile terminal 15 switches the communication mode thereof from "power saving" to "normal". After transmitting the RRC paging to the mobile terminal 15, the communication apparatus 18 transmits, to the indoor base station 14 through the BB router 13, a signal indicating that the communication mode of the mobile terminal 15 has been switched to "normal".</p><p id="p0098" num="0098">When the terminal state managing unit 26 receives, through the LAN communication unit 21, the signal indicating that the communication mode of the mobile terminal 15 has been switched to "normal", the terminal state managing unit 26 changes the communication mode flag 43 of the state table 24b from "power saving" to "normal".<!-- EPO <DP n="28"> --> When the transferring unit 25 receives, through the LAN communication unit 21, the signal indicating that the communication mode of the mobile terminal 15 has been switched to "normal", the transferring unit 25 converts the destination address of the IP packet stored in the buffer 25b from the LAN address to the mobile-network address according to the conversion table 24a.</p><p id="p0099" num="0099">The transferring unit 25 transmits the IP packet, whose destination address has been converted, to the mobile terminal 15 through the wireless communication unit 22. Thus, the IP packet transmitted from the PC 17 can be transferred to the mobile terminal 15. An example where an IP packet is transmitted from the mobile terminal 15 to the PC 17 will be described. In this example, the mobile terminal 15 transmits the IP packet using the LAN address assigned to the PC 17 as the destination address.</p><p id="p0100" num="0100">Further, in this example, the transmission origin of the IP packet is the mobile-network address of the mobile terminal 15. The transferring unit 25 receives the IP packet transmitted from the mobile terminal 15, through the wireless communication unit 22. The transferring unit 25 converts the transmission origin of the received IP packet from the mobile-network address into the LAN address according to the conversion table 24a.</p><p id="p0101" num="0101">The transferring unit 25 transmits the IP packet, whose transmission origin has been converted, to the PC 17 through the LAN communication unit 21. Thus, the transmission origin of the IP packet received by the PC 17 is the LAN address (of the mobile terminal 15) that the PC 17 knows and the PC 17 can conventionally receive the IP packet transmitted from the mobile terminal 15.</p><p id="p0102" num="0102"><figref idrefs="f0010">FIG. 14</figref> is a block diagram of a configuration of the communicating apparatus in the first exemplary functional<!-- EPO <DP n="29"> --> configuration. In <figref idrefs="f0010">FIG. 14</figref>, components identical to those depicted in <figref idrefs="f0003">FIG. 5</figref> are given the same reference numerals respectively given in <figref idrefs="f0003">FIG. 5</figref> and description thereof will be omitted. As depicted in <figref idrefs="f0010">FIG. 14</figref>, the communication apparatus 18 includes a visitor location register (VLR) 141 as the location information storing unit 53 (see <figref idrefs="f0003">FIG. 5</figref>). The communication apparatus 18 includes a DHCP 142 as the address assigning unit 55 (see <figref idrefs="f0003">FIG. 5</figref>).</p><p id="p0103" num="0103">The packet service managing unit 54 includes a PDP Context managing unit 143. The PDP Context managing unit 143 executes a packet arrival process to activate packet-related information (PDP). Although a configuration including the VLR 141 and the DHCP 142 that are provided on the communication apparatus 18 has been described, the VLR 141 and the DHCP 142 may be provided externally of the communication apparatus 18.</p><p id="p0104" num="0104"><figref idrefs="f0011">FIG. 15</figref> is a sequence chart of an exemplary location registration operation of the communication system in the first exemplary functional configuration. In this example, the VLR 141 is provided externally of the communication apparatus 18. When the mobile terminal 15 enters the communication area 16 (step S151), the mobile terminal 15 transmits the location registration request to the communication apparatus 18 through the indoor base station 14 (step S152).</p><p id="p0105" num="0105">The location registration processing unit 52 of the communication apparatus 18 executes the location registration of the mobile terminal 15 and transmits location registration information that indicates that the mobile terminal 15 is present in the communication area 16, to the VLR 141 (step S153). The VLR 141 stores therein the location registration information from the location registration processing unit 52. The location registration<!-- EPO <DP n="30"> --> processing unit 52 further transmits the location registration information to the indoor base station 14 (step S154). The terminal state managing unit 26 of the indoor base station 14 learns that the mobile terminal 15 is present in the communication area 16, based on the location registration information from the location registration processing unit 52.</p><p id="p0106" num="0106">When the location registration is completed, the location registration processing unit 52 notifies the packet service managing unit 54 of completion of the location registration (step S155). The packet service managing unit 54 outputs to the DHCP 142 an assignment request that requests the mobile-network address to be assigned (step S156). The DHCP 142 outputs the mobile-network address to be assigned to the mobile terminal 15 to the packet service managing unit 54 (step S157).</p><p id="p0107" num="0107">The packet service managing unit 54 transmits the mobile-network address output at step S157 to the mobile terminal 15 through the indoor base station 14 (step S158). The packet service managing unit 54 further transmits the mobile-network address output at step S157 to the indoor base station 14 (step S159), and a series of the process comes to an end.</p><p id="p0108" num="0108"><figref idrefs="f0012">FIG. 16</figref> is a sequence chart of a location registration cancellation operation of the communication system in the first exemplary functional configuration. In this example, the VLR 141 is provided externally of the communication apparatus 18. When the mobile terminal 15 leaves the communication area 16 (step S161), a home location register (HLR) 160 transmits a subscriber information deletion request to the communication apparatus 18 (step S162).</p><p id="p0109" num="0109">The subscriber information deletion request is a signal that requests deletion of the location registration<!-- EPO <DP n="31"> --> information of the mobile terminal 15. The packet service managing unit 54 of the communication apparatus 18 transmits the subscriber information deletion request to the VLR 141 (step S163). Thus, the VLR 141 deletes the location registration information (of the mobile terminal 15) that the VLR 141 has stored therein. The packet service managing unit 54 transmits a resource release request to the indoor base station 14 (step S164).</p><p id="p0110" num="0110">The resource release request is a signal that requests release of the resources allocated to the processing concerning the mobile terminal 15. The terminal state managing unit 26 of the indoor base station 14 releases the resources allocated to the processing concerning the mobile terminal 15 (step S165), and a series of the process comes to an end. At this time, the terminal state managing unit 26 may release the resources or may keep storing the mobile-network address and the LAN address in the storing unit 24.</p><p id="p0111" num="0111"><figref idrefs="f0013">FIG. 17</figref> is a sequence chart of a generation operation for the 3GPP Context in the first exemplary functional configuration. In <figref idrefs="f0013">FIG. 17</figref>, an example where the first exemplary functional configuration is applied to a generation sequence of the PDP Context (Packet Data Protocol Context) in the 3GPP (see 3GPP TS23.060) will be described.</p><p id="p0112" num="0112">In the first exemplary functional configuration, no protocol that terminates a message, from the communication apparatus 18, notifying the mobile terminal 15 of the mobile-network address is implemented in the indoor base station 14. Therefore, the indoor base station 14 has a function of checking the PDP Context and correcting a portion that is the mobile-network address. The mobile terminal 15, the indoor base station 14, and the<!-- EPO <DP n="32"> --> communication apparatus 18 execute the location registration and the packet arrival process (step S171).</p><p id="p0113" num="0113">The mobile terminal 15 transmits a connection request message (Activate PDP Context Request) to the communication apparatus 18 (step S172). The communication apparatus 18 generates PDP Context that has an IPv6 mobile-network address (Address "A") (step S173).</p><p id="p0114" num="0114">The mobile terminal 15, the indoor base station 14, and the communication apparatus 18 mutually establish communication paths (Radio Access Bearer Setup) (step S174). The communication apparatus 18 transmits the PDP Context generated at step S173 as a connection permission message (Activate PDP Context Accept), to the indoor base station 14 (step S175).</p><p id="p0115" num="0115">The indoor base station 14 checks the connection permission message transmitted at step S175 and generates the conversion table 24a that includes the IPv6 mobile-network address (Address "A") stored in the connection permission message and the IPv4 mobile-network address (Address "A") pooled in advance (step S176).</p><p id="p0116" num="0116">The indoor base station 14 transmits the IPv4 mobile-network address (Address "A") used in generating the conversion table 24a at step S176 to the mobile terminal 15 using the connection permission message (Activate PDP Context Accept) (step S177). The mobile terminal 15 sets the IPv4 mobile-network address (Address "A") stored in the connection permission message transmitted at step S177 as the address of the mobile terminal 15 (step S178), and a series of the process comes to an end.</p><p id="p0117" num="0117"><figref idrefs="f0014">FIG. 18</figref> is a diagram of a second exemplary functional configuration of the communication system. <figref idrefs="f0014">FIG. 19</figref> is another diagram of the second exemplary functional configuration of the communication system. In <figref idrefs="f0014">FIG. 18</figref>,<!-- EPO <DP n="33"> --> description for the portions identical to those depicted in <figref idrefs="f0008">FIG. 11</figref> will be omitted. In <figref idrefs="f0014">FIG. 19</figref>, description for the portions identical to those depicted in <figref idrefs="f0008">FIG. 12</figref> will be omitted. <figref idrefs="f0014">FIGs. 18 and 19</figref> depict protocol stacks of the C-Plane and the U-Plane formed when non access stratum (NAS) termination is executed by the communication apparatus 18.</p><p id="p0118" num="0118">The second exemplary functional configurations depicted in <figref idrefs="f0014">FIGs. 18 and 19</figref> differ in the respect of whether the communication apparatus 18 has a GTP function in the U-Plane. In the second exemplary functional configuration depicted in <figref idrefs="f0014">FIG. 18</figref>, the communication apparatus 18 has the GTP function in the U-Plane and the communication apparatus 18 terminates the GTP. In the second exemplary functional configuration depicted in <figref idrefs="f0014">FIG. 19</figref>, the communication apparatus 18 has no GTP function and the communication apparatus 18 does not terminate the GTP. In this case, the communication apparatus 18 mainly has the SGSN/GGSN function.</p><p id="p0119" num="0119">"RANAP" of the indoor base station 14 and the communication apparatus 18, respectively, denotes a radio access network application part (wireless access network application unit). In the second exemplary functional configuration, the configuration is switched to the second exemplary functional configuration depicted in <figref idrefs="f0014">FIG. 18</figref> when the mobile terminal 15 executes data communication with the mobile communication network 12, and the configuration is switched to the second exemplary functional configuration depicted in <figref idrefs="f0014">FIG. 19</figref> when the mobile terminal 15 executes data communication with the PC 17. Thus, the mobile terminal 15 can execute data communication with both the mobile communication network 12 and the PC 17.</p><p id="p0120" num="0120"><figref idrefs="f0015">FIG. 20</figref> is a block diagram of a configuration of the indoor base station in the second exemplary functional<!-- EPO <DP n="34"> --> configuration. In <figref idrefs="f0015">FIG. 20</figref>, the components identical to those depicted in <figref idrefs="f0009">FIG. 13</figref> are given the same reference numerals respectively given in <figref idrefs="f0009">FIG. 13</figref> and description thereof will be omitted. The terminal state managing unit 26 of the indoor base station 14 has a function of the RRC protocol of the 3GPP. Thus, the terminal state managing unit 26 can obtain the RRC state of the mobile terminal 15 and manage the state of the mobile terminal 15.</p><p id="p0121" num="0121">When the terminal state managing unit 26 is requested by the transferring unit 25 to switch the communication mode of the mobile terminal 15 from "power saving" to "normal", the terminal state managing unit 26 switches the communication mode of the mobile terminal 15 from "power saving" to "normal" using the RRC protocol. In this manner, the terminal state managing unit 26 does not switch the communication mode of the mobile terminal 15 by requesting the communication apparatus 18 to switch the mode but switches the communication mode of the mobile terminal 15 using the RRC protocol function.</p><p id="p0122" num="0122"><figref idrefs="f0016">FIG. 21</figref> is a sequence chart of an exemplary location registration operation of the communication system in the second exemplary functional configuration. In <figref idrefs="f0016">FIG. 21</figref>, steps S211 to S217 respectively are substantially identical to steps S151 to S157 (see <figref idrefs="f0011">FIG. 15</figref>) and therefore, description thereof will be omitted. When the DHCP 112 outputs the mobile-network address to the packet service managing unit 54 (step S217), the packet service managing unit 54 transmits the mobile-network address output at step S217 to the indoor base station 14 (step S218).</p><p id="p0123" num="0123">The indoor base station 14 transmits the mobile-network address transmitted from the packet service managing unit 54 at step S218, to the mobile terminal 15 (step S219), and a series of the process comes to an end.<!-- EPO <DP n="35"> --> The transmission of the mobile-network address at step S218 is executed by transmitting the paging by the RRC function of the packet service managing unit 54.</p><p id="p0124" num="0124"><figref idrefs="f0017">FIG. 22</figref> is a sequence chart of a generation operation of the 3GPP Context in the second exemplary functional configuration. Steps S221, and S223 to S228 depicted in <figref idrefs="f0017">FIG. 22</figref> respectively are substantially identical to steps S171, and S173 to S178 and therefore, description thereof will be omitted. In the second exemplary functional configuration, at step S222, the indoor base station 14 terminates the connection request message transmitted from the mobile terminal 15 and transmits the connection request message terminated to the communication apparatus 18.</p><p id="p0125" num="0125"><figref idrefs="f0018">FIG. 23</figref> is a sequence chart of an exemplary packet transfer operation in the second exemplary functional configuration. The indoor base station 14 obtains the LAN address from the BB router 13 and assigns the obtained address to the mobile terminal 15 (step S2301). When the mobile terminal 15 enters the communication area 16, the indoor base station 14 generates the location registration, the PDP Context that includes the mobile-network address, and the conversion table 24a (step S2302).</p><p id="p0126" num="0126">It is assumed that, thereafter, the communication mode of the mobile terminal 15 is switched to "power saving" (Cell_DCH to Cell_PCH) (step S2303). A dotted line frame 231 indicates the packet transfer operation executed when the IP packet from the PC 17 is transmitted to the mobile terminal 15 after step S2303.</p><p id="p0127" num="0127">As depicted in the dotted line frame 231, the IP packet transmitted from the PC 17 is transmitted to the indoor base station through the BB router 13 (step S2304). The destination address of the IP packet transmitted at step S2304 is the LAN address that is assigned to the<!-- EPO <DP n="36"> --> mobile terminal 15 at step S2301.</p><p id="p0128" num="0128">The indoor base station 14 detects that the indoor base station 14 has received the IP packet addressed to the mobile terminal 15 (for UE) (step S2305). The indoor base station 14, using the valid/invalid flag 42, confirms that the LAN address that is the destination address of the IP packet is valid (IP address validity confirmation). The indoor base station 14, using the valid/invalid flag 43, confirms the communication mode of the mobile terminal 15 to which the LAN address, which is the destination address of the IP packet, is assigned (mobile terminal state confirmation).</p><p id="p0129" num="0129">In this example, the communication mode of the mobile terminal 15 is "power saving" (Cell_PCH). The indoor base station 14 executes paging to the mobile terminal 15 and switches the communication mode of the mobile terminal 15 from "power saving" to "normal" (Cell_PCH to Cell_HSDSCH) (step S2306).</p><p id="p0130" num="0130">The indoor base station 14 converts the destination address of the IP packet from the LAN address to the mobile-network address using the conversion table 24a (step S2307). The indoor base station 14 transmits the IP packet whose destination address has been converted at step S2307, to the mobile terminal 15 (step S2308). When the communication mode of the mobile terminal 15 is "normal" at step S2305, step S2306 is omitted.</p><p id="p0131" num="0131">A dotted line frame 232 indicates the packet transfer operation executed when the IP packet from the mobile communication network 12 is transmitted to the mobile terminal 15 after step S2303 (when the IP packet is mobile communication network traffic). As depicted in the dotted line frame 232, the IP packet transmitted from the mobile communication network 12 is transmitted to the indoor base<!-- EPO <DP n="37"> --> station 14 through the BB router 13 (step S2309).</p><p id="p0132" num="0132">The destination address of the IP packet transmitted at step S2309 is the mobile-network address assigned to the mobile terminal 15 at step S2302. The indoor base station 14 detects the reception of the IP packet addressed to the mobile terminal 15 (for UE) (step S2310). The indoor base station 14, using the valid/invalid flag 72 (see <figref idrefs="f0005">FIG. 7</figref>), confirms that the mobile-network address, which is the destination address of the IP packet, is valid (IP address validity confirmation).</p><p id="p0133" num="0133">The indoor base station 14, using the communication mode flag 43, confirms the communication mode of the mobile terminal 15 to which the mobile-network address that is the destination address of the IP packet is assigned (mobile terminal state confirmation). In this example, the communication mode of the mobile terminal 15 is "power saving". The indoor base station 14 executes paging to the mobile terminal 15 and switches the communication of the mobile terminal 15 from "power saving" to "normal"<br/>
(Cell_PCH to Cell_HSDSCH) (step S2311).</p><p id="p0134" num="0134">The indoor base station 14 transmits to the mobile terminal 15, the IP packet detected at step S2310 (step S2312). When the communication mode of the mobile terminal 15 is "normal" at step S2310, step S2311 is omitted.</p><p id="p0135" num="0135"><figref idrefs="f0019">FIG. 24</figref> is a sequence chart of another exemplary packet transfer operation in the second exemplary functional configuration. When the mobile terminal 15 enters the communication area 16, the indoor base station 14 generates the location registration and the PDP Context that includes the mobile-network address (step S2401). The mobile terminal 15 sets the mobile-network address assigned at step S2401 as the address of the mobile terminal 15 (step S2402).<!-- EPO <DP n="38"> --></p><p id="p0136" num="0136">An xGSN 240 (serving/gateway General packet radio service Support Node: packet processing node) on the mobile communication network 12 obtains the mobile-network address assigned at step S2401 (step S2403). It is assumed that, thereafter, the communication mode of the mobile terminal 15 is switched to "stand by" (Cell_DCH to Cell_PCH) (step S2404).</p><p id="p0137" num="0137">The indoor base station 14 obtains the LAN address from the BB router 13 and assigns the obtained address to the mobile terminal 15 (step S2405). The indoor base station 14 generates the conversion table 24a that includes the mobile-network address obtained at step S2401 and the LAN address obtained at step S2405 (step S2405).</p><p id="p0138" num="0138">A dotted line frame 241 indicates the packet transfer operation executed when the IP packet from the PC 17 is transmitted to the mobile terminal 15 after step S2406 (when the IP packet is LAN traffic). As depicted in the dotted line frame 241, the IP packet transmitted from the PC 17 is transmitted to the indoor base station 14 through the BB router 13 (step S2407). The destination address of the IP packet transmitted at step S2407 is the LAN address assigned to the mobile terminal 15 at step S2405.</p><p id="p0139" num="0139">The indoor base station 14 detects the reception of the IP packet addressed to the mobile terminal 15 (for UE) (step S2408). In this case, the indoor base station 14 does not execute confirmation of the valid/invalid flag 42 or confirmation of the communication mode of the mobile terminal 15 of the LAN address. The indoor base station 14 executes paging to the mobile terminal 15 and switches the communication mode of the mobile terminal 15 from "stand by" to "normal" (Cell_PCH to Cell_HSDSCH) (step S2409).</p><p id="p0140" num="0140">The indoor base station 14 converts the destination address of the IP packet from the LAN address to the<!-- EPO <DP n="39"> --> mobile-network address using the conversion table 24a (step S2410). The indoor base station 14 transmits the IP packet whose destination address is converted at step S2407, to the mobile terminal 15 (step S2411).</p><p id="p0141" num="0141">A dotted line frame 242 indicates the packet transfer operation executed when the IP packet from an xGSN 240 is transmitted to the mobile terminal 15 after step S2405 (when the IP packet is traffic of the mobile communication network). In the dotted line box 242, the IP packet transmitted from the xGSN 240 is transmitted to the indoor base station 14 through the BB router 13 (step S2412).</p><p id="p0142" num="0142">The destination address of the IP packet transmitted at step S2412 is the mobile-network address assigned to the mobile terminal 15 at step S2401. In this case, the indoor base station 14 does not execute the detection of reception of the IP packet, the confirmation of the valid/invalid flag 42 of the LAN address, or the confirmation of the communication mode of the mobile terminal 15.</p><p id="p0143" num="0143">The indoor base station 14 executes paging to the mobile terminal 15 and switches the communication mode of the mobile terminal 15 from "stand by" to "normal" (Cell_PCH to Cell_HSDSCH) (step S2413). The indoor base station 14 transfers the IP packet transmitted at step S2412 to the mobile terminal 15 (step S2414).</p><p id="p0144" num="0144"><figref idrefs="f0020">FIG. 25</figref> is a diagram of a third exemplary functional configuration of the communication system. <figref idrefs="f0020">FIG. 26</figref> is another diagram of the third exemplary functional configuration of the communication system. In <figref idrefs="f0020">FIG. 25</figref>, description for the components identical to those depicted in <figref idrefs="f0008">FIG. 11</figref> will be omitted. In <figref idrefs="f0020">FIG. 26</figref>, description for the components identical to those depicted in <figref idrefs="f0008">FIG. 12</figref> will be omitted. <figref idrefs="f0020">FIGs. 25 and 26</figref> depict protocol stacks of C-Plane and U-Plane formed when NAS termination is executed<!-- EPO <DP n="40"> --> by the indoor base station 14.</p><p id="p0145" num="0145">The third exemplary functional configurations depicted in <figref idrefs="f0020">FIGs. 25 and 26</figref> differ in the respect of whether the communication apparatus 18 has a GTP function in the U-Plane. In the third exemplary functional configuration depicted in <figref idrefs="f0020">FIG. 25</figref>, the communication apparatus 18 has the GTP function in the U-Plane and the communication apparatus 18 terminates the GTP. In the third exemplary functional configuration depicted in <figref idrefs="f0020">FIG. 26</figref>, the communication apparatus 18 has no GTP function and the communication apparatus 18 does not terminate the GTP. In this case, the communication apparatus 18 does not execute protocol termination.</p><p id="p0146" num="0146">It is assumed for the communication system 10 that the network executes the management of the mobile-network address of the mobile communication network 12. Therefore, the communication apparatus 18 manages the mobile-network address. In this case, although the communication apparatus 18 has no SGSN function, the communication apparatus 18 has a function substantially similar to the SGSN function and can assign the mobile-network address to the indoor base station 14. Further, the communication apparatus 18 may have a function concerning the location registration (a dotted line depicted).</p><p id="p0147" num="0147"><figref idrefs="f0021">FIG. 27</figref> is a block diagram of a configuration of the indoor base station in the third exemplary functional configuration. In <figref idrefs="f0021">FIG. 27</figref>, components identical to those depicted in <figref idrefs="f0015">FIG. 20</figref> are given the same reference numerals respectively given in <figref idrefs="f0015">FIG. 20</figref> and the description thereof will be omitted. As depicted in <figref idrefs="f0021">FIG. 27</figref>, in the third exemplary functional configuration, the NAS is terminated by the indoor base station 14. The location registration operation of the communication system 10 in the third<!-- EPO <DP n="41"> --> exemplary functional configuration is identical to the location registration operation depicted in <figref idrefs="f0016">FIG. 21</figref> and therefore, description thereof will be omitted.</p><p id="p0148" num="0148"><figref idrefs="f0022">FIG. 28</figref> is a sequence chart of an exemplary location registration operation of the communication system in the third exemplary functional configuration. In <figref idrefs="f0022">FIG. 28</figref>, an example where the third exemplary functional configuration is applied to a generation sequence for the PDP Context under the 3GPP (see 3GPP TS23.060) will be described. A message concerning the PDP Context generation requested from the mobile terminal 15 is checked at the indoor base station 14.</p><p id="p0149" num="0149">In the third exemplary functional configuration, a protocol to terminate a message, from the communication apparatus 18, that notifies the mobile terminal 15 of the mobile-network address is implemented in the communication apparatus 18. Therefore, the communication apparatus 18 checks the PDP Context and corrects the address portion for the mobile network. The mobile terminal 15 and the indoor base station 14 execute a packet arrival process (step S281).</p><p id="p0150" num="0150">The mobile terminal 15 transmits a connection request message (Activate PDP Context Request) to the indoor base station 14 (step S282). The indoor base station 14 transmits Create PDP Context Request to the communication apparatus 18 (step S283).</p><p id="p0151" num="0151">The communication apparatus 18 creates the PDP Context that has an IPv6 mobile-network address (Address "A") (step S284). The communication apparatus 18 transmits the PDP Context created at step S284 as Create PDP Context Response (step S285).</p><p id="p0152" num="0152">The indoor base station 14 generates the conversion table 24a that includes an IPv6 mobile-network address<!-- EPO <DP n="42"> --> stored in the Create PDP Context Response transmitted at step S285 and an IPv4 mobile-network address (Address "A") (step S286).</p><p id="p0153" num="0153">The mobile terminal 15 and the indoor base station 14 mutually establish a communication path (Radio Access Bearer Setup) (step S287). The indoor base station 14 transmits the IPv4 mobile-network address (Address "A") for which the conversion table 24a is generated at step S286 to the mobile terminal 15 using a connection permission message (Activate PDP Context Accept) (step S288).</p><p id="p0154" num="0154">The mobile terminal 15 sets the IPv4 mobile-network address (Address "A") stored in the connection permission message transmitted at step S287 as the address of the mobile terminal 15 (step S289), and a series of the process comes to an end. Thus, even when the mobile-network address used in the mobile communication network 12 is for IPv6 and the mobile-network address that the mobile terminal 15 supports is for IPv4, an IP packet transmitted from the PC 17 or the mobile communication network 12 can be transferred to the mobile terminal 15.</p><p id="p0155" num="0155">As described, according to the base station and the data transferring method disclosed herein, a packet (the IP packet) can be transmitted at a high speed from a communication terminal (the PC 17) to a mobile terminal 15 in a network on the premises (the LAN 11) without adding any further function to the mobile terminal.</p><p id="p0156" num="0156">In the embodiments, the PC 17 is taken as an example of and described as a communication terminal in the LAN 11. However, the communication terminal in the LAN 11 is not limited to the PC 17 and any computer apparatus that has a communication function under the femto-cell scheme such as a home appliance having a communication function may be used.<!-- EPO <DP n="43"> --></p><p id="p0157" num="0157">All examples and conditional language recited herein are intended for pedagogical purposes to aid the reader in understanding the invention and the concepts contributed by the inventor to furthering the art, and are to be construed as being without limitation to such specifically recited examples and conditions, nor does the organization of such examples in the specification relate to a showing of the superiority and inferiority of the invention. Although the embodiment(s) of the present inventions have been described in detail, it should be understood that the various changes, substitutions, and alterations could be made hereto without departing from the spirit and scope of the invention.</p><p id="p0158" num="0158">In any of the above aspects, the various features may be implemented in hardware, or as software modules running on one or more processors. Features of one aspect may be applied to any of the other aspects.</p><p id="p0159" num="0159">The invention also provides a computer program or a computer program product for carrying out any of the methods described herein, and a computer readable medium having stored thereon a program for carrying out any of the methods described herein.</p><p id="p0160" num="0160">A computer program embodying the invention may be stored on a computer-readable medium, or it could, for example, be in the form of a signal such as a downloadable data signal provided from an Internet website, or it could be in any other form.</p></description><claims mxw-id="PCLM56980241" lang="DE" load-source="patent-office"><!-- EPO <DP n="47"> --><claim id="c-de-01-0001" num="0001"><claim-text>Basisstation (14), die dafür konfiguriert ist, einen Kommunikationsbereich (16) zu bilden, der über ein lokales Netzwerk (11), das die Basisstation beinhaltet, mit einem Mobilfunk-Kommunikationsnetzwerk (12) kommunizieren kann, wobei die Basisstation Folgendes umfasst:
<claim-text>eine erste Einholungseinheit (23), die dafür konfiguriert ist, eine lokale Netzwerkadresse einzuholen, die einem mobilen Endgerät (15) im Kommunikationsbereich (16) vom lokalen Netzwerk zugeordnet ist, um einen Datenaustausch mit einem Kommunikationsendgerät (17) im lokalen Netzwerk auszuführen,</claim-text>
<claim-text>eine zweite Einholungseinheit (23), die dafür konfiguriert ist, eine mobile Netzwerkadresse einzuholen, die dem mobilen Endgerät (15) vom Mobilfunk-Kommunikationsnetzwerk (12) zugeordnet ist, um einen Datenaustausch mit dem Mobilfunk-Kommunikationsnetzwerk auszuführen,</claim-text>
<claim-text>eine Speichereinheit (24), die dafür konfiguriert ist,</claim-text>
<claim-text>die von der ersten Einholungseinheit eingeholte lokale Netzwerkadresse und die von der zweiten</claim-text>
<claim-text>Einholungseinheit eingeholte mobile Netzwerkadresse in Beziehung zueinander zu setzen und zu speichern,</claim-text>
<claim-text>eine Empfangseinheit (21), die dafür konfiguriert ist,</claim-text>
<claim-text>vom Kommunikationsendgerät (17) Daten zu empfangen, die<!-- EPO <DP n="48"> --> eine Zieladresse aufweisen, welche die lokale Netzwerkadresse ist,</claim-text>
<claim-text>eine Umwandlungseinheit (25a), die dafür konfiguriert ist, die Zieladresse der Daten, die durch die Empfangseinheit empfangen wurden, in die mobile Netzwerkadresse umzuwandeln, die mit der lokalen Netzwerkadresse in Beziehung steht und in der Speichereinheit (24) gespeichert ist, und</claim-text>
<claim-text>eine Sendeeinheit (22), die dafür konfiguriert ist, die Daten, deren Zieladresse durch die Umwandlungseinheit umgewandelt wurde, an das mobile Endgerät (15) zu senden.</claim-text></claim-text></claim><claim id="c-de-01-0002" num="0002"><claim-text>Basisstation (14) nach Anspruch 1, ferner Folgendes umfassend:
<claim-text>eine Verwaltungseinheit (26), die dafür konfiguriert ist, einen Kommunikationsmodus des mobilen Endgerätes in einen Kommunikationsmodus zu schalten, der den Empfang der Daten ermöglicht, wenn die Daten durch die Empfangseinheit empfangen werden, wobei</claim-text>
<claim-text>die Sendeeinheit (22) dafür konfiguriert ist, die Daten an das mobile Endgerät zu senden, dessen Kommunikationsmodus durch die Verwaltungseinheit umgeschaltet wurde.</claim-text></claim-text></claim><claim id="c-de-01-0003" num="0003"><claim-text>Basisstation nach Anspruch 1 oder 2, wobei<br/>
die zweite Einholungseinheit dafür konfiguriert ist, die mobile Netzwerkadresse einzuholen, wenn im Mobilfunk-Kommunikationsnetzwerk eine Standortregistrierung ausgeführt wird.</claim-text></claim><claim id="c-de-01-0004" num="0004"><claim-text>Basisstation nach einem der Ansprüche 1 bis 3, wobei<!-- EPO <DP n="49"> --> die Speichereinheit (24) dafür konfiguriert ist, die lokale Netzwerkadresse und die mobile Netzwerkadresse zu speichern, bis das mobile Endgerät den<br/>
Kommunikationsbereich verlässt.</claim-text></claim><claim id="c-de-01-0005" num="0005"><claim-text>Basisstation nach einem der Ansprüche 1 bis 4, ferner Folgendes umfassend:
<claim-text>eine Adressenverwaltungseinheit (23), die dafür konfiguriert ist, dem mobilen Endgerät die zugeordnete mobile Netzwerkadresse im mobilen Kommunikationsnetzwerk zurückzugeben, wenn das mobile Endgerät den Kommunikationsbereich verlässt.</claim-text></claim-text></claim><claim id="c-de-01-0006" num="0006"><claim-text>Datenübertragungsverfahren einer Basisstation, die einen Kommunikationsbereich bildet, der über ein lokales Netzwerk, das die Basisstation beinhaltet, mit einem Mobilfunk-Kommunikationsnetzwerk kommunizieren kann, wobei das Datenübertragungsverfahren Folgendes umfasst:
<claim-text>Einholen einer lokalen Netzwerkadresse, die einem mobilen Endgerät im Kommunikationsbereich vom lokalen Netzwerk zugeordnet ist, um einen Datenaustausch mit einem Kommunikationsendgerät im lokalen Netzwerk auszuführen,</claim-text>
<claim-text>Einholen einer mobilen Netzwerkadresse, die dem mobilen Endgerät vom Mobilfunk-Kommunikationsnetzwerk zugeordnet ist, um einen Datenaustausch mit dem Mobilfunk-Kommunikationsnetzwerk auszuführen,</claim-text>
<claim-text>Speichern der beim Einholen der lokalen Netzwerkadresse eingeholten lokalen Netzwerkadresse und der beim Einholen der mobilen Netzwerkadresse eingeholten mobilen Netzwerkadresse in Beziehung zueinander,<!-- EPO <DP n="50"> --></claim-text>
<claim-text>Empfangen von Daten mit einer Zieladresse, welche die lokale Netzwerkadresse ist, vom Kommunikations-Endgerät,</claim-text>
<claim-text>Umwandeln der Zieladresse der Daten, die beim Empfangen empfangen wurden, in die mobile Netzwerkadresse, die mit der lokalen Netzwerkadresse in Beziehung steht und beim Speichern gespeichert wurde, und</claim-text>
<claim-text>Senden der Daten, deren Zieladresse beim Umwandeln umgewandelt wurde, an das mobile Endgerät.</claim-text></claim-text></claim></claims><claims mxw-id="PCLM56980242" lang="EN" load-source="patent-office"><!-- EPO <DP n="44"> --><claim id="c-en-01-0001" num="0001"><claim-text>A base station (14) configured to form a communication area (16) that is communicable with a mobile communication network (12) through a local network (11) that includes the base station, the base station comprising:
<claim-text>a first obtaining unit (23) configured to obtain a local-network address assigned from the local network to a mobile terminal (15) in the communication area (16) to execute data communication with a communication terminal (17) in the local network;</claim-text>
<claim-text>a second obtaining unit (23) configured to obtain a mobile-network address assigned from the mobile communication network (12) to the mobile terminal (15) to execute data communication with the mobile communication network;</claim-text>
<claim-text>a storing unit (24) configured to correlate and store therein the local-network address obtained by the first obtaining unit and the mobile-network address obtained by the second obtaining unit;</claim-text>
<claim-text>a receiving unit (21) configured to receive, from the communication terminal (17), data having a destination address that is the local-network address;</claim-text>
<claim-text>a converting unit (25a) configured to convert the destination address of the data received by the receiving unit into the mobile-network address correlated with the local-network address and stored in the storing unit (24); and</claim-text>
<claim-text>a transmitting unit (22) configured to transmit, to the mobile terminal (15), the data whose destination address has been converted by the converting unit.</claim-text></claim-text></claim><claim id="c-en-01-0002" num="0002"><claim-text>The base station (14) according to claim 1, further<!-- EPO <DP n="45"> --> comprising<br/>
a managing unit (26) configured to switch a communication mode of the mobile terminal to a communication mode that enables reception of the data when the data is received by the receiving unit, wherein<br/>
the transmitting unit (22) is configured to transmit the data to the mobile terminal whose communication mode has been switched by the managing unit.</claim-text></claim><claim id="c-en-01-0003" num="0003"><claim-text>The base station according to claim 1 or 2, wherein<br/>
the second obtaining unit is configured to obtain the mobile-network address when a location registration of the mobile terminal is executed in the mobile communication network.</claim-text></claim><claim id="c-en-01-0004" num="0004"><claim-text>The base station according to any of claims 1 to 3, wherein<br/>
the storing unit (24) is configured to store therein the local-network address and the mobile-network address until the mobile terminal leaves the communication area.</claim-text></claim><claim id="c-en-01-0005" num="0005"><claim-text>The base station according to any of claims 1 to 4, further comprising<br/>
an address managing unit (23) configured to return the mobile-network address assigned to the mobile terminal to the mobile communication network when the mobile terminal leaves the communication area.</claim-text></claim><claim id="c-en-01-0006" num="0006"><claim-text>A data transferring method of a base station that forms a communication area that is communicable with a mobile communication network through a local network that includes the base station, the data transferring method comprising:<!-- EPO <DP n="46"> -->
<claim-text>obtaining a local-network address assigned from the local network to a mobile terminal in the communication area to execute data communication with a communication terminal in the local network;</claim-text>
<claim-text>obtaining a mobile-network address assigned from the mobile communication network to the mobile terminal to execute data communication with the mobile communication network;</claim-text>
<claim-text>storing, in correlation, the local-network address obtained at the obtaining the local-network address and the mobile-network address obtained at the obtaining the mobile-network address;</claim-text>
<claim-text>receiving, from the communication terminal, data having a destination address that is the local-network address;</claim-text>
<claim-text>converting the destination address of the data received at the receiving into the mobile-network address correlated with the local-network address and stored at the storing; and</claim-text>
<claim-text>transmitting, to the mobile terminal, the data whose destination address has been converted at the converting.</claim-text></claim-text></claim></claims><claims mxw-id="PCLM56980243" lang="FR" load-source="patent-office"><!-- EPO <DP n="51"> --><claim id="c-fr-01-0001" num="0001"><claim-text>Station de base (14) configurée pour former une zone de communication (16) qui peut être mise en communication avec un réseau de communication mobile (12) par le biais d'un réseau local (11) qui comprend la station de base, la station de base comprenant :
<claim-text>une première unité d'obtention (23) configurée pour obtenir une adresse de réseau local attribuée par le réseau local à un terminal mobile (15) dans la zone de communication (16) pour exécuter une communication de données avec un terminal de communication (17) dans le réseau local ;</claim-text>
<claim-text>une seconde unité d'obtention (23) configurée pour obtenir une adresse de réseau mobile attribuée par le réseau de communication mobile (12) au terminal mobile (15) pour exécuter une communication de données avec le réseau de communication mobile ;</claim-text>
<claim-text>une unité de stockage (24) configurée pour corréler et stocker à l'intérieur l'adresse de réseau local obtenue par la première unité d'obtention et l'adresse de réseau mobile obtenue par la seconde unité d'obtention ;</claim-text>
<claim-text>une unité de réception (21) configurée pour recevoir, depuis le terminal de communication (17), des données ayant une adresse de destination qui est l'adresse de réseau local ;</claim-text>
<claim-text>une unité de conversion (25a) configurée pour convertir l'adresse de destination des données reçues par l'unité de réception en l'adresse de réseau mobile corrélée avec l'adresse de réseau local et stockée dans l'unité de stockage (24) ; et</claim-text>
<claim-text>une unité de transmission (22) configurée pour transmettre, au terminal mobile (15), les données dont l'adresse de destination a été convertie par l'unité de conversion.</claim-text></claim-text></claim><claim id="c-fr-01-0002" num="0002"><claim-text>Station de base (14) selon la revendication 1, comprenant en outre<br/>
<!-- EPO <DP n="52"> -->une unité de gestion (26) configurée pour commuter d'un mode de communication du terminal mobile vers un mode de communication qui permet la réception des données lorsque les données sont reçues par l'unité de réception,<br/>
l'unité de transmission (22) étant configurée pour transmettre les données au terminal mobile dont le mode de communication a été commuté par l'unité de gestion.</claim-text></claim><claim id="c-fr-01-0003" num="0003"><claim-text>Station de base selon la revendication 1 ou 2, dans laquelle<br/>
la seconde unité d'obtention est configurée pour obtenir l'adresse de réseau mobile lorsqu'un enregistrement de localisation du terminal mobile est exécuté dans le réseau de communication mobile.</claim-text></claim><claim id="c-fr-01-0004" num="0004"><claim-text>Station de base selon l'une quelconque des revendications 1 à 3, dans laquelle<br/>
l'unité de stockage (24) est configurée pour stocker l'adresse de réseau local et l'adresse de réseau mobile jusqu'à ce que le terminal mobile quitte la zone de communication.</claim-text></claim><claim id="c-fr-01-0005" num="0005"><claim-text>Station de base selon l'une quelconque des revendications 1 à 4, comprenant en outre<br/>
une unité de gestion d'adresse (23) configurée pour renvoyer l'adresse de réseau mobile attribuée au terminal mobile vers le réseau de communication mobile lorsque le terminal mobile quitte la zone de communication.</claim-text></claim><claim id="c-fr-01-0006" num="0006"><claim-text>Procédé de transfert de données d'une station de base qui forme une zone de communication qui peut être mise en communication avec un réseau de communication mobile par le biais d'un réseau local qui comprend la station de base, le procédé de transfert de données comprenant :
<claim-text>l'obtention d'une adresse de réseau local attribuée par le réseau local à un terminal mobile dans la zone de communication pour exécuter la communication de données avec un terminal de communication dans le réseau local ;<!-- EPO <DP n="53"> --></claim-text>
<claim-text>l'obtention d'un adresse de réseau mobile attribuée par le réseau de communication mobile au terminal mobile pour exécuter la communication de données avec le réseau de communication mobile ;</claim-text>
<claim-text>le stockage, en corrélation, de l'adresse de réseau local obtenue au moment de l'obtention de l'adresse de réseau local et de l'adresse de réseau mobile obtenue au moment de l'obtention de l'adresse de réseau mobile ;</claim-text>
<claim-text>la réception, depuis le terminal de communication, de données ayant une adresse de destination qui est l'adresse de réseau local ;</claim-text>
<claim-text>la conversion de l'adresse de destination des données reçues au moment de la réception en l'adresse de réseau mobile corrélée avec l'adresse de réseau local et stockée au moment du stockage ; et</claim-text>
<claim-text>la transmission, vers le terminal mobile, des données dont l'adresse de destination a été convertie au moment de la conversion.</claim-text></claim-text></claim></claims><drawings mxw-id="PDW16669099" load-source="patent-office"><!-- EPO <DP n="54"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="121" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="55"> --><figure id="f0002" num="2"><img id="if0002" file="imgf0002.tif" wi="165" he="201" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="56"> --><figure id="f0003" num="3,4,5"><img id="if0003" file="imgf0003.tif" wi="165" he="223" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="57"> --><figure id="f0004" num="6"><img id="if0004" file="imgf0004.tif" wi="165" he="226" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="58"> --><figure id="f0005" num="7,8"><img id="if0005" file="imgf0005.tif" wi="165" he="226" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="59"> --><figure id="f0006" num="9"><img id="if0006" file="imgf0006.tif" wi="165" he="227" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="60"> --><figure id="f0007" num="10"><img id="if0007" file="imgf0007.tif" wi="84" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="61"> --><figure id="f0008" num="11,12"><img id="if0008" file="imgf0008.tif" wi="165" he="230" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="62"> --><figure id="f0009" num="13"><img id="if0009" file="imgf0009.tif" wi="165" he="201" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="63"> --><figure id="f0010" num="14"><img id="if0010" file="imgf0010.tif" wi="165" he="93" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="64"> --><figure id="f0011" num="15"><img id="if0011" file="imgf0011.tif" wi="165" he="220" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="65"> --><figure id="f0012" num="16"><img id="if0012" file="imgf0012.tif" wi="165" he="225" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="66"> --><figure id="f0013" num="17"><img id="if0013" file="imgf0013.tif" wi="165" he="193" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="67"> --><figure id="f0014" num="18,19"><img id="if0014" file="imgf0014.tif" wi="165" he="231" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="68"> --><figure id="f0015" num="20"><img id="if0015" file="imgf0015.tif" wi="165" he="201" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="69"> --><figure id="f0016" num="21"><img id="if0016" file="imgf0016.tif" wi="165" he="219" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="70"> --><figure id="f0017" num="22"><img id="if0017" file="imgf0017.tif" wi="165" he="190" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="71"> --><figure id="f0018" num="23"><img id="if0018" file="imgf0018.tif" wi="165" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="72"> --><figure id="f0019" num="24"><img id="if0019" file="imgf0019.tif" wi="165" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="73"> --><figure id="f0020" num="25,26"><img id="if0020" file="imgf0020.tif" wi="163" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="74"> --><figure id="f0021" num="27"><img id="if0021" file="imgf0021.tif" wi="165" he="202" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="75"> --><figure id="f0022" num="28"><img id="if0022" file="imgf0022.tif" wi="165" he="192" img-content="drawing" img-format="tif"/></figure></drawings><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
