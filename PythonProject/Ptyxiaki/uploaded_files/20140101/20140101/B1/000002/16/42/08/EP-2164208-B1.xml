<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2164208-B1" country="EP" doc-number="2164208" kind="B1" date="20140101" family-id="41051055" file-reference-id="315036" date-produced="20180822" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146554004" ucid="EP-2164208-B1"><document-id><country>EP</country><doc-number>2164208</doc-number><kind>B1</kind><date>20140101</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-09008792-A" is-representative="YES"><document-id mxw-id="PAPP154827927" load-source="docdb" format="epo"><country>EP</country><doc-number>09008792</doc-number><kind>A</kind><date>20090704</date><lang>EN</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140450154" ucid="EP-08305551-A" load-source="docdb"><document-id format="epo"><country>EP</country><doc-number>08305551</doc-number><kind>A</kind><date>20080915</date></document-id></priority-claim><priority-claim mxw-id="PPC140455037" ucid="EP-09008792-A" load-source="docdb"><document-id format="epo"><country>EP</country><doc-number>09008792</doc-number><kind>A</kind><date>20090704</date></document-id></priority-claim></priority-claims><dates-of-public-availability><intention-to-grant-date><date>20130829</date></intention-to-grant-date></dates-of-public-availability><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1988101548" load-source="ipcr">H04L  12/805       20130101ALI20130627BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1988117085" load-source="ipcr">H04L  12/801       20130101AFI20130627BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL1988101039" load-source="docdb" scheme="CPC">H04L  47/36        20130101 LI20130101BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988123474" load-source="docdb" scheme="CPC">H04L  47/10        20130101 FI20130101BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132194496" lang="DE" load-source="patent-office">Verfahren zur Bestimmung eines Datentransporteinheitsparameters zur Kommunikation zwischen zwei Stationen in einem Stationsnetzwerk und im Verfahren zur Funktion als Sendestation angepasste Netzwerkvorrichtung</invention-title><invention-title mxw-id="PT132194497" lang="EN" load-source="patent-office">Method for determining a data transport unit parameter for the communication between two stations in a network of stations and network device adapted to act as a sending station</invention-title><invention-title mxw-id="PT132194498" lang="FR" load-source="patent-office">Procédé pour déterminer le paramètre d'une unité de transport de données pour la communication entre deux stations dans un réseau de stations et dispositif de réseau adapté pour agir en tant que station d'envoi</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR918165315" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>TIXEL GMBH</last-name><address><country>DE</country></address></addressbook></applicant><applicant mxw-id="PPAR918163044" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>TIXEL GMBH</last-name></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR918141832" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>SIEMENS EDUARD</last-name><address><country>DE</country></address></addressbook></inventor><inventor mxw-id="PPAR918160878" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>SIEMENS, EDUARD</last-name></addressbook></inventor><inventor mxw-id="PPAR918998639" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>SIEMENS, EDUARD</last-name><address><street>Ferdinand-Wahrendorff-Str. 14</street><city>31319 Sehnde</city><country>DE</country></address></addressbook></inventor><inventor mxw-id="PPAR918171555" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>EGGERT DANIEL</last-name><address><country>DE</country></address></addressbook></inventor><inventor mxw-id="PPAR918133436" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>Eggert, Daniel</last-name></addressbook></inventor><inventor mxw-id="PPAR918998640" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>Eggert, Daniel</last-name><address><street>Metzer Strasse 35</street><city>30559 Hannover</city><country>DE</country></address></addressbook></inventor></inventors><assignees><assignee mxw-id="PPAR918998641" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Tixel GmbH</last-name><iid>101204031</iid><address><street>Karl-Wiechert-Allee 74</street><city>30625 Hannover</city><country>DE</country></address></addressbook></assignee></assignees></parties><international-convention-data><designated-states><ep-contracting-states><country mxw-id="DS548871972" load-source="docdb">AT</country><country mxw-id="DS548983388" load-source="docdb">BE</country><country mxw-id="DS548989839" load-source="docdb">BG</country><country mxw-id="DS548831209" load-source="docdb">CH</country><country mxw-id="DS548982405" load-source="docdb">CY</country><country mxw-id="DS548871973" load-source="docdb">CZ</country><country mxw-id="DS548985715" load-source="docdb">DE</country><country mxw-id="DS548982406" load-source="docdb">DK</country><country mxw-id="DS548982407" load-source="docdb">EE</country><country mxw-id="DS548886455" load-source="docdb">ES</country><country mxw-id="DS548989840" load-source="docdb">FI</country><country mxw-id="DS548989841" load-source="docdb">FR</country><country mxw-id="DS548983389" load-source="docdb">GB</country><country mxw-id="DS548982408" load-source="docdb">GR</country><country mxw-id="DS548983390" load-source="docdb">HR</country><country mxw-id="DS548871978" load-source="docdb">HU</country><country mxw-id="DS548831210" load-source="docdb">IE</country><country mxw-id="DS548983391" load-source="docdb">IS</country><country mxw-id="DS548989842" load-source="docdb">IT</country><country mxw-id="DS548982409" load-source="docdb">LI</country><country mxw-id="DS548985716" load-source="docdb">LT</country><country mxw-id="DS548871979" load-source="docdb">LU</country><country mxw-id="DS548985717" load-source="docdb">LV</country><country mxw-id="DS548985722" load-source="docdb">MC</country><country mxw-id="DS548991746" load-source="docdb">MK</country><country mxw-id="DS548991747" load-source="docdb">MT</country><country mxw-id="DS548989843" load-source="docdb">NL</country><country mxw-id="DS548886456" load-source="docdb">NO</country><country mxw-id="DS548989844" load-source="docdb">PL</country><country mxw-id="DS548991748" load-source="docdb">PT</country><country mxw-id="DS548989845" load-source="docdb">RO</country><country mxw-id="DS548989846" load-source="docdb">SE</country><country mxw-id="DS548991749" load-source="docdb">SI</country><country mxw-id="DS548831211" load-source="docdb">SK</country><country mxw-id="DS548831212" load-source="docdb">SM</country><country mxw-id="DS548985723" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data></bibliographic-data><description mxw-id="PDES63957566" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><p id="p0001" num="0001">The invention concerns the technical field of a so-called Path MTU (Maximum Transmission Unit) Discovery process between two computing nodes over packet switched networks.</p><heading id="h0001"><u>Technical Background:</u></heading><p id="p0002" num="0002">Sending large packets reduces the packet header as well as the overall packet processing overhead and improves therefore the network-performance. Especially in high-bandwidth networks, e.g. 10GBit/s, it's essential to use large packets to fully utilize the link capacity. Using packets bigger than the link MTU will lead to packet fragmentation or even worse - to loss of all data packets. The fragmentation produces unintentional header overhead and additional reassembly time or even in latter case lead to service disruption. On the path between two hosts in the network may exist various hops, e.g. routers, a packet needs to pass. Each link between two hops has its own MTU which may differ on each link. Thus there is a need for means to determine the maximum packet size, which can be transmitted from one end of communication to the other one without packet loss or fragmentation.</p><heading id="h0002"><u>List of References:</u></heading><p id="p0003" num="0003"><ul><li>[Mo90] <nplcit id="ncit0001" npl-type="s"><text>J. Mogul. Path MTU Discovery Specification. RFC 1191, IETF, November 1990</text></nplcit></li><li>[HA03] L. Hak-Goo, K. Young-Keun, K. Sun-Woo, L. Young-Jun. Method for path MTU discovery on IP network and apparatus<!-- EPO <DP n="2"> --> thereof. Patent No. <patcit id="pcit0001" dnum="US2003188015A1"><text>US2003188015A1</text></patcit>, Samsung Electronics Co Ltd (US), October 2003</li><li>[Ma07] <nplcit id="ncit0002" npl-type="s"><text>M. Mathis, J. Heffner. Packetization Layer Path MTU Discovery Specification. RFC 4821, IETF, March 2007</text></nplcit></li></ul></p><p id="p0004" num="0004">In the following, applicant refers to the above listed references in a simplified form by using only the short reference code provided in the list.</p><p id="p0005" num="0005">The general path MTU discovery algorithm described in [Mo90] is based on sending probe packets with the DF (don't fragment) bit set in the IP header. Then any device along the path whose outgoing MTU is smaller than the packet, will drop it, and send back an ICMP (Internet Control Message Protocol) message "Fragmentation Needed" containing the actual MTU of the outgoing interface. Receiving this message allows the sending host to reduce its packet size appropriately. The process repeats until the MTU is small enough to traverse the entire path without fragmentation.</p><p id="p0006" num="0006">The disadvantage of this algorithm and also of the discovery approach described in [HA03] is the dependency on receiving ICMP messages. However, security devices, e.g. firewalls, often block ICMP messages, including the ICMP error messages that are needed for these path MTU discovery algorithms to work.</p><p id="p0007" num="0007">Another problem with the approach described in [Mo90] is a missing MTU value in the corresponding ICMP message. To deal with it, [Mo90] proposes a search for "likely path MTU values". This search bases on a common MTU table which contains several plateau values to cover the MTU value area. The "likely value"<!-- EPO <DP n="3"> --> search will send probe packets with sizes from this table and assume the biggest plateau value, which was not answered by an ICMP error message, as path MTU.</p><p id="p0008" num="0008">This approach still relies on ICMP messages and thus deals with the same disadvantages described before. Furthermore the accurate path MTU will not be found in any case, because similar "likely MTU values" are grouped in plateau values.</p><p id="p0009" num="0009">The approach described in [Ma07] uses a binary search to work around the problem with dropped ICMP packets. The algorithm relies on the fact, that the sending host sends probe packets which need to be acknowledged by the receiving host. Depending on the reception of an explicit acknowledgement or not in case of a packet loss, the search area is narrowed setting the lower respectively the upper search limit for further searching.</p><p id="p0010" num="0010">The disadvantage of this method is the need to wait for an acknowledgment for each single sent probe packet. If a packet was dropped and the receiving host will not send an acknowledgement the sending host must need to wait until a timeout occurs to assume the used MTU was too big. In high delay networks the time needed to wait for the acknowledgement or the according timeout leads to high path MTU discovery durations and in consequence to long connection setup times.</p><p id="p0011" num="0011">A technique for inferring and debugging of path MTU discovery failures is known from the article XP-002545466; "<nplcit id="ncit0003" npl-type="s"><text>Inferring and Debugging Path MTU Discovery Failures" from MATTHEW LUCKIE; KENJTRO CHO; BILL OWENS in INTERNET MEASUREMENT CONFERENCE 2005, Berkeley, CA, USA, 20051019; 20051019 - 20051021; Page(s):193 - 198</text></nplcit>.<!-- EPO <DP n="4"> --></p><p id="p0012" num="0012">This dcoument teaches to narrow the search space step by step until it converges on the actual next-hop MTU.</p><p id="p0013" num="0013">It is an object of the invention to describe a method for a fast and byte accurate path MTU discovery not relying on ICMP messages.</p><heading id="h0003"><u>Summary of the Invention</u></heading><!-- EPO <DP n="5"> --><p id="p0014" num="0014">Like the above mentioned algorithms, the proposed method is also based on sending probe packets with the DF bit set in the according IP header. In order to deal with connections, on which ICMP messages are blocked within the network nodes, the invention relies on acknowledgements of the probe packets sent by the destination host in the same way as in the binary search approach described in [Ma07].</p><p id="p0015" num="0015">In addition, at first, a common MTU search is done by sending probe packets with MTU sizes of common network technology based MTU values, similar to the "likely path MTU value" search described in [Mo90]. In order to find accurate path MTU values, similar MTUs are not grouped in plateaus. In addition, these common values increased by one byte are sent as well, to identify the effective path MTU is a common MTU or in between of two common MTUs.</p><p id="p0016" num="0016">In an advanced embodiment of the invention contrary to the approaches described above the probe packets should not be sent individually after the acknowledgement of the previous one arrived, but just sent in a bunch with a threshold data rate meaning that as many probe packets will be sent as the available data rate allows. In order to avoid the sending of 10Gbit/s peaks it is more appropriate to insert a pause between the transmissions of two probe packets.</p><p id="p0017" num="0017">In an even more advanced embodiment of the invention, if the common MTU search failed, meaning that the acknowledgements indicate that the path MTU lies in between two common MTU values, a grid MTU search will be applied to the search area left by the common MTU search.<!-- EPO <DP n="6"> --></p><p id="p0018" num="0018">For an optimization it is an advantageous embodiment of the invention to base the grid width (size difference between two consecutive grid search probe packets) used for the grid search on the amount of packets that can be sent within one RTT (round trip time) of the network path. In this way, the grid MTU search can be performed as a highly parallelized binary search operation.</p><p id="p0019" num="0019">With the proposed path MTU discovery method, the effective path MTU can be discovered much faster than the binary search approach and even than the common MTU search. Moreover, the proposed method does not rely on ICMP messages support of the network between the end systems of communication.</p><heading id="h0004"><u>Drawings</u></heading><p id="p0020" num="0020">Exemplary embodiments of the invention are shown in the drawings and are explained in greater detail in the following description.</p><p id="p0021" num="0021">In the drawings:
<dl id="dl0001" compact="compact"><dt>Fig. 1</dt><dd>shows an example of a network with common and uncommon MTU values for the different branches;</dd><dt>Fig. 2</dt><dd>illustrates how a path MTU will be determined with the common MTU search process;</dd><dt>Fig. 3</dt><dd>illustrates how a path MTU will be determined according to the invention with the combined common and grid MTU search process;</dd><dt>Fig. 4</dt><dd>shows two graphs for comparing the resulting MTU search durations one according the binary search and the other for the MTU search according the invention;</dd><dt>Fig. 5</dt><dd>shows two graphs for comparing the amount of sent packets needed for determining the MTU value one<!-- EPO <DP n="7"> --> according a combined common and linear search and the other for the MTU search according the invention.</dd></dl></p><heading id="h0005"><u>Detailed Description of Preferred Embodiments of the Invention</u></heading><p id="p0022" num="0022"><figref idrefs="f0001">Figure 1</figref> shows a network with three hosts H1, H2, H3, two routers R1, R2 and the actual MTU value on each link. The path MTU between host H1 and host H2 is a common MTU value of 4500 Bytes, whereas the path MTU between host H1 and host H3 is an uncommon MTU of 6532 Bytes. MTU values are usually provided in units of Bytes. This however is just an example and not a limitation. If MTU values are used with different units like Bits, Dibits, Nibbles, Duplets, Triplets, Quadlets, etc. the method and device according the invention will work accordingly in similar fashion.</p><p id="p0023" num="0023">In an optimized embodiment of the invention there are two steps to discover the effective path MTU between two hosts.</p><p id="p0024" num="0024">At first, a common MTU search is performed by sending probe packets with common MTU values. This search bases on the "likely path MTU value" search described in [Mo90]. The requesting host is equipped with an MTU value table for this purpose. However, the intention is here to find accurate path MTU values, so no common MTU grouping is done here. Common MTU values are values given by commonly used network technologies, e.g. Ethernet, ATM, SONET, Infiniband, Interbus, CAN or WLAN. All probe packets are sent with the DF bit set in the IP header structure. To be independent from ICMP messages the algorithm relies on the reception of acknowledgments sent by the destination host for every received probe packet. To make a fast path MTU discovery, all probe packets are sent in one bunch and not one single<!-- EPO <DP n="8"> --> packet after the acknowledgment of the previous one has arrived. This may be restricted by the number of data packets which can be sent within one RTT. To determine the accurate size of MTU, it is insufficient to send only probe packets with those likely MTU sizes. The effective path MTU could still be between the biggest acknowledged common MTU value and the following bigger unacknowledged value. Therefore probe packets with common MTU values plus one are sent in addition to the plain common MTU values. If after that a common MTU value is the biggest acknowledged MTU it must be the effective path MTU due to the following bigger unacknowledged MTU is the next possible MTU value.</p><p id="p0025" num="0025"><figref idrefs="f0002">Fig. 2</figref> shows a path MTU discovery case, when it is performed according the invention with pairs of probe packets, one with a common MTU value and the other with the common MTU value increased by one. The search concerns the path between host H1 and host H2.</p><p id="p0026" num="0026">Hereby, its presumed, that the common MTU table consists of MTU values sized: 576, 1006, 1500, 4500, 8166, 9000. Its evident from the drawing that the first pair of probe packets concerns the MTU values 576 and 577. Both are acknowledged by host H2. Next try concerns the probe packets for the MTU value pair 1006 and 1007, also acknowledged. Third, probe packets for the value pair 1500 and 1501 are used. They are also acknowledged as seen in the drawing. Then probe packets for the MTU value pair 4500 and 4501 are sent. Here, the packet with the value 4500 is acknowledged and the packet with the values 4501 is not acknowledged. In that example, the actual path MTU for the path between host H1 and host H2 via router R1 is determined and equals 4500 Bytes.<!-- EPO <DP n="9"> --></p><p id="p0027" num="0027">If one of the additional values is the biggest acknowledged MTU, the effective path MTU is an uncommon MTU value between the biggest acknowledged value and the following bigger unacknowledged common MTU value or the biggest acknowledged value itself.</p><p id="p0028" num="0028">To figure out this uncommon MTU, a grid MTU search will be performed in a second step. In an advantageous embodiment of the invention, the sending host calculates the average Round Trip Time RTT existing between it and the destination host while receiving the acknowledgements during the search with common MTU values. Exactly this timeframe should be used by the grid MTU search to send probe packets covering the search area left by the step of searching with common MTU values. When receiving the first acknowledgement, the last probe packet was just sent. One grid MTU search cycle will take the time of twice the RTT, plus a packet timeout value in the worst case. One RTT is spent to send probe packets and another one to receive the according acknowledgments.</p><p id="p0029" num="0029"><figref idrefs="f0002">Fig. 3</figref> shows the more generic scenario, covered by the discovery case between host H1 and host H3. In that example, during the search with common MTU values, the packet with the size of 4501 bytes would be the last acknowledged MTU probe packet. So, the remaining area to cover is between: 4501 bytes (incremented common MTU value) and 8166 bytes. The last unacknowledged value will also be taken into account in this embodiment because it might be that this probe packet has been lost on the way to its destination so that it is safer to test this MTU value again.<br/>
possible values: 8166 - 4501 = 3665 bytes<br/>
<!-- EPO <DP n="10"> -->average RTT: 20ms<br/>
average time to send one probe packet: 0.11 ms/packet<br/>
number of probe packets sent in one RTT: 20 ms / 0.11 ms/packet ≈ 182 packets<br/>
grid width: 3665 byte / 182 packets ≈ 20 byte/packet</p><p id="p0030" num="0030">So 182 packets are sent, wherein each packet is made 20 byte bigger than the previous one.</p><p id="p0031" num="0031">After one cycle consisting of two RTT times in the case above the left search area contains only twenty values. In comparison, the binary search approach according to [Ma07] just quarters the initial area to about 900 values in the same time of two RTT times. After one additional cycle the grid search method will have found the effective path MTU, by contrast the binary search will take a time of about another 9 RTT to discover the effective path MTU.</p><p id="p0032" num="0032"><figref idrefs="f0003">Fig. 4</figref> illustrates the duration advantage of the method according the invention against the binary search method according to [Ma07]. The solid line represents the values for the combined search with the initial common values and refining grid search values and the dashed line represents the values for the binary search process. For a better comparability identical initial timeout values and timeout calculations were used in both methods.</p><p id="p0033" num="0033">To find an uncommon MTU value between two common MTU values a brute-force linear search could be performed in alternative fashion. This approach is very simple to implement but it needs a multiple number of packets, which will unnecessarily flood the<!-- EPO <DP n="11"> --> network with a high amount of probe packets during each path MTU discovery. <figref idrefs="f0004">Fig. 5</figref> shows the essential difference between the number of sent packets used by the combined grid MTU search, proposed with this invention, and the brute-force linear search approach. In worst case the brute-force approach will need twenty times the amount of packets and in average still ten times more compared to the combined grid MTU search.</p><p id="p0034" num="0034">The general idea of the invention is applicable in all cases where the round trip time RTT is the determining factor of the duration.</p></description><claims mxw-id="PCLM56980187" lang="DE" load-source="patent-office"><!-- EPO <DP n="15"> --><claim id="c-de-01-0001" num="0001"><claim-text>Verfahren zum Bestimmen eines Datertransporteinheits-Parameters für die Kommunikation zwischen zwei Stationen (H1, H2, H3) in einem Netz von Stationen, wobei für den Datentransporteinheits-Parameter ein Satz gemeinsamer Werte existiert und für einen Kommunikationsweg zwischen einem Paar von Stationen in dem Netz ein Optimalwert existiert, der von der verwendeten Kommunikationstechnologie oder von der verwendeten Netzausrüstungskonfiguration abhängt, wobei ein erster Schritt aus dem Senden von Sondendaten-Transporteinheiten in Übereinstimmung mit den gemeinsamen Werten des Datentransporteinheits-Parameters an die Partnerstation und aus dem Auswerten der entsprechenden Antwortnachrichten von der Partnerstation besteht, um den Bereich zwischen zwei Werten aus dem Satz gemeinsamer Werte zu bestimmen, in dem der Optimalwert liegen soll, wobei das Senden das Senden jeder von mehreren Sondendaten-Transporteinheiten umfasst, ohne auf die der vorhergehenden Sondendaten-Transporteinheit entsprechende Antwortnachricht zu warten, wobei Paare von Sondendaten-Transporteinheiten gesendet werden, jeweils eine in Übereinstimmung mit dem Satz gemeinsamer Werte für den Datentransporteinheits-Parameter und die andere in Übereinstimmung mit dem entsprechenden Wert aus einem Satz von Werten, in dem die gemeinsamen Werte um ein minimal mögliches Inkrement erhöht worden sind, <b>gekennzeichnet durch</b> einen Schritt des Ausführens einer Gittersuche innerhalb des im ersten Schritt ermittelten Bereichs, wobei die Größendifferenz zwischen den<!-- EPO <DP n="16"> --> Sondendaten-Transporteinheiten zweier aufeinanderfolgender Gittersuchen auf der Grundlage cer Menge von Sondendaten-Transporteinheiten bestimmt wird, die innerhalb einer Umlaufzeit für die Kommunikation zwischen den zwei Stationen gesendet werden konnen, wobei die Sendendaten-Transporteinheiten für die Gittersuche nacheinander gesendet werden, ohne auf die der vorhergehenden Sondendaten-Transporteinheit entsprechende Antwortnachricht zu warten, und in dem diejenige Gitterzelle, in der der Optimalwert des Datentransporteinheits-Parameters liegt, <b>durch</b> eine Auswertung der Antwortnachrichten für die wahrend der Gittersuche gesendeten Sondendaten-Transporteinheiten bestimmt wird.</claim-text></claim><claim id="c-de-01-0002" num="0002"><claim-text>Verfahren nach Anspruch 1, wobei in den SondendatenTransporteinheiten eine Markeninformationseinheit in der Weise gesetzt wird, dass sie angibt, dass eine Fragmentierung der Sondendaten-Transporteinheit verboten ist.</claim-text></claim><claim id="c-de-01-0003" num="0003"><claim-text>Verfahren nach einem der vorhergehenden Anspruche, wobei irgendeine Vorrichtung entlang des Kommumkationswegs für ein Paar von Stationen auf die Sondendaten-Transporteinheit mit einer Nachricht antwortet, die angibt, dass die empfangene Sondendaten-Transporteinheit verworfen wird und eine Fragmentierung erfordert, falls der nachste Abschnitt auf dem Kommunikationsweg in Senderichtung eine begrenzte Transportcharakteristik aufweist, die von der Sondendaten-Transporteinheit in Ubereinstimmung mit dem gesetzten Datentransporteinheits-Parameter überschritten wird .<!-- EPO <DP n="17"> --></claim-text></claim><claim id="c-de-01-0004" num="0004"><claim-text>Verfahren nach einem der vorhergehenden Ansprüche, <b>gekennzeichnet durch</b> einen Schritt des Bestimmens der Umlaufzeit RTT für den Netzweg zwischen dem sendenden Host (H1) und dem Zielhost (H3), insbesondere der durchschnittlichen Umlaufzeit, wobei die Umlaufzeit RTT dazu verwendet wird, die Gitterweite für die Gittersuche in der Weise zu bestimmen, dass die Sondcnpakete für die Gittersuche innerhalb einer Umlaufzeit RTT gesendet werden können.</claim-text></claim><claim id="c-de-01-0005" num="0005"><claim-text>Verfahren nach einem der vorhergehenden Anspruche, in dem der Optimalwert den Parameter der maximalen Ubertragungseinheit MTU betrifft, der die maximale Datenpaketlänge definiert, die in dem verwendeten Kommunikationsprotokoll für dieser Abschnitt des Kommunikationswegs unterstützt wird.</claim-text></claim><claim id="c-de-01-0006" num="0006"><claim-text>Verfahren nach einem der Anspruche 2 bis 5, wobei die Markeninformationseinheit das Nicht-Fragmentieren-Bit (DF-Bit) in einem Paketanfangsblock des Internetprotokell IP ist.</claim-text></claim><claim id="c-de-01-0007" num="0007"><claim-text>Netzvorrichtung, die zum Ausführen der Schritte des Verfahrens nach Anspruch 1 ausgelegt ist.</claim-text></claim></claims><claims mxw-id="PCLM56980188" lang="EN" load-source="patent-office"><!-- EPO <DP n="12"> --><claim id="c-en-01-0001" num="0001"><claim-text>Method for determining a data transport unit parameter for the communication between two stations (H1, H2, H3) in a network of stations, wherein for the data transport unit parameter a set of common values exists and for a communication path between a pair of stations in the network, an optimum value is existing depending on the used communication technology or network equipment configuration, wherein a first step consists of sending probe data transport units according to the common data transport unit parameter values to the partner station, and evaluating the corresponding response messages from the partner station to determine the range between two values from the set of common values in which the optimum value shall be, the sending comprising sending each of a plurality of probe data transport units without waiting for the response message corresponding to the previous probe data transport unit, wherein pairs of probe data transport units are sent,, each time one according to the set of common values for the data transport unit parameter and the other according to the corresponding one from a set of values in which the common values are increased by a minimum possible increment, <b>characterized by</b> a step of performing a grid search in the range determined in the first step, wherein the size difference between two consecutive grid search probe data transport units is determined based on the amount of probe data transport units that can be sent within one round trip time for the communication between the two stations,<!-- EPO <DP n="13"> --> wherein the probe data transport units for the grid search are sent one after the other without waiting for the response message corresponding to the previous probe data transport unit, and in which the grid cell where the optimum value of the data transport unit parameter lies is determined by an evaluation of the response messages for the probe data transport units sent during the grid search.</claim-text></claim><claim id="c-en-01-0002" num="0002"><claim-text>Method according to claim 1, wherein in the probe data transport units a marker information item is set to indicate that the fragmentation of the probe data transport unit is forbidden.</claim-text></claim><claim id="c-en-01-0003" num="0003"><claim-text>Method according to one of the previous claims, wherein any device along the communication path for a pair of stations responds to the probe data transport unit with a message that indicates that the received probe data transport unit is dropped and requires fragmentation in case the next section on the communication path in sending direction has a limited transport characteristic which is exceeded by the probe data transport unit according to the set data transport unit parameter.<!-- EPO <DP n="14"> --></claim-text></claim><claim id="c-en-01-0004" num="0004"><claim-text>Method according to one of the previous claims, characte-rized by a step of determining the round trip time RTT for the network path between the sending host (H1) and the destination host (H3), in particular the average round trip time, wherein the round trip time RTT is used for determining the grid width for the grid search so that the probe packets for the grid search can be sent within one round trip time RTT.</claim-text></claim><claim id="c-en-01-0005" num="0005"><claim-text>Method according to one of the previous claims, in which the optimum value concerns the parameter of the maximum transmission unit MTU, which defines the maximum data packet length supported in the used communication protocol for that section of the communication path.</claim-text></claim><claim id="c-en-01-0006" num="0006"><claim-text>Method according to one of claims 2 to 5, wherein the marker information item is the Don't Fragment DF bit in an Internet Protocol IP packet header.</claim-text></claim><claim id="c-en-01-0007" num="0007"><claim-text>Network device adapted to perform the steps of the method of claim 1.</claim-text></claim></claims><claims mxw-id="PCLM56980189" lang="FR" load-source="patent-office"><!-- EPO <DP n="18"> --><claim id="c-fr-01-0001" num="0001"><claim-text>Méthode de détermination d'un paramètre d'unité de transfert des données pour la communication entre deux stations (H1, H2, H3) dans un réseau de stations, où il existe un ensemble de valeurs communes pour le paramètre d'unité de transfert des données et où il existe une valeur optimale pour un canal de transmission entre une paire ce stations au sein du réseau en fonction de la technologie de communication ou de la configuration de l'équipement réseau utilisée, où une première étape consiste à envoyer à la station partenaire des unités de transfert des données de sonde selon les valeurs communes du paramètre de l'unité de transfert des données et à évaluer les messages de réponse correspondants de la station partenaire afin de déterminer l'intervalle entre deux valeurs de l'ensemble des valeurs communes dans lequel la valeur optimale doit se situer, l'envoi comprenant l'envoi de chacune de la pluralité des unités de transfert des données de sonde sans attendre le message de réponse correspondant à l'unité de transfert des données de sonde précédente, où des paires d'unités de transfert des données de sonde sont envoyées à chaque fois, pour l'une, selon l'ensemble des valeurs communes du paramètre de l'unité de transfert des données, et pour l'autre, selon la valeur correspondante d'un ensemble des valeurs dans lequel les valeurs communes sont augmentées d'un incrément minimum, <b>caractérisée par</b> une étape de recherche sur grille dans l'intervalle défini lors de la première étape, où la différence de taille entre deux unités de transfert des données de sonde consécutives utilisées pour la recherche sur grille est déterminée sur la base du nombre d'unités de transfert des données de sonde qui peut être envoyé sur un temps d'aller-retour<!-- EPO <DP n="19"> --> des communications entre les deux stations, où les unités de transfert des données de sonde utilisées pour la recherche sur grille sont envoyées l'une après l'autre sans attendre le message de réponse correspondant à l'unité de transfert des données de sonde précédente, et dans laquelle la cellule de la grille où se trouve la valeur optimale du paramètre de l'unité de transfert des données est déterminée par une évaluation des messages de réponse des unités de transfert des données de sonde envoyées lors de la recherche sur grille.</claim-text></claim><claim id="c-fr-01-0002" num="0002"><claim-text>Méthode selon la revendication 1, où une information de marqueur est définie dans les unités de transfert des données de sonde pour indiquer que la fragmentation de l'unité de transfert des données de sonde est interdite.</claim-text></claim><claim id="c-fr-01-0003" num="0003"><claim-text>MéLhode selon l'une des revendicaticns précédentes, où tout dispositif se trouvant sur le canal de transmission d'une paire de stations répond à l'unité de transfert des données de sonde avec un message indiquant que l'unité de transfert des données de sonde est rejetée et nécessite une fragmentation dans le cas où la portion suivante sur le canal de transmission dans le sens envoi possède une capacité de transfert limitée qui est dépassée par l'unité de transfert des données de sonde selon le paramètre d'unité de transfert des données défini.</claim-text></claim><claim id="c-fr-01-0004" num="0004"><claim-text>Méthode selon l'une des revendications précédentes, <b>caractérisée par</b> une étape de détermination du temps d'aller-retour (RTT, round trip time) pour le chemin du réseau entre l'hôte expéditeur (H1) et l'hôte destinataire (H3), notamment le temps d'aller-retour moyen, où le temps d'aller-retour RTT est utilisé pour déterminer la largeur de la grille dans le cadre de la<!-- EPO <DP n="20"> --> recherche sur grille, afin que les paquets-sondes utilisés pour la recherche sur grille puissent être envoyés sur un temps d'aller-retour RTT.</claim-text></claim><claim id="c-fr-01-0005" num="0005"><claim-text>Méthode selon l'une des revendications précédentes, dans laquelle la valeur optimale concerne le paramètre de l'unité de transmission maximale (MTU, maximum transmission unit), qui définit la longueur de paquets de données maximale prise en charge dans le protocole de communication utilisé pour cette portion du canal de transmission.</claim-text></claim><claim id="c-fr-01-0006" num="0006"><claim-text>Méthode selon l'une des revendications 2 à 5, où l'information de marqueur est le bit DF (Don't Fragment) dans un en-tête de paquet IP (Internet Protocol).</claim-text></claim><claim id="c-fr-01-0007" num="0007"><claim-text>Dispositif réseau adapté à la réalisation des étapes de la méthode de la revendication 1.</claim-text></claim></claims><drawings mxw-id="PDW16669083" load-source="patent-office"><!-- EPO <DP n="21"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="149" he="174" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="22"> --><figure id="f0002" num="2,3"><img id="if0002" file="imgf0002.tif" wi="165" he="187" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="23"> --><figure id="f0003" num="4"><img id="if0003" file="imgf0003.tif" wi="165" he="205" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="24"> --><figure id="f0004" num="5"><img id="if0004" file="imgf0004.tif" wi="162" he="204" img-content="drawing" img-format="tif"/></figure></drawings><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
