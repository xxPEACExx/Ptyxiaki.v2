<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2487867-B1" country="EP" doc-number="2487867" kind="B1" date="20140101" family-id="44582031" file-reference-id="318287" date-produced="20180823" status="corrected" lang="DE"><bibliographic-data><publication-reference fvid="146552383" ucid="EP-2487867-B1"><document-id><country>EP</country><doc-number>2487867</doc-number><kind>B1</kind><date>20140101</date><lang>DE</lang></document-id></publication-reference><application-reference ucid="EP-11153782-A" is-representative="YES"><document-id mxw-id="PAPP154826306" load-source="docdb" format="epo"><country>EP</country><doc-number>11153782</doc-number><kind>A</kind><date>20110209</date><lang>DE</lang></document-id><document-id mxw-id="PAPP220388965" load-source="docdb" format="original"><country>EP</country><doc-number>11153782.5</doc-number><date>20110209</date></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140445311" ucid="EP-11153782-A" load-source="docdb"><document-id format="epo"><country>EP</country><doc-number>11153782</doc-number><kind>A</kind><date>20110209</date></document-id></priority-claim></priority-claims><dates-of-public-availability><intention-to-grant-date><date>20130722</date></intention-to-grant-date></dates-of-public-availability><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1988102070" load-source="docdb">H04L  29/06        20060101ALI20130705BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1988125942" load-source="docdb">H04L  29/08        20060101AFI20130705BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1988131631" load-source="docdb">H04L  12/26        20060101ALI20130705BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1820257535" load-source="docdb" scheme="CPC">H04L  43/10        20130101 LA20170502BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2126678152" load-source="docdb" scheme="CPC">H04L  67/14        20130101 FI20141210BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2126683080" load-source="docdb" scheme="CPC">H04L  67/145       20130101 LI20141210BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2126684343" load-source="docdb" scheme="CPC">H04L  69/28        20130101 LA20141210BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132189633" lang="DE" load-source="patent-office">Lebenszeichenüberwachung</invention-title><invention-title mxw-id="PT132189634" lang="EN" load-source="patent-office">Keep alive message monitoring</invention-title><invention-title mxw-id="PT132189635" lang="FR" load-source="patent-office">Surveillance de signes vitaux</invention-title><citations><non-patent-citations><nplcit><text>SIP WG S DONOVAN ET AL: "The SIP Session Timer; draft-ietf-sip-session-timer-08.txt", 20011006, vol. sip, no. 8, 6 October 2001 (2001-10-06), XP015028089, ISSN: 0000-0004</text><sources><source mxw-id="PNPL67360791" load-source="docdb" name="EXA"/></sources></nplcit></non-patent-citations></citations></technical-data><parties><applicants><applicant mxw-id="PPAR918153292" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>SIEMENS AG</last-name><address><country>DE</country></address></addressbook></applicant><applicant mxw-id="PPAR918161258" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>SIEMENS AKTIENGESELLSCHAFT</last-name></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR918170667" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>FREIBERG KLAUS</last-name><address><country>DE</country></address></addressbook></inventor><inventor mxw-id="PPAR918140476" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>FREIBERG, KLAUS</last-name></addressbook></inventor><inventor mxw-id="PPAR918994919" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>FREIBERG, KLAUS</last-name><address><street>Neue Magazinstr. 21</street><city>76771, Hördt</city><country>DE</country></address></addressbook></inventor><inventor mxw-id="PPAR918170582" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>LAFORSCH JUERGEN</last-name><address><country>DE</country></address></addressbook></inventor><inventor mxw-id="PPAR918139582" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>LAFORSCH, JUERGEN</last-name></addressbook></inventor><inventor mxw-id="PPAR918994921" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>LAFORSCH, Jürgen</last-name><address><street>Hertzstr. 158</street><city>76187, Karlsruhe</city><country>DE</country></address></addressbook></inventor><inventor mxw-id="PPAR918163573" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>LANDGRAF INGO</last-name><address><country>DE</country></address></addressbook></inventor><inventor mxw-id="PPAR918153029" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>Landgraf, Ingo</last-name></addressbook></inventor><inventor mxw-id="PPAR918994922" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>Landgraf, Ingo</last-name><address><street>Plauener Str. 8</street><city>90765, Fürth-Poppenreuth</city><country>DE</country></address></addressbook></inventor><inventor mxw-id="PPAR918143644" load-source="docdb" sequence="4" format="epo"><addressbook><last-name>THONEICK SIMONE</last-name><address><country>DE</country></address></addressbook></inventor><inventor mxw-id="PPAR918160569" load-source="docdb" sequence="4" format="intermediate"><addressbook><last-name>THONEICK, SIMONE</last-name></addressbook></inventor><inventor mxw-id="PPAR918994920" load-source="patent-office" sequence="4" format="original"><addressbook><last-name>THONEICK, SIMONE</last-name><address><street>Kulmbacher Str. 4</street><city>91056, Erlangen</city><country>DE</country></address></addressbook></inventor></inventors><assignees><assignee mxw-id="PPAR918994923" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Siemens Aktiengesellschaft</last-name><iid>101362070</iid><address><street>Wittelsbacherplatz 2</street><city>80333 München</city><country>DE</country></address></addressbook></assignee></assignees></parties><international-convention-data><designated-states><ep-contracting-states><country mxw-id="DS548846857" load-source="docdb">AL</country><country mxw-id="DS548953455" load-source="docdb">AT</country><country mxw-id="DS548846858" load-source="docdb">BE</country><country mxw-id="DS548875055" load-source="docdb">BG</country><country mxw-id="DS548822125" load-source="docdb">CH</country><country mxw-id="DS548958020" load-source="docdb">CY</country><country mxw-id="DS548953456" load-source="docdb">CZ</country><country mxw-id="DS548958974" load-source="docdb">DE</country><country mxw-id="DS548846859" load-source="docdb">DK</country><country mxw-id="DS548958021" load-source="docdb">EE</country><country mxw-id="DS548947108" load-source="docdb">ES</country><country mxw-id="DS548875056" load-source="docdb">FI</country><country mxw-id="DS548875057" load-source="docdb">FR</country><country mxw-id="DS548846860" load-source="docdb">GB</country><country mxw-id="DS548846861" load-source="docdb">GR</country><country mxw-id="DS548846862" load-source="docdb">HR</country><country mxw-id="DS548953457" load-source="docdb">HU</country><country mxw-id="DS548822126" load-source="docdb">IE</country><country mxw-id="DS548846863" load-source="docdb">IS</country><country mxw-id="DS548875058" load-source="docdb">IT</country><country mxw-id="DS548958030" load-source="docdb">LI</country><country mxw-id="DS548958975" load-source="docdb">LT</country><country mxw-id="DS548953458" load-source="docdb">LU</country><country mxw-id="DS548958976" load-source="docdb">LV</country><country mxw-id="DS548958977" load-source="docdb">MC</country><country mxw-id="DS548948297" load-source="docdb">MK</country><country mxw-id="DS548948298" load-source="docdb">MT</country><country mxw-id="DS548953459" load-source="docdb">NL</country><country mxw-id="DS548947109" load-source="docdb">NO</country><country mxw-id="DS548953460" load-source="docdb">PL</country><country mxw-id="DS548959046" load-source="docdb">PT</country><country mxw-id="DS548953461" load-source="docdb">RO</country><country mxw-id="DS548959047" load-source="docdb">RS</country><country mxw-id="DS548953466" load-source="docdb">SE</country><country mxw-id="DS548959048" load-source="docdb">SI</country><country mxw-id="DS548822127" load-source="docdb">SK</country><country mxw-id="DS548822128" load-source="docdb">SM</country><country mxw-id="DS548948299" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data></bibliographic-data><description mxw-id="PDES63956809" lang="DE" load-source="patent-office"><!-- EPO <DP n="1"> --><p id="p0001" num="0001">Die Erfindung betrifft ein Verfahren zur Verbindungsüberwachung zwischen einem ersten und einem zweiten Kommunikationsgerät, ein Computerprogrammprodukt sowie ein Kommunikationsgerät, welches zur Verbindungsüberwachung eines weiteren Kommunikationsgeräts ausgebildet ist.</p><p id="p0002" num="0002">In vielen Kommunikationsprozessen, bei denen zwei Kommunikationspartner miteinander in Verbindung stehen, ist es wesentlich festzustellen, ob die Verbindung zwischen diesen besagten Kommunikationspartnern noch steht oder ob diese in der Zwischenzeit abgebrochen ist. Gründe für einen Abbruch können beispielsweise der Ausfall einer der Kommunikationspartner oder aber auch eine Störung der Kommunikationsverbindung selbst zwischen den beiden Kommunikationspartnern sein.</p><p id="p0003" num="0003">Die <patcit id="pcit0001" dnum="US6304546B1"><text>US 6 304 546 B1</text></patcit> offenbart beispielsweise ein Verfahren und ein System um zwischen Kommunikationspartnern Lebenszeichentelegramme auszutauschen.</p><p id="p0004" num="0004">Hierzu ist es beispielsweise beim ISO-Protokoll (ISO 8073) möglich, IDLE-Telegramme als Lebenszeichen gegenseitig zu verschicken. Diese müssen vom Kommunikationspartner beantwortet werden. In anderen Worten sendet hierzu ein erster Kommunikationspartner ein entsprechendes Lebenszeichen an den zweiten Kommunikationspartner, welcher daraufhin im Anschluss an den Empfang dieses Lebenszeichens den Empfang mit einer entsprechenden ACK-Rückmeldung bestätigt. In dem Fall, dass der erste Kommunikationspartner keine entsprechende Rückmeldung von dem zweiten Kommunikationspartner erhält, wird nach einer vordefinierten Zeit ohne Rückmeldung durch den ersten Kommunikationspartner das IDLE-Telegramm wiederholt und wieder auf eine Quittung gewartet. Nach einer vordefinierten Anzahl von Wiederholungen des IDLE und jeweils ohne Quittung wird ein Verbindungsabbruch festgestellt.<!-- EPO <DP n="2"> --></p><p id="p0005" num="0005">Demgegenüber liegt der Erfindung die Aufgabe zugrunde, ein verbessertes Verfahren zur Verbindungsüberwachung, ein verbessertes Computerprogrammprodukt und ein verbessertes Kommunikationsgerät zur Verbindungsüberwachung zu schaffen.</p><p id="p0006" num="0006">Diese der Erfindung zugrunde liegenden Aufgaben werden mit den Merkmalen der unabhängigen Patentansprüche gelöst. Bevorzugte Ausführungsformen der Erfindung sind in den abhängigen Patentansprüchen angegeben.</p><p id="p0007" num="0007">Es wird ein Verfahren zur Verbindungsüberwachung zwischen einem ersten und einem zweiten Kommunikationsgerät geschaffen, wobei das Verfahren die folgenden Schritte durch das zweite Kommunikationsgerät umfasst:
<ul><li>Empfang einer ersten Überwachungsanforderung von dem ersten Kommunikationsgerät, wobei die erste Überwachungsanforderung eine erste Überwachungszeit aufweist,</li><li>Bestimmung einer ersten Empfangszeit aus der ersten Überwachungszeit, wobei innerhalb derer nach Empfang des letzten Lebenszeichensignals ein neues Lebenszeichensignal vom anderen Kommunikationspartner empfangen werden muss,</li><li>Empfang von Lebenszeichensignalen von dem ersten Kommunikationsgerät, wobei das Zeitintervall, mit welchem die Lebenszeichentelegramme vom ersten Kommunikationsgerat an das zweite Kommunikationsgerät übertragen werden, der ersten Überwachungszeit entspricht,</li><li>Auslösung eines Abbruchs der Verbindung zu dem ersten Kommunikationsgerät, wenn innerhalb der ersten Empfangszeit nach dem Empfang des letzten Lebenszeichensignals kein neues Lebenszeichensignal von dem ersten Kommunikationsgerät empfangen wird.</li></ul><!-- EPO <DP n="3"> --></p><p id="p0008" num="0008">In anderen Worten werden damit Lebenszeichentelegramme (im "eingeschwungenen Zustand") in einem festen Takt durch das erste Kommunikationsgerät gesendet und in einem (anderen, größeren) festen Takt durch das zweite Kommunikationsgerät überprüft. Im Unterschied zum Stand der Technik erfordert die Verbindungsüberwachung also nicht, dass das zweite Kommunikationsgerät entsprechende Lebenszeichentelegramme an das erste Kommunikationsgerät sendet, wobei die Lebenszeichentelegramme anschließend durch das erste Kommunikationsgerät quittiert werden müssen, sondern es genügt hier, Lebenszeichentelegramme (auch Lebenszeichensignale genannt) von dem ersten Kommunikationsgerät zu empfangen, wobei aus einer durch das erste Kommunikationsgerät festgelegten Überwachungszeit der Takt in Form der ersten Empfangszeit festgelegt wird, innerhalb welchem eine Überprüfung eines erfolgreichen Empfangs der Lebenszeichentelegramme beim zweiten Kommunikationspartner stattfindet.</p><p id="p0009" num="0009">Hierzu sei angemerkt, dass die Bestimmung der ersten Empfangszeit aus der ersten Überwachungszeit auf unterschiedliche Art und Weisen stattfinden kann. Eine Möglichkeit ist beispielsweise, dass das erste Kommunikationsgerät über die erste Überwachungszeit eindeutig festlegt, wie groß die erste Empfangszeit am zweiten Kommunikationsgerät sein soll. Möglich ist jedoch auch, dass gerätespezifisch am zweiten Kommunikationsgerät ein Faktor festgelegt ist, mit welchem die empfangene erste Überwachungszeit zu multiplizieren ist, um daraus die erste Empfangszeit zu bestimmen. In einer dritten Alternative wird ein solcher Faktor zusammen mit der Überwachungszeit vom ersten an das zweite Kommunikationsgerät übertragen.</p><p id="p0010" num="0010">Vorzugsweise entspricht in all diesen Fällen die erste Überwachungszeit dem Zeitintervall, mit welchem die Lebenszeichentelegramme vom ersten Kommunikationsgerät an das zweite Kommunikationsgerät übertragen werden. Damit entspricht sozusagen die erste Überwachungszeit dem Sendetakt auf dem ersten Kommunikationsgerät, wohingegen die daraus bestimmte erste<!-- EPO <DP n="4"> --> Empfangszeit dem Empfangstakt auf Seiten des zweiten Kommunikationsgeräts entspricht.</p><heading id="h0001">Überwachungszeit</heading><p id="p0011" num="0011">Die Überwachungszeit ergibt sich nach einer Ausführungsform der Erfindung aus dem Produkt von Sendezeit und einem Faktor, wobei jeder dieser Werte vorzugsweise einen spezifischen Einfluss hat: Je größer z.B. der Faktor ist, desto besser können schwankende Laufzeiten einer Strecke abgedeckt werden. Im Falle von Datenübertragungen über Strecken mit Pausenzeiten von mehreren Sekunden ergibt sich dabei folgendes: Wenn jetzt nur seltener gesendet wird kann so eine Pausenzeit bei einem niedrigen Faktor trotzdem zum Verbindungsabbruch führen.</p><p id="p0012" num="0012">Die Sendezeit legt die Belastung der Kommunikationsstrecke fest. In diesem Takt müssen Telegramme versendet werden. Außerdem gibt sie die Rasterung für die Reaktion vor, also die kürzest mögliche Reaktionszeit. Das Verfahren ist jedoch unabhängig von der Laufzeit der Telegramme auf der Verbindung. Es können mehrere Lebenszeichen vom ersten zum zweiten Kommunikationspartner unterwegs sein (im Abstand des Sendetaktes) bevor das erste Lebenszeichen beim zweiten Kommunikationspartner ankommt.</p><p id="p0013" num="0013">Ein allgemeiner Vorteil von Ausführungsformen der vorliegenden Erfindung ist, dass zur Verbindungsüberwachung eine entsprechende Rückantwort des Kommunikationspartners nach Senden eines Lebenszeichensignals, nicht benötigt wird. Damit eignet sich dieser Mechanismus der Verbindungsüberwachung insbesondere für solche Kommunikationsstrecken, die eine größere Laufzeit (delay) haben, zum Beispiel Satellitenverbindungen. Eine Sequenz "Lebenszeichentelegramm-Auftrag senden und warten auf Quittung bevor ein neuer Auftrag gesendet wird" führt zu einer Verschlechterung der Reaktionszeit auf einen Verbindungsabbruch, denn solange Lebenszeichentelegramme aufgrund der hohen Signallaufzeit empfangen werden, gilt die hierzu verwendete Verbindung als in Ordnung. Eine Überwachung per "Auftrag" und "Quittung", wobei erst nach dem Empfang der<!-- EPO <DP n="5"> --> "Quittung" der nächste "Auftrag" gesendet wird, liefert also eine geringere Überwachungsqualität, da die Latenzzeit berücksichtigt werden muss. Senden hingegen beide Seiten kontinuierlich und unabhängig voneinander Lebenszeichentelegramme entfällt jede Art von Quittierung, sodass auch bei langen Signallaufzeiten eine kurze Reaktionszeit auf einen Verbindungsabbruch gewährleistet werden kann.</p><p id="p0014" num="0014">Es sei angemerkt, dass die vorliegende Erfindung auf alle Arten von Kommunikationsverbindungen und unterlagerten Busanbindungen angewendet werden kann: Neben der Verwendung von TCP/IP umfasst dies auch UDP, TLS und jegliche weitere Arten von Transportprotokollen, welche z.B. in industriellen Standards eingesetzt werden wie Profibus oder PROFINET IO, CAN-Bus, Mod-Bus.</p><p id="p0015" num="0015">Nach einer Ausführungsform der Erfindung teilt das zweite Kommunikationsgerät nach Empfang der ersten Überwachungsanforderung dem ersten Kommunikationsgerät mit, ob die Kommunikationsverbindung zwischen dem ersten und zweiten Kommunikationsgerät überwacht werden soll oder nicht. Damit stellt das erste Kommunikationsgerät mit Senden der ersten Überwachungsanforderung eine Anfrage an das zweite Kommunikationsgerät, ob dieses damit einverstanden ist, eine Überwachung der Kommunikationsverbindung zwischen den beiden Kommunikationsgeräten durchzuführen.</p><p id="p0016" num="0016">Ist dies der Fall, bestätigt dies das zweite Kommunikationsgerät dem ersten Kommunikationsgerät. Wenn das zweite Kommunikationsgerät nach Empfang der ersten Überwachungsanforderung festlegt, dass es zur Verbindungsüberwachung zustimmt, so wird es vorzugsweise an das erste Kommunikationsgerät eine eigene (zweite) Überwachungszeit, optional zusammen mit einer Überwachungsanforderung, an das erste Kommunikationsgerät senden.</p><p id="p0017" num="0017">Diese zweite Überwachungszeit dient analog zum oben beschriebenen Verfahren einer Auslösung eines Verbindungsabbruchs<!-- EPO <DP n="6"> --> durch das erste Kommunikationsgerät, wenn innerhalb einer aus der zweiten Überwachungszeit ermittelten zweiten Empfangszeit nach Empfang eines letzten Lebenszeichensignals von dem zweiten Kommunikationsgerät kein neues Lebenszeichensignal von dem zweiten Kommunikationsgerät durch das erste Kommunikationsgerät empfangen wird. In anderen Worten ermöglicht diese Ausführungsform eine gegenseitige Überwachung der Kommunikationsverbindung zwischen den beiden Kommunikationsgeräten. Nach einer weiteren Ausführungsform der Erfindung umfasst das Verfahren den Empfang einer dynamisch geänderten ersten Überwachungszeit von dem ersten durch das zweite Kommunikationsgerät. Somit wird eine dynamische Verbindungsüberwachung zwischen dem ersten und dem zweiten Kommunikationsgerät ermöglicht, wobei die Überwachungszeit dynamisch durch das erste Kommunikationsgerät festgelegt wird. Denkbar ist hier beispielsweise, dass das erste Kommunikationsgerät aufgrund einer hohen Systemauslastung feststellt, über einen gewissen Zeitraum nicht in der Lage zu sein, weiter Lebenszeichensignale im bisherigen Takt an das zweite Kommunikationsgerät zu übermitteln.</p><p id="p0018" num="0018">Um zu verhindern, dass nun das zweite Kommunikationsgerät einen Verbindungsabbruch auslöst, kann also das erste Kommunikationsgerät dynamisch die erste Überwachungszeit ändern, womit sich auch die erste Empfangszeit am zweiten Kommunikationsgerät ändert. Beispielsweise können die Zeitintervalle vergrößert werden, innerhalb der nach Empfang des letzten Lebenszeichensignals ein neues Lebenszeichensignal von dem ersten Kommunikationsgerät empfangen werden muss, um eine Auslösung eines Verbindungsabbruchs zu verhindern. Selbstverständlich ist auch eine Verkürzung der ersten Überwachungszeit entsprechend den aktuellen Systemanforderungen möglich.</p><p id="p0019" num="0019">Nach Ausführungsformen der Erfindung kann die erste Überwachungszeit sogar den Wert unendlich annehmen. Damit teilt das erste Kommunikationsgerät dem zweiten Kommunikationsgerät mit, eine entsprechende Empfangsüberwachung auszusetzen. Durch anschließende Übertragung einer "vernünftigen Zeit"<!-- EPO <DP n="7"> --> kann die Überwachung jedoch jederzeit wieder reaktiviert werden. Nach einer weiteren Ausführungsform der Erfindung ist die erste Empfangszeit unabhängig von der Signallaufzeit einer Übertragung von Daten vom ersten zum zweiten Kommunikationsgerät. Denn, wie bereits oben erwähnt, werden die Lebenszeichentelegramme im festen Takt gesendet und in einem anderen festen Takt überprüft, sodass im eingeschwungenen Zustand die Signallaufzeit keinerlei Rolle mehr spielt. Nach einer weiteren Ausführungsform der Erfindung ist die zweite Überwachungszeit unabhängig von der ersten Überwachungszeit. Damit können das erste und das zweite Kommunikationsgerät unabhängig voneinander dem jeweils anderen Partner mitteilen, inwieweit eine Verbindungsüberwachung durch diesen Partner stattfinden soll. Damit kann den individuellen systembedingten Gegebenheiten der jeweiligen Kommunikationsgeräte individuell Rechnung getragen werden. Beide Kommunikationsgeräte können dynamisch die Verbindungsüberwachung hierzu ändern.</p><p id="p0020" num="0020">Nach einer weiteren Ausführungsform der Erfindung umfasst das Verfahren ferner ein Senden von Lebenszeichensignalen durch das zweite Kommunikationsgerät an das erste Kommunikationsgerät, wobei nach dem Senden des letzten Lebenszeichensignals ein neues Lebenszeichensignal innerhalb der zweiten Überwachungszeit übermittelt wird. Damit wird in anderen Worten, wie bereits oben erwähnt, ein Sendetakt bezüglich des zweiten Kommunikationsgeräts verwendet, mit welchem das zweite Kommunikationsgerät seine Lebenszeichensignale an das erste Kommunikationsgerät übermittelt.</p><p id="p0021" num="0021">Nach einer weiteren Ausführungsform der Erfindung umfasst ein Lebenszeichensignal zum Beispiel jede Art von Signal, welches bei der Kommunikation von Nutzdaten zwischen dem ersten und zweiten Kommunikationsgerät übertragen wird. Denn solange Daten am zweiten Kommunikationsgerät vom ersten Kommunikationsgerät empfangen werden, kann das zweite Kommunikationsgerät davon ausgehen, dass eine intakte Kommunikationsverbindung zwischen dem ersten und zweiten Kommunikationsgerät vorliegt,<!-- EPO <DP n="8"> --> also kein Verbindungsabbruch besteht. Spätestens jedoch dann, wenn über einen gewissen Zeitraum keine Signale in Verbindung mit Nutzdaten von dem ersten an das zweite Kommunikationsgerät übertragen werden, sendet das erste Kommunikationsgerät spezielle Signale an das zweite Kommunikationsgerät, wobei es sich bei diesen Signalen um spezielle Lebenszeichensignale handelt, d.h. Signale, welche speziell zum Zweck der Signalisierung eines Lebenszeichens gesendet werden. Ein solches Lebenszeichensignal ist z.B. in diesem Fall durch ein Datenpaket gegeben, welches speziell als "Lebenszeichen" gekennzeichnet ist.</p><p id="p0022" num="0022">Beispielsweise kann hierzu das erste Kommunikationsgerät feststellen, ob innerhalb seiner vorgegebenen Sendezeit nach Senden des letzten Nutzdatensignals ein neues Nutzdatensignal an das zweite Kommunikationsgerät übermittelt werden kann oder nicht. Insbesondere dann wenn eine solche Datenübertragung nicht zu erwarten ist, wird das erste Kommunikationsgerät ein spezielles Lebenszeichensignal an das zweite Kommunikationsgerät übertragen.</p><p id="p0023" num="0023">Wie bereits oben erwähnt, ermöglicht die Erfindung, dass die erste Überwachungszeit dynamisch geändert werden kann. Hierzu muss die erste Überwachungszeit in entsprechender Weise vom ersten Kommunikationsgerät an das zweite Kommunikationsgerät mitgeteilt werden. Dies kann beispielsweise so erfolgen, dass mit der Übertragung von "speziellen" Lebenszeichensignalen auch gleichzeitig die aktuell verwendete erste Überwachungszeit mit übertragen wird. Soweit dies technisch möglich ist, besteht jedoch auch die Möglichkeit, die erste Überwachungszeit im Rahmen der Nutzdatenkommunikation vom ersten an das zweite Kommunikationsgerät zu übertragen. Beispielsweise kann hierzu die aktuell zu verwendete erste Überwachungszeit im Datenheader enthalten sein.</p><p id="p0024" num="0024">Nach einer Ausführungsform der Erfindung erfolgt die Verbindungsüberwachung zwischen dem ersten und zweiten Kommunikationsgerät über einen ersten Kommunikationskanal, wobei das<!-- EPO <DP n="9"> --> zweite Kommunikationsgerät ferner gleichzeitig über einen zweiten Kommunikationskanal mit dem ersten Kommunikationsgerät verbunden ist, wobei im Fall der Auslösung des Abbruchs der Verbindung durch das zweite Kommunikationsgerät das zweite Kommunikationsgerät die Kommunikation über den ersten Kommunikationskanal abbricht und die Kommunikation über den zweiten Kommunikationskanal fortgesetzt wird.</p><p id="p0025" num="0025">In anderen Worten sind die beiden Kommunikationsgeräte über zwei sogenannte "unterlagerte Verbindungen" miteinander verbunden. Sobald auf einer der aufgebauten unterlagerten Verbindungen ein Verbindungsabbruch ausgelöst wird, führt dies dazu, dass die Kommunikation daran unmittelbar anschließend auf der zweiten unterlagerten Verbindung fortgesetzt wird.</p><p id="p0026" num="0026">Selbstverständlich können diese beiden unterlagerten Verbindungen unabhängig voneinander durch die beiden Kommunikationspartner über das Verfahren zur Verbindungsüberwachung überwacht werden. Jede unterlagerte Verbindung kann dabei mit unterschiedlichen Zeiten überwacht werden. Es sei noch darauf verwiesen, dass es grundsätzlich möglich ist, dass ein Kommunikationspartner eine beliebige Anzahl von Kommunikationsverbindungen mit unterschiedlichen Überwachungszeiten überwacht. Ebenso ist es auch möglich, dass Kommunikationsverbindungen mit mehr als einem Partner mit jeweils unterschiedlichen Überwachungszeiten überwacht werden.</p><p id="p0027" num="0027">In einem weiteren Aspekt betrifft die Erfindung ein Computerprogrammprodukt mit von einem Prozessor ausführbaren Instruktionen zur Durchführung des obig beschriebenen Verfahrens.</p><p id="p0028" num="0028">In einem weiteren Aspekt betrifft die Erfindung ein Kommunikationsgerät, wobei das Kommunikationsgerät zur Verbindungsüberwachung eines weiteren Kommunikationsgeräts ausgebildet ist, wobei das Kommunikationsgerät zur Durchführung der folgenden Schritte ausgebildet ist:<!-- EPO <DP n="10"> -->
<ul><li>Empfang einer ersten Überwachungsanforderung von dem weiteren Kommunikationsgerät, wobei die erste Überwachungsanforderung eine erste Überwachungszeit aufweist,</li><li>Bestimmung einer ersten Empfangszeit aus der ersten Überwachungszeit, wobei innerhalb derer nach Empfang des letzten Lebenszeichensignals ein neues Lebenszeichensignal vom anderen Kommunikationspartner empfangen werden muss,</li><li>Empfang von Lebenszeichensignalen von dem weiteren Kommunikationsgerät, wobei das Zeitintervall, mit welchem die Lebenszeichentelegramme vom ersten Kommunikationsgerat an das zweite Kommunikationsgerät übertragen werden, der ersten Überwachungszeit entspricht,</li><li>Auslösen eines Abbruchs der Verbindung zu dem weiteren Kommunikationsgerät, welche innerhalb der ersten Empfangszeit nach dem Empfang des letzten Lebenszeichensignals kein neues Lebenszeichensignal von dem weiteren Kommunikationsgerät empfangen wird.</li></ul></p><p id="p0029" num="0029">Im Folgenden werden bevorzugte Ausführungsformen der Erfindung anhand der Zeichnungen näher erläutert. Es zeigen:
<dl id="dl0001"><dt>Figur 1</dt><dd>eine Verbindungsüberwachung mit Erkennung eines Abbruchs,</dd><dt>Figur 2</dt><dd>eine Verbindungsüberwachung bei Produktivbetrieb,</dd><dt>Figur 3</dt><dd>eine Verbindungsüberwachung ohne Produktivbetrieb,</dd><dt>Figur 4</dt><dd>eine H-Verbindung mit mehreren unterlagerten Verbindungen.</dd></dl></p><p id="p0030" num="0030">Die <figref idrefs="f0001">Figur 1</figref> zeigt Schritte eines Verfahrens zur Verbindungsüberwachung zwischen einem ersten und einem zweiten Kommunikationsgerät, im Folgenden als "Kommunikationsgeräte" oder<!-- EPO <DP n="11"> --> gleichwertig als "Kommunikationspartner" A und B bezeichnet. Die folgende Beschreibung ist dabei unabhängig von der Art der Kommunikationsverbindung, über welche A und B miteinander in Verbindung stehen.</p><p id="p0031" num="0031">In Schritt 100 findet ein Aufbau einer unterlagerten Verbindung mit Überwachungsanforderung ausgehend von Kommunikationspartner A an Kommunikationspartner B statt. Kommunikationspartner B quittiert den Aufbau der unterlagerten Verbindung mit Überwachungsanforderung in Schritt 102. Sowohl in Schritt 100 als auch in Schritt 102 wird jeweils eine Überwachungszeit von A an B bzw. von B an A übertragen. Im Folgenden sei ohne Beschränkung der Allgemeinheit davon ausgegangen, dass die Überwachungszeit die jeweilige Zeit ist, welche den Sendetakt für A bzw. B unabhängig voneinander festlegt. Aus diesen empfangenen Überwachungszeiten kann daraufhin der jeweilige Partner seine Empfangszeit bestimmen, innerhalb derer nach Empfang des letzten Lebenszeichensignals ein neues Lebenszeichensignal vom anderen Kommunikationspartner empfangen werden muss, sodass die Auslösung eines Verbindungsabbruchs verhindert wird.</p><p id="p0032" num="0032">Die in <figref idrefs="f0001">Figur 1</figref> gezeigten gestrichelten Linien bei Kommunikationspartner A und B, d.h. die Linien 104 und 106 geben jeweils den Empfangstimer wieder, der entlang der vertikalen Zeitachse t läuft. Die durchgezogenen Linien 110 und 112 hingegen geben jeweils bei den Kommunikationspartnern A und B den Sendetimer an, also den Takt, mit welchem Lebenszeichen an den jeweiligen Partner gesendet werden.</p><p id="p0033" num="0033">In Schritt 100 wurde eine erste Überwachungszeit von A an B übermittelt und in Schritt 102 wurde eine zweite Überwachungszeit von B an A übermittelt. In der vorliegenden Ausführungsform gibt die erste Überwachungszeit dabei den Teil an, mit welchem Kommunikationspartner A seine Lebenszeichen an Kommunikationspartner B übermittelt. Analog hierzu gibt die zweite Überwachungszeit jenen Takt an, mit welchem Kommunikationspartner B seine Lebenszeichen an Kommunikationspartner<!-- EPO <DP n="12"> --> A sendet. Die beiden zugehörigen Sendetimer 110 und 112 müssen dabei nicht identisch sein.</p><p id="p0034" num="0034">Ebenfalls aus der jeweiligen ersten und zweiten Überwachungszeit können die Kommunikationspartner die Zeiten bestimmen, innerhalb derer nach Empfang des letzten Lebenszeichensignals ein neues Lebenszeichensignal vom gegenüberliegenden Kommunikationspartner empfangen werden muss, um die Auslösung eines Verbindungsabbruchs zu vermeiden. So kann Kommunikationspartner B beispielsweise aus der in Schritt 100 übertragenen ersten Überwachungszeit seine zugehörige erste Empfangszeit bestimmen, innerhalb derer ein nächstes Lebenszeichensignal von A erwartet wird.</p><p id="p0035" num="0035">Mit dem Empfang der Quittierung des Aufbaus der unterlagerten Verbindung in Schritt 102 interpretiert dies A bereits als das erste Lebenszeichen von B, woraufhin der Empfangstimer 104 bei Kommunikationspartner A getriggert wird. Bezüglich B besteht beispielsweise die Möglichkeit, den allerersten Sendetimer 106 mit Senden der Quittierung in Schritt 102 zu triggern.</p><p id="p0036" num="0036">In Schritt 108 sendet A an B ein erstes Lebenszeichensignal, welches bei B zu einem Zeitpunkt ankommt, zu welchem der Empfangstimer 106 noch nicht abgelaufen ist. Das Empfangen dieses Lebenszeichens triggert jedoch sofort einen Neubeginn des Empfangstimers, wobei B weiter erwartet, dass auch vor Ablauf dieses nächsten Empfangstimers 106 das nächste Lebenszeichensignal von A empfangen wird.</p><p id="p0037" num="0037">Unabhängig von dem Empfang des Lebenszeichensignals in Schritt 108 sendet B an A ein eigenes Lebenszeichensignal in Schritt 114, da der entsprechende Sendetimer 112 bei B abgelaufen ist. Dieses Lebenszeichensignal aus Schritt 114 kommt bei A zu einem Zeitpunkt an, an welchem der Empfangstimer 104 noch nicht abgelaufen ist. Dies triggert jedoch unmittelbar mit Empfang des Lebenszeichensignals in Schritt 114 den Neubeginn des Empfangstimers 104 bei A.<!-- EPO <DP n="13"> --></p><p id="p0038" num="0038">Wiederum unabhängig vom Empfang des Lebenszeichens in Schritt 114 sendet A an B ein weiteres Lebenszeichen in Schritt 116, da der entsprechende Sendetimer bei A zu diesem zugehörigen Zeitpunkt abgelaufen ist. Der Sendetimer wurde mit dem Senden des letzten Lebenszeichensignals in Schritt 108 getriggert. Als Reaktion hierauf, also dem Empfang dieses Lebenszeichensignals in Schritt 116, wird der entsprechende Empfangstimer 126 bei B neu getriggert - außerdem erreicht das Lebenszeichensignal in Schritt 116 Kommunikationspartner B vor Ablauf des vorigen Empfangstimers 106, sodass auch hier kein Verbindungsabbruch ausgelöst wird.</p><p id="p0039" num="0039">Wiederum unabhängig davon sendet B an A in Schritt 118 ein eigenes Lebenszeichen, da nach dem Senden des letzten Lebenszeichensignals in Schritt 114 der entsprechende Sendetimer 112 bei B abgelaufen ist. Dieses Lebenszeichen aus Schritt 118 wird bei A empfangen, wodurch der zugehörige Empfangstimer 104 bei A getriggert wird.</p><p id="p0040" num="0040">Im Folgenden sei angenommen, dass es zum Abbruch einer Verbindung zwischen A und B kommt: Durch Senden des letzten Lebenszeichensignals in Schritt 116 durch A wurde der entsprechende zugehörige Sendetimer 110 getriggert. Wie jedoch ersichtlich ist, läuft dieser Sendetimer 110 ab, ohne dass es zu einer erneuten Übermittlung eines Lebenszeichens von A zu B kommt. Da jedoch das Senden der Lebenszeichen von B an A unabhängig vom Empfang der Lebenszeichen bei Kommunikationspartner B ist, sendet B auch weiterhin in den Schritten 120 und 122 entsprechend seinen eigenen ablaufenden Sendetimern 112 seine Lebenszeichen an A. Dies kann bei A entsprechende Empfangstimer 104 triggern, wobei dies jedoch nur dann möglich ist, wenn A überhaupt Daten von B empfangen kann, Daten von B empfangen möchte und/oder die empfangenen Daten überhaupt verarbeiten kann. Entscheidend ist in <figref idrefs="f0001">Figur 1</figref> jedoch, dass A an B keine weiteren Lebenszeichen übermittelt, sodass in Schritt 126 der mit Schritt 116 getriggerte Empfangstimer abläuft, was dazu führt, dass Kommunikationspartner B in Schritt 124 die unterlagerte Verbindung abbricht.<!-- EPO <DP n="14"> --></p><p id="p0041" num="0041">In anderen Worten löst damit B einen Verbindungsabbruch aus, da innerhalb der Empfangszeit nach Empfang des letzten Lebenszeichensignals in Schritt 116 kein weiteres Lebenszeichensignal von Kommunikationspartner A empfangen wurde.</p><p id="p0042" num="0042">Die <figref idrefs="f0002">Figur 2</figref> zeigt ein Beispiel einer Verbindungsüberwachung bei Produktivbetrieb. Unter Produktivbetrieb wird dabei das Senden von Signalen verstanden, welche bei der Kommunikation von Nutzdaten zwischen den Kommunikationspartnern A und B übertragen werden. Es handelt sich dabei also nicht um spezielle Lebenszeichensignale, sondern lediglich um ohnehin im Rahmen einer Nutzdatenübertragung anfallende Datenpakete.</p><p id="p0043" num="0043">Die Schritte 100, 102, 108 und 114 sind dabei mit identischen Bezugszeichen gekennzeichneten Schritten der <figref idrefs="f0001">Figur 1</figref> identisch. D. h. in Schritt 100 wird eine unterlagerte Verbindung mit Überwachungsanforderung zwischen den Kommunikationspartnern A und B aufgebaut, welche B in Schritt 102 quittiert. Daraufhin wird ein erstes Lebenszeichen von A nach B in Schritt 108 gesendet und ein Lebenszeichen von B nach A in Schritt 114 gesendet. Nach Empfang des Lebenszeichens in Schritt 108 wird wiederum der entsprechende Empfangstimer 106 bei B getriggert, welcher jedoch nicht abläuft, da in Schritt 200 Nutzdaten bei B empfangen werden.</p><p id="p0044" num="0044">Mit dem Senden des letzten Lebenszeichens in Schritt 108 durch A wurde auch der zugehörige Sendetimer 110 getriggert. Dieser Sendetimer läuft jedoch im Gegensatz zur Ausführungsform der <figref idrefs="f0001">Figur 1</figref> nicht ab, sondern wird in Schritt 200 neu getriggert, da A an B Nutzdaten sendet. Die in Schritt 200 bei B empfangenen Nutzdaten triggern wiederum dort den Neubeginn des entsprechenden Empfangstimers 106.</p><p id="p0045" num="0045">Die unterlagerte Verbindung wird somit wie im Beispiel der <figref idrefs="f0001">Fig. 1</figref> aufgebaut, wobei jedoch nach einiger Zeit auf beiden Seiten der Produktivbetrieb einsetzt. Dieser findet so häufig bzw. schnell statt, dass die Timer für die Verbindungsüberwachung nicht mehr ablaufen, sondern immer nur neu getriggert<!-- EPO <DP n="15"> --> werden. Es werden dann für die Verbindungsüberwachung keine extra Lebenszeichen benötigt, sondern der normale Produktivbetrieb reicht für die Ausfallerkennung aus.</p><p id="p0046" num="0046">So wurde z.B. mit dem Senden des Lebenszeichens in Schritt 114 durch B auch dort der zugehörige Sendetimer getriggert, welcher jedoch ebenfalls nicht abläuft, da in Schritt 202 Nutzdaten von B an A übertragen werden. Dies setzt also in Schritt 202 bei B den Sendetimer zurück. Bei A werden diese in Schritt 202 gesendete Nutzdaten empfangen und dadurch der in Schritt 114 getriggerte Empfangstimer zurückgesetzt. Der Empfangstimer 104 wird dadurch neu getriggert.</p><p id="p0047" num="0047">Noch vor Ablauf des Sendetimers 110 sendet A an B wiederum Nutzdaten (Schritt 204), wodurch der Sendetimer 110 neu getriggert wird. In ähnlicher Weise sendet in Schritt 206 B Nutzdaten an A, noch bevor der zugehörige Sendetimer 112 abgelaufen ist.</p><p id="p0048" num="0048">Die <figref idrefs="f0003">Figur 3</figref> zeigt ein Beispiel eines Verfahrens zur Verbindungsüberwachung ohne Produktivbetrieb. Dabei erfolgt zunächst die Verbindungsüberwachung zwischen A und B in den Schritten 100, 102, 108, 114, 116 und 118 identisch zu den entsprechenden Schritten, wie sie bereits bezüglich <figref idrefs="f0001">Figur 1</figref> erläutert wurden.</p><p id="p0049" num="0049">Nach Senden des letzten Lebenszeichens von A nach B in Schritt 116 sendet A an B in Schritt 300 nach Ablauf des Sendetimers 110 ein neues Lebenszeichen. Mit der Übertragung des Lebenszeichens sendet jedoch A an B zusätzlich eine dynamisch geänderte Überwachungszeit, nämlich die Überwachungszeit "unendlich", da A wegen zum Beispiel interner Abläufe in der nächsten Zeit keine Lebenszeiten senden kann und B, der die internen Abläufe von A nicht kennt, die Verbindung in dieser Zeit nicht abbrechen soll. Dies führt dazu, dass der entsprechende Empfangstimer 106 bei B nach Empfang des Lebenszeichens 300 ebenfalls auf "unendlich" in Schritt 320 gesetzt<!-- EPO <DP n="16"> --> wird, wodurch dieser Empfangstimer nicht mehr ablaufen kann.</p><p id="p0050" num="0050">In den Schritten 302 bis 306 sendet B an A weiterhin eigene Lebenszeichen, wobei jedoch A freigestellt ist, ob A diesen Empfang überwachen soll oder nicht (Schritt 324).</p><p id="p0051" num="0051">Kurz vor Durchführung des Schritts 308 ist A wieder im normalen Betriebszustand, in dem es eine Überwachung durch B wünscht. Aus diesem Grund teilt A an B in Schritt 308 wieder eine "vernünftige" Überwachungszeit mit. Dies kann ein neuer Zeitwert sein oder auch der Ursprungswert, welcher verwendet wurde, bevor die Zeit auf unendlich gesetzt wurde. Damit überträgt A an B in Schritt 308 neben einem Lebenszeichen wiederum die geänderte Überwachungszeit, was in Schritt 322 bei B dazu führt, dass B ab diesem Zeitpunkt den Empfang der Lebenszeichen wiederum überwacht.</p><p id="p0052" num="0052">Das von B an A in Schritt 310 gesendete Lebenszeichen wird von A empfangen und triggert dort den Empfangstimer 104. In Schritt 312 ist der Sendetimer bei A abgelaufen und A sendet in gewohnter Weise an B ein Lebenszeichen, welches von B auch vor Ablauf des dortigen Empfangstimers 106 empfangen wird. Das Verfahren setzt sich entsprechend den analogen Schritten 314 bis 318 fort.</p><p id="p0053" num="0053">Die <figref idrefs="f0004">Figur 4</figref> zeigt ein Beispiel einer H-Verbindung (hochverfügbare Verbindung) mit unterlagerten Teilverbindungen. Diesem Konzept liegt die Idee zugrunde, jeder Applikation 400 eine oder mehrere H-Verbindungen 402 zuzuweisen, wobei wiederum jede H-Verbindung 402 zumindest zwei unterlagerte Transportverbindungen wie zum Beispiel Kommunikationskanäle 404 aufweist. Grundsätzlich kommuniziert die Applikation 400 mit einer beliebigen anderen Applikation unter Verwendung der H-Verbindungen 402, ohne jedoch Kenntnis darüber haben zu müssen, wie viele Transportverbindungen der verwendeten H-Verbindung 402 unterlagert sind.<!-- EPO <DP n="17"> --></p><p id="p0054" num="0054">Über die in <figref idrefs="f0004">Figur 4</figref> gezeigte LAN-Verbindung 406 können nun mehrere Applikationen miteinander kommunizieren. Weitet man dieses Grundkonzept auf sogenannte H-Systeme aus, also Systeme, die eine synchronisierte Master- und Reserve-CPU aufweisen, die miteinander über zugehörige H-Verbindungen und unterlagerte Transportverbindungen gekoppelt sind, so zeigt sich ein weiterer Anwendungsfall für das obig beschriebene Verfahren:</p><p id="p0055" num="0055">Im H-System gibt es ein "Ankoppeln und Aufdaten" (AuA). So wird der Zeitraum genannt, den das H-System braucht, um den redundanten Betrieb von Master- und Reserve-CPU zu erreichen. In diesem Zeitraum des AuA ist die Reserve damit beschäftigt, vom Master alle Daten, Zustände, Puffer und Verbindungen zu holen, um sich in denselben Bearbeitungszustand zu versetzen wie der Master. Allerdings muss für diesen Zweck die Kommunikation zwischen Master- und Reserve-CPU zeitweise angehalten werden, ohne dass jedoch die Verbindungen abgebrochen werden.</p><p id="p0056" num="0056">Eine Verbindungsüberwachung durch PING-Telegramme würde in diesem Fall während des "Anhaltens nun aber nicht mehr funktionieren, da dieser Zeitraum größer ist als die "normalen" Überwachungszeiten und entsprechend keine Lebenszeichen verschickt werden könnten. Der Kommunikationspartner, der nicht weiß, dass der andere gerade beim Ankoppeln und Aufdaten ist, würde also die Verbindung wegen fehlender Lebenszeichen abbrechen.</p><p id="p0057" num="0057">Wird hingegen das obig beschriebene Verfahren verwendet, so wird beim Verbindungsaufbau zwischen den beiden CPUs ausgehandelt, ob diese Verbindungen überwacht werden sollen oder nicht. Bei gewünschter Überwachung wird jede unterlagerte Verbindung der H-Verbindung in diese Überwachung einbezogen. Die Überwachung sieht dann beispielsweise wie folgt aus: Jede Seite sendet mindestens in einem Takt x Telegramme (entweder, weil Produktivbetrieb gesendet wird oder ein Lebenszeichentelegramm ersatzweise gesendet wird) und erwartet, mindestens in einem Takt y, Telegramme zu empfangen. Dabei ist y zum<!-- EPO <DP n="18"> --> Beispiel ≥ 2 . x. Wird im Takt y kein Telegramm empfangen, so wird diese unterlagerte Verbindung abgebrochen und die Kommunikation auf einer anderen unterlagerten Verbindung fortgesetzt. Der Überwachungstakt der einzelnen unterlagerten Verbindungen kann dabei unterschiedlich sein.</p><p id="p0058" num="0058">Während des Ankoppelns und Aufdatens kann durch Senden einer dynamisch geänderten Zeit zur Verbindungsüberwachung dem Kommunikationspartner mitgeteilt werden, eine geänderte Empfangsüberwachung durchzuführen. Beispielsweise kann als Sonderzeit wiederum "unendlich" übertragen werden, was die Empfangsüberwachung beim Kommunikationspartner ausschaltet, ohne dass ein Abbau und erneuter Aufbau der unterlagerten Verbindung notwendig wäre. Das Ankoppeln und Aufdaten kann durchgeführt werden, wobei im Anschluss eine "vernünftige" Zeit, d.h. eine Zeit kleiner als unendlich, an den Kommunikationspartner übertragen werden kann, wodurch die Überwachung wieder aktiviert wird.</p><p id="p0059" num="0059">Durch z.B. ein RoundRobin-Verfahren für die Nutzdaten kann eine Reduktion der Lebenszeichentelegramme erreicht werden, wenn die Kommunikation häufiger stattfindet als die Verbindungsüberwachung eingestellt ist, d.h. der Protokollverkehr mit Nutzdaten ersetzt hier das Senden von speziellen Lebenszeichentelegrammen - die Nutzdaten entsprechen wie obig diskutiert bereits den Lebenszeichen. Werden die Nutzdaten verteilt über die einzelnen unterlagerten Verbindungen der H-Verbindung verschickt, kann auch eine Verteilung der Kommunikationslast erreicht werden.</p><p id="p0060" num="0060">Zusammengefasst ergeben sich für das obige Verfahren folgende Vorteile: Eine Verbindungsüberwachung kann z.B. "End-to-End" erfolgen über Router und Gateways hinweg. Damit ist es egal, welche Busphysik oder Protokolle zwischen den Endpunkten liegen. Die Überwachung geht von Kommunikationsendpunkt zu Kommunikationsendpunkt. Ferner ist die Verbindungsüberwachung dynamisch und kann während der Lebenszeit der Verbindung an die aktuelle Situation der einzelnen Kommunikationspartner<!-- EPO <DP n="19"> --> angepasst werden. D.h.: lässt die eigene aktuelle Situation keine Überwachung zu, so wird der Kommunikationspartner davon informiert und muss seine Überwachung entsprechend anpassen. Kann wieder streng überwacht werden, so kann die Zeit wieder angepasst werden, ohne die Verbindung abbauen zu müssen.</p><p id="p0061" num="0061">Mit jedem Lebenszeichentelegramm wird übermittelt, wann das nächste Lebenszeichen ggf. übertragen wird. Damit ist eine schnelle Adaption des Sendeintervalls möglich. Außerdem entscheidet jeder Kommunikationspartner lokal, in welchem Intervall er die Lebenszeichentelegramme sendet. Jeder Kommunikationspartner kann lokal den Ausfall einer unterlagerten Verbindung erkennen und daraufhin die unterlagerte Verbindung lokal abbrechen, sowie eine neue Verbindung aufbauen oder auf eine "Standby"-Verbindung umschalten.</p><p id="p0062" num="0062">Wie bereits erwähnt können die Überwachungszeiten für jede unterlagerte Verbindung individuell eingestellt werden. Damit kann z.B. eine H-Verbindung unterlagerte Verbindungen mit unterschiedlichen Latenzzeiten (Delays) incl. Verbindungsüberwachung nutzen, wie dies z.B. bei einer Satelliten-Verbindung hilfreich wäre. Im eingeschwungenen Zustand unterscheiden sich die Mechanismen zur Auswertung der Verbindungsüberwachung nicht, da stets nach der Zeit x ein Lebenszeichentelegramm gesendet bzw. nach der Zeit y empfangen wird (unabhängig von der Latenzzeit), wenn kein Produktivbetrieb vorliegt. Dieses Verfahren funktioniert somit auch dann, wenn die Datenübertragung mit einer größeren Latenzzeit (Delay) erfolgt, vgl. Satelliten-Verbindung. Die Anlaufphase kann durch die dynamische Aktualisierung der Überwachungszeit auch überwacht werden.</p></description><claims mxw-id="PCLM56977916" lang="DE" load-source="patent-office"><!-- EPO <DP n="20"> --><claim id="c-de-01-0001" num="0001"><claim-text>Verfahren zur Verbindungsüberwachung zwischen einem ersten und einem zweiten Kommunikationsgerät, wobei das Verfahren die folgenden Schritte durch das zweite Kommunikationsgerät umfasst:
<claim-text>- Empfang (100) einer ersten Überwachungsanforderung von dem ersten Kommunikationsgerät, wobei die erste Überwachungsanforderung eine erste Überwachungszeit aufweist,</claim-text>
<claim-text>- Bestimmung einer ersten Empfangszeit aus der ersten Überwachungszeit, wobei innerhalb der ersten Empfangszeit nach Empfang eines letzten Lebenszeichensignals ein neues Lebenszeichensignal vom anderen Kommunikationspartner empfangen werden muss,</claim-text>
<claim-text>- Empfang (108; 114; 118; 120; 122; 124; 200; 202; 204; 206; 300; 302; 304; 306; 308; 310; 312; 314; 316; 318) von Lebenszeichensignalen von dem ersten Kommunikationsgerät, wobei ein Zeitintervall, mit welchem die Lebenszeichensignale vom ersten Kommunikationsgerat an das zweite Kommunikationsgerät übertragen werden, der ersten Überwachungszeit entspricht,</claim-text>
<claim-text>- Auslösung eines Abbruchs der Verbindung zu dem ersten Kommunikationsgerät, wenn innerhalb der ersten Empfangszeit nach dem Empfang des letzten Lebenszeichensignals kein neues Lebenszeichensignal von dem ersten Kommunikationsgerät empfangen wird.</claim-text></claim-text></claim><claim id="c-de-01-0002" num="0002"><claim-text>Verfahren nach Anspruch 1, wobei das zweite Kommunikationsgerät nach Empfang der ersten Überwachungsanforderung dem ersten Kommunikationsgerät mitteilt (102), ob die Kommunikationsverbindung zwischen dem ersten und zweiten Kommunikationsgerät überwacht werden soll oder nicht.</claim-text></claim><claim id="c-de-01-0003" num="0003"><claim-text>Verfahren nach Anspruch 1, wobei das Verfahren den Empfang einer dynamisch geänderten ersten Überwachungszeit von dem ersten durch das zweite Kommunikationsgerät umfasst.</claim-text></claim><claim id="c-de-01-0004" num="0004"><claim-text>Verfahren nach Anspruch 3, wobei die Lebenszeichensignale die dynamisch geänderte erste Überwachungszeit aufweisen.<!-- EPO <DP n="21"> --></claim-text></claim><claim id="c-de-01-0005" num="0005"><claim-text>Verfahren nach Anspruch 1, wobei die erste Überwachungszeit den Wert unendlich annehmen kann.</claim-text></claim><claim id="c-de-01-0006" num="0006"><claim-text>Verfahren nach Anspruch 1 , wobei die erste Empfangszeit unabhängig von der Signallaufzeit einer Übertragung von Daten vom ersten zum zweiten Kommunikationsgerät ist.</claim-text></claim><claim id="c-de-01-0007" num="0007"><claim-text>Verfahren nach Anspruch 1, wobei das zweite Kommunikationsgerät nach Empfang der Überwachungsanforderung festlegt (102), ob es der Verbindungsüberwachung zustimmt, wobei im Falle des Zustimmens das zweite Kommunikationsgerät eine zweite Überwachungszeit an das erste Kommunikationsgerät sendet, wobei die zweite Überwachungszeit eine Auslösung eines Verbindungsabbruchs durch das erste Kommunikationsgerät ermöglicht, wenn innerhalb einer aus der zweiten Überwachungszeit ermittelten zweiten Empfangszeit nach dem Empfang eines letzten Lebenszeichensignals von dem zweiten Kommunikationsgerät kein neues Lebenszeichensignal von dem zweiten Kommunikationsgerät empfangen wird.</claim-text></claim><claim id="c-de-01-0008" num="0008"><claim-text>Verfahren nach Anspruch 7, die zweite Überwachungszeit unabhängig von der ersten Überwachungszeit ist.</claim-text></claim><claim id="c-de-01-0009" num="0009"><claim-text>Verfahren nach Anspruch 7, wobei das Verfahren ferner ein Senden von Lebenszeichensignalen durch das zweite Kommunikationsgerät an das erste Kommunikationsgerät umfasst, wobei nach dem Senden des letzten Lebenszeichensignals ein neues Lebenszeichensignal innerhalb der zweiten Überwachungszeit übermittelt wird.</claim-text></claim><claim id="c-de-01-0010" num="0010"><claim-text>Verfahren nach Anspruch 1, wobei ein Lebenszeichensignal
<claim-text>- jede Art von Signal umfasst, welches bei der Kommunikation von Nutzdaten zwischen dem ersten und zweiten Kommunikationsgerät übertragen wird oder</claim-text>
<claim-text>- ein Signal umfasst, welches speziell als Lebenszeichen übertragen wird.</claim-text><!-- EPO <DP n="22"> --></claim-text></claim><claim id="c-de-01-0011" num="0011"><claim-text>Verfahren nach Anspruch 1, wobei die Verbindungsüberwachung zwischen dem ersten und dem zweiten Kommunikationsgerät über einen ersten Kommunikationskanal erfolgt, wobei das zweite Kommunikationsgerät ferner gleichzeitig über einen zweiten Kommunikationskanal mit dem ersten Kommunikationsgerät verbunden ist, wobei im Fall der Auslösung des Abbruchs der Verbindung durch das zweite Kommunikationsgerät das zweite Kommunikationsgerät die Kommunikation über den ersten Kommunikationskanal abbricht und die Kommunikation über den zweiten Kommunikationskanal fortgesetzt wird.</claim-text></claim><claim id="c-de-01-0012" num="0012"><claim-text>Computerprogrammprodukt mit von einem Prozessor ausführbaren Instruktionen zur Durchführung aller der Verfahrensschritte gemäß den vorigen Ansprüchen.</claim-text></claim><claim id="c-de-01-0013" num="0013"><claim-text>Kommunikationsgerät, wobei das Kommunikationsgerät zur Verbindungsüberwachung eines weiteren Kommunikationsgeräts ausgebildet ist, wobei das Kommunikationsgerät zur Durchführung der folgenden Schritte ausgebildet ist:
<claim-text>- Empfang (100) einer ersten Überwachungsanforderung von dem weiteren Kommunikationsgerät, wobei die erste Überwachungsanforderung eine erste Überwachungszeit aufweist,</claim-text>
<claim-text>- Bestimmung einer ersten Empfangszeit aus der ersten Über-wachungszeit, wobei innerhalb der ersten Empfangszeit nach Empfang eines letzten Lebenszeichensignals ein neues Lebenszeichensignal vom anderen Kommunikationspartner empfangen werden muss,</claim-text>
<claim-text>- Empfang (108; 114; 118; 120; 122; 124; 200; 202; 204; 206; 300; 302; 304; 306; 308; 310; 312; 314; 316; 318) von Lebenszeichensignalen von dem weiteren Kommunikationsgerät, wobei ein Zeitintervall, mit welchem die Lebenszeichensignale vom ersten Kommunikationsgerat an das zweite Kommunikationsgerät übertragen werden, der ersten Überwachungszeit entspricht,</claim-text>
<claim-text>- Auslösung eines Abbruchs der Verbindung zu dem weiteren Kommunikationsgerät, wenn innerhalb der ersten Empfangszeit nach dem Empfang des letzten Lebenszeichensignals<!-- EPO <DP n="23"> --> kein neues Lebenszeichensignal von dem weiteren Kommunikationsgerät empfangen wird.</claim-text></claim-text></claim></claims><claims mxw-id="PCLM56977917" lang="EN" load-source="patent-office"><!-- EPO <DP n="24"> --><claim id="c-en-01-0001" num="0001"><claim-text>Method of connection monitoring between a first and a second communication device, the method comprising the following steps taken by the second communication device:
<claim-text>- Receipt (100) of a first monitoring request from the first communication device, it being possible for the first monitoring request to have a first monitoring time,</claim-text>
<claim-text>- Determination of a first reception time on the basis of the first monitoring time, wherein within the first reception time following receipt of the last lifebeat signal, a new lifebeat signal must be received from another communication partner,</claim-text>
<claim-text>- Receipt (108; 114; 118; 120; 122; 124; 200; 202; 204; 206; 300; 302; 304; 306; 308; 310; 312; 314; 316; 318) of lifebeat signals from the first communication device, a time interval with which the lifebeat signals are transmitted from the first communication device to the second communication device corresponding to the first monitoring time,</claim-text>
<claim-text>- Triggering of an interruption in the connection to the first communication device if, during the first reception time following its receipt of the last lifebeat signal, it does not receive a new lifebeat signal from the first communication device.</claim-text></claim-text></claim><claim id="c-en-01-0002" num="0002"><claim-text>Method according to claim 1, wherein, upon receipt of the first monitoring request, the second communication device informs the first communication device (102) whether or not the communication connection between the first and the second communication devices is to be monitored.<!-- EPO <DP n="25"> --></claim-text></claim><claim id="c-en-01-0003" num="0003"><claim-text>Method according to claim 1, wherein the method involves the second communication device receiving a dynamically changed first monitoring time from the first communication device.</claim-text></claim><claim id="c-en-01-0004" num="0004"><claim-text>Method according to claim 3, wherein the lifebeat signals have the dynamically changed first monitoring time.</claim-text></claim><claim id="c-en-01-0005" num="0005"><claim-text>Method according to claim 1, wherein the first monitoring time can have the value "infinite".</claim-text></claim><claim id="c-en-01-0006" num="0006"><claim-text>Method according to claim 1, wherein the first reception time is independent of the signal delay for a transfer of data from the first to the second communication device.</claim-text></claim><claim id="c-en-01-0007" num="0007"><claim-text>Method according to claim 1, wherein, following receipt of the monitoring request, the second communication device states (102) whether it agrees to connection monitoring, it being possible, if the second communication device agrees, for the second communication device to send a second monitoring time to the first communication device, this second monitoring time making it possible for the first communication device to interrupt the connection if, within a second reception time - determined on the basis of the second monitoring time - following the second communication device's receipt of the last lifebeat signal, the first communication device receives no new lifebeat signal from the second communication device.</claim-text></claim><claim id="c-en-01-0008" num="0008"><claim-text>Method according to claim 7, wherein the second monitoring time is independent of the first monitoring time.<!-- EPO <DP n="26"> --></claim-text></claim><claim id="c-en-01-0009" num="0009"><claim-text>Method according to claim 7, wherein the method also comprises the transmission of lifebeat signals by the second communication device to the first communication device, it being possible, after the last lifebeat signal has been transmitted, for a new lifebeat signal to be transmitted within the second monitoring time.</claim-text></claim><claim id="c-en-01-0010" num="0010"><claim-text>Method according to claim 1, wherein "lifebeat signal" includes
<claim-text>- any kind of signal that is transmitted between the first and the second communication devices during the communication of payload data, or</claim-text>
<claim-text>- a signal that is transmitted specially for the purpose of indicating a lifebeat.</claim-text></claim-text></claim><claim id="c-en-01-0011" num="0011"><claim-text>Method according to claim 1, wherein the connection monitoring between the first and the second communication devices takes place via a first communication channel, it being possible, also, for the second communication device to be connected to the first communication device simultaneously via a second communication channel, and wherein, in the event that the second communication device triggers the interruption of the connection, for the second communication device to break off communication via the first communication channel, with communication being continued via the second communication channel.</claim-text></claim><claim id="c-en-01-0012" num="0012"><claim-text>Computer program product with instructions, executable by a processor, for implementing all of the method steps according to the preceding claims.<!-- EPO <DP n="27"> --></claim-text></claim><claim id="c-en-01-0013" num="0013"><claim-text>Communication device, wherein the communication device is configured to perform connection monitoring for another communication device and to perform the following steps:
<claim-text>- Receipt (100) of a first monitoring request from the other communication device, it being possible for the first monitoring request to have a first monitoring time,</claim-text>
<claim-text>- Determination of a first reception time on the basis of the first monitoring time wherein within the first reception time following receipt of the last lifebeat signal, a new lifebeat signal must be received from another communication partner,</claim-text>
<claim-text>- Receipt (108; 114; 118; 120; 122; 124; 200; 202; 204; 206; 300; 302; 304; 306; 308; 310; 312; 314; 316; 318) of lifebeat signals from the other communication device, a time interval with which the lifebeat signals are transmitted from the first communication device to the second communication device corresponding to the first monitoring time,</claim-text>
<claim-text>- Triggering of an interruption in the connection to the other communication device if, during the first reception time following its receipt of the last lifebeat signal, the communication device does not receive a new lifebeat signal from the other communication device.</claim-text></claim-text></claim></claims><claims mxw-id="PCLM56977918" lang="FR" load-source="patent-office"><!-- EPO <DP n="28"> --><claim id="c-fr-01-0001" num="0001"><claim-text>Procédé de contrôle de la liaison entre un premier et un deuxième appareils de communication, le procédé comprenant les stades suivants effectués par le deuxième appareil de communication :
<claim-text>- réception ( 100 ) d'une première demande de contrôle du premier appareil de communication, la première demande de contrôle ayant un premier temps de contrôle,</claim-text>
<claim-text>- détermination d'un premier temps de réception à partir du premier temps de contrôle, dans lequel, dans le premier temps de réception, un signal nouveau de signe de vie de l'autre partenaire de communication doit être reçu après la réception d'un dernier signal de signe de vie.</claim-text>
<claim-text>- réception ( 108, 114, 118, 120, 122, 124, 200, 202, 204, 206, 300, 302, 304, 306, 308, 310, 312, 314, 316, 318 ) de signaux de signe de vie du premier appareil de communication, un intervalle de temps dans lequel les signaux de signe de vie sont transmis du premier appareil de communication au deuxième appareil de communication correspondant au premier temps de contrôle,</claim-text>
<claim-text>- déclenchement d'une interruption de la liaison vers le premier appareil de communication si, dans le premier temps de réception, il n'est pas reçu, après la réception du dernier signal de signe de vie, un signal nouveau de signe de vie du premier appareil de communication.</claim-text></claim-text></claim><claim id="c-fr-01-0002" num="0002"><claim-text>Procédé suivant la revendication 1, dans lequel le deuxième appareil de communication communique ( 102 ), après la<!-- EPO <DP n="29"> --> réception de la première demande de contrôle, au premier appareil de communication si la liaison de communication, entre le premier et le deuxième appareils de communication, doit être contrôlée ou ne le doit pas.</claim-text></claim><claim id="c-fr-01-0003" num="0003"><claim-text>Procédé suivant la revendication 1, dans lequel le procédé comprend la réception d'un premier temps de contrôle modifié dynamiquement du premier par le deuxième appareil de communication.</claim-text></claim><claim id="c-fr-01-0004" num="0004"><claim-text>Procédé suivant la revendication 3, dans lequel les signaux de signe de vie ont un premier temps de contrôle modifié dynamiquement.</claim-text></claim><claim id="c-fr-01-0005" num="0005"><claim-text>Procédé suivant la revendication 1, dans lequel le premier temps de contrôle peut prendre la valeur infinie.</claim-text></claim><claim id="c-fr-01-0006" num="0006"><claim-text>Procédé suivant la revendication 1, dans lequel le premier temps de réception est indépendant du temps de passage du signal d'une transmission de données du premier au deuxième appareil de communication.</claim-text></claim><claim id="c-fr-01-0007" num="0007"><claim-text>Procédé suivant la revendication 1, dans lequel le deuxième appareil de communication fixe ( 102 ), après réception de la demande de contrôle, s'il accepte le contrôle de la liaison, le deuxième appareil de communication envoyant dans le cas de l'acceptation un deuxième temps de contrôle au premier appareil de communication, le deuxième temps de contrôle rendant possible un déclenchement d'une interruption de la liaison par le premier appareil de communication si, dans un deuxième temps de réception déterminé à partir du deuxième temps de contrôle, il n'est pas reçu par le deuxième appareil de communication, après la réception d'un dernier signal de<!-- EPO <DP n="30"> --> signe de vie par le deuxième appareil de communication, un signal nouveau de signe de vie.</claim-text></claim><claim id="c-fr-01-0008" num="0008"><claim-text>Procédé suivant la revendication 7, dans lequel le deuxième temps de contrôle est indépendant du premier temps de contrôle.</claim-text></claim><claim id="c-fr-01-0009" num="0009"><claim-text>Procédé suivant la revendication 7, dans lequel le procédé comprend en outre un envoi de signaux de signe de vie par le deuxième appareil de communication au premier appareil de communication, un signal nouveau de signe de vie étant transmis dans le deuxième temps de contrôle après l'envoi du dernier signal de signe de vie.</claim-text></claim><claim id="c-fr-01-0010" num="0010"><claim-text>Procédé suivant la revendication 1, dans lequel un signal de signe de vie
<claim-text>- comprend chaque type de signal qui est transmis dans la communication de données utile entre le premier et le deuxième appareils de communication ou</claim-text>
<claim-text>- comprend un signal qui est transmis spécialement comme signe de vie.</claim-text></claim-text></claim><claim id="c-fr-01-0011" num="0011"><claim-text>Procédé suivant la revendication 1, dans lequel le contrôle de la liaison entre le premier et le deuxième appareils de communication s'effectue par un premier canal de communication, le deuxième appareil de communication étant relié en même temps au premier appareil de communication par un deuxième canal de communication, dans lequel, dans le cas du déclenchement de l'interruption de la liaison par le deuxième appareil de communication, le deuxième appareil de communication interrompt la communication par le premier canal de communication et poursuit la communication par le deuxième canal de communication.<!-- EPO <DP n="31"> --></claim-text></claim><claim id="c-fr-01-0012" num="0012"><claim-text>Produit de programme d'ordinateur ayant des instructions pouvant être exécutées par un processeur pour la mise en oeuvre de tous les stades du procédé suivant les revendications précédentes.</claim-text></claim><claim id="c-fr-01-0013" num="0013"><claim-text>Appareil de communication, l'appareil de communication étant constitué pour le contrôle de la liaison d'un autre appareil de communication, l'appareil de communication étant constitué par effectuer les stades suivants :
<claim-text>- réception ( 100 ) d'une première demande de contrôle de l'autre appareil de communication, la première demande de contrôle ayant un premier temps de contrôle,</claim-text>
<claim-text>- détermination d'un premier temps de réception à partir du premier temps de contrôle, dans lequel, dans le premier temps de réception, un signal nouveau de signe de vie de l'autre partenaire de communication doit être reçu après la réception d'un dernier signal de signe de vie.</claim-text>
<claim-text>- réception ( 108, 114, 118, 120, 122, 124, 200, 202, 204, 206, 300, 302, 304, 306, 308, 310, 312, 314, 316, 318 ) de signaux de signe de vie de l'autre appareil de communication, un intervalle de temps, dans lequel les signaux de signe de vie sont transmis du premier appareil de communication au deuxième appareil de communication, correspondant au premier temps de contrôle,</claim-text>
<claim-text>- déclenchement d'une interruption de la liaison vers l'autre appareil de communication si, dans le premier temps de réception, il n'est pas reçu, après la réception du dernier signal de signe de vie, un signal nouveau de signe de vie de l'autre appareil de communication.</claim-text></claim-text></claim></claims><drawings mxw-id="PDW16668427" load-source="patent-office"><!-- EPO <DP n="32"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="144" he="203" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="33"> --><figure id="f0002" num="2"><img id="if0002" file="imgf0002.tif" wi="135" he="202" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="34"> --><figure id="f0003" num="3"><img id="if0003" file="imgf0003.tif" wi="165" he="204" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="35"> --><figure id="f0004" num="4"><img id="if0004" file="imgf0004.tif" wi="165" he="107" img-content="drawing" img-format="tif"/></figure></drawings><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
