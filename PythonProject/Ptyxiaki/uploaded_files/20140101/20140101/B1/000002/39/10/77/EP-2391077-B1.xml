<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2391077-B1" country="EP" doc-number="2391077" kind="B1" date="20140101" family-id="39364183" file-reference-id="290039" date-produced="20180826" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146552770" ucid="EP-2391077-B1"><document-id><country>EP</country><doc-number>2391077</doc-number><kind>B1</kind><date>20140101</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-11006875-A" is-representative="NO"><document-id mxw-id="PAPP154826693" load-source="docdb" format="epo"><country>EP</country><doc-number>11006875</doc-number><kind>A</kind><date>20070912</date><lang>EN</lang></document-id><document-id mxw-id="PAPP246863246" load-source="docdb" format="original"><country>EP</country><doc-number>11006875.6</doc-number><date>20070912</date></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140446423" ucid="CN-200610063572-A" load-source="docdb"><document-id format="epo"><country>CN</country><doc-number>200610063572</doc-number><kind>A</kind><date>20061109</date></document-id></priority-claim><priority-claim mxw-id="PPC140454224" ucid="CN-200610156815-A" load-source="docdb"><document-id format="epo"><country>CN</country><doc-number>200610156815</doc-number><kind>A</kind><date>20061110</date></document-id></priority-claim><priority-claim mxw-id="PPC140447138" ucid="EP-07801087-A" linkage-type="3" load-source="docdb"><document-id format="epo"><country>EP</country><doc-number>07801087</doc-number><kind>A</kind><date>20070912</date></document-id></priority-claim></priority-claims><dates-of-public-availability><intention-to-grant-date><date>20130710</date></intention-to-grant-date></dates-of-public-availability><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1988103925" load-source="docdb">H04L  12/66        20060101AFI20130606BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1988107669" load-source="docdb">H04L  12/751       20130101ALI20130606BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1988133459" load-source="docdb">H04L  12/721       20130101ALI20130606BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-2081693633" load-source="docdb" scheme="CPC">H04L  45/02        20130101 LI20150326BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2081694844" load-source="docdb" scheme="CPC">H04L  45/50        20130101 LI20150326BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2081697831" load-source="docdb" scheme="CPC">H04L  45/04        20130101 LI20150326BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2081698993" load-source="docdb" scheme="CPC">H04L  45/32        20130101 LI20150326BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2081700033" load-source="docdb" scheme="CPC">H04L  45/12        20130101 FI20150326BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132190794" lang="DE" load-source="patent-office">Verfahren und Grenzknoten zur Bekanntgabe von Verbindungsinformation eines autonomen Systems</invention-title><invention-title mxw-id="PT132190795" lang="EN" load-source="patent-office">Method and border node for advertising border connection information of autonomous system</invention-title><invention-title mxw-id="PT132190796" lang="FR" load-source="patent-office">Procédure et noeud de bordure pour annoncer une information de connexion de bordure de système autonome</invention-title></technical-data><related-documents><relation type="division"><child-doc ucid="EP-11006875-A"><document-id load-source="patent-office" format="epo"><country>EP</country><doc-number>11006875</doc-number><kind>A</kind><date>20070912</date></document-id></child-doc><parent-doc ucid="EP-07801087.3"><document-id load-source="patent-office" format="epo"><country>EP</country><doc-number>07801087.3</doc-number><date>20070912</date></document-id></parent-doc></relation></related-documents><parties><applicants><applicant mxw-id="PPAR918168955" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>HUAWEI TECH CO LTD</last-name><address><country>CN</country></address></addressbook></applicant><applicant mxw-id="PPAR918157263" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>HUAWEI TECHNOLOGIES CO., LTD.</last-name></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR918143875" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>XIA HONGMIAO</last-name><address><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR918150307" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>XIA, HONGMIAO</last-name></addressbook></inventor><inventor mxw-id="PPAR918995502" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>XIA, HONGMIAO</last-name><address><street>c/o Huawei Technologies Co., Ltd. Huawei Administration Building Bantian, Longgang District</street><city>Shenzhen Guangdong Province 518129 P.R. China</city><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR918160829" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>ZHANG RENHAI</last-name><address><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR918167391" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>ZHANG, RENHAI</last-name></addressbook></inventor><inventor mxw-id="PPAR918995500" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>ZHANG, RENHAI</last-name><address><street>c/o Huawei Technologies Co., Ltd. Huawei Administration Building Bantian, Longgang District</street><city>Shenzhen Guangdong Province 518129 P.R. China</city><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR918137780" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>CHEN GUOYI</last-name><address><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR918144119" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>CHEN, GUOYI</last-name></addressbook></inventor><inventor mxw-id="PPAR918995501" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>CHEN, GUOYI</last-name><address><street>c/o Huawei Technologies Co., Ltd. Huawei Administration Building Bantian, Longgang District</street><city>Shenzhen Guangdong Province 518129 P.R. China</city><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR918142509" load-source="docdb" sequence="4" format="epo"><addressbook><last-name>JINAG XINGFENG</last-name><address><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR918168956" load-source="docdb" sequence="4" format="intermediate"><addressbook><last-name>Jinag, Xingfeng</last-name></addressbook></inventor><inventor mxw-id="PPAR918995505" load-source="patent-office" sequence="4" format="original"><addressbook><last-name>Jinag, Xingfeng</last-name><address><street>c/o Huawei Technologies Co., Ltd. Huawei Administration Building Bantian, Longgang District</street><city>Shenzhen Guangdong Province 518129 P.R. China</city><country>CN</country></address></addressbook></inventor></inventors><assignees><assignee mxw-id="PPAR918995504" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Huawei Technologies Co., Ltd.</last-name><iid>101226298</iid><address><street>Huawei Administration Building, Bantian Longgang District Shenzhen</street><city>Guangdong 518129</city><country>CN</country></address></addressbook></assignee></assignees><agents><agent mxw-id="PPAR918995503" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Kreuz, Georg Maria</last-name><suffix>et al</suffix><iid>101240797</iid><address><street>Huawei Technologies Duesseldorf GmbH Dessauerstrasse 3</street><city>80992 München</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><designated-states><ep-contracting-states><country mxw-id="DS548969234" load-source="docdb">AT</country><country mxw-id="DS548966556" load-source="docdb">BE</country><country mxw-id="DS548957522" load-source="docdb">BG</country><country mxw-id="DS548961223" load-source="docdb">CH</country><country mxw-id="DS548879201" load-source="docdb">CY</country><country mxw-id="DS548969235" load-source="docdb">CZ</country><country mxw-id="DS548966557" load-source="docdb">DE</country><country mxw-id="DS548879202" load-source="docdb">DK</country><country mxw-id="DS548879203" load-source="docdb">EE</country><country mxw-id="DS548957184" load-source="docdb">ES</country><country mxw-id="DS548957523" load-source="docdb">FI</country><country mxw-id="DS548825061" load-source="docdb">FR</country><country mxw-id="DS548966562" load-source="docdb">GB</country><country mxw-id="DS548879204" load-source="docdb">GR</country><country mxw-id="DS548969236" load-source="docdb">HU</country><country mxw-id="DS548961224" load-source="docdb">IE</country><country mxw-id="DS548879205" load-source="docdb">IS</country><country mxw-id="DS548825062" load-source="docdb">IT</country><country mxw-id="DS548879206" load-source="docdb">LI</country><country mxw-id="DS548957524" load-source="docdb">LT</country><country mxw-id="DS548850830" load-source="docdb">LU</country><country mxw-id="DS548957525" load-source="docdb">LV</country><country mxw-id="DS548957530" load-source="docdb">MC</country><country mxw-id="DS548850831" load-source="docdb">MT</country><country mxw-id="DS548966563" load-source="docdb">NL</country><country mxw-id="DS548957531" load-source="docdb">PL</country><country mxw-id="DS548961225" load-source="docdb">PT</country><country mxw-id="DS548966564" load-source="docdb">RO</country><country mxw-id="DS548957532" load-source="docdb">SE</country><country mxw-id="DS548957185" load-source="docdb">SI</country><country mxw-id="DS548825063" load-source="docdb">SK</country><country mxw-id="DS548879207" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data></bibliographic-data><description mxw-id="PDES63956931" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001">FIELD OF THE INVENTION</heading><p id="p0001" num="0001">Embodiments of the present invention relate to technical field of communication, and in particular relate to a method and border node for advertising border connection information of Autonomous System (AS).</p><heading id="h0002">BACKGROUND</heading><p id="p0002" num="0002">Current network is overburdened, and requires optimization, due to continuous enlargement of network, continuous growth of data traffic and complexity of service.</p><p id="p0003" num="0003">Traffic Engineering (TE) is developed as required, which focuses on optimization of general performance of networks, so as to provide efficient and stable network services, optimize usage of network resources, and optimize network traffic. In terms of difference of functionality ranges, the traffic engineering can be categorized into intra-domain traffic engineering and inter-domain traffic engineering. At present, the intra-domain traffic engineering is relatively mature, the major method thereof is to flood TE information of links in the intra-domain via extension of conventional interior gateway protocol (IGP), such as extension of Open Shortest Path First Traffic Engineering (OSPF-TE), and extension of Intermediate System to Intermediate System Traffic Engineering (ISIS-TE), so as to implement synchronization of intra-domain Traffic Engine Database (TED).</p><p id="p0004" num="0004">In a typically large network including a plurality of Autonomous Systems, in consideration of extensibility and security, the TE information within each AS cannot be flooded to the outside of the autonomous system. In order to obtain TE path between the autonomous systems, there are mainly two path calculation methods: one method is to utilize a Path Computation Element (PCE) to cooperatively calculate, i.e. within the autonomous systems there is one or more PCEs responsible for the path calculation of the present autonomous system, and the path calculation between the autonomous systems is completed by the PCE cooperation with one or more PCEs of other autonomous systems; another method is to utilize the manner of explicit route to display AS sequence of a specified path or IP address<!-- EPO <DP n="2"> --> sequence of a specified Autonomous System Border Router (ASBR), and then complete the path calculation among the autonomous systems according to the specified information by a Label Switched Router (LSR). No matter which calculation method is utilized, the Path Computation Element (PCE) or the Label Switched Router (LSR) responsible for TE path calculation needs to know border connection information between the autonomous system located therein and external neighbor autonomous systems. The border connection information refers to information of establishing or deleting connection between Autonomous System Border Router (ASBR) where the path calculating node is located and the external neighbor Autonomous System Border Router (ASBR).</p><p id="p0005" num="0005"><patcit id="pcit0001" dnum="WO03049342AA"><text>PCT application no. WO 03/049342 A</text></patcit> describes a solution for extracting and building end-to-end route information in a multi-area Internet protocol (IP) AS. Specifically, paragraph [0036] describes AS boundary routers (ASBRs) 21 and 26. Paragraph [0040] describes ASBRs 21 and 26 transmit AS-external link state advertisements (LSAs). The advertisements provide all routers in the AS with the identity of ASBRs and the set of external routes that each ASBR can reach. As explicitly shown in paragaph [0059] and <figref idrefs="f0002">figure 2</figref>, ASBRs 52 and 62 both flood an AS-external LSA for the corresponding external route of 72.41.0.0/16. The external route of 72.41.0.0/16 corresponds to the destination address 72.41.67.88 of a destination.</p><p id="p0006" num="0006"><nplcit id="ncit0001" npl-type="s"><text>Renhai, Zhang, Mach, Chen, Huawei Technologies Co. et al.: "Locate ASBR in PCE; draft-zhang-pce-locate-asbr-00" IETF Standard-Working-Draft, Internet Engineering Task Force, IETF, CH, 12 October 2006 (2006-10-12) (XP015048659) ISSN: 0000-0004</text></nplcit> describes a procedure for an inter-AS PCE to locate boundary node within its domain dynamically. Section 2 describes an exterior border gateway protocol (EBGP) speaker should report its connections to the inter-AS PCE. The tuple of &lt;Router ID, AS Number&gt; describes an EBGP peer in a neighboring AS. An inter-AS PCE receives information from all EBGP speakers within its AS via interior BGP (IBGP) connections. Thus the inter-AS PCE can have the knowledge of the ASBRs within its domain and their corresponding interconnection of all neighboring ASes.</p><p id="p0007" num="0007">Currently, no solution raises how to advertise border connection information of autonomous systems. The border connection information is statically and manually configured as required<!-- EPO <DP n="3"> --> by the nodes within the systems. However, the disadvantage of the static and manual configuration lies in that it fails to adapt to dynamic change of network topology, so that it cannot support the TE path calculation between autonomous systems efficiently, and then it is difficult to implement optimization of general performance of networks. When the border connection information of the autonomous systems changes, such as a disconnection between a certain border node and a corresponding neighbor border node in a neighbor autonomous system, if the node responsible for path calculation within the autonomous system obtains the border connection information of the present system via a static and manual configuration method, it always fails to learn above-mentioned change of border connection information in time, and executes the path calculation based on the previous information statically configured. The path may be noticed unavailable during the calculating process and need to be re-configured via a manual modification. Additionally, when the border connection relationship of autonomous systems is relatively complex, the static and manual configuration method has problems, such as high workload, time consuming, low processing efficiency and high cost, and wrong-match or miss-match may easily occur because of human cause.</p><heading id="h0003">SUMMARY</heading><p id="p0008" num="0008">Various embodiments of the present invention are directed to providing a method for advertising border connection information of autonomous system and to providing a border node for advertising border connection information of autonomous system, in order to adapt to dynamic change of network topology, and dynamically advertise the border connection information of the autonomous system within the system in time.</p><p id="p0009" num="0009">For these purposes, the solution of embodiments of the present invention is implemented as follows.</p><p id="p0010" num="0010">An embodiment of the present invention discloses a method for advertising border connection information of autonomous system. The method includes:
<ul><li>establishing and maintaining, by a border node of the autonomous system, the border connection information of the autonomous system, the border connection information comprising an identifier of a neighbor border node of a neighbor autonomous system and a number of the neighbor autonomous system (AS Number);<!-- EPO <DP n="4"> --></li><li>flooding, by the border node of the autonomous system, the border connection information within the autonomous system; and</li><li>receiving, by a node of the autonomous system, the border connection information;</li><li>wherein the border node of the autonomous system supports Intermediate System to Intermediate System (ISIS) protocol; and</li><li>wherein the process of flooding the border connection information within the autonomous system comprises:
<ul><li>including the border connection information in a border connection description Sub-TLV field;</li><li>including the border connection description Sub-TLV field in a TLV field, the TLV field including a field for identifying flooding range and flooding direction;</li><li>including the TLV field in a Link State Protocol Data Unit (LSP) message; and flooding the LSP message.</li></ul></li></ul></p><p id="p0011" num="0011">An embodiment of the present invention discloses a border node for advertising border connection information of an autonomous system. The border node includes:
<ul><li>a border connection information collecting module, configured to obtain border connection information established by the border node, the border connection information comprising an identifier of a neighbor border node of a neighbor autonomous system and a number of the neighbor autonomous system (AS Number);</li><li>a border connection information database, configured to store the border connection information of the autonomous system, the border connection information of the autonomous system including the border connection information established by the border node;</li><li>a message generating module, configured to package the border connection information established by the border node into a message; and</li><li>a message advertising module, configured to internally flood the message generated in the message generating module within the autonomous system;</li><li>wherein the border node supports Intermediate System to Intermediate System (ISIS) protocol; and</li><li>wherein the border connection information is included in a border connection description Sub-TLV field, the border connection description Sub-TLV field being included in a TLV<!-- EPO <DP n="5"> --> field in a Link State Protocol Data Unit (LSP) message, the TLV field including a field for identifying flooding range and flooding direction.</li></ul></p><heading id="h0004">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p0012" num="0012"><ul><li><figref idrefs="f0001">Figure 1</figref> illustrates a flow chart of a method for advertising border connection information of autonomous systems according an embodiment of the present invention;</li><li><figref idrefs="f0002">Figure 2</figref> illustrates a flow chart of a method for advertising border connection information of autonomous systems that supports ISIS protocol according an embodiment of the present invention, when the border connection information is newly added;<!-- EPO <DP n="6"> --></li><li><figref idrefs="f0003">Figure 3</figref> illustrates a flow chart of a method for advertising border connection information of autonomous systems that supports ISIS protocol according an embodiment of the present invention, when the border connection information is deleted;</li><li><figref idrefs="f0004">Figure 4</figref> illustrates network scenario for applying the method for advertising border connection information of autonomous systems according to an embodiment of the present invention;</li><li><figref idrefs="f0004">Figure 5</figref> illustrates a table of border connection information established by applying the method for advertising border connection information of autonomous systems according to an embodiment of the present invention in the network scenario shown in <figref idrefs="f0004">Figure 4</figref>;</li><li><figref idrefs="f0005">Figure 6</figref> illustrates a flow chart of a method for advertising border connection information of autonomous systems that supports OSPF protocol according an embodiment of the present invention, when the border connection information is newly added;</li><li><figref idrefs="f0006">Figure 7</figref> illustrates a flow chart of a method for advertising border connection information of autonomous systems that supports OSPF protocol according an embodiment of the present invention, when the border connection information is deleted; and</li><li><figref idrefs="f0007">Figure 8</figref> illustrates a border node for advertising border connection information of autonomous systems according an embodiment of the present invention.</li></ul></p><heading id="h0005">DETAILED DESCRIPTION</heading><p id="p0013" num="0013">Embodiments of the present invention provide a method for advertising border connection information of autonomous systems. <figref idrefs="f0001">Figure 1</figref> illustrates a flow chart of a method for advertising border connection information of autonomous systems according an embodiment of the present invention. The method includes:
<ul><li>Step 101: A border node of the autonomous system establishes and maintains the border connection information of the autonomous system.</li><li>Step 102: The border connection information is flooded in the autonomous system;</li><li>Step 103: The node of the autonomous system receives the border connection information.</li></ul></p><p id="p0014" num="0014">The method for advertising border connection information of autonomous system usually is applied in a large network including a plurality of autonomous systems. The autonomous system for implementing the method of embodiments of the present invention at least<!-- EPO <DP n="7"> --> includes two nodes connected with each other, at least one of which is a border node for establishing neighbor connection with an external neighbor autonomous system, and the other one(s) of which may be an internal node responsible for forwarding message within the autonomous system or may be another border node for establishing neighbor connection with an external neighbor autonomous system. In an embodiment of the present invention, the autonomous system includes a plurality of border nodes and internal nodes. The border nodes and the internal nodes may be in relationship of one-to-one connection, or may be in relationship of one-to-multiple or multiple-to-multiple connection. In addition, the border nodes and the internal nodes may employ router or other network device with routing function.</p><p id="p0015" num="0015">In the method for advertising border connection information of autonomous system according to an embodiment of the present invention, the node of the autonomous system may support ISIS protocol or OSPF protocol. Solutions of embodiments of the present invention may be discussed in detail below by referring to embodiments.</p><heading id="h0006">Embodiment 1</heading><p id="p0016" num="0016">In this embodiment, description is given by referring to router acting as the node of autonomous system. In the case that a router of autonomous system supports ISIS protocol, the method for advertising border connection information of autonomous system as illustrated in <figref idrefs="f0001">Figure 1</figref> is detailed as follows.</p><p id="p0017" num="0017">Step 101A: A border router of the autonomous system establishes and maintains the border connection information of the autonomous system.</p><p id="p0018" num="0018">The border connection information in step 101A may be obtained via Border Gateway Protocol (BGP). The process of establishing and maintaining the border connection information of the autonomous system may be: establishing corresponding border connection information when the border router establishes connection with a neighbor border router of an external neighbor autonomous system; and deleting the corresponding border connection information in the case of disconnection between the border router and the neighbor border router of the external neighbor autonomous system.</p><p id="p0019" num="0019">Alternatively, the border connection information in step 101A may be obtained via static and manual configuration. In this case, the process of establishing and maintaining the border connection information of the autonomous system may be: receiving, by the border router, a<!-- EPO <DP n="8"> --> manual input from a user, and establishing corresponding border connection information when a link between the border router and the neighbor border router of the external neighbor autonomous system is available; and deleting the corresponding border connection information when the link between the border router and the neighbor border router of the external neighbor autonomous system is unavailable.</p><p id="p0020" num="0020">The border connection information includes an identifier of the neighbor border router in the neighbor autonomous system (Router_ID) and number of the neighbor autonomous system (AS Number).</p><p id="p0021" num="0021">Step 102A: The border router internally floods the border connection information within the autonomous system.</p><p id="p0022" num="0022">Because the border router supports ISIS protocol, the embodiment of the present invention defines an autonomous system border connection description Sub-TLV (ASBR Connection Descriptor Sub-TLV) field for carrying the border connection information of the autonomous system and internally advertising within the autonomous system. The border connection information may be included in a value field of one border connection description Sub-TLV field, and Router_ID and AS Number in the border connection information may be included in two value fields of the border connection description Sub-TLV field, respectively. The Router_ID may be represented with 4 or 16 bytes, and the AS Number may be represented with 4 bytes.</p><p id="p0023" num="0023">The border connection description Sub-TLV (ASBR Connection Descriptor Sub-TLV) field may be included in a Type-Length-Value (TLV) field in Link State Protocol Data Unit (PDU) (LSP) packet. Multiple types of TLV fields included in the LSP message are defined in ISIS protocol, such as ISIS Router Capability TLV field, Intermediate System (IS) Reachability TLV field, Internet Protocol (IP) Reachability TLV field, and Inter-AS Reachability TLV field. The above TLV fields include one or more length-variable Sub-TLV fields, while the sum of the lengths of all Sub-TLV may not exceed 250 bytes, all of the Sub-TLV fields are extensible. A field for identifying flood range and flood direction is defined in the TLV fields, with the field for identifying flood range and flood direction carrying a value 1, flooding may be performed in the whole autonomous system, or with the field for identifying flood range and flood direction carrying a value 2, flooding may be performed in a route area. The route area refers to level in an autonomous system supporting the ISIS protocol.<!-- EPO <DP n="9"> --></p><p id="p0024" num="0024">By use of newly-defined border connection description Sub-TLV field, the step 102A of the border router supporting ISIS protocol internally flooding the border connection information within the autonomous system may be: the border router has the border connection information included in the border connection description Sub-TLV field, and has the border connection description Sub-TLV field included in the TLV field, and has the TLV field included in the LSP message, and floods the LSP message. And, the border router saves the LSP message to be flooded.</p><p id="p0025" num="0025">When the border connection information changes, the border router may update the corresponding border connection description Sub-TLV field duly, and flood the border connection information carried in the saved corresponding LSP message after the LSP message is refreshed.</p><p id="p0026" num="0026">After the border router floods the LSP message for the first time, it may not save the flooded LSP message. As such, when the border connection information changes, the border router may re-generate an LSP message carrying updated border connection information, and flood the re-generated LSP message.</p><p id="p0027" num="0027">In step 102A, in general, the border connection information carried in the TLV field of the LSP message may be flooded in a whole autonomous system. In some cases, however, such as in the case where all border routers and all PCEs that need to obtain the border connection information are located in the same level, because all the routers except the PCEs do not need to obtain the border connection information, the user may configure as required to have the information being flooded only in the level where all border routers and all PCEs are located. The method for configuration is to use the field for identifying flood range and flood direction, and limit the flood range of the TLV field within the level where all border routers and all PCEs are located.</p><p id="p0028" num="0028">Step 103A: The router of the autonomous system receives the border connection information. The user may configure the router of the autonomous system as required. When the LSP message is received by the router of the autonomous system, if the border connection information does not require to be carried in the LSP message, the message is forwarded without obtaining the information carried therein. For example, in a network scenario where the autonomous system includes one or more PCEs, the common internal router that does not need path calculation may only forward the LSP message upon the receipt of the LSP<!-- EPO <DP n="10"> --> message carrying the border connection information, but the PCEs responsible for path calculation may obtain the border connection information from the LSP message upon the receipt thereof, in order to support the implementation of the path calculation.</p><p id="p0029" num="0029">In the example that the border router of the autonomous system establishes neighbor connection with a border router in an external neighbor autonomous system according to BGP protocol, in step 102A, in accordance with dynamic change of the border connection information, the advertising process by the border router to the LSP message can be generalized as the following three instances:</p><p id="p0030" num="0030">When the border router established connection with one neighbor border router in the external neighbor autonomous system, the addition of a piece of border connection information may be advertised in the border router, and the border router may have the border connection information carried in an LSP message and flood to the present autonomous system. The specific progress is shown in <figref idrefs="f0002">Figure 2</figref>, which illustrates a flow chart of a method for advertising border connection information of autonomous systems that supports ISIS protocol according an embodiment of the present invention, when the border connection information is newly added. The following steps are included:
<ul><li>Step 201: The border router obtains the newly added border connection information, which contains identifier of the neighbor border router and number of the neighbor autonomous system where the neighbor border route is located.</li><li>Step 202: It is determined whether the LSP message saved by the border router has an ISIS Router Capability TLV field; if yes, step 203 is executed; if not, step 205 is executed.</li><li>Step 203: It is determined whether the ISIS Router Capability TLV field has enough room available for the addition of the newly added border connection information; if yes, step 204 is executed; if not, step 205 is executed.</li></ul></p><p id="p0031" num="0031">As sum of the lengths of all Sub-TLV fields in the ISIS Router Capability TLV field may not exceed 250 bytes, the specific determining manner in step 203 is: determining whether the sum of lengths of all Sub-TLV fields in the ISIS Router Capability TLV field may go beyond 250 bytes if the border connection information in step 201 is added in the ISIS Router Capability TLV field. If it may exceed 250 bytes, it is indicated that the ISIS Router Capability TLV field has no sufficient room for addition of the newly-added border connection information; otherwise, it is indicated that there is enough room.<!-- EPO <DP n="11"> --></p><p id="p0032" num="0032">Step 204: The newly added border connection information is added into the border connection description Sub-TLV field in the ISIS Router Capability TLV field, and the process proceeds to step 206.</p><p id="p0033" num="0033">There may be two manners for adding the border connection information: if the ISIS Router Capability TLV field includes the border connection description Sub-TLV field, the newly-added border connection information can be added into the existing border connection description Sub-TLV field in the ISIS Router Capability TLV field; if the ISIS Router Capability TLV field does not includes border connection description Sub-TLV field, a border connection description Sub-TLV field may be created and the newly-added border connection information may be added into the created border connection description Sub-TLV field in the ISIS Router Capability TLV field.</p><p id="p0034" num="0034">Step 205: An ISIS Router Capability TLV field is generated in the LSP message, and the newly added border connection information is added into the border connection description Sub-TLV field in the created ISIS Router Capability TLV field, and the process proceeds to step 206.</p><p id="p0035" num="0035">Step 206: The LSP message is refreshed.</p><p id="p0036" num="0036">Step 207: The LSP message is flooded in the autonomous system.</p><p id="p0037" num="0037">When the border router disconnects with a neighbor border router in the external neighbor autonomous system, deletion of corresponding border connection information may be advertised in the border router to delete all corresponding border connection information, and the updated information in the SLP message may be flooded within the autonomous system after the LSP message is refreshed. The specific progress is shown in <figref idrefs="f0003">Figure 3</figref>, which illustrates a flow chart of a method for advertising border connection information of autonomous systems that supports ISIS protocol according an embodiment of the present invention, when the border connection information is deleted. The following steps are included:
<ul><li>Step 301: The border router obtains the border connection information to be deleted.</li><li>Step 302: It is determined whether the ISIS Router Capability TLV field of the LSP message saved by the border router includes a border connection description Sub-TLV field including the border connection information to be deleted; if not, step 303 is executed; if yes, step 304 is executed.<!-- EPO <DP n="12"> --></li><li>Step 303: Error prompt information is generated, and current flow is terminated.</li><li>Step 304: The border connection information in the border connection description Sub-TLV field is deleted, and the border connection description Sub-TLV field is updated.</li><li>Step 305: The LSP message including the border connection description Sub-TLV field is refreshed.</li><li>Step 306: The LSP message is internally flooded within the autonomous system.</li></ul></p><p id="p0038" num="0038">When BGP protocol of the border router is deleted or all external connection relations is unavailable, deletion of all of the corresponding border connection information in the border router may be advertised to delete all corresponding border connection information, and the LSP message after update accordingly may be flooded, the specific progress of which is similar to the above circumstance (2). In addition, the LSP message carrying all border connection information may be found, the LSP message may be aged, and the border connection information carried in the aged LSP message may be flooded internally within the system.</p><p id="p0039" num="0039">The above embodiment takes the example that the Value field in the border connection description Sub-TLV field includes one or more border connection information. In other embodiments of the present invention, the Router_ID and AS Number in a border connection information may be included in Value fields in two different border connection description Sub-TLV fields, and these two border connection description Sub-TLV fields may be included in a TLV field, so that the corresponding between the Router_ID and the AS Number is capable to be recognized. When the border connection information is deleted or added, the Router_ID and AS Number in the border connection information requires to be added or deleted in the two border connection description Sub-TLV fields.</p><p id="p0040" num="0040">Besides, the above embodiment takes the example that the border connection description Sub-TLV field is included in the ISIS Router Capability TLV field. In other embodiments of the present invention, the border connection description Sub-TLV field may be included in other types of TLV field, such as IS accessibility TLV field, IP accessibility TLV field, Inter-AS accessibility TLV field, etc.</p><p id="p0041" num="0041">After step 103A, the router of the autonomous system can establish and maintain a border connection information table in local in accordance with the border connection information received in step 103A.<!-- EPO <DP n="13"> --></p><p id="p0042" num="0042">When the autonomous system includes a plurality of border routers and a plurality of internal routers, if the internal routers fail to receive updated message from the border routers due to reasons such as disconnection of the links between the internal routers and the border routers or disconnection of the links between the internal routers, the internal routers may delete all border connection information concerned in the local border connection information table, while the LSP message received previously and carrying the border connection information may be aged, and the border connection information carried in the aged LSP message may be flooded.</p><p id="p0043" num="0043">In addition to the above circumstances, the maintenance of the border connection information table by the internal router approximately involves the following three circumstances:
<ul><li>When a valid LSP message is received, which contains a border connection description Sub-TLV field carrying border connection information; the border connection information table may be updated based on the border connection information carried in the LSP message.</li><li>When an aged LSP message is received, which contains a border connection description Sub-TLV field carrying border connection information; the border connection information in the border connection information table may be deleted accordingly based on the border connection information carried in the LSP message.</li><li>When ISIS protocol is deleted, the internal router may delete the entire border connection information table.</li></ul></p><p id="p0044" num="0044">The border connection information table established in accordance with the embodiments of the present invention may be a link list with various patterns. In the embodiments of the present invention, the border connection information table usually takes AS numbers of external neighbor autonomous systems connected with the autonomous system as index. The number of each external neighbor autonomous system corresponds to one or more neighbor border router identifiers, and each neighbor border router identifier corresponds to one or more neighbor router identifier. Here, the border router refers to border router of the autonomous system, and the neighbor border router is the border router of the external neighbor autonomous system connected to the border router of the autonomous system.</p><p id="p0045" num="0045">For clarifying the method of embodiments of the present invention, a specific application example may be introduced below, in which a border router utilizes the method of embodiments of the present invention to advertise border connection information in the<!-- EPO <DP n="14"> --> system located therein and establish a border connection information table in a router internal to the system. As shown in <figref idrefs="f0004">Figure 4, Figure 4</figref> illustrates network scenario for applying the method for advertising border connection information of autonomous systems according to an embodiment of the present invention. The method of embodiments of the present invention is applied in a network scenario of PCE model, which includes three autonomous systems connected in sequence, which are defined as AS 100, AS200, and AS300. The autonomous system AS200 includes three border routers R4, R5 and R6 connected to one another and a internal path calculating element PCE2 that connects with the three border routers, in which the border router R4 connects to a border router R2 in the external neighbor autonomous system AS 100, the border router R5 connects to a border router R3 in the external neighbor autonomous system AS 100, and the border router R6 connects to border routers R7 and R8 in the external neighbor autonomous system AS300. When the path calculating element PCE 2 needs to get knowledge of border connection information of the autonomous system AS200 where it is located for path calculation, the three routers R4, R5 and R6 in the autonomous system AS200 may establish and maintain their border connection information, respectively, and make the border connection information being carried in LSP messages for being internally flooded within the autonomous system. The path calculating element PCE 2 receives the border connection information of the three border routers, and establishes a border connection information table in local. The border connection table is illustrated as <figref idrefs="f0004">Figure 5. Figure 5</figref> illustrates a table of border connection information established by applying the method for advertising border connection information of autonomous systems according to an embodiment of the present invention in the network scenario shown in <figref idrefs="f0004">Figure 4. Figure 5</figref> is a link list that takes numbers of the neighbor autonomous systems as index and includes identifiers of border routers of the present autonomous systems and identifiers of neighbor border routers of neighbor autonomous systems connected thereto. In addition, in the present embodiment, each of the three border routers R4, R5 and R6 may receive the border connection information from the other two border routers, and establish the border connection information table as shown in <figref idrefs="f0004">Figure 5</figref> in local.</p><p id="p0046" num="0046">When the connection between the border router R6 in autonomous system AS200 and the border router R8 in autonomous system AS300 is unavailable, the border router R6 may<!-- EPO <DP n="15"> --> advertise to delete the border connection information that contains the number of the autonomous system AS300 and the identifier of the border router R8, find the saved corresponding LSP message, delete two tuples information includes the AS number 300 and the identifier of the border router R8 in the border connection description Sub-TLV field of the LSP message, and then internally flood updated information carried in LSP message within the autonomous system after the LSP message is refreshed, so as to have all of the routers in the autonomous system AS200 to be capable of updating the border connection information table established in local timely.</p><p id="p0047" num="0047">When the link between the path calculating element PCE 2 and the border router R4 goes wrong to have the PCE 2 being unable to receive the periodically updated border connection information transmitted by the border router R4, the PCE 2 may delete all border connection information in relation to the border router R4 in local border connection information table, while an aged LSP message may be generated and the border connection information carried in the aged message may be flooded internally within the system.</p><heading id="h0007">Embodiment 2</heading><p id="p0048" num="0048">In this embodiment, routers in the autonomous system support OSPF protocol. Hereinafter, the routers of the autonomous system supporting OSPF protocol are taken as an example for introducing the method for advertising border connection information of autonomous system as shown in <figref idrefs="f0001">Figure 1</figref> in detail.</p><p id="p0049" num="0049">Step 101B: A border router of an autonomous system establishes and maintains border connection information of the autonomous system. This step is identical to step 101 in Embodiment 1, which thereby may be omitted for brevity.</p><p id="p0050" num="0050">Step 102B: The border router floods the border connection information in the autonomous system.</p><p id="p0051" num="0051">In OSPF protocol, a Link TLV field is defined. In the embodiments of the present invention, the border connection information may be included in the Link TLV field with three specific manners for the including:
<ul><li>Manner 1: The border connection information is included in a Value field in a border connection description Sub-TLV field, and the border connection description Sub-TLV field is included in the Link TLV field.<!-- EPO <DP n="16"> --></li><li>Manner 2: Router_ID and AS Number in the border connection information are included Value fields of two different border connection description Sub-TLV fields respectively, and the two different border connection description Sub-TLV fields are included in the Link TLV field.</li><li>Manner 3: The Router_ID in the border connection information is included in the Value field in a Link ID Sub-TLV field that has been defined in OSPF protocol, the AS Number in the border connection information is included in the Value field of the border connection description Sub-TLV field, and both of the Link ID Sub-TLV and the border connection description Sub-TLV are included in the Link TLV field.</li></ul></p><p id="p0052" num="0052">In particular, the Router_ID may be represented with 4 or 16 bytes, and the AS Number may be represented with 4 bytes.</p><p id="p0053" num="0053">Subsequently, the Link TLV filed may be included in a Link State Advertisement (LSA) message, and the LSA message may be flooded. The OSPF protocol defines various kinds of LSA message, such as Router Information (RI) LSA message, Opaque LSA message, etc. Such an LSA message may include one or more Link TLV fields.</p><p id="p0054" num="0054">In this embodiment, the border connection information may be controlled to be flooded within the entire autonomous system or within a certain route area. The control method is identical to the method in Embodiment 1. The router area refers to an autonomous domain in an autonomous system that supports OSPF protocol.</p><p id="p0055" num="0055">When the border connection information varies, the border router may update corresponding Link TLV field in time, and flood the border connection information carried in corresponding LSA message stored thereby after the LSA message is refreshed.</p><p id="p0056" num="0056">Similar to Embodiment 1, after the border router floods the LSA message for the first time, the flooded LSA message may not be saved. As such, the border router may re-generate an LSA message that contains updated border connection information and flood the re-generated LSA message, when the border connection information varies.</p><p id="p0057" num="0057">In the example that the border router of the autonomous system establishes neighbor connection with the border router in an external neighbor autonomous system, in step 102B, the advertising process to the LSA message by the border router based on dynamic change of the border connection information may be generalized as the following three circumstances:<!-- EPO <DP n="17"> --></p><p id="p0058" num="0058">When the border router establishes connection with a border router in an external neighbor autonomous system, addition of a piece of border connection information may be advertised in the border router, while the border router may internally flood an RI LSA message that carries the border connection information within the present system, the specific progress of which is shown in <figref idrefs="f0005">Figure 6. Figure 6</figref> illustrates a flow chart of a method for advertising border connection information of autonomous systems that supports OSPF protocol according an embodiment of the present invention, when the border connection information is newly added. The following steps are included:
<ul><li>Step 601: The border router obtains the newly added border connection information, which comprises an identifier of the neighbor border router and number of the neighbor autonomous system.</li><li>Step 602: It is determined whether the RI LSA message saved by the border router has a Link TLV field; if yes, step 603 is executed; if not, step 604 is executed.</li><li>Step 603: The newly added border connection information is added into the Link TLV field of the RI LSA message. The specific manners thereof are described in step 102B, which thereby is omitted for brevity. Step 605 is executed sequentially.</li><li>Step 604: A new Link TLV field is generated, the newly added border connection information is added into the new Link TLV field, and then the process proceeds to step 605. Step 605: The RI LSA message is refreshed.</li><li>Step 606: The RI LSA message that carries the newly added border connection information is internally flooded within the autonomous system.</li></ul></p><p id="p0059" num="0059">When the border router disconnects with a neighbor border router in an external neighbor autonomous system, deletion of all of the corresponding border connection information in the border router may be advertised to delete all corresponding border connection information, and corresponding RI LSA message may be internally flooded within the system after the LSA message is updated, the specific progress of which is shown in <figref idrefs="f0006">Figure 7. Figure 7</figref> illustrates a flow chart of a method for advertising border connection information of autonomous systems that supports OSPF protocol according an embodiment of the present invention, when the border connection information is deleted. The following steps are included:
<ul><li>Step 701: The border router obtains border connection information to be deleted.<!-- EPO <DP n="18"> --></li><li>Step 702: It is determined whether the RI LSA message saved by the border router has a Link TLV field that contains the border connection information to be deleted; if not, Step 703 is executed; if yes, step 704 is executed.</li><li>Step 703: Error prompt information is generated, and current flow is terminated.</li><li>Step 704: The border connection information in the Link TLV field is deleted, and the Link TLV field is updated.</li><li>Step 705: The RI LSA message carrying the Link TLV field is refreshed.</li><li>Step 706: The RI LSA message is flooded within the autonomous system.</li></ul></p><p id="p0060" num="0060">When BGP protocol of the border router is deleted or all external connection are unavailable deletion of all corresponding border connection information may be advertised in the border router to delete all corresponding border connection information, and a corresponding RI LSA message may be internally flooded within the system after the RI LSA message is updated, the specific progress of which is similar to the above circumstance (2). Moreover, an RI LSA message that includes all border connection information may be found, the RI LSA message may be aged and then flooded within the system.</p><p id="p0061" num="0061">The above embodiment takes the example that the Link TLV field is included in the RI LSA message. In other embodiments of the present invention, the Link TLV field may be included in other types of LSA message, such as an Opaque LSA.</p><p id="p0062" num="0062">In this embodiment, the LSA message may be flooded in one route area of the autonomous system, i.e. an autonomous area.</p><p id="p0063" num="0063">Step 103B: The router of the autonomous system receives the border connection information. This step is identical to step 103A in Embodiment 1, which is omitted for brevity.</p><p id="p0064" num="0064">Following step 103B, the router of the autonomous system may locally establish and maintain a border connection information table based on the border connection information received in step 103B. The specific method for establishing the border connection information table is identical to Embodiment 1, which is omitted here for brevity.</p><p id="p0065" num="0065">The embodiment of the present invention further provides a border node that applies the method to advertise border connection information of autonomous system, as shown in <figref idrefs="f0007">Figure 8. Figure 8</figref> illustrates a border node for advertising border connection information of autonomous systems according an embodiment of the present invention.</p><p id="p0066" num="0066">The border node mainly includes:<!-- EPO <DP n="19"> -->
<ul><li>a border connection information collecting module, configured to obtain border connection information established by the border node;</li><li>a border connection information database, configured to store the border connection information of the autonomous system, which comprises the border connection information established by the border node;</li><li>a message generating module, configured to package the border connection information established by the border node into a message; and</li><li>a message advertising module, configured to internally flood the message formed in the message generating module within the autonomous system.</li></ul></p><p id="p0067" num="0067">The border node may further include:
<ul><li>a message receiving module, configured to receive messages transmitted by other border nodes within the autonomous system; and</li><li>a message processing module, configured to parse the message received by the message receiving module, obtain the border connection information of the autonomous system from the message, and store the obtained border connection information in the border connection information database.</li></ul></p><p id="p0068" num="0068">The message advertising module may be further configured to forward and advertise the message received by the message receiving module.</p><p id="p0069" num="0069">The method and border node for adverting border connection information of autonomous system provided by the embodiments of the present invention makes the border connection information of the autonomous system carried in an LSP message or an LSA message to dynamically advertise within the system via the manner of flooding, which can adapt to dynamic change of network topology, update the border connection information obtained by nodes within the system in time, support TE path calculation between autonomous systems efficiently, implement optimization of performance of an entire network, and may solve the problems such as high workload, time consuming, error prone, etc. that occur when current static and manual configuration technology is used for the configuration of the border connection information, so as to increase quality of service of the network, reduce the maintenance cost of the network and adapt to a large network architecture that includes a plurality of autonomous systems.<!-- EPO <DP n="20"> --></p><p id="p0070" num="0070">The above are exemplary embodiments of the present invention, and any common variation and substitute by one skilled in the art within the solution of embodiments of the present invention shall be within the protection scope of embodiments of the present invention as defined by the appended claims.</p></description><claims mxw-id="PCLM56978282" lang="DE" load-source="patent-office"><!-- EPO <DP n="25"> --><claim id="c-de-01-0001" num="0001"><claim-text>Verfahren zum Angeben von Grenzverbindungsinformationen eines autonomen Systems, das Folgendes umfasst:
<claim-text>Bilden und Aufrechterhalten (101) durch einen Grenzknoten des autonomen Systems von Grenzverbindungsinformationen des autonomen Systems, wobei die Grenzverbindungsinformationen eine Kennung eines benachbarten Grenzknotens eines benachbarten autonomen Systems und eine Nummer des benachbarten autonomen Systems, AS-Nummer, enthalten;</claim-text>
<claim-text>Fluten (102) durch den Grenzknoten des autonomen Systems der Grenzverbindungsinformationen in dem autonomen System; und</claim-text>
<claim-text>Empfangen (103) durch einen Knoten des autonomen Systems der Grenzverbindungsinformationen;</claim-text>
<claim-text>wobei der Grenzknoten des autonomen Systems ein Zwischensystem-zu-Zwischensystem-Protokoll, ISIS-Protokoll (ISIS = Intermediate System to Intermediate System), unterstützt;</claim-text>
<claim-text>und</claim-text>
<claim-text>wobei der Prozess des Flutens der Grenzverbindungsinformationen in dem autonomen System Folgendes umfasst:
<claim-text>Aufnehmen der Grenzverbindungsinformationen in ein Grenzverbindungsbeschreibungs-Unter-TLV-Feld;</claim-text>
<claim-text>Aufnehmen des Grenzverbindungsbeschreibungs-Unter-TLV-Feldes in ein TLV-Feld, wobei das TLV-Feld ein Feld zum Identifizieren der Flutungsreichweite und der Flutungsrichtung enthält;</claim-text>
<claim-text>Aufnehmen des TLV-Feldes in eine Verbindungszustandsprotokoll-Dateneinheit-Nachricht, LSP-Nachricht; und</claim-text>
<claim-text>Fluten der LSP-Nachricht.</claim-text></claim-text></claim-text></claim><claim id="c-de-01-0002" num="0002"><claim-text>Verfahren nach Anspruch 1, wobei der Prozess des Bildens und Aufrechterhaltens der Grenzverbindungsinformationen dann, wenn die Grenzverbindungsinformationen über ein BGP erhalten werden, Folgendes umfasst:
<claim-text>Bilden und Aufrechterhalten entsprechender Grenzverbindungsinformationen, wenn der Grenzknoten eine Verbindung mit einem benachbarten Grenzknoten eines externen benachbarten autonomen Systems bildet; und</claim-text>
<claim-text>Löschen der entsprechenden Grenzverbindungsinformationen aus allen selbst gesicherten Grenzverbindungsinformationen, wenn die zwischen dem Grenzknoten<!-- EPO <DP n="26"> --> und dem benachbarten Grenzknoten des externen benachbarten autonomen Systems gebildete Verbindung getrennt wird.</claim-text></claim-text></claim><claim id="c-de-01-0003" num="0003"><claim-text>Verfahren nach Anspruch 1, wobei der Prozess des Bildens und Aufrechterhaltens der Grenzverbindungsinformationen dann, wenn die Grenzverbindungsinformationen über die statische manuelle Konfiguration erhalten werden, Folgendes umfasst:
<claim-text>Empfangen durch den Grenzknoten einer manuellen Eingabe durch einen Anwender;</claim-text>
<claim-text>Bilden und Aufrechterhalten entsprechender Grenzverbindungsinformationen, wenn eine Verbindung zwischen dem Grenzknoten und einem benachbarten Grenzknoten eines externen benachbarten autonomen Systems verfügbar ist; und</claim-text>
<claim-text>Löschen der entsprechenden Grenzverbindungsinformationen aus den selbst gesicherten Grenzverbindungsinformationen, wenn die Verbindung zwischen dem Grenzknoten und dem benachbarten Grenzknoten des externen benachbarten autonomen Systems nicht verfügbar ist.</claim-text></claim-text></claim><claim id="c-de-01-0004" num="0004"><claim-text>Verfahren nach Anspruch 1, wobei das TLV-Feld ein ISIS-Routerfähigkeits-TLV-Feld oder ein Zwischensystemerreichbarkeits-TLV-Feld, IS-Erreichbarkeits-TLV-Feld, oder ein Internetprotokollerreichbarkeits-TLV-Feld, IP-Erreichbarkeits-TLV-Feld, oder ein Zwischen-AS-Erreichbarkeits-TLV-Feld ist.</claim-text></claim><claim id="c-de-01-0005" num="0005"><claim-text>Verfahren nach Anspruch 1, wobei dann, wenn die Grenzverbindungsinformationen bei dem Grenzknoten hinzugefügt werden, der Prozess des Flutens der Grenzverbindungsinformationen in dem autonomen System Folgendes umfasst:
<claim-text>Bestimmen, ob die LSP-Nachricht ein TLV-Feld enthält, das verfügbar ist, um die Grenzverbindungsinformationen hinzuzufügen;</claim-text>
<claim-text>falls die LSP-Nachricht ein TLV-Feld enthält, Aufnehmen der hinzugefügten Grenzverbindungsinformationen in das Grenzverbindungsbeschreibungs-Unter-TLV-Feld in dem TLV-Feld, Auffrischen der LSP-Nachricht und Fluten der aufgefrischten LSP-Nachricht; und</claim-text>
<claim-text>falls die LSP-Nachricht kein TLV-Feld enthält, Erzeugen eines neuen TLV-Feldes, Aufnehmen der hinzugefügten Grenzverbindungsinformationen in ein Grenzverbindungsbeschreibungs-Unter-TLV-Feld in dem neuen TLV-Feld, Auffrischen der LSP-Nachricht und Fluten der aufgefrischten LSP-Nachricht.</claim-text></claim-text></claim><claim id="c-de-01-0006" num="0006"><claim-text>Verfahren nach Anspruch 1, wobei dann, wenn die Grenzverbindungsinformationen bei dem Grenzknoten gelöscht werden, der Prozess des Flutens der<!-- EPO <DP n="27"> --> Grenzverbindungsinformationen in dem autonomen System Folgendes umfasst:
<claim-text>Bestimmen, ob die LSP-Nachricht ein Grenzverbindungsbeschreibungs-Unter-TLV-Feld enthält, das die zu löschenden Grenzverbindungsinformationen enthält; und</claim-text>
<claim-text>falls die LSP-Nachricht das Grenzverbindungsbeschreibungs-Unter-TLV-Feld enthält, Löschen der entsprechenden Grenzverbindungsinformationen in dem Grenzverbindungsbeschreibungs-Unter-TLV-Feld, Aktualisieren des Grenzverbindungsbeschreibungs-Unter-TLV-Feldes, Auffrischen der LSP-Nachricht und Fluten der aufgefrischten LSP-Nachricht.</claim-text></claim-text></claim><claim id="c-de-01-0007" num="0007"><claim-text>Verfahren nach Anspruch 1, wobei das Fluten in dem gesamten autonomen System ausgeführt wird, falls das Feld zum Identifizieren der Flutungsreichweite und der Flutungsrichtung einen Wert 1 führt.</claim-text></claim><claim id="c-de-01-0008" num="0008"><claim-text>Grenzknoten zum Angeben von Grenzverbindungsinformationen eines autonomen Systems, der Folgendes umfasst:
<claim-text>ein Grenzverbindungsinformations-Sammelmodul, das konfiguriert ist, Grenzverbindungsinformationen, die durch den Grenzknoten gebildet werden, zu erhalten, wobei die Grenzverbindungsinformationen eine Kennung eines benachbarten Grenzknotens eines benachbarten autonomen Systems und eine Nummer des benachbarten autonomen Systems, AS-Nummer, enthalten;</claim-text>
<claim-text>eine Grenzverbindungsinformations-Datenbank, die konfiguriert ist, die Grenzverbindungsinformationen des autonomen Systems zu speichern, wobei die Grenzverbindungsinformationen des autonomen Systems die durch den Grenzknoten gebildeten Grenzverbindungsinformationen enthalten;</claim-text>
<claim-text>ein Nachrichtenerzeugungsmodul, das konfiguriert ist, die Grenzverbindungsinformationen, die durch den Grenzknoten gebildet werden, in eine Nachricht zu packen; und</claim-text>
<claim-text>ein Nachrichtenangabemodul, das konfiguriert ist, die in dem Nachrichtenerzeugungsmodul gebildete Nachricht in dem autonomen System zu Fluten;</claim-text>
<claim-text>wobei der Grenzknoten ein Zwischensystem-zu-Zwischensystem-Protokoll, ISIS-Protokoll (ISIS = Intermediate System to Intermediate System), unterstützt; und</claim-text>
<claim-text>wobei die Grenzverbindungsinformationen in einem Grenzverbindungsbeschreibungs-Unter-TLV-Feld enthalten sind, wobei das Grenzverbindungsbeschreibungs-Unter-TLV-Feld in einem TLV-Feld in einer Verbindungszustandsprotokoll-Dateneinheit-Nachricht, LSP-Nachricht, enthalten ist,<!-- EPO <DP n="28"> --> wobei das TLV-Feld ein Feld zum Identifizieren der Flutungsreichweite und der Flutungsrichtung enthält.</claim-text></claim-text></claim><claim id="c-de-01-0009" num="0009"><claim-text>Grenzknoten nach Anspruch 8, wobei der Grenzknoten ferner Folgendes umfasst:
<claim-text>ein Nachrichtenempfangsmodul, das konfiguriert ist, eine von anderen Grenzknoten in dem autonomen System gesendete Nachricht zu empfangen;</claim-text>
<claim-text>ein Nachrichtenverarbeitungsmodul, das konfiguriert ist, die von dem Nachrichtenempfangsmodul empfangene Nachricht zu analysieren, die Grenzverbindungsinformationen des autonomen Systems aus der Nachricht zu erhalten und die erhaltenen Grenzverbindungsinformationen in der Grenzverbindungsinformations-Datenbank zu speichern.</claim-text></claim-text></claim><claim id="c-de-01-0010" num="0010"><claim-text>Grenzknoten nach Anspruch 9, wobei das Nachrichtenangabemodul ferner konfiguriert ist, die von dem Nachrichtenempfangsmodul empfangene Nachricht weiterzuleiten und anzugeben.</claim-text></claim><claim id="c-de-01-0011" num="0011"><claim-text>Grenzknoten nach Anspruch 8, wobei das Fluten in dem gesamten autonomen System ausgeführt wird, falls das Feld zum Identifizieren der Flutungsreichweite und der Flutungsrichtung einen Wert 1 führt.</claim-text></claim></claims><claims mxw-id="PCLM56978283" lang="EN" load-source="patent-office"><!-- EPO <DP n="21"> --><claim id="c-en-01-0001" num="0001"><claim-text>A method for advertising border connection information of an autonomous system, comprising:
<claim-text>establishing and maintaining (101), by a border node of the autonomous system, border connection information of the autonomous system, the border connection information comprising an identifier of a neighbor border node of a neighbor autonomous system and a number of the neighbor autonomous system, AS Number;</claim-text>
<claim-text>flooding (102), by the border node of the autonomous system, the border connection information within the autonomous system; and</claim-text>
<claim-text>receiving (103), by a node of the autonomous system, the border connection information;</claim-text>
<claim-text>wherein the border node of the autonomous system supports Intermediate System to Intermediate System, ISIS, protocol;</claim-text>
<claim-text>and</claim-text>
<claim-text>wherein the process of flooding the border connection information within the autonomous system comprises:
<claim-text>including the border connection information in a border connection description Sub-TLV field;</claim-text>
<claim-text>including the border connection description Sub-TLV field in a TLV field, the TLV field including a field for identifying flooding range and flooding direction;</claim-text>
<claim-text>including the TLV field in a Link State Protocol Data Unit, LSP, message; and</claim-text>
<claim-text>flooding the LSP message.</claim-text></claim-text></claim-text></claim><claim id="c-en-01-0002" num="0002"><claim-text>The method of claim 1, when the border connection information is obtained via BGP, wherein the process of establishing and maintaining the border connection information comprises:
<claim-text>establishing and maintaining corresponding border connection information, when the border node establishes connection with a neighbor border node of an external neighbor autonomous system; and</claim-text>
<claim-text>deleting the corresponding border connection information from all border connection information saved by itself, when the connection established between the border node<!-- EPO <DP n="22"> --> and the neighbor border node of the external neighbor autonomous system disconnects.</claim-text></claim-text></claim><claim id="c-en-01-0003" num="0003"><claim-text>The method of claim 1, when the border connection information is obtained via the static manual configuration, wherein the process of establishing and maintaining the border connection information comprises:
<claim-text>receiving, by the border node, a manual input by a user;</claim-text>
<claim-text>establishing and maintaining corresponding border connection information, when a link between the border node and a neighbor border node of an external neighbor autonomous system is available; and</claim-text>
<claim-text>deleting the corresponding border connection information from the border connection information saved by itself, when the link between the border node and the neighbor border node of the external neighbor autonomous system is unavailable.</claim-text></claim-text></claim><claim id="c-en-01-0004" num="0004"><claim-text>The method of claim 1, wherein the TLV field is an ISIS router capability TLV field, or an Intermediate System, IS, Reachability TLV field, or an Internet Protocol, IP, Reachability TLV field, or an Inter-AS Reachability TLV field.</claim-text></claim><claim id="c-en-01-0005" num="0005"><claim-text>The method of claim 1, when border connection information is added on the border node, wherein the process of flooding the border connection information within the autonomous system comprises:
<claim-text>determining whether the LSP message comprises a TLV field available for adding the border connection information;</claim-text>
<claim-text>if the LSP message comprises a TLV field, including the added border connection information in the border connection description Sub-TLV field in the TLV field, refreshing the LSP message, and flooding the refreshed LSP message; and</claim-text>
<claim-text>if the LSP message does not comprise a TLV field, creating a new TLV field, including the added border connection information in a border connection description Sub-TLV field in the new TLV field, refreshing the LSP message, and flooding the refreshed LSP message.</claim-text><!-- EPO <DP n="23"> --></claim-text></claim><claim id="c-en-01-0006" num="0006"><claim-text>The method of claim 1, when border connection information is deleted on the border node, wherein the process of flooding the border connection information within the autonomous system comprises:
<claim-text>determining whether the LSP message comprises a border connection description Sub-TLV field that contains the border connection information to be deleted; and</claim-text>
<claim-text>if the LSP message comprises the border connection description Sub-TLV field, deleting the corresponding border connection information in the border connection description Sub-TLV field, updating the border connection description Sub-TLV field, refreshing the LSP message, and flooding the refreshed LSP message.</claim-text></claim-text></claim><claim id="c-en-01-0007" num="0007"><claim-text>The method of claim 1, wherein the flooding is performed in the whole autonomous system if the field for identifying flooding range and flooding direction carries a value 1.</claim-text></claim><claim id="c-en-01-0008" num="0008"><claim-text>A border node for advertising border connection information of an autonomous system, comprising:
<claim-text>a border connection information collecting module, configured to obtain border connection information established by the border node, the border connection information comprising an identifier of a neighbor border node of a neighbor autonomous system and a number of the neighbor autonomous system, AS Number;</claim-text>
<claim-text>a border connection information database, configured to store the border connection information of the autonomous system, the border connection information of the autonomous system comprising the border connection information established by the border node;</claim-text>
<claim-text>a message generating module, configured to package the border connection information established by the border node into a message; and</claim-text>
<claim-text>a message advertising module, configured to flood the message formed in the message generating module within the autonomous system;</claim-text>
<claim-text>wherein the border node supports Intermediate System to Intermediate System, ISIS, protocol; and</claim-text>
<claim-text>wherein the border connection information is included in a border connection description Sub-TLV field, the border connection description Sub-TLV field being<!-- EPO <DP n="24"> --> included in a TLV field in a Link State Protocol Data Unit, LSP, message, the TLV field including a field for identifying flooding range and flooding direction.</claim-text></claim-text></claim><claim id="c-en-01-0009" num="0009"><claim-text>The border node of claim 8, the border node further comprises:
<claim-text>a message receiving module, configured to receive a message transmitted by other border nodes within the autonomous system;</claim-text>
<claim-text>a message processing module, configured to parse the message received by the message receiving module, obtain the border connection information of the autonomous system from the message, and store the obtained border connection information in the border connection information database.</claim-text></claim-text></claim><claim id="c-en-01-0010" num="0010"><claim-text>The border node of claim 9, the message advertising module is further configured to forward and advertise the message received by the message receiving module.</claim-text></claim><claim id="c-en-01-0011" num="0011"><claim-text>The border node of claim 8, wherein the flooding is performed in the whole autonomous system if the field for identifying flooding range and flooding direction carries a value 1.</claim-text></claim></claims><claims mxw-id="PCLM56978284" lang="FR" load-source="patent-office"><!-- EPO <DP n="29"> --><claim id="c-fr-01-0001" num="0001"><claim-text>Procédé d'annonce d'informations de connexion de périphérie d'un système autonome, comprenant :
<claim-text>l'établissement et le maintien (101), par un noeud périphérique du système autonome, d'informations de connexion de périphérie du système autonome, les informations de connexion de périphérie comprenant un identifiant d'un noeud périphérique voisin d'un système autonome voisin et un numéro du système autonome voisin, Numéro AS ;</claim-text>
<claim-text>la diffusion par inondation (102), par le noeud périphérique du système autonome, d'informations de connexion de périphérie au sein du système autonome ; et</claim-text>
<claim-text>la réception (103), par un noeud du système autonome, des informations de connexion de périphérie ;</claim-text>
<claim-text>dans lequel le noeud périphérique du système autonome prend en charge le protocole de Système Intermédiaire à Système Intermédiaire, ISIS ; et</claim-text>
<claim-text>dans lequel le processus de diffusion par inondation d'informations de connexion de périphérie au sein du système autonome comprend :
<claim-text>l'inclusion des informations de connexion de périphérie dans un champ sous-TLV de description de connexion de périphérie ;</claim-text>
<claim-text>l'inclusion du champ sous-TLV de description de connexion de périphérie dans un champ TLV, le champ TLV contenant un champ destiné à identifier la distance de diffusion par inondation et la direction de diffusion par inondation ;</claim-text>
<claim-text>l'inclusion du champ TLV dans un message d'Unité de Données de Protocole d'État de Liaison, LSP ; et</claim-text>
<claim-text>la diffusion par inondation du message LSP.</claim-text></claim-text></claim-text></claim><claim id="c-fr-01-0002" num="0002"><claim-text>Procédé selon la revendication 1, lorsque les informations de connexion de périphérie sont obtenues par l'intermédiaire d'un protocole BGP, dans lequel le processus d'établissement et de maintien des informations de connexion de périphérie comprend :
<claim-text>l'établissement et le maintien d'informations de connexion de périphérie correspondantes lorsque le noeud périphérique établit une connexion avec un noeud périphérique voisin d'un système autonome voisin externe ; et</claim-text>
<claim-text>la suppression des informations de connexion de périphérie correspondantes de toutes les informations de connexion de périphérie sauvegardées par lui-même, lorsque la connexion établie entre le noeud périphérique et le noeud périphérique voisin du<!-- EPO <DP n="30"> --> système autonome voisin externe se déconnecte.</claim-text></claim-text></claim><claim id="c-fr-01-0003" num="0003"><claim-text>Procédé selon la revendication 1, lorsque les informations de connexion de périphérie sont obtenues par l'intermédiaire de la configuration manuelle statique, dans lequel le processus d'établissement et de maintien des informations de connexion de périphérie comprend :
<claim-text>la réception, par le noeud périphérique, d'une entrée manuelle d'un utilisateur ;</claim-text>
<claim-text>l'établissement et le maintien d'informations de connexion de périphérie correspondantes lorsqu'une liaison entre le noeud périphérique et un noeud périphérique voisin d'un système autonome périphérique externe est disponible ; et</claim-text>
<claim-text>la suppression des informations de connexion de périphérie correspondantes des informations de connexion de périphérie sauvegardées par lui-même, lorsque la liaison entre le noeud périphérique et le noeud périphérique voisin du système autonome voisin externe est indisponible.</claim-text></claim-text></claim><claim id="c-fr-01-0004" num="0004"><claim-text>Procédé selon la revendication 1, dans lequel le champ TLV est un champ TLV de capacité de routeur ISIS, ou un champ TLV d'accessibilité de Système Intermédiaire, IS, ou un champ TLV d'accessibilité d'un Protocole Internet, IP, ou un champ TLV d'accessibilité inter-AS.</claim-text></claim><claim id="c-fr-01-0005" num="0005"><claim-text>Procédé selon la revendication 1, lorsque des informations de connexion de périphérie sont ajoutées au noeud périphérique, dans lequel le processus de diffusion par inondation des informations de connexion de périphérie au sein du système autonome comprend :
<claim-text>le fait de déterminer si le message LSP comprend un champ TLV disponible pour ajouter les informations de connexion de périphérie ;</claim-text>
<claim-text>si le message LSP comprend un champ TLV, l'inclusion des informations de connexion de périphérie ajoutées au champ sous-TLV de description de connexion de périphérie dans le champ TLV, le rafraîchissement du message LSP et la diffusion par inondation du message LSP rafraîchi ; et</claim-text>
<claim-text>si le message LSP ne comprend pas de champ TLV, la création d'un nouveau champ TLV, l'inclusion des informations de connexion de périphérie ajoutées à un champ sous-TLV de description de connexion de périphérie dans le nouveau champ TLV, le rafraîchissement du message LSP et la diffusion par inondation du message LSP rafraîchi.</claim-text><!-- EPO <DP n="31"> --></claim-text></claim><claim id="c-fr-01-0006" num="0006"><claim-text>Procédé selon la revendication 1, lorsque des informations de connexion de périphérie sont supprimées sur le noeud périphérique, dans lequel le processus de diffusion par inondation des informations de connexion de périphérie au sein du système autonome comprend :
<claim-text>le fait de déterminer si le message LSP comprend un champ sous-TLV de description de connexion de périphérie qui contient les informations de connexion de périphérie à supprimer ; et</claim-text>
<claim-text>si le message LSP comprend le champ sous-TLV de description de connexion de périphérie, la suppression des informations de connexion de périphérie correspondantes dans le champ sous-TLV de description de connexion de périphérie, la mise à jour du champ sous-TLV de description de connexion de périphérie, le rafraîchissement du message LSP et la diffusion par inondation du message LSP rafraîchi.</claim-text></claim-text></claim><claim id="c-fr-01-0007" num="0007"><claim-text>Procédé selon la revendication 1, dans lequel la diffusion par inondation est effectuée dans l'ensemble du système autonome si le champ destiné à identifier la distance de diffusion par inondation et la direction de diffusion par inondation achemine une valeur égale à 1.</claim-text></claim><claim id="c-fr-01-0008" num="0008"><claim-text>Noeud périphérique destiné à annoncer des informations de connexion de périphérie d'un système autonome, comprenant :
<claim-text>un module de collecte d'informations de connexion de périphérie, configuré pour obtenir des informations de connexion de périphérie établies par le noeud périphérique, les informations de connexion de périphérie comprenant un identifiant d'un noeud périphérique voisin d'un système autonome voisin et un numéro du système autonome voisin, Numéro AS ;</claim-text>
<claim-text>une base de données d'informations de connexion de périphérie, configurée pour stocker les informations de connexion de périphérie du système autonome, les informations de connexion de périphérie du système autonome comprenant les informations de connexion de périphérie établies par le noeud périphérique ;</claim-text>
<claim-text>un module générateur de message, configuré pour empaqueter les informations de connexion de périphérie établies par le noeud périphérique dans un message ; et</claim-text>
<claim-text>un module d'annonce de message, configuré pour diffuser par inondation le message formé dans le module générateur de message au sein du système autonome ;</claim-text>
<claim-text>dans lequel le noeud périphérique prend en charge un protocole de Système Intermédiaire à Système Intermédiaire, ISIS ; et<!-- EPO <DP n="32"> --></claim-text>
<claim-text>dans lequel les informations de connexion de périphérie sont incluses dans un champ sous-TLV de description de connexion de périphérie, le champ sous-TLV de description de connexion de périphérie étant inclus dans un champ TLV d'un message d'Unité de Données de Protocole d'État de Liaison, LSP, le champ TLV comportant un champ destiné à identifier la distance de diffusion par inondation et la direction de diffusion par inondation.</claim-text></claim-text></claim><claim id="c-fr-01-0009" num="0009"><claim-text>Noeud périphérique selon la revendication 8, le noeud périphérique comprenant en outre :
<claim-text>un module de réception de message, configuré pour recevoir un message transmis par d'autres noeuds périphériques au sein du système autonome ;</claim-text>
<claim-text>un module de traitement de message, configuré pour analyser syntaxiquement le message reçu par le module de réception de message, obtenir les informations de connexion de périphérie du système autonome à partir du message, et stocker les informations de connexion de périphérie obtenues dans la base de données d'informations de connexion de périphérie.</claim-text></claim-text></claim><claim id="c-fr-01-0010" num="0010"><claim-text>Noeud périphérique selon la revendication 9, le module d'annonce de message étant en outre configuré pour réacheminer et annoncer le message reçu par le module de réception de message.</claim-text></claim><claim id="c-fr-01-0011" num="0011"><claim-text>Noeud périphérique selon la revendication 8, dans lequel la diffusion par inondation est effectuée dans l'ensemble du système autonome si le champ destiné à identifier la distance de diffusion par inondation et la direction de diffusion par inondation achemine une valeur égale à 1.</claim-text></claim></claims><drawings mxw-id="PDW16668535" load-source="patent-office"><!-- EPO <DP n="33"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="150" he="96" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="34"> --><figure id="f0002" num="2"><img id="if0002" file="imgf0002.tif" wi="165" he="188" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="35"> --><figure id="f0003" num="3"><img id="if0003" file="imgf0003.tif" wi="165" he="174" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="36"> --><figure id="f0004" num="4,5"><img id="if0004" file="imgf0004.tif" wi="165" he="216" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="37"> --><figure id="f0005" num="6"><img id="if0005" file="imgf0005.tif" wi="165" he="165" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="38"> --><figure id="f0006" num="7"><img id="if0006" file="imgf0006.tif" wi="163" he="189" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="39"> --><figure id="f0007" num="8"><img id="if0007" file="imgf0007.tif" wi="165" he="94" img-content="drawing" img-format="tif"/></figure></drawings><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
