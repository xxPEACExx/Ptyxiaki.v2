<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2295930-B1" country="EP" doc-number="2295930" kind="B1" date="20140101" family-id="43589692" file-reference-id="318269" date-produced="20180826" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146553677" ucid="EP-2295930-B1"><document-id><country>EP</country><doc-number>2295930</doc-number><kind>B1</kind><date>20140101</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-09758362-A" is-representative="YES"><document-id mxw-id="PAPP154827600" load-source="docdb" format="epo"><country>EP</country><doc-number>09758362</doc-number><kind>A</kind><date>20090603</date><lang>JA</lang></document-id><document-id mxw-id="PAPP211530169" load-source="docdb" format="original"><country>EP</country><doc-number>09758362.9</doc-number><date>20090603</date></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140454008" ucid="JP-2008147184-A" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>2008147184</doc-number><kind>A</kind><date>20080604</date></document-id></priority-claim><priority-claim mxw-id="PPC140445445" ucid="JP-2009025899-A" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>2009025899</doc-number><kind>A</kind><date>20090206</date></document-id></priority-claim><priority-claim mxw-id="PPC140454383" ucid="JP-2009025942-A" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>2009025942</doc-number><kind>A</kind><date>20090206</date></document-id></priority-claim><priority-claim mxw-id="PPC140448260" ucid="JP-2009060191-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>2009060191</doc-number><kind>W</kind><date>20090603</date></document-id></priority-claim></priority-claims><dates-of-public-availability><intention-to-grant-date><date>20130906</date></intention-to-grant-date><search-report-dispatch-date><date>20121211</date></search-report-dispatch-date></dates-of-public-availability><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1988099109" load-source="docdb">B60C  19/00        20060101AFI20130718BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1988112420" load-source="docdb">G06T   7/00        20060101ALI20130718BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1988137928" load-source="docdb">G01B  11/25        20060101ALI20130718BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1861407946" load-source="docdb" scheme="CPC">G06T   7/521       20170101 LI20170102BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1919329840" load-source="docdb" scheme="CPC">G06T2207/10028     20130101 LA20160712BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1919333435" load-source="docdb" scheme="CPC">G01B  11/25        20130101 FI20160712BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1919333847" load-source="docdb" scheme="CPC">G06T   7/0004      20130101 LI20160712BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132193515" lang="DE" load-source="patent-office">REIFENFORMUNTERSUCHUNGSVERFAHREN UND REIFENFORMUNTERSUCHUNGSEINRICHTUNG</invention-title><invention-title mxw-id="PT132193516" lang="EN" load-source="patent-office">TIRE SHAPE INSPECTION METHOD AND TIRE SHAPE INSPECTION DEVICE</invention-title><invention-title mxw-id="PT132193517" lang="FR" load-source="patent-office">PROCÉDÉ ET DISPOSITIF DE CONTRÔLE DE FORME DE PNEUS</invention-title></technical-data><related-documents><relation type="division-into"><child-doc ucid="EP-13002466.4"><document-id load-source="patent-office" format="epo"><country>EP</country><doc-number>13002466.4</doc-number><date>20130508</date></document-id></child-doc><parent-doc ucid="EP-09758362-A"><document-id load-source="patent-office" format="epo"><country>EP</country><doc-number>09758362</doc-number><kind>A</kind><date>20090603</date></document-id><parent-grant-document ucid="EP-2295930-B1"><document-id><country>EP</country><doc-number>2295930</doc-number><kind>B1</kind><date>20140101</date></document-id></parent-grant-document></parent-doc></relation></related-documents><parties><applicants><applicant mxw-id="PPAR918132722" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>KOBE STEEL LTD</last-name><address><country>JP</country></address></addressbook></applicant><applicant mxw-id="PPAR918140027" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>KABUSHIKI KAISHA KOBE SEIKO SHO</last-name></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR918153707" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>TAKAHASHI EIJI</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918143262" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>TAKAHASHI, EIJI</last-name></addressbook></inventor><inventor mxw-id="PPAR918997524" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>TAKAHASHI, EIJI</last-name><address><street>c/o Kobe Corporate Research Laboratories in Kobe Steel, Ltd. 5-5, Takatsukadai 1-chome, Nishi-ku Kobe-shi</street><city>Hyogo 651-2271</city><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918155220" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>SAKODA NAOKAZU</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918159007" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>SAKODA, NAOKAZU</last-name></addressbook></inventor><inventor mxw-id="PPAR918997525" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>SAKODA, NAOKAZU</last-name><address><street>c/o Kobe Corporate Research Laboratories in Kobe Steel, Ltd. 5-5, Takatsukadai 1-chome, Nishi-ku Kobe-shi</street><city>Hyogo 651-2271</city><country>JP</country></address></addressbook></inventor></inventors><assignees><assignee mxw-id="PPAR918997526" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Kabushiki Kaisha Kobe Seiko Sho</last-name><iid>101008583</iid><address><street>10-26 Wakinohama-cho 2-chome</street><city>Chuo-ku Kobe-shi Hyogo 651-8585</city><country>JP</country></address></addressbook></assignee></assignees><agents><agent mxw-id="PPAR918997527" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Müller-Boré &amp; Partner Patentanwälte</last-name><iid>100060440</iid><address><street>Grafinger Strasse 2</street><city>81671 München</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="JP-2009060191-W"><document-id><country>JP</country><doc-number>2009060191</doc-number><kind>W</kind><date>20090603</date><lang>JA</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2009148095-A1"><document-id><country>WO</country><doc-number>2009148095</doc-number><kind>A1</kind><date>20091210</date><lang>JA</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS548982173" load-source="docdb">AT</country><country mxw-id="DS548884828" load-source="docdb">BE</country><country mxw-id="DS548865617" load-source="docdb">BG</country><country mxw-id="DS548980588" load-source="docdb">CH</country><country mxw-id="DS548988900" load-source="docdb">CY</country><country mxw-id="DS548982370" load-source="docdb">CZ</country><country mxw-id="DS548884829" load-source="docdb">DE</country><country mxw-id="DS548988901" load-source="docdb">DK</country><country mxw-id="DS548988902" load-source="docdb">EE</country><country mxw-id="DS548978293" load-source="docdb">ES</country><country mxw-id="DS548865618" load-source="docdb">FI</country><country mxw-id="DS548865619" load-source="docdb">FR</country><country mxw-id="DS548884830" load-source="docdb">GB</country><country mxw-id="DS548988903" load-source="docdb">GR</country><country mxw-id="DS548884831" load-source="docdb">HR</country><country mxw-id="DS548982371" load-source="docdb">HU</country><country mxw-id="DS548980589" load-source="docdb">IE</country><country mxw-id="DS548988904" load-source="docdb">IS</country><country mxw-id="DS548865620" load-source="docdb">IT</country><country mxw-id="DS548988905" load-source="docdb">LI</country><country mxw-id="DS548979537" load-source="docdb">LT</country><country mxw-id="DS548829781" load-source="docdb">LU</country><country mxw-id="DS548979538" load-source="docdb">LV</country><country mxw-id="DS548979539" load-source="docdb">MC</country><country mxw-id="DS548829782" load-source="docdb">MK</country><country mxw-id="DS548829783" load-source="docdb">MT</country><country mxw-id="DS548982372" load-source="docdb">NL</country><country mxw-id="DS548978294" load-source="docdb">NO</country><country mxw-id="DS548980590" load-source="docdb">PL</country><country mxw-id="DS548979540" load-source="docdb">PT</country><country mxw-id="DS548982373" load-source="docdb">RO</country><country mxw-id="DS548980591" load-source="docdb">SE</country><country mxw-id="DS548865621" load-source="docdb">SI</country><country mxw-id="DS548978295" load-source="docdb">SK</country><country mxw-id="DS548829784" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data></bibliographic-data><description mxw-id="PDES63957341" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001">Technical Field</heading><p id="p0001" num="0001">The present invention relates to a tire shape inspection method and a tire shape inspection device for inspecting shape defects in a sidewall surface of a tire in which embossed marks are formed.</p><heading id="h0002">Background Art</heading><p id="p0002" num="0002">A tire has a structure that various materials, such as rubber, chemical fibers, and steel cords, are layered. If there is a non-uniform portion in the layered structure, a projection (convex portion), called a "bulge", or a recess (concave portion), called a "dent" or a "depression", generates in a region where resistance against pressure is relatively weak, when the tire is filled with air. The tire having such a shape defect, i.e., the bulge or the dent, needs to be excluded from shipped products through inspection in consideration of problems regarding safety and an external appearance.</p><p id="p0003" num="0003">Usually, in the tire shape inspection, the tire is rotated by a rotating machine in a state that a<!-- EPO <DP n="2"> --> predetermined displacement sensor is positioned to face a tire surface (e.g., a sidewall surface or a tread surface).</p><p id="p0004" num="0004">For example, Patent Literature (PTL) 1 discloses a technique of irradiating a sidewall surface of a rotating tire with a slit light (line light), picking up an image of the slit light, and performing shape detection using an optical cutting (light-section) method based on the picked-up image, to thereby detect the tire surface height. With the disclosed technique, distribution information of surface height measurement values is obtained for many positions over a circumferential range of 360° of the tire surface. The surface height measurement value for each of the positions over the circumferential range of 360° of the sidewall surface or the tread surface is plotted in a two-dimensional coordinate system in which a first coordinate axis (e.g., an X-axis) represents the radial direction of the tire and a second coordinate axis (e.g., a Y-axis) represents the circumferential direction of the tire. The information thus obtained is called "surface height distribution information" hereinafter. Assuming that the surface height measurement value corresponds to a brightness value of each pixel in image data, therefore, the surface height distribution information can be handled in a similar manner to monochrome image data on a computer (image processing apparatus).<!-- EPO <DP n="3"> --></p><p id="p0005" num="0005">In the tire shape inspection, a shape defect inspection process for the sidewall surface is executed based on the surface height distribution information.</p><p id="p0006" num="0006">Embossed marks indicating the product type/model, the size, the maker's logo, etc. (called "indication marks" hereinafter) are formed on the sidewall surface of the tire. In the shape defect inspection process for the sidewall surface, therefore, embossed portions of the indication marks require to be made not erroneously detected as shape defects.</p><p id="p0007" num="0007">In the known shape defect inspection process, it is often performed to determine whether height change in the circumferential direction of the tire is within an allowable range, based on data obtained through low-pass filtering of the measured values of one line in the circumferential direction of the tire, which are included in the surface height distribution information.</p><p id="p0008" num="0008">For example, PTL 2 describes an example in which the above-mentioned low-pass filtering is realized by excluding high-frequency components from data obtained with a fast Fourier transform process that is executed on the measured values of one line in the circumferential direction of the tire, and by executing an inverse Fourier transform process on the remaining data (see paragraph [0003] in PTL 2). Further, PTL 3 describes a technique for realizing the<!-- EPO <DP n="4"> --> low-pass filtering by, instead of the fast Fourier transform process, a method of calculating contact points between the measured values of one line in the circumferential direction of the tire and a parabolic curve, and executing straight-line (linear) interpolation between two calculated contact points.</p><p id="p0009" num="0009">Moreover, PTL 2 describes a technique of detecting, from among data obtained with smoothing differentiation of the measured values of one line in the circumferential direction of the tire, a range from a position where change of the measured value rises steeply to a position where change of the measured value falls steeply, as a range where the indication marks exist, and excluding the detected range from an inspection target.</p><p id="p0010" num="0010">The above-described known techniques are premised on the fact that, in the circumferential direction of the tire, change of the surface height in a portion including the shape defect to be detected is comparatively gentle, while change of the surface height in a portion including the indication marks is steep.<!-- EPO <DP n="5"> --></p><p id="p0011" num="0011"><patcit id="pcit0001" dnum="US2004071334A1"><text>US 2004/071334 A1</text></patcit> discloses a device for quality testing of a body comprising a surface comprising a structuring bounded by edges and a substantially edge-free unevenness, wherein the structuring illustrates a quality impairment and wherein the unevenness illustrates a potential quality impairment. The device includes a means for generating a height representation, wherein the height representation of the surface includes the structuring and the unevenness. A means for calculating a variation representation calculates the variation associated to the point for every point of the height representation, so that at a boundary of the structuring a high variation is obtained, while at a boundary of the unevenness a low variation is obtained. A means for detecting regions which are potentially quality affecting detects regions as potentially quality-affecting which comprise a variation which is smaller than a predetermined variation threshold value regarding its magnitude. These potentially quality-affecting regions may then be further examined for different criteria to exclude the uncritical regions and to find out only the actually quality-affecting regions from the number of potentially quality-affecting regions. Thus, a safe quality control of vehicle tires on which a writing is attached as a structuring and which comprises bulges or constrictions as substantially edge-free unevennesses may be obtained.<!-- EPO <DP n="6"> --></p><heading id="h0003">Citation List</heading><heading id="h0004">Patent Literature</heading><p id="p0012" num="0012"><ul><li>PTL 1: Japanese Unexamined Patent Application Publication No. <patcit id="pcit0002" dnum="JP11138654A"><text>11-138654</text></patcit></li><li>PTL 2: Japanese Unexamined Patent Application<!-- EPO <DP n="7"> --> Publication No. <patcit id="pcit0003" dnum="JP2004156919A"><text>2004-156919</text></patcit></li><li>PTL 3: Japanese Unexamined Patent Application Publication No. <patcit id="pcit0004" dnum="JP5215530A"><text>5-215530</text></patcit></li></ul></p><heading id="h0005">Summary of Invention</heading><heading id="h0006">Technical Problem</heading><p id="p0013" num="0013"><figref idrefs="f0007">Fig. 8</figref> illustrates one example of the indication mark M on the sidewall surface of a tire in a coordinate system in which an X-axis and a Y-axis represent the radial direction and the circumferential direction of the tire, respectively.</p><p id="p0014" num="0014">In many cases, as illustrated in <figref idrefs="f0007">Fig. 8</figref>, the indication mark M rising from the tire surface has edges each extending in the circumferential direction of the tire (Y-direction) and edges each extending in a direction that forms an acute angle with respect to the circumferential direction of the tire. Therefore, the surface height measurement values of one line in the circumferential direction of the tire may include the measured values taken near the edges of the indication mark as represented by the measured values taken on a wavy line La in <figref idrefs="f0007">Fig. 8</figref>. In the surface height measurement values taken on the wavy line La in <figref idrefs="f0007">Fig. 8</figref>, change of the measured value caused by the indication mark M is comparatively gentle.</p><p id="p0015" num="0015">Accordingly, it is difficult to clearly distinguish the change of the measured value caused by the shape defect and the change of the measured value caused by the indication<!-- EPO <DP n="8"> --> mark M from each other in the known shape defect inspection process in which the low-pass filtering or the smoothing differentiation is executed on the surface height measurement values of one line in the circumferential direction of the tire. As a result, a portion including the indication mark may be erroneously detected as a shape defect portion, or a shape defect portion may be erroneously recognized as a portion including the indication mark, thus leading to missing in detection of the shape defect.</p><p id="p0016" num="0016">In another case, as represented by the measured values taken on a wavy line Lb in <figref idrefs="f0007">Fig. 8</figref>, the surface height measurement values of one line in the circumferential direction of the tire may include measured values corresponding to plural raised portions Mt in one design of indication mark M, which is isolated from the others, and a not-raised portion Mb therebetween,. The not-raised portion Mb can be regarded as a recessed portion within an indication range of the indication mark M.</p><p id="p0017" num="0017">The not-raised portion Mb positioned inside contours of the one design of indication mark M is preferably excluded from the target of the shape defect inspection because its height change tends to increase regardless of the shape defect (such as the bulge and the dent).</p><p id="p0018" num="0018">With the known shape defect inspection process, however, the measured values in the not-raised portion positioned<!-- EPO <DP n="9"> --> inside the contours of the one design of indication mark are included in the target of the shape defect inspection, thus causing a problem that the not-raised portion may be erroneously detected as the shape defect portion.</p><p id="p0019" num="0019">Meanwhile, it is conceivable to, by using a processor, automatically detect, based on the surface height distribution information, the position of the indication mark M in the coordinate system defined for the surface height distribution information, and to automatically preset a region surrounding the indication mark M as a region that is to be excluded from the target of the shape defect inspection.</p><p id="p0020" num="0020">However, the process of automatically detecting the position of the indication mark M based on the surface height distribution information needs a high computation load of the processor. For that reason, automatically setting the region surrounding the indication mark M by the processor for each tire to be inspected raises a problem of impeding significant cutting of time, which is demanded in the tire inspection step. Another problem is that it is very difficult to, for all various types of tires having various surface shapes, automatically reliably set the region surrounding the indication mark M without exception.</p><p id="p0021" num="0021">It is also conceivable to previously register, as the region to be excluded from the target of the shape defect<!-- EPO <DP n="10"> --> inspection, a particular region corresponding to the position of the indication mark M in the coordinate system for the surface height distribution information.</p><p id="p0022" num="0022">However, work of setting many regions one by one, which are to be excluded from the shape defect inspection, while confirming the position of each region corresponding to each of the indication marks M present in the sidewall surface of the tire, needs a lot of time and labor.</p><p id="p0023" num="0023">The present invention has been accomplished in view of the above-described state of art, and its object is to provide a tire shape inspection method and device which, when inspecting shape defects in a sidewall surface of a tire including embossed marks (indication marks) formed therein, can correctly measure the shape defects by reliably excluding, from surface height measurement values, those measured values taken in a range where the mark is formed, without misidentification.</p><heading id="h0007">Solution to Problem</heading><p id="p0024" num="0024">To achieve the above object, according to the present invention, there is provided a tire shape inspection method for executing a process of inspecting a shape defect in a sidewall surface of a tire in which embossed marks are formed, the tire shape inspection method including steps (1-1) to (1-6) as follows:
<ul><li>(1-1) A mask-range automatically setting step of<!-- EPO <DP n="11"> --> automatically detecting a position of the embossed mark based on sample surface shape information that is given as the surface height distribution information obtained from a sample of the tire.for each type of the tire to be inspected, and automatically setting coordinate information of a mask range surrounding a range where the embossed mark exists.</li><li>(1-2) An image outputting step of displaying a surface shape image, which is based on the sample surface shape information, and a mask range image, which is based on the coordinate information of the mask range, on a display unit in a superimposed relation.</li><li>(1-3) A mask range changing step of changing, in parallel to the image outputting step, the coordinate information of the mask range in accordance with a predetermined operation input entered through an operating unit.</li><li>(1-4) An information registration step of storing, in a storage unit, both the coordinate information of the mask range after being changed in the mask range changing step, and registered surface shape information that is part or the whole of the sample surface shape information.</li><li>(1-5) A coordinate-system deviation detection step of checking inspection-use surface shape information, which is given as the surface height distribution information obtained for each tire to be inspected, with the registered surface shape information, and detecting a deviation of a<!-- EPO <DP n="12"> --> coordinate system between the inspection-use surface shape information and the coordinate information of the mask range.</li><li>(1-6) A mask-range inspection exclusion step of, after correcting the deviation of the coordinate system, excluding those surface height measurement values, which are included in the inspection-use surface shape information and which correspond to the coordinate information of the mask range, from a target of the shape defect inspection process.</li></ul></p><p id="p0025" num="0025">Here, the surface height distribution information is information prepared by plotting the surface height measurement values at various positions over an entire circumferential range of the sidewall surface in a two-dimensional coordinate system, which has a first coordinate axis representing a radial direction of the tire and a second coordinate axis representing a circumferential direction of the tire.</p><p id="p0026" num="0026">The above-mentioned six steps are usually executed by a predetermined processor. Those six steps may be executed by separate processors, respectively. As an alternative, plural ones among the six steps may be executed by one processor. Of course, there is no particular limitation on the number of processors used and on how to share the six steps by the processors used when the tire shape inspection method according to the present invention is carried out.</p><p id="p0027" num="0027">In the tire shape inspection method according to the<!-- EPO <DP n="13"> --> present invention, the above-mentioned step (1-1) includes the processing to automatically detect the positions of the embossed marks, and hence requires a comparatively high load of computation by the processor. According to the present invention, the above-mentioned steps (1-1) to (1-4) including the processing with a high load of computation need to be executed for one sample tire for each type of tire.</p><p id="p0028" num="0028">On the other hand, the processing of the above-mentioned steps (1-5) and (1-6) executed for each tire to be inspected (i.e., an inspection target) requires a comparatively low load of computation by the processor and can be executed at a high speed even with a widely used processor. Therefore, the tire shape inspection method according to the present invention does not impede cutting of time of the inspection step for each tire to be inspected.</p><p id="p0029" num="0029">It is very difficult to automatically reliably set the mask range surrounding the embossed mark without exception for all types of tires having various surface shapes by executing the above-described mask-range automatically setting step. By executing the mask range changing step, however, the automatically-set mask range can be corrected with a manual operation on the surface shape image of the sidewall surface while visually confirming the mask range. Therefore, the correct mask range can be reliably set for<!-- EPO <DP n="14"> --> many types of tires having various surface shapes. In addition, the manual operation in the mask range changing process needs to be performed only on a deficient part of the automatically set mask range. Therefore, the manual operation in the mask range changing process is much simpler than the work of manually setting the mask ranges one by one for all of many embossed marks, which exist in the sidewall surface.</p><p id="p0030" num="0030">The surface height measurement values in the surface height distribution information are obtained by scanning the sidewall surface of the tire while the tire set to a predetermined rotary shaft is rotated. At that time, a scan starting position on the sidewall is generally not specified to a particular position. Further, a tire shape inspection apparatus usually does not have the function of detecting the orientation of the tire set to the rotary shaft, and recording the detection result. Accordingly, in the surface height distribution information obtained with the tire shape inspection apparatus, the correspondence relationship between a coordinate on a coordinate axis representing the circumferential direction of the tire and an actual position in the circumferential direction of the tire is not unified, namely different for each tire to be inspected. Hence, a deviation of the coordinate system has to be detected and corrected for the surface height distribution information<!-- EPO <DP n="15"> --> obtained for each tire to be inspected with respect to the coordinate information of the mask range, which has been obtained with the mask range changing step.</p><p id="p0031" num="0031">With the tire shape inspection method according to the present invention, since the deviation of the coordinate system is automatically detected in the coordinate-system deviation detection step and the deviation of the coordinate system is corrected based on the detection result, the range to be excluded from the target of the shape defect detection process can be set correctly.</p><p id="p0032" num="0032">Preferably, the tire shape inspection method according to the present invention satisfies requirements of the following (1-7) and (1-8):
<ul><li>(1-7) The registered surface shape information is in form of the surface height measurement values, which are included in the sample surface shape information and which range entirely in a direction of the second coordinate axis at a particular coordinate on the first coordinate axis.</li><li>(1-8) The coordinate-system deviation detection step includes a step of detecting a deviation of the coordinate system in the direction of the second coordinate axis by checking the surface height measurement values, which are included in the inspection-use surface shape information and which range entirely in the direction of the second coordinate axis at the particular coordinate on the first<!-- EPO <DP n="16"> --> coordinate axis, with the registered surface shape information while shifting a position in the direction of the second coordinate axis.</li></ul></p><p id="p0033" num="0033">In many cases, the problematic deviation of the coordinate system is usually generated only in the direction of the coordinate axis representing the circumferential direction of the tire. Hence, the deviation of the coordinate system can be simply detected with the above-mentioned step (1-8).</p><p id="p0034" num="0034">Preferably, the tire shape inspection method according to the present invention satisfies requirements of the following (1-9) to (1-11):
<ul><li>(1-9) A two-dimensional edge detection step of detecting edges of the embossed marks with a two-dimensional edge detection process executed on the sample surface shape information, and storing detected two-dimensional edge distribution information in a storage unit.</li><li>(1-10) A labeling step of executing labeling on the two-dimensional edge distribution information, and storing label distribution information obtained with the labeling in the storage unit.</li><li>(1-11) A mask range setting step of setting coordinates of the mask range, which surrounds a range where the embossed mark exists; based on filet coordinates for each label value in the label distribution information, and storing the set<!-- EPO <DP n="17"> --> coordinates in the storage unit.</li></ul></p><p id="p0035" num="0035">In the two-dimensional edge detection step, the edges of the embossed marks are detected, for example, by successively executing two-dimensional smoothing differentiation and binarization on the surface height distribution information. Then, binary distribution information, which is resulted from the two-dimensional smoothing differentiation and the binarization, or corrected binary distribution information, which is obtained after executing a predetermined correction process on the binary distribution information, is detected as the two-dimensional edge distribution information. One example of the two-dimensional smoothing differentiation is two-dimensional Sobel filtering.</p><p id="p0036" num="0036">The two-dimensional edge detection step is a step of detecting the edges of the indication marks (embossed marks) by executing the edge detection process on the surface height distribution information in the form of two-dimensional information while it remains as two-dimensional information. As a result, even when the edges (contours) of the indication mark are formed to extend in any direction in the two-dimensional coordinates, the edges can be detected reliably. Be it noted that various types of two-dimensional differentiation can be optionally used in the two-dimensional edge detection process.<!-- EPO <DP n="18"> --></p><p id="p0037" num="0037">With the labeling, the same label value is set for each design of indication mark isolated from the others. Further, for each design of indication mark, coordinates representing a rectangular range surrounding the relevant indication mark with a minimum area (i.e., the filet coordinates for each label value) are detected in the mask range setting step. The labeling is a process of setting the same label value for each of connected pixels with respect to two-dimensional edge distribution information (binary distribution information) that can be regarded as binary image information.</p><p id="p0038" num="0038">With the mask range setting step, the mask range including a range where the indication mask exists, i.e., a range including those surface height measurement values to be excluded from the target of the shape defect inspection, is set based on the filet coordinates for each label value. As a result, the measured value of a not-raised portion located within the contours of one design of indication mark can be excluded from the target of the shape defect inspection, and the not-raised portion can be avoided from being erroneously recognized as a shape defect portion.</p><p id="p0039" num="0039">Preferably, the image outputting step includes a step of displaying a cursor image on the display unit.</p><p id="p0040" num="0040">Further, the mask range changing step preferably includes a step of moving a displayed position of the cursor<!-- EPO <DP n="19"> --> image in accordance with the operation input, and changing the coordinate information of the mask range with respect to a coordinate corresponding to the displayed position of the cursor image. As a result, the coordinate information of the mask range can be changed with a simple operation made on the operating unit such as a mouse.</p><p id="p0041" num="0041">Preferably, the mask-range inspection exclusion step is a step of replacing those surface height measurement values, which are included in the inspection-use surface shape information and which fall within a range corresponding to the coordinate information of the mask range, with values interpolated based on those surface height measurement values falling outside the aforesaid range. The interpolated values are gently-changing values, e.g., values interpolated by using a straight line or a curve of secondary degree. As a result, the shape defect inspection process can be executed in the same algorithm regardless of the presence or the absence of the mask range.</p><p id="p0042" num="0042">As a practical example of the mask range interpolation step, the processor can calculate, per line in the direction of the second coordinate axis, interpolated values for those surface height measurement values falling within the mask range with straight-line interpolation based on those surface height measurement values, which are included in the surface height distribution information and which fall<!-- EPO <DP n="20"> --> outside the mask range.</p><p id="p0043" num="0043">Preferably, the predetermined correction process executed on the binary distribution information includes dilation that is performed in the field of image processing.</p><p id="p0044" num="0044">As a result of the dilation, even when the contour of the indication mark includes a portion where rising (change) of the surface height is comparatively gentle, such a portion is recognized as a part of the contour of the indication mark and the label value is assigned reliably.</p><p id="p0045" num="0045">The present invention may be modified such that, in the mask range setting step, each rectangular range specified by the filet coordinates for each label value is set as the mask range.<br/>
However, it is preferable to more finely set the mask range for the reason that the rectangular range specified by the filet coordinates may include the range, which is to be handled as the mask range.</p><p id="p0046" num="0046">In the present invention, therefore, the labeling step preferably satisfies a requirement of the following (1-12), and the mask range setting step preferably includes steps of the following (1-13) to (1-14):
<ul><li>(1-12) The labeling step is a step of executing the labeling on the two-dimensional edge distribution information (binary distribution information) on an assumption that coordinates of opposite ends of the entire<!-- EPO <DP n="21"> --> circumferential range are adjacent to each other, and storing the label distribution information obtained as a labeling result in the storage unit.</li><li>(1-13) A label presence pattern determination step of determining for each label value in the label distribution information, based on the filet coordinates of the label value, that a pattern of a presence range of the label value in the direction of the second coordinate axis is which one of preset three types of presence patterns, and storing a determination result in the storage unit.</li><li>(1-14) A per-line mask range setting step of setting, per line in the direction of the second coordinate axis, the coordinates of the mask range based on the determination result of the presence pattern and a position thereof for each label value existing on the relevant one line, and storing the set coordinates in the storage unit.</li></ul></p><p id="p0047" num="0047">The preset three types of presence patterns are a first presence pattern in which the label values continuously exist thoroughly over the entire circumferential range, a second presence pattern in which the label values separately exist in a region containing one end of the entire circumferential range and a region containing the other end thereof, and a third presence pattern in which the label values are in other states.</p><p id="p0048" num="0048">More specifically, in the per-line mask range setting<!-- EPO <DP n="22"> --> step, the processor may execute, per line in the direction of the second coordinate axis, processes of the following (1-15) to (1-17) depending on the determination result of the presence pattern:
<ul><li>(1-15) A process of, depending on the number of the label values, setting only positions where the label values exist to the mask range or setting one entire line in the direction of the second coordinate axis to the mask range is executed for the label values for which the determination result of the presence pattern is the first presence pattern.</li><li>(1-16) A process of setting, to the mask range, a range from each of opposite end positions of the entire circumferential range to a position of the label value farthest away from the corresponding one of the opposite end positions of the entire circumferential range in each of two halved ranges of the entire circumferential range is executed for the label values for which the determination result of the presence pattern is the second presence pattern.</li><li>(1-17) A process of setting, to the mask range, a range covering all the positions where the label values exist is executed for the label values for which the determination result of the presence pattern is the first presence pattern.</li></ul></p><p id="p0049" num="0049">With the processing described above, as described later, a necessary minimum range corresponding to the range, which<!-- EPO <DP n="23"> --> is positioned inside substantially the contours of the indication marks, is set as the mask range.</p><p id="p0050" num="0050">In general, the sidewall surface of the tire is basically curved in the direction of the first coordinate axis (i.e., the radial direction) regardless of the presence or the absence of the indication mark. Thus, when the sidewall surface is steeply curved, a curved portion of the sidewall surface may be erroneously detected as the edge of the indication mark with the two-dimensional Sobel filtering in the filtering step.</p><p id="p0051" num="0051">For that reason, the processor preferably executes processes of the following (1-18) and (1-19):
<ul><li>(1-18) A measured-value normalization step is executed in which, per line in the direction of the second coordinate axis, the surface height measurement values in the surface height distribution information are normalized based on an average value of the surface height measurement values of the relevant one line.</li><li>(1-19) In the two-dimensional edge detection step, the two-dimensional edge detection process is executed on the surface height distribution information including the surface height measurement values that have been normalized in the measured-value normalization step.</li></ul></p><p id="p0052" num="0052">As a result, the curved portion having the original shape of the sidewall surface can be avoided from being<!-- EPO <DP n="24"> --> erroneously detected as the edge of the indication mark.</p><p id="p0053" num="0053">The present invention also resides in a tire shape inspection apparatus for deriving the surface height distribution information regarding the sidewall surface of the tire, which is used in the shape defect inspection, with the tire shape inspection method according to the invention.</p><p id="p0054" num="0054">More specifically, the tire shape inspection apparatus according to the present invention is a tire shape inspection apparatus for irradiating a sidewall surface of a relatively rotating tire with line light, the sidewall surface including embossed marks formed therein, picking up an image of the line light, and deriving, based on the picked-up image, the surface height distribution information that is used in the shape defection inspection of the tire, the apparatus including components of the following (2-1) to (2-9):
<ul><li>(2-1) A line light irradiation unit for emitting plural beams of line light in succession, in order to form one optical cutting line on the sidewall surface, from directions differing from a direction of detection height for the optical cutting line.</li><li>(2-2) An image pickup unit for picking up images of the plural beams of line light, emitted for irradiation of the sidewall surface, in a direction in which a principal ray in<!-- EPO <DP n="25"> --> each of the plural beams of line light is regularly reflected by the sidewall surface.</li><li>(2-3) An optical-cutting-method shape detection unit for deriving the surface height distribution information over an entire circumferential range of the sidewall surface by detecting the optical cutting line in the image picked up by the image pickup unit.</li><li>(2-4) A mask-range automatically setting unit for automatically detecting a position of the embossed mark based on sample surface shape information that is given as the surface height distribution information obtained from a sample of the tire for each type of the tire to be inspected, and automatically setting coordinate information of a mask range surrounding a range where the embossed mark exists.</li><li>(2-5) An image outputting unit for displaying a surface shape image, which is based on the sample surface shape information, and a mask range image, which is based on the coordinate information of the mask range, on a display unit in a superimposed relation.</li><li>(2-6) A mask range changing unit for changing, in parallel to processing executed by the image outputting unit, the coordinate information of the mask range in accordance with a predetermined operation input entered through an operating unit.</li><li>(2-7) An information registration unit for storing, in a<!-- EPO <DP n="26"> --> storage unit, both the coordinate information of the mask range after being changed by the mask range changing unit, and registered surface shape information that is part or the whole of the sample surface shape information.</li><li>(2-8) A coordinate-system deviation detection unit for checking inspection-use surface shape information, which is given as the surface height distribution information obtained for each tire to be inspected, with the registered surface shape information, and detecting a deviation of a coordinate system between the inspection-use surface shape information and the coordinate information of the mask range.</li><li>(2-9) A mask-range inspection exclusion unit for, after correcting the deviation of the coordinate system, excluding those surface height measurement values, which are included in the inspection-use surface shape information and which correspond to the coordinate information of the mask range, from a target of a shape defect inspection process.</li></ul></p><p id="p0055" num="0055">The expression "relatively rotating tire" means the case where the tire is itself rotated with its rotation axis being a center, or the case where the line light irradiation unit and the image pickup unit are rotated about the rotation axis of the tire while the tire is itself kept fixed.</p><p id="p0056" num="0056">The tire shape inspection apparatus according to the present invention can provide similar operating advantages<!-- EPO <DP n="27"> --> to those of the tire shape inspection method according to the present invention.</p><p id="p0057" num="0057">To achieve the above object, according to a comparative example, there is provided a tire shape inspection method for executing a process of inspecting a shape defect in a sidewall surface of a tire in which embossed marks are formed, the shape defect inspection process being executed based on surface height distribution information that is prepared by plotting surface height measurement values at various positions over an entire circumferential range (i.e., a range of 360° in the circumferential direction) of the sidewall surface in a two-dimensional coordinate system, which has a first coordinate axis representing a radial direction of the tire and a second coordinate axis representing a circumferential direction of the tire, the tire shape inspection method including steps of the following (3-1) to (3-4):
<ul><li>(3-1) A two-dimensional edge detection step of detecting edges of the embossed marks with a two-dimensional edge detection process executed on the surface height distribution information, and storing detected two-dimensional edge distribution information in a storage unit.</li><li>(3-2) A labeling step of executing labeling on the two-dimensional edge distribution information, and storing label distribution information obtained with the labeling in the<!-- EPO <DP n="28"> --> storage unit.</li><li>(3-3) A mask range setting step of setting coordinates of the mask range, which surrounds a range where the embossed mark exists, based on filet coordinates for each label value in the label distribution information, and storing the set coordinates in the storage unit.</li><li>(3-4) A mask-range interpolation step of replacing those surface height measurement values, which are included in the surface height distribution information used in the shape defect inspection process and which fall within the mask range, with values interpolated based on those surface height measurement values falling outside the aforesaid range.</li></ul></p><p id="p0058" num="0058">The surface height distribution information is information prepared by plotting the surface height measurement values at various positions over an entire circumferential range of the sidewall surface in a two-dimensional coordinate system, which has the first coordinate axis representing the radial direction of the tire and the second coordinate axis representing the circumferential direction of the tire.</p><p id="p0059" num="0059">In the two-dimensional edge detection step, the edges of the embossed marks are detected, for example, by successively executing two-dimensional smoothing differentiation and binarization on the surface height<!-- EPO <DP n="29"> --> distribution information. Then, binary distribution information, which is resulted from the two-dimensional smoothing differentiation and the binarization, or corrected binary distribution information, which is obtained after executing a predetermined correction process on the binary distribution information, is detected as the two-dimensional edge distribution information. One example of the two-dimensional smoothing differentiation is two-dimensional Sobel filtering.</p><p id="p0060" num="0060">As a practical example of the mask range interpolation step, per line in the direction of the second coordinate axis, interpolated values for those surface height measurement values falling within the mask range may be calculated with straight-line interpolation based on those surface height measurement values, which are included in the surface height distribution information and which fall outside the mask range.</p><p id="p0061" num="0061">The plurality of steps carried out in the tire shape inspection method according to the present invention is usually executed by a predetermined processor, such as a computer. The plurality of steps may be executed by separate processors, respectively. As an alternative, the plurality of steps may be executed by one processor. Of course, there is no particular limitation on the number of processors used and on how to share the plurality of steps<!-- EPO <DP n="30"> --> by the processors used when the tire shape inspection method according to the present invention is carried out.</p><p id="p0062" num="0062">According to the present invention, in the two-dimensional edge detection step, the edges of the indication marks (embossed marks) are detected by executing the edge detection process on the surface height distribution information in the form of two-dimensional information while it remains as two-dimensional information. As a result, even when the edges (contours) of the indication mark are formed to extend in any direction in the two-dimensional coordinates, the edges can be detected reliably. Be it noted that various types of two-dimensional differentiation can be optionally used in the two-dimensional edge detection process.</p><p id="p0063" num="0063">With the labeling, the same label value is set for each design of indication mark isolated from the others. Further, for each design of indication mark, coordinates representing a rectangular range surrounding the relevant indication mark with a minimum area (i.e., the filet coordinates for each label value) are detected in the mask range setting step. The labeling is a process of setting the same label value for each of connected pixels with respect to two-dimensional edge distribution information (binary distribution information) that can be regarded as binary image information.<!-- EPO <DP n="31"> --></p><p id="p0064" num="0064">With the mask range setting step, the mask range including a range where the indication mask exists, i.e., a range including those surface height measurement values to be excluded from the target of the shape defect inspection, is set based on the filet coordinates for each label value. As a result, the measured value of a not-raised portion located within the contours of one design of indication mark can be excluded from the target of the shape defect inspection, and the not-raised portion can be avoided from being erroneously recognized as a shape defect portion.</p><p id="p0065" num="0065">Further, with the mask range interpolation step, those measured values, which are included in the surface height distribution information and which fall within the mask range, are replaced with the values interpolated based on those measured values falling outside the mask range. The interpolated values are gently-changing values, e.g., values interpolated by using a straight line or a curve of secondary degree. As a result, the shape defect inspection process can be executed in the same algorithm regardless of the presence or the absence of the mask range.</p><p id="p0066" num="0066">Preferably, the predetermined correction process executed on the binary distribution information includes dilation that is performed in the field of image processing.</p><p id="p0067" num="0067">As a result of the dilation, even when the contour of the indication mark includes a portion where rising (change)<!-- EPO <DP n="32"> --> of the surface height is comparatively gentle, such a portion is recognized as a part of the contour of the indication mark and the label value is assigned reliably.</p><p id="p0068" num="0068">The present invention may be modified such that, in the mask range setting step, each rectangular range specified by the filet coordinates for each label value is set as the mask range.</p><p id="p0069" num="0069">However, it is preferable to more finely set the mask range for the reason that the rectangular range specified by the filet coordinates may include the range, which is to be handled as the mask range.</p><p id="p0070" num="0070">In the present invention, therefore, the labeling step may satisfy a requirement of the following (3-5), and the mask range setting step may include steps of the following (3-6) and (3-7):
<ul><li>(3-5) The labeling step is a step of executing the labeling on the two-dimensional edge distribution information (binary distribution information) on an assumption that coordinates of opposite ends of the entire circumferential range are adjacent to each other, and storing the label distribution information obtained with the labeling in the storage unit.</li><li>(3-6) A label presence pattern determination step of determining for each label value in the label distribution information, based on the filet coordinates of the label value, that a pattern of a presence range of the label value<!-- EPO <DP n="33"> --> in the direction of the second coordinate axis is which one of preset three types of presence patterns, and storing a determination result in the storage unit.</li><li>(3-7) A per-line mask range setting step of setting, per line in the direction of the second coordinate axis, the coordinates of the mask range based on the determination result of the presence pattern and a position thereof for each label value existing on the relevant one line, and storing the set coordinates in the storage unit.</li></ul></p><p id="p0071" num="0071">The preset three types of presence patterns are a first presence pattern in which the label values continuously exist thoroughly over the entire circumferential range, a second presence pattern in which the label values separately exist in a region containing one end of the entire circumferential range and a region containing the other end thereof, and a third presence pattern in which the label values are in other states.</p><p id="p0072" num="0072">More specifically, in the per-line mask range setting step, processes of the following (3-8) to (3-10) are preferably executed, per line in the direction of the second coordinate axis, depending on the determination result of the presence pattern:
<ul><li>(3-8) A process of, depending on the number of the label values, setting only positions where the label values exist to the mask range or setting one entire line in the<!-- EPO <DP n="34"> --> direction of the second coordinate axis to the mask range is executed for the label values for which the determination result of the presence pattern is the first presence pattern.</li><li>(3-9) A process of setting, to the mask range, a range from each of opposite end positions of the entire circumferential range to a position of the label value farthest away from the corresponding one of the opposite end positions of the entire circumferential range in each of two halved ranges of the entire circumferential range is executed for the label values for which the determination result of the presence pattern is the second presence pattern.</li><li>(3-10) A process of setting, to the mask range, a range covering all the positions where the label values exist is executed for the label values for which the determination result of the presence pattern is the first presence pattern.</li></ul></p><p id="p0073" num="0073">With the processes described above, as described later, a necessary minimum range corresponding to the range, which is positioned inside substantially the contours of the indication marks, is set as the mask range.</p><p id="p0074" num="0074">In general, the sidewall surface of the tire is basically curved in the direction of the first coordinate axis (i.e., the radial direction) regardless of the presence or the absence of the indication mark. Thus, when the sidewall surface is steeply curved, a curved portion of the sidewall surface may be erroneously detected as the edge of<!-- EPO <DP n="35"> --> the indication mark with the two-dimensional Sobel filtering in the filtering step.</p><p id="p0075" num="0075">For that reason, processes of the following (3-11) and (3-12) may be executed in the tire shape inspection method according to the present invention:
<ul><li>(3-11) A measured-value normalization step is executed in which, per line in the direction of the second coordinate axis, the surface height measurement values in the surface height distribution information are normalized based on an average value of the surface height measurement values of the relevant one line.</li><li>(3-12) In the two-dimensional edge detection step, the two-dimensional edge detection process is executed on the surface height distribution information including the surface height measurement values that have been normalized in the measured-value normalization step.</li></ul></p><p id="p0076" num="0076">The "measured-value normalization step" stated in (3-12) is the same step as that defined in (3-1). As a result, the curved portion having the original shape of the sidewall surface can be avoided from being erroneously detected as the edge of the indication mark.</p><p id="p0077" num="0077">The surface height measurement values in the surface height distribution information can be obtained, as described in PTL 1, by picking up the image of the line light emitted for irradiation of the sidewall surface of the<!-- EPO <DP n="36"> --> rotating tire, and performing shape detection with the optical cutting method based on the picked-up image. Further, the sidewall surface of the tire is highly glossy. In the shape detection with the optical cutting method, therefore, the image of the line light emitted for irradiation of the sidewall surface is preferably picked up in a direction in which a principal ray of the line light is regularly reflected by the sidewall surface. As a result, information based on a clear optical cutting line can be obtained.</p><p id="p0078" num="0078">In some cases, however, many recesses that are so small as not to become the target of the shape defect inspection are formed in the sidewall surface. When an image of the sidewall surface is picked up in the direction in which the principal ray of the line light is regularly reflected, the light reflected by the small recesses does not reach the image pickup unit. Hence, a clear and highly-bright image of the optical cutting line cannot be obtained for the positions corresponding to areas of the small recesses.</p><p id="p0079" num="0079">In view of the above point, processes of the following (3-13) to (3-15) may be executed in the tire shape inspection method according to the present invention:
<ul><li>(3-13) An optical-cutting-method shape detection step is executed by detecting an optical cutting line having brightness equal to or greater than a predetermined level<!-- EPO <DP n="37"> --> from a picked-up image of line light emitted for irradiation of the sidewall surface of the rotating tire, and by deriving effective height detected values, which are plotted in the two-dimensional coordinate system and which correspond to positions of the optical cutting lines each having brightness equal to or greater than the predetermined level.</li><li>(3-14) A measured-value normalization step is executed, with respect to the surface height measurement values included in the surface height distribution information per line in the direction of the second coordinate axis, by setting, for a portion where the optical cutting line having brightness equal to or greater than the predetermined level has been detected, the effective height detected values in the aforesaid portion to a value normalized based on an average value of the effective height detected values of the relevant one line, and by setting, for other portion in the relevant one line, the value interpolated based on the effective height detected values of the relevant one line to the value normalized based on the average value of the effective height detected values of the relevant one line.</li><li>(3-15) In the two-dimensional edge detection step, the two-dimensional edge detection process is executed on the surface height distribution information including the surface height measurement values that have been normalized<!-- EPO <DP n="38"> --> in the measured-value normalization step.</li></ul></p><p id="p0080" num="0080">The "measured-value normalization step" stated in (3-15) is the same step as that defined in (3-4).</p><p id="p0081" num="0081">As a result, the curved portion having the original shape of the sidewall surface can be avoided from being erroneously detected as the edge of the indication mark. Further, for a portion for which a clear optical cutting line has not been detected in the picked-up image of the sidewall surface due to the small recesses, setting of an improper surface measured value can be avoided and hence erroneous detection of the shape defect can be avoided.</p><p id="p0082" num="0082">The value interpolated based on the effective height detected values is, for example, the average value of the effective height detected values of the one line in the direction of the second coordinate axis, or a value interpolated using a straight line.</p><p id="p0083" num="0083">In some of the tires, a belt-like projected or recessed mark is formed in the sidewall surface of the tire almost thoroughly in the circumferential direction. In some others of the tires, many projected or recessed marks are formed in the sidewall surface of the tire so as to lie on a line almost thoroughly in the circumferential direction. Hereinafter, the former mark is called an "annular mark", and the latter group of marks is called a "group of quasi-annular marks".<!-- EPO <DP n="39"> --></p><p id="p0084" num="0084">In the case of the annular mark being formed in the sidewall surface of the tire, when the height measured values in the surface height distribution information is normalized in the measured-value normalization step, there occurs a phenomenon that the height measured values after the normalization represent an erroneous shape differing from the actual shape of the sidewall surface of the tire near the position of a boundary line of the annular mark in the radial direction of the tire. This results in erroneous detection of the shape defect. Such a problem similarly arises in the case where the group of quasi-annular marks is formed in the sidewall surface of the tire.</p><p id="p0085" num="0085">In view of the above point, steps of the following (3-16) and (3-17) may be executed in the tire shape inspection method according to the present invention:
<ul><li>(3-16) An average height abruptly-changed coordinate detection step of detecting, for a data train in a direction of the first coordinate, which includes data of an average value of the effective height detected values per line in the direction of the second coordinate axis, an average height abruptly-changed coordinate which is a coordinate on the first coordinate axis and at which an absolute value of a differential value is equal to or greater than a preset threshold.</li><li>(3-17) A defect-inspection exclusion region setting step of<!-- EPO <DP n="40"> --> excluding, from the target of the shape defect inspection process, a region spanning entirely in the direction of the second coordinate axis within a coordinate range having a predetermined width and containing the average height abruptly-changed coordinates on the first coordinate axis, which are included in the surface height distribution information.</li></ul></p><p id="p0086" num="0086">As a result, even when the annular mark or the group of quasi-annular marks is formed in the sidewall surface of the tire, erroneous detection of the shape defect can be prevented.</p><p id="p0087" num="0087">The comparative example further resides in a tire shape inspection apparatus for deriving the surface height distribution information regarding the sidewall surface of the tire, which is used in the shape defect inspection, with the tire shape inspection method according to the comparative example.</p><p id="p0088" num="0088">More specifically, the tire shape inspection apparatus according to the comparative example is a tire shape inspection apparatus for irradiating a sidewall surface of a relatively rotating tire with line light, the sidewall surface including embossed marks formed therein, picking up an image of the line light, and deriving, based on the picked-up image, the surface height distribution information that is used in the shape defection inspection of the tire,<!-- EPO <DP n="41"> --> the apparatus including components of the following (4-1) to (4-4) :
<ul><li>(4-1) A line light irradiation unit for emitting plural beams of line light in succession, in order to form one optical cutting line on the sidewall surface, from directions differing from a direction of detection height for the optical cutting line.</li><li>(4-2) An image pickup unit for picking up images of the plural beams of line light, emitted for irradiation of the sidewall surface, in a direction in which a principal ray in each of the plural beams of line light is regularly reflected by the sidewall surface.</li><li>(4-3) An optical-cutting-method shape detection unit for deriving the surface height distribution information over an entire circumferential range of the sidewall surface by detecting the optical cutting line in the image picked up by the image pickup unit.</li><li>(4-4) An embossed mark exclusion unit for excluding information of a range, in which the embossed mark exists, from the surface height distribution information used in the shape defect inspection of the tire for each type of the tire based on the two-dimensional edge detection process that is executed on the surface height distribution information.</li></ul></p><p id="p0089" num="0089">The expression "relatively rotating tire" means the<!-- EPO <DP n="42"> --> case where the tire is itself rotated with its rotation axis being a center, or the case where the line light irradiation unit and the image pickup unit are rotated about the rotation axis of the tire while the tire is itself kept fixed.</p><p id="p0090" num="0090">The tire shape inspection apparatus according to the present invention provides similar advantageous effects to those of the tire shape inspection method according to the present invention.</p><heading id="h0008">Advantageous Effects of Invention</heading><p id="p0091" num="0091">According to the present invention, when inspecting the shape defects in the sidewall surface of the tire in which the embossed marks (indication marks) are formed, the shape defects can be correctly measured by reliably excluding, from the surface height measurement values, those measured values taken in the range where the mark is formed, without misidentification.</p><heading id="h0009">Brief Description of Drawings</heading><p id="p0092" num="0092"><ul><li>[<figref idrefs="f0001">Fig. 1] Fig. 1</figref> is a block diagram of a tire shape inspection device W according to one embodiment of the invention.</li><li>[<figref idrefs="f0001">Fig. 2] Fig. 2</figref> illustrates a three-dimensional arrangement of light sources and a camera in a sensor unit that is provided in the tire shape inspection device W according to one embodiment of the invention.<!-- EPO <DP n="43"> --></li><li>[<figref idrefs="f0002">Fig. 3] Fig. 3</figref> is a flowchart illustrating one example of procedures of a mask range setting process in the tire shape inspection device W according to one embodiment of the invention.</li><li>[<figref idrefs="f0003">Fig. 4] Fig. 4</figref> illustrates, in the form of an image, one example of binary distribution information regarding a sidewall surface of a tire, which is obtained during the shape defect inspection.</li><li>[<figref idrefs="f0004">Fig. 5] Fig. 5</figref> illustrates, in the form of an image, one example of corrected binary distribution information regarding the sidewall surface of the tire, which is obtained during the shape defect inspection.</li><li>[<figref idrefs="f0005">Fig. 6] Fig. 6</figref> illustrates, in the form of a binary image, one example of a mask range for the sidewall surface of the tire, which is set during the shape defect inspection.</li><li>[<figref idrefs="f0006">Fig. 7] Fig. 7</figref> illustrates, in the form of a binary image, another example of the mask range for the sidewall surface of the tire, which is set during the shape defect inspection.</li><li>[<figref idrefs="f0007">Fig. 8] Fig. 8</figref> illustrates an indication mark M on the sidewall surface of the tire.</li><li>[<figref idrefs="f0008">Fig. 9] Fig. 9</figref> is a flowchart illustrating one example of procedures of a shape defect inspection process in the tire shape inspection device W according to one embodiment of the invention.<!-- EPO <DP n="44"> --></li><li>[<figref idrefs="f0009">Fig. 10] Fig. 10</figref> illustrates a first example of a screen image displayed through an image outputting process in the tire shape inspection device W according to one embodiment of the invention.</li><li>[<figref idrefs="f0010">Fig. 11] Fig. 11</figref> illustrates a second example of the screen image displayed through the image outputting process in the tire shape inspection device W according to one embodiment of the invention.</li><li>[<figref idrefs="f0011">Fig. 12] Fig. 12</figref> illustrates a third example of the screen image displayed through the image outputting process in the tire shape inspection device W according to one embodiment of the invention.</li><li>[<figref idrefs="f0012">Fig. 13] Fig. 13</figref> illustrates a fourth example of the screen image displayed through the image outputting process in the tire shape inspection device W according to one embodiment of the invention.</li><li>[<figref idrefs="f0013">Fig. 14] Fig. 14</figref> is a block diagram of a tire shape inspection device W according to one embodiment of the comparative example.</li><li>[<figref idrefs="f0013">Fig. 15] Fig. 15</figref> illustrates a three-dimensional arrangement of light sources and a camera in a sensor unit that is provided in the tire shape inspection device W according to one embodiment of the comparative example.</li><li>[<figref idrefs="f0014">Fig. 16] Fig. 16</figref> is a flowchart illustrating one example of procedures of a process for correcting the<!-- EPO <DP n="45"> --> surface height distribution information regarding the sidewall surface of the tire in one embodiment of the comparative example.</li><li>[<figref idrefs="f0015">Fig. 17] Fig. 17</figref> illustrates, in terms of an X-Y coordinate system, the sidewall surface of the tire in which an annular mark is formed.</li><li>[<figref idrefs="f0016">Fig. 18] Fig. 18</figref> illustrates, in terms of an X-Y coordinate system, the sidewall surface of the tire in which a group of quasi-annular marks is formed.</li><li>[<figref idrefs="f0017">Fig. 19] Fig. 19</figref> is a flowchart illustrating another example of procedures of the process for correcting the surface height distribution information regarding the sidewall surface of the tire in one embodiment of the comparative example.</li><li>[<figref idrefs="f0018">Fig. 20] Fig. 20</figref> illustrates, in the form of a graph, one example of a data train of average values each obtained for the effective height detected values in the surface height distribution information before normalization in one embodiment of the comparative example.</li></ul></p><heading id="h0010">Description of Embodiments</heading><p id="p0093" num="0093">Embodiments of the present invention will be described below with reference to the accompanying drawings for understanding of the present invention. Be it noted that the following embodiments merely represent practical examples of the present invention and they will not restrict<!-- EPO <DP n="46"> --> the technical scope of the present invention.</p><heading id="h0011">(Invention)</heading><p id="p0094" num="0094">First, an overall configuration of a tire shape inspection device W according to one embodiment of the invention is described with reference to <figref idrefs="f0001">Fig. 1</figref>.</p><p id="p0095" num="0095">The tire shape inspection device W according to the invention executes a shape measurement process of measuring a surface height distribution of a tire 1 by picking up, with a camera, an image of line light that is emitted for irradiation of a surface of the rotating tire 1, and by executing shape detection with an optical cutting method based on the picked-up image. The shape measurement process provides surface height distribution information that represents a distribution of the surface height measurement values at various positions over a range of 360° in the circumferential direction of the surface of the tire 1. A measurement target of the surface height distribution information is a tread surface or a sidewall surface of the tire 1.</p><p id="p0096" num="0096">Further, the tire shape inspection device W executes a process of inspecting the shape defect in the surface of the tire 1 based on the surface height distribution information obtained with the shape measurement process, or based on inspection-use surface height distribution information, i.e., information that is obtained by modifying, as required, part<!-- EPO <DP n="47"> --> of the former surface height distribution information.</p><p id="p0097" num="0097">As illustrated in <figref idrefs="f0001">Fig. 1</figref>, the tire shape inspection device W includes a tire rotating machine 2, sensor units 3, a unit driving device 4, an encoder 5, an image processing device 6, a host computer 7, etc. The tire rotating machine 2 is a rotating device, such as a motor, for rotating the tire 1 about its rotation axis 1g, which is a target of the shape detection.</p><p id="p0098" num="0098">The tire rotating machine 2 rotates the tire 1 at a rotational speed of 60 rpm, for example. Thus, during one second in which the tire 1 is rotated once, the tire shape inspection device W detects the surface shapes of the tread surface and the sidewall surface of the tire 1 over an entire circumferential range by using the sensor units 3 described later.</p><p id="p0099" num="0099">The sensor units 3 are each a unit incorporating a light source for irradiating the surface of the rotating tire 1 with a beam of line light, a camera for picking up an image of the line light on the surface of the tire 1, and so on. This embodiment includes a total of three sensor units 3, i.e., sensor units 3a and 3c for use in the shape measurements of two sidewall surfaces of the tire 1, respectively, and one sensor unit 3b for use in the shape measurement of the tread surface of the tire 1.</p><p id="p0100" num="0100"><figref idrefs="f0001">Fig. 2</figref> illustrates an arrangement of components<!-- EPO <DP n="48"> --> incorporated in each of the sensor units 3.</p><p id="p0101" num="0101">As illustrated in <figref idrefs="f0001">Fig. 2</figref>, the sensor unit 3 includes a light emitting device 10 for outputting plural beams of line light, and a camera 20.</p><p id="p0102" num="0102">In <figref idrefs="f0001">Fig. 2</figref>, an X-axis represents a direction tangential to the circumference of the tire rotation at a position where the shape of the tire 1 is detected, a Z-axis represents a direction of detection height at the position where the shape of the tire 1 is detected (i.e., a direction of surface height to be detected), and a Y-axis represents a direction orthogonal to both the X-axis and the Z-axis.</p><p id="p0103" num="0103">More specifically, in each of the sensor units 3a and 3c for use in the shape detection of the sidewall surfaces of the tire 1, the Z-axis is a coordinate axis representing the direction of the rotation axis 1g of the tire 1, and the X-axis is a coordinate axis representing the radial direction of the tire 1 (i.e., the direction normal to the direction of the rotation axis 1g of the tire 1). Also, in the sensor unit 3b for use in the shape detection of the tread surface of the tire 1, the Z-axis is a coordinate axis representing the radial direction of the tire 1, and the X-axis is a coordinate axis representing the direction of the rotation axis 1g of the tire 1.</p><p id="p0104" num="0104">Further, in each of the sensor units 3a, 3b and 3c, the Y-axis is a coordinate axis representing the circumferential<!-- EPO <DP n="49"> --> direction of the tire 1. Be it noted that the correspondence relationship between the tire 1 and each coordinate axis may be changed depending on a manner of supporting the camera 20.</p><p id="p0105" num="0105">The light emitting device 10 includes a plurality (three in <figref idrefs="f0001">Fig. 2</figref>) of line light sources 11 to 13. In order that one optical cutting line is formed on one line Ls in the surface of the tire 1 by the plurality of line light sources 11 to 13, the light emitting device 10 emits plural beams of line light from directions differing from the direction of the detection height (i.e., the Z-axis direction) for the one line Ls (i.e., the_optical cutting line) so as to continuously lie on the one line (namely, the light emitting device 10 emits the plural beams of line light to be overlapped at respective ends of adjacent beams of line light in a continuous relation such that the one line Ls is irradiated with one beam of line light as a whole).</p><p id="p0106" num="0106">The camera 20 includes a camera lens 22 and an image pickup element 21 (light receiving unit), and it picks up images v1 of the plural beams of line light impinging in a continuous relation upon the surface (i.e., the tread surface or the sidewall surface) of the tire 1 (namely, an image of the optical cutting line on the one line Ls).</p><p id="p0107" num="0107">Thus, with the sensor units 3a and 3c for the sidewall<!-- EPO <DP n="50"> --> surfaces, in order that an optical cutting line (one continuous optical cutting line) is formed on one line Ls extending in the radial direction of the tire 1 (i.e., in the Y-axis direction) in the sidewall surface of the tire 1, the light emitting device 10 emits plural beams of line light from directions differing from the direction of the detection height (i.e., the Z-axis direction) for the one line Ls (i.e., the optical cutting line) so as to continuously lie on the one line.</p><p id="p0108" num="0108">On the other hand, with the sensor unit 3b for the tread surface, in order that an optical cutting line is formed on one line Ls extending in a direction orthogonal to the circumferential direction of the tire in the tread surface of the tire 1, the light emitting device 10 emits plural beams of line light from directions differing from the direction of the detection height (i.e., the Z-axis direction) for the one line Ls (i.e., the optical cutting line) so as to continuously lie on the one line.</p><p id="p0109" num="0109">While this embodiment illustrates the case of emitting three beams of line light for each surface of the tire 1 (in each sensor unit 3), each surface of the tire 1 may be irradiated with two beams of line light or four or more beams of line light by increasing or decreasing the number of line light sources 11 to 13.</p><p id="p0110" num="0110">The light emitting device 10 and the camera 20 are held<!-- EPO <DP n="51"> --> by holding mechanisms (not shown) such that a view field range of the camera 20 exists in a direction in which respective principal rays (light propagating along a center line) in the plural beams of line light output from each of the line light sources 11 to 13 are regularly reflected by the surface of the tire 1. As a result, the camera 20 picks up respective images of the plural beams of line light in the directions in which the principal rays in the plural beams of line light are regularly reflected by the surface of the tire 1 (one example of the image pickup unit).</p><p id="p0111" num="0111">When a glossy tire surface is irradiated with line light, the intensity of regularly reflected light is greater than that of light reflected while scattering. With the above-described arrangement, therefore, a clear image of the line light emitted for irradiation of the tire surface can be obtained without enhancing the intensity of the line light even when the image of the line light is picked up at a sufficiently high image-pickup rate (e.g., 4000 or more frames per sec).</p><p id="p0112" num="0112">On the other hand, the unit driving device 4 (see <figref idrefs="f0001">Fig. 1</figref>) is a device for movably supporting each sensor unit 3 by using a driving device, e.g., a servo motor, as a driving source, and for properly positioning each sensor unit 3 with respect to the tire 1. In response to a predetermined operation made on an operating unit or a control command<!-- EPO <DP n="52"> --> from an external device, the unit driving device 4 positions each sensor unit 3 to a predetermined retracted position spaced from the tire 1 before the tire 1 is attached to the tire rotating machine 2, and to a predetermined inspection position near the tire 1 after the new tire 1 has been attached to the tire rotating machine 2.</p><p id="p0113" num="0113">Further, the encoder 5 is a sensor for detecting a rotational angle of a rotary shaft of the tire rotating machine 2, i.e., a rotational angle of the tire 1. A signal detected by the encoder 5 is used to control the timing at which the camera in the sensor unit 3 picks up an image.</p><p id="p0114" num="0114">The image processing device 6 executes shutter control of the camera in the sensor unit 3 (i.e., control of the image-pickup timing) in accordance with the signal detected by the encoder 5. For example, whenever the encoder 5 detects that the tire 1 rotating at the speed of 60 rpm has rotated 0.09° (= 360°/4000), the image processing device 6 makes control to release a shutter of the camera. As a result, the image is picked up at the image-pickup rate of 4000 frames per sec.</p><p id="p0115" num="0115">Further, the image processing device 6 receives the image picked up by the camera in the sensor unit 3, i.e., data of the picked-up image of the line light emitted for irradiation of the surface of the tire 1, executes the shape measurement process using the optical cutting method based<!-- EPO <DP n="53"> --> on the picked-up image, and stores surface height distribution information (i.e., a set of the surface height measurement values of the tire 1), which is given as the measurement result, in an internal frame memory.</p><p id="p0116" num="0116">The image processing device 6 is realized with a DSP (Digital Signal Processor), for example. Be it noted that the shape measurement process using the optical cutting method is known in the art, and hence the description thereof is omitted here.</p><p id="p0117" num="0117">The surface height distribution information regarding the sidewall surface of the tire 1 is such information that the surface height measurement value for each of the positions in the circumferential range of 360° over the sidewall surface is plotted in a two-dimensional coordinate system, which has a first coordinate axis (X-axis in this embodiment) representing the radial direction of the tire 1 and a second coordinate axis (Y-axis in this embodiment) representing the circumferential direction of the tire 1.</p><p id="p0118" num="0118">Also, the surface height distribution information regarding the tread surface of the tire 1 is such information that the surface height measurement value for each of the positions in the circumferential range of 360° over the tread surface is plotted in a two-dimensional coordinate system, which has an X-axis representing the direction parallel to the rotation axis of the tire 1 and a<!-- EPO <DP n="54"> --> Y-axis representing the circumferential direction of the tire 1.</p><p id="p0119" num="0119">Hereinafter, a range occupied by the surface height distribution information in the Y-axis direction (direction of the second coordinate axis), i.e., a Y-axis coordinate range corresponding to 360° in the circumferential direction of the tire 1, is called an "entire circumferential range Wy". The coordinates of opposite ends of the entire circumferential range Wy (i.e., the coordinate of a starting point and the coordinate of an ending point in the Y-axis direction) correspond to positions that are adjacent to each other in the circumferential direction on the actual surface of the tire 1.</p><p id="p0120" num="0120">Assuming that the surface height measurement value corresponds to a brightness value of each pixel in the image data, the surface height distribution information can be handled in a similar manner to monochromatic image data on the image processing device 6. Accordingly, the term "pixel" appearing in the following description is used as a term representing the position (coordinates) of each of the surface height measurement values in the above-described coordinate system of the X-axis and the Y-axis.</p><p id="p0121" num="0121">Embossed marks (such as characters, symbols, and figures) are formed in the sidewall surface of the tire 1. Hereinafter, the embossed mark is called an indication mark<!-- EPO <DP n="55"> --> M (see <figref idrefs="f0007">Fig. 8</figref>).</p><p id="p0122" num="0122">Further, the image processing device 6 executes a surface height distribution information modification process of replacing, for the surface height distribution information regarding the sidewall surface of the tire 1, those surface height measurement values within the range containing the indication mark M therein, which is to be excluded from the target of the shape defect inspection, with interpolated values that change gently. Then, the information regarding the sidewall surface, which has been obtained with the surface height distribution information modification process, and the surface height distribution information regarding the tread surface of the tire 1 are transferred as the inspection-use surface height distribution information to the host computer 7.</p><p id="p0123" num="0123">The host computer 7 includes a computer main unit 71, an operating unit 72, and a display device 73. The computer main unit 71 is a main unit of, e.g., a personal computer that includes a CPU, i.e., a processor for executing various types of data processing, a data storage unit such as a hard disk drive, etc. The operating unit 72 is a unit operated for inputting information, such as a keyboard and a mouse. The display device 73 is the so-called display for displaying character information, image information, etc., such as a liquid crystal display or a CRT display.<!-- EPO <DP n="56"> --></p><p id="p0124" num="0124">In the host computer 7, the CPU in the computer main unit 71 performs various types of computations and outputting of the computation results by executing programs that are previously stored in a memory.</p><p id="p0125" num="0125">More specifically, the host computer 7 executes the shape defect inspection process based on the inspection-use surface height distribution information regarding each surface of the tire 1, which is obtained from the image processing device 6. The shape defect inspection process is a process of determining whether the inspection-use surface height distribution information regarding each surface of the tire 1 satisfies an allowable condition preset for each surface of the tire 1, and displaying the determination result on a predetermined display portion or outputting it as a predetermined control signal.</p><p id="p0126" num="0126">One example of procedures of a mask range setting process for the surface height distribution information regarding the sidewall surface of the tire, which is executed by the image processing device 6 and the host computer 7, will be described below with reference to a flowchart illustrated in <figref idrefs="f0002">Fig. 3</figref>. It is here assumed that, before the process illustrated in <figref idrefs="f0002">Fig. 3</figref> is executed, the shape measurement process has been executed in the manner described above and the surface height distribution information regarding the sidewall surface of a sample of<!-- EPO <DP n="57"> --> the tire 1 has been stored in the frame memory within the image processing device 6. S1, S2, etc. in the following description denote symbols for identifying processing procedures (steps).</p><p id="p0127" num="0127">The process illustrated in <figref idrefs="f0002">Fig. 3</figref> is executed on the surface height distribution information that is obtained from a tire sample previously prepared for each type of tire as an inspection target. Thus, the processing of steps S1 to S17 illustrated in <figref idrefs="f0002">Fig. 3</figref> is executed only for one sample tire preset for each type of the tire as the inspection target.</p><heading id="h0012">[Step S1]</heading><p id="p0128" num="0128">First, the image processing device 6 executes a measured value normalization step (S1) for the surface height distribution information regarding the sidewall surface. More specifically, the image processing device 6 normalizes, per line in the Y-direction, the surface height measurement values in the relevant surface height distribution information based on an average value of the surface height measurement values of the one line, and stores the normalized surface height distribution information in the internal frame memory. Each value after the normalization is given, for example, as a value resulting from subtracting the average value from each of the surface height measurement values.<!-- EPO <DP n="58"> --></p><p id="p0129" num="0129">When the surface height distribution information includes a temporary measured value (e.g., zero) for the position where the optical cutting line with brightness equal to or greater than a predetermined level has not been detected, the image processing device 6 calculates the average value of the surface height measurement values except for the temporary measured value. Further, the image processing device 6 replaces, per line in the Y-axis direction, the temporary measured value included in the relevant one line with a value interpolated based on the other measured values, e.g., with the average value of the surface height measurement values.</p><p id="p0130" num="0130">The normalized values obtained with the processing of step S1 represent surface height information after excluding components corresponding to the curved shape in the radial direction (X-axis direction), i.e., to the original shape of the sidewall surface of the tire 1. It is also conceivable, for example, to preset an ideal shape of the sidewall surface in the radial direction on an assumption that the indication marks M are not present, and to set, as the normalized value, a value resulting from subtracting a value of the ideal shape from each of the surface height measurement values.</p><p id="p0131" num="0131">The image processing device 6 stores the surface height distribution information including the surface height<!-- EPO <DP n="59"> --> measurement values, which have been normalized in the measured value normalization step (S1), in the memory to be used in the following processing of steps S2 to S15, and further transmits the same information to the host computer 7.</p><heading id="h0013">[Step S2]</heading><p id="p0132" num="0132">Next, the image processing device 6 executes a filtering step (S2) of performing two-dimensional Sobel filtering on the surface height distribution information including the surface height measurement values that have been normalized in the measured value normalization step (S1), and storing gradient value distribution information, given as the filtering result, in the internal frame memory.</p><p id="p0133" num="0133">The Sobel filtering is a process of totalizing the results of multiplying respective values (normalized surface height measurement values) for a group of pixels in a predetermined number, which includes a certain target pixel and surrounding pixels, by coefficients preset depending on the positions of the pixels. Further, in the two-dimensional Sobel filtering, the multiplications of the coefficient and the totalizing of the multiplication results are performed by using two coefficient matrices that correspond respectively to the X-axis direction and the Y-axis direction, and the root of the square sum of both the totals is calculated as the processing result. Consequently,<!-- EPO <DP n="60"> --> the processing result is obtained as a higher value as the surface height of the sidewall surface has a larger gradient. Hereinafter, the processing result for each pixel obtained with the two-dimensional Sobel filtering is called a "gradient value", and a set of respective gradient values of the pixels in the X-Y coordinate system is called "gradient value distribution information". Be it noted that the two-dimensional Sobel filtering is known in the art, and hence the detailed description thereof is omitted here.</p><p id="p0134" num="0134">Further, in the filtering step (S2), the Sobel filtering is executed on the premise that the coordinates (Y-coordinates) of the opposite ends of the entire circumferential range Wy are adjacent to each other in the Y-axis direction, thus enabling the gradient value to be obtained for each of pixels near the opposite ends of the entire circumferential range Wy.</p><p id="p0135" num="0135">In the two-dimensional Sobel filtering for the tire shape inspection, the gradient value of the target pixel is calculated based on values of a group of 9 pixels including the target pixel and surrounding 8 pixels, or values of a group of 25 pixels including the group of 9 pixels and surrounding 16 pixels.</p><heading id="h0014">[Step S3]</heading><p id="p0136" num="0136">Then, the image processing device 6 executes a binarization step (S3) of binarizing the gradient value<!-- EPO <DP n="61"> --> distribution information and storing the binary distribution information, given as the processing result, in the frame memory. With the binarization step, an ON value (e.g., 1) is set to a pixel of which value (gradient value) is equal to or greater than a preset threshold, and an OFF value (e.g., 0) is set to other pixels.</p><p id="p0137" num="0137">with the above-described processing of steps S1 to S3, even when the edges (contours) of the indication mark M are formed to extend in any direction in the two-dimensional coordinates, those edges can be detected reliably. Thus, steps S2 and S3 represent one example of a two-dimensional edge detection step of detecting the edges of the embossed indication mark M by executing a two-dimensional edge detection process (i.e., the two-dimensional Sobel filtering and the binarization) on the surface height distribution information, and storing the detection result (two-dimensional edge distribution information) in the frame memory.</p><p id="p0138" num="0138"><figref idrefs="f0003">Fig. 4</figref> illustrates, in the form of an image, one example of the binary distribution information regarding the sidewall surface, which is obtained with the processing of step S3. In <figref idrefs="f0003">Fig. 4</figref>, a black region represents a region where the pixel in the binary distribution information has the OFF value (= 0), and a white region represents a region where the pixel in the binary distribution information has<!-- EPO <DP n="62"> --> the ON value (= 1). In other words, the white region in <figref idrefs="f0003">Fig. 4</figref> represents the edge of the indication mark M.</p><heading id="h0015">[Step S4]</heading><p id="p0139" num="0139">Next, the image processing device 6 executes a binary distribution information correction step (S4) of performing a predetermined correction process on the binary distribution information, and storing information after the correction (i.e., corrected binary distribution information) in the frame memory.</p><p id="p0140" num="0140">More specifically, in step S4, the image processing device 6 executes the so-called dilation on the binary distribution information. The dilation is a process of, when at least one ON value (= 1) exists near a certain target pixel (e.g., among 4 or 8 pixels surrounding the target pixel) in the binary distribution information that can be regarded as binary image information, the value of the relevant target pixel is corrected to the ON value (= 1).</p><p id="p0141" num="0141">As a result of the dilation, even when the contour of the indication mark M includes a portion where rising (change) of the surface height is comparatively gentle, such a portion is recognized as a part of the contour of the indication mark M.</p><p id="p0142" num="0142"><figref idrefs="f0004">Fig. 5</figref> illustrates, in the form of an image, the corrected binary distribution information after the dilation executed on the binary image information that has been<!-- EPO <DP n="63"> --> obtained as an image illustrated in <figref idrefs="f0003">Fig. 4</figref>. In <figref idrefs="f0004">Fig. 5</figref>, a black region represents a region where the pixel in the corrected binary distribution information has the OFF value (= 0), and a white region represents a region where the pixel in the corrected binary distribution information has the ON value (= 1). In other words, the white region in <figref idrefs="f0004">Fig. 5</figref> represents the edge of the indication mark M.</p><p id="p0143" num="0143">The known process of excluding an isolated point may be performed prior to the dilation, as part of the above-described correction process, so that noises caused by small extraneous matters, small projections, etc. on the sidewall surface, will not be increased.</p><heading id="h0016">[Step S5]</heading><p id="p0144" num="0144">Next, the image processing device 6 executes a labeling step (S5) of performing labeling on the corrected binary distribution information that has been obtained with the processing of step S4, and storing label distribution information, given as the labeling result, in the frame memory. The labeling is the known process of assigning the same label for each of connected pixels, and the label distribution information is information resulting from setting the label value to a value of each pixel that has the ON value (= 1) in the corrected binary distribution information.</p><p id="p0145" num="0145">In this step S5, as in the above-described step S2, the<!-- EPO <DP n="64"> --> labeling is executed on the premise that the coordinates (Y-coordinates) of the opposite ends of the entire circumferential range Wy are adjacent to each other in the Y-axis direction. As a result, even when connected pixels corresponding to the edge of the indication mark M are separated (disconnected) to the starting end side and the terminating end side of the entire circumferential range Wy due to the starting position of the shape measurement process, the same label value is set to those pixels.</p><p id="p0146" num="0146">As an alternative, the labeling may be executed in step S5 on the binary distribution information before the correction, which has been obtained with the processing of step S3, by omitting the binary distribution information correction step in step S4.</p><heading id="h0017">[Step S6]</heading><p id="p0147" num="0147">Next, the image processing device 6 executes a filet coordinate detection step (S6) of detecting, for each label value in the label distribution information obtained with the processing of step S5, filet coordinates of the relevant label value, and storing the filet coordinates in the predetermined internal memory. The filet coordinates are, as known in the art, coordinates representing a rectangular range surrounding a group of pixels (connected pixels) having the same label value with a minimum area.</p><heading id="h0018">[Steps S7 to S14]</heading><!-- EPO <DP n="65"> --><p id="p0148" num="0148">Next, the image processing device 6 executes a mask range setting step (S7 to S14) of setting, based on the filet coordinates of the label value which have been obtained in step S6, coordinates of a mask range including the range where the indication mark M exists, and storing the set coordinates in the internal memory. The term "mask range" means a range surrounding, for each group of pixels to which the same label value is set in the label distribution information, the relevant group of pixels.</p><p id="p0149" num="0149">Details of the mask range setting step will be described below.</p><heading id="h0019">[Step S7]</heading><p id="p0150" num="0150">First, the image processing device 6 executes a label presence pattern determination step (S7) of determining, for each label value in the label distribution information, that a pattern of the label-value presence range in the Y-direction (circumferential direction) is which one of preset three types of presence patterns, based on the filet coordinates of the relevant label value (i.e., of the connected pixels), and storing the determination result in the internal memory.</p><p id="p0151" num="0151">The three types of presence patterns are the following three patterns P1 to P3. Images corresponding to those patterns P1 to P3 are illustrated in <figref idrefs="f0005">Fig. 6</figref>.</p><p id="p0152" num="0152">The first one is an entire-circumference pattern P1<!-- EPO <DP n="66"> --> (corresponding to the first presence pattern) in which the label value exists continuously over the entire circumferential range Wy.</p><p id="p0153" num="0153">The second one is a separated pattern P2 (corresponding to the second presence pattern) in which the label value exists separately in a region containing the starting end (one end) of the entire circumferential range Wy and a region containing the terminating end (the other end) thereof.</p><p id="p0154" num="0154">The third one is an ordinary pattern P3 (corresponding to the third presence pattern) in which the label value is in the other state than those of the entire-circumference pattern and the separated pattern.</p><p id="p0155" num="0155">For example, the image processing device 6 determines, for a certain target label value, whether the starting end and the terminating end in the Y-axis direction of the range represented by the filet coordinates coincide respectively with the starting end and the terminating end of the entire circumferential range Wy. If the coincidence is determined, the image processing device 6 determines whether the target label value exists in both ranges defined by dividing the entire circumferential range Wy into two equal parts. If the determination result shows that the target label value exists in both the ranges, the image processing device 6 determines that the target label value is in the entire-circumference<!-- EPO <DP n="67"> --> pattern. If not so, the image processing device 6 determines that the target label value is in the separated pattern.</p><p id="p0156" num="0156">Further, if the starting end and the terminating end in the Y-axis direction of the range represented by the filet coordinates of the target label value do not coincide respectively with the starting end and the terminating end of the entire circumferential range Wy, the image processing device 6 determines that the target label value is in the ordinary pattern.</p><heading id="h0020">[Step S8]</heading><p id="p0157" num="0157">Next, the image processing device 6 sets (selects) the X-axis coordinate one by one and samples (selects), from among the label distribution information stored in the frame memory, information of the label values of one line in the Y-axis direction at the set X-axis coordinate, as information for use in a process of setting the mask range (S8). After this step, the image processing device 6 executes the following processing of steps S9 to S14 whenever the information of the label values of one line in the Y-axis direction is sampled.</p><p id="p0158" num="0158">The X-axis coordinates set for the above-described sampling may be all of the coordinates (pixels) in the range occupied by the surface height distribution information in the X-axis direction or part of the coordinates ,(pixels)<!-- EPO <DP n="68"> --> extracted at predetermined intervals depending on the spatial resolution that is required for the shape defect inspection. So long as the set X-axis coordinates are in the range of the spatial resolution allowable for the shape defect inspection, the X-axis coordinates are preferably set at larger intervals from the viewpoint of reducing the computation load.</p><p id="p0159" num="0159">Next, the image processing device 6 executes a per-line mask range setting step (S9 to S12, S13 or S14) of setting, per line in the Y-axis direction which has been sampled in step S8, coordinates of the mask range on the relevant one line in the Y-axis direction based on the respective determination results of the presence pattern of the label values existing on the relevant one line and the positions of the label values, and storing the set coordinates in the internal memory. A practical example of the per-line mask range setting step will be described below.</p><heading id="h0021">[Steps S9 to S12]</heading><p id="p0160" num="0160">First, if the presence pattern (determination result) of the target label value is the entire-circumference pattern P1 (first presence pattern), the image processing device 6 counts the number of the target label values (S9) and determines whether the count number is equal to or greater than a preset number (setting number) (S10).</p><p id="p0161" num="0161">If it is determined that the count number of the target<!-- EPO <DP n="69"> --> label values is equal to or greater than the setting number, the image processing device 6 sets the entire one line in the Y-axis direction (i.e., the entire circumferential range Wy), which is sampled at that time, to the mask range (S11).</p><p id="p0162" num="0162">On the other hand, if it is determined that the count number of the target label values is less than the setting number, the image processing device 6 sets only the positions where the target label values exist on the one line in the Y-axis direction, which is sampled at that time, to the mask range (S12).</p><heading id="h0022">[Step S13]</heading><p id="p0163" num="0163">Meanwhile, if the presence pattern (determination result) of the target label value is the separated pattern P2 (second presence pattern), the image processing device 6 sets, to the mask range, a range from each of the opposite ends of the entire circumferential range Wy to the position of the target label value farthest away from the corresponding one of the opposite ends (i.e., from the starting end position or the terminating end position) of the entire circumferential range Wy in each of two halved ranges of the entire circumferential range Wy (S13).</p><p id="p0164" num="0164">More specifically, in the range from the starting end position to the mid position of the entire circumferential range Wy, a range starting from the relevant starting end position and ending at the position of the target label<!-- EPO <DP n="70"> --> value nearest to the mid position is set to the mask range. Further, in the range from the mid position to the terminating end position of the entire circumferential range Wy, a range starting from the position of the target label value nearest to the mid position and ending at the relevant terminating end position is set to the mask range.</p><heading id="h0023">[Step S14]</heading><p id="p0165" num="0165">Further, if the presence pattern (determination result) of the target label value is the ordinary pattern P3, the image processing device 6 sets, to the mask range, a range covering all the positions where the target label values exist (S14).</p><p id="p0166" num="0166">More specifically, a range starting from the position of the target label value nearest to the starting end position of the entire circumferential range Wy and ending at the position of the target label value nearest to the terminating end position of the entire circumferential range Wy is set to the mask range.</p><p id="p0167" num="0167">The above-described processing of steps S9 to S14 is executed for each same label value on the sampled one line in the Y-axis direction, and a range resulting from taking logical OR of the mask ranges set for each label value is set to a final mask range in the relevant one line.</p><heading id="h0024">[Step S15]</heading><p id="p0168" num="0168">Thereafter, the image processing device 6 makes control<!-- EPO <DP n="71"> --> such that the above-described processing of steps S8 to S14 is repeated until the sampling (S8) of all the X-axis coordinates is finished (S15). As a result, coordinate information of all the mask ranges regarding the sidewall surface of the sample of the tire 1 is obtained.</p><p id="p0169" num="0169">Then, the image processing device 6 transfers the coordinate information of all the mask ranges regarding the sidewall surface of the sample of the tire 1 to the host computer 7, which executes the shape defect inspection process by using the transferred coordinate information.</p><p id="p0170" num="0170">As described above, the image processing device 6 automatically detects the position of the indication mark M, i.e., the embossed mark, based on the surface height distribution information obtained from the sample of the tire 1 (S2 to S6), and further automatically sets the coordinate information of the mask range surrounding the presence range of the indication mark M (S7 to S15). The processing of steps S2 to S15 executed by the image processing device 6 is one example of the mask-range automatically setting step. Also, the image processing device 6 is one example of the processor.</p><heading id="h0025">[Step S16]</heading><p id="p0171" num="0171">However, it is very difficult to automatically reliably set the mask range surrounding the indication mark M without exception for all types of tires 1 having various surface<!-- EPO <DP n="72"> --> shapes by the above-described mask-range automatically setting step (S2 to S15).</p><p id="p0172" num="0172">In view of such a difficulty, the host computer 7 executes a process of correcting the coordinate information of the mask range, which has been automatically set in the mask-range automatically setting step (S2 to S15), in accordance with an operation of an operator.</p><p id="p0173" num="0173">More specifically, after receiving the normalized surface height distribution information and the coordinate information of the mask range, the host computer 7 executes a mask-range manual correction process and a checking-data designation process as follows (S16). In the following description, the surface height distribution information obtained from the sample of the tire 1 is called "sample surface shape information". The sample surface shape information is the normalized surface height distribution information that is transmitted from the image processing device 6 to the host computer 7 in step S1.</p><p id="p0174" num="0174">The mask-range manual correction process is a process that is executed in parallel to an image outputting process and a mask range changing process, which will be described below.</p><p id="p0175" num="0175">The image outputting process is a process of displaying a surface shape image of the sidewall surface of the tire 1, which is based on the sample surface shape information, and<!-- EPO <DP n="73"> --> a mask range image, which is based on the coordinate information of the mask range, on the display device 73 in a superimposed relation.</p><p id="p0176" num="0176">Also, the mask range changing process is a process of changing (correcting) the coordinate information of the mask range in accordance with an operation input entered through the operating unit 72.</p><p id="p0177" num="0177"><figref idrefs="f0009 f0010 f0011 f0012">Figs. 10 to 13</figref> illustrate respectively first to fourth examples of a screen image displayed by the display device 73 through the image outputting process. <figref idrefs="f0010">Fig. 11</figref> is an enlarged view of a part of the displayed screen image.</p><p id="p0178" num="0178">As illustrated in <figref idrefs="f0009">Fig. 10</figref>, the host computer 7 displays a surface shape image g1, which is based on the sample surface shape information, and a mask range image g2, which is based on the coordinate information of the mask range, on the display device 73 in a superimposed relation.</p><p id="p0179" num="0179">The surface shape image g1 is, for example, an image in which a level of brightness or a displayed color of the corresponding pixel differs depending on the magnitude of the surface height measurement value in the sample surface shape information.</p><p id="p0180" num="0180">Further, the mask range image g2 is, for example, an image of frame lines forming the contours of the mask range, and an image filling the mask range with a predetermined color. The mask range image g2 illustrated in <figref idrefs="f0009">Fig. 10</figref> is an<!-- EPO <DP n="74"> --> image in which the frame lines forming the contours of the mask range are denoted by broken lines.</p><p id="p0181" num="0181">Through the image outputting process, the operator of the host computer 7 can visually confirm the automatically-set mask range on the surface shape image g1 of the sidewall surface of the tire.</p><p id="p0182" num="0182">Additionally, as illustrated in <figref idrefs="f0009">Fig. 10</figref>, the host computer 7 displays, in the image outputting process, a cursor image g3, whose displayed position is moved in accordance with an operation input entered through the operating unit 7, on the display device 73 in a superimposed relation to the surface shape image g1. The host computer 7 moves the displayed position of the cursor image g3 in accordance with the operation of a mouse in the operating unit 7, for example.</p><p id="p0183" num="0183">Moreover, the host computer 7 changes, in the mask range changing process, the coordinate information of the mask range with respect to the coordinates corresponding to the displayed position of the cursor image g3. A practical example of the mask range changing process will be described below.</p><p id="p0184" num="0184">As illustrated in <figref idrefs="f0009">Fig. 10</figref>, by way of example, the host computer 7 executes a process of selecting the mask range corresponding to the displayed position of the cursor image g3, and adding designated change to the information of the<!-- EPO <DP n="75"> --> selected mask range through an operation made on the operating unit 72. For example, the host computer 7 executes a process of canceling the selected mask range, a process of expanding the selected mask range, or a process of compressing the selected mask range. Herein, "cancellation of the mask range" means that the relevant range is set as the range not to be excluded from the target of the shape defect inspection process.</p><p id="p0185" num="0185">As a result, when the mask range is automatically set in a portion other than the indication mark M by a mistake for the reason, for example, that the sample of the tire 1 has the shape defect in its sidewall surface, the setting of the relevant mask range can be canceled.</p><p id="p0186" num="0186">Further, as illustrated in <figref idrefs="f0010">Fig. 11</figref>, the host computer 7 executes a process of canceling the setting of the mask range for only a portion of the already-set mask range, which overlaps with a range designated by an operation moving the cursor image g3.</p><p id="p0187" num="0187">As a result, when the mask range is automatically set in a range larger than the range to be set in a normal condition for the reason, for example, that the indication mark M and the shape defect are present close to each other in the sidewall surface of the sample of the tire 1, an extra part of the relevant mask range can be canceled to be excluded from the setting.<!-- EPO <DP n="76"> --></p><p id="p0188" num="0188">Still further, as illustrated in <figref idrefs="f0011">Fig. 12</figref>, the host computer 7 executes a process of setting, as the mask range, the other range than that designated by the operation of moving the cursor image g3.</p><p id="p0189" num="0189">As a result, when the surface height distribution information includes, for example, information of the other portions, such as the tread surface and the rim of the tire, than the sidewall surface, those extra portions can be excluded from the range as the inspection target.</p><p id="p0190" num="0190">As described above, the manual operation in the mask range changing process needs to be performed only on a deficient part of the automatically set mask range. Therefore, the manual operation in the mask range changing process is much simpler than the work of manually setting the mask ranges one by one for all of many embossed marks, which exist in the sidewall surface.</p><p id="p0191" num="0191">Moreover, the host computer 7 executes the checking-data designation process in addition the above-described mask range manual correction process. The checking-data designation process is a process of specifying checking data, which includes the surface height measurement values in part of the surface height distribution information regarding the sample of the tire 1 and the coordinate information of the those measured values, in accordance with an operation input entered through the operating unit 72, and recording the<!-- EPO <DP n="77"> --> specified checking data in a data storage unit within the computer main unit 7. The surface height measurement values included in the checking data represent one example of the registered surface shape information.</p><p id="p0192" num="0192">As illustrated in <figref idrefs="f0012">Fig. 13</figref>, by way of example, the host computer 7 records, for one or plural particular coordinates in the X-axis direction which are specified through the operation of moving the cursor image g3 and the operation of confirming the destination of the cursor movement, the surface height measurement values of one line in the Y-axis direction and their coordinate values at each of the specific coordinates, as the checking data, in the data storage unit. Hereinafter, the particular coordinates are called "checking position coordinates". The surface height measurement values of one line in the Y-axis direction means the surface height measurement values taken along one line extending thoroughly in the Y-axis direction.</p><p id="p0193" num="0193">A one-dot-chain line illustrated in <figref idrefs="f0012">Fig. 13</figref> is displayed on the display device 73 in a superimposed relation to the surface shape image g1, and it represents positions where the surface height measurement values included in the checking data are plotted. The checking data is designated as data corresponding to a specific embossed portion in the sidewall surface of the tire 1.</p><p id="p0194" num="0194">The checking data is used to detect a deviation between<!-- EPO <DP n="78"> --> the coordinate system for the coordinate information of the mask range and the coordinate system for the surface height distribution information obtained for each tire 1 as the inspection target.</p><p id="p0195" num="0195"><figref idrefs="f0012">Fig. 13</figref> illustrates an example in which one or plural sets of data of one line in the Y-axis direction are set as the checking data. As another example, the checking data may be all of the surface height distribution information for the sample of the tire 1, or data within a two-dimensional partial region designated by an operation input.</p><heading id="h0026">[Step S17]</heading><p id="p0196" num="0196">Then, the host computer 7 records the corrected coordinate information of the mask range and the checking data, which have been obtained through the mask-range manual correction process and the checking-data designation process (S16), in the data storage unit within the computer main unit 71 in a way correlated to an identification code representing the type of the tire 1 (S17). The mask range setting process is thereby completed.</p><p id="p0197" num="0197">Next, one example of procedures of the shape defect inspection process executed by the image processing device 6 and the host computer 7 for each tire 1 as the inspection target will be described below with reference to a flowchart illustrated in <figref idrefs="f0008">Fig. 9</figref>. It is here assumed that before the process illustrated in <figref idrefs="f0008">Fig. 9</figref> is executed, the shape<!-- EPO <DP n="79"> --> measurement process has been executed in the manner described above and the surface height distribution information regarding the sidewall surface of each tire 1 as the inspection target has been stored in the frame memory within the image processing device 6.</p><heading id="h0027">[Step S21]</heading><p id="p0198" num="0198">First, as in step S1 described above, the image processing device 6 executes a measured value normalization step (S1) for the surface height distribution information regarding the sidewall surface.</p><heading id="h0028">[Steps S22, S23]</heading><p id="p0199" num="0199">Next, the image processing device 6 executes a process of detecting a deviation of the coordinate system between the surface height distribution information, which has been obtained for each tire 1 as the inspection target, and the coordinate information of the mask range, which has been obtained from the sample of the tire 1 and received from the host computer 7 (S22, coordinate-system deviation detection step). Hereinafter, the surface height distribution information obtained for each tire 1 as the inspection target is called "inspection-use surface shape information".</p><p id="p0200" num="0200">As a matter of course, the tire 1 as the inspection target and the sample of the tire 1, from which the coordinate information of the mask range has been obtained to be used in the inspection, are of the same type. Prior<!-- EPO <DP n="80"> --> to the processing of step S22, the host computer 7 searches for the coordinate information of the mask range and the checking data, which have been obtained from the tire 1 of the same type as the tire 1 as the inspection target, based on the identification code representing the type of the tire 1, and delivers the search result to the image processing device 6.</p><p id="p0201" num="0201">In step S22, the image processing device 6 checks the surface height measurement values of one line in the Y-axis direction, which are included in the inspection-use surface shape information and which have been taken at the checking position coordinate in the X-axis direction, with the surface height measurement values of one line in the Y-axis direction, which are included in the checking data, while shifting the position in the Y-axis direction, and detects, as the deviation of the coordinate system in the Y-axis direction, a shift width at which discrepancies between both the measured values is minimized. When the checking data includes plural sets of the surface height measurement values of one line in the Y-axis direction, a shift width at which a total of the discrepancies obtained for all the sets is minimized is detected as the deviation of the coordinate system in the Y-axis direction.</p><p id="p0202" num="0202">Then, the image processing device 6 corrects the coordinate information of the mask range so that the<!-- EPO <DP n="81"> --> deviation of the coordinate system, detected in step S22, is eliminated (S23).</p><heading id="h0029">[Step S24]</heading><p id="p0203" num="0203">Next, the image processing device 6 executes a mask range interpolation step (S24) as follows.</p><p id="p0204" num="0204">In the mask range interpolation step, the image processing device 6 first calculates, per line in the Y-axis direction, interpolated values for those surface height measurement values, which fall within the mask range, based on those surface height measurement values, which are included in the inspection-use surface shape information and which fall outside the mask range. The interpolated values are gently-changing values and are typically interpolated by using a straight line, but they may be interpolated by using a curve of secondary degree as another example.</p><p id="p0205" num="0205">Further, the image processing device 6 replaces, per line in the Y-axis direction, those surface height measurement values, which are included in the inspection-use surface shape information stored in the frame memory and which fall within the mask range, with the interpolated values for the relevant surface height measurement values, and stores the replaced values in the frame memory. Thus, the inspection-use surface shape information after the interpolation, i.e., the inspection-use surface shape information after the process of replacing the surface<!-- EPO <DP n="82"> --> height measurement values falling within the mask range with the interpolated values, is used in the shape defect inspection process executed by the host computer 7.</p><heading id="h0030">[Step S25]</heading><p id="p0206" num="0206">Then, the host computer 7 executes the shape defect inspection process (S25) for the sidewall surface of the tire 1 in accordance with the predetermined rules by using the inspection-use surface shape information after the interpolation. One example of the shape defect inspection process will be described below. Be it noted that the following example does not represent the feature of the present invention.</p><p id="p0207" num="0207">First, the host computer 7 samples (selects), from among the inspection-use surface shape information after the interpolation, the information of the measured values (which may partly contain the interpolated values) of one line in the Y-axis direction to be a target of the shape defect inspection.</p><p id="p0208" num="0208">Next, the host computer 7 calculates a first index value, which is described below by way of example, as an index value for a local concave/convex defect (i.e., the bulges and the dent).</p><p id="p0209" num="0209">Low-pass filtering is first performed on the measured values of one line in the Y-axis direction through FFT with a preset number of orders (e.g., 50 orders) or less.<!-- EPO <DP n="83"> --></p><p id="p0210" num="0210">Then, for the measured values after the low-pass filtering, an angular range of about 7° is set as a window and the window is scanned over an angular range of 360°, which corresponds to all of those measured values, to calculate a difference between a maximum value and a minimum value among the measured values within each window range. The calculated difference is set to the first index value. When the first index value exceeds a predetermined value, it is determined that the relevant tire has the shape defect.</p><p id="p0211" num="0211">Further, the host computer 7 calculates a second index value, which is described below by way of example, as an index value for defect inspection (also called "Runout inspection") with respect to gentle concave/convex change over the entire circumference of the tire.</p><p id="p0212" num="0212">Low-pass filtering is first performed on the measured values of one line.in the Y-axis direction through FFT with a preset number of orders (e.g., 15 orders) or less.</p><p id="p0213" num="0213">Then, a difference between a maximum value and a minimum value among all the measured values after the low-pass filtering is calculated and set to the second index value. When the second index value exceeds a predetermined value, it is determined that the relevant tire has the shape defect.</p><p id="p0214" num="0214">When only partial coordinates (lines) within the range occupied by the inspection-use surface shape information in<!-- EPO <DP n="84"> --> the X-axis direction are designated as an inspection target region, the processing of step S25 is executed only on the inspection-use surface shape information corresponding to the designated lines. The inspection target region may be designated, for example, in a similar way to the above-described designation of the checking data (see <figref idrefs="f0012">Fig. 13</figref>).</p><p id="p0215" num="0215"><figref idrefs="f0005">Fig. 6</figref> illustrates, in the form of a binary image, one example of the mask range set based on the corrected binary distribution information, which has been obtained as the image illustrated in <figref idrefs="f0004">Fig. 5</figref>, through the processing of steps S8 to S16. In <figref idrefs="f0005">Fig. 6</figref>, a white region indicates the mask range.</p><p id="p0216" num="0216">In the tire shape inspection device W described above, the normalized surface height distribution information in the form of two-dimensional information is subjected to the known Sobel filtering while it remains as two-dimensional information (S2). Accordingly, even when the edges (contours) of the indication mark M are formed to extend in any direction in the two-dimensional coordinates, the edges can be detected reliably.</p><p id="p0217" num="0217">Further, with the labeling (S5), the same label value is set for each of edges of one design of indication mark M isolated from the others. The mask range to be excluded from the target of the shape defect inspection is set based on the filet coordinates (for each same label value) of<!-- EPO <DP n="85"> --> those edges (S6 to S14). Accordingly, the measured value of the not-raised portion located within the contours of the indication mark M is also excluded from the target of the shape defect inspection, and the relevant not-raised portion can be avoided from being erroneously detected as a shape defect portion. As seen from one example illustrated in <figref idrefs="f0005">Fig. 6</figref>, regions within the contours of the indication marks M, such as characters "A", "B" and "W", are each set to be included in the mask range.</p><p id="p0218" num="0218">Moreover, in the tire shape inspection device W, the measured values within the mask range, which are included in the inspection-use surface shape information, are replaced with the interpolated values that change gently (S24). Therefore, even when the shape defect inspection process is executed in the same algorithm regardless of the presence or the absence of the mask range, the shape within the mask range can be avoided from being erroneously detected as a shape defect portion.</p><p id="p0219" num="0219">Stated another way, the processing of step S24 is to replace those surface height measurement values, which are included in the inspection-use surface shape information and which correspond to the coordinate information of the mask range, with the interpolated values set based on the surface height measurement values falling outside the mask range. Thus, the processing of step S24 is one example of a mask-range<!-- EPO <DP n="86"> --> inspection exclusion step of, after correcting the deviation of the coordinate system, excluding those surface height measurement values, which are included in the inspection-use surface shape information and which correspond to the coordinate information of the mask range, from the target of the shape defect inspection process through the above-described interpolated value replacement process.</p><p id="p0220" num="0220">Further, because of the labeling (S5) being performed on the binary distribution information that has been subjected to the dilation (S4), even when the contours of the indication mark M partly include a portion where rising (change) of the surface height is comparatively gentle, such a portion can be recognized as a portion included within the contours of the indication mark M. As a result, that portion of the contours of the indication mark M can be avoided from being erroneously detected as a shape defect portion.</p><p id="p0221" num="0221">In the embodiment described above, the mask range is set per line in the Y-axis direction based on the filet coordinates of the label value through the processing of steps S8 to S14 illustrated in <figref idrefs="f0002">Fig. 3</figref>.</p><p id="p0222" num="0222">As another embodiment of the present invention, a rectangular range specified by the filet coordinates for each label value may be set as the mask range instead of the<!-- EPO <DP n="87"> --> processing of steps S8 to S14 illustrated in <figref idrefs="f0002">Fig. 3</figref>. In such a case, the labeling can be performed in the labeling step (S5) without the premise that the coordinates (Y-coordinates) of the opposite ends of the entire circumferential range Wy are adjacent to each other in the Y-axis direction.</p><p id="p0223" num="0223"><figref idrefs="f0006">Fig. 7</figref> illustrates, in the form of a binary image, the mask range when the mask range is given as a rectangular range that is specified by the filet coordinates for each label value based on the corrected binary distribution information, which has been obtained as the image illustrated in <figref idrefs="f0004">Fig. 5</figref>.</p><p id="p0224" num="0224">To more finely set the mask range, however, the processing of steps S8 to S14, illustrated in <figref idrefs="f0002">Fig. 3</figref>, is preferably employed.</p><p id="p0225" num="0225">The tire shape inspection device W is required to execute the processing of steps S2 to S15, which needs a high load of computation, for one sample for each type of the tire 1.</p><p id="p0226" num="0226">Also, the processing of steps S21 to S25 executed for each tire 1 as the inspection target needs a comparatively low load of computation by the processor and can be executed at a high speed even with a widely used processor.</p><p id="p0227" num="0227">Further, in the tire shape inspection device W, the automatically-set mask range can be corrected with the very<!-- EPO <DP n="88"> --> simple manual operation by executing the processing of steps S16 and S17 on the surface shape image g1 of the sidewall surface while visually confirming the mask range. Therefore, the correct mask range can be reliably set for many types of tires having various surface shapes.</p><p id="p0228" num="0228">Accordingly, when inspecting the shape defect in the sidewall surface of the tire 1 where the embossed indication marks M is formed, the tire shape inspection device W can execute at a high speed the process of reliably finding, from among the surface height measurement values, those measured values falling within the ranges where the indication marks M are formed.<br/>
As a result, the correct shape defect inspection can be performed in a short time by using the tire shape inspection device W.</p><p id="p0229" num="0229">In the embodiment described above, the processing of steps S1 to S17 and the processing of steps S21 to S25 are executed in a sharing manner by the image processing device 6 and the host computer 7, respectively, which are each one example of the processor.</p><p id="p0230" num="0230">In another embodiment, however, all of steps S1 to S17 and steps S21 to S25 may be executed by the host computer 7, for example. In still another embodiment, the processing of steps S1 to S17 and the processing of steps S21 to S25 may be executed in a sharing manner by three or more processors.<!-- EPO <DP n="89"> --></p><heading id="h0031">(Comparative Example)</heading><p id="p0231" num="0231">First, an overall configuration of a tire shape inspection device W according to one embodiment of the comparative example is described with reference to <figref idrefs="f0013">Fig. 14</figref>.</p><p id="p0232" num="0232">The tire shape inspection device W according to the comparative example executes a shape measurement process of measuring a surface height distribution of a tire 1 by picking up an image of line light that is emitted for irradiation of a surface of the rotating tire 1, and by executing shape detection with an optical cutting method based on the picked-up image. The shape measurement process provides surface height distribution information that represents a distribution of the surface height measurement values at various positions over a range of 360° in the circumferential direction of the surface of the tire 1. A measurement target of the surface height distribution information is a tread surface or a sidewall surface of the tire 1.</p><p id="p0233" num="0233">Further, the tire shape inspection device W executes a process of inspecting the shape defect in the surface of the tire 1 based on the surface height distribution information obtained with the shape measurement process, or based on inspection-use surface height distribution information, i.e., information that is obtained by modifying, as required, part of the former surface height distribution information.<!-- EPO <DP n="90"> --></p><p id="p0234" num="0234">As illustrated in <figref idrefs="f0013">Fig. 14</figref>, the tire shape inspection device W includes a tire rotating machine 2, sensor units 3, a unit driving device 4, an encoder 5, an image processing device 6, a host computer 7, etc. The tire rotating machine 2 is a rotating device, such as a motor, for rotating the tire 1 about its rotation axis 1g, which is a target of the shape detection.</p><p id="p0235" num="0235">The tire rotating machine 2 rotates the tire 1 at a rotational speed of 60 rpm, for example. Thus, during one second in which the tire 1 is rotated once, the tire shape inspection device W detects the surface shapes of the tread surface and the sidewall surface of the tire 1 over an entire circumferential range by using the sensor units 3 described later.</p><p id="p0236" num="0236">The sensor units 3 are each a unit incorporating a light source for irradiating the surface of the rotating tire 1 with a beam of line light, a camera for picking up an image of the line light on the surface of the tire 1, and so on. This embodiment includes a total of three sensor units 3, i.e., two sensor units 3a and 3c for use in the shape measurements of two sidewall surfaces of the tire 1, respectively, and one sensor unit 3b for use in the shape measurement of the tread surface of the tire 1.</p><p id="p0237" num="0237"><figref idrefs="f0013">Fig. 15</figref> illustrates an arrangement of components incorporated in each of the sensor units 3.<!-- EPO <DP n="91"> --></p><p id="p0238" num="0238">As illustrated in <figref idrefs="f0013">Fig. 15</figref>, the sensor unit 3 includes a light emitting device 10 for outputting plural beams of line light, and a camera 20.</p><p id="p0239" num="0239">In <figref idrefs="f0013">Fig. 15</figref>, an X-axis represents a direction tangential to the circumference of the tire rotation at a position where the shape of the tire 1 is detected, a Z-axis represents a direction of detection height at the position where the shape of the tire 1 is detected (i.e., a direction of surface height to be detected), and a Y-axis represents a direction orthogonal to both the X-axis and the Z-axis.</p><p id="p0240" num="0240">More specifically, in each of the sensor units 3a and 3c for use in the shape detection of the sidewall surfaces of the tire 1, the Z-axis is a coordinate axis representing the direction of the rotation axis 1g of the tire 1, and the X-axis is a coordinate axis representing the radial direction of the tire 1 (i.e., the direction normal to the direction of the rotation axis 1g of the tire 1).</p><p id="p0241" num="0241">Also, in the sensor unit 3b for use in the shape detection of the tread surface of the tire 1, the Z-axis is a coordinate axis representing the radial direction of the tire 1, and the X-axis is a coordinate axis representing the direction of the rotation axis 1g of the tire 1.</p><p id="p0242" num="0242">Further, in each of the sensor units 3a, 3b and 3c, the Y-axis is a coordinate axis representing the circumferential direction of the tire 1. Be it noted that the<!-- EPO <DP n="92"> --> correspondence relationship between the tire 1 and each coordinate axis may be changed depending on a manner of supporting the camera 20.</p><p id="p0243" num="0243">The light emitting device 10 includes a plurality (three in <figref idrefs="f0013">Fig. 15</figref>) of line light sources 11 to 13. In order that one optical cutting line is formed on one line Ls in the surface of the tire 1 by the plurality of line light sources 11 to 13, the light emitting device 10 emits plural beams of line light from directions differing from the direction of the detection height (i.e., the Z-axis direction) for the one line Ls (i.e., the optical cutting line) so as to continuously lie on the one line (namely, the light emitting device 10 emits the plural beams of line light to be overlapped at respective ends of adjacent beams of line light in a continuous relation such that the one line Ls is irradiated with one beam of line light as a whole).</p><p id="p0244" num="0244">The camera 20 includes a camera lens 22 and an image pickup element 21 (light receiving unit), and it picks up images v1 of the plural beams of line light impinging in a continuous relation upon the surface (i.e., the tread surface or the sidewall surface) of the tire 1 (namely, an image of the optical cutting line on the one line Ls).</p><p id="p0245" num="0245">Thus, with the sensor units 3a and 3c for the sidewall surfaces, in order that an optical cutting line (one<!-- EPO <DP n="93"> --> continuous optical cutting line) is formed on one line Ls extending in the radial direction of the tire 1 (i.e., in the Y-axis direction) in the sidewall surface of the tire 1, the light emitting device 10 emits plural beams of line light from directions differing from the direction of the detection height (i.e., the Z-axis direction) for the one line Ls (i.e., the optical cutting line) so as to continuously lie on the one line.</p><p id="p0246" num="0246">On the other hand, with the sensor unit 3b for the tread surface, in order that an optical cutting line is formed on one line Ls extending in a direction orthogonal to the circumferential direction of the tire in the tread surface of the tire 1, the light emitting device 10 emits plural beams of line light from directions differing from the direction of the detection height (i.e., the Z-axis direction) for the one line Ls (i.e., the optical cutting line) so as to continuously lie on the one line.</p><p id="p0247" num="0247">While this embodiment illustrates the case of emitting three beams of line light for each surface of the tire 1 (in each sensor unit 3), each surface of the tire 1 may be irradiated with two beams of line light or four or more beams of line light by increasing or decreasing the number of line light sources 11 to 13.</p><p id="p0248" num="0248">The light emitting device 10 and the camera 20 are held by holding mechanisms (not shown) such that a view field<!-- EPO <DP n="94"> --> range of the camera 20 exists in a direction in which respective principal rays (i.e., light propagating along a center line) in the plural beams of line light output from each of the line light sources 11 to 13 are regularly reflected by the surface of the tire 1. As a result, the camera 20 picks up respective images of the plural beams of line light in the directions in which the principal rays in the plural beams of line light are regularly reflected by the surface of the tire 1 (one example of the image pickup unit).</p><p id="p0249" num="0249">When a glossy tire surface is irradiated with line light, the intensity of regularly reflected light is greater than that of light reflected while scattering. With the above-described arrangement, therefore, a clear image of the line light emitted for irradiation of the tire surface can be obtained without enhancing the intensity of the line light even when the image of the line light is picked up at a sufficiently high image-pickup rate (e.g., 4000 or more frames per sec).</p><p id="p0250" num="0250">On the other hand, the unit driving device 4 (see <figref idrefs="f0013">Fig. 14</figref>) is a device for movably supporting each sensor unit 3 by using a driving device, e.g., a servo motor, as a driving source, and for properly positioning each sensor unit 3 with respect to the tire 1. In response to a predetermined operation made on an operating unit or a control command<!-- EPO <DP n="95"> --> from an external device, the unit driving device 4 positions each sensor unit 3 to a predetermined retracted position spaced from the tire 1 before the tire 1 is attached to the tire rotating machine 2, and to a predetermined inspection position near the tire 1 after the new tire 1 has been attached to the tire rotating machine 2.</p><p id="p0251" num="0251">Further, the encoder 5 is a sensor for detecting a rotational angle of a rotary shaft of the tire rotating machine 2, i.e., a rotational angle of the tire 1. A signal detected by the encoder 5 is used to control the timing at which the camera in the sensor unit 3 picks up an image.</p><p id="p0252" num="0252">The image processing device 6 executes shutter control of the camera in the sensor unit 3 (i.e., control of the image-pickup timing) in accordance with the signal detected by the encoder 5. For example, whenever the encoder 5 detects that the tire 1 rotating at the speed of 60 rpm has rotated 0.09° (= 360°/4000), the image processing device 6 makes control to release a shutter of the camera. As a result, the image is picked up at the image-pickup rate of 4000 frames per sec.</p><p id="p0253" num="0253">Further, the image processing device 6 receives the image picked up by the camera in the sensor unit 3, i.e., data of the picked-up image of the line light emitted for irradiation of the surface of the tire 1, executes the shape measurement process using the optical cutting method based<!-- EPO <DP n="96"> --> on the picked-up image, and stores surface height distribution information (i.e., a set of the surface height measurement values of the tire 1), which is given as the measurement result, in an internal frame memory.</p><p id="p0254" num="0254">The image processing device 6 is realized with a DSP (Digital Signal Processor), for example. Be it noted that the shape measurement process using the optical cutting method is known in the art, and hence the description thereof is omitted here.</p><p id="p0255" num="0255">The surface height distribution information regarding the sidewall surface of the tire 1 is such information that the surface height measurement value for each of the positions in the circumferential range of 360° over the sidewall surface is plotted in a two-dimensional coordinate system, which has a first coordinate axis (X-axis in this embodiment) representing the radial direction of the tire 1 and a second coordinate axis (Y-axis in this embodiment) representing the circumferential direction of the tire 1.</p><p id="p0256" num="0256">Also, the surface height distribution information regarding the tread surface of the tire 1 is such information that the surface height measurement value for each of the positions in the circumferential range of 360° over the tread surface is plotted in a two-dimensional coordinate system; which has an X-axis representing the direction parallel to the rotation axis of the tire 1 and a<!-- EPO <DP n="97"> --> Y-axis representing the circumferential direction of the tire 1.</p><p id="p0257" num="0257">Hereinafter, a range occupied by the surface height distribution information in the Y-axis direction (direction of the second coordinate axis), i.e., a Y-axis coordinate range corresponding to 360° in the circumferential direction of the tire 1, is called an "entire circumferential range Wy". The coordinates of opposite ends of the entire circumferential range Wy (i.e., the coordinate of a starting point and the coordinate of an ending point in the Y-axis direction) correspond to positions that are adjacent to each other in the circumferential direction on the actual surface of the tire 1.</p><p id="p0258" num="0258">Assuming that the surface height measurement value corresponds to a brightness value of each pixel in the image data, the surface height distribution information can be handled in a similar manner to monochromatic image data on the image processing device 6. Accordingly, the term "pixel" appearing in the following description is used as a term representing the position (coordinates) of each of the surface height measurement values in the above-described coordinate system of the X-axis and the Y-axis.</p><p id="p0259" num="0259">Embossed marks (such as characters, symbols, and figures) are formed in the sidewall surface of the tire 1. Hereinafter, the embossed mark is called an indication mark<!-- EPO <DP n="98"> --> M (see <figref idrefs="f0007">Fig. 8</figref>).</p><p id="p0260" num="0260">Further, the image processing device 6 executes a surface height distribution information modification process of replacing, for the surface height distribution information regarding the sidewall surface of the tire 1, those surface height measurement values within the range containing the indication mark M therein, which is to be excluded from the target of the shape defect inspection, with interpolated values that change gently. Then, the information regarding the sidewall surface, which has been obtained with the surface height distribution information modification process, and the surface height distribution information regarding the tread surface of the tire 1 are transferred as the inspection-use surface height distribution information to the host computer 7.</p><p id="p0261" num="0261">The host computer 7 is a computer including a CPU and peripheral devices. The CPU performs various types of computations and outputting of the computation results by executing programs that are previously stored in a memory.</p><p id="p0262" num="0262">More specifically, the host computer 7 executes the shape defect inspection process based on the inspection-use surface height distribution information regarding each surface of the tire 1, which is obtained from the image processing device 6. The shape defect inspection process is a process of determining whether the inspection-use surface<!-- EPO <DP n="99"> --> height distribution information regarding each surface of the tire 1 satisfies an allowable condition preset for each surface of the tire 1, and displaying the determination result on a predetermined display portion or outputting it as a predetermined control signal.</p><p id="p0263" num="0263">One example of procedures of a process for correcting the surface height distribution information regarding the sidewall surface of the tire, which is executed by the image processing device 6, will be described below with reference to a flowchart illustrated in <figref idrefs="f0014">Fig. 16</figref>. It is here assumed that, before the process illustrated in <figref idrefs="f0014">Fig. 16</figref> is executed, the shape measurement process has been executed in the manner described above and the surface height distribution information regarding the sidewall surface of a sample of the tire 1 has been stored in the frame memory. S31, S32, etc. in the following description denote symbols for identifying processing procedures (steps).</p><heading id="h0032">[Step S31]</heading><p id="p0264" num="0264">First, the image processing device 6 executes a measured value normalization step (S31) for the surface height distribution information regarding the sidewall surface. More specifically, the image processing device 6 normalizes, per line in the Y-direction, the surface height measurement values in the relevant surface height distribution information based on an average value of the<!-- EPO <DP n="100"> --> surface height measurement values of the one line, and stores the normalized surface height distribution information in the internal frame memory. Each value after the normalization is given, for example, as a value resulting from subtracting the average value from each of the surface height measurement values.</p><p id="p0265" num="0265">The normalized values obtained with the processing of step S31 represent surface height information after excluding components corresponding to the curved shape in the radial direction (X-axis direction), i.e., to the original shape of the sidewall surface of the tire 1. It is also conceivable, for example, to preset an ideal shape of the sidewall surface in the radial direction on an assumption that the indication marks M are not present, and to set, as the normalized value, a value resulting from subtracting a value of the ideal shape from each of the surface height measurement values.</p><heading id="h0033">[Step S32]</heading><p id="p0266" num="0266">Next, the image processing device 6 executes a filtering step (S32) of performing two-dimensional Sobel filtering on the surface height distribution information including the surface height measurement values that have been normalized in the measured value normalization step (S31), and storing gradient value distribution information, given as the filtering result, in the internal frame memory.<!-- EPO <DP n="101"> --></p><p id="p0267" num="0267">The Sobel filtering is a process of totalizing the results of multiplying respective values (normalized surface height measurement values) for a group of pixels in a predetermined number, which includes a certain target pixel and surrounding pixels, by coefficients preset depending on the positions of the pixels. Further, in the two-dimensional Sobel filtering, the multiplications of the coefficient and the totalizing of the multiplication results are performed by using two coefficient matrices that correspond respectively to the X-axis direction and the Y-axis direction, and the root of the square sum of both the totals is calculated as the processing result. Consequently, the processing result is obtained as a higher value as the surface height of the sidewall surface has a larger gradient. Hereinafter, the processing result for each pixel obtained with the two-dimensional Sobel filtering is called a "gradient value", and a set of respective gradient values of the pixels in the X-Y coordinate system is called "gradient value distribution information". Be it noted that the two-dimensional Sobel filtering is known in the art, and hence the detailed description thereof is omitted here.</p><p id="p0268" num="0268">Further, in the filtering step (S32), the Sobel filtering is executed on the premise that the coordinates (Y-coordinates) of the opposite ends of the entire circumferential range. Wy are adjacent to each other in the<!-- EPO <DP n="102"> --> Y-axis direction, thus enabling the gradient value to be obtained for each of pixels near the opposite ends of the entire circumferential range Wy.</p><p id="p0269" num="0269">In the two-dimensional Sobel filtering for the tire shape inspection, the gradient value of the target pixel is calculated based on values of a group of 9 pixels including the target pixel and surrounding 8 pixels, or values of a group of 25 pixels including the group of 9 pixels and surrounding 16 pixels.</p><heading id="h0034">[Step S33]</heading><p id="p0270" num="0270">Then, the image processing device 6 executes a binarization step (S33) of binarizing the gradient value distribution information and storing the binary distribution information, given as the processing result, in the frame memory. With the binarization step, an ON value (e.g., 1) is set to a pixel of which value (gradient value) is equal to or greater than a preset threshold, and an OFF value (e.g., 0) is set to other pixels.</p><p id="p0271" num="0271">With the above-described processing of steps S31 to S33, even when the edges (contours) of the indication mark M are formed to extend in any direction in the two-dimensional coordinates, those edges can be detected reliably. Thus, steps S32 and S33 represent one example of a two-dimensional edge detection step of detecting the edges of the embossed indication mark M by executing a two-dimensional edge<!-- EPO <DP n="103"> --> detection process (i.e., the two-dimensional Sobel filtering and the binarization) on the surface height distribution information, and storing the detection result (two-dimensional edge distribution information) in the frame memory.</p><p id="p0272" num="0272"><figref idrefs="f0003">Fig. 4</figref> illustrates, in the form of an image, one example of the binary distribution information regarding the sidewall surface, which is obtained with the processing of step S33. In <figref idrefs="f0003">Fig. 4</figref>, a black region represents a region where the pixel in the binary distribution information has the OFF value (= 0), and a white region represents a region where the pixel in the binary distribution information has the ON value (= 1). In other words, the white region in <figref idrefs="f0003">Fig. 4</figref> represents the edge of the indication mark M.</p><heading id="h0035">[Step S34]</heading><p id="p0273" num="0273">Next, the image processing device 6 executes a binary distribution information correction step (S34) of performing a predetermined correction process on the binary distribution information, and storing information after the correction (i.e., corrected binary distribution information) in the frame memory.</p><p id="p0274" num="0274">More specifically, in step S34, the image processing device 6 executes the so-called dilation on the binary distribution information. The dilation is a process of, when at least one ON value (= 1) exists near a certain<!-- EPO <DP n="104"> --> target pixel (e.g., among 4 or 8 pixels surrounding the target pixel) in the binary distribution information that can be regarded as binary image information, the value of the relevant target pixel is corrected to the ON value (= 1).</p><p id="p0275" num="0275">As a result of the dilation, even when the contour of the indication mark M includes a portion where rising (change) of the surface height is comparatively gentle, such a portion is recognized as a part of the contour of the indication mark M.</p><p id="p0276" num="0276"><figref idrefs="f0004">Fig. 5</figref> illustrates, in the form of an image, the corrected binary distribution information after the dilation executed on the binary image information that has been obtained as an image illustrated in <figref idrefs="f0003">Fig. 4</figref>. In <figref idrefs="f0004">Fig. 5</figref>, a black region represents a region where the pixel in the corrected binary distribution information has the OFF value (= 0), and a white region represents a region where the pixel in the corrected binary distribution information has the ON value (= 1). In other words, the white region in <figref idrefs="f0004">Fig. 5</figref> represents the edge of the indication mark M.</p><p id="p0277" num="0277">The known process of excluding an isolated point may be performed prior to the dilation, as part of the above-described correction process, so that noises caused by small extraneous matters, small projections, etc. on the sidewall surface, will not be increased.</p><heading id="h0036">[Step S35]</heading><!-- EPO <DP n="105"> --><p id="p0278" num="0278">Next, the image processing device 6 executes a labeling step (S35) of performing labeling on the corrected binary distribution information that has been obtained with the processing of step S34, and storing label distribution information, given as the labeling result, in the frame memory.</p><p id="p0279" num="0279">The labeling is the known process of assigning the same label for each of connected pixels, and the label distribution information is information resulting from setting the label value to a value of each pixel that has the ON value (= 1) in the corrected binary distribution information.</p><p id="p0280" num="0280">In this step S35, as in the above-described step S32, the labeling is executed on the premise that the coordinates (Y-coordinates) of the opposite ends of the entire circumferential range Wy are adjacent to each other in the Y-axis direction. As a result, even when connected pixels corresponding to the edge of the indication mark M are separated (disconnected) to the starting end side and the terminating end side of the entire circumferential range Wy due to the starting position of the shape measurement process, the same label value is set to those pixels.</p><p id="p0281" num="0281">As an alternative, the labeling may be executed in step S35 on the binary distribution information before the correction, which has been obtained with the processing of<!-- EPO <DP n="106"> --> step S33, by omitting the binary distribution information correction step in step S34.</p><heading id="h0037">[Step S36]</heading><p id="p0282" num="0282">Next, the image processing device 6 executes a filet coordinate detection step (S36) of detecting, for each label value in the label distribution information obtained with the processing of step S35, filet coordinates of the relevant label value, and storing the filet coordinates in the predetermined internal memory. The filet coordinates are, as known in the art, coordinates representing a rectangular range surrounding a group of pixels (connected pixels) having the same label value with a minimum area.</p><heading id="h0038">[Steps S37 to S44]</heading><p id="p0283" num="0283">Next, the image processing device 6 executes a mask range setting step (S37 to S44) of setting, based on the filet coordinates of the label value which have been obtained in step S36, coordinates of a mask range including the range where the indication mark M exists, and storing the set coordinates in the internal memory. The term "mask range" means a range surrounding, for each group of pixels to which the same label value is set in the label distribution information, the relevant group of pixels.</p><p id="p0284" num="0284">Details of the mask range setting step will be described below.</p><heading id="h0039">[Step S37]</heading><!-- EPO <DP n="107"> --><p id="p0285" num="0285">First, the image processing device 6 executes a label presence pattern determination step (S37) of determining, for each label value in the label distribution information, that a pattern of the label-value presence range in the Y-direction (circumferential direction) is which one of preset three types of presence patterns, based on the filet coordinates of the relevant label value (i.e., of the connected pixels), and storing the determination result in the internal memory.</p><p id="p0286" num="0286">The three types of presence patterns are the following three patterns P1 to P3. Images corresponding to those patterns P1 to P3 are illustrated in <figref idrefs="f0005">Fig. 6</figref>.</p><p id="p0287" num="0287">The first one is an entire-circumference pattern P1 (corresponding to the first presence pattern) in which the label value exists continuously over the entire circumferential range Wy.</p><p id="p0288" num="0288">The second one is a separated pattern P2 (corresponding to the second presence pattern) in which the label value exists separately in a region including the starting end (one end) of the entire circumferential range Wy and a region including the terminating end (the other end) thereof.</p><p id="p0289" num="0289">The third one is an ordinary pattern P3 (corresponding to the third presence pattern) in which the label value is in the other state than those of the entire-circumference pattern and the separated pattern.<!-- EPO <DP n="108"> --></p><p id="p0290" num="0290">For example, the image processing device 6 determines, for a certain target label value, whether the starting end and the terminating end in the Y-axis direction of the range represented by the filet coordinates coincide respectively with the starting end and the terminating end of the entire circumferential range Wy. If the coincidence is determined, the image processing device 6 determines whether the target label value exists in both ranges defined by dividing the entire circumferential range Wy into two equal parts. If the determination result shows that the target label value exists in both the ranges, the image processing device 6 determines that the target label value is in the entire-circumference pattern. If not so, the image processing device 6 determines that the target label value is in the separated pattern.</p><p id="p0291" num="0291">Further, if the starting end and the terminating end in the Y-axis direction of the range represented by the filet coordinates of the target label value do not coincide respectively with the starting end and the terminating end of the entire circumferential range Wy, the image processing device 6 determines that the target label value is in the ordinary pattern.</p><heading id="h0040">[Step S38]</heading><p id="p0292" num="0292">Next, the image processing device 6 sets (selects) the X-axis coordinate one by one and samples (selects), from<!-- EPO <DP n="109"> --> among the label distribution information stored in the frame memory, information of the label values of one line in the Y-axis direction at the set X-axis coordinate, as information for use in a process of setting the mask range (S38). After this step, the image processing device 6 executes the following processing of steps S39 to S44 whenever the information of the label values of one line in the Y-axis direction is sampled.</p><p id="p0293" num="0293">The X-axis coordinates set for the above-described sampling may be all of the coordinates (pixels) in the range occupied by the surface height distribution information in the X-axis direction or part of the coordinates (pixels) extracted at predetermined intervals depending on the spatial resolution that is required for the shape defect inspection. So long as the set X-axis coordinates are in the range of the spatial resolution allowable for the shape defect inspection, the X-axis coordinates are preferably set at larger intervals from the viewpoint of reducing the computation load.</p><p id="p0294" num="0294">Next, the image processing device 6 executes a per-line mask range setting step (S39 to S42, S43 or S44) of setting, per line in the Y-axis direction which has been sampled in step S38, coordinates of the mask range on the relevant one line in the Y-axis direction based on the respective determination results of the presence pattern of the label<!-- EPO <DP n="110"> --> values existing on the relevant one line and the positions of the label values, and storing the set coordinates in the internal memory.</p><p id="p0295" num="0295">A practical example of the per-line mask range setting step will be described below.</p><heading id="h0041">[Steps S39 to S42]</heading><p id="p0296" num="0296">First, if the presence pattern (determination result) of the target label value is the entire-circumference pattern P1 (first presence pattern), the image processing device 6 counts the number of the target label values (S39) and determines whether the count number is equal to or greater than a preset number (setting number) (S40).</p><p id="p0297" num="0297">If it is determined that the count number of the target label values is equal to or greater than the setting number, the image processing device 6 sets the entire one line in the Y-axis direction (i.e., the entire circumferential range Wy), which is sampled at that time, to the mask range (S41).</p><p id="p0298" num="0298">On the other hand, if it is determined that the count number of the target label values is less than the setting number, the image processing device 6 sets only the positions where the target label values exist on the one line in the Y-axis direction, which is sampled at that time, to the mask range (S12).</p><heading id="h0042">[Step S43]</heading><p id="p0299" num="0299">Meanwhile, if the presence pattern (determination<!-- EPO <DP n="111"> --> result) of the target label value is the separated pattern P2 (second presence pattern), the image processing device 6 sets, to the mask range, a range from each of the opposite ends of the entire circumferential range Wy to the position of the target label value farthest away from the corresponding one of the opposite ends (i.e., from the starting end position or the terminating end position) of the entire circumferential range Wy in each of two halved ranges of the entire circumferential range Wy (S43).</p><p id="p0300" num="0300">More specifically, in the range from the starting end position to the mid position of the entire circumferential range Wy, a range starting from the relevant starting end position and ending at the position of the target label value nearest to the mid position is set to the mask range. Further, in the range from the mid position to the terminating end position of the entire circumferential range Wy, a range starting from the position of the target label value nearest to the mid position and ending at the relevant terminating end position is set to the mask range.</p><heading id="h0043">[Step S44]</heading><p id="p0301" num="0301">Further, if the presence pattern (determination result) of the target label value is the ordinary pattern P3, the image processing device 6 sets, to the mask range, a range covering all the positions where the target label values exist (S44).<!-- EPO <DP n="112"> --></p><p id="p0302" num="0302">More specifically, a range starting from the position of the target label value nearest to the starting end position of the entire circumferential range Wy and ending at the position of the target label value nearest to the terminating end position of the entire circumferential range Wy is set to the mask range.</p><p id="p0303" num="0303">The above-described processing of steps S39 to S44 is executed for each same label value on the sampled one line in the Y-axis direction, and a range resulting from taking logical OR of the mask ranges set for each label value is set to a final mask range in the relevant one line.</p><heading id="h0044">[Step S45]</heading><p id="p0304" num="0304">Then, whenever the final mask range is set for the sampled one line in the Y-axis direction, the image processing device 6 executes a mask range interpolation step (S45) as follows.</p><p id="p0305" num="0305">In the mask range interpolation step, the image processing device 6 first calculates, with respect to the line in the Y-axis direction for which the mask range has been set, interpolated values for those surface height measurement values, which fall within the mask range, based on those surface height measurement values, which are included in the surface height distribution information and which fall outside the mask range. The interpolated values are gently-changing values and are typically interpolated by<!-- EPO <DP n="113"> --> using a straight line, but they may be interpolated by using a curve of secondary degree as another example.</p><p id="p0306" num="0306">Further, the image processing device 6 replaces, with respect to the line in the Y-axis direction for which the mask range has been set, those surface height measurement values, which are included in the surface height distribution information stored in the frame memory and which fall within the mask range, with the interpolated values for the relevant surface height measurement values, and stores the replaced values in the frame memory. Thus, the surface height distribution information after replacing those surface height measurement values falling within the mask range as described above is the inspection-use surface height distribution information that is used in the shape defect inspection process executed by the host computer 7.</p><heading id="h0045">[Step S46 and S47]</heading><p id="p0307" num="0307">Thereafter, the image processing device 6 makes control such that the above-described processing of steps S38 to S45 is repeated until the sampling (S38) in a predetermined number is finished (S46). As a result, the inspection-use surface height distribution information regarding the sidewall surface of the tire 1 is obtained.</p><p id="p0308" num="0308">Then, the image processing device 6 transfers the inspection-use surface height distribution information regarding the sidewall surface of the tire 1 to the host<!-- EPO <DP n="114"> --> computer 7, which executes the shape defect inspection process by using the transferred information (S47).</p><p id="p0309" num="0309">When only partial coordinates (lines) in the range occupied by the surface height distribution information in the X-axis direction have been sampled in step S38, the other information than that corresponding to the sampled positions (lines) is not included in the inspection-use surface height distribution information.</p><p id="p0310" num="0310">Then, the host computer 7 executes the shape defect inspection process (S48) for the sidewall surface of the tire 1 in accordance with the predetermined rules by using the inspection-use surface shape information (i.e., the surface height distribution information after replacing those the surface height measures values falling within the mask range with the interpolated values). One example of the shape defect inspection process will be described below. Be it noted that the following example does not represent the feature of the present invention.</p><p id="p0311" num="0311">First, the host computer 7 samples (selects), from among the inspection-use surface height distribution information, the information of the measured values (which may partly include the interpolated values) of one line in the Y-axis direction to be a target of the shape defect inspection.</p><p id="p0312" num="0312">Next, the host computer 7 calculates a first index<!-- EPO <DP n="115"> --> value, which is described below by way of example, as an index value for a local concave/convex defect (i.e., the bulges and the dent).</p><p id="p0313" num="0313">Low-pass filtering is first performed on the measured values of one line in the Y-axis direction through FFT with a preset number of orders (e.g., 50 orders) or less.</p><p id="p0314" num="0314">Then, an angular range of about 7° is set as a window, and the window is scanned over an angular range of 360°, which corresponds to all of the measured values after the low-pass filtering, to calculate a difference between a maximum value and a minimum value among the measured values in each window range. The calculated difference is set to the first index value. When the first index value exceeds a predetermined value, it is determined that the relevant tire has the shape defect.</p><p id="p0315" num="0315">Further, the host computer 7 calculates a second index value, which is described below by way of example, as an index value for defect inspection (also called "Runout inspection") with respect to gentle concave/convex change over the entire circumference of the tire.</p><p id="p0316" num="0316">Low-pass filtering is first performed on the measured values of one line in the Y-axis direction through FFT with a preset number of orders (e.g., 15 orders) or less.</p><p id="p0317" num="0317">Then, a difference between a maximum value and a minimum value among all the measured values after the low-pass<!-- EPO <DP n="116"> --> filtering is calculated and set to the second index value. When the second index value exceeds a predetermined value, it is determined that the relevant tire has the shape defect.</p><p id="p0318" num="0318"><figref idrefs="f0005">Fig. 6</figref> illustrates, in the form of a binary image, one example of the mask range set based on the corrected binary distribution information, which has been obtained as the image illustrated in <figref idrefs="f0004">Fig. 5</figref>, through the processing of steps S38 to S46. In <figref idrefs="f0005">Fig. 6</figref>, a white region indicates the mask range.</p><p id="p0319" num="0319">In the tire shape inspection device W described above, the normalized surface height distribution information in the form of two-dimensional information is subjected to the known Sobel filtering while it remains as two-dimensional information (S32). Accordingly, even when the edges (contours) of the indication mark M are formed to extend in any direction in the two-dimensional coordinates, the edges can be detected reliably.</p><p id="p0320" num="0320">Further, with the labeling (S5), the same label value is set for each of edges of <u>one design of indication mark M</u> isolated from the others. The mask range to be excluded from the target of the shape defect inspection is set based on the filet coordinates (for each same label value) of those edges (S36 to S44). Accordingly, the measured value of the not-raised portion located within the contours of the<!-- EPO <DP n="117"> --> indication mark M is also excluded from the target of the shape defect inspection, and the relevant not-raised portion can be avoided from being erroneously detected as a shape defect portion. As seen from one example illustrated in <figref idrefs="f0005">Fig. 6</figref>, portions within the contours of the indication marks M, such as characters "A", "B" and "W", are each set to be included in the mask range.</p><p id="p0321" num="0321">Moreover, in the tire shape inspection device W, the measured values within the mask range are replaced with the interpolated values that change gently (S45). Therefore, even when the shape defect inspection process is executed in the same algorithm regardless of the presence or the absence of the mask range, the shape within the mask range can be avoided from being erroneously detected as a shape defect portion.</p><p id="p0322" num="0322">Further, because of the labeling (S35) being performed on the binary distribution information that has been subjected to the dilation (S34), even when the contours of the indication mark M partly include a portion where rising (change) of the surface height is comparatively gentle, such a portion can be recognized as a portion included within the contours of the indication mark M. As a result, that portion of the contours of the indication mark M can be avoided from being erroneously detected as a shape defect portion.<!-- EPO <DP n="118"> --></p><p id="p0323" num="0323">In the embodiment described above, the mask range is set per line in the Y-axis direction based on the filet coordinates for the label value through the processing of steps S38 to S44 illustrated in <figref idrefs="f0014">Fig. 16</figref>.</p><p id="p0324" num="0324">As another embodiment of the comparative example, a rectangular range specified by the filet coordinates for each label value may be set as the mask range instead of the processing of steps S38 to S44 illustrated in <figref idrefs="f0014">Fig. 16</figref>. In such a case, the labeling can be performed in the labeling step (S35) without the premise that the coordinates (Y-coordinates) of the opposite ends of the entire circumferential range Wy are adjacent to each other in the Y-axis direction.</p><p id="p0325" num="0325"><figref idrefs="f0006">Fig. 7</figref> illustrates, in the form of a binary image, the mask range when the mask range is given as a rectangular range that is specified by the filet coordinates for each label value based on the corrected binary distribution information, which has been obtained as the image illustrated in <figref idrefs="f0004">Fig. 5</figref>.</p><p id="p0326" num="0326">To more finely set the mask range, however, the processing of steps S38 to S44, illustrated in <figref idrefs="f0014">Fig. 16</figref>, is preferably employed.</p><p id="p0327" num="0327">Secondary problems caused in the above-described embodiments will be described below.</p><p id="p0328" num="0328">In some cases, many recesses that are so small as not<!-- EPO <DP n="119"> --> to become the target of the shape defect inspection are formed in the sidewall surface of the tire 1. When an image of the sidewall surface of the tire 1 is picked up by the camera 20 in the direction in which the principal ray of the line light is regularly reflected, the light reflected by the small recesses does not reach the camera 20. This raises a problem that a clear, i.e., highly-bright image of the optical cutting line cannot be obtained for the positions corresponding to areas of the small recesses in the image picked up by the camera 20. Hereinafter, such a problem is called a "problem attributable to the small recess".</p><p id="p0329" num="0329">In some of the tires 1, a belt-like projected or recessed mark is formed in the sidewall surface of the tire almost thoroughly in the circumferential direction. Hereinafter, such a mark is called an "annular mark". In some others of the tires 1, many projected or recessed marks are formed in the sidewall surface of the tire so as to lie on a line almost thoroughly in the circumferential direction. Hereinafter, a set of those plural marks is called a "group of quasi-annular marks".</p><p id="p0330" num="0330"><figref idrefs="f0015">Fig. 17</figref> illustrates, in terms of an X-Y coordinate system, the sidewall surface of the tire in which the annular mark is formed. <figref idrefs="f0016">Fig. 18</figref> illustrates, in terms of an X-Y coordinate system, the sidewall surface of the tire in<!-- EPO <DP n="120"> --> which the group of quasi-annular marks is formed.</p><p id="p0331" num="0331">In <figref idrefs="f0015">Figs. 17</figref> and <figref idrefs="f0016">18</figref>, a region filled with black represents a region of the projected or recessed mask.</p><p id="p0332" num="0332"><figref idrefs="f0015">Figs. 17</figref> and <figref idrefs="f0016">18</figref> illustrate examples in which the annular mark and the group of quasi-annular marks exist parallel to the Y-axis direction. In the image picked up by the camera 20, however, the annular mark and the group of quasi-annular marks appear with a slight deviation relative to a direction parallel to the Y-axis direction. The causes may be, e.g., an error in the mark-formed position with respect to the tire, a shift of the rotation axis of the tire, and a shift of the direction in which the image is picked up by the camera 20.</p><p id="p0333" num="0333">When the annular mark illustrated in <figref idrefs="f0015">Fig. 17</figref> is formed in the sidewall surface of the tire 1 and a boundary line of a region Wxa, in which the annular mark is formed, is deviated relative to the Y-axis direction, the following problem occurs even in the above-described embodiments.</p><p id="p0334" num="0334">For convenience of explanation, the surface height measurement values of the tire 1 before the normalization, which is obtained with the shape measurement process using the optical cutting method, is called "pre-normalization height measured values". Also, the height measured values normalized based on the average value of the pre-normalization height measured values of one line in the<!-- EPO <DP n="121"> --> circumferential direction (Y-axis direction) of the tire 1 is called "post-normalization height measured values".</p><p id="p0335" num="0335">When the direction of the boundary line of the region Wxa, in which the annular mark is formed, is deviated relative to the Y-axis direction, a projected or recessed portion and the other portion being neither projected nor recessed exist on one line in the circumferential direction (Y-axis direction) of the tire in a mixed manner near the position of the boundary line of the annular mark in the radial direction of the tire 1, i.e., in the X-axis direction. In such a situation, there occurs a phenomenon that the post-normalization height measured values represent an incorrect shape differing from the actual shape of the sidewall surface of the tire 1. This results in erroneous detection of the shape defect. Hereinafter, such a problem is called a "problem attributable to the annular mark". The problem attributable to the annular mark similarly arises when the group of quasi-annular marks is formed in the sidewall surface of the tire and the direction of a boundary line of a region Wxa', in which the group of quasi-annular marks is formed, is deviated relative to the Y-axis direction.</p><p id="p0336" num="0336">Another example of procedures of the process for correcting the surface height distribution information regarding the sidewall surface of the tire, which is<!-- EPO <DP n="122"> --> executed by the image processing device 6, will be described below with reference to a flowchart illustrated in <figref idrefs="f0017">Fig. 19</figref>.</p><p id="p0337" num="0337">The process illustrated in <figref idrefs="f0017">Fig. 19</figref> is an application example of the process illustrated in <figref idrefs="f0014">Fig. 16</figref>. In other words, the process illustrated in <figref idrefs="f0017">Fig. 19</figref> is partly modified from the process illustrated in <figref idrefs="f0002">Fig. 3</figref> in order to solve the problem attributable to the small recess and the problem attributable to the annular mark.</p><p id="p0338" num="0338">The process illustrated in <figref idrefs="f0017">Fig. 19</figref> will be described below only about part modified from the process illustrated in <figref idrefs="f0014">Fig. 16</figref>. Be it noted that, in the flowchart of <figref idrefs="f0017">Fig. 19</figref>, part of the same procedures as those in the process illustrated in <figref idrefs="f0014">Fig. 16</figref> is omitted. Further, in <figref idrefs="f0017">Fig. 19</figref>, the same procedures as those in the process illustrated in <figref idrefs="f0014">Fig. 16</figref> are denoted by the same identification symbols.</p><p id="p0339" num="0339">In the process illustrated in <figref idrefs="f0017">Fig. 19</figref>, a shape measurement process using the above-described optical cutting method (i.e., an optical-cutting-method shape detection step) is executed in step S30-1 before a process (S31') of normalizing the surface height distribution information is executed.</p><p id="p0340" num="0340">More specifically, in step S30-1, the image processing device 6 detects, from the image picked up by the camera 20, the optical cutting line having brightness equal to or greater than a preset threshold,. Further, the image<!-- EPO <DP n="123"> --> processing device 6 obtains, from the position of the detected optical cutting line, the pre-normalization height measured values plotted in the two-dimensional coordinate system, which has the X-axis direction representing the radial direction of the tire 1 and the Y-axis direction representing the circumferential direction of the tire 1, and stores the surface height distribution information including the obtained pre-normalization height measured values in the frame memory within the image processing device 6.</p><p id="p0341" num="0341">As a result, the surface height distribution information before the normalization, regarding the sidewall surface of the tire 1, is stored in the frame memory within the image processing device 6.</p><p id="p0342" num="0342">As mentioned above, however, when the small recesses exist in the sidewall surface of the tire 1, the optical cutting line having brightness equal to or greater than the preset threshold cannot be detected in the shape measurement process (S30-1) using the optical cutting method for the positions (coordinates) that correspond to the small recesses in the image picked up by the camera 20, and hence the pre-normalization height measured values cannot be obtained.</p><p id="p0343" num="0343">For convenience of explanation, with respect to a portion in which the optical cutting line having brightness<!-- EPO <DP n="124"> --> equal to or greater than the preset threshold has been detected in the shape measurement process (S30-1) using the optical cutting method, the pre-normalization height measured value obtained corresponding to the position of the detected optical cutting line is called an "effective height detected value". Further, with respect to a portion in which the optical cutting line having brightness equal to or greater than the preset threshold has not been detected in the shape measurement process (S30-1) using the optical cutting method, predetermined information indicating that the optical cutting line has not been detected in the relevant portion, e.g., information such as "0" or "NULL", is set to a location in the surface height distribution information, which corresponds to the relevant portion.</p><p id="p0344" num="0344">After the shape measurement process (S30-1, the optical-cutting-method shape detection step) using the optical cutting method, the image processing device 6 calculates (S30-2), per line in the Y-axis direction, an average value Have of the effective height detected values of the one line from the surface height distribution information before the normalization, for which the effective height detected values have been set. As a result, a data train in the X-axis direction, which includes data of the average value Have of the effective height detected values per line in the Y-axis direction. Hereinafter, such<!-- EPO <DP n="125"> --> a data train is called an "effective-height average value data train".</p><p id="p0345" num="0345">Further, the image processing device 6 executes differentiation on the effective-height average value data train and detects, for the effective-height average value data train, an average height abruptly-changed coordinate xb, i.e., an X-axis coordinate at which an absolute value of the differential value is equal to or greater than a preset threshold (S30-2, average height abruptly-changed coordinate detection step).</p><p id="p0346" num="0346"><figref idrefs="f0018">Fig. 20</figref> illustrates one example of the effective-height average value data train in the form of a graph in which the horizontal axis represents the X-axis corresponding to the radial direction of the tire 1 and the vertical axis represents the average value Have of the effective height detected values.</p><p id="p0347" num="0347">When the annular mark exists in the sidewall surface of the tire 1, the effective-height average value data train is obtained, as illustrated in <figref idrefs="f0018">Fig. 20</figref>, such that the average value Have of the effective height detected values is abruptly changed at each boundary position of the range corresponding to the region Wxa in which the annular mark is formed. This is similarly applied to the case where the group of quasi-annular marks exists in the sidewall surface of the tire 1.<!-- EPO <DP n="126"> --></p><p id="p0348" num="0348">The example illustrated in <figref idrefs="f0018">Fig. 20</figref> represents the case where the projected annular mark is formed in the sidewall surface of the tire 1.</p><p id="p0349" num="0349">Further, as illustrated in <figref idrefs="f0018">Fig. 20</figref>, the average height abruptly-changed coordinate xb detected in step S30-2 represents each boundary position of the range corresponding to the region Wxa or Wxa' in the sidewall surface of the tire 1 where the annular mark or the quasi-annular marks are formed.</p><p id="p0350" num="0350">Then, the image processing device 6 executes the measured value normalization step (S31'), as described below, for the surface height distribution information regarding the sidewall surface of the tire 1. This step S31' corresponds to the measured value normalization step (S31) in the example illustrated in <figref idrefs="f0014">Fig. 16</figref>.</p><p id="p0351" num="0351">More specifically, the image processing device 6 sets the surface height measurement values per line in the Y-axis direction, which are included in the surface height distribution information, in accordance with the following two rules.</p><p id="p0352" num="0352">The first rule is to set, for a portion in the relevant one line where the optical cutting line having brightness equal to or greater than the preset threshold has been detected, the effective height detected value in the relevant portion to a value normalized based on the average<!-- EPO <DP n="127"> --> value Have of the effective height detected values of the relevant one line.</p><p id="p0353" num="0353">The second rule is to set, for the other portion in the relevant one line, the value interpolated based on the effective height detected values of the relevant one line to the value normalized based on the average value Have of the effective height detected values of the relevant one line.</p><p id="p0354" num="0354">In each of the first rule and the second rule, the value normalized based on the average value Have of the effective height detected values is given as, e.g., a value obtained by dividing the value as a target of the normalization by the average value Have of the effective height detected values, or a value obtained by subtracting the average value Have of the effective height detected values from the value as a target of the normalization.</p><p id="p0355" num="0355">Also, in the second rule, the other portion in the relevant one line means the portion where the optical cutting line having brightness equal to or greater than the preset threshold has not been detected.</p><p id="p0356" num="0356">Further, the interpolated value in the second rule may be, e.g., the average value Have of the effective height detected values of one line in the Y-axis direction. As an alternative, the interpolated value in the second rule may be a value interpolated, using a straight line, based on the effective height detected values of one line in the Y-axis<!-- EPO <DP n="128"> --> direction.</p><p id="p0357" num="0357">After executing the processing of steps S30-1, S30-2 and S31', the image processing device 6 executes the processing of steps S33 to S37 illustrated in <figref idrefs="f0014">Fig. 16</figref>. Thus, in the steps S32 and S33 which represent one example of the above-described two-dimensional edge detection step, the image processing device 6 executes the above-described two-dimensional edge detection process on the surface height distribution information including the surface height measurement values that have been normalized in the measured value normalization step of step S31'.</p><p id="p0358" num="0358">Further, after executing the processing of steps S33 to S47 illustrated in <figref idrefs="f0014">Fig. 16</figref>, the image processing device 6 executes loop processing of steps S38 to S46 illustrated in <figref idrefs="f0014">Fig. 16</figref> and the processing of step S47 illustrated in <figref idrefs="f0014">Fig. 16</figref>.</p><p id="p0359" num="0359">Then, the host computer 7 executes the shape defect inspection process (S48) regarding the sidewall surface of the tire 1 by using the inspection-use surface height distribution information.</p><p id="p0360" num="0360">In the example illustrated in <figref idrefs="f0017">Fig. 19</figref>, however, the image processing device 6 executes a process of excluding, from the target of the shape defect inspection process, a region spanning entirely in the Y-axis direction within a coordinate range having a predetermined width and containing<!-- EPO <DP n="129"> --> the average height abruptly-changed coordinate xb on the X-axis, which are included in the surface height distribution information (S41 and S42, defect-inspection exclusion region setting step).</p><p id="p0361" num="0361">While there are various practical examples of the defect-inspection exclusion region setting step, one of those examples is described below.</p><p id="p0362" num="0362">The defect-inspection exclusion region setting step (S41 and S42) illustrated in <figref idrefs="f0017">Fig. 19</figref> is executed during the loop processing of steps S38 to S46 illustrated in <figref idrefs="f0014">Fig. 16</figref>.</p><p id="p0363" num="0363">More specifically, whenever the sampling of the label value information of one line in the Y-axis direction is executed (S38), the image processing device 6 determines (S51) whether the relevant one line is a line within a predetermined range including the average height abruptly-changed coordinate xb that has been detected in step S30-2.</p><p id="p0364" num="0364">Herein, the predetermined range including the average height abruptly-changed coordinate xb is given, for example, as a range including the average height abruptly-changed coordinate xb and a number n of pixels on each of both the front and rear sides of the coordinate xb as a center. A value of n is, e.g., about 1 to 3.</p><p id="p0365" num="0365">If the relevant one line is a line within the predetermined range including the average height abruptly-changed coordinate xb that has been detected in step S30-2,<!-- EPO <DP n="130"> --> the image processing device 6 sets all the height measured values of the relevant one line to the same value (S52).</p><p id="p0366" num="0366">In the shape defect inspection process in step S48, as described above, the calculation of the index value for the local concave/convex defect and the defect determination based on the calculated index value are performed for each set of the measured values (which may partly include the interpolated values) of one line in the Y-axis direction, which are included in the surface height distribution information. Therefore, the region made up of those lines in the Y-axis direction for which the height measured values in the surface height distribution information have been set to the same value in step S52 is actually excluded from the inspection target of the shape defect in the shape defect inspection process of step S48.</p><p id="p0367" num="0367">With the process illustrated in <figref idrefs="f0017">Fig. 19</figref>, for the part of the surface height distribution information corresponding to the portion where the optical cutting line having brightness equal to or greater than the preset threshold has not been detected, the height measured value is set to a value corresponding to the value interpolated based on the effective height detected values in the portion where the optical cutting line has been detected (S30-1, S31'). Hence, the problem attributable to the small recess is solved.</p><p id="p0368" num="0368">Further, with the process illustrated in <figref idrefs="f0017">Fig. 19</figref>, the<!-- EPO <DP n="131"> --> region having the predetermined width, which contains the boundary positions of the range corresponding to the region Wxa or Wxa' where the annular mark or the quasi-annular marks are formed in the sidewall surface of the tire 1, is excluded from the target of the defect inspection through the processing of steps S30-2, S51 and S52. Hence, the problem attributable to the annular mark is also solved.</p><p id="p0369" num="0369">The defect-inspection exclusion region setting step (S30-2, S51 and S52) in the process illustrated in <figref idrefs="f0017">Fig. 19</figref> is a step of setting the height measured values to the same value for the region having the predetermined width, which contains the boundary positions of the range corresponding to the region Wxa or Wxa' where the annular mark or the quasi-annular marks are formed.</p><p id="p0370" num="0370">However, the defect-inspection exclusion region setting step may be realized with a different process.</p><p id="p0371" num="0371">For example, the image processing device 6 may deliver the average height abruptly-changed coordinates xb detected in step S30-2 to the host computer 7, and the host computer 7 may execute a process of excluding the region having the predetermined width, which contains the average height abruptly-changed coordinates xb, from the target of the shape defect inspection.</p><p id="p0372" num="0372">In the embodiment described above, the processing in the plurality of steps is executed in a sharing manner by<!-- EPO <DP n="132"> --> the image processing device 6 and the host computer 7, which are each one example of the processor.</p><p id="p0373" num="0373">In another embodiment, however, the processing in all of steps described above may be executed by the host computer 7, for example. In still another embodiment, the processing of the plurality of steps described above may be executed in a sharing manner by three or more processors. Industrial Applicability.</p><p id="p0374" num="0374">The present invention can be applied to the tire shape inspection device.</p><p id="p0375" num="0375">While the present invention has been described in detail by referring to the particular embodiments, it is apparent to those skilled in the art that the present invention can be variously modified or altered without departing from the scope of the invention.</p><heading id="h0046">Reference Signs List</heading><p id="p0376" num="0376"><dl id="dl0001" compact="compact"><dt>W:</dt><dd>tire shape inspection device</dd><dt>M:</dt><dd>indication mark (embossed mark)</dd><dt>Wy:</dt><dd>entire circumferential range<!-- EPO <DP n="133"> --></dd><dt>1:</dt><dd>tire</dd><dt>2:</dt><dd>tire rotating machine</dd><dt>3:</dt><dd>sensor unit</dd><dt>4:</dt><dd>unit driving device</dd><dt>5:</dt><dd>encoder</dd><dt>6:</dt><dd>image processing device</dd><dt>7:</dt><dd>host computer</dd><dt>10:</dt><dd>light emitting device</dd><dt>11, 12, 13:</dt><dd>line light sources</dd><dt>20:</dt><dd>camera</dd><dt>21:</dt><dd>image pickup element</dd><dt>22:</dt><dd>camera lens</dd></dl></p></description><claims mxw-id="PCLM56979512" lang="DE" load-source="patent-office"><!-- EPO <DP n="139"> --><claim id="c-de-01-0001" num="0001"><claim-text>Reifenformuntersuchungsvorrichtung zum Bestrahlen einer Seitenwandfläche eines sich drehenden Reifens mit Linienlicht, wobei die Seitenwandfläche geprägte Markierungen aufweist, die darin gebildet sind, und zum Aufnehmen eines Bildes des Linienlichts und zum Ableiten von Flächenhöhenverteilungsinformationen, die in der Formfehleruntersuchung des Reifens verwendet werden, auf der Grundlage des aufgenommenen Bildes, wobei die Vorrichtung Folgendes umfasst:
<claim-text>eine Linienlichtbestrahlungseinheit (10) zum Emittieren von mehreren Linienlichtstrahlen in Folge, um eine optische Schnittlinie auf der Seitenwandfläche zu bilden, aus Richtungen, die sich von einer Richtung der Detektionshöhe für die optische Schnittlinie unterscheiden;</claim-text>
<claim-text>eine Bildaufnahmeeinheit (20) zum Aufnehmen von Bildern der mehreren Linienlichtstrahlen, die zum Bestrahlen der Seitenwandfläche emittiert werden, in einer Richtung, in der ein Hauptstrahl in jedem der mehreren Linienlichtstrahlen regelmäßig durch die Seitenwandfläche reflektiert wird;</claim-text>
<claim-text>eine Formdetektionseinheit für ein optisches Schneideverfahren zum Ableiten der Flächenhöhenverteilungsinformationen über einen gesamten Umfangsbereich der Seitenwandfläche durch Detektieren der optischen Schnittlinie in dem durch die Bildaufnahmeeinheit aufgenommenen Bild;</claim-text>
<claim-text>eine Maskenbereich-Einstellungseinheit zum automatischen Detektieren einer Position der geprägten Markierung auf der Grundlage von Musterflächenforminformationen, die als die Flächenhöhenverteilungsinformationen gegeben werden, die von einem Muster des Reifens für jeden zu untersuchenden Reifentyp erhalten werden, und zum automatischen Einstellen von Koordinateninformationen eines Maskenbereichs, der einen Bereich umgibt, wo die geprägte Markierung vorhanden ist;<!-- EPO <DP n="140"> --></claim-text>
<claim-text>eine Bildausgabeeinheit zum Anzeigen eines Flächenformbildes, das auf den Musterflächenforminformationen basiert, und zum Anzeigen eines Maskenbereichsbildes, das auf den Koordinateninformationen des Maskenbereichs gründet, auf einer Anzeigeeinheit in einer überlagerten Beziehung;</claim-text>
<claim-text>eine Maskenbereichsänderungseinheit zum Ändern der Koordinateninformationen des Maskenbereichs gemäß einer vorbestimmten, durch eine Betriebseinheit eingegebenen Betriebseingabe parallel zur Verarbeitung, die durch die Bildausgabeeinheit ausgeführt wird;</claim-text>
<claim-text>eine Informationsregistrierungseinheit zum Speichern von sowohl den Koordinateninformationen des Maskenbereichs, nachdem er durch die Maskenbereichsänderungseinheit geändert wurde, als auch von registrierten Flächenforminformationen, die ein Teil oder sämtliche der Musterflächenforminformationen sind, in einer Speichereinheit;</claim-text>
<claim-text>eine Koordinatensystemabweichung-Detektionseinheit zum Prüfen von Untersuchungsverwendung-Flächenforminformationen, die als die Flächenhöhenverteilungsinformationen gegeben sind, die für jeden zu untersuchenden Reifen erhalten werden, mit den registrierten Flächenforminformationen und Detektieren einer Abweichung eines Koordinatensystems zwischen den Untersuchungsverwendung-Flächenforminformationen und den Koordinateninformationen des Maskenbereichs; und</claim-text>
<claim-text>eine Maskenbereichsuntersuchung-Ausschlusseinheit zum Ausschließen derjenigen Flächenhöhenmesswerte, die in den Untersuchungsverwendung-Flächenforminformationen enthalten sind und die den Koordinateninformationen des Maskenbereichs entsprechen, von einem Ziel eines<!-- EPO <DP n="141"> --> Formfehleruntersuchungsverfahrens nach dem Korrigieren der Abweichung des Koordinatensystems.</claim-text></claim-text></claim><claim id="c-de-01-0002" num="0002"><claim-text>Reifenformuntersuchungsverfahren zum Ausführen eines Verfahrens zum Untersuchen eines Formfehlers in einer Seitenwandfläche eines Reifens, in dem geprägte Markierungen gebildet sind, wobei das Formfehleruntersuchungsverfahren auf der Grundlage von Flächenhöhenverteilungsinformationen ausgeführt wird, die durch Plotten von Flächenhöhenmesswerten an mehreren Positionen über einen gesamten Umfangsbereich der Seitenwandfläche in einem zweidimensionalen Koordinatensystem vorbereitet sind, das eine erste Koordinatenachse, die eine radiale Richtung des Reifens darstellt, und eine zweite Koordinatenachse aufweist, die eine Umfangsrichtung des Reifens darstellt,<br/>
wobei das Reifenformuntersuchungsverfahren Folgendes umfasst:
<claim-text>einen Maskenbereicheinstellungsschritt zum automatischen Detektieren einer Position der geprägten Markierung auf der Grundlage von Musterflächenforminfonnationen, die als die Flächenhöhenverteilungsinformationen gegeben sind, die von einem Muster des Reifens für jeden zu untersuchenden Reifentyp erhalten werden, und zum automatischen Einstellen von Koordinateninformationen eines Maskenbereichs, der einen Bereich umgibt, wo die geprägte Markierung vorhanden ist;</claim-text>
<claim-text>einen Bildausgabeschritt zum Anzeigen eines Flächenformbildes, das auf den Musterflächenforminformationen gründet, und zum Anzeigen eines Maskenbereichsbildes, das auf den Koordinateninformationen des Maskenbereichs gründet, auf einer Anzeigeeinheit in einer überlagerten Beziehung;</claim-text>
<claim-text>einen Maskenbereichsänderungsschritt zum Ändern der Koordinateninformationen des Maskenbereichs gemäß einer vorbestimmten<!-- EPO <DP n="142"> --> Betriebseingabe, die durch eine Betriebseinheit eingegeben wird, parallel zum Bildausgabeschritt;</claim-text>
<claim-text>einen Informationsregistrierungsschritt zum Speichern von sowohl den Koordinateninformationen des Maskenbereichs, nachdem er im Maskenbereich-Änderungsschritt geändert wurde, und von registrierten Flächenforminformationen, die ein Teil oder sämtliche der Musterflächenforminformationen sind, in einer Speichereinheit;</claim-text>
<claim-text>einen Koordinatensystemabweichung-Detektionsschritt zum Prüfen von Untersuchungsverwendungsflächen-Forminformationen, die als die Flächenhöhenverteilungsinformationen gegeben sind, die für jeden zu untersuchenden Reifen erhalten werden, mit den registrierten Flächenforminformationen und Detektieren einer Abweichung des Koordinatensystems zwischen den Inspektionsverwendungsflächen-Forminformationen und den Koordinateninformationen des Maskenbereichs; und</claim-text>
<claim-text>einen Maskenbereichsuntersuchung-Ausschlussschritt zum Ausschließen derjenigen Flächenhöhenmesswerte, die in den Untersuchungsverwendung-Flächenforminformationen enthalten sind und die den Koordinateninformationen des Maskenbereichs entsprechen, von einem Ziel des FormfehlerUntersuchungsverfahrens, nach dem Korrigieren der Abweichung des Koordinatensystems.</claim-text></claim-text></claim><claim id="c-de-01-0003" num="0003"><claim-text>Reifenformuntersuchungsverfahren nach Anspruch 2, wobei die registrierten Flächenforminformationen die Form von Flächenhöhenmesswerten aufweisen, die in den Musterflächenforminformationen enthalten sind und die sich vollständig in eine Richtung der zweiten Koordinatenachse an einer bestimmten Koordinate der ersten Koordinatenachse erstrecken, und<br/>
<!-- EPO <DP n="143"> -->der Koordinatensystemabweichung-Detektionsschritt einen Schritt des Detektierens einer Abweichung des Koordinatensystems in die Richtung der zweiten Koordinatenachse durch Prüfen der Flächenhöhenmesswerte, die in den Untersuchungsverwendung-Flächenforminformationen enthalten sind und die sich vollständig in die Richtung der zweiten Koordinatenachse an der bestimmten Koordinate auf der ersten Koordinatenachse erstrecken, mit den registrierten Flächenforminformationen während des Verschiebens einer Position in die Richtung der zweiten Koordinatenachse umfasst.</claim-text></claim><claim id="c-de-01-0004" num="0004"><claim-text>Reifenformuntersuchungsverfahren nach Anspruch 2, wobei der automatische Maskenbereichseinstellungsschritt Folgendes umfasst:
<claim-text>einen zweidimensionalen Kantendetektionsschritt zum Detektieren von Kanten der geprägten Markierungen mit einem zweidimensionalen Kantendetektionsverfahren, das auf den Musterflächenforminformationen ausgeführt wird, und Speichern von detektierten zweidimensionalen Kantenverteilungsinformationen in einer Speichereinheit;</claim-text>
<claim-text>einen Kennzeichnungsschritt zum Ausführen der Kennzeichnung der zweidimensionalen Kantenverteilungsinformationen und Speichern von Kennzeichnungsveaeilungsinformationen, die mit dem Kennzeichnen erhalten werden, in der Speichereinheit; und</claim-text>
<claim-text>einen Maskenbereichseinstellungsschritt zum Einstellen von Koordinaten des Maskenbereichs, der einen Bereich umgibt, in dem die geprägte Markierung vorhanden ist, auf der Grundlage von Filet-Koordinaten für jeden Kennzeichnungswert in den Kennzeichnungsverteilungsinformationen, und Speichern der eingestellten Koordinaten in der Speichereinheit.</claim-text></claim-text></claim><claim id="c-de-01-0005" num="0005"><claim-text>Reifenformuntersuchungsverfahren nach Anspruch 2, wobei der Bildausgabeschritt einen Schritt zum Anzeigen eines Cursorbildes auf der Anzeigeeinheit umfasst,<br/>
<!-- EPO <DP n="144"> -->und der Maskenbereich-Änderungsschritt einen Schritt zum Bewegen einer angezeigten Position des Cursorbildes gemäß der Betriebseingabe und des Änderns der Koordinateninformationen des Maskenbereichs in Bezug zu einer Koordinate umfasst, die der angezeigten Position des Cursorbildes entspricht.</claim-text></claim><claim id="c-de-01-0006" num="0006"><claim-text>Reifenformuntersuchungsverfahren nach Anspruch 2, wobei der Maskenbereichsuntersuchung-Ausschlussschritt ein Schritt zum Ersetzen derjenigen Flächenhöhenmesswerte, die in den Untersuchungsverwendung-Flächenforminformationen enthalten sind und die in einen Bereich fallen, der den Koordinateninformationen des Maskenbereichs entspricht, mit Werten ist, die auf der Grundlage von denjenigen Flächenhöhenmesswerten interpoliert werden, die außerhalb des vorhergehend genannten Bereichs fallen.</claim-text></claim></claims><claims mxw-id="PCLM56979513" lang="EN" load-source="patent-office"><!-- EPO <DP n="134"> --><claim id="c-en-01-0001" num="0001"><claim-text>A tire shape inspection apparatus for irradiating a sidewall surface of a rotating tire with line light, the sidewall surface including embossed marks formed therein, and for picking up an image of the line light, and deriving, based on the picked-up image, surface height distribution information that is used in shape defection inspection of the tire, the apparatus comprising:
<claim-text>a line light irradiation unit (10) for emitting plural beams of line light in succession, in order to form one optical cutting line on the sidewall surface, from directions differing from a direction of detection height for the optical cutting line;</claim-text>
<claim-text>an image pickup unit (20) for picking up images of the plural beams of line light, emitted for irradiation of the sidewall surface, in a direction in which a principal ray in each of the plural beams of line light is regularly reflected by the sidewall surface;</claim-text>
<claim-text>an optical-cutting-method shape detection unit for deriving the surface height distribution information over an entire circumferential range of the sidewall surface by detecting the optical cutting line in the image picked up by the image pickup unit;</claim-text>
<claim-text>a mask-range setting unit for automatically detecting a position of the embossed mark based on sample surface shape information that is given as the surface height distribution information obtained from a sample of the tire for each type of the tire to be inspected, and for automatically setting coordinate information of a mask range surrounding a range where the embossed mark exists;</claim-text>
<claim-text>an image outputting unit for displaying a surface shape image, which is based on the sample surface shape information, and for displaying a mask range image, which is based on the coordinate information of the mask range, on a display unit in a superimposed relation;<!-- EPO <DP n="135"> --></claim-text>
<claim-text>a mask range changing unit for changing, in parallel to processing executed by the image outputting unit, the coordinate information of the mask range in accordance with a predetermined operation input entered through an operating unit;</claim-text>
<claim-text>an information registration unit for storing, in a storage unit, both the coordinate information of the mask range after being changed by the mask range changing unit, and registered surface shape information that is part or the whole of the sample surface shape information;</claim-text>
<claim-text>a coordinate-system deviation detection unit for checking inspection-use surface shape information, which is given as the surface height distribution information obtained for each tire to be inspected, with the registered surface shape information, and detecting a deviation of a coordinate system between the inspection-use surface shape information and the coordinate information of the mask range; and</claim-text>
<claim-text>a mask-range inspection exclusion unit for, after correcting the deviation of the coordinate system, excluding those surface height measurement values, which are included in the inspection-use surface shape information and which correspond to the coordinate information of the mask range, from a target of a shape defect inspection process.</claim-text></claim-text></claim><claim id="c-en-01-0002" num="0002"><claim-text>A tire shape inspection method for executing a process of inspecting a shape defect in a sidewall surface of a tire in which embossed marks are formed, the shape defect inspection process being executed based on surface height distribution information that is prepared by plotting surface height measurement values at various positions over an entire circumferential range of the sidewall surface in a two-dimensional coordinate system, which has a first coordinate axis representing a radial direction of the tire and a second coordinate axis representing a circumferential direction of the tire,<br/>
the tire shape inspection method comprising:
<claim-text>a mask-range setting step of automatically detecting a position of the embossed mark based on sample surface shape information that is given as<!-- EPO <DP n="136"> --> the surface height distribution information obtained from a sample of the tire for each type of the tire to be inspected, and for automatically setting coordinate information of a mask range surrounding a range where the embossed mark exists;</claim-text>
<claim-text>an image outputting step of displaying a surface shape image, which is based on the sample surface shape information, and for displaying a mask range image, which is based on the coordinate information of the mask range, on a display unit in a superimposed relation;</claim-text>
<claim-text>a mask range changing step of changing, in parallel to the image outputting step, the coordinate information of the mask range in accordance with a predetermined operation input entered through an operating unit;</claim-text>
<claim-text>an information registration step of storing, in a storage unit, both the coordinate information of the mask range after being changed in the mask range changing step, and registered surface shape information that is part or the whole of the sample surface shape information;</claim-text>
<claim-text>a coordinate-system deviation detection step of checking inspection-use surface shape information, which is given as the surface height distribution information obtained for each tire to be inspected, with the registered surface shape information, and detecting a deviation of the coordinate system between the inspection-use surface shape information and the coordinate information of the mask range; and</claim-text>
<claim-text>a mask-range inspection exclusion step of, after correcting the deviation of the coordinate system, excluding those surface height measurement values, which are included in the inspection-use surface shape information and which correspond to the coordinate information of the mask range, from a target of the shape defect inspection process.</claim-text></claim-text></claim><claim id="c-en-01-0003" num="0003"><claim-text>The tire shape inspection method according to Claim 2, wherein the registered surface shape information is in form of the surface height measurement values, which are included in the sample surface shape information and which range entirely in a direction of the second coordinate axis at a particular coordinate on the first coordinate<!-- EPO <DP n="137"> --> axis, and<br/>
the coordinate-system deviation detection step includes a step of detecting a deviation of the coordinate system in the direction of the second coordinate axis by checking the surface height measurement values, which are included in the inspection-use surface shape information and which range entirely in the direction of the second coordinate axis at the particular coordinate on the first coordinate axis, with the registered surface shape information while shifting a position in the direction of the second coordinate axis.</claim-text></claim><claim id="c-en-01-0004" num="0004"><claim-text>The tire shape inspection method according to Claim 2, wherein the mask-range automatically setting step includes:
<claim-text>a two-dimensional edge detection step of detecting edges of the embossed marks with a two-dimensional edge detection process executed on the sample surface shape information, and storing detected two-dimensional edge distribution information in a storage unit;</claim-text>
<claim-text>a labeling step of executing labeling on the two-dimensional edge distribution information, and storing label distribution information obtained with the labeling in the storage unit; and</claim-text>
<claim-text>a mask range setting step of setting coordinates of the mask range, which surrounds a range where the embossed mark exists, based on filet coordinates for each label value in the label distribution information, and storing the set coordinates in the storage unit.</claim-text></claim-text></claim><claim id="c-en-01-0005" num="0005"><claim-text>The tire shape inspection method according to Claim 2, wherein the image outputting step includes a step of displaying a cursor image on the display unit,<br/>
and the mask range changing step includes a step of moving a displayed position of the cursor image in accordance with the operation input, and changing the coordinate information of the mask range with respect to a coordinate corresponding to the displayed position of the cursor image.<!-- EPO <DP n="138"> --></claim-text></claim><claim id="c-en-01-0006" num="0006"><claim-text>The tire shape inspection method according to Claim 2, wherein the mask-range inspection exclusion step is a step of replacing those surface height measurement values, which are included in the inspection-use surface shape information and which fall within a range corresponding to the coordinate information of the mask range, with values interpolated based on those surface height measurement values falling outside the aforesaid range.</claim-text></claim></claims><claims mxw-id="PCLM56979514" lang="FR" load-source="patent-office"><!-- EPO <DP n="145"> --><claim id="c-fr-01-0001" num="0001"><claim-text>Appareil de contrôle de la forme de pneu destiné à irradier une surface de flanc d'un pneu en rotation avec une ligne de lumière, la surface de flanc incluant des marques en relief qui y sont formées, et destiné à capter une image de la ligne de lumière et à dériver, sur la base de l'image captée, des informations de répartition de hauteur de la surface qui sont utilisées dans l'inspection de défaut de forme du pneu, l'appareil comprenant :
<claim-text>une unité d'irradiation de ligne de lumière (10) pour émettre plusieurs faisceaux de ligne de lumière à la suite, afin de former une ligne de coupe optique sur la surface de flanc à partir de directions qui diffèrent d'une direction de hauteur de détection pour la ligne de coupe optique ;</claim-text>
<claim-text>une unité de captation d'image (20) pour capter des images des plusieurs faisceaux de ligne de lumière émis pour irradier la surface de flanc dans une direction dans laquelle un rayon principal dans chacun des plusieurs faisceaux de ligne de lumière est réfléchi de façon régulière par la surface de flanc ;</claim-text>
<claim-text>une unité de détection de forme selon la méthode de coupe otique pour dériver les informations de répartition de hauteur de la surface sur une plage circonférentielle<!-- EPO <DP n="146"> --> complète de la surface de flanc par la détection de la ligne de coupe optique dans l'image captée par l'unité de captation d'image ;</claim-text>
<claim-text>une unité de réglage de la plage de masquage pour détecter automatiquement une position de la marque en relief sur la base d'informations de forme de surface d'échantillon qui sont fournies en tant qu'informations de répartition de hauteur de la surface obtenues à partir d'un échantillon du pneu pour chaque type de pneu à inspecter, et pour régler automatiquement des informations de coordonnées d'une plage de masquage entourant une plage dans laquelle se trouve la marque en relief ;</claim-text>
<claim-text>une unité de sortie d'image pour afficher, sur une unité d'affichage dans une relation superposée, une image de forme de surface qui est basée sur les informations de forme de surface d'échantillon, et pour afficher une image de plage de masquage qui est basée sur les informations de coordonnées de la plage de masquage ;</claim-text>
<claim-text>une unité de modification de la plage de masquage pour modifier, parallèlement au traitement exécuté par l'unité de sortie d'image, les informations de coordonnées de la plage de masquage conformément à une entrée opérationnelle déterminée introduite via une unité opérationnelle ;</claim-text>
<claim-text>une unité d'enregistrement d'informations pour stocker, dans une unité de mémoire, à la fois les informations de coordonnées de la plage de masquage après sa modification par l'unité de modification de la plage de masquage et les informations de forme de surface enregistrées qui forment une partie ou la totalité des informations de forme de surface d'échantillon ;</claim-text>
<claim-text>une unité de détection d'écart du système de coordonnées pour vérifier des informations de forme de surface utilisées pour l'inspection qui sont fournies en tant qu'informations de répartition de hauteur de la surface obtenues pour chaque pneu à inspecter avec les informations de forme de surface enregistrées, et pour détecter un écart d'un système de coordonnées entre les informations de forme de surface utilisées pour l'inspection et les informations de coordonnées de la plage de masquage ; et</claim-text>
<claim-text>une unité d'exclusion d'inspection de la plage de masquage, après la correction de l'écart du système de coordonnées, excluant d'une cible d'un processus d'inspection de défaut de forme les valeurs de mesure de hauteur de la surfacé qui sont incluses dans les informations de forme de surface utilisées pour l'inspection et qui correspondent aux informations de coordonnées de la plage de masquage.</claim-text><!-- EPO <DP n="147"> --></claim-text></claim><claim id="c-fr-01-0002" num="0002"><claim-text>Procédé de contrôle de forme de pneu pour exécuter un processus d'inspection d'un défaut de forme dans un surface de flanc d'un pneu dans laquelle sont formées des marques en relief, le processus d'inspection de défaut de forme étant exécuté sur la base d'informations de répartition de hauteur de la surface qui sont préparées en traçant des valeurs de mesure de hauteur de la surface en diverses positions sur une plage circonférentielle complète de la surface de flanc dans un système de coordonnées à deux dimensions qui a un premier axe de coordonnées représentant une direction radiale du pneu et un deuxième axe de coordonnées représentant une direction circonférentielle du pneu,<br/>
le procédé de contrôle de forme de pneu comprenant :
<claim-text>une étape de réglage de la plage de masquage consistant à détecter automatiquement une position de la marque en relief sur la base d'informations de forme de surface d'échantillon qui sont fournies en tant qu'informations de répartition de hauteur de la surface obtenues à partir d'un échantillon du pneu pour chaque type de pneu à inspecter, et pour régler automatiquement des informations de coordonnées d'une plage de masquage entourant une plage dans laquelle se trouve la marque en relief ;</claim-text>
<claim-text>une étape de sortie d'image consistant à afficher, sur une unité d'affichage dans une relation superposée, une image de forme de surface qui est basée sur les informations de forme de surface d'échantillon, et pour afficher une image de plage de masquage qui est basée sur les informations de coordonnées de la plage de masquage ;</claim-text>
<claim-text>une étape de modification de la plage de masquage consistant à modifier, parallèlement à l'étape de sortie d'image, les informations de coordonnées de la plage de masquage conformément à une entrée opérationnelle déterminée introduite via une unité opérationnelle ;</claim-text>
<claim-text>une étape d'enregistrement d'informations consistant à stocker, dans une unité de mémoire, à la fois les informations de coordonnées de la plage de masquage après sa modification dans l'étape de modification de la plage de masquage et les informations de forme de surface enregistrées qui forment une partie ou la totalité des informations de forme de surface d'échantillon ;</claim-text>
<claim-text>une étape de détection d'écart du système de coordonnées consistant à vérifier des informations de forme de surface utilisées pour l'inspection qui sont fournies en tant<!-- EPO <DP n="148"> --> qu'informations de répartition de hauteur de la surface obtenues pour chaque pneu à inspecter avec les informations de forme de surface enregistrées, et à détecter un écart du système de coordonnées entre les informations de forme de surface utilisées pour l'inspection et les informations de coordonnées de la plage de masquage ; et</claim-text>
<claim-text>une étape d'exclusion d'inspection de plage de masquage, après la correction de l'écart du système de coordonnées, excluant d'une cible d'un processus d'inspection de défaut de forme les valeurs de mesure de hauteur de la surface qui sont incluses dans les informations de forme de surface utilisées pour l'inspection et qui correspondent aux informations de coordonnées de la plage de masquage.</claim-text></claim-text></claim><claim id="c-fr-01-0003" num="0003"><claim-text>Procédé de contrôle de forme de pneu selon la revendication 2, dans lequel les informations de forme de surface enregistrées se présentent sous la forme des valeurs de mesure de hauteur de la surface qui sont incluses dans les informations de forme de surface d'échantillon et qui s'inscrivent entièrement dans une direction du deuxième axe de coordonnées au niveau d'une coordonnée particulière sur le premier axe de coordonnées, et<br/>
l'étape de détection de l'écart du système de coordonnées inclut une étape consistant à détecter un écart du système de coordonnées dans la direction du deuxième axe de coordonnées en vérifiant les valeurs de mesure de hauteur de la surface qui sont incluses dans les informations de forme de surface utilisées pour l'inspection et qui s'inscrivent entièrement dans la direction du deuxième axe de coordonnées au niveau de la coordonnée particulière sur le premier axe de coordonnées avec les informations de forme de surface enregistrées tout en déplaçant une position dans la direction du deuxième axe de coordonnées.</claim-text></claim><claim id="c-fr-01-0004" num="0004"><claim-text>Procédé de contrôle de forme de pneu selon la revendication 2, dans lequel l'étape de réglage automatique de la plage de masquage inclut :
<claim-text>une étape de détection de bords à deux dimensions consistant à détecter des bords des marques en relief avec un processus de détection de bords à deux dimensions exécuté sur les informations de forme de surface d'échantillon, et à stocker dans une unité de mémoire des informations de répartition de bords à deux dimensions détectées;<!-- EPO <DP n="149"> --></claim-text>
<claim-text>une étape d'étiquetage consistant à effectuer l'étiquetage sur les informations de répartition de bords à deux dimensions et à stocker dans l'unité de mémoire des informations de répartition d'étiquettes obtenues avec l'étiquetage ; et</claim-text>
<claim-text>une étape de réglage de plage de masquage consistant à régler des coordonnées de la plage de masquage qui entoure une plage dans laquelle se trouve la marque en relief sur la base de coordonnées de filet pour chaque valeur d'étiquette dans les informations de répartition d'étiquettes, et à stocker les coordonnées réglées dans l'unité de mémoire.</claim-text></claim-text></claim><claim id="c-fr-01-0005" num="0005"><claim-text>Procédé de contrôle de forme de pneu selon la revendication 2, dans lequel l'étape de sortie d'image inclut une étape consistant à afficher une image de curseur sur l'unité d'affichage,<br/>
et l'étape de modification de la plage de masquage inclut une étape consistant à déplacer une position affichée de l'image de curseur conformément à l'entrée opérationnelle, et à modifier les informations de coordonnées de la plage de masquage par rapport à une coordonnée correspondant à la position affichée de l'image de curseur.</claim-text></claim><claim id="c-fr-01-0006" num="0006"><claim-text>Procédé de contrôle de forme de pneu selon la revendication 2, dans lequel l'étape d'exclusion d'inspection de la plage de masquage est une étape consistant à remplacer les valeurs de mesure de hauteur de la surface qui sont incluses dans les informations de forme de surface utilisées pour l'inspection et qui s'inscrivent à l'intérieur d'une plage correspondant aux informations de coordonnées de la plage de masquage par des valeurs interpolées sur la base des valeurs de mesure de hauteur de la surface qui sont en dehors de la plage mentionnée précédemment.</claim-text></claim></claims><drawings mxw-id="PDW16668890" load-source="patent-office"><!-- EPO <DP n="150"> --><figure id="f0001" num="1,2"><img id="if0001" file="imgf0001.tif" wi="165" he="221" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="151"> --><figure id="f0002" num="3"><img id="if0002" file="imgf0002.tif" wi="160" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="152"> --><figure id="f0003" num="4"><img id="if0003" file="imgf0003.tif" wi="153" he="201" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="153"> --><figure id="f0004" num="5"><img id="if0004" file="imgf0004.tif" wi="151" he="201" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="154"> --><figure id="f0005" num="6"><img id="if0005" file="imgf0005.tif" wi="153" he="200" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="155"> --><figure id="f0006" num="7"><img id="if0006" file="imgf0006.tif" wi="153" he="200" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="156"> --><figure id="f0007" num="8"><img id="if0007" file="imgf0007.tif" wi="130" he="200" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="157"> --><figure id="f0008" num="9"><img id="if0008" file="imgf0008.tif" wi="110" he="149" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="158"> --><figure id="f0009" num="10"><img id="if0009" file="imgf0009.tif" wi="156" he="188" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="159"> --><figure id="f0010" num="11"><img id="if0010" file="imgf0010.tif" wi="141" he="122" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="160"> --><figure id="f0011" num="12"><img id="if0011" file="imgf0011.tif" wi="161" he="183" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="161"> --><figure id="f0012" num="13"><img id="if0012" file="imgf0012.tif" wi="149" he="177" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="162"> --><figure id="f0013" num="14,15"><img id="if0013" file="imgf0013.tif" wi="159" he="219" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="163"> --><figure id="f0014" num="16"><img id="if0014" file="imgf0014.tif" wi="162" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="164"> --><figure id="f0015" num="17"><img id="if0015" file="imgf0015.tif" wi="123" he="191" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="165"> --><figure id="f0016" num="18"><img id="if0016" file="imgf0016.tif" wi="123" he="191" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="166"> --><figure id="f0017" num="19"><img id="if0017" file="imgf0017.tif" wi="165" he="218" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="167"> --><figure id="f0018" num="20"><img id="if0018" file="imgf0018.tif" wi="145" he="130" img-content="drawing" img-format="tif"/></figure></drawings><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
