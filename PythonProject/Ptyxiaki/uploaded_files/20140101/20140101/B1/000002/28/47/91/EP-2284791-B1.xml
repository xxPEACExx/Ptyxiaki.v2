<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2284791-B1" country="EP" doc-number="2284791" kind="B1" date="20140101" family-id="41255071" file-reference-id="315033" date-produced="20180826" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146553223" ucid="EP-2284791-B1"><document-id><country>EP</country><doc-number>2284791</doc-number><kind>B1</kind><date>20140101</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-09738792-A" is-representative="YES"><document-id mxw-id="PAPP154827146" load-source="docdb" format="epo"><country>EP</country><doc-number>09738792</doc-number><kind>A</kind><date>20090427</date><lang>JA</lang></document-id><document-id mxw-id="PAPP226108758" load-source="docdb" format="original"><country>EP</country><doc-number>09738792.2</doc-number><date>20090427</date></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140453102" ucid="JP-2008118646-A" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>2008118646</doc-number><kind>A</kind><date>20080430</date></document-id></priority-claim><priority-claim mxw-id="PPC140455403" ucid="JP-2009058284-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>2009058284</doc-number><kind>W</kind><date>20090427</date></document-id></priority-claim></priority-claims><dates-of-public-availability><intention-to-grant-date><date>20130802</date></intention-to-grant-date><search-report-dispatch-date><date>20121005</date></search-report-dispatch-date></dates-of-public-availability><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1988106121" load-source="docdb">G06T   1/00        20060101AFI20120928BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1988121394" load-source="docdb">G06F  17/30        20060101ALI20120928BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1848645209" load-source="docdb" scheme="CPC">G06K   9/6262      20130101 LI20170206BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1848645210" load-source="docdb" scheme="CPC">G06K   9/6217      20130101 LI20170206BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1848645211" load-source="docdb" scheme="CPC">G06K   9/4671      20130101 LI20170206BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1848645212" load-source="docdb" scheme="CPC">G06F  17/30259     20130101 LI20170206BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1848645213" load-source="docdb" scheme="CPC">G06F  17/30247     20130101 FI20170206BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132192153" lang="DE" load-source="patent-office">VERFAHREN ZUM ERZEUGEN EINER DREIDIMENSIONALEN OBJEKTIDENTIFIKATIONSBILDDATENBANK, VERARBEITUNGSVORRICHTUNG UND VERARBEITUNGSPROGRAMM</invention-title><invention-title mxw-id="PT132192154" lang="EN" load-source="patent-office">METHOD OF CREATING THREE-DIMENSIONAL OBJECT IDENTIFYING IMAGE DATABASE, PROCESSING APPARATUS AND PROCESSING PROGRAM</invention-title><invention-title mxw-id="PT132192155" lang="FR" load-source="patent-office">PROCÉDÉ DE CRÉATION D'UNE BASE DE DONNÉES D'IMAGES IDENTIFIANT UN OBJET EN TROIS DIMENSIONS, DISPOSITIF DE TRAITEMENT ET PROGRAMME DE TRAITEMENT</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR918158289" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>UNIV OSAKA PREFECT PUBLIC CORP</last-name><address><country>JP</country></address></addressbook></applicant><applicant mxw-id="PPAR918142471" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>OSAKA PREFECTURE UNIVERSITY PUBLIC CORPORATION</last-name></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR918173136" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>INOUE KATSUFUMI</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918141497" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>INOUE, KATSUFUMI</last-name></addressbook></inventor><inventor mxw-id="PPAR918996502" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>INOUE, KATSUFUMI</last-name><address><street>c/o Osaka Prefecture University Public Corporation 1-1 Gakuen-cho Naka-ku</street><city>Sakai-shi Osaka 599-8231</city><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918166569" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>MIYAKE HIROSHI</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918131962" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>MIYAKE, HIROSHI</last-name></addressbook></inventor><inventor mxw-id="PPAR918996501" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>MIYAKE, HIROSHI</last-name><address><street>c/o Osaka Prefecture University Public Corporation 1-1 Gakuen-cho Naka-ku</street><city>Sakai-shi Osaka 599-8231</city><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918142550" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>KISE KOUICHI</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918152612" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>KISE, KOUICHI</last-name></addressbook></inventor><inventor mxw-id="PPAR918996504" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>KISE, KOUICHI</last-name><address><street>c/o Osaka Prefecture University Public Corporation 1-1 Gakuen-cho Naka-ku</street><city>Sakai-shi Osaka 599-8231</city><country>JP</country></address></addressbook></inventor></inventors><assignees><assignee mxw-id="PPAR918996505" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Osaka Prefecture University Public Corporation</last-name><iid>101029056</iid><address><street>1-1, Gakuencho Naka-ku Sakai-shi</street><city>Osaka 599-8231</city><country>JP</country></address></addressbook></assignee></assignees><agents><agent mxw-id="PPAR918996503" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Corret, Hélène</last-name><suffix>et al</suffix><iid>100964355</iid><address><street>Cabinet Orès 36, rue de St Pétersbourg</street><city>75008 Paris</city><country>FR</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="JP-2009058284-W"><document-id><country>JP</country><doc-number>2009058284</doc-number><kind>W</kind><date>20090427</date><lang>JA</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2009133855-A1"><document-id><country>WO</country><doc-number>2009133855</doc-number><kind>A1</kind><date>20091105</date><lang>JA</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS548975901" load-source="docdb">AT</country><country mxw-id="DS548980648" load-source="docdb">BE</country><country mxw-id="DS548827728" load-source="docdb">BG</country><country mxw-id="DS548968361" load-source="docdb">CH</country><country mxw-id="DS548857098" load-source="docdb">CY</country><country mxw-id="DS548975902" load-source="docdb">CZ</country><country mxw-id="DS548882304" load-source="docdb">DE</country><country mxw-id="DS548980649" load-source="docdb">DK</country><country mxw-id="DS548857099" load-source="docdb">EE</country><country mxw-id="DS548971511" load-source="docdb">ES</country><country mxw-id="DS548827729" load-source="docdb">FI</country><country mxw-id="DS548827730" load-source="docdb">FR</country><country mxw-id="DS548980654" load-source="docdb">GB</country><country mxw-id="DS548980655" load-source="docdb">GR</country><country mxw-id="DS548980656" load-source="docdb">HR</country><country mxw-id="DS548857100" load-source="docdb">HU</country><country mxw-id="DS548968362" load-source="docdb">IE</country><country mxw-id="DS548980657" load-source="docdb">IS</country><country mxw-id="DS548827731" load-source="docdb">IT</country><country mxw-id="DS548857101" load-source="docdb">LI</country><country mxw-id="DS548882305" load-source="docdb">LT</country><country mxw-id="DS548975903" load-source="docdb">LU</country><country mxw-id="DS548882306" load-source="docdb">LV</country><country mxw-id="DS548882307" load-source="docdb">MC</country><country mxw-id="DS548968392" load-source="docdb">MK</country><country mxw-id="DS548968393" load-source="docdb">MT</country><country mxw-id="DS548971512" load-source="docdb">NL</country><country mxw-id="DS548827732" load-source="docdb">NO</country><country mxw-id="DS548971513" load-source="docdb">PL</country><country mxw-id="DS548827733" load-source="docdb">PT</country><country mxw-id="DS548971514" load-source="docdb">RO</country><country mxw-id="DS548971515" load-source="docdb">SE</country><country mxw-id="DS548968363" load-source="docdb">SI</country><country mxw-id="DS548968394" load-source="docdb">SK</country><country mxw-id="DS548857106" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data></bibliographic-data><description mxw-id="PDES63957133" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001">TECHNICAL FIELD</heading><p id="p0001" num="0001">The present invention relates to a method of compiling three-dimensional object identifying image database, a processing apparatus and a processing program. More particularly, the present invention relates to: a method for compiling an image database which stores therein a plurality of images showing three-dimensional objects from viewpoints for constructing models of the respective objects and from which a model corresponding to an object that is given as a retrieval query (query) is retrieved so as to output an object relating to the model as a recognition result; and an apparatus and a program for processing the image database.</p><heading id="h0002">BACKGROUND ART</heading><p id="p0002" num="0002">In recent years, as digital cameras are increasingly widespread and sophisticated, the digital cameras and devices using them are increasingly receiving attention as new information devices. In addition, the increase in the memory capacity of hard disks allows individual people to possess a large amount of image data. Accordingly, researches dealing with a large number of digital images<!-- EPO <DP n="2"> --> or moving images are conducted actively. As a field of such researches, there is research on recognition of three-dimensional objects included in images.</p><p id="p0003" num="0003">The techniques of recognizing three-dimensional objects included in images can be classified into a technique that generally recognizes the class of objects and a technique that recognizes the instance. The former returns the class of objects, such as a chair and an automobile, as the result, whereas the latter identifies the instance such as a specific model of an automobile. The present invention will focus on the latter, i.e., the identification of the instance, and description will be made in relation thereto. Particularly, the present invention will focus on a three-dimensional object recognition, which uses local descriptors, for example based on a SIFT (Scale-Invariant Feature Transform)(e.g., see Non-Patent Literature 1). In the conventional techniques, there is a technique which constructs a three-dimensional surface model of an object through matching of local descriptors, based on images of an object shot from various angles, so as to be used for recognition (e.g., see Non-Patent Literatures 2 and 3). In addition, there is a technique that uses local descriptors extracted from an image for construction of a model to be matched with unknown images, without using a three-dimensional model (e.g., see Non-Patent Literatures 4 and 5). The present invention relates to the latter approach.</p><p id="p0004" num="0004">As a simplest technique using such an approach, there is a technique in which a large number of local descriptors are extracted<!-- EPO <DP n="3"> --> from images of an object shot under various conditions, and are stored for constructing a model. Advantageously, this simple approach can easily realize highly accurate recognition. However, since a huge number of the local descriptors will be obtained, there are problems in that it takes immense time to perform local descriptor matching, and in that it is difficult to perform a large-scale object recognition since a large memory is required for recognition.</p><p id="p0005" num="0005">As to the former problem, it is indispensable to improve the efficiency in the nearest neighbor searching of local descriptors. Thus, in order to solve this problem, there is a technique using approximate nearest neighbor searching of local descriptors. According to Noguchi et al., it is reported that with introduction of this technique into the object recognition, it is possible to realize a high-speed, highly accurate object recognition. (e.g., see Non-Patent Literature 6, and Patent Literature 1).<br/>
On the other hand, as to the latter problem, since the memory size of models (memory required for models) constitutes a large proportion of the memory required for recognition, reduction in the memory size of models is a main problem.</p><p id="p0006" num="0006">Meanwhile, of the three-dimensional object recognition techniques using local descriptors, such techniques that do not construct three-dimensional models of objects are advantageous, since with shot images of an object, it is possible to simply construct its model by extracting local descriptors therefrom. In order to achieve accuracy in the three-dimensional object recognition using<!-- EPO <DP n="4"> --> such simple techniques, a large number of images shot under various conditions are required for constructing a model. Generally, since several dozen to several thousand local descriptors are extracted from one image, an extremely large number of local descriptors will be involved in modeling of an object, and how to deal with such local descriptors will be the main subject.</p><p id="p0007" num="0007">Most of the conventional techniques employ a method of vector-quantization of local descriptors so as to be replaced by representation vectors, which are called visual words. In the case of recognizing an unknown image, local descriptors obtained from the image are replaced by the visual words so as to be matched. In the case of identification of the instance of an object, it is known that, particularly, the more the number of the visual words is increased, the more the recognition rate will be improved, although the improvement depends on the recognition target. For example, Nister et al. reported an example using 16 million visual words (see Non-Patent Literature 4). In the case of using a large number of visual words, the calculation time required for matching between the local descriptors and the visual words is unignorable, and thus speeding-up by using various data structures such as a tree structure is necessary (see Non-Patent Literatures 4 and 5).</p><p id="p0008" num="0008">Among the techniques using such a large number of visual words, a technique of using all "cases" of the local descriptors without using vector quantization is the most extreme one. With this approach, although high recognition rate can be expected, a problem<!-- EPO <DP n="5"> --> will occur in that a huge memory will be required for model recording.</p><p id="p0009" num="0009">The simplest one of the recognition techniques may be such a technique in which a label indicating an object is added to a large number of local descriptors, which correspond to the above cases, and based on matching with those local descriptors which are obtained from unknown images, votes are cast for the label indicating the object. Normally, the matching is performed using the nearest neighbor searching. In such a process, since it is only necessary to assign a correct label to each local descriptor obtained from unknown images, it is not necessary to record all the local descriptors. Here, "voting" is processing used for partially counting up evidences in the field of information processing, and is processing in which: based on each of the obtained evidences, a score is given to one of choices; and the choice that has obtained a top score, as a result of counting up scores based on all the evidences, is to be selected. Generally, the score for voting varies depending on the evidences.</p><p id="p0010" num="0010">As a method of eliminating unnecessary local descriptors while guaranteeing the same effect as that in the case of recording all the local descriptors, a method called condensing is proposed. For example, Wada et al. proposed a technique that is also efficiently applicable to a higher-dimensional space (e.g., see Non-Patent Literature 7).</p><heading id="h0003">CITATION LIST</heading><heading id="h0004">PATENT LITERATURE</heading><!-- EPO <DP n="6"> --><p id="p0011" num="0011"><ul><li>Patent Literature 1: International Publication No. <patcit id="pcit0001" dnum="WO2008026414A"><text>2008/026414</text></patcit></li></ul></p><heading id="h0005">NON-PATENT LITERATURE</heading><p id="p0012" num="0012"><ul><li>Non-Patent Literature 1: <nplcit id="ncit0001" npl-type="s"><text>D. Lowe: "Distinctive Image Features from Scale-Invariant Keypoints", International Journal of Computer Vision, Vol.60, No.2, pp.91-110 (2004</text></nplcit>)</li><li>Non-Patent Literature 2: <nplcit id="ncit0002" npl-type="b"><text>F. Rothganger, S. Lazebnik, C. Schmid and J. Ponce: "3D Object Modeling and Recognition from Photographs and Image Sequences", Ponce et al., Eds., Toward Category-Level Object Recognition, LNCS4170, Springer, pp.105-126 (2006</text></nplcit>)</li><li>Non-Patent Literature 3: <nplcit id="ncit0003" npl-type="b"><text>D. Lowe: "Local Feature View Clustering for 3D Object Recognition", Proc. CVPR2001, Springer, pp.682-688 (2001</text></nplcit>)</li><li>Non-Patent Literature 4: <nplcit id="ncit0004" npl-type="s"><text>D. Nister and H. Stewenius: "Scalable Recognition with a Vocabulary Tree", Proc. CVPR2006, pp.775-781 (2006</text></nplcit>)</li><li>Non-Patent Literature 5: <nplcit id="ncit0005" npl-type="s"><text>S. Obdrzalek and J. Matas: "Sub-linear Indexing for Large Scale Object Recognition", British Machine Vision Conference (BMVC), pp.1-10 (2005</text></nplcit>)</li><li>Non-Patent Literature 6: <nplcit id="ncit0006" npl-type="s"><text>Kazuto Noguchi, Kouichi Kise, Masakazu Iwamura: "Efficient Recognition of Objects by Cascading Approximate Nearest Neighbor Searchers" Meeting on Image Recognition and Understanding (MIRU2007) Collection of papers, OS-B2-02, pp.111-118 (2007</text></nplcit>)</li><li>Non-Patent Literature 7: <nplcit id="ncit0007" npl-type="s"><text>Takekazu Kato, Toshikazu Wada:<!-- EPO <DP n="7"> --> "Algorithms and Evaluations for Efficient Condensing based on Proximity Graphs" Shingaku Giho PRMU, Vol.103, No.96, pp.19-24 (2003</text></nplcit>)</li></ul></p><heading id="h0006">SUMMARY OF THE INVENTION</heading><heading id="h0007">PROBLEMS TO BE SOLVED BY THE INVENTION</heading><p id="p0013" num="0013">According to the technique (see Non-Patent Literature 6) of the approximate nearest neighbor searching proposed by Noguchi et al., for example, objects are recognized by majority vote. In view of this, it is understood that all the votes need not necessarily be correct. In the case of a 2D planar object, it is known that the matching accuracy required for achieving recognition rate of 97% or more is as low as about 15% (see Non-Patent Literature 6). Based on this point, it may be possible to construct an object model with an even lesser number of local descriptors than those obtained through condensing.</p><p id="p0014" num="0014">In other words, as a technique of reducing the memory size of models, a technique of choosing local descriptors to be stored in models thereby to reduce the memory size of the models can be considered. In this case, it is necessary to reduce the number of local descriptors to be stored in the models while maintaining the object recognition rate.</p><p id="p0015" num="0015">Namely, when all the local descriptors are stored in the models, it is possible to recognize three-dimensional objects highly accurately. However, due to a huge number of local descriptors, a huge memory size is required for the models.<!-- EPO <DP n="8"> --></p><heading id="h0008">SOLUTION TO THE PROBLEMS</heading><p id="p0016" num="0016">The present invention is, based on the above viewpoint, to choose local descriptors that are less likely to lower the recognition rate, and thereby to construct small memory models which enable highly accurate object recognition. In addition, the present invention provides a method for compiling an image database using the models, and an apparatus and a program for processing the image database.<br/>
The present invention provides a method for compiling an image database that is used for a three-dimensional object recognition comprising the steps of: extracting, from a plurality of images each image showing a three-dimensional object from different viewpoint, a plurality of local descriptors each of which is a vector representing respective local features of each image; constructing an object model of the three-dimensional object, the object model being obtained by estimating contribution of each vector to the three-dimensional object recognition, by choosing the vectors making positive contribution and by organizing the chosen vectors in such a manner that each vector is adapted to be used for approximate nearest neighbor searching; and storing into the image database the images showing the three-dimensional object and the constructed object model with an object ID for identifying the three-dimensional object being attached, wherein: each of the steps is executed by a computer; the storing step stores the object model and the corresponding object ID so that, when an image showing a three-dimensional object in question is given as a<!-- EPO <DP n="9"> --> query while a plurality of object models are stored in the image database, the computer extracts a plurality of query local descriptors from the query through a similar step to the extracting step, retrieves vectors as neighbor vectors of each query local descriptor, each neighbor vector being retrieved from the stored object models in the image database by using an algorithm of the approximate nearest neighbor searching, obtains object IDs attached to the neighbor vectors, determines at least one three-dimensional object which is identified by the object IDs as a candidate and determines at least one three-dimensional object based on points of similarities and/or of differences between each query local descriptor and corresponding neighbor vector; and the object model construction step estimates the contribution of each vector in such a manner that when a vector extracted from an image of a three-dimensional object is approximately nearest to another vector according to the same three-dimensional object from a different viewpoint, the vector is regarded to make a positive contribution, and when the vector is approximately nearest to another vector according to a different three-dimensional object, the vector is regarded to make a negative contribution.</p><p id="p0017" num="0017">In another aspect, the present invention provides an apparatus for processing an image database that is used for a three-dimensional object recognition comprising: an extraction section which extracts, from a plurality of images each image showing a three-dimensional object from different viewpoint, a plurality of local<!-- EPO <DP n="10"> --> descriptors each of which is a vector representing respective local features of each image; a model construction section which constructs an object model of the three-dimensional object, the object model being obtained by estimating contribution of each vector to the three-dimensional object recognition, by choosing the vectors making positive contribution and by organizing the chosen vectors in such a manner that each vector is adapted to be used for approximate nearest neighbor searching; a storing section which stores into the image database the images showing the three-dimensional object and the constructed object model with an object ID for identifying the three-dimensional object being attached; and a retrieval section which, when an image showing a three-dimensional object in question is given as a query while a plurality of object models are stored in the image database: extracts a plurality of query local descriptors from the query in a similar manner as in the extraction section; retrieves vectors as neighbor vectors of each query local descriptor, each neighbor vector being retrieved from the stored object models in the image database by using an algorithm of the approximate nearest neighbor searching; obtains object IDs attached to the neighbor vectors; determines at least one three-dimensional object which is identified by the object IDs as a candidate; and determines at least one three-dimensional object based on points of similarities and/or of differences between each query local descriptor and corresponding neighbor vector, wherein the object model construction section estimates the contribution of each vector in such a manner that when<!-- EPO <DP n="11"> --> a vector extracted from an image of a three-dimensional object is approximately nearest to another vector according to the same three-dimensional object from a different viewpoint, the vector is regarded to make a positive contribution, and when the vector is approximately nearest to another vector according to a different three-dimensional object, the vector is regarded to make a negative contribution.</p><p id="p0018" num="0018">In still another aspect, the present invention provides a program for processing an image database that is used for a three-dimensional object recognition, the program causing a computer to function as: an extraction section which extracts, from a plurality of images each image showing a three-dimensional object from different viewpoint, a plurality of local descriptors each of which is a vector representing respective local features of each image; a model construction section which constructs an object model of the three-dimensional object, the object model being obtained by estimating contribution of each vector to the three-dimensional object recognition, by choosing the vectors making positive contribution and by organizing the chosen vectors in such a manner that each vector is adapted to be used for approximate nearest neighbor searching; a storing section which stores into the image database the images showing the three-dimensional object and the constructed object model with an object ID for identifying the three-dimensional object being attached; and a retrieval section which, when an image showing a three-dimensional object in question is given as a query while a<!-- EPO <DP n="12"> --> plurality of object models are stored in the image database: extracts a plurality of query local descriptors from the query in a similar manner as in the extraction section, retrieves vectors as neighbor vectors of each query local descriptor, each neighbor vector being retrieved from the stored object models in the image database by using an algorithm of the approximate nearest neighbor searching; obtains object IDs attached to the neighbor vectors; determines at least one three-dimensional object which is identified by the object IDs as a candidate; and determines at least one three-dimensional object based on points of similarities and/or of differences between each query local descriptor and corresponding neighbor vector, wherein the object model construction step estimates the contribution of each vector in such a manner that when a vector extracted from an image of a three-dimensional object is approximately nearest to another vector according to the same three-dimensional object from a different viewpoint, the vector is regarded to make a positive contribution, and when the vector is approximately nearest to another vector according to a different three-dimensional object, the vector is regarded to make a negative contribution.</p><p id="p0019" num="0019">An aspect of the feature of the present invention is that through an object recognition simulation using a huge number of images, the degree of contribution (positive contribution) and the degree of obstruction (negative contribution) to the object recognition caused by the local descriptors are obtained thereby to choose local descriptors.<!-- EPO <DP n="13"> --></p><heading id="h0009">EFFECTS OF THE INVENTION</heading><p id="p0020" num="0020">In the method for compiling an image database used for a three-dimensional object recognition according to the present invention, the above model construction step estimates the contribution of vectors in such a manner that when each vector extracted from an image of a three-dimensional object is approximately nearest to another vector according to the same three-dimensional object from a different viewpoint, the vector is regarded to make a positive contribution, and when the vector is approximately nearest to another vector according to a different three-dimensional object, the vector is regarded to make a negative contribution, and then chooses the local descriptors to be used for models. Accordingly, such local descriptors that are less likely to lower the recognition rate are chosen, and thus it is possible to construct small memory models which can realize highly accurate object recognition.</p><p id="p0021" num="0021">In the present invention, the local descriptors represent local features of images by vectors. A specific mode for local descriptors is, for example, the SIFT. In the embodiment described later, the PCA-SIFT is applied as an example of modes for local descriptors.</p><p id="p0022" num="0022">Further, to contribute to recognition of an object means that a local descriptor contributes to improvement in the recognition rate. Of the local descriptors, there are local descriptors that can<!-- EPO <DP n="14"> --> make a positive contribution to recognition of an object in many images among a plurality of images showing the object to be recognized. It is considered that if such local descriptors are stored in models, a fewer number of local descriptors are required for recognition of a certain number of images. Such local descriptors are considered to be effective local descriptors for constructing object models, and are given high evaluations.</p><p id="p0023" num="0023">Still further, to organize local descriptors so as to be adapted to be used for approximate nearest neighbor searching means to extract local descriptors from images of an object to be stored in an image database so as to store in the database the local descriptors and the above object while the both are associated with each other. The nearest neighbor searching is a process of determining, when a local descriptor is given, a local descriptor nearest to the given local descriptor from among local descriptors stored in the above database. As an example of techniques which evaluate whether or not local descriptors are nearest neighbors, the distances between respective two vectors are calculated, and the vectors at the shortest distance are regarded as nearest neighbors. Here, as to local descriptors which are determined through the above nearest neighbor searching, a local descriptor obtained from the search result need not necessarily be nearest to its corresponding query local descriptor, but needs to be near (similar) to the query local descriptor. For example, in the embodiment to be described later, approximate nearest neighbor searching (which finds nearest neighbors through approximation<!-- EPO <DP n="15"> --> processing but does not guarantee they are true nearest neighbors) is employed as the nearest neighbor searching. Here, the reason why the approximate nearest neighbor searching is employed instead of the nearest neighbor searching is mainly for the sake of shortening processing time required for searching.<br/>
Further, to obtain one object from candidates, based on the points of similarities or the points of differences between each query local descriptor and candidate local descriptors means to determine one object that is most similar to the query local descriptor by estimating, using a predetermined technique, points of similarity or points of differences between the query local descriptor and the candidate local descriptors. As a specific example, there is a technique in which nearest local descriptors to query local descriptors are retrieved from among local descriptors stored in models, and a vote is cast for an object according to each of the nearest local descriptors obtained as retrieve results, and an object having obtained the largest number of votes is determined as the object most similar to the query object.</p><p id="p0024" num="0024">Hereinafter, preferred modes of the present invention will be described.<br/>
Further, the model construction step may specify an approximate nearest vector to a target vector to be estimated, the approximate nearest vector being retrieved from vectors extracted from images showing from the different viewpoints the same three-dimensional object according to the target vector and from<!-- EPO <DP n="16"> --> images of different three-dimensional objects; count up a score in the case where the approximate nearest vector is derived from the same three-dimensional object according to the target vector; and choose the vectors that construct the object model based on scores counted in the counting steps for each vector. Accordingly, when images are provided showing, from a plurality of viewpoints, an object to be stored in an image database, each local descriptor extracted from an image showing an object from a viewpoint is estimated, whereby whether or not the local descriptor is used in the model of the object can be chosen.<br/>
Alternatively, the above model construction step may retrieve and specify a vector that is approximately nearest to a target vector to be estimated, from images showing from different viewpoints the same three-dimensional object according to the above target vector and from images of different three-dimensional objects, count up a score in the case where the approximate nearest vector is derived from the same three-dimensional object according to the target vector, deduct a score in the case where the approximate nearest vector is derived from images of different three-dimensional objects, and choose vectors that construct the above object model, based on the calculated score.</p><p id="p0025" num="0025">Further, the above model construction step may score each vector extracted from each image showing the three-dimensional object to be stored from the different viewpoints. Accordingly, local descriptors extracted from the images showing respective objects from<!-- EPO <DP n="17"> --> respective viewpoints are estimated, whereby local descriptors that are used for constructing a model of each object can be determined.</p><p id="p0026" num="0026">Still further, the above model construction step may choose the vectors so that the vectors extracted from the images of the same three-dimensional object from different viewpoints are shared almost evenly in the object model. Accordingly, models almost evenly include local descriptors obtained from the respective viewpoints, and thus whatever the viewpoint of an image given as a query is, a stable nearest neighbor searching result can be obtained, and a high recognition rate can be realized.</p><p id="p0027" num="0027">The above model construction step may estimate the contribution of each vector to the recognition of a three-dimensional instance. In the case of recognition of the instance of an object as well as recognition of the class of an object, highly accurate, high-speed, memory efficient technique may be preferred. Since the visual words substantially involve grouping, the visual words will be effective for the recognition in the class level, but are not compatible with the recognition in the instance level. The technique of the present invention is considered to be particularly effective for the recognition in the instance level. However, this should not be deemed to exclude the employment of the technique of the present invention into the recognition in the class level, and into the technique using the visual words.</p><p id="p0028" num="0028">The various preferred modes described herein may be also realized by combining any of these modes.<!-- EPO <DP n="18"> --></p><heading id="h0010">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p0029" num="0029"><ul><li><figref idrefs="f0001">FIG. 1</figref> is an explanatory diagram illustrating a flow of model storing processing according to the present invention.</li><li><figref idrefs="f0001">FIG. 2</figref> is an explanatory diagram illustrating features of a local descriptor that makes positive contributions (nearest local descriptor to a plurality of local descriptors) according to the present invention.</li><li><figref idrefs="f0002">FIG. 3</figref> is an explanatory diagram illustrating an example of a technique of greedily choosing feature points according to this embodiment.</li><li><figref idrefs="f0003">FIG. 4</figref> is an explanatory diagram showing the number of frame images and the average number of local descriptors extracted per frame image according to an experiment of this embodiment.</li><li><figref idrefs="f0003">FIG. 5</figref> is a diagram illustrating examples of frame images from an image database COIL-100, which are used in an experiment of this embodiment.</li><li><figref idrefs="f0004">FIG. 6</figref> is a graph showing a first experimental result according to this embodiment (a graph showing the recognition result of 11 objects shown in <figref idrefs="f0003">FIG. 4</figref>).</li><li><figref idrefs="f0005">FIG. 7</figref> is a graph showing a second experimental result according to this embodiment (a graph showing recognition result of COIL-100).</li><li><figref idrefs="f0006">FIG. 8</figref> is a flowchart showing a procedure for storing images in an image database used for three-dimensional object<!-- EPO <DP n="19"> --> recognition, according to this embodiment.</li><li><figref idrefs="f0007">FIG. 9</figref> is a flowchart showing a procedure to be performed for object recognition (retrieval) using the image database where images are stored based on the procedure shown in <figref idrefs="f0006">FIG. 8</figref>.</li><li><figref idrefs="f0008">FIG. 10</figref> is a block diagram illustrating a functional configuration of an apparatus for processing the image database used for three-dimensional object recognition according to the present invention.</li></ul></p><heading id="h0011">BEST MODE FOR CARRYING OUT THE INVENTION</heading><p id="p0030" num="0030">Hereinafter, the present invention will be described in more detail with reference to the drawings. It is noted that the description below is merely an example in all aspects, and should not be deemed to limit the present invention.</p><heading id="h0012">«Embodiment»</heading><heading id="h0013">1. Outline</heading><p id="p0031" num="0031"><figref idrefs="f0001">FIG. 1</figref> is a diagram illustrating a flow of model storing processing according to the present invention. Local descriptors include such local descriptors that improve the recognition rate of object recognition when they are stored in models, and such local descriptors that lower the recognition rate. In the present invention, in order to analyze how the local descriptors change the recognition rate, an object recognition simulation will be performed using images for model construction. In the object recognition simulation of the present invention, if local descriptors contribute to the object<!-- EPO <DP n="20"> --> recognition in a manner as to improve the recognition rate, such a contribution is called "positive contribution", whereas if local descriptors contribute to the object recognition in a manner as to lower the recognition rate, such a contribution is called "negative contribution".</p><p id="p0032" num="0032">Some local descriptors positively contribute to recognition of many images. It is considered that if such local descriptors are stored in models, a fewer number of local descriptors are required for recognition of a certain number of images. Thus, in the present invention, such local descriptors are considered to be effective local descriptors to achieve the objective of constructing small memory models that realize highly accurate object recognition. At this time, some of such local descriptors may negatively contribute to recognition of some images. Local descriptors making negative contributions are such local descriptors that have caused error correspondence in the object recognition simulation. Thus, when such local descriptors are stored, it is considered that such local descriptors are highly likely to negatively contribute to recognition of unknown images. Accordingly, in the present invention, it will be assumed that those local descriptors which negatively contribute to a fewer images are less likely to cause erroneous voting and are more effective local descriptors.</p><p id="p0033" num="0033">In view of the above idea, in the present invention, the contribution of local descriptors and their characteristics are analyzed based on the result of the object recognition simulation; as many local<!-- EPO <DP n="21"> --> descriptors making negative contributions as possible are eliminated; and combinations of effective local descriptors making positive contributions are searched for, for the sake of the objective achievement. However, since this combination searching involves a large-scale combination optimization problem, it is difficult to obtain optimal solutions. Thus, the present invention will propose a greedy storage technique (that may not be optimal solutions but may achieve the objective) of storing in models local descriptors that are effective for the objective achievement.</p><p id="p0034" num="0034">In the present invention, images that are obtained by shooting a recognition target object while the object is being rotated are referred to as frame images, and are used as model construction images. In addition, in the present invention, a PCA-SIFT is used as a technique of extracting local descriptors. The PCA-SIFT is disclosed, for example, in "<nplcit id="ncit0008" npl-type="s"><text>PCA-SIFT: A more distinctive representation for local image descriptors" by Y. Ke and R. Sukthankar, Proc. of CVPR2004, Vol.2, pp.506-513 (2004</text></nplcit>). Hereinafter, processes performed to construct a model will be described specifically.</p><heading id="h0014">2. Object recognition simulation</heading><p id="p0035" num="0035">In the present invention, an object recognition simulation is performed using the frame images, correspondence between respective query local descriptors and local descriptors in other images is checked, and how the correspondence contributes to the object recognition rate will be analyzed. In this section, description will be made on the object recognition simulation.<!-- EPO <DP n="22"> --></p><p id="p0036" num="0036">In this embodiment, the technique by Noguchi et al. (see Non-Patent Literature 6, and Patent Literature 1) will be used for the object recognition simulation. In this technique, for the sake of approximate nearest searching of local descriptors, models are constructed, and data is stored in hash tables. Next, local descriptors are obtained from unknown images, and by using each local descriptor as a query, its corresponding local descriptor is searched for from the hash tables through the approximate nearest searching. A vote is cast for an object including such a corresponding local descriptor. This process is performed with respect to all the local descriptors obtained from the unknown images, and an object having obtained a largest number of votes is regarded as a recognition result. In the object recognition simulation, local descriptors obtained from a frame image are used as queries, and the other local descriptors obtained from the remaining frame images are stored in models.</p><p id="p0037" num="0037">In this case, when a local descriptor that is nearest to a query local descriptor is obtained from the same object as the query local descriptor is, the local descriptor allows correct voting for the query, and thus contributes to the object recognition in a manner as to improve the recognition rate. Accordingly, in this embodiment, such a local descriptor is set as a local descriptor making a positive contribution. On the other hand, when a local descriptor that is nearest to a query local descriptor is obtained from an object different from that the query local descriptor is obtained from, the local<!-- EPO <DP n="23"> --> descriptor contributes to the object recognition in a manner as to lower the recognition rate. Accordingly, in this embodiment, such a local descriptor is set as a local descriptor making a negative contribution. In the object recognition simulation, the above process is performed with respect to all the frame images, and all the local descriptors are analyzed in terms of their contributions.</p><heading id="h0015">3. Contribution of local descriptors to object recognition and their characteristics</heading><heading id="h0016">3.1. Positive contribution and characteristics</heading><p id="p0038" num="0038">The characteristics of local descriptors making positive contributions will be described. From the result of the object recognition simulation, among the local descriptors making positive contributions, there are such local descriptors that are each nearest to a plurality of local descriptors in a feature space, as shown in <figref idrefs="f0001">FIG. 2</figref>. When such local descriptors, among local descriptors, that can positively contribute to recognition of as many images as possible are stored in models, it is considered that a fewer number of local descriptors are required for recognition of a certain number of images.</p><p id="p0039" num="0039">That is, for recognition of n images, if one local descriptor that positively contributes to recognition of n images is stored, the number of local descriptors to be stored is fewer than if n local descriptors each of which positively contributes to recognition of one image is stored. Based on such an idea, in the object recognition simulation in this embodiment, the local descriptors that can positively contribute to recognition of more images are set as effective<!-- EPO <DP n="24"> --> local descriptors for the objective achievement. Thus, in the present invention, how many images the local descriptor positively contributes to is set as a criterion for determining the effectiveness of a local descriptor making a positive contribution, and the number of the images is set as an evaluation value E<sub>1</sub>. That is, the greater E<sub>1</sub> of a local descriptor is, the more images the local descriptor positively contributes to in the object recognition simulation. Thus, it can be said that such a local descriptor is effective for constructing a small memory model.</p><heading id="h0017">3.2. Negative contribution and characteristics</heading><p id="p0040" num="0040">Local descriptors making negative contributions and their characteristics will be described. Nearest to a local descriptor making a negative contribution, local descriptors which are obtained from other objects are present. Thus, when such a local descriptor is stored in a model, it is considered that the local descriptor is highly likely to negatively contribute to recognition of unknown images. Based on such an idea, in this embodiment, local descriptors that can make negative contributions are considered to be ineffective for the objective achievement.</p><p id="p0041" num="0041">However, even among such local descriptors that can make negative contributions, there are some local descriptors that make positive contributions for certain images. Thus, not all the local descriptors that make negative contributions are ineffective for the objective achievement. For example, it will be assumed that there is a local descriptor that positively contributes to recognition of n<!-- EPO <DP n="25"> --> images, and that negatively contributes recognition of one image. In this case, the number of local descriptors required for recognizing n images will be reduced if two local descriptors, i.e., the aforementioned local descriptor and a local descriptor that positively contributes to recognition of the image that the aforementioned local descriptor negatively contributes to are stored in a model, as compared to if n local descriptors each of which positively contributes to recognition of one image are stored in a model. Thus, in the present invention, for the sake of searching for effective local descriptors among the local descriptors that make negative contributions, how many images each local descriptor negatively contributes to for their recognition is used as the determination criterion, whereby the effectiveness of each local descriptor is obtained. The number of such images is set as an evaluation value E<sub>2</sub>. That is, when the evaluation value E<sub>2</sub> of a local descriptor is smaller, it means that there are present fewer local descriptors that are obtained from other objects, nearest to the local descriptor. It is considered that such a local descriptor is less likely to cause erroneous recognition, and thus, the local descriptor is considered to be effective for the objective achievement.</p><heading id="h0018">4. Storage in models</heading><p id="p0042" num="0042">In order to construct small memory models which realize highly accurate object recognition, it is necessary to eliminate as many local descriptors making negative contributions as possible, and to search for combinations of effective local descriptors making positive contributions for the objective achievement. In this section, based on<!-- EPO <DP n="26"> --> the contribution of the local descriptors and their effectiveness which are obtained from the result of the object recognition simulation, a technique of searching for combinations of local descriptors which realize the objective achievement will be described in detail. It is noted that, in this embodiment, each model is constructed based on the assumption that the following preconditions are satisfied. E<sub>1</sub> and E<sub>2</sub> are values obtained from the object recognition simulation when all local descriptors obtained from other frame images than a query image are stored in a model. However, when a certain local descriptor is not stored in a model, local descriptors that should positively or negatively contribute to the certain local descriptor will positively or negatively contribute to another local descriptor, and consequently the values E<sub>1</sub> and E<sub>2</sub> may vary. In this embodiment, it will be assumed as the precondition that such influence is small, and that the values of E<sub>1</sub> and E<sub>2</sub> will not vary.</p><heading id="h0019">4.1. Evaluation criterion 1 for storage</heading><p id="p0043" num="0043">In this section, based on the contribution of the local descriptors and their effectiveness which are obtained from the result of the object recognition simulation, an evaluation criterion for their storage in models will be described specifically.<br/>
Through the object recognition simulation, the evaluation value E<sub>1</sub> which represents the effectiveness of each local descriptor making a positive contribution and the evaluation value E<sub>2</sub> which represents the effectiveness of each local descriptor making a negative contribution have been obtained. Here, a local descriptor that has a<!-- EPO <DP n="27"> --> greater value of E<sub>1</sub> and a smaller value of E<sub>2</sub>, is an more effective local descriptor for the objective achievement. Thus, in this embodiment, a value obtained from E<sub>1</sub>-E<sub>2</sub> is set as an evaluation criterion for storing each local descriptor in a model, and local descriptors are stored in each model in decreasing order of their evaluation criteria.</p><heading id="h0020">4.2. Evaluation criterion for storage 2</heading><p id="p0044" num="0044">In this embodiment, when local descriptors are stored in a model by using the value obtained from E<sub>1</sub>-E<sub>2</sub> as the evaluation criterion, there may be local descriptors that have the same E<sub>1</sub>-E<sub>2</sub> value. In this section, description will be made on an evaluation criterion for determining the order of such local descriptors to be stored in a model.</p><p id="p0045" num="0045">In this embodiment, in the object recognition simulation, distances between a local descriptor and its nearest local descriptors are calculated and saved. Based on the distance calculation, if a local descriptor having a correct object ID is close in distance to a query local descriptor, within a feature space, it is highly likely that the local descriptor gives a correct vote. In addition, if a local descriptor having a wrong object ID is far in distance from a query local descriptor, within the feature space, it is less likely that the local descriptor gives an erroneous vote. Accordingly, in this embodiment, with this distance information, the order of the local descriptors to be stored in a model will be determined, and description will be made thereon hereinafter in detail.</p><p id="p0046" num="0046">In the object simulation in this embodiment, when the<!-- EPO <DP n="28"> --> object ID of a query local descriptor is the same as the object ID of a local descriptor that is nearest to the query local descriptor, the distance between the query local descriptor and the local descriptor is set as D<sub>1</sub>. When the value of D<sub>1</sub> of a local descriptor is lower, it indicates that the local descriptor which has the same object ID as the query local descriptor, among such local descriptors having the same E<sub>1</sub>-E<sub>2</sub> value, is present nearest to the query local descriptor. Thus, it is considered to be less likely that local descriptors obtained from unknown images of other objects are present nearer to the query local descriptor than the local descriptor that has been found to be the nearest to the query local descriptor. In addition, the distance between a query local descriptor and a local descriptor that is nearest to the query local descriptor, among those local descriptors having object IDs different from that of the query local descriptor, is set as D<sub>2</sub>. When the value of D<sub>2</sub> is greater, it indicates that fewer local descriptors having other object IDs are present nearest to the query local descriptor. Thus, it is considered to be highly likely that a local descriptor obtained from an unknown image of the same object is present nearest to the query local descriptor as compared to local descriptors having other object IDs. Accordingly, in this embodiment, D<sub>1</sub> and D<sub>2</sub> are used for the following expression.</p><p id="p0047" num="0047"><maths id="math0001" num="[Expression 1]"><math display="block"><msub><mi>E</mi><mn>3</mn></msub><mo>=</mo><mfrac><msub><mi>D</mi><mn>2</mn></msub><msub><mi>D</mi><mn>1</mn></msub></mfrac></math><img id="ib0001" file="imgb0001.tif" wi="43" he="24" img-content="math" img-format="tif"/></maths> The above expression is set as an evaluation criterion for<!-- EPO <DP n="29"> --> storing each local descriptor, and if local descriptors have the same E<sub>1</sub> - E<sub>2</sub> value, the local descriptors are stored in a model in decreasing order of their values E<sub>3</sub>. The following three points should be taken into account when the value of E<sub>3</sub> is to be obtained.</p><p id="p0048" num="0048">Firstly, since points of local descriptors that are nearest to a query local descriptor are obtained approximately by using a hash function, there may be a case where no local descriptor having another object ID is present nearest to the query local descriptor. It is considered that such a local descriptor is less likely to cause erroneous recognition when it is stored in a model. Accordingly, in such a case, the value of D<sub>2</sub> is set as ∞. Secondly, there may be a case where the object ID of a query local descriptor is different from that of a local descriptor nearest to the query local descriptor. It is considered that such a local descriptor is highly likely to cause erroneous recognition when it is stored in a model. Accordingly, in such a case, E<sub>3</sub> = 0 is set. Thirdly, there may be a case where no local descriptor can be found to be nearest to a query local descriptor. This means that local descriptors do not contribute to recognition of any image in a huge number of frame images. Thus, such local descriptors are considered to be less likely to affect the recognition rate. Accordingly, in such a case, E<sub>3</sub> = 0 is set.</p><heading id="h0021">4.3. Technique of storage in models</heading><p id="p0049" num="0049">In the object recognition system used in this embodiment, correspondence between local descriptors obtained from a query image and local descriptors stored in models is analyzed, and when a<!-- EPO <DP n="30"> --> correspondence is found between a local descriptor and its corresponding query local descriptor, a vote is cast for an object including the local descriptor. An object having obtained the largest number of votes is regarded as a recognition result. That is, such an object that has obtained even a slightly larger number of votes than other objects can be regarded as the recognition result. Thus, it is necessary to search for a combination of as few number of local descriptors as possible so as to allow a correct answer object to obtain the largest number of votes, no matter what image is used as the query image. In the present invention, by using the above-mentioned evaluation criteria for storing local descriptors in each model, a technique of greedily obtaining a combination of local descriptors will be proposed. Description will be made thereon hereinafter specifically.</p><p id="p0050" num="0050">In order to correctly recognize an image, no matter what image is used as the query image, it is considered to be necessary to correctly recognize at least all frame images. Local descriptors that positively contribute to the frame images have been obtained in the object recognition simulation. Based on the information, in this embodiment, each model is constructed so that all the frame images can be recognized correctly. Accordingly, image tables are prepared for respective objects so as to clearly show the relation between a certain local descriptor stored in a model and its contribution to recognition of a certain frame image.</p><p id="p0051" num="0051"><!-- EPO <DP n="31"> --><maths id="math0002" num="[Expression 2]"><math display="block"><mi mathvariant="bold">X</mi><mo>=</mo><mfenced><msub><mi>X</mi><mn>1</mn></msub><mo>…</mo><msub><mi>X</mi><mi>N</mi></msub></mfenced></math><img id="ib0002" file="imgb0002.tif" wi="38" he="17" img-content="math" img-format="tif"/></maths></p><p id="p0052" num="0052">Here, N is the number of images used for constructing a model of an object, and image tables X indicate how many correct votes can be cast based on models currently stored when an image having an ID Ij is given as a query. In this case, each time a local descriptor is stored in a model, one vote is cast for a frame image to which the local descriptor positively contributes in the object recognition simulation. In addition, if a local descriptor having been stored makes a negative contribution, one vote that has been wrongly cast for an object image in the object recognition simulation is decremented from the image table of the object image. This means that when one vote is decremented from an image, for the sake of correct recognition of the image, it is necessary to store local descriptors in a model so that the image can obtain two or more votes for correct recognition. Thus, in this embodiment, a minimum vote number s in an image table is defined as s = 1. Each time a local descriptor has been stored in a model, as to the remaining local descriptors yet to be stored, the number of those images whose values in their image tables are less than s at that time, among the images to which the remaining local descriptors can positively contribute, is set as a new evaluation value E'<sub>1</sub>, and the remaining local descriptors are stored in the model greedily in decreasing order of their values of E'<sub>1</sub> - E<sub>2</sub>.</p><p id="p0053" num="0053">Specific examples will be shown in <figref idrefs="f0002">FIG. 3</figref>. A local<!-- EPO <DP n="32"> --> descriptor f extracted from an object A is a local descriptor that positively contributes to images having image IDs 1, 2, 4, and 5 of the object A in the object recognition simulation, and negatively contributes to images having image IDs 1 and 3 of an object B. If the local descriptor f is stored in a model, as shown in <figref idrefs="f0002">FIG. 3(a)</figref>, votes are cast in an image table X<sup>A</sup> of the object A, and votes are decremented in an image table X<sup>B</sup> of the object B. Next, a local descriptor g extracted from the object A is a local descriptor that positively contributes to images having image IDs 1, 2, and 3 of the object A, and negatively contributes to an image having an image ID 1 of the object B in the object recognition simulation. Here, among the image IDs to which the local descriptor g can positively contribute, the image ID 3 of the object A is the only the image ID that has not been positively contributed to, according to a model currently being constructed. Therefore, the new evaluation value E'<sub>1</sub> of the local descriptor g satisfies E'<sub>1</sub> = 1. Here, if the local descriptor g is subsequently stored in the model, the image tables will be as shown in <figref idrefs="f0002">FIG. 3(b)</figref>.</p><p id="p0054" num="0054">In this embodiment, a threshold t is set for the total number of local descriptors to be stored in a model, and when all the values in each image table reach s or more, if the number of local descriptors stored in the model is less than t, the minimum vote number s in the image table is incremented by one for stable object recognition, and local descriptors are stored in decreasing order of their value of E'<sub>1</sub> - E<sub>2</sub>, such that all the values in the image table will be s or more. The above processing is repeated until the number of local<!-- EPO <DP n="33"> --> descriptors stored in the model reaches t.</p><heading id="h0022">« Flow chart and block diagram»</heading><p id="p0055" num="0055"><figref idrefs="f0006">FIG. 8</figref> is a flowchart showing a procedure of storing images in a three-dimensional object recognition image database, according to this embodiment. As shown in <figref idrefs="f0006">FIG. 8</figref>, when frame images showing an object to be stored from a plurality of viewpoints are inputted to a computer performing processing, the computer extracts local descriptors from the frame images showing the object (step S11). Next, local descriptors in a certain frame image are used as a query, and local descriptors obtained from the other frame images are stored in models, and then object recognition simulation is performed. As a result of the object recognition simulation, scores are obtained with respect to the local descriptors making positive contributions. Scores have been obtained with respect to the local descriptors in the same frame image (step S 13). Next, whether or not scores are obtained with respect to all the frame images showing the object to be stored is determined (step S15). When there are any frame images yet to be processed (No in step S 15), the above step S 13 of the object recognition simulation is repeated with respect to the subsequent frame images or frame images of other objects (step S 17).</p><p id="p0056" num="0056">When the object recognition simulation is completed with respect to all the frame images (Yes in step S 15), local descriptors that highly positively contribute to recognition of each frame image of the target object are chosen (step S19). A specific example of a procedure of choosing such local descriptors is as per the above description made<!-- EPO <DP n="34"> --> with reference to <figref idrefs="f0002">FIG. 3</figref>. Choice of local descriptors is repeated until a predetermined number of local descriptors (t local descriptors according to the description with reference to <figref idrefs="f0002">FIG. 3</figref>) have been chosen for the target object (step S21). The chosen local descriptors are stored into an image database for constructing a model according to the target object (step S23). Next, whether or not there are any objects yet to be stored is checked (step S25), and in the case where there are any other objects yet to be stored (No in step S25), the routine returns to step S11 and the processing is repeated. When storage of models according to all the objects is completed, (Yes in step S25), the storage processing into the image database ends.</p><p id="p0057" num="0057"><figref idrefs="f0007">FIG. 9</figref> is a flowchart showing a procedure of recognition (retrieval) using, as the target, the image database in which images are stored based on the procedure shown in <figref idrefs="f0006">FIG. 8</figref>. As shown in <figref idrefs="f0007">FIG. 9</figref>, when an image is inputted as a query, a computer performing processing extracts local descriptors from the query (step S31). Next, a local descriptor nearest to each of the extracted local descriptors is determined from among the local descriptors stored in the image database. A vote is cast for an object including the determined local descriptor in its model (step S33). Next, with respect to each of the local descriptors included in the query, whether or not a vote has been cast for an object that is obtained as a result of nearest neighbor searching is judged (step S35).<br/>
With respect to each of the local descriptors included in the query, the voting processing in above step S33 is performed.<!-- EPO <DP n="35"> --> When voting is completed with respect to all the local descriptors (Yes in step S35), an object that has obtained the largest number of votes is outputted as a recognition result (step S37).</p><p id="p0058" num="0058">Next, a configuration of a processing apparatus which processes an image database used for a three-dimensional object recognition according to the present invention will be described.<br/>
<figref idrefs="f0008">FIG. 10</figref> is a block diagram illustrating a functional configuration of the processing apparatus which processes an image database used for a three-dimensional object recognition according to the present invention. In <figref idrefs="f0008">FIG. 10</figref>, to store a model of a three-dimensional object in an image database 25, a plurality of frame images 21 representing the object to be stored are given as inputs to a processing apparatus 1. A model according to a target object is outputted and stored in the image database 25. On the other hand, to retrieve an object according to a model stored in the image database 25, a query 23 is given as an input to the processing apparatus 1. The processing apparatus 1 refers to the image database 25 to output information to specify the object stored in the image database 25.</p><p id="p0059" num="0059">An extraction section 11 extracts feature vectors from the inputted frame images 21 or the inputted query 23. A model construction section 13 chooses, through an object recognition simulation, local descriptors that are effective for image recognition from among the local descriptors extracted from the frame images, organizes the chosen local descriptors so as to be adapted to be used for nearest neighbor searching, and constructs a model according to<!-- EPO <DP n="36"> --> the target object. A storing section 15 stores the constructed model in the image database. When the query 23 is inputted, a retrieval section 17 determines, through the nearest neighbor search processing, a local descriptor that is nearest to each of the local descriptors extracted from the query 23 from among the local descriptors stored in the image database 25. The retrieval section 17 casts a vote for an image including the determined local descriptor, and specifies an object from among objects stored in the image database 25, based on a result of the voting performed with respect to each local descriptor included in the query. The retrieval section 17 outputs identification information of the specified object 27 as a recognition result.</p><p id="p0060" num="0060">A computer and a memory are mainly used as hardware realizing the functions of the extraction section 11, the model construction section 13, the storing section 15, and the retrieval section 17 shown in <figref idrefs="f0008">FIG. 10</figref>. That is, when a computer executes a processing program which processes an image database used for a predetermined object recognition, the function of each section is executed.</p><heading id="h0023">«Experiments »</heading><p id="p0061" num="0061">The experiments were performed using 11 objects shown in <figref idrefs="f0003">FIG. 4</figref>, and COIL-100.<br/>
First, a data set used for an experiment performed with respect to the 11 objects will be described. In this experiment, three-dimensional objects were rotated by 360 degrees; a video of each<!-- EPO <DP n="37"> --> of the objects was shot with a Hi-Vision video camera (manufactured by Sony Corporation, model number: HDR-HCl, resolution: 740480); and all frame images obtained thereby were used for model construction. The number of the frame images was 13086 in total, and the number of local descriptors obtained was about 2.5 million, and the memory size of all the models was 191.3 MB. <figref idrefs="f0003">FIG. 4</figref> shows the used objects, the number of frame images used for constructing a model of each object, and the average number of local descriptors extracted per frame image. Query images were prepared by placing the three-dimensional objects in a lighting condition different from that when the objects were shot for the images for model construction, and by taking the objects at every 10 degrees of rotation. Accordingly, 36 images were obtained per object.</p><p id="p0062" num="0062">Next, an experiment using the COIL-100 will be described. The COIL is an image database including images of 100 objects each shot at every 5 degrees of rotation. In this experiment, among 72 images which were obtained by shooting each object at every 5 degrees of rotation, 36 images which were obtained by shooting the object at angles of 0 degrees, 10 degrees, 20 degrees, ..., and 350 degrees were used for model construction. As query images, 36 images were prepared per object by shooting the object at angles of 5 degrees, 15 degrees, 25 degrees, ..., and 355 degrees. The number of local descriptors obtained from all the images for model construction was about 180,000, and the memory size of all the models constructed was 13.6 MB. <figref idrefs="f0003">FIG. 5</figref> illustrates examples of the used frame images.<!-- EPO <DP n="38"> --></p><p id="p0063" num="0063">For both experiments, the technique by Noguchi et al. was used as the three-dimensional object recognition technique. The same parameters were used in the object recognition simulation according to this embodiment and in the experiments.<br/>
In the experiments, models constructed using this embodiment, and models chosen at random from all the local descriptors were used, and the recognition rates were compared. For the random technique, 10 kinds of models were constructed.</p><p id="p0064" num="0064"><figref idrefs="f0004">FIG. 6</figref> indicates a result of the experiment performed using the 11 objects. It is noted that the random technique indicates an average recognition rate of the 10 models. From the experimental result, it is understood that this embodiment was more effective than the models chosen at random when the memory size of the models was smaller. Here, the result of models in the case of t = 25,000, which obtained the highest recognition rate of 98.73%, will be focused on. In the models, a "doll 2" and a "wrist watch" each had one image causing erroneous recognition, and a "doll 6" had three images causing erroneous recognitions. The images having caused the erroneous recognition were erroneously recognized because objects other than correct objects obtained a larger number of votes, or because correct objects had not obtained any vote. The problem that an object other than the correct object obtains a larger number of votes is considered to occur because nearest local descriptors to the stored local descriptors may change between a state where any local descriptor is yet to be eliminated and a state after choice of local<!-- EPO <DP n="39"> --> descriptors.</p><p id="p0065" num="0065">Next, <figref idrefs="f0005">FIG. 7</figref> indicates a result of the experiment performed using the COIL-100. It is noted that the random technique indicates an average recognition rate of 10 models. Here, the result of models in the case of t = 25,000 which obtained the recognition rate of 96% will be focused on. In the models, an "obj15" obtained the lowest recognition rate. Among the images of the "obj 15" having caused the erroneous recognition, five images caused erroneous recognition because other objects obtained a larger number of votes, and one image caused erroneous recognition because no vote was cast for the correct object. As one of the reasons why the erroneous recognitions were caused, the number of local descriptors obtained from the images can be considered. That is, the number of local descriptors obtained from each image was fewer. Thus, it may be necessary to set an evaluation criterion which allows many local descriptors to be stored in a model, even for an object from which only a few number of local descriptors are obtainable.</p><p id="p0066" num="0066">Accordingly, described in this embodiment and the experiments is the technique of reducing the memory in the three-dimensional object recognition using local descriptors by choosing local descriptors so that an object can be recognized highly accurately with as few a local descriptors as possible. As a result of the experiment using 11 objects as the targets, the recognition rate of 98.73% was obtained with the models whose memory size was reduced to one-hundredth.<br/>
<!-- EPO <DP n="40"> -->In addition, as a result of the experiment using the COIL-100 as the targets, the recognition rate of 96% was obtained with the models whose memory size was reduced to about one-seventh.</p><p id="p0067" num="0067">Various modifications of the present invention may be attained other than the above mentioned embodiment. Such modifications should not be deemed to be out of the scope of the present invention. The present invention should include all the modifications within the scope of the claims and within the above scope.</p><heading id="h0024">DESCRIPTION OF THE REFERENCE CHARACTERS</heading><p id="p0068" num="0068"><dl id="dl0001" compact="compact"><dt>1:</dt><dd>processing apparatus</dd><dt>11:</dt><dd>extraction section</dd><dt>13:</dt><dd>model construction section</dd><dt>15:</dt><dd>storing section</dd><dt>17:</dt><dd>retrieval section</dd><dt>21:</dt><dd>frame image representing an object to be stored</dd><dt>23:</dt><dd>query image</dd><dt>25:</dt><dd>image database</dd><dt>27:</dt><dd>recognition result</dd></dl></p></description><claims mxw-id="PCLM56978888" lang="DE" load-source="patent-office"><!-- EPO <DP n="47"> --><claim id="c-de-01-0001" num="0001"><claim-text>Ein Verfahren, durchgeführt von einem Computer, zur Zusammenstellung einer Bilddatenbank, die für eine dreidimensionale Objekterkennung verwendet wird, <b>dadurch gekennzeichnet, dass</b> es folgende Schritte umfasst:
<claim-text>Extraktion, aus einer Vielzahl von Bildern, wobei jedes Bild ein dreidimensionales Objekt aus einem anderen Blickwinkel zeigt, einer Vielzahl lokaler Deskriptoren, von denen jeder ein Vektor ist, der entsprechende lokale Merkmale jedes Bildes darstellt;</claim-text>
<claim-text>Konstruktion eines Objektmodells des dreidimensionalen Objekts, wobei das Objektmodell gewonnen wird durch Schätzung des Beitrags jedes Vektors zur dreidimensionalen Objekterkennung, durch Auswahl der Vektoren, die einen positiven Beitrag leisten, und durch Organisieren der ausgewählten Vektoren auf solche Art und Weise, dass jeder Vektor geeignet ist, für die Suche nach dem ungefähr nächsten Nachbarn verwendet zu werden; und</claim-text>
<claim-text>Speicherung der Bilder, die das dreidimensionale Objekt zeigen, und des konstruierten Objektmodells in der Bilddatenbank, wobei eine Objektkennung zur Identifikation des dreidimensionalen Objekts beigefügt ist, worin:
<claim-text>der Speicherungsschritt das Objektmodell und die entsprechende Objektkennung so speichert, dass, wenn ein Bild, das ein betreffendes dreidimensionales Objekt zeigt, als Abfrage gegeben wird, während eine Vielzahl von Objektmodellen in der Bilddatenbank gespeichert ist, der Computer eine Vielzahl lokaler Abfrage-Deskriptoren durch einen ähnlichen Schritt wie den Exktraktionsschritt aus der Abfrage extrahiert, benachbarte Vektoren aus den lokalen Deskriptoren bestimmt, die in der Bilddatenbank gespeichert sind, wobei jeder der benachbarten Vektoren jedem der extrahierten lokalen Abfrage-Deskriptoren am<!-- EPO <DP n="48"> --> nächsten ist und aus den gespeicherten Objektmodellen in der Bilddatenbank abgerufen wird mit Hilfe eines Algorithmus der Suche nach dem ungefähr nächsten Nachbarn,<br/>
für jeden der Vektoren eine Stimme für jedes Objekt abgibt, das den Vektor in seinem Modell einschließt, und weiter ein dreidimensionales Objekt bestimmt, das die größte Anzahl von Stimmen erhalten hat; und</claim-text>
<claim-text>der Objektmodell-Konstruktionsschritt den Beitrag jedes Vektors derart schätzt, dass, wenn ein Vektor, der aus einem Bild eines dreidimensionalen Objekts extrahiert wird, einem anderen Vektor entsprechend demselben dreidimensionalen Objekt aus einem anderen Blickwinkel ungefähr am nächsten ist, der Vektor dahingehend betrachtet wird, dass er einen positiven Beitrag leistet, und wenn der Vektor einem anderen Vektor entsprechend einem anderen dreidimensionalen Objekt ungefähr am nächsten ist, der Vektor dahingehend betrachtet wird, dass er einen negativen Beitrag leistet.</claim-text></claim-text></claim-text></claim><claim id="c-de-01-0002" num="0002"><claim-text>Das Verfahren gemäß Anspruch 1, worin<br/>
der Modellkonstruktionsschritt das Objektmodell durch folgende Schritte konstruiert:
<claim-text>Angabe eines ungefähr nächsten Vektors für einen zu schätzenden Zielvektor, wobei der ungefähr nächste Vektor aus Vektoren abgerufen wird, die aus Bildern extrahiert werden, welche aus den verschiedenen Blickwinkeln dasselbe dreidimensionale Objekt entsprechend dem Zielvektor zeigen, und aus Bildern verschiedener dreidimensionaler Objekte;</claim-text>
<claim-text>Summierung eines Werts in dem Fall, in dem der ungefähr nächste Vektor von demselben dreidimensionalen Objekt entsprechend dem Zielvektor abgeleitet ist; und</claim-text>
<claim-text>Auswahl der Vektoren, die das Objektmodell konstruieren, anhand der Werte, die in den Zählschritten für jeden Vektor gezählt wurden.</claim-text><!-- EPO <DP n="49"> --></claim-text></claim><claim id="c-de-01-0003" num="0003"><claim-text>Das Verfahren gemäß Anspruch 2, worin<br/>
der Modellkonstruktionsschritt jeden Vektor wertet, der aus jedem Bild extrahiert wurde, das das zu speichernde dreidimensionale Objekt aus den verschiedenen Blickwinkeln zeigt.</claim-text></claim><claim id="c-de-01-0004" num="0004"><claim-text>Das Verfahren gemäß Anspruch 2 oder 3, worin<br/>
der Modellkonstruktionsschritt die Vektoren so wählt, dass die Vektoren, die aus den Bildern desselben dreidimensionalen Objekts aus verschiedenen Blickwinkeln extrahiert werden, im Objektmodell zu nahezu gleichen Teilen gemeinsam genutzt werden.</claim-text></claim><claim id="c-de-01-0005" num="0005"><claim-text>Das Verfahren gemäß einem beliebigen der Ansprüche 1 bis 4, worin<br/>
der Modellkonstruktionsschritt den Beitrag jedes Vektors zur Erkennung eines dreidimensionalen Objekts schätzt.</claim-text></claim><claim id="c-de-01-0006" num="0006"><claim-text>Eine Vorrichtung zur Verarbeitung einer Bilddatenbank, die für eine dreidimensionale Objekterkennung verwendet wird, <b>dadurch gekennzeichnet, dass</b> sie Folgendes umfasst:
<claim-text>einen Extraktionsabschnitt, ausgebildet, um aus einer Vielzahl von Bildern, wobei jedes Bild ein dreidimensionales Objekt aus einem anderen Blickwinkel zeigt, eine Vielzahl lokaler Deskriptoren zu extrahieren, von denen jeder ein Vektor ist, der entsprechende lokale Merkmale jedes Bildes darstellt;</claim-text>
<claim-text>einen Modellkonstruktionsabschnitt, ausgebildet, um ein Objektmodell des dreidimensionalen Objekts zu konstruieren, wobei das Objektmodell gewonnen wird durch Schätzung des Beitrags jedes Vektors zur dreidimensionalen Objekterkennung, durch Auswahl der Vektoren, die einen positiven Beitrag leisten, und durch Organisation der ausgewählten Vektoren auf solche Art, dass jeder Vektor geeignet ist, für die Suche nach dem ungefähr nächsten Nachbarn verwendet zu werden;</claim-text>
<claim-text>einen Speicherungsabschnitt, ausgebildet, um in der<!-- EPO <DP n="50"> --> Bilddatenbank die Bilder zu speichern, die das dreidimensionale Objekt zeigen, und das konstruierte Objektmodell, wobei eine Objektkennung zur Identifikation des dreidimensionalen Objekts beigefügt ist; und</claim-text>
<claim-text>einen Abrufabschnitt, ausgebildet, um, wenn ein Bild, das ein betreffendes dreidimensionales Objekt zeigt, als Abfrage gegeben wird, während eine Vielzahl von Objektmodellen in der Bilddatenbank gespeichert ist, eine Vielzahl lokaler Abfrage-Deskriptoren auf ähnliche Art und Weise wie im Exktraktionsabschnitt aus der Abfrage extrahiert, benachbarte Vektoren aus den lokalen Deskriptoren zu bestimmen, die in der Bilddatenbank gespeichert sind, wobei jeder der benachbarten Vektoren jedem der extrahierten lokalen Abfrage-Deskriptoren am nächsten ist und aus den gespeicherten Objektmodellen in der Bilddatenbank abgerufen wird mit Hilfe eines Algorithmus der Suche nach dem ungefähr nächsten Nachbarn, für jeden der Vektoren eine Stimme für jedes Objekt abzugeben, das den Vektor in seinem Modell einschließt, und weiter ausgebildet, um ein dreidimensionales Objekt zu bestimmen, das die größte Anzahl von Stimmen erhalten hat,<br/>
wobei der Objektmodellkonstruktionsabschnitt den Beitrag jedes Vektors derart schätzt, dass, wenn ein Vektor, der aus einem Bild eines dreidimensionalen Objekts extrahiert wird, einem anderen Vektor entsprechend demselben dreidimensionalen Objekt aus einem anderen Blickwinkel ungefähr am nächsten ist, der Vektor dahingehend betrachtet wird, dass er einen positiven Beitrag leistet, und wenn der Vektor einem anderen Vektor entsprechend einem anderen dreidimensionalen Objekt ungefähr am nächsten ist, der Vektor dahingehend betrachtet wird, dass er einen negativen Beitrag leistet.</claim-text></claim-text></claim><claim id="c-de-01-0007" num="0007"><claim-text>Ein Programm zur Verarbeitung einer Bilddatenbank, die für eine dreidimensionale Objekterkennung verwendet wird, wobei das Programm <b>dadurch gekennzeichnet ist, dass</b> es, wenn es ausgeführt wird, den Computer veranlasst, als Folgendes zu fungieren:<!-- EPO <DP n="51"> -->
<claim-text>ein Extraktionsabschnitt, der aus einer Vielzahl von Bildern, wobei jedes Bild ein dreidimensionales Objekt aus einem anderen Blickwinkel zeigt, eine Vielzahl lokaler Deskriptoren extrahiert, von denen jeder ein Vektor ist, der entsprechende lokale Merkmale jedes Bildes darstellt;</claim-text>
<claim-text>ein Modellkonstruktionsabschnitt, der ein Objektmodell des dreidimensionalen Objekts konstruiert, wobei das Objektmodell gewonnen wird durch Schätzung des Beitrags jedes Vektors zur dreidimensionalen Objekterkennung, durch Auswahl der Vektoren, die einen positiven Beitrag leisten, und durch Organisieren der ausgewählten Vektoren auf solche Art und Weise, dass jeder Vektor geeignet ist, für die Suche nach dem ungefähr nächsten Nachbarn verwendet zu werden;</claim-text>
<claim-text>ein Speicherungsabschnitt, der die Bilder, die das dreidimensionale Objekt zeigen, und das konstruierte Objektmodell in der Bilddatenbank speichert, wobei eine Objektkennung zur Identifikation des dreidimensionalen Objekts beigefügt ist; und</claim-text>
<claim-text>ein Abrufabschnitt, der, wenn ein Bild, das ein betreffendes dreidimensionales Objekt zeigt, als Abfrage gegeben wird, während eine Vielzahl von Objektmodellen in der Bilddatenbank gespeichert ist, eine Vielzahl lokaler Abfrage-Deskriptoren auf ähnliche Art und Weise wie im Exktraktionsabschnitt aus der Abfrage extrahiert, benachbarte Vektoren aus den lokalen Deskriptoren bestimmt, die in der Bilddatenbank gespeichert sind, wobei jeder der benachbarten Vektoren jedem der extrahierten lokalen Abfrage-Deskriptoren am nächsten ist und aus den gespeicherten Objektmodellen in der Bilddatenbank abgerufen wird mit Hilfe eines Algorithmus der Suche nach dem ungefähr nächsten Nachbarn, für jeden der Vektoren eine Stimme für jedes Objekt abgibt, das den Vektor in seinem Modell einschließt, und weiter</claim-text>
<claim-text>ein dreidimensionales Objekt bestimmt, das die größte Anzahl von<!-- EPO <DP n="52"> --> Stimmen erhalten hat,</claim-text>
<claim-text>wobei der Objektmodellkonstruktionsschritt den Beitrag jedes Vektors derart schätzt, dass, wenn ein Vektor, der aus einem Bild eines dreidimensionalen Objekts extrahiert wird, einem anderen Vektor entsprechend demselben dreidimensionalen Objekt aus einem anderen Blickwinkel ungefähr am nächsten ist, der Vektor dahingehend betrachtet wird, dass er einen positiven Beitrag leistet, und wenn der Vektor einem anderen Vektor entsprechend einem anderen dreidimensionalen Objekt ungefähr am nächsten ist, der Vektor dahingehend betrachtet wird, dass er einen negativen Beitrag leistet.</claim-text></claim-text></claim></claims><claims mxw-id="PCLM56978889" lang="EN" load-source="patent-office"><!-- EPO <DP n="41"> --><claim id="c-en-01-0001" num="0001"><claim-text>A method executed by a computer for compiling an image database that is used for a three-dimensional object recognition <b>characterized in that</b> it comprises the steps of:
<claim-text>extracting, from a plurality of images each image showing a three-dimensional object from different viewpoint, a plurality of local descriptors each of which is a vector representing respective local features of each image;</claim-text>
<claim-text>constructing an object model of the three-dimensional object, the object model being obtained by estimating contribution of each vector to the three-dimensional object recognition, by choosing the vectors making positive contribution and by organizing the chosen vectors in such a manner that each vector is adapted to be used for approximate nearest neighbor searching; and</claim-text>
<claim-text>storing into the image database the images showing the three-dimensional object and the constructed object model with an object ID for identifying the three-dimensional object being attached, wherein:
<claim-text>the storing step stores the object model and the corresponding object ID so that, when an image showing a three-dimensional object in question is given as a query while a plurality of object models are stored in the image database, the computer extracts a plurality of query local descriptors from the query through a similar step as the extracting step, determines neighbor vectors from among the local descriptors stored in the image database,<!-- EPO <DP n="42"> --> each of the neighbor vectors being nearest to each of the extracted query local descriptors and being retrieved from the stored object models in the image database by using an algorithm of the approximate nearest neighbor searching, casts, for each of the vectors, a vote for each object including said vector in its model and further determines a three-dimensional object that has obtained the largest number of votes; and</claim-text>
<claim-text>the object model construction step estimates the contribution of each vector in such a manner that when a vector extracted from an image of a three-dimensional object is approximately nearest to another vector according to the same three-dimensional object from a different viewpoint, the vector is regarded to make a positive contribution, and when the vector is approximately nearest to another vector according to a different three-dimensional object, the vector is regarded to make a negative contribution.</claim-text></claim-text></claim-text></claim><claim id="c-en-01-0002" num="0002"><claim-text>The method according to claim 1, wherein<br/>
the model construction step constructs the object model through the steps of:
<claim-text>specifying an approximate nearest vector to a target vector to be estimated, the approximate nearest vector being retrieved from vectors extracted from images showing from the different viewpoints the same three-dimensional object according to the target vector and from images of different three-dimensional objects;<!-- EPO <DP n="43"> --></claim-text>
<claim-text>counting up a score in the case where the approximate nearest vector is derived from the same three-dimensional object according to the target vector; and</claim-text>
<claim-text>choosing the vectors that construct the object model based on scores counted in the counting steps for each vector.</claim-text></claim-text></claim><claim id="c-en-01-0003" num="0003"><claim-text>The method according to claim 2, wherein<br/>
the model construction step scores each vector extracted from each image showing the three-dimensional object to be stored from the different viewpoints.</claim-text></claim><claim id="c-en-01-0004" num="0004"><claim-text>The method according to claim 2 or 3, wherein<br/>
the model construction step chooses the vectors so that the vectors extracted from the images of the same three-dimensional object from different viewpoints are shared almost evenly in the object model.</claim-text></claim><claim id="c-en-01-0005" num="0005"><claim-text>The method according to any one of claims 1 to 4, wherein<br/>
the model construction step estimates the contribution of each vector to the recognition of a three-dimensional instance.</claim-text></claim><claim id="c-en-01-0006" num="0006"><claim-text>An apparatus for processing an image database that is used for a three-dimensional object recognition <b>characterized in that</b> it comprises:
<claim-text>an extraction section configured to extract, from a plurality of images each image showing a three-dimensional object from different viewpoint, a plurality of local descriptors each of which is a vector representing respective local features of each image;</claim-text>
<claim-text>a model construction section configured to construct an object<!-- EPO <DP n="44"> --> model of the three-dimensional object, the object model being obtained by estimating contribution of each vector to the three-dimensional object recognition, by choosing the vectors making positive contribution and by organizing the chosen vectors in such a manner that each vector is adapted to be used for approximate nearest neighbor searching;</claim-text>
<claim-text>a storing section configured to store into the image database the images showing the three-dimensional object and the constructed object model with an object ID for identifying the three-dimensional object being attached; and</claim-text>
<claim-text>a retrieval section configured to, when an image showing a three-dimensional object in question is given as a query while a plurality of object models are stored in the image database extracts a plurality of query local descriptors from the query in a similar manner as in the extraction section; determine neighbor vectors from among the local descriptors stored in the image database, each of the neighbor vectors being nearest to each of the extracted query local descriptors and being retrieved from the stored object models in the image database by using an algorithm of the approximate nearest neighbor searching, cast, for each of the vectors, a vote for each object including said vector in its model and further configured to determine a three-dimensional object that has obtained the largest number of votes,</claim-text>
wherein the object model construction section estimates the<!-- EPO <DP n="45"> --> contribution of each vector in such a manner that when a vector extracted from an image of a three-dimensional object is approximately nearest to another vector according to the same three-dimensional object from a different viewpoint, the vector is regarded to make a positive contribution, and when the vector is approximately nearest to another vector according to a different three-dimensional object, the vector is regarded to make a negative contribution.</claim-text></claim><claim id="c-en-01-0007" num="0007"><claim-text>A program for processing an image database that is used for a three-dimensional object recognition, the program being <b>characterized in that</b>, when executed, it causes a computer to function as:
<claim-text>an extraction section which extracts, from a plurality of images each image showing a three-dimensional object from different viewpoint, a plurality of local descriptors each of which is a vector representing respective local features of each image;</claim-text>
<claim-text>a model construction section which constructs an object model of the three-dimensional object, the object model being obtained by estimating contribution of each vector to the three-dimensional object recognition, by choosing the vectors making positive contribution and by organizing the chosen vectors in such a manner that each vector is adapted to be used for approximate nearest neighbor searching;</claim-text>
<claim-text>a storing section which stores into the image database the images showing the three-dimensional object and the constructed object model with an object ID for identifying the three-dimensional<!-- EPO <DP n="46"> --> object being attached; and</claim-text>
<claim-text>a retrieval section which, when an image showing a three-dimensional object in question is given as a query while a plurality of object models are stored in the image database: extracts a plurality of query local descriptors from the query in a similar manner as in the extraction section, determines neighbor vectors from among the local descriptors stored in the image database, each of the neighbor vectors being nearest to each of the extracted query local descriptors and being retrieved from the stored object models in the image database by using an algorithm of the approximate nearest neighbor searching; casts, for each of the vectors, a vote for each object including said vector in its model and further determines a three-dimensional object that has obtained the largest number of votes,</claim-text>
wherein the object model construction step estimates the contribution of each vector in such a manner that when a vector extracted from an image of a three-dimensional object is approximately nearest to another vector according to the same three-dimensional object from a different viewpoint, the vector is regarded to make a positive contribution, and when the vector is approximately nearest to another vector according to a different three-dimensional object, the vector is regarded to make a negative contribution.</claim-text></claim></claims><claims mxw-id="PCLM56978890" lang="FR" load-source="patent-office"><!-- EPO <DP n="53"> --><claim id="c-fr-01-0001" num="0001"><claim-text>Procédé, exécuté par un ordinateur, pour compiler une base de données d'image qui est utilisée pour une reconnaissance d'objet tridimensionnel, <b>caractérisé en ce qu'</b>il comprend les étapes de :
<claim-text>l'extraction, à partir d'une pluralité d'images, chaque image représentant un objet tridimensionnel d'un point de vue différent, d'une pluralité de descripteurs locaux dont chacun est un vecteur représentant des caractéristiques locales respectives de chaque image ;</claim-text>
<claim-text>la construction d'un modèle d'objet de l'objet tridimensionnel, le modèle d'objet étant obtenu en estimant la contribution de chaque vecteur à la reconnaissance d'objet tridimensionnel, en choisissant les vecteurs réalisant une contribution positive et en organisant les vecteurs choisis de manière telle que chaque vecteur soit adapté pour être utilisé pour une recherche du plus proche voisin approximatif ; et</claim-text>
<claim-text>le stockage, dans la base de données d'image, des images représentant l'objet tridimensionnel et le modèle d'objet construit avec une ID d'objet pour identifier l'objet tridimensionnel attaché, dans lequel :
<claim-text>l'étape de stockage stocke le modèle d'objet et l'ID d'objet correspondante pour que, lorsqu'une image représentant un objet tridimensionnel en question est fournie en tant qu'interrogation, alors qu'une pluralité de modèles d'objet sont stockés dans la base de données d'image, l'ordinateur extraie une pluralité de descripteurs locaux d'interrogation, à partir de<!-- EPO <DP n="54"> --> l'interrogation, par l'intermédiaire d'une étape similaire à l'étape d'extraction, détermine des vecteurs voisins parmi les descripteurs locaux stockés dans la base de données d'image, chacun des vecteurs voisins étant le plus proche de chacun des descripteurs locaux d'interrogation extraits et étant récupéré à partir des modèles d'objet stockés dans la base de données d'image en utilisant un algorithme de la recherche de voisin le plus proche approximatif,</claim-text>
<claim-text>vote, pour chacun des vecteurs, pour chaque objet comprenant ledit vecteur dans son modèle et en outre</claim-text>
<claim-text>détermine un objet tridimensionnel qui a obtenu le plus grand nombre de votes ; et</claim-text>
<claim-text>l'étape de construction de modèle d'objet estime la contribution de chaque vecteur de manière telle que, lorsqu'un vecteur extrait à partir d'une image d'un objet tridimensionnel est approximativement le plus proche d'un autre vecteur selon le même objet tridimensionnel d'un point de vue différent, le vecteur soit considéré réaliser une contribution positive, et, lorsque le vecteur est approximativement le plus proche d'un autre vecteur selon un objet tridimensionnel différent, le vecteur soit considéré réaliser une contribution négative.</claim-text></claim-text></claim-text></claim><claim id="c-fr-01-0002" num="0002"><claim-text>Procédé selon la revendication 1, dans lequel l'étape de construction de modèle construit le modèle d'objet par l'intermédiaire des étapes de :
<claim-text>la spécification d'un vecteur le plus proche approximatif à un vecteur cible destiné à être estimé, le vecteur le plus proche approximatif étant récupéré à partir de vecteurs extraits à partir d'images<!-- EPO <DP n="55"> --> représentant, de points de vue différents, le même objet tridimensionnel selon le vecteur cible et à partir d'images d'objets tridimensionnels différents ;</claim-text>
<claim-text>le comptage d'une marque au cas où le vecteur le plus proche approximatif est dérivé du même objet tridimensionnel selon le vecteur cible ; et</claim-text>
<claim-text>le choix des vecteurs qui construisent le modèle d'objet en fonction de marques comptées dans les étapes de comptage pour chaque vecteur.</claim-text></claim-text></claim><claim id="c-fr-01-0003" num="0003"><claim-text>Procédé selon la revendication 2, dans lequel l'étape de construction de modèle marque chaque vecteur extrait à partir de chaque image représentant l'objet tridimensionnel destiné à être stocké des points de vue différents.</claim-text></claim><claim id="c-fr-01-0004" num="0004"><claim-text>Procédé selon la revendication 2 ou 3, dans lequel l'étape de construction de modèle choisit les vecteurs pour que les vecteurs extraits à partir des images du même objet tridimensionnel, des points de vue différents, soient partagés presque uniformément dans le modèle d'objet.</claim-text></claim><claim id="c-fr-01-0005" num="0005"><claim-text>Procédé selon une quelconque des revendications 1 à 4, dans lequel l'étape de construction de modèle estime la contribution de chaque vecteur à la reconnaissance d'un cas tridimensionnel.</claim-text></claim><claim id="c-fr-01-0006" num="0006"><claim-text>Appareil pour traiter une base de données d'image qui est utilisée pour une reconnaissance d'objet tridimensionnel, <b>caractérisé en ce qu'</b>il comprend :
<claim-text>une section d'extraction, configurée pour extraire, à partir d'une pluralité d'images, chaque image représentant un objet tridimensionnel d'un point de vue<!-- EPO <DP n="56"> --> différent, une pluralité de descripteurs locaux dont chacun est un vecteur représentant des caractéristiques locales respectives de chaque image ;</claim-text>
<claim-text>une section de construction de modèle, configurée pour construire un modèle d'objet de l'objet tridimensionnel, le modèle d'objet étant obtenu en estimant la contribution de chaque vecteur à la reconnaissance d'objet tridimensionnel, en choisissant les vecteurs réalisant une contribution positive et en organisant les vecteurs choisis de manière telle que chaque vecteur soit adapté pour être utilisé pour une recherche du plus proche voisin approximatif ;</claim-text>
<claim-text>une section de stockage, configurée pour stocker, dans la base de données d'image, les images représentant l'objet tridimensionnel et le modèle d'objet construit avec une ID d'objet pour identifier l'objet tridimensionnel attaché ; et</claim-text>
<claim-text>une section de récupération, configurée pour, lorsqu'une image représentant un objet tridimensionnel en question est fournie en tant qu'interrogation alors qu'une pluralité de modèles d'objet sont stockés dans la base de données d'image, extraire une pluralité de descripteurs locaux d'interrogation à partir de l'interrogation, de manière similaire à celle dans la section d'extraction ; déterminer des vecteurs voisins parmi les descripteurs locaux stockés dans la base de données d'image, chacun des vecteurs voisins étant le plus proche de chacun des descripteurs locaux d'interrogation extraits et étant récupéré à partir des modèles d'objet stockés dans la base de données d'image en utilisant un algorithme de la recherche de voisin le<!-- EPO <DP n="57"> --> plus proche approximatif, voter, pour chacun des vecteurs, pour chaque objet comprenant ledit vecteur dans son modèle, et en outre configurée pour</claim-text>
<claim-text>déterminer un objet tridimensionnel qui a obtenu le plus grand nombre de votes,</claim-text>
<claim-text>dans lequel la section de construction de modèle d'objet estime la contribution de chaque vecteur de manière telle que, lorsqu'un vecteur extrait à partir d'une image d'un objet tridimensionnel est approximativement le plus proche d'un autre vecteur selon le même objet tridimensionnel d'un point de vue différent, le vecteur soit considéré réaliser une contribution positive, et, lorsque le vecteur est approximativement le plus proche d'un autre vecteur selon un objet tridimensionnel différent, le vecteur soi considéré réaliser une contribution négative.</claim-text></claim-text></claim><claim id="c-fr-01-0007" num="0007"><claim-text>Programme pour traiter une base de données d'image qui est utilisée pour une reconnaissance d'objet tridimensionnel, le programme étant <b>caractérisé en ce que</b>, lorsqu'il est exécuté, il fait en sorte qu'un ordinateur serve de :
<claim-text>section d'extraction qui extrait, à partir d'une pluralité d'images, chaque image représentant un objet tridimensionnel d'un point de vue différent, une pluralité de descripteurs locaux dont chacun est un vecteur représentant des caractéristiques locales respectives de chaque image ;</claim-text>
<claim-text>section de construction de modèle qui construit un modèle d'objet de l'objet tridimensionnel, le modèle d'objet étant obtenu en estimant la contribution de chaque vecteur à la reconnaissance d'objet<!-- EPO <DP n="58"> --> tridimensionnel, en choisissant les vecteurs réalisant une contribution positive et en organisant les vecteurs choisis de manière telle que chaque vecteur soit adapté pour être utilisé pour une recherche du plus proche voisin approximatif ;</claim-text>
<claim-text>section de stockage qui stocke, dans la base de données d'image, les images représentant l'objet tridimensionnel et le modèle d'objet construit avec une ID d'objet pour identifier l'objet tridimensionnel attaché ; et</claim-text>
<claim-text>section de récupération qui, lorsqu'une image représentant un objet tridimensionnel en question est fournie en tant qu'interrogation alors qu'une pluralité de modèles d'objet sont stockés dans la base de données d'image : extrait une pluralité de descripteurs locaux d'interrogation à partir de l'interrogation, de manière similaire à celle dans la section d'extraction, détermine des vecteurs voisins parmi les descripteurs locaux stockés dans la base de données d'image, chacun des vecteurs voisins étant le plus proche de chacun des descripteurs locaux d'interrogation extraits et étant récupéré à partir des modèles d'objet stockés dans la base de données d'image en utilisant un algorithme de la recherche de voisin le plus proche approximatif ; vote, pour chacun des vecteurs, pour chaque objet comprenant ledit vecteur dans son modèle ; et en outre</claim-text>
<claim-text>détermine un objet tridimensionnel qui a obtenu le plus grand nombre de votes,</claim-text>
<claim-text>dans lequel l'étape de construction de modèle d'objet estime la contribution de chaque vecteur de manière telle que, lorsqu'un vecteur extrait à partir<!-- EPO <DP n="59"> --> d'une image d'un objet tridimensionnel est approximativement le plus proche d'un autre vecteur selon le même objet tridimensionnel d'un point de vue différent, le vecteur soit considéré réaliser une contribution positive, et, lorsque le vecteur est approximativement le plus proche d'un autre vecteur selon un objet tridimensionnel différent, le vecteur soit considéré réaliser une contribution négative.</claim-text></claim-text></claim></claims><drawings mxw-id="PDW16668707" load-source="patent-office"><!-- EPO <DP n="60"> --><figure id="f0001" num="1,2"><img id="if0001" file="imgf0001.tif" wi="165" he="230" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="61"> --><figure id="f0002" num="3(1),3(2),3(3)"><img id="if0002" file="imgf0002.tif" wi="165" he="226" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="62"> --><figure id="f0003" num="4,5"><img id="if0003" file="imgf0003.tif" wi="165" he="129" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="63"> --><figure id="f0004" num="6"><img id="if0004" file="imgf0004.tif" wi="165" he="139" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="64"> --><figure id="f0005" num="7"><img id="if0005" file="imgf0005.tif" wi="165" he="131" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="65"> --><figure id="f0006" num="8"><img id="if0006" file="imgf0006.tif" wi="165" he="228" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="66"> --><figure id="f0007" num="9"><img id="if0007" file="imgf0007.tif" wi="130" he="168" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="67"> --><figure id="f0008" num="10"><img id="if0008" file="imgf0008.tif" wi="123" he="233" img-content="drawing" img-format="tif"/></figure></drawings><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
