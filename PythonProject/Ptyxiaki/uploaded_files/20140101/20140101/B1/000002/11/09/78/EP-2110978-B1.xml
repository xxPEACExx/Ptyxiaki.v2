<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2110978-B1" country="EP" doc-number="2110978" kind="B1" date="20140101" family-id="32103875" file-reference-id="299927" date-produced="20180822" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146554119" ucid="EP-2110978-B1"><document-id><country>EP</country><doc-number>2110978</doc-number><kind>B1</kind><date>20140101</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-09165063-A" is-representative="NO"><document-id mxw-id="PAPP154828042" load-source="docdb" format="epo"><country>EP</country><doc-number>09165063</doc-number><kind>A</kind><date>20021018</date><lang>EN</lang></document-id><document-id mxw-id="PAPP246855742" load-source="docdb" format="original"><country>EP</country><doc-number>09165063.0</doc-number><date>20021018</date></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140454171" ucid="EP-0211695-W" linkage-type="A" load-source="docdb"><document-id format="epo"><country>EP</country><doc-number>0211695</doc-number><kind>W</kind><date>20021018</date></document-id></priority-claim><priority-claim mxw-id="PPC140454534" ucid="EP-02774730-A" linkage-type="3" load-source="docdb"><document-id format="epo"><country>EP</country><doc-number>02774730</doc-number><kind>A</kind><date>20021018</date></document-id></priority-claim><priority-claim mxw-id="PPC140453598" ucid="EP-07013714-A" linkage-type="3" load-source="docdb"><document-id format="epo"><country>EP</country><doc-number>07013714</doc-number><kind>A</kind><date>20021018</date></document-id></priority-claim><priority-claim mxw-id="PPC140447179" ucid="EP-09165063-A" load-source="docdb"><document-id format="epo"><country>EP</country><doc-number>09165063</doc-number><kind>A</kind><date>20021018</date></document-id></priority-claim></priority-claims><dates-of-public-availability><intention-to-grant-date><date>20130711</date></intention-to-grant-date></dates-of-public-availability><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1988095748" load-source="docdb">H04L   1/00        20060101ALI20060310RMJP        </classification-ipcr><classification-ipcr mxw-id="PCL1988099244" load-source="docdb">H03M  13/25        20060101AFI20060310RMJP        </classification-ipcr><classification-ipcr mxw-id="PCL1988101679" load-source="docdb">H03M  13/29        20060101ALI20060310RMJP        </classification-ipcr><classification-ipcr mxw-id="PCL1988104351" load-source="docdb">H04L  27/36        20060101ALI20060310RMJP        </classification-ipcr><classification-ipcr mxw-id="PCL1988105405" load-source="docdb">H04B   7/08        20060101ALI20060310RMJP        </classification-ipcr><classification-ipcr mxw-id="PCL1988110118" load-source="docdb">H04L   1/06        20060101AFI20100928BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1988118109" load-source="docdb">H04J  11/00        20060101A I20070224RMEP        </classification-ipcr><classification-ipcr mxw-id="PCL1988125788" load-source="docdb">H04B   7/06        20060101ALI20060310RMJP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL1988097728" load-source="docdb" scheme="CPC">H04L   1/02        20130101 LI20130101BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988100674" load-source="docdb" scheme="CPC">H04L   1/1845      20130101 LI20130101BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988115391" load-source="docdb" scheme="CPC">H04L   1/08        20130101 LI20130101BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988115712" load-source="docdb" scheme="CPC">H04L   1/1893      20130101 LI20130101BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988117141" load-source="docdb" scheme="CPC">H04L  25/067       20130101 LI20130101BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988122256" load-source="docdb" scheme="CPC">H04L  27/34        20130101 LI20130101BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988125578" load-source="docdb" scheme="CPC">H04L  27/0008      20130101 LI20130101BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988131565" load-source="docdb" scheme="CPC">H04L   1/06        20130101 FI20130101BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988132470" load-source="docdb" scheme="CPC">H04L   1/0071      20130101 LA20130101BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988132969" load-source="docdb" scheme="CPC">H04L   1/1819      20130101 LI20130101BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988136825" load-source="docdb" scheme="CPC">H04B   7/0842      20130101 LA20130101BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132194841" lang="DE" load-source="patent-office">Konstellationsneuanordnung für Übertragungsdiversitätsarten</invention-title><invention-title mxw-id="PT132194842" lang="EN" load-source="patent-office">Constellation rearrangement for transmit diversity schemes</invention-title><invention-title mxw-id="PT132194843" lang="FR" load-source="patent-office">Réorganisation de constellation pour transmettre plusieurs plans</invention-title></technical-data><related-documents><relation type="division"><child-doc ucid="EP-09165063-A"><document-id load-source="patent-office" format="epo"><country>EP</country><doc-number>09165063</doc-number><kind>A</kind><date>20021018</date></document-id></child-doc><parent-doc ucid="EP-02774730.2"><document-id load-source="patent-office" format="epo"><country>EP</country><doc-number>02774730.2</doc-number><date>20021018</date></document-id></parent-doc></relation><relation type="division"><child-doc ucid="EP-09165063-A"><document-id load-source="patent-office" format="epo"><country>EP</country><doc-number>09165063</doc-number><kind>A</kind><date>20021018</date></document-id></child-doc><parent-doc ucid="EP-07013714.6"><document-id load-source="patent-office" format="epo"><country>EP</country><doc-number>07013714.6</doc-number><date>20070712</date></document-id></parent-doc></relation></related-documents><parties><applicants><applicant mxw-id="PPAR918160745" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>PANASONIC CORP</last-name><address><country>JP</country></address></addressbook></applicant><applicant mxw-id="PPAR918136887" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>PANASONIC CORPORATION</last-name></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR918172293" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>WENGERTER CHRISTIAN</last-name><address><country>DE</country></address></addressbook></inventor><inventor mxw-id="PPAR918157109" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>WENGERTER, CHRISTIAN</last-name></addressbook></inventor><inventor mxw-id="PPAR918998863" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>WENGERTER, CHRISTIAN</last-name><address><street>c/o Panasonic R &amp; D Center Germany GmbH Monzastrasse 4c</street><city>63225, Langen</city><country>DE</country></address></addressbook></inventor><inventor mxw-id="PPAR918160129" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>GOLITSCHEK EDLER VON ELBWART ALEXANDER</last-name><address><country>DE</country></address></addressbook></inventor><inventor mxw-id="PPAR918160999" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>GOLITSCHEK EDLER VON ELBWART, ALEXANDER</last-name></addressbook></inventor><inventor mxw-id="PPAR918998864" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>GOLITSCHEK EDLER VON ELBWART, ALEXANDER</last-name><address><street>c/o Panasonic R &amp; D Center Germany GmbH Monzastrasse 4c</street><city>63225, Langen</city><country>DE</country></address></addressbook></inventor><inventor mxw-id="PPAR918155906" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>SEIDEL EIKO</last-name><address><country>DE</country></address></addressbook></inventor><inventor mxw-id="PPAR918142813" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>SEIDEL, EIKO</last-name></addressbook></inventor><inventor mxw-id="PPAR918998862" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>SEIDEL, EIKO</last-name><address><street>c/o Panasonic R &amp; D Center Germany GmbH Monzastrasse 4c</street><city>63225, Langen</city><country>DE</country></address></addressbook></inventor></inventors><assignees><assignee mxw-id="PPAR918998866" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Panasonic Corporation</last-name><iid>101067135</iid><address><street>1006, Oaza Kadoma</street><city>Kadoma-shi Osaka 571-8501</city><country>JP</country></address></addressbook></assignee></assignees><agents><agent mxw-id="PPAR918998865" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Grünecker, Kinkeldey, Stockmair &amp; Schwanhäusser Anwaltssozietät</last-name><iid>100060488</iid><address><street>Leopoldstrasse 4</street><city>80802 München</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><designated-states><ep-contracting-states><country mxw-id="DS548985584" load-source="docdb">AT</country><country mxw-id="DS548874599" load-source="docdb">BE</country><country mxw-id="DS548992447" load-source="docdb">BG</country><country mxw-id="DS548887186" load-source="docdb">CH</country><country mxw-id="DS548984747" load-source="docdb">CY</country><country mxw-id="DS548985585" load-source="docdb">CZ</country><country mxw-id="DS548874600" load-source="docdb">DE</country><country mxw-id="DS548984748" load-source="docdb">DK</country><country mxw-id="DS548984749" load-source="docdb">EE</country><country mxw-id="DS548831711" load-source="docdb">ES</country><country mxw-id="DS548992448" load-source="docdb">FI</country><country mxw-id="DS548887187" load-source="docdb">FR</country><country mxw-id="DS548874601" load-source="docdb">GB</country><country mxw-id="DS548984750" load-source="docdb">GR</country><country mxw-id="DS548831712" load-source="docdb">IE</country><country mxw-id="DS548887188" load-source="docdb">IT</country><country mxw-id="DS548984751" load-source="docdb">LI</country><country mxw-id="DS548987779" load-source="docdb">LU</country><country mxw-id="DS548992449" load-source="docdb">MC</country><country mxw-id="DS548831713" load-source="docdb">NL</country><country mxw-id="DS548992450" load-source="docdb">PT</country><country mxw-id="DS548831714" load-source="docdb">SE</country><country mxw-id="DS548990633" load-source="docdb">SK</country><country mxw-id="DS548987780" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data></bibliographic-data><description mxw-id="PDES63957615" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><p id="p0001" num="0001">The present invention relates generally to transmission techniques in wireless communication systems and in particular to a method, transceiver and receiver using transmit diversity schemes wherein the bit-to-symbol mapping is performed differently for different transmitted diversity branches. The invention is particularly applicable to systems with unreliable and time-varying channel conditions resulting in an improved performance avoiding transmission errors.</p><p id="p0002" num="0002">There exist several well known transmit diversity techniques wherein one or several redundancy versions relating to identical data are transmitted on several (at least two) diversity branches "by default" without explicitly requesting (by a feedback channel) further diversity branches (as done in an ARQ scheme by requesting retransmissions). For example the following schemes are considered as transmit diversity:
<tables id="tabl0001" num="0001"><table frame="none"><tgroup cols="2" colsep="0" rowsep="0"><colspec colnum="1" colname="col1" colwidth="39mm"/><colspec colnum="2" colname="col2" colwidth="127mm"/><tbody><row><entry>■ Site Diversity:</entry><entry>The transmitted signal originates from different sites, e.g. different base stations in a cellular environment.</entry></row><row><entry>■ Antenna Diversity:</entry><entry>The transmitted signal originates from different antennas, e.g. different antennas of a multi-antenna base station.</entry></row><row><entry>■ Polarization Diversity:</entry><entry>The transmitted signal is mapped onto different polarizations.</entry></row><row><entry>■ Frequency Diversity:</entry><entry>The transmitted signal is mapped e.g. on different carrier frequencies or on different frequency hopping sequences.</entry></row><row><entry>■ Time Diversity:</entry><entry>The transmitted signal is e.g. mapped on different interleaving sequences.</entry></row><row><entry>■ Multicode Diversity:</entry><entry>The transmitted signal is mapped on different codes in e.g. a CDMA (Code Division Multiple Access) system.</entry></row></tbody></tgroup></table></tables></p><p id="p0003" num="0003">There are known several diversity combining techniques. The following three techniques are the most common ones:
<tables id="tabl0002" num="0002"><table frame="none"><tgroup cols="2" colsep="0" rowsep="0"><colspec colnum="1" colname="col1" colwidth="45mm"/><colspec colnum="2" colname="col2" colwidth="121mm"/><tbody><row><entry>■ Selection Combining:</entry><entry>Selecting the diversity branch with the highest <i>SNR</i> for decoding, ignoring the remaining ones.</entry></row><row><entry>■ Equal Gain Combining:</entry><entry>Combining received diversity branches with ignoring the differences in received SNR.</entry></row><row><entry>■ Maximal Ratio Combining:</entry><entry>Combining received diversity branches taking the received SNR of each diversity branch into account. The combining can be performed at bit-level (e.g. <i>LLR)</i> or at modulation symbol level.</entry></row></tbody></tgroup></table></tables><!-- EPO <DP n="2"> --></p><p id="p0004" num="0004">Furthermore, a common technique for error detection/correction is based on Automatic Repeat reQuest (ARQ) schemes together with Forward Error Correction (FEC), called hybrid ARQ (HARQ). If an error is detected within a packet by the Cyclic Redundancy Check (CRC), the receiver requests the transmitter to send additional information (retransmission) to improve the probability to correctly decode the erroneous packet.</p><p id="p0005" num="0005">In <patcit id="pcit0001" dnum="WO02067491A1"><text>WO-02/067491 A1</text></patcit> a method for hybrid ARQ transmissions has been disclosed which averages the bit reliabilities over successively requested retransmissions by means of signal constellation rearrangement.</p><p id="p0006" num="0006">As shown therein, when employing higher order modulation formats (e.g. M-PSK, M-QAM with log<sub>2</sub>(<i>M</i>) &gt; 2), where more than 2 bits are mapped onto one modulation symbol, the bits mapped onto a modulation symbol have different reliabilities depending on their content and depending on the chosen mapping. This leads for most FEC (e.g. Turbo Codes) schemes to a degraded decoder performance compared to an input of more equally distributed bit reliabilities.</p><p id="p0007" num="0007">In conventional communication systems the modulation dependent variations in bit reliabilities are not taken into account and, hence, usually the variations remain after combining the diversity branches at the receiver.</p><p id="p0008" num="0008"><patcit id="pcit0002" dnum="US20020036980A1"><text>US 2002/0036980 A1</text></patcit> discloses a communication system utilizing interleaving and transmit diversity by reordering the sequence of data symbols transmitted along different transmission channels. This is accomplished by providing different shuffling functions in conjunction with the interleavers used with different transmission channels.<!-- EPO <DP n="3"> --></p><p id="p0009" num="0009">The object of the invention is to provide a method and transmitter which show an improved performance with regard to transmission errors. This object is solved by a method and transmitter as set forth in the independent claims.</p><p id="p0010" num="0010">The invention is based on the idea to improve the performance by applying different signal constellation mappings to the available distinguishable transmit diversity branches. The idea is applicable to modulation formats, where more<!-- EPO <DP n="4"> --> than 2 bits are mapped onto one modulation symbol, since this implies a variation in reliabilities for the bits mapped onto the signal constellation (e.g. for regular BPSK and QPSK modulation all bits mapped onto a modulation symbol have the same reliability). The variations depend on the employed mapping and on the actually transmitted content of the bits.</p><p id="p0011" num="0011">Depending on the employed modulation format and the actual number of bits mapped onto a single modulation symbol, for a given arbitrary number (N &gt; 1) of available diversity branches the quality of the averaging process is different. Averaging in the sense of the present invention is understood as a process of reducing the differences in mean combined bit reliabilities among the different bits of a data symbol. Although it might be that only after using several diversity branches or paths a perfect averaging with no remaining differences is achieved, averaging means in the context of the document any process steps in the direction of reducing the mean combined bit reliability differences. Assuming on average an equal SNR for all available diversity branches, for 16-QAM 4 mappings (4 diversity branches) would be needed to perfectly average out the reliabilities for all bits mapped on any symbol. However, if e.g. only 2 branches are available a perfect averaging is not possible. Hence, the averaging should then be performed on a best effort basis as shown in the example below.</p><p id="p0012" num="0012">The present invention will be more readily understood from the following detailed description of preferred embodiments with reference to the accompanying figures which show:
<dl id="dl0001"><dt>FIG. 1</dt><dd>an example for a 16-QAM signal constellation;</dd><dt>FIG. 2</dt><dd>an example for a different mapping of a 16-QAM signal constellation;</dd><dt>FIG. 3</dt><dd>two further examples of 16-QAM signal constellations;</dd><dt>FIG. 4</dt><dd>an exemplary embodiment of a communication system according to the present invention; and</dd><dt>FIG. 5</dt><dd>details of a table for storing a plurality of signal constellation patterns.</dd></dl></p><p id="p0013" num="0013">The following detailed description is shown for a square 16-QAM with Gray mapping. However, without loss of generality the shown example is extendable to other <i>M</i>-QAM<!-- EPO <DP n="5"> --> and <i>M</i>-PSK (with log<sub>2</sub>(<i>M</i>) &gt; 2) formats. Moreover, the examples are shown for transmit diversity schemes transmitting an identical bit-sequence on both branches (single redundancy version scheme). Then again, an extension to a transmit diversity scheme transmitting only partly identical bits on the diversity branches can be accomplished. An example for a system using multiple redundancy versions is described in copending <patcit id="pcit0003" dnum="EP01127244A"><text>EP 01127244, filed on November 16, 2001</text></patcit>. Assuming a turbo encoder, the systematic bits can be averaged on a higher level as compared to the parity bits.</p><p id="p0014" num="0014">Assuming a transmit diversity scheme with two generated diversity branches, which are distinguishable at the receiver (e.g. by different spreading or scrambling codes in a CDMA system, or other techniques of creating orthogonal branches) and a transmission of the same redundancy version, usually the received diversity branches are combined at the receiver before applying the FEC decoder. A common combining technique is the maximal ratio combining, which can be achieved by adding the calculated log-likelihood-ratios <i>LLR</i>s from each individual received diversity branch.</p><p id="p0015" num="0015">The log-likelihood-ratio <i>LLR</i> as a soft-metric for the reliability of a demodulated bit <i>b</i> from a received modulation symbol <i>r</i> = <i>x</i> + j<i>y</i> is defined as follows: <maths id="math0001" num="(1)"><math display="block"><mi mathvariant="italic">LLR</mi><mfenced><mi>b</mi></mfenced><mo>=</mo><mi>ln</mi><mfenced open="[" close="]"><mfrac><mrow><mi>Pr</mi><mfenced open="{" close="}" separators=""><mi>b</mi><mo>=</mo><mn>1</mn><mo>|</mo><mi>r</mi></mfenced></mrow><mrow><mi>Pr</mi><mfenced open="{" close="}" separators=""><mi>b</mi><mo>=</mo><mn>0</mn><mo>|</mo><mi>r</mi></mfenced></mrow></mfrac></mfenced></math><img id="ib0001" file="imgb0001.tif" wi="112" he="15" img-content="math" img-format="tif"/></maths></p><p id="p0016" num="0016">As can be seen from <figref idrefs="f0001">Figure 1</figref> (bars indicate rows/columns for which the respective bit equals 1), the mappings of the in-phase component bits and the quadrature component bits on the signal constellation are orthogonal (for <i>M</i>-PSK the <i>LLR</i> calculation cannot be simplified by separating into complex components, however the general procedure of bit-reliability averaging is similar). Therefore, it is sufficient to focus on the in-phase component bits <i>i</i><sub>1</sub> and <i>i</i><sub>2</sub>. The same conclusions apply then for <i>q</i><sub>1</sub> and <i>q</i><sub>2</sub>.</p><p id="p0017" num="0017">Assuming that Mapping 1 from <figref idrefs="f0001">Figure 1</figref> is applied for the bit-to-symbol mapping for the 1<sup>st</sup> diversity branch, the log-likelihood-ratio <i>LLR</i> of the most significant bit (MSB) <i>i</i><sub>1</sub> and the least significant bit (LSB) <i>i</i><sub>2</sub> yields the following equations for a Gaussian channel:<!-- EPO <DP n="6"> --> <maths id="math0002" num="(2)"><math display="block"><mi mathvariant="italic">LLR</mi><mfenced><msub><mi>i</mi><mn>1</mn></msub></mfenced><mo>=</mo><mi>ln</mi><mo>⁢</mo><mfenced open="[" close="]"><mfrac><mrow><msup><mi>e</mi><mrow><mo>-</mo><mi>K</mi><mo>⁢</mo><msup><mfenced separators=""><mi>x</mi><mo>+</mo><msub><mi>x</mi><mn>0</mn></msub></mfenced><mn>2</mn></msup><mo>+</mo></mrow></msup><mo>⁢</mo><msup><mi>e</mi><mrow><mo>-</mo><mi>K</mi><mo>⁢</mo><msup><mfenced separators=""><mi>x</mi><mo>+</mo><msub><mi>x</mi><mn>1</mn></msub></mfenced><mn>2</mn></msup></mrow></msup></mrow><mrow><msup><mi>e</mi><mrow><mo>-</mo><mi>K</mi><mo>⁢</mo><msup><mfenced separators=""><mi>x</mi><mo>-</mo><msub><mi>x</mi><mn>0</mn></msub></mfenced><mn>2</mn></msup><mo>+</mo></mrow></msup><mo>⁢</mo><msup><mi>e</mi><mrow><mo>-</mo><mi>K</mi><mo>⁢</mo><msup><mfenced separators=""><mi>x</mi><mo>-</mo><msub><mi>x</mi><mn>1</mn></msub></mfenced><mn>2</mn></msup></mrow></msup></mrow></mfrac></mfenced></math><img id="ib0002" file="imgb0002.tif" wi="119" he="17" img-content="math" img-format="tif"/></maths> <maths id="math0003" num="(3)"><math display="block"><mi mathvariant="italic">LLR</mi><mfenced><msub><mi>i</mi><mn>2</mn></msub></mfenced><mo>=</mo><mi>ln</mi><mo>⁢</mo><mfenced open="[" close="]"><mfrac><mrow><msup><mi>e</mi><mrow><mo>-</mo><mi>K</mi><mo>⁢</mo><msup><mfenced separators=""><mi>x</mi><mo>-</mo><msub><mi>x</mi><mn>1</mn></msub></mfenced><mn>2</mn></msup></mrow></msup><mo>+</mo><msup><mi>e</mi><mrow><mo>-</mo><mi>K</mi><mo>⁢</mo><msup><mfenced separators=""><mi>x</mi><mo>+</mo><msub><mi>x</mi><mn>1</mn></msub></mfenced><mn>2</mn></msup></mrow></msup></mrow><mrow><msup><mi>e</mi><mrow><mo>-</mo><mi>K</mi><mo>⁢</mo><msup><mfenced separators=""><mi>x</mi><mo>-</mo><msub><mi>x</mi><mn>0</mn></msub></mfenced><mn>2</mn></msup></mrow></msup><mo>+</mo><msup><mi>e</mi><mrow><mo>-</mo><mi>K</mi><mo>⁢</mo><msup><mfenced separators=""><mi>x</mi><mo>+</mo><msub><mi>x</mi><mn>0</mn></msub></mfenced><mn>2</mn></msup></mrow></msup></mrow></mfrac></mfenced></math><img id="ib0003" file="imgb0003.tif" wi="120" he="16" img-content="math" img-format="tif"/></maths><br/>
where <i>x</i> denotes the in-phase component of the normalized received modulation symbol <i>r</i> and <i>K</i> is a factor proportional to the signal-to-noise ratio. Under the assumption of a uniform signal constellation (<i>x</i><sub>1</sub> = 3<i>x</i><sub>0</sub> regular 16-QAM) equations (2) and (3) can be fairly good approximated as shown in <nplcit id="ncit0001" npl-type="s"><text>S. Le Goff, A. Glavieux, C. Berrou, "Turbo-Codes and High Spectral Efficiency Modulation," IEEE SUPERCOMM/ICC '94, Vol. 2 , pp. 645 -649 ,1994</text></nplcit>, and <nplcit id="ncit0002" npl-type="s"><text>Ch. Wengerter, A. Golitschek Edler von Elbwart, E. Seidel, G. Velev, M.P. Schmitt, "Advanced Hybrid ARQ Technique Employing a Signal Constellation Rearrangement," IEEE Proceedings of VTC 2002 Fall, Vancouver, Canada, September 2002</text></nplcit> by <maths id="math0004" num="(4)"><math display="block"><mi mathvariant="italic">LLR</mi><mfenced><msub><mi>i</mi><mn>1</mn></msub></mfenced><mo>≈</mo><mo>-</mo><mn>4</mn><mo>⁢</mo><mi>K</mi><mo>⁢</mo><msub><mi>x</mi><mn>0</mn></msub><mo>⁢</mo><mi>x</mi></math><img id="ib0004" file="imgb0004.tif" wi="107" he="9" img-content="math" img-format="tif"/></maths> <maths id="math0005" num="(5)"><math display="block"><mi mathvariant="italic">LLR</mi><mfenced><msub><mi>i</mi><mn>2</mn></msub></mfenced><mo>≈</mo><mo>-</mo><mn>4</mn><mo>⁢</mo><mi>K</mi><mo>⁢</mo><msub><mi>x</mi><mn>0</mn></msub><mo>⁢</mo><mfenced separators=""><mn>2</mn><mo>⁢</mo><msub><mi>x</mi><mn>0</mn></msub><mo>-</mo><mfenced open="|" close="|"><mi>x</mi></mfenced></mfenced></math><img id="ib0005" file="imgb0005.tif" wi="114" he="12" img-content="math" img-format="tif"/></maths></p><p id="p0018" num="0018">The mean <i>LLR</i> for <i>i</i><sub>1</sub> and <i>i</i><sub>2</sub> for a given transmitted modulation symbol yields the values given in Table 1 (substituting 4<i>Kx</i><sub>0</sub><sup>2</sup> by Λ). Mean in this sense, refers to that the mean received value for a given transmitted constellation point, exactly matches this transmitted constellation point. Individual samples of course experience noise according to the parameter K. However, for a Gaussian channel the mean value of the noise process is zero. In case of transmitted modulation symbols 0<i>q</i><sub>1</sub>1<i>q</i><sub>2</sub> and 1<i>q</i><sub>1</sub>1<i>q</i><sub>2</sub>, where <i>q</i><sub>1</sub> and <i>q</i><sub>2</sub> are arbitrary, the magnitude of the mean <i>LLR</i> (<i>i</i><sub>1</sub>) is higher than of the mean <i>LLR</i> (<i>i</i><sub>2</sub>). This means that the <i>LLR</i> for the MSB <i>i</i><sub>1</sub> depends on the content of the LSB <i>i</i><sub>2</sub>; e.g. in <figref idrefs="f0001">Figure 1</figref> <i>i</i><sub>1</sub> has a higher mean reliability in case the logical value for <i>i</i><sub>2</sub> equals 1 (leftmost and rightmost columns). Hence, assuming a uniform distribution of transmitted modulation symbols, on average 50 % of the MSBs <i>i</i><sub>1</sub> have about three times the magnitude in <i>LLR</i> of <i>i</i><sub>2</sub>.<!-- EPO <DP n="7"> -->
<tables id="tabl0003" num="0003"><table frame="all"><title>Table 1. Mean <i>LLR</i>s for bits mapped on the in-phase component of the signal constellation for Mapping 1 in Figure 1 according to equations (4) and (5).</title><tgroup cols="4"><colspec colnum="1" colname="col1" colwidth="40mm"/><colspec colnum="2" colname="col2" colwidth="42mm"/><colspec colnum="3" colname="col3" colwidth="42mm"/><colspec colnum="4" colname="col4" colwidth="43mm"/><thead><row><entry align="center" valign="middle">Symbol<br/>
(<i>i</i><sub>1</sub><i>q</i><sub>1</sub><i>i</i><sub>2</sub><i>q</i><sub>2</sub>)</entry><entry align="center" valign="middle">Mean value of <i>x</i></entry><entry align="center" valign="middle">Mean <i>LLR</i> (<i>i</i><sub>1</sub>)</entry><entry align="center" valign="middle">Mean <i>LLR</i> (<i>i</i><sub>2</sub>)</entry></row></thead><tbody><row><entry align="center">0<i>q</i><sub>1</sub>0<i>q</i><sub>2</sub></entry><entry align="center"><i>x</i><sub>0</sub></entry><entry align="center">-4<i>Kx</i><sub>0</sub><sup>2</sup> = -Λ</entry><entry align="center">-4<i>Kx</i><sub>0</sub><sup>2</sup>= -Λ</entry></row><row><entry align="center">0<i>q</i><sub>1</sub>1<i>q</i><sub>2</sub></entry><entry align="center"><i>x</i><sub>1</sub></entry><entry align="center">- 12<i>Kx</i><sub>0</sub><sup>2</sup> = -3Λ</entry><entry align="center">4<i>Kx</i><sub>0</sub><sup>2</sup> = Λ</entry></row><row><entry align="center">1<i>q</i><sub>1</sub>0<i>q</i><sub>2</sub></entry><entry align="center">-<i>x</i><sub>0</sub></entry><entry align="center">4<i>Kx</i><sub>0</sub><sup>2</sup> = Λ</entry><entry align="center">-4<i>Kx</i><sub>0</sub><sup>2</sup> = -Λ</entry></row><row><entry align="center">1<i>q</i><sub>1</sub>1<i>q</i><sub>2</sub></entry><entry align="center">-<i>x</i><sub>1</sub></entry><entry align="center">12<i>Kx</i><sub>0</sub><sup>2</sup> = 3Λ</entry><entry align="center">4<i>Kx</i><sub>0</sub><sup>2</sup> = Λ</entry></row></tbody></tgroup></table></tables></p><p id="p0019" num="0019">If now adding a 2<sup>nd</sup> transmit diversity branch transmitting e.g. an identical bit sequence prior art schemes would employ an identical mapping to the 1<sup>st</sup> diversity branch. Here, it is proposed to employ a 2<sup>nd</sup> signal constellation mapping (Mapping 2) according to <figref idrefs="f0002">Figure 2</figref> (of course, also one of the constellations depicted in <figref idrefs="f0003">Figure 3</figref> are possible), which yields the mean <i>LLR</i>s given in Table 2.
<tables id="tabl0004" num="0004"><table frame="all"><title>Table 2. Mean <i>LLR</i>s for bits mapped on the in-phase component of the signal constellation for Mapping 2 in Figure 2.</title><tgroup cols="4"><colspec colnum="1" colname="col1" colwidth="43mm"/><colspec colnum="2" colname="col2" colwidth="40mm"/><colspec colnum="3" colname="col3" colwidth="40mm"/><colspec colnum="4" colname="col4" colwidth="40mm"/><thead><row><entry align="center" valign="middle">Symbol<br/>
<i>(i</i><sub>1</sub><i>q</i><sub>1</sub><i>i</i><sub>2</sub><i>q</i><sub>2</sub>)</entry><entry align="center" valign="middle">Mean value of <i>x</i></entry><entry align="center" valign="middle">Mean <i>LLR</i> (<i>i</i><sub>1</sub>)</entry><entry align="center" valign="middle">Mean <i>LLR</i> (<i>i</i><sub>2</sub>)</entry></row></thead><tbody><row><entry align="center">0<i>q</i><sub>1</sub>0<i>q</i><sub>2</sub></entry><entry align="center"><i>x</i><sub>0</sub></entry><entry align="center">-Λ</entry><entry align="center">-3Λ</entry></row><row><entry align="center">0<i>q</i><sub>1</sub>1<i>q</i><sub>2</sub></entry><entry align="center"><i>x</i><sub>1</sub></entry><entry align="center">-Λ</entry><entry align="center">3Λ</entry></row><row><entry align="center">1<i>q</i><sub>1</sub>0<i>q</i><sub>2</sub></entry><entry align="center">-<i>x</i><sub>0</sub></entry><entry align="center">Λ</entry><entry align="center">-Λ</entry></row><row><entry align="center">1<i>q</i><sub>1</sub>1<i>q</i><sub>2</sub></entry><entry align="center">-<i>x</i><sub>1</sub></entry><entry align="center">Λ</entry><entry align="center">Λ</entry></row></tbody></tgroup></table></tables></p><p id="p0020" num="0020">Comparing now the soft-combined <i>LLR</i>s of the received diversity branches applying the constellation rearrangement (Mapping 1+2) and applying the identical mappings (Mapping 1+1, prior art), it can be observed from table 3 that the combined mean <i>LLR</i> values with applying the constellation rearrangement have a more uniform distribution (Magnitudes: 4 x 4Λ and 4 x 2Λ instead of 2 x 6Λ and 6 x 2Λ). For most FEC decoders (e.g. Turbo Codes and Convolutional Codes) this leads to a better decoding performance. Investigations have revealed that in particular Turbo encoding/decoding systems exhibit a superior performance. It should be noted, that the chosen mappings are non exhaustive and more combinations of mappings fulfilling the same requirements can be found.<!-- EPO <DP n="8"> -->
<tables id="tabl0005" num="0005"><table frame="all"><title>Table 3. Mean <i>LLR</i>s (per branch) and combined mean <i>LLR</i>s for bits mapped on the in-phase component of the signal constellation for the diversity branches when employing Mapping 1 and 2 and when employing 2 times Mapping 1.</title><tgroup cols="6"><colspec colnum="1" colname="col1" colwidth="27mm"/><colspec colnum="2" colname="col2" colwidth="29mm"/><colspec colnum="3" colname="col3" colwidth="28mm"/><colspec colnum="4" colname="col4" colwidth="28mm"/><colspec colnum="5" colname="col5" colwidth="28mm"/><colspec colnum="6" colname="col6" colwidth="29mm"/><thead><row><entry morerows="1" align="center" valign="middle">Transmit Diversity Branch</entry><entry morerows="1" align="center" valign="middle">Symbol (<i>i</i><sub>1</sub><i>q</i><sub>1</sub><i>i</i><sub>2</sub><i>q</i><sub>2</sub>)</entry><entry namest="col3" nameend="col4" align="center" valign="middle">Constellation Rearrangement<br/>
(Mapping 1+2)</entry><entry namest="col5" nameend="col6" align="center" valign="middle">Prior Art No Rearrangement<br/>
(Mapping 1+1)</entry></row><row><entry align="center" valign="middle">Mean <i>LLR</i> (<i>i</i><sub>1</sub>)</entry><entry align="center" valign="middle">Mean <i>LLR</i> (<i>i</i><sub>2</sub>)</entry><entry align="center" valign="middle">Mean <i>LLR</i> (<i>i</i><sub>1</sub>)</entry><entry align="center" valign="middle">Mean <i>LLR</i> (<i>i</i><sub>2</sub>)</entry></row></thead><tbody><row><entry morerows="3" align="center" valign="middle">1</entry><entry align="center">0<i>q</i><sub>1</sub>0<i>q</i><sub>2</sub></entry><entry align="center">-Λ</entry><entry align="center">-Λ</entry><entry align="center">-Λ</entry><entry align="center">-Λ</entry></row><row><entry align="center">0<i>q</i><sub>1</sub>1<i>q</i><sub>2</sub></entry><entry align="center">-3Λ</entry><entry align="center">Λ</entry><entry align="center">-3Λ</entry><entry align="center">Λ</entry></row><row><entry align="center">1<i>q</i><sub>1</sub>0<i>q</i><sub>2</sub></entry><entry align="center">Λ</entry><entry align="center">-Λ</entry><entry align="center">Λ</entry><entry align="center">-Λ</entry></row><row><entry align="center">1<i>q</i><sub>1</sub>1<i>q</i><sub>2</sub></entry><entry align="center">3Λ</entry><entry align="center">Λ</entry><entry align="center">3Λ</entry><entry align="center">Λ</entry></row><row><entry morerows="3" align="center" valign="middle">2</entry><entry align="center">0<i>q</i><sub>1</sub>0<i>q</i><sub>2</sub></entry><entry align="center">-Λ</entry><entry align="center">-3Λ</entry><entry align="center">-Λ</entry><entry align="center">-Λ</entry></row><row><entry align="center">0<i>q</i><sub>1</sub>1<i>q</i><sub>2</sub></entry><entry align="center">-Λ</entry><entry align="center">3Λ</entry><entry align="center">-3Λ</entry><entry align="center">Λ</entry></row><row><entry align="center">1<i>q</i><sub>1</sub>0<i>q</i><sub>2</sub></entry><entry align="center">Λ</entry><entry align="center">-Λ</entry><entry align="center">Λ</entry><entry align="center">-Λ</entry></row><row><entry align="center">1<i>q</i><sub>1</sub>1<i>q</i><sub>2</sub></entry><entry align="center">Λ</entry><entry align="center">Λ</entry><entry align="center">3Λ</entry><entry align="center">Λ</entry></row><row><entry morerows="3" align="center" valign="middle">Combined 1+2</entry><entry align="center">0<i>q</i><sub>1</sub>0<i>q</i><sub>2</sub></entry><entry align="center">-2Λ</entry><entry align="center">-4Λ</entry><entry align="center">-2Λ</entry><entry align="center">-2Λ</entry></row><row><entry align="center">0<i>q</i><sub>1</sub>1<i>q</i><sub>2</sub></entry><entry align="center">-4Λ</entry><entry align="center">-4Λ</entry><entry align="center">-6Λ</entry><entry align="center">2Λ</entry></row><row><entry align="center">1<i>q</i><sub>1</sub>0<i>q</i><sub>2</sub></entry><entry align="center">2Λ</entry><entry align="center">-2Λ</entry><entry align="center">2Λ</entry><entry align="center">-2Λ</entry></row><row><entry align="center">1<i>q</i><sub>1</sub>1<i>q</i><sub>2</sub></entry><entry align="center">4Λ</entry><entry align="center">2Λ</entry><entry align="center">6Λ</entry><entry align="center">2Λ</entry></row></tbody></tgroup></table></tables></p><p id="p0021" num="0021">In the following an example with 4 diversity branches will be described. Here, the same principles apply as for 2 diversity branches. However, since 4 diversity branches are available and the averaging with 2 diversity branches is not perfect, additional mappings can be used to improve the averaging process.</p><p id="p0022" num="0022"><figref idrefs="f0003">Figure 3</figref> shows the additional mappings for diversity branches 3 and 4, under the assumption that Mappings 1 and 2 are used for branches 1 and 2 (in <figref idrefs="f0001">Figure 1</figref> and <figref idrefs="f0002">Figure 2</figref>). Then the averaging can be performed perfectly and all bits mapped on any symbol will have an equal mean bit reliability (assuming the same <i>SNR</i> for all transmissions). Table 4 compares the <i>LLR</i>s with and without applying the proposed Constellation Rearrangement. Having a closer look at the combined <i>LLR</i>s, it can be seen that with application of the Constellation Rearrangement the magnitude for all bit reliabilities results in 6Λ.<!-- EPO <DP n="9"> --></p><p id="p0023" num="0023">It should be noted again, that the chosen mappings are non exhaustive and more combinations of mappings fulfilling the same requirements can be found.
<tables id="tabl0006" num="0006"><table frame="all"><title>Table 4. Mean <i>LLR</i>s (per branch) and combined mean <i>LLR</i>s for bits mapped on the in-phase component of the signal constellation for the diversity branches when employing Mappings 1 to 4 and when employing 4 times Mapping 1.</title><tgroup cols="6"><colspec colnum="1" colname="col1" colwidth="26mm"/><colspec colnum="2" colname="col2" colwidth="28mm"/><colspec colnum="3" colname="col3" colwidth="28mm"/><colspec colnum="4" colname="col4" colwidth="28mm"/><colspec colnum="5" colname="col5" colwidth="28mm"/><colspec colnum="6" colname="col6" colwidth="28mm"/><thead><row><entry morerows="1" align="center" valign="middle">Transmit Diversity Branch</entry><entry morerows="1" align="center" valign="middle">Symbol<br/>
(<i>i</i><sub>1</sub><i>q</i><sub>1</sub><i>i</i><sub>2</sub><i>q</i><sub>2</sub>)</entry><entry namest="col3" nameend="col4" align="center" valign="middle">Constellation Rearrangement<br/>
(Mapping 1+2+3+4)</entry><entry namest="col5" nameend="col6" align="center" valign="middle">Prior Art No Rearrangement<br/>
(Mapping 1+1+1+1)</entry></row><row><entry align="center" valign="middle">Mean<br/>
<i>LLR</i> (<i>i</i><sub>1</sub>)</entry><entry align="center" valign="middle">Mean<br/>
<i>LLR</i> (<i>i</i><sub>2</sub>)</entry><entry align="center" valign="middle">Mean<br/>
<i>LLR</i> (<i>i</i><sub>1</sub>)</entry><entry align="center" valign="middle">Mean<br/>
<i>LLR</i> (<i>i</i><sub>2</sub>)</entry></row></thead><tbody><row><entry morerows="3" align="center" valign="middle">1</entry><entry align="center">0<i>q</i><sub>1</sub>0<i>q</i><sub>2</sub></entry><entry align="center">-Λ</entry><entry align="center">-Λ</entry><entry align="center">-Λ</entry><entry align="center">-Λ</entry></row><row><entry>0<i>q</i><sub>1</sub>1<i>q</i><sub>2</sub></entry><entry align="center">-3Λ</entry><entry align="center">Λ</entry><entry align="center">-3Λ</entry><entry align="center">Λ</entry></row><row><entry align="center">1<i>q</i><sub>1</sub>0<i>q</i><sub>2</sub></entry><entry align="center">Λ</entry><entry align="center">-Λ</entry><entry align="center">Λ</entry><entry align="center">-Λ</entry></row><row><entry align="center">1<i>q</i><sub>1</sub>1<i>q</i><sub>2</sub></entry><entry align="center">3Λ</entry><entry align="center">Λ</entry><entry align="center">3Λ</entry><entry align="center">Λ</entry></row><row><entry morerows="3" align="center" valign="middle">2</entry><entry align="center">0<i>q</i><sub>1</sub>0<i>q</i><sub>2</sub></entry><entry align="center">-Λ</entry><entry align="center">-3Λ</entry><entry align="center">-Λ</entry><entry align="center">-Λ</entry></row><row><entry align="center">0<i>q</i><sub>1</sub>1<i>q</i><sub>2</sub></entry><entry align="center">-Λ</entry><entry align="center">3Λ</entry><entry align="center">-3Λ</entry><entry align="center">Λ</entry></row><row><entry align="center">1<i>q</i><sub>1</sub>0<i>q</i><sub>2</sub></entry><entry align="center">Λ</entry><entry align="center">-Λ</entry><entry align="center">Λ</entry><entry align="center">-Λ</entry></row><row><entry>1<i>q</i><sub>1</sub>1<i>q</i><sub>2</sub></entry><entry align="center">Λ</entry><entry align="center">Λ</entry><entry align="center">3Λ</entry><entry align="center">Λ</entry></row><row><entry morerows="3" align="center" valign="middle">3</entry><entry align="center">0<i>q</i><sub>1</sub>0<i>q</i><sub>2</sub></entry><entry align="center">-Λ</entry><entry align="center">-Λ</entry><entry align="center">-Λ</entry><entry align="center">-Λ</entry></row><row><entry align="center">0<i>q</i><sub>1</sub>1<i>q</i><sub>2</sub></entry><entry align="center">-Λ</entry><entry align="center">Λ</entry><entry align="center">-3Λ</entry><entry align="center">Λ</entry></row><row><entry align="center">1<i>q</i><sub>1</sub>0<i>q</i><sub>2</sub></entry><entry align="center">Λ</entry><entry align="center">-3Λ</entry><entry align="center">Λ</entry><entry align="center">-Λ</entry></row><row><entry align="center">1<i>q</i><sub>1</sub>1<i>q</i><sub>2</sub></entry><entry align="center">Λ</entry><entry align="center">3Λ</entry><entry align="center">3Λ</entry><entry align="center">Λ</entry></row><row><entry morerows="3" align="center" valign="middle">4</entry><entry align="center">0<i>q</i><sub>1</sub>0<i>q</i><sub>2</sub></entry><entry align="center">-3Λ</entry><entry align="center">-Λ</entry><entry align="center">-Λ</entry><entry align="center">-Λ</entry></row><row><entry align="center">0<i>q</i><sub>1</sub>1<i>q</i><sub>2</sub></entry><entry align="center">-Λ</entry><entry align="center">Λ</entry><entry align="center">-3Λ</entry><entry align="center">Λ</entry></row><row><entry align="center">1<i>q</i><sub>1</sub>0<i>q</i><sub>2</sub></entry><entry align="center">3Λ</entry><entry align="center">-Λ</entry><entry align="center">Λ</entry><entry align="center">-Λ</entry></row><row><entry align="center">1<i>q</i><sub>1</sub>1<i>q</i><sub>2</sub></entry><entry align="center">Λ</entry><entry align="center">Λ</entry><entry align="center">3Λ</entry><entry align="center">Λ</entry></row><row><entry morerows="3" align="center" valign="middle">Combined 1+2+3+4</entry><entry align="center">0<i>q</i><sub>1</sub>0<i>q</i><sub>2</sub></entry><entry align="center">-6Λ</entry><entry align="center">-6Λ</entry><entry align="center">-4Λ</entry><entry align="center">-4Λ</entry></row><row><entry align="center">0<i>q</i><sub>1</sub>1<i>q</i><sub>2</sub></entry><entry align="center">-6Λ</entry><entry align="center">6Λ</entry><entry align="center">-12Λ</entry><entry align="center">4Λ</entry></row><row><entry align="center">1<i>q</i><sub>1</sub>0<i>q</i><sub>2</sub></entry><entry align="center">6Λ</entry><entry align="center">-6Λ</entry><entry align="center">4Λ</entry><entry align="center">-4Λ</entry></row><row><entry align="center">1<i>q</i><sub>1</sub>1<i>q</i><sub>2</sub></entry><entry align="center">6Λ</entry><entry align="center">6Λ</entry><entry align="center">12Λ</entry><entry align="center">4Λ</entry></row></tbody></tgroup></table></tables></p><p id="p0024" num="0024">If the constellation rearrangement is performed by applying different mapping schemes, one would end up in employing a number of different mappings as given in <figref idrefs="f0001">Figure 1</figref>, <figref idrefs="f0002">Figure 2</figref> and <figref idrefs="f0003">Figure 3</figref>. If the identical mapper (e.g. <figref idrefs="f0001">Figure 1</figref>) should be kept for all transmit diversity branches, e.g. mapping 2 can be obtained from mapping 1 by the following operations:
<ul><li>■ exchange positions of original bits <i>i</i><sub>1</sub> and <i>i</i><sub>2</sub></li><li>■ exchange positions of original bits <i>q</i><sub>1</sub> and <i>q</i><sub>2</sub><!-- EPO <DP n="10"> --></li><li>■ logical bit inversion of original bits <i>i</i><sub>1</sub> and <i>q</i><sub>1</sub></li></ul></p><p id="p0025" num="0025">Alternatively, those bits that end in positions 1 and 2 can also be inverted (resulting in a different mapping with an identical bit-reliability characteristics).</p><p id="p0026" num="0026">Therefore, the following table provides an example how to obtain mappings 1 to 4 (or mappings with equivalent bit reliabilities for <i>i</i><sub>1</sub>, <i>i</i><sub>2</sub>, <i>q</i><sub>1</sub> and <i>q</i><sub>2</sub>), where the bits always refer to the first transmission, and a long dash above a character denotes logical bit inversion of that bit:
<tables id="tabl0007" num="0007"><table frame="all"><title>Table 5. Alternative implementation of the Constellation Rearrangement by interleaving (intra-symbol interleaving) and logical inversion of bits mapped onto the modulation symbols.</title><tgroup cols="2"><colspec colnum="1" colname="col1" colwidth="83mm"/><colspec colnum="2" colname="col2" colwidth="83mm"/><thead><row><entry align="center" valign="middle">Mapping No.</entry><entry align="center" valign="middle">Interleaver and Inverter functionality</entry></row></thead><tbody><row><entry align="center">1</entry><entry align="center"><i>i</i><sub>1</sub><i>q</i><sub>1</sub><i>i</i><sub>2</sub><i>q</i><sub>2</sub></entry></row><row><entry align="center">2</entry><entry align="center"><i><o>i</o></i><sub>2</sub><i><o>q</o></i><sub>2</sub><i><o>i</o></i><sub>1</sub><i><o>q</o></i><sub>1</sub> or <i>i</i><sub>2</sub><i>q</i><sub>2</sub><i><o>i</o></i><sub>1</sub><i><o>q</o></i><sub>1</sub></entry></row><row><entry align="center">3</entry><entry align="center"><i><o>i</o></i><sub>2</sub><i><o>q</o></i><sub>2</sub><i>i</i><sub>1</sub><i>q</i><sub>1</sub> or <i>i</i><sub>2</sub><i>q</i><sub>2</sub><i>i</i><sub>1</sub><i>q</i><sub>1</sub></entry></row><row><entry align="center">4</entry><entry align="center"><i>i</i><sub>1</sub><i>q</i><sub>1</sub><i><o>i</o></i><sub>2</sub><i><o>q</o></i><sub>2</sub> or <i><o>i</o></i><sub>1</sub><i><o>q</o></i><sub>1</sub><i><o>i</o></i><sub>2</sub><i><o>q</o></i><sub>2</sub></entry></row></tbody></tgroup></table></tables></p><p id="p0027" num="0027">Generally at least 2 different mappings should be employed for <i>N</i> &gt; 1 diversity branches, where the order and the selection of the mappings is irrelevant, as long as the bit-reliability averaging process, meaning the (reduction of differences in reliabilities) is maintained.</p><p id="p0028" num="0028">Preferred realizations in terms of number of employed mappings
<ul><li>○ <i>M</i>-QAM
<ul><li>■ Employing log<sub>2</sub>(<i>M</i>) different mappings</li><li>■ Employing log<sub>2</sub>(<i>M</i>)/2 different mappings</li></ul></li><li>○ <i>M</i>-PSK
<ul><li>■ Employing log<sub>2</sub>(<i>M</i>) different mappings</li><li>■ Employing log<sub>2</sub>(<i>M</i>)/2 different mappings</li><li>■ Employing 2log<sub>2</sub>(<i>M</i>) different mappings</li></ul></li></ul><!-- EPO <DP n="11"> --></p><p id="p0029" num="0029">The applied signal constellation mappings for modulation at the transmitter and demodulation at the receiver need to match for each individual transmit diversity branch. This can be achieved by appropriate signalling of parameters indicating the proper mapping or combination of mappings to be applied for the diversity branches. Alternatively the definition of the mappings to be applied for transmit diversity branches may be system predefined.</p><p id="p0030" num="0030"><figref idrefs="f0004">Figure 4</figref> shows an exemplary embodiment of a communication system according to the present invention. More specifically, the communication system comprises a transmitter 10 and a receiver 20 which communicate through a communication channel consisting of a plurality of diversity branches 40A, 40B and 40C. Although three diversity branches are illustrated in the figure, it becomes clear to a person skilled in the art that an arbitrary number of branches may be chosen. From a data source 11, data packets are supplied to a FEC encoder 12, preferably a FEC Turbo encoder, where redundancy bits are added to correct errors. The bits output from the FEC encoder are subsequently supplied to a mapping unit 13 acting as a modulator to output symbols formed according to the applied modulation scheme stored as a constellation pattern in a table 15. Subsequently the data symbols are applied to a transmission unit 30 for transmission over the branches 40A - C. The receiver 20 receives the data packets by the receiving unit 35. The bits are then input into a demapping unit 21 which acts as a demodulator using the same signal constellation pattern stored in the table 15 which was used during the modulation of that symbol.</p><p id="p0031" num="0031">The demodulated data packets received over one diversity branch are stored in a temporary buffer 22 for subsequent combining in a combining unit 23 with the data packets received over at least one other diversity branch.</p><p id="p0032" num="0032">As illustrated in <figref idrefs="f0005">figure 5</figref>, table 15 stores a plurality of signal constellation patterns #0..#n which are selected for the individual transmissions over the individual diversity branches according to a predetermined scheme. The scheme, i.e. the sequence of signal constellation patterns used for modulating/demodulating are either pre-stored in the transmitter and the receiver or are signalled by transmitter to the receiver prior to usage.</p></description><claims mxw-id="PCLM56980334" lang="DE" load-source="patent-office"><!-- EPO <DP n="14"> --><claim id="c-de-01-0001" num="0001"><claim-text>Verfahren zum Senden von Daten in einem Drahtlos-Kommunikationssystem, wobei das Verfahren umfasst:
<claim-text>Modulieren und Abbilden von vier Datenbits unter Verwendung eines ersten Signalkonstellations-Musters eines 16 QAM-Modulationsschemas, um ein erstes Datensymbol zu erzeugen;</claim-text>
<claim-text>Modulieren und Abbilden der vier Datenbits unter Verwendung eines zweiten Signalkonstellations-Musters des 16 QAM-Modulationsschemas, das anders als das erste Signalkonstellations-Muster ist, um ein zweites Datensymbol zu erzeugen; und</claim-text>
<claim-text>Senden des ersten Datensymbols und des zweiten Datensymbols an einen Empfänger in einem ersten Diversity-Zweig bzw. einem zweiten Diversity-Zweig;</claim-text>
<claim-text>wobei das erste und zweite Signalkonstellations-Muster so ausgewählt werden, dass Durchführen von Diversity-Combining der Datenbits die Unterschiede bezüglich durchschnittlicher kombinierter Bit-Zuverlässigkeiten unter den verschiedenen Bits des Datensymbols geringer sind.</claim-text></claim-text></claim><claim id="c-de-01-0002" num="0002"><claim-text>Verfahren nach Anspruch 1, wobei das erste und das zweite Signalkonstellations-Muster erhalten werden durch:
<claim-text>a) Verschachteln der Positionen der abgebildeten Bits in ein Datensymbol zwischen dem ersten und zweiten Signalkonstellations-Muster, oder</claim-text>
<claim-text>b) Invertieren der Bitwerte der abgebildeten Bits in ein Datensymbol zwischen dem ersten und zweiten Signalkonstellations-Muster.</claim-text><!-- EPO <DP n="15"> --></claim-text></claim><claim id="c-de-01-0003" num="0003"><claim-text>Verfahren nach Anspruch 1 oder 2, wobei das erste und zweite Signalkonstellations-Muster für das erste und zweite Konstellationsmuster so ausgewählt werden, dass nach Diversity-Combining der Datenbits die Unterschiede bezüglich durchschnittlicher kombinierter Bit-Zuverlässigkeiten unter den verschiedenen Bits des Datensymbols geringer sind.</claim-text></claim><claim id="c-de-01-0004" num="0004"><claim-text>Sender (10) zum Senden von Daten in einem Drahtlos-Kommunikationssystem, wobei der Sender umfasst:
<claim-text>einen ersten Modulations- und Abbildungsteil (13), der vier Datenbits unter Verwendung eines ersten Signalkonstellations-Musters eines 16 QAM-Modulationsschemas moduliert und abbildet, um ein erstes Datensymbol zu erzeugen;</claim-text>
<claim-text>einen zweiten Modulations- und Abbildungsteil (13), der die vier Datenbits unter Verwendung eines zweiten Signalkonstellations-Musters des 16 QAM-Modulationsschemas moduliert und abbildet, das anders als das erste Signalkonstellations-Muster ist, um ein zweites Datensymbol zu erzeugen; und</claim-text>
<claim-text>einen Sendeteil (30), der das erste Datensymbols und das zweite Datensymbol an einen Empfänger (20) in einem ersten Diversity-Zweig bzw. einem zweiten Diversity-Zweig sendet;</claim-text>
<claim-text>wobei das erste und zweite Signalkonstellations-Muster so ausgewählt werden, dass nach Durchführen von Diversity-Combining der Datenbits die Unterschiede bezüglich durchschnittlicher kombinierter Bit-Zuverlässigkeiten unter den verschiedenen Bits des Datensymbols geringer sind.</claim-text></claim-text></claim><claim id="c-de-01-0005" num="0005"><claim-text>Sender nach Anspruch 4, wobei das erste und das zweite Signalkonstellations-Muster erzeugt werden durch eines der folgenden:
<claim-text>a) Verschachteln der Positionen der abgebildeten Bits in ein Datensymbol zwischen dem ersten und zweiten Signalkonstellations-Muster, und<!-- EPO <DP n="16"> --></claim-text>
<claim-text>b) Invertieren der Bitwerte der abgebildeten Bits in ein Datensymbol zwischen dem ersten und zweiten Signalkonstellations-Muster.</claim-text></claim-text></claim><claim id="c-de-01-0006" num="0006"><claim-text>Sender nach Anspruch 4 oder 5, wobei das erste und zweite Signalkonstellations-Muster für das erste und zweite Konstellationsmuster so ausgewählt werden, dass nach Diversity-Combining der Datenbits die Unterschiede bezüglich durchschnittlicher kombinierter Bit-Zuverlässigkeiten unter den verschiedenen Bits von einem Datensymbol geringer sind.</claim-text></claim></claims><claims mxw-id="PCLM56980335" lang="EN" load-source="patent-office"><!-- EPO <DP n="12"> --><claim id="c-en-01-0001" num="0001"><claim-text>A method of transmitting data in a wireless communication system, the method comprising:
<claim-text>modulating and mapping four data bits using a first signal constellation pattern of a 16 QAM modulation scheme to obtain a first data symbol;</claim-text>
<claim-text>modulating and mapping said four data bits using a second signal constellation pattern of the 16 QAM modulation scheme which is different from the first signal constellation pattern to obtain a second data symbol; and</claim-text>
<claim-text>transmitting the first data symbol and the second data symbol to a receiver in a first diversity branch and a second diversity branch, respectively;</claim-text>
<claim-text>wherein the first and second signal constellation patterns are selected such that after diversity combining the data bits, the differences in mean combined bit reliabilities among the different bits of the data symbol are reduced.</claim-text></claim-text></claim><claim id="c-en-01-0002" num="0002"><claim-text>The method according to claim 1, wherein the first and second signal constellation patterns are obtained by:
<claim-text>a) interleaving the positions of the bits mapped into one data symbol between the first and second signal constellation patterns, or</claim-text>
<claim-text>b) inverting the bit values of the bits mapped into one data symbol between the first and second signal constellation patterns.</claim-text></claim-text></claim><claim id="c-en-01-0003" num="0003"><claim-text>The method according to claim 1 or 2, wherein the first and second signal constellation patterns for the first and second constellation patterns are selected such that after diversity combining the data bits, the differences in mean combined bit reliabilities among the different bits of the data symbol are reduced.</claim-text></claim><claim id="c-en-01-0004" num="0004"><claim-text>A transmitter (10) for transmitting data in a wireless communication system, the transmitter comprising:<!-- EPO <DP n="13"> -->
<claim-text>a first modulation and mapping section (13) that modulates and maps four data bits using a first signal constellation pattern of a 16 QAM modulation scheme to obtain a first data symbol;</claim-text>
<claim-text>a second modulation and mapping section (13) that modulates and maps said four data bits using a second signal constellation pattern of the 16 QAM modulation scheme which is different from the first signal constellation pattern to obtain a second data symbol; and</claim-text>
<claim-text>a transmission section (30) that transmits the first data symbol and the second data symbol to a receiver (20) in a first diversity branch and a second diversity branch, respectively;</claim-text>
<claim-text>wherein the first and second signal constellation patterns are selected such that after diversity combining the data bits, the differences in mean combined bit reliabilities among the different bits of the data symbol are reduced.</claim-text></claim-text></claim><claim id="c-en-01-0005" num="0005"><claim-text>The transmitter according to claim 4, wherein the first and second signal constellation patterns are obtained by one of:
<claim-text>a) interleaving the positions of the bits mapped into one data symbol between the first and second signal constellation patterns, and</claim-text>
<claim-text>b) inverting the bit values of the bits mapped into one data symbol between the first and second signal constellation patterns.</claim-text></claim-text></claim><claim id="c-en-01-0006" num="0006"><claim-text>The transmitter according to claim 4 or 5, wherein the first and second signal constellation patterns for the first and second constellation patterns are selected such that after diversity combining the data bits, the differences in mean combined bit reliabilities among the different bits of one data symbol are reduced.</claim-text></claim></claims><claims mxw-id="PCLM56980336" lang="FR" load-source="patent-office"><!-- EPO <DP n="17"> --><claim id="c-fr-01-0001" num="0001"><claim-text>Procédé de transmission de données dans un système de communication sans fil, le procédé comprenant :
<claim-text>la modulation et le mappage de quatre bits de données en utilisant un premier motif de constellation de signaux d'un schéma de modulation 16 QAM, pour obtenir un premier symbole de données ;</claim-text>
<claim-text>la modulation et le mappage desdits quatre bits de données en utilisant un second motif de constellation de signaux du schéma de modulation 16 QAM qui est différent du premier motif de constellation de signaux, pour obtenir un second symbole de données ; et</claim-text>
<claim-text>la transmission du premier symbole de données et du second symbole de données à un récepteur, respectivement dans une première voie de diversité et une seconde voie de diversité ;</claim-text>
<claim-text>dans lequel les premier et second motifs de constellation de signaux sont sélectionnés de telle sorte qu'après avoir combiné par diversité les bits de données, les différences de fiabilité de bits combinées moyennes entre les différents bits du symbole de données sont réduites.</claim-text></claim-text></claim><claim id="c-fr-01-0002" num="0002"><claim-text>Procédé selon la revendication 1, dans lequel les premier et second motifs de constellation de signaux sont obtenus par :<!-- EPO <DP n="18"> -->
<claim-text>a) entrelacement des positions des bits mappés dans un symbole de données entre les premier et second motifs de constellation de signaux, ou</claim-text>
<claim-text>b) inversion des valeurs de bit des bits mappés dans un symbole de données entre les premier et second motifs de constellation de signaux.</claim-text></claim-text></claim><claim id="c-fr-01-0003" num="0003"><claim-text>Procédé selon la revendication 1 ou 2, dans lequel les premier et second motifs de constellation de signaux pour les premier et second motifs de constellation sont sélectionnés de telle sorte qu'après avoir combiné par diversité les bits de données, les différences de fiabilité de bits combinées moyennes entre les différents bits du symbole de données sont réduites.</claim-text></claim><claim id="c-fr-01-0004" num="0004"><claim-text>Émetteur (10) destiné à transmettre des données dans un système de communication sans fil, l'émetteur comprenant :
<claim-text>une première section de modulation et de mappage (13) qui module et mappe quatre bits de données en utilisant un premier motif de constellation de signaux d'un schéma de modulation 16 QAM, pour obtenir un premier symbole de données ;</claim-text>
<claim-text>une seconde section de modulation et de mappage (13) qui module et mappe lesdits quatre bits de données en utilisant un second motif de constellation de signaux du schéma de modulation 16 QAM qui est différent du premier motif de constellation du signal, pour obtenir un second symbole de données ; et</claim-text>
<claim-text>une section de transmission (30) qui transmet le premier symbole de données et le second symbole de données à un récepteur (20), respectivement dans une<!-- EPO <DP n="19"> --> première voie de diversité et une seconde voie de diversité ;</claim-text>
<claim-text>dans lequel les premier et second motifs de constellation de signaux sont sélectionnés de telle sorte qu'après avoir combiné par diversité les bits de données, les différences de fiabilité de bits combinées moyennes entre les différents bits du symbole de données sont réduites.</claim-text></claim-text></claim><claim id="c-fr-01-0005" num="0005"><claim-text>Émetteur selon la revendication 4, dans lequel les premier et second motifs de constellation de signaux sont obtenus par une opération parmi :
<claim-text>a) l'entrelacement des positions des bits mappés dans un symbole de données entre les premier et second motifs de constellation de signaux, et</claim-text>
<claim-text>b) l'inversion des valeurs de bit des bits mappés dans un symbole de données entre les premier et second motifs de constellation de signaux.</claim-text></claim-text></claim><claim id="c-fr-01-0006" num="0006"><claim-text>Émetteur selon la revendication 4 ou 5, dans lequel les premier et second motifs de constellation de signaux pour les premier et second motifs de constellation sont sélectionnés de telle sorte qu'après avoir combiné par diversité les bits de données, les différences de fiabilité de bits combinées moyennes entre les différents bits du symbole de données sont réduites.</claim-text></claim></claims><drawings mxw-id="PDW16669127" load-source="patent-office"><!-- EPO <DP n="20"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="137" he="144" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="21"> --><figure id="f0002" num="2"><img id="if0002" file="imgf0002.tif" wi="132" he="127" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="22"> --><figure id="f0003" num="3"><img id="if0003" file="imgf0003.tif" wi="131" he="215" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="23"> --><figure id="f0004" num="4"><img id="if0004" file="imgf0004.tif" wi="158" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="24"> --><figure id="f0005" num="5"><img id="if0005" file="imgf0005.tif" wi="139" he="188" img-content="drawing" img-format="tif"/></figure></drawings><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
