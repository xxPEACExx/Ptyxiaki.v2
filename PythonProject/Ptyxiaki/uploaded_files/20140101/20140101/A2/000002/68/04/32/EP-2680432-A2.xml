<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2680432-A2" country="EP" doc-number="2680432" kind="A2" date="20140101" family-id="48741129" file-reference-id="301335" date-produced="20180824" status="corrected" lang="DE"><bibliographic-data><publication-reference fvid="146549256" ucid="EP-2680432-A2"><document-id><country>EP</country><doc-number>2680432</doc-number><kind>A2</kind><date>20140101</date><lang>DE</lang></document-id></publication-reference><application-reference ucid="EP-13173271-A" is-representative="YES"><document-id mxw-id="PAPP154823179" load-source="docdb" format="epo"><country>EP</country><doc-number>13173271</doc-number><kind>A</kind><date>20130621</date><lang>DE</lang></document-id><document-id mxw-id="PAPP210132528" load-source="docdb" format="original"><country>EP</country><doc-number>13173271.1</doc-number><date>20130621</date><lang>DE</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140449076" ucid="DE-102012105740-A" load-source="docdb"><document-id format="epo"><country>DE</country><doc-number>102012105740</doc-number><kind>A</kind><date>20120629</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-1919307628" load-source="docdb">H02P   8/12        20060101AFI20160704BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL1988118078" load-source="docdb" scheme="CPC">H02P   8/12        20130101 FI20131120BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132180252" lang="DE" load-source="patent-office">Verfahren zur Ansteuerung eines Schrittmotors</invention-title><invention-title mxw-id="PT132180253" lang="EN" load-source="patent-office">Method for controlling a stepper motor</invention-title><invention-title mxw-id="PT132180254" lang="FR" load-source="patent-office">Procédé destiné à la commande d'un moteur pas à pas</invention-title><citations><patent-citations><patcit mxw-id="PCIT242652117" load-source="docdb" ucid="DE-102006021418-A1"><document-id format="epo"><country>DE</country><doc-number>102006021418</doc-number><kind>A1</kind><date>20071115</date></document-id><sources><source name="APP" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT242652116" load-source="docdb" ucid="DE-19609803-C1"><document-id format="epo"><country>DE</country><doc-number>19609803</doc-number><kind>C1</kind><date>19970522</date></document-id><sources><source name="APP" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT242652115" load-source="docdb" ucid="DE-4121617-A1"><document-id format="epo"><country>DE</country><doc-number>4121617</doc-number><kind>A1</kind><date>19930107</date></document-id><sources><source name="APP" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT242652118" load-source="docdb" ucid="US-20120014732-A1"><document-id format="epo"><country>US</country><doc-number>20120014732</doc-number><kind>A1</kind><date>20120119</date></document-id><sources><source name="APP" created-by-npl="N"/></sources></patcit></patent-citations></citations></technical-data><parties><applicants><applicant mxw-id="PPAR918149184" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>BDT MEDIA AUTOMATION GMBH</last-name><address><country>DE</country></address></addressbook></applicant><applicant mxw-id="PPAR918148963" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>BDT MEDIA AUTOMATION GMBH</last-name></addressbook></applicant><applicant mxw-id="PPAR918981781" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>BDT Media Automation GmbH</last-name><iid>101228741</iid><address><street>Saline 29</street><city>78628 Rottweil</city><country>DE</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR918166560" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>GUNDEL MARTIN</last-name><address><country>DE</country></address></addressbook></inventor><inventor mxw-id="PPAR918139207" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>GUNDEL, MARTIN</last-name></addressbook></inventor><inventor mxw-id="PPAR918989915" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>GUNDEL, MARTIN</last-name><address><street>Am Zimmerplatz 6</street><city>78549 Spaichingen</city><country>DE</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR918993234" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Patentanwälte Westphal, Mussgnug &amp; Partner</last-name><iid>100060253</iid><address><street>Am Riettor 5</street><city>78048 Villingen-Schwenningen</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><designated-states><ep-contracting-states><country mxw-id="DS548874919" load-source="docdb">AL</country><country mxw-id="DS548802555" load-source="docdb">AT</country><country mxw-id="DS548874921" load-source="docdb">BE</country><country mxw-id="DS548856453" load-source="docdb">BG</country><country mxw-id="DS548803734" load-source="docdb">CH</country><country mxw-id="DS548857168" load-source="docdb">CY</country><country mxw-id="DS548802556" load-source="docdb">CZ</country><country mxw-id="DS548874926" load-source="docdb">DE</country><country mxw-id="DS548857169" load-source="docdb">DK</country><country mxw-id="DS548857170" load-source="docdb">EE</country><country mxw-id="DS548838805" load-source="docdb">ES</country><country mxw-id="DS548856454" load-source="docdb">FI</country><country mxw-id="DS548853617" load-source="docdb">FR</country><country mxw-id="DS548874927" load-source="docdb">GB</country><country mxw-id="DS548857171" load-source="docdb">GR</country><country mxw-id="DS548874928" load-source="docdb">HR</country><country mxw-id="DS548802557" load-source="docdb">HU</country><country mxw-id="DS548803735" load-source="docdb">IE</country><country mxw-id="DS548857172" load-source="docdb">IS</country><country mxw-id="DS548853618" load-source="docdb">IT</country><country mxw-id="DS548857173" load-source="docdb">LI</country><country mxw-id="DS548856455" load-source="docdb">LT</country><country mxw-id="DS548851899" load-source="docdb">LU</country><country mxw-id="DS548856456" load-source="docdb">LV</country><country mxw-id="DS548856457" load-source="docdb">MC</country><country mxw-id="DS548851900" load-source="docdb">MK</country><country mxw-id="DS548851901" load-source="docdb">MT</country><country mxw-id="DS548803736" load-source="docdb">NL</country><country mxw-id="DS548838806" load-source="docdb">NO</country><country mxw-id="DS548803737" load-source="docdb">PL</country><country mxw-id="DS548851902" load-source="docdb">PT</country><country mxw-id="DS548853619" load-source="docdb">RO</country><country mxw-id="DS548851903" load-source="docdb">RS</country><country mxw-id="DS548803738" load-source="docdb">SE</country><country mxw-id="DS548802562" load-source="docdb">SI</country><country mxw-id="DS548838807" load-source="docdb">SK</country><country mxw-id="DS548803739" load-source="docdb">SM</country><country mxw-id="DS548856458" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA128669926" lang="DE" load-source="patent-office"><p id="pa01" num="0001">Die Erfindung betrifft ein Verfahren zur Ansteuerung eines Schrittmotors, bei dem Statorspulen des Schrittmotors durch eine Steuerelektronik sequentiell derart bestromt werden, dass ein rotierendes elektromagnetisches Feld entsteht, wobei bei der Bestromung einer gegebenen Statorspule der Strom durch deren Windungen durch die Steuerelektronik zunächst auf einen definierten Strom-Sollwert gesteigert wird und, nachdem der Sollwert erreicht ist, der Strom gechoppert wird, indem der von der Steuerlektronik bereitgestellte Stromfluss durch die Windungen wiederholt für eine konstante Zeitspanne abgeschaltet und anschließend ein Chopper-Impuls erfolgt, während dessen der von der Steuerlektronik bereitgestellte Stromfluss wieder eingeschaltet wird, bis der Strom-Sollwert wieder erreicht ist, wobei die Steuerelektronik die durch die Zeitdauer, die benötigt wird, um nach dem Wiedereinschalten des Stromflusses den Strom-Sollwert wieder zu erreichen, definierte Breite jedes Chopper-Impulses mit einer vorgebbaren Referenz-Zeitdauer vergleicht und mit der Bestromung der als nächstes zu bestromenden Statorspule beginnt, sobald die Breite des Chopper-Impulses, erstmals die Referenz-Zeitdauer unterschreitet, bei dem die Referenz-Zeitdauer während der Ansteuerung des Schrittmotors an die Arbeitsbedingungen des Schrittmotors angepasst wird.
<img id="iaf01" file="imgaf001.tif" wi="160" he="83" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA128499299" lang="DE" source="EPO" load-source="docdb"><p>Die Erfindung betrifft ein Verfahren zur Ansteuerung eines Schrittmotors, bei dem Statorspulen des Schrittmotors durch eine Steuerelektronik sequentiell derart bestromt werden, dass ein rotierendes elektromagnetisches Feld entsteht, wobei bei der Bestromung einer gegebenen Statorspule der Strom durch deren Windungen durch die Steuerelektronik zunächst auf einen definierten Strom-Sollwert gesteigert wird und, nachdem der Sollwert erreicht ist, der Strom gechoppert wird, indem der von der Steuerlektronik bereitgestellte Stromfluss durch die Windungen wiederholt für eine konstante Zeitspanne abgeschaltet und anschließend ein Chopper-Impuls erfolgt, während dessen der von der Steuerlektronik bereitgestellte Stromfluss wieder eingeschaltet wird, bis der Strom-Sollwert wieder erreicht ist, wobei die Steuerelektronik die durch die Zeitdauer, die benötigt wird, um nach dem Wiedereinschalten des Stromflusses den Strom-Sollwert wieder zu erreichen, definierte Breite jedes Chopper-Impulses mit einer vorgebbaren Referenz-Zeitdauer vergleicht und mit der Bestromung der als nächstes zu bestromenden Statorspule beginnt, sobald die Breite des Chopper-Impulses, erstmals die Referenz-Zeitdauer unterschreitet, bei dem die Referenz-Zeitdauer während der Ansteuerung des Schrittmotors an die Arbeitsbedingungen des Schrittmotors angepasst wird.</p></abstract><abstract mxw-id="PA175379510" lang="EN" source="transcript" load-source="docdb"><p>The method involves energizing stator coils of a stepping motor by an electronic control system to generate rotating electromagnetic field. The current through the windings to a power set point is increased by the control electronics. The chopper pulse is enabled during current flow until the desired current value is reached. The period of time is required to compare the defined width of each chopper pulse with a predetermined reference time period. The reference time period is adapted to the working conditions of the stepping motor during the driving of the stepping motor.</p></abstract><description mxw-id="PDES63955356" lang="DE" load-source="patent-office"><!-- EPO <DP n="1"> --><p id="p0001" num="0001">Die Erfindung betrifft ein Verfahren zur Ansteuerung eines Schrittmotors mit den Merkmalen des Oberbegriffs des Patentanspruchs 1.</p><p id="p0002" num="0002">Eine beliebte Gattung von Elektromotoren sind Schrittmotoren. Bei einem Schrittmotor wird die Bestromung von Statorspulen durch eine Steuerelektronik so gesteuert, dass ein elektromagnetisches Feld schrittweise rotiert, dem der Rotor nachfolgt.</p><p id="p0003" num="0003">Motortreiberendstufen, welche auf dem Prinzip der festen Ausschaltzeit zur Strombegrenzung basieren, bei dem die Motortreiberstufe der Steuerelektronik nach Anlegen der Steuersignale den Strom durch die Windungen der jeweils angesteuerten Spule zunächst auf einen eingestellten Sollwert steigert, erlauben es, die durch feste Ausschaltzeiten strombegrenzten Signale auszuwerten. Die Zeit vom Beginn der Bestromung bis zum erstmaligen Erreichen des Strom-Sollwertes wird als "Stromanstiegszeit" bezeichnet. Der Vollständigkeit halber wird an dieser Stelle angemerkt, dass mehrere Spulen, die an unterschiedlichen Stellen des Motors angeordnet sind und gemeinsam angesteuert werden, in dieser Patentschrift als eine Statorspule bezeichnet werden.</p><p id="p0004" num="0004">Nachdem der Sollwert erreicht ist, wird der von der Steuerelektronik, genauer gesagt deren Motortreiberstufe, bereitgestellte Stromfluss durch die Windungen wiederholt für eine konstante Zeitspanne abgeschaltet und anschließend wieder eingeschaltet, bis der Strom-Sollwert wieder erreicht ist. Während der Stromfluss durch die Windungen abgeschaltet ist, wird der Strom über Freilaufdioden abgeleitet.<!-- EPO <DP n="2"> --></p><p id="p0005" num="0005">Dieses Vorgehen, bei dem somit mehrfach ein Zyklus aus Unterbrechungen des Stromflusses und anschließendem Steigern des Stroms auf den Sollwert durchlaufen wird, wird als "Choppern" bezeichnet. Die Zeit, welche benötigt wird, um den Strom wieder auf den Sollwert steigen zu lassen, nachdem er gemäß der Strombegrenzung aufgrund der festen Ausschaltzeit absank, wird auch als "Chopperimpuls" bezeichnet; m.a.W. unter der Breite eines Chopperimpulses versteht man seine zeitliche Dauer.</p><p id="p0006" num="0006">Wesentlich für die ordnungsgemäße Funktionsweise eines Schrittmotors ist dabei, dass das elektromagnetische Feld nicht schon zu einem Zeitpunkt durch Bestromung der nächsten Statorspulen weiterrotiert wird, zu dem der Rotor seine letzte Sollposition noch nicht erreicht hatte. Ist dies der Fall, beispielsweise weil der Motor eine unerwartet hohe Last zu bewegen hat, kommt es zumindest zu einem Schrittverlust, wenn nicht gar zur Blockierung des Motors. Es ist jedoch auch von Nachteil, das elektromagnetische Feld erst deutlich nach überschreiten der maximalen Feldüberdeckung weiterzuschalten, da dies einerseits zu Ineffizienz führt und andererseits die Gefahr des Oszillierens birgt.</p><p id="p0007" num="0007">Aus dem Stand der Technik sind eine Reihe unterschiedlicher Vorgehensweisen zur Motorsteuerung bekannt, um dieses Problem so gut wie möglich zu vermeiden. Die wohl einfachste Art der Ansteuerung ist die Verwendung einer starren Schrittfrequenz mit festgelegten Schrittzeiten. Um bei einer derartigen Ansteuerung eine Blockade zu vermeiden, muss sichergestellt sein, dass der Rotor bei der höchsten denkbaren Last vor dem Initiieren des nächsten Schritts durch die Steuerelektronik seine Zielposition erreicht hat. Gleichzeitig führt dies aber dazu, dass ein mit geringerer Last belasteter Rotor nur mit einer geringeren Schrittfrequenz betrieben werden kann, als es<!-- EPO <DP n="3"> --> eigentlich möglich wäre, so dass das zur Verfügung stehende Drehmoment nicht optimal genutzt wird, was einen geringen Wirkungsgrad des Antriebs mit sich bringt.</p><p id="p0008" num="0008">Das Erzielen besserer Wirkungsgrade setzt voraus, dass ein die Ausführung eines Motorschrittes signalisierendes Signal zur Steuerelektronik zurückgekoppelt wird. Eine Möglichkeit dazu besteht darin, einen Encoder vorzusehen, der auf den Schrittwinkel des Motors synchronisiert ist. Dies kann zwar den Wirkungsgrad optimieren, ist aber eine teure Lösung, welche noch zudem zusätzlichen Platzbedarf mit sich bringt.</p><p id="p0009" num="0009">Eine alternative Möglichkeit, die einschließlich schaltungstechnischer Realisationsmöglichkeiten beispielsweise in der <patcit id="pcit0001" dnum="DE4121617A1"><text>DE 41 21 617 A1</text></patcit> und der <patcit id="pcit0002" dnum="DE19609803C1"><text>DE 196 09 803 C1</text></patcit> offenbart ist, besteht darin, den zeitlichen Verlauf der Ströme während des Chopperbetriebs zu analysieren, um Rückschlüsse darüber zu erhalten, ob ein Schritt durch den Motor ausgeführt wurde: Die Anstiegsgeschwindigkeit des Stroms in den Windungen ist abhängig von der angelegten Spannung, dem Widerstand und der Induktivität der Spule. Die Induktivität einer gegebenen Statorspule ist aber ihrerseits abhängig von der relativen Position von Rotor und Statorspule zueinander, welche dann am höchsten ist, wenn maximale Stator-Rotor-Überdeckung gegeben ist, d.h. wenn Stator und Rotor direkt voreinander positioniert sind. Im Ergebnis wird somit bei der Drehung des Rotors die Induktivität der Statorspule moduliert. Diese Modulation der Induktivität führt dazu, dass, nachdem der Rotor über die Position, in der er der betrachteten Statorspule am nächsten ist, hinweggelaufen ist, die Breite der Chopperimpulse sich spürbar verringert.<!-- EPO <DP n="4"> --></p><p id="p0010" num="0010">Demzufolge kann man, wie detaillierter in der <patcit id="pcit0003" dnum="DE4121617A1"><text>DE 41 21 617 A1</text></patcit> und der <patcit id="pcit0004" dnum="DE19609803C1"><text>DE 196 09 803 C1</text></patcit> offenbart ist, eine Referenz-Pulsbreite für die Chopperimpulse definieren, die Breite der Chopperimpulse überwachen und das erstmalige Unterschreiten der Referenz-Pulsbreite durch die Chopperimpulse als Indikator dafür verwenden, dass die Rotordrehung erfolgt ist und somit der nächsten Schritt durch Bestromung der nächsten Statorspule eingeleitet werden kann. Diese Vorgehensweise ist auch unter dem Begriff "Chopper-Control" bekannt.</p><p id="p0011" num="0011">In der Praxis zeigt sich jedoch, dass diese Art der Rückkopplung zwar den Wirkungsgrad des Antriebs verbessert, aber noch Raum für Verbesserung lässt. Als problematisch erweist sich nämlich, dass Schrittmotoren, insbesondere Schrittmotoren kompakter Bauart mit hoher Leistungsdichte, wegen des hohen Innenwiderstands der Wicklungen ihrer Statorspulen während des Betriebs heiß werden. Diese Temperaturerhöhung bringt ihrerseits eine Erhöhung des Innenwiderstands mit sich. Konkret erhöht sich der Widerstand der Wicklungen einer Spule aus Kupfer z.B. bei einer Temperaturerhöhung von 60°C um etwa 23%. Der höhere Widerstand der Windungen führt bei konstanter Spannung zu einer Erhöhung der Breite der Chopperimpulse.</p><p id="p0012" num="0012">Dies bedeutet, dass eine Wahl der Referenz-Pulsbreite, die z.B. für eine Motortemperatur von 20° sicherstellt, dass zur nächsten anzusteuernden Statorspule zu einem nahezu optimalen Zeitpunkt erfolgt, so dass bei dieser Temperatur ein hoher Wirkungsgrad des Antriebs erzielbar ist, bei einer Motortemperatur von 80°C erst bei einem späteren Chopper-Puls unterschritten wird, so dass bei dieser Motortemperatur der Wirkungsgrad des Antriebs deutlich schlechter ist und der Motor mit einer geringeren Schrittfrequenz als eigentlich möglich betrieben wird. Umgekehrt ist aber die Verwendung einer geringeren<!-- EPO <DP n="5"> --> Referenz-Pulsbreite bei geringerer Motortemperatur, wie sie beispielsweise bei der erstmaligen Inbetriebnahme des Motors nach einer Pause herrschen würde, nicht möglich.</p><p id="p0013" num="0013">Aus der <patcit id="pcit0005" dnum="DE102006021418A1"><text>DE 10 2006 021 418 A1</text></patcit> ist ein Verfahren bekannt, bei dem aus der Überwachung der Stromanstiegszeit im Einschaltmoment und einer Spannungsmessung auf eine mögliche Blockierung eines Motors geschlossen wird.</p><p id="p0014" num="0014">Aus der <patcit id="pcit0006" dnum="US20120014732A1"><text>US 2012/0014732 A1</text></patcit> ist es bekannt, durch Ermittlung der Stromanstiegszeit im Einschaltzeitpunkt Rückschlüsse auf die aktuelle Motortemperatur zu ziehen, um durch Reduktion des Strom-Sollwertes bei zu hoher Motortemperatur eine Überhitzung des Motors zu vermeiden.</p><p id="p0015" num="0015">Die Aufgabe der Erfindung besteht daher darin, ein Verfahren zur Ansteuerung eines Schrittmotors bereitzustellen, mit dem der Schrittmotor mit einem höheren Wirkungsgrad, insbesondere mit höherer Schrittfrequenz, betrieben werden kann. Diese Aufgabe wird gelöst durch ein Verfahren mit den Merkmalen des Patentanspruchs 1. Vorteilhafte Weiterbildungen des Verfahrens sind Gegenstand der Unteransprüche.</p><p id="p0016" num="0016">Gemäß dem erfindungsgemäßen Verfahren zur Ansteuerung eines Schrittmotors werden die Statorspulen des Schrittmotors durch eine Steuerelektronik sequentiell derart bestromt, dass ein rotierendes elektromagnetisches Feld entsteht. Dabei wird bei der Bestromung einer gegebenen Statorspule der Strom durch deren Windungen durch die Steuerelektronik zunächst auf einen definierten Strom-Sollwert gesteigert und danach, nachdem der Sollwert erreicht ist, der Strom gechoppert, indem der von der Steuerelektronik bereitgestellte Stromfluss durch die Windungen wiederholt für eine konstante Zeitspanne abgeschaltet und<!-- EPO <DP n="6"> --> anschließend ein Chopper-Impuls erfolgt, während dessen der von der Steuerelektronik bereitgestellte Stromfluss wieder eingeschaltet wird, bis der Strom-Sollwert wieder erreicht ist.</p><p id="p0017" num="0017">Dabei vergleicht, wie allgemein aus Chopper-Control-Verfahren bekannt ist, die Steuerelektronik die Breite jedes Chopper-Impulses, die durch die Zeitdauer definiert ist, die benötigt wird, um nach dem Wiedereinschalten des Stromflusses nach den Strom-Sollwert wieder zu erreichen, mit einer vorgebbaren Referenz-Zeitdauer und beginnt mit der Bestromung der als nächstes zu bestromenden Statorspule, sobald die Breite des Chopper-Impulses erstmals die Referenz-Zeitdauer unterschreitet.</p><p id="p0018" num="0018">Erfindungswesentlich ist, dass die Referenz-Zeitdauer während der Ansteuerung des Schrittmotors an die aktuellen Arbeitsbedingungen des Schrittmotors angepasst wird. Durch diese Maßnahme wird bewirkt, dass der Schrittmotor stets nahe an seinem optimalen Arbeitspunkt betrieben wird, so dass ein verbesserter Wirkungsgrad erzielt wird.</p><p id="p0019" num="0019">Gemäß einer besonders vorteilhaften Ausgestaltung der Erfindung basiert die Anpassung der Referenz-Zeitdauer während der Ansteuerung des Schrittmotors an die Arbeitsbedingungen des Schrittmotors auf einer Messung der Referenzpulsbreite über mehrere Zyklen von Stromanstiegszeiten im Chopperbetrieb bei ruhendem bestromten Schrittmotor, der sogenannten Vorbestromungsphase. Die Vorbestromungsphase hat den Hintergrund, den Motor in einen definierten Ausgangszustand hinsichtlich der Stator-Rotor-Überdeckung zu versetzen, da im nicht bestromten Zustand die Möglichkeit besteht, dass sich der rotor zwischen zwei Polen befindet. Dies wiederum könnte zu einem ungünstigen Anlaufverhalten führen, weshalb vor dem Anlauf die Motorwicklungen<!-- EPO <DP n="7"> --> entsprechend vorbestromt werden. Das hier vorgeschlagene Verfahren hat gegenüber dem in <patcit id="pcit0007" dnum="US20120014732A1"><text>US20120014732A1</text></patcit> beschrieben Verfahren, bei welchem lediglich während eines Zyklus der Stromanstiegszeit zwischen dem ersten Einprägen des Stroms bis zum ersten Maximum ausgewertet wird, den Vorteil, dass bei der Bewegung auftretende Störeffekte zuverlässig vermieden werden und dass durch Messung mehrerer dieser Zeitintervalle ein Messwert mit kleinerem statistischen Messfehler erhalten wird.</p><p id="p0020" num="0020">Als besonders geeignete Art, die Messungen der aktuellen Breite der Chopper-Impulse bei ruhendem bestromten Schrittmotor zur Anpassung der Referenz-Zeitdauer während der Ansteuerung des Schrittmotors zu verwenden, hat sich erwiesen, die gemessene Breite der Chopper-Impulse bei ruhendem bestromten Schrittmotor über eine Look-Up-Tabelle mit einer entsprechenden Breite der Chopper-Impulse bei drehendem bestromten Schrittmotor zu korrelieren und den in der Look-Up-Tabelle enthaltenen, korrelierten Wert als aktuelle Referenz-Zeitdauer zu verwenden.</p><p id="p0021" num="0021">In einer besonders vorteilhaften Weiterbildung dieser Ausgestaltung wird die Look-Up-Tabelle erstellt, indem für ein Exemplar eines gegebenen Schrittmotortyps jeweils die Breite der Chopper-Impulse bei ruhendem bestromten Schrittmotor und die entsprechende Breite der Chopper-Impulse bei drehendem bestromten Schrittmotor für unterschiedliche Kombinationen aus Widerstand (entsprechend einer Temperaturänderung), Induktivität, Spannung und Strom ermittelt wird und in der Look-Up-Tabelle hinterlegt wird. Dabei stehen für jeweils eine Kombination die Werte für Widerstand, Induktivität, Spannung und Strom in physikalisch möglicher Beziehung. Da sowohl Widerstand und Induktivität, durch ihre spezifischen Eigenschaften, wie bspw. Temperaturabhängigkeit, als auch die Spannung, bspw.<!-- EPO <DP n="8"> --> durch die instabile Quelle, Änderungen bzgl. des Stroms und der Stromanstiegszeit hervorrufen können, es aber für die Betrachtung der Anstiegszeit unerheblich ist, welcher Parameter die Änderung hervorruft, ist es sinnvoll aus einem ermittelten Zeitwert in der Vorbestromungsphase auf einen Zeitwert für den kommutierten / drehenden bestromten Schrittmotor zu schließen. Die Verwendung derartig ermittelter Tabellen bietet die Möglichkeit sowohl statischen Widerstandsänderungen, welche bspw. durch Toleranzen von Fertigungschargen, unterschiedlichen Leitungslängen oder allgemein unterschiedlicher Anschlusskabel und Kontaktierungen hervorgerufen werden können, als auch dynamischen Widerstandsänderungen bspw. durch Temperaturänderung hervorgerufen, zu kompensieren.</p><p id="p0022" num="0022">Ergänzend wird darauf hingewiesen, dass mit Hilfe einer solchen Tabelle auch eine Temperaturmessung der Betriebstemperatur des Motors möglich ist, da Strom und Spannung einfach gemessen werden können, daraus der aktuelle Spulenwiderstand berechnet werden kann und dann die Motortemperatur aus der bekannten Temperaturabhängigkeit des Spulenwiderstands ermittelbar ist.</p><p id="p0023" num="0023">Es hat sich als besonders vorteilhaft erwiesen, wenn die Messung der aktuellen Breite der Chopper-Impulse im eingeschwungenen Zustand des Schrittmotors erfolgt, also dann, wenn mindestens ein Rotor- und Statorpol optimal zueinander stehen, sich also überdecken, da in diesem Zustand sicher gestellt ist, dass der störende Einfluss einer undefinierten Rotorposition vermieden wird, welcher aus einer induzierten Gegenspannung aufgrund der elektromotorischen Kraft (EMK) des Motors herbeigeführt würde.<!-- EPO <DP n="9"> --></p><p id="p0024" num="0024">Besonders bevorzugt ist es, wenn die Messung der Breite der Chopper-Impulse bei ruhendem bestromten Schrittmotor in einer Vorbestromungsphase erfolgt, da dadurch ein zusätzlicher Zeitbedarf zu einem Zeitpunkt, zu dem die Drehung des Motors erfolgen soll, konsequent vermieden wird.</p><p id="p0025" num="0025">Die Erfindung wird nachfolgend an Hand von Figuren näher erläutert. Es zeigen:
<dl id="dl0001"><dt>Fig. 1:</dt><dd>Einen gemessenen zeitlichen Verlauf des Phasenstroms in einer Statorspule bei drehendem Schrittmotor;</dd><dt>Fig. 2:</dt><dd>einen gemessenen zeitlichen Verlauf des Phasenstroms in einer Statorspule bei stehendem Schrittmotor und maximaler Rotor-Stator-Überdeckung;</dd><dt>Fig. 3:</dt><dd>einen gemessenen zeitlichen Verlauf des Phasenstroms in einer Statorspule bei stehendem Schrittmotor, wenn vor dem Einprägen des Stroms keine maximale Rotor-Stator-Überdeckung gegeben ist; und</dd><dt>Fig. 4:</dt><dd>einen vergrößerten Ausschnitt des Signals aus <figref idrefs="f0001">Figur 1</figref> während des Chopperns und das zugehörige Choppersignal.</dd></dl></p><p id="p0026" num="0026"><figref idrefs="f0001">Fig. 1</figref> zeigt in Abhängigkeit von der Zeit t einen gemessenen Verlauf des Phasenstroms I(t) in einer Statorspule bei drehendem Schrittmotor. Zum Zeitpunkt t(I<sub>0</sub>) werden die Steuersignale der Steuerelektronik gesetzt. Die Bestromung der Statorspule beginnt und wird so lange fortgesetzt, bis die vorgegebene maximale Stromstärke I<sub>max</sub> zum Zeitpunkt t(I<sub>max1</sub>)erreicht ist. Dabei folgt der Phasenstrom wegen der Induktivität der Wicklungen der Statorspule nicht instantan nach, sondern steigt langsam<!-- EPO <DP n="10"> --> an. Dies ist die Zeitdauer, die gemäß der Lehre der <patcit id="pcit0008" dnum="DE102006021418A1"><text>DE 10 2006 021418 A1</text></patcit> bzw. der <patcit id="pcit0009" dnum="US20120014732A1"><text>US 2012/0014732 A1</text></patcit> analysiert wird.</p><p id="p0027" num="0027">Anschließend wird die Stromzufuhr gechoppert betrieben, wie besonders gut in der vergrößerten Darstellung der <figref idrefs="f0002">Figur 4</figref> zu erkennen ist. Die untere der beiden in <figref idrefs="f0002">Figur 4</figref> dargestellten Kurven repräsentiert das Choppersignal, das in Abhängigkeit von der Zeit zwischen den Zuständen "high", entsprechend eingeschaltetem Stromfluss der Steuerelektronik und "low", entsprechend ausgeschaltetem Stromfluss der Steuerelektronik hin-und hergeschaltet wird. Wie an dieser Kurve zu erkennen ist, wird immer dann, wenn I<sub>max</sub> erreicht ist, das Choppersignal für eine feste Zeitspanne in den Zustand "low" überführt. Während dieser Zeitspanne sinkt der Phasenstrom I(t) ab, wobei das Ausmaß des Absinkens von der Induktivität der Statorspule abhängt und, da sich nach Anlegen der Steuersignale an die betrachtete Statorspule der Rotor auf diese zu bewegt, mit der Zeit immer geringer wird.</p><p id="p0028" num="0028">Als Konsequenz werden die Zeiträume, in denen das Choppersignal im Zustand "high" ist, immer kürzer, bis schließlich die Referenz-Zeitdauer unterschritten und die Bestromung der nächsten Statorspule aktiviert wird.</p><p id="p0029" num="0029">In <figref idrefs="f0001">Figur 1</figref> und <figref idrefs="f0002">4</figref> ist ferner jeweils die Zeitdauer, deren Analyse zur erfindungsgemäßen Aktualisierung der Referenz-Zeitdauer verwendet wird, exemplarisch durch die Startzeit t(I<sub>chopper n</sub>) und die Endzeit t I<sub>max n+1</sub>) markiert.</p><p id="p0030" num="0030">Wie man der Darstellung des gemessenen zeitlichen Verlauf des Phasenstroms in einer Statorspule bei stehendem Schrittmotor und maximaler Rotor-Stator-Überdeckung gemäß <figref idrefs="f0001">Figur 2</figref> entnimmt, ist in dieser Situation die Breite der Chopperpulse im Wesentlichen<!-- EPO <DP n="11"> --> konstant, da sich die Induktivität der Statorspule nicht mehr ändert. Dies gilt allerdings nur so lange, wie die Arbeitsbedingungen und insbesondere die Temperatur der Windungen der Statorspule konstant bleibt; ändern sich diese, ändert sich der Widerstand der Statorspule und somit auch der Stromfluss. Ferner erkennt man im Vergleich zur Situation bei drehendem Motor, die in <figref idrefs="f0001">Figur 1</figref> dargestellt ist, dass insgesamt die Anstiegszeiten, bis der Strom I<sub>max</sub> erreicht ist, jeweils kürzer sind.</p><p id="p0031" num="0031">Grundsätzlich ist es daher möglich, die Breite der Chopperpulse auch im Ruhezustand des Schrittmotors, beispielsweise während einer Vorbestromungsphases, zu ermitteln, wodurch auch eine wiederholte Messung und Mittelung der Ergebnisse ermöglicht wird. Allerdings muss in diesem Fall die Korrelation zwischen den Breiten der Chopperpulse bei ruhendem und drehendem Schrittmotor bei gegebenen Randbedingungen wie Widerstand (entsprechend der Temperatur), Induktivität, Spannung und Stromstärke gefunden und tabelliert werden.</p><p id="p0032" num="0032">Anhand der <figref idrefs="f0002">Figur 3</figref>, welche einen gemessenen zeitlichen Verlauf des Phasenstroms in einer Statorspule bei stehendem Schrittmotor, wenn vor dem Einprägen des Stroms keine maximale Rotor-Stator-Überdeckung gegeben ist, in anderem Zeitmaßstab zeigt, wird deutlich, warum es vorteilhaft ist, die Messung in eingeschwungenem Zustand des Schrittmotors auszuführen. Im Bereich links von der Ordinatenachse erkennt man einen den durch das Choppern hervorgerufenen, Änderungen des Stroms überlagernden, welligen Verlauf der Einhüllenden der Kurve I(t), der durch das Einschwingverhalten des Rotors und dabei auftretende EMK bedingt wird. Dementsprechend sind Messungen in diesem Zustand mit einem höheren Fehler behaftet und weniger zuverlässig.</p></description><claims mxw-id="PCLM56976273" lang="DE" load-source="patent-office"><!-- EPO <DP n="12"> --><claim id="c-de-0001" num="0001"><claim-text>Verfahren zur Ansteuerung eines Schrittmotors, bei dem Statorspulen des Schrittmotors durch eine Steuerelektronik sequentiell derart bestromt werden, dass ein rotierendes elektromagnetisches Feld entsteht,<br/>
wobei bei der Bestromung einer gegebenen Statorspule der Strom (I) durch deren Windungen durch die Steuerelektronik zunächst auf einen definierten Strom-Sollwert (I<sub>max</sub>) gesteigert wird und, nachdem der Strom-Sollwert (I<sub>max</sub>) erreicht ist, der Strom (I) gechoppert wird, indem der von der Steuerlektronik bereitgestellte Stromfluss durch die Windungen wiederholt für eine konstante Zeitspanne abgeschaltet und anschließend ein Chopper-Impuls erfolgt, während dessen der von der Steuerlektronik bereitgestellte Stromfluss wieder eingeschaltet wird, bis der Strom-Sollwert (I<sub>max</sub>) wieder erreicht ist,<br/>
wobei die Steuerelektronik die durch die Zeitdauer, die benötigt wird, um nach dem Wiedereinschalten des Stromflusses den Strom-Sollwert wieder zu erreichen, definierte Breite jedes Chopper-Impulses mit einer vorgebbaren Referenz-Zeitdauer vergleicht und mit der Bestromung der als nächstes zu bestromenden Statorspule beginnt, sobald die Breite des Chopper-Impulses erstmals die Referenz-Zeitdauer unterschreitet,<br/>
<b>dadurch gekennzeichnet, dass</b> die Referenz-Zeitdauer während der Ansteuerung des Schrittmotors an die Arbeitsbedingungen des Schrittmotors angepasst wird.<!-- EPO <DP n="13"> --></claim-text></claim><claim id="c-de-0002" num="0002"><claim-text>Verfahren nach Anspruch 1,<br/>
<b>dadurch gekennzeichnet, dass</b> die Anpassung der Referenz-Zeitdauer während der Ansteuerung des Schrittmotors an die Arbeitsbedingungen des Schrittmotors auf einer Messung der aktuellen Breite der Chopper-Impulse basiert.</claim-text></claim><claim id="c-de-0003" num="0003"><claim-text>Verfahren nach Anspruch 2,<br/>
<b>dadurch gekennzeichnet, dass</b> die Messung der aktuellen Referenzpulsbreite der Chopperpulse bei ruhendem Schrittmotor erfolgt.</claim-text></claim><claim id="c-de-0004" num="0004"><claim-text>Verfahren nach Anspruch 3,<br/>
<b>dadurch gekennzeichnet, dass</b> zur Anpassung der Referenz-Zeitdauer während der Ansteuerung des Schrittmotors die gemessene Breite der Chopper-Impulse bei ruhendem bestromten Schrittmotor über eine Look-Up-Tabelle mit einer entsprechenden Breite der Chopper-Impulse bei drehendem bestromten Schrittmotor korreliert wird und dass der in der Look-Up-Tabelle enthaltene, korrelierte Wert als aktuelle Referenz-Zeitdauer verwendet wird.</claim-text></claim><claim id="c-de-0005" num="0005"><claim-text>Verfahren nach Anspruch 4,<br/>
<b>dadurch gekennzeichnet, dass</b> die Look-Up-Tabelle erstellt wird, indem für ein Exemplar eines gegebenen Schrittmotortyps jeweils die Breite der Chopper-Impulse bei ruhendem bestromten Schrittmotor und die entsprechende Breite der Chopper-Impulse bei drehendem bestromten Schrittmotor für unterschiedliche Kombinationen aus Widerstand, Induktivität, Spannung und Strom ermittelt und in der Look-Up-Tabelle hinterlegt werden.<!-- EPO <DP n="14"> --></claim-text></claim><claim id="c-de-0006" num="0006"><claim-text>Verfahren nach einem der Ansprüche 2 bis 5,<br/>
<b>dadurch gekennzeichnet, dass</b> die Messung der aktuellen Breite der Chopper-Impulse im eingeschwungenen Zustand des Schrittmotors erfolgt.</claim-text></claim><claim id="c-de-0007" num="0007"><claim-text>Verfahren nach Anspruch 6,<br/>
<b>dadurch gekennzeichnet, dass</b> die Messung der Breite der Chopper-Impulse bei ruhendem bestromten Schrittmotor in einer Vorbestromungsphase erfolgt.</claim-text></claim></claims><drawings mxw-id="PDW16667054" load-source="patent-office"><!-- EPO <DP n="15"> --><figure id="f0001" num="1,2"><img id="if0001" file="imgf0001.tif" wi="165" he="205" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="16"> --><figure id="f0002" num="3,4"><img id="if0002" file="imgf0002.tif" wi="165" he="180" img-content="drawing" img-format="tif"/></figure></drawings><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
