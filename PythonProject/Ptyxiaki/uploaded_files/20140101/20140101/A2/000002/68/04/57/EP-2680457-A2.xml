<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2680457-A2" country="EP" doc-number="2680457" kind="A2" date="20140101" family-id="48672329" file-reference-id="318319" date-produced="20180824" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146549231" ucid="EP-2680457-A2"><document-id><country>EP</country><doc-number>2680457</doc-number><kind>A2</kind><date>20140101</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-13003064-A" is-representative="YES"><document-id mxw-id="PAPP154823154" load-source="docdb" format="epo"><country>EP</country><doc-number>13003064</doc-number><kind>A</kind><date>20130614</date><lang>EN</lang></document-id><document-id mxw-id="PAPP168045532" load-source="docdb" format="original"><country>EP</country><doc-number>13003064.6</doc-number><date>20130614</date><lang>EN</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140447539" ucid="US-201213535874-A" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>201213535874</doc-number><kind>A</kind><date>20120628</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-2145968078" load-source="docdb">G06K   7/10        20060101ALI20141006BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-2145972401" load-source="docdb">H04B   5/00        20060101AFI20141006BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-2145974422" load-source="docdb">G06K  19/07        20060101ALI20141006BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-2015160397" load-source="docdb" scheme="CPC">G06K   7/10237     20130101 LI20151016BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2015163359" load-source="docdb" scheme="CPC">G06K  19/0727      20130101 LI20151016BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2073189735" load-source="docdb" scheme="CPC">H04B   5/0075      20130101 FI20150417BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132180177" lang="DE" load-source="patent-office">NFC-Vorrichtung mit PLL-gesteuerter aktiver Lastmodulation</invention-title><invention-title mxw-id="PT132180178" lang="EN" load-source="patent-office">NFC device with PLL controlled active load modulation</invention-title><invention-title mxw-id="PT132180179" lang="FR" load-source="patent-office">Dispositif NFC avec modulation de charge active contrôlée PLL</invention-title><citations><non-patent-citations><nplcit><text>"Information Technology - Telecommunications and Information Exchange Between Systems - Near Field Communication - Interface and Protocol (NFCIP-1", INTERNATIONAL STANDARD ISO/IE 18092:2004(E, 1 April 2004 (2004-04-01)</text><sources><source mxw-id="PNPL56572907" load-source="docdb" name="APP"/></sources></nplcit><nplcit><text>"Information Technology - Telecommunications and Information Exchange Between Systems - Near Field Communication - Interface and Protocol -2 (NFCIP-2", INTERNATIONAL STANDARD ISO/IE 21481:2005(E, 15 January 2005 (2005-01-15)</text><sources><source mxw-id="PNPL56572908" load-source="docdb" name="APP"/></sources></nplcit></non-patent-citations></citations></technical-data><parties><applicants><applicant mxw-id="PPAR918162646" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>BROADCOM CORP</last-name><address><country>US</country></address></addressbook></applicant><applicant mxw-id="PPAR918148314" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>BROADCOM CORPORATION</last-name></addressbook></applicant><applicant mxw-id="PPAR918986220" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Broadcom Corporation</last-name><iid>100956827</iid><address><street>5300 California Avenue</street><city>Irvine, CA 92617</city><country>US</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR918141508" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>LEFLEY ALASTAIR</last-name><address><country>GB</country></address></addressbook></inventor><inventor mxw-id="PPAR918170831" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>LEFLEY, ALASTAIR</last-name></addressbook></inventor><inventor mxw-id="PPAR918984374" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>LEFLEY, ALASTAIR</last-name><address><street>9, West Hay Grove</street><city>Kemble, GL7 6BE</city><country>GB</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR918986501" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Jehle, Volker Armin</last-name><iid>101075865</iid><address><street>Bosch Jehle Patentanwaltsgesellschaft mbH Flüggenstrasse 13</street><city>80639 München</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><designated-states><ep-contracting-states><country mxw-id="DS548873435" load-source="docdb">AL</country><country mxw-id="DS548851953" load-source="docdb">AT</country><country mxw-id="DS548873437" load-source="docdb">BE</country><country mxw-id="DS548855749" load-source="docdb">BG</country><country mxw-id="DS548850384" load-source="docdb">CH</country><country mxw-id="DS548855791" load-source="docdb">CY</country><country mxw-id="DS548851958" load-source="docdb">CZ</country><country mxw-id="DS548873438" load-source="docdb">DE</country><country mxw-id="DS548855792" load-source="docdb">DK</country><country mxw-id="DS548855793" load-source="docdb">EE</country><country mxw-id="DS548838567" load-source="docdb">ES</country><country mxw-id="DS548855750" load-source="docdb">FI</country><country mxw-id="DS548802285" load-source="docdb">FR</country><country mxw-id="DS548873439" load-source="docdb">GB</country><country mxw-id="DS548855794" load-source="docdb">GR</country><country mxw-id="DS548873440" load-source="docdb">HR</country><country mxw-id="DS548851959" load-source="docdb">HU</country><country mxw-id="DS548850385" load-source="docdb">IE</country><country mxw-id="DS548855795" load-source="docdb">IS</country><country mxw-id="DS548802290" load-source="docdb">IT</country><country mxw-id="DS548855796" load-source="docdb">LI</country><country mxw-id="DS548855751" load-source="docdb">LT</country><country mxw-id="DS548803587" load-source="docdb">LU</country><country mxw-id="DS548855752" load-source="docdb">LV</country><country mxw-id="DS548855753" load-source="docdb">MC</country><country mxw-id="DS548803588" load-source="docdb">MK</country><country mxw-id="DS548803589" load-source="docdb">MT</country><country mxw-id="DS548851960" load-source="docdb">NL</country><country mxw-id="DS548838568" load-source="docdb">NO</country><country mxw-id="DS548850386" load-source="docdb">PL</country><country mxw-id="DS548855755" load-source="docdb">PT</country><country mxw-id="DS548851961" load-source="docdb">RO</country><country mxw-id="DS548855756" load-source="docdb">RS</country><country mxw-id="DS548850387" load-source="docdb">SE</country><country mxw-id="DS548802291" load-source="docdb">SI</country><country mxw-id="DS548838569" load-source="docdb">SK</country><country mxw-id="DS548850388" load-source="docdb">SM</country><country mxw-id="DS548803594" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA128669901" lang="EN" load-source="patent-office"><p id="pa01" num="0001">A wireless communication device for communicating in the near-field via active load modulation. The device including an antenna configured to receive a magnetic field, a recovery device configured to recover a clock from the magnetic field, and a multiplexer configured to receive the recovered clock and a reference clock, and to output one of the recovered clock and the reference clock based on a current operational state of the wireless communication device, The wireless communication device further including a shunt regulator configured to produce the active load modulation by modulating an impedance of the wireless communication device, a phase-locked loop (PLL) configured to receive one of the recovered clock and the reference clock and to utilize the received clock to control the active load modulation, and a driver configured to contribute to the active load modulation by adjusting an amplitude of a voltage across the antenna.
<img id="iaf01" file="imgaf001.tif" wi="99" he="101" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA128499274" lang="EN" source="EPO" load-source="docdb"><p>A wireless communication device for communicating in the near-field via active load modulation. The device including an antenna configured to receive a magnetic field, a recovery device configured to recover a clock from the magnetic field, and a multiplexer configured to receive the recovered clock and a reference clock, and to output one of the recovered clock and the reference clock based on a current operational state of the wireless communication device, The wireless communication device further including a shunt regulator configured to produce the active load modulation by modulating an impedance of the wireless communication device, a phase-locked loop (PLL) configured to receive one of the recovered clock and the reference clock and to utilize the received clock to control the active load modulation, and a driver configured to contribute to the active load modulation by adjusting an amplitude of a voltage across the antenna.</p></abstract><description mxw-id="PDES63955331" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001"><u>Field of the Invention</u></heading><p id="p0001" num="0001">The disclosure generally relates to near field communications (NFC), and more specifically to an NFC device for performing active load modulation controlled using a phase-locked loop (PLL).</p><heading id="h0002">BACKGROUND</heading><heading id="h0003"><u>Related Art</u></heading><p id="p0002" num="0002">Near field communication (NFC) devices are being integrated into communication devices, such as mobile devices to provide an example, to facilitate the use of these communication devices in conducting daily transactions. For example, instead of carrying numerous credit cards, the credit information provided by these credit cards could be stored onto an NFC device. The NFC device is simply tapped to a credit card terminal to relay the credit information to the terminal to complete a transaction. As another example, a ticket writing system, such as those used in a bus or train terminal, may simply write ticket fare information onto the NFC device instead of providing a ticket to a passenger. The passenger simply taps the NFC device to a reader to ride the bus or the train without the use of a paper ticket.</p><p id="p0003" num="0003">Generally, NFC requires that NFC devices be present within a relatively small distance from one another so that their corresponding magnetic fields can exchange information. Typically, a first NFC device transmits or generates a magnetic field modulated with the information, such as the credit information or the ticket fare information. This magnetic field inductively couples the information onto a second NFC device that is proximate to the first NFC device, which is received by an antenna of the second NFC device. The second NFC device may respond to the first NFC device by inductively coupling its corresponding information onto an antenna of the first NFC device.<!-- EPO <DP n="2"> --></p><p id="p0004" num="0004">However, in the field of NFC there is an increasing diversity of products, specifically in terms of the effective area of antennas. In particular, there is strong demand for solutions using ever smaller antennas. Therefore, NFC devices are being implemented having increasingly small antennas, despite a common desire to interoperate with legacy devices, which generally have larger antennas, and to pass test specifications defined with these larger antennas.</p><p id="p0005" num="0005">The disparity in antenna size generally results in poor magnetic coupling between the small and large antennas, which inhibits the ability to pass energy from one antenna to the other. This problem of energy transfer is compounded at low magnetic fields when the device with the small antenna is attempting to transmit using load modulation.</p><p id="p0006" num="0006">Additionally, a voltage associated with a response signal may vary depending on the distance between the first and second NFC devices, which in turns varies the magnetic coupling between these NFC devices. A large distance between the devices generally causes the received response signal to have a small voltage, and thus a poor magnetic coupling may result between the devices.</p><p id="p0007" num="0007">Several problems generally arise when NFC devices experience poor magnetic coupling. For example, when only a small portion of energy transmitted from the first NFC device is actually received by the second NFC device, it becomes difficult for the second NFC device to be able to power itself from the magnetic field. Further, poor magnetic coupling may inhibit the NFC devices' ability to perform load modulation because the second NFC device may only be able to effect a small portion of the total energy that was actually transmitted by the first NFC device. Thus, the net effective energy recognized back the first NFC device may be relatively small.</p><p id="p0008" num="0008">Thus, a need exists for NFC devices that are capable of communicating with one another even in the presence of poor magnetic coupling.</p><heading id="h0004">BRIEF SUMMARY OF THE INVENTION</heading><p id="p0009" num="0009">According to an aspect, a wireless communication device comprises:
<ul><li>an antenna configured to receive a magnetic field;</li><li>a recovery device configured to recover a clock from the magnetic field;<!-- EPO <DP n="3"> --></li><li>a multiplexer configured to receive the recovered clock and a reference clock, and to output one of the recovered clock and the reference clock based on a current operational state of the wireless communication device;</li><li>a shunt regulator configured to produce an active load modulation by actively modulating an impedance of the wireless communication device;</li><li>a phase-locked loop (PLL) configured to receive one of the recovered clock and the reference clock and to utilize the received clock to control the active load modulation; and</li><li>a driver configured to contribute to the active load modulation by adjusting an amplitude of a voltage across the antenna.</li></ul></p><p id="p0010" num="0010">Advantageously, the wireless communication device is a target near field communication (NFC) device.</p><p id="p0011" num="0011">Advantageously, the shunt regulator is further configured to vary a resistance based on a load associated with the antenna.</p><p id="p0012" num="0012">Advantageously, the shunt regulator is further configured to increase the load using a feedback mechanism to maintain a safe voltage level on the antenna.</p><p id="p0013" num="0013">Advantageously, the multiplexer is configured to output the recovered clock when the current operational state of the wireless communication device is that of a target.</p><p id="p0014" num="0014">Advantageously, the multiplexer is configured to output the reference clock when the current operational state of the wireless communication device is that of an initiator.</p><p id="p0015" num="0015">Advantageously, the PLL is further configured to transition between a locked state and a memory mode between a transmission and receipt of information packets.</p><p id="p0016" num="0016">Advantageously, the PLL is functioning in the memory mode during transmission of the active load modulation, and is functioning in the locked state at all other times.</p><p id="p0017" num="0017">Advantageously, the wireless communication device is a target radio frequency identification (RFID) device.<!-- EPO <DP n="4"> --></p><p id="p0018" num="0018">According to an aspect, a wireless communication system comprises:
<ul><li>a first wireless communication device, having initiator circuitry, configured to drive a first antenna to create a first magnetic field; and</li><li>a second wireless communication device, having target circuitry, configured to receive the first magnetic field at a second antenna, to recover a clock from the first magnetic field, to perform active load modulation based on the recovered clock, and to drive the second antenna to create a second magnetic field based on the active load modulation,<br/>
wherein the first wireless communication device is further configured to receive the second magnetic field and to demodulate the second magnetic field using a demodulation technique.</li></ul></p><p id="p0019" num="0019">Advantageously, the initiator circuitry comprises:
<ul><li>a demodulator configured to demodulate the second magnetic field;</li><li>a first phase-locked loop (PLL) configured to synthesize a sine wave; and</li><li>a first driver configured to drive the synthesized sine wave on the first antenna to create the first magnetic field,</li></ul>
and wherein the target circuitry comprises:
<ul><li>a recovery device configured to recover the clock from the second magnetic field;</li><li>a multiplexer configured to output one of the recovered clock and a reference clock based on a current operational state of the second wireless communication device;<br/>
a shunt regulator configured to produce the active load modulation by actively modulating an impedance of the second wireless communication device;</li><li>a second PLL configured to receive one of the recovered clock and the reference clock and to utilize the received clock to control the active load modulation; and</li><li>a second driver configured to contribute to the active load modulation by adjusting an amplitude of a voltage across the second antenna.</li></ul></p><p id="p0020" num="0020">Advantageously, the first wireless communication device and the second wireless communication device form a transformer.</p><p id="p0021" num="0021">Advantageously, the first wireless communication device is configured to create the first magnetic field by adjusting a voltage of the sine wave.<!-- EPO <DP n="5"> --></p><p id="p0022" num="0022">Advantageously, the first wireless communication device is configured to demodulate the second magnetic field using current sensing functionality.</p><p id="p0023" num="0023">Advantageously, the first wireless communication device and the second wireless communication device are configured to communicate using active load modulation in the presence of both a high magnetic field and a low magnetic field.</p><p id="p0024" num="0024">Advantageously, the first wireless communication device and the second wireless communication device have poor magnetic coupling.</p><p id="p0025" num="0025">According to an aspect, a method of performing active load modulation comprises:
<ul><li>receiving a magnetic field at a wireless communication device;</li><li>recovering a clock from the magnetic field;</li><li>inputting one of the recovered clock and a reference clock to a phase-locked loop (PLL), located within the wireless communication device, based on an operational state of the wireless communication device;</li><li>placing the PLL into one of a locked state and a memory mode based on the operational state of the wireless communication device;</li><li>adjusting at least one characteristic of a voltage vector produced by the wireless communication device;</li><li>creating a modulated magnetic field based on the adjusted voltage vector; and</li><li>contributing to a drive of the modulated magnetic field.</li></ul></p><p id="p0026" num="0026">Advantageously, placing the PLL into one of a locked state and a memory mode comprises:
<ul><li>placing the PLL in the memory mode, by open circuiting the PLL, during a transmission of the modulated magnetic field; and</li><li>place the PLL in the locked state at other times, such that the PLL locks to the recovered clock,<br/>
wherein the PLL is configured to remember a phase and frequency of the recovered clock while in the memory mode.</li></ul></p><p id="p0027" num="0027">Advantageously, the method further comprises loading an antenna, located on the wireless communication device, through a feedback mechanism to maintain a safe voltage level across the antenna, wherein the loading is performed when the magnetic field is high.<!-- EPO <DP n="6"> --></p><p id="p0028" num="0028">Advantageously, the method further comprises:
<ul><li>transmitting the modulated magnetic field from the wireless communication device to a second wireless communication device; and</li><li>demodulating the modulated magnetic field using current sensing functionality within the second wireless communication device.</li></ul></p><heading id="h0005">BRIEF DESCRIPTION OF THE DRAWINGS/FIGURES</heading><p id="p0029" num="0029">Embodiments of the disclosure are described with reference to the accompanying drawings. In the drawings, like reference numbers indicate identical or functionally similar elements. Additionally, the left most digit(s) of a reference number identifies the drawing in which the reference number first appears.</p><p id="p0030" num="0030"><figref idrefs="f0001">FIG. 1</figref> illustrates a block diagram of an NFC environment according to an exemplary embodiment of the disclosure.</p><p id="p0031" num="0031"><figref idrefs="f0002">FIG. 2A</figref> illustrates a block diagram of an initiator NFC device that is implemented as part of the NFC environment according to an exemplary embodiment of the disclosure.</p><p id="p0032" num="0032"><figref idrefs="f0003">FIG. 2B</figref> illustrates a block diagram of a target NFC device that is implemented as part of the NFC environment according to an exemplary embodiment of the disclosure.</p><p id="p0033" num="0033"><figref idrefs="f0004">FIG. 3</figref> illustrates a graphical representation of a modulation vector that is subject to active load modulation according to an exemplary embodiment of the present disclosure.</p><p id="p0034" num="0034"><figref idrefs="f0005">FIG. 4</figref> illustrates a block diagram of a phase-locked loop (PLL) that may be implemented as part of the NFC devices according to an exemplary embodiment of the present disclosure.</p><p id="p0035" num="0035"><figref idrefs="f0006">FIG. 5</figref> is a flowchart of exemplary operational steps of performing active load modulation according to an exemplary embodiment of the present disclosure.</p><p id="p0036" num="0036">Embodiments of the disclosure will now be described with reference to the accompanying drawings. In the drawings, like reference numbers generally indicate identical, functionally similar, and/or structurally similar elements. The drawing in which an element first appears is indicated by the leftmost digit(s) in the reference number<!-- EPO <DP n="7"> --></p><heading id="h0006">DETAILED DESCRIPTION</heading><p id="p0037" num="0037">The following Detailed Description refers to accompanying drawings to illustrate exemplary embodiments consistent with the disclosure. References in the Detailed Description to "one exemplary embodiment," "an exemplary embodiment," "an example exemplary embodiment," etc., indicate that the exemplary embodiment described may include a particular feature, structure, or characteristic, but every exemplary embodiment may not necessarily include the particular feature, structure, or characteristic. Moreover, such phrases are not necessarily referring to the same exemplary embodiment. Further, when a particular feature, structure, or characteristic is described in connection with an exemplary embodiment, it is within the knowledge of those skilled in the relevant art(s) to affect such feature, structure, or characteristic in connection with other exemplary embodiments whether or not explicitly described.</p><p id="p0038" num="0038">The exemplary embodiments described herein are provided for illustrative purposes, and are not limiting. Other exemplary embodiments are possible, and modifications may be made to the exemplary embodiments within the spirit and scope of the disclosure. Therefore, the Detailed Description is not meant to limit the disclosure. Rather, the scope of the disclosure is defined only in accordance with the following claims and their equivalents.</p><p id="p0039" num="0039">Embodiments of the disclosure may be implemented in hardware, firmware, software, or any combination thereof. Embodiments of the disclosure may also be implemented as instructions stored on a machine-readable medium, which may be read and executed by one or more processors. A machine-readable medium may include any mechanism for storing or transmitting information in a form readable by a machine (e.g., a computing device). For example, a machine-readable medium may include read only memory (ROM); random access memory (RAM); magnetic disk storage media; optical storage media; flash memory devices; electrical, optical, acoustical or other forms of propagated signals (e.g., carrier waves, infrared signals, digital signals, etc.), and others. Further, firmware, software, routines, instructions may be described herein as performing certain actions. However, it should be appreciated that such descriptions are merely for convenience and that such actions in fact result from computing devices, processors, controllers, or other devices executing the firmware, software, routines, instructions, etc.<!-- EPO <DP n="8"> --></p><p id="p0040" num="0040">The following Detailed Description of the exemplary embodiments will so fully reveal the general nature of the disclosure that others can, by applying knowledge of those skilled in relevant art(s), readily modify and/or adapt for various applications such exemplary embodiments, without undue experimentation, without departing from the spirit and scope of the disclosure. Therefore, such adaptations and modifications are intended to be within the meaning and plurality of equivalents of the exemplary embodiments based upon the teaching and guidance presented herein. It is to be understood that the phraseology or terminology herein is for the purpose of description and not of limitation, such that the terminology or phraseology of the present specification is to be interpreted by those skilled in relevant art(s) in light of the teachings herein.</p><p id="p0041" num="0041">Although the description of the present disclosure is to be described in terms of near field communication (NFC), those skilled in the relevant art(s) will recognize that the present disclosure may be applicable to other communications that use the near field and/or the far field without departing from the spirit and scope of the present disclosure. For example, although the present disclosure is to be described using NFC capable communication devices, those skilled in the relevant art(s) will recognize that functions of these NFC capable communication devices may be applicable to other communications devices that use the near field and/or the far field without departing from the spirit and scope of the present disclosure.</p><heading id="h0007"><u>AN EXEMPLARY NEAR FIELD COMMUNICATIONS (NFC) ENVIRONMENT</u></heading><p id="p0042" num="0042"><figref idrefs="f0001">FIG. 1</figref> illustrates a block diagram of an NFC environment according to an exemplary embodiment of the disclosure. An NFC environment 100 provides wireless communication of information, such as one or more commands and/or data, among a first NFC device 110 and a second NFC device 120 that are sufficiently proximate to each other. The first NFC device 110 and/or the second NFC device 120 may be implemented as a standalone or a discrete device or may be incorporated within or coupled to another electrical device or host device, such as a mobile telephone, a portable computing device, another computing device such as a personal digital assistant, a laptop, or a desktop computer, a computer peripheral such as a printer, a portable audio and/or video player, a payment system, a ticketing writing system such as a parking ticketing system, a bus<!-- EPO <DP n="9"> --> ticketing system, a train ticketing system or an entrance ticketing system to provide some examples, or in a ticket reading system, a toy, a game, a poster, packaging, advertising material, a product inventory checking system and/or any other suitable electronic device that will be apparent to those skilled in the relevant art(s) without departing from the spirit and scope of the disclosure.</p><p id="p0043" num="0043">The first NFC device 110 and the second NFC device 120 interact with each other to exchange the information, in a peer-to-peer (P2P) communication mode or a reader/writer (R/W) communication mode. In the P2P communication mode, the first NFC device 110 and the second NFC device 120 may be configured to operate according to an active communication mode and/or a passive communication mode. The first NFC device 110 modulates its corresponding information onto a first carrier wave, referred to as a modulated information communication, and generates a first magnetic field by applying the modulated information communication to the first antenna to provide a first information communication 111. The first NFC device 110 ceases to generate the first magnetic field after transferring its corresponding information to the second NFC device 120 in the active communication mode. Alternatively, in the passive communication mode, the first NFC device 110 continues to apply the first carrier wave without its corresponding information, referred to as an unmodulated information communication, to continue to provide the first information communication 111 once the information has been transferred to the second NFC device 120.</p><p id="p0044" num="0044">The first NFC device 110 is sufficiently proximate to the second NFC device 120 such that the first information communication 111 is inductively coupled onto a second antenna of the second NFC device 120. The second NFC device 120 demodulates the first information communication 111 to recover the information. The second NFC device 120 may respond to the information by modulating its corresponding information onto a second carrier wave and generating a second magnetic field by applying this modulated information communication to the second antenna to provide a second information communication 121 in the active communication mode. Alternatively, the second NFC device 120 may respond to the information by modulating the second antenna with its corresponding information to modulate the first carrier wave to provide the second information communication 121 in the passive communication mode.<!-- EPO <DP n="10"> --></p><p id="p0045" num="0045">In the R/W communication mode, the first NFC device 110 is configured to operate in an initiator, or reader, mode of operation and the second NFC device 120 is configured to operate in a target, or tag, mode of operation. However, this example is not limiting. Those skilled in the relevant art(s) will recognize that the first NFC device 110 may be configured to operate in the tag mode and the second NFC device 120 may be configured to operate in the reader mode in accordance with the teachings herein without departing from the spirit and scope of the present disclosure. The first NFC device 110 modulates its corresponding information onto the first carrier wave and generates the first magnetic field by applying the modulated information communication to the first antenna to provide the first information communication 111. The first NFC device 110 continues to apply the first carrier wave without its corresponding information to continue to provide the first information communication 111 once the information has been transferred to the second NFC device 120. The first NFC device 110 is sufficiently proximate to the second NFC device 120 such that the first information communication 111 is inductively coupled onto a second antenna of the second NFC device 120.</p><p id="p0046" num="0046">The second NFC device 120 derives or harvests power from the first information communication 111 to recover and/or process the received information, and/or to provide a response to the information. The second NFC device 120 demodulates the first information communication 111 to recover and/or to process the information. The second NFC device 120 may respond to the information by modulating the second antenna with its corresponding information to modulate the first carrier wave to provide the second information communication 121.</p><p id="p0047" num="0047">Further operations of the first NFC device 110 and/or the second NFC device 120 may be described in <nplcit id="ncit0001" npl-type="s"><text>International Standard ISO/IE 18092:2004(E), "Information Technology - Telecommunications and Information Exchange Between Systems - Near Field Communication - Interface and Protocol (NFCIP-1)," published on April 1, 2004</text></nplcit> and <nplcit id="ncit0002" npl-type="s"><text>International Standard ISO/IE 21481:2005(E), "Information Technology - Telecommunications and Information Exchange Between Systems - Near Field Communication - Interface and Protocol -2 (NFCIP-2)," published on January 15, 2005</text></nplcit>, each of which is incorporated by reference herein in its entirety.<!-- EPO <DP n="11"> --></p><heading id="h0008"><u>AN EXEMPLARY INITIATOR NFC DEVICE AND TARGET NFC DEVICE</u></heading><p id="p0048" num="0048"><figref idrefs="f0002">FIG. 2A</figref> illustrates a block diagram of an Initiator NFC device 200 that is implemented as part of the NFC environment 100 according to an exemplary embodiment of the disclosure. <figref idrefs="f0003">FIG. 2B</figref> illustrates a block diagram of a Target NFC device 220 that is implemented as part of the NFC environment 100 according to an exemplary embodiment of the disclosure. Initiator NFC device 200 and Target NFC device 220 may represent exemplary embodiments of first NFC device 110 and second NFC device 120, respectively.</p><p id="p0049" num="0049">Initiator NFC device 200, shown in <figref idrefs="f0002">FIG. 2A</figref>, and Target NFC device 220, shown in <figref idrefs="f0003">FIG. 2B</figref>, may be NFC peers. NFC is an asymmetric interface, which means that one of the NFC devices will always be tasked with creating a magnetic field 234, and the other NFC device will always be configured to receive magnetic field 234. However, when the NFC devices are manufactured, it is undefined as to which NFC device will perform which function. Therefore, Initiator NFC device 200 and Target NFC device 220 may each have dual functionality (e.g. the ability to function both as an initiator NFC and a target NFC). In <figref idrefs="f0002">FIG. 2A</figref>, Initiator NFC device 200 is functioning as an initiator, and thus Initiator NFC device 200's target circuitry (load modulator resistor 210, shunt regulator 212 and recovery device 214) is inactive and is thus shown having dashed lines. Similarly, in <figref idrefs="f0003">FIG. 2B</figref>, Target NFC device 220 is functioning as a target, and thus Target NFC device 220's initiator circuitry (demodulator 228) is assumed to be high impedance and is thus shown having dashed lines as well.</p><p id="p0050" num="0050">As discussed above, several factors can potentially lead to a poor magnetic coupling between Initiator NFC device 200 and Target NFC device 220 (e.g. a disparity in a size of each NFC devices' antenna and/or a relatively large distance between the antennas), which may inhibit the ability to pass energy between Initiator NFC device 200 and Target NFC device 220. This problem of energy transfer may be most severe at low magnetic fields when one of the NFC devices is attempting to transmit using load modulation (e.g. Target NFC device 220 is attempting to vary the energy being transmitted), as discussed below.</p><p id="p0051" num="0051">To produce a coupling between Initiator NFC device 200 and Target NFC device 220, Initiator NFC device 200 (or Target NFC device 220) passes an alternating current through an antenna 216 (or an antenna 240). This results in an alternating magnetic field<!-- EPO <DP n="12"> --> 234 (or magnetic field 234'). When Target NFC device 220 (or Initiator NFC 200) is placed within the alternating magnetic field 234 (or magnetic field 234'), an alternating voltage will appear across antenna 240 (or antenna 216). This voltage may then be rectified and coupled to shunt regulator 242 (or shunt regulator 212) such that a reservoir of charge accumulates, which Target NFC device 220 (or Initiator NFC device 200) can then use to perform load modulation. In particular, load modulation is achieved by modulating the impedance of Target NFC device 220 (or Initiator NFC device 200) as seen by the Initiator NFC device 200 (or Target NFC device 220). In some embodiments, load modulation may be performed by allowing shunt regulator 242 (or shunt regulator 212) to actively modulate the impedance of Target NFC device 220 (or Initiator NFC device 200).</p><p id="p0052" num="0052">In an embodiment, successful communication between the NFC devices is achieved via load modulation, as Target NFC device 220 (or Initiator NFC device 200) may send data back to the Initiator NFC device 200 (or the Target NFC device 220) using a desired load modulation technique. Communication between the NFC devices via load modulation may be achieved because current that may be drawn from antenna 240 (or antenna 216) will give rise to its own relatively small magnetic field, which will oppose the Initiator NFC device 200's (or Target NFC device 220's) field. Antenna 216 (or an antenna 240) may detect this small change in the magnetic field as a relatively small increase or decrease in the current flowing through antenna 216 (or an antenna 240), which is detected by the demodulator circuits 206 (or demodulator circuit 228). This current will then be proportional to the load applied to the antenna 240 (or antenna 216). In embodiments, Initiator NFC device 200 and Target NFC device 220 are each configured to communicate using load modulation, even in the presence of a poor magnetic field.</p><p id="p0053" num="0053">Initiator NFC device 200's initiator circuitry includes a phase-locked loop (PLL) 202, a digital-to-analog converter (DAC) 204, a demodulator 206, a driver 208 and an antenna 216 (e.g. an inductor).</p><p id="p0054" num="0054">PLL 202 is configured to receive a reference clock 218, and to output a signal to DAC 204. In some embodiments, PLL 202 may be implemented as an electronic circuit, consisting of a variable frequency oscillator and a phase detector, among other functionality. PLL 202 will be discussed in greater detail below, with reference to <figref idrefs="f0005">FIG. 4</figref>.<!-- EPO <DP n="13"> --></p><p id="p0055" num="0055">DAC 204 is configured to perform digital-to-analog conversions of initiator transmission signal 236 and the signal received from PLL 202, such that the resulting analog signal may be filtered and driven using driver 208. In some embodiments, initiator transmission signal 236 may represent a sinusoidal or square wave in the form digital bits, and the analog signal output from DAC 204 may be a modulated sinusoidal wave represented in the analog domain. Thus, driver 208 may be a modulated sinusoidal driver, and/or variable gain amplifier.</p><p id="p0056" num="0056">During the reception of load modulation at Initiator NFC device 200, Initiator NFC device 200 is configured to drive antenna 216 to create magnetic field 234. In particular, Initiator NFC device 200 may synthesize the sine wave using PLL 202 and DAC 204, prior to the sine wave being fed into driver 208. Driver 208 may then filter and drive the sine wave on antenna 216.</p><p id="p0057" num="0057">After the sine wave is output from driver 208, the sine wave may then represent an initiator voltage (V<sub>initiator</sub>(ϕ)). The sine wave then travels through a matching interface before reaching antenna 216, where the sine wave appears as a voltage (V<sub>initiator</sub>(ϕ)) across antenna 216's pins. Therefore, the sine wave is configured to create a current flow through antenna 216, which will then translate into magnetic field 234.</p><p id="p0058" num="0058">As discussed above, load modulation may be achieved by modulating an impedance of Target NFC device 220 (Z<sub>Target</sub> ) as seen by Initiator NFC device 200, and that load modulation may be performed by allowing shunt regulator 242 to actively modulate Z<sub>Target</sub>. Thus, when the NFC devices communicate using load modulation, demodulator 206 may be configured to demodulate changes in the current through antenna 216, which may be caused by shunt regulator 242's active modulation of Z<sub>Target</sub>. Demodulator 206 is also configured to output an initiator receipt signal 238 form Initiator NFC device 200, which represents the impedance changes caused by Target NFC device 220.</p><p id="p0059" num="0059">Following the transmission of magnetic field 234 from antenna 216, magnetic field 234 may be received at an antenna 240 located on Target NFC device 220. This received magnetic field 234 may then induce a corresponding voltage across antenna 240. This voltage then travels through another matching interface before being processed by Target NFC device 220's target circuitry. The transmission of magnetic field 234 from Initiator NFC device 200 and the reception of magnetic field 234 by Target NFC device<!-- EPO <DP n="14"> --> 220 may form a transformer. For example, depending on the amount of coupling, Initiator NFC device 200 and Target NFC device 220 may form a transformer having varying degrees of coupling therebetween.</p><p id="p0060" num="0060">Similar to Initiator NFC device 200, Target NFC device 220's target circuitry includes a phase-locked loop (PLL) 222, a digital-to-analog converter (DAC) 226, a driver 232 and an antenna 240. Target NFC device 220's target circuitry also includes a recovery device 224, a shunt regulator 242 and a multiplexer (MUX) 230. PLL 222, DAC 226 and driver 232 may be configured to function substantially similar to PLL 202, DAC 204 and driver 208, respectively. For example, DAC 226 is configured to perform digital-to-analog conversions of initiator/target transmission signal 244 as well as a signal output from PLL 222, such that the resulting analog signal may be filtered and driven using driver 232. In some embodiments, initiator/target transmission signal 244 may represent a sinusoidal or square wave in the form digital bits, and the analog signal output from DAC 226 may be a modulated sinusoidal wave represented in the analog domain. Thus, driver 232 may be a modulated sinusoidal driver, and/or variable gain amplifier. The functionality of PLL 222 will also be discussed in greater detail below, with reference to <figref idrefs="f0005">FIG. 4</figref>.</p><p id="p0061" num="0061">In some embodiments, implementing driver 232 within Target NFC device 220 may allow some conventional functionality to be omitted from Target NFC device 220. For example, by reusing driver 232 to aid in the modulation and demodulation of magnetic field 234, Target NFC device 220 may be implemented without a variable resistor, load modulation resistor, or other load-modulator device. Additionally, driver 232 may also function as an amplifier, and may be configured to actively drive energy towards magnetic field 234.</p><p id="p0062" num="0062">As discussed above, shunt regulator 242 may be configured to actively modulate Z<sub>Target</sub> such that load modulation may be performed. Additionally, shunt regulator 242 may be configured to maintain a safe voltage level within Target NFC device 220. For example, shunt regulator 242 may be configured to vary its resistance in accordance with a load associated with Target NFC device 220, which may allow Target NFC device 220 to derive a voltage (V<sub>target</sub>(θ)). In some embodiments, when performing passive load modulation using shunt regulator 242, V<sub>target</sub>(θ) may be transformed from V<sub>initiator</sub>(ϕ), and thus V<sub>target</sub>(θ) will be derived. This result may be different when using active load<!-- EPO <DP n="15"> --> modulation, as V<sub>target</sub>(θ) is being output (not derived) when using active load modulation. Additionally, in some embodiments, shunt regulator 242 may be static during periods of active communication between Initiator NFC device 200 and Target NFC device 220. Additionally, shunt regulator 242 may be a metal-oxide-semiconductor field-effect transistor (MOSFET). Shunt regulator 242 may also include a clamp.</p><p id="p0063" num="0063">Recovery device 224 is configured to recover a clock (e.g. a Target recovered clock 246) from magnetic field 234 when magnetic field 234 is received at antenna 240, and then output Target recovered clock 246 to MUX 230. Recovery device 224 may also be configured to output Target recovered clock 246 such that Target recovered clock 246 is output from Target NFC Device 220. In some embodiments, recovery device 224 may be a differential signal comparator. Additionally, Target NFC device 220 may also include a rectifier (not shown in <figref idrefs="f0003">FIG. 2B</figref>), which may be configured to provide an indication of a peak voltage level of the incoming signal V<sub>target</sub>(θ). This peak level has a reference level subtracted from it which, as an error amplifier function, controls how strongly shunt regulator 242 turns on.</p><p id="p0064" num="0064">MUX 230 is configured to receive Target recovered clock 246, as well as a reference clock 248. MUX 230 is also configured to select either Target recovered clock 246 or reference clock 248 depending on a current operational state of Target NFC device 220, and then output the selected clock (e.g. either Target recovered clock 246 or reference clock 248) to PLL 222.</p><p id="p0065" num="0065">In some embodiments, Initiator NFC device 200 and Target NFC device 220 may be configured to operate in the reverse direction. For example, Target NFC device 220 may be configured to transmit a magnetic field back 234' back to Initiator NFC device 200. Target NFC device 220 may do so by using modulation signal 244 to modulate the sine wave produced by PLL 222 and DAC 226, before driving using driver 232.</p><p id="p0066" num="0066">Initiator NFC device 200 may be configured to demodulate the magnetic field 234', received from Target NFC device 220, according to multiple different techniques. For example, Initiator NFC device 200 may include current sensing functionality. In particular, if Initiator NFC device 200 provides a voltage (V<sub>initiator</sub>(ϕ)) having a substantially constant amplitude, then the driver current (<i>I<sub>D</sub></i>) = V<sub>initiator</sub>(ϕ)/(<i>Load</i>_<i>Resistance</i>). Therefore, if the <i>Load</i>_<i>Resistance</i> changes, a corresponding change in the driver current (<i>I<sub>D</sub></i>) may be detected by Initiator NFC device<!-- EPO <DP n="16"> --> 200. In an embodiment, driver 208 may be a linear driver, in which case, the driver current (<i>I<sub>D</sub></i>) may be reproduced and fed back into demodulator 206. Therefore, by including this current sensing functionality within Initiator NFC device 200, the number of pins feeding into antenna 216 may be reduced (e.g. from six pins to two pins), and the number of external components may also be reduced.</p><p id="p0067" num="0067">In some embodiments, Initiator NFC device 200 and Target NFC device 220 may be configured to perform load modulation in the presence of a high magnetic field where a strong coupling may exist, as well as in the presence of a low magnetic field, as discussed above.</p><p id="p0068" num="0068">When a high magnetic field exists, the voltage at antenna 240 may continuously build up and may ultimately become too high. Therefore, shunt regulator 242 may be configured to load the pins of antenna 240 through a feedback mechanism until the voltage across antenna 240 reaches a safe level. To maintain a safe voltage level across antenna 240, Target NFC device 220 is configured to first measure the voltage at each of the pins of antenna 240. For example, the pins of antenna 240 may either be rectified or envelope detected to measure the voltage across antenna 240. Depending on the measured voltage across antenna 240, shunt regulator 242 is then configured to shunt a corresponding current between the pins of antenna 240 until the voltage across the pins of antenna 240 reaches a safe level.</p><p id="p0069" num="0069">In an exemplary embodiment, Initiator NFC device 200 and Target NFC device 220 may be replaced with an Initiator radio frequency identification (RFID) device and a Target RFID device. The Initiator RFID device and the Target RFID device may be configured to function substantially similar to Initiator NFC device 200 and Target NFC device 220; however, the RFID devices may not include dual functionality. For example, the Initiator RFID device may only include initiator circuitry, and the Target RFID device may only include target circuitry.</p><heading id="h0009"><u>AN EXEMPLARY MODULATION VECTOR</u></heading><p id="p0070" num="0070"><figref idrefs="f0004">FIG. 3</figref> illustrates a graphical representation of a modulation vector 300 that is subject to active load modulation according to an exemplary embodiment of the present disclosure.<!-- EPO <DP n="17"> --></p><p id="p0071" num="0071">As discussed above, Initiator NFC device 200 may be configured to transmit a modulated magnetic field 234, and upon receipt of the modulated magnetic field 234, by Target NFC device 220, Target NFC device 220 may be configured to demodulate magnetic field 234, and/or transmit modulated magnetic field 234' back to Initiator NFC device 200.</p><p id="p0072" num="0072">In an embodiment, Initiator NFC device 200 may be configured to perform demodulation of magnetic field 234' by demodulating modulation vector 300. Modulation vector 300 represents the offset between an unmodulated Initiator output current (unmodulated current) 302 and a modulated Initiator output current (modulated current) 304. Unmodulated current 302 represents both the amplitude and phase of the current output from Initiator NFC device 200 when Target NFC device 220 is not performing load modulation. Conversely, modulated current 304 represents both the amplitude and phase of the current output from Initiator NFC device 200 when Target NFC device 220 is currently performing load modulation. In some embodiments, unmodulated current 302 may be directly proportional to unmodulated magnetic field 234, while modulated current 304 may be directly proportional to modulated magnetic field 234'.</p><p id="p0073" num="0073">To properly demodulate modulation vector 300, modulation vector 300's amplitude is calculated. For simplicity and illustrative purposes only, modulation vector 300's amplitude may be represented by the modulus of V<sub>target</sub>(θ)/Z<sub>target</sub> (e.g. <i>Amplitude</i> ∝ |V<sub>target</sub>(θ)/Z<sub>target</sub>|). V<sub>target</sub>(θ) and Z<sub>target</sub> respectively represent the voltage received and impedance present at Target NFC device 220 when magnetic field 234 is transmitted by Initiator NFC device 200. This functional representation of modulation vector 300's amplitude is a simplified function where the effects of shunt regulator 242 have been temporarily ignored. Accordingly, when passively load-modulating using shunt regulator 242, V<sub>target</sub>(θ) is approximately proportional to the product of V<sub>initiator</sub>(ϕ) and the coupling between Initiator NFC device 200 and Target NFC device 220. Therefore, if the coupling between Initiator NFC device 200 and Target NFC device 220 decreases, then both V<sub>target</sub>(θ) and modulation vector 300's amplitude decease as well. However, when actively load-modulating using MUX 230, PLL 222, DAC 226 and driver 232, V<sub>target</sub>(θ) may be independent of the strength of magnetic field 234, the coupling between the NFC devices, and V<sub>initiator</sub>(ϕ).<!-- EPO <DP n="18"> --></p><p id="p0074" num="0074">To properly transmit and receive the modulated magnetic fields 234 and 234' between Initiator NFC device 200 and Target NFC device 220, Target NFC device 200 is configured to increase the modulation vector 300's amplitude. Also, by increasing modulation vector 300's amplitude, Target NFC device 220 may satisfy a wide range of communication standards on load modulation, including but not limited to, ISO/IEC 18092 / ECMA-340 (Near Field Communication Interface and Protocol-1 (NFCIP-1)), ISO/IEC 21481 / ECMA-352 (Near Field Communication Interface and Protocol-2 (NFCIP-2)), ISO/IEC 14443, and NFC Data Exchange Format (NDEF). Additionally, or alternatively, modulation vector 300's amplitude may be increased to improve Initiator NFC device 200 and Target NFC device 220's interoperability with other devices (e.g. devices having both large and small antennas).</p><p id="p0075" num="0075">In some embodiments, Target NFC device 220 may be configured to increase modulation vector 300's amplitude, beyond Initiator NFC device 200's contribution, by performing active load modulation. For example, using active load modulation, Target NFC device 220 is capable of actively driving V<sub>target</sub>(θ), which results in a contribution to modulation vector 300's amplitude. Target NFC device 220's contribution to modulation vector 300's amplitude was not previously possible using traditional passive modulation schemes. Additionally, or alternatively, active load modulation allows Target NFC device 220 to contribute to the drive of magnetic field 234, and thus Target NFC device 220 may have a relatively large influence on magnetic field 234. When V<sub>target</sub>(θ) is being actively driven, it may have a substantial amplitude, and may not be limited to the amplitude being induced on the pins of antenna 240.</p><p id="p0076" num="0076">Target NFC device 220 may also be configured to actively control the phase (0) of modulation vector 300. Similar to the amplitude of modulation vector 300, the phase (θ) of modulation vector 300 may also be important in terms of the proper transmission of modulated magnetic field 234. For example, if θ is set to an incorrect value, then the magnitude of modulation vector 300 could inadvertently return to zero. However, when θ is properly set, Target NFC device 220 may contribute to modulation vector 300's magnitude such that modulation vector 300 has reaches its maximum possible magnitude. In an embodiment, Target NFC device 220 is configured to actively control the phase (0) of modulation vector 300 by implementing functionality to store the angle of unmodulated current 302 (e.g. the incident unmodulated vector). Additionally, Target<!-- EPO <DP n="19"> --> NFC device 220 may also be configured to drive θ at substantially the same frequency as unmodulated current 302. Therefore, Target NFC device 220 may be implemented having PLL 222 to actively control the phase and frequency of V<sub>target</sub>(θ) such that the phase and frequency remain the same as the phase and frequency of unmodulated current 302 (e.g. the incident unmodulated vector).</p><heading id="h0010"><u>AN EXEMPLARY PHASE-LOCKED LOOP (PLL)</u></heading><p id="p0077" num="0077"><figref idrefs="f0005">Fig. 4</figref> illustrates a block diagram of an exemplary phase-locked loop (PLL) 400 that may be implemented as part of Initiator NFC device 200 and/or Target NFC device 220 according to an exemplary embodiment of the present disclosure. For illustrative purposes only, PLL 400 will be described with reference to PLL 400's implementation within Target NFC device 220; however, the below description of PLL 400 may be similarly applicable to implementing PLL 400 within Initiator NFC device 200. Additionally, PLL 400 may represent an exemplary embodiment of PLL 202 and/or PLL 222.</p><p id="p0078" num="0078">As shown in PLL 400, a reference signal is input to a phase-frequency detector 420, from MUX 230. As discussed above, MUX 230 is configured to select, and subsequently output, either Target recovered clock 246 or reference clock 248 depending on a current operational state of Target NFC device 220. Therefore, the reference signal input to phase-frequency detector 420 may either represent Target recovered clock 246 or reference clock 248. For example, PLL 400 may input the reference clock 248 to phase-frequency detector 420 when Target NFC device 220 is acting as an initiator, and PLL 400 may input Target recovered clock 246 when Target NFC device 220 is acting as a target. For illustrative purposes only, the scenario where the reference signal represents Target recovered clock 246 will be discussed below.</p><p id="p0079" num="0079">Under normal operation, phase-frequency detector 420 detects the phase and frequency difference between the reference signal and the signal generated by an oscillator (e.g., voltage-controller oscillator) 450. The signal generated by oscillator 450 may represent a synthesized signal. A charge pump 430 then generates adjustment signals for adjusting the phase and frequency of oscillator 450, which are filtered by a loop filter 440 (e.g. low-pass filter) before being supplied to oscillator 450. The output of loop filter 440 may be a voltage that can be stored on a capacitor, prior to being supplied<!-- EPO <DP n="20"> --> to oscillator 450. In an embodiment, this capacitor may be included within loop filter 440, and may represent a parallel capacitor. In a feedback loop that supplies the voltage-controller oscillator (VCO) 450 output to the phase-frequency detector 420, a divider 460 may be included to reduce a frequency of the oscillator signal so that it, along with the phase, may be properly compared with the reference signal by the phase-frequency detector 420.</p><p id="p0080" num="0080">PLL 400 may be configured to lock to Target recovered clock 246, such that PLL 400 reproduces the clock frequency and phase of the incoming magnetic field 234. Therefore, PLL 400 may lock to Target recovered clock 246 during instances where Target NFC device 220 is not transmitting load modulation. Therefore, magnetic field 234 may be stable during these instances where PLL 400 locks to Target recovered clock 246. PLL 400 may be configured to transition from this locked state to an unlocked "memory mode" between the transmission and receipt of information packets. PLL 400 may also be configured to transition from the locked state to the "memory mode" by implementing PLL 400 as an open loop prior to transmitting load modulation. For example, loop filter 440 may include a series resistor, which may be open circuited to create the open loop PLL 400. Implementing this open loop within PLL 400 may place PLL 400 into the "memory mode" such that PLL 400 remembers the state in which it was locked. Therefore, PLL 400 may continue to oscillate such that it produces a signal 460 having the same frequency and phase during transmission of load modulation as the frequency and phase that PLL 400 produced just prior to transmitting load modulation.</p><p id="p0081" num="0081">PLL 400 is configured to output signal 460 by disabling phase-frequency detector 420, such that the output of loop filter 440 (e.g. the voltage stored on the capacitor) is retained. Therefore, oscillator 450 may continue to operate at the same phase and frequency that it was operating at prior to phase-frequency detector 420 being disabled. It may be necessary to disable phase-frequency detector 420 during the transmission of load modulation (e.g. while driving of V<sub>target</sub>(θ)), because magnetic field 234 may be simultaneously changing during the transmission of load modulation. Therefore, during the transmission of load modulation, PLL 400 is configured to output signal 460 from oscillator 450 to DAC 226. In an embodiment, after signal 460 is output from oscillator 450, signal 420 may represent a sine wave. DAC 226 may then synthesize signal 460 such that signal 460 (e.g. the sine wave) may be driven by driver 232.<!-- EPO <DP n="21"> --></p><p id="p0082" num="0082">Therefore, PLL 400's ability to transition from locked state to the memory mode (e.g. open loop) allows it to control the phase of V<sub>target</sub>(θ). In an embodiment, PLL 400 may be configured to derive a phase-delayed, a phase-early, or 180° out-of-phase version of the incoming magnetic field 234. This derived version of magnetic field 234 may then be used to control the phase of V<sub>target</sub>(θ). Additionally, in some embodiments, driver 232 may be a variable gain amplifier having an electronically settable voltage gain. Here, PLL 400 may be the functional source for variable gain amplifier 232, and thus PLL 400 may be configured to determine and actively control the phase of V<sub>target</sub>(θ) while other configuration settings set the voltage gain of variable gain amplifier 232. By controlling the amplitude and phase of V<sub>target</sub>(θ), PLL 400 may control the amplitude of modulation vector 300. Thus, the implementation of PLL 400 allows for precise phase control between magnetic field 234 and V<sub>target</sub>(θ), which in turn allows for improved signaling from Target NFC device 220 to Initiator NFC device 200 even in the presence of poor magnetic coupling.</p><p id="p0083" num="0083">The implementation of PLL 400 within Target NFC device 220 allows load modulation to be performed according to multiple different techniques. For example, driver 232 may be activated at instances when load modulation is desired, or driver 232 may instead be placed in an activation state at all times, where driver 232's amplitude and/or angle may be modulated when load modulation is desired. In particular, the amplitude and/or angle of V<sub>target</sub>(θ) may be modulated by modulating driver 232's amplitude and/or angle. In an embodiment, by implementing PLL 400 having an open loop, driver 232's phase and frequency may be configured to match the phase and frequency of the incoming magnetic field 234 from Initiator NFC device 200.</p><p id="p0084" num="0084">However, when V<sub>target</sub>(θ) is generated and driven (e.g. during active transmission of load modulation), unmodulated current 302 becomes modulated current 304, and modulated current 304 is then fed through recovery device 224. Therefore, by generating and driving V<sub>target</sub>(θ), target recovered clock 246 changes, and thus the reference signal input into PLL 400 changes as well. Therefore, to ensure properly functionality of Target NFC device 220 during transmission of load modulation, PLL 400 is configured to be immune to changes in the phase and/or frequency of target recovered clock 246 during this transmission of load modulation.<!-- EPO <DP n="22"> --></p><p id="p0085" num="0085">In some embodiments, Target NFC device 220 may be implemented such that the modulated data signal may be applied directly to PLL 400's phase-frequency detector 420. This may alter the locked state of PLL 400, and may also alter PLL 400's control the over the load modulation. Additionally, or alternatively, PLL 400 may be configured to lock an over-sampling controlled oscillator such that a high frequency is synthesized. The high frequency may then be used to digitally synthesize a sine wave. Conversely, PLL 400 may be designed to oscillate directly at the reference clock frequency (e.g. 13.56 MHz) and analog filtering may then be used to control the phase of V<sub>target</sub>(θ).</p><p id="p0086" num="0086">Additionally, as discussed above, actively controlling modulation vector 300's amplitude may allow Target NFC device 220 to satisfy a wide range of communication standards on load modulation. Therefore, implementing PLL 400 within Target NFC device 220 to actively control V<sub>target</sub>(θ), allows Target NFC device 220 (and/or Initiator NFC device 200) to conform to communication standards on load modulation, including but not limited to, ISO/IEC 18092 / ECMA-340 (Near Field Communication Interface and Protocol-1 (NFCIP-1)), ISO/IEC 21481 / ECMA-352 (Near Field Communication Interface and Protocol-2 (NFCIP-2)), ISO/IEC 14443, and NFC Data Exchange Format (NDEF).</p><p id="p0087" num="0087">An affirmative indication that active load modulation is being performed may be derived from the amount of current being drawn by an NFC device. For example, when using active load-modulation, an NFC device's power supply may draw significant current. Additionally, the power supply current of the NFC device may correlate closely with the data being transmitted using active load-modulation. In some embodiments, the power supply current used by the PLL may also be monitored directly to determine whether the PLL is active or inactive.</p><heading id="h0011"><u>AN EXEMPLARY METHOD OF PERFORMING ACTIVE LOAD MODULATION</u></heading><p id="p0088" num="0088"><figref idrefs="f0006">FIG. 5</figref> is a flowchart of exemplary operational steps of performing active load modulation according to an exemplary embodiment of the present disclosure. The disclosure is not limited to this operational description. Rather, it will be apparent to persons skilled in the relevant art(s) from the teachings herein that other operational control flows are within the scope and spirit of the present disclosure. The following discussion describes the steps in <figref idrefs="f0006">FIG. 5</figref>. The flowchart of <figref idrefs="f0006">FIG. 5</figref> is described with<!-- EPO <DP n="23"> --> reference to embodiments of <figref idrefs="f0001 f0002 f0003 f0004 f0005">FIGS. 1-4</figref>. However, a method 500 is not limited to these embodiments.</p><p id="p0089" num="0089">The method 500 begins at step 502, where magnetic field 234 is received at antenna 240 of Target NFC device 220.</p><p id="p0090" num="0090">In step 504, recovery device 224 recovers Target recovered clock 246 from magnetic field 234.</p><p id="p0091" num="0091">In step 506, a determination is made as to whether Target NFC device 220 is currently functioning as a target (e.g. receiving magnetic field 234 from Initiator NFC device 200) or if Target NFC device 220 is currently functioning as an initiator (e.g. transmitting modulated magnetic field 234'). If Target NFC device 220 is currently functioning as a target, then the method proceeds to step 508.</p><p id="p0092" num="0092">In step 508, PLL 222 is configured to receive Target recovered clock 246 from MUX 230, and to input Target recovered clock 246 into phase-frequency detector 420.</p><p id="p0093" num="0093">Alternatively, if it is determined at step 506 that Target NFC device 220 is currently functioning as an initiator, then the method proceeds to step 510. In step 510, PLL 222 is configured to receive reference clock 248 from MUX 230, and to input reference clock 248 into phase-frequency detector 420.</p><p id="p0094" num="0094">In step 512, a determination is made as to whether Target NFC device 220 is currently transmitting load modulation. As discussed above, it may be necessary to make this determination because magnetic field 234 may be simultaneously changing during the transmission of load modulation. If Target NFC device 220 is not currently transmitting load modulation, then the method proceeds to step 514.</p><p id="p0095" num="0095">In step 514, PLL 400 is placed into the locked state where PLL 400 locks to Target recovered clock 246, such that PLL 400 reproduces the clock frequency and phase of the incoming magnetic field 234. Therefore, magnetic field 234 may be stable during these instances where PLL 400 locks to Target recovered clock 246.</p><p id="p0096" num="0096">Alternatively, if it is determined at step 512 that Target NFC device 220 is currently transmitting load modulation, then the method proceeds to step 516. In step 516, PLL 400 is placed into the "memory mode" such that PLL 400 remembers the state in which it was locked. Therefore, PLL 400 may continue to oscillate such that it produces a signal 460 having the same frequency and phase during transmission of load<!-- EPO <DP n="24"> --> modulation as the frequency and phase that PLL 400 produced just prior to transmitting load modulation.</p><p id="p0097" num="0097">As discussed above, PLL 400 may be configured to transition from the locked state to the "memory mode" between the transmission and receipt of information packets. PLL 400 may also be configured to transition from the locked state to the "memory mode" by implementing PLL 400 as an open loop prior to transmitting load modulation. For example, loop filter 440 may include a series resistor, which may be open circuited to create the open loop PLL 400.</p><p id="p0098" num="0098">In step 518, at least one characteristic of V<sub>target</sub>(θ) is adjusted using the output of PLL 400. In particular, PLL 400's ability to operate in two different states: the locked state and the memory mode (e.g. open loop), allows it to have an effect on the phase of V<sub>target</sub>(θ). In particular, PLL 400 may derive a phase-delayed, a phase-early, or 180° out-of-phase version of the incoming magnetic field 234, and this derived version of magnetic field 234 may then be used to control the phase of V<sub>target</sub>(θ). Additionally, PLL 400 may be configured to operate as the functional source for driver 232 (e.g., variable gain amplifier 232), and thus PLL 400 may be configured to determine and actively control the amplitude of V<sub>target</sub>(θ) by setting the voltage gain of variable gain amplifier 232.</p><p id="p0099" num="0099">In step 520, modulated magnetic field 234' is created based on the adjustments in the phase and amplitude of V<sub>target</sub>(θ). By controlling the amplitude and phase of V<sub>target</sub>(θ), PLL 400 may control the magnitude of modulation vector 300, which in turn allows for precise phase control between magnetic field 234' and V<sub>target</sub>(θ).</p><p id="p0100" num="0100">In step 522, driver 232 contributes to the drive of magnetic field 234' by actively driving energy towards magnetic field 234'.</p><p id="p0101" num="0101">In step 524, modulated magnetic field 234' is transmitted from Target NFC device 220 to Initiator NFC device 200, where it may be demodulated by demodulator 206. As discussed above, PLL 400's ability to precisely control the phase between magnetic field 234' and V<sub>target</sub>(θ) allows for optimum signaling from Target NFC device 220 to Initiator NFC device 200 even in the presence of poor magnetic coupling.<!-- EPO <DP n="25"> --></p><heading id="h0012">CONCLUSION</heading><p id="p0102" num="0102">It is to be appreciated that the Detailed Description section, and not the Abstract section, is intended to be used to interpret the claims. The Abstract section may set forth one or more, but not all exemplary embodiments, of the disclosure, and thus, are not intended to limit the disclosure and the appended claims in any way.</p><p id="p0103" num="0103">The disclosure has been described above with the aid of functional building blocks illustrating the implementation of specified functions and relationships thereof. The boundaries of these functional building blocks have been arbitrarily defined herein for the convenience of the description. Alternate boundaries may be defined so long as the specified functions and relationships thereof are appropriately performed.</p><p id="p0104" num="0104">It will be apparent to those skilled in the relevant art(s) that various changes in form and detail can be made therein without departing from the spirit and scope of the disclosure. Thus the disclosure should not be limited by any of the above-described exemplary embodiments, but should be defined only in accordance with the following claims and their equivalents.</p></description><claims mxw-id="PCLM56976247" lang="EN" load-source="patent-office"><!-- EPO <DP n="26"> --><claim id="c-en-0001" num="0001"><claim-text>A wireless communication device, comprising:
<claim-text>an antenna configured to receive a magnetic field;</claim-text>
<claim-text>a recovery device configured to recover a clock from the magnetic field;</claim-text>
<claim-text>a multiplexer configured to receive the recovered clock and a reference clock, and to output one of the recovered clock and the reference clock based on a current operational state of the wireless communication device;</claim-text>
<claim-text>a shunt regulator configured to produce an active load modulation by actively modulating an impedance of the wireless communication device;</claim-text>
<claim-text>a phase-locked loop (PLL) configured to receive one of the recovered clock and the reference clock and to utilize the received clock to control the active load modulation; and</claim-text>
<claim-text>a driver configured to contribute to the active load modulation by adjusting an amplitude of a voltage across the antenna.</claim-text></claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>The wireless communication device of claim 1, wherein the wireless communication device is a target near field communication (NFC) device.</claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>The wireless communication device of claim 1 or 2, wherein the shunt regulator is further configured to vary a resistance based on a load associated with the antenna.</claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>The wireless communication device of claim 3, wherein the shunt regulator is further configured to increase the load using a feedback mechanism to maintain a safe voltage level on the antenna.</claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>The wireless communication device of any preceding claim, wherein the multiplexer is configured to output the recovered clock when the current operational state of the wireless communication device is that of a target.</claim-text></claim><claim id="c-en-0006" num="0006"><claim-text>The wireless communication device of any preceding claim, wherein the multiplexer is configured to output the reference clock when the current operational state of the wireless communication device is that of an initiator.<!-- EPO <DP n="27"> --></claim-text></claim><claim id="c-en-0007" num="0007"><claim-text>The wireless communication device of any preceding claim, wherein the PLL is further configured to transition between a locked state and a memory mode between a transmission and receipt of information packets.</claim-text></claim><claim id="c-en-0008" num="0008"><claim-text>The wireless communication device of claim 7, wherein the PLL is functioning in the memory mode during transmission of the active load modulation, and is functioning in the locked state at all other times.</claim-text></claim><claim id="c-en-0009" num="0009"><claim-text>The wireless communication device of any preceding claim, wherein the wireless communication device is a target radio frequency identification (RFID) device.</claim-text></claim><claim id="c-en-0010" num="0010"><claim-text>A wireless communication system, comprising:
<claim-text>a first wireless communication device, having initiator circuitry, configured to drive a first antenna to create a first magnetic field; and</claim-text>
<claim-text>a second wireless communication device, having target circuitry, configured to receive the first magnetic field at a second antenna, to recover a clock from the first magnetic field, to perform active load modulation based on the recovered clock, and to drive the second antenna to create a second magnetic field based on the active load modulation,<br/>
wherein the first wireless communication device is further configured to receive the second magnetic field and to demodulate the second magnetic field using a demodulation technique.</claim-text></claim-text></claim><claim id="c-en-0011" num="0011"><claim-text>The wireless communication system of claim 10, wherein the initiator circuitry comprises:
<claim-text>a demodulator configured to demodulate the second magnetic field;</claim-text>
<claim-text>a first phase-locked loop (PLL) configured to synthesize a sine wave; and</claim-text>
<claim-text>a first driver configured to drive the synthesized sine wave on the first antenna to create the first magnetic field,<br/>
and wherein the target circuitry comprises:</claim-text>
<claim-text>a recovery device configured to recover the clock from the second magnetic field;</claim-text>
<claim-text>a multiplexer configured to output one of the recovered clock and a reference clock based on a current operational state of the second wireless communication device;<!-- EPO <DP n="28"> --></claim-text>
<claim-text>a shunt regulator configured to produce the active load modulation by actively modulating an impedance of the second wireless communication device;</claim-text>
<claim-text>a second PLL configured to receive one of the recovered clock and the reference clock and to utilize the received clock to control the active load modulation; and</claim-text>
<claim-text>a second driver configured to contribute to the active load modulation by adjusting an amplitude of a voltage across the second antenna.</claim-text></claim-text></claim><claim id="c-en-0012" num="0012"><claim-text>A method of performing active load modulation:
<claim-text>receiving a magnetic field at a wireless communication device;</claim-text>
<claim-text>recovering a clock from the magnetic field;</claim-text>
<claim-text>inputting one of the recovered clock and a reference clock to a phase-locked loop (PLL), located within the wireless communication device, based on an operational state of the wireless communication device;</claim-text>
<claim-text>placing the PLL into one of a locked state and a memory mode based on the operational state of the wireless communication device;</claim-text>
<claim-text>adjusting at least one characteristic of a voltage vector produced by the wireless communication device;</claim-text>
<claim-text>creating a modulated magnetic field based on the adjusted voltage vector; and</claim-text>
<claim-text>contributing to a drive of the modulated magnetic field.</claim-text></claim-text></claim><claim id="c-en-0013" num="0013"><claim-text>The method of claim 12, wherein placing the PLL into one of a locked state and a memory mode comprises:
<claim-text>placing the PLL in the memory mode, by open circuiting the PLL, during a transmission of the modulated magnetic field; and</claim-text>
<claim-text>place the PLL in the locked state at other times, such that the PLL locks to the recovered clock,<br/>
wherein the PLL is configured to remember a phase and frequency of the recovered clock while in the memory mode.</claim-text></claim-text></claim><claim id="c-en-0014" num="0014"><claim-text>The method of claim 12 or 13, further comprising loading an antenna, located on the wireless communication device, through a feedback mechanism to maintain a safe voltage level across the antenna, wherein the loading is performed when the magnetic field is high.</claim-text></claim><claim id="c-en-0015" num="0015"><claim-text>The method of any of claims 12 to 14, further comprising:<!-- EPO <DP n="29"> -->
<claim-text>transmitting the modulated magnetic field from the wireless communication device to a second wireless communication device; and</claim-text>
<claim-text>demodulating the modulated magnetic field using current sensing functionality within the second wireless communication device.</claim-text></claim-text></claim></claims><drawings mxw-id="PDW16667029" load-source="patent-office"><!-- EPO <DP n="30"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="156" he="145" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="31"> --><figure id="f0002" num="2A"><img id="if0002" file="imgf0002.tif" wi="165" he="172" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="32"> --><figure id="f0003" num="2B"><img id="if0003" file="imgf0003.tif" wi="165" he="217" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="33"> --><figure id="f0004" num="3"><img id="if0004" file="imgf0004.tif" wi="165" he="142" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="34"> --><figure id="f0005" num="4"><img id="if0005" file="imgf0005.tif" wi="162" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="35"> --><figure id="f0006" num="5"><img id="if0006" file="imgf0006.tif" wi="165" he="217" img-content="drawing" img-format="tif"/></figure></drawings><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
