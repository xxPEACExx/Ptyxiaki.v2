<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2680475-A2" country="EP" doc-number="2680475" kind="A2" date="20140101" family-id="48626309" file-reference-id="278435" date-produced="20180824" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146549213" ucid="EP-2680475-A2"><document-id><country>EP</country><doc-number>2680475</doc-number><kind>A2</kind><date>20140101</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-13171493-A" is-representative="YES"><document-id mxw-id="PAPP154823136" load-source="docdb" format="epo"><country>EP</country><doc-number>13171493</doc-number><kind>A</kind><date>20130611</date><lang>EN</lang></document-id><document-id mxw-id="PAPP216598638" load-source="docdb" format="original"><country>EP</country><doc-number>13171493.3</doc-number><date>20130611</date><lang>EN</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140447484" ucid="US-201213535326-A" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>201213535326</doc-number><kind>A</kind><date>20120627</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-1871707385" load-source="docdb">H04L   1/00        20060101AFI20161201BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-2077489567" load-source="docdb" scheme="CPC">H04L  69/40        20130101 FI20150323BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132180123" lang="DE" load-source="patent-office">Kommunikationsvorrichtung, System und Verfahren mit Planungsüberprüfung</invention-title><invention-title mxw-id="PT132180124" lang="EN" load-source="patent-office">Communications apparatus, system and method with schedule checking</invention-title><invention-title mxw-id="PT132180125" lang="FR" load-source="patent-office">Appareil de communication, système et procédé de vérification de programme</invention-title><citations><non-patent-citations><nplcit><text>None</text><sources><source mxw-id="PNPL45130863" load-source="docdb" name="APP"/></sources></nplcit></non-patent-citations></citations></technical-data><parties><applicants><applicant mxw-id="PPAR918173877" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>NXP BV</last-name><address><country>NL</country></address></addressbook></applicant><applicant mxw-id="PPAR918166521" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>NXP B.V.</last-name></addressbook></applicant><applicant mxw-id="PPAR918987620" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>NXP B.V.</last-name><iid>100810158</iid><address><street>High Tech Campus 60</street><city>5656 AG Eindhoven</city><country>NL</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR918150709" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>DEB ABHIJIT</last-name><address><country>GB</country></address></addressbook></inventor><inventor mxw-id="PPAR918134239" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>Deb, Abhijit</last-name></addressbook></inventor><inventor mxw-id="PPAR918986413" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Deb, Abhijit</last-name><address><street>c/o NXP Semiconductors Intellectual Property &amp; Licensing Red Central 60 High Street</street><city>Redhill, Surrey RH1 1SH</city><country>GB</country></address></addressbook></inventor><inventor mxw-id="PPAR918158868" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>VERMEULEN HUBERTUS GERARDUS HENDRIKUS</last-name><address><country>GB</country></address></addressbook></inventor><inventor mxw-id="PPAR918171596" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>VERMEULEN, HUBERTUS GERARDUS HENDRIKUS</last-name></addressbook></inventor><inventor mxw-id="PPAR918985111" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>VERMEULEN, HUBERTUS GERARDUS HENDRIKUS</last-name><address><street>c/o NXP Semiconductors Intellectual Property &amp; Licensing Red Central 60 High Street</street><city>Redhill, Surrey RH1 1SH</city><country>GB</country></address></addressbook></inventor><inventor mxw-id="PPAR918151957" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>PANDEY SUJAN</last-name><address><country>GB</country></address></addressbook></inventor><inventor mxw-id="PPAR918168578" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>PANDEY, SUJAN</last-name></addressbook></inventor><inventor mxw-id="PPAR918985772" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>PANDEY, SUJAN</last-name><address><street>c/o NXP Semiconductors Intellectual Property &amp; Licensing Red Central 60 High Street</street><city>Redhill, Surrey RH1 1SH</city><country>GB</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR918982994" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Crawford, Andrew</last-name><iid>101305646</iid><address><street>NXP Semiconductors Intellectual Property and Licensing Red Central 60 High Street</street><city>Redhill, Surrey RH1 1SH</city><country>GB</country></address></addressbook></agent></agents></parties><international-convention-data><designated-states><ep-contracting-states><country mxw-id="DS548872709" load-source="docdb">AL</country><country mxw-id="DS548854983" load-source="docdb">AT</country><country mxw-id="DS548855051" load-source="docdb">BE</country><country mxw-id="DS548803419" load-source="docdb">BG</country><country mxw-id="DS548850758" load-source="docdb">CH</country><country mxw-id="DS548855052" load-source="docdb">CY</country><country mxw-id="DS548801990" load-source="docdb">CZ</country><country mxw-id="DS548872711" load-source="docdb">DE</country><country mxw-id="DS548855053" load-source="docdb">DK</country><country mxw-id="DS548855054" load-source="docdb">EE</country><country mxw-id="DS548849262" load-source="docdb">ES</country><country mxw-id="DS548803420" load-source="docdb">FI</country><country mxw-id="DS548803421" load-source="docdb">FR</country><country mxw-id="DS548872712" load-source="docdb">GB</country><country mxw-id="DS548855055" load-source="docdb">GR</country><country mxw-id="DS548872713" load-source="docdb">HR</country><country mxw-id="DS548801991" load-source="docdb">HU</country><country mxw-id="DS548850759" load-source="docdb">IE</country><country mxw-id="DS548855056" load-source="docdb">IS</country><country mxw-id="DS548803426" load-source="docdb">IT</country><country mxw-id="DS548855057" load-source="docdb">LI</country><country mxw-id="DS548872714" load-source="docdb">LT</country><country mxw-id="DS548854984" load-source="docdb">LU</country><country mxw-id="DS548803427" load-source="docdb">LV</country><country mxw-id="DS548803428" load-source="docdb">MC</country><country mxw-id="DS548854985" load-source="docdb">MK</country><country mxw-id="DS548854986" load-source="docdb">MT</country><country mxw-id="DS548849263" load-source="docdb">NL</country><country mxw-id="DS548838479" load-source="docdb">NO</country><country mxw-id="DS548849264" load-source="docdb">PL</country><country mxw-id="DS548803429" load-source="docdb">PT</country><country mxw-id="DS548801992" load-source="docdb">RO</country><country mxw-id="DS548803434" load-source="docdb">RS</country><country mxw-id="DS548849265" load-source="docdb">SE</country><country mxw-id="DS548850760" load-source="docdb">SI</country><country mxw-id="DS548838480" load-source="docdb">SK</country><country mxw-id="DS548838481" load-source="docdb">SM</country><country mxw-id="DS548854987" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA128669883" lang="EN" load-source="patent-office"><p id="pa01" num="0001">Data communications are effected in a network having a plurality of different network devices, at least two of the network devices connected to a common wired network link and in which each network device is assigned to communicate during different time slots within a communication cycle. Stored communication protocol data is used to evaluate received configuration data specifying a communication schedule. An output indicative of a non-compliant communication is generated if the evaluation indicates that the communication schedule fails to comply with the protocol data. If the communication schedule complies with the stored communication protocol data, the communication schedule is stored and used to communicate data between the network devices, via a central communication circuit according to time slots specified in the evaluated communication schedule.
<img id="iaf01" file="imgaf001.tif" wi="97" he="82" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA128499256" lang="EN" source="EPO" load-source="docdb"><p>Data communications are effected in a network having a plurality of different network devices, at least two of the network devices connected to a common wired network link and in which each network device is assigned to communicate during different time slots within a communication cycle. Stored communication protocol data is used to evaluate received configuration data specifying a communication schedule. An output indicative of a non-compliant communication is generated if the evaluation indicates that the communication schedule fails to comply with the protocol data. If the communication schedule complies with the stored communication protocol data, the communication schedule is stored and used to communicate data between the network devices, via a central communication circuit according to time slots specified in the evaluated communication schedule.</p></abstract><description mxw-id="PDES63955313" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><p id="p0001" num="0001">Aspects of various embodiments of the present invention are directed to network communications, such as time-based communications.</p><p id="p0002" num="0002">In various communications networks, different nodes of a distributed system exchange data through a centralized component. If one of the nodes develops an error, that error may be communicated over the network. Spreading such an error is generally undesirable, particularly on networks such as automotive networks in which safety type components communicate.</p><p id="p0003" num="0003">One type of communication approach that has been used in certain applications involves time-based communications, in which multiple devices communicate over a common link but at different times. With this approach, a single link can be used in which respective devices on the link are assigned to communicate according to a schedule. However, communication schedules ensuring such operation can become complicated, in order to ensure such operation. Moreover, implementing such schedules, and changes to such schedules, can be difficult to do while maintaining the integrity of protocols via which the communication schedule must be effected.</p><p id="p0004" num="0004">In addition, where a central network component is used to forward communications to different devices on the network, the accuracy of operation of the central network component becomes very important. For instance, many implementations are directed to communications in which such a central component broadcasts synchronization and scheduling-related information to network devices communicating via the central component. If erroneous scheduling information is broadcast, communications can be significantly hindered.</p><p id="p0005" num="0005">These and other matters have presented challenges to data communications for a variety of applications.</p><p id="p0006" num="0006">Various example embodiments are directed to wired network communication circuits and their implementation.</p><p id="p0007" num="0007">According to an example embodiment, an apparatus includes a wired network having a plurality of network branches in which each branch has a common wire-based pathway, and a plurality of network devices are connected to the network branches. The apparatus further<!-- EPO <DP n="2"> --> includes a central communication circuit and time-slot communication schedules respectively stored and accessible by each of the network devices. The time-slot communication schedules designate time slots during which each network device is assigned to communicate over one of the plurality of network branches. The central communication circuit includes data-coupling circuitry, a dedicated port for receiving configuration data, and data-logic circuitry. The data coupling circuitry communicatively couples data between the central communication circuit and each of the plurality of network devices through respective ones of the plurality of network branches. The data-logic circuitry uses stored communication protocol data to evaluate configuration data received via the dedicated port and specifying a communication schedule by which the data-logic circuitry is to couple the data between the central communication circuit and the plurality of network devices. In response to the evaluation indicating that the communication schedule does not comply with the stored communication protocol data, the data-logic circuitry generates and communicates an output via the dedicated port and indicative of the non-compliance. In response to the evaluation indicating that the communication schedule complies with the stored communication protocol data, the data-logic circuitry stores and uses the communication schedule to forward communications that are received from network devices to other network devices via the data-coupling circuitry, according to time slots specified in the stored communication schedule.</p><p id="p0008" num="0008">Another example embodiment is directed to an apparatus for use with time-based communications from a plurality of different network devices, over a plurality of common wired network branches, in which each network device is assigned to communicate according to stored protocol data and during different time slots within a communication cycle. The apparatus includes data-logic circuitry and data-coupling circuitry that communicatively couples data between the network devices and one of the plurality of network branches. The data-logic circuitry uses the stored communication protocol data to evaluate received configuration data specifying a communication schedule by which the data-logic circuitry is to communicate data via the central communication circuit. In response to the evaluation indicating that the communication schedule does not comply with the stored communication protocol data, the data-logic circuitry generates and communicates an output indicative of the non-compliance. In response to the evaluation indicating that the communication schedule complies with the stored communication protocol data, the data-logic circuitry stores and uses<!-- EPO <DP n="3"> --> the communication schedule to communicate data between the network devices and the central communication circuit according to time slots specified in the stored communication schedule.</p><p id="p0009" num="0009">Other embodiments are directed to methods for time-based communications from a plurality of different network devices in which at least two of the network devices are connected to a common wired network link and each network device is assigned to communicate during different time slots within a communication cycle. Configuration data, which specifies a communication schedule by which the data-logic circuitry is to communicate data via the central communication circuit, is evaluated using stored communication protocol data. In response to the evaluation indicating that the communication schedule does not comply with the stored communication protocol data, an output indicative of the non-compliance is generated and communicated. In response to the evaluation indicating that the communication schedule complies with the stored communication protocol data, the communication schedule is stored and used to communicate data between the network devices and the central communication circuit according to time slots specified in the stored communication schedule.</p><p id="p0010" num="0010">The above discussion/summary is not intended to describe each embodiment or every implementation of the present disclosure. The figures and detailed description that follow also exemplify various embodiments.</p><p id="p0011" num="0011">Various example embodiments may be more completely understood in consideration of the following detailed description in connection with the accompanying drawings, in which: <figref idrefs="f0001">FIG. 1</figref> shows a network communication apparatus and system, in accordance with one or more example embodiments of the present invention;
<ul><li><figref idrefs="f0002">FIG. 2</figref> another apparatus for communication using verified communication schedules, in accordance with another example embodiment of the present invention; and</li><li><figref idrefs="f0003">FIG. 3</figref> shows a flow diagram for communicating using verified communication schedules, in accordance with another example embodiment of the present invention.</li></ul></p><p id="p0012" num="0012">While the invention is amenable to various modifications and alternative forms, specifics thereof have been shown by way of example in the drawings and will be described in detail. It should be understood, however, that the intention is not to limit the invention to the particular embodiments described. On the contrary, the intention is to cover all<!-- EPO <DP n="4"> --> modifications, equivalents, and alternatives falling within the scope of the invention including aspects defined in the claims. In addition, the term "example" as used throughout this application is only by way of illustration, and not limitation.</p><p id="p0013" num="0013">Aspects of the present invention are believed to be applicable to a variety of different types of devices, systems and arrangements involving time-based data communications between different network branches, with some or all of the branches having two or more components communicating thereupon. While the present invention is not necessarily so limited, various aspects of the invention may be appreciated through a discussion of examples using this context.</p><p id="p0014" num="0014">Various example embodiments are directed to network communication apparatuses, systems and methods in which a communication schedule and/or configuration data is assessed for errors at one or more network nodes, based upon stored protocol data thereat (<i>e.g</i>., stored protocol semantics by which configuration and/or communication schedule data must abide). This approach may involve, for example, evaluating received configuration data specifying a communication schedule by which data is to be communicated, against stored protocol data at a network node at which the schedule is received, and therein ensuring that the schedule complies with the protocol prior to implementation. This may, for example, facilitate the installation of a new communication node in the field, as may be applicable to automotive networks in which a user's vehicle is updated after the manufacture of the vehicle (<i>e.g</i>., at an automotive repair shop, or as downloaded at a user's vehicle in response to an update).</p><p id="p0015" num="0015">The protocol data as referenced herein may include one or more of a variety of types of data, as may be applicable to different implementations. In one example, such data may identify semantics of a protocol, which can be used to identify whether communication schedules and configuration data as provided for use in the system complies with the protocol. Such semantics may include, for example, time-based semantics specifying that certain frames (<i>e.g</i>., synchronization related frames) should be broadcast to all branches, and not to a few branches, to ensure that all branches are appropriately time-synchronized. Another example type of semantics specifies that data frames from more than one branch should not be forwarded to one destination branch, to mitigate or avoid data collision and resulting corruption on the destination branch. Yet another example semantic specifies that a branch<!-- EPO <DP n="5"> --> must not send data during a time slot during which the branch is scheduled to receive data, also to avoid data collision and potential corruption. Still another example type of semantic specifies minimum and maximum values for different protocol parameters, via which given values can be checked to ensure that they fit within the acceptable limit. Accordingly, communication schedule and configuration data are evaluated against the semantics and implemented based on the evaluation (<i>e.g</i>., communication schedule and configuration data that match required semantics are accepted).</p><p id="p0016" num="0016">In one embodiment, time division multiple access (TDMA) protocols are used to maintain synchronization among nodes on different branches. For example, a FlexRay protocol is implemented in some embodiments, in which sync frames are broadcast to all branches to keep them sufficiently synchronized. In other embodiments, a TTEthernet protocol is used, in which dedicated messages called protocol control frames are transmitted to establish and maintain system-wide clock synchronization, and the central component checks that the synchronization related frames are scheduled to be broadcast on all branches. In certain FlexRay based applications, a central component, as discussed herein operates in accordance with one or more of the following: 1) checking that, for every destination branch, there is no more than one source branch, during any static time slot of a schedule; 2) checking that no destination branch is scheduled to be a source of another branch, during any static time slot; and 3) checking each protocol parameter against specified minimum and maximum values supported by the protocol.</p><p id="p0017" num="0017">Accordingly, supplied communication schedule and configuration data is evaluated against known semantics of the protocol. If they match, the supplied communication schedule and configuration data is accepted. If they do not match, the supplied communication schedule and configuration data is rejected. Once the scheduling information has been evaluated as complying with the stored protocol information, the central network component communicates data between the network devices connected thereto via wired network branches, according to the evaluated scheduling information.</p><p id="p0018" num="0018">A more particular example embodiment is directed to an apparatus including a central network component having a dedicated configuration port via which the central network component receives updated scheduling information, by which the central network component forwards data received from network devices, to other network devices. In some<!-- EPO <DP n="6"> --> implementations, the central network component also uses updated scheduling information to communicate scheduling information to network devices connected thereto via a wired network, and at which devices the scheduling information is stored and used to communicate with the central network component. Prior to using the updated scheduling information, one or more of the central network component and the network devices evaluate the scheduling information against stored protocol data. Specifically, built-in intelligence operates to autonomously check the communication schedule supplied against the semantics of an underlying communication protocol. If the check fails, the component does not accept the supplied communication schedule, and an alert signal is given to a system designer for subsequent action.</p><p id="p0019" num="0019">In another more particular embodiment, an apparatus includes a wired network including network branches and network devices of which each device is connected to a common communication link of one of the network branches, and communicates using a time-slot communication schedule that designates time slots during which the network device is assigned to communicate. A central communication circuit (<i>e.g</i>., a central gateway circuit) includes data-coupling circuitry that communicates data between each of the plurality of network devices through respective ones of the plurality of network branches and via the central communication circuit, in accordance with an assigned communication/data-forwarding schedule. Data-logic circuitry receives communications from each network device using a time slot assigned for the network device, and selectively forwards the received communication to another one of the network branches. When a new communication schedule is received at the central communication circuit, or when the central communication circuit is first implemented with a programmed communication schedule, the data-logic circuitry evaluates the communication schedule against stored protocol information accessible by the central communication circuit, and further stores and implements the communication schedule for the communication between the plurality of network devices, via the central communication circuit. If the data-logic circuitry evaluates the communication schedule as failing to comply with the stored protocol information, the communication schedule is not used in communicating between the plurality of network devices.</p><p id="p0020" num="0020">In yet another particular embodiment, a network device as discussed above operates to evaluate time-slot scheduling data as received and by which the device communicates data.<!-- EPO <DP n="7"> --> The network device stores protocol information pertaining to a communication protocol that the device must use. If the time-slot scheduling data is evaluated as complying with the protocol, the network device uses (<i>e.g</i>., stores and accesses) the scheduling data for communicating with the central communication circuit. In some implementations, both the central communication circuit and the network devices evaluate received scheduling data (<i>e.g</i>., as received at the central communication circuit and/or as delivered from the central communication circuit to the respective network devices).</p><p id="p0021" num="0021">Various embodiments are directed to time-based communications involving a time division multiple access (TDMA) technique, in which a data forwarding schedule is provided to a central component that uses the scheduling data to forward frames between one or more network branches coupled to the central component. The scheduling data is evaluated against stored protocol information, and is stored and used based on the evaluation.</p><p id="p0022" num="0022">In certain embodiments, communication schedule data is evaluated and implemented as discussed herein using in-vehicle networks (IVNs), such as for automobiles, trains, airplanes and other vehicles. For instance, various embodiments are directed to implementations involving automotive protocols such as the FlexRay protocol, in which communication schedule data is evaluated according to the protocol prior to implementation.</p><p id="p0023" num="0023">In some implementations, one or more embodiments as discussed herein are implemented with FlexRay protocol applications specifically targeting the communication needs of safety critical in-vehicle networks that use TDMA to exchange data during static segments, often via a central component (<i>e.g</i>., a Central Bus Guardian) that monitors incoming frames against different rules. Such rules may include, for example, identifying as erroneous: 1) a data frame that appears from a branch during a time slot when the branch is not supposed to transmit; 2) a data frame that appears from a branch too late within its scheduled time slot such that the frame may cause a slot boundary violation; and 3) a data frame that appears from a branch with incorrect header information or checksum. The central component evaluates received communication schedule data to be used for effecting the communication of data, against the rules themselves, as may involve mixing run-time checks with design-time evaluation of the schedule.</p><p id="p0024" num="0024">For general information regarding communication protocols, and for specific information regarding communication protocols that may be implemented in connection with<!-- EPO <DP n="8"> --> one or more example embodiments, reference may be made to the "FlexRay Communications System Protocol Specification," ver 3.0,; and to the "FlexRay Communications System Preliminary Central Bus Guardian Specification," ver 2.0.9, both available from the FlexRay consortium and fully incorporated herein by reference.</p><p id="p0025" num="0025">The various example embodiments as discussed herein are implemented with different systems, on different platforms, and with different environments (<i>e.g</i>., automotive, manufacturing and others) to suit a variety of applications. One such application involves a branch-type active star device TJA1085 available from NXP Semiconductors of Eindhoven, The Netherlands. Accordingly, various embodiments are directed to implementation with such a device in an automotive network.</p><p id="p0026" num="0026">Turning now to the figures, <figref idrefs="f0001">FIG. 1</figref> shows a network communication apparatus and system 100, in accordance with one or more example embodiments of the present invention. The apparatus 100 includes a central communication circuit 110, and is shown by way of example as having four branches 120, 130, 140 and 150 (<i>e.g</i>., wire-based pathways), with each branch including one or more network communication devices. By way of example, branches 120 and 140 are shown each having two network devices, with branch 120 having devices 122 and 124, and branch 140 having devices 142 and 144. Branches 130 and 150 are shown each respectively having single network devices 132 and 152. Each network device includes a data storage component that stores time-slot communication schedule data respectively at 123, 125, 133, 143, 145 and 153. The central communication circuit 110 includes data-coupling circuitry including input/output interface circuits (or ports) 112, 113, 114 and 115 (and, <i>e.g</i>., interconnects within the circuit 110), a data-logic circuit 116 that forwards data according to both a communication schedule stored at 117 and protocol data stored at 118. The central communication circuit 110 also includes an input configured port 119 designated for receiving configuration data (<i>e.g</i>., from an external source) including communication schedule data (and, <i>e.g.,</i> protocol data) for communicating with the respective network devices.</p><p id="p0027" num="0027">The data-logic circuit 116 assesses schedule data received via the configuration port to verify that the received data complies with protocol data stored at 118. If the received schedule data complies with protocol data stored at 118, the data-logic circuit 116 stores the data at 117 and uses the data for communication over the network branches 120, 130, 140 and<!-- EPO <DP n="9"> --> 150. For example, the data-logic circuit 116 may replace stored configuration data with the received (and evaluated) configuration data, when the data is in compliance with the protocol data stored at 118.</p><p id="p0028" num="0028">In some embodiments, one or more of the network devices evaluates received communication schedule data against stored protocol data. Accordingly, some or all semantic checking can be carried out at the one or more network devices. In such embodiments, referring to network device 122 by way of example, the protocol data is stored at data storage component 123. When time slot schedule data is received via the central communication circuit 110, the network device uses the stored protocol data to evaluate the time slot schedule data. Based on the evaluation indicating that the data is proper, the network device 122 also stores the time slot schedule data at data storage component 123 and uses the stored time slot schedule data to communicate over the branch 120 and with the central communication circuit 110.</p><p id="p0029" num="0029">In this context, one or more of the network devices and the central communication circuit 110 in <figref idrefs="f0001">Figure 1</figref>, each of which may be implemented separately or with another device in accordance with different embodiments, automatically determines whether received scheduling data is proper. This approach facilitates robust implementation and, for example, modification that may occur in the field. For instance, when implemented as an in-vehicle network, the apparatus and system 100 (one or more components thereof) autonomously ensure that received communication schedule data is in compliance with the protocol. This approach is useful, for example, to ensure that new scheduling information as may be provided by an automotive service technician or via another source (<i>e.g</i>., remote download to a vehicle via the Internet) complies with the protocol, prior to implementation.</p><p id="p0030" num="0030">In some embodiments, the network devices 122 and 124 store time slot data at 123 and 125 that assign the respective devices to communicate during different (<i>e.g</i>., mutually exclusive)<br/>
time slots on the network branch 120. Each device 122 and 124 also includes a microcontroller that accesses the stored time slot data and an input/output port through which the microcontroller communicates with the branch 120 (<i>e.g</i>., a two-wire common wired-based pathway) in accordance with the time slot data. The microcontrollers evaluate received<!-- EPO <DP n="10"> --> scheduling data and, based on the evaluation, implement the received data for communicating accordingly.</p><p id="p0031" num="0031">In some embodiments, the central communication circuit 110 communicates time slot communication schedule data to one or more of the respective network devices (<i>e.g</i>., 122), based upon the evaluated communication schedule. The one or more of the network devices receiving the communicated time-slot communication schedule being configured and arranged to store and use the received time-slot communication schedule to communicate data to another one of the network devices, via the central communication circuit 110. In some implementations, each of the one or more network devices further evaluates the received time-slot communication schedule using stored protocol data to ensure compliance therewith, prior to using the received time-slot communication schedule to communicate data. This approach may be helpful, for example, to ensure that the received time-slot communication has not been corrupted, and that the central communication circuit 110 has provided an appropriate schedule (<i>e.g</i>., where the central communication circuit may communication different schedules specifically tailored for each network device).</p><p id="p0032" num="0032"><figref idrefs="f0002">FIG. 2</figref> shows another apparatus 200 for communication using verified communication schedules, in accordance with another example embodiment of the present invention. The apparatus may, for example, be implemented with one or more of the network components as shown in <figref idrefs="f0001">Figure 1</figref> (<i>e.g</i>., as or in the central communication circuit 110). The apparatus 200 includes a stored communication schedule/configuration data 210 and stored protocol data 220 that is used, at 230, via built-in intelligence to semantically check the communication schedule for compliance with data-forwarding requirements specified in the protocol/semantic data. If the check passes at block 240, the communication schedule/configuration data stored at 210 is used to start communication at block 250. If the check fails at block 240, an alert is generated and provided via output 242, and the stored communication schedule/configuration data 210 is not used to forward data. In some instances, communication schedule data is checked before it is stored. In other instances, communication schedule data is reverted to a previous version, and used to communicate until new communication schedule data is received and checked positively.</p><p id="p0033" num="0033"><figref idrefs="f0003">FIG. 3</figref> shows a flow diagram for communicating using verified communication schedules, in accordance with another example embodiment of the present invention. The<!-- EPO <DP n="11"> --> diagram shown in <figref idrefs="f0003">Figure 3</figref> is amenable for use with time-based communications from a plurality of different network devices connected to wired network links, and each network device is assigned to communicate during different time slots within a communication cycle. This example embodiment is discussed in this context.</p><p id="p0034" num="0034">At block 310, configuration data specifying a communication schedule by which the time-based communications are to be effected is received. At block 320, communication protocol data is retrieved and, at block 330, the communication protocol data is used to evaluate the communication schedule in the configuration data. If the evaluation indicates that the communication schedule complies with the protocol at block 340, the communication schedule is used at block 350 for communicating time-based communications between the plurality of network devices. In some instances, this communication involves storing the communication schedule at block 350 in a location accessible for use in effecting the time-based communications.</p><p id="p0035" num="0035">If the evaluation indicates that the communication schedule fails to comply with the protocol at block 340, an error message is generated and output at block 360 to alert of the failure. The communication schedule is not used to communicate data between the network devices, such as by not storing the data and/or reverting to a previous communication schedule.</p><p id="p0036" num="0036">In some implementations, the communication protocol schedule is received and evaluated on a network device connected between two other network devices on a common wired network link. In another implementation, the communication protocol schedule is received and evaluated at a central communication circuit that forwards data between network devices on different branches according to the received communication schedule.</p><p id="p0037" num="0037">In some implementations, the approach shown in <figref idrefs="f0003">Figure 3</figref> is carried out in part at a central communication node connected to respective network branches, in which error-indicative communications are not forwarded to other branches. In some embodiments, a central network component as discussed herein assesses communications received along various network branches from devices connected to the branches. When a communication is assessed to be error-indicative, the central network component does not forward the communication to other branches and also drives the originating branch from which the communication is received to ensure that other network devices on the same branch do not<!-- EPO <DP n="12"> --> accept/process the communication. This approach can be carried out, for example, to ensure that those devices on the originating branch that may receive the communication in an error-free condition do not update, accept and/or process the communication. With respect to automotive applications, this approach can ensure that safety-related communications, such as those involved in communication from a braking system, are distributed consistently to different network components.</p><p id="p0038" num="0038">Another more particular example embodiment is directed to an apparatus including a central network component that confines errors within a branch in which the error has originated, and within a time slot during which the branch accesses the central network component. As consistent with the above discussion, this confinement may involve forwarding data from such a branch during time slots not designated as being error-indicative, while not forwarding data from one or more time slots designated as error-indicative. This approach facilitates continued communications with non-faulty nodes on a branch in which the fault has originated, while mitigating communications from faulty nodes. This communication approach can be effected without knowledge or identification of a particular node from which the faulty communication is provided, using an understanding that each node communicates during a designated time slot or slots. In some implementations, the central network component collects and analyzes error statistics to determine whether time slots are to be designated as being error-indicative, such as by using a multi-dimensional table as discussed further herein.</p><p id="p0039" num="0039">Still another embodiment is directed to an apparatus employing two or more of the above referenced-aspects together. In one implementation, such an apparatus operates to evaluate received communications schedules against protocol data, and to also drive against branches via which communications are received according to a validated communication schedule, when an error-indicative communication is received on the branch. In another implementation, such an apparatus operates to evaluate received communications schedules against protocol data, and to also evaluate time slots at which communications are received for errors, based on a validated communication schedule; when a time slot is determined to be in error, communications received over a network branch and on the time slot are not forwarded/processed while communications received on the network branch during different time slots are forwarded/processed. In another implementation, an apparatus operates to drive<!-- EPO <DP n="13"> --> against branches when an error-indicative communication is received on the branch, and also evaluates time slots at which communications are received over the branch for errors, and actively ignores (<i>e.g</i>., does not forward and/or process) data received during time slots indicative as having an error.</p><p id="p0040" num="0040">Based upon the above discussion and illustrations, those skilled in the art will readily recognize that various modifications and changes may be made to the present invention without strictly following the exemplary embodiments and applications illustrated and described herein. For example, various approaches may be used to ensure that incoming scheduling data complies with an appropriate protocol. In addition, one or more components of the various apparatuses and systems described herein may be implemented separately or together, in accordance with one or more example embodiments. Such modifications do not depart from the true spirit and scope of the present invention, including that set forth in the following claims.</p></description><claims mxw-id="PCLM56976229" lang="EN" load-source="patent-office"><!-- EPO <DP n="14"> --><claim id="c-en-0001" num="0001"><claim-text>An apparatus comprising:
<claim-text>a wired network including a plurality of network branches each having a common wire-based pathway;</claim-text>
<claim-text>a plurality of network devices connected to the network branches;</claim-text>
<claim-text>a plurality of time-slot communication schedules respectively stored and accessible by each of the network devices, the plurality of time-slot communication schedules designating time slots during which each network device is assigned to communicate over one of the plurality of network branches; and</claim-text>
<claim-text>a central communication circuit having<br/>
data-coupling circuitry configured and arranged for communicatively coupling data between the central communication circuit and each of the plurality of network devices through respective ones of the plurality of network branches,<br/>
data-logic circuitry configured and arranged to,<br/>
using stored communication protocol data, evaluate received configuration data and specifying a communication schedule by which the data-logic circuitry is to couple the data between the central communication circuit and the plurality of network devices,<br/>
in response to the evaluation indicating that the communication schedule does not comply with the stored communication protocol data, generate and communicate an output indicative of the non-compliance, and<br/>
in response to the evaluation indicating that the communication schedule complies with the stored communication protocol data, store and use the communication schedule to forward communications that are received from network devices to other of the network devices via the data-coupling circuitry, according to time slots specified in the stored communication schedule.</claim-text><!-- EPO <DP n="15"> --></claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>The apparatus of claim 1, wherein<br/>
the communication protocol data is data that identifies semantics of the protocol, and each of the network devices stores the communication protocol data, including protocol semantic data, and is configured and arranged to communicate via the wired network using one of the time-slot communication schedules.</claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>The apparatus of claim 1 or 2, wherein each of the network devices stores the communication protocol data and is configured and arranged to<br/>
evaluate one of the stored time-slot communication schedules using the stored communication protocol data, and<br/>
in response to the evaluation indicating that the evaluated stored time-slot communication schedule complies with the communication protocol data, communicate via the wired network using the evaluated time-slot communication schedule.</claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>The apparatus as claimed in claims 1-3, wherein the data-logic circuitry is configured and arranged to transmit time-slot communication schedules to the plurality of network devices, each time-slot communication schedule being based upon the evaluated communication schedule, each of the plurality of network devices being configured and arranged to store and use the transmitted time-slot communication schedules to communicate data to another one of the network devices, via the central communication circuit.</claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>The apparatus of claim 4, wherein each of the network devices stores the communication protocol data and is configured and arranged to<br/>
evaluate the transmitted time-slot communication schedules using the stored communication protocol data, and<br/>
in response to the evaluation indicating that the transmitted time-slot communication schedule complies with the communication protocol data, communicate via the wired network using the transmitted time-slot communication schedule.<!-- EPO <DP n="16"> --></claim-text></claim><claim id="c-en-0006" num="0006"><claim-text>The apparatus of claim 1, wherein the network devices in each branch are directly coupled to the common wire-based pathway and communicate on the wire-based pathway during mutually exclusive time slots, the communication schedule specifying the time slots over which each network device is to communicate in each of the branches, and via which the central communication circuit is to forward data on each of the branches.</claim-text></claim><claim id="c-en-0007" num="0007"><claim-text>The apparatus of claim 1, wherein the central communication circuit includes a plurality of input/output ports connected to and for communicating over the respective network branches, including a dedicated port for receiving configuration data, the dedicated port being communicatively coupled to the data-logic circuitry and communicatively uncoupled from the data coupling circuitry.</claim-text></claim><claim id="c-en-0008" num="0008"><claim-text>The apparatus of claim 1, wherein the data-logic circuitry is configured and arranged to replace stored configuration data with the evaluated configuration data, in response to the evaluation indicating that the communication schedule complies with the stored communication protocol data.</claim-text></claim><claim id="c-en-0009" num="0009"><claim-text>The apparatus of claim 1, wherein at least one of the network devices comprises-data-coupling circuitry configured and arranged for communicatively coupling data between the network devices and one of the plurality of network branches; and<br/>
data-logic circuitry configured and arranged to,<br/>
using the stored communication protocol data, evaluate received configuration data specifying a communication schedule by which the data-logic circuitry is to communicate data via a central communication circuit,<br/>
in response to the evaluation indicating that the communication schedule does not comply with the stored communication protocol data, generate and communicate an output indicative of the non-compliance, and<br/>
in response to the evaluation indicating that the communication schedule complies with the stored communication protocol data, store and use the communication schedule to communicate data between the network devices and the central<!-- EPO <DP n="17"> --> communication circuit according to time slots specified in the stored communication schedule.</claim-text></claim><claim id="c-en-0010" num="0010"><claim-text>The apparatus of claim 9, further including the central communication circuit, the central communication circuit including the data-coupling circuitry and the data-logic circuitry, the central communication circuit being configured and arranged with central communication schedule data to forward communications between the network devices according to a time slot defined in the evaluated communication schedule.</claim-text></claim><claim id="c-en-0011" num="0011"><claim-text>The apparatus of claim 9, wherein the apparatus includes one of the plurality of network devices that includes the data-coupling circuitry and the data-logic circuitry, the one of the plurality of network devices being configured and arranged to communicate via the wired network branches according to a time slot defined in the evaluated communication schedule.</claim-text></claim><claim id="c-en-0012" num="0012"><claim-text>The apparatus of claim 9, wherein the data-logic circuitry is configured and arranged to transmit time-slot communication schedules to the plurality of network devices, each time-slot communication schedule being based upon the evaluated communication schedule.</claim-text></claim><claim id="c-en-0013" num="0013"><claim-text>For use with time-based communications from a plurality of different network devices, at least two of the network devices connected to a common wired network link in which each network device is assigned to communicate during different time slots within a communication cycle, a method comprising:
<claim-text>using the stored communication protocol data, evaluating received configuration data specifying a communication schedule by which the data-logic circuitry is to communicate data via a central communication circuit;</claim-text>
<claim-text>in response to the evaluation indicating that the communication schedule does not comply with the stored communication protocol data, generating and communicating an output indicative of the non-compliance; and</claim-text>
<claim-text>in response to the evaluation indicating that the communication schedule complies with the stored communication protocol data, storing and using the communication schedule<!-- EPO <DP n="18"> --> to communicate data between the network devices and the central communication circuit according to time slots specified in the stored communication schedule.</claim-text></claim-text></claim><claim id="c-en-0014" num="0014"><claim-text>The method of claim 13, wherein<br/>
the at least two of the network devices includes first, second and third network devices, the second network device being connected between the first and third network device on the common wired network link, and<br/>
the steps of evaluating, generating and outputting, and storing and using are carried out at the second network device for receiving communications from the first network device and forwarding the received communications to the third network device.</claim-text></claim><claim id="c-en-0015" num="0015"><claim-text>The method of claim 13 or 14, wherein<br/>
the plurality of network devices are connected to respective wired network branches of an in-vehicle automotive network, each branch being connected to the central communication circuit, which forwards data between network devices on different branches according to the received communication schedule, and<br/>
the steps of evaluating, generating and outputting, and storing and using are carried out at the central communication circuit for the configuration data as received via a designated configuration port that is external to the wired network.</claim-text></claim></claims><drawings mxw-id="PDW16667011" load-source="patent-office"><!-- EPO <DP n="19"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="165" he="195" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="20"> --><figure id="f0002" num="2"><img id="if0002" file="imgf0002.tif" wi="165" he="174" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="21"> --><figure id="f0003" num="3"><img id="if0003" file="imgf0003.tif" wi="165" he="218" img-content="drawing" img-format="tif"/></figure></drawings><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
