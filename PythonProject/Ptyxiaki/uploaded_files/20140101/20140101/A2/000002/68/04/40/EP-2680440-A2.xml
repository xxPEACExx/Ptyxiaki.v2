<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2680440-A2" country="EP" doc-number="2680440" kind="A2" date="20140101" family-id="48746226" file-reference-id="316855" date-produced="20180824" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146549248" ucid="EP-2680440-A2"><document-id><country>EP</country><doc-number>2680440</doc-number><kind>A2</kind><date>20140101</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-13172966-A" is-representative="YES"><document-id mxw-id="PAPP154823171" load-source="docdb" format="epo"><country>EP</country><doc-number>13172966</doc-number><kind>A</kind><date>20130620</date><lang>EN</lang></document-id><document-id mxw-id="PAPP183608498" load-source="docdb" format="original"><country>EP</country><doc-number>13172966.7</doc-number><date>20130620</date><lang>EN</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140454140" ucid="JP-2012143698-A" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>2012143698</doc-number><kind>A</kind><date>20120627</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1988116056" load-source="docdb">H03K  19/003       20060101AFI20131018BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-2020463888" load-source="docdb" scheme="CPC">H04B   1/123       20130101 LI20150925BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2020464643" load-source="docdb" scheme="CPC">H04B   1/1081      20130101 FI20150925BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2117100515" load-source="docdb" scheme="CPC">H04L  67/12        20130101 LI20150115BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2117103442" load-source="docdb" scheme="CPC">H04B  15/02        20130101 LI20150115BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2140415364" load-source="docdb" scheme="CPC">H03K  19/00346     20130101 LI20141105BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132180228" lang="DE" load-source="patent-office">Kommunikationsschaltung und Halbleiterbauelement</invention-title><invention-title mxw-id="PT132180229" lang="EN" load-source="patent-office">Communication circuit and semiconductor device</invention-title><invention-title mxw-id="PT132180230" lang="FR" load-source="patent-office">Circuit de communication et dispositif semi-conducteur</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR918160679" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>RENESAS ELECTRONICS CORP</last-name><address><country>JP</country></address></addressbook></applicant><applicant mxw-id="PPAR918172447" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>RENESAS ELECTRONICS CORPORATION</last-name></addressbook></applicant><applicant mxw-id="PPAR918986097" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Renesas Electronics Corporation</last-name><iid>101185194</iid><address><street>1753, Shimonumabe, Nakahara-ku Kawasaki-shi</street><city>Kanagawa 211-8668</city><country>JP</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR918154702" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>OKABE SHIGEYUKI</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918153382" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>OKABE, SHIGEYUKI</last-name></addressbook></inventor><inventor mxw-id="PPAR918982524" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>OKABE, SHIGEYUKI</last-name><address><street>Renesas Electronics Corporation 1753, Shimonumabe Nakahara-ku</street><city>Kawasaki-shi Kanagawa 211-8668</city><country>JP</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR918988744" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Glawe, Delfs, Moll</last-name><iid>100060463</iid><address><street>Partnerschaft mbB von Patent- und Rechtsanwälten Postfach 26 01 62</street><city>80058 München</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><designated-states><ep-contracting-states><country mxw-id="DS548802452" load-source="docdb">AL</country><country mxw-id="DS548838766" load-source="docdb">AT</country><country mxw-id="DS548802458" load-source="docdb">BE</country><country mxw-id="DS548874177" load-source="docdb">BG</country><country mxw-id="DS548856113" load-source="docdb">CH</country><country mxw-id="DS548851861" load-source="docdb">CY</country><country mxw-id="DS548838767" load-source="docdb">CZ</country><country mxw-id="DS548802459" load-source="docdb">DE</country><country mxw-id="DS548851862" load-source="docdb">DK</country><country mxw-id="DS548851863" load-source="docdb">EE</country><country mxw-id="DS548853289" load-source="docdb">ES</country><country mxw-id="DS548874182" load-source="docdb">FI</country><country mxw-id="DS548874183" load-source="docdb">FR</country><country mxw-id="DS548802460" load-source="docdb">GB</country><country mxw-id="DS548851864" load-source="docdb">GR</country><country mxw-id="DS548802461" load-source="docdb">HR</country><country mxw-id="DS548838768" load-source="docdb">HU</country><country mxw-id="DS548856114" load-source="docdb">IE</country><country mxw-id="DS548851865" load-source="docdb">IS</country><country mxw-id="DS548874184" load-source="docdb">IT</country><country mxw-id="DS548851866" load-source="docdb">LI</country><country mxw-id="DS548856771" load-source="docdb">LT</country><country mxw-id="DS548803691" load-source="docdb">LU</country><country mxw-id="DS548856772" load-source="docdb">LV</country><country mxw-id="DS548856773" load-source="docdb">MC</country><country mxw-id="DS548803692" load-source="docdb">MK</country><country mxw-id="DS548803693" load-source="docdb">MT</country><country mxw-id="DS548838769" load-source="docdb">NL</country><country mxw-id="DS548802466" load-source="docdb">NO</country><country mxw-id="DS548851867" load-source="docdb">PL</country><country mxw-id="DS548856775" load-source="docdb">PT</country><country mxw-id="DS548838770" load-source="docdb">RO</country><country mxw-id="DS548856776" load-source="docdb">RS</country><country mxw-id="DS548851868" load-source="docdb">SE</country><country mxw-id="DS548874185" load-source="docdb">SI</country><country mxw-id="DS548802467" load-source="docdb">SK</country><country mxw-id="DS548851869" load-source="docdb">SM</country><country mxw-id="DS548803694" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA128669918" lang="EN" load-source="patent-office"><p id="pa01" num="0001">Disclosed is a communication circuit that reduces the influence of common mode noise on electric-current communication. The communication circuit includes a receiver circuit that provides differential communication by using a first transmission path and a second transmission path. The first transmission path transmits a first signal. The second transmission path transmits a second signal. The receiver circuit includes a compensation circuit that compensates for the attenuation of a current when common mode noise is superimposed on the first signal and on the second signal. The compensation circuit includes a first compensation circuit and a second compensation circuit. The first compensation circuit detects an electric current attenuation of the first signal when the common mode noise is superimposed thereon, and compensates for the attenuation thereof by adding the detected electric current attenuation to the second signal. The second compensation circuit detects an electric current attenuation of the second signal when the common mode noise is superimposed thereon, and compensates for the attenuation thereof by adding the detected electric current attenuation to the first signal.
<img id="iaf01" file="imgaf001.tif" wi="78" he="124" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA128499291" lang="EN" source="EPO" load-source="docdb"><p>Disclosed is a communication circuit that reduces the influence of common mode noise on electric-current communication. The communication circuit includes a receiver circuit that provides differential communication by using a first transmission path and a second transmission path. The first transmission path transmits a first signal. The second transmission path transmits a second signal. The receiver circuit includes a compensation circuit that compensates for the attenuation of a current when common mode noise is superimposed on the first signal and on the second signal. The compensation circuit includes a first compensation circuit and a second compensation circuit. The first compensation circuit detects an electric current attenuation of the first signal when the common mode noise is superimposed thereon, and compensates for the attenuation thereof by adding the detected electric current attenuation to the second signal. The second compensation circuit detects an electric current attenuation of the second signal when the common mode noise is superimposed thereon, and compensates for the attenuation thereof by adding the detected electric current attenuation to the first signal.</p></abstract><description mxw-id="PDES63955348" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001">CROSS-REFERENCE TO RELATED APPLICATIONS</heading><p id="p0001" num="0001">The disclosure of Japanese Patent Application No. <patcit id="pcit0001" dnum="JP2012143698A"><text>2012-143698 filed on June 27, 2012</text></patcit> including the specification, drawings, and abstract is incorporated herein by reference in its entirety.</p><heading id="h0002">BACKGROUND</heading><p id="p0002" num="0002">The present invention relates to a communication circuit and to a semiconductor device. More specifically, the present invention relates to a communication circuit and a semiconductor device that can be suitably used for differential communication between a plurality of voltage measurement devices capable of measuring a battery cell voltage.</p><p id="p0003" num="0003">Electric vehicles (EVs) and hybrid electric vehicles (HEVs), which use an electric motor as a driving source for running a vehicle, are developed not only by automobile manufacturers but also by various other companies and organizations. A vehicle-mounted power supply having a voltage as high as several hundred volts is necessary for driving such an electric motor. This type of vehicle-mounted power supply is implemented by an assembled battery that is obtained by series-coupling a plurality of unit cells (also called "battery cells") generating a voltage of several bolts.</p><p id="p0004" num="0004">For the electric vehicles and the like, the voltage of each battery cell VCL needs to be accurately measured in order to determine the status of a battery (e.g., an overcharged or overdischarged condition or the amount of remaining charge) in all operating environments such as vehicle running or charging. A high-precision battery voltage detection technology is essential to the effective use of battery energy. It is an important technology for vehicle safety assurance and mileage increase especially when it is applied to a vehicle power supply.<!-- EPO <DP n="2"> --></p><p id="p0005" num="0005">To fulfill the demand for such high precision and achieve cost reduction, voltage measurement devices commercialized for vehicle-mounted power supplies are mostly configured so that an analog-to-digital converter (hereinafter may be referred to as the ADC) is provided for each block of several to more than a dozen battery cells instead of being provided for each battery cell VCL. The voltage measurement devices incorporate a multiplexer circuit (hereinafter may be referred to as the MUX) in order to implement the above-mentioned configuration. The MUX makes voltage measurements by selecting battery voltages based on a plurality of different voltage references in a temporally sequential manner and using each selected battery voltage as a signal input to the ADC, which is designed with reference to the lowest potential (ground level (GND level)).</p><p id="p0006" num="0006">When the above-mentioned configuration is employed so that one ADC is provided for each bock of several to more than a dozen battery cells, a plurality of voltage measurement devices are provided for blocks of battery cells. Each of the voltage measurement devices includes a communication function section for exchanging control commands concerning battery monitoring, results of voltage measurements, and other information with another voltage measurement device. As a power supply voltage for operating each voltage measurement device is supplied from the associated block of battery cells, the communication between the voltage measurement devices is the communication between different potentials. It is preferred that electric-current communication be used as the communication between different potentials. Further, differential communication is used as the electric-current communication. The differential electric-current communication is superior to single-ended electric-current communication in that the former can reduce signal amplitude to achieve a high data transmission rate.</p><p id="p0007" num="0007">A low common mode gain, high input impedance, balanced input/output differential amplifier circuit is described in Japanese Unexamined Patent Application Publication No. <patcit id="pcit0002" dnum="JP2000332548A"><text>2000-332548</text></patcit>. This<!-- EPO <DP n="3"> --> differential amplifier circuit receives, amplifies, and outputs a differential signal (paragraph 0013). Further, if an input common mode potential changes so that the non-inverted input potential of a differential input is higher or lower than the inverted input of the differential input, the potential of an input common mode control output increases or decreases as needed to eliminate a potential difference, thereby making adjustments to prevent a differential input section circuit from becoming saturated (paragraph 0015).</p><p id="p0008" num="0008">A technology for eliminating the influence of common mode noise on an input signal for a differential amplifier is described in Japanese Unexamined Patent Application Publication No. <patcit id="pcit0003" dnum="JP2003133862A"><text>2003-133862</text></patcit>. This differential amplifier receives and amplifies a differential signal (paragraphs 0013, 0026, and 0027). The voltage at each input terminal of the differential amplifier is pulled down or pulled up in accordance with the potential of common mode noise Vn (paragraphs 0044 to 0048).</p><heading id="h0003">SUMMARY</heading><p id="p0009" num="0009">As described above, the power supply voltage for operating each voltage measurement device is supplied from the associated block of battery cells (called "unit cells"). Therefore, the communication between the voltage measurement devices is the communication between different potentials. Hence, electric-current communication is more preferable as the communication between the voltage measurement devices than voltage communication. As regards the electric-current communication, the amount of communication current needs to be reduced in order to suppress the heat generation of a device and the amount of battery cell discharge. However, when the amount of communication current is small, a communication failure may occur because the communication is easily affected by common mode noise attributable to the rotary drive of an electric motor that acts as a driving source for running a vehicle. A communication failure may occur particularly when, for instance, a<!-- EPO <DP n="4"> --> cascode-coupled current input stage is employed to increase the speed of communication. If, for instance, a current that results from common mode noise and has a negative polarity is added to a differential communication current between the voltage measurement devices, a signal level attenuates. Further, the communication current is oriented in a direction opposite to its correct direction depending on the level of the common mode noise. As a result, a receiving end cannot acquire an adequate level of the communication current.</p><p id="p0010" num="0010">Other problems and novel features will become apparent from the following description and from the accompanying drawings.</p><p id="p0011" num="0011">A representative means for solving the above problem is summarized below.</p><p id="p0012" num="0012">According to a representative aspect of the present invention, there is provided a communication circuit including a receiver circuit. The receiver circuit provides differential communication by using a first transmission path and a second transmission path. The first transmission path is used to transmit a first signal. The second transmission path is used to transmit a second signal. The second signal is in opposite phase to the first signal. The receiver circuit includes a compensation circuit that compensates for the attenuation of a current when common mode noise is superimposed on the first signal and on the second signal. The compensation circuit includes a first compensation circuit and a second compensation circuit. The first compensation circuit detects an electric current attenuation of the first signal when the common mode noise is superimposed on the first signal, and compensates for the attenuation of the first signal by adding the detected electric current attenuation to the second signal. The second compensation circuit detects an electric current attenuation of the second signal when the common mode noise is superimposed on the second signal, and compensates for the attenuation of the second signal by adding the detected electric current attenuation to the first signal.<!-- EPO <DP n="5"> --></p><p id="p0013" num="0013">An advantage provided by the representative means for solving the problem is summarized below.</p><p id="p0014" num="0014">In the receiver circuit that provides differential communication, the influence of common mode noise on electric-current communication can be reduced.</p><heading id="h0004">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p0015" num="0015">Embodiments of the present invention will be described in detail based on the following figures, in which:
<ul><li><figref idrefs="f0001">FIG. 1</figref> is a block diagram illustrating an exemplary configuration of a battery device for an EV or HEV;</li><li><figref idrefs="f0002">FIG. 2</figref> is a diagram illustrating how a plurality of voltage measurement devices and a battery monitoring microcomputer are coupled;</li><li><figref idrefs="f0003">FIG. 3</figref> is a diagram illustrating how a transmitter circuit and a receiver circuit are coupled in a communication function section included in the battery device shown in <figref idrefs="f0001">FIG. 1</figref>;</li><li><figref idrefs="f0004">FIG. 4</figref> is another diagram illustrating how the transmitter circuit and the receiver circuit are coupled in the communication function section included in the battery device shown in <figref idrefs="f0001">FIG. 1</figref>;</li><li><figref idrefs="f0005">FIG. 5</figref> is a diagram illustrating signal flows that occur when a first compensation circuit and a second compensation circuit are not included as shown in <figref idrefs="f0009">FIG. 9</figref>;</li><li><figref idrefs="f0006">FIG. 6</figref> is a diagram illustrating the current waveforms of essential parts shown in <figref idrefs="f0005">FIG. 5</figref>;</li><li><figref idrefs="f0007">FIG. 7</figref> is a diagram illustrating signal flows that occur when a configuration shown in <figref idrefs="f0009">FIG. 9</figref> is employed;</li><li><figref idrefs="f0008">FIG. 8</figref> is a diagram illustrating the current waveforms of essential parts shown in <figref idrefs="f0007">FIG. 7</figref>;</li><li><figref idrefs="f0009">FIG. 9</figref> is a circuit diagram illustrating an exemplary configuration of the transmitter circuit and receiver circuit shown in <figref idrefs="f0003">FIG. 3</figref>;<!-- EPO <DP n="6"> --></li><li><figref idrefs="f0010">FIG. 10</figref> is a circuit diagram illustrating an exemplary configuration of the transmitter circuit and receiver circuit shown in <figref idrefs="f0004">FIG. 4</figref>;</li><li><figref idrefs="f0011">FIG. 11</figref> is a circuit diagram illustrating another exemplary configuration of the receiver circuit shown in <figref idrefs="f0003">FIG. 3</figref>;</li><li><figref idrefs="f0012">FIG. 12</figref> is a circuit diagram illustrating another exemplary configuration of the receiver circuit shown in <figref idrefs="f0004">FIG. 4</figref>;</li><li><figref idrefs="f0013">FIG. 13</figref> is a circuit diagram illustrating another exemplary configuration of the receiver circuit shown in <figref idrefs="f0003">FIG. 3</figref>;</li><li><figref idrefs="f0014">FIG. 14</figref> is a circuit diagram illustrating another exemplary configuration of the receiver circuit shown in <figref idrefs="f0004">FIG. 4</figref>; and</li><li><figref idrefs="f0015">FIG. 15</figref> is a circuit diagram illustrating another exemplary configuration of the receiver circuit shown in <figref idrefs="f0010">FIG. 10</figref>.</li></ul></p><heading id="h0005">DETAILED DESCRIPTION</heading><heading id="h0006">1. Overview of a Representative Embodiment</heading><p id="p0016" num="0016">First of all, an embodiment representative of the present invention disclosed in this document will be summarized. The parenthesized reference numerals in the accompanying drawings referred to in the overview of the representative embodiment merely illustrate what is contained in the concept of elements to which the reference numerals are affixed. Although bipolar transistors shown in the drawings can be replaced by MOS transistors in some cases, the drawings show the bipolar transistors as examples. Although MOS transistors shown in the drawings can be replaced by bipolar transistors in some cases, the drawings show the MOS transistors as examples.
<ol><li>[1] A communication circuit (70, 71) according to the representative embodiment of the present invention includes a receiver circuit (42, 44). The receiver circuit (42, 44) provides differential communication by using a first transmission path (45, 47) and a second transmission path (46, 48). The first transmission<!-- EPO <DP n="7"> --> path (45, 47) is used to transmit a first signal. The second transmission path (46, 48) is used to transmit a second signal. The second signal is in opposite phase to the first signal. The receiver circuit includes a compensation circuit that compensates for the attenuation of a current when common mode noise is superimposed on the first signal and on the second signal. The compensation circuit includes a first compensation circuit (95) and a second compensation circuit (96). The first compensation circuit (95) detects an electric current attenuation of the first signal when the common mode noise is superimposed on the first signal, and compensates for the attenuation of the first signal by adding the detected electric current attenuation to the second signal. The second compensation circuit (96) detects an electric current attenuation of the second signal when the common mode noise is superimposed on the second signal, and compensates for the attenuation of the second signal by adding the detected electric current attenuation to the first signal.<br/>
According to the above-described configuration, the receiver circuit includes the first and second compensation circuits, which are used to compensate for the electric current attenuation when common mode noise is superimposed on the first and second signals. Therefore, the receiver circuit can obtain a good signal level as it compensates for the attenuation caused by the common mode noise. This makes it possible to reduce the influence of the common mode noise on electric-current communication.</li><li>[2] In paragraph [1] above, the receiver circuit can be easily formed when it includes a first transistor (Q1, Q28) for acquiring the first signal while suppressing the influence of parasitic capacitance in the transmission path and a second transistor (Q2, Q29) for acquiring the second signal while suppressing the influence of parasitic capacitance in the transmission path. In this instance, the receiver circuit may also include a comparator (91, 103) for comparing the first signal, which<!-- EPO <DP n="8"> --> is transmitted through the first transistor, to the second signal, which is transmitted through the second transistor.</li><li>[3] In paragraph [2] above, the first compensation circuit can be easily formed when it includes a third transistor (Q3) and a fourth transistor (Q4). The third transistor (Q3) is cascade-coupled to the first transistor. The fourth transistor (Q4) is current-mirror coupled to the third transistor to acquire the current to be added to the second signal. The second compensation circuit can be easily formed when it includes a fifth transistor (Q6) and a sixth transistor (Q5). The fifth transistor (Q6) is cascade-coupled to the second transistor. The sixth transistor (Q5) is current-mirror coupled to the fifth transistor to acquire the current to be added to the first signal.</li><li>[4] In paragraph [3] above, the fourth transistor is coupled so that a current flowing in the fourth transistor is added to the second signal before the comparator makes a comparison. The sixth transistor is coupled so that a current flowing in the sixth transistor is added to the first signal before the comparator makes a comparison. Using the above-described coupling scheme makes it possible to easily compensate for the attenuation caused by the common mode noise.</li><li>[5] In paragraph [4] above, the receiver circuit includes a first impedance adjustment circuit (108) and a second impedance adjustment circuit (109). The first impedance adjustment circuit (108) is used to adjust the input impedance of the receiver circuit as viewed from the first transmission path. The second impedance adjustment circuit (109) is used to adjust the input impedance of the receiver circuit as viewed from the second transmission path. The first impedance adjustment circuit decreases the input impedance of the receiver circuit as viewed from the first transmission path. The second impedance adjustment circuit decreases the input impedance of the receiver circuit as viewed from the second transmission path. When the input impedance is decreased as described above, the charge/discharge time for the parasitic<!-- EPO <DP n="9"> --> capacitance can be reduced. This makes it possible to increase a signal transmission rate.</li><li>[6] In paragraph [5] above, the first impedance adjustment circuit can be easily formed when it includes a seventh transistor (Q30) and a first feedback circuit (Q32, Q34, Q36). The seventh transistor (Q30) is disposed between the first transistor and the second transistor. The first feedback circuit (Q32, Q34, Q36) is used to control the operation of the seventh transistor. In this instance, the first feedback circuit can be configured so as to control the operation of the seventh transistor (Q30) in accordance with the voltage at a series-coupled node (110) between the first transistor (Q1) and the seventh transistor (Q30). The second impedance adjustment circuit can be easily formed when it includes an eighth transistor (Q31) and a second feedback circuit (Q33, Q35, Q37). The eighth transistor (Q31) is disposed between the fourth transistor (Q2) and the fifth transistor (Q6). The second feedback circuit (Q33, Q35, Q37) is used to control the operation of the eighth transistor. In this instance, the second feedback circuit can be configured so as to control the operation of the eighth transistor (Q31) in accordance with the voltage at a series-coupled node (111) between the fourth transistor (Q2) and the eighth transistor (Q31).</li><li>[7] In paragraph [1] above, the receiver circuit can be easily formed when it includes a ninth transistor (Q53) for amplifying the first signal and a tenth transistor (Q56) for amplifying the second signal. In this instance, the receiver circuit may also include a comparator (91) for comparing the output of the ninth transistor to the output of the tenth transistor.</li><li>[8] In paragraph [7] above, the first compensation circuit can be easily configured when it includes an eleventh transistor (Q55), a twelfth transistor (Q57), and a thirteenth transistor (Q58). In this instance, the eleventh transistor (Q55) amplifies a current that flows in a direction opposite to the direction in which the first signal flows due to the common mode noise superimposed on the<!-- EPO <DP n="10"> --> first signal. The twelfth transistor (Q57) forms a load on the eleventh transistor. The thirteenth transistor (Q58) is current-mirror coupled to the twelfth transistor to acquire the current to be added to the second signal before the comparator makes a comparison.<br/>
The second compensation circuit can be easily configured when it includes a fourteenth transistor (Q56), a fifteenth transistor (Q60), and a sixteenth transistor (Q59). In this instance, the fourteenth transistor (Q56) amplifies a current that flows in a direction opposite to the direction in which the second signal flows due to the common mode noise superimposed on the second signal. The fifteenth transistor (Q60) forms a load on the fourteenth transistor. The sixteenth transistor (Q59) is current-mirror coupled to the fifteenth transistor to acquire the current to be added to the first signal before the comparator makes a comparison.</li><li>[9] In paragraph [8] above, the thirteenth transistor is coupled so that a current flowing in the thirteenth transistor is added to the second signal before the comparator makes a comparison. The sixteenth transistor is coupled so that a current flowing in the sixteenth transistor is added to the first signal before the comparator makes a comparison. Using the above-described coupling scheme makes it possible to easily compensate for the attenuation caused by the common mode noise.</li><li>[10] In a semiconductor device including a voltage measurement function section (20), which measures the voltage of an assembled battery obtained by series-coupling a plurality of unit cells, and a communication function section (70, 71), which is capable of communicating a voltage measurement result produced by the voltage measurement function section, the communication function section can be configured in the same manner as the communication circuit.</li></ol></p><heading id="h0007">2. Details of Preferred Embodiments</heading><!-- EPO <DP n="11"> --><p id="p0017" num="0017">Embodiments of the present invention will now be described in further detail.</p><heading id="h0008">First Embodiment</heading><p id="p0018" num="0018"><figref idrefs="f0001">FIG. 1</figref> shows an exemplary configuration of a voltage measurement system of a battery for an EV or HEV.</p><p id="p0019" num="0019">Referring to <figref idrefs="f0001">FIG. 1</figref>, an electric motor 11 is driven when the battery supplies electric power across an electric motor drive inverter 12. A battery device 10 included in the voltage measurement system shown in <figref idrefs="f0001">FIG. 1</figref> includes a battery 101, a plurality of voltage measurement devices 2, and a battery monitoring microcomputer (MCU) 6. The battery 101 includes assembled batteries having a plurality of series-coupled unit cells. Each voltage measurement device 2 is allocated to each block of several to more than a dozen battery cells 1 included in the battery. The battery 101 mounted, for instance, in an electric vehicle includes several hundred unit cells. The highest-level voltage of the battery 101 is, for example, 400 V or so. The unit cells included in the battery 101 are, for example, lithium-ion cells.</p><p id="p0020" num="0020">The battery monitoring microcomputer (MCU) 6 includes a CPU (Central Processing Unit), a ROM (Read-Only Memory), a RAM (Random-Access Memory), and a communication function, and is formed over a semiconductor substrate, such as a monocrystalline silicon substrate, by a well-known semiconductor integrated circuit manufacturing technology. The battery monitoring microcomputer 6 controls the voltage measurement devices 2 to make battery voltage measurements, and controls the electric power supply from the battery to the electric motor drive inverter 12 in accordance with the results of the measurements. Further, the battery monitoring microcomputer 6 establishes CAN (Control Area Network) communication or the like with a battery control microcomputer 7.</p><p id="p0021" num="0021">Each voltage measurement device 2 includes a voltage measurement function section 20, a control section 50, and<!-- EPO <DP n="12"> --> communication function sections 70, 71, and is formed over a semiconductor substrate, such as a monocrystalline silicon substrate, by a well-known semiconductor integrated circuit manufacturing technology. The voltage measurement function section 20 includes an MUX 30 and an ADC 60.</p><p id="p0022" num="0022">To measure the voltage of a target block of battery cells 1 included in the battery 101, the MUX 30 selectively couples the terminals of the battery cells 1 to the ADC 60. The ADC 60 measures the voltage of a battery cell 1 selected by the MUX 30 in accordance with a control signal from the control section 50, and outputs the result of the measurement. The communication function sections 70, 71 mutually communicate, for example, control commands from the battery monitoring microcomputer 6 and voltage measurement results from the ADC 60 between neighboring voltage measurement devices 2.</p><p id="p0023" num="0023"><figref idrefs="f0002">FIG. 2</figref> shows how the voltage measurement devices 2 and the battery monitoring microcomputer 6 are coupled.</p><p id="p0024" num="0024">The voltage measurement devices 2 and the battery monitoring microcomputer 6 include a serial interface that establishes serial communication. The battery monitoring microcomputer 6 includes a chip select terminal CS, a serial clock terminal SCK, a data output terminal MOSI, and a data input terminal MISO. The voltage measurement devices 2 include a chip select terminal CS, a serial clock terminal SCK, a serial data output terminal SO, and a serial data input terminal SI. The chip select terminal CS, serial clock terminal SCK, data output terminal MOSI, and data input terminal MISO of the battery monitoring microcomputer 6 are coupled to the chip select terminal CS, serial clock terminal SCK, serial data input terminal SI, and serial data output terminal SO of a voltage measurement device 2, respectively. Single-ended transmission type or differential transmission type voltage communication is established between the voltage measurement device 2 and the battery monitoring microcomputer 6. Differential transmission for transmitting data with a pair of signal wires takes place between the neighboring voltage measurement devices 2. In the differential<!-- EPO <DP n="13"> --> transmission, a pair of transmission paths transmit signals so that the signal transmitted through one transmission path is in opposite phase to the signal transmitted through the other transmission path. Each voltage measurement device 2 includes a power supply terminal for acquiring a power supply voltage VCC referenced to a ground GND. A power supply voltage for operating a voltage measurement device 2 is supplied from a series-coupled node for the associated unit cell. The operating power supply voltage is determined by the device withstand voltage of the voltage measurement device 2, the number of coupled unit cells, and the voltage per unit cell. When, for instance, the voltage per unit cell is between 1.4 V and 5 V and twelve unit cells are coupled to the voltage measurement device 2, the operating power supply voltage is between 16.8 V and 60 V. In this instance, the device withstand voltage needs to be at least 60 V. Electric-current communication is established between the neighboring voltage measurement devices 2.</p><p id="p0025" num="0025">The communication function sections 70, 71 each include a transmitter circuit and a receiver circuit. As shown, for instance, in <figref idrefs="f0003">FIG. 3</figref>, the transmitter circuit 41 in the communication function section 70 and the receiver circuit 42 in the communication function section 71 are used to transmit a signal from a voltage measurement device 2 whose power supply voltage VCC is the potential at a node N1 in the battery 101 to a voltage measurement device 2 whose power supply voltage VCC is the potential at a node N2 in the battery 101. In this instance, the transmitter circuit 41 and the receiver circuit 42 are coupled through a pair of transmission paths 45, 46 to establish differential communication. When a current INp provided by a first signal flows in one transmission path 45, a current INn provided by a second signal flows in the other transmission path 46. The second signal is in opposite phase to the first signal.</p><p id="p0026" num="0026">In some cases, common mode noise Ncom may be superimposed on the first signal INp and on the second signal INn. Details will be described later.<!-- EPO <DP n="14"> --></p><p id="p0027" num="0027"><figref idrefs="f0009">FIG. 9</figref> shows an exemplary configuration of the transmitter circuit 41 and receiver circuit 42 shown in <figref idrefs="f0003">FIG. 3</figref>.</p><p id="p0028" num="0028">The transmitter circuit 41 is configured as described below.</p><p id="p0029" num="0029">A resistor R3 and n-channel MOS transistors Q10, Q12 are series-coupled to each other. A high-voltage element is used as the n-channel MOS transistor Q10. The drain electrode of the n-channel MOS transistor Q10 is coupled to the transmission path 45. A reference voltage V1 is supplied to the gate electrode of the n-channel MOS transistor Q10 so that a predefined voltage drop occurs between the gate and source electrodes of the n-channel MOS transistor Q10 to prevent a high voltage from being applied to the n-channel MOS transistor Q12. An amplifier 92 is provided to virtually define the potential of the source electrode of the n-channel MOS transistor Q12 and a reference voltage V3. The output signal of the amplifier 92 is transmitted to the gate electrode of the n-channel MOS transistor Q12. An n-channel MOS transistor Q14 is disposed between the gate electrode of the n-channel MOS transistor Q12 and the ground GND. Transmitted data is conveyed to the gate electrode of the n-channel MOS transistor Q14 through an input terminal 97. In response to the transmitted data, the current INp provided by the first signal flows in the transmission path 45. A current mirror circuit (n-channel MOS transistors Q91, Q92) is coupled to the source of the n-channel MOS transistor Q10 to ensure that the source current of the n-channel MOS transistor Q10 is not completely 0 (zero).</p><p id="p0030" num="0030">Further, n-channel MOS transistors Q11, Q13 and a resistor R4 are series-coupled to each other. A high-voltage element is used as the n-channel MOS transistor Q11. The drain electrode of the n-channel MOS transistor Q11 is coupled to the transmission path 46. A reference voltage V2 is supplied to the gate electrode of the n-channel MOS transistor Q11 so that a predefined voltage drop occurs between the gate and source electrodes of the n-channel MOS transistor Q11 to prevent a high voltage from being applied to the n-channel MOS transistor Q13. An amplifier 92 is provided to<!-- EPO <DP n="15"> --> virtually define the potential of the source electrode of the n-channel MOS transistor Q13 and a reference voltage V4. The output signal of the amplifier 93 is transmitted to the gate electrode of the n-channel MOS transistor Q13. An n-channel MOS transistor Q15 is disposed between the gate electrode of the n-channel MOS transistor Q13 and the ground GND. Transmitted data is conveyed to the gate electrode of the n-channel MOS transistor Q15 through an input terminal 98. In response to the transmitted data, the current INn provided by the second signal flows in the transmission path 46. A current mirror circuit (n-channel MOS transistors Q91, Q93) is coupled to the source of the n-channel MOS transistor Q11 to ensure that the source current of the n-channel MOS transistor Q11 is not completely 0 (zero).</p><p id="p0031" num="0031">The receiver circuit 42 is configured as described below.</p><p id="p0032" num="0032">The receiver circuit 42 includes bipolar transistors Q1 to Q8, resistors R1, R2, and a comparator 91. The bipolar transistors Q1 to Q8 are of an npn type. The collector electrodes of the bipolar transistors Q1, Q2 are coupled to a constant voltage Vreg terminal through the resistors R1, R2, respectively. The constant voltage Vreg is, for example, 5 V and obtained by decreasing the power supply voltage VCC with a voltage down converter. In the present embodiment, a cascode input circuit is employed to prevent a signal transmission rate from being decreased by parasitic capacitance in a transmission path. This makes it possible to increase the values of the resistors R1, R2 and provide an adequate input voltage for the comparator 91. To inhibit the signal transmission rate from being decreased by the parasitic capacitance without employing the cascode input circuit, it is necessary to reduce a voltage drop in the resistors R1, R2 by decreasing the values of the resistors R1, R2. In this instance, an adequate input voltage may not be provided for the comparator 91. More specifically, the emitter electrode of the bipolar transistor Q1 is coupled to the transmission path 45 in order to acquire the first signal, whereas the emitter electrode of the bipolar transistor Q2 is coupled to the transmission path 46 in<!-- EPO <DP n="16"> --> order to acquire the second signal. The bipolar transistor Q1 functions as a current buffer for supplying a current to the transmission path 45 for the purpose of transmitting the first signal. The bipolar transistor Q2 functions as a current buffer for supplying a current to the transmission path 46 for the purpose of transmitting the second signal. A predetermined bias voltage is supplied to the base electrode of each bipolar transistor Q1, Q2. This bias voltage is formed by a constant current source 94 and by the bipolar transistors Q7, Q8, which are series-coupled to the constant current source 94. The bipolar transistors Q7, Q8 function as a diode as their collector electrode and base electrode are coupled together. The comparator 91 compares the potential at a series-coupled node between the resistor R1 and the bipolar transistor Q1 to the potential at a series-coupled node between the resistor R2 and the bipolar transistor Q2. The result of the comparison made by the comparator 91 is used as a received signal that is received by the receiver circuit 42 during differential communication.</p><p id="p0033" num="0033">The receiver circuit 42 also includes a first compensation circuit 95 and a second compensation circuit 96. The first and second compensation circuit 95, 96 compensate for the attenuation of a current when common mode noise is superimposed on the first signal in the transmission path 45 and on the second signal in the transmission path 46.</p><p id="p0034" num="0034">The first compensation circuit 95 is used to compensate for the attenuation of the first signal by detecting a portion of the first signal transmitted through the transmission path 45 that is beyond a predetermined input range and adding the detected portion to the second signal. The first compensation circuit 95 includes the bipolar transistor Q3, which is cascade-coupled to the bipolar transistor Q1, and the bipolar transistor Q4, which is current-mirror coupled to the bipolar transistor Q3. When a current flowing in a direction opposite to the direction of the first signal flows in the bipolar transistor Q3 due to the common mode noise<!-- EPO <DP n="17"> --> superimposed on the first signal flowing in the transmission path 45, a corresponding current flows in the bipolar transistor Q4. This current is supplied through the resistor R2 and added to the second signal, which is to be transmitted to the comparator 91.</p><p id="p0035" num="0035">The second compensation circuit 96 is used to compensate for the attenuation of the first signal by detecting a portion of the second signal transmitted through the transmission path 46 that is beyond a predetermined input range and adding the detected portion to the first signal. The second compensation circuit 96 includes the bipolar transistor Q6, which is cascade-coupled to the bipolar transistor Q2, and the bipolar transistor Q5, which is current-mirror coupled to the bipolar transistor Q6. When a current flowing in a direction opposite to the direction of the second signal flows in the bipolar transistor Q6 due to the common mode noise superimposed on the second signal flowing in the transmission path 46, a corresponding current flows in the bipolar transistor Q5. This current is supplied through the resistor R1 and added to the first signal, which is to be transmitted to the comparator 91.</p><p id="p0036" num="0036">Operations performed when common mode noise Ncom is superimposed on signals in the transmission paths 45, 46 will now be described.</p><p id="p0037" num="0037">For the sake of explanation, it is assumed that a current A flows to an end of the transmission path 45 toward the receiver circuit 42, and that a current B flows to an end of the transmission path 46 toward the receiver circuit 42, and further that a current C flows to the collector electrode side of the bipolar transistor Q1, and still further that a current D flows to the collector electrode side of the bipolar transistor Q2. It is also assumed that a current C' flows in a path from a joint between the collector electrode of the bipolar transistor Q1 and the collector electrode of the bipolar transistor Q5 to the resistor R1, and that a current D' flows in a path from a joint between the collector electrode of the bipolar transistor Q2 and the collector electrode of the bipolar transistor Q4 to the resistor R2. It is still also assumed that a<!-- EPO <DP n="18"> --> current C2 flows to the collector electrode of the bipolar transistor Q4, and that a current D2 flows to the collector electrode of the bipolar transistor Q5.</p><p id="p0038" num="0038"><figref idrefs="f0005">FIG. 5</figref> shows signal flows that occur when the first compensation circuit 95 and the second compensation circuit 96 are not included as shown in <figref idrefs="f0009">FIG. 9</figref>. <figref idrefs="f0006">FIG. 6</figref> shows the current waveforms of essential parts shown in <figref idrefs="f0005">FIG. 5</figref>.</p><p id="p0039" num="0039">The current INp provided by the first signal flows in the transmission path 45. The current INn provided by the second signal flows in the transmission path 46. In the present embodiment, it is assumed that a current resulting from common mode noise Ncom and having a negative polarity is added to the current INp provided by the first signal and to the current INn provided by the second signal. Such an addition may attenuate a signal level so that the current A and the current B flow in an opposite direction depending on the level of the common mode noise Ncom.</p><p id="p0040" num="0040">In the receiver circuit 42, the first signal in the transmission path 45 is transmitted to the emitter electrode of the bipolar transistor Q1, whereas the second signal in the transmission path 46 is transmitted to the emitter electrode of the bipolar transistor Q2. It is therefore necessary that a signal current be above a predetermined reference level. The reference level Dlange for the signal current is, for example, 0 amperes. When the receiver circuit 42 is to acquire a signal, the current A and the current B need to be above the reference level Dlange. When the current A (input in) is not below the reference level Dlange (in ≥ Dlange), the current C is equal to the input in. When the current A (input in) is below the reference level Dlange (in &lt; Dlange), the current C is 0 (zero). Similarly, when the current B (input in) is not below the reference level Dlange (in ≥ Dlange), the current D is equal to the input in. When the current B (input in) is below the reference level Dlange (in &lt; Dlange), the current D is 0 (zero). In other words, when the input current is below the reference level and flows in an opposite direction, no emitter current is allowed to<!-- EPO <DP n="19"> --> flow in the bipolar transistors Q1, Q2. Hence, the receiver circuit 42 can acquire no signal. As described above, when the current A and the current B are below the reference level, they cannot be acquired as a received signal. Therefore, the current C and the current D attenuate so that the difference E between the current C and the current D also attenuates.</p><p id="p0041" num="0041">On the other hand, when the first compensation circuit 95 and the second compensation circuit 96 are included, a current is allowed to flow in the bipolar transistors Q3, Q6 even if the input current is below the reference level. Thus, the attenuation of the current can be compensated for when common mode noise is superimposed on the first signal and on the second signal. In other words, even when the input current is below the reference level, a current flows in the bipolar transistor Q3 so that a corresponding current flowing in the bipolar transistor Q4 is added to the current D flowing in the bipolar transistor Q2. This addition results in the flow of the current D'. Similarly, even when the input current is below the reference level, a current flows in the bipolar transistor Q6 so that the corresponding current D2 flowing in the bipolar transistor Q5 is added to the current C flowing in the bipolar transistor Q1. This addition results in the flow of the current C'. The above current additions compensate for the attenuation caused by common mode noise as described below.</p><p id="p0042" num="0042"><figref idrefs="f0007">FIG. 7</figref> shows signal flows that occur when a configuration shown in <figref idrefs="f0009">FIG. 9</figref> is employed. <figref idrefs="f0008">FIG. 8</figref> shows the current waveforms of essential parts shown in <figref idrefs="f0007">FIG. 7</figref>.</p><p id="p0043" num="0043">In a situation where the first compensation circuit 95 and the second compensation circuit 96 are included, the current C2 is 0 (zero) if the current A is not below the reference level Dlange (in ≥ Dlange), and the sign of the current A is inverted to produce the current C2 if the current A is below the reference level Dlange (in &lt; Dlange). The current C2 is added to the current D. Thus, the current D' is the sum of the current D and the attenuation of the current INp. Similarly, the current D2 is 0 (zero) if the current B<!-- EPO <DP n="20"> --> is not below the reference level Dlange (in ≥ Dlange), and the sign of the current B is inverted to produce the current D2 if the current B is below the reference level Dlange (in &lt; Dlange). The current D2 is added to the current C. Thus, the current C' is the sum of the current C and the attenuation of the current INn. As a result, the difference E between the current C' and the current D' has a good signal level because the attenuation caused by common mode noise is compensated for.</p><p id="p0044" num="0044">An operational advantage provided by the first embodiment is described below.</p><p id="p0045" num="0045">The receiver circuit 42 includes the first compensation circuit 95 and the second compensation circuit 96, which compensate for the attenuation of a current when common mode noise is superimposed on the first signal and on the second signal. Therefore, the receiver circuit 42 can compensate for the attenuation caused by the common mode noise and obtain a good signal level.</p><heading id="h0009">Second Embodiment</heading><p id="p0046" num="0046">A transmitter circuit 43 and a receiver circuit 44, which are both included in the communication function section 71, are used for signal transmission from the voltage measurement device 2 whose power supply voltage VCC is the potential at the node N2 in the battery 101 to the voltage measurement device 2 whose power supply voltage VCC is the potential at the node N1 in the battery 101. In this instance, the transmitter circuit 43 and the receiver circuit 44 are coupled through a pair of transmission paths 47, 48 for differential communication. When the current INp provided by the first signal flows in the transmission path 47, the current INn provided by the second signal flows in the other transmission path 48. The second signal is in opposite phase to the first signal.</p><p id="p0047" num="0047"><figref idrefs="f0010">FIG. 10</figref> shows an exemplary configuration of the transmitter circuit 43 and receiver circuit 44 shown in <figref idrefs="f0004">FIG. 4</figref>.<!-- EPO <DP n="21"> --></p><p id="p0048" num="0048">The transmitter circuit 43 is configured as described below.</p><p id="p0049" num="0049">A resistor R5 and p-channel MOS transistors Q18, Q20 are series-coupled to each other. The drain electrode of the p-channel MOS transistor Q20 is coupled to the transmission path 47. A reference voltage V7 is supplied to the gate electrode of the p-channel MOS transistor Q20 so that a predefined voltage drop occurs between the drain and source electrodes of the p-channel MOS transistor Q20 to prevent a high voltage from being applied to the receiver circuit 44 through the transmission path 47. A comparator 104 is provided to compare the potential at the source electrode of the p-channel MOS transistor Q18 to a reference voltage V5. The output signal of the comparator 104 is transmitted to the gate electrode of the p-channel MOS transistor Q18. A p-channel MOS transistor Q16 is disposed between the gate electrode of the p-channel MOS transistor Q18 and a low voltage Vreg. Transmitted data is conveyed to the gate electrode of the p-channel MOS transistor Q16 through an input terminal 99. In response to the transmitted data, the current INp provided by the first signal flows in the transmission path 47. A current mirror circuit (p-channel MOS transistors Q94, Q95) is coupled to the source of the p-channel MOS transistor Q20 to ensure that the source current of the p-channel MOS transistor Q20 is not completely 0 (zero).</p><p id="p0050" num="0050">A resistor R6 and p-channel MOS transistors Q19, Q21 are series-coupled to each other. The drain electrode of the p-channel MOS transistor Q21 is coupled to the transmission path 48. A reference voltage V8 is supplied to the gate electrode of the p-channel MOS transistor Q21 so that a predefined voltage drop occurs between the drain and source electrodes of the p-channel MOS transistor Q21 to prevent a high voltage from being applied to the receiver circuit 44 through the transmission path 48. A comparator 105 is provided to compare the potential at the source electrode of the p-channel MOS transistor Q19 to a reference voltage V6. The output signal of the comparator 105 is transmitted to the gate electrode of the p-channel MOS transistor Q19. A p-channel MOS<!-- EPO <DP n="22"> --> transistor Q17 is disposed between the gate electrode of the p-channel MOS transistor Q19 and a low voltage Vreg. Transmitted data is conveyed to the gate electrode of the p-channel MOS transistor Q17 through an input terminal 100. In response to the transmitted data, the current INn provided by the second signal flows in the transmission path 48. A current mirror circuit (p-channel MOS transistors Q94, Q96) is coupled to the source of the p-channel MOS transistor Q21 to ensure that the source current of the p-channel MOS transistor Q21 is not completely 0 (zero).</p><p id="p0051" num="0051">The receiver circuit 44 is configured as described below.</p><p id="p0052" num="0052">The receiver circuit 44 includes bipolar transistors Q22 to Q29, resistors R7, R8, and a comparator 103. The bipolar transistors Q22 to Q29 are of a pnp type. The collector electrodes of the bipolar transistors Q28, Q29 are coupled to the ground GND through the resistors R7, R8, respectively. A cascode input circuit is employed to prevent a signal transmission rate from being decreased by parasitic capacitance. More specifically, the emitter electrode of the bipolar transistor Q28 is coupled to the transmission path 47 in order to acquire the first signal, whereas the emitter electrode of the bipolar transistor Q29 is coupled to the transmission path 48 in order to acquire the second signal. The bipolar transistor Q28 functions as a current buffer for acquiring the first signal. The bipolar transistor Q29 functions as a current buffer for acquiring the second signal. A predetermined bias voltage is supplied to the base electrode of each bipolar transistor Q28, Q29. This bias voltage is formed by the bipolar transistors Q22, Q23, which are series-coupled between the power supply voltage VCC and a constant current source 102. The bipolar transistors Q22, Q23 function as a diode as their collector electrode and base electrode are coupled together. The comparator 103 compares the potential at a series-coupled node between the resistor R7 and the bipolar transistor Q28 to the potential at a series-coupled node between the resistor R8 and the bipolar transistor Q29. The result of the comparison made by the comparator 103 is used as a received<!-- EPO <DP n="23"> --> signal that is received by the receiver circuit 44 during differential communication.</p><p id="p0053" num="0053">As is the case with the receiver circuit 42 shown in <figref idrefs="f0009">FIG. 9</figref>, the receiver circuit 44 includes the first compensation circuit 95 and the second compensation circuit 96, which compensate for the attenuation of a current when common mode noise is superimposed on the first signal and on the second signal.</p><p id="p0054" num="0054">The first compensation circuit 95 is used to compensate for the attenuation of the first signal by detecting a portion of the first signal transmitted through the transmission path 47 that is beyond a predetermined input range and adding the detected portion to the second signal. The first compensation circuit 95 includes the bipolar transistor Q24, which is cascade-coupled to the bipolar transistor Q28, and the bipolar transistor Q25, which is current-mirror coupled to the bipolar transistor Q24. When a current flowing in a direction opposite to the direction of the current INp provided by the first signal flows in the bipolar transistor Q24 due to the common mode noise superimposed on the first signal flowing in the transmission path 47, a corresponding current flows in the bipolar transistor Q25. This current flows to the ground GND through the resistor R8 and is added to the second signal, which is to be transmitted to the comparator 103.</p><p id="p0055" num="0055">The second compensation circuit 96 is used to compensate for the attenuation of the first signal by detecting a portion of the second signal transmitted through the transmission path 48 that is beyond a predetermined input range and adding the detected portion to the first signal. The second compensation circuit 96 includes the bipolar transistor Q27, which is cascade-coupled to the bipolar transistor Q29, and the bipolar transistor Q26, which is current-mirror coupled to the bipolar transistor Q27. When a current flowing in a direction opposite to the direction of the second signal flows in the bipolar transistor Q27 due to the common mode noise superimposed on the second signal flowing in the transmission path 48, a corresponding current flows in the bipolar transistor Q26.<!-- EPO <DP n="24"> --> This current flows to the ground GND through the resistor R7 and is added to the first signal, which is to be input to the comparator 103.</p><p id="p0056" num="0056">Operations performed when common mode noise Ncom is superimposed on signals in the transmission paths 47, 48 will now be described.</p><p id="p0057" num="0057">For the sake of explanation, it is assumed that a current A flows to an end of the transmission path 47 toward the receiver circuit 44, and that a current B flows to an end of the transmission path 48 toward the receiver circuit 44, and further that a current C flows to the collector electrode side of the bipolar transistor Q28, and still further that a current D flows to the collector electrode side of the bipolar transistor Q29. It is also assumed that a current C' flows in a path from a joint between the collector electrode of the bipolar transistor Q28 and the collector electrode of the bipolar transistor Q26 to the resistor R7, and that a current D' flows in a path from a joint between the collector electrode of the bipolar transistor Q29 and the collector electrode of the bipolar transistor Q25 to the resistor R8. It is still also assumed that a current D2 flows to the collector electrode of the bipolar transistor Q25, and that a current C2 flows to the collector electrode of the bipolar transistor Q26.</p><p id="p0058" num="0058">As is the case with the receiver circuit 42 shown in <figref idrefs="f0009">FIG. 9</figref>, the receiver circuit 44 shown in <figref idrefs="f0010">FIG. 10</figref> includes the first compensation circuit 95 and the second compensation circuit 96. Therefore, even when the input current is below the reference level, a current is allowed to flow in the bipolar transistors Q24, Q27. This makes it possible to compensate for the attenuation of the current when common mode noise is superimposed on the first signal and on the second signal. In other words, even when the input current is below the reference level, a current flows in the bipolar transistor Q24 so that the corresponding current D2 flowing in the bipolar transistor Q25 is added to the current D flowing in the bipolar transistor Q29. Hence, the current D' is the sum of the<!-- EPO <DP n="25"> --> current D and the attenuation of the current INp. Similarly, even when the input current is below the reference level, a current flows in the bipolar transistor Q27 so that the corresponding current C2 flowing in the bipolar transistor Q26 is added to the current C flowing in the bipolar transistor Q28. Hence, the current C' is the sum of the current C and the attenuation of the current INn. As a result, the difference between the current C' and the current D' has a good signal level because the attenuation caused by common mode noise is compensated for.</p><p id="p0059" num="0059">An operational advantage provided by the second embodiment is described below.</p><p id="p0060" num="0060">The receiver circuit 44 includes the first compensation circuit 95 and the second compensation circuit 96, which compensate for the attenuation of a current when common mode noise is superimposed on the first signal and on the second signal. Therefore, the receiver circuit 44 can compensate for the attenuation caused by the common mode noise and obtain a good signal level, as is the case with the receiver circuit 42 shown in <figref idrefs="f0009">FIG. 9</figref>.</p><heading id="h0010">Third Embodiment</heading><p id="p0061" num="0061"><figref idrefs="f0011">FIG. 11</figref> shows another exemplary configuration of the receiver circuit 42 shown in <figref idrefs="f0003">FIG. 3</figref>.</p><p id="p0062" num="0062">A great difference between the receiver circuit 42 shown in <figref idrefs="f0011">FIG. 11</figref> and the receiver circuit shown in <figref idrefs="f0009">FIG. 9</figref> is that the former includes a first impedance adjustment circuit 108 and a second impedance adjustment circuit 109. The first impedance adjustment circuit 108 is used to adjust the input impedance of the receiver circuit 42 as viewed from the first transmission path 45. The second impedance adjustment circuit 109 is used to adjust the input impedance of the receiver circuit 42 as viewed from the second transmission path 46. Further, in the receiver circuit 42 shown in <figref idrefs="f0011">FIG. 11</figref>, feedback is applied to the base electrodes of the bipolar transistors Q1, Q2.<!-- EPO <DP n="26"> --></p><p id="p0063" num="0063">The first impedance adjustment circuit 108 includes a bipolar transistor Q30 and a first feedback circuit FB1. The bipolar transistor Q30 is of a pnp type and disposed between the bipolar transistor Q1 and the bipolar transistor Q3. The first feedback circuit FB1 controls the operation of the bipolar transistor Q30 in accordance with the voltage at a series-coupled node 110.</p><p id="p0064" num="0064">The first feedback circuit FB1 includes bipolar transistors Q32, Q34, Q36. Each of the bipolar transistors Q32, Q34, Q36 is of an npn type. The emitter electrode of the bipolar transistor Q34 is coupled to the ground GND through the diode-coupled bipolar transistor Q36. The constant voltage Vreg is supplied to the collector electrode of the bipolar transistor Q34. The voltage at the series-coupled node 110 between the bipolar transistor Q1 and the bipolar transistor Q30 is supplied to the base electrode of the bipolar transistor Q34. The voltage at the emitter electrode of the bipolar transistor Q34 is transmitted to the base electrode of the bipolar transistor Q32. The collector electrode of the bipolar transistor Q32 is coupled to a constant current source 106 through diodes D1, D3, which are mutually series-coupled. The emitter electrode of the bipolar transistor Q32 is coupled to the ground GND. The voltage at the collector electrode of the bipolar transistor Q32 is transmitted to the base electrode of the bipolar transistor Q30. As the above-described configuration is employed, the bipolar transistor Q30 and the bipolar transistor Q1 are feedback controlled in accordance with the level of the voltage at the series-coupled node 110 between the bipolar transistor Q1 and the bipolar transistor Q30 to reduce the input impedance of the receiver circuit 42 as viewed from the first transmission path 45. Hence, the charge/discharge time for the parasitic capacitance near the series-coupled node 110 between the bipolar transistor Q1 and the bipolar transistor Q30 can be reduced. This makes it possible to increase the rate of signal transmission through the transmission path 45.</p><p id="p0065" num="0065">The second impedance adjustment circuit 109 includes a bipolar transistor Q31 and a second feedback circuit FB2. The<!-- EPO <DP n="27"> --> bipolar transistor Q31 is of a pnp type and disposed between the bipolar transistor Q2 and the bipolar transistor Q6. The second feedback circuit FB2 controls the operation of the bipolar transistor Q31 in accordance with the voltage at a series-coupled node 111.</p><p id="p0066" num="0066">The second feedback circuit FB2 includes bipolar transistors Q33, Q35, Q37. Each of the bipolar transistors Q33, Q35, Q37 is of an npn type. The emitter electrode of the bipolar transistor Q35 is coupled to the ground GND through the diode-coupled bipolar transistor Q37. The constant voltage Vreg is supplied to the collector electrode of the bipolar transistor Q35. The voltage at the series-coupled node 111 between the bipolar transistor Q2 and the bipolar transistor Q31 is supplied to the base electrode of the bipolar transistor Q35. The voltage at the emitter electrode of the bipolar transistor Q35 is transmitted to the base electrode of the bipolar transistor Q33. The collector electrode of the bipolar transistor Q33 is coupled to a constant current source 107 through diodes D2, D4, which are mutually series-coupled. The emitter electrode of the bipolar transistor Q33 is coupled to the ground GND. The voltage at the collector electrode of the bipolar transistor Q33 is transmitted to the base electrode of the bipolar transistor Q31. As the above-described configuration is employed, the bipolar transistor Q31 is feedback controlled in accordance with the level of the voltage at the series-coupled node 111 between the bipolar transistor Q2 and the bipolar transistor Q31 to reduce the input impedance of the receiver circuit 42 as viewed from the transmission path 46. Hence, the charge/discharge time for the parasitic capacitance near the series-coupled node 111 between the bipolar transistor Q2 and the bipolar transistor Q31 can be reduced. This makes it possible to increase the rate of signal transmission through the transmission path 46.</p><p id="p0067" num="0067">Operational advantages provided by the third embodiment are described below.<!-- EPO <DP n="28"> -->
<ol><li>(1) The receiver circuit 42 includes the first compensation circuit 95 and the second compensation circuit 96, which compensate for the attenuation of a current when common mode noise is superimposed on the first signal and on the second signal. Therefore, the receiver circuit 42 can compensate for the attenuation caused by the common mode noise and obtain a good signal level, as is the case with the receiver circuit shown in <figref idrefs="f0009">FIG. 9</figref>.</li><li>(2) The first impedance adjustment circuit 108 reduces the input impedance of the receiver circuit 42 as viewed from the transmission path 45. The second impedance adjustment circuit 109 reduces the input impedance of the receiver circuit 42 as viewed from the transmission path 46. As the input impedance is reduced in the above-described manner, the charge/discharge time for the parasitic capacitance can be reduced. This makes it possible to increase the rate of signal transmission.</li></ol></p><heading id="h0011">Fourth Embodiment</heading><p id="p0068" num="0068"><figref idrefs="f0012">FIG. 12</figref> shows another exemplary configuration of the receiver circuit 44 shown in <figref idrefs="f0004">FIG. 4</figref>.</p><p id="p0069" num="0069">A great difference between the receiver circuit 44 shown in <figref idrefs="f0012">FIG. 12</figref> and the receiver circuit shown in <figref idrefs="f0010">FIG. 10</figref> is that the former includes a first impedance adjustment circuit 115 and a second impedance adjustment circuit 116. The first impedance adjustment circuit 115 is used to adjust the input impedance of the receiver circuit 44 as viewed from the first transmission path 47. The second impedance adjustment circuit 116 is used to adjust the input impedance of the receiver circuit 44 as viewed from the second transmission path 48.</p><p id="p0070" num="0070">The first impedance adjustment circuit 115 includes a bipolar transistor Q40 and a first feedback circuit FB1. The bipolar transistor Q40 is of an npn type and disposed between the bipolar transistor Q28 and the bipolar transistor Q24. The first feedback circuit FB1 controls the operation of the bipolar transistor Q40.<!-- EPO <DP n="29"> --> The first feedback circuit FB1 controls the operation of the bipolar transistor Q40 in accordance with the voltage at a series-coupled node 117 between the bipolar transistor Q28 and the bipolar transistor Q40.</p><p id="p0071" num="0071">The first feedback circuit FB1 includes bipolar transistors Q42, Q44, Q46. Each of the bipolar transistors Q42, Q44, Q46 is of a pnp type. The emitter electrode of the bipolar transistor Q46 is coupled to the constant voltage Vreg terminal through the diode-coupled bipolar transistor Q44. The collector electrode of the bipolar transistor Q46 is coupled to the ground GND. The voltage at the series-coupled node 117 between the bipolar transistor Q28 and the bipolar transistor Q40 is supplied to the base electrode of the bipolar transistor Q46. The voltage at the emitter electrode of the bipolar transistor Q46 is transmitted to the base electrode of the bipolar transistor Q42. The collector electrode of the bipolar transistor Q42 is coupled to a constant current source 119 through diodes D5, D7, which are mutually series-coupled. The emitter electrode of the bipolar transistor Q42 is coupled to the constant voltage Vreg terminal. The voltage at the collector electrode of the bipolar transistor Q42 is transmitted to the base electrode of the bipolar transistor Q40. As the above-described configuration is employed, the bipolar transistor Q40 is feedback controlled in accordance with the level of the voltage at the series-coupled node 117 between the bipolar transistor Q28 and the bipolar transistor Q40 to reduce the input impedance of the receiver circuit 44 as viewed from the transmission path 47. Hence, the charge/discharge time for the parasitic capacitance near the series-coupled node 117 between the bipolar transistor Q28 and the bipolar transistor Q40 can be reduced. This makes it possible to increase the rate of signal transmission through the transmission path 47.</p><p id="p0072" num="0072">The second impedance adjustment circuit 116 includes a bipolar transistor Q41 and a second feedback circuit FB2. The bipolar transistor Q41 is of an npn type and disposed between the bipolar transistor Q29 and the bipolar transistor Q27. The second<!-- EPO <DP n="30"> --> feedback circuit FB2 controls the operation of the bipolar transistor Q41. The second feedback circuit FB2 controls the operation of the bipolar transistor Q41 in accordance with the voltage at a series-coupled node 118 between the bipolar transistor Q29 and the bipolar transistor Q41.</p><p id="p0073" num="0073">The second feedback circuit FB2 includes bipolar transistors Q43, Q45, Q47. Each of the bipolar transistors Q43, Q45, Q47 is of a pnp type. The emitter electrode of the bipolar transistor Q47 is coupled to the constant voltage Vreg terminal through the diode-coupled bipolar transistor Q45. The collector electrode of the bipolar transistor Q47 is coupled to the ground GND. The voltage at the series-coupled node 118 between the bipolar transistor Q29 and the bipolar transistor Q41 is supplied to the base electrode of the bipolar transistor Q47. The voltage at the emitter electrode of the bipolar transistor Q47 is transmitted to the base electrode of the bipolar transistor Q43. The collector electrode of the bipolar transistor Q43 is coupled to a constant current source 120 through diodes D6, D8, which are mutually series-coupled. The emitter electrode of the bipolar transistor Q43 is coupled to the constant voltage Vreg terminal. The voltage at the collector electrode of the bipolar transistor Q43 is transmitted to the base electrode of the bipolar transistor Q41. As the above-described configuration is employed, the bipolar transistor Q41 is feedback controlled in accordance with the level of the voltage at the series-coupled node 118 between the bipolar transistor Q29 and the bipolar transistor Q41 to reduce the input impedance of the receiver circuit 44 as viewed from the transmission path 48. Hence, the charge/discharge time for the parasitic capacitance near the series-coupled node 118 between the bipolar transistor Q29 and the bipolar transistor Q41 can be reduced. This makes it possible to increase the rate of signal transmission through the transmission path 48.</p><p id="p0074" num="0074">Operational advantages provided by the fourth embodiment are described below.<!-- EPO <DP n="31"> -->
<ol><li>(1) The receiver circuit 44 includes the first compensation circuit 95 and the second compensation circuit 96, which compensate for the attenuation of a current when common mode noise is superimposed on the first signal and on the second signal. Therefore, the receiver circuit 44 can compensate for the attenuation caused by the common mode noise and obtain a good signal level, as is the case with the receiver circuit shown in <figref idrefs="f0010">FIG. 10</figref>.</li><li>(2) The first impedance adjustment circuit 115 reduces the input impedance of the receiver circuit 44 as viewed from the transmission path 47. The second impedance adjustment circuit 116 reduces the input impedance of the receiver circuit 44 as viewed from the transmission path 48. As the input impedance is reduced in the above-described manner, the charge/discharge time for the parasitic capacitance can be reduced. This makes it possible to increase the rate of signal transmission.</li></ol></p><heading id="h0012">Fifth Embodiment</heading><p id="p0075" num="0075"><figref idrefs="f0013">FIG. 13</figref> shows another exemplary configuration of the receiver circuit 42 shown in <figref idrefs="f0003">FIG. 3</figref>.</p><p id="p0076" num="0076">The receiver circuit 42 includes bipolar transistors Q50 to Q60, resistors R11, R12, and the comparator 91. The bipolar transistors Q50, Q51, Q52, Q55, Q56 are of an npn type. The bipolar transistors Q53, Q54, Q57, Q58, Q59, Q60 are of a pnp type.</p><p id="p0077" num="0077">The transmission path 45 is coupled to the base electrode of the bipolar transistor Q53 so that the current A flows through the base electrode of the bipolar transistor Q53. The transmission path 46 is coupled to the base electrode of the bipolar transistor Q54 so that the current B flows through the base electrode of the bipolar transistor Q54. The emitter electrode of the bipolar transistor Q53 and the emitter electrode of the bipolar transistor Q54 are commonly coupled to the bipolar transistor Q52. The constant voltage Vreg is supplied to the collector electrode of the bipolar transistor Q52. A predetermined bias voltage is supplied to the base electrode of<!-- EPO <DP n="32"> --> the bipolar transistor Q52. This bias voltage is formed by the bipolar transistors Q50, Q51, which are coupled to a constant current source 200. The bipolar transistors Q50, Q51 are respectively diode-coupled. The collector electrode of the bipolar transistor Q53 is coupled to the ground GND through the resistor R11. The collector electrode of the bipolar transistor Q54 is coupled to the ground GND through the resistor R12. The comparator 91 compares the terminal voltage of the resistor R11 to the terminal voltage of the resistor R12. The result of the comparison made by the comparator 91 is used as a received signal that is received by the receiver circuit 42 during differential communication.</p><p id="p0078" num="0078">Further, the receiver circuit 42 includes the first compensation circuit 95 and the second compensation circuit 96, which compensate for the attenuation of a current when common mode noise is superimposed on the first signal in the transmission path 45 and on the second signal in the transmission path 46.</p><p id="p0079" num="0079">The first compensation circuit 95 includes the bipolar transistors Q55, Q57, Q58. The bipolar transistor Q55 amplifies a current that flows in a direction opposite to the direction in which the first signal flows due to the common mode noise superimposed on the first signal in the transmission path 45. The base electrode of the bipolar transistor Q55 is coupled to the transmission path 45. The emitter electrode of the bipolar transistor Q56 is coupled to the ground GND. The bipolar transistor Q57 is coupled to the collector electrode of the bipolar transistor Q55. The bipolar transistor Q57 is handled as a load on the bipolar transistor Q55. The bipolar transistor Q58 is current-mirror coupled to the bipolar transistor Q57. A current flowing to the collector electrode of the bipolar transistor Q58 is added to the second signal, which is to be input to the comparator 91. In other words, the current D' flowing in the resistor R12 is the sum of the current D and the current C2.</p><p id="p0080" num="0080">The second compensation circuit 96 includes the bipolar transistors Q56, Q59, Q60. The bipolar transistor Q56 amplifies a current that flows in a direction opposite to the direction in which<!-- EPO <DP n="33"> --> the second signal flows due to the common mode noise superimposed on the second signal in the transmission path 46. The base electrode of the bipolar transistor Q56 is coupled to the transmission path 45. The emitter electrode of the bipolar transistor Q56 is coupled to the ground GND. The bipolar transistor Q60 is coupled to the collector electrode of the bipolar transistor Q56. The bipolar transistor Q60 is handled as a load on the bipolar transistor Q56. The bipolar transistor Q59 is current-mirror coupled to the bipolar transistor Q60. A current flowing to the collector electrode of the bipolar transistor Q59 is added to the second signal, which is to be input to the comparator 91. In other words, the current D2 is added to the current C so that the current C' flowing in the resistor R11 is the sum of the current C and the current D2.</p><p id="p0081" num="0081">Operational advantages provided by the fifth embodiment are described below.
<ol><li>(1) The receiver circuit 42 includes the first compensation circuit 95 and the second compensation circuit 96, which compensate for the attenuation of a current when common mode noise is superimposed on the first signal and on the second signal. Therefore, the receiver circuit 42 can compensate for the attenuation caused by the common mode noise and obtain a good signal level, as is the case with the receiver circuit shown in <figref idrefs="f0009">FIG. 9</figref>.</li><li>(2) The collector current of the bipolar transistor Q53 (current C) is obtained by multiplying the base current of the bipolar transistor Q53 (current A) by the DC current amplification factor (hfe) of the bipolar transistor Q53. The collector current of the bipolar transistor Q54 (current D) is obtained by multiplying the base current of the bipolar transistor Q54 (current B) by the hfe of the bipolar transistor Q54. Even when the current INp in the transmission path 45 and the current INn in the transmission path 46 are small, an adequate signal current flows in the circuit as far as the current is amplified by the bipolar transistors Q53, Q54 after signal reception as described above. Consequently, the rate of transmission can be increased.<!-- EPO <DP n="34"> --></li><li>(3) In the first compensation circuit 95 and in the second compensation circuit 96, the current of the input signal is amplified by the bipolar transistors Q55, Q56, respectively. This current amplification is performed in response to the current amplification by the bipolar transistors Q53, Q54. Consequently, the attenuation of a current can be accurately compensated for when common mode noise is superimposed on the first signal and on the second signal.</li></ol></p><heading id="h0013">Sixth Embodiment</heading><p id="p0082" num="0082"><figref idrefs="f0014">FIG. 14</figref> shows another exemplary configuration of the receiver circuit 44 shown in <figref idrefs="f0004">FIG. 4</figref>.</p><p id="p0083" num="0083">The receiver circuit 44 includes bipolar transistors Q70 to Q80, resistors R13, R14, and the comparator 103. The bipolar transistors Q70, Q71, Q72, Q75, Q76 are of a pnp type. The bipolar transistors Q73, Q74, Q77, Q78, Q79, Q80 are of an npn type.</p><p id="p0084" num="0084">The transmission path 47 is coupled to the base electrode of the bipolar transistor Q73 so that the current A flows through the base electrode of the bipolar transistor Q73. The transmission path 48 is coupled to the base electrode of the bipolar transistor Q74 so that the current B flows through the base electrode of the bipolar transistor Q74. The emitter electrode of the bipolar transistor Q73 and the emitter electrode of the bipolar transistor Q74 are commonly coupled to the bipolar transistor Q72. The collector electrode of the bipolar transistor Q72 is coupled to the ground GND. A predetermined bias voltage is supplied to the base electrode of the bipolar transistor Q72. This bias voltage is formed by the bipolar transistors Q70, Q71, which are coupled to a constant current source 201. The bipolar transistors Q70, Q71 are respectively diode-coupled. The collector electrode of the bipolar transistor Q73 is coupled to the constant voltage Vreg terminal through the resistor R13. The collector electrode of the bipolar transistor Q74 is coupled to the constant voltage Vreg terminal through the resistor<!-- EPO <DP n="35"> --> R14. The comparator 91 compares the collector voltage of the bipolar transistor Q73 to the collector voltage of the bipolar transistor Q74. The result of the comparison made by the comparator 91 is used as a received signal that is received by the receiver circuit 44 during differential communication.</p><p id="p0085" num="0085">Further, the receiver circuit 44 includes the first compensation circuit 95 and the second compensation circuit 96, which compensate for the attenuation of a current when common mode noise is superimposed on the first signal in the transmission path 47 and on the second signal in the transmission path 48.</p><p id="p0086" num="0086">The first compensation circuit 95 includes the bipolar transistors Q75, Q77, Q78. The bipolar transistor Q75 amplifies a current that flows in a direction opposite to the direction in which the first signal flows due to the common mode noise superimposed on the first signal in the transmission path 47. The base electrode of the bipolar transistor Q75 is coupled to the transmission path 47. The emitter electrode of the bipolar transistor Q75 is coupled to the constant voltage Vreg terminal. The bipolar transistor Q77 is coupled to the collector electrode of the bipolar transistor Q75. The bipolar transistor Q77 is handled as a load on the bipolar transistor Q75. The bipolar transistor Q78 is current-mirror coupled to the bipolar transistor Q77. A current flowing to the collector electrode of the bipolar transistor Q78 is added to the second signal, which is to be input to the comparator 91. In other words, the current (current D') flowing in the resistor R14 is the sum of the current D and the current C2.</p><p id="p0087" num="0087">The second compensation circuit 96 includes the bipolar transistors Q76, Q79, Q80. The bipolar transistor Q76 amplifies a current that flows in a direction opposite to the direction in which the second signal flows due to the common mode noise superimposed on the second signal in the transmission path 48. The base electrode of the bipolar transistor Q76 is coupled to the transmission path 48. The emitter electrode of the bipolar transistor Q76 is coupled to the constant voltage Vreg terminal. The bipolar transistor Q80 is<!-- EPO <DP n="36"> --> coupled to the collector electrode of the bipolar transistor Q76. The bipolar transistor Q80 is handled as a load on the bipolar transistor Q76. The bipolar transistor Q79 is current-mirror coupled to the bipolar transistor Q80. A current flowing to the collector electrode of the bipolar transistor Q79 is added to the second signal, which is to be input to the comparator 103. In other words, the current (current C') flowing in the resistor R13 is the sum of the current C and the current D2.</p><p id="p0088" num="0088">Operational advantages provided by the sixth embodiment are described below.
<ol><li>(1) The receiver circuit 44 includes the first compensation circuit 95 and the second compensation circuit 96, which compensate for the attenuation of a current when common mode noise is superimposed on the first signal and on the second signal. Therefore, the receiver circuit 44 can compensate for the attenuation caused by the common mode noise and obtain a good signal level, as is the case with the receiver circuit shown in <figref idrefs="f0010">FIG. 10</figref>.</li><li>(2) The collector current of the bipolar transistor Q73 (current C) is obtained by multiplying the base current of the bipolar transistor Q73 (current A) by the hfe of the bipolar transistor Q73. The collector current of the bipolar transistor Q74 (current D) is obtained by multiplying the base current of the bipolar transistor Q74 (current B) by the hfe of the bipolar transistor Q74. Even when the current INp in the transmission path 47 and the current INn in the transmission path 48 are small, an adequate signal current flows in the circuit as far as the current is amplified by the bipolar transistors Q73, Q74 after signal reception as described above. Consequently, the rate of transmission can be increased.</li><li>(3) In the first compensation circuit 95 and in the second compensation circuit 96, the current of the input signal is amplified by the bipolar transistors Q75, Q76, respectively. This current amplification is performed in response to the current amplification by the bipolar transistors Q73, Q74. Consequently,<!-- EPO <DP n="37"> --> the attenuation of a current can be accurately compensated for when common mode noise is superimposed on the first signal and on the second signal.</li></ol></p><heading id="h0014">Seventh Embodiment</heading><p id="p0089" num="0089"><figref idrefs="f0015">FIG. 15</figref> shows another exemplary configuration of the receiver circuit 44 shown in <figref idrefs="f0010">FIG. 10</figref>. Elements identical with those shown in <figref idrefs="f0010">FIG. 10</figref> are designated by the same reference numerals as the corresponding elements.</p><p id="p0090" num="0090">The speed of communication between the transmitter circuit 43 and the receiver circuit 44 can be increased by reducing the voltage amplitude of an input signal for the input stage of the receiver circuit 44. Studies conducted by the inventors of the present invention have revealed that when, in the receiver circuit 44 shown in <figref idrefs="f0010">FIG. 10</figref>, a transition occurs from a state where a current flows in the bipolar transistor Q24 to a state where a current flows in the bipolar transistor Q28, the voltage amplitude of the first signal is likely to increase due to the common mode noise Ncom. This also holds true for the second signal. When a transition occurs from a state where a current flows in the bipolar transistor Q27 to a state where a current flows in the bipolar transistor Q29, the voltage amplitude of the second signal is likely to increase.</p><p id="p0091" num="0091">To address the above problem, the receiver circuit 44 shown in <figref idrefs="f0015">FIG. 15</figref> uses a method of feeding back the base voltage. The use of such a base voltage feedback method makes it possible to decrease the voltage amplitude of the input stage.</p><p id="p0092" num="0092">Referring to <figref idrefs="f0015">FIG. 15</figref>, the first compensation circuit 95 includes p-channel MOS transistors Q100, Q101, whereas the second compensation circuit 95 includes p-channel MOS transistors Q102, Q103. Pnp bipolar transistor Q110, P-channel MOS transistors Q113, Q115, Q118 are included so that the emitter voltage of the pnp bipolar transistors Q28, Q29 is set or fixed to the voltage at the drain electrode of the p-channel MOS transistor Q115 when no current<!-- EPO <DP n="38"> --> flows in the p-channel MOS transistors Q100, Q103. No high voltage is applied to the pnp bipolar transistors Q28, Q29 because p-channel MOS transistors Q106, Q107, Q108 are included. The reference numerals 202 to 205 denote a constant current source.</p><p id="p0093" num="0093">P-channel MOS transistors Q112, Q111, Q116, Q117 are included to stabilize a communication current by feeding back the base voltage. In other words, the common mode noise is superimposed so that the potential of the emitter electrode of the pnp bipolar transistor Q110 is set or fixed to the lower potential of the voltages at the emitter electrodes of pnp bipolar transistors Q28, Q29 when the communication current flows in the p-channel MOS transistor Q100 or Q103. The above-described configuration is a base voltage feedback configuration.</p><p id="p0094" num="0094">Even when a current flows in the p-channel MOS transistor Q100 or Q103 and the drain voltage of the p-channel MOS transistor Q100 or Q103 is decreased, the use of the above-described configuration ensures that the base potentials of the pnp bipolar transistors Q28, Q29 decrease with a decrease in the drain voltage of the p-channel MOS transistor Q100 or Q103. Consequently, the voltage amplitude of an input terminal can be reduced to increase the speed of communication.</p><p id="p0095" num="0095">Even when the base voltage is fed back as described above, the common mode noise may cause the attenuation of a current. However, as the first compensation circuit 95 and the second compensation circuit 96 are included, the above-described configuration can compensate for the attenuation caused by the common mode noise and obtain a good signal level, as is the case with the configuration shown in <figref idrefs="f0010">FIG. 10</figref>.</p><p id="p0096" num="0096">However, when the above-described feedback configuration is employed, the circuit configuration shown in <figref idrefs="f0010">FIG. 10</figref> may decrease the amount of signal attenuation. For example, the common mode noise may cause a current to flow in the p-channel MOS transistor Q100, thereby decreasing the base potential of the pnp bipolar transistor Q29. The base-emitter voltage of the pnp bipolar<!-- EPO <DP n="39"> --> transistors Q29 and the gate-source voltage of the p-channel MOS transistor Q103 then increase to increase the current of the pnp bipolar transistor Q29 and the p-channel MOS transistor Q103, , thereby causing a current to flow in such a manner as to suppress the attenuation of a signal. Hence, the amount of signal attenuation decreases. As such being the case, the current mirror ratios of the p-channel MOS transistors Q100, Q101, Q102, Q103 are set to appropriate values in order to perform proper compensation setup for the amount of signal attenuation.</p><p id="p0097" num="0097">The source voltage of the p-channel MOS transistor Q109 can be effectively stabilized at the time of current changeover by coupling the source voltage of the p-channel MOS transistor Q109 to the bases of the pnp bipolar transistors Q28, Q29. Noise can be offset more easily than when the source voltage of the p-channel MOS transistor Q109 is not coupled to the bases of the pnp bipolar transistors Q28, Q29.</p><p id="p0098" num="0098">A comparison between the feedback method shown in <figref idrefs="f0015">FIG. 15</figref> and the feedback method shown in <figref idrefs="f0012">FIG. 12</figref> reveals that when the frequency of common mode noise is low, the feedback method shown in <figref idrefs="f0015">FIG. 15</figref> works more effectively than the feedback method shown in <figref idrefs="f0012">FIG. 12</figref> even if a feedback band frequency is low.</p><p id="p0099" num="0099">While the present invention contemplated by its inventors has been described in detail in terms of preferred embodiments, it is to be understood that the present invention is not limited to those preferred embodiments, but extends to various modifications that nevertheless fall within the spirit and scope of the appended claims.</p><p id="p0100" num="0100">The reference level Dlange for a current can be set to any value other than 0 amperes.</p></description><claims mxw-id="PCLM56976265" lang="EN" load-source="patent-office"><!-- EPO <DP n="40"> --><claim id="c-en-0001" num="0001"><claim-text>A communication circuit comprising:
<claim-text>a receiver circuit that provides differential communication by using a first transmission path and a second transmission path, the first transmission path being used to transmit a first signal, the second transmission path being used to transmit a second signal, the second signal being in opposite phase to the first signal;</claim-text>
<claim-text>wherein the receiver circuit includes</claim-text>
<claim-text>a compensation circuit that compensates for the attenuation of a current when common mode noise is superimposed on the first signal and on the second signal,</claim-text>
<claim-text>wherein the compensation circuit includes</claim-text>
<claim-text>a first compensation circuit, and</claim-text>
<claim-text>a second compensation circuit,</claim-text>
<claim-text>wherein the first compensation circuit detects an electric current attenuation of the first signal when the common mode noise is superimposed on the first signal, and compensates for the attenuation of the first signal by adding the detected electric current attenuation to the second signal, and</claim-text>
<claim-text>wherein the second compensation circuit detects an electric current attenuation of the second signal when the common mode noise is superimposed on the second signal, and compensates for the attenuation of the second signal by adding the detected electric current attenuation to the first signal.</claim-text></claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>The communication circuit according to claim 1, wherein the receiver circuit further includes:
<claim-text>a first transistor that acquires the first signal;</claim-text>
<claim-text>a second transistor that acquires the second signal; and</claim-text>
<claim-text>a comparator that compares the first signal, which is transmitted through the first transistor, to the second signal, which is transmitted through the second transistor.</claim-text><!-- EPO <DP n="41"> --></claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>The communication circuit according to claim 2,<br/>
wherein the first compensation circuit includes:
<claim-text>a third transistor that is cascade-coupled to the first transistor; and</claim-text>
<claim-text>a fourth transistor that is current-mirror coupled to the third transistor to acquire the current to be added to the second signal; and</claim-text>
wherein the second compensation circuit includes:
<claim-text>a fifth transistor that is cascade-coupled to the second transistor, and</claim-text>
<claim-text>a sixth transistor that is current-mirror coupled to the fifth transistor to acquire the current to be added to the first signal.</claim-text></claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>The communication circuit according to claim 3,<br/>
wherein the fourth transistor is coupled so that a current flowing in the fourth transistor is added to the second signal before the comparator makes a comparison; and wherein the sixth transistor is coupled so that a current flowing in the sixth transistor is added to the first signal before the comparator makes a comparison.</claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>The communication circuit according to claim 4, further comprising:
<claim-text>a first impedance adjustment circuit that adjusts the input impedance of the receiver circuit as viewed from the first transmission path, and</claim-text>
<claim-text>a second impedance adjustment circuit that adjusts the input impedance of the receiver circuit as viewed from the second transmission path.</claim-text></claim-text></claim><claim id="c-en-0006" num="0006"><claim-text>The communication circuit according to claim 5,<br/>
wherein the first impedance adjustment circuit includes:<!-- EPO <DP n="42"> -->
<claim-text>a seventh transistor that is disposed between the first transistor and the second transistor; and</claim-text>
<claim-text>a first feedback circuit that controls the operation of the seventh transistor in accordance with the voltage at a series-coupled node between the first transistor and the seventh transistor; and</claim-text>
<claim-text>wherein the second impedance adjustment circuit includes</claim-text>
<claim-text>an eighth transistor that is disposed between the fourth transistor and the fifth transistor, and</claim-text>
<claim-text>a second feedback circuit that controls the operation of the eighth transistor in accordance with the voltage at a series-coupled node between the fourth transistor and the eighth transistor.</claim-text></claim-text></claim><claim id="c-en-0007" num="0007"><claim-text>The communication circuit according to claim 1, wherein the receiver circuit includes:
<claim-text>a ninth transistor that amplifies the first signal;</claim-text>
<claim-text>a tenth transistor that amplifies the second signal, and</claim-text>
<claim-text>a comparator that compares the output of the ninth transistor to the output of the tenth transistor.</claim-text></claim-text></claim><claim id="c-en-0008" num="0008"><claim-text>The communication circuit according to claim 7,<br/>
wherein the first compensation circuit includes:
<claim-text>an eleventh transistor that amplifies a current flowing in a direction opposite to the direction in which the first signal flows due to the common mode noise superimposed on the first signal;</claim-text>
<claim-text>a twelfth transistor (Q57) that forms a load on the eleventh transistor; and</claim-text>
<claim-text>a thirteenth transistor that is current-mirror coupled to the twelfth transistor to acquire the current to be added to the second signal before the comparator makes a comparison; and</claim-text>
<claim-text>wherein the second compensation circuit includes</claim-text>
<claim-text>a fourteenth transistor that amplifies a current flowing in a direction opposite to the direction in which the second signal flows due to the common mode noise superimposed on the second signal;<!-- EPO <DP n="43"> --></claim-text>
<claim-text>a fifteenth transistor that forms a load on the fourteenth transistor, and</claim-text>
<claim-text>a sixteenth transistor that is current-mirror coupled to the fifteenth transistor to acquire the current to be added to the first signal before the comparator makes a comparison.</claim-text></claim-text></claim><claim id="c-en-0009" num="0009"><claim-text>The communication circuit according to claim 8,<br/>
wherein the thirteenth transistor is coupled so that a current flowing in the thirteenth transistor is added to the second signal before the comparator makes a comparison, and wherein the sixteenth transistor is coupled so that a current flowing in the sixteenth transistor is added to the first signal before the comparator makes a comparison.</claim-text></claim><claim id="c-en-0010" num="0010"><claim-text>A semiconductor device comprising:
<claim-text>a voltage measurement function section that measures the voltage of an assembled battery obtained by series-coupling a plurality of unit cells; and</claim-text>
<claim-text>a communication function section that is capable of communicating a voltage measurement result produced by the voltage measurement function section;</claim-text>
<claim-text>wherein the communication function section includes a communication circuit according to any of claims 1 to 9.</claim-text></claim-text></claim></claims><drawings mxw-id="PDW16667046" load-source="patent-office"><!-- EPO <DP n="44"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="157" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="45"> --><figure id="f0002" num="2"><img id="if0002" file="imgf0002.tif" wi="165" he="222" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="46"> --><figure id="f0003" num="3"><img id="if0003" file="imgf0003.tif" wi="165" he="222" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="47"> --><figure id="f0004" num="4"><img id="if0004" file="imgf0004.tif" wi="165" he="222" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="48"> --><figure id="f0005" num="5"><img id="if0005" file="imgf0005.tif" wi="165" he="222" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="49"> --><figure id="f0006" num="6"><img id="if0006" file="imgf0006.tif" wi="165" he="222" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="50"> --><figure id="f0007" num="7"><img id="if0007" file="imgf0007.tif" wi="165" he="222" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="51"> --><figure id="f0008" num="8"><img id="if0008" file="imgf0008.tif" wi="165" he="222" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="52"> --><figure id="f0009" num="9"><img id="if0009" file="imgf0009.tif" wi="165" he="222" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="53"> --><figure id="f0010" num="10"><img id="if0010" file="imgf0010.tif" wi="165" he="222" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="54"> --><figure id="f0011" num="11"><img id="if0011" file="imgf0011.tif" wi="165" he="222" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="55"> --><figure id="f0012" num="12"><img id="if0012" file="imgf0012.tif" wi="165" he="222" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="56"> --><figure id="f0013" num="13"><img id="if0013" file="imgf0013.tif" wi="165" he="222" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="57"> --><figure id="f0014" num="14"><img id="if0014" file="imgf0014.tif" wi="165" he="222" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="58"> --><figure id="f0015" num="15"><img id="if0015" file="imgf0015.tif" wi="162" he="233" img-content="drawing" img-format="tif"/></figure></drawings><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
