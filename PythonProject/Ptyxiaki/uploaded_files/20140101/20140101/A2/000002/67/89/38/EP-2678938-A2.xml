<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2678938-A2" country="EP" doc-number="2678938" kind="A2" date="20140101" family-id="46718513" file-reference-id="292742" date-produced="20180823" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146550559" ucid="EP-2678938-A2"><document-id><country>EP</country><doc-number>2678938</doc-number><kind>A2</kind><date>20140101</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-12750169-A" is-representative="NO"><document-id mxw-id="PAPP154824482" load-source="docdb" format="epo"><country>EP</country><doc-number>12750169</doc-number><kind>A</kind><date>20120221</date><lang>EN</lang></document-id><document-id mxw-id="PAPP196399956" load-source="docdb" format="original"><country>EP</country><doc-number>12750169.0</doc-number><date>20120221</date><lang>EN</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140448209" ucid="US-201113169495-A" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>201113169495</doc-number><kind>A</kind><date>20110627</date></document-id></priority-claim><priority-claim mxw-id="PPC140449349" ucid="US-201161446115-P" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>201161446115</doc-number><kind>P</kind><date>20110224</date></document-id></priority-claim><priority-claim mxw-id="PPC140453412" ucid="US-2012025846-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>2012025846</doc-number><kind>W</kind><date>20120221</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1988116980" load-source="docdb">H02P   6/16        20060101AFI20120913BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1919306335" load-source="docdb" scheme="CPC">H02P   6/20        20130101 LI20160711BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1919312341" load-source="docdb" scheme="CPC">H02P  21/145       20130101 FI20130101BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1976553818" load-source="docdb" scheme="CPC">H02P  21/16        20160201 LI20160202BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132184161" lang="DE" load-source="patent-office">VERFAHREN UND SYSTEM ZUR BESTIMMUNG DER POSITION EINES ROTORS EINES ELEKTROMOTORS MIT RAUSCHVERMINDERUNG</invention-title><invention-title mxw-id="PT132184162" lang="EN" load-source="patent-office">METHOD AND SYSTEM FOR DETERMINING A POSITION OF A ROTOR OF AN ELECTRIC MOTOR WITH NOISE REDUCTION</invention-title><invention-title mxw-id="PT132184163" lang="FR" load-source="patent-office">PROCÉDÉ ET SYSTÈME DESTINÉS À DÉTERMINER LA POSITION DU ROTOR D'UN MOTEUR ÉLECTRIQUE À RÉDUCTION DE BRUIT</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR918170739" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>DEERE &amp; CO</last-name><address><country>US</country></address></addressbook></applicant><applicant mxw-id="PPAR918141320" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>DEERE &amp; COMPANY</last-name></addressbook></applicant><applicant mxw-id="PPAR918980024" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Deere &amp; Company</last-name><iid>101150216</iid><address><street>One John Deere Place</street><city>Moline, IL 61265</city><country>US</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR918149466" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>WU LONG</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR918169144" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>WU, LONG</last-name></addressbook></inventor><inventor mxw-id="PPAR918990646" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>WU, LONG</last-name><address><street>2824 37th Avenue South</street><city>Fargo, ND 58104</city><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR918137986" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>SHAW ROBERT</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR918137654" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>SHAW, ROBERT</last-name></addressbook></inventor><inventor mxw-id="PPAR918993983" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>SHAW, ROBERT</last-name><address><street>1622 42nd Avenue South</street><city>Moorhead, MN 56560</city><country>US</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR918981319" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Holst, Sönke</last-name><iid>101371590</iid><address><street>John Deere GmbH &amp; Co. KG Mannheim Regional Center Global Intellectual Property Services John-Deere-Strasse 70</street><city>68163 Mannheim</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="US-2012025846-W"><document-id><country>US</country><doc-number>2012025846</doc-number><kind>W</kind><date>20120221</date><lang>EN</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2012115918-A2"><document-id><country>WO</country><doc-number>2012115918</doc-number><kind>A2</kind><date>20120830</date><lang>EN</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS548894798" load-source="docdb">AL</country><country mxw-id="DS548859288" load-source="docdb">AT</country><country mxw-id="DS548812060" load-source="docdb">BE</country><country mxw-id="DS548909225" load-source="docdb">BG</country><country mxw-id="DS548919163" load-source="docdb">CH</country><country mxw-id="DS548812061" load-source="docdb">CY</country><country mxw-id="DS548859289" load-source="docdb">CZ</country><country mxw-id="DS548894800" load-source="docdb">DE</country><country mxw-id="DS548812062" load-source="docdb">DK</country><country mxw-id="DS548812063" load-source="docdb">EE</country><country mxw-id="DS548911952" load-source="docdb">ES</country><country mxw-id="DS548909230" load-source="docdb">FI</country><country mxw-id="DS548919164" load-source="docdb">FR</country><country mxw-id="DS548894801" load-source="docdb">GB</country><country mxw-id="DS548812064" load-source="docdb">GR</country><country mxw-id="DS548894802" load-source="docdb">HR</country><country mxw-id="DS548859290" load-source="docdb">HU</country><country mxw-id="DS548919165" load-source="docdb">IE</country><country mxw-id="DS548812065" load-source="docdb">IS</country><country mxw-id="DS548909231" load-source="docdb">IT</country><country mxw-id="DS548812066" load-source="docdb">LI</country><country mxw-id="DS548909232" load-source="docdb">LT</country><country mxw-id="DS548913220" load-source="docdb">LU</country><country mxw-id="DS548909233" load-source="docdb">LV</country><country mxw-id="DS548909238" load-source="docdb">MC</country><country mxw-id="DS548913221" load-source="docdb">MK</country><country mxw-id="DS548913222" load-source="docdb">MT</country><country mxw-id="DS548911953" load-source="docdb">NL</country><country mxw-id="DS548831870" load-source="docdb">NO</country><country mxw-id="DS548911958" load-source="docdb">PL</country><country mxw-id="DS548909239" load-source="docdb">PT</country><country mxw-id="DS548859291" load-source="docdb">RO</country><country mxw-id="DS548909240" load-source="docdb">RS</country><country mxw-id="DS548911959" load-source="docdb">SE</country><country mxw-id="DS548919166" load-source="docdb">SI</country><country mxw-id="DS548831871" load-source="docdb">SK</country><country mxw-id="DS548831872" load-source="docdb">SM</country><country mxw-id="DS548913223" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data><office-specific-data><eptags><ep-no-a-document-published>*</ep-no-a-document-published></eptags></office-specific-data></bibliographic-data><abstract mxw-id="PA99619528" ref-ucid="WO-2012115918-A2" lang="EN" load-source="patent-office"><p num="0000">A data storage device stores previous position readings of the rotor for a previous cycle of a pulse width modulation signal applied to the motor (S300). A current raw position reading for the current cycle is received (S302). A predicted position reading for a current cycle is determined based on at least one of the stored previous position readings of the previous cycle (S304). A data processor determines whether a difference between the current raw position reading and the predicted position reading for a first mode and a second mode is within one or more preset thresholds (S306, S307). The data processor selects the current raw position reading as a verified reliable final position reading if a first difference for the first mode is equal to or less than a primary preset threshold or if a second difference for the second mode is equal to or less than a secondary preset threshold (S308).</p></abstract><abstract mxw-id="PA99819209" ref-ucid="WO-2012115918-A2" lang="EN" source="national office" load-source="docdb"><p>A data storage device stores previous position readings of the rotor for a previous cycle of a pulse width modulation signal applied to the motor (S300). A current raw position reading for the current cycle is received (S302). A predicted position reading for a current cycle is determined based on at least one of the stored previous position readings of the previous cycle (S304). A data processor determines whether a difference between the current raw position reading and the predicted position reading for a first mode and a second mode is within one or more preset thresholds (S306, S307). The data processor selects the current raw position reading as a verified reliable final position reading if a first difference for the first mode is equal to or less than a primary preset threshold or if a second difference for the second mode is equal to or less than a secondary preset threshold (S308).</p></abstract><abstract mxw-id="PA99619529" ref-ucid="WO-2012115918-A2" lang="FR" load-source="patent-office"><p num="0000">Un dispositif de stockage de données stocke des indications de position préalables du rotor pour un cycle préalable d'un signal à modulation de largeur d'impulsions appliqué au moteur (S300). Une indication de position brute courante pour le cycle courant est reçue (S302). Une indication de position prévue pour un cycle courant est déterminée sur la base d'au moins une des indications de position préalable stockées lors du cycle préalable (S304). Un processeur de données détermine si une différence entre l'indication de position brute courante et l'indication de position prévue pour un premier et un second mode se situe dans un ou plusieurs seuils prédéfinis (S306, S307). Le processeur de données sélectionne l'indication de position brute courante en tant qu'indication de position finale fiable vérifiée si une première différence pour le premier mode est égale ou inférieure à un seuil primaire prédéfini ou si une seconde différence pour le second mode est égale ou inférieure à un seuil secondaire prédéfini (S308).</p></abstract><abstract mxw-id="PA99819210" ref-ucid="WO-2012115918-A2" lang="FR" source="national office" load-source="docdb"><p>Un dispositif de stockage de données stocke des indications de position préalables du rotor pour un cycle préalable d'un signal à modulation de largeur d'impulsions appliqué au moteur (S300). Une indication de position brute courante pour le cycle courant est reçue (S302). Une indication de position prévue pour un cycle courant est déterminée sur la base d'au moins une des indications de position préalable stockées lors du cycle préalable (S304). Un processeur de données détermine si une différence entre l'indication de position brute courante et l'indication de position prévue pour un premier et un second mode se situe dans un ou plusieurs seuils prédéfinis (S306, S307). Le processeur de données sélectionne l'indication de position brute courante en tant qu'indication de position finale fiable vérifiée si une première différence pour le premier mode est égale ou inférieure à un seuil primaire prédéfini ou si une seconde différence pour le second mode est égale ou inférieure à un seuil secondaire prédéfini (S308).</p></abstract><description mxw-id="PDES50930308" ref-ucid="WO-2012115918-A2" lang="EN" load-source="patent-office"><!-- EPO <DP n="3"/>--><p id="p0001" num="0001"> METHOD AND SYSTEM FOR DETERMINING A POSITION OF A ROTOR OF AN ELECTRIC MOTOR WITH NOISE REDUCTION </p><p id="p0002" num="0002">This document claims priority based on U.S. provisional application serial number 61/446,1 15, filed on 24 February 201 1 and entitled METHOD AND SYSTEM FOR DETERMINING A POSITION OF A ROTOR OF AN ELECTRIC MOTOR WITH NOISE REDUCTION, under 35 U.S.C. 1 19(e). </p><p id="p0003" num="0003">Field of the Invention </p><p id="p0004" num="0004"> This invention relates to a method and system for determining a position of a rotor in an electric motor with noise reduction. </p><p id="p0005" num="0005">Background of the Invention </p><p id="p0006" num="0006"> An electric motor may feature a rotor with permanent magnets and a stator, such as an interior permanent magnet (IPM) motor or an IPM synchronous motor. In accordance with certain prior art, a position sensor or resolver for determining a position of the rotor or motor shaft may be associated with noise that can interfere with or corrupt one or more position readings. If the resolver is not a brushless resolver, the noise may be generated at the electrical and mechanical interface of an armature or brushes of a resolver, for instance. Even brushless resolvers or other position sensors may be impacted by noise from numerous sources. For example, parasitic or transient motor electromagnetic fields may be induced into proximate electrical components of the sensor or the electronic hardware. In addition, the switching actions of power switches in the inverter, such as insulated gate bipolar transistors (IGBT), tend to introduce significant electromagnetic interference or noise to resolver position signal. Accordingly, to the extent that the noise contributes to an inaccurate position reading, the control signals applied to the motor tend to be inaccurate from time to time. Thus, there is a need for an improved method and system for determining a position of a rotor in an electric motor with noise reduction. </p><p id="p0007" num="0007">Summary of the Invention </p><p id="p0008" num="0008"> In accordance with one embodiment, a method and system is presented for determining a position of a rotor in an electric motor with noise reduction. A data 
<!-- EPO <DP n="4"/>-->
 storage device stores previous position readings of the rotor for a previous cycle of a pulse-width-modulation signal applied to the motor. A current raw position reading for the current cycle is received. A predicted position reading for a current cycle is determined based on at least one of the stored previous position readings of the previous cycle. The predicted position reading comprises the previous cycle final selected position for a first mode and the previous cycle raw position for a second mode. A processing module or data processor determines one or more of the following: (1 ) whether a first difference between the current raw position reading and the predicted position reading for the first mode is within a primary preset threshold and (2) whether a second difference between the current raw position reading and the predicted position reading for the second mode is within the secondary preset threshold. The processing module or the data processor selects the current raw position reading as a verified reliable final position reading for the current cycle if the difference for the first mode is equal to or less than the primary preset threshold or if the second difference for the second mode is equal to or less than the secondary preset threshold. Otherwise, in one illustrative example, the predicted position reading for the first mode will be selected as the final position for the current cycle. </p><p id="p0009" num="0009">Brief Description of the Drawings </p><p id="p0010" num="0010"> FIG. 1 is a block diagram of one embodiment of a system for controlling an electrical motor with noise reduction for position sensing. </p><p id="p0011" num="0011"> FIG. 2 is a block diagram of an electronic data processing system consistent with FIG. 1 . </p><p id="p0012" num="0012"> FIG. 3 is a flow chart of a first embodiment of a method for controlling an electrical motor with noise reduction for position sensing. </p><p id="p0013" num="0013"> FIG. 4 is a flow chart of a second embodiment of a method for controlling an electrical motor with noise reduction for position sensing. </p><p id="p0014" num="0014"> FIG. 5 is a flow chart of a third embodiment of a method for controlling an electrical motor with noise reduction for position sensing. </p><p id="p0015" num="0015"> FIG. 6 is a flow chart of a fourth embodiment of a method for controlling an electrical motor with noise reduction for position sensing. 
<!-- EPO <DP n="5"/>-->
 FIG. 7 is a flow chart of a third embodiment of a method for controlling an electrical motor with noise reduction for position sensing. </p><p id="p0016" num="0016"> FIG. 8 is a flow chart of a fourth embodiment of a method for controlling an electrical motor with noise reduction for position sensing. </p><p id="p0017" num="0017">Description of the Preferred Embodiment </p><p id="p0018" num="0018"> In accordance with one embodiment, FIG. 1 discloses system for controlling a motor 1 17 (e.g., an interior permanent magnet (IPM) motor) or another alternating current machine. In one embodiment, the system, aside from the motor 1 17, may be referred to as an inverter or a motor controller. </p><p id="p0019" num="0019"> The system comprises electronic modules, software modules, or both. In one embodiment, the motor controller comprises an electronic data processing system 120 to support storing, processing or execution of software instructions of one or more software modules. The electronic data processing system 120 is indicated by the dashed lines in FIG. 1 and is shown in greater detail in FIG. 2. </p><p id="p0020" num="0020"> The data processing system 120 is coupled to an inverter circuit 188. The inverter circuit 188 comprises a semiconductor drive circuit that drives or controls switching semiconductors (e.g., insulated gate bipolar transistors (IGBT) or other power transistors) to output control signals for the motor 1 17. In turn, the inverter circuit 188 is coupled to the motor 1 17. The motor 1 17 is associated with a sensor 1 15 (e.g., a position sensor, a resolver or encoder position sensor) that is associated with the motor shaft 126 or the rotor. The sensor 1 15 and the motor 1 17 are coupled to the data processing system 120 to provide feedback data (e.g., current feedback data, such as i<sub>a</sub>, it<sub>&gt;</sub>, i<sub>c</sub>), raw position signals, among other possible feedback data or signals, for example. Other possible feedback data includes, but is not limited to, winding temperature readings, semiconductor temperature readings of the inverter circuit 188, three phase voltage data, or other thermal or performance information for the motor 1 17. </p><p id="p0021" num="0021"> In one embodiment, the torque command generation module 105 is coupled to a d-q axis current generation manager 109 (e.g., d-q axis current generation lookup tables). D-q axis current refers to the direct axis current and the quadrature axis 
<!-- EPO <DP n="6"/>-->
 current as applicable in the context of vector-controlled alternating current machines, such as the motor 1 17. The output of the d-q axis current generation manager 109 and the output of a current adjustment module 107 (e.g., d-q axis current adjustment module 107) are fed to a summer 1 19. In turn, one or more outputs (e.g., direct axis current data (id<sup>*</sup>) and quadrature axis current data (i<sub>q</sub><sup>*</sup>)) of the summer 1 19 are provided or coupled to a current regulation controller 1 1 1 . </p><p id="p0022" num="0022"> The current regulation controller 1 1 1 is capable of communicating with the pulse-width modulation (PWM) generation module 1 12 (e.g., space vector PWM generation module). The current regulation controller 1 1 1 receives respective d-q axis current commands (e.g., id<sup>*</sup> and i<sub>q</sub><sup>*</sup>) and actual d-q axis currents (e.g., id and i<sub>q</sub>) and outputs corresponding d-q axis voltage commands (e.g., v<sub>d</sub><sup>*</sup> and v<sub>q</sub><sup>*</sup> commands) for input to the PWM generation module 1 12. </p><p id="p0023" num="0023"> In one embodiment, the PWM generation module 1 12 converts the direct axis voltage and quadrature axis voltage data from two phase data representations into three phase representations (e.g., three phase voltage representations, such as v<sub>a</sub><sup>*</sup>, v<sub>b</sub><sup>*</sup> and v<sub>c</sub><sup>*</sup>) for control of the motor 1 17, for example. Outputs of the PWM </p><p id="p0024" num="0024">generation module 1 12 are coupled to the inverter 188. </p><p id="p0025" num="0025"> The inverter circuit 188 comprises power electronics, such as switching semiconductors to generate, modify and control pulse-width modulated signals or other alternating current signals (e.g., pulse, square wave, sinusoidal, or other waveforms) applied to the motor 1 17. The PWM generation module 1 12 provides inputs to a driver stage within the inverter circuit 188. An output stage of the inverter circuit 188 provides a modulated signal, a pulse-width modulated signal, a pulse- width modulated voltage waveform, a voltage signal, or other alternating current signal for control of the motor. In one embodiment, the inverter 188 is powered by a direct current (DC) voltage bus. </p><p id="p0026" num="0026"> The motor 1 17 is associated with a sensor 1 15 (e.g., a resolver, encoder, speed sensor, or a position sensor or sensors) that estimates at least one of an angular position of the motor shaft 126, a speed or velocity of the motor shaft 126, and a direction of rotation of the motor shaft 126. The sensor 1 15 may be mounted on or integral with the motor shaft 126. The output of the sensor 1 15 is capable of communication with the primary processing module 1 14 (e.g., position and speed 
<!-- EPO <DP n="7"/>-->
 processing module). In one embodiment, the sensor 1 15 may be coupled to an analog-to-digital converter (not shown) that converts analog position data or velocity data to digital position or velocity data, respectively. In other embodiments, the sensor 1 15 (e.g., digital position encoder) may provide a digital data output of position data or velocity data for the motor shaft 126 or rotor. </p><p id="p0027" num="0027"> A first output (e.g., position data and speed data for the motor 1 17) of the primary processing module 1 14 is communicated to the phase converter 1 13 (e.g., three-phase to two-phase current Park transformation module) that converts respective three-phase digital representations of measured current into </p><p id="p0028" num="0028">corresponding two-phase digital representations of measured current. A second output (e.g., speed data) of the primary processing module 1 14 is communicated to the calculation module 1 10 (e.g., adjusted voltage over speed ratio module). </p><p id="p0029" num="0029"> An input of a sensing circuit 124 is coupled to terminals of the motor 1 17 for sensing at least the measured three-phase currents and a voltage level of the direct current (DC) bus (e.g., high voltage DC bus which may provide DC power to the inverter circuit 188). An output of the sensing circuit 124 is coupled to an analog-to- digital converter 122 for digitizing the output of the sensing circuit 124. In turn, the digital output of the analog-to-digital converter 122 is coupled to the secondary processing module 1 16 (e.g., Direct current (DC) bus and three phase current processing module). For example, the sensing circuit 124 is associated with the motor 1 17 for measuring three phase currents (e.g., current applied to the windings of the motor 1 17, back EMF induced into the windings, or both). </p><p id="p0030" num="0030"> Certain outputs of primary processing module 1 14 and the secondary processing module 1 16 feed the phase converter 1 13. For example, the phase converter 1 13 may apply a Park transformation or other conversion equations (e.g., certain conversion equations that are suitable are known to those of ordinary skill in the art) to convert the measured three-phase representations of current into two- phase representations of current based on the digital three-phase current data from the secondary processing module 1 16 and position data from the sensor 1 15. The output of the phase converter 1 13 module is coupled to the current regulation controller 1 1 1 . </p><p id="p0031" num="0031"> Other outputs of the primary processing module 1 14 and the secondary 
<!-- EPO <DP n="8"/>-->
 processing module 1 16 may be coupled to inputs of the calculation module 1 10 (e.g., adjusted voltage over-speed ratio calculation module). For example, the primary processing module 1 14 may provide speed data (e.g., motor shaft 126 revolutions per minute), whereas the secondary processing module 1 16 may provide a measured level of direct current voltage (e.g., on the direct current (DC) bus of a vehicle). The direct current voltage level on the DC bus that supplies the inverter circuit 188 with electrical energy may fluctuate or vary because of various factors, including, but not limited to, ambient temperature, battery condition, battery charge state, battery resistance or reactance, fuel cell state (if applicable), motor load conditions, respective motor torque and corresponding operational speed, and vehicle electrical loads (e.g., electrically driven air-conditioning compressor). The calculation module 1 10 is connected as an intermediary between the secondary processing module 1 16 and the dq-axis current generation manager 109. The output of the calculation module 1 10 can adjust or impact current commands generated by the d-q axis current generation manager 109 to compensate for fluctuation or variation in direct current bus voltage, among other things. </p><p id="p0032" num="0032"> The rotor magnet temperature estimation module 104, the current shaping module 106, and the terminal voltage feedback module 108 are coupled to or are capable of communicating with the dq-axis current adjustment module 107. In turn, the d-q axis current module 107 may communicate with the dq-axis current generation manager or the summer 1 19. </p><p id="p0033" num="0033"> The rotor magnet temperature module 104 estimates or determines the temperature of the rotor permanent magnet or magnets. In one embodiment, the rotor magnet temperature estimation module 104 may estimate the temperature of the rotor magnets from internal control variables calculation, one or more sensors located on the stator, in thermal communication with the stator, or secured to the housing of the motor 1 17. </p><p id="p0034" num="0034"> In one alternate embodiment, the rotor magnet temperature estimation module 104 may be replaced by or may estimate the temperature of the rotor magnets from one or more sensors located on the stator, in thermal communication with the stator, or secured to the housing of the motor 1 17. </p><p id="p0035" num="0035"> In another alternative embodiment, the rotor magnet temperature estimation 
<!-- EPO <DP n="9"/>-->
 module 104 may be replaced with a temperature detector (e.g., a thermistor or infrared thermal sensor coupled to a wireless transmitter) mounted on the rotor or the magnet, where the detector provides a signal (e.g., wireless signal) indicative of the temperature of the magnet or magnets. </p><p id="p0036" num="0036"> In one embodiment, the method or system may operate in the following manner. The torque command generation module 105 receives an input control data message, such as a speed control data message, a voltage control data message, or a torque control data message, over a vehicle data bus 1 18. The torque command generation module 105 converts the received input control message into torque control command data 316. </p><p id="p0037" num="0037"> The d-q axis current generation manager 109 selects or determines the direct axis current command data and the quadrature axis current command data associated with respective torque control command data and respective detected motor shaft 126 speed data. For example, the d-q axis current generation manager 109 selects or determines the direct axis current command, the quadrature axis current command by accessing one or more of the following: (1 ) a look-up table, database or other data structure that relates respective torque commands to corresponding direct and quadrature axes currents, (2) a set of quadratic equations or linear equations that relate respective torque commands to corresponding direct and quadrature axes currents, or (3) a set of rules (e.g., if-then rules) that relates respective torque commands to corresponding direct and quadrature axes currents. The sensor 1 15 on the motor 1 17 facilitates provision of the detected speed data for the motor shaft 126, where the primary processing module 1 14 may convert position data provided by the sensor 1 15 into speed data. </p><p id="p0038" num="0038"> The current adjustment module 107 (e.g., d-q axis current adjustment module) provides current adjustment data to adjust the direct axis current command data and the quadrature axis current command data based on input data from the rotor magnet temperature estimation module 104, the current shaping module 106, and the terminal voltage feedback module 108. </p><p id="p0039" num="0039"> The current shaping module 106 may determine a correction or preliminary adjustment of the quadrature axis (q-axis) current command and the direct axis id- axis) current command based on one or more of the following factors: torque load on 
<!-- EPO <DP n="10"/>-->
 the motor 1 17 and speed of the motor 1 17, for example. The rotor magnet temperature estimation module 104 may generate a secondary adjustment of the q- axis current command and the d-axis current command based on an estimated change in rotor temperature, for example. The terminal voltage feedback module 108 may provide a third adjustment to d-axis and q-axis current based on a controller voltage command versus voltage limit. The current adjustment module 107 may provide an aggregate current adjustment that considers one or more of the following adjustments: a preliminary adjustment, a secondary adjustment, and a third adjustment. </p><p id="p0040" num="0040"> In one embodiment, the motor 1 17 may comprise an interior permanent magnet (IPM) machine or an IPM synchronous machine (IPMSM). An IPMSM has many favorable advantages compared with conventional induction machines or surface mounted permanent magnet (SMPM) machines such as high efficiency, high power density, wide constant power operating region, and maintenance free, for instance. </p><p id="p0041" num="0041"> The sensor 1 15 (e.g., shaft or rotor speed detector) may comprise one or more of the following: a direct current motor, an optical encoder, a magnetic field sensor (e.g., Hall Effect sensor), magneto-resistive sensor, and a resolver (e.g., a brushless resolver). In one configuration, the sensor 1 15 comprises a position sensor, where position data and associated time data are processed to determine speed or velocity data for the motor shaft 126. In another configuration, the sensor 1 15 comprises a speed sensor, or the combination of a speed sensor and an integrator to determine the position of the motor shaft. </p><p id="p0042" num="0042"> In yet another configuration, the sensor 1 15 comprises an auxiliary, compact direct current generator that is coupled mechanically to the motor shaft 126 of the motor 1 17 to determine speed of the motor shaft 126, where the direct current generator produces an output voltage proportional to the rotational speed of the motor shaft 126. In still another configuration, the sensor 1 15 comprises an optical encoder with an optical source that transmits a signal toward a rotating object coupled to the shaft 126 and receives a reflected or diffracted signal at an optical detector, where the frequency of received signal pulses (e.g., square waves) may be proportional to a speed of the motor shaft 126. In an additional configuration, the 
<!-- EPO <DP n="11"/>-->
 sensor 1 15 comprises a resolver with a first winding and a second winding, where the first winding is fed with an alternating current, where the voltage induced in the second winding varies with the frequency of rotation of the rotor. </p><p id="p0043" num="0043"> In FIG. 2, the electronic data processing system 120 comprises an electronic data processor 264, a data bus 262, a data storage device 260, and one or more data ports (268, 270, 272, 274 and 276). The data processor 264, the data storage device 260 and one or more data ports are coupled to the data bus 262 to support communications of data between or among the data processor 264, the data storage device 260 and one or more data ports. </p><p id="p0044" num="0044"> In one embodiment, the data processor 264 may comprise an electronic data processor, a microprocessor, a microcontroller, a programmable logic array, a logic circuit, an arithmetic logic unit, an application specific integrated circuit, a digital signal processor, a proportional-integral-derivative (PID) controller, or another data processing device. </p><p id="p0045" num="0045"> The data storage device 260 may comprise any magnetic, electronic, or optical device for storing data. For example, the data storage device 260 may comprise an electronic data storage device, an electronic memory, non-volatile electronic random access memory, one or more electronic data registers, data latches, a magnetic disc drive, a hard disc drive, an optical disc drive, or the like. </p><p id="p0046" num="0046"> As shown in FIG. 2, the data ports comprise a first data port 268, a second data port 270, a third data port 272, a fourth data port 274 and a fifth data port 276, although any suitable number of data ports may be used. Each data port may comprise a transceiver and buffer memory, for example. In one embodiment, each data port may comprise any serial or parallel input/output port. </p><p id="p0047" num="0047"> In one embodiment as illustrated in FIG. 2, the first data port 268 is coupled to the vehicle data bus 1 18. In turn, the vehicle data bus 1 18 is coupled to the controller 266. In one configuration, the second data port 270 may be coupled to the inverter circuit 188; the third data port 272 may be coupled to the sensor 1 15; the fourth data port 274 may be coupled to the analog-to-digital converter 122; and the fifth data port 276 may be coupled to the terminal voltage feedback module 108. The analog-to-digital converter 122 is coupled to the sensing circuit 124. </p><p id="p0048" num="0048"> In one embodiment of the data processing system 120, the torque command 
<!-- EPO <DP n="12"/>-->
 generation module 105 is associated with or supported by the first data port 268 of the electronic data processing system 120. The first data port 268 may be coupled to a vehicle data bus 1 18, such as a controller area network (CAN) data bus. The vehicle data bus 1 18 may provide data bus messages with torque commands to the torque command generation module 105 via the first data port 268. The operator of a vehicle may generate the torque commands via a user interface, such as a throttle, a pedal, a controller 266, or other control device. </p><p id="p0049" num="0049"> In certain embodiments, the sensor 1 15 and the primary processing module 1 14 may be associated with or supported by a third data port 272 of the data processing system 120. </p><p id="p0050" num="0050"> In one embodiment, a system of determining a position of a rotor in a motor 1 17 comprises a data storage device 260 for storing a plurality of previous position readings of the rotor for a previous cycle of a pulse width modulation signal applied to the motor. The previous position readings comprise a previous cycle final selected position and a previous cycle raw position. A data port (e.g., third data port 272) is configured for receiving a current raw position reading for the current cycle from a sensor 1 15. A data processor 264 is adapted for executing software instructions within a primary processing module 1 14 for determining a predicted position reading for a current cycle based on at least one of the plurality of stored previous position readings of the previous cycle. The predicted position reading comprises the previous cycle final selected position for a first mode and the previous cycle raw position for a second mode. The primary processing module 1 14 or the data processor 264 is adapted to determine whether a difference between the current raw position reading and the predicted position reading for the first mode and the second mode is within a preset threshold. The primary processing module 1 14 or the data processor 264 is adapted to select the current raw position reading as a verified reliable final position reading if the difference is equal to or less than the preset threshold (e.g., the primary preset threshold, the secondary preset threshold or both). </p><p id="p0051" num="0051"> In one arrangement, the primary data processing module 1 14 or the data processor 264 is adapted to select the verified reliable final position reading by evaluation of a first difference between the current raw position reading and the 
<!-- EPO <DP n="13"/>-->
 predicted position based on previous cycle final selected position and a second difference between the predicted position based on current raw position reading and the previous cycle raw position. In another arrangement, the primary data </p><p id="p0052" num="0052">processing module 1 14 or the data processor 264 is adapted to select the current raw position as the verified reliable final position reading if at least one of the first difference or the second difference is less than or equal to than the preset threshold. In yet another arrangement, the primary data processing module 1 14 or the data processor 264 is adapted to select the predicted position based on previous cycle final selected position as the verified reliable final position reading of current cycle if each of the first difference and the second difference is greater than the preset threshold. In yet another arrangement, the primary data processing module 1 14 or the data processor 264 is adapted to select the predicted position based on previous cycle raw position as the verified reliable final position reading of current cycle if each of the first difference and the second difference is less than or equal to the preset threshold. </p><p id="p0053" num="0053"> FIG. 3 discloses a first embodiment of a method for determining a position of a rotor in an electric motor with noise reduction. As used in FIG. 4, any steps that are executed by the data processing system 120 may be executed by the data processor 264, whether by execution of software instructions (e.g., primary processing module) stored in the data storage device 260 on a permanent or non- transitory basis, or otherwise. The method of FIG. 3 begins in step S300. </p><p id="p0054" num="0054"> In step S300, a data storage device 260, a data processing system 120, or a primary processing module 1 14 stores a plurality of previous position readings of the rotor for a previous cycle of a pulse-width-modulation signal applied to the motor 1 17, where the previous position readings comprise a previous cycle final selected position and a previous cycle raw position. </p><p id="p0055" num="0055"> In step S302, a data processing system 120 or primary processing module 1 14 receives a current raw position reading for the current cycle. For example, the sensor 1 15 provides the current raw position reading for the current cycle (e.g., pulse of a pulse-width modulation signal applied to the motor 1 17). </p><p id="p0056" num="0056"> In step S304, a data processing system 120 or primary processing module 1 14 determines a predicted position reading for a current cycle based on at least one 
<!-- EPO <DP n="14"/>-->
 of the plurality of stored previous position readings of the previous cycle. Further, the predicted position reading comprises the previous cycle final selected position for a first mode and the previous cycle raw position for a second mode. </p><p id="p0057" num="0057"> Step S304 may be executed in accordance with various procedures that may be applied alternately or cumulatively. Under a first procedure, the data processing system 120 or the primary processing module 1 14 determines the predicted position reading for the current cycle based on the stored previous final position reading from the previous cycle and a previous speed reading from the previous cycle. Under a second procedure, the data processing system 120 or the primary processing module 1 14 determines the predicted position reading for the current cycle is determined by the following equation, which is applicable to the first mode and the second mode: </p><p id="p0058" num="0058">Pos_pred_2= Pos_1 + Spd_read_1 <sup>*</sup> P1 , where Pos_pred_2 is the predicted position reading for the current cycle, Pos_1 is the previous raw position reading for the previous cycle, Spd_read_1 is the previous speed reading from the previous cycle, and P1 is the time difference between position reading times for the previous cycle and the current cycle. </p><p id="p0059" num="0059"> For the first mode, the equation is restated as follows: </p><p id="p0060" num="0060">Pos_pred_2a= Pos_1 a + Spd_read_1 <sup>*</sup> P1 , where Pos_pred_2a is the predicted position reading for the current cycle based on previous cycle raw position, Pos_1 a is the previous raw position reading for the previous cycle, Spd_read_1 is the previous speed reading from the previous cycle, and P1 is the time difference between raw position reading times for the previous cycle and the current cycle. </p><p id="p0061" num="0061"> For the second mode, the predicted position reading for the current cycle is determined by the following equation: </p><p id="p0062" num="0062"> Pos_pred_2b= Pos_1 b + Spd_read_1 <sup>*</sup> P1 , where Pos_pred_2b is the predicted position reading for the current cycle based on previous cycle final selected position, Pos_1 b is the final selected position reading 
<!-- EPO <DP n="15"/>-->
 for the previous cycle, Spd_read_1 is the previous speed reading from the previous cycle, and P1 is the time difference between raw position reading times for the previous cycle and the current cycle. </p><p id="p0063" num="0063"> In step S306, the data processor 264, the data processing system 120, or the primary processing module 1 14 determines whether a first difference between the current raw position reading and the predicted position reading for the first mode is within a primary preset threshold. The current raw position reading is generally supplied by the sensor 1 15. The previous cycle raw position data and the previous cycle final selected position data may be stored at the sensor 1 15, by the primary processing module 1 14, or within the data storage device 260, for example. </p><p id="p0064" num="0064">The primary preset threshold may be defined as an angular measurement or displacement (e.g., in degrees or radians). The primary preset threshold may be determined by empirical tests, or may be established as respective tolerances that apply to certain corresponding models or configuration of electrical motors 1 17. In one example, the primary preset threshold comprises a tolerance of plus or minus three electrical degrees of rotor rotation with respect to the stator, although other primary preset thresholds fall within the scope of the claims at the end of this document. </p><p id="p0065" num="0065"> In step S307, the data processor 264, the data processing system 120, or the primary processing module 1 14 determines whether a second difference between the current raw position reading and the predicted position reading for the second mode is within a secondary preset threshold. The current raw position reading is generally supplied by the sensor 1 15. The previous cycle raw position data and the previous cycle final selected position data may be stored at the sensor 1 15, by the primary processing module 1 14, or within the data storage device 260, for example. The secondary preset threshold may be defined as an angular measurement or displacement (e.g., in degrees or radians). The secondary preset threshold may be determined by empirical tests, or may be established as respective tolerances that apply to certain corresponding models or configuration of electrical motors 1 17. In one example, the secondary preset threshold comprises a tolerance of plus or minus three electrical degrees of rotor rotation with respect to the stator, although other primary preset thresholds fall within the scope of the claims at the end of this 
<!-- EPO <DP n="16"/>-->
 document. </p><p id="p0066" num="0066"> In step S308, the data processor 264, the data processing system 120, or the primary processing module 1 14 selects the current raw position reading as a verified reliable final position reading of the current cycle (e.g., PWM cycle) if the first difference for the first mode is equal to or less than the primary preset threshold, or if the second difference for the second mode is equal to or less than the secondary preset threshold. Otherwise, the data processor 264, the data processing system 120, or the primary processing module 1 14 selects other data (e.g., the predicted position based on previous cycle final selected position or the predicted position based on previous cycle raw position reading) as the verified reliable position reading based on the difference, as described in more detail as set forth below. </p><p id="p0067" num="0067"> In one example, the primary preset threshold and the secondary preset threshold may each comprise a tolerance of plus or minus three electrical degrees of rotor rotation with respect to the stator, although other preset thresholds fall within the scope of the claims at the end of this document. In one configuration, the primary preset threshold may be set equal to the secondary preset threshold, although the primary preset threshold and the secondary preset threshold may be adjusted separately or set independently of each other. </p><p id="p0068" num="0068"> FIG. 4 discloses a second embodiment of a method for determining a position of a rotor in an electric motor with noise reduction. Like reference numbers in FIG. 3 and FIG. 4 indicate like steps or procedures. The method of FIG. 4 is similar to the method of FIG. 3, except the method of FIG. 4 further comprises step S310. </p><p id="p0069" num="0069"> In step S310, the data processor 264, the data processing system 120, or the primary processing module 1 14 selects the predicted position for the first mode as a final selected position reading of a current cycle (e.g., current PWM cycle) if the first difference for the first mode is larger than the primary preset threshold and if the second difference for the second mode is larger than the secondary preset threshold. In one configuration, the primary preset threshold may be set equal to the secondary preset threshold, although the primary preset threshold and the </p><p id="p0070" num="0070">secondary preset threshold may be adjusted separately or set independently of each other. </p><p id="p0071" num="0071"> FIG. 5 discloses a third embodiment of a method for determining a position of 
<!-- EPO <DP n="17"/>-->
 a rotor in an electric motor with noise reduction. Like reference numbers in FIG. 3 and FIG. 5 indicate like steps or procedures. </p><p id="p0072" num="0072"> The method of FIG. 5 begins in step S300. In step S300, a data storage device 260, a data processing system 120, or a primary processing module 1 14, stores a plurality of previous position readings of the rotor for a previous cycle of a pulse-width-modulation (PWM) signal applied to the motor 1 17, where the previous position readings comprise a previous cycle final selected position and a previous cycle raw position. </p><p id="p0073" num="0073"> In step S302, a data processing system 120 or primary processing module 1 14 receives a current raw position reading for the current cycle. For example, the sensor 1 15 provides the current raw position reading for the current cycle (e.g., pulse of a pulse-width modulation signal applied to the motor 1 17). </p><p id="p0074" num="0074"> In step S400, the data processing system 120 or the primary processing module 1 14 determines a predicted position reading for a current cycle (e.g., pulse width modulation (PWM) cycle) based on the stored previous position readings of the previous cycle in accordance with a first mode or a second mode. Further, the predicted position reading comprises the previous cycle final selected position for a first mode and the previous cycle raw position for a second mode. The data processing system 120 or the primary processing module 1 14 may store the previous position readings in the data storage device 260, for example. </p><p id="p0075" num="0075"> In an alternate embodiment, the data processing system 120 or the primary processing module 1 14 determines the predicted position reading for the current cycle based on the stored previous position reading from the previous cycle and a previous speed reading from the previous cycle. Accordingly, the equations described in conjunction with step S304 in FIG. 4 may be applied to step S400. </p><p id="p0076" num="0076"> In step S402, the data processing system 120 or the primary processing module 1 14 determines whether a difference (e.g., a first difference, a second difference, or both) between at least one of the previous position readings (based on previous position readings) and the current raw position readings is within a preset threshold (e.g., primary preset threshold or the secondary preset threshold). For example, the data processing system 120 or the primary processing module 1 14 may retrieve the previous position readings from the data storage device 260 for 
<!-- EPO <DP n="18"/>-->
 comparison with the current raw position readings received from the sensor 1 15. In step S402 and elsewhere in the document, the difference may refer to the first difference, the second difference, or both. </p><p id="p0077" num="0077"> The method of FIG. 5 uses one or more preset thresholds. The term, "preset threshold," may refer to any of the primary preset threshold, the secondary preset threshold, or both. For example, the preset thresholds may comprise a primary preset threshold, and a secondary preset threshold. In one example, the primary preset threshold, and the secondary preset threshold may each comprise a tolerance of plus or minus three electrical degrees of rotor rotation with respect to the stator, although other preset thresholds fall within the scope of the claims at the end of this document. In one configuration, any preset threshold may be set to be </p><p id="p0078" num="0078">approximately equal to any other preset threshold, although the primary preset threshold and the secondary preset threshold may be adjusted separately or set independently of each other. </p><p id="p0079" num="0079"> Step S402 is indicated by the dashed lines in FIG. 5 that encompass step S404 and step S406. In one embodiment, step S402 may be carried by step S404 for the determination in the first mode and step S406 for the determination in the second mode. In step S404, in the first mode, the data processing system 120 or the primary processing module 1 14 determines if a first difference between the current raw position reading and the predicted position based on previous final selected position is greater than a secondary preset threshold. For example, the data processing system 120 or the primary processing module 1 14 may retrieve the predicted position based on previous final selected position from the data storage device 260 for comparison with the current raw position reading received from the sensor 1 15. </p><p id="p0080" num="0080"> In step S406, in the second mode, the data processing system 120 or the primary processing module 1 14 determines if a second difference between the current raw position reading and predicted position based on the previous raw position reading is greater than a secondary preset threshold. </p><p id="p0081" num="0081"> In step S408, the data processing system 120 or the primary processing module 1 14 selects the current raw position reading as a verified reliable position reading if the difference (e.g., the first difference, the second difference or both) is 
<!-- EPO <DP n="19"/>-->
 equal to or less than the preset threshold, or the data processing system 120 selects another verified reliable position based on evaluation of the first difference and the second difference. Step S408 may be carried out in accordance with various techniques that may be applied alternately or cumulatively. </p><p id="p0082" num="0082"> Under a first technique, the data processing system 120 or the primary processing module 1 14 selects the current raw position reading as a verified reliable position reading of the current cycle (e.g., pulse width modulation cycle) if the first difference or the second difference is equal to or less than a primary preset threshold or the secondary preset threshold, respectively. </p><p id="p0083" num="0083"> Under second technique, the primary preset threshold may be set to be approximately equal to the secondary preset threshold, although the primary preset threshold and the secondary present threshold may be adjusted separately or set independently of each other. </p><p id="p0084" num="0084"> Under a third technique, the data processing system 120 or the primary processing module 1 14 selects the verified reliable final position reading of current cycle by evaluation of a first difference between the current raw position reading and the current predicted position based on previous cycle final selected position and a second difference between the current raw position reading and the current predicted position based on previous cycle raw position. </p><p id="p0085" num="0085"> Under a fourth technique, the data processing system 120 or the primary processing module 1 14 selects the predicted position (based on the previous final selected position reading) as the verified reliable final position reading of the current cycle (e.g., current PWM cycle) if the first difference is greater than the primary preset threshold and if the second difference is greater than the secondary preset threshold. </p><p id="p0086" num="0086"> The method of FIG. 6 is similar to the method of FIG. 5, except the method of FIG. 6 replaces step S408 with step S407 and adds step S409. Like reference numbers in FIG. 5 and FIG. 6 indicate like procedures or steps. </p><p id="p0087" num="0087"> In step S407, the data processing system 120, the data processor 264, or the primary processing module 1 14 selects the current raw position reading as a verified reliable position reading if the first difference is equal to or less than the primary preset threshold or if the second difference is equal to or less than a secondary 
<!-- EPO <DP n="20"/>-->
 preset threshold. In one configuration, the primary preset threshold may be set to be approximately equal to the secondary preset threshold, although the primary preset threshold and the secondary present threshold may be adjusted separately or set independently of each other. </p><p id="p0088" num="0088"> In step S409, the data processing system 120, the data processor 264 or the primary processing module 1 14 selects the predicted position based on the previous final selected position reading (of the previous cycle) as the verified reliable final position reading of the current cycle (e.g., current PWM cycle) if both the first difference and the second difference are each greater than the preset threshold. For example, the data processing system 120, the data processor 264 or the primary processing module 1 14 selects the predicted position based on the previous final selected position reading as the verified reliable final position reading of the current cycle (e.g., current PWM cycle) if the first difference is greater than the primary preset threshold and if the second difference is greater than the secondary preset threshold. </p><p id="p0089" num="0089"> The method of FIG. 7 is similar to the method of FIG. 3, except the method of FIG. 7 includes additional steps S502 and S504. Like reference numbers indicate like steps or procedures in FIG. 3 and FIG. 5. </p><p id="p0090" num="0090"> Steps S300, S302, S304, S306, and S308 are described above in conjunction with FIG. 3. </p><p id="p0091" num="0091"> In step S502, the data processing system 120, the data processor 264 or the primary processing module 1 14 detects whether the predicted position is </p><p id="p0092" num="0092">consecutively used as the verified reliable position for more than a maximum count number. The data processing system 120 or the primary processing module 1 14 may comprise a counter (e.g., via the data processor 264) for tracking the maximum count number during a time period. The time period may be defined in accordance with a number of PWM pulse cycles or in accordance with a data clock, or a time clock. </p><p id="p0093" num="0093"> In step S504, the data processing system 120, the data processor 264 or the primary processing module 1 14 switches off or resets the controller, the data processor 264 or the data processing system 120 if the predicted position is consecutively used as the verified reliable position for more than the maximum count 
<!-- EPO <DP n="21"/>-->
 number, where the maximum count number is a positive integer greater than three. In one embodiment, a count number that exceeds the maximum count number may indicate that the data processor 264 is receiving corrupt data (e.g., rotor speed data) from the sensor 1 15 or that one or more registers of the data processor 264 or the data storage device 260 contain corrupt position or speed data for the motor shaft of the motor 1 17. </p><p id="p0094" num="0094"> The method of FIG. 8 is similar to the method of FIG. 3, except the method of FIG. 8 includes additional steps S602, S604 and S606. Like reference numbers indicate like steps or procedures in FIG. 3 and FIG. 8. </p><p id="p0095" num="0095"> Steps S300, S302, S304, S306, and S308 are described above in conjunction with FIG. 3. </p><p id="p0096" num="0096"> In step S602, the data processing system 120, the data processor 264, the primary processing module 1 14, or the sensor 1 15 associates respective time- stamps with the previous raw position reading and the current raw position reading. For example, the sensor 1 15 may time stamp each current position reading and the primary processing module 1 14 may retrieve previous position readings and associated time stamps. </p><p id="p0097" num="0097"> In step S604, the data processing system 120, the data processor 264 or the primary processing module 1 14 determines a time difference between the previous raw position reading and the current raw position reading based on the associated respective time-stamps. </p><p id="p0098" num="0098"> In step S606, the time period used to calculate predicted position is adjusted when the data processing system 120 or the pulse width modulation generation module 1 12 varies a pulse width modulation switching frequency applied to the motor 1 17 via the inverter circuit 188 to control the motor 1 17. </p><p id="p0099" num="0099"> If sensor 1 15 comprises a resolver that is not a brushless resolver, the method and system herein is well-suited for reducing or minimizing the deleterious effects of the electromagnetic noise generated at the electrical and mechanical interface of an armature or brushes of the resolver, for instance. Further, the method and system herein facilitates the reduction of electromagnetic noise in the data processing system 120 from parasitic or transient motor electromagnetic fields may be induced into proximate electrical components of the sensor or the electronic 
<!-- EPO <DP n="22"/>-->
 hardware. The method and system is well-suited for reducing the electromagnetic noise that would otherwise contribute to an inaccurate position reading of the rotor position; hence, improving the accuracy of control signals applied to the motor by the inverter. </p><p id="p0100" num="0100"> Having described the preferred embodiment, it will become apparent that various modifications can be made without departing from the scope of the invention as defined in the accompanying claims. 
</p></description><claims mxw-id="PCLM44726229" ref-ucid="WO-2012115918-A2" lang="EN" load-source="patent-office"><claim-statement><!-- EPO <DP n="23"/>-->The following is claimed: </claim-statement><claim id="clm-0001" num="1"><claim-text>1 . A method of determining a position of a rotor in a motor, the method comprising: </claim-text><claim-text> storing a plurality of previous position readings of the rotor for a previous cycle of a pulse width modulation signal applied to the motor, the previous position readings comprising a previous cycle final selected position and a previous cycle raw position; </claim-text><claim-text> receiving a current raw position reading for the current cycle; </claim-text><claim-text> determining a predicted position reading for a current cycle based on at least one of the plurality of stored previous position readings of the previous cycle, the predicted position reading comprising the previous cycle final selected position for a first mode and the previous cycle raw position for a second mode; </claim-text><claim-text> determining whether a first difference between the current raw position reading and the predicted position reading for the first mode is within a primary preset threshold; </claim-text><claim-text> determining whether a second difference between the current raw position reading and the predicted position reading for the second mode is within a </claim-text><claim-text>secondary preset threshold; and </claim-text><claim-text> selecting the current raw position reading as a verified reliable final position reading of the current cycle if the first difference for the first mode is equal to or less than the primary preset threshold or if the second difference for the second mode is equal to or less than the secondary preset threshold. </claim-text></claim><claim id="clm-0002" num="2"><claim-text> 2. The method according to claim 1 further comprising: <!-- EPO <DP n="24"/>--> selecting the predicted position for the first mode as a final selected position reading of current cycle if the first difference for the first mode is larger than the primary preset threshold and the second difference for the second mode is larger than the secondary preset threshold. </claim-text></claim><claim id="clm-0003" num="3"><claim-text>3. The method according to claim 1 further comprising: </claim-text><claim-text> selecting the verified reliable final position reading of current cycle by evaluation of a first difference between the current raw position reading and the current predicted position based on previous cycle final selected position and a second difference between the current raw position reading and the current predicted position based on previous cycle raw position. </claim-text></claim><claim id="clm-0004" num="4"><claim-text>4. The method according to claim 3 wherein the selecting further comprises selecting the current raw position as the verified reliable final position reading of current cycle if at least one of the first difference and the second difference is less than or equal to their respective primary and secondary preset thresholds. </claim-text></claim><claim id="clm-0005" num="5"><claim-text>5. The method according to claim 3 wherein the selecting further comprises selecting the predicted position based on previous cycle final selected position as the verified reliable final position reading of current cycle if both of the first difference and the second difference are greater than their respective primary and secondary preset thresholds. </claim-text></claim><claim id="clm-0006" num="6"><claim-text>6. The method according to claim 1 further comprising: <!-- EPO <DP n="25"/>--> detecting whether the predicted position is consecutively used as the verified reliable final position for more than a maximum count number, and </claim-text><claim-text> switch off or reset the controller if the predicted position is consecutively used as the verified reliable final position for more than the maximum count number, where the maximum count number is a positive integer greater than three. </claim-text></claim><claim id="clm-0007" num="7"><claim-text>7. The method according to claim 1 further comprising: </claim-text><claim-text> associating respective time-stamps with the previous cycle raw position reading and the current cycle raw position reading; </claim-text><claim-text> determining a time difference between the previous cycle raw position reading and the current cycle raw position reading based on the associated respective time- stamps; and </claim-text><claim-text> adjusting the time period used for predicted position calculation when varying pulse width modulation switching frequency is applied to the motor to control the motor. </claim-text></claim><claim id="clm-0008" num="8"><claim-text>8. The method according to claim 1 wherein determining of the predicted position reading for the current cycle is based on the stored previous position reading from the previous cycle and a previous speed reading from the previous cycle. </claim-text></claim><claim id="clm-0009" num="9"><claim-text>9. The method according to claim 1 wherein determining the predicted position reading for the first mode for the current cycle is determined by the following equation: Pos_pred_2a= Pos_1 a + Spd_read_1 <sup>*</sup> P1 , </claim-text><claim-text>where Pos_pred_2a is the predicted position reading for the current cycle based on <!-- EPO <DP n="26"/>--> previous cycle raw position, Pos_1 a is the previous raw position reading for the previous cycle, Spd_read_1 is the previous speed reading from the previous cycle, and P1 is the time difference between raw position reading times for the previous cycle and the current cycle. </claim-text></claim><claim id="clm-0010" num="10"><claim-text>10. The method according to claim 1 wherein determining the predicted position reading for the second mode for the current cycle is determined by the following equation: </claim-text><claim-text> Pos_pred_2b= Pos_1 b + Spd_read_1 <sup>*</sup> P1 , where Pos_pred_2b is the predicted position reading for the current cycle based on previous cycle final selected position, Pos_1 b is the final selected position reading for the previous cycle, Spd_read_1 is the previous speed reading from the previous cycle, and P1 is the time difference between raw position reading times for the previous cycle and the current cycle. </claim-text></claim><claim id="clm-0011" num="11"><claim-text>1 1 . A method of determining a position of a rotor in a motor with reduced noise, the method comprising: </claim-text><claim-text> storing a plurality of previous position readings of the rotor for a previous cycle of a pulse width modulation signal applied to the motor, the previous position readings comprising a previous cycle final selected position and previous cycle raw position; </claim-text><claim-text> receiving a current raw position reading for the current cycle of the pulse width modulation signal; <!-- EPO <DP n="27"/>--> determining a predicted position reading for a current cycle based on the stored previous position readings of the previous cycle in accordance with a first mode or a second mode, where the first mode uses the previous cycle final selected position and where the second mode uses the previous cycle raw position; </claim-text><claim-text> determining whether a difference between at least one of the predicted positions based on previous position readings and the current raw position reading is within a preset threshold; and </claim-text><claim-text> selecting the current raw position reading as a verified reliable final position reading of current cycle if the difference is equal to or less than the preset threshold. </claim-text></claim><claim id="clm-0012" num="12"><claim-text>12. The method according to claim 1 1 wherein the determining whether the difference further comprises the following: </claim-text><claim-text> in the first mode, determining if a first difference between the current raw position reading and the predicted position based on previous final selected position is greater than a primary preset threshold as the preset threshold; </claim-text><claim-text> in the second mode, determining if a second difference between the current raw position reading and the predicted position based on previous raw position reading is greater than a secondary preset threshold as the preset threshold. </claim-text></claim><claim id="clm-0013" num="13"><claim-text>13. The method according to claim 12 wherein the selecting further comprises: selecting the current raw position reading as a verified reliable final position reading of current cycle if the first difference is equal to or less than the primary preset threshold or if the second difference is equal to or less than the secondary preset threshold. <!-- EPO <DP n="28"/>--> </claim-text></claim><claim id="clm-0014" num="14"><claim-text>14. The method according to claim 12 wherein the selecting further comprises: selecting the predicted position for the first mode or second mode as a verified reliable final position reading of current cycle if the first difference and the second difference each are larger than the preset threshold. </claim-text></claim><claim id="clm-0015" num="15"><claim-text>15. The method according to claim 12 further comprising: </claim-text><claim-text> selecting the predicted position based on previous final selected position reading as the verified reliable final position reading of current cycle if the first difference and the second difference are each greater than the preset threshold. </claim-text></claim><claim id="clm-0016" num="16"><claim-text>16. The method according to claim 12 wherein the selecting further comprises: selecting the current raw position as the verified reliable final position reading of current cycle if the first difference is less than or equal to the primary threshold or if the second difference is less than or equal to than the primary preset threshold. </claim-text></claim><claim id="clm-0017" num="17"><claim-text>17. The method according to claim 12 wherein the selecting further comprises: selecting the predicted position based on previous cycle raw position as the verified reliable final position reading of current cycle if each of the first difference and second difference is less than or equal to the preset threshold. </claim-text></claim><claim id="clm-0018" num="18"><claim-text>18. A system of determining a position of a rotor in a motor, the system comprising: a data storage device for storing a plurality of previous position readings of the rotor for a previous cycle of a pulse width modulation signal applied to the motor, <!-- EPO <DP n="29"/>--> the previous position readings comprising a previous cycle final selected position and a previous cycle raw position; </claim-text><claim-text> a data port for receiving a current raw position reading for the current cycle from a sensor; </claim-text><claim-text> a data processor for executing software instructions within a primary processing module for determining a predicted position reading for a current cycle based on at least one of the plurality of stored previous position readings of the previous cycle, the predicted position reading comprising the previous cycle final selected position for a first mode and the previous cycle raw position for a second mode, the primary processing module adapted to determine whether a difference between the current raw position reading and the predicted position reading for the first mode and the second mode is within a preset threshold, the primary processing module adapted to select the current raw position reading as a verified reliable final position reading if the difference is equal to or less than the preset threshold. </claim-text></claim><claim id="clm-0019" num="19"><claim-text>19. The system according to claim 18 wherein the primary data processing module is adapted to select the verified reliable final position reading by evaluation of a first difference between the current raw position reading and the predicted position based on previous cycle final selected position and a second difference between the predicted position based on current raw position reading and the previous cycle raw position. </claim-text></claim><claim id="clm-0020" num="20"><claim-text>20. The system according to claim 18 wherein the primary data processing module is adapted to select the current raw position as the verified reliable final position <!-- EPO <DP n="30"/>--> reading if at least one of the first difference or the second difference is less than or equal to than the preset threshold. </claim-text></claim><claim id="clm-0021" num="21"><claim-text>21 . The system according to claim 18 wherein the primary data processing module is adapted to select the predicted position based on previous cycle final selected position as the verified reliable final position reading of current cycle if each of the first difference and the second difference is greater than the preset threshold. </claim-text></claim><claim id="clm-0022" num="22"><claim-text>22. The system according to claim 18 wherein the primary data processing module is adapted to select the predicted position based on previous cycle raw position as the verified reliable final position reading of current cycle if each of the first difference and the second difference is less than or equal to the preset threshold. </claim-text></claim></claims><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
