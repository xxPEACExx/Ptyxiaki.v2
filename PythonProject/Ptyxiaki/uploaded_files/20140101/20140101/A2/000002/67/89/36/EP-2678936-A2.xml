<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2678936-A2" country="EP" doc-number="2678936" kind="A2" date="20140101" family-id="46718518" file-reference-id="293884" date-produced="20180823" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146550561" ucid="EP-2678936-A2"><document-id><country>EP</country><doc-number>2678936</doc-number><kind>A2</kind><date>20140101</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-12749187-A" is-representative="NO"><document-id mxw-id="PAPP154824484" load-source="docdb" format="epo"><country>EP</country><doc-number>12749187</doc-number><kind>A</kind><date>20120221</date><lang>EN</lang></document-id><document-id mxw-id="PAPP196399957" load-source="docdb" format="original"><country>EP</country><doc-number>12749187.6</doc-number><date>20120221</date><lang>EN</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140452773" ucid="US-201113170214-A" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>201113170214</doc-number><kind>A</kind><date>20110628</date></document-id></priority-claim><priority-claim mxw-id="PPC140454927" ucid="US-201161446119-P" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>201161446119</doc-number><kind>P</kind><date>20110224</date></document-id></priority-claim><priority-claim mxw-id="PPC140449044" ucid="US-2012025845-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>2012025845</doc-number><kind>W</kind><date>20120221</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1988115958" load-source="docdb">H02P   1/22        20060101AFI20120913BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1967036580" load-source="docdb" scheme="CPC">H02P  29/0241      20160201 LI20160219BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1976546215" load-source="docdb" scheme="CPC">H02P  21/22        20160201 LI20160202BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1976547033" load-source="docdb" scheme="CPC">G01R  31/42        20130101 LA20160205BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1976553907" load-source="docdb" scheme="CPC">G01R  31/343       20130101 LA20160205BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1976555460" load-source="docdb" scheme="CPC">G01R  31/04        20130101 FI20160205BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132184167" lang="DE" load-source="patent-office">VERFAHREN UND SYSTEM ZUR BEURTEILUNG ELEKTRISCHER VERBINDUNGEN ZWISCHEN EINER MOTORSTEUERUNG UND EINEM MOTOR</invention-title><invention-title mxw-id="PT132184168" lang="EN" load-source="patent-office">METHOD AND SYSTEM FOR EVALUATING ELECTRICAL CONNECTIONS BETWEEN A MOTOR CONTROLLER AND MOTOR</invention-title><invention-title mxw-id="PT132184169" lang="FR" load-source="patent-office">PROCÉDÉ ET SYSTÈME DESTINÉS À ÉVALUER DES CONNEXIONS ÉLECTRIQUES ENTRE UN DISPOSITIF DE COMMANDE DE MOTEUR ET UN MOTEUR</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR918132660" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>DEERE &amp; CO</last-name><address><country>US</country></address></addressbook></applicant><applicant mxw-id="PPAR918143424" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>DEERE &amp; COMPANY</last-name></addressbook></applicant><applicant mxw-id="PPAR918991390" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Deere &amp; Company</last-name><iid>101150216</iid><address><street>One John Deere Place</street><city>Moline, IL 61265</city><country>US</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR918145146" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>WU LONG</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR918161254" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>WU, LONG</last-name></addressbook></inventor><inventor mxw-id="PPAR918986960" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>WU, LONG</last-name><address><street>2824 37th Avenue South</street><city>Fargo, ND 58104</city><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR918157802" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>SHAW ROBERT</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR918166087" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>SHAW, ROBERT</last-name></addressbook></inventor><inventor mxw-id="PPAR918988703" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>SHAW, ROBERT</last-name><address><street>1622 42nd Avenue South</street><city>Moorhead, MN 56560</city><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR918147492" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>GILMAN ALAN K</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR918141738" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>GILMAN, Alan, K.</last-name></addressbook></inventor><inventor mxw-id="PPAR918986516" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>GILMAN, Alan, K.</last-name><address><street>1863 Huntington Court</street><city>West Fargo, ND 58078</city><country>US</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR918984873" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Holst, Sönke</last-name><iid>101371590</iid><address><street>John Deere GmbH &amp; Co. KG Mannheim Regional Center Global Intellectual Property Services John-Deere-Strasse 70</street><city>68163 Mannheim</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="US-2012025845-W"><document-id><country>US</country><doc-number>2012025845</doc-number><kind>W</kind><date>20120221</date><lang>EN</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2012115917-A2"><document-id><country>WO</country><doc-number>2012115917</doc-number><kind>A2</kind><date>20120830</date><lang>EN</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS548894810" load-source="docdb">AL</country><country mxw-id="DS548919173" load-source="docdb">AT</country><country mxw-id="DS548894812" load-source="docdb">BE</country><country mxw-id="DS548859375" load-source="docdb">BG</country><country mxw-id="DS548911978" load-source="docdb">CH</country><country mxw-id="DS548812072" load-source="docdb">CY</country><country mxw-id="DS548919174" load-source="docdb">CZ</country><country mxw-id="DS548894813" load-source="docdb">DE</country><country mxw-id="DS548812073" load-source="docdb">DK</country><country mxw-id="DS548812078" load-source="docdb">EE</country><country mxw-id="DS548831877" load-source="docdb">ES</country><country mxw-id="DS548859376" load-source="docdb">FI</country><country mxw-id="DS548859377" load-source="docdb">FR</country><country mxw-id="DS548894814" load-source="docdb">GB</country><country mxw-id="DS548812079" load-source="docdb">GR</country><country mxw-id="DS548894815" load-source="docdb">HR</country><country mxw-id="DS548919175" load-source="docdb">HU</country><country mxw-id="DS548911979" load-source="docdb">IE</country><country mxw-id="DS548894816" load-source="docdb">IS</country><country mxw-id="DS548859378" load-source="docdb">IT</country><country mxw-id="DS548812080" load-source="docdb">LI</country><country mxw-id="DS548913229" load-source="docdb">LT</country><country mxw-id="DS548919176" load-source="docdb">LU</country><country mxw-id="DS548913230" load-source="docdb">LV</country><country mxw-id="DS548913231" load-source="docdb">MC</country><country mxw-id="DS548909254" load-source="docdb">MK</country><country mxw-id="DS548909255" load-source="docdb">MT</country><country mxw-id="DS548919177" load-source="docdb">NL</country><country mxw-id="DS548831878" load-source="docdb">NO</country><country mxw-id="DS548911980" load-source="docdb">PL</country><country mxw-id="DS548913233" load-source="docdb">PT</country><country mxw-id="DS548919178" load-source="docdb">RO</country><country mxw-id="DS548913234" load-source="docdb">RS</country><country mxw-id="DS548919179" load-source="docdb">SE</country><country mxw-id="DS548913235" load-source="docdb">SI</country><country mxw-id="DS548911981" load-source="docdb">SK</country><country mxw-id="DS548912050" load-source="docdb">SM</country><country mxw-id="DS548909256" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data><office-specific-data><eptags><ep-no-a-document-published>*</ep-no-a-document-published></eptags></office-specific-data></bibliographic-data><abstract mxw-id="PA99619530" ref-ucid="WO-2012115917-A2" lang="EN" load-source="patent-office"><p num="0000">A pair of direct d-q-axis voltage commands is associated with a monotonically varying test sequence of test rotor angular positions (S300) to determine a correct rotational direction of a rotor of the motor in response to application of the pair of direct d-q-axis voltage commands to the motor. The rotor of the motor rotates (e.g., self spins in a diagnostic mode) in response to the applied direct d-q-axis voltage commands and applied monotonically varying test sequence of test rotor angular positions (S304). The primary positioning module or data processor determines that conductor connections between the inverter (e.g., motor controller) and the motor are correct if the calculated shaft speed sign is positive with respect to an applied monotonically varying test sequence of rotor angular positions that monotonically increases (S306).</p></abstract><abstract mxw-id="PA99819211" ref-ucid="WO-2012115917-A2" lang="EN" source="national office" load-source="docdb"><p>A pair of direct d-q-axis voltage commands is associated with a monotonically varying test sequence of test rotor angular positions (S300) to determine a correct rotational direction of a rotor of the motor in response to application of the pair of direct d-q-axis voltage commands to the motor. The rotor of the motor rotates (e.g., self spins in a diagnostic mode) in response to the applied direct d-q-axis voltage commands and applied monotonically varying test sequence of test rotor angular positions (S304). The primary positioning module or data processor determines that conductor connections between the inverter (e.g., motor controller) and the motor are correct if the calculated shaft speed sign is positive with respect to an applied monotonically varying test sequence of rotor angular positions that monotonically increases (S306).</p></abstract><abstract mxw-id="PA99619531" ref-ucid="WO-2012115917-A2" lang="FR" load-source="patent-office"><p num="0000">Une paire de commandes de tension directe d'axe d-q est associée à une séquence de test à variation monotone des positions angulaires du rotor de test (S300) afin de déterminer une direction rotationnelle correcte d'un rotor du moteur en réponse à l'application de la paire de commandes de tension directe d'axe d-q au moteur. Le rotor du moteur tourne (par ex., se met en rotation automatique en mode diagnostic) en réponse aux commandes de tension directe d'axe d-q appliquées et à la séquence de test à variation monotone des positions angulaires du rotor de test (S304). Le module de positionnement primaire ou le processeur de données détermine que les connexions conductrices entre l'inverseur (par ex., la commande de moteur) et le moteur sont correctes si le signe de la vitesse de l'arbre calculée est positif par rapport à la séquence de test à variation monotone appliquée des positions angulaire du rotor qui augmente de manière monotone (S306).</p></abstract><abstract mxw-id="PA99819212" ref-ucid="WO-2012115917-A2" lang="FR" source="national office" load-source="docdb"><p>Une paire de commandes de tension directe d'axe d-q est associée à une séquence de test à variation monotone des positions angulaires du rotor de test (S300) afin de déterminer une direction rotationnelle correcte d'un rotor du moteur en réponse à l'application de la paire de commandes de tension directe d'axe d-q au moteur. Le rotor du moteur tourne (par ex., se met en rotation automatique en mode diagnostic) en réponse aux commandes de tension directe d'axe d-q appliquées et à la séquence de test à variation monotone des positions angulaires du rotor de test (S304). Le module de positionnement primaire ou le processeur de données détermine que les connexions conductrices entre l'inverseur (par ex., la commande de moteur) et le moteur sont correctes si le signe de la vitesse de l'arbre calculée est positif par rapport à la séquence de test à variation monotone appliquée des positions angulaire du rotor qui augmente de manière monotone (S306).</p></abstract><description mxw-id="PDES50930309" ref-ucid="WO-2012115917-A2" lang="EN" load-source="patent-office"><!-- EPO <DP n="3"/>--><p id="p0001" num="0001"> METHOD AND SYSTEM FOR EVALUATING ELECTRICAL CONNECTIONS BETWEEN A MOTOR CONTROLLER AND MOTOR </p><p id="p0002" num="0002">This document claims priority based on U.S. provisional application serial number 61/446,1 19, filed on 24 February 201 1 and entitled METHOD AND SYSTEM FOR EVALUATING ELECTRICAL CONNECTIONS BETWEEN A MOTOR CONTROLLER AND MOTOR, under 35 U.S.C. 1 19(e). </p><p id="p0003" num="0003">Field of the Invention </p><p id="p0004" num="0004"> This invention relates to a method and system for evaluating electrical connections (e.g., or testing for the proper sequence or interconnection of wiring for motor phase leads) between a motor controller and motor. </p><p id="p0005" num="0005">Background of the Invention </p><p id="p0006" num="0006"> An electric motor may comprise an interior permanent magnet (IPM) motor or an IPM synchronous motor, or a multi-phase alternating current motor. During assembly, repair or field diagnosis, it can be difficult to determine efficiently and quickly whether the electrical connections between a motor or multi-phase motor and the motor controller (e.g., inverter) are correct. In the prior art, the phase sequence connection is sometimes checked by first rotating the motor (e.g., with terminals designed V<sub>a</sub>, V<sub>b</sub> and V<sub>c</sub>), with a test motor and, second, by observing the back electromotive force (back-EMF) generated between pairs of the electrical terminals (e.g., Vab and V<sub>C</sub>b) via an oscilloscope, power analyzer or other applicable </p><p id="p0007" num="0007">instrument. Third, while the test motor rotates the motor in the forward direction, the back-EMF generated between terminals V<sub>C</sub>b shall lead the back-EMF generated between terminals V<sub>a</sub>b by about a 60 degree phase shift. Fourth, while the test motor rotates the motor in the forward direction, the back-EMF generated between terminals V<sub>C</sub>b shall lag the back-EMF generated between terminals V<sub>a</sub>b by about a 60 degree phase shift. Fifth, the evaluator determines that the motor is properly connected to the motor controller if the above phase shifts are observed. Thus, there is a need for a simplified diagnostic test procedure, without the use of an oscilloscope or test motor, which can be incorporated into the motor controller or inverter to evaluate the correctness of electrical connections between the motor controller and motor. 
<!-- EPO <DP n="4"/>-->
 Summary of the Invention </p><p id="p0008" num="0008"> In accordance with one embodiment, a method and system is presented for evaluating electrical connections between a motor controller and motor. For example, a method and system is presented for determining whether a multi-phase motor is properly connected to an inverter with respect to a phase leads sequence. In a diagnostic mode, a data processor, a diagnostic computer, or d-q axis current generation manager establishes or provides a monotonically varying test sequence of test rotor angular positions associated with application of corresponding pairs of direct d-q-axis voltage commands to the motor. Each of the pairs of direct d-q axis voltage commands comprises a direct-axis command and a quadrature-axis command. The data processor or pulse width modulation generation module converts or transforms the direct d-q-axis voltage commands into three phase voltages for each corresponding input phase terminal of the multi-phase motor. The pulse width modulation generation module or the inverter switching circuit processes the direct d-q-axis voltage commands, or derivative multi-phase control voltages, as modulated signals for application to each corresponding input phase terminal. The rotor of the motor rotates (e.g., self spins in a diagnostic mode) in response to the application of the direct d-q-axis voltage commands associated with the </p><p id="p0009" num="0009">corresponding established monotonically varying test sequence of test rotor angular positions. The primary positioning module, the data processor, or the diagnostic computer determines that conductor connections between the inverter and the motor are correct if the calculated shaft speed sign is positive with respect to an applied monotonically varying test sequence of rotor angular positions that monotonically increases, or if a calculated shaft speed sign is negative in response to the application of the direct d-q-axis voltage commands associated with the </p><p id="p0010" num="0010">monotonically varying test sequence of rotor angular positions that monotonically decreases. </p><p id="p0011" num="0011">Brief Description of the Drawings </p><p id="p0012" num="0012"> FIG. 1 is a block diagram of one embodiment of a system for evaluating 
<!-- EPO <DP n="5"/>-->
 electrical connections between a motor controller and motor. </p><p id="p0013" num="0013"> FIG. 2 is a block diagram of an electronic data processing system consistent with FIG. 1. </p><p id="p0014" num="0014"> FIG. 3 is a flow chart of a first example of a method for evaluating electrical connections between a motor controller and motor. </p><p id="p0015" num="0015"> FIG. 4 is a flow chart of a second example of a method for evaluating electrical connections between a motor controller and motor. </p><p id="p0016" num="0016">Description of the Preferred Embodiment </p><p id="p0017" num="0017"> In accordance with one embodiment, FIG. 1 discloses system for controlling a motor 117 (e.g., an interior permanent magnet (IPM) motor) or another alternating current machine. In one embodiment, the system, aside from the motor 117, may be referred to as an inverter or a motor controller. </p><p id="p0018" num="0018"> The system comprises electronic modules, software modules, or both. In one embodiment, the motor controller comprises an electronic data processing system 120 to support storing, processing or execution of software instructions of one or more software modules. The electronic data processing system 120 is indicated by the dashed lines in FIG. 1 and is shown in greater detail in FIG. 2. </p><p id="p0019" num="0019"> The data processing system 120 is coupled to an inverter circuit 188. The inverter circuit 188 comprises a semiconductor drive circuit that drives or controls switching semiconductors (e.g., insulated gate bipolar transistors (IGBT) or other power transistors) to output control signals for the motor 117. In turn, the inverter circuit 88 is coupled to the motor 117. The motor 117 is associated with a sensor 115 (e.g., a position sensor, a resolver or encoder position sensor) that is associated with the motor shaft 126 or the rotor. The sensor 115 and the motor 117 are coupled to the data processing system 20 to provide feedback data (e.g., current feedback data, such as i<sub>a</sub>, it<sub>&gt;</sub>, ic). raw position signals, among other possible feedback data or signals, for example. Other possible feedback data includes, but is not limited to, winding temperature readings, semiconductor temperature readings of the inverter circuit 188, three phase voltage data, or other thermal or performance information for the motor 117. </p><p id="p0020" num="0020"> In one embodiment, the torque command generation module 105 is coupled to a d-q axis current generation manager 109 (e.g., d-q axis current generation look- 
<!-- EPO <DP n="6"/>-->
 up tables). D-q axis current refers to the direct axis current and the quadrature axis current as applicable in the context of vector-controlled alternating current machines, such as the motor 117. The output of the d-q axis current generation manager 109 and the output of a current adjustment module 107 (e.g., d-q axis current adjustment module 107) are fed to a summer 119. In turn, one or more outputs (e.g., direct axis current data (id<sup>*</sup>) and quadrature axis current data (i<sub>q</sub>*)) of the summer 19 are provided or coupled to a current regulation controller 111. </p><p id="p0021" num="0021"> The current regulation controller 111 is capable of communicating with the pulse-width modulation (PWM) generation module 112 (e.g., space vector PWM generation module). The current regulation controller 111 receives respective d-q axis current commands (e.g., i<sub>d</sub><sup>*</sup> and i<sub>q</sub><sup>*</sup>) and actual d-q axis currents (e.g., i<sub>d</sub> and i<sub>q</sub>) and outputs corresponding d-q axis voltage commands (e.g., v<sub>d</sub>* and v<sub>q</sub>* commands) for input to the PWM generation module 112. </p><p id="p0022" num="0022"> In one embodiment, the PWM generation module 112 converts the direct axis voltage and quadrature axis voltage data from two phase data representations into three phase representations (e.g., three phase voltage representations, such as v<sub>a</sub><sup>*</sup>, v<sub>b</sub>* and v<sub>c</sub>*) for control of the motor 117, for example. Outputs of the PWM </p><p id="p0023" num="0023">generation module 112 are coupled to the inverter 188. </p><p id="p0024" num="0024"> The inverter circuit 188 comprises power electronics, such as switching semiconductors to generate, modify and control pulse-width modulated signals or other alternating current signals (e.g., pulse, square wave, sinusoidal, or other waveforms) applied to the motor 117. The PWM generation module 1 2 provides inputs to a driver stage within the inverter circuit 188. An output stage of the inverter circuit 88 provides a modulated signal, a pulse-width modulated signal, a pulse- width modulated voltage waveform, a voltage signal or other alternating current signal for control of the motor. In one embodiment, the inverter 188 is powered by a direct current (DC) voltage bus. </p><p id="p0025" num="0025"> The motor 117 is associated with a sensor 115 (e.g., a resolver, encoder, speed sensor, or a position sensor or sensors) that estimates at least one of an angular position of the motor shaft 126, a speed or velocity of the motor shaft 126, and a direction of rotation of the motor shaft 126. The sensor 115 may be mounted on or integral with the motor shaft 126. The output of the sensor 115 is capable of communication with the primary processing module 114 (e.g., position and speed processing module). In one embodiment, the sensor 115 may be coupled to an 
<!-- EPO <DP n="7"/>-->
 analog-to-digital converter (not shown) that converts analog position data or velocity data to digital position or velocity data, respectively. In other embodiments, the sensor 115 (e.g., digital position encoder) may provide a digital data output of position data or velocity data for the motor shaft 126 or rotor. </p><p id="p0026" num="0026"> A first output (e.g., position data and speed data for the motor 117) of the primary processing module 114 is communicated to the phase converter 113 (e.g., three-phase to two-phase current Park transformation module) that converts respective three-phase digital representations of measured current into </p><p id="p0027" num="0027">corresponding two-phase digital representations of measured current. A second output (e.g., speed data) of the primary processing module 114 is communicated to the calculation module 10 (e.g., adjusted voltage over speed ratio module). </p><p id="p0028" num="0028"> An input of a sensing circuit 124 is coupled to terminals of the motor 117 for sensing at least the measured three-phase currents and a voltage level of the direct current (DC) bus (e.g., high voltage DC bus which may provide DC power to the inverter circuit 188). An output of the sensing circuit 24 is coupled to an analog-to- digital converter 122 for digitizing the output of the sensing circuit 124. In turn, the digital output of the analog-to-digital converter 122 is coupled to the secondary processing module 116 (e.g., Direct current (DC) bus and three phase current processing module). For example, the sensing circuit 124 is associated with the motor 117 for measuring three phase currents (e.g., current applied to the windings of the motor 117, back EMF induced into the windings, or both). </p><p id="p0029" num="0029"> Certain outputs of primary processing module 14 and the secondary processing module 116 feed the phase converter 113. For example, the phase converter 113 may apply a Park transformation or other conversion equations (e.g., certain conversion equations that are suitable are known to those of ordinary skill in the art) to convert the measured three-phase representations of current into two- phase representations of current based on the digital three-phase current data from the secondary processing module 116 and position data from the sensor 115. The output of the phase converter 113 module is coupled to the current regulation controller 111. </p><p id="p0030" num="0030"> Other outputs of the primary processing module 114 and the secondary processing module 116 may be coupled to inputs of the calculation module 110 (e.g., adjusted voltage over-speed ratio calculation module). For example, the primary processing module 114 may provide speed data (e.g., motor shaft 126 revolutions 
<!-- EPO <DP n="8"/>-->
 per minute), whereas the secondary processing module 116 may provide a measured level of direct current voltage (e.g., on the direct current (DC) bus of a vehicle). The direct current voltage level on the DC bus that supplies the inverter circuit 88 with electrical energy may fluctuate or vary because of various factors, including, but not limited to, ambient temperature, battery condition, battery charge state, battery resistance or reactance, fuel cell state (if applicable), motor load conditions, respective motor torque and corresponding operational speed, and vehicle electrical loads (e.g., electrically driven air-conditioning compressor). The calculation module 110 is connected as an intermediary between the secondary processing module 116 and the dq-axis current generation manager 109. The output of the calculation module 110 can adjust or impact current commands generated by the d-q axis current generation manager 109 to compensate for fluctuation or variation in direct current bus voltage, among other things. </p><p id="p0031" num="0031"> The rotor magnet temperature estimation module 104, the current shaping module 106, and the terminal voltage feedback module 108 are coupled to or are capable of communicating with the dq-axis current adjustment module 107. In turn, the d-q axis current module 107 may communicate with the dq-axis current generation manager or the summer 119. </p><p id="p0032" num="0032"> The rotor magnet temperature module 104 estimates or determines the temperature of the rotor permanent magnet or magnets. In one embodiment, the rotor magnet temperature estimation module 104 may estimate the temperature of the rotor magnets from internal control variables calculation, or from one or more sensors located on the stator, in thermal communication with the stator, or secured to the housing of the motor 117. </p><p id="p0033" num="0033"> In another alternative embodiment, the rotor magnet temperature estimation module 104 may be replaced with a temperature detector (e.g., a thermistor or infrared thermal sensor coupled to a wireless transmitter) mounted on the rotor or the magnet, where the detector provides a signal (e.g., wireless signal) indicative of the temperature of the magnet or magnets. </p><p id="p0034" num="0034"> In one embodiment, the method or system may operate in the following manner. The torque command generation module 105 receives an input control data message, such as a speed control data message, a voltage control data message, or a torque control data message, over a vehicle data bus 118. The torque command generation module 05 converts the received input control message into 
<!-- EPO <DP n="9"/>-->
 torque control command data 316. </p><p id="p0035" num="0035"> The d-q axis current generation manager 109 selects or determines the direct axis current command data and the quadrature axis current command data associated with respective torque control command data and respective detected motor shaft 26 speed data. For example, the d-q axis current generation manager 109 selects or determines the direct axis current command, the quadrature axis current command by accessing one or more of the following: (1) a look-up table, database or other data structure that relates respective torque commands to corresponding direct and quadrature axes currents, (2) a set of quadratic equations or linear equations that relate respective torque commands to corresponding direct and quadrature axes currents, or (3) a set of rules (e.g., if-then rules) that relates respective torque commands to corresponding direct and quadrature axes currents. The sensor 115 on the motor 117 facilitates provision of the detected speed data for the motor shaft 126, where the primary processing module 114 may convert position data provided by the sensor 115 into speed data. </p><p id="p0036" num="0036"> The current adjustment module 107 (e.g., d-q axis current adjustment module) provides current adjustment data to adjust the direct axis current command data and the quadrature axis current command data based on input data from the rotor magnet temperature estimation module 104, the current shaping module 106, and the terminal voltage feedback module 108. </p><p id="p0037" num="0037"> The current shaping module 106 may determine a correction or preliminary adjustment of the quadrature axis (q-axis) current command and the direct axis id- axis) current command based on one or more of the following factors: torque load on the motor 117 and speed of the motor 117, for example. The rotor magnet temperature estimation module 104 may generate a secondary adjustment of the q- axis current command and the d-axis current command based on an estimated change in rotor temperature, for example. The terminal voltage feedback module 08 may provide a third adjustment to d-axis and q-axis current based on control voltage command versus voltage limit. The current adjustment module 107 may provide an aggregate current adjustment that considers one or more of the following: a preliminary adjustment, a secondary adjustment, and a third adjustment. </p><p id="p0038" num="0038"> In one embodiment, the motor 117 may comprise an interior permanent magnet machine (IPM) machine or an IPM synchronous machine (IPMSM). An IPMSM has many favorable advantages compares with conventional induction 
<!-- EPO <DP n="10"/>-->
 machines or surface mounted PM machines (SMPM) such as high efficiency, high power density, wide constant power operating region, maintenance free, for instance. </p><p id="p0039" num="0039"> The sensor 115 (e.g., shaft or rotor speed detector) may comprise one or more of the following: a direct current motor, an optical encoder, a magnetic field sensor (e.g., Hall Effect sensor), magneto-resistive sensor, and a resolver (e.g., a brushless resolver). In one configuration, the sensor 115 comprises a position sensor, where position data and associated time data are processed to determine speed or velocity data for the motor shaft 126. In another configuration, the sensor 115 comprises a speed sensor, or the combination of a speed sensor and an integrator to determine the position of the motor shaft. </p><p id="p0040" num="0040"> In yet another configuration, the sensor 115 comprises an auxiliary, compact direct current generator that is coupled mechanically to the motor shaft 126 of the motor 117 to determine speed of the motor shaft 126, where the direct current generator produces an output voltage proportional to the rotational speed of the motor shaft 126. In still another configuration, the sensor 1 5 comprises an optical encoder with an optical source that transmits a signal toward a rotating object coupled to the shaft 126 and receives a reflected or diffracted signal at an optical detector, where the frequency of received signal pulses (e.g., square waves) may be proportional to a speed of the motor shaft 126. In an additional configuration, the sensor 115 comprises a resolver with a first winding and a second winding, where the first winding is fed with an alternating current, where the voltage induced in the second winding varies with the frequency of rotation of the rotor. </p><p id="p0041" num="0041"> In FIG. 2, the electronic data processing system 120 comprises an electronic data processor 264, a data bus 262, a data storage device 260, and one or more data ports (268, 270, 272, 274, 276 and 280). The data processor 264, the data storage device 260 and one or more data ports are coupled to the data bus 262 to support communications of data between or among the data processor 264, the data storage device 260 and one or more data ports. </p><p id="p0042" num="0042"> In one embodiment, the data processor 264 may comprise one or more of the following electronic components: an electronic data processor, a microprocessor, a microcontroller, a programmable logic array, a field programmable gate array (FPGA), a logic circuit, an arithmetic logic unit, an application specific integrated circuit, a digital signal processor (DSP), a proportional-integral-derivative (PID) 
<!-- EPO <DP n="11"/>-->
 controller, or another data processing device. The above electronic components may be interconnected via one or more data buses, parallel data buses, serial data buses, or any combination of parallel and serial data buses, for example. </p><p id="p0043" num="0043"> The data storage device 260 may comprise any magnetic, electronic, or optical device for storing data. For example, the data storage device 260 may comprise an electronic data storage device, an electronic memory, non-volatile electronic random access memory, one or more electronic data registers, data latches, a magnetic disc drive, a hard disc drive, an optical disc drive, or the like. </p><p id="p0044" num="0044"> As shown in FIG. 2, the data ports comprise a first data port 268, a second data port 270, a third data port 272, a fourth data port 274, a fifth data port 276, and a sixth data port 280; although any suitable number of data ports may be used. </p><p id="p0045" num="0045">Each data port may comprise a transceiver and buffer memory, for example. In one embodiment, each data port may comprise any serial or parallel input/output port. </p><p id="p0046" num="0046"> In one embodiment as illustrated in FIG. 2, the first data port 268 is coupled to the vehicle data bus 118. In turn, the vehicle data bus 118 is coupled to the controller 266. In one configuration, the second data port 270 may be coupled to the inverter circuit 188; the third data port 272 may be coupled to the sensor 115; the fourth data port 274 may be coupled to the analog-to-digital converter 122; the fifth data port 276 may be coupled to the terminal voltage feedback module 108; and the sixth data port 280 is coupled to the diagnostic computer 282. The diagnostic computer 282 comprises diagnostic software 284 that is executable by a computer data processor. The diagnostic computer 282 is coupled to a user interface 286. The user interface 286 comprises one or more of the following: a keyboard, a display, a pointing device (e.g., electronic mouse), a switch, a keypad, or another device that supports entering, inputting, manipulating, or outputting data into, within or from the computer 282. The analog-to-digital converter 122 is coupled to the sensing circuit 124. </p><p id="p0047" num="0047"> In one embodiment of the data processing system 120, the torque command generation module 105 is associated with or supported by the first data port 268 of the electronic data processing system 120. The first data port 268 may be coupled to a vehicle data bus 18, such as a controller area network (CAN) data bus. The vehicle data bus 118 may provide data bus messages with torque commands to the torque command generation module 105 via the first data port 268. The operator of a vehicle may generate the torque commands via a user interface, such as a throttle, 
<!-- EPO <DP n="12"/>-->
 a pedal, a controller 266, or other control device. </p><p id="p0048" num="0048"> In certain embodiments, the sensor 115 and the primary processing module 114 may be associated with or supported by a third data port 272 of the data processing system 120. </p><p id="p0049" num="0049"> FIG. 3 discloses a method for evaluating electrical connections between a motor (e.g., 117) controller and motor (e.g., 117), and more particularly, a method for determining whether a multi-phase motor (e.g., 117) is properly connected to an inverter. The method of FIG. 3 begins in step S300. </p><p id="p0050" num="0050"> In step S300, a data processor 264, pulse width modulation generation module 112, or diagnostic computer 282 establishes a monotonically varying test sequence of test rotor angular positions associated with the application of </p><p id="p0051" num="0051">corresponding pairs of direct d-q axis (or d-q axes) voltage commands to the motor (e.g., 117). Each of the pairs of direct d-q axis voltage commands comprises a direct-axis voltage command and a quadrature axis voltage command. A </p><p id="p0052" num="0052">monotonically varying test sequence may comprise a monotonically increasing test sequence of test rotor angular positions or a monotonically decreasing test sequence of test rotor angular positions. Monotonically increasing means one or more of the following: continuously increasing, increasing without material interruption, increasing in discrete steps, increasing with pauses or periodic pauses in the increase, or increasing without any material decreases. Monotonically decreasing means one or more of the following: continuously decreasing, decreasing without material interruption, decreasing in discrete steps, decreasing with pauses or periodic pauses in the increase, or decreasing without any material increases. </p><p id="p0053" num="0053">Step S300 may be executed in accordance with various procedures that are applied alternately or cumulatively. Under a first procedure for executing step S300, a data processor 264, pulse width modulation generation module 112, or diagnostic computer 282 establishes or provides respective pairs of direct dq-axis voltage commands corresponding to a monotonically varying test sequence of test rotor angular positions for a diagnostic mode or test mode of the inverter or data processing system 120. In the diagnostic mode, as opposed to the operational mode of the inverter or data processing system 120, the torque command generation module 112 may be disabled (or deactivated) such that the torque command generation module 112 does not receive or act upon torque commands from the 
<!-- EPO <DP n="13"/>-->
 vehicle data bus 118 while the data processing system is in the diagnostics mode. Similarly, in the diagnostic mode, as opposed to the operational mode of the inverter or data processing system 120, the current regulation controller 111 or the current regulator may be disabled (or deactivated) such that the current regulation controller 111 is bypassed or does not receive or act upon torque commands from the vehicle data bus 118 while the data processing system 20 is in the diagnostics mode. </p><p id="p0054" num="0054"> Under a second procedure for executing step S300, the current regulation controller 111 or the current regulator may be bypassed in the diagnostics mode such that direct d-q axis voltage commands consistent with the monotonically varying test sequence of test rotor angular positions are generated directly in or at the pulse width modulation generation module 112. Further, in certain embodiments, the pulse width modulation generation module 112 may generate one or more sets or sequences of d-q axis voltage commands or corresponding three phase voltages for test purposes in the diagnostic mode. </p><p id="p0055" num="0055"> Under a third procedure, a diagnostic computer 282 activates, provides, or establishes the direct d-q-axis voltage commands consistent with the monotonically varying test sequence of test rotor angular positions to bypass a current regulation controller 111 or current regulator in a diagnostic mode or a test mode. The diagnostic computer 282 operates diagnostic software 284 stored therein and executable thereby. </p><p id="p0056" num="0056"> Under a fourth procedure, in a diagnostic mode or test mode, the direct d-q- axis voltage commands provided by the diagnostic computer 282 or the pulse width generation modulation generation module 112 are active, as opposed to standard d- q-axis voltage commands ordinarily provided by the current regulation controller 111 during the operational mode. The current regulation controller 111 or current regulator provides a direct-axis current command and quadrature-axis current command in the operational mode. </p><p id="p0057" num="0057"> Under a fifth example, the direct d-q-axis voltage commands associated with monotonically varying rotor angular position change in every pulse width modulation (PWM) cycle in accordance the following equation: </p><p id="p0058" num="0058">initial startup frequency * 360° </p><p id="p0059" num="0059"> Δ6/— <sup>:</sup> </p><p id="p0060" num="0060"> PWM_switching_frequency 
<!-- EPO <DP n="14"/>-->
 Δθ </p><p id="p0061" num="0061">where is a change in the rotor position increment from an earlier pulse-width modulation cycle to a later pulse-width modulation cycle, initial_startup_frequency is within a range of approximately 1 Hz to approximately 10 Hz, and the </p><p id="p0062" num="0062">PWM_switching_ frequency is within a range of approximately 1kHz (kilohertz) to approximately 10 kHz. </p><p id="p0063" num="0063"> Under a sixth procedure, the test sequence of test rotor angular positions may comprise any aligned positions within the following group of aligned positions: </p><p id="p0064" num="0064">approximately 0 degrees, approximately 60 degrees, approximately 120 degrees, approximately 180 degrees, approximately 240 degrees, approximately 300 degrees and approximately 360 degrees, where approximately means plus or minus five degrees. Each of the aligned positions is associated with a different corresponding phase winding current or activation of different combinations or permutations of semiconductors (e.g., power insulated gate bipolar transistors) within the inverter switching circuit 88, for example. </p><p id="p0065" num="0065"> In step S302, the data processor 264 or the pulse width modulation </p><p id="p0066" num="0066">generation module 112 converts and transforms the direct d-q-axis voltage commands into multi-phase voltages (e.g., three phase voltages) for each </p><p id="p0067" num="0067">corresponding input phase terminal of the multi-phase motor (e.g., 117). Further, the direct d-q axis voltage commands are processed as modulated signals (e.g., pulse width modulated signals, square wave signals, or other waveforms) for application to each corresponding input terminal. </p><p id="p0068" num="0068"> In step S304, the data processor 264, the pulse width modulation generation module 112, or the inverter switching circuit 188 rotates the rotor of the motor (e.g., 117) in response to the application of direct d-q-axis voltage commands (after conversion or transformation to respective three phase commands) associated with the corresponding established monotonically varying test sequence of test rotor angular positions. For example, in a field initial position offset calibration procedure, the data processor 264, the pulse width modulation generation module 1 2, or the diagnostic computer 282 provides or cooperates to provide direct d-q-axis voltage commands and associated monotonically varying test positions for application to respective phase input terminals to rotate the rotor at a known predetermined rotational direction. 
<!-- EPO <DP n="15"/>-->
 In step S306, the data processor 264, or the primary processing module 114, determines whether or not the conductor connections between the inverter and the motor (e.g., 17) are correct. Step S306 may be carried out in accordance with various techniques that may be applied separately or cumulatively. Under a first technique, the data processor 264 or primary processing module 114 determines that the conductor connections between the inverter and the motor (e.g., 117) are correct if the calculated shaft speed sign is positive in response to the application of the direct d-q axis voltage commands associated with a respective monotonically varying test sequence (e.g., monotonically increasing test sequence) of rotor angular positions that monotonically increases. </p><p id="p0069" num="0069"> Under a second technique for carrying out step S306, the data processor 264 or primary processing module 114 determines that conductor connections between the inverter and the motor (e.g., 117) are correct if the calculated shaft speed sign is negative in response to the application of the direct d-q axis voltage commands associated with a respective monotonically varying test sequence (e.g., </p><p id="p0070" num="0070">monotonically decreasing test sequence) of rotor angular positions that decreases. </p><p id="p0071" num="0071"> Under a third technique for executing step S306, the data processor 264 or primary processing module 114 determines that conductor connections between the inverter and the motor (e.g., 117) are incorrect if the calculated shaft speed sign is negative in response to the application of the direct d-q axis voltage commands associated with a respective monotonically varying test sequence (e.g., </p><p id="p0072" num="0072">monotonically increasing test sequence) of rotor angular positions that increases. </p><p id="p0073" num="0073"> Under a fourth technique, the data processor 264 or primary processing module 114 determines that the conductor connections between the motor (e.g., 117) and inverter are incorrect if the calculated shaft speed sign is positive in response to the application of the direct d-q axis voltage commands associated with a respective monotonically varying test sequence (e.g., monotonically decreasing test sequence) of rotor angular positions that monotonically decreases. </p><p id="p0074" num="0074"> Under a fifth technique for executing step S306, the data processor 264, primary processing module 114, or diagnostic computer 282 detects that a variation trend in raw position readings matches a phase sequence connection if the calculated motor (e.g., 117) shaft speed is positive with commanding a monotonically increasing position, and vice versa. Under a sixth technique, the data processor 264, primary processing module 114, or diagnostic computer 282 detects that the 
<!-- EPO <DP n="16"/>-->
 variation trend in raw position reading is not matching phase sequence connection if the calculated motor (e.g., 117) shaft speed is positive with commanding </p><p id="p0075" num="0075">monotonically decreasing position, and vice versa. </p><p id="p0076" num="0076"> After or during step S306, the data processor 264 or the primary processing module 114 may report or transmit a data status message to the diagnostic computer 282 via the sixth data port 280, where the data status message contains information on whether the conductor connection between the inverter and the motor is correct or not. The diagnostic computer 284 may display or output the data status message to a user or technician via the user interface 286. </p><p id="p0077" num="0077"> FIG. 4 discloses a method for evaluating electrical connections between a motor (e.g., 117) controller and motor (e.g., 117), and more particularly, a method for determining whether a multi-phase motor (e.g., 117) is properly connected to an inverter. The method of FIG. 4 begins in step S400. </p><p id="p0078" num="0078"> In step S400, the diagnostic computer 282, the data processor 264, or the pulse width modulation generation module 112 activates a plurality of semiconductor switches in the inverter switching circuit 188 to apply the direct phase current commands to achieve a respective target phase winding current in the motor (e.g., 117) that aligns the motor (e.g., 117) in a known aligned position. The </p><p id="p0079" num="0079">semiconductor switches may comprise insulated gate bipolar transistors (IGBT's), power transistors, or power field effect transistors (FET's), for example. If the motor (e.g., 117) comprises a multi-phase motor (e.g., 117), the application of each respective direct phase current command can be used to rotate the rotor to a corresponding known aligned position, among a group of possible angular rotor positions. The direct phase current commands are applied one or more windings of the motor (e.g., 117) via the data processor 264 and via the inverter switching circuit 188, for example. </p><p id="p0080" num="0080"> In step S402, the diagnostic computer 282, the data processor 264, of the secondary processing module determines if an observed rotor position is aligned with the known aligned position in response to application of the direct phase current commands. For example, the diagnostic computer 282, the data processor 264, of the secondary processing module determines if each observed rotor position is aligned with the corresponding known aligned position in response to application of a sequence or series of the direct phase current commands. 
<!-- EPO <DP n="17"/>-->
 In step S404, the diagnostic computer 282, identifies an improper wiring connection between the inverter and the motor (e.g., 117) if the observed rotor position is not aligned with the known aligned position above a tolerable range, or for the sequence of the direct phase current commands. For example, if the observed rotor position is approximately 120 degrees and if the known aligned position is approximately 0 or 360 degrees, a first input phase terminal and a second phase input terminal are erroneously interchanged. The tolerable range may be defined as plus or minus 10 degrees of rotation of the rotor, although other tolerable range may be suitable and will fall within the scope of the claims appended hereto. </p><p id="p0081" num="0081"> During assembly, repair or field diagnosis, the above embodiments of the method and system facilitate efficiently and quickly determining whether the electrical connections between a motor or multi-phase motor and the motor controller (e.g., inverter) are correct. In particular, the method and system disclosed herein provides a simplified diagnostic test procedure that can readily be performed in the field or a service facility, without the use of an oscilloscope or test motor, to evaluate the correctness of electrical connections between the motor controller and motor</p><p id="p0082" num="0082">Having described the preferred embodiment, it will become apparent that various modifications can be made without departing from the scope of the invention as defined in the accompanying claims. 
</p></description><claims mxw-id="PCLM44726230" ref-ucid="WO-2012115917-A2" lang="EN" load-source="patent-office"><claim id="clm-0001" num="0001"><!-- EPO <DP n="18"/>--><claim-text/><claim-text>The following is claimed: </claim-text><claim-text> 1. A method for determining whether a multi-phase motor is properly connected to an inverter, the method comprising: </claim-text><claim-text> establishing a monotonically varying test sequence of test rotor angular positions associated with application of corresponding pairs of direct d-q-axis voltage commands to the motor, each of the pairs of direct d-q axis voltage commands comprising a direct-axis command and a quadrature-axis command; </claim-text><claim-text> converting or transforming the direct d-q-axis voltage commands into multiple phase voltages for each corresponding input phase terminal of the multi-phase motor, the direct d-q-axis voltage commands processed as modulated signals for application to each corresponding input phase terminal; </claim-text><claim-text> rotating the rotor of the motor in response to the application of the direct d-q- axis voltage commands associated with the corresponding established monotonically varying test sequence of test rotor angular positions; and </claim-text><claim-text> determining that conductor connections between the inverter and the motor are correct if a calculated shaft speed sign is positive in response to the application of the direct d-q-axis voltage commands associated with the monotonically varying test sequence of rotor angular positions that monotonically increases or if a calculated shaft speed sign is negative in response to the application of the direct d- q-axis voltage commands associated with the monotonically varying test sequence of rotor angular positions that monotonically decreases. </claim-text><claim-text>2. The method according to claim 1 wherein the modulated signals comprise pulse width modulation signals. 
<!-- EPO <DP n="19"/>-->
</claim-text><claim-text>3. The method according to claim 1 further comprising: </claim-text><claim-text> determining that conductor connections between the inverter and the motor are incorrect if the calculated shaft speed sign is negative in response to the application of the direct d-q-axis voltage commands associated with the </claim-text><claim-text>monotonically varying test sequence of rotor angular positions that monotonically increases. </claim-text><claim-text>4. The method according to claim 1 further comprising: </claim-text><claim-text> determining that conductor connections between the inverter and the motor are incorrect if the calculated shaft speed sign is positive in response to the application of the direct d-q-axis voltage commands associated with the </claim-text><claim-text>monotonically varying test sequence of rotor angular positions that monotonically decreases. </claim-text><claim-text>5. The method according to claim 1 wherein the direct d-q-axis voltage commands are manually activated by a user to bypass a current regulation controller in a test mode. </claim-text><claim-text>6. The method according to claim 1 wherein the direct d-q-axis voltage commands are inactive in an operational mode; and further comprising: </claim-text><claim-text> providing, by a current regulation controller, a direct-axis current command and quadrature-axis current command in the operational mode. 
<!-- EPO <DP n="20"/>-->
</claim-text><claim-text>7. The method according to claim 1 wherein the direct d-q-axis voltage commands associated with monotonically varying rotor angular position changes in every pulse- width-modulation (PWM) cycle in accordance with the following equation: </claim-text><claim-text><img id="imgf000020_0001" he="16" wi="75" file="imgf000020_0001.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="yes"/></claim-text><claim-text> Δθ </claim-text><claim-text>where is a change in the rotor position increment or decrement from an earlier pulse-width modulation cycle to a later pulse-width modulation cycle, </claim-text><claim-text>initial_startup_frequency is within a range of approximately 1 Hz to approximately 10 Hz, and the PWM_switching_frequency is within a range of approximately 1kHz to approximately 10 kHz. </claim-text><claim-text>8. The method according to claim 1 further comprising: </claim-text><claim-text> in a field initial position offset calibration procedure, issuing direct d-q-axis voltage commands and associated monotonically varying test positions for application to respective phase input terminals to rotate the rotor at a known predetermined rotational direction; and </claim-text><claim-text> detecting that a variation trend in raw position readings is matching a phase sequence connection between the motor and the inverter if the calculated motor shaft speed is positive with commanding a monotonically increasing position, and vice versa. </claim-text><claim-text>9. The method according to claim 8 further comprising: </claim-text><claim-text> detecting that the variation trend in raw position reading is not matching phase sequence connection between the motor and the inverter if the calculated motor shaft speed is positive with commanding monotonically decreasing position, and vice versa. 
<!-- EPO <DP n="21"/>-->
</claim-text><claim-text>10. A method for determining whether a multi-phase motor is properly connected to an inverter, the method comprising: </claim-text><claim-text> activating a plurality of semiconductor switches to apply the direct phase current commands to achieve a respective target phase winding current in the motor that align the motor in a known aligned position; </claim-text><claim-text> determining if an observed rotor position is aligned with the known aligned position in response to application of the direct phase current commands; and </claim-text><claim-text> identifying improper wiring connection between the inverter and the motor if the observed rotor position is not aligned with the known aligned position above a tolerable range. </claim-text><claim-text>11. The method according to claim 10 wherein if the observed rotor position is approximately 120 degrees and if the known aligned position is approximately 0 or 360 degrees, a first input phase terminal and a second phase input terminal are erroneously interchanged. </claim-text><claim-text>12. A system for determining whether a multi-phase motor is properly connected to an inverter, the system comprising: </claim-text><claim-text> a data processor for establishing a monotonically varying test sequence of test rotor angular positions associated with application of corresponding pairs of direct d-q-axis voltage commands to the motor, each of the pairs of direct d-q axis voltage commands comprising a direct-axis command and a quadrature-axis command; 
<!-- EPO <DP n="22"/>-->
 a putse width modulation generation module for converting or transforming the direct d-q-axis voltage commands into multiple phase voltages for each </claim-text><claim-text>corresponding input phase terminal of the multi-phase motor; </claim-text><claim-text> an inverter switching circuit for processing the direct d-q-axis voltage commands processed as modulated signals for application to each corresponding input phase terminal of the motor; </claim-text><claim-text> a rotor of the motor rotated in response to the application of the direct d-q-axis voltage commands associated with the corresponding established monotonically varying test sequence of test rotor angular positions; and </claim-text><claim-text> the data processor adapted to determine that conductor connections between the inverter and the motor are correct if a calculated shaft speed sign is positive in response to the application of the direct d-q-axis voltage commands associated with the monotonically varying test sequence of rotor angular positions that monotonically increases. </claim-text><claim-text>13. The system according to claim 12 wherein the data processor is adapted to determine that the conductor connections between the inverter and the motor are correct if a calculated shaft speed sign is negative in response to the application of the direct d-q-axis voltage commands associated with the monotonically varying test sequence of rotor angular positions that monotonically decreases. </claim-text><claim-text>14. The system according to claim 12 wherein the modulated signals comprise pulse width modulation signals. 
<!-- EPO <DP n="23"/>-->
</claim-text><claim-text>15. The system according to claim 12 wherein the data processor is adapted to determine that the conductor connections between the inverter and the motor are incorrect if the calculated shaft speed sign is negative in response to the application of the direct d-q-axis voltage commands associated with the monotonically varying test sequence of rotor angular positions that monotonically increases. 6. The system according to claim 12 wherein the data processor is adapted to determine that the conductor connections between the inverter and the motor are incorrect if the calculated shaft speed sign is positive in response to the application of the direct d-q-axis voltage commands associated with the monotonically varying test sequence of rotor angular positions that monotonically decreases. </claim-text><claim-text>17. The system according to claim 12 further comprising: </claim-text><claim-text> a current regulation controller for generating d-q axis voltage commands in an operational mode; where in a diagnostic mode the direct d-q-axis voltage commands bypass or disable the current regulation controller. </claim-text><claim-text>18. The system according to claim 12 wherein the direct d-q-axis voltage commands associated with monotonically varying rotor angular position changes in every pulse- width-modulation (PWM) cycle in accordance with the following equation: </claim-text><claim-text><img id="imgf000023_0001" he="14" wi="73" file="imgf000023_0001.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="yes"/></claim-text><claim-text> Δθ </claim-text><claim-text>where is a change in the rotor position increment from an earlier pulse-width modulation cycle to a later pulse-width modulation cycle, initial_startup_frequency is within a range of approximately 1 Hz to approximately 10 Hz, and the 
<!-- EPO <DP n="24"/>-->
 PWM_switching_frequency is within a range of approximately 1kHz to approximately 10 kHz. 
</claim-text></claim></claims><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
