<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2677962-A2" country="EP" doc-number="2677962" kind="A2" date="20140101" family-id="46719528" file-reference-id="282766" date-produced="20180826" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146551509" ucid="EP-2677962-A2"><document-id><country>EP</country><doc-number>2677962</doc-number><kind>A2</kind><date>20140101</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-12748896-A" is-representative="NO"><document-id mxw-id="PAPP154825432" load-source="docdb" format="epo"><country>EP</country><doc-number>12748896</doc-number><kind>A</kind><date>20120202</date><lang>EN</lang></document-id><document-id mxw-id="PAPP183268017" load-source="docdb" format="original"><country>EP</country><doc-number>12748896.3</doc-number><date>20120202</date><lang>EN</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140447857" ucid="IL-2012000057-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>IL</country><doc-number>2012000057</doc-number><kind>W</kind><date>20120202</date></document-id></priority-claim><priority-claim mxw-id="PPC140454215" ucid="US-201113034516-A" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>201113034516</doc-number><kind>A</kind><date>20110224</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-1846796874" load-source="docdb">A61N   1/36        20060101ALI20170203BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1846796875" load-source="docdb">A61N   1/00        20060101ALI20170203BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1846796876" load-source="docdb">A61F   2/16        20060101AFI20170203BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1846796877" load-source="docdb">A61F   2/14        20060101ALI20170203BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1996929306" load-source="docdb" scheme="CPC">A61F   2/14        20130101 FI20151126BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1996931040" load-source="docdb" scheme="CPC">A61N   1/36046     20130101 LI20151126BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132187011" lang="DE" load-source="patent-office">RETINAPROTHESE MIT EFFIZIENTEN VERARBEITUNGSSCHALTUNGEN</invention-title><invention-title mxw-id="PT132187012" lang="EN" load-source="patent-office">RETINAL PROSTHESIS WITH EFFICIENT PROCESSING CIRCUITS</invention-title><invention-title mxw-id="PT132187013" lang="FR" load-source="patent-office">PROTHÈSE RÉTINIENNE AYANT DES CIRCUITS DE TRAITEMENT EFFICACES</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR918142336" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>NANO RETINA INC</last-name><address><country>US</country></address></addressbook></applicant><applicant mxw-id="PPAR918159561" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>NANO-RETINA, INC.</last-name></addressbook></applicant><applicant mxw-id="PPAR918992326" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Nano-Retina, Inc.</last-name><iid>101196127</iid><address><street>2711 Centerville Road, Suite 400 County of New Castle</street><city>Wilmington, Delaware 19808</city><country>US</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR918150581" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>LIRAN TUVIA</last-name><address><country>IL</country></address></addressbook></inventor><inventor mxw-id="PPAR918132007" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>LIRAN, TUVIA</last-name></addressbook></inventor><inventor mxw-id="PPAR918979494" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>LIRAN, TUVIA</last-name><address><street>10a Savion Street</street><city>36531 Qiryat Tivon</city><country>IL</country></address></addressbook></inventor><inventor mxw-id="PPAR918142358" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>GEFEN RA ANAN</last-name><address><country>IL</country></address></addressbook></inventor><inventor mxw-id="PPAR918146583" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>GEFEN, RA'ANAN</last-name></addressbook></inventor><inventor mxw-id="PPAR918978639" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>GEFEN, RA'ANAN</last-name><address><street>106 Hairosim Street</street><city>71799 Re'ut</city><country>IL</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR918986134" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Evens, Paul Jonathan</last-name><suffix>et al</suffix><iid>100040855</iid><address><street>MAGUIRE BOSS 24 East Street</street><city>St. Ives Cambridgeshire PE27 5PD</city><country>GB</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="IL-2012000057-W"><document-id><country>IL</country><doc-number>2012000057</doc-number><kind>W</kind><date>20120202</date><lang>EN</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2012114327-A2"><document-id><country>WO</country><doc-number>2012114327</doc-number><kind>A2</kind><date>20120830</date><lang>EN</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS548935195" load-source="docdb">AL</country><country mxw-id="DS548942691" load-source="docdb">AT</country><country mxw-id="DS548935196" load-source="docdb">BE</country><country mxw-id="DS548931104" load-source="docdb">BG</country><country mxw-id="DS548936496" load-source="docdb">CH</country><country mxw-id="DS548867663" load-source="docdb">CY</country><country mxw-id="DS548942692" load-source="docdb">CZ</country><country mxw-id="DS548935197" load-source="docdb">DE</country><country mxw-id="DS548867664" load-source="docdb">DK</country><country mxw-id="DS548867665" load-source="docdb">EE</country><country mxw-id="DS548817226" load-source="docdb">ES</country><country mxw-id="DS548931105" load-source="docdb">FI</country><country mxw-id="DS548931106" load-source="docdb">FR</country><country mxw-id="DS548935198" load-source="docdb">GB</country><country mxw-id="DS548867666" load-source="docdb">GR</country><country mxw-id="DS548935199" load-source="docdb">HR</country><country mxw-id="DS548942693" load-source="docdb">HU</country><country mxw-id="DS548936497" load-source="docdb">IE</country><country mxw-id="DS548935200" load-source="docdb">IS</country><country mxw-id="DS548931107" load-source="docdb">IT</country><country mxw-id="DS548867667" load-source="docdb">LI</country><country mxw-id="DS548838940" load-source="docdb">LT</country><country mxw-id="DS548942698" load-source="docdb">LU</country><country mxw-id="DS548838941" load-source="docdb">LV</country><country mxw-id="DS548838942" load-source="docdb">MC</country><country mxw-id="DS548919541" load-source="docdb">MK</country><country mxw-id="DS548919542" load-source="docdb">MT</country><country mxw-id="DS548817227" load-source="docdb">NL</country><country mxw-id="DS548931108" load-source="docdb">NO</country><country mxw-id="DS548919543" load-source="docdb">PL</country><country mxw-id="DS548936498" load-source="docdb">PT</country><country mxw-id="DS548817228" load-source="docdb">RO</country><country mxw-id="DS548936499" load-source="docdb">RS</country><country mxw-id="DS548919544" load-source="docdb">SE</country><country mxw-id="DS548936500" load-source="docdb">SI</country><country mxw-id="DS548931109" load-source="docdb">SK</country><country mxw-id="DS548919545" load-source="docdb">SM</country><country mxw-id="DS548867668" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data><office-specific-data><eptags><ep-no-a-document-published>*</ep-no-a-document-published></eptags></office-specific-data></bibliographic-data><abstract mxw-id="PA99623408" ref-ucid="WO-2012114327-A2" lang="EN" load-source="patent-office"><p num="0000">A medical device includes an array of electrodes (26), configured for implantation in contact with tissue in an eye (22) of a living subject. Driver circuitry (46) is configured to drive the electrodes (26) in an alternating pattern, such that different groups of the electrodes are driven to stimulate the tissue during different, predetermined respective time periods. A power sensor (132), may be coupled to deactivate a first group of the electrodes when the available electrical power drops below a predetermined threshold, while a second group of the electrodes remains active. Other embodiments are also described.</p></abstract><abstract mxw-id="PA99822227" ref-ucid="WO-2012114327-A2" lang="EN" source="national office" load-source="docdb"><p>A medical device includes an array of electrodes (26), configured for implantation in contact with tissue in an eye (22) of a living subject. Driver circuitry (46) is configured to drive the electrodes (26) in an alternating pattern, such that different groups of the electrodes are driven to stimulate the tissue during different, predetermined respective time periods. A power sensor (132), may be coupled to deactivate a first group of the electrodes when the available electrical power drops below a predetermined threshold, while a second group of the electrodes remains active. Other embodiments are also described.</p></abstract><abstract mxw-id="PA99623409" ref-ucid="WO-2012114327-A2" lang="FR" load-source="patent-office"><p num="0000">L'invention concerne un dispositif médical comprenant un réseau d'électrodes (26), configuré pour une implantation en contact avec le tissu dans un œil (22) d'un sujet vivant. Des circuits d'attaque (46) sont configurés pour alimenter les électrodes (26) dans un motif alternatif, de telle sorte que différents groupes des électrodes sont alimentés pour stimuler le tissu au cours de différentes périodes de temps respectives, prédéterminées. Un capteur de puissance (132) peut être couplé pour désactiver un premier groupe des électrodes lorsque l'alimentation électrique disponible chute au-dessous d'un seuil prédéterminé, alors qu'un second groupe des électrodes reste actif. D'autres modes de réalisation sont également décrits.</p></abstract><abstract mxw-id="PA99822228" ref-ucid="WO-2012114327-A2" lang="FR" source="national office" load-source="docdb"><p>L'invention concerne un dispositif médical comprenant un réseau d'électrodes (26), configuré pour une implantation en contact avec le tissu dans un oeil (22) d'un sujet vivant. Des circuits d'attaque (46) sont configurés pour alimenter les électrodes (26) dans un motif alternatif, de telle sorte que différents groupes des électrodes sont alimentés pour stimuler le tissu au cours de différentes périodes de temps respectives, prédéterminées. Un capteur de puissance (132) peut être couplé pour désactiver un premier groupe des électrodes lorsque l'alimentation électrique disponible chute au-dessous d'un seuil prédéterminé, alors qu'un second groupe des électrodes reste actif. D'autres modes de réalisation sont également décrits.</p></abstract><description mxw-id="PDES50930811" ref-ucid="WO-2012114327-A2" lang="EN" load-source="patent-office"><!-- EPO <DP n="2"/>--><p id="p0001" num="0001"> RETINAL PROSTHESIS WITH EFFICIENT PROCESSING CIRCUITS </p><p id="p0002" num="0002"> CROSS-REFERENCE TO RELATED APPLICATION </p><p id="p0003" num="0003">This application claims the priority of US Patent Application 13/034,516 to Liran et al., entitled, "Retinal prosthesis with efficient processing circuits," filed February 24, 2011, which is incorporated herein by reference. </p><p id="p0004" num="0004"> This application is related to U.S. Patent Application No. 12/852,218, entitled "Retinal Prosthesis Techniques," filed August 6, 2010, which is incorporated herein by reference. </p><p id="p0005" num="0005"> FIELD OF THE INVENTION </p><p id="p0006" num="0006"> The present invention relates generally to medical devices, and specifically to retinal prostheses for restoring or enhancing visual function. </p><p id="p0007" num="0007"> BACKGROUND OF THE INVENTION </p><p id="p0008" num="0008"> Retinal malfunction is a leading cause of blindness and visual impairment. Implantation of a retinal prosthesis in the eye may be effective in restoring some useful vision in individuals suffering from blindness of retinal origin. A variety of retinal prostheses have been described in the patent literature. </p><p id="p0009" num="0009"> SUMMARY </p><p id="p0010" num="0010"> Embodiments of the present invention that are described hereinbelow provide retinal prostheses and circuits and methods for enhancing performance and reducing power consumption of such prostheses. </p><p id="p0011" num="0011"> There is therefore provided, in accordance with an embodiment of the present invention, a medical device, including an array of electrodes, configured for implantation in contact with tissue in an eye of a living subject. Driver circuitry is configured to drive the electrodes in an alternating pattern, such that different groups of the electrodes are driven to stimulate the tissue during different, predetermined respective time periods. </p><p id="p0012" num="0012"> In some embodiments, the driver circuitry is configured to hold the electrodes at a common potential in time intervals outside the respective time periods so that the 
<!-- EPO <DP n="3"/>-->
 W </p><p id="p0013" num="0013">electrodes serve as return electrodes during the time intervals. The driver circuitry may include memory elements for returning the electrodes to a common level following the respective time periods. </p><p id="p0014" num="0014"> In a disclosed embodiment, some of the different time periods overlap, and the 5 groups are selected so that the time periods during which mutually-adjacent electrodes are driven do not overlap. </p><p id="p0015" num="0015"> There is also provided, in accordance with an embodiment of the present invention, a medical device, including a first array of electrodes, configured for implantation in contact with tissue in an eye of a living subject. Light-sensing 0 elements in a second array are configured to output respective signals in response to light that is incident on the elements. Conversion circuits in a third array are coupled to receive from the second array the signals from the light-sensing elements and a representation of a mean level of the signals, and to generate pulses to drive the electrodes at respective frequencies determined responsively to differences between 5 the signals and the representation of the mean level. </p><p id="p0016" num="0016"> In disclosed embodiments, the device includes a common voltage reconstruction circuit, which is configured to receive inputs corresponding to the respective signals output by the light-sensing elements and to output the representation of the mean level to the conversion circuits. </p><p id="p0017" num="0017"> 0 The representation of the mean level may include a function of a mean value of the signals, such as a multiple of the mean value or a time-filtered mean value. </p><p id="p0018" num="0018"> There is additionally provided, in accordance with an embodiment of the present invention, a medical device, including a first array of electrodes, configured for implantation in contact with tissue in an eye of a living subject. Light-sensing 5 elements in a second array are configured to output respective signals in response to light that is incident on the elements. Conversion circuits in a third arrays are coupled to receive the signals from the light-sensing elements, and to generate pulses to drive the electrodes at respective frequencies determined responsively to the signals, including an overshoot in the frequencies in response to a change in an intensity of the 0 incident light on a given light-sensing element. 
<!-- EPO <DP n="4"/>-->
 Typically, the overshoot includes a transient increase in a frequency applied to a given electrode in response to an increase in the intensity incident on the given light- sensing element and may include a transient decrease in the frequency applied to the given electrode in response to a decrease in the intensity. </p><p id="p0019" num="0019"> In a disclosed embodiment, the conversion circuits include a low-pass filter for generating the overshoot, wherein the low-pass filter includes a series of capacitive elements that are switched in sequence to generate a low-pass response. </p><p id="p0020" num="0020"> There is further provided, in accordance with an embodiment of the present invention, a medical device, including a first array of electrodes, configured for implantation in contact with tissue in an eye of a living subject, and a second array of driver circuits. Each driver circuit is configured to drive a respective electrode in the first array with pulses responsively to an intensity of light that is incident on a respective area of the eye and includes a memory element for returning the respective electrode to a common level following each pulse. </p><p id="p0021" num="0021"> In a disclosed embodiment, the memory element includes a flip-flop, and the driver circuits are operative to provide balanced stimulation to the tissue. The driver circuits may contain a discharge path for protecting the device from electrostatic discharge. </p><p id="p0022" num="0022"> There is moreover provided, in accordance with an embodiment of the present invention, a medical device, including a first array of electrodes, configured for implantation in contact with tissue in an eye of a living subject, and a second array of driver circuits. Each driver circuit is configured to drive a respective electrode in the first array responsively to an intensity of light that is incident on a respective area of the eye. A power source is coupled to supply electrical power to the driver circuits, and a power sensor is coupled to deactivate a first group of the electrodes when the electrical power drops below a predetermined threshold, while a second group of the electrodes remains active. </p><p id="p0023" num="0023"> In one embodiment, the second group includes the electrodes within a selected region of the first array, while the first group includes the electrodes outside the 
<!-- EPO <DP n="5"/>-->
 region. In an alternative embodiment, the first and second groups of the electrodes are interleaved in the first array. </p><p id="p0024" num="0024"> Typically, the power sensor is configured to monitor a voltage output by the power supply and to deactivate the first group of the electrodes when the voltage drops below the predetermined threshold. The power sensor may be configured to compare the voltage output to a plurality of thresholds and reduce a number of active electrodes further as each threshold is passed. </p><p id="p0025" num="0025"> In one embodiment, the power sensor is configured to be implanted in the eye together with the arrays of electrodes and driver circuits. In an alternative embodiment, the power sensor is configured to be located outside the eye and to transmit signals into the eye in order to activate and deactivate the electrodes. </p><p id="p0026" num="0026"> There is furthermore provided, in accordance with an embodiment of the present invention, a method for neural stimulation, which includes providing an array of electrodes for implantation in contact with tissue in an eye of a living subject. The electrodes are driven in an alternating pattern, such that different groups of the electrodes are driven to stimulate the tissue during different, predetermined respective time periods. </p><p id="p0027" num="0027"> There is also provided, in accordance with an embodiment of the present invention, a method for neural stimulation, which includes providing a first array of electrodes for implantation in contact with tissue in an eye of a living subject. A second array of light-sensing elements outputs respective signals in response to light that is incident on the elements. Pulses are generated to drive the electrodes at respective frequencies determined responsively to differences between the signals output by the light-sensing elements and a representation of a mean level of the signals. </p><p id="p0028" num="0028"> There is additionally provided, in accordance with an embodiment of the present invention, a method for neural stimulation, which includes providing a first array of electrodes for implantation in contact with tissue in an eye of a living subject. A second array of light-sensing elements outputs respective signals in response to light that is incident on the elements. Pulses are generated to drive the electrodes at 
<!-- EPO <DP n="6"/>-->
 respective frequencies determined responsively to the signals, including an overshoot in the frequencies in response to a change in an intensity of the incident light on a given light-sensing element. </p><p id="p0029" num="0029"> There is further provided, in accordance with an embodiment of the present invention, a method for neural stimulation, which includes providing an array of electrodes for implantation in contact with tissue in an eye of a living subject. The electrodes in the array are driven with pulses responsively to an intensity of light that is incident on a respective area of the eye. Memory elements are coupled to return the electrodes to a common level following each pulse. </p><p id="p0030" num="0030"> There is moreover provided, in accordance with an embodiment of the present invention, a method for neural stimulation, which includes providing an array of electrodes for implantation in contact with tissue in an eye of a living subject. The electrodes in the array are driven responsively to an intensity of light that is incident on an area of the eye. A first group of the electrodes is deactivated when a level of electrical power supplied for driving the electrodes drops below a predetermined threshold, while continuing to drive a second group of the electrodes. </p><p id="p0031" num="0031"> The present invention will be more fully understood from the following detailed description of the embodiments thereof, taken together with the drawings in which: </p><p id="p0032" num="0032"> BRIEF DESCRIPTION OF THE DRAWINGS </p><p id="p0033" num="0033"> Fig. 1 is a schematic, pictorial illustration of a retinal prosthesis implanted in an eye, in accordance with an embodiment of the present invention; </p><p id="p0034" num="0034"> Fig. 2 is a block diagram that schematically illustrates electronic circuitry in a retinal prosthesis, in accordance with an embodiment of the present invention; </p><p id="p0035" num="0035"> Fig. 3 is a plot that schematically illustrates the response of a retinal prosthesis to incident light, in accordance with an embodiment of the present invention; </p><p id="p0036" num="0036"> Fig. 4A is an electrical schematic diagram of a voltage-to-frequency converter, in accordance with an embodiment of the present invention; </p><p id="p0037" num="0037"> Figs. 4B-4D are electrical schematic diagrams of common voltage reconstruction circuits, in accordance with embodiments of the present invention; 
<!-- EPO <DP n="7"/>-->
 Fig. 5A is an electrical schematic diagram of a switched low-pass filter, in accordance with an embodiment of the present invention; </p><p id="p0038" num="0038"> Fig. 5B is a timing diagram showing switching signals applied to the low-pass filter of Fig. 5A; </p><p id="p0039" num="0039"> Figs. 6A-6D are electrical schematic diagrams of switched low-pass filters, in accordance with alternative embodiments of the present invention; </p><p id="p0040" num="0040"> Fig. 7 is an electrical schematic diagram of a driver circuit, in accordance with an embodiment of the present invention; </p><p id="p0041" num="0041"> Fig. 8 is a timing diagram showing signals generated in the driver circuit of Fig. 7; </p><p id="p0042" num="0042"> Fig. 9 is a block diagram that schematically illustrates an order of stimulation of an array of electrodes, in accordance with an embodiment of the present invention; </p><p id="p0043" num="0043"> Fig. 10 is a timing diagram showing clock signals applied to an array of electrode driver circuits, in accordance with an embodiment of the present invention; and </p><p id="p0044" num="0044"> Fig. 11 is a block diagram that schematically illustrates an array of stimulation channels with variable array sizing, in accordance with an embodiment of the present invention. </p><p id="p0045" num="0045"> DETAILED DESCRIPTION OF EMBODIMENTS OVERVIEW </p><p id="p0046" num="0046"> Although many retinal prostheses have been proposed in the scientific and patent literature, substantial technical challenges remain in practical implementations of such devices. On the one hand, to mimic natural visual function, such devices should be able to sense light and provide effective neural stimulation with high resolution and high dynamic range. At the same time, because of space limitations and physiological constraints, the circuits of the prosthesis can consume only minimal electrical power. Generally speaking, there is a tradeoff between the efficiency of the electrical circuits and the sensitivity and resolution that the prosthesis can attain. 
<!-- EPO <DP n="8"/>-->
 Embodiments of the present invention that are described hereinbelow address these issues by providing novel, highly efficient processing circuitry for a retinal prosthesis. This circuitry may be integrated with light sensors, electrodes, and other components of retinal prostheses that are described in PCT International Publication WO 2010/089739 and in the above-mentioned U.S. Patent Application No. 12/852,218, whose disclosures are incorporated herein by reference. </p><p id="p0047" num="0047"> In the disclosed embodiments, a retinal prosthesis device comprises an array of electrodes, which are implanted so as to contact tissue in the eye of a subject. In some of these embodiments, driver circuits drive the electrodes in an alternating pattern, in which different groups of the electrodes are driven to stimulate the tissue during different, predetermined respective time periods. The groups of the electrodes may be selected geometrically within the array so that the time periods during which mutually-adjacent electrodes are driven do not overlap. Typically, the driver circuits hold the electrodes at a common potential (high or low, depending on the polarity of stimulation) outside their assigned time periods so that the electrodes serve as return electrodes when not applying stimulation. </p><p id="p0048" num="0048"> As a result of these measures, nearly all the energy applied by the driver circuits goes to actually stimulate the neurons in the eye, and wasted energy is minimized. Furthermore, by stimulating different groups of electrodes at different times, an approximately uniform level of overall power output by the circuits can be maintained, thus avoiding large variations in power consumption over time and enhancing efficiency. </p><p id="p0049" num="0049"> In some embodiments, light-sensing elements in the retinal prosthesis output respective signals to conversion circuits, which also receive as input a mean level of the signals from the light-sensing elements. Each conversion circuit generates pulses to drive an electrode at a frequency that depends on the differences between the signal level output by a respective light sensing element (or group of elements) and the mean level. The "mean" that is used by the conversion circuits may be local or global and may comprise any suitable sort of combination of the signal levels, such as a linear, logarithmic, or weighted average or a more complex function. The use of this sort of 
<!-- EPO <DP n="9"/>-->
 mean reference level in generating the output pulses to the electrodes enables the prosthesis to compress the large input dynamic range of the light-sensing elements into a much smaller output dynamic range to the electrodes without significant loss of visual information, in a manner similar to the natural functioning of the human eye. </p><p id="p0050" num="0050"> The conversion circuits may be configured to generate an overshoot in the respective frequencies in response to a change in an intensity of the incident light on a given light-sensing element. This overshoot typically comprises a transient increase in a frequency in response to an increase in light intensity and may also cause a transient decrease in the frequency in response to a decrease in the intensity, mimicking the response of biological light sensing cells in the retina. </p><p id="p0051" num="0051"> It may sometimes occur that the electrical power available to the retinal prosthesis drops below the minimum level needed to run all the circuits of the prosthesis. To deal with this eventuality, while still maintaining some visual function, an embodiment of the present invention provides a power sensor, which deactivates a certain group of the channels in the prosthesis when the electrical power drops below a given threshold, while keeping the remaining electrodes active. The active group may comprise the electrodes within a selected region of the array - meaning that the field of view contracts. Alternatively, the active electrodes may be interleaved with the deactivated electrodes, resulting in reduced resolution. </p><p id="p0052" num="0052"> In the figures and in the explanation that follows, a retinal prosthesis having all of the above features is described. In alternative embodiments, however, only one or a few of the above features may be implemented, possibly in conjunction with other circuits and techniques that are known in the art. All of these embodiments are considered to be within the scope of the present invention. SYSTEM DESCRIPTION </p><p id="p0053" num="0053"> Fig. 1 is a schematic, pictorial illustration of a retinal prosthesis 20 implanted in an eye 22, in accordance with an embodiment of the present invention. In the pictured embodiment, prosthesis 20 is implanted epiretinally, and the rear side of prosthesis 20 comprises an array of electrodes 26, which protrude into or otherwise contact retinal tissue 24, as described, for example, in the above-mentioned WO 
<!-- EPO <DP n="10"/>-->
 2010/089739 and US 12/852,218. Alternatively, the prosthesis may be implanted subretinally. The front side of the prosthesis comprises an array 28 of light-sensing elements 30, such as photodiodes (PD), which output signals in response to light that is focused onto them by the eye. </p><p id="p0054" num="0054"> Conversion circuitry 32 receives and processes the output signals from elements 30 in order to generate pulses to drive electrodes 26. Typically, the frequencies of these pulses depend on the intensity of the light incident on elements 30, as explained in greater detail hereinbelow. In the description that follows, it is assumed that there is a one-to-one correspondence between light-sensing elements 30 and electrodes 26, i.e., circuitry 32 drives each electrode in response to a corresponding light-sensing element. Alternatively, other relations between light- sensing elements and electrodes are possible, such as each electrode being driven in response to a number of neighboring light-sensing elements. Furthermore, although the arrays of light-sensing elements and electrodes in Fig. 1 are shown as rectilinear, other geometrical arrangements are possible, including both uniformly-spaced and non-uniformly-spaced arrays. </p><p id="p0055" num="0055"> Typically, circuitry 32 comprises one or more semiconductor chips, in which the analog and digital circuit elements described below are fabricated, using methods of integrated circuit production that are known in the art. Array 28 of light-sensing elements 30 may be integrated into the same chip (or chips) as circuitry 32. Alternatively, array 28 may be fabricated on a separate substrate, and elements 30 may be coupled to the processing channels of circuitry 32 using methods that are known in the art. Electrodes 26 may be fixed to the rear side of prosthesis 20 using through-silicon vias (TSV), for example, or other methods described in the above- mentioned WO 2010/089739 and US 12/852,218. </p><p id="p0056" num="0056"> Fig. 2 is a block diagram that schematically illustrates electronic circuitry in prosthesis 20, in accordance with an embodiment of the present invention. Prosthesis 20 comprises multiple parallel channels 40, each comprising a respective light sensing element 30 (represented as a photodiode - PD) and associated conversion circuitry. Elements 30 and the corresponding channels 40 are arranged in a two-dimensional 
<!-- EPO <DP n="11"/>-->
 array, as illustrated in Fig. 1. To provide good visual resolution, prosthesis 20 may comprise approximately 1000 such channels, but larger or smaller numbers of channels may alternatively be provided, depending on application requirements and technological capabilities and constraints. </p><p id="p0057" num="0057"> In the disclosed embodiments, the conversion circuitry in each channel 40 comprises the following circuit components: </p><p id="p0058" num="0058"> • A logarithmic trans-impedance amplifier (LTIA) 42, which converts the photocurrent output by the corresponding photodiode to a voltage, with a logarithmic transfer function. Amplifiers of this sort are known in the art, as described, for example, by Delbruck and Mead in "Analog VLSI Adaptive,</p><p id="p0059" num="0059">Logarithmic, Wide-Dynamic-Range Photoreceptor," 1994 International Symposium on Circuits and Systems (London, 1994), pages 339-342, which is incorporated herein by reference. </p><p id="p0060" num="0060"> • A voltage-to-frequency (V2F) converter 44 converts the log of the light intensity that is output by LTIA 42 to a stimulation frequency. To mimic the human eye and compress the dynamic range of the signals, the frequency output of V2F converter 44 depends not only on the local intensity sensed by the corresponding light-sensing element 30, but also on the difference between the output of LTIA 42 relative to that in other channels 40. For this purpose, each V2F converter 44 receives a common voltage (VCM) input, representing a mean over the channels in the array. In one embodiment, this mean is simply an arithmetic average over all the channels; but the mean may alternatively be locally-weighted or otherwise adjusted. Details of the V2F converter are described below with reference to the figures that follow. </p><p id="p0061" num="0061">· A driver (DRV) circuit 46 generates a train of pulses to drive the corresponding electrode 26 at the frequency provided by V2F converter 44. Details of the driver circuit are described below with reference to Figs. 7 and 8. </p><p id="p0062" num="0062"> A clock generator 48 synchronizes the operation of V2F converters 44 and drive circuits 46. The clock generator outputs multiple different clock phases, for example, sixteen different phases, which are distributed to different groups of 
<!-- EPO <DP n="12"/>-->
 channels 40. As a result, different groups of channels are activated at different times to drive the corresponding electrodes 26. The remaining electrodes may serve as ground returns during the inactive periods of the corresponding channels. Alternatively, prosthesis 20 may comprise one common electrode, or a local return per channel or group of channels. This staggered pattern of channel timing is described in greater detail below with reference to Figs. 9 and 10. </p><p id="p0063" num="0063"> Bias reference circuits 50 provide reference voltages for biasing the current sources in all the analog circuits of channels 40. Circuits 50 receive power from a supply regulator 52, which also provides power to the other components of prosthesis 20. The power may be supplied by transduction of optical energy that is projected into the eye, as described in the above-mentioned WO 2010/089739 and US 12/852,218, or from any other suitable power source. When the available power drops below a certain level, the power supply and switching circuits 50 may shut off power to certain channels 40, while using the limited available power to maintain functionality within a limited group of the channels. This power adaptation functionality is described below with reference to Fig. 11. </p><p id="p0064" num="0064"> Various parameters of prosthesis 20 may be modified in order to adapt to the physiology of the patient in whose eye the device is implanted and to adjust for changes that may occur over time. For example, an operator may adjust the level of the pulses output by driver circuits 46 so that they are just sufficient to engender neural stimulation and no higher, thereby reducing wasted energy. The values of the various adjustable parameters are held in a configuration register 54. An optical interface 56 is driven by a coded light beam, which is projected into the eye, and sets the values in register 54 in accordance with the encoded data carried by the beam. VOLTAGE-TO-FREQUENCY CONVERSION</p><p id="p0065" num="0065">Fig. 3 is a plot that schematically illustrates the response of V2F converter 44 to incident light, in accordance with an embodiment of the present invention. The upper trace in the plot shows the incident light intensity on a given light-sensing element 30, including a transient increase in the intensity, followed by a return to the previous intensity level. The lower trace shows the frequency output of the 
<!-- EPO <DP n="13"/>-->
 corresponding V2F converter 44. As in the human eye, changes in the light intensity lead to overshoots 60 and 62 in the V2F frequency: At overshoot 60, the frequency increases in response to the intensity increase before decaying to a stable level, whereas at overshoot 62 (sometimes referred to as an undershoot), the frequency drops briefly below the baseline level in response to the intensity decrease. To mimic human visual function, overshoots 60 and 62 decay with time constants on the order of tens to a few hundred milliseconds. </p><p id="p0066" num="0066"> Fig. 4A is an electrical schematic diagram of V2F converter 44, in accordance with an embodiment of the present invention. This converter implements the overshoot response shown in Fig. 3, within a very compact, low-power design. Converter 44 comprises two sub-circuits: a voltage-to-current (V2I) converter 64 followed by a current-to-frequency (I2F) converter 66. Together these elements typically consume about 0.1 μ\ν of electrical power, or less. </p><p id="p0067" num="0067"> V2I converter 64 comprises a main differential amplifier 68 and/or an overshoot amplifier 70, driven by respective current sources 74 (Irng) and 76 (Iovsh). A baseline current source 78 (Imin) generates a minimum current output level to I2F converter 66. Main amplifier 68 receives as inputs the voltage output from the corresponding LTIA 42 and a representation of the mean voltage level VCM, as noted above. This representation may be the mean value itself, or it may comprise some function of the mean, such as a multiple of the mean (by a coefficient greater than or less than one) or a time-filtered mean value. Overshoot amplifier 70 has a high-pass response due to a series capacitor 74 and a parallel low-pass filter (LPF) 72. This low-pass filter is used here due to the difficulty of implementing high-pass filters with low cut-off frequencies (requiring large capacitance and resistance values) in an integrated circuit. </p><p id="p0068" num="0068"> I2F converter 66 outputs a train of pulses to drive circuit 46, at a frequency that is proportional to the current output of V2I converter 64. The minimum frequency output, in dark conditions, is typically below 10 Hz, while the maximum frequency, during periods of overshoot, may exceed 200 Hz. The pulses output by the I2F converter typically have constant amplitude, usable by the logic circuits in driver 
<!-- EPO <DP n="14"/>-->
 circuit 46. The pulses from the I2F converter stimulate driver circuit 46 to generate output pulses to the electrodes with proper timing, as described below. The pulses output from I2F converter 66 may be gated by clock generator 48 (Fig. 2), so that each driver circuit 46 is pulsed only during its assigned active periods. Alternatively, the pulses output from the I2F circuit may be ungated. The pulses from the I2F converter may be timed, and the driver circuits suitably designed, to provide balanced stimulation of the tissue: All charge applied to stimulate the tissue in a given pulse is discharged by the next pulse, as described further hereinbelow. </p><p id="p0069" num="0069"> Figs. 4B-4D are electrical schematic diagrams of common voltage reconstruction circuits 77, in accordance with a number of embodiments of the present invention. These circuits generate the VCM input to V2F converter 44. In the embodiment shown in Fig. 4B, the outputs from LTIAs 42 in all the channels 40 of prosthesis 20 (or of a selected set of the channels) are coupled together via parallel resistors 78 to generate VCM as a sum of the outputs. Resistors 78 typically have substantially higher resistance than the input resistance of V2F converter 44. Alternatively, as shown in Fig. 4C, the resistors may be coupled together to the input of a differential amplifier 75 with a feedback resistance 73. The output of amplifier 75 drives a second differential amplifier 79 to generate VCM. </p><p id="p0070" num="0070"> Fig. 4D schematically illustrates yet another arrangement in which a feedback loop is generated by the unused output of main amplifier 68 in V2I converter 64 and thus provides a current output to VCM reconstruction circuit 77. This current is in inverse linear proportion to the output of LTIA 42. Circuit 77 combines these currents over all the channels to generate VCM. </p><p id="p0071" num="0071"> Figs. 5A and 5B schematically illustrate the design and operation of low-pass filter 72, in accordance with an embodiment of the present invention. Fig. 5 A is an electrical schematic diagram, while Fig. 5B is a timing diagram showing switching signals applied to the low-pass filter. Filter 72 uses a switched-capacitor design to circumvent the need for a high -value resistor in the low -pass filter. This filter can be implemented either by a single stage or by multiple cascaded stages, as shown in Fig. 5A. The use of multiple stages has the advantage of higher sampling frequency, and 
<!-- EPO <DP n="15"/>-->
 thus enables higher input bandwidth relative to designs with fewer stages at lower sampling frequency. </p><p id="p0072" num="0072"> Filter 72 comprises a chain of multiple stages 80, each comprising two shunt capacitors 86, which are connected in series by two switches 82 and 84. The switches are closed in alternation by clock signals PHI and PH2. The alternating operation of switches 82 and 84 provides the low-pass response, with a time constant controlled by the number of stages 80 and the frequency of the clock signals. The switches can be implemented using very small transistors. Coupling the capacitors to ground, as shown in Fig. 5A, reduces sensitivity to supply noise. Thus, filter 72 is well-suited to providing the required long time constant within an integrated circuit under the severe size and power constraints of prosthesis 20. The capacitors can be implemented by any structure with sufficient capacitance, such as metal-to-metal capacitors, poly-to- poly capacitors, gates of MOS transistors, or reverse-biased PN diodes. </p><p id="p0073" num="0073"> Figs. 6A-6D are electrical schematic diagram of one stage 80 in a switched low-pass filter, in accordance with alternative embodiments of the present invention. The stages shown in Figs. 6A-6D may be used, for example, in place of each stage 80 in filter 72 (Fig. 5A). Thus, the function of switches 82 and 84 may be implemented by single-transistor switches 88 or by dual switches 92 and 94, each comprising a pair of transistors that are driven by clock signals of positive polarity (PHI, PH2) and negative polarity (PH1N, PH2N), respectively. The function of capacitors 86 is performed in Fig. 6B by transistors 90, or by pairs of transistors 96 in Fig. 6D, in which one transistor is tied to VDD and the other to ground, thus providing the required shunt capacitance. </p><p id="p0074" num="0074"> Various alternative implementations of this sort of switched-capacitor chain will be apparent to those skilled in the art and are considered to be within the scope of the present invention. </p><p id="p0075" num="0075">DRIVER CIRCUITS </p><p id="p0076" num="0076"> Reference is now made to Figs. 7 and 8, which schematically illustrate the design and operation of driver circuit 46, in accordance with an embodiment of the present invention. Fig. 7 is a schematic circuit diagram of driver circuit 46, while Fig. 
<!-- EPO <DP n="16"/>-->
 8 is a timing diagram showing signals received and generated by the circuit. Figs. 7 and 8 illustrate a driver circuit that outputs pulses of positive polarity to electrode 26, but this design may readily be modified to generate pulses of negative polarity, as will be evident to those skilled in the art. </p><p id="p0077" num="0077"> In the pictured embodiment, I2F converter 66 outputs pairs of clock pulses 110 and 112, labeled CLK1 and CLK2, which have a fixed pulse width (PW) and are separated by a fixed delay (DLY). Typically, the pulse widths and the delay are in the range of 50 - 500 β. The pulse widths and delay determine the duration and rise and fall times of output pulses 114 from driver circuit 46 to electrode 26, and thus control the amount of charge that is delivered to the tissue in each pulse. These pulse parameters may be adjusted to match the activation threshold of the neurons that are stimulated by the electrodes. The repetition frequencies of clock pulses 110 and 112 determine the frequency of the pulses output by the driver circuit, and hence the intensity of stimulation that is applied to the tissue by the corresponding electrode. </p><p id="p0078" num="0078"> The input clock pulses CLK1 and CLK2 are inverted by inverters 100 and 102 to generate the inverse clock signals CLK1N and CLK2N, and these four clock signals together drive flip-flops 104, 106 and switching logic 108. The switching logic comprises bias transistors PI and Nl, which are driven by bias currents BIASP and BIASN from bias reference circuit 50 (Fig. 2). The remaining transistors P2, N2 and N3 are driven by the input clock pulses and by the outputs of the flip-flops, FFIO and FF20, as shown in Fig. 8. </p><p id="p0079" num="0079"> In operation of driver circuit 46, flip-flops 104 and 106 serve as memory elements to pull electrode 26 back to the common level (ground) after the pulse. The rising edge of the CLK1 signal resets flip-flops 104 and 106, disconnecting the pull- down path of the driver circuit and activating the pull-up path through transistors PI and P2. As a result, the VDD voltage charges the output to electrode 26 during pulse 110. The rising edge of CLK2 then sets flip-flop 104, thus activating the pull-down path through transistors Nl and N2. At the falling edge of CLK2, flip-flop 106 is set, and adds N3 to the pull-down path. 
<!-- EPO <DP n="17"/>-->
 As a result of the pull-down by flip-flops 104 and 106, the voltage on electrode 26 is tied to ground with low resistance in between stimulation pulses. The resistance of transistor N3 is typically less than 500 ohms. Consequently, during periods in which a given driver circuit 46 is not actively outputting pulses, the corresponding electrode 26 serves well as a return electrode for the active electrodes in its neighborhood. This dual functionality of electrodes 26 - as stimulating electrodes and return electrodes at different times - obviates the need for dedicated return electrodes and works efficiently in conjunction with the interleaved stimulation times of different groups of electrodes, as described in detail in the next section. The design of driver circuit 46 and the timing of the pulses applied to control the driver circuit ensure that the tissue receives balanced stimulation from the electrodes. </p><p id="p0080" num="0080"> Referring now to the details of switching logic 108, transistor PI acts as a pull- up current source, with BIASP generated by a current mirror transistor, which could be common to many driver circuits or the whole array. Similarly, transistor Nl acts as a pull-down current source, with BIASN generated by a current mirror transistor like BIASP. The amount of charging is held equal to the amount of discharging by matching the pull-up current of PI with the pull-down current of Nl and by matching the pulse widths of CLK1 and CLK2. In case there is residual charge at the end of the pulse, it will be discharged by transistors Nl, N2 and N3, which are conducting after the end of the pulse. </p><p id="p0081" num="0081"> The use of switched current sources in circuit 46 (as opposed to voltage switching) enables the output voltage level to be controlled simply by controlling the charging current and charging time. This design eliminates momentarily high currents, which could drop the supply voltage and might damage the tissue contacted by the electrodes due to high current density. </p><p id="p0082" num="0082"> The output circuit to electrode 26 may be exposed to contact with the human body during production of the device and during surgical implantation. For this reason, it is desirable that the electrodes be immune to electrostatic discharge (ESD) stress. Transistor N3 may therefore be configured to provide a discharge path to ground, in order to increase the immunity of prosthesis 20 to ESD. 
<!-- EPO <DP n="18"/>-->
 As noted earlier, the circuit design and waveforms that are shown in Figs. 7 and 8 may be modified in a straightforward manner to generate pulses of negative polarity, instead of the positive-polarity configuration that is shown in the figures. In such a negative-polarity configuration, the pull-down functions and circuit components described above for returning the electrodes to the common ground level are replaced by pull-up to a common high level, such as the VDD level. These common ground and high levels are referred to herein collectively simply as common levels. Although the embodiment shown in these figures uses flip-flops to carry out this return-to-common function, other suitable types of memory elements may similarly be used for this purpose. </p><p id="p0083" num="0083">INTERLEAVING OF STIMULATION TIMES </p><p id="p0084" num="0084"> Fig. 9 is a block diagram that schematically illustrates an alternating pattern of stimulation of the array of electrodes in prosthesis 20, in accordance with an embodiment of the present invention. In this figure, the squares represent driver circuits 46 in different channels 40 of the prosthesis. The channels and the corresponding electrodes are arranged in a rectilinear array, which is arranged as shown in the figure. Although for the sake of simplicity, Fig. 9 represents only a 12 x 12 array, the same sort of pattern may be applied over larger electrode arrays. </p><p id="p0085" num="0085"> Each channel 40 (including the corresponding driver circuit 46) is assigned to one of sixteen groups, which are numbered in serial order from 0 to 15. Thus, the array is divided up into blocks 112 of 4 x 4 channels, as shown in the figure, with one channel in each block belonging to each of the groups. (Alternatively, a larger or smaller number of groups may be assigned.) The group numbers indicate the order in which driver circuits 46 are activated. During the active period of its driver circuit, each electrode 26 stimulates the tissue with which it is in contact, following which the driver circuit ties the electrode to ground so that the electrode serves as a return electrode for its neighbors, as explained above. Thus, while the driver circuits in group 12, for example, are active in stimulating the tissue, the neighboring driver circuits in groups 0, 1, 2, 3, 4, 6, 8 and 9 serve as return paths. 
<!-- EPO <DP n="19"/>-->
 Splitting the activation time of the electrodes among multiple phases is useful in avoiding overload of the power supply in prosthesis 20, which may have high serial resistance. When using multiple phases as shown in Fig. 9, for example, only a fraction of the driver circuits will be active simultaneously at any given time, thus spreading the current load evenly across the entire stimulation period uniformly in the most extreme case. This method minimizes possible voltage drop from the supply. </p><p id="p0086" num="0086"> Fig. 10 is a timing diagram showing clock signals applied to the array of driver circuits 46, in accordance with an embodiment of the present invention. The CLKl[j] and CLK2[j] signals correspond to the clock pulses that are supplied by I2F circuits 66 to the corresponding driver circuits 46, as described above, wherein j is the number of the group (between 0 and 15). These clock pulses, which start and end the active periods of the corresponding driver circuits, are staggered, so that stimulation of the electrodes in each group starts in a different time slot, numbered from 0 to 15 in the figure. This staggered stimulation pattern is useful, inter alia, in maintaining an approximately constant level of electrical power consumption by the circuits of prosthesis 20. </p><p id="p0087" num="0087"> In the example shown in Fig. 10, each group of the electrodes and driver circuits is active over a period of several time slots, from the corresponding CLK1 pulse to the CLK2 pulse that follows it. As a result, the active periods of certain groups overlap. It is desirable, however, that mutually-adjacent electrodes 26 in prosthesis 20 have non-overlapping active periods, so that the adjacent electrodes are available to serve as return electrodes for the active electrodes. This consideration is the reason for the order of interleaving of the different groups of driver circuits 46 that is shown in Fig. 9. </p><p id="p0088" num="0088"> Alternatively, channels 40 may be operated so that the active periods of the different groups of electrodes 26 and driver circuits 46 do not overlap at all, or overlap only minimally. </p><p id="p0089" num="0089">DYNAMIC CONTROL OF ACTIVE CHANNELS </p><p id="p0090" num="0090"> Fig. 11 is a block diagram that schematically illustrates an array of stimulation channels 40 in retinal prosthesis 20 with variable array sizing, in accordance with an 
<!-- EPO <DP n="20"/>-->
 embodiment of the present invention. A power source 130 supplies electrical power to run the circuits of prosthesis 20, as described above. A power sensor 132 monitors the level of power supplied by power source 130, by sensing the output voltage of the power source, for example. As long as the power level is acceptable, full functionality of the entire array of channels 40 is maintained. </p><p id="p0091" num="0091"> When the power available from power source 130 drops, however, the operation of channels 40 may be compromised or may cease altogether. This drop may be transient, due to disruption of power beamed into the eye (as described above), for example, or permanent, due to degradation of components of prosthesis 20 over time. In order to avoid total loss of function, when sensor 132 detects that the power level from source 130 has dropped below a certain level, the sensor automatically reduces the number of active channels 40 (and corresponding electrodes) in the array. Optionally, the sensor may have two or more voltage thresholds, and may reduce the number of active channels further as each threshold is passed. </p><p id="p0092" num="0092"> Although sensor 132 is shown in Fig. 11 as a part of prosthesis 20, in practice the sensor can be implemented either within the implanted prosthesis or outside the human body, such as on a spectacle frame on which power and control circuits for the prosthesis may be mounted. In this latter case, a controller of prosthesis 20, which transmits configuration data to optical interface 56, can reconfigure the set of active channels as required. This capability of activating and deactivating individual channels or groups of channels also enables the channels to be activated one cluster at a time for testing purposes. </p><p id="p0093" num="0093"> In the example shown in Fig. 11, the reduction in the number of active channels is achieved by reducing an active area 134 of prosthesis 20. In this case, only the channels 40 within area 134 receive electrical power and are active in stimulating the corresponding electrodes 26, while the channels outside area 134 are turned off. As a result, the overall power consumption of the prosthesis is reduced, and power source 130 is able to supply sufficient power to the active channels notwithstanding its compromised condition. The field of view of the eye in which the 
<!-- EPO <DP n="21"/>-->
 prosthesis is transplanted will be narrowed accordingly. If full power is subsequently restored, sensor 132 may restore all of the channels to active status. The size of area 134 may be controlled dynamically, shrinking gradually smaller or growing larger in proportion to the available power. </p><p id="p0094" num="0094"> Alternatively, other schemes may be used to reduce the number of active channels 40 when the power level drops. The inactive channels may be interleaved in an alternating pattern with the active channels, for example, so that resolution is reduced rather than field of view. For example, in a reduced-power configuration, only alternating channels in alternating rows of the array may be activated. Other such dynamic sizing schemes will be apparent to those skilled in the art and are considered to be within the scope of the present invention. </p><p id="p0095" num="0095"> It will be appreciated that the embodiments described above are cited by way of example, and that the present invention is not limited to what has been particularly shown and described hereinabove. Rather, the scope of the present invention includes both combinations and subcombinations of the various features described hereinabove, as well as variations and modifications thereof which would occur to persons skilled in the art upon reading the foregoing description and which are not disclosed in the prior art. 
</p></description><claims mxw-id="PCLM44726754" ref-ucid="WO-2012114327-A2" lang="EN" load-source="patent-office"><claim-statement><!-- EPO <DP n="22"/>-->CLAIMS </claim-statement><claim id="clm-0001" num="1"><claim-text> 1. A medical device, comprising: </claim-text><claim-text> an array of electrodes, configured for implantation in contact with tissue in an eye of a living subject; and </claim-text><claim-text> driver circuitry, configured to drive the electrodes in an alternating pattern, such that different groups of the electrodes are driven to stimulate the tissue during different, predetermined respective time periods. </claim-text></claim><claim id="clm-0002" num="2"><claim-text> 2. The device according to claim 1, wherein the driver circuitry is configured to hold the electrodes at a common potential in time intervals outside the respective time periods so that the electrodes serve as return electrodes during the time intervals.</claim-text></claim><claim id="clm-0003" num="3"><claim-text>3. The device according to claim 2, wherein the driver circuitry comprises memory elements for returning the electrodes to a common level following the respective time periods. </claim-text></claim><claim id="clm-0004" num="4"><claim-text> 4. The device according to claim 1, wherein some of the different time periods overlap, and wherein the groups are selected so that the time periods during which mutually-adjacent electrodes are driven do not overlap. </claim-text></claim><claim id="clm-0005" num="5"><claim-text> 5. The device according to any one of claims 1-4, wherein the driver circuitry is coupled to drive the electrodes with pulses having frequencies determined responsively to an intensity of light that is incident on the device. </claim-text></claim><claim id="clm-0006" num="6"><claim-text>6. The device according to claim 5, wherein the device comprises light-sensing elements, coupled to sense the intensity of the light and to provide respective signals to the driver circuitry, and wherein the frequencies are determined responsively to differences between the respective signals and a mean level of the signals. </claim-text></claim><claim id="clm-0007" num="7"><claim-text> 7. The device according to claim 6, wherein the driver circuitry is configured to generate an overshoot in the frequencies in response to a change in the intensity.</claim-text></claim><claim id="clm-0008" num="8"><claim-text>8. The device according to any one of claims 1-4, and comprising a power source coupled to supply electrical power to the driver circuitry, and a power sensor, which is configured to monitor a voltage output by the power supply and to deactivate a first <!-- EPO <DP n="23"/>--> group of the electrodes when the voltage drops below a predetermined threshold, while a second group of the electrodes remains active. </claim-text></claim><claim id="clm-0009" num="9"><claim-text> 9. A medical device, comprising: </claim-text><claim-text> a first array of electrodes, configured for implantation in contact with tissue in an eye of a living subject; </claim-text><claim-text> a second array of light-sensing elements, which are configured to output respective signals in response to light that is incident on the elements; and </claim-text><claim-text> a third array of conversion circuits, coupled to receive from the second array the signals from the light-sensing elements and a representation of a mean level of the signals, and to generate pulses to drive the electrodes at respective frequencies determined responsively to differences between the signals and the representation of the mean level. </claim-text></claim><claim id="clm-0010" num="10"><claim-text> 10. The device according to claim 9, wherei the conversion circuits are configured to generate an overshoot in the respective frequencies in response to a change in an intensity of the incident light on a given light-sensing element. </claim-text></claim><claim id="clm-0011" num="11"><claim-text> 11. The device according to claim 9, wherein the conversion circuits comprise memory elements for returning the electrodes to a common level following the pulses.</claim-text></claim><claim id="clm-0012" num="12"><claim-text>12. The device according to claim 9, and comprising a common voltage reconstruction circuit, which is configured to receive inputs corresponding to the respective signals output by the light-sensing elements and to output the representation of the mean level to the conversion circuits. </claim-text></claim><claim id="clm-0013" num="13"><claim-text> 13. The device according to claim 9, and comprising a power source coupled to supply electrical power to the driver circuitry, and a power sensor, which is configured to monitor a voltage output by the power supply and to deactivate a first group of the electrodes when the voltage drops below a predetermined threshold, while a second group of the electrodes remains active. </claim-text></claim><claim id="clm-0014" num="14"><claim-text> 14. The device according to any one of claims 9-13, wherein the representation of the mean level comprises a function of a mean value of the signals. <!-- EPO <DP n="24"/>--> </claim-text></claim><claim id="clm-0015" num="15"><claim-text>15. The device according to claim 14, wherein the function is selected from a group of functions consisting of a multiple of the mean value and a time-filtered mean value. </claim-text></claim><claim id="clm-0016" num="16"><claim-text> 16. A medical device, comprising: </claim-text><claim-text> a first array of electrodes, configured for implantation in contact with tissue in an eye of a living subject; </claim-text><claim-text> a second array of light-sensing elements, which are configured to output respective signals in response to light that is incident on the elements; and </claim-text><claim-text> a third array of conversion circuits, coupled to receive the signals from the light-sensing elements, and to generate pulses to drive the electrodes at respective frequencies determined responsively to the signals, including an overshoot in the frequencies in response to a change in an intensity of the incident light on a given light-sensing element. </claim-text></claim><claim id="clm-0017" num="17"><claim-text> 17. The device according to claim 16, wherein the overshoot comprises a transient increase in a frequency applied to a given electrode in response to an increase in the intensity incident on the given light-sensing element and a transient decrease in the frequency applied to the given electrode in response to a decrease in the intensity.</claim-text></claim><claim id="clm-0018" num="18"><claim-text>18. The device according to claim 16 or 17, wherein the conversion circuits comprise a low-pass filter for generating the overshoot. </claim-text></claim><claim id="clm-0019" num="19"><claim-text>19. The device according to claim 18, wherein the low-pass filter comprises a series of capacitive elements that are switched in sequence to generate a low-pass response. </claim-text></claim><claim id="clm-0020" num="20"><claim-text> 20. The device according to claim 16 or 17, wherein the conversion circuits comprises memory elements for returning the electrodes to a common level following the pulses. </claim-text></claim><claim id="clm-0021" num="21"><claim-text> 21. The device according to claim 16 or 17, and comprising a power source coupled to supply electrical power to the driver circuitry, and a power sensor, which is configured to monitor a voltage output by the power supply and to deactivate a first <!-- EPO <DP n="25"/>--> group of the electrodes when the voltage drops below a predetermined threshold, while a second group of the electrodes remains active. </claim-text></claim><claim id="clm-0022" num="22"><claim-text> 22. A medical device, comprising: </claim-text><claim-text> a first array of electrodes, configured for implantation in contact with tissue in an eye of a living subject; and </claim-text><claim-text> a second array of driver circuits, wherein each driver circuit is configured to drive a respective electrode in the first array with pulses responsively to an intensity of light that is incident on a respective area of the eye and comprises a memory element for returning the respective electrode to a common level following each pulse. </claim-text></claim><claim id="clm-0023" num="23"><claim-text> 23. The device according to claim 22, wherein the memory element comprises a flip-flop. </claim-text></claim><claim id="clm-0024" num="24"><claim-text> 24. The device according to claim 22, wherein the driver circuits are operative to provide balanced stimulation to the tissue. </claim-text></claim><claim id="clm-0025" num="25"><claim-text>25. The device according to claim 22, wherein the driver circuits contain a discharge path for protecting the device from electrostatic discharge. </claim-text></claim><claim id="clm-0026" num="26"><claim-text> 26. The device according to any one of claims 22-25, and comprising a power source coupled to supply electrical power to the driver circuitry, and a power sensor, which is configured to monitor a voltage output by the power supply and to deactivate a first group of the electrodes when the voltage drops below a predetermined threshold, while a second group of the electrodes remains active. </claim-text></claim><claim id="clm-0027" num="27"><claim-text> 27. A medical device, comprising: </claim-text><claim-text> a first array of electrodes, configured for implantation in contact with tissue in an eye of a living subject; </claim-text><claim-text> a second array of driver circuits, each driver circuit configured to drive a respective electrode in the first array responsively to an intensity of light that is incident on a respective area of the eye; </claim-text><claim-text> a power source coupled to supply electrical power to the driver circuits; and <!-- EPO <DP n="26"/>--> a power sensor, which is coupled to deactivate a first group of the electrodes when the electrical power drops below a predetermined threshold, while a second group of the electrodes remains active. </claim-text></claim><claim id="clm-0028" num="28"><claim-text> 28. The device according to claim 27, wherein the second group comprises the electrodes within a selected region of the first array, while the first group comprises the electrodes outside the region. </claim-text></claim><claim id="clm-0029" num="29"><claim-text> 29. The device according to claim 27, wherein the first and second groups of the electrodes are interleaved in the first array. </claim-text></claim><claim id="clm-0030" num="30"><claim-text> 30. The device according to any one of claims 27-29, wherein the power sensor is configured to monitor a voltage output by the power supply and to deactivate the first group of the electrodes when the voltage drops below the predetermined threshold.</claim-text></claim><claim id="clm-0031" num="31"><claim-text>31. The device according to claim 30, wherein the power sensor is configured to compare the voltage output to a plurality of thresholds and reduce a number of active electrodes further as each threshold is passed. </claim-text></claim><claim id="clm-0032" num="32"><claim-text>32. The device according to any one of claims 27-29, wherein the power sensor is configured to be implanted in the eye together with the arrays of electrodes and driver circuits. </claim-text></claim><claim id="clm-0033" num="33"><claim-text> 33. The device according to any one of claims 27-29, wherein the power sensor is configured to be located outside the eye and to transmit signals into the eye in order to activate and deactivate the electrodes. </claim-text></claim><claim id="clm-0034" num="34"><claim-text> 34. A method for neural stimulation, comprising: </claim-text><claim-text> providing an array of electrodes for implantation in contact with tissue in an eye of a living subject; and </claim-text><claim-text> driving the electrodes in an alternating pattern, such that different groups of the electrodes are driven to stimulate the tissue during different, predetermined respective time periods. <!-- EPO <DP n="27"/>--> </claim-text></claim><claim id="clm-0035" num="35"><claim-text>35. The method according to claim 34, wherein driving the electrodes comprises holding the electrodes at a common potential in time intervals outside the respective time periods so that the electrodes serve as return electrodes during the time intervals.</claim-text></claim><claim id="clm-0036" num="36"><claim-text>36. The method according to claim 35, wherein holding the electrodes comprises coupling a memory element to return the electrodes to a common level following the respective time periods. </claim-text></claim><claim id="clm-0037" num="37"><claim-text> 37. The method according to claim 34, wherein some of the different time periods overlap, and wherein the groups are selected so that the time periods during which mutually-adjacent electrodes are driven do not overlap. </claim-text></claim><claim id="clm-0038" num="38"><claim-text>38. The method according to any one of claims 34-37, wherein the method comprises providing light-sensing elements for implantation in the eye to sense an intensity of light and to output respective signals responsively to the intensity, and wherein the driving the electrodes comprises applying pulses to the electrodes at frequencies determined responsively to the signals. </claim-text></claim><claim id="clm-0039" num="39"><claim-text>39. The method according to claim 38, wherein the frequencies are determined responsively to differences between the respective signals and a mean level of the signals. </claim-text></claim><claim id="clm-0040" num="40"><claim-text> 40. The method according to claim 39, wherein applying the pulses comprises generating an overshoot in the frequencies in response to a change in the intensity of the light that is incident on the light-sensing elements. </claim-text></claim><claim id="clm-0041" num="41"><claim-text> 41. The method according to any one of claims 34-37, wherein driving the electrodes comprises deactivating a first group of the electrodes when a level of electrical power supplied for driving the electrodes drops below a predetermined threshold, while continuing to provide the pulses to a second group of the electrodes. </claim-text></claim><claim id="clm-0042" num="42"><claim-text>42. A method for neural stimulation, comprising: </claim-text><claim-text> providing a first array of electrodes for implantation in contact with tissue in an eye of a living subject; <!-- EPO <DP n="28"/>--> providing a second array of light-sensing elements to output respective signals in response to light that is incident on the elements; and </claim-text><claim-text> generating pulses to drive the electrodes at respective frequencies determined responsively to differences between the signals output by the light-sensing elements and a representation of a mean level of the signals. </claim-text></claim><claim id="clm-0043" num="43"><claim-text> 43. The method according to claim 42, wherein generating the pulses comprises generating an overshoot in the respective frequencies in response to a change in an intensity of the incident light on a given light-sensing element. </claim-text></claim><claim id="clm-0044" num="44"><claim-text> 44. The method according to claim 42, and comprising coupling memory elements to return the electrodes to a common level following the pulses. </claim-text></claim><claim id="clm-0045" num="45"><claim-text> 45. The method according to claim 42, wherein generating the pulses comprises deactivating a first group of the electrodes when a level of electrical power supplied for driving the electrodes drops below a predetermined threshold, while continuing to provide the pulses to a second group of the electrodes. </claim-text></claim><claim id="clm-0046" num="46"><claim-text>46. The method according to any one of claims 42-45, wherein the representation of the mean level comprises a function of a mean value of the signals. </claim-text></claim><claim id="clm-0047" num="47"><claim-text> 47. The method according to claim 46, wherein the function is selected from a group of functions consisting of a multiple of the mean value and a time-filtered mean value. </claim-text></claim><claim id="clm-0048" num="48"><claim-text>48. A method for neural stimulation, comprising: </claim-text><claim-text> providing a first array of electrodes for implantation in contact with tissue in an eye of a living subject; </claim-text><claim-text> providing a second array of light-sensing elements to output respective signals in response to light that is incident on the elements; and </claim-text><claim-text> generating pulses to drive the electrodes at respective frequencies determined responsively to the signals, including an overshoot in the frequencies in response to a change in an intensity of the incident light on a given light-sensing element. <!-- EPO <DP n="29"/>--> </claim-text></claim><claim id="clm-0049" num="49"><claim-text>49. The method according to claim 48, wherein the overshoot comprises a transient increase in a frequency applied to a given electrode in response to an increase in the intensity incident on the given light-sensing element and a transient decrease in the frequency applied to the given electrode in response to a decrease in the intensity. </claim-text></claim><claim id="clm-0050" num="50"><claim-text> 50. The method according to claim 49, wherein generating the pulses comprises applying a low-pass filter to generate the overshoot. </claim-text></claim><claim id="clm-0051" num="51"><claim-text> 51. The method according to claim 50, wherein applying the low-pass filter comprises switching a series of capacitive elements in sequence to generate a low- pass response. </claim-text></claim><claim id="clm-0052" num="52"><claim-text> 52. The method according to claim 49, and comprising coupling memory elements to return the electrodes to a common level following the pulses. </claim-text></claim><claim id="clm-0053" num="53"><claim-text> 53. The method according to claim 49, wherein generating the pulses comprises deactivating a first group of the electrodes when a level of electrical power supplied for driving the electrodes drops below a predetermined threshold, while continuing to provide the pulses to a second group of the electrodes. </claim-text></claim><claim id="clm-0054" num="54"><claim-text> 54. A method for neural stimulation, comprising: </claim-text><claim-text> providing an array of electrodes for implantation in contact with tissue in an eye of a living subject; </claim-text><claim-text> driving the electrodes in the array with pulses responsively to an intensity of light that is incident on a respective area of the eye; and </claim-text><claim-text> coupling memory elements to return the electrodes to a common level following each pulse. </claim-text></claim><claim id="clm-0055" num="55"><claim-text> 55. The method according to claim 54, wherein the memory elements comprises flip-flops. </claim-text></claim><claim id="clm-0056" num="56"><claim-text> 56. The method according to claim 54, wherein driving the electrodes comprises providing balanced stimulation to the tissue. <!-- EPO <DP n="30"/>--> </claim-text></claim><claim id="clm-0057" num="57"><claim-text>57. The method according to any one of claims 54-56, wherein driving the electrodes comprises deactivating a first group of the electrodes when a level of electrical power supplied for driving the electrodes drops below a predetermined threshold, while continuing to provide the pulses to a second group of the electrodes. </claim-text></claim><claim id="clm-0058" num="58"><claim-text>58. A method for neural stimulation, comprising: </claim-text><claim-text> providing an array of electrodes for implantation in contact with tissue in an eye of a living subject; </claim-text><claim-text> driving the electrodes in the array responsively to an intensity of light that is incident on an area of the eye; and </claim-text><claim-text> deactivating a first group of the electrodes when a level of electrical power supplied for driving the electrodes drops below a predetermined threshold, while continuing to drive a second group of the electrodes. </claim-text></claim><claim id="clm-0059" num="59"><claim-text> 59. The method according to claim 58, wherein the second group comprises the electrodes within a selected region of the array, while the first group comprises the electrodes outside the region. </claim-text></claim><claim id="clm-0060" num="60"><claim-text> 60. The method according to claim 58, wherein the first and second groups of the electrodes are interleaved in the array. </claim-text></claim><claim id="clm-0061" num="61"><claim-text> 61. The method according to any one of claims 58-60, wherein deactivating the first group comprises monitoring a voltage output by a power supply, and deactivating the first group of the electrodes when the voltage drops below the predetermined threshold. </claim-text></claim><claim id="clm-0062" num="62"><claim-text> 62. The method according to claim 61, wherein monitoring the voltage output comprises comparing the voltage output to a plurality of thresholds and reducing a number of active channels further as each threshold is passed. </claim-text></claim></claims><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
