<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2679015-A1" country="EP" doc-number="2679015" kind="A1" date="20140101" family-id="47295330" file-reference-id="304671" date-produced="20180823" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146550482" ucid="EP-2679015-A1"><document-id><country>EP</country><doc-number>2679015</doc-number><kind>A1</kind><date>20140101</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-11867490-A" is-representative="NO"><document-id mxw-id="PAPP154824405" load-source="docdb" format="epo"><country>EP</country><doc-number>11867490</doc-number><kind>A</kind><date>20110607</date><lang>EN</lang></document-id><document-id mxw-id="PAPP220438158" load-source="docdb" format="original"><country>EP</country><doc-number>11867490.2</doc-number><date>20110607</date></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140450804" ucid="CN-2011075366-W" linkage-type="A" load-source="docdb"><document-id format="epo"><country>CN</country><doc-number>2011075366</doc-number><kind>W</kind><date>20110607</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL2070997145" load-source="docdb">H04N  17/00        20060101AFI20140415BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL2070998616" load-source="docdb">H04N  21/24        20110101ALI20140415BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL2070999364" load-source="docdb">H04L  12/24        20060101ALI20140415BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL2071005053" load-source="docdb">H04L  12/26        20060101ALI20140415BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-2126666757" load-source="docdb" scheme="CPC">H04L  43/12        20130101 LI20141210BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2126666758" load-source="docdb" scheme="CPC">H04L  43/0894      20130101 LI20141210BHEP        </classification-cpc><classification-cpc mxw-id="PCL2076396676" load-source="docdb" scheme="CPC">H04N  17/004       20130101 FI20140523BHEP        </classification-cpc><classification-cpc mxw-id="PCL2076403101" load-source="docdb" scheme="CPC">H04N  21/2401      20130101 LI20140523BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132183930" lang="DE" load-source="patent-office">ÜBERWACHUNGSVORRICHTUNG UND VERFAHREN ZUR ÜBERWACHUNG EINER VIDEOSITZUNG IN EINEM DATENNETZWERK</invention-title><invention-title mxw-id="PT132183931" lang="EN" load-source="patent-office">MONITORING DEVICE AND METHOD FOR MONITORING A VIDEO SESSION IN A DATA NETWORK</invention-title><invention-title mxw-id="PT132183932" lang="FR" load-source="patent-office">DISPOSITIF ET PROCÉDÉ DE CONTRÔLE DE SESSION VIDÉO DANS UN RÉSEAU DE DONNÉES</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR918168667" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>HUAWEI TECH CO LTD</last-name><address><country>CN</country></address></addressbook></applicant><applicant mxw-id="PPAR918171033" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>HUAWEI TECHNOLOGIES CO., LTD</last-name></addressbook></applicant><applicant mxw-id="PPAR918985860" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Huawei Technologies Co., Ltd</last-name><iid>101353631</iid><address><street>Huawei Administration Building Bantian Longgang District</street><city>Shenzhen, Guangdong 518129</city><country>CN</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR918169303" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>ADAMS MARTIN</last-name><address><country>DE</country></address></addressbook></inventor><inventor mxw-id="PPAR918165212" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>ADAMS, MARTIN</last-name></addressbook></inventor><inventor mxw-id="PPAR918982795" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>ADAMS, MARTIN</last-name><address><street>Hesselerstrabe 32</street><city>52146 Wurselen</city><country>DE</country></address></addressbook></inventor><inventor mxw-id="PPAR918160255" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>JURCA DAN</last-name><address><country>DE</country></address></addressbook></inventor><inventor mxw-id="PPAR918169663" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>Jurca, Dan</last-name></addressbook></inventor><inventor mxw-id="PPAR918988737" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>Jurca, Dan</last-name><address><street>Riesstrasse 25</street><city>80992 Munich</city><country>DE</country></address></addressbook></inventor><inventor mxw-id="PPAR918136807" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>CUNY RENAUD</last-name><address><country>DE</country></address></addressbook></inventor><inventor mxw-id="PPAR918163348" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>CUNY, RENAUD</last-name></addressbook></inventor><inventor mxw-id="PPAR918994376" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>CUNY, RENAUD</last-name><address><street>Riesstrasse 25</street><city>80992 Munich</city><country>DE</country></address></addressbook></inventor><inventor mxw-id="PPAR918139851" load-source="docdb" sequence="4" format="epo"><addressbook><last-name>BEKER SERGIO</last-name><address><country>DE</country></address></addressbook></inventor><inventor mxw-id="PPAR918163077" load-source="docdb" sequence="4" format="intermediate"><addressbook><last-name>BEKER, SERGIO</last-name></addressbook></inventor><inventor mxw-id="PPAR918983442" load-source="patent-office" sequence="4" format="original"><addressbook><last-name>BEKER, SERGIO</last-name><address><street>Riesstrasse 25</street><city>80992 Munich</city><country>DE</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR918988251" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Kreuz, Georg Maria</last-name><suffix>et al</suffix><iid>101240889</iid><address><street>Huawei Technologies Dessauerstrasse 3</street><city>80992 Munich</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="CN-2011075366-W"><document-id><country>CN</country><doc-number>2011075366</doc-number><kind>W</kind><date>20110607</date><lang>EN</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2012167416-A1"><document-id><country>WO</country><doc-number>2012167416</doc-number><kind>A1</kind><date>20121213</date><lang>EN</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS548907225" load-source="docdb">AL</country><country mxw-id="DS548811645" load-source="docdb">AT</country><country mxw-id="DS548907226" load-source="docdb">BE</country><country mxw-id="DS548909578" load-source="docdb">BG</country><country mxw-id="DS548858435" load-source="docdb">CH</country><country mxw-id="DS548916882" load-source="docdb">CY</country><country mxw-id="DS548811646" load-source="docdb">CZ</country><country mxw-id="DS548830578" load-source="docdb">DE</country><country mxw-id="DS548907227" load-source="docdb">DK</country><country mxw-id="DS548916883" load-source="docdb">EE</country><country mxw-id="DS548911049" load-source="docdb">ES</country><country mxw-id="DS548909579" load-source="docdb">FI</country><country mxw-id="DS548909580" load-source="docdb">FR</country><country mxw-id="DS548907228" load-source="docdb">GB</country><country mxw-id="DS548907229" load-source="docdb">GR</country><country mxw-id="DS548907230" load-source="docdb">HR</country><country mxw-id="DS548811647" load-source="docdb">HU</country><country mxw-id="DS548858436" load-source="docdb">IE</country><country mxw-id="DS548907231" load-source="docdb">IS</country><country mxw-id="DS548909581" load-source="docdb">IT</country><country mxw-id="DS548916884" load-source="docdb">LI</country><country mxw-id="DS548830579" load-source="docdb">LT</country><country mxw-id="DS548811648" load-source="docdb">LU</country><country mxw-id="DS548830580" load-source="docdb">LV</country><country mxw-id="DS548830581" load-source="docdb">MC</country><country mxw-id="DS548894286" load-source="docdb">MK</country><country mxw-id="DS548894287" load-source="docdb">MT</country><country mxw-id="DS548907232" load-source="docdb">NL</country><country mxw-id="DS548909586" load-source="docdb">NO</country><country mxw-id="DS548907233" load-source="docdb">PL</country><country mxw-id="DS548909587" load-source="docdb">PT</country><country mxw-id="DS548907234" load-source="docdb">RO</country><country mxw-id="DS548858437" load-source="docdb">RS</country><country mxw-id="DS548907235" load-source="docdb">SE</country><country mxw-id="DS548858438" load-source="docdb">SI</country><country mxw-id="DS548830582" load-source="docdb">SK</country><country mxw-id="DS548830583" load-source="docdb">SM</country><country mxw-id="DS548916885" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data><office-specific-data><eptags><ep-no-a-document-published>*</ep-no-a-document-published></eptags></office-specific-data></bibliographic-data><abstract mxw-id="PA103050213" ref-ucid="WO-2012167416-A1" lang="EN" load-source="patent-office"><p num="0000">The invention relates to a monitoring device (101) for monitoring a video session in a data network between a video server (105) providing a video file and a video client (104) playing the video file, comprising: a data interface (102) configured to connect to an end-to-end communication path between the video server (105) and the video client (104) and configured to capture video resolution information and to retrieve client screen resolution information; and a determination unit (103) configured to determine a quality measure for the video session based on the video resolution information, based on the client screen resolution information and based on a buffer model, the buffer model modeling a fill level of a receive buffer (301) in the video client (104), the receive buffer (301) being configured to buffer the video file before playing the video file.</p></abstract><abstract mxw-id="PA103282478" ref-ucid="WO-2012167416-A1" lang="EN" source="national office" load-source="docdb"><p>The invention relates to a monitoring device (101) for monitoring a video session in a data network between a video server (105) providing a video file and a video client (104) playing the video file, comprising: a data interface (102) configured to connect to an end-to-end communication path between the video server (105) and the video client (104) and configured to capture video resolution information and to retrieve client screen resolution information; and a determination unit (103) configured to determine a quality measure for the video session based on the video resolution information, based on the client screen resolution information and based on a buffer model, the buffer model modeling a fill level of a receive buffer (301) in the video client (104), the receive buffer (301) being configured to buffer the video file before playing the video file.</p></abstract><abstract mxw-id="PA103050214" ref-ucid="WO-2012167416-A1" lang="FR" load-source="patent-office"><p num="0000">L'invention concerne un dispositif de contrôle (101) destiné à contrôler une session vidéo dans un réseau de données entre un serveur vidéo (105) fournissant un fichier vidéo et un client vidéo (104) lisant le fichier vidéo. Ce dispositif comprend : une interface de données (102) configurée pour être connectée à un trajet de communication de bout en bout entre le serveur vidéo (105) et le client vidéo (104) et configurée pour capturer des informations de résolution vidéo et pour récupérer des informations de résolution d'écran client ; et une unité de détermination (103) configurée pour déterminer une mesure de qualité pour la session vidéo en fonction des informations de résolution vidéo, en fonction des informations de résolution d'écran client et d'un modèle de tampon, le modèle de tampon modélisant le niveau de remplissage d'un tampon de réception (301) du client vidéo (104), le tampon de réception (301) étant configuré pour mettre en tampon le fichier vidéo avant sa lecture.</p></abstract><abstract mxw-id="PA103282479" ref-ucid="WO-2012167416-A1" lang="FR" source="national office" load-source="docdb"><p>L'invention concerne un dispositif de contrôle (101) destiné à contrôler une session vidéo dans un réseau de données entre un serveur vidéo (105) fournissant un fichier vidéo et un client vidéo (104) lisant le fichier vidéo. Ce dispositif comprend : une interface de données (102) configurée pour être connectée à un trajet de communication de bout en bout entre le serveur vidéo (105) et le client vidéo (104) et configurée pour capturer des informations de résolution vidéo et pour récupérer des informations de résolution d'écran client ; et une unité de détermination (103) configurée pour déterminer une mesure de qualité pour la session vidéo en fonction des informations de résolution vidéo, en fonction des informations de résolution d'écran client et d'un modèle de tampon, le modèle de tampon modélisant le niveau de remplissage d'un tampon de réception (301) du client vidéo (104), le tampon de réception (301) étant configuré pour mettre en tampon le fichier vidéo avant sa lecture.</p></abstract><description mxw-id="PDES53412701" ref-ucid="WO-2012167416-A1" lang="EN" load-source="patent-office"><!-- EPO <DP n="2"/>--><p id="p0001" num="0001"> DESCRIPTION </p><p id="p0002" num="0002">Monitoring device and method for monitoring a video session in a data network </p><p id="p0003" num="0003">BACKGROUND OF THE INVENTION </p><p id="p0004" num="0004">The present invention relates to a monitoring device and a method for monitoring a video session in a data network between a video server and a video client. </p><p id="p0005" num="0005">Video streaming or progressive download is a popular application within the Internet. A video streaming client connected via an ISP (Internet Service Provider); e.g. a mobile or fixed operator, requests a streaming server, located somewhere within the ISP network or outside in the Internet, to send a video stream. One of the protocols that can be used is HTTP over TCP/IP. In contrast to accessing a web page or to traditional video downloading, the video client starts displaying the content of the requested file before the entire source file has been downloaded successfully by the client. Video content transmission in IP networks is affected by the transport characteristics of the underlying transmission networks, such as bandwidth, delay, jitter and packet loss. The end user perception will be impaired by initial buffering, i.e. the time from the request until the playout of the video file will start, but also from video stalling during the playout followed by rebuffering as soon as the receiver buffer in the client application has drained completely and no further content is available. This is usually the case when the provided average bandwidth by the transport network is lower than the video stream bit rate. A buffer emulator inside the monitoring system is required that calculates the buffer level and provides further information about the rebuffering characteristics. </p><p id="p0006" num="0006">Known video monitoring algorithms tend, however, to be complex, and require frequent deep packet inspections (DPI) on the bit stream in order to acquire the needed information about the video or they require the original video source in 
<!-- EPO <DP n="3"/>-->
 order to perform a comparison between monitored video and original video. Such solutions are not feasible for network monitoring probe systems, which have to analyze thousands of sessions in parallel and in real time, due to the </p><p id="p0007" num="0007">computational capacity that such a task would require. </p><p id="p0008" num="0008">SUMMARY OF THE INVENTION </p><p id="p0009" num="0009">It is the object of the invention to provide an efficient concept for monitoring a video session in a computational efficient manner which concept is suitable for being applied in monitoring simultaneously a high number of video sessions. </p><p id="p0010" num="0010">This object is achieved by the features of the independent claims. Further implementation forms are apparent from the dependent claims, the description and the figures. </p><p id="p0011" num="0011">The invention is based on the finding that client device's screen resolution may determine the video quality as experienced by a user, also referred to as quality of experience (QoE). Thus, an efficient concept for monitoring a video session may be provided when taking into account a dependence of the video quality experienced by a user on the screen resolution. The QoE may consider the terminal's screen resolution and correlate the terminal's screen resolution with the video resolution. The QoE may also consider a number and duration of </p><p id="p0012" num="0012">rebufferings, which can be computed using a buffer model . In order to describe the invention in detail, the following terms, abbreviations and notations will be used: </p><p id="p0013" num="0013">Buffer size b: represents the minimum amount of video information in seconds to be buffered at the client player before the video file starts to be displayed on the user device screen, 
<!-- EPO <DP n="4"/>-->
 r(t): represents the instantaneous network rate allocated by the transport network to the video session. Equivalent terms are: network packet rate, network rate, instantaneous network rate, session rate, instantaneous session rate, v(t): represents the rate at which the video packets must be decoded by the video player in order to ensure continuous playback of the video on the user screen. This value characterizes an encoded video stream and is set during the encoding process. Equivalent terms are: video rate, video bitrate, video playback rate, video consumption rate, </p><p id="p0014" num="0014">DPI: deep packet inspection - is a method to inspect network packets and extract relevant information from the packet payload, </p><p id="p0015" num="0015">QoE: Quality of Experience. Equivalent terms are: perceived user quality, video subjective quality, quality perceived by the user, </p><p id="p0016" num="0016">Video resolution: the number of horizontal and vertical pixels of the encoded video sequence. Equivalent terms: video resolution, video resolution information, video stream resolution, base video resolution, encoded video resolution, </p><p id="p0017" num="0017">Screen resolution: the maximum resolution of the screen of the user device defined by the number of horizontal and vertical pixels which can be displayed on the screen. Equivalent terms in this document: native device resolution, maximum screen resolution, client capability information, </p><p id="p0018" num="0018">HTTP: Hypertext Transfer Protocol, TCP: Transmission control Protocol, </p><p id="p0019" num="0019">IP: Internet Protocol, 
<!-- EPO <DP n="5"/>-->
 PDCP: Packet Data Convergence Protocol, RLC: Radio Link Control Protocol, MAC: Medium Access Control Protocol, </p><p id="p0020" num="0020">OSI model: Open Systems Interconnection model, </p><p id="p0021" num="0021">L2: Any generic layer 2 communication protocol in the OSI model, </p><p id="p0022" num="0022">L1 : Any generic layer 1 communication protocol in the OSI model, KQI: Key Quality Indicator. According to a first aspect, the invention relates to a monitoring device for monitoring a video session in a data network between a video server providing a video file and a video client playing the video file, the monitoring device comprising a data interface configured to connect to an end-to-end communication path between the video server and the video client and configured to capture video resolution information and to retrieve client screen resolution information; and a determination unit configured to determine a quality measure for the video session based on the video resolution information, based on the client screen resolution information and based on a buffer model, the buffer model modeling a fill level of a receive buffer in the video client, the receive buffer being configured to buffer the video file before playing the video file. </p><p id="p0023" num="0023">The video resolution information may be received by inspecting video packets sent by the video server and received by the video client. Such inspection may be performed by minimal deep packet inspections (DPI) on the bit stream of the end- to-end communication path between the video server and the video client. The information needed from the bitstream may be obtained by DPI on a few packets, 
<!-- EPO <DP n="6"/>-->
 for example, the first few packets or other few packets during the video </p><p id="p0024" num="0024">transmission, of the video file transmitted. Therefore, also the scalability may be improved. Moreover, also an implementation in network based monitoring probe systems is feasible. In addition, a number of sessions which can be analysed in parallel and real time may be increased. </p><p id="p0025" num="0025">According to a particular implementation form, the algorithm for calculating the QoE is based on: </p><p id="p0026" num="0026"> 1 . ) Assessing the base video quality by capturing the video resolution </p><p id="p0027" num="0027"> information included in the video metadata of the first video packets; </p><p id="p0028" num="0028"> 2. ) Gathering information about the end-user's device screen resolution, i.e. which is extracted by analysing the device capability message; </p><p id="p0029" num="0029"> 3. ) Considering the number of stalling events per streaming session, using a buffer model; and </p><p id="p0030" num="0030"> 4.) Considering the rebuffering duration per stall, e.g. video freeze, event. </p><p id="p0031" num="0031">The quality of experience, or in other words the user perceived quality of the video, is computed based on information which can be obtained at network level by devices connected to the end-to-end communication path between the video client and the video server. The result of the computation can be a scalar value which represents the quality measure for a given video session. This scalar value represents the effect of the video resolution, display screen resolution and network effect on the video session, as perceived by the user watching a video on its device display. </p><p id="p0032" num="0032">The monitoring devices can for example be able to monitor the end-to-end session at TCP level, and can be placed on any network segment in the communication path, including the end devices. Implementation forms of the first aspect may reduce the computational effort in the monitoring devices. Hence, it can provide the operator with a broader base of 
<!-- EPO <DP n="7"/>-->
 measurements and consequently with a better understanding of the end-users' perceived quality. These forms allow the operator to perform monitoring of multiple video sessions in parallel with reduced infrastructure needs, e.g., without adding more monitoring devices. </p><p id="p0033" num="0033">The data network can for example be a network used for transmission in wireless networks, in particular in GSM/UMTS/LTE cellular networks and WLAN. According to an alternative implementation form, the data network is a network used for transmission in wired networks, operating in a circuit-switched or packet-switched manner. According to an implementation form, the data network is IP-based, ATM- based or TDM-based. According to an implementation form, the data network is an XDSL network. According to an implementation form, the data network is an optical data network. According to an implementation form, the data network is an electrical data network. According to an implementation form, the data network provides optical and electrical transmission. </p><p id="p0034" num="0034">In a first possible implementation form of the monitoring device according to the first aspect, the data interface comprises a first interface unit, in particular a probe, for capturing the video resolution information, and a second interface unit for retrieving the client display resolution information from a network node, in particular a Home Subscriber Server, or a Mobility Management Entity, or a Equipment Identity Register, over a communication network. In this </p><p id="p0035" num="0035">implementation, the monitoring device can put together both pieces of information such as video resolution and client screen resolution information, and match them together in order to compute a matching factor. </p><p id="p0036" num="0036">In a second possible implementation form of the monitoring device according to the first aspect as such or according to the first implementation form of the first aspect, the data interface is configured to capture the video resolution information from a video file meta data which are associated with the video file. This requires 
<!-- EPO <DP n="8"/>-->
 minimal DPI on the video packets traversing the network, only on specific video packets usually found at the beginning of the video file. </p><p id="p0037" num="0037">In a third possible implementation form of the monitoring device according to the first aspect as such or according to any of the first or second implementation forms of the first aspect, the client screen resolution information indicates a maximum resolution of a display of the video client, also referred to as native resolution of the display of the video client, and wherein the video resolution information indicates an encoding resolution of the video file. </p><p id="p0038" num="0038">The encoding resolution of the video file can be the resolution of the video file or video pictures or frames of the video file were source encoded and can be provided as the number of pixels in horizontal and the number of pixels in vertical direction of the video pictures or frames. </p><p id="p0039" num="0039">The client display resolution, or native resolution of the display of the video client, may also be provided as the number of pixels in horizontal and the number of pixels in vertical direction of the display. In a fourth possible implementation form of the monitoring device according to the first aspect as such or according to any of the preceding implementation forms of the first aspect, the quality measure depends on a Video Quality Matching Factor KQI1 which is determined as a correlation of the video resolution of the video file and the display resolution of the video client included in the client capabilities information. The higher the correlation between the two values is, the better is the computed matching factor (KQI1 ). </p><p id="p0040" num="0040">In a fifth possible implementation form of the monitoring device according to the first aspect as such or according to any of the preceding implementation forms of the first aspect, the quality measure depends on a Session Normalized Play Time KQI2 which is determined as a total play time of the active video session 
<!-- EPO <DP n="9"/>-->
 normalized by a duration of the video session. The closer KQI2 is to 1 , the higher is the computed quality measure. </p><p id="p0041" num="0041">In a sixth possible implementation form of the monitoring device according to the first aspect as such or according to any of the preceding implementation forms of the first aspect, the quality measure depends on a Session Stall Duration </p><p id="p0042" num="0042">Degradation Factor KQI3 which is determined as a function of an average stall duration of the video session, using the buffer model to determine the stall duration of the video session and a frequency of occurrence of the stalls of the video session. The longer the stall duration is, and the higher the frequency of stall occurrence is, the lower is the computed quality measure. </p><p id="p0043" num="0043">In a seventh possible implementation form of the monitoring device according to the first aspect as such or according to any of the preceding implementation forms of the first aspect, the quality measure depends on a Session Normalized Total Stall Time KQI4 which is determined as a cumulated time of stalls of the video session normalized by a duration of the video session . The closer KQI4 is to 0, the higher is the computed quality measure. In an eighth possible implementation form of the monitoring device according to the first aspect as such or according to any of the preceding implementation forms of the first aspect, the quality measure depends on a Session Number of Stalls Degradation Factor KQI5 which is determined as a function of an average number of stalls during the video session. The higher KQI5 value is, the lower is the computed quality measure. </p><p id="p0044" num="0044">In a ninth possible implementation form of the monitoring device according to the first aspect as such or according to any of the preceding implementation forms of the first aspect, the quality measure QoE depends on a formula </p><p id="p0045" num="0045">QoE = max(QoEmin, KQI1 <sup>*</sup>KQI2-KQI3<sup>*</sup>KQI4<sup>*</sup>KQI5), 
<!-- EPO <DP n="10"/>-->
 where QoEmin is a minimum limit of the quality measure, KQI1 is the Video Quality Matching Factor, KQI2 is the Session Normalized Play Time, KQI3 is the Session Stall Duration Degradation Factor, KQI4 is the Session Normalized Total Stall Time and KQI5 is the Session Number of Stalls Degradation Factor. The determination of KQI1 , KQI2, KQI3, KQI4 and KQI5 is performed according to the tables 1 to 4 as described below with respect to Figs. 7 and 8. The operator "max" and the QoEmin value may be omitted according to some implementation forms. </p><p id="p0046" num="0046">In a tenth possible implementation form of the monitoring device according to the first aspect and according to any of the preceding implementation forms five to nine of the first aspect, the buffer model depends on an instantaneous network rate r(t) computed by following messages between the video client and the video server and wherein the buffer model depends on a video rate v(t) captured from the video meta data information contained in some of the packets of the </p><p id="p0047" num="0047">transmitted video file, in particular first packets of the video file. With the help of r(t) and v(t), the buffer model can estimate the number and the duration of stalls in the video session. </p><p id="p0048" num="0048">In a eleventh possible implementation form of the monitoring device according to the first aspect as such or according to any of the preceding implementation forms of the first aspect the data interface is configured to retrieve the client screen resolution by signalling through a data network or by correlating device screen resolution information available in network management systems and databases of the data network. </p><p id="p0049" num="0049">In a twelfth possible implementation form of the monitoring device according to the first aspect as such or according to any of the preceding implementation forms of the first aspect, the determination unit is configured to determine one quality measure for a group of video sessions representing an average quality for the group of video sessions. This implementation provides average quality measures 
<!-- EPO <DP n="11"/>-->
 for predefined groups of sessions, such that the operator can monitor various segments of its network and user groups. </p><p id="p0050" num="0050">The quality measure can for example be one scalar measure representing this average quality measure of the group of sessions under consideration. According to some embodiments, a segment in the network is related to all gold users of a network operator, or for a specific geographical region, or for a given user terminal type, or for a specific time duration. In a thirteenth possible implementation form of the monitoring device according to the first aspect as such or according to any of the preceding implementation forms of the first aspect, the group of video sessions comprises video sessions between one video server and multiple video clients, multiple video sessions between one video server and one video client, and video sessions between multiple video servers and multiple video clients. </p><p id="p0051" num="0051">In a fourteenth possible implementation form of the monitoring device according to the first aspect and the thirteenth implementation form of the first aspect, the data network is a TCP/IP network and the data interface is configured to connect to the TCP layer of the TCP/I P network. </p><p id="p0052" num="0052">In a fifteenth possible implementation form of the monitoring device according to the first aspect as such or according to any of the preceding implementation forms of the first aspect, the data interface is an element of a video server, of the video client, of an intermediate network node, or of an additional intermediate network node placed in the end-to-end communication path of the data network. </p><p id="p0053" num="0053">According to a second aspect, the invention relates to a method for monitoring a video session in a data network between a video server providing a video file and a video client playing the video file, comprising: connecting to an end-to-end communication path between the video server and the video client and capturing 
<!-- EPO <DP n="12"/>-->
 video resolution information and client screen resolution information; and determining a quality measure for the video session based on the video resolution information, based on the screen resolution information and based on a buffer model, the buffer model modeling a fill level of a receive buffer in the video client, the receive buffer being configured to buffer the video file before playing the video file, i.e. before playback. </p><p id="p0054" num="0054">According to a third aspect, the invention is related to a computer program product for monitoring a video session in a data network between a video server providing a video file and a video client playing the video file, comprising a data interface configured to connect to an end-to-end communication path between the video server and the video client and configured to capture video resolution information and client display resolution information; and a software module configured to determine a quality measure for the video session based on the video resolution information, based on the client display resolution information and based on a buffer model, the buffer model modeling a fill level of a receive buffer in the video client, the receive buffer being configured to buffer the video file before playing the video file, i.e. before playback. In an implementation form of the third aspect, the computer program product is configured to run as terminal agent software in an end user device or as a network probe on a network interface. </p><p id="p0055" num="0055">According to a fourth aspect, the invention is related to an IP network traffic monitoring and analysis system, especially a system analysing the QoE of Video streaming traffic. </p><p id="p0056" num="0056">In a first implementation form of the fourth aspect, the system is a passive monitoring system for HTTP video streaming services, which utilizes a buffer model and captured information from the video stream in order to compute some quality indicators for the session, as perceived by the client where: 
<!-- EPO <DP n="13"/>-->
 - the computation algorithm takes as input relevant video session information like device screen resolution and video resolution and calculates KQI1 , </p><p id="p0057" num="0057"> - the computation algorithm takes as input relevant video playtime </p><p id="p0058" num="0058"> information during the session and calculates KQI2, </p><p id="p0059" num="0059"> - the computation algorithm takes as input relevant video stall information during the session provided by a buffer model, such as duration and frequency and calculates KQI3, KQI4 and KQI5, </p><p id="p0060" num="0060"> - the computation algorithm reports the obtained quality indicator for the session, i.e. QoE(session), using KQI1 -5. The computation of KQI1-5 is described below. </p><p id="p0061" num="0061">In a implementation form of the fourth aspect as such or according to any of the preceding implementation forms of the fourth aspect, the system is a passive monitoring system for HTTP video streaming services, which utilizes a buffer model and captured information from the video stream in order to compute some quality indicators for a particular segment of sessions, as perceived by the client where: </p><p id="p0062" num="0062"> - the computation algorithm takes as input relevant video session </p><p id="p0063" num="0063"> information like device screen resolution and video resolution and calculates KQI6 for a particular segment, </p><p id="p0064" num="0064"> - the computation algorithm takes as input relevant video playtime </p><p id="p0065" num="0065"> information during the session and calculates KQI7 for a particular segment, </p><p id="p0066" num="0066"> - the computation algorithm takes as input relevant video stall information during the session provided by a buffer model, such as duration and frequency, and calculates KQI8, KQI9 and KQI10 for a particular segment, </p><p id="p0067" num="0067"> - the computation algorithm reports the obtained quality indicator for a segment, i.e. QoE(session), using KQI6-10. The computation of KQI6-</p><p id="p0068" num="0068">10 is described below in more detail. 
<!-- EPO <DP n="14"/>-->
 In a third implementation form of the fourth aspect as such or according to any of the preceding implementation forms of the fourth aspect, the system computes some quality indicators for both a video session and a particular segment of video sessions. </p><p id="p0069" num="0069">According to some implementation forms, the computation algorithm correlate with device screen resolution and video resolution for a session in order to estimate the base quality of the video stream without further additional DPI. </p><p id="p0070" num="0070">According to some implementation forms, the stalling duration of the video stream is averaged over the session duration. </p><p id="p0071" num="0071">According to some implementation forms, the number of stalling events is averaged over the session duration. </p><p id="p0072" num="0072">According to further implementation forms, the number of stalling events is averaged over a given time interval. According to some implementation forms, the computation algorithm correlate with device screen resolution and video resolution for the segment, the segment being formed by a group of sessions, in order to estimate the average base quality of the video sessions in the segment without further additional DPI. According to some implementation forms, the average stalling duration in the segment is normalized by the average session duration for this segment. </p><p id="p0073" num="0073">According to some implementation forms, the segment's average number of stalling events is normalized by the number of sessions belonging to this segment. </p><p id="p0074" num="0074">The monitoring system can for example be applied to fixed or mobile networks. 
<!-- EPO <DP n="15"/>-->
 The monitoring system can for example be deployed as a terminal agent software, in the end user device, or as a network probe on a network interface. The invention can be implemented in digital electronic circuitry, or in computer hardware, firmware, software, or in combinations thereof. </p><p id="p0075" num="0075">BRIEF DESCRIPTION OF THE DRAWINGS Further embodiments of the invention will be described with respect to the following figures, in which: </p><p id="p0076" num="0076">Fig. 1 shows a block diagram of a monitoring device according to an </p><p id="p0077" num="0077">implementation form; </p><p id="p0078" num="0078">Fig. 2 shows a block diagram of a method for monitoring a video session in a data network between a video server providing a video file and a video client playing the video file according to an implementation form; Fig. 3 shows a diagram of a buffer model according to an implementation form; </p><p id="p0079" num="0079">Fig. 4 shows a performance diagram of a buffer model as depicted in Fig. 3 according to an implementation form; Fig. 5 shows an equation system for calculating a performance for a buffer model as depicted in Fig. 3 according to an implementation form; </p><p id="p0080" num="0080">Fig. 6 shows a block diagram of an end-to-end communication path including a monitoring device according to an implementation form; 
<!-- EPO <DP n="16"/>-->
 Fig. 7 shows a diagram of a model for the Session Stall Duration Degradation Factor according to an implementation form; and </p><p id="p0081" num="0081">Fig. 8 shows a diagram of a model for the Session Number of Stalls Degradation Factor according to an implementation form. </p><p id="p0082" num="0082">DETAILED DESCRIPTION OF EMBODIMENTS OF THE INVENTION </p><p id="p0083" num="0083">Fig. 1 shows a block diagram of a monitoring device according to an </p><p id="p0084" num="0084">implementation form. The monitoring device 101 comprises a data interface 102 and a determination unit 103. The data interface is connected to an end-to-end communication path between the video server 105 and the video client 104 and is configured to capture video resolution information and retrieve client display resolution information. The determination unit 103 is configured to determine a quality measure for the video session based on the video resolution information and the client display resolution information and based on a buffer model, the buffer model modeling a fill level of the receive buffer in the video client 104, the receive buffer is buffering the video file before playback. The video client 104 is implemented in a user equipment (UE) which processes the protocol stack HTTP/TCP/I P/PDCP/RLC/MAC/L1 . The video server 105 is implemented at a service provider location within the Internet and implements the protocol stack HTTP/TCP/I P/L2/L1. The protocol stack is an example for a user connected to an LTE/EPC network. Other networks and protocol stacks can be envisioned. The data interface 102 connects to the end-to-end communication path at the TCP layer in order to capture the video resolution information from the video server 105 and to retrieve the client display resolution information from the video client 104. </p><p id="p0085" num="0085">Fig. 2 shows a block diagram of a method for monitoring a video session in a data network between a video server providing a video file and a video client playing the video file according to an implementation form. The method comprises connecting 201 to end-to-end communication path between video server and 
<!-- EPO <DP n="17"/>-->
 video client and capturing video resolution information and client display resolution information. The method comprises determining 202 a quality measure for the video session based on the video resolution information and the client display resolution information and based on a buffer model, the buffer model modeling a fill level of a receive buffer in the video client, the receive buffer is buffering the video file before playing the video file. </p><p id="p0086" num="0086">Fig. 3 shows a diagram of a buffer model according to an implementation form. A buffer 301 is configured to buffer multiple video packets, wherein Fig. 3 depicts a first video packet 302 no. i, a second video packet 303 no. i+1 and further video packets 304. The buffer 301 has a buffer size b 307 which corresponds to a size of the buffer 301 representing a number of memory cells for storing video packets or representing a minimum buffered duration or minimum buffered play back duration, for example in seconds, of the video file that needs to be buffered in the buffer before the buffered portion of the video file is played . Video packets are received by the network with an instantaneous network rate r(t) 305 and each video packet is provided to a video playback unit for playing the video with a video rate v(t) 306. Depending on the instantaneous network rate 305 the buffer 301 is filled with video packets 302, 303, 304 until the buffer size b 307 in the video client is reached. When the buffer is filled to the buffer size b, the video client starts playing the video at the video rate 306. If the instantaneous network rate 305 is greater than the video rate 306, the buffer 301 is filled with video packets 302, 303, 304. If the video rate 306 is greater than the instantaneous network rate 305, the buffer 301 drains and eventually can become empty, causing the video to stall on the client display. The buffer size b may form a minimum constraint on how much should be buffered before video starts playback or restarts playback after a freeze. If the buffer size b is already filled with packets, then the client can still store network packets as they arrive according to the instantaneous network rate, hence increasing the amount of packets that are available in the buffer. The buffer size b may be assumed as an input parameter. 
<!-- EPO <DP n="18"/>-->
 The video resolution, v(t) and r(t) are related to the end-to-end communication path. The display screen resolution forming an implementation of a client's capability may be retrieved from other interfaces and network nodes or databases. The parameter r(t) is the instantaneous network rate and can be obtained by observing and monitoring the packets of the video session. v(t) is the video rate, i.e. the bitrate, and can be obtained by DPI on the first packets of the video session. v(t) is a parameter included in the video metadata in some packets of the video file containing the video. Fig. 4 shows a diagram illustrating loading and unloading of the buffer 301 according to an implementation form. </p><p id="p0087" num="0087">According to an implementation form, the buffer 301 does not have an upper limit. So even if the network rate is higher than the video rate, packets can still be loaded and stored in an ever increasing buffer. The buffer size b may represent the minimum amount of data that must be downloaded in order for the video playback to start. </p><p id="p0088" num="0088">The buffer emulator or buffer model inside the monitoring device is a crucial computational element, which can assess the influence of the network status on the transmission process for the packets belonging to the video session. The input parameters for the buffer emulator or buffer model are the buffer size b, the instantaneous network rate provided to the video session, and the video rate or bitrate of the video file as can be seen from Figure 3. The internal computations of the emulator can predict based on these parameters: i) the initial buffering time, before the player starts displaying the video information, ii) the times at which the video freezes on the screen due to buffer underflow and iii) the time it takes to refill the buffer and resume playback. Fig. 4 shows a performance diagram of a buffer model as depicted in Fig. 3 according to an implementation form. The dotted line represents the 
<!-- EPO <DP n="19"/>-->
 incoming rate of the video packets according to the instantaneous network rate. The continuous line represents the consumption of the video </p><p id="p0089" num="0089">information by the player at video rate, and the corresponding display of video information on the user screen. t1 represents the initial buffering time, during which the player buffer gets filled to level b, before the video starts displaying. t2 represents the time when buffer underflow occurs. The video playback is stopped, and the player attempts to refill the buffer to level b, before restarting displaying the video. The buffer gets refilled at time t3, and the video is continued on the user screen. In the interval between t2 and t3 the user experiences a video freeze on the screen. </p><p id="p0090" num="0090">The diagram illustrates two data rates, a first data rate is the instantaneous network rate 405 illustrated by the dotted line and a second data rate is the video rate 406 illustrated by the continuous line. The instantaneous network rate 405, r(t) can be captured by following messages between the video client and the video server and the video rate 406, v(t) can be captured from first packets of the video file. During a first time interval from 0 to ti of initial buffering the buffer is filled with video packets at the instantaneous network rate 405. During this time interval there is no playback of video in the video client. At time ti the buffer is filled with video packets up to the buffer size b 407 and the video client starts playback. During a second time interval ti to t2, the continuous line 406 illustrates continuous playing of the video on the user screen at the video rate. During this time interval, data packets are received from the network at the instantaneous network rate 405. However, as can be seen from the figure, the instantaneous network rate 405 is smaller than the video rate 406, resulting in a drain of the buffer, such that at time t2 the buffer is empty and no more packets are available for playback. Thus, at time t2 video play stalls. The buffer has to be filled again at the third time interval from time t2 to time .3, in which time interval the video is not played by the video client. At time t3 enough video packets were delivered by the network 
<!-- EPO <DP n="20"/>-->
 at the instantaneous network rate to fill the buffer up to the buffer size 407. </p><p id="p0091" num="0091">Then, the video client resumes playing the video. </p><p id="p0092" num="0092">As can be seen from the figure, the video is played continuously by the video client, if the network rate 405 is greater than the video playback rate 406. If the network rate 405, however, is smaller than the video rate, the buffer is draining until it gets empty and video play stalls. A buffer model for the buffer according to an implementation form is presented in Fig. 5. According to some embodiments, the computation of times t1 , t2 and t3 is performed according to the leaky bucket principle, and is displayed in Fig. 5. </p><p id="p0093" num="0093">Fig. 5 shows an equation system for calculating a performance for a buffer model as depicted in Fig. 3 according to an implementation form. </p><p id="p0094" num="0094">As aforementioned, the parameter r(t) is the instantaneous network rate and can be obtained by observing and monitoring the packets of the session server. v(t) is the video rate, i.e. bitrate, and can be obtained by DPI on the first packets of the video session. v(t) is a parameter included in the video metadata in the first packets of the video file containing the video, b is the buffer size, taken as input parameter or obtained by evaluating the client capabilities information received from the client application on the video client. Based on this model and </p><p id="p0095" num="0095">computation, the monitoring device is able to predict the number of times the user player had to rebuffer, and the duration of these rebuffering intervals in order to assess the user's quality of experience. </p><p id="p0096" num="0096">The buffer model models the buffer 301 which fill level is depicted in Fig. 4. </p><p id="p0097" num="0097">Time ti which is required for filling the buffer is calculated by using the </p><p id="p0098" num="0098">minimum argument with respect to time t, for which the integral of r(t) </p><p id="p0099" num="0099">integrated from 0 to ti is greater than the product of v(t) and b, wherein r(t) is the instantaneous network rate, v(t) is the video rate and b is the buffer size. 
<!-- EPO <DP n="21"/>-->
 r(t) corresponds to the instantaneous network rate 405 of Fig. 4, v(t) corresponds to the video rate 406 of Fig. 4 and b corresponds to the buffer size 407 of Fig. 4. Time t2 is calculated by using the minimum argument with respect to time t, for which the integral of r(t) integrated from 0 to t2 is smaller than the integral of v(t) integrated from ti to t2. Refilling of the buffer at the instantaneous network rate during the time interval from t2 to .3 is calculated by the third equation. Time t3 is calculated by using the minimum argument with respect to time t, for which the integral of r(t) integrated from t2 to .3 is greater than the product of v(t) and b. During the third time interval, the buffer is refilled at the instantaneous network rate r(t) until the buffer size b is </p><p id="p0100" num="0100">reached. </p><p id="p0101" num="0101">Fig. 6 shows a block diagram of an end-to-end communication path including a monitoring device according to an implementation form. In particular, Fig. 6 depicts just an example of the protocol stack of a type of communication network </p><p id="p0102" num="0102">(LTE/EPC mobile network). However, it shall be noted that the aspects and implementation forms described herein also apply to other networks as well. </p><p id="p0103" num="0103">The monitoring device 607 is placed between a video server of a service provider 606 and a video client 601. The video server of a service provider 606 is implemented within a service provider in the Internet and implements the protocol stack HTTP over TCP over IP over L1/L2, wherein the video client is implemented within a user equipment 601 implementing the protocol stack HTTP over TCP over IP over PDCP over RLC over MAC over L1 . The monitoring device 607 is placed at the end-to-end communication path between the video server and the video client and has contact to the TCP layers of video server and video client as well as to the HTTP layers. In the end-to-end communication path, there are a lot of intermediate network nodes, which are a E-UTRAN device 602, a router 603, a serving gateway 604 and a packet data network (PDN) gateway 605. The E- UTRAN device 602 implements the protocol stack PDCP over RLC over MAC over L1 when connecting to the user equipment 601 and the protocol stack GTP-U over 
<!-- EPO <DP n="22"/>-->
 UDP over IP over L1/ L2 when connecting to the router 603. Both connections are relayed by a relay. The router 603 implements the protocol stack IP over L1/L2 and connects to the E-UTRAN device 602 and the serving gateway 604. The serving gateway 604 implements the protocol stack GTP-U over UDP over IP over L1/L2 when connecting to the E-UTRAN device 602 and the PDN gateway 605, both connections relayed by a relay. The IP stack of the serving gateway 604 has connection to the IP stack of the router 603. The packet data network gateway 605 implements the protocol stack IP over GTP-U over UDP over IP over L1/L2, wherein its upper layer IP stack is in connection with the IP stack of the service provider 606 and with the IP stack of the user equipment 601 . Besides, its L1/L2 stack is in connection with the L1/L2 stack of the service provider 606. According to this implementation form, the monitoring device 607 is a network probe (DPI) which is placed between the video server of the service provider 606 and the video client 601. </p><p id="p0104" num="0104">According to some implementation forms, the monitoring device can be </p><p id="p0105" num="0105">implemented in each of the network nodes depicted in Fig. 6, i.e. in the E-UTRAN 602, in the router 603, in the serving gateway 604 and in the packet data network gateway 605. </p><p id="p0106" num="0106">According to some implementation forms, the monitoring device 607 is </p><p id="p0107" num="0107">implemented in the video server of the service provider 606 and/or in the user equipment 601 . According to some implementation forms, the monitoring device 607 is configured to capture video resolution information from the video server of the service provider 606 and configured to capture client display resolution information from the user equipment or the video client, respectively. According to some implementation forms, the user equipment implements this protocol stack only for the LTE/EPC network in Fig 6. Other protocol stacks related 
<!-- EPO <DP n="23"/>-->
 to other communication networks can be envisioned too, e.g., a laptop connected to a fixed network will have a protocol stack HTTP/TCP/I P/L2/L1 , where L1 and L2 are layer 1 and layer 2 protocols and are abstracted by the TCP/IP communication paradigm. L1 and L2 can be any protocol for Layer 1 and Layer 2 communication according to the OSI model. </p><p id="p0108" num="0108">According to an implementation form, the monitoring device is a Network </p><p id="p0109" num="0109">Monitoring Probe placed at TCP/HTTP level to monitor a HTTP video streaming session. According to an implementation form, the end-to-end communication path is between the video server and a mobile client accessing an LTE network. The monitoring device/network probe accesses the TCP layer and can be placed anywhere in the communication path, including the end devices. </p><p id="p0110" num="0110">TCP provides a communication service at an intermediate level between an application program and the Internet Protocol (IP). That is, when an application program, e.g. the video client desires to send a large chunk of data across the Internet using IP, instead of breaking the data into IP-sized pieces and issuing a series of IP requests, the software can issue a single request to TCP and let TCP handle the IP details. </p><p id="p0111" num="0111">IP works by exchanging pieces of information called packets. A packet is a sequence of octets and consists of a header followed by a body. The header describes the packet's destination and, optionally, the routers to use for forwarding until it arrives at its destination. The body contains the data IP is transmitting. </p><p id="p0112" num="0112">Due to network congestion, traffic load balancing, or other unpredictable network behavior, IP packets can be lost, duplicated, or delivered out of order. TCP detects these problems, requests retransmission of lost data, rearranges out-of-order data, and even helps minimize network congestion to reduce the occurrence of the other problems. Once the TCP receiver has reassembled the sequence of octets originally transmitted, it passes them to the application program. Thus, TCP 
<!-- EPO <DP n="24"/>-->
 abstracts the application's communication from the underlying networking details. Therefore, data interfaces of monitoring devices according to implementation forms can connect to the TCP layer without caring about transmission in lower protocol layers. </p><p id="p0113" num="0113">TCP is optimized for accurate delivery rather than timely delivery, and therefore, TCP sometimes incurs relatively long delays in the order of seconds while waiting for out-of-order messages or retransmissions of lost messages. It is not </p><p id="p0114" num="0114">particularly suitable for real-time applications such as Voice over IP. For such applications, protocols like the Real-time Transport Protocol (RTP) running over the User Datagram Protocol (UDP) are usually recommended instead. Data interfaces of monitoring devices according to alternative implementation forms connect to the UDP layer or the RTP layer. Thus, they can be applied for Voice over IP applications. </p><p id="p0115" num="0115">According to some implementation forms, the monitoring device is used for HTTP video streaming monitoring systems using the HTTP layer. The Hypertext Transfer Protocol (HTTP) is a networking protocol for distributed, collaborative, hypermedia information systems. HTTP is the foundation of data communication for the World Wide Web. According to an implementation form, RFC 2616, which defines HTTP/1 .1 , is used as version of the HTTP protocol. </p><p id="p0116" num="0116">HTTP is an Application Layer protocol designed within the framework of the Internet Protocol Suite. The protocol definitions presume a reliable Transport Layer protocol for host-to-host data transfer. The Transmission Control Protocol (TCP) is the dominant protocol in use for this purpose. According to </p><p id="p0117" num="0117">implementation forms, the data interface of the monitoring device is configured to connect to an end-to-end communication path at TCP layer between the video server and the video client. However, HTTP has found application even with unreliable protocols, such as the User Datagram Protocol (UDP) in methods such as the Simple Service Discovery Protocol (SSDP). According to implementation 
<!-- EPO <DP n="25"/>-->
 forms, the data interface of the monitoring device is configured to connect to an end-to-end communication path at UDP layer between the video server and the video client. HTTP/1 .1 can reuse a connection multiple times, to download, for instance, images for a just delivered page. According to implementation forms, the data interface of the monitoring device is configured to connect to an end-to-end communication path at HTTP layer between the video server and the video client in order to reuse connections multiple times. Hence monitoring devices according to implementation forms experience less latency as the establishment of TCP connections presents considerable overhead. </p><p id="p0118" num="0118">HTTP functions as a request-response protocol in the client-server computing model. In HTTP, a web browser, for example, acts as the video client according to implementation forms of the first aspect, while an application running on a computer hosting a web site functions as a video server according to </p><p id="p0119" num="0119">implementation forms of the first aspect. The video client submits an HTTP request message to the video server. The video server, which stores content, or provides resources, such as HTML files, or performs other functions on behalf of the video client, returns a response message to the video client. A response contains completion status information about the request and may contain any content requested by the video client in its message body. According to some implementation forms, the video client is referred to as a user agent (UA) or as a web browser or web crawler. </p><p id="p0120" num="0120">The HTTP protocol is designed to permit intermediate network elements to improve or enable communications between clients and servers. According to implementation forms, the monitoring device is placed in the client or in the server or in any of the intermediate network elements. High-traffic websites often benefit from web cache servers that deliver content on behalf of the original, so-called 
<!-- EPO <DP n="26"/>-->
 origin server to improve response time. According to implementation forms, the monitoring device is placed in an origin server. HTTP proxy servers at network boundaries facilitate communication when clients without a globally routable address are located in private networks by relaying the requests and responses between clients and servers. According to implementation forms, the monitoring device is placed in a HTTP proxy server. </p><p id="p0121" num="0121">According to the ninth implementation form of the first aspect, the Quality of Experience (QoE) estimation per session calculates as follows. </p><p id="p0122" num="0122">QoE (session) = max(QoEmin, KQI1 <sup>*</sup>KQI2-KQI3<sup>*</sup>KQI4<sup>*</sup>KQI5), where the KQIs (Key Quality Indicators) are defined as: KQI1 = Video Quality Matching Factor (f1 (r,)), KQI2=Session Normalized Play Time, KQI3=Session Stall Duration Degradation Factor (f2(t)), KQI4=Session Normalized Total Stall Time and KQI5=Session Number of Stalls Degradation Factor (ίβ(χ)). </p><p id="p0123" num="0123">The introduced formula computes a quality assessment metric for the user perceived quality of a video session, incorporating three main factors. First, the match between the video resolution and the screen resolution (KQI1 ) may be accounted for. The closer the video resolution to the screen resolution is, the higher the perceived user quality is achieved. Then the total duration that the user perceives as stall time during video playback (KQI3) is accounted for, wherein a decreasing stall time increases the video quality perceived by the user. Finally, the number of stalling events during the video playback (KQI5) is accounted for. The smaller the number of times the video stalls during playback, the higher the perceived quality of the video by the end user. The factors are multiplied by the percentage of time that the user spends in playback mode (KQI2) and stall mode (KQI4) from the total session time. The longer the time spent in playback mode, and the shorter the time spent in stall mode, the higher the perceived user quality. 
<!-- EPO <DP n="27"/>-->
 The parameter KQI1 , the Video Quality Matching Factor f 1 (n) uses screen and video resolutions as input parameters for the base quality calculation function. Such KQI requires information about the video resolution for that session, which can be obtained through Deep Packet Inspection (DPI) on the initial packets of the video file, those containing the video metadata. It also requires information about the user screen resolution, which can be obtained through correlation with Device Capabilities Information available in other network management systems and databases or through signaling through the network. This KQI1 measures the matching between the video resolution and the screen resolution. The video resolution on the user screen cannot be larger than the screen resolution. Even if the video resolution is larger than the screen resolution, the play engine in the client video player will down scale the video resolution to match the screen resolution. In implementation forms, the Device Capabilities Information containing the screen resolution information is available in a HSS - Home Subscriber System or in a MME - Mobility Management Entity. In implementation forms, the respective signaling is performed through a mobile network or any other network, and may be a different network compared to the network comprising the end-to- end communication path between the video server and the video client. </p><p id="p0124" num="0124">Table 1 : KQI1 computation </p><p id="p0125" num="0125"> Screen resolution 640x480 480x360 320x240 176x144 120x90 </p><p id="p0126" num="0126"> (KQI21)\Video </p><p id="p0127" num="0127"> resolution (KQI22) </p><p id="p0128" num="0128"> iPad Qmaxl Q1 Q2 Q3 Q4 </p><p id="p0129" num="0129"> (1024x768) </p><p id="p0130" num="0130"> Galaxy Tab Qmax2 Q5 Q6 Q7 Q8 </p><p id="p0131" num="0131"> (1024x600) </p><p id="p0132" num="0132"> iPhone4 Qmax3 Q9 Q10 Q1 1 Q12 </p><p id="p0133" num="0133"> (960x640) </p><p id="p0134" num="0134"> iPhone 3GS Qmax4 Q13 Q14 Q15 </p><p id="p0135" num="0135"> (480x320) 
<!-- EPO <DP n="28"/>-->
 Tablel shows an example on how to compute KQI1 for different video resolutions in pixels and different native screen resolutions in pixels, based on a look-up table. The values Qi and Qmaxi, where i is the index, in the table can either be arbitrarily set, or computed based on subjective user tests. </p><p id="p0136" num="0136">The parameter KQI2, the Session Normalized Play Time indicates the total playtime normalized by the session duration. It requires the session total play time that is determined by DPI of the initial metadata from the video stream that states the video duration or by calculation of the downloaded session data divided by the video rate for those cases where the session is aborted before the end of the video is reached. Furthermore, it requires the information about the total perceived session duration. This KQI, being normalized, is always smaller or equal to 1. For the cases when the instantaneous network rate is much faster than the video rate, the user will still perceive the session duration as at least equal to the video playback duration. For cases when the user experiences video stalls during the video playback, the total session duration is larger than the actual length of the video. The parameter KQI3, the Session Stall Duration Degradation Factor (f2(t)) is calculated as a function of the average Session Stall Duration, using the buffer model to determine session stall duration and frequency of occurrence as parameters. The function 
<img id="imgf000028_0001" he="13" wi="75" file="imgf000028_0001.tif" img-format="tif" img-content="drawing" orientation="portrait" inline="no"/>
 </p><p id="p0137" num="0137">is graphically illustrated in Fig. 7, wherein the variable t is the Session Duration (KQI25 in Table 3, see below). D<sub>max</sub> is the maximum degradation due to video stalling, ti is the maximum average stalling time that will not affect the perceived quality. The variable t is the Average Stall Duration of the session (KQI 25 in Table 3, see below). D<sub>max</sub> and ti can either be arbitrarily set, or can be validated using 
<!-- EPO <DP n="29"/>-->
 subjective user tests. Parameter a and b can either be arbitrarily set, or can be validated using subjective user tests. </p><p id="p0138" num="0138">The parameter KQI4, the Session Normalized Total Stall Time indicates the cumulated stall time of the active session captured by the DPI and the buffer model normalized by the session duration. This KQI is smaller or equal to 1 , and can be computed as KQI4=1 -KQI2. </p><p id="p0139" num="0139">The parameter KQI5, the Session Number of Stalls Degradation Factor (fs(x)) is calculated as a function of the average number of stalls during the active session. The function </p><p id="p0140" num="0140"> f<sub>3</sub> (x) = miniy^ , c<sup>■</sup> ln(d<sup>■</sup> (1 + x ))] </p><p id="p0141" num="0141">is graphically illustrated in Fig. 8. Parameter l<sub>max</sub>, c and d can either be arbitrarily set, or can be validated using subjective user tests. Variable x in the formula is the Normalized Number of Stalls for the given session (KQI 27 in Table 3, see below). </p><p id="p0142" num="0142">The ranges for the aforementioned parameters D<sub>max</sub> and Lax may be obtained through subjective user validation tests. In general, the parameters take real values. </p><p id="p0143" num="0143">According to an implementation form, KQIs required for computation of QoE are presented in Tables 1 , 2, 3 and 4. </p><p id="p0144" num="0144">Table 2: High level KQIs </p><p id="p0145" num="0145"> Quality KQI Name Description Computation Indicator </p><p id="p0146" num="0146"> KQI 1 Video Quality Indicates the matching factor between the f1 (KQI21 ,KQI2 </p><p id="p0147" num="0147"> Matching Factor video stream quality and the device 2) </p><p id="p0148" num="0148"> capabilities (function of display resolution </p><p id="p0149" num="0149"> and video resolution) for the active </p><p id="p0150" num="0150"> session 
<!-- EPO <DP n="30"/>-->
 KQI2 Session Normalized Indicates the total play time of the active KQI23/KQI24 Play Time session normalized by the session </p><p id="p0151" num="0151"> duration </p><p id="p0152" num="0152"> KQI3 Session Stall Indicates the effect of the average stall f2(KQI25) </p><p id="p0153" num="0153"> Duration time during the active session on the </p><p id="p0154" num="0154"> Degradation Factor perceived quality (factor of total </p><p id="p0155" num="0155"> normalized stall time) </p><p id="p0156" num="0156"> KQI4 Session Normalized Indicates the cumulated stall time of the KQI26/KQI24 </p><p id="p0157" num="0157"> Total Stall Time active session normalized by the session </p><p id="p0158" num="0158"> duration </p><p id="p0159" num="0159"> KQI5 Session Number of Indicates the effect of the average number f3(KQI27) </p><p id="p0160" num="0160"> Stalls Degradation of stalls during the active session on the </p><p id="p0161" num="0161"> Factor perceived quality </p><p id="p0162" num="0162"> QoEmin Minimum perceived Depending of the scale, could be 0-20 (on Fixed scalar video Quality a 100 points scale), or 1 on a MOS scale </p><p id="p0163" num="0163">Table 3: Intermediate Level KQIs </p><p id="p0164" num="0164"> Quality KQI Name Description Computation </p><p id="p0165" num="0165">Indicator </p><p id="p0166" num="0166"> KQI21 Device Indicates the maximum screen Extracted from the device </p><p id="p0167" num="0167"> resolution resolution of the device capabilities message</p><p id="p0168" num="0168">KQI22 Encoding Indicates the resolution of the DPI on the video metadata (first resolution video in the active session packet of the video file)</p><p id="p0169" num="0169">KQI23 Session Indicates the duration of the = KQI51 (Video Duration if no </p><p id="p0170" num="0170"> Total Play played video in active session abort) </p><p id="p0171" num="0171"> Duration =KQI52/KQI53 (session </p><p id="p0172" num="0172"> downloaded data/video bitrate if early abort) </p><p id="p0173" num="0173"> KQI24 Session Indicates the total time the users KQI23+ KQI26 </p><p id="p0174" num="0174"> Total spends in the video playback </p><p id="p0175" num="0175"> Perceived </p><p id="p0176" num="0176"> Duration </p><p id="p0177" num="0177"> KQI25 Session Indicates the average duration KQI26/KQI54 </p><p id="p0178" num="0178"> Average of the stalls in the active session </p><p id="p0179" num="0179"> Stall 
<!-- EPO <DP n="31"/>-->
 Duration </p><p id="p0180" num="0180">KQI26 Session Indicates the cumulated stall Buffer model applied to the </p><p id="p0181" num="0181"> Total Stall time during the active session active session </p><p id="p0182" num="0182"> Time </p><p id="p0183" num="0183"> KQI27 Session Indicates the number of stalls KQI54/KQI24 </p><p id="p0184" num="0184"> Normalized normalized to the session </p><p id="p0185" num="0185"> Nr of Stalls duration </p><p id="p0186" num="0186">Table 4: Low Level KQIs </p><p id="p0187" num="0187"> Quality KQI Name Description Computation </p><p id="p0188" num="0188"> Indicator </p><p id="p0189" num="0189"> KQI51 Video Indicated the total duration of DPI on the video metadata (first </p><p id="p0190" num="0190"> Duration the video in the active session packet of the video file)</p><p id="p0191" num="0191">KQI52 Session Indicates the total amount of Process TCP ACKs during the </p><p id="p0192" num="0192"> Downloaded video data downloaded in the session (Last TCP ACK Seq Nr -</p><p id="p0193" num="0193">Data active session First TCP ACK Seq Nr)</p><p id="p0194" num="0194">KQI53 Video bitrate Indicates the average bitrate of DPI on the video metadata (first the video in the active session packet of the video file) </p><p id="p0195" num="0195"> KQI54 Session Nr Indicates the number of stalls in Buffer model applied to the </p><p id="p0196" num="0196"> of Stalls the active session active session </p><p id="p0197" num="0197">According to an implementation form, the determination unit estimates the average quality of the experience for video streaming for a given segment in the network. The estimate is based on average metrics, i.e. average KPIs, aggregated for the segment under consideration. According to an implementation form, the Quality of Experience (QoE) estimation for a segment of sessions calculates as follows. </p><p id="p0198" num="0198">QoE (segment) = max(QoEmin, KQI6<sup>*</sup>KQI7-KQI8<sup>*</sup>KQI9<sup>*</sup>KQI10), where the KQIs are defined as KQI6 = Video Quality Matching Factor for the segment (f4()), KQI7 = Segment Normalized Play Time, KQI8=Segment Stall Duration Degradation Factor (f5()),KQI9=Segment Average Normalized Total Stall Time, KQI 10=Segment Average Number of Stalls Degradation Factor (f6()). 
<!-- EPO <DP n="32"/>-->
 The parameter KQI6, the Video Quality Matching Factor for the segment (f4()) uses device screen resolution and video resolution as input parameters for the base quality calculation function. This function can be computed from the individual KQIs (KQI1 ) of the sessions in the given segment. It can be computed either as an average of these KQIs; as a minimum or other relevant function. </p><p id="p0199" num="0199">The parameter KQI7, the Segment Normalized Play Time indicates the total playtime normalized by the average session duration for the segment. This KQI can be computed starting from the individual KQIs of the sessions in the segment, and the total number of sessions in the segment. </p><p id="p0200" num="0200">The parameter KQI8, the Segment Stall Duration Degradation Factor (f5()) is calculated as a function of the average Session Stall Duration within the segment, using the buffer model to determine session stall duration and frequency of occurrence as parameters. </p><p id="p0201" num="0201">The parameter KQI9, the Segment Average Normalized Total Stall Time indicates the average cumulated stall time of the active session normalized by the average session duration for the segment. </p><p id="p0202" num="0202">The parameter KQ110, the Segment Average Number of Stalls Degradation Factor (f6()) is calculated as a function of the average number of stalls for the active sessions within the segment. </p><p id="p0203" num="0203">Functions f5 and f6 for the segment computation are the same as functions f2 and f3 presented before. However, the arguments taken as input by f5 and f6 are different than the arguments of f2 and f3, as presented above. Function f4 works as function f1 , when the average result of the value for a segment can be computed by interpolation between the points presented in Table 1 . 
<!-- EPO <DP n="33"/>-->
 Tables 5 and 6 present implementation forms for computing the KQIs mentioned above. </p><p id="p0204" num="0204"> Table 5: High Level KQIs </p><p id="p0205" num="0205"> Quality KQI Name Description Computation Indicator </p><p id="p0206" num="0206"> KQI6 Video Quality Indicates the matching factor between Sum(KQI 1 )/KQI28 </p><p id="p0207" num="0207"> Matching Factor the video stream quality and the device </p><p id="p0208" num="0208"> for the segment capabilities (function of display </p><p id="p0209" num="0209"> resolution and video resolution) for the </p><p id="p0210" num="0210"> active sessions in the segment </p><p id="p0211" num="0211"> KQI7 Segment Indicates the average play time of the KQI30/KQI29 = </p><p id="p0212" num="0212"> Average sessions in the segment normalized by Sum(KQI2)/KQI28 Normalized Play the average session duration for the </p><p id="p0213" num="0213"> Time segment </p><p id="p0214" num="0214"> KQI8 Segment Stall Indicates the effect of the average stall f2(KQI31 ) </p><p id="p0215" num="0215"> Duration time of the sessions in the segment on </p><p id="p0216" num="0216"> Degradation the perceived quality (factor of total </p><p id="p0217" num="0217"> Factor normalized stall time) </p><p id="p0218" num="0218"> KQI9 Segment Indicates the average stall time of the KQI32/ KQI29 </p><p id="p0219" num="0219"> Average sessions in the segment normalized by </p><p id="p0220" num="0220"> Normalized Stall the average session duration for the Sum(KQI4)/KQI28 Time segment = 1 - KQI7</p><p id="p0221" num="0221">KQI 10 Segment Indicates the effect of the average f3(KQI33) </p><p id="p0222" num="0222"> Average Number number of stalls for the sessions in the </p><p id="p0223" num="0223"> of Stalls segment on the perceived quality </p><p id="p0224" num="0224"> Degradation </p><p id="p0225" num="0225"> Factor </p><p id="p0226" num="0226"> QoEmin Minimum Depending of the scale, could be 0-20 Fixed scalar </p><p id="p0227" num="0227"> perceived video (on a 100 points scale), or 1 on a MOS </p><p id="p0228" num="0228"> Quality scale 
<!-- EPO <DP n="34"/>-->
 Table 6: Intermediate Level KQIs </p><p id="p0229" num="0229"> Quality KQI Name Description Computation Indicator </p><p id="p0230" num="0230"> KQI28 Nr. Sessions in Indicates the number of sessions Session counter </p><p id="p0231" num="0231"> Segment belonging to one segment incremented by applying segment filters to observed sessions </p><p id="p0232" num="0232"> KQI29 Segment Indicates the average session duration of Sum(KQI24)/KQI28 </p><p id="p0233" num="0233"> Average Session a segment </p><p id="p0234" num="0234"> Perceived </p><p id="p0235" num="0235"> Duration </p><p id="p0236" num="0236"> KQI30 Segment Indicates the average session play Sum(KQI23)/KQI28 </p><p id="p0237" num="0237"> Average Session duration of a segment </p><p id="p0238" num="0238"> Play Duration </p><p id="p0239" num="0239"> KQI31 Segment Sum(KQI25)/KQI28 </p><p id="p0240" num="0240"> Average Stall </p><p id="p0241" num="0241"> Duration </p><p id="p0242" num="0242"> KQI32 Segment Indicates the average session stall Sum(26)/KQI28 </p><p id="p0243" num="0243"> Average Session duration of a segment </p><p id="p0244" num="0244"> Stall Time </p><p id="p0245" num="0245"> KQI33 Segment Indicates the average number of stalls Sum(KQI27)/KQI28 </p><p id="p0246" num="0246"> Average Nr of for the sessions in the segment </p><p id="p0247" num="0247"> Stalls 
</p></description><claims mxw-id="PCLM47085119" ref-ucid="WO-2012167416-A1" lang="EN" load-source="patent-office"><claim-statement><!-- EPO <DP n="35"/>-->CLAIMS: </claim-statement><claim id="clm-0001" num="1"><claim-text>1 . A monitoring device (101 ) for monitoring a video session in a data network between a video server (105) providing a video file and a video client (104) playing the video file, comprising: a data interface (102) configured to connect to an end-to-end communication path between the video server (105) and the video client (104) and configured to capture video resolution information and to retrieve client screen resolution information; and a determination unit (103) configured to determine a quality measure for the video session based on the video resolution information, based on the client screen resolution information and based on a buffer model, the buffer model modeling a fill level of a receive buffer (301 ) in the video client (104), the receive buffer (301 ) being configured to buffer the video file before playing the video file. </claim-text></claim><claim id="clm-0002" num="2"><claim-text>2. The monitoring device (101 ) of claim 1 , wherein the data interface (102) comprises a first interface unit, in particular a probe, for capturing the video resolution information, and a second interface unit for retrieving the client screen resolution information from a network node, in particular a Home Subscriber Server, or a Mobility Management Entity, or a Equipment Identity Register, over a communication network, </claim-text></claim><claim id="clm-0003" num="3"><claim-text>3. The monitoring device (101 ) of claim 1 or 2, wherein the data interface (102) is configured to capture the video resolution information from a video file meta data associated to the video file. </claim-text></claim><claim id="clm-0004" num="4"><claim-text>4. The monitoring device (101 ) of one of the preceding claims, wherein the client screen resolution information indicates a native resolution of a display of the video client, and wherein the video resolution information indicates an encoding resolution of the video file. <!-- EPO <DP n="36"/>--> </claim-text></claim><claim id="clm-0005" num="5"><claim-text>5. The monitoring device (101 ) of one of the preceding claims, wherein the quality measure depends on a Video Quality Matching Factor which is determined as a correlation of a video resolution of the video file included in the video resolution information and a maximum screen resolution of a display of the video client included in the client capabilities information. </claim-text></claim><claim id="clm-0006" num="6"><claim-text>6. The monitoring device (101 ) of one of the preceding claims, wherein the quality measure depends on a Session Normalized Play Time which is determined as a total play time of the video session normalized by a duration of the video session. </claim-text></claim><claim id="clm-0007" num="7"><claim-text>7. The monitoring device (101 ) of one of the preceding claims, wherein the quality measure depends on a Session Stall Duration Degradation Factor which is determined as a function of an average stall duration of the video session, using the buffer model to determine the stall duration of the video session and a frequency of occurrence of the stalls of the video session. </claim-text></claim><claim id="clm-0008" num="8"><claim-text>8. The monitoring device (101 ) of one of the preceding claims, wherein the quality measure depends on a Session Normalized Total Stall Time which is determined as a cumulated time of stalls of the video session normalized by a duration of the video session. </claim-text></claim><claim id="clm-0009" num="9"><claim-text>9. The monitoring device (101 ) of one of the preceding claims, wherein the quality measure depends on a Session Number of Stalls Degradation Factor which is determined as a function of an average number of stalls during the video session. </claim-text></claim><claim id="clm-0010" num="10"><claim-text>10. The monitoring device (101 ) of one of claims 5 to 9, wherein the quality measure QoE depends on a formula QoE = max(QoEmin, KQI1 <sup>*</sup>KQI2-KQI3<sup>*</sup>KQI4<sup>*</sup>KQI5), wherein QoEmin is a minimum limit of the quality measure, KQI1 is the Video Quality Matching Factor, KQI2 is the Session Normalized Play Time, KQI3 is the <!-- EPO <DP n="37"/>--> Session Stall Duration Degradation Factor, KQI4 is the Session Normalized Total Stall Time and KQI5 is the Session Number of Stalls Degradation Factor. </claim-text></claim><claim id="clm-0011" num="11"><claim-text>1 1 . The monitoring device (101 ) of one of the preceding claims, wherein the buffer model depends on an instantaneous network rate r(t) computed by following messages between the video client (104) and the video server (105) and wherein the buffer model depends on a video rate v(t) captured from meta data of packets, in particular of first packets, of the video file. </claim-text></claim><claim id="clm-0012" num="12"><claim-text>12. The monitoring device (101 ) of one of the preceding claims, wherein the data interface (102) is configured to retrieve the client screen resolution </claim-text><claim-text>information by signalling through the data network or by correlating device capabilities information available in network management systems and databases of the data network. </claim-text></claim><claim id="clm-0013" num="13"><claim-text>13. The monitoring device (101 ) of one of the preceding claims, wherein the determination unit (103) is configured to determine one quality measure for a group of video sessions representing an average quality for the group of video sessions. </claim-text></claim><claim id="clm-0014" num="14"><claim-text>14. The monitoring device (101 ) of claim 13, wherein the group of video sessions comprises video sessions between one video server (105) and multiple video clients (104), multiple video sessions between one video server (105) and one video client (104) and video sessions between multiple video servers (105) and multiple video clients (104). </claim-text></claim><claim id="clm-0015" num="15"><claim-text>15. The monitoring device (101 ) of one of the preceding claims, wherein the data network is a TCP/IP network and the data interface (102) is configured to connect to the TCP layer of the TCP/IP network. </claim-text></claim><claim id="clm-0016" num="16"><claim-text>16. The monitoring device (101 ) of the preceding claims, wherein the data interface (102) is an element of a video server (105), of the video client (104), of <!-- EPO <DP n="38"/>--> an intermediate network node, or of an additional intermediate network node placed in the end-to-end communication path of the data network. </claim-text></claim><claim id="clm-0017" num="17"><claim-text>17. A method for monitoring a video session in a data network between a video server (105) providing a video file and a video client (104) playing the video file, comprising: connecting (201 ) to an end-to-end communication path between the video server (105) and the video client (104) and capturing video resolution information and retrieving client screen resolution information; and determining (202) a quality measure for the video session based on the video resolution information, based on the client screen resolution information and based on a buffer model, the buffer model modeling a fill level of a receive buffer (301 ) in the video client (104), the receive buffer (301 ) being configured to buffer the video file before playing the video file. </claim-text></claim><claim id="clm-0018" num="18"><claim-text>18. A computer program product for monitoring a video session in a data network between a video server (105) providing a video file and a video client (104) playing the video file, comprising: a data interface (102) configured to connect to an end-to-end communication path between the video server (105) and the video client (104) and configured to capture video resolution information and to retrieve client screen resolution information; and a software module (103) configured to determine a quality measure for the video session based on the video resolution information, based on the client screen resolution information and based on a buffer model, the buffer model modeling a fill level of a receive buffer (301 ) in the video client (104), the receive buffer (301 ) being configured to buffer the video file before playing the video file. <!-- EPO <DP n="39"/>--> </claim-text></claim><claim id="clm-0019" num="19"><claim-text>19. The computer program product of claim 18, configured to run as a terminal agent software in an end user device (601 , 606) or as a network probe (607) on a network interface (602, 603, 604, 605). </claim-text></claim></claims><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
