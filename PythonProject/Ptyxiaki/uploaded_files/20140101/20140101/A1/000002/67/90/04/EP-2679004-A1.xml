<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2679004-A1" country="EP" doc-number="2679004" kind="A1" date="20140101" family-id="46721255" file-reference-id="314269" date-produced="20180823" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146550493" ucid="EP-2679004-A1"><document-id><country>EP</country><doc-number>2679004</doc-number><kind>A1</kind><date>20140101</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-12749311-A" is-representative="NO"><document-id mxw-id="PAPP154824416" load-source="docdb" format="epo"><country>EP</country><doc-number>12749311</doc-number><kind>A</kind><date>20120227</date><lang>EN</lang></document-id><document-id mxw-id="PAPP175868140" load-source="docdb" format="original"><country>EP</country><doc-number>12749311.2</doc-number><date>20120227</date></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140454398" ucid="US-201113035993-A" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>201113035993</doc-number><kind>A</kind><date>20110227</date></document-id></priority-claim><priority-claim mxw-id="PPC140451626" ucid="US-2012026686-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>2012026686</doc-number><kind>W</kind><date>20120227</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-2142242617" load-source="docdb">H04L  27/26        20060101ALI20141023BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-2142242913" load-source="docdb">H04N  21/61        20110101ALI20141023BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-2142243632" load-source="docdb">H04J   3/06        20060101ALI20141023BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-2142246169" load-source="docdb">H04N   7/173       20110101AFI20141023BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-2142248143" load-source="docdb">H04L  12/28        20060101ALI20141023BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-2142249390" load-source="docdb">H04L   5/14        20060101ALI20141023BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-2144258361" load-source="docdb" scheme="CPC">H04L   5/1469      20130101 LI20141020BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2144258533" load-source="docdb" scheme="CPC">H04N  21/6118      20130101 LI20141020BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2144264667" load-source="docdb" scheme="CPC">H04N  21/6168      20130101 FI20141020BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2144265035" load-source="docdb" scheme="CPC">H04L  27/2601      20130101 LA20141020BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2144265086" load-source="docdb" scheme="CPC">H04J   3/0682      20130101 LI20141020BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132183963" lang="DE" load-source="patent-office">VERFAHREN FÜR EINE ZEITDUPLEX-DATENÜBERTRAGUNG ÜBER EIN CATV-KABEL MIT GLEICHER FREQUENZ</invention-title><invention-title mxw-id="PT132183964" lang="EN" load-source="patent-office">METHOD OF CATV CABLE SAME-FREQUENCY TIME DIVISION DUPLEX DATA TRANSMISSION</invention-title><invention-title mxw-id="PT132183965" lang="FR" load-source="patent-office">PROCÉDÉ DE TRANSMISSION DE DONNÉES EN DUPLEXAGE PAR RÉPARTITION TEMPORELLE À LA MÊME FRÉQUENCE PAR CÂBLE CATV</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR955536295" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>RAKIB SHLOMO SELIM</last-name><address><country>US</country></address></addressbook></applicant><applicant mxw-id="PPAR918166357" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>RAKIB, SELIM SHLOMO</last-name></addressbook></applicant><applicant mxw-id="PPAR918988083" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Rakib, Selim Shlomo</last-name><iid>101261765</iid><address><street>404 Saratoga Avenue</street><city>Santa Clara, California 95050</city><country>US</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR955536294" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>RAKIB SHLOMO SELIM</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR952897176" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>RAKIB, SHLOMO SELIM</last-name></addressbook></inventor><inventor mxw-id="PPAR918985491" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>RAKIB, SELIM SHLOMO</last-name><address><street>404 Saratoga Avenue</street><city>Santa Clara, California 95050</city><country>US</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR918987014" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Smith, Jeremy Robert</last-name><suffix>et al</suffix><iid>101317636</iid><address><street>Kilburn &amp; Strode LLP 20 Red Lion Street</street><city>London WC1R 4PJ</city><country>GB</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="US-2012026686-W"><document-id><country>US</country><doc-number>2012026686</doc-number><kind>W</kind><date>20120227</date><lang>EN</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2012116358-A1"><document-id><country>WO</country><doc-number>2012116358</doc-number><kind>A1</kind><date>20120830</date><lang>EN</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS548894361" load-source="docdb">AL</country><country mxw-id="DS548917158" load-source="docdb">AT</country><country mxw-id="DS548894362" load-source="docdb">BE</country><country mxw-id="DS548858518" load-source="docdb">BG</country><country mxw-id="DS548909701" load-source="docdb">CH</country><country mxw-id="DS548811704" load-source="docdb">CY</country><country mxw-id="DS548917159" load-source="docdb">CZ</country><country mxw-id="DS548894363" load-source="docdb">DE</country><country mxw-id="DS548811705" load-source="docdb">DK</country><country mxw-id="DS548811706" load-source="docdb">EE</country><country mxw-id="DS548830644" load-source="docdb">ES</country><country mxw-id="DS548911195" load-source="docdb">FI</country><country mxw-id="DS548858519" load-source="docdb">FR</country><country mxw-id="DS548894364" load-source="docdb">GB</country><country mxw-id="DS548811707" load-source="docdb">GR</country><country mxw-id="DS548894365" load-source="docdb">HR</country><country mxw-id="DS548917160" load-source="docdb">HU</country><country mxw-id="DS548909702" load-source="docdb">IE</country><country mxw-id="DS548811708" load-source="docdb">IS</country><country mxw-id="DS548858520" load-source="docdb">IT</country><country mxw-id="DS548811709" load-source="docdb">LI</country><country mxw-id="DS548911196" load-source="docdb">LT</country><country mxw-id="DS548907407" load-source="docdb">LU</country><country mxw-id="DS548911197" load-source="docdb">LV</country><country mxw-id="DS548911202" load-source="docdb">MC</country><country mxw-id="DS548907408" load-source="docdb">MK</country><country mxw-id="DS548907409" load-source="docdb">MT</country><country mxw-id="DS548917161" load-source="docdb">NL</country><country mxw-id="DS548830645" load-source="docdb">NO</country><country mxw-id="DS548909703" load-source="docdb">PL</country><country mxw-id="DS548911203" load-source="docdb">PT</country><country mxw-id="DS548917166" load-source="docdb">RO</country><country mxw-id="DS548911204" load-source="docdb">RS</country><country mxw-id="DS548909704" load-source="docdb">SE</country><country mxw-id="DS548858521" load-source="docdb">SI</country><country mxw-id="DS548830646" load-source="docdb">SK</country><country mxw-id="DS548909705" load-source="docdb">SM</country><country mxw-id="DS548907414" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data><office-specific-data><eptags><ep-no-a-document-published>*</ep-no-a-document-published></eptags></office-specific-data></bibliographic-data><abstract mxw-id="PA99619206" ref-ucid="WO-2012116358-A1" lang="EN" load-source="patent-office"><p num="0000">Method of bidirectional Time Division Duplex (TDD) data transmission over the same RF frequency ranges of a CATV cable system. The system's slave modem clocks are time synchronized to the master clock of a master modem. The master-to-slave signal propagation times are determined and used to precisely schedule transmissions with de-minimis guard times. The frequency range may be chosen to be in the high frequency CATV range around 1 GHz to maximize backward compatibility with legacy systems, and this frequency may in turn be subdivided into multiple frequencies. In some embodiments, the CATV cable tree may be further partitioned into multiple TDD domains, and multiple local master modems, connected by a special-use optical fiber, may communicate with multiple local slave modems. The system may use MAP allocation schemes that may frequently reallocate TDD time slots and frequencies according to current or projected slave modem data needs.</p></abstract><abstract mxw-id="PA99818887" ref-ucid="WO-2012116358-A1" lang="EN" source="national office" load-source="docdb"><p>Method of bidirectional Time Division Duplex (TDD) data transmission over the same RF frequency ranges of a CATV cable system. The system's slave modem clocks are time synchronized to the master clock of a master modem. The master-to-slave signal propagation times are determined and used to precisely schedule transmissions with de-minimis guard times. The frequency range may be chosen to be in the high frequency CATV range around 1 GHz to maximize backward compatibility with legacy systems, and this frequency may in turn be subdivided into multiple frequencies. In some embodiments, the CATV cable tree may be further partitioned into multiple TDD domains, and multiple local master modems, connected by a special-use optical fiber, may communicate with multiple local slave modems. The system may use MAP allocation schemes that may frequently reallocate TDD time slots and frequencies according to current or projected slave modem data needs.</p></abstract><abstract mxw-id="PA99619207" ref-ucid="WO-2012116358-A1" lang="FR" load-source="patent-office"><p num="0000">L'invention porte sur un procédé de transmission bidirectionnelle de données en duplexage par répartition temporelle (TDD) sur les mêmes plages de fréquence RF d'un système de câble CATV. Les horloges de modems esclaves du système sont temporellement synchronisées sur l'horloge maître d'un modem maître. Les temps de propagation de signal de maître à esclave sont déterminés et utilisés pour planifier précisément des transmissions ayant des temps de garde <i>deminimis</i>. La plage de fréquence peut être choisie pour se trouver dans la plage CATV de fréquence haute, autour de 1 GHz, afin de maximiser la compatibilité ascendante avec des systèmes patrimoniaux, et cette fréquence peut elle-même être subdivisée en de multiples fréquences. Selon certains modes de réalisation, l'arbre de câble CATV peut être en outre partitionné en de multiples domaines TDD, et de multiples modems maîtres locaux, connectés par une fibre optique à usage spécial, peuvent communiquer avec de multiples modems esclaves locaux. Le système peut utiliser des techniques d'attribution MAP qui peuvent fréquemment attribuer de nouveau des créneaux temporels TDD et des fréquences en fonction des besoins actuels ou projetés en données des modems esclaves.</p></abstract><abstract mxw-id="PA99818888" ref-ucid="WO-2012116358-A1" lang="FR" source="national office" load-source="docdb"><p>L'invention porte sur un procédé de transmission bidirectionnelle de données en duplexage par répartition temporelle (TDD) sur les mêmes plages de fréquence RF d'un système de câble CATV. Les horloges de modems esclaves du système sont temporellement synchronisées sur l'horloge maître d'un modem maître. Les temps de propagation de signal de maître à esclave sont déterminés et utilisés pour planifier précisément des transmissions ayant des temps de garde deminimis. La plage de fréquence peut être choisie pour se trouver dans la plage CATV de fréquence haute, autour de 1 GHz, afin de maximiser la compatibilité ascendante avec des systèmes patrimoniaux, et cette fréquence peut elle-même être subdivisée en de multiples fréquences. Selon certains modes de réalisation, l'arbre de câble CATV peut être en outre partitionné en de multiples domaines TDD, et de multiples modems maîtres locaux, connectés par une fibre optique à usage spécial, peuvent communiquer avec de multiples modems esclaves locaux. Le système peut utiliser des techniques d'attribution MAP qui peuvent fréquemment attribuer de nouveau des créneaux temporels TDD et des fréquences en fonction des besoins actuels ou projetés en données des modems esclaves.</p></abstract><description mxw-id="PDES50930147" ref-ucid="WO-2012116358-A1" lang="EN" load-source="patent-office"><!-- EPO <DP n="2"/>--><p id="p0001" num="0001"> METHOD OF CATV CABLE SAME-FREQUENCY TIME DIVISION DUPLEX DATA </p><p id="p0002" num="0002"> TRANSMISSION</p><p id="p0003" num="0003">CROSS REFERENCE TO RELATED APPLICATIONS </p><p id="p0004" num="0004"> This application claims the priority benefit of US patent application 13/035,993, "METHOD OF CATV CABLE SAME-FREQUENCY TIME DIVISION DUPLEX DATA </p><p id="p0005" num="0005"> TRANSMISSION", inventor Selim Shlomo Rakib (alternate form of present inventor's name), filed February 27, 2011 ; application 13/035,993 in turn was a continuation in part of US patent application 12/692,582, "DISTRIBUTED CABLE MODEM TERMINATION SYSTEM" filed January 22, 2010, inventor Selim Shlomo Rakib; this application is also a continuation in part of US patent application 12/907,970, "HFC CABLE SYSTEM WITH SHADOW FIBER AND COAX FIBER TERMINALS", filed October 19, 2010, Inventor Selim Shlomo Rakib; this application also claims the priority benefit of US provisional application 61/385,125 "IMPROVED HYBRID FIBER CABLE SYSTEM AND </p><p id="p0006" num="0006">METHOD", filed September 21, 2010, inventor Selim Shlomo Rakib. The contents of all of these applications are incorporated herein by reference. </p><p id="p0007" num="0007"> BACKGROUND OF THE INVENTION FIELD OF THE INVENTION </p><p id="p0008" num="0008"> The invention is in the general field of Cable Television and Hybrid Fiber Cable systems, particularly with regard to providing extended features and Internet access. </p><p id="p0009" num="0009">DESCRIPTION OF THE RELATED ART </p><p id="p0010" num="0010"> Cable television (CATV), originally introduced in the late 1940's as a way to transmit television signals by coaxial cables to houses in areas of poor reception, has over the years been modified and extended to enable the cable medium to transport a growing number of different types of digital data, including both digital television and broadband Internet data. Over the years, this 1940's and 1950's era system has been extended to provide more and more functionality. In recent years, the CATV system has been extended by the use of optical fibers to handle much of the load of transmitting data from the many different CATV cables handling local neighborhoods, and the cable head or operator of the system. Here the data will often be transmitted for long distances using optical fiber, and the optical (usually infrared light) signals then transformed to the radiofrequency (RF) signals used to communicate over CATV cable (usually in the 5 MHz to 1-GHz frequencies) by many local 
<!-- EPO <DP n="3"/>-->
 optical fiber nodes. Such systems are often referred to as hybrid fiber cable systems, or HFC systems. The complex electronics that are used by the cable operator to inject signals (e.g. data) into the system, as well as extract signals (e.g. data) from the system are often referred to as Cable Modem Termination Systems or CMTS systems. </p><p id="p0011" num="0011">In a typical HFC system, at the various optical fiber nodes, the optical fiber signals are transformed back into RF signals and are then carried by the various neighborhood CATV coax cables to various households. Unlike fiber, which can carry optical signals for extensive distances without significant signal strength attenuation, the RF signals attenuate fairly rapidly as a function of distance over the CATV coax cables. This attenuation versus distance function increases as the frequency of the RF signals increases. For example, using RG-59 cable, at 10 MHz, the RF signal attenuation versus distance is about 1.1 dB/100 feet, at 100 MHz, the RF signal attenuation versus distance is about 3.4 dB/100 feet, at 400 MHz, the attenuation rate is 7.0 dB/100 feet, and at 1000 MHz (1 GHz), the attenuation rate is 12 dB/100 feet. Other types of coax cables, such as RG-6 cables, have lower attenuation versus distance characteristics, but the same sort of attenuation problem still exists. </p><p id="p0012" num="0012"> Thus, in order to maintain the RF signal of the various upstream and downstream signals while traveling over neighborhood CATV coax cables, neighborhood CATV systems typically employ various active (powered) devices, such as powered forward and reverse (bidirectional) RF amplifiers and the like. At present, using CATV systems that often have a maximum frequency of about 550 or 850 MHz, these active devices are often spaced about every 1000 feet. </p><p id="p0013" num="0013"> Each active device can have several (e.g. 1-4) neighborhood CATV sub-cables connected to it, and often to maintain RF power over cable distances of several thousand feet, more than one (usually 1-3) active devices can be connected along a single stretch of coax cable. As a result, at a neighborhood level, the coax cable wiring pattern of CATV systems often has a "tree" like structure, where the branches of the tree spring off of the various active devices. The first or main CATV coax cable that connects to the RF signal originating from the optical fiber node is often referred to as the "trunk" cable., and the various coax cables that split off of the trunk cable are often referred to as branch cables, and the branch cables in turn can have other branch cables splitting off of them as well. As the various trunk and branch cables cover the local neighborhood, and generally situated in between the various active devices, various taps, splitters, and drops on the neighborhood or "trunk" CATV cable connect various households to the CATV cable. In order to provide power for the various active 
<!-- EPO <DP n="4"/>-->
 devices, often the CATV coax cable system will carry electrical power as well. As might be expected, the process of negotiating easements and right of way to route the neighborhood CATV cables is burdensome, however this process has been going on for over 50 years in various parts of the country, and by now is well established. </p><p id="p0014" num="0014">At present, for United States CATV systems, the 5-42 MHz frequency region is generally reserved for upstream communications back from the various cable modems to the cable plant, and the majority of the bandwidth, typically in the 54-547+ MHz range (often the upper end extends to 865 MHz and beyond) is reserved for downstream communications from the cable plant to the various households. European CATV systems follow a slightly different scheme where the upstream communications frequencies extend up to the 60 MHz region. Due to rapid signal attenuation, the higher frequencies above about 750 to 865 MHz (here referred to generically as 1 GHz + frequencies) are seldom used at present. </p><p id="p0015" num="0015"> A more detailed discussion of prior art in this field can be found in copending application 12/692,582, the contents of which are incorporated herein by reference. </p><p id="p0016" num="0016">Prior art work with various types of CMTS systems and fiber nodes includes Liva et. al., US patent 7,149,223; Sucharczuk et. al. US patent application 2007/0189770; and Amit, US patent 7,197,045. </p><p id="p0017" num="0017">BRIEF SUMMARY OF THE INVENTION </p><p id="p0018" num="0018">Prior art CATV data transmission schemes were limited, particularly for upstream transmissions in which various household (slave) modems attempted to send data upstream to the CATV cable plant, by a relatively narrow upstream bandwidth allocation range (typically 5 to 42 MHz in the US). The prior art CATV upstream transmission schemes were further limited by an inefficient data transmission format that only allocated a small frequency range and a small time slice to the various slave modems. These allocated time slices were typically separated by large and inefficient guard times, in which no data was transmitted. Thus, as will generally be well known by many CATV broadband cable subscribers, upstream rates of data transmission were and are relatively slow. Although prior art CATV systems did allocate a much larger range of downstream frequencies for downstream communications from the Cable plant to the various neighborhood subscriber modems, this system, by pre-allocating the 54-860 MHz spectrum for downstream use only, was relatively inflexible. 
<!-- EPO <DP n="5"/>-->
 Given the massive investment in prior art CATV systems, solutions that can provide increased upstream and downstream bandwidth to customers, while offering the potential to co-exist or be backward compatible with the extensive investment in neighborhood CATV cable trees and existing CATV systems, are desirable. </p><p id="p0019" num="0019">The invention is based, in part, on the insight that at any given time, generally only some of any given neighborhood's households will have a need to send large amounts of data upstream, and generally only some of these households will have a need to receive large amounts of a particular type of downstream data as well. </p><p id="p0020" num="0020"> The invention is further based on the insight that for maximum flexibility, use of a flexible, dynamically allocated, Time Division Duplex data transmission format that uses the same frequency ranges to send both upstream and downstream data can be advantageous because in a dynamic allocation system, those particular modems that need to exchange more data in either an upstream or downstream direction can be allocated more time slots to send this data.</p><p id="p0021" num="0021">The invention is further based on the insight that the advantages of a Time Division Duplex data transmission format are diminished when the guard time (i.e. the "silent" or "dead" times between time slots that are allocated to a particular modem) become too large. </p><p id="p0022" num="0022"> Differences in clock timing between different slave modems and the master modem require that the guard times be extended in length to be able to accommodate these differences. The invention is further based on the insight that in order to minimize guard times, the internal clocks of the various neighborhood or slave modems in a CATV system should be more tightly synchronized then they are at present. Ideally the internal slave clocks of the various slave modems should be precisely synchronized with the clock used by their local master modem. </p><p id="p0023" num="0023"> Further, RF signals take time (even at near speed of light speeds), to propagate over the different lengths of CATV cable that extend between the various slave modems and the local master modem. Thus, given propagation time delays, signals sent out from two slave modems located different distances from their master modem, at exactly the same time, will arrive at the master modem at different times. To prevent confusion, the guard times must be extended to compensate for these timing differences. Thus in order to further minimize guard times, the slave modems should adjust the timing of their signals according to the signal propagation time from that particular slave modem to that particular local master modem. 
<!-- EPO <DP n="6"/>-->
 In some embodiments of the invention, the local master modem's clock is assigned to be the master clock, at least for those particular neighborhood slave modems engaged in TDD communications with this particular master modem. The master modem may send out suitable timekeeping signals to the various CATV slave clocks onboard the various CATV slave modems, thus ensuring that the various local slave clocks are precisely tuned to the same time as the local master modem's clock. To compensate for signal propagation delays and other internal delays inside the local slave modems, the local master modem may engage in a ranging process, in which it sends signals out to each of the various slave modems, and determines the propagation time to each respective slave modems. The slave modems can then be informed of this propagation time "d", and use this propagation time as a correction factor, along with their master-modem-synchronized slave clocks, to ensure that their particular TDD transmission slots are transmitted at the correct time. Thus for example, if a slave modem is assigned to commence transmission at master time T, then the slave clock may actually commence transmission at master time T-d, so that after propagation time d, the master modem sees the signal from that particular slave modem arriving at the correct assigned time T. This enables the guard times to be set to an extremely low, de-minimis, value. </p><p id="p0024" num="0024"> In a typical HFC CATV cable system, there are generally a plurality of optical fibers that carry signals from the HFC CATV cable head or plant to a plurality of different </p><p id="p0025" num="0025">neighborhoods, each neighborhood of being served by RF signals coming and going along that particular neighborhood' s CATV cable tree. Thus each neighborhood will usually have at least one local master modem that sends and receives TDD signals along that particular neighborhood's CATV cable tree. </p><p id="p0026" num="0026"> Sometimes there may be multiple local master modems along a single neighborhood CATV cable tree. For example, some embodiments of the invention may utilize the shadow optical fiber and Coax Fiber Terminal methods described in parent and copending application 12/907,970, the contents of which are incorporated herein by reference. In these </p><p id="p0027" num="0027">embodiments, some or all of the various Coax Fiber Terminals that are located along a neighborhood CATV cable tree may function as local master modems as well. In these embodiments, each local master modem will generally engage in bidirectional, same frequency, TDD communications only with its local slave modems. </p><p id="p0028" num="0028"> In general, the concepts discussed herein will apply regardless of if there is a single master modem on the CATV cable tree, or a plurality of local master modems on the CATV cable 
<!-- EPO <DP n="7"/>-->
 tree. Thus the terms "local master modem" and "master modem", as well as the terms "local slave modem" and "slave modem", will generally be used in an interchangeable manner in this specification. </p><p id="p0029" num="0029"> In one embodiment, the invention may be a method of bidirectional Time Division Duplex data transmission over the same RF frequency ranges of a CATV cable system. This CATV cable system may be a Hybrid Optical Fiber cable system, in which data communications to a central CATV cable plant or head will often be done with optical fiber, and the data connections to various household modems (here called slave modems) will often proceed by way of RF signals carried over at least one neighborhood CATV cable, which usually will have a tree-like topology. </p><p id="p0030" num="0030"> Here, the CATV cable system will generally comprise at least one CATV cable tree, and this at least one CATV cable tree will in turn have at least one local master modem (often located at the root of the local RF section of the CATV cable tree, or alternatively configured at multiple locations on the CATV cable tree if multiple local master modems are </p><p id="p0031" num="0031">contemplated) with a master clock. Along each CATV cable tree, there will generally be a plurality of slave modems connected at various locations and distances along the cable, and each slave modem will be configured with a slave clock. </p><p id="p0032" num="0032"> Along the CATV cable system, there will usually be at least a nearest slave modem that is generally located along the shortest stretch of CATV cable from the local master modem, so that the signal propagation time from this nearest slave modem to the local master modem is at a minimum, and a furthest slave modem, generally located along the longest stretch of CATV cable from the local master modem, so that the signal propagation time from this furthest slave modem to the local master modem is at a maximum. </p><p id="p0033" num="0033"> The communications method will generally comprise time synchronizing the slave clocks of this plurality of (local) slave modems to the master clock of the (local) master modem. Then the signal propagation times between this master modem and each of the plurality of slave modems is determined. The invention may also determine the current or projected upstream and downstream data needs for each of the plurality of slave modems. This can be done by having the slave modems request time slots for data transmission, and/or the master modem can allocate time slots based on patterns of past use and slave modem priority assessments. According to the invention, the (local) master modem may use these signal propagation times and said current or projected upstream and downstream data needs for each of this plurality 
<!-- EPO <DP n="8"/>-->
 of slave modems to dynamically construct various Mini-slot Allocation Packet (MAP) Time Division Duplex (TDD) allocation schemes, and transmitting these MAP Time Division Duplex allocation schemes to each of the plurality of slave modems. The (local) master modem and the (local) slave modems may then use these MAP Time Division Duplex allocation schemes to control the bi-directional data transmission between the (local) master modem and the plurality of (local) slave modems. These MAP schemes can be dynamically changed and updated according to a predetermined schedule or as changing use patterns dictate. </p><p id="p0034" num="0034"> Although in some embodiments, the master modem may be configured to only perform the bidirectional TDD communications discussed in this specification, in other configurations, the master modem may be configured for additional functionality as well. Often the master modem may additionally comprise, or at least be associated with, a HFC (Hybrid Fiber Cable) optical fiber node. For example, consider a CATV cable system in which the bandwidth below 860 MHz is relegated to prior art CATV transmissions, and a 100 MHz portion of the spectrum above 860 MHz, such as 900 MHz to 1000 MHz (1 GHz), is allocated for bidirectional TDD data transmission. </p><p id="p0035" num="0035"> Thus, for example, the master modem discussed in this disclosure may be part of the same "box" or device that in addition to performing TDD transmission with the various neighborhood or CATV cable tree slave modems, also handles the standard CATV transmissions below 860 MHz. Thus the master modem may be a combination HFC optical fiber node and a master TDD modem. In other embodiments, the master modem may also act as a Cable Modem Remote Terminal System (CMRTS) or D-CMRTS according to the teachings of parent and copending applications 12/692,582 and 61/385,125, the contents of which are incorporated herein by reference. </p><p id="p0036" num="0036">As previously discussed, in some embodiments, the master modem may not function as a standard or enhanced optical fiber node in the traditional sense, but rather may operate as a new type of Coax Fiber Terminal (CFT) according to the teachings of parent and copending application 12/907,970, the contents of which are incorporated herein by reference. </p><p id="p0037" num="0037">BRIEF DESCRIPTION OF THE DRAWINGS </p><p id="p0038" num="0038"> Figure 1 shows a diagram of the inverted tree topology of the neighborhood RF portion of a typical CATV cable system. 
<!-- EPO <DP n="9"/>-->
 Figure 2 shows an overview of the invention's bidirectional TDD data transmission scheme, in which upstream and downstream data is exchanged over the same frequency range of a CATV cable system. </p><p id="p0039" num="0039"> Figure 3 shows a more detailed example of the various times allocated to the master modem and slave modems for same frequency upstream and downstream communications, along with the associated guard times between these upstream and downstream communications intervals. </p><p id="p0040" num="0040"> Figure 4 shows how ranging can be used to determine the signal propagation times between the master modem and the various slave modems. </p><p id="p0041" num="0041">Figure 5 shows an example of how the various slave modems can incorporate their respective signal propagation times to adjust their respective upstream transmission times, thus ensuring that the upstream data arrives at the master modem at precisely the correct time. This allows for minimum (de-minimis) guard times between the various slave modem upstream transmissions. </p><p id="p0042" num="0042">Figure 6 shows that in some embodiments, the frequency range assigned for bidirectional TDD communications may be further subdivided into multiple frequency ranges. Here various schemes may be used. </p><p id="p0043" num="0043"> Figure 7 shows how the invention' s multi-frequency TDD MAP allocation scheme can help a CATV system cope with various communications pathway (e.g. CATV RF cable) impairments. </p><p id="p0044" num="0044"> Figure 8 shows an alternate embodiment of the invention in which the master modem (which now becomes a plurality of local master modems) is incorporated into Coax Fiber Terminal devices, and pushed closer to the various neighborhood households using the shadow fiber concepts previously discussed in copending application 12/907,970. </p><p id="p0045" num="0045">DETAILED DESCRIPTION OF THE INVENTION </p><p id="p0046" num="0046"> Figure 1 shows a drawing of the general CATV Cable system that will be used as a model to illustrate various embodiments of the invention. In this specification, many of the examples will be based on a hybrid fiber cable CATV system (100), in which a cable plant (102), which may have access to various media sources (104), the Internet (106), and the like. The cable plant will often manage at least some of the data using a Cable Modem Termination 
<!-- EPO <DP n="10"/>-->
 System (108) which is usually composed of various blades or modules (110). The cable plant sends data over a plurality of optical fibers (112) to optical fiber nodes (FN) (114) at various neighborhoods. At the optical fiber node, the optical signal is converted to various RF signals, and injected into the local neighborhood CATV cable tree, which then distributes the downstream RF signal. The optical fiber node (114) will also convert upstream RF signals back into optical signals, and send these back to the cable plant as well. </p><p id="p0047" num="0047"> Each CATV cable neighborhoods will often be composed of hundreds of different households, offices, industrial sites and other locations with data needs. Here these sites or locations with data needs will generally be referred to as "households". Each household will generally have at least one modem (often called a slave modem) that can read the CATV RF signals, receive data, and send data. Here these slave modems are simply drawn as small "house" symbols. </p><p id="p0048" num="0048"> In general, each neighborhood is wired with a CATV cable tree (116), which may be composed of various lengths of CATV cable, often connected together to form a tree-like structure by various splitters, directional couplers, and filters (not shown). There will also often be various active components, such as RF amplifiers as well (not shown), that can serve to boost the RF signals that can otherwise become attenuated after traveling through long lengths of cable. The optical fiber node (114) will transduce the downstream optical signals from the cable plant and CMTS (102), (108) into RF signals for the neighborhood CATV cable (116), and also transduce the upstream signals from the neighborhood CATV cable (116) back into optical signals for transmission back to the CMTS (108) and Cable plant (102). Some of the various households on this particular CATV cable tree, each of which will be assumed to have a local modem, are shown as (118), (120), and (122). Note that household (118) is the closest household to the optical fiber node (114) in terms of distance along the CATV cable, household (120) has a longer distance to the optical fiber node (114), while household (122) should be assumed to be the household with the longest distance to the optical fiber node (114). </p><p id="p0049" num="0049"> In a typical US CATV cable system, the RF frequency range from 5 MHz to 42 MHz (124) is typically reserved for upstream communications from the slave modems in the various households (e.g. 118, 120, 122) to the local optical fiber node (114) and hence to the CMTS (108) and cable plant (102). The RF frequency range from 54 MHz to about 860 MHz (126) is reserved for downstream communications from the Cable plant (102) and CMTS (108) via the optical fiber node (114) to the various households (e.g. 118, 120, 122). The frequency 
<!-- EPO <DP n="11"/>-->
 range above 860 MHz is presently unused. This higher frequency range tends to be less desirable because of the higher rate of attenuation of the RF signal as a function of distance along the cable. Thus frequencies above about 860 MHz travel less far along the </p><p id="p0050" num="0050">neighborhood CATV cable tree (116), and thus generally require more active components (e.g. RF amplifiers) or other measures (e.g. the shadow fiber and coax fiber terminal concepts of application 12/907,970) in order to avoid large amounts of signal loss. </p><p id="p0051" num="0051"> Due to this signal loss, which becomes progressively worse as the frequency increases, although unallocated CATV bandwidth exists above 860 MHz, this tends to be "cheap real estate". The frequencies above about 1 GHz tend to become progressively less desirable. Thus any frequency allocation for extended CATV services, such as high bandwidth </p><p id="p0052" num="0052"> "Gigabyte to the home" services will tend to be comparatively limited relative to the present roughly 810 MHz frequency range (i.e. -860 MHz - 5 MHz) presently allocated for CATV use. For example, a future Gigabyte to the home CATV frequency allocation scheme might be allocated only about 100 MHz of bandwidth, for example in the 900 to 1000 MHz (1 GHz) range (see Figure 2, 202), due to these high frequency attenuation problems. To make any future gigabyte to the home service as compelling and useful as possible, this relatively narrow slice of bandwidth (202) should ideally be utilized as efficiently as possible. </p><p id="p0053" num="0053"> For purposes of illustration, many of the examples in this specification will be assumed to be utilizing a hypothetical new CATV bandwidth allocation between about 900 MHz and 1000 MHz (202), and this 100 MHz wide new bandwidth allocation will be assumed to be allocated for simultaneous upstream and downstream data transmission using Time Division Duplex methods in which some time slices along this new bandwidth allocation will be assigned for upstream transmission, and some time slices will be assigned for downstream allocation. These time assignments may be done through the use of Mini-slot Allocation Packet (MAP) messages exchanged between a CATV master modem (214), and the various slave modems (e.g. 118, 120...122) connected to various locations of the CATV cable tree (116) that is controlled by that particular master modem (214). In the example shown in Figure 2, the master modem (214) also acts as the neighborhood's optical fiber node (114) as well, but this need not always be the case. </p><p id="p0054" num="0054">Mini-slot Allocation Packet messages are presently used under the CATV Data Over Cable Service Interface Specification (DOCSIS) specification. They describe a scheme in which various household modems may be allocated various times to transmit data upstream, and also various times in which a cable head modem may transmit downstream messages 
<!-- EPO <DP n="12"/>-->
 intended for specific household modems. Such methods are described in US patents 6,643,295, 6,956,865, 7,748,002, the contents of which are incorporated herein by reference, and other patents. </p><p id="p0055" num="0055"> Generally, such prior art CATV MAP schemes have previously tended to allocate different frequencies for upstream and downstream data transmission. For the present invention, the MAP allocation schemes will often allocate the same frequencies for upstream and downstream data transmission. The MAP allocation schemes for the present invention will often generally use much shorter guard times as well. Otherwise, however, the MAP schemes used by the present invention may be chosen or selected to be as backward compatible with prior MAP allocation schemes as possible, given the differences. </p><p id="p0056" num="0056"> Alternatively, the invention' s MAP allocation scheme may be configured to be a logical extension of prior art MAP allocation schemes. As a third alternative, the present invention may use a completely different or completely incompatible MAP allocation scheme. </p><p id="p0057" num="0057"> As previously discussed, in some embodiments of the invention, a combination of techniques may be combined to produce a flexible system that can be dynamically reconfigured on demand to transmit a large number of bits of data both upstream and downstream to those particular neighborhood households that presently are most in need of high capacity data transmission. In particular, this flexibility and dynamic reconfiguration may be accomplished by Time Division Duplex data transmission schemes that dynamically allocates time slots to those household modems most in need of upstream or downstream data, with a key difference from prior art being that the same frequency range (e.g. a hypothetical 100 MHz region of spectrum between 900 MHz and 1 GHz) may be utilized for both upstream and downstream transmissions. </p><p id="p0058" num="0058"> As previously discussed, generally for TDD transmissions, one or more different types of guard times are used between the different devices that are exchanging data using TDD. These guard times (essentially silent periods when no data transmission is expected) help prevent interference that can occur when two different devices attempt to transmit data at the same time. Although critical to avoid interference and potential chaos, such guard times reduce the amount of time that data can be transmitted. As will be discussed, by utilizing some novel master modem - slave modem clock synchronization schemes, and by utilizing some sophisticated propagation time delay ranging estimation methods, these "necessary evil" guard times may be minimized, thus generating more time for productive upstream and downstream communications. 
<!-- EPO <DP n="13"/>-->
 Figure 2 shows one example of the frequency spectrum ranges and Time Division Duplex time allocation schemes contemplated by the invention. Although in principle any CATV frequency range may be used by the invention's same-frequency TDD schemes, to preserve backward compatibility with legacy equipment, it may be convenient to utilize presently unallocated frequency ranges, such as the 900 MHz to 1 GHz frequency ranges (202) or other frequency ranges. </p><p id="p0059" num="0059"> In the example shown in Figure 2, such a CATV cable system may comprise a CATV cable tree (116) with a local master modem (214) (which may optionally also function at or near an optical fiber node (114)) configured with a master clock, and a plurality of slave modems (e.g. the modems in households (118, 120, 122, and so on). These slave modems are connected to various locations along CATV cable tree (116). In this example, the bandwidth allocated for bidirectional (e.g. both upstream and downstream) communications has been assigned to preserve backward compatibility with legacy systems. Thus the legacy CATV upstream frequencies (124) and downstream frequencies (126) have been preserved, and the bidirectional TDD frequency is in a different and higher frequency range (202). </p><p id="p0060" num="0060"> Each slave modem will generally be configured with its own slave clock. Again, note that in this scheme, there will generally be a nearest slave modem, here the slave modem in household (118) is closest to master modem (214), and there will generally be a farthest slave modem. Here the slave modem in household (122) will be considered to be the farthest slave modem. </p><p id="p0061" num="0061"> According to the invention, the at least the slave clocks controlling the TDD functionality onboard the various slave modems are generally time-synchronized to the local master modem (214) that is located closest to those particular slave modems. Note that to preserve backward compatibility, the various slave modems may also have other clocks that may, for example, be synchronized to other parts of the system, such as the CMTS (208) or cable plant (102), but here these other slave "legacy" clocks will not be discussed further. Rather all discussion of slave clocks should be considered to be those slave clocks that control same frequency TDD communications with local master modems. </p><p id="p0062" num="0062"> Although, as previously discussed, in some embodiments, this local master modem may be located at or near an optical fiber node (214), this is an optional embodiment. In other embodiments, the local master modem may be even closer to the various slave modems, and 
<!-- EPO <DP n="14"/>-->
 may for example be a Coax Fiber Terminal master modem, as will be discussed in more detail later in Figure 8. </p><p id="p0063" num="0063"> According to the invention, the various slave clocks of the various local slave modems are time-synchronized to the master clock of the local master modem. This may be done by, for example, having the master modem transmit a synchronization tone or synchronization data sequence (e.g. a Barker or other type of synchronization code) at particular intervals, often many times per second (e.g. at 8 KHz intervals), so that the various slave clocks will have a minimal opportunity to drift between time synchronization intervals. Although prior art guard times had to be made longer due in part to differences in time synchronization between the different clocks on the different communicating devices, due to the invention's extremely tight time synchronization, these guard times can be considerably reduced. </p><p id="p0064" num="0064"> As previously discussed, another factor that contributed to suboptimal guard times in prior art schemes was the time delays due to the time differences in signal propagation between the different devices. Even though RF signals propagate along CATV cable at or near the speed of light, given the extremely fast switching rate of modern digital communications, such speed of light signal propagation times are significant. The present invention solves this problem in two ways. First, by determining the signal propagation times between the master modem (214) and the each of the plurality of slave modems (e.g. the slave modems residing in households 118, 120, 122, and so on), this signal propagation time may be used to, for example, coordinate the upstream time slots for the various slave modems so that the various upstream signals arrive at the master modem (116) at precisely the right time slot. Second, when used in the shadow fiber and coax fiber terminal embodiment that will be discussed in Figures 7 and 8, the invention also solves a major part of these signal propagation delays by simply moving the local master modem much closer to the various satellite modems than had been done by prior art, thus reducing guard times to a de-minimis level, and increasing the rate of data transmission due to further guard time minimization. </p><p id="p0065" num="0065"> In this specification, the term "de-minimus" guard time means a guard time that has been minimized by the steps of synchronizing local slave clocks to their nearest local master modem, determining the signal propagation times between the various local slave clocks and their nearest local master modem, and using this signal propagation time to adjust the transmission time of at least the upstream data packets or bursts from the various local slave modems arrive at the master modem at a time that is independent of the distance or 
<!-- EPO <DP n="15"/>-->
 propagation time between that particular local master modem and that particular local slave modem. </p><p id="p0066" num="0066"> As previously discussed, the invention may further optimize transmission efficiency by determining the current or projected upstream and downstream data needs for each of said plurality of slave modems, and allocating time slots that are dynamically (e.g. with high frequency, up to many times per second) adjusted to assign more time slots to those modems most in need of data transmission capability at any given time. Indeed, the invention may combine all of these factors and use both the signal propagation times and the current or projected upstream and downstream data needs for each of the plurality of slave modems to continually and dynamically construct MAP Time Division Duplex allocation schemes optimized for the system's data transmission needs at that particular moment. For example, the local master modem may take these factors into account, and up to many times per second transmit an optimized MAP Time Division Duplex allocation scheme (204) to each of the various local slave modems. Thus each slave modem, for example, may receive time slots that are adjusted both in amount and potentially also time duration for that slave modem's particular needs (somewhat balanced by overall system demands and the needs of other slave modems). The time slots may also be adjusted for the signal propagation delays between the local slave modem and the local master modem. This scheme, in conjunction with the invention's precise time synchronization methods, can also minimize guard times and optimize the amount of time that can be devoted to actual data transmission. </p><p id="p0067" num="0067"> Figure 3 shows a more detailed example of the invention' s master modem MAP time synchronized Time Division Duplex Transmission scheme, previously shown in Figure 2 (204). Here one MAP time slice may be allocated for upstream transmission from the master modem to one or more slave modems (302). A first guard time t^ter (304) (abbreviated as tmast) may then follow. The t<sub>maste</sub>r time may itself be highly time optimized, but at least in some embodiments, tmaster may be limited by the overall signal propagation times along at least the stretch of CATV cable occupied by the local master modem and the various satellite modems controlled by that local master modem. For example, t<sub>maste</sub>r may be set to be at least twice the signal propagation time between the local master modem and the furthest local slave modem on that length of CATV cable. This way signals from the master modem will have had time to reach the furthest modem, and any signal back from the furthest master modem will have had time to reach the master modem, before any slave modems are allocated time slots to transmit upstream. 
<!-- EPO <DP n="16"/>-->
 The various time slots allocated by the MAP time slices to the various slave modems are shown in (306). For example, time Tl may be allocated to slave modem 1, T2 may be allocated to slave modem 2, and so on. Under the invention's dynamic allocation schemes, the lengths of Tl, T2...Tn need not be identical. Further, multiple time slots may be allocated to the same slave modem in a single upstream transmission sequence, and not all slave modems need be allocated an upstream time slot during any given upstream transmission sequence. Rather, those slave modems that have more need to transmit upstream data may be allocated more time slots or longer time slots at the expense of slave modems that have a lesser need to transmit upstream data at that particular time. </p><p id="p0068" num="0068">Although the time slots allocated to the various slave modems for upstream transmission (306) will themselves generally be separated by different guard time t<sub>s</sub>i<sub>ave</sub>, by using the invention' s precise modem time-synchronization techniques, and signal propagation time adjustment techniques, as previously discussed, this t<sub>s</sub>i<sub>ave</sub> guard time may be made de-minimis (extremely small). This is because inaccuracies due to clock differences between slaves can be minimized, and inaccuracies due to differences in signal propagation times from any give slave to the master can be precisely compensated for. Thus t<sub>s</sub>i<sub>ave</sub> may need to be no longer than the time needed to compensate for minor variations in the time for the different slave electronic components to process data, temperature fluctuations, and the like, and indeed may be only the time allocated for a single transmission symbol or even fraction of a transmission symbol. Often the MAP timing will be such as to allocate upstream transmission time for a plurality of slave modems as part of a series of upstream data bursts (308). </p><p id="p0069" num="0069"> The overall time that the system may allocate for a continuous series of upstream </p><p id="p0070" num="0070">transmissions from multiple slave modems (308) may vary, but generally will be no shorter than the differences in time propagation in signals between the nearest slave modem to the master modem, and the furthest slave modem to the master modem. Here this difference in signal propagation time, T(furthest)-T(nearest) will be termed the signal "spread" time. </p><p id="p0071" num="0071"> Put another way, the spread time is the difference in the signal propagation times between a master modem (214) and its nearest slave modem (118); and a master modem (214) and its furthest slave modem (122). In some embodiments, the MAP Time Division Duplex allocation scheme may dynamically allocate various upstream time slots to the plurality of slave modems on a contiguous block of upstream time slots basis (i.e. a number of slave modems are assigned to transmit upstream as a contiguous block, similar to Figure 3 (308)). In this type of allocation scheme, then the upstream-to-downstream guard time t<sub>master</sub> (here 
<!-- EPO <DP n="17"/>-->
 abbreviated as t<sub>mast</sub>) (304) between the end of the block of upstream time slots (308) and the beginning of the MAP Time Division Duplex time allocated to downstream data from the master modem to the slave modems (304) may be set to at least twice the spread time. </p><p id="p0072" num="0072"> If we designate the propagation time between the master modem (214) and its nearest slave modem (118) as a "span" time; then in general, the time that the MAP allocation scheme allocates to the contiguous block of upstream time slots (308) will generally vary according to this span time. </p><p id="p0073" num="0073"> Figure 4 shows some of the details of the ranging process in which the signal propagation delay d(n) between the master modem and the various slave modems may be determined. In this process, the master modem (214) will generally send out various local slave clock synchronization signals along the CATV cable, often in frequency range (202). These synchronization signals may be a tone or a defined digital sequence (e.g. a Barker code and the like). The signals may be sent many times a second (e.g. 8,000 times a second), and the slave clock time-synchronization signals will typically interleaved between other CATV data transmissions at this frequency (202). These clock synchronization signals (402, 404) are carried over various paths in the local CATV cable tree to their respective slave modems, such as slave 1 , slave 2, and slave "n". </p><p id="p0074" num="0074"> After the slave modem clocks have been synchronized, the signal propagation times between the various slave modems and the master modem may be determined. Although often a different "ranging" pulse or signal may be used for ranging determination, in some embodiments, the clock synchronization pulse or signal may also be used as the ranging signal. </p><p id="p0075" num="0075"> The signal propagation time to slave 1 will be considered to be d(l), the signal propagation time to slave 2 will be considered to be d(2), and the signal propagation time to slave "n" will be considered to be d(n). </p><p id="p0076" num="0076"> During the ranging and synchronizing process, each slave modem will generally rapidly respond with an acknowledge message (406, 408), and this will propagate back along the same path with another time delay d(l)...d(n) depending upon the propagation time to that particular satellite modem. In this simplified example, the additional delays due to slave modem' s electronics are ignored, but generally, these electronics delay times will also be factored into the various propagation time delay equations. 
<!-- EPO <DP n="18"/>-->
 These time delays are shown in chart (410). In chart (410), the time axis (412) is vertical, and the times at the master modem and slave modems slave 1 , slave 2, and slave "n" are shown. Here the time at which the clock synchronization signals (402, 404) are sent out from the master modem, and the times in which the slave modem acknowledge messages are received (408, 406) are shown. As can be seen, the total elapsed time (neglecting electronics delays internal to the various slave modems) will be twice the one way signal propagation time d(l)..d(n) from the master modem to that particular slave modem. </p><p id="p0077" num="0077"> As previously discussed, once the signal propagation delay time is determined, the various slave modems can use this delay time to further adjust the times in which they transmit data back to the master modem, as well as optionally to better adjust the times in which they are listening for data from the master modem. </p><p id="p0078" num="0078"> Note that in some embodiments, the ranging and also the clock synchronization process may be done incrementally. Here for example, one sub-channel can begin the coarse ranging process, and with time, ranging and synchronization can then gradually proceed to cover the entire band. This incremental ranging and or synchronization process can minimize the impact of the guard time ambiguity that is required in the initial ranging process. Ideally this minimized guard time now can consume only a small portion of the available band/capacity.</p><p id="p0079" num="0079">Figure 5 shows an example of some of the time delay considerations involved in ranging and scheduling. Here the various slave clocks (Slave 1, Slave 2 ... Slave "n") can use the signal propagation delay time d(l), d(2), ...d(n) to adjust their respective upstream transmission time slots so that the transmissions from each slave modem reach the master modem in the proper time slot that is expected by the master modem, with very small (de-minimis) guard times t<sub>s</sub>i<sub>aV</sub>e (308) in between the various slave modem upstream transmission time slots (306).</p><p id="p0080" num="0080">For example, assume that slave 1 has been MAP assigned to transmit upstream with data assigned to arrive at the master modem (214) in time slot T; (502), slave 2 has been MAP assigned to transmit upstream with data intended to arrive at the master modem (214) in time slot Ti<sub>+</sub>i (504), and slave "n" has been MAP assigned to transmit upstream with data intended to arrive at the master modem (214) in time slot Τ;<sub>+η</sub> (506). Then to compensate for signal propagation delays along the CATV cable, slave modem 1 should actually commence transmission at time Τ;_<sub>&lt;</sub>¾<sub>ΐ)</sub> (508), slave modem 2 should actually commence transmission at time Ti<sub>+</sub>i_<sub>d</sub>(2) (510), and slave "n" should actually commence transmission at time Ti<sub>+n</sub> _ <sub>d(</sub>n<sub>)</sub> (512). 
<!-- EPO <DP n="19"/>-->
 How is the MAP Time Division Duplex scheme, used to generate the time slots in Figure 3 (204) to determine which upstream time slots are reserved for which slave modem? How is the MAP scheme to determine the relative length of the master modem to slave downstream time slots? Here a number of schemes are possible. In one scheme, the upstream modems (e.g. 118, 120, 122) may determine their local upstream data requirements, and send requests to the master modem (214) designating the amount of downstream data required to transmit, and how urgent this data is (live video, for example, may have higher urgency than a text file transmission). The master modem (216) in turn will weigh and balance these various requests (usually by using MAP creation software that will run under one or more processors on master modem 216), and determine a MAP allocation scheme according to one or more algorithms. This weighing and balancing may preferably change as the data needs of the various slave modems change. Thus the MAP Time Division Duplex scheme will dynamically allocate slots for upstream transmission on the basis of upstream data requests by each of its various slave modems. </p><p id="p0081" num="0081">Figure 6 shows some of the alternate spectrum allocation schemes that can be used by the invention's Time Division Duplex method. In some single carrier schemes, any given modem may utilize all of the bandwidth (600) (Figure 2 (202)) allocated for TDD </p><p id="p0082" num="0082">transmissions; however the signal spreading around the center frequency induced by high data transmission rates may either cause the signal to spread beyond the allocated bandwidth, or alternatively force the operator to use substantially less than the full allocated TDD bandwidth (202). This spreading problem can be reduced by instead spreading the data over multiple carriers using filtered multi-tone modulation (602). The spreading problem can be reduced still further by using orthogonal filtered multi-tone modulation, with some overlapping between the multiple carriers (604). </p><p id="p0083" num="0083">Note that although at first glance, Figure 6 might be misinterpreted as teaching prior art Time Frequency Division schemes in which upstream transmission was done at a different frequency than downstream transmissions, this is not the case. Rather, Figure 6 teaches a Time Division Duplex scheme in which both upstream and downstream transmissions will still generally take place at the same frequency, but this same frequency may in fact be multiple same frequencies. </p><p id="p0084" num="0084"> Still other time-frequency allocation schemes, such as CDMA-like spread-spectrum schemes, are also possible, and in alternate embodiments of the invention, a time - CDMA scheme may be employed. 
<!-- EPO <DP n="20"/>-->
 In addition to reducing bandwidth spreading, the multiple frequency or multi-tone TDD schemes have a number of other advantages as well. One advantage is the ability for multiple tone TDD schemes can have a superior ability to cope with various types of impaired RF transmission along the CATV cable tree (116). </p><p id="p0085" num="0085">For example, one such type of "channel impairment" is the previously discussed fact that the amount of RF signal attenuation per foot along CATV cable is greater at high frequencies than it is at low frequencies. In practice, this type of impairment is often corrected for by use of amplifiers and by boosting the power of the more remote modems, but since this is a simple and easy to understand impairment, for this example assume that such variable power or gain compensation schemes have not been implemented, and instead this impairment is going to be addressed by a suitable MAP allocation scheme. </p><p id="p0086" num="0086"> An example of the utility of such a multi-frequency or multi-tone TDD map allocation scheme to correct for channel impairments, such as high frequency attenuation, is shown in Figure 7. In Figure 7, assume that the furthest slave modem (122) suffers from somewhat too much signal attenuation at the highest frequencies (e.g. 1 GHz). As a result, due to this high frequency attenuation scheme, the full spectrum TDD packets sent by slave modem (122) may have a somewhat higher than desired error rate, causing the local master modem' s error detection mechanisms to request too many data packets to be re-transmitted, resulting in an undesired loss in efficiency. Assume further that at somewhat lower frequencies (e.g. 900 to 950 MHz), the attenuation is enough less that use of lower frequencies for slave modem (122) is preferred. By contrast, nearest slave modem (118), which is much closer to the master modem, does not have a significant attenuation problem, and can easily operate at the highest assigned frequency range, such as 1 GHz without generating errors. Assume further that the intermediate distance slave modems, such as slave modem (120), can operate adequately in all frequency ranges. </p><p id="p0087" num="0087"> In a multi-frequency (e.g. multi-tone) TDD scheme, the MAP allocation scheme may be a two dimensional time and frequency allocation scheme (700), in which more distant slave modems such as (122) are preferentially allocated lower frequencies, and closer slave modems such as (118) are preferentially allocated higher frequencies, but this can dynamically change according to the system's needs at any given time. For example, if slave modem (122) needed to send a massive amount of data and no other slave modem needed to send any data at all, all time slots and all frequencies might temporarily be allocated to slave modem (122). By contrast, for two modems located more closely together, such as (118), 
<!-- EPO <DP n="21"/>-->
 (120), the frequency assignment might be unimportant, and the system would simply pick open frequencies and time slots on an as available basis, so that often the two might transmit on the same frequency but in different time slots. </p><p id="p0088" num="0088"> In general, often it will be useful for both this and other channel impairment correction schemes if the master modem and slave modems routinely (i.e. with some frequency, often at least many times a day) exchange information pertaining to the various path distortions or signal strength loss between the various modems. </p><p id="p0089" num="0089">Figure 7 shows a situation where the more distant slave modem (122) needs to upload and download a substantial amount of data, and the nearer slave modems (118), (120) have relatively light data needs. The other modems will be ignored in this example. Here, in order to meet these needs, the MAP allocation scheme algorithm may determine that to meet the substantial data demands of the distant slave modem (122), multiple low frequency upstream time slots (702) should be assigned to the distant slave modem (122). By contrast, the nearer slave modems (118) and (120) have moderate upstream data needs, and since they have minimal signal loss at high frequencies, they are assigned the same high frequency at two different upstream time slots (704), (706). </p><p id="p0090" num="0090"> Thus in some embodiments of the invention, the MAP Time Division Duplex allocation scheme may dynamically allocate slots for upstream transmission by the various slave modems on a time and frequency basis. Here, at least for the duration of one consecutive series of upstream time slots (308), each of those slave modems may be assigned a unique combination of time and frequency. </p><p id="p0091" num="0091"> Note that this scheme remains a Time Division Duplex scheme, even when, for a brief period of time, each slave modem (e.g. 118, 120, 122, etc.) might due to random circumstances be temporarily assigned to a different upstream frequency. This is because the master modem (214) may continue to use (708) the same frequencies or all frequencies of the assigned TDD frequency range (202) for downstream communications to the various slave modems. </p><p id="p0092" num="0092"> In this sort of scheme, typically either the master modem (214), the slave modems (118..122), or both may typically act to determine such communications path distortions or signal loss along its respective CATV cable tree path (116) to the master modem (214), and </p><p id="p0093" num="0093">communicate these findings to the master modem, so that the master modem's MAP creation 
<!-- EPO <DP n="22"/>-->
 algorithms may take these effects into consideration when generating MAP time and frequency allocation schemes. </p><p id="p0094" num="0094"> Other schemes to account for signal attenuation, distortion, noise or other impairments along the CATV cable tree path can also be done. In alternative embodiments, the slave modems may be designed with the capability to modulate the power of their transmitted signals according to the signal strength path loss on their CATV cable tree path to the master modem. In other alternative embodiments, the nature of signal distortions along the CATV cable tree path to the master modem may be assessed, and the slave modems may adjust their transmitted signal to compensate for these distortions or cancel out these distortions. </p><p id="p0095" num="0095">This compensation process is often referred to as "precoding". Thus in some embodiments, any of the slave modems may precode their transmissions to compensate for path distortions on their respective CATV cable tree path to the master modem. </p><p id="p0096" num="0096"> As previously discussed, although the present invention may often be implemented on, with, or as part of enhanced optical fiber nodes (114) that lie at the root of the RF portion of neighborhood CATV cable trees (116), other embodiments are possible. In particular, the invention is well suited to be implemented in the shadow fiber and coax fiber terminal schemes of parent and copending application 12/907,970, the contents of which are incorporated herein by reference. </p><p id="p0097" num="0097"> Figure 8 shows an alternate embodiment of the invention in which the master modem (which now becomes a plurality of master modems) is pushed closer to the various neighborhood households using the shadow fiber concepts previously discussed in copending application 12/907,970. Note that in Figure 8, the optical fiber node (814) (formerly 114, but distinguished because of potential different functionality) may not be a master modem. Rather, there are now a plurality of local master modems, e.g. (800), (802), (804) and so on. In some embodiments, the optical node (814) can, at least in part, be based on CMRTS or D- CMRTS optical nodes as described in copending applications 12/692,582 and/or provisional application 61/385,125; the contents of both are incorporated herein by reference. </p><p id="p0098" num="0098"> Figure 8 shows how "shadow optical fiber" (270) can generally be routed along the same easements, paths and conduits used to carry the neighborhood CATV cable tree (here broken down into trunk sections (226) and branch sections (227). This shadow optical fiber can in turn interact with Coax Fiber Terminals (CFT) (272) which are devices, usually positioned on, in, or near the CATV active devices (e.g. RF amplifiers 229), that can remove some or all 
<!-- EPO <DP n="23"/>-->
 of the upstream RF signals traveling back from the various households (118) along the particular CATV branch cable (227) or trunk cable (226) serviced by that particular active device (229). The Coax Fiber Terminals (272) can then transform the upstream CATV RF signals and data into upstream optical signals and data, and this can be carried back to the cable head, often by way of modified optical nodes (814) via the HFC system. </p><p id="p0099" num="0099"> Note in this embodiment, although the lower frequency legacy CATV RF signals (124) and (126) may travel throughout the CATV cable tree (226), (227), the high frequency signals (202) used for the invention' s TDD transmission scheme will often generally be more localized to particular sections of the CATV cable. This is because the active devices (229) or other devices may be designed to prevent the high frequency band (202) from traveling between one side of the device (229) to the other side of the device, thus effectively isolating transmission of frequency bands (202) to various sub-portions (806), (808), (810) or domains of the CATV cable. </p><p id="p0100" num="0100"> In the present invention, the coax fiber terminals (800, 802, 804) act as a plurality of local master modems, and these local master modems only communicate with a subset of the total number of slave modems on the entire CATV tree (226) and (227). Thus local master modem (800) TDD communicates with local slave modems in domain (806), local master modem (804) communicates with local slave modems in domain (810), and so on. </p><p id="p0101" num="0101"> Again, as previously discussed, this locality and these domains exist because the various active components (229) or other components can be designed to prevent the TDD frequency or bandwidth (202) from passing past that particular active (229). Thus the active components (229) effectively partition the entire CATV tree into a series of smaller TDD domains. </p><p id="p0102" num="0102"> According to the invention, prior art optical nodes may be used for (814), and additional devices may be added to intercept upstream data from the shadow optical fiber network (270) and repackage this for transmission back to the cable head, often along optical fiber route (112), often using alternate fibers or alternate wavelengths. Alternatively, the optical node may be modified into a modified optical node (814) with additional components to handle this repackaging internally. </p><p id="p0103" num="0103">In some embodiments, at the cable head, often just before the CMTS (814) (previously described in 12/907,970) a decoder apparatus (400) may intercept the optical fiber signals (112) and decode them into a form that can then be recognized by the CMTS. For example, 
<!-- EPO <DP n="24"/>-->
 such decoding may be used interpret the shadow fiber Cable Fiber Terminal (CFT) domain (e.g. 806, 808, (810) information into a form that the CMTS can process, and may, for example, make each different Cable Fiber Terminal domain appear to the CMTS as if it is a separate CATV neighborhood. The decoder apparatus may also, in some embodiments, reconstitute upstream data signals coming from the Cable Fiber Terminals. </p><p id="p0104" num="0104"> In this scheme, some or all of the TDD communications are now carried over the shadow optical fiber (270). By contrast, at least the downstream CATV data (126) and optionally the legacy upstream CATV data (124) may be carried over the main RF CATV cables (226) and (227) without limitation as to specific domains. </p><p id="p0105" num="0105">Here, use of such shadow optical fiber systems and Coax Fiber Terminals methods are very compatible with the present invention because, as previously discussed; the high (near 1 GHz) frequency range is attenuated rapidly as a function of distance in CATV coaxial (coax) cables. When Coax Fiber Terminals are used, the communications between the local master modems (800, 802, 804), which are now configured as Coax Fiber Terminals (272) are facilitated because the path length between the local master modem and the local slave modems are now much less. At the same time, much of the legacy CATV cable hardware can be preserved and can continue to be productively utilized. </p><p id="p0106" num="0106"> Assuming that the shadow optical fiber network is a passive optical network, then simple beam splitters can be used (233) to split and combine the various passive optical fibers. This helps lower the cost of the shadow optical fiber network, and allows the capabilities of the shadow optical fiber network to be gradually improved over time by swapping in (and out) more and more capable CFT devices - e.g. on the system may be gradually upgraded "dumb" CFT devices to smarter upstream repackaging CFT devices to the invention's TDD local master modem devices (capable of delivering gigabyte to the home or GTTH service), all without requiring many changes to the basic local shadow optical fiber network itself. </p><p id="p0107" num="0107"> Thus Figure 8 shows how in the alternate, shadow fiber, version of the invention, a neighborhood CATV system might be covered by multiple master modems (800, 802, 804), each addressing slave modems that are in different domains of the neighborhood CATV cable tree path. </p><p id="p0108" num="0108">Here, for example, a first combination Cable Fiber Modem and local master modem (800) addresses (engages in TDD communication over frequency (202) the local slave modems only in domain (806). A second combination Cable Fiber Modem and local master modem 
<!-- EPO <DP n="25"/>-->
 (804) addresses the local slave modems in domain (810), a third combination Cable Fiber modem and local master modem (802) addresses the local slave modems in domain (808), and so on. </p><p id="p0109" num="0109"> Alternatively, the combination of the Cable Fiber Modem and the local master modem can have reduced functionality. For example, the local master modems (800), (802), (804) may act more as high level slaves or executive slaves to a root Master Modem (814), and only perform a subset of the time synchronization and ranging (signal propagation time determination) steps performed by the root Master Modem (814). As yet another alternative, the local master modems (800), (802), (804) may also act in pass-through mode for downstream operation, and only operate for the upstream portion of the transmission. </p><p id="p0110" num="0110"> As yet another embodiment, the Cable Fiber Modems (800), (802), (804) can have only the functionality previously discussed in US patent application 12/907,970 (incorporated herein by reference). In this embodiment, the root Master Modem (814) will continue to handle some or all of the time-synchronization and ranging functions. </p><p id="p0111" num="0111">As yet another embodiment, time synchronization and ranging can occur both between the root Master Modem (814), the local master modems (800), (802), (804), and the various household modems, thus generating a three-way time synchronization and ranging process. This three way process is time synchronization and ranging between: root master modem to the local master modems, and the local master modems to the local household modems; and/or the root master modem to the local master modems, and the root master modem to the local slave modems. Essentially all permutations of time synchronization and ranging may be used in this embodiment. </p><p id="p0112" num="0112"> Alternate embodiments </p><p id="p0113" num="0113"> In an alternate embodiment, the system can also be used to generate legacy DOCSIS upstream signals, and receive legacy DOCSIS downstream signals. 
</p></description><claims mxw-id="PCLM44726067" ref-ucid="WO-2012116358-A1" lang="EN" load-source="patent-office"><claim-statement><!-- EPO <DP n="26"/>-->Claims </claim-statement><claim id="clm-0001" num="1"><claim-text> 1. A method of bidirectional Time Division Duplex data transmission over the same frequency ranges of a CATV cable system: </claim-text><claim-text> said CATV cable system comprising: a CATV cable tree with a root master modem configured with a master clock, and a plurality of slave modems connected to various locations of said CATV cable tree, each said slave modem configured with a slave clock, said plurality of slave modems being disposed at various distances along said CATV cable tree from said root master modem; </claim-text><claim-text> said plurality of slave modems comprising at least a nearest slave modem disposed along the shortest CATV cable tree path from said master modem, and a furthest slave modem disposed along the longest CATV cable tree path from said master modem; </claim-text><claim-text> said method comprising: </claim-text><claim-text> time synchronizing the slave clocks of said plurality of slave modems to the master clock of said master modem; </claim-text><claim-text> determining the signal propagation times between said master modem and each of said plurality of slave modems; </claim-text><claim-text> determining the current or projected upstream and downstream data needs for each of said plurality of slave modems; </claim-text><claim-text> using said signal propagation times and said current or projected upstream and downstream data needs for each of said plurality of slave modems to construct a MAP Time Division Duplex allocation scheme, and transmitting said MAP Time Division Duplex allocation scheme to each of said plurality of slave modems; </claim-text><claim-text> and using said MAP Time Division Duplex allocation scheme to control the bidirectional data transmission between said master modem and said plurality of slave modems. </claim-text></claim><claim id="clm-0002" num="2"><claim-text>2. The method of claim 1 , in which each slave modem is allocated upstream time slots by said MAP Time Division Duplex allocation scheme, and the guard time between different upstream time slots is a de-minimis guard time. </claim-text></claim><claim id="clm-0003" num="3"><claim-text>3. The method of claim 1, in which the difference in the signal propagation times between said master modem and said nearest slave modem, and said master modem and said furthest slave modem, is a spread time; <!-- EPO <DP n="27"/>--> said MAP Time Division Duplex allocation scheme dynamically allocates upstream time slots to said plurality of slave modems on a block of upstream time slots basis; </claim-text><claim-text> and the upstream-to-downstream guard time between the end of said block of upstream time slots and the beginning of the MAP Time Division Duplex time allocated to downstream data from the master modem to the slave modems is at least twice the spread time. </claim-text></claim><claim id="clm-0004" num="4"><claim-text>4. The method of claim 3, in which the propagation time between the master modem and said nearest slave modem is a span time; and </claim-text><claim-text> the time allocated to said block of upstream time slots varies according to said span time. </claim-text></claim><claim id="clm-0005" num="5"><claim-text>5. The method of claim 1, in which said MAP Time Division Duplex allocation scheme dynamically allocates slots for upstream transmission by the plurality of slave modems on a time and frequency basis; and </claim-text><claim-text> each of those slave modems assigned time to transmit by said allocation scheme are assigned a unique combination of time and frequency. </claim-text></claim><claim id="clm-0006" num="6"><claim-text>6. The method of claim 5, in which said frequency is a plurality of frequencies, and said frequencies are modulated with data in a manner so that the spectral spread induced in said frequencies due to data modulation is such as to avoid overlap between said frequencies. </claim-text></claim><claim id="clm-0007" num="7"><claim-text>7. The method of claim 5, in which said frequencies is a plurality of orthogonally modulated frequencies, and said frequencies are modulated with data in a manner so that the spectral spread induced in said frequencies due to data modulation results in some overlap between said frequencies, but said overlap may be compensated for due to the orthogonal nature of the frequency modulation. </claim-text></claim><claim id="clm-0008" num="8"><claim-text>8. The method of claim 1, in which said MAP Time Division Duplex scheme dynamically allocates slots for upstream transmission on the basis of upstream data requests by each of said plurality of slave modems. </claim-text></claim><claim id="clm-0009" num="9"><claim-text>9. The method of claim 1, in which any of said master mode or said slave modems determines either path distortions or signal strength loss on its respective CATV cable tree <!-- EPO <DP n="28"/>--> path between said master modem and said slave modems, and in which said master modem and said slave modems exchange information pertaining to said path distortions or signal strength loss. </claim-text></claim><claim id="clm-0010" num="10"><claim-text>10. The method of claim 9, in which any of said slave modems communicate either said path distortions or signal strength loss on its respective CATV cable path to said master modem, and said master modem uses said path distortions or signal strength loss to construct its MAP Time Division Duplex allocation scheme. </claim-text></claim><claim id="clm-0011" num="11"><claim-text>11. The method of claim 9, in which any of said master or slave modems modulate the power of its transmitted signal according to the signal strength path loss or path distortion on its CATV cable tree path between said master modem and said slave modems. </claim-text></claim><claim id="clm-0012" num="12"><claim-text>12. The method of claim 9, in which any of said master or slave modems precode its transmissions to compensate for path distortions on its respective CATV cable tree path between said master modem and said slave modems. </claim-text></claim><claim id="clm-0013" num="13"><claim-text>13. The method of claim 1, in which said master modem is a Cable Fiber Terminal device that transmits and receives at least some data using shadow optical fiber; or in which said master modem sends its signals to said slave modems through shadow optical fiber and Cable Fiber Terminal devices. </claim-text></claim><claim id="clm-0014" num="14"><claim-text>14. The method of claim 1, in which said frequency range is a frequency range above 860 MHz, and the frequency range less than 860 MHz is reserved for other modes of </claim-text><claim-text>communication. </claim-text></claim><claim id="clm-0015" num="15"><claim-text>15. The method of claim 1, in which time synchronizing the slave clocks of said plurality of slave modems to the master clock of said master modem is done by having said master modem transmit a tone or periodic sequence to said plurality of slave modems. </claim-text></claim><claim id="clm-0016" num="16"><claim-text>16. A method of bidirectional Time Division Duplex data transmission over the same frequency ranges of a CATV cable system: </claim-text><claim-text> said CATV cable system comprising: a CATV cable tree with a root master modem configured with a master clock, and a plurality of slave modems connected to various <!-- EPO <DP n="29"/>--> locations of said CATV cable tree, each said slave modem configured with a slave clock, said plurality of slave modems being disposed at various distances along said CATV cable tree from said root master modem; </claim-text><claim-text> said plurality of slave modems comprising at least a nearest slave modem disposed along the shortest CATV cable tree path from said master modem, and a furthest slave modem disposed along the longest CATV cable tree path from said master modem; </claim-text><claim-text> said method comprising: </claim-text><claim-text> time synchronizing the slave clocks of said plurality of slave modems to the master clock of said master modem; </claim-text><claim-text> determining the signal propagation times between said master modem and each of said plurality of slave modems; </claim-text><claim-text> determining the current or projected upstream and downstream data needs for each of said plurality of slave modems; </claim-text><claim-text> using said signal propagation times and said current or projected upstream and downstream data needs for each of said plurality of slave modems to construct a MAP Time Division Duplex allocation scheme; </claim-text><claim-text> wherein said MAP Time Division Duplex allocation scheme dynamically allocates slots for upstream transmission by said plurality of slave modems on a time and frequency basis; </claim-text><claim-text> each of those slave modems assigned time to transmit by said allocation scheme are assigned a unique combination of time and frequency; </claim-text><claim-text> transmitting said MAP Time Division Duplex allocation scheme to each of said plurality of slave modems; </claim-text><claim-text> using said MAP Time Division Duplex allocation scheme to control the bi-directional data transmission between said master modem and said plurality of slave modems; </claim-text><claim-text> wherein bi-directional data transmission between said master modem and said plurality of slave modems contains data is encoded using one or more error correction algorithms; and </claim-text><claim-text> which said frequency range is a frequency range above 860 MHz, and the frequency range below 860 MHz is reserved for other modes of communication. </claim-text></claim><claim id="clm-0017" num="17"><claim-text>17. The method of claim 16, in which each slave modem is allocated upstream time slots by said MAP Time Division Duplex allocation scheme, and the guard time between different upstream time slots is a de-minimis guard time. <!-- EPO <DP n="30"/>--> </claim-text></claim><claim id="clm-0018" num="18"><claim-text>18. The method of claim 16, in which the difference in the signal propagation times between said master modem and said nearest slave modem, and said master modem and said furthest slave modem, is a spread time; </claim-text><claim-text> said MAP Time Division Duplex allocation scheme dynamically allocates upstream time slots to said plurality of slave modems on a block of upstream time slots basis; </claim-text><claim-text> and the upstream-to-downstream guard time between the end of said block of upstream time slots and the beginning of the MAP Time Division Duplex time allocated to downstream data from the master modem to the slave modems is at least twice the spread time. </claim-text></claim><claim id="clm-0019" num="19"><claim-text>19. The method of claim 18, in which the propagation time between the master modem and said nearest slave modem is a span time; and </claim-text><claim-text> the time allocated to said block of upstream time slots varies according to said span time. </claim-text></claim><claim id="clm-0020" num="20"><claim-text>20. The method of claim 16, in which said frequency is a plurality of frequencies, and said frequencies are modulated with data in a manner so that the spectral spread induced in said frequencies due to data modulation is such as to avoid overlap between said frequencies. </claim-text></claim><claim id="clm-0021" num="21"><claim-text>21. The method of claim 16, in which said frequencies is a plurality of orthogonally modulated frequencies, and said frequencies are modulated with data in a manner so that the spectral spread induced in said frequencies due to data modulation results in some overlap between said frequencies, but said overlap may be compensated for due to the orthogonal nature of the frequency modulation. </claim-text></claim><claim id="clm-0022" num="22"><claim-text>22. The method of claim 16, in which said MAP Time Division Duplex scheme dynamically allocates slots for upstream transmission on the basis of upstream data requests by each of said plurality of slave modems. </claim-text></claim><claim id="clm-0023" num="23"><claim-text>23. The method of claim 16, in which any of said master modem or said slave modems determines either path distortions or signal strength loss on its respective CATV cable tree path between said master modem and said slave modems; and in which said master modem <!-- EPO <DP n="31"/>--> and said slave modems exchange information pertaining to said path distortions or signal strength loss. </claim-text></claim><claim id="clm-0024" num="24"><claim-text>24. The method of claim 23, in which any of said slave modems communicate either said path distortions or signal strength loss on its respective CATV cable path to said master modem, and said master modem uses said path distortions or signal strength loss to construct its MAP Time Division Duplex allocation scheme. </claim-text></claim><claim id="clm-0025" num="25"><claim-text>25. The method of claim 23, in which any of said master modems or said slave modems modulate the power of its transmitted signal according to the signal strength path loss or path distortion on its CATV cable tree path between said master modem and said slave modems. </claim-text></claim><claim id="clm-0026" num="26"><claim-text>26. The method of claim 23, in which any of said master modem or said slave modems precode its transmissions to compensate for path distortions on its respective CATV cable tree path between said master modem and said slave modems. </claim-text></claim><claim id="clm-0027" num="27"><claim-text>27. The method of claim 16, in which time synchronizing the slave clocks of said plurality of slave modems to the master clock of said master modem is done by having said master modem transmit a tone or periodic sequence to said plurality of slave modems. </claim-text></claim><claim id="clm-0028" num="28"><claim-text>28. The method of claim 16, in which said master modem is a Cable Fiber Terminal device that transmits and receives at least some data using shadow optical fiber; or in which said master modem sends its signals to said slave modems through a shadow optical fiber and a Cable Fiber Terminal device. </claim-text></claim></claims><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
