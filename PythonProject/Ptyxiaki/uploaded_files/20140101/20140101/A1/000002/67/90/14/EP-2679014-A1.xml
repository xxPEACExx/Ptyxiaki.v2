<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2679014-A1" country="EP" doc-number="2679014" kind="A1" date="20140101" family-id="45774287" file-reference-id="315082" date-produced="20180823" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146550483" ucid="EP-2679014-A1"><document-id><country>EP</country><doc-number>2679014</doc-number><kind>A1</kind><date>20140101</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-12706703-A" is-representative="NO"><document-id mxw-id="PAPP154824406" load-source="docdb" format="epo"><country>EP</country><doc-number>12706703</doc-number><kind>A</kind><date>20120216</date><lang>EN</lang></document-id><document-id mxw-id="PAPP195456485" load-source="docdb" format="original"><country>EP</country><doc-number>12706703.1</doc-number><date>20120216</date></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140445915" ucid="EP-11155522-A" load-source="docdb"><document-id format="epo"><country>EP</country><doc-number>11155522</doc-number><kind>A</kind><date>20110223</date></document-id></priority-claim><priority-claim mxw-id="PPC140449020" ucid="EP-12706703-A" load-source="docdb"><document-id format="epo"><country>EP</country><doc-number>12706703</doc-number><kind>A</kind><date>20120216</date></document-id></priority-claim><priority-claim mxw-id="PPC140451096" ucid="IB-2012050720-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>IB</country><doc-number>2012050720</doc-number><kind>W</kind><date>20120216</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1988114684" load-source="docdb">H04N  13/00        20060101AFI20120911BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1641024531" load-source="docdb" scheme="CPC">H04N  13/106       20180501 FI20180512BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1642417270" load-source="docdb" scheme="CPC">H04N  13/128       20180501 LI20180510BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1981051580" load-source="docdb" scheme="CPC">H04N2213/003       20130101 LA20160122BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132183933" lang="DE" load-source="patent-office">VERARBEITUNG VON TIEFENDATEN EINER DREIDIMENSIONALEN SZENE</invention-title><invention-title mxw-id="PT132183934" lang="EN" load-source="patent-office">PROCESSING DEPTH DATA OF A THREE-DIMENSIONAL SCENE</invention-title><invention-title mxw-id="PT132183935" lang="FR" load-source="patent-office">TRAITEMENT DE DONNÉES DE PROFONDEUR D'UNE SCÈNE TRIDIMENSIONNELLE</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR918143276" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>KONINKL PHILIPS NV</last-name><address><country>NL</country></address></addressbook></applicant><applicant mxw-id="PPAR918142041" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>KONINKLIJKE PHILIPS N.V.</last-name></addressbook></applicant><applicant mxw-id="PPAR918984682" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Koninklijke Philips N.V.</last-name><iid>101391185</iid><address><street>High Tech Campus 5</street><city>5656 AE Eindhoven</city><country>NL</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR918168715" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>VANDEWALLE PATRICK LUC ELS</last-name><address><country>NL</country></address></addressbook></inventor><inventor mxw-id="PPAR918170924" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>VANDEWALLE, Patrick, Luc, Els</last-name></addressbook></inventor><inventor mxw-id="PPAR918988252" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>VANDEWALLE, Patrick, Luc, Els</last-name><address><street>c/o High Tech Campus Building 44</street><city>5656 AE Eindhoven</city><country>NL</country></address></addressbook></inventor><inventor mxw-id="PPAR918139373" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>PEETERS MATHIAS HUBERTUS GODEFRIDA</last-name><address><country>NL</country></address></addressbook></inventor><inventor mxw-id="PPAR918151722" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>PEETERS, MATHIAS, HUBERTUS, GODEFRIDA</last-name></addressbook></inventor><inventor mxw-id="PPAR918985447" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>PEETERS, MATHIAS, HUBERTUS, GODEFRIDA</last-name><address><street>c/o High Tech Campus Building 44</street><city>5656 AE Eindhoven</city><country>NL</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR918991970" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Kroeze, Johannes Antonius</last-name><iid>101091504</iid><address><street>Philips Intellectual Property &amp; Standards P.O. Box 220</street><city>5600 AE Eindhoven</city><country>NL</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="IB-2012050720-W"><document-id><country>IB</country><doc-number>2012050720</doc-number><kind>W</kind><date>20120216</date><lang>EN</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2012114236-A1"><document-id><country>WO</country><doc-number>2012114236</doc-number><kind>A1</kind><date>20120830</date><lang>EN</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS548911050" load-source="docdb">AL</country><country mxw-id="DS548909588" load-source="docdb">AT</country><country mxw-id="DS548911051" load-source="docdb">BE</country><country mxw-id="DS548811649" load-source="docdb">BG</country><country mxw-id="DS548894288" load-source="docdb">CH</country><country mxw-id="DS548911052" load-source="docdb">CY</country><country mxw-id="DS548830584" load-source="docdb">CZ</country><country mxw-id="DS548858439" load-source="docdb">DE</country><country mxw-id="DS548911053" load-source="docdb">DK</country><country mxw-id="DS548911054" load-source="docdb">EE</country><country mxw-id="DS548907236" load-source="docdb">ES</country><country mxw-id="DS548811654" load-source="docdb">FI</country><country mxw-id="DS548811655" load-source="docdb">FR</country><country mxw-id="DS548858440" load-source="docdb">GB</country><country mxw-id="DS548911055" load-source="docdb">GR</country><country mxw-id="DS548858441" load-source="docdb">HR</country><country mxw-id="DS548830585" load-source="docdb">HU</country><country mxw-id="DS548894289" load-source="docdb">IE</country><country mxw-id="DS548911056" load-source="docdb">IS</country><country mxw-id="DS548811656" load-source="docdb">IT</country><country mxw-id="DS548911057" load-source="docdb">LI</country><country mxw-id="DS548858442" load-source="docdb">LT</country><country mxw-id="DS548909589" load-source="docdb">LU</country><country mxw-id="DS548811657" load-source="docdb">LV</country><country mxw-id="DS548858443" load-source="docdb">MC</country><country mxw-id="DS548909594" load-source="docdb">MK</country><country mxw-id="DS548909595" load-source="docdb">MT</country><country mxw-id="DS548907237" load-source="docdb">NL</country><country mxw-id="DS548917058" load-source="docdb">NO</country><country mxw-id="DS548907238" load-source="docdb">PL</country><country mxw-id="DS548811662" load-source="docdb">PT</country><country mxw-id="DS548830586" load-source="docdb">RO</country><country mxw-id="DS548811663" load-source="docdb">RS</country><country mxw-id="DS548907239" load-source="docdb">SE</country><country mxw-id="DS548894290" load-source="docdb">SI</country><country mxw-id="DS548917059" load-source="docdb">SK</country><country mxw-id="DS548917060" load-source="docdb">SM</country><country mxw-id="DS548909596" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data><office-specific-data><eptags><ep-no-a-document-published>*</ep-no-a-document-published></eptags></office-specific-data></bibliographic-data><abstract mxw-id="PA99623596" ref-ucid="WO-2012114236-A1" lang="EN" load-source="patent-office"><p num="0000">The invention relates to a signal processing device (100) for processing three-dimensional [3D] image data, the 3D image data comprising two-dimensional [2D] image data (150) and thereto corresponding 2D depth data (170), and the signal processing device comprising an input (120) for receiving the 2D image data and the 2D depth data, a first outlier detector (160) for establishing a statistical depth deviation (178)of a depth value from other depth values in a first spatial neighborhood of the 2D depth data, a second outlier detector (140) for establishing a statistical image deviation (158) of an image value from other image values in a second spatial neighborhood of the 2D image data, the depth value representing a depth of the image value, and a depth value generator (180) for, in dependence on the statistical depth deviation and the statistical image deviation, providing a replacement depth value (190) when the statistical depth deviation exceeds the statistical image deviation, the replacement depth value having a lower statistical depth deviation than the depth value.</p></abstract><abstract mxw-id="PA99822415" ref-ucid="WO-2012114236-A1" lang="EN" source="national office" load-source="docdb"><p>The invention relates to a signal processing device (100) for processing three-dimensional [3D] image data, the 3D image data comprising two-dimensional [2D] image data (150) and thereto corresponding 2D depth data (170), and the signal processing device comprising an input (120) for receiving the 2D image data and the 2D depth data, a first outlier detector (160) for establishing a statistical depth deviation (178)of a depth value from other depth values in a first spatial neighborhood of the 2D depth data, a second outlier detector (140) for establishing a statistical image deviation (158) of an image value from other image values in a second spatial neighborhood of the 2D image data, the depth value representing a depth of the image value, and a depth value generator (180) for, in dependence on the statistical depth deviation and the statistical image deviation, providing a replacement depth value (190) when the statistical depth deviation exceeds the statistical image deviation, the replacement depth value having a lower statistical depth deviation than the depth value.</p></abstract><abstract mxw-id="PA99623597" ref-ucid="WO-2012114236-A1" lang="FR" load-source="patent-office"><p num="0000">La présente invention concerne un dispositif de traitement de signal (100) servant à traiter des données d'image tridimensionnelle [3D], les données d'image 3D comprenant des données d'image bidimensionnelle [2D] (150) et des données de profondeur 2D correspondantes (170). Le dispositif de traitement de signal comprend : une entrée (120) qui reçoit les données d'image 2D et les données de profondeur 2D ; un premier détecteur d'observation aberrante (160) qui établit un écart de profondeur statistique (178) d'une valeur de profondeur d'après d'autres valeurs de profondeur dans un premier voisinage spatial des données de profondeur 2D ; un second détecteur d'observation aberrante (140) qui établit un écart d'image statistique (158) d'une valeur d'image d'après d'autres valeurs d'image dans un second voisinage spatial des données d'image 2D, la valeur de profondeur représentant une profondeur de la valeur d'image ; et un générateur de valeur de profondeur (180) qui, en fonction de l'écart de profondeur statistique et de l'écart d'image statistique, fournit une valeur de profondeur de remplacement (190) lorsque l'écart de profondeur statistique excède l'écart d'image statistique, la valeur de profondeur de remplacement ayant un écart de profondeur statistique inférieur par rapport à la valeur de profondeur.</p></abstract><abstract mxw-id="PA99822416" ref-ucid="WO-2012114236-A1" lang="FR" source="national office" load-source="docdb"><p>La présente invention concerne un dispositif de traitement de signal (100) servant à traiter des données d'image tridimensionnelle [3D], les données d'image 3D comprenant des données d'image bidimensionnelle [2D] (150) et des données de profondeur 2D correspondantes (170). Le dispositif de traitement de signal comprend : une entrée (120) qui reçoit les données d'image 2D et les données de profondeur 2D ; un premier détecteur d'observation aberrante (160) qui établit un écart de profondeur statistique (178) d'une valeur de profondeur d'après d'autres valeurs de profondeur dans un premier voisinage spatial des données de profondeur 2D ; un second détecteur d'observation aberrante (140) qui établit un écart d'image statistique (158) d'une valeur d'image d'après d'autres valeurs d'image dans un second voisinage spatial des données d'image 2D, la valeur de profondeur représentant une profondeur de la valeur d'image ; et un générateur de valeur de profondeur (180) qui, en fonction de l'écart de profondeur statistique et de l'écart d'image statistique, fournit une valeur de profondeur de remplacement (190) lorsque l'écart de profondeur statistique excède l'écart d'image statistique, la valeur de profondeur de remplacement ayant un écart de profondeur statistique inférieur par rapport à la valeur de profondeur.</p></abstract><description mxw-id="PDES50930900" ref-ucid="WO-2012114236-A1" lang="EN" load-source="patent-office"><!-- EPO <DP n="3"/>--><p id="p0001" num="0001"> Processing depth data of a three-dimensional scene </p><p id="p0002" num="0002">FIELD OF THE INVENTION </p><p id="p0003" num="0003"> The invention relates to a signal processing device, a method and a computer program for processing three-dimensional [3D] image data, the 3D image data comprising two-dimensional [2D] image data and thereto corresponding 2D depth data. </p><p id="p0004" num="0004"> Throughout the text, any reference to image data or depth data without an explicit indication of dimensionality will refer to 2D image data or 2D depth data, respectively. It is also noted that the term 'image data' may refer to image data of a still image or image data of a frame in a video sequence. </p><p id="p0005" num="0005"> One of the formats for processing 3D image data is the 'image plus depth' format (also known as '2D plus depth'), where image data representing a first viewpoint of a 3D scene is accompanied by depth data comprising depth values that indicate a distance that objects within the image data have towards the camera and/or the viewer. The 'image plus depth' format typically provides an efficient way of representing a 3D scene. </p><p id="p0006" num="0006"> For displaying a 3D scene transmitted in the 'image plus depth' format, additional image data may be needed for representing a second viewpoint of the 3D scene. The additional image data may be recreated from the input image data and the depth data at the receiver side. For this purpose, the receiver may comprise a so-termed viewpoint generator which displaces part of the input image data as a function of the depth data to generate the additional image data. Viewpoint generation is also known as depth-based image rendering. WO 1997/023097-A3 discloses an example of a depth-based image renderer. </p><p id="p0007" num="0007">BACKGROUND OF THE INVENTION </p><p id="p0008" num="0008"> Depth data, for use in the 'image plus depth' format, may be imperfect. For example, the depth data may be generated by a so-termed 2D-to-3D conversion, in which the input image data is used as a basis for estimating the depth data. Such estimating may be incorrect at times, causing artifacts to appear in the depth data, which, after viewpoint generation, may cause artifacts becoming visible in the displayed 3D scene. Such artifacts may also appear when using a so-termed stereo-to-depth conversion, in which a stereo image pair is used as a basis for generating the depth data. WO 2007/132397-A2 discloses an 
<!-- EPO <DP n="4"/>-->
 example of a 2D-to-3D conversion process. The 2D-to-3D conversion and stereo-to-depth conversion processes are examples of depth data generation processes. </p><p id="p0009" num="0009"> For reducing artifacts that are present in a depth map, a publication </p><p id="p0010" num="0010">"Boundary-Based Depth Image Improvement" by Yang-Keun Ahn et al., in "Advances in Visualization, Imaging and Simulation", Nov. 2010, discloses use of median filters to remove noise from the depth map for improving a subsequent depth-based image rendering. </p><p id="p0011" num="0011">SUMMARY OF THE INVENTION </p><p id="p0012" num="0012"> A problem of the use of median filters for reducing artifacts that are present in depth data is that the reduction of artifacts is insufficient. </p><p id="p0013" num="0013"> It is an object of the invention to provide a device, a method and a computer program for providing an improved reduction of artifacts in depth data. </p><p id="p0014" num="0014"> According to the invention, this object is realized in that a signal processing device is provided for processing three-dimensional [3D] image data, the 3D image data comprising two-dimensional [2D] image data and thereto corresponding 2D depth data, and the signal processing device comprising an input for receiving the 2D image data and the 2D depth data, a first outlier detector for establishing a statistical depth deviation of a depth value from other depth values in a first spatial neighborhood of the 2D depth data, a second outlier detector for establishing a statistical image deviation of an image value from other image values in a second spatial neighborhood of the 2D image data, the depth value representing a depth of the image value, and a depth value generator for, in dependence on the statistical depth deviation and the statistical image deviation, providing a replacement depth value when the statistical depth deviation exceeds the statistical image deviation, the replacement depth value having a lower statistical depth deviation than the depth value. </p><p id="p0015" num="0015"> In a further aspect of the invention, a method is provided for processing three- dimensional [3D] image data, the 3D image data comprising two-dimensional [2D] image data and thereto corresponding 2D depth data, and the method comprising receiving the 2D image data and the 2D depth data, establishing a statistical depth deviation of a depth value from other depth values in a first spatial neighborhood of the 2D depth data, establishing a statistical image deviation of an image value from other image values in a second spatial neighborhood of the 2D image data, the depth value representing a depth of the image value, and in dependence on the statistical depth deviation and the statistical image deviation, providing a replacement depth value when the statistical depth deviation exceeds the 
<!-- EPO <DP n="5"/>-->
 statistical image deviation, the replacement depth value having a lower statistical depth deviation than the depth value. </p><p id="p0016" num="0016"> In a further aspect of the invention, a computer program is provided comprising instructions for causing a processor system to perform the method set forth. </p><p id="p0017" num="0017"> The measures according to the invention provide an input for receiving 2D image data and 2D depth data. The 2D depth data corresponds to the 2D image data in that the 2D depth data comprises depth values that indicate a depth of respective image values of the 2D image data. Here, an image value is understood to be indicative of a luminance and/or chrominance. Thus, the 2D image data comprises information concerning the luminance and/or the chrominance of a 3D scene, whereas the 2D depth data comprises information concerning the depth, i.e., the distance towards a camera and/or a viewer, of the 3D scene. </p><p id="p0018" num="0018"> A first outlier detector is provided that determines a statistical depth deviation of a depth value with respect to surrounding depth values. The depth value and the surrounding depth values are located within a same portion, i.e., neighborhood, in the 2D depth data. As such, the portion encompasses at least two depth values. The statistical depth deviation may be indicative whether the depth value is equal to a statistical mean within the portion, whether the depth value deviates from the statistical mean, to what extend the depth value deviates from the statistical mean, etc. In general, the statistical depth deviation is indicative of a difference between the depth value and the surrounding depth values. </p><p id="p0019" num="0019"> Also, a second outlier detector is provided that determines a statistical image deviation of an image value with respect to surrounding image values. The image value and the surrounding image values are located within a same portion of the 2D image data. As such, the portion encompasses at least two image values. The statistical image deviation may be indicative whether the image value is equal to or deviates from a statistical mean within the portion. In general, the statistical image deviation is indicative of a difference between the image value and the surrounding image values. The image value corresponds to the depth value in that the depth value represents a depth of the image value. As such, the image value and the depth value may be located at corresponding locations within the 2D image data and the 2D depth data. However, due to a difference in, e.g., spatial resolutions between the 2D image data and the 2D depth data, both locations may also differ. </p><p id="p0020" num="0020"> Moreover, a depth value generator is provided that, in dependence on the statistical depth deviation and the statistical image deviation, provides a replacement depth value for replacing the aforementioned depth value. The depth value generator provides the replacement depth value when the statistical depth deviation exceeds, i.e., is larger than, the 
<!-- EPO <DP n="6"/>-->
 statistical image deviation. Thus, the depth value generator uses information about a difference between the relative size of the statistical depth deviation and the statistical image deviation. The providing may comprise replacing the depth value in the depth data. The providing may also comprise providing, instead of the depth value, the replacement depth value to a further processing element, e.g., a viewpoint generator. The replacement depth value has a lower statistical depth deviation than the depth value. Thus, the replacement depth value may, e.g., be nearer to statistical mean of the other depth values. </p><p id="p0021" num="0021"> The present invention is partially based on the recognition that an artifact in depth data may be characterized by the depth value having a statistical deviation with respect to its surroundings, and by a corresponding image value having less of such statistical deviation. In such a case, the depth value may be a depth outlier, whereas the corresponding image value is not an image outlier or may be less of an image outlier. It is uncommon that a depth value is an outlier whereas its corresponding image value is not, as depth values typically contain few textures or edges, and when such texture or edges occur, they mostly relate to texture or edges in the image data. Thus, when the depth value is more of an outlier than the corresponding image value, this may indicate an artifact in the depth data. </p><p id="p0022" num="0022"> The inventors have also recognized that one of the causes of the aforementioned artifacts are blurred object edges within image data, as these may cause a depth data generation process to generate erroneous depth values. Blurred object edges may occur for various reasons, e.g., due to a camera being out-of-focus or an anti-aliasing filter that has been applied to the image data. It may be inherently difficult to determine whether such blurred object edges belong to the foreground or to the background, and as such, whether they should be assigned a foreground depth value or a background depth value. </p><p id="p0023" num="0023"> Consequently, the depth data generation process may assign an erroneous depth value to the blurred object edge, i.e., generate an artifact in the depth data. Moreover, the inventors have observed that such erroneous depth values tend to deviate more from their surroundings than the blurred object edges themselves. A reason for this may be that certain assumptions of the depth data generation process used in estimating the depth value may not hold in blurred object edges, thus resulting in said erroneous depth values. </p><p id="p0024" num="0024"> It is recognized that other causes for such erroneous depth values may be a previous application of a bilateral filter or a sharpening filter to the 2D depth data. Also, erroneous depth values may be introduced by manual editing of the 2D depth data. </p><p id="p0025" num="0025"> The aforementioned measures of the present invention have the effect that a statistical deviation of a depth value is determined, a statistical deviation of a corresponding 
<!-- EPO <DP n="7"/>-->
 image value is determined, and that the depth value is replaced with a replacement depth value when the statistical deviation of the depth value exceeds the statistical deviation of the corresponding image value. The replacement depth value then reduces the statistical depth deviation and as a consequence brings the statistical depth deviation more in line with the statistical image deviation. As a consequence, erroneous depth values are replaced by less erroneous depth values, and thus artifacts in the depth data are reduced. Advantageously, after viewpoint generation, fewer artifacts are visible in the 3D scene. Advantageously, a more pleasing 3D experience is provided to a viewer of the 3D scene. </p><p id="p0026" num="0026"> Optionally, the first outlier detector is configured for establishing the statistical depth deviation by comparing the depth value to the other depth values for establishing if the depth value is a depth outlier, the second outlier detector is configured for establishing the statistical image deviation by comparing the image value to the other image values for establishing if the image value is not an image outlier, and the depth value generator is configured for providing the replacement depth value if the depth value is a depth outlier and if the image value is not an image outlier. </p><p id="p0027" num="0027"> The replacement depth value is thus provided when the depth value is a depth outlier, i.e., is considered to deviate sufficiently from the other depth values, and the image value is not an image outlier, i.e., is not considered to deviate sufficiently from the other image values. Consequently, the depth outlier is replaced by a value that has a lower statistical depth deviation than the depth outlier. Advantageously, depth outliers that cause artifacts in the displayed 3D scene are replaced by depth values that cause less or no artifacts. </p><p id="p0028" num="0028"> Optionally, the first outlier detector is configured for comparing the depth value to a maximum and/or a minimum of the other depth values, and establishing that the depth value is a depth outlier when the depth value is larger than the maximum and/or smaller than the minimum of the other depth values. This provides a particularly suitable way for determining whether the depth value is a depth outlier. </p><p id="p0029" num="0029"> Optionally, the second outlier detector is configured for comparing the image value to a maximum and/or a minimum of the other image values, and establishing that the image value is not an image outlier when the image value is smaller than the maximum and/or larger than the minimum of the other image values. This provides a particularly suitable way for determining whether the image value is an image outlier. </p><p id="p0030" num="0030"> Optionally, the depth value generator is configured for providing as the replacement depth value one of the other depth values in the first spatial neighborhood. By using an existing depth value, no additional depth values are introduced within the depth 
<!-- EPO <DP n="8"/>-->
 data. Advantageously, the depth value generator does not need to perform an actual depth data generation process, but may rather determine a suitable depth value amongst the other depth values in the first spatial neighborhood for use as replacement depth value. </p><p id="p0031" num="0031">Advantageously, an improved reduction of artifacts in the depth data is obtained. </p><p id="p0032" num="0032"> Optionally, the depth value generator is configured for providing as the replacement depth value a maximum and/or a minimum of the other depth values in the first spatial neighborhood. The maximum and/or the minimum value of the other depth values may correspond to a depth of the background and/or the foreground. Thus, the image value may be assigned a depth value that corresponds to the background and/or the foreground. </p><p id="p0033" num="0033"> Optionally, the depth value generator is configured for applying a spatial filter to the first spatial neighborhood of the 2D depth data for providing as the replacement depth value a spatially filtered depth value. The spatial filtering provides a replacement depth value that is generated from existing depth values in the first spatial neighborhood. </p><p id="p0034" num="0034">Advantageously, the depth value generator does not need to perform an actual depth data generation process, but may rather obtain the replacement depth value by spatially filtering the first spatial neighborhood. Advantageously, an improved reduction of artifacts in the depth data is obtained. </p><p id="p0035" num="0035"> Optionally, the spatial filter is a spatial noise reduction filter for suppressing depth outliers. Spatial noise reduction filters are well suited for reducing outliers in noisy image data, and consequently, suitable for reducing depth outliers in depth data. </p><p id="p0036" num="0036"> Optionally, the first spatial neighborhood and the second spatial neighborhood extend predominantly in a horizontal direction. A viewpoint generator will typically displace portions of the image data in a horizontal direction. Thus, artifacts will be more visible when the depth value is an outlier in a horizontal direction than when the depth value is an outlier in a vertical direction. By extending the neighborhoods predominantly horizontally, the horizontal direction is emphasized over the vertical direction. Advantageously, a vertical size of the neighborhoods may be reduced for reducing a cost of the signal processing device. </p><p id="p0037" num="0037"> Optionally, the first spatial neighborhood comprises a horizontal line portion of the 2D depth data, and the second spatial neighborhood comprises a corresponding horizontal line portion of the 2D image data. A horizontal line portion provides a well suited trade-off between implementation cost and reduction of artifacts in the 2D depth data. </p><p id="p0038" num="0038"> Optionally, a viewpoint generator is provided for displacing at least one part of the 2D image data as a function of the 2D depth data to generate further 2D image data, the viewpoint generator comprising the signal processing device set forth. 
<!-- EPO <DP n="9"/>-->
 Optionally, a depth data generator is provided for generating the 2D depth data in dependence on the 2D image data, the depth data generator comprising the signal processing device set forth. </p><p id="p0039" num="0039"> Optionally, the computer program set forth is embodied on a computer readable medium. </p><p id="p0040" num="0040">BRIEF DESCRIPTION OF THE DRAWINGS </p><p id="p0041" num="0041"> These and other aspects of the invention are apparent from and will be elucidated with reference to the embodiments described hereinafter. In the drawings, </p><p id="p0042" num="0042"> Figure 1 shows a signal processing device for processing depth data; </p><p id="p0043" num="0043"> Figure 2 shows an image value and a spatial neighborhood in image data;</p><p id="p0044" num="0044">Figure 3 shows a depth value and a spatial neighborhood in depth data; </p><p id="p0045" num="0045"> Figure 4 shows an example of an image value not being an image outlier and a corresponding depth value not being a depth outlier; </p><p id="p0046" num="0046"> Figure 5 shows an example of an image value being an image outlier and a corresponding depth value being a depth outlier; </p><p id="p0047" num="0047"> Figure 6 shows an example of an image value not being an image outlier and a corresponding depth value being a depth outlier; </p><p id="p0048" num="0048"> Figure 7 shows a viewpoint generator comprising the signal processing device; Figure 8 shows a depth data generator comprising the signal processing device; </p><p id="p0049" num="0049"> Figure 9 shows a method for processing depth data; </p><p id="p0050" num="0050"> Figure 10 shows a computer program embodied on a computer readable medium. </p><p id="p0051" num="0051">DETAILED DESCRIPTION OF EMBODIMENTS </p><p id="p0052" num="0052"> It is noted that, in the previous and in the following, image data refers to a data representation of an image. The image is a visual representation of information. The image data typically comprises so-termed image values, i.e., data elements such as luminance or chrominance values of portions of the image. Alternatively, the image values may be other values that may be interpreted and thus visualized as luminance or chrominance values. </p><p id="p0053" num="0053"> Moreover, depth data refers to a data representation of a depth of a 3D scene. The depth data typically comprises so-termed depth values, i.e., data elements that indicate a 
<!-- EPO <DP n="10"/>-->
 distance to a camera or to a viewer. Typically, depth data may be visualized as monochrome image data. </p><p id="p0054" num="0054"> Although depth data typically comprises depth values, depth data may also be represented using so-termed disparity values or displacement values. Within a stereoscopic image pair, the disparity values associated with an image correspond to the apparent displacement of objects between the respective images of the stereoscopic image pair. </p><p id="p0055" num="0055"> Technically disparity values are inversely proportional to depth values and thus both values represent a depth of a 3D scene. However, quite often parallax transforms are used to further tweak this relationship, for example to map the range of depth values in a perceptively pleasing manner to the disparity range of an auto-stereoscopic display. </p><p id="p0056" num="0056"> Concluding, both depth values as well as disparity values are data representations of a depth of a 3D scene and thus qualify as depth data. </p><p id="p0057" num="0057"> It will be clear to those skilled in the art that the present invention, which is demonstrated based on image data and depth data in the form of depth values, may readily be applied to image data and depth data in the form of disparity values. Fig. 1 shows a signal processing device 100 for processing 3D image data, the 3D image data comprising 2D image data 150 and thereto corresponding 2D depth data 170. The signal processing device 100 comprises an input 120 for receiving the 2D image data 150 and the 2D depth data 170. The signal processing device 100 further comprises a first outlier detector 160 for establishing a statistical depth deviation 178 from the 2D depth data 170. For receiving the 2D depth data 170, the first outlier detector 160 is shown to be connected to the input 120. The signal processing device 100 further comprises a second outlier detector 140 for establishing a statistical image deviation 158 from the 2D image data 150. For receiving the 2D image data 150, the second outlier detector 140 is shown to be connected to the input 120. The signal processing device 100 further comprises a depth value generator 180 for, in dependence on the statistical depth deviation 178 and the statistical image deviation 158, providing a replacement depth value 190. For receiving the statistical depth deviation 178 and the statistical image deviation 158, the depth value generator 180 is shown to be connected to the first outlier detector 160 and the second outlier detector 140, respectively. </p><p id="p0058" num="0058"> During operation of the signal processing device 100, the input 120 receives the 2D image data 150 and the 2D depth data 170. The receiving may comprise receiving said data from a remote or local storage device, receiving said data via a network connection or receiving said data from a previous signal processing device. 
<!-- EPO <DP n="11"/>-->
 The first outlier detector 160 receives the 2D depth data 170 to establish a statistical depth deviation 178 of a depth value 172 from other depth values 174 in a first spatial neighborhood 176 of the 2D depth data 170. An example of the 2D depth data 170 is shown in Fig. 3. Here, the 2D depth data 170 is shown as monochrome image data, in which each grey value represents a particular depth value. Also shown are the first spatial neighborhood 176 and the depth value 172. Not shown are the other depth values 174. It will be appreciated that the other depth values 174 may comprise all of the depth values in the first spatial neighborhood 176 and may exclude the depth value 172 itself. However, the other depth values 174 may also refer to a different set of depth values in said neighborhood. </p><p id="p0059" num="0059"> The second outlier detector 140 receives the 2D image data 150 for establishing a statistical image deviation 158 of an image value 152 from other image values 154 in a second spatial neighborhood 156 of the 2D image data 150. The depth value 172 represents a depth of the image value 152. An example of the 2D image data 150 is shown in Fig. 2. Also shown are the second spatial neighborhood 156 and the image value 152. Not shown are the other image values 154. It will be appreciated that the other image values 154 may comprise all of the image values in the second spatial neighborhood 156 and may exclude the image value 152 itself. However, the other image values 154 may also refer to a different set of the image values in said neighborhood. </p><p id="p0060" num="0060"> The depth generator 180 receives the statistical depth deviation 178 and the statistical image deviation 158 for, in dependence on said deviations, providing a replacement depth value 190 when the statistical depth deviation 178 exceeds the statistical image deviation 158. Thus, in case the depth value 172 has a relatively large statistical depth deviation 178, and the corresponding image value 152 has a relatively small statistical image deviation 158, the depth value 172 may be replaced by a replacement depth value 190. </p><p id="p0061" num="0061"> It is noted that the statistical depth deviation 178 and the statistical image deviation 158 each relate to different types of data, and thus, that the statistical depth deviation 178 exceeding the statistical image deviation 158 may refer to a relative exceeding, i.e., one taking into account the different types of data. This allows the depth generator 180 to take into account differences in, e.g., dynamic signal range, bit-depth, etc between the 2D image data 150 and the 2D depth data 170. For that purpose, the statistical depth deviation 178 and/or the statistical image deviation 158 may be normalized deviations. Similarly, the statistical depth deviation 178 and/or the statistical image deviation 158 may be thresholded deviations, i.e., having a value of zero if the deviation is below a certain threshold, and having a value larger than zero if the deviation exceeds said threshold. Consequently, the 
<!-- EPO <DP n="12"/>-->
 statistical depth deviation 178 exceeding the statistical image deviation 158 may comprise the statistical depth deviation 178 exceeding a certain threshold, and the statistical image deviation 158 not exceeding the same or a different threshold. </p><p id="p0062" num="0062"> It is further noted that providing the replacement depth value 190 may comprise providing the replacement depth value 190 as part of further 2D depth data. The further 2D depth data may comprise the depth values of the 2D depth data 170, with certain depth values having been replaced by replacement depth values having a lower statistical depth deviation. Thus, the signal processing device 100 may be arranged for providing the replacement depth value 190 when the statistical depth deviation 178 exceeds the statistical image deviation 158, and otherwise providing the depth value 172. However, the signal processing device 100 may also be arranged for solely providing the replacement depth value 190 when the statistical depth deviation 178 exceeds the statistical image deviation 158. </p><p id="p0063" num="0063"> The statistical depth deviation 178 may be indicative whether the depth value 172 is an outlier amongst the other depth values 174. Similarly, the statistical image deviation 158 may be indicative whether the image value 152 is an outlier amongst the other image values 154. Here, the term outlier may refer to a significant deviation of a value from the mean of other values. For that purpose, a mean of the other values may be calculated. The term outlier may also refer to a deviation that is such that the value is larger than a maximum and/or smaller than a minimum of the other values. For that purpose, the value may be compared to the maximum and/or the minimum of the other values. </p><p id="p0064" num="0064"> The first outlier detector 160 may be configured for establishing the statistical depth deviation 178 by comparing the depth value 172 to the other depth values 174 for establishing if the depth value 172 is a depth outlier. Moreover, the second outlier detector 140 may be configured for establishing the statistical image deviation 158 by comparing the image value 152 to the other image values 154 for establishing if the image value 152 is not an image outlier. The depth value generator 180 may be configured for providing the replacement depth value 190 if the depth value 172 is a depth outlier, i.e., if its statistical depth deviation 178 is relatively large, and if the image value 152 is not an image outlier, i.e., if its statistical image deviation 158 is relatively small. </p><p id="p0065" num="0065"> Figs. 4, 5 and 6 each show examples of the image value 152, the other image values 154, the corresponding depth value 172 and the other depth values 174. Here, the first spatial neighborhood 176 and the second spatial neighborhood 156 are chosen to be line segments from the 2D depth data 170 and the 2D image data 150, respectively, with each 
<!-- EPO <DP n="13"/>-->
 segment having a width of three depth values and three image values, respectively. As such, the horizontal axis depicts a position and the vertical axis a magnitude of each value. </p><p id="p0066" num="0066"> Fig. 4 shows an edge in a line segment from the 2D image data 150, e.g., a transition from a dark object to a bright object. A corresponding edge in the line segment from the 2D depth data 170 indicates that the dark object has a lower depth value, e.g., is further from the camera, than the bright object. Thus, the bright object may be a foreground object, and the dark object may be a background object. The depth value 172 equals or is near to the mean of the other depth values 174. Also, the depth value 172 is neither larger than a maximum of the other depth values 174 nor smaller than a minimum. Hence, the first outlier detector 160 may establish that the depth value 172 is not a depth outlier. Similarly, the image value 152 equals or is near to the mean of the other image values 154, and the image value 152 is neither larger than a maximum of the other image values 154 nor smaller than a minimum. Hence, the second outlier detector 140 may establish that the image value 152 is not an image outlier. Having established that the depth value 172 is not a depth outlier and the image value 152 is not an image outlier, the depth value generator 180 may establish that the depth value 172 is not an artifact and thus may not provide a replacement depth value 190. Instead, the depth value generator 180 may provide the depth value 172, or none at all. </p><p id="p0067" num="0067"> It will be appreciated that the signal processing device 100 may be configured for firstly establishing whether the depth value 172 is a depth outlier, and only when the depth value 172 is a depth outlier, establishing whether the image value 152 is an image outlier. The reason for this may be that when the depth value 172 is not a depth outlier, it is unlikely that the depth value 172 is an artifact, irrespective of the image value 152. </p><p id="p0068" num="0068"> Fig. 5 shows a peak in a line segment from the 2D image data 150, e.g., a cross-section of a thin object in the 2D image data 150. A corresponding peak in the line segment from the 2D depth data 170 indicates that the thin object has a larger depth value 172, e.g., is nearer to the camera, than its surroundings. The depth value 172 is relatively remote from the mean of the other depth values 174. Moreover, the depth value 172 is larger than the maximum of the other depth values 174. Hence, the first outlier detector 160 may establish that the depth value 172 is a depth outlier. Similarly, the image value 152 is relatively remote from the mean of the other image values 154. Moreover, the image value 152 is larger than the maximum of the other image values 154. Hence, the second outlier detector 140 may establish that the image value 152 is an image outlier. Having established that the depth value 172 is a depth outlier and that the image value 152 is an image outlier, the depth value generator 180 may establish that the depth value 172 is not an artifact and 
<!-- EPO <DP n="14"/>-->
 thus may not provide a replacement depth value 190. Instead, the depth value generator 180 may provide the depth value 172, or no depth value at all. </p><p id="p0069" num="0069"> A reason for establishing that the depth value 172 is not an artifact may be that when it is established that the image value 152 is an image outlier, this provides an explanation or justification for the depth value 172 also being a depth outlier. Thus, in this case, the depth value 172 may be considered as not being erroneous or an artifact. </p><p id="p0070" num="0070"> Fig. 6 shows an edge in a line segment from the 2D image data 150, e.g., a transition from a dark object to a bright object. However, a corresponding line segment from the 2D depth data 170 shows a peak instead of a transition between depth values. Thus, the depth value 172 is relatively remote from the mean of the other depth values 174. Moreover, the depth value 172 is larger than the maximum of the other depth values 174. Hence, the first outlier detector 160 may establish that the depth value 172 is a depth outlier. However, the image value 152 is equal or near to the mean of the other image values 154, and the image value 152 is neither larger than a maximum of the other image values 154 nor smaller than a minimum. Hence, the second outlier detector 140 may establish that the image value 152 is not an image outlier. Having established that the depth value 172 is a depth outlier and the image value 152 is not an image outlier, the depth value generator 180 may establish that the depth value 172 is an artifact and thus may provide a replacement depth value 190. </p><p id="p0071" num="0071"> It will be appreciated that establishing if the image value 152 is not an image outlier may comprise establishing if the image value 152 is an image outlier, as both configurations may be functional complements. Thus, the second outlier detector 140 may be configured for establishing if the image value 152 is an image outlier by providing a signal to the depth value generator 180. The depth value generator 180 may then establish that the image value 152 is not an image outlier if said signal is not received. </p><p id="p0072" num="0072"> The depth value generator 180 may provide as replacement depth value 190 one of the other depth values 174 in the first spatial neighborhood 176. In particular, the depth value generator 180 may provide a maximum and/or a minimum of the other depth values 174 in the first spatial neighborhood 176. The depth value generator 180 may also generate a replacement depth value 190 from the image value 152 and/or the other image values 154, thus essentially performing a depth map generation process. The depth value generator 180 may also generate a replacement depth value 190 by filtering the depth values, or a subset of the depth values, in the first spatial neighborhood 176 with a spatial filter. Thus, the replacement depth value 190 may be a spatially filtered depth value. The spatial filter may be an interpolation filter for interpolating, i.e., essentially re-generating, the depth 
<!-- EPO <DP n="15"/>-->
 value 172 from the other depth values 174. The interpolation filter may be a linear interpolation filter or a non-linear interpolation filter. For example, the interpolation filter may be an edge-preserving interpolation filter. The spatial filter may also be a noise reduction filter for suppressing outliers amongst the depth values. For example, the noise reduction filter may be a rank-order filter, e.g., a median filter. </p><p id="p0073" num="0073"> The depth value generator 180 may also provide as the replacement depth value a mixture, e.g., a weighted average or a so-termed reciprocal mix, of the </p><p id="p0074" num="0074">aforementioned replacement depth values 190 and the depth value 172. The mixture may be determined, e.g., weighted, by a difference in relative size between the statistical depth deviation 178 and the statistical image deviation 158. For example, if the statistical depth deviation 178 exceeds the statistical image deviation 158 by only a small amount, the replacement depth value 190 may comprise a weighted average in which, e.g., a spatially filtered depth value has a small weight, and the depth value 172 has a large weight. Similarly, if the statistical depth deviation 178 exceeds the statistical image deviation 158 by a large amount, the replacement depth value 190 may comprise a weighted average in which the spatially filtered depth value has a large weight, and the depth value 172 has a small weight. </p><p id="p0075" num="0075"> The first spatial neighborhood 176 and the second spatial neighborhood 156 are shown in Figs. 2 to 6 to both have a similar or identical shape and size. However, the shape and/or the size of both neighborhoods may differ. A reason for this may be that the spatial resolutions of the 2D image data 150 and the 2D depth data 170 differ, and thus, e.g., a smaller size neighborhood may be sufficient for the lower resolution data. Moreover, the characteristics of the 2D image data 150 and the 2D depth data 170 may differ, and thus, a different shape and/or size may be needed for establishing if the depth value 172 is a depth outlier than for establishing if the image value 152 is not an image outlier. </p><p id="p0076" num="0076"> The first spatial neighborhood 176 and the second spatial neighborhood 156 may extend predominantly in a horizontal direction. In particular, the first spatial </p><p id="p0077" num="0077">neighborhood 176 and the second spatial neighborhood 156 may be neighborhoods with a height of one, i.e., consisting of a horizontal line portion of the 2D depth data 170 and the 2D image data 150, respectively. For example, the first spatial neighborhood 176 and the second spatial neighborhood 156 may comprise three, five or seven horizontally adjacent values. Similarly, the first spatial neighborhood 176 and the second spatial neighborhood 156 may comprise values that form a horizontal row, with each of said values having an intermediate value that is not part of the neighborhood. Consequently, the first spatial neighborhood 176 
<!-- EPO <DP n="16"/>-->
 and the second spatial neighborhood 156 may not need to be each formed by a continuous area. Instead, a continuous area may be sub-sampled to form the respective neighborhood. </p><p id="p0078" num="0078"> Fig. 7 shows a viewpoint generator 200 for displacing at least one part of the 2D image data 150 as a function of the 2D depth data 170 to generate further 2D image data 250. The viewpoint generator 200 comprises the signal processing device 100 for preprocessing the 2D depth data 170 prior to performing the viewpoint generation. For that purpose, the signal processing unit 100 generates further 2D depth data 270 from the 2D image data 150 and the 2D depth data 170, and provides the further 2D depth data 270 to a viewpoint generation processor 220. The viewpoint generation processor 220 then uses the further 2D depth data 270 to generate the further 2D image data 250. The further 2D depth data 270 typically comprises the depth values of the 2D depth data 170, with outliers amongst the depth values having been replaced by the signal processing device 100. Thus, instead of directly generating the further 2D image data 250 from the 2D image data 150 and the 2D depth data 170, the viewpoint generator 200 uses the signal processing device 100 to first reduce outliers in the 2D depth data 170 prior to performing the viewpoint generation. </p><p id="p0079" num="0079"> Fig. 8 shows a depth data generator 300 for generating the 2D depth data 170 in dependence on the 2D image data 150. For that purpose, the depth data generator 300 comprises a depth data generation processor 320 that receives the 2D image data 150 and generates the 2D depth data 170. The depth data generator 300 also comprises the signal processing device 100 for further processing the 2D depth data 170. For that purpose, the depth data generation processor 320 provides the 2D depth data 170 to the signal processing device 100, which then generates further 2D depth data 370. The further 2D depth data 370 typically comprises the depth values of the 2D depth data 170, with outliers amongst the depth values having been replaced by the signal processing device 100. Thus, the signal processing device 100 is used for post-processing the 2D depth data 170. </p><p id="p0080" num="0080"> Fig. 9 shows a method for processing 3D image data, the 3D image data comprising 2D image data and thereto corresponding 2D depth data, and the method comprising receiving 420 the 2D image data and the 2D depth data, establishing 440 a statistical depth deviation of a depth value from other depth values in a first spatial neighborhood of the 2D depth data, establishing 460 a statistical image deviation of an image value from other image values in a second spatial neighborhood of the 2D image data, the depth value representing a depth of the image value, and in dependence on the statistical depth deviation and the statistical image deviation, providing 480 a replacement depth value 
<!-- EPO <DP n="17"/>-->
 when the statistical depth deviation exceeds the statistical image deviation, the replacement depth value having a lower statistical depth deviation than the depth value. </p><p id="p0081" num="0081"> Fig. 10 shows a computer readable medium 500 comprising a computer program 520, the computer program 520 comprising instructions for causing a processor system to perform the method 400 as shown in Fig. 9. The computer program 520 may be embodied on the computer readable medium 500 as physical marks or by means of magnetization of the computer readable medium 500. However, any other suitable embodiment is conceivable as well. Furthermore, it will be appreciated that, although the computer readable medium 500 is shown in Fig. 10 as an optical disc, the computer readable medium 500 may be any suitable computer readable medium, such as a hard disk, solid state memory, flash memory, etc., and may be non-recordable or recordable. </p><p id="p0082" num="0082"> It will be appreciated that the present invention may be applied for analyzing depth transitions to detect narrow borders with an incorrect depth. If a depth value is detected that deviates from its surrounding depth values, the image value at a same location may be compared with its surrounding image values. If the image value is an interpolated value between the surrounding image values, i.e., is not an outlier, it may be assumed that the image value is from a blurred object edge, and thus, that the depth value has been erroneously generated from the blurred object edge. A replacement depth value may then be provided by assigning the depth of one of the surrounding depth values to the depth value, and in particular, one of the surrounding depth values that is most associated with the foreground. </p><p id="p0083" num="0083"> A possible implementation of the present invention may be to process the 2D depth data line by line, and compare a depth value with its left and right neighbors, the neighbors being at a distance of one or more pixels. If the depth value is not between its surrounding values, the image value is compared with its left and right neighbors, the neighbors also being at a distance of one or more pixels. If the image value is comparable to its surrounding image values, e.g., based on luminance, chrominance, intensity, hue, saturation or another color characteristic, the depth value is considered as an artifact. As a result, the depth value is set to the maximum of its surrounding depth values, i.e., a replacement depth value is provided having said maximum as depth value. </p><p id="p0084" num="0084"> Another possible implementation of the present invention is to process the 2D depth data by sequentially scanning through a spatial aperture in the 2D depth data to reduce depth outliers in the spatial aperture. The scanning may comprise first horizontally scanning through the spatial aperture, then vertically, and finally diagonally. Another possible 
<!-- EPO <DP n="18"/>-->
 implementation is a parallelized implementation, in which the invention is applied to multiple depth values and corresponding image values within the spatial aperture in parallel. </p><p id="p0085" num="0085"> In general, it is noted that when the 2D image data and the 2D depth data is data from a video sequence, the first spatial neighborhood and/or the second spatial neighborhood may also extend temporally, i.e., the other image values and/or the other depth values may comprise image values and/or depth values from a part of the video sequence later or earlier in time. Hence, the signal processing device may establish not only whether the depth value and/or the image value is a spatial outlier, but also if it is a temporal outlier. </p><p id="p0086" num="0086"> It is also noted that the 2D image data may be obtained, or be part of, stereo image data or so-termed multi-view image data. This may occur if, e.g., stereo image data or multi-view image data is used in a depth data generation process to generate the 2D depth data. Hence, the 3D image data may be formed by the generated 2D depth data, and by 2D image data that is obtained from the stereo image data or the multi-view image data. </p><p id="p0087" num="0087"> It will be appreciated that the above description for clarity has described embodiments of the invention with reference to different functional units. However, it will be apparent that any suitable distribution of functionality between different functional units or processors may be used without detracting from the invention. For example, functionality illustrated to be performed by separate processors or controllers may be performed by the same processor or controllers. Hence, references to specific functional units are only to be seen as references to suitable means for providing the described functionality rather than indicative of a strict logical or physical structure or organization. </p><p id="p0088" num="0088"> The invention can be implemented in any suitable form including hardware, software, firmware or any combination of these. The invention may optionally be </p><p id="p0089" num="0089">implemented at least partly as computer software running on one or more data processors and/or digital signal processors. The elements and components of an embodiment of the invention may be physically, functionally and logically implemented in any suitable way. Indeed the functionality may be implemented in a single unit, in a plurality of units or as part of other functional units. As such, the invention may be implemented in a single unit or may be physically and functionally distributed between different units and processors. </p><p id="p0090" num="0090"> Although the present invention has been described in connection with some embodiments, it is not intended to be limited to the specific form set forth herein. Rather, the scope of the present invention is limited only by the accompanying claims. Additionally, although a feature may appear to be described in connection with particular embodiments, one skilled in the art would recognize that various features of the described embodiments 
<!-- EPO <DP n="19"/>-->
 may be combined in accordance with the invention. In the claims, the term comprising does not exclude the presence of other elements or steps. </p><p id="p0091" num="0091"> Furthermore, although individually listed, a plurality of means, elements or method steps may be implemented by e.g. a single unit or processor. Additionally, although individual features may be included in different claims, these may possibly be </p><p id="p0092" num="0092">advantageously combined, and the inclusion in different claims does not imply that a combination of features is not feasible and/or advantageous. Also the inclusion of a feature in one category of claims does not imply a limitation to this category but rather indicates that the feature is equally applicable to other claim categories as appropriate. Furthermore, the order of features in the claims do not imply any specific order in which the features must be worked and in particular the order of individual steps in a method claim does not imply that the steps must be performed in this order. Rather, the steps may be performed in any suitable order. In addition, singular references do not exclude a plurality. Thus references to "a", "an", "first", "second" etc do not preclude a plurality. Reference signs in the claims are provided merely as a clarifying example shall not be construed as limiting the scope of the claims in any way. 
</p></description><claims mxw-id="PCLM44726846" ref-ucid="WO-2012114236-A1" lang="EN" load-source="patent-office"><claim-statement><!-- EPO <DP n="20"/>-->CLAIMS: </claim-statement><claim id="clm-0001" num="1"><claim-text>1. A signal processing device (100) for processing three-dimensional [3D] image data, the 3D image data comprising two-dimensional [2D] image data (150) and thereto corresponding 2D depth data (170), and the signal processing device comprising: </claim-text><claim-text> an input (120) for receiving the 2D image data and the 2D depth data; </claim-text><claim-text>- a first outlier detector (160) for establishing a statistical depth deviation (178) of a depth value (172) from other depth values (174) in a first spatial neighborhood (176) of the 2D depth data; </claim-text><claim-text> a second outlier detector (140) for establishing a statistical image deviation (158) of an image value (152) from other image values (154) in a second spatial </claim-text><claim-text>neighborhood (156) of the 2D image data, the depth value representing a depth of the image value; and </claim-text><claim-text> a depth value generator (180) for, in dependence on the statistical depth deviation and the statistical image deviation, providing a replacement depth value (190) when the statistical depth deviation exceeds the statistical image deviation, the replacement depth value having a lower statistical depth deviation than the depth value. </claim-text></claim><claim id="clm-0002" num="2"><claim-text>2. A signal processing device (100) according to claim 1, wherein: </claim-text><claim-text> the first outlier detector (160) is configured for establishing the statistical depth deviation (178) by comparing the depth value (172) to the other depth values (174) for establishing if the depth value is a depth outlier; </claim-text><claim-text> the second outlier detector (140) is configured for establishing the statistical image deviation (158) by comparing the image value (152) to the other image values (154) for establishing if the image value is not an image outlier; and </claim-text><claim-text> the depth value generator (180) is configured for providing the replacement depth value (190) if the depth value is a depth outlier and if the image value is not an image outlier. </claim-text></claim><claim id="clm-0003" num="3"><claim-text>3. A signal processing device (100) according to claim 2, wherein the first outlier detector (160) is configured for: <!-- EPO <DP n="21"/>--> comparing the depth value (172) to a maximum and/or a minimum of the other depth values (174); and </claim-text><claim-text> establishing that the depth value is a depth outlier when the depth value is larger than the maximum and/or smaller than the minimum of the other depth values. </claim-text></claim><claim id="clm-0004" num="4"><claim-text>4. A signal processing device (100) according to claim 2, wherein the second outlier detector (140) is configured for: </claim-text><claim-text> comparing the image value (152) to a maximum and/or a minimum of the other image values (154); and </claim-text><claim-text>- establishing that the image value is not an image outlier when the image value is smaller than the maximum and/or larger than the minimum of the other image values. </claim-text></claim><claim id="clm-0005" num="5"><claim-text>5. A signal processing device (100) according to claim 1, wherein the depth value generator (180) is configured for providing as the replacement depth value (190) one of the other depth values (174) in the first spatial neighborhood (176). </claim-text></claim><claim id="clm-0006" num="6"><claim-text>6. A signal processing device (100) according to claim 5, wherein the depth value generator (180) is configured for providing as the replacement depth value (190) a maximum and/or a minimum of the other depth values (174) in the first spatial neighborhood (176). </claim-text></claim><claim id="clm-0007" num="7"><claim-text>7. A signal processing device (100) according to claim 1, wherein the depth value generator (180) is configured for applying a spatial filter to the first spatial </claim-text><claim-text>neighborhood (176) of the 2D depth data for providing as the replacement depth value (190) a spatially filtered depth value. </claim-text></claim><claim id="clm-0008" num="8"><claim-text>8. A signal processing device (100) according to claim 7, wherein the spatial filter is a spatial noise reduction filter for suppressing depth outliers. </claim-text></claim><claim id="clm-0009" num="9"><claim-text>9. A signal processing device (100) according to claim 1, wherein the first spatial neighborhood (176) and the second spatial neighborhood (156) extend predominantly in a horizontal direction. <!-- EPO <DP n="22"/>--> </claim-text></claim><claim id="clm-0010" num="10"><claim-text>10. A signal processing device (100) according to claim 9, wherein the first spatial neighborhood (176) comprises a horizontal line portion of the 2D depth data, and the second spatial neighborhood (156) comprises a corresponding horizontal line portion of the 2D image data. </claim-text></claim><claim id="clm-0011" num="11"><claim-text>11. A viewpoint generator (200) for displacing at least one part of the 2D image data (150) as a function of the 2D depth data (170) to generate further 2D image data (250), the viewpoint generator comprising the signal processing device (100) according to claim 1. </claim-text></claim><claim id="clm-0012" num="12"><claim-text>12. A depth data generator (300) for generating the 2D depth data (170) in dependence on the 2D image data (150), the depth data generator comprising the signal processing device (100) according to claim 1. </claim-text></claim><claim id="clm-0013" num="13"><claim-text>13. A method (400) for processing three-dimensional [3D] image data, the 3D image data comprising two-dimensional [2D] image data and thereto corresponding 2D depth data, and the method comprising: </claim-text><claim-text> receiving (420) the 2D image data and the 2D depth data; </claim-text><claim-text> establishing (440) a statistical depth deviation of a depth value from other depth values in a first spatial neighborhood of the 2D depth data; </claim-text><claim-text>- establishing (460) a statistical image deviation of an image value from other image values in a second spatial neighborhood of the 2D image data, the depth value representing a depth of the image value; and </claim-text><claim-text> in dependence on the statistical depth deviation and the statistical image deviation, providing (480) a replacement depth value when the statistical depth deviation exceeds the statistical image deviation, the replacement depth value having a lower statistical depth deviation than the depth value. </claim-text></claim><claim id="clm-0014" num="14"><claim-text>14. A computer program (520) comprising instructions for causing a processor system to perform the method according to claim 13. </claim-text></claim><claim id="clm-0015" num="15"><claim-text>15. A computer program (520) according to claim 14 embodied on a computer readable medium (500). </claim-text></claim></claims><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
