<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2678823-A1" country="EP" doc-number="2678823" kind="A1" date="20140101" family-id="44508464" file-reference-id="316853" date-produced="20180823" status="corrected" lang="FR"><bibliographic-data><publication-reference fvid="146550700" ucid="EP-2678823-A1"><document-id><country>EP</country><doc-number>2678823</doc-number><kind>A1</kind><date>20140101</date><lang>FR</lang></document-id></publication-reference><application-reference ucid="EP-12704435-A" is-representative="NO"><document-id mxw-id="PAPP154824623" load-source="docdb" format="epo"><country>EP</country><doc-number>12704435</doc-number><kind>A</kind><date>20120221</date><lang>FR</lang></document-id><document-id mxw-id="PAPP220438219" load-source="docdb" format="original"><country>EP</country><doc-number>12704435.2</doc-number><date>20120221</date></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140454892" ucid="EP-2012052943-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>EP</country><doc-number>2012052943</doc-number><kind>W</kind><date>20120221</date></document-id></priority-claim><priority-claim mxw-id="PPC140453520" ucid="FR-1151467-A" load-source="docdb"><document-id format="epo"><country>FR</country><doc-number>1151467</doc-number><kind>A</kind><date>20110223</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1988119539" load-source="docdb">H04N  13/00        20060101ALI20120913BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1988122790" load-source="docdb">G06T   7/00        20060101AFI20120913BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1642417250" load-source="docdb" scheme="CPC">H04N  13/398       20180501 FI20180510BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1645098822" load-source="docdb" scheme="CPC">H04N  13/106       20180501 LI20180504BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1645102511" load-source="docdb" scheme="CPC">H04N  13/128       20180501 LI20180504BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1806540619" load-source="docdb" scheme="CPC">G06T2207/20068     20130101 LA20170527BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1806540620" load-source="docdb" scheme="CPC">G06T2207/10012     20130101 LA20170527BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1806540621" load-source="docdb" scheme="CPC">G06T   7/97        20170101 LI20170527BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1806540622" load-source="docdb" scheme="CPC">G06T   7/593       20170101 LI20170527BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132184584" lang="DE" load-source="patent-office">VORRICHTUNG UND VERFAHREN ZUR HANDHABUNG DER POSITION DER FOKALEBENE BEI EINER STEREOSKOPISCHEN SZENE</invention-title><invention-title mxw-id="PT132184585" lang="EN" load-source="patent-office">DEVICE AND METHOD FOR MANAGING THE POSITION OF THE FOCAL PLANE IN A STEREOSCOPIC SCENE</invention-title><invention-title mxw-id="PT132184586" lang="FR" load-source="patent-office">DISPOSITIF ET PROCÉDÉ DE GESTION DE LA POSITION DU PLAN FOCAL DANS UNE SCÈNE STÉRÉOSCOPIQUE</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR918152838" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>MOBICLIP</last-name><address><country>FR</country></address></addressbook></applicant><applicant mxw-id="PPAR918137505" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>MOBICLIP</last-name></addressbook></applicant><applicant mxw-id="PPAR918985569" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Mobiclip</last-name><iid>101166426</iid><address><street>128 Rue de Rivoli</street><city>75001 Paris</city><country>FR</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR918152636" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>DELATTRE ALEXANDRE</last-name><address><country>FR</country></address></addressbook></inventor><inventor mxw-id="PPAR918157671" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>DELATTRE, ALEXANDRE</last-name></addressbook></inventor><inventor mxw-id="PPAR918989646" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>DELATTRE, ALEXANDRE</last-name><address><street>23bis rue Arthur Petit</street><city>F-78220 Viroflay</city><country>FR</country></address></addressbook></inventor><inventor mxw-id="PPAR918148912" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>LARRIEU JEROME</last-name><address><country>FR</country></address></addressbook></inventor><inventor mxw-id="PPAR918136349" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>LARRIEU, JEROME</last-name></addressbook></inventor><inventor mxw-id="PPAR918983873" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>LARRIEU, Jérôme</last-name><address><street>Maison Ondoenia Quartier Hasquette</street><city>F-64240 Hasparren</city><country>FR</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR918983424" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Maillet, Alain</last-name><suffix>et al</suffix><iid>101205837</iid><address><street>Cabinet le Guen Maillet 5, Place Newquay B.P. 70250</street><city>35802 Dinard Cedex</city><country>FR</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="EP-2012052943-W"><document-id><country>EP</country><doc-number>2012052943</doc-number><kind>W</kind><date>20120221</date><lang>FR</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2012113797-A1"><document-id><country>WO</country><doc-number>2012113797</doc-number><kind>A1</kind><date>20120830</date><lang>FR</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS548913570" load-source="docdb">AL</country><country mxw-id="DS548916510" load-source="docdb">AT</country><country mxw-id="DS548913571" load-source="docdb">BE</country><country mxw-id="DS548813024" load-source="docdb">BG</country><country mxw-id="DS548860868" load-source="docdb">CH</country><country mxw-id="DS548922867" load-source="docdb">CY</country><country mxw-id="DS548922868" load-source="docdb">CZ</country><country mxw-id="DS548896388" load-source="docdb">DE</country><country mxw-id="DS548913572" load-source="docdb">DK</country><country mxw-id="DS548913573" load-source="docdb">EE</country><country mxw-id="DS548915390" load-source="docdb">ES</country><country mxw-id="DS548813025" load-source="docdb">FI</country><country mxw-id="DS548813026" load-source="docdb">FR</country><country mxw-id="DS548896389" load-source="docdb">GB</country><country mxw-id="DS548913582" load-source="docdb">GR</country><country mxw-id="DS548896450" load-source="docdb">HR</country><country mxw-id="DS548922869" load-source="docdb">HU</country><country mxw-id="DS548860869" load-source="docdb">IE</country><country mxw-id="DS548913583" load-source="docdb">IS</country><country mxw-id="DS548813027" load-source="docdb">IT</country><country mxw-id="DS548913584" load-source="docdb">LI</country><country mxw-id="DS548896451" load-source="docdb">LT</country><country mxw-id="DS548916511" load-source="docdb">LU</country><country mxw-id="DS548813028" load-source="docdb">LV</country><country mxw-id="DS548896452" load-source="docdb">MC</country><country mxw-id="DS548916512" load-source="docdb">MK</country><country mxw-id="DS548916513" load-source="docdb">MT</country><country mxw-id="DS548913585" load-source="docdb">NL</country><country mxw-id="DS548896453" load-source="docdb">NO</country><country mxw-id="DS548913594" load-source="docdb">PL</country><country mxw-id="DS548813029" load-source="docdb">PT</country><country mxw-id="DS548922878" load-source="docdb">RO</country><country mxw-id="DS548813034" load-source="docdb">RS</country><country mxw-id="DS548913595" load-source="docdb">SE</country><country mxw-id="DS548860870" load-source="docdb">SI</country><country mxw-id="DS548896478" load-source="docdb">SK</country><country mxw-id="DS548896479" load-source="docdb">SM</country><country mxw-id="DS548916514" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data><office-specific-data><eptags><ep-no-a-document-published>*</ep-no-a-document-published></eptags></office-specific-data></bibliographic-data><abstract mxw-id="PA99625644" ref-ucid="WO-2012113797-A1" lang="EN" load-source="patent-office"><p num="0000">The invention relates to the field of stereoscopic vision systems, and more specifically to the management of the position of the focal plane in a stereoscopic scene. The aim of the invention is to provide a method for the management of the focal plane within an image or a sequence of stereoscopic images. A translation of the right and left images is carried out in order to position the focal plane in front of the visualised scene. Advantageously, the depth of the major objects of the scene is estimated by dividing images into a plurality of zones and estimating the depth of each zone. The depth of the focal plane is then calculated such that the main part of the scene is behind the focal plane.</p></abstract><abstract mxw-id="PA99824163" ref-ucid="WO-2012113797-A1" lang="EN" source="national office" load-source="docdb"><p>The invention relates to the field of stereoscopic vision systems, and more specifically to the management of the position of the focal plane in a stereoscopic scene. The aim of the invention is to provide a method for the management of the focal plane within an image or a sequence of stereoscopic images. A translation of the right and left images is carried out in order to position the focal plane in front of the visualised scene. Advantageously, the depth of the major objects of the scene is estimated by dividing images into a plurality of zones and estimating the depth of each zone. The depth of the focal plane is then calculated such that the main part of the scene is behind the focal plane.</p></abstract><abstract mxw-id="PA99625645" ref-ucid="WO-2012113797-A1" lang="FR" load-source="patent-office"><p num="0000">La présente invention concerne le domaine des systèmes de vision stéréoscopique et plus particulièrement la gestion de la position du plan focal dans une scène stéréoscopique. L'invention vise à proposer un procédé de gestion du plan focal au sein d'une image ou d'une séquence d'images stéréoscopiques. Une translation des images droite et gauche est effectuée pour placer le plan focal en avant de la scène visualisée. Avantageusement, la profondeur des objets majeurs de la scène est estimée par division des images en une pluralité de zones et estimation de la profondeur de chacune des zones. La profondeur du plan focal est alors calculée de façon à ce que l'essentiel de la scène soit derrière le plan focal.</p></abstract><abstract mxw-id="PA99824164" ref-ucid="WO-2012113797-A1" lang="FR" source="national office" load-source="docdb"><p>La présente invention concerne le domaine des systèmes de vision stéréoscopique et plus particulièrement la gestion de la position du plan focal dans une scène stéréoscopique. L'invention vise à proposer un procédé de gestion du plan focal au sein d'une image ou d'une séquence d'images stéréoscopiques. Une translation des images droite et gauche est effectuée pour placer le plan focal en avant de la scène visualisée. Avantageusement, la profondeur des objets majeurs de la scène est estimée par division des images en une pluralité de zones et estimation de la profondeur de chacune des zones. La profondeur du plan focal est alors calculée de façon à ce que l'essentiel de la scène soit derrière le plan focal.</p></abstract><description mxw-id="PDES50931337" ref-ucid="WO-2012113797-A1" lang="FR" load-source="patent-office"><!-- EPO <DP n="3"/>--><p id="p0001" num="0001"> Dispositif et procédé de gestion de la position du plan focal dans une scène </p><p id="p0002" num="0002"> stéréo scopique </p><p id="p0003" num="0003">La pré sente invention concerne le domaine des systèmes de vision stéréo scopique et plus particulièrement la gestion de la position du plan focal dans une scène stéréo scopique. </p><p id="p0004" num="0004"> Les images stéréoscopiques sont typiquement composées d'une image gauche et d'une image droite d'une même scène. Ces deux images sont prises par des caméras depuis un point de vue légèrement décalé. Généralement, les deux caméras sont parallèles et espacées de quelques centimètres. Une vidéo stéréo scopique est composée de deux flux vidéo, un flux vidéo gauche et un flux vidéo droit. </p><p id="p0005" num="0005"> La stéréoscopie est due à l' effet de parallaxe. Cet effet se traduit par le fait qu'un même objet apparaît dans les deux images, gauche et droite, légèrement translaté. La valeur de la translation dépend de la profondeur, c'est-à-dire la distance aux caméras, de l'objet. </p><p id="p0006" num="0006"> Sur l'exemple de la Fig. 1, un objet est visualisé sur un écran stéréo scopique 1.3. Les yeux 1.1 et 1.2 de l'utilisateur sont représentés. L'objet se situe sur l'image gauche au point 1.6 et sur l'image droite au point 1.5. Ces points sont distants d'une 
<!-- EPO <DP n="4"/>-->
 valeur de translation 1.7, cette valeur exprimée en translation dans l'image droite par rapport à l'image gauche est une translation négative. Lorsque les yeux de l'utilisateur vont s'accommoder pour visualiser ce point, il apparaîtra au point 1.4 comme se trouvant devant l'écran. </p><p id="p0007" num="0007"> Sur l'exemple de la Fig. 2, un objet est visualisé sur un écran stéréoscopique 2.3.</p><p id="p0008" num="0008">Les yeux 2.1 et 2.2 de l'utilisateur sont représentés. L'objet se situe sur l'image gauche au point 2.6 et sur l'image droite au point 2.5. Ces points sont distants d'une valeur de translation 2.7, cette valeur exprimée en translation dans l'image droite par rapport à l'image gauche est une translation positive. Lorsque les yeux de l'utilisateur vont s'accommoder pour visualiser ce point, il apparaîtra au point 2.4 comme se trouvant derrière l'écran. </p><p id="p0009" num="0009"> Sur l'exemple de la Fig. 3, un objet est visualisé sur un écran stéréoscopique 3.3. Les yeux 3. 1 et 3.2 de l 'utilisateur sont représentés. L'objet se situe sur l'image gauche au point 3.6 et sur l'image droite au point 3.5. Ces points se confondent, la translation pour ce point est nulle entre les deux images. Lorsque les yeux de l'utilisateur vont s'accommoder pour visualiser ce point, il apparaîtra au point 3.4 comme se trouvant au niveau de l'écran. </p><p id="p0010" num="0010"> Ces figures illustrent le fait que les points qui se superposent dans les images gauche et droite apparaissent sur l'écran. Les objets sujets à une valeur de translation négative, ou parallaxe négative, apparaissent devant l'écran. Les objets sujets à une valeur de translation positive, ou parallaxe positive, apparaissent derrière l'écran. La valeur de parallaxe est directement fonction de la profondeur de l'objet dans la scène capturée. </p><p id="p0011" num="0011"> On appelle plan focal d'une scène stéréoscopique, le plan perpendiculaire aux axes optiques des caméras situé à une profondeur donnée telle que tous les points représentant des objets dans ce plan sont représentés dans les images gauche et droite avec une parallaxe nulle. </p><p id="p0012" num="0012"> Les axes optiques des caméras réalisant la prise de vue stéréoscopique étant typiquement parallèles, les objets à l'infini se superposent parfaitement dans les deux images tandis que les objets plus près subissent une translation d'autant plus forte que l'objet est proche des caméras. Les images prises par un tel système ont donc un plan focal à l'infini. Lorsqu'elles sont projetées sur un écran, l'intégralité de la scène est située devant cet écran. On constate que la visualisation d'une vidéo stéréoscopique où le plan focal est ainsi situé à l'infini tend à être inconfortable à l'œil. Un plan focal 
<!-- EPO <DP n="5"/>-->
 situé globalement devant la scène avec de rares objets qui peuvent se situer devant le plan focal est beaucoup plus confortable à visualiser. </p><p id="p0013" num="0013"> L'invention vise à proposer un procédé de gestion du plan focal au sein d'une image ou d'une séquence d'images stéréo scopique s. Une translation des images droite et gauche est effectuée pour placer le plan focal en avant de la scène visualisée. Avantageusement, la profondeur des objets majeurs de la scène est estimée par division des images en une pluralité de zones et estimation de la profondeur de chacune des zones. La profondeur du plan focal est alors calculée de façon à ce que l'essentiel de la scène soit derrière le plan focal. </p><p id="p0014" num="0014"> L'invention concerne un procédé de gestion de la position du plan focal dans une scène stéréoscopique représentée par une image gauche et une image droite qui comporte une étape de détermination d'au moins une zone dans les deux images ; une étape de calcul de la valeur de translation dominante pour chacune des zones ; une étape de détermination d'une valeur de translation relative entre les images gauche et droite en fonction des valeurs de translation dominantes de chacune des zones et une étape de translation relative des deux images gauche et droite de ladite valeur précédemment déterminée. </p><p id="p0015" num="0015"> Selon un mode particulier de réalisation de l'invention, l'étape de calcul de la valeur de translation dominante pour chacune des zones comprend une étape de projection de la zone gauche et de la zone droite sur une ligne gauche et une ligne droite ; une étape de calcul de la corrélation entre la ligne gauche et la ligne droite pour plusieurs valeurs de translation et une étape de détermination de la valeur de translation pour laquelle la corrélation est la meilleure. </p><p id="p0016" num="0016"> Selon un mode particulier de réalisation de l'invention, l'étape de détermination d'une valeur de translation relative entre les images gauche et droite comprend une étape de classement des valeurs de translation dominantes de chaque zone par groupe de valeurs proches ; une étape de calcul de la valeur moyenne des valeurs de translation dominantes au sein de chaque groupe et une étape de choix de la valeur moyenne la plus forte qui correspond au groupe le plus proche, comme valeur de translation relative entre les images gauche et droite. </p><p id="p0017" num="0017"> Selon un mode particulier de réalisation de l'invention, le procédé comprend en outre une étape d'élimination des zones pour lesquelles la valeur de translation dominante obtenue est aberrante. 
<!-- EPO <DP n="6"/>-->
 Selon un mode particulier de réalisation de l'invention, le procédé comprend en outre une étape d'élimination des groupes de zones ne contenant pas un nombre de zones au moins égal à un seuil donné. </p><p id="p0018" num="0018"> L'invention concerne également un dispositif de prise de vue ou de visualisation stéréoscopique caractérisé en ce qu'il comporte des moyens de gestion de la position du plan focal dans une scène stéréoscopique représentée par une image gauche et une image droite comportant des moyens pour déterminer au moins une zone dans les deux images ; des moyens pour calculer la valeur de translation dominante pour chacune des zones ; des moyens pour déterminer une valeur de translation relative entre les images gauche et droite en fonction des valeurs de translation dominantes de chacune des zones et des moyens pour effectuer une translation relative des deux images gauche et droite de ladite valeur précédemment déterminée. </p><p id="p0019" num="0019"> Les caractéristiques de l'invention mentionnées ci-dessus, ainsi que d'autres, apparaîtront plus clairement à la lecture de la description suivante d'un exemple de réalisation, ladite description étant faite en relation avec les dessins joints, parmi lesquels : </p><p id="p0020" num="0020"> La Fig. 1 illustre les positions d'un point apparaissant derrière le plan focal. La Fig. 2 illustre les positions d'un point apparaissant devant le plan focal. </p><p id="p0021" num="0021"> La Fig. 3 illustre les positions d'un point apparaissant dans le plan focal. </p><p id="p0022" num="0022"> La Fig. 4 illustre le procédé de déplacement du plan focal dans l'exemple de réalisation de l'invention. </p><p id="p0023" num="0023"> La Fig. 5 illustre un exemple de réalisation du procédé de gestion du plan focal. La Fig. 6 illustre un découpage par zone d'une image. </p><p id="p0024" num="0024"> La Fig. 7 illustre la projection sur une ligne d'une zone. </p><p id="p0025" num="0025"> La Fig. 4 illustre le procédé de déplacement du plan focal. Une scène comprend des objets 4.1, 4.2 et 4.3 situés chacun à une profondeur donnée telle que visualisée par un observateur 4.4. La scène est visualisée sur un écran 4.5. Pour l'observateur 4.4, le plan focal de la scène se confond avec l'écran. Les objets apparaissent devant l'écran ou derrière l'écran s'ils se trouvent devant le plan focal ou derrière le plan focal. </p><p id="p0026" num="0026"> La scène est créée à partir d'une image gauche 4.7 et d'une image droite 4.8 qui chacune représentent la scène et ses objets. Nous avons vu que le plan focal correspond aux obj ets dont la localisation dans les images gauche et droite se 
<!-- EPO <DP n="7"/>-->
 superpose. Les objets hors du plan focal subissent une parallaxe, négative pour les objets devant le plan focal et positive pour les objets derrière le plan focal. </p><p id="p0027" num="0027"> Si l'on veut que le plan focal soit situé au niveau de l'objet 4.3, par exemple, il suffit d'effectuer une translation relative des images gauche et droite pour que l'objet 4.3 se superpose dans les deux images. Le plan focal vient alors dans la position 4.10. De même, si l'on veut que le plan focal soit situé au niveau de l'objet 4.1, par exemple, il suffit d'effectuer une translation relative des images gauche et droite pour que l'objet 4.1 se superpose dans les deux images. Le plan focal vient alors dans la position 4.11. </p><p id="p0028" num="0028"> On constate donc que l'on peut j ouer sur la profondeur 4.6 du plan focal en effectuant des translations relatives 4.9 entre les images gauche et droite de la scène. </p><p id="p0029" num="0029"> Lors de la prise de vue, les caméras ont un axe optique parallèle. De ce fait, les images gauche et droite se superposent pour les objets à l'infini. Lorsque de telles scènes sont visualisées sur l'écran, l'intégralité de la scène apparaît donc devant le plan focal et donc comme « sortant » de l'écran. La visualisation nécessite alors de constants ajustements de l'accommodation dans une zone proche des yeux et se révèle inconfortable. </p><p id="p0030" num="0030"> Il est donc avantageux de déplacer le plan focal des images d'une séquence stéréo scopique pour faire « reculer » la scène. On peut montrer que la séquence est confortable à visualiser lorsque l'essentiel de la scène se trouve derrière l'écran et que seuls de rares objets viennent à passer devant l'écran. </p><p id="p0031" num="0031"> Pour ce faire, il faut donc calculer la valeur de translation relative que l'on doit appliquer aux images gauche et droite pour déplacer le plan focal et le positionner à une valeur de profondeur donnée. Cette valeur de profondeur est calculée en fonction d'une mesure des profondeurs des obj ets présents dans la scène. Lorsque l' on a mesuré ces profondeurs, on détermine une profondeur telle que l'essentiel de la scène se trouve derrière le plan focal. On considère que c'est le cas par exemple lorsque plus de 50% de la surface des images apparaît comme située derrière le plan focal. </p><p id="p0032" num="0032"> Avantageusement, il n'est pas nécessaire de calculer effectivement les valeurs de profondeur. La profondeur étant liée à la valeur de parallaxe et donc à la valeur de translation, on peut se contenter de calculer les valeurs de translation pour les différents objets de la scène et appliquer une valeur de translation relative aux images calculée en fonction de ces valeurs de translation pour les objets. 
<!-- EPO <DP n="8"/>-->
 Plusieurs politiques de gestion du plan focal peuvent être adoptées ici. Selon un premier exemple de réalisation, on cherche à placer le plan focal de façon à ce que l'essentiel de la scène soit derrière le plan focal. </p><p id="p0033" num="0033"> Un exemple de réalisation du procédé de gestion du plan focal selon ce premier mode de réalisation est illustré par la Fig. 5. Lors d'une première étape 5.1, on détermine dans les images gauche et droite au moins une zone. En effet, selon certains modes de réalisation, on analyse l'ensemble de l'image ou on se concentre sur une zone d'intérêt dans l'image, typiquement une zone centrale. Selon d'autres modes de réalisation, on divise les images en une pluralité de zones. On calcule alors les valeurs, appelées Z, de translation dominante de chacune des zones de l'image. Le découpage peut se faire, par exemple, selon le procédé illustré par la Fig. 6. Dans l'exemple de réalisation, une image 6.1 est divisée en un ensemble de zones 6.2 ici déterminées par un quadrillage équitable en 9 zones. </p><p id="p0034" num="0034"> Chaque zone est projetée sur une ligne selon le schéma de la Fig. 7. Une zone 7.2 ou chaque colonne est sommée selon l'opération 7.3 pour donner une seule ligne 7.4. De cette façon on obtient une ligne qui est représentative de la zone selon l'axe horizontal. </p><p id="p0035" num="0035"> On cherche alors à déterminer la parallaxe dominant sur la zone par une corrélation de la ligne gauche obtenue pour la zone dans l'image gauche avec la ligne droite obtenue pour la zone dans l'image droite. La corrélation est faite par somme des valeurs absolues des différences pour chaque valeur testée de translation desdites lignes. On détermine ainsi la translation horizontale pour laquelle la corrélation est la meilleure et on en déduit la translation Z dominante pour la zone. </p><p id="p0036" num="0036"> La corrélation peut être faite par tout autre moyen, par exemple par somme des carrés des différences. Alternativement, la translation peut également être déterminée par calcul de la transformée de Fourier des lignes gauche et droite que l'on divise ensuite membre à membre. On calcule alors la transformée de Fourier inverse. L'indice de la valeur de norme maximale au sens des nombres complexes donne alors la valeur de translation optimale. </p><p id="p0037" num="0037"> Alternativement, la translation peut également être déterminée par calcul direct des parallaxes en deux dimensions, par exemple par comparaison de sous-blocs de l'image, c'est à dire sans projection préalable des images sur des lignes. Cette méthode étant naturellement plus précise mais plus lente. 
<!-- EPO <DP n="9"/>-->
 Le fait de faire la corrélation sur la projection de chaque zone sur une ligne apporte un gain en termes de temps de calcul par rapport à une corrélation faite sur l'intégralité de la zone. Du fait que la translation que l'on cherche à mesurer est une translation uniquement horizontale, le résultat est fiable. C'est particulièrement important lorsque le procédé est appliqué en temps réel lors de la restitution de la scène sur un appareil possédant une ressource de calcul limitée. </p><p id="p0038" num="0038"> Lors d'une étape 5.2, on élimine avantageusement les zones pour lesquelles la valeur de translation dominante obtenue est aberrante s'il y en a. C'est-à-dire des valeurs trop petites ou trop grandes ou encore trop différentes des autres valeurs obtenues. Cette étape est optionnelle. </p><p id="p0039" num="0039"> Lors d'une étape 5.3, les valeurs de translation obtenues sont regroupées en groupes de valeurs proches. L'idée est ici de regrouper des zones de l'image représentant des objets proches en termes de profondeur. </p><p id="p0040" num="0040"> Avantageusement, pour ne tenir compte que des groupes correspondant à des zones de taille significative de l'image, on fixe un seuil sur la taille minimale d'un groupe en nombre de zones lors d'une étape 5.4. On ne retient alors que les groupes ayant un nombre minimum de membres. Par exemple, on élimine les groupes constitués d'un seul élément. On cherche à diviser l'image en groupes significatifs de profondeurs. On se concentre ainsi sur les objets d'une certaine taille à l'écran. </p><p id="p0041" num="0041"> On utilise alors cette connaissance des translations relatives aux différents objets significatifs de l'image pour placer le plan focal. Selon l'exemple de réalisation, lors de l'étape 5.5, on calcule les moyennes des différentes valeurs de translation dominantes obtenues pour chaque zone. On choisit alors la valeur moyenne la plus forte qui correspond au groupe significatif le plus proche. De cette façon, on place le plan focal en avant de la scène. Il est touj ours possible que certains obj ets, par exemple éliminés lors de l'opération de seuillage 5.4, ou trop petits pour influencer notablement la translation d'une zone donnée, se trouvent devant le plan focal. Toutefois, l'essentiel de la scène se trouve ainsi positionné en arrière du plan focal. </p><p id="p0042" num="0042"> Lors de l'étape 5.6, on effectue alors la translation relative entre les images gauche et droite pour placer effectivement le plan focal à la profondeur déterminée. Cette translation peut être effectuée sur l'image droite par rapport à l'image gauche, ou sur l'image gauche par rapport à l'image droite. Il est également possible de répartir la translation sur les deux images. 
<!-- EPO <DP n="10"/>-->
 Selon un autre mode de réalisation, on cherche à placer l'objet principal de la scène au niveau du plan focal. Pour ce faire, par exemple, on définit une seule zone dans l'image, typiquement une zone centrale. On calcule alors comme précédemment la profondeur de cette zone, ou simplement la translation correspondante et on l ' applique aux images pour placer le plan focal au niveau de cette zone. Alternativement, on peut aussi choisir de placer le plan focal au niveau de profondeur du groupe ayant le plus de membres dans l'algorithme décrit précédemment. </p><p id="p0043" num="0043"> Selon un autre mode de réalisation, on cherche à placer la scène loin derrière le plan focal pour obtenir un grand confort visuel, surtout si l'écran est proche des yeux. Dans ce cas on peut prendre la profondeur minimale sur l'ensemble des zones, c'est-à- dire la translation maximale, ou encore une valeur diminuée d'un pourcentage donné de cette profondeur minimale. </p><p id="p0044" num="0044"> Ce procédé peut être utilisé sur une image fixe constituée d'une seule image gauche et d'une seule image droite. Il peut également être utilisé sur une séquence d'image stéréoscopique. Dans ce dernier cas, il peut être effectué comme traitement sur la séquence en dehors du processus de visualisation ou encore être effectué en temps réel lors de la visualisation ou lors de la prise de vue. Ce dernier mode de réalisation est particulièrement intéressant lorsqu'il est intégré dans un appareil de prise de vue et de restitution stéréoscopique. On peut, par exemple, l'intégrer dans un appareil tel qu'un téléphone mobile intégrant un système de pri se de vue stéréoscopique, une console de jeux portable, ou une caméra stéréoscopique. 
</p></description><claims mxw-id="PCLM44727291" ref-ucid="WO-2012113797-A1" lang="FR" load-source="patent-office"><claim id="clm-0001" num="0001"><!-- EPO <DP n="11"/>--><claim-text/><claim-text>REVENDICATIONS </claim-text><claim-text>1/ Procédé de gestion de la position du plan focal dans une scène stéréo scopique représentée par une image gauche et une image droite caractérisé en ce qu'il comporte : </claim-text><claim-text> - une étape de détermination d'au moins une zone dans les deux images ;</claim-text><claim-text>- une étape de calcul de la valeur de translation dominante, pour laquelle la corrélation est la meilleure, pour chacune des zones ; </claim-text><claim-text> - une étape de détermination d'une valeur de translation relative entre les images gauche et droite en fonction des valeurs de translation dominantes de chacune des zones de façon à positionner l'essentiel de la scène en arrière du plan focal ; </claim-text><claim-text> - une étape de translation relative des deux images gauche et droite de ladite valeur précédemment déterminée. </claim-text><claim-text>21 Procédé selon la revendication 1, caractérisé en ce que l'étape de calcul de la valeur de translation dominante pour chacune des zones comprend : </claim-text><claim-text> - une étape de projection de la zone gauche et de la zone droite sur une ligne gauche et une ligne droite ; </claim-text><claim-text> - une étape de calcul de la corrélation entre la ligne gauche et la ligne droite pour plusieurs valeurs de translation ; </claim-text><claim-text> - une étape de détermination de la valeur de translation pour laquelle la corrélation est la meilleure. 3/ Procédé selon l'une des revendications 1 ou 2, caractérisé en ce que l'étape de détermination d'une valeur de translation relative entre les images gauche et droite comprend : </claim-text><claim-text> - une étape de classement des valeurs de translation dominantes de chaque zone par groupe de valeurs proches ; </claim-text><claim-text> - une étape de calcul de la valeur moyenne des valeurs de translation dominantes au sein de chaque groupe ; </claim-text><claim-text> - une étape de choix de la valeur moyenne la plus forte qui correspond au groupe le plus proche, comme valeur de translation relative entre les images gauche et droite. 
<!-- EPO <DP n="12"/>-->
 4/ Procédé selon la revendication 3, caractérisé en ce qu'il comprend en outre une étape d'élimination des zones pour lesquelles la valeur de translation dominante obtenue est aberrante. </claim-text><claim-text>5/ Procédé selon la revendication 4, caractérisé en ce qu'il comprend en outre une étape d'élimination des groupes de zones ne contenant pas un nombre de zones au moins égal à un seuil donné. 6/ Dispositif de prise de vue ou de visualisation stéréoscopique caractérisé en ce qu'il comporte des moyens de gestion de la position du plan focal dans une scène stéréoscopique représentée par une image gauche et une image droite comportant : </claim-text><claim-text> des moyens pour déterminer au moins une zone dans les deux images ; </claim-text><claim-text> des moyens pour calculer la valeur de translation dominante pour chacune des zones ; </claim-text><claim-text> des moyens pour déterminer une valeur de translation relative entre les images gauche et droite en fonction des valeurs de translation dominantes de chacune des zones ; </claim-text><claim-text> des moyens pour effectuer une translation relative des deux images gauche et droite de ladite valeur précédemment déterminée. 
</claim-text></claim></claims><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
