<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2679460-A1" country="EP" doc-number="2679460" kind="A1" date="20140101" family-id="46720250" file-reference-id="318288" date-produced="20180823" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146550092" ucid="EP-2679460-A1"><document-id><country>EP</country><doc-number>2679460</doc-number><kind>A1</kind><date>20140101</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-11859079-A" is-representative="YES"><document-id mxw-id="PAPP154824015" load-source="docdb" format="epo"><country>EP</country><doc-number>11859079</doc-number><kind>A</kind><date>20110221</date><lang>JA</lang></document-id><document-id mxw-id="PAPP195456480" load-source="docdb" format="original"><country>EP</country><doc-number>11859079.3</doc-number><date>20110221</date><lang>JA</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140447604" ucid="JP-2011053689-W" linkage-type="A" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>2011053689</doc-number><kind>W</kind><date>20110221</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-1976546951" load-source="docdb">B60W  10/08        20060101AFI20160125BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1976547320" load-source="docdb">B60W  10/26        20060101ALI20160125BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1976548963" load-source="docdb">B60W  10/06        20060101ALI20160125BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1976550482" load-source="docdb">B60K   6/445       20071001ALI20160125BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1976550926" load-source="docdb">B60W  20/00        20160101ALI20160125BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1796773456" load-source="docdb" scheme="CPC">Y02T  10/84        20130101 LA20170627BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1809719447" load-source="docdb" scheme="CPC">B60W2540/10        20130101 LA20170523BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1809719449" load-source="docdb" scheme="CPC">B60W2510/244       20130101 LA20170523BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1809719450" load-source="docdb" scheme="CPC">B60W  20/13        20160115 FI20170522BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1809719451" load-source="docdb" scheme="CPC">B60W  10/26        20130101 LI20170522BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1981051259" load-source="docdb" scheme="CPC">Y02T  10/7258      20130101 LA20160120BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2117098009" load-source="docdb" scheme="CPC">Y02T  10/92        20130101 LA20150115BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988102574" load-source="docdb" scheme="CPC">B60W  20/10        20130101 LI20130610BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988113776" load-source="docdb" scheme="CPC">B60W2710/0677      20130101 LA20130610BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988117928" load-source="docdb" scheme="CPC">B60K   6/365       20130101 LI20130610BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988120780" load-source="docdb" scheme="CPC">Y02T  10/56        20130101 LA20130724BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988123171" load-source="docdb" scheme="CPC">B60W2520/10        20130101 LA20130610BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988123920" load-source="docdb" scheme="CPC">Y02T  10/6286      20130101 LA20130808BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988132207" load-source="docdb" scheme="CPC">Y02T  10/6239      20130101 LA20130808BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988133755" load-source="docdb" scheme="CPC">B60W  30/1882      20130101 LI20130610BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988137279" load-source="docdb" scheme="CPC">B60W2710/086       20130101 LA20130610BHEP        </classification-cpc><classification-cpc mxw-id="PCL2065211345" load-source="docdb" scheme="CPC">B60K   6/445       20130101 LI20140328BHEP        </classification-cpc><classification-cpc mxw-id="PCL2065213575" load-source="docdb" scheme="CPC">Y10S 903/93        20130101 LA20140320BHEP        </classification-cpc><classification-cpc mxw-id="PCL2065216044" load-source="docdb" scheme="CPC">B60W  10/06        20130101 LI20140328BHEP        </classification-cpc><classification-cpc mxw-id="PCL2065217845" load-source="docdb" scheme="CPC">B60W  10/08        20130101 LI20140328BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132182760" lang="DE" load-source="patent-office">STEUERUNGSVORRICHTUNG FÜR EIN HYBRIDFAHRZEUG</invention-title><invention-title mxw-id="PT132182761" lang="EN" load-source="patent-office">DRIVE CONTROL DEVICE OF HYBRID VEHICLE</invention-title><invention-title mxw-id="PT132182762" lang="FR" load-source="patent-office">DISPOSITIF DE COMMANDE D'ENTRAÎNEMENT DE VÉHICULE HYBRIDE</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR918161481" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>SUZUKI MOTOR CORP</last-name><address><country>JP</country></address></addressbook></applicant><applicant mxw-id="PPAR918137092" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>SUZUKI MOTOR CORPORATION</last-name></addressbook></applicant><applicant mxw-id="PPAR918984181" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Suzuki Motor Corporation</last-name><iid>101262521</iid><address><street>300, Takatsuka-Cho Minami-Ku</street><city>Hamamatsu, Shizuoka 432-8611</city><country>JP</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR918135749" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>SAITO MASAKAZU</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918137793" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>SAITO, MASAKAZU</last-name></addressbook></inventor><inventor mxw-id="PPAR918988012" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>SAITO, MASAKAZU</last-name><address><street>c/o Suzuki Motor Corporation 300 Takatsuka-cho Minami-ku</street><city>Hamamatsu-shi Shizuoka 432-8611</city><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918140281" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>ITO YOSHIKI</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918134991" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>ITO, YOSHIKI</last-name></addressbook></inventor><inventor mxw-id="PPAR918984701" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>ITO, YOSHIKI</last-name><address><street>c/o Suzuki Motor Corporation 300 Takatsuka-cho Minami-ku</street><city>Hamamatsu-shi Shizuoka 432-8611</city><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918168575" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>TAGAWA MASAAKI</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918135836" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>TAGAWA, Masaaki</last-name></addressbook></inventor><inventor mxw-id="PPAR918989204" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>TAGAWA, Masaaki</last-name><address><street>c/o Suzuki Motor Corporation 300 Takatsuka-cho Minami-ku</street><city>Hamamatsu-shi Shizuoka 432-8611</city><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918132739" load-source="docdb" sequence="4" format="epo"><addressbook><last-name>OHKUMA Hitoshi</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918162277" load-source="docdb" sequence="4" format="intermediate"><addressbook><last-name>OHKUMA, Hitoshi</last-name></addressbook></inventor><inventor mxw-id="PPAR918980255" load-source="patent-office" sequence="4" format="original"><addressbook><last-name>OHKUMA, Hitoshi</last-name><address><street>c/o Suzuki Motor Corporation 300 Takatsuka-cho Minami-ku</street><city>Hamamatsu-shi Shizuoka 432-8611</city><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918134917" load-source="docdb" sequence="5" format="epo"><addressbook><last-name>HOSOE Yukihiro</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918158654" load-source="docdb" sequence="5" format="intermediate"><addressbook><last-name>HOSOE, Yukihiro</last-name></addressbook></inventor><inventor mxw-id="PPAR918989403" load-source="patent-office" sequence="5" format="original"><addressbook><last-name>HOSOE, Yukihiro</last-name><address><street>c/o Suzuki Motor Corporation 300 Takatsuka-cho Minami-ku</street><city>Hamamatsu-shi Shizuoka 432-8611</city><country>JP</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR918979717" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Hirsch &amp; Associés</last-name><iid>100061101</iid><address><street>58, avenue Marceau</street><city>75008 Paris</city><country>FR</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="JP-2011053689-W"><document-id><country>JP</country><doc-number>2011053689</doc-number><kind>W</kind><date>20110221</date><lang>JA</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2012114429-A1"><document-id><country>WO</country><doc-number>2012114429</doc-number><kind>A1</kind><date>20120830</date><lang>JA</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS548906395" load-source="docdb">AL</country><country mxw-id="DS548822566" load-source="docdb">AT</country><country mxw-id="DS548906396" load-source="docdb">BE</country><country mxw-id="DS548890203" load-source="docdb">BG</country><country mxw-id="DS548809546" load-source="docdb">CH</country><country mxw-id="DS548901566" load-source="docdb">CY</country><country mxw-id="DS548822567" load-source="docdb">CZ</country><country mxw-id="DS548906397" load-source="docdb">DE</country><country mxw-id="DS548901567" load-source="docdb">DK</country><country mxw-id="DS548901568" load-source="docdb">EE</country><country mxw-id="DS548853506" load-source="docdb">ES</country><country mxw-id="DS548890204" load-source="docdb">FI</country><country mxw-id="DS548890205" load-source="docdb">FR</country><country mxw-id="DS548906402" load-source="docdb">GB</country><country mxw-id="DS548901569" load-source="docdb">GR</country><country mxw-id="DS548906403" load-source="docdb">HR</country><country mxw-id="DS548822568" load-source="docdb">HU</country><country mxw-id="DS548809547" load-source="docdb">IE</country><country mxw-id="DS548901570" load-source="docdb">IS</country><country mxw-id="DS548890206" load-source="docdb">IT</country><country mxw-id="DS548901571" load-source="docdb">LI</country><country mxw-id="DS548899420" load-source="docdb">LT</country><country mxw-id="DS548896489" load-source="docdb">LU</country><country mxw-id="DS548899421" load-source="docdb">LV</country><country mxw-id="DS548899426" load-source="docdb">MC</country><country mxw-id="DS548896506" load-source="docdb">MK</country><country mxw-id="DS548896507" load-source="docdb">MT</country><country mxw-id="DS548890207" load-source="docdb">NL</country><country mxw-id="DS548853507" load-source="docdb">NO</country><country mxw-id="DS548809548" load-source="docdb">PL</country><country mxw-id="DS548896508" load-source="docdb">PT</country><country mxw-id="DS548890208" load-source="docdb">RO</country><country mxw-id="DS548896509" load-source="docdb">RS</country><country mxw-id="DS548809549" load-source="docdb">SE</country><country mxw-id="DS548822569" load-source="docdb">SI</country><country mxw-id="DS548853508" load-source="docdb">SK</country><country mxw-id="DS548809550" load-source="docdb">SM</country><country mxw-id="DS548899427" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA128670759" lang="EN" load-source="patent-office"><p id="pa01" num="0001">In a drive control apparatus (1) of a hybrid vehicle, provisional target engine power calculating means (17D) of control means (17) compares provisional target engine power which is calculated from a target drive power and a target charge/discharge power with a target engine power lower limit value and, when the provisional target engine power is smaller than the target engine power lower limit value, sets the target engine power lower limit value to the provisional target engine power.</p><p id="pa02" num="0002">Motor torque instruction value operating means (17L) of the control means (17) calculates a torque instruction value of each of a plurality of motor generators (4, 5) by using a torque balance equation including a target engine torque which is obtained from a target engine operation point and an electric power balance equation including a target electric power.</p><p id="pa03" num="0003">Thus, such a situation that the target engine power is set to a low power in dependence on a vehicle speed is reduced, and when a large drive force is requested, an output can be raised so as to make a response to such a request.<img id="iaf01" file="imgaf001.tif" wi="78" he="79" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA128500132" lang="EN" source="EPO" load-source="docdb"><p>In a drive control apparatus (1) of a hybrid vehicle, provisional target engine power calculating means (17D) of control means (17) compares provisional target engine power which is calculated from a target drive power and a target charge/discharge power with a target engine power lower limit value and, when the provisional target engine power is smaller than the target engine power lower limit value, sets the target engine power lower limit value to the provisional target engine power.  Motor torque instruction value operating means (17L) of the control means (17) calculates a torque instruction value of each of a plurality of motor generators (4, 5) by using a torque balance equation including a target engine torque which is obtained from a target engine operation point and an electric power balance equation including a target electric power.  Thus, such a situation that the target engine power is set to a low power in dependence on a vehicle speed is reduced, and when a large drive force is requested, an output can be raised so as to make a response to such a request.</p></abstract><description mxw-id="PDES63956189" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001">Technical Field</heading><p id="p0001" num="0001">The invention relates to a drive control apparatus of a hybrid vehicle and, more particularly, to a drive control apparatus of a hybrid vehicle which has a plurality of motive power sources and synthesizes motive powers by a power transmission mechanism and inputs/outputs to/from a drive axis, wherein an operation point of an internal combustion engine (engine operation point) in the case where a high drive force is necessary at a low vehicle speed and a motor torque for performing power assistance by an electric power of a battery are controlled.</p><heading id="h0002">Background Art</heading><p id="p0002" num="0002">As a vehicle, there is a hybrid vehicle for driving and controlling a vehicle by using outputs from an internal combustion engine and a plurality of motor generators (electric motors) as drive sources.<br/>
As such a hybrid vehicle, there are a series system (the internal combustion engine is used only to rotate the power generator and the whole driving is performed by the motor generators) and a parallel system (the internal combustion engine and the motor generator are arranged in parallel and their motive powers are used for driving).<br/>
<!-- EPO <DP n="2"> -->In the hybrid vehicle, as another system of the series system and the parallel system, there is such a system that as a power transmission mechanism of a triaxial type, a motive power of an internal combustion engine is divided to a power generator and a drive axis by using one planetary gear mechanism (differential gear mechanism having three rotational elements) and two motor generators (first motor generator: MG1, second motor generator: MG2) as a motor generator and the motor generator provided for a drive axis is driven by using an electric power generated by the power generator, thereby torque converting the motive power of the internal combustion engine (the Official Gazette of Japanese Patent No. <patcit id="pcit0001" dnum="JP3050125B"><text>3050125</text></patcit>, the Official Gazette of Japanese Patent No. <patcit id="pcit0002" dnum="JP3050138B"><text>3050138</text></patcit>, the Official Gazette of Japanese Patent No. <patcit id="pcit0003" dnum="JP3050141B"><text>3050141</text></patcit>, the Official Gazette of Japanese Patent No. <patcit id="pcit0004" dnum="JP3097572B"><text>3097572</text></patcit>).<br/>
Thus, in the hybrid vehicle, the operation point of the internal combustion engine (engine operation point) can be set to an arbitrary point where a stop is included and fuel consumption is improved.</p><heading id="h0003">Citation List</heading><heading id="h0004">Patent Literature</heading><p id="p0003" num="0003"><ul><li>PTL1: The Official Gazette of <patcit id="pcit0005" dnum="JP2008012992A"><text>JP-A-2008-12992</text></patcit></li></ul></p><p id="p0004" num="0004">In a drive control apparatus of a hybrid vehicle according to Patent Literature 1, in the case of a same engine<!-- EPO <DP n="3"> --> power, the higher a vehicle speed is, the higher an engine rotational speed at a target engine operation point is.</p><heading id="h0005">Summary of Invention</heading><heading id="h0006">Technical Problem</heading><p id="p0005" num="0005">In the related art, in a hybrid vehicle, although not particularly similar to the series system, since a motor generator having a relatively large torque is necessary in order to obtain a sufficient torque of a drive axis and a transmission/reception amount of an electric power between the power generator and the motor generator increases in a LOW gear ratio range, an electrical loss increases and there is still a room for improvement.<br/>
As a method of solving such a point, as a power transmission mechanism of a quadruple type, there is such a structure that an output axis of an internal combustion engine, a first motor generator, a second motor generator, and a drive axis connected to a drive wheel are connected to each rotational element of the power transmission mechanism (differential gear mechanism) having four rotational elements and a motive power of the internal combustion engine and motive powers of the first motor generator and the second motor generator are synthesized and output to the drive axis. The output axis of the internal combustion engine and the drive axis are arranged to the inside rotational elements on a collinear diagram and the first motor generator on the internal combustion engine side<!-- EPO <DP n="4"> --> and the second motor generator on the drive axis side are arranged to the outside rotational elements on a collinear diagram, thereby decreasing a ratio of the motive powers which are transmitted by the first and second motor generators in the motive power which is transmitted from the internal combustion engine to the drive axis, miniaturizing the first and second motor generators, and improving a transmission efficiency as a driving apparatus (the Official Gazette of <patcit id="pcit0006" dnum="JP2004015982A"><text>JP-A-2004-15982</text></patcit>, the Official Gazette of <patcit id="pcit0007" dnum="JP2002281607A"><text>JP-A-2002-281607</text></patcit>).<br/>
As a power transmission mechanism of the quadruple type, there is such a structure that a method similar to that of the foregoing structure is used and, further, the fifth rotational element is added and a brake for stopping a rotation of the fifth rotational element is provided (the Official Gazette of Japanese Patent No. <patcit id="pcit0008" dnum="JP3578451B"><text>3578451</text></patcit>).<br/>
In the foregoing power transmission mechanism of the triaxial type disclosed in the Official Gazette of Japanese Patent No. <patcit id="pcit0009" dnum="JP3050125B"><text>3050125</text></patcit>, by adding a drive force which is required for the vehicle and the electric power which is required to charge a battery, a power to be generated by the internal combustion engine is calculated, and a point where an efficiency is as high as possible is calculated from a combination of a torque serving as such a power and an engine rotational speed and is used as a target engine operation point. The first motor generator is driven and controlled so that the engine operation point becomes the<!-- EPO <DP n="5"> --> target engine operation point, thereby controlling the engine rotational speed.</p><p id="p0006" num="0006">However, in the case of the power transmission mechanism of the triaxial type, since the torque of the second motor generator does not exert an influence on a torque balance, if a torque which is output to a drive axis by the internal combustion engine and the first motor generator is calculated from the torque of the first motor generator obtained by feedback controlling the torque of the first motor generator so that the engine rotational speed approaches a target value and the torque of the second motor generator is controlled so as to be equal to a value obtained by subtracting a value of the calculated torque from a target drive force, even when the engine torque fluctuates, the target drive force can be output from the drive axis.<br/>
However, in the case of the power transmission mechanism of the quadruple type, since the drive axis and the secondmotor generator have different axes and the torque of the second motor generator also exerts an influence on the torque balance and exerts an influence on the control of the engine rotational speed, the control method of the power transmission mechanism of the triaxial type mentioned above cannot be used.<br/>
In the case of the foregoing power transmission mechanism of the quadruple type disclosed in the Official Gazette of <patcit id="pcit0010" dnum="JP2004015982A"><text>JP-A-2004-15982</text></patcit>, the torques of the first motor<!-- EPO <DP n="6"> --> generator and the second motor generator in the case where the vehicle runs in a state where there is no charge/discharge to/from a battery are calculated from a torque balance equation, the engine rotational speed is feedback controlled, and the engine rotational speed and the drive force are controlled. However, nothing is mentioned about the control in case where there is a charge/discharge to/from the battery, for example, in case where the power assistance by the electric power of the battery is performed.<br/>
Further, in a hybrid vehicle which synthesizes an output of an internal combustion engine and motive powers of a first motor generator and a second motor generator and drives a drive axis connected to a drive wheel, there is considered a method whereby: a value of a drive force obtained by adding a power corresponding to power assistance by an electric power is preset as a maximum value of the target drive force; a target drive power is obtained from the target drive force in which an accelerator opening degree and a vehicle speed are used as parameters and from the vehicle speed; a target charge/discharge power is obtained on the basis of a state of charge (SOC) of a battery; a value added to the target drive power and a maximum output which can be output by the engine are compared and a value of the smaller one of them is obtained as a target engine power; a target engine operation point is obtained from the target engine power; a target electric power serving as a target value of an input/output electric power to/from the battery is<!-- EPO <DP n="7"> --> obtained from a difference between the target drive power and the target engine power; and torque instruction values of the first motor generator and the second motor generator are arithmetically operated from a torque balance equation including a target engine torque and an electric power balance equation including the target electric power.<br/>
However, according to such a method, the drive force which is required for the vehicle is large and when the vehicle speed is low, since the target drive power is calculated from the drive force which is required for the vehicle and the vehicle speed, the target drive power is equal to a small value and the target engine power is also small. Therefore, the target engine torque is also equal to a small value, the drive force becomes small by an amount corresponding to it, and the drive force which can inherently be output cannot be output, so that there is still a room for improvement.</p><p id="p0007" num="0007">It is, therefore, an object of the invention to provide a drive control apparatus of a hybrid vehicle, in which while accomplishing both of a point that an internal combustion engine is protected by restricting an engine operation point and a point that a drive force which is requested by the driver is satisfied by power assistance using an electric power of a battery, in the case where a large drive force is requested, such a request is satisfied, a target engine power is corrected in consideration of a<!-- EPO <DP n="8"> --> battery state, thereby preventing an overcharge to the battery, control precision of a state of charge (SOC) of the battery is improved in consideration of an electric power loss of a plurality of motor generators, and the battery is protected.</p><heading id="h0007">Solution to Problem</heading><p id="p0008" num="0008">According to the invention, there is provided a drive control apparatus of a hybrid vehicle for driving and controlling a vehicle by using outputs from an internal combustion engine and a plurality of motor generators, comprising: accelerator opening degree detecting means for detecting an accelerator opening degree; vehicle speed detectingmeans for detecting a vehicle speed; battery charge state detecting means for detecting a charge state of a battery; and control means having target drive power setting means for setting a target drive power on the basis of the accelerator opening degree detected by the accelerator opening degree detecting means and the vehicle speed detected by the vehicle speed detecting means, target charge/discharge power setting means for setting a target charge/discharge power on the basis of at least the charge state of the battery detected by the battery charge state detecting means, provisional target engine power calculating means for calculating a provisional target engine power from the target drive power set by the target drive power setting means and the target charge/discharge<!-- EPO <DP n="9"> --> power set by the target charge/ discharge power setting means, provisional target engine operation point setting means for setting a provisional target engine operation point to decide a provisional target engine rotational speed and a provisional target engine torque from the provisional target engine power calculated by the provisional target engine power calculating means and a retrieval map, and motor torque instruction value operating means for setting a torque instruction value of each of the plurality of motor generators on the basis of the provisional target engine operation point set by the provisional target engine operation point setting means, wherein the control means has target engine power lower limit value calculating means for calculating a target engine power lower limit value on the basis of the accelerator opening degree or a target drive force which is calculated from the acceleratoropening degree and target electric power calculating means for calculating a target electric power from a difference between a target engine power and the target drive power which are calculated on the basis of the provisional target engine operation point, and wherein the provisional target engine power calculating means compares the provisional target engine power which is calculated from the target drive power set by the target drive power setting means and the target charge/discharge power set by the target charge/discharge power setting means with the target engine power lower limit value and, when the provisional target engine power is<!-- EPO <DP n="10"> --> smaller than the target engine power lower limit value, sets the target engine power lower limit value to the provisional target engine power and outputs the provisional target engine power, and the motor torque instruction value operating means calculates the torque instruction value of each of the plurality of motor generators by using a torque balance equation including a target engine torque which is obtained from the target engine operation point and an electric power balance equation including the target electric power.</p><heading id="h0008">Advantageous Effects of Invention</heading><p id="p0009" num="0009">According to the drive control apparatus of the hybrid vehicle of the invention, while accomplishing both of a point that the internal combustion engine is protected by restricting the engine operation point and a point that the drive force which is requested by the driver is satisfied by the power assistance using the electric power of the battery, in the case where the large drive force is requested, such a request is satisfied, the target engine power is corrected in consideration of the battery state, thereby preventing the overcharge to the battery, the control precision of a state of charge (SOC) of the battery is improved in consideration of the electric power loss of the plurality of motor generators, and the battery can be protected. Brief Description of Drawings</p><p id="p0010" num="0010"><ul><li>[<figref idrefs="f0001">Fig. 1] Fig. 1</figref> is a system constructional diagram of a<!-- EPO <DP n="11"> --> drive control apparatus of a hybrid vehicle. (Embodiment)</li><li>[<figref idrefs="f0002">Fig. 2] Fig. 2</figref> is a control block diagram for calculating a target engine operation point and a target electric power. (Embodiment)</li><li>[<figref idrefs="f0002">Fig. 3] Fig. 3</figref> is a control block diagram for calculating a torque instruction value. (Embodiment)</li><li>[<figref idrefs="f0003">Fig. 4] Fig. 4</figref> is a flowchart for calculating a target engine operation point and a target electric power. (Embodiment)</li><li>[<figref idrefs="f0004">Fig. 5] Fig. 5</figref> is a flowchart for calculating a target engine operation point and a target electric power in sequel to <figref idrefs="f0003">Fig. 4</figref>. (Embodiment)</li><li>[<figref idrefs="f0005">Fig. 6] Fig. 6</figref> is a flowchart for calculating a torque instruction value. (Embodiment)</li><li>[<figref idrefs="f0006">Fig. 7] Fig. 7</figref> is a diagram showing an engine rotational speed at every vehicle speed at the time of an upper limit rotation of the first motor generator. (Embodiment)</li><li>[<figref idrefs="f0006">Fig. 8] Fig. 8</figref> is a diagram showing a relation between an accelerator opening degree and a target engine power. (Embodiment)</li><li>[<figref idrefs="f0007">Fig. 9] Fig. 9</figref> is a diagram showing an electric power upper/lower limit restriction value retrieval table according to a battery temperature. (Embodiment)</li><li>[<figref idrefs="f0007">Fig. 10] Fig. 10</figref> is a diagram showing an electric power upper/lower limit restriction value retrieval table according to a battery voltage. (Embodiment)</li><li>[<figref idrefs="f0008">Fig. 11] Fig. 11</figref> is a diagram showing an electric power<!-- EPO <DP n="12"> --> upper/lower limit restriction value retrieval table according to a state of charge (SOC). (Embodiment)</li><li>[<figref idrefs="f0008">Fig. 12] Fig. 12</figref> is a diagram showing an electric power loss retrieval map. (Embodiment)</li><li>[<figref idrefs="f0009">Fig. 13] Fig. 13</figref> is a diagram showing a target drive force retrieval map. (Embodiment)</li><li>[<figref idrefs="f0009">Fig. 14] Fig. 14</figref> is a diagram showing a target charge/discharge power retrieval table. (Embodiment)</li><li>[<figref idrefs="f0010">Fig. 15] Fig. 15</figref> is a diagram showing a target operation point retrieval map. (Embodiment)</li><li>[<figref idrefs="f0010">Fig. 16] Fig. 16</figref> is a collinear diagram in the case where a vehicle is changed at the same engine operation point. (Embodiment)</li><li>[<figref idrefs="f0011">Fig. 17] Fig. 17</figref> is a diagram showing each efficiency state on an equal power line. (Embodiment)</li><li>[<figref idrefs="f0011">Fig. 18] Fig. 18</figref> is a collinear diagram showing each point (D, E, F) on an equal power line. (Embodiment)</li><li>[<figref idrefs="f0012">Fig. 19] Fig. 19</figref> is a diagram showing a best line of an engine efficiency and a best line of the whole efficiency. (Embodiment)</li><li>[<figref idrefs="f0012">Fig. 20] Fig. 20</figref> is a collinear diagram of a LOW gear ratio state. (Embodiment)</li><li>[<figref idrefs="f0013">Fig. 21] Fig. 21</figref> is a collinear diagram of an intermediate gear ratio state. (Embodiment)</li><li>[<figref idrefs="f0013">Fig. 22] Fig. 22</figref> is a collinear diagram of a HIGH gear ratio state. (Embodiment)</li><li>[<figref idrefs="f0014">Fig. 23] Fig. 23</figref> is a collinear diagram of a state where<!-- EPO <DP n="13"> --> a motive power circulation has occurred. (Embodiment) Description of Embodiments</li></ul></p><p id="p0011" num="0011">According to the invention, such an object of the invention that while accomplishing both of a point that an internal combustion engine is protected by restricting an engine operation point and a point that a drive force which is requested by the driver is satisfied by power assistance using an electric power of a battery, in the case where a large drive force is requested, such a request is satisfied, a target engine power is corrected in consideration of a battery state, thereby preventing an overcharge to the battery, control precision of a state of charge (SOC) of the battery is improved in consideration of an electric power loss of a plurality of motor generators, and the battery is protected is realized by a method whereby the plurality of motor generators are controlled by restricting a lower limit of the target engine power, the restriction of the lower limit is corrected by correcting a target electric power is corrected on the basis of input/output restriction of the battery, and further, the restriction of the lower limit is corrected by correcting the target electric power on the basis of the electric power loss.</p><heading id="h0009">Embodiments</heading><p id="p0012" num="0012"><figref idrefs="f0001 f0002 f0003 f0004 f0005 f0006 f0007 f0008 f0009 f0010 f0011 f0012 f0013 f0014">Figs. 1 to 23</figref> show an embodiment of the invention.<br/>
In <figref idrefs="f0001">Fig. 1</figref>, reference numeral 1 denotes a drive<!-- EPO <DP n="14"> --> control apparatus of a hybrid vehicle as an electric vehicle.<br/>
The drive control apparatus 1 has: an output axis 3 of an internal combustion engine (referred to as "ENG" in the diagram) 2 serving as a drive source for outputting a torque; a first motor generator (referred to as "MG1" in the diagram) 4 and a second motor generator (referred to as "MG2" in the diagram) 5 serving as a plurality of motor generators (electric motors); a drive axis (referred to as "OUT" in the diagram) 8 connected to a drive wheel 6 through an output transfer mechanism 7; and a power transmission mechanism (differential gear mechanism) 9 coupled with the output axis 3 of the internal combustion engine 2, the first motor generator 4, the second motor generator 5, and the drive axis 8, respectively.<br/>
On the internal combustion engine 2 side, a one-way clutch 10 is provided on the way of the output axis 3 of the internal combustion engine 2. The one-way clutch 10 is provided to prevent the internal combustion engine 2 from rotating reversely. When the EV (electric vehicle) runs, the one-way clutch 10 receives a torque reaction of the second motor generator 5.<br/>
The first motor generator 4 is constructed by a first rotor 11 and a first stator 12. The second motor generator 5 is constructed by a second rotor 13 and a second stator 14.<br/>
The drive control apparatus 1 has: a first inverter 15 for operating and controlling the first motor generator<!-- EPO <DP n="15"> --> 4; a second inverter 16 for operating and controlling the second motor generator 5; and control means (drive control unit: ECU) 17 coupled with the first inverter 15 and the second inverter 16.<br/>
The first inverter 15 is connected to the first stator 12 of the first motor generator 4. The second inverter 16 is connected to the second stator 14 of the second motor generator 5.<br/>
A power source terminal of each of the first inverter 15 and the second inverter 16 is connected to a battery (high-voltage battery for driving) 18. The battery 18 can supply and receive an electric power to/from the first motor generator 4 and the second motor generator 5.<br/>
The drive control apparatus 1 drives and controls the hybrid vehicle by using outputs from the internal combustion engine, the first motor generator 4, and the second motor generator 5.</p><p id="p0013" num="0013">The power transmission mechanism 9 is what is called a power input/output apparatus of a quadruple type and is constructed as follows. The output axis 3 of the internal combustion engine 2 and the drive axis 8 are arranged. The first motor generator 4 on the internal combustion engine 2 side and the second motor generator 5 on the drive axis 8 side are arranged. A motive power of the internal combustion engine 2, a motive power of the first motor generator 4, and a motive power of the second motor<!-- EPO <DP n="16"> --> generator 5 are synthesized and output to the drive axis 8. The motive powers are transmitted and received between the internal combustion engine 2 and the first motor generator 4, second motor generator 5, and drive axis 8.<br/>
As shown in a collinear diagram of <figref idrefs="f0006">Fig. 7</figref>, four rotational elements of the power transmission mechanism 9 are arranged in order of the rotational element coupled with the first motor generator (MG1) 4, the rotational element coupled with the internal combustion engine (ENG) 2, the rotational element coupled with the drive axis (OUT) 8, and the rotational element coupled with the second motor generator (MG2) 5. Mutual lever ratios among those rotational elements are set to k1 : 1 : k2 in the same order as that mentioned above. A torque correction value of the first motor generator 4 and a torque correction value of the second motor generator 5 are set so as to maintain such a relation that a value obtained by multiplying the torque correction value of the first motor generator 4 by k1 and a value obtained by multiplying the torque correction value of the second motor generator 5 by (1 + k2) are equal. Thus, in the torque balance equation, in the case of constructing the similar power transmission mechanism 9 (differential gear mechanism) which has four rotational elements and whose lever ratios differ, it can be preferably used.
<ul><li>k1: Lever ratio between the first motor generator (MG1) and the internal combustion engine (ENG) in the case where a distance between the internal combustion engine (ENG) and<!-- EPO <DP n="17"> --> the drive axis (OUT) is set to "1"</li><li>k2: Lever ratio between the drive axis (OUT) and the second motor generator (MG2) 5 in the case where a distance between the internal combustion engine (ENG) and the drive axis (OUT) is set to "1"</li></ul></p><p id="p0014" num="0014">The power transmission mechanism 9 is constructed in such a manner that a first planetary gear mechanism 19 and a second planetary gear mechanism 20 whose two rotational elements are coupled are arranged in parallel.<br/>
The first planetary gear mechanism 19 has: a first sun gear 21; a first pinion gear 22 engaged with the first sun gear 21; a first ring gear 23 engaged with the first pinion gear 22; a first carrier 24 coupled with the first pinion gear 22; and an output gear 25 coupled with the first ring gear 23.<br/>
The second planetary gear mechanism 20 has: a second sun gear 26; a second pinion gear 27 engaged with the second sun gear 26; a second ring gear 28 engaged with the second pinion gear 27; and a second carrier 29 coupled with the second pinion gear 27.</p><p id="p0015" num="0015">In the power transmission mechanism 9, the first carrier 24 of the first planetary gear mechanism 19 is coupled with the output axis 3 of the internal combustion engine 2, and the second carrier 29 of the second planetary gear mechanism 20 is coupled with the first ring gear 23 and the<!-- EPO <DP n="18"> --> output gear 25 of the first planetary gear mechanism 19.<br/>
The first rotor 11 of the first motor generator 4 is connected to the first sun gear 21 through a first motor output axis 30. The output axis 3 of the internal combustion engine 2 is connected to the first carrier 24 and the second sun gear 26. The drive axis 8 is connected to the first ring gear 23 and the second carrier 29 through the output gear 25 and the output transfer mechanism 7. The second rotor 13 of the second motor generator 5 is connected to the second ring gear 28 through a second motor output axis 31.<br/>
The second motor generator 5 can be directly coupled with the drive wheel 6 through the secondmotor output axis 31, second ring gear 28, second carrier 29, first ring gear 23, output gear 25, output transfer mechanism 7, and drive axis 8 and has performance for enabling the vehicle to run only by a single output.<br/>
That is, in the power transmission mechanism 9, the first carrier 24 of the first planetary gear mechanism 19 and the second sun gear 26 of the second planetary gear mechanism 20 are coupled and connected to the output axis 3 of the internal combustion engine 2, and the first ring gear 23 of the first planetary gear mechanism 19 and the second carrier 29 of the second planetary gear mechanism 20 are coupled and connected to the drive axis 8, the first motor generator 4 is connected to the first sun gear 21 of the first planetary gear mechanism 19, the second motor<!-- EPO <DP n="19"> --> generator 5 is connected to the second ring gear 28 of the second planetary gear mechanism 20, and the motive powers are transmitted and received between the internal combustion engine 2 and the first motor generator 4, second motor generator 5, and drive axis 8.<br/>
Accelerator opening degree detecting means 32 for detecting a depression amount of an accelerator pedal as an acceleratoropening degree,vehiclespeed detecting means 33 for detecting a vehicle speed, battery charge state detecting means 34 for detecting a state of charge (SOC) of the battery 18, and engine rotational speed detecting means 35 for detecting an engine rotational speed are connected to the control means 17.<br/>
An air amount adjusting mechanism 36, a fuel supplying mechanism 37, and an ignition timing adjusting mechanism 38 are connected to the control means 17 so as to control the internal combustion engine 2.<br/>
Further, battery state detecting means 39 for detecting a battery state (parameters such as battery temperature, battery voltage, and the like) is connected to the control means 17.</p><p id="p0016" num="0016">As shown in <figref idrefs="f0001">Figs. 1</figref> and <figref idrefs="f0002">2</figref>, the control means 17 has target drive force setting means 17A, target drive power setting means 17B, target charge/discharge power setting means 17C, provisional target engine power calculating means 17D, provisional target engine operationpoint settingmeans<!-- EPO <DP n="20"> --> 17E, target engine operation point setting means 17F, target engine power setting means 17G, target engine power lower limit value calculating means 17H, electric power upper/lower limit value calculating means 17I, electric power loss presuming means 17J, target electric power calculating means 17K, and motor torque instruction value operating means 17L. As shown in <figref idrefs="f0002">Fig. 2</figref>, the target charge/discharge power setting means 17C and the electric power loss presuming means 17J are connected to the provisional target engine power calculating means 17D through increase/decrease operating means 17M.<br/>
The target drive force setting means 17A sets a target drive force on the basis of the accelerator opening degree detected by the accelerator opening degree detecting means 32 and the vehicle speed detected by the vehicle speed detecting means 33.<br/>
The target drive power setting means 17B sets a target drive power on the basis of the accelerator opening degree detected by the accelerator opening degree detecting means 32 and the vehicle speed detected by the vehicle speed detecting means 33.<br/>
The target charge/discharge power setting means 17C sets a target charge/discharge power on the basis of at least a charge state of the battery detected by the battery charge state detecting means 34.<br/>
The provisional target engine power calculating means 17D calculates a provisional target engine power from<!-- EPO <DP n="21"> --> the target drive power set by the target drive power setting means 17B and the target charge/discharge power set by the target charge/discharge power setting means 17C.<br/>
The provisional target engine operation point setting means 17E sets a provisional target engine operation point for deciding a provisional target engine rotational speed and a provisional target engine torque from the provisional target engine power calculated by the provisional target engine power calculating means 17D and a retrieval map M.<br/>
The target engine operation point setting means 17F sets a target engine operation point for deciding the target engine rotational speed and the target engine torque on the basis of the vehicle speed detected by the vehicle speed detecting means 33 and the provisional target engine rotational speed and the provisional target engine torque calculated by the provisional target engine operation point setting means 17E.<br/>
The target engine power setting means 17G calculates a target engine power from the target engine operation point set by the target engine operation point setting means 17F.<br/>
The target engine power lower limit value calculating means 17H calculates a target engine power lower limit value on the basis of the accelerator opening degree or the target drive force which is calculated from the accelerator opening degree.<br/>
<!-- EPO <DP n="22"> -->The electric power upper/lower limit value calculating means 17I sets an electric power upper limit value and an electric power lower limit value for restricting an input/output electric power to/from the battery 18 on the basis of the battery state detected by the battery state detecting means 39.<br/>
The electric power loss presuming means 17J calculates a presumption power serving as an electric power loss on the basis of the vehicle speed and the target drive force.<br/>
The target electric power calculating means 17K calculates a target electric power from a difference between the target engine power and the target drive power which are calculated on the basis of the provisional target engine operation point.<br/>
The motor torque instruction value operating means 17L sets a torque instruction value of each of the plurality of motor generators 4 and 5 on the basis of the provisional target engine operation point set by the provisional target engine operation point setting means 17E, and calculates a torque instruction value of each of the plurality of motor generators 4 and 5 by using a torque balance equation including the target engine torque which is obtained from the target engine operation point and an electric power balance equation including the target electric power.</p><p id="p0017" num="0017">Specifically speaking, each of the above means<!-- EPO <DP n="23"> --> in the control means 17 has the following function.<br/>
The provisional target engine power calculating means 17D compares the provisional target engine power which is calculated from the target drive power set by the target drive power settingmeans 17B and the target charge/discharge power set by the target charge/discharge power setting means 17C with the target engine power lower limit value. When the provisional target engine power is smaller than the target engine power lower limit value, the means 17D sets the target engine power lower limit value to the provisional target engine power and outputs the provisional target engine power.<br/>
The provisional target engine power calculating means 17D finally calculates the provisional target engine power on the basis of the accelerator opening degree, inputs the target engine power lower limit value from the target engine power lower limit value calculating means 17H, and compares magnitudes of the provisional target engine power and the target engine power lower limit value. When the provisional target engine power is equal to or larger than the target engine power lower limit value, the provisional target engine power is held, and when the provisional target engine power is smaller than the target engine power lower limit value, the target engine power lower limit value is set to the provisional target engine power, thereby correcting the target engine power lower limit value so as to be restricted on the basis of the electric power lower<!-- EPO <DP n="24"> --> limit value.<br/>
Further, the provisional target engine power calculating means 17D fundamentally calculates the provisional target engine power on the basis of the the target drive power, the target charge/discharge power, and the presumption power serving as an electric power loss, and restricts by the target engine power lower limit value from the target engine power lower limit value calculating means 17H. The provisional target engine power is decided in consideration of the electric power loss. Although the target engine power lower limit value is also decided in consideration of the electric power loss, since the target engine power lower limit value is a restriction value to which the battery state is reflected, a wasteful double calculation is not performed.<br/>
Furthermore, the target engine power maximum value corresponding to a state where the target drive power has received the power assistance depending on the electric power of the battery 18 is preset and provided in the provisional target engine power calculating means 17D. The provisional target engine power calculating means 17D compares the provisional target engine power calculated from the target drive power set by the target drive power setting means 17B and the target charge/discharge power set by the target charge/discharge power setting means 17C with the target engine power maximum value, and updates a smaller one of those values as a provisional target engine power.<!-- EPO <DP n="25"> --> Thus, while controlling the engine operation point so as to be matched with the target value, the state of charge (SOC) of the battery 18 can be set to a value within a predetermined range and a power assistant region using the electric power of the battery 18 can be provided. The driving using the electric power of the battery 18 can be performed by using the power assistant region in accordance with a request of the driver. The plurality of motor generators 4 and 5 in the case where there is a charge/discharge to/from the battery 18 can be controlled.</p><p id="p0018" num="0018">When the provisional target engine operation point is not restricted by the upper limit rotational speed or the like, the provisional target engine operation point setting means 17E sets the provisional target engine operation point to the target engine operation point as it is. Therefore, the provisional target engine operation point setting means 17E can be also constructed as target engine operation point setting means 17F. That is, although the provisional target engine operation point setting means 17E has been described separately from the target engine operation point setting means 17F for convenience of explanation, the provisional target engine operation point setting means 17E may be used as target engine operation point setting means 17F.</p><p id="p0019" num="0019">The target engine power lower limit value<!-- EPO <DP n="26"> --> calculating means 17H corrects the target engine power lower limit value so as to restrict it on the basis of the electric power lower limit value and outputs the target engine power lower limit value to the provisional target engine power calculating means 17D.<br/>
The target engine power lower limit value calculating means 17H also corrects the electric power lower limit value by using the presumption power serving as an electric power loss, corrects the target engine power lower limit value so as to restrict it on the basis of the corrected electric power lower limit value, and outputs the target engine power lower limit value to the provisional target engine power calculating means 17D.<br/>
Further, in the fundamental case where the correction of the electric power lower limit value or the like depending on the battery state is unnecessary, the target engine power lower limit value calculating means 17H calculates the target engine power lower limit value on the basis of the accelerator opening degree to which an intent of the driver is reflected (refer to <figref idrefs="f0006">Fig. 8</figref>).<br/>
Furthermore, the target engine power lower limit value calculating means 17H inputs the electric power lower limit value which is an output from the electric power upper/lower limit value calculating means 17I and which has been calculated so as to restrict the input/output of the battery 18, and compares magnitudes of an absolute value (inverse encoding) of the electric power lower limit value<!-- EPO <DP n="27"> --> and the target engine power lower limit value. When the target engine power lower limit value is equal to or larger than the absolute value of the electric power lower limit value, the target engine power lower limit value is held. When the target engine power lower limit value is smaller than the absolute value of the electric power lower limit value, the absolute value of the electric power lower limit value is set to the target engine power lower limit value. The final target engine power lower limit value is output to the provisional target engine power calculating means 17D. In this case, the target engine power lower limit value calculating means 17H corrects the target engine power lower limit value so as to restrict it on the basis of the electric power lower limit value. It is also possible to construct as mentioned above by arithmetically operating by a different process without allowing the electric power loss to be included in the calculations (refer to <figref idrefs="f0007 f0008">Figs. 9 to 11</figref>).<br/>
The target engine power lower limit value calculating means 17H also inputs the presumption power serving as an electric power loss, and compares magnitudes of an absolute value (inverse encoding) of the electric power lower limit value which has been corrected so as to exclude the presumption power from the electric power lower limit value and the target engine power lower limit value. When the target engine power lower limit value is equal to or larger than the absolute value of the electric power lower limit value, the target engine power lower limit value is<!-- EPO <DP n="28"> --> held. When the target engine power lower limit value is smaller than the absolute value of the electric power lower limit value, the absolute value of the electric power lower limit value is set to the target engine power lower limit value. The final target engine power lower limit value is output to the provisional target engine power calculating means 17D. In this case, the target engine power lower limit value calculating means 17H corrects the electric power lower limit value by using the presumption power serving as an electric power loss and corrects the target engine power lower limit value so as to restrict it on the basis of the corrected electric power lower limit value (refer to <figref idrefs="f0008">Fig. 12</figref>).<br/>
Further, although the target engine power lower limit value calculating means 17H is constructed so as to calculate the target engine power lower limit value on the basis of the accelerator opening degree, it is also possible to construct so as to calculate the target engine power lower limit value on the basis of the target drive force which is calculated on the basis of the accelerator opening degree. In any of those cases, those constructions are common with respect to a point that the drive force which is requested by the driver is reflected on the basis of the accelerator opening degree.</p><p id="p0020" num="0020">The electric power upper/lower limit value calculating means 17I has: a table which specifies an<!-- EPO <DP n="29"> --> electric power upper limit value and an electric power lower limit value for the battery temperature (refer to <figref idrefs="f0007">Fig. 9</figref>); a table which specifies an electric power upper limit value and an electric power lower limit value for the battery voltage (refer to <figref idrefs="f0007">Fig. 10</figref>); and a table which specifies an electric power upper limit value and an electric power lower limit value for the charge state (SOC) of the battery 18 (refer to <figref idrefs="f0008">Fig. 11</figref>). The battery temperature, the battery voltage, and the charge state (SOC) serving as a battery state are input. The electric power upper limit value and the electric power lower limit value which have been specified on the basis of the battery temperature which was input, the electric power upper limit value and the electric power lower limit value which have been specified on the basis of the battery voltage which was input, the electric power upper limit value and the electric power lower limit value which have been specified on the basis of the charge state (SOC) which was input are obtained. The presumption power serving as an electric power loss is subtracted from them. The resultant electric power upper limit values are compared and the resultant electric power lower limit values are compared, respectively. The electric power upper limit value and the electric power lower limit value of the largest restriction are output to the target electric power calculating means 17K, respectively. Thus, by restricting to the input/output power according to the battery state, the overvoltage of the battery 18 in the charge/discharge<!-- EPO <DP n="30"> --> can be protected and the overdischarge and the overcharge can be prevented in consideration of the charge state (SOC).</p><p id="p0021" num="0021">The electric power loss presuming means 17J has a retrieval map (refer to <figref idrefs="f0008">Fig. 12</figref>) in which the presumption power serving as an electric power loss has been set. As shown in <figref idrefs="f0008">Fig. 12</figref>, the presumption power serving as an electric power loss increases with an increase in target drive force and its increase rate increases with an increase in target drive force. The presumption power serving as an electric power loss increases with an increase in vehicle speed and the target drive force having its maximum value decreases with an increase in vehicle speed.</p><p id="p0022" num="0022">The target electric power calculating means 17K can be constructed so as to restrict to the electric power upper limit value or the electric power lower limit value when the target electric power is out of a range where the target electric power is set by the electric power upper limit value or the electric power lower limit value.</p><p id="p0023" num="0023">When the feedback correction of the torques is performed, the motor torque instruction value operating means 17L calculates a torque correction value of the first motor generator 4 and a torque correction value of the second motor generator 5 among the plurality of motor generators on the basis of a deviation between the actual engine<!-- EPO <DP n="31"> --> rotational speed and the target engine rotational speed, and sets a ratio between the torque correction value of the first motor generator 4 and the torque correction value of the second motor generator 5 so as to become a predetermined ratio based on the lever ratio of the power transmission mechanism 9. Thus, since the torque deviation of the internal combustion engine 2 is cancelled by using a torque balance equation in which an attention is paid to a torque change by using the drive axis 8 as a fulcrum, it is possible to construct in such a manner that even if the torque deviation occurred in the internal combustion engine 2, it does not exert an influence on the torque of the drive axis 8.<br/>
The motor torque instruction value operating means 17L also calculates the torque instruction value of each of the first motor generator 4 and the second motor generator 5 by using a torque balance equation including the target engine torque which is obtained from the target engine operation point and an electric power balance equation including the target electric power, and enables the feedback correction to be performed to the torque correction value of each of the first motor generator 4 and the second motor generator 5 so as to converge the actual engine rotational speed to the target engine rotational speed which is obtained from the target engine operation point.</p><p id="p0024" num="0024">That is, in the embodiment, in the hybrid vehicle for synthesizing the output of the the internal combustion<!-- EPO <DP n="32"> --> engine 2 and the motive powers of the first motor generator 4 and the second motor generator 5 and driving the drive axis 8 connected to the drive wheel 6: the value of the drive force obtained by adding the force of the power assistance by the electric power is preset as a maximum value of the target drive force; the target drive power is obtained from the target drive force in which the accelerator opening degree and the vehicle speed are used as parameters and from the vehicle speed; the lower limit of the target engine power is restricted in accordance with the target drive force or the accelerator opening degree; the lower limit value is restricted in accordance with the input restriction of the battery 18 and the electric power loss of the first motor generator 4 and the second motor generator 5; the target charge/discharge power is obtained on the basis of the charge state (SOC) of the battery 18 and added to the target drive power and a resultant value is obtained as a provisional target engine power; the provisional target engine operation point is obtained from the provisional target engine power; when the engine rotational speed at the provisional target engine operation point exceeds an upper limit of the engine rotational speed which is calculated on the basis of the vehicle speed, the engine rotational speed at the engine operation point is changed to the upper limit value; the torque at the engine operation point is changed to a value corresponding to the engine rotational speed after the change and is set to the target engine operation point; the target<!-- EPO <DP n="33"> --> engine power is calculated from the target engine operation point; the target electric power as a target value of the input/output electric power to/from the battery 18 is obtained from the difference between the target drive power and the target engine power; and the torque instruction values of the first motor generator 4 and the second motor generator 5 are arithmetically operated by the torque balance equation including the target engine torque and the electric power balance equation including the target electric power.<br/>
Thus, the control of the plurality of motor generators 4 and 5 in the case where there is a charge/discharge to/from the battery 18 can be performed. Both of an assurance of the target drive force and an assurance of the target charge/discharge can be realized in consideration of the operation point (engine operation point) of the internal combustion engine 2. Further, by finely correcting the torque instruction value of each of the plurality of motor generators 4 and 5, the engine rotational speed can be rapidly converged to the target value. Further, since the engine operation point can be matched with the target operation point, the vehicle can be set to the proper driving state.<br/>
As control of the plurality of motor generators 4 and 5 in the case where there is a charge/discharge to/from the battery 18 in the hybrid vehicle having the internal combustion engine 2 and the plurality of motor generators 4 and 5, in the case of performing the control for realizing<!-- EPO <DP n="34"> --> both of the assurance of the target drive force and the assurance of the target charge/discharge in consideration of the operation point (engine operation point) of the internal combustion engine 2, the torque fluctuation of the internal combustion engine 2 is optimized so as not to exert an influence on the drive torque, thereby enabling a drivability and a running feeling to be improved.<br/>
Further, both of an assurance of the target drive forces in the plurality of motor generators 4 and 5 and an assurance of a charge/discharge near the target charge/discharge in which the overdischarge for the battery 18 has been prevented can be realized in consideration of the operation point (engine operation point) of the internal combustion engine 2. After the target engine rotational speed was reset so as not to exceed the upper limit value of the target engine rotational speed, a target electric power different from the target charge/discharge power is set on the basis of it. The drive forces of the plurality of motor generators 4 and 5 are set on the basis of the optimized target engine operation point and the optimum target electric power in which the overdischarge has been prevented. Therefore, the engine rotational speed is restricted, the internal combustion engine 2 is protected, and the drive force which is requested by the driver can be satisfied by the power assistance using the electric power of the battery 18.</p><p id="p0025" num="0025"><!-- EPO <DP n="35"> --> In the control means 17 according to the embodiment, as shown in <figref idrefs="f0006">Fig. 7</figref>, the engine rotational speed at the time of the upper limit rotation of the first motor generator 4 is set every vehicle speed.</p><p id="p0026" num="0026">Subsequently, in the embodiment, the arithmetic operations for obtaining the target engine operation point (target engine rotational speed, target engine torque) and the target electric power from the accelerator opening degree and the vehicle speed will be described on the basis of a control block diagram of <figref idrefs="f0002">Fig. 2</figref> and flowcharts of <figref idrefs="f0003">Figs. 4</figref> and <figref idrefs="f0004">5</figref>.<br/>
As shown in <figref idrefs="f0003">Fig. 4</figref>, when a program of the control means 17 is started (step 101), first, various kinds of signals (accelerator opening degree, vehicle speed, charge state (SOC)) which are used for control and a battery state (parameters such as battery temperature, battery voltage, and the like) are fetched (step 102). A target drive force according to the accelerator opening degree and the vehicle speed is calculated from a target drive force retrieval map shown in <figref idrefs="f0009">Fig. 13</figref> (step 103). In this case, a high vehicle speed region where the accelerator opening degree is equal to zero (0) is set to a negative value so as to obtain a drive power in the decelerating direction corresponding to an engine brake. On the other hand, in a region where the vehicle speed is low, it is set to a positive value so that a creep run can be performed.<br/>
<!-- EPO <DP n="36"> -->By multiplying the target drive force and the vehicle speed, a target drive power necessary to drive the vehicle by the target drive force is set (step 104).<br/>
Further, in order to control the charge state (SOC) of the battery 18 so as to lie within a normal use range, the target charge/discharge power is calculated from a target charge/discharge amount retrieval table shown in <figref idrefs="f0009">Fig. 14</figref> (step 105). In this case, when the charge state (SOC) of the battery 18 is low, by increasing the charge power, an overdischarge of the battery 18 is prevented. When the charge state (SOC) of the battery 18 is high, by increasing the discharge power, an overcharge is prevented. For convenience of explanation, the discharge side is handled as a positive value and the charge side is handled as a negative value.<br/>
The presumption power serving as an electric power loss in the first motor generator 4 and the second motor generator 5 is retrieved from an electric power loss retrieval map shown in <figref idrefs="f0008">Fig. 12</figref> (step 106). Since this point of time is timing when the operation points of the first motor generator 4 and the second motor generator 5 are decided, the electric power loss cannot be calculated from the electric power loss retrieval map shown in <figref idrefs="f0008">Fig. 12</figref> of the first motor generator 4 and the second motor generator 5. Therefore, an approximate value of the electric power loss is preset by using the vehicle speed and the target drive force as parameters and the electric power loss is<!-- EPO <DP n="37"> --> calculated by the retrieval.<br/>
A provisional target engine power serving as a power to be output by the internal combustion engine 2 is calculated from the target drive power, the target charge/discharge power, and the presumption power serving as an electric power loss (step 107). The provisional target engine power to be output by the internal combustion engine is equal to a value obtained by adding the power adapted to charge the battery 18 to the power necessary to drive the vehicle (in the case of discharge, subtracting). Since the charge side is handled as a negative value here, the provisional target engine power is calculated by subtracting the target charge/discharge power from the target drive power.<br/>
After that, in accordance with the target drive force or the accelerator opening degree, as shown in <figref idrefs="f0006">Fig. 8</figref>, a preset target engine power lower limit value is calculated from the relation between the accelerator opening degree and the target engine power (step 108). As an example, the relation between the target engine power lower limit value and the accelerator opening degree is shown by a solid line in <figref idrefs="f0006">Fig. 8</figref>.</p><p id="p0027" num="0027">An electric power upper limit value and an electric power lower limit value are calculated from the electric power upper/lower limit restriction value retrieval tables shown in <figref idrefs="f0007 f0008">Figs. 9 to 11</figref> (step 109). In the retrieval tables<!-- EPO <DP n="38"> --> in <figref idrefs="f0007 f0008">Figs. 9 to 11</figref>, the discharge side is handled as a positive value, the charge side is handled as a negative value, the minimum value on the discharge side among the values calculated from the retrieval tables is calculated as an electric power upper limit value, and the value in which the absolute value on the charge side becomes minimum is calculated as an electric power lower limit value.<br/>
<figref idrefs="f0007">Fig. 10</figref> shows an example of the restriction by the battery temperature. When the battery temperature is low, since a response speed of the battery 18 decreases, the electric power which can be charged/discharged decreases. When the battery temperature is high, it is necessary to restrict the charge/discharge electric power in order to prevent a temperature increase.<br/>
<figref idrefs="f0008">Fig. 11</figref> shows an example of the restriction by the battery voltage. An upper limit voltage and a lower limit voltage are provided for the battery 18 for the purpose of protection. If the battery is used in excess of such a range, a deterioration of the battery 18 progresses. It is, therefore, necessary to restrict the charge when the voltage is high and to restrict the discharge when the voltage is low.<br/>
<figref idrefs="f0008">Fig. 12</figref> shows an example of the restriction by the state of charge (SOC) of the battery 18. It is necessary to avoid the charge state (SOC) of the battery 18 from becoming the overdischarge or overcharge. It is necessary to restrict the discharge when the charge state (SOC) is low<!-- EPO <DP n="39"> --> and to restrict the charge when the charge state (SOC) is high.<br/>
Whether or not the provisional target engine power lower limit value is less than the electric power lower limit value is discriminated (step 110).<br/>
If this step 110 is YES and the provisional target engine power lower limit value is less than the electric power lower limit value, the provisional target engine power lower limit value is restricted to the electric power lower limit value (step 111) (refer to "final lower limit value" in <figref idrefs="f0006">Fig. 8</figref>).<br/>
If step 110 is NO or after the process of step 111, whether or not the provisional target engine power is less than the provisional target engine power lower limit value is discriminated (step 112).<br/>
If this step 112 is YES, the provisional target engine power is restricted to the provisional target engine power lower limit value (step 113).</p><p id="p0028" num="0028">Subsequently, the arithmetic operations of the target engine operation point and the target electric power will be described with reference to the flowchart of <figref idrefs="f0004">Fig. 5</figref>.<br/>
As shown in <figref idrefs="f0004">Fig. 5</figref>, if step 112 in the flowchart of <figref idrefs="f0003">Fig. 4</figref> is NO or after the process of step 113, whether or not the provisional target engine power is larger than the upper limit power is discriminated (step 114). The upper<!-- EPO <DP n="40"> --> limit power is a maximum value which can be output by the internal combustion engine 2.<br/>
If this step 114 is YES, the provisional target engine power is restricted to the upper limit power and an upper limit guard is performed (step 115).<br/>
If this step 114 is NO or after the process of step 115, a provisional target engine operation point according to the provisional target engine power and the vehicle speed is calculated from a target engine operation point retrieval map shown in <figref idrefs="f0010">Fig. 15</figref> (step 116).<br/>
As shown in <figref idrefs="f0010">Fig. 15</figref>, in the foregoing target engine operation point retrieval map, a point where the whole efficiency obtained by adding the efficiency of the power transmission system constructed by the power transmission mechanism 9, first motor generator 4, and second motor generator 5 to the efficiency of the internal combustion engine 2 is improved is selected every power on an equal power line and a line obtained by connecting the selected points is set as a target operation point line. The target operation point line is set every vehicle speed. Those setting values may be experimentally obtained or may be obtained by calculations from the efficiencies of the internal combustion engine 2, first motor generator 4, and second motor generator 5.<br/>
The target operation point line is set in such a manner that as the vehicle speed rises, it is shifted to the high rotation side. This is because of the following<!-- EPO <DP n="41"> --> reasons.<br/>
In the case where the same engine operation point is set to the target engine operation point irrespective of the vehicle speed, as shown in <figref idrefs="f0010">Fig. 16</figref>, when the vehicle speed is low, the rotational speed of the first motor generator 4 is positive, the first motor generator 4 becomes a generator, and the second motor generator 5 becomes an electric motor (state of A in <figref idrefs="f0010">Fig. 16</figref>). As the vehicle speed rises, the rotational speed of the first motor generator 4 approaches zero (0) (state of B in <figref idrefs="f0010">Fig. 16</figref>). When the vehicle speed further rises, the rotational speed of the first motor generator 4 becomes negative. In this state, the first motor generator 4 operates as an electric motor and the second motor generator 5 operates as a generator (state of C in <figref idrefs="f0010">Fig. 16</figref>).<br/>
When the vehicle speed is low (state of A and state of B in <figref idrefs="f0010">Fig. 16</figref>), since a circulation of the power does not occur, the target operation point approaches a point where the engine efficiency is almost good like a target operation point line of the vehicle speed = 40 km/h shown in <figref idrefs="f0010">Fig. 15</figref>.<br/>
However, when the vehicle speed is high (state of C in <figref idrefs="f0010">Fig. 16</figref>), since the first motor generator 4 operates as an electric motor, the second motor generator 5 operates as a generator, and the power circulation occurs, the efficiency of the power transmission system deteriorates.<br/>
Therefore, as shown at point C in <figref idrefs="f0011">Fig. 17</figref>, even if the engine efficiency is good, the efficiency of the power<!-- EPO <DP n="42"> --> transmission system deteriorates, so that the whole efficiency deteriorates.<br/>
Therefore, in order to prevent the power circulation from occurring in the high vehicle speed range, it is sufficient to set the rotational speed of the first motor generator 4 to zero (0) or higher as shown at point E in a collinear diagram shown in <figref idrefs="f0011">Fig. 18</figref>. However, if it is set as mentioned above, the engine operation point is shifted to such a direction that the engine rotational speed rises. Therefore, as shown at point E in <figref idrefs="f0011">Fig. 17</figref>, even if the efficiency of the power transmission system becomes good, since the engine efficiency deteriorates largely, the whole efficiency deteriorates.<br/>
Therefore, as shown in <figref idrefs="f0011">Fig. 17</figref>, a point where the whole engine efficiency is good is point D between them. If such point D is set to the target engine operation point, the driving of the highest efficiency can be performed.<br/>
The three operation points of point C, point D, and point E mentioned above are plotted onto the target operation point retrieval map, so that a map as shown in <figref idrefs="f0012">Fig. 19</figref> is obtained. In <figref idrefs="f0012">Fig. 19</figref>, naturally, the engine operation point where the whole efficiency becomes best when the vehicle speed is high is shifted to the higher rotation side than that at the operation point where the engine efficiency becomes best.</p><p id="p0029" num="0029">An engine upper limit rotational speed is<!-- EPO <DP n="43"> --> calculated from the vehicle speed (step 117). As shown in <figref idrefs="f0006">Fig. 7</figref>, the upper limit rotational speed of the internal combustion engine 2 is restricted by the upper limit rotational speed of the first motor generator 4 and its value becomes a value according to the vehicle speed (rotational speed of the drive axis 8).<br/>
Whether or not the provisional target engine rotational speed is higher than the engine upper limit rotational speed is discriminated (step 118).<br/>
If this step 118 is NO, the provisional target engine operation point (provisional target engine rotational speed and provisional target engine torque) is set to the target engine operation point (target engine rotational speed and target engine torque) as it is (step 119).<br/>
On the other hand, if this step 118 is YES, the engine upper limit rotational speed is used as a target engine rotational speed (step 120). A target engine torque at the target engine rotational speed is calculated from the target operation point retrieval map of <figref idrefs="f0010">Fig. 15</figref> (step 121).<br/>
After the process of step 119 mentioned above or after the process of step 121, a target engine power is calculated from the target engine operation point (target engine rotational speed and target engine torque) (step 122). When the provisional target engine rotational speed exceeds the engine upper limit rotational speed, the foregoing calculated target engine power is set to a value smaller<!-- EPO <DP n="44"> --> than the calculated provisional target engine power, that is, a value which can be actually output.<br/>
The target engine power is subtracted from the target drive power and the target electric power is calculated (step 123). In this case, when the target drive power is larger than the target engine power, the target electric power is set to a value which denotes an assistance power by the battery electric power. When the target engine power is larger than the target drive power, the target electric power is set to a value which denotes a charge electric power to the battery 18. Since the target engine power is equal to a value which can be actually output, if the power assistance is performed by the target electric power which was calculated here, the drive force which is required by the driver can be obtained.<br/>
The program is returned (step 124).</p><p id="p0030" num="0030">Subsequently, arithmetic operations of the target torques of the first motor generator 4 and the second motor generator 5 to set the charge/discharge amount of the battery 18 to the target value while outputting the target drive force will be described on the basis of the control block diagram of <figref idrefs="f0002">Fig. 3</figref> and the flowchart of <figref idrefs="f0005">Fig. 6</figref>.<br/>
As shown in <figref idrefs="f0005">Fig. 6</figref>, when the program of the control means 17 is started (step 201), first, rotational speeds No of the first planetary gear mechanism 19 and the second planetary gear mechanism 20 are calculated from the vehicle<!-- EPO <DP n="45"> --> speed and a target rotational speed Nmg1t of the first motor generator 4 and a target rotational speed Nmg2t of the second motor generator 5 in the case where the engine rotational speed has reached a target engine rotational speed Net are calculated (step 202). The rotational speed Nmg1t of the first motor generator 4 and the rotational speed Nmg2t of the second motor generator 5 are calculated by the following (equation 1) and (equation 2). These arithmetic operation equations are obtained from a relation between the rotational speeds of the first planetary gear mechanism 19 and the second planetary gear mechanism 20.</p><p id="p0031" num="0031"><maths id="math0001" num="(equation 1)"><math display="block"><mi>Nmg</mi><mo>⁢</mo><mn mathvariant="normal">1</mn><mo>⁢</mo><mi mathvariant="normal">t</mi><mo>=</mo><mfenced separators=""><mi>Net</mi><mo>-</mo><mi>No</mi></mfenced><mo>*</mo><mi mathvariant="normal">k</mi><mo>⁢</mo><mn mathvariant="normal">1</mn><mo>+</mo><mi>Net</mi></math><img id="ib0001" file="imgb0001.tif" wi="123" he="10" img-content="math" img-format="tif"/></maths></p><p id="p0032" num="0032"><maths id="math0002" num="(equation 2)"><math display="block"><mi>Nmg</mi><mo>⁢</mo><mn mathvariant="normal">2</mn><mo>⁢</mo><mi mathvariant="normal">t</mi><mo>=</mo><mfenced separators=""><mi>No</mi><mo>-</mo><mi>Net</mi></mfenced><mo>*</mo><mi mathvariant="normal">k</mi><mo>⁢</mo><mn mathvariant="normal">2</mn><mo>+</mo><mi>No</mi></math><img id="ib0002" file="imgb0002.tif" wi="120" he="9" img-content="math" img-format="tif"/></maths></p><p id="p0033" num="0033">In the above (equation 1) and (equation 2), as shown in <figref idrefs="f0006">Fig. 7</figref>,
<ul><li>k1: Lever ratio between the first motor generator (MG1) and the engine (ENG) in the case where a distance between the engine (ENG) and the drive axis (OUT) is set to "1"</li><li>k2: Lever ratio between the drive axis (OUT) and the second motor generator (MG2) in the case where a distance between the engine (ENG) and the drive axis (OUT) is set to "1"</li></ul>
That is, k1 and k2 are values which are decided by a gear ratio of the first planetary gear mechanism 19<!-- EPO <DP n="46"> --> and the second planetary gear mechanism 20.<br/>
A fundamental torque Tmg1i of the first motor generator 4 is calculated from the rotational speed Nmg1t of the first motor generator 4, the rotational speed Nmg2t of the second motor generator 5, a target charge/discharge power Pbatt, and a target engine torque Tet (step 203). The fundamental torque Tmg1i is calculated by the following calculation equation (3).</p><p id="p0034" num="0034"><maths id="math0003" num="(equation 3)"><math display="block"><mi>Tmg</mi><mo>⁢</mo><mn mathvariant="normal">1</mn><mo>⁢</mo><mi mathvariant="normal">i</mi><mo>=</mo><mfenced separators=""><mi>Pbatt</mi><mo>*</mo><mn mathvariant="normal">60</mn><mo>/</mo><mn mathvariant="normal">2</mn><mo>⁢</mo><mi mathvariant="normal">π</mi><mo>-</mo><mi>Nmg</mi><mo>⁢</mo><mn mathvariant="normal">2</mn><mo>⁢</mo><mi mathvariant="normal">t</mi><mo>*</mo><mi>Tet</mi><mo>/</mo><mi mathvariant="normal">k</mi><mo>⁢</mo><mn mathvariant="normal">2</mn></mfenced><mo>/</mo><mfenced separators=""><mi>Nmg</mi><mo>⁢</mo><mn mathvariant="normal">1</mn><mo>⁢</mo><mi mathvariant="normal">t</mi><mo>+</mo><mi>Nmg</mi><mo>⁢</mo><mn mathvariant="normal">2</mn><mo>⁢</mo><mi mathvariant="normal">t</mi><mo>*</mo><mfenced separators=""><mn mathvariant="normal">1</mn><mo>+</mo><mi mathvariant="normal">k</mi><mo>⁢</mo><mn mathvariant="normal">1</mn></mfenced><mo>/</mo><mi mathvariant="normal">k</mi><mo>⁢</mo><mn mathvariant="normal">2</mn></mfenced></math><img id="ib0003" file="imgb0003.tif" wi="137" he="18" img-content="math" img-format="tif"/></maths></p><p id="p0035" num="0035">This equation (3) can be obtained by solving simultaneous equations of the following (torque balance equation) (shown by the following "equation (4) ") showing a balance of the torques which are input to the first planetary gear mechanism 19 and the second planetary gear mechanism 20 and the following (electricpowerbalance equation) (shown by the following "equation (5)") showing that the electric power which is generated or consumed by the first motor generator 4 and the second motor generator 5 and an input/output electric power (Pbatt) to/from the battery 18 are equal.</p><p id="p0036" num="0036"><maths id="math0004" num="(equation 4)"><math display="block"><mi>Tet</mi><mo>+</mo><mfenced separators=""><mn mathvariant="normal">1</mn><mo>+</mo><mi mathvariant="normal">k</mi><mo>⁢</mo><mn mathvariant="normal">1</mn></mfenced><mo>*</mo><mi>Tmg</mi><mo>⁢</mo><mn mathvariant="normal">1</mn><mo>=</mo><mi mathvariant="normal">k</mi><mo>⁢</mo><mn mathvariant="normal">2</mn><mo>*</mo><mi>Tmg</mi><mo>⁢</mo><mn mathvariant="normal">2</mn></math><img id="ib0004" file="imgb0004.tif" wi="120" he="9" img-content="math" img-format="tif"/></maths></p><p id="p0037" num="0037">In the torque balance equation, as shown by the<!-- EPO <DP n="47"> --> above (equation 4), the target torques and the target engine torques of the first motor generator 4 and the second motor generator 5 are balanced on the basis of a lever ratio based on a gear ratio of the power transmission mechanism 9 for mechanically and operationally coupling the first motor generator 4, second motor generator 5, and internal combustion engine 2.</p><p id="p0038" num="0038"><maths id="math0005" num="(equation 5)"><math display="block"><mi>Nmg</mi><mo>⁢</mo><mn>1</mn><mo>*</mo><mi>Tmg</mi><mo>⁢</mo><mn>1</mn><mo>*</mo><mn>2</mn><mo>⁢</mo><mi>π</mi><mo>/</mo><mn>60</mn><mo>+</mo><mi>Nmg</mi><mo>⁢</mo><mn>2</mn><mo>*</mo><mi>Tmg</mi><mo>⁢</mo><mn>2</mn><mo>*</mo><mn>2</mn><mo>⁢</mo><mi>π</mi><mo>/</mo><mn>60</mn><mo>=</mo><mi>Pbatt</mi></math><img id="ib0005" file="imgb0005.tif" wi="121" he="18" img-content="math" img-format="tif"/></maths></p><p id="p0039" num="0039">Subsequently, a fundamental torque Tmg2i of the second motor generator 5 is calculated from the fundamental torque Tmg1i and the target engine torque by the following (equation 6) (step 204).</p><p id="p0040" num="0040"><maths id="math0006" num="(equation 6)"><math display="block"><mi>Tmg</mi><mo>⁢</mo><mn mathvariant="normal">2</mn><mo>⁢</mo><mi mathvariant="normal">i</mi><mo>=</mo><mfenced separators=""><mi>Tet</mi><mo>+</mo><mfenced separators=""><mn mathvariant="normal">1</mn><mo>+</mo><mi mathvariant="normal">k</mi><mo>⁢</mo><mn mathvariant="normal">1</mn></mfenced><mo>*</mo><mi>Tmg</mi><mo>⁢</mo><mn mathvariant="normal">1</mn><mo>⁢</mo><mi mathvariant="normal">i</mi></mfenced><mo>/</mo><mi mathvariant="normal">k</mi><mo>⁢</mo><mn mathvariant="normal">2</mn></math><img id="ib0006" file="imgb0006.tif" wi="131" he="8" img-content="math" img-format="tif"/></maths></p><p id="p0041" num="0041">This (equation 6) is derived from the above equation (4).<br/>
Subsequently, in order to allow the engine rotational speed to approach the target, a deviation between the engine rotational speed and the target value is multiplied by a preset predetermined feedback gain, thereby calculating a feedback correction torque Tmg1fb of the first motor generator 4 and a feedback correction torque Tmg2fb of the second motor generator 5 (step 205).<br/>
<!-- EPO <DP n="48"> -->The feedback correction torque Tmg1fb of the first motor generator 4 is calculated by <maths id="math0007" num=""><math display="block"><mi>Tmg</mi><mo>⁢</mo><mn mathvariant="normal">1</mn><mo>⁢</mo><mi>fb</mi><mo>=</mo><mo>-</mo><mi mathvariant="normal">ΔTe</mi><mo>/</mo><mfenced separators=""><mn mathvariant="normal">1</mn><mo>+</mo><mi mathvariant="normal">k</mi><mo>⁢</mo><mn mathvariant="normal">1</mn></mfenced></math><img id="ib0007" file="imgb0007.tif" wi="56" he="8" img-content="math" img-format="tif"/></maths><br/>
where, ΔTe denotes a change amount to the target torque of the engine torque based on the torque balance equation.<br/>
The feedback correction torque Tmg2fb of the second motor generator 5 is calculated by <maths id="math0008" num=""><math display="block"><mi>Tmg</mi><mo>⁢</mo><mn mathvariant="normal">2</mn><mo>⁢</mo><mi>fb</mi><mo>=</mo><mfenced separators=""><mi mathvariant="normal">k</mi><mo>⁢</mo><mn mathvariant="normal">1</mn><mo>/</mo><mfenced separators=""><mn mathvariant="normal">1</mn><mo>+</mo><mi mathvariant="normal">k</mi><mo>⁢</mo><mn mathvariant="normal">2</mn></mfenced></mfenced><mo>*</mo><mi>Tmg</mi><mo>⁢</mo><mn mathvariant="normal">1</mn><mo>⁢</mo><mi>fb</mi></math><img id="ib0008" file="imgb0008.tif" wi="75" he="8" img-content="math" img-format="tif"/></maths><br/>
The feedback correction amounts which are respectively set into the torque instruction values of the first motor generator 4 and the second motor generator 5 are set in association with each other on the basis of a gear ratio or lever ratio of the power transmission mechanism 9 having four rotational elements respectively coupled with the first motor generator 4, second motor generator 5, drive axis 8, and internal combustion engine 2.<br/>
The feedback correction torques Tmg1fb and Tmg2fb are added to the fundamental torques Tmg1i and Tmg2i, thereby calculating a torque instruction value Tmg1 of the first motor generator 4 and a torque instruction value Tmg2 of the second motor generator 5 (step 206).<br/>
The torque instruction value Tmg1 of the first motor generator 4 is calculated by <maths id="math0009" num=""><math display="block"><mi>Tmg</mi><mo>⁢</mo><mn mathvariant="normal">1</mn><mo>=</mo><mi>Tmg</mi><mo>⁢</mo><mn mathvariant="normal">1</mn><mo>⁢</mo><mi mathvariant="normal">i</mi><mo>+</mo><mi>Tmg</mi><mo>⁢</mo><mn mathvariant="normal">1</mn><mo>⁢</mo><mi>fb</mi></math><img id="ib0009" file="imgb0009.tif" wi="60" he="8" img-content="math" img-format="tif"/></maths><br/>
The torque instruction value Tmg2 of the second motor generator 5 is calculated by <maths id="math0010" num=""><math display="block"><mi>Tmg</mi><mo>⁢</mo><mn mathvariant="normal">2</mn><mo>=</mo><mi>Tmg</mi><mo>⁢</mo><mn mathvariant="normal">2</mn><mo>⁢</mo><mi mathvariant="normal">i</mi><mo>+</mo><mi>Tmg</mi><mo>⁢</mo><mn mathvariant="normal">2</mn><mo>⁢</mo><mi>fb</mi></math><img id="ib0010" file="imgb0010.tif" wi="59" he="9" img-content="math" img-format="tif"/></maths><br/>
<!-- EPO <DP n="49"> -->By driving and controlling the first motor generator 4 and the second motor generator 5 by the calculated torque instruction values Tmg1 and Tmg2, the charge/discharge to/from the battery 18 can be set to a target value while outputting the target drive force.<br/>
After that, the program is returned (step 207).</p><p id="p0042" num="0042">Collinear diagrams in typical operation states are shown in <figref idrefs="f0012 f0013 f0014">Figs. 20 to 23</figref>.<br/>
where, k1 and k2 are defined as follows. <maths id="math0011" num=""><math display="block"><mi mathvariant="normal">k</mi><mo>⁢</mo><mn mathvariant="normal">1</mn><mo>=</mo><mi>ZR</mi><mo>⁢</mo><mn mathvariant="normal">1</mn><mo>/</mo><mi>ZS</mi><mo>⁢</mo><mn mathvariant="normal">1</mn></math><img id="ib0011" file="imgb0011.tif" wi="37" he="9" img-content="math" img-format="tif"/></maths> <maths id="math0012" num=""><math display="block"><mi mathvariant="normal">k</mi><mo>⁢</mo><mn mathvariant="normal">2</mn><mo>=</mo><mi>ZS</mi><mo>⁢</mo><mn mathvariant="normal">2</mn><mo>/</mo><mi>ZR</mi><mo>⁢</mo><mn mathvariant="normal">2</mn></math><img id="ib0012" file="imgb0012.tif" wi="37" he="9" img-content="math" img-format="tif"/></maths><br/>
where,
<dl id="dl0001" compact="compact"><dt>ZS1:</dt><dd>The number of teeth of the first sun gear</dd><dt>ZR1:</dt><dd>The number of teeth of the first ring gear</dd><dt>ZS2:</dt><dd>The number of teeth of the second sun gear</dd><dt>ZR2:</dt><dd>The number of teeth of the second ring gear</dd></dl>
Each operation state will be described by using the collinear diagrams of <figref idrefs="f0012 f0013 f0014">Figs. 20 to 23</figref>.<br/>
In the collinear diagrams of <figref idrefs="f0012 f0013 f0014">Figs. 20 to 23</figref>, the rotational speed is defined in such a manner that the rotating direction of the internal combustion engine 2 is set to the positive direction and the torque which is input/output to/from each axis is defined in such a manner that the direction in which the torque in the same direction as that of the torque of the internal combustion engine 2 is input is positive. Therefore, a case where the torque of the drive<!-- EPO <DP n="50"> --> axis is positive corresponds to a state where the torque adapted to drive the vehicle rearwardly is output (deceleration at the time of forward movement; driving at the time of backward movement). On the other hand, a case where the torque of the drive axis is negative corresponds to a state where the torque adapted to drive the vehicle forwardly is output (driving at the time of forwardmovement; deceleration at the time of backward movement).<br/>
In the case of performing the power generation or power running (by applying the motive power to the front wheels (drive wheels), the acceleration is performed; or a balancing speed is held in an up-grade) by the first motor generator 4 and the second motor generator 5, a loss is caused by a heat generation in the first inverter 15 and the second inverter 16 or in the first motor generator 4 and the second motor generator 5. Therefore, an efficiency in the case of performing a conversion between an electric energy and a mechanical energy is not equal to 100%. However, for simplicity of description, an explanation will be made on the assumption that there is no loss.</p><p id="p0043" num="0043">In the case of actually considering the loss, it is sufficient to control so as to additionallypower-generate by an amount of energy which is lost by the loss.
<ol><li>(1) LOW gear ratio state (refer to <figref idrefs="f0012">Fig. 20</figref>)<br/>
A state where the vehicle runs by the internal combustion engine 2 and the rotational speed of the second<!-- EPO <DP n="51"> --> motor generator 5 is equal to zero (0). A collinear diagram at this time is shown in <figref idrefs="f0012">Fig. 20</figref>. Since the rotational speed of the second motor generator 5 is equal to zero (0), no electric power is consumed. Therefore, when there is no charge/discharge to/from the battery 18, since there is no need to perform the power generation in the first motor generator 4, the torque instruction value Tmg1 of the first motor generator 4 is equal to zero (0). A ratio between the engine rotational speed and the rotational speed of the drive axis 8 is equal to (1+k2)/k2.</li><li>(2) Intermediate gear ratio state (refer to <figref idrefs="f0013">Fig. 21</figref>)<br/>
A state where the vehicle runs by the internal combustion engine 2 and the rotational speeds of the first motor generator 4 and the second motor generator 5 are positive. A collinear diagram at this time is shown in <figref idrefs="f0013">Fig. 21</figref>. When there is no charge/discharge to/from the battery 18, the first motor generator 4 performs a regeneration and the second motor generator 5 is allowed to perform the power running by using this regenerated electric power.</li><li>(3) HIGH gear ratio state (refer to <figref idrefs="f0013">Fig. 22</figref>)<br/>
A state where the vehicle runs by the internal combustion engine 2 and the rotational speed of the first motor generator 4 is equal to zero (0). A collinear diagram at this time is shown in <figref idrefs="f0013">Fig. 22</figref>. Since the rotational speed of the first motor generator 4 is equal to zero (0), the regeneration is not performed. Therefore, when there is no charge/discharge to/from the battery 18, the power running<!-- EPO <DP n="52"> --> or regeneration is not performed in the second motor generator 5 and the torque instruction value Tmg2 of the second motor generator 5 is equal to zero (0). A ratio between the engine rotational speed and the rotational speed of the drive axis 8 is equal to k1/(1+k1).</li><li>(4) State where a motive power circulation has occurred (refer to <figref idrefs="f0014">Fig. 23</figref>)<br/>
In the state where the vehicle speed is further higher than that in the HIGH gear ratio state in <figref idrefs="f0013">Fig. 22</figref>, the vehicle enters a state where the first motor generator 4 rotates reversely. In this state, the first motor generator 4 performs the power running and an electric power is consumed. Therefore, when there is no charge/discharge to/from the battery 18, the second motor generator 5 performs a regeneration and performs a power generation.</li></ol></p><p id="p0044" num="0044">Although the embodiment of the invention has been described above, the construction of the foregoing embodiment is applied to each claim and will be described.<br/>
First, in the invention according to claim 1, the control means 17 has: the provisional target engine power calculating means 17D for calculating the provisional target engine power from the target drive power set by the target drive power settingmeans 17B and the target charge/discharge power set by the target charge/discharge power setting means 17C; the target engine power lower limit value calculating means 17H for calculating the target engine power lower limit<!-- EPO <DP n="53"> --> value on the basis of the accelerator opening degree or the target drive force which is calculated from the accelerator opening degree; the target electric power calculating means 17K for calculating the target electric power from the difference between the target engine power and the target drive power which are calculated on the basis of the provisional target engine operation point; and the motor torque instruction value operating means 17L for setting the torque instruction value of each of the plurality of motor generators 4 and 5 on the basis of the provisional target engine operation point set by the provisional target engine operation point setting means 17E.<br/>
The provisional target engine power calculating means 17D compares the provisional target engine power which is calculated from the target drive power set by the target drive power settingmeans 17B and the target charge/discharge power set by the target charge/discharge power setting means 17C with the target engine power lower limit value. When the provisional target engine power is smaller than the target engine power lower limit value, the means 17D sets the target engine power lower limit value to the provisional target engine power and outputs the provisional target engine power.<br/>
The motor torque instruction value operating means 17L also calculates the torque instruction value of each of the plurality of motor generators 4 and 5 by using the torque balance equation including the target engine<!-- EPO <DP n="54"> --> torque which is obtained from the target engine operation point and the electric power balance equation including the target electric power.<br/>
Thus, such a situation that the target engine power is set to a low power in dependence on the vehicle speed is reduced, and when the large drive force is requested, the output can be raised so as to make a response to such a request. Since the output improvement by the target engine power lower limit value intends to eliminate the too low output state, it is lower than the target engine power in the normal run and an excessive load is not applied to the system.<br/>
In the invention according to claim 2, the control means 17 has the electric power upper/lower limit value calculating means 17I for setting the electric power upper limit value and the electric power lower limit value to restrict the input/output electric powerto/fromthe battery 18 on the basis of the battery state. The target engine power lower limit value calculating means 17H corrects the target engine power lower limit value so as to restrict it on the basis of the electric power lower limit value and outputs the target engine power lower limit value to the provisional target engine power calculating means 17D.<br/>
Thus, by setting the lower limit value according to the battery state, the overdischarge and overload to the battery 18 can be prevented. In a state where the raised output is continuously maintained, the power can be further<!-- EPO <DP n="55"> --> restricted to the lower limit value according to the battery state.<br/>
In the invention according to claim 3, the control means 17 has the electric power loss presuming means 17J for calculating the presumption power serving as an electric power loss on the basis of the vehicle speed and the target drive force. The target engine power lower limit value calculating means 17H corrects the electric power lower limit value by using the presumption power serving as an electric power loss, corrects the target engine power lower limit value so as to restrict it on the basis of the corrected electric power lower limit value, and outputs the target engine power lower limit value to the provisional target engine power calculating means 17D.<br/>
Thus, by setting the lower limit value according to the battery state in consideration of the presumption power serving as an electric power loss of the plurality of motor generators 4 and 5, since the control precision of the charge/discharge electric power is raised, the overdischarge and overload to the battery 18 can be prevented.</p><heading id="h0010">Industrial Applicability</heading><p id="p0045" num="0045">The drive control apparatus according to the invention can be applied not only to the hybrid vehicle but also to another electric vehicle such as an electric car or the like.<!-- EPO <DP n="56"> --></p><heading id="h0011">Reference Signs List</heading><p id="p0046" num="0046"><dl id="dl0002"><dt>1</dt><dd>Drive control apparatus of hybrid vehicle</dd><dt>2</dt><dd>Internal combustion engine (ENG)</dd><dt>4</dt><dd>First motor generator (MG1)</dd><dt>5</dt><dd>Second motor generator (MG2)</dd><dt>6</dt><dd>Drive wheel</dd><dt>8</dt><dd>Drive axis (OUT)</dd><dt>9</dt><dd>Power transmission mechanism</dd><dt>15</dt><dd>First inverter</dd><dt>16</dt><dd>Second inverter</dd><dt>17</dt><dd>Control means</dd><dt>17A</dt><dd>Target drive force setting means</dd><dt>17B</dt><dd>Target drive power setting means</dd><dt>17C</dt><dd>Target charge/discharge power setting means</dd><dt>17D</dt><dd>Provisional target engine power calculating means</dd><dt>17E</dt><dd>Provisional target engine operation point setting means</dd><dt>17F</dt><dd>Target engine operation point setting means</dd><dt>17G</dt><dd>Target engine power setting means</dd><dt>17H</dt><dd>Target engine power lower limit value calculating means</dd><dt>17I</dt><dd>Electric power upper/lower limit value calculating means</dd><dt>17J</dt><dd>Electric power loss presuming means</dd><dt>17K</dt><dd>Target electric power calculating means</dd><dt>17L</dt><dd>Motor torque instruction value operating means</dd><dt>18</dt><dd>Battery<!-- EPO <DP n="57"> --></dd><dt>32</dt><dd>Accelerator opening degree detecting means</dd><dt>33</dt><dd>Vehicle speed detecting means</dd><dt>34</dt><dd>Battery charge state detecting means</dd><dt>35</dt><dd>Engine rotational speed detecting means</dd><dt>39</dt><dd>Battery state detecting means</dd></dl></p></description><claims mxw-id="PCLM56977117" lang="EN" load-source="patent-office"><!-- EPO <DP n="58"> --><claim id="c-en-0001" num="0001"><claim-text>A drive control apparatus of a hybrid vehicle for driving and controlling a vehicle by using outputs from an internal combustion engine and a plurality of motor generators, comprising:
<claim-text>accelerator opening degree detecting means for detecting an accelerator opening degree;</claim-text>
<claim-text>vehicle speed detecting means for detecting a vehicle speed;</claim-text>
<claim-text>battery charge state detecting means for detecting a charge state of a battery; and</claim-text>
<claim-text>control means having target drive power setting means for setting a target drive power on the basis of the accelerator opening degree detected by the accelerator opening degree detecting means and the vehicle speed detected by the vehicle speed detecting means, target charge/discharge power setting means for setting a target charge/discharge power on the basis of at least the charge state of the battery detected by the battery charge state detecting means, provisional target engine power calculating means for calculating a provisional target engine power from the target drive power set by the target drive power setting means and the target charge/discharge power set by the target charge/dischargepower setting means, provisional target engine operation point setting means for setting a provisional target engine operation point to decide<!-- EPO <DP n="59"> --> a provisional target engine rotational speed and a provisional target engine torque from the provisional target engine power calculated by the provisional target engine power calculating means and a retrieval map, and motor torque instruction value operating means for setting a torque instruction value of each of the plurality of motor generators on the basis of the provisional target engine operation point set by the provisional target engine operation point setting means,</claim-text>
<claim-text>wherein the control means has target engine power lower limit value calculating means for calculating a target engine power lower limit value on the basis of the accelerator opening degree or a target drive force which is calculated from the accelerator opening degree and target electric power calculating means for calculating a target electric power from a difference between a target engine power and the target drive power which are calculated on the basis of the provisional target engine operation point, and</claim-text>
<claim-text>wherein the provisional target engine power calculating means compares the provisional target engine power which is calculated from the target drive power set by the target drive power setting means and the target charge/discharge power set by the target charge/discharge power setting means with the target engine power lower limit value and, when the provisional target engine power is smaller than the target engine power lower limit value, sets the target engine power lower limit value to the provisional<!-- EPO <DP n="60"> --> target engine power and outputs the provisional target engine power, and</claim-text>
<claim-text>the motor torque instruction value operating means calculates the torque instruction value of each of the plurality of motor generators by using a torque balance equation including a target engine torque which is obtained from the target engine operation point and an electric power balance equation including the target electric power.</claim-text></claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>A drive drive control apparatus of the hybrid vehicle according to claim 1, wherein the control means has electric power upper/lower limit value calculating means for setting an electric power upper limit value and an electric power lower limit value to restrict an input/output electric power to/from the battery on the basis of the battery state, and the target engine power lower limit value calculating means corrects the target engine power lower limit value so as to restrict it on the basis of the electric power lower limit value and outputs the target engine power lower limit value to the provisional target engine power calculating means.</claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>A drive drive control apparatus of the hybrid vehicle according to claim 2, wherein the control means has electric power loss presuming means for calculating a presumption power serving as an electric power loss on the basis of the vehicle speed, and the target drive force and<!-- EPO <DP n="61"> --> the target engine power lower limit value calculating means corrects the electric power lower limit value by using a presumption power serving as an electric power loss, corrects the target engine power lower limit value so as to restrict it on the basis of the corrected electric power lower limit value, and outputs the target engine power lower limit value to the provisional target engine power calculating means.</claim-text></claim></claims><drawings mxw-id="PDW16667835" load-source="patent-office"><!-- EPO <DP n="62"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="155" he="137" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="63"> --><figure id="f0002" num="2,3"><img id="if0002" file="imgf0002.tif" wi="159" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="64"> --><figure id="f0003" num="4"><img id="if0003" file="imgf0003.tif" wi="143" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="65"> --><figure id="f0004" num="5"><img id="if0004" file="imgf0004.tif" wi="146" he="204" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="66"> --><figure id="f0005" num="6"><img id="if0005" file="imgf0005.tif" wi="120" he="189" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="67"> --><figure id="f0006" num="7,8"><img id="if0006" file="imgf0006.tif" wi="155" he="232" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="68"> --><figure id="f0007" num="9,10"><img id="if0007" file="imgf0007.tif" wi="164" he="226" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="69"> --><figure id="f0008" num="11,12"><img id="if0008" file="imgf0008.tif" wi="161" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="70"> --><figure id="f0009" num="13,14"><img id="if0009" file="imgf0009.tif" wi="162" he="227" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="71"> --><figure id="f0010" num="15,16"><img id="if0010" file="imgf0010.tif" wi="145" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="72"> --><figure id="f0011" num="17,18"><img id="if0011" file="imgf0011.tif" wi="149" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="73"> --><figure id="f0012" num="19,20"><img id="if0012" file="imgf0012.tif" wi="151" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="74"> --><figure id="f0013" num="21,22"><img id="if0013" file="imgf0013.tif" wi="109" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="75"> --><figure id="f0014" num="23"><img id="if0014" file="imgf0014.tif" wi="120" he="149" img-content="drawing" img-format="tif"/></figure></drawings><search-report-data><doc-page id="srep0001" file="srep0001.tif" wi="165" he="231" type="tif"/><doc-page id="srep0002" file="srep0002.tif" wi="165" he="231" type="tif"/></search-report-data><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
