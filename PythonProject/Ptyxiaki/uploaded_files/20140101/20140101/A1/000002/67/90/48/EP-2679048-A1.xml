<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2679048-A1" country="EP" doc-number="2679048" kind="A1" date="20140101" family-id="44483827" file-reference-id="255733" date-produced="20180826" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146551020" ucid="EP-2679048-A1"><document-id><country>EP</country><doc-number>2679048</doc-number><kind>A1</kind><date>20140101</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-11719645-A" is-representative="NO"><document-id mxw-id="PAPP154824943" load-source="docdb" format="epo"><country>EP</country><doc-number>11719645</doc-number><kind>A</kind><date>20110225</date><lang>EN</lang></document-id><document-id mxw-id="PAPP180844598" load-source="docdb" format="original"><country>EP</country><doc-number>11719645.1</doc-number><date>20110225</date></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140446169" ucid="IB-2011050823-W" linkage-type="A" load-source="docdb"><document-id format="epo"><country>IB</country><doc-number>2011050823</doc-number><kind>W</kind><date>20110225</date></document-id></priority-claim></priority-claims><technical-data><classification-ipc><edition>7</edition><main-classification>H04L  12/56</main-classification></classification-ipc><classifications-ipcr><classification-ipcr mxw-id="PCL1988113265" load-source="docdb">H04W  28/12        20090101AFI20121019BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-2032827557" load-source="docdb" scheme="CPC">H04W  28/12        20130101 LI20150807BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2032834279" load-source="docdb" scheme="CPC">H04L  47/14        20130101 LI20150807BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988095937" load-source="docdb" scheme="CPC">H04L  47/127       20130101 FI20131214BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132185544" lang="DE" load-source="patent-office">VERFAHREN ZUM EINBRINGEN VON NETZWERKÜBERLASTUNGSVORHERSAGEN IN RICHTLINIENENTSCHEIDUNGEN</invention-title><invention-title mxw-id="PT132185545" lang="EN" load-source="patent-office">METHOD FOR INTRODUCING NETWORK CONGESTION PREDICTIONS IN POLICY DECISION</invention-title><invention-title mxw-id="PT132185546" lang="FR" load-source="patent-office">PROCÉDÉ POUR INTRODUIRE DES PRÉDICTIONS DE CONGESTION DE RÉSEAU DANS UNE DÉCISION DE POLITIQUE</invention-title><citations><non-patent-citations><nplcit><text>See references of WO 2012131424A1</text><sources><source mxw-id="PNPL67455379" load-source="docdb" name="SEA"/></sources></nplcit></non-patent-citations></citations></technical-data><parties><applicants><applicant mxw-id="PPAR918137586" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>ERICSSON TELEFON AB L M</last-name><address><country>SE</country></address></addressbook></applicant><applicant mxw-id="PPAR918136978" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>TELEFONAKTIEBOLAGET LM ERICSSON (PUBL)</last-name></addressbook></applicant><applicant mxw-id="PPAR918990287" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Telefonaktiebolaget LM Ericsson (PUBL)</last-name><iid>101314911</iid><address><city>164 83 Stockholm</city><country>SE</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR918167289" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>CARNERO ROS ROBERTO DAVID</last-name><address><country>ES</country></address></addressbook></inventor><inventor mxw-id="PPAR918169791" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>CARNERO ROS, ROBERTO DAVID</last-name></addressbook></inventor><inventor mxw-id="PPAR918988145" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>CARNERO ROS, ROBERTO DAVID</last-name><address><street>Avda. De Abrantes nr. 57</street><city>ES-28025 Madrid</city><country>ES</country></address></addressbook></inventor><inventor mxw-id="PPAR918133449" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>PEREZ LAINEZ REBECA BEATRIZ</last-name><address><country>ES</country></address></addressbook></inventor><inventor mxw-id="PPAR918148870" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>PEREZ LAINEZ, REBECA BEATRIZ</last-name></addressbook></inventor><inventor mxw-id="PPAR918985243" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>PÉREZ LAINEZ, Rebeca Beatriz</last-name><address><street>C/ Via de los Poblados 13.</street><city>ES-28033 Madrid</city><country>ES</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR918983644" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Pfeifer, Torsten</last-name><suffix>et al</suffix><iid>100057377</iid><address><street>Ericsson GmbH Patent Department Ericsson Allee 1</street><city>52134 Herzogenrath</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="IB-2011050823-W"><document-id><country>IB</country><doc-number>2011050823</doc-number><kind>W</kind><date>20110225</date><lang>EN</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2012131424-A1"><document-id><country>WO</country><doc-number>2012131424</doc-number><kind>A1</kind><date>20121004</date><lang>EN</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS548835414" load-source="docdb">AL</country><country mxw-id="DS548863628" load-source="docdb">AT</country><country mxw-id="DS548835415" load-source="docdb">BE</country><country mxw-id="DS548931388" load-source="docdb">BG</country><country mxw-id="DS548920569" load-source="docdb">CH</country><country mxw-id="DS548922910" load-source="docdb">CY</country><country mxw-id="DS548863629" load-source="docdb">CZ</country><country mxw-id="DS548835416" load-source="docdb">DE</country><country mxw-id="DS548922911" load-source="docdb">DK</country><country mxw-id="DS548922912" load-source="docdb">EE</country><country mxw-id="DS548909297" load-source="docdb">ES</country><country mxw-id="DS548931389" load-source="docdb">FI</country><country mxw-id="DS548931390" load-source="docdb">FR</country><country mxw-id="DS548835417" load-source="docdb">GB</country><country mxw-id="DS548922913" load-source="docdb">GR</country><country mxw-id="DS548835418" load-source="docdb">HR</country><country mxw-id="DS548863630" load-source="docdb">HU</country><country mxw-id="DS548920578" load-source="docdb">IE</country><country mxw-id="DS548922914" load-source="docdb">IS</country><country mxw-id="DS548931391" load-source="docdb">IT</country><country mxw-id="DS548922915" load-source="docdb">LI</country><country mxw-id="DS548924310" load-source="docdb">LT</country><country mxw-id="DS548863631" load-source="docdb">LU</country><country mxw-id="DS548924311" load-source="docdb">LV</country><country mxw-id="DS548924312" load-source="docdb">MC</country><country mxw-id="DS548814713" load-source="docdb">MK</country><country mxw-id="DS548814714" load-source="docdb">MT</country><country mxw-id="DS548863632" load-source="docdb">NL</country><country mxw-id="DS548835419" load-source="docdb">NO</country><country mxw-id="DS548922916" load-source="docdb">PL</country><country mxw-id="DS548924313" load-source="docdb">PT</country><country mxw-id="DS548863633" load-source="docdb">RO</country><country mxw-id="DS548924326" load-source="docdb">RS</country><country mxw-id="DS548922917" load-source="docdb">SE</country><country mxw-id="DS548924327" load-source="docdb">SI</country><country mxw-id="DS548835420" load-source="docdb">SK</country><country mxw-id="DS548922918" load-source="docdb">SM</country><country mxw-id="DS548814715" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data><office-specific-data><eptags><ep-no-a-document-published>*</ep-no-a-document-published></eptags></office-specific-data></bibliographic-data><abstract mxw-id="PA100643242" ref-ucid="WO-2012131424-A1" lang="EN" load-source="patent-office"><p num="0000">There is provided a Congestion Prediction Engine "CPE" of a Policy and Charging Control "PCX"' architecture. The PCC architecture also has a congestion database, a Policy and Charging Enforcement Function "PCEF" device and a Policy and Charging Roles Function "PCRF" node. The CPE includes a processing unit of the CPE which defines a currently applicable congestion prediction. The CPE includes a network; interface unit of the CPE which defines from the congestion database actual congestion data for a latest time period. The processing unit of the CPE determines a subsequent congestion prediction for a subsequent time period by comparing the currently applicable congestion prediction with the actual congestion data and by applying machine learning techniques. The CPE includes a memory of the CPE in which the currently applicable congestion prediction is replaced with the subsequent congestion prediction. The network interface unit of the CPE sends to a network entity the currently applicable congestion prediction so the PCRF can make a policy decision with quality of service "QoS" based on the currently applicable congestion prediction, upon establishment or modification of an IP Connectivity Access Network "IP-CAN" session for a user. A Policy and Charging Rules Function "PCRF" node of a Policy and Charging Control "PCC" architecture for making policy decisions based on network congestion. There is provided a method of a Congestion Prediction Engine "CPE" of a Policy and Charging Control "PCC" architecture and a method of making policy decisions at a Policy and Charging Control "PCC" architecture based on network congestion.</p></abstract><abstract mxw-id="PA100972411" ref-ucid="WO-2012131424-A1" lang="EN" source="national office" load-source="docdb"><p>There is provided a Congestion Prediction Engine "CPE" of a Policy and Charging Control "PCX"' architecture. The PCC architecture also has a congestion database, a Policy and Charging Enforcement Function "PCEF" device and a Policy and Charging Roles Function "PCRF" node. The CPE includes a processing unit of the CPE which defines a currently applicable congestion prediction. The CPE includes a network; interface unit of the CPE which defines from the congestion database actual congestion data for a latest time period. The processing unit of the CPE determines a subsequent congestion prediction for a subsequent time period by comparing the currently applicable congestion prediction with the actual congestion data and by applying machine learning techniques. The CPE includes a memory of the CPE in which the currently applicable congestion prediction is replaced with the subsequent congestion prediction. The network interface unit of the CPE sends to a network entity the currently applicable congestion prediction so the PCRF can make a policy decision with quality of service "QoS" based on the currently applicable congestion prediction, upon establishment or modification of an IP Connectivity Access Network "IP-CAN" session for a user. A Policy and Charging Rules Function "PCRF" node of a Policy and Charging Control "PCC" architecture for making policy decisions based on network congestion. There is provided a method of a Congestion Prediction Engine "CPE" of a Policy and Charging Control "PCC" architecture and a method of making policy decisions at a Policy and Charging Control "PCC" architecture based on network congestion.</p></abstract><abstract mxw-id="PA100643243" ref-ucid="WO-2012131424-A1" lang="FR" load-source="patent-office"><p num="0000">L'invention concerne un moteur de prédiction de congestion (CPE) d'une politique et une architecture de commande de politique et de facturation (PCX). L'architecture PCC comprend une base de données de congestion, un dispositif à fonction d'application de politique et de facturation (PCEF) et un nœud à fonction de règles de politique et de facturation (PCRF). Le CPE comprend une unité de traitement qui définit une prédiction de congestion actuellement applicable ; un réseau ; et une unité d'interface qui définit à partir de la base des données de congestion des données de congestion réelles pour une dernière période. L'unité de traitement détermine une prédiction de congestion ultérieure pendant une durée ultérieure par comparaison de la prédiction de congestion actuellement applicable avec les données de congestion réelles et par application de techniques d'apprentissage de machine. Le CPE comprend également une mémoire dans laquelle la prédiction de congestion actuellement applicable est remplacée par la prédiction de congestion ultérieure. L'unité d'interface réseau envoie à l'entité réseau la prédiction de congestion actuellement applicable, de telle sorte que la PCRF peut prendre une décision de politique dont la qualité de service (QoS) est basée sur la prédiction de congestion actuellement applicable, lors de l'établissement ou de la modification d'une session de réseau d'accès à connectivité IP (IP-CAN) pour un utilisateur. L'invention concerne également un nœud à fonction de règles de politique et de facturation (PCRF) d'une architecture de commande de politique et de facturation (PCC) permettant de prendre des décisions de politique en fonction d'une congestion réseau. L'invention concerne enfin un procédé de moteur de prédiction de congestion (CPE) d'une architecture de commande de politique et de facturation (PCC) et un procédé de prise de décisions de politique sur une architecture de commande de politique et de facturation (PCC) en fonction d'une congestion de réseau.</p></abstract><abstract mxw-id="PA100972412" ref-ucid="WO-2012131424-A1" lang="FR" source="national office" load-source="docdb"><p>L'invention concerne un moteur de prédiction de congestion (CPE) d'une politique et une architecture de commande de politique et de facturation (PCX). L'architecture PCC comprend une base de données de congestion, un dispositif à fonction d'application de politique et de facturation (PCEF) et un noeud à fonction de règles de politique et de facturation (PCRF). Le CPE comprend une unité de traitement qui définit une prédiction de congestion actuellement applicable ; un réseau ; et une unité d'interface qui définit à partir de la base des données de congestion des données de congestion réelles pour une dernière période. L'unité de traitement détermine une prédiction de congestion ultérieure pendant une durée ultérieure par comparaison de la prédiction de congestion actuellement applicable avec les données de congestion réelles et par application de techniques d'apprentissage de machine. Le CPE comprend également une mémoire dans laquelle la prédiction de congestion actuellement applicable est remplacée par la prédiction de congestion ultérieure. L'unité d'interface réseau envoie à l'entité réseau la prédiction de congestion actuellement applicable, de telle sorte que la PCRF peut prendre une décision de politique dont la qualité de service (QoS) est basée sur la prédiction de congestion actuellement applicable, lors de l'établissement ou de la modification d'une session de réseau d'accès à connectivité IP (IP-CAN) pour un utilisateur. L'invention concerne également un noeud à fonction de règles de politique et de facturation (PCRF) d'une architecture de commande de politique et de facturation (PCC) permettant de prendre des décisions de politique en fonction d'une congestion réseau. L'invention concerne enfin un procédé de moteur de prédiction de congestion (CPE) d'une architecture de commande de politique et de facturation (PCC) et un procédé de prise de décisions de politique sur une architecture de commande de politique et de facturation (PCC) en fonction d'une congestion de réseau.</p></abstract><description mxw-id="PDES51676757" ref-ucid="WO-2012131424-A1" lang="EN" load-source="patent-office"><!-- EPO <DP n="2"/>--><p id="p0001" num="0001"> METHOD FOR INTRODUCING NETWORK CONGESTION </p><p id="p0002" num="0002"> PREDICTIONS IN POLICY DECISION </p><p id="p0003" num="0003">TECHNICAL FIELD </p><p id="p0004" num="0004"> The present invention generally relates to Policy decisions based on network conditions. (As used herein, references to the "present invention" or "invention" relate to exemplary embodiments and not ecessarily to every embodiment encompassed by the appended claims, } More particularly, the present invention relates to assignment of QoS based on prediction of network congestion., </p><p id="p0005" num="0005">BACKGROUND </p><p id="p0006" num="0006"> This section is intended to introduce the reader to various aspects of the ait that may be related to various aspects of the present invention. The following discussion is intended to provide .information to facilitate a better understanding of the present invention. Accordingly, it should be understood that statements in the following discussion are to be read in this light, and not as admissions of prior art. </p><p id="p0007" num="0007"> The introduction of broadband access technologies - linked with attractive charging models and new services - and the success of the smart phones have implied more network usage by end-subscribers. Although solutions increasing the speed in the access network have been defined during the last years (e.g., MSP A, L<sup>'</sup>f E), the network usage growth cannot be fully taken by such solutions. That is critical especially for the radio network, at least in the short-term. Due to that feci, telecommunications operators shall be ready to manage possible congestion situations in the access networks. </p><p id="p0008" num="0008"> 3GPP Rel-8 (and onwards) specifications propose a end-to-end congestion control mechanism based on admission control and resource reservation principles. Those principles imply that before establishing a new bearer for specific service flows, the network estimates if there is enough bandwidth in the network for setting the required Quality of Service "QoS". That implies the usage of Guaranteed-Bit-Rate (GBR) bearers (an IP Connectivity Access Network "IP-CAN" bearer with reserved bit-rate resources) for QoS demanding services together with priority handling. This is 
<!-- EPO <DP n="3"/>-->
 an end-to-end (e2e) congestion handling mechanism, where the congestion handling is enforced in the radio side. </p><p id="p0009" num="0009"> The e2e congestion control approach commented in previous paragraph requires a complete network upgrade. Due to the cost of such task, Operators are also considering other alternatives. One of such alternatives is the introduction of information about network load in the policy decision process. The basis for that is to add congestion status per location area available to Policy and Charging Control "PCC" architecture, thus given such information as input for the policy decision in a Policy and Charging control Rules Function "PCRF". The problem then is how (and where) the PCRF can get such network load information. Trying to solve such problem, some operators and vendors are proposing to use a direct connection from the PCRF towards a congestion database (it can be seen as an ad-hoc implementation of 3GPP Sp reference point for congestion status per location area information). </p><p id="p0010" num="0010"> Nevertheless, this solution does not enable a real-time congestion control. The congestion analysis, which is based on the counters and statistics available in the network Operation and Maintenance (OAM) system, (e.g. the OSS), requires some processing time (15 minutes in most of the systems). So when the PCRF has the congestion status available, such information is not useful for taking an adequate policy decision {congestion conditions can change very fast). </p><p id="p0011" num="0011"> The following problems have been identified for the existing solutions: </p><p id="p0012" num="0012"> 3GPP admission control and resource reservation procedure: </p><p id="p0013" num="0013"> * It requires a complete e2e network update, </p><p id="p0014" num="0014"> * it requires important system integration effort and cost., </p><p id="p0015" num="0015"> * it requires terminals support. </p><p id="p0016" num="0016"><sup>»</sup> It is a high-cost solution, not addressing a market-need in a flat-credit situation. </p><p id="p0017" num="0017"> Polic decisions based on network load: </p><p id="p0018" num="0018"> Not real time solution. The congestion status is available when maybe the congestion situation is over. Maybe the processing time for getting the congestion status information can be reduced, but impacting the characteristics and performance of the whole network. 
<!-- EPO <DP n="4"/>-->
 SUMMARY </p><p id="p0019" num="0019"> To overcome these problems, or at least to mitigate t em, the present invention generally provides for making use of machine-learning techniques in order to perform congestion predictions per location area (e.g. cell group of cells, routing area, etc ). </p><p id="p0020" num="0020"> The present invention pertains to a Congestion Prediction Engine "CPE" of a PCC architecture. The PCC architecture also has a congestion database, a Policy and Charging Enforcement Function "PCEF" device and a Policy and Charging Rules Function "PCRF" node. The CPE comprises a processing unit of the CPE which defines a currently applicable congestion prediction. The CPE comprises a network interface unit of the CPE which obtains from the congestion database actual congestion data for a latest time period. The processing unit of the CPE determines a subsequent congestion prediction for a subsequent time period by comparing the currently applicable congestion prediction with the actual congestion data and by applying machine learning techniques. The CPE comprises a memory of the C E in which the currentl applicable congestion prediction is replaced with the subsequent congestion prediction. The network interface unit of the CPE sends to a network entity the currently applicable congestion prediction so the PCRF can make a policy decision with quality of service "QoS" based on the currently applicable congestio prediction, upon establishment or modification of an IP Connectivity Access Network "IP-CAN" session for a user. In particular, this network entity may be a Subscription Profile Repository "SPR" of the PCC architecture, a User Database Repository "UDR", a congestion prediction database, the congestion database, or even the PCRF node of the PCC architecture if no other intermediate node is used. </p><p id="p0021" num="0021"> The present invention pertains to a PCRF node of a PCC architecture for making policy decisions based on network congestion. The PCC architecture has a PCEF device. The PCRF node comprises a network interface unit of the PCRF node which receives from the PCEF device of the PCC architecture, upon establishment or modification of an iP-CAN session for a user, a request for a policy decision to be enforced for the IP-CAN session, and then obtains from a network entity a currently applicable congestion prediction. In particular, this network entity may be a Subscription Profile Repository "SPR" of the PCC architecture, a User Database Repository "UDR", a congestion prediction database, the congestion database, or even 
<!-- EPO <DP n="5"/>-->
 the Congestion Prediction Engine "CPE" of the PCX architecture. The PCRF node comprises a processing unit of the PCRF node which makes a policy decision with QoS based on the currently applicable congestion prediction, the network interface unit of the PCRF node submits to the PCEF device the policy decision to be enforced for the IP-CAN session. </p><p id="p0022" num="0022"> The present invention pertains to a method of a CPE of a PCC architecture. The PCC architecture also has a congestion database, a PCEF device and a PCRF node. The method comprises the steps of defining with a processing unit of the CPE a currently applicable congestion prediction. There is the step of obtaining at a network interface unit of the CPE from the congestio database actual congestio data for a latest time period. There is the step of determining with the processing unit of the CPE a subsequent congestion prediction for a subsequent time period by comparing the currently applicable congestion prediction with the actual congestion data and by applying mach ine learning tec hniques. There is t he step of replacing i a memory of the CPE the currently applicable congestion prediction with the subsequent congestion prediction. There is the step of sending from the network interface unit of the CPE to a network entity the currently applicable congestion prediction so the PCRF can make a policy decision with QoS based on the currently applicable congestion prediction, upon establishment or modification of an ΪΡ-CAN session for a user. In particular, the network entity receiving the currently applicable congestion prediction may be a Subscription Profile Repository "SPR" of the PC <sup>"</sup> architecture, a User Database Repository "UDR", a congestion prediction database, the congestion database, or even the PCRF node of the PCC architecture directly receiving the currently applicable congestion prediction from the CPE if no other intermediate node is used. </p><p id="p0023" num="0023"> The present inventio pertains to a method of making policy decisions at a PCC architecture based on network congestion. The PCC<sup>"</sup> architecture has a PCEF device and a PCRF node. The method comprises the steps of receiving at a network interface unit of the PCRF node from the PCEF device of the PCC architecture, upon establishment or modificatio of an IP-CAN session for a user, a request for a policy decision to be enforced for the IP-CAN session. There is the step of obtaining at the network interface unit of the PCRF node from a network entity a currently applicable congestion prediction. There is the step of making at a processing unit of the PCRF 
<!-- EPO <DP n="6"/>-->
 node a policy decision with QoS based on the currently applicable congestion prediction. There is the step of submitting from the PCRF node to the PCEF device the policy decision to be enforced for the IP-CAN session, in particular, the network entity submitting the currentl applicable congestion prediction to the PCRF node may be a Subscription Profile Repository "SPR" of the PCC architecture, a User Database Repository "UDR", a congestion prediction database, the congestion database, or even the Congestion Prediction Engine "CPE" of the PCC architecture. </p><p id="p0024" num="0024"> The present invention provides for a new CPE, which obtains actual congestion data for a latest time period (e.g. day, week or month) from a congestion database, and makes a congestion prediction for a next time period; and an enhanced PCRF, which makes use of such congestion prediction at IP-CAN Session Establishment or Modification procedures for assigning an appropriate QoS based on said congestion prediction. In addition, the new Congestion Prediction Engine 'learns' for farther predictions by comparing each prediction with the actual congestion data obtained from the congestion database. </p><p id="p0025" num="0025"> The present invention thus provides for a method of assigning QoS for an IP- CAN session based on network congestion. The method comprising the steps of: </p><p id="p0026" num="0026"> - defining a currently applicable congestion prediction at a CPE of PCC architecture; </p><p id="p0027" num="0027"> - obtaining at the CPE from a congestion database actual congestion data for a latest time period; </p><p id="p0028" num="0028"> - determining at the CPE a subsequent congestion prediction for a subsequent time period by comparing the currently applicable congestion prediction with the actual congestion data and by applying machine learning techniques; </p><p id="p0029" num="0029"> replacing at the CPE the currently applicable congestion prediction with the subsequent congestion prediction; and </p><p id="p0030" num="0030"> providing the currently applicable congestion prediction towards a network entity; </p><p id="p0031" num="0031"> upon an IP-CA session establishment or IP-CAN session modification for a user, receiving at a PCRF from a PCEF of the PCC architecture a request for a policy decision to be enforced for the IP-CAN session; 
<!-- EPO <DP n="7"/>-->
 obtaining the currently applicable congestion prediction at the PCRF and making a policy decision with QoS based on the currently applicable congestion prediction; and </p><p id="p0032" num="0032"> submitting from the PCRF to the PCEF the policy decision to be enforced for the IP-CAN session. </p><p id="p0033" num="0033"> Advantageously in this method, both congestion prediction and actual congestion data are applied per location basis. </p><p id="p0034" num="0034"> In particular, the time period for which each subsequent congestion prediction is determined is configurable at the CPE. Additional advantages are foreseeable where CPE provides the currently applicable congestion prediction towards the network entity along with an indication of the time period during which the congestion prediction is valid. Where the time period is indicated, the policy decision submitted from the PCRF to the PCEF may include a corresponding indication of the time period during which the policy decision is valid. </p><p id="p0035" num="0035"> Advantageously, the network entity receiving the currently applicable congestion prediction from the CPE may be an SPR of the PCC architecture, a User Database Repository "UDR" a congestion prediction database, or the PCRF of the PCC architecture. Likewise, the network entity submitting the currently applicable congestion prediction to the PCRF may be an SPR of the PCC architecture, a User Database Repository "UDR", a congestion prediction database, or the CPE of the PCC architecture. </p><p id="p0036" num="0036">BR IEF DESCRIPTION OF THE DRAWINGS </p><p id="p0037" num="0037"> In the accompanying drawings, the preferred embodiment of the invention aud preferred methods of practicing the invention are illustrated in which: </p><p id="p0038" num="0038"> Figure I shows building blocks of the present invention. </p><p id="p0039" num="0039"> Figure 2 shows a sequence diagram of the present invention. </p><p id="p0040" num="0040"> Figure 3 shows the machine learning process of the present invention. </p><p id="p0041" num="0041"> Figure 4 is a block diagram of a congestion prediction engine of the present invention. </p><p id="p0042" num="0042"> Figure 5 is a block diagram of a PCRF node of the present i nvention. </p><p id="p0043" num="0043"> Figure 6 shows a PCC architecture regarding the present invention. 
<!-- EPO <DP n="8"/>-->
 Figure 7 shows a PCC policy and charging control architecture (SPR used and non roaming case). </p><p id="p0044" num="0044">DETAILED DESCRIPTION </p><p id="p0045" num="0045"> Referring now to the drawings wherein like reference numerals refer to similar or identical parts throughout the several views, and more specifically to figure 4 thereo there is shown a CPE 10 of a PCC architecture. The PCC architecture also has a congestion database 18, a PCEF device 22 and a PCRF node 20, as illustrated in Fig. I and 2. As shown in figure 4, the CPE 10 comprises a processing unit 14 of the CPE 10 which defines a currently applicable congestion prediction. The CPE 10 comprises a network interface unit 12 of the CPE 10 which obtains from the congestion database 18 actual congestion data for a latest time period. The processing unit 14 of the CPE 10 determines a subsequent congestion prediction for a subsequent time period by comparing the currently applicable congestion prediction with the actual congestion data and by applying machine learning techniques. The CPE 10 comprises a memory 16 of the CPE 10 in which the currently applicable congestion prediction is replaced with the subsequent congestion prediction. The network interface unit 12 of the CPE 10 sends to a network entit 28 the currently applicable congestion prediction so the PCRF can make a policy decision with QoS based on the currently applicable congestion prediction, upon establishment or modification of an IP-CAN session for a user. </p><p id="p0046" num="0046"> The network entity 28 may be an entity selected from: a Subscription Profile Repository "SPR" 24 of the PCC architecture, a User Database Repository "UDR" 26, a congestion prediction database, the congestion database 18, and the PCRF node 20 of the PCC architecture. The network interface unit 12 of the CPE 10 may obtain from the congestion database 18 actual congestio data, for a latest time period, and the processing unit 14 of the CPE 10 applies machine learning techniques to the actual congestio dat in order to determine the currently applicable congestion prediction. </p><p id="p0047" num="0047"> The processing unit 14 of the CPE 10 may compare how different the congestion of the currently applicable congestion prediction and the congestion of the actual congestion data were for the time period, and makes a new congestion prediction for a next time period by applying machine learning techniques to results from the comparing step, and the network interface unit 12 of the CPE 10 provides the new 
<!-- EPO <DP n="9"/>-->
 congestion prediction to the network entity 28 so the PCRF node 20 can make a policy decision with QoS based on the new prediction for the next time period. The network interface unit 12 of the CPE 10 may send to the network entity 28 an indication of a time period during which the congestion prediction is valid. The network interface unit 12 of the CPE 10 may obtain average throughput per location area, average number of users per location area, a tioiesiamp associated with the actual congestion data and a location identifier. </p><p id="p0048" num="0048"> The present invention pertains to a PCRF node of a PCC architecture for making policy decisions based on network congestion, as shown in figure 5. The PCC architecture has a PCEF device 22. The PCRF node 20 comprises a network interlace unit 32 of the PCRF node 20 which receives from the PCEF device 22 of the PCC architecture, upon establishment or modification of an IP-CAN session for a user, a request for a policy decision to be enforced tor the IP-CAN session, and then obtains from a network entity 28 a currently applicable congestion prediction. The PCRF node 20 comprises a processing unit 34 of the PCRF node 20 which makes a policy decision with QoS based on the currently applicable congestion prediction, the network interface unit 32 of the PCRF node 20 submits to the PCEF device 22 the policy decision to be enforced for the IP-CAN session. </p><p id="p0049" num="0049"> The network entity 28 ma be an entity selected from: an SPR 24 of the PCC architecture, a UDR 26, a congestion prediction database, the congestion database ! 8, and the CPE 10 node of the PCC architecture. The network interface unit 32 of the PCRF node 20 may obtain from the network entity 28 an indication of a time period during which the congestion prediction is valid. Where this is the case, the network interface unit 32 of the PCRF node 20 may submit to the PCEF device 22 an indication of the time period during which the policy decision is valid. </p><p id="p0050" num="0050"> The present invention pertains to a method of a CPE 10 of PCC architecture. The PCC architecture also has a congestion database 18, a PCEF device 22 and a PCRF node 20. The method comprises the steps of defining with a processing unit 14 of the CPE 10 a currently applicable congestion prediction. There is die step of obtaining at a network interface unit 12 of the CPE .10 from the congestion database 18 actual congestion data for a latest time period. There is the step of determining with the processing unit 14 of the CPE 10 a subsequent congestion predictio for a subsequent 
<!-- EPO <DP n="10"/>-->
 time period by comparing the currently applicable congestion prediction with the actual congestion data and by applying machine learning techniques. There is the step of replacing in a memory 1 of the CPE 10 the currently applicable congestion prediction with the subsequent congestion prediction. There is the step of sending from the network interface unit 12 of the CPE 10 to a network entit 28 the currently applicable congestion prediction so the PCRF can make a policy decision with QoS based on the currently applicable congestion prediction, upon establishment or modification of an IP-CAN sessio for a user. </p><p id="p0051" num="0051"> The network entity 28 may be an entity selected from: an SPR 24 of the PCC architecture, a UDR 26, a congestion prediction database, the congestion database 18, and the PCRF node 20 of the PCC architecture. The step of defining a currently applicable congestion prediction may include a step of obtaining at a network interface unit 32 of the CPE 10 from the congestion database 18 actual congestion data for a latest time period, and a step of applying machine learning techniques to the actual congestion data in order Co determine the currently applicable congestion prediction. </p><p id="p0052" num="0052"> The step of determining a subsequent congestio prediction for a. subsequent time period may include a step of comparing with the processing unit 14 of the CPE 10 how different the congestion of the currently applicable congestion prediction and the congestion of the actual congestion data were for the time period, a step of making with the processing unit 14 of the CPE 10 a new congestion prediction for a next time period by applying machine learning techniques to results from the comparing step, and a step of providing from the network interface unit 12 of the CPE 10 the new congestion prediction to the network entity 28 so the PCRF node 20 can make a policy decision with QoS based on the new prediction for the next time period. </p><p id="p0053" num="0053"> The step of sending to a network entity 28 the currently applicable congestion prediction may include step of sending to the network entity 28 an indication of a time period during which the congestion prediction is valid. The step of obtaining actual congestion data from the congestion database 18 may include the step of obtaining average throughput per iocation area, average number of users per iocation area, a iimestamp associated with the actual congestion data and a location identifier. 
<!-- EPO <DP n="11"/>-->
 There may be the step of removing by the processing unit 14 of the CPE 10 input attributes from congestion data in the congestion database 18 that are not relevant for the currently applicable congestion prediction. There may be the step of transforming by the processing unit 14 of the CPE 10 the actual congestion data received from the congestion database 18 into a format required by the machine learning techniques. </p><p id="p0054" num="0054"> The present invention pertains to a method of mak ing policy decisions at a PCC architecture based on network congestion. See figures 1 , 2 and 6. The PCC architecture has a PCEF device 22 and a PCRF node 20. The method comprises the steps of recei ving at a network interface unit 32 of the PCRF node 20 from the PCEF device 22 of the PCC architecture, upon establishment or modification of an IP-CAN session for a user, a request for a policy decision to be enforced for the IP-CAN session. There i the step of obtaining at die network interface unit 32 of the PCRF node 20 from a network entity 28 a currently applicable congestion prediction. There is the step of making at a processing unit 34 of the PCRF node 20 a policy decision with QoS based on the currently applicable congestion prediction. There is the step of submitting from the PCRF node 20 to the PCEF device 22 the policy decision to be enforced for the IP-CAN session. </p><p id="p0055" num="0055"> The network entity 28 ma be an entity selected from: an SPR 24 of the PCC architecture, a UDR 26, a congestion prediction database, the congestion database ! 8, and the CPE 10 node of the PCC architecttire. The step of obtaining from a network entity 28 a currently applicable congestion prediction may include a step of obtaining from the network entity 28 an indication of a time period during which the congestion prediction is valid. The step of submitting to the PCEF device 22 the policy decision may include a step of submitting from the PCRF node 20 to the PCEF device 22 an indication of the time period during which the polic decision is valid. </p><p id="p0056" num="0056"> In the operation of the present invention, machine-learning techniques are used for performing congestion predictions per location area (e.g. cell, group of cells, routing area, etc.). For such purpose, a new CPE 1.0 entity is proposed. Said entity takes the congestion information for the last time period (e.g. day, week or month) from a congestion database 18, and makes a congestion prediction for the next time period. The CPE 10 device then provisions such predictions in the SP 24 or UDR 26. The 
<!-- EPO <DP n="12"/>-->
 PCRF can then make use of such prediction at IP-CA Session Establishment or Modification procedures. Therefore the QoS assigned can take into account a predicted congested status. </p><p id="p0057" num="0057"> When the period of time for which the prediction was made is over, the CPE 10 will retrieve the actual congestion data for such period from the Congestion database 18. Then it will compare how different the congestion prediction and the congestion actual data were. Based on the results of such comparison, the CPE 10 will make a new prediction for the next period, making the learning process. And it stores those new predictions in the SPR 24 or UDR 26. Therefore the PCRF can make use of such new values for the next period of time. Alternatively, the new predictions may be directly submitted to the PCRF node 20, or to any other network entity 28, for storage therein. </p><p id="p0058" num="0058"> The aim of such learning process is to reduce the gap between the congestion prediction and the real data in subsequent cycles. In thai way, after several training cycles, the learning mechanism enables to make the prediction quite close to the actual value. In such way, the PCRF is aware in advance of the congestion status for the specific required location. </p><p id="p0059" num="0059"> The present invention utilizes a ne entity to be added to PCC architecture, called CPE 10. Such entit shall be capable of making congestion predictions for the location areas of the access network {e.g. cells, group of cells or routing areas). For such purpose, such entity makes use of one specific subset of data mining methods; machine-learning techniques. Data mining is defined as the process of discovering patterns in large data set in a semi-automated way in orde to obtain meaningful patterns and rules. Machine Learning, which belongs to Artificial Intelligence, consists of making use of statistics theory for building mathematical models capable of making inferences from a sample. </p><p id="p0060" num="0060"> Figure I describes the architectural mode! of the invention. The CPE 10 takes actual congestion information regarding the last time period {e.g. clay, week or month, in steps of 15 minutes) from a congestion database 18. The congestion database 18 contains historical congestion data per location area (e.g. cell, group of cells or routing area). Such information may be deducted from network OAM systems like the OSS. In fact a radio location is considered congested when a certain combination of the average number of subscribers per area and the average throughput in such area happens. 
<!-- EPO <DP n="13"/>-->
 Based on such input data, the CPE 10 shall be capable of making congestion prediction for the next equal period of time (e.g. day, week or month). For such purpose, the CPE iO makes use of machine learning techniques. The supervised learning methods, which are a subset of machine learning techniques, are the most adequate. Supervised learning methods are used for classification purposes, and consist of the analysis of the behavior and attributes of determined input parameters in order to predict the new behavior. </p><p id="p0061" num="0061"> As an example. Figure 3 describes how the congestio prediction may be performed. First of all, the CPE 10 retrieves the congestion relevant information from the congestion database 58. Among such information are the following: average throughput per location area (avgtp), average number of users (avgusr) per Iocaiion area, timestamp when the measurement was taken, and Iocation identifier. </p><p id="p0062" num="0062"> Then the CPE .10 selects to apply the supervised machine learning methods. Commonly, machine learning devices contain a software kit (for instance, <sup>'</sup>WEKA freeware) including an important amount of techniques. The aim of such is to enable an easy engine adaptation in case the chosen technique starts to have lack of accuracy, Weka is a freeware that provides collection of machine learning algorithms for data mining tasks. The algorithms can either be applied directly to dataset or called from your own Java code, Weka contains tools for data pre-processing, classification, regression, clustering, association rules, and visualization. It is also well-suited for developing new machine learning schemes, </p><p id="p0063" num="0063"> Weka is open source software issued under the GNU General Public License. It is developed by a New Zealand University {http://www.cs.w-aikato,ac,nz,½l/w'eka/). </p><p id="p0064" num="0064"> Following this, the CPE 10 removes the input attributes (retrieved from the radio OAM or congestion database 18} that could be not relevant for the location congestio prediction (for instance, the MSISDN of the subscribers in the iocation). Besides, and based on the combination of the avgtp and the avgusr, a congestion sta tus per cell is assigned. The following is just an example of ho such congestion status per cell assignment can be done: </p><p id="p0065" num="0065">IF avgusr &gt;<sup>::::</sup> 3 and avgtp &lt;-<sup>■</sup> 800 THEN congestion status 2 /""(congested) */ 
<!-- EPO <DP n="14"/>-->
 ELSE IF avgusr ·&gt; 2 and avgtp &lt; 1.200 kbps THEN congestion status™ 1. /^(trending to congestion) */ </p><p id="p0066" num="0066"> ELSE congestion™ 0 *(no congestion)*/ </p><p id="p0067" num="0067">The CPE 10 shall also transform the format of the input data in the one that the machine learning technique requires. For instance, if a decision tree ID3 technique is used, and due to the fact this specific technique just manages numeric information, the input data shall be transformed into numeric data. </p><p id="p0068" num="0068"> Therefore now the CPE 10 can choose the classificatio criterion. The congestion status is used as classification attribute. Based on such classification criterion, and using both the location identifier and the timestamp when the measurement was taken as attributes, the CPE 10 is capable of building, for instance, a .148 decision tree, whose output contains the congestion predictions per location area and timestamp. MS and 1D3 are two different kind of machine learning decision trees algorithms. J48 makes use of strings as for building the decision tree, and ID3 requires numerical data. </p><p id="p0069" num="0069"> When such predictions are available, the CPE 10 device can provision them in the SP 24 (or UDR 26), or any other suitable network entity accessible to the PCRF node, even the PCRF node itself. Then if the PCRF receives die location area at IP- CAN Session Establishment or Modification procedures (information included either in Gx 3GPP-User~Location-∑«fo or RAJ A VP, see reference [2], the PCRF can retrieve the congestion prediction for such location area from the SPR 24 (or UDR 26), and apply a specific policy. Due to that, the predicted congestion status can be used as input for the policy decision. Such policy decision can be, for instance, a bearer QoS or a bandwidth throttling decision on a per service level. And the PCEF can finally enforce a policy based on congestion prediction per location area. </p><p id="p0070" num="0070"> The key of the machine-learning techniques is the training process. This process enables the system to learn from what was wrongly predicted, and improve the future predictions. For such purpose, and when the period of time for which the previous prediction was made is over, the CPE 10 retrieves the actual congestion data for such period from the Congestion database 18. Then it compares how different the congestion prediction and the congestion actual data were. Based on the results of such 
<!-- EPO <DP n="15"/>-->
 comparison, the CPE 10 makes a new prediction for the next period. And it stores those ne predictions in the SPR 24 or UDR 26, or othe network entity, such as the PCRF node itself. Therefore the PCRF can make use of such new values for deciding the applicable policies daring the next period of time. </p><p id="p0071" num="0071"> It's important to highlight that for the first prediction, the CPE 10 does not execute any training process. The real congestion data for the last period of time retrieved then is the unique input used for making the predictio -cine to the CPE 10 does not have any other prediction previously executed, so no comparison is possible. The subsequent predictions will be capable of making the framing process properly - due to there is a previous prediction that can be -used for the comparison. </p><p id="p0072" num="0072"> Such cycle of retrieving data, making new predictions based on the learning procedure, and storing the new predictions in the SPR 24, is repeated each time the validity of the prediction expires, and for an unlimited number of cycles. Accordin to machine- learning principles, after a certain number of repetitions of the cycle, the predictions shall trend to be quite close to the actual values, makin the system more accurate. </p><p id="p0073" num="0073"> Figure 2 describes an example of sequence diagram for the invention according to PCC architecture. Steps I to 4 depict how the first prediction is executed, </p><p id="p0074" num="0074"> 1. The CPE 10 retrieves the congestion information of the last period of time (e.g. week, day) per locatio area (e.g. cell, routing area) from a congestion database 18. The time interval containing congestion information could be configurable (one hour, 24 hours, etc), </p><p id="p0075" num="0075"> 2. The CPE 10 makes the congestion prediction per cell for the next 24 hours making use of a machine learning techniques, </p><p id="p0076" num="0076"> 3. The congestion predictions are stored In the SPR 24 or UDR 26. </p><p id="p0077" num="0077"> 4. The CPE 10 starts an update timer. </p><p id="p0078" num="0078"> Steps 5 to 9 detail how such congestion information is used for the IP-CAN Session Establishment procedure according to reference [1 ] clause 7.2. Alternative flows for IP-CAN Session Modification as they are described in reference [1] clause 7.3 may be considered instead. </p><p id="p0079" num="0079"> 5. PCEF sends a Gx CCR. including the IMSI and the location (either RAI A.VP or 3GPP~User~I,ocation-rnfo A VP) to the PCRF. 
<!-- EPO <DP n="16"/>-->
 6. The PC F request congestion information to the SPR 24 for the received location. </p><p id="p0080" num="0080"> 7. The SPR 24 provides the congestion status for the requested location.</p><p id="p0081" num="0081">8. PCRF makes policy decision based on the congestion predicted status for suc location. Moreover, PCRF provides a validity time for such policy decision. </p><p id="p0082" num="0082"> 9. PCRF sends a Gx CCA including the policies to be applied by PCEF. Steps 10 to 13 describe the training process. </p><p id="p0083" num="0083"> 10. Tlie update timer expires, </p><p id="p0084" num="0084"> 1 L The CPE 10 retrieves the real congestion intornation .from the last retrieval (e.g. 1 week). </p><p id="p0085" num="0085"> 12. The CPE?, 1.0 compares the previous congestion prediction and the real, data. The CPE 10 makes use of the results of such comparison for predicting the new congestion status for the nex t period of ti me. </p><p id="p0086" num="0086"> 13. The new congestion predictions are stored in the SPR 24 or UDR 26, and the update tinier is restarted. </p><p id="p0087" num="0087"> The sequence diagram highlights that the dat retrieval, prediction and system training are done off-line, not impacting then PCRF performance. It's also important to highlight that this kind of deployment does not have any impact in existing legacy- systems or terminals. </p><p id="p0088" num="0088"> Policy and Charging Control (PCC) architecture permits to integrate both, policy and charging control. This architecture can be applied to the traffic done by a UE to access to content offered by a content provider. </p><p id="p0089" num="0089"> A simplified architecture for supporting Policy and Chargin Control functionalities is depicted in figure 7. This figure 7 shows some functional entities (nodes) and has been taken from TS 23.203 (V.10.2.0), which is a 3GPP document specifying the PCC functionality for Evolved 3GPP Packet Switched domain, including both 3 GPP accesses (GERA /UTRAN/E-UTRAN) and Non-3GPP accesses. </p><p id="p0090" num="0090"> A short description in relationship with the architecture shown in Fig. 7 is now provided. </p><p id="p0091" num="0091"> The PCRF (Policy Control and Charging Rules Function) is a functional element that encompasses policy control decision and flow based charging control 
<!-- EPO <DP n="17"/>-->
 functionalities. The PCRF provides network control regarding the service data flow detection, gating, QoS and flow based charging (except credit management) towards the PCEF. The PCRF receives session and medi related information from the AF and infonns AF of traffic plane events. The PCRF provisions PCC Rules to the PCEF via the Gx reference point. </p><p id="p0092" num="0092"> The PCEF (Policy and Charging Enforcement Function) is the functional element that encompasses policy enforcement and flow based charging functionalities. This functional, entity is preferably located at the Gateway (e.g. GGS in the GPRS case, and PDG in the WL.AN case). It provides control over the user plane traffic handling at the Gateway and its QoS, and provides service data flow detection and counting as well as online and offline charging interactions. </p><p id="p0093" num="0093"> The Application Function (AF) is an element offering applications in which service is delivered in a different layer (i.e. transport layer) from the one the service has been re uested (i.e. signaling layer), the control of IP bearer resources according to what has been negotiated . One example of an AF is the P-CSCF of the ISVl CN subsystem. The AF shall communicate with the PCRF to transfer dynamic session information (i.e. description of the media to he delivered in the transport layer). This communication is performed using the Rx interface. </p><p id="p0094" num="0094"> The TDF (Traffic Detection Function) can detect service with a service traffic detection mechanism. When the services detected, matches with specific service detection rules provided by the PCRF, TDF informs the PCRF about the detected senice. The PCRF can then react in the desired way with regard to the policy and charging control information for the detected traffic. The TDF terminology used in the standard corresponds to the DPI used in this document. </p><p id="p0095" num="0095"> The main advantages of the invention are listed below: </p><p id="p0096" num="0096"> * Predictions trend to be accurate after certain training repeats, so PCRF is capable of applying policy based on network conditions. </p><p id="p0097" num="0097"> Data retrieval, prediction and system training can be executed off-line, not impacting then PCRF performance. </p><p id="p0098" num="0098"> No impacts in existing legacy systems or terminals. 
<!-- EPO <DP n="18"/>-->
 Abbreviations </p><p id="p0099" num="0099"> 3GPP Third Generation Partnership Project </p><p id="p0100" num="0100"> e2e Bnd-to-end </p><p id="p0101" num="0101"> GBR Guara teed Bit Rate </p><p id="p0102" num="0102"> BSPA High Speed Packet Access </p><p id="p0103" num="0103"> IP-CAN IP Connectivity Access Network </p><p id="p0104" num="0104"> LIE Long Term Evolution </p><p id="p0105" num="0105"> OAM Operation and Maintenance </p><p id="p0106" num="0106"> OSS Operations Support System </p><p id="p0107" num="0107"> PCC Policy and Charging Control </p><p id="p0108" num="0108"> PCEF Policy and Charging Enforcement Function </p><p id="p0109" num="0109"> PCRF Policy and Charging Rules Function </p><p id="p0110" num="0110"> QoS Quality of Service </p><p id="p0111" num="0111"> SPR Subscription Profile Repository </p><p id="p0112" num="0112"> UDR User Data Repository </p><p id="p0113" num="0113">References </p><p id="p0114" num="0114"> 1. Policy and Charging Control architecture. 3GPP TS 23,203 v 10.0.2</p><p id="p0115" num="0115">2, Policy and Charging Control over Gx reference point. 3GPP TS 29.212 v.10.0.0. </p><p id="p0116" num="0116">Although the invention has been described in detail in the foregoing embodiments for the purpose of illustration, it is to be understood thai suc detail is solely for that purpose and that variations can be made therein by those skilled in the art without departing from the scope of the invention except as it may be described by the following claims. 
</p></description><claims mxw-id="PCLM45316151" ref-ucid="WO-2012131424-A1" lang="EN" load-source="patent-office"><claim-statement><!-- EPO <DP n="19"/>--> CLAIMS: </claim-statement><claim id="clm-0001" num="1"><claim-text> 1. A method of a Congestion Prediction Engine "CPE" of a Policy and Charging Control "PCC" architecture, the PC <sup>'</sup> architecture also has a congestion database, a Policy and Charging Enforcement Function "PCEF" device and a Policy and Charging Rules Function "PCRF" node, the method comprising the steps of: </claim-text><claim-text> defining with a processing unit of the CPE a currently applicable congestion prediction; </claim-text><claim-text> obtaining at a network interlace unit of the CPE from the congestion database actual congestion data for a latest time period; </claim-text><claim-text> determining with the processing unit of the CPE a subsequent congestion prediction for subsequent time period by comparing the currenti applicable congestion prediction with the actual congestion data and by applying machine learning techniques; </claim-text><claim-text> replacing in a memory of the CPE the currentl applicable congestion prediction with the subsequent congestion prediction; and </claim-text><claim-text> sending from the network, interface unit of the CPE to a network entity the currentiy applicable congestion prediction so the PCRF can make a poiicy decision with quality of service "QoS" based on the currently applicable congestion prediction, upon establishment or modification of an IP Connectivit Access Network "IP-CAN" session for a user. </claim-text></claim><claim id="clm-0002" num="2"><claim-text>2, The method of claim i, wherein the network entity is an entit selected from; a Subscription Profile Repository "SPR." of the PCC architecture, a User Database Repository "UDR'\ a congestion prediction database, the congestion database, and the PCRF node of the PCC architecture. </claim-text></claim><claim id="clm-0003" num="3"><claim-text>3. The method of claims 1 or 2. wherein the step of defining a currently appl icable congestion prediction includes a step of obtaining at a network interface unit of the CPE from the congestion database actual congestion data for a latest time period, and a step of applying machine learning techniques to the actual congestion data in orde to determine the currently applicable congestion prediction. <!-- EPO <DP n="20"/>--> </claim-text></claim><claim id="clm-0004" num="4"><claim-text>4. The method of claims 1 or 3, wherein the step of determining a subsequent congestion prediction for a subsequent time period includes a step of comparing with the processing unit of the CPE how different the congestion of the currently applicable congestion prediction and the congestion of the actual congestion data were for the time period, a step of making with the processing unit of the CPE a new congestion prediction for a next time period by applying machine learning techniques to result from the comparing step, and a step of providing from the network; interface uni t of the CPE the new congestion prediction to the network entity so the PCRF node can make a policy decision with QoS based on the new predictio for the next time period. </claim-text></claim><claim id="clm-0005" num="5"><claim-text>5. The method of any preceding claim, wherein the step of sending to a network entity the currently applicable congestion prediction includes a step of sending to the network entity an indication of a time period during which the congestion prediction is valid. </claim-text></claim><claim id="clm-0006" num="6"><claim-text>6. The method of claim 1 wherein the step of obtaining actual congestion data from the congestion database includes the step of obtaining average throughput per location area, average number of users per location area, a timestamp associated with the actual congestion data and a location identifier. </claim-text></claim><claim id="clm-0007" num="7"><claim-text>7. A method of making policy decisions at a Policy and Charging Control "PCC" architecture based on network congestion, the PCC architecture having a Policy and Charging Enforcement Function "PCEF" device and a Policy and Charging Rules Function "PCRF" node, the method comprising the steps of: </claim-text><claim-text> receiving at a network interface unit of the PCRF node from the PCEF device of the PCC architecture, upon establishment or modification of an IP Connectivity Access Network "IP-CAN" session for a user, a request for a policy decision to be enforced for the IP-CAN session; </claim-text><claim-text> obtaining at the network interface unit of the PCRF node from a network entity a currently applicable congestion prediction; </claim-text><claim-text> making at a processing unit of the PCRF node a policy decision with quality of service "QoS" based on the currently applicable congestion prediction; and <!-- EPO <DP n="21"/>--> submitting from the PC F node to the PCEF device the poiicy decision to be enforced for the IP-CAN session. </claim-text></claim><claim id="clm-0008" num="8"><claim-text>8. The method of claim 7, wherein the network entity is an entity selected from: a Subscription Profile Repository "SPR" of the PCC architecture, a User Database Repository "UDR", a congestion prediction database, the congestion database, and a Congestion Prediction Engine "CPE" of the PCC architecture. </claim-text></claim><claim id="clm-0009" num="9"><claim-text>9. The method of claims 7 or 8, wherein the ste of obtaining from a network entity a currently applicable congestion prediction includes a step of obtaining from the network entity an indication of a time period during which the congestio prediction is valid. </claim-text></claim><claim id="clm-0010" num="10"><claim-text>10. The method of claim 9, wherein the step of submitting to the PCEF device the policy decision includes a step of submitting from the PCRF node to the PCEF device an indication of the time period during which the policy decision is valid, </claim-text></claim><claim id="clm-0011" num="11"><claim-text>1 1. A Congestion Prediction Engine "CPE" of a Policy and Charging Control "PCC" architecture, the PCC architecture also has a congestion database, a Policy and Charging Enforcement Function "PCEF" device and a Poiicy and Charging Rules Function "PCRF" node, the CPE comprising: </claim-text><claim-text> a processing unit of the CPE which defines a currently applicable congestion prediction; </claim-text><claim-text> a network interface unit of the CPE which obtains from die congestion database actual congestion data for a latest time period, the processing unit of the CPE determining a subsequent congestion prediction for a subsequent time period by comparing the currently applicable congestion prediction with the actual congestion data and by applying machine learning techniques; and </claim-text><claim-text> a memory of the CPE in which the currently applicable congestion prediction is replaced with the subsequent congestion prediction, the network interface unit of the CPE sending to a network entity the currently applicable congestion prediction so the PCRF can make a policy decision with quality of service "QoS" based on the currently <!-- EPO <DP n="22"/>--> appiicable congestion prediction, upon establishment or modification of an IP Connectivity Access Network "IP-CAN" session for a user, </claim-text></claim><claim id="clm-0012" num="12"><claim-text>12. The CPE of claim 1 1 , wherein the network entity is an entity selected from: a Subscription Profile Repository "S R" of the PCC architecture, a User Database Repository "UDR", a congestion prediction database, the congestion database, and the PCRF node of the PCC architecture. </claim-text></claim><claim id="clm-0013" num="13"><claim-text>13. The CPE of claims I I or 12, wherein the network interface unit of the CPE obtains from the congestion database actual congestion data for a latest time period, and the -processing unit of the CPE applies machine learning techniques to the actual congestion data in order to determine the currently applicable congestion prediction. </claim-text></claim><claim id="clm-0014" num="14"><claim-text>14. The CPE of claims 11 or 13, wherei the processing unit of the CPE compares how different the congestion of the currently appiicable congestion prediction and the congestion of the actual congestion data were for the time period, and makes a new congestion prediction for a next time period by applying machine learning techniques to results from the comparison, and the network interface unit of the CPE provides the new congestion prediction to the network entity so the PCRF node can make a policy decision with QoS based o the new prediction for the next time period. </claim-text></claim><claim id="clm-0015" num="15"><claim-text>15. The CPE of any preceding claim, wherein the network entity sends to the network entity an .indication of a time period daring which the congestion prediction is valid. </claim-text></claim><claim id="clm-0016" num="16"><claim-text>16. The CPE of claim 1 i wherein the network interface unit of the CPE obtains average throughput per location area, average number of users per location area, a tio estamp associated with the actual congestion data and a location identifier. </claim-text></claim><claim id="clm-0017" num="17"><claim-text>17. A Policy and Charging Rules Function "PCRF" node of a Policy and Charging Control "PCC" architecture for making policy decisions based on network congestion. <!-- EPO <DP n="23"/>--> the PCC architecture having a Policy and Charging Enforcement Function "PCEF" device, the PC F node comprises; </claim-text><claim-text> a network interface unit of the PCRF node which receives from the PCEF device of the PCC architecture, upon establishment or modification of an IP Connectivity Access Network "IP-CAN" session for a user, a request for a policy decision to be enforced for the IP-CAN session, and then obtains from a network entity a currently applicable congestion prediction; and </claim-text><claim-text> a processing unit of the PCRF node which makes a policy decision with quality of service "QoS" based on the currently applicable congestion prediction, the network interface unit of the PCRF node submits to the PCEF device the policy decision to be enforced for the IP-CAN session. </claim-text></claim><claim id="clm-0018" num="18"><claim-text>18. The PCRF node of claim 17, wherein the network entity is an entity selected from: a Subscription Profile Repository "SPR" of the PCC architecture, a User Database Repository "UDR<sup>S</sup>\ a congestion prediction database, the congestion database, and a Congestion Prediction Engine "CPE" of the PCC architecture. </claim-text></claim><claim id="clm-0019" num="19"><claim-text>19. The PCRF node of claims 17 or 18, wherein the network interface unit of the PCRF node obtains from the network entity an indication of a time period during which the congestion prediction is valid. </claim-text></claim><claim id="clm-0020" num="20"><claim-text>20. The PCRF node of claim 19, wherein the network interface unit of the PCRF node submits to the PCEF device an indication of the time period during which the policy decision is valid. </claim-text></claim></claims><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
