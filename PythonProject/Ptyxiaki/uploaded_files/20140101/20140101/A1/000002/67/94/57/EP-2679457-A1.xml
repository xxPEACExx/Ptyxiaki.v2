<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2679457-A1" country="EP" doc-number="2679457" kind="A1" date="20140101" family-id="49370142" file-reference-id="306795" date-produced="20180823" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146550095" ucid="EP-2679457-A1"><document-id><country>EP</country><doc-number>2679457</doc-number><kind>A1</kind><date>20140101</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-12747435-A" is-representative="NO"><document-id mxw-id="PAPP154824018" load-source="docdb" format="epo"><country>EP</country><doc-number>12747435</doc-number><kind>A</kind><date>20120217</date><lang>JA</lang></document-id><document-id mxw-id="PAPP202945740" load-source="docdb" format="original"><country>EP</country><doc-number>12747435.1</doc-number><date>20120217</date><lang>JA</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140452241" ucid="JP-2011033999-A" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>2011033999</doc-number><kind>A</kind><date>20110218</date></document-id></priority-claim><priority-claim mxw-id="PPC140452086" ucid="JP-2011034000-A" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>2011034000</doc-number><kind>A</kind><date>20110218</date></document-id></priority-claim><priority-claim mxw-id="PPC140447000" ucid="JP-2012031885-A" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>2012031885</doc-number><kind>A</kind><date>20120216</date></document-id></priority-claim><priority-claim mxw-id="PPC140445882" ucid="JP-2012053804-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>2012053804</doc-number><kind>W</kind><date>20120217</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL2122917356" load-source="docdb">B60T   8/00        20060101AFI20141001BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL2122918198" load-source="docdb">B60T   8/171       20060101ALI20141001BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL2122918612" load-source="docdb">B60T   8/1761      20060101ALI20141001BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL2122921930" load-source="docdb">B60T   8/172       20060101ALI20141001BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL2122922003" load-source="docdb">B60T   8/173       20060101ALI20141001BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL2122924823" load-source="docdb">B60T   8/32        20060101ALI20141001BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1946289547" load-source="docdb" scheme="CPC">B60T2201/03        20130101 LA20160428BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1946289548" load-source="docdb" scheme="CPC">B60T  17/22        20130101 LI20160428BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1946289549" load-source="docdb" scheme="CPC">B60T  13/662       20130101 LI20160428BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1946289550" load-source="docdb" scheme="CPC">B60T   8/172       20130101 LI20160428BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1946289551" load-source="docdb" scheme="CPC">B60T   7/12        20130101 LI20160428BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1946289552" load-source="docdb" scheme="CPC">B60T   7/042       20130101 LI20160428BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988106445" load-source="docdb" scheme="CPC">B60T   8/1761      20130101 FI20131127BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132182769" lang="DE" load-source="patent-office">BREMSSTEUERUNGSVORRICHTUNG FÜR EIN FAHRZEUG UND BREMSSTEUERUNGSVERFAHREN FÜR EIN FAHRZEUG</invention-title><invention-title mxw-id="PT132182770" lang="EN" load-source="patent-office">BRAKING CONTROL DEVICE FOR VEHICLE AND BRAKING CONTROL METHOD FOR VEHICLE</invention-title><invention-title mxw-id="PT132182771" lang="FR" load-source="patent-office">DISPOSITIF DE COMMANDE DE FREINAGE POUR VÉHICULE ET PROCÉDÉ DE COMMANDE DE FREINAGE POUR VÉHICULE</invention-title><citations><patent-citations><patcit mxw-id="PCIT264196934" load-source="docdb" ucid="US-20070057574-A1"><document-id format="epo"><country>US</country><doc-number>20070057574</doc-number><kind>A1</kind><date>20070315</date></document-id><sources><source name="SEA" category="Y" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT264196935" load-source="docdb" ucid="WO-2005068271-A1"><document-id format="epo"><country>WO</country><doc-number>2005068271</doc-number><kind>A1</kind><date>20050728</date></document-id><sources><source name="SEA" category="Y" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT264196936" load-source="docdb" ucid="WO-2009060093-A1"><document-id format="epo"><country>WO</country><doc-number>2009060093</doc-number><kind>A1</kind><date>20090514</date></document-id><sources><source name="SEA" category="Y" created-by-npl="N"/></sources></patcit></patent-citations><non-patent-citations><nplcit><text>See also references of WO  2012111799A1</text><sources><source mxw-id="PNPL50371887" load-source="docdb" name="SEA"/></sources></nplcit></non-patent-citations></citations></technical-data><parties><applicants><applicant mxw-id="PPAR918154658" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>ADVICS CO LTD</last-name><address><country>JP</country></address></addressbook></applicant><applicant mxw-id="PPAR918146727" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>ADVICS CO., LTD.</last-name></addressbook></applicant><applicant mxw-id="PPAR918989691" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Advics Co., Ltd.</last-name><iid>101333080</iid><address><street>2-1 Showa-cho</street><city>Kariga-Shi, Aichi 448-8688</city><country>JP</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR918172010" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>TERASAKA MASATO</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918140096" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>TERASAKA, MASATO</last-name></addressbook></inventor><inventor mxw-id="PPAR918986459" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>TERASAKA, MASATO</last-name><address><street>c/o ADVICS CO. LTD. 2-1 Showa-cho</street><city>Kariya-city Aichi 448-8688</city><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918152222" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>TAKEYA YUSUKE</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918162272" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>TAKEYA, Yusuke</last-name></addressbook></inventor><inventor mxw-id="PPAR918986517" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>TAKEYA, Yusuke</last-name><address><street>c/o ADVICS CO. LTD. 2-1 Showa-cho</street><city>Kariya-city Aichi 448-8688</city><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918164626" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>TSUKAMOTO SHINJI</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918132311" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>TSUKAMOTO, SHINJI</last-name></addressbook></inventor><inventor mxw-id="PPAR918980223" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>TSUKAMOTO, SHINJI</last-name><address><street>c/o ADVICS CO. LTD. 2-1 Showa-cho</street><city>Kariya-city Aichi 448-8688</city><country>JP</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR918993984" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Winter, Brandl, Fürniss, Hübner, Röss, Kaiser, Polte - Partnerschaft</last-name><iid>100059968</iid><address><street>Bavariaring 10</street><city>80336 München</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="JP-2012053804-W"><document-id><country>JP</country><doc-number>2012053804</doc-number><kind>W</kind><date>20120217</date><lang>JA</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2012111799-A1"><document-id><country>WO</country><doc-number>2012111799</doc-number><kind>A1</kind><date>20120823</date><lang>JA</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS548899436" load-source="docdb">AL</country><country mxw-id="DS548809561" load-source="docdb">AT</country><country mxw-id="DS548890348" load-source="docdb">BE</country><country mxw-id="DS548906426" load-source="docdb">BG</country><country mxw-id="DS548901580" load-source="docdb">CH</country><country mxw-id="DS548890349" load-source="docdb">CY</country><country mxw-id="DS548809562" load-source="docdb">CZ</country><country mxw-id="DS548899437" load-source="docdb">DE</country><country mxw-id="DS548890350" load-source="docdb">DK</country><country mxw-id="DS548890351" load-source="docdb">EE</country><country mxw-id="DS548822577" load-source="docdb">ES</country><country mxw-id="DS548906427" load-source="docdb">FI</country><country mxw-id="DS548901581" load-source="docdb">FR</country><country mxw-id="DS548899442" load-source="docdb">GB</country><country mxw-id="DS548890352" load-source="docdb">GR</country><country mxw-id="DS548899443" load-source="docdb">HR</country><country mxw-id="DS548809563" load-source="docdb">HU</country><country mxw-id="DS548901582" load-source="docdb">IE</country><country mxw-id="DS548890353" load-source="docdb">IS</country><country mxw-id="DS548906428" load-source="docdb">IT</country><country mxw-id="DS548890354" load-source="docdb">LI</country><country mxw-id="DS548906429" load-source="docdb">LT</country><country mxw-id="DS548853685" load-source="docdb">LU</country><country mxw-id="DS548906434" load-source="docdb">LV</country><country mxw-id="DS548906435" load-source="docdb">MC</country><country mxw-id="DS548853686" load-source="docdb">MK</country><country mxw-id="DS548853687" load-source="docdb">MT</country><country mxw-id="DS548853688" load-source="docdb">NL</country><country mxw-id="DS548901583" load-source="docdb">NO</country><country mxw-id="DS548853689" load-source="docdb">PL</country><country mxw-id="DS548822578" load-source="docdb">PT</country><country mxw-id="DS548896700" load-source="docdb">RO</country><country mxw-id="DS548822579" load-source="docdb">RS</country><country mxw-id="DS548853690" load-source="docdb">SE</country><country mxw-id="DS548899444" load-source="docdb">SI</country><country mxw-id="DS548901584" load-source="docdb">SK</country><country mxw-id="DS548901585" load-source="docdb">SM</country><country mxw-id="DS548890355" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA128670762" lang="EN" load-source="patent-office"><p id="pa01" num="0001">A brake ECU determines whether or not interference-based vibration components are included in a vehicle body deceleration (DV) (steps S74, S76). Then, in the case of a positive determination (YES in step S74 or step S76), the brake ECU makes a comparison with when the determination is not positive, and revises a first deceleration determination value (DV_st) to be a larger value (step S79). If the vehicle body deceleration value (DV) exceeds the first deceleration determination value (DV_st) and a G sensor value (G) exceeds a second deceleration determination value (G_st) (YES in steps S84 and S89), the brake ECU initiates auxiliary control.<img id="iaf01" file="imgaf001.tif" wi="63" he="95" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA128500135" lang="EN" source="EPO" load-source="docdb"><p>A brake ECU determines whether or not interference-based vibration components are included in a vehicle body deceleration (DV) (steps S74, S76). Then, in the case of a positive determination (YES in step S74 or step S76), the brake ECU makes a comparison with when the determination is not positive, and revises a first deceleration determination value (DV_st) to be a larger value (step S79). If the vehicle body deceleration value (DV) exceeds the first deceleration determination value (DV_st) and a G sensor value (G) exceeds a second deceleration determination value (G_st) (YES in steps S84 and S89), the brake ECU initiates auxiliary control.</p></abstract><description mxw-id="PDES63956192" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001">TECHNICAL FIELD</heading><p id="p0001" num="0001">The present invention relates to a braking control device for a vehicle and a braking control method for a vehicle that performs assist control that assists the increasing of a braking force applied to wheels based on an operation of a brake pedal by a driver of a vehicle.</p><heading id="h0002">BACKGROUND ART</heading><p id="p0002" num="0002">As braking control devices for such a vehicle, in the prior art, patent documents 1 and 2 describe examples of braking control devices. In such braking control devices, the starting timing for the assist control is set without using a sensor that directly detects the depression force applied to a brake pedal by a driver. An example of such a sensor is a pressure sensor that detects a master cylinder pressure.</p><p id="p0003" num="0003">More specifically, in the above braking control device, an estimated vehicle body speed of the vehicle is calculated based on a detection signal from a wheel speed sensor arranged on the vehicle, and an estimated vehicle body deceleration of the vehicle is calculated based on the estimated vehicle body speed. Further, the braking control device calculates a slip rate of a wheel. In a state in which the driver operates the brake pedal, if the calculated estimated vehicle body deceleration is greater than or equal to a preset first emergency braking determination value and a calculated slip rate of a wheel exceeds a preset second emergency braking determination value, it is determined that the current operation of the brake pedal is an emergency braking operation. This starts an assist control. The assist control is also referred to as "brake assist control (BA control)".</p><p id="p0004" num="0004">Instead of using the slip rate of a wheel, the vehicle body deceleration (also referred to as "G sensor value") may be calculated based on a detection signal from a vehicle body acceleration sensor arranged in the vehicle, and the G sensor value may be used to determine whether the current brake pedal operation is an emergency braking operation.</p><heading id="h0003">Prior Art Documents</heading><heading id="h0004">Patent Documents</heading><p id="p0005" num="0005"><ul><li>Patent Document 1: Japanese Laid-Open Patent Publication No. <patcit id="pcit0001" dnum="JP2002193084A"><text>2002-193084</text></patcit></li><li>Patent Document 2: Japanese Laid-Open Patent Publication No. <patcit id="pcit0002" dnum="JP2002370634A"><text>2002-370634</text></patcit></li></ul></p><heading id="h0005">SUMMARY OF THE INVENTION</heading><heading id="h0006">Problems that the Invention is to Solve</heading><p id="p0006" num="0006">The estimated vehicle body deceleration, which is calculated using the wheel speed sensor, includes not only a deceleration component based on the driver's operation of the brake pedal, but in some cases includes components other than the deceleration component. When the amount of such other components is great, the difference between the estimated vehicle body deceleration and the actual vehicle deceleration becomes great. Thus, in a case in which the initiation timing of the assist control is adjusted by using the estimated vehicle body deceleration, an emergency braking operation may be erroneously determined to have occurred even if it actually has not occurred, and an unintended assist control may be initiated.</p><p id="p0007" num="0007">It is an object of the present invention to provide a braking control device for a vehicle and a braking control method for a vehicle capable of initiating, at an appropriate timing, assist control that assists the increasing of the braking force applied to the wheels based on a braking operation performed by a driver.<!-- EPO <DP n="2"> --></p><heading id="h0007">Means for Solving the Problems</heading><p id="p0008" num="0008">To achieve the foregoing objectives, the present invention provides a braking control device for a vehicle that includes a first deceleration calculation unit, a second deceleration calculation unit, an assist control unit, and a reference value correction unit. The first deceleration calculation unit calculates a first estimated vehicle body deceleration by using a detection signal of a wheel speed sensor arranged on the vehicle. The second deceleration calculation unit calculates a second estimated vehicle body deceleration by using a detection signal of a vehicle body acceleration sensor arranged on the vehicle. The assist control unit initiates an assist control, which assists increasing of a braking force applied to a wheel of the vehicle if a brake pedal of the vehicle is operated, when the first estimated vehicle body deceleration exceeds a first deceleration determination value and the second estimated vehicle body deceleration exceeds a second deceleration determination value during operation of the brake pedal of the vehicle. The reference value correction unit corrects the first deceleration determination value based on a component included in the first estimated vehicle body deceleration other than the deceleration component based on the operation of the brake pedal.</p><p id="p0009" num="0009">The above structure corrects the first deceleration determination value based on other components included in the first estimated deceleration. Thus, when a great amount of other components is included in the first estimated deceleration, unintended initiation of the assist control is prevented. Accordingly, the assist control can be initiated at a proper timing when the driver performs an emergency braking operation.</p><p id="p0010" num="0010">In accordance with another aspect of the present invention, the braking control device further includes an outer disturbance determination unit that determines whether a vibration component based on outer disturbance is included in the first estimated vehicle body deceleration. The reference value correction unit corrects the first deceleration determination value to a greater value when the first estimated vehicle body deceleration includes a vibration component based on outer disturbance than when such is not the case.</p><p id="p0011" num="0011">The wheel speed sensor is located in the vicinity of a vehicle wheel, whereas the vehicle body acceleration sensor is located on the vehicle, which is supported by the suspension. Thus, a detection signal from the wheel speed sensor is more easily affected by interference (i.e., outer disturbance) between the drive force transmitted to the wheel and the braking force than the detection signal from the vehicle body acceleration sensor. The detection signal from the wheel speed sensor is easily affected by the reaction force (i.e., outer disturbance) received by the wheel from the road surface along which the vehicle is traveling. The first estimated vehicle body deceleration, which includes a vibration component based on such outer disturbance, more easily exceeds the first deceleration determination value than a first estimated vehicle body deceleration that does not include vibration component based on outer disturbance. Thus, the first deceleration determination value is preferably set to a greater value when the first estimated vehicle body deceleration includes a vibration component based on outer disturbance than when such is not the case. Thus, even if a vibration component based on outer disturbance is included in the first estimated vehicle body deceleration, the first estimated vehicle body deceleration does not easily exceed the first deceleration determination value. Accordingly, when an emergency braking operation is not being performed, unintended initiation of the assist control can be prevented.</p><p id="p0012" num="0012">In accordance with another aspect of the present invention, the braking control device further includes a bad road index acquisition unit that acquires a bad road index that<!-- EPO <DP n="3"> --> numerically indicates the unevenness degree of the road surface along which the vehicle is traveling. The outer disturbance determination unit determines whether or not the road surface along which the vehicle is traveling is a bad road based on the bad road index. The reference value correction unit corrects the first deceleration determination value to a greater value when the outer disturbance determination unit determines that the road surface is a bad road than when such is not the case.</p><p id="p0013" num="0013">When the road surface is a bad road with a larger unevenness degree, the first estimated vehicle body deceleration, which is calculated by using the wheel speed sensor, includes a great vibration component due to outer disturbance. Thus, the first deceleration determination value is preferably set to a greater value when the road surface on which the vehicle is traveling is a bad road than when such is not the case. This configuration prevents the first estimated vehicle body deceleration from easily exceeding the first deceleration determination value even if the road surface is a bad road. Therefore, when the driver operates the brake pedal while the vehicle is traveling on a bad road, initiation of unintended assist control can be prevented.</p><p id="p0014" num="0014">In accordance with another aspect of the present invention, the braking control device further includes an amplitude calculator that calculates an amplitude of the first estimated vehicle body deceleration. In a case in which the outer disturbance determination unit determines that the road surface is not a bad road, the reference value correction unit corrects the first deceleration determination value to a greater value when the amplitude is great than when the amplitude is small.</p><p id="p0015" num="0015">Even if it is determined that the road surface on which the vehicle is traveling is not a bad road, a vibration component based on outer disturbance due to a reaction force received by the wheel from the road surface may be included in the first estimated vehicle body deceleration, which is calculated by using the detection signal of the wheel speed sensor. Thus, when it is determined that the road surface is not a bad road, the first deceleration determination value is preferably corrected based on the amplitude of the first estimated vehicle body deceleration (that is, a periodic fluctuation range). Accordingly, unintended initiation of the assist control can be prevented.</p><p id="p0016" num="0016">In accordance with another aspect of the present invention, in a case in which the outer disturbance determination unit determines that the road surface is not a bad road, the reference value correction unit does not perform correction of the first deceleration determination value based on the amplitude if the amplitude is less than a preset amplitude reference value.</p><p id="p0017" num="0017">The wheel speed sensor includes a certain amount of fluctuation even if there is no outer disturbance from the road surface. Accordingly, when the amplitude of the first estimated vehicle body deceleration is less than the amplitude reference value, it is determined that the first estimated vehicle body deceleration scarcely includes a vibration component based on unevenness of the road surface. In this case, correction of the first deceleration determination value based on the amplitude is not performed. Therefore, when there is almost no unevenness in the road surface, the assist control can be initiated at an appropriate timing.</p><p id="p0018" num="0018">In accordance with another aspect of the present invention, in the assist control, the assist control unit sets an increasing speed of the braking force applied to the vehicle wheel to a lower value when the reference value correction unit has corrected the first deceleration determination value than when such is not the case.<!-- EPO <DP n="4"> --></p><p id="p0019" num="0019">When the initiating condition of the assist control is established in a case in which the first deceleration determination value has been corrected to a larger value, the assist control possibly does not need to be executed. Accordingly, in the assist control, the increasing speed of the braking force applied to the wheel is preferably set to a lower value when the reference value correction unit has corrected the first deceleration determination value than when such is not the case. Thus, even if assist control is executed when it is determined that there is no need to perform the assist control, the driver of the vehicle is less likely to feel uncomfortable due to the execution of the assist control.</p><p id="p0020" num="0020">In accordance with another aspect of the present invention, when the second estimated vehicle body deceleration is greater than the sum of the first estimated vehicle body deceleration and a deceleration specified value or when the first estimated vehicle body deceleration has a negative value, the outer disturbance determination unit determines that the first estimated vehicle body deceleration includes a vibration component based on outer disturbance. During a preset deceleration specified time, the reference value correction unit corrects the first deceleration determination value to a greater value when the first estimated vehicle body deceleration includes a vibration component based on outer disturbance than when such is not the case.</p><p id="p0021" num="0021">When the vehicle moves over a bump, the center of gravity of the vehicle is vertically changed, and the contact area between the road surface and the wheel becomes large or small. In this case, the traction force between the wheel and the road surface fluctuates. Accordingly, the wheel deceleration decreases or increases. As a result, the first vehicle body deceleration, which is calculated by using a detection signal of the wheel speed sensor, decreases or increases. When decreasing, the first vehicle body deceleration may have a negative value. On the other hand, even when the vehicle moves over a bump, vibration is absorbed by the suspension by a certain extent. Thus, the vehicle body acceleration sensor, which is mounted in the vehicle body supported by the suspension, does not receive the influence of the bump as much as the wheel speed sensor.</p><p id="p0022" num="0022">Accordingly, when the second estimated vehicle body deceleration is greater than the sum of the first estimated vehicle body deceleration and the deceleration specified value or when the first vehicle body deceleration once becomes a negative value, it is determined that the vehicle has moved over a bump. In this case, the first deceleration determination value is corrected to a greater value than when the vehicle has not moved over a bump. Therefore, even when the vehicle moves over a bump, initiation of unintended assist control can be prevented.</p><p id="p0023" num="0023">In accordance with another aspect of the present invention, when receiving a signal indicating that a transmission mounted in the vehicle is about to be downshifted from a transmission control unit, which controls the transmission, the outer disturbance determination unit determines that the transmission is about to be downshifted. During a gear shifting specified time, the reference value correction unit corrects the first deceleration determination value to a greater value when it is determined that the transmission is about to be downshifted than when such is not the case.</p><p id="p0024" num="0024">When the transmission is downshifted during operation of the brake pedal by the driver, the first estimated vehicle body deceleration, which is calculated by using the detection signal of the wheel speed sensor, may include a great vibration component due to the downshift. This is because the downshift applies greater drive force to the wheel than before the downshift, and the drive force and the braking force applied to the wheel interfere with<!-- EPO <DP n="5"> --> each other. Accordingly, when a signal indicating that the transmission is about to be downshifted is received from the transmission control unit, which controls the transmission, the first deceleration determination value is preferably corrected to a greater value during the gear shifting specified time. This prevents unintended initiation of the assist control due to outer disturbance accompanying the downshift of the transmission.</p><p id="p0025" num="0025">The gear shifting specified time is preferably equal to or slightly longer than time required for the vibration of the detection signal from the wheel speed sensor due to the downshift to converge.</p><p id="p0026" num="0026">In accordance with another aspect of the present invention, when receiving a signal indicating that a manual transmission mounted in the vehicle has been downshifted from a monitoring control device, which monitors the shift position of the transmission, the outer disturbance determination unit determines that the transmission has been downshifted. If an accelerator operation amount is not increased when it is determined that the transmission has been downshifted, the reference value correction unit corrects the first deceleration determination value to a greater value than when it is determined that the transmission has not been downshifted. If the accelerator operation amount is increased when it is determined that the transmission has been downshifted, the reference value correction unit sets the first deceleration determination value to a value corresponding to a determination that the transmission has not been downshifted.</p><p id="p0027" num="0027">At downshift in a vehicle equipped with a manual transmission, operation of the accelerator pedal together with operation of the brake pedal can reduce vibration of the vehicle due to the downshift. In this case, the first estimated vehicle body deceleration, which is calculated by using the detection signal of the wheel speed sensor, scarcely includes the large vibration component due to the downshift. Therefore, when such driving operation is performed, the initiating condition of the assist control is less likely to be undesirably established if the first deceleration determination value is increased at downshift.</p><p id="p0028" num="0028">Therefore, when an increase in the accelerator operation amount is detected at downshift, the first deceleration determination value is preferably not corrected. Accordingly, when the accelerator operation is performed together with the brake operation during downshifting, the assist control can be performed at an appropriate timing.</p><p id="p0029" num="0029">In accordance with another aspect of the present invention, the braking control device further includes a duration time acquisition unit that acquires a duration time of a state in which the second estimated vehicle deceleration remains greater than a high depression force determination reference value, which is set for determining whether a depression operation amount of the brake pedal is large. When the duration time is longer than or equal to a high depression force specified time, the outer disturbance determination unit determines that there is a possibility that a transmission mounted in the vehicle will be downshifted. The reference value correction unit corrects the first deceleration determination value to a greater value when there is a possibility that the transmission will be downshifted than when such is not the case.</p><p id="p0030" num="0030">Some vehicles have a characteristic in which when the driver depresses the brake pedal while the vehicle is traveling, the vehicle starts to decelerate and may thereby cause downshifting of the transmission. When the transmission is downshifted while the braking force is applied to the wheel, the first estimated vehicle body deceleration, which is calculated by using the detection signal of the wheel speed sensor, may include a great vibration component due to the downshift. Thus, it is preferable to use the second estimated vehicle body deceleration, which is calculated by using the detection signal of the vehicle body<!-- EPO <DP n="6"> --> acceleration sensor, thereby determining whether the operation amount of the brake pedal by the driver is great. When the duration time of the state in which the second estimated vehicle body deceleration is greater than the high depression force determination reference value reaches the high depression force specified time, it is determined that the transmission may be downshifted. In this case, the first deceleration determination value is corrected to a value greater than that when it is not determined that there is a possibility that the downshifting operation is performed. This prevents the assist control from being unintentionally initiated by the outer disturbance due to downshift of the transmission.</p><p id="p0031" num="0031">In accordance with another aspect of the present invention, in a case in which the brake pedal is being operated, the outer disturbance determination unit determines that there is a possibility that a transmission mounted in the vehicle has been downshifted if a rotational speed of an output shaft of a drive source of the vehicle is increased without an increase in an accelerator operation amount. The reference value correction unit corrects the first deceleration determination value to a greater value when there is a possibility that the transmission has been downshifted than when such is not the case.</p><p id="p0032" num="0032">Generally, when the transmission is downshifted during braking operation by the driver, the rotational speed of the output shaft of the drive source is increased even though the accelerator operation amount is not increased. Thus, when the rotational speed of the drive source output shaft increases without an increase in the accelerator operation amount, it is determined that the transmission may have been downshifted. In this case, the first deceleration determination value is preferably corrected to a value greater than that when it is not determined that there is a possibility that the downshifting operation has been performed. This prevents unintended initiation of the assist control due to outer disturbance accompanying the downshift of the transmission.</p><p id="p0033" num="0033">On the other hand, in some cases, the accelerator operation amount is increased despite an increase in the rotational speed of the drive source output shaft. In such a case, even if transmission has been downshifted, a great vibration component based on the downshift is scarcely superimposed on the first estimated vehicle body deceleration, which is calculated by using a detection signal of the wheel speed sensor. Further, there is a possibility that the increase in the accelerator operation amount increases the rotational speed of the drive source output shaft and the transmission has not been downshifted. Therefore, when such a driving operation is detected, the first deceleration determination value is preferably not corrected even if it is determined that the transmission may have been downshifted. Accordingly, when the accelerator operation is performed together with the brake operation during downshifting, the assist control can be performed at an appropriate timing.</p><p id="p0034" num="0034">In accordance with another aspect of the present invention, the braking control device further includes a gradient information acquisition unit that acquires gradient information regarding a gradient of the road surface on which the vehicle is traveling. The reference value correction unit corrects the first deceleration determination value based on the gradient information.</p><p id="p0035" num="0035">The detection signal from the wheel speed sensor is easily affected by the gradient of the road surface. This causes the first estimated vehicle body deceleration, which is based on the detection signal from the wheel speed sensor, to easily exceed the first deceleration determination value or makes it difficult for the first estimated vehicle body deceleration to exceed the first deceleration determination value. Thus, gradient information regarding the<!-- EPO <DP n="7"> --> gradient of the road surface on which the vehicle is traveling is preferably acquired, and the first deceleration determination value is preferably set based on the gradient information. Accordingly, the assist control can be initiated at an appropriate timing regardless of the gradient information regarding the road surface on which the vehicle is traveling.</p><p id="p0036" num="0036">In accordance with another aspect of the present invention, the gradient information acquisition unit acquires, as the gradient information, the gradient of the road surface on which the vehicle is traveling. The reference value correction unit corrects the first deceleration determination value based on the gradient.</p><p id="p0037" num="0037">This configuration suppresses variations in the initiation timing of the assist control based on the gradient of the road surface.</p><p id="p0038" num="0038">In accordance with another aspect of the present invention, when the gradient of the road surface acquired by the gradient information acquisition unit has a positive value, the reference value correction unit corrects the first deceleration determination value to a greater value. When the gradient of the road surface acquired by the gradient information acquisition unit has a negative value, the reference value correction unit corrects the first deceleration determination value to a smaller value.</p><p id="p0039" num="0039">When the gradient of a road surface is a positive value, this indicates that the road surface is a sloped surface directed uphill. When the gradient of a road surface is a negative value, this indicates that the road surface is a sloped surface directed downhill. When the road is a sloped road directed uphill, gravity acting on the vehicle acts as a braking force applied to the vehicle. Therefore, if the road surface is a sloped surface directed uphill when the first deceleration determination value is not corrected, the first estimated vehicle body speed easily exceeds the first deceleration reference value. In contrast, when the road is a sloped road directed downhill, gravity applied to the vehicle acts on the vehicle body as a propulsive force. Therefore, if the road surface is a sloped surface directed downhill when the first deceleration determination value is not corrected, the first estimated vehicle body speed is less likely to exceed the first deceleration reference value. Thus, when it is determined that the road is a sloped road directed uphill, the first deceleration determination value is preferably increased. In contrast, when it is determined that the road is a sloped road directed downhill, the first deceleration determination value is preferably decreased. This suppresses variations in the initiation timing of assist control caused by the gradient of the road surface.</p><p id="p0040" num="0040">In accordance with another aspect of the present invention, when the gradient of the road surface acquired by the gradient information acquisition unit has a positive value, the reference value correction unit corrects the second deceleration determination value to a smaller value. When the gradient of the road surface acquired by the gradient information acquisition unit has a negative value, the reference value correction unit corrects the second deceleration determination value to a greater value.</p><p id="p0041" num="0041">When the vehicle travels along a slope, a deceleration difference corresponding to the gradient of the road surface exists between the second estimated vehicle body deceleration and the first estimated vehicle body deceleration. Thus, if the second deceleration determination value is not corrected, the second estimated vehicle body deceleration is unlikely to exceed the second deceleration determination value on a sloped road directed uphill, and the second estimated vehicle body deceleration easily exceeds the second deceleration determination value on a sloped road directed downhill. Thus, when it is determined that the road is a sloped road directed uphill, the second deceleration<!-- EPO <DP n="8"> --> determination value is preferably decreased. In contrast, when it is determined that the road is a sloped road directed downhill, the second deceleration determination value is preferably increased. This suppresses variations in the initiation timing of assist control caused by the gradient of the road surface.</p><p id="p0042" num="0042">In accordance with another aspect of the present invention, the gradient information acquisition unit calculates, as the gradient information, a gradient change of the second estimated vehicle body deceleration. When the gradient change of the second estimated vehicle body deceleration is less than a gradient change reference value that is set for determining whether or not the gradient of the road surface has changed and indicates an uphill slope, the reference value correction unit corrects the first deceleration determination value to a greater value than when such is not the case.</p><p id="p0043" num="0043">When the gradient of the road surface on which vehicle travels is changed and indicates an uphill slope, the braking force resulting from the change in the gradient of the road surface is applied to the front wheels after passing the gradient change point, and the wheel speeds of the front wheels suddenly become slow. In contrast, the vehicle body speed of the vehicle is not decelerated as much as the wheel speeds of the front wheels. That is, the second estimated vehicle body deceleration is not changed as much as the first estimated vehicle body deceleration. If the driver is operating the brake pedal when the gradient of the road surface on which vehicle travels is changed and indicates an uphill slope, the first estimated vehicle body deceleration may exceed the first deceleration determination value, so that the assist control is initiated against the driver's intentions. Thus, if the gradient change of the second estimated vehicle body deceleration is less than the gradient change reference value, it is preferably determined that the gradient of the road surface has changed and indicates an uphill slope, and the first deceleration determination value is preferably corrected to be a greater value. This prevents the assist control from being initiated unintentionally when the gradient of the road surface changes thereby indicating an uphill slope. In the present invention, the expression "gradient of a road surface is changed and indicates an uphill slope" refers to an increase in the gradient of the road surface along which the vehicle is traveling. This expression includes a case in which when the gradient is a negative value, the absolute value of the gradient becomes small, that is, the gradient of the downhill slope becomes gradual.</p><p id="p0044" num="0044">In accordance with another aspect of the present invention, the braking control device further includes a gradient change acquisition unit and a reference value setting unit. The gradient change acquisition unit acquires a gradient change of the first estimated vehicle body deceleration and a gradient change of the second estimated vehicle body deceleration. The reference value setting unit subtracts the gradient change of the second estimated vehicle body deceleration from the gradient change of the first estimated vehicle body deceleration. If the subtraction result is great, the reference value setting unit sets the gradient change reference value to a greater value than when the subtraction result is small.</p><p id="p0045" num="0045">When the gradient of the road surface does not change, the difference between the gradient change of the first estimated vehicle body deceleration and the gradient change of the second estimated vehicle body deceleration is small. In contrast, when the gradient of the road surface has changed, the difference between the gradient change of the first estimated vehicle body deceleration and the gradient change of the second estimated vehicle body deceleration is great. Thus, the gradient change reference value is preferably set based on the difference between the gradient change of the first estimated vehicle body deceleration<!-- EPO <DP n="9"> --> and the gradient change of the second estimated vehicle body deceleration. Hence, it is possible to increase the accuracy for determining whether or not the gradient of a road surface has changed thereby indicating an uphill slope.</p><p id="p0046" num="0046">In accordance with another aspect of the present invention, in the assist control, the assist control unit sets an increasing speed of the braking force applied to the vehicle wheel to a lower value when the reference value correction unit has corrected the first deceleration determination value than when such is not the case.</p><p id="p0047" num="0047">When the initiating condition of the assist control is established in a case in which the first deceleration determination value has been corrected to a larger value, the assist control possibly does not need to be executed. Accordingly, in the assist control, the increasing speed of the braking force applied to the wheel is preferably set to a lower value when the reference value correction unit has corrected the first deceleration determination value than when such is not the case. Thus, even if assist control is executed when it is determined that there is no need to perform the assist control, the driver of the vehicle is less likely to feel uncomfortable due to the execution of the assist control.</p><p id="p0048" num="0048">The present invention further provides a braking control method for a vehicle that includes: a first deceleration calculating step for calculating a first estimated vehicle body deceleration by using a detection signal of a wheel speed sensor arranged on the vehicle; a second deceleration calculating step for calculating a second estimated vehicle body deceleration by using a detection signal of a vehicle body acceleration sensor arranged on the vehicle; an assisting step for initiating an assist control, which assists increasing of a braking force applied to a wheel of the vehicle if a brake pedal of the vehicle is operated, when the first estimated vehicle body deceleration exceeds a first deceleration determination value and the second estimated vehicle body deceleration exceeds a second deceleration determination value during operation of the brake pedal of the vehicle; and a step for correcting the first deceleration determination value based on a component included in the first estimated vehicle body deceleration other than the deceleration component based on the operation of the brake pedal.</p><p id="p0049" num="0049">The above configuration obtains the same operations and advantages as the above-described braking control device of the vehicle.</p><heading id="h0008">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p0050" num="0050"><ul><li><figref idrefs="f0001">Fig. 1</figref> is a block diagram illustrating a vehicle including a braking control device according to a first embodiment of the present invention;</li><li><figref idrefs="f0001">Fig. 2</figref> is a schematic diagram illustrating the structure of a braking device;</li><li><figref idrefs="f0002">Fig. 3</figref> is a timing chart illustrating a state in which assist control is executed when the vehicle is decelerating;</li><li><figref idrefs="f0003">Fig. 4</figref> is a timing chart illustrating a case in which the vehicle is traveling on a sloped road directed uphill;</li><li><figref idrefs="f0004">Fig. 5</figref> is a timing chart taken when the gradient of the road on which the vehicle is traveling changes to an uphill side;</li><li><figref idrefs="f0005">Fig. 6</figref> is a map for setting a downshift determination value;</li><li><figref idrefs="f0005">Fig. 7</figref> is a map for setting a gradient change reference value;</li><li><figref idrefs="f0006">Fig. 8</figref> is a flowchart illustrating a braking control processing routine;</li><li><figref idrefs="f0007">Fig. 9</figref> is a flowchart illustrating an information acquisition processing routine;</li><li><figref idrefs="f0008">Fig. 10</figref> is a flowchart illustrating the first stage of a BA initiation determination processing routine;<!-- EPO <DP n="10"> --></li><li><figref idrefs="f0009">Fig. 11</figref> is a flowchart illustrating the middle stage of the BA initiation determination processing routine;</li><li><figref idrefs="f0010">Fig. 12</figref> is a flowchart illustrating the last stage of the BA initiation determination processing routine;</li><li><figref idrefs="f0011">Fig. 13</figref> is a flowchart illustrating a BA processing routine;</li><li><figref idrefs="f0012">Fig. 14</figref> is a flowchart illustrating a BA termination determination processing routine;</li><li><figref idrefs="f0013">Fig. 15A</figref> is a timing chart showing changes in the vehicle body deceleration;</li><li><figref idrefs="f0013">Fig. 15B</figref> is a timing chart showing changes in the noise component;</li><li><figref idrefs="f0014">Fig. 16</figref> is a timing chart illustrating a case in which the vehicle moves over a bump on a road;</li><li><figref idrefs="f0015">Fig. 17</figref> is a timing chart illustrating a case in which the vehicle moves over a bump on a road;</li><li><figref idrefs="f0016">Fig. 18</figref> is a timing chart illustrating a case in which the driver applies a normal depression force to the brake pedal;</li><li><figref idrefs="f0017">Fig. 19</figref> is a timing chart illustrating a case in which the driver applies a large depression force to the brake pedal;</li><li><figref idrefs="f0018">Fig. 20</figref> is a flowchart illustrating an initiation time determination reference value setting processing routine according to a second embodiment;</li><li><figref idrefs="f0018">Fig. 21</figref> is a map for estimating the load on a vehicle;</li><li><figref idrefs="f0019">Fig. 22</figref> is a block diagram schematically illustrating a part of a vehicle according to a third embodiment;</li><li><figref idrefs="f0020">Fig. 23</figref> is a flowchart illustrating a part of a BA initiation determination processing routine according to the third embodiment;</li><li><figref idrefs="f0021">Fig. 24</figref> is a timing chart illustrating a state in which the transmission has been downshifted;</li><li><figref idrefs="f0021">Fig. 25</figref> is a map for setting a downshift determination correction value according to a fourth embodiment; and</li><li><figref idrefs="f0022">Fig. 26</figref> is a flowchart illustrating a part of a BA initiation determination processing routine according to the fourth embodiment.</li></ul></p><heading id="h0009">MODES FOR CARRYING OUT THE INVENTION</heading><heading id="h0010">First Embodiment</heading><p id="p0051" num="0051">One embodiment of the present invention will now be described with reference to <figref idrefs="f0001 f0002 f0003 f0004 f0005 f0006 f0007 f0008 f0009 f0010 f0011 f0012 f0013 f0014 f0015 f0016 f0017">Figs. 1 to 19</figref>. In the following description of the present specification, the travelling direction (forward direction) of a vehicle is referred to as the frontward side (front of vehicle).</p><p id="p0052" num="0052">Referring to <figref idrefs="f0001">Fig. 1</figref>, the vehicle of the present embodiment is a front wheel drive vehicle including a plurality of (four in the present embodiment) wheels (right front wheel FR, left front wheel FL, right rear wheel RR and left rear wheel RL), among which the front wheels FR and FL are the drive wheels. The vehicle includes a drive force generator 10, which has an engine 12 serving as one example of a power source that generates drive force corresponding to the amount of an accelerator pedal (accelerator operating member) 11 operated by a driver, and a drive force transmission device 20, which transmits the drive force generated by the drive force generator 10 to the front wheels FR and FL. The vehicle includes a braking device 30 which applies, to the wheels FR, FL, RR, and RL, a braking force in correspondence with the driver's depression operation performed on a brake pedal 31.</p><p id="p0053" num="0053">The drive force generator 10 includes a fuel injection system (not shown) arranged in the vicinity of an intake port (not shown) of the engine 12 and including an injector for injecting<!-- EPO <DP n="11"> --> fuel into the engine 12. The drive force generator 10 is controlled by an engine ECU 13 (also referred to as "engine electronic control unit") including a CPU, a ROM and a RAM (none shown). An accelerator operation amount sensor SE1, which is arranged in the vicinity of the accelerator pedal 11 to detect the amount of the accelerator pedal 11 operated by the driver (accelerator operation amount), is electrically connected to the engine ECU 13. The engine ECU 13 calculates the accelerator operation amount based on a detection signal from the accelerator operation amount sensor SE1 and controls the drive force generator 10 based on the calculated accelerator operation amount.</p><p id="p0054" num="0054">The drive force transmission device 20 includes an automatic transmission 21, which is one example of a transmission, and a differential gear 22, which appropriately distributes and transmits the drive force transmitted from an output shaft of the automatic transmission 21 to the front wheels FL and FR. The drive force transmission device 20 is controlled by an AT ECU 23 (AT electronic control unit) including a CPU, a ROM and a RAM (all not shown). The AT ECU 23 controls the automatic transmission 21 (upshift control and downshift control) in accordance with the vehicle body speed of the vehicle and the states of the operations performed by the driver on accelerator pedal 11, the brake pedal 31, and a shifting device (not shown).</p><p id="p0055" num="0055">As shown in <figref idrefs="f0001">Figs. 1 and 2</figref>, the braking device 30 is includes a liquid pressure generator 32 and a brake actuator 40. The liquid pressure generator 32 includes a booster 320, a master cylinder 321, and a reservoir 322. The brake actuator 40 includes two liquid pressure circuits 41 and 42 (shown by broken lines in which a long dash alternates with a pair of short dashes in <figref idrefs="f0001">Fig. 2</figref>). The liquid pressure generator 32 includes a brake switch SW 1, which detects whether or not the brake pedal 31 is depressed by a driver. The brake switch SW1 sends a detection signal to a brake ECU 60 (also referred to as "brake electronic control unit"), which controls the brake actuator 40.</p><p id="p0056" num="0056">The liquid pressure circuits 41 and 42 are connected to the master cylinder 321 of the liquid pressure generator 32. A wheel cylinder 55a for the right front wheel FR and a wheel cylinder 55d for the left rear wheel RL are connected to the first liquid pressure circuit 41. A wheel cylinder 55b for the left front wheel FL and a wheel cylinder 55c for the right rear wheel RR are connected to the second liquid pressure circuit 42. The booster 320 and the master cylinder 321 are operated when the driver of the vehicle depresses the brake pedal 31. This supplies brake fluid from the master cylinder 321 into the wheel cylinders 55a to 55d through the liquid pressure circuits 41 and 42. Then, a braking force corresponding to the wheel cylinder pressure (also referred to as "WC pressure", hereinafter) in each of the wheel cylinders 55a to 55d is applied to the wheels FR, FL, RR, and RL.</p><p id="p0057" num="0057">Next, the brake actuator 40 will be described with reference to <figref idrefs="f0001">Fig. 2</figref>. Since the liquid pressure circuits 41 and 42 have substantially the same structure, only the first liquid pressure circuit 41 is shown in <figref idrefs="f0001">Fig. 2</figref> for the sake of convenience, and the second liquid pressure circuit 42 is not illustrated in the drawing.</p><p id="p0058" num="0058">As shown in <figref idrefs="f0001">Fig. 2</figref>, the first liquid pressure circuit 41 includes a connection passage 43 connected to the master cylinder 321. The connection passage 43 includes a normally-open type linear solenoid valve 44, which is operated to generate a pressure difference between a master cylinder pressure (also referred to as the "MC pressure") in the master cylinder 321 and the WC pressures in the wheel cylinders 55a and 55d. A left front wheel passage 44a connected to the wheel cylinder 55a for the left front wheel FR and a right rear wheel passage 44d connected to the wheel cylinder 55d for the right rear wheel RL are formed<!-- EPO <DP n="12"> --> in the first liquid pressure circuit 41. The passages 44a and 44d respectively includes pressure increasing valves 45a and 45d, which are operated when restricting increasing of the WC pressures of the wheel cylinders 55a and 55d and which are normally-open type solenoid valves, and pressure decreasing valves 46a and 46d, which are operated when decreasing the WC pressures in the wheel cylinders 55a and 55d and which are normally-closed type solenoid valves.</p><p id="p0059" num="0059">A reservoir 47, which temporarily stores the brake fluid that flows out each of the wheel cylinders 55a and 55d through the pressure decreasing valves 46a and 46d, and a pump 49, which is operated by the rotation produced by a motor 48, are connected to the first liquid pressure circuit 41. The reservoir 47 is connected to the pump 49 through a suction flow passage 50 and connected to the connection passage 43 through a master side flow passage 51 at a location closer to the master cylinder 321 than the linear solenoid valve 44. The pump 49 is connected by a supply flow passage 52 to a connecting portion 53 between the linear solenoid valve 44 and the pressure increasing valves 45a and 45d in the first liquid pressure circuit 41. When the motor 48 produces rotation, the pump 49 draws in brake fluid from the reservoir 47 and the master cylinder 321 through the suction flow passage 50 and the master side flow passage 51 and discharges the brake fluid into the supply flow passage 52.</p><p id="p0060" num="0060">Next, as one example of a depression force estimation device, the braking control device and the brake ECU 60 will be described with reference to <figref idrefs="f0001">Figs. 1 and 2</figref>.</p><p id="p0061" num="0061">As shown in <figref idrefs="f0001">Figs. 1 and 2</figref>, the brake switch SW1, wheel speed sensors SE2, SE3, SE4 and SE5 that detect rotational speeds of the wheels FR, FL, RR, and RL, and a vehicle body acceleration sensor SE6 that detects a G sensor value, which is the vehicle body deceleration in the longitudinal direction of the vehicle, are electrically connected to an input interface of the brake ECU 60. The motor 48 and the valves 44, 45a, 45d, 46a and 46d forming the brake actuator 40 are electrically connected to an output interface of the brake ECU 60.</p><p id="p0062" num="0062">The vehicle body acceleration sensor SE6 outputs a signal in which the G sensor value becomes a negative value when the vehicle accelerates because the center of gravity of the vehicle moves rearward and a signal in which the G sensor value becomes a positive value when the vehicle decelerates because the center of gravity of the vehicle moves forward. Thus, the G sensor value becomes a negative value when the vehicle stops on a sloped road directed uphill and becomes a positive value when the vehicle stops on a sloped road directed downhill.</p><p id="p0063" num="0063">The brake ECU 60 includes a CPU, a ROM and a RAM or the like (none shown). Various kinds of control processing (braking control processing and the like shown in <figref idrefs="f0006">Fig. 8</figref> for example), various kinds of maps (maps and the like shown in <figref idrefs="f0005">Figs. 6 and 7</figref>), and various threshold values are stored in advance in the ROM. The RAM stores various kinds of information (wheel speed, G sensor value and the like) that are appropriately rewritten when an ignition switch (not shown) of the vehicle is ON. The brake ECU 60 can communicate with other ECUs 13 and 23 of the vehicle through a bus 61.</p><p id="p0064" num="0064">The braking device 30 of the present embodiment assists the increasing of the braking force applied to the wheels FR, FL, RR, and RL when the current depression operation performed on the brake pedal 31 by the driver is an emergency braking operation. However, the braking device 30 of the present embodiment does not include a sensor that directly detects the depression force applied to the brake pedal 31 by the driver (e.g., pressure sensor for detecting MC pressure). Hence, in the present embodiment, instead of a pressure sensor,<!-- EPO <DP n="13"> --> the wheel speed sensors SE2 to SE5 and the vehicle body acceleration sensor SE6 are used to determine whether the current depression operation of the brake pedal 31 performed by the driver is an emergency braking operation.</p><p id="p0065" num="0065">Next, a braking control method using the wheel speed sensors SE2 to SE5 and the vehicle body acceleration sensor SE6 will be described with reference to the timing chart shown in <figref idrefs="f0002">Fig. 3</figref>.</p><p id="p0066" num="0066">As shown in <figref idrefs="f0002">Fig. 3</figref>, if a driver starts depressing the brake pedal 31 at a first timing t1, the MC pressure in the master cylinder 321 starts increasing. The WC pressure in the wheel cylinders 55a to 55d also starts to increase following the increase in the MC pressure. As a result, a braking force with a magnitude corresponding to the WC pressure is applied to the wheels FR, FL, RR, and RL. This suddenly decreases the wheel speed VW of each of the wheels FR, FL, RR, and RL, that is, the moving speed of the wheel relative to the road surface. When the wheel speed VW decreases in this manner, the vehicle body speed VS starts to decrease. In the following description, the "wheel speed VW" refers to a value obtained using a detection signal of each of the wheel speed sensors SE2 to SE5, that is, a signal indicative of the wheel rotational speed.</p><p id="p0067" num="0067">As a result, the vehicle body deceleration (first estimated vehicle body deceleration) DV calculated using the detection signal of at least one of the wheel speed sensors SE2 to SE5 starts to increase. Slightly after the vehicle body deceleration DV increases, the G sensor value (second estimated vehicle body deceleration) G, which is calculated using a detection signal of the vehicle body acceleration sensor SE6, starts to increase. The wheel speed sensors SE2 to SE5 are arranged at positions in the vicinity of the wheels FR, FL, RR, and RL, whereas the vehicle body acceleration sensor SE6 is separated from the wheels FR, FL, RR, and RL. Specifically, the vehicle body acceleration sensor SE6 is arranged on a vehicle body (not shown), which is supported by the suspension (not shown) of the vehicle. Hence, when a braking force is applied to the wheels FR, FL, RR, and RL, the G sensor value G starts to change slightly after the vehicle body deceleration DV.</p><p id="p0068" num="0068">When the vehicle body deceleration DV exceeds a first deceleration determination value DV_st, which is set to be greater than a braking determination value KDV_Brk, before the time elapsed from the second timing t2, at which the vehicle body deceleration DV exceeds the braking determination value KDV_Brk, exceeds first reference elapsed time TDVst, a first initiation determination condition is satisfied (third timing t3). Subsequently, when the G sensor value G exceeds a second deceleration determination value G_st before the time elapsed from when the third timing t3 exceeds a second reference elapsed time TGst (e.g., 102 milliseconds), a second initiation determination condition is satisfied (fourth timing t4). If the first and second initiation determination conditions are satisfied, it is determined that the current driver's depression operation on the brake pedal 31 is an emergency braking operation.</p><p id="p0069" num="0069">As a result, an assist control condition satisfaction flag FLG4 is set from OFF to ON, and the assist control (also referred to as "brake assist control" and "BA control") for assisting to increase a braking force applied to the wheels FR, FL, RR, and RL is started. The assist control condition satisfaction flag FLG4 is set to ON from establishment of an initiating condition of the assist control to establishment of a termination condition of the assist control.</p><p id="p0070" num="0070">The assist control includes an increasing control, which increases the WC pressure in each of the wheel cylinders 55a to 55d to increase the braking force applied to the wheels FR, FL, RR, and RL, and a holding control, which holds the WC pressure to hold the braking force<!-- EPO <DP n="14"> --> applied to the wheels FR, FL, RR, and RL. In the increasing control, the linear solenoid valve 44 and the pump 49 (motor 48) are operated (see <figref idrefs="f0001">Fig. 2</figref>). If the increasing control is performed during a preset increase requisition time, the control is shifted to the holding control. In the holding control, the pump 49 is stopped, and the WC pressure in each of the wheel cylinders 55a to 55d is held by the operation of the linear solenoid valve 44. When a driver's depression operation amount of the brake pedal 31 is changed, the WC pressure in the wheel cylinders 55a to 55d is increased or decrease in correspondence with the change.</p><p id="p0071" num="0071">Then, when the depression operation amount of the brake pedal 31 becomes small or the brake pedal 31 is released from the depressed state, the termination condition of the assist control is satisfied, the assist control condition satisfaction flag FLG4 is set to OFF, and the assist control is terminated (a fifth timing t5). That is, the supply of power to the linear solenoid valve 44 is stopped, and the braking force applied to the wheels FR, FL, RR, and RL is reduced. An example of the termination condition is the G sensor value G becoming less than the second deceleration determination value G_st.</p><p id="p0072" num="0072">The above-described braking control method has the problems described below.</p><p id="p0073" num="0073">A first problem is that among the vehicle body deceleration DV, which is calculated using the detection signals of the wheel speed sensors SE2 to SE5, and the G sensor value G, which is calculated using a detection signal of the vehicle body acceleration sensor SE6, in particular, the vehicle body deceleration DV includes a vibration component resulting from outer disturbance. Examples of the outer disturbance include reaction forces received by the wheels FR, FL, RR, and RL from the surface of the road along which the vehicle travels and interference between the drive force transmitted to the front wheels FR and FL, which are the drive wheels, and the braking force applied to the front wheels FR and FL.</p><p id="p0074" num="0074">The magnitude of the reaction force received by each of the wheels FR, FL, RR, and RL from a road surface changes between a bad road having an uneven surface and a good road having an even surface. Moreover, even with a bad road, the magnitude of a vibration component in the vehicle body deceleration DV changes in accordance with how uneven the road is. Further, when a vehicle moves over a bump on a road, a vibration component generated when the vehicle moves over the bump is included in the vehicle body deceleration DV. To solve such a problem, it is preferred that the degree of unevenness of the road surface be estimated, the movement of the vehicle over a bump be estimated, and the first deceleration determination value DV_st be corrected based on the estimation result.</p><p id="p0075" num="0075">The interference between the drive force and braking force applied to the wheels FR, FL, RR, and RL may occur when the automatic transmission 21 is downshifted during a braking operation. When a gear is downshifted in the automatic transmission 21 (e.g., shifted from fourth gear to third gear), the drive force transmitted to the front wheels FR and FL becomes greater than just before the downshifting. As a result, interference occurs between the drive force and braking force applied to the front wheels FR and FL. A vibration component caused by the interference is included in the vehicle body deceleration DV. Hence, when the automatic transmission 21 is downshifted or when there is a high probability that the automatic transmission 21 is downshifted, it is preferred that the first deceleration determination value DV_st be set as a large value.</p><p id="p0076" num="0076">A vibration component caused by outer disturbance is not included in the G sensor value G as much as the vehicle body deceleration DV. This is because the suspension (not shown) that supports the vehicle body functions as a damper.</p><p id="p0077" num="0077">A second problem is that detection signals from the wheel speed sensors SE2 to SE5<!-- EPO <DP n="15"> --> are easily affected by the gradient of the road surface. As shown in the timing chart of <figref idrefs="f0003">Fig. 4</figref>, when a road surface on which the vehicle is traveling is a sloped road, a difference that corresponds to the gradient of the road surface is produced between the vehicle body deceleration DV and the G sensor value G. That is, when the road is a sloped road directed uphill, gravity applied to the vehicle acts on the vehicle body as a braking force, and a component of the braking force is included in the vehicle body deceleration DV. When the road is a sloped road directed downhill, gravity applied to the vehicle acts on the vehicle body as a propulsive force, and a component of the propulsive force is included in the vehicle body deceleration DV. Hence, unless the first deceleration determination value DV_st is corrected in accordance with the gradient of the road surface, the vehicle body deceleration DV easily exceeds the first deceleration determination value DV_st when the road is a sloped road directed uphill, and the vehicle body deceleration DV is less prone to exceed the first deceleration determination value DV_st when the road is a sloped road directed downhill.</p><p id="p0078" num="0078">The G sensor value G is deviated from the vehicle body deceleration DV by an amount corresponding to the gradient of a road surface. That is, the G sensor value G becomes less than the vehicle body deceleration DV when the road is a sloped road directed uphill, and the G sensor value G becomes greater than the vehicle body deceleration DV when the road is a sloped road directed downhill. In other words, the timing for initiating assist control varied depending on the gradient of a road surface. To suppress such variations in the initiation timing, it is preferred that the first deceleration determination value DV_st and the second deceleration determination value G_st be corrected based on the gradient of the road surface.</p><p id="p0079" num="0079">When the gradient of a road surface on which the vehicle travels changes and indicates an uphill slope, the braking force resulting from the change in the gradient of the road surface is applied to the front wheels FR and FL as shown in the timing chart of <figref idrefs="f0004">Fig. 5</figref>. That is, when only the front wheels FR and FL of the wheels FR, FL, RR, and RL pass by a changing point A of the gradient, gravity acting on the vehicle body is applied to the front wheels FR and FL as a braking force (first timing t21). This suddenly decreases the wheel speed VW of the front wheels FR and FL, and the vehicle body deceleration DV suddenly increases. At the same time, the suspension (not shown) absorbs the change in the gradient of the road surface. Thus, the G sensor value G does not change as much as the vehicle body deceleration DV. Thus, the gradient change of the vehicle body deceleration DV differs greatly from the gradient change of the G sensor value G.</p><p id="p0080" num="0080">Then, when the rear wheels RR and RL also pass by the changing point A of the gradient, the difference between the vehicle body deceleration DV and the G sensor value G approaches the difference corresponding to the gradient of the road surface (second timing t22). That is, unless the first deceleration determination value DV_st is corrected, the vehicle body deceleration DV may easily exceed the first deceleration determination value DV_st between the first timing t21 and the second timing t22 thereby unintentionally satisfying the initiating condition of the assist control. Hence, when the gradient of a road surface changes and indicates an uphill slope, it is preferred that the first deceleration determination value DV_st be corrected to a larger value.</p><p id="p0081" num="0081">Depending on the driver's depression operation on the brake pedal 31, the necessity for the assist control may be null or low. A highly skilled driver who is good at driving the vehicle can appropriately depress the brake pedal 31 when necessary. More specifically, when emergency braking is necessary, a highly skilled driver can readily and strongly depress<!-- EPO <DP n="16"> --> the brake pedal 31. In this case, a sufficiently large braking force can be readily applied to the wheels FR, FL, RR, and RL just by the driver's depression operation on the brake pedal 31. Thus, assist control is unnecessary. Hence, based on the detection signals from the wheel speed sensors SE2 to SE5 and the vehicle body acceleration sensor SE6, when determining that the driver is applying a large depression force to the brake pedal 31, it is preferred that the assist control not be performed.</p><p id="p0082" num="0082">When the initiating condition of the assist control is satisfied and immediately after the increasing control of the assist control is initiated, anti-lock braking control (also referred to as "ABS control", hereinafter) that prevents locking of the wheels FR, FL, RR, and RL from locking may be initiated. Immediately after the increasing control is initiated, the driver's depression operation of the brake pedal 31 may initiate the ABS control. Immediately after the increasing control of the assist control is initiated, the vehicle body deceleration DV may become greater than or equal to the deceleration corresponding to the road surface limit (e.g., 1.2 G). In this case, if the braking force applied to the wheels FR, FL, RR, and RL is further increased, the possibility of the ABS control being initiated is high. In such cases, a sufficiently large braking force may be applied to the wheels FR, FL, RR, and RL just by the driver's depression operation on the brake pedal 31. Hence, it is preferred that the assist control be terminated.</p><p id="p0083" num="0083">The ABS control may be initiated during execution of the holding control of the assist control. Such a case may occur when the road surface along which the vehicle is traveling is switched from a high µ road to a low µ road and the slip rates of the wheels FR, FL, RR, and RL become high. If the ABS control is initiated during execution of the holding control, the braking force applied to the wheels FR, FL, RR, and RL is reduced to lower the slip rates of the wheels FR, FL, RR, and RL. Then, as the braking force applied to the wheels FR, FL, RR, and RL decreases, the vehicle body deceleration DV and the G sensor value G also decrease. In this case, the driver most likely does not intend to perform a braking operation that reduces the braking force applied to the wheels FR, FL, RR, and RL. Thus, it is preferred that the assist control not be terminated. Further, after the ABS control is initiated, the road surface may be switched again from a low µ road to a high µ road. In such a case, if a driver's depression operation amount of the brake pedal 31 remains large, the assist control should be continued. In this manner, when the ABS control is initiated during execution of the holding control, it is preferred that the holding control be continued.</p><p id="p0084" num="0084">Even if the driver's depression operation amount of the brake pedal 31 is reduced during execution of the assist control, the assist control may not be terminated. This is because the G sensor value G may be greater than or equal to the second deceleration determination value G_st due to just the braking force applied to the wheels FR, FL, RR, and RL based on execution of the assist control. Hence, the threshold value used when determination termination of the assist control should take into consideration the braking force applied to the wheels FR, FL, RR, and RL by the execution of the assist control.</p><p id="p0085" num="0085">The brake ECU 60 of the present embodiment sets the starting timing and terminating timing of the assist control taking the above-described matters into consideration. Next, a map required for the brake ECU 60 to set the timing for initiating the assist control will be described with reference to <figref idrefs="f0005">Figs. 6 and 7</figref>.</p><p id="p0086" num="0086">A first map shown in <figref idrefs="f0005">Fig. 6</figref> will now be described.</p><p id="p0087" num="0087">The first map is used to correct the first deceleration determination value DV_st when it determined that there is a possibility that the automatic transmission 21 will be downshifted.<!-- EPO <DP n="17"> --> The horizontal axis of the first map shows a third determination timer T3 corresponding to the duration time of a state in which the G sensor value G exceeds a downshift determination value, which is set to determine whether there is a possibility that the automatic transmission 21 will be downshifted. The vertical axis of the first map shows a downshift determination correction value DVflat, which is the correction amount of the first deceleration determination value DV_st. As shown in <figref idrefs="f0005">Fig. 6</figref>, when the third determination timer T3 is less than or equal to the first time T3_1 (e.g., 14), the downshift determination correction value DVflat is set to "0 (zero)", and when the third determination timer T3 is greater than or equal to second time T3_2 (e.g., 50), which is longer than the first time T3_1, the downshift determination correction value DVflat is set to a maximum correction value KDVflat1 (e.g., 0.5 G). When the third determination timer T3 is greater than the first time T3_1 and less than the second time T3_2, the downshift determination correction value DVflat is set to a larger value as the value of the third determination timer T3 increases.</p><p id="p0088" num="0088">Next, a second map shown in <figref idrefs="f0005">Fig. 7</figref> will be described.</p><p id="p0089" num="0089">The second map is used to set a gradient change reference value KDGlow for determining whether or not the gradient of the road surface along which the vehicle is traveling has changed and indicates an uphill slope. The expression "gradient of a road surface is changed and indicates an uphill slope" refers to an increase in the gradient of the road surface along which the vehicle is traveling. This expression includes a case in which when the gradient is a negative value, the absolute value of the gradient becomes small, that is, the gradient of the downhill slope becomes gradual.</p><p id="p0090" num="0090">As shown in <figref idrefs="f0005">Fig. 7</figref>, the horizontal axis of the second map shows a subtraction value (= DDV - DG) obtained by subtracting a gradient change DG of the G sensor value G from a gradient change DDV of the vehicle body deceleration DV, and the vertical axis of the second map shows the gradient change reference value KDGlow. When the subtraction value (= DDV - DG) is less than or equal to a first subtraction value D1 (e.g., 0.3 G), the gradient change reference value KDGlow is set to a first reference value KDGlow1 (e.g., 2G/s). When the subtraction value is greater than or equal to a second subtraction value D2 (e.g., 0.5 G), which is greater than the first subtraction value D1, the gradient change reference value KDGlow is set to a second reference value KDGlow2 (e.g., 4G/s), which is greater than the first reference value KDGlow1. When the subtraction value is greater than the first subtraction value D1 and less than the second subtraction value D2, the gradient change reference value KDGlow is set to a larger value as the subtraction value increases.</p><p id="p0091" num="0091">The gradient change DDV of the vehicle body deceleration indicates a change amount of the vehicle body deceleration DV per unit time and is acquired by time-differentiating the vehicle body deceleration DV, for example. In the same manner, the gradient change DG of the G sensor value indicates a change amount of the G sensor value G per unit time and is acquired by time-differentiating the G sensor value G, for example.</p><p id="p0092" num="0092">Next, various kinds of control processing routines executed by the brake ECU 60 of the present embodiment will be described with reference to flowcharts shown in <figref idrefs="f0006 f0007 f0008 f0009 f0010 f0011 f0012">Figs. 8 to 14</figref>. <figref idrefs="f0006">Fig. 8</figref> shows a braking control processing routine mainly executed by the brake ECU 60.</p><p id="p0093" num="0093">The braking control processing routine is executed in predetermined time cycles (e.g., 6 milliseconds) that are determined in advance. In the braking control processing routine, the brake ECU 60 performs information acquisition processing for acquiring various kinds of information (such as wheel speed) necessary when assist control or anti-lock braking control is performed (step S10). Subsequently, the brake ECU 60 performs bad road determination<!-- EPO <DP n="18"> --> processing for acquiring a bad road index that numerically indicates the unevenness degree of the road surface along which the vehicle is traveling (step S11).</p><p id="p0094" num="0094">The brake ECU 60 performs ABS determination processing to determine whether or not the initiating condition of the ABS control is satisfied (step S12). Specifically, when the brake switch SW1 is ON, the brake ECU 60 determines whether a slip rate of each of the wheels FR, FL, RR, and RL is greater than or equal to a preset slip rate determination value and completes the ABS determination processing. The slip rate is a value calculated by the information acquisition processing. The calculation of the slip rate will be described below (see step S22 in <figref idrefs="f0007">Fig. 9</figref>).</p><p id="p0095" num="0095">Then, the brake ECU 60 performs ABS processing to prevent locking of the wheel (e.g., right front wheel FR) of which slip rate becomes greater than or equal to a slip rate determination value (step S13). Specifically, the brake ECU 60 repeatedly and sequentially performs a decreasing control for decreasing the braking force applied to the wheel that is subject to control (e.g., right front wheel FR) and an increasing control for increasing the braking force (and a holding control for holding the braking force). At this time, the brake ECU 60 operates the pump 49, the pressure decreasing valve and the pressure increasing valve for the wheel that is subject to control. Therefore, in the present embodiment, the brake ECU 60 functions as an ABS control unit.</p><p id="p0096" num="0096">The brake ECU 60 performs BA initiation determination processing for determining whether or not the initiating condition of the assist control is satisfied (step S14). When satisfied, the brake ECU 60 performs BA processing to execute the assist control (step S15). Subsequently, the brake ECU 60 determines whether or not the termination condition of the assist control is satisfied. When satisfied, the brake ECU 60 performs BA termination determination processing for terminating the assist control (step S16) and temporarily terminates the braking control processing routine.</p><p id="p0097" num="0097">Next, the information acquisition processing routine in step S10 will be described with reference to the flowchart of <figref idrefs="f0007">Fig. 9</figref>.</p><p id="p0098" num="0098">In the information acquisition processing routine, the brake ECU 60 calculates the wheel speeds VW of the wheels FR, FL, RR, and RL based on the detection signals from the wheel speed sensors SE2 to SE5 (step S20). Subsequently, the brake ECU 60 calculates the vehicle body speed VS (also referred to as the "estimated vehicle body speed") based on the calculated wheel speeds VW of at least one of the wheels FR, FL, RR, and RL (step S21). For example, the brake ECU 60 calculates a vehicle body speed VS based on the wheel speeds VW of the rear wheels RR and RL, which are the driven wheels when a braking operation is not performed, and calculates the vehicle body speeds VS based on the wheel speeds VW of the wheels including the front wheels FR and FL, which are the drive wheels when the braking operation is performed. Accordingly, in the present embodiment, the brake ECU 60 also functions as a vehicle body speed calculation unit. Then, the brake ECU 60 calculates slip rates SLP (= (VS - VW) / VW)) of the wheels FR, FL, RR, and RL (step S22). Subsequently, the brake ECU 60 calculates the vehicle body deceleration DV of the vehicle based on the vehicle body speed VS calculated in step S21 (step S23). Accordingly, in the present embodiment, the brake ECU 60 also functions as a first deceleration calculation unit that calculates the vehicle body deceleration (first estimated vehicle body deceleration) DV of the vehicle using detection signals of the wheel speed sensors SE2 to SE5. Further, step S23 corresponds to a first deceleration calculating step. The vehicle body deceleration DV becomes a positive value when the vehicle is decelerated and becomes a negative value<!-- EPO <DP n="19"> --> when the vehicle is accelerated.</p><p id="p0099" num="0099">Then, the brake ECU 60 acquires a gradient change DDV of the vehicle body deceleration DV calculated in step S23 (step S24). Subsequently, the brake ECU 60 performs filtering processing to remove a high frequency change component from the vehicle body deceleration DV calculated in step S23 and acquires a leveled vehicle body deceleration DVf1 (step S25). As shown in <figref idrefs="f0013">Fig. 15</figref>, the brake ECU 60 performs a filtering processing to remove a low frequency change component from the vehicle body deceleration DV calculated in step S23 and acquires a noise component DVf2 (step S26). The noise component DVf2 is used when a bad road index is acquired.</p><p id="p0100" num="0100">Thereafter, returning to the flowchart of <figref idrefs="f0007">Fig. 9</figref>, the brake ECU 60 calculates the G sensor value G based on a detection signal from the vehicle body acceleration sensor SE6 (step S27). Accordingly, in the present embodiment, the brake ECU 60 also functions as a second deceleration calculation unit that calculates the G sensor value (second estimated vehicle body deceleration) G of the vehicle by using a detection signal of the vehicle body acceleration sensor SE6. Step S27 corresponds to a second deceleration calculating step. Then, the brake ECU 60 calculates, as gradient information, the gradient change DG of the G sensor value G calculated in step S27 (step S28) and terminates the information acquisition processing routine. Accordingly, in the present embodiment, the brake ECU 60 also functions as a gradient information acquisition unit for calculating, as gradient information, the gradient change DG of the G sensor value (second estimated vehicle body deceleration). The brake ECU 60 also functions as a gradient change acquisition unit, which acquires the gradient change DDV of the vehicle body deceleration and the gradient change DG of the G sensor value.</p><p id="p0101" num="0101">Next, a bad road determination processing routine of step S11 will be described with reference to the timing chart of <figref idrefs="f0013">Fig. 15</figref>.</p><p id="p0102" num="0102">In the bad road determination processing routine, the brake ECU 60 acquires the noise component DVf2 from a predetermined number of samples calculated in step S26 and calculates a dispersion value of the noise component DVf2. The dispersion value of the noise components DVf2 is a value obtained by squaring the noise component DVf2, integrating the squared value, and dividing the integrated value by the number of samples. When the dispersion value is less than a preset first dispersion threshold value, the brake ECU 60 sets a bad road index to "0 (zero)". When the dispersion value is greater than or equal to the first dispersion threshold value and less than a preset second dispersion threshold value, which is preset to be greater than the first dispersion threshold value, the brake ECU 60 sets the bad road index to "1". When the dispersion value is greater than or equal to the second dispersion threshold value and less than a third dispersion threshold value, which is preset to be greater than the second dispersion threshold value, the brake ECU 60 sets the bad road index to "2", and when the dispersion value is greater than or equal to the third dispersion threshold value, the brake ECU 60 sets the bad road index to "3". The dispersion threshold values are used to set the bad road index of "0 (zero)" to "3" in accordance with the magnitude of the dispersion value and are preset by an experiment or a simulation. In this manner, as the unevenness degree of a road surface increases, the bad road index is set at a greater value. Therefore, in the present embodiment, the brake ECU 60 also functions as a bad road index acquisition unit. When the bad road index is "0 (zero)", it is determined that the road surface is good, or that the road is not a bad road.</p><p id="p0103" num="0103">Next, a BA initiation determination processing routine of step S14 will be described<!-- EPO <DP n="20"> --> with reference to the flowcharts shown in <figref idrefs="f0008">Figs. 10</figref>, <figref idrefs="f0009">11</figref> and <figref idrefs="f0010">12</figref> and the timing charts shown in <figref idrefs="f0004">Figs. 5</figref>, <figref idrefs="f0014">16</figref>, <figref idrefs="f0015">17</figref>, <figref idrefs="f0016">18</figref> and <figref idrefs="f0017">19</figref>.</p><p id="p0104" num="0104">The BA initiation determination processing routine is executed when the brake switch SW1 is ON. In the BA initiation determination processing routine, the brake ECU 60 determines whether or not the bad road index Nrw acquired in step S11 is "0 (zero)" (step S30). Accordingly, in the present embodiment, the brake ECU 60 also functions as an outer disturbance determination unit that determines whether a vibration component based on outer disturbance (i.e., bad road) is included in the vehicle body deceleration DV. Step S30 corresponds to an outer disturbance determining step. When the bad road index Nrw is "0 (zero)" (step S30: YES) the brake ECU 60 determines that the road surface is good, and sets a bad road determination correction value DVbad to "0 (zero)" (step S31). The bad road determination correction value DVbad is used to correct the first deceleration determination value DV_st. Subsequently, the brake ECU 60 sets a bad road correction flag FLG1 to OFF (step S32) and proceeds to step S39, which will be described below.</p><p id="p0105" num="0105">If the bad road index Nrw is not "0 (zero)" (step S30: NO), the brake ECU 60 determines whether the bad road index Nrw is "1" (step S33). When the bad road index Nrw is "1" (step S33: YES), the brake ECU 60 determines that the road surface is a slightly bad and sets the bad road determination correction value DVbad to a first correction value KDVbad1 (e.g., 0.2 G) (step S34). Subsequently, the brake ECU 60 sets the bad road correction flag FLG1 to ON (step S35) and proceeds to step S39, which will be described below.</p><p id="p0106" num="0106">When the bad road index Nrw is not "1" (step S33: NO), the brake ECU 60 determines whether the bad road index Nrw is "2" (step S36). When the bad road index Nrw is "2" (step S36: YES), the brake ECU 60 determines that the road surface is a normal bad road and sets the bad road determination correction value DVbad to a second correction value KDVbad2 (e.g., 0.4 G), which is greater than the first correction value KDVbad1 (step S37). Subsequently, the brake ECU 60 proceeds to step S35, which is described above. When the bad road index Nrw is not "2" (step S36: NO), the bad road index Nrw is "3". Thus, the brake ECU 60 determines that the road surface is an extremely bad road and sets the bad road determination correction value DVbad to a third correction value KDVbad3 (e.g., 0.6 G), which is greater than the second correction value KDVbad2 (step S38). Subsequently, the brake ECU 60 proceeds to step S35, which is described above. In the present embodiment, a larger unevenness degree of the road surface, or a larger bad road index Nrw, sets a larger bad road determination correction value DVbad.</p><p id="p0107" num="0107">In step S39, the brake ECU 60 increments a first determination timer T1 by "1". The brake ECU 60 determines whether or not the first determination timer T1 has exceeded a first time determination value T1th (e.g., 67) (step S40). The braking control processing routine is executed in predetermined time cycles (e.g., 6 milliseconds). Hence, step S40 is performed to determine whether the time corresponding to the first determination timer T1 exceeds a determination time T400 (e.g., 402 milliseconds), which is obtained by multiplying the first time determination value T1th by a predetermined time (see <figref idrefs="f0003">Fig. 4</figref>). When the first determination timer T1 is less than or equal to the first time determination value T1th (step S40: NO), the brake ECU 60 acquires, as a first difference value DVsub1, an absolute value of the difference between the vehicle body deceleration DV calculated in step S23 and the leveled vehicle body deceleration DVf1 calculated in step S25 (step S41).</p><p id="p0108" num="0108">Subsequently, the brake ECU 60 determines whether an integration permission flag<!-- EPO <DP n="21"> --> FLGs is OFF and whether the previous difference value DVsub1b is greater than the current first difference value DVsub1 (step S421). The integration permission flag FLGs is used to integrate the top value (or value close to the top value) of the first difference value DVsub1, which changes in a substantially cyclic manner. The previous difference value DVsub1b is a first difference value DVsub1 calculated at the previous timing.</p><p id="p0109" num="0109">When the integration permission flag FLGs is OFF and the previous difference value DVsub1b is greater than the current first difference value DVsub1 (step S421: YES), the brake ECU 60 proceeds to step S422. In step S422, the brake ECU 60 integrates the first difference value DVsub1 calculated in step S41 with an amplitude integration value σwDV of the vehicle body deceleration, increments the number CT1 of integrating operations by "1", and sets the integration permission flag FLGs to ON (step S422). Subsequently, the brake ECU 60 subtracts the G sensor value G calculated in step S27 from the leveled vehicle body deceleration DVf1, acquires the second difference value DVsub2 (step S43), and integrates the second difference value DVsub2 calculated in step S43 with a gradient integration value σsG (step S441). The brake ECU 60 sets the previous difference value DVsub1b as the current first difference value DVsub1 (step S442) and proceeds to step S50, which will be described below.</p><p id="p0110" num="0110">When at least one of a condition that the integration permission flag FLGs is OFF and a condition that the previous difference value DVsub1b is greater than the current first difference value DVsub1 is not satisfied (step S421: NO), the brake ECU 60 determines whether the previous difference value DVsub1b is less than or equal to the current first difference value DVsub1 (step S423). When the previous difference value DVsub1b is greater than the current first difference value DVsub1 (step S423: NO), the brake ECU 60 proceeds to step S43, which is described above. When the previous difference value DVsub1b is less than or equal to the current first difference value DVsub1 (step S423: YES), the brake ECU 60 sets the integration permission flag FLGs to OFF (step S424) and proceeds to step S43, which is described above.</p><p id="p0111" num="0111">When the first determination timer T1 exceeds the first time determination value T1th (step S40: YES), the brake ECU 60 divides the acquired amplitude integration value σwDV of the vehicle body deceleration by the renewed number CT1 of integration operations until the first determination timer T1 exceeds the first time determination value T1th and acquires an amplitude W_DV of the vehicle body deceleration (step S45). The amplitude W_DV is used when the first deceleration determination value DV_st is corrected. Accordingly, in the present embodiment, the brake ECU 60 also functions as an amplitude calculator.</p><p id="p0112" num="0112">Subsequently, the brake ECU 60 determines whether the calculated amplitude W_DV is less than a preset amplitude reference value KW (step S46). Detection signals from the wheel speed sensors SE2 to SE5 used for acquiring the vehicle body deceleration DV include a certain amount of fluctuation (i.e., slight cyclic fluctuation) even if there is no outer disturbance as described above. There is no need to correct the first deceleration determination value DV_st based on such a slight cyclic fluctuation. When the road surface along which the vehicle is traveling is a so-called gravel road over which gravel is spread, the bad road index Nrw often becomes "0 (zero)". In such a case, even if it is determined that the road surface is good, the vibration component based on slight unevenness of the road surface is included in the vehicle body deceleration DV. Hence, in the present embodiment, the amplitude reference value KW is set as a determination value used to determine whether the influence of outer disturbance is included in the vehicle body deceleration DV.<!-- EPO <DP n="22"> --></p><p id="p0113" num="0113">When the amplitude W_DV is less than the amplitude reference value KW (step S46: YES), the brake ECU 60 sets the amplitude W_DV to "0 (zero)" (step S47), and proceeds to step S48. If the amplitude W_DV is greater than or equal to the amplitude reference value KW (step S46: NO), the brake ECU 60 proceeds to step S48 without performing step S47.</p><p id="p0114" num="0114">In step S48, the brake ECU 60 divides the acquired gradient integration value σsG by the first determination timer T1 and acquires a gradient estimated value (gradient information) Gslope. The gradient estimated value Gslope is the gradient of the road surface and used when the first deceleration determination value DV_st and the second deceleration determination value G_st are corrected. Accordingly, in the present embodiment, the brake ECU 60 also functions as a gradient information acquisition unit, which acquires the gradient estimated value Gslope as gradient information. Step S48 corresponds to a gradient information acquiring step. Subsequently, the brake ECU 60 sets the first determination timer T1, the number CT1 of the integrating operations, the amplitude integration value σwDV of the vehicle body deceleration, and the gradient integration value σsG to "0 (zero)" (step S49) and then proceeds to following step S50.</p><p id="p0115" num="0115">More specifically, in the timing chart shown in <figref idrefs="f0003">Fig. 4</figref>, the difference values DVsub1 and DVsub2 are acquired in predetermined time cycles from the first timing t11, at which the acquisition operation of the difference values DVsub1 and DVsub2 is started, to a second timing t12, at which determination time T400 elapses from the first timing t11. The gradient estimated value Gslope used to correct the deceleration determination values DV_st and G_st is set to an average value of the second difference values DVsub2 acquired during the determination time T400. The amplitude W_DV for correcting the first deceleration determination value DV_st is set based on the first difference value DVsub1 acquired during the determination time T400. That is, the amplitude W_DV and the gradient estimated value Gslope are renewed for every determination time T400.</p><p id="p0116" num="0116">Returning to the flowchart shown in <figref idrefs="f0008">Fig. 10</figref>, the brake ECU 60 determines in step S50 whether or not the vehicle is moving over a bump on a road surface. A state in which wheel speeds VW of the wheels FR, FL, RR, and RL change when the vehicle moves over a bump will now be described with reference to the timing chart shown in <figref idrefs="f0014">Fig. 16</figref>. When the vehicle moves over a bump, the front wheels FR and FL first move over the bump. In this state, the wheel speeds VW of the front wheels FR and FL are suddenly decelerated because the front wheels FR and FL come into contact with the bump (first timing t31). Then, the center of gravity of the vehicle is vertically changed due to the contact of the front wheels FR and FL with the bump. As a result, the wheel speeds VW of the front wheels FR and FL are changed in accordance with the vertical change in the center of gravity. That is, when the center of gravity of the vehicle is moved upward, the contact area between the road surface and the front wheels FR and FL becomes small. Hence, the traction force between the front wheels FR and FL and the road surface becomes small, and the wheel speeds VW of the front wheels FR and FL are accelerated. If the wheel speeds VW of the front wheels FR and FL start accelerating in this manner, the vehicle body deceleration DV starts to decrease (second timing t32).</p><p id="p0117" num="0117">Then, when the center of gravity of the vehicle starts moving downward and the contact area between the road surface and the front wheels FR and FL increases, the traction force between the road surface and the front wheels FR and FL increases and the wheel speeds VW of the front wheels FR and FL start to decelerate. From the third timing t33, at which a gradient change of the vehicle body deceleration DV becomes gradual, the vehicle<!-- EPO <DP n="23"> --> body deceleration DV becomes less than the G sensor value G. Hence, after the third timing t33, the vehicle body deceleration DV becomes greater toward the G sensor value G in recoil from the preceding state. As shown at the fourth timing t34, the vehicle body deceleration DV may become greater than the G sensor value G. In this case, if the first deceleration determination value DV_st is not corrected, the vehicle body deceleration DV becomes greater than or equal to the first deceleration determination value DV_st, and the assist control may start unintentionally. Hence, it is preferable that the first deceleration determination value DV_st be corrected before the fourth timing t34.</p><p id="p0118" num="0118">When the driver's depression operation amount of the brake pedal 31 is small, the vehicle body deceleration DV changes as shown in the timing chart of <figref idrefs="f0015">Fig. 17</figref>. That is, when the vehicle moves over a bump, the front wheels FR and FL come into contact with the bump. This suddenly decelerates the wheel speeds VW of the front wheels FR and FL (first timing t31-1). Then, the center of gravity of the vehicle is vertically changed due to the contact of the front wheels FR and FL with the bump. As a result, the wheel speeds VW of the front wheels FR and FL are changed in accordance with the vertical change in the center of gravity. That is, when the center of gravity of the vehicle is moved upward, the contact area between the road surface and the front wheels FR and FL becomes small. Hence, the traction force between the front wheels FR and FL and the road surface becomes small, and the wheel speeds VW of the front wheels FR and FL are accelerated. If the wheel speeds VW of the front wheels FR and FL start to accelerate, the vehicle body deceleration DV starts to decrease.</p><p id="p0119" num="0119">In this state, if the vehicle body deceleration DV before the wheel speeds VW of the front wheels FR and FL start to accelerate is small, the vehicle body deceleration DV immediately becomes a negative value (third timing t33-1). After the third timing t33-1, the vehicle body deceleration DV is increased toward the G sensor value G in recoil from the preceding state. In this case, if the first deceleration determination value DV_st is not corrected, the vehicle body deceleration DV becomes greater than or equal to the first deceleration determination value DV_st, and the assist control may start unintentionally. Thus, it is preferable that the first deceleration determination value DV_st be corrected at the third timing t33-1.</p><p id="p0120" num="0120">Returning back to the flowchart shown in <figref idrefs="f0008">Fig. 10</figref>, in the present embodiment, the determination processing in step S50 is performed. Specifically, the brake ECU 60 determines whether one of the following two conditions is satisfied.</p><p id="p0121" num="0121">(First Condition) A value (= G - DV) obtained by subtracting the vehicle body deceleration DV from the G sensor value G exceeds a preset deceleration specified value DVth1 (e.g., 0.2 G).</p><p id="p0122" num="0122">(Second Condition) The vehicle body deceleration DV is less than "0 (zero)".</p><p id="p0123" num="0123">More specifically, once the G sensor value G becomes greater than the total of the vehicle body deceleration DV and the deceleration specified value DVth1, the probability of the vehicle body deceleration DV suddenly increasing afterward is high. If the vehicle body deceleration DV becomes a negative value, this indicates that the vehicle body speed VS has erroneously been determined as accelerating even though a braking operation is being performed. Hence, when one of the above conditions is satisfied, it is determined that the vehicle moved over a bump on a road. Therefore, in the present embodiment, the brake ECU 60 also functions as an outer disturbance determination unit that determines whether or not a vibration component based on outer disturbance (i.e., bump) is included in vehicle body<!-- EPO <DP n="24"> --> deceleration (first estimated vehicle body deceleration) DV. Step S50 corresponds to an outer disturbance determining step. A case in which the first condition is not satisfied and the second condition is satisfied can occur when the vehicle moves over a bump in a state in which the driver's depression operation amount of the brake pedal 31 is small.</p><p id="p0124" num="0124">When both conditions are not satisfied (step S50: NO), the brake ECU 60 determines that the vehicle has not moved over a bump and sets a second determination timer T2 and a bump determination correction value DVstep to "0 (zero)" (step S51). The brake ECU 60 sets a bump correction flag FLG2 to OFF (step S52) and proceeds to step S57, which will be described below.</p><p id="p0125" num="0125">When the first or the second condition is satisfied (step S50: YES), the brake ECU 60 determines that the vehicle moved over a bump and increments the second determination timer T2 by "1" (step S53). Subsequently, the brake ECU 60 determines whether the second determination timer T2 is less than or equal to a preset second time determination value T2th (e.g., 34) (step S54). The braking control processing routine is executed in predetermined time cycles (e.g., 6 milliseconds). Hence, it is determined in step S53 whether the time corresponding to the second determination timer T2 has exceeded a determination time T200 (e.g., 204 milliseconds) obtained by multiplying the second time determination value T2th by a predetermined time (see <figref idrefs="f0014">Figs. 16</figref> and <figref idrefs="f0015">17</figref>). When the second determination timer T2 exceeds the second time determination value T2th (step S54: NO), the brake ECU 60 proceeds to step S51. That is, the brake ECU 60 sets the bump determination correction value DVstep which is used to correct the first deceleration determination value DV_st to "0 (zero)". Therefore, in the present embodiment, the second time determination value T2th corresponds to a deceleration specified time.</p><p id="p0126" num="0126">When the second determination timer T2 is less than or equal to the second time determination value T2th (step S54: YES), the brake ECU 60 sets the bump determination correction value DVstep to a third correction value KDVbad3 (e.g., 0.6 G) (step S55). Subsequently, the brake ECU 60 sets the bump correction flag FLG2 to ON (step S56) and proceeds to following step S57.</p><p id="p0127" num="0127">In step S57, the brake ECU 60 determines whether it is possible to communicate with the AT ECU 23, which serves as another control unit (transmission control unit) that controls the automatic transmission 21. When it is not possible to communicate with the AT ECU 23 (step S57: NO), the brake ECU 60 proceeds to step S66, which will be described below. When it is possible to communicate with the AT ECU 23 (step S57: YES), the brake ECU 60 determines whether a downshift signal instructing the execution of a downshifting operation has been received from the AT ECU 23 (step S58). When the downshift signal has not yet been received (step S58: NO), the brake ECU 60 proceeds to step S61, which is will described below. When the downshift signal has been received (step S58: YES), the brake ECU 60 sets, to the maximum correction value KDVflat1 (e.g., 0.5 G), a downshift determination correction value DVflat that is used to correct the first deceleration determination value DV_st (step S59). Accordingly, in the present embodiment, the brake ECU 60 also functions as an outer disturbance determination unit that determines whether or not a vibration component based on outer disturbance resulting from the downshifting operation of the automatic transmission 21 is included in the vehicle body deceleration (first estimated vehicle body deceleration) DV. Step S58 corresponds to an outer disturbance determining step. Then, the brake ECU 60 sets a downshift flag FLGd to ON (step S60) and shifts the processing to step S70, which will be described below.<!-- EPO <DP n="25"> --></p><p id="p0128" num="0128">In step S61, the brake ECU 60 determines whether or not the downshift flag FLGd is ON. If the downshift flag FLGd is OFF (step S61: NO), the brake ECU 60 proceeds to step S70, which will be described below. When the downshift flag FLGd is ON (step S61: YES), the brake ECU 60 increments a downshift timer Td by "1" (step S62). The brake ECU 60 determines whether the downshift timer Td exceeds a preset gear shifting completion determination value KTd (e.g., 17) (step S63). The braking control processing routine is executed in predetermined time cycles (e.g., 6 milliseconds). Thus, it is determined in step S62 whether the time corresponding to the downshift timer Td exceeds the determination time (e.g., 102 milliseconds) obtained by multiplying the gear shifting completion determination value KTd by a predetermined time. Accordingly, in the present embodiment, the gear shifting completion determination value KTd corresponds to a gear shifting specified time.</p><p id="p0129" num="0129">When the downshift timer Td is less than or equal to the gear shifting completion determination value KTd (step S63: NO), the brake ECU 60 proceeds to step S70, which will be described below. When the downshift timer Td exceeds the gear shifting completion determination value KTd (step S63: YES), the brake ECU 60 sets the downshift determination correction value DVflat to "0 (zero)" (step S64) and sets the downshift flag FLGd to OFF (step S65). The brake ECU 60 proceeds to step S70, which will be described below.</p><p id="p0130" num="0130">A downshift determination value (high depression force determination reference value) KGflat (e.g., 0.3 G) is set to determine whether a driver's depression operation amount of the brake pedal 31 is large. In step S66, the brake ECU 60 determines whether the G sensor value G calculated in step S27 exceeds the downshift determination value KGflat. If the G sensor value G exceeds the downshift determination value KGflat (step S66: YES), the brake ECU 60 increments the third determination timer T3 by "1" (step S67). The third determination timer T3 corresponds to the duration time in a state in which the G sensor value G exceeds the downshift determination value KGflat. Accordingly, in the present embodiment, the brake ECU 60 also functions as a duration time acquisition unit that acquires the third determination timer T3 as a duration time in a state in which the G sensor value (second estimated vehicle body deceleration) G exceeds the downshift determination value (high depression force determination reference value) KGflat.</p><p id="p0131" num="0131">The brake ECU 60 sets the downshift determination correction value DVflat to a value corresponding to the third determination timer T3 using the first map (see <figref idrefs="f0005">Fig. 6</figref>) (step S68) and proceeds to step S70, which will be described below. More specifically, when the third determination timer T3 is less than or equal to the first time T3_1, the downshift determination correction value DVflat is set to "0 (zero)". When the third determination timer T3 exceeds the first time T3_1, the downshift determination correction value DVflat is set to a value greater than "0 (zero)". That is, the first time T3_1 corresponds to a high depression force specified time. Accordingly, in the present embodiment, the brake ECU 60 also functions as an outer disturbance determination unit which determines whether or not a vibration component based on outer disturbance resulting from a downshifting operation of the automatic transmission 21 may be included in the vehicle body deceleration (first estimated vehicle body deceleration) DV. Step S68 corresponds to an outer disturbance determining step. When the G sensor value G is less than the downshift determination value KGflat (step S66: NO), the brake ECU 60 sets the third determination timer T3 and the downshift determination correction value DVflat to "0 (zero)" (step S69) and proceeds to following step S70.</p><p id="p0132" num="0132">In step S70, the brake ECU 60 sets, using the second map (see <figref idrefs="f0005">Fig. 7</figref>), the gradient change reference value KDGlow used to determine whether or not a road surface along which<!-- EPO <DP n="26"> --> the vehicle is traveling has changed to an uphill slope. Specifically, the brake ECU 60 subtracts the gradient change DG of the G sensor value calculated in step S28 from the gradient change DDV of the vehicle body deceleration calculated in step S24 to set a value based on the subtraction result as the gradient change reference value KDGlow. Accordingly, in the present embodiment, the brake ECU 60 also functions as a reference value setting unit that sets the gradient change reference value KDGlow. Then, the brake ECU 60 determines whether the gradient change DG of the G sensor value calculated in step S28 is less than the gradient change reference value KDGlow, which is set in step S70 (step S71). When the gradient change DG is less than the gradient change reference value KDGlow (step S71: YES), the brake ECU 60 determines that the road surface has changed to an uphill road and sets a gradient change correction value DVDGlow, which is used to correct the first deceleration determination value DV_st, to a preset maximum gradient correspondence value KDVDGlow (e.g., 0.45 G) (step S72). The maximum gradient correspondence value KDVDGlow is a deceleration component corresponding to the maximum value (e.g., 50%) of a road surface gradient on which the vehicle can travel. Then, the brake ECU 60 proceeds to step S74, which will be described below. When the gradient change DG is greater than or equal to the gradient change reference value KDGlow (step S71: NO), the brake ECU 60 determines that the road surface has not changed to an uphill slope, sets the gradient change correction value DVDGlow to "0 (zero)" (step S73), and shifts the processing to following step S74.</p><p id="p0133" num="0133">In step S74, the brake ECU 60 determines whether the bump correction flag FLG2 is ON. When the bump correction flag FLG2 is ON (step S74: YES), the brake ECU 60 sets a deceleration correction value DVtp as the bump determination correction value DVstep set in step S55 (step S75) and proceeds to step S79. When the bump correction flag FLG2 is OFF (step S74: NO), the brake ECU 60 determines whether the bad road correction flag FLG1 is ON (step S76). When the bad road correction flag FLG1 is ON (step S76: YES), the brake ECU 60 sets the deceleration correction value DVtp to a bad road determination correction value DVbad set in any one of steps S34, S37 and S38 and proceeds to step S79, which will be described below. When the bad road correction flag FLG1 is OFF (step S76: NO), the brake ECU 60 sets the deceleration correction value DVtp to the amplitude W_DV, which is set in step S45 or S47, and proceeds to following step S79.</p><p id="p0134" num="0134">In step S79, the brake ECU 60 sets the first deceleration determination value DV_st. Specifically, the brake ECU 60 adds the deceleration correction value DVtp, the gradient estimated value Gslope, the downshift determination correction value DVflat and the gradient change correction value DVDGlow to a preset basic value KDV (e.g., 0.5 G). Then, the brake ECU 60 sets the added result as the first deceleration determination value DV_st. That is, when it is determined that the vehicle has moved over a bump, the first deceleration determination value DV_st is set to a value that is greater than the basic value KDV by the bump determination correction value DVstep (see <figref idrefs="f0014">Figs. 16</figref> and <figref idrefs="f0015">17</figref>). When determined that a road surface is a bad road, the first deceleration determination value DV_st is set to a value that is greater than the basic value KDV by a bad road determination correction value DVbad. When it is determined that the road surface is a good road, the first deceleration determination value DV_st is set to a value greater than the basic value KDV by the amplitude W_DV. The first deceleration determination value DV_st is corrected based on the gradient of the road surface (see <figref idrefs="f0003">Fig. 4</figref>). When it is determined that the road surface has changed to an uphill road, the first deceleration determination value DV_st is corrected to a value greater than the basic value KDV by the gradient change correction value DVDGlow (see <figref idrefs="f0004">Fig. 5</figref>). When<!-- EPO <DP n="27"> --> determined that the automatic transmission 21 has performed downshifting or there is a possibility that the automatic transmission 21 has performed downshifting, the first deceleration determination value DV_st is corrected to a value that is greater than the basic value KDV by the downshift determination correction value DVflat. Accordingly, in the present embodiment, the brake ECU 60 also functions as a reference value correction unit. Step S79 corresponds to a reference value correcting step.</p><p id="p0135" num="0135">The brake ECU 60 sets the second deceleration determination value G_st (step S80). Specifically, the brake ECU 60 subtracts the gradient estimated value Gslope from a preset basic value KGst (e.g., 0.3 G) and sets the subtracted result as the second deceleration determination value G_st (see <figref idrefs="f0003">Fig. 4</figref>). The basic value KGst is preset as a determination reference for determining whether a driver's operation amount of the brake pedal 31 has decreased during a period in which assist control is not executed. Subsequently, the brake ECU 60 determines whether the vehicle body deceleration DV calculated in step S23 exceeds the braking determination value KDV_Brk (see <figref idrefs="f0002">Fig. 3</figref>) (step S81). When the vehicle body deceleration DV is less than or equal to the braking determination value KDV_Brk (step S81: NO), the brake ECU 60 sets a fourth determination timer T4 and a fifth determination timer T5 to "0 (zero)" and sets a first condition satisfaction flag FLG3 to OFF (step S82). Then, the brake ECU 60 proceeds to step S92, which will be described below.</p><p id="p0136" num="0136">When the vehicle body deceleration DV exceeds the braking determination value KDV_Brk (step S81: YES), the brake ECU 60 increments the fourth determination timer T4 by "1" (step S83). The fourth determination timer T4 corresponds to the time elapsed from when the vehicle body deceleration DV exceeds the braking determination value KDV_Brk. Subsequently, the brake ECU 60 determines whether the following two conditions are both satisfied (step S84).</p><p id="p0137" num="0137">(Third Condition) The vehicle body deceleration DV exceeds the first deceleration determination value DV_st.</p><p id="p0138" num="0138">(Fourth Condition) The fourth determination timer T4 is less than or equal to an elapsed time determination value KT1 (e.g., 10).</p><p id="p0139" num="0139">The fourth condition can also be referred to as the time elapsed from when the vehicle body deceleration DV exceeds the braking determination value KDV_Brk being less than or equal to the first reference elapsed time TDVst (see <figref idrefs="f0002">Fig. 3</figref>). That is, the first reference elapsed time TDVst is a value obtained by multiplying the elapsed time determination value KT1 by a predetermined time (e.g., 6 milliseconds).</p><p id="p0140" num="0140">When the third and fourth conditions are both satisfied (step S84: YES), the brake ECU 60 determines whether the first condition satisfaction flag FLG3 is OFF (step S85). When the first condition satisfaction flag FLG3 is ON (step S85: NO), the brake ECU 60 shifts the processing to later-described step S88. When the first condition satisfaction flag FLG3 is OFF (step S85: YES), the brake ECU 60 sets the gradient change DDV of the current vehicle body deceleration as a first gradient change DDV1 and sets the first condition satisfaction flag FLG3 to ON (step S86). Then, the brake ECU 60 proceeds to step S88, which will be described below. Therefore, in step S86 of the present embodiment, the gradient change DDV of the vehicle body deceleration acquired when the first condition satisfaction flag FLG3 is set from OFF to ON is acquired as the first gradient change DDV1. In this aspect, step S86 corresponds to a first gradient acquiring step.</p><p id="p0141" num="0141">When at least one of the third and fourth conditions is not satisfied (step S84: NO), the brake ECU 60 determines whether the first condition satisfaction flag FLG3 is ON (step S87).<!-- EPO <DP n="28"> --> When the first condition satisfaction flag FLG3 is OFF (step S87: NO), the brake ECU 60 proceeds to step S92, which will be described below. When the first condition satisfaction flag FLG3 is ON (step S87: YES), the brake ECU 60 proceeds to following step S88.</p><p id="p0142" num="0142">In step S88, the brake ECU 60 increments the fifth determination timer T5 by "1". The fifth determination timer T5 corresponds to the time elapsed from when the first condition satisfaction flag FLG3 is turned ON. Accordingly, in the present embodiment, the brake ECU 60 also functions as an elapsed time acquisition unit that acquires the fifth determination timer T5 as the time elapsed from when the first gradient change DDV1 is acquired. Subsequently, the brake ECU 60 determines whether the following two conditions are both satisfied (step S89).</p><p id="p0143" num="0143">(Fifth Condition) The G sensor value G exceeds the second deceleration determination value G_st.</p><p id="p0144" num="0144">(Sixth Condition) The fifth determination timer T5 is greater than specified waiting time KT_w (e.g., 8) and less than or equal to an initiation time determination reference value KT2 (e.g., 17).</p><p id="p0145" num="0145">The initiation time determination reference value KT2 corresponds to the second reference elapsed time TGst (see <figref idrefs="f0002">Fig. 3</figref>). That is, the second reference elapsed time TGst is a value obtained by multiplying the initiation time determination reference value KT2 by predetermined time (e.g., 6 milliseconds). In the present embodiment, the initiation time determination reference value KT2 is a specified value that is set based on characteristics of a vehicle. The specified waiting time KT_w corresponds to a depression force determination time reference value.</p><p id="p0146" num="0146">When at least one of the fifth and sixth conditions is not satisfied (step S89: NO), the brake ECU 60 proceeds to step S92, which will be described below. When the fifth and sixth conditions are both satisfied (step S89: YES), the brake ECU 60 sets the gradient change DDV of the current vehicle body deceleration as a second gradient change DDV2 and determines whether or not the second gradient change DDV2 is greater than or equal to the first gradient change DDV1 (step S90). Accordingly, in the present embodiment, step S90 corresponds to a second gradient acquisition step.</p><p id="p0147" num="0147">Here, a comparison between a case in which the depression force applied by the driver to the brake pedal 31 is normal (low) and a case in which the depression force is high will be described with reference to the timing charts shown in <figref idrefs="f0016">Figs. 18</figref> and <figref idrefs="f0017">19. Fig. 19</figref> shows a state in which ABS control is executed.</p><p id="p0148" num="0148">When the depression force is normal, as shown in the timing chart of <figref idrefs="f0016">Fig. 18</figref>, the vehicle body deceleration DV is changed by a change in the braking force applied to the wheels FR, FL, RR, and RL due to a recoil force from the brake pedal 31, increased until the second timing t42, and decreased after the second timing t42. The second timing t42 is a time when the fifth and sixth conditions are both satisfied. When the depression force is normal, the probability is high that the vehicle body deceleration DV acquired at the second timing t42 will become less than the first gradient change DDV1 acquired at the first timing t41 at which the vehicle body deceleration DV exceeds the first deceleration determination value DV_st.</p><p id="p0149" num="0149">When the depression force is maintained at a high level, as shown in the timing chart in <figref idrefs="f0017">Fig. 19</figref>, the depression force is sufficiently greater than the reaction force from the brake pedal 31. Thus, the vehicle body deceleration DV, which is changed by the change in the braking force applied to the wheels FR, FL, RR, and RL, takes a long time to decrease.<!-- EPO <DP n="29"> --> Hence, when the depression force is maintained at a high level, the probability is high that the second gradient change DDV2 acquired at the second timing t52, at which the fifth and sixth conditions are satisfied, will become greater than or equal to the gradient change DDV (first gradient change DDV1) at the first timing t51 is high. Hence, in this embodiment, when the second gradient change DDV2 is greater than or equal to the first gradient change DDV1, it is determined that a decrease in the necessity of the assist control increases the depression force applied by the driver to the brake pedal 31.</p><p id="p0150" num="0150">Returning to the flowchart shown in <figref idrefs="f0010">Fig. 12</figref>, when the second gradient change DDV2 is greater than or equal to the first gradient change DDV1 (step S90: YES), the brake ECU 60 determines that there is no need to execute the assist control or the necessity of the assist control is low and proceeds to step S92, which will be described below. Therefore, in the present embodiment, the brake ECU 60 also functions as a depression force determination unit that determines whether or not the depression force when a driver depresses the brake pedal 31 is high. Step S90 corresponds to a depression force determining step. When the second gradient change DDV2 is less than the first gradient change DDV1 (step S90: NO), the brake ECU 60 determines that it is necessary to execute the assist control, and sets the assist control condition satisfaction flag FLG4 to ON to indicate that the initiating condition of the assist control has been satisfied (step S91). Then, the brake ECU 60 completes the BA initiation determination processing routine.</p><p id="p0151" num="0151">In step S92, the brake ECU 60 sets the assist control condition satisfaction flag FLG4 to OFF and then completes the BA initiation determination processing routine.</p><p id="p0152" num="0152">Next, the BA processing routine in step S15 will be described with reference to the flowchart shown in <figref idrefs="f0011">Fig. 13</figref>.</p><p id="p0153" num="0153">In the BA processing routine, the brake ECU 60 determines whether the assist control condition satisfaction flag FLG4 is ON (step S100). When the assist control condition satisfaction flag FLG4 is OFF (step S100: NO), the brake ECU 60 completes the BA processing routine without performing the assist control. When the assist control condition satisfaction flag FLG4 is ON (step S100: YES), the brake ECU 60 determines whether an increase completion flag FLG5 is OFF (step S101). When the increase completion flag FLG5 is ON (step S101: NO), the brake ECU 60 determines that the increasing control is completed and proceeds to step S107, which will be described below.</p><p id="p0154" num="0154">When the increase completion flag FLG5 is OFF (step S101: YES), the brake ECU 60 increments a sixth determination timer T6 by "1" (step S102). Subsequently, the brake ECU 60 determines whether of the deceleration correction value DVtp, the downshift determination correction value DVflat, and the gradient change correction value DVDGlow are all "0 (zero)" (step S103). If of the correction values DVtp, DVflat, and DVDGlow are all "0 (zero)" (step S103: YES), the brake ECU 60 performs a first increasing control (step S104). The first increasing control increases the braking force applied to the wheels FR, FL, RR, and RL at a first increasing speed. The brake ECU 60 determines whether the sixth determination timer T6 is greater than or equal to first determination time TBA1th (step S105). The first determination time TBA1th corresponds to an increase requisition time during which the assist control increases the braking force.</p><p id="p0155" num="0155">When the sixth determination timer T6 is less than the first determination time TBA1th (step S105: NO), the brake ECU 60 terminates the BA processing routine to continue the first increasing control. When the sixth determination timer T6 is greater than or equal to the first determination time TBA1th (step S105: YES), the brake ECU 60 sets the increase completion<!-- EPO <DP n="30"> --> flag FLG5 to ON to indicate completion of the increasing control (step S106). That is, in the present embodiment, the sixth determination timer T6 corresponds to the time elapsed from when the increasing control is initiated. Subsequently, the brake ECU 60 performs the holding control for holding the braking force applied to the wheels FR, FL, RR, and RL (step S107) and terminates the BA processing routine.</p><p id="p0156" num="0156">When at least one of the correction values DVtp, DVflat and DVDGlow is not "0 (zero)" (step S103: YES), the first deceleration determination value DV_st has been corrected due to outer disturbance or interference. Thus, the brake ECU 60 determines that there is a possibility that the current assist control may have been executed unintentionally. Further, the brake ECU 60 performs a second increasing control in which an increasing speed of the braking force applied to the wheels FR, FL, RR, and RL is set to a second increasing speed that is slower than the first increasing speed (step S108). For example, the second increasing speed is about one half of the first increasing speed. In the second increasing control, the operating speed of the pump 49 may be decreased or the moving speed of a valve body of the linear solenoid valve 44 may be decreased as compared with the first increasing control.</p><p id="p0157" num="0157">Then, the brake ECU 60 determines whether the sixth determination timer T6 is greater than or equal to a second determination time TBA2th (step S109). The second determination time TBA2th is about two times the first determination time TBA1th, for example. The second determination time TBA2th corresponds to the increase requisition time when the second increasing control is executed. When the sixth determination timer T6 is less than the second determination time TBA2th (step S109: NO), the brake ECU 60 completes the BA processing routine to continue the second increasing control. When the sixth determination timer T6 is greater than or equal to the second determination time TBA2th (step S109: YES), the brake ECU 60 proceeds to step S106, which is described above. That is, the brake ECU 60 terminates the second increasing control and initiates the holding control. Accordingly, in the present embodiment, the brake ECU 60 also functions as an assist control unit that performs assist control. Steps 101 to 107 configure an assisting step.</p><p id="p0158" num="0158">Next, a BA termination determination processing routine in step S16 will be described with reference to the flowchart shown in <figref idrefs="f0012">Fig. 14</figref>.</p><p id="p0159" num="0159">In the BA termination determination processing routine, the brake ECU 60 determines whether or not the assist control condition satisfaction flag FLG4 is ON (step S120). When the assist control condition satisfaction flag FLG4 is ON (step S120: YES), the assist control is being executed. Thus, the brake ECU 60 increments, by "1", a seventh determination timer T7 corresponding to the time elapsed from when the execution of the assist control is initiated (step S121). Subsequently, the brake ECU 60 determines whether the G sensor value G calculated in step S27 is less than the second deceleration determination value G_st, which is set in step S80 (step S122). When the G sensor value G is less than the second deceleration determination value G_st (step S122: YES), the brake ECU 60 determines that the termination condition of the assist control is satisfied. The brake ECU 60 sets the assist control condition satisfaction flag FLG4 and the increase completion flag FLG5 to OFF (step S123). Further, the brake ECU 60 performs decreasing control for decreasing the braking force applied to the wheels FR, FL, RR, and RL (step S124). Then, the brake ECU 60 terminates the BA termination determination processing routine.</p><p id="p0160" num="0160">When the G sensor value G is greater than or equal to the second deceleration determination value G_st (step S122: NO), the brake ECU 60 determines whether or not the<!-- EPO <DP n="31"> --> increase completion flag FLG5 is ON (step S125). When the increase completion flag FLG5 is OFF (step S125: NO), the increasing control is being executed. Thus, the brake ECU 60 determines whether the following two conditions are satisfied (step S126).</p><p id="p0161" num="0161">(Seventh Condition) The seventh determination timer T7 is less than or equal to a termination determination time reference value T7th.</p><p id="p0162" num="0162">(Eighth Condition) An ABS flag FLG6 is ON.</p><p id="p0163" num="0163">The termination determination time reference value T7th is set to a shorter time than the increase requisition time, which is the execution time of the increasing control. More specifically, the termination determination time reference value T7th is set to one half or less of the increase requisition time, which is the execution time of the increasing control. When the first increasing control is executed, the termination determination time reference value T7th is set to a value (e.g., 34) corresponding to a time (e.g., 204 milliseconds) that is about one half the first increase requisition time (e.g., 500 milliseconds). When the second increasing control is executed, the termination determination time reference value T7th is set to a value (e.g., 68) corresponding to a time (e.g., 408 milliseconds) that is about one half the second increase requisition time (e.g., 1,000 milliseconds).</p><p id="p0164" num="0164">The ABS flag FLG6 is set to ON when the ABS control is being executed or the initiating condition of the ABS is satisfied. That is, when the ABS control is being executed or the initiating condition of the ABS control is satisfied, it is determined in step S126 whether the seventh determination timer T7 is less than or equal to the termination determination time reference value T7th.</p><p id="p0165" num="0165">When at least one of the seventh and eighth conditions is not satisfied (step S126: NO), the brake ECU 60 determines that the termination condition of the assist control is not satisfied and completes the BA termination determination processing routine. When the seventh and eighth conditions are both satisfied (step S126: YES), the brake ECU 60 determines that the ABS control has been initiated immediately after initiation of the assist control. In this case, the brake ECU 60 determines that a sufficiently large braking force can be applied to the wheels FR, FL, RR, and RL just with the driver's depression operation amount of the brake pedal 31. Hence, the brake ECU 60 determines that the termination condition of the assist control is satisfied and proceeds to step S123. Accordingly, in the present embodiment, the brake ECU 60 also functions as a termination determination unit that determines, during execution of the assist control, whether the termination condition of the assist control is satisfied based on at least one of the vehicle body deceleration (first estimated vehicle body deceleration) DV and the G sensor value (second estimated vehicle body deceleration) G. Step S126 corresponds to a termination determining step.</p><p id="p0166" num="0166">When the increase completion flag FLG5 is ON (step S125: YES), the holding control is being executed. Thus, the brake ECU 60 acquires a braking force amount ("assisting braking force amount", hereinafter) which is increased by the execution of the increasing control and applied to the wheels FR, FL, RR, and RL. Here, the brake ECU 60 estimates the assisting braking force amount based on the operation time and operation speed of the linear solenoid valve 44 and the pump 49. The brake ECU 60 adds an increase component value KGba, which corresponds to the assisting braking force amount, to the second deceleration determination value (braking force reference value) G_st, which is set in step S80, and sets the added result as a termination determination value (determination value) KGend (step S127). Further, the brake ECU 60 determines whether the following two conditions are satisfied (step S128).<!-- EPO <DP n="32"> --></p><p id="p0167" num="0167">(Ninth Condition) The G sensor value G is less than a termination determination value KGend.</p><p id="p0168" num="0168">(Tenth Condition) The ABS flag FLG6 is OFF.</p><p id="p0169" num="0169">When at least one of the ninth and tenth conditions is not satisfied (step S128: NO), the brake ECU 60 determines that the termination condition of the assist control is not satisfied and terminates the BA termination determination processing routine. When the ninth and tenth conditions are both satisfied (step S128: YES), the brake ECU 60 determines that the termination condition of the assist control is satisfied and proceeds to step S123. Accordingly, in the present embodiment, steps S127 and S128 configure a termination determination step.</p><p id="p0170" num="0170">When the assist control condition satisfaction flag FLG4 is OFF (step S120: NO), the brake ECU 60 determines that the assist control is not executed or the assist control has been terminated. The brake ECU 60 resets the seventh determination timer T7 to "0 (zero)" (step S129). Then, the brake ECU 60 terminates the BA termination determination processing routine.</p><p id="p0171" num="0171">Accordingly, the present embodiment has the advantages described below. (1) Detection signals from the wheel speed sensors SE2 to SE5 are more easily affected by interference (i.e., outer disturbance) between the drive force transmitted to the wheels FR, FL, RR, and RL and the braking force than the detection signal from the vehicle body acceleration sensor SE6. The detection signals from the wheel speed sensors SE2 to SE5 are easily affected by the reaction force (i.e., outer disturbance) received by the wheels FR, FL, RR, and RL from the road surface along which the vehicle is traveling. If the first deceleration determination value DV_st is not corrected, a vehicle body deceleration DV that includes a vibration component based on outer disturbance easily exceeds the first deceleration determination value DV_st as compared with a vehicle body deceleration DV that does not include a vibration component. That is, there is a high probability that assist control will be initiated unintentionally.</p><p id="p0172" num="0172">Hence, in the present embodiment, when it is determined that a vibration component based on outer disturbance is included in the vehicle body deceleration DV, the first deceleration determination value DV_st is set to a value greater than that when it is determined that a vibration component based on outer disturbance is not included in the vehicle body deceleration DV. Thus, even if a vibration component based on outer disturbance is included in the vehicle body deceleration DV, the vehicle body deceleration DV does not easily exceed the first deceleration determination value DV_st. Accordingly, when an emergency braking operation is not being performed, the unintended initiation of the assist control can be prevented.
<ul><li>(2) When the acquired bad road index Nrw is greater than or equal to "1", it is determined that the road surface along which the vehicle is traveling is a bad road. In this case, the first deceleration determination value DV_st is set to a greater value than that when it is determined that the road surface is not a bad road. Thus, when the vehicle travels along a bad road, unintended initiation of the assist control can be prevented.</li><li>(3) In the present embodiment, a bad road determination correction value DVbad, which is used to correct the first deceleration determination value DV_st when the road surface is a bad road, is set to a larger value as the bad road index Nrw increases. This increases the determination accuracy of whether the current depression operation of the brake pedal 31 performed by a driver is an emergency braking operation.</li><li>(4) Even if the bad road index Nrw is "0 (zero)", a vibration component based on a<!-- EPO <DP n="33"> --> reaction force received by the wheels FR, FL, RR, and RL from a road surface may be included in the vehicle body deceleration DV. Hence, in the present embodiment, when the bad road index Nrw is "0 (zero)", the first deceleration determination value DV_st is set to a greater value than the basic value KDV by the amplitude W_DV of the acquired vehicle body deceleration. Thus, even if a road surface along which the vehicle is traveling is not that uneven and not determined as being a bad road, unintended initiation of the assist control can be prevented.</li><li>(5) Detection signals from the wheel speed sensors SE2 to SE5 include fine cyclical changes (also referred to as "fluctuation") regardless of outer disturbance. Thus, the vehicle body deceleration DV calculated by using detection signals of the wheel speed sensors SE2 to SE5 also includes fine cyclical changes. Such fine cyclical changes are irrelevant with the influence of outer disturbance. Thus, there is no need to correct the first deceleration determination value DV_st based on fine cyclical changes. Hence, in the present embodiment, the amplitude reference value KW is set as a determination value for determining whether there is an influence of outer disturbance. When the amplitude W_DV of the acquired vehicle body deceleration is less than the amplitude reference value KW, the correction of the first deceleration determination value DV_st based on the amplitude W_DV is not performed. Therefore, when it is determined that there is almost no unevenness in the road surface, the assist control can be initiated at an appropriate timing.</li><li>(6) In the present embodiment, when the G sensor value G is greater than the sum of the vehicle body deceleration DV and the deceleration specified value DVth1 or when the vehicle body deceleration DV once becomes a negative value, it is determined that the vehicle moved over a bump. The first deceleration determination value DV_st is set to a value greater than the basic value KDV by the bump determination correction value DVstep (= KDVbad). Therefore, when the vehicle moves over a bump, initiation of unintended assist control can be restricted.</li><li>(7) Moreover, the bump determination correction value DVstep when determined that the vehicle moved over a bump is the same as the bad road determination correction value DVbad when the bad road index Nrw is determined as being "3". Hence, when the bad road correction flag FLG1 and the bump correction flag FLG2 are both set to ON, the first deceleration determination value DV_st is corrected based on the bump determination correction value DVstep. That is, the first deceleration determination value DV_st is corrected to a greater value. Accordingly, unintended initiation of the assist control can be prevented.</li><li>(8) When a signal indicating that the automatic transmission 21 is about be downshifted is received from the AT ECU 23, the first deceleration determination value DV_st is corrected, during the period (gear shifting specified time) corresponding to the gear shifting completion determination value KTd, to a value that is greater than that when a signal indicating that the automatic transmission 21 is about be downshifted is not received. This prevents the downshifting of the automatic transmission 21 from causing unintended initiation of the assist control.</li><li>(9) A vehicle has a characteristic in which when the driver depresses the brake pedal 31 when the vehicle is traveling, the vehicle starts to decelerate and may thereby cause downshifting of the automatic transmission 21. Thus, in the present embodiment, when it is not possible to communicate with the AT ECU 23, it is determined whether the driver's depression operation amount of the brake pedal 31 is large using the G sensor value G. If<!-- EPO <DP n="34"> --> the third determination timer T3 corresponding to the duration time during which the G sensor value G remains to be the downshift determination value KGflat exceeds the first time T3_1, it is determined that the automatic transmission 21 may be downshifted. As a result, the first deceleration determination value DV_st is corrected to a value greater than that when it is not determined that there is a possibility that the downshifting operation is performed. This prevents the downshifting of the automatic transmission 21 from causing unintended initiation of the assist control.</li><li>(10) Immediately after the third determination timer T3 exceeds the first time T3_1, the probability of the automatic transmission 21 being actually downshifted is low, and assist control may actually become necessary. Here, if the downshift determination value KGflat is set to a maximum correction value KDVflat1 when the third determination timer T3 exceeds the first time T3_1, there is a possibility that the actually necessary assist control will not be executed. Hence, in the present embodiment, when the value of the third determination timer T3 is large, the first deceleration determination value DV_st is set to a value that is greater than that when the value of the third determination timer T3 is small. Thus, immediately after the third determination timer T3 exceeds the first time T3_1, the assist control can be properly initiated.</li><li>(11) In the present embodiment, the brake ECU 60 determines whether there is a probability of the automatic transmission 21 performing downshifting even when communication becomes impossible between the AT ECU 23 and the brake ECU 60. If it is determined that the automatic transmission 21 may undergo downshifting, the first deceleration determination value DV_st is corrected. Hence, even if a communication trouble occurs between the AT ECU 23 and the brake ECU 60, downshifting of the automatic transmission 21 is prevented from causing unintended initiation of the assist control.</li><li>(12) The present embodiment acquires a gradient estimated value Gslope of a road surface along which the vehicle is traveling. The first deceleration determination value DV_st is corrected based on the gradient estimated value Gslope. This suppresses variations in the initiation timing of the assist control based on the gradient of the road surface.</li><li>(13) When the gradient of a road surface is a positive value, this indicates that the road surface is a sloped surface directed uphill. When the gradient of a road surface is a negative value, this indicates that the road surface is a sloped surface directed downhill. When the road is a sloped road directed uphill, gravity acting on the vehicle acts as a braking force applied to the vehicle. When the vehicle travels along a slope, a deceleration difference corresponding to the gradient of the road surface exists between vehicle body deceleration DV and the G sensor value G. Hence, in the present embodiment, when it is determined that the road is a sloped road directed uphill, the first deceleration determination value DV_st is set to a value that is greater than the basic value KDV, and the second deceleration determination value G_st is set to a value that is less than the basic value KGst. When it is determined that the road is a sloped road directed downhill, the first deceleration determination value DV_st is set to a value that is less than the basic value KDV, and the second deceleration determination value G_st is set to a value that is greater than the basic value KGst. This suppresses variations in the initiation timing of assist control caused by the gradient of the road surface.</li><li>(14) When a gradient of a road surface is changed and indicates an uphill slope, the braking force resulting from the change in the gradient of the road surface is applied to the front wheels FR and FL, and the wheel speeds VW of the front wheels FR and FL suddenly<!-- EPO <DP n="35"> --> become slow. In contrast, the vehicle body speed VS of the vehicle is not decelerated as much as the wheel speeds VW of the front wheels FR and FL. Thus, the gradient change DDV of the vehicle body deceleration DV calculated by using detection signals of the wheel speed sensors SE2 to SE5 is deviated from the gradient change DG of the G sensor value G calculated by using a detection signal of the vehicle body acceleration sensor SE6. Hence, in the present embodiment, when the gradient change DG of the G sensor value is less than the gradient change reference value KDGlow, it is determined that the gradient of the road surface has changed and indicates an uphill slope. As a result, the gradient change correction value DVDGlow is set to a value that is greater than "0 (zero)". That is, the first deceleration determination value DV_st is corrected to a value greater than that when the gradient change DG of the G sensor value is greater than or equal to the gradient change reference value KDGlow, that is, greater than that when it is determined that the gradient of the road surface is not changed so as to indicate an uphill slope. This prevents the assist control from being initiated unintentionally when the gradient of the road surface changes thereby indicating an uphill slope.</li><li>(15) The gradient change reference value KDGlow is set to a value based on the difference between the gradient change DDV of vehicle body deceleration and the gradient change DG of the G sensor value. Hence, it is possible to increase the accuracy for determining whether or not the gradient of a road surface has changed thereby indicating an uphill slope.</li><li>(16) The assist control may be performed unintentionally when the first deceleration determination value DV_st is corrected based on at least one of the deceleration correction value DVtp, downshift determination correction value DVflat, and gradient change correction value DVDGlow. Hence, in the present embodiment, in the assist control performed when the first deceleration determination value DV_st is corrected based on at least one of the deceleration correction value DVtp, the downshift determination correction value DVflat, and the gradient change correction value DVDGlow, the increasing speed of the braking force applied to the wheels FR, FL, RR, and RL becomes slower than that for an assist control performed when the deceleration correction value DVtp, the downshift determination correction value DVflat, and the gradient change correction value DVDGlow are "0 (zero)". Thus, even if assist control is executed when it is determined that there is no need to perform the assist control, the driver of the vehicle is less likely to feel uncomfortable due to the execution of the assist control.</li><li>(17) During execution of the assist control, detection signals of the wheel speed sensors SE2 to SE5 and the vehicle body acceleration sensor SE6 are used to determine whether or not the termination condition of the assist control is satisfied. When the termination condition is satisfied, the assist control is terminated. Accordingly, even if the vehicle does not include a pressure sensor that detects the MC pressure in the master cylinder 321, the assist control can be completed at a proper timing.</li><li>(18) In the present embodiment, the termination determination value KGend is obtained by adding the increase component value KGba of the braking force based on execution of increasing control to the second deceleration determination value G_st, which is used for the termination determination of the assist control. During execution of the holding control, when the G sensor value G that once exceeded the second deceleration determination value G_st becomes less than the termination determination value KGend, the driver's depression operation amount of the brake pedal 31 is determined as being small, and<!-- EPO <DP n="36"> --> the assist control is terminated. Accordingly, the assist control may be terminated when determined that the driver intends to decrease the deceleration of the vehicle.</li><li>(19) In the present embodiment, when the ABS control is initiated during execution of the holding control for the assist control, the holding control is continued. That is, the assist control is not terminated. Hence, the assist control is not terminated in an inadvertent manner against the driver's intentions.</li><li>(20) In the present embodiment, if the ABS control is initiated when the seventh determination timer T7 is less than or equal to the termination determination time reference value T7th during execution of the increasing control, it is determined that a sufficiently large braking force is applied to the wheels FR, FL, RR, and RL by the driver's depression operation of the brake pedal 31. Hence, the assist control is terminated. Accordingly, the assist control may be terminated at an appropriate timing.</li><li>(21) In the present embodiment, the gradient change DDV of the vehicle body deceleration when vehicle body deceleration DV becomes greater than or equal to the first deceleration determination value DV_st is acquired as a first gradient change DDV1. Then, when the G sensor value G becomes greater than or equal to the second deceleration reference value G_st, the gradient change DDV of the vehicle body deceleration that is calculated afterward is acquired as the second gradient change DDV2. When the second gradient change DDV2 is greater than or equal to the first gradient change DDV1, it is determined that the depression force produced when the driver depresses the brake pedal 31 is high. Therefore, even if the vehicle does not have a pressure sensor that detecting an MC pressure in the master cylinder 321, it can be determined whether the depression force produced when the driver depresses the brake pedal 31 is high.</li><li>(22) In some vehicles, the change in the G sensor value G based on the driver's depression operation of the brake pedal 31 is initiated at substantially the same time as when the vehicle body deceleration DV is started. Hence, in the present embodiment, a second gradient change DDV2 is acquired after the fifth determination timer T5, which is renewed after the first gradient change DDV1 is acquired, exceeds the specified waiting time KT_w. When the second gradient change DDV2 is greater than or equal to the first gradient change DDV1, it is determined that the depression force produced when the driver depresses the brake pedal 31 is high. Hence, it is possible to increase the accuracy for determining whether or not the depression force produced when the driver depresses the brake pedal 31 is high.</li><li>(23) In the present embodiment, even though the initiating condition of assist control is satisfied, if determined that the depression force produced when the driver depresses the brake pedal 31 is high, it is determined that assist control is unnecessary, and the assist control is not started. Accordingly, a case in which the assist control is executed unintentionally can be avoided.</li></ul></p><heading id="h0011">Second Embodiment</heading><p id="p0173" num="0173">A second embodiment of the present invention will now be described with reference to <figref idrefs="f0018">Figs. 20 and 21</figref>. The second embodiment differs from the first embodiment in that the initiation time determination reference value KT2 is changed by the load of the vehicle. Accordingly, the difference will mainly be described hereafter, and like or same reference numerals are given to those components that are the same as the corresponding components of the first embodiment. Such components will not be described.</p><p id="p0174" num="0174">The load of a vehicle changes in accordance with the number of occupants in the vehicle and the cargo carried by the vehicle. When the load of the vehicle changes, the<!-- EPO <DP n="37"> --> characteristics of the vehicle also change. Specifically, when the driver depresses the brake pedal 31, the G sensor value G, which is calculated by using a detection signal of the vehicle body acceleration sensor SE6, changes following, in a slightly delayed manner, the vehicle body deceleration DV, which is calculated by using a detection signals of the wheel speed sensors SE2 to SE5. However, the timing at which the G sensor value G starts to change due to the driver's depression operation of the brake pedal 31 is delayed when the load is heavy from that when the load is light.</p><p id="p0175" num="0175">Hence, when the initiation time determination reference value KT2 (see step S89 in <figref idrefs="f0010">Fig. 12</figref>), which is used to determine the initiation timing of the assist control, is constant, the G sensor value G exceeds the second deceleration determination value G_st after the fifth determination timer T5 exceeds the initiation time determination reference value KT2. In this case, the initiating condition of the assist control is not satisfied. Thus, the assist control is not initiated.</p><p id="p0176" num="0176">The braking control processing routine of the present embodiment includes an initiation time determination reference value setting processing that sets the initiation time determination reference value KT2 to a value corresponding to the load of the vehicle. The initiation time determination reference value setting processing routine will now be described with reference to the flowchart shown in <figref idrefs="f0018">Fig. 20</figref> and the map shown in <figref idrefs="f0018">Fig. 21</figref>.</p><p id="p0177" num="0177">In the initiation time determination reference value setting processing routine, the brake ECU 60 determines whether the brake switch SW1 is OFF (step S140). When the brake switch SW1 is ON (step S140: NO), the driver is depressing a brake pedal 31. Thus, the brake ECU 60 terminates the initiation time determination reference value setting processing routine.</p><p id="p0178" num="0178">When the brake switch SW1 is OFF (step S140: YES), the driver is not depressing the brake pedal 31. Thus, the brake ECU 60 acquires the drive force ET transmitted to the front wheels FR and FL, which are the drive wheels (step S141). For example, the brake ECU 60 acquires the drive force generated by the engine 12 from the engine ECU 13 and the gear position of the automatic transmission 21 from the AT ECU 23. Then, the brake ECU 60 calculates the drive force ET transmitted to the front wheels FR and FL based on the acquired drive force generated in the engine 12 and the gear position of the automatic transmission 21. Accordingly, in the present embodiment, the brake ECU 60 also functions as a drive force acquisition unit, which acquires the drive force ET applied to the front wheels FR and FL, based on the driving operation of the engine 12.</p><p id="p0179" num="0179">Subsequently, the brake ECU 60 estimates a load WW of the vehicle (step S142). When the load WW of the vehicle is constant, the acceleration of the vehicle corresponds to the drive force ET transmitted to the front wheels FR and FL. In other words, when the drive force ET transmitted to the front wheels FR and FL is constant, the acceleration of the vehicle, namely, the G sensor value G decreases as the load WW of the vehicle becomes heavier.</p><p id="p0180" num="0180">Therefore, the brake ECU 60 acquires the reference value Gbase for the G sensor value corresponding to the drive force ET acquired in step S141. The reference value Gbase is a theoretical value of the G sensor value under the assumption that there is no occupant and cargo in the vehicle. The brake ECU 60 acquires, as an acceleration difference, the difference (= |G-Gbase|) between the G sensor value G calculated in step S28 and the reference value Gbase. Subsequently, the brake ECU 60 acquires the load WW of the vehicle corresponding to the acquired acceleration difference using a third map shown in <figref idrefs="f0018">Fig. 21</figref>.<!-- EPO <DP n="38"> --></p><p id="p0181" num="0181">The third map is used to acquire the load WW of the vehicle corresponding to the acceleration difference. As shown in <figref idrefs="f0018">Fig. 21</figref>, the vertical axis of the third map shows the acceleration difference (= |G-Gbase|), and the horizontal axis shows the load WW of the vehicle. When the acceleration difference is less than or equal to a first difference ΔG1, the load WW of the vehicle is determined as being "0 (zero)". If the acceleration difference exceeds the first difference ΔG1, an increase in the acceleration difference indicates a larger load WW of the vehicle. Accordingly, in the present embodiment, the brake ECU 60 also functions as a load acquisition unit. Step S142 corresponds to a load acquiring step.</p><p id="p0182" num="0182">Returning to the flowchart shown in <figref idrefs="f0018">Fig. 20</figref>, the brake ECU 60 sets a load correction value HW based on the load WW of the vehicle, which is estimated in step S142 (step S143). As the load WW of the vehicle becomes heavier, the delay when the G sensor value G starts to change becomes greater. Thus, in step S143, if the load WW of the vehicle is heavy, the load correction value HW is set to a larger value than when the load WW is light using a predetermined arithmetic expression. Here, if the load WW of the vehicle is "0 (zero)", the load correction value HW is set to "0 (zero)".</p><p id="p0183" num="0183">Subsequently, the brake ECU 60 adds the load correction value HW, which is set in step S143, to a preset base value KTbase, and the addition result is set as a initiation time determination reference value KT2 (step S144). Accordingly, in the present embodiment, the brake ECU 60 also functions as an initiation time setting unit. When the load WW of the vehicle is heavy, the initiation time setting unit sets the initiation time determination reference value KT2 to a larger value than when the load WW is light. Step S144 corresponds to a start time setting step. Thereafter, the brake ECU 60 completes the initiation time determination reference value setting processing routine.</p><p id="p0184" num="0184">Accordingly, in the present embodiment, the advantages described below can be obtained in addition to advantages (1) to (23) of the first embodiment.
<ul><li>(24) The initiation time determination reference value KT2 is set to a value corresponding to the load WW of the vehicle. This improves the determination accuracy of step S89. Accordingly, when assist control is necessary, the assist control can be properly initiated.</li><li>(25) When the load WW of the vehicle is estimated, the G sensor value G and the drive force ET transmitted to the front wheels FR and FL, which are drive wheels, are used when a braking operation is not performed. Thus, there is no need to separately provide a sensor that detects the load WW of the vehicle, and the weight of the vehicle can be estimated.</li></ul></p><heading id="h0012">Third Embodiment</heading><p id="p0185" num="0185">A third embodiment of the present invention will now be described with reference to <figref idrefs="f0019 f0020 f0021">Figs 22 to 24</figref>. The third embodiment differs from the first embodiment in that the transmission is a manual transmission, and the method for setting the first deceleration determination value DV_st when the transmission has been downshifted. Accordingly, the difference will mainly be described hereafter, and like or same reference numerals are given to those components that are the same as the corresponding components of the first embodiment. Such components will not be described.</p><p id="p0186" num="0186">As shown in <figref idrefs="f0019">Fig. 22</figref>, a drive force transmission device 20A of the present embodiment includes a manual transmission 21A, which is one example of a transmission. For example, the transmission 21A has five forward gears and one reverse gear. The gear position of the transmission 21A corresponds to manipulation of a shift device 25 by the driver (for example, the fourth gear position). The gear position of the transmission 21A is monitored by the<!-- EPO <DP n="39"> --> engine ECU 13, which functions as a monitoring control device. Specifically, the engine ECU 13 is electrically connected to a shift position sensor SE7 for detecting the shift position of the shift device 25. Based on a detection signal output from the shift position sensor SE7, the engine ECU 13 detects the gear position of the transmission 21A.</p><p id="p0187" num="0187">Further, the engine ECU 13 is electrically connected to a rotational speed sensor SE8 for detecting the rotational speed of the crankshaft, which is the output shaft of the engine 12 (hereinafter, referred to as an engine speed). The engine ECU 13 calculates the engine speed based on a detection signal output by the rotational speed sensor SE8.</p><p id="p0188" num="0188">Parts of the BA initiation determination processing routine that are different from the BA initiation determination processing routine of the first embodiment will be described with reference to the flowchart of <figref idrefs="f0020">Fig. 23</figref>.</p><p id="p0189" num="0189">In the BA initiation determination processing routing, after executing one of step S52 and step S56, which are related to a bump, the brake ECU 60 proceeds to step S200. In step S200, the brake ECU 60 determines whether it is possible to communicate with the engine ECU 13, which serves as another control unit that controls the manual transmission 21A. When it is not possible to communicate with the engine ECU 13 (step S200: NO), the brake ECU 60 proceeds to step S66, which is described above. On the other hand, when the communication is possible (step S200: YES), the brake ECU 60 increments the thirty-first determination timer T31 by "1" (step S201).</p><p id="p0190" num="0190">The brake ECU 60 determines whether or not the thirty-first determination timer T31 has exceeded a preset thirty-first time determination value T31th (e.g., 8) (step S202). The braking control processing routine is executed in predetermined time cycles (e.g., 6 milliseconds). Hence, step S202 is performed to determine whether the time corresponding to the thirty-first determination timer T31 exceeds a measurement time T48 (e.g., 48 milliseconds), which is obtained by multiplying the thirty-first time determination value T31th by a predetermined time (see <figref idrefs="f0021">Fig. 24</figref>).</p><p id="p0191" num="0191">If the transmission 21A is downshifted, the magnitude of the torque transmitted to the axle of the front wheels FR, FL is suddenly decreased. That is, the intensity of the engine braking is suddenly increased. Thus, for a certain period of time after the downshift, the speeds of the front wheels FR, FL are unstable, and then the wheel speeds are stabilized. Therefore, the measurement time T48 is set to be slightly longer or equal to the time during which the wheel speeds of the front wheels FR, FL, which are drive wheels, are made unstable by the downshift of the transmission 21A.</p><p id="p0192" num="0192">When the thirty-first determination timer T31 is less than or equal to the thirty-first time determination value T31th (step S202: NO), the brake ECU 60 proceeds to step S70, which is described above. On the other hand, when the thirty-first determination timer T31 exceeds the thirty-first time determination value T31th (step S202: YES), the brake ECU 60 determines whether a downshift signal indicating that the downshift has been performed has been received from the engine ECU 13 (step S203). When the downshift signal has not yet been received (step S203: NO), the brake ECU 60 proceeds to step S210, which is will described below. In the present embodiment, the brake ECU 60 also functions as an outer disturbance determination unit that determines, upon reception of a signal from the engine ECU 13 indicating that the manual transmission 21A has been downshifted, that the transmission 21 has been downshifted.</p><p id="p0193" num="0193">In contrast, when receiving a downshift signal (step S203: YES), the brake ECU 60 determines whether or not the current accelerator operation amount AC(n) is less than or<!-- EPO <DP n="40"> --> equal to the previous accelerator operation amount (n-1) (step 204). The previous accelerator operation amount (n-1) is the accelerator operation amount at a point in time that precedes the present point in time by the measurement time T48. If the current accelerator operation amount AC(n) is greater than the previous accelerator operation amount (n-1) (step S204: NO), the operation amount of the accelerator pedal 11 by the driver was increased when the transmission 21A was downshifted. Thus, the brake ECU 60 proceeds to step S213.</p><p id="p0194" num="0194">In contrast, if the current accelerator operation amount AC(n) is less than or equal to the previous accelerator operation amount (n-1) (step S204: YES), the brake ECU 60 determines whether or not the current engine speed RPM(n) is greater than the previous engine speed RPM(n-1) (step S205). The previous engine speed RPM(n-1) is the engine speed at point in time that precedes the present point in time by the measurement time T48. If the current engine speed RPM(n) is less than or equal to the previous engine speed RPM(n-1) (step S205: NO), the brake ECU 60 proceeds to step S213, which will be described below.</p><p id="p0195" num="0195">In contrast, if the current engine speed RPM(n) is greater than the previous engine speed RPM(n-1) (step S205: YES), the brake ECU 60 sets, to the maximum correction value KDVflat1 (e.g., 0.5 G), a downshift determination correction value DVflat that is used to correct the first deceleration determination value DV_st (step S206). Therefore, in the present embodiment, in a case where it is determined that the transmission 21A has been downshifted, if the engine speed RPM is increased without an increase in the accelerator operation amount AC, the first deceleration determination value DV_st is set to a greater value than that in case where it is determined that no downshift has been performed. Subsequently, the brake ECU 60 sets a downshift flag FLGd to ON (step S207) and shifts the processing to step S215, which will be described below. The downshift flag FLGd is a flag that is set to ON when the transmission 21A is downshifted.</p><p id="p0196" num="0196">In step S210, the brake ECU 60 determines whether or not the downshift flag FLGd is ON. If the downshift flag FLGd is OFF (step S210: NO), the brake ECU 60 proceeds to step S215, which will be described below. When the downshift flag FLGd is ON (step S210: YES), the brake ECU 60 increments a downshift timer Td by "1" (step S211). The brake ECU 60 also determines whether the downshift timer Td has exceeded a preset gear shifting completion determination value KTd (e.g., 4) (step S212). That is, in step S211, it is determined whether the time elapsed from when the downshift flag FLGd is turned ON exceeds a time obtained by multiplying the measurement time T48 by the gear shifting completion determination value KTd (for example, 192 milliseconds).</p><p id="p0197" num="0197">When the downshift timer Td is less than or equal to the gear shifting completion determination value KTd (step S212: NO), the brake ECU 60 proceeds to step S215, which will be described below. In contrast, when the downshift timer Td exceeds the gear shifting completion determination value KTd (step S212: YES), the brake ECU 60 proceeds to step S213, which will be described below.</p><p id="p0198" num="0198">In step S213, the brake ECU 60 resets the downshift timer Td to "0 (zero)" and also resets the downshift determination correction value DVflat to "0 (zero)". Subsequently, the brake ECU 60 sets the bump correction flag FLG2 to OFF (step S214) and proceeds to following step S215.</p><p id="p0199" num="0199">In step S215, the brake ECU 60 resets the thirty-first determination timer T31 to "0 (zero)". Then, the brake ECU 60 substitutes the current accelerator operation amount (n) for the previous accelerator operation amount (n-1), and substitutes the current engine speed RPM(n) for the previous engine speed RPM(n-1) (step S216). Thereafter, the brake ECU 60<!-- EPO <DP n="41"> --> proceeds to step S70, which is described above.</p><p id="p0200" num="0200">Next, operation in a case where the transmission 21A is downshifted during braking operation by the driver will be described with reference to the timing chart of <figref idrefs="f0021">Fig. 24</figref>.</p><p id="p0201" num="0201">As indicated by a broken line in <figref idrefs="f0021">Fig. 24</figref>, when the driver operates the accelerator together with operation of the brake at a first timing t61, the engine speed RPM is increased in accordance with the increase in the accelerator operation amount AC. The accelerator operation by the driver continues until a third timing t63.</p><p id="p0202" num="0202">Between a second timing t62 and the third timing t63, the gear position of the transmission 21A is changed from the fourth gear position to the third gear position by operation of the shift device 25 by the driver. At this time, however, the driver of the vehicle operates the accelerator together while operating the brake to suppress vibration that is applied to the vehicle due to downshifting of the transmission 21A. Therefore, the outer disturbance due to the downshift of the transmission 21A is scarcely superimposed on the vehicle deceleration DV.</p><p id="p0203" num="0203">In the present embodiment, if the accelerator operation is being performed together with brake operation when the transmission 21A is downshifted, the downshift determination correction value DVflat is set to "0 (zero)". Thus, the first deceleration determination value DV_st is not corrected to a great value due to the downshift of the transmission 21A. As a result, if the driver performs emergency braking operation at this point or immediately after this point, the assist control is initiated at an appropriate timing.</p><p id="p0204" num="0204">In contrast, if the engine speed RPM is increased due to downshift of the transmission 21A as shown by a solid line in <figref idrefs="f0021">Fig. 24</figref>, the downshift determination correction value DVflat is set to a value greater than "0 (zero)" if the accelerator operation amount AC is not increased. Thus, the first deceleration determination value DV_st is corrected to a great value due to downshift of the transmission 21A. As a result, the assist control is less likely to be initiated unintentionally.</p><p id="p0205" num="0205">Accordingly, in the present embodiment, the advantages described below are obtained in addition to advantages (1) to (7), (10), and (23) of the first and second embodiments.
<ul><li>(26) When an increase in the accelerator operation amount is detected at downshift, the first deceleration determination value DV_st is not corrected. Therefore, when the accelerator operation is performed together with the brake operation during downshifting, the assist control can be performed at an appropriate timing.</li></ul></p><heading id="h0013">Fourth Embodiment</heading><p id="p0206" num="0206">A fourth embodiment of the present invention will now be described with reference to <figref idrefs="f0021">Figs. 25</figref> and <figref idrefs="f0022">26</figref>. The fourth embodiment differs from the first embodiment in the method for setting the first deceleration determination value DV_st when the transmission is downshifted. Accordingly, the difference will mainly be described hereafter, and like or same reference numerals are given to those components that are the same as the corresponding components of the first embodiment. Such components will not be described.</p><p id="p0207" num="0207">When the automatic transmission 21 or the manual transmission 21A is downshifted, the engine speed RPM is increased even though the accelerator operation amount AC is not increased. Thus, in the present embodiment, if an increase in the engine speed RPM is detected while the driver is operating the brake without an increase in the accelerator operation amount AC, it is determined that the transmission has been downshifted.</p><p id="p0208" num="0208">The brake ECU 60 of the present embodiment sets the starting timing and terminating timing of the assist control taking the above-described matters into consideration. Next, a<!-- EPO <DP n="42"> --> map required for the brake ECU 60 to set the timing for initiating the assist control will be described with reference to <figref idrefs="f0021">Fig. 25</figref>.</p><p id="p0209" num="0209">A fourth map shown in <figref idrefs="f0021">Fig. 25</figref> is used for setting the downshift determination correction value DVflat in accordance with an increase in the engine speed RPM. As shown in <figref idrefs="f0021">Fig. 25</figref>, the downshift determination correction value DVflat is set to "0 (zero)" when a rotational speed difference RPMsub, which corresponds to an increase amount of the engine speed RPM, is less than a first rotational speed difference RPMsub1. When the rotational speed difference RPMsub is greater than or equal to a second rotational speed difference RPMsub2, which is greater than the first rotational speed difference RPMsub, the downshift determination correction value DVflat is set to a maximum correction value KDVflat1. When the rotational speed difference RPMsub is greater than or equal to the first rotational speed difference RPMsub1 and less than the second rotational speed difference RPMsub2, the downshift determination correction value DVflat is set to have a greater value as the rotational speed difference RPMsub is increased.</p><p id="p0210" num="0210">The first rotational speed difference RPMsub1 is set equal to or slightly less than the value of the rotational speed difference when downshift is performed from the current gear position to a gear position of the least gear ratio difference from the current gear position (for example, downshift from the fifth gear to the fourth gear). The rotational speed difference RPMsub is a value obtained by subtracting the previous engine speed RPM(n-1) from the current engine speed RPM(n).</p><p id="p0211" num="0211">Parts of the BA initiation determination processing routine that are different from the BA initiation determination processing routines of the first and third embodiments will be described with reference to the flowchart of <figref idrefs="f0022">Fig. 26</figref>.</p><p id="p0212" num="0212">In the BA initiation determination processing routine, if the outcome of step S57 (or step S200) is NO, the brake ECU 60 increments a thirty-second determination timer T32 by "1" (step S250). Subsequently, the brake ECU 60 determines whether the thirty-second determination timer T32 has exceeded a preset thirty-second time determination value T32th (e.g., 8) (step S251). The braking control processing routine is executed in predetermined time cycles (e.g., 6 milliseconds). Hence, step S251 is performed to determine whether the time corresponding to the thirty-second determination timer T32 exceeds a measurement time T48 (e.g., 48 milliseconds), which is obtained by multiplying the thirty-second time determination value T32th by a predetermined time.</p><p id="p0213" num="0213">When the thirty-second determination timer T32 is less than or equal to the thirty-second time determination value T32th (step S251: NO), the brake ECU 60 proceeds to step S70, which is described above. In contrast, when the thirty-second determination timer T32 exceeds the thirty-second time determination value T32th (step S251: YES), the brake ECU 60 determines whether or not the current accelerator operation amount AC(n) is less than or equal to the previous accelerator operation amount (n-1) (step 251). If the current accelerator operation amount AC(n) is greater than the previous accelerator operation amount AC(n-1) (step S252: NO), the brake ECU 60 proceeds to step S257, which will be described below.</p><p id="p0214" num="0214">In contrast, if the current accelerator operation amount AC(n) is less than or equal to the previous accelerator operation amount (n-1) (step S252: YES), the brake ECU 60 determines whether or not the current engine speed RPM(n) is greater than the previous engine speed RPM(n-1) (step S253). If the current engine speed RPM(n) is less than or equal to the previous engine speed RPM(n-1) (step S253: NO), the brake ECU 60 proceeds to step S257, which will be described below.<!-- EPO <DP n="43"> --></p><p id="p0215" num="0215">In contrast, if the current engine speed RPM(n) is greater than the previous engine speed RPM(n-1) (step S253: YES), the brake ECU 60 obtains the rotational speed difference RPMsub by subtracting the previous engine speed RPM(n-1) from the current engine speed RPM(n) (step S254). Then, the brake ECU 60 obtains a value of the downshift determination correction value DVflat that corresponds to the calculated rotational speed difference RPMsub by using the fourth map shown in <figref idrefs="f0021">Fig. 25</figref> (step S255). Therefore, in the present embodiment, the brake ECU 60 also functions as an outer disturbance determination unit. That is, the brake ECU 60 determines that there is a possibility of downshift of the transmission if the engine speed RPM is increased without an increase in the acceleration operation amount AC when the brake operation is being performed.</p><p id="p0216" num="0216">The brake ECU 60 resets the thirty-second determination timer T32 to "0 (zero)" (step S129), and thereafter proceeds to step 70, which is described above.</p><p id="p0217" num="0217">In step S257, the brake ECU 60 sets the downshift determination correction value DVflat to "0 (zero)" and then proceeds to step S256.</p><p id="p0218" num="0218">Accordingly, in the present embodiment, the advantages described below can be obtained in addition to advantages (1) to (7), (10) to (23), and (26) of the first and second embodiments.
<ul><li>(27) Generally, when the transmission is downshifted during braking operation by the driver, the engine speed RPM is increased even though the accelerator operation amount AC is not increased. Thus, in the present embodiment, it is determined that there is a possibility of downshift of the transmission if the engine speed RPM is increased without an increase in the acceleration operation amount AC. Then, the first deceleration determination value DV_st is corrected to a value greater than that when it is not determined that there is a possibility that the downshifting operation has been performed. This prevents the assist control from being unintentionally initiated by the outer disturbance due to downshift of the transmission.</li><li>(28) On the other hand, when the accelerator operation amount AC is increased with an increase in the engine speed RMP, the increase in the engine speed RPM may have been caused by the increase in the accelerator operation amount AC. In this case, there is a possibility that the transmission has not been downshifted. Thus, the first deceleration determination value DV_st is set to "0 (zero)". Therefore, when the driver erroneously operates the accelerator when operating the brake, the assist control is initiated at a more appropriate timing compared to a case in which the first deceleration determination value DV_st is set to be greater than "0 (zero)".</li><li>(29) In a case where the transmission is a manual transmission 21A, acceleration operation is performed with brake operation at downshift of the transmission 21A in some cases. In such a case, a great vibration component based on the downshift is scarcely superimposed on the vehicle body deceleration DV. Thus, when such a driving operation is detected, the first deceleration determination value DV_st is not corrected. Therefore, when the accelerator operation is performed together with the brake operation during downshifting, the assist control can be performed at an appropriate timing.</li></ul></p><p id="p0219" num="0219">The above embodiments may be modified to the embodiments described below.</p><p id="p0220" num="0220">In the above embodiments, the determination processing of step S103 may be omitted. In this case, the increasing control of the assist control is set to the first increasing control irrespective of correction of the first deceleration determination value DV_st.</p><p id="p0221" num="0221">A vibration component included in the vehicle body deceleration DV when the<!-- EPO <DP n="44"> --> automatic transmission 21 is downshifted becomes greater as the vehicle body speed VS increases. Hence, the downshift determination correction value DVflat may be increased as the vehicle body speed VS increases. This lowers the possibility of the assist control being executed unintentionally when the automatic transmission 21 is downshifted as the vehicle travels at a high speed.</p><p id="p0222" num="0222">In each embodiment, when it is determined that the automatic transmission 21 may be downshifted, the downshift determination correction value DVflat may be set to a preset predetermined value irrespective of the value of the third determination timer T3.</p><p id="p0223" num="0223">In each embodiment, the processing operations of steps S66 to S69 may be omitted. This can also correct the first deceleration determination value DV_st by receiving a downshift signal from the AT ECU 23.</p><p id="p0224" num="0224">In each of the first and second embodiments, if the vehicle cannot receive information related to the downshifting of the transmission, the processing operations of steps S57 to S65 may be omitted. In this case, the determination processing in step S66 is executed after the processing operations of step S52 and step S56.</p><p id="p0225" num="0225">In the third embodiment, since the engine speed RPM is increased when the transmission 21A is downshifted, it is presumed that the outcome of step S205 is scarcely negative (NO). Thus, the determination processing of step S205 may be omitted.</p><p id="p0226" num="0226">In the third and fourth embodiments, in a case where the vehicle has a clutch sensor for detecting whether the clutch pedal for releasing the clutch of the transmission 21A is operated, the downshift determination correction value DVflat may be set to "0 (zero)" when the accelerator operation amount AC and the engine speed RPM are increased and the clutch pedal is operated. In this case, "an increase in the engine speed RPM" refers to a case in which the engine speed after operation of the clutch pedal is greater than the engine speed before the operation of the clutch pedal.</p><p id="p0227" num="0227">In the third embodiment, if the brake ECU 60 receives a signal output from the clutch sensor, the brake ECU 60 does not need to receive a downshift signal from the engine ECU 13. In this case, when the clutch pedal operation is detected without an increase in the accelerator operation amount AC and the engine speed RPM is increased, it may be determined that downshift has been performed.</p><p id="p0228" num="0228">In each embodiment, when the transmission of the vehicle is a continuously variable automatic transmission, a vibration component based on outer disturbance caused by a downshifting operation of the automatic transmission included in the vehicle body deceleration DV is subtle. Therefore, the processing operations of steps S57 to S59, steps S200 to S216, and steps S250 to S256 may be omitted.</p><p id="p0229" num="0229">In each embodiment, the first deceleration determination value DV_st does not have to be corrected based on the bump determination correction value DVstep.</p><p id="p0230" num="0230">In each embodiment, the bump determination correction value DVstep does not have to be set to "0 (zero)" in step S51. In this case, the bump correction flag FLG2 is also set to OFF in step S52. Thus, correction of the first deceleration determination value DV_st based on the bump determination correction value DVstep is not performed.</p><p id="p0231" num="0231">In each embodiment, the bump determination correction value DVstep may be set to a value greater than the third correction value KDVbad3 in step S55.</p><p id="p0232" num="0232">Further, the bump determination correction value DVstep may be set to a value less than the third correction value KDVbad3. In this case, however, if the bad road correction flag FLG1 is ON, the first deceleration determination value DV_st may be corrected based on the<!-- EPO <DP n="45"> --> bad road determination correction value DVbad.</p><p id="p0233" num="0233">In each embodiment, the second time determination value T2th may be decreased as the vehicle body speed VS increases. This is because an increase in the vehicle body speed VS shortens the time required for the vehicle to move past a bump. An estimated time from when the front wheels FR and FL of the vehicle move over a bump to when the rear wheels RR and RL pass by the bump may be calculated based on the vehicle body speed VS and the wheel base length of the vehicle, and the estimated time may be set as the second time determination value T2th.</p><p id="p0234" num="0234">In each embodiment, the determination processing in step S46 may be omitted. If the first deceleration determination value DV_st is corrected based on the amplitude W_DV when the downshift determination correction value DVflat and the gradient change correction value DVDGlow are "0 (zero)", the first increasing control may be performed when the initiating condition of the assist control is satisfied.</p><p id="p0235" num="0235">In each embodiment, the amplitude W_DV of the vehicle body deceleration DV when the bad road index Nrw is "0 (zero)" does not have to be calculated. That is, the correction of the first deceleration determination value DV_st based on the amplitude W_DV does not have to be performed.</p><p id="p0236" num="0236">In each embodiment, step S31 may be omitted. Even in this case, the bad road correction flag FLG1 is set to OFF in step S32. Thus, the first deceleration determination value DV_st is not corrected based on the bad road determination correction value DVbad.</p><p id="p0237" num="0237">In each embodiment, the first deceleration determination value DV_st does not have to be corrected based on the bad road index Nrw. In this case, the first deceleration determination value DV_st can be corrected by the amplitude W_DV of the vehicle body deceleration DV.</p><p id="p0238" num="0238">In each embodiment, a vertical acceleration sensor for detecting the vertical acceleration of the vehicle may be provided in the vehicle. Further, the bad road index Nrw of a road surface may be calculated based on changes in the vertical acceleration, which is based on the detection signal from the vertical acceleration sensor.</p><p id="p0239" num="0239">In each embodiment, the gradient change reference value KDGlow may be a predetermined value that is preset through an experiment or a simulation. In this case, the second map shown in <figref idrefs="f0005">Fig. 7</figref> is not necessary.</p><p id="p0240" num="0240">In each embodiment, the first deceleration determination value DV_st may not be corrected based on the gradient change correction value DVDGlow.</p><p id="p0241" num="0241">In each embodiment, the gradient estimated value Gslope may be set based on the difference between the vehicle body deceleration DV and the G sensor value G when a driver starts depressing the brake pedal 31. In this case, the first deceleration determination value DV_st and the second deceleration determination value G_st may be readily corrected in accordance with the gradient of the road surface.</p><p id="p0242" num="0242">However, in this correction method, the correction accuracy is low as compared with each of the above embodiments. Hence, before the gradient estimated value Gslope is acquired by the method of any of the above embodiments, the first deceleration determination value DV_st and the second deceleration determination value G_st are corrected based on the difference between the vehicle body deceleration DV and the G sensor value G when the depression operation of the brake pedal 31 is started. After the gradient estimated value Gslope is acquired by the method of any of the above embodiments, the first deceleration determination value DV_st and the second deceleration determination value G_st may be<!-- EPO <DP n="46"> --> corrected based on the gradient estimated value Gslope.</p><p id="p0243" num="0243">In each embodiment, when gradients of road surfaces along which the vehicle travels are stored in a navigation device (not shown) of the vehicle, the gradient of the road surface may be acquired from the navigation device. Further, the first deceleration determination value DV_st and the second deceleration determination value G_st may be corrected based on the gradient.</p><p id="p0244" num="0244">In each embodiment, the second deceleration determination value G_st does not have to be corrected based on the gradient estimated value Gslope.</p><p id="p0245" num="0245">In each embodiment, in step S126, instead of determining whether or not the ABS flag FLG6 is ON, it may be determined whether or not the vehicle body deceleration DV is greater than or equal to the deceleration corresponding to the road surface limit (e.g., 1.2 G).</p><p id="p0246" num="0246">In each embodiment, in step S126, it may be determined whether or not the ABS control has been initiated during execution of increasing control. In this case, the termination determination time reference value T7th becomes a value corresponding to the first increase requisition time (or second increase requisition time).</p><p id="p0247" num="0247">In each embodiment, the determination processing of step S126 may be omitted.</p><p id="p0248" num="0248">In each embodiment, in step S128, it may be determined only whether or not the G sensor value G is less than the termination determination value KGend. In this case, if the G sensor value G is less than the termination determination value KGend, the assist control is terminated irrespective of whether ABS control is executed.</p><p id="p0249" num="0249">In each embodiment, the termination determination value KGend is a sum of the second deceleration determination value G_st and the increase component value KGba. That is, the second deceleration determination value G_st corresponds to a braking force reference value. However, the braking force reference value may differ from the second deceleration determination value G_st.</p><p id="p0250" num="0250">In each embodiment, the determination processing in step S122 may be omitted. In this case, the determination processing of step S125 is performed after the processing of step S121 is executed.</p><p id="p0251" num="0251">In each embodiment, the processing operations of steps S127 and S128 may be omitted. In this case, the assist control may be terminated when the brake switch SW is turned OFF.</p><p id="p0252" num="0252">In each embodiment, among the two conditions of step S89, the sixth condition may be "the fifth determination timer T5 is less than or equal to the initiation time determination reference value KT2". In this manner, the specified waiting time KT_w is not necessary.</p><p id="p0253" num="0253">In each embodiment, when the initiating condition for the assist control is satisfied, the assist control may be performed irrespective of the magnitude of the depression force produced when the driver depresses the brake pedal 31. In this case, the processing operations in steps S86 and S90 may be omitted.</p><p id="p0254" num="0254">Some vehicles are provided with detection sensors that detect the number of occupants in the vehicle. In such a vehicle, the number of occupants may be acquired based on the detection signal from the detection sensor, and the load WW may be estimated based on the number of occupants.</p><p id="p0255" num="0255">In the second embodiment, the load WW of the vehicle is estimated by reading the state when the vehicle is traveling. However, the present invention is not limited in such a manner, and the load WW may be acquired by reading load data that is input when the vehicle is manufactured or load data that is input after the vehicle is manufactured.<!-- EPO <DP n="47"> --></p><p id="p0256" num="0256">In each embodiment, the vehicle may be a rear wheel drive vehicle, in which the rear wheels RR and RL are the drive wheels, or a four wheel drive vehicle, in which the wheels FR, FL, RR, and RL are all drive wheels.</p><p id="p0257" num="0257">In each embodiment, the power source of the vehicle may be a motor.</p><p id="p0258" num="0258">The present invention may be embodied in a braking control device for a vehicle provided with a pressure sensor that detects the MC pressure in the master cylinder 321. The braking control processing shown in <figref idrefs="f0006">Fig. 8</figref> may be executed when a failure occurs in the pressure sensor.</p></description><claims mxw-id="PCLM56977120" lang="EN" load-source="patent-office"><!-- EPO <DP n="48"> --><claim id="c-en-0001" num="0001"><claim-text>A braking control device for a vehicle comprising:
<claim-text>a first deceleration calculation unit that calculates a first estimated vehicle body deceleration by using a detection signal of a wheel speed sensor arranged on the vehicle;</claim-text>
<claim-text>a second deceleration calculation unit that calculates a second estimated vehicle body deceleration by using a detection signal of a vehicle body acceleration sensor arranged on the vehicle;</claim-text>
<claim-text>an assist control unit that initiates an assist control, which assists increasing of a braking force applied to a wheel of the vehicle if a brake pedal of the vehicle is operated, when the first estimated vehicle body deceleration exceeds a first deceleration determination value and the second estimated vehicle body deceleration exceeds a second deceleration determination value during operation of the brake pedal of the vehicle; and</claim-text>
<claim-text>a reference value correction unit that corrects the first deceleration determination value based on a component included in the first estimated vehicle body deceleration other than the deceleration component based on the operation of the brake pedal.</claim-text></claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>The braking control device for a vehicle according to claim 1, further comprising an outer disturbance determination unit that determines whether a vibration component based on outer disturbance is included in the first estimated vehicle body deceleration,<br/>
wherein the reference value correction unit corrects the first deceleration determination value to a greater value when the first estimated vehicle body deceleration includes a vibration component based on outer disturbance than when such is not the case.</claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>The braking control device for a vehicle according to claim 2, further comprising a bad road index acquisition unit that acquires a bad road index that numerically indicates the unevenness degree of the road surface along which the vehicle is traveling, wherein<br/>
the outer disturbance determination unit determines whether or not the road surface along which the vehicle is traveling is a bad road based on the bad road index, and<br/>
the reference value correction unit corrects the first deceleration determination value to a greater value when the outer disturbance determination unit determines that the road surface is a bad road than when such is not the case.</claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>The braking control device for a vehicle according to claim 3, further comprising an amplitude calculator that calculates an amplitude of the first estimated vehicle body deceleration,<br/>
wherein, in a case in which the outer disturbance determination unit determines that the road surface is not a bad road, the reference value correction unit corrects the first deceleration determination value to a greater value when the amplitude is great than when the amplitude is small.</claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>The braking control device for a vehicle according to claim 4, wherein, in a case in which the outer disturbance determination unit determines that the road surface is not a bad road, the reference value correction unit does not perform correction of the first deceleration determination value based on the amplitude if the amplitude is less than a preset amplitude reference value.</claim-text></claim><claim id="c-en-0006" num="0006"><claim-text>The braking control device for a vehicle according to claim 3, wherein, in the assist control, the assist control unit sets an increasing speed of the braking force applied to the vehicle wheel to a lower value when the reference value correction unit has corrected the<!-- EPO <DP n="49"> --> first deceleration determination value than when such is not the case.</claim-text></claim><claim id="c-en-0007" num="0007"><claim-text>The braking control device for a vehicle according to claim 2, wherein<br/>
when the second estimated vehicle body deceleration is greater than the sum of the first estimated vehicle body deceleration and a deceleration specified value or when the first estimated vehicle body deceleration has a negative value, the outer disturbance determination unit determines that the first estimated vehicle body deceleration includes a vibration component based on outer disturbance, and<br/>
wherein, during a preset deceleration specified time, the reference value correction unit corrects the first deceleration determination value to a greater value when the first estimated vehicle body deceleration includes a vibration component based on outer disturbance than when such is not the case.</claim-text></claim><claim id="c-en-0008" num="0008"><claim-text>The braking control device for a vehicle according to claim 2, wherein<br/>
when receiving a signal indicating that a transmission mounted in the vehicle is about to be downshifted from a transmission control unit, which controls the transmission, the outer disturbance determination unit determines that the transmission is about to be downshifted, and<br/>
during a gear shifting specified time, the reference value correction unit corrects the first deceleration determination value to a greater value when it is determined that the transmission is about to be downshifted than when such is not the case.</claim-text></claim><claim id="c-en-0009" num="0009"><claim-text>The braking control device for a vehicle according to claim 2, wherein<br/>
when receiving a signal indicating that a manual transmission mounted in the vehicle has been downshifted from a monitoring control device, which monitors the shift position of the transmission, the outer disturbance determination unit determines that the transmission has been downshifted,<br/>
if an accelerator operation amount is not increased when it is determined that the transmission has been downshifted, the reference value correction unit corrects the first deceleration determination value to a greater value than when it is determined that the transmission has not been downshifted, and<br/>
if the accelerator operation amount is increased when it is determined that the transmission has been downshifted, the reference value correction unit sets the first deceleration determination value to a value corresponding to a determination that the transmission has not been downshifted.</claim-text></claim><claim id="c-en-0010" num="0010"><claim-text>The braking control device for a vehicle according to claim 2, further comprising a duration time acquisition unit that acquires a duration time of a state in which the second estimated vehicle deceleration remains greater than a high depression force determination reference value, which is set for determining whether a depression operation amount of the brake pedal is large, wherein<br/>
when the duration time is longer than or equal to a high depression force specified time, the outer disturbance determination unit determines that there is a possibility that a transmission mounted in the vehicle will be downshifted, and<br/>
the reference value correction unit corrects the first deceleration determination value to a greater value when there is a possibility that the transmission will be downshifted than when such is not the case.</claim-text></claim><claim id="c-en-0011" num="0011"><claim-text>The braking control device for a vehicle according to claim 2, wherein<br/>
in a case in which the brake pedal is being operated, the outer disturbance determination unit determines that there is a possibility that a transmission mounted in the<!-- EPO <DP n="50"> --> vehicle has been downshifted if a rotational speed of an output shaft of a drive source of the vehicle is increased without an increase in an accelerator operation amount, and<br/>
the reference value correction unit corrects the first deceleration determination value to a greater value when there is a possibility that the transmission has been downshifted than when such is not the case.</claim-text></claim><claim id="c-en-0012" num="0012"><claim-text>The braking control device for a vehicle according to claim 1, further comprising a gradient information acquisition unit that acquires gradient information regarding a gradient of the road surface on which the vehicle is traveling,<br/>
wherein the reference value correction unit corrects the first deceleration determination value based on the gradient information.</claim-text></claim><claim id="c-en-0013" num="0013"><claim-text>The braking control device for a vehicle according to claim 12, wherein<br/>
the gradient information acquisition unit acquires, as the gradient information, the gradient of the road surface on which the vehicle is traveling, and<br/>
wherein the reference value correction unit corrects the first deceleration determination value based on the gradient.</claim-text></claim><claim id="c-en-0014" num="0014"><claim-text>The braking control device for a vehicle according to claim 13, wherein<br/>
when the gradient of the road surface acquired by the gradient information acquisition unit has a positive value, the reference value correction unit corrects the first deceleration determination value to a greater value, and<br/>
when the gradient of the road surface acquired by the gradient information acquisition unit has a negative value, the reference value correction unit corrects the first deceleration determination value to a smaller value.</claim-text></claim><claim id="c-en-0015" num="0015"><claim-text>The braking control device for a vehicle according to claim 14, wherein<br/>
when the gradient of the road surface acquired by the gradient information acquisition unit has a positive value, the reference value correction unit corrects the second deceleration determination value to a smaller value, and<br/>
when the gradient of the road surface acquired by the gradient information acquisition unit has a negative value, the reference value correction unit corrects the second deceleration determination value to a greater value.</claim-text></claim><claim id="c-en-0016" num="0016"><claim-text>The braking control device for a vehicle according to claim 12, wherein<br/>
the gradient information acquisition unit calculates, as the gradient information, a gradient change of the second estimated vehicle body deceleration, and<br/>
when the gradient change of the second estimated vehicle body deceleration is less than a gradient change reference value that is set for determining whether or not the gradient of the road surface has changed and indicates an uphill slope, the reference value correction unit corrects the first deceleration determination value to a greater value than when such is not the case.</claim-text></claim><claim id="c-en-0017" num="0017"><claim-text>The braking control device for a vehicle according to claim 16, further comprising:
<claim-text>a gradient change acquisition unit, which acquires a gradient change of the first estimated vehicle body deceleration and a gradient change of the second estimated vehicle body deceleration, and</claim-text>
<claim-text>a reference value setting unit, which subtracts the gradient change of the second estimated vehicle body deceleration from the gradient change of the first estimated vehicle body deceleration, wherein, if the subtraction result is great, the reference value setting unit sets the gradient change reference value to a greater value than when the subtraction result is<!-- EPO <DP n="51"> --> small.</claim-text></claim-text></claim><claim id="c-en-0018" num="0018"><claim-text>The braking control device for a vehicle according to claim 16, wherein, in the assist control, the assist control unit sets an increasing speed of the braking force applied to the vehicle wheel to a lower value when the reference value correction unit has corrected the first deceleration determination value than when such is not the case.</claim-text></claim><claim id="c-en-0019" num="0019"><claim-text>A braking control method for a vehicle comprising:
<claim-text>a first deceleration calculating step for calculating a first estimated vehicle body deceleration by using a detection signal of a wheel speed sensor arranged on the vehicle;</claim-text>
<claim-text>a second deceleration calculating step for calculating a second estimated vehicle body deceleration by using a detection signal of a vehicle body acceleration sensor arranged on the vehicle;</claim-text>
<claim-text>an assisting step for initiating an assist control, which assists increasing of a braking force applied to a wheel of the vehicle if a brake pedal of the vehicle is operated, when the first estimated vehicle body deceleration exceeds a first deceleration determination value and the second estimated vehicle body deceleration exceeds a second deceleration determination value during operation of the brake pedal of the vehicle; and</claim-text>
<claim-text>a step for correcting the first deceleration determination value based on a component included in the first estimated vehicle body deceleration other than the deceleration component based on the operation of the brake pedal.</claim-text></claim-text></claim></claims><drawings mxw-id="PDW16667838" load-source="patent-office"><!-- EPO <DP n="52"> --><figure id="f0001" num="1,2"><img id="if0001" file="imgf0001.tif" wi="156" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="53"> --><figure id="f0002" num="3"><img id="if0002" file="imgf0002.tif" wi="165" he="218" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="54"> --><figure id="f0003" num="4"><img id="if0003" file="imgf0003.tif" wi="165" he="217" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="55"> --><figure id="f0004" num="5"><img id="if0004" file="imgf0004.tif" wi="158" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="56"> --><figure id="f0005" num="6,7"><img id="if0005" file="imgf0005.tif" wi="163" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="57"> --><figure id="f0006" num="8"><img id="if0006" file="imgf0006.tif" wi="165" he="166" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="58"> --><figure id="f0007" num="9"><img id="if0007" file="imgf0007.tif" wi="165" he="196" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="59"> --><figure id="f0008" num="10"><img id="if0008" file="imgf0008.tif" wi="162" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="60"> --><figure id="f0009" num="11"><img id="if0009" file="imgf0009.tif" wi="164" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="61"> --><figure id="f0010" num="12"><img id="if0010" file="imgf0010.tif" wi="156" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="62"> --><figure id="f0011" num="13"><img id="if0011" file="imgf0011.tif" wi="165" he="204" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="63"> --><figure id="f0012" num="14"><img id="if0012" file="imgf0012.tif" wi="165" he="222" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="64"> --><figure id="f0013" num="15A,15B"><img id="if0013" file="imgf0013.tif" wi="165" he="157" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="65"> --><figure id="f0014" num="16"><img id="if0014" file="imgf0014.tif" wi="165" he="214" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="66"> --><figure id="f0015" num="17"><img id="if0015" file="imgf0015.tif" wi="165" he="205" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="67"> --><figure id="f0016" num="18"><img id="if0016" file="imgf0016.tif" wi="161" he="229" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="68"> --><figure id="f0017" num="19"><img id="if0017" file="imgf0017.tif" wi="146" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="69"> --><figure id="f0018" num="20,21"><img id="if0018" file="imgf0018.tif" wi="147" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="70"> --><figure id="f0019" num="22"><img id="if0019" file="imgf0019.tif" wi="158" he="126" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="71"> --><figure id="f0020" num="23"><img id="if0020" file="imgf0020.tif" wi="165" he="223" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="72"> --><figure id="f0021" num="24,25"><img id="if0021" file="imgf0021.tif" wi="149" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="73"> --><figure id="f0022" num="26"><img id="if0022" file="imgf0022.tif" wi="165" he="165" img-content="drawing" img-format="tif"/></figure></drawings><search-report-data><doc-page id="srep0001" file="srep0001.tif" wi="165" he="233" type="tif"/><doc-page id="srep0002" file="srep0002.tif" wi="165" he="233" type="tif"/></search-report-data><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
