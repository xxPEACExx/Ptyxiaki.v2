<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2680501-A1" country="EP" doc-number="2680501" kind="A1" date="20140101" family-id="47056257" file-reference-id="318320" date-produced="20180824" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146549187" ucid="EP-2680501-A1"><document-id><country>EP</country><doc-number>2680501</doc-number><kind>A1</kind><date>20140101</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-13174228-A" is-representative="YES"><document-id mxw-id="PAPP154823110" load-source="docdb" format="epo"><country>EP</country><doc-number>13174228</doc-number><kind>A</kind><date>20130628</date><lang>ZH</lang></document-id><document-id mxw-id="PAPP174952978" load-source="docdb" format="original"><country>EP</country><doc-number>13174228.0</doc-number><date>20130628</date><lang>ZH</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140447285" ucid="CN-201210222909-A" load-source="docdb"><document-id format="epo"><country>CN</country><doc-number>201210222909</doc-number><kind>A</kind><date>20120630</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1988110688" load-source="docdb">H04L  12/403       20060101AFI20130828BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1988123654" load-source="docdb">H04L  12/417       20060101ALI20130828BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-2051726832" load-source="docdb" scheme="CPC">H04L  12/4035      20130101 LI20150519BHEP        </classification-cpc><classification-cpc mxw-id="PCL1991311336" load-source="docdb" scheme="CPC">H04L  12/413       20130101 FI20131226BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132180045" lang="DE" load-source="patent-office">Verfahren und Gerät zum Bereitstellen und Erhalten von CSMA Zeitschlitzen, Netzverfahren und Gerät, und System</invention-title><invention-title mxw-id="PT132180046" lang="EN" load-source="patent-office">Csma time slot providing and obtaining method and device, networking method and device, and system</invention-title><invention-title mxw-id="PT132180047" lang="FR" load-source="patent-office">Procede et Dispositif pour provisionner et recevoir des intervalles de temps à CSMA, procedé de réseau, et système</invention-title><citations><patent-citations><patcit mxw-id="PCIT242652035" load-source="docdb" ucid="US-20040072573-A1"><document-id format="epo"><country>US</country><doc-number>20040072573</doc-number><kind>A1</kind><date>20040415</date></document-id><sources><source name="SEA" category="X" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT371081249" load-source="docdb" ucid="US-20120281717-A1"><document-id format="epo"><country>US</country><doc-number>20120281717</doc-number><kind>A1</kind><date>20121108</date></document-id><sources><source name="SEA" category="XP" created-by-npl="N"/></sources></patcit></patent-citations><non-patent-citations><nplcit><text>ABDELMALIK BACHIR ET AL: "MAC Essentials for Wireless Sensor Networks", IEEE COMMUNICATIONS SURVEYS, IEEE, NEW YORK, NY, US, vol. 12, no. 2, 1 April 2010 (2010-04-01), pages 222 - 248, XP011334494, ISSN: 1553-877X, DOI: 10.1109/SURV.2010.020510.00058</text><sources><source mxw-id="PNPL57333087" load-source="docdb" name="SEA" category="A"/></sources></nplcit><nplcit><text>None</text><sources><source mxw-id="PNPL67455017" load-source="docdb" name="APP"/></sources></nplcit></non-patent-citations></citations></technical-data><parties><applicants><applicant mxw-id="PPAR918153995" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>HUAWEI TECH CO LTD</last-name><address><country>CN</country></address></addressbook></applicant><applicant mxw-id="PPAR918135507" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>HUAWEI TECHNOLOGIES CO., LTD.</last-name></addressbook></applicant><applicant mxw-id="PPAR918988066" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Huawei Technologies Co., Ltd.</last-name><iid>100970540</iid><address><street>Huawei Administration Building Bantian</street><city>Longgang District, Shenzhen Guangdong 518129</city><country>CN</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR918167079" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>YE BUCAI</last-name><address><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR918137536" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>YE, BUCAI</last-name></addressbook></inventor><inventor mxw-id="PPAR918985291" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>YE, BUCAI</last-name><address><street>c/o HUAWEI TECHNOLOGIES CO., LTD Huawei Administration Building, Bantian, Longgang District</street><city>518129 Shenzhen</city><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR918144723" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>GUO CHUNMEI</last-name><address><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR918143746" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>GUO, CHUNMEI</last-name></addressbook></inventor><inventor mxw-id="PPAR918986019" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>GUO, CHUNMEI</last-name><address><street>c/o HUAWEI TECHNOLOGIES CO., LTD Huawei Administration Building, Bantian, Longgang District</street><city>518129 Shenzhen</city><country>CN</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR918982714" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Pfenning, Meinig &amp; Partner GbR</last-name><iid>101244111</iid><address><street>Theresienhöhe 13</street><city>80339 München</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><designated-states><ep-contracting-states><country mxw-id="DS548803028" load-source="docdb">AL</country><country mxw-id="DS548848521" load-source="docdb">AT</country><country mxw-id="DS548803034" load-source="docdb">BE</country><country mxw-id="DS548854289" load-source="docdb">BG</country><country mxw-id="DS548868232" load-source="docdb">CH</country><country mxw-id="DS548837413" load-source="docdb">CY</country><country mxw-id="DS548848522" load-source="docdb">CZ</country><country mxw-id="DS548847923" load-source="docdb">DE</country><country mxw-id="DS548803035" load-source="docdb">DK</country><country mxw-id="DS548837414" load-source="docdb">EE</country><country mxw-id="DS548854217" load-source="docdb">ES</country><country mxw-id="DS548854290" load-source="docdb">FI</country><country mxw-id="DS548854291" load-source="docdb">FR</country><country mxw-id="DS548847924" load-source="docdb">GB</country><country mxw-id="DS548803036" load-source="docdb">GR</country><country mxw-id="DS548803037" load-source="docdb">HR</country><country mxw-id="DS548837415" load-source="docdb">HU</country><country mxw-id="DS548868233" load-source="docdb">IE</country><country mxw-id="DS548803042" load-source="docdb">IS</country><country mxw-id="DS548854292" load-source="docdb">IT</country><country mxw-id="DS548837416" load-source="docdb">LI</country><country mxw-id="DS548847925" load-source="docdb">LT</country><country mxw-id="DS548848523" load-source="docdb">LU</country><country mxw-id="DS548847926" load-source="docdb">LV</country><country mxw-id="DS548847927" load-source="docdb">MC</country><country mxw-id="DS548801782" load-source="docdb">MK</country><country mxw-id="DS548801783" load-source="docdb">MT</country><country mxw-id="DS548854218" load-source="docdb">NL</country><country mxw-id="DS548854293" load-source="docdb">NO</country><country mxw-id="DS548854219" load-source="docdb">PL</country><country mxw-id="DS548854294" load-source="docdb">PT</country><country mxw-id="DS548854220" load-source="docdb">RO</country><country mxw-id="DS548854295" load-source="docdb">RS</country><country mxw-id="DS548854221" load-source="docdb">SE</country><country mxw-id="DS548868234" load-source="docdb">SI</country><country mxw-id="DS548801784" load-source="docdb">SK</country><country mxw-id="DS548801785" load-source="docdb">SM</country><country mxw-id="DS548837417" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA128669857" lang="EN" load-source="patent-office"><p id="pa01" num="0001">The present invention provides a CSMA time slot providing and obtaining method and device, a networking method and device, and a system. The CSMA time slot providing method includes: generating a beacon frame, where the beacon frame carries a CSMA time slot and attribute information used to identify an applicable device of the CSMA time slot; and sending the beacon frame and providing the CSMA time slot for the applicable device, so that the applicable device sends a packet by using the CSMA time slot. The CSMA time slot providing and obtaining method and device, the networking method and device, and the system provided by the present invention can designate an applicable device of a CSMA time slot.</p></abstract><abstract mxw-id="PA128499230" lang="EN" source="EPO" load-source="docdb"><p>The present invention provides a CSMA time slot providing and obtaining method and device, a networking method and device, and a system. The CSMA time slot providing method includes: generating a beacon frame, where the beacon frame carries a CSMA time slot and attribute information used to identify an applicable device of the CSMA time slot; and sending the beacon frame and providing the CSMA time slot for the applicable device, so that the applicable device sends a packet by using the CSMA time slot. The CSMA time slot providing and obtaining method and device, the networking method and device, and the system provided by the present invention can designate an applicable device of a CSMA time slot.</p></abstract><description mxw-id="PDES63955287" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001"><b>TECHNICAL FIELD</b></heading><p id="p0001" num="0001">The present invention relates to a method for allocating a network resource, and in particular, to a CSMA time slot providing and obtaining method and device, a networking method and device, and a system, which belong to the field of communications technologies.</p><heading id="h0002"><b>BACKGROUND</b></heading><p id="p0002" num="0002">Carrier sense multiple access (Carrier Sense Multiple Access, CSMA) is a distributed medium access control protocol. Each site (node) in a network competes to send a data frame by using a CSMA time slot. <figref idrefs="f0001">FIG. 1</figref> is a network architecture diagram of a typical communication network. As shown in <figref idrefs="f0001">FIG. 1</figref>, a concentrator, level-1 sites, level-2 sites, and level-3 sites that request to access the level-2 sites are included. In an ad hoc networking stage, the concentrator allocates a CSMA time slot, that is, carries a CSMA time slot shared by all the sites to upload data in a beacon frame, and delivers the beacon frame to the level-2 sites. All the level-3 sites obtain the CSMA time slot and perform carrier sensing, and can send an access-request packet to the level-2 sites that are requested to be accessed only when the CSMA time slot is idle.</p><p id="p0003" num="0003">It can be seen that, when the concentrator provides a CSMA time slot for the network sites in the foregoing manner, all the level-3 sites share the CSMA time slot, and when there are multiple level-3 sites requesting for access, it cannot be known and managed in advance that which level-3 site (level-3 sites) can successfully send an access-request packet to take priority to access the concentrator in the network. However, in some actual application scenarios, the concentrator expects to designate, according to a certain rule, level-3 sites having different messaging to access in different periods, for example, a level-3 site that accesses a certain designated level-2 site; therefore, when a CSMA time slot is provided, an applicable site of the CSMA time slot needs to be designated. However, a current CSMA time slot providing method cannot designate an applicable site of the CSMA time slot.<!-- EPO <DP n="2"> --></p><heading id="h0003"><b>SUMMARY</b></heading><p id="p0004" num="0004">Embodiments of the present invention provide a CSMA time slot providing and obtaining method and device, a networking method and device, and a system, which are used to provide a CSMA time slot that only can be used by a designated device.</p><p id="p0005" num="0005">According to a first aspect of the embodiments of the present invention, a CSMA time slot providing method is provided and includes:
<ul><li>generating a beacon frame, where the beacon frame carries a CSMA time slot and attribute information used to identify an applicable device of the CSMA time slot; and</li><li>sending the beacon frame, and providing the CSMA time slot for the applicable device of the CSMA time slot, so that the applicable device of the CSMA time slot sends a packet by using the CSMA time slot.</li></ul></p><p id="p0006" num="0006">According to a second aspect of the embodiments of the present invention, a CSMA time slot obtaining method is provided and includes:
<ul><li>receiving a beacon frame, where the beacon frame carries a CSMA time slot and attribute information used to identify an applicable device of the CSMA time slot; and</li><li>parsing the beacon frame, and determining, according to the attribute information, whether itself belongs to the applicable device of the CSMA time slot, and if yes, obtaining the CSMA time slot, so as to send a packet by using the CSMA time slot.</li></ul></p><p id="p0007" num="0007">According to a third aspect of the embodiments of the present invention, a CSMA time slot providing device is provided and includes:
<ul><li>a first generating module, configured to generate a beacon frame, where the beacon frame carries a CSMA time slot and attribute information used to identify an applicable device of the CSMA time slot; and</li><li>a first sending module, configured to send the beacon frame, and provide the CSMA time slot for the applicable device of the CSMA time slot, so that the applicable device of the CSMA time slot sends a packet by using the CSMA time slot.</li></ul></p><p id="p0008" num="0008">According to a fourth aspect of the embodiments of the present invention, a CSMA time slot obtaining device is provided and includes:
<ul><li>a receiving module, configured to receive a beacon frame, where the beacon frame carries a CSMA time slot and attribute information used to identify an applicable device of the CSMA time slot; and</li><li>a parsing and obtaining module, configured to determine, according to the attribute information, whether itself belongs to the applicable device of the CSMA time slot, and if yes, obtain the CSMA time slot, so as to send a packet by using the CSMA time slot.</li></ul><!-- EPO <DP n="3"> --></p><p id="p0009" num="0009">According to a fifth aspect of the embodiments of the present invention, a networking method is provided and includes:
<ul><li>separately configuring, according to a preset period, a CSMA time slot for at least two peripheral sites detected in a current period;</li><li>generating a beacon frame, where the beacon frame carries the CSMA time slot and attribute information of the CSMA time slot, and the attribute information is used to indicate that the CSMA time slot is applicable to a to-be-added device requesting to be added to a corresponding peripheral site;</li><li>sending the beacon frame, so that the device to be added to the corresponding peripheral site is added, according to the attribute information, to the peripheral site by using a corresponding CSMA time slot; and</li><li>receiving a notification packet used to indicate whether a newly added device exists and reported by the at least two peripheral sites detected in the current period, and setting a peripheral site where a newly added device exists as a peripheral site to be detected in a next period. According to a sixth aspect of the embodiments of the present invention, a networking device is provided and includes:</li><li>a time slot configuring module, configured to separately configure, according to a preset period, a CSMA time slot for at least two peripheral sites detected in a current period;</li><li>a second generating module, configured to generate a beacon frame, where the beacon frame carries the CSMA time slot and attribute information of the CSMA time slot, and the attribute information is used to indicate that the CSMA time slot is applicable to a to-be-added device requesting to be added to a corresponding peripheral site;</li><li>a second sending module, configured to send the beacon frame, so that the device to be added to the corresponding peripheral site is added, according to the attribute information, to the peripheral site by using a corresponding CSMA time slot; and</li><li>a site configuring module, configured to receive a notification packet used to indicate whether a newly added device exists and reported by the at least two peripheral sites detected in the current period, and set a peripheral site where a newly added device exists as a peripheral site to be detected in a next period.</li></ul></p><p id="p0010" num="0010">According to a seventh aspect of the embodiments of the present invention, a communication system is provided and includes a CSMA time slot providing device according to an embodiment of the present invention, and a CSMA time slot obtaining device according to an embodiment of the present invention.</p><p id="p0011" num="0011">According to the CSMA time slot providing and obtaining method and device, the networking method and device, and the system provided by the embodiments of the present invention, because<!-- EPO <DP n="4"> --> the CSMA time slot and the attribute information used to identify the applicable device of the CSMA time slot are carried in the beacon frame, only the applicable device of the CSMA time slot that is designated by the attribute information can send a packet by using the CSMA time slot, so as to implement designation of an applicable scope of the CSMA time slot when the CSMA time slot is allocated.</p><heading id="h0004"><b>BRIEF DESCRIPTION OF DRAWINGS</b></heading><p id="p0012" num="0012">To describe the technical solutions in the embodiments of the present invention or in the prior art more clearly, the following briefly introduces accompanying drawings required for describing the embodiments or the prior art. Apparently, the accompanying drawings in the following description show merely some embodiments of the present invention, and persons of ordinary skill in the art may further obtain other drawings according to these accompanying drawings without creative efforts.
<ul><li><figref idrefs="f0001">FIG. 1</figref> is a network architecture diagram of a typical communication network;</li><li><figref idrefs="f0001">FIG. 2</figref> is a schematic flowchart of a CSMA time slot providing method according to an embodiment of the present invention;</li><li><figref idrefs="f0002">FIG. 3</figref> is a schematic flowchart of a CSMA time slot obtaining method according to an embodiment of the present invention;</li><li><figref idrefs="f0002">FIG. 4</figref> is a schematic flowchart of a networking method according to an embodiment of the present invention;</li><li><figref idrefs="f0003">FIG. 5</figref> is a network architecture diagram of a system for collecting power information;</li><li><figref idrefs="f0003">FIG 6</figref> is a schematic structural diagram of a CSMA time slot providing device according to an embodiment of the present invention;</li><li><figref idrefs="f0003">FIG 7</figref> is a schematic structural diagram of a CSMA time slot obtaining device according to an embodiment of the present invention;</li><li><figref idrefs="f0004">FIG 8</figref> is a schematic structural diagram of a networking device according to an embodiment of the present invention; and</li><li><figref idrefs="f0004">FIG 9</figref> is a systematic architecture diagram of a communication system according to an embodiment of the present invention.</li></ul><!-- EPO <DP n="5"> --></p><heading id="h0005"><b>DESCRIPTION OF EMBODIMENTS</b></heading><heading id="h0006"><b>Embodiment 1</b></heading><p id="p0013" num="0013"><figref idrefs="f0001">FIG. 2</figref> is a schematic flowchart of a CSMA time slot providing method according to an embodiment of the present invention. As shown in <figref idrefs="f0001">FIG. 2</figref>, the CSMA time slot providing method includes:
<ul><li>201: Generate a beacon frame, where the beacon frame carries a CSMA time slot and attribute information used to identify an applicable device of the CSMA time slot.</li><li>202: Send the beacon frame, and provide the CSMA time slot for the applicable device of the CSMA time slot, so that the applicable device of the CSMA time slot sends a packet by using the CSMA time slot.</li></ul></p><p id="p0014" num="0014">Specifically, based on network architecture as shown in <figref idrefs="f0001">FIG 1</figref>, in an ad hoc networking stage, an example that a concentrator performs the CSMA time slot providing method in this embodiment is taken to describe the technical solution of this embodiment in detail.</p><p id="p0015" num="0015">In the ad hoc networking stage, in each beacon period, the concentrator allocates a beacon frame time slot of the concentrator and a beacon frame time slot of a level-1 site, and arranges a beacon frame time slot of at least one level-2 site, so as to discover a level-3 site that requests for access, and needs to arrange a required CSMA time slot used to send a request packet by the level-3 site that requests for access to the level-2 site, and to report an access packet by the level-2 site to the level-1 site and by the level-1 site to the concentrator. For example, in a current beacon period, the concentrator detects whether a new level-3 site requests for access under a site 4 and a site 5 in level-2 sites, allocates a beacon frame time slot for the site 4 and the site 5, and allocates a first CSMA time slot used by level-3 sites (including a site 6, a site 7, a site 8, and a site 9) to request to access the site 4 and a second CSMA time slot used by a level-3 site (including a site 10) to request to access the site 4. Specifically, a mapping relationship between the first CSMA time slot and the site 6, the site 7, the site 8, and the site 9 and a mapping relationship between the second CSMA time slot and the site 10 are implemented by carrying attribute information corresponding to the first CSMA time slot and attribute information corresponding to the second CSMA time slot in the beacon frame by the concentrator.</p><p id="p0016" num="0016">More specifically, a manner for carrying attribute information corresponding to a CSMA time slot in the beacon frame includes, for example, the following two forms, and Table 1 is an example of the beacon frame in the embodiment of the present invention.<!-- EPO <DP n="6"> -->
<tables id="tabl0001" num="0001"><table frame="all"><title><b>Table 1</b></title><tgroup cols="7" rowsep="0"><colspec colnum="1" colname="col1" colwidth="26mm"/><colspec colnum="2" colname="col2" colwidth="23mm"/><colspec colnum="3" colname="col3" colwidth="24mm"/><colspec colnum="4" colname="col4" colwidth="24mm"/><colspec colnum="5" colname="col5" colwidth="25mm"/><colspec colnum="6" colname="col6" colwidth="24mm"/><colspec colnum="7" colname="col7" colwidth="24mm"/><tbody><row><entry align="center" valign="middle">Beacon frame time slot of the concentrator</entry><entry align="center" valign="middle">Beacon frame time slot of the site 1</entry><entry align="center" valign="middle">Beacon frame time slot of the site 2</entry><entry align="center" valign="middle">Beacon frame time slot of the site 4</entry><entry align="center" valign="middle">First CSMA time slot (attribute information)</entry><entry align="center" valign="middle">Beacon frame time slot of the site 5</entry><entry align="center" valign="middle">Second CSMA time slot (attribute information)</entry></row></tbody></tgroup></table></tables></p><p id="p0017" num="0017">As shown in Table 1, the attribute information corresponding to the first CSMA time slot is that, for example, "an identifier of a packet receiver sending a packet by using the CSMA time slot is an identifier of the site 4", and the attribute information corresponding to the second CSMA time slot is that, for example, "an identifier of a packet receiver sending a packet by using the CSMA time slot is an identifier of the site 5".</p><p id="p0018" num="0018">After generating the beacon frame as shown in <figref idrefs="f0001">FIG. 1</figref>, according to the beacon frame time slot of the concentrator, the concentrator sends a beacon frame of the concentrator to the site 1 and the site 2, and after receiving the beacon frame, the site 1 parses the beacon frame, obtains the beacon frame time slot of the site 1, re-encapsulates the parsed beacon frame, and delivers the beacon frame to the site 4 according to the beacon frame time slot of the site 1; and similarly, after receiving the beacon frame, the site 2 parses the beacon frame, obtains the beacon frame time slot of the site 2, re-encapsulates the parsed beacon frame, and delivers the beacon frame to the site 5 according to the beacon frame time slot of the site 2. The site 4 and the site 5 broadcast the obtained beacon frame in a public channel.</p><p id="p0019" num="0019">The site 6, the site 7, the site 8, the site 9, and the site 10 obtain the beacon frame by monitoring the channel, and obtain, through parsing, the first CSMA time slot and the attribute information corresponding to the first CSMA time slot and the second CSMA time slot and the attribute information corresponding to the second CSMA time slot. Because the site 6, the site 7, the site 8, and the site 9 request to access the site 4, that is, when an access-request packet is sent, an identifier of a packet receiver is an identifier of the site 4, it is known, through determining, that the access-request packet may be uploaded by using the first CSMA time slot; and because the site 10 requests to access the site 5, that is, when an access-request packet is sent, an identifier of a packet receiver is an identifier of the site 5, it is known, through determining, that the access-request packet may be uploaded by using the second CSMA time slot.</p><p id="p0020" num="0020">According to the CSMA time slot providing method in the foregoing embodiment, because the CSMA time slot and the attribute information used to identify the applicable device of the CSMA time slot are carried in the beacon frame, only the applicable device of the CSMA time slot that is designated by the attribute information can send a packet by using the CSMA time slot, so as to implement designation of an applicable scope of the CSMA time slot when the CSMA time slot is<!-- EPO <DP n="7"> --> allocated.</p><p id="p0021" num="0021">By designating the applicable scope of the CSMA time slot when the CSMA time slot is allocated, flexible allocation of the CSMA time slot is implemented, and flexibility and concentricity of network control and management are improved. For example, in the foregoing application scenario of this embodiment, by identifying the attribute information of the CSMA time slot, when a new site that requests for access exists under both the site 4 and the site 5, in each beacon period, a new site that successfully accesses the network through the site 4 and a new site that successfully accesses the network through the site 5 exist, so that the concentrator can accurately control whether there is a new site requesting for access under each level-2 site in each beacon period, so as to avoid that the concentrator only can detect one level-2 site where a new site that requests for access exists when all sites to be accessed share one CSMA time slot.</p><p id="p0022" num="0022">Furthermore, in the CSMA time slot providing method in the foregoing embodiment, although an example that two CSMA time slots and attribute information separately used to identify an applicable device of each CSMA time slot are carried in the beacon frame is taken for description in Table 1, the number of CSMA time slots and pieces of attribute information of the CSMA time slots that are carried in the beacon frame may also be one or more according to an actual requirement.</p><p id="p0023" num="0023">In addition, in the CSMA time slot providing method in the foregoing embodiment, an example of the ad hoc networking stage and the attribute information being an identifier of a packet receiver sending a packet by using the CSMA time slot is taken to describe the CSMA time slot providing method in this embodiment, which, however, is not intended to limit the technical solution of this embodiment. However, persons skilled in the art can understand that, for any other application scenario, the CSMA time slot providing method in this embodiment can be used, so as to implement allocating of a corresponding CSMA time slot for a device in a designated scope (conforming to a designated attribute). For example, the attribute information may further be an identifier or a group identifier or the like of an applicable device of the CSMA time slot, so that only a device corresponding to the identifier or the group identifier can send a packet by using a corresponding CSMA time slot.</p><heading id="h0007"><b>Embodiment 2</b></heading><p id="p0024" num="0024"><figref idrefs="f0002">FIG. 3</figref> is a schematic flowchart of a CSMA time slot obtaining method according to an embodiment of the present invention. As shown in <figref idrefs="f0002">FIG 3</figref>, the CSMA time slot obtaining method includes:
<ul><li>301: Receive a beacon frame, where the beacon frame carries a CSMA time slot and attribute information used to identify an applicable device of the CSMA time slot.</li><li>302: Parse the beacon frame, and determine, according to the attribute information, whether itself<!-- EPO <DP n="8"> --> belongs to the applicable device of the CSMA time slot, and if yes, obtain the CSMA time slot, so as to send a packet by using the CSMA time slot.</li></ul></p><p id="p0025" num="0025">A method for receiving a beacon frame is, for example, receiving in a wired manner, receiving in a wireless manner, or obtaining through monitoring, which is not limited in the embodiment of the present invention.</p><p id="p0026" num="0026">A device (for example, a site 6, a site 7, a site 8, a site 9, and a site 10 as shown in <figref idrefs="f0001">FIG 1</figref>) that receives the beacon frame obtains, through parsing, the CSMA time slot and the corresponding attribute information that are carried in the beacon frame, and determines, according to the attribute information, whether itself can use the CSMA time slot. Specifically, for example, because the site 6, the site 7, the site 8, and the site 9 request to access a site 4, that is, when an access-request packet is sent, an identifier of a packet receiver is an identifier of the site 4, it is known, through determining, that the access-request packet may be uploaded by using a first CSMA time slot; and because the site 10 requests to access a site 5, that is, when an access-request packet is sent, an identifier of a packet receiver is an identifier of the site 5, it is known, through determining, that the access-request packet may be uploaded by using a second CSMA time slot.</p><p id="p0027" num="0027">According to the CSMA time slot obtaining method in the foregoing embodiment, because the CSMA time slot and the attribute information used to identify the applicable device of the CSMA time slot are carried in the beacon frame, when receiving the beacon frame, a device determines, according to the attribute information, whether itself can send a packet by using the CSMA time slot, so as to implement designation of an applicable scope of the CSMA time slot when the CSMA time slot is allocated.</p><p id="p0028" num="0028">By designating the applicable scope of the CSMA time slot when the CSMA time slot is allocated, flexible allocation of the CSMA time slot is implemented, and flexibility and concentricity of network control and management are improved. For example, in an example of this embodiment with reference to <figref idrefs="f0001">FIG. 1</figref>, by identifying the attribute information of the CSMA time slot, when a new site that requests for access exists under both the site 4 and the site 5, in each beacon period, a new site that successfully accesses the network through the site 4 and a new site that successfully accesses the network through the site 5 exist, so that a concentrator can accurately control whether there is a new site requesting for access under each level-2 site in each beacon period, so as to avoid that the concentrator only can detect one level-2 site where a new site that requests for access exists when all sites to be accessed share one CSMA time slot.</p><p id="p0029" num="0029">Furthermore, in the CSMA time slot obtaining method in the foregoing embodiment, although an example that when two CSMA time slots and attribute information separately used to identify an applicable device of each CSMA time slot are carried in the beacon frame, a device receiving the beacon frame separately determines, according to the two pieces of attribute information, whether<!-- EPO <DP n="9"> --> itself belongs to the applicable device of any one of the two CSMA time slots, and if yes, obtains a corresponding CSMA time slot and sends a packet by using the corresponding CSMA time slot is taken for description, the number of CSMA time slots and pieces of attribute information of the CSMA time slots that are carried in the beacon frame may also be one or more according to an actual requirement.</p><p id="p0030" num="0030">In addition, in the CSMA time slot obtaining method in the foregoing embodiment, an example of an ad hoc networking stage and the attribute information being an identifier of a packet receiver sending a packet by using the CSMA time slot is taken to describe the CSMA time slot providing method in this embodiment, which, however, is not intended to limit the technical solution of this embodiment. However, persons skilled in the art can understand that, for any other application scenario, the CSMA time slot obtaining method in this embodiment can be used, so as to implement allocating of a corresponding CSMA time slot for a device in a designated scope (conforming to a designated attribute). For example, the attribute information may further be an identifier or a group identifier or the like of an applicable device of the CSMA time slot, so that only a device corresponding to the identifier or the group identifier can send a packet by using a corresponding CSMA time slot.</p><heading id="h0008"><b>Embodiment 3</b></heading><p id="p0031" num="0031"><figref idrefs="f0002">FIG. 4</figref> is a schematic flowchart of a networking method according to an embodiment of the present invention. As shown in <figref idrefs="f0002">FIG. 4</figref>, the networking method includes:
<ul><li>401: Separately configure, according to a preset period, a CSMA time slot for at least two peripheral sites detected in a current period.</li><li>402: Generate a beacon frame, where the beacon frame carries the CSMA time slot and attribute information of the CSMA time slot, and the attribute information is used to indicate that the CSMA time slot is applicable to a to-be-added device requesting to be added to a corresponding peripheral site.</li><li>403: Send the beacon frame, so that the device to be added to the corresponding peripheral site is added, according to the attribute information, to the peripheral site by using a corresponding CSMA time slot.</li><li>404: Receive a notification packet used to indicate whether a newly added device exists and reported by the at least two peripheral sites detected in the current period, and set a peripheral site where a newly added device exists as a peripheral site to be detected in a next period.</li></ul></p><p id="p0032" num="0032">Specifically, an example of a networking process of a system for collecting power information is taken for description. <figref idrefs="f0003">FIG. 5</figref> is a network architecture diagram of a system for collecting power<!-- EPO <DP n="10"> --> information. As shown in <figref idrefs="f0003">FIG. 5</figref>, a concentrator, a repeater, collectors, and ammeters are included. The concentrator is located near a cell transformer, and communicates with the repeater and the collectors through power lines; the repeater is responsible for data forwarding; and a collector is located in an ammeter box, and communicates with an ammeter through an RS-485 line, so as to collect data from the ammeter. In the system for collecting power information, the concentrator corresponds to a concentrator in <figref idrefs="f0001">FIG. 1</figref>, the repeater corresponds to a level-1 site (that is, a proxy site) in <figref idrefs="f0001">FIG 1</figref>, the collector corresponds to a level-2 site (that is, a peripheral site) in <figref idrefs="f0001">FIG. 1</figref>, and the ammeter corresponds to a level-3 site in <figref idrefs="f0001">FIG. 1</figref>.</p><p id="p0033" num="0033">In a current networking process, in each beacon period, the concentrator arranges a beacon frame time slot of the concentrator, beacon frame time slots of all proxy sites, and a beacon frame time slot of at least one peripheral site through the beacon frame, and arranges a CSMA time slot shared by the whole network, so that after receiving the beacon frame, in the shared CSMA time slot, a site that is not added sends corresponding request information to the peripheral site through a power line, and a site of each level forwards the request information to the concentrator level by level; therefore, the concentrator knows a new site that requests to be added and implements site addition. In a next beacon period, the peripheral site is shifted in preset order. The number of sites that are not added under each peripheral site is generally not evenly distributed, for example, as shown in <figref idrefs="f0001">FIG 1</figref>, no site that is not added exists under a site 3, four sites that are not added exist under a site 4, and one site that is not added exists under a site 5. Therefore, when this manner is adopted, networking efficiency is low.</p><p id="p0034" num="0034">In the networking method in this embodiment, in each beacon period, the concentrator arranges a beacon frame time slot of the concentrator, beacon frame time slots of all proxy sites (when the number of proxy sites is large, beacon frame time slots of only a part of proxy sites may also be arranged in each period in a shifting manner), and a beacon frame time slot of at least one peripheral site (an example of two peripheral sites is taken for description in the following) through the beacon frame, and separately allocates a corresponding CSMA time slot for the two peripheral sites, so that when a site that is not added exists under both the two peripheral sites, one of sites that are not added under each of the two peripheral sites can successfully send request information by using a corresponding CSMA time slot, so that the concentrator can accurately know a specific peripheral site under which a site that is not added exists and a specific peripheral site under which no site that is not added exists, and continually arrange a beacon frame time slot and a corresponding CSMA time slot for the peripheral site where a site that is not added exists in a next beacon period.</p><p id="p0035" num="0035">That the concentrator provides different CSMA time slots for a site that is not added under different peripheral sites is implemented by carrying a CSMA time slot and an attribute relationship<!-- EPO <DP n="11"> --> corresponding to the CSMA time slot in the beacon frame, which is the same as the CSMA time slot providing method and the CSMA time slot obtaining method in the foregoing embodiments and is not repeatedly described herein. The attribute information is, for example, an identifier of a packet receiver, which matches with an identifier of a corresponding peripheral site.</p><p id="p0036" num="0036">According to the networking method in this embodiment, when allocating a CSMA time slot for a peripheral site, by carrying the attribute information of the CSMA time slot in the beacon frame, the concentrator implements allocating of different CSMA time slots for sites that are not added under different peripheral sites, so as to avoid occurrence of a collision because sites that are not added under a same peripheral site compete to use a same shared CSMA time slot and that the concentrator cannot accurately detect whether a site that is not added exists under each peripheral site. By continually allocating a corresponding time slot for a peripheral site where a site that is not added exists, which is known through detection, rapid access of a site that is not added is implemented, and networking efficiency is improved.</p><p id="p0037" num="0037"><figref idrefs="f0003">FIG. 6</figref> is a schematic structural diagram of a CSMA time slot providing device according to an embodiment of the present invention, and as shown in <figref idrefs="f0003">FIG. 6</figref>, the device includes:
<ul><li>a first generating module 61, configured to generate a beacon frame, where the beacon frame carries a CSMA time slot and attribute information used to identify an applicable device of the CSMA time slot; and</li><li>a first sending module 62, configured to send the beacon frame, and provide the CSMA time slot for the applicable device of the CSMA time slot, so that the applicable device of the CSMA time slot sends a packet by using the CSMA time slot.</li></ul></p><p id="p0038" num="0038">The CSMA time slot providing device in this embodiment is, for example, a concentrator in <figref idrefs="f0001">FIG 1</figref>, of which a CSMA time slot providing procedure is the same as the CSMA time slot providing method in the foregoing embodiment and is not repeatedly described herein.</p><p id="p0039" num="0039">According to the CSMA time slot providing device in the foregoing embodiment, because the CSMA time slot and the attribute information used to identify the applicable device of the CSMA time slot are carried in the beacon frame, only the applicable device of the CSMA time slot that is designated by the attribute information can send a packet by using the CSMA time slot, so as to implement designation of an applicable scope of the CSMA time slot when the CSMA time slot is allocated.</p><p id="p0040" num="0040">Furthermore, in the CSMA time slot providing device in the foregoing embodiment, at least two CSMA time slots and attribute information separately used to identify an applicable device of each CSMA time slot are carried in the beacon frame.</p><p id="p0041" num="0041">Furthermore, in the CSMA time slot providing device in the foregoing embodiment, the attribute information is an identifier or a group identifier of an applicable device of the CSMA time slot, or<!-- EPO <DP n="12"> --> an identifier of a packet receiver sending a packet by using the CSMA time slot.</p><heading id="h0009">Embodiment 5</heading><p id="p0042" num="0042"><figref idrefs="f0003">FIG. 7</figref> is a schematic structural diagram of a CSMA time slot obtaining device according to an embodiment of the present invention, and as shown in <figref idrefs="f0003">FIG. 7</figref>, the device includes:
<ul><li>a receiving module 71, configured to receive a beacon frame, where the beacon frame carries a CSMA time slot and attribute information used to identify an applicable device of the CSMA time slot; and</li><li>a parsing and obtaining module 72, configured to determine, according to the attribute information, whether itself belongs to the applicable device of the CSMA time slot, and if yes, obtain the CSMA time slot, so as to send a packet by using the CSMA time slot.</li></ul></p><p id="p0043" num="0043">The CSMA time slot obtaining device in this embodiment is, for example, sites 6 to 10 in <figref idrefs="f0001">FIG. 1</figref>, of which a CSMA time slot providing procedure is the same as the CSMA time slot providing method in the foregoing embodiment and is not repeatedly described herein.</p><p id="p0044" num="0044">According to the CSMA time slot obtaining device in the foregoing embodiment, because the CSMA time slot and the attribute information used to identify the applicable device of the CSMA time slot are carried in the beacon frame, when receiving the beacon frame, a device determines, according to the attribute information, whether itself can send a packet by using the CSMA time slot, so as to implement designation of an applicable scope of the CSMA time slot when the CSMA time slot is allocated.</p><p id="p0045" num="0045">Furthermore, in the CSMA time slot obtaining device in the foregoing embodiment, at least two CSMA time slots and at least two pieces of attribute information separately used to identify an applicable device of each CSMA time slot are carried in the beacon frame.</p><p id="p0046" num="0046">Correspondingly, the parsing and obtaining module is specifically configured to: separately determine, according to the at least two pieces of attribute information, whether itself belongs to an applicable device of any one of the at least two CSMA time slots, and if yes, obtain a corresponding CSMA time slot, so as to send a packet by using the corresponding CSMA time slot.</p><p id="p0047" num="0047">Furthermore, in the CSMA time slot obtaining device in the foregoing embodiment, the attribute information includes an identifier or a group identifier of an applicable device of the CSMA time slot, or an identifier of a packet receiver sending a packet by using the CSMA time slot.</p><heading id="h0010">Embodiment 6</heading><p id="p0048" num="0048"><figref idrefs="f0004">FIG 8</figref> is a schematic structural diagram of a networking device according to an embodiment of the present invention, and as shown in <figref idrefs="f0004">FIG. 8</figref>, the device includes:<!-- EPO <DP n="13"> -->
<ul><li>a time slot configuring module 81, configured to separately configure, according to a preset period, a CSMA time slot for at least two peripheral sites detected in a current period;</li><li>a second generating module 82, configured to generate a beacon frame, where the beacon frame carries the CSMA time slot and attribute information of the CSMA time slot, and the attribute information is used to indicate that the CSMA time slot is applicable to a to-be-added device requesting to be added to a corresponding peripheral site;</li><li>a second sending module 83, configured to send the beacon frame, so that the device to be added to the corresponding peripheral site is added, according to the attribute information, to the peripheral site by using a corresponding CSMA time slot; and</li><li>a site configuring module 84, configured to receive a notification packet used to indicate whether a newly added device exists and reported by the at least two peripheral sites detected in the current period, and set a peripheral site where a newly added device exists as a peripheral site to be detected in a next period.</li></ul></p><p id="p0049" num="0049">A networking procedure performed by the networking device in this embodiment is the same as the networking method in the foregoing embodiment, which is not repeatedly described herein.</p><p id="p0050" num="0050">According to the networking device in this embodiment, when allocating a CSMA time slot for a peripheral site, by carrying the attribute information of the CSMA time slot in the beacon frame, a concentrator implements allocating of different CSMA time slots for sites that are not added under different peripheral sites, so as to avoid occurrence of a collision because sites that are not added under a same peripheral site compete to use a same shared CSMA time slot and that the concentrator cannot accurately detect whether a site that is not added exists under each peripheral site. By continually allocating a corresponding time slot for a peripheral site where a site that is not added exists, which is known through detection, rapid access of a site that is not added is implemented, and networking efficiency is improved.</p><p id="p0051" num="0051">Furthermore, in the networking device in the foregoing embodiment, the attribute information includes an identifier of a packet receiver, which matches with an identifier of a corresponding peripheral site.</p><heading id="h0011"><b>Embodiment 7</b></heading><p id="p0052" num="0052"><figref idrefs="f0004">FIG 9</figref> is a system architecture diagram of a communication system according to an embodiment of the present invention. As shown in <figref idrefs="f0004">FIG. 9</figref>, the communication system includes a CSMA time slot providing device 91 in the foregoing embodiment and a CSMA time slot obtaining device 92 in the foregoing embodiment.</p><p id="p0053" num="0053">In the communication system in this embodiment, a CSMA time slot providing procedure and a<!-- EPO <DP n="14"> --> CSMA time slot obtaining procedure are the same as the working procedures of the CSMA time slot providing device and the CSMA time slot obtaining device in the foregoing embodiments, and are not repeatedly described herein.</p><p id="p0054" num="0054">According to the communication system in this embodiment, because the CSMA time slot and the attribute information used to identify the applicable device of the CSMA time slot are carried in the beacon frame, only the applicable device of the CSMA time slot that is designated by the attribute information can send a packet by using the CSMA time slot, so as to implement designation of an applicable scope of the CSMA time slot when the CSMA time slot is allocated.</p><p id="p0055" num="0055">Finally, it should be noted that the foregoing embodiments are merely intended for describing the technical solutions of the present invention rather than limiting the present invention. Although the present invention is described in detail with reference to the foregoing embodiments, persons of ordinary skill in the art should understand that they may still make modifications to the technical solutions described in the foregoing embodiments or make equivalent replacements to part of the technical features of the technical solutions described in the foregoing embodiments; however, these modifications or replacements do not make the essence of the corresponding technical solutions depart from the scope of the technical solutions of the embodiments of the present invention.</p></description><claims mxw-id="PCLM56976203" lang="EN" load-source="patent-office"><!-- EPO <DP n="15"> --><claim id="c-en-0001" num="0001"><claim-text>A carrier sense multiple access, CSMA, time slot providing method, comprising:
<claim-text>generating a beacon frame, wherein the beacon frame carries a CSMA time slot and attribute information used to identify an applicable device of the CSMA time slot; and</claim-text>
<claim-text>sending the beacon frame, and providing the CSMA time slot for the applicable device, so that the applicable device sends a packet by using the CSMA time slot.</claim-text></claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>The CSMA time slot providing method according to claim 1, wherein the beacon frame carries at least two CSMA time slots and attribute information separately used to identify an applicable device of each CSMA time slot.</claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>The CSMA time slot providing method according to claim 1 or 2, wherein the attribute information is an identifier or a group identifier of the applicable device of the CSMA time slot, or an identifier of a packet receiver sending a packet by using the CSMA time slot.</claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>A CSMA time slot obtaining method, comprising:
<claim-text>receiving a beacon frame, wherein the beacon frame carries a CSMA time slot and attribute information used to identify an applicable device of the CSMA time slot; and</claim-text>
<claim-text>parsing the beacon frame, and determining, according to the attribute information, whether itself belongs to the applicable device, and if yes, obtaining the CSMA time slot, so as to send a packet by using the CSMA time slot.</claim-text></claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>The CSMA time slot obtaining method according to claim 4, wherein the beacon frame carries at least two CSMA time slots and at least two pieces of attribute information separately used to identify an applicable device of each CSMA time slot; and<br/>
correspondingly, the determining, according to the attribute information, whether itself belongs to the applicable device of the CSMA time slot, and if yes, obtaining the CSMA time slot, so as to send a packet by using the CSMA time slot specifically comprises:
<claim-text>separately determining, according to the at least two pieces of attribute information, whether itself belongs to an applicable device of any one of the at least two CSMA time slots, and if yes, obtaining a corresponding CSMA time slot, so as to send a packet by using the corresponding CSMA time slot.</claim-text></claim-text></claim><claim id="c-en-0006" num="0006"><claim-text>The CSMA time slot obtaining method according to claim 4 or 5, wherein the attribute information comprises an identifier or a group identifier of the applicable device of the CSMA time slot, or an identifier of a packet receiver sending a packet by using the CSMA time slot.</claim-text></claim><claim id="c-en-0007" num="0007"><claim-text>A CSMA time slot providing device, comprising:
<claim-text>a first generating module, configured to generate a beacon frame, wherein the beacon frame<!-- EPO <DP n="16"> --> carries a CSMA time slot and attribute information used to identify an applicable device of the CSMA time slot; and</claim-text>
<claim-text>a first sending module, configured to send the beacon frame, and provide the CSMA time slot for the applicable device, so that the applicable device sends a packet by using the CSMA time slot.</claim-text></claim-text></claim><claim id="c-en-0008" num="0008"><claim-text>The CSMA time slot providing device according to claim 7, wherein the beacon frame carries at least two CSMA time slots and attribute information separately used to identify an applicable device of each CSMA time slot.</claim-text></claim><claim id="c-en-0009" num="0009"><claim-text>The CSMA time slot providing device according to claim 7 or 8, wherein the attribute information is an identifier or a group identifier of the applicable device of the CSMA time slot, or an identifier of a packet receiver sending a packet by using the CSMA time slot.</claim-text></claim><claim id="c-en-0010" num="0010"><claim-text>A CSMA time slot obtaining device, comprising:
<claim-text>a receiving module, configured to receive a beacon frame, wherein the beacon frame carries a CSMA time slot and attribute information used to identify an applicable device of the CSMA time slot; and</claim-text>
<claim-text>a parsing and obtaining module, configured to determine, according to the attribute information, whether itself belongs to the applicable device, and if yes, obtain the CSMA time slot, so as to send a packet by using the CSMA time slot.</claim-text></claim-text></claim><claim id="c-en-0011" num="0011"><claim-text>The CSMA time slot obtaining device according to claim 10, wherein the beacon frame carries at least two CSMA time slots and at least two pieces of attribute information separately used to identify an applicable device of each CSMA time slot; and<br/>
correspondingly, the parsing and obtaining module is specifically configured to: separately determine, according to the at least two pieces of attribute information, whether itself belongs to an applicable device of any one of the at least two CSMA time slots, and if yes, obtain a corresponding CSMA time slot, so as to send a packet by using the corresponding CSMA time slot.</claim-text></claim><claim id="c-en-0012" num="0012"><claim-text>The CSMA time slot obtaining device according to claim 10 or 11, wherein the attribute information comprises an identifier or a group identifier of the applicable device of the CSMA time slot, or an identifier of a packet receiver sending a packet by using the CSMA time slot.</claim-text></claim><claim id="c-en-0013" num="0013"><claim-text>A networking method, comprising:
<claim-text>separately configuring, according to a preset period, a CSMA time slot for at least two peripheral sites detected in a current period;</claim-text>
<claim-text>generating a beacon frame, wherein the beacon frame carries the CSMA time slot and attribute information of the CSMA time slot, and the attribute information is used to indicate that the CSMA time slot is applicable to a to-be-added device requesting to be added to a corresponding peripheral site;</claim-text>
<claim-text>sending the beacon frame, so that the device to be added to the corresponding peripheral site is<!-- EPO <DP n="17"> --> added, according to the attribute information, to the peripheral site by using a corresponding CSMA time slot; and</claim-text>
<claim-text>receiving a notification packet used to indicate whether a newly added device exists and reported by the at least two peripheral sites detected in the current period, and setting a peripheral site where a newly added device exists as a peripheral site to be detected in a next period.</claim-text></claim-text></claim><claim id="c-en-0014" num="0014"><claim-text>The networking method according to claim 13, wherein the attribute information comprises an identifier of a packet receiver, which matches with an identifier of a corresponding peripheral site.</claim-text></claim><claim id="c-en-0015" num="0015"><claim-text>A networking device, comprising:
<claim-text>a time slot configuring module, configured to separately configure, according to a preset period, a CSMA time slot for at least two peripheral sites detected in a current period;</claim-text>
<claim-text>a second generating module, configured to generate a beacon frame, wherein the beacon frame carries the CSMA time slot and attribute information of the CSMA time slot, and the attribute information is used to indicate that the CSMA time slot is applicable to a to-be-added device requesting to be added to a corresponding peripheral site;</claim-text>
<claim-text>a second sending module, configured to send the beacon frame, so that the device to be added to the corresponding peripheral site is added, according to the attribute information, to the peripheral site by using a corresponding CSMA time slot; and</claim-text>
<claim-text>a site configuring module, configured to receive a notification packet used to indicate whether a newly added device exists and reported by the at least two peripheral sites detected in the current period, and set a peripheral site where a newly added device exists as a peripheral site to be detected in a next period.</claim-text></claim-text></claim><claim id="c-en-0016" num="0016"><claim-text>The networking device according to claim 15, wherein the attribute information comprises an identifier of a packet receiver, which matches with an identifier of a corresponding peripheral site.</claim-text></claim><claim id="c-en-0017" num="0017"><claim-text>A communication system, comprising the CSMA time slot providing device according to any one of claims 7 to 9, and the CSMA time slot obtaining device according to any one of claims 10 to 12.</claim-text></claim></claims><drawings mxw-id="PDW16666985" load-source="patent-office"><!-- EPO <DP n="18"> --><figure id="f0001" num="1,2"><img id="if0001" file="imgf0001.tif" wi="165" he="183" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="19"> --><figure id="f0002" num="3,4"><img id="if0002" file="imgf0002.tif" wi="165" he="232" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="20"> --><figure id="f0003" num="5,6,7"><img id="if0003" file="imgf0003.tif" wi="136" he="220" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="21"> --><figure id="f0004" num="8,9"><img id="if0004" file="imgf0004.tif" wi="147" he="162" img-content="drawing" img-format="tif"/></figure></drawings><search-report-data><doc-page id="srep0001" file="srep0001.tif" wi="156" he="233" type="tif"/><doc-page id="srep0002" file="srep0002.tif" wi="158" he="233" type="tif"/></search-report-data><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
