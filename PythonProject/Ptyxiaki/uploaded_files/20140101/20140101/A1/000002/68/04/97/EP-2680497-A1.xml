<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2680497-A1" country="EP" doc-number="2680497" kind="A1" date="20140101" family-id="48914039" file-reference-id="318320" date-produced="20180824" status="corrected" lang="DE"><bibliographic-data><publication-reference fvid="146549191" ucid="EP-2680497-A1"><document-id><country>EP</country><doc-number>2680497</doc-number><kind>A1</kind><date>20140101</date><lang>DE</lang></document-id></publication-reference><application-reference ucid="EP-13075045-A" is-representative="NO"><document-id mxw-id="PAPP154823114" load-source="docdb" format="epo"><country>EP</country><doc-number>13075045</doc-number><kind>A</kind><date>20130628</date><lang>DE</lang></document-id><document-id mxw-id="PAPP226229714" load-source="docdb" format="original"><country>EP</country><doc-number>13075045.8</doc-number><date>20130628</date></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140449920" ucid="DE-102012105698-A" load-source="docdb"><document-id format="epo"><country>DE</country><doc-number>102012105698</doc-number><kind>A</kind><date>20120628</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-2145967164" load-source="docdb">H04L  12/28        20060101AFI20141006BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-2145972316" load-source="docdb">H04L  29/06        20060101ALI20141006BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL1988097780" load-source="docdb" scheme="CPC">H04L  63/0876      20130101 LI20131209BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988098676" load-source="docdb" scheme="CPC">H04L  69/16        20130101 LI20131209BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988101300" load-source="docdb" scheme="CPC">H04L  12/2825      20130101 LI20131002BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988115926" load-source="docdb" scheme="CPC">H04L  63/0272      20130101 FI20131209BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988123097" load-source="docdb" scheme="CPC">H04L  12/2834      20130101 LI20131002BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988137323" load-source="docdb" scheme="CPC">H04L  12/2818      20130101 LI20131002BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132180057" lang="DE" load-source="patent-office">Externer Zugriff auf IP-basierte Haussteuereinheit in lokalem Netzwerk</invention-title><invention-title mxw-id="PT132180058" lang="EN" load-source="patent-office">External access to IP-based house control unit in a local network</invention-title><invention-title mxw-id="PT132180059" lang="FR" load-source="patent-office">Accès externe à une unité de commande domestique basée sur IP dans un réseau local</invention-title><citations><patent-citations><patcit mxw-id="PCIT242652047" load-source="docdb" ucid="DE-102009060469-A1"><document-id format="epo"><country>DE</country><doc-number>102009060469</doc-number><kind>A1</kind><date>20110630</date></document-id><sources><source name="APP" created-by-npl="N"/><source name="SEA" category="AD" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT242652043" load-source="docdb" ucid="EP-1575230-A1"><document-id format="epo"><country>EP</country><doc-number>1575230</doc-number><kind>A1</kind><date>20050914</date></document-id><sources><source name="SEA" category="A" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT242652044" load-source="docdb" ucid="EP-1978678-A1"><document-id format="epo"><country>EP</country><doc-number>1978678</doc-number><kind>A1</kind><date>20081008</date></document-id><sources><source name="SEA" category="A" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT242652045" load-source="docdb" ucid="WO-2011053040-A2"><document-id format="epo"><country>WO</country><doc-number>2011053040</doc-number><kind>A2</kind><date>20110505</date></document-id><sources><source name="APP" created-by-npl="N"/></sources></patcit></patent-citations></citations></technical-data><parties><applicants><applicant mxw-id="PPAR918132874" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>DEUTSCHE TELEKOM AG</last-name><address><country>DE</country></address></addressbook></applicant><applicant mxw-id="PPAR918135250" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>DEUTSCHE TELEKOM AG</last-name></addressbook></applicant><applicant mxw-id="PPAR918986324" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Deutsche Telekom AG</last-name><iid>100109692</iid><address><street>Friedrich-Ebert-Allee 140</street><city>53113 Bonn</city><country>DE</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR941138477" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>KRAFT ANDREAS</last-name><address><country>DE</country></address></addressbook></inventor><inventor mxw-id="PPAR941138478" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>KRAFT, ANDREAS</last-name></addressbook></inventor><inventor mxw-id="PPAR918993889" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Die Erfindernennung liegt noch nicht vor</last-name></addressbook></inventor><inventor mxw-id="PPAR941138483" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>GORGAS DAGMAR</last-name><address><country>DE</country></address></addressbook></inventor><inventor mxw-id="PPAR941138484" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>GORGAS, DAGMAR</last-name></addressbook></inventor><inventor mxw-id="PPAR955536292" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>HELMUT VIVIEN</last-name><address><country>DE</country></address></addressbook></inventor><inventor mxw-id="PPAR952897164" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>HELMUT, VIVIEN</last-name></addressbook></inventor><inventor mxw-id="PPAR941138481" load-source="docdb" sequence="4" format="epo"><addressbook><last-name>SAYEGH ANDREAS</last-name><address><country>DE</country></address></addressbook></inventor><inventor mxw-id="PPAR941138482" load-source="docdb" sequence="4" format="intermediate"><addressbook><last-name>SAYEGH, ANDREAS</last-name></addressbook></inventor><inventor mxw-id="PPAR941138479" load-source="docdb" sequence="5" format="epo"><addressbook><last-name>MERRALL SIMON</last-name><address><country>DE</country></address></addressbook></inventor><inventor mxw-id="PPAR941138480" load-source="docdb" sequence="5" format="intermediate"><addressbook><last-name>MERRALL, SIMON</last-name></addressbook></inventor></inventors><agents><agent mxw-id="PPAR918991638" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Brandt, Detlef</last-name><iid>101366817</iid><address><street>BRANDT &amp; NERN PATENTANWÄLTE Meisenstrasse 96</street><city>33607 Bielefeld</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><designated-states><ep-contracting-states><country mxw-id="DS548848265" load-source="docdb">AL</country><country mxw-id="DS548837431" load-source="docdb">AT</country><country mxw-id="DS548848267" load-source="docdb">BE</country><country mxw-id="DS548868248" load-source="docdb">BG</country><country mxw-id="DS548854239" load-source="docdb">CH</country><country mxw-id="DS548803226" load-source="docdb">CY</country><country mxw-id="DS548837432" load-source="docdb">CZ</country><country mxw-id="DS548854629" load-source="docdb">DE</country><country mxw-id="DS548848268" load-source="docdb">DK</country><country mxw-id="DS548803227" load-source="docdb">EE</country><country mxw-id="DS548801801" load-source="docdb">ES</country><country mxw-id="DS548868249" load-source="docdb">FI</country><country mxw-id="DS548868250" load-source="docdb">FR</country><country mxw-id="DS548848269" load-source="docdb">GB</country><country mxw-id="DS548848270" load-source="docdb">GR</country><country mxw-id="DS548848271" load-source="docdb">HR</country><country mxw-id="DS548803228" load-source="docdb">HU</country><country mxw-id="DS548854240" load-source="docdb">IE</country><country mxw-id="DS548848272" load-source="docdb">IS</country><country mxw-id="DS548868251" load-source="docdb">IT</country><country mxw-id="DS548803229" load-source="docdb">LI</country><country mxw-id="DS548854630" load-source="docdb">LT</country><country mxw-id="DS548837433" load-source="docdb">LU</country><country mxw-id="DS548854631" load-source="docdb">LV</country><country mxw-id="DS548854632" load-source="docdb">MC</country><country mxw-id="DS548848542" load-source="docdb">MK</country><country mxw-id="DS548848543" load-source="docdb">MT</country><country mxw-id="DS548837434" load-source="docdb">NL</country><country mxw-id="DS548801806" load-source="docdb">NO</country><country mxw-id="DS548837435" load-source="docdb">PL</country><country mxw-id="DS548801807" load-source="docdb">PT</country><country mxw-id="DS548837436" load-source="docdb">RO</country><country mxw-id="DS548854634" load-source="docdb">RS</country><country mxw-id="DS548837437" load-source="docdb">SE</country><country mxw-id="DS548854635" load-source="docdb">SI</country><country mxw-id="DS548854241" load-source="docdb">SK</country><country mxw-id="DS548854242" load-source="docdb">SM</country><country mxw-id="DS548848544" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA128669861" lang="DE" load-source="patent-office"><p id="pa01" num="0001">Es wird eine Lösung für einen externen Zugriff auf eine in einem IP-basierten lokalen Netzwerk (2) angeordnete Haussteuereinheit (1) vorgestellt. Der Zugriff auf die Haussteuereinheit (1) wird dabei über einen zentralen Server (5) ermöglicht, der in einem öffentlichen Netz (4) angeordnet ist, wobei das lokale Netzwerk (2) mit dem öffentlichen Netz (4) über eine Zugangseinrichtung (3) verbunden ist. Gemäß der hierzu vorgeschlagenen Lösung wird durch die Haussteuereinheit (1) zyklisch über die Zugangseinrichtung (3) und eine über diese bestehende permanente Verbindung in das öffentliche Netz (4) eine Präsenznachricht an den Server (5) des öffentlichen Netzes (4) übermittelt. Diese Präsenznachricht enthält zumindest ein die Hausteuereinheit (1) eindeutig kennzeichnendes Identifikationsmerkmal. Ferner wird durch die Haussteuereinheit (1) aufgrund einer von dem Server (5) über die zur Übertragung der Präsenznachricht bereits bestehende Verbindung empfangenen Verbindungsaufforderung zur Übertragung von Statusinformationen und/oder zum Empfang von Befehlen eine Tunnelverbindung zu dem Server (5) aufbaut.
<img id="iaf01" file="imgaf001.tif" wi="78" he="110" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA128499234" lang="DE" source="EPO" load-source="docdb"><p>Es wird eine Lösung für einen externen Zugriff auf eine in einem IP-basierten lokalen Netzwerk (2) angeordnete Haussteuereinheit (1) vorgestellt. Der Zugriff auf die Haussteuereinheit (1) wird dabei über einen zentralen Server (5) ermöglicht, der in einem öffentlichen Netz (4) angeordnet ist, wobei das lokale Netzwerk (2) mit dem öffentlichen Netz (4) über eine Zugangseinrichtung (3) verbunden ist. Gemäß der hierzu vorgeschlagenen Lösung wird durch die Haussteuereinheit (1) zyklisch über die Zugangseinrichtung (3) und eine über diese bestehende permanente Verbindung in das öffentliche Netz (4) eine Präsenznachricht an den Server (5) des öffentlichen Netzes (4) übermittelt. Diese Präsenznachricht enthält zumindest ein die Hausteuereinheit (1) eindeutig kennzeichnendes Identifikationsmerkmal. Ferner wird durch die Haussteuereinheit (1) aufgrund einer von dem Server (5) über die zur Übertragung der Präsenznachricht bereits bestehende Verbindung empfangenen Verbindungsaufforderung zur Übertragung von Statusinformationen und/oder zum Empfang von Befehlen eine Tunnelverbindung zu dem Server (5) aufbaut.</p></abstract><abstract mxw-id="PA132825756" lang="EN" source="transcript" load-source="docdb"><p>The method involves providing access to a home control unit (1) through a central server (5) that is provided in a public network (4). A local network (2) is connected to the public network through an access device (3). A presence message is transmitted to server of public network through the access device and connection to the public network. The presence message is provided with distinctive identification feature based on transmitted status information and/or received instructions by the home control unit through the server of the public network. An independent claim is included for an arrangement in internet protocol (IP) based local network.</p></abstract><description mxw-id="PDES63955291" lang="DE" load-source="patent-office"><!-- EPO <DP n="1"> --><p id="p0001" num="0001">Die Erfindung betrifft eine Lösung, die es ermöglicht, von externer Seite auf eine Haussteuereinheit zuzugreifen, welche in einem lokalen Netzwerk hinter einer Zugangseinrichtung zu einem öffentlichen Netz, beispielsweise einem Router für den Zugang zum Internet, angeordnet ist. Sie bezieht sich auf die Möglichkeit eines zeitlich durchgehenden Zugriffs auf eine entsprechende Haussteuereinheit, um über diese elektronische Einheiten und Geräte der Haustechnik mittels externer, das heißt selber nicht zu dem lokalen Netz mit der Haussteuereinheit gehörender Einrichtungen zu steuern und/oder deren Betriebszustände in Form von Statusinformationen abzufragen. Die Erfindung hat ein dies ermöglichendes Verfahren und eine entsprechende Anordnung zum Gegenstand.</p><p id="p0002" num="0002">Seit einiger Zeit vollzieht sich eine Entwicklung, die darauf gerichtet ist, Haus-und Gebäudetechnik als Teil lokaler Netzwerke von entfernter Stelle, das heißt von externer Seite, steuern zu können. Hierfür beispielhaft genannt seien die Möglichkeiten der Steuerung von Rollläden oder von Geräten der Unterhaltungstechnik von unterwegs durch die Mieter einer entsprechend ausgestatteten Wohnung beziehungsweise durch die Bewohner eines Hauses. Derartige Möglichkeiten tragen sowohl dem Wunsch nach Komforterhöhung als auch den Sicherheitsbedürfnissen der Menschen Rechnung, setzen aber in jedem Falle voraus, dass zumindest die IP-Adresse des Routers bekannt sein muss, über welchen entsprechende Einheiten und Geräte der Haustechnik an das Internet angebunden sind, um diese steuern oder Statusangaben von ihnen abfragen zu können.</p><p id="p0003" num="0003">Innerhalb (privater) lokaler Netzwerke (LAN) hat in der Regel jede in ein solches LAN eingebundene Einheit eine private IP-Adresse. Bei privaten IP-Adressen handelt es sich um spezielle Adressbereiche in dem zur Verfügung stehenden IP-Adressraum, die ausschließlich für die Nutzung in lokalen Netzwerken vorgesehen sind und in öffentlichen Netzen, wie dem Internet, nicht verwendet werden.<!-- EPO <DP n="2"> --> Für Einrichtungen und Einheiten öffentlicher Netze tritt ein lokales Netzwerk lediglich über eine der Zugangseinrichtung zum öffentlichen Netz zugeteilte öffentliche IP-Adresse in Erscheinung. Die privaten IP-Adressen der in dem lokalen Netzwerk angeordneten Einheiten und Geräte sind hingegen den Einrichtungen des öffentlichen Netzes, also insbesondere des Internets, nicht bekannt. In den weiteren Erläuterungen wird bezüglich der Zugangseinrichtung zum öffentlichen Netz im Allgemeinen von einem Router ausgegangen, ohne dass die Gegenstände der Patentansprüche hierdurch in entsprechender Weise beschränkt wären, wobei die insoweit zu dem Router getroffenen Aussagen entsprechend für Zugangseinrichtungen allgemein gelten. Betreffend das öffentliche Netz wird in den weiteren Darstellungen, ebenfalls ohne Beschränkung der mit den Patentansprüchen beanspruchten Gegenstände, im Allgemeinen vom Internet ausgegangen, wobei die zum Internet getroffenen Aussagen adäquat für öffentliche IP-basierte Netze allgemein gelten.</p><p id="p0004" num="0004">Um einem IP-basierten Gerät den Zugang zum Internet zu ermöglichen, wird dessen innerhalb des lokalen Netzwerks gültige private IP-Adresse unter Nutzung des NAT-Mechanismus (Network Address Translation) von dem für den Internetzugang genutzten Router gewissermaßen in eine öffentliche Adresse übersetzt. Der Router führt hierzu eine interne Tabelle, mittels welcher für ein Gerät des lokalen Netzwerks bestimmte Datenpakete aus dem Internet, also Antwortdaten, dem für ihren Empfang vorgesehenen Gerät auf dessen private Adresse durch den Router zugeleitet werden.</p><p id="p0005" num="0005">Allerdings besteht das Problem, dass den meisten für den Internetzugang genutzten Routern lediglich eine dynamische, das heißt eine temporär gültige, sich gegebenenfalls ändernde IP-Adresse für das öffentliche Netz zugeordnet wird. So erfolgt in der Regel zumindest bei Privathaushalten eine regelmäßige Zwangstrennung der dauerhaften DSL-Verbindung ins Internet, mit der Folge, dass dem Router gegebenenfalls nach dem Wiederaufbau der DSL-Verbindung zumeist eine neue öffentliche IP-Adresse zugeordnet wird. Wegen der sich gegebenenfalls ändernden öffentlichen IP-Adresse, über welche ein lokales Netzwerk<!-- EPO <DP n="3"> --> im Internet in Erscheinung tritt, ist es nicht ohne Weiteres möglich, von externer Seite, beispielsweise mittels eines dafür vorgesehenen Servers eines Dienstleisters, auf Einheiten oder Geräte in einem lokalen Netzwerk zuzugreifen.</p><p id="p0006" num="0006">Eine mögliche Lösung für das Problem der sich dynamisch ändernden IP-Adressen bietet das dynamische DNS. Hierbei handelt es sich bekanntermaßen um einen Dienst, durch welchen auf einem Server in einer Tabelle für einen festen Host- beziehungsweise Netzwerknamen, die so genannte DynDNS-Adresse, die dem betreffenden Host beziehungsweise dem Netzwerk jeweils aktuell zugeordnete öffentliche IP-Adresse verwaltet wird. Der Router, über den ein lokales Netzwerk an das Internet angebunden ist, meldet dazu nach einer Zwangstrennung und der erneuten Herstellung einer Verbindung zum Internet die ihm aktuell zugeteilte öffentliche IP-Adresse an den vorgenannten Server (DynDNS-Server) des dynamischen DNS-Dienstes. Soll nun der betreffende Router beziehungsweise das von ihm verwaltete lokale Netzwerk von externer Seite angesprochen werden, so muss eine Einrichtung, mittels welcher der Zugriff auf das lokale Netzwerk über das Internet erfolgen soll, zunächst die aktuelle öffentliche IP-Adresse des lokalen Netzwerkes mittels dessen bekannter DynDNS-Adresse bei dem DynDNS-Server abfragen. Erst dann ist mittels der durch die Abfrage erhaltenen IP-Adresse der Zugriff auf das lokale Netzwerk ermöglicht. Ein Nachteil dieser Lösung ist dabei auch darin zu sehen, dass der Betreiber eines lokalen Netzwerks sich zunächst bei dem die DynDNS-Adressen verwaltenden Dienstbetreiber anmelden und dabei diesem, also einem Dritten, den Host- beziehungsweise Netzwerknamen seines lokalen, das heißt privaten Netzwerks bekanntgeben muss.</p><p id="p0007" num="0007">Als weitere Möglichkeit für die Ansteuerung von Komponenten in einem lokalen Netzwerk von externer Stelle ist das UPnP-Protokoll (Universal Plug'n Play) bekannt geworden. Allerdings setzt dieses Protokoll voraus, dass die genutzten Geräte, wie insbesondere Router lokaler Netzwerke, zur Verwendung dieses Protokolls ausgebildet sind beziehungsweise dieses unterstützen. Zwar ist eine Unterstützung des UPnP-Protokolls inzwischen durch viele Router gewährleistet,<!-- EPO <DP n="4"> --> jedoch wird eine entsprechende Option in den Konfigurationseinstellungen des Routers aus Sicherheitsgründen von den Herstellern der Router meistens standardmäßig deaktiviert. Auch hierbei muss demnach der Nutzer eines Routers diesen entsprechend konfigurieren, um zumindest die Nutzung des UPnP-Protokolls ausdrücklich zu aktivieren. Sofern dabei Statusinformationen von Einheiten des lokalen Netzwerks, wie beispielsweise von einer Haussteuereinheit, nur auf Abfrage hin an eine externe Stelle übermittelt oder von einer solchen nur Befehle empfangen werden, so dass die Verbindung in jedem Falle durch die externe Stelle aufgebaut wird, muss der Nutzer zudem den Router so konfigurieren, dass dieser die betreffende Verbindung unter Nutzung des NAT im Wege des Portforwarding der jeweiligen Einheit im lokalen Netzwerk, also beispielsweise der Haussteuereinheit zuleiten kann. Jedoch ist festzustellen, dass der durchschnittliche Nutzer häufig nicht über die erforderlichen Kenntnisse für die dazu erforderliche Konfigurierung des jeweils von ihm verwendeten Routers verfügt oder sich zumindest hiermit nicht beschäftigen möchte.</p><p id="p0008" num="0008">Durch die <patcit id="pcit0001" dnum="DE102009060469A1"><text>DE 10 2009 060 469 A1</text></patcit> wird eine Lösung für den externen Zugriff auf eine in der Schrift als Hausautomatisierungsserver bezeichnete Haussteuereinheit beschrieben, nach welcher der Zugriff auf die Haussteuereinheit über einen zentralen, in das Internet und damit in ein öffentliches Netz eingebundenen Konfigurationsserver ermöglicht wird. Die Kommunikation zwischen der Haussteuereinheit und dem zentralen Konfigurationsserver wird gemäß der in der genannten Druckschrift beschriebenen Lösung über eine zwischen diesen Einheiten dauerhaft bestehende Tunnelverbindung gewährleistet. Die entsprechende Tunnelverbindung wird dabei aufgebaut, sobald die Haussteuereinheit mit einem Router verbunden wird, über welchen die Haussteuereinheit beziehungsweise ein diese umfassendes lokales nicht öffentliches Netzwerk (LAN) mit dem öffentlichen Internet verbunden wird. Allerdings haftet der beschrieben Lösung der Nachteil an, dass eine entsprechende Tunnelverbindung in vergleichsweise hohem Maße Netzressourcen, vor allem aber Ressource eines gegebenenfalls mehrerer solcher Tunnelverbindungen haltenden Servers bindet. Dies gilt insbesondere dann, wenn die Tunnelverbindung(en), wie gemäß der in der <patcit id="pcit0002" dnum="DE102009060469A1"><text>DE 10 2009 060 469 A1</text></patcit><!-- EPO <DP n="5"> --> beschriebenen Lösung vorgesehen, dauerhaft besteht (bestehen). Darüber hinaus ist der Schrift nicht zu entnehmen, wie ein ständiger externer Zugriff des zentralen Konfigurationsservers auch dann gewährleistet wird, wenn es zu einer Unterbrechung der Tunnelverbindung kommen sollte. Insoweit ist wohl davon auszugehen, dass in einem solchen Falle ein erneuter Aufbau einer Tunnelverbindung seitens der Haussteuereinheit oder eines diese umfassenden lokalen Netzwerks beziehungsweise durch deren Betreiber, zum Beispiel durch Trennung der Haussteuereinheit von dem Router und erneutes Verbinden mit dem Router, veranlasst werden muss.</p><p id="p0009" num="0009">Eine Möglichkeit des externen Zugriffs auf ein lokales Netzwerk, wie beispielsweise ein eine Haussteuereinheit umfassendes Heimnetzwerk, wird ferner durch die <patcit id="pcit0003" dnum="WO2011053040A1"><text>W02011/053 040 A1</text></patcit> beschrieben. Gemäß der in dieser Schrift beschriebenen Lösung erfolgt der Zugriff auf das lokale Netzwerk explizit, das heißt zwingend unter Nutzung der Tunneltechnologie IPsec. Hierbei werden der NAT-Router des lokalen Netzwerks durchtunnelt und Ressourcen des privaten Netzwerks über ein zentrales Tunnelgateway verfügbar gemacht. Allerdings setzen auch der Umgang mit dieser Tunneltechnik und den entsprechenden an der Verbindung beteiligten Einrichtungen Kenntnisse voraus die beim Durchschnittsanwender häufig nicht oder nur unzureichend vorhanden sind.</p><p id="p0010" num="0010">Aufgabe der Erfindung ist es, eine Lösung zu schaffen, welche die vorgenannten Nachteile überwindet und eine durchgehend gewährleistete externe Erreichbarkeit einer Haussteuereinheit in einem lokalen Netzwerk ermöglicht, ohne dass der Nutzer dieser Lösung, nämlich der Betreiber des lokalen Netzwerks mit der Haussteuereinheit, die betreffende Haussteuereinheit und/oder die für die Verbindung mit dem öffentlichen Netz verwendete Zugangseinrichtung speziell für diesen Zweck konfigurieren muss. Die bereitzustellende Lösung soll zudem ressourcenschonend in Bezug auf die Beanspruchung von Netzressourcen ausgebildet sein. Hierfür sind ein Verfahren und eine zur Durchführung des Verfahrens geeignete Anordnung anzugeben.<!-- EPO <DP n="6"> --></p><p id="p0011" num="0011">Die Aufgabe wird durch ein Verfahren mit den Merkmalen des Patentanspruchs 1 gelöst. Eine die Aufgabe lösende Anordnung ist durch den ersten Sachanspruch charakterisiert. Vorteilhafte Aus- beziehungsweise Weiterbildungen der Erfindung sind durch die jeweiligen Unteransprüche gegeben.</p><p id="p0012" num="0012">Das zur Lösung der Aufgabe vorgeschlagene Verfahren ermöglicht es, auf eine in einem IP-basierten lokalen Netzwerk angeordnete Haussteuereinheit zum Erhalt von Statusinformationen oder zu deren Anforderung und/oder zum Zweck der Übertragung von Befehlen, beispielsweise zur Steuerung mit der Haussteuereinheit betriebener elektronischer Hauseinrichtungen oder zur Konfiguration der Haussteuereinheit trotz sich gegebenenfalls ändernder IP-Adressen des lokalen Netzwerks von externer Stelle zuzugreifen. Entsprechendes gilt für das extern veranlasste Aufspielen neuer Firmware auf die Haussteuereinheit. Der Zugriff auf die Haussteuereinheit wird über einen zentralen Server ermöglicht, der in einem öffentlichen Netz angeordnet ist und zu dem genannten Zweck von einem Dienstleister unterhaltenden wird. Soweit entsprechend der auch in den Patentansprüchen gewählten Formulierung der externe Zugriff über den zentralen Server ermöglicht wird, schließt dies die Möglichkeiten ein, dass ein Abruf von der Haussteuereinheit übermittelter Daten und/oder die Übermittlung von Daten an die Hausteuereinheit zur Steuerung oder Konfiguration der Hausteuereinheit oder von an dieser betriebenen Geräten der Haustechnik unmittelbar an dem zentralen Server selbst oder mittels über diesen Server auf die Haussteuereinheit zugreifender externer, nicht zu dem die Haussteuereinheit umfassenden lokalen, das heißt nicht zu dem privaten Netzwerk gehörender Einrichtungen erfolgt. Bei den letztgenannten externen Einrichtungen kann es sich dabei gegebenenfalls auch um Einrichtungen Dritter handeln, denen der Betreiber des lokalen Netzwerkes beziehungsweise der Haussteuereinheit einen solchen Zugriff gestattet hat. In jedem Falle gehören aber weder der zentrale Server, über welchen der Zugriff auf die Haussteuereinheit erfolgt, noch die vorgenannten gegebenenfalls den Server dazu nutzenden Einrichtungen zu dem lokalen Netzwerk mit der Haussteuereinheit. Dieser Umstand charakterisiert den unter Nutzung des Verfahrens ermöglichten Zugriff auf die Haussteuereinheit als einen externen Zugriff.<!-- EPO <DP n="7"> --> Das lokale Netzwerk mit der darin eingebundenen Haussteuereinheit ist mit dem öffentlichen Netz über eine Zugangseinrichtung verbunden. Vorzugsweise, aber nicht zwingend handelt es sich hierbei um eine leitungsgebundene Verbindung, wie beispielsweise um eine, abgesehen von eventuellen kurzzeitigen Zwangstrennungen, permanente DSL-Verbindung.</p><p id="p0013" num="0013">Um den externen Zugriff auf die Haussteuereinheit dauerhaft, das heißt im Grunde jederzeit sowie insbesondere auch nach einer Unterbrechung der vorgenannten Verbindung zu ermöglichen, wird erfindungsgemäß durch die Haussteuereinheit beziehungsweise durch eine auf dieser ablaufende Programmanwendung zyklisch über die Zugangseinrichtung eine Präsenznachricht an den, dem Zugriff auf die Haussteuereinheit dienenden Server des öffentlichen Netzes übermittelt. Die Übermittlung dieser Präsenznachricht erfolgt dabei über die zwischen dem lokalen Netzwerk und dem öffentlichen Netz über die Zugangseinrichtung (nämlich vorzugsweise über einen Router) bestehende Verbindung oder über eine im Falle einer zuvor erfolgten Unterbrechung für den Zweck des Versendens der Präsenznachricht durch die Haussteuereinheit wieder neu aufgebaute Verbindung. Die Präsenznachricht enthält zumindest ein die Hausteuereinheit eindeutig kennzeichnendes Identifikationsmerkmal. Ferner wird durch die Haussteuereinheit zur Übertragung von Statusinformationen und/oder zum Empfang von Befehlen eine Tunnelverbindung zu dem eingangs genannten Server des öffentlichen Netzes aufbaut. Ausführungen dazu, wie der Haussteuereinheit die Adresse des zentralen Servers, an welchen die Präsenznachrichten auszusenden sind, bekannt gemacht wird, sollen an späterer Stelle gegeben werden.</p><p id="p0014" num="0014">Der Aufbau der Tunnelverbindung geschieht auf Veranlassung durch den Server, welcher hierzu eine Verbindungsanforderung, nämlich eine Anforderung zum Aufbau der vorgenannten Tunnelverbindung an die Haussteuereinheit überträgt. Dies kann seitens des zentralen Servers synchron, also nach dem Empfang einer oder einer festgelegten Anzahl von Präsenznachrichten, oder aber auch asynchron, das heißt unabhängig vom zeitlichen Zyklus der Präsenznachrichten erfolgen. Für die Übertragung einer entsprechenden Verbindungsanforderung nutzt<!-- EPO <DP n="8"> --> der Server die schon bestehende Verbindung zwischen dem (privaten) lokalen Netzwerk und dem öffentlichen Netz, über welche auch zyklisch die Präsenznachricht von der Haussteuereinheit zu dem im öffentlichen Netz angeordneten Server übertragen wird. Zu diesem Zweck verwaltet der Server eine Hashtabelle oder dergleichen, in welcher ein die jeweils aktuell bestehende Verbindung auf der Socket-Ebene repräsentierender Datensatz unter einem zu Gunsten eines eine externe Zugriffsmöglichkeit auf sein privates Netzwerk beziehungsweise die Haussteuereinheit wünschenden Nutzers eingerichteten Nutzer-Account in Zuordnung zu dem Identifikationsmerkmal der Hausteuereinheit abgelegt ist. Bei dem vorgenannten Datensatz handelt es sich um einen Datensatz, welcher in Zuordnung zu dem die Haussteuereinheit eindeutig kennzeichnenden Identifikationsmerkmal Daten zu der für die Versendung der Präsenznachricht(en) verwendeten und damit durch den zentralen Server für das Versenden der Verbindungsanforderung an die Haussteuereinheit zu verwendenden Verbindung enthält. Hierbei muss es sich nicht zwingend um die öffentliche IP-Adresse des lokalen Netzwerkes mit der anzusprechenden Haussteuereinheit handeln. Vielmehr kommen hierfür auch andere die Verbindung auf der Socket-Ebene repräsentierende Daten, wie Daten zu einem internen Handle auf die geöffnete Verbindung (TCP/IP-Verbindung), in Betracht.</p><p id="p0015" num="0015">Die bei einem Einsatz der erfindungsgemäßen Lösung dauerhaft bestehende Möglichkeit eines externen Zugriffs auf die in dem nichtöffentlichen, also in dem privaten Netznetzwerk angeordnete Hausteuereinheit, wird den vorstehenden Ausführungen und den das Verfahren charakterisierenden Merkmalen zufolge im Grunde mittels zweier voneinander zu unterscheidender Verbindungen gewährleistet. Hierbei handelt es sich zum einen um die zur Übermittlung der Präsenznachricht an den zentralen Server genutzte permanent bestehende, aber jedenfalls im Falle einer Unterbrechung im Zuge des jeweils nächsten Aussendens der Präsenznachricht durch die Haussteuereinheit wieder aufgebaute Verbindung und zum anderen um die auf Aufforderung durch den zentralen Server aufgebaute Tunnelverbindung, welche vorzugsweise nach der Übertragung von Statusdaten von der Haussteuereinheit zum zentralen Server beziehungsweise nach der<!-- EPO <DP n="9"> --></p><p id="p0016" num="0016">Übertragung von Konfigurations- oder Steuerdaten vom zentralen Server zur Haussteuereinheit wieder abgebaut wird. Während es sich bei der zur Übertragung von Präsenznachrichten genutzten, dauerhaft bestehenden aber jedenfalls nach einer eventuellen Unterbrechung neu aufgebauten Verbindung gewissermaßen um eine "leichtgewichtige", das heißt wenig Netzressourcen sowie insbesondere wenig Ressourcen des zentralen Servers beanspruchende Verbindung handelt, wird die dem gegenüber mehr Ressourcen bindende, aber andererseits im Hinblick auf unerwünschte Fremdzugriffe auf übertragene Daten sicherere Tunnelverbindung gewissermaßen nur im Bedarfsfall, nämlich zum Übertragen von Status-, Steuer- oder Konfigurationsdaten, aufgebaut und zudem, wie bereits ausgeführt, nach der Übertragung entsprechender Nutzdaten wieder abgebaut. Insoweit trägt die vorgeschlagene Lösung der Tatsache Rechnung, dass ein entsprechender zentraler Server gleichzeitig erheblich mehr der vorgenannten "leichtgewichtigen" Verbindungen halten können wird, als Tunnelverbindungen, welche seine Ressourcen deutlich stärker belasten.</p><p id="p0017" num="0017">Ungeachtet des entsprechend dem erfindungsgemäßen Verfahren vorgesehenen Aufbaus der Tunnelverbindung auf Anforderung durch den zentralen Server besteht darüber hinaus vorzugsweise die Möglichkeit, dass die Haussteuereinheit die Tunnelverbindung zu dem Server selbsttätig von sich aus (selbsttätig bezogen auf ihr Verhältnis zum Server) aufbaut. Dies kann zum Beispiel auf Veranlassung einer Routine der die zyklische Aussendung der Präsenznachricht steuernden, von der Haussteuereinheit verarbeiteten Programmanwendung oder einer anderen auf der Haussteuereinheit ablaufenden Anwendung erfolgen, in deren Rahmen unter bestimmten zeitlichen oder aufgrund des Bestehens für Parameter mit der Haussteuereinheit betriebener Geräte festgelegter Bedingungen (ereignisgesteuert) selbsttätig Statusinformationen von der Haussteuereinheit an den zentralen Server übertragen und von diesem gegebenenfalls an computerbasierte Einrichtungen des Betreibers des lokalen (nichtöffentlichen) Netzwerks und/oder Dritter weitergeleitet werden. Die durch die Haussteuereinheit zum Zweck der Übertragung von Nutzdaten, wie Statusinformationen und/oder von Befehlen zum Server aufgebaute Tunnelverbindung wird vorzugsweise zur Schonung<!-- EPO <DP n="10"> --> von Ressourcen nach der Übertragung der entsprechenden Daten wieder abgebaut.</p><p id="p0018" num="0018">Gemäß einer vorteilhaften Weiterbildung des Verfahrens ist es vorgesehen, dass im Falle einer Unterbrechung der primär für die Übertragung der Präsenznachrichten vorgesehenen, vorzugsweise leitungsgebundenen Verbindung sowie erfolgloser Versuche zum Wiederaufbau einer solchen Verbindung durch die Haussteuereinheit für das Versenden einer Präsenznachricht eine alternative Verbindung aufgebaut wird. Ein solcher Aufbau einer alternativen Verbindung nach einer Unterbrechung kann dabei entweder unmittelbar nach einem fehlgeschlagenen Versuch zum Aufbau der primär für die Übertragung von Präsenznachrichten vorgesehenen (also vorzugsweise der leitungsgebundenen) Verbindung oder nach einer vorgegebenen Anzahl von Fehlversuchen zum Aufbau der vorgenannten primären Verbindung erfolgen. Im letztgenannten Fall erfolgt durch die auf der Haussteuereinheit ablaufende Software beziehungsweise Programmanwendung der Vergleich eines dafür verwalteten Zählers mit einer in einem Speicher der Haussteuereinheit für diesen Zweck hinterlegten Konfigurationseinstellung.</p><p id="p0019" num="0019">In korrespondierender Weise zu der gegebenenfalls erfolgenden Auswahl einer alternativen Verbindung für das Versenden der Präsenznachrichten kann nach dem Versenden nur einer oder einer vorgegebenen Anzahl von Präsenznachrichten über die alternative Verbindung durch die Haussteuereinheit für das Versenden der nächsten Präsenznachricht ein erneuter Versuch zum Aufbau einer Verbindung über den primär hierfür vorgesehenen Verbindungsweg unternommen werden.</p><p id="p0020" num="0020">Als alternative Verbindung zum Versenden der Präsenznachricht kommen insbesondere Verbindungen in Betracht, welche über ein alternatives physikalisches Medium aufgebaut werden. Zu denken ist hierbei insbesondere an eine UMTS-Verbindung oder an eine andere zur Datenübertragung geeignete Funkverbindung. Denkbar ist aber auch der Aufbau einer anderen leitungsgebundenen Verbindung<!-- EPO <DP n="11"> --> unter Nutzung des Zugangsnetzes eines anderen Zugangsproviders und/oder Nutzung eines gegebenenfalls zu dem lokalen Netzwerk mit der Haussteuereinheit gehörenden weiteren Routers.</p><p id="p0021" num="0021">Wie bereits ausgeführt, handelt es sich bei der primären, für das Versenden der Präsenznachrichten verwendeten Verbindung vorzugsweise um eine leitungsgebundene IP-Verbindung beziehungsweise TCP/IP-Verbindung. Eine Unterbrechung dieser Verbindung wird bei der Verwendung des TCP-Übertragungsprotokolls seitens der Haussteuereinheit aufgrund einer entsprechend diesem Protokoll für diesen Fall vorgesehenen Signalisierung festgestellt. Darüber hinaus kann das Verfahren außerdem so ausgebildet sein, dass der zentrale Server auf den Eingang einer Präsenznachricht eine deren Eingang bestätigende Antwortnachricht an die Haussteuereinheit zurücksendet und die Haussteuereinheit beziehungsweise die auf dieser ablaufende Programmanwendung auf ein eventuelles Ausbleiben dieser Antwortnachricht in geeignet Weise reagiert. Letzteres ermöglicht insbesondere eine entsprechende Reaktion der Haussteuereinheit im Falle von eventuellen serverseitig (beim zentralen Server) auftretenden Problemen. Die Haussteuereinheit kann dann versuchen, den Server über einen alternativen Verbindungsweg zu kontaktieren. Im Falle der bevorzugten Verwendung einer IP-beziehungsweis TCP-/IP-Verbindung wird eine eventuelle Unterbrechung der (primären) Verbindung zum Versenden der Präsenznachrichten aufgrund der Eigenschaften des Verbindungsprotokolls durch den zentralen Server ebenfalls registriert. Dieser kann hierauf beispielsweise reagieren, indem er nach einem vorgegebenen Timeout, also nach einer vorgegebenen Zeitdauer innerhalb welcher Präsenznachrichten der Haussteuereinheit ausbleiben, in der bereits erwähnten Tabelle (Hashtabelle) den sich auf die betreffende Haussteuereinheit beziehenden Eintrag aus Identifikationsmerkmal der Haussteuereinheit und dieser zugeordneten Angaben zu der für die Versendung der Verbindungsaufforderung zum Aufbau der Tunnelverbindung vorgesehenen Verbindung löscht. Gegebenenfalls kann die betreffende Haussteuereinheit infolge dessen als für eine gewisse Zeit ausnahmsweise nicht erreichbar gekennzeichnet und dieser Status Zugriff wünschenden, nicht zum lokalen Netzwerk mit der Haussteuereinheit gehörenden<!-- EPO <DP n="12"> --> computerbasierten Einrichtungen des Betreibers der Haussteuereinheit oder Dritter mitgeteilt werden. Im Zusammenhang mit der zuletzt erläuterten Gestaltung des erfindungsgemäßen Verfahren kann es zudem vorgesehen sein, dass dem zentralen Server seitens der Haussteuereinheit zusammen mit den Präsenznachrichten weitere Informationen, wie beispielsweise Informationen über eine (vorübergehende) Außerbetriebnahme der Haussteuereinheit übermittelt werden.</p><p id="p0022" num="0022">Die zwischen der Haussteuereinheit und dem Server über die Tunnelverbindung ausgetauschten Daten werden vorzugsweise zumindest während einer gegenseitigen Authentifizierungsphase unter Nutzung des SSL-Protokolls oder des TLS-Protokolls, also verschlüsselt, übertragen. Eine entsprechende Authentisierung kann dabei beispielsweise durch den zentralen Server gefordert werden. Denkbar ist es etwa, dass der Server nach einer Unterbrechung (zum Beispiel aufgrund einer Zwangstrennung der DSL-Verbindung) der (im Grunde ständig bestehenden) Verbindung, über welche die Präsenznachricht der Haussteuereinheit übertragen wird, beim Empfang der ersten Präsenznachricht nach der Wiederherstellung der Verbindung eine Authentifizierung fordert. Gegebenenfalls kann aber auch der gesamte Datenaustausch, also auch die Übertragung von Statusinformationen oder Befehlen, verschlüsselt erfolgen. Im Hinblick auf die zuvor angesprochene Client-Server-Authentifizierung ist vorliegend die Haussteuereinheit bezüglich ihrer Außenwirkung, das heißt betrachtet aus der Richtung des öffentlichen Netzes, als Client zu sehen, wohingegen sie innerhalb des lokalen Netzwerks, insbesondere im Verhältnis zu den mit ihr betriebenen elektronischen Hauseinrichtungen, wie beispielsweise einem intelligenten Stromzähler (Smart Meter), einer Waschmaschine oder einem Blockkraftheizwerk, als Server fungiert. Der zuvor genannte SSL-Kanal kann dabei zentralseitig, das heißt bezogen auf den zentralen Server, an einem Sicherheitsgateway terminiert werden, welches dem zentralen Server aus Sicht des lokalen Netzwerks vorgelagert ist.</p><p id="p0023" num="0023">Bei der Zugangseinrichtung, über welche die Verbindung zwischen dem lokalen Netzwerk und dem öffentlichen Netz hergestellt wird, handelt es sich um eine<!-- EPO <DP n="13"> --> NAT-fähige Einrichtung, nämlich vorzugsweise um einen Router mit Unterstützung des Network Address Translation Mechanismus. Die Datenpakete mit den Präsenznachrichten werden vorzugsweise unter Nutzung des TCP (Transmission Control Protocol) oder des SCTP (Stream Control Transmission Protocol) an den zentralen Server übermittelt.</p><p id="p0024" num="0024">Bei dem zuvor bereits mehrfach erwähnten Identifikationsmerkmal der Haussteuereinheit, welche selbstverständlich netzwerkfähig sein muss, handelt es sich entsprechend einer praxisrelevanten Ausbildungsform der Erfindung um die MAC-Adresse (Media-Access-Control-Adresse) der netzwerkfähigen Haussteuereinheit, also um die eindeutige physikalische Adresse ihrer die Einbeziehung in ein Netzwerk ermöglichenden Netzwerkkarte. Diese Adresse kann beispielsweise durch eine zur Umsetzung des Verfahrens in der Haussteuereinheit ablaufende beziehungsweise von einer Verarbeitungseinrichtung der Haussteuereinheit verarbeiteten Programmanwendung ausgelesen und als Bestandteil der Präsenznachricht an den zentralen Server übermittelt werden.</p><p id="p0025" num="0025">Sofern die Eindeutigkeit des Identifikationsmerkmals gewährleistet ist, kommen selbstverständlich für dieses auch andere Möglichkeiten in Betracht. Eine weitere Möglichkeit besteht zum Beispiel darin, dass ein solches Identifikationsmerkmal in Form einer ID in einem Trusted Platform Module (TPM), also in einem in der Haussteuereinheit verbauten beziehungsweise von ihr aufgenommenen Mikrochip, abgelegt ist und diese ID von der vorgenannten Software beziehungsweise Programmanwendung ausgelesen wird. Darüber hinaus ist auch die Möglichkeit gegeben, dass der Betreiber des lokalen Netzwerks beziehungsweise der Haussteuereinheit eine entsprechende ID manuell über dafür vorgesehene Eingabemittel der Haussteuereinheit eingibt und diese ID in einem vorzugsweise nicht flüchtigen Speicher der Haussteuereinheit abgelegt wird. Für diese Möglichkeit kommen wiederum zwei Varianten in Betracht. Entsprechend einer ersten Variante denkt sich der Betreiber der Haussteuereinheit die ID selber aus. In diesem Falle wird, sobald die Haussteuereinheit erstmals online geht, die entsprechende ID an den zentralen Server übermittelt (gegebenenfalls wird dabei beispielsweise<!-- EPO <DP n="14"> --> der Nutzer durch den zentralen Server über die Haussteuereinheit bei deren Inbetriebnahme zur Betätigung eines Tasters oder eines anderen Bedienelementes aufgefordert) und diese dort auf ihre Eindeutigkeit überprüft. Sollte eine solche Eindeutigkeit nicht gegeben sein, das heißt die betreffende ID in der Datenbank beziehungsweise Hashtabelle des Servers bereits für eine andere Haussteuereinheit beziehungsweise einen anderen Nutzer registriert sein, würde hierbei der seine Haussteuereinheit neu anmeldende Nutzer aufgefordert werden, eine geänderte ID einzugeben. Der Nutzer-Account, unter welchem die ID abgespeichert wird, kann dabei wahlweise bereits beim Erwerb der Haussteuereinheit durch den Hersteller oder Verkäufer angelegt werden oder aber durch den Nutzer selbst beim erstmaligen Online-Gehen der von ihm erworbenen Haussteuereinheit eingerichtet werden. Insbesondere im letztgenannten Fall ist es dabei selbstverständlich erforderlich, dass die Haussteuereinheit über entsprechende Ein- und Ausgabemittel verfügt. Eine weitere Variante, mit welcher das Identifikationsmerkmal für die Haussteuereinheit, also beispielsweise eine ID, durch den Betreiber der Haussteuereinheit manuell eingegeben wird, ist dadurch gegeben, dass diese ID dem Betreiber beziehungsweise dem Nutzer nach dem Erwerb der Haussteuereinheit beispielsweise durch den Hersteller oder durch ein von ihm beauftragtes Unternehmen per Post zugestellt wird.</p><p id="p0026" num="0026">Im Hinblick auf eine möglichst komfortable Verfahrensgestaltung wird jedoch den zuerst erläuterten Möglichkeiten für die Vergabe beziehungsweise die Bereitstellung des Identifikationsmerkmals der Vorzug zu geben sein. Als besonders vorteilhaft wird dabei eine Hinterlegung in dem bereits erwähnten TPM angesehen, welches bereits herstellerseitig in die Haussteuereinheit eingefügt wird.</p><p id="p0027" num="0027">Ähnliche Überlegungen und Möglichkeiten wie die zuvor für das Identifikationsmerkmal erläuterten, bestehen auch für das Erfordernis, der Haussteuereinheit die öffentliche IP-Adresse des zentralen Servers mitzuteilen, an welchen die Präsenznachrichten zu übermitteln sind. Auch hier kommt insbesondere die Möglichkeit in Betracht, dass diese IP-Adresse bereits herstellerseitig ab Werk in einem Speicher der Haussteuereinheit hinterlegt wird. Noch günstiger ist es in dem Zusammenhang,<!-- EPO <DP n="15"> --> wenn durch den Hersteller in der Haussteuereinheit nicht eine IP-Adresse im engeren Sinne hinterlegt wird, sondern ein Hostname für den zentralen Server. Hierdurch ist es möglich, über entsprechende DNS-Einträge, also Einträge des Domain Name Systems in DNS-Servern des öffentlichen IP-Netzes, den Hostnamen mit mehreren IP-Adressen eines zentralen Servers zu assoziieren und somit für ein Load Balancing zu sorgen und eine Überlastung eines einzelnen zentralen Servers zu vermeiden. Die IP-Adresse des zentralen Servers beziehungsweise ein entsprechender Hostname können aber je nach Ausgestaltung des Verfahrens der Haussteuereinheit auch durch Einfügen einer SIM-Karte oder einer Chipkarte mitgeteilt werden. Grundsätzlich kommt auch eine manuelle Konfiguration durch Eingabe des Hostnamens oder der IP-Adresse in Betracht, wobei auch hier aus Gründen des Komforts ein werkseitiger Eintrag zu bevorzugen ist oder aber der Nutzer beziehungsweise Betreiber der Haussteuereinheit allenfalls noch die schon erwähnte SIM- oder Chipkarte einfügen müssen sollte.</p><p id="p0028" num="0028">Eine zur Lösung der Aufgabe ausgebildete beziehungsweise zur Durchführung des zuvor erläuterten Verfahrens geeignete Anordnung besteht mindestens aus einer in einem IP-basierten lokalen Netzwerk angeordneten, eine Verarbeitungseinrichtung aufweisenden Haussteuereinheit, aus einem in einem IP-basierten öffentlichen Netz angeordneten zentralen Server und aus einer NAT-fähigen Zugangseinrichtung zur Verbindung des lokalen Netzwerks (LAN) mit dem öffentlichen Netz, das heißt vorzugsweise mit dem Internet. Hierbei ist die Anordnung für einen über den zentralen Server, beispielsweise zum Zweck der Anforderung von Statusdaten und/oder des Steuerns mit der Haussteuereinheit betriebener elektronischer Hauseinrichtungen, erfolgenden Zugriff auf die Haussteuereinheit eingerichtet. Selbstverständlich kann und wird die Anordnung bei einer praktischen Umsetzung vorzugsweise mehrere, jeweils mindestens eine Haussteuereinheit umfassende lokale Netze und gegebenenfalls auch mehrere zentrale Server aufweisen, wobei sich aber die nachfolgenden Ausführungen insoweit ohne Beschränkung, sondern lediglich vereinfachend, immer auf das Interagieren einer Haussteuereinheit mit einem zentralen Server des öffentlichen Netzes beziehen.<!-- EPO <DP n="16"> --> Erfindungsgemäß ist die Haussteuereinheit mit einer in einem Speicher gehaltenen Programmanwendung ausgestattet, welche während des Betriebes der Haussteuereinheit zumindest nach Einstellung eines entsprechenden Betriebsmodus von der Verarbeitungseinrichtung der Steuereinheit verarbeitet wird. Dies meint, dass die vorgenannte Programmanwendung entweder beim Betrieb der Haussteuereinheit ständig abläuft oder die Haussteuereinheit einen speziellen, den externen Zugriff von außen ermöglichenden, beispielsweise durch Betätigung eines Schalters einstellbaren Betriebsmodus aufweist, in welchem die genannte Programmanwendung abläuft. Im letztgenannten Falle ist es dem Nutzer, also dem Betreiber des lokalen Netzwerks demnach möglich, die Haussteuereinheit für den externen Zugriff zu sperren oder aber sie durch Einstellung des zuvor genannten Betriebsmodus für einen Zugriff über den zentralen Server freizugeben. In jedem Falle ist die Software beziehungsweise die Programmanwendung so gestaltet, dass bei ihrer Verarbeitung durch die Verarbeitungseinrichtung von der Haussteuereinheit selbsttätig die bereits erwähnte Präsenznachricht mit dem die Haussteuereinheit eindeutig kennzeichnenden Identifikationsmerkmalzyklisch an den zentralen Server übermittelt wird. Ferner baut die Haussteuereinheit im Zusammenhang mit der Verarbeitung der vorgenannten Programmanwendung zur Übertragung von Statusinformationen und/oder zum Empfang von Befehlen für die Haussteuereinheit nach dem Empfang einer entsprechenden Verbindungsanforderung des Servers oder gegebenenfalls auch selbsttätig von sich aus eine Tunnelverbindung zu dem Server auf. Der die Präsenznachricht der Haussteuereinheit zyklisch empfangende zentrale Server hält eine Hashtabelle beziehungsweise Datenbank oder hat Zugriff auf eine Datenbank, in welcher das Identifikationsmerkmal der Haussteuereinheit unter einem zu Gunsten des Betreibers der Hausteuereinheit eingerichteten Account abgelegt wird.</p><p id="p0029" num="0029">Von der Erfindung umfasst ist auch eine Ausbildungsform der Anordnung, bei welcher die Haussteuereinheit virtueller Art, das heißt auf einem computerbasierten Endgerät virtualisiert ist. Hierbei ist vorzugsweise der virtuellen Haussteuereinheit in dem nichtöffentlichen lokalen Netzwerk eine eigene IP-Adresse zugewiesen. Je nach Konfiguration ist es aber auch möglich, dass die IP-Adresse des<!-- EPO <DP n="17"> --> Hosts, das heißt Computers verwendet wird, auf welchem die Haussteuereinheit virtualisiert ist. Im Rahmen bekannter Virtualisierungstechniken, werden dabei auch entsprechende Betriebsmodi zur Verfügung gestellt, welche dem zentralen Server gegebenenfalls ausschließlichen einen Zugriff auf die virtualisierte Einheit ermöglichen.</p><p id="p0030" num="0030">Die zur Lösung der Aufgabe vorgeschlagene, zuvor grundsätzlich erläuterte Anordnung kann zudem vorteilhafterweise um computerbasierte Einrichtungen des Betreibers des lokalen beziehungsweise nichtöffentlichen Netzwerks mit der Haussteuereinheit und/oder Dritter ergänzt sein, welche in dem öffentlichen Netz angeordnet sind und denen über den zentralen Server der Zugriff auf die Haussteuereinheit ermöglicht wird. Bei diesen Einrichtungen kann es sich beispielsweise um Einrichtungen der Hersteller von mit der Haussteuereinheit betriebenen elektronischen Hauseinrichtungen, also beispielsweise um eine mit der Haussteuereinheit betriebene Waschmaschine, handeln. Vorzugsweise müssen sich die betreffenden Einrichtungen dafür gegenüber dem zentralen Server authentifizieren.</p><p id="p0031" num="0031">Ferner ist die Haussteuereinheit der Anordnung gemäß einer bevorzugten Weiterbildung mit einem UMTS-Modul, das heißt mit einer UMTS-Sende- und Empfangseinrichtung ausgestattet. Hierdurch ist gewissermaßen ein Fallback für die Haussteuereinheit gegeben, durch welches diese auch im Falle eines eventuellen Ausfalls der vorzugsweise leitungsgebundenen Verbindung Präsenznachrichten aussenden kann und von externer Stelle erreichbar ist.</p><p id="p0032" num="0032">Eine sich auf den zentralen Server beziehende Weiterbildung der Anordnung besteht darin, dass dieser ein Logging Modul aufweist oder ihm ein solches Logging Modul zugeordnet ist. In diesem Modul werden zum Zweck einer eventuell erforderlichen Nachweisbarkeit von Betriebszuständen oder Statussituationen der mit der Haussteuereinheit betriebenen elektronischen Hauseinrichtungen beziehungsweise Geräte Log-Dateien mit dem zentralen Server übermittelten oder<!-- EPO <DP n="18"> --> durch ihn abgefragten Statusdaten mit einem zeitlichen Vermerk ihrer Erfassung gespeichert.</p><p id="p0033" num="0033">Nachfolgend soll ein Ausführungsbeispiel der Erfindung gegeben werden. In den Zeichnungen zeigen:
<dl id="dl0001" compact="compact"><dt>Fig. 1:</dt><dd>Eine schematische Darstellung einer möglichen Ausbildungsform der erfindungsgemäßen Anordnung,</dd><dt>Fig. 2:</dt><dd>ein Schema zur Darstellung möglicher Abläufe des erfindungsgemäßen Verfahrens.</dd></dl></p><p id="p0034" num="0034">Anhand der zugehörigen <figref idrefs="f0001">Fig. 1</figref> sollen die entsprechende durch die Figur dargestellte Anordnung, aber auch verfahrensbezogene Aspekte der Erfindung erläutert werden. Als wesentliche Elemente der in der <figref idrefs="f0001">Fig. 1</figref> gezeigten Anordnung sind das lokale Netzwerk 2 mit der als Bestandteil dieses lokalen Netzwerks 2 angeordneten Haussteuereinheit 1, das IP-basierte öffentliche Netz 4 mit dem zentralen Server 5 und die NAT-fähige Zugangseinrichtung 3, nämlich ein Router, über welchen das lokale Netzwerk 2 mit dem öffentlichen Netz 4 verbindbar ist, anzusehen. Gemäß dem Ausführungsbeispiel nach der <figref idrefs="f0001">Fig. 1</figref> werden an der Haussteuereinheit 1 eine Waschmaschine 7, ein Smart Meter 8, also ein intelligenter Stromzähler, und ein Blockheizkraftwerk 9 (BHKW) betrieben. Neben der Haussteuereinheit 1, auf welche gemäß der Erfindung ein über den zentralen Server 5 erfolgender externer Zugriff ermöglicht sein soll, können in das lokale Netzwerk 2 beispielsweise eines Einfamilienhauses weitere netzwerkfähige Geräte, wie beispielsweise ein moderner Fernseher 16 mit einer Netzwerkkarte oder ein PC oder Laptop 15, einbezogen sein.</p><p id="p0035" num="0035">Im Betrieb wird von der Haussteuereinheit 1, veranlasst durch eine von ihrer Verarbeitungseinrichtung verarbeitete Software beziehungsweise Programmanwendung, über den Router 3 regelmäßig eine Präsenznachricht an den zentralen Server 5 im öffentlichen Netz 4 übermittelt. Bestandteil dieser Präsenznachricht ist ein Identifikationsmerkmal, durch welches die betreffende Haussteuereinheit 1<!-- EPO <DP n="19"> --> eindeutig identifiziert wird. Im Zusammenhang mit dem dargestellten Ausführungsbeispiel wird angenommen, dass das entsprechende Identifikationsmerkmal auf einem herstellerseitig in der Haussteuereinheit 1 verbauten Trusted Platform Module abgelegt ist und aus diesem zur Übermittelung der Präsenznachricht an den zentralen Server 5 ausgelesen wird. Die Übermittlung der Präsenznachricht erfolgt über eine im Grunde permanent bestehende, aber jedenfalls im Falle einer (zum Beispiel infolge einer Zwangstrennung) erfolgenden Unterbrechung (spätestens im Zusammenhang mit der Versendung der nächsten Präsenznachricht durch die Haussteuereinheit) wieder aufgebaute TCP/IP-Verbindung. Dabei wird die IP-Adresse des zentralen Servers 5, an welchen die Präsenznachrichten übermittelt werden, durch geeignete, in dem öffentlichen Netz 4 angeordnete (hier nicht dargestellte) Einrichtungen des DNS-Systems aus einem vom Hersteller der Haussteuereinheit 1 in dieser hinterlegten Hostnamen für den zentralen Server 5 abgeleitet. Aufgrund der zyklischen Übermittlung der Präsenznachricht liegt bei dem zentralen Server 5 zu jederzeit eine Information über die zwischen dem lokalen Netzwerk 2 und dem Server 5 bestehende Verbindung vor. Die entsprechende Verbindung wird durch den Server 5 in einer Hash-Tabelle einer Datenbank 6 in Form eines sie auf der Socket-Ebene repräsentierenden Datensatzes in Zuordnung zu dem mit der Präsenznachricht übermittelten Identifikationsmerkmal unter einem für den Betreiber des lokalen Netzwerks beziehungsweise den die Zugriffsmöglichkeit auf die Haussteuereinheit wünschenden Nutzer eingerichteten Account gespeichert. Die betreffende Datenbank 6 kann dabei ein physischer Bestandteil des zentralen Servers 5 oder als eine separate, im Zugriff des Servers 5 befindliche Einheit ausgebildet sein.</p><p id="p0036" num="0036">Für einen Zugriff auf die Haussteuereinheit 1 überträgt der Server 5 an diese eine Verbindungsaufforderung. Nach dem Empfang dieser Verbindungsaufforderung wird durch die in der Haussteuereinheit 1 ablaufende beziehungsweise von deren Verarbeitungseinheit verarbeitete Programmanwendung selbsttätig eine Tunnelverbindung zu dem Server 5 aufgebaut. Unter Nutzung dieser Tunnelverbindung können, gegebenenfalls nach einer zuvor durchgeführten Authentifikationsprozedur, Statusinformationen, Befehle und Firmware-Updates für die Haussteuereinheit<!-- EPO <DP n="20"> --> 1 oder an ihr betriebene Geräte sicher, das heißt weitgehend ohne Zugriffsmöglichkeit durch nicht autorisierte Dritte, übertragen werden. Für die Bereitstellung des Tunnels können dabei im Grunde beliebige Tunnelprotokolle (L2TP, PPP, IPSec und dergleichen) verwendet werden.</p><p id="p0037" num="0037">Als unmittelbare Bestandteile des zentralen Servers 5 oder als periphere Einheiten sind in oder an diesem zudem ein Semantikmodul 13 und ein Logging Modul 11 ausgebildet. Über die durch die Haussteuereinheit 1 aufgebaute Tunnelverbindung kann die Haussteuereinheit 1 durch den zentralen Server 5 zum Zweck der Steuerung oder der Abfrage von Statusdaten der mit der Haussteuereinheit 1 betriebenen Hauseinrichtungen 7, 8, 9 - hier die Waschmaschine 7, das Smart Meter 8 und das BHKW 9-angesprochen werden. Hierbei leitet der NAT-fähige Router 3, ohne dass es eines Zutuns des Betreibers des lokalen Netzwerks 2 bedarf, entsprechende Datenpakete des zentralen Servers 5 unter Nutzung des NAT-Mechanismus, genauer gesagt des Destination NAT (DNAT = Destination Network Address Translation) an die Haussteuereinheit 1 weiter. So ist es beispielsweise möglich, in Abhängigkeit der Auslastung des öffentlichen Energienetzes über den zentralen Server 5 das an der Haussteuereinheit 1 betriebene Blockheizkraftwerk 9 anzufahren oder abzuschalten oder Statusdaten der Waschmaschine 7 oder des Smart Meters 8 abzufragen. Dabei werden entsprechende Statusdaten beziehungsweise Zustände und Signale, die durch den zentralen Server 5 von der Haussteuereinheit 1 empfangen werden, von der Semantikeinheit 13 interpretiert und gegebenenfalls die Aussendung weiterer Steuerbefehle des Servers 5 an die Haussteuereinheit 1 veranlasst. Ferner werden durch das dem zentralen Server 5 zugeordnete Logging Modul 11 die bei dem zentralen Server 5 eingegangenen Statusdaten zum Zweck der Nachweisbarkeit für einen festgelegten Zeitraum gespeichert. Gegebenenfalls beziehungsweise bei Bedarf kann in diesem Zusammenhang in einer von dem Logging Modul 11 gehaltenen Log-Datei auch die von der Haussteuereinheit 1 durch Versenden der Präsenznachricht zyklisch indirekt mitgeteilte aktuelle IP-Adresse des lokalen Netzwerks 2 gespeichert werden.<!-- EPO <DP n="21"> --></p><p id="p0038" num="0038">Die Haussteuereinheit 1 der in der <figref idrefs="f0001">Fig. 1</figref> beispielhaft gezeigten Anordnung weist zusätzlich zu ihrer Einbindung in das lokale Netzwerk 2 und die hierdurch gegebene Verbindung zu dem öffentlichen Netz 4 ein UMTS-Modul 10 auf, um ihre ständige Erreichbarkeit auch bei einem eventuellem DSL-Ausfall zu gewährleisten.</p><p id="p0039" num="0039">Gemäß dem gezeigten Ausführungsbeispiel ist darüber hinaus dem Betreiber des lokalen (nichtöffentlichen) Netzwerkes 2 beziehungsweise dem Betreiber der Haussteuereinheit 1 und/oder Dritten mittels entsprechender computerbasierten Einrichtungen 12 über den zentralen Server 5 ein Zugriff auf die Haussteuereinheit 1 ermöglicht. Auf diese Weise kann beispielsweise der Hersteller der Haussteuereinheit 1 oder der Hersteller eines mit dieser betriebenen Gerätes 7, 8, 9 Updates der Firmware für die Haussteuereinheit 1 beziehungsweise das Gerät 7, 8, 9 übermitteln.</p><p id="p0040" num="0040">Zwischen dem lokalen Netzwerk 2 und dem öffentlichen Netz 4 besteht, wie bereits ausgeführt, vorzugsweise eine leitungsgebundene Verbindung. In dem gezeigten Beispiel ist das lokale Netzwerk 2 beziehungsweise dessen Zugangseinrichtung 3, nämlich der Router, mit dem öffentlichen Netz 4 über eine DSL-Leitung verbunden. An diese Kommunikationsverbindung werden dabei lediglich die üblichen Sicherheitsanforderungen, wie Datenintegrität, Vertraulichkeit und Authentizität, gestellt. Jedoch kann die Übertragung von Daten zum Zweck der gegenseitigen Authentifikation von Haussteuereinheit 1 und Server 5 auch unter Nutzung des SSL- oder TLS-Protokolls erfolgen. Eine solche Authentifikation kann gegebenenfalls durch den Server gefordert werden, sofern beispielsweise in der Nacht eine Zwangstrennung der DSL-Verbindung zwischen dem lokalen Netzwerk 2 und dem öffentlichen Netz 4 erfolgt und beim Server nach der Wiederherstellung der Verbindung erstmals wieder eine Präsenznachricht eingeht. Dabei authentifizieren sich der zentrale Server 5 und die Haussteuereinheit 1 nach einem kryptographischen Authentifikationsverfahren gegenseitig (mutual auth). Hierfür ist die Haussteuereinheit 1 mit einem SSL-Client 1' ausgestattet. Weitere Daten können dann zur Verringerung des Aufwandes auch unverschlüsselt<!-- EPO <DP n="22"> --> über eine Tunnelverbindung an den zentralen Server 5 übertragen werden. Gemäß dem gezeigten Ausführungsbeispiel wird die zuvor angesprochene SSL-Verbindung serverseitig durch ein aus Sicht des lokalen Netzwerks 2 dem zentralen Server 5 vorgelagertes Sicherheitsgateway 14 terminiert. Das Sicherheitsgateway 14 übernimmt dabei zum Zweck einer Entlastung des zentralen Servers 5 die Terminierung des (gegebenenfalls kryptographisch abgesicherten) Tunnels. Zum und für den zentralen Server 5 erfolgt die Kommunikation aus dem Tunnel mittels einfacher zustandsloser Kommunikationsprotokolle, wie http (Hypertext Transfer Protocol), REST (Representational State Transfer), SOAP (Simple Object Access Protocol) oder dergleichen.</p><p id="p0041" num="0041">Das in der <figref idrefs="f0002">Fig. 2</figref> gezeigte Schema veranschaulicht mögliche Abläufe des erfindungsgemäßen Verfahrens und die dabei zwischen der Haussteuereinheit 1 und dem zentralen Server 5 jeweils aufgebauten beziehungsweise bestehenden Verbindungen und gibt insoweit auch die möglichen Betriebszustände des korrespondierenden Systems wieder. Die jeweils aufgebauten oder bestehenden Verbindungen sind in dem Schema durch Pfeile dargestellt. Pfeile mit einer durchgezogenen Linie symbolisieren dabei eine dem Grunde nach permanent bestehende TCP/IP-Verbindung, über welche zyklisch die Präsenznachricht von der Haussteuereinheit 1 zum Server 5 übertragen wird, wohingegen die Pfeile mit gestrichelter Linie eine Tunnelverbindung, das heißt eine gesicherte und authentisierte Verbindung symbolisieren. Die Verbindungen bestehen, wie bereits ausgeführt, jeweils zwischen der Haussteuereinheit 1 und dem zentralen Server 5, was durch die im oberen Teil der Zeichnung in Klammern gesetzten Bezugszeichen der betreffenden Elemente des Systems verdeutlicht wird. Dabei werden die jeweiligen Verbindungen zwischen dem nicht öffentlichen lokalen Netzwerk 2 (siehe <figref idrefs="f0001">Fig. 1</figref>), in welchem die Haussteuereinheit 1 angeordnet ist, und dem öffentlichen Netz 4, in welchem der zentrale Server 5 angeordnet ist, über die Zugangseinrichtung 3, das heißt vorzugsweise über einen Router, hergestellt. Durch die NAT-fähige Zugangseinrichtung 3 und die von ihr ausgeführte NAT (Network Address Translation = Netzwerkadressübersetzung) ist insoweit gewissermaßen eine "Lebenslinie" 17 für das System hergestellt. Dabei ist dem zentralen Server<!-- EPO <DP n="23"> --> 5 im Grunde jederzeit die aktuelle IP-Adresse der Zugangseinrichtung 3 bekannt. Jedenfalls sind dem Server 5 aber Angaben zu der Verbindung bekannt, die ihm zusammen mit der auf der Zugangseinrichtung (dem Router) ablaufenden NAT einen Zugriff auf die Haussteuereinheit 1 und die Übermittlung einer Verbindungsanforderung zum Aufbau einer Tunnelverbindung an die Haussteuereinheit 1 ermöglichen.</p><p id="p0042" num="0042">Unter Bezug auf das in der <figref idrefs="f0002">Fig. 2</figref> dargestellte Schema sei angenommen, dass die zwischen der Haussteuereinheit 1 und dem zentralen Server 5 über die Zugangseinrichtung 3 im Grunde permanent bestehende TCP/IP-Verbindung, beispielsweise durch eine nächtliche Zwangstrennung, kurzzeitig unterbrochen wird. Da die Haussteuereinheit 1 zyklisch, das heißt mit einer in ihren Konfigurationseinstellungen hinterlegten zeitlichen Periode, eine Präsenznachricht an den Server 5 übermittelt, wird spätestens durch sie kurz nach dem Bestehen einer solchen Unterbrechung der Aufbau einer neuen Verbindung zum Server 5 initiiert (a.1.). Im Rahmen des Aufbaus dieser Verbindung hin zum öffentlichen Netz 4 erhält die Zugangseinrichtung 3 beziehungsweise der Router eine neue öffentliche IP-Adresse (a.2.). Über diese öffentliche IP-Adresse sind die Zugangseinrichtung 3 und das private lokale Netzwerk von externer Stelle, wie beispielsweise durch den zentralen Server 5, erreichbar. Aufgrund der in der Zugangseinrichtung 3 ablaufenden NAT ist dabei auch ein Zugriff auf die Haussteuereinheit 1 gegeben. Die durch die Haussteuereinheit 1 aufgebaute Verbindung zum Server 5 besteht als feste, ungesicherter Verbindung (a.3.) und stellt dabei eine Client-Server-Verbindung dar, in deren Rahmen die Haussteuereinheit 1 gegenüber dem zentralen Server 5 als Client fungiert.</p><p id="p0043" num="0043">Durch die mit b.1. bis b.4 bezeichneten Ablauf- beziehungsweise Systemzustände werden die Abläufe beim Aufbau einer gesicherten Verbindung zwischen der Haussteuereinheit 1 und dem Server 5 symbolisiert, über welche beispielsweise von dem Server 5 Befehle an die Haussteuereinheit 1 übertragen werden. Hierbei fordert der Server 5 die Haussteuereinheit 1 zum Aufbau einer entsprechenden gesicherten Tunnelverbindung auf, um die betreffenden Befehle an die Haussteuereinheit<!-- EPO <DP n="24"> --> 1 übermitteln zu können (b.1.). Die durch den Server 5 über die bestehende TCP/IP-Verbindung gesendete Aufforderung zum Aufbau der Tunnelverbindung wird durch den auf die Haussteuereinheit 1 gerichteten Pfeil mit durchgezogener Linie symbolisiert. Nach dem Erhalt der Verbindungsaufforderung baut die Haussteuereinheit 1 eine gesicherte Tunnelverbindung zum zentralen Server 5 auf und authentifiziert sich gegenüber diesem (b.2.). Danach können in beide Richtungen Daten zwischen der Haussteuereinheit 1 und dem zentralen Server 5 übertragen beziehungsweise ausgetauscht werden (b.3.), so dass der Server 5, wie vorstehend beispielsweise angenommen, Befehle an die Haussteuereinheit 1 übermitteln kann. Um Ressourcen zu sparen, wird die zwischen der Haussteuereinheit 1 und dem zentralen Server 5 bestehende Tunnelverbindung dann vorzugsweise, insbesondere sofern über einen längeren Zeitraum hinweg über diese Verbindung keine Daten übertragen werden, beendet (b.4.). Letzteres ist jedoch nicht zwingend erforderlich.</p><p id="p0044" num="0044">Gemäß den mit c.1. bis c.3. bezeichneten Zuständen besteht zwischen der Haussteuereinheit 1 und dem zentralen Server 5 ebenfalls eine Tunnelverbindung, wobei deren Aufbau durch die Haussteuereinheit 1 selbst, das heißt ohne entsprechende Aufforderung durch den Server 5, initiiert wird (c.1.). Eine entsprechende Situation kann zum Beispiel gegeben sein, wenn in einer der mit der Haussteuereinheit 1 betriebenen Hauseinrichtungen 7, 8, 9 (siehe <figref idrefs="f0001">Fig. 1</figref>) ein Betriebszustand (ein Ereignis) auftritt, bei welchem die Haussteuereinheit 1 aufgrund einer dafür in ihr hinterlegten Regel eine entsprechende Mitteilung über den Eintritt dieses Betriebszustandes an den Server 5 überträgt. Auch hier kann nach dem Bestehen der Tunnelverbindung ein Datenaustausch zwischen der Haussteuereinheit 1 und dem zentralen Server 5 in beiden Richtungen erfolgen (c.2.). Ebenfalls wie zuvor wird die Tunnelverbindung bei länger bestehender Nichtaktivität (zwischen der Haussteuereinheit 1 und dem zentralen Server 5 werden keine Daten ausgetauscht) vorzugsweise wieder abgebaut. Gemäß d. besteht dann jedoch im Grunde die permanente TCP/IP-Verbindung zwischen der Haussteuereinheit 1 und dem Server 5 fort.<!-- EPO <DP n="25"> --></p><heading id="h0001">Verwendete Bezugszeichen</heading><p id="p0045" num="0045"><dl id="dl0002"><dt>1</dt><dd>Haussteuereinheit</dd><dt>1'</dt><dd>SSL-Client</dd><dt>2</dt><dd>lokales Netzwerk</dd><dt>3</dt><dd>Zugangseinrichtung, zum Beispiel Router</dd><dt>4</dt><dd>öffentliches Netz</dd><dt>5</dt><dd>zentraler Server</dd><dt>6</dt><dd>Datenbank</dd><dt>7, 8, 9</dt><dd>elektronische Hauseinrichtungen</dd><dt>10</dt><dd>UMTS-Modul</dd><dt>11</dt><dd>Logging Modul</dd><dt>12</dt><dd>computerbasierte Einrichtung</dd><dt>13</dt><dd>Semantikmodul</dd><dt>14</dt><dd>Sicherheitsgateway</dd><dt>15</dt><dd>PC oder Laptop</dd><dt>16</dt><dd>Fernseher</dd><dt>17</dt><dd>"Lebenslinie"</dd></dl></p></description><claims mxw-id="PCLM56976207" lang="DE" load-source="patent-office"><!-- EPO <DP n="26"> --><claim id="c-de-0001" num="0001"><claim-text>Verfahren zur dauerhaften Ermöglichung des externen Zugriffs auf eine in einem nichtöffentlichen, IP-basierten lokalen Netzwerk (2) angeordnete Haussteuereinheit (1) über einen nicht zu diesem Netzwerk (2) gehörenden, in einem IP-basierten öffentlichen Netz (4) angeordneten zentralen Server (5), wobei das lokale Netzwerk (2) über eine Zugangseinrichtung (3) mit dem öffentlichen Netz (4) verbunden ist, <b>dadurch gekennzeichnet, dass</b> die Haussteuereinheit (1) zyklisch über die Zugangseinrichtung (3) und die über diese zwischen dem lokalen Netzwerk (2) und dem öffentlichen Netz (4) bestehende oder im Falle einer Unterbrechung für diesen Zweck durch die Haussteuereinheit (1) wieder neu aufgebaute Verbindung eine Präsenznachricht an den Server (5) übermittelt, welche zumindest ein die Hausteuereinheit (1) eindeutig kennzeichnendes Identifikationsmerkmal enthält und dass durch die Haussteuereinheit (1) zur Übertragung von Statusinformationen und/oder zum Empfang von Befehlen eine Tunnelverbindung zu dem Server (5) aufgebaut wird, wobei die Haussteuereinheit (1) diese Tunnelverbindung auf Veranlassung durch den Server (5) aufbaut, über welchen unter einem auf dem Server (5) in Zuordnung zu dem betreffenden Identifikationsmerkmal der Haussteuereinheit (1) eingerichteten Nutzer-Account ein externer Zugriff auf die Haussteuereinheit (1) dadurch gegeben ist, dass der Server (5) über die im Zusammenhang mit dem Empfang der Präsenznachrichten bestehende Verbindung eine Verbindungsanforderung zum Aufbau der Tunnelverbindung an die Haussteuereinheit (1) überträgt.</claim-text></claim><claim id="c-de-0002" num="0002"><claim-text>Verfahren nach Anspruch 1, <b>dadurch gekennzeichnet, dass</b> die Übertragung der Präsenznachricht zwischen dem lokalen Netzwerk (2) und dem öffentlichen Netz (4) über eine leitungsgebundene Verbindung erfolgt.</claim-text></claim><claim id="c-de-0003" num="0003"><claim-text>Verfahren nach Anspruch 2, <b>dadurch gekennzeichnet, dass</b> im Falle einer Unterbrechung der leitungsgebundenen Verbindung und erfolgloser Versuche der Haussteuereinheit (1) zum Wiederaufbau einer für das Versenden von Präsenznachrichten<!-- EPO <DP n="27"> --> zur verwendenden leitungsgebundenen Verbindung durch die Haussteuereinheit (1) für das Versenden einer Präsenznachricht eine alternative Verbindung aufgebaut wird.</claim-text></claim><claim id="c-de-0004" num="0004"><claim-text>Verfahren nach Anspruch 3, <b>dadurch gekennzeichnet, dass</b> jeweils nach dem Versenden einer Präsenznachricht oder einer vorgegebenen Anzahl von Präsenznachrichten über die alternative Verbindung durch die Haussteuereinheit (1) für das Versenden der nächsten Präsenznachricht ein erneuter Versuch zum Aufbau einer Verbindung über den primär hierfür vorgesehenen leitungsgebundenen Verbindungsweg unternommen wird.</claim-text></claim><claim id="c-de-0005" num="0005"><claim-text>Verfahren nach Anspruch 3 oder 4, <b>dadurch gekennzeichnet, dass</b> als alternative Verbindung zum Versenden der Präsenznachricht eine UMTS-Verbindung oder eine andere zur Datenübertragung geeignete Funkverbindung aufgebaut wird.</claim-text></claim><claim id="c-de-0006" num="0006"><claim-text>Verfahren nach einem der Ansprüche 1 bis 5, <b>dadurch gekennzeichnet, dass</b> die zwischen der Haussteuereinheit (1) und dem Server (5) über die Tunnelverbindung ausgetauschten Daten zumindest während einer gegenseitigen Authentifizierungsphase unter Nutzung des SSL-Protokolls oder des TLS-Protokolls übertragen werden.</claim-text></claim><claim id="c-de-0007" num="0007"><claim-text>Verfahren nach Anspruch 1, <b>dadurch gekennzeichnet, dass</b> als Identifikationsmerkmal die MAC-Adresse der Haussteuereinheit (1) verwendet und über die zwischen dem lokalen Netzwerk (2) und dem öffentlichen Netz (4) über die Zugangseinrichtung (3) bestehende Verbindung an den zentralen Server (5) übertragen wird.</claim-text></claim><claim id="c-de-0008" num="0008"><claim-text>Verfahren nach Anspruch 1, <b>dadurch gekennzeichnet, dass</b> als Identifikationsmerkmal ein Identifikator verwendet wird, der auf einem in der Haussteuereinheit (1) angeordneten oder in sie einzufügenden Speichermodul abgelegt wird.<!-- EPO <DP n="28"> --></claim-text></claim><claim id="c-de-0009" num="0009"><claim-text>Verfahren nach einem der Ansprüche 1 bis 8, <b>dadurch gekennzeichnet, dass</b> über den zentralen Server (5) auch anderen nicht in das lokale Netzwerk (2) mit der Haussteuereinheit (1) eingebundenen computerbasierten Einrichtungen (12) der Zugriff auf die Haussteuereinheit (1) ermöglicht wird.</claim-text></claim><claim id="c-de-0010" num="0010"><claim-text>Anordnung mit einer in einem nichtöffentlichen IP-basierten lokalen Netzwerk (2) angeordneten, eine Verarbeitungseinrichtung aufweisenden Haussteuereinheit (1) und mit einem in einem IP-basierten öffentlichen Netz (4) angeordneten zentralen Server (5), wobei das lokale Netzwerk (2) über eine Zugangseinrichtung (3) mit dem öffentlichen Netz (4) verbunden ist und die Anordnung für einen, über den zentralen Server (5) auf die Haussteuereinheit (1) und an dieser betriebene elektronische Hauseinrichtungen (7, 8, 9) erfolgenden Zugriff eingerichtet ist, <b>dadurch gekennzeichnet, dass</b> die Haussteuereinheit (1) mit einer in einem Speicher gehaltenen und zumindest nach Einstellung eines entsprechenden Betriebsmodus von deren Verarbeitungseinrichtung verarbeiteten Programmanwendung ausgestattet ist, welche zyklisch eine Präsenznachricht mit einem die Hausteuereinheit (1) eindeutig kennzeichnenden Identifikationsmerkmal an den Server (5) übermittelt und nach dem Empfang einer entsprechenden Verbindungsanforderung des Servers (5) eine Tunnelverbindung zur Übertragung von Statusinformationen und/oder zum Empfang von Befehlen für die Haussteuereinheit zu dem Server (5) aufbaut.</claim-text></claim><claim id="c-de-0011" num="0011"><claim-text>Anordnung nach Anspruch 10 <b>dadurch gekennzeichnet, dass</b> die Haussteuereinheit (1) auf einem computerbasierten Endgerät virtualisiert ist.</claim-text></claim><claim id="c-de-0012" num="0012"><claim-text>Anordnung nach Anspruch 10, <b>dadurch gekennzeichnet, dass</b> der virtuellen Haussteuereinheit (1) in dem nichtöffentlichen lokalen Netzwerk (2) eine eigene IP-Adresse zugewiesen ist.</claim-text></claim><claim id="c-de-0013" num="0013"><claim-text>Anordnung nach einem der Ansprüche 10 bis 12, <b>dadurch gekennzeichnet, dass</b> in der Haussteuereinheit (1) ein Trusted Platform Module angeordnet ist, auf welchem das die Hausteuereinheit (1) eindeutig kennzeichnende und von<!-- EPO <DP n="29"> --> der die Präsenznachrichten versendenden Programmanwendung auslesbare Identifikationsmerkmal abgelegt ist.</claim-text></claim><claim id="c-de-0014" num="0014"><claim-text>Anordnung nach einem der Ansprüche 10 bis 13, <b>dadurch gekennzeichnet, dass</b> die Haussteuereinheit (1) ein durch die Programmanwendung für den Versand der Präsenznachrichten ansprechbares UMTS-Modul (10) aufweist.</claim-text></claim><claim id="c-de-0015" num="0015"><claim-text>Anordnung nach Anspruch 10 oder 11, <b>dadurch gekennzeichnet, dass</b> der zentrale Server (5) ein Logging Modul (11) aufweist oder ihm ein solches zugeordnet ist, in welchem von der Haussteuereinheit (1) übermittelte oder über sie abgefragte Statusdaten mit der Haussteuereinheit (1) betriebener Geräte (7, 8, 9) in Log-Dateien mit einem zeitlichen Vermerk ihrer Erfassung zumindest temporär speicherbar sind.</claim-text></claim></claims><drawings mxw-id="PDW16666989" load-source="patent-office"><!-- EPO <DP n="30"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="165" he="225" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="31"> --><figure id="f0002" num="2"><img id="if0002" file="imgf0002.tif" wi="141" he="183" img-content="drawing" img-format="tif"/></figure></drawings><search-report-data><doc-page id="srep0001" file="srep0001.tif" wi="160" he="233" type="tif"/><doc-page id="srep0002" file="srep0002.tif" wi="156" he="233" type="tif"/></search-report-data><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
