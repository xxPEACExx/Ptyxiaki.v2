<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2680196-A1" country="EP" doc-number="2680196" kind="A1" date="20140101" family-id="48699707" file-reference-id="252638" date-produced="20180824" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146549409" ucid="EP-2680196-A1"><document-id><country>EP</country><doc-number>2680196</doc-number><kind>A1</kind><date>20140101</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-13397515-A" is-representative="YES"><document-id mxw-id="PAPP154823332" load-source="docdb" format="epo"><country>EP</country><doc-number>13397515</doc-number><kind>A</kind><date>20130528</date><lang>EN</lang></document-id><document-id mxw-id="PAPP176648230" load-source="docdb" format="original"><country>EP</country><doc-number>13397515.1</doc-number><date>20130528</date></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140450003" ucid="US-201213534723-A" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>201213534723</doc-number><kind>A</kind><date>20120627</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1988119395" load-source="docdb">G06Q  10/06        20120101AFI20130912BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-2044367165" load-source="docdb" scheme="CPC">G06Q  10/06        20130101 FI20150625BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2044370801" load-source="docdb" scheme="CPC">G06F  17/30997     20130101 LI20150624BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2044375061" load-source="docdb" scheme="CPC">G06F  17/301       20130101 LI20150624BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132180711" lang="DE" load-source="patent-office">Verfahren zur Arbeitsablaufsteuerung</invention-title><invention-title mxw-id="PT132180712" lang="EN" load-source="patent-office">A method for controlling workflow</invention-title><invention-title mxw-id="PT132180713" lang="FR" load-source="patent-office">Procédé de commande de flux de travaux</invention-title><citations><patent-citations><patcit mxw-id="PCIT242652421" load-source="docdb" ucid="EP-2437199-A2"><document-id format="epo"><country>EP</country><doc-number>2437199</doc-number><kind>A2</kind><date>20120404</date></document-id><sources><source name="SEA" category="I" created-by-npl="N"/></sources></patcit></patent-citations><non-patent-citations><nplcit><text>ANONYMOUS: "Brochures and Technical Data", XP002712548, Retrieved from the Internet &lt;URL:/http://www.m-files.com/eng/res/M-FilesUsersGuide.pdf&gt; [retrieved on 20130902]</text><sources><source mxw-id="PNPL67455041" load-source="docdb" name="SEA"/></sources></nplcit><nplcit><text>ANONYMOUS: "M-Files User's Guide", 5 July 2011 (2011-07-05), pages i - 6, 208-218, XP002712189, Retrieved from the Internet &lt;URL:http://web.archive.org/web/20110705034710/http://www.m-files.com/eng/res/M-FilesUsersGuide.pdf&gt; [retrieved on 20130902]</text><sources><source mxw-id="PNPL67455042" load-source="docdb" name="SEA" category="XI"/></sources></nplcit><nplcit><text>None</text><sources><source mxw-id="PNPL45131054" load-source="docdb" name="APP"/></sources></nplcit><nplcit><text>SAMPPA LAHTINEN: "New Features and Enhancements in M-Files 8.0", 4 March 2012 (2012-03-04), pages 1, 40 - 42, XP002712190, Retrieved from the Internet &lt;URL:http://web.archive.org/liveweb/http://www.m-files.com/Content/documents/en/res/NewFeaturesM-Files8.pdf&gt; [retrieved on 20130902]</text><sources><source mxw-id="PNPL67455043" load-source="docdb" name="SEA" category="I"/></sources></nplcit></non-patent-citations></citations></technical-data><parties><applicants><applicant mxw-id="PPAR918162587" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>FILES OY M</last-name><address><country>FI</country></address></addressbook></applicant><applicant mxw-id="PPAR918163996" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>M-FILES OY</last-name></addressbook></applicant><applicant mxw-id="PPAR918989215" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>M-Files Oy</last-name><iid>101254039</iid><address><street>Hatanpään Valtatie 26</street><city>33100 Tampere</city><country>FI</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR918135765" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>NIVALA ANTTI</last-name><address><country>FI</country></address></addressbook></inventor><inventor mxw-id="PPAR918150389" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>Nivala, Antti</last-name></addressbook></inventor><inventor mxw-id="PPAR918982873" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Nivala, Antti</last-name><address><street>Isomäenkuja 3 J</street><city>33950 Pirkkala</city><country>FI</country></address></addressbook></inventor><inventor mxw-id="PPAR918150884" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>LAITKOTPI MARKKU</last-name><address><country>FI</country></address></addressbook></inventor><inventor mxw-id="PPAR918172331" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>LAITKOTPI, MARKKU</last-name></addressbook></inventor><inventor mxw-id="PPAR918980668" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>LAITKOTPI, MARKKU</last-name><address><street>Jussilankatu 1 A</street><city>33580 Tampere</city><country>FI</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR918983488" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Tampereen Patenttitoimisto Oy</last-name><iid>101351592</iid><address><street>Hermiankatu 1 B</street><city>33720 Tampere</city><country>FI</country></address></addressbook></agent></agents></parties><international-convention-data><designated-states><ep-contracting-states><country mxw-id="DS548803992" load-source="docdb">AL</country><country mxw-id="DS548840956" load-source="docdb">AT</country><country mxw-id="DS548803993" load-source="docdb">BE</country><country mxw-id="DS548891696" load-source="docdb">BG</country><country mxw-id="DS548804771" load-source="docdb">CH</country><country mxw-id="DS548879606" load-source="docdb">CY</country><country mxw-id="DS548879607" load-source="docdb">CZ</country><country mxw-id="DS548866822" load-source="docdb">DE</country><country mxw-id="DS548803998" load-source="docdb">DK</country><country mxw-id="DS548803999" load-source="docdb">EE</country><country mxw-id="DS548862153" load-source="docdb">ES</country><country mxw-id="DS548891697" load-source="docdb">FI</country><country mxw-id="DS548891698" load-source="docdb">FR</country><country mxw-id="DS548866823" load-source="docdb">GB</country><country mxw-id="DS548804000" load-source="docdb">GR</country><country mxw-id="DS548866824" load-source="docdb">HR</country><country mxw-id="DS548879608" load-source="docdb">HU</country><country mxw-id="DS548804772" load-source="docdb">IE</country><country mxw-id="DS548804001" load-source="docdb">IS</country><country mxw-id="DS548891699" load-source="docdb">IT</country><country mxw-id="DS548804010" load-source="docdb">LI</country><country mxw-id="DS548866825" load-source="docdb">LT</country><country mxw-id="DS548840957" load-source="docdb">LU</country><country mxw-id="DS548891700" load-source="docdb">LV</country><country mxw-id="DS548868514" load-source="docdb">MC</country><country mxw-id="DS548840958" load-source="docdb">MK</country><country mxw-id="DS548840959" load-source="docdb">MT</country><country mxw-id="DS548840960" load-source="docdb">NL</country><country mxw-id="DS548804773" load-source="docdb">NO</country><country mxw-id="DS548840961" load-source="docdb">PL</country><country mxw-id="DS548862154" load-source="docdb">PT</country><country mxw-id="DS548860198" load-source="docdb">RO</country><country mxw-id="DS548862155" load-source="docdb">RS</country><country mxw-id="DS548840962" load-source="docdb">SE</country><country mxw-id="DS548868516" load-source="docdb">SI</country><country mxw-id="DS548804774" load-source="docdb">SK</country><country mxw-id="DS548804775" load-source="docdb">SM</country><country mxw-id="DS548804011" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA128670078" lang="EN" load-source="patent-office"><p id="pa01" num="0001">The invention relates to a method for controlling state transition of an electronic object in a workflow. The method comprises receiving a request for a state transition for an electronic object from a user; determining the current state of the object from a metadata of the electronic object; determining the next state after the state transition from the request; determining one or more pseudo-users that are allowed to perform a state transition from the current state to the next state; retrieving at least one person identity by utilizing at least one property in a metadata of the electronic object, which person identity is retrieved from a value of a property corresponding to the determined one or more pseudo-users; comparing the identity of the requesting user to the retrieved person identity, and if they match; performing a state transition according to the request. The invention also relates to an apparatus and a computer program product.
<img id="iaf01" file="imgaf001.tif" wi="121" he="99" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA128499451" lang="EN" source="EPO" load-source="docdb"><p>The invention relates to a method for controlling state transition of an electronic object in a workflow. The method comprises receiving a request for a state transition for an electronic object from a user; determining the current state of the object from a metadata of the electronic object; determining the next state after the state transition from the request; determining one or more pseudo-users that are allowed to perform a state transition from the current state to the next state; retrieving at least one person identity by utilizing at least one property in a metadata of the electronic object, which person identity is retrieved from a value of a property corresponding to the determined one or more pseudo-users; comparing the identity of the requesting user to the retrieved person identity, and if they match; performing a state transition according to the request. The invention also relates to an apparatus and a computer program product.</p></abstract><description mxw-id="PDES63955508" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001"><u>Field of the Invention</u></heading><p id="p0001" num="0001">The present invention generally relates to workflows and in particular to state transitions of a workflow.</p><heading id="h0002"><u>Background of the Invention</u></heading><p id="p0002" num="0002">Enterprise Content Management (ECM) system refers to a system organizing and storing organization's electronic documents and other business-related objects and/or content. ECM system may comprise content management systems (CMS), document management systems (DMS) and data management systems. Such systems comprise various features for managing electronic documents, e.g. storing, versioning, indexing, searching for and retrieval of documents. It is appreciated that there are both dynamic and static content management systems. The difference between dynamic and static systems is the way they store files. In the static systems files are stored e.g. in a constant treelike hierarchy that defines relationships for folders and documents stored in the tree. In the dynamic systems the files may be given identifications that define their existence in the system. The location of the files is not constant, but may vary in a virtual space depending on the situation.</p><p id="p0003" num="0003">In the enterprise content management system, electronic objects, such as documents, proceed through a workflow having certain action states for the electronic object. The action states are appointed with certain users who have right to perform the action in question. The right can be given to individual user or a user group defined by a role. Such a role is determined at system-level so that when a user group is defined, also users belonging to such groups are statically defined.</p><heading id="h0003"><u>Summary of the Invention</u></heading><p id="p0004" num="0004">Now there has been invented an improved method and technical equipment implementing the method, by which workflows, and especially state<!-- EPO <DP n="2"> --> transitions, in an ECM system can be controlled in more delicate way. Various aspects of the invention include a method, an apparatus and a computer readable medium comprising a computer program stored therein, which are characterized by what is stated in the independent claims. Various embodiments of the invention are disclosed in the dependent claims.</p><p id="p0005" num="0005">According to a first aspect, the method for controlling state transition of an electronic object in a workflow, comprises receiving a request for a state transition for an electronic object from a user; determining the current state of the object from a metadata of the electronic object; determining the next state after the state transition from the request; determining one or more pseudo-users that are allowed to perform a state transition from the current state to the next state; retrieving at least one person identity by utilizing at least one property in a metadata of the electronic object, which person identity is retrieved from a value of a property corresponding to the determined one or more pseudo-users; comparing the identity of the requesting user to the retrieved person identity, and if they match; performing a state transition according to the request.</p><p id="p0006" num="0006">According to a second aspect, the apparatus for controlling state transition of an electronic object in a workflow, comprises a processor, memory including computer program code, the memory and the computer program code configured to, with the processor, cause the apparatus to perform at least the following: receiving a request for a state transition for an electronic object from a user; determining the current state of the object from a metadata of the electronic object; determining the next state after the state transition from the request; determining one or more pseudo-users that are allowed to perform a state transition from the current state to the next state; retrieving at least one person identity by utilizing at least one property in a metadata of the electronic object, which person identity is retrieved from a value of a property corresponding to the determined one or more pseudo-users; comparing the identity of the requesting user to the retrieved person identity, and if they match; performing a state transition according to the request.</p><p id="p0007" num="0007">According to a third aspect, the computer program product comprises a computer-readable medium bearing computer program code embodied<!-- EPO <DP n="3"> --> therein for use with a computer, wherein the computer program code comprises code for receiving a request for a state transition for an electronic object from a user; code for determining the current state of the object from a metadata of the electronic object; code for determining the next state after the state transition from the request; code for determining one or more pseudo-users that are allowed to perform a state transition from the current state to the next state; code for retrieving at least one person identity by utilizing at least one property in a metadata of the electronic object, which person identity is retrieved from a value of a property corresponding to the determined one or more pseudo-users; code for comparing the identity of the requesting user to the retrieved person identity, and if they match; code for performing a state transition according to the request.</p><p id="p0008" num="0008">According to an embodiment, one or more pseudo-users allowed to perform a state transition are determined from an access control list for the state transition.</p><p id="p0009" num="0009">According to an embodiment, at least one person identity is retrieved directly from at least one property of the electronic object, said at least one property being indicated by at least one determined pseudo-user.</p><p id="p0010" num="0010">According to an embodiment, said at least one property is used as a reference to another electronic object, wherein a property of said another electronic object, which property is indicated by at least one determined pseudo-user, defines said at least one person identity.</p><heading id="h0004"><u>Description of the Drawings</u></heading><p id="p0011" num="0011">In the following, various embodiments of the invention will be described in more detail with reference to the appended drawings, in which
<dl id="dl0001"><dt>Fig. 1</dt><dd>shows an example of a document management system;</dd><dt>Fig. 2</dt><dd>shows an example of a metadata structure for a document and for a project,<!-- EPO <DP n="4"> --></dd><dt>Fig. 3</dt><dd>shows an example of a user interface view for state-transition permissions; and</dd><dt>Fig. 4</dt><dd>shows an example of a user interface view for defining permissions for a certain state transition.</dd></dl></p><heading id="h0005"><u>Detailed Description of the Embodiments</u></heading><p id="p0012" num="0012">In the following, several embodiments of the invention will be described in the context of enterprise content management system. It is to be noted, however, that the invention is not limited to enterprise content management system. In fact, the different embodiments have applications widely in any environment in which workflows are used for tasks, electronic objects and/or documents.</p><p id="p0013" num="0013">In the present disclosure "workflow" relates to business process, but especially defines rules for delivering an electronic object, e.g. a document, from a state to another. The workflow can be considered, in this application, to define a life cycle for an electronic object. In related technology, term workflow usually relates to tasks being performed during the workflow, wherein the state transitions are made according to the states and/or tasks. Various users are identified and given rights to perform a state transition.</p><p id="p0014" num="0014">An example of an electronic content management (ECM) system is shown in <figref idrefs="f0001">Figure 1</figref> in a simplified manner. The ECM system comprises at least one server 100 for storing electronic objects such as documents. One or more client devices 101, 102, 103 can access said at least one server 100 in order to work with the stored electronic objects. In Figure's 1 example, the client device 101 retrieves a document D1, whereas the client device 103 stores a document D2 to the server 100.</p><p id="p0015" num="0015">The ECM system makes it possible to generate electronic workflows for electronic objects (such as documents) according to business process(es). There can be several workflows relating to one document, and each workflow may comprise various states (i.e. working status) that relate to certain actions of an electronic object (e.g. document). The electronic object can be processed by a person to whom the electronic object is assigned via the<!-- EPO <DP n="5"> --> workflow state. Such a person can make a state transition to a next state after s/he has finished working with the electronic object.</p><p id="p0016" num="0016">A document may have workflows for defining different processes for the document. The workflow comprises states for defining the state where the document is in the workflow in question. As an example, the workflow is "Processing incoming mail". Relating to workflow "Processing incoming mail", the states can be "New message arrived", "Message assigned to assistant", "Message returned to sender", "Message processed". Workflows are controlled by rules that define persons being allowed to perform a state transition for an electronic object.</p><p id="p0017" num="0017">In the following example, workflow "Operating Procedure Approval" comprises states
<ol><li>1. Draft</li><li>2. Waiting for content approval</li><li>3. Content approved</li><li>4. Authorized for use</li><li>5. Retired</li></ol></p><p id="p0018" num="0018">Please note that the numbers in the previous example are only reference numbers that are utilized in the following description of the embodiment.</p><p id="p0019" num="0019">When an electronic object (e.g. a document) is transferred from a state "Draft" to a state "Waiting for content approval", the state transition is defined as 1→2. It is appreciated that a state transition 2→1 is a different state transition, as well as 1→3, 1→4 etc. are also different state transitions.</p><p id="p0020" num="0020">One of the functionalities of a document management system is to control who can perform a state transition for an electronic object, and which state transition is permitted for that person. The controlling can be based on an access control list (ACL) that is defined for each state transition, which access control list defines users who can perform the state transition.</p><p id="p0021" num="0021">Traditionally an access control entry (ACE) in the access control list of a state transition defines the rights statically by a notation &lt;user or user<!-- EPO <DP n="6"> --> group&gt;&lt;allowed/denied&gt;. Below is an example of the traditional way for defining rights for a state transition:
<ul><li>ACL for state transition 1→2:
<ul><li>John: Allowed</li><li>Mike: Denied</li><li>Managers: Allowed</li></ul></li></ul></p><p id="p0022" num="0022">In this example, John and any user belonging to group "Managers" are given permission to perform the state transition 1→2, whereas Mike is denied. In addition, any user not specified in the access control list is implicitly not allowed to perform the state transition.</p><p id="p0023" num="0023">The permission can also be defined with an implicit allowance flag, whereby an "allow"/"deny" option needs not to be used. In such a simplified approach, if a user is specified in the access control list, then such a user has the right to perform a state transition, and if a user is not specified in the access control list, then such a user does not have a right to perform a state transition.</p><p id="p0024" num="0024">"Managers" is a user group ("a role") that has been statically defined in the system. In order to utilize such a user group in the ACL for a state transition, it also needs to be defined who belongs to such a group, for example:
<ul><li>Managers:
<ul><li>Susan</li><li>Peter</li><li>Tom</li></ul></li></ul></p><p id="p0025" num="0025">A user group may also include other user groups as its members (nested groups).</p><p id="p0026" num="0026">Now, the right to perform the state transition 1→2 is statically appointed to Susan, Peter and Tom according to the access control entry for Managers in "ACL for state transition 1→2". Considering all the access control entries in "ACL for state transition 1→2", the users "John", "Susan", "Peter" and "Tom"<!-- EPO <DP n="7"> --> can perform state transition 1→2 for any object in a system having a state "1", whereas other users cannot.</p><p id="p0027" num="0027">Many systems of the related technology use the term "role" to describe a method of identifying a set of users. For example, user "Susan" may be assigned the role "Manager". It is appreciated that this is merely another point of view of how user groups are formed, since all users who have been assigned the role "Manager" can be seen to implicitly form the user group "Managers". Thus, the terms "user group" and "role" can often be used interchangeably.</p><p id="p0028" num="0028">Some of the traditional systems define access control entries on the basis or "users" and "user groups", while some other systems refer to "users" and "roles". It is to be noted that both of these essentially similar methods, i.e., the definition for "roles" for users and the definition of "user groups" with member users, are system-wide or workflow-wide by their nature. As a result, the approach of specifying "users" and "roles" in access control lists, which is well known in the art, does not provide enough flexibility and fine-grained control for controlling the rights for performing a specific state transition for a specific document or electronic object in a workflow, because the traditional approach does not utilize the direct and/or indirect metadata of the electronic object.</p><p id="p0029" num="0029">For example, the traditional methods for controlling state-transition permissions may enable defining that users with the role "Approver" can move an electronic object to the state "Approved". However, since the users having the "Approver" role are defined on the system level or on the workflow level, the traditional method does not provide means to determine the right for performing a specific state transition such as 1→2 in a dynamic manner.</p><p id="p0030" num="0030">In the present solution, the definition for ACL for state transition is diversified to take into account - not only the ACL for state transition - but also by utilizing the direct and/or indirect metadata of the electronic object, e.g., by determining the [Document].[ContentApprover] user from the electronic document's direct metadata, or the [Document].[Project].[ProjectManager] user from the electronic document's indirect metadata.<!-- EPO <DP n="8"> --></p><p id="p0031" num="0031">The electronic objects comprise metadata (i.e. data about the data), wherein the metadata refers to information on a document's properties. A creator of a file, a creation date, a project, a responsible are examples of properties of an electronic object. Metadata is composed of two parts - a definition part and a content part. The definition part defines generally the type of property; client, project, customer, creator, date, etc. The content part on the other hand specifies the value of the metadata, i.e. which client ("Earth Image Ltd"), which project ("The World"), which customer ("PhotoShoot Inc.") which creator ("Martha Stellina"), which date ("20120601"). For further example, specified values for a creator of the file or a creation date represent content of the metadata. In addition, a project which the document belongs to; a client who owns the document; a type of the document (letter, assignment, publication, order etc.); name of the document are examples of the properties of the metadata. Despite the plural form of metadata, in this disclosure, the term metadata may also refer to a singular form. Therefore, an object being defined by "metadata" may in practice be defined by one or more pieces of metadata. In the present disclosure, term "property - properties" is used as a synonym for metadata.</p><p id="p0032" num="0032">Direct metadata is a list on properties that define the electronic object directly. Direct metadata is therefore the properties of the object. Indirect metadata is a list of properties for a property of the electronic object. Therefore, indirect metadata does not define the electronic object, but the property of the electronic object. The indirect metadata is thus reachable via object's property. <figref idrefs="f0002">Figure 2</figref> illustrates examples of metadata structures 200, 210. A document's metadata structure 200 comprises properties such as "name", "creator", "created", "project", "state", "content approver", "sent", and "last modified". A project's metadata structure 210 comprises properties such as "manager", "created", "participant", "state", "HR" and "last modified". Document's properties listed in structure 200 are document's direct metadata. Project's properties listed in structure 210 are project's direct metadata. However, project's properties listed in structure 210 are document's <i>indirect</i> metadata. This is because the document "contract.doc" has a property "Project" having a value "Web site testing" which refers to a project object "Web site testing" having its own properties.<!-- EPO <DP n="9"> --></p><p id="p0033" num="0033">For defining an ACL for state transition 2→3 of a workflow according to an embodiment of the present solution, the notation can be the following:
<ul><li>[Document].[ContentApprover]: Allowed</li></ul></p><p id="p0034" num="0034">Such a notation does not give system-wide permission to users of a group "Content Approvers", but the definition dynamically takes into account the document's (or electronic object's) metadata, which document (or electronic object) is in the workflow.</p><p id="p0035" num="0035">Now, if the document has a property "ContentApprover", the value of which is "Susan", the ACL for state transition 2→3 defining "[Document].[ContentApprover]: Allowed" will be interpreted as a definition "Susan: Allowed". Therefore user "Susan" can make the state transition 2→3 for this document. However, user "Susan" cannot necessarily make state transition 2→3 for other documents, if those documents have a different value than "Susan" in document's "ContentApprover" property.</p><p id="p0036" num="0036">The previous was an example of utilizing direct metadata for defining rights to perform a state transition. In the following, an example of using indirect metadata for the same purpose will be described.</p><p id="p0037" num="0037">For defining an ACL for a state transition 2→3 of a workflow according to another embodiment of the solution, the notation can be the following:
<ul><li>[Document].[Project].[ProjectManager]: Allowed</li></ul></p><p id="p0038" num="0038">In this notation, there is one level ("Project") of indirectness. However, there can be more than one level of indirectness via which the specified user can be reached.</p><p id="p0039" num="0039">The indirect notation gives rights to perform a state transition 2→3 for a document to a user that has been defined in the property "ProjectManager" of certain project's metadata, which project is defined in the "Project" property in the metadata of the document in question.<!-- EPO <DP n="10"> --></p><p id="p0040" num="0040">Another example of the use of indirect metadata for defining rights for state transition is described next. A document "Instructions" goes through a workflow so that at first it is assigned to state "Content approved" and after that it is assigned to state "Authorized for use".</p><p id="p0041" num="0041">An ACL for a state transition "Waiting for content approval → Content approved" defines "[Document].[ContentApprover]: Allowed". Therefore a user that has been defined as the value of "ContentApprover" property for the document can perform the state transition from a state "Waiting for content approval" to "Content approved".</p><p id="p0042" num="0042">An ACL for a state transition "Content approved → Authorized for use" defines "[Document].[ContentApprover].[Supervisor]: Allowed". By this, a supervisor of the "ContentApprover" may perform the state transition from "Content approved" to "Authorized for use". The value for the "Supervisor" can be retrieved from metadata of the person being defined in document's "ContentApprover" property.</p><p id="p0043" num="0043">The permissions for state transitions can be defined as illustrated in a user interface view shown in <figref idrefs="f0003">Fig. 3</figref>. The state-transition permission view 300 may list all the states from which the transition may be performed and all the states to which the transition may be targeted 302, and who is allowed to perform such a transition. By ticking a state transition option and selecting a button "Permissions" 305, the user may define the permissions to perform the selected state transition. Other means of displaying the state transitions can be used as well. For example, a visual diagram of all states may be displayed, and connectors or other indicators between the states in the diagram may represent state transitions between the states, and the user may define the permissions for each relevant state transition.</p><p id="p0044" num="0044">A user interface view 400 shown in <figref idrefs="f0004">Figure 4</figref> allows a user to define permissions for the selected state transition (being selected from a user interface shown in <figref idrefs="f0003">Fig. 3</figref>). In this example, the state transition is from "2. Waiting for content approval" to "3. Content approved". It is appreciated that in this example, rights for performing the state transition have been appointed<!-- EPO <DP n="11"> --> in three different ways: directly to a group "Managers" 405, directly to a user "Bill Henkel" 407 and to a user who is defined as a "ContentApprover" in document's metadata 409.</p><p id="p0045" num="0045">It is appreciated that nearly any property in the metadata of the electronic object may have more than one value. This means that a property "Content approver" may define one or more users ("Susan" or "Susan", "Peter") as content approvers, one or more user groups ("Project ABS Team Members") or any combination of them ("Susan", "Peter", "Project ABS Team Members"). Therefore also the permission to perform a state transition will be appointed to one or more users, one or more user groups or any combination of those, depending on the value(s) of the property "ContentApprover".</p><p id="p0046" num="0046">In the previous embodiments, the permitted users are defined as dynamic (i.e. metadata based) roles of the document management system, the true character of which is defined from a direct or indirect metadata of the electronic object. Such a role without a defined person is called as a pseudo-user. An example of notation for defining a pseudo-user based on direct metadata is "[Document].[ContentApprover]". In addition, an example of notation for defining a pseudo-user based on indirect metadata is "[Document].[Project].[ProjectManager]". Often the pseudo-users are defined based on metadata of electronic objects. However, in some situations, the pseudo-users can be defined as a user who has performed a certain state transition. In such a case the pseudo-user definition may be "User who moved this object to state X", where X stands for a name of a state. This can be utilized in such a manner that a permission to perform state transition "Approved→Approval Revoked" is given to only such user who made the state transition to a state "Approved" for the particular electronic object.</p><p id="p0047" num="0047">The present embodiments are yet described by means of an example, where an invoice is a document that goes through the workflow. The metadata of the invoice comprises properties for "Reviewer" and "Cost unit". A state transition from "Waiting for reviewing" to "Reviewed" can be performed by a pseudo-user "Reviewer", the value of which can be obtained from the metadata of the invoice. A permission to perform the next state transition from "Reviewed" to "Accepted for paying" is indirectly defined by<!-- EPO <DP n="12"> --> "[Document].[Cost unit].[Director]: Allowed", which give rights for the cost unit director, which is a property of the cost unit. Depending on which cost unit is defined to be the cost unit of the invoice, the state transition to "Accepted for paying" can be performed by such a director.</p><p id="p0048" num="0048">In the previous embodiments the workflow state transition can be performed by a user that is defined through direct or indirect metadata. In a traditional example the permission to perform a state transition is defined by an ACL for a state transition, defining e.g. "Carl Hillberg: Allowed" and/or "Managers: Allowed". In the present embodiments the permission can be defined by an ACL for a state transition, defining "[Document].[Responsible]: Allowed" or "[Document].[Project].[Cost unit].[Admin]: Allowed" wherein the metadata of the document (or electronic object) defines the value for the permitted user.</p><p id="p0049" num="0049">The present embodiments enable using pseudo-users as permitted users for performing the state transition for a workflow. Pseudo-user is a user that is defined according to metadata/properties. Pseudo-user defines a role of a user, e.g., "Creator", "Postmaster", "Assistant", "Responsible" - instead of person identities, and the identities for the pseudo-users are obtained from the metadata of a document in question. The term "pseudo-user" is an attribute that refers to a metadata item (i.e. property) representing a user or a user group. This attribute is called "pseudo-user" as long as the user item lacks a value.</p><p id="p0050" num="0050">As said, the present embodiments give rights to pseudo-users to perform state transition. It is appreciated that Delete/Read/Write/Access rights for a document are directly appointed to the document. However, in the present embodiments a right to perform a state transition represents different point of view. The right to perform a state transition is targeted directly to the workflow instead of the document. A certain state transition can be performed by different users depending on the document and its metadata.</p><p id="p0051" num="0051">The various embodiments of the invention can be implemented with the help of computer program code that resides in a memory and causes the relevant apparatuses to carry out the invention. For example, a client device may comprise circuitry and electronics for handling, receiving and transmitting<!-- EPO <DP n="13"> --> data, computer program code in a memory, and a processor that, when running the computer program code, causes the client device to carry out the features of an embodiment. Yet further, a server device may comprise circuitry and electronics for handling, receiving and transmitting data, computer program code in a memory, and a processor that, when running the computer program code, causes the server device to carry out the features of an embodiment.</p><p id="p0052" num="0052">It is obvious that the present invention is not limited solely to the above-presented embodiments, which are given for understanding purposes, but it can be modified within the scope of the appended claims.</p></description><claims mxw-id="PCLM56976426" lang="EN" load-source="patent-office"><!-- EPO <DP n="14"> --><claim id="c-en-0001" num="0001"><claim-text>A method for controlling state transition of an electronic object in a workflow, comprising:
<claim-text>- receiving a request for a state transition for an electronic object from a user;</claim-text>
<claim-text>- determining the current state of the object from a metadata of the electronic object;</claim-text>
<claim-text>- determining the next state after the state transition from the request;</claim-text>
<claim-text>- determining one or more pseudo-users that are allowed to perform a state transition from the current state to the next state;</claim-text>
<claim-text>- retrieving at least one person identity by utilizing at least one property in a metadata of the electronic object, which person identity is retrieved from a value of a property corresponding to the determined one or more pseudo-users;</claim-text>
<claim-text>- comparing the identity of the requesting user to the retrieved person identity, and if they match; and</claim-text>
<claim-text>- performing a state transition according to the request.</claim-text></claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>A method according to claim 1, further comprising:
<claim-text>- determining one or more pseudo-users allowed to perform a state transition from an access control list for the state transition.</claim-text></claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>A method according to claim 1, further comprising:
<claim-text>- retrieving at least one person identity directly from at least one property of the electronic object, said at least one property being indicated by at least one determined pseudo-user.</claim-text></claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>A method according to claim 1, further comprising
<claim-text>- using said at least one property as a reference to another electronic object, wherein a property of said another electronic object, which property is indicated by at least one determined pseudo-user, defines said at least one person identity.</claim-text><!-- EPO <DP n="15"> --></claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>An apparatus for controlling state transition of an electronic object in a workflow, said apparatus comprising a processor, memory including computer program code, the memory and the computer program code configured to, with the processor, cause the apparatus to perform at least the following:
<claim-text>- receiving a request for a state transition for an electronic object from a user;</claim-text>
<claim-text>- determining the current state of the object from a metadata of the electronic object;</claim-text>
<claim-text>- determining the next state after the state transition from the request;</claim-text>
<claim-text>- determining one or more pseudo-users that are allowed to perform a state transition from the current state to the next state;</claim-text>
<claim-text>- retrieving at least one person identity by utilizing at least one property in a metadata of the electronic object, which person identity is retrieved from a value of a property corresponding to the determined one or more pseudo-users;</claim-text>
<claim-text>- comparing the identity of the requesting user to the retrieved person identity, and if they match; and</claim-text>
<claim-text>- performing a state transition according to the request.</claim-text></claim-text></claim><claim id="c-en-0006" num="0006"><claim-text>An apparatus according to claim 5, further comprising computer program code configured to, with the processor, cause the apparatus to perform at least the following:
<claim-text>- determining one or more pseudo-users allowed to perform a state transition from an access control list for the state transition.</claim-text></claim-text></claim><claim id="c-en-0007" num="0007"><claim-text>An apparatus according to claim 5, further comprising computer program code configured to, with the processor, cause the apparatus to perform at least the following:
<claim-text>- retrieving at least one person identity directly from at least one property of the electronic object, said at least one property being indicated by at least one determined pseudo-user.</claim-text><!-- EPO <DP n="16"> --></claim-text></claim><claim id="c-en-0008" num="0008"><claim-text>An apparatus according to claim 5, further comprising computer program code configured to, with the processor, cause the apparatus to perform at least the following:
<claim-text>- using said at least one property as a reference to another electronic object, wherein a property of said another electronic object, which property is indicated by at least one determined pseudo-user, defines said at least one person identity.</claim-text></claim-text></claim><claim id="c-en-0009" num="0009"><claim-text>A computer program product comprising a computer-readable medium bearing computer program code embodied therein for use with a computer, the computer program code comprising:
<claim-text>- code for receiving a request for a state transition for an electronic object from a user;</claim-text>
<claim-text>- code for determining the current state of the object from a metadata of the electronic object;</claim-text>
<claim-text>- code for determining the next state after the state transition from the request;</claim-text>
<claim-text>- code for determining one or more pseudo-users that are allowed to perform a state transition from the current state to the next state;</claim-text>
<claim-text>- code for retrieving at least one person identity by utilizing at least one property in a metadata of the electronic object, which person identity is retrieved from a value of a property corresponding to the determined one or more pseudo-users;</claim-text>
<claim-text>- code for comparing the identity of the requesting user to the retrieved person identity, and if they match; and</claim-text>
<claim-text>- code for performing a state transition according to the request.</claim-text></claim-text></claim></claims><drawings mxw-id="PDW16667206" load-source="patent-office"><!-- EPO <DP n="17"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="161" he="209" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="18"> --><figure id="f0002" num="2"><img id="if0002" file="imgf0002.tif" wi="158" he="206" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="19"> --><figure id="f0003" num="3"><img id="if0003" file="imgf0003.tif" wi="165" he="207" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="20"> --><figure id="f0004" num="4"><img id="if0004" file="imgf0004.tif" wi="165" he="202" img-content="drawing" img-format="tif"/></figure></drawings><search-report-data><doc-page id="srep0001" file="srep0001.tif" wi="160" he="233" type="tif"/><doc-page id="srep0002" file="srep0002.tif" wi="159" he="233" type="tif"/><doc-page id="srep0003" file="srep0003.tif" wi="160" he="233" type="tif"/></search-report-data><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
